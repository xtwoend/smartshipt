var _g=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{b as bootstrap,T as Tooltip,M as Modal}from"./tabler.esm-a5c5f87a.js";import"./popper-528ebbd5.js";var bg=_g((exports,module)=>{var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var i=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var o=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(i,a,o.get?o:{enumerable:!0,get:function(){return e[a]}})}),i}var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(e,t){(function(){var i,a="4.17.21",o=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",d="Expected a function",n="Invalid `variable` option passed into `_.template`",k="__lodash_hash_undefined__",j=500,Z="__lodash_placeholder__",z=1,H=2,Y=4,I=1,B=2,U=1,T=2,C=4,P=8,G=16,q=32,N=64,ne=128,K=256,L=512,E=30,w="...",g=800,A=16,m=1,y=2,x=3,M=1/0,X=9007199254740991,re=17976931348623157e292,ee=0/0,he=4294967295,ye=he-1,Ce=he>>>1,oe=[["ary",ne],["bind",U],["bindKey",T],["curry",P],["curryRight",G],["flip",L],["partial",q],["partialRight",N],["rearg",K]],de="[object Arguments]",fe="[object Array]",ue="[object AsyncFunction]",pe="[object Boolean]",te="[object Date]",ge="[object DOMException]",xe="[object Error]",ce="[object Function]",we="[object GeneratorFunction]",Ae="[object Map]",Fe="[object Number]",De="[object Null]",Ge="[object Object]",ct="[object Promise]",ot="[object Proxy]",Qe="[object RegExp]",Ie="[object Set]",Ue="[object String]",He="[object Symbol]",it="[object Undefined]",Je="[object WeakMap]",st="[object WeakSet]",ht="[object ArrayBuffer]",Ke="[object DataView]",At="[object Float32Array]",Et="[object Float64Array]",Wt="[object Int8Array]",fi="[object Int16Array]",ei="[object Int32Array]",hi="[object Uint8Array]",vi="[object Uint8ClampedArray]",zi="[object Uint16Array]",Ji="[object Uint32Array]",cr=/\b__p \+= '';/g,Yr=/\b(__p \+=) '' \+/g,Cr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,jr=/&(?:amp|lt|gt|quot|#39);/g,or=/[&<>"']/g,Sn=RegExp(jr.source),Nn=RegExp(or.source),fn=/<%-([\s\S]+?)%>/g,Oa=/<%([\s\S]+?)%>/g,Ln=/<%=([\s\S]+?)%>/g,Ba=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,go=/^\w*$/,wt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,We=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(We.source),St=/^\s+/,It=/\s/,Tt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Zt=/\{\n\/\* \[wrapped with (.+)\] \*/,Lt=/,? & /,Bt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ze=/[()=,{}\[\]\/\s]/,Vt=/\\(\\)?/g,ri=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ti=/\w*$/,er=/^[-+]0x[0-9a-f]+$/i,oi=/^0b[01]+$/i,Ki=/^\[object .+?Constructor\]$/,si=/^0o[0-7]+$/i,gr=/^(?:0|[1-9]\d*)$/,Vi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,nr=/($^)/,Ur=/['\n\r\u2028\u2029\\]/g,Rr="\\ud800-\\udfff",zn="\\u0300-\\u036f",fa="\\ufe20-\\ufe2f",In="\\u20d0-\\u20ff",ki=zn+fa+In,an="\\u2700-\\u27bf",ta="a-z\\xdf-\\xf6\\xf8-\\xff",ia="\\xac\\xb1\\xd7\\xf7",qo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ca="\\u2000-\\u206f",Wo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Do="A-Z\\xc0-\\xd6\\xd8-\\xde",ra="\\ufe0e\\ufe0f",ir=ia+qo+Ca+Wo,qr="['’]",tn="["+Rr+"]",Fa="["+ir+"]",wo="["+ki+"]",Tr="\\d+",Lo="["+an+"]",io="["+ta+"]",So="[^"+Rr+ir+Tr+an+ta+Do+"]",ua="\\ud83c[\\udffb-\\udfff]",An="(?:"+wo+"|"+ua+")",Aa="[^"+Rr+"]",Ra="(?:\\ud83c[\\udde6-\\uddff]){2}",Yo="[\\ud800-\\udbff][\\udc00-\\udfff]",ro="["+Do+"]",Xo="\\u200d",Zo="(?:"+io+"|"+So+")",Bo="(?:"+ro+"|"+So+")",Fo="(?:"+qr+"(?:d|ll|m|re|s|t|ve))?",As="(?:"+qr+"(?:D|LL|M|RE|S|T|VE))?",Ko=An+"?",pa="["+ra+"]?",Hn="(?:"+Xo+"(?:"+[Aa,Ra,Yo].join("|")+")"+pa+Ko+")*",ko="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",no="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",na=pa+Ko+Hn,ma="(?:"+[Lo,Ra,Yo].join("|")+")"+na,Ks="(?:"+[Aa+wo+"?",wo,Ra,Yo,tn].join("|")+")",Js=RegExp(qr,"g"),$n=RegExp(wo,"g"),Jo=RegExp(ua+"(?="+ua+")|"+Ks+na,"g"),Qs=RegExp([ro+"?"+io+"+"+Fo+"(?="+[Fa,ro,"$"].join("|")+")",Bo+"+"+As+"(?="+[Fa,ro+Zo,"$"].join("|")+")",ro+"?"+Zo+"+"+Fo,ro+"+"+As,no,ko,Tr,ma].join("|"),"g"),Ao=RegExp("["+Xo+Rr+ki+ra+"]"),ga=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],el=-1,vn={};vn[At]=vn[Et]=vn[Wt]=vn[fi]=vn[ei]=vn[hi]=vn[vi]=vn[zi]=vn[Ji]=!0,vn[de]=vn[fe]=vn[ht]=vn[pe]=vn[Ke]=vn[te]=vn[xe]=vn[ce]=vn[Ae]=vn[Fe]=vn[Ge]=vn[Qe]=vn[Ie]=vn[Ue]=vn[Je]=!1;var un={};un[de]=un[fe]=un[ht]=un[Ke]=un[pe]=un[te]=un[At]=un[Et]=un[Wt]=un[fi]=un[ei]=un[Ae]=un[Fe]=un[Ge]=un[Qe]=un[Ie]=un[Ue]=un[He]=un[hi]=un[vi]=un[zi]=un[Ji]=!0,un[xe]=un[ce]=un[Je]=!1;var Cs={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},es={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ga={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Es=parseFloat,fs=parseInt,ts=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,Ha=typeof self=="object"&&self&&self.Object===Object&&self,sa=ts||Ha||Function("return this")(),se=t&&!t.nodeType&&t,be=se&&!0&&e&&!e.nodeType&&e,Pe=be&&be.exports===se,Be=Pe&&ts.process,Xe=function(){try{var Xt=be&&be.require&&be.require("util").types;return Xt||Be&&Be.binding&&Be.binding("util")}catch{}}(),tt=Xe&&Xe.isArrayBuffer,ut=Xe&&Xe.isDate,Yt=Xe&&Xe.isMap,Ft=Xe&&Xe.isRegExp,ci=Xe&&Xe.isSet,Ii=Xe&&Xe.isTypedArray;function Li(Xt,Ei,mi){switch(mi.length){case 0:return Xt.call(Ei);case 1:return Xt.call(Ei,mi[0]);case 2:return Xt.call(Ei,mi[0],mi[1]);case 3:return Xt.call(Ei,mi[0],mi[1],mi[2])}return Xt.apply(Ei,mi)}function xi(Xt,Ei,mi,ar){for(var Fr=-1,hn=Xt==null?0:Xt.length;++Fr<hn;){var On=Xt[Fr];Ei(ar,On,mi(On),Xt)}return ar}function Pi(Xt,Ei){for(var mi=-1,ar=Xt==null?0:Xt.length;++mi<ar&&Ei(Xt[mi],mi,Xt)!==!1;);return Xt}function rr(Xt,Ei){for(var mi=Xt==null?0:Xt.length;mi--&&Ei(Xt[mi],mi,Xt)!==!1;);return Xt}function Hr(Xt,Ei){for(var mi=-1,ar=Xt==null?0:Xt.length;++mi<ar;)if(!Ei(Xt[mi],mi,Xt))return!1;return!0}function yr(Xt,Ei){for(var mi=-1,ar=Xt==null?0:Xt.length,Fr=0,hn=[];++mi<ar;){var On=Xt[mi];Ei(On,mi,Xt)&&(hn[Fr++]=On)}return hn}function Vn(Xt,Ei){var mi=Xt==null?0:Xt.length;return!!mi&&$r(Xt,Ei,0)>-1}function Cn(Xt,Ei,mi){for(var ar=-1,Fr=Xt==null?0:Xt.length;++ar<Fr;)if(mi(Ei,Xt[ar]))return!0;return!1}function rn(Xt,Ei){for(var mi=-1,ar=Xt==null?0:Xt.length,Fr=Array(ar);++mi<ar;)Fr[mi]=Ei(Xt[mi],mi,Xt);return Fr}function sn(Xt,Ei){for(var mi=-1,ar=Ei.length,Fr=Xt.length;++mi<ar;)Xt[Fr+mi]=Ei[mi];return Xt}function Br(Xt,Ei,mi,ar){var Fr=-1,hn=Xt==null?0:Xt.length;for(ar&&hn&&(mi=Xt[++Fr]);++Fr<hn;)mi=Ei(mi,Xt[Fr],Fr,Xt);return mi}function ya(Xt,Ei,mi,ar){var Fr=Xt==null?0:Xt.length;for(ar&&Fr&&(mi=Xt[--Fr]);Fr--;)mi=Ei(mi,Xt[Fr],Fr,Xt);return mi}function ln(Xt,Ei){for(var mi=-1,ar=Xt==null?0:Xt.length;++mi<ar;)if(Ei(Xt[mi],mi,Xt))return!0;return!1}var En=xa("length");function Co(Xt){return Xt.split("")}function yo(Xt){return Xt.match(Bt)||[]}function va(Xt,Ei,mi){var ar;return mi(Xt,function(Fr,hn,On){if(Ei(Fr,hn,On))return ar=hn,!1}),ar}function Da(Xt,Ei,mi,ar){for(var Fr=Xt.length,hn=mi+(ar?1:-1);ar?hn--:++hn<Fr;)if(Ei(Xt[hn],hn,Xt))return hn;return-1}function $r(Xt,Ei,mi){return Ei===Ei?zo(Xt,Ei,mi):Da(Xt,qa,mi)}function ba(Xt,Ei,mi,ar){for(var Fr=mi-1,hn=Xt.length;++Fr<hn;)if(ar(Xt[Fr],Ei))return Fr;return-1}function qa(Xt){return Xt!==Xt}function qn(Xt,Ei){var mi=Xt==null?0:Xt.length;return mi?cn(Xt,Ei)/mi:ee}function xa(Xt){return function(Ei){return Ei==null?i:Ei[Xt]}}function ao(Xt){return function(Ei){return Xt==null?i:Xt[Ei]}}function oo(Xt,Ei,mi,ar,Fr){return Fr(Xt,function(hn,On,Xr){mi=ar?(ar=!1,hn):Ei(mi,hn,On,Xr)}),mi}function js(Xt,Ei){var mi=Xt.length;for(Xt.sort(Ei);mi--;)Xt[mi]=Xt[mi].value;return Xt}function cn(Xt,Ei){for(var mi,ar=-1,Fr=Xt.length;++ar<Fr;){var hn=Ei(Xt[ar]);hn!==i&&(mi=mi===i?hn:mi+hn)}return mi}function uo(Xt,Ei){for(var mi=-1,ar=Array(Xt);++mi<Xt;)ar[mi]=Ei(mi);return ar}function Us(Xt,Ei){return rn(Ei,function(mi){return[mi,Xt[mi]]})}function ps(Xt){return Xt&&Xt.slice(0,dt(Xt)+1).replace(St,"")}function Na(Xt){return function(Ei){return Xt(Ei)}}function is(Xt,Ei){return rn(Ei,function(mi){return Xt[mi]})}function No(Xt,Ei){return Xt.has(Ei)}function Ts(Xt,Ei){for(var mi=-1,ar=Xt.length;++mi<ar&&$r(Ei,Xt[mi],0)>-1;);return mi}function Eo(Xt,Ei){for(var mi=Xt.length;mi--&&$r(Ei,Xt[mi],0)>-1;);return mi}function ms(Xt,Ei){for(var mi=Xt.length,ar=0;mi--;)Xt[mi]===Ei&&++ar;return ar}var $s=ao(Cs),gs=ao(es);function pl(Xt){return"\\"+Ga[Xt]}function ho(Xt,Ei){return Xt==null?i:Xt[Ei]}function fo(Xt){return Ao.test(Xt)}function ys(Xt){return ga.test(Xt)}function Vs(Xt){for(var Ei,mi=[];!(Ei=Xt.next()).done;)mi.push(Ei.value);return mi}function Ps(Xt){var Ei=-1,mi=Array(Xt.size);return Xt.forEach(function(ar,Fr){mi[++Ei]=[Fr,ar]}),mi}function so(Xt,Ei){return function(mi){return Xt(Ei(mi))}}function Ea(Xt,Ei){for(var mi=-1,ar=Xt.length,Fr=0,hn=[];++mi<ar;){var On=Xt[mi];(On===Ei||On===Z)&&(Xt[mi]=Z,hn[Fr++]=mi)}return hn}function rs(Xt){var Ei=-1,mi=Array(Xt.size);return Xt.forEach(function(ar){mi[++Ei]=ar}),mi}function vs(Xt){var Ei=-1,mi=Array(Xt.size);return Xt.forEach(function(ar){mi[++Ei]=[ar,ar]}),mi}function zo(Xt,Ei,mi){for(var ar=mi-1,Fr=Xt.length;++ar<Fr;)if(Xt[ar]===Ei)return ar;return-1}function Tl(Xt,Ei,mi){for(var ar=mi+1;ar--;)if(Xt[ar]===Ei)return ar;return ar}function Se(Xt){return fo(Xt)?_i(Xt):En(Xt)}function $e(Xt){return fo(Xt)?tr(Xt):Co(Xt)}function dt(Xt){for(var Ei=Xt.length;Ei--&&It.test(Xt.charAt(Ei)););return Ei}var ii=ao(fl);function _i(Xt){for(var Ei=Jo.lastIndex=0;Jo.test(Xt);)++Ei;return Ei}function tr(Xt){return Xt.match(Jo)||[]}function pr(Xt){return Xt.match(Qs)||[]}var kr=function Xt(Ei){Ei=Ei==null?sa:Gr.defaults(sa.Object(),Ei,Gr.pick(sa,Qo));var mi=Ei.Array,ar=Ei.Date,Fr=Ei.Error,hn=Ei.Function,On=Ei.Math,Xr=Ei.Object,Ka=Ei.RegExp,To=Ei.String,la=Ei.TypeError,mt=mi.prototype,Nt=hn.prototype,Gt=Xr.prototype,Mi=Ei["__core-js_shared__"],Qt=Nt.toString,wi=Gt.hasOwnProperty,Ui=0,hr=function(){var O=/[^.]+$/.exec(Mi&&Mi.keys&&Mi.keys.IE_PROTO||"");return O?"Symbol(src)_1."+O:""}(),Wi=Gt.toString,Mr=Qt.call(Xr),Dr=sa._,Nr=Ka("^"+Qt.call(wi).replace(We,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jr=Pe?Ei.Buffer:i,_n=Ei.Symbol,Er=Ei.Uint8Array,Me=Jr?Jr.allocUnsafe:i,Re=so(Xr.getPrototypeOf,Xr),et=Xr.create,Ot=Gt.propertyIsEnumerable,Ni=mt.splice,wr=_n?_n.isConcatSpreadable:i,gn=_n?_n.iterator:i,Ta=_n?_n.toStringTag:i,wa=function(){try{var O=Mc(Xr,"defineProperty");return O({},"",{}),O}catch{}}(),Ms=Ei.clearTimeout!==sa.clearTimeout&&Ei.clearTimeout,dr=ar&&ar.now!==sa.Date.now&&ar.now,Is=Ei.setTimeout!==sa.setTimeout&&Ei.setTimeout,Pl=On.ceil,bc=On.floor,Hc=Xr.getOwnPropertySymbols,ic=Jr?Jr.isBuffer:i,wu=Ei.isFinite,qc=mt.join,rc=so(Xr.keys,Xr),Sa=On.max,Xn=On.min,xc=ar.now,nc=Ei.parseInt,fh=On.random,gd=mt.reverse,Wc=Mc(Ei,"DataView"),tl=Mc(Ei,"Map"),wc=Mc(Ei,"Promise"),ml=Mc(Ei,"Set"),ac=Mc(Ei,"WeakMap"),Ml=Mc(Xr,"create"),Il=ac&&new ac,Vl={},Su=Sl(Wc),ku=Sl(tl),ph=Sl(wc),Yc=Sl(ml),gl=Sl(ac),oc=_n?_n.prototype:i,sc=oc?oc.valueOf:i,Au=oc?oc.toString:i;function gt(O){if(Ua(O)&&!pn(O)&&!(O instanceof Zr)){if(O instanceof _s)return O;if(wi.call(O,"__wrapped__"))return su(O)}return new _s(O)}var yl=function(){function O(){}return function(J){if(!Ma(J))return{};if(et)return et(J);O.prototype=J;var _e=new O;return O.prototype=i,_e}}();function Sc(){}function _s(O,J){this.__wrapped__=O,this.__actions__=[],this.__chain__=!!J,this.__index__=0,this.__values__=i}gt.templateSettings={escape:fn,evaluate:Oa,interpolate:Ln,variable:"",imports:{_:gt}},gt.prototype=Sc.prototype,gt.prototype.constructor=gt,_s.prototype=yl(Sc.prototype),_s.prototype.constructor=_s;function Zr(O){this.__wrapped__=O,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=he,this.__views__=[]}function yd(){var O=new Zr(this.__wrapped__);return O.__actions__=Ja(this.__actions__),O.__dir__=this.__dir__,O.__filtered__=this.__filtered__,O.__iteratees__=Ja(this.__iteratees__),O.__takeCount__=this.__takeCount__,O.__views__=Ja(this.__views__),O}function Cu(){if(this.__filtered__){var O=new Zr(this);O.__dir__=-1,O.__filtered__=!0}else O=this.clone(),O.__dir__*=-1;return O}function vd(){var O=this.__wrapped__.value(),J=this.__dir__,_e=pn(O),ze=J<0,at=_e?O.length:0,vt=Dd(0,at,this.__views__),jt=vt.start,Kt=vt.end,li=Kt-jt,$i=ze?Kt:jt-1,qi=this.__iteratees__,Qi=qi.length,br=0,Ir=Xn(li,this.__takeCount__);if(!_e||!ze&&at==li&&Ir==li)return Cc(O,this.__actions__);var Qr=[];e:for(;li--&&br<Ir;){$i+=J;for(var kn=-1,nn=O[$i];++kn<Qi;){var Pn=qi[kn],Rn=Pn.iteratee,Fs=Pn.type,ds=Rn(nn);if(Fs==y)nn=ds;else if(!ds){if(Fs==m)continue e;break e}}Qr[br++]=nn}return Qr}Zr.prototype=yl(Sc.prototype),Zr.prototype.constructor=Zr;function Gl(O){var J=-1,_e=O==null?0:O.length;for(this.clear();++J<_e;){var ze=O[J];this.set(ze[0],ze[1])}}function vl(){this.__data__=Ml?Ml(null):{},this.size=0}function mh(O){var J=this.has(O)&&delete this.__data__[O];return this.size-=J?1:0,J}function lc(O){var J=this.__data__;if(Ml){var _e=J[O];return _e===k?i:_e}return wi.call(J,O)?J[O]:i}function il(O){var J=this.__data__;return Ml?J[O]!==i:wi.call(J,O)}function Xc(O,J){var _e=this.__data__;return this.size+=this.has(O)?0:1,_e[O]=Ml&&J===i?k:J,this}Gl.prototype.clear=vl,Gl.prototype.delete=mh,Gl.prototype.get=lc,Gl.prototype.has=il,Gl.prototype.set=Xc;function ur(O){var J=-1,_e=O==null?0:O.length;for(this.clear();++J<_e;){var ze=O[J];this.set(ze[0],ze[1])}}function gh(){this.__data__=[],this.size=0}function yh(O){var J=this.__data__,_e=c(J,O);if(_e<0)return!1;var ze=J.length-1;return _e==ze?J.pop():Ni.call(J,_e,1),--this.size,!0}function Ol(O){var J=this.__data__,_e=c(J,O);return _e<0?i:J[_e][1]}function kc(O){return c(this.__data__,O)>-1}function Eu(O,J){var _e=this.__data__,ze=c(_e,O);return ze<0?(++this.size,_e.push([O,J])):_e[ze][1]=J,this}ur.prototype.clear=gh,ur.prototype.delete=yh,ur.prototype.get=Ol,ur.prototype.has=kc,ur.prototype.set=Eu;function rl(O){var J=-1,_e=O==null?0:O.length;for(this.clear();++J<_e;){var ze=O[J];this.set(ze[0],ze[1])}}function Tu(){this.size=0,this.__data__={hash:new Gl,map:new(tl||ur),string:new Gl}}function Pu(O){var J=tu(this,O).delete(O);return this.size-=J?1:0,J}function Mu(O){return tu(this,O).get(O)}function Iu(O){return tu(this,O).has(O)}function cc(O,J){var _e=tu(this,O),ze=_e.size;return _e.set(O,J),this.size+=_e.size==ze?0:1,this}rl.prototype.clear=Tu,rl.prototype.delete=Pu,rl.prototype.get=Mu,rl.prototype.has=Iu,rl.prototype.set=cc;function Gs(O){var J=-1,_e=O==null?0:O.length;for(this.__data__=new rl;++J<_e;)this.add(O[J])}function Zc(O){return this.__data__.set(O,k),this}function vh(O){return this.__data__.has(O)}Gs.prototype.add=Gs.prototype.push=Zc,Gs.prototype.has=vh;function bs(O){var J=this.__data__=new ur(O);this.size=J.size}function _h(){this.__data__=new ur,this.size=0}function bh(O){var J=this.__data__,_e=J.delete(O);return this.size=J.size,_e}function xh(O){return this.__data__.get(O)}function wh(O){return this.__data__.has(O)}function Sh(O,J){var _e=this.__data__;if(_e instanceof ur){var ze=_e.__data__;if(!tl||ze.length<o-1)return ze.push([O,J]),this.size=++_e.size,this;_e=this.__data__=new rl(ze)}return _e.set(O,J),this.size=_e.size,this}bs.prototype.clear=_h,bs.prototype.delete=bh,bs.prototype.get=xh,bs.prototype.has=wh,bs.prototype.set=Sh;function Kc(O,J){var _e=pn(O),ze=!_e&&Fc(O),at=!_e&&!ze&&Cl(O),vt=!_e&&!ze&&!at&&El(O),jt=_e||ze||at||vt,Kt=jt?uo(O.length,To):[],li=Kt.length;for(var $i in O)(J||wi.call(O,$i))&&!(jt&&($i=="length"||at&&($i=="offset"||$i=="parent")||vt&&($i=="buffer"||$i=="byteLength"||$i=="byteOffset")||Fl($i,li)))&&Kt.push($i);return Kt}function Ou(O){var J=O.length;return J?O[os(0,J-1)]:i}function kh(O,J){return ou(Ja(O),ke(J,0,O.length))}function Ru(O){return ou(Ja(O))}function Hl(O,J,_e){(_e!==i&&!Al(O[J],_e)||_e===i&&!(J in O))&&ae(O,J,_e)}function D(O,J,_e){var ze=O[J];(!(wi.call(O,J)&&Al(ze,_e))||_e===i&&!(J in O))&&ae(O,J,_e)}function c(O,J){for(var _e=O.length;_e--;)if(Al(O[_e][0],J))return _e;return-1}function b(O,J,_e,ze){return _t(O,function(at,vt,jt){J(ze,at,_e(at),jt)}),ze}function V(O,J){return O&&po(J,$a(J),O)}function Q(O,J){return O&&po(J,Ss(J),O)}function ae(O,J,_e){J=="__proto__"&&wa?wa(O,J,{configurable:!0,enumerable:!0,value:_e,writable:!0}):O[J]=_e}function ve(O,J){for(var _e=-1,ze=J.length,at=mi(ze),vt=O==null;++_e<ze;)at[_e]=vt?i:td(O,J[_e]);return at}function ke(O,J,_e){return O===O&&(_e!==i&&(O=O<=_e?O:_e),J!==i&&(O=O>=J?O:J)),O}function Te(O,J,_e,ze,at,vt){var jt,Kt=J&z,li=J&H,$i=J&Y;if(_e&&(jt=at?_e(O,ze,at,vt):_e(O)),jt!==i)return jt;if(!Ma(O))return O;var qi=pn(O);if(qi){if(jt=Ic(O),!Kt)return Ja(O,jt)}else{var Qi=ss(O),br=Qi==ce||Qi==we;if(Cl(O))return Dl(O,Kt);if(Qi==Ge||Qi==de||br&&!at){if(jt=li||br?{}:Bd(O),!Kt)return li?dc(O,Q(jt,O)):hc(O,V(jt,O))}else{if(!un[Qi])return at?O:{};jt=p0(O,Qi,Kt)}}vt||(vt=new bs);var Ir=vt.get(O);if(Ir)return Ir;vt.set(O,jt),Lp(O)?O.forEach(function(nn){jt.add(Te(nn,J,_e,nn,O,vt))}):df(O)&&O.forEach(function(nn,Pn){jt.set(Pn,Te(nn,J,_e,Pn,O,vt))});var Qr=$i?li?Od:Mh:li?Ss:$a,kn=qi?i:Qr(O);return Pi(kn||O,function(nn,Pn){kn&&(Pn=nn,nn=O[Pn]),D(jt,Pn,Te(nn,J,_e,Pn,O,vt))}),jt}function je(O){var J=$a(O);return function(_e){return Ne(_e,O,J)}}function Ne(O,J,_e){var ze=_e.length;if(O==null)return!ze;for(O=Xr(O);ze--;){var at=_e[ze],vt=J[at],jt=O[at];if(jt===i&&!(at in O)||!vt(jt))return!1}return!0}function Ye(O,J,_e){if(typeof O!="function")throw new la(d);return au(function(){O.apply(i,_e)},J)}function lt(O,J,_e,ze){var at=-1,vt=Vn,jt=!0,Kt=O.length,li=[],$i=J.length;if(!Kt)return li;_e&&(J=rn(J,Na(_e))),ze?(vt=Cn,jt=!1):J.length>=o&&(vt=No,jt=!1,J=new Gs(J));e:for(;++at<Kt;){var qi=O[at],Qi=_e==null?qi:_e(qi);if(qi=ze||qi!==0?qi:0,jt&&Qi===Qi){for(var br=$i;br--;)if(J[br]===Qi)continue e;li.push(qi)}else vt(J,Qi,ze)||li.push(qi)}return li}var _t=Kf(zt),bt=Kf(Jt,!0);function kt(O,J){var _e=!0;return _t(O,function(ze,at,vt){return _e=!!J(ze,at,vt),_e}),_e}function ft(O,J,_e){for(var ze=-1,at=O.length;++ze<at;){var vt=O[ze],jt=J(vt);if(jt!=null&&(Kt===i?jt===jt&&!hs(jt):_e(jt,Kt)))var Kt=jt,li=vt}return li}function yt(O,J,_e,ze){var at=O.length;for(_e=Kr(_e),_e<0&&(_e=-_e>at?0:at+_e),ze=ze===i||ze>at?at:Kr(ze),ze<0&&(ze+=at),ze=_e>ze?0:pu(ze);_e<ze;)O[_e++]=J;return O}function Ct(O,J){var _e=[];return _t(O,function(ze,at,vt){J(ze,at,vt)&&_e.push(ze)}),_e}function xt(O,J,_e,ze,at){var vt=-1,jt=O.length;for(_e||(_e=Rh),at||(at=[]);++vt<jt;){var Kt=O[vt];J>0&&_e(Kt)?J>1?xt(Kt,J-1,_e,ze,at):sn(at,Kt):ze||(at[at.length]=Kt)}return at}var Rt=Jf(),Ht=Jf(!0);function zt(O,J){return O&&Rt(O,J,$a)}function Jt(O,J){return O&&Ht(O,J,$a)}function yi(O,J){return yr(J,function(_e){return zl(O[_e])})}function di(O,J){J=_l(J,O);for(var _e=0,ze=J.length;O!=null&&_e<ze;)O=O[Ls(J[_e++])];return _e&&_e==ze?O:i}function ni(O,J,_e){var ze=J(O);return pn(O)?ze:sn(ze,_e(O))}function ji(O){return O==null?O===i?it:De:Ta&&Ta in Xr(O)?ep(O):Nd(O)}function ui(O,J){return O>J}function Oi(O,J){return O!=null&&wi.call(O,J)}function Si(O,J){return O!=null&&J in Xr(O)}function Hi(O,J,_e){return O>=Xn(J,_e)&&O<Sa(J,_e)}function Ai(O,J,_e){for(var ze=_e?Cn:Vn,at=O[0].length,vt=O.length,jt=vt,Kt=mi(vt),li=1/0,$i=[];jt--;){var qi=O[jt];jt&&J&&(qi=rn(qi,Na(J))),li=Xn(qi.length,li),Kt[jt]=!_e&&(J||at>=120&&qi.length>=120)?new Gs(jt&&qi):i}qi=O[0];var Qi=-1,br=Kt[0];e:for(;++Qi<at&&$i.length<li;){var Ir=qi[Qi],Qr=J?J(Ir):Ir;if(Ir=_e||Ir!==0?Ir:0,!(br?No(br,Qr):ze($i,Qr,_e))){for(jt=vt;--jt;){var kn=Kt[jt];if(!(kn?No(kn,Qr):ze(O[jt],Qr,_e)))continue e}br&&br.push(Qr),$i.push(Ir)}}return $i}function Bi(O,J,_e,ze){return zt(O,function(at,vt,jt){J(ze,_e(at),vt,jt)}),ze}function Yi(O,J,_e){J=_l(J,O),O=zd(O,J);var ze=O==null?O:O[Ls(ll(J))];return ze==null?i:Li(ze,O,_e)}function ai(O){return Ua(O)&&ji(O)==de}function bi(O){return Ua(O)&&ji(O)==ht}function vr(O){return Ua(O)&&ji(O)==te}function Sr(O,J,_e,ze,at){return O===J?!0:O==null||J==null||!Ua(O)&&!Ua(J)?O!==O&&J!==J:_r(O,J,_e,ze,Sr,at)}function _r(O,J,_e,ze,at,vt){var jt=pn(O),Kt=pn(J),li=jt?fe:ss(O),$i=Kt?fe:ss(J);li=li==de?Ge:li,$i=$i==de?Ge:$i;var qi=li==Ge,Qi=$i==Ge,br=li==$i;if(br&&Cl(O)){if(!Cl(J))return!1;jt=!0,qi=!1}if(br&&!qi)return vt||(vt=new bs),jt||El(O)?Md(O,J,_e,ze,at,vt):Id(O,J,li,_e,ze,at,vt);if(!(_e&I)){var Ir=qi&&wi.call(O,"__wrapped__"),Qr=Qi&&wi.call(J,"__wrapped__");if(Ir||Qr){var kn=Ir?O.value():O,nn=Qr?J.value():J;return vt||(vt=new bs),at(kn,nn,_e,ze,vt)}}return br?(vt||(vt=new bs),f0(O,J,_e,ze,at,vt)):!1}function Lr(O){return Ua(O)&&ss(O)==Ae}function on(O,J,_e,ze){var at=_e.length,vt=at,jt=!ze;if(O==null)return!vt;for(O=Xr(O);at--;){var Kt=_e[at];if(jt&&Kt[2]?Kt[1]!==O[Kt[0]]:!(Kt[0]in O))return!1}for(;++at<vt;){Kt=_e[at];var li=Kt[0],$i=O[li],qi=Kt[1];if(jt&&Kt[2]){if($i===i&&!(li in O))return!1}else{var Qi=new bs;if(ze)var br=ze($i,qi,li,O,J,Qi);if(!(br===i?Sr(qi,$i,I|B,ze,Qi):br))return!1}}return!0}function Ar(O){if(!Ma(O)||Ds(O))return!1;var J=zl(O)?Nr:Ki;return J.test(Sl(O))}function mr(O){return Ua(O)&&ji(O)==Qe}function jn(O){return Ua(O)&&ss(O)==Ie}function Mn(O){return Ua(O)&&Un(O.length)&&!!vn[ji(O)]}function Gn(O){return typeof O=="function"?O:O==null?lo:typeof O=="object"?pn(O)?Zn(O[0],O[1]):Hs(O):Rf(O)}function Bn(O){if(!nu(O))return rc(O);var J=[];for(var _e in Xr(O))wi.call(O,_e)&&_e!="constructor"&&J.push(_e);return J}function ns(O){if(!Ma(O))return Rc(O);var J=nu(O),_e=[];for(var ze in O)ze=="constructor"&&(J||!wi.call(O,ze))||_e.push(ze);return _e}function jo(O,J){return O<J}function Po(O,J){var _e=-1,ze=Jn(O)?mi(O.length):[];return _t(O,function(at,vt,jt){ze[++_e]=J(at,vt,jt)}),ze}function Hs(O){var J=Ih(O);return J.length==1&&J[0][2]?Dh(J[0][0],J[0][1]):function(_e){return _e===O||on(_e,O,J)}}function Zn(O,J){return Fd(O)&&ol(J)?Dh(Ls(O),J):function(_e){var ze=td(_e,O);return ze===i&&ze===J?Nc(_e,O):Sr(J,ze,I|B)}}function Fn(O,J,_e,ze,at){O!==J&&Rt(J,function(vt,jt){if(at||(at=new bs),Ma(vt))Tn(O,J,jt,_e,Fn,ze,at);else{var Kt=ze?ze(jd(O,jt),vt,jt+"",O,J,at):i;Kt===i&&(Kt=vt),Hl(O,jt,Kt)}},Ss)}function Tn(O,J,_e,ze,at,vt,jt){var Kt=jd(O,_e),li=jd(J,_e),$i=jt.get(li);if($i){Hl(O,_e,$i);return}var qi=vt?vt(Kt,li,_e+"",O,J,jt):i,Qi=qi===i;if(Qi){var br=pn(li),Ir=!br&&Cl(li),Qr=!br&&!Ir&&El(li);qi=li,br||Ir||Qr?pn(Kt)?qi=Kt:aa(Kt)?qi=Ja(Kt):Ir?(Qi=!1,qi=Dl(li,!0)):Qr?(Qi=!1,qi=Xf(li,!0)):qi=[]:Ju(li)||Fc(li)?(qi=Kt,Fc(Kt)?qi=Jh(Kt):(!Ma(Kt)||zl(Kt))&&(qi=Bd(li))):Qi=!1}Qi&&(jt.set(li,qi),at(qi,li,ze,vt,jt),jt.delete(li)),Hl(O,_e,qi)}function Pa(O,J){var _e=O.length;if(_e)return J+=J<0?_e:0,Fl(J,_e)?O[J]:i}function vo(O,J,_e){J.length?J=rn(J,function(vt){return pn(vt)?function(jt){return di(jt,vt.length===1?vt[0]:vt)}:vt}):J=[lo];var ze=-1;J=rn(J,Na(Wr()));var at=Po(O,function(vt,jt,Kt){var li=rn(J,function($i){return $i(vt)});return{criteria:li,index:++ze,value:vt}});return js(at,function(vt,jt){return kd(vt,jt,_e)})}function Kn(O,J){return Mo(O,J,function(_e,ze){return Nc(O,ze)})}function Mo(O,J,_e){for(var ze=-1,at=J.length,vt={};++ze<at;){var jt=J[ze],Kt=di(O,jt);_e(Kt,jt)&&ql(vt,_l(jt,O),Kt)}return vt}function Ac(O){return function(J){return di(J,O)}}function qs(O,J,_e,ze){var at=ze?ba:$r,vt=-1,jt=J.length,Kt=O;for(O===J&&(J=Ja(J)),_e&&(Kt=rn(O,Na(_e)));++vt<jt;)for(var li=0,$i=J[vt],qi=_e?_e($i):$i;(li=at(Kt,qi,li,ze))>-1;)Kt!==O&&Ni.call(Kt,li,1),Ni.call(O,li,1);return O}function _o(O,J){for(var _e=O?J.length:0,ze=_e-1;_e--;){var at=J[_e];if(_e==ze||at!==vt){var vt=at;Fl(at)?Ni.call(O,at,1):Ch(O,at)}}return O}function os(O,J){return O+bc(fh()*(J-O+1))}function nl(O,J,_e,ze){for(var at=-1,vt=Sa(Pl((J-O)/(_e||1)),0),jt=mi(vt);vt--;)jt[ze?vt:++at]=O,O+=_e;return jt}function Os(O,J){var _e="";if(!O||J<1||J>X)return _e;do J%2&&(_e+=O),J=bc(J/2),J&&(O+=O);while(J);return _e}function dn(O,J){return Dc(zu(O,J,lo),O+"")}function uc(O){return Ou(zc(O))}function al(O,J){var _e=zc(O);return ou(_e,ke(J,0,_e.length))}function ql(O,J,_e,ze){if(!Ma(O))return O;J=_l(J,O);for(var at=-1,vt=J.length,jt=vt-1,Kt=O;Kt!=null&&++at<vt;){var li=Ls(J[at]),$i=_e;if(li==="__proto__"||li==="constructor"||li==="prototype")return O;if(at!=jt){var qi=Kt[li];$i=ze?ze(qi,li,Kt):i,$i===i&&($i=Ma(qi)?qi:Fl(J[at+1])?[]:{})}D(Kt,li,$i),Kt=Kt[li]}return O}var Du=Il?function(O,J){return Il.set(O,J),O}:lo,Vf=wa?function(O,J){return wa(O,"toString",{configurable:!0,enumerable:!1,value:Mf(J),writable:!0})}:lo;function _d(O){return ou(zc(O))}function Ws(O,J,_e){var ze=-1,at=O.length;J<0&&(J=-J>at?0:at+J),_e=_e>at?at:_e,_e<0&&(_e+=at),at=J>_e?0:_e-J>>>0,J>>>=0;for(var vt=mi(at);++ze<at;)vt[ze]=O[ze+J];return vt}function Gf(O,J){var _e;return _t(O,function(ze,at,vt){return _e=J(ze,at,vt),!_e}),!!_e}function Lu(O,J,_e){var ze=0,at=O==null?ze:O.length;if(typeof J=="number"&&J===J&&at<=Ce){for(;ze<at;){var vt=ze+at>>>1,jt=O[vt];jt!==null&&!hs(jt)&&(_e?jt<=J:jt<J)?ze=vt+1:at=vt}return at}return Ah(O,J,lo,_e)}function Ah(O,J,_e,ze){var at=0,vt=O==null?0:O.length;if(vt===0)return 0;J=_e(J);for(var jt=J!==J,Kt=J===null,li=hs(J),$i=J===i;at<vt;){var qi=bc((at+vt)/2),Qi=_e(O[qi]),br=Qi!==i,Ir=Qi===null,Qr=Qi===Qi,kn=hs(Qi);if(jt)var nn=ze||Qr;else $i?nn=Qr&&(ze||br):Kt?nn=Qr&&br&&(ze||!Ir):li?nn=Qr&&br&&!Ir&&(ze||!kn):Ir||kn?nn=!1:nn=ze?Qi<=J:Qi<J;nn?at=qi+1:vt=qi}return Xn(vt,ye)}function bd(O,J){for(var _e=-1,ze=O.length,at=0,vt=[];++_e<ze;){var jt=O[_e],Kt=J?J(jt):jt;if(!_e||!Al(Kt,li)){var li=Kt;vt[at++]=jt===0?0:jt}}return vt}function xd(O){return typeof O=="number"?O:hs(O)?ee:+O}function Rs(O){if(typeof O=="string")return O;if(pn(O))return rn(O,Rs)+"";if(hs(O))return Au?Au.call(O):"";var J=O+"";return J=="0"&&1/O==-M?"-0":J}function Wl(O,J,_e){var ze=-1,at=Vn,vt=O.length,jt=!0,Kt=[],li=Kt;if(_e)jt=!1,at=Cn;else if(vt>=o){var $i=J?null:Io(O);if($i)return rs($i);jt=!1,at=No,li=new Gs}else li=J?[]:Kt;e:for(;++ze<vt;){var qi=O[ze],Qi=J?J(qi):qi;if(qi=_e||qi!==0?qi:0,jt&&Qi===Qi){for(var br=li.length;br--;)if(li[br]===Qi)continue e;J&&li.push(Qi),Kt.push(qi)}else at(li,Qi,_e)||(li!==Kt&&li.push(Qi),Kt.push(qi))}return Kt}function Ch(O,J){return J=_l(J,O),O=zd(O,J),O==null||delete O[Ls(ll(J))]}function Hf(O,J,_e,ze){return ql(O,J,_e(di(O,J)),ze)}function Eh(O,J,_e,ze){for(var at=O.length,vt=ze?at:-1;(ze?vt--:++vt<at)&&J(O[vt],vt,O););return _e?Ws(O,ze?0:vt,ze?vt+1:at):Ws(O,ze?vt+1:0,ze?at:vt)}function Cc(O,J){var _e=O;return _e instanceof Zr&&(_e=_e.value()),Br(J,function(ze,at){return at.func.apply(at.thisArg,sn([ze],at.args))},_e)}function Th(O,J,_e){var ze=O.length;if(ze<2)return ze?Wl(O[0]):[];for(var at=-1,vt=mi(ze);++at<ze;)for(var jt=O[at],Kt=-1;++Kt<ze;)Kt!=at&&(vt[at]=lt(vt[at]||jt,O[Kt],J,_e));return Wl(xt(vt,1),J,_e)}function wd(O,J,_e){for(var ze=-1,at=O.length,vt=J.length,jt={};++ze<at;){var Kt=ze<vt?J[ze]:i;_e(jt,O[ze],Kt)}return jt}function Ph(O){return aa(O)?O:[]}function Sd(O){return typeof O=="function"?O:lo}function _l(O,J){return pn(O)?O:Fd(O,J)?[O]:Ud(oa(O))}var qf=dn;function Rl(O,J,_e){var ze=O.length;return _e=_e===i?ze:_e,!J&&_e>=ze?O:Ws(O,J,_e)}var Bu=Ms||function(O){return sa.clearTimeout(O)};function Dl(O,J){if(J)return O.slice();var _e=O.length,ze=Me?Me(_e):new O.constructor(_e);return O.copy(ze),ze}function Jc(O){var J=new O.constructor(O.byteLength);return new Er(J).set(new Er(O)),J}function Wf(O,J){var _e=J?Jc(O.buffer):O.buffer;return new O.constructor(_e,O.byteOffset,O.byteLength)}function Yf(O){var J=new O.constructor(O.source,ti.exec(O));return J.lastIndex=O.lastIndex,J}function u0(O){return sc?Xr(sc.call(O)):{}}function Xf(O,J){var _e=J?Jc(O.buffer):O.buffer;return new O.constructor(_e,O.byteOffset,O.length)}function Zf(O,J){if(O!==J){var _e=O!==i,ze=O===null,at=O===O,vt=hs(O),jt=J!==i,Kt=J===null,li=J===J,$i=hs(J);if(!Kt&&!$i&&!vt&&O>J||vt&&jt&&li&&!Kt&&!$i||ze&&jt&&li||!_e&&li||!at)return 1;if(!ze&&!vt&&!$i&&O<J||$i&&_e&&at&&!ze&&!vt||Kt&&_e&&at||!jt&&at||!li)return-1}return 0}function kd(O,J,_e){for(var ze=-1,at=O.criteria,vt=J.criteria,jt=at.length,Kt=_e.length;++ze<jt;){var li=Zf(at[ze],vt[ze]);if(li){if(ze>=Kt)return li;var $i=_e[ze];return li*($i=="desc"?-1:1)}}return O.index-J.index}function Qc(O,J,_e,ze){for(var at=-1,vt=O.length,jt=_e.length,Kt=-1,li=J.length,$i=Sa(vt-jt,0),qi=mi(li+$i),Qi=!ze;++Kt<li;)qi[Kt]=J[Kt];for(;++at<jt;)(Qi||at<vt)&&(qi[_e[at]]=O[at]);for(;$i--;)qi[Kt++]=O[at++];return qi}function Ec(O,J,_e,ze){for(var at=-1,vt=O.length,jt=-1,Kt=_e.length,li=-1,$i=J.length,qi=Sa(vt-Kt,0),Qi=mi(qi+$i),br=!ze;++at<qi;)Qi[at]=O[at];for(var Ir=at;++li<$i;)Qi[Ir+li]=J[li];for(;++jt<Kt;)(br||at<vt)&&(Qi[Ir+_e[jt]]=O[at++]);return Qi}function Ja(O,J){var _e=-1,ze=O.length;for(J||(J=mi(ze));++_e<ze;)J[_e]=O[_e];return J}function po(O,J,_e,ze){var at=!_e;_e||(_e={});for(var vt=-1,jt=J.length;++vt<jt;){var Kt=J[vt],li=ze?ze(_e[Kt],O[Kt],Kt,_e,O):i;li===i&&(li=O[Kt]),at?ae(_e,Kt,li):D(_e,Kt,li)}return _e}function hc(O,J){return po(O,Rd(O),J)}function dc(O,J){return po(O,Oh(O),J)}function Ll(O,J){return function(_e,ze){var at=pn(_e)?xi:b,vt=J?J():{};return at(_e,O,Wr(ze,2),vt)}}function eu(O){return dn(function(J,_e){var ze=-1,at=_e.length,vt=at>1?_e[at-1]:i,jt=at>2?_e[2]:i;for(vt=O.length>3&&typeof vt=="function"?(at--,vt):i,jt&&ls(_e[0],_e[1],jt)&&(vt=at<3?i:vt,at=1),J=Xr(J);++ze<at;){var Kt=_e[ze];Kt&&O(J,Kt,ze,vt)}return J})}function Kf(O,J){return function(_e,ze){if(_e==null)return _e;if(!Jn(_e))return O(_e,ze);for(var at=_e.length,vt=J?at:-1,jt=Xr(_e);(J?vt--:++vt<at)&&ze(jt[vt],vt,jt)!==!1;);return _e}}function Jf(O){return function(J,_e,ze){for(var at=-1,vt=Xr(J),jt=ze(J),Kt=jt.length;Kt--;){var li=jt[O?Kt:++at];if(_e(vt[li],li,vt)===!1)break}return J}}function h0(O,J,_e){var ze=J&U,at=xs(O);function vt(){var jt=this&&this!==sa&&this instanceof vt?at:O;return jt.apply(ze?_e:this,arguments)}return vt}function Ad(O){return function(J){J=oa(J);var _e=fo(J)?$e(J):i,ze=_e?_e[0]:J.charAt(0),at=_e?Rl(_e,1).join(""):J.slice(1);return ze[O]()+at}}function Yl(O){return function(J){return Br(Uc(Sf(J).replace(Js,"")),O,"")}}function xs(O){return function(){var J=arguments;switch(J.length){case 0:return new O;case 1:return new O(J[0]);case 2:return new O(J[0],J[1]);case 3:return new O(J[0],J[1],J[2]);case 4:return new O(J[0],J[1],J[2],J[3]);case 5:return new O(J[0],J[1],J[2],J[3],J[4]);case 6:return new O(J[0],J[1],J[2],J[3],J[4],J[5]);case 7:return new O(J[0],J[1],J[2],J[3],J[4],J[5],J[6])}var _e=yl(O.prototype),ze=O.apply(_e,J);return Ma(ze)?ze:_e}}function d0(O,J,_e){var ze=xs(O);function at(){for(var vt=arguments.length,jt=mi(vt),Kt=vt,li=Zl(at);Kt--;)jt[Kt]=arguments[Kt];var $i=vt<3&&jt[0]!==li&&jt[vt-1]!==li?[]:Ea(jt,li);if(vt-=$i.length,vt<_e)return Xs(O,J,Pr,at.placeholder,i,jt,$i,i,i,_e-vt);var qi=this&&this!==sa&&this instanceof at?ze:O;return Li(qi,this,jt)}return at}function Qf(O){return function(J,_e,ze){var at=Xr(J);if(!Jn(J)){var vt=Wr(_e,3);J=$a(J),_e=function(Kt){return vt(at[Kt],Kt,at)}}var jt=O(J,_e,ze);return jt>-1?at[vt?J[jt]:jt]:i}}function za(O){return xl(function(J){var _e=J.length,ze=_e,at=_s.prototype.thru;for(O&&J.reverse();ze--;){var vt=J[ze];if(typeof vt!="function")throw new la(d);if(at&&!jt&&Bl(vt)=="wrapper")var jt=new _s([],!0)}for(ze=jt?ze:_e;++ze<_e;){vt=J[ze];var Kt=Bl(vt),li=Kt=="wrapper"?wl(vt):i;li&&ru(li[0])&&li[1]==(ne|P|q|K)&&!li[4].length&&li[9]==1?jt=jt[Bl(li[0])].apply(jt,li[3]):jt=vt.length==1&&ru(vt)?jt[Kt]():jt.thru(vt)}return function(){var $i=arguments,qi=$i[0];if(jt&&$i.length==1&&pn(qi))return jt.plant(qi).value();for(var Qi=0,br=_e?J[Qi].apply(this,$i):qi;++Qi<_e;)br=J[Qi].call(this,br);return br}})}function Pr(O,J,_e,ze,at,vt,jt,Kt,li,$i){var qi=J&ne,Qi=J&U,br=J&T,Ir=J&(P|G),Qr=J&L,kn=br?i:xs(O);function nn(){for(var Pn=arguments.length,Rn=mi(Pn),Fs=Pn;Fs--;)Rn[Fs]=arguments[Fs];if(Ir)var ds=Zl(nn),Ns=ms(Rn,ds);if(ze&&(Rn=Qc(Rn,ze,at,Ir)),vt&&(Rn=Ec(Rn,vt,jt,Ir)),Pn-=Ns,Ir&&Pn<$i){var Qa=Ea(Rn,ds);return Xs(O,J,Pr,nn.placeholder,_e,Rn,Qa,Kt,li,$i-Pn)}var Ro=Qi?_e:this,$l=br?Ro[O]:O;return Pn=Rn.length,Kt?Rn=rp(Rn,Kt):Qr&&Pn>1&&Rn.reverse(),qi&&li<Pn&&(Rn.length=li),this&&this!==sa&&this instanceof nn&&($l=kn||xs($l)),$l.apply(Ro,Rn)}return nn}function Xl(O,J){return function(_e,ze){return Bi(_e,O,J(ze),{})}}function Tc(O,J){return function(_e,ze){var at;if(_e===i&&ze===i)return J;if(_e!==i&&(at=_e),ze!==i){if(at===i)return ze;typeof _e=="string"||typeof ze=="string"?(_e=Rs(_e),ze=Rs(ze)):(_e=xd(_e),ze=xd(ze)),at=O(_e,ze)}return at}}function wn(O){return xl(function(J){return J=rn(J,Na(Wr())),dn(function(_e){var ze=this;return O(J,function(at){return Li(at,ze,_e)})})})}function Fu(O,J){J=J===i?" ":Rs(J);var _e=J.length;if(_e<2)return _e?Os(J,O):J;var ze=Os(J,Pl(O/Se(J)));return fo(J)?Rl($e(ze),0,O).join(""):ze.slice(0,O)}function Cd(O,J,_e,ze){var at=J&U,vt=xs(O);function jt(){for(var Kt=-1,li=arguments.length,$i=-1,qi=ze.length,Qi=mi(qi+li),br=this&&this!==sa&&this instanceof jt?vt:O;++$i<qi;)Qi[$i]=ze[$i];for(;li--;)Qi[$i++]=arguments[++Kt];return Li(br,at?_e:this,Qi)}return jt}function bl(O){return function(J,_e,ze){return ze&&typeof ze!="number"&&ls(J,_e,ze)&&(_e=ze=i),J=jl(J),_e===i?(_e=J,J=0):_e=jl(_e),ze=ze===i?J<_e?1:-1:jl(ze),nl(J,_e,ze,O)}}function Ys(O){return function(J,_e){return typeof J=="string"&&typeof _e=="string"||(J=Uo(J),_e=Uo(_e)),O(J,_e)}}function Xs(O,J,_e,ze,at,vt,jt,Kt,li,$i){var qi=J&P,Qi=qi?jt:i,br=qi?i:jt,Ir=qi?vt:i,Qr=qi?i:vt;J|=qi?q:N,J&=~(qi?N:q),J&C||(J&=~(U|T));var kn=[O,J,at,Ir,Qi,Qr,br,Kt,li,$i],nn=_e.apply(i,kn);return ru(O)&&Lh(nn,kn),nn.placeholder=ze,Lc(nn,O,J)}function ws(O){var J=On[O];return function(_e,ze){if(_e=Uo(_e),ze=ze==null?0:Xn(Kr(ze),292),ze&&wu(_e)){var at=(oa(_e)+"e").split("e"),vt=J(at[0]+"e"+(+at[1]+ze));return at=(oa(vt)+"e").split("e"),+(at[0]+"e"+(+at[1]-ze))}return J(_e)}}var Io=ml&&1/rs(new ml([,-0]))[1]==M?function(O){return new ml(O)}:Of;function Ed(O){return function(J){var _e=ss(J);return _e==Ae?Ps(J):_e==Ie?vs(J):Us(J,O(J))}}function Oo(O,J,_e,ze,at,vt,jt,Kt){var li=J&T;if(!li&&typeof O!="function")throw new la(d);var $i=ze?ze.length:0;if($i||(J&=~(q|N),ze=at=i),jt=jt===i?jt:Sa(Kr(jt),0),Kt=Kt===i?Kt:Kr(Kt),$i-=at?at.length:0,J&N){var qi=ze,Qi=at;ze=at=i}var br=li?i:wl(O),Ir=[O,J,_e,ze,at,qi,Qi,vt,jt,Kt];if(br&&Nu(Ir,br),O=Ir[0],J=Ir[1],_e=Ir[2],ze=Ir[3],at=Ir[4],Kt=Ir[9]=Ir[9]===i?li?0:O.length:Sa(Ir[9]-$i,0),!Kt&&J&(P|G)&&(J&=~(P|G)),!J||J==U)var Qr=h0(O,J,_e);else J==P||J==G?Qr=d0(O,J,Kt):(J==q||J==(U|q))&&!at.length?Qr=Cd(O,J,_e,ze):Qr=Pr.apply(i,Ir);var kn=br?Du:Lh;return Lc(kn(Qr,Ir),O,J)}function Td(O,J,_e,ze){return O===i||Al(O,Gt[_e])&&!wi.call(ze,_e)?J:O}function Pc(O,J,_e,ze,at,vt){return Ma(O)&&Ma(J)&&(vt.set(J,O),Fn(O,J,i,Pc,vt),vt.delete(J)),O}function Pd(O){return Ju(O)?i:O}function Md(O,J,_e,ze,at,vt){var jt=_e&I,Kt=O.length,li=J.length;if(Kt!=li&&!(jt&&li>Kt))return!1;var $i=vt.get(O),qi=vt.get(J);if($i&&qi)return $i==J&&qi==O;var Qi=-1,br=!0,Ir=_e&B?new Gs:i;for(vt.set(O,J),vt.set(J,O);++Qi<Kt;){var Qr=O[Qi],kn=J[Qi];if(ze)var nn=jt?ze(kn,Qr,Qi,J,O,vt):ze(Qr,kn,Qi,O,J,vt);if(nn!==i){if(nn)continue;br=!1;break}if(Ir){if(!ln(J,function(Pn,Rn){if(!No(Ir,Rn)&&(Qr===Pn||at(Qr,Pn,_e,ze,vt)))return Ir.push(Rn)})){br=!1;break}}else if(!(Qr===kn||at(Qr,kn,_e,ze,vt))){br=!1;break}}return vt.delete(O),vt.delete(J),br}function Id(O,J,_e,ze,at,vt,jt){switch(_e){case Ke:if(O.byteLength!=J.byteLength||O.byteOffset!=J.byteOffset)return!1;O=O.buffer,J=J.buffer;case ht:return!(O.byteLength!=J.byteLength||!vt(new Er(O),new Er(J)));case pe:case te:case Fe:return Al(+O,+J);case xe:return O.name==J.name&&O.message==J.message;case Qe:case Ue:return O==J+"";case Ae:var Kt=Ps;case Ie:var li=ze&I;if(Kt||(Kt=rs),O.size!=J.size&&!li)return!1;var $i=jt.get(O);if($i)return $i==J;ze|=B,jt.set(O,J);var qi=Md(Kt(O),Kt(J),ze,at,vt,jt);return jt.delete(O),qi;case He:if(sc)return sc.call(O)==sc.call(J)}return!1}function f0(O,J,_e,ze,at,vt){var jt=_e&I,Kt=Mh(O),li=Kt.length,$i=Mh(J),qi=$i.length;if(li!=qi&&!jt)return!1;for(var Qi=li;Qi--;){var br=Kt[Qi];if(!(jt?br in J:wi.call(J,br)))return!1}var Ir=vt.get(O),Qr=vt.get(J);if(Ir&&Qr)return Ir==J&&Qr==O;var kn=!0;vt.set(O,J),vt.set(J,O);for(var nn=jt;++Qi<li;){br=Kt[Qi];var Pn=O[br],Rn=J[br];if(ze)var Fs=jt?ze(Rn,Pn,br,J,O,vt):ze(Pn,Rn,br,O,J,vt);if(!(Fs===i?Pn===Rn||at(Pn,Rn,_e,ze,vt):Fs)){kn=!1;break}nn||(nn=br=="constructor")}if(kn&&!nn){var ds=O.constructor,Ns=J.constructor;ds!=Ns&&"constructor"in O&&"constructor"in J&&!(typeof ds=="function"&&ds instanceof ds&&typeof Ns=="function"&&Ns instanceof Ns)&&(kn=!1)}return vt.delete(O),vt.delete(J),kn}function xl(O){return Dc(zu(O,i,Gd),O+"")}function Mh(O){return ni(O,$a,Rd)}function Od(O){return ni(O,Ss,Oh)}var wl=Il?function(O){return Il.get(O)}:Of;function Bl(O){for(var J=O.name+"",_e=Vl[J],ze=wi.call(Vl,J)?_e.length:0;ze--;){var at=_e[ze],vt=at.func;if(vt==null||vt==O)return at.name}return J}function Zl(O){var J=wi.call(gt,"placeholder")?gt:O;return J.placeholder}function Wr(){var O=gt.iteratee||If;return O=O===If?Gn:O,arguments.length?O(arguments[0],arguments[1]):O}function tu(O,J){var _e=O.__data__;return m0(J)?_e[typeof J=="string"?"string":"hash"]:_e.map}function Ih(O){for(var J=$a(O),_e=J.length;_e--;){var ze=J[_e],at=O[ze];J[_e]=[ze,at,ol(at)]}return J}function Mc(O,J){var _e=ho(O,J);return Ar(_e)?_e:i}function ep(O){var J=wi.call(O,Ta),_e=O[Ta];try{O[Ta]=i;var ze=!0}catch{}var at=Wi.call(O);return ze&&(J?O[Ta]=_e:delete O[Ta]),at}var Rd=Hc?function(O){return O==null?[]:(O=Xr(O),yr(Hc(O),function(J){return Ot.call(O,J)}))}:cd,Oh=Hc?function(O){for(var J=[];O;)sn(J,Rd(O)),O=Re(O);return J}:cd,ss=ji;(Wc&&ss(new Wc(new ArrayBuffer(1)))!=Ke||tl&&ss(new tl)!=Ae||wc&&ss(wc.resolve())!=ct||ml&&ss(new ml)!=Ie||ac&&ss(new ac)!=Je)&&(ss=function(O){var J=ji(O),_e=J==Ge?O.constructor:i,ze=_e?Sl(_e):"";if(ze)switch(ze){case Su:return Ke;case ku:return Ae;case ph:return ct;case Yc:return Ie;case gl:return Je}return J});function Dd(O,J,_e){for(var ze=-1,at=_e.length;++ze<at;){var vt=_e[ze],jt=vt.size;switch(vt.type){case"drop":O+=jt;break;case"dropRight":J-=jt;break;case"take":J=Xn(J,O+jt);break;case"takeRight":O=Sa(O,J-jt);break}}return{start:O,end:J}}function tp(O){var J=O.match(Zt);return J?J[1].split(Lt):[]}function Ld(O,J,_e){J=_l(J,O);for(var ze=-1,at=J.length,vt=!1;++ze<at;){var jt=Ls(J[ze]);if(!(vt=O!=null&&_e(O,jt)))break;O=O[jt]}return vt||++ze!=at?vt:(at=O==null?0:O.length,!!at&&Un(at)&&Fl(jt,at)&&(pn(O)||Fc(O)))}function Ic(O){var J=O.length,_e=new O.constructor(J);return J&&typeof O[0]=="string"&&wi.call(O,"index")&&(_e.index=O.index,_e.input=O.input),_e}function Bd(O){return typeof O.constructor=="function"&&!nu(O)?yl(Re(O)):{}}function p0(O,J,_e){var ze=O.constructor;switch(J){case ht:return Jc(O);case pe:case te:return new ze(+O);case Ke:return Wf(O,_e);case At:case Et:case Wt:case fi:case ei:case hi:case vi:case zi:case Ji:return Xf(O,_e);case Ae:return new ze;case Fe:case Ue:return new ze(O);case Qe:return Yf(O);case Ie:return new ze;case He:return u0(O)}}function iu(O,J){var _e=J.length;if(!_e)return O;var ze=_e-1;return J[ze]=(_e>1?"& ":"")+J[ze],J=J.join(_e>2?", ":" "),O.replace(Tt,`{
/* [wrapped with `+J+`] */
`)}function Rh(O){return pn(O)||Fc(O)||!!(wr&&O&&O[wr])}function Fl(O,J){var _e=typeof O;return J=J??X,!!J&&(_e=="number"||_e!="symbol"&&gr.test(O))&&O>-1&&O%1==0&&O<J}function ls(O,J,_e){if(!Ma(_e))return!1;var ze=typeof J;return(ze=="number"?Jn(_e)&&Fl(J,_e.length):ze=="string"&&J in _e)?Al(_e[J],O):!1}function Fd(O,J){if(pn(O))return!1;var _e=typeof O;return _e=="number"||_e=="symbol"||_e=="boolean"||O==null||hs(O)?!0:go.test(O)||!Ba.test(O)||J!=null&&O in Xr(J)}function m0(O){var J=typeof O;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?O!=="__proto__":O===null}function ru(O){var J=Bl(O),_e=gt[J];if(typeof _e!="function"||!(J in Zr.prototype))return!1;if(O===_e)return!0;var ze=wl(_e);return!!ze&&O===ze[0]}function Ds(O){return!!hr&&hr in O}var ip=Mi?zl:Df;function nu(O){var J=O&&O.constructor,_e=typeof J=="function"&&J.prototype||Gt;return O===_e}function ol(O){return O===O&&!Ma(O)}function Dh(O,J){return function(_e){return _e==null?!1:_e[O]===J&&(J!==i||O in Xr(_e))}}function Oc(O){var J=bo(O,function(ze){return _e.size===j&&_e.clear(),ze}),_e=J.cache;return J}function Nu(O,J){var _e=O[1],ze=J[1],at=_e|ze,vt=at<(U|T|ne),jt=ze==ne&&_e==P||ze==ne&&_e==K&&O[7].length<=J[8]||ze==(ne|K)&&J[7].length<=J[8]&&_e==P;if(!(vt||jt))return O;ze&U&&(O[2]=J[2],at|=_e&U?0:C);var Kt=J[3];if(Kt){var li=O[3];O[3]=li?Qc(li,Kt,J[4]):Kt,O[4]=li?Ea(O[3],Z):J[4]}return Kt=J[5],Kt&&(li=O[5],O[5]=li?Ec(li,Kt,J[6]):Kt,O[6]=li?Ea(O[5],Z):J[6]),Kt=J[7],Kt&&(O[7]=Kt),ze&ne&&(O[8]=O[8]==null?J[8]:Xn(O[8],J[8])),O[9]==null&&(O[9]=J[9]),O[0]=J[0],O[1]=at,O}function Rc(O){var J=[];if(O!=null)for(var _e in Xr(O))J.push(_e);return J}function Nd(O){return Wi.call(O)}function zu(O,J,_e){return J=Sa(J===i?O.length-1:J,0),function(){for(var ze=arguments,at=-1,vt=Sa(ze.length-J,0),jt=mi(vt);++at<vt;)jt[at]=ze[J+at];at=-1;for(var Kt=mi(J+1);++at<J;)Kt[at]=ze[at];return Kt[J]=_e(jt),Li(O,this,Kt)}}function zd(O,J){return J.length<2?O:di(O,Ws(J,0,-1))}function rp(O,J){for(var _e=O.length,ze=Xn(J.length,_e),at=Ja(O);ze--;){var vt=J[ze];O[ze]=Fl(vt,_e)?at[vt]:i}return O}function jd(O,J){if(!(J==="constructor"&&typeof O[J]=="function")&&J!="__proto__")return O[J]}var Lh=Nl(Du),au=Is||function(O,J){return sa.setTimeout(O,J)},Dc=Nl(Vf);function Lc(O,J,_e){var ze=J+"";return Dc(O,iu(ze,Zs(tp(ze),_e)))}function Nl(O){var J=0,_e=0;return function(){var ze=xc(),at=A-(ze-_e);if(_e=ze,at>0){if(++J>=g)return arguments[0]}else J=0;return O.apply(i,arguments)}}function ou(O,J){var _e=-1,ze=O.length,at=ze-1;for(J=J===i?ze:J;++_e<J;){var vt=os(_e,at),jt=O[vt];O[vt]=O[_e],O[_e]=jt}return O.length=J,O}var Ud=Oc(function(O){var J=[];return O.charCodeAt(0)===46&&J.push(""),O.replace(wt,function(_e,ze,at,vt){J.push(at?vt.replace(Vt,"$1"):ze||_e)}),J});function Ls(O){if(typeof O=="string"||hs(O))return O;var J=O+"";return J=="0"&&1/O==-M?"-0":J}function Sl(O){if(O!=null){try{return Qt.call(O)}catch{}try{return O+""}catch{}}return""}function Zs(O,J){return Pi(oe,function(_e){var ze="_."+_e[0];J&_e[1]&&!Vn(O,ze)&&O.push(ze)}),O.sort()}function su(O){if(O instanceof Zr)return O.clone();var J=new _s(O.__wrapped__,O.__chain__);return J.__actions__=Ja(O.__actions__),J.__index__=O.__index__,J.__values__=O.__values__,J}function cs(O,J,_e){(_e?ls(O,J,_e):J===i)?J=1:J=Sa(Kr(J),0);var ze=O==null?0:O.length;if(!ze||J<1)return[];for(var at=0,vt=0,jt=mi(Pl(ze/J));at<ze;)jt[vt++]=Ws(O,at,at+=J);return jt}function sl(O){for(var J=-1,_e=O==null?0:O.length,ze=0,at=[];++J<_e;){var vt=O[J];vt&&(at[ze++]=vt)}return at}function $d(){var O=arguments.length;if(!O)return[];for(var J=mi(O-1),_e=arguments[0],ze=O;ze--;)J[ze-1]=arguments[ze];return sn(pn(_e)?Ja(_e):[_e],xt(J,1))}var La=dn(function(O,J){return aa(O)?lt(O,xt(J,1,aa,!0)):[]}),np=dn(function(O,J){var _e=ll(J);return aa(_e)&&(_e=i),aa(O)?lt(O,xt(J,1,aa,!0),Wr(_e,2)):[]}),ju=dn(function(O,J){var _e=ll(J);return aa(_e)&&(_e=i),aa(O)?lt(O,xt(J,1,aa,!0),i,_e):[]});function kl(O,J,_e){var ze=O==null?0:O.length;return ze?(J=_e||J===i?1:Kr(J),Ws(O,J<0?0:J,ze)):[]}function g0(O,J,_e){var ze=O==null?0:O.length;return ze?(J=_e||J===i?1:Kr(J),J=ze-J,Ws(O,0,J<0?0:J)):[]}function y0(O,J){return O&&O.length?Eh(O,Wr(J,3),!0,!0):[]}function ap(O,J){return O&&O.length?Eh(O,Wr(J,3),!0):[]}function op(O,J,_e,ze){var at=O==null?0:O.length;return at?(_e&&typeof _e!="number"&&ls(O,J,_e)&&(_e=0,ze=at),yt(O,J,_e,ze)):[]}function fc(O,J,_e){var ze=O==null?0:O.length;if(!ze)return-1;var at=_e==null?0:Kr(_e);return at<0&&(at=Sa(ze+at,0)),Da(O,Wr(J,3),at)}function Vd(O,J,_e){var ze=O==null?0:O.length;if(!ze)return-1;var at=ze-1;return _e!==i&&(at=Kr(_e),at=_e<0?Sa(ze+at,0):Xn(at,ze-1)),Da(O,Wr(J,3),at,!0)}function Gd(O){var J=O==null?0:O.length;return J?xt(O,1):[]}function sp(O){var J=O==null?0:O.length;return J?xt(O,M):[]}function lp(O,J){var _e=O==null?0:O.length;return _e?(J=J===i?1:Kr(J),xt(O,J)):[]}function v0(O){for(var J=-1,_e=O==null?0:O.length,ze={};++J<_e;){var at=O[J];ze[at[0]]=at[1]}return ze}function Bh(O){return O&&O.length?O[0]:i}function Hd(O,J,_e){var ze=O==null?0:O.length;if(!ze)return-1;var at=_e==null?0:Kr(_e);return at<0&&(at=Sa(ze+at,0)),$r(O,J,at)}function qd(O){var J=O==null?0:O.length;return J?Ws(O,0,-1):[]}var us=dn(function(O){var J=rn(O,Ph);return J.length&&J[0]===O[0]?Ai(J):[]}),cp=dn(function(O){var J=ll(O),_e=rn(O,Ph);return J===ll(_e)?J=i:_e.pop(),_e.length&&_e[0]===O[0]?Ai(_e,Wr(J,2)):[]}),_0=dn(function(O){var J=ll(O),_e=rn(O,Ph);return J=typeof J=="function"?J:i,J&&_e.pop(),_e.length&&_e[0]===O[0]?Ai(_e,i,J):[]});function up(O,J){return O==null?"":qc.call(O,J)}function ll(O){var J=O==null?0:O.length;return J?O[J-1]:i}function b0(O,J,_e){var ze=O==null?0:O.length;if(!ze)return-1;var at=ze;return _e!==i&&(at=Kr(_e),at=at<0?Sa(ze+at,0):Xn(at,ze-1)),J===J?Tl(O,J,at):Da(O,qa,at,!0)}function hp(O,J){return O&&O.length?Pa(O,Kr(J)):i}var dp=dn(Wd);function Wd(O,J){return O&&O.length&&J&&J.length?qs(O,J):O}function Yd(O,J,_e){return O&&O.length&&J&&J.length?qs(O,J,Wr(_e,2)):O}function Kl(O,J,_e){return O&&O.length&&J&&J.length?qs(O,J,i,_e):O}var Bs=xl(function(O,J){var _e=O==null?0:O.length,ze=ve(O,J);return _o(O,rn(J,function(at){return Fl(at,_e)?+at:at}).sort(Zf)),ze});function x0(O,J){var _e=[];if(!(O&&O.length))return _e;var ze=-1,at=[],vt=O.length;for(J=Wr(J,3);++ze<vt;){var jt=O[ze];J(jt,ze,O)&&(_e.push(jt),at.push(ze))}return _o(O,at),_e}function Uu(O){return O==null?O:gd.call(O)}function w0(O,J,_e){var ze=O==null?0:O.length;return ze?(_e&&typeof _e!="number"&&ls(O,J,_e)?(J=0,_e=ze):(J=J==null?0:Kr(J),_e=_e===i?ze:Kr(_e)),Ws(O,J,_e)):[]}function S0(O,J){return Lu(O,J)}function k0(O,J,_e){return Ah(O,J,Wr(_e,2))}function $u(O,J){var _e=O==null?0:O.length;if(_e){var ze=Lu(O,J);if(ze<_e&&Al(O[ze],J))return ze}return-1}function Fh(O,J){return Lu(O,J,!0)}function fp(O,J,_e){return Ah(O,J,Wr(_e,2),!0)}function Bc(O,J){var _e=O==null?0:O.length;if(_e){var ze=Lu(O,J,!0)-1;if(Al(O[ze],J))return ze}return-1}function Vu(O){return O&&O.length?bd(O):[]}function A0(O,J){return O&&O.length?bd(O,Wr(J,2)):[]}function C0(O){var J=O==null?0:O.length;return J?Ws(O,1,J):[]}function E0(O,J,_e){return O&&O.length?(J=_e||J===i?1:Kr(J),Ws(O,0,J<0?0:J)):[]}function T0(O,J,_e){var ze=O==null?0:O.length;return ze?(J=_e||J===i?1:Kr(J),J=ze-J,Ws(O,J<0?0:J,ze)):[]}function P0(O,J){return O&&O.length?Eh(O,Wr(J,3),!1,!0):[]}function M0(O,J){return O&&O.length?Eh(O,Wr(J,3)):[]}var I0=dn(function(O){return Wl(xt(O,1,aa,!0))}),Xd=dn(function(O){var J=ll(O);return aa(J)&&(J=i),Wl(xt(O,1,aa,!0),Wr(J,2))}),O0=dn(function(O){var J=ll(O);return J=typeof J=="function"?J:i,Wl(xt(O,1,aa,!0),i,J)});function lu(O){return O&&O.length?Wl(O):[]}function R0(O,J){return O&&O.length?Wl(O,Wr(J,2)):[]}function ja(O,J){return J=typeof J=="function"?J:i,O&&O.length?Wl(O,i,J):[]}function cu(O){if(!(O&&O.length))return[];var J=0;return O=yr(O,function(_e){if(aa(_e))return J=Sa(_e.length,J),!0}),uo(J,function(_e){return rn(O,xa(_e))})}function Zd(O,J){if(!(O&&O.length))return[];var _e=cu(O);return J==null?_e:rn(_e,function(ze){return Li(J,i,ze)})}var Nh=dn(function(O,J){return aa(O)?lt(O,J):[]}),zh=dn(function(O){return Th(yr(O,aa))}),Gu=dn(function(O){var J=ll(O);return aa(J)&&(J=i),Th(yr(O,aa),Wr(J,2))}),pp=dn(function(O){var J=ll(O);return J=typeof J=="function"?J:i,Th(yr(O,aa),i,J)}),mp=dn(cu);function Hu(O,J){return wd(O||[],J||[],D)}function Kd(O,J){return wd(O||[],J||[],ql)}var Jd=dn(function(O){var J=O.length,_e=J>1?O[J-1]:i;return _e=typeof _e=="function"?(O.pop(),_e):i,Zd(O,_e)});function gp(O){var J=gt(O);return J.__chain__=!0,J}function yp(O,J){return J(O),O}function pc(O,J){return J(O)}var D0=xl(function(O){var J=O.length,_e=J?O[0]:0,ze=this.__wrapped__,at=function(vt){return ve(vt,O)};return J>1||this.__actions__.length||!(ze instanceof Zr)||!Fl(_e)?this.thru(at):(ze=ze.slice(_e,+_e+(J?1:0)),ze.__actions__.push({func:pc,args:[at],thisArg:i}),new _s(ze,this.__chain__).thru(function(vt){return J&&!vt.length&&vt.push(i),vt}))});function Qd(){return gp(this)}function L0(){return new _s(this.value(),this.__chain__)}function ef(){this.__values__===i&&(this.__values__=Kh(this.value()));var O=this.__index__>=this.__values__.length,J=O?i:this.__values__[this.__index__++];return{done:O,value:J}}function tf(){return this}function jh(O){for(var J,_e=this;_e instanceof Sc;){var ze=su(_e);ze.__index__=0,ze.__values__=i,J?at.__wrapped__=ze:J=ze;var at=ze;_e=_e.__wrapped__}return at.__wrapped__=O,J}function B0(){var O=this.__wrapped__;if(O instanceof Zr){var J=O;return this.__actions__.length&&(J=new Zr(this)),J=J.reverse(),J.__actions__.push({func:pc,args:[Uu],thisArg:i}),new _s(J,this.__chain__)}return this.thru(Uu)}function F0(){return Cc(this.__wrapped__,this.__actions__)}var N0=Ll(function(O,J,_e){wi.call(O,_e)?++O[_e]:ae(O,_e,1)});function z0(O,J,_e){var ze=pn(O)?Hr:kt;return _e&&ls(O,J,_e)&&(J=i),ze(O,Wr(J,3))}function j0(O,J){var _e=pn(O)?yr:Ct;return _e(O,Wr(J,3))}var U0=Qf(fc),Uh=Qf(Vd);function $0(O,J){return xt($h(O,J),1)}function vp(O,J){return xt($h(O,J),M)}function uu(O,J,_e){return _e=_e===i?1:Kr(_e),xt($h(O,J),_e)}function _p(O,J){var _e=pn(O)?Pi:_t;return _e(O,Wr(J,3))}function bp(O,J){var _e=pn(O)?rr:bt;return _e(O,Wr(J,3))}var V0=Ll(function(O,J,_e){wi.call(O,_e)?O[_e].push(J):ae(O,_e,[J])});function xp(O,J,_e,ze){O=Jn(O)?O:zc(O),_e=_e&&!ze?Kr(_e):0;var at=O.length;return _e<0&&(_e=Sa(at+_e,0)),Zh(O)?_e<=at&&O.indexOf(J,_e)>-1:!!at&&$r(O,J,_e)>-1}var wp=dn(function(O,J,_e){var ze=-1,at=typeof J=="function",vt=Jn(O)?mi(O.length):[];return _t(O,function(jt){vt[++ze]=at?Li(J,jt,_e):Yi(jt,J,_e)}),vt}),G0=Ll(function(O,J,_e){ae(O,_e,J)});function $h(O,J){var _e=pn(O)?rn:Po;return _e(O,Wr(J,3))}function H0(O,J,_e,ze){return O==null?[]:(pn(J)||(J=J==null?[]:[J]),_e=ze?i:_e,pn(_e)||(_e=_e==null?[]:[_e]),vo(O,J,_e))}var rf=Ll(function(O,J,_e){O[_e?0:1].push(J)},function(){return[[],[]]});function Vh(O,J,_e){var ze=pn(O)?Br:oo,at=arguments.length<3;return ze(O,Wr(J,4),_e,at,_t)}function Gh(O,J,_e){var ze=pn(O)?ya:oo,at=arguments.length<3;return ze(O,Wr(J,4),_e,at,bt)}function q0(O,J){var _e=pn(O)?yr:Ct;return _e(O,mc(Wr(J,3)))}function W0(O){var J=pn(O)?Ou:uc;return J(O)}function qu(O,J,_e){(_e?ls(O,J,_e):J===i)?J=1:J=Kr(J);var ze=pn(O)?kh:al;return ze(O,J)}function Wu(O){var J=pn(O)?Ru:_d;return J(O)}function Sp(O){if(O==null)return 0;if(Jn(O))return Zh(O)?Se(O):O.length;var J=ss(O);return J==Ae||J==Ie?O.size:Bn(O).length}function Yu(O,J,_e){var ze=pn(O)?ln:Gf;return _e&&ls(O,J,_e)&&(J=i),ze(O,Wr(J,3))}var kp=dn(function(O,J){if(O==null)return[];var _e=J.length;return _e>1&&ls(O,J[0],J[1])?J=[]:_e>2&&ls(J[0],J[1],J[2])&&(J=[J[0]]),vo(O,xt(J,1),[])}),Hh=dr||function(){return sa.Date.now()};function Ap(O,J){if(typeof J!="function")throw new la(d);return O=Kr(O),function(){if(--O<1)return J.apply(this,arguments)}}function nf(O,J,_e){return J=_e?i:J,J=O&&J==null?O.length:J,Oo(O,ne,i,i,i,i,J)}function af(O,J){var _e;if(typeof J!="function")throw new la(d);return O=Kr(O),function(){return--O>0&&(_e=J.apply(this,arguments)),O<=1&&(J=i),_e}}var qh=dn(function(O,J,_e){var ze=U;if(_e.length){var at=Ea(_e,Zl(qh));ze|=q}return Oo(O,ze,J,_e,at)}),of=dn(function(O,J,_e){var ze=U|T;if(_e.length){var at=Ea(_e,Zl(of));ze|=q}return Oo(J,ze,O,_e,at)});function sf(O,J,_e){J=_e?i:J;var ze=Oo(O,P,i,i,i,i,i,J);return ze.placeholder=sf.placeholder,ze}function Cp(O,J,_e){J=_e?i:J;var ze=Oo(O,G,i,i,i,i,i,J);return ze.placeholder=Cp.placeholder,ze}function Ep(O,J,_e){var ze,at,vt,jt,Kt,li,$i=0,qi=!1,Qi=!1,br=!0;if(typeof O!="function")throw new la(d);J=Uo(J)||0,Ma(_e)&&(qi=!!_e.leading,Qi="maxWait"in _e,vt=Qi?Sa(Uo(_e.maxWait)||0,J):vt,br="trailing"in _e?!!_e.trailing:br);function Ir(Qa){var Ro=ze,$l=at;return ze=at=i,$i=Qa,jt=O.apply($l,Ro),jt}function Qr(Qa){return $i=Qa,Kt=au(Pn,J),qi?Ir(Qa):jt}function kn(Qa){var Ro=Qa-li,$l=Qa-$i,ch=J-Ro;return Qi?Xn(ch,vt-$l):ch}function nn(Qa){var Ro=Qa-li,$l=Qa-$i;return li===i||Ro>=J||Ro<0||Qi&&$l>=vt}function Pn(){var Qa=Hh();if(nn(Qa))return Rn(Qa);Kt=au(Pn,kn(Qa))}function Rn(Qa){return Kt=i,br&&ze?Ir(Qa):(ze=at=i,jt)}function Fs(){Kt!==i&&Bu(Kt),$i=0,ze=li=at=Kt=i}function ds(){return Kt===i?jt:Rn(Hh())}function Ns(){var Qa=Hh(),Ro=nn(Qa);if(ze=arguments,at=this,li=Qa,Ro){if(Kt===i)return Qr(li);if(Qi)return Bu(Kt),Kt=au(Pn,J),Ir(li)}return Kt===i&&(Kt=au(Pn,J)),jt}return Ns.cancel=Fs,Ns.flush=ds,Ns}var Tp=dn(function(O,J){return Ye(O,1,J)}),Wh=dn(function(O,J,_e){return Ye(O,Uo(J)||0,_e)});function Pp(O){return Oo(O,L)}function bo(O,J){if(typeof O!="function"||J!=null&&typeof J!="function")throw new la(d);var _e=function(){var ze=arguments,at=J?J.apply(this,ze):ze[0],vt=_e.cache;if(vt.has(at))return vt.get(at);var jt=O.apply(this,ze);return _e.cache=vt.set(at,jt)||vt,jt};return _e.cache=new(bo.Cache||rl),_e}bo.Cache=rl;function mc(O){if(typeof O!="function")throw new la(d);return function(){var J=arguments;switch(J.length){case 0:return!O.call(this);case 1:return!O.call(this,J[0]);case 2:return!O.call(this,J[0],J[1]);case 3:return!O.call(this,J[0],J[1],J[2])}return!O.apply(this,J)}}function hu(O){return af(2,O)}var Xu=qf(function(O,J){J=J.length==1&&pn(J[0])?rn(J[0],Na(Wr())):rn(xt(J,1),Na(Wr()));var _e=J.length;return dn(function(ze){for(var at=-1,vt=Xn(ze.length,_e);++at<vt;)ze[at]=J[at].call(this,ze[at]);return Li(O,this,ze)})}),Yh=dn(function(O,J){var _e=Ea(J,Zl(Yh));return Oo(O,q,i,J,_e)}),lf=dn(function(O,J){var _e=Ea(J,Zl(lf));return Oo(O,N,i,J,_e)}),Y0=xl(function(O,J){return Oo(O,K,i,i,i,J)});function X0(O,J){if(typeof O!="function")throw new la(d);return J=J===i?J:Kr(J),dn(O,J)}function Z0(O,J){if(typeof O!="function")throw new la(d);return J=J==null?0:Sa(Kr(J),0),dn(function(_e){var ze=_e[J],at=Rl(_e,0,J);return ze&&sn(at,ze),Li(O,this,at)})}function K0(O,J,_e){var ze=!0,at=!0;if(typeof O!="function")throw new la(d);return Ma(_e)&&(ze="leading"in _e?!!_e.leading:ze,at="trailing"in _e?!!_e.trailing:at),Ep(O,J,{leading:ze,maxWait:J,trailing:at})}function J0(O){return nf(O,1)}function Q0(O,J){return Yh(Sd(J),O)}function Xh(){if(!arguments.length)return[];var O=arguments[0];return pn(O)?O:[O]}function em(O){return Te(O,Y)}function Mp(O,J){return J=typeof J=="function"?J:i,Te(O,Y,J)}function Ip(O){return Te(O,z|Y)}function Op(O,J){return J=typeof J=="function"?J:i,Te(O,z|Y,J)}function tm(O,J){return J==null||Ne(O,J,$a(J))}function Al(O,J){return O===J||O!==O&&J!==J}var im=Ys(ui),rm=Ys(function(O,J){return O>=J}),Fc=ai(function(){return arguments}())?ai:function(O){return Ua(O)&&wi.call(O,"callee")&&!Ot.call(O,"callee")},pn=mi.isArray,nm=tt?Na(tt):bi;function Jn(O){return O!=null&&Un(O.length)&&!zl(O)}function aa(O){return Ua(O)&&Jn(O)}function cf(O){return O===!0||O===!1||Ua(O)&&ji(O)==pe}var Cl=ic||Df,du=ut?Na(ut):vr;function am(O){return Ua(O)&&O.nodeType===1&&!Ju(O)}function om(O){if(O==null)return!0;if(Jn(O)&&(pn(O)||typeof O=="string"||typeof O.splice=="function"||Cl(O)||El(O)||Fc(O)))return!O.length;var J=ss(O);if(J==Ae||J==Ie)return!O.size;if(nu(O))return!Bn(O).length;for(var _e in O)if(wi.call(O,_e))return!1;return!0}function Zu(O,J){return Sr(O,J)}function sm(O,J,_e){_e=typeof _e=="function"?_e:i;var ze=_e?_e(O,J):i;return ze===i?Sr(O,J,i,_e):!!ze}function uf(O){if(!Ua(O))return!1;var J=ji(O);return J==xe||J==ge||typeof O.message=="string"&&typeof O.name=="string"&&!Ju(O)}function Ku(O){return typeof O=="number"&&wu(O)}function zl(O){if(!Ma(O))return!1;var J=ji(O);return J==ce||J==we||J==ue||J==ot}function hf(O){return typeof O=="number"&&O==Kr(O)}function Un(O){return typeof O=="number"&&O>-1&&O%1==0&&O<=X}function Ma(O){var J=typeof O;return O!=null&&(J=="object"||J=="function")}function Ua(O){return O!=null&&typeof O=="object"}var df=Yt?Na(Yt):Lr;function Jl(O,J){return O===J||on(O,J,Ih(J))}function fu(O,J,_e){return _e=typeof _e=="function"?_e:i,on(O,J,Ih(J),_e)}function Rp(O){return Dp(O)&&O!=+O}function lm(O){if(ip(O))throw new Fr(u);return Ar(O)}function cm(O){return O===null}function um(O){return O==null}function Dp(O){return typeof O=="number"||Ua(O)&&ji(O)==Fe}function Ju(O){if(!Ua(O)||ji(O)!=Ge)return!1;var J=Re(O);if(J===null)return!0;var _e=wi.call(J,"constructor")&&J.constructor;return typeof _e=="function"&&_e instanceof _e&&Qt.call(_e)==Mr}var ff=Ft?Na(Ft):mr;function hm(O){return hf(O)&&O>=-X&&O<=X}var Lp=ci?Na(ci):jn;function Zh(O){return typeof O=="string"||!pn(O)&&Ua(O)&&ji(O)==Ue}function hs(O){return typeof O=="symbol"||Ua(O)&&ji(O)==He}var El=Ii?Na(Ii):Mn;function Bp(O){return O===i}function dm(O){return Ua(O)&&ss(O)==Je}function fm(O){return Ua(O)&&ji(O)==st}var pm=Ys(jo),pf=Ys(function(O,J){return O<=J});function Kh(O){if(!O)return[];if(Jn(O))return Zh(O)?$e(O):Ja(O);if(gn&&O[gn])return Vs(O[gn]());var J=ss(O),_e=J==Ae?Ps:J==Ie?rs:zc;return _e(O)}function jl(O){if(!O)return O===0?O:0;if(O=Uo(O),O===M||O===-M){var J=O<0?-1:1;return J*re}return O===O?O:0}function Kr(O){var J=jl(O),_e=J%1;return J===J?_e?J-_e:J:0}function pu(O){return O?ke(Kr(O),0,he):0}function Uo(O){if(typeof O=="number")return O;if(hs(O))return ee;if(Ma(O)){var J=typeof O.valueOf=="function"?O.valueOf():O;O=Ma(J)?J+"":J}if(typeof O!="string")return O===0?O:+O;O=ps(O);var _e=oi.test(O);return _e||si.test(O)?fs(O.slice(2),_e?2:8):er.test(O)?ee:+O}function Jh(O){return po(O,Ss(O))}function Qh(O){return O?ke(Kr(O),-X,X):O===0?O:0}function oa(O){return O==null?"":Rs(O)}var Fp=eu(function(O,J){if(nu(J)||Jn(J)){po(J,$a(J),O);return}for(var _e in J)wi.call(J,_e)&&D(O,_e,J[_e])}),mf=eu(function(O,J){po(J,Ss(J),O)}),ed=eu(function(O,J,_e,ze){po(J,Ss(J),O,ze)}),Np=eu(function(O,J,_e,ze){po(J,$a(J),O,ze)}),zp=xl(ve);function gf(O,J){var _e=yl(O);return J==null?_e:V(_e,J)}var jp=dn(function(O,J){O=Xr(O);var _e=-1,ze=J.length,at=ze>2?J[2]:i;for(at&&ls(J[0],J[1],at)&&(ze=1);++_e<ze;)for(var vt=J[_e],jt=Ss(vt),Kt=-1,li=jt.length;++Kt<li;){var $i=jt[Kt],qi=O[$i];(qi===i||Al(qi,Gt[$i])&&!wi.call(O,$i))&&(O[$i]=vt[$i])}return O}),mm=dn(function(O){return O.push(i,Pc),Li(Qu,i,O)});function Up(O,J){return va(O,Wr(J,3),zt)}function Ql(O,J){return va(O,Wr(J,3),Jt)}function $p(O,J){return O==null?O:Rt(O,Wr(J,3),Ss)}function Vp(O,J){return O==null?O:Ht(O,Wr(J,3),Ss)}function Gp(O,J){return O&&zt(O,Wr(J,3))}function Hp(O,J){return O&&Jt(O,Wr(J,3))}function gm(O){return O==null?[]:yi(O,$a(O))}function ym(O){return O==null?[]:yi(O,Ss(O))}function td(O,J,_e){var ze=O==null?i:di(O,J);return ze===i?_e:ze}function qp(O,J){return O!=null&&Ld(O,J,Oi)}function Nc(O,J){return O!=null&&Ld(O,J,Si)}var Wp=Xl(function(O,J,_e){J!=null&&typeof J.toString!="function"&&(J=Wi.call(J)),O[J]=_e},Mf(lo)),Yp=Xl(function(O,J,_e){J!=null&&typeof J.toString!="function"&&(J=Wi.call(J)),wi.call(O,J)?O[J].push(_e):O[J]=[_e]},Wr),yf=dn(Yi);function $a(O){return Jn(O)?Kc(O):Bn(O)}function Ss(O){return Jn(O)?Kc(O,!0):ns(O)}function id(O,J){var _e={};return J=Wr(J,3),zt(O,function(ze,at,vt){ae(_e,J(ze,at,vt),ze)}),_e}function Xp(O,J){var _e={};return J=Wr(J,3),zt(O,function(ze,at,vt){ae(_e,at,J(ze,at,vt))}),_e}var rd=eu(function(O,J,_e){Fn(O,J,_e)}),Qu=eu(function(O,J,_e,ze){Fn(O,J,_e,ze)}),vm=xl(function(O,J){var _e={};if(O==null)return _e;var ze=!1;J=rn(J,function(vt){return vt=_l(vt,O),ze||(ze=vt.length>1),vt}),po(O,Od(O),_e),ze&&(_e=Te(_e,z|H|Y,Pd));for(var at=J.length;at--;)Ch(_e,J[at]);return _e});function _m(O,J){return Zp(O,mc(Wr(J)))}var bm=xl(function(O,J){return O==null?{}:Kn(O,J)});function Zp(O,J){if(O==null)return{};var _e=rn(Od(O),function(ze){return[ze]});return J=Wr(J),Mo(O,_e,function(ze,at){return J(ze,at[0])})}function xm(O,J,_e){J=_l(J,O);var ze=-1,at=J.length;for(at||(at=1,O=i);++ze<at;){var vt=O==null?i:O[Ls(J[ze])];vt===i&&(ze=at,vt=_e),O=zl(vt)?vt.call(O):vt}return O}function mu(O,J,_e){return O==null?O:ql(O,J,_e)}function vf(O,J,_e,ze){return ze=typeof ze=="function"?ze:i,O==null?O:ql(O,J,_e,ze)}var Kp=Ed($a),_f=Ed(Ss);function wm(O,J,_e){var ze=pn(O),at=ze||Cl(O)||El(O);if(J=Wr(J,4),_e==null){var vt=O&&O.constructor;at?_e=ze?new vt:[]:Ma(O)?_e=zl(vt)?yl(Re(O)):{}:_e={}}return(at?Pi:zt)(O,function(jt,Kt,li){return J(_e,jt,Kt,li)}),_e}function bf(O,J){return O==null?!0:Ch(O,J)}function Sm(O,J,_e){return O==null?O:Hf(O,J,Sd(_e))}function gc(O,J,_e,ze){return ze=typeof ze=="function"?ze:i,O==null?O:Hf(O,J,Sd(_e),ze)}function zc(O){return O==null?[]:is(O,$a(O))}function Jp(O){return O==null?[]:is(O,Ss(O))}function nd(O,J,_e){return _e===i&&(_e=J,J=i),_e!==i&&(_e=Uo(_e),_e=_e===_e?_e:0),J!==i&&(J=Uo(J),J=J===J?J:0),ke(Uo(O),J,_e)}function xf(O,J,_e){return J=jl(J),_e===i?(_e=J,J=0):_e=jl(_e),O=Uo(O),Hi(O,J,_e)}function km(O,J,_e){if(_e&&typeof _e!="boolean"&&ls(O,J,_e)&&(J=_e=i),_e===i&&(typeof J=="boolean"?(_e=J,J=i):typeof O=="boolean"&&(_e=O,O=i)),O===i&&J===i?(O=0,J=1):(O=jl(O),J===i?(J=O,O=0):J=jl(J)),O>J){var ze=O;O=J,J=ze}if(_e||O%1||J%1){var at=fh();return Xn(O+at*(J-O+Es("1e-"+((at+"").length-1))),J)}return os(O,J)}var Am=Yl(function(O,J,_e){return J=J.toLowerCase(),O+(_e?wf(J):J)});function wf(O){return sd(oa(O).toLowerCase())}function Sf(O){return O=oa(O),O&&O.replace(Vi,$s).replace($n,"")}function eh(O,J,_e){O=oa(O),J=Rs(J);var ze=O.length;_e=_e===i?ze:ke(Kr(_e),0,ze);var at=_e;return _e-=J.length,_e>=0&&O.slice(_e,at)==J}function ec(O){return O=oa(O),O&&Nn.test(O)?O.replace(or,gs):O}function kf(O){return O=oa(O),O&&nt.test(O)?O.replace(We,"\\$&"):O}var gu=Yl(function(O,J,_e){return O+(_e?"-":"")+J.toLowerCase()}),yu=Yl(function(O,J,_e){return O+(_e?" ":"")+J.toLowerCase()}),cl=Ad("toLowerCase");function ul(O,J,_e){O=oa(O),J=Kr(J);var ze=J?Se(O):0;if(!J||ze>=J)return O;var at=(J-ze)/2;return Fu(bc(at),_e)+O+Fu(Pl(at),_e)}function Cm(O,J,_e){O=oa(O),J=Kr(J);var ze=J?Se(O):0;return J&&ze<J?O+Fu(J-ze,_e):O}function Qp(O,J,_e){O=oa(O),J=Kr(J);var ze=J?Se(O):0;return J&&ze<J?Fu(J-ze,_e)+O:O}function Em(O,J,_e){return _e||J==null?J=0:J&&(J=+J),nc(oa(O).replace(St,""),J||0)}function Af(O,J,_e){return(_e?ls(O,J,_e):J===i)?J=1:J=Kr(J),Os(oa(O),J)}function Ul(){var O=arguments,J=oa(O[0]);return O.length<3?J:J.replace(O[1],O[2])}var jc=Yl(function(O,J,_e){return O+(_e?"_":"")+J.toLowerCase()});function e0(O,J,_e){return _e&&typeof _e!="number"&&ls(O,J,_e)&&(J=_e=i),_e=_e===i?he:_e>>>0,_e?(O=oa(O),O&&(typeof J=="string"||J!=null&&!ff(J))&&(J=Rs(J),!J&&fo(O))?Rl($e(O),0,_e):O.split(J,_e)):[]}var t0=Yl(function(O,J,_e){return O+(_e?" ":"")+sd(J)});function Tm(O,J,_e){return O=oa(O),_e=_e==null?0:ke(Kr(_e),0,O.length),J=Rs(J),O.slice(_e,_e+J.length)==J}function ad(O,J,_e){var ze=gt.templateSettings;_e&&ls(O,J,_e)&&(J=i),O=oa(O),J=ed({},J,ze,Td);var at=ed({},J.imports,ze.imports,Td),vt=$a(at),jt=is(at,vt),Kt,li,$i=0,qi=J.interpolate||nr,Qi="__p += '",br=Ka((J.escape||nr).source+"|"+qi.source+"|"+(qi===Ln?ri:nr).source+"|"+(J.evaluate||nr).source+"|$","g"),Ir="//# sourceURL="+(wi.call(J,"sourceURL")?(J.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++el+"]")+`
`;O.replace(br,function(nn,Pn,Rn,Fs,ds,Ns){return Rn||(Rn=Fs),Qi+=O.slice($i,Ns).replace(Ur,pl),Pn&&(Kt=!0,Qi+=`' +
__e(`+Pn+`) +
'`),ds&&(li=!0,Qi+=`';
`+ds+`;
__p += '`),Rn&&(Qi+=`' +
((__t = (`+Rn+`)) == null ? '' : __t) +
'`),$i=Ns+nn.length,nn}),Qi+=`';
`;var Qr=wi.call(J,"variable")&&J.variable;if(!Qr)Qi=`with (obj) {
`+Qi+`
}
`;else if(Ze.test(Qr))throw new Fr(n);Qi=(li?Qi.replace(cr,""):Qi).replace(Yr,"$1").replace(Cr,"$1;"),Qi="function("+(Qr||"obj")+`) {
`+(Qr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Kt?", __e = _.escape":"")+(li?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Qi+`return __p
}`;var kn=Tf(function(){return hn(vt,Ir+"return "+Qi).apply(i,jt)});if(kn.source=Qi,uf(kn))throw kn;return kn}function Cf(O){return oa(O).toLowerCase()}function vu(O){return oa(O).toUpperCase()}function th(O,J,_e){if(O=oa(O),O&&(_e||J===i))return ps(O);if(!O||!(J=Rs(J)))return O;var ze=$e(O),at=$e(J),vt=Ts(ze,at),jt=Eo(ze,at)+1;return Rl(ze,vt,jt).join("")}function ih(O,J,_e){if(O=oa(O),O&&(_e||J===i))return O.slice(0,dt(O)+1);if(!O||!(J=Rs(J)))return O;var ze=$e(O),at=Eo(ze,$e(J))+1;return Rl(ze,0,at).join("")}function od(O,J,_e){if(O=oa(O),O&&(_e||J===i))return O.replace(St,"");if(!O||!(J=Rs(J)))return O;var ze=$e(O),at=Ts(ze,$e(J));return Rl(ze,at).join("")}function i0(O,J){var _e=E,ze=w;if(Ma(J)){var at="separator"in J?J.separator:at;_e="length"in J?Kr(J.length):_e,ze="omission"in J?Rs(J.omission):ze}O=oa(O);var vt=O.length;if(fo(O)){var jt=$e(O);vt=jt.length}if(_e>=vt)return O;var Kt=_e-Se(ze);if(Kt<1)return ze;var li=jt?Rl(jt,0,Kt).join(""):O.slice(0,Kt);if(at===i)return li+ze;if(jt&&(Kt+=li.length-Kt),ff(at)){if(O.slice(Kt).search(at)){var $i,qi=li;for(at.global||(at=Ka(at.source,oa(ti.exec(at))+"g")),at.lastIndex=0;$i=at.exec(qi);)var Qi=$i.index;li=li.slice(0,Qi===i?Kt:Qi)}}else if(O.indexOf(Rs(at),Kt)!=Kt){var br=li.lastIndexOf(at);br>-1&&(li=li.slice(0,br))}return li+ze}function rh(O){return O=oa(O),O&&Sn.test(O)?O.replace(jr,ii):O}var Ef=Yl(function(O,J,_e){return O+(_e?" ":"")+J.toUpperCase()}),sd=Ad("toUpperCase");function Uc(O,J,_e){return O=oa(O),J=_e?i:J,J===i?ys(O)?pr(O):yo(O):O.match(J)||[]}var Tf=dn(function(O,J){try{return Li(O,i,J)}catch(_e){return uf(_e)?_e:new Fr(_e)}}),Pf=xl(function(O,J){return Pi(J,function(_e){_e=Ls(_e),ae(O,_e,qh(O[_e],O))}),O});function r0(O){var J=O==null?0:O.length,_e=Wr();return O=J?rn(O,function(ze){if(typeof ze[1]!="function")throw new la(d);return[_e(ze[0]),ze[1]]}):[],dn(function(ze){for(var at=-1;++at<J;){var vt=O[at];if(Li(vt[0],this,ze))return Li(vt[1],this,ze)}})}function Pm(O){return je(Te(O,z))}function Mf(O){return function(){return O}}function n0(O,J){return O==null||O!==O?J:O}var $c=za(),Mm=za(!0);function lo(O){return O}function If(O){return Gn(typeof O=="function"?O:Te(O,z))}function nh(O){return Hs(Te(O,z))}function ah(O,J){return Zn(O,Te(J,z))}var oh=dn(function(O,J){return function(_e){return Yi(_e,O,J)}}),sh=dn(function(O,J){return function(_e){return Yi(O,_e,J)}});function _u(O,J,_e){var ze=$a(J),at=yi(J,ze);_e==null&&!(Ma(J)&&(at.length||!ze.length))&&(_e=J,J=O,O=this,at=yi(J,$a(J)));var vt=!(Ma(_e)&&"chain"in _e)||!!_e.chain,jt=zl(O);return Pi(at,function(Kt){var li=J[Kt];O[Kt]=li,jt&&(O.prototype[Kt]=function(){var $i=this.__chain__;if(vt||$i){var qi=O(this.__wrapped__),Qi=qi.__actions__=Ja(this.__actions__);return Qi.push({func:li,args:arguments,thisArg:O}),qi.__chain__=$i,qi}return li.apply(O,sn([this.value()],arguments))})}),O}function Im(){return sa._===this&&(sa._=Dr),this}function Of(){}function bu(O){return O=Kr(O),dn(function(J){return Pa(J,O)})}var ld=wn(rn),Om=wn(Hr),a0=wn(ln);function Rf(O){return Fd(O)?xa(Ls(O)):Ac(O)}function Rm(O){return function(J){return O==null?i:di(O,J)}}var o0=bl(),Dm=bl(!0);function cd(){return[]}function Df(){return!1}function s0(){return{}}function Lm(){return""}function Bm(){return!0}function ud(O,J){if(O=Kr(O),O<1||O>X)return[];var _e=he,ze=Xn(O,he);J=Wr(J),O-=he;for(var at=uo(ze,J);++_e<O;)J(_e);return at}function hd(O){return pn(O)?rn(O,Ls):hs(O)?[O]:Ja(Ud(oa(O)))}function dd(O){var J=++Ui;return oa(O)+J}var Fm=Tc(function(O,J){return O+J},0),Lf=ws("ceil"),Bf=Tc(function(O,J){return O/J},1),yc=ws("floor");function Nm(O){return O&&O.length?ft(O,lo,ui):i}function Ff(O,J){return O&&O.length?ft(O,Wr(J,2),ui):i}function l0(O){return qn(O,lo)}function fd(O,J){return qn(O,Wr(J,2))}function zm(O){return O&&O.length?ft(O,lo,jo):i}function jm(O,J){return O&&O.length?ft(O,Wr(J,2),jo):i}var Um=Tc(function(O,J){return O*J},1),$m=ws("round"),Nf=Tc(function(O,J){return O-J},0);function Vm(O){return O&&O.length?cn(O,lo):0}function lh(O,J){return O&&O.length?cn(O,Wr(J,2)):0}return gt.after=Ap,gt.ary=nf,gt.assign=Fp,gt.assignIn=mf,gt.assignInWith=ed,gt.assignWith=Np,gt.at=zp,gt.before=af,gt.bind=qh,gt.bindAll=Pf,gt.bindKey=of,gt.castArray=Xh,gt.chain=gp,gt.chunk=cs,gt.compact=sl,gt.concat=$d,gt.cond=r0,gt.conforms=Pm,gt.constant=Mf,gt.countBy=N0,gt.create=gf,gt.curry=sf,gt.curryRight=Cp,gt.debounce=Ep,gt.defaults=jp,gt.defaultsDeep=mm,gt.defer=Tp,gt.delay=Wh,gt.difference=La,gt.differenceBy=np,gt.differenceWith=ju,gt.drop=kl,gt.dropRight=g0,gt.dropRightWhile=y0,gt.dropWhile=ap,gt.fill=op,gt.filter=j0,gt.flatMap=$0,gt.flatMapDeep=vp,gt.flatMapDepth=uu,gt.flatten=Gd,gt.flattenDeep=sp,gt.flattenDepth=lp,gt.flip=Pp,gt.flow=$c,gt.flowRight=Mm,gt.fromPairs=v0,gt.functions=gm,gt.functionsIn=ym,gt.groupBy=V0,gt.initial=qd,gt.intersection=us,gt.intersectionBy=cp,gt.intersectionWith=_0,gt.invert=Wp,gt.invertBy=Yp,gt.invokeMap=wp,gt.iteratee=If,gt.keyBy=G0,gt.keys=$a,gt.keysIn=Ss,gt.map=$h,gt.mapKeys=id,gt.mapValues=Xp,gt.matches=nh,gt.matchesProperty=ah,gt.memoize=bo,gt.merge=rd,gt.mergeWith=Qu,gt.method=oh,gt.methodOf=sh,gt.mixin=_u,gt.negate=mc,gt.nthArg=bu,gt.omit=vm,gt.omitBy=_m,gt.once=hu,gt.orderBy=H0,gt.over=ld,gt.overArgs=Xu,gt.overEvery=Om,gt.overSome=a0,gt.partial=Yh,gt.partialRight=lf,gt.partition=rf,gt.pick=bm,gt.pickBy=Zp,gt.property=Rf,gt.propertyOf=Rm,gt.pull=dp,gt.pullAll=Wd,gt.pullAllBy=Yd,gt.pullAllWith=Kl,gt.pullAt=Bs,gt.range=o0,gt.rangeRight=Dm,gt.rearg=Y0,gt.reject=q0,gt.remove=x0,gt.rest=X0,gt.reverse=Uu,gt.sampleSize=qu,gt.set=mu,gt.setWith=vf,gt.shuffle=Wu,gt.slice=w0,gt.sortBy=kp,gt.sortedUniq=Vu,gt.sortedUniqBy=A0,gt.split=e0,gt.spread=Z0,gt.tail=C0,gt.take=E0,gt.takeRight=T0,gt.takeRightWhile=P0,gt.takeWhile=M0,gt.tap=yp,gt.throttle=K0,gt.thru=pc,gt.toArray=Kh,gt.toPairs=Kp,gt.toPairsIn=_f,gt.toPath=hd,gt.toPlainObject=Jh,gt.transform=wm,gt.unary=J0,gt.union=I0,gt.unionBy=Xd,gt.unionWith=O0,gt.uniq=lu,gt.uniqBy=R0,gt.uniqWith=ja,gt.unset=bf,gt.unzip=cu,gt.unzipWith=Zd,gt.update=Sm,gt.updateWith=gc,gt.values=zc,gt.valuesIn=Jp,gt.without=Nh,gt.words=Uc,gt.wrap=Q0,gt.xor=zh,gt.xorBy=Gu,gt.xorWith=pp,gt.zip=mp,gt.zipObject=Hu,gt.zipObjectDeep=Kd,gt.zipWith=Jd,gt.entries=Kp,gt.entriesIn=_f,gt.extend=mf,gt.extendWith=ed,_u(gt,gt),gt.add=Fm,gt.attempt=Tf,gt.camelCase=Am,gt.capitalize=wf,gt.ceil=Lf,gt.clamp=nd,gt.clone=em,gt.cloneDeep=Ip,gt.cloneDeepWith=Op,gt.cloneWith=Mp,gt.conformsTo=tm,gt.deburr=Sf,gt.defaultTo=n0,gt.divide=Bf,gt.endsWith=eh,gt.eq=Al,gt.escape=ec,gt.escapeRegExp=kf,gt.every=z0,gt.find=U0,gt.findIndex=fc,gt.findKey=Up,gt.findLast=Uh,gt.findLastIndex=Vd,gt.findLastKey=Ql,gt.floor=yc,gt.forEach=_p,gt.forEachRight=bp,gt.forIn=$p,gt.forInRight=Vp,gt.forOwn=Gp,gt.forOwnRight=Hp,gt.get=td,gt.gt=im,gt.gte=rm,gt.has=qp,gt.hasIn=Nc,gt.head=Bh,gt.identity=lo,gt.includes=xp,gt.indexOf=Hd,gt.inRange=xf,gt.invoke=yf,gt.isArguments=Fc,gt.isArray=pn,gt.isArrayBuffer=nm,gt.isArrayLike=Jn,gt.isArrayLikeObject=aa,gt.isBoolean=cf,gt.isBuffer=Cl,gt.isDate=du,gt.isElement=am,gt.isEmpty=om,gt.isEqual=Zu,gt.isEqualWith=sm,gt.isError=uf,gt.isFinite=Ku,gt.isFunction=zl,gt.isInteger=hf,gt.isLength=Un,gt.isMap=df,gt.isMatch=Jl,gt.isMatchWith=fu,gt.isNaN=Rp,gt.isNative=lm,gt.isNil=um,gt.isNull=cm,gt.isNumber=Dp,gt.isObject=Ma,gt.isObjectLike=Ua,gt.isPlainObject=Ju,gt.isRegExp=ff,gt.isSafeInteger=hm,gt.isSet=Lp,gt.isString=Zh,gt.isSymbol=hs,gt.isTypedArray=El,gt.isUndefined=Bp,gt.isWeakMap=dm,gt.isWeakSet=fm,gt.join=up,gt.kebabCase=gu,gt.last=ll,gt.lastIndexOf=b0,gt.lowerCase=yu,gt.lowerFirst=cl,gt.lt=pm,gt.lte=pf,gt.max=Nm,gt.maxBy=Ff,gt.mean=l0,gt.meanBy=fd,gt.min=zm,gt.minBy=jm,gt.stubArray=cd,gt.stubFalse=Df,gt.stubObject=s0,gt.stubString=Lm,gt.stubTrue=Bm,gt.multiply=Um,gt.nth=hp,gt.noConflict=Im,gt.noop=Of,gt.now=Hh,gt.pad=ul,gt.padEnd=Cm,gt.padStart=Qp,gt.parseInt=Em,gt.random=km,gt.reduce=Vh,gt.reduceRight=Gh,gt.repeat=Af,gt.replace=Ul,gt.result=xm,gt.round=$m,gt.runInContext=Xt,gt.sample=W0,gt.size=Sp,gt.snakeCase=jc,gt.some=Yu,gt.sortedIndex=S0,gt.sortedIndexBy=k0,gt.sortedIndexOf=$u,gt.sortedLastIndex=Fh,gt.sortedLastIndexBy=fp,gt.sortedLastIndexOf=Bc,gt.startCase=t0,gt.startsWith=Tm,gt.subtract=Nf,gt.sum=Vm,gt.sumBy=lh,gt.template=ad,gt.times=ud,gt.toFinite=jl,gt.toInteger=Kr,gt.toLength=pu,gt.toLower=Cf,gt.toNumber=Uo,gt.toSafeInteger=Qh,gt.toString=oa,gt.toUpper=vu,gt.trim=th,gt.trimEnd=ih,gt.trimStart=od,gt.truncate=i0,gt.unescape=rh,gt.uniqueId=dd,gt.upperCase=Ef,gt.upperFirst=sd,gt.each=_p,gt.eachRight=bp,gt.first=Bh,_u(gt,function(){var O={};return zt(gt,function(J,_e){wi.call(gt.prototype,_e)||(O[_e]=J)}),O}(),{chain:!1}),gt.VERSION=a,Pi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(O){gt[O].placeholder=gt}),Pi(["drop","take"],function(O,J){Zr.prototype[O]=function(_e){_e=_e===i?1:Sa(Kr(_e),0);var ze=this.__filtered__&&!J?new Zr(this):this.clone();return ze.__filtered__?ze.__takeCount__=Xn(_e,ze.__takeCount__):ze.__views__.push({size:Xn(_e,he),type:O+(ze.__dir__<0?"Right":"")}),ze},Zr.prototype[O+"Right"]=function(_e){return this.reverse()[O](_e).reverse()}}),Pi(["filter","map","takeWhile"],function(O,J){var _e=J+1,ze=_e==m||_e==x;Zr.prototype[O]=function(at){var vt=this.clone();return vt.__iteratees__.push({iteratee:Wr(at,3),type:_e}),vt.__filtered__=vt.__filtered__||ze,vt}}),Pi(["head","last"],function(O,J){var _e="take"+(J?"Right":"");Zr.prototype[O]=function(){return this[_e](1).value()[0]}}),Pi(["initial","tail"],function(O,J){var _e="drop"+(J?"":"Right");Zr.prototype[O]=function(){return this.__filtered__?new Zr(this):this[_e](1)}}),Zr.prototype.compact=function(){return this.filter(lo)},Zr.prototype.find=function(O){return this.filter(O).head()},Zr.prototype.findLast=function(O){return this.reverse().find(O)},Zr.prototype.invokeMap=dn(function(O,J){return typeof O=="function"?new Zr(this):this.map(function(_e){return Yi(_e,O,J)})}),Zr.prototype.reject=function(O){return this.filter(mc(Wr(O)))},Zr.prototype.slice=function(O,J){O=Kr(O);var _e=this;return _e.__filtered__&&(O>0||J<0)?new Zr(_e):(O<0?_e=_e.takeRight(-O):O&&(_e=_e.drop(O)),J!==i&&(J=Kr(J),_e=J<0?_e.dropRight(-J):_e.take(J-O)),_e)},Zr.prototype.takeRightWhile=function(O){return this.reverse().takeWhile(O).reverse()},Zr.prototype.toArray=function(){return this.take(he)},zt(Zr.prototype,function(O,J){var _e=/^(?:filter|find|map|reject)|While$/.test(J),ze=/^(?:head|last)$/.test(J),at=gt[ze?"take"+(J=="last"?"Right":""):J],vt=ze||/^find/.test(J);at&&(gt.prototype[J]=function(){var jt=this.__wrapped__,Kt=ze?[1]:arguments,li=jt instanceof Zr,$i=Kt[0],qi=li||pn(jt),Qi=function(Pn){var Rn=at.apply(gt,sn([Pn],Kt));return ze&&br?Rn[0]:Rn};qi&&_e&&typeof $i=="function"&&$i.length!=1&&(li=qi=!1);var br=this.__chain__,Ir=!!this.__actions__.length,Qr=vt&&!br,kn=li&&!Ir;if(!vt&&qi){jt=kn?jt:new Zr(this);var nn=O.apply(jt,Kt);return nn.__actions__.push({func:pc,args:[Qi],thisArg:i}),new _s(nn,br)}return Qr&&kn?O.apply(this,Kt):(nn=this.thru(Qi),Qr?ze?nn.value()[0]:nn.value():nn)})}),Pi(["pop","push","shift","sort","splice","unshift"],function(O){var J=mt[O],_e=/^(?:push|sort|unshift)$/.test(O)?"tap":"thru",ze=/^(?:pop|shift)$/.test(O);gt.prototype[O]=function(){var at=arguments;if(ze&&!this.__chain__){var vt=this.value();return J.apply(pn(vt)?vt:[],at)}return this[_e](function(jt){return J.apply(pn(jt)?jt:[],at)})}}),zt(Zr.prototype,function(O,J){var _e=gt[J];if(_e){var ze=_e.name+"";wi.call(Vl,ze)||(Vl[ze]=[]),Vl[ze].push({name:J,func:_e})}}),Vl[Pr(i,T).name]=[{name:"wrapper",func:i}],Zr.prototype.clone=yd,Zr.prototype.reverse=Cu,Zr.prototype.value=vd,gt.prototype.at=D0,gt.prototype.chain=Qd,gt.prototype.commit=L0,gt.prototype.next=ef,gt.prototype.plant=jh,gt.prototype.reverse=B0,gt.prototype.toJSON=gt.prototype.valueOf=gt.prototype.value=F0,gt.prototype.first=gt.prototype.head,gn&&(gt.prototype[gn]=tf),gt},Gr=kr();be?((be.exports=Gr)._=Gr,se._=Gr):sa._=Gr}).call(commonjsGlobal$1)})(lodash,lodash.exports);var lodashExports=lodash.exports;const _=getDefaultExportFromCjs(lodashExports);var jquery={exports:{}};/*!
 * jQuery JavaScript Library v3.6.3
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-12-20T21:28Z
 */(function(e){(function(t,i){e.exports=t.document?i(t,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return i(a)}})(typeof window<"u"?window:commonjsGlobal$1,function(t,i){var a=[],o=Object.getPrototypeOf,u=a.slice,d=a.flat?function(se){return a.flat.call(se)}:function(se){return a.concat.apply([],se)},n=a.push,k=a.indexOf,j={},Z=j.toString,z=j.hasOwnProperty,H=z.toString,Y=H.call(Object),I={},B=function(be){return typeof be=="function"&&typeof be.nodeType!="number"&&typeof be.item!="function"},U=function(be){return be!=null&&be===be.window},T=t.document,C={type:!0,src:!0,nonce:!0,noModule:!0};function P(se,be,Pe){Pe=Pe||T;var Be,Xe,tt=Pe.createElement("script");if(tt.text=se,be)for(Be in C)Xe=be[Be]||be.getAttribute&&be.getAttribute(Be),Xe&&tt.setAttribute(Be,Xe);Pe.head.appendChild(tt).parentNode.removeChild(tt)}function G(se){return se==null?se+"":typeof se=="object"||typeof se=="function"?j[Z.call(se)]||"object":typeof se}var q="3.6.3",N=function(se,be){return new N.fn.init(se,be)};N.fn=N.prototype={jquery:q,constructor:N,length:0,toArray:function(){return u.call(this)},get:function(se){return se==null?u.call(this):se<0?this[se+this.length]:this[se]},pushStack:function(se){var be=N.merge(this.constructor(),se);return be.prevObject=this,be},each:function(se){return N.each(this,se)},map:function(se){return this.pushStack(N.map(this,function(be,Pe){return se.call(be,Pe,be)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(N.grep(this,function(se,be){return(be+1)%2}))},odd:function(){return this.pushStack(N.grep(this,function(se,be){return be%2}))},eq:function(se){var be=this.length,Pe=+se+(se<0?be:0);return this.pushStack(Pe>=0&&Pe<be?[this[Pe]]:[])},end:function(){return this.prevObject||this.constructor()},push:n,sort:a.sort,splice:a.splice},N.extend=N.fn.extend=function(){var se,be,Pe,Be,Xe,tt,ut=arguments[0]||{},Yt=1,Ft=arguments.length,ci=!1;for(typeof ut=="boolean"&&(ci=ut,ut=arguments[Yt]||{},Yt++),typeof ut!="object"&&!B(ut)&&(ut={}),Yt===Ft&&(ut=this,Yt--);Yt<Ft;Yt++)if((se=arguments[Yt])!=null)for(be in se)Be=se[be],!(be==="__proto__"||ut===Be)&&(ci&&Be&&(N.isPlainObject(Be)||(Xe=Array.isArray(Be)))?(Pe=ut[be],Xe&&!Array.isArray(Pe)?tt=[]:!Xe&&!N.isPlainObject(Pe)?tt={}:tt=Pe,Xe=!1,ut[be]=N.extend(ci,tt,Be)):Be!==void 0&&(ut[be]=Be));return ut},N.extend({expando:"jQuery"+(q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(se){throw new Error(se)},noop:function(){},isPlainObject:function(se){var be,Pe;return!se||Z.call(se)!=="[object Object]"?!1:(be=o(se),be?(Pe=z.call(be,"constructor")&&be.constructor,typeof Pe=="function"&&H.call(Pe)===Y):!0)},isEmptyObject:function(se){var be;for(be in se)return!1;return!0},globalEval:function(se,be,Pe){P(se,{nonce:be&&be.nonce},Pe)},each:function(se,be){var Pe,Be=0;if(ne(se))for(Pe=se.length;Be<Pe&&be.call(se[Be],Be,se[Be])!==!1;Be++);else for(Be in se)if(be.call(se[Be],Be,se[Be])===!1)break;return se},makeArray:function(se,be){var Pe=be||[];return se!=null&&(ne(Object(se))?N.merge(Pe,typeof se=="string"?[se]:se):n.call(Pe,se)),Pe},inArray:function(se,be,Pe){return be==null?-1:k.call(be,se,Pe)},merge:function(se,be){for(var Pe=+be.length,Be=0,Xe=se.length;Be<Pe;Be++)se[Xe++]=be[Be];return se.length=Xe,se},grep:function(se,be,Pe){for(var Be,Xe=[],tt=0,ut=se.length,Yt=!Pe;tt<ut;tt++)Be=!be(se[tt],tt),Be!==Yt&&Xe.push(se[tt]);return Xe},map:function(se,be,Pe){var Be,Xe,tt=0,ut=[];if(ne(se))for(Be=se.length;tt<Be;tt++)Xe=be(se[tt],tt,Pe),Xe!=null&&ut.push(Xe);else for(tt in se)Xe=be(se[tt],tt,Pe),Xe!=null&&ut.push(Xe);return d(ut)},guid:1,support:I}),typeof Symbol=="function"&&(N.fn[Symbol.iterator]=a[Symbol.iterator]),N.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(se,be){j["[object "+be+"]"]=be.toLowerCase()});function ne(se){var be=!!se&&"length"in se&&se.length,Pe=G(se);return B(se)||U(se)?!1:Pe==="array"||be===0||typeof be=="number"&&be>0&&be-1 in se}var K=function(se){var be,Pe,Be,Xe,tt,ut,Yt,Ft,ci,Ii,Li,xi,Pi,rr,Hr,yr,Vn,Cn,rn,sn="sizzle"+1*new Date,Br=se.document,ya=0,ln=0,En=$e(),Co=$e(),yo=$e(),va=$e(),Da=function(mt,Nt){return mt===Nt&&(Li=!0),0},$r={}.hasOwnProperty,ba=[],qa=ba.pop,qn=ba.push,xa=ba.push,ao=ba.slice,oo=function(mt,Nt){for(var Gt=0,Mi=mt.length;Gt<Mi;Gt++)if(mt[Gt]===Nt)return Gt;return-1},js="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",cn="[\\x20\\t\\r\\n\\f]",uo="(?:\\\\[\\da-fA-F]{1,6}"+cn+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Us="\\["+cn+"*("+uo+")(?:"+cn+"*([*^$|!~]?=)"+cn+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+uo+"))|)"+cn+"*\\]",ps=":("+uo+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Us+")*)|.*)\\)|)",Na=new RegExp(cn+"+","g"),is=new RegExp("^"+cn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cn+"+$","g"),No=new RegExp("^"+cn+"*,"+cn+"*"),Ts=new RegExp("^"+cn+"*([>+~]|"+cn+")"+cn+"*"),Eo=new RegExp(cn+"|>"),ms=new RegExp(ps),$s=new RegExp("^"+uo+"$"),gs={ID:new RegExp("^#("+uo+")"),CLASS:new RegExp("^\\.("+uo+")"),TAG:new RegExp("^("+uo+"|[*])"),ATTR:new RegExp("^"+Us),PSEUDO:new RegExp("^"+ps),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+cn+"*(even|odd|(([+-]|)(\\d*)n|)"+cn+"*(?:([+-]|)"+cn+"*(\\d+)|))"+cn+"*\\)|)","i"),bool:new RegExp("^(?:"+js+")$","i"),needsContext:new RegExp("^"+cn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cn+"*((?:-\\d)?\\d*)"+cn+"*\\)|)(?=[^-]|$)","i")},pl=/HTML$/i,ho=/^(?:input|select|textarea|button)$/i,fo=/^h\d$/i,ys=/^[^{]+\{\s*\[native \w/,Vs=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ps=/[+~]/,so=new RegExp("\\\\[\\da-fA-F]{1,6}"+cn+"?|\\\\([^\\r\\n\\f])","g"),Ea=function(mt,Nt){var Gt="0x"+mt.slice(1)-65536;return Nt||(Gt<0?String.fromCharCode(Gt+65536):String.fromCharCode(Gt>>10|55296,Gt&1023|56320))},rs=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,vs=function(mt,Nt){return Nt?mt==="\0"?"�":mt.slice(0,-1)+"\\"+mt.charCodeAt(mt.length-1).toString(16)+" ":"\\"+mt},zo=function(){xi()},Tl=Fr(function(mt){return mt.disabled===!0&&mt.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{xa.apply(ba=ao.call(Br.childNodes),Br.childNodes),ba[Br.childNodes.length].nodeType}catch{xa={apply:ba.length?function(Nt,Gt){qn.apply(Nt,ao.call(Gt))}:function(Nt,Gt){for(var Mi=Nt.length,Qt=0;Nt[Mi++]=Gt[Qt++];);Nt.length=Mi-1}}}function Se(mt,Nt,Gt,Mi){var Qt,wi,Ui,hr,Wi,Mr,Dr,Nr=Nt&&Nt.ownerDocument,Jr=Nt?Nt.nodeType:9;if(Gt=Gt||[],typeof mt!="string"||!mt||Jr!==1&&Jr!==9&&Jr!==11)return Gt;if(!Mi&&(xi(Nt),Nt=Nt||Pi,Hr)){if(Jr!==11&&(Wi=Vs.exec(mt)))if(Qt=Wi[1]){if(Jr===9)if(Ui=Nt.getElementById(Qt)){if(Ui.id===Qt)return Gt.push(Ui),Gt}else return Gt;else if(Nr&&(Ui=Nr.getElementById(Qt))&&rn(Nt,Ui)&&Ui.id===Qt)return Gt.push(Ui),Gt}else{if(Wi[2])return xa.apply(Gt,Nt.getElementsByTagName(mt)),Gt;if((Qt=Wi[3])&&Pe.getElementsByClassName&&Nt.getElementsByClassName)return xa.apply(Gt,Nt.getElementsByClassName(Qt)),Gt}if(Pe.qsa&&!va[mt+" "]&&(!yr||!yr.test(mt))&&(Jr!==1||Nt.nodeName.toLowerCase()!=="object")){if(Dr=mt,Nr=Nt,Jr===1&&(Eo.test(mt)||Ts.test(mt))){for(Nr=Ps.test(mt)&&Ei(Nt.parentNode)||Nt,(Nr!==Nt||!Pe.scope)&&((hr=Nt.getAttribute("id"))?hr=hr.replace(rs,vs):Nt.setAttribute("id",hr=sn)),Mr=ut(mt),wi=Mr.length;wi--;)Mr[wi]=(hr?"#"+hr:":scope")+" "+ar(Mr[wi]);Dr=Mr.join(",")}try{if(Pe.cssSupportsSelector&&!CSS.supports("selector(:is("+Dr+"))"))throw new Error;return xa.apply(Gt,Nr.querySelectorAll(Dr)),Gt}catch{va(mt,!0)}finally{hr===sn&&Nt.removeAttribute("id")}}}return Ft(mt.replace(is,"$1"),Nt,Gt,Mi)}function $e(){var mt=[];function Nt(Gt,Mi){return mt.push(Gt+" ")>Be.cacheLength&&delete Nt[mt.shift()],Nt[Gt+" "]=Mi}return Nt}function dt(mt){return mt[sn]=!0,mt}function ii(mt){var Nt=Pi.createElement("fieldset");try{return!!mt(Nt)}catch{return!1}finally{Nt.parentNode&&Nt.parentNode.removeChild(Nt),Nt=null}}function _i(mt,Nt){for(var Gt=mt.split("|"),Mi=Gt.length;Mi--;)Be.attrHandle[Gt[Mi]]=Nt}function tr(mt,Nt){var Gt=Nt&&mt,Mi=Gt&&mt.nodeType===1&&Nt.nodeType===1&&mt.sourceIndex-Nt.sourceIndex;if(Mi)return Mi;if(Gt){for(;Gt=Gt.nextSibling;)if(Gt===Nt)return-1}return mt?1:-1}function pr(mt){return function(Nt){var Gt=Nt.nodeName.toLowerCase();return Gt==="input"&&Nt.type===mt}}function kr(mt){return function(Nt){var Gt=Nt.nodeName.toLowerCase();return(Gt==="input"||Gt==="button")&&Nt.type===mt}}function Gr(mt){return function(Nt){return"form"in Nt?Nt.parentNode&&Nt.disabled===!1?"label"in Nt?"label"in Nt.parentNode?Nt.parentNode.disabled===mt:Nt.disabled===mt:Nt.isDisabled===mt||Nt.isDisabled!==!mt&&Tl(Nt)===mt:Nt.disabled===mt:"label"in Nt?Nt.disabled===mt:!1}}function Xt(mt){return dt(function(Nt){return Nt=+Nt,dt(function(Gt,Mi){for(var Qt,wi=mt([],Gt.length,Nt),Ui=wi.length;Ui--;)Gt[Qt=wi[Ui]]&&(Gt[Qt]=!(Mi[Qt]=Gt[Qt]))})})}function Ei(mt){return mt&&typeof mt.getElementsByTagName<"u"&&mt}Pe=Se.support={},tt=Se.isXML=function(mt){var Nt=mt&&mt.namespaceURI,Gt=mt&&(mt.ownerDocument||mt).documentElement;return!pl.test(Nt||Gt&&Gt.nodeName||"HTML")},xi=Se.setDocument=function(mt){var Nt,Gt,Mi=mt?mt.ownerDocument||mt:Br;return Mi==Pi||Mi.nodeType!==9||!Mi.documentElement||(Pi=Mi,rr=Pi.documentElement,Hr=!tt(Pi),Br!=Pi&&(Gt=Pi.defaultView)&&Gt.top!==Gt&&(Gt.addEventListener?Gt.addEventListener("unload",zo,!1):Gt.attachEvent&&Gt.attachEvent("onunload",zo)),Pe.scope=ii(function(Qt){return rr.appendChild(Qt).appendChild(Pi.createElement("div")),typeof Qt.querySelectorAll<"u"&&!Qt.querySelectorAll(":scope fieldset div").length}),Pe.cssSupportsSelector=ii(function(){return CSS.supports("selector(*)")&&Pi.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")}),Pe.attributes=ii(function(Qt){return Qt.className="i",!Qt.getAttribute("className")}),Pe.getElementsByTagName=ii(function(Qt){return Qt.appendChild(Pi.createComment("")),!Qt.getElementsByTagName("*").length}),Pe.getElementsByClassName=ys.test(Pi.getElementsByClassName),Pe.getById=ii(function(Qt){return rr.appendChild(Qt).id=sn,!Pi.getElementsByName||!Pi.getElementsByName(sn).length}),Pe.getById?(Be.filter.ID=function(Qt){var wi=Qt.replace(so,Ea);return function(Ui){return Ui.getAttribute("id")===wi}},Be.find.ID=function(Qt,wi){if(typeof wi.getElementById<"u"&&Hr){var Ui=wi.getElementById(Qt);return Ui?[Ui]:[]}}):(Be.filter.ID=function(Qt){var wi=Qt.replace(so,Ea);return function(Ui){var hr=typeof Ui.getAttributeNode<"u"&&Ui.getAttributeNode("id");return hr&&hr.value===wi}},Be.find.ID=function(Qt,wi){if(typeof wi.getElementById<"u"&&Hr){var Ui,hr,Wi,Mr=wi.getElementById(Qt);if(Mr){if(Ui=Mr.getAttributeNode("id"),Ui&&Ui.value===Qt)return[Mr];for(Wi=wi.getElementsByName(Qt),hr=0;Mr=Wi[hr++];)if(Ui=Mr.getAttributeNode("id"),Ui&&Ui.value===Qt)return[Mr]}return[]}}),Be.find.TAG=Pe.getElementsByTagName?function(Qt,wi){if(typeof wi.getElementsByTagName<"u")return wi.getElementsByTagName(Qt);if(Pe.qsa)return wi.querySelectorAll(Qt)}:function(Qt,wi){var Ui,hr=[],Wi=0,Mr=wi.getElementsByTagName(Qt);if(Qt==="*"){for(;Ui=Mr[Wi++];)Ui.nodeType===1&&hr.push(Ui);return hr}return Mr},Be.find.CLASS=Pe.getElementsByClassName&&function(Qt,wi){if(typeof wi.getElementsByClassName<"u"&&Hr)return wi.getElementsByClassName(Qt)},Vn=[],yr=[],(Pe.qsa=ys.test(Pi.querySelectorAll))&&(ii(function(Qt){var wi;rr.appendChild(Qt).innerHTML="<a id='"+sn+"'></a><select id='"+sn+"-\r\\' msallowcapture=''><option selected=''></option></select>",Qt.querySelectorAll("[msallowcapture^='']").length&&yr.push("[*^$]="+cn+`*(?:''|"")`),Qt.querySelectorAll("[selected]").length||yr.push("\\["+cn+"*(?:value|"+js+")"),Qt.querySelectorAll("[id~="+sn+"-]").length||yr.push("~="),wi=Pi.createElement("input"),wi.setAttribute("name",""),Qt.appendChild(wi),Qt.querySelectorAll("[name='']").length||yr.push("\\["+cn+"*name"+cn+"*="+cn+`*(?:''|"")`),Qt.querySelectorAll(":checked").length||yr.push(":checked"),Qt.querySelectorAll("a#"+sn+"+*").length||yr.push(".#.+[+~]"),Qt.querySelectorAll("\\\f"),yr.push("[\\r\\n\\f]")}),ii(function(Qt){Qt.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var wi=Pi.createElement("input");wi.setAttribute("type","hidden"),Qt.appendChild(wi).setAttribute("name","D"),Qt.querySelectorAll("[name=d]").length&&yr.push("name"+cn+"*[*^$|!~]?="),Qt.querySelectorAll(":enabled").length!==2&&yr.push(":enabled",":disabled"),rr.appendChild(Qt).disabled=!0,Qt.querySelectorAll(":disabled").length!==2&&yr.push(":enabled",":disabled"),Qt.querySelectorAll("*,:x"),yr.push(",.*:")})),(Pe.matchesSelector=ys.test(Cn=rr.matches||rr.webkitMatchesSelector||rr.mozMatchesSelector||rr.oMatchesSelector||rr.msMatchesSelector))&&ii(function(Qt){Pe.disconnectedMatch=Cn.call(Qt,"*"),Cn.call(Qt,"[s!='']:x"),Vn.push("!=",ps)}),Pe.cssSupportsSelector||yr.push(":has"),yr=yr.length&&new RegExp(yr.join("|")),Vn=Vn.length&&new RegExp(Vn.join("|")),Nt=ys.test(rr.compareDocumentPosition),rn=Nt||ys.test(rr.contains)?function(Qt,wi){var Ui=Qt.nodeType===9&&Qt.documentElement||Qt,hr=wi&&wi.parentNode;return Qt===hr||!!(hr&&hr.nodeType===1&&(Ui.contains?Ui.contains(hr):Qt.compareDocumentPosition&&Qt.compareDocumentPosition(hr)&16))}:function(Qt,wi){if(wi){for(;wi=wi.parentNode;)if(wi===Qt)return!0}return!1},Da=Nt?function(Qt,wi){if(Qt===wi)return Li=!0,0;var Ui=!Qt.compareDocumentPosition-!wi.compareDocumentPosition;return Ui||(Ui=(Qt.ownerDocument||Qt)==(wi.ownerDocument||wi)?Qt.compareDocumentPosition(wi):1,Ui&1||!Pe.sortDetached&&wi.compareDocumentPosition(Qt)===Ui?Qt==Pi||Qt.ownerDocument==Br&&rn(Br,Qt)?-1:wi==Pi||wi.ownerDocument==Br&&rn(Br,wi)?1:Ii?oo(Ii,Qt)-oo(Ii,wi):0:Ui&4?-1:1)}:function(Qt,wi){if(Qt===wi)return Li=!0,0;var Ui,hr=0,Wi=Qt.parentNode,Mr=wi.parentNode,Dr=[Qt],Nr=[wi];if(!Wi||!Mr)return Qt==Pi?-1:wi==Pi?1:Wi?-1:Mr?1:Ii?oo(Ii,Qt)-oo(Ii,wi):0;if(Wi===Mr)return tr(Qt,wi);for(Ui=Qt;Ui=Ui.parentNode;)Dr.unshift(Ui);for(Ui=wi;Ui=Ui.parentNode;)Nr.unshift(Ui);for(;Dr[hr]===Nr[hr];)hr++;return hr?tr(Dr[hr],Nr[hr]):Dr[hr]==Br?-1:Nr[hr]==Br?1:0}),Pi},Se.matches=function(mt,Nt){return Se(mt,null,null,Nt)},Se.matchesSelector=function(mt,Nt){if(xi(mt),Pe.matchesSelector&&Hr&&!va[Nt+" "]&&(!Vn||!Vn.test(Nt))&&(!yr||!yr.test(Nt)))try{var Gt=Cn.call(mt,Nt);if(Gt||Pe.disconnectedMatch||mt.document&&mt.document.nodeType!==11)return Gt}catch{va(Nt,!0)}return Se(Nt,Pi,null,[mt]).length>0},Se.contains=function(mt,Nt){return(mt.ownerDocument||mt)!=Pi&&xi(mt),rn(mt,Nt)},Se.attr=function(mt,Nt){(mt.ownerDocument||mt)!=Pi&&xi(mt);var Gt=Be.attrHandle[Nt.toLowerCase()],Mi=Gt&&$r.call(Be.attrHandle,Nt.toLowerCase())?Gt(mt,Nt,!Hr):void 0;return Mi!==void 0?Mi:Pe.attributes||!Hr?mt.getAttribute(Nt):(Mi=mt.getAttributeNode(Nt))&&Mi.specified?Mi.value:null},Se.escape=function(mt){return(mt+"").replace(rs,vs)},Se.error=function(mt){throw new Error("Syntax error, unrecognized expression: "+mt)},Se.uniqueSort=function(mt){var Nt,Gt=[],Mi=0,Qt=0;if(Li=!Pe.detectDuplicates,Ii=!Pe.sortStable&&mt.slice(0),mt.sort(Da),Li){for(;Nt=mt[Qt++];)Nt===mt[Qt]&&(Mi=Gt.push(Qt));for(;Mi--;)mt.splice(Gt[Mi],1)}return Ii=null,mt},Xe=Se.getText=function(mt){var Nt,Gt="",Mi=0,Qt=mt.nodeType;if(Qt){if(Qt===1||Qt===9||Qt===11){if(typeof mt.textContent=="string")return mt.textContent;for(mt=mt.firstChild;mt;mt=mt.nextSibling)Gt+=Xe(mt)}else if(Qt===3||Qt===4)return mt.nodeValue}else for(;Nt=mt[Mi++];)Gt+=Xe(Nt);return Gt},Be=Se.selectors={cacheLength:50,createPseudo:dt,match:gs,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(mt){return mt[1]=mt[1].replace(so,Ea),mt[3]=(mt[3]||mt[4]||mt[5]||"").replace(so,Ea),mt[2]==="~="&&(mt[3]=" "+mt[3]+" "),mt.slice(0,4)},CHILD:function(mt){return mt[1]=mt[1].toLowerCase(),mt[1].slice(0,3)==="nth"?(mt[3]||Se.error(mt[0]),mt[4]=+(mt[4]?mt[5]+(mt[6]||1):2*(mt[3]==="even"||mt[3]==="odd")),mt[5]=+(mt[7]+mt[8]||mt[3]==="odd")):mt[3]&&Se.error(mt[0]),mt},PSEUDO:function(mt){var Nt,Gt=!mt[6]&&mt[2];return gs.CHILD.test(mt[0])?null:(mt[3]?mt[2]=mt[4]||mt[5]||"":Gt&&ms.test(Gt)&&(Nt=ut(Gt,!0))&&(Nt=Gt.indexOf(")",Gt.length-Nt)-Gt.length)&&(mt[0]=mt[0].slice(0,Nt),mt[2]=Gt.slice(0,Nt)),mt.slice(0,3))}},filter:{TAG:function(mt){var Nt=mt.replace(so,Ea).toLowerCase();return mt==="*"?function(){return!0}:function(Gt){return Gt.nodeName&&Gt.nodeName.toLowerCase()===Nt}},CLASS:function(mt){var Nt=En[mt+" "];return Nt||(Nt=new RegExp("(^|"+cn+")"+mt+"("+cn+"|$)"))&&En(mt,function(Gt){return Nt.test(typeof Gt.className=="string"&&Gt.className||typeof Gt.getAttribute<"u"&&Gt.getAttribute("class")||"")})},ATTR:function(mt,Nt,Gt){return function(Mi){var Qt=Se.attr(Mi,mt);return Qt==null?Nt==="!=":Nt?(Qt+="",Nt==="="?Qt===Gt:Nt==="!="?Qt!==Gt:Nt==="^="?Gt&&Qt.indexOf(Gt)===0:Nt==="*="?Gt&&Qt.indexOf(Gt)>-1:Nt==="$="?Gt&&Qt.slice(-Gt.length)===Gt:Nt==="~="?(" "+Qt.replace(Na," ")+" ").indexOf(Gt)>-1:Nt==="|="?Qt===Gt||Qt.slice(0,Gt.length+1)===Gt+"-":!1):!0}},CHILD:function(mt,Nt,Gt,Mi,Qt){var wi=mt.slice(0,3)!=="nth",Ui=mt.slice(-4)!=="last",hr=Nt==="of-type";return Mi===1&&Qt===0?function(Wi){return!!Wi.parentNode}:function(Wi,Mr,Dr){var Nr,Jr,_n,Er,Me,Re,et=wi!==Ui?"nextSibling":"previousSibling",Ot=Wi.parentNode,Ni=hr&&Wi.nodeName.toLowerCase(),wr=!Dr&&!hr,gn=!1;if(Ot){if(wi){for(;et;){for(Er=Wi;Er=Er[et];)if(hr?Er.nodeName.toLowerCase()===Ni:Er.nodeType===1)return!1;Re=et=mt==="only"&&!Re&&"nextSibling"}return!0}if(Re=[Ui?Ot.firstChild:Ot.lastChild],Ui&&wr){for(Er=Ot,_n=Er[sn]||(Er[sn]={}),Jr=_n[Er.uniqueID]||(_n[Er.uniqueID]={}),Nr=Jr[mt]||[],Me=Nr[0]===ya&&Nr[1],gn=Me&&Nr[2],Er=Me&&Ot.childNodes[Me];Er=++Me&&Er&&Er[et]||(gn=Me=0)||Re.pop();)if(Er.nodeType===1&&++gn&&Er===Wi){Jr[mt]=[ya,Me,gn];break}}else if(wr&&(Er=Wi,_n=Er[sn]||(Er[sn]={}),Jr=_n[Er.uniqueID]||(_n[Er.uniqueID]={}),Nr=Jr[mt]||[],Me=Nr[0]===ya&&Nr[1],gn=Me),gn===!1)for(;(Er=++Me&&Er&&Er[et]||(gn=Me=0)||Re.pop())&&!((hr?Er.nodeName.toLowerCase()===Ni:Er.nodeType===1)&&++gn&&(wr&&(_n=Er[sn]||(Er[sn]={}),Jr=_n[Er.uniqueID]||(_n[Er.uniqueID]={}),Jr[mt]=[ya,gn]),Er===Wi)););return gn-=Qt,gn===Mi||gn%Mi===0&&gn/Mi>=0}}},PSEUDO:function(mt,Nt){var Gt,Mi=Be.pseudos[mt]||Be.setFilters[mt.toLowerCase()]||Se.error("unsupported pseudo: "+mt);return Mi[sn]?Mi(Nt):Mi.length>1?(Gt=[mt,mt,"",Nt],Be.setFilters.hasOwnProperty(mt.toLowerCase())?dt(function(Qt,wi){for(var Ui,hr=Mi(Qt,Nt),Wi=hr.length;Wi--;)Ui=oo(Qt,hr[Wi]),Qt[Ui]=!(wi[Ui]=hr[Wi])}):function(Qt){return Mi(Qt,0,Gt)}):Mi}},pseudos:{not:dt(function(mt){var Nt=[],Gt=[],Mi=Yt(mt.replace(is,"$1"));return Mi[sn]?dt(function(Qt,wi,Ui,hr){for(var Wi,Mr=Mi(Qt,null,hr,[]),Dr=Qt.length;Dr--;)(Wi=Mr[Dr])&&(Qt[Dr]=!(wi[Dr]=Wi))}):function(Qt,wi,Ui){return Nt[0]=Qt,Mi(Nt,null,Ui,Gt),Nt[0]=null,!Gt.pop()}}),has:dt(function(mt){return function(Nt){return Se(mt,Nt).length>0}}),contains:dt(function(mt){return mt=mt.replace(so,Ea),function(Nt){return(Nt.textContent||Xe(Nt)).indexOf(mt)>-1}}),lang:dt(function(mt){return $s.test(mt||"")||Se.error("unsupported lang: "+mt),mt=mt.replace(so,Ea).toLowerCase(),function(Nt){var Gt;do if(Gt=Hr?Nt.lang:Nt.getAttribute("xml:lang")||Nt.getAttribute("lang"))return Gt=Gt.toLowerCase(),Gt===mt||Gt.indexOf(mt+"-")===0;while((Nt=Nt.parentNode)&&Nt.nodeType===1);return!1}}),target:function(mt){var Nt=se.location&&se.location.hash;return Nt&&Nt.slice(1)===mt.id},root:function(mt){return mt===rr},focus:function(mt){return mt===Pi.activeElement&&(!Pi.hasFocus||Pi.hasFocus())&&!!(mt.type||mt.href||~mt.tabIndex)},enabled:Gr(!1),disabled:Gr(!0),checked:function(mt){var Nt=mt.nodeName.toLowerCase();return Nt==="input"&&!!mt.checked||Nt==="option"&&!!mt.selected},selected:function(mt){return mt.parentNode&&mt.parentNode.selectedIndex,mt.selected===!0},empty:function(mt){for(mt=mt.firstChild;mt;mt=mt.nextSibling)if(mt.nodeType<6)return!1;return!0},parent:function(mt){return!Be.pseudos.empty(mt)},header:function(mt){return fo.test(mt.nodeName)},input:function(mt){return ho.test(mt.nodeName)},button:function(mt){var Nt=mt.nodeName.toLowerCase();return Nt==="input"&&mt.type==="button"||Nt==="button"},text:function(mt){var Nt;return mt.nodeName.toLowerCase()==="input"&&mt.type==="text"&&((Nt=mt.getAttribute("type"))==null||Nt.toLowerCase()==="text")},first:Xt(function(){return[0]}),last:Xt(function(mt,Nt){return[Nt-1]}),eq:Xt(function(mt,Nt,Gt){return[Gt<0?Gt+Nt:Gt]}),even:Xt(function(mt,Nt){for(var Gt=0;Gt<Nt;Gt+=2)mt.push(Gt);return mt}),odd:Xt(function(mt,Nt){for(var Gt=1;Gt<Nt;Gt+=2)mt.push(Gt);return mt}),lt:Xt(function(mt,Nt,Gt){for(var Mi=Gt<0?Gt+Nt:Gt>Nt?Nt:Gt;--Mi>=0;)mt.push(Mi);return mt}),gt:Xt(function(mt,Nt,Gt){for(var Mi=Gt<0?Gt+Nt:Gt;++Mi<Nt;)mt.push(Mi);return mt})}},Be.pseudos.nth=Be.pseudos.eq;for(be in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Be.pseudos[be]=pr(be);for(be in{submit:!0,reset:!0})Be.pseudos[be]=kr(be);function mi(){}mi.prototype=Be.filters=Be.pseudos,Be.setFilters=new mi,ut=Se.tokenize=function(mt,Nt){var Gt,Mi,Qt,wi,Ui,hr,Wi,Mr=Co[mt+" "];if(Mr)return Nt?0:Mr.slice(0);for(Ui=mt,hr=[],Wi=Be.preFilter;Ui;){(!Gt||(Mi=No.exec(Ui)))&&(Mi&&(Ui=Ui.slice(Mi[0].length)||Ui),hr.push(Qt=[])),Gt=!1,(Mi=Ts.exec(Ui))&&(Gt=Mi.shift(),Qt.push({value:Gt,type:Mi[0].replace(is," ")}),Ui=Ui.slice(Gt.length));for(wi in Be.filter)(Mi=gs[wi].exec(Ui))&&(!Wi[wi]||(Mi=Wi[wi](Mi)))&&(Gt=Mi.shift(),Qt.push({value:Gt,type:wi,matches:Mi}),Ui=Ui.slice(Gt.length));if(!Gt)break}return Nt?Ui.length:Ui?Se.error(mt):Co(mt,hr).slice(0)};function ar(mt){for(var Nt=0,Gt=mt.length,Mi="";Nt<Gt;Nt++)Mi+=mt[Nt].value;return Mi}function Fr(mt,Nt,Gt){var Mi=Nt.dir,Qt=Nt.next,wi=Qt||Mi,Ui=Gt&&wi==="parentNode",hr=ln++;return Nt.first?function(Wi,Mr,Dr){for(;Wi=Wi[Mi];)if(Wi.nodeType===1||Ui)return mt(Wi,Mr,Dr);return!1}:function(Wi,Mr,Dr){var Nr,Jr,_n,Er=[ya,hr];if(Dr){for(;Wi=Wi[Mi];)if((Wi.nodeType===1||Ui)&&mt(Wi,Mr,Dr))return!0}else for(;Wi=Wi[Mi];)if(Wi.nodeType===1||Ui)if(_n=Wi[sn]||(Wi[sn]={}),Jr=_n[Wi.uniqueID]||(_n[Wi.uniqueID]={}),Qt&&Qt===Wi.nodeName.toLowerCase())Wi=Wi[Mi]||Wi;else{if((Nr=Jr[wi])&&Nr[0]===ya&&Nr[1]===hr)return Er[2]=Nr[2];if(Jr[wi]=Er,Er[2]=mt(Wi,Mr,Dr))return!0}return!1}}function hn(mt){return mt.length>1?function(Nt,Gt,Mi){for(var Qt=mt.length;Qt--;)if(!mt[Qt](Nt,Gt,Mi))return!1;return!0}:mt[0]}function On(mt,Nt,Gt){for(var Mi=0,Qt=Nt.length;Mi<Qt;Mi++)Se(mt,Nt[Mi],Gt);return Gt}function Xr(mt,Nt,Gt,Mi,Qt){for(var wi,Ui=[],hr=0,Wi=mt.length,Mr=Nt!=null;hr<Wi;hr++)(wi=mt[hr])&&(!Gt||Gt(wi,Mi,Qt))&&(Ui.push(wi),Mr&&Nt.push(hr));return Ui}function Ka(mt,Nt,Gt,Mi,Qt,wi){return Mi&&!Mi[sn]&&(Mi=Ka(Mi)),Qt&&!Qt[sn]&&(Qt=Ka(Qt,wi)),dt(function(Ui,hr,Wi,Mr){var Dr,Nr,Jr,_n=[],Er=[],Me=hr.length,Re=Ui||On(Nt||"*",Wi.nodeType?[Wi]:Wi,[]),et=mt&&(Ui||!Nt)?Xr(Re,_n,mt,Wi,Mr):Re,Ot=Gt?Qt||(Ui?mt:Me||Mi)?[]:hr:et;if(Gt&&Gt(et,Ot,Wi,Mr),Mi)for(Dr=Xr(Ot,Er),Mi(Dr,[],Wi,Mr),Nr=Dr.length;Nr--;)(Jr=Dr[Nr])&&(Ot[Er[Nr]]=!(et[Er[Nr]]=Jr));if(Ui){if(Qt||mt){if(Qt){for(Dr=[],Nr=Ot.length;Nr--;)(Jr=Ot[Nr])&&Dr.push(et[Nr]=Jr);Qt(null,Ot=[],Dr,Mr)}for(Nr=Ot.length;Nr--;)(Jr=Ot[Nr])&&(Dr=Qt?oo(Ui,Jr):_n[Nr])>-1&&(Ui[Dr]=!(hr[Dr]=Jr))}}else Ot=Xr(Ot===hr?Ot.splice(Me,Ot.length):Ot),Qt?Qt(null,hr,Ot,Mr):xa.apply(hr,Ot)})}function To(mt){for(var Nt,Gt,Mi,Qt=mt.length,wi=Be.relative[mt[0].type],Ui=wi||Be.relative[" "],hr=wi?1:0,Wi=Fr(function(Nr){return Nr===Nt},Ui,!0),Mr=Fr(function(Nr){return oo(Nt,Nr)>-1},Ui,!0),Dr=[function(Nr,Jr,_n){var Er=!wi&&(_n||Jr!==ci)||((Nt=Jr).nodeType?Wi(Nr,Jr,_n):Mr(Nr,Jr,_n));return Nt=null,Er}];hr<Qt;hr++)if(Gt=Be.relative[mt[hr].type])Dr=[Fr(hn(Dr),Gt)];else{if(Gt=Be.filter[mt[hr].type].apply(null,mt[hr].matches),Gt[sn]){for(Mi=++hr;Mi<Qt&&!Be.relative[mt[Mi].type];Mi++);return Ka(hr>1&&hn(Dr),hr>1&&ar(mt.slice(0,hr-1).concat({value:mt[hr-2].type===" "?"*":""})).replace(is,"$1"),Gt,hr<Mi&&To(mt.slice(hr,Mi)),Mi<Qt&&To(mt=mt.slice(Mi)),Mi<Qt&&ar(mt))}Dr.push(Gt)}return hn(Dr)}function la(mt,Nt){var Gt=Nt.length>0,Mi=mt.length>0,Qt=function(wi,Ui,hr,Wi,Mr){var Dr,Nr,Jr,_n=0,Er="0",Me=wi&&[],Re=[],et=ci,Ot=wi||Mi&&Be.find.TAG("*",Mr),Ni=ya+=et==null?1:Math.random()||.1,wr=Ot.length;for(Mr&&(ci=Ui==Pi||Ui||Mr);Er!==wr&&(Dr=Ot[Er])!=null;Er++){if(Mi&&Dr){for(Nr=0,!Ui&&Dr.ownerDocument!=Pi&&(xi(Dr),hr=!Hr);Jr=mt[Nr++];)if(Jr(Dr,Ui||Pi,hr)){Wi.push(Dr);break}Mr&&(ya=Ni)}Gt&&((Dr=!Jr&&Dr)&&_n--,wi&&Me.push(Dr))}if(_n+=Er,Gt&&Er!==_n){for(Nr=0;Jr=Nt[Nr++];)Jr(Me,Re,Ui,hr);if(wi){if(_n>0)for(;Er--;)Me[Er]||Re[Er]||(Re[Er]=qa.call(Wi));Re=Xr(Re)}xa.apply(Wi,Re),Mr&&!wi&&Re.length>0&&_n+Nt.length>1&&Se.uniqueSort(Wi)}return Mr&&(ya=Ni,ci=et),Me};return Gt?dt(Qt):Qt}return Yt=Se.compile=function(mt,Nt){var Gt,Mi=[],Qt=[],wi=yo[mt+" "];if(!wi){for(Nt||(Nt=ut(mt)),Gt=Nt.length;Gt--;)wi=To(Nt[Gt]),wi[sn]?Mi.push(wi):Qt.push(wi);wi=yo(mt,la(Qt,Mi)),wi.selector=mt}return wi},Ft=Se.select=function(mt,Nt,Gt,Mi){var Qt,wi,Ui,hr,Wi,Mr=typeof mt=="function"&&mt,Dr=!Mi&&ut(mt=Mr.selector||mt);if(Gt=Gt||[],Dr.length===1){if(wi=Dr[0]=Dr[0].slice(0),wi.length>2&&(Ui=wi[0]).type==="ID"&&Nt.nodeType===9&&Hr&&Be.relative[wi[1].type]){if(Nt=(Be.find.ID(Ui.matches[0].replace(so,Ea),Nt)||[])[0],Nt)Mr&&(Nt=Nt.parentNode);else return Gt;mt=mt.slice(wi.shift().value.length)}for(Qt=gs.needsContext.test(mt)?0:wi.length;Qt--&&(Ui=wi[Qt],!Be.relative[hr=Ui.type]);)if((Wi=Be.find[hr])&&(Mi=Wi(Ui.matches[0].replace(so,Ea),Ps.test(wi[0].type)&&Ei(Nt.parentNode)||Nt))){if(wi.splice(Qt,1),mt=Mi.length&&ar(wi),!mt)return xa.apply(Gt,Mi),Gt;break}}return(Mr||Yt(mt,Dr))(Mi,Nt,!Hr,Gt,!Nt||Ps.test(mt)&&Ei(Nt.parentNode)||Nt),Gt},Pe.sortStable=sn.split("").sort(Da).join("")===sn,Pe.detectDuplicates=!!Li,xi(),Pe.sortDetached=ii(function(mt){return mt.compareDocumentPosition(Pi.createElement("fieldset"))&1}),ii(function(mt){return mt.innerHTML="<a href='#'></a>",mt.firstChild.getAttribute("href")==="#"})||_i("type|href|height|width",function(mt,Nt,Gt){if(!Gt)return mt.getAttribute(Nt,Nt.toLowerCase()==="type"?1:2)}),(!Pe.attributes||!ii(function(mt){return mt.innerHTML="<input/>",mt.firstChild.setAttribute("value",""),mt.firstChild.getAttribute("value")===""}))&&_i("value",function(mt,Nt,Gt){if(!Gt&&mt.nodeName.toLowerCase()==="input")return mt.defaultValue}),ii(function(mt){return mt.getAttribute("disabled")==null})||_i(js,function(mt,Nt,Gt){var Mi;if(!Gt)return mt[Nt]===!0?Nt.toLowerCase():(Mi=mt.getAttributeNode(Nt))&&Mi.specified?Mi.value:null}),Se}(t);N.find=K,N.expr=K.selectors,N.expr[":"]=N.expr.pseudos,N.uniqueSort=N.unique=K.uniqueSort,N.text=K.getText,N.isXMLDoc=K.isXML,N.contains=K.contains,N.escapeSelector=K.escape;var L=function(se,be,Pe){for(var Be=[],Xe=Pe!==void 0;(se=se[be])&&se.nodeType!==9;)if(se.nodeType===1){if(Xe&&N(se).is(Pe))break;Be.push(se)}return Be},E=function(se,be){for(var Pe=[];se;se=se.nextSibling)se.nodeType===1&&se!==be&&Pe.push(se);return Pe},w=N.expr.match.needsContext;function g(se,be){return se.nodeName&&se.nodeName.toLowerCase()===be.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function m(se,be,Pe){return B(be)?N.grep(se,function(Be,Xe){return!!be.call(Be,Xe,Be)!==Pe}):be.nodeType?N.grep(se,function(Be){return Be===be!==Pe}):typeof be!="string"?N.grep(se,function(Be){return k.call(be,Be)>-1!==Pe}):N.filter(be,se,Pe)}N.filter=function(se,be,Pe){var Be=be[0];return Pe&&(se=":not("+se+")"),be.length===1&&Be.nodeType===1?N.find.matchesSelector(Be,se)?[Be]:[]:N.find.matches(se,N.grep(be,function(Xe){return Xe.nodeType===1}))},N.fn.extend({find:function(se){var be,Pe,Be=this.length,Xe=this;if(typeof se!="string")return this.pushStack(N(se).filter(function(){for(be=0;be<Be;be++)if(N.contains(Xe[be],this))return!0}));for(Pe=this.pushStack([]),be=0;be<Be;be++)N.find(se,Xe[be],Pe);return Be>1?N.uniqueSort(Pe):Pe},filter:function(se){return this.pushStack(m(this,se||[],!1))},not:function(se){return this.pushStack(m(this,se||[],!0))},is:function(se){return!!m(this,typeof se=="string"&&w.test(se)?N(se):se||[],!1).length}});var y,x=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,M=N.fn.init=function(se,be,Pe){var Be,Xe;if(!se)return this;if(Pe=Pe||y,typeof se=="string")if(se[0]==="<"&&se[se.length-1]===">"&&se.length>=3?Be=[null,se,null]:Be=x.exec(se),Be&&(Be[1]||!be))if(Be[1]){if(be=be instanceof N?be[0]:be,N.merge(this,N.parseHTML(Be[1],be&&be.nodeType?be.ownerDocument||be:T,!0)),A.test(Be[1])&&N.isPlainObject(be))for(Be in be)B(this[Be])?this[Be](be[Be]):this.attr(Be,be[Be]);return this}else return Xe=T.getElementById(Be[2]),Xe&&(this[0]=Xe,this.length=1),this;else return!be||be.jquery?(be||Pe).find(se):this.constructor(be).find(se);else{if(se.nodeType)return this[0]=se,this.length=1,this;if(B(se))return Pe.ready!==void 0?Pe.ready(se):se(N)}return N.makeArray(se,this)};M.prototype=N.fn,y=N(T);var X=/^(?:parents|prev(?:Until|All))/,re={children:!0,contents:!0,next:!0,prev:!0};N.fn.extend({has:function(se){var be=N(se,this),Pe=be.length;return this.filter(function(){for(var Be=0;Be<Pe;Be++)if(N.contains(this,be[Be]))return!0})},closest:function(se,be){var Pe,Be=0,Xe=this.length,tt=[],ut=typeof se!="string"&&N(se);if(!w.test(se)){for(;Be<Xe;Be++)for(Pe=this[Be];Pe&&Pe!==be;Pe=Pe.parentNode)if(Pe.nodeType<11&&(ut?ut.index(Pe)>-1:Pe.nodeType===1&&N.find.matchesSelector(Pe,se))){tt.push(Pe);break}}return this.pushStack(tt.length>1?N.uniqueSort(tt):tt)},index:function(se){return se?typeof se=="string"?k.call(N(se),this[0]):k.call(this,se.jquery?se[0]:se):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(se,be){return this.pushStack(N.uniqueSort(N.merge(this.get(),N(se,be))))},addBack:function(se){return this.add(se==null?this.prevObject:this.prevObject.filter(se))}});function ee(se,be){for(;(se=se[be])&&se.nodeType!==1;);return se}N.each({parent:function(se){var be=se.parentNode;return be&&be.nodeType!==11?be:null},parents:function(se){return L(se,"parentNode")},parentsUntil:function(se,be,Pe){return L(se,"parentNode",Pe)},next:function(se){return ee(se,"nextSibling")},prev:function(se){return ee(se,"previousSibling")},nextAll:function(se){return L(se,"nextSibling")},prevAll:function(se){return L(se,"previousSibling")},nextUntil:function(se,be,Pe){return L(se,"nextSibling",Pe)},prevUntil:function(se,be,Pe){return L(se,"previousSibling",Pe)},siblings:function(se){return E((se.parentNode||{}).firstChild,se)},children:function(se){return E(se.firstChild)},contents:function(se){return se.contentDocument!=null&&o(se.contentDocument)?se.contentDocument:(g(se,"template")&&(se=se.content||se),N.merge([],se.childNodes))}},function(se,be){N.fn[se]=function(Pe,Be){var Xe=N.map(this,be,Pe);return se.slice(-5)!=="Until"&&(Be=Pe),Be&&typeof Be=="string"&&(Xe=N.filter(Be,Xe)),this.length>1&&(re[se]||N.uniqueSort(Xe),X.test(se)&&Xe.reverse()),this.pushStack(Xe)}});var he=/[^\x20\t\r\n\f]+/g;function ye(se){var be={};return N.each(se.match(he)||[],function(Pe,Be){be[Be]=!0}),be}N.Callbacks=function(se){se=typeof se=="string"?ye(se):N.extend({},se);var be,Pe,Be,Xe,tt=[],ut=[],Yt=-1,Ft=function(){for(Xe=Xe||se.once,Be=be=!0;ut.length;Yt=-1)for(Pe=ut.shift();++Yt<tt.length;)tt[Yt].apply(Pe[0],Pe[1])===!1&&se.stopOnFalse&&(Yt=tt.length,Pe=!1);se.memory||(Pe=!1),be=!1,Xe&&(Pe?tt=[]:tt="")},ci={add:function(){return tt&&(Pe&&!be&&(Yt=tt.length-1,ut.push(Pe)),function Ii(Li){N.each(Li,function(xi,Pi){B(Pi)?(!se.unique||!ci.has(Pi))&&tt.push(Pi):Pi&&Pi.length&&G(Pi)!=="string"&&Ii(Pi)})}(arguments),Pe&&!be&&Ft()),this},remove:function(){return N.each(arguments,function(Ii,Li){for(var xi;(xi=N.inArray(Li,tt,xi))>-1;)tt.splice(xi,1),xi<=Yt&&Yt--}),this},has:function(Ii){return Ii?N.inArray(Ii,tt)>-1:tt.length>0},empty:function(){return tt&&(tt=[]),this},disable:function(){return Xe=ut=[],tt=Pe="",this},disabled:function(){return!tt},lock:function(){return Xe=ut=[],!Pe&&!be&&(tt=Pe=""),this},locked:function(){return!!Xe},fireWith:function(Ii,Li){return Xe||(Li=Li||[],Li=[Ii,Li.slice?Li.slice():Li],ut.push(Li),be||Ft()),this},fire:function(){return ci.fireWith(this,arguments),this},fired:function(){return!!Be}};return ci};function Ce(se){return se}function oe(se){throw se}function de(se,be,Pe,Be){var Xe;try{se&&B(Xe=se.promise)?Xe.call(se).done(be).fail(Pe):se&&B(Xe=se.then)?Xe.call(se,be,Pe):be.apply(void 0,[se].slice(Be))}catch(tt){Pe.apply(void 0,[tt])}}N.extend({Deferred:function(se){var be=[["notify","progress",N.Callbacks("memory"),N.Callbacks("memory"),2],["resolve","done",N.Callbacks("once memory"),N.Callbacks("once memory"),0,"resolved"],["reject","fail",N.Callbacks("once memory"),N.Callbacks("once memory"),1,"rejected"]],Pe="pending",Be={state:function(){return Pe},always:function(){return Xe.done(arguments).fail(arguments),this},catch:function(tt){return Be.then(null,tt)},pipe:function(){var tt=arguments;return N.Deferred(function(ut){N.each(be,function(Yt,Ft){var ci=B(tt[Ft[4]])&&tt[Ft[4]];Xe[Ft[1]](function(){var Ii=ci&&ci.apply(this,arguments);Ii&&B(Ii.promise)?Ii.promise().progress(ut.notify).done(ut.resolve).fail(ut.reject):ut[Ft[0]+"With"](this,ci?[Ii]:arguments)})}),tt=null}).promise()},then:function(tt,ut,Yt){var Ft=0;function ci(Ii,Li,xi,Pi){return function(){var rr=this,Hr=arguments,yr=function(){var Cn,rn;if(!(Ii<Ft)){if(Cn=xi.apply(rr,Hr),Cn===Li.promise())throw new TypeError("Thenable self-resolution");rn=Cn&&(typeof Cn=="object"||typeof Cn=="function")&&Cn.then,B(rn)?Pi?rn.call(Cn,ci(Ft,Li,Ce,Pi),ci(Ft,Li,oe,Pi)):(Ft++,rn.call(Cn,ci(Ft,Li,Ce,Pi),ci(Ft,Li,oe,Pi),ci(Ft,Li,Ce,Li.notifyWith))):(xi!==Ce&&(rr=void 0,Hr=[Cn]),(Pi||Li.resolveWith)(rr,Hr))}},Vn=Pi?yr:function(){try{yr()}catch(Cn){N.Deferred.exceptionHook&&N.Deferred.exceptionHook(Cn,Vn.stackTrace),Ii+1>=Ft&&(xi!==oe&&(rr=void 0,Hr=[Cn]),Li.rejectWith(rr,Hr))}};Ii?Vn():(N.Deferred.getStackHook&&(Vn.stackTrace=N.Deferred.getStackHook()),t.setTimeout(Vn))}}return N.Deferred(function(Ii){be[0][3].add(ci(0,Ii,B(Yt)?Yt:Ce,Ii.notifyWith)),be[1][3].add(ci(0,Ii,B(tt)?tt:Ce)),be[2][3].add(ci(0,Ii,B(ut)?ut:oe))}).promise()},promise:function(tt){return tt!=null?N.extend(tt,Be):Be}},Xe={};return N.each(be,function(tt,ut){var Yt=ut[2],Ft=ut[5];Be[ut[1]]=Yt.add,Ft&&Yt.add(function(){Pe=Ft},be[3-tt][2].disable,be[3-tt][3].disable,be[0][2].lock,be[0][3].lock),Yt.add(ut[3].fire),Xe[ut[0]]=function(){return Xe[ut[0]+"With"](this===Xe?void 0:this,arguments),this},Xe[ut[0]+"With"]=Yt.fireWith}),Be.promise(Xe),se&&se.call(Xe,Xe),Xe},when:function(se){var be=arguments.length,Pe=be,Be=Array(Pe),Xe=u.call(arguments),tt=N.Deferred(),ut=function(Yt){return function(Ft){Be[Yt]=this,Xe[Yt]=arguments.length>1?u.call(arguments):Ft,--be||tt.resolveWith(Be,Xe)}};if(be<=1&&(de(se,tt.done(ut(Pe)).resolve,tt.reject,!be),tt.state()==="pending"||B(Xe[Pe]&&Xe[Pe].then)))return tt.then();for(;Pe--;)de(Xe[Pe],ut(Pe),tt.reject);return tt.promise()}});var fe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;N.Deferred.exceptionHook=function(se,be){t.console&&t.console.warn&&se&&fe.test(se.name)&&t.console.warn("jQuery.Deferred exception: "+se.message,se.stack,be)},N.readyException=function(se){t.setTimeout(function(){throw se})};var ue=N.Deferred();N.fn.ready=function(se){return ue.then(se).catch(function(be){N.readyException(be)}),this},N.extend({isReady:!1,readyWait:1,ready:function(se){(se===!0?--N.readyWait:N.isReady)||(N.isReady=!0,!(se!==!0&&--N.readyWait>0)&&ue.resolveWith(T,[N]))}}),N.ready.then=ue.then;function pe(){T.removeEventListener("DOMContentLoaded",pe),t.removeEventListener("load",pe),N.ready()}T.readyState==="complete"||T.readyState!=="loading"&&!T.documentElement.doScroll?t.setTimeout(N.ready):(T.addEventListener("DOMContentLoaded",pe),t.addEventListener("load",pe));var te=function(se,be,Pe,Be,Xe,tt,ut){var Yt=0,Ft=se.length,ci=Pe==null;if(G(Pe)==="object"){Xe=!0;for(Yt in Pe)te(se,be,Yt,Pe[Yt],!0,tt,ut)}else if(Be!==void 0&&(Xe=!0,B(Be)||(ut=!0),ci&&(ut?(be.call(se,Be),be=null):(ci=be,be=function(Ii,Li,xi){return ci.call(N(Ii),xi)})),be))for(;Yt<Ft;Yt++)be(se[Yt],Pe,ut?Be:Be.call(se[Yt],Yt,be(se[Yt],Pe)));return Xe?se:ci?be.call(se):Ft?be(se[0],Pe):tt},ge=/^-ms-/,xe=/-([a-z])/g;function ce(se,be){return be.toUpperCase()}function we(se){return se.replace(ge,"ms-").replace(xe,ce)}var Ae=function(se){return se.nodeType===1||se.nodeType===9||!+se.nodeType};function Fe(){this.expando=N.expando+Fe.uid++}Fe.uid=1,Fe.prototype={cache:function(se){var be=se[this.expando];return be||(be={},Ae(se)&&(se.nodeType?se[this.expando]=be:Object.defineProperty(se,this.expando,{value:be,configurable:!0}))),be},set:function(se,be,Pe){var Be,Xe=this.cache(se);if(typeof be=="string")Xe[we(be)]=Pe;else for(Be in be)Xe[we(Be)]=be[Be];return Xe},get:function(se,be){return be===void 0?this.cache(se):se[this.expando]&&se[this.expando][we(be)]},access:function(se,be,Pe){return be===void 0||be&&typeof be=="string"&&Pe===void 0?this.get(se,be):(this.set(se,be,Pe),Pe!==void 0?Pe:be)},remove:function(se,be){var Pe,Be=se[this.expando];if(Be!==void 0){if(be!==void 0)for(Array.isArray(be)?be=be.map(we):(be=we(be),be=be in Be?[be]:be.match(he)||[]),Pe=be.length;Pe--;)delete Be[be[Pe]];(be===void 0||N.isEmptyObject(Be))&&(se.nodeType?se[this.expando]=void 0:delete se[this.expando])}},hasData:function(se){var be=se[this.expando];return be!==void 0&&!N.isEmptyObject(be)}};var De=new Fe,Ge=new Fe,ct=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ot=/[A-Z]/g;function Qe(se){return se==="true"?!0:se==="false"?!1:se==="null"?null:se===+se+""?+se:ct.test(se)?JSON.parse(se):se}function Ie(se,be,Pe){var Be;if(Pe===void 0&&se.nodeType===1)if(Be="data-"+be.replace(ot,"-$&").toLowerCase(),Pe=se.getAttribute(Be),typeof Pe=="string"){try{Pe=Qe(Pe)}catch{}Ge.set(se,be,Pe)}else Pe=void 0;return Pe}N.extend({hasData:function(se){return Ge.hasData(se)||De.hasData(se)},data:function(se,be,Pe){return Ge.access(se,be,Pe)},removeData:function(se,be){Ge.remove(se,be)},_data:function(se,be,Pe){return De.access(se,be,Pe)},_removeData:function(se,be){De.remove(se,be)}}),N.fn.extend({data:function(se,be){var Pe,Be,Xe,tt=this[0],ut=tt&&tt.attributes;if(se===void 0){if(this.length&&(Xe=Ge.get(tt),tt.nodeType===1&&!De.get(tt,"hasDataAttrs"))){for(Pe=ut.length;Pe--;)ut[Pe]&&(Be=ut[Pe].name,Be.indexOf("data-")===0&&(Be=we(Be.slice(5)),Ie(tt,Be,Xe[Be])));De.set(tt,"hasDataAttrs",!0)}return Xe}return typeof se=="object"?this.each(function(){Ge.set(this,se)}):te(this,function(Yt){var Ft;if(tt&&Yt===void 0)return Ft=Ge.get(tt,se),Ft!==void 0||(Ft=Ie(tt,se),Ft!==void 0)?Ft:void 0;this.each(function(){Ge.set(this,se,Yt)})},null,be,arguments.length>1,null,!0)},removeData:function(se){return this.each(function(){Ge.remove(this,se)})}}),N.extend({queue:function(se,be,Pe){var Be;if(se)return be=(be||"fx")+"queue",Be=De.get(se,be),Pe&&(!Be||Array.isArray(Pe)?Be=De.access(se,be,N.makeArray(Pe)):Be.push(Pe)),Be||[]},dequeue:function(se,be){be=be||"fx";var Pe=N.queue(se,be),Be=Pe.length,Xe=Pe.shift(),tt=N._queueHooks(se,be),ut=function(){N.dequeue(se,be)};Xe==="inprogress"&&(Xe=Pe.shift(),Be--),Xe&&(be==="fx"&&Pe.unshift("inprogress"),delete tt.stop,Xe.call(se,ut,tt)),!Be&&tt&&tt.empty.fire()},_queueHooks:function(se,be){var Pe=be+"queueHooks";return De.get(se,Pe)||De.access(se,Pe,{empty:N.Callbacks("once memory").add(function(){De.remove(se,[be+"queue",Pe])})})}}),N.fn.extend({queue:function(se,be){var Pe=2;return typeof se!="string"&&(be=se,se="fx",Pe--),arguments.length<Pe?N.queue(this[0],se):be===void 0?this:this.each(function(){var Be=N.queue(this,se,be);N._queueHooks(this,se),se==="fx"&&Be[0]!=="inprogress"&&N.dequeue(this,se)})},dequeue:function(se){return this.each(function(){N.dequeue(this,se)})},clearQueue:function(se){return this.queue(se||"fx",[])},promise:function(se,be){var Pe,Be=1,Xe=N.Deferred(),tt=this,ut=this.length,Yt=function(){--Be||Xe.resolveWith(tt,[tt])};for(typeof se!="string"&&(be=se,se=void 0),se=se||"fx";ut--;)Pe=De.get(tt[ut],se+"queueHooks"),Pe&&Pe.empty&&(Be++,Pe.empty.add(Yt));return Yt(),Xe.promise(be)}});var Ue=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,He=new RegExp("^(?:([+-])=|)("+Ue+")([a-z%]*)$","i"),it=["Top","Right","Bottom","Left"],Je=T.documentElement,st=function(se){return N.contains(se.ownerDocument,se)},ht={composed:!0};Je.getRootNode&&(st=function(se){return N.contains(se.ownerDocument,se)||se.getRootNode(ht)===se.ownerDocument});var Ke=function(se,be){return se=be||se,se.style.display==="none"||se.style.display===""&&st(se)&&N.css(se,"display")==="none"};function At(se,be,Pe,Be){var Xe,tt,ut=20,Yt=Be?function(){return Be.cur()}:function(){return N.css(se,be,"")},Ft=Yt(),ci=Pe&&Pe[3]||(N.cssNumber[be]?"":"px"),Ii=se.nodeType&&(N.cssNumber[be]||ci!=="px"&&+Ft)&&He.exec(N.css(se,be));if(Ii&&Ii[3]!==ci){for(Ft=Ft/2,ci=ci||Ii[3],Ii=+Ft||1;ut--;)N.style(se,be,Ii+ci),(1-tt)*(1-(tt=Yt()/Ft||.5))<=0&&(ut=0),Ii=Ii/tt;Ii=Ii*2,N.style(se,be,Ii+ci),Pe=Pe||[]}return Pe&&(Ii=+Ii||+Ft||0,Xe=Pe[1]?Ii+(Pe[1]+1)*Pe[2]:+Pe[2],Be&&(Be.unit=ci,Be.start=Ii,Be.end=Xe)),Xe}var Et={};function Wt(se){var be,Pe=se.ownerDocument,Be=se.nodeName,Xe=Et[Be];return Xe||(be=Pe.body.appendChild(Pe.createElement(Be)),Xe=N.css(be,"display"),be.parentNode.removeChild(be),Xe==="none"&&(Xe="block"),Et[Be]=Xe,Xe)}function fi(se,be){for(var Pe,Be,Xe=[],tt=0,ut=se.length;tt<ut;tt++)Be=se[tt],Be.style&&(Pe=Be.style.display,be?(Pe==="none"&&(Xe[tt]=De.get(Be,"display")||null,Xe[tt]||(Be.style.display="")),Be.style.display===""&&Ke(Be)&&(Xe[tt]=Wt(Be))):Pe!=="none"&&(Xe[tt]="none",De.set(Be,"display",Pe)));for(tt=0;tt<ut;tt++)Xe[tt]!=null&&(se[tt].style.display=Xe[tt]);return se}N.fn.extend({show:function(){return fi(this,!0)},hide:function(){return fi(this)},toggle:function(se){return typeof se=="boolean"?se?this.show():this.hide():this.each(function(){Ke(this)?N(this).show():N(this).hide()})}});var ei=/^(?:checkbox|radio)$/i,hi=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,vi=/^$|^module$|\/(?:java|ecma)script/i;(function(){var se=T.createDocumentFragment(),be=se.appendChild(T.createElement("div")),Pe=T.createElement("input");Pe.setAttribute("type","radio"),Pe.setAttribute("checked","checked"),Pe.setAttribute("name","t"),be.appendChild(Pe),I.checkClone=be.cloneNode(!0).cloneNode(!0).lastChild.checked,be.innerHTML="<textarea>x</textarea>",I.noCloneChecked=!!be.cloneNode(!0).lastChild.defaultValue,be.innerHTML="<option></option>",I.option=!!be.lastChild})();var zi={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};zi.tbody=zi.tfoot=zi.colgroup=zi.caption=zi.thead,zi.th=zi.td,I.option||(zi.optgroup=zi.option=[1,"<select multiple='multiple'>","</select>"]);function Ji(se,be){var Pe;return typeof se.getElementsByTagName<"u"?Pe=se.getElementsByTagName(be||"*"):typeof se.querySelectorAll<"u"?Pe=se.querySelectorAll(be||"*"):Pe=[],be===void 0||be&&g(se,be)?N.merge([se],Pe):Pe}function cr(se,be){for(var Pe=0,Be=se.length;Pe<Be;Pe++)De.set(se[Pe],"globalEval",!be||De.get(be[Pe],"globalEval"))}var Yr=/<|&#?\w+;/;function Cr(se,be,Pe,Be,Xe){for(var tt,ut,Yt,Ft,ci,Ii,Li=be.createDocumentFragment(),xi=[],Pi=0,rr=se.length;Pi<rr;Pi++)if(tt=se[Pi],tt||tt===0)if(G(tt)==="object")N.merge(xi,tt.nodeType?[tt]:tt);else if(!Yr.test(tt))xi.push(be.createTextNode(tt));else{for(ut=ut||Li.appendChild(be.createElement("div")),Yt=(hi.exec(tt)||["",""])[1].toLowerCase(),Ft=zi[Yt]||zi._default,ut.innerHTML=Ft[1]+N.htmlPrefilter(tt)+Ft[2],Ii=Ft[0];Ii--;)ut=ut.lastChild;N.merge(xi,ut.childNodes),ut=Li.firstChild,ut.textContent=""}for(Li.textContent="",Pi=0;tt=xi[Pi++];){if(Be&&N.inArray(tt,Be)>-1){Xe&&Xe.push(tt);continue}if(ci=st(tt),ut=Ji(Li.appendChild(tt),"script"),ci&&cr(ut),Pe)for(Ii=0;tt=ut[Ii++];)vi.test(tt.type||"")&&Pe.push(tt)}return Li}var jr=/^([^.]*)(?:\.(.+)|)/;function or(){return!0}function Sn(){return!1}function Nn(se,be){return se===fn()==(be==="focus")}function fn(){try{return T.activeElement}catch{}}function Oa(se,be,Pe,Be,Xe,tt){var ut,Yt;if(typeof be=="object"){typeof Pe!="string"&&(Be=Be||Pe,Pe=void 0);for(Yt in be)Oa(se,Yt,Pe,Be,be[Yt],tt);return se}if(Be==null&&Xe==null?(Xe=Pe,Be=Pe=void 0):Xe==null&&(typeof Pe=="string"?(Xe=Be,Be=void 0):(Xe=Be,Be=Pe,Pe=void 0)),Xe===!1)Xe=Sn;else if(!Xe)return se;return tt===1&&(ut=Xe,Xe=function(Ft){return N().off(Ft),ut.apply(this,arguments)},Xe.guid=ut.guid||(ut.guid=N.guid++)),se.each(function(){N.event.add(this,be,Xe,Be,Pe)})}N.event={global:{},add:function(se,be,Pe,Be,Xe){var tt,ut,Yt,Ft,ci,Ii,Li,xi,Pi,rr,Hr,yr=De.get(se);if(Ae(se))for(Pe.handler&&(tt=Pe,Pe=tt.handler,Xe=tt.selector),Xe&&N.find.matchesSelector(Je,Xe),Pe.guid||(Pe.guid=N.guid++),(Ft=yr.events)||(Ft=yr.events=Object.create(null)),(ut=yr.handle)||(ut=yr.handle=function(Vn){return typeof N<"u"&&N.event.triggered!==Vn.type?N.event.dispatch.apply(se,arguments):void 0}),be=(be||"").match(he)||[""],ci=be.length;ci--;)Yt=jr.exec(be[ci])||[],Pi=Hr=Yt[1],rr=(Yt[2]||"").split(".").sort(),Pi&&(Li=N.event.special[Pi]||{},Pi=(Xe?Li.delegateType:Li.bindType)||Pi,Li=N.event.special[Pi]||{},Ii=N.extend({type:Pi,origType:Hr,data:Be,handler:Pe,guid:Pe.guid,selector:Xe,needsContext:Xe&&N.expr.match.needsContext.test(Xe),namespace:rr.join(".")},tt),(xi=Ft[Pi])||(xi=Ft[Pi]=[],xi.delegateCount=0,(!Li.setup||Li.setup.call(se,Be,rr,ut)===!1)&&se.addEventListener&&se.addEventListener(Pi,ut)),Li.add&&(Li.add.call(se,Ii),Ii.handler.guid||(Ii.handler.guid=Pe.guid)),Xe?xi.splice(xi.delegateCount++,0,Ii):xi.push(Ii),N.event.global[Pi]=!0)},remove:function(se,be,Pe,Be,Xe){var tt,ut,Yt,Ft,ci,Ii,Li,xi,Pi,rr,Hr,yr=De.hasData(se)&&De.get(se);if(!(!yr||!(Ft=yr.events))){for(be=(be||"").match(he)||[""],ci=be.length;ci--;){if(Yt=jr.exec(be[ci])||[],Pi=Hr=Yt[1],rr=(Yt[2]||"").split(".").sort(),!Pi){for(Pi in Ft)N.event.remove(se,Pi+be[ci],Pe,Be,!0);continue}for(Li=N.event.special[Pi]||{},Pi=(Be?Li.delegateType:Li.bindType)||Pi,xi=Ft[Pi]||[],Yt=Yt[2]&&new RegExp("(^|\\.)"+rr.join("\\.(?:.*\\.|)")+"(\\.|$)"),ut=tt=xi.length;tt--;)Ii=xi[tt],(Xe||Hr===Ii.origType)&&(!Pe||Pe.guid===Ii.guid)&&(!Yt||Yt.test(Ii.namespace))&&(!Be||Be===Ii.selector||Be==="**"&&Ii.selector)&&(xi.splice(tt,1),Ii.selector&&xi.delegateCount--,Li.remove&&Li.remove.call(se,Ii));ut&&!xi.length&&((!Li.teardown||Li.teardown.call(se,rr,yr.handle)===!1)&&N.removeEvent(se,Pi,yr.handle),delete Ft[Pi])}N.isEmptyObject(Ft)&&De.remove(se,"handle events")}},dispatch:function(se){var be,Pe,Be,Xe,tt,ut,Yt=new Array(arguments.length),Ft=N.event.fix(se),ci=(De.get(this,"events")||Object.create(null))[Ft.type]||[],Ii=N.event.special[Ft.type]||{};for(Yt[0]=Ft,be=1;be<arguments.length;be++)Yt[be]=arguments[be];if(Ft.delegateTarget=this,!(Ii.preDispatch&&Ii.preDispatch.call(this,Ft)===!1)){for(ut=N.event.handlers.call(this,Ft,ci),be=0;(Xe=ut[be++])&&!Ft.isPropagationStopped();)for(Ft.currentTarget=Xe.elem,Pe=0;(tt=Xe.handlers[Pe++])&&!Ft.isImmediatePropagationStopped();)(!Ft.rnamespace||tt.namespace===!1||Ft.rnamespace.test(tt.namespace))&&(Ft.handleObj=tt,Ft.data=tt.data,Be=((N.event.special[tt.origType]||{}).handle||tt.handler).apply(Xe.elem,Yt),Be!==void 0&&(Ft.result=Be)===!1&&(Ft.preventDefault(),Ft.stopPropagation()));return Ii.postDispatch&&Ii.postDispatch.call(this,Ft),Ft.result}},handlers:function(se,be){var Pe,Be,Xe,tt,ut,Yt=[],Ft=be.delegateCount,ci=se.target;if(Ft&&ci.nodeType&&!(se.type==="click"&&se.button>=1)){for(;ci!==this;ci=ci.parentNode||this)if(ci.nodeType===1&&!(se.type==="click"&&ci.disabled===!0)){for(tt=[],ut={},Pe=0;Pe<Ft;Pe++)Be=be[Pe],Xe=Be.selector+" ",ut[Xe]===void 0&&(ut[Xe]=Be.needsContext?N(Xe,this).index(ci)>-1:N.find(Xe,this,null,[ci]).length),ut[Xe]&&tt.push(Be);tt.length&&Yt.push({elem:ci,handlers:tt})}}return ci=this,Ft<be.length&&Yt.push({elem:ci,handlers:be.slice(Ft)}),Yt},addProp:function(se,be){Object.defineProperty(N.Event.prototype,se,{enumerable:!0,configurable:!0,get:B(be)?function(){if(this.originalEvent)return be(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[se]},set:function(Pe){Object.defineProperty(this,se,{enumerable:!0,configurable:!0,writable:!0,value:Pe})}})},fix:function(se){return se[N.expando]?se:new N.Event(se)},special:{load:{noBubble:!0},click:{setup:function(se){var be=this||se;return ei.test(be.type)&&be.click&&g(be,"input")&&Ln(be,"click",or),!1},trigger:function(se){var be=this||se;return ei.test(be.type)&&be.click&&g(be,"input")&&Ln(be,"click"),!0},_default:function(se){var be=se.target;return ei.test(be.type)&&be.click&&g(be,"input")&&De.get(be,"click")||g(be,"a")}},beforeunload:{postDispatch:function(se){se.result!==void 0&&se.originalEvent&&(se.originalEvent.returnValue=se.result)}}}};function Ln(se,be,Pe){if(!Pe){De.get(se,be)===void 0&&N.event.add(se,be,or);return}De.set(se,be,!1),N.event.add(se,be,{namespace:!1,handler:function(Be){var Xe,tt,ut=De.get(this,be);if(Be.isTrigger&1&&this[be]){if(ut.length)(N.event.special[be]||{}).delegateType&&Be.stopPropagation();else if(ut=u.call(arguments),De.set(this,be,ut),Xe=Pe(this,be),this[be](),tt=De.get(this,be),ut!==tt||Xe?De.set(this,be,!1):tt={},ut!==tt)return Be.stopImmediatePropagation(),Be.preventDefault(),tt&&tt.value}else ut.length&&(De.set(this,be,{value:N.event.trigger(N.extend(ut[0],N.Event.prototype),ut.slice(1),this)}),Be.stopImmediatePropagation())}})}N.removeEvent=function(se,be,Pe){se.removeEventListener&&se.removeEventListener(be,Pe)},N.Event=function(se,be){if(!(this instanceof N.Event))return new N.Event(se,be);se&&se.type?(this.originalEvent=se,this.type=se.type,this.isDefaultPrevented=se.defaultPrevented||se.defaultPrevented===void 0&&se.returnValue===!1?or:Sn,this.target=se.target&&se.target.nodeType===3?se.target.parentNode:se.target,this.currentTarget=se.currentTarget,this.relatedTarget=se.relatedTarget):this.type=se,be&&N.extend(this,be),this.timeStamp=se&&se.timeStamp||Date.now(),this[N.expando]=!0},N.Event.prototype={constructor:N.Event,isDefaultPrevented:Sn,isPropagationStopped:Sn,isImmediatePropagationStopped:Sn,isSimulated:!1,preventDefault:function(){var se=this.originalEvent;this.isDefaultPrevented=or,se&&!this.isSimulated&&se.preventDefault()},stopPropagation:function(){var se=this.originalEvent;this.isPropagationStopped=or,se&&!this.isSimulated&&se.stopPropagation()},stopImmediatePropagation:function(){var se=this.originalEvent;this.isImmediatePropagationStopped=or,se&&!this.isSimulated&&se.stopImmediatePropagation(),this.stopPropagation()}},N.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},N.event.addProp),N.each({focus:"focusin",blur:"focusout"},function(se,be){N.event.special[se]={setup:function(){return Ln(this,se,Nn),!1},trigger:function(){return Ln(this,se),!0},_default:function(Pe){return De.get(Pe.target,se)},delegateType:be}}),N.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(se,be){N.event.special[se]={delegateType:be,bindType:be,handle:function(Pe){var Be,Xe=this,tt=Pe.relatedTarget,ut=Pe.handleObj;return(!tt||tt!==Xe&&!N.contains(Xe,tt))&&(Pe.type=ut.origType,Be=ut.handler.apply(this,arguments),Pe.type=be),Be}}}),N.fn.extend({on:function(se,be,Pe,Be){return Oa(this,se,be,Pe,Be)},one:function(se,be,Pe,Be){return Oa(this,se,be,Pe,Be,1)},off:function(se,be,Pe){var Be,Xe;if(se&&se.preventDefault&&se.handleObj)return Be=se.handleObj,N(se.delegateTarget).off(Be.namespace?Be.origType+"."+Be.namespace:Be.origType,Be.selector,Be.handler),this;if(typeof se=="object"){for(Xe in se)this.off(Xe,be,se[Xe]);return this}return(be===!1||typeof be=="function")&&(Pe=be,be=void 0),Pe===!1&&(Pe=Sn),this.each(function(){N.event.remove(this,se,Pe,be)})}});var Ba=/<script|<style|<link/i,go=/checked\s*(?:[^=]|=\s*.checked.)/i,wt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function We(se,be){return g(se,"table")&&g(be.nodeType!==11?be:be.firstChild,"tr")&&N(se).children("tbody")[0]||se}function nt(se){return se.type=(se.getAttribute("type")!==null)+"/"+se.type,se}function St(se){return(se.type||"").slice(0,5)==="true/"?se.type=se.type.slice(5):se.removeAttribute("type"),se}function It(se,be){var Pe,Be,Xe,tt,ut,Yt,Ft;if(be.nodeType===1){if(De.hasData(se)&&(tt=De.get(se),Ft=tt.events,Ft)){De.remove(be,"handle events");for(Xe in Ft)for(Pe=0,Be=Ft[Xe].length;Pe<Be;Pe++)N.event.add(be,Xe,Ft[Xe][Pe])}Ge.hasData(se)&&(ut=Ge.access(se),Yt=N.extend({},ut),Ge.set(be,Yt))}}function Tt(se,be){var Pe=be.nodeName.toLowerCase();Pe==="input"&&ei.test(se.type)?be.checked=se.checked:(Pe==="input"||Pe==="textarea")&&(be.defaultValue=se.defaultValue)}function Zt(se,be,Pe,Be){be=d(be);var Xe,tt,ut,Yt,Ft,ci,Ii=0,Li=se.length,xi=Li-1,Pi=be[0],rr=B(Pi);if(rr||Li>1&&typeof Pi=="string"&&!I.checkClone&&go.test(Pi))return se.each(function(Hr){var yr=se.eq(Hr);rr&&(be[0]=Pi.call(this,Hr,yr.html())),Zt(yr,be,Pe,Be)});if(Li&&(Xe=Cr(be,se[0].ownerDocument,!1,se,Be),tt=Xe.firstChild,Xe.childNodes.length===1&&(Xe=tt),tt||Be)){for(ut=N.map(Ji(Xe,"script"),nt),Yt=ut.length;Ii<Li;Ii++)Ft=Xe,Ii!==xi&&(Ft=N.clone(Ft,!0,!0),Yt&&N.merge(ut,Ji(Ft,"script"))),Pe.call(se[Ii],Ft,Ii);if(Yt)for(ci=ut[ut.length-1].ownerDocument,N.map(ut,St),Ii=0;Ii<Yt;Ii++)Ft=ut[Ii],vi.test(Ft.type||"")&&!De.access(Ft,"globalEval")&&N.contains(ci,Ft)&&(Ft.src&&(Ft.type||"").toLowerCase()!=="module"?N._evalUrl&&!Ft.noModule&&N._evalUrl(Ft.src,{nonce:Ft.nonce||Ft.getAttribute("nonce")},ci):P(Ft.textContent.replace(wt,""),Ft,ci))}return se}function Lt(se,be,Pe){for(var Be,Xe=be?N.filter(be,se):se,tt=0;(Be=Xe[tt])!=null;tt++)!Pe&&Be.nodeType===1&&N.cleanData(Ji(Be)),Be.parentNode&&(Pe&&st(Be)&&cr(Ji(Be,"script")),Be.parentNode.removeChild(Be));return se}N.extend({htmlPrefilter:function(se){return se},clone:function(se,be,Pe){var Be,Xe,tt,ut,Yt=se.cloneNode(!0),Ft=st(se);if(!I.noCloneChecked&&(se.nodeType===1||se.nodeType===11)&&!N.isXMLDoc(se))for(ut=Ji(Yt),tt=Ji(se),Be=0,Xe=tt.length;Be<Xe;Be++)Tt(tt[Be],ut[Be]);if(be)if(Pe)for(tt=tt||Ji(se),ut=ut||Ji(Yt),Be=0,Xe=tt.length;Be<Xe;Be++)It(tt[Be],ut[Be]);else It(se,Yt);return ut=Ji(Yt,"script"),ut.length>0&&cr(ut,!Ft&&Ji(se,"script")),Yt},cleanData:function(se){for(var be,Pe,Be,Xe=N.event.special,tt=0;(Pe=se[tt])!==void 0;tt++)if(Ae(Pe)){if(be=Pe[De.expando]){if(be.events)for(Be in be.events)Xe[Be]?N.event.remove(Pe,Be):N.removeEvent(Pe,Be,be.handle);Pe[De.expando]=void 0}Pe[Ge.expando]&&(Pe[Ge.expando]=void 0)}}}),N.fn.extend({detach:function(se){return Lt(this,se,!0)},remove:function(se){return Lt(this,se)},text:function(se){return te(this,function(be){return be===void 0?N.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=be)})},null,se,arguments.length)},append:function(){return Zt(this,arguments,function(se){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var be=We(this,se);be.appendChild(se)}})},prepend:function(){return Zt(this,arguments,function(se){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var be=We(this,se);be.insertBefore(se,be.firstChild)}})},before:function(){return Zt(this,arguments,function(se){this.parentNode&&this.parentNode.insertBefore(se,this)})},after:function(){return Zt(this,arguments,function(se){this.parentNode&&this.parentNode.insertBefore(se,this.nextSibling)})},empty:function(){for(var se,be=0;(se=this[be])!=null;be++)se.nodeType===1&&(N.cleanData(Ji(se,!1)),se.textContent="");return this},clone:function(se,be){return se=se??!1,be=be??se,this.map(function(){return N.clone(this,se,be)})},html:function(se){return te(this,function(be){var Pe=this[0]||{},Be=0,Xe=this.length;if(be===void 0&&Pe.nodeType===1)return Pe.innerHTML;if(typeof be=="string"&&!Ba.test(be)&&!zi[(hi.exec(be)||["",""])[1].toLowerCase()]){be=N.htmlPrefilter(be);try{for(;Be<Xe;Be++)Pe=this[Be]||{},Pe.nodeType===1&&(N.cleanData(Ji(Pe,!1)),Pe.innerHTML=be);Pe=0}catch{}}Pe&&this.empty().append(be)},null,se,arguments.length)},replaceWith:function(){var se=[];return Zt(this,arguments,function(be){var Pe=this.parentNode;N.inArray(this,se)<0&&(N.cleanData(Ji(this)),Pe&&Pe.replaceChild(be,this))},se)}}),N.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(se,be){N.fn[se]=function(Pe){for(var Be,Xe=[],tt=N(Pe),ut=tt.length-1,Yt=0;Yt<=ut;Yt++)Be=Yt===ut?this:this.clone(!0),N(tt[Yt])[be](Be),n.apply(Xe,Be.get());return this.pushStack(Xe)}});var Bt=new RegExp("^("+Ue+")(?!px)[a-z%]+$","i"),Ze=/^--/,Vt=function(se){var be=se.ownerDocument.defaultView;return(!be||!be.opener)&&(be=t),be.getComputedStyle(se)},ri=function(se,be,Pe){var Be,Xe,tt={};for(Xe in be)tt[Xe]=se.style[Xe],se.style[Xe]=be[Xe];Be=Pe.call(se);for(Xe in be)se.style[Xe]=tt[Xe];return Be},ti=new RegExp(it.join("|"),"i"),er="[\\x20\\t\\r\\n\\f]",oi=new RegExp("^"+er+"+|((?:^|[^\\\\])(?:\\\\.)*)"+er+"+$","g");(function(){function se(){if(ci){Ft.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ci.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Je.appendChild(Ft).appendChild(ci);var Ii=t.getComputedStyle(ci);Pe=Ii.top!=="1%",Yt=be(Ii.marginLeft)===12,ci.style.right="60%",tt=be(Ii.right)===36,Be=be(Ii.width)===36,ci.style.position="absolute",Xe=be(ci.offsetWidth/3)===12,Je.removeChild(Ft),ci=null}}function be(Ii){return Math.round(parseFloat(Ii))}var Pe,Be,Xe,tt,ut,Yt,Ft=T.createElement("div"),ci=T.createElement("div");ci.style&&(ci.style.backgroundClip="content-box",ci.cloneNode(!0).style.backgroundClip="",I.clearCloneStyle=ci.style.backgroundClip==="content-box",N.extend(I,{boxSizingReliable:function(){return se(),Be},pixelBoxStyles:function(){return se(),tt},pixelPosition:function(){return se(),Pe},reliableMarginLeft:function(){return se(),Yt},scrollboxSize:function(){return se(),Xe},reliableTrDimensions:function(){var Ii,Li,xi,Pi;return ut==null&&(Ii=T.createElement("table"),Li=T.createElement("tr"),xi=T.createElement("div"),Ii.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Li.style.cssText="border:1px solid",Li.style.height="1px",xi.style.height="9px",xi.style.display="block",Je.appendChild(Ii).appendChild(Li).appendChild(xi),Pi=t.getComputedStyle(Li),ut=parseInt(Pi.height,10)+parseInt(Pi.borderTopWidth,10)+parseInt(Pi.borderBottomWidth,10)===Li.offsetHeight,Je.removeChild(Ii)),ut}}))})();function Ki(se,be,Pe){var Be,Xe,tt,ut,Yt=Ze.test(be),Ft=se.style;return Pe=Pe||Vt(se),Pe&&(ut=Pe.getPropertyValue(be)||Pe[be],Yt&&ut&&(ut=ut.replace(oi,"$1")||void 0),ut===""&&!st(se)&&(ut=N.style(se,be)),!I.pixelBoxStyles()&&Bt.test(ut)&&ti.test(be)&&(Be=Ft.width,Xe=Ft.minWidth,tt=Ft.maxWidth,Ft.minWidth=Ft.maxWidth=Ft.width=ut,ut=Pe.width,Ft.width=Be,Ft.minWidth=Xe,Ft.maxWidth=tt)),ut!==void 0?ut+"":ut}function si(se,be){return{get:function(){if(se()){delete this.get;return}return(this.get=be).apply(this,arguments)}}}var gr=["Webkit","Moz","ms"],Vi=T.createElement("div").style,nr={};function Ur(se){for(var be=se[0].toUpperCase()+se.slice(1),Pe=gr.length;Pe--;)if(se=gr[Pe]+be,se in Vi)return se}function Rr(se){var be=N.cssProps[se]||nr[se];return be||(se in Vi?se:nr[se]=Ur(se)||se)}var zn=/^(none|table(?!-c[ea]).+)/,fa={position:"absolute",visibility:"hidden",display:"block"},In={letterSpacing:"0",fontWeight:"400"};function ki(se,be,Pe){var Be=He.exec(be);return Be?Math.max(0,Be[2]-(Pe||0))+(Be[3]||"px"):be}function an(se,be,Pe,Be,Xe,tt){var ut=be==="width"?1:0,Yt=0,Ft=0;if(Pe===(Be?"border":"content"))return 0;for(;ut<4;ut+=2)Pe==="margin"&&(Ft+=N.css(se,Pe+it[ut],!0,Xe)),Be?(Pe==="content"&&(Ft-=N.css(se,"padding"+it[ut],!0,Xe)),Pe!=="margin"&&(Ft-=N.css(se,"border"+it[ut]+"Width",!0,Xe))):(Ft+=N.css(se,"padding"+it[ut],!0,Xe),Pe!=="padding"?Ft+=N.css(se,"border"+it[ut]+"Width",!0,Xe):Yt+=N.css(se,"border"+it[ut]+"Width",!0,Xe));return!Be&&tt>=0&&(Ft+=Math.max(0,Math.ceil(se["offset"+be[0].toUpperCase()+be.slice(1)]-tt-Ft-Yt-.5))||0),Ft}function ta(se,be,Pe){var Be=Vt(se),Xe=!I.boxSizingReliable()||Pe,tt=Xe&&N.css(se,"boxSizing",!1,Be)==="border-box",ut=tt,Yt=Ki(se,be,Be),Ft="offset"+be[0].toUpperCase()+be.slice(1);if(Bt.test(Yt)){if(!Pe)return Yt;Yt="auto"}return(!I.boxSizingReliable()&&tt||!I.reliableTrDimensions()&&g(se,"tr")||Yt==="auto"||!parseFloat(Yt)&&N.css(se,"display",!1,Be)==="inline")&&se.getClientRects().length&&(tt=N.css(se,"boxSizing",!1,Be)==="border-box",ut=Ft in se,ut&&(Yt=se[Ft])),Yt=parseFloat(Yt)||0,Yt+an(se,be,Pe||(tt?"border":"content"),ut,Be,Yt)+"px"}N.extend({cssHooks:{opacity:{get:function(se,be){if(be){var Pe=Ki(se,"opacity");return Pe===""?"1":Pe}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(se,be,Pe,Be){if(!(!se||se.nodeType===3||se.nodeType===8||!se.style)){var Xe,tt,ut,Yt=we(be),Ft=Ze.test(be),ci=se.style;if(Ft||(be=Rr(Yt)),ut=N.cssHooks[be]||N.cssHooks[Yt],Pe!==void 0){if(tt=typeof Pe,tt==="string"&&(Xe=He.exec(Pe))&&Xe[1]&&(Pe=At(se,be,Xe),tt="number"),Pe==null||Pe!==Pe)return;tt==="number"&&!Ft&&(Pe+=Xe&&Xe[3]||(N.cssNumber[Yt]?"":"px")),!I.clearCloneStyle&&Pe===""&&be.indexOf("background")===0&&(ci[be]="inherit"),(!ut||!("set"in ut)||(Pe=ut.set(se,Pe,Be))!==void 0)&&(Ft?ci.setProperty(be,Pe):ci[be]=Pe)}else return ut&&"get"in ut&&(Xe=ut.get(se,!1,Be))!==void 0?Xe:ci[be]}},css:function(se,be,Pe,Be){var Xe,tt,ut,Yt=we(be),Ft=Ze.test(be);return Ft||(be=Rr(Yt)),ut=N.cssHooks[be]||N.cssHooks[Yt],ut&&"get"in ut&&(Xe=ut.get(se,!0,Pe)),Xe===void 0&&(Xe=Ki(se,be,Be)),Xe==="normal"&&be in In&&(Xe=In[be]),Pe===""||Pe?(tt=parseFloat(Xe),Pe===!0||isFinite(tt)?tt||0:Xe):Xe}}),N.each(["height","width"],function(se,be){N.cssHooks[be]={get:function(Pe,Be,Xe){if(Be)return zn.test(N.css(Pe,"display"))&&(!Pe.getClientRects().length||!Pe.getBoundingClientRect().width)?ri(Pe,fa,function(){return ta(Pe,be,Xe)}):ta(Pe,be,Xe)},set:function(Pe,Be,Xe){var tt,ut=Vt(Pe),Yt=!I.scrollboxSize()&&ut.position==="absolute",Ft=Yt||Xe,ci=Ft&&N.css(Pe,"boxSizing",!1,ut)==="border-box",Ii=Xe?an(Pe,be,Xe,ci,ut):0;return ci&&Yt&&(Ii-=Math.ceil(Pe["offset"+be[0].toUpperCase()+be.slice(1)]-parseFloat(ut[be])-an(Pe,be,"border",!1,ut)-.5)),Ii&&(tt=He.exec(Be))&&(tt[3]||"px")!=="px"&&(Pe.style[be]=Be,Be=N.css(Pe,be)),ki(Pe,Be,Ii)}}}),N.cssHooks.marginLeft=si(I.reliableMarginLeft,function(se,be){if(be)return(parseFloat(Ki(se,"marginLeft"))||se.getBoundingClientRect().left-ri(se,{marginLeft:0},function(){return se.getBoundingClientRect().left}))+"px"}),N.each({margin:"",padding:"",border:"Width"},function(se,be){N.cssHooks[se+be]={expand:function(Pe){for(var Be=0,Xe={},tt=typeof Pe=="string"?Pe.split(" "):[Pe];Be<4;Be++)Xe[se+it[Be]+be]=tt[Be]||tt[Be-2]||tt[0];return Xe}},se!=="margin"&&(N.cssHooks[se+be].set=ki)}),N.fn.extend({css:function(se,be){return te(this,function(Pe,Be,Xe){var tt,ut,Yt={},Ft=0;if(Array.isArray(Be)){for(tt=Vt(Pe),ut=Be.length;Ft<ut;Ft++)Yt[Be[Ft]]=N.css(Pe,Be[Ft],!1,tt);return Yt}return Xe!==void 0?N.style(Pe,Be,Xe):N.css(Pe,Be)},se,be,arguments.length>1)}});function ia(se,be,Pe,Be,Xe){return new ia.prototype.init(se,be,Pe,Be,Xe)}N.Tween=ia,ia.prototype={constructor:ia,init:function(se,be,Pe,Be,Xe,tt){this.elem=se,this.prop=Pe,this.easing=Xe||N.easing._default,this.options=be,this.start=this.now=this.cur(),this.end=Be,this.unit=tt||(N.cssNumber[Pe]?"":"px")},cur:function(){var se=ia.propHooks[this.prop];return se&&se.get?se.get(this):ia.propHooks._default.get(this)},run:function(se){var be,Pe=ia.propHooks[this.prop];return this.options.duration?this.pos=be=N.easing[this.easing](se,this.options.duration*se,0,1,this.options.duration):this.pos=be=se,this.now=(this.end-this.start)*be+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),Pe&&Pe.set?Pe.set(this):ia.propHooks._default.set(this),this}},ia.prototype.init.prototype=ia.prototype,ia.propHooks={_default:{get:function(se){var be;return se.elem.nodeType!==1||se.elem[se.prop]!=null&&se.elem.style[se.prop]==null?se.elem[se.prop]:(be=N.css(se.elem,se.prop,""),!be||be==="auto"?0:be)},set:function(se){N.fx.step[se.prop]?N.fx.step[se.prop](se):se.elem.nodeType===1&&(N.cssHooks[se.prop]||se.elem.style[Rr(se.prop)]!=null)?N.style(se.elem,se.prop,se.now+se.unit):se.elem[se.prop]=se.now}}},ia.propHooks.scrollTop=ia.propHooks.scrollLeft={set:function(se){se.elem.nodeType&&se.elem.parentNode&&(se.elem[se.prop]=se.now)}},N.easing={linear:function(se){return se},swing:function(se){return .5-Math.cos(se*Math.PI)/2},_default:"swing"},N.fx=ia.prototype.init,N.fx.step={};var qo,Ca,Wo=/^(?:toggle|show|hide)$/,Do=/queueHooks$/;function ra(){Ca&&(T.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(ra):t.setTimeout(ra,N.fx.interval),N.fx.tick())}function ir(){return t.setTimeout(function(){qo=void 0}),qo=Date.now()}function qr(se,be){var Pe,Be=0,Xe={height:se};for(be=be?1:0;Be<4;Be+=2-be)Pe=it[Be],Xe["margin"+Pe]=Xe["padding"+Pe]=se;return be&&(Xe.opacity=Xe.width=se),Xe}function tn(se,be,Pe){for(var Be,Xe=(Tr.tweeners[be]||[]).concat(Tr.tweeners["*"]),tt=0,ut=Xe.length;tt<ut;tt++)if(Be=Xe[tt].call(Pe,be,se))return Be}function Fa(se,be,Pe){var Be,Xe,tt,ut,Yt,Ft,ci,Ii,Li="width"in be||"height"in be,xi=this,Pi={},rr=se.style,Hr=se.nodeType&&Ke(se),yr=De.get(se,"fxshow");Pe.queue||(ut=N._queueHooks(se,"fx"),ut.unqueued==null&&(ut.unqueued=0,Yt=ut.empty.fire,ut.empty.fire=function(){ut.unqueued||Yt()}),ut.unqueued++,xi.always(function(){xi.always(function(){ut.unqueued--,N.queue(se,"fx").length||ut.empty.fire()})}));for(Be in be)if(Xe=be[Be],Wo.test(Xe)){if(delete be[Be],tt=tt||Xe==="toggle",Xe===(Hr?"hide":"show"))if(Xe==="show"&&yr&&yr[Be]!==void 0)Hr=!0;else continue;Pi[Be]=yr&&yr[Be]||N.style(se,Be)}if(Ft=!N.isEmptyObject(be),!(!Ft&&N.isEmptyObject(Pi))){Li&&se.nodeType===1&&(Pe.overflow=[rr.overflow,rr.overflowX,rr.overflowY],ci=yr&&yr.display,ci==null&&(ci=De.get(se,"display")),Ii=N.css(se,"display"),Ii==="none"&&(ci?Ii=ci:(fi([se],!0),ci=se.style.display||ci,Ii=N.css(se,"display"),fi([se]))),(Ii==="inline"||Ii==="inline-block"&&ci!=null)&&N.css(se,"float")==="none"&&(Ft||(xi.done(function(){rr.display=ci}),ci==null&&(Ii=rr.display,ci=Ii==="none"?"":Ii)),rr.display="inline-block")),Pe.overflow&&(rr.overflow="hidden",xi.always(function(){rr.overflow=Pe.overflow[0],rr.overflowX=Pe.overflow[1],rr.overflowY=Pe.overflow[2]})),Ft=!1;for(Be in Pi)Ft||(yr?"hidden"in yr&&(Hr=yr.hidden):yr=De.access(se,"fxshow",{display:ci}),tt&&(yr.hidden=!Hr),Hr&&fi([se],!0),xi.done(function(){Hr||fi([se]),De.remove(se,"fxshow");for(Be in Pi)N.style(se,Be,Pi[Be])})),Ft=tn(Hr?yr[Be]:0,Be,xi),Be in yr||(yr[Be]=Ft.start,Hr&&(Ft.end=Ft.start,Ft.start=0))}}function wo(se,be){var Pe,Be,Xe,tt,ut;for(Pe in se)if(Be=we(Pe),Xe=be[Be],tt=se[Pe],Array.isArray(tt)&&(Xe=tt[1],tt=se[Pe]=tt[0]),Pe!==Be&&(se[Be]=tt,delete se[Pe]),ut=N.cssHooks[Be],ut&&"expand"in ut){tt=ut.expand(tt),delete se[Be];for(Pe in tt)Pe in se||(se[Pe]=tt[Pe],be[Pe]=Xe)}else be[Be]=Xe}function Tr(se,be,Pe){var Be,Xe,tt=0,ut=Tr.prefilters.length,Yt=N.Deferred().always(function(){delete Ft.elem}),Ft=function(){if(Xe)return!1;for(var Li=qo||ir(),xi=Math.max(0,ci.startTime+ci.duration-Li),Pi=xi/ci.duration||0,rr=1-Pi,Hr=0,yr=ci.tweens.length;Hr<yr;Hr++)ci.tweens[Hr].run(rr);return Yt.notifyWith(se,[ci,rr,xi]),rr<1&&yr?xi:(yr||Yt.notifyWith(se,[ci,1,0]),Yt.resolveWith(se,[ci]),!1)},ci=Yt.promise({elem:se,props:N.extend({},be),opts:N.extend(!0,{specialEasing:{},easing:N.easing._default},Pe),originalProperties:be,originalOptions:Pe,startTime:qo||ir(),duration:Pe.duration,tweens:[],createTween:function(Li,xi){var Pi=N.Tween(se,ci.opts,Li,xi,ci.opts.specialEasing[Li]||ci.opts.easing);return ci.tweens.push(Pi),Pi},stop:function(Li){var xi=0,Pi=Li?ci.tweens.length:0;if(Xe)return this;for(Xe=!0;xi<Pi;xi++)ci.tweens[xi].run(1);return Li?(Yt.notifyWith(se,[ci,1,0]),Yt.resolveWith(se,[ci,Li])):Yt.rejectWith(se,[ci,Li]),this}}),Ii=ci.props;for(wo(Ii,ci.opts.specialEasing);tt<ut;tt++)if(Be=Tr.prefilters[tt].call(ci,se,Ii,ci.opts),Be)return B(Be.stop)&&(N._queueHooks(ci.elem,ci.opts.queue).stop=Be.stop.bind(Be)),Be;return N.map(Ii,tn,ci),B(ci.opts.start)&&ci.opts.start.call(se,ci),ci.progress(ci.opts.progress).done(ci.opts.done,ci.opts.complete).fail(ci.opts.fail).always(ci.opts.always),N.fx.timer(N.extend(Ft,{elem:se,anim:ci,queue:ci.opts.queue})),ci}N.Animation=N.extend(Tr,{tweeners:{"*":[function(se,be){var Pe=this.createTween(se,be);return At(Pe.elem,se,He.exec(be),Pe),Pe}]},tweener:function(se,be){B(se)?(be=se,se=["*"]):se=se.match(he);for(var Pe,Be=0,Xe=se.length;Be<Xe;Be++)Pe=se[Be],Tr.tweeners[Pe]=Tr.tweeners[Pe]||[],Tr.tweeners[Pe].unshift(be)},prefilters:[Fa],prefilter:function(se,be){be?Tr.prefilters.unshift(se):Tr.prefilters.push(se)}}),N.speed=function(se,be,Pe){var Be=se&&typeof se=="object"?N.extend({},se):{complete:Pe||!Pe&&be||B(se)&&se,duration:se,easing:Pe&&be||be&&!B(be)&&be};return N.fx.off?Be.duration=0:typeof Be.duration!="number"&&(Be.duration in N.fx.speeds?Be.duration=N.fx.speeds[Be.duration]:Be.duration=N.fx.speeds._default),(Be.queue==null||Be.queue===!0)&&(Be.queue="fx"),Be.old=Be.complete,Be.complete=function(){B(Be.old)&&Be.old.call(this),Be.queue&&N.dequeue(this,Be.queue)},Be},N.fn.extend({fadeTo:function(se,be,Pe,Be){return this.filter(Ke).css("opacity",0).show().end().animate({opacity:be},se,Pe,Be)},animate:function(se,be,Pe,Be){var Xe=N.isEmptyObject(se),tt=N.speed(be,Pe,Be),ut=function(){var Yt=Tr(this,N.extend({},se),tt);(Xe||De.get(this,"finish"))&&Yt.stop(!0)};return ut.finish=ut,Xe||tt.queue===!1?this.each(ut):this.queue(tt.queue,ut)},stop:function(se,be,Pe){var Be=function(Xe){var tt=Xe.stop;delete Xe.stop,tt(Pe)};return typeof se!="string"&&(Pe=be,be=se,se=void 0),be&&this.queue(se||"fx",[]),this.each(function(){var Xe=!0,tt=se!=null&&se+"queueHooks",ut=N.timers,Yt=De.get(this);if(tt)Yt[tt]&&Yt[tt].stop&&Be(Yt[tt]);else for(tt in Yt)Yt[tt]&&Yt[tt].stop&&Do.test(tt)&&Be(Yt[tt]);for(tt=ut.length;tt--;)ut[tt].elem===this&&(se==null||ut[tt].queue===se)&&(ut[tt].anim.stop(Pe),Xe=!1,ut.splice(tt,1));(Xe||!Pe)&&N.dequeue(this,se)})},finish:function(se){return se!==!1&&(se=se||"fx"),this.each(function(){var be,Pe=De.get(this),Be=Pe[se+"queue"],Xe=Pe[se+"queueHooks"],tt=N.timers,ut=Be?Be.length:0;for(Pe.finish=!0,N.queue(this,se,[]),Xe&&Xe.stop&&Xe.stop.call(this,!0),be=tt.length;be--;)tt[be].elem===this&&tt[be].queue===se&&(tt[be].anim.stop(!0),tt.splice(be,1));for(be=0;be<ut;be++)Be[be]&&Be[be].finish&&Be[be].finish.call(this);delete Pe.finish})}}),N.each(["toggle","show","hide"],function(se,be){var Pe=N.fn[be];N.fn[be]=function(Be,Xe,tt){return Be==null||typeof Be=="boolean"?Pe.apply(this,arguments):this.animate(qr(be,!0),Be,Xe,tt)}}),N.each({slideDown:qr("show"),slideUp:qr("hide"),slideToggle:qr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(se,be){N.fn[se]=function(Pe,Be,Xe){return this.animate(be,Pe,Be,Xe)}}),N.timers=[],N.fx.tick=function(){var se,be=0,Pe=N.timers;for(qo=Date.now();be<Pe.length;be++)se=Pe[be],!se()&&Pe[be]===se&&Pe.splice(be--,1);Pe.length||N.fx.stop(),qo=void 0},N.fx.timer=function(se){N.timers.push(se),N.fx.start()},N.fx.interval=13,N.fx.start=function(){Ca||(Ca=!0,ra())},N.fx.stop=function(){Ca=null},N.fx.speeds={slow:600,fast:200,_default:400},N.fn.delay=function(se,be){return se=N.fx&&N.fx.speeds[se]||se,be=be||"fx",this.queue(be,function(Pe,Be){var Xe=t.setTimeout(Pe,se);Be.stop=function(){t.clearTimeout(Xe)}})},function(){var se=T.createElement("input"),be=T.createElement("select"),Pe=be.appendChild(T.createElement("option"));se.type="checkbox",I.checkOn=se.value!=="",I.optSelected=Pe.selected,se=T.createElement("input"),se.value="t",se.type="radio",I.radioValue=se.value==="t"}();var Lo,io=N.expr.attrHandle;N.fn.extend({attr:function(se,be){return te(this,N.attr,se,be,arguments.length>1)},removeAttr:function(se){return this.each(function(){N.removeAttr(this,se)})}}),N.extend({attr:function(se,be,Pe){var Be,Xe,tt=se.nodeType;if(!(tt===3||tt===8||tt===2)){if(typeof se.getAttribute>"u")return N.prop(se,be,Pe);if((tt!==1||!N.isXMLDoc(se))&&(Xe=N.attrHooks[be.toLowerCase()]||(N.expr.match.bool.test(be)?Lo:void 0)),Pe!==void 0){if(Pe===null){N.removeAttr(se,be);return}return Xe&&"set"in Xe&&(Be=Xe.set(se,Pe,be))!==void 0?Be:(se.setAttribute(be,Pe+""),Pe)}return Xe&&"get"in Xe&&(Be=Xe.get(se,be))!==null?Be:(Be=N.find.attr(se,be),Be??void 0)}},attrHooks:{type:{set:function(se,be){if(!I.radioValue&&be==="radio"&&g(se,"input")){var Pe=se.value;return se.setAttribute("type",be),Pe&&(se.value=Pe),be}}}},removeAttr:function(se,be){var Pe,Be=0,Xe=be&&be.match(he);if(Xe&&se.nodeType===1)for(;Pe=Xe[Be++];)se.removeAttribute(Pe)}}),Lo={set:function(se,be,Pe){return be===!1?N.removeAttr(se,Pe):se.setAttribute(Pe,Pe),Pe}},N.each(N.expr.match.bool.source.match(/\w+/g),function(se,be){var Pe=io[be]||N.find.attr;io[be]=function(Be,Xe,tt){var ut,Yt,Ft=Xe.toLowerCase();return tt||(Yt=io[Ft],io[Ft]=ut,ut=Pe(Be,Xe,tt)!=null?Ft:null,io[Ft]=Yt),ut}});var So=/^(?:input|select|textarea|button)$/i,ua=/^(?:a|area)$/i;N.fn.extend({prop:function(se,be){return te(this,N.prop,se,be,arguments.length>1)},removeProp:function(se){return this.each(function(){delete this[N.propFix[se]||se]})}}),N.extend({prop:function(se,be,Pe){var Be,Xe,tt=se.nodeType;if(!(tt===3||tt===8||tt===2))return(tt!==1||!N.isXMLDoc(se))&&(be=N.propFix[be]||be,Xe=N.propHooks[be]),Pe!==void 0?Xe&&"set"in Xe&&(Be=Xe.set(se,Pe,be))!==void 0?Be:se[be]=Pe:Xe&&"get"in Xe&&(Be=Xe.get(se,be))!==null?Be:se[be]},propHooks:{tabIndex:{get:function(se){var be=N.find.attr(se,"tabindex");return be?parseInt(be,10):So.test(se.nodeName)||ua.test(se.nodeName)&&se.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),I.optSelected||(N.propHooks.selected={get:function(se){var be=se.parentNode;return be&&be.parentNode&&be.parentNode.selectedIndex,null},set:function(se){var be=se.parentNode;be&&(be.selectedIndex,be.parentNode&&be.parentNode.selectedIndex)}}),N.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){N.propFix[this.toLowerCase()]=this});function An(se){var be=se.match(he)||[];return be.join(" ")}function Aa(se){return se.getAttribute&&se.getAttribute("class")||""}function Ra(se){return Array.isArray(se)?se:typeof se=="string"?se.match(he)||[]:[]}N.fn.extend({addClass:function(se){var be,Pe,Be,Xe,tt,ut;return B(se)?this.each(function(Yt){N(this).addClass(se.call(this,Yt,Aa(this)))}):(be=Ra(se),be.length?this.each(function(){if(Be=Aa(this),Pe=this.nodeType===1&&" "+An(Be)+" ",Pe){for(tt=0;tt<be.length;tt++)Xe=be[tt],Pe.indexOf(" "+Xe+" ")<0&&(Pe+=Xe+" ");ut=An(Pe),Be!==ut&&this.setAttribute("class",ut)}}):this)},removeClass:function(se){var be,Pe,Be,Xe,tt,ut;return B(se)?this.each(function(Yt){N(this).removeClass(se.call(this,Yt,Aa(this)))}):arguments.length?(be=Ra(se),be.length?this.each(function(){if(Be=Aa(this),Pe=this.nodeType===1&&" "+An(Be)+" ",Pe){for(tt=0;tt<be.length;tt++)for(Xe=be[tt];Pe.indexOf(" "+Xe+" ")>-1;)Pe=Pe.replace(" "+Xe+" "," ");ut=An(Pe),Be!==ut&&this.setAttribute("class",ut)}}):this):this.attr("class","")},toggleClass:function(se,be){var Pe,Be,Xe,tt,ut=typeof se,Yt=ut==="string"||Array.isArray(se);return B(se)?this.each(function(Ft){N(this).toggleClass(se.call(this,Ft,Aa(this),be),be)}):typeof be=="boolean"&&Yt?be?this.addClass(se):this.removeClass(se):(Pe=Ra(se),this.each(function(){if(Yt)for(tt=N(this),Xe=0;Xe<Pe.length;Xe++)Be=Pe[Xe],tt.hasClass(Be)?tt.removeClass(Be):tt.addClass(Be);else(se===void 0||ut==="boolean")&&(Be=Aa(this),Be&&De.set(this,"__className__",Be),this.setAttribute&&this.setAttribute("class",Be||se===!1?"":De.get(this,"__className__")||""))}))},hasClass:function(se){var be,Pe,Be=0;for(be=" "+se+" ";Pe=this[Be++];)if(Pe.nodeType===1&&(" "+An(Aa(Pe))+" ").indexOf(be)>-1)return!0;return!1}});var Yo=/\r/g;N.fn.extend({val:function(se){var be,Pe,Be,Xe=this[0];return arguments.length?(Be=B(se),this.each(function(tt){var ut;this.nodeType===1&&(Be?ut=se.call(this,tt,N(this).val()):ut=se,ut==null?ut="":typeof ut=="number"?ut+="":Array.isArray(ut)&&(ut=N.map(ut,function(Yt){return Yt==null?"":Yt+""})),be=N.valHooks[this.type]||N.valHooks[this.nodeName.toLowerCase()],(!be||!("set"in be)||be.set(this,ut,"value")===void 0)&&(this.value=ut))})):Xe?(be=N.valHooks[Xe.type]||N.valHooks[Xe.nodeName.toLowerCase()],be&&"get"in be&&(Pe=be.get(Xe,"value"))!==void 0?Pe:(Pe=Xe.value,typeof Pe=="string"?Pe.replace(Yo,""):Pe??"")):void 0}}),N.extend({valHooks:{option:{get:function(se){var be=N.find.attr(se,"value");return be??An(N.text(se))}},select:{get:function(se){var be,Pe,Be,Xe=se.options,tt=se.selectedIndex,ut=se.type==="select-one",Yt=ut?null:[],Ft=ut?tt+1:Xe.length;for(tt<0?Be=Ft:Be=ut?tt:0;Be<Ft;Be++)if(Pe=Xe[Be],(Pe.selected||Be===tt)&&!Pe.disabled&&(!Pe.parentNode.disabled||!g(Pe.parentNode,"optgroup"))){if(be=N(Pe).val(),ut)return be;Yt.push(be)}return Yt},set:function(se,be){for(var Pe,Be,Xe=se.options,tt=N.makeArray(be),ut=Xe.length;ut--;)Be=Xe[ut],(Be.selected=N.inArray(N.valHooks.option.get(Be),tt)>-1)&&(Pe=!0);return Pe||(se.selectedIndex=-1),tt}}}}),N.each(["radio","checkbox"],function(){N.valHooks[this]={set:function(se,be){if(Array.isArray(be))return se.checked=N.inArray(N(se).val(),be)>-1}},I.checkOn||(N.valHooks[this].get=function(se){return se.getAttribute("value")===null?"on":se.value})}),I.focusin="onfocusin"in t;var ro=/^(?:focusinfocus|focusoutblur)$/,Xo=function(se){se.stopPropagation()};N.extend(N.event,{trigger:function(se,be,Pe,Be){var Xe,tt,ut,Yt,Ft,ci,Ii,Li,xi=[Pe||T],Pi=z.call(se,"type")?se.type:se,rr=z.call(se,"namespace")?se.namespace.split("."):[];if(tt=Li=ut=Pe=Pe||T,!(Pe.nodeType===3||Pe.nodeType===8)&&!ro.test(Pi+N.event.triggered)&&(Pi.indexOf(".")>-1&&(rr=Pi.split("."),Pi=rr.shift(),rr.sort()),Ft=Pi.indexOf(":")<0&&"on"+Pi,se=se[N.expando]?se:new N.Event(Pi,typeof se=="object"&&se),se.isTrigger=Be?2:3,se.namespace=rr.join("."),se.rnamespace=se.namespace?new RegExp("(^|\\.)"+rr.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,se.result=void 0,se.target||(se.target=Pe),be=be==null?[se]:N.makeArray(be,[se]),Ii=N.event.special[Pi]||{},!(!Be&&Ii.trigger&&Ii.trigger.apply(Pe,be)===!1))){if(!Be&&!Ii.noBubble&&!U(Pe)){for(Yt=Ii.delegateType||Pi,ro.test(Yt+Pi)||(tt=tt.parentNode);tt;tt=tt.parentNode)xi.push(tt),ut=tt;ut===(Pe.ownerDocument||T)&&xi.push(ut.defaultView||ut.parentWindow||t)}for(Xe=0;(tt=xi[Xe++])&&!se.isPropagationStopped();)Li=tt,se.type=Xe>1?Yt:Ii.bindType||Pi,ci=(De.get(tt,"events")||Object.create(null))[se.type]&&De.get(tt,"handle"),ci&&ci.apply(tt,be),ci=Ft&&tt[Ft],ci&&ci.apply&&Ae(tt)&&(se.result=ci.apply(tt,be),se.result===!1&&se.preventDefault());return se.type=Pi,!Be&&!se.isDefaultPrevented()&&(!Ii._default||Ii._default.apply(xi.pop(),be)===!1)&&Ae(Pe)&&Ft&&B(Pe[Pi])&&!U(Pe)&&(ut=Pe[Ft],ut&&(Pe[Ft]=null),N.event.triggered=Pi,se.isPropagationStopped()&&Li.addEventListener(Pi,Xo),Pe[Pi](),se.isPropagationStopped()&&Li.removeEventListener(Pi,Xo),N.event.triggered=void 0,ut&&(Pe[Ft]=ut)),se.result}},simulate:function(se,be,Pe){var Be=N.extend(new N.Event,Pe,{type:se,isSimulated:!0});N.event.trigger(Be,null,be)}}),N.fn.extend({trigger:function(se,be){return this.each(function(){N.event.trigger(se,be,this)})},triggerHandler:function(se,be){var Pe=this[0];if(Pe)return N.event.trigger(se,be,Pe,!0)}}),I.focusin||N.each({focus:"focusin",blur:"focusout"},function(se,be){var Pe=function(Be){N.event.simulate(be,Be.target,N.event.fix(Be))};N.event.special[be]={setup:function(){var Be=this.ownerDocument||this.document||this,Xe=De.access(Be,be);Xe||Be.addEventListener(se,Pe,!0),De.access(Be,be,(Xe||0)+1)},teardown:function(){var Be=this.ownerDocument||this.document||this,Xe=De.access(Be,be)-1;Xe?De.access(Be,be,Xe):(Be.removeEventListener(se,Pe,!0),De.remove(Be,be))}}});var Zo=t.location,Bo={guid:Date.now()},Fo=/\?/;N.parseXML=function(se){var be,Pe;if(!se||typeof se!="string")return null;try{be=new t.DOMParser().parseFromString(se,"text/xml")}catch{}return Pe=be&&be.getElementsByTagName("parsererror")[0],(!be||Pe)&&N.error("Invalid XML: "+(Pe?N.map(Pe.childNodes,function(Be){return Be.textContent}).join(`
`):se)),be};var As=/\[\]$/,Ko=/\r?\n/g,pa=/^(?:submit|button|image|reset|file)$/i,Hn=/^(?:input|select|textarea|keygen)/i;function ko(se,be,Pe,Be){var Xe;if(Array.isArray(be))N.each(be,function(tt,ut){Pe||As.test(se)?Be(se,ut):ko(se+"["+(typeof ut=="object"&&ut!=null?tt:"")+"]",ut,Pe,Be)});else if(!Pe&&G(be)==="object")for(Xe in be)ko(se+"["+Xe+"]",be[Xe],Pe,Be);else Be(se,be)}N.param=function(se,be){var Pe,Be=[],Xe=function(tt,ut){var Yt=B(ut)?ut():ut;Be[Be.length]=encodeURIComponent(tt)+"="+encodeURIComponent(Yt??"")};if(se==null)return"";if(Array.isArray(se)||se.jquery&&!N.isPlainObject(se))N.each(se,function(){Xe(this.name,this.value)});else for(Pe in se)ko(Pe,se[Pe],be,Xe);return Be.join("&")},N.fn.extend({serialize:function(){return N.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var se=N.prop(this,"elements");return se?N.makeArray(se):this}).filter(function(){var se=this.type;return this.name&&!N(this).is(":disabled")&&Hn.test(this.nodeName)&&!pa.test(se)&&(this.checked||!ei.test(se))}).map(function(se,be){var Pe=N(this).val();return Pe==null?null:Array.isArray(Pe)?N.map(Pe,function(Be){return{name:be.name,value:Be.replace(Ko,`\r
`)}}):{name:be.name,value:Pe.replace(Ko,`\r
`)}}).get()}});var no=/%20/g,na=/#.*$/,ma=/([?&])_=[^&]*/,Ks=/^(.*?):[ \t]*([^\r\n]*)$/mg,Js=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,$n=/^(?:GET|HEAD)$/,Jo=/^\/\//,Qs={},Ao={},ga="*/".concat("*"),Qo=T.createElement("a");Qo.href=Zo.href;function el(se){return function(be,Pe){typeof be!="string"&&(Pe=be,be="*");var Be,Xe=0,tt=be.toLowerCase().match(he)||[];if(B(Pe))for(;Be=tt[Xe++];)Be[0]==="+"?(Be=Be.slice(1)||"*",(se[Be]=se[Be]||[]).unshift(Pe)):(se[Be]=se[Be]||[]).push(Pe)}}function vn(se,be,Pe,Be){var Xe={},tt=se===Ao;function ut(Yt){var Ft;return Xe[Yt]=!0,N.each(se[Yt]||[],function(ci,Ii){var Li=Ii(be,Pe,Be);if(typeof Li=="string"&&!tt&&!Xe[Li])return be.dataTypes.unshift(Li),ut(Li),!1;if(tt)return!(Ft=Li)}),Ft}return ut(be.dataTypes[0])||!Xe["*"]&&ut("*")}function un(se,be){var Pe,Be,Xe=N.ajaxSettings.flatOptions||{};for(Pe in be)be[Pe]!==void 0&&((Xe[Pe]?se:Be||(Be={}))[Pe]=be[Pe]);return Be&&N.extend(!0,se,Be),se}function Cs(se,be,Pe){for(var Be,Xe,tt,ut,Yt=se.contents,Ft=se.dataTypes;Ft[0]==="*";)Ft.shift(),Be===void 0&&(Be=se.mimeType||be.getResponseHeader("Content-Type"));if(Be){for(Xe in Yt)if(Yt[Xe]&&Yt[Xe].test(Be)){Ft.unshift(Xe);break}}if(Ft[0]in Pe)tt=Ft[0];else{for(Xe in Pe){if(!Ft[0]||se.converters[Xe+" "+Ft[0]]){tt=Xe;break}ut||(ut=Xe)}tt=tt||ut}if(tt)return tt!==Ft[0]&&Ft.unshift(tt),Pe[tt]}function es(se,be,Pe,Be){var Xe,tt,ut,Yt,Ft,ci={},Ii=se.dataTypes.slice();if(Ii[1])for(ut in se.converters)ci[ut.toLowerCase()]=se.converters[ut];for(tt=Ii.shift();tt;)if(se.responseFields[tt]&&(Pe[se.responseFields[tt]]=be),!Ft&&Be&&se.dataFilter&&(be=se.dataFilter(be,se.dataType)),Ft=tt,tt=Ii.shift(),tt){if(tt==="*")tt=Ft;else if(Ft!=="*"&&Ft!==tt){if(ut=ci[Ft+" "+tt]||ci["* "+tt],!ut){for(Xe in ci)if(Yt=Xe.split(" "),Yt[1]===tt&&(ut=ci[Ft+" "+Yt[0]]||ci["* "+Yt[0]],ut)){ut===!0?ut=ci[Xe]:ci[Xe]!==!0&&(tt=Yt[0],Ii.unshift(Yt[1]));break}}if(ut!==!0)if(ut&&se.throws)be=ut(be);else try{be=ut(be)}catch(Li){return{state:"parsererror",error:ut?Li:"No conversion from "+Ft+" to "+tt}}}}return{state:"success",data:be}}N.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Zo.href,type:"GET",isLocal:Js.test(Zo.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ga,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":N.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(se,be){return be?un(un(se,N.ajaxSettings),be):un(N.ajaxSettings,se)},ajaxPrefilter:el(Qs),ajaxTransport:el(Ao),ajax:function(se,be){typeof se=="object"&&(be=se,se=void 0),be=be||{};var Pe,Be,Xe,tt,ut,Yt,Ft,ci,Ii,Li,xi=N.ajaxSetup({},be),Pi=xi.context||xi,rr=xi.context&&(Pi.nodeType||Pi.jquery)?N(Pi):N.event,Hr=N.Deferred(),yr=N.Callbacks("once memory"),Vn=xi.statusCode||{},Cn={},rn={},sn="canceled",Br={readyState:0,getResponseHeader:function(ln){var En;if(Ft){if(!tt)for(tt={};En=Ks.exec(Xe);)tt[En[1].toLowerCase()+" "]=(tt[En[1].toLowerCase()+" "]||[]).concat(En[2]);En=tt[ln.toLowerCase()+" "]}return En==null?null:En.join(", ")},getAllResponseHeaders:function(){return Ft?Xe:null},setRequestHeader:function(ln,En){return Ft==null&&(ln=rn[ln.toLowerCase()]=rn[ln.toLowerCase()]||ln,Cn[ln]=En),this},overrideMimeType:function(ln){return Ft==null&&(xi.mimeType=ln),this},statusCode:function(ln){var En;if(ln)if(Ft)Br.always(ln[Br.status]);else for(En in ln)Vn[En]=[Vn[En],ln[En]];return this},abort:function(ln){var En=ln||sn;return Pe&&Pe.abort(En),ya(0,En),this}};if(Hr.promise(Br),xi.url=((se||xi.url||Zo.href)+"").replace(Jo,Zo.protocol+"//"),xi.type=be.method||be.type||xi.method||xi.type,xi.dataTypes=(xi.dataType||"*").toLowerCase().match(he)||[""],xi.crossDomain==null){Yt=T.createElement("a");try{Yt.href=xi.url,Yt.href=Yt.href,xi.crossDomain=Qo.protocol+"//"+Qo.host!=Yt.protocol+"//"+Yt.host}catch{xi.crossDomain=!0}}if(xi.data&&xi.processData&&typeof xi.data!="string"&&(xi.data=N.param(xi.data,xi.traditional)),vn(Qs,xi,be,Br),Ft)return Br;ci=N.event&&xi.global,ci&&N.active++===0&&N.event.trigger("ajaxStart"),xi.type=xi.type.toUpperCase(),xi.hasContent=!$n.test(xi.type),Be=xi.url.replace(na,""),xi.hasContent?xi.data&&xi.processData&&(xi.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(xi.data=xi.data.replace(no,"+")):(Li=xi.url.slice(Be.length),xi.data&&(xi.processData||typeof xi.data=="string")&&(Be+=(Fo.test(Be)?"&":"?")+xi.data,delete xi.data),xi.cache===!1&&(Be=Be.replace(ma,"$1"),Li=(Fo.test(Be)?"&":"?")+"_="+Bo.guid+++Li),xi.url=Be+Li),xi.ifModified&&(N.lastModified[Be]&&Br.setRequestHeader("If-Modified-Since",N.lastModified[Be]),N.etag[Be]&&Br.setRequestHeader("If-None-Match",N.etag[Be])),(xi.data&&xi.hasContent&&xi.contentType!==!1||be.contentType)&&Br.setRequestHeader("Content-Type",xi.contentType),Br.setRequestHeader("Accept",xi.dataTypes[0]&&xi.accepts[xi.dataTypes[0]]?xi.accepts[xi.dataTypes[0]]+(xi.dataTypes[0]!=="*"?", "+ga+"; q=0.01":""):xi.accepts["*"]);for(Ii in xi.headers)Br.setRequestHeader(Ii,xi.headers[Ii]);if(xi.beforeSend&&(xi.beforeSend.call(Pi,Br,xi)===!1||Ft))return Br.abort();if(sn="abort",yr.add(xi.complete),Br.done(xi.success),Br.fail(xi.error),Pe=vn(Ao,xi,be,Br),!Pe)ya(-1,"No Transport");else{if(Br.readyState=1,ci&&rr.trigger("ajaxSend",[Br,xi]),Ft)return Br;xi.async&&xi.timeout>0&&(ut=t.setTimeout(function(){Br.abort("timeout")},xi.timeout));try{Ft=!1,Pe.send(Cn,ya)}catch(ln){if(Ft)throw ln;ya(-1,ln)}}function ya(ln,En,Co,yo){var va,Da,$r,ba,qa,qn=En;Ft||(Ft=!0,ut&&t.clearTimeout(ut),Pe=void 0,Xe=yo||"",Br.readyState=ln>0?4:0,va=ln>=200&&ln<300||ln===304,Co&&(ba=Cs(xi,Br,Co)),!va&&N.inArray("script",xi.dataTypes)>-1&&N.inArray("json",xi.dataTypes)<0&&(xi.converters["text script"]=function(){}),ba=es(xi,ba,Br,va),va?(xi.ifModified&&(qa=Br.getResponseHeader("Last-Modified"),qa&&(N.lastModified[Be]=qa),qa=Br.getResponseHeader("etag"),qa&&(N.etag[Be]=qa)),ln===204||xi.type==="HEAD"?qn="nocontent":ln===304?qn="notmodified":(qn=ba.state,Da=ba.data,$r=ba.error,va=!$r)):($r=qn,(ln||!qn)&&(qn="error",ln<0&&(ln=0))),Br.status=ln,Br.statusText=(En||qn)+"",va?Hr.resolveWith(Pi,[Da,qn,Br]):Hr.rejectWith(Pi,[Br,qn,$r]),Br.statusCode(Vn),Vn=void 0,ci&&rr.trigger(va?"ajaxSuccess":"ajaxError",[Br,xi,va?Da:$r]),yr.fireWith(Pi,[Br,qn]),ci&&(rr.trigger("ajaxComplete",[Br,xi]),--N.active||N.event.trigger("ajaxStop")))}return Br},getJSON:function(se,be,Pe){return N.get(se,be,Pe,"json")},getScript:function(se,be){return N.get(se,void 0,be,"script")}}),N.each(["get","post"],function(se,be){N[be]=function(Pe,Be,Xe,tt){return B(Be)&&(tt=tt||Xe,Xe=Be,Be=void 0),N.ajax(N.extend({url:Pe,type:be,dataType:tt,data:Be,success:Xe},N.isPlainObject(Pe)&&Pe))}}),N.ajaxPrefilter(function(se){var be;for(be in se.headers)be.toLowerCase()==="content-type"&&(se.contentType=se.headers[be]||"")}),N._evalUrl=function(se,be,Pe){return N.ajax({url:se,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(Be){N.globalEval(Be,be,Pe)}})},N.fn.extend({wrapAll:function(se){var be;return this[0]&&(B(se)&&(se=se.call(this[0])),be=N(se,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&be.insertBefore(this[0]),be.map(function(){for(var Pe=this;Pe.firstElementChild;)Pe=Pe.firstElementChild;return Pe}).append(this)),this},wrapInner:function(se){return B(se)?this.each(function(be){N(this).wrapInner(se.call(this,be))}):this.each(function(){var be=N(this),Pe=be.contents();Pe.length?Pe.wrapAll(se):be.append(se)})},wrap:function(se){var be=B(se);return this.each(function(Pe){N(this).wrapAll(be?se.call(this,Pe):se)})},unwrap:function(se){return this.parent(se).not("body").each(function(){N(this).replaceWith(this.childNodes)}),this}}),N.expr.pseudos.hidden=function(se){return!N.expr.pseudos.visible(se)},N.expr.pseudos.visible=function(se){return!!(se.offsetWidth||se.offsetHeight||se.getClientRects().length)},N.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var fl={0:200,1223:204},Ga=N.ajaxSettings.xhr();I.cors=!!Ga&&"withCredentials"in Ga,I.ajax=Ga=!!Ga,N.ajaxTransport(function(se){var be,Pe;if(I.cors||Ga&&!se.crossDomain)return{send:function(Be,Xe){var tt,ut=se.xhr();if(ut.open(se.type,se.url,se.async,se.username,se.password),se.xhrFields)for(tt in se.xhrFields)ut[tt]=se.xhrFields[tt];se.mimeType&&ut.overrideMimeType&&ut.overrideMimeType(se.mimeType),!se.crossDomain&&!Be["X-Requested-With"]&&(Be["X-Requested-With"]="XMLHttpRequest");for(tt in Be)ut.setRequestHeader(tt,Be[tt]);be=function(Yt){return function(){be&&(be=Pe=ut.onload=ut.onerror=ut.onabort=ut.ontimeout=ut.onreadystatechange=null,Yt==="abort"?ut.abort():Yt==="error"?typeof ut.status!="number"?Xe(0,"error"):Xe(ut.status,ut.statusText):Xe(fl[ut.status]||ut.status,ut.statusText,(ut.responseType||"text")!=="text"||typeof ut.responseText!="string"?{binary:ut.response}:{text:ut.responseText},ut.getAllResponseHeaders()))}},ut.onload=be(),Pe=ut.onerror=ut.ontimeout=be("error"),ut.onabort!==void 0?ut.onabort=Pe:ut.onreadystatechange=function(){ut.readyState===4&&t.setTimeout(function(){be&&Pe()})},be=be("abort");try{ut.send(se.hasContent&&se.data||null)}catch(Yt){if(be)throw Yt}},abort:function(){be&&be()}}}),N.ajaxPrefilter(function(se){se.crossDomain&&(se.contents.script=!1)}),N.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(se){return N.globalEval(se),se}}}),N.ajaxPrefilter("script",function(se){se.cache===void 0&&(se.cache=!1),se.crossDomain&&(se.type="GET")}),N.ajaxTransport("script",function(se){if(se.crossDomain||se.scriptAttrs){var be,Pe;return{send:function(Be,Xe){be=N("<script>").attr(se.scriptAttrs||{}).prop({charset:se.scriptCharset,src:se.url}).on("load error",Pe=function(tt){be.remove(),Pe=null,tt&&Xe(tt.type==="error"?404:200,tt.type)}),T.head.appendChild(be[0])},abort:function(){Pe&&Pe()}}}});var Es=[],fs=/(=)\?(?=&|$)|\?\?/;N.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var se=Es.pop()||N.expando+"_"+Bo.guid++;return this[se]=!0,se}}),N.ajaxPrefilter("json jsonp",function(se,be,Pe){var Be,Xe,tt,ut=se.jsonp!==!1&&(fs.test(se.url)?"url":typeof se.data=="string"&&(se.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&fs.test(se.data)&&"data");if(ut||se.dataTypes[0]==="jsonp")return Be=se.jsonpCallback=B(se.jsonpCallback)?se.jsonpCallback():se.jsonpCallback,ut?se[ut]=se[ut].replace(fs,"$1"+Be):se.jsonp!==!1&&(se.url+=(Fo.test(se.url)?"&":"?")+se.jsonp+"="+Be),se.converters["script json"]=function(){return tt||N.error(Be+" was not called"),tt[0]},se.dataTypes[0]="json",Xe=t[Be],t[Be]=function(){tt=arguments},Pe.always(function(){Xe===void 0?N(t).removeProp(Be):t[Be]=Xe,se[Be]&&(se.jsonpCallback=be.jsonpCallback,Es.push(Be)),tt&&B(Xe)&&Xe(tt[0]),tt=Xe=void 0}),"script"}),I.createHTMLDocument=function(){var se=T.implementation.createHTMLDocument("").body;return se.innerHTML="<form></form><form></form>",se.childNodes.length===2}(),N.parseHTML=function(se,be,Pe){if(typeof se!="string")return[];typeof be=="boolean"&&(Pe=be,be=!1);var Be,Xe,tt;return be||(I.createHTMLDocument?(be=T.implementation.createHTMLDocument(""),Be=be.createElement("base"),Be.href=T.location.href,be.head.appendChild(Be)):be=T),Xe=A.exec(se),tt=!Pe&&[],Xe?[be.createElement(Xe[1])]:(Xe=Cr([se],be,tt),tt&&tt.length&&N(tt).remove(),N.merge([],Xe.childNodes))},N.fn.load=function(se,be,Pe){var Be,Xe,tt,ut=this,Yt=se.indexOf(" ");return Yt>-1&&(Be=An(se.slice(Yt)),se=se.slice(0,Yt)),B(be)?(Pe=be,be=void 0):be&&typeof be=="object"&&(Xe="POST"),ut.length>0&&N.ajax({url:se,type:Xe||"GET",dataType:"html",data:be}).done(function(Ft){tt=arguments,ut.html(Be?N("<div>").append(N.parseHTML(Ft)).find(Be):Ft)}).always(Pe&&function(Ft,ci){ut.each(function(){Pe.apply(this,tt||[Ft.responseText,ci,Ft])})}),this},N.expr.pseudos.animated=function(se){return N.grep(N.timers,function(be){return se===be.elem}).length},N.offset={setOffset:function(se,be,Pe){var Be,Xe,tt,ut,Yt,Ft,ci,Ii=N.css(se,"position"),Li=N(se),xi={};Ii==="static"&&(se.style.position="relative"),Yt=Li.offset(),tt=N.css(se,"top"),Ft=N.css(se,"left"),ci=(Ii==="absolute"||Ii==="fixed")&&(tt+Ft).indexOf("auto")>-1,ci?(Be=Li.position(),ut=Be.top,Xe=Be.left):(ut=parseFloat(tt)||0,Xe=parseFloat(Ft)||0),B(be)&&(be=be.call(se,Pe,N.extend({},Yt))),be.top!=null&&(xi.top=be.top-Yt.top+ut),be.left!=null&&(xi.left=be.left-Yt.left+Xe),"using"in be?be.using.call(se,xi):Li.css(xi)}},N.fn.extend({offset:function(se){if(arguments.length)return se===void 0?this:this.each(function(Xe){N.offset.setOffset(this,se,Xe)});var be,Pe,Be=this[0];if(Be)return Be.getClientRects().length?(be=Be.getBoundingClientRect(),Pe=Be.ownerDocument.defaultView,{top:be.top+Pe.pageYOffset,left:be.left+Pe.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var se,be,Pe,Be=this[0],Xe={top:0,left:0};if(N.css(Be,"position")==="fixed")be=Be.getBoundingClientRect();else{for(be=this.offset(),Pe=Be.ownerDocument,se=Be.offsetParent||Pe.documentElement;se&&(se===Pe.body||se===Pe.documentElement)&&N.css(se,"position")==="static";)se=se.parentNode;se&&se!==Be&&se.nodeType===1&&(Xe=N(se).offset(),Xe.top+=N.css(se,"borderTopWidth",!0),Xe.left+=N.css(se,"borderLeftWidth",!0))}return{top:be.top-Xe.top-N.css(Be,"marginTop",!0),left:be.left-Xe.left-N.css(Be,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var se=this.offsetParent;se&&N.css(se,"position")==="static";)se=se.offsetParent;return se||Je})}}),N.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(se,be){var Pe=be==="pageYOffset";N.fn[se]=function(Be){return te(this,function(Xe,tt,ut){var Yt;if(U(Xe)?Yt=Xe:Xe.nodeType===9&&(Yt=Xe.defaultView),ut===void 0)return Yt?Yt[be]:Xe[tt];Yt?Yt.scrollTo(Pe?Yt.pageXOffset:ut,Pe?ut:Yt.pageYOffset):Xe[tt]=ut},se,Be,arguments.length)}}),N.each(["top","left"],function(se,be){N.cssHooks[be]=si(I.pixelPosition,function(Pe,Be){if(Be)return Be=Ki(Pe,be),Bt.test(Be)?N(Pe).position()[be]+"px":Be})}),N.each({Height:"height",Width:"width"},function(se,be){N.each({padding:"inner"+se,content:be,"":"outer"+se},function(Pe,Be){N.fn[Be]=function(Xe,tt){var ut=arguments.length&&(Pe||typeof Xe!="boolean"),Yt=Pe||(Xe===!0||tt===!0?"margin":"border");return te(this,function(Ft,ci,Ii){var Li;return U(Ft)?Be.indexOf("outer")===0?Ft["inner"+se]:Ft.document.documentElement["client"+se]:Ft.nodeType===9?(Li=Ft.documentElement,Math.max(Ft.body["scroll"+se],Li["scroll"+se],Ft.body["offset"+se],Li["offset"+se],Li["client"+se])):Ii===void 0?N.css(Ft,ci,Yt):N.style(Ft,ci,Ii,Yt)},be,ut?Xe:void 0,ut)}})}),N.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(se,be){N.fn[be]=function(Pe){return this.on(be,Pe)}}),N.fn.extend({bind:function(se,be,Pe){return this.on(se,null,be,Pe)},unbind:function(se,be){return this.off(se,null,be)},delegate:function(se,be,Pe,Be){return this.on(be,se,Pe,Be)},undelegate:function(se,be,Pe){return arguments.length===1?this.off(se,"**"):this.off(be,se||"**",Pe)},hover:function(se,be){return this.mouseenter(se).mouseleave(be||se)}}),N.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(se,be){N.fn[be]=function(Pe,Be){return arguments.length>0?this.on(be,null,Pe,Be):this.trigger(be)}});var ts=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;N.proxy=function(se,be){var Pe,Be,Xe;if(typeof be=="string"&&(Pe=se[be],be=se,se=Pe),!!B(se))return Be=u.call(arguments,2),Xe=function(){return se.apply(be||this,Be.concat(u.call(arguments)))},Xe.guid=se.guid=se.guid||N.guid++,Xe},N.holdReady=function(se){se?N.readyWait++:N.ready(!0)},N.isArray=Array.isArray,N.parseJSON=JSON.parse,N.nodeName=g,N.isFunction=B,N.isWindow=U,N.camelCase=we,N.type=G,N.now=Date.now,N.isNumeric=function(se){var be=N.type(se);return(be==="number"||be==="string")&&!isNaN(se-parseFloat(se))},N.trim=function(se){return se==null?"":(se+"").replace(ts,"$1")};var Ha=t.jQuery,sa=t.$;return N.noConflict=function(se){return t.$===N&&(t.$=sa),se&&t.jQuery===N&&(t.jQuery=Ha),N},typeof i>"u"&&(t.jQuery=t.$=N),N})})(jquery);var jqueryExports=jquery.exports;const $=getDefaultExportFromCjs(jqueryExports);function bind(e,t){return function(){return e.apply(t,arguments)}}const{toString:toString$2}=Object.prototype,{getPrototypeOf}=Object,kindOf$1=(e=>t=>{const i=toString$2.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=e=>(e=e.toLowerCase(),t=>kindOf$1(t)===e),typeOfTest=e=>t=>typeof t===e,{isArray:isArray$2}=Array,isUndefined$1=typeOfTest("undefined");function isBuffer(e){return e!==null&&!isUndefined$1(e)&&e.constructor!==null&&!isUndefined$1(e.constructor)&&isFunction$2(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&isArrayBuffer(e.buffer),t}const isString$2=typeOfTest("string"),isFunction$2=typeOfTest("function"),isNumber$1=typeOfTest("number"),isObject$6=e=>e!==null&&typeof e=="object",isBoolean=e=>e===!0||e===!1,isPlainObject$2=e=>{if(kindOf$1(e)!=="object")return!1;const t=getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},isDate$2=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=e=>isObject$6(e)&&isFunction$2(e.pipe),isFormData=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||toString$2.call(e)===t||isFunction$2(e.toString)&&e.toString()===t)},isURLSearchParams=kindOfTest("URLSearchParams"),trim=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let a,o;if(typeof e!="object"&&(e=[e]),isArray$2(e))for(a=0,o=e.length;a<o;a++)t.call(null,e[a],a,e);else{const u=i?Object.getOwnPropertyNames(e):Object.keys(e),d=u.length;let n;for(a=0;a<d;a++)n=u[a],t.call(null,e[n],n,e)}}function findKey(e,t){t=t.toLowerCase();const i=Object.keys(e);let a=i.length,o;for(;a-- >0;)if(o=i[a],t===o.toLowerCase())return o;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=e=>!isUndefined$1(e)&&e!==_global;function merge(){const{caseless:e}=isContextDefined(this)&&this||{},t={},i=(a,o)=>{const u=e&&findKey(t,o)||o;isPlainObject$2(t[u])&&isPlainObject$2(a)?t[u]=merge(t[u],a):isPlainObject$2(a)?t[u]=merge({},a):isArray$2(a)?t[u]=a.slice():t[u]=a};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&forEach(arguments[a],i);return t}const extend$8=(e,t,i,{allOwnKeys:a}={})=>(forEach(t,(o,u)=>{i&&isFunction$2(o)?e[u]=bind(o,i):e[u]=o},{allOwnKeys:a}),e),stripBOM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),inherits=(e,t,i,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},toFlatObject=(e,t,i,a)=>{let o,u,d;const n={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),u=o.length;u-- >0;)d=o[u],(!a||a(d,e,t))&&!n[d]&&(t[d]=e[d],n[d]=!0);e=i!==!1&&getPrototypeOf(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},endsWith=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const a=e.indexOf(t,i);return a!==-1&&a===i},toArray$1=e=>{if(!e)return null;if(isArray$2(e))return e;let t=e.length;if(!isNumber$1(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},isTypedArray=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(e,t)=>{const a=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=a.next())&&!o.done;){const u=o.value;t.call(e,u[0],u[1])}},matchAll=(e,t)=>{let i;const a=[];for(;(i=e.exec(t))!==null;)a.push(i);return a},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(i,a,o){return a.toUpperCase()+o}),hasOwnProperty$2=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),a={};forEach(i,(o,u)=>{t(o,u,e)!==!1&&(a[u]=o)}),Object.defineProperties(e,a)},freezeMethods=e=>{reduceDescriptors(e,(t,i)=>{if(isFunction$2(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const a=e[i];if(isFunction$2(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},toObjectSet=(e,t)=>{const i={},a=o=>{o.forEach(u=>{i[u]=!0})};return isArray$2(e)?a(e):a(String(e).split(t)),i},noop=()=>{},toFiniteNumber=(e,t)=>(e=+e,Number.isFinite(e)?e:t),toJSONObject=e=>{const t=new Array(10),i=(a,o)=>{if(isObject$6(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[o]=a;const u=isArray$2(a)?[]:{};return forEach(a,(d,n)=>{const k=i(d,o+1);!isUndefined$1(k)&&(u[n]=k)}),t[o]=void 0,u}}return a};return i(e,0)},utils$2={isArray:isArray$2,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$2,isNumber:isNumber$1,isBoolean,isObject:isObject$6,isPlainObject:isPlainObject$2,isUndefined:isUndefined$1,isDate:isDate$2,isFile,isBlob,isRegExp,isFunction:isFunction$2,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend:extend$8,trim,stripBOM,inherits,toFlatObject,kindOf:kindOf$1,kindOfTest,endsWith,toArray:toArray$1,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$2,hasOwnProp:hasOwnProperty$2,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,toJSONObject};function AxiosError(e,t,i,a,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),a&&(this.request=a),o&&(this.response=o)}utils$2.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$2.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{descriptors[e]={value:e}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(e,t,i,a,o,u)=>{const d=Object.create(prototype$1);return utils$2.toFlatObject(e,d,function(k){return k!==Error.prototype},n=>n!=="isAxiosError"),AxiosError.call(d,e.message,t,i,a,o),d.cause=e,d.name=e.name,u&&Object.assign(d,u),d};var browser$2=typeof self=="object"?self.FormData:window.FormData;const FormData$2=getDefaultExportFromCjs(browser$2);function isVisitable(e){return utils$2.isPlainObject(e)||utils$2.isArray(e)}function removeBrackets(e){return utils$2.endsWith(e,"[]")?e.slice(0,-2):e}function renderKey(e,t,i){return e?e.concat(t).map(function(o,u){return o=removeBrackets(o),!i&&u?"["+o+"]":o}).join(i?".":""):t}function isFlatArray(e){return utils$2.isArray(e)&&!e.some(isVisitable)}const predicates=utils$2.toFlatObject(utils$2,{},null,function(t){return/^is[A-Z]/.test(t)});function isSpecCompliant(e){return e&&utils$2.isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator]}function toFormData(e,t,i){if(!utils$2.isObject(e))throw new TypeError("target must be an object");t=t||new(FormData$2||FormData),i=utils$2.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(B,U){return!utils$2.isUndefined(U[B])});const a=i.metaTokens,o=i.visitor||Z,u=i.dots,d=i.indexes,k=(i.Blob||typeof Blob<"u"&&Blob)&&isSpecCompliant(t);if(!utils$2.isFunction(o))throw new TypeError("visitor must be a function");function j(I){if(I===null)return"";if(utils$2.isDate(I))return I.toISOString();if(!k&&utils$2.isBlob(I))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$2.isArrayBuffer(I)||utils$2.isTypedArray(I)?k&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function Z(I,B,U){let T=I;if(I&&!U&&typeof I=="object"){if(utils$2.endsWith(B,"{}"))B=a?B:B.slice(0,-2),I=JSON.stringify(I);else if(utils$2.isArray(I)&&isFlatArray(I)||utils$2.isFileList(I)||utils$2.endsWith(B,"[]")&&(T=utils$2.toArray(I)))return B=removeBrackets(B),T.forEach(function(P,G){!(utils$2.isUndefined(P)||P===null)&&t.append(d===!0?renderKey([B],G,u):d===null?B:B+"[]",j(P))}),!1}return isVisitable(I)?!0:(t.append(renderKey(U,B,u),j(I)),!1)}const z=[],H=Object.assign(predicates,{defaultVisitor:Z,convertValue:j,isVisitable});function Y(I,B){if(!utils$2.isUndefined(I)){if(z.indexOf(I)!==-1)throw Error("Circular reference detected in "+B.join("."));z.push(I),utils$2.forEach(I,function(T,C){(!(utils$2.isUndefined(T)||T===null)&&o.call(t,T,utils$2.isString(C)?C.trim():C,B,H))===!0&&Y(T,B?B.concat(C):[C])}),z.pop()}}if(!utils$2.isObject(e))throw new TypeError("data must be an object");return Y(e),t}function encode$1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function AxiosURLSearchParams(e,t){this._pairs=[],e&&toFormData(e,this,t)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(t,i){this._pairs.push([t,i])};prototype.toString=function(t){const i=t?function(a){return t.call(this,a,encode$1)}:encode$1;return this._pairs.map(function(o){return i(o[0])+"="+i(o[1])},"").join("&")};function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(e,t,i){if(!t)return e;const a=i&&i.encode||encode,o=i&&i.serialize;let u;if(o?u=o(t,i):u=utils$2.isURLSearchParams(t)?t.toString():new AxiosURLSearchParams(t,i).toString(a),u){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class InterceptorManager{constructor(){this.handlers=[]}use(t,i,a){return this.handlers.push({fulfilled:t,rejected:i,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){utils$2.forEach(this.handlers,function(a){a!==null&&t(a)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=FormData,isStandardBrowserEnv=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),platform={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(e,t){return toFormData(e,new platform.classes.URLSearchParams,Object.assign({visitor:function(i,a,o,u){return platform.isNode&&utils$2.isBuffer(i)?(this.append(a,i.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function parsePropPath(e){return utils$2.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function arrayToObject(e){const t={},i=Object.keys(e);let a;const o=i.length;let u;for(a=0;a<o;a++)u=i[a],t[u]=e[u];return t}function formDataToJSON(e){function t(i,a,o,u){let d=i[u++];const n=Number.isFinite(+d),k=u>=i.length;return d=!d&&utils$2.isArray(o)?o.length:d,k?(utils$2.hasOwnProp(o,d)?o[d]=[o[d],a]:o[d]=a,!n):((!o[d]||!utils$2.isObject(o[d]))&&(o[d]=[]),t(i,a,o[d],u)&&utils$2.isArray(o[d])&&(o[d]=arrayToObject(o[d])),!n)}if(utils$2.isFormData(e)&&utils$2.isFunction(e.entries)){const i={};return utils$2.forEachEntry(e,(a,o)=>{t(parsePropPath(a),o,i,0)}),i}return null}const DEFAULT_CONTENT_TYPE={"Content-Type":void 0};function stringifySafely(e,t,i){if(utils$2.isString(e))try{return(t||JSON.parse)(e),utils$2.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(i||JSON.stringify)(e)}const defaults$2={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function(t,i){const a=i.getContentType()||"",o=a.indexOf("application/json")>-1,u=utils$2.isObject(t);if(u&&utils$2.isHTMLForm(t)&&(t=new FormData(t)),utils$2.isFormData(t))return o&&o?JSON.stringify(formDataToJSON(t)):t;if(utils$2.isArrayBuffer(t)||utils$2.isBuffer(t)||utils$2.isStream(t)||utils$2.isFile(t)||utils$2.isBlob(t))return t;if(utils$2.isArrayBufferView(t))return t.buffer;if(utils$2.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let n;if(u){if(a.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(t,this.formSerializer).toString();if((n=utils$2.isFileList(t))||a.indexOf("multipart/form-data")>-1){const k=this.env&&this.env.FormData;return toFormData(n?{"files[]":t}:t,k&&new k,this.formSerializer)}}return u||o?(i.setContentType("application/json",!1),stringifySafely(t)):t}],transformResponse:[function(t){const i=this.transitional||defaults$2.transitional,a=i&&i.forcedJSONParsing,o=this.responseType==="json";if(t&&utils$2.isString(t)&&(a&&!this.responseType||o)){const d=!(i&&i.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(n){if(d)throw n.name==="SyntaxError"?AxiosError.from(n,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):n}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$2.forEach(["delete","get","head"],function(t){defaults$2.headers[t]={}});utils$2.forEach(["post","put","patch"],function(t){defaults$2.headers[t]=utils$2.merge(DEFAULT_CONTENT_TYPE)});const defaults$3=defaults$2,ignoreDuplicateOf=utils$2.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders$2=e=>{const t={};let i,a,o;return e&&e.split(`
`).forEach(function(d){o=d.indexOf(":"),i=d.substring(0,o).trim().toLowerCase(),a=d.substring(o+1).trim(),!(!i||t[i]&&ignoreDuplicateOf[i])&&(i==="set-cookie"?t[i]?t[i].push(a):t[i]=[a]:t[i]=t[i]?t[i]+", "+a:a)}),t},$internals=Symbol("internals");function normalizeHeader(e){return e&&String(e).trim().toLowerCase()}function normalizeValue(e){return e===!1||e==null?e:utils$2.isArray(e)?e.map(normalizeValue):String(e)}function parseTokens(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=i.exec(e);)t[a[1]]=a[2];return t}function isValidHeaderName(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function matchHeaderValue(e,t,i,a){if(utils$2.isFunction(a))return a.call(this,t,i);if(utils$2.isString(t)){if(utils$2.isString(a))return t.indexOf(a)!==-1;if(utils$2.isRegExp(a))return a.test(t)}}function formatHeader(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,a)=>i.toUpperCase()+a)}function buildAccessors(e,t){const i=utils$2.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+i,{value:function(o,u,d){return this[a].call(this,t,o,u,d)},configurable:!0})})}class AxiosHeaders{constructor(t){t&&this.set(t)}set(t,i,a){const o=this;function u(n,k,j){const Z=normalizeHeader(k);if(!Z)throw new Error("header name must be a non-empty string");const z=utils$2.findKey(o,Z);(!z||o[z]===void 0||j===!0||j===void 0&&o[z]!==!1)&&(o[z||k]=normalizeValue(n))}const d=(n,k)=>utils$2.forEach(n,(j,Z)=>u(j,Z,k));return utils$2.isPlainObject(t)||t instanceof this.constructor?d(t,i):utils$2.isString(t)&&(t=t.trim())&&!isValidHeaderName(t)?d(parseHeaders$2(t),i):t!=null&&u(i,t,a),this}get(t,i){if(t=normalizeHeader(t),t){const a=utils$2.findKey(this,t);if(a){const o=this[a];if(!i)return o;if(i===!0)return parseTokens(o);if(utils$2.isFunction(i))return i.call(this,o,a);if(utils$2.isRegExp(i))return i.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=normalizeHeader(t),t){const a=utils$2.findKey(this,t);return!!(a&&(!i||matchHeaderValue(this,this[a],a,i)))}return!1}delete(t,i){const a=this;let o=!1;function u(d){if(d=normalizeHeader(d),d){const n=utils$2.findKey(a,d);n&&(!i||matchHeaderValue(a,a[n],n,i))&&(delete a[n],o=!0)}}return utils$2.isArray(t)?t.forEach(u):u(t),o}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(t){const i=this,a={};return utils$2.forEach(this,(o,u)=>{const d=utils$2.findKey(a,u);if(d){i[d]=normalizeValue(o),delete i[u];return}const n=t?formatHeader(u):String(u).trim();n!==u&&delete i[u],i[n]=normalizeValue(o),a[n]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return utils$2.forEach(this,(a,o)=>{a!=null&&a!==!1&&(i[o]=t&&utils$2.isArray(a)?a.join(", "):a)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const a=new this(t);return i.forEach(o=>a.set(o)),a}static accessor(t){const a=(this[$internals]=this[$internals]={accessors:{}}).accessors,o=this.prototype;function u(d){const n=normalizeHeader(d);a[n]||(buildAccessors(o,d),a[n]=!0)}return utils$2.isArray(t)?t.forEach(u):u(t),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);utils$2.freezeMethods(AxiosHeaders.prototype);utils$2.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(e,t){const i=this||defaults$3,a=t||i,o=AxiosHeaders$1.from(a.headers);let u=a.data;return utils$2.forEach(e,function(n){u=n.call(i,u,o.normalize(),t?t.status:void 0)}),o.normalize(),u}function isCancel(e){return!!(e&&e.__CANCEL__)}function CanceledError(e,t,i){AxiosError.call(this,e??"canceled",AxiosError.ERR_CANCELED,t,i),this.name="CanceledError"}utils$2.inherits(CanceledError,AxiosError,{__CANCEL__:!0});const httpAdapter=null;function settle(e,t,i){const a=i.config.validateStatus;!i.status||!a||a(i.status)?e(i):t(new AxiosError("Request failed with status code "+i.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}const cookies=platform.isStandardBrowserEnv?function(){return{write:function(i,a,o,u,d,n){const k=[];k.push(i+"="+encodeURIComponent(a)),utils$2.isNumber(o)&&k.push("expires="+new Date(o).toGMTString()),utils$2.isString(u)&&k.push("path="+u),utils$2.isString(d)&&k.push("domain="+d),n===!0&&k.push("secure"),document.cookie=k.join("; ")},read:function(i){const a=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function combineURLs(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function buildFullPath(e,t){return e&&!isAbsoluteURL(t)?combineURLs(e,t):t}const isURLSameOrigin=platform.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");let a;function o(u){let d=u;return t&&(i.setAttribute("href",d),d=i.href),i.setAttribute("href",d),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return a=o(window.location.href),function(d){const n=utils$2.isString(d)?o(d):d;return n.protocol===a.protocol&&n.host===a.host}}():function(){return function(){return!0}}();function parseProtocol(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function speedometer(e,t){e=e||10;const i=new Array(e),a=new Array(e);let o=0,u=0,d;return t=t!==void 0?t:1e3,function(k){const j=Date.now(),Z=a[u];d||(d=j),i[o]=k,a[o]=j;let z=u,H=0;for(;z!==o;)H+=i[z++],z=z%e;if(o=(o+1)%e,o===u&&(u=(u+1)%e),j-d<t)return;const Y=Z&&j-Z;return Y?Math.round(H*1e3/Y):void 0}}function progressEventReducer(e,t){let i=0;const a=speedometer(50,250);return o=>{const u=o.loaded,d=o.lengthComputable?o.total:void 0,n=u-i,k=a(n),j=u<=d;i=u;const Z={loaded:u,total:d,progress:d?u/d:void 0,bytes:n,rate:k||void 0,estimated:k&&d&&j?(d-u)/k:void 0,event:o};Z[t?"download":"upload"]=!0,e(Z)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(e){return new Promise(function(i,a){let o=e.data;const u=AxiosHeaders$1.from(e.headers).normalize(),d=e.responseType;let n;function k(){e.cancelToken&&e.cancelToken.unsubscribe(n),e.signal&&e.signal.removeEventListener("abort",n)}utils$2.isFormData(o)&&(platform.isStandardBrowserEnv||platform.isStandardBrowserWebWorkerEnv)&&u.setContentType(!1);let j=new XMLHttpRequest;if(e.auth){const Y=e.auth.username||"",I=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";u.set("Authorization","Basic "+btoa(Y+":"+I))}const Z=buildFullPath(e.baseURL,e.url);j.open(e.method.toUpperCase(),buildURL(Z,e.params,e.paramsSerializer),!0),j.timeout=e.timeout;function z(){if(!j)return;const Y=AxiosHeaders$1.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),B={data:!d||d==="text"||d==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:Y,config:e,request:j};settle(function(T){i(T),k()},function(T){a(T),k()},B),j=null}if("onloadend"in j?j.onloadend=z:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(z)},j.onabort=function(){j&&(a(new AxiosError("Request aborted",AxiosError.ECONNABORTED,e,j)),j=null)},j.onerror=function(){a(new AxiosError("Network Error",AxiosError.ERR_NETWORK,e,j)),j=null},j.ontimeout=function(){let I=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const B=e.transitional||transitionalDefaults;e.timeoutErrorMessage&&(I=e.timeoutErrorMessage),a(new AxiosError(I,B.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,e,j)),j=null},platform.isStandardBrowserEnv){const Y=(e.withCredentials||isURLSameOrigin(Z))&&e.xsrfCookieName&&cookies.read(e.xsrfCookieName);Y&&u.set(e.xsrfHeaderName,Y)}o===void 0&&u.setContentType(null),"setRequestHeader"in j&&utils$2.forEach(u.toJSON(),function(I,B){j.setRequestHeader(B,I)}),utils$2.isUndefined(e.withCredentials)||(j.withCredentials=!!e.withCredentials),d&&d!=="json"&&(j.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&j.addEventListener("progress",progressEventReducer(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&j.upload&&j.upload.addEventListener("progress",progressEventReducer(e.onUploadProgress)),(e.cancelToken||e.signal)&&(n=Y=>{j&&(a(!Y||Y.type?new CanceledError(null,e,j):Y),j.abort(),j=null)},e.cancelToken&&e.cancelToken.subscribe(n),e.signal&&(e.signal.aborted?n():e.signal.addEventListener("abort",n)));const H=parseProtocol(Z);if(H&&platform.protocols.indexOf(H)===-1){a(new AxiosError("Unsupported protocol "+H+":",AxiosError.ERR_BAD_REQUEST,e));return}j.send(o||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils$2.forEach(knownAdapters,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const adapters={getAdapter:e=>{e=utils$2.isArray(e)?e:[e];const{length:t}=e;let i,a;for(let o=0;o<t&&(i=e[o],!(a=utils$2.isString(i)?knownAdapters[i.toLowerCase()]:i));o++);if(!a)throw a===!1?new AxiosError(`Adapter ${i} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(utils$2.hasOwnProp(knownAdapters,i)?`Adapter '${i}' is not available in the build`:`Unknown adapter '${i}'`);if(!utils$2.isFunction(a))throw new TypeError("adapter is not a function");return a},adapters:knownAdapters};function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError(null,e)}function dispatchRequest(e){return throwIfCancellationRequested(e),e.headers=AxiosHeaders$1.from(e.headers),e.data=transformData.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(e.adapter||defaults$3.adapter)(e).then(function(a){return throwIfCancellationRequested(e),a.data=transformData.call(e,e.transformResponse,a),a.headers=AxiosHeaders$1.from(a.headers),a},function(a){return isCancel(a)||(throwIfCancellationRequested(e),a&&a.response&&(a.response.data=transformData.call(e,e.transformResponse,a.response),a.response.headers=AxiosHeaders$1.from(a.response.headers))),Promise.reject(a)})}const headersToObject=e=>e instanceof AxiosHeaders$1?e.toJSON():e;function mergeConfig(e,t){t=t||{};const i={};function a(j,Z,z){return utils$2.isPlainObject(j)&&utils$2.isPlainObject(Z)?utils$2.merge.call({caseless:z},j,Z):utils$2.isPlainObject(Z)?utils$2.merge({},Z):utils$2.isArray(Z)?Z.slice():Z}function o(j,Z,z){if(utils$2.isUndefined(Z)){if(!utils$2.isUndefined(j))return a(void 0,j,z)}else return a(j,Z,z)}function u(j,Z){if(!utils$2.isUndefined(Z))return a(void 0,Z)}function d(j,Z){if(utils$2.isUndefined(Z)){if(!utils$2.isUndefined(j))return a(void 0,j)}else return a(void 0,Z)}function n(j,Z,z){if(z in t)return a(j,Z);if(z in e)return a(void 0,j)}const k={url:u,method:u,data:u,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:n,headers:(j,Z)=>o(headersToObject(j),headersToObject(Z),!0)};return utils$2.forEach(Object.keys(e).concat(Object.keys(t)),function(Z){const z=k[Z]||o,H=z(e[Z],t[Z],Z);utils$2.isUndefined(H)&&z!==n||(i[Z]=H)}),i}const VERSION="1.2.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{validators$1[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const deprecatedWarnings={};validators$1.transitional=function(t,i,a){function o(u,d){return"[Axios v"+VERSION+"] Transitional option '"+u+"'"+d+(a?". "+a:"")}return(u,d,n)=>{if(t===!1)throw new AxiosError(o(d," has been removed"+(i?" in "+i:"")),AxiosError.ERR_DEPRECATED);return i&&!deprecatedWarnings[d]&&(deprecatedWarnings[d]=!0,console.warn(o(d," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(u,d,n):!0}};function assertOptions(e,t,i){if(typeof e!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let o=a.length;for(;o-- >0;){const u=a[o],d=t[u];if(d){const n=e[u],k=n===void 0||d(n,u,e);if(k!==!0)throw new AxiosError("option "+u+" must be "+k,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new AxiosError("Unknown option "+u,AxiosError.ERR_BAD_OPTION)}}const validator$1={assertOptions,validators:validators$1},validators=validator$1.validators;class Axios{constructor(t){this.defaults=t,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=mergeConfig(this.defaults,i);const{transitional:a,paramsSerializer:o,headers:u}=i;a!==void 0&&validator$1.assertOptions(a,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),o!==void 0&&validator$1.assertOptions(o,{encode:validators.function,serialize:validators.function},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let d;d=u&&utils$2.merge(u.common,u[i.method]),d&&utils$2.forEach(["delete","get","head","post","put","patch","common"],I=>{delete u[I]}),i.headers=AxiosHeaders$1.concat(d,u);const n=[];let k=!0;this.interceptors.request.forEach(function(B){typeof B.runWhen=="function"&&B.runWhen(i)===!1||(k=k&&B.synchronous,n.unshift(B.fulfilled,B.rejected))});const j=[];this.interceptors.response.forEach(function(B){j.push(B.fulfilled,B.rejected)});let Z,z=0,H;if(!k){const I=[dispatchRequest.bind(this),void 0];for(I.unshift.apply(I,n),I.push.apply(I,j),H=I.length,Z=Promise.resolve(i);z<H;)Z=Z.then(I[z++],I[z++]);return Z}H=n.length;let Y=i;for(z=0;z<H;){const I=n[z++],B=n[z++];try{Y=I(Y)}catch(U){B.call(this,U);break}}try{Z=dispatchRequest.call(this,Y)}catch(I){return Promise.reject(I)}for(z=0,H=j.length;z<H;)Z=Z.then(j[z++],j[z++]);return Z}getUri(t){t=mergeConfig(this.defaults,t);const i=buildFullPath(t.baseURL,t.url);return buildURL(i,t.params,t.paramsSerializer)}}utils$2.forEach(["delete","get","head","options"],function(t){Axios.prototype[t]=function(i,a){return this.request(mergeConfig(a||{},{method:t,url:i,data:(a||{}).data}))}});utils$2.forEach(["post","put","patch"],function(t){function i(a){return function(u,d,n){return this.request(mergeConfig(n||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:u,data:d}))}}Axios.prototype[t]=i(),Axios.prototype[t+"Form"]=i(!0)});const Axios$1=Axios;class CancelToken{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(u){i=u});const a=this;this.promise.then(o=>{if(!a._listeners)return;let u=a._listeners.length;for(;u-- >0;)a._listeners[u](o);a._listeners=null}),this.promise.then=o=>{let u;const d=new Promise(n=>{a.subscribe(n),u=n}).then(o);return d.cancel=function(){a.unsubscribe(u)},d},t(function(u,d,n){a.reason||(a.reason=new CanceledError(u,d,n),i(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}static source(){let t;return{token:new CancelToken(function(o){t=o}),cancel:t}}}const CancelToken$1=CancelToken;function spread(e){return function(i){return e.apply(null,i)}}function isAxiosError(e){return utils$2.isObject(e)&&e.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([e,t])=>{HttpStatusCode[t]=e});const HttpStatusCode$1=HttpStatusCode;function createInstance(e){const t=new Axios$1(e),i=bind(Axios$1.prototype.request,t);return utils$2.extend(i,Axios$1.prototype,t,{allOwnKeys:!0}),utils$2.extend(i,t,null,{allOwnKeys:!0}),i.create=function(o){return createInstance(mergeConfig(e,o))},i}const axios$1=createInstance(defaults$3);axios$1.Axios=Axios$1;axios$1.CanceledError=CanceledError;axios$1.CancelToken=CancelToken$1;axios$1.isCancel=isCancel;axios$1.VERSION=VERSION;axios$1.toFormData=toFormData;axios$1.AxiosError=AxiosError;axios$1.Cancel=axios$1.CanceledError;axios$1.all=function(t){return Promise.all(t)};axios$1.spread=spread;axios$1.isAxiosError=isAxiosError;axios$1.mergeConfig=mergeConfig;axios$1.AxiosHeaders=AxiosHeaders$1;axios$1.formToJSON=e=>formDataToJSON(utils$2.isHTMLForm(e)?new FormData(e):e);axios$1.HttpStatusCode=HttpStatusCode$1;axios$1.default=axios$1;const axios$2=axios$1;window._=_;window.jQuery=window.$=$;window.bootstrap=window.bs=bootstrap;window.axios=axios$2;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";function makeMap(e,t){const i=Object.create(null),a=e.split(",");for(let o=0;o<a.length;o++)i[a[o]]=!0;return t?o=>!!i[o.toLowerCase()]:o=>!!i[o]}const GLOBALS_WHITE_LISTED="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",isGloballyWhitelisted=makeMap(GLOBALS_WHITE_LISTED);function normalizeStyle(e){if(isArray$1(e)){const t={};for(let i=0;i<e.length;i++){const a=e[i],o=isString$1(a)?parseStringStyle(a):normalizeStyle(a);if(o)for(const u in o)t[u]=o[u]}return t}else{if(isString$1(e))return e;if(isObject$5(e))return e}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(i=>{if(i){const a=i.split(propertyDelimiterRE);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function normalizeClass(e){let t="";if(isString$1(e))t=e;else if(isArray$1(e))for(let i=0;i<e.length;i++){const a=normalizeClass(e[i]);a&&(t+=a+" ")}else if(isObject$5(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}function normalizeProps(e){if(!e)return null;let{class:t,style:i}=e;return t&&!isString$1(t)&&(e.class=normalizeClass(t)),i&&(e.style=normalizeStyle(i)),e}const HTML_TAGS="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",SVG_TAGS="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",VOID_TAGS="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",isHTMLTag=makeMap(HTML_TAGS),isSVGTag=makeMap(SVG_TAGS),isVoidTag=makeMap(VOID_TAGS),specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}function looseCompareArrays(e,t){if(e.length!==t.length)return!1;let i=!0;for(let a=0;i&&a<e.length;a++)i=looseEqual(e[a],t[a]);return i}function looseEqual(e,t){if(e===t)return!0;let i=isDate$1(e),a=isDate$1(t);if(i||a)return i&&a?e.getTime()===t.getTime():!1;if(i=isSymbol$1(e),a=isSymbol$1(t),i||a)return e===t;if(i=isArray$1(e),a=isArray$1(t),i||a)return i&&a?looseCompareArrays(e,t):!1;if(i=isObject$5(e),a=isObject$5(t),i||a){if(!i||!a)return!1;const o=Object.keys(e).length,u=Object.keys(t).length;if(o!==u)return!1;for(const d in e){const n=e.hasOwnProperty(d),k=t.hasOwnProperty(d);if(n&&!k||!n&&k||!looseEqual(e[d],t[d]))return!1}}return String(e)===String(t)}function looseIndexOf(e,t){return e.findIndex(i=>looseEqual(i,t))}const toDisplayString=e=>isString$1(e)?e:e==null?"":isArray$1(e)||isObject$5(e)&&(e.toString===objectToString$1||!isFunction$1(e.toString))?JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>t&&t.__v_isRef?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[a,o])=>(i[`${a} =>`]=o,i),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()]}:isObject$5(t)&&!isArray$1(t)&&!isPlainObject$1(t)?String(t):t,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=e=>onRE.test(e),isModelListener=e=>e.startsWith("onUpdate:"),extend$7=Object.assign,remove=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$1.call(e,t),isArray$1=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isDate$1=e=>toTypeString(e)==="[object Date]",isFunction$1=e=>typeof e=="function",isString$1=e=>typeof e=="string",isSymbol$1=e=>typeof e=="symbol",isObject$5=e=>e!==null&&typeof e=="object",isPromise=e=>isObject$5(e)&&isFunction$1(e.then)&&isFunction$1(e.catch),objectToString$1=Object.prototype.toString,toTypeString=e=>objectToString$1.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject$1=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString$1(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),isBuiltInDirective=makeMap("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),cacheStringFunction$1=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},camelizeRE$1=/-(\w)/g,camelize$1=cacheStringFunction$1(e=>e.replace(camelizeRE$1,(t,i)=>i?i.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction$1(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction$1(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction$1(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,t)=>{for(let i=0;i<e.length;i++)e[i](t)},def=(e,t,i)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:i})},toNumber$1=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(t){if(this.active){const i=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=i}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this.active){let i,a;for(i=0,a=this.effects.length;i<a;i++)this.effects[i].stop();for(i=0,a=this.cleanups.length;i<a;i++)this.cleanups[i]();if(this.scopes)for(i=0,a=this.scopes.length;i<a;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this.active=!1}}}function effectScope(e){return new EffectScope(e)}function recordEffectScope(e,t=activeEffectScope){t&&t.active&&t.effects.push(e)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(e){activeEffectScope&&activeEffectScope.cleanups.push(e)}const createDep=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wasTracked=e=>(e.w&trackOpBit)>0,newTracked=e=>(e.n&trackOpBit)>0,initDepMarkers=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=trackOpBit},finalizeDepMarkers=e=>{const{deps:t}=e;if(t.length){let i=0;for(let a=0;a<t.length;a++){const o=t[a];wasTracked(o)&&!newTracked(o)?o.delete(e):t[i++]=o,o.w&=~trackOpBit,o.n&=~trackOpBit}t.length=i}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(t,i=null,a){this.fn=t,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,a)}run(){if(!this.active)return this.fn();let t=activeEffect,i=shouldTrack;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(e){const{deps:t}=e;if(t.length){for(let i=0;i<t.length;i++)t[i].delete(e);t.length=0}}function effect(e,t){e.effect&&(e=e.effect.fn);const i=new ReactiveEffect(e);t&&(extend$7(i,t),t.scope&&recordEffectScope(i,t.scope)),(!t||!t.lazy)&&i.run();const a=i.run.bind(i);return a.effect=i,a}function stop(e){e.effect.stop()}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function track(e,t,i){if(shouldTrack&&activeEffect){let a=targetMap.get(e);a||targetMap.set(e,a=new Map);let o=a.get(i);o||a.set(i,o=createDep()),trackEffects(o)}}function trackEffects(e,t){let i=!1;effectTrackDepth<=maxMarkerBits?newTracked(e)||(e.n|=trackOpBit,i=!wasTracked(e)):i=!e.has(activeEffect),i&&(e.add(activeEffect),activeEffect.deps.push(e))}function trigger(e,t,i,a,o,u){const d=targetMap.get(e);if(!d)return;let n=[];if(t==="clear")n=[...d.values()];else if(i==="length"&&isArray$1(e)){const k=toNumber$1(a);d.forEach((j,Z)=>{(Z==="length"||Z>=k)&&n.push(j)})}else switch(i!==void 0&&n.push(d.get(i)),t){case"add":isArray$1(e)?isIntegerKey(i)&&n.push(d.get("length")):(n.push(d.get(ITERATE_KEY)),isMap(e)&&n.push(d.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(e)||(n.push(d.get(ITERATE_KEY)),isMap(e)&&n.push(d.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&n.push(d.get(ITERATE_KEY));break}if(n.length===1)n[0]&&triggerEffects(n[0]);else{const k=[];for(const j of n)j&&k.push(...j);triggerEffects(createDep(k))}}function triggerEffects(e,t){const i=isArray$1(e)?e:[...e];for(const a of i)a.computed&&triggerEffect(a);for(const a of i)a.computed||triggerEffect(a)}function triggerEffect(e,t){(e!==activeEffect||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol$1)),get$3=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),shallowReadonlyGet=createGetter(!0,!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...i){const a=toRaw(this);for(let u=0,d=this.length;u<d;u++)track(a,"get",u+"");const o=a[t](...i);return o===-1||o===!1?a[t](...i.map(toRaw)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...i){pauseTracking();const a=toRaw(this)[t].apply(this,i);return resetTracking(),a}}),e}function createGetter(e=!1,t=!1){return function(a,o,u){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&u===(e?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(a))return a;const d=isArray$1(a);if(!e&&d&&hasOwn(arrayInstrumentations,o))return Reflect.get(arrayInstrumentations,o,u);const n=Reflect.get(a,o,u);return(isSymbol$1(o)?builtInSymbols.has(o):isNonTrackableKeys(o))||(e||track(a,"get",o),t)?n:isRef(n)?d&&isIntegerKey(o)?n:n.value:isObject$5(n)?e?readonly(n):reactive(n):n}}const set$2=createSetter(),shallowSet=createSetter(!0);function createSetter(e=!1){return function(i,a,o,u){let d=i[a];if(isReadonly(d)&&isRef(d)&&!isRef(o))return!1;if(!e&&(!isShallow(o)&&!isReadonly(o)&&(d=toRaw(d),o=toRaw(o)),!isArray$1(i)&&isRef(d)&&!isRef(o)))return d.value=o,!0;const n=isArray$1(i)&&isIntegerKey(a)?Number(a)<i.length:hasOwn(i,a),k=Reflect.set(i,a,o,u);return i===toRaw(u)&&(n?hasChanged(o,d)&&trigger(i,"set",a,o):trigger(i,"add",a,o)),k}}function deleteProperty(e,t){const i=hasOwn(e,t);e[t];const a=Reflect.deleteProperty(e,t);return a&&i&&trigger(e,"delete",t,void 0),a}function has$1(e,t){const i=Reflect.has(e,t);return(!isSymbol$1(t)||!builtInSymbols.has(t))&&track(e,"has",t),i}function ownKeys(e){return track(e,"iterate",isArray$1(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}const mutableHandlers={get:get$3,set:set$2,deleteProperty,has:has$1,ownKeys},readonlyHandlers={get:readonlyGet,set(e,t){return!0},deleteProperty(e,t){return!0}},shallowReactiveHandlers=extend$7({},mutableHandlers,{get:shallowGet,set:shallowSet}),shallowReadonlyHandlers=extend$7({},readonlyHandlers,{get:shallowReadonlyGet}),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get$1$1(e,t,i=!1,a=!1){e=e.__v_raw;const o=toRaw(e),u=toRaw(t);i||(t!==u&&track(o,"get",t),track(o,"get",u));const{has:d}=getProto(o),n=a?toShallow:i?toReadonly:toReactive;if(d.call(o,t))return n(e.get(t));if(d.call(o,u))return n(e.get(u));e!==o&&e.get(t)}function has$1$1(e,t=!1){const i=this.__v_raw,a=toRaw(i),o=toRaw(e);return t||(e!==o&&track(a,"has",e),track(a,"has",o)),e===o?i.has(e):i.has(e)||i.has(o)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add$2(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger(t,"add",e,e)),this}function set$1$1(e,t){t=toRaw(t);const i=toRaw(this),{has:a,get:o}=getProto(i);let u=a.call(i,e);u||(e=toRaw(e),u=a.call(i,e));const d=o.call(i,e);return i.set(e,t),u?hasChanged(t,d)&&trigger(i,"set",e,t):trigger(i,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:i,get:a}=getProto(t);let o=i.call(t,e);o||(e=toRaw(e),o=i.call(t,e)),a&&a.call(t,e);const u=t.delete(e);return o&&trigger(t,"delete",e,void 0),u}function clear(){const e=toRaw(this),t=e.size!==0,i=e.clear();return t&&trigger(e,"clear",void 0,void 0),i}function createForEach(e,t){return function(a,o){const u=this,d=u.__v_raw,n=toRaw(d),k=t?toShallow:e?toReadonly:toReactive;return!e&&track(n,"iterate",ITERATE_KEY),d.forEach((j,Z)=>a.call(o,k(j),k(Z),u))}}function createIterableMethod(e,t,i){return function(...a){const o=this.__v_raw,u=toRaw(o),d=isMap(u),n=e==="entries"||e===Symbol.iterator&&d,k=e==="keys"&&d,j=o[e](...a),Z=i?toShallow:t?toReadonly:toReactive;return!t&&track(u,"iterate",k?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:z,done:H}=j.next();return H?{value:z,done:H}:{value:n?[Z(z[0]),Z(z[1])]:Z(z),done:H}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:this}}function createInstrumentations(){const e={get(u){return get$1$1(this,u)},get size(){return size(this)},has:has$1$1,add:add$2,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(u){return get$1$1(this,u,!1,!0)},get size(){return size(this)},has:has$1$1,add:add$2,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},i={get(u){return get$1$1(this,u,!0)},get size(){return size(this,!0)},has(u){return has$1$1.call(this,u,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},a={get(u){return get$1$1(this,u,!0,!0)},get size(){return size(this,!0)},has(u){return has$1$1.call(this,u,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{e[u]=createIterableMethod(u,!1,!1),i[u]=createIterableMethod(u,!0,!1),t[u]=createIterableMethod(u,!1,!0),a[u]=createIterableMethod(u,!0,!0)}),[e,i,t,a]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const i=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(a,o,u)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?a:Reflect.get(hasOwn(i,o)&&o in a?i:a,o,u)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(e){return createReactiveObject(e,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(e,t,i,a,o){if(!isObject$5(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const u=o.get(e);if(u)return u;const d=getTargetType(e);if(d===0)return e;const n=new Proxy(e,d===2?a:i);return o.set(e,n),n}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return def(e,"__v_skip",!0),e}const toReactive=e=>isObject$5(e)?reactive(e):e,toReadonly=e=>isObject$5(e)?readonly(e):e;function trackRefValue(e){shouldTrack&&activeEffect&&(e=toRaw(e),trackEffects(e.dep||(e.dep=createDep())))}function triggerRefValue(e,t){e=toRaw(e),e.dep&&triggerEffects(e.dep)}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?t:toRaw(t),this._value=i?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){const i=this.__v_isShallow||isShallow(t)||isReadonly(t);t=i?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=i?t:toReactive(t),triggerRefValue(this))}}function triggerRef(e){triggerRefValue(e)}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,i)=>unref(Reflect.get(e,t,i)),set:(e,t,i,a)=>{const o=e[t];return isRef(o)&&!isRef(i)?(o.value=i,!0):Reflect.set(e,t,i,a)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}class CustomRefImpl{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:i,set:a}=t(()=>trackRefValue(this),()=>triggerRefValue(this));this._get=i,this._set=a}get value(){return this._get()}set value(t){this._set(t)}}function customRef(e){return new CustomRefImpl(e)}function toRefs(e){const t=isArray$1(e)?new Array(e.length):{};for(const i in e)t[i]=toRef(e,i);return t}class ObjectRefImpl{constructor(t,i,a){this._object=t,this._key=i,this._defaultValue=a,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function toRef(e,t,i){const a=e[t];return isRef(a)?a:new ObjectRefImpl(e,t,i)}var _a;class ComputedRefImpl{constructor(t,i,a,o){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this[_a]=!1,this._dirty=!0,this.effect=new ReactiveEffect(t,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=a}get value(){const t=toRaw(this);return trackRefValue(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}_a="__v_isReadonly";function computed$1(e,t,i=!1){let a,o;const u=isFunction$1(e);return u?(a=e,o=NOOP):(a=e.get,o=e.set),new ComputedRefImpl(a,o,u||!o,i)}function warn$1(e,...t){}function callWithErrorHandling(e,t,i,a){let o;try{o=a?e(...a):e()}catch(u){handleError(u,t,i)}return o}function callWithAsyncErrorHandling(e,t,i,a){if(isFunction$1(e)){const u=callWithErrorHandling(e,t,i,a);return u&&isPromise(u)&&u.catch(d=>{handleError(d,t,i)}),u}const o=[];for(let u=0;u<e.length;u++)o.push(callWithAsyncErrorHandling(e[u],t,i,a));return o}function handleError(e,t,i,a=!0){const o=t?t.vnode:null;if(t){let u=t.parent;const d=t.proxy,n=i;for(;u;){const j=u.ec;if(j){for(let Z=0;Z<j.length;Z++)if(j[Z](e,d,n)===!1)return}u=u.parent}const k=t.appContext.config.errorHandler;if(k){callWithErrorHandling(k,null,10,[e,d,n]);return}}logError(e,i,o,a)}function logError(e,t,i,a=!0){console.error(e)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick$1(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,i=queue.length;for(;t<i;){const a=t+i>>>1;getId(queue[a])<e?t=a+1:i=a}return t}function queueJob(e){(!queue.length||!queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&(e.id==null?queue.push(e):queue.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const t=queue.indexOf(e);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(e){isArray$1(e)?pendingPostFlushCbs.push(...e):(!activePostFlushCbs||!activePostFlushCbs.includes(e,e.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(e),queueFlush()}function flushPreFlushCbs(e,t=isFlushing?flushIndex+1:0){for(;t<queue.length;t++){const i=queue[t];i&&i.pre&&(queue.splice(t,1),t--,i())}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,activePostFlushCbs.sort((i,a)=>getId(i)-getId(a)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id,comparator=(e,t)=>{const i=getId(e)-getId(t);if(i===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return i};function flushJobs(e){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const t=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const i=queue[flushIndex];i&&i.active!==!1&&callWithErrorHandling(i,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let devtools,buffer=[];function setDevtoolsHook(e,t){var i,a;devtools=e,devtools?(devtools.enabled=!0,buffer.forEach(({event:o,args:u})=>devtools.emit(o,...u)),buffer=[]):typeof window<"u"&&window.HTMLElement&&!(!((a=(i=window.navigator)===null||i===void 0?void 0:i.userAgent)===null||a===void 0)&&a.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(u=>{setDevtoolsHook(u,t)}),setTimeout(()=>{devtools||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,buffer=[])},3e3)):buffer=[]}function emit$1(e,t,...i){if(e.isUnmounted)return;const a=e.vnode.props||EMPTY_OBJ;let o=i;const u=t.startsWith("update:"),d=u&&t.slice(7);if(d&&d in a){const Z=`${d==="modelValue"?"model":d}Modifiers`,{number:z,trim:H}=a[Z]||EMPTY_OBJ;H&&(o=i.map(Y=>isString$1(Y)?Y.trim():Y)),z&&(o=i.map(toNumber$1))}let n,k=a[n=toHandlerKey(t)]||a[n=toHandlerKey(camelize$1(t))];!k&&u&&(k=a[n=toHandlerKey(hyphenate(t))]),k&&callWithAsyncErrorHandling(k,e,6,o);const j=a[n+"Once"];if(j){if(!e.emitted)e.emitted={};else if(e.emitted[n])return;e.emitted[n]=!0,callWithAsyncErrorHandling(j,e,6,o)}}function normalizeEmitsOptions(e,t,i=!1){const a=t.emitsCache,o=a.get(e);if(o!==void 0)return o;const u=e.emits;let d={},n=!1;if(!isFunction$1(e)){const k=j=>{const Z=normalizeEmitsOptions(j,t,!0);Z&&(n=!0,extend$7(d,Z))};!i&&t.mixins.length&&t.mixins.forEach(k),e.extends&&k(e.extends),e.mixins&&e.mixins.forEach(k)}return!u&&!n?(isObject$5(e)&&a.set(e,null),null):(isArray$1(u)?u.forEach(k=>d[k]=null):extend$7(d,u),isObject$5(e)&&a.set(e,d),d)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function pushScopeId(e){currentScopeId=e}function popScopeId(){currentScopeId=null}const withScopeId=e=>withCtx;function withCtx(e,t=currentRenderingInstance,i){if(!t||e._n)return e;const a=(...o)=>{a._d&&setBlockTracking(-1);const u=setCurrentRenderingInstance(t);let d;try{d=e(...o)}finally{setCurrentRenderingInstance(u),a._d&&setBlockTracking(1)}return d};return a._n=!0,a._c=!0,a._d=!0,a}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:i,proxy:a,withProxy:o,props:u,propsOptions:[d],slots:n,attrs:k,emit:j,render:Z,renderCache:z,data:H,setupState:Y,ctx:I,inheritAttrs:B}=e;let U,T;const C=setCurrentRenderingInstance(e);try{if(i.shapeFlag&4){const G=o||a;U=normalizeVNode(Z.call(G,G,z,u,Y,H,I)),T=k}else{const G=t;U=normalizeVNode(G.length>1?G(u,{attrs:k,slots:n,emit:j}):G(u,null)),T=t.props?k:getFunctionalFallthrough(k)}}catch(G){blockStack.length=0,handleError(G,e,1),U=createVNode(Comment)}let P=U;if(T&&B!==!1){const G=Object.keys(T),{shapeFlag:q}=P;G.length&&q&7&&(d&&G.some(isModelListener)&&(T=filterModelListeners(T,d)),P=cloneVNode(P,T))}return i.dirs&&(P=cloneVNode(P),P.dirs=P.dirs?P.dirs.concat(i.dirs):i.dirs),i.transition&&(P.transition=i.transition),U=P,setCurrentRenderingInstance(C),U}function filterSingleRoot(e){let t;for(let i=0;i<e.length;i++){const a=e[i];if(isVNode(a)){if(a.type!==Comment||a.children==="v-if"){if(t)return;t=a}}else return}return t}const getFunctionalFallthrough=e=>{let t;for(const i in e)(i==="class"||i==="style"||isOn(i))&&((t||(t={}))[i]=e[i]);return t},filterModelListeners=(e,t)=>{const i={};for(const a in e)(!isModelListener(a)||!(a.slice(9)in t))&&(i[a]=e[a]);return i};function shouldUpdateComponent(e,t,i){const{props:a,children:o,component:u}=e,{props:d,children:n,patchFlag:k}=t,j=u.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&k>=0){if(k&1024)return!0;if(k&16)return a?hasPropsChanged(a,d,j):!!d;if(k&8){const Z=t.dynamicProps;for(let z=0;z<Z.length;z++){const H=Z[z];if(d[H]!==a[H]&&!isEmitListener(j,H))return!0}}}else return(o||n)&&(!n||!n.$stable)?!0:a===d?!1:a?d?hasPropsChanged(a,d,j):!0:!!d;return!1}function hasPropsChanged(e,t,i){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let o=0;o<a.length;o++){const u=a[o];if(t[u]!==e[u]&&!isEmitListener(i,u))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},i){for(;t&&t.subTree===e;)(e=t.vnode).el=i,t=t.parent}const isSuspense=e=>e.__isSuspense,SuspenseImpl={name:"Suspense",__isSuspense:!0,process(e,t,i,a,o,u,d,n,k,j){e==null?mountSuspense(t,i,a,o,u,d,n,k,j):patchSuspense(e,t,i,a,o,d,n,k,j)},hydrate:hydrateSuspense,create:createSuspenseBoundary,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent(e,t){const i=e.props&&e.props[t];isFunction$1(i)&&i()}function mountSuspense(e,t,i,a,o,u,d,n,k){const{p:j,o:{createElement:Z}}=k,z=Z("div"),H=e.suspense=createSuspenseBoundary(e,o,a,t,z,i,u,d,n,k);j(null,H.pendingBranch=e.ssContent,z,null,a,H,u,d),H.deps>0?(triggerEvent(e,"onPending"),triggerEvent(e,"onFallback"),j(null,e.ssFallback,t,i,a,null,u,d),setActiveBranch(H,e.ssFallback)):H.resolve()}function patchSuspense(e,t,i,a,o,u,d,n,{p:k,um:j,o:{createElement:Z}}){const z=t.suspense=e.suspense;z.vnode=t,t.el=e.el;const H=t.ssContent,Y=t.ssFallback,{activeBranch:I,pendingBranch:B,isInFallback:U,isHydrating:T}=z;if(B)z.pendingBranch=H,isSameVNodeType(H,B)?(k(B,H,z.hiddenContainer,null,o,z,u,d,n),z.deps<=0?z.resolve():U&&(k(I,Y,i,a,o,null,u,d,n),setActiveBranch(z,Y))):(z.pendingId++,T?(z.isHydrating=!1,z.activeBranch=B):j(B,o,z),z.deps=0,z.effects.length=0,z.hiddenContainer=Z("div"),U?(k(null,H,z.hiddenContainer,null,o,z,u,d,n),z.deps<=0?z.resolve():(k(I,Y,i,a,o,null,u,d,n),setActiveBranch(z,Y))):I&&isSameVNodeType(H,I)?(k(I,H,i,a,o,z,u,d,n),z.resolve(!0)):(k(null,H,z.hiddenContainer,null,o,z,u,d,n),z.deps<=0&&z.resolve()));else if(I&&isSameVNodeType(H,I))k(I,H,i,a,o,z,u,d,n),setActiveBranch(z,H);else if(triggerEvent(t,"onPending"),z.pendingBranch=H,z.pendingId++,k(null,H,z.hiddenContainer,null,o,z,u,d,n),z.deps<=0)z.resolve();else{const{timeout:C,pendingId:P}=z;C>0?setTimeout(()=>{z.pendingId===P&&z.fallback(Y)},C):C===0&&z.fallback(Y)}}function createSuspenseBoundary(e,t,i,a,o,u,d,n,k,j,Z=!1){const{p:z,m:H,um:Y,n:I,o:{parentNode:B,remove:U}}=j,T=toNumber$1(e.props&&e.props.timeout),C={vnode:e,parent:t,parentComponent:i,isSVG:d,container:a,hiddenContainer:o,anchor:u,deps:0,pendingId:0,timeout:typeof T=="number"?T:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:Z,isUnmounted:!1,effects:[],resolve(P=!1){const{vnode:G,activeBranch:q,pendingBranch:N,pendingId:ne,effects:K,parentComponent:L,container:E}=C;if(C.isHydrating)C.isHydrating=!1;else if(!P){const A=q&&N.transition&&N.transition.mode==="out-in";A&&(q.transition.afterLeave=()=>{ne===C.pendingId&&H(N,E,m,0)});let{anchor:m}=C;q&&(m=I(q),Y(q,L,C,!0)),A||H(N,E,m,0)}setActiveBranch(C,N),C.pendingBranch=null,C.isInFallback=!1;let w=C.parent,g=!1;for(;w;){if(w.pendingBranch){w.effects.push(...K),g=!0;break}w=w.parent}g||queuePostFlushCb(K),C.effects=[],triggerEvent(G,"onResolve")},fallback(P){if(!C.pendingBranch)return;const{vnode:G,activeBranch:q,parentComponent:N,container:ne,isSVG:K}=C;triggerEvent(G,"onFallback");const L=I(q),E=()=>{C.isInFallback&&(z(null,P,ne,L,N,null,K,n,k),setActiveBranch(C,P))},w=P.transition&&P.transition.mode==="out-in";w&&(q.transition.afterLeave=E),C.isInFallback=!0,Y(q,N,null,!0),w||E()},move(P,G,q){C.activeBranch&&H(C.activeBranch,P,G,q),C.container=P},next(){return C.activeBranch&&I(C.activeBranch)},registerDep(P,G){const q=!!C.pendingBranch;q&&C.deps++;const N=P.vnode.el;P.asyncDep.catch(ne=>{handleError(ne,P,0)}).then(ne=>{if(P.isUnmounted||C.isUnmounted||C.pendingId!==P.suspenseId)return;P.asyncResolved=!0;const{vnode:K}=P;handleSetupResult(P,ne,!1),N&&(K.el=N);const L=!N&&P.subTree.el;G(P,K,B(N||P.subTree.el),N?null:I(P.subTree),C,d,k),L&&U(L),updateHOCHostEl(P,K.el),q&&--C.deps===0&&C.resolve()})},unmount(P,G){C.isUnmounted=!0,C.activeBranch&&Y(C.activeBranch,i,P,G),C.pendingBranch&&Y(C.pendingBranch,i,P,G)}};return C}function hydrateSuspense(e,t,i,a,o,u,d,n,k){const j=t.suspense=createSuspenseBoundary(t,a,i,e.parentNode,document.createElement("div"),null,o,u,d,n,!0),Z=k(e,j.pendingBranch=t.ssContent,i,j,u,d);return j.deps===0&&j.resolve(),Z}function normalizeSuspenseChildren(e){const{shapeFlag:t,children:i}=e,a=t&32;e.ssContent=normalizeSuspenseSlot(a?i.default:i),e.ssFallback=a?normalizeSuspenseSlot(i.fallback):createVNode(Comment)}function normalizeSuspenseSlot(e){let t;if(isFunction$1(e)){const i=isBlockTreeEnabled&&e._c;i&&(e._d=!1,openBlock()),e=e(),i&&(e._d=!0,t=currentBlock,closeBlock())}return isArray$1(e)&&(e=filterSingleRoot(e)),e=normalizeVNode(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(i=>i!==e)),e}function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray$1(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}function setActiveBranch(e,t){e.activeBranch=t;const{vnode:i,parentComponent:a}=e,o=i.el=t.el;a&&a.subTree===i&&(a.vnode.el=o,updateHOCHostEl(a,o))}function provide(e,t){if(currentInstance){let i=currentInstance.provides;const a=currentInstance.parent&&currentInstance.parent.provides;a===i&&(i=currentInstance.provides=Object.create(a)),i[e]=t}}function inject(e,t,i=!1){const a=currentInstance||currentRenderingInstance;if(a){const o=a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return i&&isFunction$1(t)?t.call(a.proxy):t}}function watchEffect(e,t){return doWatch(e,null,t)}function watchPostEffect(e,t){return doWatch(e,null,{flush:"post"})}function watchSyncEffect(e,t){return doWatch(e,null,{flush:"sync"})}const INITIAL_WATCHER_VALUE={};function watch(e,t,i){return doWatch(e,t,i)}function doWatch(e,t,{immediate:i,deep:a,flush:o,onTrack:u,onTrigger:d}=EMPTY_OBJ){const n=currentInstance;let k,j=!1,Z=!1;if(isRef(e)?(k=()=>e.value,j=isShallow(e)):isReactive(e)?(k=()=>e,a=!0):isArray$1(e)?(Z=!0,j=e.some(P=>isReactive(P)||isShallow(P)),k=()=>e.map(P=>{if(isRef(P))return P.value;if(isReactive(P))return traverse(P);if(isFunction$1(P))return callWithErrorHandling(P,n,2)})):isFunction$1(e)?t?k=()=>callWithErrorHandling(e,n,2):k=()=>{if(!(n&&n.isUnmounted))return z&&z(),callWithAsyncErrorHandling(e,n,3,[H])}:k=NOOP,t&&a){const P=k;k=()=>traverse(P())}let z,H=P=>{z=T.onStop=()=>{callWithErrorHandling(P,n,4)}},Y;if(isInSSRComponentSetup)if(H=NOOP,t?i&&callWithAsyncErrorHandling(t,n,3,[k(),Z?[]:void 0,H]):k(),o==="sync"){const P=useSSRContext();Y=P.__watcherHandles||(P.__watcherHandles=[])}else return NOOP;let I=Z?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const B=()=>{if(T.active)if(t){const P=T.run();(a||j||(Z?P.some((G,q)=>hasChanged(G,I[q])):hasChanged(P,I)))&&(z&&z(),callWithAsyncErrorHandling(t,n,3,[P,I===INITIAL_WATCHER_VALUE?void 0:Z&&I[0]===INITIAL_WATCHER_VALUE?[]:I,H]),I=P)}else T.run()};B.allowRecurse=!!t;let U;o==="sync"?U=B:o==="post"?U=()=>queuePostRenderEffect(B,n&&n.suspense):(B.pre=!0,n&&(B.id=n.uid),U=()=>queueJob(B));const T=new ReactiveEffect(k,U);t?i?B():I=T.run():o==="post"?queuePostRenderEffect(T.run.bind(T),n&&n.suspense):T.run();const C=()=>{T.stop(),n&&n.scope&&remove(n.scope.effects,T)};return Y&&Y.push(C),C}function instanceWatch(e,t,i){const a=this.proxy,o=isString$1(e)?e.includes(".")?createPathGetter(a,e):()=>a[e]:e.bind(a,a);let u;isFunction$1(t)?u=t:(u=t.handler,i=t);const d=currentInstance;setCurrentInstance(this);const n=doWatch(o,u.bind(a),i);return d?setCurrentInstance(d):unsetCurrentInstance(),n}function createPathGetter(e,t){const i=t.split(".");return()=>{let a=e;for(let o=0;o<i.length&&a;o++)a=a[i[o]];return a}}function traverse(e,t){if(!isObject$5(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),isRef(e))traverse(e.value,t);else if(isArray$1(e))for(let i=0;i<e.length;i++)traverse(e[i],t);else if(isSet(e)||isMap(e))e.forEach(i=>{traverse(i,t)});else if(isPlainObject$1(e))for(const i in e)traverse(e[i],t);return e}function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{e.isMounted=!0}),onBeforeUnmount(()=>{e.isUnmounting=!0}),e}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(e,{slots:t}){const i=getCurrentInstance(),a=useTransitionState();let o;return()=>{const u=t.default&&getTransitionRawChildren(t.default(),!0);if(!u||!u.length)return;let d=u[0];if(u.length>1){for(const B of u)if(B.type!==Comment){d=B;break}}const n=toRaw(e),{mode:k}=n;if(a.isLeaving)return emptyPlaceholder(d);const j=getKeepAliveChild(d);if(!j)return emptyPlaceholder(d);const Z=resolveTransitionHooks(j,n,a,i);setTransitionHooks(j,Z);const z=i.subTree,H=z&&getKeepAliveChild(z);let Y=!1;const{getTransitionKey:I}=j.type;if(I){const B=I();o===void 0?o=B:B!==o&&(o=B,Y=!0)}if(H&&H.type!==Comment&&(!isSameVNodeType(j,H)||Y)){const B=resolveTransitionHooks(H,n,a,i);if(setTransitionHooks(H,B),k==="out-in")return a.isLeaving=!0,B.afterLeave=()=>{a.isLeaving=!1,i.update.active!==!1&&i.update()},emptyPlaceholder(d);k==="in-out"&&j.type!==Comment&&(B.delayLeave=(U,T,C)=>{const P=getLeavingNodesForType(a,H);P[String(H.key)]=H,U._leaveCb=()=>{T(),U._leaveCb=void 0,delete Z.delayedLeave},Z.delayedLeave=C})}return d}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){const{leavingVNodes:i}=e;let a=i.get(t.type);return a||(a=Object.create(null),i.set(t.type,a)),a}function resolveTransitionHooks(e,t,i,a){const{appear:o,mode:u,persisted:d=!1,onBeforeEnter:n,onEnter:k,onAfterEnter:j,onEnterCancelled:Z,onBeforeLeave:z,onLeave:H,onAfterLeave:Y,onLeaveCancelled:I,onBeforeAppear:B,onAppear:U,onAfterAppear:T,onAppearCancelled:C}=t,P=String(e.key),G=getLeavingNodesForType(i,e),q=(K,L)=>{K&&callWithAsyncErrorHandling(K,a,9,L)},N=(K,L)=>{const E=L[1];q(K,L),isArray$1(K)?K.every(w=>w.length<=1)&&E():K.length<=1&&E()},ne={mode:u,persisted:d,beforeEnter(K){let L=n;if(!i.isMounted)if(o)L=B||n;else return;K._leaveCb&&K._leaveCb(!0);const E=G[P];E&&isSameVNodeType(e,E)&&E.el._leaveCb&&E.el._leaveCb(),q(L,[K])},enter(K){let L=k,E=j,w=Z;if(!i.isMounted)if(o)L=U||k,E=T||j,w=C||Z;else return;let g=!1;const A=K._enterCb=m=>{g||(g=!0,m?q(w,[K]):q(E,[K]),ne.delayedLeave&&ne.delayedLeave(),K._enterCb=void 0)};L?N(L,[K,A]):A()},leave(K,L){const E=String(e.key);if(K._enterCb&&K._enterCb(!0),i.isUnmounting)return L();q(z,[K]);let w=!1;const g=K._leaveCb=A=>{w||(w=!0,L(),A?q(I,[K]):q(Y,[K]),K._leaveCb=void 0,G[E]===e&&delete G[E])};G[E]=e,H?N(H,[K,g]):g()},clone(K){return resolveTransitionHooks(K,t,i,a)}};return ne}function emptyPlaceholder(e){if(isKeepAlive(e))return e=cloneVNode(e),e.children=null,e}function getKeepAliveChild(e){return isKeepAlive(e)?e.children?e.children[0]:void 0:e}function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?setTransitionHooks(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t=!1,i){let a=[],o=0;for(let u=0;u<e.length;u++){let d=e[u];const n=i==null?d.key:String(i)+String(d.key!=null?d.key:u);d.type===Fragment?(d.patchFlag&128&&o++,a=a.concat(getTransitionRawChildren(d.children,t,n))):(t||d.type!==Comment)&&a.push(n!=null?cloneVNode(d,{key:n}):d)}if(o>1)for(let u=0;u<a.length;u++)a[u].patchFlag=-2;return a}function defineComponent(e){return isFunction$1(e)?{setup:e,name:e.name}:e}const isAsyncWrapper=e=>!!e.type.__asyncLoader;function defineAsyncComponent(e){isFunction$1(e)&&(e={loader:e});const{loader:t,loadingComponent:i,errorComponent:a,delay:o=200,timeout:u,suspensible:d=!0,onError:n}=e;let k=null,j,Z=0;const z=()=>(Z++,k=null,H()),H=()=>{let Y;return k||(Y=k=t().catch(I=>{if(I=I instanceof Error?I:new Error(String(I)),n)return new Promise((B,U)=>{n(I,()=>B(z()),()=>U(I),Z+1)});throw I}).then(I=>Y!==k&&k?k:(I&&(I.__esModule||I[Symbol.toStringTag]==="Module")&&(I=I.default),j=I,I)))};return defineComponent({name:"AsyncComponentWrapper",__asyncLoader:H,get __asyncResolved(){return j},setup(){const Y=currentInstance;if(j)return()=>createInnerComp(j,Y);const I=C=>{k=null,handleError(C,Y,13,!a)};if(d&&Y.suspense||isInSSRComponentSetup)return H().then(C=>()=>createInnerComp(C,Y)).catch(C=>(I(C),()=>a?createVNode(a,{error:C}):null));const B=ref(!1),U=ref(),T=ref(!!o);return o&&setTimeout(()=>{T.value=!1},o),u!=null&&setTimeout(()=>{if(!B.value&&!U.value){const C=new Error(`Async component timed out after ${u}ms.`);I(C),U.value=C}},u),H().then(()=>{B.value=!0,Y.parent&&isKeepAlive(Y.parent.vnode)&&queueJob(Y.parent.update)}).catch(C=>{I(C),U.value=C}),()=>{if(B.value&&j)return createInnerComp(j,Y);if(U.value&&a)return createVNode(a,{error:U.value});if(i&&!T.value)return createVNode(i)}}})}function createInnerComp(e,t){const{ref:i,props:a,children:o,ce:u}=t.vnode,d=createVNode(e,a,o);return d.ref=i,d.ce=u,delete t.vnode.ce,d}const isKeepAlive=e=>e.type.__isKeepAlive,KeepAliveImpl={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const i=getCurrentInstance(),a=i.ctx;if(!a.renderer)return()=>{const C=t.default&&t.default();return C&&C.length===1?C[0]:C};const o=new Map,u=new Set;let d=null;const n=i.suspense,{renderer:{p:k,m:j,um:Z,o:{createElement:z}}}=a,H=z("div");a.activate=(C,P,G,q,N)=>{const ne=C.component;j(C,P,G,0,n),k(ne.vnode,C,P,G,ne,n,q,C.slotScopeIds,N),queuePostRenderEffect(()=>{ne.isDeactivated=!1,ne.a&&invokeArrayFns(ne.a);const K=C.props&&C.props.onVnodeMounted;K&&invokeVNodeHook(K,ne.parent,C)},n)},a.deactivate=C=>{const P=C.component;j(C,H,null,1,n),queuePostRenderEffect(()=>{P.da&&invokeArrayFns(P.da);const G=C.props&&C.props.onVnodeUnmounted;G&&invokeVNodeHook(G,P.parent,C),P.isDeactivated=!0},n)};function Y(C){resetShapeFlag(C),Z(C,i,n,!0)}function I(C){o.forEach((P,G)=>{const q=getComponentName(P.type);q&&(!C||!C(q))&&B(G)})}function B(C){const P=o.get(C);!d||P.type!==d.type?Y(P):d&&resetShapeFlag(d),o.delete(C),u.delete(C)}watch(()=>[e.include,e.exclude],([C,P])=>{C&&I(G=>matches(C,G)),P&&I(G=>!matches(P,G))},{flush:"post",deep:!0});let U=null;const T=()=>{U!=null&&o.set(U,getInnerChild(i.subTree))};return onMounted(T),onUpdated(T),onBeforeUnmount(()=>{o.forEach(C=>{const{subTree:P,suspense:G}=i,q=getInnerChild(P);if(C.type===q.type){resetShapeFlag(q);const N=q.component.da;N&&queuePostRenderEffect(N,G);return}Y(C)})}),()=>{if(U=null,!t.default)return null;const C=t.default(),P=C[0];if(C.length>1)return d=null,C;if(!isVNode(P)||!(P.shapeFlag&4)&&!(P.shapeFlag&128))return d=null,P;let G=getInnerChild(P);const q=G.type,N=getComponentName(isAsyncWrapper(G)?G.type.__asyncResolved||{}:q),{include:ne,exclude:K,max:L}=e;if(ne&&(!N||!matches(ne,N))||K&&N&&matches(K,N))return d=G,P;const E=G.key==null?q:G.key,w=o.get(E);return G.el&&(G=cloneVNode(G),P.shapeFlag&128&&(P.ssContent=G)),U=E,w?(G.el=w.el,G.component=w.component,G.transition&&setTransitionHooks(G,G.transition),G.shapeFlag|=512,u.delete(E),u.add(E)):(u.add(E),L&&u.size>parseInt(L,10)&&B(u.values().next().value)),G.shapeFlag|=256,d=G,isSuspense(P.type)?P:G}}},KeepAlive=KeepAliveImpl;function matches(e,t){return isArray$1(e)?e.some(i=>matches(i,t)):isString$1(e)?e.split(",").includes(t):e.test?e.test(t):!1}function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,i=currentInstance){const a=e.__wdc||(e.__wdc=()=>{let o=i;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(injectHook(t,a,i),i){let o=i.parent;for(;o&&o.parent;)isKeepAlive(o.parent.vnode)&&injectToKeepAliveRoot(a,t,i,o),o=o.parent}}function injectToKeepAliveRoot(e,t,i,a){const o=injectHook(t,e,a,!0);onUnmounted(()=>{remove(a[t],o)},i)}function resetShapeFlag(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function getInnerChild(e){return e.shapeFlag&128?e.ssContent:e}function injectHook(e,t,i=currentInstance,a=!1){if(i){const o=i[e]||(i[e]=[]),u=t.__weh||(t.__weh=(...d)=>{if(i.isUnmounted)return;pauseTracking(),setCurrentInstance(i);const n=callWithAsyncErrorHandling(t,i,e,d);return unsetCurrentInstance(),resetTracking(),n});return a?o.unshift(u):o.push(u),u}}const createHook=e=>(t,i=currentInstance)=>(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...a)=>t(...a),i),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}function withDirectives(e,t){const i=currentRenderingInstance;if(i===null)return e;const a=getExposeProxy(i)||i.proxy,o=e.dirs||(e.dirs=[]);for(let u=0;u<t.length;u++){let[d,n,k,j=EMPTY_OBJ]=t[u];d&&(isFunction$1(d)&&(d={mounted:d,updated:d}),d.deep&&traverse(n),o.push({dir:d,instance:a,value:n,oldValue:void 0,arg:k,modifiers:j}))}return e}function invokeDirectiveHook(e,t,i,a){const o=e.dirs,u=t&&t.dirs;for(let d=0;d<o.length;d++){const n=o[d];u&&(n.oldValue=u[d].value);let k=n.dir[a];k&&(pauseTracking(),callWithAsyncErrorHandling(k,i,8,[e.el,n,e,t]),resetTracking())}}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(e,t){return resolveAsset(COMPONENTS,e,!0,t)||e}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveDynamicComponent(e){return isString$1(e)?resolveAsset(COMPONENTS,e,!1)||e:e||NULL_DYNAMIC_COMPONENT}function resolveDirective(e){return resolveAsset(DIRECTIVES,e)}function resolveAsset(e,t,i=!0,a=!1){const o=currentRenderingInstance||currentInstance;if(o){const u=o.type;if(e===COMPONENTS){const n=getComponentName(u,!1);if(n&&(n===t||n===camelize$1(t)||n===capitalize(camelize$1(t))))return u}const d=resolve(o[e]||u[e],t)||resolve(o.appContext[e],t);return!d&&a?u:d}}function resolve(e,t){return e&&(e[t]||e[camelize$1(t)]||e[capitalize(camelize$1(t))])}function renderList(e,t,i,a){let o;const u=i&&i[a];if(isArray$1(e)||isString$1(e)){o=new Array(e.length);for(let d=0,n=e.length;d<n;d++)o[d]=t(e[d],d,void 0,u&&u[d])}else if(typeof e=="number"){o=new Array(e);for(let d=0;d<e;d++)o[d]=t(d+1,d,void 0,u&&u[d])}else if(isObject$5(e))if(e[Symbol.iterator])o=Array.from(e,(d,n)=>t(d,n,void 0,u&&u[n]));else{const d=Object.keys(e);o=new Array(d.length);for(let n=0,k=d.length;n<k;n++){const j=d[n];o[n]=t(e[j],j,n,u&&u[n])}}else o=[];return i&&(i[a]=o),o}function createSlots(e,t){for(let i=0;i<t.length;i++){const a=t[i];if(isArray$1(a))for(let o=0;o<a.length;o++)e[a[o].name]=a[o].fn;else a&&(e[a.name]=a.key?(...o)=>{const u=a.fn(...o);return u&&(u.key=a.key),u}:a.fn)}return e}function renderSlot(e,t,i={},a,o){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return t!=="default"&&(i.name=t),createVNode("slot",i,a&&a());let u=e[t];u&&u._c&&(u._d=!1),openBlock();const d=u&&ensureValidVNode(u(i)),n=createBlock(Fragment,{key:i.key||d&&d.key||`_${t}`},d||(a?a():[]),d&&e._===1?64:-2);return!o&&n.scopeId&&(n.slotScopeIds=[n.scopeId+"-s"]),u&&u._c&&(u._d=!0),n}function ensureValidVNode(e){return e.some(t=>isVNode(t)?!(t.type===Comment||t.type===Fragment&&!ensureValidVNode(t.children)):!0)?e:null}function toHandlers(e,t){const i={};for(const a in e)i[t&&/[A-Z]/.test(a)?`on:${a}`:toHandlerKey(a)]=e[a];return i}const getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend$7(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>queueJob(e.update)),$nextTick:e=>e.n||(e.n=nextTick$1.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get({_:e},t){const{ctx:i,setupState:a,data:o,props:u,accessCache:d,type:n,appContext:k}=e;let j;if(t[0]!=="$"){const Y=d[t];if(Y!==void 0)switch(Y){case 1:return a[t];case 2:return o[t];case 4:return i[t];case 3:return u[t]}else{if(hasSetupBinding(a,t))return d[t]=1,a[t];if(o!==EMPTY_OBJ&&hasOwn(o,t))return d[t]=2,o[t];if((j=e.propsOptions[0])&&hasOwn(j,t))return d[t]=3,u[t];if(i!==EMPTY_OBJ&&hasOwn(i,t))return d[t]=4,i[t];shouldCacheAccess&&(d[t]=0)}}const Z=publicPropertiesMap[t];let z,H;if(Z)return t==="$attrs"&&track(e,"get",t),Z(e);if((z=n.__cssModules)&&(z=z[t]))return z;if(i!==EMPTY_OBJ&&hasOwn(i,t))return d[t]=4,i[t];if(H=k.config.globalProperties,hasOwn(H,t))return H[t]},set({_:e},t,i){const{data:a,setupState:o,ctx:u}=e;return hasSetupBinding(o,t)?(o[t]=i,!0):a!==EMPTY_OBJ&&hasOwn(a,t)?(a[t]=i,!0):hasOwn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(u[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:a,appContext:o,propsOptions:u}},d){let n;return!!i[d]||e!==EMPTY_OBJ&&hasOwn(e,d)||hasSetupBinding(t,d)||(n=u[0])&&hasOwn(n,d)||hasOwn(a,d)||hasOwn(publicPropertiesMap,d)||hasOwn(o.config.globalProperties,d)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:hasOwn(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}},RuntimeCompiledPublicInstanceProxyHandlers=extend$7({},PublicInstanceProxyHandlers,{get(e,t){if(t!==Symbol.unscopables)return PublicInstanceProxyHandlers.get(e,t,e)},has(e,t){return t[0]!=="_"&&!isGloballyWhitelisted(t)}});let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),i=e.proxy,a=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook$1(t.beforeCreate,e,"bc");const{data:o,computed:u,methods:d,watch:n,provide:k,inject:j,created:Z,beforeMount:z,mounted:H,beforeUpdate:Y,updated:I,activated:B,deactivated:U,beforeDestroy:T,beforeUnmount:C,destroyed:P,unmounted:G,render:q,renderTracked:N,renderTriggered:ne,errorCaptured:K,serverPrefetch:L,expose:E,inheritAttrs:w,components:g,directives:A,filters:m}=t;if(j&&resolveInjections(j,a,null,e.appContext.config.unwrapInjectedRef),d)for(const M in d){const X=d[M];isFunction$1(X)&&(a[M]=X.bind(i))}if(o){const M=o.call(i,i);isObject$5(M)&&(e.data=reactive(M))}if(shouldCacheAccess=!0,u)for(const M in u){const X=u[M],re=isFunction$1(X)?X.bind(i,i):isFunction$1(X.get)?X.get.bind(i,i):NOOP,ee=!isFunction$1(X)&&isFunction$1(X.set)?X.set.bind(i):NOOP,he=computed({get:re,set:ee});Object.defineProperty(a,M,{enumerable:!0,configurable:!0,get:()=>he.value,set:ye=>he.value=ye})}if(n)for(const M in n)createWatcher(n[M],a,i,M);if(k){const M=isFunction$1(k)?k.call(i):k;Reflect.ownKeys(M).forEach(X=>{provide(X,M[X])})}Z&&callHook$1(Z,e,"c");function x(M,X){isArray$1(X)?X.forEach(re=>M(re.bind(i))):X&&M(X.bind(i))}if(x(onBeforeMount,z),x(onMounted,H),x(onBeforeUpdate,Y),x(onUpdated,I),x(onActivated,B),x(onDeactivated,U),x(onErrorCaptured,K),x(onRenderTracked,N),x(onRenderTriggered,ne),x(onBeforeUnmount,C),x(onUnmounted,G),x(onServerPrefetch,L),isArray$1(E))if(E.length){const M=e.exposed||(e.exposed={});E.forEach(X=>{Object.defineProperty(M,X,{get:()=>i[X],set:re=>i[X]=re})})}else e.exposed||(e.exposed={});q&&e.render===NOOP&&(e.render=q),w!=null&&(e.inheritAttrs=w),g&&(e.components=g),A&&(e.directives=A)}function resolveInjections(e,t,i=NOOP,a=!1){isArray$1(e)&&(e=normalizeInject(e));for(const o in e){const u=e[o];let d;isObject$5(u)?"default"in u?d=inject(u.from||o,u.default,!0):d=inject(u.from||o):d=inject(u),isRef(d)&&a?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>d.value,set:n=>d.value=n}):t[o]=d}}function callHook$1(e,t,i){callWithAsyncErrorHandling(isArray$1(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,i)}function createWatcher(e,t,i,a){const o=a.includes(".")?createPathGetter(i,a):()=>i[a];if(isString$1(e)){const u=t[e];isFunction$1(u)&&watch(o,u)}else if(isFunction$1(e))watch(o,e.bind(i));else if(isObject$5(e))if(isArray$1(e))e.forEach(u=>createWatcher(u,t,i,a));else{const u=isFunction$1(e.handler)?e.handler.bind(i):t[e.handler];isFunction$1(u)&&watch(o,u,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:i,extends:a}=t,{mixins:o,optionsCache:u,config:{optionMergeStrategies:d}}=e.appContext,n=u.get(t);let k;return n?k=n:!o.length&&!i&&!a?k=t:(k={},o.length&&o.forEach(j=>mergeOptions(k,j,d,!0)),mergeOptions(k,t,d)),isObject$5(t)&&u.set(t,k),k}function mergeOptions(e,t,i,a=!1){const{mixins:o,extends:u}=t;u&&mergeOptions(e,u,i,!0),o&&o.forEach(d=>mergeOptions(e,d,i,!0));for(const d in t)if(!(a&&d==="expose")){const n=internalOptionMergeStrats[d]||i&&i[d];e[d]=n?n(e[d],t[d]):t[d]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray$1,created:mergeAsArray$1,beforeMount:mergeAsArray$1,mounted:mergeAsArray$1,beforeUpdate:mergeAsArray$1,updated:mergeAsArray$1,beforeDestroy:mergeAsArray$1,beforeUnmount:mergeAsArray$1,destroyed:mergeAsArray$1,unmounted:mergeAsArray$1,activated:mergeAsArray$1,deactivated:mergeAsArray$1,errorCaptured:mergeAsArray$1,serverPrefetch:mergeAsArray$1,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend$7(isFunction$1(e)?e.call(this,this):e,isFunction$1(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray$1(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function mergeAsArray$1(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend$7(extend$7(Object.create(null),e),t):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const i=extend$7(Object.create(null),e);for(const a in t)i[a]=mergeAsArray$1(e[a],t[a]);return i}function initProps(e,t,i,a=!1){const o={},u={};def(u,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,t,o,u);for(const d in e.propsOptions[0])d in o||(o[d]=void 0);i?e.props=a?o:shallowReactive(o):e.type.props?e.props=o:e.props=u,e.attrs=u}function updateProps(e,t,i,a){const{props:o,attrs:u,vnode:{patchFlag:d}}=e,n=toRaw(o),[k]=e.propsOptions;let j=!1;if((a||d>0)&&!(d&16)){if(d&8){const Z=e.vnode.dynamicProps;for(let z=0;z<Z.length;z++){let H=Z[z];if(isEmitListener(e.emitsOptions,H))continue;const Y=t[H];if(k)if(hasOwn(u,H))Y!==u[H]&&(u[H]=Y,j=!0);else{const I=camelize$1(H);o[I]=resolvePropValue(k,n,I,Y,e,!1)}else Y!==u[H]&&(u[H]=Y,j=!0)}}}else{setFullProps(e,t,o,u)&&(j=!0);let Z;for(const z in n)(!t||!hasOwn(t,z)&&((Z=hyphenate(z))===z||!hasOwn(t,Z)))&&(k?i&&(i[z]!==void 0||i[Z]!==void 0)&&(o[z]=resolvePropValue(k,n,z,void 0,e,!0)):delete o[z]);if(u!==n)for(const z in u)(!t||!hasOwn(t,z))&&(delete u[z],j=!0)}j&&trigger(e,"set","$attrs")}function setFullProps(e,t,i,a){const[o,u]=e.propsOptions;let d=!1,n;if(t)for(let k in t){if(isReservedProp(k))continue;const j=t[k];let Z;o&&hasOwn(o,Z=camelize$1(k))?!u||!u.includes(Z)?i[Z]=j:(n||(n={}))[Z]=j:isEmitListener(e.emitsOptions,k)||(!(k in a)||j!==a[k])&&(a[k]=j,d=!0)}if(u){const k=toRaw(i),j=n||EMPTY_OBJ;for(let Z=0;Z<u.length;Z++){const z=u[Z];i[z]=resolvePropValue(o,k,z,j[z],e,!hasOwn(j,z))}}return d}function resolvePropValue(e,t,i,a,o,u){const d=e[i];if(d!=null){const n=hasOwn(d,"default");if(n&&a===void 0){const k=d.default;if(d.type!==Function&&isFunction$1(k)){const{propsDefaults:j}=o;i in j?a=j[i]:(setCurrentInstance(o),a=j[i]=k.call(null,t),unsetCurrentInstance())}else a=k}d[0]&&(u&&!n?a=!1:d[1]&&(a===""||a===hyphenate(i))&&(a=!0))}return a}function normalizePropsOptions(e,t,i=!1){const a=t.propsCache,o=a.get(e);if(o)return o;const u=e.props,d={},n=[];let k=!1;if(!isFunction$1(e)){const Z=z=>{k=!0;const[H,Y]=normalizePropsOptions(z,t,!0);extend$7(d,H),Y&&n.push(...Y)};!i&&t.mixins.length&&t.mixins.forEach(Z),e.extends&&Z(e.extends),e.mixins&&e.mixins.forEach(Z)}if(!u&&!k)return isObject$5(e)&&a.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$1(u))for(let Z=0;Z<u.length;Z++){const z=camelize$1(u[Z]);validatePropName(z)&&(d[z]=EMPTY_OBJ)}else if(u)for(const Z in u){const z=camelize$1(Z);if(validatePropName(z)){const H=u[Z],Y=d[z]=isArray$1(H)||isFunction$1(H)?{type:H}:Object.assign({},H);if(Y){const I=getTypeIndex(Boolean,Y.type),B=getTypeIndex(String,Y.type);Y[0]=I>-1,Y[1]=B<0||I<B,(I>-1||hasOwn(Y,"default"))&&n.push(z)}}}const j=[d,n];return isObject$5(e)&&a.set(e,j),j}function validatePropName(e){return e[0]!=="$"}function getType(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){return isArray$1(t)?t.findIndex(i=>isSameType(i,e)):isFunction$1(t)&&isSameType(t,e)?0:-1}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray$1(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,t,i)=>{if(t._n)return t;const a=withCtx((...o)=>normalizeSlotValue(t(...o)),i);return a._c=!1,a},normalizeObjectSlots=(e,t,i)=>{const a=e._ctx;for(const o in e){if(isInternalKey(o))continue;const u=e[o];if(isFunction$1(u))t[o]=normalizeSlot(o,u,a);else if(u!=null){const d=normalizeSlotValue(u);t[o]=()=>d}}},normalizeVNodeSlots=(e,t)=>{const i=normalizeSlotValue(t);e.slots.default=()=>i},initSlots=(e,t)=>{if(e.vnode.shapeFlag&32){const i=t._;i?(e.slots=toRaw(t),def(t,"_",i)):normalizeObjectSlots(t,e.slots={})}else e.slots={},t&&normalizeVNodeSlots(e,t);def(e.slots,InternalObjectKey,1)},updateSlots=(e,t,i)=>{const{vnode:a,slots:o}=e;let u=!0,d=EMPTY_OBJ;if(a.shapeFlag&32){const n=t._;n?i&&n===1?u=!1:(extend$7(o,t),!i&&n===1&&delete o._):(u=!t.$stable,normalizeObjectSlots(t,o)),d=t}else t&&(normalizeVNodeSlots(e,t),d={default:1});if(u)for(const n in o)!isInternalKey(n)&&!(n in d)&&delete o[n]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(e,t){return function(a,o=null){isFunction$1(a)||(a=Object.assign({},a)),o!=null&&!isObject$5(o)&&(o=null);const u=createAppContext(),d=new Set;let n=!1;const k=u.app={_uid:uid++,_component:a,_props:o,_container:null,_context:u,_instance:null,version,get config(){return u.config},set config(j){},use(j,...Z){return d.has(j)||(j&&isFunction$1(j.install)?(d.add(j),j.install(k,...Z)):isFunction$1(j)&&(d.add(j),j(k,...Z))),k},mixin(j){return u.mixins.includes(j)||u.mixins.push(j),k},component(j,Z){return Z?(u.components[j]=Z,k):u.components[j]},directive(j,Z){return Z?(u.directives[j]=Z,k):u.directives[j]},mount(j,Z,z){if(!n){const H=createVNode(a,o);return H.appContext=u,Z&&t?t(H,j):e(H,j,z),n=!0,k._container=j,j.__vue_app__=k,getExposeProxy(H.component)||H.component.proxy}},unmount(){n&&(e(null,k._container),delete k._container.__vue_app__)},provide(j,Z){return u.provides[j]=Z,k}};return k}}function setRef(e,t,i,a,o=!1){if(isArray$1(e)){e.forEach((H,Y)=>setRef(H,t&&(isArray$1(t)?t[Y]:t),i,a,o));return}if(isAsyncWrapper(a)&&!o)return;const u=a.shapeFlag&4?getExposeProxy(a.component)||a.component.proxy:a.el,d=o?null:u,{i:n,r:k}=e,j=t&&t.r,Z=n.refs===EMPTY_OBJ?n.refs={}:n.refs,z=n.setupState;if(j!=null&&j!==k&&(isString$1(j)?(Z[j]=null,hasOwn(z,j)&&(z[j]=null)):isRef(j)&&(j.value=null)),isFunction$1(k))callWithErrorHandling(k,n,12,[d,Z]);else{const H=isString$1(k),Y=isRef(k);if(H||Y){const I=()=>{if(e.f){const B=H?hasOwn(z,k)?z[k]:Z[k]:k.value;o?isArray$1(B)&&remove(B,u):isArray$1(B)?B.includes(u)||B.push(u):H?(Z[k]=[u],hasOwn(z,k)&&(z[k]=Z[k])):(k.value=[u],e.k&&(Z[e.k]=k.value))}else H?(Z[k]=d,hasOwn(z,k)&&(z[k]=d)):Y&&(k.value=d,e.k&&(Z[e.k]=d))};d?(I.id=-1,queuePostRenderEffect(I,i)):I()}}}let hasMismatch=!1;const isSVGContainer=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",isComment=e=>e.nodeType===8;function createHydrationFunctions(e){const{mt:t,p:i,o:{patchProp:a,createText:o,nextSibling:u,parentNode:d,remove:n,insert:k,createComment:j}}=e,Z=(T,C)=>{if(!C.hasChildNodes()){i(null,T,C),flushPostFlushCbs(),C._vnode=T;return}hasMismatch=!1,z(C.firstChild,T,null,null,null),flushPostFlushCbs(),C._vnode=T,hasMismatch&&console.error("Hydration completed but contains mismatches.")},z=(T,C,P,G,q,N=!1)=>{const ne=isComment(T)&&T.data==="[",K=()=>B(T,C,P,G,q,ne),{type:L,ref:E,shapeFlag:w,patchFlag:g}=C;let A=T.nodeType;C.el=T,g===-2&&(N=!1,C.dynamicChildren=null);let m=null;switch(L){case Text:A!==3?C.children===""?(k(C.el=o(""),d(T),T),m=T):m=K():(T.data!==C.children&&(hasMismatch=!0,T.data=C.children),m=u(T));break;case Comment:A!==8||ne?m=K():m=u(T);break;case Static:if(ne&&(T=u(T),A=T.nodeType),A===1||A===3){m=T;const y=!C.children.length;for(let x=0;x<C.staticCount;x++)y&&(C.children+=m.nodeType===1?m.outerHTML:m.data),x===C.staticCount-1&&(C.anchor=m),m=u(m);return ne?u(m):m}else K();break;case Fragment:ne?m=I(T,C,P,G,q,N):m=K();break;default:if(w&1)A!==1||C.type.toLowerCase()!==T.tagName.toLowerCase()?m=K():m=H(T,C,P,G,q,N);else if(w&6){C.slotScopeIds=q;const y=d(T);if(t(C,y,null,P,G,isSVGContainer(y),N),m=ne?U(T):u(T),m&&isComment(m)&&m.data==="teleport end"&&(m=u(m)),isAsyncWrapper(C)){let x;ne?(x=createVNode(Fragment),x.anchor=m?m.previousSibling:y.lastChild):x=T.nodeType===3?createTextVNode(""):createVNode("div"),x.el=T,C.component.subTree=x}}else w&64?A!==8?m=K():m=C.type.hydrate(T,C,P,G,q,N,e,Y):w&128&&(m=C.type.hydrate(T,C,P,G,isSVGContainer(d(T)),q,N,e,z))}return E!=null&&setRef(E,null,G,C),m},H=(T,C,P,G,q,N)=>{N=N||!!C.dynamicChildren;const{type:ne,props:K,patchFlag:L,shapeFlag:E,dirs:w}=C,g=ne==="input"&&w||ne==="option";if(g||L!==-1){if(w&&invokeDirectiveHook(C,null,P,"created"),K)if(g||!N||L&48)for(const m in K)(g&&m.endsWith("value")||isOn(m)&&!isReservedProp(m))&&a(T,m,null,K[m],!1,void 0,P);else K.onClick&&a(T,"onClick",null,K.onClick,!1,void 0,P);let A;if((A=K&&K.onVnodeBeforeMount)&&invokeVNodeHook(A,P,C),w&&invokeDirectiveHook(C,null,P,"beforeMount"),((A=K&&K.onVnodeMounted)||w)&&queueEffectWithSuspense(()=>{A&&invokeVNodeHook(A,P,C),w&&invokeDirectiveHook(C,null,P,"mounted")},G),E&16&&!(K&&(K.innerHTML||K.textContent))){let m=Y(T.firstChild,C,T,P,G,q,N);for(;m;){hasMismatch=!0;const y=m;m=m.nextSibling,n(y)}}else E&8&&T.textContent!==C.children&&(hasMismatch=!0,T.textContent=C.children)}return T.nextSibling},Y=(T,C,P,G,q,N,ne)=>{ne=ne||!!C.dynamicChildren;const K=C.children,L=K.length;for(let E=0;E<L;E++){const w=ne?K[E]:K[E]=normalizeVNode(K[E]);if(T)T=z(T,w,G,q,N,ne);else{if(w.type===Text&&!w.children)continue;hasMismatch=!0,i(null,w,P,null,G,q,isSVGContainer(P),N)}}return T},I=(T,C,P,G,q,N)=>{const{slotScopeIds:ne}=C;ne&&(q=q?q.concat(ne):ne);const K=d(T),L=Y(u(T),C,K,P,G,q,N);return L&&isComment(L)&&L.data==="]"?u(C.anchor=L):(hasMismatch=!0,k(C.anchor=j("]"),K,L),L)},B=(T,C,P,G,q,N)=>{if(hasMismatch=!0,C.el=null,N){const L=U(T);for(;;){const E=u(T);if(E&&E!==L)n(E);else break}}const ne=u(T),K=d(T);return n(T),i(null,C,K,ne,P,G,isSVGContainer(K),q),ne},U=T=>{let C=0;for(;T;)if(T=u(T),T&&isComment(T)&&(T.data==="["&&C++,T.data==="]")){if(C===0)return u(T);C--}return T};return[Z,z]}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function createHydrationRenderer(e){return baseCreateRenderer(e,createHydrationFunctions)}function baseCreateRenderer(e,t){const i=getGlobalThis();i.__VUE__=!0;const{insert:a,remove:o,patchProp:u,createElement:d,createText:n,createComment:k,setText:j,setElementText:Z,parentNode:z,nextSibling:H,setScopeId:Y=NOOP,insertStaticContent:I}=e,B=(ce,we,Ae,Fe=null,De=null,Ge=null,ct=!1,ot=null,Qe=!!we.dynamicChildren)=>{if(ce===we)return;ce&&!isSameVNodeType(ce,we)&&(Fe=ue(ce),ye(ce,De,Ge,!0),ce=null),we.patchFlag===-2&&(Qe=!1,we.dynamicChildren=null);const{type:Ie,ref:Ue,shapeFlag:He}=we;switch(Ie){case Text:U(ce,we,Ae,Fe);break;case Comment:T(ce,we,Ae,Fe);break;case Static:ce==null&&C(we,Ae,Fe,ct);break;case Fragment:g(ce,we,Ae,Fe,De,Ge,ct,ot,Qe);break;default:He&1?q(ce,we,Ae,Fe,De,Ge,ct,ot,Qe):He&6?A(ce,we,Ae,Fe,De,Ge,ct,ot,Qe):(He&64||He&128)&&Ie.process(ce,we,Ae,Fe,De,Ge,ct,ot,Qe,te)}Ue!=null&&De&&setRef(Ue,ce&&ce.ref,Ge,we||ce,!we)},U=(ce,we,Ae,Fe)=>{if(ce==null)a(we.el=n(we.children),Ae,Fe);else{const De=we.el=ce.el;we.children!==ce.children&&j(De,we.children)}},T=(ce,we,Ae,Fe)=>{ce==null?a(we.el=k(we.children||""),Ae,Fe):we.el=ce.el},C=(ce,we,Ae,Fe)=>{[ce.el,ce.anchor]=I(ce.children,we,Ae,Fe,ce.el,ce.anchor)},P=({el:ce,anchor:we},Ae,Fe)=>{let De;for(;ce&&ce!==we;)De=H(ce),a(ce,Ae,Fe),ce=De;a(we,Ae,Fe)},G=({el:ce,anchor:we})=>{let Ae;for(;ce&&ce!==we;)Ae=H(ce),o(ce),ce=Ae;o(we)},q=(ce,we,Ae,Fe,De,Ge,ct,ot,Qe)=>{ct=ct||we.type==="svg",ce==null?N(we,Ae,Fe,De,Ge,ct,ot,Qe):L(ce,we,De,Ge,ct,ot,Qe)},N=(ce,we,Ae,Fe,De,Ge,ct,ot)=>{let Qe,Ie;const{type:Ue,props:He,shapeFlag:it,transition:Je,dirs:st}=ce;if(Qe=ce.el=d(ce.type,Ge,He&&He.is,He),it&8?Z(Qe,ce.children):it&16&&K(ce.children,Qe,null,Fe,De,Ge&&Ue!=="foreignObject",ct,ot),st&&invokeDirectiveHook(ce,null,Fe,"created"),He){for(const Ke in He)Ke!=="value"&&!isReservedProp(Ke)&&u(Qe,Ke,null,He[Ke],Ge,ce.children,Fe,De,fe);"value"in He&&u(Qe,"value",null,He.value),(Ie=He.onVnodeBeforeMount)&&invokeVNodeHook(Ie,Fe,ce)}ne(Qe,ce,ce.scopeId,ct,Fe),st&&invokeDirectiveHook(ce,null,Fe,"beforeMount");const ht=(!De||De&&!De.pendingBranch)&&Je&&!Je.persisted;ht&&Je.beforeEnter(Qe),a(Qe,we,Ae),((Ie=He&&He.onVnodeMounted)||ht||st)&&queuePostRenderEffect(()=>{Ie&&invokeVNodeHook(Ie,Fe,ce),ht&&Je.enter(Qe),st&&invokeDirectiveHook(ce,null,Fe,"mounted")},De)},ne=(ce,we,Ae,Fe,De)=>{if(Ae&&Y(ce,Ae),Fe)for(let Ge=0;Ge<Fe.length;Ge++)Y(ce,Fe[Ge]);if(De){let Ge=De.subTree;if(we===Ge){const ct=De.vnode;ne(ce,ct,ct.scopeId,ct.slotScopeIds,De.parent)}}},K=(ce,we,Ae,Fe,De,Ge,ct,ot,Qe=0)=>{for(let Ie=Qe;Ie<ce.length;Ie++){const Ue=ce[Ie]=ot?cloneIfMounted(ce[Ie]):normalizeVNode(ce[Ie]);B(null,Ue,we,Ae,Fe,De,Ge,ct,ot)}},L=(ce,we,Ae,Fe,De,Ge,ct)=>{const ot=we.el=ce.el;let{patchFlag:Qe,dynamicChildren:Ie,dirs:Ue}=we;Qe|=ce.patchFlag&16;const He=ce.props||EMPTY_OBJ,it=we.props||EMPTY_OBJ;let Je;Ae&&toggleRecurse(Ae,!1),(Je=it.onVnodeBeforeUpdate)&&invokeVNodeHook(Je,Ae,we,ce),Ue&&invokeDirectiveHook(we,ce,Ae,"beforeUpdate"),Ae&&toggleRecurse(Ae,!0);const st=De&&we.type!=="foreignObject";if(Ie?E(ce.dynamicChildren,Ie,ot,Ae,Fe,st,Ge):ct||X(ce,we,ot,null,Ae,Fe,st,Ge,!1),Qe>0){if(Qe&16)w(ot,we,He,it,Ae,Fe,De);else if(Qe&2&&He.class!==it.class&&u(ot,"class",null,it.class,De),Qe&4&&u(ot,"style",He.style,it.style,De),Qe&8){const ht=we.dynamicProps;for(let Ke=0;Ke<ht.length;Ke++){const At=ht[Ke],Et=He[At],Wt=it[At];(Wt!==Et||At==="value")&&u(ot,At,Et,Wt,De,ce.children,Ae,Fe,fe)}}Qe&1&&ce.children!==we.children&&Z(ot,we.children)}else!ct&&Ie==null&&w(ot,we,He,it,Ae,Fe,De);((Je=it.onVnodeUpdated)||Ue)&&queuePostRenderEffect(()=>{Je&&invokeVNodeHook(Je,Ae,we,ce),Ue&&invokeDirectiveHook(we,ce,Ae,"updated")},Fe)},E=(ce,we,Ae,Fe,De,Ge,ct)=>{for(let ot=0;ot<we.length;ot++){const Qe=ce[ot],Ie=we[ot],Ue=Qe.el&&(Qe.type===Fragment||!isSameVNodeType(Qe,Ie)||Qe.shapeFlag&70)?z(Qe.el):Ae;B(Qe,Ie,Ue,null,Fe,De,Ge,ct,!0)}},w=(ce,we,Ae,Fe,De,Ge,ct)=>{if(Ae!==Fe){if(Ae!==EMPTY_OBJ)for(const ot in Ae)!isReservedProp(ot)&&!(ot in Fe)&&u(ce,ot,Ae[ot],null,ct,we.children,De,Ge,fe);for(const ot in Fe){if(isReservedProp(ot))continue;const Qe=Fe[ot],Ie=Ae[ot];Qe!==Ie&&ot!=="value"&&u(ce,ot,Ie,Qe,ct,we.children,De,Ge,fe)}"value"in Fe&&u(ce,"value",Ae.value,Fe.value)}},g=(ce,we,Ae,Fe,De,Ge,ct,ot,Qe)=>{const Ie=we.el=ce?ce.el:n(""),Ue=we.anchor=ce?ce.anchor:n("");let{patchFlag:He,dynamicChildren:it,slotScopeIds:Je}=we;Je&&(ot=ot?ot.concat(Je):Je),ce==null?(a(Ie,Ae,Fe),a(Ue,Ae,Fe),K(we.children,Ae,Ue,De,Ge,ct,ot,Qe)):He>0&&He&64&&it&&ce.dynamicChildren?(E(ce.dynamicChildren,it,Ae,De,Ge,ct,ot),(we.key!=null||De&&we===De.subTree)&&traverseStaticChildren(ce,we,!0)):X(ce,we,Ae,Ue,De,Ge,ct,ot,Qe)},A=(ce,we,Ae,Fe,De,Ge,ct,ot,Qe)=>{we.slotScopeIds=ot,ce==null?we.shapeFlag&512?De.ctx.activate(we,Ae,Fe,ct,Qe):m(we,Ae,Fe,De,Ge,ct,Qe):y(ce,we,Qe)},m=(ce,we,Ae,Fe,De,Ge,ct)=>{const ot=ce.component=createComponentInstance(ce,Fe,De);if(isKeepAlive(ce)&&(ot.ctx.renderer=te),setupComponent(ot),ot.asyncDep){if(De&&De.registerDep(ot,x),!ce.el){const Qe=ot.subTree=createVNode(Comment);T(null,Qe,we,Ae)}return}x(ot,ce,we,Ae,De,Ge,ct)},y=(ce,we,Ae)=>{const Fe=we.component=ce.component;if(shouldUpdateComponent(ce,we,Ae))if(Fe.asyncDep&&!Fe.asyncResolved){M(Fe,we,Ae);return}else Fe.next=we,invalidateJob(Fe.update),Fe.update();else we.el=ce.el,Fe.vnode=we},x=(ce,we,Ae,Fe,De,Ge,ct)=>{const ot=()=>{if(ce.isMounted){let{next:Ue,bu:He,u:it,parent:Je,vnode:st}=ce,ht=Ue,Ke;toggleRecurse(ce,!1),Ue?(Ue.el=st.el,M(ce,Ue,ct)):Ue=st,He&&invokeArrayFns(He),(Ke=Ue.props&&Ue.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Ke,Je,Ue,st),toggleRecurse(ce,!0);const At=renderComponentRoot(ce),Et=ce.subTree;ce.subTree=At,B(Et,At,z(Et.el),ue(Et),ce,De,Ge),Ue.el=At.el,ht===null&&updateHOCHostEl(ce,At.el),it&&queuePostRenderEffect(it,De),(Ke=Ue.props&&Ue.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Ke,Je,Ue,st),De)}else{let Ue;const{el:He,props:it}=we,{bm:Je,m:st,parent:ht}=ce,Ke=isAsyncWrapper(we);if(toggleRecurse(ce,!1),Je&&invokeArrayFns(Je),!Ke&&(Ue=it&&it.onVnodeBeforeMount)&&invokeVNodeHook(Ue,ht,we),toggleRecurse(ce,!0),He&&xe){const At=()=>{ce.subTree=renderComponentRoot(ce),xe(He,ce.subTree,ce,De,null)};Ke?we.type.__asyncLoader().then(()=>!ce.isUnmounted&&At()):At()}else{const At=ce.subTree=renderComponentRoot(ce);B(null,At,Ae,Fe,ce,De,Ge),we.el=At.el}if(st&&queuePostRenderEffect(st,De),!Ke&&(Ue=it&&it.onVnodeMounted)){const At=we;queuePostRenderEffect(()=>invokeVNodeHook(Ue,ht,At),De)}(we.shapeFlag&256||ht&&isAsyncWrapper(ht.vnode)&&ht.vnode.shapeFlag&256)&&ce.a&&queuePostRenderEffect(ce.a,De),ce.isMounted=!0,we=Ae=Fe=null}},Qe=ce.effect=new ReactiveEffect(ot,()=>queueJob(Ie),ce.scope),Ie=ce.update=()=>Qe.run();Ie.id=ce.uid,toggleRecurse(ce,!0),Ie()},M=(ce,we,Ae)=>{we.component=ce;const Fe=ce.vnode.props;ce.vnode=we,ce.next=null,updateProps(ce,we.props,Fe,Ae),updateSlots(ce,we.children,Ae),pauseTracking(),flushPreFlushCbs(),resetTracking()},X=(ce,we,Ae,Fe,De,Ge,ct,ot,Qe=!1)=>{const Ie=ce&&ce.children,Ue=ce?ce.shapeFlag:0,He=we.children,{patchFlag:it,shapeFlag:Je}=we;if(it>0){if(it&128){ee(Ie,He,Ae,Fe,De,Ge,ct,ot,Qe);return}else if(it&256){re(Ie,He,Ae,Fe,De,Ge,ct,ot,Qe);return}}Je&8?(Ue&16&&fe(Ie,De,Ge),He!==Ie&&Z(Ae,He)):Ue&16?Je&16?ee(Ie,He,Ae,Fe,De,Ge,ct,ot,Qe):fe(Ie,De,Ge,!0):(Ue&8&&Z(Ae,""),Je&16&&K(He,Ae,Fe,De,Ge,ct,ot,Qe))},re=(ce,we,Ae,Fe,De,Ge,ct,ot,Qe)=>{ce=ce||EMPTY_ARR,we=we||EMPTY_ARR;const Ie=ce.length,Ue=we.length,He=Math.min(Ie,Ue);let it;for(it=0;it<He;it++){const Je=we[it]=Qe?cloneIfMounted(we[it]):normalizeVNode(we[it]);B(ce[it],Je,Ae,null,De,Ge,ct,ot,Qe)}Ie>Ue?fe(ce,De,Ge,!0,!1,He):K(we,Ae,Fe,De,Ge,ct,ot,Qe,He)},ee=(ce,we,Ae,Fe,De,Ge,ct,ot,Qe)=>{let Ie=0;const Ue=we.length;let He=ce.length-1,it=Ue-1;for(;Ie<=He&&Ie<=it;){const Je=ce[Ie],st=we[Ie]=Qe?cloneIfMounted(we[Ie]):normalizeVNode(we[Ie]);if(isSameVNodeType(Je,st))B(Je,st,Ae,null,De,Ge,ct,ot,Qe);else break;Ie++}for(;Ie<=He&&Ie<=it;){const Je=ce[He],st=we[it]=Qe?cloneIfMounted(we[it]):normalizeVNode(we[it]);if(isSameVNodeType(Je,st))B(Je,st,Ae,null,De,Ge,ct,ot,Qe);else break;He--,it--}if(Ie>He){if(Ie<=it){const Je=it+1,st=Je<Ue?we[Je].el:Fe;for(;Ie<=it;)B(null,we[Ie]=Qe?cloneIfMounted(we[Ie]):normalizeVNode(we[Ie]),Ae,st,De,Ge,ct,ot,Qe),Ie++}}else if(Ie>it)for(;Ie<=He;)ye(ce[Ie],De,Ge,!0),Ie++;else{const Je=Ie,st=Ie,ht=new Map;for(Ie=st;Ie<=it;Ie++){const vi=we[Ie]=Qe?cloneIfMounted(we[Ie]):normalizeVNode(we[Ie]);vi.key!=null&&ht.set(vi.key,Ie)}let Ke,At=0;const Et=it-st+1;let Wt=!1,fi=0;const ei=new Array(Et);for(Ie=0;Ie<Et;Ie++)ei[Ie]=0;for(Ie=Je;Ie<=He;Ie++){const vi=ce[Ie];if(At>=Et){ye(vi,De,Ge,!0);continue}let zi;if(vi.key!=null)zi=ht.get(vi.key);else for(Ke=st;Ke<=it;Ke++)if(ei[Ke-st]===0&&isSameVNodeType(vi,we[Ke])){zi=Ke;break}zi===void 0?ye(vi,De,Ge,!0):(ei[zi-st]=Ie+1,zi>=fi?fi=zi:Wt=!0,B(vi,we[zi],Ae,null,De,Ge,ct,ot,Qe),At++)}const hi=Wt?getSequence(ei):EMPTY_ARR;for(Ke=hi.length-1,Ie=Et-1;Ie>=0;Ie--){const vi=st+Ie,zi=we[vi],Ji=vi+1<Ue?we[vi+1].el:Fe;ei[Ie]===0?B(null,zi,Ae,Ji,De,Ge,ct,ot,Qe):Wt&&(Ke<0||Ie!==hi[Ke]?he(zi,Ae,Ji,2):Ke--)}}},he=(ce,we,Ae,Fe,De=null)=>{const{el:Ge,type:ct,transition:ot,children:Qe,shapeFlag:Ie}=ce;if(Ie&6){he(ce.component.subTree,we,Ae,Fe);return}if(Ie&128){ce.suspense.move(we,Ae,Fe);return}if(Ie&64){ct.move(ce,we,Ae,te);return}if(ct===Fragment){a(Ge,we,Ae);for(let He=0;He<Qe.length;He++)he(Qe[He],we,Ae,Fe);a(ce.anchor,we,Ae);return}if(ct===Static){P(ce,we,Ae);return}if(Fe!==2&&Ie&1&&ot)if(Fe===0)ot.beforeEnter(Ge),a(Ge,we,Ae),queuePostRenderEffect(()=>ot.enter(Ge),De);else{const{leave:He,delayLeave:it,afterLeave:Je}=ot,st=()=>a(Ge,we,Ae),ht=()=>{He(Ge,()=>{st(),Je&&Je()})};it?it(Ge,st,ht):ht()}else a(Ge,we,Ae)},ye=(ce,we,Ae,Fe=!1,De=!1)=>{const{type:Ge,props:ct,ref:ot,children:Qe,dynamicChildren:Ie,shapeFlag:Ue,patchFlag:He,dirs:it}=ce;if(ot!=null&&setRef(ot,null,Ae,ce,!0),Ue&256){we.ctx.deactivate(ce);return}const Je=Ue&1&&it,st=!isAsyncWrapper(ce);let ht;if(st&&(ht=ct&&ct.onVnodeBeforeUnmount)&&invokeVNodeHook(ht,we,ce),Ue&6)de(ce.component,Ae,Fe);else{if(Ue&128){ce.suspense.unmount(Ae,Fe);return}Je&&invokeDirectiveHook(ce,null,we,"beforeUnmount"),Ue&64?ce.type.remove(ce,we,Ae,De,te,Fe):Ie&&(Ge!==Fragment||He>0&&He&64)?fe(Ie,we,Ae,!1,!0):(Ge===Fragment&&He&384||!De&&Ue&16)&&fe(Qe,we,Ae),Fe&&Ce(ce)}(st&&(ht=ct&&ct.onVnodeUnmounted)||Je)&&queuePostRenderEffect(()=>{ht&&invokeVNodeHook(ht,we,ce),Je&&invokeDirectiveHook(ce,null,we,"unmounted")},Ae)},Ce=ce=>{const{type:we,el:Ae,anchor:Fe,transition:De}=ce;if(we===Fragment){oe(Ae,Fe);return}if(we===Static){G(ce);return}const Ge=()=>{o(Ae),De&&!De.persisted&&De.afterLeave&&De.afterLeave()};if(ce.shapeFlag&1&&De&&!De.persisted){const{leave:ct,delayLeave:ot}=De,Qe=()=>ct(Ae,Ge);ot?ot(ce.el,Ge,Qe):Qe()}else Ge()},oe=(ce,we)=>{let Ae;for(;ce!==we;)Ae=H(ce),o(ce),ce=Ae;o(we)},de=(ce,we,Ae)=>{const{bum:Fe,scope:De,update:Ge,subTree:ct,um:ot}=ce;Fe&&invokeArrayFns(Fe),De.stop(),Ge&&(Ge.active=!1,ye(ct,ce,we,Ae)),ot&&queuePostRenderEffect(ot,we),queuePostRenderEffect(()=>{ce.isUnmounted=!0},we),we&&we.pendingBranch&&!we.isUnmounted&&ce.asyncDep&&!ce.asyncResolved&&ce.suspenseId===we.pendingId&&(we.deps--,we.deps===0&&we.resolve())},fe=(ce,we,Ae,Fe=!1,De=!1,Ge=0)=>{for(let ct=Ge;ct<ce.length;ct++)ye(ce[ct],we,Ae,Fe,De)},ue=ce=>ce.shapeFlag&6?ue(ce.component.subTree):ce.shapeFlag&128?ce.suspense.next():H(ce.anchor||ce.el),pe=(ce,we,Ae)=>{ce==null?we._vnode&&ye(we._vnode,null,null,!0):B(we._vnode||null,ce,we,null,null,null,Ae),flushPreFlushCbs(),flushPostFlushCbs(),we._vnode=ce},te={p:B,um:ye,m:he,r:Ce,mt:m,mc:K,pc:X,pbc:E,n:ue,o:e};let ge,xe;return t&&([ge,xe]=t(te)),{render:pe,hydrate:ge,createApp:createAppAPI(pe,ge)}}function toggleRecurse({effect:e,update:t},i){e.allowRecurse=t.allowRecurse=i}function traverseStaticChildren(e,t,i=!1){const a=e.children,o=t.children;if(isArray$1(a)&&isArray$1(o))for(let u=0;u<a.length;u++){const d=a[u];let n=o[u];n.shapeFlag&1&&!n.dynamicChildren&&((n.patchFlag<=0||n.patchFlag===32)&&(n=o[u]=cloneIfMounted(o[u]),n.el=d.el),i||traverseStaticChildren(d,n)),n.type===Text&&(n.el=d.el)}}function getSequence(e){const t=e.slice(),i=[0];let a,o,u,d,n;const k=e.length;for(a=0;a<k;a++){const j=e[a];if(j!==0){if(o=i[i.length-1],e[o]<j){t[a]=o,i.push(a);continue}for(u=0,d=i.length-1;u<d;)n=u+d>>1,e[i[n]]<j?u=n+1:d=n;j<e[i[u]]&&(u>0&&(t[a]=i[u-1]),i[u]=a)}}for(u=i.length,d=i[u-1];u-- >0;)i[u]=d,d=t[d];return i}const isTeleport=e=>e.__isTeleport,isTeleportDisabled=e=>e&&(e.disabled||e.disabled===""),isTargetSVG=e=>typeof SVGElement<"u"&&e instanceof SVGElement,resolveTarget=(e,t)=>{const i=e&&e.to;return isString$1(i)?t?t(i):null:i},TeleportImpl={__isTeleport:!0,process(e,t,i,a,o,u,d,n,k,j){const{mc:Z,pc:z,pbc:H,o:{insert:Y,querySelector:I,createText:B,createComment:U}}=j,T=isTeleportDisabled(t.props);let{shapeFlag:C,children:P,dynamicChildren:G}=t;if(e==null){const q=t.el=B(""),N=t.anchor=B("");Y(q,i,a),Y(N,i,a);const ne=t.target=resolveTarget(t.props,I),K=t.targetAnchor=B("");ne&&(Y(K,ne),d=d||isTargetSVG(ne));const L=(E,w)=>{C&16&&Z(P,E,w,o,u,d,n,k)};T?L(i,N):ne&&L(ne,K)}else{t.el=e.el;const q=t.anchor=e.anchor,N=t.target=e.target,ne=t.targetAnchor=e.targetAnchor,K=isTeleportDisabled(e.props),L=K?i:N,E=K?q:ne;if(d=d||isTargetSVG(N),G?(H(e.dynamicChildren,G,L,o,u,d,n),traverseStaticChildren(e,t,!0)):k||z(e,t,L,E,o,u,d,n,!1),T)K||moveTeleport(t,i,q,j,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const w=t.target=resolveTarget(t.props,I);w&&moveTeleport(t,w,null,j,0)}else K&&moveTeleport(t,N,ne,j,1)}updateCssVars(t)},remove(e,t,i,a,{um:o,o:{remove:u}},d){const{shapeFlag:n,children:k,anchor:j,targetAnchor:Z,target:z,props:H}=e;if(z&&u(Z),(d||!isTeleportDisabled(H))&&(u(j),n&16))for(let Y=0;Y<k.length;Y++){const I=k[Y];o(I,t,i,!0,!!I.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(e,t,i,{o:{insert:a},m:o},u=2){u===0&&a(e.targetAnchor,t,i);const{el:d,anchor:n,shapeFlag:k,children:j,props:Z}=e,z=u===2;if(z&&a(d,t,i),(!z||isTeleportDisabled(Z))&&k&16)for(let H=0;H<j.length;H++)o(j[H],t,i,2);z&&a(n,t,i)}function hydrateTeleport(e,t,i,a,o,u,{o:{nextSibling:d,parentNode:n,querySelector:k}},j){const Z=t.target=resolveTarget(t.props,k);if(Z){const z=Z._lpa||Z.firstChild;if(t.shapeFlag&16)if(isTeleportDisabled(t.props))t.anchor=j(d(e),t,n(e),i,a,o,u),t.targetAnchor=z;else{t.anchor=d(e);let H=z;for(;H;)if(H=d(H),H&&H.nodeType===8&&H.data==="teleport anchor"){t.targetAnchor=H,Z._lpa=t.targetAnchor&&d(t.targetAnchor);break}j(z,t,Z,i,a,o,u)}updateCssVars(t)}return t.anchor&&d(t.anchor)}const Teleport=TeleportImpl;function updateCssVars(e){const t=e.ctx;if(t&&t.ut){let i=e.children[0].el;for(;i!==e.targetAnchor;)i.nodeType===1&&i.setAttribute("data-v-owner",t.uid),i=i.nextSibling;t.ut()}}const Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,i,a,o,u){return setupBlock(createBaseVNode(e,t,i,a,o,u,!0))}function createBlock(e,t,i,a,o){return setupBlock(createVNode(e,t,i,a,o,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}function transformVNodeArgs(e){}const InternalObjectKey="__vInternal",normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:t,ref_for:i})=>e!=null?isString$1(e)||isRef(e)||isFunction$1(e)?{i:currentRenderingInstance,r:e,k:t,f:!!i}:e:null;function createBaseVNode(e,t=null,i=null,a=0,o=null,u=e===Fragment?0:1,d=!1,n=!1){const k={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:a,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return n?(normalizeChildren(k,i),u&128&&e.normalize(k)):i&&(k.shapeFlag|=isString$1(i)?8:16),isBlockTreeEnabled>0&&!d&&currentBlock&&(k.patchFlag>0||u&6)&&k.patchFlag!==32&&currentBlock.push(k),k}const createVNode=_createVNode;function _createVNode(e,t=null,i=null,a=0,o=null,u=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const n=cloneVNode(e,t,!0);return i&&normalizeChildren(n,i),isBlockTreeEnabled>0&&!u&&currentBlock&&(n.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=n:currentBlock.push(n)),n.patchFlag|=-2,n}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:n,style:k}=t;n&&!isString$1(n)&&(t.class=normalizeClass(n)),isObject$5(k)&&(isProxy(k)&&!isArray$1(k)&&(k=extend$7({},k)),t.style=normalizeStyle(k))}const d=isString$1(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$5(e)?4:isFunction$1(e)?2:0;return createBaseVNode(e,t,i,a,o,d,u,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend$7({},e):e:null}function cloneVNode(e,t,i=!1){const{props:a,ref:o,patchFlag:u,children:d}=e,n=t?mergeProps(a||{},t):a;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:n,key:n&&normalizeKey(n),ref:t&&t.ref?i&&o?isArray$1(o)?o.concat(normalizeRef(t)):[o,normalizeRef(t)]:normalizeRef(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:d,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function createStaticVNode(e,t){const i=createVNode(Static,null,e);return i.staticCount=t,i}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$1(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let i=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(isArray$1(t))i=16;else if(typeof t=="object")if(a&65){const o=t.default;o&&(o._c&&(o._d=!1),normalizeChildren(e,o()),o._c&&(o._d=!0));return}else{i=32;const o=t._;!o&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:o===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction$1(t)?(t={default:t,_ctx:currentRenderingInstance},i=32):(t=String(t),a&64?(i=16,t=[createTextVNode(t)]):i=8);e.children=t,e.shapeFlag|=i}function mergeProps(...e){const t={};for(let i=0;i<e.length;i++){const a=e[i];for(const o in a)if(o==="class")t.class!==a.class&&(t.class=normalizeClass([t.class,a.class]));else if(o==="style")t.style=normalizeStyle([t.style,a.style]);else if(isOn(o)){const u=t[o],d=a[o];d&&u!==d&&!(isArray$1(u)&&u.includes(d))&&(t[o]=u?[].concat(u,d):d)}else o!==""&&(t[o]=a[o])}return t}function invokeVNodeHook(e,t,i,a=null){callWithAsyncErrorHandling(e,t,7,[i,a])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(e,t,i){const a=e.type,o=(t?t.appContext:e.appContext)||emptyAppContext,u={uid:uid$1++,vnode:e,type:a,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(a,o),emitsOptions:normalizeEmitsOptions(a,o),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:a.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=t?t.root:u,u.emit=emit$1.bind(null,u),e.ce&&e.ce(u),u}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=e=>{currentInstance=e,e.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1){isInSSRComponentSetup=t;const{props:i,children:a}=e.vnode,o=isStatefulComponent(e);initProps(e,i,o,t),initSlots(e,a);const u=o?setupStatefulComponent(e,t):void 0;return isInSSRComponentSetup=!1,u}function setupStatefulComponent(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers));const{setup:a}=i;if(a){const o=e.setupContext=a.length>1?createSetupContext(e):null;setCurrentInstance(e),pauseTracking();const u=callWithErrorHandling(a,e,0,[e.props,o]);if(resetTracking(),unsetCurrentInstance(),isPromise(u)){if(u.then(unsetCurrentInstance,unsetCurrentInstance),t)return u.then(d=>{handleSetupResult(e,d,t)}).catch(d=>{handleError(d,e,0)});e.asyncDep=u}else handleSetupResult(e,u,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,i){isFunction$1(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject$5(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e,i)}let compile$1,installWithProxy;function registerRuntimeCompiler(e){compile$1=e,installWithProxy=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,RuntimeCompiledPublicInstanceProxyHandlers))}}const isRuntimeOnly=()=>!compile$1;function finishComponentSetup(e,t,i){const a=e.type;if(!e.render){if(!t&&compile$1&&!a.render){const o=a.template||resolveMergedOptions(e).template;if(o){const{isCustomElement:u,compilerOptions:d}=e.appContext.config,{delimiters:n,compilerOptions:k}=a,j=extend$7(extend$7({isCustomElement:u,delimiters:n},d),k);a.render=compile$1(o,j)}}e.render=a.render||NOOP,installWithProxy&&installWithProxy(e)}setCurrentInstance(e),pauseTracking(),applyOptions(e),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(e){return new Proxy(e.attrs,{get(t,i){return track(e,"get","$attrs"),t[i]}})}function createSetupContext(e){const t=a=>{e.exposed=a||{}};let i;return{get attrs(){return i||(i=createAttrsProxy(e))},slots:e.slots,emit:e.emit,expose:t}}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in publicPropertiesMap)return publicPropertiesMap[i](e)},has(t,i){return i in t||i in publicPropertiesMap}}))}function getComponentName(e,t=!0){return isFunction$1(e)?e.displayName||e.name:e.name||t&&e.__name}function isClassComponent(e){return isFunction$1(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function defineProps(){return null}function defineEmits(){return null}function defineExpose(e){}function withDefaults(e,t){return null}function useSlots(){return getContext().slots}function useAttrs(){return getContext().attrs}function getContext(){const e=getCurrentInstance();return e.setupContext||(e.setupContext=createSetupContext(e))}function mergeDefaults(e,t){const i=isArray$1(e)?e.reduce((a,o)=>(a[o]={},a),{}):e;for(const a in t){const o=i[a];o?isArray$1(o)||isFunction$1(o)?i[a]={type:o,default:t[a]}:o.default=t[a]:o===null&&(i[a]={default:t[a]})}return i}function createPropsRestProxy(e,t){const i={};for(const a in e)t.includes(a)||Object.defineProperty(i,a,{enumerable:!0,get:()=>e[a]});return i}function withAsyncContext(e){const t=getCurrentInstance();let i=e();return unsetCurrentInstance(),isPromise(i)&&(i=i.catch(a=>{throw setCurrentInstance(t),a})),[i,()=>setCurrentInstance(t)]}function h(e,t,i){const a=arguments.length;return a===2?isObject$5(t)&&!isArray$1(t)?isVNode(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(a>3?i=Array.prototype.slice.call(arguments,2):a===3&&isVNode(i)&&(i=[i]),createVNode(e,t,i))}const ssrContextKey=Symbol(""),useSSRContext=()=>inject(ssrContextKey);function initCustomFormatter(){}function withMemo(e,t,i,a){const o=i[a];if(o&&isMemoSame(o,e))return o;const u=t();return u.memo=e.slice(),i[a]=u}function isMemoSame(e,t){const i=e.memo;if(i.length!=t.length)return!1;for(let a=0;a<i.length;a++)if(hasChanged(i[a],t[a]))return!1;return isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),!0}const version="3.2.45",_ssrUtils={createComponentInstance,setupComponent,renderComponentRoot,setCurrentRenderingInstance,isVNode,normalizeVNode},ssrUtils=_ssrUtils,resolveFilter=null,compatUtils=null,svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,a)=>{const o=t?doc.createElementNS(svgNS,e):doc.createElement(e,i?{is:i}:void 0);return e==="select"&&a&&a.multiple!=null&&o.setAttribute("multiple",a.multiple),o},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,a,o,u){const d=i?i.previousSibling:t.lastChild;if(o&&(o===u||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),i),!(o===u||!(o=o.nextSibling)););else{templateContainer.innerHTML=a?`<svg>${e}</svg>`:e;const n=templateContainer.content;if(a){const k=n.firstChild;for(;k.firstChild;)n.appendChild(k.firstChild);n.removeChild(k)}t.insertBefore(n,i)}return[d?d.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}};function patchClass(e,t,i){const a=e._vtc;a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}function patchStyle(e,t,i){const a=e.style,o=isString$1(i);if(i&&!o){for(const u in i)setStyle(a,u,i[u]);if(t&&!isString$1(t))for(const u in t)i[u]==null&&setStyle(a,u,"")}else{const u=a.display;o?t!==i&&(a.cssText=i):t&&e.removeAttribute("style"),"_vod"in e&&(a.display=u)}}const importantRE=/\s*!important$/;function setStyle(e,t,i){if(isArray$1(i))i.forEach(a=>setStyle(e,t,a));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const a=autoPrefix(e,t);importantRE.test(i)?e.setProperty(hyphenate(a),i.replace(importantRE,""),"important"):e[a]=i}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const i=prefixCache[t];if(i)return i;let a=camelize$1(t);if(a!=="filter"&&a in e)return prefixCache[t]=a;a=capitalize(a);for(let o=0;o<prefixes.length;o++){const u=prefixes[o]+a;if(u in e)return prefixCache[t]=u}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,i,a,o){if(a&&t.startsWith("xlink:"))i==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,i);else{const u=isSpecialBooleanAttr(t);i==null||u&&!includeBooleanAttr(i)?e.removeAttribute(t):e.setAttribute(t,u?"":i)}}function patchDOMProp(e,t,i,a,o,u,d){if(t==="innerHTML"||t==="textContent"){a&&d(a,o,u),e[t]=i??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=i;const k=i??"";(e.value!==k||e.tagName==="OPTION")&&(e.value=k),i==null&&e.removeAttribute(t);return}let n=!1;if(i===""||i==null){const k=typeof e[t];k==="boolean"?i=includeBooleanAttr(i):i==null&&k==="string"?(i="",n=!0):k==="number"&&(i=0,n=!0)}try{e[t]=i}catch{}n&&e.removeAttribute(t)}function addEventListener(e,t,i,a){e.addEventListener(t,i,a)}function removeEventListener(e,t,i,a){e.removeEventListener(t,i,a)}function patchEvent(e,t,i,a,o=null){const u=e._vei||(e._vei={}),d=u[t];if(a&&d)d.value=a;else{const[n,k]=parseName(t);if(a){const j=u[t]=createInvoker(a,o);addEventListener(e,n,j,k)}else d&&(removeEventListener(e,n,d,k),u[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let a;for(;a=e.match(optionsModifierRE);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const i=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=i.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(a,i.value),t,5,[a])};return i.value=e,i.attached=getNow(),i}function patchStopImmediatePropagation(e,t){if(isArray$1(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(a=>o=>!o._stopped&&a&&a(o))}else return t}const nativeOnRE=/^on[a-z]/,patchProp=(e,t,i,a,o=!1,u,d,n,k)=>{t==="class"?patchClass(e,a,o):t==="style"?patchStyle(e,i,a):isOn(t)?isModelListener(t)||patchEvent(e,t,i,a,d):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,a,o))?patchDOMProp(e,t,a,u,d,n,k):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),patchAttr(e,t,a,o))};function shouldSetAsProp(e,t,i,a){return a?!!(t==="innerHTML"||t==="textContent"||t in e&&nativeOnRE.test(t)&&isFunction$1(i)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||nativeOnRE.test(t)&&isString$1(i)?!1:t in e}function defineCustomElement(e,t){const i=defineComponent(e);class a extends VueElement{constructor(u){super(i,u,t)}}return a.def=i,a}const defineSSRCustomElement=e=>defineCustomElement(e,hydrate),BaseClass=typeof HTMLElement<"u"?HTMLElement:class{};class VueElement extends BaseClass{constructor(t,i={},a){super(),this._def=t,this._props=i,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&a?a(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,nextTick$1(()=>{this._connected||(render(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let a=0;a<this.attributes.length;a++)this._setAttr(this.attributes[a].name);new MutationObserver(a=>{for(const o of a)this._setAttr(o.attributeName)}).observe(this,{attributes:!0});const t=(a,o=!1)=>{const{props:u,styles:d}=a;let n;if(u&&!isArray$1(u))for(const k in u){const j=u[k];(j===Number||j&&j.type===Number)&&(k in this._props&&(this._props[k]=toNumber$1(this._props[k])),(n||(n=Object.create(null)))[camelize$1(k)]=!0)}this._numberProps=n,o&&this._resolveProps(a),this._applyStyles(d),this._update()},i=this._def.__asyncLoader;i?i().then(a=>t(a,!0)):t(this._def)}_resolveProps(t){const{props:i}=t,a=isArray$1(i)?i:Object.keys(i||{});for(const o of Object.keys(this))o[0]!=="_"&&a.includes(o)&&this._setProp(o,this[o],!0,!1);for(const o of a.map(camelize$1))Object.defineProperty(this,o,{get(){return this._getProp(o)},set(u){this._setProp(o,u)}})}_setAttr(t){let i=this.getAttribute(t);const a=camelize$1(t);this._numberProps&&this._numberProps[a]&&(i=toNumber$1(i)),this._setProp(a,i,!1)}_getProp(t){return this._props[t]}_setProp(t,i,a=!0,o=!0){i!==this._props[t]&&(this._props[t]=i,o&&this._instance&&this._update(),a&&(i===!0?this.setAttribute(hyphenate(t),""):typeof i=="string"||typeof i=="number"?this.setAttribute(hyphenate(t),i+""):i||this.removeAttribute(hyphenate(t))))}_update(){render(this._createVNode(),this.shadowRoot)}_createVNode(){const t=createVNode(this._def,extend$7({},this._props));return this._instance||(t.ce=i=>{this._instance=i,i.isCE=!0;const a=(u,d)=>{this.dispatchEvent(new CustomEvent(u,{detail:d}))};i.emit=(u,...d)=>{a(u,d),hyphenate(u)!==u&&a(hyphenate(u),d)};let o=this;for(;o=o&&(o.parentNode||o.host);)if(o instanceof VueElement){i.parent=o._instance,i.provides=o._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(i=>{const a=document.createElement("style");a.textContent=i,this.shadowRoot.appendChild(a)})}}function useCssModule(e="$style"){{const t=getCurrentInstance();if(!t)return EMPTY_OBJ;const i=t.type.__cssModules;if(!i)return EMPTY_OBJ;const a=i[e];return a||EMPTY_OBJ}}function useCssVars(e){const t=getCurrentInstance();if(!t)return;const i=t.ut=(o=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(u=>setVarsOnNode(u,o))},a=()=>{const o=e(t.proxy);setVarsOnVNode(t.subTree,o),i(o)};watchPostEffect(a),onMounted(()=>{const o=new MutationObserver(a);o.observe(t.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>o.disconnect())})}function setVarsOnVNode(e,t){if(e.shapeFlag&128){const i=e.suspense;e=i.activeBranch,i.pendingBranch&&!i.isHydrating&&i.effects.push(()=>{setVarsOnVNode(i.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)setVarsOnNode(e.el,t);else if(e.type===Fragment)e.children.forEach(i=>setVarsOnVNode(i,t));else if(e.type===Static){let{el:i,anchor:a}=e;for(;i&&(setVarsOnNode(i,t),i!==a);)i=i.nextSibling}}function setVarsOnNode(e,t){if(e.nodeType===1){const i=e.style;for(const a in t)i.setProperty(`--${a}`,t[a])}}const TRANSITION$1="transition",ANIMATION="animation",Transition=(e,{slots:t})=>h(BaseTransition,resolveTransitionProps(e),t);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend$7({},BaseTransition.props,DOMTransitionPropsValidators),callHook=(e,t=[])=>{isArray$1(e)?e.forEach(i=>i(...t)):e&&e(...t)},hasExplicitCallback=e=>e?isArray$1(e)?e.some(t=>t.length>1):e.length>1:!1;function resolveTransitionProps(e){const t={};for(const g in e)g in DOMTransitionPropsValidators||(t[g]=e[g]);if(e.css===!1)return t;const{name:i="v",type:a,duration:o,enterFromClass:u=`${i}-enter-from`,enterActiveClass:d=`${i}-enter-active`,enterToClass:n=`${i}-enter-to`,appearFromClass:k=u,appearActiveClass:j=d,appearToClass:Z=n,leaveFromClass:z=`${i}-leave-from`,leaveActiveClass:H=`${i}-leave-active`,leaveToClass:Y=`${i}-leave-to`}=e,I=normalizeDuration(o),B=I&&I[0],U=I&&I[1],{onBeforeEnter:T,onEnter:C,onEnterCancelled:P,onLeave:G,onLeaveCancelled:q,onBeforeAppear:N=T,onAppear:ne=C,onAppearCancelled:K=P}=t,L=(g,A,m)=>{removeTransitionClass(g,A?Z:n),removeTransitionClass(g,A?j:d),m&&m()},E=(g,A)=>{g._isLeaving=!1,removeTransitionClass(g,z),removeTransitionClass(g,Y),removeTransitionClass(g,H),A&&A()},w=g=>(A,m)=>{const y=g?ne:C,x=()=>L(A,g,m);callHook(y,[A,x]),nextFrame(()=>{removeTransitionClass(A,g?k:u),addTransitionClass(A,g?Z:n),hasExplicitCallback(y)||whenTransitionEnds(A,a,B,x)})};return extend$7(t,{onBeforeEnter(g){callHook(T,[g]),addTransitionClass(g,u),addTransitionClass(g,d)},onBeforeAppear(g){callHook(N,[g]),addTransitionClass(g,k),addTransitionClass(g,j)},onEnter:w(!1),onAppear:w(!0),onLeave(g,A){g._isLeaving=!0;const m=()=>E(g,A);addTransitionClass(g,z),forceReflow(),addTransitionClass(g,H),nextFrame(()=>{g._isLeaving&&(removeTransitionClass(g,z),addTransitionClass(g,Y),hasExplicitCallback(G)||whenTransitionEnds(g,a,U,m))}),callHook(G,[g,m])},onEnterCancelled(g){L(g,!1),callHook(P,[g])},onAppearCancelled(g){L(g,!0),callHook(K,[g])},onLeaveCancelled(g){E(g),callHook(q,[g])}})}function normalizeDuration(e){if(e==null)return null;if(isObject$5(e))return[NumberOf(e.enter),NumberOf(e.leave)];{const t=NumberOf(e);return[t,t]}}function NumberOf(e){return toNumber$1(e)}function addTransitionClass(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.add(i)),(e._vtc||(e._vtc=new Set)).add(t)}function removeTransitionClass(e,t){t.split(/\s+/).forEach(a=>a&&e.classList.remove(a));const{_vtc:i}=e;i&&(i.delete(t),i.size||(e._vtc=void 0))}function nextFrame(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let endId=0;function whenTransitionEnds(e,t,i,a){const o=e._endId=++endId,u=()=>{o===e._endId&&a()};if(i)return setTimeout(u,i);const{type:d,timeout:n,propCount:k}=getTransitionInfo(e,t);if(!d)return a();const j=d+"end";let Z=0;const z=()=>{e.removeEventListener(j,H),u()},H=Y=>{Y.target===e&&++Z>=k&&z()};setTimeout(()=>{Z<k&&z()},n+1),e.addEventListener(j,H)}function getTransitionInfo(e,t){const i=window.getComputedStyle(e),a=I=>(i[I]||"").split(", "),o=a(`${TRANSITION$1}Delay`),u=a(`${TRANSITION$1}Duration`),d=getTimeout(o,u),n=a(`${ANIMATION}Delay`),k=a(`${ANIMATION}Duration`),j=getTimeout(n,k);let Z=null,z=0,H=0;t===TRANSITION$1?d>0&&(Z=TRANSITION$1,z=d,H=u.length):t===ANIMATION?j>0&&(Z=ANIMATION,z=j,H=k.length):(z=Math.max(d,j),Z=z>0?d>j?TRANSITION$1:ANIMATION:null,H=Z?Z===TRANSITION$1?u.length:k.length:0);const Y=Z===TRANSITION$1&&/\b(transform|all)(,|$)/.test(a(`${TRANSITION$1}Property`).toString());return{type:Z,timeout:z,propCount:H,hasTransform:Y}}function getTimeout(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((i,a)=>toMs(i)+toMs(e[a])))}function toMs(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend$7({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(e,{slots:t}){const i=getCurrentInstance(),a=useTransitionState();let o,u;return onUpdated(()=>{if(!o.length)return;const d=e.moveClass||`${e.name||"v"}-move`;if(!hasCSSTransform(o[0].el,i.vnode.el,d))return;o.forEach(callPendingCbs),o.forEach(recordPosition);const n=o.filter(applyTranslation);forceReflow(),n.forEach(k=>{const j=k.el,Z=j.style;addTransitionClass(j,d),Z.transform=Z.webkitTransform=Z.transitionDuration="";const z=j._moveCb=H=>{H&&H.target!==j||(!H||/transform$/.test(H.propertyName))&&(j.removeEventListener("transitionend",z),j._moveCb=null,removeTransitionClass(j,d))};j.addEventListener("transitionend",z)})}),()=>{const d=toRaw(e),n=resolveTransitionProps(d);let k=d.tag||Fragment;o=u,u=t.default?getTransitionRawChildren(t.default()):[];for(let j=0;j<u.length;j++){const Z=u[j];Z.key!=null&&setTransitionHooks(Z,resolveTransitionHooks(Z,n,a,i))}if(o)for(let j=0;j<o.length;j++){const Z=o[j];setTransitionHooks(Z,resolveTransitionHooks(Z,n,a,i)),positionMap.set(Z,Z.el.getBoundingClientRect())}return createVNode(k,null,u)}}},TransitionGroup=TransitionGroupImpl;function callPendingCbs(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function recordPosition(e){newPositionMap.set(e,e.el.getBoundingClientRect())}function applyTranslation(e){const t=positionMap.get(e),i=newPositionMap.get(e),a=t.left-i.left,o=t.top-i.top;if(a||o){const u=e.el.style;return u.transform=u.webkitTransform=`translate(${a}px,${o}px)`,u.transitionDuration="0s",e}}function hasCSSTransform(e,t,i){const a=e.cloneNode();e._vtc&&e._vtc.forEach(d=>{d.split(/\s+/).forEach(n=>n&&a.classList.remove(n))}),i.split(/\s+/).forEach(d=>d&&a.classList.add(d)),a.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(a);const{hasTransform:u}=getTransitionInfo(a);return o.removeChild(a),u}const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"]||!1;return isArray$1(t)?i=>invokeArrayFns(t,i):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const vModelText={created(e,{modifiers:{lazy:t,trim:i,number:a}},o){e._assign=getModelAssigner(o);const u=a||o.props&&o.props.type==="number";addEventListener(e,t?"change":"input",d=>{if(d.target.composing)return;let n=e.value;i&&(n=n.trim()),u&&(n=toNumber$1(n)),e._assign(n)}),i&&addEventListener(e,"change",()=>{e.value=e.value.trim()}),t||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:i,trim:a,number:o}},u){if(e._assign=getModelAssigner(u),e.composing||document.activeElement===e&&e.type!=="range"&&(i||a&&e.value.trim()===t||(o||e.type==="number")&&toNumber$1(e.value)===t))return;const d=t??"";e.value!==d&&(e.value=d)}},vModelCheckbox={deep:!0,created(e,t,i){e._assign=getModelAssigner(i),addEventListener(e,"change",()=>{const a=e._modelValue,o=getValue(e),u=e.checked,d=e._assign;if(isArray$1(a)){const n=looseIndexOf(a,o),k=n!==-1;if(u&&!k)d(a.concat(o));else if(!u&&k){const j=[...a];j.splice(n,1),d(j)}}else if(isSet(a)){const n=new Set(a);u?n.add(o):n.delete(o),d(n)}else d(getCheckboxValue(e,u))})},mounted:setChecked,beforeUpdate(e,t,i){e._assign=getModelAssigner(i),setChecked(e,t,i)}};function setChecked(e,{value:t,oldValue:i},a){e._modelValue=t,isArray$1(t)?e.checked=looseIndexOf(t,a.props.value)>-1:isSet(t)?e.checked=t.has(a.props.value):t!==i&&(e.checked=looseEqual(t,getCheckboxValue(e,!0)))}const vModelRadio={created(e,{value:t},i){e.checked=looseEqual(t,i.props.value),e._assign=getModelAssigner(i),addEventListener(e,"change",()=>{e._assign(getValue(e))})},beforeUpdate(e,{value:t,oldValue:i},a){e._assign=getModelAssigner(a),t!==i&&(e.checked=looseEqual(t,a.props.value))}},vModelSelect={deep:!0,created(e,{value:t,modifiers:{number:i}},a){const o=isSet(t);addEventListener(e,"change",()=>{const u=Array.prototype.filter.call(e.options,d=>d.selected).map(d=>i?toNumber$1(getValue(d)):getValue(d));e._assign(e.multiple?o?new Set(u):u:u[0])}),e._assign=getModelAssigner(a)},mounted(e,{value:t}){setSelected(e,t)},beforeUpdate(e,t,i){e._assign=getModelAssigner(i)},updated(e,{value:t}){setSelected(e,t)}};function setSelected(e,t){const i=e.multiple;if(!(i&&!isArray$1(t)&&!isSet(t))){for(let a=0,o=e.options.length;a<o;a++){const u=e.options[a],d=getValue(u);if(i)isArray$1(t)?u.selected=looseIndexOf(t,d)>-1:u.selected=t.has(d);else if(looseEqual(getValue(u),t)){e.selectedIndex!==a&&(e.selectedIndex=a);return}}!i&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function getValue(e){return"_value"in e?e._value:e.value}function getCheckboxValue(e,t){const i=t?"_trueValue":"_falseValue";return i in e?e[i]:t}const vModelDynamic={created(e,t,i){callModelHook(e,t,i,null,"created")},mounted(e,t,i){callModelHook(e,t,i,null,"mounted")},beforeUpdate(e,t,i,a){callModelHook(e,t,i,a,"beforeUpdate")},updated(e,t,i,a){callModelHook(e,t,i,a,"updated")}};function resolveDynamicModel(e,t){switch(e){case"SELECT":return vModelSelect;case"TEXTAREA":return vModelText;default:switch(t){case"checkbox":return vModelCheckbox;case"radio":return vModelRadio;default:return vModelText}}}function callModelHook(e,t,i,a,o){const d=resolveDynamicModel(e.tagName,i.props&&i.props.type)[o];d&&d(e,t,i,a)}function initVModelForSSR(){vModelText.getSSRProps=({value:e})=>({value:e}),vModelRadio.getSSRProps=({value:e},t)=>{if(t.props&&looseEqual(t.props.value,e))return{checked:!0}},vModelCheckbox.getSSRProps=({value:e},t)=>{if(isArray$1(e)){if(t.props&&looseIndexOf(e,t.props.value)>-1)return{checked:!0}}else if(isSet(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},vModelDynamic.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const i=resolveDynamicModel(t.type.toUpperCase(),t.props&&t.props.type);if(i.getSSRProps)return i.getSSRProps(e,t)}}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>systemModifiers.some(i=>e[`${i}Key`]&&!t.includes(i))},withModifiers=(e,t)=>(i,...a)=>{for(let o=0;o<t.length;o++){const u=modifierGuards[t[o]];if(u&&u(i,t))return}return e(i,...a)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(e,t)=>i=>{if(!("key"in i))return;const a=hyphenate(i.key);if(t.some(o=>o===a||keyNames[o]===a))return e(i)},vShow={beforeMount(e,{value:t},{transition:i}){e._vod=e.style.display==="none"?"":e.style.display,i&&t?i.beforeEnter(e):setDisplay(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:a}){!t!=!i&&(a?t?(a.beforeEnter(e),setDisplay(e,!0),a.enter(e)):a.leave(e,()=>{setDisplay(e,!1)}):setDisplay(e,t))},beforeUnmount(e,{value:t}){setDisplay(e,t)}};function setDisplay(e,t){e.style.display=t?e._vod:"none"}function initVShowForSSR(){vShow.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const rendererOptions=extend$7({patchProp},nodeOps);let renderer,enabledHydration=!1;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}function ensureHydrationRenderer(){return renderer=enabledHydration?renderer:createHydrationRenderer(rendererOptions),enabledHydration=!0,renderer}const render=(...e)=>{ensureRenderer().render(...e)},hydrate=(...e)=>{ensureHydrationRenderer().hydrate(...e)},createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:i}=t;return t.mount=a=>{const o=normalizeContainer(a);if(!o)return;const u=t._component;!isFunction$1(u)&&!u.render&&!u.template&&(u.template=o.innerHTML),o.innerHTML="";const d=i(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),d},t},createSSRApp=(...e)=>{const t=ensureHydrationRenderer().createApp(...e),{mount:i}=t;return t.mount=a=>{const o=normalizeContainer(a);if(o)return i(o,!0,o instanceof SVGElement)},t};function normalizeContainer(e){return isString$1(e)?document.querySelector(e):e}let ssrDirectiveInitialized=!1;const initDirectivesForSSR=()=>{ssrDirectiveInitialized||(ssrDirectiveInitialized=!0,initVModelForSSR(),initVShowForSSR())},runtimeDom=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition,Comment,EffectScope,Fragment,KeepAlive,ReactiveEffect,Static,Suspense,Teleport,Text,Transition,TransitionGroup,VueElement,callWithAsyncErrorHandling,callWithErrorHandling,camelize:camelize$1,capitalize,cloneVNode,compatUtils,computed,createApp,createBlock,createCommentVNode,createElementBlock,createElementVNode:createBaseVNode,createHydrationRenderer,createPropsRestProxy,createRenderer,createSSRApp,createSlots,createStaticVNode,createTextVNode,createVNode,customRef,defineAsyncComponent,defineComponent,defineCustomElement,defineEmits,defineExpose,defineProps,defineSSRCustomElement,get devtools(){return devtools},effect,effectScope,getCurrentInstance,getCurrentScope,getTransitionRawChildren,guardReactiveProps,h,handleError,hydrate,initCustomFormatter,initDirectivesForSSR,inject,isMemoSame,isProxy,isReactive,isReadonly,isRef,isRuntimeOnly,isShallow,isVNode,markRaw,mergeDefaults,mergeProps,nextTick:nextTick$1,normalizeClass,normalizeProps,normalizeStyle,onActivated,onBeforeMount,onBeforeUnmount,onBeforeUpdate,onDeactivated,onErrorCaptured,onMounted,onRenderTracked,onRenderTriggered,onScopeDispose,onServerPrefetch,onUnmounted,onUpdated,openBlock,popScopeId,provide,proxyRefs,pushScopeId,queuePostFlushCb,reactive,readonly,ref,registerRuntimeCompiler,render,renderList,renderSlot,resolveComponent,resolveDirective,resolveDynamicComponent,resolveFilter,resolveTransitionHooks,setBlockTracking,setDevtoolsHook,setTransitionHooks,shallowReactive,shallowReadonly,shallowRef,ssrContextKey,ssrUtils,stop,toDisplayString,toHandlerKey,toHandlers,toRaw,toRef,toRefs,transformVNodeArgs,triggerRef,unref,useAttrs,useCssModule,useCssVars,useSSRContext,useSlots,useTransitionState,vModelCheckbox,vModelDynamic,vModelRadio,vModelSelect,vModelText,vShow,version,warn:warn$1,watch,watchEffect,watchPostEffect,watchSyncEffect,withAsyncContext,withCtx,withDefaults,withDirectives,withKeys,withMemo,withModifiers,withScopeId},Symbol.toStringTag,{value:"Module"}));function defaultOnError(e){throw e}function defaultOnWarn(e){}function createCompilerError(e,t,i,a){const o=e,u=new SyntaxError(String(o));return u.code=e,u.loc=t,u}const FRAGMENT=Symbol(""),TELEPORT=Symbol(""),SUSPENSE=Symbol(""),KEEP_ALIVE=Symbol(""),BASE_TRANSITION=Symbol(""),OPEN_BLOCK=Symbol(""),CREATE_BLOCK=Symbol(""),CREATE_ELEMENT_BLOCK=Symbol(""),CREATE_VNODE=Symbol(""),CREATE_ELEMENT_VNODE=Symbol(""),CREATE_COMMENT=Symbol(""),CREATE_TEXT=Symbol(""),CREATE_STATIC=Symbol(""),RESOLVE_COMPONENT=Symbol(""),RESOLVE_DYNAMIC_COMPONENT=Symbol(""),RESOLVE_DIRECTIVE=Symbol(""),RESOLVE_FILTER=Symbol(""),WITH_DIRECTIVES=Symbol(""),RENDER_LIST=Symbol(""),RENDER_SLOT=Symbol(""),CREATE_SLOTS=Symbol(""),TO_DISPLAY_STRING=Symbol(""),MERGE_PROPS=Symbol(""),NORMALIZE_CLASS=Symbol(""),NORMALIZE_STYLE=Symbol(""),NORMALIZE_PROPS=Symbol(""),GUARD_REACTIVE_PROPS=Symbol(""),TO_HANDLERS=Symbol(""),CAMELIZE=Symbol(""),CAPITALIZE=Symbol(""),TO_HANDLER_KEY=Symbol(""),SET_BLOCK_TRACKING=Symbol(""),PUSH_SCOPE_ID=Symbol(""),POP_SCOPE_ID=Symbol(""),WITH_CTX=Symbol(""),UNREF=Symbol(""),IS_REF=Symbol(""),WITH_MEMO=Symbol(""),IS_MEMO_SAME=Symbol(""),helperNameMap={[FRAGMENT]:"Fragment",[TELEPORT]:"Teleport",[SUSPENSE]:"Suspense",[KEEP_ALIVE]:"KeepAlive",[BASE_TRANSITION]:"BaseTransition",[OPEN_BLOCK]:"openBlock",[CREATE_BLOCK]:"createBlock",[CREATE_ELEMENT_BLOCK]:"createElementBlock",[CREATE_VNODE]:"createVNode",[CREATE_ELEMENT_VNODE]:"createElementVNode",[CREATE_COMMENT]:"createCommentVNode",[CREATE_TEXT]:"createTextVNode",[CREATE_STATIC]:"createStaticVNode",[RESOLVE_COMPONENT]:"resolveComponent",[RESOLVE_DYNAMIC_COMPONENT]:"resolveDynamicComponent",[RESOLVE_DIRECTIVE]:"resolveDirective",[RESOLVE_FILTER]:"resolveFilter",[WITH_DIRECTIVES]:"withDirectives",[RENDER_LIST]:"renderList",[RENDER_SLOT]:"renderSlot",[CREATE_SLOTS]:"createSlots",[TO_DISPLAY_STRING]:"toDisplayString",[MERGE_PROPS]:"mergeProps",[NORMALIZE_CLASS]:"normalizeClass",[NORMALIZE_STYLE]:"normalizeStyle",[NORMALIZE_PROPS]:"normalizeProps",[GUARD_REACTIVE_PROPS]:"guardReactiveProps",[TO_HANDLERS]:"toHandlers",[CAMELIZE]:"camelize",[CAPITALIZE]:"capitalize",[TO_HANDLER_KEY]:"toHandlerKey",[SET_BLOCK_TRACKING]:"setBlockTracking",[PUSH_SCOPE_ID]:"pushScopeId",[POP_SCOPE_ID]:"popScopeId",[WITH_CTX]:"withCtx",[UNREF]:"unref",[IS_REF]:"isRef",[WITH_MEMO]:"withMemo",[IS_MEMO_SAME]:"isMemoSame"};function registerRuntimeHelpers(e){Object.getOwnPropertySymbols(e).forEach(t=>{helperNameMap[t]=e[t]})}const locStub={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function createRoot(e,t=locStub){return{type:0,children:e,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function createVNodeCall(e,t,i,a,o,u,d,n=!1,k=!1,j=!1,Z=locStub){return e&&(n?(e.helper(OPEN_BLOCK),e.helper(getVNodeBlockHelper(e.inSSR,j))):e.helper(getVNodeHelper(e.inSSR,j)),d&&e.helper(WITH_DIRECTIVES)),{type:13,tag:t,props:i,children:a,patchFlag:o,dynamicProps:u,directives:d,isBlock:n,disableTracking:k,isComponent:j,loc:Z}}function createArrayExpression(e,t=locStub){return{type:17,loc:t,elements:e}}function createObjectExpression(e,t=locStub){return{type:15,loc:t,properties:e}}function createObjectProperty(e,t){return{type:16,loc:locStub,key:isString$1(e)?createSimpleExpression(e,!0):e,value:t}}function createSimpleExpression(e,t=!1,i=locStub,a=0){return{type:4,loc:i,content:e,isStatic:t,constType:t?3:a}}function createCompoundExpression(e,t=locStub){return{type:8,loc:t,children:e}}function createCallExpression(e,t=[],i=locStub){return{type:14,loc:i,callee:e,arguments:t}}function createFunctionExpression(e,t=void 0,i=!1,a=!1,o=locStub){return{type:18,params:e,returns:t,newline:i,isSlot:a,loc:o}}function createConditionalExpression(e,t,i,a=!0){return{type:19,test:e,consequent:t,alternate:i,newline:a,loc:locStub}}function createCacheExpression(e,t,i=!1){return{type:20,index:e,value:t,isVNode:i,loc:locStub}}function createBlockStatement(e){return{type:21,body:e,loc:locStub}}const isStaticExp=e=>e.type===4&&e.isStatic,isBuiltInType=(e,t)=>e===t||e===hyphenate(t);function isCoreComponent(e){if(isBuiltInType(e,"Teleport"))return TELEPORT;if(isBuiltInType(e,"Suspense"))return SUSPENSE;if(isBuiltInType(e,"KeepAlive"))return KEEP_ALIVE;if(isBuiltInType(e,"BaseTransition"))return BASE_TRANSITION}const nonIdentifierRE=/^\d|[^\$\w]/,isSimpleIdentifier=e=>!nonIdentifierRE.test(e),validFirstIdentCharRE=/[A-Za-z_$\xA0-\uFFFF]/,validIdentCharRE=/[\.\?\w$\xA0-\uFFFF]/,whitespaceRE=/\s+[.[]\s*|\s*[.[]\s+/g,isMemberExpressionBrowser=e=>{e=e.trim().replace(whitespaceRE,d=>d.trim());let t=0,i=[],a=0,o=0,u=null;for(let d=0;d<e.length;d++){const n=e.charAt(d);switch(t){case 0:if(n==="[")i.push(t),t=1,a++;else if(n==="(")i.push(t),t=2,o++;else if(!(d===0?validFirstIdentCharRE:validIdentCharRE).test(n))return!1;break;case 1:n==="'"||n==='"'||n==="`"?(i.push(t),t=3,u=n):n==="["?a++:n==="]"&&(--a||(t=i.pop()));break;case 2:if(n==="'"||n==='"'||n==="`")i.push(t),t=3,u=n;else if(n==="(")o++;else if(n===")"){if(d===e.length-1)return!1;--o||(t=i.pop())}break;case 3:n===u&&(t=i.pop(),u=null);break}}return!a&&!o},isMemberExpression=isMemberExpressionBrowser;function getInnerRange(e,t,i){const o={source:e.source.slice(t,t+i),start:advancePositionWithClone(e.start,e.source,t),end:e.end};return i!=null&&(o.end=advancePositionWithClone(e.start,e.source,t+i)),o}function advancePositionWithClone(e,t,i=t.length){return advancePositionWithMutation(extend$7({},e),t,i)}function advancePositionWithMutation(e,t,i=t.length){let a=0,o=-1;for(let u=0;u<i;u++)t.charCodeAt(u)===10&&(a++,o=u);return e.offset+=i,e.line+=a,e.column=o===-1?e.column+i:i-o,e}function findDir(e,t,i=!1){for(let a=0;a<e.props.length;a++){const o=e.props[a];if(o.type===7&&(i||o.exp)&&(isString$1(t)?o.name===t:t.test(o.name)))return o}}function findProp(e,t,i=!1,a=!1){for(let o=0;o<e.props.length;o++){const u=e.props[o];if(u.type===6){if(i)continue;if(u.name===t&&(u.value||a))return u}else if(u.name==="bind"&&(u.exp||a)&&isStaticArgOf(u.arg,t))return u}}function isStaticArgOf(e,t){return!!(e&&isStaticExp(e)&&e.content===t)}function hasDynamicKeyVBind(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function isText(e){return e.type===5||e.type===2}function isVSlot(e){return e.type===7&&e.name==="slot"}function isTemplateNode(e){return e.type===1&&e.tagType===3}function isSlotOutlet(e){return e.type===1&&e.tagType===2}function getVNodeHelper(e,t){return e||t?CREATE_VNODE:CREATE_ELEMENT_VNODE}function getVNodeBlockHelper(e,t){return e||t?CREATE_BLOCK:CREATE_ELEMENT_BLOCK}const propsHelperSet=new Set([NORMALIZE_PROPS,GUARD_REACTIVE_PROPS]);function getUnnormalizedProps(e,t=[]){if(e&&!isString$1(e)&&e.type===14){const i=e.callee;if(!isString$1(i)&&propsHelperSet.has(i))return getUnnormalizedProps(e.arguments[0],t.concat(e))}return[e,t]}function injectProp(e,t,i){let a,o=e.type===13?e.props:e.arguments[2],u=[],d;if(o&&!isString$1(o)&&o.type===14){const n=getUnnormalizedProps(o);o=n[0],u=n[1],d=u[u.length-1]}if(o==null||isString$1(o))a=createObjectExpression([t]);else if(o.type===14){const n=o.arguments[0];!isString$1(n)&&n.type===15?hasProp(t,n)||n.properties.unshift(t):o.callee===TO_HANDLERS?a=createCallExpression(i.helper(MERGE_PROPS),[createObjectExpression([t]),o]):o.arguments.unshift(createObjectExpression([t])),!a&&(a=o)}else o.type===15?(hasProp(t,o)||o.properties.unshift(t),a=o):(a=createCallExpression(i.helper(MERGE_PROPS),[createObjectExpression([t]),o]),d&&d.callee===GUARD_REACTIVE_PROPS&&(d=u[u.length-2]));e.type===13?d?d.arguments[0]=a:e.props=a:d?d.arguments[0]=a:e.arguments[2]=a}function hasProp(e,t){let i=!1;if(e.key.type===4){const a=e.key.content;i=t.properties.some(o=>o.key.type===4&&o.key.content===a)}return i}function toValidAssetId(e,t){return`_${t}_${e.replace(/[^\w]/g,(i,a)=>i==="-"?"_":e.charCodeAt(a).toString())}`}function getMemoedVNodeCall(e){return e.type===14&&e.callee===WITH_MEMO?e.arguments[1].returns:e}function makeBlock(e,{helper:t,removeHelper:i,inSSR:a}){e.isBlock||(e.isBlock=!0,i(getVNodeHelper(a,e.isComponent)),t(OPEN_BLOCK),t(getVNodeBlockHelper(a,e.isComponent)))}function getCompatValue(e,t){const i=t.options?t.options.compatConfig:t.compatConfig,a=i&&i[e];return e==="MODE"?a||3:a}function isCompatEnabled(e,t){const i=getCompatValue("MODE",t),a=getCompatValue(e,t);return i===3?a===!0:a!==!1}function checkCompatEnabled(e,t,i,...a){return isCompatEnabled(e,t)}const decodeRE=/&(gt|lt|amp|apos|quot);/g,decodeMap={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},defaultParserOptions={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:NO,isPreTag:NO,isCustomElement:NO,decodeEntities:e=>e.replace(decodeRE,(t,i)=>decodeMap[i]),onError:defaultOnError,onWarn:defaultOnWarn,comments:!1};function baseParse(e,t={}){const i=createParserContext(e,t),a=getCursor(i);return createRoot(parseChildren(i,0,[]),getSelection(i,a))}function createParserContext(e,t){const i=extend$7({},defaultParserOptions);let a;for(a in t)i[a]=t[a]===void 0?defaultParserOptions[a]:t[a];return{options:i,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:i.onWarn}}function parseChildren(e,t,i){const a=last(i),o=a?a.ns:0,u=[];for(;!isEnd(e,t,i);){const n=e.source;let k;if(t===0||t===1){if(!e.inVPre&&startsWith(n,e.options.delimiters[0]))k=parseInterpolation(e,t);else if(t===0&&n[0]==="<")if(n.length===1)emitError(e,5,1);else if(n[1]==="!")startsWith(n,"<!--")?k=parseComment(e):startsWith(n,"<!DOCTYPE")?k=parseBogusComment(e):startsWith(n,"<![CDATA[")?o!==0?k=parseCDATA(e,i):(emitError(e,1),k=parseBogusComment(e)):(emitError(e,11),k=parseBogusComment(e));else if(n[1]==="/")if(n.length===2)emitError(e,5,2);else if(n[2]===">"){emitError(e,14,2),advanceBy(e,3);continue}else if(/[a-z]/i.test(n[2])){emitError(e,23),parseTag(e,1,a);continue}else emitError(e,12,2),k=parseBogusComment(e);else/[a-z]/i.test(n[1])?(k=parseElement(e,i),isCompatEnabled("COMPILER_NATIVE_TEMPLATE",e)&&k&&k.tag==="template"&&!k.props.some(j=>j.type===7&&isSpecialTemplateDirective(j.name))&&(k=k.children)):n[1]==="?"?(emitError(e,21,1),k=parseBogusComment(e)):emitError(e,12,1)}if(k||(k=parseText(e,t)),isArray$1(k))for(let j=0;j<k.length;j++)pushNode(u,k[j]);else pushNode(u,k)}let d=!1;if(t!==2&&t!==1){const n=e.options.whitespace!=="preserve";for(let k=0;k<u.length;k++){const j=u[k];if(j.type===2)if(e.inPre)j.content=j.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test(j.content))n&&(j.content=j.content.replace(/[\t\r\n\f ]+/g," "));else{const Z=u[k-1],z=u[k+1];!Z||!z||n&&(Z.type===3&&z.type===3||Z.type===3&&z.type===1||Z.type===1&&z.type===3||Z.type===1&&z.type===1&&/[\r\n]/.test(j.content))?(d=!0,u[k]=null):j.content=" "}else j.type===3&&!e.options.comments&&(d=!0,u[k]=null)}if(e.inPre&&a&&e.options.isPreTag(a.tag)){const k=u[0];k&&k.type===2&&(k.content=k.content.replace(/^\r?\n/,""))}}return d?u.filter(Boolean):u}function pushNode(e,t){if(t.type===2){const i=last(e);if(i&&i.type===2&&i.loc.end.offset===t.loc.start.offset){i.content+=t.content,i.loc.end=t.loc.end,i.loc.source+=t.loc.source;return}}e.push(t)}function parseCDATA(e,t){advanceBy(e,9);const i=parseChildren(e,3,t);return e.source.length===0?emitError(e,6):advanceBy(e,3),i}function parseComment(e){const t=getCursor(e);let i;const a=/--(\!)?>/.exec(e.source);if(!a)i=e.source.slice(4),advanceBy(e,e.source.length),emitError(e,7);else{a.index<=3&&emitError(e,0),a[1]&&emitError(e,10),i=e.source.slice(4,a.index);const o=e.source.slice(0,a.index);let u=1,d=0;for(;(d=o.indexOf("<!--",u))!==-1;)advanceBy(e,d-u+1),d+4<o.length&&emitError(e,16),u=d+1;advanceBy(e,a.index+a[0].length-u+1)}return{type:3,content:i,loc:getSelection(e,t)}}function parseBogusComment(e){const t=getCursor(e),i=e.source[1]==="?"?1:2;let a;const o=e.source.indexOf(">");return o===-1?(a=e.source.slice(i),advanceBy(e,e.source.length)):(a=e.source.slice(i,o),advanceBy(e,o+1)),{type:3,content:a,loc:getSelection(e,t)}}function parseElement(e,t){const i=e.inPre,a=e.inVPre,o=last(t),u=parseTag(e,0,o),d=e.inPre&&!i,n=e.inVPre&&!a;if(u.isSelfClosing||e.options.isVoidTag(u.tag))return d&&(e.inPre=!1),n&&(e.inVPre=!1),u;t.push(u);const k=e.options.getTextMode(u,o),j=parseChildren(e,k,t);t.pop();{const Z=u.props.find(z=>z.type===6&&z.name==="inline-template");if(Z&&checkCompatEnabled("COMPILER_INLINE_TEMPLATE",e,Z.loc)){const z=getSelection(e,u.loc.end);Z.value={type:2,content:z.source,loc:z}}}if(u.children=j,startsWithEndTagOpen(e.source,u.tag))parseTag(e,1,o);else if(emitError(e,24,0,u.loc.start),e.source.length===0&&u.tag.toLowerCase()==="script"){const Z=j[0];Z&&startsWith(Z.loc.source,"<!--")&&emitError(e,8)}return u.loc=getSelection(e,u.loc.start),d&&(e.inPre=!1),n&&(e.inVPre=!1),u}const isSpecialTemplateDirective=makeMap("if,else,else-if,for,slot");function parseTag(e,t,i){const a=getCursor(e),o=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),u=o[1],d=e.options.getNamespace(u,i);advanceBy(e,o[0].length),advanceSpaces(e);const n=getCursor(e),k=e.source;e.options.isPreTag(u)&&(e.inPre=!0);let j=parseAttributes(e,t);t===0&&!e.inVPre&&j.some(H=>H.type===7&&H.name==="pre")&&(e.inVPre=!0,extend$7(e,n),e.source=k,j=parseAttributes(e,t).filter(H=>H.name!=="v-pre"));let Z=!1;if(e.source.length===0?emitError(e,9):(Z=startsWith(e.source,"/>"),t===1&&Z&&emitError(e,4),advanceBy(e,Z?2:1)),t===1)return;let z=0;return e.inVPre||(u==="slot"?z=2:u==="template"?j.some(H=>H.type===7&&isSpecialTemplateDirective(H.name))&&(z=3):isComponent(u,j,e)&&(z=1)),{type:1,ns:d,tag:u,tagType:z,props:j,isSelfClosing:Z,children:[],loc:getSelection(e,a),codegenNode:void 0}}function isComponent(e,t,i){const a=i.options;if(a.isCustomElement(e))return!1;if(e==="component"||/^[A-Z]/.test(e)||isCoreComponent(e)||a.isBuiltInComponent&&a.isBuiltInComponent(e)||a.isNativeTag&&!a.isNativeTag(e))return!0;for(let o=0;o<t.length;o++){const u=t[o];if(u.type===6){if(u.name==="is"&&u.value){if(u.value.content.startsWith("vue:"))return!0;if(checkCompatEnabled("COMPILER_IS_ON_ELEMENT",i,u.loc))return!0}}else{if(u.name==="is")return!0;if(u.name==="bind"&&isStaticArgOf(u.arg,"is")&&checkCompatEnabled("COMPILER_IS_ON_ELEMENT",i,u.loc))return!0}}}function parseAttributes(e,t){const i=[],a=new Set;for(;e.source.length>0&&!startsWith(e.source,">")&&!startsWith(e.source,"/>");){if(startsWith(e.source,"/")){emitError(e,22),advanceBy(e,1),advanceSpaces(e);continue}t===1&&emitError(e,3);const o=parseAttribute(e,a);o.type===6&&o.value&&o.name==="class"&&(o.value.content=o.value.content.replace(/\s+/g," ").trim()),t===0&&i.push(o),/^[^\t\r\n\f />]/.test(e.source)&&emitError(e,15),advanceSpaces(e)}return i}function parseAttribute(e,t){const i=getCursor(e),o=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(o)&&emitError(e,2),t.add(o),o[0]==="="&&emitError(e,19);{const n=/["'<]/g;let k;for(;k=n.exec(o);)emitError(e,17,k.index)}advanceBy(e,o.length);let u;/^[\t\r\n\f ]*=/.test(e.source)&&(advanceSpaces(e),advanceBy(e,1),advanceSpaces(e),u=parseAttributeValue(e),u||emitError(e,13));const d=getSelection(e,i);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(o)){const n=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(o);let k=startsWith(o,"."),j=n[1]||(k||startsWith(o,":")?"bind":startsWith(o,"@")?"on":"slot"),Z;if(n[2]){const H=j==="slot",Y=o.lastIndexOf(n[2]),I=getSelection(e,getNewPosition(e,i,Y),getNewPosition(e,i,Y+n[2].length+(H&&n[3]||"").length));let B=n[2],U=!0;B.startsWith("[")?(U=!1,B.endsWith("]")?B=B.slice(1,B.length-1):(emitError(e,27),B=B.slice(1))):H&&(B+=n[3]||""),Z={type:4,content:B,isStatic:U,constType:U?3:0,loc:I}}if(u&&u.isQuoted){const H=u.loc;H.start.offset++,H.start.column++,H.end=advancePositionWithClone(H.start,u.content),H.source=H.source.slice(1,-1)}const z=n[3]?n[3].slice(1).split("."):[];return k&&z.push("prop"),j==="bind"&&Z&&z.includes("sync")&&checkCompatEnabled("COMPILER_V_BIND_SYNC",e,d,Z.loc.source)&&(j="model",z.splice(z.indexOf("sync"),1)),{type:7,name:j,exp:u&&{type:4,content:u.content,isStatic:!1,constType:0,loc:u.loc},arg:Z,modifiers:z,loc:d}}return!e.inVPre&&startsWith(o,"v-")&&emitError(e,26),{type:6,name:o,value:u&&{type:2,content:u.content,loc:u.loc},loc:d}}function parseAttributeValue(e){const t=getCursor(e);let i;const a=e.source[0],o=a==='"'||a==="'";if(o){advanceBy(e,1);const u=e.source.indexOf(a);u===-1?i=parseTextData(e,e.source.length,4):(i=parseTextData(e,u,4),advanceBy(e,1))}else{const u=/^[^\t\r\n\f >]+/.exec(e.source);if(!u)return;const d=/["'<=`]/g;let n;for(;n=d.exec(u[0]);)emitError(e,18,n.index);i=parseTextData(e,u[0].length,4)}return{content:i,isQuoted:o,loc:getSelection(e,t)}}function parseInterpolation(e,t){const[i,a]=e.options.delimiters,o=e.source.indexOf(a,i.length);if(o===-1){emitError(e,25);return}const u=getCursor(e);advanceBy(e,i.length);const d=getCursor(e),n=getCursor(e),k=o-i.length,j=e.source.slice(0,k),Z=parseTextData(e,k,t),z=Z.trim(),H=Z.indexOf(z);H>0&&advancePositionWithMutation(d,j,H);const Y=k-(Z.length-z.length-H);return advancePositionWithMutation(n,j,Y),advanceBy(e,a.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:z,loc:getSelection(e,d,n)},loc:getSelection(e,u)}}function parseText(e,t){const i=t===3?["]]>"]:["<",e.options.delimiters[0]];let a=e.source.length;for(let d=0;d<i.length;d++){const n=e.source.indexOf(i[d],1);n!==-1&&a>n&&(a=n)}const o=getCursor(e);return{type:2,content:parseTextData(e,a,t),loc:getSelection(e,o)}}function parseTextData(e,t,i){const a=e.source.slice(0,t);return advanceBy(e,t),i===2||i===3||!a.includes("&")?a:e.options.decodeEntities(a,i===4)}function getCursor(e){const{column:t,line:i,offset:a}=e;return{column:t,line:i,offset:a}}function getSelection(e,t,i){return i=i||getCursor(e),{start:t,end:i,source:e.originalSource.slice(t.offset,i.offset)}}function last(e){return e[e.length-1]}function startsWith(e,t){return e.startsWith(t)}function advanceBy(e,t){const{source:i}=e;advancePositionWithMutation(e,i,t),e.source=i.slice(t)}function advanceSpaces(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&advanceBy(e,t[0].length)}function getNewPosition(e,t,i){return advancePositionWithClone(t,e.originalSource.slice(t.offset,i),i)}function emitError(e,t,i,a=getCursor(e)){i&&(a.offset+=i,a.column+=i),e.options.onError(createCompilerError(t,{start:a,end:a,source:""}))}function isEnd(e,t,i){const a=e.source;switch(t){case 0:if(startsWith(a,"</")){for(let o=i.length-1;o>=0;--o)if(startsWithEndTagOpen(a,i[o].tag))return!0}break;case 1:case 2:{const o=last(i);if(o&&startsWithEndTagOpen(a,o.tag))return!0;break}case 3:if(startsWith(a,"]]>"))return!0;break}return!a}function startsWithEndTagOpen(e,t){return startsWith(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function hoistStatic(e,t){walk(e,t,isSingleElementRoot(e,e.children[0]))}function isSingleElementRoot(e,t){const{children:i}=e;return i.length===1&&t.type===1&&!isSlotOutlet(t)}function walk(e,t,i=!1){const{children:a}=e,o=a.length;let u=0;for(let d=0;d<a.length;d++){const n=a[d];if(n.type===1&&n.tagType===0){const k=i?0:getConstantType(n,t);if(k>0){if(k>=2){n.codegenNode.patchFlag="-1",n.codegenNode=t.hoist(n.codegenNode),u++;continue}}else{const j=n.codegenNode;if(j.type===13){const Z=getPatchFlag(j);if((!Z||Z===512||Z===1)&&getGeneratedPropsConstantType(n,t)>=2){const z=getNodeProps(n);z&&(j.props=t.hoist(z))}j.dynamicProps&&(j.dynamicProps=t.hoist(j.dynamicProps))}}}if(n.type===1){const k=n.tagType===1;k&&t.scopes.vSlot++,walk(n,t),k&&t.scopes.vSlot--}else if(n.type===11)walk(n,t,n.children.length===1);else if(n.type===9)for(let k=0;k<n.branches.length;k++)walk(n.branches[k],t,n.branches[k].children.length===1)}u&&t.transformHoist&&t.transformHoist(a,t,e),u&&u===o&&e.type===1&&e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&isArray$1(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(createArrayExpression(e.codegenNode.children)))}function getConstantType(e,t){const{constantCache:i}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const a=i.get(e);if(a!==void 0)return a;const o=e.codegenNode;if(o.type!==13||o.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject")return 0;if(getPatchFlag(o))return i.set(e,0),0;{let n=3;const k=getGeneratedPropsConstantType(e,t);if(k===0)return i.set(e,0),0;k<n&&(n=k);for(let j=0;j<e.children.length;j++){const Z=getConstantType(e.children[j],t);if(Z===0)return i.set(e,0),0;Z<n&&(n=Z)}if(n>1)for(let j=0;j<e.props.length;j++){const Z=e.props[j];if(Z.type===7&&Z.name==="bind"&&Z.exp){const z=getConstantType(Z.exp,t);if(z===0)return i.set(e,0),0;z<n&&(n=z)}}if(o.isBlock){for(let j=0;j<e.props.length;j++)if(e.props[j].type===7)return i.set(e,0),0;t.removeHelper(OPEN_BLOCK),t.removeHelper(getVNodeBlockHelper(t.inSSR,o.isComponent)),o.isBlock=!1,t.helper(getVNodeHelper(t.inSSR,o.isComponent))}return i.set(e,n),n}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return getConstantType(e.content,t);case 4:return e.constType;case 8:let d=3;for(let n=0;n<e.children.length;n++){const k=e.children[n];if(isString$1(k)||isSymbol$1(k))continue;const j=getConstantType(k,t);if(j===0)return 0;j<d&&(d=j)}return d;default:return 0}}const allowHoistedHelperSet=new Set([NORMALIZE_CLASS,NORMALIZE_STYLE,NORMALIZE_PROPS,GUARD_REACTIVE_PROPS]);function getConstantTypeOfHelperCall(e,t){if(e.type===14&&!isString$1(e.callee)&&allowHoistedHelperSet.has(e.callee)){const i=e.arguments[0];if(i.type===4)return getConstantType(i,t);if(i.type===14)return getConstantTypeOfHelperCall(i,t)}return 0}function getGeneratedPropsConstantType(e,t){let i=3;const a=getNodeProps(e);if(a&&a.type===15){const{properties:o}=a;for(let u=0;u<o.length;u++){const{key:d,value:n}=o[u],k=getConstantType(d,t);if(k===0)return k;k<i&&(i=k);let j;if(n.type===4?j=getConstantType(n,t):n.type===14?j=getConstantTypeOfHelperCall(n,t):j=0,j===0)return j;j<i&&(i=j)}}return i}function getNodeProps(e){const t=e.codegenNode;if(t.type===13)return t.props}function getPatchFlag(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function createTransformContext(e,{filename:t="",prefixIdentifiers:i=!1,hoistStatic:a=!1,cacheHandlers:o=!1,nodeTransforms:u=[],directiveTransforms:d={},transformHoist:n=null,isBuiltInComponent:k=NOOP,isCustomElement:j=NOOP,expressionPlugins:Z=[],scopeId:z=null,slotted:H=!0,ssr:Y=!1,inSSR:I=!1,ssrCssVars:B="",bindingMetadata:U=EMPTY_OBJ,inline:T=!1,isTS:C=!1,onError:P=defaultOnError,onWarn:G=defaultOnWarn,compatConfig:q}){const N=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),ne={selfName:N&&capitalize(camelize$1(N[1])),prefixIdentifiers:i,hoistStatic:a,cacheHandlers:o,nodeTransforms:u,directiveTransforms:d,transformHoist:n,isBuiltInComponent:k,isCustomElement:j,expressionPlugins:Z,scopeId:z,slotted:H,ssr:Y,inSSR:I,ssrCssVars:B,bindingMetadata:U,inline:T,isTS:C,onError:P,onWarn:G,compatConfig:q,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(K){const L=ne.helpers.get(K)||0;return ne.helpers.set(K,L+1),K},removeHelper(K){const L=ne.helpers.get(K);if(L){const E=L-1;E?ne.helpers.set(K,E):ne.helpers.delete(K)}},helperString(K){return`_${helperNameMap[ne.helper(K)]}`},replaceNode(K){ne.parent.children[ne.childIndex]=ne.currentNode=K},removeNode(K){const L=ne.parent.children,E=K?L.indexOf(K):ne.currentNode?ne.childIndex:-1;!K||K===ne.currentNode?(ne.currentNode=null,ne.onNodeRemoved()):ne.childIndex>E&&(ne.childIndex--,ne.onNodeRemoved()),ne.parent.children.splice(E,1)},onNodeRemoved:()=>{},addIdentifiers(K){},removeIdentifiers(K){},hoist(K){isString$1(K)&&(K=createSimpleExpression(K)),ne.hoists.push(K);const L=createSimpleExpression(`_hoisted_${ne.hoists.length}`,!1,K.loc,2);return L.hoisted=K,L},cache(K,L=!1){return createCacheExpression(ne.cached++,K,L)}};return ne.filters=new Set,ne}function transform(e,t){const i=createTransformContext(e,t);traverseNode(e,i),t.hoistStatic&&hoistStatic(e,i),t.ssr||createRootCodegen(e,i),e.helpers=[...i.helpers.keys()],e.components=[...i.components],e.directives=[...i.directives],e.imports=i.imports,e.hoists=i.hoists,e.temps=i.temps,e.cached=i.cached,e.filters=[...i.filters]}function createRootCodegen(e,t){const{helper:i}=t,{children:a}=e;if(a.length===1){const o=a[0];if(isSingleElementRoot(e,o)&&o.codegenNode){const u=o.codegenNode;u.type===13&&makeBlock(u,t),e.codegenNode=u}else e.codegenNode=o}else if(a.length>1){let o=64;e.codegenNode=createVNodeCall(t,i(FRAGMENT),void 0,e.children,o+"",void 0,void 0,!0,void 0,!1)}}function traverseChildren(e,t){let i=0;const a=()=>{i--};for(;i<e.children.length;i++){const o=e.children[i];isString$1(o)||(t.parent=e,t.childIndex=i,t.onNodeRemoved=a,traverseNode(o,t))}}function traverseNode(e,t){t.currentNode=e;const{nodeTransforms:i}=t,a=[];for(let u=0;u<i.length;u++){const d=i[u](e,t);if(d&&(isArray$1(d)?a.push(...d):a.push(d)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(CREATE_COMMENT);break;case 5:t.ssr||t.helper(TO_DISPLAY_STRING);break;case 9:for(let u=0;u<e.branches.length;u++)traverseNode(e.branches[u],t);break;case 10:case 11:case 1:case 0:traverseChildren(e,t);break}t.currentNode=e;let o=a.length;for(;o--;)a[o]()}function createStructuralDirectiveTransform(e,t){const i=isString$1(e)?a=>a===e:a=>e.test(a);return(a,o)=>{if(a.type===1){const{props:u}=a;if(a.tagType===3&&u.some(isVSlot))return;const d=[];for(let n=0;n<u.length;n++){const k=u[n];if(k.type===7&&i(k.name)){u.splice(n,1),n--;const j=t(a,k,o);j&&d.push(j)}}return d}}}const PURE_ANNOTATION="/*#__PURE__*/",aliasHelper=e=>`${helperNameMap[e]}: _${helperNameMap[e]}`;function createCodegenContext(e,{mode:t="function",prefixIdentifiers:i=t==="module",sourceMap:a=!1,filename:o="template.vue.html",scopeId:u=null,optimizeImports:d=!1,runtimeGlobalName:n="Vue",runtimeModuleName:k="vue",ssrRuntimeModuleName:j="vue/server-renderer",ssr:Z=!1,isTS:z=!1,inSSR:H=!1}){const Y={mode:t,prefixIdentifiers:i,sourceMap:a,filename:o,scopeId:u,optimizeImports:d,runtimeGlobalName:n,runtimeModuleName:k,ssrRuntimeModuleName:j,ssr:Z,isTS:z,inSSR:H,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(B){return`_${helperNameMap[B]}`},push(B,U){Y.code+=B},indent(){I(++Y.indentLevel)},deindent(B=!1){B?--Y.indentLevel:I(--Y.indentLevel)},newline(){I(Y.indentLevel)}};function I(B){Y.push(`
`+"  ".repeat(B))}return Y}function generate(e,t={}){const i=createCodegenContext(e,t);t.onContextCreated&&t.onContextCreated(i);const{mode:a,push:o,prefixIdentifiers:u,indent:d,deindent:n,newline:k,scopeId:j,ssr:Z}=i,z=e.helpers.length>0,H=!u&&a!=="module";genFunctionPreamble(e,i);const I=Z?"ssrRender":"render",U=(Z?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(o(`function ${I}(${U}) {`),d(),H&&(o("with (_ctx) {"),d(),z&&(o(`const { ${e.helpers.map(aliasHelper).join(", ")} } = _Vue`),o(`
`),k())),e.components.length&&(genAssets(e.components,"component",i),(e.directives.length||e.temps>0)&&k()),e.directives.length&&(genAssets(e.directives,"directive",i),e.temps>0&&k()),e.filters&&e.filters.length&&(k(),genAssets(e.filters,"filter",i),k()),e.temps>0){o("let ");for(let T=0;T<e.temps;T++)o(`${T>0?", ":""}_temp${T}`)}return(e.components.length||e.directives.length||e.temps)&&(o(`
`),k()),Z||o("return "),e.codegenNode?genNode(e.codegenNode,i):o("null"),H&&(n(),o("}")),n(),o("}"),{ast:e,code:i.code,preamble:"",map:i.map?i.map.toJSON():void 0}}function genFunctionPreamble(e,t){const{ssr:i,prefixIdentifiers:a,push:o,newline:u,runtimeModuleName:d,runtimeGlobalName:n,ssrRuntimeModuleName:k}=t,j=n;if(e.helpers.length>0&&(o(`const _Vue = ${j}
`),e.hoists.length)){const Z=[CREATE_VNODE,CREATE_ELEMENT_VNODE,CREATE_COMMENT,CREATE_TEXT,CREATE_STATIC].filter(z=>e.helpers.includes(z)).map(aliasHelper).join(", ");o(`const { ${Z} } = _Vue
`)}genHoists(e.hoists,t),u(),o("return ")}function genAssets(e,t,{helper:i,push:a,newline:o,isTS:u}){const d=i(t==="filter"?RESOLVE_FILTER:t==="component"?RESOLVE_COMPONENT:RESOLVE_DIRECTIVE);for(let n=0;n<e.length;n++){let k=e[n];const j=k.endsWith("__self");j&&(k=k.slice(0,-6)),a(`const ${toValidAssetId(k,t)} = ${d}(${JSON.stringify(k)}${j?", true":""})${u?"!":""}`),n<e.length-1&&o()}}function genHoists(e,t){if(!e.length)return;t.pure=!0;const{push:i,newline:a,helper:o,scopeId:u,mode:d}=t;a();for(let n=0;n<e.length;n++){const k=e[n];k&&(i(`const _hoisted_${n+1} = `),genNode(k,t),a())}t.pure=!1}function genNodeListAsArray(e,t){const i=e.length>3||!1;t.push("["),i&&t.indent(),genNodeList(e,t,i),i&&t.deindent(),t.push("]")}function genNodeList(e,t,i=!1,a=!0){const{push:o,newline:u}=t;for(let d=0;d<e.length;d++){const n=e[d];isString$1(n)?o(n):isArray$1(n)?genNodeListAsArray(n,t):genNode(n,t),d<e.length-1&&(i?(a&&o(","),u()):a&&o(", "))}}function genNode(e,t){if(isString$1(e)){t.push(e);return}if(isSymbol$1(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:genNode(e.codegenNode,t);break;case 2:genText(e,t);break;case 4:genExpression(e,t);break;case 5:genInterpolation(e,t);break;case 12:genNode(e.codegenNode,t);break;case 8:genCompoundExpression(e,t);break;case 3:genComment(e,t);break;case 13:genVNodeCall(e,t);break;case 14:genCallExpression(e,t);break;case 15:genObjectExpression(e,t);break;case 17:genArrayExpression(e,t);break;case 18:genFunctionExpression(e,t);break;case 19:genConditionalExpression(e,t);break;case 20:genCacheExpression(e,t);break;case 21:genNodeList(e.body,t,!0,!1);break}}function genText(e,t){t.push(JSON.stringify(e.content),e)}function genExpression(e,t){const{content:i,isStatic:a}=e;t.push(a?JSON.stringify(i):i,e)}function genInterpolation(e,t){const{push:i,helper:a,pure:o}=t;o&&i(PURE_ANNOTATION),i(`${a(TO_DISPLAY_STRING)}(`),genNode(e.content,t),i(")")}function genCompoundExpression(e,t){for(let i=0;i<e.children.length;i++){const a=e.children[i];isString$1(a)?t.push(a):genNode(a,t)}}function genExpressionAsPropertyKey(e,t){const{push:i}=t;if(e.type===8)i("["),genCompoundExpression(e,t),i("]");else if(e.isStatic){const a=isSimpleIdentifier(e.content)?e.content:JSON.stringify(e.content);i(a,e)}else i(`[${e.content}]`,e)}function genComment(e,t){const{push:i,helper:a,pure:o}=t;o&&i(PURE_ANNOTATION),i(`${a(CREATE_COMMENT)}(${JSON.stringify(e.content)})`,e)}function genVNodeCall(e,t){const{push:i,helper:a,pure:o}=t,{tag:u,props:d,children:n,patchFlag:k,dynamicProps:j,directives:Z,isBlock:z,disableTracking:H,isComponent:Y}=e;Z&&i(a(WITH_DIRECTIVES)+"("),z&&i(`(${a(OPEN_BLOCK)}(${H?"true":""}), `),o&&i(PURE_ANNOTATION);const I=z?getVNodeBlockHelper(t.inSSR,Y):getVNodeHelper(t.inSSR,Y);i(a(I)+"(",e),genNodeList(genNullableArgs([u,d,n,k,j]),t),i(")"),z&&i(")"),Z&&(i(", "),genNode(Z,t),i(")"))}function genNullableArgs(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(i=>i||"null")}function genCallExpression(e,t){const{push:i,helper:a,pure:o}=t,u=isString$1(e.callee)?e.callee:a(e.callee);o&&i(PURE_ANNOTATION),i(u+"(",e),genNodeList(e.arguments,t),i(")")}function genObjectExpression(e,t){const{push:i,indent:a,deindent:o,newline:u}=t,{properties:d}=e;if(!d.length){i("{}",e);return}const n=d.length>1||!1;i(n?"{":"{ "),n&&a();for(let k=0;k<d.length;k++){const{key:j,value:Z}=d[k];genExpressionAsPropertyKey(j,t),i(": "),genNode(Z,t),k<d.length-1&&(i(","),u())}n&&o(),i(n?"}":" }")}function genArrayExpression(e,t){genNodeListAsArray(e.elements,t)}function genFunctionExpression(e,t){const{push:i,indent:a,deindent:o}=t,{params:u,returns:d,body:n,newline:k,isSlot:j}=e;j&&i(`_${helperNameMap[WITH_CTX]}(`),i("(",e),isArray$1(u)?genNodeList(u,t):u&&genNode(u,t),i(") => "),(k||n)&&(i("{"),a()),d?(k&&i("return "),isArray$1(d)?genNodeListAsArray(d,t):genNode(d,t)):n&&genNode(n,t),(k||n)&&(o(),i("}")),j&&(e.isNonScopedSlot&&i(", undefined, true"),i(")"))}function genConditionalExpression(e,t){const{test:i,consequent:a,alternate:o,newline:u}=e,{push:d,indent:n,deindent:k,newline:j}=t;if(i.type===4){const z=!isSimpleIdentifier(i.content);z&&d("("),genExpression(i,t),z&&d(")")}else d("("),genNode(i,t),d(")");u&&n(),t.indentLevel++,u||d(" "),d("? "),genNode(a,t),t.indentLevel--,u&&j(),u||d(" "),d(": ");const Z=o.type===19;Z||t.indentLevel++,genNode(o,t),Z||t.indentLevel--,u&&k(!0)}function genCacheExpression(e,t){const{push:i,helper:a,indent:o,deindent:u,newline:d}=t;i(`_cache[${e.index}] || (`),e.isVNode&&(o(),i(`${a(SET_BLOCK_TRACKING)}(-1),`),d()),i(`_cache[${e.index}] = `),genNode(e.value,t),e.isVNode&&(i(","),d(),i(`${a(SET_BLOCK_TRACKING)}(1),`),d(),i(`_cache[${e.index}]`),u()),i(")")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const transformIf=createStructuralDirectiveTransform(/^(if|else|else-if)$/,(e,t,i)=>processIf(e,t,i,(a,o,u)=>{const d=i.parent.children;let n=d.indexOf(a),k=0;for(;n-->=0;){const j=d[n];j&&j.type===9&&(k+=j.branches.length)}return()=>{if(u)a.codegenNode=createCodegenNodeForBranch(o,k,i);else{const j=getParentCondition(a.codegenNode);j.alternate=createCodegenNodeForBranch(o,k+a.branches.length-1,i)}}}));function processIf(e,t,i,a){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const o=t.exp?t.exp.loc:e.loc;i.onError(createCompilerError(28,t.loc)),t.exp=createSimpleExpression("true",!1,o)}if(t.name==="if"){const o=createIfBranch(e,t),u={type:9,loc:e.loc,branches:[o]};if(i.replaceNode(u),a)return a(u,o,!0)}else{const o=i.parent.children;let u=o.indexOf(e);for(;u-->=-1;){const d=o[u];if(d&&d.type===3){i.removeNode(d);continue}if(d&&d.type===2&&!d.content.trim().length){i.removeNode(d);continue}if(d&&d.type===9){t.name==="else-if"&&d.branches[d.branches.length-1].condition===void 0&&i.onError(createCompilerError(30,e.loc)),i.removeNode();const n=createIfBranch(e,t);d.branches.push(n);const k=a&&a(d,n,!1);traverseNode(n,i),k&&k(),i.currentNode=null}else i.onError(createCompilerError(30,e.loc));break}}}function createIfBranch(e,t){const i=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:i&&!findDir(e,"for")?e.children:[e],userKey:findProp(e,"key"),isTemplateIf:i}}function createCodegenNodeForBranch(e,t,i){return e.condition?createConditionalExpression(e.condition,createChildrenCodegenNode(e,t,i),createCallExpression(i.helper(CREATE_COMMENT),['""',"true"])):createChildrenCodegenNode(e,t,i)}function createChildrenCodegenNode(e,t,i){const{helper:a}=i,o=createObjectProperty("key",createSimpleExpression(`${t}`,!1,locStub,2)),{children:u}=e,d=u[0];if(u.length!==1||d.type!==1)if(u.length===1&&d.type===11){const k=d.codegenNode;return injectProp(k,o,i),k}else{let k=64;return createVNodeCall(i,a(FRAGMENT),createObjectExpression([o]),u,k+"",void 0,void 0,!0,!1,!1,e.loc)}else{const k=d.codegenNode,j=getMemoedVNodeCall(k);return j.type===13&&makeBlock(j,i),injectProp(j,o,i),k}}function getParentCondition(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const transformFor=createStructuralDirectiveTransform("for",(e,t,i)=>{const{helper:a,removeHelper:o}=i;return processFor(e,t,i,u=>{const d=createCallExpression(a(RENDER_LIST),[u.source]),n=isTemplateNode(e),k=findDir(e,"memo"),j=findProp(e,"key"),Z=j&&(j.type===6?createSimpleExpression(j.value.content,!0):j.exp),z=j?createObjectProperty("key",Z):null,H=u.source.type===4&&u.source.constType>0,Y=H?64:j?128:256;return u.codegenNode=createVNodeCall(i,a(FRAGMENT),void 0,d,Y+"",void 0,void 0,!0,!H,!1,e.loc),()=>{let I;const{children:B}=u,U=B.length!==1||B[0].type!==1,T=isSlotOutlet(e)?e:n&&e.children.length===1&&isSlotOutlet(e.children[0])?e.children[0]:null;if(T?(I=T.codegenNode,n&&z&&injectProp(I,z,i)):U?I=createVNodeCall(i,a(FRAGMENT),z?createObjectExpression([z]):void 0,e.children,"64",void 0,void 0,!0,void 0,!1):(I=B[0].codegenNode,n&&z&&injectProp(I,z,i),I.isBlock!==!H&&(I.isBlock?(o(OPEN_BLOCK),o(getVNodeBlockHelper(i.inSSR,I.isComponent))):o(getVNodeHelper(i.inSSR,I.isComponent))),I.isBlock=!H,I.isBlock?(a(OPEN_BLOCK),a(getVNodeBlockHelper(i.inSSR,I.isComponent))):a(getVNodeHelper(i.inSSR,I.isComponent))),k){const C=createFunctionExpression(createForLoopParams(u.parseResult,[createSimpleExpression("_cached")]));C.body=createBlockStatement([createCompoundExpression(["const _memo = (",k.exp,")"]),createCompoundExpression(["if (_cached",...Z?[" && _cached.key === ",Z]:[],` && ${i.helperString(IS_MEMO_SAME)}(_cached, _memo)) return _cached`]),createCompoundExpression(["const _item = ",I]),createSimpleExpression("_item.memo = _memo"),createSimpleExpression("return _item")]),d.arguments.push(C,createSimpleExpression("_cache"),createSimpleExpression(String(i.cached++)))}else d.arguments.push(createFunctionExpression(createForLoopParams(u.parseResult),I,!0))}})});function processFor(e,t,i,a){if(!t.exp){i.onError(createCompilerError(31,t.loc));return}const o=parseForExpression(t.exp);if(!o){i.onError(createCompilerError(32,t.loc));return}const{addIdentifiers:u,removeIdentifiers:d,scopes:n}=i,{source:k,value:j,key:Z,index:z}=o,H={type:11,loc:t.loc,source:k,valueAlias:j,keyAlias:Z,objectIndexAlias:z,parseResult:o,children:isTemplateNode(e)?e.children:[e]};i.replaceNode(H),n.vFor++;const Y=a&&a(H);return()=>{n.vFor--,Y&&Y()}}const forAliasRE=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,forIteratorRE=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,stripParensRE=/^\(|\)$/g;function parseForExpression(e,t){const i=e.loc,a=e.content,o=a.match(forAliasRE);if(!o)return;const[,u,d]=o,n={source:createAliasExpression(i,d.trim(),a.indexOf(d,u.length)),value:void 0,key:void 0,index:void 0};let k=u.trim().replace(stripParensRE,"").trim();const j=u.indexOf(k),Z=k.match(forIteratorRE);if(Z){k=k.replace(forIteratorRE,"").trim();const z=Z[1].trim();let H;if(z&&(H=a.indexOf(z,j+k.length),n.key=createAliasExpression(i,z,H)),Z[2]){const Y=Z[2].trim();Y&&(n.index=createAliasExpression(i,Y,a.indexOf(Y,n.key?H+z.length:j+k.length)))}}return k&&(n.value=createAliasExpression(i,k,j)),n}function createAliasExpression(e,t,i){return createSimpleExpression(t,!1,getInnerRange(e,i,t.length))}function createForLoopParams({value:e,key:t,index:i},a=[]){return createParamsList([e,t,i,...a])}function createParamsList(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((i,a)=>i||createSimpleExpression("_".repeat(a+1),!1))}const defaultFallback=createSimpleExpression("undefined",!1),trackSlotScopes=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const i=findDir(e,"slot");if(i)return i.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},buildClientSlotFn=(e,t,i)=>createFunctionExpression(e,t,!1,!0,t.length?t[0].loc:i);function buildSlots(e,t,i=buildClientSlotFn){t.helper(WITH_CTX);const{children:a,loc:o}=e,u=[],d=[];let n=t.scopes.vSlot>0||t.scopes.vFor>0;const k=findDir(e,"slot",!0);if(k){const{arg:U,exp:T}=k;U&&!isStaticExp(U)&&(n=!0),u.push(createObjectProperty(U||createSimpleExpression("default",!0),i(T,a,o)))}let j=!1,Z=!1;const z=[],H=new Set;let Y=0;for(let U=0;U<a.length;U++){const T=a[U];let C;if(!isTemplateNode(T)||!(C=findDir(T,"slot",!0))){T.type!==3&&z.push(T);continue}if(k){t.onError(createCompilerError(37,C.loc));break}j=!0;const{children:P,loc:G}=T,{arg:q=createSimpleExpression("default",!0),exp:N,loc:ne}=C;let K;isStaticExp(q)?K=q?q.content:"default":n=!0;const L=i(N,P,G);let E,w,g;if(E=findDir(T,"if"))n=!0,d.push(createConditionalExpression(E.exp,buildDynamicSlot(q,L,Y++),defaultFallback));else if(w=findDir(T,/^else(-if)?$/,!0)){let A=U,m;for(;A--&&(m=a[A],m.type===3););if(m&&isTemplateNode(m)&&findDir(m,"if")){a.splice(U,1),U--;let y=d[d.length-1];for(;y.alternate.type===19;)y=y.alternate;y.alternate=w.exp?createConditionalExpression(w.exp,buildDynamicSlot(q,L,Y++),defaultFallback):buildDynamicSlot(q,L,Y++)}else t.onError(createCompilerError(30,w.loc))}else if(g=findDir(T,"for")){n=!0;const A=g.parseResult||parseForExpression(g.exp);A?d.push(createCallExpression(t.helper(RENDER_LIST),[A.source,createFunctionExpression(createForLoopParams(A),buildDynamicSlot(q,L),!0)])):t.onError(createCompilerError(32,g.loc))}else{if(K){if(H.has(K)){t.onError(createCompilerError(38,ne));continue}H.add(K),K==="default"&&(Z=!0)}u.push(createObjectProperty(q,L))}}if(!k){const U=(T,C)=>{const P=i(T,C,o);return t.compatConfig&&(P.isNonScopedSlot=!0),createObjectProperty("default",P)};j?z.length&&z.some(T=>isNonWhitespaceContent(T))&&(Z?t.onError(createCompilerError(39,z[0].loc)):u.push(U(void 0,z))):u.push(U(void 0,a))}const I=n?2:hasForwardedSlots(e.children)?3:1;let B=createObjectExpression(u.concat(createObjectProperty("_",createSimpleExpression(I+"",!1))),o);return d.length&&(B=createCallExpression(t.helper(CREATE_SLOTS),[B,createArrayExpression(d)])),{slots:B,hasDynamicSlots:n}}function buildDynamicSlot(e,t,i){const a=[createObjectProperty("name",e),createObjectProperty("fn",t)];return i!=null&&a.push(createObjectProperty("key",createSimpleExpression(String(i),!0))),createObjectExpression(a)}function hasForwardedSlots(e){for(let t=0;t<e.length;t++){const i=e[t];switch(i.type){case 1:if(i.tagType===2||hasForwardedSlots(i.children))return!0;break;case 9:if(hasForwardedSlots(i.branches))return!0;break;case 10:case 11:if(hasForwardedSlots(i.children))return!0;break}}return!1}function isNonWhitespaceContent(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():isNonWhitespaceContent(e.content)}const directiveImportMap=new WeakMap,transformElement=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:a,props:o}=e,u=e.tagType===1;let d=u?resolveComponentType(e,t):`"${a}"`;const n=isObject$5(d)&&d.callee===RESOLVE_DYNAMIC_COMPONENT;let k,j,Z,z=0,H,Y,I,B=n||d===TELEPORT||d===SUSPENSE||!u&&(a==="svg"||a==="foreignObject");if(o.length>0){const U=buildProps(e,t,void 0,u,n);k=U.props,z=U.patchFlag,Y=U.dynamicPropNames;const T=U.directives;I=T&&T.length?createArrayExpression(T.map(C=>buildDirectiveArgs(C,t))):void 0,U.shouldUseBlock&&(B=!0)}if(e.children.length>0)if(d===KEEP_ALIVE&&(B=!0,z|=1024),u&&d!==TELEPORT&&d!==KEEP_ALIVE){const{slots:T,hasDynamicSlots:C}=buildSlots(e,t);j=T,C&&(z|=1024)}else if(e.children.length===1&&d!==TELEPORT){const T=e.children[0],C=T.type,P=C===5||C===8;P&&getConstantType(T,t)===0&&(z|=1),P||C===2?j=T:j=e.children}else j=e.children;z!==0&&(Z=String(z),Y&&Y.length&&(H=stringifyDynamicPropNames(Y))),e.codegenNode=createVNodeCall(t,d,k,j,Z,H,I,!!B,!1,u,e.loc)};function resolveComponentType(e,t,i=!1){let{tag:a}=e;const o=isComponentTag(a),u=findProp(e,"is");if(u)if(o||isCompatEnabled("COMPILER_IS_ON_ELEMENT",t)){const k=u.type===6?u.value&&createSimpleExpression(u.value.content,!0):u.exp;if(k)return createCallExpression(t.helper(RESOLVE_DYNAMIC_COMPONENT),[k])}else u.type===6&&u.value.content.startsWith("vue:")&&(a=u.value.content.slice(4));const d=!o&&findDir(e,"is");if(d&&d.exp)return createCallExpression(t.helper(RESOLVE_DYNAMIC_COMPONENT),[d.exp]);const n=isCoreComponent(a)||t.isBuiltInComponent(a);return n?(i||t.helper(n),n):(t.helper(RESOLVE_COMPONENT),t.components.add(a),toValidAssetId(a,"component"))}function buildProps(e,t,i=e.props,a,o,u=!1){const{tag:d,loc:n,children:k}=e;let j=[];const Z=[],z=[],H=k.length>0;let Y=!1,I=0,B=!1,U=!1,T=!1,C=!1,P=!1,G=!1;const q=[],N=L=>{j.length&&(Z.push(createObjectExpression(dedupeProperties(j),n)),j=[]),L&&Z.push(L)},ne=({key:L,value:E})=>{if(isStaticExp(L)){const w=L.content,g=isOn(w);if(g&&(!a||o)&&w.toLowerCase()!=="onclick"&&w!=="onUpdate:modelValue"&&!isReservedProp(w)&&(C=!0),g&&isReservedProp(w)&&(G=!0),E.type===20||(E.type===4||E.type===8)&&getConstantType(E,t)>0)return;w==="ref"?B=!0:w==="class"?U=!0:w==="style"?T=!0:w!=="key"&&!q.includes(w)&&q.push(w),a&&(w==="class"||w==="style")&&!q.includes(w)&&q.push(w)}else P=!0};for(let L=0;L<i.length;L++){const E=i[L];if(E.type===6){const{loc:w,name:g,value:A}=E;let m=!0;if(g==="ref"&&(B=!0,t.scopes.vFor>0&&j.push(createObjectProperty(createSimpleExpression("ref_for",!0),createSimpleExpression("true")))),g==="is"&&(isComponentTag(d)||A&&A.content.startsWith("vue:")||isCompatEnabled("COMPILER_IS_ON_ELEMENT",t)))continue;j.push(createObjectProperty(createSimpleExpression(g,!0,getInnerRange(w,0,g.length)),createSimpleExpression(A?A.content:"",m,A?A.loc:w)))}else{const{name:w,arg:g,exp:A,loc:m}=E,y=w==="bind",x=w==="on";if(w==="slot"){a||t.onError(createCompilerError(40,m));continue}if(w==="once"||w==="memo"||w==="is"||y&&isStaticArgOf(g,"is")&&(isComponentTag(d)||isCompatEnabled("COMPILER_IS_ON_ELEMENT",t))||x&&u)continue;if((y&&isStaticArgOf(g,"key")||x&&H&&isStaticArgOf(g,"vue:before-update"))&&(Y=!0),y&&isStaticArgOf(g,"ref")&&t.scopes.vFor>0&&j.push(createObjectProperty(createSimpleExpression("ref_for",!0),createSimpleExpression("true"))),!g&&(y||x)){if(P=!0,A)if(y){if(N(),isCompatEnabled("COMPILER_V_BIND_OBJECT_ORDER",t)){Z.unshift(A);continue}Z.push(A)}else N({type:14,loc:m,callee:t.helper(TO_HANDLERS),arguments:a?[A]:[A,"true"]});else t.onError(createCompilerError(y?34:35,m));continue}const M=t.directiveTransforms[w];if(M){const{props:X,needRuntime:re}=M(E,e,t);!u&&X.forEach(ne),x&&g&&!isStaticExp(g)?N(createObjectExpression(X,n)):j.push(...X),re&&(z.push(E),isSymbol$1(re)&&directiveImportMap.set(E,re))}else isBuiltInDirective(w)||(z.push(E),H&&(Y=!0))}}let K;if(Z.length?(N(),Z.length>1?K=createCallExpression(t.helper(MERGE_PROPS),Z,n):K=Z[0]):j.length&&(K=createObjectExpression(dedupeProperties(j),n)),P?I|=16:(U&&!a&&(I|=2),T&&!a&&(I|=4),q.length&&(I|=8),C&&(I|=32)),!Y&&(I===0||I===32)&&(B||G||z.length>0)&&(I|=512),!t.inSSR&&K)switch(K.type){case 15:let L=-1,E=-1,w=!1;for(let m=0;m<K.properties.length;m++){const y=K.properties[m].key;isStaticExp(y)?y.content==="class"?L=m:y.content==="style"&&(E=m):y.isHandlerKey||(w=!0)}const g=K.properties[L],A=K.properties[E];w?K=createCallExpression(t.helper(NORMALIZE_PROPS),[K]):(g&&!isStaticExp(g.value)&&(g.value=createCallExpression(t.helper(NORMALIZE_CLASS),[g.value])),A&&(T||A.value.type===4&&A.value.content.trim()[0]==="["||A.value.type===17)&&(A.value=createCallExpression(t.helper(NORMALIZE_STYLE),[A.value])));break;case 14:break;default:K=createCallExpression(t.helper(NORMALIZE_PROPS),[createCallExpression(t.helper(GUARD_REACTIVE_PROPS),[K])]);break}return{props:K,directives:z,patchFlag:I,dynamicPropNames:q,shouldUseBlock:Y}}function dedupeProperties(e){const t=new Map,i=[];for(let a=0;a<e.length;a++){const o=e[a];if(o.key.type===8||!o.key.isStatic){i.push(o);continue}const u=o.key.content,d=t.get(u);d?(u==="style"||u==="class"||isOn(u))&&mergeAsArray(d,o):(t.set(u,o),i.push(o))}return i}function mergeAsArray(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=createArrayExpression([e.value,t.value],e.loc)}function buildDirectiveArgs(e,t){const i=[],a=directiveImportMap.get(e);a?i.push(t.helperString(a)):(t.helper(RESOLVE_DIRECTIVE),t.directives.add(e.name),i.push(toValidAssetId(e.name,"directive")));const{loc:o}=e;if(e.exp&&i.push(e.exp),e.arg&&(e.exp||i.push("void 0"),i.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||i.push("void 0"),i.push("void 0"));const u=createSimpleExpression("true",!1,o);i.push(createObjectExpression(e.modifiers.map(d=>createObjectProperty(d,u)),o))}return createArrayExpression(i,e.loc)}function stringifyDynamicPropNames(e){let t="[";for(let i=0,a=e.length;i<a;i++)t+=JSON.stringify(e[i]),i<a-1&&(t+=", ");return t+"]"}function isComponentTag(e){return e==="component"||e==="Component"}const cacheStringFunction=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,i)=>i?i.toUpperCase():"")),transformSlotOutlet=(e,t)=>{if(isSlotOutlet(e)){const{children:i,loc:a}=e,{slotName:o,slotProps:u}=processSlotOutlet(e,t),d=[t.prefixIdentifiers?"_ctx.$slots":"$slots",o,"{}","undefined","true"];let n=2;u&&(d[2]=u,n=3),i.length&&(d[3]=createFunctionExpression([],i,!1,!1,a),n=4),t.scopeId&&!t.slotted&&(n=5),d.splice(n),e.codegenNode=createCallExpression(t.helper(RENDER_SLOT),d,a)}};function processSlotOutlet(e,t){let i='"default"',a;const o=[];for(let u=0;u<e.props.length;u++){const d=e.props[u];d.type===6?d.value&&(d.name==="name"?i=JSON.stringify(d.value.content):(d.name=camelize(d.name),o.push(d))):d.name==="bind"&&isStaticArgOf(d.arg,"name")?d.exp&&(i=d.exp):(d.name==="bind"&&d.arg&&isStaticExp(d.arg)&&(d.arg.content=camelize(d.arg.content)),o.push(d))}if(o.length>0){const{props:u,directives:d}=buildProps(e,t,o,!1,!1);a=u,d.length&&t.onError(createCompilerError(36,d[0].loc))}return{slotName:i,slotProps:a}}const fnExpRE=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,transformOn$1=(e,t,i,a)=>{const{loc:o,modifiers:u,arg:d}=e;!e.exp&&!u.length&&i.onError(createCompilerError(35,o));let n;if(d.type===4)if(d.isStatic){let z=d.content;z.startsWith("vue:")&&(z=`vnode-${z.slice(4)}`);const H=t.tagType!==0||z.startsWith("vnode")||!/[A-Z]/.test(z)?toHandlerKey(camelize$1(z)):`on:${z}`;n=createSimpleExpression(H,!0,d.loc)}else n=createCompoundExpression([`${i.helperString(TO_HANDLER_KEY)}(`,d,")"]);else n=d,n.children.unshift(`${i.helperString(TO_HANDLER_KEY)}(`),n.children.push(")");let k=e.exp;k&&!k.content.trim()&&(k=void 0);let j=i.cacheHandlers&&!k&&!i.inVOnce;if(k){const z=isMemberExpression(k.content),H=!(z||fnExpRE.test(k.content)),Y=k.content.includes(";");(H||j&&z)&&(k=createCompoundExpression([`${H?"$event":"(...args)"} => ${Y?"{":"("}`,k,Y?"}":")"]))}let Z={props:[createObjectProperty(n,k||createSimpleExpression("() => {}",!1,o))]};return a&&(Z=a(Z)),j&&(Z.props[0].value=i.cache(Z.props[0].value)),Z.props.forEach(z=>z.key.isHandlerKey=!0),Z},transformBind=(e,t,i)=>{const{exp:a,modifiers:o,loc:u}=e,d=e.arg;return d.type!==4?(d.children.unshift("("),d.children.push(') || ""')):d.isStatic||(d.content=`${d.content} || ""`),o.includes("camel")&&(d.type===4?d.isStatic?d.content=camelize$1(d.content):d.content=`${i.helperString(CAMELIZE)}(${d.content})`:(d.children.unshift(`${i.helperString(CAMELIZE)}(`),d.children.push(")"))),i.inSSR||(o.includes("prop")&&injectPrefix(d,"."),o.includes("attr")&&injectPrefix(d,"^")),!a||a.type===4&&!a.content.trim()?(i.onError(createCompilerError(34,u)),{props:[createObjectProperty(d,createSimpleExpression("",!0,u))]}):{props:[createObjectProperty(d,a)]}},injectPrefix=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},transformText=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const i=e.children;let a,o=!1;for(let u=0;u<i.length;u++){const d=i[u];if(isText(d)){o=!0;for(let n=u+1;n<i.length;n++){const k=i[n];if(isText(k))a||(a=i[u]=createCompoundExpression([d],d.loc)),a.children.push(" + ",k),i.splice(n,1),n--;else{a=void 0;break}}}}if(!(!o||i.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(u=>u.type===7&&!t.directiveTransforms[u.name])&&e.tag!=="template")))for(let u=0;u<i.length;u++){const d=i[u];if(isText(d)||d.type===8){const n=[];(d.type!==2||d.content!==" ")&&n.push(d),!t.ssr&&getConstantType(d,t)===0&&n.push("1"),i[u]={type:12,content:d,loc:d.loc,codegenNode:createCallExpression(t.helper(CREATE_TEXT),n)}}}}},seen=new WeakSet,transformOnce=(e,t)=>{if(e.type===1&&findDir(e,"once",!0))return seen.has(e)||t.inVOnce?void 0:(seen.add(e),t.inVOnce=!0,t.helper(SET_BLOCK_TRACKING),()=>{t.inVOnce=!1;const i=t.currentNode;i.codegenNode&&(i.codegenNode=t.cache(i.codegenNode,!0))})},transformModel$1=(e,t,i)=>{const{exp:a,arg:o}=e;if(!a)return i.onError(createCompilerError(41,e.loc)),createTransformProps();const u=a.loc.source,d=a.type===4?a.content:u,n=i.bindingMetadata[u];if(n==="props"||n==="props-aliased")return i.onError(createCompilerError(44,a.loc)),createTransformProps();const k=!1;if(!d.trim()||!isMemberExpression(d)&&!k)return i.onError(createCompilerError(42,a.loc)),createTransformProps();const j=o||createSimpleExpression("modelValue",!0),Z=o?isStaticExp(o)?`onUpdate:${o.content}`:createCompoundExpression(['"onUpdate:" + ',o]):"onUpdate:modelValue";let z;const H=i.isTS?"($event: any)":"$event";z=createCompoundExpression([`${H} => ((`,a,") = $event)"]);const Y=[createObjectProperty(j,e.exp),createObjectProperty(Z,z)];if(e.modifiers.length&&t.tagType===1){const I=e.modifiers.map(U=>(isSimpleIdentifier(U)?U:JSON.stringify(U))+": true").join(", "),B=o?isStaticExp(o)?`${o.content}Modifiers`:createCompoundExpression([o,' + "Modifiers"']):"modelModifiers";Y.push(createObjectProperty(B,createSimpleExpression(`{ ${I} }`,!1,e.loc,2)))}return createTransformProps(Y)};function createTransformProps(e=[]){return{props:e}}const validDivisionCharRE=/[\w).+\-_$\]]/,transformFilter=(e,t)=>{isCompatEnabled("COMPILER_FILTER",t)&&(e.type===5&&rewriteFilter(e.content,t),e.type===1&&e.props.forEach(i=>{i.type===7&&i.name!=="for"&&i.exp&&rewriteFilter(i.exp,t)}))};function rewriteFilter(e,t){if(e.type===4)parseFilter(e,t);else for(let i=0;i<e.children.length;i++){const a=e.children[i];typeof a=="object"&&(a.type===4?parseFilter(a,t):a.type===8?rewriteFilter(e,t):a.type===5&&rewriteFilter(a.content,t))}}function parseFilter(e,t){const i=e.content;let a=!1,o=!1,u=!1,d=!1,n=0,k=0,j=0,Z=0,z,H,Y,I,B=[];for(Y=0;Y<i.length;Y++)if(H=z,z=i.charCodeAt(Y),a)z===39&&H!==92&&(a=!1);else if(o)z===34&&H!==92&&(o=!1);else if(u)z===96&&H!==92&&(u=!1);else if(d)z===47&&H!==92&&(d=!1);else if(z===124&&i.charCodeAt(Y+1)!==124&&i.charCodeAt(Y-1)!==124&&!n&&!k&&!j)I===void 0?(Z=Y+1,I=i.slice(0,Y).trim()):U();else{switch(z){case 34:o=!0;break;case 39:a=!0;break;case 96:u=!0;break;case 40:j++;break;case 41:j--;break;case 91:k++;break;case 93:k--;break;case 123:n++;break;case 125:n--;break}if(z===47){let T=Y-1,C;for(;T>=0&&(C=i.charAt(T),C===" ");T--);(!C||!validDivisionCharRE.test(C))&&(d=!0)}}I===void 0?I=i.slice(0,Y).trim():Z!==0&&U();function U(){B.push(i.slice(Z,Y).trim()),Z=Y+1}if(B.length){for(Y=0;Y<B.length;Y++)I=wrapFilter(I,B[Y],t);e.content=I}}function wrapFilter(e,t,i){i.helper(RESOLVE_FILTER);const a=t.indexOf("(");if(a<0)return i.filters.add(t),`${toValidAssetId(t,"filter")}(${e})`;{const o=t.slice(0,a),u=t.slice(a+1);return i.filters.add(o),`${toValidAssetId(o,"filter")}(${e}${u!==")"?","+u:u}`}}const seen$1=new WeakSet,transformMemo=(e,t)=>{if(e.type===1){const i=findDir(e,"memo");return!i||seen$1.has(e)?void 0:(seen$1.add(e),()=>{const a=e.codegenNode||t.currentNode.codegenNode;a&&a.type===13&&(e.tagType!==1&&makeBlock(a,t),e.codegenNode=createCallExpression(t.helper(WITH_MEMO),[i.exp,createFunctionExpression(void 0,a),"_cache",String(t.cached++)]))})}};function getBaseTransformPreset(e){return[[transformOnce,transformIf,transformMemo,transformFor,transformFilter,transformSlotOutlet,transformElement,trackSlotScopes,transformText],{on:transformOn$1,bind:transformBind,model:transformModel$1}]}function baseCompile(e,t={}){const i=t.onError||defaultOnError,a=t.mode==="module";t.prefixIdentifiers===!0?i(createCompilerError(47)):a&&i(createCompilerError(48));const o=!1;t.cacheHandlers&&i(createCompilerError(49)),t.scopeId&&!a&&i(createCompilerError(50));const u=isString$1(e)?baseParse(e,t):e,[d,n]=getBaseTransformPreset();return transform(u,extend$7({},t,{prefixIdentifiers:o,nodeTransforms:[...d,...t.nodeTransforms||[]],directiveTransforms:extend$7({},n,t.directiveTransforms||{})})),generate(u,extend$7({},t,{prefixIdentifiers:o}))}const noopDirectiveTransform=()=>({props:[]}),V_MODEL_RADIO=Symbol(""),V_MODEL_CHECKBOX=Symbol(""),V_MODEL_TEXT=Symbol(""),V_MODEL_SELECT=Symbol(""),V_MODEL_DYNAMIC=Symbol(""),V_ON_WITH_MODIFIERS=Symbol(""),V_ON_WITH_KEYS=Symbol(""),V_SHOW=Symbol(""),TRANSITION=Symbol(""),TRANSITION_GROUP=Symbol("");registerRuntimeHelpers({[V_MODEL_RADIO]:"vModelRadio",[V_MODEL_CHECKBOX]:"vModelCheckbox",[V_MODEL_TEXT]:"vModelText",[V_MODEL_SELECT]:"vModelSelect",[V_MODEL_DYNAMIC]:"vModelDynamic",[V_ON_WITH_MODIFIERS]:"withModifiers",[V_ON_WITH_KEYS]:"withKeys",[V_SHOW]:"vShow",[TRANSITION]:"Transition",[TRANSITION_GROUP]:"TransitionGroup"});let decoder;function decodeHtmlBrowser(e,t=!1){return decoder||(decoder=document.createElement("div")),t?(decoder.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,decoder.children[0].getAttribute("foo")):(decoder.innerHTML=e,decoder.textContent)}const isRawTextContainer=makeMap("style,iframe,script,noscript",!0),parserOptions={isVoidTag,isNativeTag:e=>isHTMLTag(e)||isSVGTag(e),isPreTag:e=>e==="pre",decodeEntities:decodeHtmlBrowser,isBuiltInComponent:e=>{if(isBuiltInType(e,"Transition"))return TRANSITION;if(isBuiltInType(e,"TransitionGroup"))return TRANSITION_GROUP},getNamespace(e,t){let i=t?t.ns:0;if(t&&i===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(a=>a.type===6&&a.name==="encoding"&&a.value!=null&&(a.value.content==="text/html"||a.value.content==="application/xhtml+xml"))&&(i=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(i=0);else t&&i===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(i=0);if(i===0){if(e==="svg")return 1;if(e==="math")return 2}return i},getTextMode({tag:e,ns:t}){if(t===0){if(e==="textarea"||e==="title")return 1;if(isRawTextContainer(e))return 2}return 0}},transformStyle=e=>{e.type===1&&e.props.forEach((t,i)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[i]={type:7,name:"bind",arg:createSimpleExpression("style",!0,t.loc),exp:parseInlineCSS(t.value.content,t.loc),modifiers:[],loc:t.loc})})},parseInlineCSS=(e,t)=>{const i=parseStringStyle(e);return createSimpleExpression(JSON.stringify(i),!1,t,3)};function createDOMCompilerError(e,t){return createCompilerError(e,t)}const transformVHtml=(e,t,i)=>{const{exp:a,loc:o}=e;return a||i.onError(createDOMCompilerError(51,o)),t.children.length&&(i.onError(createDOMCompilerError(52,o)),t.children.length=0),{props:[createObjectProperty(createSimpleExpression("innerHTML",!0,o),a||createSimpleExpression("",!0))]}},transformVText=(e,t,i)=>{const{exp:a,loc:o}=e;return a||i.onError(createDOMCompilerError(53,o)),t.children.length&&(i.onError(createDOMCompilerError(54,o)),t.children.length=0),{props:[createObjectProperty(createSimpleExpression("textContent",!0),a?getConstantType(a,i)>0?a:createCallExpression(i.helperString(TO_DISPLAY_STRING),[a],o):createSimpleExpression("",!0))]}},transformModel=(e,t,i)=>{const a=transformModel$1(e,t,i);if(!a.props.length||t.tagType===1)return a;e.arg&&i.onError(createDOMCompilerError(56,e.arg.loc));const{tag:o}=t,u=i.isCustomElement(o);if(o==="input"||o==="textarea"||o==="select"||u){let d=V_MODEL_TEXT,n=!1;if(o==="input"||u){const k=findProp(t,"type");if(k){if(k.type===7)d=V_MODEL_DYNAMIC;else if(k.value)switch(k.value.content){case"radio":d=V_MODEL_RADIO;break;case"checkbox":d=V_MODEL_CHECKBOX;break;case"file":n=!0,i.onError(createDOMCompilerError(57,e.loc));break}}else hasDynamicKeyVBind(t)&&(d=V_MODEL_DYNAMIC)}else o==="select"&&(d=V_MODEL_SELECT);n||(a.needRuntime=i.helper(d))}else i.onError(createDOMCompilerError(55,e.loc));return a.props=a.props.filter(d=>!(d.key.type===4&&d.key.content==="modelValue")),a},isEventOptionModifier=makeMap("passive,once,capture"),isNonKeyModifier=makeMap("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),maybeKeyModifier=makeMap("left,right"),isKeyboardEvent=makeMap("onkeyup,onkeydown,onkeypress",!0),resolveModifiers=(e,t,i,a)=>{const o=[],u=[],d=[];for(let n=0;n<t.length;n++){const k=t[n];k==="native"&&checkCompatEnabled("COMPILER_V_ON_NATIVE",i)||isEventOptionModifier(k)?d.push(k):maybeKeyModifier(k)?isStaticExp(e)?isKeyboardEvent(e.content)?o.push(k):u.push(k):(o.push(k),u.push(k)):isNonKeyModifier(k)?u.push(k):o.push(k)}return{keyModifiers:o,nonKeyModifiers:u,eventOptionModifiers:d}},transformClick=(e,t)=>isStaticExp(e)&&e.content.toLowerCase()==="onclick"?createSimpleExpression(t,!0):e.type!==4?createCompoundExpression(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,transformOn=(e,t,i)=>transformOn$1(e,t,i,a=>{const{modifiers:o}=e;if(!o.length)return a;let{key:u,value:d}=a.props[0];const{keyModifiers:n,nonKeyModifiers:k,eventOptionModifiers:j}=resolveModifiers(u,o,i,e.loc);if(k.includes("right")&&(u=transformClick(u,"onContextmenu")),k.includes("middle")&&(u=transformClick(u,"onMouseup")),k.length&&(d=createCallExpression(i.helper(V_ON_WITH_MODIFIERS),[d,JSON.stringify(k)])),n.length&&(!isStaticExp(u)||isKeyboardEvent(u.content))&&(d=createCallExpression(i.helper(V_ON_WITH_KEYS),[d,JSON.stringify(n)])),j.length){const Z=j.map(capitalize).join("");u=isStaticExp(u)?createSimpleExpression(`${u.content}${Z}`,!0):createCompoundExpression(["(",u,`) + "${Z}"`])}return{props:[createObjectProperty(u,d)]}}),transformShow=(e,t,i)=>{const{exp:a,loc:o}=e;return a||i.onError(createDOMCompilerError(59,o)),{props:[],needRuntime:i.helper(V_SHOW)}},ignoreSideEffectTags=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&(t.onError(createDOMCompilerError(61,e.loc)),t.removeNode())},DOMNodeTransforms=[transformStyle],DOMDirectiveTransforms={cloak:noopDirectiveTransform,html:transformVHtml,text:transformVText,model:transformModel,on:transformOn,show:transformShow};function compile(e,t={}){return baseCompile(e,extend$7({},parserOptions,t,{nodeTransforms:[ignoreSideEffectTags,...DOMNodeTransforms,...t.nodeTransforms||[]],directiveTransforms:extend$7({},DOMDirectiveTransforms,t.directiveTransforms||{}),transformHoist:null}))}const compileCache=Object.create(null);function compileToFunction(e,t){if(!isString$1(e))if(e.nodeType)e=e.innerHTML;else return NOOP;const i=e,a=compileCache[i];if(a)return a;if(e[0]==="#"){const n=document.querySelector(e);e=n?n.innerHTML:""}const o=extend$7({hoistStatic:!0,onError:void 0,onWarn:NOOP},t);!o.isCustomElement&&typeof customElements<"u"&&(o.isCustomElement=n=>!!customElements.get(n));const{code:u}=compile(e,o),d=new Function("Vue",u)(runtimeDom);return d._rc=!0,compileCache[i]=d}registerRuntimeCompiler(compileToFunction);const vue_esmBundler=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition,Comment,EffectScope,Fragment,KeepAlive,ReactiveEffect,Static,Suspense,Teleport,Text,Transition,TransitionGroup,VueElement,callWithAsyncErrorHandling,callWithErrorHandling,camelize:camelize$1,capitalize,cloneVNode,compatUtils,compile:compileToFunction,computed,createApp,createBlock,createCommentVNode,createElementBlock,createElementVNode:createBaseVNode,createHydrationRenderer,createPropsRestProxy,createRenderer,createSSRApp,createSlots,createStaticVNode,createTextVNode,createVNode,customRef,defineAsyncComponent,defineComponent,defineCustomElement,defineEmits,defineExpose,defineProps,defineSSRCustomElement,get devtools(){return devtools},effect,effectScope,getCurrentInstance,getCurrentScope,getTransitionRawChildren,guardReactiveProps,h,handleError,hydrate,initCustomFormatter,initDirectivesForSSR,inject,isMemoSame,isProxy,isReactive,isReadonly,isRef,isRuntimeOnly,isShallow,isVNode,markRaw,mergeDefaults,mergeProps,nextTick:nextTick$1,normalizeClass,normalizeProps,normalizeStyle,onActivated,onBeforeMount,onBeforeUnmount,onBeforeUpdate,onDeactivated,onErrorCaptured,onMounted,onRenderTracked,onRenderTriggered,onScopeDispose,onServerPrefetch,onUnmounted,onUpdated,openBlock,popScopeId,provide,proxyRefs,pushScopeId,queuePostFlushCb,reactive,readonly,ref,registerRuntimeCompiler,render,renderList,renderSlot,resolveComponent,resolveDirective,resolveDynamicComponent,resolveFilter,resolveTransitionHooks,setBlockTracking,setDevtoolsHook,setTransitionHooks,shallowReactive,shallowReadonly,shallowRef,ssrContextKey,ssrUtils,stop,toDisplayString,toHandlerKey,toHandlers,toRaw,toRef,toRefs,transformVNodeArgs,triggerRef,unref,useAttrs,useCssModule,useCssVars,useSSRContext,useSlots,useTransitionState,vModelCheckbox,vModelDynamic,vModelRadio,vModelSelect,vModelText,vShow,version,warn:warn$1,watch,watchEffect,watchPostEffect,watchSyncEffect,withAsyncContext,withCtx,withDefaults,withDirectives,withKeys,withMemo,withModifiers,withScopeId},Symbol.toStringTag,{value:"Module"}));//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var hookCallback;function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(e){hookCallback=e}function isArray(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function isObject$4(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function hasOwnProp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function isObjectEmpty(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(hasOwnProp(e,t))return!1;return!0}function isUndefined(e){return e===void 0}function isNumber(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function isDate(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function map(e,t){var i=[],a,o=e.length;for(a=0;a<o;++a)i.push(t(e[a],a));return i}function extend$6(e,t){for(var i in t)hasOwnProp(t,i)&&(e[i]=t[i]);return hasOwnProp(t,"toString")&&(e.toString=t.toString),hasOwnProp(t,"valueOf")&&(e.valueOf=t.valueOf),e}function createUTC(e,t,i,a){return createLocalOrUTC(e,t,i,a,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(e){return e._pf==null&&(e._pf=defaultParsingFlags()),e._pf}var some;Array.prototype.some?some=Array.prototype.some:some=function(e){var t=Object(this),i=t.length>>>0,a;for(a=0;a<i;a++)if(a in t&&e.call(this,t[a],a,t))return!0;return!1};function isValid(e){if(e._isValid==null){var t=getParsingFlags(e),i=some.call(t.parsedDateParts,function(o){return o!=null}),a=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(a=a&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=a;else return a}return e._isValid}function createInvalid(e){var t=createUTC(NaN);return e!=null?extend$6(getParsingFlags(t),e):getParsingFlags(t).userInvalidated=!0,t}var momentProperties=hooks.momentProperties=[],updateInProgress=!1;function copyConfig(e,t){var i,a,o,u=momentProperties.length;if(isUndefined(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),isUndefined(t._i)||(e._i=t._i),isUndefined(t._f)||(e._f=t._f),isUndefined(t._l)||(e._l=t._l),isUndefined(t._strict)||(e._strict=t._strict),isUndefined(t._tzm)||(e._tzm=t._tzm),isUndefined(t._isUTC)||(e._isUTC=t._isUTC),isUndefined(t._offset)||(e._offset=t._offset),isUndefined(t._pf)||(e._pf=getParsingFlags(t)),isUndefined(t._locale)||(e._locale=t._locale),u>0)for(i=0;i<u;i++)a=momentProperties[i],o=t[a],isUndefined(o)||(e[a]=o);return e}function Moment(e){copyConfig(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),updateInProgress===!1&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(e){return e instanceof Moment||e!=null&&e._isAMomentObject!=null}function warn(e){hooks.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function deprecate(e,t){var i=!0;return extend$6(function(){if(hooks.deprecationHandler!=null&&hooks.deprecationHandler(null,e),i){var a=[],o,u,d,n=arguments.length;for(u=0;u<n;u++){if(o="",typeof arguments[u]=="object"){o+=`
[`+u+"] ";for(d in arguments[0])hasOwnProp(arguments[0],d)&&(o+=d+": "+arguments[0][d]+", ");o=o.slice(0,-2)}else o=arguments[u];a.push(o)}warn(e+`
Arguments: `+Array.prototype.slice.call(a).join("")+`
`+new Error().stack),i=!1}return t.apply(this,arguments)},t)}var deprecations={};function deprecateSimple(e,t){hooks.deprecationHandler!=null&&hooks.deprecationHandler(e,t),deprecations[e]||(warn(t),deprecations[e]=!0)}hooks.suppressDeprecationWarnings=!1;hooks.deprecationHandler=null;function isFunction(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function set(e){var t,i;for(i in e)hasOwnProp(e,i)&&(t=e[i],isFunction(t)?this[i]=t:this["_"+i]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(e,t){var i=extend$6({},e),a;for(a in t)hasOwnProp(t,a)&&(isObject$4(e[a])&&isObject$4(t[a])?(i[a]={},extend$6(i[a],e[a]),extend$6(i[a],t[a])):t[a]!=null?i[a]=t[a]:delete i[a]);for(a in e)hasOwnProp(e,a)&&!hasOwnProp(t,a)&&isObject$4(e[a])&&(i[a]=extend$6({},i[a]));return i}function Locale(e){e!=null&&this.set(e)}var keys;Object.keys?keys=Object.keys:keys=function(e){var t,i=[];for(t in e)hasOwnProp(e,t)&&i.push(t);return i};var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar(e,t,i){var a=this._calendar[e]||this._calendar.sameElse;return isFunction(a)?a.call(t,i):a}function zeroFill(e,t,i){var a=""+Math.abs(e),o=t-a.length,u=e>=0;return(u?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+a}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken(e,t,i,a){var o=a;typeof a=="string"&&(o=function(){return this[a]()}),e&&(formatTokenFunctions[e]=o),t&&(formatTokenFunctions[t[0]]=function(){return zeroFill(o.apply(this,arguments),t[1],t[2])}),i&&(formatTokenFunctions[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function removeFormattingTokens(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function makeFormatFunction(e){var t=e.match(formattingTokens),i,a;for(i=0,a=t.length;i<a;i++)formatTokenFunctions[t[i]]?t[i]=formatTokenFunctions[t[i]]:t[i]=removeFormattingTokens(t[i]);return function(o){var u="",d;for(d=0;d<a;d++)u+=isFunction(t[d])?t[d].call(o,e):t[d];return u}}function formatMoment(e,t){return e.isValid()?(t=expandFormat(t,e.localeData()),formatFunctions[t]=formatFunctions[t]||makeFormatFunction(t),formatFunctions[t](e)):e.localeData().invalidDate()}function expandFormat(e,t){var i=5;function a(o){return t.longDateFormat(o)||o}for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(e);)e=e.replace(localFormattingTokens,a),localFormattingTokens.lastIndex=0,i-=1;return e}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.match(formattingTokens).map(function(a){return a==="MMMM"||a==="MM"||a==="DD"||a==="dddd"?a.slice(1):a}).join(""),this._longDateFormat[e])}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d",defaultDayOfMonthOrdinalParse=/\d{1,2}/;function ordinal(e){return this._ordinal.replace("%d",e)}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime(e,t,i,a){var o=this._relativeTime[i];return isFunction(o)?o(e,t,i,a):o.replace(/%d/i,e)}function pastFuture(e,t){var i=this._relativeTime[e>0?"future":"past"];return isFunction(i)?i(t):i.replace(/%s/i,t)}var aliases={};function addUnitAlias(e,t){var i=e.toLowerCase();aliases[i]=aliases[i+"s"]=aliases[t]=e}function normalizeUnits(e){return typeof e=="string"?aliases[e]||aliases[e.toLowerCase()]:void 0}function normalizeObjectUnits(e){var t={},i,a;for(a in e)hasOwnProp(e,a)&&(i=normalizeUnits(a),i&&(t[i]=e[a]));return t}var priorities={};function addUnitPriority(e,t){priorities[e]=t}function getPrioritizedUnits(e){var t=[],i;for(i in e)hasOwnProp(e,i)&&t.push({unit:i,priority:priorities[i]});return t.sort(function(a,o){return a.priority-o.priority}),t}function isLeapYear(e){return e%4===0&&e%100!==0||e%400===0}function absFloor(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function toInt(e){var t=+e,i=0;return t!==0&&isFinite(t)&&(i=absFloor(t)),i}function makeGetSet(e,t){return function(i){return i!=null?(set$1(this,e,i),hooks.updateOffset(this,t),this):get(this,e)}}function get(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function set$1(e,t,i){e.isValid()&&!isNaN(i)&&(t==="FullYear"&&isLeapYear(e.year())&&e.month()===1&&e.date()===29?(i=toInt(i),e._d["set"+(e._isUTC?"UTC":"")+t](i,e.month(),daysInMonth(i,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](i))}function stringGet(e){return e=normalizeUnits(e),isFunction(this[e])?this[e]():this}function stringSet(e,t){if(typeof e=="object"){e=normalizeObjectUnits(e);var i=getPrioritizedUnits(e),a,o=i.length;for(a=0;a<o;a++)this[i[a].unit](e[i[a].unit])}else if(e=normalizeUnits(e),isFunction(this[e]))return this[e](t);return this}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,regexes;regexes={};function addRegexToken(e,t,i){regexes[e]=isFunction(t)?t:function(a,o){return a&&i?i:t}}function getParseRegexForToken(e,t){return hasOwnProp(regexes,e)?regexes[e](t._strict,t._locale):new RegExp(unescapeFormat(e))}function unescapeFormat(e){return regexEscape(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,i,a,o,u){return i||a||o||u}))}function regexEscape(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var tokens={};function addParseToken(e,t){var i,a=t,o;for(typeof e=="string"&&(e=[e]),isNumber(t)&&(a=function(u,d){d[t]=toInt(u)}),o=e.length,i=0;i<o;i++)tokens[e[i]]=a}function addWeekParseToken(e,t){addParseToken(e,function(i,a,o,u){o._w=o._w||{},t(i,o._w,o,u)})}function addTimeToArrayFromToken(e,t,i){t!=null&&hasOwnProp(tokens,e)&&tokens[e](t,i._a,i,e)}var YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;function mod(e,t){return(e%t+t)%t}var indexOf;Array.prototype.indexOf?indexOf=Array.prototype.indexOf:indexOf=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function daysInMonth(e,t){if(isNaN(e)||isNaN(t))return NaN;var i=mod(t,12);return e+=(t-i)/12,i===1?isLeapYear(e)?29:28:31-i%7%2}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1});addFormatToken("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});addFormatToken("MMMM",0,0,function(e){return this.localeData().months(this,e)});addUnitAlias("month","M");addUnitPriority("month",8);addRegexToken("M",match1to2);addRegexToken("MM",match1to2,match2);addRegexToken("MMM",function(e,t){return t.monthsShortRegex(e)});addRegexToken("MMMM",function(e,t){return t.monthsRegex(e)});addParseToken(["M","MM"],function(e,t){t[MONTH]=toInt(e)-1});addParseToken(["MMM","MMMM"],function(e,t,i,a){var o=i._locale.monthsParse(e,a,i._strict);o!=null?t[MONTH]=o:getParsingFlags(i).invalidMonth=e});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;function localeMonths(e,t){return e?isArray(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(t)?"format":"standalone"][e.month()]:isArray(this._months)?this._months:this._months.standalone}function localeMonthsShort(e,t){return e?isArray(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(t)?"format":"standalone"][e.month()]:isArray(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse(e,t,i){var a,o,u,d=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)u=createUTC([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(u,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(u,"").toLocaleLowerCase();return i?t==="MMM"?(o=indexOf.call(this._shortMonthsParse,d),o!==-1?o:null):(o=indexOf.call(this._longMonthsParse,d),o!==-1?o:null):t==="MMM"?(o=indexOf.call(this._shortMonthsParse,d),o!==-1?o:(o=indexOf.call(this._longMonthsParse,d),o!==-1?o:null)):(o=indexOf.call(this._longMonthsParse,d),o!==-1?o:(o=indexOf.call(this._shortMonthsParse,d),o!==-1?o:null))}function localeMonthsParse(e,t,i){var a,o,u;if(this._monthsParseExact)return handleStrictParse.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(o=createUTC([2e3,a]),i&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!i&&!this._monthsParse[a]&&(u="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[a]=new RegExp(u.replace(".",""),"i")),i&&t==="MMMM"&&this._longMonthsParse[a].test(e))return a;if(i&&t==="MMM"&&this._shortMonthsParse[a].test(e))return a;if(!i&&this._monthsParse[a].test(e))return a}}function setMonth(e,t){var i;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=toInt(t);else if(t=e.localeData().monthsParse(t),!isNumber(t))return e}return i=Math.min(e.date(),daysInMonth(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function getSetMonth(e){return e!=null?(setMonth(this,e),hooks.updateOffset(this,!0),this):get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),e?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function e(d,n){return n.length-d.length}var t=[],i=[],a=[],o,u;for(o=0;o<12;o++)u=createUTC([2e3,o]),t.push(this.monthsShort(u,"")),i.push(this.months(u,"")),a.push(this.months(u,"")),a.push(this.monthsShort(u,""));for(t.sort(e),i.sort(e),a.sort(e),o=0;o<12;o++)t[o]=regexEscape(t[o]),i[o]=regexEscape(i[o]);for(o=0;o<24;o++)a[o]=regexEscape(a[o]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}addFormatToken("Y",0,0,function(){var e=this.year();return e<=9999?zeroFill(e,4):"+"+e});addFormatToken(0,["YY",2],0,function(){return this.year()%100});addFormatToken(0,["YYYY",4],0,"year");addFormatToken(0,["YYYYY",5],0,"year");addFormatToken(0,["YYYYYY",6,!0],0,"year");addUnitAlias("year","y");addUnitPriority("year",1);addRegexToken("Y",matchSigned);addRegexToken("YY",match1to2,match2);addRegexToken("YYYY",match1to4,match4);addRegexToken("YYYYY",match1to6,match6);addRegexToken("YYYYYY",match1to6,match6);addParseToken(["YYYYY","YYYYYY"],YEAR);addParseToken("YYYY",function(e,t){t[YEAR]=e.length===2?hooks.parseTwoDigitYear(e):toInt(e)});addParseToken("YY",function(e,t){t[YEAR]=hooks.parseTwoDigitYear(e)});addParseToken("Y",function(e,t){t[YEAR]=parseInt(e,10)});function daysInYear(e){return isLeapYear(e)?366:365}hooks.parseTwoDigitYear=function(e){return toInt(e)+(toInt(e)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);function getIsLeapYear(){return isLeapYear(this.year())}function createDate(e,t,i,a,o,u,d){var n;return e<100&&e>=0?(n=new Date(e+400,t,i,a,o,u,d),isFinite(n.getFullYear())&&n.setFullYear(e)):n=new Date(e,t,i,a,o,u,d),n}function createUTCDate(e){var t,i;return e<100&&e>=0?(i=Array.prototype.slice.call(arguments),i[0]=e+400,t=new Date(Date.UTC.apply(null,i)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function firstWeekOffset(e,t,i){var a=7+t-i,o=(7+createUTCDate(e,0,a).getUTCDay()-t)%7;return-o+a-1}function dayOfYearFromWeeks(e,t,i,a,o){var u=(7+i-a)%7,d=firstWeekOffset(e,a,o),n=1+7*(t-1)+u+d,k,j;return n<=0?(k=e-1,j=daysInYear(k)+n):n>daysInYear(e)?(k=e+1,j=n-daysInYear(e)):(k=e,j=n),{year:k,dayOfYear:j}}function weekOfYear(e,t,i){var a=firstWeekOffset(e.year(),t,i),o=Math.floor((e.dayOfYear()-a-1)/7)+1,u,d;return o<1?(d=e.year()-1,u=o+weeksInYear(d,t,i)):o>weeksInYear(e.year(),t,i)?(u=o-weeksInYear(e.year(),t,i),d=e.year()+1):(d=e.year(),u=o),{week:u,year:d}}function weeksInYear(e,t,i){var a=firstWeekOffset(e,t,i),o=firstWeekOffset(e+1,t,i);return(daysInYear(e)-a+o)/7}addFormatToken("w",["ww",2],"wo","week");addFormatToken("W",["WW",2],"Wo","isoWeek");addUnitAlias("week","w");addUnitAlias("isoWeek","W");addUnitPriority("week",5);addUnitPriority("isoWeek",5);addRegexToken("w",match1to2);addRegexToken("ww",match1to2,match2);addRegexToken("W",match1to2);addRegexToken("WW",match1to2,match2);addWeekParseToken(["w","ww","W","WW"],function(e,t,i,a){t[a.substr(0,1)]=toInt(e)});function localeWeek(e){return weekOfYear(e,this._week.dow,this._week.doy).week}var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function getSetISOWeek(e){var t=weekOfYear(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}addFormatToken("d",0,"do","day");addFormatToken("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});addFormatToken("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});addFormatToken("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});addFormatToken("e",0,0,"weekday");addFormatToken("E",0,0,"isoWeekday");addUnitAlias("day","d");addUnitAlias("weekday","e");addUnitAlias("isoWeekday","E");addUnitPriority("day",11);addUnitPriority("weekday",11);addUnitPriority("isoWeekday",11);addRegexToken("d",match1to2);addRegexToken("e",match1to2);addRegexToken("E",match1to2);addRegexToken("dd",function(e,t){return t.weekdaysMinRegex(e)});addRegexToken("ddd",function(e,t){return t.weekdaysShortRegex(e)});addRegexToken("dddd",function(e,t){return t.weekdaysRegex(e)});addWeekParseToken(["dd","ddd","dddd"],function(e,t,i,a){var o=i._locale.weekdaysParse(e,a,i._strict);o!=null?t.d=o:getParsingFlags(i).invalidWeekday=e});addWeekParseToken(["d","e","E"],function(e,t,i,a){t[a]=toInt(e)});function parseWeekday(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function parseIsoWeekday(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function shiftWeekdays(e,t){return e.slice(t,7).concat(e.slice(0,t))}var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;function localeWeekdays(e,t){var i=isArray(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?shiftWeekdays(i,this._week.dow):e?i[e.day()]:i}function localeWeekdaysShort(e){return e===!0?shiftWeekdays(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function localeWeekdaysMin(e){return e===!0?shiftWeekdays(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function handleStrictParse$1(e,t,i){var a,o,u,d=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)u=createUTC([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(u,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(u,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(u,"").toLocaleLowerCase();return i?t==="dddd"?(o=indexOf.call(this._weekdaysParse,d),o!==-1?o:null):t==="ddd"?(o=indexOf.call(this._shortWeekdaysParse,d),o!==-1?o:null):(o=indexOf.call(this._minWeekdaysParse,d),o!==-1?o:null):t==="dddd"?(o=indexOf.call(this._weekdaysParse,d),o!==-1||(o=indexOf.call(this._shortWeekdaysParse,d),o!==-1)?o:(o=indexOf.call(this._minWeekdaysParse,d),o!==-1?o:null)):t==="ddd"?(o=indexOf.call(this._shortWeekdaysParse,d),o!==-1||(o=indexOf.call(this._weekdaysParse,d),o!==-1)?o:(o=indexOf.call(this._minWeekdaysParse,d),o!==-1?o:null)):(o=indexOf.call(this._minWeekdaysParse,d),o!==-1||(o=indexOf.call(this._weekdaysParse,d),o!==-1)?o:(o=indexOf.call(this._shortWeekdaysParse,d),o!==-1?o:null))}function localeWeekdaysParse(e,t,i){var a,o,u;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(o=createUTC([2e3,1]).day(a),i&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(u="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[a]=new RegExp(u.replace(".",""),"i")),i&&t==="dddd"&&this._fullWeekdaysParse[a].test(e))return a;if(i&&t==="ddd"&&this._shortWeekdaysParse[a].test(e))return a;if(i&&t==="dd"&&this._minWeekdaysParse[a].test(e))return a;if(!i&&this._weekdaysParse[a].test(e))return a}}function getSetDayOfWeek(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=parseWeekday(e,this.localeData()),this.add(e-t,"d")):t}function getSetLocaleDayOfWeek(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function getSetISODayOfWeek(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=parseIsoWeekday(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function weekdaysRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function e(Z,z){return z.length-Z.length}var t=[],i=[],a=[],o=[],u,d,n,k,j;for(u=0;u<7;u++)d=createUTC([2e3,1]).day(u),n=regexEscape(this.weekdaysMin(d,"")),k=regexEscape(this.weekdaysShort(d,"")),j=regexEscape(this.weekdays(d,"")),t.push(n),i.push(k),a.push(j),o.push(n),o.push(k),o.push(j);t.sort(e),i.sort(e),a.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}addFormatToken("H",["HH",2],0,"hour");addFormatToken("h",["hh",2],0,hFormat);addFormatToken("k",["kk",2],0,kFormat);addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)});addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)});addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});function meridiem(e,t){addFormatToken(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}meridiem("a",!0);meridiem("A",!1);addUnitAlias("hour","h");addUnitPriority("hour",13);function matchMeridiem(e,t){return t._meridiemParse}addRegexToken("a",matchMeridiem);addRegexToken("A",matchMeridiem);addRegexToken("H",match1to2);addRegexToken("h",match1to2);addRegexToken("k",match1to2);addRegexToken("HH",match1to2,match2);addRegexToken("hh",match1to2,match2);addRegexToken("kk",match1to2,match2);addRegexToken("hmm",match3to4);addRegexToken("hmmss",match5to6);addRegexToken("Hmm",match3to4);addRegexToken("Hmmss",match5to6);addParseToken(["H","HH"],HOUR);addParseToken(["k","kk"],function(e,t,i){var a=toInt(e);t[HOUR]=a===24?0:a});addParseToken(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e});addParseToken(["h","hh"],function(e,t,i){t[HOUR]=toInt(e),getParsingFlags(i).bigHour=!0});addParseToken("hmm",function(e,t,i){var a=e.length-2;t[HOUR]=toInt(e.substr(0,a)),t[MINUTE]=toInt(e.substr(a)),getParsingFlags(i).bigHour=!0});addParseToken("hmmss",function(e,t,i){var a=e.length-4,o=e.length-2;t[HOUR]=toInt(e.substr(0,a)),t[MINUTE]=toInt(e.substr(a,2)),t[SECOND]=toInt(e.substr(o)),getParsingFlags(i).bigHour=!0});addParseToken("Hmm",function(e,t,i){var a=e.length-2;t[HOUR]=toInt(e.substr(0,a)),t[MINUTE]=toInt(e.substr(a))});addParseToken("Hmmss",function(e,t,i){var a=e.length-4,o=e.length-2;t[HOUR]=toInt(e.substr(0,a)),t[MINUTE]=toInt(e.substr(a,2)),t[SECOND]=toInt(e.substr(o))});function localeIsPM(e){return(e+"").toLowerCase().charAt(0)==="p"}var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);function localeMeridiem(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}var baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},localeFamilies={},globalLocale;function commonPrefix(e,t){var i,a=Math.min(e.length,t.length);for(i=0;i<a;i+=1)if(e[i]!==t[i])return i;return a}function normalizeLocale(e){return e&&e.toLowerCase().replace("_","-")}function chooseLocale(e){for(var t=0,i,a,o,u;t<e.length;){for(u=normalizeLocale(e[t]).split("-"),i=u.length,a=normalizeLocale(e[t+1]),a=a?a.split("-"):null;i>0;){if(o=loadLocale(u.slice(0,i).join("-")),o)return o;if(a&&a.length>=i&&commonPrefix(u,a)>=i-1)break;i--}t++}return globalLocale}function isLocaleNameSane(e){return e.match("^[^/\\\\]*$")!=null}function loadLocale(e){var t=null,i;if(locales[e]===void 0&&typeof module<"u"&&module&&module.exports&&isLocaleNameSane(e))try{t=globalLocale._abbr,i=require,i("./locale/"+e),getSetGlobalLocale(t)}catch{locales[e]=null}return locales[e]}function getSetGlobalLocale(e,t){var i;return e&&(isUndefined(t)?i=getLocale$1(e):i=defineLocale(e,t),i?globalLocale=i:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),globalLocale._abbr}function defineLocale(e,t){if(t!==null){var i,a=baseConfig;if(t.abbr=e,locales[e]!=null)deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=locales[e]._config;else if(t.parentLocale!=null)if(locales[t.parentLocale]!=null)a=locales[t.parentLocale]._config;else if(i=loadLocale(t.parentLocale),i!=null)a=i._config;else return localeFamilies[t.parentLocale]||(localeFamilies[t.parentLocale]=[]),localeFamilies[t.parentLocale].push({name:e,config:t}),null;return locales[e]=new Locale(mergeConfigs(a,t)),localeFamilies[e]&&localeFamilies[e].forEach(function(o){defineLocale(o.name,o.config)}),getSetGlobalLocale(e),locales[e]}else return delete locales[e],null}function updateLocale(e,t){if(t!=null){var i,a,o=baseConfig;locales[e]!=null&&locales[e].parentLocale!=null?locales[e].set(mergeConfigs(locales[e]._config,t)):(a=loadLocale(e),a!=null&&(o=a._config),t=mergeConfigs(o,t),a==null&&(t.abbr=e),i=new Locale(t),i.parentLocale=locales[e],locales[e]=i),getSetGlobalLocale(e)}else locales[e]!=null&&(locales[e].parentLocale!=null?(locales[e]=locales[e].parentLocale,e===getSetGlobalLocale()&&getSetGlobalLocale(e)):locales[e]!=null&&delete locales[e]);return locales[e]}function getLocale$1(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return globalLocale;if(!isArray(e)){if(t=loadLocale(e),t)return t;e=[e]}return chooseLocale(e)}function listLocales(){return keys(locales)}function checkOverflow$2(e){var t,i=e._a;return i&&getParsingFlags(e).overflow===-2&&(t=i[MONTH]<0||i[MONTH]>11?MONTH:i[DATE]<1||i[DATE]>daysInMonth(i[YEAR],i[MONTH])?DATE:i[HOUR]<0||i[HOUR]>24||i[HOUR]===24&&(i[MINUTE]!==0||i[SECOND]!==0||i[MILLISECOND]!==0)?HOUR:i[MINUTE]<0||i[MINUTE]>59?MINUTE:i[SECOND]<0||i[SECOND]>59?SECOND:i[MILLISECOND]<0||i[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(e)._overflowDayOfYear&&(t<YEAR||t>DATE)&&(t=DATE),getParsingFlags(e)._overflowWeeks&&t===-1&&(t=WEEK),getParsingFlags(e)._overflowWeekday&&t===-1&&(t=WEEKDAY),getParsingFlags(e).overflow=t),e}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((-?\d+)/i,rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,obsOffsets={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function configFromISO(e){var t,i,a=e._i,o=extendedIsoRegex.exec(a)||basicIsoRegex.exec(a),u,d,n,k,j=isoDates.length,Z=isoTimes.length;if(o){for(getParsingFlags(e).iso=!0,t=0,i=j;t<i;t++)if(isoDates[t][1].exec(o[1])){d=isoDates[t][0],u=isoDates[t][2]!==!1;break}if(d==null){e._isValid=!1;return}if(o[3]){for(t=0,i=Z;t<i;t++)if(isoTimes[t][1].exec(o[3])){n=(o[2]||" ")+isoTimes[t][0];break}if(n==null){e._isValid=!1;return}}if(!u&&n!=null){e._isValid=!1;return}if(o[4])if(tzRegex.exec(o[4]))k="Z";else{e._isValid=!1;return}e._f=d+(n||"")+(k||""),configFromStringAndFormat(e)}else e._isValid=!1}function extractFromRFC2822Strings(e,t,i,a,o,u){var d=[untruncateYear(e),defaultLocaleMonthsShort.indexOf(t),parseInt(i,10),parseInt(a,10),parseInt(o,10)];return u&&d.push(parseInt(u,10)),d}function untruncateYear(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function preprocessRFC2822(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(e,t,i){if(e){var a=defaultLocaleWeekdaysShort.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(a!==o)return getParsingFlags(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}function calculateOffset(e,t,i){if(e)return obsOffsets[e];if(t)return 0;var a=parseInt(i,10),o=a%100,u=(a-o)/100;return u*60+o}function configFromRFC2822(e){var t=rfc2822.exec(preprocessRFC2822(e._i)),i;if(t){if(i=extractFromRFC2822Strings(t[4],t[3],t[2],t[5],t[6],t[7]),!checkWeekday(t[1],i,e))return;e._a=i,e._tzm=calculateOffset(t[8],t[9],t[10]),e._d=createUTCDate.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),getParsingFlags(e).rfc2822=!0}else e._isValid=!1}function configFromString(e){var t=aspNetJsonRegex.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(configFromISO(e),e._isValid===!1)delete e._isValid;else return;if(configFromRFC2822(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:hooks.createFromInputFallback(e)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function defaults$1(e,t,i){return e??t??i}function currentDateArray(e){var t=new Date(hooks.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function configFromArray(e){var t,i,a=[],o,u,d;if(!e._d){for(o=currentDateArray(e),e._w&&e._a[DATE]==null&&e._a[MONTH]==null&&dayOfYearFromWeekInfo(e),e._dayOfYear!=null&&(d=defaults$1(e._a[YEAR],o[YEAR]),(e._dayOfYear>daysInYear(d)||e._dayOfYear===0)&&(getParsingFlags(e)._overflowDayOfYear=!0),i=createUTCDate(d,0,e._dayOfYear),e._a[MONTH]=i.getUTCMonth(),e._a[DATE]=i.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=a[t]=o[t];for(;t<7;t++)e._a[t]=a[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[HOUR]===24&&e._a[MINUTE]===0&&e._a[SECOND]===0&&e._a[MILLISECOND]===0&&(e._nextDay=!0,e._a[HOUR]=0),e._d=(e._useUTC?createUTCDate:createDate).apply(null,a),u=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[HOUR]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==u&&(getParsingFlags(e).weekdayMismatch=!0)}}function dayOfYearFromWeekInfo(e){var t,i,a,o,u,d,n,k,j;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(u=1,d=4,i=defaults$1(t.GG,e._a[YEAR],weekOfYear(createLocal(),1,4).year),a=defaults$1(t.W,1),o=defaults$1(t.E,1),(o<1||o>7)&&(k=!0)):(u=e._locale._week.dow,d=e._locale._week.doy,j=weekOfYear(createLocal(),u,d),i=defaults$1(t.gg,e._a[YEAR],j.year),a=defaults$1(t.w,j.week),t.d!=null?(o=t.d,(o<0||o>6)&&(k=!0)):t.e!=null?(o=t.e+u,(t.e<0||t.e>6)&&(k=!0)):o=u),a<1||a>weeksInYear(i,u,d)?getParsingFlags(e)._overflowWeeks=!0:k!=null?getParsingFlags(e)._overflowWeekday=!0:(n=dayOfYearFromWeeks(i,a,o,u,d),e._a[YEAR]=n.year,e._dayOfYear=n.dayOfYear)}hooks.ISO_8601=function(){};hooks.RFC_2822=function(){};function configFromStringAndFormat(e){if(e._f===hooks.ISO_8601){configFromISO(e);return}if(e._f===hooks.RFC_2822){configFromRFC2822(e);return}e._a=[],getParsingFlags(e).empty=!0;var t=""+e._i,i,a,o,u,d,n=t.length,k=0,j,Z;for(o=expandFormat(e._f,e._locale).match(formattingTokens)||[],Z=o.length,i=0;i<Z;i++)u=o[i],a=(t.match(getParseRegexForToken(u,e))||[])[0],a&&(d=t.substr(0,t.indexOf(a)),d.length>0&&getParsingFlags(e).unusedInput.push(d),t=t.slice(t.indexOf(a)+a.length),k+=a.length),formatTokenFunctions[u]?(a?getParsingFlags(e).empty=!1:getParsingFlags(e).unusedTokens.push(u),addTimeToArrayFromToken(u,a,e)):e._strict&&!a&&getParsingFlags(e).unusedTokens.push(u);getParsingFlags(e).charsLeftOver=n-k,t.length>0&&getParsingFlags(e).unusedInput.push(t),e._a[HOUR]<=12&&getParsingFlags(e).bigHour===!0&&e._a[HOUR]>0&&(getParsingFlags(e).bigHour=void 0),getParsingFlags(e).parsedDateParts=e._a.slice(0),getParsingFlags(e).meridiem=e._meridiem,e._a[HOUR]=meridiemFixWrap(e._locale,e._a[HOUR],e._meridiem),j=getParsingFlags(e).era,j!==null&&(e._a[YEAR]=e._locale.erasConvertYear(j,e._a[YEAR])),configFromArray(e),checkOverflow$2(e)}function meridiemFixWrap(e,t,i){var a;return i==null?t:e.meridiemHour!=null?e.meridiemHour(t,i):(e.isPM!=null&&(a=e.isPM(i),a&&t<12&&(t+=12),!a&&t===12&&(t=0)),t)}function configFromStringAndArray(e){var t,i,a,o,u,d,n=!1,k=e._f.length;if(k===0){getParsingFlags(e).invalidFormat=!0,e._d=new Date(NaN);return}for(o=0;o<k;o++)u=0,d=!1,t=copyConfig({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[o],configFromStringAndFormat(t),isValid(t)&&(d=!0),u+=getParsingFlags(t).charsLeftOver,u+=getParsingFlags(t).unusedTokens.length*10,getParsingFlags(t).score=u,n?u<a&&(a=u,i=t):(a==null||u<a||d)&&(a=u,i=t,d&&(n=!0));extend$6(e,i||t)}function configFromObject(e){if(!e._d){var t=normalizeObjectUnits(e._i),i=t.day===void 0?t.date:t.day;e._a=map([t.year,t.month,i,t.hour,t.minute,t.second,t.millisecond],function(a){return a&&parseInt(a,10)}),configFromArray(e)}}function createFromConfig(e){var t=new Moment(checkOverflow$2(prepareConfig(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function prepareConfig(e){var t=e._i,i=e._f;return e._locale=e._locale||getLocale$1(e._l),t===null||i===void 0&&t===""?createInvalid({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),isMoment(t)?new Moment(checkOverflow$2(t)):(isDate(t)?e._d=t:isArray(i)?configFromStringAndArray(e):i?configFromStringAndFormat(e):configFromInput(e),isValid(e)||(e._d=null),e))}function configFromInput(e){var t=e._i;isUndefined(t)?e._d=new Date(hooks.now()):isDate(t)?e._d=new Date(t.valueOf()):typeof t=="string"?configFromString(e):isArray(t)?(e._a=map(t.slice(0),function(i){return parseInt(i,10)}),configFromArray(e)):isObject$4(t)?configFromObject(e):isNumber(t)?e._d=new Date(t):hooks.createFromInputFallback(e)}function createLocalOrUTC(e,t,i,a,o){var u={};return(t===!0||t===!1)&&(a=t,t=void 0),(i===!0||i===!1)&&(a=i,i=void 0),(isObject$4(e)&&isObjectEmpty(e)||isArray(e)&&e.length===0)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=i,u._i=e,u._f=t,u._strict=a,createFromConfig(u)}function createLocal(e,t,i,a){return createLocalOrUTC(e,t,i,a,!1)}var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=createLocal.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=createLocal.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:createInvalid()});function pickBy(e,t){var i,a;if(t.length===1&&isArray(t[0])&&(t=t[0]),!t.length)return createLocal();for(i=t[0],a=1;a<t.length;++a)(!t[a].isValid()||t[a][e](i))&&(i=t[a]);return i}function min(){var e=[].slice.call(arguments,0);return pickBy("isBefore",e)}function max(){var e=[].slice.call(arguments,0);return pickBy("isAfter",e)}var now$2=function(){return Date.now?Date.now():+new Date},ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid(e){var t,i=!1,a,o=ordering.length;for(t in e)if(hasOwnProp(e,t)&&!(indexOf.call(ordering,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(a=0;a<o;++a)if(e[ordering[a]]){if(i)return!1;parseFloat(e[ordering[a]])!==toInt(e[ordering[a]])&&(i=!0)}return!0}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(e){var t=normalizeObjectUnits(e),i=t.year||0,a=t.quarter||0,o=t.month||0,u=t.week||t.isoWeek||0,d=t.day||0,n=t.hour||0,k=t.minute||0,j=t.second||0,Z=t.millisecond||0;this._isValid=isDurationValid(t),this._milliseconds=+Z+j*1e3+k*6e4+n*1e3*60*60,this._days=+d+u*7,this._months=+o+a*3+i*12,this._data={},this._locale=getLocale$1(),this._bubble()}function isDuration(e){return e instanceof Duration}function absRound(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function compareArrays(e,t,i){var a=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),u=0,d;for(d=0;d<a;d++)(i&&e[d]!==t[d]||!i&&toInt(e[d])!==toInt(t[d]))&&u++;return u+o}function offset(e,t){addFormatToken(e,0,0,function(){var i=this.utcOffset(),a="+";return i<0&&(i=-i,a="-"),a+zeroFill(~~(i/60),2)+t+zeroFill(~~i%60,2)})}offset("Z",":");offset("ZZ","");addRegexToken("Z",matchShortOffset);addRegexToken("ZZ",matchShortOffset);addParseToken(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=offsetFromString(matchShortOffset,e)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(e,t){var i=(t||"").match(e),a,o,u;return i===null?null:(a=i[i.length-1]||[],o=(a+"").match(chunkOffset)||["-",0,0],u=+(o[1]*60)+toInt(o[2]),u===0?0:o[0]==="+"?u:-u)}function cloneWithOffset(e,t){var i,a;return t._isUTC?(i=t.clone(),a=(isMoment(e)||isDate(e)?e.valueOf():createLocal(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+a),hooks.updateOffset(i,!1),i):createLocal(e).local()}function getDateOffset(e){return-Math.round(e._d.getTimezoneOffset())}hooks.updateOffset=function(){};function getSetOffset(e,t,i){var a=this._offset||0,o;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=offsetFromString(matchShortOffset,e),e===null)return this}else Math.abs(e)<16&&!i&&(e=e*60);return!this._isUTC&&t&&(o=getDateOffset(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),a!==e&&(!t||this._changeInProgress?addSubtract(this,createDuration(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?a:getDateOffset(this)}function getSetZone(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function setOffsetToUTC(e){return this.utcOffset(0,e)}function setOffsetToLocal(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=offsetFromString(matchOffset,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(e){return this.isValid()?(e=e?createLocal(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var e={},t;return copyConfig(e,this),e=prepareConfig(e),e._a?(t=e._isUTC?createUTC(e._a):createLocal(e._a),this._isDSTShifted=this.isValid()&&compareArrays(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:!1}function isUtcOffset(){return this.isValid()?this._isUTC:!1}function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:!1}var aspNetRegex=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(e,t){var i=e,a=null,o,u,d;return isDuration(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:isNumber(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(a=aspNetRegex.exec(e))?(o=a[1]==="-"?-1:1,i={y:0,d:toInt(a[DATE])*o,h:toInt(a[HOUR])*o,m:toInt(a[MINUTE])*o,s:toInt(a[SECOND])*o,ms:toInt(absRound(a[MILLISECOND]*1e3))*o}):(a=isoRegex.exec(e))?(o=a[1]==="-"?-1:1,i={y:parseIso(a[2],o),M:parseIso(a[3],o),w:parseIso(a[4],o),d:parseIso(a[5],o),h:parseIso(a[6],o),m:parseIso(a[7],o),s:parseIso(a[8],o)}):i==null?i={}:typeof i=="object"&&("from"in i||"to"in i)&&(d=momentsDifference(createLocal(i.from),createLocal(i.to)),i={},i.ms=d.milliseconds,i.M=d.months),u=new Duration(i),isDuration(e)&&hasOwnProp(e,"_locale")&&(u._locale=e._locale),isDuration(e)&&hasOwnProp(e,"_isValid")&&(u._isValid=e._isValid),u}createDuration.fn=Duration.prototype;createDuration.invalid=createInvalid$1;function parseIso(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function positiveMomentsDifference(e,t){var i={};return i.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function momentsDifference(e,t){var i;return e.isValid()&&t.isValid()?(t=cloneWithOffset(t,e),e.isBefore(t)?i=positiveMomentsDifference(e,t):(i=positiveMomentsDifference(t,e),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function createAdder(e,t){return function(i,a){var o,u;return a!==null&&!isNaN(+a)&&(deprecateSimple(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),u=i,i=a,a=u),o=createDuration(i,a),addSubtract(this,o,e),this}}function addSubtract(e,t,i,a){var o=t._milliseconds,u=absRound(t._days),d=absRound(t._months);e.isValid()&&(a=a??!0,d&&setMonth(e,get(e,"Month")+d*i),u&&set$1(e,"Date",get(e,"Date")+u*i),o&&e._d.setTime(e._d.valueOf()+o*i),a&&hooks.updateOffset(e,u||d))}var add=createAdder(1,"add"),subtract=createAdder(-1,"subtract");function isString(e){return typeof e=="string"||e instanceof String}function isMomentInput(e){return isMoment(e)||isDate(e)||isString(e)||isNumber(e)||isNumberOrStringArray(e)||isMomentInputObject(e)||e===null||e===void 0}function isMomentInputObject(e){var t=isObject$4(e)&&!isObjectEmpty(e),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,u,d=a.length;for(o=0;o<d;o+=1)u=a[o],i=i||hasOwnProp(e,u);return t&&i}function isNumberOrStringArray(e){var t=isArray(e),i=!1;return t&&(i=e.filter(function(a){return!isNumber(a)&&isString(e)}).length===0),t&&i}function isCalendarSpec(e){var t=isObject$4(e)&&!isObjectEmpty(e),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,u;for(o=0;o<a.length;o+=1)u=a[o],i=i||hasOwnProp(e,u);return t&&i}function getCalendarFormat(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function calendar$1(e,t){arguments.length===1&&(arguments[0]?isMomentInput(arguments[0])?(e=arguments[0],t=void 0):isCalendarSpec(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var i=e||createLocal(),a=cloneWithOffset(i,this).startOf("day"),o=hooks.calendarFormat(this,a)||"sameElse",u=t&&(isFunction(t[o])?t[o].call(this,i):t[o]);return this.format(u||this.localeData().calendar(o,this,createLocal(i)))}function clone(){return new Moment(this)}function isAfter(e,t){var i=isMoment(e)?e:createLocal(e);return this.isValid()&&i.isValid()?(t=normalizeUnits(t)||"millisecond",t==="millisecond"?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf()):!1}function isBefore(e,t){var i=isMoment(e)?e:createLocal(e);return this.isValid()&&i.isValid()?(t=normalizeUnits(t)||"millisecond",t==="millisecond"?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf()):!1}function isBetween(e,t,i,a){var o=isMoment(e)?e:createLocal(e),u=isMoment(t)?t:createLocal(t);return this.isValid()&&o.isValid()&&u.isValid()?(a=a||"()",(a[0]==="("?this.isAfter(o,i):!this.isBefore(o,i))&&(a[1]===")"?this.isBefore(u,i):!this.isAfter(u,i))):!1}function isSame(e,t){var i=isMoment(e)?e:createLocal(e),a;return this.isValid()&&i.isValid()?(t=normalizeUnits(t)||"millisecond",t==="millisecond"?this.valueOf()===i.valueOf():(a=i.valueOf(),this.clone().startOf(t).valueOf()<=a&&a<=this.clone().endOf(t).valueOf())):!1}function isSameOrAfter(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function isSameOrBefore(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function diff(e,t,i){var a,o,u;if(!this.isValid())return NaN;if(a=cloneWithOffset(e,this),!a.isValid())return NaN;switch(o=(a.utcOffset()-this.utcOffset())*6e4,t=normalizeUnits(t),t){case"year":u=monthDiff(this,a)/12;break;case"month":u=monthDiff(this,a);break;case"quarter":u=monthDiff(this,a)/3;break;case"second":u=(this-a)/1e3;break;case"minute":u=(this-a)/6e4;break;case"hour":u=(this-a)/36e5;break;case"day":u=(this-a-o)/864e5;break;case"week":u=(this-a-o)/6048e5;break;default:u=this-a}return i?u:absFloor(u)}function monthDiff(e,t){if(e.date()<t.date())return-monthDiff(t,e);var i=(t.year()-e.year())*12+(t.month()-e.month()),a=e.clone().add(i,"months"),o,u;return t-a<0?(o=e.clone().add(i-1,"months"),u=(t-a)/(a-o)):(o=e.clone().add(i+1,"months"),u=(t-a)/(o-a)),-(i+u)||0}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function toString$1(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(e){if(!this.isValid())return null;var t=e!==!0,i=t?this.clone().utc():this;return i.year()<0||i.year()>9999?formatMoment(i,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",formatMoment(i,"Z")):formatMoment(i,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",i,a,o,u;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),i="["+e+'("]',a=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",u=t+'[")]',this.format(i+a+o+u)}function format$1(e){e||(e=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var t=formatMoment(this,e);return this.localeData().postformat(t)}function from(e,t){return this.isValid()&&(isMoment(e)&&e.isValid()||createLocal(e).isValid())?createDuration({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function fromNow(e){return this.from(createLocal(),e)}function to(e,t){return this.isValid()&&(isMoment(e)&&e.isValid()||createLocal(e).isValid())?createDuration({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function toNow(e){return this.to(createLocal(),e)}function locale(e){var t;return e===void 0?this._locale._abbr:(t=getLocale$1(e),t!=null&&(this._locale=t),this)}var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function localeData(){return this._locale}var MS_PER_SECOND=1e3,MS_PER_MINUTE=60*MS_PER_SECOND,MS_PER_HOUR=60*MS_PER_MINUTE,MS_PER_400_YEARS=(365*400+97)*24*MS_PER_HOUR;function mod$1(e,t){return(e%t+t)%t}function localStartOfDate(e,t,i){return e<100&&e>=0?new Date(e+400,t,i)-MS_PER_400_YEARS:new Date(e,t,i).valueOf()}function utcStartOfDate(e,t,i){return e<100&&e>=0?Date.UTC(e+400,t,i)-MS_PER_400_YEARS:Date.UTC(e,t,i)}function startOf(e){var t,i;if(e=normalizeUnits(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?utcStartOfDate:localStartOfDate,e){case"year":t=i(this.year(),0,1);break;case"quarter":t=i(this.year(),this.month()-this.month()%3,1);break;case"month":t=i(this.year(),this.month(),1);break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=i(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=mod$1(t+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR);break;case"minute":t=this._d.valueOf(),t-=mod$1(t,MS_PER_MINUTE);break;case"second":t=this._d.valueOf(),t-=mod$1(t,MS_PER_SECOND);break}return this._d.setTime(t),hooks.updateOffset(this,!0),this}function endOf(e){var t,i;if(e=normalizeUnits(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?utcStartOfDate:localStartOfDate,e){case"year":t=i(this.year()+1,0,1)-1;break;case"quarter":t=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=i(this.year(),this.month()+1,1)-1;break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=MS_PER_HOUR-mod$1(t+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR)-1;break;case"minute":t=this._d.valueOf(),t+=MS_PER_MINUTE-mod$1(t,MS_PER_MINUTE)-1;break;case"second":t=this._d.valueOf(),t+=MS_PER_SECOND-mod$1(t,MS_PER_SECOND)-1;break}return this._d.setTime(t),hooks.updateOffset(this,!0),this}function valueOf(){return this._d.valueOf()-(this._offset||0)*6e4}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate$1(){return new Date(this.valueOf())}function toArray(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function toObject(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend$6({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}addFormatToken("N",0,0,"eraAbbr");addFormatToken("NN",0,0,"eraAbbr");addFormatToken("NNN",0,0,"eraAbbr");addFormatToken("NNNN",0,0,"eraName");addFormatToken("NNNNN",0,0,"eraNarrow");addFormatToken("y",["y",1],"yo","eraYear");addFormatToken("y",["yy",2],0,"eraYear");addFormatToken("y",["yyy",3],0,"eraYear");addFormatToken("y",["yyyy",4],0,"eraYear");addRegexToken("N",matchEraAbbr);addRegexToken("NN",matchEraAbbr);addRegexToken("NNN",matchEraAbbr);addRegexToken("NNNN",matchEraName);addRegexToken("NNNNN",matchEraNarrow);addParseToken(["N","NN","NNN","NNNN","NNNNN"],function(e,t,i,a){var o=i._locale.erasParse(e,a,i._strict);o?getParsingFlags(i).era=o:getParsingFlags(i).invalidEra=e});addRegexToken("y",matchUnsigned);addRegexToken("yy",matchUnsigned);addRegexToken("yyy",matchUnsigned);addRegexToken("yyyy",matchUnsigned);addRegexToken("yo",matchEraYearOrdinal);addParseToken(["y","yy","yyy","yyyy"],YEAR);addParseToken(["yo"],function(e,t,i,a){var o;i._locale._eraYearOrdinalRegex&&(o=e.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?t[YEAR]=i._locale.eraYearOrdinalParse(e,o):t[YEAR]=parseInt(e,10)});function localeEras(e,t){var i,a,o,u=this._eras||getLocale$1("en")._eras;for(i=0,a=u.length;i<a;++i){switch(typeof u[i].since){case"string":o=hooks(u[i].since).startOf("day"),u[i].since=o.valueOf();break}switch(typeof u[i].until){case"undefined":u[i].until=1/0;break;case"string":o=hooks(u[i].until).startOf("day").valueOf(),u[i].until=o.valueOf();break}}return u}function localeErasParse(e,t,i){var a,o,u=this.eras(),d,n,k;for(e=e.toUpperCase(),a=0,o=u.length;a<o;++a)if(d=u[a].name.toUpperCase(),n=u[a].abbr.toUpperCase(),k=u[a].narrow.toUpperCase(),i)switch(t){case"N":case"NN":case"NNN":if(n===e)return u[a];break;case"NNNN":if(d===e)return u[a];break;case"NNNNN":if(k===e)return u[a];break}else if([d,n,k].indexOf(e)>=0)return u[a]}function localeErasConvertYear(e,t){var i=e.since<=e.until?1:-1;return t===void 0?hooks(e.since).year():hooks(e.since).year()+(t-e.offset)*i}function getEraName(){var e,t,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return a[e].name;return""}function getEraNarrow(){var e,t,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return a[e].narrow;return""}function getEraAbbr(){var e,t,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return a[e].abbr;return""}function getEraYear(){var e,t,i,a,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(i=o[e].since<=o[e].until?1:-1,a=this.clone().startOf("day").valueOf(),o[e].since<=a&&a<=o[e].until||o[e].until<=a&&a<=o[e].since)return(this.year()-hooks(o[e].since).year())*i+o[e].offset;return this.year()}function erasNameRegex(e){return hasOwnProp(this,"_erasNameRegex")||computeErasParse.call(this),e?this._erasNameRegex:this._erasRegex}function erasAbbrRegex(e){return hasOwnProp(this,"_erasAbbrRegex")||computeErasParse.call(this),e?this._erasAbbrRegex:this._erasRegex}function erasNarrowRegex(e){return hasOwnProp(this,"_erasNarrowRegex")||computeErasParse.call(this),e?this._erasNarrowRegex:this._erasRegex}function matchEraAbbr(e,t){return t.erasAbbrRegex(e)}function matchEraName(e,t){return t.erasNameRegex(e)}function matchEraNarrow(e,t){return t.erasNarrowRegex(e)}function matchEraYearOrdinal(e,t){return t._eraYearOrdinalRegex||matchUnsigned}function computeErasParse(){var e=[],t=[],i=[],a=[],o,u,d=this.eras();for(o=0,u=d.length;o<u;++o)t.push(regexEscape(d[o].name)),e.push(regexEscape(d[o].abbr)),i.push(regexEscape(d[o].narrow)),a.push(regexEscape(d[o].name)),a.push(regexEscape(d[o].abbr)),a.push(regexEscape(d[o].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100});addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100});function addWeekYearFormatToken(e,t){addFormatToken(0,[e,e.length],0,t)}addWeekYearFormatToken("gggg","weekYear");addWeekYearFormatToken("ggggg","weekYear");addWeekYearFormatToken("GGGG","isoWeekYear");addWeekYearFormatToken("GGGGG","isoWeekYear");addUnitAlias("weekYear","gg");addUnitAlias("isoWeekYear","GG");addUnitPriority("weekYear",1);addUnitPriority("isoWeekYear",1);addRegexToken("G",matchSigned);addRegexToken("g",matchSigned);addRegexToken("GG",match1to2,match2);addRegexToken("gg",match1to2,match2);addRegexToken("GGGG",match1to4,match4);addRegexToken("gggg",match1to4,match4);addRegexToken("GGGGG",match1to6,match6);addRegexToken("ggggg",match1to6,match6);addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,a){t[a.substr(0,2)]=toInt(e)});addWeekParseToken(["gg","GG"],function(e,t,i,a){t[a]=hooks.parseTwoDigitYear(e)});function getSetWeekYear(e){return getSetWeekYearHelper.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(e){return getSetWeekYearHelper.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getISOWeeksInISOWeekYear(){return weeksInYear(this.isoWeekYear(),1,4)}function getWeeksInYear(){var e=this.localeData()._week;return weeksInYear(this.year(),e.dow,e.doy)}function getWeeksInWeekYear(){var e=this.localeData()._week;return weeksInYear(this.weekYear(),e.dow,e.doy)}function getSetWeekYearHelper(e,t,i,a,o){var u;return e==null?weekOfYear(this,a,o).year:(u=weeksInYear(e,a,o),t>u&&(t=u),setWeekAll.call(this,e,t,i,a,o))}function setWeekAll(e,t,i,a,o){var u=dayOfYearFromWeeks(e,t,i,a,o),d=createUTCDate(u.year,0,u.dayOfYear);return this.year(d.getUTCFullYear()),this.month(d.getUTCMonth()),this.date(d.getUTCDate()),this}addFormatToken("Q",0,"Qo","quarter");addUnitAlias("quarter","Q");addUnitPriority("quarter",7);addRegexToken("Q",match1);addParseToken("Q",function(e,t){t[MONTH]=(toInt(e)-1)*3});function getSetQuarter(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}addFormatToken("D",["DD",2],"Do","date");addUnitAlias("date","D");addUnitPriority("date",9);addRegexToken("D",match1to2);addRegexToken("DD",match1to2,match2);addRegexToken("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});addParseToken(["D","DD"],DATE);addParseToken("Do",function(e,t){t[DATE]=toInt(e.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear");addUnitAlias("dayOfYear","DDD");addUnitPriority("dayOfYear",4);addRegexToken("DDD",match1to3);addRegexToken("DDDD",match3);addParseToken(["DDD","DDDD"],function(e,t,i){i._dayOfYear=toInt(e)});function getSetDayOfYear(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}addFormatToken("m",["mm",2],0,"minute");addUnitAlias("minute","m");addUnitPriority("minute",14);addRegexToken("m",match1to2);addRegexToken("mm",match1to2,match2);addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second");addUnitAlias("second","s");addUnitPriority("second",15);addRegexToken("s",match1to2);addRegexToken("ss",match1to2,match2);addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)});addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)});addFormatToken(0,["SSS",3],0,"millisecond");addFormatToken(0,["SSSS",4],0,function(){return this.millisecond()*10});addFormatToken(0,["SSSSS",5],0,function(){return this.millisecond()*100});addFormatToken(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});addFormatToken(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});addFormatToken(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});addFormatToken(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});addUnitAlias("millisecond","ms");addUnitPriority("millisecond",16);addRegexToken("S",match1to3,match1);addRegexToken("SS",match1to3,match2);addRegexToken("SSS",match1to3,match3);var token,getSetMillisecond;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);function parseMs(e,t){t[MILLISECOND]=toInt(("0."+e)*1e3)}for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr");addFormatToken("zz",0,0,"zoneName");function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}var proto=Moment.prototype;proto.add=add;proto.calendar=calendar$1;proto.clone=clone;proto.diff=diff;proto.endOf=endOf;proto.format=format$1;proto.from=from;proto.fromNow=fromNow;proto.to=to;proto.toNow=toNow;proto.get=stringGet;proto.invalidAt=invalidAt;proto.isAfter=isAfter;proto.isBefore=isBefore;proto.isBetween=isBetween;proto.isSame=isSame;proto.isSameOrAfter=isSameOrAfter;proto.isSameOrBefore=isSameOrBefore;proto.isValid=isValid$2;proto.lang=lang;proto.locale=locale;proto.localeData=localeData;proto.max=prototypeMax;proto.min=prototypeMin;proto.parsingFlags=parsingFlags;proto.set=stringSet;proto.startOf=startOf;proto.subtract=subtract;proto.toArray=toArray;proto.toObject=toObject;proto.toDate=toDate$1;proto.toISOString=toISOString;proto.inspect=inspect;typeof Symbol<"u"&&Symbol.for!=null&&(proto[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});proto.toJSON=toJSON;proto.toString=toString$1;proto.unix=unix;proto.valueOf=valueOf;proto.creationData=creationData;proto.eraName=getEraName;proto.eraNarrow=getEraNarrow;proto.eraAbbr=getEraAbbr;proto.eraYear=getEraYear;proto.year=getSetYear;proto.isLeapYear=getIsLeapYear;proto.weekYear=getSetWeekYear;proto.isoWeekYear=getSetISOWeekYear;proto.quarter=proto.quarters=getSetQuarter;proto.month=getSetMonth;proto.daysInMonth=getDaysInMonth;proto.week=proto.weeks=getSetWeek;proto.isoWeek=proto.isoWeeks=getSetISOWeek;proto.weeksInYear=getWeeksInYear;proto.weeksInWeekYear=getWeeksInWeekYear;proto.isoWeeksInYear=getISOWeeksInYear;proto.isoWeeksInISOWeekYear=getISOWeeksInISOWeekYear;proto.date=getSetDayOfMonth;proto.day=proto.days=getSetDayOfWeek;proto.weekday=getSetLocaleDayOfWeek;proto.isoWeekday=getSetISODayOfWeek;proto.dayOfYear=getSetDayOfYear;proto.hour=proto.hours=getSetHour;proto.minute=proto.minutes=getSetMinute;proto.second=proto.seconds=getSetSecond;proto.millisecond=proto.milliseconds=getSetMillisecond;proto.utcOffset=getSetOffset;proto.utc=setOffsetToUTC;proto.local=setOffsetToLocal;proto.parseZone=setOffsetToParsedOffset;proto.hasAlignedHourOffset=hasAlignedHourOffset;proto.isDST=isDaylightSavingTime;proto.isLocal=isLocal;proto.isUtcOffset=isUtcOffset;proto.isUtc=isUtc;proto.isUTC=isUtc;proto.zoneAbbr=getZoneAbbr;proto.zoneName=getZoneName;proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth);proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth);proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear);proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone);proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);function createUnix(e){return createLocal(e*1e3)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(e){return e}var proto$1=Locale.prototype;proto$1.calendar=calendar;proto$1.longDateFormat=longDateFormat;proto$1.invalidDate=invalidDate;proto$1.ordinal=ordinal;proto$1.preparse=preParsePostFormat;proto$1.postformat=preParsePostFormat;proto$1.relativeTime=relativeTime;proto$1.pastFuture=pastFuture;proto$1.set=set;proto$1.eras=localeEras;proto$1.erasParse=localeErasParse;proto$1.erasConvertYear=localeErasConvertYear;proto$1.erasAbbrRegex=erasAbbrRegex;proto$1.erasNameRegex=erasNameRegex;proto$1.erasNarrowRegex=erasNarrowRegex;proto$1.months=localeMonths;proto$1.monthsShort=localeMonthsShort;proto$1.monthsParse=localeMonthsParse;proto$1.monthsRegex=monthsRegex;proto$1.monthsShortRegex=monthsShortRegex;proto$1.week=localeWeek;proto$1.firstDayOfYear=localeFirstDayOfYear;proto$1.firstDayOfWeek=localeFirstDayOfWeek;proto$1.weekdays=localeWeekdays;proto$1.weekdaysMin=localeWeekdaysMin;proto$1.weekdaysShort=localeWeekdaysShort;proto$1.weekdaysParse=localeWeekdaysParse;proto$1.weekdaysRegex=weekdaysRegex;proto$1.weekdaysShortRegex=weekdaysShortRegex;proto$1.weekdaysMinRegex=weekdaysMinRegex;proto$1.isPM=localeIsPM;proto$1.meridiem=localeMeridiem;function get$1(e,t,i,a){var o=getLocale$1(),u=createUTC().set(a,t);return o[i](u,e)}function listMonthsImpl(e,t,i){if(isNumber(e)&&(t=e,e=void 0),e=e||"",t!=null)return get$1(e,t,i,"month");var a,o=[];for(a=0;a<12;a++)o[a]=get$1(e,a,i,"month");return o}function listWeekdaysImpl(e,t,i,a){typeof e=="boolean"?(isNumber(t)&&(i=t,t=void 0),t=t||""):(t=e,i=t,e=!1,isNumber(t)&&(i=t,t=void 0),t=t||"");var o=getLocale$1(),u=e?o._week.dow:0,d,n=[];if(i!=null)return get$1(t,(i+u)%7,a,"day");for(d=0;d<7;d++)n[d]=get$1(t,(d+u)%7,a,"day");return n}function listMonths(e,t){return listMonthsImpl(e,t,"months")}function listMonthsShort(e,t){return listMonthsImpl(e,t,"monthsShort")}function listWeekdays(e,t,i){return listWeekdaysImpl(e,t,i,"weekdays")}function listWeekdaysShort(e,t,i){return listWeekdaysImpl(e,t,i,"weekdaysShort")}function listWeekdaysMin(e,t,i){return listWeekdaysImpl(e,t,i,"weekdaysMin")}getSetGlobalLocale("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=toInt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+i}});hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale);hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale$1);var mathAbs=Math.abs;function abs(){var e=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),e.milliseconds=mathAbs(e.milliseconds),e.seconds=mathAbs(e.seconds),e.minutes=mathAbs(e.minutes),e.hours=mathAbs(e.hours),e.months=mathAbs(e.months),e.years=mathAbs(e.years),this}function addSubtract$1(e,t,i,a){var o=createDuration(t,i);return e._milliseconds+=a*o._milliseconds,e._days+=a*o._days,e._months+=a*o._months,e._bubble()}function add$1(e,t){return addSubtract$1(this,e,t,1)}function subtract$1(e,t){return addSubtract$1(this,e,t,-1)}function absCeil(e){return e<0?Math.floor(e):Math.ceil(e)}function bubble(){var e=this._milliseconds,t=this._days,i=this._months,a=this._data,o,u,d,n,k;return e>=0&&t>=0&&i>=0||e<=0&&t<=0&&i<=0||(e+=absCeil(monthsToDays(i)+t)*864e5,t=0,i=0),a.milliseconds=e%1e3,o=absFloor(e/1e3),a.seconds=o%60,u=absFloor(o/60),a.minutes=u%60,d=absFloor(u/60),a.hours=d%24,t+=absFloor(d/24),k=absFloor(daysToMonths(t)),i+=k,t-=absCeil(monthsToDays(k)),n=absFloor(i/12),i%=12,a.days=t,a.months=i,a.years=n,this}function daysToMonths(e){return e*4800/146097}function monthsToDays(e){return e*146097/4800}function as(e){if(!this.isValid())return NaN;var t,i,a=this._milliseconds;if(e=normalizeUnits(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+a/864e5,i=this._months+daysToMonths(t),e){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(t=this._days+Math.round(monthsToDays(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return t*24+a/36e5;case"minute":return t*1440+a/6e4;case"second":return t*86400+a/1e3;case"millisecond":return Math.floor(t*864e5)+a;default:throw new Error("Unknown unit "+e)}}function valueOf$1(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+toInt(this._months/12)*31536e6:NaN}function makeAs(e){return function(){return this.as(e)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asQuarters=makeAs("Q"),asYears=makeAs("y");function clone$1(){return createDuration(this)}function get$2(e){return e=normalizeUnits(e),this.isValid()?this[e+"s"]():NaN}function makeGetter(e){return function(){return this.isValid()?this._data[e]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function substituteTimeAgo(e,t,i,a,o){return o.relativeTime(t||1,!!i,e,a)}function relativeTime$1(e,t,i,a){var o=createDuration(e).abs(),u=round(o.as("s")),d=round(o.as("m")),n=round(o.as("h")),k=round(o.as("d")),j=round(o.as("M")),Z=round(o.as("w")),z=round(o.as("y")),H=u<=i.ss&&["s",u]||u<i.s&&["ss",u]||d<=1&&["m"]||d<i.m&&["mm",d]||n<=1&&["h"]||n<i.h&&["hh",n]||k<=1&&["d"]||k<i.d&&["dd",k];return i.w!=null&&(H=H||Z<=1&&["w"]||Z<i.w&&["ww",Z]),H=H||j<=1&&["M"]||j<i.M&&["MM",j]||z<=1&&["y"]||["yy",z],H[2]=t,H[3]=+e>0,H[4]=a,substituteTimeAgo.apply(null,H)}function getSetRelativeTimeRounding(e){return e===void 0?round:typeof e=="function"?(round=e,!0):!1}function getSetRelativeTimeThreshold(e,t){return thresholds[e]===void 0?!1:t===void 0?thresholds[e]:(thresholds[e]=t,e==="s"&&(thresholds.ss=t-1),!0)}function humanize(e,t){if(!this.isValid())return this.localeData().invalidDate();var i=!1,a=thresholds,o,u;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(i=e),typeof t=="object"&&(a=Object.assign({},thresholds,t),t.s!=null&&t.ss==null&&(a.ss=t.s-1)),o=this.localeData(),u=relativeTime$1(this,!i,a,o),i&&(u=o.pastFuture(+this,u)),o.postformat(u)}var abs$1=Math.abs;function sign(e){return(e>0)-(e<0)||+e}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var e=abs$1(this._milliseconds)/1e3,t=abs$1(this._days),i=abs$1(this._months),a,o,u,d,n=this.asSeconds(),k,j,Z,z;return n?(a=absFloor(e/60),o=absFloor(a/60),e%=60,a%=60,u=absFloor(i/12),i%=12,d=e?e.toFixed(3).replace(/\.?0+$/,""):"",k=n<0?"-":"",j=sign(this._months)!==sign(n)?"-":"",Z=sign(this._days)!==sign(n)?"-":"",z=sign(this._milliseconds)!==sign(n)?"-":"",k+"P"+(u?j+u+"Y":"")+(i?j+i+"M":"")+(t?Z+t+"D":"")+(o||a||e?"T":"")+(o?z+o+"H":"")+(a?z+a+"M":"")+(e?z+d+"S":"")):"P0D"}var proto$2=Duration.prototype;proto$2.isValid=isValid$1;proto$2.abs=abs;proto$2.add=add$1;proto$2.subtract=subtract$1;proto$2.as=as;proto$2.asMilliseconds=asMilliseconds;proto$2.asSeconds=asSeconds;proto$2.asMinutes=asMinutes;proto$2.asHours=asHours;proto$2.asDays=asDays;proto$2.asWeeks=asWeeks;proto$2.asMonths=asMonths;proto$2.asQuarters=asQuarters;proto$2.asYears=asYears;proto$2.valueOf=valueOf$1;proto$2._bubble=bubble;proto$2.clone=clone$1;proto$2.get=get$2;proto$2.milliseconds=milliseconds;proto$2.seconds=seconds;proto$2.minutes=minutes;proto$2.hours=hours;proto$2.days=days;proto$2.weeks=weeks;proto$2.months=months;proto$2.years=years;proto$2.humanize=humanize;proto$2.toISOString=toISOString$1;proto$2.toString=toISOString$1;proto$2.toJSON=toISOString$1;proto$2.locale=locale;proto$2.localeData=localeData;proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1);proto$2.lang=lang;addFormatToken("X",0,0,"unix");addFormatToken("x",0,0,"valueOf");addRegexToken("x",matchSigned);addRegexToken("X",matchTimestamp);addParseToken("X",function(e,t,i){i._d=new Date(parseFloat(e)*1e3)});addParseToken("x",function(e,t,i){i._d=new Date(toInt(e))});//! moment.js
hooks.version="2.29.4";setHookCallback(createLocal);hooks.fn=proto;hooks.min=min;hooks.max=max;hooks.now=now$2;hooks.utc=createUTC;hooks.unix=createUnix;hooks.months=listMonths;hooks.isDate=isDate;hooks.locale=getSetGlobalLocale;hooks.invalid=createInvalid;hooks.duration=createDuration;hooks.isMoment=isMoment;hooks.weekdays=listWeekdays;hooks.parseZone=createInZone;hooks.localeData=getLocale$1;hooks.isDuration=isDuration;hooks.monthsShort=listMonthsShort;hooks.weekdaysMin=listWeekdaysMin;hooks.defineLocale=defineLocale;hooks.updateLocale=updateLocale;hooks.locales=listLocales;hooks.weekdaysShort=listWeekdaysShort;hooks.normalizeUnits=normalizeUnits;hooks.relativeTimeRounding=getSetRelativeTimeRounding;hooks.relativeTimeThreshold=getSetRelativeTimeThreshold;hooks.calendarFormat=getCalendarFormat;hooks.prototype=proto;hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sweetalert2={exports:{}};/*!
* sweetalert2 v11.4.0
* Released under the MIT License.
*/(function(e,t){(function(i,a){e.exports=a()})(commonjsGlobal,function(){const i="SweetAlert2:",a=Me=>{const Re=[];for(let et=0;et<Me.length;et++)Re.indexOf(Me[et])===-1&&Re.push(Me[et]);return Re},o=Me=>Me.charAt(0).toUpperCase()+Me.slice(1),u=Me=>Array.prototype.slice.call(Me),d=Me=>{console.warn("".concat(i," ").concat(typeof Me=="object"?Me.join(" "):Me))},n=Me=>{console.error("".concat(i," ").concat(Me))},k=[],j=Me=>{k.includes(Me)||(k.push(Me),d(Me))},Z=(Me,Re)=>{j('"'.concat(Me,'" is deprecated and will be removed in the next major release. Please use "').concat(Re,'" instead.'))},z=Me=>typeof Me=="function"?Me():Me,H=Me=>Me&&typeof Me.toPromise=="function",Y=Me=>H(Me)?Me.toPromise():Promise.resolve(Me),I=Me=>Me&&Promise.resolve(Me)===Me,B={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},U=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],T={},C=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],P=Me=>Object.prototype.hasOwnProperty.call(B,Me),G=Me=>U.indexOf(Me)!==-1,q=Me=>T[Me],N=Me=>{P(Me)||d('Unknown parameter "'.concat(Me,'"'))},ne=Me=>{C.includes(Me)&&d('The parameter "'.concat(Me,'" is incompatible with toasts'))},K=Me=>{q(Me)&&Z(Me,q(Me))},L=Me=>{!Me.backdrop&&Me.allowOutsideClick&&d('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const Re in Me)N(Re),Me.toast&&ne(Re),K(Re)},E="swal2-",w=Me=>{const Re={};for(const et in Me)Re[Me[et]]=E+Me[et];return Re},g=w(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),A=w(["success","warning","info","question","error"]),m=()=>document.body.querySelector(".".concat(g.container)),y=Me=>{const Re=m();return Re?Re.querySelector(Me):null},x=Me=>y(".".concat(Me)),M=()=>x(g.popup),X=()=>x(g.icon),re=()=>x(g.title),ee=()=>x(g["html-container"]),he=()=>x(g.image),ye=()=>x(g["progress-steps"]),Ce=()=>x(g["validation-message"]),oe=()=>y(".".concat(g.actions," .").concat(g.confirm)),de=()=>y(".".concat(g.actions," .").concat(g.deny)),fe=()=>x(g["input-label"]),ue=()=>y(".".concat(g.loader)),pe=()=>y(".".concat(g.actions," .").concat(g.cancel)),te=()=>x(g.actions),ge=()=>x(g.footer),xe=()=>x(g["timer-progress-bar"]),ce=()=>x(g.close),we=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Ae=()=>{const Me=u(M().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((et,Ot)=>{const Ni=parseInt(et.getAttribute("tabindex")),wr=parseInt(Ot.getAttribute("tabindex"));return Ni>wr?1:Ni<wr?-1:0}),Re=u(M().querySelectorAll(we)).filter(et=>et.getAttribute("tabindex")!=="-1");return a(Me.concat(Re)).filter(et=>hi(et))},Fe=()=>!Qe(document.body,g["toast-shown"])&&!Qe(document.body,g["no-backdrop"]),De=()=>M()&&Qe(M(),g.toast),Ge=()=>M().hasAttribute("data-loading"),ct={previousBodyPadding:null},ot=(Me,Re)=>{if(Me.textContent="",Re){const Ot=new DOMParser().parseFromString(Re,"text/html");u(Ot.querySelector("head").childNodes).forEach(Ni=>{Me.appendChild(Ni)}),u(Ot.querySelector("body").childNodes).forEach(Ni=>{Me.appendChild(Ni)})}},Qe=(Me,Re)=>{if(!Re)return!1;const et=Re.split(/\s+/);for(let Ot=0;Ot<et.length;Ot++)if(!Me.classList.contains(et[Ot]))return!1;return!0},Ie=(Me,Re)=>{u(Me.classList).forEach(et=>{!Object.values(g).includes(et)&&!Object.values(A).includes(et)&&!Object.values(Re.showClass).includes(et)&&Me.classList.remove(et)})},Ue=(Me,Re,et)=>{if(Ie(Me,Re),Re.customClass&&Re.customClass[et]){if(typeof Re.customClass[et]!="string"&&!Re.customClass[et].forEach)return d("Invalid type of customClass.".concat(et,'! Expected string or iterable object, got "').concat(typeof Re.customClass[et],'"'));st(Me,Re.customClass[et])}},He=(Me,Re)=>{if(!Re)return null;switch(Re){case"select":case"textarea":case"file":return Me.querySelector(".".concat(g.popup," > .").concat(g[Re]));case"checkbox":return Me.querySelector(".".concat(g.popup," > .").concat(g.checkbox," input"));case"radio":return Me.querySelector(".".concat(g.popup," > .").concat(g.radio," input:checked"))||Me.querySelector(".".concat(g.popup," > .").concat(g.radio," input:first-child"));case"range":return Me.querySelector(".".concat(g.popup," > .").concat(g.range," input"));default:return Me.querySelector(".".concat(g.popup," > .").concat(g.input))}},it=Me=>{if(Me.focus(),Me.type!=="file"){const Re=Me.value;Me.value="",Me.value=Re}},Je=(Me,Re,et)=>{!Me||!Re||(typeof Re=="string"&&(Re=Re.split(/\s+/).filter(Boolean)),Re.forEach(Ot=>{Array.isArray(Me)?Me.forEach(Ni=>{et?Ni.classList.add(Ot):Ni.classList.remove(Ot)}):et?Me.classList.add(Ot):Me.classList.remove(Ot)}))},st=(Me,Re)=>{Je(Me,Re,!0)},ht=(Me,Re)=>{Je(Me,Re,!1)},Ke=(Me,Re)=>{const et=u(Me.childNodes);for(let Ot=0;Ot<et.length;Ot++)if(Qe(et[Ot],Re))return et[Ot]},At=(Me,Re,et)=>{et==="".concat(parseInt(et))&&(et=parseInt(et)),et||parseInt(et)===0?Me.style[Re]=typeof et=="number"?"".concat(et,"px"):et:Me.style.removeProperty(Re)},Et=function(Me){let Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";Me.style.display=Re},Wt=Me=>{Me.style.display="none"},fi=(Me,Re,et,Ot)=>{const Ni=Me.querySelector(Re);Ni&&(Ni.style[et]=Ot)},ei=(Me,Re,et)=>{Re?Et(Me,et):Wt(Me)},hi=Me=>!!(Me&&(Me.offsetWidth||Me.offsetHeight||Me.getClientRects().length)),vi=()=>!hi(oe())&&!hi(de())&&!hi(pe()),zi=Me=>Me.scrollHeight>Me.clientHeight,Ji=Me=>{const Re=window.getComputedStyle(Me),et=parseFloat(Re.getPropertyValue("animation-duration")||"0"),Ot=parseFloat(Re.getPropertyValue("transition-duration")||"0");return et>0||Ot>0},cr=function(Me){let Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const et=xe();hi(et)&&(Re&&(et.style.transition="none",et.style.width="100%"),setTimeout(()=>{et.style.transition="width ".concat(Me/1e3,"s linear"),et.style.width="0%"},10))},Yr=()=>{const Me=xe(),Re=parseInt(window.getComputedStyle(Me).width);Me.style.removeProperty("transition"),Me.style.width="100%";const et=parseInt(window.getComputedStyle(Me).width),Ot=Re/et*100;Me.style.removeProperty("transition"),Me.style.width="".concat(Ot,"%")},Cr=()=>typeof window>"u"||typeof document>"u",jr=100,or={},Sn=()=>{or.previousActiveElement&&or.previousActiveElement.focus?(or.previousActiveElement.focus(),or.previousActiveElement=null):document.body&&document.body.focus()},Nn=Me=>new Promise(Re=>{if(!Me)return Re();const et=window.scrollX,Ot=window.scrollY;or.restoreFocusTimeout=setTimeout(()=>{Sn(),Re()},jr),window.scrollTo(et,Ot)}),fn=`
 <div aria-labelledby="`.concat(g.title,'" aria-describedby="').concat(g["html-container"],'" class="').concat(g.popup,`" tabindex="-1">
   <button type="button" class="`).concat(g.close,`"></button>
   <ul class="`).concat(g["progress-steps"],`"></ul>
   <div class="`).concat(g.icon,`"></div>
   <img class="`).concat(g.image,`" />
   <h2 class="`).concat(g.title,'" id="').concat(g.title,`"></h2>
   <div class="`).concat(g["html-container"],'" id="').concat(g["html-container"],`"></div>
   <input class="`).concat(g.input,`" />
   <input type="file" class="`).concat(g.file,`" />
   <div class="`).concat(g.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(g.select,`"></select>
   <div class="`).concat(g.radio,`"></div>
   <label for="`).concat(g.checkbox,'" class="').concat(g.checkbox,`">
     <input type="checkbox" />
     <span class="`).concat(g.label,`"></span>
   </label>
   <textarea class="`).concat(g.textarea,`"></textarea>
   <div class="`).concat(g["validation-message"],'" id="').concat(g["validation-message"],`"></div>
   <div class="`).concat(g.actions,`">
     <div class="`).concat(g.loader,`"></div>
     <button type="button" class="`).concat(g.confirm,`"></button>
     <button type="button" class="`).concat(g.deny,`"></button>
     <button type="button" class="`).concat(g.cancel,`"></button>
   </div>
   <div class="`).concat(g.footer,`"></div>
   <div class="`).concat(g["timer-progress-bar-container"],`">
     <div class="`).concat(g["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),Oa=()=>{const Me=m();return Me?(Me.remove(),ht([document.documentElement,document.body],[g["no-backdrop"],g["toast-shown"],g["has-column"]]),!0):!1},Ln=()=>{or.currentInstance.resetValidationMessage()},Ba=()=>{const Me=M(),Re=Ke(Me,g.input),et=Ke(Me,g.file),Ot=Me.querySelector(".".concat(g.range," input")),Ni=Me.querySelector(".".concat(g.range," output")),wr=Ke(Me,g.select),gn=Me.querySelector(".".concat(g.checkbox," input")),Ta=Ke(Me,g.textarea);Re.oninput=Ln,et.onchange=Ln,wr.onchange=Ln,gn.onchange=Ln,Ta.oninput=Ln,Ot.oninput=()=>{Ln(),Ni.value=Ot.value},Ot.onchange=()=>{Ln(),Ot.nextSibling.value=Ot.value}},go=Me=>typeof Me=="string"?document.querySelector(Me):Me,wt=Me=>{const Re=M();Re.setAttribute("role",Me.toast?"alert":"dialog"),Re.setAttribute("aria-live",Me.toast?"polite":"assertive"),Me.toast||Re.setAttribute("aria-modal","true")},We=Me=>{window.getComputedStyle(Me).direction==="rtl"&&st(m(),g.rtl)},nt=Me=>{const Re=Oa();if(Cr()){n("SweetAlert2 requires document to initialize");return}const et=document.createElement("div");et.className=g.container,Re&&st(et,g["no-transition"]),ot(et,fn);const Ot=go(Me.target);Ot.appendChild(et),wt(Me),We(Ot),Ba()},St=(Me,Re)=>{Me instanceof HTMLElement?Re.appendChild(Me):typeof Me=="object"?It(Me,Re):Me&&ot(Re,Me)},It=(Me,Re)=>{Me.jquery?Tt(Re,Me):ot(Re,Me.toString())},Tt=(Me,Re)=>{if(Me.textContent="",0 in Re)for(let et=0;et in Re;et++)Me.appendChild(Re[et].cloneNode(!0));else Me.appendChild(Re.cloneNode(!0))},Zt=(()=>{if(Cr())return!1;const Me=document.createElement("div"),Re={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const et in Re)if(Object.prototype.hasOwnProperty.call(Re,et)&&typeof Me.style[et]<"u")return Re[et];return!1})(),Lt=()=>{const Me=document.createElement("div");Me.className=g["scrollbar-measure"],document.body.appendChild(Me);const Re=Me.getBoundingClientRect().width-Me.clientWidth;return document.body.removeChild(Me),Re},Bt=(Me,Re)=>{const et=te(),Ot=ue();!Re.showConfirmButton&&!Re.showDenyButton&&!Re.showCancelButton?Wt(et):Et(et),Ue(et,Re,"actions"),Ze(et,Ot,Re),ot(Ot,Re.loaderHtml),Ue(Ot,Re,"loader")};function Ze(Me,Re,et){const Ot=oe(),Ni=de(),wr=pe();ri(Ot,"confirm",et),ri(Ni,"deny",et),ri(wr,"cancel",et),Vt(Ot,Ni,wr,et),et.reverseButtons&&(et.toast?(Me.insertBefore(wr,Ot),Me.insertBefore(Ni,Ot)):(Me.insertBefore(wr,Re),Me.insertBefore(Ni,Re),Me.insertBefore(Ot,Re)))}function Vt(Me,Re,et,Ot){if(!Ot.buttonsStyling)return ht([Me,Re,et],g.styled);st([Me,Re,et],g.styled),Ot.confirmButtonColor&&(Me.style.backgroundColor=Ot.confirmButtonColor,st(Me,g["default-outline"])),Ot.denyButtonColor&&(Re.style.backgroundColor=Ot.denyButtonColor,st(Re,g["default-outline"])),Ot.cancelButtonColor&&(et.style.backgroundColor=Ot.cancelButtonColor,st(et,g["default-outline"]))}function ri(Me,Re,et){ei(Me,et["show".concat(o(Re),"Button")],"inline-block"),ot(Me,et["".concat(Re,"ButtonText")]),Me.setAttribute("aria-label",et["".concat(Re,"ButtonAriaLabel")]),Me.className=g[Re],Ue(Me,et,"".concat(Re,"Button")),st(Me,et["".concat(Re,"ButtonClass")])}function ti(Me,Re){typeof Re=="string"?Me.style.background=Re:Re||st([document.documentElement,document.body],g["no-backdrop"])}function er(Me,Re){Re in g?st(Me,g[Re]):(d('The "position" parameter is not valid, defaulting to "center"'),st(Me,g.center))}function oi(Me,Re){if(Re&&typeof Re=="string"){const et="grow-".concat(Re);et in g&&st(Me,g[et])}}const Ki=(Me,Re)=>{const et=m();et&&(ti(et,Re.backdrop),er(et,Re.position),oi(et,Re.grow),Ue(et,Re,"container"))};var si={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const gr=["input","file","range","select","radio","checkbox","textarea"],Vi=(Me,Re)=>{const et=M(),Ot=si.innerParams.get(Me),Ni=!Ot||Re.input!==Ot.input;gr.forEach(wr=>{const gn=g[wr],Ta=Ke(et,gn);Rr(wr,Re.inputAttributes),Ta.className=gn,Ni&&Wt(Ta)}),Re.input&&(Ni&&nr(Re),zn(Re))},nr=Me=>{if(!an[Me.input])return n('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(Me.input,'"'));const Re=ki(Me.input),et=an[Me.input](Re,Me);Et(et),setTimeout(()=>{it(et)})},Ur=Me=>{for(let Re=0;Re<Me.attributes.length;Re++){const et=Me.attributes[Re].name;["type","value","style"].includes(et)||Me.removeAttribute(et)}},Rr=(Me,Re)=>{const et=He(M(),Me);if(et){Ur(et);for(const Ot in Re)et.setAttribute(Ot,Re[Ot])}},zn=Me=>{const Re=ki(Me.input);Me.customClass&&st(Re,Me.customClass.input)},fa=(Me,Re)=>{(!Me.placeholder||Re.inputPlaceholder)&&(Me.placeholder=Re.inputPlaceholder)},In=(Me,Re,et)=>{if(et.inputLabel){Me.id=g.input;const Ot=document.createElement("label"),Ni=g["input-label"];Ot.setAttribute("for",Me.id),Ot.className=Ni,st(Ot,et.customClass.inputLabel),Ot.innerText=et.inputLabel,Re.insertAdjacentElement("beforebegin",Ot)}},ki=Me=>{const Re=g[Me]?g[Me]:g.input;return Ke(M(),Re)},an={};an.text=an.email=an.password=an.number=an.tel=an.url=(Me,Re)=>(typeof Re.inputValue=="string"||typeof Re.inputValue=="number"?Me.value=Re.inputValue:I(Re.inputValue)||d('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof Re.inputValue,'"')),In(Me,Me,Re),fa(Me,Re),Me.type=Re.input,Me),an.file=(Me,Re)=>(In(Me,Me,Re),fa(Me,Re),Me),an.range=(Me,Re)=>{const et=Me.querySelector("input"),Ot=Me.querySelector("output");return et.value=Re.inputValue,et.type=Re.input,Ot.value=Re.inputValue,In(et,Me,Re),Me},an.select=(Me,Re)=>{if(Me.textContent="",Re.inputPlaceholder){const et=document.createElement("option");ot(et,Re.inputPlaceholder),et.value="",et.disabled=!0,et.selected=!0,Me.appendChild(et)}return In(Me,Me,Re),Me},an.radio=Me=>(Me.textContent="",Me),an.checkbox=(Me,Re)=>{const et=He(M(),"checkbox");et.value="1",et.id=g.checkbox,et.checked=!!Re.inputValue;const Ot=Me.querySelector("span");return ot(Ot,Re.inputPlaceholder),Me},an.textarea=(Me,Re)=>{Me.value=Re.inputValue,fa(Me,Re),In(Me,Me,Re);const et=Ot=>parseInt(window.getComputedStyle(Ot).marginLeft)+parseInt(window.getComputedStyle(Ot).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const Ot=parseInt(window.getComputedStyle(M()).width),Ni=()=>{const wr=Me.offsetWidth+et(Me);wr>Ot?M().style.width="".concat(wr,"px"):M().style.width=null};new MutationObserver(Ni).observe(Me,{attributes:!0,attributeFilter:["style"]})}}),Me};const ta=(Me,Re)=>{const et=ee();Ue(et,Re,"htmlContainer"),Re.html?(St(Re.html,et),Et(et,"block")):Re.text?(et.textContent=Re.text,Et(et,"block")):Wt(et),Vi(Me,Re)},ia=(Me,Re)=>{const et=ge();ei(et,Re.footer),Re.footer&&St(Re.footer,et),Ue(et,Re,"footer")},qo=(Me,Re)=>{const et=ce();ot(et,Re.closeButtonHtml),Ue(et,Re,"closeButton"),ei(et,Re.showCloseButton),et.setAttribute("aria-label",Re.closeButtonAriaLabel)},Ca=(Me,Re)=>{const et=si.innerParams.get(Me),Ot=X();if(et&&Re.icon===et.icon){qr(Ot,Re),Wo(Ot,Re);return}if(!Re.icon&&!Re.iconHtml)return Wt(Ot);if(Re.icon&&Object.keys(A).indexOf(Re.icon)===-1)return n('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(Re.icon,'"')),Wt(Ot);Et(Ot),qr(Ot,Re),Wo(Ot,Re),st(Ot,Re.showClass.icon)},Wo=(Me,Re)=>{for(const et in A)Re.icon!==et&&ht(Me,A[et]);st(Me,A[Re.icon]),tn(Me,Re),Do(),Ue(Me,Re,"icon")},Do=()=>{const Me=M(),Re=window.getComputedStyle(Me).getPropertyValue("background-color"),et=Me.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Ot=0;Ot<et.length;Ot++)et[Ot].style.backgroundColor=Re},ra=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,ir=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,qr=(Me,Re)=>{Me.textContent="",Re.iconHtml?ot(Me,Fa(Re.iconHtml)):Re.icon==="success"?ot(Me,ra):Re.icon==="error"?ot(Me,ir):ot(Me,Fa({question:"?",warning:"!",info:"i"}[Re.icon]))},tn=(Me,Re)=>{if(Re.iconColor){Me.style.color=Re.iconColor,Me.style.borderColor=Re.iconColor;for(const et of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])fi(Me,et,"backgroundColor",Re.iconColor);fi(Me,".swal2-success-ring","borderColor",Re.iconColor)}},Fa=Me=>'<div class="'.concat(g["icon-content"],'">').concat(Me,"</div>"),wo=(Me,Re)=>{const et=he();if(!Re.imageUrl)return Wt(et);Et(et,""),et.setAttribute("src",Re.imageUrl),et.setAttribute("alt",Re.imageAlt),At(et,"width",Re.imageWidth),At(et,"height",Re.imageHeight),et.className=g.image,Ue(et,Re,"image")},Tr=Me=>{const Re=document.createElement("li");return st(Re,g["progress-step"]),ot(Re,Me),Re},Lo=Me=>{const Re=document.createElement("li");return st(Re,g["progress-step-line"]),Me.progressStepsDistance&&(Re.style.width=Me.progressStepsDistance),Re},io=(Me,Re)=>{const et=ye();if(!Re.progressSteps||Re.progressSteps.length===0)return Wt(et);Et(et),et.textContent="",Re.currentProgressStep>=Re.progressSteps.length&&d("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),Re.progressSteps.forEach((Ot,Ni)=>{const wr=Tr(Ot);if(et.appendChild(wr),Ni===Re.currentProgressStep&&st(wr,g["active-progress-step"]),Ni!==Re.progressSteps.length-1){const gn=Lo(Re);et.appendChild(gn)}})},So=(Me,Re)=>{const et=re();ei(et,Re.title||Re.titleText,"block"),Re.title&&St(Re.title,et),Re.titleText&&(et.innerText=Re.titleText),Ue(et,Re,"title")},ua=(Me,Re)=>{const et=m(),Ot=M();Re.toast?(At(et,"width",Re.width),Ot.style.width="100%",Ot.insertBefore(ue(),X())):At(Ot,"width",Re.width),At(Ot,"padding",Re.padding),Re.color&&(Ot.style.color=Re.color),Re.background&&(Ot.style.background=Re.background),Wt(Ce()),An(Ot,Re)},An=(Me,Re)=>{Me.className="".concat(g.popup," ").concat(hi(Me)?Re.showClass.popup:""),Re.toast?(st([document.documentElement,document.body],g["toast-shown"]),st(Me,g.toast)):st(Me,g.modal),Ue(Me,Re,"popup"),typeof Re.customClass=="string"&&st(Me,Re.customClass),Re.icon&&st(Me,g["icon-".concat(Re.icon)])},Aa=(Me,Re)=>{ua(Me,Re),Ki(Me,Re),io(Me,Re),Ca(Me,Re),wo(Me,Re),So(Me,Re),qo(Me,Re),ta(Me,Re),Bt(Me,Re),ia(Me,Re),typeof Re.didRender=="function"&&Re.didRender(M())},Ra=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Yo=()=>{u(document.body.children).forEach(Re=>{Re===m()||Re.contains(m())||(Re.hasAttribute("aria-hidden")&&Re.setAttribute("data-previous-aria-hidden",Re.getAttribute("aria-hidden")),Re.setAttribute("aria-hidden","true"))})},ro=()=>{u(document.body.children).forEach(Re=>{Re.hasAttribute("data-previous-aria-hidden")?(Re.setAttribute("aria-hidden",Re.getAttribute("data-previous-aria-hidden")),Re.removeAttribute("data-previous-aria-hidden")):Re.removeAttribute("aria-hidden")})},Xo=["swal-title","swal-html","swal-footer"],Zo=Me=>{const Re=typeof Me.template=="string"?document.querySelector(Me.template):Me.template;if(!Re)return{};const et=Re.content;return ko(et),Object.assign(Bo(et),Fo(et),As(et),Ko(et),pa(et),Hn(et,Xo))},Bo=Me=>{const Re={};return u(Me.querySelectorAll("swal-param")).forEach(et=>{no(et,["name","value"]);const Ot=et.getAttribute("name"),Ni=et.getAttribute("value");typeof B[Ot]=="boolean"&&Ni==="false"&&(Re[Ot]=!1),typeof B[Ot]=="object"&&(Re[Ot]=JSON.parse(Ni))}),Re},Fo=Me=>{const Re={};return u(Me.querySelectorAll("swal-button")).forEach(et=>{no(et,["type","color","aria-label"]);const Ot=et.getAttribute("type");Re["".concat(Ot,"ButtonText")]=et.innerHTML,Re["show".concat(o(Ot),"Button")]=!0,et.hasAttribute("color")&&(Re["".concat(Ot,"ButtonColor")]=et.getAttribute("color")),et.hasAttribute("aria-label")&&(Re["".concat(Ot,"ButtonAriaLabel")]=et.getAttribute("aria-label"))}),Re},As=Me=>{const Re={},et=Me.querySelector("swal-image");return et&&(no(et,["src","width","height","alt"]),et.hasAttribute("src")&&(Re.imageUrl=et.getAttribute("src")),et.hasAttribute("width")&&(Re.imageWidth=et.getAttribute("width")),et.hasAttribute("height")&&(Re.imageHeight=et.getAttribute("height")),et.hasAttribute("alt")&&(Re.imageAlt=et.getAttribute("alt"))),Re},Ko=Me=>{const Re={},et=Me.querySelector("swal-icon");return et&&(no(et,["type","color"]),et.hasAttribute("type")&&(Re.icon=et.getAttribute("type")),et.hasAttribute("color")&&(Re.iconColor=et.getAttribute("color")),Re.iconHtml=et.innerHTML),Re},pa=Me=>{const Re={},et=Me.querySelector("swal-input");et&&(no(et,["type","label","placeholder","value"]),Re.input=et.getAttribute("type")||"text",et.hasAttribute("label")&&(Re.inputLabel=et.getAttribute("label")),et.hasAttribute("placeholder")&&(Re.inputPlaceholder=et.getAttribute("placeholder")),et.hasAttribute("value")&&(Re.inputValue=et.getAttribute("value")));const Ot=Me.querySelectorAll("swal-input-option");return Ot.length&&(Re.inputOptions={},u(Ot).forEach(Ni=>{no(Ni,["value"]);const wr=Ni.getAttribute("value"),gn=Ni.innerHTML;Re.inputOptions[wr]=gn})),Re},Hn=(Me,Re)=>{const et={};for(const Ot in Re){const Ni=Re[Ot],wr=Me.querySelector(Ni);wr&&(no(wr,[]),et[Ni.replace(/^swal-/,"")]=wr.innerHTML.trim())}return et},ko=Me=>{const Re=Xo.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);u(Me.children).forEach(et=>{const Ot=et.tagName.toLowerCase();Re.indexOf(Ot)===-1&&d("Unrecognized element <".concat(Ot,">"))})},no=(Me,Re)=>{u(Me.attributes).forEach(et=>{Re.indexOf(et.name)===-1&&d(['Unrecognized attribute "'.concat(et.name,'" on <').concat(Me.tagName.toLowerCase(),">."),"".concat(Re.length?"Allowed attributes are: ".concat(Re.join(", ")):"To set the value, use HTML within the element.")])})};var na={email:(Me,Re)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(Me)?Promise.resolve():Promise.resolve(Re||"Invalid email address"),url:(Me,Re)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(Me)?Promise.resolve():Promise.resolve(Re||"Invalid URL")};function ma(Me){Me.inputValidator||Object.keys(na).forEach(Re=>{Me.input===Re&&(Me.inputValidator=na[Re])})}function Ks(Me){(!Me.target||typeof Me.target=="string"&&!document.querySelector(Me.target)||typeof Me.target!="string"&&!Me.target.appendChild)&&(d('Target parameter is not valid, defaulting to "body"'),Me.target="body")}function Js(Me){ma(Me),Me.showLoaderOnConfirm&&!Me.preConfirm&&d(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Ks(Me),typeof Me.title=="string"&&(Me.title=Me.title.split(`
`).join("<br />")),nt(Me)}class $n{constructor(Re,et){this.callback=Re,this.remaining=et,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(Re){const et=this.running;return et&&this.stop(),this.remaining+=Re,et&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Jo=()=>{ct.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(ct.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(ct.previousBodyPadding+Lt(),"px"))},Qs=()=>{ct.previousBodyPadding!==null&&(document.body.style.paddingRight="".concat(ct.previousBodyPadding,"px"),ct.previousBodyPadding=null)},Ao=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!Qe(document.body,g.iosfix)){const Re=document.body.scrollTop;document.body.style.top="".concat(Re*-1,"px"),st(document.body,g.iosfix),Qo(),ga()}},ga=()=>{const Me=navigator.userAgent,Re=!!Me.match(/iPad/i)||!!Me.match(/iPhone/i),et=!!Me.match(/WebKit/i);Re&&et&&!Me.match(/CriOS/i)&&M().scrollHeight>window.innerHeight-44&&(m().style.paddingBottom="".concat(44,"px"))},Qo=()=>{const Me=m();let Re;Me.ontouchstart=et=>{Re=el(et)},Me.ontouchmove=et=>{Re&&(et.preventDefault(),et.stopPropagation())}},el=Me=>{const Re=Me.target,et=m();return vn(Me)||un(Me)?!1:Re===et||!zi(et)&&Re.tagName!=="INPUT"&&Re.tagName!=="TEXTAREA"&&!(zi(ee())&&ee().contains(Re))},vn=Me=>Me.touches&&Me.touches.length&&Me.touches[0].touchType==="stylus",un=Me=>Me.touches&&Me.touches.length>1,Cs=()=>{if(Qe(document.body,g.iosfix)){const Me=parseInt(document.body.style.top,10);ht(document.body,g.iosfix),document.body.style.top="",document.body.scrollTop=Me*-1}},es=10,fl=Me=>{const Re=m(),et=M();typeof Me.willOpen=="function"&&Me.willOpen(et);const Ni=window.getComputedStyle(document.body).overflowY;ts(Re,et,Me),setTimeout(()=>{Es(Re,et)},es),Fe()&&(fs(Re,Me.scrollbarPadding,Ni),Yo()),!De()&&!or.previousActiveElement&&(or.previousActiveElement=document.activeElement),typeof Me.didOpen=="function"&&setTimeout(()=>Me.didOpen(et)),ht(Re,g["no-transition"])},Ga=Me=>{const Re=M();if(Me.target!==Re)return;const et=m();Re.removeEventListener(Zt,Ga),et.style.overflowY="auto"},Es=(Me,Re)=>{Zt&&Ji(Re)?(Me.style.overflowY="hidden",Re.addEventListener(Zt,Ga)):Me.style.overflowY="auto"},fs=(Me,Re,et)=>{Ao(),Re&&et!=="hidden"&&Jo(),setTimeout(()=>{Me.scrollTop=0})},ts=(Me,Re,et)=>{st(Me,et.showClass.backdrop),Re.style.setProperty("opacity","0","important"),Et(Re,"grid"),setTimeout(()=>{st(Re,et.showClass.popup),Re.style.removeProperty("opacity")},es),st([document.documentElement,document.body],g.shown),et.heightAuto&&et.backdrop&&!et.toast&&st([document.documentElement,document.body],g["height-auto"])},Ha=Me=>{let Re=M();Re||new Er,Re=M();const et=ue();De()?Wt(X()):sa(Re,Me),Et(et),Re.setAttribute("data-loading",!0),Re.setAttribute("aria-busy",!0),Re.focus()},sa=(Me,Re)=>{const et=te(),Ot=ue();!Re&&hi(oe())&&(Re=oe()),Et(et),Re&&(Wt(Re),Ot.setAttribute("data-button-to-replace",Re.className)),Ot.parentNode.insertBefore(Ot,Re),st([Me,et],g.loading)},se=(Me,Re)=>{Re.input==="select"||Re.input==="radio"?tt(Me,Re):["text","email","number","tel","textarea"].includes(Re.input)&&(H(Re.inputValue)||I(Re.inputValue))&&(Ha(oe()),ut(Me,Re))},be=(Me,Re)=>{const et=Me.getInput();if(!et)return null;switch(Re.input){case"checkbox":return Pe(et);case"radio":return Be(et);case"file":return Xe(et);default:return Re.inputAutoTrim?et.value.trim():et.value}},Pe=Me=>Me.checked?1:0,Be=Me=>Me.checked?Me.value:null,Xe=Me=>Me.files.length?Me.getAttribute("multiple")!==null?Me.files:Me.files[0]:null,tt=(Me,Re)=>{const et=M(),Ot=Ni=>Yt[Re.input](et,Ft(Ni),Re);H(Re.inputOptions)||I(Re.inputOptions)?(Ha(oe()),Y(Re.inputOptions).then(Ni=>{Me.hideLoading(),Ot(Ni)})):typeof Re.inputOptions=="object"?Ot(Re.inputOptions):n("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof Re.inputOptions))},ut=(Me,Re)=>{const et=Me.getInput();Wt(et),Y(Re.inputValue).then(Ot=>{et.value=Re.input==="number"?parseFloat(Ot)||0:"".concat(Ot),Et(et),et.focus(),Me.hideLoading()}).catch(Ot=>{n("Error in inputValue promise: ".concat(Ot)),et.value="",Et(et),et.focus(),Me.hideLoading()})},Yt={select:(Me,Re,et)=>{const Ot=Ke(Me,g.select),Ni=(wr,gn,Ta)=>{const wa=document.createElement("option");wa.value=Ta,ot(wa,gn),wa.selected=ci(Ta,et.inputValue),wr.appendChild(wa)};Re.forEach(wr=>{const gn=wr[0],Ta=wr[1];if(Array.isArray(Ta)){const wa=document.createElement("optgroup");wa.label=gn,wa.disabled=!1,Ot.appendChild(wa),Ta.forEach(Ms=>Ni(wa,Ms[1],Ms[0]))}else Ni(Ot,Ta,gn)}),Ot.focus()},radio:(Me,Re,et)=>{const Ot=Ke(Me,g.radio);Re.forEach(wr=>{const gn=wr[0],Ta=wr[1],wa=document.createElement("input"),Ms=document.createElement("label");wa.type="radio",wa.name=g.radio,wa.value=gn,ci(gn,et.inputValue)&&(wa.checked=!0);const dr=document.createElement("span");ot(dr,Ta),dr.className=g.label,Ms.appendChild(wa),Ms.appendChild(dr),Ot.appendChild(Ms)});const Ni=Ot.querySelectorAll("input");Ni.length&&Ni[0].focus()}},Ft=Me=>{const Re=[];return typeof Map<"u"&&Me instanceof Map?Me.forEach((et,Ot)=>{let Ni=et;typeof Ni=="object"&&(Ni=Ft(Ni)),Re.push([Ot,Ni])}):Object.keys(Me).forEach(et=>{let Ot=Me[et];typeof Ot=="object"&&(Ot=Ft(Ot)),Re.push([et,Ot])}),Re},ci=(Me,Re)=>Re&&Re.toString()===Me.toString(),Ii=Me=>{const Re=si.innerParams.get(Me);Me.disableButtons(),Re.input?Pi(Me,"confirm"):Cn(Me,!0)},Li=Me=>{const Re=si.innerParams.get(Me);Me.disableButtons(),Re.returnInputValueOnDeny?Pi(Me,"deny"):Hr(Me,!1)},xi=(Me,Re)=>{Me.disableButtons(),Re(Ra.cancel)},Pi=(Me,Re)=>{const et=si.innerParams.get(Me);if(!et.input)return n('The "input" parameter is needed to be set when using returnInputValueOn'.concat(o(Re)));const Ot=be(Me,et);et.inputValidator?rr(Me,Ot,Re):Me.getInput().checkValidity()?Re==="deny"?Hr(Me,Ot):Cn(Me,Ot):(Me.enableButtons(),Me.showValidationMessage(et.validationMessage))},rr=(Me,Re,et)=>{const Ot=si.innerParams.get(Me);Me.disableInput(),Promise.resolve().then(()=>Y(Ot.inputValidator(Re,Ot.validationMessage))).then(wr=>{Me.enableButtons(),Me.enableInput(),wr?Me.showValidationMessage(wr):et==="deny"?Hr(Me,Re):Cn(Me,Re)})},Hr=(Me,Re)=>{const et=si.innerParams.get(Me||void 0);et.showLoaderOnDeny&&Ha(de()),et.preDeny?(si.awaitingPromise.set(Me||void 0,!0),Promise.resolve().then(()=>Y(et.preDeny(Re,et.validationMessage))).then(Ni=>{Ni===!1?Me.hideLoading():Me.closePopup({isDenied:!0,value:typeof Ni>"u"?Re:Ni})}).catch(Ni=>Vn(Me||void 0,Ni))):Me.closePopup({isDenied:!0,value:Re})},yr=(Me,Re)=>{Me.closePopup({isConfirmed:!0,value:Re})},Vn=(Me,Re)=>{Me.rejectPromise(Re)},Cn=(Me,Re)=>{const et=si.innerParams.get(Me||void 0);et.showLoaderOnConfirm&&Ha(),et.preConfirm?(Me.resetValidationMessage(),si.awaitingPromise.set(Me||void 0,!0),Promise.resolve().then(()=>Y(et.preConfirm(Re,et.validationMessage))).then(Ni=>{hi(Ce())||Ni===!1?Me.hideLoading():yr(Me,typeof Ni>"u"?Re:Ni)}).catch(Ni=>Vn(Me||void 0,Ni))):yr(Me,Re)},rn=(Me,Re,et)=>{si.innerParams.get(Me).toast?sn(Me,Re,et):(ln(Re),En(Re),Co(Me,Re,et))},sn=(Me,Re,et)=>{Re.popup.onclick=()=>{const Ot=si.innerParams.get(Me);Ot&&(Br(Ot)||Ot.timer||Ot.input)||et(Ra.close)}},Br=Me=>Me.showConfirmButton||Me.showDenyButton||Me.showCancelButton||Me.showCloseButton;let ya=!1;const ln=Me=>{Me.popup.onmousedown=()=>{Me.container.onmouseup=function(Re){Me.container.onmouseup=void 0,Re.target===Me.container&&(ya=!0)}}},En=Me=>{Me.container.onmousedown=()=>{Me.popup.onmouseup=function(Re){Me.popup.onmouseup=void 0,(Re.target===Me.popup||Me.popup.contains(Re.target))&&(ya=!0)}}},Co=(Me,Re,et)=>{Re.container.onclick=Ot=>{const Ni=si.innerParams.get(Me);if(ya){ya=!1;return}Ot.target===Re.container&&z(Ni.allowOutsideClick)&&et(Ra.backdrop)}},yo=()=>hi(M()),va=()=>oe()&&oe().click(),Da=()=>de()&&de().click(),$r=()=>pe()&&pe().click(),ba=(Me,Re,et,Ot)=>{Re.keydownTarget&&Re.keydownHandlerAdded&&(Re.keydownTarget.removeEventListener("keydown",Re.keydownHandler,{capture:Re.keydownListenerCapture}),Re.keydownHandlerAdded=!1),et.toast||(Re.keydownHandler=Ni=>ao(Me,Ni,Ot),Re.keydownTarget=et.keydownListenerCapture?window:M(),Re.keydownListenerCapture=et.keydownListenerCapture,Re.keydownTarget.addEventListener("keydown",Re.keydownHandler,{capture:Re.keydownListenerCapture}),Re.keydownHandlerAdded=!0)},qa=(Me,Re,et)=>{const Ot=Ae();if(Ot.length)return Re=Re+et,Re===Ot.length?Re=0:Re===-1&&(Re=Ot.length-1),Ot[Re].focus();M().focus()},qn=["ArrowRight","ArrowDown"],xa=["ArrowLeft","ArrowUp"],ao=(Me,Re,et)=>{const Ot=si.innerParams.get(Me);Ot&&(Ot.stopKeydownPropagation&&Re.stopPropagation(),Re.key==="Enter"?oo(Me,Re,Ot):Re.key==="Tab"?js(Re,Ot):[...qn,...xa].includes(Re.key)?cn(Re.key):Re.key==="Escape"&&uo(Re,Ot,et))},oo=(Me,Re,et)=>{if(!(!z(et.allowEnterKey)||Re.isComposing)&&Re.target&&Me.getInput()&&Re.target.outerHTML===Me.getInput().outerHTML){if(["textarea","file"].includes(et.input))return;va(),Re.preventDefault()}},js=(Me,Re)=>{const et=Me.target,Ot=Ae();let Ni=-1;for(let wr=0;wr<Ot.length;wr++)if(et===Ot[wr]){Ni=wr;break}Me.shiftKey?qa(Re,Ni,-1):qa(Re,Ni,1),Me.stopPropagation(),Me.preventDefault()},cn=Me=>{const Re=oe(),et=de(),Ot=pe();if(![Re,et,Ot].includes(document.activeElement))return;const Ni=qn.includes(Me)?"nextElementSibling":"previousElementSibling",wr=document.activeElement[Ni];wr instanceof HTMLElement&&wr.focus()},uo=(Me,Re,et)=>{z(Re.allowEscapeKey)&&(Me.preventDefault(),et(Ra.esc))},Us=Me=>typeof Me=="object"&&Me.jquery,ps=Me=>Me instanceof Element||Us(Me),Na=Me=>{const Re={};return typeof Me[0]=="object"&&!ps(Me[0])?Object.assign(Re,Me[0]):["title","html","icon"].forEach((et,Ot)=>{const Ni=Me[Ot];typeof Ni=="string"||ps(Ni)?Re[et]=Ni:Ni!==void 0&&n("Unexpected type of ".concat(et,'! Expected "string" or "Element", got ').concat(typeof Ni))}),Re};function is(){const Me=this;for(var Re=arguments.length,et=new Array(Re),Ot=0;Ot<Re;Ot++)et[Ot]=arguments[Ot];return new Me(...et)}function No(Me){class Re extends this{_main(Ot,Ni){return super._main(Ot,Object.assign({},Me,Ni))}}return Re}const Ts=()=>or.timeout&&or.timeout.getTimerLeft(),Eo=()=>{if(or.timeout)return Yr(),or.timeout.stop()},ms=()=>{if(or.timeout){const Me=or.timeout.start();return cr(Me),Me}},$s=()=>{const Me=or.timeout;return Me&&(Me.running?Eo():ms())},gs=Me=>{if(or.timeout){const Re=or.timeout.increase(Me);return cr(Re,!0),Re}},pl=()=>or.timeout&&or.timeout.isRunning();let ho=!1;const fo={};function ys(){let Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";fo[Me]=this,ho||(document.body.addEventListener("click",Vs),ho=!0)}const Vs=Me=>{for(let Re=Me.target;Re&&Re!==document;Re=Re.parentNode)for(const et in fo){const Ot=Re.getAttribute(et);if(Ot){fo[et].fire({template:Ot});return}}};var Ps=Object.freeze({isValidParameter:P,isUpdatableParameter:G,isDeprecatedParameter:q,argsToParams:Na,isVisible:yo,clickConfirm:va,clickDeny:Da,clickCancel:$r,getContainer:m,getPopup:M,getTitle:re,getHtmlContainer:ee,getImage:he,getIcon:X,getInputLabel:fe,getCloseButton:ce,getActions:te,getConfirmButton:oe,getDenyButton:de,getCancelButton:pe,getLoader:ue,getFooter:ge,getTimerProgressBar:xe,getFocusableElements:Ae,getValidationMessage:Ce,isLoading:Ge,fire:is,mixin:No,showLoading:Ha,enableLoading:Ha,getTimerLeft:Ts,stopTimer:Eo,resumeTimer:ms,toggleTimer:$s,increaseTimer:gs,isTimerRunning:pl,bindClickHandler:ys});function so(){const Me=si.innerParams.get(this);if(!Me)return;const Re=si.domCache.get(this);Wt(Re.loader),De()?Me.icon&&Et(X()):Ea(Re),ht([Re.popup,Re.actions],g.loading),Re.popup.removeAttribute("aria-busy"),Re.popup.removeAttribute("data-loading"),Re.confirmButton.disabled=!1,Re.denyButton.disabled=!1,Re.cancelButton.disabled=!1}const Ea=Me=>{const Re=Me.popup.getElementsByClassName(Me.loader.getAttribute("data-button-to-replace"));Re.length?Et(Re[0],"inline-block"):vi()&&Wt(Me.actions)};function rs(Me){const Re=si.innerParams.get(Me||this),et=si.domCache.get(Me||this);return et?He(et.popup,Re.input):null}var vs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function zo(Me,Re,et,Ot){De()?Gr(Me,Ot):(Nn(et).then(()=>Gr(Me,Ot)),or.keydownTarget.removeEventListener("keydown",or.keydownHandler,{capture:or.keydownListenerCapture}),or.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(Re.setAttribute("style","display:none !important"),Re.removeAttribute("class"),Re.innerHTML=""):Re.remove(),Fe()&&(Qs(),Cs(),ro()),Tl()}function Tl(){ht([document.documentElement,document.body],[g.shown,g["height-auto"],g["no-backdrop"],g["toast-shown"]])}function Se(Me){Me=tr(Me);const Re=vs.swalPromiseResolve.get(this),et=dt(this);this.isAwaitingPromise()?Me.isDismissed||(_i(this),Re(Me)):et&&Re(Me)}function $e(){return!!si.awaitingPromise.get(this)}const dt=Me=>{const Re=M();if(!Re)return!1;const et=si.innerParams.get(Me);if(!et||Qe(Re,et.hideClass.popup))return!1;ht(Re,et.showClass.popup),st(Re,et.hideClass.popup);const Ot=m();return ht(Ot,et.showClass.backdrop),st(Ot,et.hideClass.backdrop),pr(Me,Re,et),!0};function ii(Me){const Re=vs.swalPromiseReject.get(this);_i(this),Re&&Re(Me)}const _i=Me=>{Me.isAwaitingPromise()&&(si.awaitingPromise.delete(Me),si.innerParams.get(Me)||Me._destroy())},tr=Me=>typeof Me>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},Me),pr=(Me,Re,et)=>{const Ot=m(),Ni=Zt&&Ji(Re);typeof et.willClose=="function"&&et.willClose(Re),Ni?kr(Me,Re,Ot,et.returnFocus,et.didClose):zo(Me,Ot,et.returnFocus,et.didClose)},kr=(Me,Re,et,Ot,Ni)=>{or.swalCloseEventFinishedCallback=zo.bind(null,Me,et,Ot,Ni),Re.addEventListener(Zt,function(wr){wr.target===Re&&(or.swalCloseEventFinishedCallback(),delete or.swalCloseEventFinishedCallback)})},Gr=(Me,Re)=>{setTimeout(()=>{typeof Re=="function"&&Re.bind(Me.params)(),Me._destroy()})};function Xt(Me,Re,et){const Ot=si.domCache.get(Me);Re.forEach(Ni=>{Ot[Ni].disabled=et})}function Ei(Me,Re){if(!Me)return!1;if(Me.type==="radio"){const Ot=Me.parentNode.parentNode.querySelectorAll("input");for(let Ni=0;Ni<Ot.length;Ni++)Ot[Ni].disabled=Re}else Me.disabled=Re}function mi(){Xt(this,["confirmButton","denyButton","cancelButton"],!1)}function ar(){Xt(this,["confirmButton","denyButton","cancelButton"],!0)}function Fr(){return Ei(this.getInput(),!1)}function hn(){return Ei(this.getInput(),!0)}function On(Me){const Re=si.domCache.get(this),et=si.innerParams.get(this);ot(Re.validationMessage,Me),Re.validationMessage.className=g["validation-message"],et.customClass&&et.customClass.validationMessage&&st(Re.validationMessage,et.customClass.validationMessage),Et(Re.validationMessage);const Ot=this.getInput();Ot&&(Ot.setAttribute("aria-invalid",!0),Ot.setAttribute("aria-describedby",g["validation-message"]),it(Ot),st(Ot,g.inputerror))}function Xr(){const Me=si.domCache.get(this);Me.validationMessage&&Wt(Me.validationMessage);const Re=this.getInput();Re&&(Re.removeAttribute("aria-invalid"),Re.removeAttribute("aria-describedby"),ht(Re,g.inputerror))}function Ka(){return si.domCache.get(this).progressSteps}function To(Me){const Re=M(),et=si.innerParams.get(this);if(!Re||Qe(Re,et.hideClass.popup))return d("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Ot=la(Me),Ni=Object.assign({},et,Ot);Aa(this,Ni),si.innerParams.set(this,Ni),Object.defineProperties(this,{params:{value:Object.assign({},this.params,Me),writable:!1,enumerable:!0}})}const la=Me=>{const Re={};return Object.keys(Me).forEach(et=>{G(et)?Re[et]=Me[et]:d('Invalid parameter to update: "'.concat(et,`". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js

If you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md`))}),Re};function mt(){const Me=si.domCache.get(this),Re=si.innerParams.get(this);if(!Re){Gt(this);return}Me.popup&&or.swalCloseEventFinishedCallback&&(or.swalCloseEventFinishedCallback(),delete or.swalCloseEventFinishedCallback),or.deferDisposalTimer&&(clearTimeout(or.deferDisposalTimer),delete or.deferDisposalTimer),typeof Re.didDestroy=="function"&&Re.didDestroy(),Nt(this)}const Nt=Me=>{Gt(Me),delete Me.params,delete or.keydownHandler,delete or.keydownTarget,delete or.currentInstance},Gt=Me=>{Me.isAwaitingPromise()?(Mi(si,Me),si.awaitingPromise.set(Me,!0)):(Mi(vs,Me),Mi(si,Me))},Mi=(Me,Re)=>{for(const et in Me)Me[et].delete(Re)};var Qt=Object.freeze({hideLoading:so,disableLoading:so,getInput:rs,close:Se,isAwaitingPromise:$e,rejectPromise:ii,closePopup:Se,closeModal:Se,closeToast:Se,enableButtons:mi,disableButtons:ar,enableInput:Fr,disableInput:hn,showValidationMessage:On,resetValidationMessage:Xr,getProgressSteps:Ka,update:To,_destroy:mt});let wi;class Ui{constructor(){if(typeof window>"u")return;wi=this;for(var Re=arguments.length,et=new Array(Re),Ot=0;Ot<Re;Ot++)et[Ot]=arguments[Ot];const Ni=Object.freeze(this.constructor.argsToParams(et));Object.defineProperties(this,{params:{value:Ni,writable:!1,enumerable:!0,configurable:!0}});const wr=this._main(this.params);si.promise.set(this,wr)}_main(Re){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};L(Object.assign({},et,Re)),or.currentInstance&&(or.currentInstance._destroy(),Fe()&&ro()),or.currentInstance=this;const Ot=Wi(Re,et);Js(Ot),Object.freeze(Ot),or.timeout&&(or.timeout.stop(),delete or.timeout),clearTimeout(or.restoreFocusTimeout);const Ni=Mr(this);return Aa(this,Ot),si.innerParams.set(this,Ot),hr(this,Ni,Ot)}then(Re){return si.promise.get(this).then(Re)}finally(Re){return si.promise.get(this).finally(Re)}}const hr=(Me,Re,et)=>new Promise((Ot,Ni)=>{const wr=gn=>{Me.closePopup({isDismissed:!0,dismiss:gn})};vs.swalPromiseResolve.set(Me,Ot),vs.swalPromiseReject.set(Me,Ni),Re.confirmButton.onclick=()=>Ii(Me),Re.denyButton.onclick=()=>Li(Me),Re.cancelButton.onclick=()=>xi(Me,wr),Re.closeButton.onclick=()=>wr(Ra.close),rn(Me,Re,wr),ba(Me,or,et,wr),se(Me,et),fl(et),Dr(or,et,wr),Nr(Re,et),setTimeout(()=>{Re.container.scrollTop=0})}),Wi=(Me,Re)=>{const et=Zo(Me),Ot=Object.assign({},B,Re,et,Me);return Ot.showClass=Object.assign({},B.showClass,Ot.showClass),Ot.hideClass=Object.assign({},B.hideClass,Ot.hideClass),Ot},Mr=Me=>{const Re={popup:M(),container:m(),actions:te(),confirmButton:oe(),denyButton:de(),cancelButton:pe(),loader:ue(),closeButton:ce(),validationMessage:Ce(),progressSteps:ye()};return si.domCache.set(Me,Re),Re},Dr=(Me,Re,et)=>{const Ot=xe();Wt(Ot),Re.timer&&(Me.timeout=new $n(()=>{et("timer"),delete Me.timeout},Re.timer),Re.timerProgressBar&&(Et(Ot),Ue(Ot,Re,"timerProgressBar"),setTimeout(()=>{Me.timeout&&Me.timeout.running&&cr(Re.timer)})))},Nr=(Me,Re)=>{if(!Re.toast){if(!z(Re.allowEnterKey))return _n();Jr(Me,Re)||qa(Re,-1,1)}},Jr=(Me,Re)=>Re.focusDeny&&hi(Me.denyButton)?(Me.denyButton.focus(),!0):Re.focusCancel&&hi(Me.cancelButton)?(Me.cancelButton.focus(),!0):Re.focusConfirm&&hi(Me.confirmButton)?(Me.confirmButton.focus(),!0):!1,_n=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Object.assign(Ui.prototype,Qt),Object.assign(Ui,Ps),Object.keys(Qt).forEach(Me=>{Ui[Me]=function(){if(wi)return wi[Me](...arguments)}}),Ui.DismissReason=Ra,Ui.version="11.4.0";const Er=Ui;return Er.default=Er,Er}),typeof commonjsGlobal<"u"&&commonjsGlobal.Sweetalert2&&(commonjsGlobal.swal=commonjsGlobal.sweetAlert=commonjsGlobal.Swal=commonjsGlobal.SweetAlert=commonjsGlobal.Sweetalert2)})(sweetalert2);var Swal=sweetalert2.exports;class VueSweetalert2{static install(t,i={}){var a;const o=Swal.mixin(i),u=function(...d){return o.fire.call(o,...d)};Object.assign(u,Swal),Object.keys(Swal).filter(d=>typeof Swal[d]=="function").forEach(d=>{u[d]=o[d].bind(o)}),(a=t.config)!=null&&a.globalProperties&&!t.config.globalProperties.$swal?(t.config.globalProperties.$swal=u,t.provide("$swal",u)):Object.prototype.hasOwnProperty.call(t,"$swal")||(t.prototype.$swal=u,t.swal=u)}}const sweetalert2_min="";var vcdonut_common={exports:{}};const require$$0$1=getAugmentedNamespace(vue_esmBundler);(function(e){e.exports=function(t){var i={};function a(o){if(i[o])return i[o].exports;var u=i[o]={i:o,l:!1,exports:{}};return t[o].call(u.exports,u,u.exports,a),u.l=!0,u.exports}return a.m=t,a.c=i,a.d=function(o,u,d){a.o(o,u)||Object.defineProperty(o,u,{enumerable:!0,get:d})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,u){if(u&1&&(o=a(o)),u&8||u&4&&typeof o=="object"&&o&&o.__esModule)return o;var d=Object.create(null);if(a.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:o}),u&2&&typeof o!="string")for(var n in o)a.d(d,n,(function(k){return o[k]}).bind(null,n));return d},a.n=function(o){var u=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(u,"a",u),u},a.o=function(o,u){return Object.prototype.hasOwnProperty.call(o,u)},a.p="",a(a.s="fb15")}({"6b0d":function(t,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.default=(o,u)=>{for(const[d,n]of u)o[d]=n;return o}},"7e79":function(t,i,a){},8875:function(t,i,a){var o,u,d;(function(n,k){u=[],o=k,d=typeof o=="function"?o.apply(i,u):o,d!==void 0&&(t.exports=d)})(typeof self<"u"?self:this,function(){function n(){var k=Object.getOwnPropertyDescriptor(document,"currentScript");if(!k&&"currentScript"in document&&document.currentScript||k&&k.get!==n&&document.currentScript)return document.currentScript;try{throw new Error}catch(G){var j=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,Z=/@([^@]*):(\d+):(\d+)\s*$/ig,z=j.exec(G.stack)||Z.exec(G.stack),H=z&&z[1]||!1,Y=z&&z[2]||!1,I=document.location.href.replace(document.location.hash,""),B,U,T,C=document.getElementsByTagName("script");H===I&&(B=document.documentElement.outerHTML,U=new RegExp("(?:[^\\n]+?\\n){0,"+(Y-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),T=B.replace(U,"$1").trim());for(var P=0;P<C.length;P++)if(C[P].readyState==="interactive"||C[P].src===H||H===I&&C[P].innerHTML&&C[P].innerHTML.trim()===T)return C[P];return null}}return n})},"8bbf":function(t,i){t.exports=require$$0$1},fb15:function(t,i,a){if(a.r(i),typeof window<"u"){var o=window.document.currentScript;{var u=a("8875");o=u(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:u})}var d=o&&o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);d&&(a.p=d[1])}var n=a("8bbf"),k=["title"];function j(fe,ue,pe,te,ge,xe){var ce=Object(n.resolveComponent)("donut-sections");return Object(n.openBlock)(),Object(n.createElementBlock)("div",{class:"cdc-container",style:Object(n.normalizeStyle)(xe.placementStyles.container)},[Object(n.createElementVNode)("div",{class:"cdc",ref:"donut",style:Object(n.normalizeStyle)(xe.donutStyles)},[Object(n.createVNode)(ce,Object(n.mergeProps)(Object(n.toHandlers)(xe.sectionListeners),{sections:xe.donutSections,"start-angle":pe.startAngle}),null,16,["sections","start-angle"]),Object(n.createElementVNode)("div",{class:"cdc-overlay",style:Object(n.normalizeStyle)(xe.overlayStyles)},[Object(n.createElementVNode)("div",{class:"cdc-text",style:Object(n.normalizeStyle)(xe.donutTextStyles)},[Object(n.renderSlot)(fe.$slots,"default",{},function(){return[Object(n.createTextVNode)(Object(n.toDisplayString)(pe.text),1)]})],4)],4)],4),Object(n.renderSlot)(fe.$slots,"legend",{},function(){return[pe.hasLegend?(Object(n.openBlock)(),Object(n.createElementBlock)("div",{key:0,class:"cdc-legend",style:Object(n.normalizeStyle)(xe.placementStyles.legend)},[(Object(n.openBlock)(!0),Object(n.createElementBlock)(n.Fragment,null,Object(n.renderList)(xe.legend,function(we,Ae){return Object(n.openBlock)(),Object(n.createElementBlock)("span",{class:"cdc-legend-item",key:Ae,title:we.percent},[Object(n.createElementVNode)("span",{class:"cdc-legend-item-color",style:Object(n.normalizeStyle)(we.styles)},null,4),Object(n.createElementVNode)("span",null,Object(n.toDisplayString)(we.label),1)],8,k)}),128))],4)):Object(n.createCommentVNode)("",!0)]})],4)}var Z=["click","mouseenter","mouseleave","mouseover","mouseout","mousemove"].map(function(fe){return{nativeEventName:fe,sectionEventName:"section-".concat(fe)}}),z=["#FF6384","#36A2EB","#FFCE56","#F58231","#46F0F0","#D2F53C","#911EB4","#F032E6","#3CB44B","#FFE119","#E6194B","#FABEBE","#008080","#E6BEFF","#0082C8","#AA6E28","#FFFAC8","#800000","#AAFFC3","#808000","#FFD8B1","#000080","#808080","#000000"],H=z,Y;function I(fe){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?I=function(pe){return typeof pe}:I=function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},I(fe)}function B(fe,ue,pe){return ue in fe?Object.defineProperty(fe,ue,{value:pe,enumerable:!0,configurable:!0,writable:!0}):fe[ue]=pe,fe}var U="1em",T="dodgerblue",C={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},P=(Y={},B(Y,C.TOP,{container:{flexDirection:"column"},legend:{order:-1,margin:0,marginBottom:U}}),B(Y,C.RIGHT,{container:{},legend:{flexDirection:"column",margin:0,marginLeft:U}}),B(Y,C.BOTTOM,{container:{flexDirection:"column"},legend:{}}),B(Y,C.LEFT,{container:{},legend:{flexDirection:"column",order:-1,margin:0,marginRight:U}}),Y),G=function(ue){return!!ue&&ue.constructor===Object},q=[{type:"number",key:"value",required:!0},{key:"label"},{key:"color"}];function N(fe){return G(fe)?q.reduce(function(ue,pe){if(!ue)return!1;var te=!0;return pe.required&&(te=te&&Object.hasOwnProperty.call(fe,pe.key)),pe.type&&(te=te&&I(fe[pe.key])===pe.type),ue&&te},!0):!1}var ne=["title"];function K(fe,ue,pe,te,ge,xe){return Object(n.openBlock)(),Object(n.createElementBlock)("div",{class:"cdc-sections",style:Object(n.normalizeStyle)(xe.containerStyles)},[(Object(n.openBlock)(!0),Object(n.createElementBlock)(n.Fragment,null,Object(n.renderList)(xe.donutSections,function(ce,we){return Object(n.openBlock)(),Object(n.createElementBlock)("div",Object(n.mergeProps)(Object(n.toHandlers)(ce.listeners),{key:we,class:["cdc-section",ce.className],style:ce.sectionStyles}),[Object(n.createElementVNode)("div",{class:"cdc-filler",style:Object(n.normalizeStyle)(ce.fillerStyles),title:ce.label},null,12,ne)],16)}),128))],4)}function L(fe,ue){var pe=Object.keys(fe);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(fe);ue&&(te=te.filter(function(ge){return Object.getOwnPropertyDescriptor(fe,ge).enumerable})),pe.push.apply(pe,te)}return pe}function E(fe){for(var ue=1;ue<arguments.length;ue++){var pe=arguments[ue]!=null?arguments[ue]:{};ue%2?L(Object(pe),!0).forEach(function(te){w(fe,te,pe[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(pe)):L(Object(pe)).forEach(function(te){Object.defineProperty(fe,te,Object.getOwnPropertyDescriptor(pe,te))})}return fe}function w(fe,ue,pe){return ue in fe?Object.defineProperty(fe,ue,{value:pe,enumerable:!0,configurable:!0,writable:!0}):fe[ue]=pe,fe}var g={LEFT:"cdc-section-left",RIGHT:"cdc-section-right"},A={props:{startAngle:{type:Number,default:0},sections:{type:Array,default:function(){return[]}}},emits:Z.map(function(fe){return fe.sectionEventName}),computed:{containerStyles:function(){return{transform:"rotate(".concat(this.startAngle,"deg)")}},donutSections:function(){var ue=this,pe=180,te=0,ge=0,xe=this.sections.map(function(ce){var we=[g.RIGHT,-180],Ae=we[0],Fe=we[1];if(te>=pe){var De=[g.LEFT,180];Ae=De[0],Fe=De[1]}var Ge=Fe+ce.degree,ct={backgroundColor:ce.color||T,transform:"rotate(".concat(Ge,"deg)")},ot={transform:"rotate(".concat(ge,"deg)")};te+=ce.degree,te===180?ge=0:ge+=ce.degree;var Qe=Z.reduce(function(Ie,Ue){var He=Ue.nativeEventName,it=Ue.sectionEventName;return E(E({},Ie),{},w({},He,function(Je){return ue.emitEvent(it,ce,Je)}))},{});return{label:ce.label,className:Ae,fillerStyles:ct,sectionStyles:ot,listeners:Qe}});return xe}},methods:{emitEvent:function(ue,pe,te){pe.value!==0&&this.$emit(ue,pe.$section,te)}}},m=a("6b0d"),y=a.n(m),M=y()(A,[["render",K]]);a("7e79");function X(fe,ue){var pe=Object.keys(fe);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(fe);ue&&(te=te.filter(function(ge){return Object.getOwnPropertyDescriptor(fe,ge).enumerable})),pe.push.apply(pe,te)}return pe}function re(fe){for(var ue=1;ue<arguments.length;ue++){var pe=arguments[ue]!=null?arguments[ue]:{};ue%2?X(Object(pe),!0).forEach(function(te){ee(fe,te,pe[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(pe)):X(Object(pe)).forEach(function(te){Object.defineProperty(fe,te,Object.getOwnPropertyDescriptor(pe,te))})}return fe}function ee(fe,ue,pe){return ue in fe?Object.defineProperty(fe,ue,{value:pe,enumerable:!0,configurable:!0,writable:!0}):fe[ue]=pe,fe}var he={name:"vc-donut",props:{size:{type:Number,default:250,validator:function(ue){return ue>0}},unit:{type:String,default:"px"},thickness:{type:Number,default:20,validator:function(ue){return ue>=0&&ue<=100}},text:{type:String,default:null},autoAdjustTextSize:{type:Boolean,default:!0},background:{type:String,default:"#ffffff"},foreground:{type:String,default:"#eeeeee"},sections:{type:Array,default:function(){return[]},validator:function(ue){for(var pe=0;pe<ue.length;++pe)if(!N(ue[pe]))return!1;return!0}},total:{type:Number,default:100,validator:function(ue){return ue>0}},hasLegend:{type:Boolean,default:!1},legendPlacement:{type:String,default:C.BOTTOM,validator:function(ue){return!!C[ue.toUpperCase()]}},startAngle:{type:Number,default:0}},emits:Z.map(function(fe){return fe.sectionEventName}),watch:{autoAdjustTextSize:function(ue){ue?window.addEventListener("resize",this.resizeListener):window.removeEventListener("resize",this.resizeListener),this.recalcFontSize()},size:function(){this.recalcFontSize()},unit:function(){this.recalcFontSize()}},data:function(){return{donutEl:null,fontSize:"1em",resizeListener:null}},computed:{donutSections:function(){var ue=this,pe=this.sections.reduce(function(Fe,De){return Fe+De.value},0);if(typeof pe!="number")return[];if(pe=Number(pe.toFixed(2)),pe>this.total){var te="Sum of all the sections' values (".concat(pe,") should not exceed `total` (").concat(this.total,")");throw new Error(te)}var ge=360,xe=180,ce=0,we=0,Ae=[];return this.sections.forEach(function(Fe){var De=ge*(Fe.value/ue.total),Ge=[De];De>xe&&(Ge=[xe,De-xe]);var ct=Fe.color||H[we++];Ge.forEach(function(ot){var Qe=Number((ce+ot).toFixed(2));if(Qe>xe){var Ie=xe-ce;Ae.push(re(re({},Fe),{},{degree:Ie,color:ct,$section:Fe}),re(re({},Fe),{},{degree:ot-Ie,color:ct,$section:Fe}))}else Ae.push(re(re({},Fe),{},{degree:ot,color:ct,$section:Fe}));ce+=ot,ce>=xe&&(ce-=xe)})}),Ae},legend:function(){var ue=this;if(!this.hasLegend)return null;var pe=0;return this.sections.map(function(te,ge){return{label:te.label||"Section ".concat(ge+1),percent:"".concat(te.value," (").concat(te.value/ue.total*100,"%)"),styles:{backgroundColor:te.color||H[pe++]}}})},placementStyles:function(){return this.hasLegend?P[this.legendPlacement]:{}},donutStyles:function(){var ue="".concat(this.size).concat(this.unit),pe={width:ue,paddingBottom:ue,backgroundColor:this.foreground};return pe},overlayStyles:function(){var ue=100,pe=ue-this.thickness,te="".concat(pe,"%"),ge="calc(50% - ".concat(pe/2,"%)");return{height:te,width:te,top:ge,left:ge,backgroundColor:this.background}},donutTextStyles:function(){var ue=this.fontSize;return{fontSize:ue}},sectionListeners:function(){var ue=this;return Z.reduce(function(pe,te){var ge=te.sectionEventName;return re(re({},pe),{},ee({},ge,function(){for(var xe=arguments.length,ce=new Array(xe),we=0;we<xe;we++)ce[we]=arguments[we];return ue.emitSectionEvent.apply(ue,[ge].concat(ce))}))},{})}},methods:{recalcFontSize:function(){var ue=this;if(!this.autoAdjustTextSize){this.fontSize="1em";return}var pe=.08,te=this.size;this.$nextTick(function(){ue.unit!=="px"&&(ue.donutEl?te=ue.donutEl.clientWidth:te=null),ue.fontSize=te?"".concat((te*pe).toFixed(2),"px"):"1em"})},emitSectionEvent:function(ue){for(var pe=arguments.length,te=new Array(pe>1?pe-1:0),ge=1;ge<pe;ge++)te[ge-1]=arguments[ge];this.$emit.apply(this,[ue].concat(te))}},created:function(){this.resizeListener=this.recalcFontSize.bind(this)},mounted:function(){this.donutEl=this.$refs.donut,this.autoAdjustTextSize&&(this.recalcFontSize(),window.addEventListener("resize",this.resizeListener))},beforeUnmount:function(){window.removeEventListener("resize",this.resizeListener)},components:{DonutSections:M}},Ce=y()(he,[["render",j]]),oe={install:function(ue){ue.component(Ce.name,Ce)}},de=oe;i.default=de}})})(vcdonut_common);var vcdonut_commonExports=vcdonut_common.exports;const Donut=getDefaultExportFromCjs(vcdonut_commonExports),vcdonut="",mapboxGl$1="";var mapboxGl={exports:{}};(function(e,t){(function(i,a){e.exports=a()})(commonjsGlobal$1,function(){var i,a,o;function u(n,k){if(!i)i=k;else if(!a)a=k;else{var j="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+i+")(sharedChunk); ("+a+")(sharedChunk); self.onerror = null;",Z={};i(Z),o=k(Z),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(o.workerUrl=window.URL.createObjectURL(new Blob([j],{type:"text/javascript"})))}}u(["exports"],function(n){var k=typeof self<"u"?self:{},j="2.12.0";let Z;const z={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(Z==null){const s=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{Z={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):s}catch{Z=s}}return Z},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},H={supported:!1,testSupport:function(s){!B&&I&&(U?T(s):Y=s)}};let Y,I,B=!1,U=!1;function T(s){const r=s.createTexture();s.bindTexture(s.TEXTURE_2D,r);try{if(s.texImage2D(s.TEXTURE_2D,0,s.RGBA,s.RGBA,s.UNSIGNED_BYTE,I),s.isContextLost())return;H.supported=!0}catch{}s.deleteTexture(r),B=!0}k.document&&(I=k.document.createElement("img"),I.onload=function(){Y&&T(Y),Y=null,U=!0},I.onerror=function(){B=!0,Y=null},I.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const C="01";var P=G;function G(s,r,l,f){this.cx=3*s,this.bx=3*(l-s)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*r,this.by=3*(f-r)-this.cy,this.ay=1-this.cy-this.by,this.p1x=s,this.p1y=r,this.p2x=l,this.p2y=f}G.prototype={sampleCurveX:function(s){return((this.ax*s+this.bx)*s+this.cx)*s},sampleCurveY:function(s){return((this.ay*s+this.by)*s+this.cy)*s},sampleCurveDerivativeX:function(s){return(3*this.ax*s+2*this.bx)*s+this.cx},solveCurveX:function(s,r){if(r===void 0&&(r=1e-6),s<0)return 0;if(s>1)return 1;for(var l=s,f=0;f<8;f++){var S=this.sampleCurveX(l)-s;if(Math.abs(S)<r)return l;var F=this.sampleCurveDerivativeX(l);if(Math.abs(F)<1e-6)break;l-=S/F}var W=0,ie=1;for(l=s,f=0;f<20&&(S=this.sampleCurveX(l),!(Math.abs(S-s)<r));f++)s>S?W=l:ie=l,l=.5*(ie-W)+W;return l},solve:function(s,r){return this.sampleCurveY(this.solveCurveX(s,r))}};var q=N;function N(s,r){this.x=s,this.y=r}N.prototype={clone:function(){return new N(this.x,this.y)},add:function(s){return this.clone()._add(s)},sub:function(s){return this.clone()._sub(s)},multByPoint:function(s){return this.clone()._multByPoint(s)},divByPoint:function(s){return this.clone()._divByPoint(s)},mult:function(s){return this.clone()._mult(s)},div:function(s){return this.clone()._div(s)},rotate:function(s){return this.clone()._rotate(s)},rotateAround:function(s,r){return this.clone()._rotateAround(s,r)},matMult:function(s){return this.clone()._matMult(s)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(s){return this.x===s.x&&this.y===s.y},dist:function(s){return Math.sqrt(this.distSqr(s))},distSqr:function(s){var r=s.x-this.x,l=s.y-this.y;return r*r+l*l},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(s){return Math.atan2(this.y-s.y,this.x-s.x)},angleWith:function(s){return this.angleWithSep(s.x,s.y)},angleWithSep:function(s,r){return Math.atan2(this.x*r-this.y*s,this.x*s+this.y*r)},_matMult:function(s){var r=s[2]*this.x+s[3]*this.y;return this.x=s[0]*this.x+s[1]*this.y,this.y=r,this},_add:function(s){return this.x+=s.x,this.y+=s.y,this},_sub:function(s){return this.x-=s.x,this.y-=s.y,this},_mult:function(s){return this.x*=s,this.y*=s,this},_div:function(s){return this.x/=s,this.y/=s,this},_multByPoint:function(s){return this.x*=s.x,this.y*=s.y,this},_divByPoint:function(s){return this.x/=s.x,this.y/=s.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var s=this.y;return this.y=this.x,this.x=-s,this},_rotate:function(s){var r=Math.cos(s),l=Math.sin(s),f=l*this.x+r*this.y;return this.x=r*this.x-l*this.y,this.y=f,this},_rotateAround:function(s,r){var l=Math.cos(s),f=Math.sin(s),S=r.y+f*(this.x-r.x)+l*(this.y-r.y);return this.x=r.x+l*(this.x-r.x)-f*(this.y-r.y),this.y=S,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},N.convert=function(s){return s instanceof N?s:Array.isArray(s)?new N(s[0],s[1]):s};const ne=Math.PI/180,K=180/Math.PI;function L(s){return s*ne}function E(s){return s*K}const w=[[0,0],[1,0],[1,1],[0,1]];function g(s){if(s<=0)return 0;if(s>=1)return 1;const r=s*s,l=r*s;return 4*(s<.5?l:3*(s-r)+l-.75)}function A(s,r,l,f){const S=new P(s,r,l,f);return function(F){return S.solve(F)}}const m=A(.25,.1,.25,1);function y(s,r,l){return Math.min(l,Math.max(r,s))}function x(s,r,l){return(l=y((l-s)/(r-s),0,1))*l*(3-2*l)}function M(s,r,l){const f=l-r,S=((s-r)%f+f)%f+r;return S===r?l:S}function X(s,r,l){if(!s.length)return l(null,[]);let f=s.length;const S=new Array(s.length);let F=null;s.forEach((W,ie)=>{r(W,(le,me)=>{le&&(F=le),S[ie]=me,--f==0&&l(F,S)})})}function re(s){const r=[];for(const l in s)r.push(s[l]);return r}function ee(s,...r){for(const l of r)for(const f in l)s[f]=l[f];return s}let he=1;function ye(){return he++}function Ce(){return function s(r){return r?(r^Math.random()*(16>>r/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,s)}()}function oe(s){return s<=1?1:Math.pow(2,Math.ceil(Math.log(s)/Math.LN2))}function de(s){return!!s&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(s)}function fe(s,r){s.forEach(l=>{r[l]&&(r[l]=r[l].bind(r))})}function ue(s,r){return s.indexOf(r,s.length-r.length)!==-1}function pe(s,r,l){const f={};for(const S in s)f[S]=r.call(l||this,s[S],S,s);return f}function te(s,r,l){const f={};for(const S in s)r.call(l||this,s[S],S,s)&&(f[S]=s[S]);return f}function ge(s){return Array.isArray(s)?s.map(ge):typeof s=="object"&&s?pe(s,ge):s}const xe={};function ce(s){xe[s]||(typeof console<"u"&&console.warn(s),xe[s]=!0)}function we(s,r,l){return(l.y-s.y)*(r.x-s.x)>(r.y-s.y)*(l.x-s.x)}function Ae(s){let r=0;for(let l,f,S=0,F=s.length,W=F-1;S<F;W=S++)l=s[S],f=s[W],r+=(f.x-l.x)*(l.y+f.y);return r}function Fe(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function De(s){const r={};if(s.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(l,f,S,F)=>{const W=S||F;return r[f]=!W||W.toLowerCase(),""}),r["max-age"]){const l=parseInt(r["max-age"],10);isNaN(l)?delete r["max-age"]:r["max-age"]=l}return r}let Ge=null;function ct(s){if(Ge==null){const r=s.navigator?s.navigator.userAgent:null;Ge=!!s.safari||!(!r||!(/\b(iPad|iPhone|iPod)\b/.test(r)||r.match("Safari")&&!r.match("Chrome")))}return Ge}function ot(s){try{const r=k[s];return r.setItem("_mapbox_test_",1),r.removeItem("_mapbox_test_"),!0}catch{return!1}}function Qe(s,r){return[s[4*r],s[4*r+1],s[4*r+2],s[4*r+3]]}const Ie="mapbox-tiles";let Ue,He,it=500,Je=50;function st(){try{return k.caches}catch{}}function ht(){st()&&!Ue&&(Ue=k.caches.open(Ie))}function Ke(s){const r=s.indexOf("?");if(r<0)return s;const l=function(S){const F=S.indexOf("?");return F>0?S.slice(F+1).split("&"):[]}(s),f=l.filter(S=>{const F=S.split("=");return F[0]==="language"||F[0]==="worldview"});return f.length?`${s.slice(0,r)}?${f.join("&")}`:s.slice(0,r)}let At=1/0;const Et={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Et);class Wt extends Error{constructor(r,l,f){l===401&&or(f)&&(r+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(r),this.status=l,this.url=f}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const fi=Fe()?()=>self.worker&&self.worker.referrer:()=>(k.location.protocol==="blob:"?k.parent:k).location.href,ei=function(s,r){if(!(/^file:/.test(l=s.url)||/^file:/.test(fi())&&!/^\w+:/.test(l))){if(k.fetch&&k.Request&&k.AbortController&&k.Request.prototype.hasOwnProperty("signal"))return function(f,S){const F=new k.AbortController,W=new k.Request(f.url,{method:f.method||"GET",body:f.body,credentials:f.credentials,headers:f.headers,referrer:fi(),signal:F.signal});let ie=!1,le=!1;const me=(Ee=W.url).indexOf("sku=")>0&&or(Ee);var Ee;f.type==="json"&&W.headers.set("Accept","application/json");const Oe=(Ve,qe,rt)=>{if(le)return;if(Ve&&Ve.message!=="SecurityError"&&ce(Ve),qe&&rt)return Le(qe);const pt=Date.now();k.fetch(W).then(Mt=>{if(Mt.ok){const Ut=me?Mt.clone():null;return Le(Mt,Ut,pt)}return S(new Wt(Mt.statusText,Mt.status,f.url))}).catch(Mt=>{Mt.code!==20&&S(new Error(Mt.message))})},Le=(Ve,qe,rt)=>{(f.type==="arrayBuffer"?Ve.arrayBuffer():f.type==="json"?Ve.json():Ve.text()).then(pt=>{le||(qe&&rt&&function(Mt,Ut,Pt){if(ht(),!Ue)return;const Dt={status:Ut.status,statusText:Ut.statusText,headers:new k.Headers};Ut.headers.forEach((gi,pi)=>Dt.headers.set(pi,gi));const qt=De(Ut.headers.get("Cache-Control")||"");if(qt["no-store"])return;qt["max-age"]&&Dt.headers.set("Expires",new Date(Pt+1e3*qt["max-age"]).toUTCString());const $t=Dt.headers.get("Expires");$t&&(new Date($t).getTime()-Pt<42e4||function(gi,pi){if(He===void 0)try{new Response(new ReadableStream),He=!0}catch{He=!1}He?pi(gi.body):gi.blob().then(pi)}(Ut,gi=>{const pi=new k.Response(gi,Dt);ht(),Ue&&Ue.then(Ri=>Ri.put(Ke(Mt.url),pi)).catch(Ri=>ce(Ri.message))}))}(W,qe,rt),ie=!0,S(null,pt,Ve.headers.get("Cache-Control"),Ve.headers.get("Expires")))}).catch(pt=>{le||S(new Error(pt.message))})};return me?function(Ve,qe){if(ht(),!Ue)return qe(null);const rt=Ke(Ve.url);Ue.then(pt=>{pt.match(rt).then(Mt=>{const Ut=function(Pt){if(!Pt)return!1;const Dt=new Date(Pt.headers.get("Expires")||0),qt=De(Pt.headers.get("Cache-Control")||"");return Dt>Date.now()&&!qt["no-cache"]}(Mt);pt.delete(rt),Ut&&pt.put(rt,Mt.clone()),qe(null,Mt,Ut)}).catch(qe)}).catch(qe)}(W,Oe):Oe(null,null),{cancel:()=>{le=!0,ie||F.abort()}}}(s,r);if(Fe()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",s,r,void 0,!0)}var l;return function(f,S){const F=new k.XMLHttpRequest;F.open(f.method||"GET",f.url,!0),f.type==="arrayBuffer"&&(F.responseType="arraybuffer");for(const W in f.headers)F.setRequestHeader(W,f.headers[W]);return f.type==="json"&&(F.responseType="text",F.setRequestHeader("Accept","application/json")),F.withCredentials=f.credentials==="include",F.onerror=()=>{S(new Error(F.statusText))},F.onload=()=>{if((F.status>=200&&F.status<300||F.status===0)&&F.response!==null){let W=F.response;if(f.type==="json")try{W=JSON.parse(F.response)}catch(ie){return S(ie)}S(null,W,F.getResponseHeader("Cache-Control"),F.getResponseHeader("Expires"))}else S(new Wt(F.statusText,F.status,f.url))},F.send(f.body),{cancel:()=>F.abort()}}(s,r)},hi=function(s,r){return ei(ee(s,{type:"arrayBuffer"}),r)};function vi(s){const r=k.document.createElement("a");return r.href=s,r.protocol===k.document.location.protocol&&r.host===k.document.location.host}const zi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Ji,cr;Ji=[],cr=0;const Yr=function(s,r){if(H.supported&&(s.headers||(s.headers={}),s.headers.accept="image/webp,*/*"),cr>=z.MAX_PARALLEL_IMAGE_REQUESTS){const F={requestParameters:s,callback:r,cancelled:!1,cancel(){this.cancelled=!0}};return Ji.push(F),F}cr++;let l=!1;const f=()=>{if(!l)for(l=!0,cr--;Ji.length&&cr<z.MAX_PARALLEL_IMAGE_REQUESTS;){const F=Ji.shift(),{requestParameters:W,callback:ie,cancelled:le}=F;le||(F.cancel=Yr(W,ie).cancel)}},S=hi(s,(F,W,ie,le)=>{f(),F?r(F):W&&(k.createImageBitmap?function(me,Ee){const Oe=new k.Blob([new Uint8Array(me)],{type:"image/png"});k.createImageBitmap(Oe).then(Le=>{Ee(null,Le)}).catch(Le=>{Ee(new Error(`Could not load image because of ${Le.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(W,(me,Ee)=>r(me,Ee,ie,le)):function(me,Ee){const Oe=new k.Image,Le=k.URL;Oe.onload=()=>{Ee(null,Oe),Le.revokeObjectURL(Oe.src),Oe.onload=null,k.requestAnimationFrame(()=>{Oe.src=zi})},Oe.onerror=()=>Ee(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Ve=new k.Blob([new Uint8Array(me)],{type:"image/png"});Oe.src=me.byteLength?Le.createObjectURL(Ve):zi}(W,(me,Ee)=>r(me,Ee,ie,le)))});return{cancel:()=>{S.cancel(),f()}}},Cr="NO_ACCESS_TOKEN";function jr(s){return s.indexOf("mapbox:")===0}function or(s){return z.API_URL_REGEX.test(s)}function Sn(s){return z.API_CDN_URL_REGEX.test(s)}function Nn(s){return z.API_STYLE_REGEX.test(s)&&!fn(s)}function fn(s){return z.API_SPRITE_REGEX.test(s)}const Oa=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Ln(s){const r=s.match(Oa);if(!r)throw new Error("Unable to parse URL object");return{protocol:r[1],authority:r[2],path:r[3]||"/",params:r[4]?r[4].split("&"):[]}}function Ba(s){const r=s.params.length?`?${s.params.join("&")}`:"";return`${s.protocol}://${s.authority}${s.path}${r}`}function go(s){if(!s)return null;const r=s.split(".");if(!r||r.length!==3)return null;try{return JSON.parse(decodeURIComponent(k.atob(r[1]).split("").map(l=>"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class wt{constructor(r){this.type=r,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(r){const l=go(z.ACCESS_TOKEN);let f="";return f=l&&l.u?k.btoa(encodeURIComponent(l.u).replace(/%([0-9A-F]{2})/g,(S,F)=>String.fromCharCode(+("0x"+F)))):z.ACCESS_TOKEN||"",r?`mapbox.eventData.${r}:${f}`:`mapbox.eventData:${f}`}fetchEventData(){const r=ot("localStorage"),l=this.getStorageKey(),f=this.getStorageKey("uuid");if(r)try{const S=k.localStorage.getItem(l);S&&(this.eventData=JSON.parse(S));const F=k.localStorage.getItem(f);F&&(this.anonId=F)}catch{ce("Unable to read from LocalStorage")}}saveEventData(){const r=ot("localStorage"),l=this.getStorageKey(),f=this.getStorageKey("uuid");if(r)try{k.localStorage.setItem(f,this.anonId),Object.keys(this.eventData).length>=1&&k.localStorage.setItem(l,JSON.stringify(this.eventData))}catch{ce("Unable to write to LocalStorage")}}processRequests(r){}postEvent(r,l,f,S){if(!z.EVENTS_URL)return;const F=Ln(z.EVENTS_URL);F.params.push(`access_token=${S||z.ACCESS_TOKEN||""}`);const W={event:this.type,created:new Date(r).toISOString()},ie=l?ee(W,l):W,le={url:Ba(F),headers:{"Content-Type":"text/plain"},body:JSON.stringify([ie])};this.pendingRequest=function(me,Ee){return ei(ee(me,{method:"POST"}),Ee)}(le,me=>{this.pendingRequest=null,f(me),this.saveEventData(),this.processRequests(S)})}queueRequest(r,l){this.queue.push(r),this.processRequests(l)}}const We=new class extends wt{constructor(s){super("appUserTurnstile"),this._customAccessToken=s}postTurnstileEvent(s,r){z.EVENTS_URL&&z.ACCESS_TOKEN&&Array.isArray(s)&&s.some(l=>jr(l)||or(l))&&this.queueRequest(Date.now(),r)}processRequests(s){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const r=go(z.ACCESS_TOKEN),l=r?r.u:z.ACCESS_TOKEN;let f=l!==this.eventData.tokenU;de(this.anonId)||(this.anonId=Ce(),f=!0);const S=this.queue.shift();if(this.eventData.lastSuccess){const F=new Date(this.eventData.lastSuccess),W=new Date(S),ie=(S-this.eventData.lastSuccess)/864e5;f=f||ie>=1||ie<-1||F.getDate()!==W.getDate()}else f=!0;f?this.postEvent(S,{sdkIdentifier:"mapbox-gl-js",sdkVersion:j,skuId:C,"enabled.telemetry":!1,userId:this.anonId},F=>{F||(this.eventData.lastSuccess=S,this.eventData.tokenU=l)},s):this.processRequests()}},nt=We.postTurnstileEvent.bind(We),St=new class extends wt{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(s,r,l,f){this.skuToken=r,this.errorCb=f,z.EVENTS_URL&&(l||z.ACCESS_TOKEN?this.queueRequest({id:s,timestamp:Date.now()},l):this.errorCb(new Error(Cr)))}processRequests(s){if(this.pendingRequest||this.queue.length===0)return;const{id:r,timestamp:l}=this.queue.shift();r&&this.success[r]||(this.anonId||this.fetchEventData(),de(this.anonId)||(this.anonId=Ce()),this.postEvent(l,{sdkIdentifier:"mapbox-gl-js",sdkVersion:j,skuId:C,skuToken:this.skuToken,userId:this.anonId},f=>{f?this.errorCb(f):r&&(this.success[r]=!0)},s))}},It=St.postMapLoadEvent.bind(St),Tt=new class extends wt{constructor(){super("gljs.performance")}postPerformanceEvent(s,r){z.EVENTS_URL&&(s||z.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:r},s)}processRequests(s){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:r,performanceData:l}=this.queue.shift(),f=function(S){const F=k.performance.getEntriesByType("resource"),W=k.performance.getEntriesByType("mark"),ie=function(Le){const Ve={};if(Le){for(const qe in Le)if(qe!=="other")for(const rt of Le[qe]){const pt=`${qe}ResolveRangeMin`,Mt=`${qe}ResolveRangeMax`,Ut=`${qe}RequestCount`,Pt=`${qe}RequestCachedCount`;Ve[pt]=Math.min(Ve[pt]||1/0,rt.startTime),Ve[Mt]=Math.max(Ve[Mt]||-1/0,rt.responseEnd);const Dt=qt=>{Ve[qt]===void 0&&(Ve[qt]=0),++Ve[qt]};rt.transferSize!==void 0&&rt.transferSize===0&&Dt(Pt),Dt(Ut)}}return Ve}(function(Le,Ve){const qe={};if(Le)for(const rt of Le){const pt=Ve(rt);qe[pt]===void 0&&(qe[pt]=[]),qe[pt].push(rt)}return qe}(F,ti)),le=k.devicePixelRatio,me=k.navigator.connection||k.navigator.mozConnection||k.navigator.webkitConnection,Ee={counters:[],metadata:[],attributes:[]},Oe=(Le,Ve,qe)=>{qe!=null&&Le.push({name:Ve,value:qe.toString()})};for(const Le in ie)Oe(Ee.counters,Le,ie[Le]);if(S.interactionRange[0]!==1/0&&S.interactionRange[1]!==-1/0&&(Oe(Ee.counters,"interactionRangeMin",S.interactionRange[0]),Oe(Ee.counters,"interactionRangeMax",S.interactionRange[1])),W)for(const Le of Object.keys(Vt)){const Ve=Vt[Le],qe=W.find(rt=>rt.name===Ve);qe&&Oe(Ee.counters,Ve,qe.startTime)}return Oe(Ee.counters,"visibilityHidden",S.visibilityHidden),Oe(Ee.attributes,"style",function(Le){if(Le)for(const Ve of Le){const qe=Ve.name.split("?")[0];if(Nn(qe)){const rt=qe.split("/").slice(-2);if(rt.length===2)return`mapbox://styles/${rt[0]}/${rt[1]}`}}}(F)),Oe(Ee.attributes,"terrainEnabled",S.terrainEnabled?"true":"false"),Oe(Ee.attributes,"fogEnabled",S.fogEnabled?"true":"false"),Oe(Ee.attributes,"projection",S.projection),Oe(Ee.attributes,"zoom",S.zoom),Oe(Ee.metadata,"devicePixelRatio",le),Oe(Ee.metadata,"connectionEffectiveType",me?me.effectiveType:void 0),Oe(Ee.metadata,"navigatorUserAgent",k.navigator.userAgent),Oe(Ee.metadata,"screenWidth",k.screen.width),Oe(Ee.metadata,"screenHeight",k.screen.height),Oe(Ee.metadata,"windowWidth",k.innerWidth),Oe(Ee.metadata,"windowHeight",k.innerHeight),Oe(Ee.metadata,"mapWidth",S.width/le),Oe(Ee.metadata,"mapHeight",S.height/le),Oe(Ee.metadata,"webglRenderer",S.renderer),Oe(Ee.metadata,"webglVendor",S.vendor),Oe(Ee.metadata,"sdkVersion",j),Oe(Ee.metadata,"sdkIdentifier","mapbox-gl-js"),Ee}(l);for(const S of f.metadata);for(const S of f.counters);for(const S of f.attributes);this.postEvent(r,f,()=>{},s)}},Zt=Tt.postPerformanceEvent.bind(Tt),Lt=new class extends wt{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(s,r,l,f){if(!z.API_URL||!z.SESSION_PATH)return;const S=Ln(z.API_URL+z.SESSION_PATH);S.params.push(`sku=${r||""}`),S.params.push(`access_token=${f||z.ACCESS_TOKEN||""}`);const F={url:Ba(S),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(W,ie){return ei(ee(W,{method:"GET"}),ie)}(F,W=>{this.pendingRequest=null,l(W),this.saveEventData(),this.processRequests(f)})}getSessionAPI(s,r,l,f){this.skuToken=r,this.errorCb=f,z.SESSION_PATH&&z.API_URL&&(l||z.ACCESS_TOKEN?this.queueRequest({id:s,timestamp:Date.now()},l):this.errorCb(new Error(Cr)))}processRequests(s){if(this.pendingRequest||this.queue.length===0)return;const{id:r,timestamp:l}=this.queue.shift();r&&this.success[r]||this.getSession(l,this.skuToken,f=>{f?this.errorCb(f):r&&(this.success[r]=!0)},s)}},Bt=Lt.getSessionAPI.bind(Lt),Ze=new Set,Vt={create:"create",load:"load",fullLoad:"fullLoad"},ri={mark(s){k.performance.mark(s)},measure(s,r,l){k.performance.measure(s,r,l)}};function ti(s){const r=s.name.split("?")[0];return Sn(r)&&r.includes("mapbox-gl.js")?"javascript":Sn(r)&&r.includes("mapbox-gl.css")?"css":function(l){return z.API_FONTS_REGEX.test(l)}(r)?"fontRange":fn(r)?"sprite":Nn(r)?"style":function(l){return z.API_TILEJSON_REGEX.test(l)}(r)?"tilejson":"other"}const er=k.performance;function oi(s){const r=s?s.url.toString():void 0;return er.getEntriesByName(r)}let Ki,si,gr,Vi;const nr={now:()=>gr!==void 0?gr:k.performance.now(),setNow(s){gr=s},restoreNow(){gr=void 0},frame(s){const r=k.requestAnimationFrame(s);return{cancel:()=>k.cancelAnimationFrame(r)}},getImageData(s,r=0){const{width:l,height:f}=s;Vi||(Vi=k.document.createElement("canvas"));const S=Vi.getContext("2d",{willReadFrequently:!0});if(!S)throw new Error("failed to create canvas 2d context");return(l>Vi.width||f>Vi.height)&&(Vi.width=l,Vi.height=f),S.clearRect(-r,-r,l+2*r,f+2*r),S.drawImage(s,0,0,l,f),S.getImageData(-r,-r,l+2*r,f+2*r)},resolveURL:s=>(Ki||(Ki=k.document.createElement("a")),Ki.href=s,Ki.href),get devicePixelRatio(){return k.devicePixelRatio},get prefersReducedMotion(){return!!k.matchMedia&&(si==null&&(si=k.matchMedia("(prefers-reduced-motion: reduce)")),si.matches)}};function Ur(s,r,l){l[s]&&l[s].indexOf(r)!==-1||(l[s]=l[s]||[],l[s].push(r))}function Rr(s,r,l){if(l&&l[s]){const f=l[s].indexOf(r);f!==-1&&l[s].splice(f,1)}}class zn{constructor(r,l={}){ee(this,l),this.type=r}}class fa extends zn{constructor(r,l={}){super("error",ee({error:r},l))}}class In{on(r,l){return this._listeners=this._listeners||{},Ur(r,l,this._listeners),this}off(r,l){return Rr(r,l,this._listeners),Rr(r,l,this._oneTimeListeners),this}once(r,l){return l?(this._oneTimeListeners=this._oneTimeListeners||{},Ur(r,l,this._oneTimeListeners),this):new Promise(f=>this.once(r,f))}fire(r,l){typeof r=="string"&&(r=new zn(r,l||{}));const f=r.type;if(this.listens(f)){r.target=this;const S=this._listeners&&this._listeners[f]?this._listeners[f].slice():[];for(const ie of S)ie.call(this,r);const F=this._oneTimeListeners&&this._oneTimeListeners[f]?this._oneTimeListeners[f].slice():[];for(const ie of F)Rr(f,ie,this._oneTimeListeners),ie.call(this,r);const W=this._eventedParent;W&&(ee(r,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),W.fire(r))}else r instanceof fa&&console.error(r.error);return this}listens(r){return!!(this._listeners&&this._listeners[r]&&this._listeners[r].length>0||this._oneTimeListeners&&this._oneTimeListeners[r]&&this._oneTimeListeners[r].length>0||this._eventedParent&&this._eventedParent.listens(r))}setEventedParent(r,l){return this._eventedParent=r,this._eventedParentData=l,this}}var ki=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function an(s,...r){for(const l of r)for(const f in l)s[f]=l[f];return s}function ta(s){return s instanceof Number||s instanceof String||s instanceof Boolean?s.valueOf():s}function ia(s){if(Array.isArray(s))return s.map(ia);if(s instanceof Object&&!(s instanceof Number||s instanceof String||s instanceof Boolean)){const r={};for(const l in s)r[l]=ia(s[l]);return r}return ta(s)}class qo extends Error{constructor(r,l){super(l),this.message=l,this.key=r}}var Ca=qo;class Wo{constructor(r,l=[]){this.parent=r,this.bindings={};for(const[f,S]of l)this.bindings[f]=S}concat(r){return new Wo(this,r)}get(r){if(this.bindings[r])return this.bindings[r];if(this.parent)return this.parent.get(r);throw new Error(`${r} not found in scope.`)}has(r){return!!this.bindings[r]||!!this.parent&&this.parent.has(r)}}var Do=Wo;const ra={kind:"null"},ir={kind:"number"},qr={kind:"string"},tn={kind:"boolean"},Fa={kind:"color"},wo={kind:"object"},Tr={kind:"value"},Lo={kind:"collator"},io={kind:"formatted"},So={kind:"resolvedImage"};function ua(s,r){return{kind:"array",itemType:s,N:r}}function An(s){if(s.kind==="array"){const r=An(s.itemType);return typeof s.N=="number"?`array<${r}, ${s.N}>`:s.itemType.kind==="value"?"array":`array<${r}>`}return s.kind}const Aa=[ra,ir,qr,tn,Fa,io,wo,ua(Tr),So];function Ra(s,r){if(r.kind==="error")return null;if(s.kind==="array"){if(r.kind==="array"&&(r.N===0&&r.itemType.kind==="value"||!Ra(s.itemType,r.itemType))&&(typeof s.N!="number"||s.N===r.N))return null}else{if(s.kind===r.kind)return null;if(s.kind==="value"){for(const l of Aa)if(!Ra(l,r))return null}}return`Expected ${An(s)} but found ${An(r)} instead.`}function Yo(s,r){return r.some(l=>l.kind===s.kind)}function ro(s,r){return r.some(l=>l==="null"?s===null:l==="array"?Array.isArray(s):l==="object"?s&&!Array.isArray(s)&&typeof s=="object":l===typeof s)}var Xo,Zo={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Bo(s){return(s=Math.round(s))<0?0:s>255?255:s}function Fo(s){return Bo(s[s.length-1]==="%"?parseFloat(s)/100*255:parseInt(s))}function As(s){return(r=s[s.length-1]==="%"?parseFloat(s)/100:parseFloat(s))<0?0:r>1?1:r;var r}function Ko(s,r,l){return l<0?l+=1:l>1&&(l-=1),6*l<1?s+(r-s)*l*6:2*l<1?r:3*l<2?s+(r-s)*(2/3-l)*6:s}try{Xo={}.parseCSSColor=function(s){var r,l=s.replace(/ /g,"").toLowerCase();if(l in Zo)return Zo[l].slice();if(l[0]==="#")return l.length===4?(r=parseInt(l.substr(1),16))>=0&&r<=4095?[(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,1]:null:l.length===7&&(r=parseInt(l.substr(1),16))>=0&&r<=16777215?[(16711680&r)>>16,(65280&r)>>8,255&r,1]:null;var f=l.indexOf("("),S=l.indexOf(")");if(f!==-1&&S+1===l.length){var F=l.substr(0,f),W=l.substr(f+1,S-(f+1)).split(","),ie=1;switch(F){case"rgba":if(W.length!==4)return null;ie=As(W.pop());case"rgb":return W.length!==3?null:[Fo(W[0]),Fo(W[1]),Fo(W[2]),ie];case"hsla":if(W.length!==4)return null;ie=As(W.pop());case"hsl":if(W.length!==3)return null;var le=(parseFloat(W[0])%360+360)%360/360,me=As(W[1]),Ee=As(W[2]),Oe=Ee<=.5?Ee*(me+1):Ee+me-Ee*me,Le=2*Ee-Oe;return[Bo(255*Ko(Le,Oe,le+1/3)),Bo(255*Ko(Le,Oe,le)),Bo(255*Ko(Le,Oe,le-1/3)),ie];default:return null}}return null}}catch{}class pa{constructor(r,l,f,S=1){this.r=r,this.g=l,this.b=f,this.a=S}static parse(r){if(!r)return;if(r instanceof pa)return r;if(typeof r!="string")return;const l=Xo(r);return l?new pa(l[0]/255*l[3],l[1]/255*l[3],l[2]/255*l[3],l[3]):void 0}toString(){const[r,l,f,S]=this.toArray();return`rgba(${Math.round(r)},${Math.round(l)},${Math.round(f)},${S})`}toArray(){const{r,g:l,b:f,a:S}=this;return S===0?[0,0,0,0]:[255*r/S,255*l/S,255*f/S,S]}toArray01(){const{r,g:l,b:f,a:S}=this;return S===0?[0,0,0,0]:[r/S,l/S,f/S,S]}toArray01PremultipliedAlpha(){const{r,g:l,b:f,a:S}=this;return[r,l,f,S]}}pa.black=new pa(0,0,0,1),pa.white=new pa(1,1,1,1),pa.transparent=new pa(0,0,0,0),pa.red=new pa(1,0,0,1),pa.blue=new pa(0,0,1,1);var Hn=pa;class ko{constructor(r,l,f){this.sensitivity=r?l?"variant":"case":l?"accent":"base",this.locale=f,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(r,l){return this.collator.compare(r,l)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class no{constructor(r,l,f,S,F){this.text=r.normalize?r.normalize():r,this.image=l,this.scale=f,this.fontStack=S,this.textColor=F}}class na{constructor(r){this.sections=r}static fromString(r){return new na([new no(r,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(r=>r.text.length!==0||r.image&&r.image.name.length!==0)}static factory(r){return r instanceof na?r:na.fromString(r)}toString(){return this.sections.length===0?"":this.sections.map(r=>r.text).join("")}serialize(){const r=["format"];for(const l of this.sections){if(l.image){r.push(["image",l.image.name]);continue}r.push(l.text);const f={};l.fontStack&&(f["text-font"]=["literal",l.fontStack.split(",")]),l.scale&&(f["font-scale"]=l.scale),l.textColor&&(f["text-color"]=["rgba"].concat(l.textColor.toArray())),r.push(f)}return r}}class ma{constructor(r){this.name=r.name,this.available=r.available}toString(){return this.name}static fromString(r){return r?new ma({name:r,available:!1}):null}serialize(){return["image",this.name]}}function Ks(s,r,l,f){return typeof s=="number"&&s>=0&&s<=255&&typeof r=="number"&&r>=0&&r<=255&&typeof l=="number"&&l>=0&&l<=255?f===void 0||typeof f=="number"&&f>=0&&f<=1?null:`Invalid rgba value [${[s,r,l,f].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof f=="number"?[s,r,l,f]:[s,r,l]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Js(s){if(s===null||typeof s=="string"||typeof s=="boolean"||typeof s=="number"||s instanceof Hn||s instanceof ko||s instanceof na||s instanceof ma)return!0;if(Array.isArray(s)){for(const r of s)if(!Js(r))return!1;return!0}if(typeof s=="object"){for(const r in s)if(!Js(s[r]))return!1;return!0}return!1}function $n(s){if(s===null)return ra;if(typeof s=="string")return qr;if(typeof s=="boolean")return tn;if(typeof s=="number")return ir;if(s instanceof Hn)return Fa;if(s instanceof ko)return Lo;if(s instanceof na)return io;if(s instanceof ma)return So;if(Array.isArray(s)){const r=s.length;let l;for(const f of s){const S=$n(f);if(l){if(l===S)continue;l=Tr;break}l=S}return ua(l||Tr,r)}return wo}function Jo(s){const r=typeof s;return s===null?"":r==="string"||r==="number"||r==="boolean"?String(s):s instanceof Hn||s instanceof na||s instanceof ma?s.toString():JSON.stringify(s)}class Qs{constructor(r,l){this.type=r,this.value=l}static parse(r,l){if(r.length!==2)return l.error(`'literal' expression requires exactly one argument, but found ${r.length-1} instead.`);if(!Js(r[1]))return l.error("invalid value");const f=r[1];let S=$n(f);const F=l.expectedType;return S.kind!=="array"||S.N!==0||!F||F.kind!=="array"||typeof F.N=="number"&&F.N!==0||(S=F),new Qs(S,f)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Hn?["rgba"].concat(this.value.toArray()):this.value instanceof na?this.value.serialize():this.value}}var Ao=Qs,ga=class{constructor(s){this.name="ExpressionEvaluationError",this.message=s}toJSON(){return this.message}};const Qo={string:qr,number:ir,boolean:tn,object:wo};class el{constructor(r,l){this.type=r,this.args=l}static parse(r,l){if(r.length<2)return l.error("Expected at least one argument.");let f,S=1;const F=r[0];if(F==="array"){let ie,le;if(r.length>2){const me=r[1];if(typeof me!="string"||!(me in Qo)||me==="object")return l.error('The item type argument of "array" must be one of string, number, boolean',1);ie=Qo[me],S++}else ie=Tr;if(r.length>3){if(r[2]!==null&&(typeof r[2]!="number"||r[2]<0||r[2]!==Math.floor(r[2])))return l.error('The length argument to "array" must be a positive integer literal',2);le=r[2],S++}f=ua(ie,le)}else f=Qo[F];const W=[];for(;S<r.length;S++){const ie=l.parse(r[S],S,Tr);if(!ie)return null;W.push(ie)}return new el(f,W)}evaluate(r){for(let l=0;l<this.args.length;l++){const f=this.args[l].evaluate(r);if(!Ra(this.type,$n(f)))return f;if(l===this.args.length-1)throw new ga(`Expected value to be of type ${An(this.type)}, but found ${An($n(f))} instead.`)}return null}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}serialize(){const r=this.type,l=[r.kind];if(r.kind==="array"){const f=r.itemType;if(f.kind==="string"||f.kind==="number"||f.kind==="boolean"){l.push(f.kind);const S=r.N;(typeof S=="number"||this.args.length>1)&&l.push(S)}}return l.concat(this.args.map(f=>f.serialize()))}}var vn=el;class un{constructor(r){this.type=io,this.sections=r}static parse(r,l){if(r.length<2)return l.error("Expected at least one argument.");const f=r[1];if(!Array.isArray(f)&&typeof f=="object")return l.error("First argument must be an image or text section.");const S=[];let F=!1;for(let W=1;W<=r.length-1;++W){const ie=r[W];if(F&&typeof ie=="object"&&!Array.isArray(ie)){F=!1;let le=null;if(ie["font-scale"]&&(le=l.parse(ie["font-scale"],1,ir),!le))return null;let me=null;if(ie["text-font"]&&(me=l.parse(ie["text-font"],1,ua(qr)),!me))return null;let Ee=null;if(ie["text-color"]&&(Ee=l.parse(ie["text-color"],1,Fa),!Ee))return null;const Oe=S[S.length-1];Oe.scale=le,Oe.font=me,Oe.textColor=Ee}else{const le=l.parse(r[W],1,Tr);if(!le)return null;const me=le.type.kind;if(me!=="string"&&me!=="value"&&me!=="null"&&me!=="resolvedImage")return l.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");F=!0,S.push({content:le,scale:null,font:null,textColor:null})}}return new un(S)}evaluate(r){return new na(this.sections.map(l=>{const f=l.content.evaluate(r);return $n(f)===So?new no("",f,null,null,null):new no(Jo(f),null,l.scale?l.scale.evaluate(r):null,l.font?l.font.evaluate(r).join(","):null,l.textColor?l.textColor.evaluate(r):null)}))}eachChild(r){for(const l of this.sections)r(l.content),l.scale&&r(l.scale),l.font&&r(l.font),l.textColor&&r(l.textColor)}outputDefined(){return!1}serialize(){const r=["format"];for(const l of this.sections){r.push(l.content.serialize());const f={};l.scale&&(f["font-scale"]=l.scale.serialize()),l.font&&(f["text-font"]=l.font.serialize()),l.textColor&&(f["text-color"]=l.textColor.serialize()),r.push(f)}return r}}class Cs{constructor(r){this.type=So,this.input=r}static parse(r,l){if(r.length!==2)return l.error("Expected two arguments.");const f=l.parse(r[1],1,qr);return f?new Cs(f):l.error("No image name provided.")}evaluate(r){const l=this.input.evaluate(r),f=ma.fromString(l);return f&&r.availableImages&&(f.available=r.availableImages.indexOf(l)>-1),f}eachChild(r){r(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const es={"to-boolean":tn,"to-color":Fa,"to-number":ir,"to-string":qr};class fl{constructor(r,l){this.type=r,this.args=l}static parse(r,l){if(r.length<2)return l.error("Expected at least one argument.");const f=r[0];if((f==="to-boolean"||f==="to-string")&&r.length!==2)return l.error("Expected one argument.");const S=es[f],F=[];for(let W=1;W<r.length;W++){const ie=l.parse(r[W],W,Tr);if(!ie)return null;F.push(ie)}return new fl(S,F)}evaluate(r){if(this.type.kind==="boolean")return!!this.args[0].evaluate(r);if(this.type.kind==="color"){let l,f;for(const S of this.args){if(l=S.evaluate(r),f=null,l instanceof Hn)return l;if(typeof l=="string"){const F=r.parseColor(l);if(F)return F}else if(Array.isArray(l)&&(f=l.length<3||l.length>4?`Invalid rbga value ${JSON.stringify(l)}: expected an array containing either three or four numeric values.`:Ks(l[0],l[1],l[2],l[3]),!f))return new Hn(l[0]/255,l[1]/255,l[2]/255,l[3])}throw new ga(f||`Could not parse color from value '${typeof l=="string"?l:String(JSON.stringify(l))}'`)}if(this.type.kind==="number"){let l=null;for(const f of this.args){if(l=f.evaluate(r),l===null)return 0;const S=Number(l);if(!isNaN(S))return S}throw new ga(`Could not convert ${JSON.stringify(l)} to number.`)}return this.type.kind==="formatted"?na.fromString(Jo(this.args[0].evaluate(r))):this.type.kind==="resolvedImage"?ma.fromString(Jo(this.args[0].evaluate(r))):Jo(this.args[0].evaluate(r))}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}serialize(){if(this.type.kind==="formatted")return new un([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Cs(this.args[0]).serialize();const r=[`to-${this.type.kind}`];return this.eachChild(l=>{r.push(l.serialize())}),r}}var Ga=fl;const Es=["Unknown","Point","LineString","Polygon"];var fs=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Es[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const s=this.featureDistanceData.center,r=this.featureDistanceData.scale,{x:l,y:f}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(l*r-s[0])+this.featureDistanceData.bearing[1]*(f*r-s[1])}return 0}parseColor(s){let r=this._parseColorCache[s];return r||(r=this._parseColorCache[s]=Hn.parse(s)),r}};class ts{constructor(r,l,f,S){this.name=r,this.type=l,this._evaluate=f,this.args=S}evaluate(r){return this._evaluate(r,this.args)}eachChild(r){this.args.forEach(r)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(r=>r.serialize()))}static parse(r,l){const f=r[0],S=ts.definitions[f];if(!S)return l.error(`Unknown expression "${f}". If you wanted a literal array, use ["literal", [...]].`,0);const F=Array.isArray(S)?S[0]:S.type,W=Array.isArray(S)?[[S[1],S[2]]]:S.overloads,ie=W.filter(([me])=>!Array.isArray(me)||me.length===r.length-1);let le=null;for(const[me,Ee]of ie){le=new En(l.registry,l.path,null,l.scope);const Oe=[];let Le=!1;for(let Ve=1;Ve<r.length;Ve++){const qe=r[Ve],rt=Array.isArray(me)?me[Ve-1]:me.type,pt=le.parse(qe,1+Oe.length,rt);if(!pt){Le=!0;break}Oe.push(pt)}if(!Le)if(Array.isArray(me)&&me.length!==Oe.length)le.error(`Expected ${me.length} arguments, but found ${Oe.length} instead.`);else{for(let Ve=0;Ve<Oe.length;Ve++){const qe=Array.isArray(me)?me[Ve]:me.type,rt=Oe[Ve];le.concat(Ve+1).checkSubtype(qe,rt.type)}if(le.errors.length===0)return new ts(f,F,Ee,Oe)}}if(ie.length===1)l.errors.push(...le.errors);else{const me=(ie.length?ie:W).map(([Oe])=>{return Le=Oe,Array.isArray(Le)?`(${Le.map(An).join(", ")})`:`(${An(Le.type)}...)`;var Le}).join(" | "),Ee=[];for(let Oe=1;Oe<r.length;Oe++){const Le=l.parse(r[Oe],1+Ee.length);if(!Le)return null;Ee.push(An(Le.type))}l.error(`Expected arguments of type ${me}, but found (${Ee.join(", ")}) instead.`)}return null}static register(r,l){ts.definitions=l;for(const f in l)r[f]=ts}}var Ha=ts;class sa{constructor(r,l,f){this.type=Lo,this.locale=f,this.caseSensitive=r,this.diacriticSensitive=l}static parse(r,l){if(r.length!==2)return l.error("Expected one argument.");const f=r[1];if(typeof f!="object"||Array.isArray(f))return l.error("Collator options argument must be an object.");const S=l.parse(f["case-sensitive"]!==void 0&&f["case-sensitive"],1,tn);if(!S)return null;const F=l.parse(f["diacritic-sensitive"]!==void 0&&f["diacritic-sensitive"],1,tn);if(!F)return null;let W=null;return f.locale&&(W=l.parse(f.locale,1,qr),!W)?null:new sa(S,F,W)}evaluate(r){return new ko(this.caseSensitive.evaluate(r),this.diacriticSensitive.evaluate(r),this.locale?this.locale.evaluate(r):null)}eachChild(r){r(this.caseSensitive),r(this.diacriticSensitive),this.locale&&r(this.locale)}outputDefined(){return!1}serialize(){const r={};return r["case-sensitive"]=this.caseSensitive.serialize(),r["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(r.locale=this.locale.serialize()),["collator",r]}}const se=8192;function be(s,r){s[0]=Math.min(s[0],r[0]),s[1]=Math.min(s[1],r[1]),s[2]=Math.max(s[2],r[0]),s[3]=Math.max(s[3],r[1])}function Pe(s,r){return!(s[0]<=r[0]||s[2]>=r[2]||s[1]<=r[1]||s[3]>=r[3])}function Be(s,r){const l=(180+s[0])/360,f=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+s[1]*Math.PI/360)))/360,S=Math.pow(2,r.z);return[Math.round(l*S*se),Math.round(f*S*se)]}function Xe(s,r,l){const f=s[0]-r[0],S=s[1]-r[1],F=s[0]-l[0],W=s[1]-l[1];return f*W-F*S==0&&f*F<=0&&S*W<=0}function tt(s,r){let l=!1;for(let W=0,ie=r.length;W<ie;W++){const le=r[W];for(let me=0,Ee=le.length;me<Ee-1;me++){if(Xe(s,le[me],le[me+1]))return!1;(S=le[me])[1]>(f=s)[1]!=(F=le[me+1])[1]>f[1]&&f[0]<(F[0]-S[0])*(f[1]-S[1])/(F[1]-S[1])+S[0]&&(l=!l)}}var f,S,F;return l}function ut(s,r){for(let l=0;l<r.length;l++)if(tt(s,r[l]))return!0;return!1}function Yt(s,r,l,f){const S=f[0]-l[0],F=f[1]-l[1],W=(s[0]-l[0])*F-S*(s[1]-l[1]),ie=(r[0]-l[0])*F-S*(r[1]-l[1]);return W>0&&ie<0||W<0&&ie>0}function Ft(s,r,l){for(const me of l)for(let Ee=0;Ee<me.length-1;++Ee)if((ie=[(W=me[Ee+1])[0]-(F=me[Ee])[0],W[1]-F[1]])[0]*(le=[(S=r)[0]-(f=s)[0],S[1]-f[1]])[1]-ie[1]*le[0]!=0&&Yt(f,S,F,W)&&Yt(F,W,f,S))return!0;var f,S,F,W,ie,le;return!1}function ci(s,r){for(let l=0;l<s.length;++l)if(!tt(s[l],r))return!1;for(let l=0;l<s.length-1;++l)if(Ft(s[l],s[l+1],r))return!1;return!0}function Ii(s,r){for(let l=0;l<r.length;l++)if(ci(s,r[l]))return!0;return!1}function Li(s,r,l){const f=[];for(let S=0;S<s.length;S++){const F=[];for(let W=0;W<s[S].length;W++){const ie=Be(s[S][W],l);be(r,ie),F.push(ie)}f.push(F)}return f}function xi(s,r,l){const f=[];for(let S=0;S<s.length;S++){const F=Li(s[S],r,l);f.push(F)}return f}function Pi(s,r,l,f){if(s[0]<l[0]||s[0]>l[2]){const S=.5*f;let F=s[0]-l[0]>S?-f:l[0]-s[0]>S?f:0;F===0&&(F=s[0]-l[2]>S?-f:l[2]-s[0]>S?f:0),s[0]+=F}be(r,s)}function rr(s,r,l,f){const S=Math.pow(2,f.z)*se,F=[f.x*se,f.y*se],W=[];if(!s)return W;for(const ie of s)for(const le of ie){const me=[le.x+F[0],le.y+F[1]];Pi(me,r,l,S),W.push(me)}return W}function Hr(s,r,l,f){const S=Math.pow(2,f.z)*se,F=[f.x*se,f.y*se],W=[];if(!s)return W;for(const le of s){const me=[];for(const Ee of le){const Oe=[Ee.x+F[0],Ee.y+F[1]];be(r,Oe),me.push(Oe)}W.push(me)}if(r[2]-r[0]<=S/2){(ie=r)[0]=ie[1]=1/0,ie[2]=ie[3]=-1/0;for(const le of W)for(const me of le)Pi(me,r,l,S)}var ie;return W}class yr{constructor(r,l){this.type=tn,this.geojson=r,this.geometries=l}static parse(r,l){if(r.length!==2)return l.error(`'within' expression requires exactly one argument, but found ${r.length-1} instead.`);if(Js(r[1])){const f=r[1];if(f.type==="FeatureCollection")for(let S=0;S<f.features.length;++S){const F=f.features[S].geometry.type;if(F==="Polygon"||F==="MultiPolygon")return new yr(f,f.features[S].geometry)}else if(f.type==="Feature"){const S=f.geometry.type;if(S==="Polygon"||S==="MultiPolygon")return new yr(f,f.geometry)}else if(f.type==="Polygon"||f.type==="MultiPolygon")return new yr(f,f)}return l.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(r){if(r.geometry()!=null&&r.canonicalID()!=null){if(r.geometryType()==="Point")return function(l,f){const S=[1/0,1/0,-1/0,-1/0],F=[1/0,1/0,-1/0,-1/0],W=l.canonicalID();if(!W)return!1;if(f.type==="Polygon"){const ie=Li(f.coordinates,F,W),le=rr(l.geometry(),S,F,W);if(!Pe(S,F))return!1;for(const me of le)if(!tt(me,ie))return!1}if(f.type==="MultiPolygon"){const ie=xi(f.coordinates,F,W),le=rr(l.geometry(),S,F,W);if(!Pe(S,F))return!1;for(const me of le)if(!ut(me,ie))return!1}return!0}(r,this.geometries);if(r.geometryType()==="LineString")return function(l,f){const S=[1/0,1/0,-1/0,-1/0],F=[1/0,1/0,-1/0,-1/0],W=l.canonicalID();if(!W)return!1;if(f.type==="Polygon"){const ie=Li(f.coordinates,F,W),le=Hr(l.geometry(),S,F,W);if(!Pe(S,F))return!1;for(const me of le)if(!ci(me,ie))return!1}if(f.type==="MultiPolygon"){const ie=xi(f.coordinates,F,W),le=Hr(l.geometry(),S,F,W);if(!Pe(S,F))return!1;for(const me of le)if(!Ii(me,ie))return!1}return!0}(r,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var Vn=yr;function Cn(s){if(s instanceof Ha&&(s.name==="get"&&s.args.length===1||s.name==="feature-state"||s.name==="has"&&s.args.length===1||s.name==="properties"||s.name==="geometry-type"||s.name==="id"||/^filter-/.test(s.name))||s instanceof Vn)return!1;let r=!0;return s.eachChild(l=>{r&&!Cn(l)&&(r=!1)}),r}function rn(s){if(s instanceof Ha&&s.name==="feature-state")return!1;let r=!0;return s.eachChild(l=>{r&&!rn(l)&&(r=!1)}),r}function sn(s,r){if(s instanceof Ha&&r.indexOf(s.name)>=0)return!1;let l=!0;return s.eachChild(f=>{l&&!sn(f,r)&&(l=!1)}),l}class Br{constructor(r,l){this.type=l.type,this.name=r,this.boundExpression=l}static parse(r,l){if(r.length!==2||typeof r[1]!="string")return l.error("'var' expression requires exactly one string literal argument.");const f=r[1];return l.scope.has(f)?new Br(f,l.scope.get(f)):l.error(`Unknown variable "${f}". Make sure "${f}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(r){return this.boundExpression.evaluate(r)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var ya=Br;class ln{constructor(r,l=[],f,S=new Do,F=[]){this.registry=r,this.path=l,this.key=l.map(W=>`[${W}]`).join(""),this.scope=S,this.errors=F,this.expectedType=f}parse(r,l,f,S,F={}){return l?this.concat(l,f,S)._parse(r,F):this._parse(r,F)}_parse(r,l){function f(S,F,W){return W==="assert"?new vn(F,[S]):W==="coerce"?new Ga(F,[S]):S}if(r!==null&&typeof r!="string"&&typeof r!="boolean"&&typeof r!="number"||(r=["literal",r]),Array.isArray(r)){if(r.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const S=r[0];if(typeof S!="string")return this.error(`Expression name must be a string, but found ${typeof S} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const F=this.registry[S];if(F){let W=F.parse(r,this);if(!W)return null;if(this.expectedType){const ie=this.expectedType,le=W.type;if(ie.kind!=="string"&&ie.kind!=="number"&&ie.kind!=="boolean"&&ie.kind!=="object"&&ie.kind!=="array"||le.kind!=="value")if(ie.kind!=="color"&&ie.kind!=="formatted"&&ie.kind!=="resolvedImage"||le.kind!=="value"&&le.kind!=="string"){if(this.checkSubtype(ie,le))return null}else W=f(W,ie,l.typeAnnotation||"coerce");else W=f(W,ie,l.typeAnnotation||"assert")}if(!(W instanceof Ao)&&W.type.kind!=="resolvedImage"&&Co(W)){const ie=new fs;try{W=new Ao(W.type,W.evaluate(ie))}catch(le){return this.error(le.message),null}}return W}return this.error(`Unknown expression "${S}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(r===void 0?"'undefined' value invalid. Use null instead.":typeof r=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof r} instead.`)}concat(r,l,f){const S=typeof r=="number"?this.path.concat(r):this.path,F=f?this.scope.concat(f):this.scope;return new ln(this.registry,S,l||null,F,this.errors)}error(r,...l){const f=`${this.key}${l.map(S=>`[${S}]`).join("")}`;this.errors.push(new Ca(f,r))}checkSubtype(r,l){const f=Ra(r,l);return f&&this.error(f),f}}var En=ln;function Co(s){if(s instanceof ya)return Co(s.boundExpression);if(s instanceof Ha&&s.name==="error"||s instanceof sa||s instanceof Vn)return!1;const r=s instanceof Ga||s instanceof vn;let l=!0;return s.eachChild(f=>{l=r?l&&Co(f):l&&f instanceof Ao}),!!l&&Cn(s)&&sn(s,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function yo(s,r){const l=s.length-1;let f,S,F=0,W=l,ie=0;for(;F<=W;)if(ie=Math.floor((F+W)/2),f=s[ie],S=s[ie+1],f<=r){if(ie===l||r<S)return ie;F=ie+1}else{if(!(f>r))throw new ga("Input is not a number.");W=ie-1}return 0}class va{constructor(r,l,f){this.type=r,this.input=l,this.labels=[],this.outputs=[];for(const[S,F]of f)this.labels.push(S),this.outputs.push(F)}static parse(r,l){if(r.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if((r.length-1)%2!=0)return l.error("Expected an even number of arguments.");const f=l.parse(r[1],1,ir);if(!f)return null;const S=[];let F=null;l.expectedType&&l.expectedType.kind!=="value"&&(F=l.expectedType);for(let W=1;W<r.length;W+=2){const ie=W===1?-1/0:r[W],le=r[W+1],me=W,Ee=W+1;if(typeof ie!="number")return l.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',me);if(S.length&&S[S.length-1][0]>=ie)return l.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',me);const Oe=l.parse(le,Ee,F);if(!Oe)return null;F=F||Oe.type,S.push([ie,Oe])}return new va(F,f,S)}evaluate(r){const l=this.labels,f=this.outputs;if(l.length===1)return f[0].evaluate(r);const S=this.input.evaluate(r);if(S<=l[0])return f[0].evaluate(r);const F=l.length;return S>=l[F-1]?f[F-1].evaluate(r):f[yo(l,S)].evaluate(r)}eachChild(r){r(this.input);for(const l of this.outputs)r(l)}outputDefined(){return this.outputs.every(r=>r.outputDefined())}serialize(){const r=["step",this.input.serialize()];for(let l=0;l<this.labels.length;l++)l>0&&r.push(this.labels[l]),r.push(this.outputs[l].serialize());return r}}var Da=va;function $r(s,r,l){return s*(1-l)+r*l}var ba=Object.freeze({__proto__:null,number:$r,color:function(s,r,l){return new Hn($r(s.r,r.r,l),$r(s.g,r.g,l),$r(s.b,r.b,l),$r(s.a,r.a,l))},array:function(s,r,l){return s.map((f,S)=>$r(f,r[S],l))}});const qa=.95047,qn=1.08883,xa=4/29,ao=6/29,oo=3*ao*ao,js=Math.PI/180,cn=180/Math.PI;function uo(s){return s>.008856451679035631?Math.pow(s,1/3):s/oo+xa}function Us(s){return s>ao?s*s*s:oo*(s-xa)}function ps(s){return 255*(s<=.0031308?12.92*s:1.055*Math.pow(s,1/2.4)-.055)}function Na(s){return(s/=255)<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4)}function is(s){const r=Na(s.r),l=Na(s.g),f=Na(s.b),S=uo((.4124564*r+.3575761*l+.1804375*f)/qa),F=uo((.2126729*r+.7151522*l+.072175*f)/1);return{l:116*F-16,a:500*(S-F),b:200*(F-uo((.0193339*r+.119192*l+.9503041*f)/qn)),alpha:s.a}}function No(s){let r=(s.l+16)/116,l=isNaN(s.a)?r:r+s.a/500,f=isNaN(s.b)?r:r-s.b/200;return r=1*Us(r),l=qa*Us(l),f=qn*Us(f),new Hn(ps(3.2404542*l-1.5371385*r-.4985314*f),ps(-.969266*l+1.8760108*r+.041556*f),ps(.0556434*l-.2040259*r+1.0572252*f),s.alpha)}function Ts(s,r,l){const f=r-s;return s+l*(f>180||f<-180?f-360*Math.round(f/360):f)}const Eo={forward:is,reverse:No,interpolate:function(s,r,l){return{l:$r(s.l,r.l,l),a:$r(s.a,r.a,l),b:$r(s.b,r.b,l),alpha:$r(s.alpha,r.alpha,l)}}},ms={forward:function(s){const{l:r,a:l,b:f}=is(s),S=Math.atan2(f,l)*cn;return{h:S<0?S+360:S,c:Math.sqrt(l*l+f*f),l:r,alpha:s.a}},reverse:function(s){const r=s.h*js,l=s.c;return No({l:s.l,a:Math.cos(r)*l,b:Math.sin(r)*l,alpha:s.alpha})},interpolate:function(s,r,l){return{h:Ts(s.h,r.h,l),c:$r(s.c,r.c,l),l:$r(s.l,r.l,l),alpha:$r(s.alpha,r.alpha,l)}}};var $s=Object.freeze({__proto__:null,lab:Eo,hcl:ms});class gs{constructor(r,l,f,S,F){this.type=r,this.operator=l,this.interpolation=f,this.input=S,this.labels=[],this.outputs=[];for(const[W,ie]of F)this.labels.push(W),this.outputs.push(ie)}static interpolationFactor(r,l,f,S){let F=0;if(r.name==="exponential")F=pl(l,r.base,f,S);else if(r.name==="linear")F=pl(l,1,f,S);else if(r.name==="cubic-bezier"){const W=r.controlPoints;F=new P(W[0],W[1],W[2],W[3]).solve(pl(l,1,f,S))}return F}static parse(r,l){let[f,S,F,...W]=r;if(!Array.isArray(S)||S.length===0)return l.error("Expected an interpolation type expression.",1);if(S[0]==="linear")S={name:"linear"};else if(S[0]==="exponential"){const me=S[1];if(typeof me!="number")return l.error("Exponential interpolation requires a numeric base.",1,1);S={name:"exponential",base:me}}else{if(S[0]!=="cubic-bezier")return l.error(`Unknown interpolation type ${String(S[0])}`,1,0);{const me=S.slice(1);if(me.length!==4||me.some(Ee=>typeof Ee!="number"||Ee<0||Ee>1))return l.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);S={name:"cubic-bezier",controlPoints:me}}}if(r.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if((r.length-1)%2!=0)return l.error("Expected an even number of arguments.");if(F=l.parse(F,2,ir),!F)return null;const ie=[];let le=null;f==="interpolate-hcl"||f==="interpolate-lab"?le=Fa:l.expectedType&&l.expectedType.kind!=="value"&&(le=l.expectedType);for(let me=0;me<W.length;me+=2){const Ee=W[me],Oe=W[me+1],Le=me+3,Ve=me+4;if(typeof Ee!="number")return l.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Le);if(ie.length&&ie[ie.length-1][0]>=Ee)return l.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Le);const qe=l.parse(Oe,Ve,le);if(!qe)return null;le=le||qe.type,ie.push([Ee,qe])}return le.kind==="number"||le.kind==="color"||le.kind==="array"&&le.itemType.kind==="number"&&typeof le.N=="number"?new gs(le,f,S,F,ie):l.error(`Type ${An(le)} is not interpolatable.`)}evaluate(r){const l=this.labels,f=this.outputs;if(l.length===1)return f[0].evaluate(r);const S=this.input.evaluate(r);if(S<=l[0])return f[0].evaluate(r);const F=l.length;if(S>=l[F-1])return f[F-1].evaluate(r);const W=yo(l,S),ie=gs.interpolationFactor(this.interpolation,S,l[W],l[W+1]),le=f[W].evaluate(r),me=f[W+1].evaluate(r);return this.operator==="interpolate"?ba[this.type.kind.toLowerCase()](le,me,ie):this.operator==="interpolate-hcl"?ms.reverse(ms.interpolate(ms.forward(le),ms.forward(me),ie)):Eo.reverse(Eo.interpolate(Eo.forward(le),Eo.forward(me),ie))}eachChild(r){r(this.input);for(const l of this.outputs)r(l)}outputDefined(){return this.outputs.every(r=>r.outputDefined())}serialize(){let r;r=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const l=[this.operator,r,this.input.serialize()];for(let f=0;f<this.labels.length;f++)l.push(this.labels[f],this.outputs[f].serialize());return l}}function pl(s,r,l,f){const S=f-l,F=s-l;return S===0?0:r===1?F/S:(Math.pow(r,F)-1)/(Math.pow(r,S)-1)}var ho=gs;class fo{constructor(r,l){this.type=r,this.args=l}static parse(r,l){if(r.length<2)return l.error("Expectected at least one argument.");let f=null;const S=l.expectedType;S&&S.kind!=="value"&&(f=S);const F=[];for(const ie of r.slice(1)){const le=l.parse(ie,1+F.length,f,void 0,{typeAnnotation:"omit"});if(!le)return null;f=f||le.type,F.push(le)}const W=S&&F.some(ie=>Ra(S,ie.type));return new fo(W?Tr:f,F)}evaluate(r){let l,f=null,S=0;for(const F of this.args){if(S++,f=F.evaluate(r),f&&f instanceof ma&&!f.available&&(l||(l=f),f=null,S===this.args.length))return l;if(f!==null)break}return f}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}serialize(){const r=["coalesce"];return this.eachChild(l=>{r.push(l.serialize())}),r}}var ys=fo;class Vs{constructor(r,l){this.type=l.type,this.bindings=[].concat(r),this.result=l}evaluate(r){return this.result.evaluate(r)}eachChild(r){for(const l of this.bindings)r(l[1]);r(this.result)}static parse(r,l){if(r.length<4)return l.error(`Expected at least 3 arguments, but found ${r.length-1} instead.`);const f=[];for(let F=1;F<r.length-1;F+=2){const W=r[F];if(typeof W!="string")return l.error(`Expected string, but found ${typeof W} instead.`,F);if(/[^a-zA-Z0-9_]/.test(W))return l.error("Variable names must contain only alphanumeric characters or '_'.",F);const ie=l.parse(r[F+1],F+1);if(!ie)return null;f.push([W,ie])}const S=l.parse(r[r.length-1],r.length-1,l.expectedType,f);return S?new Vs(f,S):null}outputDefined(){return this.result.outputDefined()}serialize(){const r=["let"];for(const[l,f]of this.bindings)r.push(l,f.serialize());return r.push(this.result.serialize()),r}}var Ps=Vs;class so{constructor(r,l,f){this.type=r,this.index=l,this.input=f}static parse(r,l){if(r.length!==3)return l.error(`Expected 2 arguments, but found ${r.length-1} instead.`);const f=l.parse(r[1],1,ir),S=l.parse(r[2],2,ua(l.expectedType||Tr));return f&&S?new so(S.type.itemType,f,S):null}evaluate(r){const l=this.index.evaluate(r),f=this.input.evaluate(r);if(l<0)throw new ga(`Array index out of bounds: ${l} < 0.`);if(l>=f.length)throw new ga(`Array index out of bounds: ${l} > ${f.length-1}.`);if(l!==Math.floor(l))throw new ga(`Array index must be an integer, but found ${l} instead.`);return f[l]}eachChild(r){r(this.index),r(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Ea=so;class rs{constructor(r,l){this.type=tn,this.needle=r,this.haystack=l}static parse(r,l){if(r.length!==3)return l.error(`Expected 2 arguments, but found ${r.length-1} instead.`);const f=l.parse(r[1],1,Tr),S=l.parse(r[2],2,Tr);return f&&S?Yo(f.type,[tn,qr,ir,ra,Tr])?new rs(f,S):l.error(`Expected first argument to be of type boolean, string, number or null, but found ${An(f.type)} instead`):null}evaluate(r){const l=this.needle.evaluate(r),f=this.haystack.evaluate(r);if(f==null)return!1;if(!ro(l,["boolean","string","number","null"]))throw new ga(`Expected first argument to be of type boolean, string, number or null, but found ${An($n(l))} instead.`);if(!ro(f,["string","array"]))throw new ga(`Expected second argument to be of type array or string, but found ${An($n(f))} instead.`);return f.indexOf(l)>=0}eachChild(r){r(this.needle),r(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var vs=rs;class zo{constructor(r,l,f){this.type=ir,this.needle=r,this.haystack=l,this.fromIndex=f}static parse(r,l){if(r.length<=2||r.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${r.length-1} instead.`);const f=l.parse(r[1],1,Tr),S=l.parse(r[2],2,Tr);if(!f||!S)return null;if(!Yo(f.type,[tn,qr,ir,ra,Tr]))return l.error(`Expected first argument to be of type boolean, string, number or null, but found ${An(f.type)} instead`);if(r.length===4){const F=l.parse(r[3],3,ir);return F?new zo(f,S,F):null}return new zo(f,S)}evaluate(r){const l=this.needle.evaluate(r),f=this.haystack.evaluate(r);if(!ro(l,["boolean","string","number","null"]))throw new ga(`Expected first argument to be of type boolean, string, number or null, but found ${An($n(l))} instead.`);if(!ro(f,["string","array"]))throw new ga(`Expected second argument to be of type array or string, but found ${An($n(f))} instead.`);if(this.fromIndex){const S=this.fromIndex.evaluate(r);return f.indexOf(l,S)}return f.indexOf(l)}eachChild(r){r(this.needle),r(this.haystack),this.fromIndex&&r(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const r=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),r]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var Tl=zo;class Se{constructor(r,l,f,S,F,W){this.inputType=r,this.type=l,this.input=f,this.cases=S,this.outputs=F,this.otherwise=W}static parse(r,l){if(r.length<5)return l.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if(r.length%2!=1)return l.error("Expected an even number of arguments.");let f,S;l.expectedType&&l.expectedType.kind!=="value"&&(S=l.expectedType);const F={},W=[];for(let me=2;me<r.length-1;me+=2){let Ee=r[me];const Oe=r[me+1];Array.isArray(Ee)||(Ee=[Ee]);const Le=l.concat(me);if(Ee.length===0)return Le.error("Expected at least one branch label.");for(const qe of Ee){if(typeof qe!="number"&&typeof qe!="string")return Le.error("Branch labels must be numbers or strings.");if(typeof qe=="number"&&Math.abs(qe)>Number.MAX_SAFE_INTEGER)return Le.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof qe=="number"&&Math.floor(qe)!==qe)return Le.error("Numeric branch labels must be integer values.");if(f){if(Le.checkSubtype(f,$n(qe)))return null}else f=$n(qe);if(F[String(qe)]!==void 0)return Le.error("Branch labels must be unique.");F[String(qe)]=W.length}const Ve=l.parse(Oe,me,S);if(!Ve)return null;S=S||Ve.type,W.push(Ve)}const ie=l.parse(r[1],1,Tr);if(!ie)return null;const le=l.parse(r[r.length-1],r.length-1,S);return le?ie.type.kind!=="value"&&l.concat(1).checkSubtype(f,ie.type)?null:new Se(f,S,ie,F,W,le):null}evaluate(r){const l=this.input.evaluate(r);return($n(l)===this.inputType&&this.outputs[this.cases[l]]||this.otherwise).evaluate(r)}eachChild(r){r(this.input),this.outputs.forEach(r),r(this.otherwise)}outputDefined(){return this.outputs.every(r=>r.outputDefined())&&this.otherwise.outputDefined()}serialize(){const r=["match",this.input.serialize()],l=Object.keys(this.cases).sort(),f=[],S={};for(const W of l){const ie=S[this.cases[W]];ie===void 0?(S[this.cases[W]]=f.length,f.push([this.cases[W],[W]])):f[ie][1].push(W)}const F=W=>this.inputType.kind==="number"?Number(W):W;for(const[W,ie]of f)r.push(ie.length===1?F(ie[0]):ie.map(F)),r.push(this.outputs[W].serialize());return r.push(this.otherwise.serialize()),r}}var $e=Se;class dt{constructor(r,l,f){this.type=r,this.branches=l,this.otherwise=f}static parse(r,l){if(r.length<4)return l.error(`Expected at least 3 arguments, but found only ${r.length-1}.`);if(r.length%2!=0)return l.error("Expected an odd number of arguments.");let f;l.expectedType&&l.expectedType.kind!=="value"&&(f=l.expectedType);const S=[];for(let W=1;W<r.length-1;W+=2){const ie=l.parse(r[W],W,tn);if(!ie)return null;const le=l.parse(r[W+1],W+1,f);if(!le)return null;S.push([ie,le]),f=f||le.type}const F=l.parse(r[r.length-1],r.length-1,f);return F?new dt(f,S,F):null}evaluate(r){for(const[l,f]of this.branches)if(l.evaluate(r))return f.evaluate(r);return this.otherwise.evaluate(r)}eachChild(r){for(const[l,f]of this.branches)r(l),r(f);r(this.otherwise)}outputDefined(){return this.branches.every(([r,l])=>l.outputDefined())&&this.otherwise.outputDefined()}serialize(){const r=["case"];return this.eachChild(l=>{r.push(l.serialize())}),r}}var ii=dt;class _i{constructor(r,l,f,S){this.type=r,this.input=l,this.beginIndex=f,this.endIndex=S}static parse(r,l){if(r.length<=2||r.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${r.length-1} instead.`);const f=l.parse(r[1],1,Tr),S=l.parse(r[2],2,ir);if(!f||!S)return null;if(!Yo(f.type,[ua(Tr),qr,Tr]))return l.error(`Expected first argument to be of type array or string, but found ${An(f.type)} instead`);if(r.length===4){const F=l.parse(r[3],3,ir);return F?new _i(f.type,f,S,F):null}return new _i(f.type,f,S)}evaluate(r){const l=this.input.evaluate(r),f=this.beginIndex.evaluate(r);if(!ro(l,["string","array"]))throw new ga(`Expected first argument to be of type array or string, but found ${An($n(l))} instead.`);if(this.endIndex){const S=this.endIndex.evaluate(r);return l.slice(f,S)}return l.slice(f)}eachChild(r){r(this.input),r(this.beginIndex),this.endIndex&&r(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const r=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),r]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var tr=_i;function pr(s,r){return s==="=="||s==="!="?r.kind==="boolean"||r.kind==="string"||r.kind==="number"||r.kind==="null"||r.kind==="value":r.kind==="string"||r.kind==="number"||r.kind==="value"}function kr(s,r,l,f){return f.compare(r,l)===0}function Gr(s,r,l){const f=s!=="=="&&s!=="!=";return class pg{constructor(F,W,ie){this.type=tn,this.lhs=F,this.rhs=W,this.collator=ie,this.hasUntypedArgument=F.type.kind==="value"||W.type.kind==="value"}static parse(F,W){if(F.length!==3&&F.length!==4)return W.error("Expected two or three arguments.");const ie=F[0];let le=W.parse(F[1],1,Tr);if(!le)return null;if(!pr(ie,le.type))return W.concat(1).error(`"${ie}" comparisons are not supported for type '${An(le.type)}'.`);let me=W.parse(F[2],2,Tr);if(!me)return null;if(!pr(ie,me.type))return W.concat(2).error(`"${ie}" comparisons are not supported for type '${An(me.type)}'.`);if(le.type.kind!==me.type.kind&&le.type.kind!=="value"&&me.type.kind!=="value")return W.error(`Cannot compare types '${An(le.type)}' and '${An(me.type)}'.`);f&&(le.type.kind==="value"&&me.type.kind!=="value"?le=new vn(me.type,[le]):le.type.kind!=="value"&&me.type.kind==="value"&&(me=new vn(le.type,[me])));let Ee=null;if(F.length===4){if(le.type.kind!=="string"&&me.type.kind!=="string"&&le.type.kind!=="value"&&me.type.kind!=="value")return W.error("Cannot use collator to compare non-string types.");if(Ee=W.parse(F[3],3,Lo),!Ee)return null}return new pg(le,me,Ee)}evaluate(F){const W=this.lhs.evaluate(F),ie=this.rhs.evaluate(F);if(f&&this.hasUntypedArgument){const le=$n(W),me=$n(ie);if(le.kind!==me.kind||le.kind!=="string"&&le.kind!=="number")throw new ga(`Expected arguments for "${s}" to be (string, string) or (number, number), but found (${le.kind}, ${me.kind}) instead.`)}if(this.collator&&!f&&this.hasUntypedArgument){const le=$n(W),me=$n(ie);if(le.kind!=="string"||me.kind!=="string")return r(F,W,ie)}return this.collator?l(F,W,ie,this.collator.evaluate(F)):r(F,W,ie)}eachChild(F){F(this.lhs),F(this.rhs),this.collator&&F(this.collator)}outputDefined(){return!0}serialize(){const F=[s];return this.eachChild(W=>{F.push(W.serialize())}),F}}}const Xt=Gr("==",function(s,r,l){return r===l},kr),Ei=Gr("!=",function(s,r,l){return r!==l},function(s,r,l,f){return!kr(0,r,l,f)}),mi=Gr("<",function(s,r,l){return r<l},function(s,r,l,f){return f.compare(r,l)<0}),ar=Gr(">",function(s,r,l){return r>l},function(s,r,l,f){return f.compare(r,l)>0}),Fr=Gr("<=",function(s,r,l){return r<=l},function(s,r,l,f){return f.compare(r,l)<=0}),hn=Gr(">=",function(s,r,l){return r>=l},function(s,r,l,f){return f.compare(r,l)>=0});class On{constructor(r,l,f,S,F,W){this.type=qr,this.number=r,this.locale=l,this.currency=f,this.unit=S,this.minFractionDigits=F,this.maxFractionDigits=W}static parse(r,l){if(r.length!==3)return l.error("Expected two arguments.");const f=l.parse(r[1],1,ir);if(!f)return null;const S=r[2];if(typeof S!="object"||Array.isArray(S))return l.error("NumberFormat options argument must be an object.");let F=null;if(S.locale&&(F=l.parse(S.locale,1,qr),!F))return null;let W=null;if(S.currency&&(W=l.parse(S.currency,1,qr),!W))return null;let ie=null;if(S.unit&&(ie=l.parse(S.unit,1,qr),!ie))return null;let le=null;if(S["min-fraction-digits"]&&(le=l.parse(S["min-fraction-digits"],1,ir),!le))return null;let me=null;return S["max-fraction-digits"]&&(me=l.parse(S["max-fraction-digits"],1,ir),!me)?null:new On(f,F,W,ie,le,me)}evaluate(r){return new Intl.NumberFormat(this.locale?this.locale.evaluate(r):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(r):void 0,unit:this.unit?this.unit.evaluate(r):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(r):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(r):void 0}).format(this.number.evaluate(r))}eachChild(r){r(this.number),this.locale&&r(this.locale),this.currency&&r(this.currency),this.unit&&r(this.unit),this.minFractionDigits&&r(this.minFractionDigits),this.maxFractionDigits&&r(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const r={};return this.locale&&(r.locale=this.locale.serialize()),this.currency&&(r.currency=this.currency.serialize()),this.unit&&(r.unit=this.unit.serialize()),this.minFractionDigits&&(r["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(r["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),r]}}class Xr{constructor(r){this.type=ir,this.input=r}static parse(r,l){if(r.length!==2)return l.error(`Expected 1 argument, but found ${r.length-1} instead.`);const f=l.parse(r[1],1);return f?f.type.kind!=="array"&&f.type.kind!=="string"&&f.type.kind!=="value"?l.error(`Expected argument of type string or array, but found ${An(f.type)} instead.`):new Xr(f):null}evaluate(r){const l=this.input.evaluate(r);if(typeof l=="string"||Array.isArray(l))return l.length;throw new ga(`Expected value to be of type string or array, but found ${An($n(l))} instead.`)}eachChild(r){r(this.input)}outputDefined(){return!1}serialize(){const r=["length"];return this.eachChild(l=>{r.push(l.serialize())}),r}}const Ka={"==":Xt,"!=":Ei,">":ar,"<":mi,">=":hn,"<=":Fr,array:vn,at:Ea,boolean:vn,case:ii,coalesce:ys,collator:sa,format:un,image:Cs,in:vs,"index-of":Tl,interpolate:ho,"interpolate-hcl":ho,"interpolate-lab":ho,length:Xr,let:Ps,literal:Ao,match:$e,number:vn,"number-format":On,object:vn,slice:tr,step:Da,string:vn,"to-boolean":Ga,"to-color":Ga,"to-number":Ga,"to-string":Ga,var:ya,within:Vn};function To(s,[r,l,f,S]){r=r.evaluate(s),l=l.evaluate(s),f=f.evaluate(s);const F=S?S.evaluate(s):1,W=Ks(r,l,f,F);if(W)throw new ga(W);return new Hn(r/255*F,l/255*F,f/255*F,F)}function la(s,r){return s in r}function mt(s,r){const l=r[s];return l===void 0?null:l}function Nt(s){return{type:s}}Ha.register(Ka,{error:[{kind:"error"},[qr],(s,[r])=>{throw new ga(r.evaluate(s))}],typeof:[qr,[Tr],(s,[r])=>An($n(r.evaluate(s)))],"to-rgba":[ua(ir,4),[Fa],(s,[r])=>r.evaluate(s).toArray()],rgb:[Fa,[ir,ir,ir],To],rgba:[Fa,[ir,ir,ir,ir],To],has:{type:tn,overloads:[[[qr],(s,[r])=>la(r.evaluate(s),s.properties())],[[qr,wo],(s,[r,l])=>la(r.evaluate(s),l.evaluate(s))]]},get:{type:Tr,overloads:[[[qr],(s,[r])=>mt(r.evaluate(s),s.properties())],[[qr,wo],(s,[r,l])=>mt(r.evaluate(s),l.evaluate(s))]]},"feature-state":[Tr,[qr],(s,[r])=>mt(r.evaluate(s),s.featureState||{})],properties:[wo,[],s=>s.properties()],"geometry-type":[qr,[],s=>s.geometryType()],id:[Tr,[],s=>s.id()],zoom:[ir,[],s=>s.globals.zoom],pitch:[ir,[],s=>s.globals.pitch||0],"distance-from-center":[ir,[],s=>s.distanceFromCenter()],"heatmap-density":[ir,[],s=>s.globals.heatmapDensity||0],"line-progress":[ir,[],s=>s.globals.lineProgress||0],"sky-radial-progress":[ir,[],s=>s.globals.skyRadialProgress||0],accumulated:[Tr,[],s=>s.globals.accumulated===void 0?null:s.globals.accumulated],"+":[ir,Nt(ir),(s,r)=>{let l=0;for(const f of r)l+=f.evaluate(s);return l}],"*":[ir,Nt(ir),(s,r)=>{let l=1;for(const f of r)l*=f.evaluate(s);return l}],"-":{type:ir,overloads:[[[ir,ir],(s,[r,l])=>r.evaluate(s)-l.evaluate(s)],[[ir],(s,[r])=>-r.evaluate(s)]]},"/":[ir,[ir,ir],(s,[r,l])=>r.evaluate(s)/l.evaluate(s)],"%":[ir,[ir,ir],(s,[r,l])=>r.evaluate(s)%l.evaluate(s)],ln2:[ir,[],()=>Math.LN2],pi:[ir,[],()=>Math.PI],e:[ir,[],()=>Math.E],"^":[ir,[ir,ir],(s,[r,l])=>Math.pow(r.evaluate(s),l.evaluate(s))],sqrt:[ir,[ir],(s,[r])=>Math.sqrt(r.evaluate(s))],log10:[ir,[ir],(s,[r])=>Math.log(r.evaluate(s))/Math.LN10],ln:[ir,[ir],(s,[r])=>Math.log(r.evaluate(s))],log2:[ir,[ir],(s,[r])=>Math.log(r.evaluate(s))/Math.LN2],sin:[ir,[ir],(s,[r])=>Math.sin(r.evaluate(s))],cos:[ir,[ir],(s,[r])=>Math.cos(r.evaluate(s))],tan:[ir,[ir],(s,[r])=>Math.tan(r.evaluate(s))],asin:[ir,[ir],(s,[r])=>Math.asin(r.evaluate(s))],acos:[ir,[ir],(s,[r])=>Math.acos(r.evaluate(s))],atan:[ir,[ir],(s,[r])=>Math.atan(r.evaluate(s))],min:[ir,Nt(ir),(s,r)=>Math.min(...r.map(l=>l.evaluate(s)))],max:[ir,Nt(ir),(s,r)=>Math.max(...r.map(l=>l.evaluate(s)))],abs:[ir,[ir],(s,[r])=>Math.abs(r.evaluate(s))],round:[ir,[ir],(s,[r])=>{const l=r.evaluate(s);return l<0?-Math.round(-l):Math.round(l)}],floor:[ir,[ir],(s,[r])=>Math.floor(r.evaluate(s))],ceil:[ir,[ir],(s,[r])=>Math.ceil(r.evaluate(s))],"filter-==":[tn,[qr,Tr],(s,[r,l])=>s.properties()[r.value]===l.value],"filter-id-==":[tn,[Tr],(s,[r])=>s.id()===r.value],"filter-type-==":[tn,[qr],(s,[r])=>s.geometryType()===r.value],"filter-<":[tn,[qr,Tr],(s,[r,l])=>{const f=s.properties()[r.value],S=l.value;return typeof f==typeof S&&f<S}],"filter-id-<":[tn,[Tr],(s,[r])=>{const l=s.id(),f=r.value;return typeof l==typeof f&&l<f}],"filter->":[tn,[qr,Tr],(s,[r,l])=>{const f=s.properties()[r.value],S=l.value;return typeof f==typeof S&&f>S}],"filter-id->":[tn,[Tr],(s,[r])=>{const l=s.id(),f=r.value;return typeof l==typeof f&&l>f}],"filter-<=":[tn,[qr,Tr],(s,[r,l])=>{const f=s.properties()[r.value],S=l.value;return typeof f==typeof S&&f<=S}],"filter-id-<=":[tn,[Tr],(s,[r])=>{const l=s.id(),f=r.value;return typeof l==typeof f&&l<=f}],"filter->=":[tn,[qr,Tr],(s,[r,l])=>{const f=s.properties()[r.value],S=l.value;return typeof f==typeof S&&f>=S}],"filter-id->=":[tn,[Tr],(s,[r])=>{const l=s.id(),f=r.value;return typeof l==typeof f&&l>=f}],"filter-has":[tn,[Tr],(s,[r])=>r.value in s.properties()],"filter-has-id":[tn,[],s=>s.id()!==null&&s.id()!==void 0],"filter-type-in":[tn,[ua(qr)],(s,[r])=>r.value.indexOf(s.geometryType())>=0],"filter-id-in":[tn,[ua(Tr)],(s,[r])=>r.value.indexOf(s.id())>=0],"filter-in-small":[tn,[qr,ua(Tr)],(s,[r,l])=>l.value.indexOf(s.properties()[r.value])>=0],"filter-in-large":[tn,[qr,ua(Tr)],(s,[r,l])=>function(f,S,F,W){for(;F<=W;){const ie=F+W>>1;if(S[ie]===f)return!0;S[ie]>f?W=ie-1:F=ie+1}return!1}(s.properties()[r.value],l.value,0,l.value.length-1)],all:{type:tn,overloads:[[[tn,tn],(s,[r,l])=>r.evaluate(s)&&l.evaluate(s)],[Nt(tn),(s,r)=>{for(const l of r)if(!l.evaluate(s))return!1;return!0}]]},any:{type:tn,overloads:[[[tn,tn],(s,[r,l])=>r.evaluate(s)||l.evaluate(s)],[Nt(tn),(s,r)=>{for(const l of r)if(l.evaluate(s))return!0;return!1}]]},"!":[tn,[tn],(s,[r])=>!r.evaluate(s)],"is-supported-script":[tn,[qr],(s,[r])=>{const l=s.globals&&s.globals.isSupportedScript;return!l||l(r.evaluate(s))}],upcase:[qr,[qr],(s,[r])=>r.evaluate(s).toUpperCase()],downcase:[qr,[qr],(s,[r])=>r.evaluate(s).toLowerCase()],concat:[qr,Nt(Tr),(s,r)=>r.map(l=>Jo(l.evaluate(s))).join("")],"resolved-locale":[qr,[Lo],(s,[r])=>r.evaluate(s).resolvedLocale()]});var Gt=Ka;function Mi(s){return{result:"success",value:s}}function Qt(s){return{result:"error",value:s}}function wi(s){return s["property-type"]==="data-driven"}function Ui(s){return!!s.expression&&s.expression.parameters.indexOf("zoom")>-1}function hr(s){return!!s.expression&&s.expression.interpolated}function Wi(s){return s instanceof Number?"number":s instanceof String?"string":s instanceof Boolean?"boolean":Array.isArray(s)?"array":s===null?"null":typeof s}function Mr(s){return typeof s=="object"&&s!==null&&!Array.isArray(s)}function Dr(s){return s}function Nr(s,r){const l=r.type==="color",f=s.stops&&typeof s.stops[0][0]=="object",S=f||!(f||s.property!==void 0),F=s.type||(hr(r)?"exponential":"interval");if(l&&((s=an({},s)).stops&&(s.stops=s.stops.map(me=>[me[0],Hn.parse(me[1])])),s.default=Hn.parse(s.default?s.default:r.default)),s.colorSpace&&s.colorSpace!=="rgb"&&!$s[s.colorSpace])throw new Error(`Unknown color space: ${s.colorSpace}`);let W,ie,le;if(F==="exponential")W=Me;else if(F==="interval")W=Er;else if(F==="categorical"){W=_n,ie=Object.create(null);for(const me of s.stops)ie[me[0]]=me[1];le=typeof s.stops[0][0]}else{if(F!=="identity")throw new Error(`Unknown function type "${F}"`);W=Re}if(f){const me={},Ee=[];for(let Ve=0;Ve<s.stops.length;Ve++){const qe=s.stops[Ve],rt=qe[0].zoom;me[rt]===void 0&&(me[rt]={zoom:rt,type:s.type,property:s.property,default:s.default,stops:[]},Ee.push(rt)),me[rt].stops.push([qe[0].value,qe[1]])}const Oe=[];for(const Ve of Ee)Oe.push([me[Ve].zoom,Nr(me[Ve],r)]);const Le={name:"linear"};return{kind:"composite",interpolationType:Le,interpolationFactor:ho.interpolationFactor.bind(void 0,Le),zoomStops:Oe.map(Ve=>Ve[0]),evaluate:({zoom:Ve},qe)=>Me({stops:Oe,base:s.base},r,Ve).evaluate(Ve,qe)}}if(S){const me=F==="exponential"?{name:"exponential",base:s.base!==void 0?s.base:1}:null;return{kind:"camera",interpolationType:me,interpolationFactor:ho.interpolationFactor.bind(void 0,me),zoomStops:s.stops.map(Ee=>Ee[0]),evaluate:({zoom:Ee})=>W(s,r,Ee,ie,le)}}return{kind:"source",evaluate(me,Ee){const Oe=Ee&&Ee.properties?Ee.properties[s.property]:void 0;return Oe===void 0?Jr(s.default,r.default):W(s,r,Oe,ie,le)}}}function Jr(s,r,l){return s!==void 0?s:r!==void 0?r:l!==void 0?l:void 0}function _n(s,r,l,f,S){return Jr(typeof l===S?f[l]:void 0,s.default,r.default)}function Er(s,r,l){if(Wi(l)!=="number")return Jr(s.default,r.default);const f=s.stops.length;if(f===1||l<=s.stops[0][0])return s.stops[0][1];if(l>=s.stops[f-1][0])return s.stops[f-1][1];const S=yo(s.stops.map(F=>F[0]),l);return s.stops[S][1]}function Me(s,r,l){const f=s.base!==void 0?s.base:1;if(Wi(l)!=="number")return Jr(s.default,r.default);const S=s.stops.length;if(S===1||l<=s.stops[0][0])return s.stops[0][1];if(l>=s.stops[S-1][0])return s.stops[S-1][1];const F=yo(s.stops.map(Ee=>Ee[0]),l),W=function(Ee,Oe,Le,Ve){const qe=Ve-Le,rt=Ee-Le;return qe===0?0:Oe===1?rt/qe:(Math.pow(Oe,rt)-1)/(Math.pow(Oe,qe)-1)}(l,f,s.stops[F][0],s.stops[F+1][0]),ie=s.stops[F][1],le=s.stops[F+1][1];let me=ba[r.type]||Dr;if(s.colorSpace&&s.colorSpace!=="rgb"){const Ee=$s[s.colorSpace];me=(Oe,Le)=>Ee.reverse(Ee.interpolate(Ee.forward(Oe),Ee.forward(Le),W))}return typeof ie.evaluate=="function"?{evaluate(...Ee){const Oe=ie.evaluate.apply(void 0,Ee),Le=le.evaluate.apply(void 0,Ee);if(Oe!==void 0&&Le!==void 0)return me(Oe,Le,W)}}:me(ie,le,W)}function Re(s,r,l){return r.type==="color"?l=Hn.parse(l):r.type==="formatted"?l=na.fromString(l.toString()):r.type==="resolvedImage"?l=ma.fromString(l.toString()):Wi(l)===r.type||r.type==="enum"&&r.values[l]||(l=void 0),Jr(l,s.default,r.default)}class et{constructor(r,l){this.expression=r,this._warningHistory={},this._evaluator=new fs,this._defaultValue=l?function(f){return f.type==="color"&&(Mr(f.default)||Array.isArray(f.default))?new Hn(0,0,0,0):f.type==="color"?Hn.parse(f.default)||null:f.default===void 0?null:f.default}(l):null,this._enumValues=l&&l.type==="enum"?l.values:null}evaluateWithoutErrorHandling(r,l,f,S,F,W,ie,le){return this._evaluator.globals=r,this._evaluator.feature=l,this._evaluator.featureState=f,this._evaluator.canonical=S||null,this._evaluator.availableImages=F||null,this._evaluator.formattedSection=W,this._evaluator.featureTileCoord=ie||null,this._evaluator.featureDistanceData=le||null,this.expression.evaluate(this._evaluator)}evaluate(r,l,f,S,F,W,ie,le){this._evaluator.globals=r,this._evaluator.feature=l||null,this._evaluator.featureState=f||null,this._evaluator.canonical=S||null,this._evaluator.availableImages=F||null,this._evaluator.formattedSection=W||null,this._evaluator.featureTileCoord=ie||null,this._evaluator.featureDistanceData=le||null;try{const me=this.expression.evaluate(this._evaluator);if(me==null||typeof me=="number"&&me!=me)return this._defaultValue;if(this._enumValues&&!(me in this._enumValues))throw new ga(`Expected value to be one of ${Object.keys(this._enumValues).map(Ee=>JSON.stringify(Ee)).join(", ")}, but found ${JSON.stringify(me)} instead.`);return me}catch(me){return this._warningHistory[me.message]||(this._warningHistory[me.message]=!0,typeof console<"u"&&console.warn(me.message)),this._defaultValue}}}function Ot(s){return Array.isArray(s)&&s.length>0&&typeof s[0]=="string"&&s[0]in Gt}function Ni(s,r){const l=new En(Gt,[],r?function(S){const F={color:Fa,string:qr,number:ir,enum:qr,boolean:tn,formatted:io,resolvedImage:So};return S.type==="array"?ua(F[S.value]||Tr,S.length):F[S.type]}(r):void 0),f=l.parse(s,void 0,void 0,void 0,r&&r.type==="string"?{typeAnnotation:"coerce"}:void 0);return f?Mi(new et(f,r)):Qt(l.errors)}class wr{constructor(r,l){this.kind=r,this._styleExpression=l,this.isStateDependent=r!=="constant"&&!rn(l.expression)}evaluateWithoutErrorHandling(r,l,f,S,F,W){return this._styleExpression.evaluateWithoutErrorHandling(r,l,f,S,F,W)}evaluate(r,l,f,S,F,W){return this._styleExpression.evaluate(r,l,f,S,F,W)}}class gn{constructor(r,l,f,S){this.kind=r,this.zoomStops=f,this._styleExpression=l,this.isStateDependent=r!=="camera"&&!rn(l.expression),this.interpolationType=S}evaluateWithoutErrorHandling(r,l,f,S,F,W){return this._styleExpression.evaluateWithoutErrorHandling(r,l,f,S,F,W)}evaluate(r,l,f,S,F,W){return this._styleExpression.evaluate(r,l,f,S,F,W)}interpolationFactor(r,l,f){return this.interpolationType?ho.interpolationFactor(this.interpolationType,r,l,f):0}}function Ta(s,r){if((s=Ni(s,r)).result==="error")return s;const l=s.value.expression,f=Cn(l);if(!f&&!wi(r))return Qt([new Ca("","data expressions not supported")]);const S=sn(l,["zoom","pitch","distance-from-center"]);if(!S&&!Ui(r))return Qt([new Ca("","zoom expressions not supported")]);const F=Ms(l);return F||S?F instanceof Ca?Qt([F]):F instanceof ho&&!hr(r)?Qt([new Ca("",'"interpolate" expressions cannot be used with this property')]):Mi(F?new gn(f?"camera":"composite",s.value,F.labels,F instanceof ho?F.interpolation:void 0):new wr(f?"constant":"source",s.value)):Qt([new Ca("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class wa{constructor(r,l){this._parameters=r,this._specification=l,an(this,Nr(this._parameters,this._specification))}static deserialize(r){return new wa(r._parameters,r._specification)}static serialize(r){return{_parameters:r._parameters,_specification:r._specification}}}function Ms(s){let r=null;if(s instanceof Ps)r=Ms(s.result);else if(s instanceof ys){for(const l of s.args)if(r=Ms(l),r)break}else(s instanceof Da||s instanceof ho)&&s.input instanceof Ha&&s.input.name==="zoom"&&(r=s);return r instanceof Ca||s.eachChild(l=>{const f=Ms(l);f instanceof Ca?r=f:!r&&f?r=new Ca("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&f&&r!==f&&(r=new Ca("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),r}class dr{constructor(r,l,f,S){this.message=(r?`${r}: `:"")+f,S&&(this.identifier=S),l!=null&&l.__line__&&(this.line=l.__line__)}}function Is(s){const r=s.key,l=s.value,f=s.valueSpec||{},S=s.objectElementValidators||{},F=s.style,W=s.styleSpec;let ie=[];const le=Wi(l);if(le!=="object")return[new dr(r,l,`object expected, ${le} found`)];for(const me in l){const Ee=me.split(".")[0],Oe=f[Ee]||f["*"];let Le;S[Ee]?Le=S[Ee]:f[Ee]?Le=Zr:S["*"]?Le=S["*"]:f["*"]&&(Le=Zr),Le?ie=ie.concat(Le({key:(r&&`${r}.`)+me,value:l[me],valueSpec:Oe,style:F,styleSpec:W,object:l,objectKey:me},l)):ie.push(new dr(r,l[me],`unknown property "${me}"`))}for(const me in f)S[me]||f[me].required&&f[me].default===void 0&&l[me]===void 0&&ie.push(new dr(r,l,`missing required property "${me}"`));return ie}function Pl(s){const r=s.value,l=s.valueSpec,f=s.style,S=s.styleSpec,F=s.key,W=s.arrayElementValidator||Zr;if(Wi(r)!=="array")return[new dr(F,r,`array expected, ${Wi(r)} found`)];if(l.length&&r.length!==l.length)return[new dr(F,r,`array length ${l.length} expected, length ${r.length} found`)];if(l["min-length"]&&r.length<l["min-length"])return[new dr(F,r,`array length at least ${l["min-length"]} expected, length ${r.length} found`)];let ie={type:l.value,values:l.values,minimum:l.minimum,maximum:l.maximum,function:void 0};S.$version<7&&(ie.function=l.function),Wi(l.value)==="object"&&(ie=l.value);let le=[];for(let me=0;me<r.length;me++)le=le.concat(W({array:r,arrayIndex:me,value:r[me],valueSpec:ie,style:f,styleSpec:S,key:`${F}[${me}]`}));return le}function bc(s){const r=s.key,l=s.value,f=s.valueSpec;let S=Wi(l);if(S==="number"&&l!=l&&(S="NaN"),S!=="number")return[new dr(r,l,`number expected, ${S} found`)];if("minimum"in f){let F=f.minimum;if(Wi(f.minimum)==="array"&&(F=f.minimum[s.arrayIndex]),l<F)return[new dr(r,l,`${l} is less than the minimum value ${F}`)]}if("maximum"in f){let F=f.maximum;if(Wi(f.maximum)==="array"&&(F=f.maximum[s.arrayIndex]),l>F)return[new dr(r,l,`${l} is greater than the maximum value ${F}`)]}return[]}function Hc(s){const r=s.valueSpec,l=ta(s.value.type);let f,S,F,W={};const ie=l!=="categorical"&&s.value.property===void 0,le=!ie,me=Wi(s.value.stops)==="array"&&Wi(s.value.stops[0])==="array"&&Wi(s.value.stops[0][0])==="object",Ee=Is({key:s.key,value:s.value,valueSpec:s.styleSpec.function,style:s.style,styleSpec:s.styleSpec,objectElementValidators:{stops:function(Ve){if(l==="identity")return[new dr(Ve.key,Ve.value,'identity function may not have a "stops" property')];let qe=[];const rt=Ve.value;return qe=qe.concat(Pl({key:Ve.key,value:rt,valueSpec:Ve.valueSpec,style:Ve.style,styleSpec:Ve.styleSpec,arrayElementValidator:Oe})),Wi(rt)==="array"&&rt.length===0&&qe.push(new dr(Ve.key,rt,"array must have at least one stop")),qe},default:function(Ve){return Zr({key:Ve.key,value:Ve.value,valueSpec:r,style:Ve.style,styleSpec:Ve.styleSpec})}}});return l==="identity"&&ie&&Ee.push(new dr(s.key,s.value,'missing required property "property"')),l==="identity"||s.value.stops||Ee.push(new dr(s.key,s.value,'missing required property "stops"')),l==="exponential"&&s.valueSpec.expression&&!hr(s.valueSpec)&&Ee.push(new dr(s.key,s.value,"exponential functions not supported")),s.styleSpec.$version>=8&&(le&&!wi(s.valueSpec)?Ee.push(new dr(s.key,s.value,"property functions not supported")):ie&&!Ui(s.valueSpec)&&Ee.push(new dr(s.key,s.value,"zoom functions not supported"))),l!=="categorical"&&!me||s.value.property!==void 0||Ee.push(new dr(s.key,s.value,'"property" property is required')),Ee;function Oe(Ve){let qe=[];const rt=Ve.value,pt=Ve.key;if(Wi(rt)!=="array")return[new dr(pt,rt,`array expected, ${Wi(rt)} found`)];if(rt.length!==2)return[new dr(pt,rt,`array length 2 expected, length ${rt.length} found`)];if(me){if(Wi(rt[0])!=="object")return[new dr(pt,rt,`object expected, ${Wi(rt[0])} found`)];if(rt[0].zoom===void 0)return[new dr(pt,rt,"object stop key must have zoom")];if(rt[0].value===void 0)return[new dr(pt,rt,"object stop key must have value")];const Mt=ta(rt[0].zoom);if(typeof Mt!="number")return[new dr(pt,rt[0].zoom,"stop zoom values must be numbers")];if(F&&F>Mt)return[new dr(pt,rt[0].zoom,"stop zoom values must appear in ascending order")];Mt!==F&&(F=Mt,S=void 0,W={}),qe=qe.concat(Is({key:`${pt}[0]`,value:rt[0],valueSpec:{zoom:{}},style:Ve.style,styleSpec:Ve.styleSpec,objectElementValidators:{zoom:bc,value:Le}}))}else qe=qe.concat(Le({key:`${pt}[0]`,value:rt[0],valueSpec:{},style:Ve.style,styleSpec:Ve.styleSpec},rt));return Ot(ia(rt[1]))?qe.concat([new dr(`${pt}[1]`,rt[1],"expressions are not allowed in function stops.")]):qe.concat(Zr({key:`${pt}[1]`,value:rt[1],valueSpec:r,style:Ve.style,styleSpec:Ve.styleSpec}))}function Le(Ve,qe){const rt=Wi(Ve.value),pt=ta(Ve.value),Mt=Ve.value!==null?Ve.value:qe;if(f){if(rt!==f)return[new dr(Ve.key,Mt,`${rt} stop domain type must match previous stop domain type ${f}`)]}else f=rt;if(rt!=="number"&&rt!=="string"&&rt!=="boolean"&&typeof pt!="number"&&typeof pt!="string"&&typeof pt!="boolean")return[new dr(Ve.key,Mt,"stop domain value must be a number, string, or boolean")];if(rt!=="number"&&l!=="categorical"){let Ut=`number expected, ${rt} found`;return wi(r)&&l===void 0&&(Ut+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new dr(Ve.key,Mt,Ut)]}return l!=="categorical"||rt!=="number"||typeof pt=="number"&&isFinite(pt)&&Math.floor(pt)===pt?l!=="categorical"&&rt==="number"&&typeof pt=="number"&&typeof S=="number"&&S!==void 0&&pt<S?[new dr(Ve.key,Mt,"stop domain values must appear in ascending order")]:(S=pt,l==="categorical"&&pt in W?[new dr(Ve.key,Mt,"stop domain values must be unique")]:(W[pt]=!0,[])):[new dr(Ve.key,Mt,`integer expected, found ${String(pt)}`)]}}function ic(s){const r=(s.expressionContext==="property"?Ta:Ni)(ia(s.value),s.valueSpec);if(r.result==="error")return r.value.map(f=>new dr(`${s.key}${f.key}`,s.value,f.message));const l=r.value.expression||r.value._styleExpression.expression;if(s.expressionContext==="property"&&s.propertyKey==="text-font"&&!l.outputDefined())return[new dr(s.key,s.value,`Invalid data expression for "${s.propertyKey}". Output values must be contained as literals within the expression.`)];if(s.expressionContext==="property"&&s.propertyType==="layout"&&!rn(l))return[new dr(s.key,s.value,'"feature-state" data expressions are not supported with layout properties.')];if(s.expressionContext==="filter")return wu(l,s);if(s.expressionContext&&s.expressionContext.indexOf("cluster")===0){if(!sn(l,["zoom","feature-state"]))return[new dr(s.key,s.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(s.expressionContext==="cluster-initial"&&!Cn(l))return[new dr(s.key,s.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function wu(s,r){const l=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(r.valueSpec&&r.valueSpec.expression)for(const S of r.valueSpec.expression.parameters)l.delete(S);if(l.size===0)return[];const f=[];return s instanceof Ha&&l.has(s.name)?[new dr(r.key,r.value,`["${s.name}"] expression is not supported in a filter for a ${r.object.type} layer with id: ${r.object.id}`)]:(s.eachChild(S=>{f.push(...wu(S,r))}),f)}function qc(s){const r=s.key,l=s.value,f=s.valueSpec,S=[];return Array.isArray(f.values)?f.values.indexOf(ta(l))===-1&&S.push(new dr(r,l,`expected one of [${f.values.join(", ")}], ${JSON.stringify(l)} found`)):Object.keys(f.values).indexOf(ta(l))===-1&&S.push(new dr(r,l,`expected one of [${Object.keys(f.values).join(", ")}], ${JSON.stringify(l)} found`)),S}function rc(s){if(s===!0||s===!1)return!0;if(!Array.isArray(s)||s.length===0)return!1;switch(s[0]){case"has":return s.length>=2&&s[1]!=="$id"&&s[1]!=="$type";case"in":return s.length>=3&&(typeof s[1]!="string"||Array.isArray(s[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return s.length!==3||Array.isArray(s[1])||Array.isArray(s[2]);case"any":case"all":for(const r of s.slice(1))if(!rc(r)&&typeof r!="boolean")return!1;return!0;default:return!0}}function Sa(s,r="fill"){if(s==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};rc(s)||(s=tl(s));const l=s;let f=!0;try{f=function(me){if(!nc(me))return me;let Ee=ia(me);return xc(Ee),Ee=Xn(Ee),Ee}(l)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(l,null,2)}
        `)}const S=ki[`filter_${r}`],F=Ni(f,S);let W=null;if(F.result==="error")throw new Error(F.value.map(me=>`${me.key}: ${me.message}`).join(", "));W=(me,Ee,Oe)=>F.value.evaluate(me,Ee,{},Oe);let ie=null,le=null;if(f!==l){const me=Ni(l,S);if(me.result==="error")throw new Error(me.value.map(Ee=>`${Ee.key}: ${Ee.message}`).join(", "));ie=(Ee,Oe,Le,Ve,qe)=>me.value.evaluate(Ee,Oe,{},Le,void 0,void 0,Ve,qe),le=!Cn(me.value.expression)}return{filter:W,dynamicFilter:ie||void 0,needGeometry:Wc(f),needFeature:!!le}}function Xn(s){if(!Array.isArray(s))return s;const r=function(l){if(fh.has(l[0])){for(let f=1;f<l.length;f++)if(nc(l[f]))return!0}return l}(s);return r===!0?r:r.map(l=>Xn(l))}function xc(s){let r=!1;const l=[];if(s[0]==="case"){for(let f=1;f<s.length-1;f+=2)r=r||nc(s[f]),l.push(s[f+1]);l.push(s[s.length-1])}else if(s[0]==="match"){r=r||nc(s[1]);for(let f=2;f<s.length-1;f+=2)l.push(s[f+1]);l.push(s[s.length-1])}else if(s[0]==="step"){r=r||nc(s[1]);for(let f=1;f<s.length-1;f+=2)l.push(s[f+1])}r&&(s.length=0,s.push("any",...l));for(let f=1;f<s.length;f++)xc(s[f])}function nc(s){if(!Array.isArray(s))return!1;if((r=s[0])==="pitch"||r==="distance-from-center")return!0;var r;for(let l=1;l<s.length;l++)if(nc(s[l]))return!0;return!1}const fh=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function gd(s,r){return s<r?-1:s>r?1:0}function Wc(s){if(!Array.isArray(s))return!1;if(s[0]==="within")return!0;for(let r=1;r<s.length;r++)if(Wc(s[r]))return!0;return!1}function tl(s){if(!s)return!0;const r=s[0];return s.length<=1?r!=="any":r==="=="?wc(s[1],s[2],"=="):r==="!="?Ml(wc(s[1],s[2],"==")):r==="<"||r===">"||r==="<="||r===">="?wc(s[1],s[2],r):r==="any"?(l=s.slice(1),["any"].concat(l.map(tl))):r==="all"?["all"].concat(s.slice(1).map(tl)):r==="none"?["all"].concat(s.slice(1).map(tl).map(Ml)):r==="in"?ml(s[1],s.slice(2)):r==="!in"?Ml(ml(s[1],s.slice(2))):r==="has"?ac(s[1]):r==="!has"?Ml(ac(s[1])):r!=="within"||s;var l}function wc(s,r,l){switch(s){case"$type":return[`filter-type-${l}`,r];case"$id":return[`filter-id-${l}`,r];default:return[`filter-${l}`,s,r]}}function ml(s,r){if(r.length===0)return!1;switch(s){case"$type":return["filter-type-in",["literal",r]];case"$id":return["filter-id-in",["literal",r]];default:return r.length>200&&!r.some(l=>typeof l!=typeof r[0])?["filter-in-large",s,["literal",r.sort(gd)]]:["filter-in-small",s,["literal",r]]}}function ac(s){switch(s){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",s]}}function Ml(s){return["!",s]}function Il(s){return rc(ia(s.value))?ic(an({},s,{expressionContext:"filter",valueSpec:s.styleSpec[`filter_${s.layerType||"fill"}`]})):Vl(s)}function Vl(s){const r=s.value,l=s.key;if(Wi(r)!=="array")return[new dr(l,r,`array expected, ${Wi(r)} found`)];const f=s.styleSpec;let S,F=[];if(r.length<1)return[new dr(l,r,"filter array must have at least 1 element")];switch(F=F.concat(qc({key:`${l}[0]`,value:r[0],valueSpec:f.filter_operator,style:s.style,styleSpec:s.styleSpec})),ta(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&ta(r[1])==="$type"&&F.push(new dr(l,r,`"$type" cannot be use with operator "${r[0]}"`));case"==":case"!=":r.length!==3&&F.push(new dr(l,r,`filter array for operator "${r[0]}" must have 3 elements`));case"in":case"!in":r.length>=2&&(S=Wi(r[1]),S!=="string"&&F.push(new dr(`${l}[1]`,r[1],`string expected, ${S} found`)));for(let W=2;W<r.length;W++)S=Wi(r[W]),ta(r[1])==="$type"?F=F.concat(qc({key:`${l}[${W}]`,value:r[W],valueSpec:f.geometry_type,style:s.style,styleSpec:s.styleSpec})):S!=="string"&&S!=="number"&&S!=="boolean"&&F.push(new dr(`${l}[${W}]`,r[W],`string, number, or boolean expected, ${S} found`));break;case"any":case"all":case"none":for(let W=1;W<r.length;W++)F=F.concat(Vl({key:`${l}[${W}]`,value:r[W],style:s.style,styleSpec:s.styleSpec}));break;case"has":case"!has":S=Wi(r[1]),r.length!==2?F.push(new dr(l,r,`filter array for "${r[0]}" operator must have 2 elements`)):S!=="string"&&F.push(new dr(`${l}[1]`,r[1],`string expected, ${S} found`));break;case"within":S=Wi(r[1]),r.length!==2?F.push(new dr(l,r,`filter array for "${r[0]}" operator must have 2 elements`)):S!=="object"&&F.push(new dr(`${l}[1]`,r[1],`object expected, ${S} found`))}return F}function Su(s,r){const l=s.key,f=s.style,S=s.styleSpec,F=s.value,W=s.objectKey,ie=S[`${r}_${s.layerType}`];if(!ie)return[];const le=W.match(/^(.*)-transition$/);if(r==="paint"&&le&&ie[le[1]]&&ie[le[1]].transition)return Zr({key:l,value:F,valueSpec:S.transition,style:f,styleSpec:S});const me=s.valueSpec||ie[W];if(!me)return[new dr(l,F,`unknown property "${W}"`)];let Ee;if(Wi(F)==="string"&&wi(me)&&!me.tokens&&(Ee=/^{([^}]+)}$/.exec(F)))return[new dr(l,F,`"${W}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Ee[1])} }\`.`)];const Oe=[];return s.layerType==="symbol"&&(W==="text-field"&&f&&!f.glyphs&&Oe.push(new dr(l,F,'use of "text-field" requires a style "glyphs" property')),W==="text-font"&&Mr(ia(F))&&ta(F.type)==="identity"&&Oe.push(new dr(l,F,'"text-font" does not support identity functions'))),Oe.concat(Zr({key:s.key,value:F,valueSpec:me,style:f,styleSpec:S,expressionContext:"property",propertyType:r,propertyKey:W}))}function ku(s){return Su(s,"paint")}function ph(s){return Su(s,"layout")}function Yc(s){let r=[];const l=s.value,f=s.key,S=s.style,F=s.styleSpec;l.type||l.ref||r.push(new dr(f,l,'either "type" or "ref" is required'));let W=ta(l.type);const ie=ta(l.ref);if(l.id){const le=ta(l.id);for(let me=0;me<s.arrayIndex;me++){const Ee=S.layers[me];ta(Ee.id)===le&&r.push(new dr(f,l.id,`duplicate layer id "${l.id}", previously used at line ${Ee.id.__line__}`))}}if("ref"in l){let le;["type","source","source-layer","filter","layout"].forEach(me=>{me in l&&r.push(new dr(f,l[me],`"${me}" is prohibited for ref layers`))}),S.layers.forEach(me=>{ta(me.id)===ie&&(le=me)}),le?le.ref?r.push(new dr(f,l.ref,"ref cannot reference another ref layer")):W=ta(le.type):typeof ie=="string"&&r.push(new dr(f,l.ref,`ref layer "${ie}" not found`))}else if(W!=="background"&&W!=="sky")if(l.source){const le=S.sources&&S.sources[l.source],me=le&&ta(le.type);le?me==="vector"&&W==="raster"?r.push(new dr(f,l.source,`layer "${l.id}" requires a raster source`)):me==="raster"&&W!=="raster"?r.push(new dr(f,l.source,`layer "${l.id}" requires a vector source`)):me!=="vector"||l["source-layer"]?me==="raster-dem"&&W!=="hillshade"?r.push(new dr(f,l.source,"raster-dem source can only be used with layer type 'hillshade'.")):W!=="line"||!l.paint||!l.paint["line-gradient"]&&!l.paint["line-trim-offset"]||me==="geojson"&&le.lineMetrics||r.push(new dr(f,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):r.push(new dr(f,l,`layer "${l.id}" must specify a "source-layer"`)):r.push(new dr(f,l.source,`source "${l.source}" not found`))}else r.push(new dr(f,l,'missing required property "source"'));return r=r.concat(Is({key:f,value:l,valueSpec:F.layer,style:s.style,styleSpec:s.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Zr({key:`${f}.type`,value:l.type,valueSpec:F.layer.type,style:s.style,styleSpec:s.styleSpec,object:l,objectKey:"type"}),filter:le=>Il(an({layerType:W},le)),layout:le=>Is({layer:l,key:le.key,value:le.value,valueSpec:{},style:le.style,styleSpec:le.styleSpec,objectElementValidators:{"*":me=>ph(an({layerType:W},me))}}),paint:le=>Is({layer:l,key:le.key,value:le.value,valueSpec:{},style:le.style,styleSpec:le.styleSpec,objectElementValidators:{"*":me=>ku(an({layerType:W},me))}})}})),r}function gl(s){const r=s.value,l=s.key,f=Wi(r);return f!=="string"?[new dr(l,r,`string expected, ${f} found`)]:[]}const oc={promoteId:function({key:s,value:r}){if(Wi(r)==="string")return gl({key:s,value:r});{const l=[];for(const f in r)l.push(...gl({key:`${s}.${f}`,value:r[f]}));return l}}};function sc(s){const r=s.value,l=s.key,f=s.styleSpec,S=s.style;if(!r.type)return[new dr(l,r,'"type" is required')];const F=ta(r.type);let W;switch(F){case"vector":case"raster":case"raster-dem":return W=Is({key:l,value:r,valueSpec:f[`source_${F.replace("-","_")}`],style:s.style,styleSpec:f,objectElementValidators:oc}),W;case"geojson":if(W=Is({key:l,value:r,valueSpec:f.source_geojson,style:S,styleSpec:f,objectElementValidators:oc}),r.cluster)for(const ie in r.clusterProperties){const[le,me]=r.clusterProperties[ie],Ee=typeof le=="string"?[le,["accumulated"],["get",ie]]:le;W.push(...ic({key:`${l}.${ie}.map`,value:me,expressionContext:"cluster-map"})),W.push(...ic({key:`${l}.${ie}.reduce`,value:Ee,expressionContext:"cluster-reduce"}))}return W;case"video":return Is({key:l,value:r,valueSpec:f.source_video,style:S,styleSpec:f});case"image":return Is({key:l,value:r,valueSpec:f.source_image,style:S,styleSpec:f});case"canvas":return[new dr(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return qc({key:`${l}.type`,value:r.type,valueSpec:{values:Au(f)},style:S,styleSpec:f})}}function Au(s){return s.source.reduce((r,l)=>{const f=s[l];return f.type.type==="enum"&&(r=r.concat(Object.keys(f.type.values))),r},[])}function gt(s){const r=s.value,l=s.styleSpec,f=l.light,S=s.style;let F=[];const W=Wi(r);if(r===void 0)return F;if(W!=="object")return F=F.concat([new dr("light",r,`object expected, ${W} found`)]),F;for(const ie in r){const le=ie.match(/^(.*)-transition$/);F=F.concat(le&&f[le[1]]&&f[le[1]].transition?Zr({key:ie,value:r[ie],valueSpec:l.transition,style:S,styleSpec:l}):f[ie]?Zr({key:ie,value:r[ie],valueSpec:f[ie],style:S,styleSpec:l}):[new dr(ie,r[ie],`unknown property "${ie}"`)])}return F}function yl(s){const r=s.value,l=s.key,f=s.style,S=s.styleSpec,F=S.terrain;let W=[];const ie=Wi(r);if(r===void 0)return W;if(ie!=="object")return W=W.concat([new dr("terrain",r,`object expected, ${ie} found`)]),W;for(const le in r){const me=le.match(/^(.*)-transition$/);W=W.concat(me&&F[me[1]]&&F[me[1]].transition?Zr({key:le,value:r[le],valueSpec:S.transition,style:f,styleSpec:S}):F[le]?Zr({key:le,value:r[le],valueSpec:F[le],style:f,styleSpec:S}):[new dr(le,r[le],`unknown property "${le}"`)])}if(r.source){const le=f.sources&&f.sources[r.source],me=le&&ta(le.type);le?me!=="raster-dem"&&W.push(new dr(l,r.source,`terrain cannot be used with a source of type ${String(me)}, it only be used with a "raster-dem" source type`)):W.push(new dr(l,r.source,`source "${r.source}" not found`))}else W.push(new dr(l,r,'terrain is missing required property "source"'));return W}function Sc(s){const r=s.value,l=s.style,f=s.styleSpec,S=f.fog;let F=[];const W=Wi(r);if(r===void 0)return F;if(W!=="object")return F=F.concat([new dr("fog",r,`object expected, ${W} found`)]),F;for(const ie in r){const le=ie.match(/^(.*)-transition$/);F=F.concat(le&&S[le[1]]&&S[le[1]].transition?Zr({key:ie,value:r[ie],valueSpec:f.transition,style:l,styleSpec:f}):S[ie]?Zr({key:ie,value:r[ie],valueSpec:S[ie],style:l,styleSpec:f}):[new dr(ie,r[ie],`unknown property "${ie}"`)])}return F}const _s={"*":()=>[],array:Pl,boolean:function(s){const r=s.value,l=s.key,f=Wi(r);return f!=="boolean"?[new dr(l,r,`boolean expected, ${f} found`)]:[]},number:bc,color:function(s){const r=s.key,l=s.value,f=Wi(l);return f!=="string"?[new dr(r,l,`color expected, ${f} found`)]:Xo(l)===null?[new dr(r,l,`color expected, "${l}" found`)]:[]},enum:qc,filter:Il,function:Hc,layer:Yc,object:Is,source:sc,light:gt,terrain:yl,fog:Sc,string:gl,formatted:function(s){return gl(s).length===0?[]:ic(s)},resolvedImage:function(s){return gl(s).length===0?[]:ic(s)},projection:function(s){const r=s.value,l=s.styleSpec,f=l.projection,S=s.style;let F=[];const W=Wi(r);if(W==="object")for(const ie in r)F=F.concat(Zr({key:ie,value:r[ie],valueSpec:f[ie],style:S,styleSpec:l}));else W!=="string"&&(F=F.concat([new dr("projection",r,`object or string expected, ${W} found`)]));return F}};function Zr(s){const r=s.value,l=s.valueSpec,f=s.styleSpec;return l.expression&&Mr(ta(r))?Hc(s):l.expression&&Ot(ia(r))?ic(s):l.type&&_s[l.type]?_s[l.type](s):Is(an({},s,{valueSpec:l.type?f[l.type]:l}))}function yd(s){const r=s.value,l=s.key,f=gl(s);return f.length||(r.indexOf("{fontstack}")===-1&&f.push(new dr(l,r,'"glyphs" url must include a "{fontstack}" token')),r.indexOf("{range}")===-1&&f.push(new dr(l,r,'"glyphs" url must include a "{range}" token'))),f}function Cu(s,r=ki){return vl(Zr({key:"",value:s,valueSpec:r.$root,styleSpec:r,style:s,objectElementValidators:{glyphs:yd,"*":()=>[]}}))}const vd=s=>vl(ku(s)),Gl=s=>vl(ph(s));function vl(s){return s.slice().sort((r,l)=>r.line&&l.line?r.line-l.line:0)}function mh(s,r){let l=!1;if(r&&r.length)for(const f of r)s.fire(new fa(new Error(f.message))),l=!0;return l}var lc=il;function il(s,r,l){var f=this.cells=[];if(s instanceof ArrayBuffer){this.arrayBuffer=s;var S=new Int32Array(this.arrayBuffer);s=S[0],this.d=(r=S[1])+2*(l=S[2]);for(var F=0;F<this.d*this.d;F++){var W=S[3+F],ie=S[3+F+1];f.push(W===ie?null:S.subarray(W,ie))}var le=S[3+f.length+1];this.keys=S.subarray(S[3+f.length],le),this.bboxes=S.subarray(le),this.insert=this._insertReadonly}else{this.d=r+2*l;for(var me=0;me<this.d*this.d;me++)f.push([]);this.keys=[],this.bboxes=[]}this.n=r,this.extent=s,this.padding=l,this.scale=r/s,this.uid=0;var Ee=l/r*s;this.min=-Ee,this.max=s+Ee}il.prototype.insert=function(s,r,l,f,S){this._forEachCell(r,l,f,S,this._insertCell,this.uid++),this.keys.push(s),this.bboxes.push(r),this.bboxes.push(l),this.bboxes.push(f),this.bboxes.push(S)},il.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},il.prototype._insertCell=function(s,r,l,f,S,F){this.cells[S].push(F)},il.prototype.query=function(s,r,l,f,S){var F=this.min,W=this.max;if(s<=F&&r<=F&&W<=l&&W<=f&&!S)return Array.prototype.slice.call(this.keys);var ie=[];return this._forEachCell(s,r,l,f,this._queryCell,ie,{},S),ie},il.prototype._queryCell=function(s,r,l,f,S,F,W,ie){var le=this.cells[S];if(le!==null)for(var me=this.keys,Ee=this.bboxes,Oe=0;Oe<le.length;Oe++){var Le=le[Oe];if(W[Le]===void 0){var Ve=4*Le;(ie?ie(Ee[Ve+0],Ee[Ve+1],Ee[Ve+2],Ee[Ve+3]):s<=Ee[Ve+2]&&r<=Ee[Ve+3]&&l>=Ee[Ve+0]&&f>=Ee[Ve+1])?(W[Le]=!0,F.push(me[Le])):W[Le]=!1}}},il.prototype._forEachCell=function(s,r,l,f,S,F,W,ie){for(var le=this._convertToCellCoord(s),me=this._convertToCellCoord(r),Ee=this._convertToCellCoord(l),Oe=this._convertToCellCoord(f),Le=le;Le<=Ee;Le++)for(var Ve=me;Ve<=Oe;Ve++){var qe=this.d*Ve+Le;if((!ie||ie(this._convertFromCellCoord(Le),this._convertFromCellCoord(Ve),this._convertFromCellCoord(Le+1),this._convertFromCellCoord(Ve+1)))&&S.call(this,s,r,l,f,qe,F,W,ie))return}},il.prototype._convertFromCellCoord=function(s){return(s-this.padding)/this.scale},il.prototype._convertToCellCoord=function(s){return Math.max(0,Math.min(this.d-1,Math.floor(s*this.scale)+this.padding))},il.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var s=this.cells,r=3+this.cells.length+1+1,l=0,f=0;f<this.cells.length;f++)l+=this.cells[f].length;var S=new Int32Array(r+l+this.keys.length+this.bboxes.length);S[0]=this.extent,S[1]=this.n,S[2]=this.padding;for(var F=r,W=0;W<s.length;W++){var ie=s[W];S[3+W]=F,S.set(ie,F),F+=ie.length}return S[3+s.length]=F,S.set(this.keys,F),S[3+s.length+1]=F+=this.keys.length,S.set(this.bboxes,F),F+=this.bboxes.length,S.buffer};const Xc={};function ur(s,r,l={}){Object.defineProperty(s,"_classRegistryKey",{value:r,writeable:!1}),Xc[r]={klass:s,omit:l.omit||[]}}ur(Object,"Object"),lc.serialize=function(s,r){const l=s.toArrayBuffer();return r&&r.push(l),{buffer:l}},lc.deserialize=function(s){return new lc(s.buffer)},Object.defineProperty(lc,"name",{value:"Grid"}),ur(lc,"Grid"),ur(Hn,"Color"),ur(Error,"Error"),ur(Wt,"AJAXError"),ur(ma,"ResolvedImage"),ur(wa,"StylePropertyFunction"),ur(et,"StyleExpression",{omit:["_evaluator"]}),ur(gn,"ZoomDependentExpression"),ur(wr,"ZoomConstantExpression"),ur(Ha,"CompoundExpression",{omit:["_evaluate"]});for(const s in Gt)Xc[Gt[s]._classRegistryKey]||ur(Gt[s],`Expression${s}`);function gh(s){return s&&typeof ArrayBuffer<"u"&&(s instanceof ArrayBuffer||s.constructor&&s.constructor.name==="ArrayBuffer")}function yh(s){return k.ImageBitmap&&s instanceof k.ImageBitmap}function Ol(s,r){if(s==null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||s instanceof Boolean||s instanceof Number||s instanceof String||s instanceof Date||s instanceof RegExp)return s;if(gh(s)||yh(s))return r&&r.push(s),s;if(ArrayBuffer.isView(s)){const l=s;return r&&r.push(l.buffer),l}if(s instanceof k.ImageData)return r&&r.push(s.data.buffer),s;if(Array.isArray(s)){const l=[];for(const f of s)l.push(Ol(f,r));return l}if(typeof s=="object"){const l=s.constructor,f=l._classRegistryKey;if(!f)throw new Error(`can't serialize object of unregistered class ${f}`);const S=l.serialize?l.serialize(s,r):{};if(!l.serialize){for(const F in s)s.hasOwnProperty(F)&&(Xc[f].omit.indexOf(F)>=0||(S[F]=Ol(s[F],r)));s instanceof Error&&(S.message=s.message)}if(S.$name)throw new Error("$name property is reserved for worker serialization logic.");return f!=="Object"&&(S.$name=f),S}throw new Error("can't serialize object of type "+typeof s)}function kc(s){if(s==null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||s instanceof Boolean||s instanceof Number||s instanceof String||s instanceof Date||s instanceof RegExp||gh(s)||yh(s)||ArrayBuffer.isView(s)||s instanceof k.ImageData)return s;if(Array.isArray(s))return s.map(kc);if(typeof s=="object"){const r=s.$name||"Object",{klass:l}=Xc[r];if(!l)throw new Error(`can't deserialize unregistered class ${r}`);if(l.deserialize)return l.deserialize(s);const f=Object.create(l.prototype);for(const S of Object.keys(s))S!=="$name"&&(f[S]=kc(s[S]));return f}throw new Error("can't deserialize object of type "+typeof s)}const Eu=s=>s>=1536&&s<=1791,rl=s=>s>=1872&&s<=1919,Tu=s=>s>=2208&&s<=2303,Pu=s=>s>=11904&&s<=12031,Mu=s=>s>=12032&&s<=12255,Iu=s=>s>=12272&&s<=12287,cc=s=>s>=12288&&s<=12351,Gs=s=>s>=12352&&s<=12447,Zc=s=>s>=12448&&s<=12543,vh=s=>s>=12544&&s<=12591,bs=s=>s>=12704&&s<=12735,_h=s=>s>=12736&&s<=12783,bh=s=>s>=12784&&s<=12799,xh=s=>s>=12800&&s<=13055,wh=s=>s>=13056&&s<=13311,Sh=s=>s>=13312&&s<=19903,Kc=s=>s>=19968&&s<=40959,Ou=s=>s>=40960&&s<=42127,kh=s=>s>=42128&&s<=42191,Ru=s=>s>=44032&&s<=55215,Hl=s=>s>=63744&&s<=64255,D=s=>s>=64336&&s<=65023,c=s=>s>=65040&&s<=65055,b=s=>s>=65072&&s<=65103,V=s=>s>=65104&&s<=65135,Q=s=>s>=65136&&s<=65279,ae=s=>s>=65280&&s<=65519;function ve(s){for(const r of s)if(je(r.charCodeAt(0)))return!0;return!1}function ke(s){for(const r of s)if(!Te(r.charCodeAt(0)))return!1;return!0}function Te(s){return!(Eu(s)||rl(s)||Tu(s)||D(s)||Q(s))}function je(s){return!(s!==746&&s!==747&&(s<4352||!(bs(s)||vh(s)||b(s)&&!(s>=65097&&s<=65103)||Hl(s)||wh(s)||Pu(s)||_h(s)||!(!cc(s)||s>=12296&&s<=12305||s>=12308&&s<=12319||s===12336)||Sh(s)||Kc(s)||xh(s)||(r=>r>=12592&&r<=12687)(s)||(r=>r>=43360&&r<=43391)(s)||(r=>r>=55216&&r<=55295)(s)||(r=>r>=4352&&r<=4607)(s)||Ru(s)||Gs(s)||Iu(s)||(r=>r>=12688&&r<=12703)(s)||Mu(s)||bh(s)||Zc(s)&&s!==12540||!(!ae(s)||s===65288||s===65289||s===65293||s>=65306&&s<=65310||s===65339||s===65341||s===65343||s>=65371&&s<=65503||s===65507||s>=65512&&s<=65519)||!(!V(s)||s>=65112&&s<=65118||s>=65123&&s<=65126)||(r=>r>=5120&&r<=5759)(s)||(r=>r>=6320&&r<=6399)(s)||c(s)||(r=>r>=19904&&r<=19967)(s)||Ou(s)||kh(s))))}function Ne(s){return!(je(s)||function(r){return!!((l=>l>=128&&l<=255)(r)&&(r===167||r===169||r===174||r===177||r===188||r===189||r===190||r===215||r===247)||(l=>l>=8192&&l<=8303)(r)&&(r===8214||r===8224||r===8225||r===8240||r===8241||r===8251||r===8252||r===8258||r===8263||r===8264||r===8265||r===8273)||(l=>l>=8448&&l<=8527)(r)||(l=>l>=8528&&l<=8591)(r)||(l=>l>=8960&&l<=9215)(r)&&(r>=8960&&r<=8967||r>=8972&&r<=8991||r>=8996&&r<=9e3||r===9003||r>=9085&&r<=9114||r>=9150&&r<=9165||r===9167||r>=9169&&r<=9179||r>=9186&&r<=9215)||(l=>l>=9216&&l<=9279)(r)&&r!==9251||(l=>l>=9280&&l<=9311)(r)||(l=>l>=9312&&l<=9471)(r)||(l=>l>=9632&&l<=9727)(r)||(l=>l>=9728&&l<=9983)(r)&&!(r>=9754&&r<=9759)||(l=>l>=11008&&l<=11263)(r)&&(r>=11026&&r<=11055||r>=11088&&r<=11097||r>=11192&&r<=11243)||cc(r)||Zc(r)||(l=>l>=57344&&l<=63743)(r)||b(r)||V(r)||ae(r)||r===8734||r===8756||r===8757||r>=9984&&r<=10087||r>=10102&&r<=10131||r===65532||r===65533)}(s))}function Ye(s){return s>=1424&&s<=2303||D(s)||Q(s)}function lt(s,r){return!(!r&&Ye(s)||s>=2304&&s<=3583||s>=3840&&s<=4255||(l=>l>=6016&&l<=6143)(s))}function _t(s){for(const r of s)if(Ye(r.charCodeAt(0)))return!0;return!1}const bt="deferred",kt="loading",ft="loaded";let yt=null,Ct="unavailable",xt=null;const Rt=function(s){s&&typeof s=="string"&&s.indexOf("NetworkError")>-1&&(Ct="error"),yt&&yt(s)};function Ht(){zt.fire(new zn("pluginStateChange",{pluginStatus:Ct,pluginURL:xt}))}const zt=new In,Jt=function(){return Ct},yi=function(){if(Ct!==bt||!xt)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Ct=kt,Ht(),xt&&hi({url:xt},s=>{s?Rt(s):(Ct=ft,Ht())})},di={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Ct===ft||di.applyArabicShaping!=null,isLoading:()=>Ct===kt,setState(s){Ct=s.pluginStatus,xt=s.pluginURL},isParsed:()=>di.applyArabicShaping!=null&&di.processBidirectionalText!=null&&di.processStyledBidirectionalText!=null,getPluginURL:()=>xt};class ni{constructor(r,l){this.zoom=r,l?(this.now=l.now,this.fadeDuration=l.fadeDuration,this.transition=l.transition,this.pitch=l.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(r){return function(l,f){for(const S of l)if(!lt(S.charCodeAt(0),f))return!1;return!0}(r,di.isLoaded())}}class ji{constructor(r,l){this.property=r,this.value=l,this.expression=function(f,S){if(Mr(f))return new wa(f,S);if(Ot(f)){const F=Ta(f,S);if(F.result==="error")throw new Error(F.value.map(W=>`${W.key}: ${W.message}`).join(", "));return F.value}{let F=f;return typeof f=="string"&&S.type==="color"&&(F=Hn.parse(f)),{kind:"constant",evaluate:()=>F}}}(l===void 0?r.specification.default:l,r.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(r,l,f){return this.property.possiblyEvaluate(this,r,l,f)}}class ui{constructor(r){this.property=r,this.value=new ji(r,void 0)}transitioned(r,l){return new Si(this.property,this.value,l,ee({},r.transition,this.transition),r.now)}untransitioned(){return new Si(this.property,this.value,null,{},0)}}class Oi{constructor(r){this._properties=r,this._values=Object.create(r.defaultTransitionablePropertyValues)}getValue(r){return ge(this._values[r].value.value)}setValue(r,l){this._values.hasOwnProperty(r)||(this._values[r]=new ui(this._values[r].property)),this._values[r].value=new ji(this._values[r].property,l===null?void 0:ge(l))}getTransition(r){return ge(this._values[r].transition)}setTransition(r,l){this._values.hasOwnProperty(r)||(this._values[r]=new ui(this._values[r].property)),this._values[r].transition=ge(l)||void 0}serialize(){const r={};for(const l of Object.keys(this._values)){const f=this.getValue(l);f!==void 0&&(r[l]=f);const S=this.getTransition(l);S!==void 0&&(r[`${l}-transition`]=S)}return r}transitioned(r,l){const f=new Hi(this._properties);for(const S of Object.keys(this._values))f._values[S]=this._values[S].transitioned(r,l._values[S]);return f}untransitioned(){const r=new Hi(this._properties);for(const l of Object.keys(this._values))r._values[l]=this._values[l].untransitioned();return r}}class Si{constructor(r,l,f,S,F){const W=S.delay||0,ie=S.duration||0;F=F||0,this.property=r,this.value=l,this.begin=F+W,this.end=this.begin+ie,r.specification.transition&&(S.delay||S.duration)&&(this.prior=f)}possiblyEvaluate(r,l,f){const S=r.now||0,F=this.value.possiblyEvaluate(r,l,f),W=this.prior;if(W){if(S>this.end)return this.prior=null,F;if(this.value.isDataDriven())return this.prior=null,F;if(S<this.begin)return W.possiblyEvaluate(r,l,f);{const ie=(S-this.begin)/(this.end-this.begin);return this.property.interpolate(W.possiblyEvaluate(r,l,f),F,g(ie))}}return F}}class Hi{constructor(r){this._properties=r,this._values=Object.create(r.defaultTransitioningPropertyValues)}possiblyEvaluate(r,l,f){const S=new Yi(this._properties);for(const F of Object.keys(this._values))S._values[F]=this._values[F].possiblyEvaluate(r,l,f);return S}hasTransition(){for(const r of Object.keys(this._values))if(this._values[r].prior)return!0;return!1}}class Ai{constructor(r){this._properties=r,this._values=Object.create(r.defaultPropertyValues)}getValue(r){return ge(this._values[r].value)}setValue(r,l){this._values[r]=new ji(this._values[r].property,l===null?void 0:ge(l))}serialize(){const r={};for(const l of Object.keys(this._values)){const f=this.getValue(l);f!==void 0&&(r[l]=f)}return r}possiblyEvaluate(r,l,f){const S=new Yi(this._properties);for(const F of Object.keys(this._values))S._values[F]=this._values[F].possiblyEvaluate(r,l,f);return S}}class Bi{constructor(r,l,f){this.property=r,this.value=l,this.parameters=f}isConstant(){return this.value.kind==="constant"}constantOr(r){return this.value.kind==="constant"?this.value.value:r}evaluate(r,l,f,S){return this.property.evaluate(this.value,this.parameters,r,l,f,S)}}class Yi{constructor(r){this._properties=r,this._values=Object.create(r.defaultPossiblyEvaluatedValues)}get(r){return this._values[r]}}class ai{constructor(r){this.specification=r}possiblyEvaluate(r,l){return r.expression.evaluate(l)}interpolate(r,l,f){const S=ba[this.specification.type];return S?S(r,l,f):r}}class bi{constructor(r,l){this.specification=r,this.overrides=l}possiblyEvaluate(r,l,f,S){return new Bi(this,r.expression.kind==="constant"||r.expression.kind==="camera"?{kind:"constant",value:r.expression.evaluate(l,null,{},f,S)}:r.expression,l)}interpolate(r,l,f){if(r.value.kind!=="constant"||l.value.kind!=="constant")return r;if(r.value.value===void 0||l.value.value===void 0)return new Bi(this,{kind:"constant",value:void 0},r.parameters);const S=ba[this.specification.type];return S?new Bi(this,{kind:"constant",value:S(r.value.value,l.value.value,f)},r.parameters):r}evaluate(r,l,f,S,F,W){return r.kind==="constant"?r.value:r.evaluate(l,f,S,F,W)}}class vr{constructor(r){this.specification=r}possiblyEvaluate(r,l,f,S){return!!r.expression.evaluate(l,null,{},f,S)}interpolate(){return!1}}class Sr{constructor(r){this.properties=r,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const l=new ni(0,{});for(const f in r){const S=r[f];S.specification.overridable&&this.overridableProperties.push(f);const F=this.defaultPropertyValues[f]=new ji(S,void 0),W=this.defaultTransitionablePropertyValues[f]=new ui(S);this.defaultTransitioningPropertyValues[f]=W.untransitioned(),this.defaultPossiblyEvaluatedValues[f]=F.possiblyEvaluate(l)}}}function _r(s,r){return 256*(s=y(Math.floor(s),0,255))+y(Math.floor(r),0,255)}ur(bi,"DataDrivenProperty"),ur(ai,"DataConstantProperty"),ur(vr,"ColorRampProperty");const Lr={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class on{constructor(r,l){this._structArray=r,this._pos1=l*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Ar{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(r,l){return r._trim(),l&&(r.isTransferred=!0,l.push(r.arrayBuffer)),{length:r.length,arrayBuffer:r.arrayBuffer}}static deserialize(r){const l=Object.create(this.prototype);return l.arrayBuffer=r.arrayBuffer,l.length=r.length,l.capacity=r.arrayBuffer.byteLength/l.bytesPerElement,l._refreshViews(),l}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(r){this.reserve(r),this.length=r}reserve(r){if(r>this.capacity){this.capacity=Math.max(r,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const l=this.uint8;this._refreshViews(),l&&this.uint8.set(l)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function mr(s,r=1){let l=0,f=0;return{members:s.map(S=>{const F=Lr[S.type].BYTES_PER_ELEMENT,W=l=jn(l,Math.max(r,F)),ie=S.components||1;return f=Math.max(f,F),l+=F*ie,{name:S.name,type:S.type,components:ie,offset:W}}),size:jn(l,Math.max(f,r)),alignment:r}}function jn(s,r){return Math.ceil(s/r)*r}class Mn extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l){const f=this.length;return this.resize(f+1),this.emplace(f,r,l)}emplace(r,l,f){const S=2*r;return this.int16[S+0]=l,this.int16[S+1]=f,r}}Mn.prototype.bytesPerElement=4,ur(Mn,"StructArrayLayout2i4");class Gn extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l,f){const S=this.length;return this.resize(S+1),this.emplace(S,r,l,f)}emplace(r,l,f,S){const F=3*r;return this.int16[F+0]=l,this.int16[F+1]=f,this.int16[F+2]=S,r}}Gn.prototype.bytesPerElement=6,ur(Gn,"StructArrayLayout3i6");class Bn extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l,f,S){const F=this.length;return this.resize(F+1),this.emplace(F,r,l,f,S)}emplace(r,l,f,S,F){const W=4*r;return this.int16[W+0]=l,this.int16[W+1]=f,this.int16[W+2]=S,this.int16[W+3]=F,r}}Bn.prototype.bytesPerElement=8,ur(Bn,"StructArrayLayout4i8");class ns extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,f,S,F,W,ie){const le=this.length;return this.resize(le+1),this.emplace(le,r,l,f,S,F,W,ie)}emplace(r,l,f,S,F,W,ie,le){const me=6*r,Ee=12*r,Oe=3*r;return this.int16[me+0]=l,this.int16[me+1]=f,this.uint8[Ee+4]=S,this.uint8[Ee+5]=F,this.uint8[Ee+6]=W,this.uint8[Ee+7]=ie,this.float32[Oe+2]=le,r}}ns.prototype.bytesPerElement=12,ur(ns,"StructArrayLayout2i4ub1f12");class jo extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,f,S){const F=this.length;return this.resize(F+1),this.emplace(F,r,l,f,S)}emplace(r,l,f,S,F){const W=4*r;return this.float32[W+0]=l,this.float32[W+1]=f,this.float32[W+2]=S,this.float32[W+3]=F,r}}jo.prototype.bytesPerElement=16,ur(jo,"StructArrayLayout4f16");class Po extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,f,S,F){const W=this.length;return this.resize(W+1),this.emplace(W,r,l,f,S,F)}emplace(r,l,f,S,F,W){const ie=6*r,le=3*r;return this.uint16[ie+0]=l,this.uint16[ie+1]=f,this.uint16[ie+2]=S,this.uint16[ie+3]=F,this.float32[le+2]=W,r}}Po.prototype.bytesPerElement=12,ur(Po,"StructArrayLayout4ui1f12");class Hs extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l,f,S){const F=this.length;return this.resize(F+1),this.emplace(F,r,l,f,S)}emplace(r,l,f,S,F){const W=4*r;return this.uint16[W+0]=l,this.uint16[W+1]=f,this.uint16[W+2]=S,this.uint16[W+3]=F,r}}Hs.prototype.bytesPerElement=8,ur(Hs,"StructArrayLayout4ui8");class Zn extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l,f,S,F,W){const ie=this.length;return this.resize(ie+1),this.emplace(ie,r,l,f,S,F,W)}emplace(r,l,f,S,F,W,ie){const le=6*r;return this.int16[le+0]=l,this.int16[le+1]=f,this.int16[le+2]=S,this.int16[le+3]=F,this.int16[le+4]=W,this.int16[le+5]=ie,r}}Zn.prototype.bytesPerElement=12,ur(Zn,"StructArrayLayout6i12");class Fn extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l,f,S,F,W,ie,le,me,Ee,Oe,Le){const Ve=this.length;return this.resize(Ve+1),this.emplace(Ve,r,l,f,S,F,W,ie,le,me,Ee,Oe,Le)}emplace(r,l,f,S,F,W,ie,le,me,Ee,Oe,Le,Ve){const qe=12*r;return this.int16[qe+0]=l,this.int16[qe+1]=f,this.int16[qe+2]=S,this.int16[qe+3]=F,this.uint16[qe+4]=W,this.uint16[qe+5]=ie,this.uint16[qe+6]=le,this.uint16[qe+7]=me,this.int16[qe+8]=Ee,this.int16[qe+9]=Oe,this.int16[qe+10]=Le,this.int16[qe+11]=Ve,r}}Fn.prototype.bytesPerElement=24,ur(Fn,"StructArrayLayout4i4ui4i24");class Tn extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,f,S,F,W){const ie=this.length;return this.resize(ie+1),this.emplace(ie,r,l,f,S,F,W)}emplace(r,l,f,S,F,W,ie){const le=10*r,me=5*r;return this.int16[le+0]=l,this.int16[le+1]=f,this.int16[le+2]=S,this.float32[me+2]=F,this.float32[me+3]=W,this.float32[me+4]=ie,r}}Tn.prototype.bytesPerElement=20,ur(Tn,"StructArrayLayout3i3f20");class Pa extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(r){const l=this.length;return this.resize(l+1),this.emplace(l,r)}emplace(r,l){return this.uint32[1*r+0]=l,r}}Pa.prototype.bytesPerElement=4,ur(Pa,"StructArrayLayout1ul4");class vo extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l,f,S,F,W,ie,le,me,Ee,Oe,Le,Ve){const qe=this.length;return this.resize(qe+1),this.emplace(qe,r,l,f,S,F,W,ie,le,me,Ee,Oe,Le,Ve)}emplace(r,l,f,S,F,W,ie,le,me,Ee,Oe,Le,Ve,qe){const rt=20*r,pt=10*r;return this.int16[rt+0]=l,this.int16[rt+1]=f,this.int16[rt+2]=S,this.int16[rt+3]=F,this.int16[rt+4]=W,this.float32[pt+3]=ie,this.float32[pt+4]=le,this.float32[pt+5]=me,this.float32[pt+6]=Ee,this.int16[rt+14]=Oe,this.uint32[pt+8]=Le,this.uint16[rt+18]=Ve,this.uint16[rt+19]=qe,r}}vo.prototype.bytesPerElement=40,ur(vo,"StructArrayLayout5i4f1i1ul2ui40");class Kn extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l,f,S,F,W,ie){const le=this.length;return this.resize(le+1),this.emplace(le,r,l,f,S,F,W,ie)}emplace(r,l,f,S,F,W,ie,le){const me=8*r;return this.int16[me+0]=l,this.int16[me+1]=f,this.int16[me+2]=S,this.int16[me+4]=F,this.int16[me+5]=W,this.int16[me+6]=ie,this.int16[me+7]=le,r}}Kn.prototype.bytesPerElement=16,ur(Kn,"StructArrayLayout3i2i2i16");class Mo extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l,f,S,F){const W=this.length;return this.resize(W+1),this.emplace(W,r,l,f,S,F)}emplace(r,l,f,S,F,W){const ie=4*r,le=8*r;return this.float32[ie+0]=l,this.float32[ie+1]=f,this.float32[ie+2]=S,this.int16[le+6]=F,this.int16[le+7]=W,r}}Mo.prototype.bytesPerElement=16,ur(Mo,"StructArrayLayout2f1f2i16");class Ac extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,f,S){const F=this.length;return this.resize(F+1),this.emplace(F,r,l,f,S)}emplace(r,l,f,S,F){const W=12*r,ie=3*r;return this.uint8[W+0]=l,this.uint8[W+1]=f,this.float32[ie+1]=S,this.float32[ie+2]=F,r}}Ac.prototype.bytesPerElement=12,ur(Ac,"StructArrayLayout2ub2f12");class qs extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,f){const S=this.length;return this.resize(S+1),this.emplace(S,r,l,f)}emplace(r,l,f,S){const F=3*r;return this.float32[F+0]=l,this.float32[F+1]=f,this.float32[F+2]=S,r}}qs.prototype.bytesPerElement=12,ur(qs,"StructArrayLayout3f12");class _o extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l,f){const S=this.length;return this.resize(S+1),this.emplace(S,r,l,f)}emplace(r,l,f,S){const F=3*r;return this.uint16[F+0]=l,this.uint16[F+1]=f,this.uint16[F+2]=S,r}}_o.prototype.bytesPerElement=6,ur(_o,"StructArrayLayout3ui6");class os extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(r,l,f,S,F,W,ie,le,me,Ee,Oe,Le,Ve,qe,rt,pt,Mt,Ut,Pt,Dt,qt){const $t=this.length;return this.resize($t+1),this.emplace($t,r,l,f,S,F,W,ie,le,me,Ee,Oe,Le,Ve,qe,rt,pt,Mt,Ut,Pt,Dt,qt)}emplace(r,l,f,S,F,W,ie,le,me,Ee,Oe,Le,Ve,qe,rt,pt,Mt,Ut,Pt,Dt,qt,$t){const gi=30*r,pi=15*r,Ri=60*r;return this.int16[gi+0]=l,this.int16[gi+1]=f,this.int16[gi+2]=S,this.float32[pi+2]=F,this.float32[pi+3]=W,this.uint16[gi+8]=ie,this.uint16[gi+9]=le,this.uint32[pi+5]=me,this.uint32[pi+6]=Ee,this.uint32[pi+7]=Oe,this.uint16[gi+16]=Le,this.uint16[gi+17]=Ve,this.uint16[gi+18]=qe,this.float32[pi+10]=rt,this.float32[pi+11]=pt,this.uint8[Ri+48]=Mt,this.uint8[Ri+49]=Ut,this.uint8[Ri+50]=Pt,this.uint32[pi+13]=Dt,this.int16[gi+28]=qt,this.uint8[Ri+58]=$t,r}}os.prototype.bytesPerElement=60,ur(os,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class nl extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(r,l,f,S,F,W,ie,le,me,Ee,Oe,Le,Ve,qe,rt,pt,Mt,Ut,Pt,Dt,qt,$t,gi,pi,Ri,Xi,Ci,Di,Fi,Gi){const Zi=this.length;return this.resize(Zi+1),this.emplace(Zi,r,l,f,S,F,W,ie,le,me,Ee,Oe,Le,Ve,qe,rt,pt,Mt,Ut,Pt,Dt,qt,$t,gi,pi,Ri,Xi,Ci,Di,Fi,Gi)}emplace(r,l,f,S,F,W,ie,le,me,Ee,Oe,Le,Ve,qe,rt,pt,Mt,Ut,Pt,Dt,qt,$t,gi,pi,Ri,Xi,Ci,Di,Fi,Gi,Zi){const Ti=38*r,sr=19*r;return this.int16[Ti+0]=l,this.int16[Ti+1]=f,this.int16[Ti+2]=S,this.float32[sr+2]=F,this.float32[sr+3]=W,this.int16[Ti+8]=ie,this.int16[Ti+9]=le,this.int16[Ti+10]=me,this.int16[Ti+11]=Ee,this.int16[Ti+12]=Oe,this.int16[Ti+13]=Le,this.uint16[Ti+14]=Ve,this.uint16[Ti+15]=qe,this.uint16[Ti+16]=rt,this.uint16[Ti+17]=pt,this.uint16[Ti+18]=Mt,this.uint16[Ti+19]=Ut,this.uint16[Ti+20]=Pt,this.uint16[Ti+21]=Dt,this.uint16[Ti+22]=qt,this.uint16[Ti+23]=$t,this.uint16[Ti+24]=gi,this.uint16[Ti+25]=pi,this.uint16[Ti+26]=Ri,this.uint16[Ti+27]=Xi,this.uint16[Ti+28]=Ci,this.uint32[sr+15]=Di,this.float32[sr+16]=Fi,this.float32[sr+17]=Gi,this.float32[sr+18]=Zi,r}}nl.prototype.bytesPerElement=76,ur(nl,"StructArrayLayout3i2f6i15ui1ul3f76");class Os extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r){const l=this.length;return this.resize(l+1),this.emplace(l,r)}emplace(r,l){return this.float32[1*r+0]=l,r}}Os.prototype.bytesPerElement=4,ur(Os,"StructArrayLayout1f4");class dn extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,f,S,F){const W=this.length;return this.resize(W+1),this.emplace(W,r,l,f,S,F)}emplace(r,l,f,S,F,W){const ie=5*r;return this.float32[ie+0]=l,this.float32[ie+1]=f,this.float32[ie+2]=S,this.float32[ie+3]=F,this.float32[ie+4]=W,r}}dn.prototype.bytesPerElement=20,ur(dn,"StructArrayLayout5f20");class uc extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l,f,S){const F=this.length;return this.resize(F+1),this.emplace(F,r,l,f,S)}emplace(r,l,f,S,F){const W=6*r;return this.uint32[3*r+0]=l,this.uint16[W+2]=f,this.uint16[W+3]=S,this.uint16[W+4]=F,r}}uc.prototype.bytesPerElement=12,ur(uc,"StructArrayLayout1ul3ui12");class al extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l){const f=this.length;return this.resize(f+1),this.emplace(f,r,l)}emplace(r,l,f){const S=2*r;return this.uint16[S+0]=l,this.uint16[S+1]=f,r}}al.prototype.bytesPerElement=4,ur(al,"StructArrayLayout2ui4");class ql extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r){const l=this.length;return this.resize(l+1),this.emplace(l,r)}emplace(r,l){return this.uint16[1*r+0]=l,r}}ql.prototype.bytesPerElement=2,ur(ql,"StructArrayLayout1ui2");class Du extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l){const f=this.length;return this.resize(f+1),this.emplace(f,r,l)}emplace(r,l,f){const S=2*r;return this.float32[S+0]=l,this.float32[S+1]=f,r}}Du.prototype.bytesPerElement=8,ur(Du,"StructArrayLayout2f8");class Vf extends on{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Vf.prototype.size=40;class _d extends vo{get(r){return new Vf(this,r)}}ur(_d,"CollisionBoxArray");class Ws extends on{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(r){this._structArray.uint8[this._pos1+49]=r}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(r){this._structArray.uint8[this._pos1+50]=r}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(r){this._structArray.uint32[this._pos4+13]=r}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(r){this._structArray.uint8[this._pos1+58]=r}}Ws.prototype.size=60;class Gf extends os{get(r){return new Ws(this,r)}}ur(Gf,"PlacedSymbolArray");class Lu extends on{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(r){this._structArray.uint32[this._pos4+15]=r}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}Lu.prototype.size=76;class Ah extends nl{get(r){return new Lu(this,r)}}ur(Ah,"SymbolInstanceArray");class bd extends Os{getoffsetX(r){return this.float32[1*r+0]}}ur(bd,"GlyphOffsetArray");class xd extends Mn{getx(r){return this.int16[2*r+0]}gety(r){return this.int16[2*r+1]}}ur(xd,"SymbolLineVertexArray");class Rs extends on{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Rs.prototype.size=12;class Wl extends uc{get(r){return new Rs(this,r)}}ur(Wl,"FeatureIndexArray");class Ch extends al{geta_centroid_pos0(r){return this.uint16[2*r+0]}geta_centroid_pos1(r){return this.uint16[2*r+1]}}ur(Ch,"FillExtrusionCentroidArray");const Hf=mr([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),Eh=mr([{name:"a_dash",components:4,type:"Uint16"}]);var Cc={exports:{}},Th={exports:{}};Th.exports=function(s,r){var l,f,S,F,W,ie,le,me;for(f=s.length-(l=3&s.length),S=r,W=3432918353,ie=461845907,me=0;me<f;)le=255&s.charCodeAt(me)|(255&s.charCodeAt(++me))<<8|(255&s.charCodeAt(++me))<<16|(255&s.charCodeAt(++me))<<24,++me,S=27492+(65535&(F=5*(65535&(S=(S^=le=(65535&(le=(le=(65535&le)*W+(((le>>>16)*W&65535)<<16)&4294967295)<<15|le>>>17))*ie+(((le>>>16)*ie&65535)<<16)&4294967295)<<13|S>>>19))+((5*(S>>>16)&65535)<<16)&4294967295))+((58964+(F>>>16)&65535)<<16);switch(le=0,l){case 3:le^=(255&s.charCodeAt(me+2))<<16;case 2:le^=(255&s.charCodeAt(me+1))<<8;case 1:S^=le=(65535&(le=(le=(65535&(le^=255&s.charCodeAt(me)))*W+(((le>>>16)*W&65535)<<16)&4294967295)<<15|le>>>17))*ie+(((le>>>16)*ie&65535)<<16)&4294967295}return S^=s.length,S=2246822507*(65535&(S^=S>>>16))+((2246822507*(S>>>16)&65535)<<16)&4294967295,S=3266489909*(65535&(S^=S>>>13))+((3266489909*(S>>>16)&65535)<<16)&4294967295,(S^=S>>>16)>>>0};var wd={exports:{}};wd.exports=function(s,r){for(var l,f=s.length,S=r^f,F=0;f>=4;)l=1540483477*(65535&(l=255&s.charCodeAt(F)|(255&s.charCodeAt(++F))<<8|(255&s.charCodeAt(++F))<<16|(255&s.charCodeAt(++F))<<24))+((1540483477*(l>>>16)&65535)<<16),S=1540483477*(65535&S)+((1540483477*(S>>>16)&65535)<<16)^(l=1540483477*(65535&(l^=l>>>24))+((1540483477*(l>>>16)&65535)<<16)),f-=4,++F;switch(f){case 3:S^=(255&s.charCodeAt(F+2))<<16;case 2:S^=(255&s.charCodeAt(F+1))<<8;case 1:S=1540483477*(65535&(S^=255&s.charCodeAt(F)))+((1540483477*(S>>>16)&65535)<<16)}return S=1540483477*(65535&(S^=S>>>13))+((1540483477*(S>>>16)&65535)<<16),(S^=S>>>15)>>>0};var Ph=Th.exports,Sd=wd.exports;Cc.exports=Ph,Cc.exports.murmur3=Ph,Cc.exports.murmur2=Sd;class _l{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(r,l,f,S){this.ids.push(qf(r)),this.positions.push(l,f,S)}getPositions(r){const l=qf(r);let f=0,S=this.ids.length-1;for(;f<S;){const W=f+S>>1;this.ids[W]>=l?S=W:f=W+1}const F=[];for(;this.ids[f]===l;)F.push({index:this.positions[3*f],start:this.positions[3*f+1],end:this.positions[3*f+2]}),f++;return F}static serialize(r,l){const f=new Float64Array(r.ids),S=new Uint32Array(r.positions);return Rl(f,S,0,f.length-1),l&&l.push(f.buffer,S.buffer),{ids:f,positions:S}}static deserialize(r){const l=new _l;return l.ids=r.ids,l.positions=r.positions,l.indexed=!0,l}}function qf(s){const r=+s;return!isNaN(r)&&Number.MIN_SAFE_INTEGER<=r&&r<=Number.MAX_SAFE_INTEGER?r:Cc.exports(String(s))}function Rl(s,r,l,f){for(;l<f;){const S=s[l+f>>1];let F=l-1,W=f+1;for(;;){do F++;while(s[F]<S);do W--;while(s[W]>S);if(F>=W)break;Bu(s,F,W),Bu(r,3*F,3*W),Bu(r,3*F+1,3*W+1),Bu(r,3*F+2,3*W+2)}W-l<f-W?(Rl(s,r,l,W),l=W+1):(Rl(s,r,W+1,f),f=W)}}function Bu(s,r,l){const f=s[r];s[r]=s[l],s[l]=f}ur(_l,"FeaturePositionMap");class Dl{constructor(r){this.gl=r.gl,this.initialized=!1}fetchUniformLocation(r,l){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(r,l),this.initialized=!0),!!this.location}}class Jc extends Dl{constructor(r){super(r),this.current=0}set(r,l,f){this.fetchUniformLocation(r,l)&&this.current!==f&&(this.current=f,this.gl.uniform1f(this.location,f))}}class Wf extends Dl{constructor(r){super(r),this.current=[0,0,0,0]}set(r,l,f){this.fetchUniformLocation(r,l)&&(f[0]===this.current[0]&&f[1]===this.current[1]&&f[2]===this.current[2]&&f[3]===this.current[3]||(this.current=f,this.gl.uniform4f(this.location,f[0],f[1],f[2],f[3])))}}class Yf extends Dl{constructor(r){super(r),this.current=Hn.transparent}set(r,l,f){this.fetchUniformLocation(r,l)&&(f.r===this.current.r&&f.g===this.current.g&&f.b===this.current.b&&f.a===this.current.a||(this.current=f,this.gl.uniform4f(this.location,f.r,f.g,f.b,f.a)))}}const u0=new Float32Array(16),Xf=new Float32Array(9),Zf=new Float32Array(4);function kd(s){return[_r(255*s.r,255*s.g),_r(255*s.b,255*s.a)]}class Qc{constructor(r,l,f){this.value=r,this.uniformNames=l.map(S=>`u_${S}`),this.type=f}setUniform(r,l,f,S,F){l.set(r,F,S.constantOr(this.value))}getBinding(r,l){return this.type==="color"?new Yf(r):new Jc(r)}}class Ec{constructor(r,l){this.uniformNames=l.map(f=>`u_${f}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(r){this.pixelRatio=r.pixelRatio||1,this.pattern=r.tl.concat(r.br)}setUniform(r,l,f,S,F){const W=F==="u_pattern"||F==="u_dash"?this.pattern:F==="u_pixel_ratio"?this.pixelRatio:null;W&&l.set(r,F,W)}getBinding(r,l){return l==="u_pattern"||l==="u_dash"?new Wf(r):new Jc(r)}}class Ja{constructor(r,l,f,S){this.expression=r,this.type=f,this.maxValue=0,this.paintVertexAttributes=l.map(F=>({name:`a_${F}`,type:"Float32",components:f==="color"?2:1,offset:0})),this.paintVertexArray=new S}populatePaintArray(r,l,f,S,F,W){const ie=this.paintVertexArray.length,le=this.expression.evaluate(new ni(0),l,{},F,S,W);this.paintVertexArray.resize(r),this._setPaintValue(ie,r,le)}updatePaintArray(r,l,f,S,F){const W=this.expression.evaluate({zoom:0},f,S,void 0,F);this._setPaintValue(r,l,W)}_setPaintValue(r,l,f){if(this.type==="color"){const S=kd(f);for(let F=r;F<l;F++)this.paintVertexArray.emplace(F,S[0],S[1])}else{for(let S=r;S<l;S++)this.paintVertexArray.emplace(S,f);this.maxValue=Math.max(this.maxValue,Math.abs(f))}}upload(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class po{constructor(r,l,f,S,F,W){this.expression=r,this.uniformNames=l.map(ie=>`u_${ie}_t`),this.type=f,this.useIntegerZoom=S,this.zoom=F,this.maxValue=0,this.paintVertexAttributes=l.map(ie=>({name:`a_${ie}`,type:"Float32",components:f==="color"?4:2,offset:0})),this.paintVertexArray=new W}populatePaintArray(r,l,f,S,F,W){const ie=this.expression.evaluate(new ni(this.zoom),l,{},F,S,W),le=this.expression.evaluate(new ni(this.zoom+1),l,{},F,S,W),me=this.paintVertexArray.length;this.paintVertexArray.resize(r),this._setPaintValue(me,r,ie,le)}updatePaintArray(r,l,f,S,F){const W=this.expression.evaluate({zoom:this.zoom},f,S,void 0,F),ie=this.expression.evaluate({zoom:this.zoom+1},f,S,void 0,F);this._setPaintValue(r,l,W,ie)}_setPaintValue(r,l,f,S){if(this.type==="color"){const F=kd(f),W=kd(S);for(let ie=r;ie<l;ie++)this.paintVertexArray.emplace(ie,F[0],F[1],W[0],W[1])}else{for(let F=r;F<l;F++)this.paintVertexArray.emplace(F,f,S);this.maxValue=Math.max(this.maxValue,Math.abs(f),Math.abs(S))}}upload(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(r,l,f,S,F){const W=this.useIntegerZoom?Math.floor(f.zoom):f.zoom,ie=y(this.expression.interpolationFactor(W,this.zoom,this.zoom+1),0,1);l.set(r,F,ie)}getBinding(r,l){return new Jc(r)}}class hc{constructor(r,l,f,S,F){this.expression=r,this.layerId=F,this.paintVertexAttributes=(f==="array"?Eh:Hf).members;for(let W=0;W<l.length;++W);this.paintVertexArray=new S}populatePaintArray(r,l,f){const S=this.paintVertexArray.length;this.paintVertexArray.resize(r),this._setPaintValues(S,r,l.patterns&&l.patterns[this.layerId],f)}updatePaintArray(r,l,f,S,F,W){this._setPaintValues(r,l,f.patterns&&f.patterns[this.layerId],W)}_setPaintValues(r,l,f,S){if(!S||!f)return;const F=S[f];if(!F)return;const{tl:W,br:ie,pixelRatio:le}=F;for(let me=r;me<l;me++)this.paintVertexArray.emplace(me,W[0],W[1],ie[0],ie[1],le)}upload(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class dc{constructor(r,l,f=()=>!0){this.binders={},this._buffers=[];const S=[];for(const F in r.paint._values){if(!f(F))continue;const W=r.paint.get(F);if(!(W instanceof Bi&&wi(W.property.specification)))continue;const ie=Kf(F,r.type),le=W.value,me=W.property.specification.type,Ee=W.property.useIntegerZoom,Oe=F==="line-dasharray"||F.endsWith("pattern"),Le=F==="line-dasharray"&&r.layout.get("line-cap").value.kind!=="constant";if(le.kind!=="constant"||Le)if(le.kind==="source"||Le||Oe){const Ve=Ad(F,me,"source");this.binders[F]=Oe?new hc(le,ie,me,Ve,r.id):new Ja(le,ie,me,Ve),S.push(`/a_${F}`)}else{const Ve=Ad(F,me,"composite");this.binders[F]=new po(le,ie,me,Ee,l,Ve),S.push(`/z_${F}`)}else this.binders[F]=Oe?new Ec(le.value,ie):new Qc(le.value,ie,me),S.push(`/u_${F}`)}this.cacheKey=S.sort().join("")}getMaxValue(r){const l=this.binders[r];return l instanceof Ja||l instanceof po?l.maxValue:0}populatePaintArrays(r,l,f,S,F,W){for(const ie in this.binders){const le=this.binders[ie];(le instanceof Ja||le instanceof po||le instanceof hc)&&le.populatePaintArray(r,l,f,S,F,W)}}setConstantPatternPositions(r){for(const l in this.binders){const f=this.binders[l];f instanceof Ec&&f.setConstantPatternPositions(r)}}updatePaintArrays(r,l,f,S,F,W){let ie=!1;for(const le in r){const me=l.getPositions(le);for(const Ee of me){const Oe=f.feature(Ee.index);for(const Le in this.binders){const Ve=this.binders[Le];if((Ve instanceof Ja||Ve instanceof po||Ve instanceof hc)&&Ve.expression.isStateDependent===!0){const qe=S.paint.get(Le);Ve.expression=qe.value,Ve.updatePaintArray(Ee.start,Ee.end,Oe,r[le],F,W),ie=!0}}}}return ie}defines(){const r=[];for(const l in this.binders){const f=this.binders[l];(f instanceof Qc||f instanceof Ec)&&r.push(...f.uniformNames.map(S=>`#define HAS_UNIFORM_${S}`))}return r}getBinderAttributes(){const r=[];for(const l in this.binders){const f=this.binders[l];if(f instanceof Ja||f instanceof po||f instanceof hc)for(let S=0;S<f.paintVertexAttributes.length;S++)r.push(f.paintVertexAttributes[S].name)}return r}getBinderUniforms(){const r=[];for(const l in this.binders){const f=this.binders[l];if(f instanceof Qc||f instanceof Ec||f instanceof po)for(const S of f.uniformNames)r.push(S)}return r}getPaintVertexBuffers(){return this._buffers}getUniforms(r){const l=[];for(const f in this.binders){const S=this.binders[f];if(S instanceof Qc||S instanceof Ec||S instanceof po)for(const F of S.uniformNames)l.push({name:F,property:f,binding:S.getBinding(r,F)})}return l}setUniforms(r,l,f,S,F){for(const{name:W,property:ie,binding:le}of f)this.binders[ie].setUniform(r,le,F,S.get(ie),W)}updatePaintBuffers(){this._buffers=[];for(const r in this.binders){const l=this.binders[r];(l instanceof Ja||l instanceof po||l instanceof hc)&&l.paintVertexBuffer&&this._buffers.push(l.paintVertexBuffer)}}upload(r){for(const l in this.binders){const f=this.binders[l];(f instanceof Ja||f instanceof po||f instanceof hc)&&f.upload(r)}this.updatePaintBuffers()}destroy(){for(const r in this.binders){const l=this.binders[r];(l instanceof Ja||l instanceof po||l instanceof hc)&&l.destroy()}}}class Ll{constructor(r,l,f=()=>!0){this.programConfigurations={};for(const S of r)this.programConfigurations[S.id]=new dc(S,l,f);this.needsUpload=!1,this._featureMap=new _l,this._bufferOffset=0}populatePaintArrays(r,l,f,S,F,W,ie){for(const le in this.programConfigurations)this.programConfigurations[le].populatePaintArrays(r,l,S,F,W,ie);l.id!==void 0&&this._featureMap.add(l.id,f,this._bufferOffset,r),this._bufferOffset=r,this.needsUpload=!0}updatePaintArrays(r,l,f,S,F){for(const W of f)this.needsUpload=this.programConfigurations[W.id].updatePaintArrays(r,this._featureMap,l,W,S,F)||this.needsUpload}get(r){return this.programConfigurations[r]}upload(r){if(this.needsUpload){for(const l in this.programConfigurations)this.programConfigurations[l].upload(r);this.needsUpload=!1}}destroy(){for(const r in this.programConfigurations)this.programConfigurations[r].destroy()}}const eu={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function Kf(s,r){return eu[s]||[s.replace(`${r}-`,"").replace(/-/g,"_")]}const Jf={"line-pattern":{source:Po,composite:Po},"fill-pattern":{source:Po,composite:Po},"fill-extrusion-pattern":{source:Po,composite:Po},"line-dasharray":{source:Hs,composite:Hs}},h0={color:{source:Du,composite:jo},number:{source:Os,composite:Du}};function Ad(s,r,l){const f=Jf[s];return f&&f[l]||h0[r][l]}ur(Qc,"ConstantBinder"),ur(Ec,"PatternConstantBinder"),ur(Ja,"SourceExpressionBinder"),ur(hc,"PatternCompositeBinder"),ur(po,"CompositeExpressionBinder"),ur(dc,"ProgramConfiguration",{omit:["_buffers"]}),ur(Ll,"ProgramConfigurationSet");const Yl="-transition";class xs extends In{constructor(r,l){if(super(),this.id=r.id,this.type=r.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,r.type!=="custom"&&(this.metadata=r.metadata,this.minzoom=r.minzoom,this.maxzoom=r.maxzoom,r.type!=="background"&&r.type!=="sky"&&(this.source=r.source,this.sourceLayer=r["source-layer"],this.filter=r.filter),l.layout&&(this._unevaluatedLayout=new Ai(l.layout)),l.paint)){this._transitionablePaint=new Oi(l.paint);for(const f in r.paint)this.setPaintProperty(f,r.paint[f],{validate:!1});for(const f in r.layout)this.setLayoutProperty(f,r.layout[f],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Yi(l.paint)}}getLayoutProperty(r){return r==="visibility"?this.visibility:this._unevaluatedLayout.getValue(r)}setLayoutProperty(r,l,f={}){l!=null&&this._validate(Gl,`layers.${this.id}.layout.${r}`,r,l,f)||(r!=="visibility"?this._unevaluatedLayout.setValue(r,l):this.visibility=l)}getPaintProperty(r){return ue(r,Yl)?this._transitionablePaint.getTransition(r.slice(0,-Yl.length)):this._transitionablePaint.getValue(r)}setPaintProperty(r,l,f={}){if(l!=null&&this._validate(vd,`layers.${this.id}.paint.${r}`,r,l,f))return!1;if(ue(r,Yl))return this._transitionablePaint.setTransition(r.slice(0,-Yl.length),l||void 0),!1;{const S=this._transitionablePaint._values[r],F=S.value.isDataDriven(),W=S.value;this._transitionablePaint.setValue(r,l),this._handleSpecialPaintPropertyUpdate(r);const ie=this._transitionablePaint._values[r].value,le=ie.isDataDriven(),me=ue(r,"pattern")||r==="line-dasharray";return le||F||me||this._handleOverridablePaintPropertyUpdate(r,W,ie)}}_handleSpecialPaintPropertyUpdate(r){}getProgramIds(){return null}getProgramConfiguration(r){return null}_handleOverridablePaintPropertyUpdate(r,l,f){return!1}isHidden(r){return!!(this.minzoom&&r<this.minzoom)||!!(this.maxzoom&&r>=this.maxzoom)||this.visibility==="none"}updateTransitions(r){this._transitioningPaint=this._transitionablePaint.transitioned(r,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(r,l){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(r,void 0,l)),this.paint=this._transitioningPaint.possiblyEvaluate(r,void 0,l)}serialize(){const r={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(r.layout=r.layout||{},r.layout.visibility=this.visibility),te(r,(l,f)=>!(l===void 0||f==="layout"&&!Object.keys(l).length||f==="paint"&&!Object.keys(l).length))}_validate(r,l,f,S,F={}){return(!F||F.validate!==!1)&&mh(this,r.call(Cu,{key:l,layerType:this.type,objectKey:f,value:S,styleSpec:ki,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const r in this.paint._values){const l=this.paint.get(r);if(l instanceof Bi&&wi(l.property.specification)&&(l.value.kind==="source"||l.value.kind==="composite")&&l.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=Sa(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const d0=mr([{name:"a_pos",components:2,type:"Int16"}],4),Qf=mr([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class za{constructor(r=[]){this.segments=r}prepareSegment(r,l,f,S){let F=this.segments[this.segments.length-1];return r>za.MAX_VERTEX_ARRAY_LENGTH&&ce(`Max vertices per segment is ${za.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${r}`),(!F||F.vertexLength+r>za.MAX_VERTEX_ARRAY_LENGTH||F.sortKey!==S)&&(F={vertexOffset:l.length,primitiveOffset:f.length,vertexLength:0,primitiveLength:0},S!==void 0&&(F.sortKey=S),this.segments.push(F)),F}get(){return this.segments}destroy(){for(const r of this.segments)for(const l in r.vaos)r.vaos[l].destroy()}static simpleSegment(r,l,f,S){return new za([{vertexOffset:r,primitiveOffset:l,vertexLength:f,primitiveLength:S,vaos:{},sortKey:0}])}}za.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ur(za,"SegmentVector");var Pr=8192;class Xl{constructor(r,l){r&&(l?this.setSouthWest(r).setNorthEast(l):r.length===4?this.setSouthWest([r[0],r[1]]).setNorthEast([r[2],r[3]]):this.setSouthWest(r[0]).setNorthEast(r[1]))}setNorthEast(r){return this._ne=r instanceof wn?new wn(r.lng,r.lat):wn.convert(r),this}setSouthWest(r){return this._sw=r instanceof wn?new wn(r.lng,r.lat):wn.convert(r),this}extend(r){const l=this._sw,f=this._ne;let S,F;if(r instanceof wn)S=r,F=r;else{if(!(r instanceof Xl))return Array.isArray(r)?r.length===4||r.every(Array.isArray)?this.extend(Xl.convert(r)):this.extend(wn.convert(r)):typeof r=="object"&&r!==null&&r.hasOwnProperty("lat")&&r.hasOwnProperty("lon")?this.extend(wn.convert(r)):this;if(S=r._sw,F=r._ne,!S||!F)return this}return l||f?(l.lng=Math.min(S.lng,l.lng),l.lat=Math.min(S.lat,l.lat),f.lng=Math.max(F.lng,f.lng),f.lat=Math.max(F.lat,f.lat)):(this._sw=new wn(S.lng,S.lat),this._ne=new wn(F.lng,F.lat)),this}getCenter(){return new wn((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new wn(this.getWest(),this.getNorth())}getSouthEast(){return new wn(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(r){const{lng:l,lat:f}=wn.convert(r);let S=this._sw.lng<=l&&l<=this._ne.lng;return this._sw.lng>this._ne.lng&&(S=this._sw.lng>=l&&l>=this._ne.lng),this._sw.lat<=f&&f<=this._ne.lat&&S}static convert(r){return!r||r instanceof Xl?r:new Xl(r)}}const Tc=63710088e-1;class wn{constructor(r,l){if(isNaN(r)||isNaN(l))throw new Error(`Invalid LngLat object: (${r}, ${l})`);if(this.lng=+r,this.lat=+l,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new wn(M(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(r){const l=Math.PI/180,f=this.lat*l,S=r.lat*l,F=Math.sin(f)*Math.sin(S)+Math.cos(f)*Math.cos(S)*Math.cos((r.lng-this.lng)*l);return Tc*Math.acos(Math.min(F,1))}toBounds(r=0){const l=360*r/40075017,f=l/Math.cos(Math.PI/180*this.lat);return new Xl(new wn(this.lng-f,this.lat-l),new wn(this.lng+f,this.lat+l))}static convert(r){if(r instanceof wn)return r;if(Array.isArray(r)&&(r.length===2||r.length===3))return new wn(Number(r[0]),Number(r[1]));if(!Array.isArray(r)&&typeof r=="object"&&r!==null)return new wn(Number("lng"in r?r.lng:r.lon),Number(r.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Fu=2*Math.PI*Tc;function Cd(s){return Fu*Math.cos(s*Math.PI/180)}function bl(s){return(180+s)/360}function Ys(s){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+s*Math.PI/360)))/360}function Xs(s,r){return s/Cd(r)}function ws(s){return 360*s-180}function Io(s){return 360/Math.PI*Math.atan(Math.exp((180-360*s)*Math.PI/180))-90}function Ed(s,r){return s*Cd(Io(r))}const Oo=85.051129;function Td(s){return 1/Math.cos(s*Math.PI/180)}class Pc{constructor(r,l,f=0){this.x=+r,this.y=+l,this.z=+f}static fromLngLat(r,l=0){const f=wn.convert(r);return new Pc(bl(f.lng),Ys(f.lat),Xs(l,f.lat))}toLngLat(){return new wn(ws(this.x),Io(this.y))}toAltitude(){return Ed(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Fu*Td(Io(this.y))}}function Pd(s,r,l,f,S,F,W,ie,le){const me=(r+f)/2,Ee=(l+S)/2,Oe=new q(me,Ee);ie(Oe),function(Le,Ve,qe,rt,pt,Mt){const Ut=qe-pt,Pt=rt-Mt;return Math.abs((rt-Ve)*Ut-(qe-Le)*Pt)/Math.hypot(Ut,Pt)}(Oe.x,Oe.y,F.x,F.y,W.x,W.y)>=le?(Pd(s,r,l,me,Ee,F,Oe,ie,le),Pd(s,me,Ee,f,S,Oe,W,ie,le)):s.push(W)}function Md(s,r,l){let f=s[0],S=f.x,F=f.y;r(f);const W=[f];for(let ie=1;ie<s.length;ie++){const le=s[ie],{x:me,y:Ee}=le;r(le),Pd(W,S,F,me,Ee,f,le,r,l),S=me,F=Ee,f=le}return W}function Id(s,r,l,f){if(f(r,l)){const S=r.add(l)._mult(.5);Id(s,r,S,f),Id(s,S,l,f)}else s.push(l)}function f0(s,r){let l=s[0];const f=[l];for(let S=1;S<s.length;S++){const F=s[S];Id(f,l,F,r),l=F}return f}const xl=Math.pow(2,14)-1,Mh=-xl-1;function Od(s,r){const l=Math.round(s.x*r),f=Math.round(s.y*r);return s.x=y(l,Mh,xl),s.y=y(f,Mh,xl),(l<s.x||l>s.x+1||f<s.y||f>s.y+1)&&ce("Geometry exceeds allowed extent, reduce your vector tile buffer size"),s}function wl(s,r,l){const f=s.loadGeometry(),S=s.extent,F=Pr/S;if(r&&l&&l.projection.isReprojectedInTileSpace){const W=1<<r.z,{scale:ie,x:le,y:me,projection:Ee}=l,Oe=Le=>{const Ve=ws((r.x+Le.x/S)/W),qe=Io((r.y+Le.y/S)/W),rt=Ee.project(Ve,qe);Le.x=(rt.x*ie-le)*S,Le.y=(rt.y*ie-me)*S};for(let Le=0;Le<f.length;Le++)if(s.type!==1)f[Le]=Md(f[Le],Oe,1);else{const Ve=[];for(const qe of f[Le])qe.x<0||qe.x>=S||qe.y<0||qe.y>=S||(Oe(qe),Ve.push(qe));f[Le]=Ve}}for(const W of f)for(const ie of W)Od(ie,F);return f}function Bl(s,r){return{type:s.type,id:s.id,properties:s.properties,geometry:r?wl(s):[]}}function Zl(s,r,l,f,S){s.emplaceBack(2*r+(f+1)/2,2*l+(S+1)/2)}function Wr(s,r,l){s.emplaceBack(r.x,r.y,r.z,l[0]*16384,l[1]*16384,l[2]*16384)}class tu{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(l=>l.id),this.index=r.index,this.hasPattern=!1,this.projection=r.projection,this.layoutVertexArray=new Mn,this.indexArray=new _o,this.segments=new za,this.programConfigurations=new Ll(r.layers,r.zoom),this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(r,l,f,S){const F=this.layers[0],W=[];let ie=null;F.type==="circle"&&(ie=F.layout.get("circle-sort-key"));for(const{feature:me,id:Ee,index:Oe,sourceLayerIndex:Le}of r){const Ve=this.layers[0]._featureFilter.needGeometry,qe=Bl(me,Ve);if(!this.layers[0]._featureFilter.filter(new ni(this.zoom),qe,f))continue;const rt=ie?ie.evaluate(qe,{},f):void 0,pt={id:Ee,properties:me.properties,type:me.type,sourceLayerIndex:Le,index:Oe,geometry:Ve?qe.geometry:wl(me,f,S),patterns:{},sortKey:rt};W.push(pt)}ie&&W.sort((me,Ee)=>me.sortKey-Ee.sortKey);let le=null;S.projection.name==="globe"&&(this.globeExtVertexArray=new Zn,le=S.projection);for(const me of W){const{geometry:Ee,index:Oe,sourceLayerIndex:Le}=me,Ve=r[Oe].feature;this.addFeature(me,Ee,Oe,l.availableImages,f,le),l.featureIndex.insert(Ve,Ee,Oe,Le,this.index)}}update(r,l,f,S){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,l,this.stateDependentLayers,f,S)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,d0.members),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=r.createVertexBuffer(this.globeExtVertexArray,Qf.members))),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(r,l,f,S,F,W){for(const ie of l)for(const le of ie){const me=le.x,Ee=le.y;if(me<0||me>=Pr||Ee<0||Ee>=Pr)continue;if(W){const Ve=W.projectTilePoint(me,Ee,F),qe=W.upVector(F,me,Ee),rt=this.globeExtVertexArray;Wr(rt,Ve,qe),Wr(rt,Ve,qe),Wr(rt,Ve,qe),Wr(rt,Ve,qe)}const Oe=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,r.sortKey),Le=Oe.vertexLength;Zl(this.layoutVertexArray,me,Ee,-1,-1),Zl(this.layoutVertexArray,me,Ee,1,-1),Zl(this.layoutVertexArray,me,Ee,1,1),Zl(this.layoutVertexArray,me,Ee,-1,1),this.indexArray.emplaceBack(Le,Le+1,Le+2),this.indexArray.emplaceBack(Le,Le+2,Le+3),Oe.vertexLength+=4,Oe.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,f,{},S,F)}}function Ih(s,r){for(let l=0;l<s.length;l++)if(Ic(r,s[l]))return!0;for(let l=0;l<r.length;l++)if(Ic(s,r[l]))return!0;return!!Oh(s,r)}function Mc(s,r,l){return!!Ic(s,r)||!!Dd(r,s,l)}function ep(s,r){if(s.length===1)return Ld(r,s[0]);for(let l=0;l<r.length;l++){const f=r[l];for(let S=0;S<f.length;S++)if(Ic(s,f[S]))return!0}for(let l=0;l<s.length;l++)if(Ld(r,s[l]))return!0;for(let l=0;l<r.length;l++)if(Oh(s,r[l]))return!0;return!1}function Rd(s,r,l){if(s.length>1){if(Oh(s,r))return!0;for(let f=0;f<r.length;f++)if(Dd(r[f],s,l))return!0}for(let f=0;f<s.length;f++)if(Dd(s[f],r,l))return!0;return!1}function Oh(s,r){if(s.length===0||r.length===0)return!1;for(let l=0;l<s.length-1;l++){const f=s[l],S=s[l+1];for(let F=0;F<r.length-1;F++)if(ss(f,S,r[F],r[F+1]))return!0}return!1}function ss(s,r,l,f){return we(s,l,f)!==we(r,l,f)&&we(s,r,l)!==we(s,r,f)}function Dd(s,r,l){const f=l*l;if(r.length===1)return s.distSqr(r[0])<f;for(let S=1;S<r.length;S++)if(tp(s,r[S-1],r[S])<f)return!0;return!1}function tp(s,r,l){const f=r.distSqr(l);if(f===0)return s.distSqr(r);const S=((s.x-r.x)*(l.x-r.x)+(s.y-r.y)*(l.y-r.y))/f;return s.distSqr(S<0?r:S>1?l:l.sub(r)._mult(S)._add(r))}function Ld(s,r){let l,f,S,F=!1;for(let W=0;W<s.length;W++){l=s[W];for(let ie=0,le=l.length-1;ie<l.length;le=ie++)f=l[ie],S=l[le],f.y>r.y!=S.y>r.y&&r.x<(S.x-f.x)*(r.y-f.y)/(S.y-f.y)+f.x&&(F=!F)}return F}function Ic(s,r){let l=!1;for(let f=0,S=s.length-1;f<s.length;S=f++){const F=s[f],W=s[S];F.y>r.y!=W.y>r.y&&r.x<(W.x-F.x)*(r.y-F.y)/(W.y-F.y)+F.x&&(l=!l)}return l}function Bd(s,r,l,f,S){for(const W of s)if(r<=W.x&&l<=W.y&&f>=W.x&&S>=W.y)return!0;const F=[new q(r,l),new q(r,S),new q(f,S),new q(f,l)];if(s.length>2){for(const W of F)if(Ic(s,W))return!0}for(let W=0;W<s.length-1;W++)if(p0(s[W],s[W+1],F))return!0;return!1}function p0(s,r,l){const f=l[0],S=l[2];if(s.x<f.x&&r.x<f.x||s.x>S.x&&r.x>S.x||s.y<f.y&&r.y<f.y||s.y>S.y&&r.y>S.y)return!1;const F=we(s,r,l[0]);return F!==we(s,r,l[1])||F!==we(s,r,l[2])||F!==we(s,r,l[3])}function iu(s,r,l){const f=r.paint.get(s).value;return f.kind==="constant"?f.value:l.programConfigurations.get(r.id).getMaxValue(s)}function Rh(s){return Math.sqrt(s[0]*s[0]+s[1]*s[1])}function Fl(s,r,l,f,S){if(!r[0]&&!r[1])return s;const F=q.convert(r)._mult(S);l==="viewport"&&F._rotate(-f);const W=[];for(let ie=0;ie<s.length;ie++)W.push(s[ie].sub(F));return W}function ls(s,r,l,f){const S=q.convert(s)._mult(f);return r==="viewport"&&S._rotate(-l),S}ur(tu,"CircleBucket",{omit:["layers"]});const Fd=new Sr({"circle-sort-key":new bi(ki.layout_circle["circle-sort-key"])});var m0={paint:new Sr({"circle-radius":new bi(ki.paint_circle["circle-radius"]),"circle-color":new bi(ki.paint_circle["circle-color"]),"circle-blur":new bi(ki.paint_circle["circle-blur"]),"circle-opacity":new bi(ki.paint_circle["circle-opacity"]),"circle-translate":new ai(ki.paint_circle["circle-translate"]),"circle-translate-anchor":new ai(ki.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ai(ki.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ai(ki.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new bi(ki.paint_circle["circle-stroke-width"]),"circle-stroke-color":new bi(ki.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new bi(ki.paint_circle["circle-stroke-opacity"])}),layout:Fd},ru=1e-6,Ds=typeof Float32Array<"u"?Float32Array:Array;function ip(){var s=new Ds(9);return Ds!=Float32Array&&(s[1]=0,s[2]=0,s[3]=0,s[5]=0,s[6]=0,s[7]=0),s[0]=1,s[4]=1,s[8]=1,s}function nu(s,r,l){var f=r[0],S=r[1],F=r[2],W=r[3],ie=r[4],le=r[5],me=r[6],Ee=r[7],Oe=r[8],Le=l[0],Ve=l[1],qe=l[2],rt=l[3],pt=l[4],Mt=l[5],Ut=l[6],Pt=l[7],Dt=l[8];return s[0]=Le*f+Ve*W+qe*me,s[1]=Le*S+Ve*ie+qe*Ee,s[2]=Le*F+Ve*le+qe*Oe,s[3]=rt*f+pt*W+Mt*me,s[4]=rt*S+pt*ie+Mt*Ee,s[5]=rt*F+pt*le+Mt*Oe,s[6]=Ut*f+Pt*W+Dt*me,s[7]=Ut*S+Pt*ie+Dt*Ee,s[8]=Ut*F+Pt*le+Dt*Oe,s}function ol(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function Dh(s,r){var l=r[0],f=r[1],S=r[2],F=r[3],W=r[4],ie=r[5],le=r[6],me=r[7],Ee=r[8],Oe=r[9],Le=r[10],Ve=r[11],qe=r[12],rt=r[13],pt=r[14],Mt=r[15],Ut=l*ie-f*W,Pt=l*le-S*W,Dt=l*me-F*W,qt=f*le-S*ie,$t=f*me-F*ie,gi=S*me-F*le,pi=Ee*rt-Oe*qe,Ri=Ee*pt-Le*qe,Xi=Ee*Mt-Ve*qe,Ci=Oe*pt-Le*rt,Di=Oe*Mt-Ve*rt,Fi=Le*Mt-Ve*pt,Gi=Ut*Fi-Pt*Di+Dt*Ci+qt*Xi-$t*Ri+gi*pi;return Gi?(s[0]=(ie*Fi-le*Di+me*Ci)*(Gi=1/Gi),s[1]=(S*Di-f*Fi-F*Ci)*Gi,s[2]=(rt*gi-pt*$t+Mt*qt)*Gi,s[3]=(Le*$t-Oe*gi-Ve*qt)*Gi,s[4]=(le*Xi-W*Fi-me*Ri)*Gi,s[5]=(l*Fi-S*Xi+F*Ri)*Gi,s[6]=(pt*Dt-qe*gi-Mt*Pt)*Gi,s[7]=(Ee*gi-Le*Dt+Ve*Pt)*Gi,s[8]=(W*Di-ie*Xi+me*pi)*Gi,s[9]=(f*Xi-l*Di-F*pi)*Gi,s[10]=(qe*$t-rt*Dt+Mt*Ut)*Gi,s[11]=(Oe*Dt-Ee*$t-Ve*Ut)*Gi,s[12]=(ie*Ri-W*Ci-le*pi)*Gi,s[13]=(l*Ci-f*Ri+S*pi)*Gi,s[14]=(rt*Pt-qe*qt-pt*Ut)*Gi,s[15]=(Ee*qt-Oe*Pt+Le*Ut)*Gi,s):null}function Oc(s,r,l){var f=r[0],S=r[1],F=r[2],W=r[3],ie=r[4],le=r[5],me=r[6],Ee=r[7],Oe=r[8],Le=r[9],Ve=r[10],qe=r[11],rt=r[12],pt=r[13],Mt=r[14],Ut=r[15],Pt=l[0],Dt=l[1],qt=l[2],$t=l[3];return s[0]=Pt*f+Dt*ie+qt*Oe+$t*rt,s[1]=Pt*S+Dt*le+qt*Le+$t*pt,s[2]=Pt*F+Dt*me+qt*Ve+$t*Mt,s[3]=Pt*W+Dt*Ee+qt*qe+$t*Ut,s[4]=(Pt=l[4])*f+(Dt=l[5])*ie+(qt=l[6])*Oe+($t=l[7])*rt,s[5]=Pt*S+Dt*le+qt*Le+$t*pt,s[6]=Pt*F+Dt*me+qt*Ve+$t*Mt,s[7]=Pt*W+Dt*Ee+qt*qe+$t*Ut,s[8]=(Pt=l[8])*f+(Dt=l[9])*ie+(qt=l[10])*Oe+($t=l[11])*rt,s[9]=Pt*S+Dt*le+qt*Le+$t*pt,s[10]=Pt*F+Dt*me+qt*Ve+$t*Mt,s[11]=Pt*W+Dt*Ee+qt*qe+$t*Ut,s[12]=(Pt=l[12])*f+(Dt=l[13])*ie+(qt=l[14])*Oe+($t=l[15])*rt,s[13]=Pt*S+Dt*le+qt*Le+$t*pt,s[14]=Pt*F+Dt*me+qt*Ve+$t*Mt,s[15]=Pt*W+Dt*Ee+qt*qe+$t*Ut,s}function Nu(s,r,l){var f,S,F,W,ie,le,me,Ee,Oe,Le,Ve,qe,rt=l[0],pt=l[1],Mt=l[2];return r===s?(s[12]=r[0]*rt+r[4]*pt+r[8]*Mt+r[12],s[13]=r[1]*rt+r[5]*pt+r[9]*Mt+r[13],s[14]=r[2]*rt+r[6]*pt+r[10]*Mt+r[14],s[15]=r[3]*rt+r[7]*pt+r[11]*Mt+r[15]):(S=r[1],F=r[2],W=r[3],ie=r[4],le=r[5],me=r[6],Ee=r[7],Oe=r[8],Le=r[9],Ve=r[10],qe=r[11],s[0]=f=r[0],s[1]=S,s[2]=F,s[3]=W,s[4]=ie,s[5]=le,s[6]=me,s[7]=Ee,s[8]=Oe,s[9]=Le,s[10]=Ve,s[11]=qe,s[12]=f*rt+ie*pt+Oe*Mt+r[12],s[13]=S*rt+le*pt+Le*Mt+r[13],s[14]=F*rt+me*pt+Ve*Mt+r[14],s[15]=W*rt+Ee*pt+qe*Mt+r[15]),s}function Rc(s,r,l){var f=l[0],S=l[1],F=l[2];return s[0]=r[0]*f,s[1]=r[1]*f,s[2]=r[2]*f,s[3]=r[3]*f,s[4]=r[4]*S,s[5]=r[5]*S,s[6]=r[6]*S,s[7]=r[7]*S,s[8]=r[8]*F,s[9]=r[9]*F,s[10]=r[10]*F,s[11]=r[11]*F,s[12]=r[12],s[13]=r[13],s[14]=r[14],s[15]=r[15],s}function Nd(s,r,l){var f=Math.sin(l),S=Math.cos(l),F=r[4],W=r[5],ie=r[6],le=r[7],me=r[8],Ee=r[9],Oe=r[10],Le=r[11];return r!==s&&(s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[3],s[12]=r[12],s[13]=r[13],s[14]=r[14],s[15]=r[15]),s[4]=F*S+me*f,s[5]=W*S+Ee*f,s[6]=ie*S+Oe*f,s[7]=le*S+Le*f,s[8]=me*S-F*f,s[9]=Ee*S-W*f,s[10]=Oe*S-ie*f,s[11]=Le*S-le*f,s}function zu(s,r,l){var f=Math.sin(l),S=Math.cos(l),F=r[0],W=r[1],ie=r[2],le=r[3],me=r[8],Ee=r[9],Oe=r[10],Le=r[11];return r!==s&&(s[4]=r[4],s[5]=r[5],s[6]=r[6],s[7]=r[7],s[12]=r[12],s[13]=r[13],s[14]=r[14],s[15]=r[15]),s[0]=F*S-me*f,s[1]=W*S-Ee*f,s[2]=ie*S-Oe*f,s[3]=le*S-Le*f,s[8]=F*f+me*S,s[9]=W*f+Ee*S,s[10]=ie*f+Oe*S,s[11]=le*f+Le*S,s}function zd(s,r){return s[0]=r[0],s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=r[1],s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=r[2],s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function rp(s,r,l){var f,S,F,W=l[0],ie=l[1],le=l[2],me=Math.hypot(W,ie,le);return me<ru?null:(W*=me=1/me,ie*=me,le*=me,f=Math.sin(r),S=Math.cos(r),s[0]=W*W*(F=1-S)+S,s[1]=ie*W*F+le*f,s[2]=le*W*F-ie*f,s[3]=0,s[4]=W*ie*F-le*f,s[5]=ie*ie*F+S,s[6]=le*ie*F+W*f,s[7]=0,s[8]=W*le*F+ie*f,s[9]=ie*le*F-W*f,s[10]=le*le*F+S,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s)}Math.hypot||(Math.hypot=function(){for(var s=0,r=arguments.length;r--;)s+=arguments[r]*arguments[r];return Math.sqrt(s)});var jd=Oc;function Lh(){var s=new Ds(3);return Ds!=Float32Array&&(s[0]=0,s[1]=0,s[2]=0),s}function au(s){var r=new Ds(3);return r[0]=s[0],r[1]=s[1],r[2]=s[2],r}function Dc(s){return Math.hypot(s[0],s[1],s[2])}function Lc(s,r,l){var f=new Ds(3);return f[0]=s,f[1]=r,f[2]=l,f}function Nl(s,r,l){return s[0]=r[0]+l[0],s[1]=r[1]+l[1],s[2]=r[2]+l[2],s}function ou(s,r,l){return s[0]=r[0]-l[0],s[1]=r[1]-l[1],s[2]=r[2]-l[2],s}function Ud(s,r,l){return s[0]=r[0]*l[0],s[1]=r[1]*l[1],s[2]=r[2]*l[2],s}function Ls(s,r,l){return s[0]=Math.min(r[0],l[0]),s[1]=Math.min(r[1],l[1]),s[2]=Math.min(r[2],l[2]),s}function Sl(s,r,l){return s[0]=Math.max(r[0],l[0]),s[1]=Math.max(r[1],l[1]),s[2]=Math.max(r[2],l[2]),s}function Zs(s,r,l){return s[0]=r[0]*l,s[1]=r[1]*l,s[2]=r[2]*l,s}function su(s,r,l,f){return s[0]=r[0]+l[0]*f,s[1]=r[1]+l[1]*f,s[2]=r[2]+l[2]*f,s}function cs(s,r){var l=r[0],f=r[1],S=r[2],F=l*l+f*f+S*S;return F>0&&(F=1/Math.sqrt(F)),s[0]=r[0]*F,s[1]=r[1]*F,s[2]=r[2]*F,s}function sl(s,r){return s[0]*r[0]+s[1]*r[1]+s[2]*r[2]}function $d(s,r,l){var f=r[0],S=r[1],F=r[2],W=l[0],ie=l[1],le=l[2];return s[0]=S*le-F*ie,s[1]=F*W-f*le,s[2]=f*ie-S*W,s}function La(s,r,l){var f=r[0],S=r[1],F=r[2],W=l[3]*f+l[7]*S+l[11]*F+l[15];return s[0]=(l[0]*f+l[4]*S+l[8]*F+l[12])/(W=W||1),s[1]=(l[1]*f+l[5]*S+l[9]*F+l[13])/W,s[2]=(l[2]*f+l[6]*S+l[10]*F+l[14])/W,s}function np(s,r,l){var f=l[0],S=l[1],F=l[2],W=r[0],ie=r[1],le=r[2],me=S*le-F*ie,Ee=F*W-f*le,Oe=f*ie-S*W,Le=S*Oe-F*Ee,Ve=F*me-f*Oe,qe=f*Ee-S*me,rt=2*l[3];return Ee*=rt,Oe*=rt,Ve*=2,qe*=2,s[0]=W+(me*=rt)+(Le*=2),s[1]=ie+Ee+Ve,s[2]=le+Oe+qe,s}var ju,kl=ou,g0=Ud,y0=Dc;function ap(s,r,l){return s[0]=r[0]*l,s[1]=r[1]*l,s[2]=r[2]*l,s[3]=r[3]*l,s}function op(s,r){var l=r[0],f=r[1],S=r[2],F=r[3],W=l*l+f*f+S*S+F*F;return W>0&&(W=1/Math.sqrt(W)),s[0]=l*W,s[1]=f*W,s[2]=S*W,s[3]=F*W,s}function fc(s,r,l){var f=r[0],S=r[1],F=r[2],W=r[3];return s[0]=l[0]*f+l[4]*S+l[8]*F+l[12]*W,s[1]=l[1]*f+l[5]*S+l[9]*F+l[13]*W,s[2]=l[2]*f+l[6]*S+l[10]*F+l[14]*W,s[3]=l[3]*f+l[7]*S+l[11]*F+l[15]*W,s}function Vd(){var s=new Ds(4);return Ds!=Float32Array&&(s[0]=0,s[1]=0,s[2]=0),s[3]=1,s}function Gd(s){return s[0]=0,s[1]=0,s[2]=0,s[3]=1,s}function sp(s,r,l){l*=.5;var f=r[0],S=r[1],F=r[2],W=r[3],ie=Math.sin(l),le=Math.cos(l);return s[0]=f*le+W*ie,s[1]=S*le+F*ie,s[2]=F*le-S*ie,s[3]=W*le-f*ie,s}function lp(s,r,l){l*=.5;var f=r[0],S=r[1],F=r[2],W=r[3],ie=Math.sin(l),le=Math.cos(l);return s[0]=f*le-F*ie,s[1]=S*le+W*ie,s[2]=F*le+f*ie,s[3]=W*le-S*ie,s}Lh(),ju=new Ds(4),Ds!=Float32Array&&(ju[0]=0,ju[1]=0,ju[2]=0,ju[3]=0);var v0=op;Lh(),Lc(1,0,0),Lc(0,1,0),Vd(),Vd(),ip();class Bh{constructor(r,l){this.pos=r,this.dir=l}intersectsPlane(r,l,f){const S=sl(l,this.dir);if(Math.abs(S)<1e-6)return!1;const F=((r[0]-this.pos[0])*l[0]+(r[1]-this.pos[1])*l[1]+(r[2]-this.pos[2])*l[2])/S;return f[0]=this.pos[0]+this.dir[0]*F,f[1]=this.pos[1]+this.dir[1]*F,f[2]=this.pos[2]+this.dir[2]*F,!0}closestPointOnSphere(r,l,f){if(function(Ve,qe){var rt=Ve[0],pt=Ve[1],Mt=Ve[2],Ut=qe[0],Pt=qe[1],Dt=qe[2];return Math.abs(rt-Ut)<=ru*Math.max(1,Math.abs(rt),Math.abs(Ut))&&Math.abs(pt-Pt)<=ru*Math.max(1,Math.abs(pt),Math.abs(Pt))&&Math.abs(Mt-Dt)<=ru*Math.max(1,Math.abs(Mt),Math.abs(Dt))}(this.pos,r)||l===0)return f[0]=f[1]=f[2]=0,!1;const[S,F,W]=this.dir,ie=this.pos[0]-r[0],le=this.pos[1]-r[1],me=this.pos[2]-r[2],Ee=S*S+F*F+W*W,Oe=2*(ie*S+le*F+me*W),Le=Oe*Oe-4*Ee*(ie*ie+le*le+me*me-l*l);if(Le<0){const Ve=Math.max(-Oe/2,0),qe=ie+S*Ve,rt=le+F*Ve,pt=me+W*Ve,Mt=Math.hypot(qe,rt,pt);return f[0]=qe*l/Mt,f[1]=rt*l/Mt,f[2]=pt*l/Mt,!1}{const Ve=(-Oe-Math.sqrt(Le))/(2*Ee);if(Ve<0){const qe=Math.hypot(ie,le,me);return f[0]=ie*l/qe,f[1]=le*l/qe,f[2]=me*l/qe,!1}return f[0]=ie+S*Ve,f[1]=le+F*Ve,f[2]=me+W*Ve,!0}}}class Hd{constructor(r,l,f,S,F){this.TL=r,this.TR=l,this.BR=f,this.BL=S,this.horizon=F}static fromInvProjectionMatrix(r,l,f){const S=[-1,1,1],F=[1,1,1],W=[1,-1,1],ie=[-1,-1,1],le=La(S,S,r),me=La(F,F,r),Ee=La(W,W,r),Oe=La(ie,ie,r);return new Hd(le,me,Ee,Oe,l/f)}}class qd{constructor(r,l){this.points=r,this.planes=l}static fromInvProjectionMatrix(r,l,f,S){const F=Math.pow(2,f),W=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(le=>{const me=fc([],le,r),Ee=1/me[3]/l*F;return function(Oe,Le,Ve){return Oe[0]=Le[0]*Ve[0],Oe[1]=Le[1]*Ve[1],Oe[2]=Le[2]*Ve[2],Oe[3]=Le[3]*Ve[3],Oe}(me,me,[Ee,Ee,S?1/me[3]:Ee,Ee])}),ie=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(le=>{const me=cs([],$d([],kl([],W[le[0]],W[le[1]]),kl([],W[le[2]],W[le[1]]))),Ee=-sl(me,W[le[1]]);return me.concat(Ee)});return new qd(W,ie)}}class us{static fromPoints(r){const l=[1/0,1/0,1/0],f=[-1/0,-1/0,-1/0];for(const S of r)Ls(l,l,S),Sl(f,f,S);return new us(l,f)}static applyTransform(r,l){const f=r.getCorners();for(let S=0;S<f.length;++S)La(f[S],f[S],l);return us.fromPoints(f)}constructor(r,l){this.min=r,this.max=l,this.center=Zs([],Nl([],this.min,this.max),.5)}quadrant(r){const l=[r%2==0,r<2],f=au(this.min),S=au(this.max);for(let F=0;F<l.length;F++)f[F]=l[F]?this.min[F]:this.center[F],S[F]=l[F]?this.center[F]:this.max[F];return S[2]=this.max[2],new us(f,S)}distanceX(r){return Math.max(Math.min(this.max[0],r[0]),this.min[0])-r[0]}distanceY(r){return Math.max(Math.min(this.max[1],r[1]),this.min[1])-r[1]}distanceZ(r){return Math.max(Math.min(this.max[2],r[2]),this.min[2])-r[2]}getCorners(){const r=this.min,l=this.max;return[[r[0],r[1],r[2]],[l[0],r[1],r[2]],[l[0],l[1],r[2]],[r[0],l[1],r[2]],[r[0],r[1],l[2]],[l[0],r[1],l[2]],[l[0],l[1],l[2]],[r[0],l[1],l[2]]]}intersects(r){const l=this.getCorners();let f=!0;for(let S=0;S<r.planes.length;S++){const F=r.planes[S];let W=0;for(let ie=0;ie<l.length;ie++)W+=sl(F,l[ie])+F[3]>=0;if(W===0)return 0;W!==l.length&&(f=!1)}if(f)return 2;for(let S=0;S<3;S++){let F=Number.MAX_VALUE,W=-Number.MAX_VALUE;for(let ie=0;ie<r.points.length;ie++){const le=r.points[ie][S]-this.min[S];F=Math.min(F,le),W=Math.max(W,le)}if(W<0||F>this.max[S]-this.min[S])return 0}return 1}}function cp(s,r,l,f,S,F,W,ie,le){if(F&&s.queryGeometry.isAboveHorizon)return!1;F&&(le*=s.pixelToTileUnitsFactor);const me=s.tileID.canonical,Ee=l.projection.upVectorScale(me,l.center.lat,l.worldSize).metersToTile;for(const Oe of r)for(const Le of Oe){const Ve=Le.add(ie),qe=S&&l.elevation?l.elevation.exaggeration()*S.getElevationAt(Ve.x,Ve.y,!0):0,rt=l.projection.projectTilePoint(Ve.x,Ve.y,me);if(qe>0){const Pt=l.projection.upVector(me,Ve.x,Ve.y);rt.x+=Pt[0]*Ee*qe,rt.y+=Pt[1]*Ee*qe,rt.z+=Pt[2]*Ee*qe}const pt=F?Ve:_0(rt.x,rt.y,rt.z,f),Mt=F?s.tilespaceRays.map(Pt=>b0(Pt,qe)):s.queryGeometry.screenGeometry,Ut=fc([],[rt.x,rt.y,rt.z,1],f);if(!W&&F?le*=Ut[3]/l.cameraToCenterDistance:W&&!F&&(le*=l.cameraToCenterDistance/Ut[3]),F){const Pt=Io((Le.y/Pr+me.y)/(1<<me.z));le/=l.projection.pixelsPerMeter(Pt,1)/Xs(1,Pt)}if(Mc(Mt,pt,le))return!0}return!1}function _0(s,r,l,f){const S=fc([],[s,r,l,1],f);return new q(S[0]/S[3],S[1]/S[3])}const up=Lc(0,0,0),ll=Lc(0,0,1);function b0(s,r){const l=Lh();return up[2]=r,s.intersectsPlane(up,ll,l),new q(l[0],l[1])}class hp extends tu{}function dp(s,{width:r,height:l},f,S){if(S){if(S instanceof Uint8ClampedArray)S=new Uint8Array(S.buffer);else if(S.length!==r*l*f)throw new RangeError("mismatched image size")}else S=new Uint8Array(r*l*f);return s.width=r,s.height=l,s.data=S,s}function Wd(s,r,l){const{width:f,height:S}=r;f===s.width&&S===s.height||(Yd(s,r,{x:0,y:0},{x:0,y:0},{width:Math.min(s.width,f),height:Math.min(s.height,S)},l),s.width=f,s.height=S,s.data=r.data)}function Yd(s,r,l,f,S,F){if(S.width===0||S.height===0)return r;if(S.width>s.width||S.height>s.height||l.x>s.width-S.width||l.y>s.height-S.height)throw new RangeError("out of range source coordinates for image copy");if(S.width>r.width||S.height>r.height||f.x>r.width-S.width||f.y>r.height-S.height)throw new RangeError("out of range destination coordinates for image copy");const W=s.data,ie=r.data;for(let le=0;le<S.height;le++){const me=((l.y+le)*s.width+l.x)*F,Ee=((f.y+le)*r.width+f.x)*F;for(let Oe=0;Oe<S.width*F;Oe++)ie[Ee+Oe]=W[me+Oe]}return r}ur(hp,"HeatmapBucket",{omit:["layers"]});class Kl{constructor(r,l){dp(this,r,1,l)}resize(r){Wd(this,new Kl(r),1)}clone(){return new Kl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(r,l,f,S,F){Yd(r,l,f,S,F,1)}}class Bs{constructor(r,l){dp(this,r,4,l)}resize(r){Wd(this,new Bs(r),4)}replace(r,l){l?this.data.set(r):this.data=r instanceof Uint8ClampedArray?new Uint8Array(r.buffer):r}clone(){return new Bs({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(r,l,f,S,F){Yd(r,l,f,S,F,4)}}ur(Kl,"AlphaImage"),ur(Bs,"RGBAImage");var x0={paint:new Sr({"heatmap-radius":new bi(ki.paint_heatmap["heatmap-radius"]),"heatmap-weight":new bi(ki.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ai(ki.paint_heatmap["heatmap-intensity"]),"heatmap-color":new vr(ki.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ai(ki.paint_heatmap["heatmap-opacity"])})};function Uu(s){const r={},l=s.resolution||256,f=s.clips?s.clips.length:1,S=s.image||new Bs({width:l,height:f}),F=(W,ie,le)=>{r[s.evaluationKey]=le;const me=s.expression.evaluate(r);S.data[W+ie+0]=Math.floor(255*me.r/me.a),S.data[W+ie+1]=Math.floor(255*me.g/me.a),S.data[W+ie+2]=Math.floor(255*me.b/me.a),S.data[W+ie+3]=Math.floor(255*me.a)};if(s.clips)for(let W=0,ie=0;W<f;++W,ie+=4*l)for(let le=0,me=0;le<l;le++,me+=4){const Ee=le/(l-1),{start:Oe,end:Le}=s.clips[W];F(ie,me,Oe*(1-Ee)+Le*Ee)}else for(let W=0,ie=0;W<l;W++,ie+=4)F(0,ie,W/(l-1));return S}var w0={paint:new Sr({"hillshade-illumination-direction":new ai(ki.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ai(ki.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ai(ki.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ai(ki.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ai(ki.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ai(ki.paint_hillshade["hillshade-accent-color"])})};const S0=mr([{name:"a_pos",components:2,type:"Int16"}],4),{members:k0}=S0;var $u={exports:{}};function Fh(s,r,l){l=l||2;var f,S,F,W,ie,le,me,Ee=r&&r.length,Oe=Ee?r[0]*l:s.length,Le=fp(s,0,Oe,l,!0),Ve=[];if(!Le||Le.next===Le.prev)return Ve;if(Ee&&(Le=function(rt,pt,Mt,Ut){var Pt,Dt,qt,$t=[];for(Pt=0,Dt=pt.length;Pt<Dt;Pt++)(qt=fp(rt,pt[Pt]*Ut,Pt<Dt-1?pt[Pt+1]*Ut:rt.length,Ut,!1))===qt.next&&(qt.steiner=!0),$t.push(O0(qt));for($t.sort(P0),Pt=0;Pt<$t.length;Pt++)Mt=M0($t[Pt],Mt);return Mt}(s,r,Le,l)),s.length>80*l){f=F=s[0],S=W=s[1];for(var qe=l;qe<Oe;qe+=l)(ie=s[qe])<f&&(f=ie),(le=s[qe+1])<S&&(S=le),ie>F&&(F=ie),le>W&&(W=le);me=(me=Math.max(F-f,W-S))!==0?32767/me:0}return Vu(Le,Ve,l,f,S,me,0),Ve}function fp(s,r,l,f,S){var F,W;if(S===Jd(s,r,l,f)>0)for(F=r;F<l;F+=f)W=mp(F,s[F],s[F+1],W);else for(F=l-f;F>=r;F-=f)W=mp(F,s[F],s[F+1],W);return W&&cu(W,W.next)&&(Hu(W),W=W.next),W}function Bc(s,r){if(!s)return s;r||(r=s);var l,f=s;do if(l=!1,f.steiner||!cu(f,f.next)&&ja(f.prev,f,f.next)!==0)f=f.next;else{if(Hu(f),(f=r=f.prev)===f.next)break;l=!0}while(l||f!==r);return r}function Vu(s,r,l,f,S,F,W){if(s){!W&&F&&function(Ee,Oe,Le,Ve){var qe=Ee;do qe.z===0&&(qe.z=Xd(qe.x,qe.y,Oe,Le,Ve)),qe.prevZ=qe.prev,qe.nextZ=qe.next,qe=qe.next;while(qe!==Ee);qe.prevZ.nextZ=null,qe.prevZ=null,function(rt){var pt,Mt,Ut,Pt,Dt,qt,$t,gi,pi=1;do{for(Mt=rt,rt=null,Dt=null,qt=0;Mt;){for(qt++,Ut=Mt,$t=0,pt=0;pt<pi&&($t++,Ut=Ut.nextZ);pt++);for(gi=pi;$t>0||gi>0&&Ut;)$t!==0&&(gi===0||!Ut||Mt.z<=Ut.z)?(Pt=Mt,Mt=Mt.nextZ,$t--):(Pt=Ut,Ut=Ut.nextZ,gi--),Dt?Dt.nextZ=Pt:rt=Pt,Pt.prevZ=Dt,Dt=Pt;Mt=Ut}Dt.nextZ=null,pi*=2}while(qt>1)}(qe)}(s,f,S,F);for(var ie,le,me=s;s.prev!==s.next;)if(ie=s.prev,le=s.next,F?C0(s,f,S,F):A0(s))r.push(ie.i/l|0),r.push(s.i/l|0),r.push(le.i/l|0),Hu(s),s=le.next,me=le.next;else if((s=le)===me){W?W===1?Vu(s=E0(Bc(s),r,l),r,l,f,S,F,2):W===2&&T0(s,r,l,f,S,F):Vu(Bc(s),r,l,f,S,F,1);break}}}function A0(s){var r=s.prev,l=s,f=s.next;if(ja(r,l,f)>=0)return!1;for(var S=r.x,F=l.x,W=f.x,ie=r.y,le=l.y,me=f.y,Ee=S<F?S<W?S:W:F<W?F:W,Oe=ie<le?ie<me?ie:me:le<me?le:me,Le=S>F?S>W?S:W:F>W?F:W,Ve=ie>le?ie>me?ie:me:le>me?le:me,qe=f.next;qe!==r;){if(qe.x>=Ee&&qe.x<=Le&&qe.y>=Oe&&qe.y<=Ve&&lu(S,ie,F,le,W,me,qe.x,qe.y)&&ja(qe.prev,qe,qe.next)>=0)return!1;qe=qe.next}return!0}function C0(s,r,l,f){var S=s.prev,F=s,W=s.next;if(ja(S,F,W)>=0)return!1;for(var ie=S.x,le=F.x,me=W.x,Ee=S.y,Oe=F.y,Le=W.y,Ve=ie<le?ie<me?ie:me:le<me?le:me,qe=Ee<Oe?Ee<Le?Ee:Le:Oe<Le?Oe:Le,rt=ie>le?ie>me?ie:me:le>me?le:me,pt=Ee>Oe?Ee>Le?Ee:Le:Oe>Le?Oe:Le,Mt=Xd(Ve,qe,r,l,f),Ut=Xd(rt,pt,r,l,f),Pt=s.prevZ,Dt=s.nextZ;Pt&&Pt.z>=Mt&&Dt&&Dt.z<=Ut;){if(Pt.x>=Ve&&Pt.x<=rt&&Pt.y>=qe&&Pt.y<=pt&&Pt!==S&&Pt!==W&&lu(ie,Ee,le,Oe,me,Le,Pt.x,Pt.y)&&ja(Pt.prev,Pt,Pt.next)>=0||(Pt=Pt.prevZ,Dt.x>=Ve&&Dt.x<=rt&&Dt.y>=qe&&Dt.y<=pt&&Dt!==S&&Dt!==W&&lu(ie,Ee,le,Oe,me,Le,Dt.x,Dt.y)&&ja(Dt.prev,Dt,Dt.next)>=0))return!1;Dt=Dt.nextZ}for(;Pt&&Pt.z>=Mt;){if(Pt.x>=Ve&&Pt.x<=rt&&Pt.y>=qe&&Pt.y<=pt&&Pt!==S&&Pt!==W&&lu(ie,Ee,le,Oe,me,Le,Pt.x,Pt.y)&&ja(Pt.prev,Pt,Pt.next)>=0)return!1;Pt=Pt.prevZ}for(;Dt&&Dt.z<=Ut;){if(Dt.x>=Ve&&Dt.x<=rt&&Dt.y>=qe&&Dt.y<=pt&&Dt!==S&&Dt!==W&&lu(ie,Ee,le,Oe,me,Le,Dt.x,Dt.y)&&ja(Dt.prev,Dt,Dt.next)>=0)return!1;Dt=Dt.nextZ}return!0}function E0(s,r,l){var f=s;do{var S=f.prev,F=f.next.next;!cu(S,F)&&Zd(S,f,f.next,F)&&Gu(S,F)&&Gu(F,S)&&(r.push(S.i/l|0),r.push(f.i/l|0),r.push(F.i/l|0),Hu(f),Hu(f.next),f=s=F),f=f.next}while(f!==s);return Bc(f)}function T0(s,r,l,f,S,F){var W=s;do{for(var ie=W.next.next;ie!==W.prev;){if(W.i!==ie.i&&R0(W,ie)){var le=pp(W,ie);return W=Bc(W,W.next),le=Bc(le,le.next),Vu(W,r,l,f,S,F,0),void Vu(le,r,l,f,S,F,0)}ie=ie.next}W=W.next}while(W!==s)}function P0(s,r){return s.x-r.x}function M0(s,r){var l=function(S,F){var W,ie=F,le=S.x,me=S.y,Ee=-1/0;do{if(me<=ie.y&&me>=ie.next.y&&ie.next.y!==ie.y){var Oe=ie.x+(me-ie.y)*(ie.next.x-ie.x)/(ie.next.y-ie.y);if(Oe<=le&&Oe>Ee&&(Ee=Oe,W=ie.x<ie.next.x?ie:ie.next,Oe===le))return W}ie=ie.next}while(ie!==F);if(!W)return null;var Le,Ve=W,qe=W.x,rt=W.y,pt=1/0;ie=W;do le>=ie.x&&ie.x>=qe&&le!==ie.x&&lu(me<rt?le:Ee,me,qe,rt,me<rt?Ee:le,me,ie.x,ie.y)&&(Le=Math.abs(me-ie.y)/(le-ie.x),Gu(ie,S)&&(Le<pt||Le===pt&&(ie.x>W.x||ie.x===W.x&&I0(W,ie)))&&(W=ie,pt=Le)),ie=ie.next;while(ie!==Ve);return W}(s,r);if(!l)return r;var f=pp(l,s);return Bc(f,f.next),Bc(l,l.next)}function I0(s,r){return ja(s.prev,s,r.prev)<0&&ja(r.next,s,s.next)<0}function Xd(s,r,l,f,S){return(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s=(s-l)*S|0)|s<<8))|s<<4))|s<<2))|s<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=(r-f)*S|0)|r<<8))|r<<4))|r<<2))|r<<1))<<1}function O0(s){var r=s,l=s;do(r.x<l.x||r.x===l.x&&r.y<l.y)&&(l=r),r=r.next;while(r!==s);return l}function lu(s,r,l,f,S,F,W,ie){return(S-W)*(r-ie)>=(s-W)*(F-ie)&&(s-W)*(f-ie)>=(l-W)*(r-ie)&&(l-W)*(F-ie)>=(S-W)*(f-ie)}function R0(s,r){return s.next.i!==r.i&&s.prev.i!==r.i&&!function(l,f){var S=l;do{if(S.i!==l.i&&S.next.i!==l.i&&S.i!==f.i&&S.next.i!==f.i&&Zd(S,S.next,l,f))return!0;S=S.next}while(S!==l);return!1}(s,r)&&(Gu(s,r)&&Gu(r,s)&&function(l,f){var S=l,F=!1,W=(l.x+f.x)/2,ie=(l.y+f.y)/2;do S.y>ie!=S.next.y>ie&&S.next.y!==S.y&&W<(S.next.x-S.x)*(ie-S.y)/(S.next.y-S.y)+S.x&&(F=!F),S=S.next;while(S!==l);return F}(s,r)&&(ja(s.prev,s,r.prev)||ja(s,r.prev,r))||cu(s,r)&&ja(s.prev,s,s.next)>0&&ja(r.prev,r,r.next)>0)}function ja(s,r,l){return(r.y-s.y)*(l.x-r.x)-(r.x-s.x)*(l.y-r.y)}function cu(s,r){return s.x===r.x&&s.y===r.y}function Zd(s,r,l,f){var S=zh(ja(s,r,l)),F=zh(ja(s,r,f)),W=zh(ja(l,f,s)),ie=zh(ja(l,f,r));return S!==F&&W!==ie||!(S!==0||!Nh(s,l,r))||!(F!==0||!Nh(s,f,r))||!(W!==0||!Nh(l,s,f))||!(ie!==0||!Nh(l,r,f))}function Nh(s,r,l){return r.x<=Math.max(s.x,l.x)&&r.x>=Math.min(s.x,l.x)&&r.y<=Math.max(s.y,l.y)&&r.y>=Math.min(s.y,l.y)}function zh(s){return s>0?1:s<0?-1:0}function Gu(s,r){return ja(s.prev,s,s.next)<0?ja(s,r,s.next)>=0&&ja(s,s.prev,r)>=0:ja(s,r,s.prev)<0||ja(s,s.next,r)<0}function pp(s,r){var l=new Kd(s.i,s.x,s.y),f=new Kd(r.i,r.x,r.y),S=s.next,F=r.prev;return s.next=r,r.prev=s,l.next=S,S.prev=l,f.next=l,l.prev=f,F.next=f,f.prev=F,f}function mp(s,r,l,f){var S=new Kd(s,r,l);return f?(S.next=f.next,S.prev=f,f.next.prev=S,f.next=S):(S.prev=S,S.next=S),S}function Hu(s){s.next.prev=s.prev,s.prev.next=s.next,s.prevZ&&(s.prevZ.nextZ=s.nextZ),s.nextZ&&(s.nextZ.prevZ=s.prevZ)}function Kd(s,r,l){this.i=s,this.x=r,this.y=l,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Jd(s,r,l,f){for(var S=0,F=r,W=l-f;F<l;F+=f)S+=(s[W]-s[F])*(s[F+1]+s[W+1]),W=F;return S}function gp(s,r,l,f,S){yp(s,r,l||0,f||s.length-1,S||D0)}function yp(s,r,l,f,S){for(;f>l;){if(f-l>600){var F=f-l+1,W=r-l+1,ie=Math.log(F),le=.5*Math.exp(2*ie/3),me=.5*Math.sqrt(ie*le*(F-le)/F)*(W-F/2<0?-1:1);yp(s,r,Math.max(l,Math.floor(r-W*le/F+me)),Math.min(f,Math.floor(r+(F-W)*le/F+me)),S)}var Ee=s[r],Oe=l,Le=f;for(pc(s,l,r),S(s[f],Ee)>0&&pc(s,l,f);Oe<Le;){for(pc(s,Oe,Le),Oe++,Le--;S(s[Oe],Ee)<0;)Oe++;for(;S(s[Le],Ee)>0;)Le--}S(s[l],Ee)===0?pc(s,l,Le):pc(s,++Le,f),Le<=r&&(l=Le+1),r<=Le&&(f=Le-1)}}function pc(s,r,l){var f=s[r];s[r]=s[l],s[l]=f}function D0(s,r){return s<r?-1:s>r?1:0}function Qd(s,r){const l=s.length;if(l<=1)return[s];const f=[];let S,F;for(let W=0;W<l;W++){const ie=Ae(s[W]);ie!==0&&(s[W].area=Math.abs(ie),F===void 0&&(F=ie<0),F===ie<0?(S&&f.push(S),S=[s[W]]):S.push(s[W]))}if(S&&f.push(S),r>1)for(let W=0;W<f.length;W++)f[W].length<=r||(gp(f[W],r,1,f[W].length-1,L0),f[W]=f[W].slice(0,r));return f}function L0(s,r){return r.area-s.area}function ef(s,r,l){const f=l.patternDependencies;let S=!1;for(const F of r){const W=F.paint.get(`${s}-pattern`);W.isConstant()||(S=!0);const ie=W.constantOr(null);ie&&(S=!0,f[ie]=!0)}return S}function tf(s,r,l,f,S){const F=S.patternDependencies;for(const W of r){const ie=W.paint.get(`${s}-pattern`).value;if(ie.kind!=="constant"){let le=ie.evaluate({zoom:f},l,{},S.availableImages);le=le&&le.name?le.name:le,F[le]=!0,l.patterns[W.id]=le}}return l}$u.exports=Fh,$u.exports.default=Fh,Fh.deviation=function(s,r,l,f){var S=r&&r.length,F=Math.abs(Jd(s,0,S?r[0]*l:s.length,l));if(S)for(var W=0,ie=r.length;W<ie;W++)F-=Math.abs(Jd(s,r[W]*l,W<ie-1?r[W+1]*l:s.length,l));var le=0;for(W=0;W<f.length;W+=3){var me=f[W]*l,Ee=f[W+1]*l,Oe=f[W+2]*l;le+=Math.abs((s[me]-s[Oe])*(s[Ee+1]-s[me+1])-(s[me]-s[Ee])*(s[Oe+1]-s[me+1]))}return F===0&&le===0?0:Math.abs((le-F)/F)},Fh.flatten=function(s){for(var r=s[0][0].length,l={vertices:[],holes:[],dimensions:r},f=0,S=0;S<s.length;S++){for(var F=0;F<s[S].length;F++)for(var W=0;W<r;W++)l.vertices.push(s[S][F][W]);S>0&&l.holes.push(f+=s[S-1].length)}return l};class jh{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(l=>l.id),this.index=r.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Mn,this.indexArray=new _o,this.indexArray2=new al,this.programConfigurations=new Ll(r.layers,r.zoom),this.segments=new za,this.segments2=new za,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id),this.projection=r.projection}populate(r,l,f,S){this.hasPattern=ef("fill",this.layers,l);const F=this.layers[0].layout.get("fill-sort-key"),W=[];for(const{feature:ie,id:le,index:me,sourceLayerIndex:Ee}of r){const Oe=this.layers[0]._featureFilter.needGeometry,Le=Bl(ie,Oe);if(!this.layers[0]._featureFilter.filter(new ni(this.zoom),Le,f))continue;const Ve=F?F.evaluate(Le,{},f,l.availableImages):void 0,qe={id:le,properties:ie.properties,type:ie.type,sourceLayerIndex:Ee,index:me,geometry:Oe?Le.geometry:wl(ie,f,S),patterns:{},sortKey:Ve};W.push(qe)}F&&W.sort((ie,le)=>ie.sortKey-le.sortKey);for(const ie of W){const{geometry:le,index:me,sourceLayerIndex:Ee}=ie;if(this.hasPattern){const Oe=tf("fill",this.layers,ie,this.zoom,l);this.patternFeatures.push(Oe)}else this.addFeature(ie,le,me,f,{},l.availableImages);l.featureIndex.insert(r[me].feature,le,me,Ee,this.index)}}update(r,l,f,S){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,l,this.stateDependentLayers,f,S)}addFeatures(r,l,f,S,F){for(const W of this.patternFeatures)this.addFeature(W,W.geometry,W.index,l,f,S)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,k0),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.indexBuffer2=r.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(r,l,f,S,F,W=[]){for(const ie of Qd(l,500)){let le=0;for(const qe of ie)le+=qe.length;const me=this.segments.prepareSegment(le,this.layoutVertexArray,this.indexArray),Ee=me.vertexLength,Oe=[],Le=[];for(const qe of ie){if(qe.length===0)continue;qe!==ie[0]&&Le.push(Oe.length/2);const rt=this.segments2.prepareSegment(qe.length,this.layoutVertexArray,this.indexArray2),pt=rt.vertexLength;this.layoutVertexArray.emplaceBack(qe[0].x,qe[0].y),this.indexArray2.emplaceBack(pt+qe.length-1,pt),Oe.push(qe[0].x),Oe.push(qe[0].y);for(let Mt=1;Mt<qe.length;Mt++)this.layoutVertexArray.emplaceBack(qe[Mt].x,qe[Mt].y),this.indexArray2.emplaceBack(pt+Mt-1,pt+Mt),Oe.push(qe[Mt].x),Oe.push(qe[Mt].y);rt.vertexLength+=qe.length,rt.primitiveLength+=qe.length}const Ve=$u.exports(Oe,Le);for(let qe=0;qe<Ve.length;qe+=3)this.indexArray.emplaceBack(Ee+Ve[qe],Ee+Ve[qe+1],Ee+Ve[qe+2]);me.vertexLength+=le,me.primitiveLength+=Ve.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,f,F,W,S)}}ur(jh,"FillBucket",{omit:["layers","patternFeatures"]});const B0=new Sr({"fill-sort-key":new bi(ki.layout_fill["fill-sort-key"])});var F0={paint:new Sr({"fill-antialias":new ai(ki.paint_fill["fill-antialias"]),"fill-opacity":new bi(ki.paint_fill["fill-opacity"]),"fill-color":new bi(ki.paint_fill["fill-color"]),"fill-outline-color":new bi(ki.paint_fill["fill-outline-color"]),"fill-translate":new ai(ki.paint_fill["fill-translate"]),"fill-translate-anchor":new ai(ki.paint_fill["fill-translate-anchor"]),"fill-pattern":new bi(ki.paint_fill["fill-pattern"])}),layout:B0};const N0=mr([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),z0=mr([{name:"a_centroid_pos",components:2,type:"Uint16"}]),j0=mr([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:U0}=N0;var Uh={},$0=q,vp=uu;function uu(s,r,l,f,S){this.properties={},this.extent=l,this.type=0,this._pbf=s,this._geometry=-1,this._keys=f,this._values=S,s.readFields(_p,this,r)}function _p(s,r,l){s==1?r.id=l.readVarint():s==2?function(f,S){for(var F=f.readVarint()+f.pos;f.pos<F;){var W=S._keys[f.readVarint()],ie=S._values[f.readVarint()];S.properties[W]=ie}}(l,r):s==3?r.type=l.readVarint():s==4&&(r._geometry=l.pos)}function bp(s){for(var r,l,f=0,S=0,F=s.length,W=F-1;S<F;W=S++)f+=((l=s[W]).x-(r=s[S]).x)*(r.y+l.y);return f}uu.types=["Unknown","Point","LineString","Polygon"],uu.prototype.loadGeometry=function(){var s=this._pbf;s.pos=this._geometry;for(var r,l=s.readVarint()+s.pos,f=1,S=0,F=0,W=0,ie=[];s.pos<l;){if(S<=0){var le=s.readVarint();f=7&le,S=le>>3}if(S--,f===1||f===2)F+=s.readSVarint(),W+=s.readSVarint(),f===1&&(r&&ie.push(r),r=[]),r.push(new $0(F,W));else{if(f!==7)throw new Error("unknown command "+f);r&&r.push(r[0].clone())}}return r&&ie.push(r),ie},uu.prototype.bbox=function(){var s=this._pbf;s.pos=this._geometry;for(var r=s.readVarint()+s.pos,l=1,f=0,S=0,F=0,W=1/0,ie=-1/0,le=1/0,me=-1/0;s.pos<r;){if(f<=0){var Ee=s.readVarint();l=7&Ee,f=Ee>>3}if(f--,l===1||l===2)(S+=s.readSVarint())<W&&(W=S),S>ie&&(ie=S),(F+=s.readSVarint())<le&&(le=F),F>me&&(me=F);else if(l!==7)throw new Error("unknown command "+l)}return[W,le,ie,me]},uu.prototype.toGeoJSON=function(s,r,l){var f,S,F=this.extent*Math.pow(2,l),W=this.extent*s,ie=this.extent*r,le=this.loadGeometry(),me=uu.types[this.type];function Ee(Ve){for(var qe=0;qe<Ve.length;qe++){var rt=Ve[qe];Ve[qe]=[360*(rt.x+W)/F-180,360/Math.PI*Math.atan(Math.exp((180-360*(rt.y+ie)/F)*Math.PI/180))-90]}}switch(this.type){case 1:var Oe=[];for(f=0;f<le.length;f++)Oe[f]=le[f][0];Ee(le=Oe);break;case 2:for(f=0;f<le.length;f++)Ee(le[f]);break;case 3:for(le=function(Ve){var qe=Ve.length;if(qe<=1)return[Ve];for(var rt,pt,Mt=[],Ut=0;Ut<qe;Ut++){var Pt=bp(Ve[Ut]);Pt!==0&&(pt===void 0&&(pt=Pt<0),pt===Pt<0?(rt&&Mt.push(rt),rt=[Ve[Ut]]):rt.push(Ve[Ut]))}return rt&&Mt.push(rt),Mt}(le),f=0;f<le.length;f++)for(S=0;S<le[f].length;S++)Ee(le[f][S])}le.length===1?le=le[0]:me="Multi"+me;var Le={type:"Feature",geometry:{type:me,coordinates:le},properties:this.properties};return"id"in this&&(Le.id=this.id),Le};var V0=vp,xp=wp;function wp(s,r){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=s,this._keys=[],this._values=[],this._features=[],s.readFields(G0,this,r),this.length=this._features.length}function G0(s,r,l){s===15?r.version=l.readVarint():s===1?r.name=l.readString():s===5?r.extent=l.readVarint():s===2?r._features.push(l.pos):s===3?r._keys.push(l.readString()):s===4&&r._values.push(function(f){for(var S=null,F=f.readVarint()+f.pos;f.pos<F;){var W=f.readVarint()>>3;S=W===1?f.readString():W===2?f.readFloat():W===3?f.readDouble():W===4?f.readVarint64():W===5?f.readVarint():W===6?f.readSVarint():W===7?f.readBoolean():null}return S}(l))}wp.prototype.feature=function(s){if(s<0||s>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[s];var r=this._pbf.readVarint()+this._pbf.pos;return new V0(this._pbf,r,this.extent,this._keys,this._values)};var $h=xp;function H0(s,r,l){if(s===3){var f=new $h(l,l.readVarint()+l.pos);f.length&&(r[f.name]=f)}}var rf=Uh.VectorTile=function(s,r){this.layers=s.readFields(H0,{},r)},Vh=Uh.VectorTileFeature=vp;function Gh(s,r,l,f){const S=[],F=f===0?(W,ie,le,me,Ee,Oe)=>{W.push(new q(Oe,le+(Oe-ie)/(me-ie)*(Ee-le)))}:(W,ie,le,me,Ee,Oe)=>{W.push(new q(ie+(Oe-le)/(Ee-le)*(me-ie),Oe))};for(const W of s){const ie=[];for(const le of W){if(le.length<=2)continue;const me=[];for(let Le=0;Le<le.length-1;Le++){const Ve=le[Le].x,qe=le[Le].y,rt=le[Le+1].x,pt=le[Le+1].y,Mt=f===0?Ve:qe,Ut=f===0?rt:pt;Mt<r?Ut>r&&F(me,Ve,qe,rt,pt,r):Mt>l?Ut<l&&F(me,Ve,qe,rt,pt,l):me.push(le[Le]),Ut<r&&Mt>=r&&F(me,Ve,qe,rt,pt,r),Ut>l&&Mt<=l&&F(me,Ve,qe,rt,pt,l)}let Ee=le[le.length-1];const Oe=f===0?Ee.x:Ee.y;Oe>=r&&Oe<=l&&me.push(Ee),me.length&&(Ee=me[me.length-1],me[0].x===Ee.x&&me[0].y===Ee.y||me.push(me[0]),ie.push(me))}ie.length&&S.push(ie)}return S}Uh.VectorTileLayer=xp;const q0=Vh.types,W0=Math.pow(2,13);function qu(s,r,l,f,S,F,W,ie){s.emplaceBack((r<<1)+W,(l<<1)+F,(Math.floor(f*W0)<<1)+S,Math.round(ie))}function Wu(s,r,l){s.emplaceBack(r.x,r.y,r.z,l[0]*16384,l[1]*16384,l[2]*16384)}class Sp{constructor(){this.acc=new q(0,0),this.polyCount=[]}startRing(r){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new q(r.x,r.y),this.max=new q(r.x,r.y))}append(r,l){this.currentPolyCount.edges++,this.acc._add(r);const f=this.min,S=this.max;r.x<f.x?f.x=r.x:r.x>S.x&&(S.x=r.x),r.y<f.y?f.y=r.y:r.y>S.y&&(S.y=r.y),((r.x===0||r.x===Pr)&&r.x===l.x)!=((r.y===0||r.y===Pr)&&r.y===l.y)&&this.processBorderOverlap(r,l),l.x<0!=r.x<0&&this.addBorderIntersection(0,$r(l.y,r.y,(0-l.x)/(r.x-l.x))),l.x>Pr!=r.x>Pr&&this.addBorderIntersection(1,$r(l.y,r.y,(Pr-l.x)/(r.x-l.x))),l.y<0!=r.y<0&&this.addBorderIntersection(2,$r(l.x,r.x,(0-l.y)/(r.y-l.y))),l.y>Pr!=r.y>Pr&&this.addBorderIntersection(3,$r(l.x,r.x,(Pr-l.y)/(r.y-l.y)))}addBorderIntersection(r,l){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const f=this.borders[r];l<f[0]&&(f[0]=l),l>f[1]&&(f[1]=l)}processBorderOverlap(r,l){if(r.x===l.x){if(r.y===l.y)return;const f=r.x===0?0:1;this.addBorderIntersection(f,l.y),this.addBorderIntersection(f,r.y)}else{const f=r.y===0?2:3;this.addBorderIntersection(f,l.x),this.addBorderIntersection(f,r.x)}}centroid(){const r=this.polyCount.reduce((l,f)=>l+f.edges,0);return r!==0?this.acc.div(r)._round():new q(0,0)}span(){return new q(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((r,l)=>r+ +(l[0]!==Number.MAX_VALUE),0)}}class Yu{constructor(r){this.zoom=r.zoom,this.canonical=r.canonical,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(l=>l.id),this.index=r.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=r.projection,this.layoutVertexArray=new Bn,this.centroidVertexArray=new Ch,this.indexArray=new _o,this.programConfigurations=new Ll(r.layers,r.zoom),this.segments=new za,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id),this.enableTerrain=r.enableTerrain}populate(r,l,f,S){this.features=[],this.hasPattern=ef("fill-extrusion",this.layers,l),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(F){const W=Math.exp(Math.PI*(1-F.y/(1<<F.z)*2));return 80150034*W/(W*W+1)/Pr/(1<<F.z)}(f),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:F,id:W,index:ie,sourceLayerIndex:le}of r){const me=this.layers[0]._featureFilter.needGeometry,Ee=Bl(F,me);if(!this.layers[0]._featureFilter.filter(new ni(this.zoom),Ee,f))continue;const Oe={id:W,sourceLayerIndex:le,index:ie,geometry:me?Ee.geometry:wl(F,f,S),properties:F.properties,type:F.type,patterns:{}},Le=this.layoutVertexArray.length;this.hasPattern?this.features.push(tf("fill-extrusion",this.layers,Oe,this.zoom,l)):this.addFeature(Oe,Oe.geometry,ie,f,{},l.availableImages,S),l.featureIndex.insert(F,Oe.geometry,ie,le,this.index,Le)}this.sortBorders()}addFeatures(r,l,f,S,F){for(const W of this.features){const{geometry:ie}=W;this.addFeature(W,ie,W.index,l,f,S,F)}this.sortBorders()}update(r,l,f,S){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,l,this.stateDependentLayers,f,S)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,U0),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=r.createVertexBuffer(this.layoutVertexExtArray,j0.members,!0))),this.programConfigurations.upload(r),this.uploaded=!0}uploadCentroid(r){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=r.createVertexBuffer(this.centroidVertexArray,z0.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(r,l,f,S,F,W,ie){const le=[new q(0,0),new q(Pr,Pr)],me=ie.projection,Ee=me.name==="globe",Oe=this.enableTerrain&&!Ee?new Sp:null,Le=q0[r.type]==="Polygon";Ee&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Zn);const Ve=Qd(l,500);for(let Mt=Ve.length-1;Mt>=0;Mt--){const Ut=Ve[Mt];(Ut.length===0||(qe=Ut[0]).every(Pt=>Pt.x<=0)||qe.every(Pt=>Pt.x>=Pr)||qe.every(Pt=>Pt.y<=0)||qe.every(Pt=>Pt.y>=Pr))&&Ve.splice(Mt,1)}var qe;let rt;if(Ee)rt=sf(Ve,le,S);else{rt=[];for(const Mt of Ve)rt.push({polygon:Mt,bounds:le})}const pt=Le?this.edgeRadius:0;for(const{polygon:Mt,bounds:Ut}of rt){let Pt=0,Dt=0;for(const $t of Mt)Le&&!$t[0].equals($t[$t.length-1])&&$t.push($t[0]),Dt+=Le?$t.length-1:$t.length;const qt=this.segments.prepareSegment((Le?5:4)*Dt,this.layoutVertexArray,this.indexArray);if(Le){const $t=[],gi=[];Pt=qt.vertexLength;for(const Ri of Mt){let Xi,Ci;Ri.length&&Ri!==Mt[0]&&gi.push($t.length/2),Xi=Ri[1].sub(Ri[0])._perp()._unit();for(let Di=1;Di<Ri.length;Di++){const Fi=Ri[Di],Gi=Ri[Di===Ri.length-1?1:Di+1];let{x:Zi,y:Ti}=Fi;if(pt){Ci=Gi.sub(Fi)._perp()._unit();const sr=Xi.add(Ci)._unit(),Or=pt*Math.min(4,1/(Xi.x*sr.x+Xi.y*sr.y));Zi+=Or*sr.x,Ti+=Or*sr.y,Xi=Ci}qu(this.layoutVertexArray,Zi,Ti,0,0,1,1,0),qt.vertexLength++,$t.push(Fi.x,Fi.y),Ee&&Wu(this.layoutVertexExtArray,me.projectTilePoint(Zi,Ti,S),me.upVector(S,Zi,Ti))}}const pi=$u.exports($t,gi);for(let Ri=0;Ri<pi.length;Ri+=3)this.indexArray.emplaceBack(Pt+pi[Ri],Pt+pi[Ri+2],Pt+pi[Ri+1]),qt.primitiveLength++}for(const $t of Mt){Oe&&$t.length&&Oe.startRing($t[0]);let gi,pi,Ri,Xi=$t.length>4&&af($t[$t.length-2],$t[0],$t[1]),Ci=pt?Hh($t[$t.length-2],$t[0],$t[1],pt):0;pi=$t[1].sub($t[0])._perp()._unit();let Di=!0;for(let Fi=1,Gi=0;Fi<$t.length;Fi++){let Zi=$t[Fi-1],Ti=$t[Fi];const sr=$t[Fi===$t.length-1?1:Fi+1];if(Oe&&Le&&Oe.currentPolyCount.top++,nf(Ti,Zi,Ut)){pt&&(pi=sr.sub(Ti)._perp()._unit(),Di=!Di);continue}Oe&&Oe.append(Ti,Zi);const Or=Ti.sub(Zi)._perp(),fr=Or.x/(Math.abs(Or.x)+Math.abs(Or.y)),xr=Or.y>0?1:0,lr=Zi.dist(Ti);if(Gi+lr>32768&&(Gi=0),pt){Ri=sr.sub(Ti)._perp()._unit();let mn=Ap(Zi,Ti,sr,kp(pi,Ri),pt);isNaN(mn)&&(mn=0);const Vr=Ti.sub(Zi)._unit();Zi=Zi.add(Vr.mult(Ci))._round(),Ti=Ti.add(Vr.mult(-mn))._round(),Ci=mn,pi=Ri}const zr=qt.vertexLength,bn=$t.length>4&&af(Zi,Ti,sr);let yn=qh(Gi,Xi,Di);if(qu(this.layoutVertexArray,Zi.x,Zi.y,fr,xr,0,0,yn),qu(this.layoutVertexArray,Zi.x,Zi.y,fr,xr,0,1,yn),Gi+=lr,yn=qh(Gi,bn,!Di),Xi=bn,qu(this.layoutVertexArray,Ti.x,Ti.y,fr,xr,0,0,yn),qu(this.layoutVertexArray,Ti.x,Ti.y,fr,xr,0,1,yn),qt.vertexLength+=4,this.indexArray.emplaceBack(zr+0,zr+1,zr+2),this.indexArray.emplaceBack(zr+1,zr+3,zr+2),qt.primitiveLength+=2,pt){const mn=Pt+(Fi===1?$t.length-2:Fi-2),Vr=Fi===1?Pt:mn+1;if(this.indexArray.emplaceBack(zr+1,mn,zr+3),this.indexArray.emplaceBack(mn,Vr,zr+3),qt.primitiveLength+=2,gi===void 0&&(gi=zr),!nf(sr,$t[Fi],Ut)){const Wn=Fi===$t.length-1?gi:qt.vertexLength;this.indexArray.emplaceBack(zr+2,zr+3,Wn),this.indexArray.emplaceBack(zr+3,Wn+1,Wn),this.indexArray.emplaceBack(zr+3,Vr,Wn+1),qt.primitiveLength+=3}Di=!Di}if(Ee){const mn=this.layoutVertexExtArray,Vr=me.projectTilePoint(Zi.x,Zi.y,S),Wn=me.projectTilePoint(Ti.x,Ti.y,S),en=me.upVector(S,Zi.x,Zi.y),xn=me.upVector(S,Ti.x,Ti.y);Wu(mn,Vr,en),Wu(mn,Vr,en),Wu(mn,Wn,xn),Wu(mn,Wn,xn)}}Le&&(Pt+=$t.length-1)}}if(Oe&&Oe.polyCount.length>0){if(Oe.borders){Oe.vertexArrayOffset=this.centroidVertexArray.length;const Mt=Oe.borders,Ut=this.featuresOnBorder.push(Oe)-1;for(let Pt=0;Pt<4;Pt++)Mt[Pt][0]!==Number.MAX_VALUE&&this.borders[Pt].push(Ut)}this.encodeCentroid(Oe.borders?void 0:Oe.centroid(),Oe)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,f,F,W,S)}sortBorders(){for(let r=0;r<4;r++)this.borders[r].sort((l,f)=>this.featuresOnBorder[l].borders[r][0]-this.featuresOnBorder[f].borders[r][0])}encodeCentroid(r,l,f=!0){let S,F;if(r)if(r.y!==0){const ie=l.span()._mult(this.tileToMeter);S=(Math.max(r.x,1)<<3)+Math.min(7,Math.round(ie.x/10)),F=(Math.max(r.y,1)<<3)+Math.min(7,Math.round(ie.y/10))}else S=Math.ceil(7*(r.x+450)),F=0;else S=0,F=+f;let W=f?this.centroidVertexArray.length:l.vertexArrayOffset;for(const ie of l.polyCount){f&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*ie.edges+ie.top);for(let le=0;le<ie.top;le++)this.centroidVertexArray.emplace(W++,S,F);for(let le=0;le<2*ie.edges;le++)this.centroidVertexArray.emplace(W++,0,F),this.centroidVertexArray.emplace(W++,S,F)}}}function kp(s,r){const l=s.add(r)._unit();return s.x*l.x+s.y*l.y}function Hh(s,r,l,f){const S=r.sub(s)._perp()._unit(),F=l.sub(r)._perp()._unit();return Ap(s,r,l,kp(S,F),f)}function Ap(s,r,l,f,S){const F=Math.sqrt(1-f*f);return Math.min(s.dist(r)/3,r.dist(l)/3,S*F/f)}function nf(s,r,l){return s.x<l[0].x&&r.x<l[0].x||s.x>l[1].x&&r.x>l[1].x||s.y<l[0].y&&r.y<l[0].y||s.y>l[1].y&&r.y>l[1].y}function af(s,r,l){if(s.x<0||s.x>=Pr||r.x<0||r.x>=Pr||l.x<0||l.x>=Pr)return!1;const f=l.sub(r),S=f.perp(),F=s.sub(r);return(f.x*F.x+f.y*F.y)/Math.sqrt((f.x*f.x+f.y*f.y)*(F.x*F.x+F.y*F.y))>-.866&&S.x*F.x+S.y*F.y<0}function qh(s,r,l){const f=r?2|s:-3&s;return l?1|f:-2&f}function of(){const s=Math.PI/32,r=Math.tan(s),l=Tc;return l*Math.sqrt(1+2*r*r)-l}function sf(s,r,l){const f=1<<l.z,S=ws(l.x/f),F=ws((l.x+1)/f),W=Io(l.y/f),ie=Io((l.y+1)/f);return function(le,me,Ee,Oe,Le=0,Ve){const qe=[];if(!le.length||!Ee||!Oe)return qe;const rt=($t,gi)=>{for(const pi of $t)qe.push({polygon:pi,bounds:gi})},pt=Math.ceil(Math.log2(Ee)),Mt=Math.ceil(Math.log2(Oe)),Ut=pt-Mt,Pt=[];for(let $t=0;$t<Math.abs(Ut);$t++)Pt.push(Ut>0?0:1);for(let $t=0;$t<Math.min(pt,Mt);$t++)Pt.push(0),Pt.push(1);let Dt=le;if(Dt=Gh(Dt,me[0].y-Le,me[1].y+Le,1),Dt=Gh(Dt,me[0].x-Le,me[1].x+Le,0),!Dt.length)return qe;const qt=[];for(Pt.length?qt.push({polygons:Dt,bounds:me,depth:0}):rt(Dt,me);qt.length;){const $t=qt.pop(),gi=$t.depth,pi=Pt[gi],Ri=$t.bounds[0],Xi=$t.bounds[1],Ci=pi===0?Ri.x:Ri.y,Di=pi===0?Xi.x:Xi.y,Fi=Ve?Ve(pi,Ci,Di):.5*(Ci+Di),Gi=Gh($t.polygons,Ci-Le,Fi+Le,pi),Zi=Gh($t.polygons,Fi-Le,Di+Le,pi);if(Gi.length){const Ti=[Ri,new q(pi===0?Fi:Xi.x,pi===1?Fi:Xi.y)];Pt.length>gi+1?qt.push({polygons:Gi,bounds:Ti,depth:gi+1}):rt(Gi,Ti)}if(Zi.length){const Ti=[new q(pi===0?Fi:Ri.x,pi===1?Fi:Ri.y),Xi];Pt.length>gi+1?qt.push({polygons:Zi,bounds:Ti,depth:gi+1}):rt(Zi,Ti)}}return qe}(s,r,Math.ceil((F-S)/11.25),Math.ceil((W-ie)/11.25),1,(le,me,Ee)=>{if(le===0)return .5*(me+Ee);{const Oe=Io((l.y+me/Pr)/f);return(Ys(.5*(Io((l.y+Ee/Pr)/f)+Oe))*f-l.y)*Pr}})}ur(Yu,"FillExtrusionBucket",{omit:["layers","features"]}),ur(Sp,"PartMetadata");const Cp=new Sr({"fill-extrusion-edge-radius":new ai(ki["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var Ep={paint:new Sr({"fill-extrusion-opacity":new ai(ki["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new bi(ki["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ai(ki["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ai(ki["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new bi(ki["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new bi(ki["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new bi(ki["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ai(ki["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new ai(ki["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new ai(ki["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:Cp};function Tp(s,r,l){var f=2*Math.PI*6378137/256/Math.pow(2,l);return[s*f-2*Math.PI*6378137/2,r*f-2*Math.PI*6378137/2]}class Wh{constructor(r,l,f){this.z=r,this.x=l,this.y=f,this.key=mc(0,r,r,l,f)}equals(r){return this.z===r.z&&this.x===r.x&&this.y===r.y}url(r,l){const f=function(F,W,ie){var le=Tp(256*F,256*(W=Math.pow(2,ie)-W-1),ie),me=Tp(256*(F+1),256*(W+1),ie);return le[0]+","+le[1]+","+me[0]+","+me[1]}(this.x,this.y,this.z),S=function(F,W,ie){let le,me="";for(let Ee=F;Ee>0;Ee--)le=1<<Ee-1,me+=(W&le?1:0)+(ie&le?2:0);return me}(this.z,this.x,this.y);return r[(this.x+this.y)%r.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(l==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",S).replace("{bbox-epsg-3857}",f)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Pp{constructor(r,l){this.wrap=r,this.canonical=l,this.key=mc(r,l.z,l.z,l.x,l.y)}}class bo{constructor(r,l,f,S,F){this.overscaledZ=r,this.wrap=l,this.canonical=new Wh(f,+S,+F),this.key=l===0&&r===f?this.canonical.key:mc(l,r,f,S,F)}equals(r){return this.overscaledZ===r.overscaledZ&&this.wrap===r.wrap&&this.canonical.equals(r.canonical)}scaledTo(r){const l=this.canonical.z-r;return r>this.canonical.z?new bo(r,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new bo(r,this.wrap,r,this.canonical.x>>l,this.canonical.y>>l)}calculateScaledKey(r,l=!0){if(this.overscaledZ===r&&l)return this.key;if(r>this.canonical.z)return mc(this.wrap*+l,r,this.canonical.z,this.canonical.x,this.canonical.y);{const f=this.canonical.z-r;return mc(this.wrap*+l,r,r,this.canonical.x>>f,this.canonical.y>>f)}}isChildOf(r){if(r.wrap!==this.wrap)return!1;const l=this.canonical.z-r.canonical.z;return r.overscaledZ===0||r.overscaledZ<this.overscaledZ&&r.canonical.x===this.canonical.x>>l&&r.canonical.y===this.canonical.y>>l}children(r){if(this.overscaledZ>=r)return[new bo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const l=this.canonical.z+1,f=2*this.canonical.x,S=2*this.canonical.y;return[new bo(l,this.wrap,l,f,S),new bo(l,this.wrap,l,f+1,S),new bo(l,this.wrap,l,f,S+1),new bo(l,this.wrap,l,f+1,S+1)]}isLessThan(r){return this.wrap<r.wrap||!(this.wrap>r.wrap)&&(this.overscaledZ<r.overscaledZ||!(this.overscaledZ>r.overscaledZ)&&(this.canonical.x<r.canonical.x||!(this.canonical.x>r.canonical.x)&&this.canonical.y<r.canonical.y))}wrapped(){return new bo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(r){return new bo(this.overscaledZ,r,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Pp(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function mc(s,r,l,f,S){const F=1<<Math.min(l,22);let W=F*(S%F)+f%F;return s&&l<22&&(W+=F*F*((s<0?-2*s-1:2*s)%(1<<2*(22-l)))),16*(32*W+l)+(r-l)}ur(Wh,"CanonicalTileID"),ur(bo,"OverscaledTileID",{omit:["projMatrix"]});class hu extends q{constructor(r,l,f){super(r,l),this.z=f}}function Xu(s,r){return s.x*r.x+s.y*r.y}function Yh(s,r){if(s.length===1){let l=0;const f=r[l++];let S;for(;!S||f.equals(S);)if(S=r[l++],!S)return 1/0;for(;l<r.length;l++){const F=r[l],W=s[0],ie=S.sub(f),le=F.sub(f),me=W.sub(f),Ee=Xu(ie,ie),Oe=Xu(ie,le),Le=Xu(le,le),Ve=Xu(me,ie),qe=Xu(me,le),rt=Ee*Le-Oe*Oe,pt=(Le*Ve-Oe*qe)/rt,Mt=(Ee*qe-Oe*Ve)/rt,Ut=f.z*(1-pt-Mt)+S.z*pt+F.z*Mt;if(isFinite(Ut))return Ut}return 1/0}{let l=1/0;for(const f of r)l=Math.min(l,f.z);return l}}function lf(s,r,l,f,S,F,W,ie){const le=W*S.getElevationAt(s,r,!0,!0),me=F[0]!==0,Ee=me?F[1]===0?W*(F[0]/7-450):W*function(Oe,Le,Ve){const qe=Math.floor(Le[0]/8),rt=Math.floor(Le[1]/8),pt=10*(Le[0]-8*qe),Mt=10*(Le[1]-8*rt),Ut=Oe.getElevationAt(qe,rt,!0,!0),Pt=Oe.getMeterToDEM(Ve),Dt=Math.floor(.5*(pt*Pt-1)),qt=Math.floor(.5*(Mt*Pt-1)),$t=Oe.tileCoordToPixel(qe,rt),gi=2*Dt+1,pi=2*qt+1,Ri=function(Zi,Ti,sr,Or,fr){return[Zi.getElevationAtPixel(Ti,sr,!0),Zi.getElevationAtPixel(Ti+fr,sr,!0),Zi.getElevationAtPixel(Ti,sr+fr,!0),Zi.getElevationAtPixel(Ti+Or,sr+fr,!0)]}(Oe,$t.x-Dt,$t.y-qt,gi,pi),Xi=Math.abs(Ri[0]-Ri[1]),Ci=Math.abs(Ri[2]-Ri[3]),Di=Math.abs(Ri[0]-Ri[2])+Math.abs(Ri[1]-Ri[3]),Fi=Math.min(.25,.5*Pt*(Xi+Ci)/gi),Gi=Math.min(.25,.5*Pt*Di/pi);return Ut+Math.max(Fi*pt,Gi*Mt)}(S,F,ie):le;return{base:le+(l===0)?-1:l,top:me?Math.max(Ee+f,le+l+2):le+f}}const Y0=mr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:X0}=Y0,Z0=mr([{name:"a_packed",components:4,type:"Float32"}]),{members:K0}=Z0,J0=Vh.types,Q0=Math.cos(Math.PI/180*37.5);class Xh{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(l=>l.id),this.index=r.index,this.projection=r.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(l=>{this.gradients[l.id]={}}),this.layoutVertexArray=new ns,this.layoutVertexArray2=new jo,this.indexArray=new _o,this.programConfigurations=new Ll(r.layers,r.zoom),this.segments=new za,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(r,l,f,S){this.hasPattern=ef("line",this.layers,l);const F=this.layers[0].layout.get("line-sort-key"),W=[];for(const{feature:Ee,id:Oe,index:Le,sourceLayerIndex:Ve}of r){const qe=this.layers[0]._featureFilter.needGeometry,rt=Bl(Ee,qe);if(!this.layers[0]._featureFilter.filter(new ni(this.zoom),rt,f))continue;const pt=F?F.evaluate(rt,{},f):void 0,Mt={id:Oe,properties:Ee.properties,type:Ee.type,sourceLayerIndex:Ve,index:Le,geometry:qe?rt.geometry:wl(Ee,f,S),patterns:{},sortKey:pt};W.push(Mt)}F&&W.sort((Ee,Oe)=>Ee.sortKey-Oe.sortKey);const{lineAtlas:ie,featureIndex:le}=l,me=this.addConstantDashes(ie);for(const Ee of W){const{geometry:Oe,index:Le,sourceLayerIndex:Ve}=Ee;if(me&&this.addFeatureDashes(Ee,ie),this.hasPattern){const qe=tf("line",this.layers,Ee,this.zoom,l);this.patternFeatures.push(qe)}else this.addFeature(Ee,Oe,Le,f,ie.positions,l.availableImages);le.insert(r[Le].feature,Oe,Le,Ve,this.index)}}addConstantDashes(r){let l=!1;for(const f of this.layers){const S=f.paint.get("line-dasharray").value,F=f.layout.get("line-cap").value;if(S.kind!=="constant"||F.kind!=="constant")l=!0;else{const W=F.value,ie=S.value;if(!ie)continue;r.addDash(ie,W)}}return l}addFeatureDashes(r,l){const f=this.zoom;for(const S of this.layers){const F=S.paint.get("line-dasharray").value,W=S.layout.get("line-cap").value;if(F.kind==="constant"&&W.kind==="constant")continue;let ie,le;if(F.kind==="constant"){if(ie=F.value,!ie)continue}else ie=F.evaluate({zoom:f},r);le=W.kind==="constant"?W.value:W.evaluate({zoom:f},r),l.addDash(ie,le),r.patterns[S.id]=l.getKey(ie,le)}}update(r,l,f,S){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,l,this.stateDependentLayers,f,S)}addFeatures(r,l,f,S,F){for(const W of this.patternFeatures)this.addFeature(W,W.geometry,W.index,l,f,S)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=r.createVertexBuffer(this.layoutVertexArray2,K0)),this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,X0),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(r){if(r.properties&&r.properties.hasOwnProperty("mapbox_clip_start")&&r.properties.hasOwnProperty("mapbox_clip_end"))return{start:+r.properties.mapbox_clip_start,end:+r.properties.mapbox_clip_end}}addFeature(r,l,f,S,F,W){const ie=this.layers[0].layout,le=ie.get("line-join").evaluate(r,{}),me=ie.get("line-cap").evaluate(r,{}),Ee=ie.get("line-miter-limit"),Oe=ie.get("line-round-limit");this.lineClips=this.lineFeatureClips(r);for(const Le of l)this.addLine(Le,r,le,me,Ee,Oe);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,f,F,W,S)}addLine(r,l,f,S,F,W){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Mt=0;Mt<r.length-1;Mt++)this.totalDistance+=r[Mt].dist(r[Mt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const ie=J0[l.type]==="Polygon";let le=r.length;for(;le>=2&&r[le-1].equals(r[le-2]);)le--;let me=0;for(;me<le-1&&r[me].equals(r[me+1]);)me++;if(le<(ie?3:2))return;f==="bevel"&&(F=1.05);const Ee=this.overscaling<=16?122880/(512*this.overscaling):0,Oe=this.segments.prepareSegment(10*le,this.layoutVertexArray,this.indexArray);let Le,Ve,qe,rt,pt;this.e1=this.e2=-1,ie&&(Le=r[le-2],pt=r[me].sub(Le)._unit()._perp());for(let Mt=me;Mt<le;Mt++){if(qe=Mt===le-1?ie?r[me+1]:void 0:r[Mt+1],qe&&r[Mt].equals(qe))continue;pt&&(rt=pt),Le&&(Ve=Le),Le=r[Mt],pt=qe?qe.sub(Le)._unit()._perp():rt,rt=rt||pt;let Ut=rt.add(pt);Ut.x===0&&Ut.y===0||Ut._unit();const Pt=rt.x*pt.x+rt.y*pt.y,Dt=Ut.x*pt.x+Ut.y*pt.y,qt=Dt!==0?1/Dt:1/0,$t=2*Math.sqrt(2-2*Dt),gi=Dt<Q0&&Ve&&qe,pi=rt.x*pt.y-rt.y*pt.x>0;if(gi&&Mt>me){const Ci=Le.dist(Ve);if(Ci>2*Ee){const Di=Le.sub(Le.sub(Ve)._mult(Ee/Ci)._round());this.updateDistance(Ve,Di),this.addCurrentVertex(Di,rt,0,0,Oe),Ve=Di}}const Ri=Ve&&qe;let Xi=Ri?f:ie?"butt":S;if(Ri&&Xi==="round"&&(qt<W?Xi="miter":qt<=2&&(Xi="fakeround")),Xi==="miter"&&qt>F&&(Xi="bevel"),Xi==="bevel"&&(qt>2&&(Xi="flipbevel"),qt<F&&(Xi="miter")),Ve&&this.updateDistance(Ve,Le),Xi==="miter")Ut._mult(qt),this.addCurrentVertex(Le,Ut,0,0,Oe);else if(Xi==="flipbevel"){if(qt>100)Ut=pt.mult(-1);else{const Ci=qt*rt.add(pt).mag()/rt.sub(pt).mag();Ut._perp()._mult(Ci*(pi?-1:1))}this.addCurrentVertex(Le,Ut,0,0,Oe),this.addCurrentVertex(Le,Ut.mult(-1),0,0,Oe)}else if(Xi==="bevel"||Xi==="fakeround"){const Ci=-Math.sqrt(qt*qt-1),Di=pi?Ci:0,Fi=pi?0:Ci;if(Ve&&this.addCurrentVertex(Le,rt,Di,Fi,Oe),Xi==="fakeround"){const Gi=Math.round(180*$t/Math.PI/20);for(let Zi=1;Zi<Gi;Zi++){let Ti=Zi/Gi;if(Ti!==.5){const Or=Ti-.5;Ti+=Ti*Or*(Ti-1)*((1.0904+Pt*(Pt*(3.55645-1.43519*Pt)-3.2452))*Or*Or+(.848013+Pt*(.215638*Pt-1.06021)))}const sr=pt.sub(rt)._mult(Ti)._add(rt)._unit()._mult(pi?-1:1);this.addHalfVertex(Le,sr.x,sr.y,!1,pi,0,Oe)}}qe&&this.addCurrentVertex(Le,pt,-Di,-Fi,Oe)}else if(Xi==="butt")this.addCurrentVertex(Le,Ut,0,0,Oe);else if(Xi==="square"){const Ci=Ve?1:-1;Ve||this.addCurrentVertex(Le,Ut,Ci,Ci,Oe),this.addCurrentVertex(Le,Ut,0,0,Oe),Ve&&this.addCurrentVertex(Le,Ut,Ci,Ci,Oe)}else Xi==="round"&&(Ve&&(this.addCurrentVertex(Le,rt,0,0,Oe),this.addCurrentVertex(Le,rt,1,1,Oe,!0)),qe&&(this.addCurrentVertex(Le,pt,-1,-1,Oe,!0),this.addCurrentVertex(Le,pt,0,0,Oe)));if(gi&&Mt<le-1){const Ci=Le.dist(qe);if(Ci>2*Ee){const Di=Le.add(qe.sub(Le)._mult(Ee/Ci)._round());this.updateDistance(Le,Di),this.addCurrentVertex(Di,pt,0,0,Oe),Le=Di}}}}addCurrentVertex(r,l,f,S,F,W=!1){const ie=l.y*S-l.x,le=-l.y-l.x*S;this.addHalfVertex(r,l.x+l.y*f,l.y-l.x*f,W,!1,f,F),this.addHalfVertex(r,ie,le,W,!0,-S,F)}addHalfVertex({x:r,y:l},f,S,F,W,ie,le){this.layoutVertexArray.emplaceBack((r<<1)+(F?1:0),(l<<1)+(W?1:0),Math.round(63*f)+128,Math.round(63*S)+128,1+(ie===0?0:ie<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const me=le.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,me),le.primitiveLength++),W?this.e2=me:this.e1=me}updateScaledDistance(){if(this.lineClips){const r=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=r*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(r,l){this.distance+=r.dist(l),this.updateScaledDistance()}}ur(Xh,"LineBucket",{omit:["layers","patternFeatures"]});const em=new Sr({"line-cap":new bi(ki.layout_line["line-cap"]),"line-join":new bi(ki.layout_line["line-join"]),"line-miter-limit":new ai(ki.layout_line["line-miter-limit"]),"line-round-limit":new ai(ki.layout_line["line-round-limit"]),"line-sort-key":new bi(ki.layout_line["line-sort-key"])});var Mp={paint:new Sr({"line-opacity":new bi(ki.paint_line["line-opacity"]),"line-color":new bi(ki.paint_line["line-color"]),"line-translate":new ai(ki.paint_line["line-translate"]),"line-translate-anchor":new ai(ki.paint_line["line-translate-anchor"]),"line-width":new bi(ki.paint_line["line-width"]),"line-gap-width":new bi(ki.paint_line["line-gap-width"]),"line-offset":new bi(ki.paint_line["line-offset"]),"line-blur":new bi(ki.paint_line["line-blur"]),"line-dasharray":new bi(ki.paint_line["line-dasharray"]),"line-pattern":new bi(ki.paint_line["line-pattern"]),"line-gradient":new vr(ki.paint_line["line-gradient"]),"line-trim-offset":new ai(ki.paint_line["line-trim-offset"])}),layout:em};const Ip=new class extends bi{possiblyEvaluate(s,r){return r=new ni(Math.floor(r.zoom),{now:r.now,fadeDuration:r.fadeDuration,transition:r.transition}),super.possiblyEvaluate(s,r)}evaluate(s,r,l,f){return r=ee({},r,{zoom:Math.floor(r.zoom)}),super.evaluate(s,r,l,f)}}(Mp.paint.properties["line-width"].specification);function Op(s,r){return r>0?r+2*s:s}Ip.useIntegerZoom=!0;const tm=mr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Al=mr([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),im=mr([{name:"a_projected_pos",components:4,type:"Float32"}],4);mr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const rm=mr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Fc=mr([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);mr([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const pn=mr([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),nm=mr([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);mr([{name:"triangle",components:3,type:"Uint16"}]),mr([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),mr([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),mr([{type:"Float32",name:"offsetX"}]),mr([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Jn=24;const aa=128;function cf(s,r){const{expression:l}=r;if(l.kind==="constant")return{kind:"constant",layoutSize:l.evaluate(new ni(s+1))};if(l.kind==="source")return{kind:"source"};{const{zoomStops:f,interpolationType:S}=l;let F=0;for(;F<f.length&&f[F]<=s;)F++;F=Math.max(0,F-1);let W=F;for(;W<f.length&&f[W]<s+1;)W++;W=Math.min(f.length-1,W);const ie=f[F],le=f[W];return l.kind==="composite"?{kind:"composite",minZoom:ie,maxZoom:le,interpolationType:S}:{kind:"camera",minZoom:ie,maxZoom:le,minSize:l.evaluate(new ni(ie)),maxSize:l.evaluate(new ni(le)),interpolationType:S}}}function Cl(s,{uSize:r,uSizeT:l},{lowerSize:f,upperSize:S}){return s.kind==="source"?f/aa:s.kind==="composite"?$r(f/aa,S/aa,l):r}function du(s,r){let l=0,f=0;if(s.kind==="constant")f=s.layoutSize;else if(s.kind!=="source"){const{interpolationType:S,minZoom:F,maxZoom:W}=s,ie=S?y(ho.interpolationFactor(S,r,F,W),0,1):0;s.kind==="camera"?f=$r(s.minSize,s.maxSize,ie):l=ie}return{uSizeT:l,uSize:f}}var am=Object.freeze({__proto__:null,getSizeData:cf,evaluateSizeForFeature:Cl,evaluateSizeForZoom:du,SIZE_PACK_FACTOR:aa});function om(s,r,l){return s.sections.forEach(f=>{f.text=function(S,F,W){const ie=F.layout.get("text-transform").evaluate(W,{});return ie==="uppercase"?S=S.toLocaleUpperCase():ie==="lowercase"&&(S=S.toLocaleLowerCase()),di.applyArabicShaping&&(S=di.applyArabicShaping(S)),S}(f.text,r,l)}),s}const Zu={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function sm(s){return s==="︶"||s==="﹈"||s==="︸"||s==="﹄"||s==="﹂"||s==="︾"||s==="︼"||s==="︺"||s==="︘"||s==="﹀"||s==="︐"||s==="︓"||s==="︔"||s==="｀"||s==="￣"||s==="︑"||s==="︒"}function uf(s){return s==="︵"||s==="﹇"||s==="︷"||s==="﹃"||s==="﹁"||s==="︽"||s==="︻"||s==="︹"||s==="︗"||s==="︿"}var Ku=Un,zl=function(s,r,l,f,S){var F,W,ie=8*S-f-1,le=(1<<ie)-1,me=le>>1,Ee=-7,Oe=l?S-1:0,Le=l?-1:1,Ve=s[r+Oe];for(Oe+=Le,F=Ve&(1<<-Ee)-1,Ve>>=-Ee,Ee+=ie;Ee>0;F=256*F+s[r+Oe],Oe+=Le,Ee-=8);for(W=F&(1<<-Ee)-1,F>>=-Ee,Ee+=f;Ee>0;W=256*W+s[r+Oe],Oe+=Le,Ee-=8);if(F===0)F=1-me;else{if(F===le)return W?NaN:1/0*(Ve?-1:1);W+=Math.pow(2,f),F-=me}return(Ve?-1:1)*W*Math.pow(2,F-f)},hf=function(s,r,l,f,S,F){var W,ie,le,me=8*F-S-1,Ee=(1<<me)-1,Oe=Ee>>1,Le=S===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ve=f?0:F-1,qe=f?1:-1,rt=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(ie=isNaN(r)?1:0,W=Ee):(W=Math.floor(Math.log(r)/Math.LN2),r*(le=Math.pow(2,-W))<1&&(W--,le*=2),(r+=W+Oe>=1?Le/le:Le*Math.pow(2,1-Oe))*le>=2&&(W++,le/=2),W+Oe>=Ee?(ie=0,W=Ee):W+Oe>=1?(ie=(r*le-1)*Math.pow(2,S),W+=Oe):(ie=r*Math.pow(2,Oe-1)*Math.pow(2,S),W=0));S>=8;s[l+Ve]=255&ie,Ve+=qe,ie/=256,S-=8);for(W=W<<S|ie,me+=S;me>0;s[l+Ve]=255&W,Ve+=qe,W/=256,me-=8);s[l+Ve-qe]|=128*rt};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function Un(s){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(s)?s:new Uint8Array(s||0),this.pos=0,this.type=0,this.length=this.buf.length}Un.Varint=0,Un.Fixed64=1,Un.Bytes=2,Un.Fixed32=5;var Ma=4294967296,Ua=1/Ma,df=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Jl(s){return s.type===Un.Bytes?s.readVarint()+s.pos:s.pos+1}function fu(s,r,l){return l?4294967296*r+(s>>>0):4294967296*(r>>>0)+(s>>>0)}function Rp(s,r,l){var f=r<=16383?1:r<=2097151?2:r<=268435455?3:Math.floor(Math.log(r)/(7*Math.LN2));l.realloc(f);for(var S=l.pos-1;S>=s;S--)l.buf[S+f]=l.buf[S]}function lm(s,r){for(var l=0;l<s.length;l++)r.writeVarint(s[l])}function cm(s,r){for(var l=0;l<s.length;l++)r.writeSVarint(s[l])}function um(s,r){for(var l=0;l<s.length;l++)r.writeFloat(s[l])}function Dp(s,r){for(var l=0;l<s.length;l++)r.writeDouble(s[l])}function Ju(s,r){for(var l=0;l<s.length;l++)r.writeBoolean(s[l])}function ff(s,r){for(var l=0;l<s.length;l++)r.writeFixed32(s[l])}function hm(s,r){for(var l=0;l<s.length;l++)r.writeSFixed32(s[l])}function Lp(s,r){for(var l=0;l<s.length;l++)r.writeFixed64(s[l])}function Zh(s,r){for(var l=0;l<s.length;l++)r.writeSFixed64(s[l])}function hs(s,r){return(s[r]|s[r+1]<<8|s[r+2]<<16)+16777216*s[r+3]}function El(s,r,l){s[l]=r,s[l+1]=r>>>8,s[l+2]=r>>>16,s[l+3]=r>>>24}function Bp(s,r){return(s[r]|s[r+1]<<8|s[r+2]<<16)+(s[r+3]<<24)}function dm(s,r,l){r.glyphs=[],s===1&&l.readMessage(fm,r)}function fm(s,r,l){if(s===3){const{id:f,bitmap:S,width:F,height:W,left:ie,top:le,advance:me}=l.readMessage(pm,{});r.glyphs.push({id:f,bitmap:new Kl({width:F+6,height:W+6},S),metrics:{width:F,height:W,left:ie,top:le,advance:me}})}else s===4?r.ascender=l.readSVarint():s===5&&(r.descender=l.readSVarint())}function pm(s,r,l){s===1?r.id=l.readVarint():s===2?r.bitmap=l.readBytes():s===3?r.width=l.readVarint():s===4?r.height=l.readVarint():s===5?r.left=l.readSVarint():s===6?r.top=l.readSVarint():s===7&&(r.advance=l.readVarint())}function pf(s){let r=0,l=0;for(const W of s)r+=W.w*W.h,l=Math.max(l,W.w);s.sort((W,ie)=>ie.h-W.h);const f=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(r/.95)),l),h:1/0}];let S=0,F=0;for(const W of s)for(let ie=f.length-1;ie>=0;ie--){const le=f[ie];if(!(W.w>le.w||W.h>le.h)){if(W.x=le.x,W.y=le.y,F=Math.max(F,W.y+W.h),S=Math.max(S,W.x+W.w),W.w===le.w&&W.h===le.h){const me=f.pop();ie<f.length&&(f[ie]=me)}else W.h===le.h?(le.x+=W.w,le.w-=W.w):W.w===le.w?(le.y+=W.h,le.h-=W.h):(f.push({x:le.x+W.w,y:le.y,w:le.w-W.w,h:W.h}),le.y+=W.h,le.h-=W.h);break}}return{w:S,h:F,fill:r/(S*F)||0}}Un.prototype={destroy:function(){this.buf=null},readFields:function(s,r,l){for(l=l||this.length;this.pos<l;){var f=this.readVarint(),S=f>>3,F=this.pos;this.type=7&f,s(S,r,this),this.pos===F&&this.skip(f)}return r},readMessage:function(s,r){return this.readFields(s,r,this.readVarint()+this.pos)},readFixed32:function(){var s=hs(this.buf,this.pos);return this.pos+=4,s},readSFixed32:function(){var s=Bp(this.buf,this.pos);return this.pos+=4,s},readFixed64:function(){var s=hs(this.buf,this.pos)+hs(this.buf,this.pos+4)*Ma;return this.pos+=8,s},readSFixed64:function(){var s=hs(this.buf,this.pos)+Bp(this.buf,this.pos+4)*Ma;return this.pos+=8,s},readFloat:function(){var s=zl(this.buf,this.pos,!0,23,4);return this.pos+=4,s},readDouble:function(){var s=zl(this.buf,this.pos,!0,52,8);return this.pos+=8,s},readVarint:function(s){var r,l,f=this.buf;return r=127&(l=f[this.pos++]),l<128?r:(r|=(127&(l=f[this.pos++]))<<7,l<128?r:(r|=(127&(l=f[this.pos++]))<<14,l<128?r:(r|=(127&(l=f[this.pos++]))<<21,l<128?r:function(S,F,W){var ie,le,me=W.buf;if(ie=(112&(le=me[W.pos++]))>>4,le<128||(ie|=(127&(le=me[W.pos++]))<<3,le<128)||(ie|=(127&(le=me[W.pos++]))<<10,le<128)||(ie|=(127&(le=me[W.pos++]))<<17,le<128)||(ie|=(127&(le=me[W.pos++]))<<24,le<128)||(ie|=(1&(le=me[W.pos++]))<<31,le<128))return fu(S,ie,F);throw new Error("Expected varint not more than 10 bytes")}(r|=(15&(l=f[this.pos]))<<28,s,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var s=this.readVarint();return s%2==1?(s+1)/-2:s/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var s=this.readVarint()+this.pos,r=this.pos;return this.pos=s,s-r>=12&&df?function(l,f,S){return df.decode(l.subarray(f,S))}(this.buf,r,s):function(l,f,S){for(var F="",W=f;W<S;){var ie,le,me,Ee=l[W],Oe=null,Le=Ee>239?4:Ee>223?3:Ee>191?2:1;if(W+Le>S)break;Le===1?Ee<128&&(Oe=Ee):Le===2?(192&(ie=l[W+1]))==128&&(Oe=(31&Ee)<<6|63&ie)<=127&&(Oe=null):Le===3?(le=l[W+2],(192&(ie=l[W+1]))==128&&(192&le)==128&&((Oe=(15&Ee)<<12|(63&ie)<<6|63&le)<=2047||Oe>=55296&&Oe<=57343)&&(Oe=null)):Le===4&&(le=l[W+2],me=l[W+3],(192&(ie=l[W+1]))==128&&(192&le)==128&&(192&me)==128&&((Oe=(15&Ee)<<18|(63&ie)<<12|(63&le)<<6|63&me)<=65535||Oe>=1114112)&&(Oe=null)),Oe===null?(Oe=65533,Le=1):Oe>65535&&(Oe-=65536,F+=String.fromCharCode(Oe>>>10&1023|55296),Oe=56320|1023&Oe),F+=String.fromCharCode(Oe),W+=Le}return F}(this.buf,r,s)},readBytes:function(){var s=this.readVarint()+this.pos,r=this.buf.subarray(this.pos,s);return this.pos=s,r},readPackedVarint:function(s,r){if(this.type!==Un.Bytes)return s.push(this.readVarint(r));var l=Jl(this);for(s=s||[];this.pos<l;)s.push(this.readVarint(r));return s},readPackedSVarint:function(s){if(this.type!==Un.Bytes)return s.push(this.readSVarint());var r=Jl(this);for(s=s||[];this.pos<r;)s.push(this.readSVarint());return s},readPackedBoolean:function(s){if(this.type!==Un.Bytes)return s.push(this.readBoolean());var r=Jl(this);for(s=s||[];this.pos<r;)s.push(this.readBoolean());return s},readPackedFloat:function(s){if(this.type!==Un.Bytes)return s.push(this.readFloat());var r=Jl(this);for(s=s||[];this.pos<r;)s.push(this.readFloat());return s},readPackedDouble:function(s){if(this.type!==Un.Bytes)return s.push(this.readDouble());var r=Jl(this);for(s=s||[];this.pos<r;)s.push(this.readDouble());return s},readPackedFixed32:function(s){if(this.type!==Un.Bytes)return s.push(this.readFixed32());var r=Jl(this);for(s=s||[];this.pos<r;)s.push(this.readFixed32());return s},readPackedSFixed32:function(s){if(this.type!==Un.Bytes)return s.push(this.readSFixed32());var r=Jl(this);for(s=s||[];this.pos<r;)s.push(this.readSFixed32());return s},readPackedFixed64:function(s){if(this.type!==Un.Bytes)return s.push(this.readFixed64());var r=Jl(this);for(s=s||[];this.pos<r;)s.push(this.readFixed64());return s},readPackedSFixed64:function(s){if(this.type!==Un.Bytes)return s.push(this.readSFixed64());var r=Jl(this);for(s=s||[];this.pos<r;)s.push(this.readSFixed64());return s},skip:function(s){var r=7&s;if(r===Un.Varint)for(;this.buf[this.pos++]>127;);else if(r===Un.Bytes)this.pos=this.readVarint()+this.pos;else if(r===Un.Fixed32)this.pos+=4;else{if(r!==Un.Fixed64)throw new Error("Unimplemented type: "+r);this.pos+=8}},writeTag:function(s,r){this.writeVarint(s<<3|r)},realloc:function(s){for(var r=this.length||16;r<this.pos+s;)r*=2;if(r!==this.length){var l=new Uint8Array(r);l.set(this.buf),this.buf=l,this.length=r}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(s){this.realloc(4),El(this.buf,s,this.pos),this.pos+=4},writeSFixed32:function(s){this.realloc(4),El(this.buf,s,this.pos),this.pos+=4},writeFixed64:function(s){this.realloc(8),El(this.buf,-1&s,this.pos),El(this.buf,Math.floor(s*Ua),this.pos+4),this.pos+=8},writeSFixed64:function(s){this.realloc(8),El(this.buf,-1&s,this.pos),El(this.buf,Math.floor(s*Ua),this.pos+4),this.pos+=8},writeVarint:function(s){(s=+s||0)>268435455||s<0?function(r,l){var f,S;if(r>=0?(f=r%4294967296|0,S=r/4294967296|0):(S=~(-r/4294967296),4294967295^(f=~(-r%4294967296))?f=f+1|0:(f=0,S=S+1|0)),r>=18446744073709552e3||r<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");l.realloc(10),function(F,W,ie){ie.buf[ie.pos++]=127&F|128,F>>>=7,ie.buf[ie.pos++]=127&F|128,F>>>=7,ie.buf[ie.pos++]=127&F|128,F>>>=7,ie.buf[ie.pos++]=127&F|128,ie.buf[ie.pos]=127&(F>>>=7)}(f,0,l),function(F,W){var ie=(7&F)<<4;W.buf[W.pos++]|=ie|((F>>>=3)?128:0),F&&(W.buf[W.pos++]=127&F|((F>>>=7)?128:0),F&&(W.buf[W.pos++]=127&F|((F>>>=7)?128:0),F&&(W.buf[W.pos++]=127&F|((F>>>=7)?128:0),F&&(W.buf[W.pos++]=127&F|((F>>>=7)?128:0),F&&(W.buf[W.pos++]=127&F)))))}(S,l)}(s,this):(this.realloc(4),this.buf[this.pos++]=127&s|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=s>>>7&127))))},writeSVarint:function(s){this.writeVarint(s<0?2*-s-1:2*s)},writeBoolean:function(s){this.writeVarint(!!s)},writeString:function(s){s=String(s),this.realloc(4*s.length),this.pos++;var r=this.pos;this.pos=function(f,S,F){for(var W,ie,le=0;le<S.length;le++){if((W=S.charCodeAt(le))>55295&&W<57344){if(!ie){W>56319||le+1===S.length?(f[F++]=239,f[F++]=191,f[F++]=189):ie=W;continue}if(W<56320){f[F++]=239,f[F++]=191,f[F++]=189,ie=W;continue}W=ie-55296<<10|W-56320|65536,ie=null}else ie&&(f[F++]=239,f[F++]=191,f[F++]=189,ie=null);W<128?f[F++]=W:(W<2048?f[F++]=W>>6|192:(W<65536?f[F++]=W>>12|224:(f[F++]=W>>18|240,f[F++]=W>>12&63|128),f[F++]=W>>6&63|128),f[F++]=63&W|128)}return F}(this.buf,s,this.pos);var l=this.pos-r;l>=128&&Rp(r,l,this),this.pos=r-1,this.writeVarint(l),this.pos+=l},writeFloat:function(s){this.realloc(4),hf(this.buf,s,this.pos,!0,23,4),this.pos+=4},writeDouble:function(s){this.realloc(8),hf(this.buf,s,this.pos,!0,52,8),this.pos+=8},writeBytes:function(s){var r=s.length;this.writeVarint(r),this.realloc(r);for(var l=0;l<r;l++)this.buf[this.pos++]=s[l]},writeRawMessage:function(s,r){this.pos++;var l=this.pos;s(r,this);var f=this.pos-l;f>=128&&Rp(l,f,this),this.pos=l-1,this.writeVarint(f),this.pos+=f},writeMessage:function(s,r,l){this.writeTag(s,Un.Bytes),this.writeRawMessage(r,l)},writePackedVarint:function(s,r){r.length&&this.writeMessage(s,lm,r)},writePackedSVarint:function(s,r){r.length&&this.writeMessage(s,cm,r)},writePackedBoolean:function(s,r){r.length&&this.writeMessage(s,Ju,r)},writePackedFloat:function(s,r){r.length&&this.writeMessage(s,um,r)},writePackedDouble:function(s,r){r.length&&this.writeMessage(s,Dp,r)},writePackedFixed32:function(s,r){r.length&&this.writeMessage(s,ff,r)},writePackedSFixed32:function(s,r){r.length&&this.writeMessage(s,hm,r)},writePackedFixed64:function(s,r){r.length&&this.writeMessage(s,Lp,r)},writePackedSFixed64:function(s,r){r.length&&this.writeMessage(s,Zh,r)},writeBytesField:function(s,r){this.writeTag(s,Un.Bytes),this.writeBytes(r)},writeFixed32Field:function(s,r){this.writeTag(s,Un.Fixed32),this.writeFixed32(r)},writeSFixed32Field:function(s,r){this.writeTag(s,Un.Fixed32),this.writeSFixed32(r)},writeFixed64Field:function(s,r){this.writeTag(s,Un.Fixed64),this.writeFixed64(r)},writeSFixed64Field:function(s,r){this.writeTag(s,Un.Fixed64),this.writeSFixed64(r)},writeVarintField:function(s,r){this.writeTag(s,Un.Varint),this.writeVarint(r)},writeSVarintField:function(s,r){this.writeTag(s,Un.Varint),this.writeSVarint(r)},writeStringField:function(s,r){this.writeTag(s,Un.Bytes),this.writeString(r)},writeFloatField:function(s,r){this.writeTag(s,Un.Fixed32),this.writeFloat(r)},writeDoubleField:function(s,r){this.writeTag(s,Un.Fixed64),this.writeDouble(r)},writeBooleanField:function(s,r){this.writeVarintField(s,!!r)}};class Kh{constructor(r,{pixelRatio:l,version:f,stretchX:S,stretchY:F,content:W}){this.paddedRect=r,this.pixelRatio=l,this.stretchX=S,this.stretchY=F,this.content=W,this.version=f}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class jl{constructor(r,l){const f={},S={};this.haveRenderCallbacks=[];const F=[];this.addImages(r,f,F),this.addImages(l,S,F);const{w:W,h:ie}=pf(F),le=new Bs({width:W||1,height:ie||1});for(const me in r){const Ee=r[me],Oe=f[me].paddedRect;Bs.copy(Ee.data,le,{x:0,y:0},{x:Oe.x+1,y:Oe.y+1},Ee.data)}for(const me in l){const Ee=l[me],Oe=S[me].paddedRect,Le=Oe.x+1,Ve=Oe.y+1,qe=Ee.data.width,rt=Ee.data.height;Bs.copy(Ee.data,le,{x:0,y:0},{x:Le,y:Ve},Ee.data),Bs.copy(Ee.data,le,{x:0,y:rt-1},{x:Le,y:Ve-1},{width:qe,height:1}),Bs.copy(Ee.data,le,{x:0,y:0},{x:Le,y:Ve+rt},{width:qe,height:1}),Bs.copy(Ee.data,le,{x:qe-1,y:0},{x:Le-1,y:Ve},{width:1,height:rt}),Bs.copy(Ee.data,le,{x:0,y:0},{x:Le+qe,y:Ve},{width:1,height:rt})}this.image=le,this.iconPositions=f,this.patternPositions=S}addImages(r,l,f){for(const S in r){const F=r[S],W={x:0,y:0,w:F.data.width+2,h:F.data.height+2};f.push(W),l[S]=new Kh(W,F),F.hasRenderCallback&&this.haveRenderCallbacks.push(S)}}patchUpdatedImages(r,l){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(f=>r.hasImage(f)),r.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const f in r.updatedImages)this.patchUpdatedImage(this.iconPositions[f],r.getImage(f),l),this.patchUpdatedImage(this.patternPositions[f],r.getImage(f),l)}patchUpdatedImage(r,l,f){if(!r||!l||r.version===l.version)return;r.version=l.version;const[S,F]=r.tl;f.update(l.data,void 0,{x:S,y:F})}}ur(Kh,"ImagePosition"),ur(jl,"ImageAtlas");const Kr={horizontal:1,vertical:2,horizontalOnly:3};class pu{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(r,l){const f=new pu;return f.scale=r||1,f.fontStack=l,f}static forImage(r){const l=new pu;return l.imageName=r,l}}class Uo{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(r,l){const f=new Uo;for(let S=0;S<r.sections.length;S++){const F=r.sections[S];F.image?f.addImageSection(F):f.addTextSection(F,l)}return f}length(){return this.text.length}getSection(r){return this.sections[this.sectionIndex[r]]}getSections(){return this.sections}getSectionIndex(r){return this.sectionIndex[r]}getCharCode(r){return this.text.charCodeAt(r)}verticalizePunctuation(r){this.text=function(l,f){let S="";for(let F=0;F<l.length;F++){const W=l.charCodeAt(F+1)||null,ie=l.charCodeAt(F-1)||null;S+=!f&&(W&&Ne(W)&&!Zu[l[F+1]]||ie&&Ne(ie)&&!Zu[l[F-1]])||!Zu[l[F]]?l[F]:Zu[l[F]]}return S}(this.text,r)}trim(){let r=0;for(let f=0;f<this.text.length&&Qh[this.text.charCodeAt(f)];f++)r++;let l=this.text.length;for(let f=this.text.length-1;f>=0&&f>=r&&Qh[this.text.charCodeAt(f)];f--)l--;this.text=this.text.substring(r,l),this.sectionIndex=this.sectionIndex.slice(r,l)}substring(r,l){const f=new Uo;return f.text=this.text.substring(r,l),f.sectionIndex=this.sectionIndex.slice(r,l),f.sections=this.sections,f}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((r,l)=>Math.max(r,this.sections[l].scale),0)}addTextSection(r,l){this.text+=r.text,this.sections.push(pu.forText(r.scale,r.fontStack||l));const f=this.sections.length-1;for(let S=0;S<r.text.length;++S)this.sectionIndex.push(f)}addImageSection(r){const l=r.image?r.image.name:"";if(l.length===0)return void ce("Can't add FormattedSection with an empty image.");const f=this.getNextImageSectionCharCode();f?(this.text+=String.fromCharCode(f),this.sections.push(pu.forImage(l)),this.sectionIndex.push(this.sections.length-1)):ce("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Jh(s,r,l,f,S,F,W,ie,le,me,Ee,Oe,Le,Ve,qe){const rt=Uo.fromFeature(s,S);Oe===Kr.vertical&&rt.verticalizePunctuation(Le);let pt=[];const Mt=function($t,gi,pi,Ri,Xi,Ci){if(!$t)return[];const Di=[],Fi=function(sr,Or,fr,xr,lr,zr){let bn=0;for(let yn=0;yn<sr.length();yn++){const mn=sr.getSection(yn);bn+=Fp(sr.getCharCode(yn),mn,xr,lr,Or,zr)}return bn/Math.max(1,Math.ceil(bn/fr))}($t,gi,pi,Ri,Xi,Ci),Gi=$t.text.indexOf("​")>=0;let Zi=0;for(let sr=0;sr<$t.length();sr++){const Or=$t.getSection(sr),fr=$t.getCharCode(sr);if(Qh[fr]||(Zi+=Fp(fr,Or,Ri,Xi,gi,Ci)),sr<$t.length()-1){const xr=!((Ti=fr)<11904||!(bs(Ti)||vh(Ti)||b(Ti)||Hl(Ti)||wh(Ti)||Pu(Ti)||_h(Ti)||cc(Ti)||Sh(Ti)||Kc(Ti)||xh(Ti)||ae(Ti)||Gs(Ti)||Iu(Ti)||Mu(Ti)||bh(Ti)||Zc(Ti)||c(Ti)||kh(Ti)||Ou(Ti)));(oa[fr]||xr||Or.imageName)&&Di.push(Np(sr+1,Zi,Fi,Di,ed(fr,$t.getCharCode(sr+1),xr&&Gi),!1))}}var Ti;return zp(Np($t.length(),Zi,Fi,Di,0,!0))}(rt,me,F,r,f,Ve),{processBidirectionalText:Ut,processStyledBidirectionalText:Pt}=di;if(Ut&&rt.sections.length===1){const $t=Ut(rt.toString(),Mt);for(const gi of $t){const pi=new Uo;pi.text=gi,pi.sections=rt.sections;for(let Ri=0;Ri<gi.length;Ri++)pi.sectionIndex.push(0);pt.push(pi)}}else if(Pt){const $t=Pt(rt.text,rt.sectionIndex,Mt);for(const gi of $t){const pi=new Uo;pi.text=gi[0],pi.sectionIndex=gi[1],pi.sections=rt.sections,pt.push(pi)}}else pt=function($t,gi){const pi=[],Ri=$t.text;let Xi=0;for(const Ci of gi)pi.push($t.substring(Xi,Ci)),Xi=Ci;return Xi<Ri.length&&pi.push($t.substring(Xi,Ri.length)),pi}(rt,Mt);const Dt=[],qt={positionedLines:Dt,text:rt.toString(),top:Ee[1],bottom:Ee[1],left:Ee[0],right:Ee[0],writingMode:Oe,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function($t,gi,pi,Ri,Xi,Ci,Di,Fi,Gi,Zi,Ti,sr){let Or=0,fr=0,xr=0;const lr=Fi==="right"?1:Fi==="left"?0:.5;let zr=!1;for(const en of Xi){const xn=en.getSections();for(const Qn of xn){if(Qn.imageName)continue;const ha=gi[Qn.fontStack];if(ha&&(zr=ha.ascender!==void 0&&ha.descender!==void 0,!zr))break}if(!zr)break}let bn=0;for(const en of Xi){en.trim();const xn=en.getMaxScale(),Qn=(xn-1)*Jn,ha={positionedGlyphs:[],lineOffset:0};$t.positionedLines[bn]=ha;const ca=ha.positionedGlyphs;let da=0;if(!en.length()){fr+=Ci,++bn;continue}let ka=0,Va=0;for(let Yn=0;Yn<en.length();Yn++){const mo=en.getSection(Yn),co=en.getSectionIndex(Yn),Dn=en.getCharCode(Yn);let Ia=mo.scale,xo=null,ea=null,eo=null,ks=Jn,Vo=0;const Go=!(Gi===Kr.horizontal||!Ti&&!je(Dn)||Ti&&(Qh[Dn]||(yn=Dn,Eu(yn)||rl(yn)||Tu(yn)||D(yn)||Q(yn))));if(mo.imageName){const zs=Ri[mo.imageName];if(!zs)continue;eo=mo.imageName,$t.iconsInText=$t.iconsInText||!0,ea=zs.paddedRect;const Ho=zs.displaySize;Ia=Ia*Jn/sr,xo={width:Ho[0],height:Ho[1],left:1,top:-3,advance:Go?Ho[1]:Ho[0],localGlyph:!1},Vo=zr?-xo.height*Ia:xn*Jn-17-Ho[1]*Ia,ks=xo.advance;const Vc=(Go?Ho[0]:Ho[1])*Ia-Jn*xn;Vc>0&&Vc>da&&(da=Vc)}else{const zs=pi[mo.fontStack];if(!zs)continue;zs[Dn]&&(ea=zs[Dn]);const Ho=gi[mo.fontStack];if(!Ho)continue;const Vc=Ho.glyphs[Dn];if(!Vc)continue;if(xo=Vc.metrics,ks=Dn!==8203?Jn:0,zr){const md=Ho.ascender!==void 0?Math.abs(Ho.ascender):0,jf=Ho.descender!==void 0?Math.abs(Ho.descender):0,Uf=(md+jf)*Ia;ka<Uf&&(ka=Uf,Va=(md-jf)/2*Ia),Vo=-md*Ia}else Vo=(xn-Ia)*Jn-17}Go?($t.verticalizable=!0,ca.push({glyph:Dn,imageName:eo,x:Or,y:fr+Vo,vertical:Go,scale:Ia,localGlyph:xo.localGlyph,fontStack:mo.fontStack,sectionIndex:co,metrics:xo,rect:ea}),Or+=ks*Ia+Zi):(ca.push({glyph:Dn,imageName:eo,x:Or,y:fr+Vo,vertical:Go,scale:Ia,localGlyph:xo.localGlyph,fontStack:mo.fontStack,sectionIndex:co,metrics:xo,rect:ea}),Or+=xo.advance*Ia+Zi)}ca.length!==0&&(xr=Math.max(Or-Zi,xr),zr?jp(ca,lr,da,Va,Ci*xn/2):jp(ca,lr,da,0,Ci/2)),Or=0;const $o=Ci*xn+da;ha.lineOffset=Math.max(da,Qn),fr+=$o,++bn}var yn;const mn=fr,{horizontalAlign:Vr,verticalAlign:Wn}=gf(Di);(function(en,xn,Qn,ha,ca,da){const ka=(xn-Qn)*ca,Va=-da*ha;for(const $o of en)for(const Yn of $o.positionedGlyphs)Yn.x+=ka,Yn.y+=Va})($t.positionedLines,lr,Vr,Wn,xr,mn),$t.top+=-Wn*mn,$t.bottom=$t.top+mn,$t.left+=-Vr*xr,$t.right=$t.left+xr,$t.hasBaseline=zr}(qt,r,l,f,pt,W,ie,le,Oe,me,Le,qe),!function($t){for(const gi of $t)if(gi.positionedGlyphs.length!==0)return!1;return!0}(Dt)&&qt}const Qh={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},oa={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Fp(s,r,l,f,S,F){if(r.imageName){const W=f[r.imageName];return W?W.displaySize[0]*r.scale*Jn/F+S:0}{const W=l[r.fontStack],ie=W&&W.glyphs[s];return ie?ie.metrics.advance*r.scale+S:0}}function mf(s,r,l,f){const S=Math.pow(s-r,2);return f?s<r?S/2:2*S:S+Math.abs(l)*l}function ed(s,r,l){let f=0;return s===10&&(f-=1e4),l&&(f+=150),s!==40&&s!==65288||(f+=50),r!==41&&r!==65289||(f+=50),f}function Np(s,r,l,f,S,F){let W=null,ie=mf(r,l,S,F);for(const le of f){const me=mf(r-le.x,l,S,F)+le.badness;me<=ie&&(W=le,ie=me)}return{index:s,x:r,priorBreak:W,badness:ie}}function zp(s){return s?zp(s.priorBreak).concat(s.index):[]}function gf(s){let r=.5,l=.5;switch(s){case"right":case"top-right":case"bottom-right":r=1;break;case"left":case"top-left":case"bottom-left":r=0}switch(s){case"bottom":case"bottom-right":case"bottom-left":l=1;break;case"top":case"top-right":case"top-left":l=0}return{horizontalAlign:r,verticalAlign:l}}function jp(s,r,l,f,S){if(!(r||l||f||S))return;const F=s.length-1,W=s[F],ie=(W.x+W.metrics.advance*W.scale)*r;for(let le=0;le<=F;le++)s[le].x-=ie,s[le].y+=l+f+S}function mm(s,r,l){const{horizontalAlign:f,verticalAlign:S}=gf(l),F=r[0]-s.displaySize[0]*f,W=r[1]-s.displaySize[1]*S;return{image:s,top:W,bottom:W+s.displaySize[1],left:F,right:F+s.displaySize[0]}}function Up(s,r,l,f,S,F){const W=s.image;let ie;if(W.content){const pt=W.content,Mt=W.pixelRatio||1;ie=[pt[0]/Mt,pt[1]/Mt,W.displaySize[0]-pt[2]/Mt,W.displaySize[1]-pt[3]/Mt]}const le=r.left*F,me=r.right*F;let Ee,Oe,Le,Ve;l==="width"||l==="both"?(Ve=S[0]+le-f[3],Oe=S[0]+me+f[1]):(Ve=S[0]+(le+me-W.displaySize[0])/2,Oe=Ve+W.displaySize[0]);const qe=r.top*F,rt=r.bottom*F;return l==="height"||l==="both"?(Ee=S[1]+qe-f[0],Le=S[1]+rt+f[2]):(Ee=S[1]+(qe+rt-W.displaySize[1])/2,Le=Ee+W.displaySize[1]),{image:W,top:Ee,right:Oe,bottom:Le,left:Ve,collisionPadding:ie}}class Ql extends q{constructor(r,l,f,S,F){super(r,l),this.angle=S,this.z=f,F!==void 0&&(this.segment=F)}clone(){return new Ql(this.x,this.y,this.z,this.angle,this.segment)}}function $p(s,r,l,f,S){if(r.segment===void 0)return!0;let F=r,W=r.segment+1,ie=0;for(;ie>-l/2;){if(W--,W<0)return!1;ie-=s[W].dist(F),F=s[W]}ie+=s[W].dist(s[W+1]),W++;const le=[];let me=0;for(;ie<l/2;){const Ee=s[W],Oe=s[W+1];if(!Oe)return!1;let Le=s[W-1].angleTo(Ee)-Ee.angleTo(Oe);for(Le=Math.abs((Le+3*Math.PI)%(2*Math.PI)-Math.PI),le.push({distance:ie,angleDelta:Le}),me+=Le;ie-le[0].distance>f;)me-=le.shift().angleDelta;if(me>S)return!1;W++,ie+=Ee.dist(Oe)}return!0}function Vp(s){let r=0;for(let l=0;l<s.length-1;l++)r+=s[l].dist(s[l+1]);return r}function Gp(s,r,l){return s?.6*r*l:0}function Hp(s,r){return Math.max(s?s.right-s.left:0,r?r.right-r.left:0)}function gm(s,r,l,f,S,F){const W=Gp(l,S,F),ie=Hp(l,f)*F;let le=0;const me=Vp(s)/2;for(let Ee=0;Ee<s.length-1;Ee++){const Oe=s[Ee],Le=s[Ee+1],Ve=Oe.dist(Le);if(le+Ve>me){const qe=(me-le)/Ve,rt=$r(Oe.x,Le.x,qe),pt=$r(Oe.y,Le.y,qe),Mt=new Ql(rt,pt,0,Le.angleTo(Oe),Ee);return!W||$p(s,Mt,ie,W,r)?Mt:void 0}le+=Ve}}function ym(s,r,l,f,S,F,W,ie,le){const me=Gp(f,F,W),Ee=Hp(f,S),Oe=Ee*W,Le=s[0].x===0||s[0].x===le||s[0].y===0||s[0].y===le;return r-Oe<r/4&&(r=Oe+r/4),td(s,Le?r/2*ie%r:(Ee/2+2*F)*W*ie%r,r,me,l,Oe,Le,!1,le)}function td(s,r,l,f,S,F,W,ie,le){const me=F/2,Ee=Vp(s);let Oe=0,Le=r-l,Ve=[];for(let qe=0;qe<s.length-1;qe++){const rt=s[qe],pt=s[qe+1],Mt=rt.dist(pt),Ut=pt.angleTo(rt);for(;Le+l<Oe+Mt;){Le+=l;const Pt=(Le-Oe)/Mt,Dt=$r(rt.x,pt.x,Pt),qt=$r(rt.y,pt.y,Pt);if(Dt>=0&&Dt<le&&qt>=0&&qt<le&&Le-me>=0&&Le+me<=Ee){const $t=new Ql(Dt,qt,0,Ut,qe);$t._round(),f&&!$p(s,$t,F,f,S)||Ve.push($t)}}Oe+=Mt}return ie||Ve.length||W||(Ve=td(s,Oe/2,l,f,S,F,W,!0,le)),Ve}function qp(s,r,l,f,S){const F=[];for(let W=0;W<s.length;W++){const ie=s[W];let le;for(let me=0;me<ie.length-1;me++){let Ee=ie[me],Oe=ie[me+1];Ee.x<r&&Oe.x<r||(Ee.x<r?Ee=new q(r,Ee.y+(r-Ee.x)/(Oe.x-Ee.x)*(Oe.y-Ee.y))._round():Oe.x<r&&(Oe=new q(r,Ee.y+(r-Ee.x)/(Oe.x-Ee.x)*(Oe.y-Ee.y))._round()),Ee.y<l&&Oe.y<l||(Ee.y<l?Ee=new q(Ee.x+(l-Ee.y)/(Oe.y-Ee.y)*(Oe.x-Ee.x),l)._round():Oe.y<l&&(Oe=new q(Ee.x+(l-Ee.y)/(Oe.y-Ee.y)*(Oe.x-Ee.x),l)._round()),Ee.x>=f&&Oe.x>=f||(Ee.x>=f?Ee=new q(f,Ee.y+(f-Ee.x)/(Oe.x-Ee.x)*(Oe.y-Ee.y))._round():Oe.x>=f&&(Oe=new q(f,Ee.y+(f-Ee.x)/(Oe.x-Ee.x)*(Oe.y-Ee.y))._round()),Ee.y>=S&&Oe.y>=S||(Ee.y>=S?Ee=new q(Ee.x+(S-Ee.y)/(Oe.y-Ee.y)*(Oe.x-Ee.x),S)._round():Oe.y>=S&&(Oe=new q(Ee.x+(S-Ee.y)/(Oe.y-Ee.y)*(Oe.x-Ee.x),S)._round()),le&&Ee.equals(le[le.length-1])||(le=[Ee],F.push(le)),le.push(Oe)))))}}return F}ur(Ql,"Anchor");const Nc=1e20;function Wp(s,r,l,f,S,F,W,ie,le){for(let me=r;me<r+f;me++)Yp(s,l*F+me,F,S,W,ie,le);for(let me=l;me<l+S;me++)Yp(s,me*F+r,1,f,W,ie,le)}function Yp(s,r,l,f,S,F,W){F[0]=0,W[0]=-Nc,W[1]=Nc,S[0]=s[r];for(let ie=1,le=0,me=0;ie<f;ie++){S[ie]=s[r+ie*l];const Ee=ie*ie;do{const Oe=F[le];me=(S[ie]-S[Oe]+Ee-Oe*Oe)/(ie-Oe)/2}while(me<=W[le]&&--le>-1);le++,F[le]=ie,W[le]=me,W[le+1]=Nc}for(let ie=0,le=0;ie<f;ie++){for(;W[le+1]<ie;)le++;const me=F[le],Ee=ie-me;s[r+ie*l]=S[me]+Ee*Ee}}const yf={none:0,ideographs:1,all:2};class $a{constructor(r,l,f){this.requestManager=r,this.localGlyphMode=l,this.localFontFamily=f,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(r){this.url=r}getGlyphs(r,l){const f=[];for(const S in r)for(const F of r[S])f.push({stack:S,id:F});X(f,({stack:S,id:F},W)=>{let ie=this.entries[S];ie||(ie=this.entries[S]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let le=ie.glyphs[F];if(le!==void 0)return void W(null,{stack:S,id:F,glyph:le});if(le=this._tinySDF(ie,S,F),le)return ie.glyphs[F]=le,void W(null,{stack:S,id:F,glyph:le});const me=Math.floor(F/256);if(256*me>65535)return void W(new Error("glyphs > 65535 not supported"));if(ie.ranges[me])return void W(null,{stack:S,id:F,glyph:le});let Ee=ie.requests[me];Ee||(Ee=ie.requests[me]=[],$a.loadGlyphRange(S,me,this.url,this.requestManager,(Oe,Le)=>{if(Le){ie.ascender=Le.ascender,ie.descender=Le.descender;for(const Ve in Le.glyphs)this._doesCharSupportLocalGlyph(+Ve)||(ie.glyphs[+Ve]=Le.glyphs[+Ve]);ie.ranges[me]=!0}for(const Ve of Ee)Ve(Oe,Le);delete ie.requests[me]})),Ee.push((Oe,Le)=>{Oe?W(Oe):Le&&W(null,{stack:S,id:F,glyph:Le.glyphs[F]||null})})},(S,F)=>{if(S)l(S);else if(F){const W={};for(const{stack:ie,id:le,glyph:me}of F)W[ie]===void 0&&(W[ie]={}),W[ie].glyphs===void 0&&(W[ie].glyphs={}),W[ie].glyphs[le]=me&&{id:me.id,bitmap:me.bitmap.clone(),metrics:me.metrics},W[ie].ascender=this.entries[ie].ascender,W[ie].descender=this.entries[ie].descender;l(null,W)}})}_doesCharSupportLocalGlyph(r){return this.localGlyphMode!==yf.none&&(this.localGlyphMode===yf.all?!!this.localFontFamily:!!this.localFontFamily&&(Kc(r)||Ru(r)||Gs(r)||Zc(r)||cc(r)))}_tinySDF(r,l,f){const S=this.localFontFamily;if(!S||!this._doesCharSupportLocalGlyph(f))return;let F=r.tinySDF;if(!F){let rt="400";/bold/i.test(l)?rt="900":/medium/i.test(l)?rt="500":/light/i.test(l)&&(rt="200"),F=r.tinySDF=new $a.TinySDF({fontFamily:S,fontWeight:rt,fontSize:48,buffer:6,radius:16}),F.fontWeight=rt}if(this.localGlyphs[F.fontWeight][f])return this.localGlyphs[F.fontWeight][f];const W=String.fromCharCode(f),{data:ie,width:le,height:me,glyphWidth:Ee,glyphHeight:Oe,glyphLeft:Le,glyphTop:Ve,glyphAdvance:qe}=F.draw(W);return this.localGlyphs[F.fontWeight][f]={id:f,bitmap:new Kl({width:le,height:me},ie),metrics:{width:Ee/2,height:Oe/2,left:Le/2,top:Ve/2-27,advance:qe/2,localGlyph:!0}}}}function Ss(s,r,l,f){const S=[],F=s.image,W=F.pixelRatio,ie=F.paddedRect.w-2,le=F.paddedRect.h-2,me=s.right-s.left,Ee=s.bottom-s.top,Oe=F.stretchX||[[0,ie]],Le=F.stretchY||[[0,le]],Ve=(Ci,Di)=>Ci+Di[1]-Di[0],qe=Oe.reduce(Ve,0),rt=Le.reduce(Ve,0),pt=ie-qe,Mt=le-rt;let Ut=0,Pt=qe,Dt=0,qt=rt,$t=0,gi=pt,pi=0,Ri=Mt;if(F.content&&f){const Ci=F.content;Ut=id(Oe,0,Ci[0]),Dt=id(Le,0,Ci[1]),Pt=id(Oe,Ci[0],Ci[2]),qt=id(Le,Ci[1],Ci[3]),$t=Ci[0]-Ut,pi=Ci[1]-Dt,gi=Ci[2]-Ci[0]-Pt,Ri=Ci[3]-Ci[1]-qt}const Xi=(Ci,Di,Fi,Gi)=>{const Zi=rd(Ci.stretch-Ut,Pt,me,s.left),Ti=Qu(Ci.fixed-$t,gi,Ci.stretch,qe),sr=rd(Di.stretch-Dt,qt,Ee,s.top),Or=Qu(Di.fixed-pi,Ri,Di.stretch,rt),fr=rd(Fi.stretch-Ut,Pt,me,s.left),xr=Qu(Fi.fixed-$t,gi,Fi.stretch,qe),lr=rd(Gi.stretch-Dt,qt,Ee,s.top),zr=Qu(Gi.fixed-pi,Ri,Gi.stretch,rt),bn=new q(Zi,sr),yn=new q(fr,sr),mn=new q(fr,lr),Vr=new q(Zi,lr),Wn=new q(Ti/W,Or/W),en=new q(xr/W,zr/W),xn=r*Math.PI/180;if(xn){const ca=Math.sin(xn),da=Math.cos(xn),ka=[da,-ca,ca,da];bn._matMult(ka),yn._matMult(ka),Vr._matMult(ka),mn._matMult(ka)}const Qn=Ci.stretch+Ci.fixed,ha=Di.stretch+Di.fixed;return{tl:bn,tr:yn,bl:Vr,br:mn,tex:{x:F.paddedRect.x+1+Qn,y:F.paddedRect.y+1+ha,w:Fi.stretch+Fi.fixed-Qn,h:Gi.stretch+Gi.fixed-ha},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Wn,pixelOffsetBR:en,minFontScaleX:gi/W/me,minFontScaleY:Ri/W/Ee,isSDF:l}};if(f&&(F.stretchX||F.stretchY)){const Ci=Xp(Oe,pt,qe),Di=Xp(Le,Mt,rt);for(let Fi=0;Fi<Ci.length-1;Fi++){const Gi=Ci[Fi],Zi=Ci[Fi+1];for(let Ti=0;Ti<Di.length-1;Ti++)S.push(Xi(Gi,Di[Ti],Zi,Di[Ti+1]))}}else S.push(Xi({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:ie+1},{fixed:0,stretch:le+1}));return S}function id(s,r,l){let f=0;for(const S of s)f+=Math.max(r,Math.min(l,S[1]))-Math.max(r,Math.min(l,S[0]));return f}function Xp(s,r,l){const f=[{fixed:-1,stretch:0}];for(const[S,F]of s){const W=f[f.length-1];f.push({fixed:S-W.stretch,stretch:W.stretch}),f.push({fixed:S-W.stretch,stretch:W.stretch+(F-S)})}return f.push({fixed:r+1,stretch:l}),f}function rd(s,r,l,f){return s/r*l+f}function Qu(s,r,l,f){return s-r*l/f}function vm(s,r,l,f){const S=r+s.positionedLines[f].lineOffset;return f===0?l+S/2:l+(S+(r+s.positionedLines[f-1].lineOffset))/2}$a.loadGlyphRange=function(s,r,l,f,S){const F=256*r,W=F+255,ie=f.transformRequest(f.normalizeGlyphsURL(l).replace("{fontstack}",s).replace("{range}",`${F}-${W}`),Et.Glyphs);hi(ie,(le,me)=>{if(le)S(le);else if(me){const Ee={},Oe=function(Le){return new Ku(Le).readFields(dm,{})}(me);for(const Le of Oe.glyphs)Ee[Le.id]=Le;S(null,{glyphs:Ee,ascender:Oe.ascender,descender:Oe.descender})}})},$a.TinySDF=class{constructor({fontSize:s=24,buffer:r=3,radius:l=8,cutoff:f=.25,fontFamily:S="sans-serif",fontWeight:F="normal",fontStyle:W="normal"}={}){this.buffer=r,this.cutoff=f,this.radius=l;const ie=this.size=s+4*r,le=this._createCanvas(ie),me=this.ctx=le.getContext("2d",{willReadFrequently:!0});me.font=`${W} ${F} ${s}px ${S}`,me.textBaseline="alphabetic",me.textAlign="left",me.fillStyle="black",this.gridOuter=new Float64Array(ie*ie),this.gridInner=new Float64Array(ie*ie),this.f=new Float64Array(ie),this.z=new Float64Array(ie+1),this.v=new Uint16Array(ie)}_createCanvas(s){const r=document.createElement("canvas");return r.width=r.height=s,r}draw(s){const{width:r,actualBoundingBoxAscent:l,actualBoundingBoxDescent:f,actualBoundingBoxLeft:S,actualBoundingBoxRight:F}=this.ctx.measureText(s),W=Math.ceil(l),ie=Math.min(this.size-this.buffer,Math.ceil(F-S)),le=Math.min(this.size-this.buffer,W+Math.ceil(f)),me=ie+2*this.buffer,Ee=le+2*this.buffer,Oe=Math.max(me*Ee,0),Le=new Uint8ClampedArray(Oe),Ve={data:Le,width:me,height:Ee,glyphWidth:ie,glyphHeight:le,glyphTop:W,glyphLeft:0,glyphAdvance:r};if(ie===0||le===0)return Ve;const{ctx:qe,buffer:rt,gridInner:pt,gridOuter:Mt}=this;qe.clearRect(rt,rt,ie,le),qe.fillText(s,rt,rt+W);const Ut=qe.getImageData(rt,rt,ie,le);Mt.fill(Nc,0,Oe),pt.fill(0,0,Oe);for(let Pt=0;Pt<le;Pt++)for(let Dt=0;Dt<ie;Dt++){const qt=Ut.data[4*(Pt*ie+Dt)+3]/255;if(qt===0)continue;const $t=(Pt+rt)*me+Dt+rt;if(qt===1)Mt[$t]=0,pt[$t]=Nc;else{const gi=.5-qt;Mt[$t]=gi>0?gi*gi:0,pt[$t]=gi<0?gi*gi:0}}Wp(Mt,0,0,me,Ee,me,this.f,this.v,this.z),Wp(pt,rt,rt,ie,le,me,this.f,this.v,this.z);for(let Pt=0;Pt<Oe;Pt++){const Dt=Math.sqrt(Mt[Pt])-Math.sqrt(pt[Pt]);Le[Pt]=Math.round(255-255*(Dt/this.radius+this.cutoff))}return Ve}};class _m{constructor(r=[],l=bm){if(this.data=r,this.length=this.data.length,this.compare=l,this.length>0)for(let f=(this.length>>1)-1;f>=0;f--)this._down(f)}push(r){this.data.push(r),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const r=this.data[0],l=this.data.pop();return this.length--,this.length>0&&(this.data[0]=l,this._down(0)),r}peek(){return this.data[0]}_up(r){const{data:l,compare:f}=this,S=l[r];for(;r>0;){const F=r-1>>1,W=l[F];if(f(S,W)>=0)break;l[r]=W,r=F}l[r]=S}_down(r){const{data:l,compare:f}=this,S=this.length>>1,F=l[r];for(;r<S;){let W=1+(r<<1),ie=l[W];const le=W+1;if(le<this.length&&f(l[le],ie)<0&&(W=le,ie=l[le]),f(ie,F)>=0)break;l[r]=ie,r=W}l[r]=F}}function bm(s,r){return s<r?-1:s>r?1:0}function Zp(s,r=1,l=!1){let f=1/0,S=1/0,F=-1/0,W=-1/0;const ie=s[0];for(let Ve=0;Ve<ie.length;Ve++){const qe=ie[Ve];(!Ve||qe.x<f)&&(f=qe.x),(!Ve||qe.y<S)&&(S=qe.y),(!Ve||qe.x>F)&&(F=qe.x),(!Ve||qe.y>W)&&(W=qe.y)}const le=Math.min(F-f,W-S);let me=le/2;const Ee=new _m([],xm);if(le===0)return new q(f,S);for(let Ve=f;Ve<F;Ve+=le)for(let qe=S;qe<W;qe+=le)Ee.push(new mu(Ve+me,qe+me,me,s));let Oe=function(Ve){let qe=0,rt=0,pt=0;const Mt=Ve[0];for(let Ut=0,Pt=Mt.length,Dt=Pt-1;Ut<Pt;Dt=Ut++){const qt=Mt[Ut],$t=Mt[Dt],gi=qt.x*$t.y-$t.x*qt.y;rt+=(qt.x+$t.x)*gi,pt+=(qt.y+$t.y)*gi,qe+=3*gi}return new mu(rt/qe,pt/qe,0,Ve)}(s),Le=Ee.length;for(;Ee.length;){const Ve=Ee.pop();(Ve.d>Oe.d||!Oe.d)&&(Oe=Ve,l&&console.log("found best %d after %d probes",Math.round(1e4*Ve.d)/1e4,Le)),Ve.max-Oe.d<=r||(me=Ve.h/2,Ee.push(new mu(Ve.p.x-me,Ve.p.y-me,me,s)),Ee.push(new mu(Ve.p.x+me,Ve.p.y-me,me,s)),Ee.push(new mu(Ve.p.x-me,Ve.p.y+me,me,s)),Ee.push(new mu(Ve.p.x+me,Ve.p.y+me,me,s)),Le+=4)}return l&&(console.log(`num probes: ${Le}`),console.log(`best distance: ${Oe.d}`)),Oe.p}function xm(s,r){return r.max-s.max}function mu(s,r,l,f){this.p=new q(s,r),this.h=l,this.d=function(S,F){let W=!1,ie=1/0;for(let le=0;le<F.length;le++){const me=F[le];for(let Ee=0,Oe=me.length,Le=Oe-1;Ee<Oe;Le=Ee++){const Ve=me[Ee],qe=me[Le];Ve.y>S.y!=qe.y>S.y&&S.x<(qe.x-Ve.x)*(S.y-Ve.y)/(qe.y-Ve.y)+Ve.x&&(W=!W),ie=Math.min(ie,tp(S,Ve,qe))}}return(W?1:-1)*Math.sqrt(ie)}(this.p,f),this.max=this.d+this.h*Math.SQRT2}const vf=Number.POSITIVE_INFINITY,Kp=Math.sqrt(2);function _f(s,[r,l]){let f=0,S=0;if(l===vf){r<0&&(r=0);const F=r/Kp;switch(s){case"top-right":case"top-left":S=F-7;break;case"bottom-right":case"bottom-left":S=7-F;break;case"bottom":S=7-r;break;case"top":S=r-7}switch(s){case"top-right":case"bottom-right":f=-F;break;case"top-left":case"bottom-left":f=F;break;case"left":f=r;break;case"right":f=-r}}else{switch(r=Math.abs(r),l=Math.abs(l),s){case"top-right":case"top-left":case"top":S=l-7;break;case"bottom-right":case"bottom-left":case"bottom":S=7-l}switch(s){case"top-right":case"bottom-right":case"right":f=-r;break;case"top-left":case"bottom-left":case"left":f=r}}return[f,S]}function wm(s,r,l,f,S,F,W,ie,le,me){s.createArrays(),s.tilePixelRatio=Pr/(512*s.overscaling),s.compareText={},s.iconsNeedLinear=!1;const Ee=s.layers[0].layout,Oe=s.layers[0]._unevaluatedLayout._values,Le={};if(s.textSizeData.kind==="composite"){const{minZoom:rt,maxZoom:pt}=s.textSizeData;Le.compositeTextSizes=[Oe["text-size"].possiblyEvaluate(new ni(rt),ie),Oe["text-size"].possiblyEvaluate(new ni(pt),ie)]}if(s.iconSizeData.kind==="composite"){const{minZoom:rt,maxZoom:pt}=s.iconSizeData;Le.compositeIconSizes=[Oe["icon-size"].possiblyEvaluate(new ni(rt),ie),Oe["icon-size"].possiblyEvaluate(new ni(pt),ie)]}Le.layoutTextSize=Oe["text-size"].possiblyEvaluate(new ni(le+1),ie),Le.layoutIconSize=Oe["icon-size"].possiblyEvaluate(new ni(le+1),ie),Le.textMaxSize=Oe["text-size"].possiblyEvaluate(new ni(18),ie);const Ve=Ee.get("text-rotation-alignment")==="map"&&Ee.get("symbol-placement")!=="point",qe=Ee.get("text-size");for(const rt of s.features){const pt=Ee.get("text-font").evaluate(rt,{},ie).join(","),Mt=qe.evaluate(rt,{},ie),Ut=Le.layoutTextSize.evaluate(rt,{},ie),Pt=(Le.layoutIconSize.evaluate(rt,{},ie),{horizontal:{},vertical:void 0}),Dt=rt.text;let qt,$t=[0,0];if(Dt){const Ri=Dt.toString(),Xi=Ee.get("text-letter-spacing").evaluate(rt,{},ie)*Jn,Ci=Ee.get("text-line-height").evaluate(rt,{},ie)*Jn,Di=ke(Ri)?Xi:0,Fi=Ee.get("text-anchor").evaluate(rt,{},ie),Gi=Ee.get("text-variable-anchor");if(!Gi){const fr=Ee.get("text-radial-offset").evaluate(rt,{},ie);$t=fr?_f(Fi,[fr*Jn,vf]):Ee.get("text-offset").evaluate(rt,{},ie).map(xr=>xr*Jn)}let Zi=Ve?"center":Ee.get("text-justify").evaluate(rt,{},ie);const Ti=Ee.get("symbol-placement")==="point",sr=Ti?Ee.get("text-max-width").evaluate(rt,{},ie)*Jn:1/0,Or=fr=>{s.allowVerticalPlacement&&ve(Ri)&&(Pt.vertical=Jh(Dt,r,l,S,pt,sr,Ci,Fi,fr,Di,$t,Kr.vertical,!0,Ut,Mt))};if(!Ve&&Gi){const fr=Zi==="auto"?Gi.map(lr=>bf(lr)):[Zi];let xr=!1;for(let lr=0;lr<fr.length;lr++){const zr=fr[lr];if(!Pt.horizontal[zr])if(xr)Pt.horizontal[zr]=Pt.horizontal[0];else{const bn=Jh(Dt,r,l,S,pt,sr,Ci,"center",zr,Di,$t,Kr.horizontal,!1,Ut,Mt);bn&&(Pt.horizontal[zr]=bn,xr=bn.positionedLines.length===1)}}Or("left")}else{if(Zi==="auto"&&(Zi=bf(Fi)),Ti||Ee.get("text-writing-mode").indexOf("horizontal")>=0||!ve(Ri)){const fr=Jh(Dt,r,l,S,pt,sr,Ci,Fi,Zi,Di,$t,Kr.horizontal,!1,Ut,Mt);fr&&(Pt.horizontal[Zi]=fr)}Or(Ti?"left":Zi)}}let gi=!1;if(rt.icon&&rt.icon.name){const Ri=f[rt.icon.name];Ri&&(qt=mm(S[rt.icon.name],Ee.get("icon-offset").evaluate(rt,{},ie),Ee.get("icon-anchor").evaluate(rt,{},ie)),gi=Ri.sdf,s.sdfIcons===void 0?s.sdfIcons=Ri.sdf:s.sdfIcons!==Ri.sdf&&ce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ri.pixelRatio!==s.pixelRatio||Ee.get("icon-rotate").constantOr(1)!==0)&&(s.iconsNeedLinear=!0))}const pi=Jp(Pt.horizontal)||Pt.vertical;s.iconsInText||(s.iconsInText=!!pi&&pi.iconsInText),(pi||qt)&&Sm(s,rt,Pt,qt,f,Le,Ut,0,$t,gi,W,ie,me)}F&&s.generateCollisionDebugBuffers(le,s.collisionBoxArray)}function bf(s){switch(s){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Sm(s,r,l,f,S,F,W,ie,le,me,Ee,Oe,Le){let Ve=F.textMaxSize.evaluate(r,{},Oe);Ve===void 0&&(Ve=W);const qe=s.layers[0].layout,rt=qe.get("icon-offset").evaluate(r,{},Oe),pt=Jp(l.horizontal)||l.vertical,Mt=Le.name==="globe",Ut=W/24,Pt=s.tilePixelRatio*Ve/24,Dt=(Di=s.overscaling,s.zoom>18&&Di>2&&(Di>>=1),Math.max(Pr/(512*Di),1)*qe.get("symbol-spacing")),qt=qe.get("text-padding")*s.tilePixelRatio,$t=qe.get("icon-padding")*s.tilePixelRatio,gi=L(qe.get("text-max-angle")),pi=qe.get("text-rotation-alignment")==="map"&&qe.get("symbol-placement")!=="point",Ri=qe.get("icon-rotation-alignment")==="map"&&qe.get("symbol-placement")!=="point",Xi=qe.get("symbol-placement"),Ci=Dt/2;var Di;const Fi=qe.get("icon-text-fit");let Gi;f&&Fi!=="none"&&(s.allowVerticalPlacement&&l.vertical&&(Gi=Up(f,l.vertical,Fi,qe.get("icon-text-fit-padding"),rt,Ut)),pt&&(f=Up(f,pt,Fi,qe.get("icon-text-fit-padding"),rt,Ut)));const Zi=(Ti,sr,Or)=>{if(sr.x<0||sr.x>=Pr||sr.y<0||sr.y>=Pr)return;let fr=null;if(Mt){const{x:xr,y:lr,z:zr}=Le.projectTilePoint(sr.x,sr.y,Or);fr={anchor:new Ql(xr,lr,zr,0,void 0),up:Le.upVector(Or,sr.x,sr.y)}}(function(xr,lr,zr,bn,yn,mn,Vr,Wn,en,xn,Qn,ha,ca,da,ka,Va,$o,Yn,mo,co,Dn,Ia,xo,ea,eo){const ks=xr.addToLineVertexArray(lr,bn);let Vo,Go,zs,Ho,Vc,md,jf,Uf=0,cg=0,ug=0,hg=0,Xm=-1,Zm=-1;const _c={};let dg=Cc.exports("");const hh=zr?zr.anchor:lr;let Km=0,Jm=0;if(en._unevaluatedLayout.getValue("text-radial-offset")===void 0?[Km,Jm]=en.layout.get("text-offset").evaluate(Dn,{},eo).map(hl=>hl*Jn):(Km=en.layout.get("text-radial-offset").evaluate(Dn,{},eo)*Jn,Jm=vf),xr.allowVerticalPlacement&&yn.vertical){const hl=yn.vertical;if(ka)md=xf(hl),Wn&&(jf=xf(Wn));else{const dl=en.layout.get("text-rotate").evaluate(Dn,{},eo)+90;zs=nd(xn,hh,lr,Qn,ha,ca,hl,da,dl,Va),Wn&&(Ho=nd(xn,hh,lr,Qn,ha,ca,Wn,Yn,dl))}}if(mn){const hl=en.layout.get("icon-rotate").evaluate(Dn,{},eo),dl=en.layout.get("icon-text-fit")!=="none",$f=Ss(mn,hl,xo,dl),eg=Wn?Ss(Wn,hl,xo,dl):void 0;Go=nd(xn,hh,lr,Qn,ha,ca,mn,Yn,hl),Uf=4*$f.length;const fg=xr.iconSizeData;let dh=null;fg.kind==="source"?(dh=[aa*en.layout.get("icon-size").evaluate(Dn,{},eo)],dh[0]>gc&&ce(`${xr.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):fg.kind==="composite"&&(dh=[aa*Ia.compositeIconSizes[0].evaluate(Dn,{},eo),aa*Ia.compositeIconSizes[1].evaluate(Dn,{},eo)],(dh[0]>gc||dh[1]>gc)&&ce(`${xr.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),xr.addSymbols(xr.icon,$f,dh,co,mo,Dn,!1,zr,lr,ks.lineStartIndex,ks.lineLength,-1,ea,eo),Xm=xr.icon.placedSymbolArray.length-1,eg&&(cg=4*eg.length,xr.addSymbols(xr.icon,eg,dh,co,mo,Dn,Kr.vertical,zr,lr,ks.lineStartIndex,ks.lineLength,-1,ea,eo),Zm=xr.icon.placedSymbolArray.length-1)}for(const hl in yn.horizontal){const dl=yn.horizontal[hl];Vo||(dg=Cc.exports(dl.text),ka?Vc=xf(dl):Vo=nd(xn,hh,lr,Qn,ha,ca,dl,da,en.layout.get("text-rotate").evaluate(Dn,{},eo),Va));const $f=dl.positionedLines.length===1;if(ug+=zc(xr,zr,lr,dl,Vr,en,ka,Dn,Va,ks,yn.vertical?Kr.horizontal:Kr.horizontalOnly,$f?Object.keys(yn.horizontal):[hl],_c,Xm,Ia,ea,eo),$f)break}yn.vertical&&(hg+=zc(xr,zr,lr,yn.vertical,Vr,en,ka,Dn,Va,ks,Kr.vertical,["vertical"],_c,Zm,Ia,ea,eo));let xu=-1;const Qm=(hl,dl)=>hl?Math.max(hl,dl):dl;xu=Qm(Vc,xu),xu=Qm(md,xu),xu=Qm(jf,xu);const vg=xu>-1?1:0;xr.glyphOffsetArray.length>=yc.MAX_GLYPHS&&ce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Dn.sortKey!==void 0&&xr.addToSortKeyRanges(xr.symbolInstances.length,Dn.sortKey),xr.symbolInstances.emplaceBack(hh.x,hh.y,hh.z,lr.x,lr.y,_c.right>=0?_c.right:-1,_c.center>=0?_c.center:-1,_c.left>=0?_c.left:-1,_c.vertical>=0?_c.vertical:-1,Xm,Zm,dg,Vo!==void 0?Vo:xr.collisionBoxArray.length,Vo!==void 0?Vo+1:xr.collisionBoxArray.length,zs!==void 0?zs:xr.collisionBoxArray.length,zs!==void 0?zs+1:xr.collisionBoxArray.length,Go!==void 0?Go:xr.collisionBoxArray.length,Go!==void 0?Go+1:xr.collisionBoxArray.length,Ho||xr.collisionBoxArray.length,Ho?Ho+1:xr.collisionBoxArray.length,Qn,ug,hg,Uf,cg,vg,0,Km,Jm,xu)})(s,sr,fr,Ti,l,f,S,Gi,s.layers[0],s.collisionBoxArray,r.index,r.sourceLayerIndex,s.index,qt,pi,le,0,$t,Ri,rt,r,F,me,Ee,Oe)};if(Xi==="line")for(const Ti of qp(r.geometry,0,0,Pr,Pr)){const sr=ym(Ti,Dt,gi,l.vertical||pt,f,24,Pt,s.overscaling,Pr);for(const Or of sr){const fr=pt;fr&&km(s,fr.text,Ci,Or)||Zi(Ti,Or,Oe)}}else if(Xi==="line-center"){for(const Ti of r.geometry)if(Ti.length>1){const sr=gm(Ti,gi,l.vertical||pt,f,24,Pt);sr&&Zi(Ti,sr,Oe)}}else if(r.type==="Polygon")for(const Ti of Qd(r.geometry,0)){const sr=Zp(Ti,16);Zi(Ti[0],new Ql(sr.x,sr.y,0,0,void 0),Oe)}else if(r.type==="LineString")for(const Ti of r.geometry)Zi(Ti,new Ql(Ti[0].x,Ti[0].y,0,0,void 0),Oe);else if(r.type==="Point")for(const Ti of r.geometry)for(const sr of Ti)Zi([sr],new Ql(sr.x,sr.y,0,0,void 0),Oe)}const gc=32640;function zc(s,r,l,f,S,F,W,ie,le,me,Ee,Oe,Le,Ve,qe,rt,pt){const Mt=function(Dt,qt,$t,gi,pi,Ri,Xi,Ci){const Di=[];if(qt.positionedLines.length===0)return Di;const Fi=gi.layout.get("text-rotate").evaluate(Ri,{})*Math.PI/180,Gi=function(fr){const xr=fr[0],lr=fr[1],zr=xr*lr;return zr>0?[xr,-lr]:zr<0?[-xr,lr]:xr===0?[lr,xr]:[lr,-xr]}($t);let Zi=Math.abs(qt.top-qt.bottom);for(const fr of qt.positionedLines)Zi-=fr.lineOffset;const Ti=qt.positionedLines.length,sr=Zi/Ti;let Or=qt.top-$t[1];for(let fr=0;fr<Ti;++fr){const xr=qt.positionedLines[fr];Or=vm(qt,sr,Or,fr);for(const lr of xr.positionedGlyphs){if(!lr.rect)continue;const zr=lr.rect||{};let bn=4,yn=!0,mn=1,Vr=0;if(lr.imageName){const ea=Xi[lr.imageName];if(!ea)continue;if(ea.sdf){ce("SDF images are not supported in formatted text and will be ignored.");continue}yn=!1,mn=ea.pixelRatio,bn=1/mn}const Wn=(pi||Ci)&&lr.vertical,en=lr.metrics.advance*lr.scale/2,xn=lr.metrics,Qn=lr.rect;if(Qn===null)continue;Ci&&qt.verticalizable&&(Vr=lr.imageName?en-lr.metrics.width*lr.scale/2:0);const ha=pi?[lr.x+en,lr.y]:[0,0];let ca=[0,0],da=[0,0],ka=!1;pi||(Wn?(da=[lr.x+en+Gi[0],lr.y+Gi[1]-Vr],ka=!0):ca=[lr.x+en+$t[0],lr.y+$t[1]-Vr]);const Va=Qn.w*lr.scale/(mn*(lr.localGlyph?2:1)),$o=Qn.h*lr.scale/(mn*(lr.localGlyph?2:1));let Yn,mo,co,Dn;if(Wn){const ea=lr.y-Or,eo=new q(-en,en-ea),ks=-Math.PI/2,Vo=new q(...da);Yn=new q(-en+ca[0],ca[1]),Yn._rotateAround(ks,eo)._add(Vo),Yn.x+=-ea+en,Yn.y-=(xn.left-bn)*lr.scale;const Go=lr.imageName?xn.advance*lr.scale:Jn*lr.scale,zs=String.fromCharCode(lr.glyph);sm(zs)?Yn.x+=(1-bn)*lr.scale:uf(zs)?Yn.x+=Go-xn.height*lr.scale+(-bn-1)*lr.scale:Yn.x+=lr.imageName||xn.width+2*bn===Qn.w&&xn.height+2*bn===Qn.h?(Go-$o)/2:(Go-(xn.height+2*bn)*lr.scale)/2,mo=new q(Yn.x,Yn.y-Va),co=new q(Yn.x+$o,Yn.y),Dn=new q(Yn.x+$o,Yn.y-Va)}else{const ea=(xn.left-bn)*lr.scale-en+ca[0],eo=(-xn.top-bn)*lr.scale+ca[1],ks=ea+Va,Vo=eo+$o;Yn=new q(ea,eo),mo=new q(ks,eo),co=new q(ea,Vo),Dn=new q(ks,Vo)}if(Fi){let ea;ea=pi?new q(0,0):ka?new q(Gi[0],Gi[1]):new q($t[0],$t[1]),Yn._rotateAround(Fi,ea),mo._rotateAround(Fi,ea),co._rotateAround(Fi,ea),Dn._rotateAround(Fi,ea)}const Ia=new q(0,0),xo=new q(0,0);Di.push({tl:Yn,tr:mo,bl:co,br:Dn,tex:zr,writingMode:qt.writingMode,glyphOffset:ha,sectionIndex:lr.sectionIndex,isSDF:yn,pixelOffsetTL:Ia,pixelOffsetBR:xo,minFontScaleX:0,minFontScaleY:0})}}return Di}(0,f,le,F,W,ie,S,s.allowVerticalPlacement),Ut=s.textSizeData;let Pt=null;Ut.kind==="source"?(Pt=[aa*F.layout.get("text-size").evaluate(ie,{},pt)],Pt[0]>gc&&ce(`${s.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):Ut.kind==="composite"&&(Pt=[aa*qe.compositeTextSizes[0].evaluate(ie,{},pt),aa*qe.compositeTextSizes[1].evaluate(ie,{},pt)],(Pt[0]>gc||Pt[1]>gc)&&ce(`${s.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),s.addSymbols(s.text,Mt,Pt,le,W,ie,Ee,r,l,me.lineStartIndex,me.lineLength,Ve,rt,pt);for(const Dt of Oe)Le[Dt]=s.text.placedSymbolArray.length-1;return 4*Mt.length}function Jp(s){for(const r in s)return s[r];return null}function nd(s,r,l,f,S,F,W,ie,le,me){let Ee=W.top,Oe=W.bottom,Le=W.left,Ve=W.right;const qe=W.collisionPadding;if(qe&&(Le-=qe[0],Ee-=qe[1],Ve+=qe[2],Oe+=qe[3]),le){const rt=new q(Le,Ee),pt=new q(Ve,Ee),Mt=new q(Le,Oe),Ut=new q(Ve,Oe),Pt=L(le);let Dt=new q(0,0);me&&(Dt=new q(me[0],me[1])),rt._rotateAround(Pt,Dt),pt._rotateAround(Pt,Dt),Mt._rotateAround(Pt,Dt),Ut._rotateAround(Pt,Dt),Le=Math.min(rt.x,pt.x,Mt.x,Ut.x),Ve=Math.max(rt.x,pt.x,Mt.x,Ut.x),Ee=Math.min(rt.y,pt.y,Mt.y,Ut.y),Oe=Math.max(rt.y,pt.y,Mt.y,Ut.y)}return s.emplaceBack(r.x,r.y,r.z,l.x,l.y,Le,Ee,Ve,Oe,ie,f,S,F),s.length-1}function xf(s){s.collisionPadding&&(s.top-=s.collisionPadding[1],s.bottom+=s.collisionPadding[3]);const r=s.bottom-s.top;return r>0?Math.max(10,r):null}function km(s,r,l,f){const S=s.compareText;if(r in S){const F=S[r];for(let W=F.length-1;W>=0;W--)if(f.dist(F[W])<l)return!0}else S[r]=[];return S[r].push(f),!1}const Am=mr([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:wf}=Am,Sf=mr([{name:"a_pos_3",components:3,type:"Int16"}]);var eh=mr([{name:"a_pos",type:"Int16",components:2}]);const ec=Pr/Math.PI/2,kf=2*Xs(1,0)*ec*Math.PI,gu=64,yu=[gu,32,16],cl=-ec,ul=ec,Cm=[new us([cl,cl,cl],[ul,ul,ul]),new us([cl,cl,cl],[0,0,ul]),new us([0,cl,cl],[ul,0,ul]),new us([cl,0,cl],[0,ul,ul]),new us([0,0,cl],[ul,ul,ul])];function Qp(s,r,l,f=!0){const S=Zs([],s._camera.position,s.worldSize),F=[r,l,1,1];fc(F,F,s.pixelMatrixInverse),ap(F,F,1/F[3]);const W=cs([],kl([],F,S)),ie=s.globeMatrix,le=[ie[12],ie[13],ie[14]],me=kl([],le,S),Ee=Dc(me),Oe=cs([],me),Le=s.worldSize/(2*Math.PI),Ve=sl(Oe,W),qe=Math.asin(Le/Ee);if(qe<Math.acos(Ve)){if(!f)return null;const Xi=[],Ci=[];Zs(Xi,W,Ee/Ve),cs(Ci,kl(Ci,Xi,me)),cs(W,Nl(W,me,Zs(W,Ci,Math.tan(qe)*Ee)))}const rt=[];new Bh(S,W).closestPointOnSphere(le,Le,rt);const pt=cs([],Qe(ie,0)),Mt=cs([],Qe(ie,1)),Ut=cs([],Qe(ie,2)),Pt=sl(pt,rt),Dt=sl(Mt,rt),qt=sl(Ut,rt),$t=E(Math.asin(-Dt/Le));let gi=E(Math.atan2(Pt,qt));gi=s.center.lng+function(Xi,Ci){const Di=(Ci-Xi+180)%360-180;return Di<-180?Di+360:Di}(s.center.lng,gi);const pi=bl(gi),Ri=y(Ys($t),0,1);return new Pc(pi,Ri)}class Em{constructor(r,l,f){this.a=kl([],r,f),this.b=kl([],l,f),this.center=f;const S=cs([],this.a),F=cs([],this.b);this.angle=Math.acos(sl(S,F))}}function Af(s,r){if(s.angle===0)return null;let l;return l=s.a[r]===0?1/s.angle*.5*Math.PI:1/s.angle*Math.atan(s.b[r]/s.a[r]/Math.sin(s.angle)-1/Math.tan(s.angle)),l<0||l>1?null:function(f,S,F,W){const ie=Math.sin(F);return f*(Math.sin((1-W)*F)/ie)+S*(Math.sin(W*F)/ie)}(s.a[r],s.b[r],s.angle,y(l,0,1))+s.center[r]}function Ul(s){if(s.z<=1)return Cm[s.z+2*s.y+s.x];const r=Cf(ad(s));return us.fromPoints(r)}function jc(s,r,l){return Zs(s,s,1-l),su(s,s,r,l)}function e0(s,r){const l=Uc(r.zoom);if(l===0)return Ul(s);const f=ad(s),S=Cf(f),F=bl(f.getWest())*r.worldSize,W=bl(f.getEast())*r.worldSize,ie=Ys(f.getNorth())*r.worldSize,le=Ys(f.getSouth())*r.worldSize,me=[F,ie,0],Ee=[W,ie,0],Oe=[F,le,0],Le=[W,le,0],Ve=Dh([],r.globeMatrix);return La(me,me,Ve),La(Ee,Ee,Ve),La(Oe,Oe,Ve),La(Le,Le,Ve),S[0]=jc(S[0],Oe,l),S[1]=jc(S[1],Le,l),S[2]=jc(S[2],Ee,l),S[3]=jc(S[3],me,l),us.fromPoints(S)}function t0(s,r,l){for(const f of s)La(f,f,r),Zs(f,f,l)}function Tm(s,r,l){const f=r/s.worldSize,S=s.globeMatrix;if(l.z<=1){const pi=Ul(l).getCorners();return t0(pi,S,f),us.fromPoints(pi)}const F=ad(l),W=Cf(F);t0(W,S,f);const ie=Number.MAX_VALUE,le=[-ie,-ie,-ie],me=[ie,ie,ie];if(F.contains(s.center)){for(const Xi of W)Ls(me,me,Xi),Sl(le,le,Xi);le[2]=0;const pi=s.point,Ri=[pi.x*f,pi.y*f,0];return Ls(me,me,Ri),Sl(le,le,Ri),new us(me,le)}const Ee=[S[12]*f,S[13]*f,S[14]*f],Oe=F.getCenter(),Le=y(s.center.lat,-85.051129,Oo),Ve=y(Oe.lat,-85.051129,Oo),qe=bl(s.center.lng),rt=Ys(Le);let pt=qe-bl(Oe.lng);const Mt=rt-Ys(Ve);pt>.5?pt-=1:pt<-.5&&(pt+=1);let Ut=0;Math.abs(pt)>Math.abs(Mt)?Ut=pt>=0?1:3:(Ut=Mt>=0?0:2,su(Ee,Ee,[S[4]*f,S[5]*f,S[6]*f],-Math.sin(L(Mt>=0?F.getSouth():F.getNorth()))*ec));const Pt=W[Ut],Dt=W[(Ut+1)%4],qt=new Em(Pt,Dt,Ee),$t=[Af(qt,0)||Pt[0],Af(qt,1)||Pt[1],Af(qt,2)||Pt[2]],gi=Uc(s.zoom);if(gi>0){const pi=function({x:Xi,y:Ci,z:Di},Fi,Gi,Zi,Ti){const sr=1/(1<<Di);let Or=Xi*sr,fr=Or+sr,xr=Ci*sr,lr=xr+sr,zr=0;const bn=(Or+fr)/2-Zi;return bn>.5?zr=-1:bn<-.5&&(zr=1),Or=((Or+zr)*Fi-(Zi*=Fi))*Gi+Zi,fr=((fr+zr)*Fi-Zi)*Gi+Zi,xr=(xr*Fi-(Ti*=Fi))*Gi+Ti,lr=(lr*Fi-Ti)*Gi+Ti,[[Or,lr,0],[fr,lr,0],[fr,xr,0],[Or,xr,0]]}(l,r,s._pixelsPerMercatorPixel,qe,rt);for(let Xi=0;Xi<W.length;Xi++)jc(W[Xi],pi[Xi],gi);const Ri=Nl([],pi[Ut],pi[(Ut+1)%4]);Zs(Ri,Ri,.5),jc($t,Ri,gi)}for(const pi of W)Ls(me,me,pi),Sl(le,le,pi);return me[2]=Math.min(Pt[2],Dt[2]),Ls(me,me,$t),Sl(le,le,$t),new us(me,le)}function ad({x:s,y:r,z:l}){const f=1/(1<<l),S=new wn(ws(s*f),Io((r+1)*f)),F=new wn(ws((s+1)*f),Io(r*f));return new Xl(S,F)}function Cf(s){const r=L(s.getNorth()),l=L(s.getSouth()),f=Math.cos(r),S=Math.cos(l),F=Math.sin(r),W=Math.sin(l),ie=s.getWest(),le=s.getEast();return[vu(S,W,ie),vu(S,W,le),vu(f,F,le),vu(f,F,ie)]}function vu(s,r,l,f=ec){return l=L(l),[s*Math.sin(l)*f,-r*f,s*Math.cos(l)*f]}function th(s,r,l){return vu(Math.cos(L(s)),Math.sin(L(s)),r,l)}function ih(s,r,l,f){const S=1<<l.z,F=(s/Pr+l.x)/S;return th(Io((r/Pr+l.y)/S),ws(F),f)}function od({min:s,max:r}){return 16383/Math.max(r[0]-s[0],r[1]-s[1],r[2]-s[2])}const i0=new Float64Array(16);function rh(s){const r=od(s),l=zd(i0,[r,r,r]);return Nu(l,l,((f=[])[0]=-(S=s.min)[0],f[1]=-S[1],f[2]=-S[2],f));var f,S}function Ef(s){const r=(f=s.min,(l=i0)[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=f[0],l[13]=f[1],l[14]=f[2],l[15]=1,l);var l,f;const S=1/od(s);return Rc(r,r,[S,S,S])}function sd(s,r,l,f,S){const F=function(le){const me=Pr/(2*Math.PI);return le/(2*Math.PI)/me}(l),W=[s,r,-l/(2*Math.PI)],ie=ol(new Float64Array(16));return Nu(ie,ie,W),Rc(ie,ie,[F,F,F]),Nd(ie,ie,L(-S)),zu(ie,ie,L(-f)),ie}function Uc(s){return x(5,6,s)}function Tf(s,r){const l=th(r.lat,r.lng),f=function(qe){const rt=th(qe._center.lat,qe._center.lng);let pt=$d([],Lc(0,1,0),rt);const Mt=rp([],-qe.angle,rt);pt=La(pt,pt,Mt),rp(Mt,-qe._pitch,pt);const Ut=cs([],rt);return Zs(Ut,Ut,qe.cameraToCenterDistance/qe.pixelsPerMeter*kf),La(Ut,Ut,Mt),Nl([],rt,Ut)}(s);return W=(S=ou([],f,l))[0],ie=S[1],le=S[2],me=(F=l)[0],Ee=F[1],Oe=F[2],Ve=(Le=Math.sqrt(W*W+ie*ie+le*le)*Math.sqrt(me*me+Ee*Ee+Oe*Oe))&&sl(S,F)/Le,Math.acos(Math.min(Math.max(Ve,-1),1));var S,F,W,ie,le,me,Ee,Oe,Le,Ve}function Pf(s,r){return Tf(s,r)>Math.PI/2*1.01}const r0=L(85),Pm=Math.cos(r0),Mf=Math.sin(r0);function n0(s,r){const l=s.fovAboveCenter,f=s.elevation?s.elevation.getMinElevationBelowMSL()*r:0,S=(s._camera.position[2]*s.worldSize-f)/Math.cos(s._pitch),F=Math.sin(l)*S/Math.sin(Math.max(Math.PI/2-s._pitch-l,.01)),W=Math.sin(s._pitch)*F+S;return Math.min(1.01*W,S*(1/s._horizonShift))}function $c(s,r){if(!r.isReprojectedInTileSpace)return{scale:1<<s.z,x:s.x,y:s.y,x2:s.x+1,y2:s.y+1,projection:r};const l=Math.pow(2,-s.z),f=s.x*l,S=(s.x+1)*l,F=s.y*l,W=(s.y+1)*l,ie=ws(f),le=ws(S),me=Io(F),Ee=Io(W),Oe=r.project(ie,me),Le=r.project(le,me),Ve=r.project(le,Ee),qe=r.project(ie,Ee);let rt=Math.min(Oe.x,Le.x,Ve.x,qe.x),pt=Math.min(Oe.y,Le.y,Ve.y,qe.y),Mt=Math.max(Oe.x,Le.x,Ve.x,qe.x),Ut=Math.max(Oe.y,Le.y,Ve.y,qe.y);const Pt=l/16;function Dt($t,gi,pi,Ri,Xi,Ci){const Di=(pi+Xi)/2,Fi=(Ri+Ci)/2,Gi=r.project(ws(Di),Io(Fi)),Zi=Math.max(0,rt-Gi.x,pt-Gi.y,Gi.x-Mt,Gi.y-Ut);rt=Math.min(rt,Gi.x),Mt=Math.max(Mt,Gi.x),pt=Math.min(pt,Gi.y),Ut=Math.max(Ut,Gi.y),Zi>Pt&&(Dt($t,Gi,pi,Ri,Di,Fi),Dt(Gi,gi,Di,Fi,Xi,Ci))}Dt(Oe,Le,f,F,S,F),Dt(Le,Ve,S,F,S,W),Dt(Ve,qe,S,W,f,W),Dt(qe,Oe,f,W,f,F),rt-=Pt,pt-=Pt,Mt+=Pt,Ut+=Pt;const qt=1/Math.max(Mt-rt,Ut-pt);return{scale:qt,x:rt*qt,y:pt*qt,x2:Mt*qt,y2:Ut*qt,projection:r}}const Mm=ol(new Float32Array(16));class lo{constructor(r){this.spec=r,this.name=r.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(r,l){return{x:0,y:0,z:0}}unproject(r,l){return new wn(0,0)}projectTilePoint(r,l,f){return{x:r,y:l,z:0}}locationPoint(r,l,f=!0){return r._coordinatePoint(r.locationCoordinate(l),f)}pixelsPerMeter(r,l){return Xs(1,r)*l}pixelSpaceConversion(r,l,f){return 1}farthestPixelDistance(r){return n0(r,r.pixelsPerMeter)}pointCoordinate(r,l,f,S){const F=r.horizonLineFromTop(!1),W=new q(l,Math.max(F,f));return r.rayIntersectionCoordinate(r.pointRayIntersection(W,S))}pointCoordinate3D(r,l,f){const S=new q(l,f);if(r.elevation)return r.elevation.pointCoordinate(S);{const F=this.pointCoordinate(r,S.x,S.y,0);return[F.x,F.y,F.z]}}isPointAboveHorizon(r,l){if(r.elevation)return!this.pointCoordinate3D(r,l.x,l.y);const f=r.horizonLineFromTop();return l.y<f}createInversionMatrix(r,l){return Mm}createTileMatrix(r,l,f){let S,F,W;const ie=f.canonical,le=ol(new Float64Array(16));if(this.isReprojectedInTileSpace){const me=$c(ie,this);S=1,F=me.x+f.wrap*me.scale,W=me.y,Rc(le,le,[S/me.scale,S/me.scale,r.pixelsPerMeter/l])}else S=l/r.zoomScale(ie.z),F=(ie.x+Math.pow(2,ie.z)*f.wrap)*S,W=ie.y*S;return Nu(le,le,[F,W,0]),Rc(le,le,[S/Pr,S/Pr,1]),le}upVector(r,l,f){return[0,0,1]}upVectorScale(r,l,f){return{metersToTile:1}}}class If extends lo{constructor(r){super(r),this.range=[4,7],this.center=r.center||[-96,37.5];const[l,f]=this.parallels=r.parallels||[29.5,45.5],S=Math.sin(L(l));this.n=(S+Math.sin(L(f)))/2,this.c=1+S*(2*this.n-S),this.r0=Math.sqrt(this.c)/this.n}project(r,l){const{n:f,c:S,r0:F}=this,W=L(r-this.center[0]),ie=L(l),le=Math.sqrt(S-2*f*Math.sin(ie))/f;return{x:le*Math.sin(W*f),y:le*Math.cos(W*f)-F,z:0}}unproject(r,l){const{n:f,c:S,r0:F}=this,W=F+l;let ie=Math.atan2(r,Math.abs(W))*Math.sign(W);W*f<0&&(ie-=Math.PI*Math.sign(r)*Math.sign(W));const le=L(this.center[0])*f;ie=M(ie,-Math.PI-le,Math.PI-le);const me=y(E(ie/f)+this.center[0],-180,180),Ee=Math.asin(y((S-(r*r+W*W)*f*f)/(2*f),-1,1)),Oe=y(E(Ee),-85.051129,Oo);return new wn(me,Oe)}}const nh=1.340264,ah=-.081106,oh=893e-6,sh=.003796,_u=Math.sqrt(3)/2;class Im extends lo{project(r,l){l=l/180*Math.PI,r=r/180*Math.PI;const f=Math.asin(_u*Math.sin(l)),S=f*f,F=S*S*S;return{x:.5*(r*Math.cos(f)/(_u*(nh+3*ah*S+F*(7*oh+9*sh*S)))/Math.PI+.5),y:1-.5*(f*(nh+ah*S+F*(oh+sh*S))/Math.PI+1),z:0}}unproject(r,l){r=(2*r-.5)*Math.PI;let f=l=(2*(1-l)-1)*Math.PI,S=f*f,F=S*S*S;for(let Ee,Oe,Le,Ve=0;Ve<12&&(Oe=f*(nh+ah*S+F*(oh+sh*S))-l,Le=nh+3*ah*S+F*(7*oh+9*sh*S),Ee=Oe/Le,f=y(f-Ee,-Math.PI/3,Math.PI/3),S=f*f,F=S*S*S,!(Math.abs(Ee)<1e-12));++Ve);const W=_u*r*(nh+3*ah*S+F*(7*oh+9*sh*S))/Math.cos(f),ie=Math.asin(Math.sin(f)/_u),le=y(180*W/Math.PI,-180,180),me=y(180*ie/Math.PI,-85.051129,Oo);return new wn(le,me)}}class Of extends lo{constructor(r){super(r),this.wrap=!0,this.supportsWorldCopies=!0}project(r,l){return{x:.5+r/360,y:.5-l/360,z:0}}unproject(r,l){const f=360*(r-.5),S=y(360*(.5-l),-85.051129,Oo);return new wn(f,S)}}const bu=Math.PI/2;function ld(s){return Math.tan((bu+s)/2)}class Om extends lo{constructor(r){super(r),this.center=r.center||[0,30];const[l,f]=this.parallels=r.parallels||[30,30];let S=L(l),F=L(f);this.southernCenter=S+F<0,this.southernCenter&&(S=-S,F=-F);const W=Math.cos(S),ie=ld(S);this.n=S===F?Math.sin(S):Math.log(W/Math.cos(F))/Math.log(ld(F)/ie),this.f=W*Math.pow(ld(S),this.n)/this.n}project(r,l){l=L(l),this.southernCenter&&(l=-l),r=L(r-this.center[0]);const f=1e-6,{n:S,f:F}=this;F>0?l<-bu+f&&(l=-bu+f):l>bu-f&&(l=bu-f);const W=F/Math.pow(ld(l),S);let ie=W*Math.sin(S*r),le=F-W*Math.cos(S*r);return ie=.5*(ie/Math.PI+.5),le=.5*(le/Math.PI+.5),{x:ie,y:this.southernCenter?le:1-le,z:0}}unproject(r,l){r=(2*r-.5)*Math.PI,this.southernCenter&&(l=1-l),l=(2*(1-l)-.5)*Math.PI;const{n:f,f:S}=this,F=S-l,W=Math.sign(F),ie=Math.sign(f)*Math.sqrt(r*r+F*F);let le=Math.atan2(r,Math.abs(F))*W;F*f<0&&(le-=Math.PI*Math.sign(r)*W);const me=y(E(le/f)+this.center[0],-180,180),Ee=y(E(2*Math.atan(Math.pow(S/ie,1/f))-bu),-85.051129,Oo);return new wn(me,this.southernCenter?-Ee:Ee)}}class a0 extends lo{constructor(r){super(r),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(r,l){return{x:bl(r),y:Ys(l),z:0}}unproject(r,l){const f=ws(r),S=Io(l);return new wn(f,S)}}const Rf=L(Oo);class Rm extends lo{project(r,l){const f=(l=L(l))*l,S=f*f;return{x:.5*((r=L(r))*(.8707-.131979*f+S*(S*(.003971*f-.001529*S)-.013791))/Math.PI+.5),y:1-.5*(l*(1.007226+f*(.015085+S*(.028874*f-.044475-.005916*S)))/Math.PI+1),z:0}}unproject(r,l){r=(2*r-.5)*Math.PI;let f=l=(2*(1-l)-1)*Math.PI,S=25,F=0,W=f*f;do{W=f*f;const me=W*W;F=(f*(1.007226+W*(.015085+me*(.028874*W-.044475-.005916*me)))-l)/(1.007226+W*(.045255+me*(.259866*W-.311325-.005916*11*me))),f=y(f-F,-Rf,Rf)}while(Math.abs(F)>1e-6&&--S>0);W=f*f;const ie=y(E(r/(.8707+W*(W*(W*W*W*(.003971-.001529*W)-.013791)-.131979))),-180,180),le=E(f);return new wn(ie,le)}}const o0=L(Oo);class Dm extends lo{project(r,l){l=L(l),r=L(r);const f=Math.cos(l),S=2/Math.PI,F=Math.acos(f*Math.cos(r/2)),W=Math.sin(F)/F,ie=.5*(r*S+2*f*Math.sin(r/2)/W)||0,le=.5*(l+Math.sin(l)/W)||0;return{x:.5*(ie/Math.PI+.5),y:1-.5*(le/Math.PI+1),z:0}}unproject(r,l){let f=r=(2*r-.5)*Math.PI,S=l=(2*(1-l)-1)*Math.PI,F=25;const W=1e-6;let ie=0,le=0;do{const me=Math.cos(S),Ee=Math.sin(S),Oe=2*Ee*me,Le=Ee*Ee,Ve=me*me,qe=Math.cos(f/2),rt=Math.sin(f/2),pt=2*qe*rt,Mt=rt*rt,Ut=1-Ve*qe*qe,Pt=Ut?1/Ut:0,Dt=Ut?Math.acos(me*qe)*Math.sqrt(1/Ut):0,qt=.5*(2*Dt*me*rt+2*f/Math.PI)-r,$t=.5*(Dt*Ee+S)-l,gi=.5*Pt*(Ve*Mt+Dt*me*qe*Le)+1/Math.PI,pi=Pt*(pt*Oe/4-Dt*Ee*rt),Ri=.125*Pt*(Oe*rt-Dt*Ee*Ve*pt),Xi=.5*Pt*(Le*qe+Dt*Mt*me)+.5,Ci=pi*Ri-Xi*gi;ie=($t*pi-qt*Xi)/Ci,le=(qt*Ri-$t*gi)/Ci,f=y(f-ie,-Math.PI,Math.PI),S=y(S-le,-o0,o0)}while((Math.abs(ie)>W||Math.abs(le)>W)&&--F>0);return new wn(E(f),E(S))}}class cd extends lo{constructor(r){super(r),this.center=r.center||[0,0],this.parallels=r.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(L(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(r,l){const{scale:f,cosPhi:S}=this;return{x:L(r)*S*f+.5,y:-Math.sin(L(l))/S*f+.5,z:0}}unproject(r,l){const{scale:f,cosPhi:S}=this,F=-(l-.5)/f,W=y(E((r-.5)/f)/S,-180,180),ie=Math.asin(y(F*S,-1,1)),le=y(E(ie),-85.051129,Oo);return new wn(W,le)}}class Df extends a0{constructor(r){super(r),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(r,l,f){const S=ih(r,l,f);return La(S,S,rh(Ul(f))),{x:S[0],y:S[1],z:S[2]}}locationPoint(r,l){const f=th(l.lat,l.lng),S=cs([],f),F=r.elevation?r.elevation.getAtPointOrZero(r.locationCoordinate(l),r._centerAltitude):r._centerAltitude;su(f,f,S,Xs(1,0)*Pr*F);const W=ol(new Float64Array(16));return Oc(W,r.pixelMatrix,r.globeMatrix),La(f,f,W),new q(f[0],f[1])}pixelsPerMeter(r,l){return Xs(1,0)*l}pixelSpaceConversion(r,l,f){const S=Xs(1,r)*l,F=$r(Xs(1,45)*l,S,f);return this.pixelsPerMeter(r,l)/F}createTileMatrix(r,l,f){const S=Ef(Ul(f.canonical));return Oc(new Float64Array(16),r.globeMatrix,S)}createInversionMatrix(r,l){const{center:f}=r,S=rh(Ul(l));return zu(S,S,L(f.lng)),Nd(S,S,L(f.lat)),Rc(S,S,[r._pixelsPerMercatorPixel,r._pixelsPerMercatorPixel,1]),Float32Array.from(S)}pointCoordinate(r,l,f,S){return Qp(r,l,f,!0)||new Pc(0,0)}pointCoordinate3D(r,l,f){const S=this.pointCoordinate(r,l,f,0);return[S.x,S.y,S.z]}isPointAboveHorizon(r,l){return!Qp(r,l.x,l.y,!1)}farthestPixelDistance(r){const l=function(S,F){const W=S.cameraToCenterDistance,ie=S._centerAltitude*F,le=S._camera,me=S._camera.forward(),Ee=Nl([],Zs([],me,-W),[0,0,ie]),Oe=S.worldSize/(2*Math.PI),Le=[0,0,-Oe],Ve=S.width/S.height,qe=Math.tan(S.fovAboveCenter),rt=Zs([],le.up(),qe),pt=Zs([],le.right(),qe*Ve),Mt=cs([],Nl([],Nl([],me,rt),pt)),Ut=[];let Pt;if(new Bh(Ee,Mt).closestPointOnSphere(Le,Oe,Ut)){const Dt=Nl([],Ut,Le),qt=kl([],Dt,Ee);Pt=Math.cos(S.fovAboveCenter)*Dc(qt)}else{const Dt=kl([],Ee,Le),qt=kl([],Le,Ee);cs(qt,qt);const $t=Dc(Dt)-Oe;Pt=Math.sqrt($t*($t+2*Oe));const gi=Math.acos(Pt/(Oe+$t))-Math.acos(sl(me,qt));Pt*=Math.cos(gi)}return 1.01*Pt}(r,this.pixelsPerMeter(r.center.lat,r.worldSize)),f=Uc(r.zoom);if(f>0){const S=n0(r,Xs(1,r.center.lat)*r.worldSize),F=r.worldSize/(2*Math.PI),W=Math.max(r.width,r.height)/r.worldSize*Math.PI;return $r(l,S+F*(1-Math.cos(W)),Math.pow(f,10))}return l}upVector(r,l,f){return ih(l,f,r,1)}upVectorScale(r){return{metersToTile:kf*od(Ul(r))}}}function s0(s){const r=s.parallels,l=!!r&&Math.abs(r[0]+r[1])<.01;switch(s.name){case"mercator":return new a0(s);case"equirectangular":return new Of(s);case"naturalEarth":return new Rm(s);case"equalEarth":return new Im(s);case"winkelTripel":return new Dm(s);case"albers":return l?new cd(s):new If(s);case"lambertConformalConic":return l?new cd(s):new Om(s);case"globe":return new Df(s)}throw new Error(`Invalid projection name: ${s.name}`)}const Lm=Vh.types,Bm=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function ud(s,r,l,f,S,F,W,ie,le,me,Ee,Oe,Le){const Ve=ie?Math.min(gc,Math.round(ie[0])):0,qe=ie?Math.min(gc,Math.round(ie[1])):0;s.emplaceBack(r,l,Math.round(32*f),Math.round(32*S),F,W,(Ve<<1)+(le?1:0),qe,16*me,16*Ee,256*Oe,256*Le)}function hd(s,r,l,f,S,F,W){s.emplaceBack(r,l,f,S,F,W)}function dd(s,r,l,f,S){s.emplaceBack(r,l,f,S),s.emplaceBack(r,l,f,S),s.emplaceBack(r,l,f,S),s.emplaceBack(r,l,f,S)}function Fm(s){for(const r of s.sections)if(_t(r.text))return!0;return!1}class Lf{constructor(r){this.layoutVertexArray=new Fn,this.indexArray=new _o,this.programConfigurations=r,this.segments=new za,this.dynamicLayoutVertexArray=new jo,this.opacityVertexArray=new Pa,this.placedSymbolArray=new Gf,this.globeExtVertexArray=new Tn}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(r,l,f,S){this.isEmpty()||(f&&(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,tm.members),this.indexBuffer=r.createIndexBuffer(this.indexArray,l),this.dynamicLayoutVertexBuffer=r.createVertexBuffer(this.dynamicLayoutVertexArray,im.members,!0),this.opacityVertexBuffer=r.createVertexBuffer(this.opacityVertexArray,Bm,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=r.createVertexBuffer(this.globeExtVertexArray,Al.members,!0)),this.opacityVertexBuffer.itemSize=1),(f||S)&&this.programConfigurations.upload(r))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}ur(Lf,"SymbolBuffers");class Bf{constructor(r,l,f){this.layoutVertexArray=new r,this.layoutAttributes=l,this.indexArray=new f,this.segments=new za,this.collisionVertexArray=new Ac,this.collisionVertexArrayExt=new qs}upload(r){this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=r.createVertexBuffer(this.collisionVertexArray,rm.members,!0),this.collisionVertexBufferExt=r.createVertexBuffer(this.collisionVertexArrayExt,Fc.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}ur(Bf,"CollisionBuffers");class yc{constructor(r){this.collisionBoxArray=r.collisionBoxArray,this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(W=>W.id),this.index=r.index,this.pixelRatio=r.pixelRatio,this.sourceLayerIndex=r.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=ol([]),this.placementViewportMatrix=ol([]);const l=this.layers[0]._unevaluatedLayout._values;this.textSizeData=cf(this.zoom,l["text-size"]),this.iconSizeData=cf(this.zoom,l["icon-size"]);const f=this.layers[0].layout,S=f.get("symbol-sort-key"),F=f.get("symbol-z-order");this.canOverlap=f.get("text-allow-overlap")||f.get("icon-allow-overlap")||f.get("text-ignore-placement")||f.get("icon-ignore-placement"),this.sortFeaturesByKey=F!=="viewport-y"&&S.constantOr(1)!==void 0,this.sortFeaturesByY=(F==="viewport-y"||F==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=f.get("text-writing-mode").map(W=>Kr[W]),this.stateDependentLayerIds=this.layers.filter(W=>W.isStateDependent()).map(W=>W.id),this.sourceID=r.sourceID,this.projection=r.projection}createArrays(){this.text=new Lf(new Ll(this.layers,this.zoom,r=>/^text/.test(r))),this.icon=new Lf(new Ll(this.layers,this.zoom,r=>/^icon/.test(r))),this.glyphOffsetArray=new bd,this.lineVertexArray=new xd,this.symbolInstances=new Ah}calculateGlyphDependencies(r,l,f,S,F){for(let W=0;W<r.length;W++)if(l[r.charCodeAt(W)]=!0,S&&F){const ie=Zu[r.charAt(W)];ie&&(l[ie.charCodeAt(0)]=!0)}}populate(r,l,f,S){const F=this.layers[0],W=F.layout,ie=this.projection.name==="globe",le=W.get("text-font"),me=W.get("text-field"),Ee=W.get("icon-image"),Oe=(me.value.kind!=="constant"||me.value.value instanceof na&&!me.value.value.isEmpty()||me.value.value.toString().length>0)&&(le.value.kind!=="constant"||le.value.value.length>0),Le=Ee.value.kind!=="constant"||!!Ee.value.value||Object.keys(Ee.parameters).length>0,Ve=W.get("symbol-sort-key");if(this.features=[],!Oe&&!Le)return;const qe=l.iconDependencies,rt=l.glyphDependencies,pt=l.availableImages,Mt=new ni(this.zoom);for(const{feature:Ut,id:Pt,index:Dt,sourceLayerIndex:qt}of r){const $t=F._featureFilter.needGeometry,gi=Bl(Ut,$t);if(!F._featureFilter.filter(Mt,gi,f))continue;if($t||(gi.geometry=wl(Ut,f,S)),ie&&Ut.type!==1&&f.z<=5){const Ci=gi.geometry,Di=.98078528056,Fi=(Gi,Zi)=>sl(ih(Gi.x,Gi.y,f,1),ih(Zi.x,Zi.y,f,1))<Di;for(let Gi=0;Gi<Ci.length;Gi++)Ci[Gi]=f0(Ci[Gi],Fi)}let pi,Ri;if(Oe){const Ci=F.getValueAndResolveTokens("text-field",gi,f,pt),Di=na.factory(Ci);Fm(Di)&&(this.hasRTLText=!0),(!this.hasRTLText||Jt()==="unavailable"||this.hasRTLText&&di.isParsed())&&(pi=om(Di,F,gi))}if(Le){const Ci=F.getValueAndResolveTokens("icon-image",gi,f,pt);Ri=Ci instanceof ma?Ci:ma.fromString(Ci)}if(!pi&&!Ri)continue;const Xi=this.sortFeaturesByKey?Ve.evaluate(gi,{},f):void 0;if(this.features.push({id:Pt,text:pi,icon:Ri,index:Dt,sourceLayerIndex:qt,geometry:gi.geometry,properties:Ut.properties,type:Lm[Ut.type],sortKey:Xi}),Ri&&(qe[Ri.name]=!0),pi){const Ci=le.evaluate(gi,{},f).join(","),Di=W.get("text-rotation-alignment")==="map"&&W.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Kr.vertical)>=0;for(const Fi of pi.sections)if(Fi.image)qe[Fi.image.name]=!0;else{const Gi=ve(pi.toString()),Zi=Fi.fontStack||Ci,Ti=rt[Zi]=rt[Zi]||{};this.calculateGlyphDependencies(Fi.text,Ti,Di,this.allowVerticalPlacement,Gi)}}}W.get("symbol-placement")==="line"&&(this.features=function(Ut){const Pt={},Dt={},qt=[];let $t=0;function gi(Ci){qt.push(Ut[Ci]),$t++}function pi(Ci,Di,Fi){const Gi=Dt[Ci];return delete Dt[Ci],Dt[Di]=Gi,qt[Gi].geometry[0].pop(),qt[Gi].geometry[0]=qt[Gi].geometry[0].concat(Fi[0]),Gi}function Ri(Ci,Di,Fi){const Gi=Pt[Di];return delete Pt[Di],Pt[Ci]=Gi,qt[Gi].geometry[0].shift(),qt[Gi].geometry[0]=Fi[0].concat(qt[Gi].geometry[0]),Gi}function Xi(Ci,Di,Fi){const Gi=Fi?Di[0][Di[0].length-1]:Di[0][0];return`${Ci}:${Gi.x}:${Gi.y}`}for(let Ci=0;Ci<Ut.length;Ci++){const Di=Ut[Ci],Fi=Di.geometry,Gi=Di.text?Di.text.toString():null;if(!Gi){gi(Ci);continue}const Zi=Xi(Gi,Fi),Ti=Xi(Gi,Fi,!0);if(Zi in Dt&&Ti in Pt&&Dt[Zi]!==Pt[Ti]){const sr=Ri(Zi,Ti,Fi),Or=pi(Zi,Ti,qt[sr].geometry);delete Pt[Zi],delete Dt[Ti],Dt[Xi(Gi,qt[Or].geometry,!0)]=Or,qt[sr].geometry=null}else Zi in Dt?pi(Zi,Ti,Fi):Ti in Pt?Ri(Zi,Ti,Fi):(gi(Ci),Pt[Zi]=$t-1,Dt[Ti]=$t-1)}return qt.filter(Ci=>Ci.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Ut,Pt)=>Ut.sortKey-Pt.sortKey)}update(r,l,f,S){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(r,l,this.layers,f,S),this.icon.programConfigurations.updatePaintArrays(r,l,this.layers,f,S))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(r){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(r),this.iconCollisionBox.upload(r)),this.text.upload(r,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(r,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=s0(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(r,l){const f=this.lineVertexArray.length;if(r.segment!==void 0)for(const{x:S,y:F}of l)this.lineVertexArray.emplaceBack(S,F);return{lineStartIndex:f,lineLength:this.lineVertexArray.length-f}}addSymbols(r,l,f,S,F,W,ie,le,me,Ee,Oe,Le,Ve,qe){const rt=r.indexArray,pt=r.layoutVertexArray,Mt=r.globeExtVertexArray,Ut=r.segments.prepareSegment(4*l.length,pt,rt,this.canOverlap?W.sortKey:void 0),Pt=this.glyphOffsetArray.length,Dt=Ut.vertexLength,qt=this.allowVerticalPlacement&&ie===Kr.vertical?Math.PI/2:0,$t=W.text&&W.text.sections;for(let pi=0;pi<l.length;pi++){const{tl:Ri,tr:Xi,bl:Ci,br:Di,tex:Fi,pixelOffsetTL:Gi,pixelOffsetBR:Zi,minFontScaleX:Ti,minFontScaleY:sr,glyphOffset:Or,isSDF:fr,sectionIndex:xr}=l[pi],lr=Ut.vertexLength,zr=Or[1];if(ud(pt,me.x,me.y,Ri.x,zr+Ri.y,Fi.x,Fi.y,f,fr,Gi.x,Gi.y,Ti,sr),ud(pt,me.x,me.y,Xi.x,zr+Xi.y,Fi.x+Fi.w,Fi.y,f,fr,Zi.x,Gi.y,Ti,sr),ud(pt,me.x,me.y,Ci.x,zr+Ci.y,Fi.x,Fi.y+Fi.h,f,fr,Gi.x,Zi.y,Ti,sr),ud(pt,me.x,me.y,Di.x,zr+Di.y,Fi.x+Fi.w,Fi.y+Fi.h,f,fr,Zi.x,Zi.y,Ti,sr),le){const{x:bn,y:yn,z:mn}=le.anchor,[Vr,Wn,en]=le.up;hd(Mt,bn,yn,mn,Vr,Wn,en),hd(Mt,bn,yn,mn,Vr,Wn,en),hd(Mt,bn,yn,mn,Vr,Wn,en),hd(Mt,bn,yn,mn,Vr,Wn,en),dd(r.dynamicLayoutVertexArray,bn,yn,mn,qt)}else dd(r.dynamicLayoutVertexArray,me.x,me.y,me.z,qt);rt.emplaceBack(lr,lr+1,lr+2),rt.emplaceBack(lr+1,lr+2,lr+3),Ut.vertexLength+=4,Ut.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Or[0]),pi!==l.length-1&&xr===l[pi+1].sectionIndex||r.programConfigurations.populatePaintArrays(pt.length,W,W.index,{},Ve,qe,$t&&$t[xr])}const gi=le?le.anchor:me;r.placedSymbolArray.emplaceBack(gi.x,gi.y,gi.z,me.x,me.y,Pt,this.glyphOffsetArray.length-Pt,Dt,Ee,Oe,me.segment,f?f[0]:0,f?f[1]:0,S[0],S[1],ie,0,!1,0,Le,0)}_commitLayoutVertex(r,l,f,S,F,W,ie){r.emplaceBack(l,f,S,F,W,Math.round(ie.x),Math.round(ie.y))}_addCollisionDebugVertices(r,l,f,S,F,W,ie){const le=f.segments.prepareSegment(4,f.layoutVertexArray,f.indexArray),me=le.vertexLength,Ee=ie.tileAnchorX,Oe=ie.tileAnchorY;for(let Ve=0;Ve<4;Ve++)f.collisionVertexArray.emplaceBack(0,0,0,0);f.collisionVertexArrayExt.emplaceBack(l,-r.padding,-r.padding),f.collisionVertexArrayExt.emplaceBack(l,r.padding,-r.padding),f.collisionVertexArrayExt.emplaceBack(l,r.padding,r.padding),f.collisionVertexArrayExt.emplaceBack(l,-r.padding,r.padding),this._commitLayoutVertex(f.layoutVertexArray,S,F,W,Ee,Oe,new q(r.x1,r.y1)),this._commitLayoutVertex(f.layoutVertexArray,S,F,W,Ee,Oe,new q(r.x2,r.y1)),this._commitLayoutVertex(f.layoutVertexArray,S,F,W,Ee,Oe,new q(r.x2,r.y2)),this._commitLayoutVertex(f.layoutVertexArray,S,F,W,Ee,Oe,new q(r.x1,r.y2)),le.vertexLength+=4;const Le=f.indexArray;Le.emplaceBack(me,me+1),Le.emplaceBack(me+1,me+2),Le.emplaceBack(me+2,me+3),Le.emplaceBack(me+3,me),le.primitiveLength+=4}_addTextDebugCollisionBoxes(r,l,f,S,F,W){for(let ie=S;ie<F;ie++){const le=f.get(ie),me=this.getSymbolInstanceTextSize(r,W,l,ie);this._addCollisionDebugVertices(le,me,this.textCollisionBox,le.projectedAnchorX,le.projectedAnchorY,le.projectedAnchorZ,W)}}_addIconDebugCollisionBoxes(r,l,f,S,F,W){for(let ie=S;ie<F;ie++){const le=f.get(ie),me=this.getSymbolInstanceIconSize(r,l,W.placedIconSymbolIndex);this._addCollisionDebugVertices(le,me,this.iconCollisionBox,le.projectedAnchorX,le.projectedAnchorY,le.projectedAnchorZ,W)}}generateCollisionDebugBuffers(r,l){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Bf(Kn,pn.members,al),this.iconCollisionBox=new Bf(Kn,pn.members,al);const f=du(this.iconSizeData,r),S=du(this.textSizeData,r);for(let F=0;F<this.symbolInstances.length;F++){const W=this.symbolInstances.get(F);this._addTextDebugCollisionBoxes(S,r,l,W.textBoxStartIndex,W.textBoxEndIndex,W),this._addTextDebugCollisionBoxes(S,r,l,W.verticalTextBoxStartIndex,W.verticalTextBoxEndIndex,W),this._addIconDebugCollisionBoxes(f,r,l,W.iconBoxStartIndex,W.iconBoxEndIndex,W),this._addIconDebugCollisionBoxes(f,r,l,W.verticalIconBoxStartIndex,W.verticalIconBoxEndIndex,W)}}getSymbolInstanceTextSize(r,l,f,S){const F=this.text.placedSymbolArray.get(l.rightJustifiedTextSymbolIndex>=0?l.rightJustifiedTextSymbolIndex:l.centerJustifiedTextSymbolIndex>=0?l.centerJustifiedTextSymbolIndex:l.leftJustifiedTextSymbolIndex>=0?l.leftJustifiedTextSymbolIndex:l.verticalPlacedTextSymbolIndex>=0?l.verticalPlacedTextSymbolIndex:S),W=Cl(this.textSizeData,r,F)/Jn;return this.tilePixelRatio*W}getSymbolInstanceIconSize(r,l,f){const S=this.icon.placedSymbolArray.get(f),F=Cl(this.iconSizeData,r,S);return this.tilePixelRatio*F}_commitDebugCollisionVertexUpdate(r,l,f){r.emplaceBack(l,-f,-f),r.emplaceBack(l,f,-f),r.emplaceBack(l,f,f),r.emplaceBack(l,-f,f)}_updateTextDebugCollisionBoxes(r,l,f,S,F,W){for(let ie=S;ie<F;ie++){const le=f.get(ie),me=this.getSymbolInstanceTextSize(r,W,l,ie);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,me,le.padding)}}_updateIconDebugCollisionBoxes(r,l,f,S,F,W){for(let ie=S;ie<F;ie++){const le=f.get(ie),me=this.getSymbolInstanceIconSize(r,l,W);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,me,le.padding)}}updateCollisionDebugBuffers(r,l){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const f=du(this.iconSizeData,r),S=du(this.textSizeData,r);for(let F=0;F<this.symbolInstances.length;F++){const W=this.symbolInstances.get(F);this._updateTextDebugCollisionBoxes(S,r,l,W.textBoxStartIndex,W.textBoxEndIndex,W),this._updateTextDebugCollisionBoxes(S,r,l,W.verticalTextBoxStartIndex,W.verticalTextBoxEndIndex,W),this._updateIconDebugCollisionBoxes(f,r,l,W.iconBoxStartIndex,W.iconBoxEndIndex,W.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(f,r,l,W.verticalIconBoxStartIndex,W.verticalIconBoxEndIndex,W.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(r,l,f,S,F,W,ie,le,me){const Ee={};if(l<f){const{x1:Oe,y1:Le,x2:Ve,y2:qe,padding:rt,projectedAnchorX:pt,projectedAnchorY:Mt,projectedAnchorZ:Ut,tileAnchorX:Pt,tileAnchorY:Dt,featureIndex:qt}=r.get(l);Ee.textBox={x1:Oe,y1:Le,x2:Ve,y2:qe,padding:rt,projectedAnchorX:pt,projectedAnchorY:Mt,projectedAnchorZ:Ut,tileAnchorX:Pt,tileAnchorY:Dt},Ee.textFeatureIndex=qt}if(S<F){const{x1:Oe,y1:Le,x2:Ve,y2:qe,padding:rt,projectedAnchorX:pt,projectedAnchorY:Mt,projectedAnchorZ:Ut,tileAnchorX:Pt,tileAnchorY:Dt,featureIndex:qt}=r.get(S);Ee.verticalTextBox={x1:Oe,y1:Le,x2:Ve,y2:qe,padding:rt,projectedAnchorX:pt,projectedAnchorY:Mt,projectedAnchorZ:Ut,tileAnchorX:Pt,tileAnchorY:Dt},Ee.verticalTextFeatureIndex=qt}if(W<ie){const{x1:Oe,y1:Le,x2:Ve,y2:qe,padding:rt,projectedAnchorX:pt,projectedAnchorY:Mt,projectedAnchorZ:Ut,tileAnchorX:Pt,tileAnchorY:Dt,featureIndex:qt}=r.get(W);Ee.iconBox={x1:Oe,y1:Le,x2:Ve,y2:qe,padding:rt,projectedAnchorX:pt,projectedAnchorY:Mt,projectedAnchorZ:Ut,tileAnchorX:Pt,tileAnchorY:Dt},Ee.iconFeatureIndex=qt}if(le<me){const{x1:Oe,y1:Le,x2:Ve,y2:qe,padding:rt,projectedAnchorX:pt,projectedAnchorY:Mt,projectedAnchorZ:Ut,tileAnchorX:Pt,tileAnchorY:Dt,featureIndex:qt}=r.get(le);Ee.verticalIconBox={x1:Oe,y1:Le,x2:Ve,y2:qe,padding:rt,projectedAnchorX:pt,projectedAnchorY:Mt,projectedAnchorZ:Ut,tileAnchorX:Pt,tileAnchorY:Dt},Ee.verticalIconFeatureIndex=qt}return Ee}deserializeCollisionBoxes(r){this.collisionArrays=[];for(let l=0;l<this.symbolInstances.length;l++){const f=this.symbolInstances.get(l);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(r,f.textBoxStartIndex,f.textBoxEndIndex,f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f.iconBoxStartIndex,f.iconBoxEndIndex,f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(r,l){const f=r.placedSymbolArray.get(l),S=f.vertexStartIndex+4*f.numGlyphs;for(let F=f.vertexStartIndex;F<S;F+=4)r.indexArray.emplaceBack(F,F+1,F+2),r.indexArray.emplaceBack(F+1,F+2,F+3)}getSortedSymbolIndexes(r){if(this.sortedAngle===r&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const l=Math.sin(r),f=Math.cos(r),S=[],F=[],W=[];for(let ie=0;ie<this.symbolInstances.length;++ie){W.push(ie);const le=this.symbolInstances.get(ie);S.push(0|Math.round(l*le.tileAnchorX+f*le.tileAnchorY)),F.push(le.featureIndex)}return W.sort((ie,le)=>S[ie]-S[le]||F[le]-F[ie]),W}addToSortKeyRanges(r,l){const f=this.sortKeyRanges[this.sortKeyRanges.length-1];f&&f.sortKey===l?f.symbolInstanceEnd=r+1:this.sortKeyRanges.push({sortKey:l,symbolInstanceStart:r,symbolInstanceEnd:r+1})}sortFeatures(r){if(this.sortFeaturesByY&&this.sortedAngle!==r&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(r),this.sortedAngle=r,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const l of this.symbolInstanceIndexes){const f=this.symbolInstances.get(l);this.featureSortOrder.push(f.featureIndex);const{rightJustifiedTextSymbolIndex:S,centerJustifiedTextSymbolIndex:F,leftJustifiedTextSymbolIndex:W,verticalPlacedTextSymbolIndex:ie,placedIconSymbolIndex:le,verticalPlacedIconSymbolIndex:me}=f;S>=0&&this.addIndicesForPlacedSymbol(this.text,S),F>=0&&F!==S&&this.addIndicesForPlacedSymbol(this.text,F),W>=0&&W!==F&&W!==S&&this.addIndicesForPlacedSymbol(this.text,W),ie>=0&&this.addIndicesForPlacedSymbol(this.text,ie),le>=0&&this.addIndicesForPlacedSymbol(this.icon,le),me>=0&&this.addIndicesForPlacedSymbol(this.icon,me)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}ur(yc,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),yc.MAX_GLYPHS=65535,yc.addDynamicAttributes=dd;const Nm=new Sr({"symbol-placement":new ai(ki.layout_symbol["symbol-placement"]),"symbol-spacing":new ai(ki.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ai(ki.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new bi(ki.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ai(ki.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ai(ki.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new ai(ki.layout_symbol["icon-ignore-placement"]),"icon-optional":new ai(ki.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ai(ki.layout_symbol["icon-rotation-alignment"]),"icon-size":new bi(ki.layout_symbol["icon-size"]),"icon-text-fit":new ai(ki.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ai(ki.layout_symbol["icon-text-fit-padding"]),"icon-image":new bi(ki.layout_symbol["icon-image"]),"icon-rotate":new bi(ki.layout_symbol["icon-rotate"]),"icon-padding":new ai(ki.layout_symbol["icon-padding"]),"icon-keep-upright":new ai(ki.layout_symbol["icon-keep-upright"]),"icon-offset":new bi(ki.layout_symbol["icon-offset"]),"icon-anchor":new bi(ki.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ai(ki.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ai(ki.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ai(ki.layout_symbol["text-rotation-alignment"]),"text-field":new bi(ki.layout_symbol["text-field"]),"text-font":new bi(ki.layout_symbol["text-font"]),"text-size":new bi(ki.layout_symbol["text-size"]),"text-max-width":new bi(ki.layout_symbol["text-max-width"]),"text-line-height":new bi(ki.layout_symbol["text-line-height"]),"text-letter-spacing":new bi(ki.layout_symbol["text-letter-spacing"]),"text-justify":new bi(ki.layout_symbol["text-justify"]),"text-radial-offset":new bi(ki.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ai(ki.layout_symbol["text-variable-anchor"]),"text-anchor":new bi(ki.layout_symbol["text-anchor"]),"text-max-angle":new ai(ki.layout_symbol["text-max-angle"]),"text-writing-mode":new ai(ki.layout_symbol["text-writing-mode"]),"text-rotate":new bi(ki.layout_symbol["text-rotate"]),"text-padding":new ai(ki.layout_symbol["text-padding"]),"text-keep-upright":new ai(ki.layout_symbol["text-keep-upright"]),"text-transform":new bi(ki.layout_symbol["text-transform"]),"text-offset":new bi(ki.layout_symbol["text-offset"]),"text-allow-overlap":new ai(ki.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new ai(ki.layout_symbol["text-ignore-placement"]),"text-optional":new ai(ki.layout_symbol["text-optional"])});var Ff={paint:new Sr({"icon-opacity":new bi(ki.paint_symbol["icon-opacity"]),"icon-color":new bi(ki.paint_symbol["icon-color"]),"icon-halo-color":new bi(ki.paint_symbol["icon-halo-color"]),"icon-halo-width":new bi(ki.paint_symbol["icon-halo-width"]),"icon-halo-blur":new bi(ki.paint_symbol["icon-halo-blur"]),"icon-translate":new ai(ki.paint_symbol["icon-translate"]),"icon-translate-anchor":new ai(ki.paint_symbol["icon-translate-anchor"]),"text-opacity":new bi(ki.paint_symbol["text-opacity"]),"text-color":new bi(ki.paint_symbol["text-color"],{runtimeType:Fa,getOverride:s=>s.textColor,hasOverride:s=>!!s.textColor}),"text-halo-color":new bi(ki.paint_symbol["text-halo-color"]),"text-halo-width":new bi(ki.paint_symbol["text-halo-width"]),"text-halo-blur":new bi(ki.paint_symbol["text-halo-blur"]),"text-translate":new ai(ki.paint_symbol["text-translate"]),"text-translate-anchor":new ai(ki.paint_symbol["text-translate-anchor"])}),layout:Nm};class l0{constructor(r){this.type=r.property.overrides?r.property.overrides.runtimeType:ra,this.defaultValue=r}evaluate(r){if(r.formattedSection){const l=this.defaultValue.property.overrides;if(l&&l.hasOverride(r.formattedSection))return l.getOverride(r.formattedSection)}return r.feature&&r.featureState?this.defaultValue.evaluate(r.feature,r.featureState):this.defaultValue.property.specification.default}eachChild(r){this.defaultValue.isConstant()||r(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}ur(l0,"FormatSectionOverride",{omit:["defaultValue"]});class fd extends xs{constructor(r){super(r,Ff)}recalculate(r,l){super.recalculate(r,l),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const f=this.layout.get("text-writing-mode");if(f){const S=[];for(const F of f)S.indexOf(F)<0&&S.push(F);this.layout._values["text-writing-mode"]=S}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(r,l,f,S){const F=this.layout.get(r).evaluate(l,{},f,S),W=this._unevaluatedLayout._values[r];return W.isDataDriven()||Ot(W.value)||!F?F:function(ie,le){return le.replace(/{([^{}]+)}/g,(me,Ee)=>Ee in ie?String(ie[Ee]):"")}(l.properties,F)}createBucket(r){return new yc(r)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const r of Ff.paint.overridableProperties){if(!fd.hasPaintOverride(this.layout,r))continue;const l=this.paint.get(r),f=new l0(l),S=new et(f,l.property.specification);let F=null;F=l.value.kind==="constant"||l.value.kind==="source"?new wr("source",S):new gn("composite",S,l.value.zoomStops,l.value._interpolationType),this.paint._values[r]=new Bi(l.property,F,l.parameters)}}_handleOverridablePaintPropertyUpdate(r,l,f){return!(!this.layout||l.isDataDriven()||f.isDataDriven())&&fd.hasPaintOverride(this.layout,r)}static hasPaintOverride(r,l){const f=r.get("text-field"),S=Ff.paint.properties[l];let F=!1;const W=ie=>{for(const le of ie)if(S.overrides&&S.overrides.hasOverride(le))return void(F=!0)};if(f.value.kind==="constant"&&f.value.value instanceof na)W(f.value.value.sections);else if(f.value.kind==="source"){const ie=me=>{F||(me instanceof Ao&&$n(me.value)===io?W(me.value.sections):me instanceof un?W(me.sections):me.eachChild(ie))},le=f.value;le._styleExpression&&ie(le._styleExpression.expression)}return F}getProgramConfiguration(r){return new dc(this,r)}}var zm={paint:new Sr({"background-color":new ai(ki.paint_background["background-color"]),"background-pattern":new ai(ki.paint_background["background-pattern"]),"background-opacity":new ai(ki.paint_background["background-opacity"])})},jm={paint:new Sr({"raster-opacity":new ai(ki.paint_raster["raster-opacity"]),"raster-hue-rotate":new ai(ki.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ai(ki.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ai(ki.paint_raster["raster-brightness-max"]),"raster-saturation":new ai(ki.paint_raster["raster-saturation"]),"raster-contrast":new ai(ki.paint_raster["raster-contrast"]),"raster-resampling":new ai(ki.paint_raster["raster-resampling"]),"raster-fade-duration":new ai(ki.paint_raster["raster-fade-duration"])})};class Um extends xs{constructor(r){super(r,{}),this.implementation=r}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(r){this.implementation.onAdd&&this.implementation.onAdd(r,r.painter.context.gl)}onRemove(r){this.implementation.onRemove&&this.implementation.onRemove(r,r.painter.context.gl)}}var $m={paint:new Sr({"sky-type":new ai(ki.paint_sky["sky-type"]),"sky-atmosphere-sun":new ai(ki.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new ai(ki.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new ai(ki.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new ai(ki.paint_sky["sky-gradient-radius"]),"sky-gradient":new vr(ki.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new ai(ki.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new ai(ki.paint_sky["sky-atmosphere-color"]),"sky-opacity":new ai(ki.paint_sky["sky-opacity"])})};function Nf(s,r,l){const f=[0,0,1],S=Gd([]);return lp(S,S,l?-L(s)+Math.PI:L(s)),sp(S,S,-L(r)),np(f,f,S),cs(f,f)}const Vm={circle:class extends xs{constructor(s){super(s,m0)}createBucket(s){return new tu(s)}queryRadius(s){const r=s;return iu("circle-radius",this,r)+iu("circle-stroke-width",this,r)+Rh(this.paint.get("circle-translate"))}queryIntersectsFeature(s,r,l,f,S,F,W,ie){const le=ls(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),F.angle,s.pixelToTileUnitsFactor),me=this.paint.get("circle-radius").evaluate(r,l)+this.paint.get("circle-stroke-width").evaluate(r,l);return cp(s,f,F,W,ie,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",le,me)}getProgramIds(){return["circle"]}getProgramConfiguration(s){return new dc(this,s)}},heatmap:class extends xs{createBucket(s){return new hp(s)}constructor(s){super(s,x0),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(s){s==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Uu({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(s){return iu("heatmap-radius",this,s)}queryIntersectsFeature(s,r,l,f,S,F,W,ie){const le=this.paint.get("heatmap-radius").evaluate(r,l);return cp(s,f,F,W,ie,!0,!0,new q(0,0),le)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(s){return new dc(this,s)}},hillshade:class extends xs{constructor(s){super(s,w0)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends xs{constructor(s){super(s,F0)}getProgramIds(){const s=this.paint.get("fill-pattern"),r=s&&s.constantOr(1),l=[r?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&l.push(r&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),l}getProgramConfiguration(s){return new dc(this,s)}recalculate(s,r){super.recalculate(s,r);const l=this.paint._values["fill-outline-color"];l.value.kind==="constant"&&l.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(s){return new jh(s)}queryRadius(){return Rh(this.paint.get("fill-translate"))}queryIntersectsFeature(s,r,l,f,S,F){return!s.queryGeometry.isAboveHorizon&&ep(Fl(s.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),F.angle,s.pixelToTileUnitsFactor),f)}isTileClipped(){return!0}},"fill-extrusion":class extends xs{constructor(s){super(s,Ep)}createBucket(s){return new Yu(s)}queryRadius(){return Rh(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(s){return new dc(this,s)}queryIntersectsFeature(s,r,l,f,S,F,W,ie,le){const me=ls(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),F.angle,s.pixelToTileUnitsFactor),Ee=this.paint.get("fill-extrusion-height").evaluate(r,l),Oe=this.paint.get("fill-extrusion-base").evaluate(r,l),Le=[0,0],Ve=ie&&F.elevation,qe=F.elevation?F.elevation.exaggeration():1,rt=s.tile.getBucket(this);if(Ve&&rt instanceof Yu){const Dt=rt.centroidVertexArray,qt=le+1;qt<Dt.length&&(Le[0]=Dt.geta_centroid_pos0(qt),Le[1]=Dt.geta_centroid_pos1(qt))}if(Le[0]===0&&Le[1]===1)return!1;F.projection.name==="globe"&&(f=sf([f],[new q(0,0),new q(Pr,Pr)],s.tileID.canonical).map(Dt=>Dt.polygon).flat());const pt=Ve?ie:null,[Mt,Ut]=function(Dt,qt,$t,gi,pi,Ri,Xi,Ci,Di,Fi,Gi){return Dt.projection.name==="globe"?function(Zi,Ti,sr,Or,fr,xr,lr,zr,bn,yn,mn){const Vr=[],Wn=[],en=Zi.projection.upVectorScale(mn,Zi.center.lat,Zi.worldSize).metersToTile,xn=[0,0,0,1],Qn=[0,0,0,1],ha=(da,ka,Va,$o)=>{da[0]=ka,da[1]=Va,da[2]=$o,da[3]=1},ca=of();sr>0&&(sr+=ca),Or+=ca;for(const da of Ti){const ka=[],Va=[];for(const $o of da){const Yn=$o.x+fr.x,mo=$o.y+fr.y,co=Zi.projection.projectTilePoint(Yn,mo,mn),Dn=Zi.projection.upVector(mn,$o.x,$o.y);let Ia=sr,xo=Or;if(lr){const ea=lf(Yn,mo,sr,Or,lr,zr,bn,yn);Ia+=ea.base,xo+=ea.top}sr!==0?ha(xn,co.x+Dn[0]*en*Ia,co.y+Dn[1]*en*Ia,co.z+Dn[2]*en*Ia):ha(xn,co.x,co.y,co.z),ha(Qn,co.x+Dn[0]*en*xo,co.y+Dn[1]*en*xo,co.z+Dn[2]*en*xo),La(xn,xn,xr),La(Qn,Qn,xr),ka.push(new hu(xn[0],xn[1],xn[2])),Va.push(new hu(Qn[0],Qn[1],Qn[2]))}Vr.push(ka),Wn.push(Va)}return[Vr,Wn]}(Dt,qt,$t,gi,pi,Ri,Xi,Ci,Di,Fi,Gi):Xi?function(Zi,Ti,sr,Or,fr,xr,lr,zr,bn){const yn=[],mn=[],Vr=[0,0,0,1];for(const Wn of Zi){const en=[],xn=[];for(const Qn of Wn){const ha=Qn.x+Or.x,ca=Qn.y+Or.y,da=lf(ha,ca,Ti,sr,xr,lr,zr,bn);Vr[0]=ha,Vr[1]=ca,Vr[2]=da.base,Vr[3]=1,fc(Vr,Vr,fr),Vr[3]=Math.max(Vr[3],1e-5);const ka=new hu(Vr[0]/Vr[3],Vr[1]/Vr[3],Vr[2]/Vr[3]);Vr[0]=ha,Vr[1]=ca,Vr[2]=da.top,Vr[3]=1,fc(Vr,Vr,fr),Vr[3]=Math.max(Vr[3],1e-5);const Va=new hu(Vr[0]/Vr[3],Vr[1]/Vr[3],Vr[2]/Vr[3]);en.push(ka),xn.push(Va)}yn.push(en),mn.push(xn)}return[yn,mn]}(qt,$t,gi,pi,Ri,Xi,Ci,Di,Fi):function(Zi,Ti,sr,Or,fr){const xr=[],lr=[],zr=fr[8]*Ti,bn=fr[9]*Ti,yn=fr[10]*Ti,mn=fr[11]*Ti,Vr=fr[8]*sr,Wn=fr[9]*sr,en=fr[10]*sr,xn=fr[11]*sr;for(const Qn of Zi){const ha=[],ca=[];for(const da of Qn){const ka=da.x+Or.x,Va=da.y+Or.y,$o=fr[0]*ka+fr[4]*Va+fr[12],Yn=fr[1]*ka+fr[5]*Va+fr[13],mo=fr[2]*ka+fr[6]*Va+fr[14],co=fr[3]*ka+fr[7]*Va+fr[15],Dn=$o+zr,Ia=Yn+bn,xo=mo+yn,ea=Math.max(co+mn,1e-5),eo=$o+Vr,ks=Yn+Wn,Vo=mo+en,Go=Math.max(co+xn,1e-5);ha.push(new hu(Dn/ea,Ia/ea,xo/ea)),ca.push(new hu(eo/Go,ks/Go,Vo/Go))}xr.push(ha),lr.push(ca)}return[xr,lr]}(qt,$t,gi,pi,Ri)}(F,f,Oe,Ee,me,W,pt,Le,qe,F.center.lat,s.tileID.canonical),Pt=s.queryGeometry;return function(Dt,qt,$t){let gi=1/0;ep($t,qt)&&(gi=Yh($t,qt[0]));for(let pi=0;pi<qt.length;pi++){const Ri=qt[pi],Xi=Dt[pi];for(let Ci=0;Ci<Ri.length-1;Ci++){const Di=Ri[Ci],Fi=[Di,Ri[Ci+1],Xi[Ci+1],Xi[Ci],Di];Ih($t,Fi)&&(gi=Math.min(gi,Yh($t,Fi)))}}return gi!==1/0&&gi}(Mt,Ut,Pt.isPointQuery()?Pt.screenBounds:Pt.screenGeometry)}},line:class extends xs{constructor(s){super(s,Mp),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(s){if(s==="line-gradient"){const r=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=r._styleExpression&&r._styleExpression.expression instanceof Da,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(s,r){super.recalculate(s,r),this.paint._values["line-floorwidth"]=Ip.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,s)}createBucket(s){return new Xh(s)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(s){return new dc(this,s)}queryRadius(s){const r=s,l=Op(iu("line-width",this,r),iu("line-gap-width",this,r)),f=iu("line-offset",this,r);return l/2+Math.abs(f)+Rh(this.paint.get("line-translate"))}queryIntersectsFeature(s,r,l,f,S,F){if(s.queryGeometry.isAboveHorizon)return!1;const W=Fl(s.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),F.angle,s.pixelToTileUnitsFactor),ie=s.pixelToTileUnitsFactor/2*Op(this.paint.get("line-width").evaluate(r,l),this.paint.get("line-gap-width").evaluate(r,l)),le=this.paint.get("line-offset").evaluate(r,l);return le&&(f=function(me,Ee){const Oe=[],Le=new q(0,0);for(let Ve=0;Ve<me.length;Ve++){const qe=me[Ve],rt=[];for(let pt=0;pt<qe.length;pt++){const Mt=qe[pt-1],Ut=qe[pt],Pt=qe[pt+1],Dt=pt===0?Le:Ut.sub(Mt)._unit()._perp(),qt=pt===qe.length-1?Le:Pt.sub(Ut)._unit()._perp(),$t=Dt._add(qt)._unit();$t._mult(1/($t.x*qt.x+$t.y*qt.y)),rt.push($t._mult(Ee)._add(Ut))}Oe.push(rt)}return Oe}(f,le*s.pixelToTileUnitsFactor)),function(me,Ee,Oe){for(let Le=0;Le<Ee.length;Le++){const Ve=Ee[Le];if(me.length>=3){for(let qe=0;qe<Ve.length;qe++)if(Ic(me,Ve[qe]))return!0}if(Rd(me,Ve,Oe))return!0}return!1}(W,f,ie)}isTileClipped(){return!0}},symbol:fd,background:class extends xs{constructor(s){super(s,zm)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends xs{constructor(s){super(s,jm)}getProgramIds(){return["raster"]}},sky:class extends xs{constructor(s){super(s,$m),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(s){s==="sky-gradient"?this._updateColorRamp():s!=="sky-atmosphere-sun"&&s!=="sky-atmosphere-halo-color"&&s!=="sky-atmosphere-color"&&s!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Uu({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(s){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const r=s.style.light.properties.get("position");return this._lightPosition.azimuthal!==r.azimuthal||this._lightPosition.polar!==r.polar}return!1}getCenter(s,r){if(this.paint.get("sky-type")==="atmosphere"){const f=this.paint.get("sky-atmosphere-sun"),S=!f,F=s.style.light,W=F.properties.get("position");return S&&F.properties.get("anchor")==="viewport"&&ce("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),S?Nf(W.azimuthal,90-W.polar,r):Nf(f[0],90-f[1],r)}const l=this.paint.get("sky-gradient-center");return Nf(l[0],90-l[1],r)}is3D(){return!1}isSky(){return!0}markSkyboxValid(s){this._skyboxInvalidated=!1,this._lightPosition=s.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const s=this.paint.get("sky-type");return s==="atmosphere"?["skyboxCapture","skybox"]:s==="gradient"?["skyboxGradient"]:null}}};class lh{constructor(r,l,f,S){this.context=r,this.format=f,this.texture=r.gl.createTexture(),this.update(l,S)}update(r,l,f){const{width:S,height:F}=r,{context:W}=this,{gl:ie}=W,{HTMLImageElement:le,HTMLCanvasElement:me,HTMLVideoElement:Ee,ImageData:Oe,ImageBitmap:Le}=k;if(ie.bindTexture(ie.TEXTURE_2D,this.texture),W.pixelStoreUnpackFlipY.set(!1),W.pixelStoreUnpack.set(1),W.pixelStoreUnpackPremultiplyAlpha.set(this.format===ie.RGBA&&(!l||l.premultiply!==!1)),f||this.size&&this.size[0]===S&&this.size[1]===F){const{x:Ve,y:qe}=f||{x:0,y:0};r instanceof le||r instanceof me||r instanceof Ee||r instanceof Oe||Le&&r instanceof Le?ie.texSubImage2D(ie.TEXTURE_2D,0,Ve,qe,ie.RGBA,ie.UNSIGNED_BYTE,r):ie.texSubImage2D(ie.TEXTURE_2D,0,Ve,qe,S,F,ie.RGBA,ie.UNSIGNED_BYTE,r.data)}else this.size=[S,F],r instanceof le||r instanceof me||r instanceof Ee||r instanceof Oe||Le&&r instanceof Le?ie.texImage2D(ie.TEXTURE_2D,0,this.format,this.format,ie.UNSIGNED_BYTE,r):ie.texImage2D(ie.TEXTURE_2D,0,this.format,S,F,0,this.format,ie.UNSIGNED_BYTE,r.data);this.useMipmap=!!(l&&l.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&ie.generateMipmap(ie.TEXTURE_2D)}bind(r,l){const{context:f}=this,{gl:S}=f;S.bindTexture(S.TEXTURE_2D,this.texture),r!==this.filter&&(S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,r),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,this.useMipmap?r===S.NEAREST?S.NEAREST_MIPMAP_NEAREST:S.LINEAR_MIPMAP_NEAREST:r),this.filter=r),l!==this.wrap&&(S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,l),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,l),this.wrap=l)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:r}=this.context;r.deleteTexture(this.texture),this.texture=null}}class O{constructor(r){this._callback=r,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class J{constructor(){this.tasks={},this.taskQueue=[],fe(["process"],this),this.invoker=new O(this.process),this.nextId=0}add(r,l){const f=this.nextId++,S=function({type:F,isSymbolTile:W,zoom:ie}){return ie=ie||0,F==="message"?0:F!=="maybePrepare"||W?F!=="parseTile"||W?F==="parseTile"&&W?300-ie:F==="maybePrepare"&&W?400-ie:500:200-ie:100-ie}(l);if(S===0){Fe();try{r()}finally{}return{cancel:()=>{}}}return this.tasks[f]={fn:r,metadata:l,priority:S,id:f},this.taskQueue.push(f),this.invoker.trigger(),{cancel:()=>{delete this.tasks[f]}}}process(){Fe();try{if(this.taskQueue=this.taskQueue.filter(f=>!!this.tasks[f]),!this.taskQueue.length)return;const r=this.pick();if(r===null)return;const l=this.tasks[r];if(delete this.tasks[r],this.taskQueue.length&&this.invoker.trigger(),!l)return;l.fn()}finally{}}pick(){let r=null,l=1/0;for(let S=0;S<this.taskQueue.length;S++){const F=this.tasks[this.taskQueue[S]];F.priority<l&&(l=F.priority,r=S)}if(r===null)return null;const f=this.taskQueue[r];return this.taskQueue.splice(r,1),f}remove(){this.invoker.remove()}}class _e{constructor(r){this._stringToNumber={},this._numberToString=[];for(let l=0;l<r.length;l++){const f=r[l];this._stringToNumber[f]=l,this._numberToString[l]=f}}encode(r){return this._stringToNumber[r]}decode(r){return this._numberToString[r]}}const ze=["tile","layer","source","sourceLayer","state"];class at{constructor(r,l,f,S,F){this.type="Feature",this._vectorTileFeature=r,this._z=l,this._x=f,this._y=S,this.properties=r.properties,this.id=F}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(r){this._geometry=r}toJSON(){const r={type:"Feature",geometry:this.geometry,properties:this.properties};this.id!==void 0&&(r.id=this.id);for(const l of ze)this[l]!==void 0&&(r[l]=this[l]);return r}}const vt=32,jt=33,Kt=new Uint16Array(8184);for(let s=0;s<2046;s++){let r=s+2,l=0,f=0,S=0,F=0,W=0,ie=0;for(1&r?S=F=W=vt:l=f=ie=vt;(r>>=1)>1;){const me=l+S>>1,Ee=f+F>>1;1&r?(S=l,F=f,l=W,f=ie):(l=S,f=F,S=W,F=ie),W=me,ie=Ee}const le=4*s;Kt[le+0]=l,Kt[le+1]=f,Kt[le+2]=S,Kt[le+3]=F}const li=new Uint16Array(2178),$i=new Uint8Array(1089),qi=new Uint16Array(1089);function Qi(s){return s===0?-.03125:s===32?.03125:0}var br=mr([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const Ir={type:2,extent:Pr,loadGeometry:()=>[[new q(0,0),new q(8193,0),new q(8193,8193),new q(0,8193),new q(0,0)]]};class Qr{constructor(r,l,f,S,F){this.tileID=r,this.uid=ye(),this.uses=0,this.tileSize=l,this.tileZoom=f,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=F,this.expiredRequestCount=0,this.state="loading",S&&S.transform&&(this.projection=S.transform.projection)}registerFadeDuration(r){const l=r+this.timeAdded;l<nr.now()||this.fadeEndTime&&l<this.fadeEndTime||(this.fadeEndTime=l)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=$c(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(r,l,f){if(this.unloadVectorData(),this.state="loaded",r){r.featureIndex&&(this.latestFeatureIndex=r.featureIndex,r.rawTileData?(this.latestRawTileData=r.rawTileData,this.latestFeatureIndex.rawTileData=r.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=r.collisionBoxArray,this.buckets=function(S,F){const W={};if(!F)return W;for(const ie of S){const le=ie.layerIds.map(me=>F.getLayer(me)).filter(Boolean);if(le.length!==0){ie.layers=le,ie.stateDependentLayerIds&&(ie.stateDependentLayers=ie.stateDependentLayerIds.map(me=>le.filter(Ee=>Ee.id===me)[0]));for(const me of le)W[me.id]=ie}}return W}(r.buckets,l.style),this.hasSymbolBuckets=!1;for(const S in this.buckets){const F=this.buckets[S];if(F instanceof yc){if(this.hasSymbolBuckets=!0,!f)break;F.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const S in this.buckets){const F=this.buckets[S];if(F instanceof yc&&F.hasRTLText){this.hasRTLText=!0,di.isLoading()||di.isLoaded()||Jt()!=="deferred"||yi();break}}this.queryPadding=0;for(const S in this.buckets){const F=this.buckets[S];this.queryPadding=Math.max(this.queryPadding,l.style.getLayer(S).queryRadius(F))}r.imageAtlas&&(this.imageAtlas=r.imageAtlas),r.glyphAtlasImage&&(this.glyphAtlasImage=r.glyphAtlasImage),r.lineAtlas&&(this.lineAtlas=r.lineAtlas)}else this.collisionBoxArray=new _d}unloadVectorData(){if(this.hasData()){for(const r in this.buckets)this.buckets[r].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(r){return this.buckets[r.id]}upload(r){for(const f in this.buckets){const S=this.buckets[f];S.uploadPending()&&S.upload(r)}const l=r.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new lh(r,this.imageAtlas.image,l.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new lh(r,this.glyphAtlasImage,l.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new lh(r,this.lineAtlas.image,l.ALPHA),this.lineAtlas.uploaded=!0)}prepare(r){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(r,this.imageAtlasTexture)}queryRenderedFeatures(r,l,f,S,F,W,ie,le){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:S,pixelPosMatrix:ie,transform:W,params:F,tileTransform:this.tileTransform},r,l,f):{}}querySourceFeatures(r,l){const f=this.latestFeatureIndex;if(!f||!f.rawTileData)return;const S=f.loadVTLayers(),F=l?l.sourceLayer:"",W=S._geojsonTileLayer||S[F];if(!W)return;const ie=Sa(l&&l.filter),{z:le,x:me,y:Ee}=this.tileID.canonical,Oe={z:le,x:me,y:Ee};for(let Le=0;Le<W.length;Le++){const Ve=W.feature(Le);if(ie.needGeometry){const pt=Bl(Ve,!0);if(!ie.filter(new ni(this.tileID.overscaledZ),pt,this.tileID.canonical))continue}else if(!ie.filter(new ni(this.tileID.overscaledZ),Ve))continue;const qe=f.getId(Ve,F),rt=new at(Ve,le,me,Ee,qe);rt.tile=Oe,r.push(rt)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(r){const l=this.expirationTime;if(r.cacheControl){const f=De(r.cacheControl);f["max-age"]&&(this.expirationTime=Date.now()+1e3*f["max-age"])}else r.expires&&(this.expirationTime=new Date(r.expires).getTime());if(this.expirationTime){const f=Date.now();let S=!1;if(this.expirationTime>f)S=!1;else if(l)if(this.expirationTime<l)S=!0;else{const F=this.expirationTime-l;F?this.expirationTime=f+Math.max(F,3e4):S=!0}else S=!0;S?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(r,l){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(r).length===0||!l)return;const f=this.latestFeatureIndex.loadVTLayers(),S=l.style.listImages();for(const F in this.buckets){if(!l.style.hasLayer(F))continue;const W=this.buckets[F],ie=W.layers[0].sourceLayer||"_geojsonTileLayer",le=f[ie],me=r[ie];if(!le||!me||Object.keys(me).length===0)continue;if(W.update(me,le,S,this.imageAtlas&&this.imageAtlas.patternPositions||{}),W instanceof Xh||W instanceof jh){const Oe=l.style._getSourceCache(W.layers[0].source);l._terrain&&l._terrain.enabled&&Oe&&W.programConfigurations.needsUpload&&l._terrain._clearRenderCacheForTile(Oe.id,this.tileID)}const Ee=l&&l.style&&l.style.getLayer(F);Ee&&(this.queryPadding=Math.max(this.queryPadding,Ee.queryRadius(W)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<nr.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(r){this.symbolFadeHoldUntil=nr.now()+r}setTexture(r,l){const f=l.context,S=f.gl;this.texture=this.texture||l.getTileTexture(r.width),this.texture?this.texture.update(r,{useMipmap:!0}):(this.texture=new lh(f,r,S.RGBA,{useMipmap:!0}),this.texture.bind(S.LINEAR,S.CLAMP_TO_EDGE),f.extTextureFilterAnisotropic&&S.texParameterf(S.TEXTURE_2D,f.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,f.extTextureFilterAnisotropicMax))}setDependencies(r,l){const f={};for(const S of l)f[S]=!0;this.dependencies[r]=f}hasDependency(r,l){for(const f of r){const S=this.dependencies[f];if(S){for(const F of l)if(S[F])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(r,l){if(!l||l.name==="mercator"||this._tileDebugBuffer)return;const f=wl(Ir,this.tileID.canonical,this.tileTransform)[0],S=new Mn,F=new ql;for(let W=0;W<f.length;W++){const{x:ie,y:le}=f[W];S.emplaceBack(ie,le),F.emplaceBack(W)}F.emplaceBack(0),this._tileDebugIndexBuffer=r.createIndexBuffer(F),this._tileDebugBuffer=r.createVertexBuffer(S,eh.members),this._tileDebugSegments=za.simpleSegment(0,0,S.length,F.length)}_makeTileBoundsBuffers(r,l){if(this._tileBoundsBuffer||!l||l.name==="mercator")return;const f=wl(Ir,this.tileID.canonical,this.tileTransform)[0];let S,F;if(this.isRaster){const W=function(ie,le){const me=$c(ie,le),Ee=Math.pow(2,ie.z);for(let pt=0;pt<jt;pt++)for(let Mt=0;Mt<jt;Mt++){const Ut=ws((ie.x+(Mt+Qi(Mt))/vt)/Ee),Pt=Io((ie.y+(pt+Qi(pt))/vt)/Ee),Dt=le.project(Ut,Pt),qt=pt*jt+Mt;li[2*qt+0]=Math.round((Dt.x*me.scale-me.x)*Pr),li[2*qt+1]=Math.round((Dt.y*me.scale-me.y)*Pr)}$i.fill(0),qi.fill(0);for(let pt=2045;pt>=0;pt--){const Mt=4*pt,Ut=Kt[Mt+0],Pt=Kt[Mt+1],Dt=Kt[Mt+2],qt=Kt[Mt+3],$t=Ut+Dt>>1,gi=Pt+qt>>1,pi=$t+gi-Pt,Ri=gi+Ut-$t,Xi=Pt*jt+Ut,Ci=qt*jt+Dt,Di=gi*jt+$t,Fi=Math.hypot((li[2*Xi+0]+li[2*Ci+0])/2-li[2*Di+0],(li[2*Xi+1]+li[2*Ci+1])/2-li[2*Di+1])>=16;if($i[Di]=$i[Di]||(Fi?1:0),pt<1022){const Gi=(Pt+Ri>>1)*jt+(Ut+pi>>1),Zi=(qt+Ri>>1)*jt+(Dt+pi>>1);$i[Di]=$i[Di]||$i[Gi]||$i[Zi]}}const Oe=new Bn,Le=new _o;let Ve=0;function qe(pt,Mt){const Ut=Mt*jt+pt;return qi[Ut]===0&&(Oe.emplaceBack(li[2*Ut+0],li[2*Ut+1],pt*Pr/vt,Mt*Pr/vt),qi[Ut]=++Ve),qi[Ut]-1}function rt(pt,Mt,Ut,Pt,Dt,qt){const $t=pt+Ut>>1,gi=Mt+Pt>>1;if(Math.abs(pt-Dt)+Math.abs(Mt-qt)>1&&$i[gi*jt+$t])rt(Dt,qt,pt,Mt,$t,gi),rt(Ut,Pt,Dt,qt,$t,gi);else{const pi=qe(pt,Mt),Ri=qe(Ut,Pt),Xi=qe(Dt,qt);Le.emplaceBack(pi,Ri,Xi)}}return rt(0,0,vt,vt,vt,0),rt(vt,vt,0,0,0,vt),{vertices:Oe,indices:Le}}(this.tileID.canonical,l);S=W.vertices,F=W.indices}else{S=new Bn,F=new _o;for(const{x:ie,y:le}of f)S.emplaceBack(ie,le,0,0);const W=$u.exports(S.int16,void 0,4);for(let ie=0;ie<W.length;ie+=3)F.emplaceBack(W[ie],W[ie+1],W[ie+2])}this._tileBoundsBuffer=r.createVertexBuffer(S,br.members),this._tileBoundsIndexBuffer=r.createIndexBuffer(F),this._tileBoundsSegments=za.simpleSegment(0,0,S.length,F.length)}_makeGlobeTileDebugBuffers(r,l){const f=l.projection;if(!f||f.name!=="globe"||l.freezeTileCoverage)return;const S=this.tileID.canonical,F=rh(e0(S,l)),W=Uc(l.zoom);let ie;W>0&&(ie=Dh(new Float64Array(16),l.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(r,S,l,F,ie,W),this._makeGlobeTileDebugTextBuffer(r,S,l,F,ie,W)}_globePoint(r,l,f,S,F,W,ie){let le=ih(r,l,f);if(W){const me=1<<f.z,Ee=bl(S.center.lng),Oe=Ys(S.center.lat),Le=(f.x+.5)/me-Ee;let Ve=0;Le>.5?Ve=-1:Le<-.5&&(Ve=1);let qe=(r/Pr+f.x)/me+Ve,rt=(l/Pr+f.y)/me;qe=(qe-Ee)*S._pixelsPerMercatorPixel+Ee,rt=(rt-Oe)*S._pixelsPerMercatorPixel+Oe;const pt=[qe*S.worldSize,rt*S.worldSize,0];La(pt,pt,W),le=jc(le,pt,ie)}return La(le,le,F)}_makeGlobeTileDebugBorderBuffer(r,l,f,S,F,W){const ie=new Mn,le=new ql,me=new Gn,Ee=(Le,Ve,qe,rt,pt)=>{const Mt=(qe-Le)/(pt-1),Ut=(rt-Ve)/(pt-1),Pt=ie.length;for(let Dt=0;Dt<pt;Dt++){const qt=Le+Dt*Mt,$t=Ve+Dt*Ut;ie.emplaceBack(qt,$t);const gi=this._globePoint(qt,$t,l,f,S,F,W);me.emplaceBack(gi[0],gi[1],gi[2]),le.emplaceBack(Pt+Dt)}},Oe=Pr;Ee(0,0,Oe,0,16),Ee(Oe,0,Oe,Oe,16),Ee(Oe,Oe,0,Oe,16),Ee(0,Oe,0,0,16),this._tileDebugIndexBuffer=r.createIndexBuffer(le),this._tileDebugBuffer=r.createVertexBuffer(ie,eh.members),this._globeTileDebugBorderBuffer=r.createVertexBuffer(me,Sf.members),this._tileDebugSegments=za.simpleSegment(0,0,ie.length,le.length)}_makeGlobeTileDebugTextBuffer(r,l,f,S,F,W){const ie=new Mn,le=new _o,me=new Gn,Ee=25;le.reserve(32),ie.reserve(Ee),me.reserve(Ee);const Oe=(Le,Ve)=>Ee*Le+Ve;for(let Le=0;Le<Ee;Le++){const Ve=2048*Le;for(let qe=0;qe<Ee;qe++){const rt=2048*qe;ie.emplaceBack(rt,Ve);const pt=this._globePoint(rt,Ve,l,f,S,F,W);me.emplaceBack(pt[0],pt[1],pt[2])}}for(let Le=0;Le<4;Le++)for(let Ve=0;Ve<4;Ve++){const qe=Oe(Le,Ve),rt=Oe(Le,Ve+1),pt=Oe(Le+1,Ve),Mt=Oe(Le+1,Ve+1);le.emplaceBack(qe,rt,pt),le.emplaceBack(pt,rt,Mt)}this._tileDebugTextIndexBuffer=r.createIndexBuffer(le),this._tileDebugTextBuffer=r.createVertexBuffer(ie,eh.members),this._globeTileDebugTextBuffer=r.createVertexBuffer(me,Sf.members),this._tileDebugTextSegments=za.simpleSegment(0,0,Ee,32)}}class kn{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(r,l,f){const S=String(l);if(this.stateChanges[r]=this.stateChanges[r]||{},this.stateChanges[r][S]=this.stateChanges[r][S]||{},ee(this.stateChanges[r][S],f),this.deletedStates[r]===null){this.deletedStates[r]={};for(const F in this.state[r])F!==S&&(this.deletedStates[r][F]=null)}else if(this.deletedStates[r]&&this.deletedStates[r][S]===null){this.deletedStates[r][S]={};for(const F in this.state[r][S])f[F]||(this.deletedStates[r][S][F]=null)}else for(const F in f)this.deletedStates[r]&&this.deletedStates[r][S]&&this.deletedStates[r][S][F]===null&&delete this.deletedStates[r][S][F]}removeFeatureState(r,l,f){if(this.deletedStates[r]===null)return;const S=String(l);if(this.deletedStates[r]=this.deletedStates[r]||{},f&&l!==void 0)this.deletedStates[r][S]!==null&&(this.deletedStates[r][S]=this.deletedStates[r][S]||{},this.deletedStates[r][S][f]=null);else if(l!==void 0)if(this.stateChanges[r]&&this.stateChanges[r][S])for(f in this.deletedStates[r][S]={},this.stateChanges[r][S])this.deletedStates[r][S][f]=null;else this.deletedStates[r][S]=null;else this.deletedStates[r]=null}getState(r,l){const f=String(l),S=ee({},(this.state[r]||{})[f],(this.stateChanges[r]||{})[f]);if(this.deletedStates[r]===null)return{};if(this.deletedStates[r]){const F=this.deletedStates[r][l];if(F===null)return{};for(const W in F)delete S[W]}return S}initializeTileState(r,l){r.setFeatureState(this.state,l)}coalesceChanges(r,l){const f={};for(const S in this.stateChanges){this.state[S]=this.state[S]||{};const F={};for(const W in this.stateChanges[S])this.state[S][W]||(this.state[S][W]={}),ee(this.state[S][W],this.stateChanges[S][W]),F[W]=this.state[S][W];f[S]=F}for(const S in this.deletedStates){this.state[S]=this.state[S]||{};const F={};if(this.deletedStates[S]===null)for(const W in this.state[S])F[W]={},this.state[S][W]={};else for(const W in this.deletedStates[S]){if(this.deletedStates[S][W]===null)this.state[S][W]={};else for(const ie of Object.keys(this.deletedStates[S][W]))delete this.state[S][W][ie];F[W]=this.state[S][W]}f[S]=f[S]||{},ee(f[S],F)}if(this.stateChanges={},this.deletedStates={},Object.keys(f).length!==0)for(const S in r)r[S].setFeatureState(f,l)}}class nn{constructor(r){this.size=r,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(r,l){const f=this.toIdx(r,l);return{min:this.minimums[f],max:this.maximums[f]}}isLeaf(r,l){return this.leaves[this.toIdx(r,l)]}toIdx(r,l){return l*this.size+r}}function Pn(s,r,l,f){let S=0,F=Number.MAX_VALUE;for(let W=0;W<3;W++)if(Math.abs(f[W])<1e-15){if(l[W]<s[W]||l[W]>r[W])return null}else{const ie=1/f[W];let le=(s[W]-l[W])*ie,me=(r[W]-l[W])*ie;if(le>me){const Ee=le;le=me,me=Ee}if(le>S&&(S=le),me<F&&(F=me),S>F)return null}return S}function Rn(s,r,l,f,S,F,W,ie,le,me,Ee){const Oe=f-s,Le=S-r,Ve=F-l,qe=W-s,rt=ie-r,pt=le-l,Mt=Ee[1]*pt-Ee[2]*rt,Ut=Ee[2]*qe-Ee[0]*pt,Pt=Ee[0]*rt-Ee[1]*qe,Dt=Oe*Mt+Le*Ut+Ve*Pt;if(Math.abs(Dt)<1e-15)return null;const qt=1/Dt,$t=me[0]-s,gi=me[1]-r,pi=me[2]-l,Ri=($t*Mt+gi*Ut+pi*Pt)*qt;if(Ri<0||Ri>1)return null;const Xi=gi*Ve-pi*Le,Ci=pi*Oe-$t*Ve,Di=$t*Le-gi*Oe,Fi=(Ee[0]*Xi+Ee[1]*Ci+Ee[2]*Di)*qt;return Fi<0||Ri+Fi>1?null:(qe*Xi+rt*Ci+pt*Di)*qt}function Fs(s,r,l){return(s-r)/(l-r)}function ds(s,r,l,f,S,F,W,ie,le){const me=1<<l,Ee=F-f,Oe=W-S,Le=(s+1)/me*Ee+f,Ve=(r+0)/me*Oe+S,qe=(r+1)/me*Oe+S;ie[0]=(s+0)/me*Ee+f,ie[1]=Ve,le[0]=Le,le[1]=qe}class Ns{constructor(r){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=r,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const l=function(F){const W=Math.ceil(Math.log2(F.dim/8)),ie=[];let le=Math.ceil(Math.pow(2,W));const me=1/le,Ee=(Ve,qe,rt,pt,Mt)=>{const Ut=pt?1:0,Pt=(Ve+1)*rt-Ut,Dt=qe*rt,qt=(qe+1)*rt-Ut;Mt[0]=Ve*rt,Mt[1]=Dt,Mt[2]=Pt,Mt[3]=qt};let Oe=new nn(le);const Le=[];for(let Ve=0;Ve<le*le;Ve++){Ee(Ve%le,Math.floor(Ve/le),me,!1,Le);const qe=Ro(Le[0],Le[1],F),rt=Ro(Le[2],Le[1],F),pt=Ro(Le[2],Le[3],F),Mt=Ro(Le[0],Le[3],F);Oe.minimums.push(Math.min(qe,rt,pt,Mt)),Oe.maximums.push(Math.max(qe,rt,pt,Mt)),Oe.leaves.push(1)}for(ie.push(Oe),le/=2;le>=1;le/=2){const Ve=ie[ie.length-1];Oe=new nn(le);for(let qe=0;qe<le*le;qe++){Ee(qe%le,Math.floor(qe/le),2,!0,Le);const rt=Ve.getElevation(Le[0],Le[1]),pt=Ve.getElevation(Le[2],Le[1]),Mt=Ve.getElevation(Le[2],Le[3]),Ut=Ve.getElevation(Le[0],Le[3]),Pt=Ve.isLeaf(Le[0],Le[1]),Dt=Ve.isLeaf(Le[2],Le[1]),qt=Ve.isLeaf(Le[2],Le[3]),$t=Ve.isLeaf(Le[0],Le[3]),gi=Math.min(rt.min,pt.min,Mt.min,Ut.min),pi=Math.max(rt.max,pt.max,Mt.max,Ut.max),Ri=Pt&&Dt&&qt&&$t;Oe.maximums.push(pi),Oe.minimums.push(gi),Oe.leaves.push(pi-gi<=5&&Ri?1:0)}ie.push(Oe)}return ie}(this.dem),f=l.length-1,S=l[f];this._addNode(S.minimums[0],S.maximums[0],S.leaves[0]),this._construct(l,0,0,f,0)}raycastRoot(r,l,f,S,F,W,ie=1){return Pn([r,l,-100],[f,S,this.maximums[0]*ie],F,W)}raycast(r,l,f,S,F,W,ie=1){if(!this.nodeCount)return null;const le=this.raycastRoot(r,l,f,S,F,W,ie);if(le==null)return null;const me=[],Ee=[],Oe=[],Le=[],Ve=[{idx:0,t:le,nodex:0,nodey:0,depth:0}];for(;Ve.length>0;){const{idx:qe,t:rt,nodex:pt,nodey:Mt,depth:Ut}=Ve.pop();if(this.leaves[qe]){ds(pt,Mt,Ut,r,l,f,S,Oe,Le);const Dt=1<<Ut,qt=(pt+0)/Dt,$t=(pt+1)/Dt,gi=(Mt+0)/Dt,pi=(Mt+1)/Dt,Ri=Ro(qt,gi,this.dem)*ie,Xi=Ro($t,gi,this.dem)*ie,Ci=Ro($t,pi,this.dem)*ie,Di=Ro(qt,pi,this.dem)*ie,Fi=Rn(Oe[0],Oe[1],Ri,Le[0],Oe[1],Xi,Le[0],Le[1],Ci,F,W),Gi=Rn(Le[0],Le[1],Ci,Oe[0],Le[1],Di,Oe[0],Oe[1],Ri,F,W),Zi=Math.min(Fi!==null?Fi:Number.MAX_VALUE,Gi!==null?Gi:Number.MAX_VALUE);if(Zi!==Number.MAX_VALUE)return Zi;{const Ti=su([],F,W,rt);if(Qa(Ri,Xi,Di,Ci,Fs(Ti[0],Oe[0],Le[0]),Fs(Ti[1],Oe[1],Le[1]))>=Ti[2])return rt}continue}let Pt=0;for(let Dt=0;Dt<this._siblingOffset.length;Dt++){ds((pt<<1)+this._siblingOffset[Dt][0],(Mt<<1)+this._siblingOffset[Dt][1],Ut+1,r,l,f,S,Oe,Le),Oe[2]=-100,Le[2]=this.maximums[this.childOffsets[qe]+Dt]*ie;const qt=Pn(Oe,Le,F,W);if(qt!=null){const $t=qt;me[Dt]=$t;let gi=!1;for(let pi=0;pi<Pt&&!gi;pi++)$t>=me[Ee[pi]]&&(Ee.splice(pi,0,Dt),gi=!0);gi||(Ee[Pt]=Dt),Pt++}}for(let Dt=0;Dt<Pt;Dt++){const qt=Ee[Dt];Ve.push({idx:this.childOffsets[qe]+qt,t:me[qt],nodex:(pt<<1)+this._siblingOffset[qt][0],nodey:(Mt<<1)+this._siblingOffset[qt][1],depth:Ut+1})}}return null}_addNode(r,l,f){return this.minimums.push(r),this.maximums.push(l),this.leaves.push(f),this.childOffsets.push(0),this.nodeCount++}_construct(r,l,f,S,F){if(r[S].isLeaf(l,f)===1)return;this.childOffsets[F]||(this.childOffsets[F]=this.nodeCount);const W=S-1,ie=r[W];let le=0,me=0;for(let Ee=0;Ee<this._siblingOffset.length;Ee++){const Oe=2*l+this._siblingOffset[Ee][0],Le=2*f+this._siblingOffset[Ee][1],Ve=ie.getElevation(Oe,Le),qe=ie.isLeaf(Oe,Le),rt=this._addNode(Ve.min,Ve.max,qe);qe&&(le|=1<<Ee),me||(me=rt)}for(let Ee=0;Ee<this._siblingOffset.length;Ee++)le&1<<Ee||this._construct(r,2*l+this._siblingOffset[Ee][0],2*f+this._siblingOffset[Ee][1],W,me+Ee)}}function Qa(s,r,l,f,S,F){return $r($r(s,l,F),$r(r,f,F),S)}function Ro(s,r,l){const f=l.dim,S=y(s*f-.5,0,f-1),F=y(r*f-.5,0,f-1),W=Math.floor(S),ie=Math.floor(F),le=Math.min(W+1,f-1),me=Math.min(ie+1,f-1);return Qa(l.get(W,ie),l.get(le,ie),l.get(W,me),l.get(le,me),S-W,F-ie)}const $l={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class ch{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(r,l,f,S=!1,F=!1){if(this.uid=r,l.height!==l.width)throw new RangeError("DEM tiles must be square");if(f&&f!=="mapbox"&&f!=="terrarium")return ce(`"${f}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=l.height;const W=this.dim=l.height-2,ie=new Uint32Array(l.data.buffer);if(this.pixels=new Uint8Array(l.data.buffer),this.encoding=f||"mapbox",this.borderReady=S,!S){for(let le=0;le<W;le++)ie[this._idx(-1,le)]=ie[this._idx(0,le)],ie[this._idx(W,le)]=ie[this._idx(W-1,le)],ie[this._idx(le,-1)]=ie[this._idx(le,0)],ie[this._idx(le,W)]=ie[this._idx(le,W-1)];ie[this._idx(-1,-1)]=ie[this._idx(0,0)],ie[this._idx(W,-1)]=ie[this._idx(W-1,0)],ie[this._idx(-1,W)]=ie[this._idx(0,W-1)],ie[this._idx(W,W)]=ie[this._idx(W-1,W-1)],F&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Ns(this)}get(r,l,f=!1){f&&(r=y(r,-1,this.dim),l=y(l,-1,this.dim));const S=4*this._idx(r,l);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(this.pixels[S],this.pixels[S+1],this.pixels[S+2])}static getUnpackVector(r){return $l[r]}get unpackVector(){return $l[this.encoding]}_idx(r,l){if(r<-1||r>=this.dim+1||l<-1||l>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(l+1)*this.stride+(r+1)}_unpackMapbox(r,l,f){return(256*r*256+256*l+f)/10-1e4}_unpackTerrarium(r,l,f){return 256*r+l+f/256-32768}static pack(r,l){const f=[0,0,0,0],S=ch.getUnpackVector(l);let F=Math.floor((r+S[3])/S[2]);return f[2]=F%256,F=Math.floor(F/256),f[1]=F%256,F=Math.floor(F/256),f[0]=F,f}getPixels(){return new Bs({width:this.stride,height:this.stride},this.pixels)}backfillBorder(r,l,f){if(this.dim!==r.dim)throw new Error("dem dimension mismatch");let S=l*this.dim,F=l*this.dim+this.dim,W=f*this.dim,ie=f*this.dim+this.dim;switch(l){case-1:S=F-1;break;case 1:F=S+1}switch(f){case-1:W=ie-1;break;case 1:ie=W+1}const le=-l*this.dim,me=-f*this.dim;for(let Ee=W;Ee<ie;Ee++)for(let Oe=S;Oe<F;Oe++){const Le=4*this._idx(Oe,Ee),Ve=4*this._idx(Oe+le,Ee+me);this.pixels[Le+0]=r.pixels[Ve+0],this.pixels[Le+1]=r.pixels[Ve+1],this.pixels[Le+2]=r.pixels[Ve+2],this.pixels[Le+3]=r.pixels[Ve+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}ur(ch,"DEMData"),ur(Ns,"DemMinMaxQuadTree",{omit:["dem"]});class mg{constructor(r,l){this.max=r,this.onRemove=l,this.reset()}reset(){for(const r in this.data)for(const l of this.data[r])l.timeout&&clearTimeout(l.timeout),this.onRemove(l.value);return this.data={},this.order=[],this}add(r,l,f){const S=r.wrapped().key;this.data[S]===void 0&&(this.data[S]=[]);const F={value:l,timeout:void 0};if(f!==void 0&&(F.timeout=setTimeout(()=>{this.remove(r,F)},f)),this.data[S].push(F),this.order.push(S),this.order.length>this.max){const W=this._getAndRemoveByKey(this.order[0]);W&&this.onRemove(W)}return this}has(r){return r.wrapped().key in this.data}getAndRemove(r){return this.has(r)?this._getAndRemoveByKey(r.wrapped().key):null}_getAndRemoveByKey(r){const l=this.data[r].shift();return l.timeout&&clearTimeout(l.timeout),this.data[r].length===0&&delete this.data[r],this.order.splice(this.order.indexOf(r),1),l.value}getByKey(r){const l=this.data[r];return l?l[0].value:null}get(r){return this.has(r)?this.data[r.wrapped().key][0].value:null}remove(r,l){if(!this.has(r))return this;const f=r.wrapped().key,S=l===void 0?0:this.data[f].indexOf(l),F=this.data[f][S];return this.data[f].splice(S,1),F.timeout&&clearTimeout(F.timeout),this.data[f].length===0&&delete this.data[f],this.onRemove(F.value),this.order.splice(this.order.indexOf(f),1),this}setMaxSize(r){for(this.max=r;this.order.length>this.max;){const l=this._getAndRemoveByKey(this.order[0]);l&&this.onRemove(l)}return this}filter(r){const l=[];for(const f in this.data)for(const S of this.data[f])r(S.value)||l.push(S);for(const f of l)this.remove(f.value.tileID,f)}}class pd{constructor(r,l,f){this.func=r,this.mask=l,this.range=f}}pd.ReadOnly=!1,pd.ReadWrite=!0,pd.disabled=new pd(519,pd.ReadOnly,[0,1]);const Gm=7680;class Hm{constructor(r,l,f,S,F,W){this.test=r,this.ref=l,this.mask=f,this.fail=S,this.depthFail=F,this.pass=W}}Hm.disabled=new Hm({func:519,mask:0},0,0,Gm,Gm,Gm);class vc{constructor(r,l,f){this.blendFunction=r,this.blendColor=l,this.mask=f}}vc.Replace=[1,0],vc.disabled=new vc(vc.Replace,Hn.transparent,[!1,!1,!1,!1]),vc.unblended=new vc(vc.Replace,Hn.transparent,[!0,!0,!0,!0]),vc.alphaBlended=new vc([1,771],Hn.transparent,[!0,!0,!0,!0]);const qm=1029,Wm=2305;class tc{constructor(r,l,f){this.enable=r,this.mode=l,this.frontFace=f}}tc.disabled=new tc(!1,qm,Wm),tc.backCCW=new tc(!0,qm,Wm),tc.backCW=new tc(!0,qm,2304),tc.frontCW=new tc(!0,1028,2304),tc.frontCCW=new tc(!0,1028,Wm);class uh extends In{constructor(r,l,f){super(),this.id=r,this._onlySymbols=f,l.on("data",S=>{S.dataType==="source"&&S.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&S.dataType==="source"&&S.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),l.on("error",()=>{this._sourceErrored=!0}),this._source=l,this._tiles={},this._cache=new mg(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=l.minTileCacheSize,this._maxTileCacheSize=l.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new kn,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(r){this.map=r,this._minTileCacheSize=this._minTileCacheSize===void 0&&r?r._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&r?r._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const r in this._tiles){const l=this._tiles[r];if(l.state!=="loaded"&&l.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const r=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,r&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(r,l){return r.isSymbolTile=this._onlySymbols,this._source.loadTile(r,l)}_unloadTile(r){if(this._source.unloadTile)return this._source.unloadTile(r,()=>{})}_abortTile(r){if(this._source.abortTile)return this._source.abortTile(r,()=>{})}serialize(){return this._source.serialize()}prepare(r){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const l in this._tiles){const f=this._tiles[l];f.upload(r),f.prepare(this.map.style.imageManager)}}getIds(){return re(this._tiles).map(r=>r.tileID).sort(tg).map(r=>r.key)}getRenderableIds(r){const l=[];for(const f in this._tiles)this._isIdRenderable(+f,r)&&l.push(this._tiles[f]);return r?l.sort((f,S)=>{const F=f.tileID,W=S.tileID,ie=new q(F.canonical.x,F.canonical.y)._rotate(this.transform.angle),le=new q(W.canonical.x,W.canonical.y)._rotate(this.transform.angle);return F.overscaledZ-W.overscaledZ||le.y-ie.y||le.x-ie.x}).map(f=>f.tileID.key):l.map(f=>f.tileID).sort(tg).map(f=>f.key)}hasRenderableParent(r){const l=this.findLoadedParent(r,0);return!!l&&this._isIdRenderable(l.tileID.key)}_isIdRenderable(r,l){return this._tiles[r]&&this._tiles[r].hasData()&&!this._coveredTiles[r]&&(l||!this._tiles[r].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const r in this._tiles)this._tiles[r].state!=="errored"&&this._reloadTile(+r,"reloading")}}_reloadTile(r,l){const f=this._tiles[r];f&&(f.state!=="loading"&&(f.state=l),this._loadTile(f,this._tileLoaded.bind(this,f,r,l)))}_tileLoaded(r,l,f,S){if(S)if(r.state="errored",S.status!==404)this._source.fire(new fa(S,{tile:r}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const F=this.map.painter.terrain;this.update(this.transform,F.getScaledDemTileSize(),!0),F.resetTileLookupCache(this.id)}else this.update(this.transform);else r.timeAdded=nr.now(),f==="expired"&&(r.refreshedUponExpiration=!0),this._setTileReloadTimer(l,r),this._source.type==="raster-dem"&&r.dem&&this._backfillDEM(r),this._state.initializeTileState(r,this.map?this.map.painter:null),this._source.fire(new zn("data",{dataType:"source",tile:r,coord:r.tileID,sourceCacheId:this.id}))}_backfillDEM(r){const l=this.getRenderableIds();for(let S=0;S<l.length;S++){const F=l[S];if(r.neighboringTiles&&r.neighboringTiles[F]){const W=this.getTileByID(F);f(r,W),f(W,r)}}function f(S,F){if(!S.dem||S.dem.borderReady)return;S.needsHillshadePrepare=!0,S.needsDEMTextureUpload=!0;let W=F.tileID.canonical.x-S.tileID.canonical.x;const ie=F.tileID.canonical.y-S.tileID.canonical.y,le=Math.pow(2,S.tileID.canonical.z),me=F.tileID.key;W===0&&ie===0||Math.abs(ie)>1||(Math.abs(W)>1&&(Math.abs(W+le)===1?W+=le:Math.abs(W-le)===1&&(W-=le)),F.dem&&S.dem&&(S.dem.backfillBorder(F.dem,W,ie),S.neighboringTiles&&S.neighboringTiles[me]&&(S.neighboringTiles[me].backfilled=!0)))}}getTile(r){return this.getTileByID(r.key)}getTileByID(r){return this._tiles[r]}_retainLoadedChildren(r,l,f,S){for(const F in this._tiles){let W=this._tiles[F];if(S[F]||!W.hasData()||W.tileID.overscaledZ<=l||W.tileID.overscaledZ>f)continue;let ie=W.tileID;for(;W&&W.tileID.overscaledZ>l+1;){const me=W.tileID.scaledTo(W.tileID.overscaledZ-1);W=this._tiles[me.key],W&&W.hasData()&&(ie=me)}let le=ie;for(;le.overscaledZ>l;)if(le=le.scaledTo(le.overscaledZ-1),r[le.key]){S[ie.key]=ie;break}}}findLoadedParent(r,l){if(r.key in this._loadedParentTiles){const f=this._loadedParentTiles[r.key];return f&&f.tileID.overscaledZ>=l?f:null}for(let f=r.overscaledZ-1;f>=l;f--){const S=r.scaledTo(f),F=this._getLoadedTile(S);if(F)return F}}_getLoadedTile(r){const l=this._tiles[r.key];return l&&l.hasData()?l:this._cache.getByKey(this._source.reparseOverscaled?r.wrapped().key:r.canonical.key)}updateCacheSize(r,l){l=l||this._source.tileSize;const f=Math.ceil(r.width/l)+1,S=Math.ceil(r.height/l)+1,F=Math.floor(f*S*5),W=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,F):F,ie=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,W):W;this._cache.setMaxSize(ie)}handleWrapJump(r){const l=Math.round((r-(this._prevLng===void 0?r:this._prevLng))/360);if(this._prevLng=r,l){const f={};for(const S in this._tiles){const F=this._tiles[S];F.tileID=F.tileID.unwrapTo(F.tileID.wrap+l),f[F.tileID.key]=F}this._tiles=f;for(const S in this._timers)clearTimeout(this._timers[S]),delete this._timers[S];for(const S in this._tiles)this._setTileReloadTimer(+S,this._tiles[S])}}update(r,l,f){if(this.transform=r,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!f)return;let S;this.updateCacheSize(r,l),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?S=r.getVisibleUnwrappedCoordinates(this._source.tileID).map(ie=>new bo(ie.canonical.z,ie.wrap,ie.canonical.z,ie.canonical.x,ie.canonical.y)):(S=r.coveringTiles({tileSize:l||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!f,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(S=S.filter(ie=>this._source.hasTile(ie)))):S=[];const F=this._updateRetainedTiles(S);if(ig(this._source.type)&&S.length!==0){const ie={},le={},me=Object.keys(F);for(const Oe of me){const Le=F[Oe],Ve=this._tiles[Oe];if(!Ve||Ve.fadeEndTime&&Ve.fadeEndTime<=nr.now())continue;const qe=this.findLoadedParent(Le,Math.max(Le.overscaledZ-uh.maxOverzooming,this._source.minzoom));qe&&(this._addTile(qe.tileID),ie[qe.tileID.key]=qe.tileID),le[Oe]=Le}const Ee=S[S.length-1].overscaledZ;for(const Oe in this._tiles){const Le=this._tiles[Oe];if(F[Oe]||!Le.hasData())continue;let Ve=Le.tileID;for(;Ve.overscaledZ>Ee;){Ve=Ve.scaledTo(Ve.overscaledZ-1);const qe=this._tiles[Ve.key];if(qe&&qe.hasData()&&le[Ve.key]){F[Oe]=Le.tileID;break}}}for(const Oe in ie)F[Oe]||(this._coveredTiles[Oe]=!0,F[Oe]=ie[Oe])}for(const ie in F)this._tiles[ie].clearFadeHold();const W=function(ie,le){const me=[];for(const Ee in ie)Ee in le||me.push(Ee);return me}(this._tiles,F);for(const ie of W){const le=this._tiles[ie];le.hasSymbolBuckets&&!le.holdingForFade()?le.setHoldDuration(this.map._fadeDuration):le.hasSymbolBuckets&&!le.symbolFadeFinished()||this._removeTile(+ie)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const r in this._tiles)this._tiles[r].holdingForFade()&&this._removeTile(+r)}_updateRetainedTiles(r){const l={};if(r.length===0)return l;const f={},S=r.reduce((me,Ee)=>Math.min(me,Ee.overscaledZ),1/0),F=r[0].overscaledZ,W=Math.max(F-uh.maxOverzooming,this._source.minzoom),ie=Math.max(F+uh.maxUnderzooming,this._source.minzoom),le={};for(const me of r){const Ee=this._addTile(me);l[me.key]=me,Ee.hasData()||S<this._source.maxzoom&&(le[me.key]=me)}this._retainLoadedChildren(le,S,ie,l);for(const me of r){let Ee=this._tiles[me.key];if(Ee.hasData())continue;if(me.canonical.z>=this._source.maxzoom){const Le=me.children(this._source.maxzoom)[0],Ve=this.getTile(Le);if(Ve&&Ve.hasData()){l[Le.key]=Le;continue}}else{const Le=me.children(this._source.maxzoom);if(l[Le[0].key]&&l[Le[1].key]&&l[Le[2].key]&&l[Le[3].key])continue}let Oe=Ee.wasRequested();for(let Le=me.overscaledZ-1;Le>=W;--Le){const Ve=me.scaledTo(Le);if(f[Ve.key]||(f[Ve.key]=!0,Ee=this.getTile(Ve),!Ee&&Oe&&(Ee=this._addTile(Ve)),Ee&&(l[Ve.key]=Ve,Oe=Ee.wasRequested(),Ee.hasData())))break}}return l}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const r in this._tiles){const l=[];let f,S=this._tiles[r].tileID;for(;S.overscaledZ>0;){if(S.key in this._loadedParentTiles){f=this._loadedParentTiles[S.key];break}l.push(S.key);const F=S.scaledTo(S.overscaledZ-1);if(f=this._getLoadedTile(F),f)break;S=F}for(const F of l)this._loadedParentTiles[F]=f}}_addTile(r){let l=this._tiles[r.key];if(l)return l;l=this._cache.getAndRemove(r),l&&(this._setTileReloadTimer(r.key,l),l.tileID=r,this._state.initializeTileState(l,this.map?this.map.painter:null),this._cacheTimers[r.key]&&(clearTimeout(this._cacheTimers[r.key]),delete this._cacheTimers[r.key],this._setTileReloadTimer(r.key,l)));const f=!!l;if(!f){const S=this.map?this.map.painter:null;l=new Qr(r,this._source.tileSize*r.overscaleFactor(),this.transform.tileZoom,S,this._isRaster),this._loadTile(l,this._tileLoaded.bind(this,l,r.key,l.state))}return l?(l.uses++,this._tiles[r.key]=l,f||this._source.fire(new zn("dataloading",{tile:l,coord:l.tileID,dataType:"source"})),l):null}_setTileReloadTimer(r,l){r in this._timers&&(clearTimeout(this._timers[r]),delete this._timers[r]);const f=l.getExpiryTimeout();f&&(this._timers[r]=setTimeout(()=>{this._reloadTile(r,"expired"),delete this._timers[r]},f))}_removeTile(r){const l=this._tiles[r];l&&(l.uses--,delete this._tiles[r],this._timers[r]&&(clearTimeout(this._timers[r]),delete this._timers[r]),l.uses>0||(l.hasData()&&l.state!=="reloading"?this._cache.add(l.tileID,l,l.getExpiryTimeout()):(l.aborted=!0,this._abortTile(l),this._unloadTile(l))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const r in this._tiles)this._removeTile(+r);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(r,l,f){const S=[],F=this.transform;if(!F)return S;const W=F.projection.name==="globe",ie=bl(F.center.lng);for(const le in this._tiles){const me=this._tiles[le];if(f&&me.clearQueryDebugViz(),me.holdingForFade())continue;let Ee;if(W){const Oe=me.tileID.canonical;if(Oe.z===0){const Le=[Math.abs(y(ie,...zf(Oe,-1))-ie),Math.abs(y(ie,...zf(Oe,1))-ie)];Ee=[0,2*Le.indexOf(Math.min(...Le))-1]}else{const Le=[Math.abs(y(ie,...zf(Oe,-1))-ie),Math.abs(y(ie,...zf(Oe,0))-ie),Math.abs(y(ie,...zf(Oe,1))-ie)];Ee=[Le.indexOf(Math.min(...Le))-1]}}else Ee=[0];for(const Oe of Ee){const Le=r.containsTile(me,F,l,Oe);Le&&S.push(Le)}}return S}getVisibleCoordinates(r){const l=this.getRenderableIds(r).map(f=>this._tiles[f].tileID);for(const f of l)f.projMatrix=this.transform.calculateProjMatrix(f.toUnwrapped());return l}hasTransition(){if(this._source.hasTransition())return!0;if(ig(this._source.type))for(const r in this._tiles){const l=this._tiles[r];if(l.fadeEndTime!==void 0&&l.fadeEndTime>=nr.now())return!0}return!1}setFeatureState(r,l,f){this._state.updateState(r=r||"_geojsonTileLayer",l,f)}removeFeatureState(r,l,f){this._state.removeFeatureState(r=r||"_geojsonTileLayer",l,f)}getFeatureState(r,l){return this._state.getState(r=r||"_geojsonTileLayer",l)}setDependencies(r,l,f){const S=this._tiles[r];S&&S.setDependencies(l,f)}reloadTilesForDependencies(r,l){for(const f in this._tiles)this._tiles[f].hasDependency(r,l)&&this._reloadTile(+f,"reloading");this._cache.filter(f=>!f.hasDependency(r,l))}_preloadTiles(r,l){const f=new Map,S=Array.isArray(r)?r:[r],F=this.map.painter.terrain,W=this.usedForTerrain&&F?F.getScaledDemTileSize():this._source.tileSize;for(const ie of S){const le=ie.coveringTiles({tileSize:W,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const me of le)f.set(me.key,me);this.usedForTerrain&&ie.updateElevation(!1)}X(Array.from(f.values()),(ie,le)=>{const me=new Qr(ie,this._source.tileSize*ie.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(me,Ee=>{this._source.type==="raster-dem"&&me.dem&&this._backfillDEM(me),le(Ee,me)})},l)}}function tg(s,r){const l=Math.abs(2*s.wrap)-+(s.wrap<0),f=Math.abs(2*r.wrap)-+(r.wrap<0);return s.overscaledZ-r.overscaledZ||f-l||r.canonical.y-s.canonical.y||r.canonical.x-s.canonical.x}function ig(s){return s==="raster"||s==="image"||s==="video"||s==="custom"}function zf(s,r){const l=1<<s.z;return[s.x/l+r,(s.x+1)/l+r]}uh.maxOverzooming=10,uh.maxUnderzooming=3;class c0{constructor(r,l,f){this._demTile=r,this._dem=this._demTile.dem,this._scale=l,this._offset=f}static create(r,l,f){const S=f||r.findDEMTileFor(l);if(!S||!S.dem)return;const F=S.dem,W=S.tileID,ie=1<<l.canonical.z-W.canonical.z;return new c0(S,S.tileSize/Pr/ie,[(l.canonical.x/ie-W.canonical.x)*F.dim,(l.canonical.y/ie-W.canonical.y)*F.dim])}tileCoordToPixel(r,l){const f=l*this._scale+this._offset[1],S=Math.floor(r*this._scale+this._offset[0]),F=Math.floor(f);return new q(S,F)}getElevationAt(r,l,f,S){const F=r*this._scale+this._offset[0],W=l*this._scale+this._offset[1],ie=Math.floor(F),le=Math.floor(W),me=this._dem;return S=!!S,f?$r($r(me.get(ie,le,S),me.get(ie,le+1,S),W-le),$r(me.get(ie+1,le,S),me.get(ie+1,le+1,S),W-le),F-ie):me.get(ie,le,S)}getElevationAtPixel(r,l,f){return this._dem.get(r,l,!!f)}getMeterToDEM(r){return(1<<this._demTile.tileID.canonical.z)*Xs(1,r)*this._dem.stride}}class rg{constructor(r,l){this.tileID=r,this.x=r.canonical.x,this.y=r.canonical.y,this.z=r.canonical.z,this.grid=new lc(Pr,16,0),this.featureIndexArray=new Wl,this.promoteId=l}insert(r,l,f,S,F,W=0){const ie=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(f,S,F,W);const le=this.grid;for(let me=0;me<l.length;me++){const Ee=l[me],Oe=[1/0,1/0,-1/0,-1/0];for(let Le=0;Le<Ee.length;Le++){const Ve=Ee[Le];Oe[0]=Math.min(Oe[0],Ve.x),Oe[1]=Math.min(Oe[1],Ve.y),Oe[2]=Math.max(Oe[2],Ve.x),Oe[3]=Math.max(Oe[3],Ve.y)}Oe[0]<Pr&&Oe[1]<Pr&&Oe[2]>=0&&Oe[3]>=0&&le.insert(ie,Oe[0],Oe[1],Oe[2],Oe[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new rf(new Ku(this.rawTileData)).layers,this.sourceLayerCoder=new _e(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const r in this.vtLayers)this.vtFeatures[r]=[]}return this.vtLayers}query(r,l,f,S){this.loadVTLayers();const F=r.params||{},W=Sa(F.filter),ie=r.tileResult,le=r.transform,me=ie.bufferedTilespaceBounds,Ee=this.grid.query(me.min.x,me.min.y,me.max.x,me.max.y,(qe,rt,pt,Mt)=>Bd(ie.bufferedTilespaceGeometry,qe,rt,pt,Mt));Ee.sort(gg);let Oe=null;le.elevation&&Ee.length>0&&(Oe=c0.create(le.elevation,this.tileID));const Le={};let Ve;for(let qe=0;qe<Ee.length;qe++){const rt=Ee[qe];if(rt===Ve)continue;Ve=rt;const pt=this.featureIndexArray.get(rt);let Mt=null;this.loadMatchingFeature(Le,pt,W,F.layers,F.availableImages,l,f,S,(Ut,Pt,Dt,qt=0)=>(Mt||(Mt=wl(Ut,this.tileID.canonical,r.tileTransform)),Pt.queryIntersectsFeature(ie,Ut,Dt,Mt,this.z,r.transform,r.pixelPosMatrix,Oe,qt)))}return Le}loadMatchingFeature(r,l,f,S,F,W,ie,le,me){const{featureIndex:Ee,bucketIndex:Oe,sourceLayerIndex:Le,layoutVertexArrayOffset:Ve}=l,qe=this.bucketLayerIDs[Oe];if(S&&!function(Ut,Pt){for(let Dt=0;Dt<Ut.length;Dt++)if(Pt.indexOf(Ut[Dt])>=0)return!0;return!1}(S,qe))return;const rt=this.sourceLayerCoder.decode(Le),pt=this.vtLayers[rt].feature(Ee);if(f.needGeometry){const Ut=Bl(pt,!0);if(!f.filter(new ni(this.tileID.overscaledZ),Ut,this.tileID.canonical))return}else if(!f.filter(new ni(this.tileID.overscaledZ),pt))return;const Mt=this.getId(pt,rt);for(let Ut=0;Ut<qe.length;Ut++){const Pt=qe[Ut];if(S&&S.indexOf(Pt)<0)continue;const Dt=W[Pt];if(!Dt)continue;let qt={};Mt!==void 0&&le&&(qt=le.getState(Dt.sourceLayer||"_geojsonTileLayer",Mt));const $t=ee({},ie[Pt]);$t.paint=ng($t.paint,Dt.paint,pt,qt,F),$t.layout=ng($t.layout,Dt.layout,pt,qt,F);const gi=!me||me(pt,Dt,qt,Ve);if(!gi)continue;const pi=new at(pt,this.z,this.x,this.y,Mt);pi.layer=$t;let Ri=r[Pt];Ri===void 0&&(Ri=r[Pt]=[]),Ri.push({featureIndex:Ee,feature:pi,intersectionZ:gi})}}lookupSymbolFeatures(r,l,f,S,F,W,ie,le){const me={};this.loadVTLayers();const Ee=Sa(F);for(const Oe of r)this.loadMatchingFeature(me,{bucketIndex:f,sourceLayerIndex:S,featureIndex:Oe,layoutVertexArrayOffset:0},Ee,W,ie,le,l);return me}loadFeature(r){const{featureIndex:l,sourceLayerIndex:f}=r;this.loadVTLayers();const S=this.sourceLayerCoder.decode(f),F=this.vtFeatures[S];if(F[l])return F[l];const W=this.vtLayers[S].feature(l);return F[l]=W,W}hasLayer(r){for(const l of this.bucketLayerIDs)for(const f of l)if(r===f)return!0;return!1}getId(r,l){let f=r.id;if(this.promoteId){const S=typeof this.promoteId=="string"?this.promoteId:this.promoteId[l];S!=null&&(f=r.properties[S]),typeof f=="boolean"&&(f=Number(f))}return f}}function ng(s,r,l,f,S){return pe(s,(F,W)=>{const ie=r instanceof Yi?r.get(W):null;return ie&&ie.evaluate?ie.evaluate(l,f,S):ie})}function gg(s,r){return r-s}ur(rg,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class ag{constructor(r,l){this.width=r,this.height=l,this.nextRow=0,this.image=new Kl({width:r,height:l}),this.positions={},this.uploaded=!1}getDash(r,l){const f=this.getKey(r,l);return this.positions[f]}trim(){const r=this.width,l=this.height=oe(this.nextRow);this.image.resize({width:r,height:l})}getKey(r,l){return r.join(",")+l}getDashRanges(r,l,f){const S=[];let F=r.length%2==1?-r[r.length-1]*f:0,W=r[0]*f,ie=!0;S.push({left:F,right:W,isDash:ie,zeroLength:r[0]===0});let le=r[0];for(let me=1;me<r.length;me++){ie=!ie;const Ee=r[me];F=le*f,le+=Ee,W=le*f,S.push({left:F,right:W,isDash:ie,zeroLength:Ee===0})}return S}addRoundDash(r,l,f){const S=l/2;for(let F=-f;F<=f;F++){const W=this.width*(this.nextRow+f+F);let ie=0,le=r[ie];for(let me=0;me<this.width;me++){me/le.right>1&&(le=r[++ie]);const Ee=Math.abs(me-le.left),Oe=Math.abs(me-le.right),Le=Math.min(Ee,Oe);let Ve;const qe=F/f*(S+1);if(le.isDash){const rt=S-Math.abs(qe);Ve=Math.sqrt(Le*Le+rt*rt)}else Ve=S-Math.sqrt(Le*Le+qe*qe);this.image.data[W+me]=Math.max(0,Math.min(255,Ve+128))}}}addRegularDash(r,l){for(let le=r.length-1;le>=0;--le){const me=r[le],Ee=r[le+1];me.zeroLength?r.splice(le,1):Ee&&Ee.isDash===me.isDash&&(Ee.left=me.left,r.splice(le,1))}const f=r[0],S=r[r.length-1];f.isDash===S.isDash&&(f.left=S.left-this.width,S.right=f.right+this.width);const F=this.width*this.nextRow;let W=0,ie=r[W];for(let le=0;le<this.width;le++){le/ie.right>1&&(ie=r[++W]);const me=Math.abs(le-ie.left),Ee=Math.abs(le-ie.right),Oe=Math.min(me,Ee);this.image.data[F+le]=Math.max(0,Math.min(255,(ie.isDash?Oe:-Oe)+l+128))}}addDash(r,l){const f=this.getKey(r,l);if(this.positions[f])return this.positions[f];const S=l==="round",F=S?7:0,W=2*F+1;if(this.nextRow+W>this.height)return ce("LineAtlas out of space"),null;r.length===0&&r.push(1);let ie=0;for(let Ee=0;Ee<r.length;Ee++)r[Ee]<0&&(ce("Negative value is found in line dasharray, replacing values with 0"),r[Ee]=0),ie+=r[Ee];if(ie!==0){const Ee=this.width/ie,Oe=this.getDashRanges(r,this.width,Ee);S?this.addRoundDash(Oe,Ee,F):this.addRegularDash(Oe,l==="square"?.5*Ee:0)}const le=this.nextRow+F;this.nextRow+=W;const me={tl:[le,F],br:[ie,0]};return this.positions[f]=me,me}}ur(ag,"LineAtlas");class og{constructor(r){const l={},f=[];for(const ie in r){const le=r[ie],me=l[ie]={};for(const Ee in le.glyphs){const Oe=le.glyphs[+Ee];if(!Oe||Oe.bitmap.width===0||Oe.bitmap.height===0)continue;const Le=Oe.metrics.localGlyph?2:1,Ve={x:0,y:0,w:Oe.bitmap.width+2*Le,h:Oe.bitmap.height+2*Le};f.push(Ve),me[Ee]=Ve}}const{w:S,h:F}=pf(f),W=new Kl({width:S||1,height:F||1});for(const ie in r){const le=r[ie];for(const me in le.glyphs){const Ee=le.glyphs[+me];if(!Ee||Ee.bitmap.width===0||Ee.bitmap.height===0)continue;const Oe=l[ie][me],Le=Ee.metrics.localGlyph?2:1;Kl.copy(Ee.bitmap,W,{x:0,y:0},{x:Oe.x+Le,y:Oe.y+Le},Ee.bitmap)}}this.image=W,this.positions=l}}ur(og,"GlyphAtlas");class yg{constructor(r){this.tileID=new bo(r.tileID.overscaledZ,r.tileID.wrap,r.tileID.canonical.z,r.tileID.canonical.x,r.tileID.canonical.y),this.tileZoom=r.tileZoom,this.uid=r.uid,this.zoom=r.zoom,this.canonical=r.tileID.canonical,this.pixelRatio=r.pixelRatio,this.tileSize=r.tileSize,this.source=r.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=r.showCollisionBoxes,this.collectResourceTiming=!!r.collectResourceTiming,this.returnDependencies=!!r.returnDependencies,this.promoteId=r.promoteId,this.enableTerrain=!!r.enableTerrain,this.isSymbolTile=r.isSymbolTile,this.tileTransform=$c(r.tileID.canonical,r.projection),this.projection=r.projection}parse(r,l,f,S,F){this.status="parsing",this.data=r,this.collisionBoxArray=new _d;const W=new _e(Object.keys(r.layers).sort()),ie=new rg(this.tileID,this.promoteId);ie.bucketLayerIDs=[];const le={},me=new ag(256,256),Ee={featureIndex:ie,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:me,availableImages:f},Oe=l.familiesBySource[this.source];for(const qt in Oe){const $t=r.layers[qt];if(!$t)continue;let gi=!1,pi=!1;for(const Ci of Oe[qt])Ci[0].type==="symbol"?gi=!0:pi=!0;if(this.isSymbolTile===!0&&!gi||this.isSymbolTile===!1&&!pi)continue;$t.version===1&&ce(`Vector tile source "${this.source}" layer "${qt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Ri=W.encode(qt),Xi=[];for(let Ci=0;Ci<$t.length;Ci++){const Di=$t.feature(Ci),Fi=ie.getId(Di,qt);Xi.push({feature:Di,id:Fi,index:Ci,sourceLayerIndex:Ri})}for(const Ci of Oe[qt]){const Di=Ci[0];this.isSymbolTile!==void 0&&Di.type==="symbol"!==this.isSymbolTile||Di.minzoom&&this.zoom<Math.floor(Di.minzoom)||Di.maxzoom&&this.zoom>=Di.maxzoom||Di.visibility!=="none"&&(Ym(Ci,this.zoom,f),(le[Di.id]=Di.createBucket({index:ie.bucketLayerIDs.length,layers:Ci,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ri,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:f})).populate(Xi,Ee,this.tileID.canonical,this.tileTransform),ie.bucketLayerIDs.push(Ci.map(Fi=>Fi.id)))}}let Le,Ve,qe,rt;me.trim();const pt={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},Mt=pe(Ee.glyphDependencies,qt=>Object.keys(qt).map(Number));Object.keys(Mt).length?S.send("getGlyphs",{uid:this.uid,stacks:Mt},(qt,$t)=>{Le||(Le=qt,Ve=$t,Dt.call(this))},void 0,!1,pt):Ve={};const Ut=Object.keys(Ee.iconDependencies);Ut.length?S.send("getImages",{icons:Ut,source:this.source,tileID:this.tileID,type:"icons"},(qt,$t)=>{Le||(Le=qt,qe=$t,Dt.call(this))},void 0,!1,pt):qe={};const Pt=Object.keys(Ee.patternDependencies);function Dt(){if(Le)return F(Le);if(Ve&&qe&&rt){const qt=new og(Ve),$t=new jl(qe,rt);for(const gi in le){const pi=le[gi];pi instanceof yc?(Ym(pi.layers,this.zoom,f),wm(pi,Ve,qt.positions,qe,$t.iconPositions,this.showCollisionBoxes,f,this.tileID.canonical,this.tileZoom,this.projection)):pi.hasPattern&&(pi instanceof Xh||pi instanceof jh||pi instanceof Yu)&&(Ym(pi.layers,this.zoom,f),pi.addFeatures(Ee,this.tileID.canonical,$t.patternPositions,f,this.tileTransform))}this.status="done",F(null,{buckets:re(le).filter(gi=>!gi.isEmpty()),featureIndex:ie,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:qt.image,lineAtlas:me,imageAtlas:$t,glyphMap:this.returnDependencies?Ve:null,iconMap:this.returnDependencies?qe:null,glyphPositions:this.returnDependencies?qt.positions:null})}}Pt.length?S.send("getImages",{icons:Pt,source:this.source,tileID:this.tileID,type:"patterns"},(qt,$t)=>{Le||(Le=qt,rt=$t,Dt.call(this))},void 0,!1,pt):rt={},Dt.call(this)}}function Ym(s,r,l){const f=new ni(r);for(const S of s)S.recalculate(f,l)}class sg{constructor(r){this.entries={},this.scheduler=r}request(r,l,f,S){const F=this.entries[r]=this.entries[r]||{callbacks:[]};if(F.result){const[W,ie]=F.result;return this.scheduler?this.scheduler.add(()=>{S(W,ie)},l):S(W,ie),()=>{}}return F.callbacks.push(S),F.cancel||(F.cancel=f((W,ie)=>{F.result=[W,ie];for(const le of F.callbacks)this.scheduler?this.scheduler.add(()=>{le(W,ie)},l):le(W,ie);setTimeout(()=>delete this.entries[r],3e3)})),()=>{F.result||(F.callbacks=F.callbacks.filter(W=>W!==S),F.callbacks.length||(F.cancel(),delete this.entries[r]))}}}function lg(s,r,l){const f=JSON.stringify(s.request);return s.data&&(this.deduped.entries[f]={result:[null,s.data]}),this.deduped.request(f,{type:"parseTile",isSymbolTile:s.isSymbolTile,zoom:s.tileZoom},S=>{const F=hi(s.request,(W,ie,le,me)=>{W?S(W):ie&&S(null,{vectorTile:l?void 0:new rf(new Ku(ie)),rawData:ie,cacheControl:le,expires:me})});return()=>{F.cancel(),S()}},r)}n.ARRAY_TYPE=Ds,n.AUTH_ERR_MSG=Cr,n.Aabb=us,n.Actor=class{constructor(s,r,l){this.target=s,this.parent=r,this.mapId=l,this.callbacks={},this.cancelCallbacks={},fe(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Fe()?s:k,this.scheduler=new J}send(s,r,l,f,S=!1,F){const W=Math.round(1e18*Math.random()).toString(36).substring(0,10);l&&(l.metadata=F,this.callbacks[W]=l);const ie=ct(this.globalScope)?void 0:[];return this.target.postMessage({id:W,type:s,hasCallback:!!l,targetMapId:f,mustQueue:S,sourceMapId:this.mapId,data:Ol(r,ie)},ie),{cancel:()=>{l&&delete this.callbacks[W],this.target.postMessage({id:W,type:"<cancel>",targetMapId:f,sourceMapId:this.mapId})}}}receive(s){const r=s.data,l=r.id;if(l&&(!r.targetMapId||this.mapId===r.targetMapId))if(r.type==="<cancel>"){const f=this.cancelCallbacks[l];delete this.cancelCallbacks[l],f&&f.cancel()}else if(r.mustQueue||Fe()){const f=this.callbacks[l];this.cancelCallbacks[l]=this.scheduler.add(()=>this.processTask(l,r),f&&f.metadata||{type:"message"})}else this.processTask(l,r)}processTask(s,r){if(r.type==="<response>"){const l=this.callbacks[s];delete this.callbacks[s],l&&(r.error?l(kc(r.error)):l(null,kc(r.data)))}else{const l=ct(this.globalScope)?void 0:[],f=r.hasCallback?(F,W)=>{delete this.cancelCallbacks[s],this.target.postMessage({id:s,type:"<response>",sourceMapId:this.mapId,error:F?Ol(F):null,data:Ol(W,l)},l)}:F=>{},S=kc(r.data);if(this.parent[r.type])this.parent[r.type](r.sourceMapId,S,f);else if(this.parent.getWorkerSource){const F=r.type.split(".");this.parent.getWorkerSource(r.sourceMapId,F[0],S.source)[F[1]](S,f)}else f(new Error(`Could not find function ${r.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},n.CanonicalTileID=Wh,n.Color=Hn,n.ColorMode=vc,n.CullFaceMode=tc,n.DEMData=ch,n.DataConstantProperty=ai,n.DedupedRequest=sg,n.DepthMode=pd,n.EXTENT=Pr,n.Elevation=class{isDataAvailableAtPoint(s){const r=this._source();if(this.isUsingMockSource()||!r||s.y<0||s.y>1)return!1;const l=r.getSource().maxzoom,f=1<<l,S=Math.floor(s.x),F=Math.floor((s.x-S)*f),W=Math.floor(s.y*f),ie=this.findDEMTileFor(new bo(l,S,l,F,W));return!(!ie||!ie.dem)}getAtPointOrZero(s,r=0){return this.getAtPoint(s,r)||0}getAtPoint(s,r,l=!0){if(this.isUsingMockSource())return null;r==null&&(r=null);const f=this._source();if(!f||s.y<0||s.y>1)return r;const S=f.getSource().maxzoom,F=1<<S,W=Math.floor(s.x),ie=s.x-W,le=new bo(S,W,S,Math.floor(ie*F),Math.floor(s.y*F)),me=this.findDEMTileFor(le);if(!me||!me.dem)return r;const Ee=me.dem,Oe=1<<me.tileID.canonical.z,Le=(ie*Oe-me.tileID.canonical.x)*Ee.dim,Ve=(s.y*Oe-me.tileID.canonical.y)*Ee.dim,qe=Math.floor(Le),rt=Math.floor(Ve);return(l?this.exaggeration():1)*$r($r(Ee.get(qe,rt),Ee.get(qe,rt+1),Ve-rt),$r(Ee.get(qe+1,rt),Ee.get(qe+1,rt+1),Ve-rt),Le-qe)}getAtTileOffset(s,r,l){const f=1<<s.canonical.z;return this.getAtPointOrZero(new Pc(s.wrap+(s.canonical.x+r/Pr)/f,(s.canonical.y+l/Pr)/f))}getAtTileOffsetFunc(s,r,l,f){return S=>{const F=this.getAtTileOffset(s,S.x,S.y),W=f.upVector(s.canonical,S.x,S.y);return Zs(W,W,F*f.upVectorScale(s.canonical,r,l).metersToTile),W}}getForTilePoints(s,r,l,f){if(this.isUsingMockSource())return!1;const S=c0.create(this,s,f);return!!S&&(r.forEach(F=>{F[2]=this.exaggeration()*S.getElevationAt(F[0],F[1],l)}),!0)}getMinMaxForTile(s){if(this.isUsingMockSource())return null;const r=this.findDEMTileFor(s);if(!r||!r.dem)return null;const l=r.dem.tree,f=r.tileID,S=1<<s.canonical.z-f.canonical.z;let F=s.canonical.x/S-f.canonical.x,W=s.canonical.y/S-f.canonical.y,ie=0;for(let le=0;le<s.canonical.z-f.canonical.z&&!l.leaves[ie];le++){F*=2,W*=2;const me=2*Math.floor(W)+Math.floor(F);ie=l.childOffsets[ie]+me,F%=1,W%=1}return{min:this.exaggeration()*l.minimums[ie],max:this.exaggeration()*l.maximums[ie]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(s,r,l){throw new Error("Pure virtual method called.")}pointCoordinate(s){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(s){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},n.ErrorEvent=fa,n.EvaluationParameters=ni,n.Event=zn,n.Evented=In,n.FillExtrusionBucket=Yu,n.Frustum=qd,n.FrustumCorners=Hd,n.GLOBE_METERS_TO_ECEF=kf,n.GLOBE_RADIUS=ec,n.GLOBE_SCALE_MATCH_LATITUDE=45,n.GLOBE_ZOOM_THRESHOLD_MAX=6,n.GLOBE_ZOOM_THRESHOLD_MIN=5,n.GlobeSharedBuffers=class{constructor(s){this._createGrid(s),this._createPoles(s)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const s of this._poleSegments)s.destroy();for(const s of this._gridSegments)s.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const s of this._wireframeSegments)s.destroy()}}_createGrid(s){const r=new Mn,l=new _o,f=65;for(let S=0;S<f;S++)for(let F=0;F<f;F++)r.emplaceBack(F,S);this._gridSegments=[];for(let S=0,F=0;S<yu.length;S++){const W=yu[S];for(let le=0;le<W;le++)for(let me=0;me<64;me++){const Ee=le*f+me;l.emplaceBack(Ee+1,Ee,Ee+f),l.emplaceBack(Ee+f,Ee+f+1,Ee+1)}const ie=64*W*2;this._gridSegments.push(za.simpleSegment(0,F,(W+1)*f,ie)),F+=ie}this._gridBuffer=s.createVertexBuffer(r,eh.members),this._gridIndexBuffer=s.createIndexBuffer(l,!0)}_createPoles(s){const r=new _o;for(let S=0;S<=gu;S++)r.emplaceBack(0,S+1,S+2);this._poleIndexBuffer=s.createIndexBuffer(r,!0);const l=new dn,f=new dn;this._poleSegments=[];for(let S=0,F=0;S<5;S++){const W=360/(1<<S);l.emplaceBack(0,-ec,0,.5,0),f.emplaceBack(0,-ec,0,.5,1);for(let ie=0;ie<=gu;ie++){const le=ie/gu,me=$r(0,W,le),[Ee,Oe,Le]=vu(Pm,Mf,me,ec);l.emplaceBack(Ee,Oe,Le,le,0),f.emplaceBack(Ee,Oe,Le,le,1)}this._poleSegments.push(za.simpleSegment(F,0,66,64)),F+=66}this._poleNorthVertexBuffer=s.createVertexBuffer(l,wf,!1),this._poleSouthVertexBuffer=s.createVertexBuffer(f,wf,!1)}getGridBuffers(s){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[s]]}getPoleBuffers(s){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[s]]}getWirefameBuffers(s,r){if(!this._wireframeSegments){const l=new al,f=gu,S=f+1;this._wireframeSegments=[];for(let F=0,W=0;F<yu.length;F++){const ie=yu[F];for(let me=0;me<ie;me++)for(let Ee=0;Ee<f;Ee++){const Oe=me*S+Ee;l.emplaceBack(Oe,Oe+1),l.emplaceBack(Oe,Oe+S),l.emplaceBack(Oe,Oe+S+1)}const le=ie*f*3;this._wireframeSegments.push(za.simpleSegment(0,W,(ie+1)*S,le)),W+=le}this._wireframeIndexBuffer=s.createIndexBuffer(l)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[r]]}},n.GlyphManager=$a,n.ImagePosition=Kh,n.LivePerformanceUtils=ri,n.LngLat=wn,n.LngLatBounds=Xl,n.LocalGlyphMode=yf,n.MAX_MERCATOR_LATITUDE=Oo,n.MercatorCoordinate=Pc,n.ONE_EM=Jn,n.OverscaledTileID=bo,n.PerformanceMarkers=Vt,n.Properties=Sr,n.RGBAImage=Bs,n.Ray=Bh,n.RequestManager=class{constructor(s,r,l){this._transformRequestFn=s,this._customAccessToken=r,this._silenceAuthErrors=!!l,this._createSkuToken()}_createSkuToken(){const s=function(){let r="";for(let l=0;l<10;l++)r+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",C,r].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=s.token,this._skuTokenExpiresAt=s.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(s,r){return this._transformRequestFn&&this._transformRequestFn(s,r)||{url:s}}normalizeStyleURL(s,r){if(!jr(s))return s;const l=Ln(s);return l.path=`/styles/v1${l.path}`,this._makeAPIURL(l,this._customAccessToken||r)}normalizeGlyphsURL(s,r){if(!jr(s))return s;const l=Ln(s);return l.path=`/fonts/v1${l.path}`,this._makeAPIURL(l,this._customAccessToken||r)}normalizeSourceURL(s,r,l,f){if(!jr(s))return s;const S=Ln(s);return S.path=`/v4/${S.authority}.json`,S.params.push("secure"),l&&S.params.push(`language=${l}`),f&&S.params.push(`worldview=${f}`),this._makeAPIURL(S,this._customAccessToken||r)}normalizeSpriteURL(s,r,l,f){const S=Ln(s);return jr(s)?(S.path=`/styles/v1${S.path}/sprite${r}${l}`,this._makeAPIURL(S,this._customAccessToken||f)):(S.path+=`${r}${l}`,Ba(S))}normalizeTileURL(s,r,l){if(this._isSkuTokenExpired()&&this._createSkuToken(),s&&!jr(s))return s;const f=Ln(s);f.path=f.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${r||l&&f.authority!=="raster"&&l===512?"@2x":""}${H.supported?".webp":"$1"}`),f.authority==="raster"?f.path=`/${z.RASTER_URL_PREFIX}${f.path}`:(f.path=f.path.replace(/^.+\/v4\//,"/"),f.path=`/${z.TILE_URL_VERSION}${f.path}`);const S=this._customAccessToken||function(F){for(const W of F){const ie=W.match(/^access_token=(.*)$/);if(ie)return ie[1]}return null}(f.params)||z.ACCESS_TOKEN;return z.REQUIRE_ACCESS_TOKEN&&S&&this._skuToken&&f.params.push(`sku=${this._skuToken}`),this._makeAPIURL(f,S)}canonicalizeTileURL(s,r){const l=Ln(s);if(!l.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!l.path.match(/\.[\w]+$/))return s;let f="mapbox://";l.path.match(/^\/raster\/v1\//)?f+=`raster/${l.path.replace(`/${z.RASTER_URL_PREFIX}/`,"")}`:f+=`tiles/${l.path.replace(`/${z.TILE_URL_VERSION}/`,"")}`;let S=l.params;return r&&(S=S.filter(F=>!F.match(/^access_token=/))),S.length&&(f+=`?${S.join("&")}`),f}canonicalizeTileset(s,r){const l=!!r&&jr(r),f=[];for(const S of s.tiles||[])or(S)?f.push(this.canonicalizeTileURL(S,l)):f.push(S);return f}_makeAPIURL(s,r){const l="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",f=Ln(z.API_URL);if(s.protocol=f.protocol,s.authority=f.authority,s.protocol==="http"){const S=s.params.indexOf("secure");S>=0&&s.params.splice(S,1)}if(f.path!=="/"&&(s.path=`${f.path}${s.path}`),!z.REQUIRE_ACCESS_TOKEN)return Ba(s);if(r=r||z.ACCESS_TOKEN,!this._silenceAuthErrors){if(!r)throw new Error(`An API access token is required to use Mapbox GL. ${l}`);if(r[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${l}`)}return s.params=s.params.filter(S=>S.indexOf("access_token")===-1),s.params.push(`access_token=${r||""}`),Ba(s)}},n.ResourceType=Et,n.SegmentVector=za,n.SourceCache=uh,n.StencilMode=Hm,n.StructArrayLayout1ui2=ql,n.StructArrayLayout2f1f2i16=Mo,n.StructArrayLayout2i4=Mn,n.StructArrayLayout2ui4=al,n.StructArrayLayout3f12=qs,n.StructArrayLayout3ui6=_o,n.StructArrayLayout4i8=Bn,n.StructArrayLayout5f20=dn,n.Texture=lh,n.Tile=Qr,n.Transitionable=Oi,n.Uniform1f=Jc,n.Uniform1i=class extends Dl{constructor(s){super(s),this.current=0}set(s,r,l){this.fetchUniformLocation(s,r)&&this.current!==l&&(this.current=l,this.gl.uniform1i(this.location,l))}},n.Uniform2f=class extends Dl{constructor(s){super(s),this.current=[0,0]}set(s,r,l){this.fetchUniformLocation(s,r)&&(l[0]===this.current[0]&&l[1]===this.current[1]||(this.current=l,this.gl.uniform2f(this.location,l[0],l[1])))}},n.Uniform3f=class extends Dl{constructor(s){super(s),this.current=[0,0,0]}set(s,r,l){this.fetchUniformLocation(s,r)&&(l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]||(this.current=l,this.gl.uniform3f(this.location,l[0],l[1],l[2])))}},n.Uniform4f=Wf,n.UniformColor=Yf,n.UniformMatrix2f=class extends Dl{constructor(s){super(s),this.current=Zf}set(s,r,l){if(this.fetchUniformLocation(s,r)){for(let f=0;f<4;f++)if(l[f]!==this.current[f]){this.current=l,this.gl.uniformMatrix2fv(this.location,!1,l);break}}}},n.UniformMatrix3f=class extends Dl{constructor(s){super(s),this.current=Xf}set(s,r,l){if(this.fetchUniformLocation(s,r)){for(let f=0;f<9;f++)if(l[f]!==this.current[f]){this.current=l,this.gl.uniformMatrix3fv(this.location,!1,l);break}}}},n.UniformMatrix4f=class extends Dl{constructor(s){super(s),this.current=u0}set(s,r,l){if(this.fetchUniformLocation(s,r)){if(l[12]!==this.current[12]||l[0]!==this.current[0])return this.current=l,void this.gl.uniformMatrix4fv(this.location,!1,l);for(let f=1;f<16;f++)if(l[f]!==this.current[f]){this.current=l,this.gl.uniformMatrix4fv(this.location,!1,l);break}}}},n.UnwrappedTileID=Pp,n.ValidationError=dr,n.VectorTileFeature=Vh,n.VectorTileWorkerSource=class extends In{constructor(s,r,l,f,S){super(),this.actor=s,this.layerIndex=r,this.availableImages=l,this.loadVectorData=S||lg,this.loading={},this.loaded={},this.deduped=new sg(s.scheduler),this.isSpriteLoaded=f,this.scheduler=s.scheduler}loadTile(s,r){const l=s.uid,f=s&&s.request,S=f&&f.collectResourceTiming,F=this.loading[l]=new yg(s);F.abort=this.loadVectorData(s,(W,ie)=>{const le=!this.loading[l];if(delete this.loading[l],le||W||!ie)return F.status="done",le||(this.loaded[l]=F),r(W);const me=ie.rawData,Ee={};ie.expires&&(Ee.expires=ie.expires),ie.cacheControl&&(Ee.cacheControl=ie.cacheControl),F.vectorTile=ie.vectorTile||new rf(new Ku(me));const Oe=()=>{F.parse(F.vectorTile,this.layerIndex,this.availableImages,this.actor,(Le,Ve)=>{if(Le||!Ve)return r(Le);const qe={};if(S){const rt=oi(f);rt.length>0&&(qe.resourceTiming=JSON.parse(JSON.stringify(rt)))}r(null,ee({rawTileData:me.slice(0)},Ve,Ee,qe))})};this.isSpriteLoaded?Oe():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(Oe,{type:"parseTile",isSymbolTile:s.isSymbolTile,zoom:s.tileZoom}):Oe()}),this.loaded=this.loaded||{},this.loaded[l]=F})}reloadTile(s,r){const l=this.loaded,f=s.uid,S=this;if(l&&l[f]){const F=l[f];F.showCollisionBoxes=s.showCollisionBoxes,F.enableTerrain=!!s.enableTerrain,F.projection=s.projection,F.tileTransform=$c(s.tileID.canonical,s.projection);const W=(ie,le)=>{const me=F.reloadCallback;me&&(delete F.reloadCallback,F.parse(F.vectorTile,S.layerIndex,this.availableImages,S.actor,me)),r(ie,le)};F.status==="parsing"?F.reloadCallback=W:F.status==="done"&&(F.vectorTile?F.parse(F.vectorTile,this.layerIndex,this.availableImages,this.actor,W):W())}}abortTile(s,r){const l=s.uid,f=this.loading[l];f&&(f.abort&&f.abort(),delete this.loading[l]),r()}removeTile(s,r){const l=this.loaded,f=s.uid;l&&l[f]&&delete l[f],r()}},n.WritingMode=Kr,n.add=Nl,n.addDynamicAttributes=dd,n.adjoint=function(s,r){var l=r[0],f=r[1],S=r[2],F=r[3],W=r[4],ie=r[5],le=r[6],me=r[7],Ee=r[8];return s[0]=W*Ee-ie*me,s[1]=S*me-f*Ee,s[2]=f*ie-S*W,s[3]=ie*le-F*Ee,s[4]=l*Ee-S*le,s[5]=S*F-l*ie,s[6]=F*me-W*le,s[7]=f*le-l*me,s[8]=l*W-f*F,s},n.asyncAll=X,n.bezier=A,n.bindAll=fe,n.boundsAttributes=br,n.bufferConvexPolygon=function(s,r){const l=[];for(let f=0;f<s.length;f++){const S=M(f-1,-1,s.length-1),F=M(f+1,-1,s.length-1),W=s[f],ie=s[F],le=s[S].sub(W).unit(),me=ie.sub(W).unit(),Ee=me.angleWithSep(le.x,le.y),Oe=le.add(me).unit().mult(-1*r/Math.sin(Ee/2));l.push(W.add(Oe))}return l},n.cacheEntryPossiblyAdded=function(s){At++,At>Je&&(s.getActor().send("enforceCacheSizeLimit",it),At=0)},n.calculateGlobeLabelMatrix=function(s,r){const{x:l,y:f}=s.point,S=sd(l,f,s.worldSize/s._pixelsPerMercatorPixel,0,0);return Oc(S,S,Ef(Ul(r)))},n.calculateGlobeMatrix=function(s){const{x:r,y:l}=s.point,{lng:f,lat:S}=s._center;return sd(r,l,s.worldSize,f,S)},n.calculateGlobeMercatorMatrix=function(s){const r=s.pixelsPerMeter,l=r/Xs(1,s.center.lat),f=ol(new Float64Array(16));return Nu(f,f,[s.point.x,s.point.y,0]),Rc(f,f,[l,l,r]),Float32Array.from(f)},n.circumferenceAtLatitude=Cd,n.clamp=y,n.clearTileCache=function(s){if(!st())return;const r=k.caches.delete(Ie);s&&r.catch(s).then(()=>s())},n.clipLine=qp,n.clone=function(s){var r=new Ds(16);return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[4]=s[4],r[5]=s[5],r[6]=s[6],r[7]=s[7],r[8]=s[8],r[9]=s[9],r[10]=s[10],r[11]=s[11],r[12]=s[12],r[13]=s[13],r[14]=s[14],r[15]=s[15],r},n.clone$1=ge,n.collisionCircleLayout=nm,n.config=z,n.conjugate=function(s,r){return s[0]=-r[0],s[1]=-r[1],s[2]=-r[2],s[3]=r[3],s},n.create=function(){var s=new Ds(16);return Ds!=Float32Array&&(s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0),s[0]=1,s[5]=1,s[10]=1,s[15]=1,s},n.create$1=ip,n.createExpression=Ni,n.createLayout=mr,n.createStyleLayer=function(s){return s.type==="custom"?new Um(s):new Vm[s.type](s)},n.cross=$d,n.degToRad=L,n.distance=function(s,r){return Math.hypot(r[0]-s[0],r[1]-s[1],r[2]-s[2])},n.div=function(s,r,l){return s[0]=r[0]/l[0],s[1]=r[1]/l[1],s[2]=r[2]/l[2],s},n.dot=sl,n.earthRadius=Tc,n.ease=m,n.easeCubicInOut=g,n.ecefToLatLng=function([s,r,l]){const f=Math.hypot(s,r,l),S=Math.atan2(s,l),F=.5*Math.PI-Math.acos(-r/f);return new wn(E(S),E(F))},n.emitValidationErrors=mh,n.endsWith=ue,n.enforceCacheSizeLimit=function(s){ht(),Ue&&Ue.then(r=>{r.keys().then(l=>{for(let f=0;f<l.length-s;f++)r.delete(l[f])})})},n.evaluateSizeForFeature=Cl,n.evaluateSizeForZoom=du,n.evaluateVariableOffset=_f,n.evented=zt,n.exactEquals=function(s,r){return s[0]===r[0]&&s[1]===r[1]&&s[2]===r[2]&&s[3]===r[3]},n.exactEquals$1=function(s,r){return s[0]===r[0]&&s[1]===r[1]&&s[2]===r[2]},n.exported=nr,n.exported$1=H,n.extend=ee,n.extend$1=an,n.fillExtrusionHeightLift=of,n.filterObject=te,n.fromMat4=function(s,r){return s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[4],s[4]=r[5],s[5]=r[6],s[6]=r[8],s[7]=r[9],s[8]=r[10],s},n.fromQuat=function(s,r){var l=r[0],f=r[1],S=r[2],F=r[3],W=l+l,ie=f+f,le=S+S,me=l*W,Ee=f*W,Oe=f*ie,Le=S*W,Ve=S*ie,qe=S*le,rt=F*W,pt=F*ie,Mt=F*le;return s[0]=1-Oe-qe,s[1]=Ee+Mt,s[2]=Le-pt,s[3]=0,s[4]=Ee-Mt,s[5]=1-me-qe,s[6]=Ve+rt,s[7]=0,s[8]=Le+pt,s[9]=Ve-rt,s[10]=1-me-Oe,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s},n.fromRotation=function(s,r){var l=Math.sin(r),f=Math.cos(r);return s[0]=f,s[1]=l,s[2]=0,s[3]=-l,s[4]=f,s[5]=0,s[6]=0,s[7]=0,s[8]=1,s},n.fromScaling=zd,n.furthestTileCorner=function(s){const r=Math.round((s+45+360)%360/90)%4;return w[r]},n.getAABBPointSquareDist=function(s,r,l){let f=0;for(let S=0;S<2;++S){const F=l?l[S]:0;s[S]>F&&(f+=(s[S]-F)*(s[S]-F)),r[S]<F&&(f+=(F-r[S])*(F-r[S]))}return f},n.getAnchorAlignment=gf,n.getAnchorJustification=bf,n.getBounds=function(s){let r=1/0,l=1/0,f=-1/0,S=-1/0;for(const F of s)r=Math.min(r,F.x),l=Math.min(l,F.y),f=Math.max(f,F.x),S=Math.max(S,F.y);return{min:new q(r,l),max:new q(f,S)}},n.getColumn=Qe,n.getGridMatrix=function(s,r,l,f){const S=r.getNorth(),F=r.getSouth(),W=r.getWest(),ie=r.getEast(),le=1<<s.z,me=ie-W,Ee=S-F,Oe=me/gu,Le=-Ee/yu[l],Ve=[0,Oe,0,Le,0,0,S,W,0];if(s.z>0){const qe=180/f;nu(Ve,Ve,[qe/me+1,0,0,0,qe/Ee+1,0,-.5*qe/Oe,.5*qe/Le,1])}return Ve[2]=le,Ve[5]=s.x,Ve[8]=s.y,Ve},n.getImage=Yr,n.getJSON=function(s,r){return ei(ee(s,{type:"json"}),r)},n.getLatitudinalLod=function(s){const r=80.051129;s=y(s,-80.051129,r)/r*90;const l=Math.pow(Math.abs(Math.sin(L(s))),3);return Math.round(l*(yu.length-1))},n.getMapSessionAPI=Bt,n.getPerformanceMeasurement=oi,n.getProjection=s0,n.getRTLTextPluginStatus=Jt,n.getReferrer=fi,n.getTilePoint=function(s,{x:r,y:l},f=0){return new q(((r-f)*s.scale-s.x)*Pr,(l*s.scale-s.y)*Pr)},n.getTileVec3=function(s,r,l=0){return Lc(((r.x-l)*s.scale-s.x)*Pr,(r.y*s.scale-s.y)*Pr,Ed(r.z,r.y))},n.getVideo=function(s,r){const l=k.document.createElement("video");l.muted=!0,l.onloadstart=function(){r(null,l)};for(let f=0;f<s.length;f++){const S=k.document.createElement("source");vi(s[f])||(l.crossOrigin="Anonymous"),S.src=s[f],l.appendChild(S)}return{cancel:()=>{}}},n.globeCenterToScreenPoint=function(s){const r=[0,0,0],l=ol(new Float64Array(16));return Oc(l,s.pixelMatrix,s.globeMatrix),La(r,r,l),new q(r[0],r[1])},n.globeDenormalizeECEF=Ef,n.globeECEFOrigin=function(s,r){const l=[0,0,0];return La(l,l,rh(Ul(r.canonical))),La(l,l,s),l},n.globeNormalizeECEF=rh,n.globePixelsToTileUnits=function(s,r){return Pr/(512*Math.pow(2,s))*od(Ul(r))},n.globePoleMatrixForTile=function(s,r,l){const f=ol(new Float64Array(16)),S=(r/(1<<s)-.5)*Math.PI*2;return zu(f,l.globeMatrix,S),Float32Array.from(f)},n.globeTileBounds=Ul,n.globeTiltAtLngLat=Tf,n.globeToMercatorTransition=Uc,n.globeUseCustomAntiAliasing=function(s,r,l){const f=Uc(l.zoom),S=s.style.map._antialias,F=!!r.extStandardDerivatives,W=r.extStandardDerivativesForceOff||s.terrain&&s.terrain.exaggeration()>0;return f===0&&!S&&!W&&F},n.identity=ol,n.identity$1=Gd,n.invert=Dh,n.isFullscreen=function(){return!!k.document.fullscreenElement||!!k.document.webkitFullscreenElement},n.isLngLatBehindGlobe=Pf,n.isMapAuthenticated=function(s){return Ze.has(s)},n.isMapboxURL=jr,n.isSafariWithAntialiasingBug=function(s){const r=s.navigator?s.navigator.userAgent:null;return!!ct(s)&&r&&(r.match("Version/15.4")||r.match("Version/15.5")||r.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},n.latFromMercatorY=Io,n.latLngToECEF=th,n.len=y0,n.length=Dc,n.length$1=function(s){return Math.hypot(s[0],s[1],s[2],s[3])},n.lngFromMercatorX=ws,n.loadVectorTile=lg,n.makeRequest=ei,n.mapValue=function(s,r,l,f,S){return y((s-r)/(l-r)*(S-f)+f,f,S)},n.mercatorScale=Td,n.mercatorXfromLng=bl,n.mercatorYfromLat=Ys,n.mercatorZfromAltitude=Xs,n.mul=jd,n.mul$1=g0,n.multiply=Oc,n.multiply$1=nu,n.multiply$2=Ud,n.nextPowerOfTwo=oe,n.normalize=cs,n.normalize$1=v0,n.normalize$2=op,n.number=$r,n.ortho=function(s,r,l,f,S,F,W){var ie=1/(r-l),le=1/(f-S),me=1/(F-W);return s[0]=-2*ie,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*le,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*me,s[11]=0,s[12]=(r+l)*ie,s[13]=(S+f)*le,s[14]=(W+F)*me,s[15]=1,s},n.pbf=Ku,n.perspective=function(s,r,l,f,S){var F,W=1/Math.tan(r/2);return s[0]=W/l,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=W,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=-1,s[12]=0,s[13]=0,s[15]=0,S!=null&&S!==1/0?(s[10]=(S+f)*(F=1/(f-S)),s[14]=2*S*f*F):(s[10]=-1,s[14]=-2*f),s},n.pick=function(s,r){const l={};for(let f=0;f<r.length;f++){const S=r[f];S in s&&(l[S]=s[S])}return l},n.plugin=di,n.pointGeometry=q,n.polesInViewport=function(s){const r=ol(new Float64Array(16));Oc(r,s.pixelMatrix,s.globeMatrix);const l=[0,cl,0],f=[0,ul,0];return La(l,l,r),La(f,f,r),[l[0]>0&&l[0]<=s.width&&l[1]>0&&l[1]<=s.height&&!Pf(s,new wn(s.center.lat,90)),f[0]>0&&f[0]<=s.width&&f[1]>0&&f[1]<=s.height&&!Pf(s,new wn(s.center.lat,-90))]},n.polygonContainsPoint=Ic,n.polygonIntersectsBox=Bd,n.polygonIntersectsPolygon=Ih,n.polygonizeBounds=function(s,r,l=0,f=!0){const S=new q(l,l),F=s.sub(S),W=r.add(S),ie=[F,new q(W.x,F.y),W,new q(F.x,W.y)];return f&&ie.push(F.clone()),ie},n.posAttributes=eh,n.postMapLoadEvent=It,n.postPerformanceEvent=Zt,n.postTurnstileEvent=nt,n.potpack=pf,n.prevPowerOfTwo=function(s){return s<=1?1:Math.pow(2,Math.floor(Math.log(s)/Math.LN2))},n.radToDeg=E,n.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],n.registerForPluginStateChange=function(s){return s({pluginStatus:Ct,pluginURL:xt}),zt.on("pluginStateChange",s),s},n.removeAuthState=function(s){Ze.delete(s)},n.renderColorRamp=Uu,n.resample=Md,n.rotateX=Nd,n.rotateX$1=sp,n.rotateY=zu,n.rotateY$1=lp,n.rotateZ=function(s,r,l){var f=Math.sin(l),S=Math.cos(l),F=r[0],W=r[1],ie=r[2],le=r[3],me=r[4],Ee=r[5],Oe=r[6],Le=r[7];return r!==s&&(s[8]=r[8],s[9]=r[9],s[10]=r[10],s[11]=r[11],s[12]=r[12],s[13]=r[13],s[14]=r[14],s[15]=r[15]),s[0]=F*S+me*f,s[1]=W*S+Ee*f,s[2]=ie*S+Oe*f,s[3]=le*S+Le*f,s[4]=me*S-F*f,s[5]=Ee*S-W*f,s[6]=Oe*S-ie*f,s[7]=Le*S-le*f,s},n.rotateZ$1=function(s,r,l){l*=.5;var f=r[0],S=r[1],F=r[2],W=r[3],ie=Math.sin(l),le=Math.cos(l);return s[0]=f*le+S*ie,s[1]=S*le-f*ie,s[2]=F*le+W*ie,s[3]=W*le-F*ie,s},n.scale=Rc,n.scale$1=ap,n.scale$2=Zs,n.scaleAndAdd=su,n.set=function(s,r,l,f){return s[0]=r,s[1]=l,s[2]=f,s},n.setCacheLimits=function(s,r){it=s,Je=r},n.setColumn=function(s,r,l){s[4*r+0]=l[0],s[4*r+1]=l[1],s[4*r+2]=l[2],s[4*r+3]=l[3]},n.setRTLTextPlugin=function(s,r,l=!1){if(Ct===bt||Ct===kt||Ct===ft)throw new Error("setRTLTextPlugin cannot be called multiple times.");xt=nr.resolveURL(s),Ct=bt,yt=r,Ht(),l||yi()},n.smoothstep=x,n.spec=ki,n.squaredLength=function(s){var r=s[0],l=s[1],f=s[2];return r*r+l*l+f*f},n.storeAuthState=function(s,r){r?Ze.add(s):Ze.delete(s)},n.sub=kl,n.subtract=ou,n.symbolSize=am,n.tileAABB=function(s,r,l,f,S,F,W,ie,le){if(le.name==="globe")return Tm(s,r,new Wh(l,f,S));const me=$c({z:l,x:f,y:S},le);return new us([(F+me.x/me.scale)*r,r*(me.y/me.scale),W],[(F+me.x2/me.scale)*r,r*(me.y2/me.scale),ie])},n.tileCornersToBounds=ad,n.tileTransform=$c,n.transformMat3=function(s,r,l){var f=r[0],S=r[1],F=r[2];return s[0]=f*l[0]+S*l[3]+F*l[6],s[1]=f*l[1]+S*l[4]+F*l[7],s[2]=f*l[2]+S*l[5]+F*l[8],s},n.transformMat4=La,n.transformMat4$1=fc,n.transformQuat=np,n.transitionTileAABBinECEF=e0,n.translate=Nu,n.transpose=function(s,r){if(s===r){var l=r[1],f=r[2],S=r[5];s[1]=r[3],s[2]=r[6],s[3]=l,s[5]=r[7],s[6]=f,s[7]=S}else s[0]=r[0],s[1]=r[3],s[2]=r[6],s[3]=r[1],s[4]=r[4],s[5]=r[7],s[6]=r[2],s[7]=r[5],s[8]=r[8];return s},n.triggerPluginCompletionEvent=Rt,n.uniqueId=ye,n.updateGlobeVertexNormal=function(s,r,l,f,S){const F=5*r+2;s.float32[F+0]=l,s.float32[F+1]=f,s.float32[F+2]=S},n.validateCustomStyleLayer=function(s){const r=[],l=s.id;return l===void 0&&r.push({message:`layers.${l}: missing required property "id"`}),s.render===void 0&&r.push({message:`layers.${l}: missing required method "render"`}),s.renderingMode&&s.renderingMode!=="2d"&&s.renderingMode!=="3d"&&r.push({message:`layers.${l}: property "renderingMode" must be either "2d" or "3d"`}),r},n.validateFilter=s=>vl(Il(s)),n.validateFog=s=>vl(Sc(s)),n.validateLayer=s=>vl(Yc(s)),n.validateLight=s=>vl(gt(s)),n.validateSource=s=>vl(sc(s)),n.validateStyle=Cu,n.validateTerrain=s=>vl(yl(s)),n.values=re,n.vectorTile=Uh,n.version=j,n.warnOnce=ce,n.window=k,n.wrap=M}),u(["./shared"],function(n){function k(wt){if(typeof wt=="number"||typeof wt=="boolean"||typeof wt=="string"||wt==null)return JSON.stringify(wt);if(Array.isArray(wt)){let nt="[";for(const St of wt)nt+=`${k(St)},`;return`${nt}]`}let We="{";for(const nt of Object.keys(wt).sort())We+=`${nt}:${k(wt[nt])},`;return`${We}}`}function j(wt){let We="";for(const nt of n.refProperties)We+=`/${k(wt[nt])}`;return We}class Z{constructor(We){this.keyCache={},We&&this.replace(We)}replace(We){this._layerConfigs={},this._layers={},this.update(We,[])}update(We,nt){for(const It of We)this._layerConfigs[It.id]=It,(this._layers[It.id]=n.createStyleLayer(It)).compileFilter(),this.keyCache[It.id]&&delete this.keyCache[It.id];for(const It of nt)delete this.keyCache[It],delete this._layerConfigs[It],delete this._layers[It];this.familiesBySource={};const St=function(It,Tt){const Zt={};for(let Bt=0;Bt<It.length;Bt++){const Ze=Tt&&Tt[It[Bt].id]||j(It[Bt]);Tt&&(Tt[It[Bt].id]=Ze);let Vt=Zt[Ze];Vt||(Vt=Zt[Ze]=[]),Vt.push(It[Bt])}const Lt=[];for(const Bt in Zt)Lt.push(Zt[Bt]);return Lt}(n.values(this._layerConfigs),this.keyCache);for(const It of St){const Tt=It.map(ri=>this._layers[ri.id]),Zt=Tt[0];if(Zt.visibility==="none")continue;const Lt=Zt.source||"";let Bt=this.familiesBySource[Lt];Bt||(Bt=this.familiesBySource[Lt]={});const Ze=Zt.sourceLayer||"_geojsonTileLayer";let Vt=Bt[Ze];Vt||(Vt=Bt[Ze]=[]),Vt.push(Tt)}}}class z{loadTile(We,nt){const{uid:St,encoding:It,rawImageData:Tt,padding:Zt,buildQuadTree:Lt}=We,Bt=n.window.ImageBitmap&&Tt instanceof n.window.ImageBitmap?this.getImageData(Tt,Zt):Tt;nt(null,new n.DEMData(St,Bt,It,Zt<1,Lt))}getImageData(We,nt){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(We.width,We.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=We.width,this.offscreenCanvas.height=We.height,this.offscreenCanvasContext.drawImage(We,0,0,We.width,We.height);const St=this.offscreenCanvasContext.getImageData(-nt,-nt,We.width+2*nt,We.height+2*nt);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),St}}var H=function wt(We,nt){var St,It=We&&We.type;if(It==="FeatureCollection")for(St=0;St<We.features.length;St++)wt(We.features[St],nt);else if(It==="GeometryCollection")for(St=0;St<We.geometries.length;St++)wt(We.geometries[St],nt);else if(It==="Feature")wt(We.geometry,nt);else if(It==="Polygon")Y(We.coordinates,nt);else if(It==="MultiPolygon")for(St=0;St<We.coordinates.length;St++)Y(We.coordinates[St],nt);return We};function Y(wt,We){if(wt.length!==0){I(wt[0],We);for(var nt=1;nt<wt.length;nt++)I(wt[nt],!We)}}function I(wt,We){for(var nt=0,St=0,It=0,Tt=wt.length,Zt=Tt-1;It<Tt;Zt=It++){var Lt=(wt[It][0]-wt[Zt][0])*(wt[Zt][1]+wt[It][1]),Bt=nt+Lt;St+=Math.abs(nt)>=Math.abs(Lt)?nt-Bt+Lt:Lt-Bt+nt,nt=Bt}nt+St>=0!=!!We&&wt.reverse()}const B=n.VectorTileFeature.prototype.toGeoJSON;class U{constructor(We){this._feature=We,this.extent=n.EXTENT,this.type=We.type,this.properties=We.tags,"id"in We&&!isNaN(We.id)&&(this.id=parseInt(We.id,10))}loadGeometry(){if(this._feature.type===1){const We=[];for(const nt of this._feature.geometry)We.push([new n.pointGeometry(nt[0],nt[1])]);return We}{const We=[];for(const nt of this._feature.geometry){const St=[];for(const It of nt)St.push(new n.pointGeometry(It[0],It[1]));We.push(St)}return We}}toGeoJSON(We,nt,St){return B.call(this,We,nt,St)}}class T{constructor(We){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=n.EXTENT,this.length=We.length,this._features=We}feature(We){return new U(this._features[We])}}var C={exports:{}},P=n.pointGeometry,G=n.vectorTile.VectorTileFeature,q=N;function N(wt,We){this.options=We||{},this.features=wt,this.length=wt.length}function ne(wt,We){this.id=typeof wt.id=="number"?wt.id:void 0,this.type=wt.type,this.rawGeometry=wt.type===1?[wt.geometry]:wt.geometry,this.properties=wt.tags,this.extent=We||4096}N.prototype.feature=function(wt){return new ne(this.features[wt],this.options.extent)},ne.prototype.loadGeometry=function(){var wt=this.rawGeometry;this.geometry=[];for(var We=0;We<wt.length;We++){for(var nt=wt[We],St=[],It=0;It<nt.length;It++)St.push(new P(nt[It][0],nt[It][1]));this.geometry.push(St)}return this.geometry},ne.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var wt=this.geometry,We=1/0,nt=-1/0,St=1/0,It=-1/0,Tt=0;Tt<wt.length;Tt++)for(var Zt=wt[Tt],Lt=0;Lt<Zt.length;Lt++){var Bt=Zt[Lt];We=Math.min(We,Bt.x),nt=Math.max(nt,Bt.x),St=Math.min(St,Bt.y),It=Math.max(It,Bt.y)}return[We,St,nt,It]},ne.prototype.toGeoJSON=G.prototype.toGeoJSON;var K=n.pbf,L=q;function E(wt){var We=new K;return function(nt,St){for(var It in nt.layers)St.writeMessage(3,w,nt.layers[It])}(wt,We),We.finish()}function w(wt,We){var nt;We.writeVarintField(15,wt.version||1),We.writeStringField(1,wt.name||""),We.writeVarintField(5,wt.extent||4096);var St={keys:[],values:[],keycache:{},valuecache:{}};for(nt=0;nt<wt.length;nt++)St.feature=wt.feature(nt),We.writeMessage(2,g,St);var It=St.keys;for(nt=0;nt<It.length;nt++)We.writeStringField(3,It[nt]);var Tt=St.values;for(nt=0;nt<Tt.length;nt++)We.writeMessage(4,M,Tt[nt])}function g(wt,We){var nt=wt.feature;nt.id!==void 0&&We.writeVarintField(1,nt.id),We.writeMessage(2,A,wt),We.writeVarintField(3,nt.type),We.writeMessage(4,x,nt)}function A(wt,We){var nt=wt.feature,St=wt.keys,It=wt.values,Tt=wt.keycache,Zt=wt.valuecache;for(var Lt in nt.properties){var Bt=nt.properties[Lt],Ze=Tt[Lt];if(Bt!==null){Ze===void 0&&(St.push(Lt),Tt[Lt]=Ze=St.length-1),We.writeVarint(Ze);var Vt=typeof Bt;Vt!=="string"&&Vt!=="boolean"&&Vt!=="number"&&(Bt=JSON.stringify(Bt));var ri=Vt+":"+Bt,ti=Zt[ri];ti===void 0&&(It.push(Bt),Zt[ri]=ti=It.length-1),We.writeVarint(ti)}}}function m(wt,We){return(We<<3)+(7&wt)}function y(wt){return wt<<1^wt>>31}function x(wt,We){for(var nt=wt.loadGeometry(),St=wt.type,It=0,Tt=0,Zt=nt.length,Lt=0;Lt<Zt;Lt++){var Bt=nt[Lt],Ze=1;St===1&&(Ze=Bt.length),We.writeVarint(m(1,Ze));for(var Vt=St===3?Bt.length-1:Bt.length,ri=0;ri<Vt;ri++){ri===1&&St!==1&&We.writeVarint(m(2,Vt-1));var ti=Bt[ri].x-It,er=Bt[ri].y-Tt;We.writeVarint(y(ti)),We.writeVarint(y(er)),It+=ti,Tt+=er}St===3&&We.writeVarint(m(7,1))}}function M(wt,We){var nt=typeof wt;nt==="string"?We.writeStringField(1,wt):nt==="boolean"?We.writeBooleanField(7,wt):nt==="number"&&(wt%1!=0?We.writeDoubleField(3,wt):wt<0?We.writeSVarintField(6,wt):We.writeVarintField(5,wt))}function X(wt,We,nt,St,It,Tt){if(It-St<=nt)return;const Zt=St+It>>1;re(wt,We,Zt,St,It,Tt%2),X(wt,We,nt,St,Zt-1,Tt+1),X(wt,We,nt,Zt+1,It,Tt+1)}function re(wt,We,nt,St,It,Tt){for(;It>St;){if(It-St>600){const Ze=It-St+1,Vt=nt-St+1,ri=Math.log(Ze),ti=.5*Math.exp(2*ri/3),er=.5*Math.sqrt(ri*ti*(Ze-ti)/Ze)*(Vt-Ze/2<0?-1:1);re(wt,We,nt,Math.max(St,Math.floor(nt-Vt*ti/Ze+er)),Math.min(It,Math.floor(nt+(Ze-Vt)*ti/Ze+er)),Tt)}const Zt=We[2*nt+Tt];let Lt=St,Bt=It;for(ee(wt,We,St,nt),We[2*It+Tt]>Zt&&ee(wt,We,St,It);Lt<Bt;){for(ee(wt,We,Lt,Bt),Lt++,Bt--;We[2*Lt+Tt]<Zt;)Lt++;for(;We[2*Bt+Tt]>Zt;)Bt--}We[2*St+Tt]===Zt?ee(wt,We,St,Bt):(Bt++,ee(wt,We,Bt,It)),Bt<=nt&&(St=Bt+1),nt<=Bt&&(It=Bt-1)}}function ee(wt,We,nt,St){he(wt,nt,St),he(We,2*nt,2*St),he(We,2*nt+1,2*St+1)}function he(wt,We,nt){const St=wt[We];wt[We]=wt[nt],wt[nt]=St}function ye(wt,We,nt,St){const It=wt-nt,Tt=We-St;return It*It+Tt*Tt}C.exports=E,C.exports.fromVectorTileJs=E,C.exports.fromGeojsonVt=function(wt,We){We=We||{};var nt={};for(var St in wt)nt[St]=new L(wt[St].features,We),nt[St].name=St,nt[St].version=We.version,nt[St].extent=We.extent;return E({layers:nt})},C.exports.GeoJSONWrapper=L;const Ce=wt=>wt[0],oe=wt=>wt[1];class de{constructor(We,nt=Ce,St=oe,It=64,Tt=Float64Array){this.nodeSize=It,this.points=We;const Zt=We.length<65536?Uint16Array:Uint32Array,Lt=this.ids=new Zt(We.length),Bt=this.coords=new Tt(2*We.length);for(let Ze=0;Ze<We.length;Ze++)Lt[Ze]=Ze,Bt[2*Ze]=nt(We[Ze]),Bt[2*Ze+1]=St(We[Ze]);X(Lt,Bt,It,0,Lt.length-1,0)}range(We,nt,St,It){return function(Tt,Zt,Lt,Bt,Ze,Vt,ri){const ti=[0,Tt.length-1,0],er=[];let oi,Ki;for(;ti.length;){const si=ti.pop(),gr=ti.pop(),Vi=ti.pop();if(gr-Vi<=ri){for(let Rr=Vi;Rr<=gr;Rr++)oi=Zt[2*Rr],Ki=Zt[2*Rr+1],oi>=Lt&&oi<=Ze&&Ki>=Bt&&Ki<=Vt&&er.push(Tt[Rr]);continue}const nr=Math.floor((Vi+gr)/2);oi=Zt[2*nr],Ki=Zt[2*nr+1],oi>=Lt&&oi<=Ze&&Ki>=Bt&&Ki<=Vt&&er.push(Tt[nr]);const Ur=(si+1)%2;(si===0?Lt<=oi:Bt<=Ki)&&(ti.push(Vi),ti.push(nr-1),ti.push(Ur)),(si===0?Ze>=oi:Vt>=Ki)&&(ti.push(nr+1),ti.push(gr),ti.push(Ur))}return er}(this.ids,this.coords,We,nt,St,It,this.nodeSize)}within(We,nt,St){return function(It,Tt,Zt,Lt,Bt,Ze){const Vt=[0,It.length-1,0],ri=[],ti=Bt*Bt;for(;Vt.length;){const er=Vt.pop(),oi=Vt.pop(),Ki=Vt.pop();if(oi-Ki<=Ze){for(let Ur=Ki;Ur<=oi;Ur++)ye(Tt[2*Ur],Tt[2*Ur+1],Zt,Lt)<=ti&&ri.push(It[Ur]);continue}const si=Math.floor((Ki+oi)/2),gr=Tt[2*si],Vi=Tt[2*si+1];ye(gr,Vi,Zt,Lt)<=ti&&ri.push(It[si]);const nr=(er+1)%2;(er===0?Zt-Bt<=gr:Lt-Bt<=Vi)&&(Vt.push(Ki),Vt.push(si-1),Vt.push(nr)),(er===0?Zt+Bt>=gr:Lt+Bt>=Vi)&&(Vt.push(si+1),Vt.push(oi),Vt.push(nr))}return ri}(this.ids,this.coords,We,nt,St,this.nodeSize)}}const fe={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:wt=>wt},ue=Math.fround||(pe=new Float32Array(1),wt=>(pe[0]=+wt,pe[0]));var pe;class te{constructor(We){this.options=Ge(Object.create(fe),We),this.trees=new Array(this.options.maxZoom+1)}load(We){const{log:nt,minZoom:St,maxZoom:It,nodeSize:Tt}=this.options;nt&&console.time("total time");const Zt=`prepare ${We.length} points`;nt&&console.time(Zt),this.points=We;let Lt=[];for(let Bt=0;Bt<We.length;Bt++)We[Bt].geometry&&Lt.push(xe(We[Bt],Bt));this.trees[It+1]=new de(Lt,ct,ot,Tt,Float32Array),nt&&console.timeEnd(Zt);for(let Bt=It;Bt>=St;Bt--){const Ze=+Date.now();Lt=this._cluster(Lt,Bt),this.trees[Bt]=new de(Lt,ct,ot,Tt,Float32Array),nt&&console.log("z%d: %d clusters in %dms",Bt,Lt.length,+Date.now()-Ze)}return nt&&console.timeEnd("total time"),this}getClusters(We,nt){let St=((We[0]+180)%360+360)%360-180;const It=Math.max(-90,Math.min(90,We[1]));let Tt=We[2]===180?180:((We[2]+180)%360+360)%360-180;const Zt=Math.max(-90,Math.min(90,We[3]));if(We[2]-We[0]>=360)St=-180,Tt=180;else if(St>Tt){const Vt=this.getClusters([St,It,180,Zt],nt),ri=this.getClusters([-180,It,Tt,Zt],nt);return Vt.concat(ri)}const Lt=this.trees[this._limitZoom(nt)],Bt=Lt.range(Ae(St),Fe(Zt),Ae(Tt),Fe(It)),Ze=[];for(const Vt of Bt){const ri=Lt.points[Vt];Ze.push(ri.numPoints?ce(ri):this.points[ri.index])}return Ze}getChildren(We){const nt=this._getOriginId(We),St=this._getOriginZoom(We),It="No cluster with the specified id.",Tt=this.trees[St];if(!Tt)throw new Error(It);const Zt=Tt.points[nt];if(!Zt)throw new Error(It);const Lt=this.options.radius/(this.options.extent*Math.pow(2,St-1)),Bt=Tt.within(Zt.x,Zt.y,Lt),Ze=[];for(const Vt of Bt){const ri=Tt.points[Vt];ri.parentId===We&&Ze.push(ri.numPoints?ce(ri):this.points[ri.index])}if(Ze.length===0)throw new Error(It);return Ze}getLeaves(We,nt,St){const It=[];return this._appendLeaves(It,We,nt=nt||10,St=St||0,0),It}getTile(We,nt,St){const It=this.trees[this._limitZoom(We)],Tt=Math.pow(2,We),{extent:Zt,radius:Lt}=this.options,Bt=Lt/Zt,Ze=(St-Bt)/Tt,Vt=(St+1+Bt)/Tt,ri={features:[]};return this._addTileFeatures(It.range((nt-Bt)/Tt,Ze,(nt+1+Bt)/Tt,Vt),It.points,nt,St,Tt,ri),nt===0&&this._addTileFeatures(It.range(1-Bt/Tt,Ze,1,Vt),It.points,Tt,St,Tt,ri),nt===Tt-1&&this._addTileFeatures(It.range(0,Ze,Bt/Tt,Vt),It.points,-1,St,Tt,ri),ri.features.length?ri:null}getClusterExpansionZoom(We){let nt=this._getOriginZoom(We)-1;for(;nt<=this.options.maxZoom;){const St=this.getChildren(We);if(nt++,St.length!==1)break;We=St[0].properties.cluster_id}return nt}_appendLeaves(We,nt,St,It,Tt){const Zt=this.getChildren(nt);for(const Lt of Zt){const Bt=Lt.properties;if(Bt&&Bt.cluster?Tt+Bt.point_count<=It?Tt+=Bt.point_count:Tt=this._appendLeaves(We,Bt.cluster_id,St,It,Tt):Tt<It?Tt++:We.push(Lt),We.length===St)break}return Tt}_addTileFeatures(We,nt,St,It,Tt,Zt){for(const Lt of We){const Bt=nt[Lt],Ze=Bt.numPoints;let Vt,ri,ti;if(Ze)Vt=we(Bt),ri=Bt.x,ti=Bt.y;else{const Ki=this.points[Bt.index];Vt=Ki.properties,ri=Ae(Ki.geometry.coordinates[0]),ti=Fe(Ki.geometry.coordinates[1])}const er={type:1,geometry:[[Math.round(this.options.extent*(ri*Tt-St)),Math.round(this.options.extent*(ti*Tt-It))]],tags:Vt};let oi;Ze?oi=Bt.id:this.options.generateId?oi=Bt.index:this.points[Bt.index].id&&(oi=this.points[Bt.index].id),oi!==void 0&&(er.id=oi),Zt.features.push(er)}}_limitZoom(We){return Math.max(this.options.minZoom,Math.min(Math.floor(+We),this.options.maxZoom+1))}_cluster(We,nt){const St=[],{radius:It,extent:Tt,reduce:Zt,minPoints:Lt}=this.options,Bt=It/(Tt*Math.pow(2,nt));for(let Ze=0;Ze<We.length;Ze++){const Vt=We[Ze];if(Vt.zoom<=nt)continue;Vt.zoom=nt;const ri=this.trees[nt+1],ti=ri.within(Vt.x,Vt.y,Bt),er=Vt.numPoints||1;let oi=er;for(const Ki of ti){const si=ri.points[Ki];si.zoom>nt&&(oi+=si.numPoints||1)}if(oi>er&&oi>=Lt){let Ki=Vt.x*er,si=Vt.y*er,gr=Zt&&er>1?this._map(Vt,!0):null;const Vi=(Ze<<5)+(nt+1)+this.points.length;for(const nr of ti){const Ur=ri.points[nr];if(Ur.zoom<=nt)continue;Ur.zoom=nt;const Rr=Ur.numPoints||1;Ki+=Ur.x*Rr,si+=Ur.y*Rr,Ur.parentId=Vi,Zt&&(gr||(gr=this._map(Vt,!0)),Zt(gr,this._map(Ur)))}Vt.parentId=Vi,St.push(ge(Ki/oi,si/oi,Vi,oi,gr))}else if(St.push(Vt),oi>1)for(const Ki of ti){const si=ri.points[Ki];si.zoom<=nt||(si.zoom=nt,St.push(si))}}return St}_getOriginId(We){return We-this.points.length>>5}_getOriginZoom(We){return(We-this.points.length)%32}_map(We,nt){if(We.numPoints)return nt?Ge({},We.properties):We.properties;const St=this.points[We.index].properties,It=this.options.map(St);return nt&&It===St?Ge({},It):It}}function ge(wt,We,nt,St,It){return{x:ue(wt),y:ue(We),zoom:1/0,id:nt,parentId:-1,numPoints:St,properties:It}}function xe(wt,We){const[nt,St]=wt.geometry.coordinates;return{x:ue(Ae(nt)),y:ue(Fe(St)),zoom:1/0,index:We,parentId:-1}}function ce(wt){return{type:"Feature",id:wt.id,properties:we(wt),geometry:{type:"Point",coordinates:[(We=wt.x,360*(We-.5)),De(wt.y)]}};var We}function we(wt){const We=wt.numPoints,nt=We>=1e4?`${Math.round(We/1e3)}k`:We>=1e3?Math.round(We/100)/10+"k":We;return Ge(Ge({},wt.properties),{cluster:!0,cluster_id:wt.id,point_count:We,point_count_abbreviated:nt})}function Ae(wt){return wt/360+.5}function Fe(wt){const We=Math.sin(wt*Math.PI/180),nt=.5-.25*Math.log((1+We)/(1-We))/Math.PI;return nt<0?0:nt>1?1:nt}function De(wt){const We=(180-360*wt)*Math.PI/180;return 360*Math.atan(Math.exp(We))/Math.PI-90}function Ge(wt,We){for(const nt in We)wt[nt]=We[nt];return wt}function ct(wt){return wt.x}function ot(wt){return wt.y}function Qe(wt,We,nt,St){for(var It,Tt=St,Zt=nt-We>>1,Lt=nt-We,Bt=wt[We],Ze=wt[We+1],Vt=wt[nt],ri=wt[nt+1],ti=We+3;ti<nt;ti+=3){var er=Ie(wt[ti],wt[ti+1],Bt,Ze,Vt,ri);if(er>Tt)It=ti,Tt=er;else if(er===Tt){var oi=Math.abs(ti-Zt);oi<Lt&&(It=ti,Lt=oi)}}Tt>St&&(It-We>3&&Qe(wt,We,It,St),wt[It+2]=Tt,nt-It>3&&Qe(wt,It,nt,St))}function Ie(wt,We,nt,St,It,Tt){var Zt=It-nt,Lt=Tt-St;if(Zt!==0||Lt!==0){var Bt=((wt-nt)*Zt+(We-St)*Lt)/(Zt*Zt+Lt*Lt);Bt>1?(nt=It,St=Tt):Bt>0&&(nt+=Zt*Bt,St+=Lt*Bt)}return(Zt=wt-nt)*Zt+(Lt=We-St)*Lt}function Ue(wt,We,nt,St){var It={id:wt===void 0?null:wt,type:We,geometry:nt,tags:St,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Tt){var Zt=Tt.geometry,Lt=Tt.type;if(Lt==="Point"||Lt==="MultiPoint"||Lt==="LineString")He(Tt,Zt);else if(Lt==="Polygon"||Lt==="MultiLineString")for(var Bt=0;Bt<Zt.length;Bt++)He(Tt,Zt[Bt]);else if(Lt==="MultiPolygon")for(Bt=0;Bt<Zt.length;Bt++)for(var Ze=0;Ze<Zt[Bt].length;Ze++)He(Tt,Zt[Bt][Ze])}(It),It}function He(wt,We){for(var nt=0;nt<We.length;nt+=3)wt.minX=Math.min(wt.minX,We[nt]),wt.minY=Math.min(wt.minY,We[nt+1]),wt.maxX=Math.max(wt.maxX,We[nt]),wt.maxY=Math.max(wt.maxY,We[nt+1])}function it(wt,We,nt,St){if(We.geometry){var It=We.geometry.coordinates,Tt=We.geometry.type,Zt=Math.pow(nt.tolerance/((1<<nt.maxZoom)*nt.extent),2),Lt=[],Bt=We.id;if(nt.promoteId?Bt=We.properties[nt.promoteId]:nt.generateId&&(Bt=St||0),Tt==="Point")Je(It,Lt);else if(Tt==="MultiPoint")for(var Ze=0;Ze<It.length;Ze++)Je(It[Ze],Lt);else if(Tt==="LineString")st(It,Lt,Zt,!1);else if(Tt==="MultiLineString"){if(nt.lineMetrics){for(Ze=0;Ze<It.length;Ze++)st(It[Ze],Lt=[],Zt,!1),wt.push(Ue(Bt,"LineString",Lt,We.properties));return}ht(It,Lt,Zt,!1)}else if(Tt==="Polygon")ht(It,Lt,Zt,!0);else{if(Tt!=="MultiPolygon"){if(Tt==="GeometryCollection"){for(Ze=0;Ze<We.geometry.geometries.length;Ze++)it(wt,{id:Bt,geometry:We.geometry.geometries[Ze],properties:We.properties},nt,St);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Ze=0;Ze<It.length;Ze++){var Vt=[];ht(It[Ze],Vt,Zt,!0),Lt.push(Vt)}}wt.push(Ue(Bt,Tt,Lt,We.properties))}}function Je(wt,We){We.push(Ke(wt[0])),We.push(At(wt[1])),We.push(0)}function st(wt,We,nt,St){for(var It,Tt,Zt=0,Lt=0;Lt<wt.length;Lt++){var Bt=Ke(wt[Lt][0]),Ze=At(wt[Lt][1]);We.push(Bt),We.push(Ze),We.push(0),Lt>0&&(Zt+=St?(It*Ze-Bt*Tt)/2:Math.sqrt(Math.pow(Bt-It,2)+Math.pow(Ze-Tt,2))),It=Bt,Tt=Ze}var Vt=We.length-3;We[2]=1,Qe(We,0,Vt,nt),We[Vt+2]=1,We.size=Math.abs(Zt),We.start=0,We.end=We.size}function ht(wt,We,nt,St){for(var It=0;It<wt.length;It++){var Tt=[];st(wt[It],Tt,nt,St),We.push(Tt)}}function Ke(wt){return wt/360+.5}function At(wt){var We=Math.sin(wt*Math.PI/180),nt=.5-.25*Math.log((1+We)/(1-We))/Math.PI;return nt<0?0:nt>1?1:nt}function Et(wt,We,nt,St,It,Tt,Zt,Lt){if(St/=We,Tt>=(nt/=We)&&Zt<St)return wt;if(Zt<nt||Tt>=St)return null;for(var Bt=[],Ze=0;Ze<wt.length;Ze++){var Vt=wt[Ze],ri=Vt.geometry,ti=Vt.type,er=It===0?Vt.minX:Vt.minY,oi=It===0?Vt.maxX:Vt.maxY;if(er>=nt&&oi<St)Bt.push(Vt);else if(!(oi<nt||er>=St)){var Ki=[];if(ti==="Point"||ti==="MultiPoint")Wt(ri,Ki,nt,St,It);else if(ti==="LineString")fi(ri,Ki,nt,St,It,!1,Lt.lineMetrics);else if(ti==="MultiLineString")hi(ri,Ki,nt,St,It,!1);else if(ti==="Polygon")hi(ri,Ki,nt,St,It,!0);else if(ti==="MultiPolygon")for(var si=0;si<ri.length;si++){var gr=[];hi(ri[si],gr,nt,St,It,!0),gr.length&&Ki.push(gr)}if(Ki.length){if(Lt.lineMetrics&&ti==="LineString"){for(si=0;si<Ki.length;si++)Bt.push(Ue(Vt.id,ti,Ki[si],Vt.tags));continue}ti!=="LineString"&&ti!=="MultiLineString"||(Ki.length===1?(ti="LineString",Ki=Ki[0]):ti="MultiLineString"),ti!=="Point"&&ti!=="MultiPoint"||(ti=Ki.length===3?"Point":"MultiPoint"),Bt.push(Ue(Vt.id,ti,Ki,Vt.tags))}}}return Bt.length?Bt:null}function Wt(wt,We,nt,St,It){for(var Tt=0;Tt<wt.length;Tt+=3){var Zt=wt[Tt+It];Zt>=nt&&Zt<=St&&(We.push(wt[Tt]),We.push(wt[Tt+1]),We.push(wt[Tt+2]))}}function fi(wt,We,nt,St,It,Tt,Zt){for(var Lt,Bt,Ze=ei(wt),Vt=It===0?zi:Ji,ri=wt.start,ti=0;ti<wt.length-3;ti+=3){var er=wt[ti],oi=wt[ti+1],Ki=wt[ti+2],si=wt[ti+3],gr=wt[ti+4],Vi=It===0?er:oi,nr=It===0?si:gr,Ur=!1;Zt&&(Lt=Math.sqrt(Math.pow(er-si,2)+Math.pow(oi-gr,2))),Vi<nt?nr>nt&&(Bt=Vt(Ze,er,oi,si,gr,nt),Zt&&(Ze.start=ri+Lt*Bt)):Vi>St?nr<St&&(Bt=Vt(Ze,er,oi,si,gr,St),Zt&&(Ze.start=ri+Lt*Bt)):vi(Ze,er,oi,Ki),nr<nt&&Vi>=nt&&(Bt=Vt(Ze,er,oi,si,gr,nt),Ur=!0),nr>St&&Vi<=St&&(Bt=Vt(Ze,er,oi,si,gr,St),Ur=!0),!Tt&&Ur&&(Zt&&(Ze.end=ri+Lt*Bt),We.push(Ze),Ze=ei(wt)),Zt&&(ri+=Lt)}var Rr=wt.length-3;er=wt[Rr],oi=wt[Rr+1],Ki=wt[Rr+2],(Vi=It===0?er:oi)>=nt&&Vi<=St&&vi(Ze,er,oi,Ki),Rr=Ze.length-3,Tt&&Rr>=3&&(Ze[Rr]!==Ze[0]||Ze[Rr+1]!==Ze[1])&&vi(Ze,Ze[0],Ze[1],Ze[2]),Ze.length&&We.push(Ze)}function ei(wt){var We=[];return We.size=wt.size,We.start=wt.start,We.end=wt.end,We}function hi(wt,We,nt,St,It,Tt){for(var Zt=0;Zt<wt.length;Zt++)fi(wt[Zt],We,nt,St,It,Tt,!1)}function vi(wt,We,nt,St){wt.push(We),wt.push(nt),wt.push(St)}function zi(wt,We,nt,St,It,Tt){var Zt=(Tt-We)/(St-We);return wt.push(Tt),wt.push(nt+(It-nt)*Zt),wt.push(1),Zt}function Ji(wt,We,nt,St,It,Tt){var Zt=(Tt-nt)/(It-nt);return wt.push(We+(St-We)*Zt),wt.push(Tt),wt.push(1),Zt}function cr(wt,We){for(var nt=[],St=0;St<wt.length;St++){var It,Tt=wt[St],Zt=Tt.type;if(Zt==="Point"||Zt==="MultiPoint"||Zt==="LineString")It=Yr(Tt.geometry,We);else if(Zt==="MultiLineString"||Zt==="Polygon"){It=[];for(var Lt=0;Lt<Tt.geometry.length;Lt++)It.push(Yr(Tt.geometry[Lt],We))}else if(Zt==="MultiPolygon")for(It=[],Lt=0;Lt<Tt.geometry.length;Lt++){for(var Bt=[],Ze=0;Ze<Tt.geometry[Lt].length;Ze++)Bt.push(Yr(Tt.geometry[Lt][Ze],We));It.push(Bt)}nt.push(Ue(Tt.id,Zt,It,Tt.tags))}return nt}function Yr(wt,We){var nt=[];nt.size=wt.size,wt.start!==void 0&&(nt.start=wt.start,nt.end=wt.end);for(var St=0;St<wt.length;St+=3)nt.push(wt[St]+We,wt[St+1],wt[St+2]);return nt}function Cr(wt,We){if(wt.transformed)return wt;var nt,St,It,Tt=1<<wt.z,Zt=wt.x,Lt=wt.y;for(nt=0;nt<wt.features.length;nt++){var Bt=wt.features[nt],Ze=Bt.geometry,Vt=Bt.type;if(Bt.geometry=[],Vt===1)for(St=0;St<Ze.length;St+=2)Bt.geometry.push(jr(Ze[St],Ze[St+1],We,Tt,Zt,Lt));else for(St=0;St<Ze.length;St++){var ri=[];for(It=0;It<Ze[St].length;It+=2)ri.push(jr(Ze[St][It],Ze[St][It+1],We,Tt,Zt,Lt));Bt.geometry.push(ri)}}return wt.transformed=!0,wt}function jr(wt,We,nt,St,It,Tt){return[Math.round(nt*(wt*St-It)),Math.round(nt*(We*St-Tt))]}function or(wt,We,nt,St,It){for(var Tt=We===It.maxZoom?0:It.tolerance/((1<<We)*It.extent),Zt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:nt,y:St,z:We,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Lt=0;Lt<wt.length;Lt++){Zt.numFeatures++,Sn(Zt,wt[Lt],Tt,It);var Bt=wt[Lt].minX,Ze=wt[Lt].minY,Vt=wt[Lt].maxX,ri=wt[Lt].maxY;Bt<Zt.minX&&(Zt.minX=Bt),Ze<Zt.minY&&(Zt.minY=Ze),Vt>Zt.maxX&&(Zt.maxX=Vt),ri>Zt.maxY&&(Zt.maxY=ri)}return Zt}function Sn(wt,We,nt,St){var It=We.geometry,Tt=We.type,Zt=[];if(Tt==="Point"||Tt==="MultiPoint")for(var Lt=0;Lt<It.length;Lt+=3)Zt.push(It[Lt]),Zt.push(It[Lt+1]),wt.numPoints++,wt.numSimplified++;else if(Tt==="LineString")Nn(Zt,It,wt,nt,!1,!1);else if(Tt==="MultiLineString"||Tt==="Polygon")for(Lt=0;Lt<It.length;Lt++)Nn(Zt,It[Lt],wt,nt,Tt==="Polygon",Lt===0);else if(Tt==="MultiPolygon")for(var Bt=0;Bt<It.length;Bt++){var Ze=It[Bt];for(Lt=0;Lt<Ze.length;Lt++)Nn(Zt,Ze[Lt],wt,nt,!0,Lt===0)}if(Zt.length){var Vt=We.tags||null;if(Tt==="LineString"&&St.lineMetrics){for(var ri in Vt={},We.tags)Vt[ri]=We.tags[ri];Vt.mapbox_clip_start=It.start/It.size,Vt.mapbox_clip_end=It.end/It.size}var ti={geometry:Zt,type:Tt==="Polygon"||Tt==="MultiPolygon"?3:Tt==="LineString"||Tt==="MultiLineString"?2:1,tags:Vt};We.id!==null&&(ti.id=We.id),wt.features.push(ti)}}function Nn(wt,We,nt,St,It,Tt){var Zt=St*St;if(St>0&&We.size<(It?Zt:St))nt.numPoints+=We.length/3;else{for(var Lt=[],Bt=0;Bt<We.length;Bt+=3)(St===0||We[Bt+2]>Zt)&&(nt.numSimplified++,Lt.push(We[Bt]),Lt.push(We[Bt+1])),nt.numPoints++;It&&function(Ze,Vt){for(var ri=0,ti=0,er=Ze.length,oi=er-2;ti<er;oi=ti,ti+=2)ri+=(Ze[ti]-Ze[oi])*(Ze[ti+1]+Ze[oi+1]);if(ri>0===Vt)for(ti=0,er=Ze.length;ti<er/2;ti+=2){var Ki=Ze[ti],si=Ze[ti+1];Ze[ti]=Ze[er-2-ti],Ze[ti+1]=Ze[er-1-ti],Ze[er-2-ti]=Ki,Ze[er-1-ti]=si}}(Lt,Tt),wt.push(Lt)}}function fn(wt,We){var nt=(We=this.options=function(It,Tt){for(var Zt in Tt)It[Zt]=Tt[Zt];return It}(Object.create(this.options),We)).debug;if(nt&&console.time("preprocess data"),We.maxZoom<0||We.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(We.promoteId&&We.generateId)throw new Error("promoteId and generateId cannot be used together.");var St=function(It,Tt){var Zt=[];if(It.type==="FeatureCollection")for(var Lt=0;Lt<It.features.length;Lt++)it(Zt,It.features[Lt],Tt,Lt);else it(Zt,It.type==="Feature"?It:{geometry:It},Tt);return Zt}(wt,We);this.tiles={},this.tileCoords=[],nt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",We.indexMaxZoom,We.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),St=function(It,Tt){var Zt=Tt.buffer/Tt.extent,Lt=It,Bt=Et(It,1,-1-Zt,Zt,0,-1,2,Tt),Ze=Et(It,1,1-Zt,2+Zt,0,-1,2,Tt);return(Bt||Ze)&&(Lt=Et(It,1,-Zt,1+Zt,0,-1,2,Tt)||[],Bt&&(Lt=cr(Bt,1).concat(Lt)),Ze&&(Lt=Lt.concat(cr(Ze,-1)))),Lt}(St,We),St.length&&this.splitTile(St,0,0,0),nt&&(St.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Oa(wt,We,nt){return 32*((1<<wt)*nt+We)+wt}function Ln(wt,We){const nt=wt.tileID.canonical;if(!this._geoJSONIndex)return We(null,null);const St=this._geoJSONIndex.getTile(nt.z,nt.x,nt.y);if(!St)return We(null,null);const It=new T(St.features);let Tt=C.exports(It);Tt.byteOffset===0&&Tt.byteLength===Tt.buffer.byteLength||(Tt=new Uint8Array(Tt)),We(null,{vectorTile:It,rawData:Tt.buffer})}fn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},fn.prototype.splitTile=function(wt,We,nt,St,It,Tt,Zt){for(var Lt=[wt,We,nt,St],Bt=this.options,Ze=Bt.debug;Lt.length;){St=Lt.pop(),nt=Lt.pop(),We=Lt.pop(),wt=Lt.pop();var Vt=1<<We,ri=Oa(We,nt,St),ti=this.tiles[ri];if(!ti&&(Ze>1&&console.time("creation"),ti=this.tiles[ri]=or(wt,We,nt,St,Bt),this.tileCoords.push({z:We,x:nt,y:St}),Ze)){Ze>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",We,nt,St,ti.numFeatures,ti.numPoints,ti.numSimplified),console.timeEnd("creation"));var er="z"+We;this.stats[er]=(this.stats[er]||0)+1,this.total++}if(ti.source=wt,It){if(We===Bt.maxZoom||We===It)continue;var oi=1<<It-We;if(nt!==Math.floor(Tt/oi)||St!==Math.floor(Zt/oi))continue}else if(We===Bt.indexMaxZoom||ti.numPoints<=Bt.indexMaxPoints)continue;if(ti.source=null,wt.length!==0){Ze>1&&console.time("clipping");var Ki,si,gr,Vi,nr,Ur,Rr=.5*Bt.buffer/Bt.extent,zn=.5-Rr,fa=.5+Rr,In=1+Rr;Ki=si=gr=Vi=null,nr=Et(wt,Vt,nt-Rr,nt+fa,0,ti.minX,ti.maxX,Bt),Ur=Et(wt,Vt,nt+zn,nt+In,0,ti.minX,ti.maxX,Bt),wt=null,nr&&(Ki=Et(nr,Vt,St-Rr,St+fa,1,ti.minY,ti.maxY,Bt),si=Et(nr,Vt,St+zn,St+In,1,ti.minY,ti.maxY,Bt),nr=null),Ur&&(gr=Et(Ur,Vt,St-Rr,St+fa,1,ti.minY,ti.maxY,Bt),Vi=Et(Ur,Vt,St+zn,St+In,1,ti.minY,ti.maxY,Bt),Ur=null),Ze>1&&console.timeEnd("clipping"),Lt.push(Ki||[],We+1,2*nt,2*St),Lt.push(si||[],We+1,2*nt,2*St+1),Lt.push(gr||[],We+1,2*nt+1,2*St),Lt.push(Vi||[],We+1,2*nt+1,2*St+1)}}},fn.prototype.getTile=function(wt,We,nt){var St=this.options,It=St.extent,Tt=St.debug;if(wt<0||wt>24)return null;var Zt=1<<wt,Lt=Oa(wt,We=(We%Zt+Zt)%Zt,nt);if(this.tiles[Lt])return Cr(this.tiles[Lt],It);Tt>1&&console.log("drilling down to z%d-%d-%d",wt,We,nt);for(var Bt,Ze=wt,Vt=We,ri=nt;!Bt&&Ze>0;)Ze--,Vt=Math.floor(Vt/2),ri=Math.floor(ri/2),Bt=this.tiles[Oa(Ze,Vt,ri)];return Bt&&Bt.source?(Tt>1&&console.log("found parent tile z%d-%d-%d",Ze,Vt,ri),Tt>1&&console.time("drilling down"),this.splitTile(Bt.source,Ze,Vt,ri,wt,We,nt),Tt>1&&console.timeEnd("drilling down"),this.tiles[Lt]?Cr(this.tiles[Lt],It):null):null};class Ba extends n.VectorTileWorkerSource{constructor(We,nt,St,It,Tt){super(We,nt,St,It,Ln),Tt&&(this.loadGeoJSON=Tt)}loadData(We,nt){const St=We&&We.request,It=St&&St.collectResourceTiming;this.loadGeoJSON(We,(Tt,Zt)=>{if(Tt||!Zt)return nt(Tt);if(typeof Zt!="object")return nt(new Error(`Input data given to '${We.source}' is not a valid GeoJSON object.`));{H(Zt,!0);try{if(We.filter){const Bt=n.createExpression(We.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Bt.result==="error")throw new Error(Bt.value.map(Vt=>`${Vt.key}: ${Vt.message}`).join(", "));Zt={type:"FeatureCollection",features:Zt.features.filter(Vt=>Bt.value.evaluate({zoom:0},Vt))}}this._geoJSONIndex=We.cluster?new te(function({superclusterOptions:Bt,clusterProperties:Ze}){if(!Ze||!Bt)return Bt;const Vt={},ri={},ti={accumulated:null,zoom:0},er={properties:null},oi=Object.keys(Ze);for(const Ki of oi){const[si,gr]=Ze[Ki],Vi=n.createExpression(gr),nr=n.createExpression(typeof si=="string"?[si,["accumulated"],["get",Ki]]:si);Vt[Ki]=Vi.value,ri[Ki]=nr.value}return Bt.map=Ki=>{er.properties=Ki;const si={};for(const gr of oi)si[gr]=Vt[gr].evaluate(ti,er);return si},Bt.reduce=(Ki,si)=>{er.properties=si;for(const gr of oi)ti.accumulated=Ki[gr],Ki[gr]=ri[gr].evaluate(ti,er)},Bt}(We)).load(Zt.features):function(Bt,Ze){return new fn(Bt,Ze)}(Zt,We.geojsonVtOptions)}catch(Bt){return nt(Bt)}this.loaded={};const Lt={};if(It){const Bt=n.getPerformanceMeasurement(St);Bt&&(Lt.resourceTiming={},Lt.resourceTiming[We.source]=JSON.parse(JSON.stringify(Bt)))}nt(null,Lt)}})}reloadTile(We,nt){const St=this.loaded;return St&&St[We.uid]?super.reloadTile(We,nt):this.loadTile(We,nt)}loadGeoJSON(We,nt){if(We.request)n.getJSON(We.request,nt);else{if(typeof We.data!="string")return nt(new Error(`Input data given to '${We.source}' is not a valid GeoJSON object.`));try{return nt(null,JSON.parse(We.data))}catch{return nt(new Error(`Input data given to '${We.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(We,nt){try{nt(null,this._geoJSONIndex.getClusterExpansionZoom(We.clusterId))}catch(St){nt(St)}}getClusterChildren(We,nt){try{nt(null,this._geoJSONIndex.getChildren(We.clusterId))}catch(St){nt(St)}}getClusterLeaves(We,nt){try{nt(null,this._geoJSONIndex.getLeaves(We.clusterId,We.limit,We.offset))}catch(St){nt(St)}}}class go{constructor(We){this.self=We,this.actor=new n.Actor(We,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=n.getProjection({name:"mercator"}),this.workerSourceTypes={vector:n.VectorTileWorkerSource,geojson:Ba},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(nt,St)=>{if(this.workerSourceTypes[nt])throw new Error(`Worker source with name "${nt}" already registered.`);this.workerSourceTypes[nt]=St},this.self.registerRTLTextPlugin=nt=>{if(n.plugin.isParsed())throw new Error("RTL text plugin already registered.");n.plugin.applyArabicShaping=nt.applyArabicShaping,n.plugin.processBidirectionalText=nt.processBidirectionalText,n.plugin.processStyledBidirectionalText=nt.processStyledBidirectionalText}}clearCaches(We,nt,St){delete this.layerIndexes[We],delete this.availableImages[We],delete this.workerSources[We],delete this.demWorkerSources[We],St()}checkIfReady(We,nt,St){St()}setReferrer(We,nt){this.referrer=nt}spriteLoaded(We,nt){this.isSpriteLoaded[We]=nt;for(const St in this.workerSources[We]){const It=this.workerSources[We][St];for(const Tt in It)It[Tt]instanceof n.VectorTileWorkerSource&&(It[Tt].isSpriteLoaded=nt,It[Tt].fire(new n.Event("isSpriteLoaded")))}}setImages(We,nt,St){this.availableImages[We]=nt;for(const It in this.workerSources[We]){const Tt=this.workerSources[We][It];for(const Zt in Tt)Tt[Zt].availableImages=nt}St()}enableTerrain(We,nt,St){this.terrain=nt,St()}setProjection(We,nt){this.projections[We]=n.getProjection(nt)}setLayers(We,nt,St){this.getLayerIndex(We).replace(nt),St()}updateLayers(We,nt,St){this.getLayerIndex(We).update(nt.layers,nt.removedIds),St()}loadTile(We,nt,St){const It=this.enableTerrain?n.extend({enableTerrain:this.terrain},nt):nt;It.projection=this.projections[We]||this.defaultProjection,this.getWorkerSource(We,nt.type,nt.source).loadTile(It,St)}loadDEMTile(We,nt,St){const It=this.enableTerrain?n.extend({buildQuadTree:this.terrain},nt):nt;this.getDEMWorkerSource(We,nt.source).loadTile(It,St)}reloadTile(We,nt,St){const It=this.enableTerrain?n.extend({enableTerrain:this.terrain},nt):nt;It.projection=this.projections[We]||this.defaultProjection,this.getWorkerSource(We,nt.type,nt.source).reloadTile(It,St)}abortTile(We,nt,St){this.getWorkerSource(We,nt.type,nt.source).abortTile(nt,St)}removeTile(We,nt,St){this.getWorkerSource(We,nt.type,nt.source).removeTile(nt,St)}removeSource(We,nt,St){if(!this.workerSources[We]||!this.workerSources[We][nt.type]||!this.workerSources[We][nt.type][nt.source])return;const It=this.workerSources[We][nt.type][nt.source];delete this.workerSources[We][nt.type][nt.source],It.removeSource!==void 0?It.removeSource(nt,St):St()}loadWorkerSource(We,nt,St){try{this.self.importScripts(nt.url),St()}catch(It){St(It.toString())}}syncRTLPluginState(We,nt,St){try{n.plugin.setState(nt);const It=n.plugin.getPluginURL();if(n.plugin.isLoaded()&&!n.plugin.isParsed()&&It!=null){this.self.importScripts(It);const Tt=n.plugin.isParsed();St(Tt?void 0:new Error(`RTL Text Plugin failed to import scripts from ${It}`),Tt)}}catch(It){St(It.toString())}}getAvailableImages(We){let nt=this.availableImages[We];return nt||(nt=[]),nt}getLayerIndex(We){let nt=this.layerIndexes[We];return nt||(nt=this.layerIndexes[We]=new Z),nt}getWorkerSource(We,nt,St){if(this.workerSources[We]||(this.workerSources[We]={}),this.workerSources[We][nt]||(this.workerSources[We][nt]={}),!this.workerSources[We][nt][St]){const It={send:(Tt,Zt,Lt,Bt,Ze,Vt)=>{this.actor.send(Tt,Zt,Lt,We,Ze,Vt)},scheduler:this.actor.scheduler};this.workerSources[We][nt][St]=new this.workerSourceTypes[nt](It,this.getLayerIndex(We),this.getAvailableImages(We),this.isSpriteLoaded[We])}return this.workerSources[We][nt][St]}getDEMWorkerSource(We,nt){return this.demWorkerSources[We]||(this.demWorkerSources[We]={}),this.demWorkerSources[We][nt]||(this.demWorkerSources[We][nt]=new z),this.demWorkerSources[We][nt]}enforceCacheSizeLimit(We,nt){n.enforceCacheSizeLimit(nt)}getWorkerPerformanceMetrics(We,nt,St){St(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new go(self)),go}),u(["./shared"],function(n){function k(D,c){if(Array.isArray(D)){if(!Array.isArray(c)||D.length!==c.length)return!1;for(let b=0;b<D.length;b++)if(!k(D[b],c[b]))return!1;return!0}if(typeof D=="object"&&D!==null&&c!==null){if(typeof c!="object"||Object.keys(D).length!==Object.keys(c).length)return!1;for(const b in D)if(!k(D[b],c[b]))return!1;return!0}return D===c}var j=Z;function Z(D){return!function(c){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var V,Q,ae=new Blob([""],{type:"text/javascript"}),ve=URL.createObjectURL(ae);try{Q=new Worker(ve),V=!0}catch{V=!1}return Q&&Q.terminate(),URL.revokeObjectURL(ve),V}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var V=document.createElement("canvas");V.width=V.height=1;var Q=V.getContext("2d");if(!Q)return!1;var ae=Q.getImageData(0,0,1,1);return ae&&ae.width===V.width}()?(z[b=c&&c.failIfMajorPerformanceCaveat]===void 0&&(z[b]=function(V){var Q,ae=function(ve){var ke=document.createElement("canvas"),Te=Object.create(Z.webGLContextAttributes);return Te.failIfMajorPerformanceCaveat=ve,ke.getContext("webgl",Te)||ke.getContext("experimental-webgl",Te)}(V);if(!ae)return!1;try{Q=ae.createShader(ae.VERTEX_SHADER)}catch{return!1}return!(!Q||ae.isContextLost())&&(ae.shaderSource(Q,"void main() {}"),ae.compileShader(Q),ae.getShaderParameter(Q,ae.COMPILE_STATUS)===!0)}(b)),z[b]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var b}(D)}var z={};function H(D,c,b){const V=n.window.document.createElement(D);return c!==void 0&&(V.className=c),b&&b.appendChild(V),V}function Y(D,c,b){const V=n.window.document.createElementNS("http://www.w3.org/2000/svg",D);for(const Q of Object.keys(c))V.setAttributeNS(null,Q,c[Q]);return b&&b.appendChild(V),V}Z.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const I=n.window.document&&n.window.document.documentElement.style,B=I&&I.userSelect!==void 0?"userSelect":"WebkitUserSelect";let U;function T(){I&&B&&(U=I[B],I[B]="none")}function C(){I&&B&&(I[B]=U)}function P(D){D.preventDefault(),D.stopPropagation(),n.window.removeEventListener("click",P,!0)}function G(){n.window.addEventListener("click",P,!0),n.window.setTimeout(()=>{n.window.removeEventListener("click",P,!0)},0)}function q(D,c){const b=D.getBoundingClientRect();return K(D,b,c)}function N(D,c){const b=D.getBoundingClientRect(),V=[];for(let Q=0;Q<c.length;Q++)V.push(K(D,b,c[Q]));return V}function ne(D){return n.window.InstallTrigger!==void 0&&D.button===2&&D.ctrlKey&&n.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:D.button}function K(D,c,b){const V=D.offsetWidth===c.width?1:D.offsetWidth/c.width;return new n.pointGeometry((b.clientX-c.left)*V,(b.clientY-c.top)*V)}function L(D,c){var b=c[0],V=c[1],Q=c[2],ae=c[3],ve=b*ae-Q*V;return ve?(D[0]=ae*(ve=1/ve),D[1]=-V*ve,D[2]=-Q*ve,D[3]=b*ve,D):null}function E(D){const{userImage:c}=D;return!!(c&&c.render&&c.render())&&(D.data.replace(new Uint8Array(c.data.buffer)),!0)}class w extends n.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new n.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(c){if(this.loaded!==c&&(this.loaded=c,c)){for(const{ids:b,callback:V}of this.requestors)this._notify(b,V);this.requestors=[]}}hasImage(c){return!!this.getImage(c)}getImage(c){return this.images[c]}addImage(c,b){this._validate(c,b)&&(this.images[c]=b)}_validate(c,b){let V=!0;return this._validateStretch(b.stretchX,b.data&&b.data.width)||(this.fire(new n.ErrorEvent(new Error(`Image "${c}" has invalid "stretchX" value`))),V=!1),this._validateStretch(b.stretchY,b.data&&b.data.height)||(this.fire(new n.ErrorEvent(new Error(`Image "${c}" has invalid "stretchY" value`))),V=!1),this._validateContent(b.content,b)||(this.fire(new n.ErrorEvent(new Error(`Image "${c}" has invalid "content" value`))),V=!1),V}_validateStretch(c,b){if(!c)return!0;let V=0;for(const Q of c){if(Q[0]<V||Q[1]<Q[0]||b<Q[1])return!1;V=Q[1]}return!0}_validateContent(c,b){return!(c&&(c.length!==4||c[0]<0||b.data.width<c[0]||c[1]<0||b.data.height<c[1]||c[2]<0||b.data.width<c[2]||c[3]<0||b.data.height<c[3]||c[2]<c[0]||c[3]<c[1]))}updateImage(c,b){b.version=this.images[c].version+1,this.images[c]=b,this.updatedImages[c]=!0}removeImage(c){const b=this.images[c];delete this.images[c],delete this.patterns[c],b.userImage&&b.userImage.onRemove&&b.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(c,b){let V=!0;if(!this.isLoaded())for(const Q of c)this.images[Q]||(V=!1);this.isLoaded()||V?this._notify(c,b):this.requestors.push({ids:c,callback:b})}_notify(c,b){const V={};for(const Q of c){this.images[Q]||this.fire(new n.Event("styleimagemissing",{id:Q}));const ae=this.images[Q];ae?V[Q]={data:ae.data.clone(),pixelRatio:ae.pixelRatio,sdf:ae.sdf,version:ae.version,stretchX:ae.stretchX,stretchY:ae.stretchY,content:ae.content,hasRenderCallback:!!(ae.userImage&&ae.userImage.render)}:n.warnOnce(`Image "${Q}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}b(null,V)}getPixelSize(){const{width:c,height:b}=this.atlasImage;return{width:c,height:b}}getPattern(c){const b=this.patterns[c],V=this.getImage(c);if(!V)return null;if(b&&b.position.version===V.version)return b.position;if(b)b.position.version=V.version;else{const Q={w:V.data.width+2,h:V.data.height+2,x:0,y:0},ae=new n.ImagePosition(Q,V);this.patterns[c]={bin:Q,position:ae}}return this._updatePatternAtlas(),this.patterns[c].position}bind(c){const b=c.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new n.Texture(c,this.atlasImage,b.RGBA),this.atlasTexture.bind(b.LINEAR,b.CLAMP_TO_EDGE)}_updatePatternAtlas(){const c=[];for(const ae in this.patterns)c.push(this.patterns[ae].bin);const{w:b,h:V}=n.potpack(c),Q=this.atlasImage;Q.resize({width:b||1,height:V||1});for(const ae in this.patterns){const{bin:ve}=this.patterns[ae],ke=ve.x+1,Te=ve.y+1,je=this.images[ae].data,Ne=je.width,Ye=je.height;n.RGBAImage.copy(je,Q,{x:0,y:0},{x:ke,y:Te},{width:Ne,height:Ye}),n.RGBAImage.copy(je,Q,{x:0,y:Ye-1},{x:ke,y:Te-1},{width:Ne,height:1}),n.RGBAImage.copy(je,Q,{x:0,y:0},{x:ke,y:Te+Ye},{width:Ne,height:1}),n.RGBAImage.copy(je,Q,{x:Ne-1,y:0},{x:ke-1,y:Te},{width:1,height:Ye}),n.RGBAImage.copy(je,Q,{x:0,y:0},{x:ke+Ne,y:Te},{width:1,height:Ye})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(c){for(const b of c){if(this.callbackDispatchedThisFrame[b])continue;this.callbackDispatchedThisFrame[b]=!0;const V=this.images[b];E(V)&&this.updateImage(b,V)}}}const g=new n.Properties({anchor:new n.DataConstantProperty(n.spec.light.anchor),position:new class{constructor(){this.specification=n.spec.light.position}possiblyEvaluate(D,c){return function([b,V,Q]){const ae=n.degToRad(V+90),ve=n.degToRad(Q);return{x:b*Math.cos(ae)*Math.sin(ve),y:b*Math.sin(ae)*Math.sin(ve),z:b*Math.cos(ve),azimuthal:V,polar:Q}}(D.expression.evaluate(c))}interpolate(D,c,b){return{x:n.number(D.x,c.x,b),y:n.number(D.y,c.y,b),z:n.number(D.z,c.z,b),azimuthal:n.number(D.azimuthal,c.azimuthal,b),polar:n.number(D.polar,c.polar,b)}}},color:new n.DataConstantProperty(n.spec.light.color),intensity:new n.DataConstantProperty(n.spec.light.intensity)}),A="-transition";class m extends n.Evented{constructor(c){super(),this._transitionable=new n.Transitionable(g),this.setLight(c),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(c,b={}){if(!this._validate(n.validateLight,c,b))for(const V in c){const Q=c[V];n.endsWith(V,A)?this._transitionable.setTransition(V.slice(0,-A.length),Q):this._transitionable.setValue(V,Q)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,b,V){return(!V||V.validate!==!1)&&n.emitValidationErrors(this,c.call(n.validateStyle,n.extend({value:b,style:{glyphs:!0,sprite:!0},styleSpec:n.spec})))}}const y=new n.Properties({source:new n.DataConstantProperty(n.spec.terrain.source),exaggeration:new n.DataConstantProperty(n.spec.terrain.exaggeration)}),x="-transition";class M extends n.Evented{constructor(c,b){super(),this._transitionable=new n.Transitionable(y),this.set(c),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=b}get(){return this._transitionable.serialize()}set(c){for(const b in c){const V=c[b];n.endsWith(b,x)?this._transitionable.setTransition(b.slice(0,-x.length),V):this._transitionable.setValue(b,V)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}}function X(D,c,b,V){const Q=n.smoothstep(45,65,b),[ae,ve]=re(D,V),ke=n.length(c);let Te=1-Math.min(1,Math.exp((ke-ae)/(ve-ae)*-6));return Te*=Te*Te,Te=Math.min(1,1.00747*Te),Te*Q*D.alpha}function re(D,c){const b=.5/Math.tan(.5*c);return[D.range[0]+b,D.range[1]+b]}const ee=new n.Properties({range:new n.DataConstantProperty(n.spec.fog.range),color:new n.DataConstantProperty(n.spec.fog.color),"high-color":new n.DataConstantProperty(n.spec.fog["high-color"]),"space-color":new n.DataConstantProperty(n.spec.fog["space-color"]),"horizon-blend":new n.DataConstantProperty(n.spec.fog["horizon-blend"]),"star-intensity":new n.DataConstantProperty(n.spec.fog["star-intensity"])}),he="-transition";class ye extends n.Evented{constructor(c,b){super(),this._transitionable=new n.Transitionable(ee),this.set(c),this._transitioning=this._transitionable.untransitioned(),this._transform=b}get state(){const c=this._transform,b=c.projection.name==="globe",V=n.globeToMercatorTransition(c.zoom),Q=this.properties.get("range"),ae=[.5,3];return{range:b?[n.number(ae[0],Q[0],V),n.number(ae[1],Q[1],V)]:Q,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(c,b={}){if(!this._validate(n.validateFog,c,b)){for(const V of Object.keys(n.spec.fog))c&&c[V]===void 0&&(c[V]=n.spec.fog[V].default);for(const V in c){const Q=c[V];n.endsWith(V,he)?this._transitionable.setTransition(V.slice(0,-he.length),Q):this._transitionable.setValue(V,Q)}}}getOpacity(c){if(!this._transform.projection.supportsFog)return 0;const b=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:n.smoothstep(45,65,c))*b.a}getOpacityAtLatLng(c,b){return this._transform.projection.supportsFog?function(V,Q,ae){const ve=n.MercatorCoordinate.fromLngLat(Q),ke=ae.elevation?ae.elevation.getAtPointOrZero(ve):0,Te=[ve.x,ve.y,ke];return n.transformMat4(Te,Te,ae.mercatorFogMatrix),X(V,Te,ae.pitch,ae._fov)}(this.state,c,b):0}getFovAdjustedRange(c){return this._transform.projection.supportsFog?re(this.state,c):[0,1]}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,b,V){return(!V||V.validate!==!1)&&n.emitValidationErrors(this,c.call(n.validateStyle,n.extend({value:b,style:{glyphs:!0,sprite:!0},styleSpec:n.spec})))}}class Ce{constructor(c,b){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=n.uniqueId();const V=this.workerPool.acquire(this.id);for(let Q=0;Q<V.length;Q++){const ae=new Ce.Actor(V[Q],b,this.id);ae.name=`Worker ${Q}`,this.actors.push(ae)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(c,b,V){n.asyncAll(this.actors,(Q,ae)=>{Q.send(c,b,ae)},V=V||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(c=>{c.remove()}),this.actors=[],this.workerPool.release(this.id)}}function oe(D,c,b){return c*(n.EXTENT/(D.tileSize*Math.pow(2,b-D.tileID.overscaledZ)))}Ce.Actor=n.Actor;class de{constructor(c,b,V,Q){this.screenBounds=c,this.cameraPoint=b,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=V,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,Q)}static createFromScreenPoints(c,b){let V,Q;if(c instanceof n.pointGeometry||typeof c[0]=="number"){const ae=n.pointGeometry.convert(c);V=[ae],Q=b.isPointAboveHorizon(ae)}else{const ae=n.pointGeometry.convert(c[0]),ve=n.pointGeometry.convert(c[1]);V=[ae,ve],Q=n.polygonizeBounds(ae,ve).every(ke=>b.isPointAboveHorizon(ke))}return new de(V,b.getCameraPoint(),Q,b)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(c){return n.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],c)}bufferedCameraGeometry(c){const b=this.screenBounds[0],V=this.screenBounds.length===1?this.screenBounds[0].add(new n.pointGeometry(1,1)):this.screenBounds[1],Q=n.polygonizeBounds(b,V,0,!1);return this.cameraPoint.y>V.y&&(this.cameraPoint.x>b.x&&this.cameraPoint.x<V.x?Q.splice(3,0,this.cameraPoint):this.cameraPoint.x>=V.x?Q[2]=this.cameraPoint:this.cameraPoint.x<=b.x&&(Q[3]=this.cameraPoint)),n.bufferConvexPolygon(Q,c)}bufferedCameraGeometryGlobe(c){const b=this.screenBounds[0],V=this.screenBounds.length===1?this.screenBounds[0].add(new n.pointGeometry(1,1)):this.screenBounds[1],Q=n.polygonizeBounds(b,V,c),ae=this.cameraPoint.clone();switch(3*((ae.y>b.y)+(ae.y>V.y))+((ae.x>b.x)+(ae.x>V.x))){case 0:Q[0]=ae,Q[4]=ae.clone();break;case 1:Q.splice(1,0,ae);break;case 2:Q[1]=ae;break;case 3:Q.splice(4,0,ae);break;case 5:Q.splice(2,0,ae);break;case 6:Q[3]=ae;break;case 7:Q.splice(3,0,ae);break;case 8:Q[2]=ae}return Q}containsTile(c,b,V,Q=0){const ae=c.queryPadding/b._pixelsPerMercatorPixel+1,ve=V?this._bufferedCameraMercator(ae,b):this._bufferedScreenMercator(ae,b);let ke=c.tileID.wrap+(ve.unwrapped?Q:0);const Te=ve.polygon.map(ft=>n.getTilePoint(c.tileTransform,ft,ke));if(!n.polygonIntersectsBox(Te,0,0,n.EXTENT,n.EXTENT))return;ke=c.tileID.wrap+(this.screenGeometryMercator.unwrapped?Q:0);const je=this.screenGeometryMercator.polygon.map(ft=>n.getTileVec3(c.tileTransform,ft,ke)),Ne=je.map(ft=>new n.pointGeometry(ft[0],ft[1])),Ye=b.getFreeCameraOptions().position||new n.MercatorCoordinate(0,0,0),lt=n.getTileVec3(c.tileTransform,Ye,ke),_t=je.map(ft=>{const yt=n.sub(ft,ft,lt);return n.normalize(yt,yt),new n.Ray(lt,yt)}),bt=oe(c,1,b.zoom)*b._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:Ne,tilespaceRays:_t,bufferedTilespaceGeometry:Te,bufferedTilespaceBounds:(kt=n.getBounds(Te),kt.min.x=n.clamp(kt.min.x,0,n.EXTENT),kt.min.y=n.clamp(kt.min.y,0,n.EXTENT),kt.max.x=n.clamp(kt.max.x,0,n.EXTENT),kt.max.y=n.clamp(kt.max.y,0,n.EXTENT),kt),tile:c,tileID:c.tileID,pixelToTileUnitsFactor:bt};var kt}_bufferedScreenMercator(c,b){const V=pe(c);if(this._screenRaycastCache[V])return this._screenRaycastCache[V];{let Q;return Q=b.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(c),b):{polygon:this.bufferedScreenGeometry(c).map(ae=>b.pointCoordinate3D(ae)),unwrapped:!0},this._screenRaycastCache[V]=Q,Q}}_bufferedCameraMercator(c,b){const V=pe(c);if(this._cameraRaycastCache[V])return this._cameraRaycastCache[V];{let Q;return Q=b.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(c),b):{polygon:this.bufferedCameraGeometry(c).map(ae=>b.pointCoordinate3D(ae)),unwrapped:!0},this._cameraRaycastCache[V]=Q,Q}}_projectAndResample(c,b){const V=function(ae,ve){const ke=n.multiply([],ve.pixelMatrix,ve.globeMatrix),Te=[0,-n.GLOBE_RADIUS,0,1],je=[0,n.GLOBE_RADIUS,0,1],Ne=[0,0,0,1];n.transformMat4$1(Te,Te,ke),n.transformMat4$1(je,je,ke),n.transformMat4$1(Ne,Ne,ke);const Ye=new n.pointGeometry(Te[0]/Te[3],Te[1]/Te[3]),lt=new n.pointGeometry(je[0]/je[3],je[1]/je[3]),_t=n.polygonContainsPoint(ae,Ye)&&Te[3]<Ne[3],bt=n.polygonContainsPoint(ae,lt)&&je[3]<Ne[3];if(!_t&&!bt)return null;const kt=function(Jt,yi,di){for(let ni=1;ni<Jt.length;ni++){const ji=ue(yi.pointCoordinate3D(Jt[ni-1]).x),ui=ue(yi.pointCoordinate3D(Jt[ni]).x);if(di<0){if(ji<ui)return{idx:ni,t:-ji/(ui-1-ji)}}else if(ui<ji)return{idx:ni,t:(1-ji)/(ui+1-ji)}}return null}(ae,ve,_t?-1:1);if(!kt)return null;const{idx:ft,t:yt}=kt;let Ct=ft>1?fe(ae.slice(0,ft),ve):[],xt=ft<ae.length?fe(ae.slice(ft),ve):[];Ct=Ct.map(Jt=>new n.pointGeometry(ue(Jt.x),Jt.y)),xt=xt.map(Jt=>new n.pointGeometry(ue(Jt.x),Jt.y));const Rt=[...Ct];Rt.length===0&&Rt.push(xt[xt.length-1]);const Ht=n.number(Rt[Rt.length-1].y,(xt.length===0?Ct[0]:xt[0]).y,yt);let zt;return zt=_t?[new n.pointGeometry(0,Ht),new n.pointGeometry(0,0),new n.pointGeometry(1,0),new n.pointGeometry(1,Ht)]:[new n.pointGeometry(1,Ht),new n.pointGeometry(1,1),new n.pointGeometry(0,1),new n.pointGeometry(0,Ht)],Rt.push(...zt),xt.length===0?Rt.push(Ct[0]):Rt.push(...xt),{polygon:Rt.map(Jt=>new n.MercatorCoordinate(Jt.x,Jt.y)),unwrapped:!1}}(c,b);if(V)return V;const Q=function(ae,ve){let ke=!1,Te=-1/0,je=0;for(let Ye=0;Ye<ae.length-1;Ye++)ae[Ye].x>Te&&(Te=ae[Ye].x,je=Ye);for(let Ye=0;Ye<ae.length-1;Ye++){const lt=(je+Ye)%(ae.length-1),_t=ae[lt],bt=ae[lt+1];Math.abs(_t.x-bt.x)>.5&&(_t.x<bt.x?(_t.x+=1,lt===0&&(ae[ae.length-1].x+=1)):(bt.x+=1,lt+1===ae.length-1&&(ae[0].x+=1)),ke=!0)}const Ne=n.mercatorXfromLng(ve.center.lng);return ke&&Ne<Math.abs(Ne-1)&&ae.forEach(Ye=>{Ye.x-=1}),{polygon:ae,unwrapped:ke}}(fe(c,b).map(ae=>new n.pointGeometry(ue(ae.x),ae.y)),b);return{polygon:Q.polygon.map(ae=>new n.MercatorCoordinate(ae.x,ae.y)),unwrapped:Q.unwrapped}}}function fe(D,c){return n.resample(D,b=>{const V=c.pointCoordinate3D(b);b.x=V.x,b.y=V.y},1/256)}function ue(D){return D<0?1+D%1:D%1}function pe(D){return 100*D|0}function te(D,c,b,V,Q){const ae=function(ve,ke){if(ve)return Q(ve);if(ke){D.url&&ke.tiles&&D.tiles&&delete D.tiles;const Te=n.pick(n.extend(ke,D),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);ke.vector_layers&&(Te.vectorLayers=ke.vector_layers,Te.vectorLayerIds=Te.vectorLayers.map(je=>je.id)),Te.tiles=c.canonicalizeTileset(Te,D.url),Q(null,Te)}};return D.url?n.getJSON(c.transformRequest(c.normalizeSourceURL(D.url,null,b,V),n.ResourceType.Source),ae):n.exported.frame(()=>ae(null,D))}class ge{constructor(c,b,V){this.bounds=n.LngLatBounds.convert(this.validateBounds(c)),this.minzoom=b||0,this.maxzoom=V||24}validateBounds(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]}contains(c){const b=Math.pow(2,c.z),V=Math.floor(n.mercatorXfromLng(this.bounds.getWest())*b),Q=Math.floor(n.mercatorYfromLat(this.bounds.getNorth())*b),ae=Math.ceil(n.mercatorXfromLng(this.bounds.getEast())*b),ve=Math.ceil(n.mercatorYfromLat(this.bounds.getSouth())*b);return c.x>=V&&c.x<ae&&c.y>=Q&&c.y<ve}}class xe{constructor(c,b,V){this.context=c;const Q=c.gl;this.buffer=Q.createBuffer(),this.dynamicDraw=!!V,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),Q.bufferData(Q.ELEMENT_ARRAY_BUFFER,b.arrayBuffer,this.dynamicDraw?Q.DYNAMIC_DRAW:Q.STATIC_DRAW),this.dynamicDraw||b.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(c){const b=this.context.gl;this.context.unbindVAO(),this.bind(),b.bufferSubData(b.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const ce={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class we{constructor(c,b,V,Q){this.length=b.length,this.attributes=V,this.itemSize=b.bytesPerElement,this.dynamicDraw=Q,this.context=c;const ae=c.gl;this.buffer=ae.createBuffer(),c.bindVertexBuffer.set(this.buffer),ae.bufferData(ae.ARRAY_BUFFER,b.arrayBuffer,this.dynamicDraw?ae.DYNAMIC_DRAW:ae.STATIC_DRAW),this.dynamicDraw||b.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(c){const b=this.context.gl;this.bind(),b.bufferSubData(b.ARRAY_BUFFER,0,c.arrayBuffer)}enableAttributes(c,b){for(let V=0;V<this.attributes.length;V++){const Q=b.attributes[this.attributes[V].name];Q!==void 0&&c.enableVertexAttribArray(Q)}}setVertexAttribPointers(c,b,V){for(let Q=0;Q<this.attributes.length;Q++){const ae=this.attributes[Q],ve=b.attributes[ae.name];ve!==void 0&&c.vertexAttribPointer(ve,ae.components,c[ce[ae.type]],!1,this.itemSize,ae.offset+this.itemSize*(V||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Ae{constructor(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(c){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Fe extends Ae{getDefault(){return n.Color.transparent}set(c){const b=this.current;(c.r!==b.r||c.g!==b.g||c.b!==b.b||c.a!==b.a||this.dirty)&&(this.gl.clearColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class De extends Ae{getDefault(){return 1}set(c){(c!==this.current||this.dirty)&&(this.gl.clearDepth(c),this.current=c,this.dirty=!1)}}class Ge extends Ae{getDefault(){return 0}set(c){(c!==this.current||this.dirty)&&(this.gl.clearStencil(c),this.current=c,this.dirty=!1)}}class ct extends Ae{getDefault(){return[!0,!0,!0,!0]}set(c){const b=this.current;(c[0]!==b[0]||c[1]!==b[1]||c[2]!==b[2]||c[3]!==b[3]||this.dirty)&&(this.gl.colorMask(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class ot extends Ae{getDefault(){return!0}set(c){(c!==this.current||this.dirty)&&(this.gl.depthMask(c),this.current=c,this.dirty=!1)}}class Qe extends Ae{getDefault(){return 255}set(c){(c!==this.current||this.dirty)&&(this.gl.stencilMask(c),this.current=c,this.dirty=!1)}}class Ie extends Ae{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(c){const b=this.current;(c.func!==b.func||c.ref!==b.ref||c.mask!==b.mask||this.dirty)&&(this.gl.stencilFunc(c.func,c.ref,c.mask),this.current=c,this.dirty=!1)}}class Ue extends Ae{getDefault(){const c=this.gl;return[c.KEEP,c.KEEP,c.KEEP]}set(c){const b=this.current;(c[0]!==b[0]||c[1]!==b[1]||c[2]!==b[2]||this.dirty)&&(this.gl.stencilOp(c[0],c[1],c[2]),this.current=c,this.dirty=!1)}}class He extends Ae{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const b=this.gl;c?b.enable(b.STENCIL_TEST):b.disable(b.STENCIL_TEST),this.current=c,this.dirty=!1}}class it extends Ae{getDefault(){return[0,1]}set(c){const b=this.current;(c[0]!==b[0]||c[1]!==b[1]||this.dirty)&&(this.gl.depthRange(c[0],c[1]),this.current=c,this.dirty=!1)}}class Je extends Ae{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const b=this.gl;c?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST),this.current=c,this.dirty=!1}}class st extends Ae{getDefault(){return this.gl.LESS}set(c){(c!==this.current||this.dirty)&&(this.gl.depthFunc(c),this.current=c,this.dirty=!1)}}class ht extends Ae{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const b=this.gl;c?b.enable(b.BLEND):b.disable(b.BLEND),this.current=c,this.dirty=!1}}class Ke extends Ae{getDefault(){const c=this.gl;return[c.ONE,c.ZERO]}set(c){const b=this.current;(c[0]!==b[0]||c[1]!==b[1]||this.dirty)&&(this.gl.blendFunc(c[0],c[1]),this.current=c,this.dirty=!1)}}class At extends Ae{getDefault(){return n.Color.transparent}set(c){const b=this.current;(c.r!==b.r||c.g!==b.g||c.b!==b.b||c.a!==b.a||this.dirty)&&(this.gl.blendColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Et extends Ae{getDefault(){return this.gl.FUNC_ADD}set(c){(c!==this.current||this.dirty)&&(this.gl.blendEquation(c),this.current=c,this.dirty=!1)}}class Wt extends Ae{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const b=this.gl;c?b.enable(b.CULL_FACE):b.disable(b.CULL_FACE),this.current=c,this.dirty=!1}}class fi extends Ae{getDefault(){return this.gl.BACK}set(c){(c!==this.current||this.dirty)&&(this.gl.cullFace(c),this.current=c,this.dirty=!1)}}class ei extends Ae{getDefault(){return this.gl.CCW}set(c){(c!==this.current||this.dirty)&&(this.gl.frontFace(c),this.current=c,this.dirty=!1)}}class hi extends Ae{getDefault(){return null}set(c){(c!==this.current||this.dirty)&&(this.gl.useProgram(c),this.current=c,this.dirty=!1)}}class vi extends Ae{getDefault(){return this.gl.TEXTURE0}set(c){(c!==this.current||this.dirty)&&(this.gl.activeTexture(c),this.current=c,this.dirty=!1)}}class zi extends Ae{getDefault(){const c=this.gl;return[0,0,c.drawingBufferWidth,c.drawingBufferHeight]}set(c){const b=this.current;(c[0]!==b[0]||c[1]!==b[1]||c[2]!==b[2]||c[3]!==b[3]||this.dirty)&&(this.gl.viewport(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class Ji extends Ae{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const b=this.gl;b.bindFramebuffer(b.FRAMEBUFFER,c),this.current=c,this.dirty=!1}}class cr extends Ae{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const b=this.gl;b.bindRenderbuffer(b.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class Yr extends Ae{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const b=this.gl;b.bindTexture(b.TEXTURE_2D,c),this.current=c,this.dirty=!1}}class Cr extends Ae{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const b=this.gl;b.bindBuffer(b.ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class jr extends Ae{getDefault(){return null}set(c){const b=this.gl;b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class or extends Ae{constructor(c){super(c),this.vao=c.extVertexArrayObject}getDefault(){return null}set(c){this.vao&&(c!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(c),this.current=c,this.dirty=!1)}}class Sn extends Ae{getDefault(){return 4}set(c){if(c===this.current&&!this.dirty)return;const b=this.gl;b.pixelStorei(b.UNPACK_ALIGNMENT,c),this.current=c,this.dirty=!1}}class Nn extends Ae{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const b=this.gl;b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c),this.current=c,this.dirty=!1}}class fn extends Ae{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const b=this.gl;b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,c),this.current=c,this.dirty=!1}}class Oa extends Ae{constructor(c,b){super(c),this.context=c,this.parent=b}getDefault(){return null}}class Ln extends Oa{setDirty(){this.dirty=!0}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const b=this.gl;b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}}class Ba extends Oa{attachment(){return this.gl.DEPTH_ATTACHMENT}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const b=this.gl;b.framebufferRenderbuffer(b.FRAMEBUFFER,this.attachment(),b.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class go extends Ba{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class wt{constructor(c,b,V,Q){this.context=c,this.width=b,this.height=V;const ae=this.framebuffer=c.gl.createFramebuffer();this.colorAttachment=new Ln(c,ae),Q&&(this.depthAttachment=new Ba(c,ae))}destroy(){const c=this.context.gl,b=this.colorAttachment.get();if(b&&c.deleteTexture(b),this.depthAttachment){const V=this.depthAttachment.get();V&&c.deleteRenderbuffer(V)}c.deleteFramebuffer(this.framebuffer)}}class We{constructor(c){this.gl=c,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Fe(this),this.clearDepth=new De(this),this.clearStencil=new Ge(this),this.colorMask=new ct(this),this.depthMask=new ot(this),this.stencilMask=new Qe(this),this.stencilFunc=new Ie(this),this.stencilOp=new Ue(this),this.stencilTest=new He(this),this.depthRange=new it(this),this.depthTest=new Je(this),this.depthFunc=new st(this),this.blend=new ht(this),this.blendFunc=new Ke(this),this.blendColor=new At(this),this.blendEquation=new Et(this),this.cullFace=new Wt(this),this.cullFaceSide=new fi(this),this.frontFace=new ei(this),this.program=new hi(this),this.activeTexture=new vi(this),this.viewport=new zi(this),this.bindFramebuffer=new Ji(this),this.bindRenderbuffer=new cr(this),this.bindTexture=new Yr(this),this.bindVertexBuffer=new Cr(this),this.bindElementBuffer=new jr(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new or(this),this.pixelStoreUnpack=new Sn(this),this.pixelStoreUnpackPremultiplyAlpha=new Nn(this),this.pixelStoreUnpackFlipY=new fn(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=c.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=c.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=c.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=c.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(c.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=c.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=c.getExtension("OES_standard_derivatives"),this.extTimerQuery=c.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(c,b){return new xe(this,c,b)}createVertexBuffer(c,b,V){return new we(this,c,b,V)}createRenderbuffer(c,b,V){const Q=this.gl,ae=Q.createRenderbuffer();return this.bindRenderbuffer.set(ae),Q.renderbufferStorage(Q.RENDERBUFFER,c,b,V),this.bindRenderbuffer.set(null),ae}createFramebuffer(c,b,V){return new wt(this,c,b,V)}clear({color:c,depth:b,stencil:V}){const Q=this.gl;let ae=0;c&&(ae|=Q.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),b!==void 0&&(ae|=Q.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(b),this.depthMask.set(!0)),V!==void 0&&(ae|=Q.STENCIL_BUFFER_BIT,this.clearStencil.set(V),this.stencilMask.set(255)),Q.clear(ae)}setCullFace(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))}setDepthMode(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)}setStencilMode(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)}setColorMode(c){k(c.blendFunction,n.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class nt extends n.Evented{constructor(c,b,V,Q){super(),this.id=c,this.dispatcher=V,this.setEventedParent(Q),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=n.extend({type:"raster"},b),n.extend(this,n.pick(b,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=te(this._options,this.map._requestManager,null,null,(c,b)=>{this._tileJSONRequest=null,this._loaded=!0,c?this.fire(new n.ErrorEvent(c)):b&&(n.extend(this,b),b.bounds&&(this.tileBounds=new ge(b.bounds,this.minzoom,this.maxzoom)),n.postTurnstileEvent(b.tiles),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(c){this.map=c,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return n.extend({},this._options)}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}loadTile(c,b){const V=n.exported.devicePixelRatio>=2,Q=this.map._requestManager.normalizeTileURL(c.tileID.canonical.url(this.tiles,this.scheme),V,this.tileSize);c.request=n.getImage(this.map._requestManager.transformRequest(Q,n.ResourceType.Tile),(ae,ve,ke,Te)=>(delete c.request,c.aborted?(c.state="unloaded",b(null)):ae?(c.state="errored",b(ae)):ve?(this.map._refreshExpiredTiles&&c.setExpiryData({cacheControl:ke,expires:Te}),c.setTexture(ve,this.map.painter),c.state="loaded",n.cacheEntryPossiblyAdded(this.dispatcher),void b(null)):b(null)))}static loadTileData(c,b,V){c.setTexture(b,V)}static unloadTileData(c,b){c.texture&&b.saveTileTexture(c.texture)}abortTile(c,b){c.request&&(c.request.cancel(),delete c.request),b()}unloadTile(c,b){c.texture&&this.map.painter.saveTileTexture(c.texture),b()}hasTransition(){return!1}}let St;function It(D,c,b,V,Q,ae,ve,ke){const Te=[D,b,Q,c,V,ae,1,1,1],je=[ve,ke,1],Ne=n.adjoint([],Te),[Ye,lt,_t]=n.transformMat3(je,je,n.transpose(Ne,Ne));return n.multiply$1(Te,[Ye,0,0,0,lt,0,0,0,_t],Te)}class Tt extends n.Evented{constructor(c,b,V,Q){super(),this.id=c,this.dispatcher=V,this.coordinates=b.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Q),this.options=b,this._dirty=!1}load(c,b){this._loaded=b||!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=n.getImage(this.map._requestManager.transformRequest(this.url,n.ResourceType.Image),(V,Q)=>{if(this._imageRequest=null,this._loaded=!0,V)this.fire(new n.ErrorEvent(V));else if(Q){const{HTMLImageElement:ae}=n.window;this.image=Q instanceof ae?n.exported.getImageData(Q):Q,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,c&&(this.coordinates=c),this._finishLoading()}})}loaded(){return this._loaded}updateImage(c){return this.image&&c.url?(this._imageRequest&&c.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=c.url,this.load(c.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(c){this.map=c,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(c){this.coordinates=c,this._boundsArray=void 0;const b=c.map(n.MercatorCoordinate.fromLngLat);return this.tileID=function(V){let Q=1/0,ae=1/0,ve=-1/0,ke=-1/0;for(const Ye of V)Q=Math.min(Q,Ye.x),ae=Math.min(ae,Ye.y),ve=Math.max(ve,Ye.x),ke=Math.max(ke,Ye.y);const Te=Math.max(ve-Q,ke-ae),je=Math.max(0,Math.floor(-Math.log(Te)/Math.LN2)),Ne=Math.pow(2,je);return new n.CanonicalTileID(je,Math.floor((Q+ve)/2*Ne),Math.floor((ae+ke)/2*Ne))}(b),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(c){for(const Te in this.tiles){const je=this.tiles[Te];je.state!=="loaded"&&(je.state="loaded",je.texture=this.texture)}if(this._boundsArray)return;const b=n.tileTransform(this.tileID,this.map.transform.projection),[V,Q,ae,ve]=this.coordinates.map(Te=>{const je=b.projection.project(Te[0],Te[1]);return n.getTilePoint(b,je)._round()});this.perspectiveTransform=function(Te,je,Ne,Ye,lt,_t,bt,kt,ft,yt){const Ct=It(0,0,Te,0,0,je,Te,je),xt=It(Ne,Ye,lt,_t,bt,kt,ft,yt);return n.multiply$1(xt,n.adjoint(Ct,Ct),xt),[xt[6]/xt[8]*Te/n.EXTENT,xt[7]/xt[8]*je/n.EXTENT]}(this.width,this.height,V.x,V.y,Q.x,Q.y,ve.x,ve.y,ae.x,ae.y);const ke=this._boundsArray=new n.StructArrayLayout4i8;ke.emplaceBack(V.x,V.y,0,0),ke.emplaceBack(Q.x,Q.y,n.EXTENT,0),ke.emplaceBack(ve.x,ve.y,0,n.EXTENT),ke.emplaceBack(ae.x,ae.y,n.EXTENT,n.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=c.createVertexBuffer(ke,n.boundsAttributes.members),this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const c=this.map.painter.context,b=c.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new n.Texture(c,this.image,b.RGBA),this.texture.bind(b.LINEAR,b.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(c)}loadTile(c,b){this.tileID&&this.tileID.equals(c.tileID.canonical)?(this.tiles[String(c.tileID.wrap)]=c,c.buckets={},b(null)):(c.state="errored",b(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Zt={vector:class extends n.Evented{constructor(D,c,b,V){if(super(),this.id=D,this.dispatcher=b,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,n.extend(this,n.pick(c,["url","scheme","tileSize","promoteId"])),this._options=n.extend({type:"vector"},c),this._collectResourceTiming=c.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(V),this._tileWorkers={},this._deduped=new n.DedupedRequest}load(D){this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"}));const c=Array.isArray(this.map._language)?this.map._language.join():this.map._language,b=this.map._worldview;this._tileJSONRequest=te(this._options,this.map._requestManager,c,b,(V,Q)=>{this._tileJSONRequest=null,this._loaded=!0,V?(c&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${c}`),b&&b.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${b}`),this.fire(new n.ErrorEvent(V))):Q&&(n.extend(this,Q),Q.bounds&&(this.tileBounds=new ge(Q.bounds,this.minzoom,this.maxzoom)),n.postTurnstileEvent(Q.tiles,this.map._requestManager._customAccessToken),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"}))),D&&D(V)})}loaded(){return this._loaded}hasTile(D){return!this.tileBounds||this.tileBounds.contains(D.canonical)}onAdd(D){this.map=D,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>{const D=this.map.style._getSourceCaches(this.id);for(const c of D)c.clearTiles()})}setSourceProperty(D){D(),this.reload()}setTiles(D){return this._options.tiles=D,this.reload(),this}setUrl(D){return this.url=D,this._options.url=D,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return n.extend({},this._options)}loadTile(D,c){const b=this.map._requestManager.normalizeTileURL(D.tileID.canonical.url(this.tiles,this.scheme)),V={request:this.map._requestManager.transformRequest(b,n.ResourceType.Tile),data:void 0,uid:D.uid,tileID:D.tileID,tileZoom:D.tileZoom,zoom:D.tileID.overscaledZ,tileSize:this.tileSize*D.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:n.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:D.isSymbolTile};if(V.request.collectResourceTiming=this._collectResourceTiming,D.actor&&D.state!=="expired")D.state==="loading"?D.reloadCallback=c:D.request=D.actor.send("reloadTile",V,Q.bind(this));else if(D.actor=this._tileWorkers[b]=this._tileWorkers[b]||this.dispatcher.getActor(),this.dispatcher.ready)D.request=D.actor.send("loadTile",V,Q.bind(this),void 0,!0);else{const ae=n.loadVectorTile.call({deduped:this._deduped},V,(ve,ke)=>{ve||!ke?Q.call(this,ve):(V.data={cacheControl:ke.cacheControl,expires:ke.expires,rawData:ke.rawData.slice(0)},D.actor&&D.actor.send("loadTile",V,Q.bind(this),void 0,!0))},!0);D.request={cancel:ae}}function Q(ae,ve){return delete D.request,D.aborted?c(null):ae&&ae.status!==404?c(ae):(ve&&ve.resourceTiming&&(D.resourceTiming=ve.resourceTiming),this.map._refreshExpiredTiles&&ve&&D.setExpiryData(ve),D.loadVectorData(ve,this.map.painter),n.cacheEntryPossiblyAdded(this.dispatcher),c(null),void(D.reloadCallback&&(this.loadTile(D,D.reloadCallback),D.reloadCallback=null)))}}abortTile(D){D.request&&(D.request.cancel(),delete D.request),D.actor&&D.actor.send("abortTile",{uid:D.uid,type:this.type,source:this.id})}unloadTile(D){D.unloadVectorData(),D.actor&&D.actor.send("removeTile",{uid:D.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},raster:nt,"raster-dem":class extends nt{constructor(D,c,b,V){super(D,c,b,V),this.type="raster-dem",this.maxzoom=22,this._options=n.extend({type:"raster-dem"},c),this.encoding=c.encoding||"mapbox"}loadTile(D,c){const b=this.map._requestManager.normalizeTileURL(D.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function V(Q,ae){Q&&(D.state="errored",c(Q)),ae&&(D.dem=ae,D.dem.onDeserialize(),D.needsHillshadePrepare=!0,D.needsDEMTextureUpload=!0,D.state="loaded",c(null))}D.request=n.getImage(this.map._requestManager.transformRequest(b,n.ResourceType.Tile),(function(Q,ae,ve,ke){if(delete D.request,D.aborted)D.state="unloaded",c(null);else if(Q)D.state="errored",c(Q);else if(ae){this.map._refreshExpiredTiles&&D.setExpiryData({cacheControl:ve,expires:ke});const Te=n.window.ImageBitmap&&ae instanceof n.window.ImageBitmap&&(St==null&&(St=n.window.OffscreenCanvas&&new n.window.OffscreenCanvas(1,1).getContext("2d")&&typeof n.window.createImageBitmap=="function"),St),je=1-(ae.width-n.prevPowerOfTwo(ae.width))/2;je<1||D.neighboringTiles||(D.neighboringTiles=this._getNeighboringTiles(D.tileID));const Ne=Te?ae:n.exported.getImageData(ae,je),Ye={uid:D.uid,coord:D.tileID,source:this.id,rawImageData:Ne,encoding:this.encoding,padding:je};D.actor&&D.state!=="expired"||(D.actor=this.dispatcher.getActor(),D.actor.send("loadDEMTile",Ye,V.bind(this),void 0,!0))}}).bind(this))}_getNeighboringTiles(D){const c=D.canonical,b=Math.pow(2,c.z),V=(c.x-1+b)%b,Q=c.x===0?D.wrap-1:D.wrap,ae=(c.x+1+b)%b,ve=c.x+1===b?D.wrap+1:D.wrap,ke={};return ke[new n.OverscaledTileID(D.overscaledZ,Q,c.z,V,c.y).key]={backfilled:!1},ke[new n.OverscaledTileID(D.overscaledZ,ve,c.z,ae,c.y).key]={backfilled:!1},c.y>0&&(ke[new n.OverscaledTileID(D.overscaledZ,Q,c.z,V,c.y-1).key]={backfilled:!1},ke[new n.OverscaledTileID(D.overscaledZ,D.wrap,c.z,c.x,c.y-1).key]={backfilled:!1},ke[new n.OverscaledTileID(D.overscaledZ,ve,c.z,ae,c.y-1).key]={backfilled:!1}),c.y+1<b&&(ke[new n.OverscaledTileID(D.overscaledZ,Q,c.z,V,c.y+1).key]={backfilled:!1},ke[new n.OverscaledTileID(D.overscaledZ,D.wrap,c.z,c.x,c.y+1).key]={backfilled:!1},ke[new n.OverscaledTileID(D.overscaledZ,ve,c.z,ae,c.y+1).key]={backfilled:!1}),ke}unloadTile(D){D.demTexture&&this.map.painter.saveTileTexture(D.demTexture),D.fbo&&(D.fbo.destroy(),delete D.fbo),D.dem&&delete D.dem,delete D.neighboringTiles,D.state="unloaded"}},geojson:class extends n.Evented{constructor(D,c,b,V){super(),this.id=D,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=b.getActor(),this.setEventedParent(V),this._data=c.data,this._options=n.extend({},c),this._collectResourceTiming=c.collectResourceTiming,c.maxzoom!==void 0&&(this.maxzoom=c.maxzoom),c.type&&(this.type=c.type),c.attribution&&(this.attribution=c.attribution),this.promoteId=c.promoteId;const Q=n.EXTENT/this.tileSize;this.workerOptions=n.extend({source:this.id,cluster:c.cluster||!1,geojsonVtOptions:{buffer:(c.buffer!==void 0?c.buffer:128)*Q,tolerance:(c.tolerance!==void 0?c.tolerance:.375)*Q,extent:n.EXTENT,maxZoom:this.maxzoom,lineMetrics:c.lineMetrics||!1,generateId:c.generateId||!1},superclusterOptions:{maxZoom:c.clusterMaxZoom!==void 0?c.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,c.clusterMinPoints||2),extent:n.EXTENT,radius:(c.clusterRadius!==void 0?c.clusterRadius:50)*Q,log:!1,generateId:c.generateId||!1},clusterProperties:c.clusterProperties,filter:c.filter},c.workerOptions)}onAdd(D){this.map=D,this.setData(this._data)}setData(D){return this._data=D,this._updateWorkerData(),this}getClusterExpansionZoom(D,c){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:D,source:this.id},c),this}getClusterChildren(D,c){return this.actor.send("geojson.getClusterChildren",{clusterId:D,source:this.id},c),this}getClusterLeaves(D,c,b,V){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:D,limit:c,offset:b},V),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new n.Event("dataloading",{dataType:"source"})),this._loaded=!1;const D=n.extend({},this.workerOptions),c=this._data;typeof c=="string"?(D.request=this.map._requestManager.transformRequest(n.exported.resolveURL(c),n.ResourceType.Source),D.request.collectResourceTiming=this._collectResourceTiming):D.data=JSON.stringify(c),this._pendingLoad=this.actor.send(`${this.type}.loadData`,D,(b,V)=>{if(this._loaded=!0,this._pendingLoad=null,b)this.fire(new n.ErrorEvent(b));else{const Q={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&V&&V.resourceTiming&&V.resourceTiming[this.id]&&(Q.resourceTiming=V.resourceTiming[this.id]),this.fire(new n.Event("data",Q)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(D,c){const b=D.actor?"reloadTile":"loadTile";D.actor=this.actor,D.request=this.actor.send(b,{type:this.type,uid:D.uid,tileID:D.tileID,tileZoom:D.tileZoom,zoom:D.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:n.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(V,Q)=>(delete D.request,D.unloadVectorData(),D.aborted?c(null):V?c(V):(D.loadVectorData(Q,this.map.painter,b==="reloadTile"),c(null))),void 0,b==="loadTile")}abortTile(D){D.request&&(D.request.cancel(),delete D.request),D.aborted=!0}unloadTile(D){D.unloadVectorData(),this.actor.send("removeTile",{uid:D.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return n.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Tt{constructor(D,c,b,V){super(D,c,b,V),this.roundZoom=!0,this.type="video",this.options=c}load(){this._loaded=!1;const D=this.options;this.urls=[];for(const c of D.urls)this.urls.push(this.map._requestManager.transformRequest(c,n.ResourceType.Source).url);n.getVideo(this.urls,(c,b)=>{this._loaded=!0,c?this.fire(new n.ErrorEvent(c)):b&&(this.video=b,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(D){if(this.video){const c=this.video.seekable;D<c.start(0)||D>c.end(0)?this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${c.start(0)} and ${c.end(0)}-second mark.`))):this.video.currentTime=D}}getVideo(){return this.video}onAdd(D){this.map||(this.map=D,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const D=this.map.painter.context,c=D.gl;this.texture?this.video.paused||(this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),c.texSubImage2D(c.TEXTURE_2D,0,0,0,c.RGBA,c.UNSIGNED_BYTE,this.video)):(this.texture=new n.Texture(D,this.video,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(D)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Tt,canvas:class extends Tt{constructor(D,c,b,V){super(D,c,b,V),c.coordinates?Array.isArray(c.coordinates)&&c.coordinates.length===4&&!c.coordinates.some(Q=>!Array.isArray(Q)||Q.length!==2||Q.some(ae=>typeof ae!="number"))||this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${D}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${D}`,null,'missing required property "coordinates"'))),c.animate&&typeof c.animate!="boolean"&&this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${D}`,null,'optional "animate" property must be a boolean value'))),c.canvas?typeof c.canvas=="string"||c.canvas instanceof n.window.HTMLCanvasElement||this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${D}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${D}`,null,'missing required property "canvas"'))),this.options=c,this.animate=c.animate===void 0||c.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof n.window.HTMLCanvasElement?this.options.canvas:n.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new n.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(D){this.map=D,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let D=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,D=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,D=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const c=this.map.painter.context;this.texture?(D||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new n.Texture(c,this.canvas,c.gl.RGBA,{premultiply:!0}),this._prepareData(c)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const D of[this.canvas.width,this.canvas.height])if(isNaN(D)||D<=0)return!0;return!1}},custom:class extends n.Evented{constructor(D,c,b,V){super(),this.id=D,this.type="custom",this._dataType="raster",this._dispatcher=b,this._implementation=c,this.setEventedParent(V),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new n.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new n.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new ge(this._implementation.bounds,this.minzoom,this.maxzoom)),c.update=this._update.bind(this),c.clearTiles=this._clearTiles.bind(this),c.coveringTiles=this._coveringTiles.bind(this),n.extend(this,n.pick(c,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return n.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(D){this._map=D,this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(D),this.load()}onRemove(D){this._implementation.onRemove&&this._implementation.onRemove(D)}hasTile(D){if(this._implementation.hasTile){const{x:c,y:b,z:V}=D.canonical;return this._implementation.hasTile({x:c,y:b,z:V})}return!this.tileBounds||this.tileBounds.contains(D.canonical)}loadTile(D,c){const{x:b,y:V,z:Q}=D.tileID.canonical,ae=new n.window.AbortController;D.request=Promise.resolve(this._implementation.loadTile({x:b,y:V,z:Q},{signal:ae.signal})).then((function(ve){return delete D.request,D.aborted?(D.state="unloaded",c(null)):ve===void 0?(D.state="errored",c(null)):ve===null?(this.loadTileData(D,{width:this.tileSize,height:this.tileSize,data:null}),D.state="loaded",c(null)):function(ke){return ke instanceof n.window.ImageData||ke instanceof n.window.HTMLCanvasElement||ke instanceof n.window.ImageBitmap||ke instanceof n.window.HTMLImageElement}(ve)?(this.loadTileData(D,ve),D.state="loaded",void c(null)):(D.state="errored",c(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}).bind(this)).catch(ve=>{ve.code!==20&&(D.state="errored",c(ve))}),D.request.cancel=()=>ae.abort()}loadTileData(D,c){nt.loadTileData(D,c,this._map.painter)}unloadTileData(D){nt.unloadTileData(D,this._map.painter)}unloadTile(D,c){if(this.unloadTileData(D),this._implementation.unloadTile){const{x:b,y:V,z:Q}=D.tileID.canonical;this._implementation.unloadTile({x:b,y:V,z:Q})}c()}abortTile(D,c){D.request&&D.request.cancel&&(D.request.cancel(),delete D.request),c()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(D=>({x:D.canonical.x,y:D.canonical.y,z:D.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Lt=function(D,c,b,V){const Q=new Zt[c.type](D,c,b,V);if(Q.id!==D)throw new Error(`Expected Source id to be ${D} instead of ${Q.id}`);return n.bindAll(["load","abort","unload","serialize","prepare"],Q),Q};function Bt(D,c){const b=n.identity([]);return n.scale(b,b,[.5*D.width,.5*-D.height,1]),n.translate(b,b,[1,-1,0]),n.multiply(b,b,D.calculateProjMatrix(c.toUnwrapped())),Float32Array.from(b)}function Ze(D,c,b,V,Q,ae,ve,ke=!1){const Te=D.tilesIn(V,ve,ke);Te.sort(ri);const je=[];for(const Ye of Te)je.push({wrappedTileID:Ye.tile.tileID.wrapped().key,queryResults:Ye.tile.queryRenderedFeatures(c,b,D._state,Ye,Q,ae,Bt(D.transform,Ye.tile.tileID),ke)});const Ne=function(Ye){const lt={},_t={};for(const bt of Ye){const kt=bt.queryResults,ft=bt.wrappedTileID,yt=_t[ft]=_t[ft]||{};for(const Ct in kt){const xt=kt[Ct],Rt=yt[Ct]=yt[Ct]||{},Ht=lt[Ct]=lt[Ct]||[];for(const zt of xt)Rt[zt.featureIndex]||(Rt[zt.featureIndex]=!0,Ht.push(zt))}}return lt}(je);for(const Ye in Ne)Ne[Ye].forEach(lt=>{const _t=lt.feature,bt=_t.layer;bt&&bt.type!=="background"&&bt.type!=="sky"&&(_t.source=bt.source,bt["source-layer"]&&(_t.sourceLayer=bt["source-layer"]),_t.state=_t.id!==void 0?D.getFeatureState(bt["source-layer"],_t.id):{})});return Ne}function Vt(D,c){const b=D.getRenderableIds().map(ae=>D.getTileByID(ae)),V=[],Q={};for(let ae=0;ae<b.length;ae++){const ve=b[ae],ke=ve.tileID.canonical.key;Q[ke]||(Q[ke]=!0,ve.querySourceFeatures(V,c))}return V}function ri(D,c){const b=D.tileID,V=c.tileID;return b.overscaledZ-V.overscaledZ||b.canonical.y-V.canonical.y||b.wrap-V.wrap||b.canonical.x-V.canonical.x}function ti(){return Hl.workerClass!=null?new Hl.workerClass:new n.window.Worker(Hl.workerUrl)}const er="mapboxgl_preloaded_worker_pool";class oi{constructor(){this.active={}}acquire(c){if(!this.workers)for(this.workers=[];this.workers.length<oi.workerCount;)this.workers.push(new ti);return this.active[c]=!0,this.workers.slice()}release(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(b=>{b.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[er]}numActive(){return Object.keys(this.active).length}}let Ki;function si(){return Ki||(Ki=new oi),Ki}function gr(D,c){const b={};for(const V in D)V!=="ref"&&(b[V]=D[V]);return n.refProperties.forEach(V=>{V in c&&(b[V]=c[V])}),b}function Vi(D){D=D.slice();const c=Object.create(null);for(let b=0;b<D.length;b++)c[D[b].id]=D[b];for(let b=0;b<D.length;b++)"ref"in D[b]&&(D[b]=gr(D[b],c[D[b].ref]));return D}oi.workerCount=2;const nr={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Ur(D,c,b){b.push({command:nr.addSource,args:[D,c[D]]})}function Rr(D,c,b){c.push({command:nr.removeSource,args:[D]}),b[D]=!0}function zn(D,c,b,V){Rr(D,b,V),Ur(D,c,b)}function fa(D,c,b){let V;for(V in D[b])if(D[b].hasOwnProperty(V)&&V!=="data"&&!k(D[b][V],c[b][V]))return!1;for(V in c[b])if(c[b].hasOwnProperty(V)&&V!=="data"&&!k(D[b][V],c[b][V]))return!1;return!0}function In(D,c,b,V,Q,ae){let ve;for(ve in c=c||{},D=D||{})D.hasOwnProperty(ve)&&(k(D[ve],c[ve])||b.push({command:ae,args:[V,ve,c[ve],Q]}));for(ve in c)c.hasOwnProperty(ve)&&!D.hasOwnProperty(ve)&&(k(D[ve],c[ve])||b.push({command:ae,args:[V,ve,c[ve],Q]}))}function ki(D){return D.id}function an(D,c){return D[c.id]=c,D}class ta{constructor(c,b){this.reset(c,b)}reset(c,b){this.points=c||[],this._distances=[0];for(let V=1;V<this.points.length;V++)this._distances[V]=this._distances[V-1]+this.points[V].dist(this.points[V-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(b||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(c){if(this.points.length===1)return this.points[0];c=n.clamp(c,0,1);let b=1,V=this._distances[b];const Q=c*this.paddedLength+this.padding;for(;V<Q&&b<this._distances.length;)V=this._distances[++b];const ae=b-1,ve=this._distances[ae],ke=V-ve,Te=ke>0?(Q-ve)/ke:0;return this.points[ae].mult(1-Te).add(this.points[b].mult(Te))}}class ia{constructor(c,b,V){const Q=this.boxCells=[],ae=this.circleCells=[];this.xCellCount=Math.ceil(c/V),this.yCellCount=Math.ceil(b/V);for(let ve=0;ve<this.xCellCount*this.yCellCount;ve++)Q.push([]),ae.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=b,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/b,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(c,b,V,Q,ae){this._forEachCell(b,V,Q,ae,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(b),this.bboxes.push(V),this.bboxes.push(Q),this.bboxes.push(ae)}insertCircle(c,b,V,Q){this._forEachCell(b-Q,V-Q,b+Q,V+Q,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(b),this.circles.push(V),this.circles.push(Q)}_insertBoxCell(c,b,V,Q,ae,ve){this.boxCells[ae].push(ve)}_insertCircleCell(c,b,V,Q,ae,ve){this.circleCells[ae].push(ve)}_query(c,b,V,Q,ae,ve){if(V<0||c>this.width||Q<0||b>this.height)return!ae&&[];const ke=[];if(c<=0&&b<=0&&this.width<=V&&this.height<=Q){if(ae)return!0;for(let Te=0;Te<this.boxKeys.length;Te++)ke.push({key:this.boxKeys[Te],x1:this.bboxes[4*Te],y1:this.bboxes[4*Te+1],x2:this.bboxes[4*Te+2],y2:this.bboxes[4*Te+3]});for(let Te=0;Te<this.circleKeys.length;Te++){const je=this.circles[3*Te],Ne=this.circles[3*Te+1],Ye=this.circles[3*Te+2];ke.push({key:this.circleKeys[Te],x1:je-Ye,y1:Ne-Ye,x2:je+Ye,y2:Ne+Ye})}return ve?ke.filter(ve):ke}return this._forEachCell(c,b,V,Q,this._queryCell,ke,{hitTest:ae,seenUids:{box:{},circle:{}}},ve),ae?ke.length>0:ke}_queryCircle(c,b,V,Q,ae){const ve=c-V,ke=c+V,Te=b-V,je=b+V;if(ke<0||ve>this.width||je<0||Te>this.height)return!Q&&[];const Ne=[];return this._forEachCell(ve,Te,ke,je,this._queryCellCircle,Ne,{hitTest:Q,circle:{x:c,y:b,radius:V},seenUids:{box:{},circle:{}}},ae),Q?Ne.length>0:Ne}query(c,b,V,Q,ae){return this._query(c,b,V,Q,!1,ae)}hitTest(c,b,V,Q,ae){return this._query(c,b,V,Q,!0,ae)}hitTestCircle(c,b,V,Q){return this._queryCircle(c,b,V,!0,Q)}_queryCell(c,b,V,Q,ae,ve,ke,Te){const je=ke.seenUids,Ne=this.boxCells[ae];if(Ne!==null){const lt=this.bboxes;for(const _t of Ne)if(!je.box[_t]){je.box[_t]=!0;const bt=4*_t;if(c<=lt[bt+2]&&b<=lt[bt+3]&&V>=lt[bt+0]&&Q>=lt[bt+1]&&(!Te||Te(this.boxKeys[_t]))){if(ke.hitTest)return ve.push(!0),!0;ve.push({key:this.boxKeys[_t],x1:lt[bt],y1:lt[bt+1],x2:lt[bt+2],y2:lt[bt+3]})}}}const Ye=this.circleCells[ae];if(Ye!==null){const lt=this.circles;for(const _t of Ye)if(!je.circle[_t]){je.circle[_t]=!0;const bt=3*_t;if(this._circleAndRectCollide(lt[bt],lt[bt+1],lt[bt+2],c,b,V,Q)&&(!Te||Te(this.circleKeys[_t]))){if(ke.hitTest)return ve.push(!0),!0;{const kt=lt[bt],ft=lt[bt+1],yt=lt[bt+2];ve.push({key:this.circleKeys[_t],x1:kt-yt,y1:ft-yt,x2:kt+yt,y2:ft+yt})}}}}}_queryCellCircle(c,b,V,Q,ae,ve,ke,Te){const je=ke.circle,Ne=ke.seenUids,Ye=this.boxCells[ae];if(Ye!==null){const _t=this.bboxes;for(const bt of Ye)if(!Ne.box[bt]){Ne.box[bt]=!0;const kt=4*bt;if(this._circleAndRectCollide(je.x,je.y,je.radius,_t[kt+0],_t[kt+1],_t[kt+2],_t[kt+3])&&(!Te||Te(this.boxKeys[bt])))return ve.push(!0),!0}}const lt=this.circleCells[ae];if(lt!==null){const _t=this.circles;for(const bt of lt)if(!Ne.circle[bt]){Ne.circle[bt]=!0;const kt=3*bt;if(this._circlesCollide(_t[kt],_t[kt+1],_t[kt+2],je.x,je.y,je.radius)&&(!Te||Te(this.circleKeys[bt])))return ve.push(!0),!0}}}_forEachCell(c,b,V,Q,ae,ve,ke,Te){const je=this._convertToXCellCoord(c),Ne=this._convertToYCellCoord(b),Ye=this._convertToXCellCoord(V),lt=this._convertToYCellCoord(Q);for(let _t=je;_t<=Ye;_t++)for(let bt=Ne;bt<=lt;bt++)if(ae.call(this,c,b,V,Q,this.xCellCount*bt+_t,ve,ke,Te))return}_convertToXCellCoord(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))}_convertToYCellCoord(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))}_circlesCollide(c,b,V,Q,ae,ve){const ke=Q-c,Te=ae-b,je=V+ve;return je*je>ke*ke+Te*Te}_circleAndRectCollide(c,b,V,Q,ae,ve,ke){const Te=(ve-Q)/2,je=Math.abs(c-(Q+Te));if(je>Te+V)return!1;const Ne=(ke-ae)/2,Ye=Math.abs(b-(ae+Ne));if(Ye>Ne+V)return!1;if(je<=Te||Ye<=Ne)return!0;const lt=je-Te,_t=Ye-Ne;return lt*lt+_t*_t<=V*V}}const qo=Math.tan(85*Math.PI/180);function Ca(D,c,b,V,Q,ae,ve){const ke=n.create();if(b)if(ae.name==="globe"){const Te=n.calculateGlobeLabelMatrix(Q,c);n.multiply(ke,ke,Te)}else{const Te=L([],ve);ke[0]=Te[0],ke[1]=Te[1],ke[4]=Te[2],ke[5]=Te[3],V||n.rotateZ(ke,ke,Q.angle)}else n.multiply(ke,Q.labelPlaneMatrix,D);return ke}function Wo(D,c,b,V,Q,ae,ve){const ke=Ca(D,c,b,V,Q,ae,ve);return ae.name==="globe"&&b||(ke[2]=ke[6]=ke[10]=ke[14]=0),ke}function Do(D,c,b,V,Q,ae,ve){if(b){if(ae.name==="globe"){const ke=Ca(D,c,b,V,Q,ae,ve);return n.invert(ke,ke),n.multiply(ke,D,ke),ke}{const ke=n.clone(D),Te=n.identity([]);return Te[0]=ve[0],Te[1]=ve[1],Te[4]=ve[2],Te[5]=ve[3],n.multiply(ke,ke,Te),V||n.rotateZ(ke,ke,-Q.angle),ke}}return Q.glCoordMatrix}function ra(D,c,b,V){const Q=[D,c,b,1];b?n.transformMat4$1(Q,Q,V):An(Q,Q,V);const ae=Q[3];return Q[0]/=ae,Q[1]/=ae,Q[2]/=ae,Q}function ir(D,c){return Math.min(.5+D/c*.5,1.5)}function qr(D,c){const b=D[0]/D[3],V=D[1]/D[3];return b>=-c[0]&&b<=c[0]&&V>=-c[1]&&V<=c[1]}function tn(D,c,b,V,Q,ae,ve,ke,Te,je){const Ne=b.transform,Ye=V?D.textSizeData:D.iconSizeData,lt=n.evaluateSizeForZoom(Ye,b.transform.zoom),_t=Ne.projection.name==="globe",bt=[256/b.width*2+1,256/b.height*2+1],kt=V?D.text.dynamicLayoutVertexArray:D.icon.dynamicLayoutVertexArray;kt.clear();let ft=null;_t&&(ft=V?D.text.globeExtVertexArray:D.icon.globeExtVertexArray);const yt=D.lineVertexArray,Ct=V?D.text.placedSymbolArray:D.icon.placedSymbolArray,xt=b.transform.width/b.transform.height;let Rt,Ht=!1;for(let zt=0;zt<Ct.length;zt++){const Jt=Ct.get(zt),{numGlyphs:yi,writingMode:di}=Jt;if(di!==n.WritingMode.vertical||Ht||Rt===n.WritingMode.horizontal||(Ht=!0),Rt=di,(Jt.hidden||di===n.WritingMode.vertical)&&!Ht){ua(yi,kt);continue}Ht=!1;const ni=new n.pointGeometry(Jt.tileAnchorX,Jt.tileAnchorY);let{x:ji,y:ui,z:Oi}=Ne.projection.projectTilePoint(ni.x,ni.y,je.canonical);if(Te){const[Sr,_r,Lr]=Te(ni);ji+=Sr,ui+=_r,Oi+=Lr}const Si=[ji,ui,Oi,1];if(n.transformMat4$1(Si,Si,c),!qr(Si,bt)){ua(yi,kt);continue}const Hi=ir(b.transform.cameraToCenterDistance,Si[3]),Ai=n.evaluateSizeForFeature(Ye,lt,Jt),Bi=ve?Ai/Hi:Ai*Hi,Yi=ra(ji,ui,Oi,Q);if(Yi[3]<=0){ua(yi,kt);continue}let ai={};const bi=ve?null:Te,vr=Tr(Jt,Bi,!1,ke,c,Q,ae,D.glyphOffsetArray,yt,kt,ft,Yi,ni,ai,xt,bi,Ne.projection,je,ve);Ht=vr.useVertical,bi&&vr.needsFlipping&&(ai={}),(vr.notEnoughRoom||Ht||vr.needsFlipping&&Tr(Jt,Bi,!0,ke,c,Q,ae,D.glyphOffsetArray,yt,kt,ft,Yi,ni,ai,xt,bi,Ne.projection,je,ve).notEnoughRoom)&&ua(yi,kt)}V?(D.text.dynamicLayoutVertexBuffer.updateData(kt),ft&&D.text.globeExtVertexBuffer.updateData(ft)):(D.icon.dynamicLayoutVertexBuffer.updateData(kt),ft&&D.icon.globeExtVertexBuffer.updateData(ft))}function Fa(D,c,b,V,Q,ae,ve,ke,Te,je,Ne,Ye,lt,_t,bt,kt){const{lineStartIndex:ft,glyphStartIndex:yt,segment:Ct}=ke,xt=yt+ke.numGlyphs,Rt=ft+ke.lineLength,Ht=c.getoffsetX(yt),zt=c.getoffsetX(xt-1),Jt=So(D*Ht,b,V,Q,ae,ve,Ct,ft,Rt,Te,je,Ne,Ye,lt,!0,_t,bt,kt);if(!Jt)return null;const yi=So(D*zt,b,V,Q,ae,ve,Ct,ft,Rt,Te,je,Ne,Ye,lt,!0,_t,bt,kt);return yi?{first:Jt,last:yi}:null}function wo(D,c,b,V){return D===n.WritingMode.horizontal&&Math.abs(V)>Math.abs(b)?{useVertical:!0}:D===n.WritingMode.vertical?V>0?{needsFlipping:!0}:null:c!==0&&function(Q,ae){return Q===0||Math.abs(ae/Q)>qo}(b,V)?c===1?{needsFlipping:!0}:null:b<0?{needsFlipping:!0}:null}function Tr(D,c,b,V,Q,ae,ve,ke,Te,je,Ne,Ye,lt,_t,bt,kt,ft,yt,Ct){const xt=c/24,Rt=D.lineOffsetX*xt,Ht=D.lineOffsetY*xt,{lineStartIndex:zt,glyphStartIndex:Jt,numGlyphs:yi,segment:di,writingMode:ni,flipState:ji}=D,ui=zt+D.lineLength,Oi=Si=>{if(Ne){const[Yi,ai,bi]=Si.up,vr=je.length;n.updateGlobeVertexNormal(Ne,vr+0,Yi,ai,bi),n.updateGlobeVertexNormal(Ne,vr+1,Yi,ai,bi),n.updateGlobeVertexNormal(Ne,vr+2,Yi,ai,bi),n.updateGlobeVertexNormal(Ne,vr+3,Yi,ai,bi)}const[Hi,Ai,Bi]=Si.point;n.addDynamicAttributes(je,Hi,Ai,Bi,Si.angle)};if(yi>1){const Si=Fa(xt,ke,Rt,Ht,b,Ye,lt,D,Te,ae,_t,kt,!1,ft,yt,Ct);if(!Si)return{notEnoughRoom:!0};if(V&&!b){let[Hi,Ai,Bi]=Si.first.point,[Yi,ai,bi]=Si.last.point;[Hi,Ai]=ra(Hi,Ai,Bi,ve),[Yi,ai]=ra(Yi,ai,bi,ve);const vr=wo(ni,ji,(Yi-Hi)*bt,ai-Ai);if(D.flipState=vr&&vr.needsFlipping?1:2,vr)return vr}Oi(Si.first);for(let Hi=Jt+1;Hi<Jt+yi-1;Hi++){const Ai=So(xt*ke.getoffsetX(Hi),Rt,Ht,b,Ye,lt,di,zt,ui,Te,ae,_t,kt,!1,!1,ft,yt,Ct);if(!Ai)return je.length-=4*(Hi-Jt),{notEnoughRoom:!0};Oi(Ai)}Oi(Si.last)}else{if(V&&!b){const Hi=ra(lt.x,lt.y,0,Q),Ai=zt+di+1,Bi=new n.pointGeometry(Te.getx(Ai),Te.gety(Ai)),Yi=ra(Bi.x,Bi.y,0,Q),ai=Yi[3]>0?Yi:io(lt,Bi,Hi,1,Q,void 0,ft,yt.canonical),bi=wo(ni,ji,(ai[0]-Hi[0])*bt,ai[1]-Hi[1]);if(D.flipState=bi&&bi.needsFlipping?1:2,bi)return bi}const Si=So(xt*ke.getoffsetX(Jt),Rt,Ht,b,Ye,lt,di,zt,ui,Te,ae,_t,kt,!1,!1,ft,yt,Ct);if(!Si)return{notEnoughRoom:!0};Oi(Si)}return{}}function Lo(D,c,b,V,Q){const{x:ae,y:ve,z:ke}=V.projectTilePoint(D.x,D.y,c);if(!Q)return ra(ae,ve,ke,b);const[Te,je,Ne]=Q(D);return ra(ae+Te,ve+je,ke+Ne,b)}function io(D,c,b,V,Q,ae,ve,ke){const Te=Lo(D.sub(c)._unit()._add(D),ke,Q,ve,ae);return n.sub(Te,b,Te),n.normalize(Te,Te),n.scaleAndAdd(Te,b,Te,V)}function So(D,c,b,V,Q,ae,ve,ke,Te,je,Ne,Ye,lt,_t,bt,kt,ft,yt){const Ct=V?D-c:D+c;let xt=Ct>0?1:-1,Rt=0;V&&(xt*=-1,Rt=Math.PI),xt<0&&(Rt+=Math.PI);let Ht=ke+ve+(xt>0?0:1)|0,zt=Q,Jt=Q,yi=0,di=0;const ni=Math.abs(Ct),ji=[],ui=[];let Oi=ae,Si=Oi;const Hi=()=>io(Si,Oi,Jt,ni-yi+1,Ne,lt,kt,ft.canonical);for(;yi+di<=ni;){if(Ht+=xt,Ht<ke||Ht>=Te)return null;if(Jt=zt,Si=Oi,ji.push(Jt),_t&&ui.push(Si),Oi=new n.pointGeometry(je.getx(Ht),je.gety(Ht)),zt=Ye[Ht],!zt){const Lr=Lo(Oi,ft.canonical,Ne,kt,lt);zt=Lr[3]>0?Ye[Ht]=Lr:Hi()}yi+=di,di=n.distance(Jt,zt)}bt&&lt&&(Ye[Ht]&&(zt=Hi(),di=n.distance(Jt,zt)),Ye[Ht]=zt);const Ai=(ni-yi)/di,Bi=Oi.sub(Si)._mult(Ai)._add(Si),Yi=n.sub([],zt,Jt),ai=n.scaleAndAdd([],Jt,Yi,Ai);let bi=[0,0,1],vr=Yi[0],Sr=Yi[1];if(yt&&(bi=kt.upVector(ft.canonical,Bi.x,Bi.y),bi[0]!==0||bi[1]!==0||bi[2]!==1)){const Lr=[bi[2],0,-bi[0]],on=n.cross([],bi,Lr);n.normalize(Lr,Lr),n.normalize(on,on),vr=n.dot(Yi,Lr),Sr=n.dot(Yi,on)}if(b){const Lr=n.cross([],bi,Yi);n.normalize(Lr,Lr),n.scaleAndAdd(ai,ai,Lr,b*xt)}const _r=Rt+Math.atan2(Sr,vr);return ji.push(ai),_t&&ui.push(Bi),{point:ai,angle:_r,path:ji,tilePath:ui,up:bi}}function ua(D,c){const b=c.length,V=b+4*D;c.resize(V),c.float32.fill(-1/0,4*b,4*V)}function An(D,c,b){const V=c[0],Q=c[1];return D[0]=b[0]*V+b[4]*Q+b[12],D[1]=b[1]*V+b[5]*Q+b[13],D[3]=b[3]*V+b[7]*Q+b[15],D}const Aa=100;class Ra{constructor(c,b,V=new ia(c.width+200,c.height+200,25),Q=new ia(c.width+200,c.height+200,25)){this.transform=c,this.grid=V,this.ignoredGrid=Q,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+Aa,this.screenBottomBoundary=c.height+Aa,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200,this.fogState=b}placeCollisionBox(c,b,V,Q,ae,ve,ke,Te){let je=V.projectedAnchorX,Ne=V.projectedAnchorY,Ye=V.projectedAnchorZ;const lt=V.elevation,_t=V.tileID,bt=c.getProjection();if(lt&&_t){const[zt,Jt,yi]=bt.upVector(_t.canonical,V.tileAnchorX,V.tileAnchorY),di=bt.upVectorScale(_t.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;je+=zt*lt*di,Ne+=Jt*lt*di,Ye+=yi*lt*di}const kt=this.projectAndGetPerspectiveRatio(ke,je,Ne,Ye,V.tileID,bt.name==="globe"||!!lt||this.transform.pitch>0,bt),ft=ve*kt.perspectiveRatio,yt=(V.x1*b+Q.x-V.padding)*ft+kt.point.x,Ct=(V.y1*b+Q.y-V.padding)*ft+kt.point.y,xt=(V.x2*b+Q.x+V.padding)*ft+kt.point.x,Rt=(V.y2*b+Q.y+V.padding)*ft+kt.point.y,Ht=kt.perspectiveRatio<=.55||kt.occluded;return!this.isInsideGrid(yt,Ct,xt,Rt)||!ae&&this.grid.hitTest(yt,Ct,xt,Rt,Te)||Ht?{box:[],offscreen:!1,occluded:kt.occluded}:{box:[yt,Ct,xt,Rt],offscreen:this.isOffscreen(yt,Ct,xt,Rt),occluded:!1}}placeCollisionCircles(c,b,V,Q,ae,ve,ke,Te,je,Ne,Ye,lt,_t,bt,kt){const ft=[],yt=this.transform.elevation,Ct=c.getProjection(),xt=yt?yt.getAtTileOffsetFunc(kt,this.transform.center.lat,this.transform.worldSize,Ct):null,Rt=new n.pointGeometry(V.tileAnchorX,V.tileAnchorY);let{x:Ht,y:zt,z:Jt}=Ct.projectTilePoint(Rt.x,Rt.y,kt.canonical);if(xt){const[Bi,Yi,ai]=xt(Rt);Ht+=Bi,zt+=Yi,Jt+=ai}const yi=Ct.name==="globe",di=this.projectAndGetPerspectiveRatio(ke,Ht,zt,Jt,kt,yi||!!yt||this.transform.pitch>0,Ct),{perspectiveRatio:ni}=di,ji=(Ye?ve/ni:ve*ni)/n.ONE_EM,ui=ra(Ht,zt,Jt,Te),Oi=di.signedDistanceFromCamera>0?Fa(ji,ae,V.lineOffsetX*ji,V.lineOffsetY*ji,!1,ui,Rt,V,Q,Te,{},yt&&!Ye?xt:null,Ye&&!!yt,Ct,kt,Ye):null;let Si=!1,Hi=!1,Ai=!0;if(Oi&&!di.occluded){const Bi=.5*_t*ni+bt,Yi=new n.pointGeometry(-100,-100),ai=new n.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),bi=new ta,{first:vr,last:Sr}=Oi,_r=vr.path.length;let Lr=[];for(let mr=_r-1;mr>=1;mr--)Lr.push(vr.path[mr]);for(let mr=1;mr<Sr.path.length;mr++)Lr.push(Sr.path[mr]);const on=2.5*Bi;je&&(Lr=Lr.map(([mr,jn,Mn],Gn)=>(xt&&!yi&&(Mn=xt(Gn<_r-1?vr.tilePath[_r-1-Gn]:Sr.tilePath[Gn-_r+2])[2]),ra(mr,jn,Mn,je))),Lr.some(mr=>mr[3]<=0)&&(Lr=[]));let Ar=[];if(Lr.length>0){let mr=1/0,jn=-1/0,Mn=1/0,Gn=-1/0;for(const Bn of Lr)mr=Math.min(mr,Bn[0]),Mn=Math.min(Mn,Bn[1]),jn=Math.max(jn,Bn[0]),Gn=Math.max(Gn,Bn[1]);jn>=Yi.x&&mr<=ai.x&&Gn>=Yi.y&&Mn<=ai.y&&(Ar=[Lr.map(Bn=>new n.pointGeometry(Bn[0],Bn[1]))],(mr<Yi.x||jn>ai.x||Mn<Yi.y||Gn>ai.y)&&(Ar=n.clipLine(Ar,Yi.x,Yi.y,ai.x,ai.y)))}for(const mr of Ar){bi.reset(mr,.25*Bi);let jn=0;jn=bi.length<=.5*Bi?1:Math.ceil(bi.paddedLength/on)+1;for(let Mn=0;Mn<jn;Mn++){const Gn=Mn/Math.max(jn-1,1),Bn=bi.lerp(Gn),ns=Bn.x+Aa,jo=Bn.y+Aa;ft.push(ns,jo,Bi,0);const Po=ns-Bi,Hs=jo-Bi,Zn=ns+Bi,Fn=jo+Bi;if(Ai=Ai&&this.isOffscreen(Po,Hs,Zn,Fn),Hi=Hi||this.isInsideGrid(Po,Hs,Zn,Fn),!b&&this.grid.hitTestCircle(ns,jo,Bi,lt)&&(Si=!0,!Ne))return{circles:[],offscreen:!1,collisionDetected:Si,occluded:!1}}}}return{circles:!Ne&&Si||!Hi?[]:ft,offscreen:Ai,collisionDetected:Si,occluded:di.occluded}}queryRenderedSymbols(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const b=[];let V=1/0,Q=1/0,ae=-1/0,ve=-1/0;for(const Ne of c){const Ye=new n.pointGeometry(Ne.x+Aa,Ne.y+Aa);V=Math.min(V,Ye.x),Q=Math.min(Q,Ye.y),ae=Math.max(ae,Ye.x),ve=Math.max(ve,Ye.y),b.push(Ye)}const ke=this.grid.query(V,Q,ae,ve).concat(this.ignoredGrid.query(V,Q,ae,ve)),Te={},je={};for(const Ne of ke){const Ye=Ne.key;if(Te[Ye.bucketInstanceId]===void 0&&(Te[Ye.bucketInstanceId]={}),Te[Ye.bucketInstanceId][Ye.featureIndex])continue;const lt=[new n.pointGeometry(Ne.x1,Ne.y1),new n.pointGeometry(Ne.x2,Ne.y1),new n.pointGeometry(Ne.x2,Ne.y2),new n.pointGeometry(Ne.x1,Ne.y2)];n.polygonIntersectsPolygon(b,lt)&&(Te[Ye.bucketInstanceId][Ye.featureIndex]=!0,je[Ye.bucketInstanceId]===void 0&&(je[Ye.bucketInstanceId]=[]),je[Ye.bucketInstanceId].push(Ye.featureIndex))}return je}insertCollisionBox(c,b,V,Q,ae){(b?this.ignoredGrid:this.grid).insert({bucketInstanceId:V,featureIndex:Q,collisionGroupID:ae},c[0],c[1],c[2],c[3])}insertCollisionCircles(c,b,V,Q,ae){const ve=b?this.ignoredGrid:this.grid,ke={bucketInstanceId:V,featureIndex:Q,collisionGroupID:ae};for(let Te=0;Te<c.length;Te+=4)ve.insertCircle(ke,c[Te],c[Te+1],c[Te+2])}projectAndGetPerspectiveRatio(c,b,V,Q,ae,ve,ke){const Te=[b,V,Q,1];let je=!1;if(Q||this.transform.pitch>0){n.transformMat4$1(Te,Te,c);const Ye=ke.name==="globe";this.fogState&&ae&&!Ye&&(je=function(_t,bt,kt,ft,yt,Ct){const xt=Ct.calculateFogTileMatrix(yt),Rt=[bt,kt,ft];return n.transformMat4(Rt,Rt,xt),X(_t,Rt,Ct.pitch,Ct._fov)}(this.fogState,b,V,Q,ae.toUnwrapped(),this.transform)>.9)}else An(Te,Te,c);const Ne=Te[3];return{point:new n.pointGeometry((Te[0]/Ne+1)/2*this.transform.width+Aa,(-Te[1]/Ne+1)/2*this.transform.height+Aa),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(ke)/Ne*.5,1.5),signedDistanceFromCamera:Ne,occluded:ve&&Te[2]>Ne||je}}isOffscreen(c,b,V,Q){return V<Aa||c>=this.screenRightBoundary||Q<Aa||b>this.screenBottomBoundary}isInsideGrid(c,b,V,Q){return V>=0&&c<this.gridRightBoundary&&Q>=0&&b<this.gridBottomBoundary}getViewportMatrix(){const c=n.identity([]);return n.translate(c,c,[-100,-100,0]),c}}function Yo(D,c,b){const V=c.createTileMatrix(D,D.worldSize,b.toUnwrapped());return n.multiply(new Float32Array(16),D.projMatrix,V)}function ro(D,c,b){if(c.projection.name===b.projection.name)return D.projMatrix;const V=b.clone();return V.setProjection(c.projection),Yo(V,c.getProjection(),D)}function Xo(D,c,b){return c.name===b.projection.name?D.projMatrix:Yo(b,c,D)}class Zo{constructor(c,b,V,Q){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?b:-b))):Q&&V?1:0,this.placed=V}isHidden(){return this.opacity===0&&!this.placed}}class Bo{constructor(c,b,V,Q,ae,ve=!1){this.text=new Zo(c?c.text:null,b,V,ae),this.icon=new Zo(c?c.icon:null,b,Q,ae),this.clipped=ve}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Fo{constructor(c,b,V,Q=!1){this.text=c,this.icon=b,this.skipFade=V,this.clipped=Q}}class As{constructor(){this.invProjMatrix=n.create(),this.viewportMatrix=n.create(),this.circles=[]}}class Ko{constructor(c,b,V,Q,ae){this.bucketInstanceId=c,this.featureIndex=b,this.sourceLayerIndex=V,this.bucketIndex=Q,this.tileID=ae}}class pa{constructor(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}}get(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){const b=++this.maxGroupID;this.collisionGroups[c]={ID:b,predicate:V=>V.collisionGroupID===b}}return this.collisionGroups[c]}}function Hn(D,c,b,V,Q){const{horizontalAlign:ae,verticalAlign:ve}=n.getAnchorAlignment(D),ke=-(ae-.5)*c,Te=-(ve-.5)*b,je=n.evaluateVariableOffset(D,V);return new n.pointGeometry(ke+je[0]*Q,Te+je[1]*Q)}function ko(D,c,b,V,Q){const ae=new n.pointGeometry(D,c);return b&&ae._rotate(V?Q:-Q),ae}class no{constructor(c,b,V,Q,ae){this.transform=c.clone(),this.projection=c.projection.name,this.collisionIndex=new Ra(this.transform,ae),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=b,this.retainedQueryData={},this.collisionGroups=new pa(V),this.collisionCircleArrays={},this.prevPlacement=Q,Q&&(Q.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(c,b,V,Q){const ae=V.getBucket(b),ve=V.latestFeatureIndex;if(!ae||!ve||b.id!==ae.layerIds[0])return;const ke=ae.layers[0].layout,Te=V.collisionBoxArray,je=Math.pow(2,this.transform.zoom-V.tileID.overscaledZ),Ne=V.tileSize/n.EXTENT,Ye=V.tileID.toUnwrapped();this.transform.setProjection(ae.projection);const lt=(_t=V.tileID,bt=ae.getProjection(),kt=this.transform,bt.name===this.projection?kt.calculateProjMatrix(_t.toUnwrapped()):Yo(kt,bt,_t));var _t,bt,kt;const ft=ke.get("text-pitch-alignment")==="map",yt=ke.get("text-rotation-alignment")==="map";b.compileFilter();const Ct=b.dynamicFilter(),xt=b.dynamicFilterNeedsFeature(),Rt=this.transform.calculatePixelsToTileUnitsMatrix(V),Ht=Wo(lt,V.tileID.canonical,ft,yt,this.transform,ae.getProjection(),Rt);let zt=null;if(ft){const di=Do(lt,V.tileID.canonical,ft,yt,this.transform,ae.getProjection(),Rt);zt=n.multiply([],this.transform.labelPlaneMatrix,di)}let Jt=null;Ct&&V.latestFeatureIndex&&(Jt={unwrappedTileID:Ye,dynamicFilter:Ct,dynamicFilterNeedsFeature:xt,featureIndex:V.latestFeatureIndex}),this.retainedQueryData[ae.bucketInstanceId]=new Ko(ae.bucketInstanceId,ve,ae.sourceLayerIndex,ae.index,V.tileID);const yi={bucket:ae,layout:ke,posMatrix:lt,textLabelPlaneMatrix:Ht,labelToScreenMatrix:zt,clippingData:Jt,scale:je,textPixelRatio:Ne,holdingForFade:V.holdingForFade(),collisionBoxArray:Te,partiallyEvaluatedTextSize:n.evaluateSizeForZoom(ae.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:n.evaluateSizeForZoom(ae.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(ae.sourceID)};if(Q)for(const di of ae.sortKeyRanges){const{sortKey:ni,symbolInstanceStart:ji,symbolInstanceEnd:ui}=di;c.push({sortKey:ni,symbolInstanceStart:ji,symbolInstanceEnd:ui,parameters:yi})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:ae.symbolInstances.length,parameters:yi})}attemptAnchorPlacement(c,b,V,Q,ae,ve,ke,Te,je,Ne,Ye,lt,_t,bt,kt,ft,yt,Ct){const{textOffset0:xt,textOffset1:Rt,crossTileID:Ht}=lt,zt=[xt,Rt],Jt=Hn(c,V,Q,zt,ae),yi=this.collisionIndex.placeCollisionBox(bt,ae,b,ko(Jt.x,Jt.y,ve,ke,this.transform.angle),Ye,Te,je,Ne.predicate);if(ft){const di=bt.getSymbolInstanceIconSize(Ct,this.transform.zoom,lt.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(bt,di,ft,ko(Jt.x,Jt.y,ve,ke,this.transform.angle),Ye,Te,je,Ne.predicate).box.length===0)return}if(yi.box.length>0){let di;return this.prevPlacement&&this.prevPlacement.variableOffsets[Ht]&&this.prevPlacement.placements[Ht]&&this.prevPlacement.placements[Ht].text&&(di=this.prevPlacement.variableOffsets[Ht].anchor),this.variableOffsets[Ht]={textOffset:zt,width:V,height:Q,anchor:c,textScale:ae,prevAnchor:di},this.markUsedJustification(bt,c,lt,kt),bt.allowVerticalPlacement&&(this.markUsedOrientation(bt,kt,lt),this.placedOrientations[Ht]=kt),{shift:Jt,placedGlyphBoxes:yi}}}placeLayerBucketPart(c,b,V,Q){const{bucket:ae,layout:ve,posMatrix:ke,textLabelPlaneMatrix:Te,labelToScreenMatrix:je,clippingData:Ne,textPixelRatio:Ye,holdingForFade:lt,collisionBoxArray:_t,partiallyEvaluatedTextSize:bt,partiallyEvaluatedIconSize:kt,collisionGroup:ft}=c.parameters,yt=ve.get("text-optional"),Ct=ve.get("icon-optional"),xt=ve.get("text-allow-overlap"),Rt=ve.get("icon-allow-overlap"),Ht=ve.get("text-rotation-alignment")==="map",zt=ve.get("text-pitch-alignment")==="map",Jt=ve.get("icon-text-fit")!=="none",yi=ve.get("symbol-z-order")==="viewport-y";this.transform.setProjection(ae.projection);let di=xt&&(Rt||!ae.hasIconData()||Ct),ni=Rt&&(xt||!ae.hasTextData()||yt);!ae.collisionArrays&&_t&&ae.deserializeCollisionBoxes(_t),V&&Q&&ae.updateCollisionDebugBuffers(this.transform.zoom,_t);const ji=(ui,Oi,Si)=>{const{crossTileID:Hi,numVerticalGlyphVertices:Ai}=ui;if(Ne){const Zn={zoom:this.transform.zoom,pitch:this.transform.pitch};let Fn=null;if(Ne.dynamicFilterNeedsFeature){const Tn=this.retainedQueryData[ae.bucketInstanceId];Fn=Ne.featureIndex.loadFeature({featureIndex:ui.featureIndex,bucketIndex:Tn.bucketIndex,sourceLayerIndex:Tn.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,Ne.dynamicFilter)(Zn,Fn,this.retainedQueryData[ae.bucketInstanceId].tileID.canonical,new n.pointGeometry(ui.tileAnchorX,ui.tileAnchorY),this.transform.calculateDistanceTileData(Ne.unwrappedTileID)))return this.placements[Hi]=new Fo(!1,!1,!1,!0),void(b[Hi]=!0)}if(b[Hi])return;if(lt)return void(this.placements[Hi]=new Fo(!1,!1,!1));let Bi=!1,Yi=!1,ai=!0,bi=!1,vr=!1,Sr=null,_r={box:null,offscreen:null,occluded:null},Lr={box:null,offscreen:null,occluded:null},on=null,Ar=null,mr=null,jn=0,Mn=0,Gn=0;Si.textFeatureIndex?jn=Si.textFeatureIndex:ui.useRuntimeCollisionCircles&&(jn=ui.featureIndex),Si.verticalTextFeatureIndex&&(Mn=Si.verticalTextFeatureIndex);const Bn=Zn=>{Zn.tileID=this.retainedQueryData[ae.bucketInstanceId].tileID;const Fn=this.transform.elevation;(Fn||Zn.elevation)&&(Zn.elevation=Fn?Fn.getAtTileOffset(Zn.tileID,Zn.tileAnchorX,Zn.tileAnchorY):0)},ns=Si.textBox;if(ns){Bn(ns);const Zn=Tn=>{let Pa=n.WritingMode.horizontal;if(ae.allowVerticalPlacement&&!Tn&&this.prevPlacement){const vo=this.prevPlacement.placedOrientations[Hi];vo&&(this.placedOrientations[Hi]=vo,Pa=vo,this.markUsedOrientation(ae,Pa,ui))}return Pa},Fn=(Tn,Pa)=>{if(ae.allowVerticalPlacement&&Ai>0&&Si.verticalTextBox){for(const vo of ae.writingModes)if(vo===n.WritingMode.vertical?(_r=Pa(),Lr=_r):_r=Tn(),_r&&_r.box&&_r.box.length)break}else _r=Tn()};if(ve.get("text-variable-anchor")){let Tn=ve.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Hi]){const Kn=this.prevPlacement.variableOffsets[Hi];Tn.indexOf(Kn.anchor)>0&&(Tn=Tn.filter(Mo=>Mo!==Kn.anchor),Tn.unshift(Kn.anchor))}const Pa=(Kn,Mo,Ac)=>{const qs=ae.getSymbolInstanceTextSize(bt,ui,this.transform.zoom,Oi),_o=(Kn.x2-Kn.x1)*qs+2*Kn.padding,os=(Kn.y2-Kn.y1)*qs+2*Kn.padding,nl=Jt&&!Rt?Mo:null;nl&&Bn(nl);let Os={box:[],offscreen:!1,occluded:!1};const dn=xt?2*Tn.length:Tn.length;for(let uc=0;uc<dn;++uc){const al=this.attemptAnchorPlacement(Tn[uc%Tn.length],Kn,_o,os,qs,Ht,zt,Ye,ke,ft,uc>=Tn.length,ui,Oi,ae,Ac,nl,bt,kt);if(al&&(Os=al.placedGlyphBoxes,Os&&Os.box&&Os.box.length)){Bi=!0,Sr=al.shift;break}}return Os};Fn(()=>Pa(ns,Si.iconBox,n.WritingMode.horizontal),()=>{const Kn=Si.verticalTextBox;return Kn&&Bn(Kn),ae.allowVerticalPlacement&&!(_r&&_r.box&&_r.box.length)&&Ai>0&&Kn?Pa(Kn,Si.verticalIconBox,n.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),_r&&(Bi=_r.box,ai=_r.offscreen,bi=_r.occluded);const vo=Zn(_r&&_r.box);if(!Bi&&this.prevPlacement){const Kn=this.prevPlacement.variableOffsets[Hi];Kn&&(this.variableOffsets[Hi]=Kn,this.markUsedJustification(ae,Kn.anchor,ui,vo))}}else{const Tn=(Pa,vo)=>{const Kn=ae.getSymbolInstanceTextSize(bt,ui,this.transform.zoom,Oi),Mo=this.collisionIndex.placeCollisionBox(ae,Kn,Pa,new n.pointGeometry(0,0),xt,Ye,ke,ft.predicate);return Mo&&Mo.box&&Mo.box.length&&(this.markUsedOrientation(ae,vo,ui),this.placedOrientations[Hi]=vo),Mo};Fn(()=>Tn(ns,n.WritingMode.horizontal),()=>{const Pa=Si.verticalTextBox;return ae.allowVerticalPlacement&&Ai>0&&Pa?(Bn(Pa),Tn(Pa,n.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),Zn(_r&&_r.box&&_r.box.length)}}if(on=_r,Bi=on&&on.box&&on.box.length>0,ai=on&&on.offscreen,bi=on&&on.occluded,ui.useRuntimeCollisionCircles){const Zn=ae.text.placedSymbolArray.get(ui.centerJustifiedTextSymbolIndex>=0?ui.centerJustifiedTextSymbolIndex:ui.verticalPlacedTextSymbolIndex),Fn=n.evaluateSizeForFeature(ae.textSizeData,bt,Zn),Tn=ve.get("text-padding");Ar=this.collisionIndex.placeCollisionCircles(ae,xt,Zn,ae.lineVertexArray,ae.glyphOffsetArray,Fn,ke,Te,je,V,zt,ft.predicate,ui.collisionCircleDiameter*Fn/n.ONE_EM,Tn,this.retainedQueryData[ae.bucketInstanceId].tileID),Bi=xt||Ar.circles.length>0&&!Ar.collisionDetected,ai=ai&&Ar.offscreen,bi=Ar.occluded}if(Si.iconFeatureIndex&&(Gn=Si.iconFeatureIndex),Si.iconBox){const Zn=Fn=>{Bn(Fn);const Tn=Jt&&Sr?ko(Sr.x,Sr.y,Ht,zt,this.transform.angle):new n.pointGeometry(0,0),Pa=ae.getSymbolInstanceIconSize(kt,this.transform.zoom,ui.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(ae,Pa,Fn,Tn,Rt,Ye,ke,ft.predicate)};Lr&&Lr.box&&Lr.box.length&&Si.verticalIconBox?(mr=Zn(Si.verticalIconBox),Yi=mr.box.length>0):(mr=Zn(Si.iconBox),Yi=mr.box.length>0),ai=ai&&mr.offscreen,vr=mr.occluded}const jo=yt||ui.numHorizontalGlyphVertices===0&&Ai===0,Po=Ct||ui.numIconVertices===0;if(jo||Po?Po?jo||(Yi=Yi&&Bi):Bi=Yi&&Bi:Yi=Bi=Yi&&Bi,Bi&&on&&on.box&&this.collisionIndex.insertCollisionBox(on.box,ve.get("text-ignore-placement"),ae.bucketInstanceId,Lr&&Lr.box&&Mn?Mn:jn,ft.ID),Yi&&mr&&this.collisionIndex.insertCollisionBox(mr.box,ve.get("icon-ignore-placement"),ae.bucketInstanceId,Gn,ft.ID),Ar&&(Bi&&this.collisionIndex.insertCollisionCircles(Ar.circles,ve.get("text-ignore-placement"),ae.bucketInstanceId,jn,ft.ID),V)){const Zn=ae.bucketInstanceId;let Fn=this.collisionCircleArrays[Zn];Fn===void 0&&(Fn=this.collisionCircleArrays[Zn]=new As);for(let Tn=0;Tn<Ar.circles.length;Tn+=4)Fn.circles.push(Ar.circles[Tn+0]),Fn.circles.push(Ar.circles[Tn+1]),Fn.circles.push(Ar.circles[Tn+2]),Fn.circles.push(Ar.collisionDetected?1:0)}const Hs=ae.projection.name!=="globe";di=di&&(Hs||!bi),ni=ni&&(Hs||!vr),this.placements[Hi]=new Fo(Bi||di,Yi||ni,ai||ae.justReloaded),b[Hi]=!0};if(yi){const ui=ae.getSortedSymbolIndexes(this.transform.angle);for(let Oi=ui.length-1;Oi>=0;--Oi){const Si=ui[Oi];ji(ae.symbolInstances.get(Si),Si,ae.collisionArrays[Si])}}else for(let ui=c.symbolInstanceStart;ui<c.symbolInstanceEnd;ui++)ji(ae.symbolInstances.get(ui),ui,ae.collisionArrays[ui]);if(V&&ae.bucketInstanceId in this.collisionCircleArrays){const ui=this.collisionCircleArrays[ae.bucketInstanceId];n.invert(ui.invProjMatrix,ke),ui.viewportMatrix=this.collisionIndex.getViewportMatrix()}ae.justReloaded=!1}markUsedJustification(c,b,V,Q){const{leftJustifiedTextSymbolIndex:ae,centerJustifiedTextSymbolIndex:ve,rightJustifiedTextSymbolIndex:ke,verticalPlacedTextSymbolIndex:Te,crossTileID:je}=V,Ne=n.getAnchorJustification(b),Ye=Q===n.WritingMode.vertical?Te:Ne==="left"?ae:Ne==="center"?ve:Ne==="right"?ke:-1;ae>=0&&(c.text.placedSymbolArray.get(ae).crossTileID=Ye>=0&&ae!==Ye?0:je),ve>=0&&(c.text.placedSymbolArray.get(ve).crossTileID=Ye>=0&&ve!==Ye?0:je),ke>=0&&(c.text.placedSymbolArray.get(ke).crossTileID=Ye>=0&&ke!==Ye?0:je),Te>=0&&(c.text.placedSymbolArray.get(Te).crossTileID=Ye>=0&&Te!==Ye?0:je)}markUsedOrientation(c,b,V){const Q=b===n.WritingMode.horizontal||b===n.WritingMode.horizontalOnly?b:0,ae=b===n.WritingMode.vertical?b:0,{leftJustifiedTextSymbolIndex:ve,centerJustifiedTextSymbolIndex:ke,rightJustifiedTextSymbolIndex:Te,verticalPlacedTextSymbolIndex:je}=V,Ne=c.text.placedSymbolArray;ve>=0&&(Ne.get(ve).placedOrientation=Q),ke>=0&&(Ne.get(ke).placedOrientation=Q),Te>=0&&(Ne.get(Te).placedOrientation=Q),je>=0&&(Ne.get(je).placedOrientation=ae)}commit(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;const b=this.prevPlacement;let V=!1;this.prevZoomAdjustment=b?b.zoomAdjustment(this.transform.zoom):0;const Q=b?b.symbolFadeChange(c):1,ae=b?b.opacities:{},ve=b?b.variableOffsets:{},ke=b?b.placedOrientations:{};for(const Te in this.placements){const je=this.placements[Te],Ne=ae[Te];Ne?(this.opacities[Te]=new Bo(Ne,Q,je.text,je.icon,null,je.clipped),V=V||je.text!==Ne.text.placed||je.icon!==Ne.icon.placed):(this.opacities[Te]=new Bo(null,Q,je.text,je.icon,je.skipFade,je.clipped),V=V||je.text||je.icon)}for(const Te in ae){const je=ae[Te];if(!this.opacities[Te]){const Ne=new Bo(je,Q,!1,!1);Ne.isHidden()||(this.opacities[Te]=Ne,V=V||je.text.placed||je.icon.placed)}}for(const Te in ve)this.variableOffsets[Te]||!this.opacities[Te]||this.opacities[Te].isHidden()||(this.variableOffsets[Te]=ve[Te]);for(const Te in ke)this.placedOrientations[Te]||!this.opacities[Te]||this.opacities[Te].isHidden()||(this.placedOrientations[Te]=ke[Te]);V?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=b?b.lastPlacementChangeTime:c)}updateLayerOpacities(c,b){const V={};for(const Q of b){const ae=Q.getBucket(c);ae&&Q.latestFeatureIndex&&c.id===ae.layerIds[0]&&this.updateBucketOpacities(ae,V,Q.collisionBoxArray)}}updateBucketOpacities(c,b,V){c.hasTextData()&&c.text.opacityVertexArray.clear(),c.hasIconData()&&c.icon.opacityVertexArray.clear(),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();const Q=c.layers[0].layout,ae=!!c.layers[0].dynamicFilter(),ve=new Bo(null,0,!1,!1,!0),ke=Q.get("text-allow-overlap"),Te=Q.get("icon-allow-overlap"),je=Q.get("text-variable-anchor"),Ne=Q.get("text-rotation-alignment")==="map",Ye=Q.get("text-pitch-alignment")==="map",lt=Q.get("icon-text-fit")!=="none",_t=new Bo(null,0,ke&&(Te||!c.hasIconData()||Q.get("icon-optional")),Te&&(ke||!c.hasTextData()||Q.get("text-optional")),!0);!c.collisionArrays&&V&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(V);const bt=(ft,yt,Ct)=>{for(let xt=0;xt<yt/4;xt++)ft.opacityVertexArray.emplaceBack(Ct)};let kt=0;for(let ft=0;ft<c.symbolInstances.length;ft++){const yt=c.symbolInstances.get(ft),{numHorizontalGlyphVertices:Ct,numVerticalGlyphVertices:xt,crossTileID:Rt,numIconVertices:Ht}=yt;let zt=this.opacities[Rt];b[Rt]?zt=ve:zt||(zt=_t,this.opacities[Rt]=zt),b[Rt]=!0;const Jt=Ct>0||xt>0,yi=Ht>0,di=this.placedOrientations[Rt],ni=di===n.WritingMode.vertical,ji=di===n.WritingMode.horizontal||di===n.WritingMode.horizontalOnly;if(!Jt&&!yi||zt.isHidden()||kt++,Jt){const ui=ga(zt.text);bt(c.text,Ct,ni?Qo:ui),bt(c.text,xt,ji?Qo:ui);const Oi=zt.text.isHidden(),{leftJustifiedTextSymbolIndex:Si,centerJustifiedTextSymbolIndex:Hi,rightJustifiedTextSymbolIndex:Ai,verticalPlacedTextSymbolIndex:Bi}=yt,Yi=c.text.placedSymbolArray,ai=Oi||ni?1:0;Si>=0&&(Yi.get(Si).hidden=ai),Hi>=0&&(Yi.get(Hi).hidden=ai),Ai>=0&&(Yi.get(Ai).hidden=ai),Bi>=0&&(Yi.get(Bi).hidden=Oi||ji?1:0);const bi=this.variableOffsets[Rt];bi&&this.markUsedJustification(c,bi.anchor,yt,di);const vr=this.placedOrientations[Rt];vr&&(this.markUsedJustification(c,"left",yt,vr),this.markUsedOrientation(c,vr,yt))}if(yi){const ui=ga(zt.icon),{placedIconSymbolIndex:Oi,verticalPlacedIconSymbolIndex:Si}=yt,Hi=c.icon.placedSymbolArray,Ai=zt.icon.isHidden()?1:0;Oi>=0&&(bt(c.icon,Ht,ni?Qo:ui),Hi.get(Oi).hidden=Ai),Si>=0&&(bt(c.icon,yt.numVerticalIconVertices,ji?Qo:ui),Hi.get(Si).hidden=Ai)}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){const ui=c.collisionArrays[ft];if(ui){let Oi=new n.pointGeometry(0,0),Si=!0;if(ui.textBox||ui.verticalTextBox){if(je){const Ai=this.variableOffsets[Rt];Ai?(Oi=Hn(Ai.anchor,Ai.width,Ai.height,Ai.textOffset,Ai.textScale),Ne&&Oi._rotate(Ye?this.transform.angle:-this.transform.angle)):Si=!1}ae&&(Si=!zt.clipped),ui.textBox&&na(c.textCollisionBox.collisionVertexArray,zt.text.placed,!Si||ni,Oi.x,Oi.y),ui.verticalTextBox&&na(c.textCollisionBox.collisionVertexArray,zt.text.placed,!Si||ji,Oi.x,Oi.y)}const Hi=Si&&!!(!ji&&ui.verticalIconBox);ui.iconBox&&na(c.iconCollisionBox.collisionVertexArray,zt.icon.placed,Hi,lt?Oi.x:0,lt?Oi.y:0),ui.verticalIconBox&&na(c.iconCollisionBox.collisionVertexArray,zt.icon.placed,!Hi,lt?Oi.x:0,lt?Oi.y:0)}}}if(c.fullyClipped=kt===0,c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.bucketInstanceId in this.collisionCircleArrays){const ft=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=ft.invProjMatrix,c.placementViewportMatrix=ft.viewportMatrix,c.collisionCircleArray=ft.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}}symbolFadeChange(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(c){return Math.max(0,(this.transform.zoom-c)/1.5)}hasTransitions(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(c,b){const V=this.zoomAtLastRecencyCheck===b?1-this.zoomAdjustment(b):1;return this.zoomAtLastRecencyCheck=b,this.commitTime+this.fadeDuration*V>c}setStale(){this.stale=!0}}function na(D,c,b,V,Q){D.emplaceBack(c?1:0,b?1:0,V||0,Q||0),D.emplaceBack(c?1:0,b?1:0,V||0,Q||0),D.emplaceBack(c?1:0,b?1:0,V||0,Q||0),D.emplaceBack(c?1:0,b?1:0,V||0,Q||0)}const ma=Math.pow(2,25),Ks=Math.pow(2,24),Js=Math.pow(2,17),$n=Math.pow(2,16),Jo=Math.pow(2,9),Qs=Math.pow(2,8),Ao=Math.pow(2,1);function ga(D){if(D.opacity===0&&!D.placed)return 0;if(D.opacity===1&&D.placed)return 4294967295;const c=D.placed?1:0,b=Math.floor(127*D.opacity);return b*ma+c*Ks+b*Js+c*$n+b*Jo+c*Qs+b*Ao+c}const Qo=0;class el{constructor(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&c.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(c,b,V,Q,ae){const ve=this._bucketParts;for(;this._currentTileIndex<c.length;)if(b.getBucketParts(ve,Q,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,ae())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,ve.sort((ke,Te)=>ke.sortKey-Te.sortKey));this._currentPartIndex<ve.length;){const ke=ve[this._currentPartIndex];if(b.placeLayerBucketPart(ke,this._seenCrossTileIDs,V,ke.symbolInstanceStart===0),this._currentPartIndex++,ae())return!0}return!1}}class vn{constructor(c,b,V,Q,ae,ve,ke,Te){this.placement=new no(c,ae,ve,ke,Te),this._currentPlacementIndex=b.length-1,this._forceFullPlacement=V,this._showCollisionBoxes=Q,this._done=!1}isDone(){return this._done}continuePlacement(c,b,V){const Q=n.exported.now(),ae=()=>{const ve=n.exported.now()-Q;return!this._forceFullPlacement&&ve>2};for(;this._currentPlacementIndex>=0;){const ve=b[c[this._currentPlacementIndex]],ke=this.placement.collisionIndex.transform.zoom;if(ve.type==="symbol"&&(!ve.minzoom||ve.minzoom<=ke)&&(!ve.maxzoom||ve.maxzoom>ke)){if(this._inProgressLayer||(this._inProgressLayer=new el(ve)),this._inProgressLayer.continuePlacement(V[ve.source],this.placement,this._showCollisionBoxes,ve,ae))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(c){return this.placement.commit(c),this.placement}}const un=512/n.EXTENT/2;class Cs{constructor(c,b,V){this.tileID=c,this.indexedSymbolInstances={},this.bucketInstanceId=V;for(let Q=0;Q<b.length;Q++){const ae=b.get(Q),ve=ae.key;this.indexedSymbolInstances[ve]||(this.indexedSymbolInstances[ve]=[]),this.indexedSymbolInstances[ve].push({crossTileID:ae.crossTileID,coord:this.getScaledCoordinates(ae,c)})}}getScaledCoordinates(c,b){const V=un/Math.pow(2,b.canonical.z-this.tileID.canonical.z);return{x:Math.floor((b.canonical.x*n.EXTENT+c.tileAnchorX)*V),y:Math.floor((b.canonical.y*n.EXTENT+c.tileAnchorY)*V)}}findMatches(c,b,V){const Q=this.tileID.canonical.z<b.canonical.z?1:Math.pow(2,this.tileID.canonical.z-b.canonical.z);for(let ae=0;ae<c.length;ae++){const ve=c.get(ae);if(ve.crossTileID)continue;const ke=this.indexedSymbolInstances[ve.key];if(!ke)continue;const Te=this.getScaledCoordinates(ve,b);for(const je of ke)if(Math.abs(je.coord.x-Te.x)<=Q&&Math.abs(je.coord.y-Te.y)<=Q&&!V[je.crossTileID]){V[je.crossTileID]=!0,ve.crossTileID=je.crossTileID;break}}}}class es{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class fl{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(c){const b=Math.round((c-this.lng)/360);if(b!==0)for(const V in this.indexes){const Q=this.indexes[V],ae={};for(const ve in Q){const ke=Q[ve];ke.tileID=ke.tileID.unwrapTo(ke.tileID.wrap+b),ae[ke.tileID.key]=ke}this.indexes[V]=ae}this.lng=c}addBucket(c,b,V){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===b.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(let ae=0;ae<b.symbolInstances.length;ae++)b.symbolInstances.get(ae).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});const Q=this.usedCrossTileIDs[c.overscaledZ];for(const ae in this.indexes){const ve=this.indexes[ae];if(Number(ae)>c.overscaledZ)for(const ke in ve){const Te=ve[ke];Te.tileID.isChildOf(c)&&Te.findMatches(b.symbolInstances,c,Q)}else{const ke=ve[c.scaledTo(Number(ae)).key];ke&&ke.findMatches(b.symbolInstances,c,Q)}}for(let ae=0;ae<b.symbolInstances.length;ae++){const ve=b.symbolInstances.get(ae);ve.crossTileID||(ve.crossTileID=V.generate(),Q[ve.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new Cs(c,b.symbolInstances,b.bucketInstanceId),!0}removeBucketCrossTileIDs(c,b){for(const V in b.indexedSymbolInstances)for(const Q of b.indexedSymbolInstances[V])delete this.usedCrossTileIDs[c][Q.crossTileID]}removeStaleBuckets(c){let b=!1;for(const V in this.indexes){const Q=this.indexes[V];for(const ae in Q)c[Q[ae].bucketInstanceId]||(this.removeBucketCrossTileIDs(V,Q[ae]),delete Q[ae],b=!0)}return b}}class Ga{constructor(){this.layerIndexes={},this.crossTileIDs=new es,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(c,b,V,Q){let ae=this.layerIndexes[c.id];ae===void 0&&(ae=this.layerIndexes[c.id]=new fl);let ve=!1;const ke={};Q.name!=="globe"&&ae.handleWrapJump(V);for(const Te of b){const je=Te.getBucket(c);je&&c.id===je.layerIds[0]&&(je.bucketInstanceId||(je.bucketInstanceId=++this.maxBucketInstanceId),ae.addBucket(Te.tileID,je,this.crossTileIDs)&&(ve=!0),ke[je.bucketInstanceId]=!0)}return ae.removeStaleBuckets(ke)&&(ve=!0),ve}pruneUnusedLayers(c){const b={};c.forEach(V=>{b[V]=!0});for(const V in this.layerIndexes)b[V]||delete this.layerIndexes[V]}}const Es=(D,c)=>n.emitValidationErrors(D,c&&c.filter(b=>b.identifier!=="source.canvas")),fs=n.pick(nr,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),ts=n.pick(nr,["setCenter","setZoom","setBearing","setPitch"]),Ha={version:8,layers:[],sources:{}},sa={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class se extends n.Evented{constructor(c,b={}){super(),this.map=c,this.dispatcher=new Ce(si(),this),this.imageManager=new w,this.imageManager.setEventedParent(this),this.glyphManager=new n.GlyphManager(c._requestManager,b.localFontFamily?n.LocalGlyphMode.all:b.localIdeographFontFamily?n.LocalGlyphMode.ideographs:n.LocalGlyphMode.none,b.localFontFamily||b.localIdeographFontFamily),this.crossTileSymbolIndex=new Ga,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",n.getReferrer());const V=this;this._rtlTextPluginCallback=se.registerForPluginStateChange(Q=>{V.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:Q.pluginStatus,pluginURL:Q.pluginURL},(ae,ve)=>{if(n.triggerPluginCompletionEvent(ae),ve&&ve.every(ke=>ke))for(const ke in V._sourceCaches){const Te=V._sourceCaches[ke],je=Te.getSource().type;je!=="vector"&&je!=="geojson"||Te.reload()}})}),this.on("data",Q=>{if(Q.dataType!=="source"||Q.sourceDataType!=="metadata")return;const ae=this.getSource(Q.sourceId);if(ae&&ae.vectorLayerIds)for(const ve in this._layers){const ke=this._layers[ve];ke.source===ae.id&&this._validateLayer(ke)}})}loadURL(c,b={}){this.fire(new n.Event("dataloading",{dataType:"style"}));const V=typeof b.validate=="boolean"?b.validate:!n.isMapboxURL(c);c=this.map._requestManager.normalizeStyleURL(c,b.accessToken);const Q=this.map._requestManager.transformRequest(c,n.ResourceType.Style);this._request=n.getJSON(Q,(ae,ve)=>{this._request=null,ae?this.fire(new n.ErrorEvent(ae)):ve&&this._load(ve,V)})}loadJSON(c,b={}){this.fire(new n.Event("dataloading",{dataType:"style"})),this._request=n.exported.frame(()=>{this._request=null,this._load(c,b.validate!==!1)})}loadEmpty(){this.fire(new n.Event("dataloading",{dataType:"style"})),this._load(Ha,!1)}_updateLayerCount(c,b){const V=b?1:-1;c.is3D()&&(this._num3DLayers+=V),c.type==="circle"&&(this._numCircleLayers+=V),c.type==="symbol"&&(this._numSymbolLayers+=V)}_load(c,b){if(b&&Es(this,n.validateStyle(c)))return;this._loaded=!0,this.stylesheet=n.clone$1(c),this._updateMapProjection();for(const Q in c.sources)this.addSource(Q,c.sources[Q],{validate:!1});this._changed=!1,c.sprite?this._loadSprite(c.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(c.glyphs);const V=Vi(this.stylesheet.layers);this._order=V.map(Q=>Q.id),this._layers={},this._serializedLayers={};for(let Q of V)Q=n.createStyleLayer(Q),Q.setEventedParent(this,{layer:{id:Q.id}}),this._layers[Q.id]=Q,this._serializedLayers[Q.id]=Q.serialize(),this._updateLayerCount(Q,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new m(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new n.Event("data",{dataType:"style"})),this.fire(new n.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(c){c?this.stylesheet.projection=c:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(c){this._spriteRequest=function(b,V,Q){let ae,ve,ke;const Te=n.exported.devicePixelRatio>1?"@2x":"";let je=n.getJSON(V.transformRequest(V.normalizeSpriteURL(b,Te,".json"),n.ResourceType.SpriteJSON),(lt,_t)=>{je=null,ke||(ke=lt,ae=_t,Ye())}),Ne=n.getImage(V.transformRequest(V.normalizeSpriteURL(b,Te,".png"),n.ResourceType.SpriteImage),(lt,_t)=>{Ne=null,ke||(ke=lt,ve=_t,Ye())});function Ye(){if(ke)Q(ke);else if(ae&&ve){const lt=n.exported.getImageData(ve),_t={};for(const bt in ae){const{width:kt,height:ft,x:yt,y:Ct,sdf:xt,pixelRatio:Rt,stretchX:Ht,stretchY:zt,content:Jt}=ae[bt],yi=new n.RGBAImage({width:kt,height:ft});n.RGBAImage.copy(lt,yi,{x:yt,y:Ct},{x:0,y:0},{width:kt,height:ft}),_t[bt]={data:yi,pixelRatio:Rt,sdf:xt,stretchX:Ht,stretchY:zt,content:Jt}}Q(null,_t)}}return{cancel(){je&&(je.cancel(),je=null),Ne&&(Ne.cancel(),Ne=null)}}}(c,this.map._requestManager,(b,V)=>{if(this._spriteRequest=null,b)this.fire(new n.ErrorEvent(b));else if(V)for(const Q in V)this.imageManager.addImage(Q,V[Q]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new n.Event("data",{dataType:"style"}))})}_validateLayer(c){const b=this.getSource(c.source);if(!b)return;const V=c.sourceLayer;V&&(b.type==="geojson"||b.vectorLayerIds&&b.vectorLayerIds.indexOf(V)===-1)&&this.fire(new n.ErrorEvent(new Error(`Source layer "${V}" does not exist on source "${b.id}" as specified by style layer "${c.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const c in this._sourceCaches)if(!this._sourceCaches[c].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(c){const b=[];for(const V of c){const Q=this._layers[V];Q.type!=="custom"&&b.push(Q.serialize())}return b}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const c in this._sourceCaches)if(this._sourceCaches[c].hasTransition())return!0;for(const c in this._layers)if(this._layers[c].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(c){return!!this.terrain&&sa[c.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(c){if(!this._loaded)return;const b=this._changed;if(this._changed){const Q=Object.keys(this._updatedLayers),ae=Object.keys(this._removedLayers);(Q.length||ae.length)&&this._updateWorkerLayers(Q,ae);for(const ve in this._updatedSources){const ke=this._updatedSources[ve];ke==="reload"?this._reloadSource(ve):ke==="clear"&&this._clearSource(ve)}this._updateTilesForChangedImages();for(const ve in this._updatedPaintProps)this._layers[ve].updateTransitions(c);this.light.updateTransitions(c),this.fog&&this.fog.updateTransitions(c),this._resetUpdates()}const V={};for(const Q in this._sourceCaches){const ae=this._sourceCaches[Q];V[Q]=ae.used,ae.used=!1}for(const Q of this._order){const ae=this._layers[Q];if(ae.recalculate(c,this._availableImages),!ae.isHidden(c.zoom)){const ke=this._getLayerSourceCache(ae);ke&&(ke.used=!0)}const ve=this.map.painter;if(ve){const ke=ae.getProgramIds();if(!ke)continue;const Te=ae.getProgramConfiguration(c.zoom);for(const je of ke)ve.useProgram(je,Te)}}for(const Q in V){const ae=this._sourceCaches[Q];V[Q]!==ae.used&&ae.getSource().fire(new n.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:ae.getSource().id}))}this.light.recalculate(c),this.terrain&&this.terrain.recalculate(c),this.fog&&this.fog.recalculate(c),this.z=c.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),b&&this.fire(new n.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const c=Object.keys(this._changedImages);if(c.length){for(const b in this._sourceCaches)this._sourceCaches[b].reloadTilesForDependencies(["icons","patterns"],c);this._changedImages={}}}_updateWorkerLayers(c,b){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(c),removedIds:b})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(c){if(this._checkLoaded(),Es(this,n.validateStyle(c)))return!1;(c=n.clone$1(c)).layers=Vi(c.layers);const b=function(Q,ae){if(!Q)return[{command:nr.setStyle,args:[ae]}];let ve=[];try{if(!k(Q.version,ae.version))return[{command:nr.setStyle,args:[ae]}];k(Q.center,ae.center)||ve.push({command:nr.setCenter,args:[ae.center]}),k(Q.zoom,ae.zoom)||ve.push({command:nr.setZoom,args:[ae.zoom]}),k(Q.bearing,ae.bearing)||ve.push({command:nr.setBearing,args:[ae.bearing]}),k(Q.pitch,ae.pitch)||ve.push({command:nr.setPitch,args:[ae.pitch]}),k(Q.sprite,ae.sprite)||ve.push({command:nr.setSprite,args:[ae.sprite]}),k(Q.glyphs,ae.glyphs)||ve.push({command:nr.setGlyphs,args:[ae.glyphs]}),k(Q.transition,ae.transition)||ve.push({command:nr.setTransition,args:[ae.transition]}),k(Q.light,ae.light)||ve.push({command:nr.setLight,args:[ae.light]}),k(Q.fog,ae.fog)||ve.push({command:nr.setFog,args:[ae.fog]}),k(Q.projection,ae.projection)||ve.push({command:nr.setProjection,args:[ae.projection]});const ke={},Te=[];(function(Ye,lt,_t,bt){let kt;for(kt in lt=lt||{},Ye=Ye||{})Ye.hasOwnProperty(kt)&&(lt.hasOwnProperty(kt)||Rr(kt,_t,bt));for(kt in lt)lt.hasOwnProperty(kt)&&(Ye.hasOwnProperty(kt)?k(Ye[kt],lt[kt])||(Ye[kt].type==="geojson"&&lt[kt].type==="geojson"&&fa(Ye,lt,kt)?_t.push({command:nr.setGeoJSONSourceData,args:[kt,lt[kt].data]}):zn(kt,lt,_t,bt)):Ur(kt,lt,_t))})(Q.sources,ae.sources,Te,ke);const je=[];Q.layers&&Q.layers.forEach(Ye=>{Ye.source&&ke[Ye.source]?ve.push({command:nr.removeLayer,args:[Ye.id]}):je.push(Ye)});let Ne=Q.terrain;Ne&&ke[Ne.source]&&(ve.push({command:nr.setTerrain,args:[void 0]}),Ne=void 0),ve=ve.concat(Te),k(Ne,ae.terrain)||ve.push({command:nr.setTerrain,args:[ae.terrain]}),function(Ye,lt,_t){lt=lt||[];const bt=(Ye=Ye||[]).map(ki),kt=lt.map(ki),ft=Ye.reduce(an,{}),yt=lt.reduce(an,{}),Ct=bt.slice(),xt=Object.create(null);let Rt,Ht,zt,Jt,yi,di,ni;for(Rt=0,Ht=0;Rt<bt.length;Rt++)zt=bt[Rt],yt.hasOwnProperty(zt)?Ht++:(_t.push({command:nr.removeLayer,args:[zt]}),Ct.splice(Ct.indexOf(zt,Ht),1));for(Rt=0,Ht=0;Rt<kt.length;Rt++)zt=kt[kt.length-1-Rt],Ct[Ct.length-1-Rt]!==zt&&(ft.hasOwnProperty(zt)?(_t.push({command:nr.removeLayer,args:[zt]}),Ct.splice(Ct.lastIndexOf(zt,Ct.length-Ht),1)):Ht++,di=Ct[Ct.length-Rt],_t.push({command:nr.addLayer,args:[yt[zt],di]}),Ct.splice(Ct.length-Rt,0,zt),xt[zt]=!0);for(Rt=0;Rt<kt.length;Rt++)if(zt=kt[Rt],Jt=ft[zt],yi=yt[zt],!xt[zt]&&!k(Jt,yi))if(k(Jt.source,yi.source)&&k(Jt["source-layer"],yi["source-layer"])&&k(Jt.type,yi.type)){for(ni in In(Jt.layout,yi.layout,_t,zt,null,nr.setLayoutProperty),In(Jt.paint,yi.paint,_t,zt,null,nr.setPaintProperty),k(Jt.filter,yi.filter)||_t.push({command:nr.setFilter,args:[zt,yi.filter]}),k(Jt.minzoom,yi.minzoom)&&k(Jt.maxzoom,yi.maxzoom)||_t.push({command:nr.setLayerZoomRange,args:[zt,yi.minzoom,yi.maxzoom]}),Jt)Jt.hasOwnProperty(ni)&&ni!=="layout"&&ni!=="paint"&&ni!=="filter"&&ni!=="metadata"&&ni!=="minzoom"&&ni!=="maxzoom"&&(ni.indexOf("paint.")===0?In(Jt[ni],yi[ni],_t,zt,ni.slice(6),nr.setPaintProperty):k(Jt[ni],yi[ni])||_t.push({command:nr.setLayerProperty,args:[zt,ni,yi[ni]]}));for(ni in yi)yi.hasOwnProperty(ni)&&!Jt.hasOwnProperty(ni)&&ni!=="layout"&&ni!=="paint"&&ni!=="filter"&&ni!=="metadata"&&ni!=="minzoom"&&ni!=="maxzoom"&&(ni.indexOf("paint.")===0?In(Jt[ni],yi[ni],_t,zt,ni.slice(6),nr.setPaintProperty):k(Jt[ni],yi[ni])||_t.push({command:nr.setLayerProperty,args:[zt,ni,yi[ni]]}))}else _t.push({command:nr.removeLayer,args:[zt]}),di=Ct[Ct.lastIndexOf(zt)+1],_t.push({command:nr.addLayer,args:[yi,di]})}(je,ae.layers,ve)}catch(ke){console.warn("Unable to compute style diff:",ke),ve=[{command:nr.setStyle,args:[ae]}]}return ve}(this.serialize(),c).filter(Q=>!(Q.command in ts));if(b.length===0)return!1;const V=b.filter(Q=>!(Q.command in fs));if(V.length>0)throw new Error(`Unimplemented: ${V.map(Q=>Q.command).join(", ")}.`);return b.forEach(Q=>{Q.command!=="setTransition"&&Q.command!=="setProjection"&&this[Q.command].apply(this,Q.args)}),this.stylesheet=c,this._updateMapProjection(),!0}addImage(c,b){return this.getImage(c)?this.fire(new n.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(c,b),this._afterImageUpdated(c),this)}updateImage(c,b){this.imageManager.updateImage(c,b)}getImage(c){return this.imageManager.getImage(c)}removeImage(c){return this.getImage(c)?(this.imageManager.removeImage(c),this._afterImageUpdated(c),this):this.fire(new n.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(c){this._availableImages=this.imageManager.listImages(),this._changedImages[c]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new n.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(c,b,V={}){if(this._checkLoaded(),this.getSource(c)!==void 0)throw new Error("There is already a source with this ID");if(!b.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(b).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(b.type)>=0&&this._validate(n.validateSource,`sources.${c}`,b,null,V))return;this.map&&this.map._collectResourceTiming&&(b.collectResourceTiming=!0);const Q=Lt(c,b,this.dispatcher,this);Q.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(c),source:Q.serialize(),sourceId:c}));const ae=ve=>{const ke=(ve?"symbol:":"other:")+c,Te=this._sourceCaches[ke]=new n.SourceCache(ke,Q,ve);(ve?this._symbolSourceCaches:this._otherSourceCaches)[c]=Te,Te.style=this,Te.onAdd(this.map)};ae(!1),b.type!=="vector"&&b.type!=="geojson"||ae(!0),Q.onAdd&&Q.onAdd(this.map),this._changed=!0}removeSource(c){this._checkLoaded();const b=this.getSource(c);if(!b)throw new Error("There is no source with this ID");for(const Q in this._layers)if(this._layers[Q].source===c)return this.fire(new n.ErrorEvent(new Error(`Source "${c}" cannot be removed while layer "${Q}" is using it.`)));if(this.terrain&&this.terrain.get().source===c)return this.fire(new n.ErrorEvent(new Error(`Source "${c}" cannot be removed while terrain is using it.`)));const V=this._getSourceCaches(c);for(const Q of V)delete this._sourceCaches[Q.id],delete this._updatedSources[Q.id],Q.fire(new n.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:Q.getSource().id})),Q.setEventedParent(null),Q.clearTiles();return delete this._otherSourceCaches[c],delete this._symbolSourceCaches[c],b.setEventedParent(null),b.onRemove&&b.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(c,b){this._checkLoaded(),this.getSource(c).setData(b),this._changed=!0}getSource(c){const b=this._getSourceCache(c);return b&&b.getSource()}_getSources(){const c=[];for(const b in this._otherSourceCaches){const V=this._getSourceCache(b);V&&c.push(V.getSource())}return c}addLayer(c,b,V={}){this._checkLoaded();const Q=c.id;if(this.getLayer(Q))return void this.fire(new n.ErrorEvent(new Error(`Layer with id "${Q}" already exists on this map`)));let ae;if(c.type==="custom"){if(Es(this,n.validateCustomStyleLayer(c)))return;ae=n.createStyleLayer(c)}else{if(typeof c.source=="object"&&(this.addSource(Q,c.source),c=n.clone$1(c),c=n.extend(c,{source:Q})),this._validate(n.validateLayer,`layers.${Q}`,c,{arrayIndex:-1},V))return;ae=n.createStyleLayer(c),this._validateLayer(ae),ae.setEventedParent(this,{layer:{id:Q}}),this._serializedLayers[ae.id]=ae.serialize(),this._updateLayerCount(ae,!0)}const ve=b?this._order.indexOf(b):this._order.length;if(b&&ve===-1)return void this.fire(new n.ErrorEvent(new Error(`Layer with id "${b}" does not exist on this map.`)));this._order.splice(ve,0,Q),this._layerOrderChanged=!0,this._layers[Q]=ae;const ke=this._getLayerSourceCache(ae);if(this._removedLayers[Q]&&ae.source&&ke&&ae.type!=="custom"){const Te=this._removedLayers[Q];delete this._removedLayers[Q],Te.type!==ae.type?this._updatedSources[ae.source]="clear":(this._updatedSources[ae.source]="reload",ke.pause())}this._updateLayer(ae),ae.onAdd&&ae.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(c,b){if(this._checkLoaded(),this._changed=!0,!this._layers[c])return void this.fire(new n.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be moved.`)));if(c===b)return;const V=this._order.indexOf(c);this._order.splice(V,1);const Q=b?this._order.indexOf(b):this._order.length;b&&Q===-1?this.fire(new n.ErrorEvent(new Error(`Layer with id "${b}" does not exist on this map.`))):(this._order.splice(Q,0,c),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(c){this._checkLoaded();const b=this._layers[c];if(!b)return void this.fire(new n.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be removed.`)));b.setEventedParent(null),this._updateLayerCount(b,!1);const V=this._order.indexOf(c);this._order.splice(V,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[c]=b,delete this._layers[c],delete this._serializedLayers[c],delete this._updatedLayers[c],delete this._updatedPaintProps[c],b.onRemove&&b.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(c){return this._layers[c]}hasLayer(c){return c in this._layers}hasLayerType(c){for(const b in this._layers)if(this._layers[b].type===c)return!0;return!1}setLayerZoomRange(c,b,V){this._checkLoaded();const Q=this.getLayer(c);Q?Q.minzoom===b&&Q.maxzoom===V||(b!=null&&(Q.minzoom=b),V!=null&&(Q.maxzoom=V),this._updateLayer(Q)):this.fire(new n.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(c,b,V={}){this._checkLoaded();const Q=this.getLayer(c);if(Q){if(!k(Q.filter,b))return b==null?(Q.filter=void 0,void this._updateLayer(Q)):void(this._validate(n.validateFilter,`layers.${Q.id}.filter`,b,{layerType:Q.type},V)||(Q.filter=n.clone$1(b),this._updateLayer(Q)))}else this.fire(new n.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be filtered.`)))}getFilter(c){const b=this.getLayer(c);return b&&n.clone$1(b.filter)}setLayoutProperty(c,b,V,Q={}){this._checkLoaded();const ae=this.getLayer(c);ae?k(ae.getLayoutProperty(b),V)||(ae.setLayoutProperty(b,V,Q),this._updateLayer(ae)):this.fire(new n.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(c,b){const V=this.getLayer(c);if(V)return V.getLayoutProperty(b);this.fire(new n.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style.`)))}setPaintProperty(c,b,V,Q={}){this._checkLoaded();const ae=this.getLayer(c);ae?k(ae.getPaintProperty(b),V)||(ae.setPaintProperty(b,V,Q)&&this._updateLayer(ae),this._changed=!0,this._updatedPaintProps[c]=!0):this.fire(new n.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(c,b){const V=this.getLayer(c);return V&&V.getPaintProperty(b)}setFeatureState(c,b){this._checkLoaded();const V=c.source,Q=c.sourceLayer,ae=this.getSource(V);if(!ae)return void this.fire(new n.ErrorEvent(new Error(`The source '${V}' does not exist in the map's style.`)));const ve=ae.type;if(ve==="geojson"&&Q)return void this.fire(new n.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(ve==="vector"&&!Q)return void this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));c.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided.")));const ke=this._getSourceCaches(V);for(const Te of ke)Te.setFeatureState(Q,c.id,b)}removeFeatureState(c,b){this._checkLoaded();const V=c.source,Q=this.getSource(V);if(!Q)return void this.fire(new n.ErrorEvent(new Error(`The source '${V}' does not exist in the map's style.`)));const ae=Q.type,ve=ae==="vector"?c.sourceLayer:void 0;if(ae==="vector"&&!ve)return void this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(b&&typeof c.id!="string"&&typeof c.id!="number")return void this.fire(new n.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const ke=this._getSourceCaches(V);for(const Te of ke)Te.removeFeatureState(ve,c.id,b)}getFeatureState(c){this._checkLoaded();const b=c.source,V=c.sourceLayer,Q=this.getSource(b);if(Q){if(Q.type!=="vector"||V)return c.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(b)[0].getFeatureState(V,c.id);this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new n.ErrorEvent(new Error(`The source '${b}' does not exist in the map's style.`)))}getTransition(){return n.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const c={};for(const b in this._sourceCaches){const V=this._sourceCaches[b].getSource();c[V.id]||(c[V.id]=V.serialize())}return n.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:c,layers:this._serializeLayers(this._order)},b=>b!==void 0)}_updateLayer(c){this._updatedLayers[c.id]=!0;const b=this._getLayerSourceCache(c);c.source&&!this._updatedSources[c.source]&&b&&b.getSource().type!=="raster"&&(this._updatedSources[c.source]="reload",b.pause()),this._changed=!0,c.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(c){const b=ve=>this._layers[ve].type==="fill-extrusion",V={},Q=[];for(let ve=this._order.length-1;ve>=0;ve--){const ke=this._order[ve];if(b(ke)){V[ke]=ve;for(const Te of c){const je=Te[ke];if(je)for(const Ne of je)Q.push(Ne)}}}Q.sort((ve,ke)=>ke.intersectionZ-ve.intersectionZ);const ae=[];for(let ve=this._order.length-1;ve>=0;ve--){const ke=this._order[ve];if(b(ke))for(let Te=Q.length-1;Te>=0;Te--){const je=Q[Te].feature;if(V[je.layer.id]<ve)break;ae.push(je),Q.pop()}else for(const Te of c){const je=Te[ke];if(je)for(const Ne of je)ae.push(Ne.feature)}}return ae}queryRenderedFeatures(c,b,V){b&&b.filter&&this._validate(n.validateFilter,"queryRenderedFeatures.filter",b.filter,null,b);const Q={};if(b&&b.layers){if(!Array.isArray(b.layers))return this.fire(new n.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const Te of b.layers){const je=this._layers[Te];if(!je)return this.fire(new n.ErrorEvent(new Error(`The layer '${Te}' does not exist in the map's style and cannot be queried for features.`))),[];Q[je.source]=!0}}const ae=[];b.availableImages=this._availableImages;const ve=b&&b.layers?b.layers.some(Te=>{const je=this.getLayer(Te);return je&&je.is3D()}):this.has3DLayers(),ke=de.createFromScreenPoints(c,V);for(const Te in this._sourceCaches){const je=this._sourceCaches[Te].getSource().id;b.layers&&!Q[je]||ae.push(Ze(this._sourceCaches[Te],this._layers,this._serializedLayers,ke,b,V,ve,!!this.map._showQueryGeometry))}return this.placement&&ae.push(function(Te,je,Ne,Ye,lt,_t,bt){const kt={},ft=_t.queryRenderedSymbols(Ye),yt=[];for(const Ct of Object.keys(ft).map(Number))yt.push(bt[Ct]);yt.sort(ri);for(const Ct of yt){const xt=Ct.featureIndex.lookupSymbolFeatures(ft[Ct.bucketInstanceId],je,Ct.bucketIndex,Ct.sourceLayerIndex,lt.filter,lt.layers,lt.availableImages,Te);for(const Rt in xt){const Ht=kt[Rt]=kt[Rt]||[],zt=xt[Rt];zt.sort((Jt,yi)=>{const di=Ct.featureSortOrder;if(di){const ni=di.indexOf(Jt.featureIndex);return di.indexOf(yi.featureIndex)-ni}return yi.featureIndex-Jt.featureIndex});for(const Jt of zt)Ht.push(Jt)}}for(const Ct in kt)kt[Ct].forEach(xt=>{const Rt=xt.feature,Ht=Ne(Te[Ct]).getFeatureState(Rt.layer["source-layer"],Rt.id);Rt.source=Rt.layer.source,Rt.layer["source-layer"]&&(Rt.sourceLayer=Rt.layer["source-layer"]),Rt.state=Ht});return kt}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),ke.screenGeometry,b,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(ae)}querySourceFeatures(c,b){b&&b.filter&&this._validate(n.validateFilter,"querySourceFeatures.filter",b.filter,null,b);const V=this._getSourceCaches(c);let Q=[];for(const ae of V)Q=Q.concat(Vt(ae,b));return Q}addSourceType(c,b,V){return se.getSourceType(c)?V(new Error(`A source type called "${c}" already exists.`)):(se.setSourceType(c,b),b.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:c,url:b.workerSourceURL},V):V(null,null))}getLight(){return this.light.getLight()}setLight(c,b={}){this._checkLoaded();const V=this.light.getLight();let Q=!1;for(const ve in c)if(!k(c[ve],V[ve])){Q=!0;break}if(!Q)return;const ae=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(c,b),this.light.updateTransitions(ae)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(c,b=1){if(this._checkLoaded(),!c)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(b===1){if(typeof c.source=="object"){const V="terrain-dem-src";this.addSource(V,c.source),c=n.clone$1(c),c=n.extend(c,{source:V})}if(this._validate(n.validateTerrain,"terrain",c))return}if(!this.terrain||this.terrain&&b!==this.terrain.drapeRenderMode)this._createTerrain(c,b);else{const V=this.terrain,Q=V.get();for(const ae of Object.keys(n.spec.terrain))!c.hasOwnProperty(ae)&&n.spec.terrain[ae].default&&(c[ae]=n.spec.terrain[ae].default);for(const ae in c)if(!k(c[ae],Q[ae])){V.set(c),this.stylesheet.terrain=c;const ve=this._setTransitionParameters({duration:0});V.updateTransitions(ve);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(c){const b=this.fog=new ye(c,this.map.transform);this.stylesheet.fog=c;const V=this._setTransitionParameters({duration:0});b.updateTransitions(V)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const c of this.map._markers)c._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(c){if(this._checkLoaded(),!c)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const b=this.fog,V=b.get();Object.keys(c).length===0&&b.set(c);for(const Q in c)if(!k(c[Q],V[Q])){b.set(c),this.stylesheet.fog=c;const ae=this._setTransitionParameters({duration:0});b.updateTransitions(ae);break}}else this._createFog(c);this._markersNeedUpdate=!0}_setTransitionParameters(c){return{now:n.exported.now(),transition:n.extend(c,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const c=this._order.filter(V=>this.isLayerDraped(this._layers[V])),b=this._order.filter(V=>!this.isLayerDraped(this._layers[V]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...c),this._drapedFirstOrder.push(...b)}_createTerrain(c,b){const V=this.terrain=new M(c,b);this.stylesheet.terrain=c,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const Q=this._setTransitionParameters({duration:0});V.updateTransitions(Q)}_force3DLayerUpdate(){for(const c in this._layers){const b=this._layers[c];b.type==="fill-extrusion"&&this._updateLayer(b)}}_forceSymbolLayerUpdate(){for(const c in this._layers){const b=this._layers[c];b.type==="symbol"&&this._updateLayer(b)}}_validate(c,b,V,Q,ae={}){return(!ae||ae.validate!==!1)&&Es(this,c.call(n.validateStyle,n.extend({key:b,style:this.serialize(),value:V,styleSpec:n.spec},Q)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),n.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const c in this._layers)this._layers[c].setEventedParent(null);for(const c in this._sourceCaches)this._sourceCaches[c].clearTiles(),this._sourceCaches[c].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(c){const b=this._getSourceCaches(c);for(const V of b)V.clearTiles()}_reloadSource(c){const b=this._getSourceCaches(c);for(const V of b)V.resume(),V.reload()}_reloadSources(){for(const c of this._getSources())c.reload&&c.reload()}_updateSources(c){for(const b in this._sourceCaches)this._sourceCaches[b].update(c)}_generateCollisionBoxes(){for(const c in this._sourceCaches){const b=this._sourceCaches[c];b.resume(),b.reload()}}_updatePlacement(c,b,V,Q,ae=!1){let ve=!1,ke=!1;const Te={};for(const je of this._order){const Ne=this._layers[je];if(Ne.type!=="symbol")continue;if(!Te[Ne.source]){const lt=this._getLayerSourceCache(Ne);if(!lt)continue;Te[Ne.source]=lt.getRenderableIds(!0).map(_t=>lt.getTileByID(_t)).sort((_t,bt)=>bt.tileID.overscaledZ-_t.tileID.overscaledZ||(_t.tileID.isLessThan(bt.tileID)?-1:1))}const Ye=this.crossTileSymbolIndex.addLayer(Ne,Te[Ne.source],c.center.lng,c.projection);ve=ve||Ye}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),ae=ae||this._layerOrderChanged||V===0,this._layerOrderChanged&&this.fire(new n.Event("neworder")),(ae||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(n.exported.now(),c.zoom))&&(this.pauseablePlacement=new vn(c,this._order,ae,b,V,Q,this.placement,this.fog&&c.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Te),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(n.exported.now()),ke=!0),ve&&this.pauseablePlacement.placement.setStale()),ke||ve)for(const je of this._order){const Ne=this._layers[je];Ne.type==="symbol"&&this.placement.updateLayerOpacities(Ne,Te[Ne.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(n.exported.now())}_releaseSymbolFadeTiles(){for(const c in this._sourceCaches)this._sourceCaches[c].releaseSymbolFadeTiles()}getImages(c,b,V){this.imageManager.getImages(b.icons,V),this._updateTilesForChangedImages();const Q=ae=>{ae&&ae.setDependencies(b.tileID.key,b.type,b.icons)};Q(this._otherSourceCaches[b.source]),Q(this._symbolSourceCaches[b.source])}getGlyphs(c,b,V){this.glyphManager.getGlyphs(b.stacks,V)}getResource(c,b,V){return n.makeRequest(b,V)}_getSourceCache(c){return this._otherSourceCaches[c]}_getLayerSourceCache(c){return c.type==="symbol"?this._symbolSourceCaches[c.source]:this._otherSourceCaches[c.source]}_getSourceCaches(c){const b=[];return this._otherSourceCaches[c]&&b.push(this._otherSourceCaches[c]),this._symbolSourceCaches[c]&&b.push(this._symbolSourceCaches[c]),b}_isSourceCacheLoaded(c){const b=this._getSourceCaches(c);return b.length===0?(this.fire(new n.ErrorEvent(new Error(`There is no source with ID '${c}'`))),!1):b.every(V=>V.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}se.getSourceType=function(D){return Zt[D]},se.setSourceType=function(D,c){Zt[D]=c},se.registerForPluginStateChange=n.registerForPluginStateChange;var be=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,Pe="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",Be=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,Xe=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,tt=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let ut={},Yt={};const Ft=[];Pi(be,Ft),Pi(Be,Ft),Pi(Xe,Ft),Pi(tt,Ft),ut=rr("",Be),Yt=rr(tt,Xe);const ci=rr(`
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),Ii=be,Li=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var xi={background:rr(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:rr(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:rr(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:rr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:rr(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:rr(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:rr("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:rr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:rr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:rr(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:rr(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:rr(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:rr(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:rr(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:rr(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:rr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:rr(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:rr(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:rr(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:rr(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:rr(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:rr(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:rr(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:rr(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=u_skirt_height*u_skirt_height*wireframeOffset;
#endif
vec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:rr(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:rr(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Pe),skyboxGradient:rr(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Pe),skyboxCapture:rr(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:rr(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;
#ifdef GLOBE_POLES
vec3 up_vector=normalize(globe_pos)*u_tile_up_scale;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:rr(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function Pi(D,c){const b=D.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let V of b)if(V=V.trim(),V[0]==="#"&&V.includes("if")&&!V.includes("endif")){V=V.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const Q=V.split(" ");for(const ae of Q)c.includes(ae)||c.push(ae)}}function rr(D,c){const b=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,V=c.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),Q={},ae=[...Ft];return Pi(D,ae),Pi(c,ae),{fragmentSource:D=D.replace(b,(ve,ke,Te,je,Ne)=>(Q[Ne]=!0,ke==="define"?`
#ifndef HAS_UNIFORM_u_${Ne}
varying ${Te} ${je} ${Ne};
#else
uniform ${Te} ${je} u_${Ne};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Ne}
    ${Te} ${je} ${Ne} = u_${Ne};
#endif
`)),vertexSource:c=c.replace(b,(ve,ke,Te,je,Ne)=>{const Ye=je==="float"?"vec2":"vec4",lt=Ne.match(/color/)?"color":Ye;return Q[Ne]?ke==="define"?`
#ifndef HAS_UNIFORM_u_${Ne}
uniform lowp float u_${Ne}_t;
attribute ${Te} ${Ye} a_${Ne};
varying ${Te} ${je} ${Ne};
#else
uniform ${Te} ${je} u_${Ne};
#endif
`:lt==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ne}
    ${Ne} = a_${Ne};
#else
    ${Te} ${je} ${Ne} = u_${Ne};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ne}
    ${Ne} = unpack_mix_${lt}(a_${Ne}, u_${Ne}_t);
#else
    ${Te} ${je} ${Ne} = u_${Ne};
#endif
`:ke==="define"?`
#ifndef HAS_UNIFORM_u_${Ne}
uniform lowp float u_${Ne}_t;
attribute ${Te} ${Ye} a_${Ne};
#else
uniform ${Te} ${je} u_${Ne};
#endif
`:lt==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ne}
    ${Te} ${je} ${Ne} = a_${Ne};
#else
    ${Te} ${je} ${Ne} = u_${Ne};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ne}
    ${Te} ${je} ${Ne} = unpack_mix_${lt}(a_${Ne}, u_${Ne}_t);
#else
    ${Te} ${je} ${Ne} = u_${Ne};
#endif
`}),staticAttributes:V,usedDefines:ae}}class Hr{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(c,b,V,Q,ae,ve,ke){this.context=c;let Te=this.boundPaintVertexBuffers.length!==Q.length;for(let Ne=0;!Te&&Ne<Q.length;Ne++)this.boundPaintVertexBuffers[Ne]!==Q[Ne]&&(Te=!0);let je=this.boundDynamicVertexBuffers.length!==ke.length;for(let Ne=0;!je&&Ne<ke.length;Ne++)this.boundDynamicVertexBuffers[Ne]!==ke[Ne]&&(je=!0);if(!c.extVertexArrayObject||!this.vao||this.boundProgram!==b||this.boundLayoutVertexBuffer!==V||Te||je||this.boundIndexBuffer!==ae||this.boundVertexOffset!==ve)this.freshBind(b,V,Q,ae,ve,ke);else{c.bindVertexArrayOES.set(this.vao);for(const Ne of ke)Ne&&Ne.bind();ae&&ae.dynamicDraw&&ae.bind()}}freshBind(c,b,V,Q,ae,ve){let ke;const Te=c.numAttributes,je=this.context,Ne=je.gl;if(je.extVertexArrayObject)this.vao&&this.destroy(),this.vao=je.extVertexArrayObject.createVertexArrayOES(),je.bindVertexArrayOES.set(this.vao),ke=0,this.boundProgram=c,this.boundLayoutVertexBuffer=b,this.boundPaintVertexBuffers=V,this.boundIndexBuffer=Q,this.boundVertexOffset=ae,this.boundDynamicVertexBuffers=ve;else{ke=je.currentNumAttributes||0;for(let Ye=Te;Ye<ke;Ye++)Ne.disableVertexAttribArray(Ye)}b.enableAttributes(Ne,c),b.bind(),b.setVertexAttribPointers(Ne,c,ae);for(const Ye of V)Ye.enableAttributes(Ne,c),Ye.bind(),Ye.setVertexAttribPointers(Ne,c,ae);for(const Ye of ve)Ye&&(Ye.enableAttributes(Ne,c),Ye.bind(),Ye.setVertexAttribPointers(Ne,c,ae));Q&&Q.bind(),je.currentNumAttributes=Te}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function yr(D,c){const b=Math.pow(2,c.canonical.z),V=c.canonical.y;return[new n.MercatorCoordinate(0,V/b).toLngLat().lat,new n.MercatorCoordinate(0,(V+1)/b).toLngLat().lat]}function Vn(D,c,b,V,Q,ae,ve){const ke=D.context,Te=ke.gl,je=b.fbo;if(!je)return;D.prepareDrawTile();const Ne=D.useProgram("hillshade");ke.activeTexture.set(Te.TEXTURE0),Te.bindTexture(Te.TEXTURE_2D,je.colorAttachment.get());const Ye=((kt,ft,yt,Ct)=>{const xt=yt.paint.get("hillshade-shadow-color"),Rt=yt.paint.get("hillshade-highlight-color"),Ht=yt.paint.get("hillshade-accent-color");let zt=yt.paint.get("hillshade-illumination-direction")*(Math.PI/180);yt.paint.get("hillshade-illumination-anchor")==="viewport"&&(zt-=kt.transform.angle);const Jt=!kt.options.moving;return{u_matrix:Ct||kt.transform.calculateProjMatrix(ft.tileID.toUnwrapped(),Jt),u_image:0,u_latrange:yr(0,ft.tileID),u_light:[yt.paint.get("hillshade-exaggeration"),zt],u_shadow:xt,u_highlight:Rt,u_accent:Ht}})(D,b,V,D.terrain?c.projMatrix:null);D.prepareDrawProgram(ke,Ne,c.toUnwrapped());const{tileBoundsBuffer:lt,tileBoundsIndexBuffer:_t,tileBoundsSegments:bt}=D.getTileBoundsBuffers(b);Ne.draw(ke,Te.TRIANGLES,Q,ae,ve,n.CullFaceMode.disabled,Ye,V.id,lt,_t,bt)}function Cn(D,c,b){if(!c.needsDEMTextureUpload)return;const V=D.context,Q=V.gl;V.pixelStoreUnpackPremultiplyAlpha.set(!1),c.demTexture=c.demTexture||D.getTileTexture(b.stride);const ae=b.getPixels();c.demTexture?c.demTexture.update(ae,{premultiply:!1}):c.demTexture=new n.Texture(V,ae,Q.RGBA,{premultiply:!1}),c.needsDEMTextureUpload=!1}function rn(D,c,b,V,Q,ae){const ve=D.context,ke=ve.gl;if(!c.dem)return;const Te=c.dem;if(ve.activeTexture.set(ke.TEXTURE1),Cn(D,c,Te),!c.demTexture)return;c.demTexture.bind(ke.NEAREST,ke.CLAMP_TO_EDGE);const je=Te.dim;ve.activeTexture.set(ke.TEXTURE0);let Ne=c.fbo;if(!Ne){const bt=new n.Texture(ve,{width:je,height:je,data:null},ke.RGBA);bt.bind(ke.LINEAR,ke.CLAMP_TO_EDGE),Ne=c.fbo=ve.createFramebuffer(je,je,!0),Ne.colorAttachment.set(bt.texture)}ve.bindFramebuffer.set(Ne.framebuffer),ve.viewport.set([0,0,je,je]);const{tileBoundsBuffer:Ye,tileBoundsIndexBuffer:lt,tileBoundsSegments:_t}=D.getMercatorTileBoundsBuffers();D.useProgram("hillshadePrepare").draw(ve,ke.TRIANGLES,V,Q,ae,n.CullFaceMode.disabled,((bt,kt)=>{const ft=kt.stride,yt=n.create();return n.ortho(yt,0,n.EXTENT,-n.EXTENT,0,0,1),n.translate(yt,yt,[0,-n.EXTENT,0]),{u_matrix:yt,u_image:1,u_dimension:[ft,ft],u_zoom:bt.overscaledZ,u_unpack:kt.unpackVector}})(c.tileID,Te),b.id,Ye,lt,_t),c.needsHillshadePrepare=!1}const sn=D=>({u_matrix:new n.UniformMatrix4f(D),u_image0:new n.Uniform1i(D),u_skirt_height:new n.Uniform1f(D)}),Br=(D,c)=>({u_matrix:D,u_image0:0,u_skirt_height:c}),ya=(D,c,b,V,Q,ae,ve,ke,Te,je,Ne,Ye,lt,_t)=>({u_proj_matrix:Float32Array.from(D),u_globe_matrix:c,u_normalize_matrix:Float32Array.from(V),u_merc_matrix:b,u_zoom_transition:Q,u_merc_center:ae,u_image0:0,u_frustum_tl:ve,u_frustum_tr:ke,u_frustum_br:Te,u_frustum_bl:je,u_globe_pos:Ne,u_globe_radius:Ye,u_viewport:lt,u_grid_matrix:_t?Float32Array.from(_t):new Float32Array(9)});function ln(D,c){return D!=null&&c!=null&&!(!D.hasData()||!c.hasData())&&D.demTexture!=null&&c.demTexture!=null&&D.tileID.key!==c.tileID.key}const En=new class{constructor(){this.operations={}}newMorphing(D,c,b,V,Q){if(D in this.operations){const ae=this.operations[D];ae.to.tileID.key!==b.tileID.key&&(ae.queued=b)}else this.operations[D]={startTime:V,phase:0,duration:Q,from:c,to:b,queued:null}}getMorphValuesForProxy(D){if(!(D in this.operations))return null;const c=this.operations[D];return{from:c.from,to:c.to,phase:c.phase}}update(D){for(const c in this.operations){const b=this.operations[c];for(b.phase=(D-b.startTime)/b.duration;b.phase>=1||!this._validOp(b);)if(!this._nextOp(b,D)){delete this.operations[c];break}}}_nextOp(D,c){return!!D.queued&&(D.from=D.to,D.to=D.queued,D.queued=null,D.phase=0,D.startTime=c,!0)}_validOp(D){return D.from.hasData()&&D.to.hasData()}},Co={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function yo(D,c){const b=1<<D.z;return!c&&(D.x===0||D.x===b-1)||D.y===0||D.y===b-1}const va=D=>({u_matrix:D});function Da(D,c,b,V,Q){if(Q>0){const ae=n.exported.now(),ve=(ae-D.timeAdded)/Q,ke=c?(ae-c.timeAdded)/Q:-1,Te=b.getSource(),je=V.coveringZoomLevel({tileSize:Te.tileSize,roundZoom:Te.roundZoom}),Ne=!c||Math.abs(c.tileID.overscaledZ-je)>Math.abs(D.tileID.overscaledZ-je),Ye=Ne&&D.refreshedUponExpiration?1:n.clamp(Ne?ve:1-ke,0,1);return D.refreshedUponExpiration&&ve>=1&&(D.refreshedUponExpiration=!1),c?{opacity:1,mix:1-Ye}:{opacity:Ye,mix:0}}return{opacity:1,mix:0}}class $r extends n.SourceCache{constructor(c){const b={type:"raster-dem",maxzoom:c.transform.maxZoom},V=new Ce(si(),null),Q=Lt("mock-dem",b,V,c.style);super("mock-dem",Q,!1),Q.setEventedParent(this),this._sourceLoaded=!0}_loadTile(c,b){c.state="loaded",b(null)}}class ba extends n.SourceCache{constructor(c){const b=Lt("proxy",{type:"geojson",maxzoom:c.transform.maxZoom},new Ce(si(),null),c.style);super("proxy",b,!1),b.setEventedParent(this),this.map=this.getSource().map=c,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(c,b,V){if(c.freezeTileCoverage)return;this.transform=c;const Q=c.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((ae,ve)=>{if(ae[ve.key]="",!this._tiles[ve.key]){const ke=new n.Tile(ve,this._source.tileSize*ve.overscaleFactor(),c.tileZoom);ke.state="loaded",this._tiles[ve.key]=ke}return ae},{});for(const ae in this._tiles)ae in Q||(this.freeFBO(ae),this._tiles[ae].unloadVectorData(),delete this._tiles[ae])}freeFBO(c){const b=this.proxyCachedFBO[c];if(b!==void 0){const V=Object.values(b);this.renderCachePool.push(...V),delete this.proxyCachedFBO[c]}}deallocRenderCache(){this.renderCache.forEach(c=>c.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class qa extends n.OverscaledTileID{constructor(c,b,V){super(c.overscaledZ,c.wrap,c.canonical.z,c.canonical.x,c.canonical.y),this.proxyTileKey=b,this.projMatrix=V}}class qn extends n.Elevation{constructor(c,b){super(),this.painter=c,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[V,Q,ae]=function(Te){const je=new n.StructArrayLayout4i8,Ne=new n.StructArrayLayout3ui6,Ye=131;je.reserve(17161),Ne.reserve(33800);const lt=n.EXTENT/128,_t=n.EXTENT+lt/2,bt=_t+lt;for(let ft=-lt;ft<bt;ft+=lt)for(let yt=-lt;yt<bt;yt+=lt){const Ct=yt<0||yt>_t||ft<0||ft>_t?24575:0,xt=n.clamp(Math.round(yt),0,n.EXTENT),Rt=n.clamp(Math.round(ft),0,n.EXTENT);je.emplaceBack(xt+Ct,Rt,xt,Rt)}const kt=(ft,yt)=>{const Ct=yt*Ye+ft;Ne.emplaceBack(Ct+1,Ct,Ct+Ye),Ne.emplaceBack(Ct+Ye,Ct+Ye+1,Ct+1)};for(let ft=1;ft<129;ft++)for(let yt=1;yt<129;yt++)kt(yt,ft);return[0,129].forEach(ft=>{for(let yt=0;yt<130;yt++)kt(yt,ft),kt(ft,yt)}),[je,Ne,32768]}(),ve=c.context;this.gridBuffer=ve.createVertexBuffer(V,n.boundsAttributes.members),this.gridIndexBuffer=ve.createIndexBuffer(Q),this.gridSegments=n.SegmentVector.simpleSegment(0,0,V.length,Q.length),this.gridNoSkirtSegments=n.SegmentVector.simpleSegment(0,0,V.length,ae),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new ba(b.map),this.orthoMatrix=n.create(),n.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,n.EXTENT,0,n.EXTENT,0,1);const ke=ve.gl;this._overlapStencilMode=new n.StencilMode({func:ke.GEQUAL,mask:255},0,255,ke.KEEP,ke.KEEP,ke.REPLACE),this._previousZoom=c.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=b,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new $r(b.map)}set style(c){c.on("data",this._onStyleDataEvent.bind(this)),c.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=c,this._checkRenderCacheEfficiency()}update(c,b,V){if(c&&c.terrain){this._style!==c&&(this.style=c),this.enabled=!0;const Q=c.terrain.properties;this.sourceCache=c.terrain.drapeRenderMode===0?this._mockSourceCache:c._getSourceCache(Q.get("source")),this._exaggeration=Q.get("exaggeration");const ae=()=>{this.sourceCache.used&&n.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const ve=this.getScaledDemTileSize();this.sourceCache.update(b,ve,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,ae(),this._initializing=!0),ae(),b.updateElevation(!0,V),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(b),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(c){this._findCoveringTileCache[c]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const c=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||c.efficiency!==100&&n.warnOnce(`Terrain render cache efficiency is not optimal (${c.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${c.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(c){c.coord&&c.dataType==="source"?this._clearRenderCacheForTile(c.sourceCacheId,c.coord):c.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const c in this._style._sourceCaches)this._style._sourceCaches[c].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(c=>c.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const c=2*this.proxySourceCache.getSource().tileSize;return[c,c]}set useVertexMorphing(c){this._useVertexMorphing=c}updateTileBinding(c){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const b=this.proxySourceCache,V=this.painter.transform;this._initializing&&(this._initializing=V._centerAltitude===0&&this.getAtPointOrZero(n.MercatorCoordinate.fromLngLat(V.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const Q=this.proxyCoords=b.getIds().map(Te=>{const je=b.getTileByID(Te).tileID;return je.projMatrix=V.calculateProjMatrix(je.toUnwrapped()),je});(function(Te,je){const Ne=je.transform.pointCoordinate(je.transform.getCameraPoint()),Ye=new n.pointGeometry(Ne.x,Ne.y);Te.sort((lt,_t)=>{if(_t.overscaledZ-lt.overscaledZ)return _t.overscaledZ-lt.overscaledZ;const bt=new n.pointGeometry(lt.canonical.x+(1<<lt.canonical.z)*lt.wrap,lt.canonical.y),kt=new n.pointGeometry(_t.canonical.x+(1<<_t.canonical.z)*_t.wrap,_t.canonical.y),ft=Ye.mult(1<<lt.canonical.z);return ft.x-=.5,ft.y-=.5,ft.distSqr(bt)-ft.distSqr(kt)})})(Q,this.painter),this._previousZoom=V.zoom;const ae=this.proxyToSource||{};this.proxyToSource={},Q.forEach(Te=>{this.proxyToSource[Te.key]={}}),this.terrainTileForTile={};const ve=this._style._sourceCaches;for(const Te in ve){const je=ve[Te];if(!je.used||(je!==this.sourceCache&&this.resetTileLookupCache(je.id),this._setupProxiedCoordsForOrtho(je,c[Te],ae),je.usedForTerrain))continue;const Ne=c[Te];je.getSource().reparseOverscaled&&this._assignTerrainTiles(Ne)}this.proxiedCoords[b.id]=Q.map(Te=>new qa(Te,Te.key,this.orthoMatrix)),this._assignTerrainTiles(Q),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(ae),this.renderingToTexture=!1,this._updateTimestamp=n.exported.now();const ke={};this._visibleDemTiles=[];for(const Te of this.proxyCoords){const je=this.terrainTileForTile[Te.key];if(!je)continue;const Ne=je.tileID.key;Ne in ke||(this._visibleDemTiles.push(je),ke[Ne]=Ne)}}_assignTerrainTiles(c){this._initializing||c.forEach(b=>{if(this.terrainTileForTile[b.key])return;const V=this._findTileCoveringTileID(b,this.sourceCache);V&&(this.terrainTileForTile[b.key]=V)})}_prepareDEMTextures(){const c=this.painter.context,b=c.gl;for(const V in this.terrainTileForTile){const Q=this.terrainTileForTile[V],ae=Q.dem;!ae||Q.demTexture&&!Q.needsDEMTextureUpload||(c.activeTexture.set(b.TEXTURE1),Cn(this.painter,Q,ae))}}_prepareDemTileUniforms(c,b,V,Q){if(!b||b.demTexture==null)return!1;const ae=c.tileID.canonical,ve=Math.pow(2,b.tileID.canonical.z-ae.z),ke=Q||"";return V[`u_dem_tl${ke}`]=[ae.x*ve%1,ae.y*ve%1],V[`u_dem_scale${ke}`]=ve,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const c=this.painter.context,b=c.gl;if(!this._emptyDepthBufferTexture){const V=new n.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new n.Texture(c,V,b.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let c=0;const b=this._visibleDemTiles.reduce((V,Q)=>{if(!Q.dem)return V;const ae=Q.dem.tree.minimums[0];return ae>0&&c++,V+ae},0);return c?b/c:0}_updateEmptyDEMTexture(){const c=this.painter.context,b=c.gl;c.activeTexture.set(b.TEXTURE2);const V=this._getLoadedAreaMinimum(),Q=new n.RGBAImage({width:1,height:1},new Uint8Array(n.DEMData.pack(V,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let ae=this._emptyDEMTexture;return ae?ae.update(Q,{premultiply:!1}):ae=this._emptyDEMTexture=new n.Texture(c,Q,b.RGBA,{premultiply:!1}),ae}setupElevationDraw(c,b,V){const Q=this.painter.context,ae=Q.gl,ve=(ke=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:n.DEMData.getUnpackVector(ke),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var ke;ve.u_dem_size=this.sourceCache.getSource().tileSize,ve.u_exaggeration=this.exaggeration();let Te=null,je=null,Ne=1;if(V&&V.morphing&&this._useVertexMorphing){const Ye=V.morphing.srcDemTile,lt=V.morphing.dstDemTile;Ne=V.morphing.phase,Ye&&lt&&(this._prepareDemTileUniforms(c,Ye,ve,"_prev")&&(je=Ye),this._prepareDemTileUniforms(c,lt,ve)&&(Te=lt))}if(je&&Te?(Q.activeTexture.set(ae.TEXTURE2),Te.demTexture.bind(ae.NEAREST,ae.CLAMP_TO_EDGE,ae.NEAREST),Q.activeTexture.set(ae.TEXTURE4),je.demTexture.bind(ae.NEAREST,ae.CLAMP_TO_EDGE,ae.NEAREST),ve.u_dem_lerp=Ne):(Te=this.terrainTileForTile[c.tileID.key],Q.activeTexture.set(ae.TEXTURE2),(this._prepareDemTileUniforms(c,Te,ve)?Te.demTexture:this.emptyDEMTexture).bind(ae.NEAREST,ae.CLAMP_TO_EDGE)),Q.activeTexture.set(ae.TEXTURE3),V&&V.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(ae.NEAREST,ae.CLAMP_TO_EDGE),this._depthFBO&&(ve.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(ae.NEAREST,ae.CLAMP_TO_EDGE),ve.u_depth_size_inv=[1,1]),V&&V.useMeterToDem&&Te){const Ye=(1<<Te.tileID.canonical.z)*n.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;ve.u_meter_to_dem=Ye}if(V&&V.labelPlaneMatrixInv&&(ve.u_label_plane_matrix_inv=V.labelPlaneMatrixInv),b.setTerrainUniformValues(Q,ve),this.painter.transform.projection.name==="globe"){const Ye=this.globeUniformValues(this.painter.transform,c.tileID.canonical,V&&V.useDenormalizedUpVectorScale);b.setGlobeUniformValues(Q,Ye)}}globeUniformValues(c,b,V){const Q=c.projection;return{u_tile_tl_up:Q.upVector(b,0,0),u_tile_tr_up:Q.upVector(b,n.EXTENT,0),u_tile_br_up:Q.upVector(b,n.EXTENT,n.EXTENT),u_tile_bl_up:Q.upVector(b,0,n.EXTENT),u_tile_up_scale:V?n.GLOBE_METERS_TO_ECEF:Q.upVectorScale(b,c.center.lat,c.worldSize).metersToTile}}renderToBackBuffer(c){const b=this.painter,V=this.painter.context;c.length!==0&&(V.bindFramebuffer.set(null),V.viewport.set([0,0,b.width,b.height]),b.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(Q,ae,ve,ke,Te){if(Q.transform.projection.name==="globe")(function(je,Ne,Ye,lt,_t){const bt=je.context,kt=bt.gl;let ft,yt;const Ct=je.options.showTerrainWireframe?2:0,xt=je.transform,Rt=n.globeUseCustomAntiAliasing(je,bt,xt),Ht=(Hi,Ai)=>{if(yt===Hi)return;const Bi=[Co[Hi],"PROJECTION_GLOBE_VIEW"];Rt&&Bi.push("CUSTOM_ANTIALIASING"),Ai&&Bi.push(Co[Ct]),ft=je.useProgram("globeRaster",null,Bi),yt=Hi},zt=je.colorModeForRenderPass(),Jt=new n.DepthMode(kt.LEQUAL,n.DepthMode.ReadWrite,je.depthRangeFor3D);En.update(_t);const yi=n.calculateGlobeMercatorMatrix(xt),di=[n.mercatorXfromLng(xt.center.lng),n.mercatorYfromLat(xt.center.lat)],ni=Ct?[!1,!0]:[!1],ji=je.globeSharedBuffers,ui=[xt.width*n.exported.devicePixelRatio,xt.height*n.exported.devicePixelRatio],Oi=Float32Array.from(xt.globeMatrix),Si={useDenormalizedUpVectorScale:!0};if(ni.forEach(Hi=>{yt=-1;const Ai=Hi?kt.LINES:kt.TRIANGLES;for(const Bi of lt){const Yi=Ye.getTile(Bi),ai=n.StencilMode.disabled,bi=Ne.prevTerrainTileForTile[Bi.key],vr=Ne.terrainTileForTile[Bi.key];ln(bi,vr)&&En.newMorphing(Bi.key,bi,vr,_t,250),bt.activeTexture.set(kt.TEXTURE0),Yi.texture.bind(kt.LINEAR,kt.CLAMP_TO_EDGE);const Sr=En.getMorphValuesForProxy(Bi.key),_r=Sr?1:0;Sr&&n.extend$1(Si,{morphing:{srcDemTile:Sr.from,dstDemTile:Sr.to,phase:n.easeCubicInOut(Sr.phase)}});const Lr=n.tileCornersToBounds(Bi.canonical),on=n.getLatitudinalLod(Lr.getCenter().lat),Ar=n.getGridMatrix(Bi.canonical,Lr,on,xt.worldSize/xt._pixelsPerMercatorPixel),mr=n.globeNormalizeECEF(n.globeTileBounds(Bi.canonical)),jn=ya(xt.projMatrix,Oi,yi,mr,n.globeToMercatorTransition(xt.zoom),di,xt.frustumCorners.TL,xt.frustumCorners.TR,xt.frustumCorners.BR,xt.frustumCorners.BL,xt.globeCenterInViewSpace,xt.globeRadius,ui,Ar);if(Ht(_r,Hi),Ne.setupElevationDraw(Yi,ft,Si),je.prepareDrawProgram(bt,ft,Bi.toUnwrapped()),ji){const[Mn,Gn,Bn]=Hi?ji.getWirefameBuffers(je.context,on):ji.getGridBuffers(on);ft.draw(bt,Ai,Jt,ai,zt,n.CullFaceMode.backCCW,jn,"globe_raster",Mn,Gn,Bn)}}}),ji){const Hi=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];Rt&&Hi.push("CUSTOM_ANTIALIASING"),ft=je.useProgram("globeRaster",null,Hi);for(const Ai of lt){const{x:Bi,y:Yi,z:ai}=Ai.canonical,bi=Yi===0,vr=Yi===(1<<ai)-1,[Sr,_r,Lr,on]=ji.getPoleBuffers(ai);if(on&&(bi||vr)){const Ar=Ye.getTile(Ai);bt.activeTexture.set(kt.TEXTURE0),Ar.texture.bind(kt.LINEAR,kt.CLAMP_TO_EDGE);let mr=n.globePoleMatrixForTile(ai,Bi,xt);const jn=n.globeNormalizeECEF(n.globeTileBounds(Ai.canonical)),Mn=(Gn,Bn)=>Gn.draw(bt,kt.TRIANGLES,Jt,n.StencilMode.disabled,zt,n.CullFaceMode.disabled,ya(xt.projMatrix,mr,mr,jn,0,di,xt.frustumCorners.TL,xt.frustumCorners.TR,xt.frustumCorners.BR,xt.frustumCorners.BL,xt.globeCenterInViewSpace,xt.globeRadius,ui),"globe_pole_raster",Bn,Lr,on);Ne.setupElevationDraw(Ar,ft,Si),je.prepareDrawProgram(bt,ft,Ai.toUnwrapped()),bi&&Mn(ft,Sr),vr&&(mr=n.scale(n.create(),mr,[1,-1,1]),Mn(ft,_r))}}}})(Q,ae,ve,ke,Te);else{const je=Q.context,Ne=je.gl;let Ye,lt;const _t=Q.options.showTerrainWireframe?2:0,bt=(xt,Rt)=>{if(lt===xt)return;const Ht=[Co[xt]];Rt&&Ht.push(Co[_t]),Ye=Q.useProgram("terrainRaster",null,Ht),lt=xt},kt=Q.colorModeForRenderPass(),ft=new n.DepthMode(Ne.LEQUAL,n.DepthMode.ReadWrite,Q.depthRangeFor3D);En.update(Te);const yt=Q.transform,Ct=6*Math.pow(1.5,22-yt.zoom)*ae.exaggeration();(_t?[!1,!0]:[!1]).forEach(xt=>{lt=-1;const Rt=xt?Ne.LINES:Ne.TRIANGLES,[Ht,zt]=xt?ae.getWirefameBuffer():[ae.gridIndexBuffer,ae.gridSegments];for(const Jt of ke){const yi=ve.getTile(Jt),di=n.StencilMode.disabled,ni=ae.prevTerrainTileForTile[Jt.key],ji=ae.terrainTileForTile[Jt.key];ln(ni,ji)&&En.newMorphing(Jt.key,ni,ji,Te,250),je.activeTexture.set(Ne.TEXTURE0),yi.texture.bind(Ne.LINEAR,Ne.CLAMP_TO_EDGE,Ne.LINEAR_MIPMAP_NEAREST);const ui=En.getMorphValuesForProxy(Jt.key),Oi=ui?1:0;let Si;ui&&(Si={morphing:{srcDemTile:ui.from,dstDemTile:ui.to,phase:n.easeCubicInOut(ui.phase)}});const Hi=Br(Jt.projMatrix,yo(Jt.canonical,yt.renderWorldCopies)?Ct/10:Ct);bt(Oi,xt),ae.setupElevationDraw(yi,Ye,Si),Q.prepareDrawProgram(je,Ye,Jt.toUnwrapped()),Ye.draw(je,Rt,ft,di,kt,n.CullFaceMode.backCCW,Hi,"terrain_raster",ae.gridBuffer,Ht,zt)}})}}(b,this,this.proxySourceCache,c,this._updateTimestamp),this.renderingToTexture=!0,b.gpuTimingDeferredRenderEnd(),c.splice(0,c.length))}renderBatch(c){if(this._drapedRenderBatches.length===0)return c+1;this.renderingToTexture=!0;const b=this.painter,V=this.painter.context,Q=this.proxySourceCache,ae=this.proxiedCoords[Q.id],ve=this._drapedRenderBatches.shift(),ke=[],Te=b.style.order;let je=0;for(const Ne of ae){const Ye=Q.getTileByID(Ne.proxyTileKey),lt=Q.proxyCachedFBO[Ne.key]?Q.proxyCachedFBO[Ne.key][c]:void 0,_t=lt!==void 0?Q.renderCache[lt]:this.pool[je++],bt=lt!==void 0;if(Ye.texture=_t.tex,bt&&!_t.dirty){ke.push(Ye.tileID);continue}let kt;V.bindFramebuffer.set(_t.fb.framebuffer),this.renderedToTile=!1,_t.dirty&&(V.clear({color:n.Color.transparent,stencil:0}),_t.dirty=!1);for(let ft=ve.start;ft<=ve.end;++ft){const yt=b.style._layers[Te[ft]];if(yt.isHidden(b.transform.zoom))continue;const Ct=b.style._getLayerSourceCache(yt),xt=Ct?this.proxyToSource[Ne.key][Ct.id]:[Ne];if(!xt)continue;const Rt=xt;V.viewport.set([0,0,_t.fb.width,_t.fb.height]),kt!==(Ct?Ct.id:null)&&(this._setupStencil(_t,xt,yt,Ct),kt=Ct?Ct.id:null),b.renderLayer(b,Ct,yt,Rt)}this.renderedToTile?(_t.dirty=!0,ke.push(Ye.tileID)):bt||--je,je===5&&(je=0,this.renderToBackBuffer(ke))}return this.renderToBackBuffer(ke),this.renderingToTexture=!1,V.bindFramebuffer.set(null),V.viewport.set([0,0,b.width,b.height]),ve.end+1}postRender(){}renderCacheEfficiency(c){const b=c.order.length;if(b===0)return{efficiency:100};let V,Q=0,ae=0,ve=!1;for(let ke=0;ke<b;++ke){const Te=c._layers[c.order[ke]];this._style.isLayerDraped(Te)?(ve&&++Q,++ae):ve||(ve=!0,V=Te.id)}return ae===0?{efficiency:100}:{efficiency:100*(1-Q/ae),firstUndrapedLayer:V}}getMinElevationBelowMSL(){let c=0;return this._visibleDemTiles.filter(b=>b.dem).forEach(b=>{c=Math.min(c,b.dem.tree.minimums[0])}),c===0?c:(c-30)*this._exaggeration}raycast(c,b,V){if(!this._visibleDemTiles)return null;const Q=this._visibleDemTiles.filter(ae=>ae.dem).map(ae=>{const ve=ae.tileID,ke=1<<ve.overscaledZ,{x:Te,y:je}=ve.canonical,Ne=Te/ke,Ye=(Te+1)/ke,lt=je/ke,_t=(je+1)/ke;return{minx:Ne,miny:lt,maxx:Ye,maxy:_t,t:ae.dem.tree.raycastRoot(Ne,lt,Ye,_t,c,b,V),tile:ae}});Q.sort((ae,ve)=>(ae.t!==null?ae.t:Number.MAX_VALUE)-(ve.t!==null?ve.t:Number.MAX_VALUE));for(const ae of Q){if(ae.t==null)return null;const ve=ae.tile.dem.tree.raycast(ae.minx,ae.miny,ae.maxx,ae.maxy,c,b,V);if(ve!=null)return ve}return null}_createFBO(){const c=this.painter.context,b=c.gl,V=this.drapeBufferSize;c.activeTexture.set(b.TEXTURE0);const Q=new n.Texture(c,{width:V[0],height:V[1],data:null},b.RGBA);Q.bind(b.LINEAR,b.CLAMP_TO_EDGE);const ae=c.createFramebuffer(V[0],V[1],!1);return ae.colorAttachment.set(Q.texture),ae.depthAttachment=new go(c,ae.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=c.createRenderbuffer(c.gl.DEPTH_STENCIL,V[0],V[1]),this._stencilRef=0,ae.depthAttachment.set(this._sharedDepthStencil),c.clear({stencil:0})):ae.depthAttachment.set(this._sharedDepthStencil),c.extTextureFilterAnisotropic&&!c.extTextureFilterAnisotropicForceOff&&b.texParameterf(b.TEXTURE_2D,c.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,c.extTextureFilterAnisotropicMax),{fb:ae,tex:Q,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const c in this._style._sourceCaches)if(this._style._sourceCaches[c].hasTransition())return!0;return this._style.order.some(c=>{const b=this._style._layers[c],V=b.isHidden(this.painter.transform.zoom);return b.type!=="custom"&&!V&&b.hasTransition()})}_clearRasterFadeFromRenderCache(){let c=!1;for(const b in this._style._sourceCaches)if(this._style._sourceCaches[b]._source instanceof nt){c=!0;break}if(c)for(let b=0;b<this._style.order.length;++b){const V=this._style._layers[this._style.order[b]],Q=V.isHidden(this.painter.transform.zoom),ae=this._style._getLayerSourceCache(V);if(V.type!=="raster"||Q||!ae)continue;const ve=V.paint.get("raster-fade-duration");for(const ke of this.proxyCoords){const Te=this.proxyToSource[ke.key][ae.id];if(Te)for(const je of Te){const Ne=Da(ae.getTile(je),ae.findLoadedParent(je,0),ae,this.painter.transform,ve);(Ne.opacity!==1||Ne.mix!==0)&&this._clearRenderCacheForTile(ae.id,je)}}}}_setupDrapedRenderBatches(){const c=this._style.order,b=c.length;if(b===0)return;const V=[];let Q,ae=0,ve=this._style._layers[c[ae]];for(;!this._style.isLayerDraped(ve)&&ve.isHidden(this.painter.transform.zoom)&&++ae<b;)ve=this._style._layers[c[ae]];for(;ae<b;++ae){const ke=this._style._layers[c[ae]];ke.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(ke)?Q===void 0&&(Q=ae):Q!==void 0&&(V.push({start:Q,end:ae-1}),Q=void 0))}Q!==void 0&&V.push({start:Q,end:ae-1}),this._drapedRenderBatches=V}_setupRenderCache(c){const b=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,b.renderCache.length>b.renderCachePool.length){const ve=Object.values(b.proxyCachedFBO);b.proxyCachedFBO={};for(let ke=0;ke<ve.length;++ke){const Te=Object.values(ve[ke]);b.renderCachePool.push(...Te)}}return}this._clearRasterFadeFromRenderCache();const V=this.proxyCoords,Q=this._tilesDirty;for(let ve=V.length-1;ve>=0;ve--){const ke=V[ve];if(b.getTileByID(ke.key),b.proxyCachedFBO[ke.key]!==void 0){const Te=c[ke.key],je=this.proxyToSource[ke.key];let Ne=0;for(const Ye in je){const lt=je[Ye],_t=Te[Ye];if(!_t||_t.length!==lt.length||lt.some((bt,kt)=>bt!==_t[kt]||Q[Ye]&&Q[Ye].hasOwnProperty(bt.key))){Ne=-1;break}++Ne}for(const Ye in b.proxyCachedFBO[ke.key])b.renderCache[b.proxyCachedFBO[ke.key][Ye]].dirty=Ne<0||Ne!==Object.values(Te).length}}const ae=[...this._drapedRenderBatches];ae.sort((ve,ke)=>ke.end-ke.start-(ve.end-ve.start));for(const ve of ae)for(const ke of V){if(b.proxyCachedFBO[ke.key])continue;let Te=b.renderCachePool.pop();Te===void 0&&b.renderCache.length<50&&(Te=b.renderCache.length,b.renderCache.push(this._createFBO())),Te!==void 0&&(b.proxyCachedFBO[ke.key]={},b.proxyCachedFBO[ke.key][ve.start]=Te,b.renderCache[Te].dirty=!0)}this._tilesDirty={}}_setupStencil(c,b,V,Q){if(!Q||!this._sourceTilesOverlap[Q.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const ae=this.painter.context,ve=ae.gl;if(b.length<=1)return void(this._overlapStencilType=!1);let ke;if(V.isTileClipped())ke=b.length,this._overlapStencilMode.test={func:ve.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(b[0].overscaledZ>b[b.length-1].overscaledZ))return void(this._overlapStencilType=!1);ke=1,this._overlapStencilMode.test={func:ve.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+ke>255&&(ae.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=ke,this._overlapStencilMode.ref=this._stencilRef,V.isTileClipped()&&this._renderTileClippingMasks(b,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(c){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[c.key]),this._overlapStencilMode):n.StencilMode.disabled}_renderTileClippingMasks(c,b){const V=this.painter,Q=this.painter.context,ae=Q.gl;V._tileClippingMaskIDs={},Q.setColorMode(n.ColorMode.disabled),Q.setDepthMode(n.DepthMode.disabled);const ve=V.useProgram("clippingMask");for(const ke of c){const Te=V._tileClippingMaskIDs[ke.key]=--b;ve.draw(Q,ae.TRIANGLES,n.DepthMode.disabled,new n.StencilMode({func:ae.ALWAYS,mask:0},Te,255,ae.KEEP,ae.KEEP,ae.REPLACE),n.ColorMode.disabled,n.CullFaceMode.disabled,va(ke.projMatrix),"$clipping",V.tileExtentBuffer,V.quadTriangleIndexBuffer,V.tileExtentSegments)}}pointCoordinate(c){const b=this.painter.transform;if(c.x<0||c.x>b.width||c.y<0||c.y>b.height)return null;const V=[c.x,c.y,1,1];n.transformMat4$1(V,V,b.pixelMatrixInverse),n.scale$1(V,V,1/V[3]),V[0]/=b.worldSize,V[1]/=b.worldSize;const Q=b._camera.position,ae=n.mercatorZfromAltitude(1,b.center.lat),ve=[Q[0],Q[1],Q[2]/ae,0],ke=n.subtract([],V.slice(0,3),ve);n.normalize(ke,ke);const Te=this.raycast(ve,ke,this._exaggeration);return Te!==null&&Te?(n.scaleAndAdd(ve,ve,ke,Te),ve[3]=ve[2],ve[2]*=ae,ve):null}drawDepth(){const c=this.painter,b=c.context,V=this.proxySourceCache,Q=Math.ceil(c.width),ae=Math.ceil(c.height);if(!this._depthFBO||this._depthFBO.width===Q&&this._depthFBO.height===ae||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const ve=b.gl,ke=b.createFramebuffer(Q,ae,!0);b.activeTexture.set(ve.TEXTURE0);const Te=new n.Texture(b,{width:Q,height:ae,data:null},ve.RGBA);Te.bind(ve.NEAREST,ve.CLAMP_TO_EDGE),ke.colorAttachment.set(Te.texture);const je=b.createRenderbuffer(b.gl.DEPTH_COMPONENT16,Q,ae);ke.depthAttachment.set(je),this._depthFBO=ke,this._depthTexture=Te}b.bindFramebuffer.set(this._depthFBO.framebuffer),b.viewport.set([0,0,Q,ae]),function(ve,ke,Te,je){if(ve.transform.projection.name==="globe")return;const Ne=ve.context,Ye=Ne.gl;Ne.clear({depth:1});const lt=ve.useProgram("terrainDepth"),_t=new n.DepthMode(Ye.LESS,n.DepthMode.ReadWrite,ve.depthRangeFor3D);for(const bt of je){const kt=Te.getTile(bt),ft=Br(bt.projMatrix,0);ke.setupElevationDraw(kt,lt),lt.draw(Ne,Ye.TRIANGLES,_t,n.StencilMode.disabled,n.ColorMode.unblended,n.CullFaceMode.backCCW,ft,"terrain_depth",ke.gridBuffer,ke.gridIndexBuffer,ke.gridNoSkirtSegments)}}(c,this,V,this.proxyCoords)}_setupProxiedCoordsForOrtho(c,b,V){if(c.getSource()instanceof Tt)return this._setupProxiedCoordsForImageSource(c,b,V);this._findCoveringTileCache[c.id]=this._findCoveringTileCache[c.id]||{};const Q=this.proxiedCoords[c.id]=[],ae=this.proxyCoords;for(let ke=0;ke<ae.length;ke++){const Te=ae[ke],je=this._findTileCoveringTileID(Te,c);if(je){const Ne=this._createProxiedId(Te,je,V[Te.key]&&V[Te.key][c.id]);Q.push(Ne),this.proxyToSource[Te.key][c.id]=[Ne]}}let ve=!1;for(let ke=0;ke<b.length;ke++){const Te=c.getTile(b[ke]);if(!Te||!Te.hasData())continue;const je=this._findTileCoveringTileID(Te.tileID,this.proxySourceCache);if(je&&je.tileID.canonical.z!==Te.tileID.canonical.z){const Ne=this.proxyToSource[je.tileID.key][c.id],Ye=this._createProxiedId(je.tileID,Te,V[je.tileID.key]&&V[je.tileID.key][c.id]);Ne?Ne.splice(Ne.length-1,0,Ye):this.proxyToSource[je.tileID.key][c.id]=[Ye],Q.push(Ye),ve=!0}}this._sourceTilesOverlap[c.id]=ve}_setupProxiedCoordsForImageSource(c,b,V){if(!c.getSource().loaded())return;const Q=this.proxiedCoords[c.id]=[],ae=this.proxyCoords,ve=c.getSource(),ke=new n.pointGeometry(ve.tileID.x,ve.tileID.y)._div(1<<ve.tileID.z),Te=ve.coordinates.map(n.MercatorCoordinate.fromLngLat).reduce((Ne,Ye)=>(Ne.min.x=Math.min(Ne.min.x,Ye.x-ke.x),Ne.min.y=Math.min(Ne.min.y,Ye.y-ke.y),Ne.max.x=Math.max(Ne.max.x,Ye.x-ke.x),Ne.max.y=Math.max(Ne.max.y,Ye.y-ke.y),Ne),{min:new n.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new n.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),je=(Ne,Ye)=>{const lt=Ne.wrap+Ne.canonical.x/(1<<Ne.canonical.z),_t=Ne.canonical.y/(1<<Ne.canonical.z),bt=n.EXTENT/(1<<Ne.canonical.z),kt=Ye.wrap+Ye.canonical.x/(1<<Ye.canonical.z),ft=Ye.canonical.y/(1<<Ye.canonical.z);return lt+bt<kt+Te.min.x||lt>kt+Te.max.x||_t+bt<ft+Te.min.y||_t>ft+Te.max.y};for(let Ne=0;Ne<ae.length;Ne++){const Ye=ae[Ne];for(let lt=0;lt<b.length;lt++){const _t=c.getTile(b[lt]);if(!_t||!_t.hasData()||je(Ye,_t.tileID))continue;const bt=this._createProxiedId(Ye,_t,V[Ye.key]&&V[Ye.key][c.id]),kt=this.proxyToSource[Ye.key][c.id];kt?kt.push(bt):this.proxyToSource[Ye.key][c.id]=[bt],Q.push(bt)}}}_createProxiedId(c,b,V){let Q=this.orthoMatrix;if(V){const ae=V.find(ve=>ve.key===b.tileID.key);if(ae)return ae}if(b.tileID.key!==c.key){const ae=c.canonical.z-b.tileID.canonical.z;let ve,ke,Te;Q=n.create();const je=b.tileID.wrap-c.wrap<<c.overscaledZ;ae>0?(ve=n.EXTENT>>ae,ke=ve*((b.tileID.canonical.x<<ae)-c.canonical.x+je),Te=ve*((b.tileID.canonical.y<<ae)-c.canonical.y)):(ve=n.EXTENT<<-ae,ke=n.EXTENT*(b.tileID.canonical.x-(c.canonical.x+je<<-ae)),Te=n.EXTENT*(b.tileID.canonical.y-(c.canonical.y<<-ae))),n.ortho(Q,0,ve,0,ve,0,1),n.translate(Q,Q,[ke,Te,0])}return new qa(b.tileID,c.key,Q)}_findTileCoveringTileID(c,b){let V=b.getTile(c);if(V&&V.hasData())return V;const Q=this._findCoveringTileCache[b.id],ae=Q[c.key];if(V=ae?b.getTileByID(ae):null,V&&V.hasData()||ae===null)return V;let ve=V?V.tileID:c,ke=ve.overscaledZ;const Te=b.getSource().minzoom,je=[];if(!ae){const Ye=b.getSource().maxzoom;if(c.canonical.z>=Ye){const lt=c.canonical.z-Ye;b.getSource().reparseOverscaled?(ke=Math.max(c.canonical.z+2,b.transform.tileZoom),ve=new n.OverscaledTileID(ke,c.wrap,Ye,c.canonical.x>>lt,c.canonical.y>>lt)):lt!==0&&(ke=Ye,ve=new n.OverscaledTileID(ke,c.wrap,Ye,c.canonical.x>>lt,c.canonical.y>>lt))}ve.key!==c.key&&(je.push(ve.key),V=b.getTile(ve))}const Ne=Ye=>{je.forEach(lt=>{Q[lt]=Ye}),je.length=0};for(ke-=1;ke>=Te&&(!V||!V.hasData());ke--){V&&Ne(V.tileID.key);const Ye=ve.calculateScaledKey(ke);if(V=b.getTileByID(Ye),V&&V.hasData())break;const lt=Q[Ye];if(lt===null)break;lt===void 0?je.push(Ye):V=b.getTileByID(lt)}return Ne(V?V.tileID.key:null),V&&V.hasData()?V:null}findDEMTileFor(c){return this.enabled?this._findTileCoveringTileID(c,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(c,b){let V=this._tilesDirty[c];V||(V=this._tilesDirty[c]={}),V[b.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const c=function(b){let V=0;const Q=new n.StructArrayLayout2ui4,ae=131;for(let ve=1;ve<129;ve++){for(let ke=1;ke<129;ke++)V=ve*ae+ke,Q.emplaceBack(V,V+1),Q.emplaceBack(V,V+ae),Q.emplaceBack(V+1,V+ae),ve===128&&Q.emplaceBack(V+ae,V+ae+1);Q.emplaceBack(V+1,V+1+ae)}return Q}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(c),this.wireframeSegments=n.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,c.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class xa{static cacheKey(c,b,V,Q){let ae=`${b}${Q?Q.cacheKey:""}`;for(const ve of V)c.usedDefines.includes(ve)&&(ae+=`/${ve}`);return ae}constructor(c,b,V,Q,ae,ve){const ke=c.gl;this.program=ke.createProgram();const Te=function(ft){const yt=[];for(let Ct=0;Ct<ft.length;Ct++){if(ft[Ct]===null)continue;const xt=ft[Ct].split(" ");yt.push(xt.pop())}return yt}(V.staticAttributes),je=Q?Q.getBinderAttributes():[],Ne=Te.concat(je);let Ye=Q?Q.defines():[];Ye=Ye.concat(ve.map(ft=>`#define ${ft}`));const lt=Ye.concat(c.extStandardDerivatives?`#extension GL_OES_standard_derivatives : enable
`.concat(Li):Li,Li,Ii,ci.fragmentSource,Yt.fragmentSource,V.fragmentSource).join(`
`),_t=Ye.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,Ii,ci.vertexSource,Yt.vertexSource,ut.vertexSource,V.vertexSource).join(`
`),bt=ke.createShader(ke.FRAGMENT_SHADER);if(ke.isContextLost())return void(this.failedToCreate=!0);ke.shaderSource(bt,lt),ke.compileShader(bt),ke.attachShader(this.program,bt);const kt=ke.createShader(ke.VERTEX_SHADER);if(ke.isContextLost())this.failedToCreate=!0;else{ke.shaderSource(kt,_t),ke.compileShader(kt),ke.attachShader(this.program,kt),this.attributes={},this.numAttributes=Ne.length;for(let ft=0;ft<this.numAttributes;ft++)Ne[ft]&&(ke.bindAttribLocation(this.program,ft,Ne[ft]),this.attributes[Ne[ft]]=ft);ke.linkProgram(this.program),ke.deleteShader(kt),ke.deleteShader(bt),this.fixedUniforms=ae(c),this.binderUniforms=Q?Q.getUniforms(c):[],ve.includes("TERRAIN")&&(this.terrainUniforms=(ft=>({u_dem:new n.Uniform1i(ft),u_dem_prev:new n.Uniform1i(ft),u_dem_unpack:new n.Uniform4f(ft),u_dem_tl:new n.Uniform2f(ft),u_dem_scale:new n.Uniform1f(ft),u_dem_tl_prev:new n.Uniform2f(ft),u_dem_scale_prev:new n.Uniform1f(ft),u_dem_size:new n.Uniform1f(ft),u_dem_lerp:new n.Uniform1f(ft),u_exaggeration:new n.Uniform1f(ft),u_depth:new n.Uniform1i(ft),u_depth_size_inv:new n.Uniform2f(ft),u_meter_to_dem:new n.Uniform1f(ft),u_label_plane_matrix_inv:new n.UniformMatrix4f(ft)}))(c)),ve.includes("GLOBE")&&(this.globeUniforms=(ft=>({u_tile_tl_up:new n.Uniform3f(ft),u_tile_tr_up:new n.Uniform3f(ft),u_tile_br_up:new n.Uniform3f(ft),u_tile_bl_up:new n.Uniform3f(ft),u_tile_up_scale:new n.Uniform1f(ft)}))(c)),ve.includes("FOG")&&(this.fogUniforms=(ft=>({u_fog_matrix:new n.UniformMatrix4f(ft),u_fog_range:new n.Uniform2f(ft),u_fog_color:new n.Uniform4f(ft),u_fog_horizon_blend:new n.Uniform1f(ft),u_fog_temporal_offset:new n.Uniform1f(ft),u_frustum_tl:new n.Uniform3f(ft),u_frustum_tr:new n.Uniform3f(ft),u_frustum_br:new n.Uniform3f(ft),u_frustum_bl:new n.Uniform3f(ft),u_globe_pos:new n.Uniform3f(ft),u_globe_radius:new n.Uniform1f(ft),u_globe_transition:new n.Uniform1f(ft),u_is_globe:new n.Uniform1i(ft),u_viewport:new n.Uniform2f(ft)}))(c))}}setTerrainUniformValues(c,b){if(!this.terrainUniforms)return;const V=this.terrainUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const Q in b)V[Q]&&V[Q].set(this.program,Q,b[Q])}}setGlobeUniformValues(c,b){if(!this.globeUniforms)return;const V=this.globeUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const Q in b)V[Q]&&V[Q].set(this.program,Q,b[Q])}}setFogUniformValues(c,b){if(!this.fogUniforms)return;const V=this.fogUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const Q in b)V[Q].set(this.program,Q,b[Q])}}draw(c,b,V,Q,ae,ve,ke,Te,je,Ne,Ye,lt,_t,bt,kt){const ft=c.gl;if(this.failedToCreate)return;c.program.set(this.program),c.setDepthMode(V),c.setStencilMode(Q),c.setColorMode(ae),c.setCullFace(ve);for(const Ct of Object.keys(this.fixedUniforms))this.fixedUniforms[Ct].set(this.program,Ct,ke[Ct]);bt&&bt.setUniforms(this.program,c,this.binderUniforms,lt,{zoom:_t});const yt={[ft.LINES]:2,[ft.TRIANGLES]:3,[ft.LINE_STRIP]:1}[b];for(const Ct of Ye.get()){const xt=Ct.vaos||(Ct.vaos={});(xt[Te]||(xt[Te]=new Hr)).bind(c,this,je,bt?bt.getPaintVertexBuffers():[],Ne,Ct.vertexOffset,kt||[]),ft.drawElements(b,Ct.primitiveLength*yt,ft.UNSIGNED_SHORT,Ct.primitiveOffset*yt*2)}}}function ao(D,c){const b=Math.pow(2,c.tileID.overscaledZ),V=c.tileSize*Math.pow(2,D.transform.tileZoom)/b,Q=V*(c.tileID.canonical.x+c.tileID.wrap*b),ae=V*c.tileID.canonical.y;return{u_image:0,u_texsize:c.imageAtlasTexture.size,u_tile_units_to_pixels:1/oe(c,1,D.transform.tileZoom),u_pixel_coord_upper:[Q>>16,ae>>16],u_pixel_coord_lower:[65535&Q,65535&ae]}}const oo=n.create(),js=(D,c,b,V,Q,ae,ve,ke,Te,je,Ne)=>{const Ye=c.style.light,lt=Ye.properties.get("position"),_t=[lt.x,lt.y,lt.z],bt=n.create$1();Ye.properties.get("anchor")==="viewport"&&(n.fromRotation(bt,-c.transform.angle),n.transformMat3(_t,_t,bt));const kt=Ye.properties.get("color"),ft=c.transform,yt={u_matrix:D,u_lightpos:_t,u_lightintensity:Ye.properties.get("intensity"),u_lightcolor:[kt.r,kt.g,kt.b],u_vertical_gradient:+b,u_opacity:V,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:oo,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:Q,u_edge_radius:ae};return ft.projection.name==="globe"&&(yt.u_tile_id=[ve.canonical.x,ve.canonical.y,1<<ve.canonical.z],yt.u_zoom_transition=Te,yt.u_inv_rot_matrix=Ne,yt.u_merc_center=je,yt.u_up_dir=ft.projection.upVector(new n.CanonicalTileID(0,0,0),je[0]*n.EXTENT,je[1]*n.EXTENT),yt.u_height_lift=ke),yt},cn=(D,c,b,V,Q,ae,ve,ke,Te,je,Ne,Ye)=>{const lt=js(D,c,b,V,Q,ae,ve,Te,je,Ne,Ye),_t={u_height_factor:-Math.pow(2,ve.overscaledZ)/ke.tileSize/8};return n.extend(lt,ao(c,ke),_t)},uo=D=>({u_matrix:D}),Us=(D,c,b)=>n.extend(uo(D),ao(c,b)),ps=(D,c)=>({u_matrix:D,u_world:c}),Na=(D,c,b,V)=>n.extend(Us(D,c,b),{u_world:V}),is=n.create(),No=(D,c,b,V,Q,ae)=>{const ve=D.transform,ke=ve.projection.name==="globe";let Te;if(ae.paint.get("circle-pitch-alignment")==="map")if(ke){const Ne=n.globePixelsToTileUnits(ve.zoom,c.canonical)*ve._pixelsPerMercatorPixel;Te=Float32Array.from([Ne,0,0,Ne])}else Te=ve.calculatePixelsToTileUnitsMatrix(b);else Te=new Float32Array([ve.pixelsToGLUnits[0],0,0,ve.pixelsToGLUnits[1]]);const je={u_camera_to_center_distance:ve.cameraToCenterDistance,u_matrix:D.translatePosMatrix(c.projMatrix,b,ae.paint.get("circle-translate"),ae.paint.get("circle-translate-anchor")),u_device_pixel_ratio:n.exported.devicePixelRatio,u_extrude_scale:Te,u_inv_rot_matrix:is,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(ke){je.u_inv_rot_matrix=V,je.u_merc_center=Q,je.u_tile_id=[c.canonical.x,c.canonical.y,1<<c.canonical.z],je.u_zoom_transition=n.globeToMercatorTransition(ve.zoom);const Ne=Q[0]*n.EXTENT,Ye=Q[1]*n.EXTENT;je.u_up_dir=ve.projection.upVector(new n.CanonicalTileID(0,0,0),Ne,Ye)}return je},Ts=D=>{const c=[];return D.paint.get("circle-pitch-alignment")==="map"&&c.push("PITCH_WITH_MAP"),D.paint.get("circle-pitch-scale")==="map"&&c.push("SCALE_WITH_MAP"),c},Eo=(D,c,b,V)=>{const Q=n.EXTENT/b.tileSize;return{u_matrix:D,u_camera_to_center_distance:c.getCameraToCenterDistance(V),u_extrude_scale:[c.pixelsToGLUnits[0]/Q,c.pixelsToGLUnits[1]/Q]}},ms=(D,c,b=1)=>({u_matrix:D,u_color:c,u_overlay:0,u_overlay_scale:b}),$s=n.create(),gs=(D,c,b,V,Q,ae,ve)=>{const ke=D.transform,Te=ke.projection.name==="globe",je=Te?n.globePixelsToTileUnits(ke.zoom,c.canonical)*ke._pixelsPerMercatorPixel:oe(b,1,ae),Ne={u_matrix:c.projMatrix,u_extrude_scale:je,u_intensity:ve,u_inv_rot_matrix:$s,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(Te){Ne.u_inv_rot_matrix=V,Ne.u_merc_center=Q,Ne.u_tile_id=[c.canonical.x,c.canonical.y,1<<c.canonical.z],Ne.u_zoom_transition=n.globeToMercatorTransition(ke.zoom);const Ye=Q[0]*n.EXTENT,lt=Q[1]*n.EXTENT;Ne.u_up_dir=ke.projection.upVector(new n.CanonicalTileID(0,0,0),Ye,lt)}return Ne},pl=(D,c,b,V,Q,ae,ve)=>{const ke=D.transform,Te=ke.calculatePixelsToTileUnitsMatrix(c);return{u_matrix:ys(D,c,b,V),u_pixels_to_tile_units:Te,u_device_pixel_ratio:ae,u_units_to_pixels:[1/ke.pixelsToGLUnits[0],1/ke.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:Q,u_texsize:Vs(b)?c.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:fo(c,D.transform),u_alpha_discard_threshold:0,u_trim_offset:ve}},ho=(D,c,b,V,Q)=>{const ae=D.transform;return{u_matrix:ys(D,c,b,V),u_texsize:c.imageAtlasTexture.size,u_pixels_to_tile_units:ae.calculatePixelsToTileUnitsMatrix(c),u_device_pixel_ratio:Q,u_image:0,u_tile_units_to_pixels:fo(c,ae),u_units_to_pixels:[1/ae.pixelsToGLUnits[0],1/ae.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function fo(D,c){return 1/oe(D,1,c.tileZoom)}function ys(D,c,b,V){return D.translatePosMatrix(V||c.tileID.projMatrix,c,b.paint.get("line-translate"),b.paint.get("line-translate-anchor"))}function Vs(D){const c=D.paint.get("line-dasharray").value;return c.value||c.kind!=="constant"}const Ps=(D,c,b,V,Q,ae)=>{return{u_matrix:D,u_tl_parent:c,u_scale_parent:b,u_fade_t:V.mix,u_opacity:V.opacity*Q.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:Q.paint.get("raster-brightness-min"),u_brightness_high:Q.paint.get("raster-brightness-max"),u_saturation_factor:(ke=Q.paint.get("raster-saturation"),ke>0?1-1/(1.001-ke):-ke),u_contrast_factor:(ve=Q.paint.get("raster-contrast"),ve>0?1/(1-ve):1+ve),u_spin_weights:so(Q.paint.get("raster-hue-rotate")),u_perspective_transform:ae};var ve,ke};function so(D){D*=Math.PI/180;const c=Math.sin(D),b=Math.cos(D);return[(2*b+1)/3,(-Math.sqrt(3)*c-b+1)/3,(Math.sqrt(3)*c-b+1)/3]}const Ea=n.create(),rs=(D,c,b,V,Q,ae,ve,ke,Te,je,Ne,Ye,lt,_t,bt,kt)=>{const ft=Q.transform,yt={u_is_size_zoom_constant:+(D==="constant"||D==="source"),u_is_size_feature_constant:+(D==="constant"||D==="camera"),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:ft.cameraToCenterDistance,u_rotate_symbol:+b,u_aspect_ratio:ft.width/ft.height,u_fade_change:Q.options.fadeDuration?Q.symbolFadeChange:1,u_matrix:ae,u_label_plane_matrix:ve,u_coord_matrix:ke,u_is_text:+Te,u_pitch_with_map:+V,u_texsize:je,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Ea,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:Ea,u_up_vector:[0,-1,0]};return kt.name==="globe"&&(yt.u_tile_id=[Ne.canonical.x,Ne.canonical.y,1<<Ne.canonical.z],yt.u_zoom_transition=Ye,yt.u_inv_rot_matrix=_t,yt.u_merc_center=lt,yt.u_camera_forward=ft._camera.forward(),yt.u_ecef_origin=n.globeECEFOrigin(ft.globeMatrix,Ne.toUnwrapped()),yt.u_tile_matrix=Float32Array.from(ft.globeMatrix),yt.u_up_vector=bt),yt},vs=(D,c,b,V,Q,ae,ve,ke,Te,je,Ne,Ye,lt,_t,bt,kt,ft)=>n.extend(rs(D,c,b,V,Q,ae,ve,ke,Te,je,Ye,lt,_t,bt,kt,ft),{u_gamma_scale:V?Q.transform.cameraToCenterDistance*Math.cos(Q.terrain?0:Q.transform._pitch):1,u_device_pixel_ratio:n.exported.devicePixelRatio,u_is_halo:+Ne}),zo=(D,c,b,V,Q,ae,ve,ke,Te,je,Ne,Ye,lt,_t,bt,kt)=>n.extend(vs(D,c,b,V,Q,ae,ve,ke,!0,Te,!0,Ne,Ye,lt,_t,bt,kt),{u_texsize_icon:je,u_texture_icon:1}),Tl=(D,c,b)=>({u_matrix:D,u_opacity:c,u_color:b}),Se=(D,c,b,V,Q)=>n.extend(function(ae,ve,ke){const Te=ve.imageManager.getPattern(ae.toString()),{width:je,height:Ne}=ve.imageManager.getPixelSize(),Ye=Math.pow(2,ke.tileID.overscaledZ),lt=ke.tileSize*Math.pow(2,ve.transform.tileZoom)/Ye,_t=lt*(ke.tileID.canonical.x+ke.tileID.wrap*Ye),bt=lt*ke.tileID.canonical.y;return{u_image:0,u_pattern_tl:Te.tl,u_pattern_br:Te.br,u_texsize:[je,Ne],u_pattern_size:Te.displaySize,u_tile_units_to_pixels:1/oe(ke,1,ve.transform.tileZoom),u_pixel_coord_upper:[_t>>16,bt>>16],u_pixel_coord_lower:[65535&_t,65535&bt]}}(V,b,Q),{u_matrix:D,u_opacity:c}),$e={fillExtrusion:D=>({u_matrix:new n.UniformMatrix4f(D),u_lightpos:new n.Uniform3f(D),u_lightintensity:new n.Uniform1f(D),u_lightcolor:new n.Uniform3f(D),u_vertical_gradient:new n.Uniform1f(D),u_opacity:new n.Uniform1f(D),u_edge_radius:new n.Uniform1f(D),u_ao:new n.Uniform2f(D),u_tile_id:new n.Uniform3f(D),u_zoom_transition:new n.Uniform1f(D),u_inv_rot_matrix:new n.UniformMatrix4f(D),u_merc_center:new n.Uniform2f(D),u_up_dir:new n.Uniform3f(D),u_height_lift:new n.Uniform1f(D)}),fillExtrusionPattern:D=>({u_matrix:new n.UniformMatrix4f(D),u_lightpos:new n.Uniform3f(D),u_lightintensity:new n.Uniform1f(D),u_lightcolor:new n.Uniform3f(D),u_vertical_gradient:new n.Uniform1f(D),u_height_factor:new n.Uniform1f(D),u_edge_radius:new n.Uniform1f(D),u_ao:new n.Uniform2f(D),u_tile_id:new n.Uniform3f(D),u_zoom_transition:new n.Uniform1f(D),u_inv_rot_matrix:new n.UniformMatrix4f(D),u_merc_center:new n.Uniform2f(D),u_up_dir:new n.Uniform3f(D),u_height_lift:new n.Uniform1f(D),u_image:new n.Uniform1i(D),u_texsize:new n.Uniform2f(D),u_pixel_coord_upper:new n.Uniform2f(D),u_pixel_coord_lower:new n.Uniform2f(D),u_tile_units_to_pixels:new n.Uniform1f(D),u_opacity:new n.Uniform1f(D)}),fill:D=>({u_matrix:new n.UniformMatrix4f(D)}),fillPattern:D=>({u_matrix:new n.UniformMatrix4f(D),u_image:new n.Uniform1i(D),u_texsize:new n.Uniform2f(D),u_pixel_coord_upper:new n.Uniform2f(D),u_pixel_coord_lower:new n.Uniform2f(D),u_tile_units_to_pixels:new n.Uniform1f(D)}),fillOutline:D=>({u_matrix:new n.UniformMatrix4f(D),u_world:new n.Uniform2f(D)}),fillOutlinePattern:D=>({u_matrix:new n.UniformMatrix4f(D),u_world:new n.Uniform2f(D),u_image:new n.Uniform1i(D),u_texsize:new n.Uniform2f(D),u_pixel_coord_upper:new n.Uniform2f(D),u_pixel_coord_lower:new n.Uniform2f(D),u_tile_units_to_pixels:new n.Uniform1f(D)}),circle:D=>({u_camera_to_center_distance:new n.Uniform1f(D),u_extrude_scale:new n.UniformMatrix2f(D),u_device_pixel_ratio:new n.Uniform1f(D),u_matrix:new n.UniformMatrix4f(D),u_inv_rot_matrix:new n.UniformMatrix4f(D),u_merc_center:new n.Uniform2f(D),u_tile_id:new n.Uniform3f(D),u_zoom_transition:new n.Uniform1f(D),u_up_dir:new n.Uniform3f(D)}),collisionBox:D=>({u_matrix:new n.UniformMatrix4f(D),u_camera_to_center_distance:new n.Uniform1f(D),u_extrude_scale:new n.Uniform2f(D)}),collisionCircle:D=>({u_matrix:new n.UniformMatrix4f(D),u_inv_matrix:new n.UniformMatrix4f(D),u_camera_to_center_distance:new n.Uniform1f(D),u_viewport_size:new n.Uniform2f(D)}),debug:D=>({u_color:new n.UniformColor(D),u_matrix:new n.UniformMatrix4f(D),u_overlay:new n.Uniform1i(D),u_overlay_scale:new n.Uniform1f(D)}),clippingMask:D=>({u_matrix:new n.UniformMatrix4f(D)}),heatmap:D=>({u_extrude_scale:new n.Uniform1f(D),u_intensity:new n.Uniform1f(D),u_matrix:new n.UniformMatrix4f(D),u_inv_rot_matrix:new n.UniformMatrix4f(D),u_merc_center:new n.Uniform2f(D),u_tile_id:new n.Uniform3f(D),u_zoom_transition:new n.Uniform1f(D),u_up_dir:new n.Uniform3f(D)}),heatmapTexture:D=>({u_image:new n.Uniform1i(D),u_color_ramp:new n.Uniform1i(D),u_opacity:new n.Uniform1f(D)}),hillshade:D=>({u_matrix:new n.UniformMatrix4f(D),u_image:new n.Uniform1i(D),u_latrange:new n.Uniform2f(D),u_light:new n.Uniform2f(D),u_shadow:new n.UniformColor(D),u_highlight:new n.UniformColor(D),u_accent:new n.UniformColor(D)}),hillshadePrepare:D=>({u_matrix:new n.UniformMatrix4f(D),u_image:new n.Uniform1i(D),u_dimension:new n.Uniform2f(D),u_zoom:new n.Uniform1f(D),u_unpack:new n.Uniform4f(D)}),line:D=>({u_matrix:new n.UniformMatrix4f(D),u_pixels_to_tile_units:new n.UniformMatrix2f(D),u_device_pixel_ratio:new n.Uniform1f(D),u_units_to_pixels:new n.Uniform2f(D),u_dash_image:new n.Uniform1i(D),u_gradient_image:new n.Uniform1i(D),u_image_height:new n.Uniform1f(D),u_texsize:new n.Uniform2f(D),u_tile_units_to_pixels:new n.Uniform1f(D),u_alpha_discard_threshold:new n.Uniform1f(D),u_trim_offset:new n.Uniform2f(D)}),linePattern:D=>({u_matrix:new n.UniformMatrix4f(D),u_texsize:new n.Uniform2f(D),u_pixels_to_tile_units:new n.UniformMatrix2f(D),u_device_pixel_ratio:new n.Uniform1f(D),u_image:new n.Uniform1i(D),u_units_to_pixels:new n.Uniform2f(D),u_tile_units_to_pixels:new n.Uniform1f(D),u_alpha_discard_threshold:new n.Uniform1f(D)}),raster:D=>({u_matrix:new n.UniformMatrix4f(D),u_tl_parent:new n.Uniform2f(D),u_scale_parent:new n.Uniform1f(D),u_fade_t:new n.Uniform1f(D),u_opacity:new n.Uniform1f(D),u_image0:new n.Uniform1i(D),u_image1:new n.Uniform1i(D),u_brightness_low:new n.Uniform1f(D),u_brightness_high:new n.Uniform1f(D),u_saturation_factor:new n.Uniform1f(D),u_contrast_factor:new n.Uniform1f(D),u_spin_weights:new n.Uniform3f(D),u_perspective_transform:new n.Uniform2f(D)}),symbolIcon:D=>({u_is_size_zoom_constant:new n.Uniform1i(D),u_is_size_feature_constant:new n.Uniform1i(D),u_size_t:new n.Uniform1f(D),u_size:new n.Uniform1f(D),u_camera_to_center_distance:new n.Uniform1f(D),u_rotate_symbol:new n.Uniform1i(D),u_aspect_ratio:new n.Uniform1f(D),u_fade_change:new n.Uniform1f(D),u_matrix:new n.UniformMatrix4f(D),u_label_plane_matrix:new n.UniformMatrix4f(D),u_coord_matrix:new n.UniformMatrix4f(D),u_is_text:new n.Uniform1i(D),u_pitch_with_map:new n.Uniform1i(D),u_texsize:new n.Uniform2f(D),u_tile_id:new n.Uniform3f(D),u_zoom_transition:new n.Uniform1f(D),u_inv_rot_matrix:new n.UniformMatrix4f(D),u_merc_center:new n.Uniform2f(D),u_camera_forward:new n.Uniform3f(D),u_tile_matrix:new n.UniformMatrix4f(D),u_up_vector:new n.Uniform3f(D),u_ecef_origin:new n.Uniform3f(D),u_texture:new n.Uniform1i(D)}),symbolSDF:D=>({u_is_size_zoom_constant:new n.Uniform1i(D),u_is_size_feature_constant:new n.Uniform1i(D),u_size_t:new n.Uniform1f(D),u_size:new n.Uniform1f(D),u_camera_to_center_distance:new n.Uniform1f(D),u_rotate_symbol:new n.Uniform1i(D),u_aspect_ratio:new n.Uniform1f(D),u_fade_change:new n.Uniform1f(D),u_matrix:new n.UniformMatrix4f(D),u_label_plane_matrix:new n.UniformMatrix4f(D),u_coord_matrix:new n.UniformMatrix4f(D),u_is_text:new n.Uniform1i(D),u_pitch_with_map:new n.Uniform1i(D),u_texsize:new n.Uniform2f(D),u_texture:new n.Uniform1i(D),u_gamma_scale:new n.Uniform1f(D),u_device_pixel_ratio:new n.Uniform1f(D),u_tile_id:new n.Uniform3f(D),u_zoom_transition:new n.Uniform1f(D),u_inv_rot_matrix:new n.UniformMatrix4f(D),u_merc_center:new n.Uniform2f(D),u_camera_forward:new n.Uniform3f(D),u_tile_matrix:new n.UniformMatrix4f(D),u_up_vector:new n.Uniform3f(D),u_ecef_origin:new n.Uniform3f(D),u_is_halo:new n.Uniform1i(D)}),symbolTextAndIcon:D=>({u_is_size_zoom_constant:new n.Uniform1i(D),u_is_size_feature_constant:new n.Uniform1i(D),u_size_t:new n.Uniform1f(D),u_size:new n.Uniform1f(D),u_camera_to_center_distance:new n.Uniform1f(D),u_rotate_symbol:new n.Uniform1i(D),u_aspect_ratio:new n.Uniform1f(D),u_fade_change:new n.Uniform1f(D),u_matrix:new n.UniformMatrix4f(D),u_label_plane_matrix:new n.UniformMatrix4f(D),u_coord_matrix:new n.UniformMatrix4f(D),u_is_text:new n.Uniform1i(D),u_pitch_with_map:new n.Uniform1i(D),u_texsize:new n.Uniform2f(D),u_texsize_icon:new n.Uniform2f(D),u_texture:new n.Uniform1i(D),u_texture_icon:new n.Uniform1i(D),u_gamma_scale:new n.Uniform1f(D),u_device_pixel_ratio:new n.Uniform1f(D),u_is_halo:new n.Uniform1i(D)}),background:D=>({u_matrix:new n.UniformMatrix4f(D),u_opacity:new n.Uniform1f(D),u_color:new n.UniformColor(D)}),backgroundPattern:D=>({u_matrix:new n.UniformMatrix4f(D),u_opacity:new n.Uniform1f(D),u_image:new n.Uniform1i(D),u_pattern_tl:new n.Uniform2f(D),u_pattern_br:new n.Uniform2f(D),u_texsize:new n.Uniform2f(D),u_pattern_size:new n.Uniform2f(D),u_pixel_coord_upper:new n.Uniform2f(D),u_pixel_coord_lower:new n.Uniform2f(D),u_tile_units_to_pixels:new n.Uniform1f(D)}),terrainRaster:sn,terrainDepth:sn,skybox:D=>({u_matrix:new n.UniformMatrix4f(D),u_sun_direction:new n.Uniform3f(D),u_cubemap:new n.Uniform1i(D),u_opacity:new n.Uniform1f(D),u_temporal_offset:new n.Uniform1f(D)}),skyboxGradient:D=>({u_matrix:new n.UniformMatrix4f(D),u_color_ramp:new n.Uniform1i(D),u_center_direction:new n.Uniform3f(D),u_radius:new n.Uniform1f(D),u_opacity:new n.Uniform1f(D),u_temporal_offset:new n.Uniform1f(D)}),skyboxCapture:D=>({u_matrix_3f:new n.UniformMatrix3f(D),u_sun_direction:new n.Uniform3f(D),u_sun_intensity:new n.Uniform1f(D),u_color_tint_r:new n.Uniform4f(D),u_color_tint_m:new n.Uniform4f(D),u_luminance:new n.Uniform1f(D)}),globeRaster:D=>({u_proj_matrix:new n.UniformMatrix4f(D),u_globe_matrix:new n.UniformMatrix4f(D),u_normalize_matrix:new n.UniformMatrix4f(D),u_merc_matrix:new n.UniformMatrix4f(D),u_zoom_transition:new n.Uniform1f(D),u_merc_center:new n.Uniform2f(D),u_image0:new n.Uniform1i(D),u_grid_matrix:new n.UniformMatrix3f(D),u_frustum_tl:new n.Uniform3f(D),u_frustum_tr:new n.Uniform3f(D),u_frustum_br:new n.Uniform3f(D),u_frustum_bl:new n.Uniform3f(D),u_globe_pos:new n.Uniform3f(D),u_globe_radius:new n.Uniform1f(D),u_viewport:new n.Uniform2f(D)}),globeAtmosphere:D=>({u_frustum_tl:new n.Uniform3f(D),u_frustum_tr:new n.Uniform3f(D),u_frustum_br:new n.Uniform3f(D),u_frustum_bl:new n.Uniform3f(D),u_horizon:new n.Uniform1f(D),u_transition:new n.Uniform1f(D),u_fadeout_range:new n.Uniform1f(D),u_color:new n.Uniform4f(D),u_high_color:new n.Uniform4f(D),u_space_color:new n.Uniform4f(D),u_star_intensity:new n.Uniform1f(D),u_star_density:new n.Uniform1f(D),u_star_size:new n.Uniform1f(D),u_temporal_offset:new n.Uniform1f(D),u_horizon_angle:new n.Uniform1f(D),u_rotation_matrix:new n.UniformMatrix4f(D)})};let dt;function ii(D,c,b,V,Q,ae,ve){const ke=D.context,Te=ke.gl,je=D.transform,Ne=D.useProgram("collisionBox"),Ye=[];let lt=0,_t=0;for(let Rt=0;Rt<V.length;Rt++){const Ht=V[Rt],zt=c.getTile(Ht),Jt=zt.getBucket(b);if(!Jt)continue;const yi=ro(Ht,Jt,je);let di=yi;Q[0]===0&&Q[1]===0||(di=D.translatePosMatrix(yi,zt,Q,ae));const ni=ve?Jt.textCollisionBox:Jt.iconCollisionBox,ji=Jt.collisionCircleArray;if(ji.length>0){const ui=n.create(),Oi=di;n.mul(ui,Jt.placementInvProjMatrix,je.glCoordMatrix),n.mul(ui,ui,Jt.placementViewportMatrix),Ye.push({circleArray:ji,circleOffset:_t,transform:Oi,invTransform:ui,projection:Jt.getProjection()}),lt+=ji.length/4,_t=lt}ni&&(D.terrain&&D.terrain.setupElevationDraw(zt,Ne),Ne.draw(ke,Te.LINES,n.DepthMode.disabled,n.StencilMode.disabled,D.colorModeForRenderPass(),n.CullFaceMode.disabled,Eo(di,je,zt,Jt.getProjection()),b.id,ni.layoutVertexBuffer,ni.indexBuffer,ni.segments,null,je.zoom,null,[ni.collisionVertexBuffer,ni.collisionVertexBufferExt]))}if(!ve||!Ye.length)return;const bt=D.useProgram("collisionCircle"),kt=new n.StructArrayLayout2f1f2i16;kt.resize(4*lt),kt._trim();let ft=0;for(const Rt of Ye)for(let Ht=0;Ht<Rt.circleArray.length/4;Ht++){const zt=4*Ht,Jt=Rt.circleArray[zt+0],yi=Rt.circleArray[zt+1],di=Rt.circleArray[zt+2],ni=Rt.circleArray[zt+3];kt.emplace(ft++,Jt,yi,di,ni,0),kt.emplace(ft++,Jt,yi,di,ni,1),kt.emplace(ft++,Jt,yi,di,ni,2),kt.emplace(ft++,Jt,yi,di,ni,3)}(!dt||dt.length<2*lt)&&(dt=function(Rt){const Ht=2*Rt,zt=new n.StructArrayLayout3ui6;zt.resize(Ht),zt._trim();for(let Jt=0;Jt<Ht;Jt++){const yi=6*Jt;zt.uint16[yi+0]=4*Jt+0,zt.uint16[yi+1]=4*Jt+1,zt.uint16[yi+2]=4*Jt+2,zt.uint16[yi+3]=4*Jt+2,zt.uint16[yi+4]=4*Jt+3,zt.uint16[yi+5]=4*Jt+0}return zt}(lt));const yt=ke.createIndexBuffer(dt,!0),Ct=ke.createVertexBuffer(kt,n.collisionCircleLayout.members,!0);for(const Rt of Ye){const Ht={u_matrix:Rt.transform,u_inv_matrix:Rt.invTransform,u_camera_to_center_distance:(xt=je).getCameraToCenterDistance(Rt.projection),u_viewport_size:[xt.width,xt.height]};bt.draw(ke,Te.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,D.colorModeForRenderPass(),n.CullFaceMode.disabled,Ht,b.id,Ct,yt,n.SegmentVector.simpleSegment(0,2*Rt.circleOffset,Rt.circleArray.length,Rt.circleArray.length/2),null,je.zoom)}var xt;Ct.destroy(),yt.destroy()}const _i=n.create();function tr({width:D,height:c,anchor:b,textOffset:V,textScale:Q},ae){const{horizontalAlign:ve,verticalAlign:ke}=n.getAnchorAlignment(b),Te=-(ve-.5)*D,je=-(ke-.5)*c,Ne=n.evaluateVariableOffset(b,V);return new n.pointGeometry((Te/Q+Ne[0])*ae,(je/Q+Ne[1])*ae)}function pr(D,c,b,V,Q,ae,ve,ke,Te,je,Ne){const Ye=D.text.placedSymbolArray,lt=D.text.dynamicLayoutVertexArray,_t=D.icon.dynamicLayoutVertexArray,bt={},kt=D.getProjection(),ft=Xo(ke,kt,ae),yt=ae.elevation,Ct=kt.upVectorScale(ke.canonical,ae.center.lat,ae.worldSize).metersToTile;lt.clear();for(let xt=0;xt<Ye.length;xt++){const Rt=Ye.get(xt),{tileAnchorX:Ht,tileAnchorY:zt,numGlyphs:Jt}=Rt,yi=D.allowVerticalPlacement&&!Rt.placedOrientation,di=Rt.hidden||!Rt.crossTileID||yi?null:V[Rt.crossTileID];if(di){let ni=0,ji=0,ui=0;if(yt){const vr=yt?yt.getAtTileOffset(ke,Ht,zt):0,[Sr,_r,Lr]=kt.upVector(ke.canonical,Ht,zt);ni=vr*Sr*Ct,ji=vr*_r*Ct,ui=vr*Lr*Ct}let[Oi,Si,Hi,Ai]=ra(Rt.projectedAnchorX+ni,Rt.projectedAnchorY+ji,Rt.projectedAnchorZ+ui,b?ft:ve);const Bi=ir(ae.getCameraToCenterDistance(kt),Ai);let Yi=Q.evaluateSizeForFeature(D.textSizeData,je,Rt)*Bi/n.ONE_EM;b&&(Yi*=D.tilePixelRatio/Te);const ai=tr(di,Yi);b?({x:Oi,y:Si,z:Hi}=kt.projectTilePoint(Ht+ai.x,zt+ai.y,ke.canonical),[Oi,Si,Hi]=ra(Oi+ni,Si+ji,Hi+ui,ve)):(c&&ai._rotate(-ae.angle),Oi+=ai.x,Si+=ai.y,Hi=0);const bi=D.allowVerticalPlacement&&Rt.placedOrientation===n.WritingMode.vertical?Math.PI/2:0;for(let vr=0;vr<Jt;vr++)n.addDynamicAttributes(lt,Oi,Si,Hi,bi);Ne&&Rt.associatedIconIndex>=0&&(bt[Rt.associatedIconIndex]={x:Oi,y:Si,z:Hi,angle:bi})}else ua(Jt,lt)}if(Ne){_t.clear();const xt=D.icon.placedSymbolArray;for(let Rt=0;Rt<xt.length;Rt++){const Ht=xt.get(Rt),{numGlyphs:zt}=Ht,Jt=bt[Rt];if(Ht.hidden||!Jt)ua(zt,_t);else{const{x:yi,y:di,z:ni,angle:ji}=Jt;for(let ui=0;ui<zt;ui++)n.addDynamicAttributes(_t,yi,di,ni,ji)}}D.icon.dynamicLayoutVertexBuffer.updateData(_t)}D.text.dynamicLayoutVertexBuffer.updateData(lt)}function kr(D,c,b){return b.iconsInText&&c?"symbolTextAndIcon":D?"symbolSDF":"symbolIcon"}function Gr(D,c,b,V,Q,ae,ve,ke,Te,je,Ne,Ye){const lt=D.context,_t=lt.gl,bt=D.transform,kt=ke==="map",ft=Te==="map",yt=kt&&b.layout.get("symbol-placement")!=="point",Ct=kt&&!ft&&!yt,xt=b.layout.get("symbol-sort-key").constantOr(1)!==void 0;let Rt=!1;const Ht=D.depthModeForSublayer(0,n.DepthMode.ReadOnly),zt=[n.mercatorXfromLng(bt.center.lng),n.mercatorYfromLat(bt.center.lat)],Jt=b.layout.get("text-variable-anchor"),yi=bt.projection.name==="globe",di=[],ni=[0,-1,0];let ji=ni;!yi&&!bt.mercatorFromTransition||kt||(ji=function(ui){const Oi=ui._camera.getWorldToCamera(ui.worldSize,1),Si=n.multiply([],Oi,ui.globeMatrix);n.invert(Si,Si);const Hi=[0,0,0],Ai=[0,1,0,0];return n.transformMat4$1(Ai,Ai,Si),Hi[0]=Ai[0],Hi[1]=Ai[1],Hi[2]=Ai[2],n.normalize(Hi,Hi),Hi}(bt));for(const ui of V){const Oi=c.getTile(ui),Si=Oi.getBucket(b);if(!Si||Si.projection.name==="mercator"&&yi)continue;const Hi=Q?Si.text:Si.icon;if(!Hi||Si.fullyClipped||!Hi.segments.get().length)continue;const Ai=Hi.programConfigurations.get(b.id),Bi=Q||Si.sdfIcons,Yi=Q?Si.textSizeData:Si.iconSizeData,ai=ft||bt.pitch!==0,bi=n.evaluateSizeForZoom(Yi,bt.zoom);let vr,Sr,_r,Lr,on=[0,0],Ar=null;if(Q){if(Sr=Oi.glyphAtlasTexture,_r=_t.LINEAR,vr=Oi.glyphAtlasTexture.size,Si.iconsInText){on=Oi.imageAtlasTexture.size,Ar=Oi.imageAtlasTexture;const os=Yi.kind==="composite"||Yi.kind==="camera";Lr=ai||D.options.rotating||D.options.zooming||os?_t.LINEAR:_t.NEAREST}}else{const os=b.layout.get("icon-size").constantOr(0)!==1||Si.iconsNeedLinear;Sr=Oi.imageAtlasTexture,_r=Bi||D.options.rotating||D.options.zooming||os||ai?_t.LINEAR:_t.NEAREST,vr=Oi.imageAtlasTexture.size}const mr=Si.projection.name==="globe",jn=mr?ji:ni,Mn=mr?n.globeToMercatorTransition(bt.zoom):0,Gn=Xo(ui,Si.getProjection(),bt),Bn=bt.calculatePixelsToTileUnitsMatrix(Oi),ns=Ca(Gn,Oi.tileID.canonical,ft,kt,bt,Si.getProjection(),Bn),jo=D.terrain&&ft&&yt?n.invert(n.create(),ns):_i,Po=Do(Gn,Oi.tileID.canonical,ft,kt,bt,Si.getProjection(),Bn),Hs=Jt&&Si.hasTextData(),Zn=b.layout.get("icon-text-fit")!=="none"&&Hs&&Si.hasIconData();if(yt){const os=bt.elevation,nl=os?os.getAtTileOffsetFunc(ui,bt.center.lat,bt.worldSize,Si.getProjection()):null,Os=Wo(Gn,Oi.tileID.canonical,ft,kt,bt,Si.getProjection(),Bn);tn(Si,Gn,D,Q,Os,Po,ft,je,nl,ui)}const Fn=yt||Q&&Jt||Zn,Tn=D.translatePosMatrix(Gn,Oi,ae,ve),Pa=Fn?_i:ns,vo=D.translatePosMatrix(Po,Oi,ae,ve,!0),Kn=Si.getProjection().createInversionMatrix(bt,ui.canonical),Mo=[];D.terrainRenderModeElevated()&&ft&&Mo.push("PITCH_WITH_MAP_TERRAIN"),mr&&Mo.push("PROJECTION_GLOBE_VIEW"),Fn&&Mo.push("PROJECTED_POS_ON_VIEWPORT");const Ac=Bi&&b.paint.get(Q?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let qs;qs=Bi?Si.iconsInText?zo(Yi.kind,bi,Ct,ft,D,Tn,Pa,vo,vr,on,ui,Mn,zt,Kn,jn,Si.getProjection()):vs(Yi.kind,bi,Ct,ft,D,Tn,Pa,vo,Q,vr,!0,ui,Mn,zt,Kn,jn,Si.getProjection()):rs(Yi.kind,bi,Ct,ft,D,Tn,Pa,vo,Q,vr,ui,Mn,zt,Kn,jn,Si.getProjection());const _o={program:D.useProgram(kr(Bi,Q,Si),Ai,Mo),buffers:Hi,uniformValues:qs,atlasTexture:Sr,atlasTextureIcon:Ar,atlasInterpolation:_r,atlasInterpolationIcon:Lr,isSDF:Bi,hasHalo:Ac,tile:Oi,labelPlaneMatrixInv:jo};if(xt&&Si.canOverlap){Rt=!0;const os=Hi.segments.get();for(const nl of os)di.push({segments:new n.SegmentVector([nl]),sortKey:nl.sortKey,state:_o})}else di.push({segments:Hi.segments,sortKey:0,state:_o})}Rt&&di.sort((ui,Oi)=>ui.sortKey-Oi.sortKey);for(const ui of di){const Oi=ui.state;if(D.terrain&&D.terrain.setupElevationDraw(Oi.tile,Oi.program,{useDepthForOcclusion:!yi,labelPlaneMatrixInv:Oi.labelPlaneMatrixInv}),lt.activeTexture.set(_t.TEXTURE0),Oi.atlasTexture.bind(Oi.atlasInterpolation,_t.CLAMP_TO_EDGE),Oi.atlasTextureIcon&&(lt.activeTexture.set(_t.TEXTURE1),Oi.atlasTextureIcon&&Oi.atlasTextureIcon.bind(Oi.atlasInterpolationIcon,_t.CLAMP_TO_EDGE)),Oi.isSDF){const Si=Oi.uniformValues;Oi.hasHalo&&(Si.u_is_halo=1,Xt(Oi.buffers,ui.segments,b,D,Oi.program,Ht,Ne,Ye,Si)),Si.u_is_halo=0}Xt(Oi.buffers,ui.segments,b,D,Oi.program,Ht,Ne,Ye,Oi.uniformValues)}}function Xt(D,c,b,V,Q,ae,ve,ke,Te){const je=V.context,Ne=[D.dynamicLayoutVertexBuffer,D.opacityVertexBuffer,D.globeExtVertexBuffer];Q.draw(je,je.gl.TRIANGLES,ae,ve,ke,n.CullFaceMode.disabled,Te,b.id,D.layoutVertexBuffer,D.indexBuffer,c,b.paint,V.transform.zoom,D.programConfigurations.get(b.id),Ne)}function Ei(D,c,b,V,Q,ae,ve){const ke=D.context.gl,Te=b.paint.get("fill-pattern"),je=Te&&Te.constantOr(1);let Ne,Ye,lt,_t,bt;ve?(Ye=je&&!b.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Ne=ke.LINES):(Ye=je?"fillPattern":"fill",Ne=ke.TRIANGLES);for(const kt of V){const ft=c.getTile(kt);if(je&&!ft.patternsLoaded())continue;const yt=ft.getBucket(b);if(!yt)continue;D.prepareDrawTile();const Ct=yt.programConfigurations.get(b.id),xt=D.useProgram(Ye,Ct);je&&(D.context.activeTexture.set(ke.TEXTURE0),ft.imageAtlasTexture.bind(ke.LINEAR,ke.CLAMP_TO_EDGE),Ct.updatePaintBuffers());const Rt=Te.constantOr(null);if(Rt&&ft.imageAtlas){const zt=ft.imageAtlas.patternPositions[Rt.toString()];zt&&Ct.setConstantPatternPositions(zt)}const Ht=D.translatePosMatrix(kt.projMatrix,ft,b.paint.get("fill-translate"),b.paint.get("fill-translate-anchor"));if(ve){_t=yt.indexBuffer2,bt=yt.segments2;const zt=D.terrain&&D.terrain.renderingToTexture?D.terrain.drapeBufferSize:[ke.drawingBufferWidth,ke.drawingBufferHeight];lt=Ye==="fillOutlinePattern"&&je?Na(Ht,D,ft,zt):ps(Ht,zt)}else _t=yt.indexBuffer,bt=yt.segments,lt=je?Us(Ht,D,ft):uo(Ht);D.prepareDrawProgram(D.context,xt,kt.toUnwrapped()),xt.draw(D.context,Ne,Q,D.stencilModeForClipping(kt),ae,n.CullFaceMode.disabled,lt,b.id,yt.layoutVertexBuffer,_t,bt,b.paint,D.transform.zoom,Ct)}}function mi(D,c,b,V,Q,ae,ve){const ke=D.context,Te=ke.gl,je=D.transform,Ne=b.paint.get("fill-extrusion-pattern"),Ye=Ne.constantOr(1),lt=b.paint.get("fill-extrusion-opacity"),_t=[b.paint.get("fill-extrusion-ambient-occlusion-intensity"),b.paint.get("fill-extrusion-ambient-occlusion-radius")],bt=b.layout.get("fill-extrusion-edge-radius"),kt=je.projection.name==="globe"?n.fillExtrusionHeightLift():0,ft=je.projection.name==="globe",yt=ft?n.globeToMercatorTransition(je.zoom):0,Ct=[n.mercatorXfromLng(je.center.lng),n.mercatorYfromLat(je.center.lat)],xt=[];ft&&(xt.push("PROJECTION_GLOBE_VIEW"),D.style.terrainSetForDrapingOnly()&&xt.push("TERRAIN")),_t[0]>0&&xt.push("FAUX_AO");for(const Rt of V){const Ht=c.getTile(Rt),zt=Ht.getBucket(b);if(!zt||zt.projection.name!==je.projection.name)continue;const Jt=zt.programConfigurations.get(b.id),yi=D.useProgram(Ye?"fillExtrusionPattern":"fillExtrusion",Jt,xt);if(D.terrain){const Hi=D.terrain;if(D.style.terrainSetForDrapingOnly())Hi.setupElevationDraw(Ht,yi,{useMeterToDem:!0});else{if(!zt.enableTerrain)continue;if(Hi.setupElevationDraw(Ht,yi,{useMeterToDem:!0}),ar(ke,c,Rt,zt,b,Hi),!zt.centroidVertexBuffer){const Ai=yi.attributes.a_centroid_pos;Ai!==void 0&&Te.vertexAttrib2f(Ai,0,0)}}}Ye&&(D.context.activeTexture.set(Te.TEXTURE0),Ht.imageAtlasTexture.bind(Te.LINEAR,Te.CLAMP_TO_EDGE),Jt.updatePaintBuffers());const di=Ne.constantOr(null);if(di&&Ht.imageAtlas){const Hi=Ht.imageAtlas.patternPositions[di.toString()];Hi&&Jt.setConstantPatternPositions(Hi)}const ni=D.translatePosMatrix(Rt.projMatrix,Ht,b.paint.get("fill-extrusion-translate"),b.paint.get("fill-extrusion-translate-anchor")),ji=je.projection.createInversionMatrix(je,Rt.canonical),ui=b.paint.get("fill-extrusion-vertical-gradient"),Oi=Ye?cn(ni,D,ui,lt,_t,bt,Rt,Ht,kt,yt,Ct,ji):js(ni,D,ui,lt,_t,bt,Rt,kt,yt,Ct,ji);D.prepareDrawProgram(ke,yi,Rt.toUnwrapped());const Si=[];D.terrain&&Si.push(zt.centroidVertexBuffer),ft&&Si.push(zt.layoutVertexExtBuffer),yi.draw(ke,ke.gl.TRIANGLES,Q,ae,ve,n.CullFaceMode.backCCW,Oi,b.id,zt.layoutVertexBuffer,zt.indexBuffer,zt.segments,b.paint,D.transform.zoom,Jt,Si)}}function ar(D,c,b,V,Q,ae){const ve=[yt=>{let Ct=yt.canonical.x-1,xt=yt.wrap;return Ct<0&&(Ct=(1<<yt.canonical.z)-1,xt--),new n.OverscaledTileID(yt.overscaledZ,xt,yt.canonical.z,Ct,yt.canonical.y)},yt=>{let Ct=yt.canonical.x+1,xt=yt.wrap;return Ct===1<<yt.canonical.z&&(Ct=0,xt++),new n.OverscaledTileID(yt.overscaledZ,xt,yt.canonical.z,Ct,yt.canonical.y)},yt=>new n.OverscaledTileID(yt.overscaledZ,yt.wrap,yt.canonical.z,yt.canonical.x,(yt.canonical.y===0?1<<yt.canonical.z:yt.canonical.y)-1),yt=>new n.OverscaledTileID(yt.overscaledZ,yt.wrap,yt.canonical.z,yt.canonical.x,yt.canonical.y===(1<<yt.canonical.z)-1?0:yt.canonical.y+1)],ke=yt=>{const Ct=c.getSource().minzoom,xt=Ht=>{const zt=c.getTileByID(Ht);if(zt&&zt.hasData())return zt.getBucket(Q)},Rt=[0,-1,1];for(const Ht of Rt){if(yt.overscaledZ+Ht<Ct)continue;const zt=xt(yt.calculateScaledKey(yt.overscaledZ+Ht));if(zt)return zt}},Te=[0,0,0],je=(yt,Ct)=>(Te[0]=Math.min(yt.min.y,Ct.min.y),Te[1]=Math.max(yt.max.y,Ct.max.y),Te[2]=n.EXTENT-Ct.min.x>yt.max.x?Ct.min.x-n.EXTENT:yt.max.x,Te),Ne=(yt,Ct)=>(Te[0]=Math.min(yt.min.x,Ct.min.x),Te[1]=Math.max(yt.max.x,Ct.max.x),Te[2]=n.EXTENT-Ct.min.y>yt.max.y?Ct.min.y-n.EXTENT:yt.max.y,Te),Ye=[(yt,Ct)=>je(yt,Ct),(yt,Ct)=>je(Ct,yt),(yt,Ct)=>Ne(yt,Ct),(yt,Ct)=>Ne(Ct,yt)],lt=new n.pointGeometry(0,0);let _t,bt,kt;const ft=(yt,Ct,xt,Rt,Ht)=>{const zt=[[Rt?xt:yt,Rt?yt:xt,0],[Rt?xt:Ct,Rt?Ct:xt,0]],Jt=Ht<0?n.EXTENT+Ht:Ht,yi=[Rt?Jt:(yt+Ct)/2,Rt?(yt+Ct)/2:Jt,0];return xt===0&&Ht<0||xt!==0&&Ht>0?ae.getForTilePoints(kt,[yi],!0,bt):zt.push(yi),ae.getForTilePoints(b,zt,!0,_t),Math.max(zt[0][2],zt[1][2],yi[2])/ae.exaggeration()};for(let yt=0;yt<4;yt++){const Ct=(yt<2?1:5)-yt,xt=V.borders[yt];if(xt.length===0)continue;const Rt=kt=ve[yt](b),Ht=ke(Rt);if(!(Ht&&Ht instanceof n.FillExtrusionBucket&&Ht.enableTerrain)||V.borderDoneWithNeighborZ[yt]===Ht.canonical.z&&Ht.borderDoneWithNeighborZ[Ct]===V.canonical.z||(bt=ae.findDEMTileFor(Rt),!bt||!bt.dem))continue;if(!_t){const di=ae.findDEMTileFor(b);if(!di||!di.dem)return;_t=di}const zt=Ht.borders[Ct];let Jt=0;const yi=Ht.borderDoneWithNeighborZ[Ct]!==V.canonical.z;if(V.canonical.z===Ht.canonical.z){for(let di=0;di<xt.length;di++){const ni=V.featuresOnBorder[xt[di]],ji=ni.borders[yt];let ui;for(;Jt<zt.length&&(ui=Ht.featuresOnBorder[zt[Jt]],!(ui.borders[Ct][1]>ji[0]+3));)yi&&Ht.encodeCentroid(void 0,ui,!1),Jt++;if(ui&&Jt<zt.length){const Oi=Jt;let Si=0;for(;!(ui.borders[Ct][0]>ji[1]-3)&&(Si++,++Jt!==zt.length);)ui=Ht.featuresOnBorder[zt[Jt]];if(ui=Ht.featuresOnBorder[zt[Oi]],ni.intersectsCount()>1||ui.intersectsCount()>1||Si!==1){Si!==1&&(Jt=Oi),V.encodeCentroid(void 0,ni,!1),yi&&Ht.encodeCentroid(void 0,ui,!1);continue}const Hi=Ye[yt](ni,ui),Ai=yt%2?n.EXTENT-1:0;lt.x=ft(Hi[0],Math.min(n.EXTENT-1,Hi[1]),Ai,yt<2,Hi[2]),lt.y=0,V.encodeCentroid(lt,ni,!1),yi&&Ht.encodeCentroid(lt,ui,!1)}else V.encodeCentroid(void 0,ni,!1)}V.borderDoneWithNeighborZ[yt]=Ht.canonical.z,V.needsCentroidUpdate=!0,yi&&(Ht.borderDoneWithNeighborZ[Ct]=V.canonical.z,Ht.needsCentroidUpdate=!0)}else{for(const di of xt)V.encodeCentroid(void 0,V.featuresOnBorder[di],!1);if(yi){for(const di of zt)Ht.encodeCentroid(void 0,Ht.featuresOnBorder[di],!1);Ht.borderDoneWithNeighborZ[Ct]=V.canonical.z,Ht.needsCentroidUpdate=!0}V.borderDoneWithNeighborZ[yt]=Ht.canonical.z,V.needsCentroidUpdate=!0}}(V.needsCentroidUpdate||!V.centroidVertexBuffer&&V.centroidVertexArray.length!==0)&&V.uploadCentroid(D)}const Fr=new n.Color(1,0,0,1),hn=new n.Color(0,1,0,1),On=new n.Color(0,0,1,1),Xr=new n.Color(1,0,1,1),Ka=new n.Color(0,1,1,1);function To(D,c,b){const V=D.context,Q=D.transform,ae=V.gl,ve=Q.projection.name==="globe",ke=ve?["PROJECTION_GLOBE_VIEW"]:null;let Te=b.projMatrix;if(ve&&n.globeToMercatorTransition(Q.zoom)>0){const ni=n.transitionTileAABBinECEF(b.canonical,Q),ji=n.globeDenormalizeECEF(ni);Te=n.multiply(new Float32Array(16),Q.globeMatrix,ji),n.multiply(Te,Q.projMatrix,Te)}const je=D.useProgram("debug",null,ke),Ne=c.getTileByID(b.key);D.terrain&&D.terrain.setupElevationDraw(Ne,je);const Ye=n.DepthMode.disabled,lt=n.StencilMode.disabled,_t=D.colorModeForRenderPass(),bt="$debug";V.activeTexture.set(ae.TEXTURE0),D.emptyTexture.bind(ae.LINEAR,ae.CLAMP_TO_EDGE),ve?Ne._makeGlobeTileDebugBuffers(D.context,Q):Ne._makeDebugTileBoundsBuffers(D.context,Q.projection);const kt=Ne._tileDebugBuffer||D.debugBuffer,ft=Ne._tileDebugIndexBuffer||D.debugIndexBuffer,yt=Ne._tileDebugSegments||D.debugSegments;je.draw(V,ae.LINE_STRIP,Ye,lt,_t,n.CullFaceMode.disabled,ms(Te,n.Color.red),bt,kt,ft,yt,null,null,null,[Ne._globeTileDebugBorderBuffer]);const Ct=Ne.latestRawTileData,xt=Math.floor((Ct&&Ct.byteLength||0)/1024),Rt=c.getTile(b).tileSize,Ht=512/Math.min(Rt,512)*(b.overscaledZ/Q.zoom)*.5;let zt=b.canonical.toString();b.overscaledZ!==b.canonical.z&&(zt+=` => ${b.overscaledZ}`),zt+=` ${xt}kb`,function(ni,ji){ni.initDebugOverlayCanvas();const ui=ni.debugOverlayCanvas,Oi=ni.context.gl,Si=ni.debugOverlayCanvas.getContext("2d");Si.clearRect(0,0,ui.width,ui.height),Si.shadowColor="white",Si.shadowBlur=2,Si.lineWidth=1.5,Si.strokeStyle="white",Si.textBaseline="top",Si.font="bold 36px Open Sans, sans-serif",Si.fillText(ji,5,5),Si.strokeText(ji,5,5),ni.debugOverlayTexture.update(ui),ni.debugOverlayTexture.bind(Oi.LINEAR,Oi.CLAMP_TO_EDGE)}(D,zt);const Jt=Ne._tileDebugTextBuffer||D.debugBuffer,yi=Ne._tileDebugTextIndexBuffer||D.quadTriangleIndexBuffer,di=Ne._tileDebugTextSegments||D.debugSegments;je.draw(V,ae.TRIANGLES,Ye,lt,n.ColorMode.alphaBlended,n.CullFaceMode.disabled,ms(Te,n.Color.transparent,Ht),bt,Jt,yi,di,null,null,null,[Ne._globeTileDebugTextBuffer])}function la(D,c,b,V){Nt(D,0,c+b/2,D.transform.width,b,V)}function mt(D,c,b,V){Nt(D,c-b/2,0,b,D.transform.height,V)}function Nt(D,c,b,V,Q,ae){const ve=D.context,ke=ve.gl;ke.enable(ke.SCISSOR_TEST),ke.scissor(c*n.exported.devicePixelRatio,b*n.exported.devicePixelRatio,V*n.exported.devicePixelRatio,Q*n.exported.devicePixelRatio),ve.clear({color:ae}),ke.disable(ke.SCISSOR_TEST)}const Gt=n.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Mi}=Gt;function Qt(D,c,b,V){D.emplaceBack(c,b,V)}class wi{constructor(c){this.vertexArray=new n.StructArrayLayout3f12,this.indices=new n.StructArrayLayout3ui6,Qt(this.vertexArray,-1,-1,1),Qt(this.vertexArray,1,-1,1),Qt(this.vertexArray,-1,1,1),Qt(this.vertexArray,1,1,1),Qt(this.vertexArray,-1,-1,-1),Qt(this.vertexArray,1,-1,-1),Qt(this.vertexArray,-1,1,-1),Qt(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=c.createVertexBuffer(this.vertexArray,Mi),this.indexBuffer=c.createIndexBuffer(this.indices),this.segment=n.SegmentVector.simpleSegment(0,0,36,12)}}function Ui(D,c,b,V,Q,ae){const ve=D.gl,ke=c.paint.get("sky-atmosphere-color"),Te=c.paint.get("sky-atmosphere-halo-color"),je=c.paint.get("sky-atmosphere-sun-intensity"),Ne=((Ye,lt,_t,bt,kt)=>({u_matrix_3f:Ye,u_sun_direction:lt,u_sun_intensity:_t,u_color_tint_r:[bt.r,bt.g,bt.b,bt.a],u_color_tint_m:[kt.r,kt.g,kt.b,kt.a],u_luminance:5e-5}))(n.fromMat4(n.create$1(),V),Q,je,ke,Te);ve.framebufferTexture2D(ve.FRAMEBUFFER,ve.COLOR_ATTACHMENT0,ve.TEXTURE_CUBE_MAP_POSITIVE_X+ae,c.skyboxTexture,0),b.draw(D,ve.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,n.ColorMode.unblended,n.CullFaceMode.frontCW,Ne,"skyboxCapture",c.skyboxGeometry.vertexBuffer,c.skyboxGeometry.indexBuffer,c.skyboxGeometry.segment)}const hr=n.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class Wi{constructor(c){const b=new n.StructArrayLayout5f20;b.emplaceBack(-1,1,1,0,0),b.emplaceBack(1,1,1,1,0),b.emplaceBack(1,-1,1,1,1),b.emplaceBack(-1,-1,1,0,1);const V=new n.StructArrayLayout3ui6;V.emplaceBack(0,1,2),V.emplaceBack(2,3,0),this.vertexBuffer=c.createVertexBuffer(b,hr.members),this.indexBuffer=c.createIndexBuffer(V),this.segments=n.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Mr={symbol:function(D,c,b,V,Q){if(D.renderPass!=="translucent")return;const ae=n.StencilMode.disabled,ve=D.colorModeForRenderPass();b.layout.get("text-variable-anchor")&&function(ke,Te,je,Ne,Ye,lt,_t){const bt=Te.transform,kt=Ye==="map",ft=lt==="map";for(const yt of ke){const Ct=Ne.getTile(yt),xt=Ct.getBucket(je);if(!xt||!xt.text||!xt.text.segments.get().length)continue;const Rt=n.evaluateSizeForZoom(xt.textSizeData,bt.zoom),Ht=Xo(yt,xt.getProjection(),bt),zt=bt.calculatePixelsToTileUnitsMatrix(Ct),Jt=Ca(Ht,Ct.tileID.canonical,ft,kt,bt,xt.getProjection(),zt),yi=je.layout.get("icon-text-fit")!=="none"&&xt.hasIconData();if(Rt){const di=Math.pow(2,bt.zoom-Ct.tileID.overscaledZ);pr(xt,kt,ft,_t,n.symbolSize,bt,Jt,yt,di,Rt,yi)}}}(V,D,b,c,b.layout.get("text-rotation-alignment"),b.layout.get("text-pitch-alignment"),Q),b.paint.get("icon-opacity").constantOr(1)!==0&&Gr(D,c,b,V,!1,b.paint.get("icon-translate"),b.paint.get("icon-translate-anchor"),b.layout.get("icon-rotation-alignment"),b.layout.get("icon-pitch-alignment"),b.layout.get("icon-keep-upright"),ae,ve),b.paint.get("text-opacity").constantOr(1)!==0&&Gr(D,c,b,V,!0,b.paint.get("text-translate"),b.paint.get("text-translate-anchor"),b.layout.get("text-rotation-alignment"),b.layout.get("text-pitch-alignment"),b.layout.get("text-keep-upright"),ae,ve),c.map.showCollisionBoxes&&(ii(D,c,b,V,b.paint.get("text-translate"),b.paint.get("text-translate-anchor"),!0),ii(D,c,b,V,b.paint.get("icon-translate"),b.paint.get("icon-translate-anchor"),!1))},circle:function(D,c,b,V){if(D.renderPass!=="translucent")return;const Q=b.paint.get("circle-opacity"),ae=b.paint.get("circle-stroke-width"),ve=b.paint.get("circle-stroke-opacity"),ke=b.layout.get("circle-sort-key").constantOr(1)!==void 0;if(Q.constantOr(1)===0&&(ae.constantOr(1)===0||ve.constantOr(1)===0))return;const Te=D.context,je=Te.gl,Ne=D.transform,Ye=D.depthModeForSublayer(0,n.DepthMode.ReadOnly),lt=n.StencilMode.disabled,_t=D.colorModeForRenderPass(),bt=Ne.projection.name==="globe",kt=[n.mercatorXfromLng(Ne.center.lng),n.mercatorYfromLat(Ne.center.lat)],ft=[];for(let Ct=0;Ct<V.length;Ct++){const xt=V[Ct],Rt=c.getTile(xt),Ht=Rt.getBucket(b);if(!Ht||Ht.projection.name!==Ne.projection.name)continue;const zt=Ht.programConfigurations.get(b.id),Jt=Ts(b);bt&&Jt.push("PROJECTION_GLOBE_VIEW");const yi=D.useProgram("circle",zt,Jt),di=Ht.layoutVertexBuffer,ni=Ht.globeExtVertexBuffer,ji=Ht.indexBuffer,ui=Ne.projection.createInversionMatrix(Ne,xt.canonical),Oi={programConfiguration:zt,program:yi,layoutVertexBuffer:di,globeExtVertexBuffer:ni,indexBuffer:ji,uniformValues:No(D,xt,Rt,ui,kt,b),tile:Rt};if(ke){const Si=Ht.segments.get();for(const Hi of Si)ft.push({segments:new n.SegmentVector([Hi]),sortKey:Hi.sortKey,state:Oi})}else ft.push({segments:Ht.segments,sortKey:0,state:Oi})}ke&&ft.sort((Ct,xt)=>Ct.sortKey-xt.sortKey);const yt={useDepthForOcclusion:!bt};for(const Ct of ft){const{programConfiguration:xt,program:Rt,layoutVertexBuffer:Ht,globeExtVertexBuffer:zt,indexBuffer:Jt,uniformValues:yi,tile:di}=Ct.state,ni=Ct.segments;D.terrain&&D.terrain.setupElevationDraw(di,Rt,yt),D.prepareDrawProgram(Te,Rt,di.tileID.toUnwrapped()),Rt.draw(Te,je.TRIANGLES,Ye,lt,_t,n.CullFaceMode.disabled,yi,b.id,Ht,Jt,ni,b.paint,Ne.zoom,xt,[zt])}},heatmap:function(D,c,b,V){if(b.paint.get("heatmap-opacity")!==0)if(D.renderPass==="offscreen"){const Q=D.context,ae=Q.gl,ve=n.StencilMode.disabled,ke=new n.ColorMode([ae.ONE,ae.ONE],n.Color.transparent,[!0,!0,!0,!0]);(function(_t,bt,kt,ft){const yt=_t.gl,Ct=bt.width*ft,xt=bt.height*ft;_t.activeTexture.set(yt.TEXTURE1),_t.viewport.set([0,0,Ct,xt]);let Rt=kt.heatmapFbo;if(!Rt||Rt&&(Rt.width!==Ct||Rt.height!==xt)){Rt&&Rt.destroy();const Ht=yt.createTexture();yt.bindTexture(yt.TEXTURE_2D,Ht),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_WRAP_S,yt.CLAMP_TO_EDGE),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_WRAP_T,yt.CLAMP_TO_EDGE),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_MIN_FILTER,yt.LINEAR),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_MAG_FILTER,yt.LINEAR),Rt=kt.heatmapFbo=_t.createFramebuffer(Ct,xt,!1),function(zt,Jt,yi,di,ni,ji){const ui=zt.gl;ui.texImage2D(ui.TEXTURE_2D,0,ui.RGBA,ni,ji,0,ui.RGBA,zt.extRenderToTextureHalfFloat?zt.extTextureHalfFloat.HALF_FLOAT_OES:ui.UNSIGNED_BYTE,null),di.colorAttachment.set(yi)}(_t,0,Ht,Rt,Ct,xt)}else yt.bindTexture(yt.TEXTURE_2D,Rt.colorAttachment.get()),_t.bindFramebuffer.set(Rt.framebuffer)})(Q,D,b,D.transform.projection.name==="globe"?.5:.25),Q.clear({color:n.Color.transparent});const Te=D.transform,je=Te.projection.name==="globe",Ne=je?["PROJECTION_GLOBE_VIEW"]:null,Ye=je?n.CullFaceMode.frontCCW:n.CullFaceMode.disabled,lt=[n.mercatorXfromLng(Te.center.lng),n.mercatorYfromLat(Te.center.lat)];for(let _t=0;_t<V.length;_t++){const bt=V[_t];if(c.hasRenderableParent(bt))continue;const kt=c.getTile(bt),ft=kt.getBucket(b);if(!ft||ft.projection.name!==Te.projection.name)continue;const yt=ft.programConfigurations.get(b.id),Ct=D.useProgram("heatmap",yt,Ne),{zoom:xt}=D.transform;D.terrain&&D.terrain.setupElevationDraw(kt,Ct),D.prepareDrawProgram(Q,Ct,bt.toUnwrapped());const Rt=Te.projection.createInversionMatrix(Te,bt.canonical);Ct.draw(Q,ae.TRIANGLES,n.DepthMode.disabled,ve,ke,Ye,gs(D,bt,kt,Rt,lt,xt,b.paint.get("heatmap-intensity")),b.id,ft.layoutVertexBuffer,ft.indexBuffer,ft.segments,b.paint,D.transform.zoom,yt,je?[ft.globeExtVertexBuffer]:null)}Q.viewport.set([0,0,D.width,D.height])}else D.renderPass==="translucent"&&(D.context.setColorMode(D.colorModeForRenderPass()),function(Q,ae){const ve=Q.context,ke=ve.gl,Te=ae.heatmapFbo;if(!Te)return;ve.activeTexture.set(ke.TEXTURE0),ke.bindTexture(ke.TEXTURE_2D,Te.colorAttachment.get()),ve.activeTexture.set(ke.TEXTURE1);let je=ae.colorRampTexture;je||(je=ae.colorRampTexture=new n.Texture(ve,ae.colorRamp,ke.RGBA)),je.bind(ke.LINEAR,ke.CLAMP_TO_EDGE),Q.useProgram("heatmapTexture").draw(ve,ke.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,Q.colorModeForRenderPass(),n.CullFaceMode.disabled,((Ne,Ye,lt,_t)=>({u_image:0,u_color_ramp:1,u_opacity:Ye.paint.get("heatmap-opacity")}))(0,ae),ae.id,Q.viewportBuffer,Q.quadTriangleIndexBuffer,Q.viewportSegments,ae.paint,Q.transform.zoom)}(D,b))},line:function(D,c,b,V){if(D.renderPass!=="translucent")return;const Q=b.paint.get("line-opacity"),ae=b.paint.get("line-width");if(Q.constantOr(1)===0||ae.constantOr(1)===0)return;const ve=D.depthModeForSublayer(0,n.DepthMode.ReadOnly),ke=D.colorModeForRenderPass(),Te=D.terrain&&D.terrain.renderingToTexture?1:n.exported.devicePixelRatio,je=b.paint.get("line-dasharray"),Ne=je.constantOr(1),Ye=b.layout.get("line-cap"),lt=b.paint.get("line-pattern"),_t=lt.constantOr(1),bt=b.paint.get("line-gradient"),kt=_t?"linePattern":"line",ft=D.context,yt=ft.gl,Ct=(Rt=>{const Ht=[];Vs(Rt)&&Ht.push("RENDER_LINE_DASH"),Rt.paint.get("line-gradient")&&Ht.push("RENDER_LINE_GRADIENT");const zt=Rt.paint.get("line-trim-offset");zt[0]===0&&zt[1]===0||Ht.push("RENDER_LINE_TRIM_OFFSET");const Jt=Rt.paint.get("line-pattern").constantOr(1),yi=Rt.paint.get("line-opacity").constantOr(1)!==1;return!Jt&&yi&&Ht.push("RENDER_LINE_ALPHA_DISCARD"),Ht})(b);let xt=Ct.includes("RENDER_LINE_ALPHA_DISCARD");D.terrain&&D.terrain.clipOrMaskOverlapStencilType()&&(xt=!1);for(const Rt of V){const Ht=c.getTile(Rt);if(_t&&!Ht.patternsLoaded())continue;const zt=Ht.getBucket(b);if(!zt)continue;D.prepareDrawTile();const Jt=zt.programConfigurations.get(b.id),yi=D.useProgram(kt,Jt,Ct),di=lt.constantOr(null);if(di&&Ht.imageAtlas){const Bi=Ht.imageAtlas.patternPositions[di.toString()];Bi&&Jt.setConstantPatternPositions(Bi)}const ni=je.constantOr(null),ji=Ye.constantOr(null);if(!_t&&ni&&ji&&Ht.lineAtlas){const Bi=Ht.lineAtlas.getDash(ni,ji);Bi&&Jt.setConstantPatternPositions(Bi)}let[ui,Oi]=b.paint.get("line-trim-offset");(ji==="round"||ji==="square")&&ui!==Oi&&(ui===0&&(ui-=1),Oi===1&&(Oi+=1));const Si=D.terrain?Rt.projMatrix:null,Hi=_t?ho(D,Ht,b,Si,Te):pl(D,Ht,b,Si,zt.lineClipsArray.length,Te,[ui,Oi]);if(bt){const Bi=zt.gradients[b.id];let Yi=Bi.texture;if(b.gradientVersion!==Bi.version){let ai=256;if(b.stepInterpolant){const bi=c.getSource().maxzoom,vr=Rt.canonical.z===bi?Math.ceil(1<<D.transform.maxZoom-Rt.canonical.z):1;ai=n.clamp(n.nextPowerOfTwo(zt.maxLineLength/n.EXTENT*1024*vr),256,ft.maxTextureSize)}Bi.gradient=n.renderColorRamp({expression:b.gradientExpression(),evaluationKey:"lineProgress",resolution:ai,image:Bi.gradient||void 0,clips:zt.lineClipsArray}),Bi.texture?Bi.texture.update(Bi.gradient):Bi.texture=new n.Texture(ft,Bi.gradient,yt.RGBA),Bi.version=b.gradientVersion,Yi=Bi.texture}ft.activeTexture.set(yt.TEXTURE1),Yi.bind(b.stepInterpolant?yt.NEAREST:yt.LINEAR,yt.CLAMP_TO_EDGE)}Ne&&(ft.activeTexture.set(yt.TEXTURE0),Ht.lineAtlasTexture.bind(yt.LINEAR,yt.REPEAT),Jt.updatePaintBuffers()),_t&&(ft.activeTexture.set(yt.TEXTURE0),Ht.imageAtlasTexture.bind(yt.LINEAR,yt.CLAMP_TO_EDGE),Jt.updatePaintBuffers()),D.prepareDrawProgram(ft,yi,Rt.toUnwrapped());const Ai=Bi=>{yi.draw(ft,yt.TRIANGLES,ve,Bi,ke,n.CullFaceMode.disabled,Hi,b.id,zt.layoutVertexBuffer,zt.indexBuffer,zt.segments,b.paint,D.transform.zoom,Jt,[zt.layoutVertexBuffer2])};if(xt){const Bi=D.stencilModeForClipping(Rt).ref;Bi===0&&D.terrain&&ft.clear({stencil:0});const Yi={func:yt.EQUAL,mask:255};Hi.u_alpha_discard_threshold=.8,Ai(new n.StencilMode(Yi,Bi,255,yt.KEEP,yt.KEEP,yt.INVERT)),Hi.u_alpha_discard_threshold=0,Ai(new n.StencilMode(Yi,Bi,255,yt.KEEP,yt.KEEP,yt.KEEP))}else Ai(D.stencilModeForClipping(Rt))}xt&&(D.resetStencilClippingMasks(),D.terrain&&ft.clear({stencil:0}))},fill:function(D,c,b,V){const Q=b.paint.get("fill-color"),ae=b.paint.get("fill-opacity");if(ae.constantOr(1)===0)return;const ve=D.colorModeForRenderPass(),ke=b.paint.get("fill-pattern"),Te=D.opaquePassEnabledForLayer()&&!ke.constantOr(1)&&Q.constantOr(n.Color.transparent).a===1&&ae.constantOr(0)===1?"opaque":"translucent";if(D.renderPass===Te){const je=D.depthModeForSublayer(1,D.renderPass==="opaque"?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly);Ei(D,c,b,V,je,ve,!1)}if(D.renderPass==="translucent"&&b.paint.get("fill-antialias")){const je=D.depthModeForSublayer(b.getPaintProperty("fill-outline-color")?2:0,n.DepthMode.ReadOnly);Ei(D,c,b,V,je,ve,!0)}},"fill-extrusion":function(D,c,b,V){const Q=b.paint.get("fill-extrusion-opacity");if(Q!==0&&D.renderPass==="translucent"){const ae=new n.DepthMode(D.context.gl.LEQUAL,n.DepthMode.ReadWrite,D.depthRangeFor3D);if(Q!==1||b.paint.get("fill-extrusion-pattern").constantOr(1))mi(D,c,b,V,ae,n.StencilMode.disabled,n.ColorMode.disabled),mi(D,c,b,V,ae,D.stencilModeFor3D(),D.colorModeForRenderPass()),D.resetStencilClippingMasks();else{const ve=D.colorModeForRenderPass();mi(D,c,b,V,ae,n.StencilMode.disabled,ve)}}},hillshade:function(D,c,b,V){if(D.renderPass!=="offscreen"&&D.renderPass!=="translucent")return;const Q=D.context,ae=D.depthModeForSublayer(0,n.DepthMode.ReadOnly),ve=D.colorModeForRenderPass(),ke=D.terrain&&D.terrain.renderingToTexture,[Te,je]=D.renderPass!=="translucent"||ke?[{},V]:D.stencilConfigForOverlap(V);for(const Ne of je){const Ye=c.getTile(Ne);if(Ye.needsHillshadePrepare&&D.renderPass==="offscreen")rn(D,Ye,b,ae,n.StencilMode.disabled,ve);else if(D.renderPass==="translucent"){const lt=ke&&D.terrain?D.terrain.stencilModeForRTTOverlap(Ne):Te[Ne.overscaledZ];Vn(D,Ne,Ye,b,ae,lt,ve)}}Q.viewport.set([0,0,D.width,D.height]),D.resetStencilClippingMasks()},raster:function(D,c,b,V,Q,ae){if(D.renderPass!=="translucent"||b.paint.get("raster-opacity")===0||!V.length)return;const ve=D.context,ke=ve.gl,Te=c.getSource(),je=D.useProgram("raster"),Ne=D.colorModeForRenderPass(),Ye=D.terrain&&D.terrain.renderingToTexture,[lt,_t]=Te instanceof Tt||Ye?[{},V]:D.stencilConfigForOverlap(V),bt=_t[_t.length-1].overscaledZ,kt=!D.options.moving;for(const ft of _t){const yt=Ye?n.DepthMode.disabled:D.depthModeForSublayer(ft.overscaledZ-bt,b.paint.get("raster-opacity")===1?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly,ke.LESS),Ct=ft.toUnwrapped(),xt=c.getTile(ft);if(Ye&&(!xt||!xt.hasData()))continue;const Rt=Ye?ft.projMatrix:D.transform.calculateProjMatrix(Ct,kt),Ht=D.terrain&&Ye?D.terrain.stencilModeForRTTOverlap(ft):lt[ft.overscaledZ],zt=ae?0:b.paint.get("raster-fade-duration");xt.registerFadeDuration(zt);const Jt=c.findLoadedParent(ft,0),yi=Da(xt,Jt,c,D.transform,zt);let di,ni;D.terrain&&D.terrain.prepareDrawTile();const ji=b.paint.get("raster-resampling")==="nearest"?ke.NEAREST:ke.LINEAR;ve.activeTexture.set(ke.TEXTURE0),xt.texture.bind(ji,ke.CLAMP_TO_EDGE),ve.activeTexture.set(ke.TEXTURE1),Jt?(Jt.texture.bind(ji,ke.CLAMP_TO_EDGE),di=Math.pow(2,Jt.tileID.overscaledZ-xt.tileID.overscaledZ),ni=[xt.tileID.canonical.x*di%1,xt.tileID.canonical.y*di%1]):xt.texture.bind(ji,ke.CLAMP_TO_EDGE);const ui=Ps(Rt,ni||[0,0],di||1,yi,b,Te instanceof Tt?Te.perspectiveTransform:[0,0]);if(D.prepareDrawProgram(ve,je,Ct),Te instanceof Tt)Te.boundsBuffer&&Te.boundsSegments&&je.draw(ve,ke.TRIANGLES,yt,n.StencilMode.disabled,Ne,n.CullFaceMode.disabled,ui,b.id,Te.boundsBuffer,D.quadTriangleIndexBuffer,Te.boundsSegments);else{const{tileBoundsBuffer:Oi,tileBoundsIndexBuffer:Si,tileBoundsSegments:Hi}=D.getTileBoundsBuffers(xt);je.draw(ve,ke.TRIANGLES,yt,Ht,Ne,n.CullFaceMode.disabled,ui,b.id,Oi,Si,Hi)}}D.resetStencilClippingMasks()},background:function(D,c,b,V){const Q=b.paint.get("background-color"),ae=b.paint.get("background-opacity");if(ae===0)return;const ve=D.context,ke=ve.gl,Te=D.transform,je=Te.tileSize,Ne=b.paint.get("background-pattern");if(D.isPatternMissing(Ne))return;const Ye=!Ne&&Q.a===1&&ae===1&&D.opaquePassEnabledForLayer()?"opaque":"translucent";if(D.renderPass!==Ye)return;const lt=n.StencilMode.disabled,_t=D.depthModeForSublayer(0,Ye==="opaque"?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly),bt=D.colorModeForRenderPass(),kt=D.useProgram(Ne?"backgroundPattern":"background");let ft,yt=V;yt||(ft=D.getBackgroundTiles(),yt=Object.values(ft).map(Ct=>Ct.tileID)),Ne&&(ve.activeTexture.set(ke.TEXTURE0),D.imageManager.bind(D.context));for(const Ct of yt){const xt=Ct.toUnwrapped(),Rt=V?Ct.projMatrix:D.transform.calculateProjMatrix(xt);D.prepareDrawTile();const Ht=c?c.getTile(Ct):ft?ft[Ct.key]:new n.Tile(Ct,je,Te.zoom,D),zt=Ne?Se(Rt,ae,D,Ne,{tileID:Ct,tileSize:je}):Tl(Rt,ae,Q);D.prepareDrawProgram(ve,kt,xt);const{tileBoundsBuffer:Jt,tileBoundsIndexBuffer:yi,tileBoundsSegments:di}=D.getTileBoundsBuffers(Ht);kt.draw(ve,ke.TRIANGLES,_t,lt,bt,n.CullFaceMode.disabled,zt,b.id,Jt,yi,di)}},sky:function(D,c,b){const V=D.transform,Q=V.projection.name==="mercator"||V.projection.name==="globe"?1:n.smoothstep(7,8,V.zoom),ae=b.paint.get("sky-opacity")*Q;if(ae===0)return;const ve=D.context,ke=b.paint.get("sky-type"),Te=new n.DepthMode(ve.gl.LEQUAL,n.DepthMode.ReadOnly,[0,1]),je=D.frameCounter/1e3%1;ke==="atmosphere"?D.renderPass==="offscreen"?b.needsSkyboxCapture(D)&&(function(Ne,Ye,lt,_t){const bt=Ne.context,kt=bt.gl;let ft=Ye.skyboxFbo;if(!ft){ft=Ye.skyboxFbo=bt.createFramebuffer(32,32,!1),Ye.skyboxGeometry=new wi(bt),Ye.skyboxTexture=bt.gl.createTexture(),kt.bindTexture(kt.TEXTURE_CUBE_MAP,Ye.skyboxTexture),kt.texParameteri(kt.TEXTURE_CUBE_MAP,kt.TEXTURE_WRAP_S,kt.CLAMP_TO_EDGE),kt.texParameteri(kt.TEXTURE_CUBE_MAP,kt.TEXTURE_WRAP_T,kt.CLAMP_TO_EDGE),kt.texParameteri(kt.TEXTURE_CUBE_MAP,kt.TEXTURE_MIN_FILTER,kt.LINEAR),kt.texParameteri(kt.TEXTURE_CUBE_MAP,kt.TEXTURE_MAG_FILTER,kt.LINEAR);for(let Rt=0;Rt<6;++Rt)kt.texImage2D(kt.TEXTURE_CUBE_MAP_POSITIVE_X+Rt,0,kt.RGBA,32,32,0,kt.RGBA,kt.UNSIGNED_BYTE,null)}bt.bindFramebuffer.set(ft.framebuffer),bt.viewport.set([0,0,32,32]);const yt=Ye.getCenter(Ne,!0),Ct=Ne.useProgram("skyboxCapture"),xt=new Float64Array(16);n.identity(xt),n.rotateY(xt,xt,.5*-Math.PI),Ui(bt,Ye,Ct,xt,yt,0),n.identity(xt),n.rotateY(xt,xt,.5*Math.PI),Ui(bt,Ye,Ct,xt,yt,1),n.identity(xt),n.rotateX(xt,xt,.5*-Math.PI),Ui(bt,Ye,Ct,xt,yt,2),n.identity(xt),n.rotateX(xt,xt,.5*Math.PI),Ui(bt,Ye,Ct,xt,yt,3),n.identity(xt),Ui(bt,Ye,Ct,xt,yt,4),n.identity(xt),n.rotateY(xt,xt,Math.PI),Ui(bt,Ye,Ct,xt,yt,5),bt.viewport.set([0,0,Ne.width,Ne.height])}(D,b),b.markSkyboxValid(D)):D.renderPass==="sky"&&function(Ne,Ye,lt,_t,bt){const kt=Ne.context,ft=kt.gl,yt=Ne.transform,Ct=Ne.useProgram("skybox");kt.activeTexture.set(ft.TEXTURE0),ft.bindTexture(ft.TEXTURE_CUBE_MAP,Ye.skyboxTexture);const xt=((Rt,Ht,zt,Jt,yi)=>({u_matrix:Rt,u_sun_direction:Ht,u_cubemap:0,u_opacity:Jt,u_temporal_offset:yi}))(yt.skyboxMatrix,Ye.getCenter(Ne,!1),0,_t,bt);Ne.prepareDrawProgram(kt,Ct),Ct.draw(kt,ft.TRIANGLES,lt,n.StencilMode.disabled,Ne.colorModeForRenderPass(),n.CullFaceMode.backCW,xt,"skybox",Ye.skyboxGeometry.vertexBuffer,Ye.skyboxGeometry.indexBuffer,Ye.skyboxGeometry.segment)}(D,b,Te,ae,je):ke==="gradient"&&D.renderPass==="sky"&&function(Ne,Ye,lt,_t,bt){const kt=Ne.context,ft=kt.gl,yt=Ne.transform,Ct=Ne.useProgram("skyboxGradient");Ye.skyboxGeometry||(Ye.skyboxGeometry=new wi(kt)),kt.activeTexture.set(ft.TEXTURE0);let xt=Ye.colorRampTexture;xt||(xt=Ye.colorRampTexture=new n.Texture(kt,Ye.colorRamp,ft.RGBA)),xt.bind(ft.LINEAR,ft.CLAMP_TO_EDGE);const Rt=((Ht,zt,Jt,yi,di)=>({u_matrix:Ht,u_color_ramp:0,u_center_direction:zt,u_radius:n.degToRad(Jt),u_opacity:yi,u_temporal_offset:di}))(yt.skyboxMatrix,Ye.getCenter(Ne,!1),Ye.paint.get("sky-gradient-radius"),_t,bt);Ne.prepareDrawProgram(kt,Ct),Ct.draw(kt,ft.TRIANGLES,lt,n.StencilMode.disabled,Ne.colorModeForRenderPass(),n.CullFaceMode.backCW,Rt,"skyboxGradient",Ye.skyboxGeometry.vertexBuffer,Ye.skyboxGeometry.indexBuffer,Ye.skyboxGeometry.segment)}(D,b,Te,ae,je)},debug:function(D,c,b){for(let V=0;V<b.length;V++)To(D,c,b[V])},custom:function(D,c,b){const V=D.context,Q=b.implementation;if(D.transform.projection.unsupportedLayers&&D.transform.projection.unsupportedLayers.includes("custom"))n.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if(D.renderPass==="offscreen"){const ae=Q.prerender;ae&&(D.setCustomLayerDefaults(),V.setColorMode(D.colorModeForRenderPass()),ae.call(Q,V.gl,D.transform.customLayerMatrix()),V.setDirty(),D.setBaseState())}else if(D.renderPass==="translucent"){D.setCustomLayerDefaults(),V.setColorMode(D.colorModeForRenderPass()),V.setStencilMode(n.StencilMode.disabled);const ae=Q.renderingMode==="3d"?new n.DepthMode(D.context.gl.LEQUAL,n.DepthMode.ReadWrite,D.depthRangeFor3D):D.depthModeForSublayer(0,n.DepthMode.ReadOnly);V.setDepthMode(ae),Q.render(V.gl,D.transform.customLayerMatrix()),V.setDirty(),D.setBaseState(),V.bindFramebuffer.set(null)}}};class Dr{constructor(c,b){this.context=new We(c),this.transform=b,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=n.SourceCache.maxUnderzooming+n.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ga,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(c,b){const V=!!c&&!!c.terrain&&this.transform.projection.supportsTerrain;if(!(V||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new qn(this,c));const Q=this._terrain;this.transform.elevation=V?Q:null,Q.update(c,this.transform,b)}_updateFog(c){const b=c.fog;if(!b||this.transform.projection.name==="globe"||b.getOpacity(this.transform.pitch)<1||b.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[V,Q]=b.getFovAdjustedRange(this.transform._fov);if(V>Q)return void(this.transform.fogCullDistSq=null);const ae=V+.78*(Q-V);this.transform.fogCullDistSq=ae*ae}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(c,b){if(this.width=c*n.exported.devicePixelRatio,this.height=b*n.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const V of this.style.order)this.style._layers[V].resize()}setup(){const c=this.context,b=new n.StructArrayLayout2i4;b.emplaceBack(0,0),b.emplaceBack(n.EXTENT,0),b.emplaceBack(0,n.EXTENT),b.emplaceBack(n.EXTENT,n.EXTENT),this.tileExtentBuffer=c.createVertexBuffer(b,n.posAttributes.members),this.tileExtentSegments=n.SegmentVector.simpleSegment(0,0,4,2);const V=new n.StructArrayLayout2i4;V.emplaceBack(0,0),V.emplaceBack(n.EXTENT,0),V.emplaceBack(0,n.EXTENT),V.emplaceBack(n.EXTENT,n.EXTENT),this.debugBuffer=c.createVertexBuffer(V,n.posAttributes.members),this.debugSegments=n.SegmentVector.simpleSegment(0,0,4,5);const Q=new n.StructArrayLayout2i4;Q.emplaceBack(-1,-1),Q.emplaceBack(1,-1),Q.emplaceBack(-1,1),Q.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(Q,n.posAttributes.members),this.viewportSegments=n.SegmentVector.simpleSegment(0,0,4,2);const ae=new n.StructArrayLayout4i8;ae.emplaceBack(0,0,0,0),ae.emplaceBack(n.EXTENT,0,n.EXTENT,0),ae.emplaceBack(0,n.EXTENT,0,n.EXTENT),ae.emplaceBack(n.EXTENT,n.EXTENT,n.EXTENT,n.EXTENT),this.mercatorBoundsBuffer=c.createVertexBuffer(ae,n.boundsAttributes.members),this.mercatorBoundsSegments=n.SegmentVector.simpleSegment(0,0,4,2);const ve=new n.StructArrayLayout3ui6;ve.emplaceBack(0,1,2),ve.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(ve);const ke=new n.StructArrayLayout1ui2;for(const je of[0,1,3,2,0])ke.emplaceBack(je);this.debugIndexBuffer=c.createIndexBuffer(ke),this.emptyTexture=new n.Texture(c,new n.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),c.gl.RGBA),this.identityMat=n.create();const Te=this.context.gl;this.stencilClearMode=new n.StencilMode({func:Te.ALWAYS,mask:0},0,255,Te.ZERO,Te.ZERO,Te.ZERO),this.loadTimeStamps.push(n.window.performance.now()),this.atmosphereBuffer=new Wi(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(c){return c._makeTileBoundsBuffers(this.context,this.transform.projection),c._tileBoundsBuffer?{tileBoundsBuffer:c._tileBoundsBuffer,tileBoundsIndexBuffer:c._tileBoundsIndexBuffer,tileBoundsSegments:c._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const c=this.context,b=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(c,b.TRIANGLES,n.DepthMode.disabled,this.stencilClearMode,n.ColorMode.disabled,n.CullFaceMode.disabled,va(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(c,b,V){if(!b||this.currentStencilSource===b.id||!c.isTileClipped()||!V||V.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let ke=!1;for(const Te of V)if(this._tileClippingMaskIDs[Te.key]===void 0){ke=!0;break}if(!ke)return}this.currentStencilSource=b.id;const Q=this.context,ae=Q.gl;this.nextStencilID+V.length>256&&this.clearStencil(),Q.setColorMode(n.ColorMode.disabled),Q.setDepthMode(n.DepthMode.disabled);const ve=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const ke of V){const Te=b.getTile(ke),je=this._tileClippingMaskIDs[ke.key]=this.nextStencilID++,{tileBoundsBuffer:Ne,tileBoundsIndexBuffer:Ye,tileBoundsSegments:lt}=this.getTileBoundsBuffers(Te);ve.draw(Q,ae.TRIANGLES,n.DepthMode.disabled,new n.StencilMode({func:ae.ALWAYS,mask:0},je,255,ae.KEEP,ae.KEEP,ae.REPLACE),n.ColorMode.disabled,n.CullFaceMode.disabled,va(ke.projMatrix),"$clipping",Ne,Ye,lt)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const c=this.nextStencilID++,b=this.context.gl;return new n.StencilMode({func:b.NOTEQUAL,mask:255},c,255,b.KEEP,b.KEEP,b.REPLACE)}stencilModeForClipping(c){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(c);const b=this.context.gl;return new n.StencilMode({func:b.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,b.KEEP,b.KEEP,b.REPLACE)}stencilConfigForOverlap(c){const b=this.context.gl,V=c.sort((ve,ke)=>ke.overscaledZ-ve.overscaledZ),Q=V[V.length-1].overscaledZ,ae=V[0].overscaledZ-Q+1;if(ae>1){this.currentStencilSource=void 0,this.nextStencilID+ae>256&&this.clearStencil();const ve={};for(let ke=0;ke<ae;ke++)ve[ke+Q]=new n.StencilMode({func:b.GEQUAL,mask:255},ke+this.nextStencilID,255,b.KEEP,b.KEEP,b.REPLACE);return this.nextStencilID+=ae,[ve,V]}return[{[Q]:n.StencilMode.disabled},V]}colorModeForRenderPass(){const c=this.context.gl;return this._showOverdrawInspector?new n.ColorMode([c.CONSTANT_COLOR,c.ONE],new n.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?n.ColorMode.unblended:n.ColorMode.alphaBlended}depthModeForSublayer(c,b,V){if(!this.opaquePassEnabledForLayer())return n.DepthMode.disabled;const Q=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new n.DepthMode(V||this.context.gl.LEQUAL,b,[Q,Q])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(c,b){this.style=c,this.options=b,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(n.exported.now()),this.imageManager.beginFrame();const V=this.style.order,Q=this.style._sourceCaches;for(const Te in Q){const je=Q[Te];je.used&&je.prepare(this.context)}const ae={},ve={},ke={};for(const Te in Q){const je=Q[Te];ae[Te]=je.getVisibleCoordinates(),ve[Te]=ae[Te].slice().reverse(),ke[Te]=je.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let Te=0;Te<V.length;Te++)if(this.style._layers[V[Te]].is3D()){this.opaquePassCutoff=Te;break}if(this.terrain&&(this.terrain.updateTileBinding(ke),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new n.GlobeSharedBuffers(this.context)),n.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const Te of V){const je=this.style._layers[Te],Ne=c._getLayerSourceCache(je);if(!je.hasOffscreenPass()||je.isHidden(this.transform.zoom))continue;const Ye=Ne?ve[Ne.id]:void 0;(je.type==="custom"||je.isSky()||Ye&&Ye.length)&&this.renderLayer(this,Ne,je,Ye)}if(this.depthRangeFor3D=[0,1-(c.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:b.showOverdrawInspector?n.Color.black:n.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=b.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=V.length-1;this.currentLayer>=0;this.currentLayer--){const Te=this.style._layers[V[this.currentLayer]],je=c._getLayerSourceCache(Te);if(Te.isSky())continue;const Ne=je?ve[je.id]:void 0;this._renderTileClippingMasks(Te,je,Ne),this.renderLayer(this,je,Te,Ne)}if(this.style.fog&&this.transform.projection.supportsFog&&function(Te,je){const Ne=Te.context,Ye=Ne.gl,lt=Te.transform,_t=new n.DepthMode(Ye.LEQUAL,n.DepthMode.ReadOnly,[0,1]),bt=Te.useProgram("globeAtmosphere",null,lt.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),kt=n.globeToMercatorTransition(lt.zoom),ft=je.properties.get("color").toArray01(),yt=je.properties.get("high-color").toArray01(),Ct=je.properties.get("space-color").toArray01PremultipliedAlpha(),xt=n.identity$1([]);n.rotateY$1(xt,xt,-n.degToRad(lt._center.lng)),n.rotateX$1(xt,xt,n.degToRad(lt._center.lat)),n.rotateZ$1(xt,xt,lt.angle),n.rotateX$1(xt,xt,-lt._pitch);const Rt=n.fromQuat(new Float32Array(16),xt),Ht=n.mapValue(je.properties.get("star-intensity"),0,1,0,.25),zt=5e-4,Jt=n.mapValue(je.properties.get("horizon-blend"),0,1,zt,.25),yi=n.globeUseCustomAntiAliasing(Te,Ne,lt)&&Jt===zt?lt.worldSize/(2*Math.PI*1.025)-1:lt.globeRadius,di=Te.frameCounter/1e3%1,ni=n.length(lt.globeCenterInViewSpace),ji=Math.sqrt(Math.pow(ni,2)-Math.pow(yi,2)),ui=Math.acos(ji/ni),Oi=((Hi,Ai,Bi,Yi,ai,bi,vr,Sr,_r,Lr,on,Ar,mr,jn)=>({u_frustum_tl:Hi,u_frustum_tr:Ai,u_frustum_br:Bi,u_frustum_bl:Yi,u_horizon:ai,u_transition:bi,u_fadeout_range:vr,u_color:Sr,u_high_color:_r,u_space_color:Lr,u_star_intensity:on,u_star_size:5*n.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:Ar,u_horizon_angle:mr,u_rotation_matrix:jn}))(lt.frustumCorners.TL,lt.frustumCorners.TR,lt.frustumCorners.BR,lt.frustumCorners.BL,lt.frustumCorners.horizon,kt,Jt,ft,yt,Ct,Ht,di,ui,Rt);Te.prepareDrawProgram(Ne,bt);const Si=Te.atmosphereBuffer;Si&&bt.draw(Ne,Ye.TRIANGLES,_t,n.StencilMode.disabled,n.ColorMode.alphaBlended,n.CullFaceMode.backCW,Oi,"skybox",Si.vertexBuffer,Si.indexBuffer,Si.segments)}(this,this.style.fog),this.renderPass="sky",(n.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<V.length;this.currentLayer++){const Te=this.style._layers[V[this.currentLayer]],je=c._getLayerSourceCache(Te);Te.isSky()&&this.renderLayer(this,je,Te,je?ve[je.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<V.length;){const Te=this.style._layers[V[this.currentLayer]],je=c._getLayerSourceCache(Te);if(Te.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(Te)){if(Te.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const Ne=je?(Te.type==="symbol"?ke:ve)[je.id]:void 0;this._renderTileClippingMasks(Te,je,je?ae[je.id]:void 0),this.renderLayer(this,je,Te,Ne),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let Te=null;n.values(this.style._layers).forEach(je=>{const Ne=c._getLayerSourceCache(je);Ne&&!je.isHidden(this.transform.zoom)&&(!Te||Te.getSource().maxzoom<Ne.getSource().maxzoom)&&(Te=Ne)}),Te&&this.options.showTileBoundaries&&Mr.debug(this,Te,Te.getVisibleCoordinates())}this.options.showPadding&&function(Te){const je=Te.transform.padding;la(Te,Te.transform.height-(je.top||0),3,Fr),la(Te,je.bottom||0,3,hn),mt(Te,je.left||0,3,On),mt(Te,Te.transform.width-(je.right||0),3,Xr);const Ne=Te.transform.centerPoint;(function(Ye,lt,_t,bt){Nt(Ye,lt-1,_t-10,2,20,bt),Nt(Ye,lt-10,_t-1,20,2,bt)})(Te,Ne.x,Te.transform.height-Ne.y,Ka)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(n.window.performance.now()),this.saveCanvasCopy())}}renderLayer(c,b,V,Q){V.isHidden(this.transform.zoom)||(V.type==="background"||V.type==="sky"||V.type==="custom"||Q&&Q.length)&&(this.id=V.id,this.gpuTimingStart(V),c.transform.projection.unsupportedLayers&&c.transform.projection.unsupportedLayers.includes(V.type)||Mr[V.type](c,b,V,Q,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(c){if(!this.options.gpuTiming)return;const b=this.context.extTimerQuery;let V=this.gpuTimers[c.id];V||(V=this.gpuTimers[c.id]={calls:0,cpuTime:0,query:b.createQueryEXT()}),V.calls++,b.beginQueryEXT(b.TIME_ELAPSED_EXT,V.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const c=this.context.extTimerQuery,b=c.createQueryEXT();this.deferredRenderGpuTimeQueries.push(b),c.beginQueryEXT(c.TIME_ELAPSED_EXT,b)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}collectGpuTimers(){const c=this.gpuTimers;return this.gpuTimers={},c}collectDeferredRenderGpuQueries(){const c=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],c}queryGpuTimers(c){const b={};for(const V in c){const Q=c[V],ae=this.context.extTimerQuery,ve=ae.getQueryObjectEXT(Q.query,ae.QUERY_RESULT_EXT)/1e6;ae.deleteQueryEXT(Q.query),b[V]=ve}return b}queryGpuTimeDeferredRender(c){if(!this.options.gpuTimingDeferredRender)return 0;const b=this.context.extTimerQuery;let V=0;for(const Q of c)V+=b.getQueryObjectEXT(Q,b.QUERY_RESULT_EXT)/1e6,b.deleteQueryEXT(Q);return V}translatePosMatrix(c,b,V,Q,ae){if(!V[0]&&!V[1])return c;const ve=ae?Q==="map"?this.transform.angle:0:Q==="viewport"?-this.transform.angle:0;if(ve){const je=Math.sin(ve),Ne=Math.cos(ve);V=[V[0]*Ne-V[1]*je,V[0]*je+V[1]*Ne]}const ke=[ae?V[0]:oe(b,V[0],this.transform.zoom),ae?V[1]:oe(b,V[1],this.transform.zoom),0],Te=new Float32Array(16);return n.translate(Te,c,ke),Te}saveTileTexture(c){const b=this._tileTextures[c.size[0]];b?b.push(c):this._tileTextures[c.size[0]]=[c]}getTileTexture(c){const b=this._tileTextures[c];return b&&b.length>0?b.pop():null}isPatternMissing(c){return c===null||c!==void 0&&!this.imageManager.getPattern(c.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const c=this.terrain&&this.terrain.renderingToTexture,b=this.terrain&&this.terrain.exaggeration()===0,V=this.style&&this.style.fog,Q=[];return this.terrainRenderModeElevated()&&Q.push("TERRAIN"),this.transform.projection.name==="globe"&&Q.push("GLOBE"),b&&Q.push("ZERO_EXAGGERATION"),V&&!c&&V.getOpacity(this.transform.pitch)!==0&&Q.push("FOG"),c&&Q.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&Q.push("OVERDRAW_INSPECTOR"),Q}useProgram(c,b,V){this.cache=this.cache||{};const Q=V||[],ae=this.currentGlobalDefines().concat(Q),ve=xa.cacheKey(xi[c],c,ae,b);return this.cache[ve]||(this.cache[ve]=new xa(this.context,c,xi[c],b,$e[c],ae)),this.cache[ve]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=n.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new n.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(c,b,V){if(this.terrain&&this.terrain.renderingToTexture)return;const Q=this.style.fog;if(Q){const ae=Q.getOpacity(this.transform.pitch),ve=((ke,Te,je,Ne,Ye,lt,_t,bt,kt,ft,yt)=>{const Ct=ke.transform,xt=Te.properties.get("color").toArray01();xt[3]=Ne;const Rt=ke.frameCounter/1e3%1;return{u_fog_matrix:je?Ct.calculateFogTileMatrix(je):ke.identityMat,u_fog_range:Te.getFovAdjustedRange(Ct._fov),u_fog_color:xt,u_fog_horizon_blend:Te.properties.get("horizon-blend"),u_fog_temporal_offset:Rt,u_frustum_tl:Ye,u_frustum_tr:lt,u_frustum_br:_t,u_frustum_bl:bt,u_globe_pos:kt,u_globe_radius:ft,u_viewport:yt,u_globe_transition:n.globeToMercatorTransition(Ct.zoom),u_is_globe:+(Ct.projection.name==="globe")}})(this,Q,V,ae,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*n.exported.devicePixelRatio,this.transform.height*n.exported.devicePixelRatio]);b.setFogUniformValues(c,ve)}}setTileLoadedFlag(c){this.tileLoaded=c}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const c=this.context.gl,b=c.createTexture();return c.bindTexture(c.TEXTURE_2D,b),c.copyTexImage2D(c.TEXTURE_2D,0,c.RGBA,0,0,c.drawingBufferWidth,c.drawingBufferHeight,0),b}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const c=this.style&&this.style.fog;return!!c&&c.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const c=this._backgroundTiles,b=this._backgroundTiles={},V=this.transform.coveringTiles({tileSize:512});for(const Q of V)b[Q.key]=c[Q.key]||new n.Tile(Q,512,this.transform.tileZoom,this);return b}clearBackgroundTiles(){this._backgroundTiles={}}}class Nr{constructor(c=0,b=0,V=0,Q=0){if(isNaN(c)||c<0||isNaN(b)||b<0||isNaN(V)||V<0||isNaN(Q)||Q<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=b,this.left=V,this.right=Q}interpolate(c,b,V){return b.top!=null&&c.top!=null&&(this.top=n.number(c.top,b.top,V)),b.bottom!=null&&c.bottom!=null&&(this.bottom=n.number(c.bottom,b.bottom,V)),b.left!=null&&c.left!=null&&(this.left=n.number(c.left,b.left,V)),b.right!=null&&c.right!=null&&(this.right=n.number(c.right,b.right,V)),this}getCenter(c,b){const V=n.clamp((this.left+c-this.right)/2,0,c),Q=n.clamp((this.top+b-this.bottom)/2,0,b);return new n.pointGeometry(V,Q)}equals(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right}clone(){return new Nr(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Jr(D,c){const b=n.getColumn(D,3);n.fromQuat(D,c),n.setColumn(D,3,b)}function _n(D,c){const b=n.identity$1([]);return n.rotateZ$1(b,b,-c),n.rotateX$1(b,b,-D),b}function Er(D,c){const b=[D[0],D[1],0],V=[c[0],c[1],0];if(n.length(b)>=1e-15){const ve=n.normalize([],b);n.scale$2(V,ve,n.dot(V,ve)),c[0]=V[0],c[1]=V[1]}const Q=n.cross([],c,D);if(n.len(Q)<1e-15)return null;const ae=Math.atan2(-Q[1],Q[0]);return _n(Math.atan2(Math.sqrt(D[0]*D[0]+D[1]*D[1]),-D[2]),ae)}class Me{constructor(c,b){this.position=c,this.orientation=b}get position(){return this._position}set position(c){if(c){const b=c instanceof n.MercatorCoordinate?c:new n.MercatorCoordinate(c[0],c[1],c[2]);this._renderWorldCopies&&(b.x=n.wrap(b.x,0,1)),this._position=b}else this._position=null}lookAtPoint(c,b){if(this.orientation=null,!this.position)return;const V=this._elevation?this._elevation.getAtPointOrZero(n.MercatorCoordinate.fromLngLat(c)):0,Q=this.position,ae=n.MercatorCoordinate.fromLngLat(c,V),ve=[ae.x-Q.x,ae.y-Q.y,ae.z-Q.z];b||(b=[0,0,1]),b[2]=Math.abs(b[2]),this.orientation=Er(ve,b)}setPitchBearing(c,b){this.orientation=_n(n.degToRad(c),n.degToRad(-b))}}class Re{constructor(c,b){this._transform=n.identity([]),this.orientation=b,this.position=c}get mercatorPosition(){const c=this.position;return new n.MercatorCoordinate(c[0],c[1],c[2])}get position(){const c=n.getColumn(this._transform,3);return[c[0],c[1],c[2]]}set position(c){var b;c&&n.setColumn(this._transform,3,[(b=c)[0],b[1],b[2],1])}get orientation(){return this._orientation}set orientation(c){this._orientation=c||n.identity$1([]),c&&Jr(this._transform,this._orientation)}getPitchBearing(){const c=this.forward(),b=this.right();return{bearing:Math.atan2(-b[1],b[0]),pitch:Math.atan2(Math.sqrt(c[0]*c[0]+c[1]*c[1]),-c[2])}}setPitchBearing(c,b){this._orientation=_n(c,b),Jr(this._transform,this._orientation)}forward(){const c=n.getColumn(this._transform,2);return[-c[0],-c[1],-c[2]]}up(){const c=n.getColumn(this._transform,1);return[-c[0],-c[1],-c[2]]}right(){const c=n.getColumn(this._transform,0);return[c[0],c[1],c[2]]}getCameraToWorld(c,b){const V=new Float64Array(16);return n.invert(V,this.getWorldToCamera(c,b)),V}getWorldToCameraPosition(c,b,V){const Q=this.position;n.scale$2(Q,Q,-c);const ae=new Float64Array(16);return n.fromScaling(ae,[V,V,V]),n.translate(ae,ae,Q),ae[10]*=b,ae}getWorldToCamera(c,b){const V=new Float64Array(16),Q=new Float64Array(4),ae=this.position;return n.conjugate(Q,this._orientation),n.scale$2(ae,ae,-c),n.fromQuat(V,Q),n.translate(V,V,ae),V[1]*=-1,V[5]*=-1,V[9]*=-1,V[13]*=-1,V[8]*=b,V[9]*=b,V[10]*=b,V[11]*=b,V}getCameraToClipPerspective(c,b,V,Q){const ae=new Float64Array(16);return n.perspective(ae,c,b,V,Q),ae}getDistanceToElevation(c,b=!1){const V=c===0?0:n.mercatorZfromAltitude(c,b?n.latFromMercatorY(this.position[1]):this.position[1]),Q=this.forward();return(V-this.position[2])/Q[2]}clone(){return new Re([...this.position],[...this.orientation])}}function et(D,c){const b=Ni(D.projection,D.zoom,D.width,D.height),V=function(ae,ve,ke,Te,je){const Ne=new n.LngLat(ke.lng-180*wr,ke.lat),Ye=new n.LngLat(ke.lng+180*wr,ke.lat),lt=ae.project(Ne.lng,Ne.lat),_t=ae.project(Ye.lng,Ye.lat),bt=-Math.atan2(_t.y-lt.y,_t.x-lt.x),kt=n.MercatorCoordinate.fromLngLat(ke);kt.y=n.clamp(kt.y,-.999975,.999975);const ft=kt.toLngLat(),yt=ae.project(ft.lng,ft.lat),Ct=n.MercatorCoordinate.fromLngLat(ft);Ct.x+=wr;const xt=Ct.toLngLat(),Rt=ae.project(xt.lng,xt.lat),Ht=Ta(Rt.x-yt.x,Rt.y-yt.y,bt),zt=n.MercatorCoordinate.fromLngLat(ft);zt.y+=wr;const Jt=zt.toLngLat(),yi=ae.project(Jt.lng,Jt.lat),di=Ta(yi.x-yt.x,yi.y-yt.y,bt),ni=Math.abs(Ht.x)/Math.abs(di.y),ji=n.identity([]);n.rotateZ(ji,ji,-bt*(1-(je?0:Te)));const ui=n.identity([]);return n.scale(ui,ui,[1,1-(1-ni)*Te,1]),ui[4]=-di.x/di.y*Te,n.rotateZ(ui,ui,bt),n.multiply(ui,ji,ui),ui}(D.projection,0,D.center,b,c),Q=Ot(D);return n.scale(V,V,[Q,Q,1]),V}function Ot(D){const c=D.projection,b=Ni(D.projection,D.zoom,D.width,D.height),V=gn(c,D.center),Q=gn(c,n.LngLat.convert(c.center));return Math.pow(2,V*b+(1-b)*Q)}function Ni(D,c,b,V,Q=1/0){const ae=D.range;if(!ae)return 0;const ve=Math.min(Q,Math.max(b,V)),ke=Math.log(ve/1024)/Math.LN2;return n.smoothstep(ae[0]+ke,ae[1]+ke,c)}const wr=1/4e4;function gn(D,c){const b=n.clamp(c.lat,-n.MAX_MERCATOR_LATITUDE,n.MAX_MERCATOR_LATITUDE),V=new n.LngLat(c.lng-180*wr,b),Q=new n.LngLat(c.lng+180*wr,b),ae=D.project(V.lng,b),ve=D.project(Q.lng,b),ke=n.MercatorCoordinate.fromLngLat(V),Te=n.MercatorCoordinate.fromLngLat(Q),je=ve.x-ae.x,Ne=ve.y-ae.y,Ye=Te.x-ke.x,lt=Te.y-ke.y,_t=Math.sqrt((Ye*Ye+lt*lt)/(je*je+Ne*Ne));return Math.log(_t)/Math.LN2}function Ta(D,c,b){const V=Math.cos(b),Q=Math.sin(b);return{x:D*V-c*Q,y:D*Q+c*V}}class wa{constructor(c,b,V,Q,ae,ve,ke){this.tileSize=512,this._renderWorldCopies=ae===void 0||ae,this._minZoom=c||0,this._maxZoom=b||22,this._minPitch=V??0,this._maxPitch=Q??60,this.setProjection(ve),this.setMaxBounds(ke),this.width=0,this.height=0,this._center=new n.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Nr,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Re,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const c=new wa(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return c._elevation=this._elevation,c._centerAltitude=this._centerAltitude,c._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,c.tileSize=this.tileSize,c.mercatorFromTransition=this.mercatorFromTransition,c.width=this.width,c.height=this.height,c.cameraElevationReference=this.cameraElevationReference,c._center=this._center,c._setZoom(this.zoom),c._seaLevelZoom=this._seaLevelZoom,c.angle=this.angle,c._fov=this._fov,c._pitch=this._pitch,c._nearZ=this._nearZ,c._farZ=this._farZ,c._averageElevation=this._averageElevation,c._unmodified=this._unmodified,c._edgeInsets=this._edgeInsets.clone(),c._camera=this._camera.clone(),c._calcMatrices(),c.freezeTileCoverage=this.freezeTileCoverage,c.frustumCorners=this.frustumCorners,c}get elevation(){return this._elevation}set elevation(c){this._elevation!==c&&(this._elevation=c,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(c,b=!1){const V=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||V)&&this._updateCameraOnTerrain(),(c||V)&&this._constrainCamera(b),this._calcMatrices()}getProjection(){return n.pick(this.projection,["name","center","parallels"])}setProjection(c){this.projectionOptions=c||{name:"mercator"};const b=this.projection?this.getProjection():void 0;this.projection=n.getProjection(this.projectionOptions);const V=!k(b,this.getProjection());return V&&this._calcMatrices(),this.mercatorFromTransition=!1,V}setMercatorFromTransition(){const c=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=n.getProjection({name:"mercator"});const b=c!==this.projection.name;return b&&this._calcMatrices(),b}get minZoom(){return this._minZoom}set minZoom(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))}get maxZoom(){return this._maxZoom}set maxZoom(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))}get minPitch(){return this._minPitch}set minPitch(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))}get maxPitch(){return this._maxPitch}set maxPitch(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const c=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(c))}get cameraWorldSize(){const c=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(c))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return n.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new n.pointGeometry(this.width,this.height)}get bearing(){return n.wrap(this.rotation,-180,180)}set bearing(c){this.rotation=c}get rotation(){return-this.angle/Math.PI*180}set rotation(c){const b=-c*Math.PI/180;var V;this.angle!==b&&(this._unmodified=!1,this.angle=b,this._calcMatrices(),this.rotationMatrix=(V=new n.ARRAY_TYPE(4),n.ARRAY_TYPE!=Float32Array&&(V[1]=0,V[2]=0),V[0]=1,V[3]=1,V),function(Q,ae,ve){var ke=ae[0],Te=ae[1],je=ae[2],Ne=ae[3],Ye=Math.sin(ve),lt=Math.cos(ve);Q[0]=ke*lt+je*Ye,Q[1]=Te*lt+Ne*Ye,Q[2]=ke*-Ye+je*lt,Q[3]=Te*-Ye+Ne*lt}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(c){const b=n.clamp(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==b&&(this._unmodified=!1,this._pitch=b,this._calcMatrices())}get aspect(){return this.width/this.height}get fovX(){return this._fov}get fovY(){const c=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/c)}set fov(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=n.degToRad(c),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(c){this._averageElevation=c,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(c){const b=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==b&&(this._unmodified=!1,this._setZoom(b),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(c){this._zoom=c,this.scale=this.zoomScale(c),this.tileZoom=Math.floor(c),this.zoomFraction=c-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const c=this._elevation;this._centerAltitude=c.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=c.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const c=this._elevation,b=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],V=this.horizonLineFromTop();let Q=0,ae=0;for(let ve=0;ve<b.length;ve++){const ke=new n.pointGeometry(b[ve][0]*this.width,V+b[ve][1]*(this.height-V)),Te=c.pointCoordinate(ke);if(!Te)continue;const je=1/Math.hypot(Te[0]-this._camera.position[0],Te[1]-this._camera.position[1]);Q+=Te[3]*je,ae+=je}return ae===0?NaN:Q/ae}get center(){return this._center}set center(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const c=this._seaLevelZoom,b=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),V=this.pixelsPerMeter/this.worldSize*b,Q=this._mercatorZfromZoom(c),ae=this._mercatorZfromZoom(this._maxZoom),ve=Math.max(Q-V,ae);this._setZoom(this._zoomFromMercatorZ(ve))}get padding(){return this._edgeInsets.toJSON()}set padding(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())}computeZoomRelativeTo(c){const b=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,c.toAltitude()));let V;V=c.z<this._camera.position[2]?[b.x,b.y,b.z]:[c.x,c.y,c.z];const Q=n.length(n.sub([],this._camera.position,V));return n.clamp(this._zoomFromMercatorZ(Q),this._minZoom,this._maxZoom)}setFreeCameraOptions(c){if(!this.height||!c.position&&!c.orientation)return;this._updateCameraState();let b=!1;if(c.orientation&&!n.exactEquals(c.orientation,this._camera.orientation)&&(b=this._setCameraOrientation(c.orientation)),c.position){const V=[c.position.x,c.position.y,c.position.z];n.exactEquals$1(V,this._camera.position)||(this._setCameraPosition(V),b=!0)}b&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const c=this._camera.position,b=new Me;return b.position=new n.MercatorCoordinate(c[0],c[1],c[2]),b.orientation=this._camera.orientation,b._elevation=this.elevation,b._renderWorldCopies=this.renderWorldCopies,b}_setCameraOrientation(c){if(!n.length$1(c))return!1;n.normalize$1(c,c);const b=n.transformQuat([],[0,0,-1],c),V=n.transformQuat([],[0,-1,0],c);if(V[2]<0)return!1;const Q=Er(b,V);return!!Q&&(this._camera.orientation=Q,!0)}_setCameraPosition(c){const b=this.zoomScale(this.minZoom)*this.tileSize,V=this.zoomScale(this.maxZoom)*this.tileSize,Q=this.cameraToCenterDistance;c[2]=n.clamp(c[2],Q/V,Q/b),this._camera.position=c}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(c){return this._edgeInsets.equals(c)}interpolatePadding(c,b,V){this._unmodified=!1,this._edgeInsets.interpolate(c,b,V),this._constrain(),this._calcMatrices()}coveringZoomLevel(c){const b=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,b)}getVisibleUnwrappedCoordinates(c){const b=[new n.UnwrappedTileID(0,c)];if(this.renderWorldCopies){const V=this.pointCoordinate(new n.pointGeometry(0,0)),Q=this.pointCoordinate(new n.pointGeometry(this.width,0)),ae=this.pointCoordinate(new n.pointGeometry(this.width,this.height)),ve=this.pointCoordinate(new n.pointGeometry(0,this.height)),ke=Math.floor(Math.min(V.x,Q.x,ae.x,ve.x)),Te=Math.floor(Math.max(V.x,Q.x,ae.x,ve.x)),je=1;for(let Ne=ke-je;Ne<=Te+je;Ne++)Ne!==0&&b.push(new n.UnwrappedTileID(Ne,c))}return b}coveringTiles(c){let b=this.coveringZoomLevel(c);const V=b,Q=this.elevation&&!c.isTerrainDEM,ae=this.projection.name==="mercator";if(c.minzoom!==void 0&&b<c.minzoom)return[];c.maxzoom!==void 0&&b>c.maxzoom&&(b=c.maxzoom);const ve=this.locationCoordinate(this.center),ke=this.center.lat,Te=1<<b,je=[Te*ve.x,Te*ve.y,0],Ne=this.projection.name==="globe",Ye=!Ne,lt=n.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,b,Ye),_t=Ne?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),bt=Te*n.mercatorZfromAltitude(1,this.center.lat),kt=this._camera.position[2]/n.mercatorZfromAltitude(1,this.center.lat),ft=[Te*_t.x,Te*_t.y,kt*(Ye?1:bt)],yt=this.cameraToCenterDistance/c.tileSize*(c.roundZoom?1:.502),Ct=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?b:0,xt=c.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,Rt=c.isTerrainDEM?-xt:this._elevation?this._elevation.getMinElevationBelowMSL():0,Ht=this.projection.isReprojectedInTileSpace?Ot(this):1,zt=Ai=>{const Yi=new n.MercatorCoordinate(Ai.x+25e-6,Ai.y,Ai.z),ai=new n.MercatorCoordinate(Ai.x,Ai.y+25e-6,Ai.z),bi=Ai.toLngLat(),vr=Yi.toLngLat(),Sr=ai.toLngLat(),_r=this.locationCoordinate(bi),Lr=this.locationCoordinate(vr),on=this.locationCoordinate(Sr),Ar=Math.hypot(Lr.x-_r.x,Lr.y-_r.y),mr=Math.hypot(on.x-_r.x,on.y-_r.y);return Math.sqrt(Ar*mr)*Ht/25e-6},Jt=Ai=>{const Bi=xt,Yi=Rt;return{aabb:n.tileAABB(this,Te,0,0,0,Ai,Yi,Bi,this.projection),zoom:0,x:0,y:0,minZ:Yi,maxZ:Bi,wrap:Ai,fullyVisible:!1}},yi=[];let di=[];const ni=b,ji=c.reparseOverscaled?V:b,ui=Ai=>Ai*Ai,Oi=ui((kt-this._centerAltitude)*bt),Si=Ai=>{if(!this._elevation||!Ai.tileID||!ae)return;const Bi=this._elevation.getMinMaxForTile(Ai.tileID),Yi=Ai.aabb;Bi?(Yi.min[2]=Bi.min,Yi.max[2]=Bi.max,Yi.center[2]=(Yi.min[2]+Yi.max[2])/2):(Ai.shouldSplit=Hi(Ai),Ai.shouldSplit||(Yi.min[2]=Yi.max[2]=Yi.center[2]=this._centerAltitude))},Hi=Ai=>{if(Ai.zoom<Ct)return!0;if(Ai.zoom===ni)return!1;if(Ai.shouldSplit!=null)return Ai.shouldSplit;const Bi=Ai.aabb.distanceX(ft),Yi=Ai.aabb.distanceY(ft);let ai=Oi,bi=1;if(Ne){ai=ui(Ai.aabb.distanceZ(ft));const _r=Math.pow(2,Ai.zoom),Lr=n.latFromMercatorY((Ai.y+1)/_r),on=n.latFromMercatorY(Ai.y/_r),Ar=Math.min(Math.max(ke,Lr),on),mr=n.circumferenceAtLatitude(Ar)/n.circumferenceAtLatitude(ke);if(bi=Ar===ke?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,mr/this._mercatorScaleRatio),this.zoom<=n.GLOBE_ZOOM_THRESHOLD_MIN&&Ai.zoom===ni-1&&mr>=.9)return!0}else if(Q&&(ai=ui(Ai.aabb.distanceZ(ft)*bt)),this.projection.isReprojectedInTileSpace&&V<=5){const _r=Math.pow(2,Ai.zoom),Lr=zt(new n.MercatorCoordinate((Ai.x+.5)/_r,(Ai.y+.5)/_r));bi=Lr>.85?1:Lr}const vr=Bi*Bi+Yi*Yi+ai,Sr=ui((1<<ni-Ai.zoom)*yt*bi*((_r,Lr)=>{if(Lr*ui(.707)<_r)return 1;const on=Math.sqrt(Lr/_r);return on/(1.4144271570014144+(Math.pow(1.1,on-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(ai,Oi),vr));return vr<Sr};if(this.renderWorldCopies)for(let Ai=1;Ai<=3;Ai++)yi.push(Jt(-Ai)),yi.push(Jt(Ai));for(yi.push(Jt(0));yi.length>0;){const Ai=yi.pop(),Bi=Ai.x,Yi=Ai.y;let ai=Ai.fullyVisible;if(!ai){const bi=Ai.aabb.intersects(lt);if(bi===0)continue;ai=bi===2}if(Ai.zoom!==ni&&Hi(Ai))for(let bi=0;bi<4;bi++){const vr=(Bi<<1)+bi%2,Sr=(Yi<<1)+(bi>>1),_r={aabb:ae?Ai.aabb.quadrant(bi):n.tileAABB(this,Te,Ai.zoom+1,vr,Sr,Ai.wrap,Ai.minZ,Ai.maxZ,this.projection),zoom:Ai.zoom+1,x:vr,y:Sr,wrap:Ai.wrap,fullyVisible:ai,tileID:void 0,shouldSplit:void 0,minZ:Ai.minZ,maxZ:Ai.maxZ};Q&&!Ne&&(_r.tileID=new n.OverscaledTileID(Ai.zoom+1===ni?ji:Ai.zoom+1,Ai.wrap,Ai.zoom+1,vr,Sr),Si(_r)),yi.push(_r)}else{const bi=Ai.zoom===ni?ji:Ai.zoom;if(c.minzoom&&c.minzoom>bi)continue;const vr=je[0]-(.5+Bi+(Ai.wrap<<Ai.zoom))*(1<<b-Ai.zoom),Sr=je[1]-.5-Yi,_r=Ai.tileID?Ai.tileID:new n.OverscaledTileID(bi,Ai.wrap,Ai.zoom,Bi,Yi);di.push({tileID:_r,distanceSq:vr*vr+Sr*Sr})}}if(this.fogCullDistSq){const Ai=this.fogCullDistSq,Bi=this.horizonLineFromTop();di=di.filter(Yi=>{const ai=[0,0,0,1],bi=[n.EXTENT,n.EXTENT,0,1],vr=this.calculateFogTileMatrix(Yi.tileID.toUnwrapped());n.transformMat4$1(ai,ai,vr),n.transformMat4$1(bi,bi,vr);const Sr=n.getAABBPointSquareDist(ai,bi);if(Sr===0)return!0;let _r=!1;const Lr=this._elevation;if(Lr&&Sr>Ai&&Bi!==0){const on=this.calculateProjMatrix(Yi.tileID.toUnwrapped());let Ar;c.isTerrainDEM||(Ar=Lr.getMinMaxForTile(Yi.tileID)),Ar||(Ar={min:Rt,max:xt});const mr=n.furthestTileCorner(this.rotation),jn=[mr[0]*n.EXTENT,mr[1]*n.EXTENT,Ar.max];n.transformMat4(jn,jn,on),_r=(1-jn[1])*this.height*.5<Bi}return Sr<Ai||_r})}return di.sort((Ai,Bi)=>Ai.distanceSq-Bi.distanceSq).map(Ai=>Ai.tileID)}resize(c,b){this.width=c,this.height=b,this.pixelsToGLUnits=[2/c,-2/b],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(c){return Math.pow(2,c)}scaleZoom(c){return Math.log(c)/Math.LN2}project(c){const b=n.clamp(c.lat,-n.MAX_MERCATOR_LATITUDE,n.MAX_MERCATOR_LATITUDE),V=this.projection.project(c.lng,b);return new n.pointGeometry(V.x*this.worldSize,V.y*this.worldSize)}unproject(c){return this.projection.unproject(c.x/this.worldSize,c.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(c,b){let V,Q;const ae=this.centerPoint;if(this.projection.name==="globe"){const ke=this.worldSize;V=(b.x-ae.x)/ke,Q=(b.y-ae.y)/ke}else{const ke=this.pointCoordinate(b),Te=this.pointCoordinate(ae);V=ke.x-Te.x,Q=ke.y-Te.y}const ve=this.locationCoordinate(c);this.setLocation(new n.MercatorCoordinate(ve.x-V,ve.y-Q))}setLocation(c){this.center=this.coordinateLocation(c),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(c){return this.projection.locationPoint(this,c)}locationPoint3D(c){return this.projection.locationPoint(this,c,!0)}pointLocation(c){return this.coordinateLocation(this.pointCoordinate(c))}pointLocation3D(c){return this.coordinateLocation(this.pointCoordinate3D(c))}locationCoordinate(c,b){const V=b?n.mercatorZfromAltitude(b,c.lat):void 0,Q=this.projection.project(c.lng,c.lat);return new n.MercatorCoordinate(Q.x,Q.y,V)}coordinateLocation(c){return this.projection.unproject(c.x,c.y)}pointRayIntersection(c,b){const V=b??this._centerAltitude,Q=[c.x,c.y,0,1],ae=[c.x,c.y,1,1];n.transformMat4$1(Q,Q,this.pixelMatrixInverse),n.transformMat4$1(ae,ae,this.pixelMatrixInverse);const ve=ae[3];n.scale$1(Q,Q,1/Q[3]),n.scale$1(ae,ae,1/ve);const ke=Q[2],Te=ae[2];return{p0:Q,p1:ae,t:ke===Te?0:(V-ke)/(Te-ke)}}screenPointToMercatorRay(c){const b=[c.x,c.y,0,1],V=[c.x,c.y,1,1];return n.transformMat4$1(b,b,this.pixelMatrixInverse),n.transformMat4$1(V,V,this.pixelMatrixInverse),n.scale$1(b,b,1/b[3]),n.scale$1(V,V,1/V[3]),b[2]=n.mercatorZfromAltitude(b[2],this._center.lat)*this.worldSize,V[2]=n.mercatorZfromAltitude(V[2],this._center.lat)*this.worldSize,n.scale$1(b,b,1/this.worldSize),n.scale$1(V,V,1/this.worldSize),new n.Ray([b[0],b[1],b[2]],n.normalize([],n.sub([],V,b)))}rayIntersectionCoordinate(c){const{p0:b,p1:V,t:Q}=c,ae=n.mercatorZfromAltitude(b[2],this._center.lat),ve=n.mercatorZfromAltitude(V[2],this._center.lat);return new n.MercatorCoordinate(n.number(b[0],V[0],Q)/this.worldSize,n.number(b[1],V[1],Q)/this.worldSize,n.number(ae,ve,Q))}pointCoordinate(c,b=this._centerAltitude){return this.projection.pointCoordinate(this,c.x,c.y,b)}pointCoordinate3D(c){if(!this.elevation)return this.pointCoordinate(c);let b=this.projection.pointCoordinate3D(this,c.x,c.y);if(b)return new n.MercatorCoordinate(b[0],b[1],b[2]);let V=0,Q=this.horizonLineFromTop();if(c.y>Q)return this.pointCoordinate(c);const ae=.02*Q,ve=c.clone();for(let ke=0;ke<10&&Q-V>ae;ke++){ve.y=n.number(V,Q,.66);const Te=this.projection.pointCoordinate3D(this,ve.x,ve.y);Te?(Q=ve.y,b=Te):V=ve.y}return b?new n.MercatorCoordinate(b[0],b[1],b[2]):this.pointCoordinate(c)}isPointAboveHorizon(c){return this.projection.isPointAboveHorizon(this,c)}_coordinatePoint(c,b){const V=b&&this.elevation?this.elevation.getAtPointOrZero(c,this._centerAltitude):this._centerAltitude,Q=[c.x*this.worldSize,c.y*this.worldSize,V+c.toAltitude(),1];return n.transformMat4$1(Q,Q,this.pixelMatrix),Q[3]>0?new n.pointGeometry(Q[0]/Q[3],Q[1]/Q[3]):new n.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getGlobeBounds(){const{top:c,left:b}=this._edgeInsets,V=this.height-this._edgeInsets.bottom,Q=this.width-this._edgeInsets.right,ae=this.pointCoordinate3D(new n.pointGeometry(b,c)),ve=this.pointCoordinate3D(new n.pointGeometry(Q,c)),ke=this.pointCoordinate3D(new n.pointGeometry(Q,V)),Te=this.pointCoordinate3D(new n.pointGeometry(b,V));let je=Math.min(ae.x,Te.x),Ne=Math.max(ve.x,ke.x),Ye=Math.min(ae.y,ve.y),lt=Math.max(Te.y,ke.y);const _t=Math.pow(2,-this.zoom)/16,bt=(zt,Jt,yi,di)=>{const ni=(zt+yi)/2,ji=(Jt+di)/2,ui=new n.pointGeometry(ni,ji),Oi=this.pointCoordinate3D(ui),Si=Math.max(0,je-Oi.x,Ye-Oi.y,Oi.x-Ne,Oi.y-lt);je=Math.min(je,Oi.x),Ne=Math.max(Ne,Oi.x),Ye=Math.min(Ye,Oi.y),lt=Math.max(lt,Oi.y),Si>_t&&(bt(zt,Jt,ni,ji),bt(ni,ji,yi,di))};bt(b,c,Q,c),bt(Q,c,Q,V),bt(Q,V,b,V),bt(b,V,b,c);const[kt,ft]=n.polesInViewport(this),yt=kt||ft,Ct=kt?90:n.latFromMercatorY(Ye),xt=yt?180:n.lngFromMercatorX(Ne),Rt=ft?-90:n.latFromMercatorY(lt),Ht=yt?-180:n.lngFromMercatorX(je);return new n.LngLatBounds(new n.LngLat(Ht,Rt),new n.LngLat(xt,Ct))}_getBounds(c,b){if(this.projection.name==="globe")return this._getGlobeBounds();const V=new n.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),Q=new n.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),ae=new n.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),ve=new n.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let ke=this.pointCoordinate(V,c),Te=this.pointCoordinate(Q,c);const je=this.pointCoordinate(ae,b),Ne=this.pointCoordinate(ve,b),Ye=(lt,_t)=>(_t.y-lt.y)/(_t.x-lt.x);return ke.y>1&&Te.y>=0?ke=new n.MercatorCoordinate((1-Ne.y)/Ye(Ne,ke)+Ne.x,1):ke.y<0&&Te.y<=1&&(ke=new n.MercatorCoordinate(-Ne.y/Ye(Ne,ke)+Ne.x,0)),Te.y>1&&ke.y>=0?Te=new n.MercatorCoordinate((1-je.y)/Ye(je,Te)+je.x,1):Te.y<0&&ke.y<=1&&(Te=new n.MercatorCoordinate(-je.y/Ye(je,Te)+je.x,0)),new n.LngLatBounds().extend(this.coordinateLocation(ke)).extend(this.coordinateLocation(Te)).extend(this.coordinateLocation(Ne)).extend(this.coordinateLocation(je))}_getBounds3D(){const c=this.elevation;if(!c.visibleDemTiles.length||c.isUsingMockSource())return this._getBounds(0,0);const b=c.visibleDemTiles.reduce((V,Q)=>{if(Q.dem){const ae=Q.dem.tree;V.min=Math.min(V.min,ae.minimums[0]),V.max=Math.max(V.max,ae.maximums[0])}return V},{min:Number.MAX_VALUE,max:0});return this._getBounds(b.min*c.exaggeration(),b.max*c.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(c=!0){const b=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,V=this.height/2-b*(1-this._horizonShift);return c?Math.max(0,V):V}getMaxBounds(){return this.maxBounds}setMaxBounds(c){this.maxBounds=c,this.minLat=-n.MAX_MERCATOR_LATITUDE,this.maxLat=n.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,c&&(this.minLat=c.getSouth(),this.maxLat=c.getNorth(),this.minLng=c.getWest(),this.maxLng=c.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=n.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=n.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=n.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=n.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(c,b){return this.projection.createTileMatrix(this,b,c)}calculateDistanceTileData(c){const b=c.key,V=this._distanceTileDataCache;if(V[b])return V[b];const Q=c.canonical,ae=1/this.height,ve=this.cameraWorldSize,ke=ve/this.zoomScale(Q.z),Te=(Q.x+Math.pow(2,Q.z)*c.wrap)*ke,je=Q.y*ke,Ne=this.point;Ne.x*=ve/this.worldSize,Ne.y*=ve/this.worldSize;const Ye=this.angle,lt=Math.sin(-Ye),_t=-Math.cos(-Ye);return V[b]={bearing:[lt,_t],center:[(Ne.x-Te)*ae,(Ne.y-je)*ae],scale:ke/n.EXTENT*ae},V[b]}calculateFogTileMatrix(c){const b=c.key,V=this._fogTileMatrixCache;if(V[b])return V[b];const Q=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,c);return n.multiply(Q,this.worldToFogMatrix,Q),V[b]=new Float32Array(Q),V[b]}calculateProjMatrix(c,b=!1){const V=c.key,Q=b?this._alignedProjMatrixCache:this._projMatrixCache;if(Q[V])return Q[V];const ae=this.calculatePosMatrix(c,this.worldSize);return n.multiply(ae,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:b?this.alignedProjMatrix:this.projMatrix,ae),Q[V]=new Float32Array(ae),Q[V]}calculatePixelsToTileUnitsMatrix(c){const b=c.tileID.key,V=this._pixelsToTileUnitsCache;if(V[b])return V[b];const Q=function(ae,ve){const{scale:ke}=ae.tileTransform,Te=ke*n.EXTENT/(ae.tileSize*Math.pow(2,ve.zoom-ae.tileID.overscaledZ+ae.tileID.canonical.z));return je=new Float32Array(4),lt=(Ne=ve.inverseAdjustmentMatrix)[1],_t=Ne[2],bt=Ne[3],ft=(Ye=[Te,Te])[1],je[0]=Ne[0]*(kt=Ye[0]),je[1]=lt*kt,je[2]=_t*ft,je[3]=bt*ft,je;var je,Ne,Ye,lt,_t,bt,kt,ft}(c,this);return V[b]=Q,V[b]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const c=this._elevation;this._updateCameraState();const b=n.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,V=this._computeCameraPosition(b),Q=this._camera.forward(),ae=n.mercatorZfromAltitude(1,this._center.lat);V[2]/=ae,Q[2]/=ae,n.normalize(Q,Q);const ve=c.raycast(V,Q,c.exaggeration());if(ve){const ke=n.scaleAndAdd([],V,Q,ve),Te=new n.MercatorCoordinate(ke[0],ke[1],n.mercatorZfromAltitude(ke[2],n.latFromMercatorY(ke[1]))),je=(Te.z+n.length([Te.x-V[0],Te.y-V[1],Te.z-V[2]*ae]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(je),this._centerAltitude=Te.toAltitude(),this._center=this.coordinateLocation(Te),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(c=!1){if(!this._elevation)return;const b=this._elevation,V=n.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,Q=this._computeCameraPosition(V),ae=b.getAtPointOrZero(new n.MercatorCoordinate(...Q)),ve=this.pixelsPerMeter/this.worldSize*ae,ke=this._minimumHeightOverTerrain(),Te=Q[2]-ve;if(Te<=ke)if(Te<0||c){const je=this.locationCoordinate(this._center,this._centerAltitude),Ne=[Q[0],Q[1],je.z-Q[2]],Ye=n.length(Ne);Ne[2]-=(ke-Te)/this._pixelsPerMercatorPixel;const lt=n.length(Ne);if(lt===0)return;n.scale$2(Ne,Ne,Ye/lt*this._pixelsPerMercatorPixel),this._camera.position=[Q[0],Q[1],je.z*this._pixelsPerMercatorPixel-Ne[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const c=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||c){const lt=this.center;return lt.lat=n.clamp(lt.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!c)&&(lt.lng=n.clamp(lt.lng,this.minLng,this.maxLng)),this.center=lt,void(this._constraining=!1)}const b=this._unmodified,{x:V,y:Q}=this.point;let ae=0,ve=V,ke=Q;const Te=this.width/2,je=this.height/2,Ne=this.worldMinY*this.scale,Ye=this.worldMaxY*this.scale;if(Q-je<Ne&&(ke=Ne+je),Q+je>Ye&&(ke=Ye-je),Ye-Ne<this.height&&(ae=Math.max(ae,this.height/(Ye-Ne)),ke=(Ye+Ne)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const lt=this.worldMinX*this.scale,_t=this.worldMaxX*this.scale,bt=this.worldSize/2-(lt+_t)/2;ve=(V+bt+this.worldSize)%this.worldSize-bt,ve-Te<lt&&(ve=lt+Te),ve+Te>_t&&(ve=_t-Te),_t-lt<this.width&&(ae=Math.max(ae,this.width/(_t-lt)),ve=(_t+lt)/2)}ve===V&&ke===Q||(this.center=this.unproject(new n.pointGeometry(ve,ke))),ae&&(this.zoom+=this.scaleZoom(ae)),this._constrainCamera(),this._unmodified=b,this._constraining=!1}_minZoomForBounds(){let c=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(c=Math.max(c,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),c}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const c=this.centerOffset,b=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=n.mercatorZfromAltitude(1,this.center.lat)/n.mercatorZfromAltitude(1,n.GLOBE_SCALE_MATCH_LATITUDE));const V=Ni(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,V),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const Q=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?b:1),ae=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);ae[8]=2*-c.x/this.width,ae[9]=2*c.y/this.height;let ve=n.mul([],ae,Q);if(this.projection.isReprojectedInTileSpace){const Ht=this.locationCoordinate(this.center),zt=n.identity([]);n.translate(zt,zt,[Ht.x*this.worldSize,Ht.y*this.worldSize,0]),n.multiply(zt,zt,et(this)),n.translate(zt,zt,[-Ht.x*this.worldSize,-Ht.y*this.worldSize,0]),n.multiply(ve,ve,zt),this.inverseAdjustmentMatrix=function(Jt){const yi=et(Jt,!0);return L([],[yi[0],yi[1],yi[4],yi[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=n.scale([],ve,[this.worldSize,this.worldSize,this.worldSize/b,1]),this.projMatrix=ve,this.invProjMatrix=n.invert(new Float64Array(16),this.projMatrix);const ke=n.invert([],ae);this.frustumCorners=n.FrustumCorners.fromInvProjectionMatrix(ke,this.horizonLineFromTop(),this.height);const Te=new Float32Array(16);n.identity(Te),n.scale(Te,Te,[1,-1,1]),n.rotateX(Te,Te,this._pitch),n.rotateZ(Te,Te,this.angle);const je=n.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),Ne=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;je[8]=2*-c.x/this.width,je[9]=2*(c.y+Ne)/this.height,this.skyboxMatrix=n.multiply(Te,je,Te);const Ye=this.point,lt=Ye.x,_t=Ye.y,bt=this.width%2/2,kt=this.height%2/2,ft=Math.cos(this.angle),yt=Math.sin(this.angle),Ct=lt-Math.round(lt)+ft*bt+yt*kt,xt=_t-Math.round(_t)+ft*kt+yt*bt,Rt=new Float64Array(ve);if(n.translate(Rt,Rt,[Ct>.5?Ct-1:Ct,xt>.5?xt-1:xt,0]),this.alignedProjMatrix=Rt,ve=n.create(),n.scale(ve,ve,[this.width/2,-this.height/2,1]),n.translate(ve,ve,[1,-1,0]),this.labelPlaneMatrix=ve,ve=n.create(),n.scale(ve,ve,[1,-1,1]),n.translate(ve,ve,[-1,-1,0]),n.scale(ve,ve,[2/this.width,2/this.height,1]),this.glCoordMatrix=ve,this.pixelMatrix=n.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},ve=n.invert(new Float64Array(16),this.pixelMatrix),!ve)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=ve,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=n.calculateGlobeMatrix(this);const Ht=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=n.transformMat4(Ht,Ht,Q),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=ve;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const c=this.cameraWorldSizeForFog,b=this.cameraPixelsPerMeter,V=this._camera.position,Q=1/this.height/this._pixelsPerMercatorPixel,ae=[c,c,b];n.scale$2(ae,ae,Q),n.scale$2(V,V,-1),n.multiply$2(V,V,ae);const ve=n.create();n.translate(ve,ve,V),n.scale(ve,ve,ae),this.mercatorFogMatrix=ve,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(c,b,Q)}_computeCameraPosition(c){const b=(c=c||this.pixelsPerMeter)/this.pixelsPerMeter,V=this._camera.forward(),Q=this.point,ae=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*b-c/this.worldSize*this._centerAltitude;return[Q.x/this.worldSize-V[0]*ae,Q.y/this.worldSize-V[1]*ae,c/this.worldSize*this._centerAltitude-V[2]*ae]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(c){const b=this._maxCameraBoundsDistance()*Math.cos(this._pitch),V=this._camera.position[2],Q=c[2];let ae=1;this.projection.wrap&&(this.center=this.center.wrap()),Q>0&&(ae=Math.min((b-V)/Q,1)),this._camera.position=n.scaleAndAdd([],this._camera.position,c,ae),this._updateStateFromCamera()}_updateStateFromCamera(){const c=this._camera.position,b=this._camera.forward(),{pitch:V,bearing:Q}=this._camera.getPitchBearing(),ae=n.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,ve=this._mercatorZfromZoom(this._maxZoom)*Math.cos(n.degToRad(this._maxPitch)),ke=Math.max((c[2]-ae)/Math.cos(V),ve),Te=this._zoomFromMercatorZ(ke);n.scaleAndAdd(c,c,b,ke),this._pitch=n.clamp(V,n.degToRad(this.minPitch),n.degToRad(this.maxPitch)),this.angle=n.wrap(Q,-Math.PI,Math.PI),this._setZoom(n.clamp(Te,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new n.MercatorCoordinate(c[0],c[1],c[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(c){return Math.pow(2,c)*this.tileSize}_mercatorZfromZoom(c){return this.cameraToCenterDistance/this._worldSizeFromZoom(c)}_minimumHeightOverTerrain(){const c=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(c)}_zoomFromMercatorZ(c){return this.scaleZoom(this.cameraToCenterDistance/(c*this.tileSize))}zoomFromMercatorZAdjusted(c){const b=ve=>{const ke=this.getCameraToCenterDistance(this.projection,ve);return this.scaleZoom(ke/(c*this.tileSize))};let V,Q=b(this.zoom),ae=Math.abs(Q-b(Q));for(;V!==ae;)Q=b(Q),V=ae,ae=Math.abs(Q-b(Q));return Q}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(n.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(c,b){const V=Math.min(c.x,b.x),Q=Math.max(c.x,b.x),ae=Math.min(c.y,b.y),ve=Math.max(c.y,b.y);if(ae<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const ke=[new n.pointGeometry(V,ae),new n.pointGeometry(Q,ve),new n.pointGeometry(V,ve),new n.pointGeometry(Q,ae)],Te=this.renderWorldCopies?-3:0,je=this.renderWorldCopies?4:1;for(const Ne of ke){const Ye=this.pointRayIntersection(Ne);if(Ye.t<0)return!0;const lt=this.rayIntersectionCoordinate(Ye);if(lt.x<Te||lt.y<0||lt.x>je||lt.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+n.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new n.pointGeometry(0,0),new n.pointGeometry(this.width,this.height))}zoomDeltaToMovement(c,b){const V=n.length(n.sub([],this._camera.position,c)),Q=this._zoomFromMercatorZ(V)+b;return V-this._mercatorZfromZoom(Q)}getCameraPoint(){if(this.projection.name==="globe"){const c=function([b,V,Q],ae){const ve=[b,V,Q,1];n.transformMat4$1(ve,ve,ae);const ke=ve[3]=Math.max(ve[3],1e-6);return ve[0]/=ke,ve[1]/=ke,ve[2]/=ke,ve}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new n.pointGeometry(c[0],c[1])}{const c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new n.pointGeometry(0,c))}}getCameraToCenterDistance(c,b=this.zoom){const V=Ni(c,b,this.width,this.height,1024),Q=c.pixelSpaceConversion(this.center.lat,this.worldSize,V);return .5/Math.tan(.5*this._fov)*this.height*Q}getWorldToCameraMatrix(){const c=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&n.multiply(c,c,this.globeMatrix),c}}function Ms(D,c){let b=!1,V=null;const Q=()=>{V=null,b&&(D(),V=setTimeout(Q,c),b=!1)};return()=>(b=!0,V||Q(),V)}class dr{constructor(c){this._hashName=c&&encodeURIComponent(c),n.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Ms(this._updateHashUnthrottled.bind(this),300)}addTo(c){return this._map=c,n.window.addEventListener("hashchange",this._onHashChange,!1),c.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),n.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const c=this._map;if(!c)return"";const b=Is(c);if(this._hashName){const V=this._hashName;let Q=!1;const ae=n.window.location.hash.slice(1).split("&").map(ve=>{const ke=ve.split("=")[0];return ke===V?(Q=!0,`${ke}=${b}`):ve}).filter(ve=>ve);return Q||ae.push(`${V}=${b}`),`#${ae.join("&")}`}return`#${b}`}_getCurrentHash(){const c=n.window.location.hash.replace("#","");if(this._hashName){let b;return c.split("&").map(V=>V.split("=")).forEach(V=>{V[0]===this._hashName&&(b=V)}),(b&&b[1]||"").split("/")}return c.split("/")}_onHashChange(){const c=this._map;if(!c)return!1;const b=this._getCurrentHash();if(b.length>=3&&!b.some(V=>isNaN(V))){const V=c.dragRotate.isEnabled()&&c.touchZoomRotate.isEnabled()?+(b[3]||0):c.getBearing();return c.jumpTo({center:[+b[2],+b[1]],zoom:+b[0],bearing:V,pitch:+(b[4]||0)}),!0}return!1}_updateHashUnthrottled(){const c=n.window.location.href.replace(/(#.+)?$/,this.getHashString());n.window.history.replaceState(n.window.history.state,null,c)}}function Is(D,c){const b=D.getCenter(),V=Math.round(100*D.getZoom())/100,Q=Math.ceil((V*Math.LN2+Math.log(512/360/.5))/Math.LN10),ae=Math.pow(10,Q),ve=Math.round(b.lng*ae)/ae,ke=Math.round(b.lat*ae)/ae,Te=D.getBearing(),je=D.getPitch();let Ne=c?`/${ve}/${ke}/${V}`:`${V}/${ke}/${ve}`;return(Te||je)&&(Ne+="/"+Math.round(10*Te)/10),je&&(Ne+=`/${Math.round(je)}`),Ne}const Pl={linearity:.3,easing:n.bezier(0,0,.3,1)},bc=n.extend({deceleration:2500,maxSpeed:1400},Pl),Hc=n.extend({deceleration:20,maxSpeed:1400},Pl),ic=n.extend({deceleration:1e3,maxSpeed:360},Pl),wu=n.extend({deceleration:1e3,maxSpeed:90},Pl);class qc{constructor(c){this._map=c,this.clear()}clear(){this._inertiaBuffer=[]}record(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:n.exported.now(),settings:c})}_drainInertiaBuffer(){const c=this._inertiaBuffer,b=n.exported.now();for(;c.length>0&&b-c[0].time>160;)c.shift()}_onMoveEnd(c){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const b={zoom:0,bearing:0,pitch:0,pan:new n.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:ae}of this._inertiaBuffer)b.zoom+=ae.zoomDelta||0,b.bearing+=ae.bearingDelta||0,b.pitch+=ae.pitchDelta||0,ae.panDelta&&b.pan._add(ae.panDelta),ae.around&&(b.around=ae.around),ae.pinchAround&&(b.pinchAround=ae.pinchAround);const V=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,Q={};if(b.pan.mag()){const ae=Sa(b.pan.mag(),V,n.extend({},bc,c||{}));Q.offset=b.pan.mult(ae.amount/b.pan.mag()),Q.center=this._map.transform.center,rc(Q,ae)}if(b.zoom){const ae=Sa(b.zoom,V,Hc);Q.zoom=this._map.transform.zoom+ae.amount,rc(Q,ae)}if(b.bearing){const ae=Sa(b.bearing,V,ic);Q.bearing=this._map.transform.bearing+n.clamp(ae.amount,-179,179),rc(Q,ae)}if(b.pitch){const ae=Sa(b.pitch,V,wu);Q.pitch=this._map.transform.pitch+ae.amount,rc(Q,ae)}if(Q.zoom||Q.bearing){const ae=b.pinchAround===void 0?b.around:b.pinchAround;Q.around=ae?this._map.unproject(ae):this._map.getCenter()}return this.clear(),Q.noMoveStart=!0,Q}}function rc(D,c){(!D.duration||D.duration<c.duration)&&(D.duration=c.duration,D.easing=c.easing)}function Sa(D,c,b){const{maxSpeed:V,linearity:Q,deceleration:ae}=b,ve=n.clamp(D*Q/(c/1e3),-V,V),ke=Math.abs(ve)/(ae*Q);return{easing:b.easing,duration:1e3*ke,amount:ve*(ke/2)}}class Xn extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,b,V,Q={}){const ae=q(b.getCanvasContainer(),V),ve=b.unproject(ae);super(c,n.extend({point:ae,lngLat:ve,originalEvent:V},Q)),this._defaultPrevented=!1,this.target=b}}class xc extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,b,V){const Q=c==="touchend"?V.changedTouches:V.touches,ae=N(b.getCanvasContainer(),Q),ve=ae.map(Te=>b.unproject(Te)),ke=ae.reduce((Te,je,Ne,Ye)=>Te.add(je.div(Ye.length)),new n.pointGeometry(0,0));super(c,{points:ae,point:ke,lngLats:ve,lngLat:b.unproject(ke),originalEvent:V}),this._defaultPrevented=!1}}class nc extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,b,V){super(c,{originalEvent:V}),this._defaultPrevented=!1}}class fh{constructor(c,b){this._map=c,this._clickTolerance=b.clickTolerance}reset(){this._mousedownPos=void 0}wheel(c){return this._firePreventable(new nc(c.type,this._map,c))}mousedown(c,b){return this._mousedownPos=b,this._firePreventable(new Xn(c.type,this._map,c))}mouseup(c){this._map.fire(new Xn(c.type,this._map,c))}preclick(c){const b=n.extend({},c);b.type="preclick",this._map.fire(new Xn(b.type,this._map,b))}click(c,b){this._mousedownPos&&this._mousedownPos.dist(b)>=this._clickTolerance||(this.preclick(c),this._map.fire(new Xn(c.type,this._map,c)))}dblclick(c){return this._firePreventable(new Xn(c.type,this._map,c))}mouseover(c){this._map.fire(new Xn(c.type,this._map,c))}mouseout(c){this._map.fire(new Xn(c.type,this._map,c))}touchstart(c){return this._firePreventable(new xc(c.type,this._map,c))}touchmove(c){this._map.fire(new xc(c.type,this._map,c))}touchend(c){this._map.fire(new xc(c.type,this._map,c))}touchcancel(c){this._map.fire(new xc(c.type,this._map,c))}_firePreventable(c){if(this._map.fire(c),c.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class gd{constructor(c){this._map=c}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(c){this._map.fire(new Xn(c.type,this._map,c))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Xn("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(c){this._delayContextMenu?this._contextMenuEvent=c:this._map.fire(new Xn(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Wc{constructor(c,b){this._map=c,this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=b.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(c,b){this.isEnabled()&&c.shiftKey&&c.button===0&&(T(),this._startPos=this._lastPos=b,this._active=!0)}mousemoveWindow(c,b){if(!this._active)return;const V=b,Q=this._startPos,ae=this._lastPos;if(!Q||!ae||ae.equals(V)||!this._box&&V.dist(Q)<this._clickTolerance)return;this._lastPos=V,this._box||(this._box=H("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",c));const ve=Math.min(Q.x,V.x),ke=Math.max(Q.x,V.x),Te=Math.min(Q.y,V.y),je=Math.max(Q.y,V.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${ve}px,${Te}px)`,this._box.style.width=ke-ve+"px",this._box.style.height=je-Te+"px")})}mouseupWindow(c,b){if(!this._active)return;const V=this._startPos,Q=b;if(V&&c.button===0){if(this.reset(),G(),V.x!==Q.x||V.y!==Q.y)return this._map.fire(new n.Event("boxzoomend",{originalEvent:c})),{cameraAnimation:ae=>ae.fitScreenCoordinates(V,Q,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",c)}}keydown(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),C(),delete this._startPos,delete this._lastPos}_fireEvent(c,b){return this._map.fire(new n.Event(c,{originalEvent:b}))}}function tl(D,c){const b={};for(let V=0;V<D.length;V++)b[D[V].identifier]=c[V];return b}class wc{constructor(c){this.reset(),this.numTouches=c.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(c,b,V){(this.centroid||V.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=c.timeStamp),V.length===this.numTouches&&(this.centroid=function(Q){const ae=new n.pointGeometry(0,0);for(const ve of Q)ae._add(ve);return ae.div(Q.length)}(b),this.touches=tl(V,b)))}touchmove(c,b,V){if(this.aborted||!this.centroid)return;const Q=tl(V,b);for(const ae in this.touches){const ve=this.touches[ae],ke=Q[ae];(!ke||ke.dist(ve)>30)&&(this.aborted=!0)}}touchend(c,b,V){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),V.length===0){const Q=!this.aborted&&this.centroid;if(this.reset(),Q)return Q}}}class ml{constructor(c){this.singleTap=new wc(c),this.numTaps=c.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(c,b,V){this.singleTap.touchstart(c,b,V)}touchmove(c,b,V){this.singleTap.touchmove(c,b,V)}touchend(c,b,V){const Q=this.singleTap.touchend(c,b,V);if(Q){const ae=c.timeStamp-this.lastTime<500,ve=!this.lastTap||this.lastTap.dist(Q)<30;if(ae&&ve||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=Q,this.count===this.numTaps)return this.reset(),Q}}}class ac{constructor(){this._zoomIn=new ml({numTouches:1,numTaps:2}),this._zoomOut=new ml({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(c,b,V){this._zoomIn.touchstart(c,b,V),this._zoomOut.touchstart(c,b,V)}touchmove(c,b,V){this._zoomIn.touchmove(c,b,V),this._zoomOut.touchmove(c,b,V)}touchend(c,b,V){const Q=this._zoomIn.touchend(c,b,V),ae=this._zoomOut.touchend(c,b,V);return Q?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:ve=>ve.easeTo({duration:300,zoom:ve.getZoom()+1,around:ve.unproject(Q)},{originalEvent:c})}):ae?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:ve=>ve.easeTo({duration:300,zoom:ve.getZoom()-1,around:ve.unproject(ae)},{originalEvent:c})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Ml={0:1,2:2};class Il{constructor(c){this.reset(),this._clickTolerance=c.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(c,b){return!1}_move(c,b){return{}}mousedown(c,b){if(this._lastPoint)return;const V=ne(c);this._correctButton(c,V)&&(this._lastPoint=b,this._eventButton=V)}mousemoveWindow(c,b){const V=this._lastPoint;if(V){if(c.preventDefault(),this._eventButton!=null&&function(Q,ae){const ve=Ml[ae];return Q.buttons===void 0||(Q.buttons&ve)!==ve}(c,this._eventButton))this.reset();else if(this._moved||!(b.dist(V)<this._clickTolerance))return this._moved=!0,this._lastPoint=b,this._move(V,b)}}mouseupWindow(c){this._lastPoint&&ne(c)===this._eventButton&&(this._moved&&G(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Vl extends Il{mousedown(c,b){super.mousedown(c,b),this._lastPoint&&(this._active=!0)}_correctButton(c,b){return b===0&&!c.ctrlKey}_move(c,b){return{around:b,panDelta:b.sub(c)}}}class Su extends Il{_correctButton(c,b){return b===0&&c.ctrlKey||b===2}_move(c,b){const V=.8*(b.x-c.x);if(V)return this._active=!0,{bearingDelta:V}}contextmenu(c){c.preventDefault()}}class ku extends Il{_correctButton(c,b){return b===0&&c.ctrlKey||b===2}_move(c,b){const V=-.5*(b.y-c.y);if(V)return this._active=!0,{pitchDelta:V}}contextmenu(c){c.preventDefault()}}class ph{constructor(c,b){this._map=c,this._el=c.getCanvasContainer(),this._minTouches=1,this._clickTolerance=b.clickTolerance||1,this.reset(),n.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new n.pointGeometry(0,0)}touchstart(c,b,V){return this._calculateTransform(c,b,V)}touchmove(c,b,V){if(this._active&&!(V.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(V.length===1&&!n.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return c.cancelable&&c.preventDefault(),this._calculateTransform(c,b,V)}}touchend(c,b,V){this._calculateTransform(c,b,V),this._active&&V.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(c,b,V){V.length>0&&(this._active=!0);const Q=tl(V,b),ae=new n.pointGeometry(0,0),ve=new n.pointGeometry(0,0);let ke=0;for(const je in Q){const Ne=Q[je],Ye=this._touches[je];Ye&&(ae._add(Ne),ve._add(Ne.sub(Ye)),ke++,Q[je]=Ne)}if(this._touches=Q,ke<this._minTouches||!ve.mag())return;const Te=ve.div(ke);return this._sum._add(Te),this._sum.mag()<this._clickTolerance?void 0:{around:ae.div(ke),panDelta:Te}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=H("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class Yc{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(c){}_move(c,b,V){return{}}touchstart(c,b,V){this._firstTwoTouches||V.length<2||(this._firstTwoTouches=[V[0].identifier,V[1].identifier],this._start([b[0],b[1]]))}touchmove(c,b,V){const Q=this._firstTwoTouches;if(!Q)return;c.preventDefault();const[ae,ve]=Q,ke=gl(V,b,ae),Te=gl(V,b,ve);if(!ke||!Te)return;const je=this._aroundCenter?null:ke.add(Te).div(2);return this._move([ke,Te],je,c)}touchend(c,b,V){if(!this._firstTwoTouches)return;const[Q,ae]=this._firstTwoTouches,ve=gl(V,b,Q),ke=gl(V,b,ae);ve&&ke||(this._active&&G(),this.reset())}touchcancel(){this.reset()}enable(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function gl(D,c,b){for(let V=0;V<D.length;V++)if(D[V].identifier===b)return c[V]}function oc(D,c){return Math.log(D/c)/Math.LN2}class sc extends Yc{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(c){this._startDistance=this._distance=c[0].dist(c[1])}_move(c,b){const V=this._distance;if(this._distance=c[0].dist(c[1]),this._active||!(Math.abs(oc(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:oc(this._distance,V),pinchAround:b}}}function Au(D,c){return 180*D.angleWith(c)/Math.PI}class gt extends Yc{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(c){this._startVector=this._vector=c[0].sub(c[1]),this._minDiameter=c[0].dist(c[1])}_move(c,b){const V=this._vector;if(this._vector=c[0].sub(c[1]),V&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Au(this._vector,V),pinchAround:b}}_isBelowThreshold(c){this._minDiameter=Math.min(this._minDiameter,c.mag());const b=25/(Math.PI*this._minDiameter)*360,V=this._startVector;if(!V)return!1;const Q=Au(c,V);return Math.abs(Q)<b}}function yl(D){return Math.abs(D.y)>Math.abs(D.x)}class Sc extends Yc{constructor(c){super(),this._map=c}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(c){this._lastPoints=c,yl(c[0].sub(c[1]))&&(this._valid=!1)}_move(c,b,V){const Q=this._lastPoints;if(!Q)return;const ae=c[0].sub(Q[0]),ve=c[1].sub(Q[1]);return this._map._cooperativeGestures&&!n.isFullscreen()&&V.touches.length<3||(this._valid=this.gestureBeginsVertically(ae,ve,V.timeStamp),!this._valid)?void 0:(this._lastPoints=c,this._active=!0,{pitchDelta:(ae.y+ve.y)/2*-.5})}gestureBeginsVertically(c,b,V){if(this._valid!==void 0)return this._valid;const Q=c.mag()>=2,ae=b.mag()>=2;if(!Q&&!ae)return;if(!Q||!ae)return this._firstMove==null&&(this._firstMove=V),V-this._firstMove<100&&void 0;const ve=c.y>0==b.y>0;return yl(c)&&yl(b)&&ve}}const _s={panStep:100,bearingStep:15,pitchStep:10};class Zr{constructor(){const c=_s;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(c){if(c.altKey||c.ctrlKey||c.metaKey)return;let b=0,V=0,Q=0,ae=0,ve=0;switch(c.keyCode){case 61:case 107:case 171:case 187:b=1;break;case 189:case 109:case 173:b=-1;break;case 37:c.shiftKey?V=-1:(c.preventDefault(),ae=-1);break;case 39:c.shiftKey?V=1:(c.preventDefault(),ae=1);break;case 38:c.shiftKey?Q=1:(c.preventDefault(),ve=-1);break;case 40:c.shiftKey?Q=-1:(c.preventDefault(),ve=1);break;default:return}return this._rotationDisabled&&(V=0,Q=0),{cameraAnimation:ke=>{const Te=ke.getZoom();ke.easeTo({duration:300,easeId:"keyboardHandler",easing:yd,zoom:b?Math.round(Te)+b*(c.shiftKey?2:1):Te,bearing:ke.getBearing()+V*this._bearingStep,pitch:ke.getPitch()+Q*this._pitchStep,offset:[-ae*this._panStep,-ve*this._panStep],center:ke.getCenter()},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function yd(D){return D*(2-D)}const Cu=4.000244140625;class vd{constructor(c,b){this._map=c,this._el=c.getCanvasContainer(),this._handler=b,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,n.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(c){this._defaultZoomRate=c}setWheelZoomRate(c){this._wheelZoomRate=c}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!c&&c.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(c){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(c.ctrlKey||c.metaKey||this.isZooming()||n.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let b=c.deltaMode===n.window.WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY;const V=n.exported.now(),Q=V-(this._lastWheelEventTime||0);this._lastWheelEventTime=V,b!==0&&b%Cu==0?this._type="wheel":b!==0&&Math.abs(b)<4?this._type="trackpad":Q>400?(this._type=null,this._lastValue=b,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(Q*b)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,b+=this._lastValue)),c.shiftKey&&b&&(b/=4),this._type&&(this._lastWheelEvent=c,this._delta-=b,this._active||this._start(c)),c.preventDefault()}_onTimeout(c){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(c)}_start(c){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const b=q(this._el,c);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:b,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const c=this._map.transform;this._type==="wheel"&&c.projection.wrap&&(c._center.lng>=180||c._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const b=()=>c._terrainEnabled()&&this._aroundCoord?c.computeZoomRelativeTo(this._aroundCoord):c.zoom;if(this._delta!==0){const Te=this._type==="wheel"&&Math.abs(this._delta)>Cu?this._wheelZoomRate:this._defaultZoomRate;let je=2/(1+Math.exp(-Math.abs(this._delta*Te)));this._delta<0&&je!==0&&(je=1/je);const Ne=b(),Ye=Math.pow(2,Ne),lt=typeof this._targetZoom=="number"?c.zoomScale(this._targetZoom):Ye;this._targetZoom=Math.min(c.maxZoom,Math.max(c.minZoom,c.scaleZoom(lt*je))),this._type==="wheel"&&(this._startZoom=Ne,this._easing=this._smoothOutEasing(200)),this._delta=0}const V=typeof this._targetZoom=="number"?this._targetZoom:b(),Q=this._startZoom,ae=this._easing;let ve,ke=!1;if(this._type==="wheel"&&Q&&ae){const Te=Math.min((n.exported.now()-this._lastWheelEventTime)/200,1),je=ae(Te);ve=n.number(Q,V,je),Te<1?this._frameId||(this._frameId=!0):ke=!0}else ve=V,ke=!0;return this._active=!0,ke&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!ke,zoomDelta:ve-b(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(c){let b=n.ease;if(this._prevEase){const V=this._prevEase,Q=(n.exported.now()-V.start)/V.duration,ae=V.easing(Q+.01)-V.easing(Q),ve=.27/Math.sqrt(ae*ae+1e-4)*.01,ke=Math.sqrt(.0729-ve*ve);b=n.bezier(ve,ke,.25,1)}return this._prevEase={start:n.exported.now(),duration:c,easing:b},b}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=H("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(n.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class Gl{constructor(c,b){this._clickZoom=c,this._tapZoom=b}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class vl{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(c,b){return c.preventDefault(),{cameraAnimation:V=>{V.easeTo({duration:300,zoom:V.getZoom()+(c.shiftKey?-1:1),around:V.unproject(b)},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class mh{constructor(){this._tap=new ml({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(c,b,V){this._swipePoint||(this._tapTime&&c.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?V.length>0&&(this._swipePoint=b[0],this._swipeTouch=V[0].identifier):this._tap.touchstart(c,b,V))}touchmove(c,b,V){if(this._tapTime){if(this._swipePoint){if(V[0].identifier!==this._swipeTouch)return;const Q=b[0],ae=Q.y-this._swipePoint.y;return this._swipePoint=Q,c.preventDefault(),this._active=!0,{zoomDelta:ae/128}}}else this._tap.touchmove(c,b,V)}touchend(c,b,V){this._tapTime?this._swipePoint&&V.length===0&&this.reset():this._tap.touchend(c,b,V)&&(this._tapTime=c.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class lc{constructor(c,b,V){this._el=c,this._mousePan=b,this._touchPan=V}enable(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class il{constructor(c,b,V){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=b,this._mousePitch=V}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Xc{constructor(c,b,V,Q){this._el=c,this._touchZoom=b,this._touchRotate=V,this._tapDragZoom=Q,this._rotationDisabled=!1,this._enabled=!0}enable(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const ur=D=>D.zoom||D.drag||D.pitch||D.rotate;class gh extends n.Event{}class yh{constructor(){this.constants=[1,1,.01],this.radius=0}setup(c,b){const V=n.sub([],b,c);this.radius=n.length(V[2]<0?n.div([],V,this.constants):[V[0],V[1],0])}projectRay(c){n.div(c,c,this.constants),n.normalize(c,c),n.mul$1(c,c,this.constants);const b=n.scale$2([],c,this.radius);if(b[2]>0){const V=n.scale$2([],[0,0,1],n.dot(b,[0,0,1])),Q=n.scale$2([],n.normalize([],[b[0],b[1],0]),this.radius),ae=n.add([],b,n.scale$2([],n.sub([],n.add([],Q,V),b),2));b[0]=ae[0],b[1]=ae[1]}return b}}function Ol(D){return D.panDelta&&D.panDelta.mag()||D.zoomDelta||D.bearingDelta||D.pitchDelta}class kc{constructor(c,b){this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new qc(c),this._bearingSnap=b.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new yh,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(b),n.bindAll(["handleEvent","handleWindowEvent"],this);const V=this._el;this._listeners=[[V,"touchstart",{passive:!0}],[V,"touchmove",{passive:!1}],[V,"touchend",void 0],[V,"touchcancel",void 0],[V,"mousedown",void 0],[V,"mousemove",void 0],[V,"mouseup",void 0],[n.window.document,"mousemove",{capture:!0}],[n.window.document,"mouseup",void 0],[V,"mouseover",void 0],[V,"mouseout",void 0],[V,"dblclick",void 0],[V,"click",void 0],[V,"keydown",{capture:!1}],[V,"keyup",void 0],[V,"wheel",{passive:!1}],[V,"contextmenu",void 0],[n.window,"blur",void 0]];for(const[Q,ae,ve]of this._listeners)Q.addEventListener(ae,Q===n.window.document?this.handleWindowEvent:this.handleEvent,ve)}destroy(){for(const[c,b,V]of this._listeners)c.removeEventListener(b,c===n.window.document?this.handleWindowEvent:this.handleEvent,V)}_addDefaultHandlers(c){const b=this._map,V=b.getCanvasContainer();this._add("mapEvent",new fh(b,c));const Q=b.boxZoom=new Wc(b,c);this._add("boxZoom",Q);const ae=new ac,ve=new vl;b.doubleClickZoom=new Gl(ve,ae),this._add("tapZoom",ae),this._add("clickZoom",ve);const ke=new mh;this._add("tapDragZoom",ke);const Te=b.touchPitch=new Sc(b);this._add("touchPitch",Te);const je=new Su(c),Ne=new ku(c);b.dragRotate=new il(c,je,Ne),this._add("mouseRotate",je,["mousePitch"]),this._add("mousePitch",Ne,["mouseRotate"]);const Ye=new Vl(c),lt=new ph(b,c);b.dragPan=new lc(V,Ye,lt),this._add("mousePan",Ye),this._add("touchPan",lt,["touchZoom","touchRotate"]);const _t=new gt,bt=new sc;b.touchZoomRotate=new Xc(V,bt,_t,ke),this._add("touchRotate",_t,["touchPan","touchZoom"]),this._add("touchZoom",bt,["touchPan","touchRotate"]),this._add("blockableMapEvent",new gd(b));const kt=b.scrollZoom=new vd(b,this);this._add("scrollZoom",kt,["mousePan"]);const ft=b.keyboard=new Zr;this._add("keyboard",ft);for(const yt of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])c.interactive&&c[yt]&&b[yt].enable(c[yt])}_add(c,b,V){this._handlers.push({handlerName:c,handler:b,allowed:V}),this._handlersById[c]=b}stop(c){if(!this._updatingCamera){for(const{handler:b}of this._handlers)b.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}}isActive(){for(const{handler:c}of this._handlers)if(c.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!ur(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(c,b,V){for(const Q in c)if(Q!==V&&(!b||b.indexOf(Q)<0))return!0;return!1}handleWindowEvent(c){this.handleEvent(c,`${c.type}Window`)}_getMapTouches(c){const b=[];for(const V of c)this._el.contains(V.target)&&b.push(V);return b}handleEvent(c,b){this._updatingCamera=!0;const V=c.type==="renderFrame",Q=V?void 0:c,ae={needsRenderFrame:!1},ve={},ke={},Te=c.touches?this._getMapTouches(c.touches):void 0,je=Te?N(this._el,Te):V?void 0:q(this._el,c);for(const{handlerName:lt,handler:_t,allowed:bt}of this._handlers){if(!_t.isEnabled())continue;let kt;this._blockedByActive(ke,bt,lt)?_t.reset():_t[b||c.type]&&(kt=_t[b||c.type](c,je,Te),this.mergeHandlerResult(ae,ve,kt,lt,Q),kt&&kt.needsRenderFrame&&this._triggerRenderFrame()),(kt||_t.isActive())&&(ke[lt]=_t)}const Ne={};for(const lt in this._previousActiveHandlers)ke[lt]||(Ne[lt]=Q);this._previousActiveHandlers=ke,(Object.keys(Ne).length||Ol(ae))&&(this._changes.push([ae,ve,Ne]),this._triggerRenderFrame()),(Object.keys(ke).length||Ol(ae))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Ye}=ae;Ye&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Ye(this._map))}mergeHandlerResult(c,b,V,Q,ae){if(!V)return;n.extend(c,V);const ve={handlerName:Q,originalEvent:V.originalEvent||ae};V.zoomDelta!==void 0&&(b.zoom=ve),V.panDelta!==void 0&&(b.drag=ve),V.pitchDelta!==void 0&&(b.pitch=ve),V.bearingDelta!==void 0&&(b.rotate=ve)}_applyChanges(){const c={},b={},V={};for(const[Q,ae,ve]of this._changes)Q.panDelta&&(c.panDelta=(c.panDelta||new n.pointGeometry(0,0))._add(Q.panDelta)),Q.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+Q.zoomDelta),Q.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+Q.bearingDelta),Q.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+Q.pitchDelta),Q.around!==void 0&&(c.around=Q.around),Q.aroundCoord!==void 0&&(c.aroundCoord=Q.aroundCoord),Q.pinchAround!==void 0&&(c.pinchAround=Q.pinchAround),Q.noInertia&&(c.noInertia=Q.noInertia),n.extend(b,ae),n.extend(V,ve);this._updateMapTransform(c,b,V),this._changes=[]}_updateMapTransform(c,b,V){const Q=this._map,ae=Q.transform,ve=Ct=>[Ct.x,Ct.y,Ct.z];if((Ct=>{const xt=this._eventsInProgress.drag;return xt&&!this._handlersById[xt.handlerName].isActive()})()&&!Ol(c)){const Ct=ae.zoom;ae.cameraElevationReference="sea",ae.recenterOnTerrain(),ae.cameraElevationReference="ground",Ct!==ae.zoom&&this._map._update(!0)}if(ae._isCameraConstrained&&Q._stop(!0),!Ol(c))return void this._fireEvents(b,V,!0);let{panDelta:ke,zoomDelta:Te,bearingDelta:je,pitchDelta:Ne,around:Ye,aroundCoord:lt,pinchAround:_t}=c;ae._isCameraConstrained&&(Te>0&&(Te=0),ae._isCameraConstrained=!1),_t!==void 0&&(Ye=_t),(Ct=>b.drag&&!this._eventsInProgress.drag)()&&Ye&&(this._dragOrigin=ve(ae.pointCoordinate3D(Ye)),this._trackingEllipsoid.setup(ae._camera.position,this._dragOrigin)),ae.cameraElevationReference="sea",Q._stop(!0),Ye=Ye||Q.transform.centerPoint,je&&(ae.bearing+=je),Ne&&(ae.pitch+=Ne),ae._updateCameraState();const bt=[0,0,0];if(ke)if(ae.projection.name==="mercator"){const Ct=this._trackingEllipsoid.projectRay(ae.screenPointToMercatorRay(Ye).dir),xt=this._trackingEllipsoid.projectRay(ae.screenPointToMercatorRay(Ye.sub(ke)).dir);bt[0]=xt[0]-Ct[0],bt[1]=xt[1]-Ct[1]}else{const Ct=ae.pointCoordinate(Ye);if(ae.projection.name==="globe"){ke=ke.rotate(-ae.angle);const xt=ae._pixelsPerMercatorPixel/ae.worldSize;bt[0]=-ke.x*n.mercatorScale(n.latFromMercatorY(Ct.y))*xt,bt[1]=-ke.y*n.mercatorScale(ae.center.lat)*xt}else{const xt=ae.pointCoordinate(Ye.sub(ke));Ct&&xt&&(bt[0]=xt.x-Ct.x,bt[1]=xt.y-Ct.y)}}const kt=ae.zoom,ft=[0,0,0];if(Te){const Ct=ve(lt||ae.pointCoordinate3D(Ye)),xt={dir:n.normalize([],n.sub([],Ct,ae._camera.position))};if(xt.dir[2]<0){const Rt=ae.zoomDeltaToMovement(Ct,Te);n.scale$2(ft,xt.dir,Rt)}}const yt=n.add(bt,bt,ft);ae._translateCameraConstrained(yt),Te&&Math.abs(ae.zoom-kt)>1e-4&&ae.recenterOnTerrain(),ae.cameraElevationReference="ground",this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(b,V,!0)}_fireEvents(c,b,V){const Q=ur(this._eventsInProgress),ae=ur(c),ve={};for(const Ne in c){const{originalEvent:Ye}=c[Ne];this._eventsInProgress[Ne]||(ve[`${Ne}start`]=Ye),this._eventsInProgress[Ne]=c[Ne]}!Q&&ae&&this._fireEvent("movestart",ae.originalEvent);for(const Ne in ve)this._fireEvent(Ne,ve[Ne]);ae&&this._fireEvent("move",ae.originalEvent);for(const Ne in c){const{originalEvent:Ye}=c[Ne];this._fireEvent(Ne,Ye)}const ke={};let Te;for(const Ne in this._eventsInProgress){const{handlerName:Ye,originalEvent:lt}=this._eventsInProgress[Ne];this._handlersById[Ye].isActive()||(delete this._eventsInProgress[Ne],Te=b[Ye]||lt,ke[`${Ne}end`]=Te)}for(const Ne in ke)this._fireEvent(Ne,ke[Ne]);const je=ur(this._eventsInProgress);if(V&&(Q||ae)&&!je){this._updatingCamera=!0;const Ne=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Ye=lt=>lt!==0&&-this._bearingSnap<lt&&lt<this._bearingSnap;Ne?(Ye(Ne.bearing||this._map.getBearing())&&(Ne.bearing=0),this._map.easeTo(Ne,{originalEvent:Te})):(this._map.fire(new n.Event("moveend",{originalEvent:Te})),Ye(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(c,b){this._map.fire(new n.Event(c,b?{originalEvent:b}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(c=>{this._frameId=void 0,this.handleEvent(new gh("renderFrame",{timeStamp:c})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const Eu="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class rl extends n.Evented{constructor(c,b){super(),this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=b.bearingSnap,n.bindAll(["_renderFrameCallback"],this)}getCenter(){return new n.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(c,b){return this.jumpTo({center:c},b)}panBy(c,b,V){return c=n.pointGeometry.convert(c).mult(-1),this.panTo(this.transform.center,n.extend({offset:c},b),V)}panTo(c,b,V){return this.easeTo(n.extend({center:c},b),V)}getZoom(){return this.transform.zoom}setZoom(c,b){return this.jumpTo({zoom:c},b),this}zoomTo(c,b,V){return this.easeTo(n.extend({zoom:c},b),V)}zoomIn(c,b){return this.zoomTo(this.getZoom()+1,c,b),this}zoomOut(c,b){return this.zoomTo(this.getZoom()-1,c,b),this}getBearing(){return this.transform.bearing}setBearing(c,b){return this.jumpTo({bearing:c},b),this}getPadding(){return this.transform.padding}setPadding(c,b){return this.jumpTo({padding:c},b),this}rotateTo(c,b,V){return this.easeTo(n.extend({bearing:c},b),V)}resetNorth(c,b){return this.rotateTo(0,n.extend({duration:1e3},c),b),this}resetNorthPitch(c,b){return this.easeTo(n.extend({bearing:0,pitch:0,duration:1e3},c),b),this}snapToNorth(c,b){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(c,b):this}getPitch(){return this.transform.pitch}setPitch(c,b){return this.jumpTo({pitch:c},b),this}cameraForBounds(c,b){c=n.LngLatBounds.convert(c);const V=b&&b.bearing||0,Q=b&&b.pitch||0,ae=c.getNorthWest(),ve=c.getSouthEast();return this._cameraForBounds(this.transform,ae,ve,V,Q,b)}_extendCameraOptions(c){const b={top:0,bottom:0,right:0,left:0};if(typeof(c=n.extend({padding:b,offset:[0,0],maxZoom:this.transform.maxZoom},c)).padding=="number"){const V=c.padding;c.padding={top:V,bottom:V,right:V,left:V}}return c.padding=n.extend(b,c.padding),c}_minimumAABBFrustumDistance(c,b){const V=b.max[0]-b.min[0],Q=b.max[1]-b.min[1];return V/Q>c.aspect?V/(2*Math.tan(.5*c.fovX)*c.aspect):Q/(2*Math.tan(.5*c.fovY)*c.aspect)}_cameraForBoundsOnGlobe(c,b,V,Q,ae,ve){const ke=c.clone(),Te=this._extendCameraOptions(ve);ke.bearing=Q,ke.pitch=ae;const je=n.LngLat.convert(b),Ne=n.LngLat.convert(V),Ye=.5*(je.lat+Ne.lat),lt=.5*(je.lng+Ne.lng),_t=n.latLngToECEF(Ye,lt),bt=n.normalize([],_t),kt=n.normalize([],n.cross([],bt,[0,1,0])),ft=n.cross([],kt,bt),yt=[kt[0],kt[1],kt[2],0,ft[0],ft[1],ft[2],0,bt[0],bt[1],bt[2],0,0,0,0,1],Ct=[_t,n.latLngToECEF(je.lat,je.lng),n.latLngToECEF(Ne.lat,je.lng),n.latLngToECEF(Ne.lat,Ne.lng),n.latLngToECEF(je.lat,Ne.lng),n.latLngToECEF(Ye,je.lng),n.latLngToECEF(Ye,Ne.lng),n.latLngToECEF(je.lat,lt),n.latLngToECEF(Ne.lat,lt)];let xt=n.Aabb.fromPoints(Ct.map(ai=>[n.dot(kt,ai),n.dot(ft,ai),n.dot(bt,ai)]));const Rt=n.transformMat4([],xt.center,yt);n.squaredLength(Rt)===0&&n.set(Rt,0,0,1),n.normalize(Rt,Rt),n.scale$2(Rt,Rt,n.GLOBE_RADIUS),ke.center=n.ecefToLatLng(Rt);const Ht=ke.getWorldToCameraMatrix(),zt=n.invert(new Float64Array(16),Ht);xt=n.Aabb.applyTransform(xt,n.multiply([],Ht,yt)),n.transformMat4(Rt,Rt,Ht);const Jt=.5*(xt.max[2]-xt.min[2]),yi=this._minimumAABBFrustumDistance(ke,xt),di=n.scale$2([],[0,0,1],Jt),ni=n.add(di,Rt,di),ji=yi+(ke.pitch===0?0:n.distance(Rt,ni)),ui=ke.globeCenterInViewSpace,Oi=n.sub([],Rt,[ui[0],ui[1],ui[2]]);n.normalize(Oi,Oi),n.scale$2(Oi,Oi,ji);const Si=n.add([],Rt,Oi);n.transformMat4(Si,Si,zt);const Hi=n.earthRadius/n.GLOBE_RADIUS,Ai=n.length(Si),Bi=n.mercatorZfromAltitude(Ai*Hi-n.earthRadius,0),Yi=Math.min(ke.zoomFromMercatorZAdjusted(Bi),Te.maxZoom);return Yi>.5*(n.GLOBE_ZOOM_THRESHOLD_MIN+n.GLOBE_ZOOM_THRESHOLD_MAX)?(ke.setProjection({name:"mercator"}),ke.zoom=Yi,this._cameraForBounds(ke,b,V,Q,ae,ve)):{center:ke.center,zoom:Yi,bearing:Q,pitch:ae}}queryTerrainElevation(c,b){const V=this.transform.elevation;return V?(b=n.extend({},{exaggerated:!0},b),V.getAtPoint(n.MercatorCoordinate.fromLngLat(c),null,b.exaggerated)):null}_cameraForBounds(c,b,V,Q,ae,ve){if(c.projection.name==="globe")return this._cameraForBoundsOnGlobe(c,b,V,Q,ae,ve);const ke=c.clone(),Te=this._extendCameraOptions(ve),je=ke.padding;ke.bearing=Q,ke.pitch=ae;const Ne=n.LngLat.convert(b),Ye=n.LngLat.convert(V),lt=new n.LngLat(Ne.lng,Ye.lat),_t=new n.LngLat(Ye.lng,Ne.lat),bt=ke.project(Ne),kt=ke.project(Ye),ft=this.queryTerrainElevation(Ne),yt=this.queryTerrainElevation(Ye),Ct=this.queryTerrainElevation(lt),xt=this.queryTerrainElevation(_t),Rt=[[bt.x,bt.y,Math.min(ft||0,yt||0,Ct||0,xt||0)],[kt.x,kt.y,Math.max(ft||0,yt||0,Ct||0,xt||0)]];let Ht=n.Aabb.fromPoints(Rt);const zt=ke.getWorldToCameraMatrix(),Jt=n.invert(new Float64Array(16),zt);Ht=n.Aabb.applyTransform(Ht,zt);const yi=n.sub([],Ht.max,Ht.min),di=je.left||0,ni=je.right||0,ji=je.bottom||0,ui=je.top||0,{left:Oi,right:Si,top:Hi,bottom:Ai}=Te.padding,Bi=.5*(di+ni),Yi=.5*(ui+ji),ai=Math.min(ke.scaleZoom(ke.scale*Math.min((ke.width-(di+ni+Oi+Si))/yi[0],(ke.height-(ji+ui+Ai+Hi))/yi[1])),Te.maxZoom),bi=ke.scale/ke.zoomScale(ai);Ht=new n.Aabb([Ht.min[0]-(Oi+Bi)*bi,Ht.min[1]-(Ai+Yi)*bi,Ht.min[2]],[Ht.max[0]+(Si+Bi)*bi,Ht.max[1]+(Hi+Yi)*bi,Ht.max[2]]);const vr=.5*yi[2],Sr=this._minimumAABBFrustumDistance(ke,Ht),_r=[0,0,1,0];n.transformMat4$1(_r,_r,zt),n.normalize$2(_r,_r);const Lr=n.scale$2([],_r,Sr+vr),on=n.add([],Ht.center,Lr),Ar=(typeof Te.offset.x=="number"&&typeof Te.offset.y=="number"?new n.pointGeometry(Te.offset.x,Te.offset.y):n.pointGeometry.convert(Te.offset)).rotate(-n.degToRad(Q));Ht.center[0]-=Ar.x*bi,Ht.center[1]+=Ar.y*bi,n.transformMat4(Ht.center,Ht.center,Jt),n.transformMat4(on,on,Jt);const mr=[Ht.center[0],Ht.center[1],on[2]*ke.pixelsPerMeter];n.scale$2(mr,mr,1/ke.worldSize);const jn=n.lngFromMercatorX(mr[0]),Mn=n.latFromMercatorY(mr[1]),Gn=Math.min(ke._zoomFromMercatorZ(mr[2]),Te.maxZoom),Bn=new n.LngLat(jn,Mn);return ke.mercatorFromTransition&&Gn<.5*(n.GLOBE_ZOOM_THRESHOLD_MIN+n.GLOBE_ZOOM_THRESHOLD_MAX)?(ke.setProjection({name:"globe"}),ke.zoom=Gn,this._cameraForBounds(ke,b,V,Q,ae,ve)):{center:Bn,zoom:Gn,bearing:Q,pitch:ae}}fitBounds(c,b,V){const Q=this.cameraForBounds(c,b);return this._fitInternal(Q,b,V)}fitScreenCoordinates(c,b,V,Q,ae){const ve=n.pointGeometry.convert(c),ke=n.pointGeometry.convert(b),Te=new n.pointGeometry(Math.min(ve.x,ke.x),Math.min(ve.y,ke.y)),je=new n.pointGeometry(Math.max(ve.x,ke.x),Math.max(ve.y,ke.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(ve,ke))return this;const Ne=this.transform.pointLocation3D(Te),Ye=this.transform.pointLocation3D(je),lt=this.transform.pointLocation3D(new n.pointGeometry(Te.x,je.y)),_t=this.transform.pointLocation3D(new n.pointGeometry(je.x,Te.y)),bt=[Math.min(Ne.lng,Ye.lng,lt.lng,_t.lng),Math.min(Ne.lat,Ye.lat,lt.lat,_t.lat)],kt=[Math.max(Ne.lng,Ye.lng,lt.lng,_t.lng),Math.max(Ne.lat,Ye.lat,lt.lat,_t.lat)],ft=Q&&Q.pitch?Q.pitch:this.getPitch(),yt=this._cameraForBounds(this.transform,bt,kt,V,ft,Q);return this._fitInternal(yt,Q,ae)}_fitInternal(c,b,V){return c?(delete(b=n.extend(c,b)).padding,b.linear?this.easeTo(b,V):this.flyTo(b,V)):this}jumpTo(c,b){this.stop();const V=c.preloadOnly?this.transform.clone():this.transform;let Q=!1,ae=!1,ve=!1;return"zoom"in c&&V.zoom!==+c.zoom&&(Q=!0,V.zoom=+c.zoom),c.center!==void 0&&(V.center=n.LngLat.convert(c.center)),"bearing"in c&&V.bearing!==+c.bearing&&(ae=!0,V.bearing=+c.bearing),"pitch"in c&&V.pitch!==+c.pitch&&(ve=!0,V.pitch=+c.pitch),c.padding==null||V.isPaddingEqual(c.padding)||(V.padding=c.padding),c.preloadOnly?(this._preloadTiles(V),this):(this.fire(new n.Event("movestart",b)).fire(new n.Event("move",b)),Q&&this.fire(new n.Event("zoomstart",b)).fire(new n.Event("zoom",b)).fire(new n.Event("zoomend",b)),ae&&this.fire(new n.Event("rotatestart",b)).fire(new n.Event("rotate",b)).fire(new n.Event("rotateend",b)),ve&&this.fire(new n.Event("pitchstart",b)).fire(new n.Event("pitch",b)).fire(new n.Event("pitchend",b)),this.fire(new n.Event("moveend",b)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||n.warnOnce(Eu),this.transform.getFreeCameraOptions()}setFreeCameraOptions(c,b){const V=this.transform;if(!V.projection.supportsFreeCamera)return n.warnOnce(Eu),this;this.stop();const Q=V.zoom,ae=V.pitch,ve=V.bearing;V.setFreeCameraOptions(c);const ke=Q!==V.zoom,Te=ae!==V.pitch,je=ve!==V.bearing;return this.fire(new n.Event("movestart",b)).fire(new n.Event("move",b)),ke&&this.fire(new n.Event("zoomstart",b)).fire(new n.Event("zoom",b)).fire(new n.Event("zoomend",b)),je&&this.fire(new n.Event("rotatestart",b)).fire(new n.Event("rotate",b)).fire(new n.Event("rotateend",b)),Te&&this.fire(new n.Event("pitchstart",b)).fire(new n.Event("pitch",b)).fire(new n.Event("pitchend",b)),this.fire(new n.Event("moveend",b)),this}easeTo(c,b){this._stop(!1,c.easeId),((c=n.extend({offset:[0,0],duration:500,easing:n.ease},c)).animate===!1||!c.essential&&n.exported.prefersReducedMotion)&&(c.duration=0);const V=this.transform,Q=this.getZoom(),ae=this.getBearing(),ve=this.getPitch(),ke=this.getPadding(),Te="zoom"in c?+c.zoom:Q,je="bearing"in c?this._normalizeBearing(c.bearing,ae):ae,Ne="pitch"in c?+c.pitch:ve,Ye="padding"in c?c.padding:V.padding,lt=n.pointGeometry.convert(c.offset);let _t,bt,kt;if(V.projection.name==="globe"){const di=n.MercatorCoordinate.fromLngLat(V.center),ni=lt.rotate(-V.angle);di.x+=ni.x/V.worldSize,di.y+=ni.y/V.worldSize;const ji=di.toLngLat(),ui=n.LngLat.convert(c.center||ji);this._normalizeCenter(ui),_t=V.centerPoint.add(ni),bt=new n.pointGeometry(di.x,di.y).mult(V.worldSize),kt=new n.pointGeometry(n.mercatorXfromLng(ui.lng),n.mercatorYfromLat(ui.lat)).mult(V.worldSize).sub(bt)}else{_t=V.centerPoint.add(lt);const di=V.pointLocation(_t),ni=n.LngLat.convert(c.center||di);this._normalizeCenter(ni),bt=V.project(di),kt=V.project(ni).sub(bt)}const ft=V.zoomScale(Te-Q);let yt,Ct;c.around&&(yt=n.LngLat.convert(c.around),Ct=V.locationPoint(yt));const xt=this._zooming||Te!==Q,Rt=this._rotating||ae!==je,Ht=this._pitching||Ne!==ve,zt=!V.isPaddingEqual(Ye),Jt=di=>ni=>{if(xt&&(di.zoom=n.number(Q,Te,ni)),Rt&&(di.bearing=n.number(ae,je,ni)),Ht&&(di.pitch=n.number(ve,Ne,ni)),zt&&(di.interpolatePadding(ke,Ye,ni),_t=di.centerPoint.add(lt)),yt)di.setLocationAtPoint(yt,Ct);else{const ji=di.zoomScale(di.zoom-Q),ui=Te>Q?Math.min(2,ft):Math.max(.5,ft),Oi=Math.pow(ui,1-ni),Si=di.unproject(bt.add(kt.mult(ni*Oi)).mult(ji));di.setLocationAtPoint(di.renderWorldCopies?Si.wrap():Si,_t)}return c.preloadOnly||this._fireMoveEvents(b),di};if(c.preloadOnly){const di=this._emulate(Jt,c.duration,V);return this._preloadTiles(di),this}const yi={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=xt,this._rotating=Rt,this._pitching=Ht,this._padding=zt,this._easeId=c.easeId,this._prepareEase(b,c.noMoveStart,yi),this._ease(Jt(V),di=>{V.recenterOnTerrain(),this._afterEase(b,di)},c),this}_prepareEase(c,b,V={}){this._moving=!0,this.transform.cameraElevationReference="sea",b||V.moving||this.fire(new n.Event("movestart",c)),this._zooming&&!V.zooming&&this.fire(new n.Event("zoomstart",c)),this._rotating&&!V.rotating&&this.fire(new n.Event("rotatestart",c)),this._pitching&&!V.pitching&&this.fire(new n.Event("pitchstart",c))}_fireMoveEvents(c){this.fire(new n.Event("move",c)),this._zooming&&this.fire(new n.Event("zoom",c)),this._rotating&&this.fire(new n.Event("rotate",c)),this._pitching&&this.fire(new n.Event("pitch",c))}_afterEase(c,b){if(this._easeId&&b&&this._easeId===b)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const V=this._zooming,Q=this._rotating,ae=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,V&&this.fire(new n.Event("zoomend",c)),Q&&this.fire(new n.Event("rotateend",c)),ae&&this.fire(new n.Event("pitchend",c)),this.fire(new n.Event("moveend",c))}flyTo(c,b){if(!c.essential&&n.exported.prefersReducedMotion){const ai=n.pick(c,["center","zoom","bearing","pitch","around"]);return this.jumpTo(ai,b)}this.stop(),c=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},c);const V=this.transform,Q=this.getZoom(),ae=this.getBearing(),ve=this.getPitch(),ke=this.getPadding(),Te="zoom"in c?n.clamp(+c.zoom,V.minZoom,V.maxZoom):Q,je="bearing"in c?this._normalizeBearing(c.bearing,ae):ae,Ne="pitch"in c?+c.pitch:ve,Ye="padding"in c?c.padding:V.padding,lt=V.zoomScale(Te-Q),_t=n.pointGeometry.convert(c.offset);let bt=V.centerPoint.add(_t);const kt=V.pointLocation(bt),ft=n.LngLat.convert(c.center||kt);this._normalizeCenter(ft);const yt=V.project(kt),Ct=V.project(ft).sub(yt);let xt=c.curve;const Rt=Math.max(V.width,V.height),Ht=Rt/lt,zt=Ct.mag();if("minZoom"in c){const ai=n.clamp(Math.min(c.minZoom,Q,Te),V.minZoom,V.maxZoom),bi=Rt/V.zoomScale(ai-Q);xt=Math.sqrt(bi/zt*2)}const Jt=xt*xt;function yi(ai){const bi=(Ht*Ht-Rt*Rt+(ai?-1:1)*Jt*Jt*zt*zt)/(2*(ai?Ht:Rt)*Jt*zt);return Math.log(Math.sqrt(bi*bi+1)-bi)}function di(ai){return(Math.exp(ai)-Math.exp(-ai))/2}function ni(ai){return(Math.exp(ai)+Math.exp(-ai))/2}const ji=yi(0);let ui=function(ai){return ni(ji)/ni(ji+xt*ai)},Oi=function(ai){return Rt*((ni(ji)*(di(bi=ji+xt*ai)/ni(bi))-di(ji))/Jt)/zt;var bi},Si=(yi(1)-ji)/xt;if(Math.abs(zt)<1e-6||!isFinite(Si)){if(Math.abs(Rt-Ht)<1e-6)return this.easeTo(c,b);const ai=Ht<Rt?-1:1;Si=Math.abs(Math.log(Ht/Rt))/xt,Oi=function(){return 0},ui=function(bi){return Math.exp(ai*xt*bi)}}c.duration="duration"in c?+c.duration:1e3*Si/("screenSpeed"in c?+c.screenSpeed/xt:+c.speed),c.maxDuration&&c.duration>c.maxDuration&&(c.duration=0);const Hi=ae!==je,Ai=Ne!==ve,Bi=!V.isPaddingEqual(Ye),Yi=ai=>bi=>{const vr=bi*Si,Sr=1/ui(vr);ai.zoom=bi===1?Te:Q+ai.scaleZoom(Sr),Hi&&(ai.bearing=n.number(ae,je,bi)),Ai&&(ai.pitch=n.number(ve,Ne,bi)),Bi&&(ai.interpolatePadding(ke,Ye,bi),bt=ai.centerPoint.add(_t));const _r=bi===1?ft:ai.unproject(yt.add(Ct.mult(Oi(vr))).mult(Sr));return ai.setLocationAtPoint(ai.renderWorldCopies?_r.wrap():_r,bt),ai._updateCameraOnTerrain(),c.preloadOnly||this._fireMoveEvents(b),ai};if(c.preloadOnly){const ai=this._emulate(Yi,c.duration,V);return this._preloadTiles(ai),this}return this._zooming=!0,this._rotating=Hi,this._pitching=Ai,this._padding=Bi,this._prepareEase(b,!1),this._ease(Yi(V),()=>this._afterEase(b),c),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(c,b){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const V=this._onEaseEnd;this._onEaseEnd=void 0,V.call(this,b)}if(!c){const V=this.handlers;V&&V.stop(!1)}return this}_ease(c,b,V){V.animate===!1||V.duration===0?(c(1),b()):(this._easeStart=n.exported.now(),this._easeOptions=V,this._onEaseFrame=c,this._onEaseEnd=b,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const c=Math.min((n.exported.now()-this._easeStart)/this._easeOptions.duration,1),b=this._onEaseFrame;b&&b(this._easeOptions.easing(c)),c<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(c,b){c=n.wrap(c,-180,180);const V=Math.abs(c-b);return Math.abs(c-360-b)<V&&(c-=360),Math.abs(c+360-b)<V&&(c+=360),c}_normalizeCenter(c){const b=this.transform;if(!b.renderWorldCopies||b.maxBounds)return;const V=c.lng-b.center.lng;c.lng+=V>180?-360:V<-180?360:0}_emulate(c,b,V){const Q=Math.ceil(15*b/1e3),ae=[],ve=c(V.clone());for(let ke=0;ke<=Q;ke++){const Te=ve(ke/Q);ae.push(Te.clone())}return ae}}class Tu{constructor(c={}){this.options=c,n.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(c){const b=this.options&&this.options.compact;return this._map=c,this._container=H("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=H("button","mapboxgl-ctrl-attrib-button",this._container),H("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=H("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),b&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),b===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(c,b){const V=this._map._getUIString(`AttributionControl.${b}`);c.setAttribute("aria-label",V),c.removeAttribute("title"),c.firstElementChild&&c.firstElementChild.setAttribute("title",V)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let c=this._editLink;c||(c=this._editLink=this._container.querySelector(".mapbox-improve-map"));const b=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||n.config.ACCESS_TOKEN}];if(c){const V=b.reduce((Q,ae,ve)=>(ae.value&&(Q+=`${ae.key}=${ae.value}${ve<b.length-1?"&":""}`),Q),"?");c.href=`${n.config.FEEDBACK_URL}/${V}#${Is(this._map,!0)}`,c.rel="noopener nofollow",this._setElementTitle(c,"MapFeedback")}}_updateData(c){!c||c.sourceDataType!=="metadata"&&c.sourceDataType!=="visibility"&&c.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let c=[];if(this._map.style.stylesheet){const Q=this._map.style.stylesheet;this.styleOwner=Q.owner,this.styleId=Q.id}const b=this._map.style._sourceCaches;for(const Q in b){const ae=b[Q];if(ae.used){const ve=ae.getSource();ve.attribution&&c.indexOf(ve.attribution)<0&&c.push(ve.attribution)}}c.sort((Q,ae)=>Q.length-ae.length),c=c.filter((Q,ae)=>{for(let ve=ae+1;ve<c.length;ve++)if(c[ve].indexOf(Q)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=[...this.options.customAttribution,...c]:c.unshift(this.options.customAttribution));const V=c.join(" | ");V!==this._attribHTML&&(this._attribHTML=V,c.length?(this._innerContainer.innerHTML=V,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Pu{constructor(){n.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(c){this._map=c,this._container=H("div","mapboxgl-ctrl");const b=H("a","mapboxgl-ctrl-logo");return b.target="_blank",b.rel="noopener nofollow",b.href="https://www.mapbox.com/",b.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),b.setAttribute("rel","noopener nofollow"),this._container.appendChild(b),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(c){c&&c.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const c=this._map.style._sourceCaches;if(Object.entries(c).length===0)return!0;for(const b in c){const V=c[b].getSource();if(V.hasOwnProperty("mapbox_logo")&&!V.mapbox_logo)return!1}return!0}_updateCompact(){const c=this._container.children;if(c.length){const b=c[0];this._map.getCanvasContainer().offsetWidth<250?b.classList.add("mapboxgl-compact"):b.classList.remove("mapboxgl-compact")}}}class Mu{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(c){const b=++this._id;return this._queue.push({callback:c,id:b,cancelled:!1}),b}remove(c){const b=this._currentlyRunning,V=b?this._queue.concat(b):this._queue;for(const Q of V)if(Q.id===c)return void(Q.cancelled=!0)}run(c=0){const b=this._currentlyRunning=this._queue;this._queue=[];for(const V of b)if(!V.cancelled&&(V.callback(c),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Iu(D,c,b){if(D=new n.LngLat(D.lng,D.lat),c){const V=new n.LngLat(D.lng-360,D.lat),Q=new n.LngLat(D.lng+360,D.lat),ae=360*Math.ceil(Math.abs(D.lng-b.center.lng)/360),ve=b.locationPoint(D).distSqr(c),ke=c.x<0||c.y<0||c.x>b.width||c.y>b.height;b.locationPoint(V).distSqr(c)<ve&&(ke||Math.abs(V.lng-b.center.lng)<ae)?D=V:b.locationPoint(Q).distSqr(c)<ve&&(ke||Math.abs(Q.lng-b.center.lng)<ae)&&(D=Q)}for(;Math.abs(D.lng-b.center.lng)>180;){const V=b.locationPoint(D);if(V.x>=0&&V.y>=0&&V.x<=b.width&&V.y<=b.height)break;D.lng>b.center.lng?D.lng-=360:D.lng+=360}return D}const cc={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class Gs extends n.Evented{constructor(c,b){if(super(),(c instanceof n.window.HTMLElement||b)&&(c=n.extend({element:c},b)),n.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=c&&c.anchor||"center",this._color=c&&c.color||"#3FB1CE",this._scale=c&&c.scale||1,this._draggable=c&&c.draggable||!1,this._clickTolerance=c&&c.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=c&&c.rotation||0,this._rotationAlignment=c&&c.rotationAlignment||"auto",this._pitchAlignment=c&&c.pitchAlignment&&c.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=c&&c.occludedOpacity||.2,c&&c.element)this._element=c.element,this._offset=n.pointGeometry.convert(c&&c.offset||[0,0]);else{this._defaultMarker=!0,this._element=H("div");const Q=41,ae=27,ve=Y("svg",{display:"block",height:Q*this._scale+"px",width:ae*this._scale+"px",viewBox:`0 0 ${ae} ${Q}`},this._element),ke=Y("radialGradient",{id:"shadowGradient"},Y("defs",{},ve));Y("stop",{offset:"10%","stop-opacity":.4},ke),Y("stop",{offset:"100%","stop-opacity":.05},ke),Y("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},ve),Y("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},ve),Y("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},ve),Y("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},ve),this._offset=n.pointGeometry.convert(c&&c.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",Q=>{Q.preventDefault()}),this._element.addEventListener("mousedown",Q=>{Q.preventDefault()});const V=this._element.classList;for(const Q in cc)V.remove(`mapboxgl-marker-anchor-${Q}`);V.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(c){return c===this._map||(this.remove(),this._map=c,c.getCanvasContainer().appendChild(this._element),c.on("move",this._updateMoving),c.on("moveend",this._update),c.on("remove",this._clearFadeTimer),c._addMarker(this),this.setDraggable(this._draggable),this._update(),c.on("click",this._onMapClick)),this}remove(){const c=this._map;return c&&(c.off("click",this._onMapClick),c.off("move",this._updateMoving),c.off("moveend",this._update),c.off("mousedown",this._addDragHandler),c.off("touchstart",this._addDragHandler),c.off("mouseup",this._onUp),c.off("touchend",this._onUp),c.off("mousemove",this._onMove),c.off("touchmove",this._onMove),c.off("remove",this._clearFadeTimer),c._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(c){return this._lngLat=n.LngLat.convert(c),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(c){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),c){if(!("offset"in c.options)){const Q=Math.sqrt(Math.pow(13.5,2)/2);c.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[Q,-1*(38.1-13.5+Q)],"bottom-right":[-Q,-1*(38.1-13.5+Q)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=c,c._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(c){const b=c.code,V=c.charCode||c.keyCode;b!=="Space"&&b!=="Enter"&&V!==32&&V!==13||this.togglePopup()}_onMapClick(c){const b=c.originalEvent.target,V=this._element;this._popup&&(b===V||V.contains(b))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const c=this._popup;return c?(c.isOpen()?(c.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(c.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const c=this._map,b=this._pos;if(!c||!b)return!1;const V=c.unproject(b),Q=c.getFreeCameraOptions();if(!Q.position)return!1;const ae=Q.position.toLngLat();return ae.distanceTo(V)<.9*ae.distanceTo(this._lngLat)}_evaluateOpacity(){const c=this._map;if(!c)return;const b=this._pos;if(!b||b.x<0||b.x>c.transform.width||b.y<0||b.y>c.transform.height)return void this._clearFadeTimer();const V=c.unproject(b);let Q;c._showingGlobe()&&n.isLngLatBehindGlobe(c.transform,this._lngLat)?Q=0:(Q=1-c._queryFogOpacity(V),c.transform._terrainEnabled()&&c.getTerrain()&&this._behindTerrain()&&(Q*=this._occludedOpacity)),this._element.style.opacity=`${Q}`,this._element.style.pointerEvents=Q>0?"auto":"none",this._popup&&this._popup._setOpacity(Q),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const c=this._pos;if(!c||!this._map)return;const b=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${c.x}px,${c.y}px)
            ${cc[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${b.x}px,${b.y}px)
        `}_calculateXYTransform(){const c=this._pos,b=this._map,V=this.getPitchAlignment();if(!b||!c||V!=="map")return"";if(!b._showingGlobe()){const Te=b.getPitch();return Te?`rotateX(${Te}deg)`:""}const Q=n.radToDeg(n.globeTiltAtLngLat(b.transform,this._lngLat)),ae=c.sub(n.globeCenterToScreenPoint(b.transform)),ve=Math.abs(ae.x)+Math.abs(ae.y);if(ve===0)return"";const ke=Q/ve;return`rotateX(${-ae.y*ke}deg) rotateY(${ae.x*ke}deg)`}_calculateZTransform(){const c=this._pos,b=this._map;if(!b||!c)return"";let V=0;const Q=this.getRotationAlignment();if(Q==="map")if(b._showingGlobe()){const ae=b.project(new n.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),ve=b.project(new n.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(ae);V=n.radToDeg(Math.atan2(ve.y,ve.x))-90}else V=-b.getBearing();else if(Q==="horizon"){const ae=n.smoothstep(4,6,b.getZoom()),ve=n.globeCenterToScreenPoint(b.transform);ve.y+=ae*b.transform.height;const ke=c.sub(ve),Te=n.radToDeg(Math.atan2(ke.y,ke.x));V=(Te>90?Te-270:Te+90)*(1-ae)}return V+=this._rotation,V?`rotateZ(${V}deg)`:""}_update(c){n.window.cancelAnimationFrame(this._updateFrameId);const b=this._map;b&&(b.transform.renderWorldCopies&&(this._lngLat=Iu(this._lngLat,this._pos,b.transform)),this._pos=b.project(this._lngLat),c===!0?this._updateFrameId=n.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),b._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(b._showingGlobe()||b.getTerrain()||b.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(c){return this._offset=n.pointGeometry.convert(c),this._update(),this}_onMove(c){const b=this._map;if(!b)return;const V=this._pointerdownPos,Q=this._positionDelta;if(V&&Q){if(!this._isDragging){const ae=this._clickTolerance||b._clickTolerance;if(c.point.dist(V)<ae)return;this._isDragging=!0}this._pos=c.point.sub(Q),this._lngLat=b.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new n.Event("dragstart"))),this.fire(new n.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const c=this._map;c&&(c.off("mousemove",this._onMove),c.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new n.Event("dragend")),this._state="inactive"}_addDragHandler(c){const b=this._map,V=this._pos;b&&V&&this._element.contains(c.originalEvent.target)&&(c.preventDefault(),this._positionDelta=c.point.sub(V),this._pointerdownPos=c.point,this._state="pending",b.on("mousemove",this._onMove),b.on("touchmove",this._onMove),b.once("mouseup",this._onUp),b.once("touchend",this._onUp))}setDraggable(c){this._draggable=!!c;const b=this._map;return b&&(c?(b.on("mousedown",this._addDragHandler),b.on("touchstart",this._addDragHandler)):(b.off("mousedown",this._addDragHandler),b.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(c){return this._rotation=c||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(c){return this._rotationAlignment=c||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(c){return this._pitchAlignment=c||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(c){return this._occludedOpacity=c||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const Zc={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},vh=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function bs(D=new n.pointGeometry(0,0),c="bottom"){if(typeof D=="number"){const b=Math.round(Math.sqrt(.5*Math.pow(D,2)));switch(c){case"top":return new n.pointGeometry(0,D);case"top-left":return new n.pointGeometry(b,b);case"top-right":return new n.pointGeometry(-b,b);case"bottom":return new n.pointGeometry(0,-D);case"bottom-left":return new n.pointGeometry(b,-b);case"bottom-right":return new n.pointGeometry(-b,-b);case"left":return new n.pointGeometry(D,0);case"right":return new n.pointGeometry(-D,0)}return new n.pointGeometry(0,0)}return D instanceof n.pointGeometry||Array.isArray(D)?n.pointGeometry.convert(D):n.pointGeometry.convert(D[c]||[0,0])}class _h{constructor(c){this.jumpTo(c)}getValue(c){if(c<=this._startTime)return this._start;if(c>=this._endTime)return this._end;const b=n.easeCubicInOut((c-this._startTime)/(this._endTime-this._startTime));return this._start*(1-b)+this._end*b}isEasing(c){return c>=this._startTime&&c<=this._endTime}jumpTo(c){this._startTime=-1/0,this._endTime=-1/0,this._start=c,this._end=c}easeTo(c,b,V){this._start=this.getValue(b),this._end=c,this._startTime=b,this._endTime=b+V}}const bh={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},xh={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},wh={showCompass:!0,showZoom:!0,visualizePitch:!1};class Sh{constructor(c,b,V=!1){this._clickTolerance=10,this.element=b,this.mouseRotate=new Su({clickTolerance:c.dragRotate._mouseRotate._clickTolerance}),this.map=c,V&&(this.mousePitch=new ku({clickTolerance:c.dragRotate._mousePitch._clickTolerance})),n.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),b.addEventListener("mousedown",this.mousedown),b.addEventListener("touchstart",this.touchstart,{passive:!1}),b.addEventListener("touchmove",this.touchmove),b.addEventListener("touchend",this.touchend),b.addEventListener("touchcancel",this.reset)}down(c,b){this.mouseRotate.mousedown(c,b),this.mousePitch&&this.mousePitch.mousedown(c,b),T()}move(c,b){const V=this.map,Q=this.mouseRotate.mousemoveWindow(c,b),ae=Q&&Q.bearingDelta;if(ae&&V.setBearing(V.getBearing()+ae),this.mousePitch){const ve=this.mousePitch.mousemoveWindow(c,b),ke=ve&&ve.pitchDelta;ke&&V.setPitch(V.getPitch()+ke)}}off(){const c=this.element;c.removeEventListener("mousedown",this.mousedown),c.removeEventListener("touchstart",this.touchstart,{passive:!1}),c.removeEventListener("touchmove",this.touchmove),c.removeEventListener("touchend",this.touchend),c.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){C(),n.window.removeEventListener("mousemove",this.mousemove),n.window.removeEventListener("mouseup",this.mouseup)}mousedown(c){this.down(n.extend({},c,{ctrlKey:!0,preventDefault:()=>c.preventDefault()}),q(this.element,c)),n.window.addEventListener("mousemove",this.mousemove),n.window.addEventListener("mouseup",this.mouseup)}mousemove(c){this.move(c,q(this.element,c))}mouseup(c){this.mouseRotate.mouseupWindow(c),this.mousePitch&&this.mousePitch.mouseupWindow(c),this.offTemp()}touchstart(c){c.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=N(this.element,c.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>c.preventDefault()},this._startPos))}touchmove(c){c.targetTouches.length!==1?this.reset():(this._lastPos=N(this.element,c.targetTouches)[0],this.move({preventDefault:()=>c.preventDefault()},this._lastPos))}touchend(c){c.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const Kc={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Ou={maxWidth:100,unit:"metric"};function kh(D,c,b){const V=Ru(c),Q=V/c,ae={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[b];this._map._requestDomTask(()=>{this._container.style.width=D*Q+"px",this._container.innerHTML=`${V}&nbsp;${ae}`})}function Ru(D){const c=Math.pow(10,`${Math.floor(D)}`.length-1);let b=D/c;return b=b>=10?10:b>=5?5:b>=3?3:b>=2?2:b>=1?1:function(V){const Q=Math.pow(10,Math.ceil(-Math.log(V)/Math.LN10));return Math.round(V*Q)/Q}(b),c*b}const Hl={version:n.version,supported:j,setRTLTextPlugin:n.setRTLTextPlugin,getRTLTextPluginStatus:n.getRTLTextPluginStatus,Map:class extends rl{constructor(D){if(n.LivePerformanceUtils.mark(n.PerformanceMarkers.create),(D=n.extend({},xh,D)).minZoom!=null&&D.maxZoom!=null&&D.minZoom>D.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(D.minPitch!=null&&D.maxPitch!=null&&D.minPitch>D.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(D.minPitch!=null&&D.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(D.maxPitch!=null&&D.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(D.antialias&&n.isSafariWithAntialiasingBug(n.window)&&(D.antialias=!1,n.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new wa(D.minZoom,D.maxZoom,D.minPitch,D.maxPitch,D.renderWorldCopies),D),this._interactive=D.interactive,this._minTileCacheSize=D.minTileCacheSize,this._maxTileCacheSize=D.maxTileCacheSize,this._failIfMajorPerformanceCaveat=D.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=D.preserveDrawingBuffer,this._antialias=D.antialias,this._trackResize=D.trackResize,this._bearingSnap=D.bearingSnap,this._refreshExpiredTiles=D.refreshExpiredTiles,this._fadeDuration=D.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=D.crossSourceCollisions,this._collectResourceTiming=D.collectResourceTiming,this._optimizeForTerrain=D.optimizeForTerrain,this._language=this._parseLanguage(D.language),this._worldview=D.worldview,this._renderTaskQueue=new Mu,this._domRenderTaskQueue=new Mu,this._controls=[],this._markers=[],this._popups=[],this._mapId=n.uniqueId(),this._locale=n.extend({},bh,D.locale),this._clickTolerance=D.clickTolerance,this._cooperativeGestures=D.cooperativeGestures,this._performanceMetricsCollection=D.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new _h(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new n.RequestManager(D.transformRequest,D.accessToken,D.testMode),this._silenceAuthErrors=!!D.testMode,typeof D.container=="string"){if(this._container=n.window.document.getElementById(D.container),!this._container)throw new Error(`Container '${D.container}' not found.`)}else{if(!(D.container instanceof n.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=D.container}if(this._container.childNodes.length>0&&n.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),D.maxBounds&&this.setMaxBounds(D.maxBounds),n.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),n.window!==void 0&&(n.window.addEventListener("online",this._onWindowOnline,!1),n.window.addEventListener("resize",this._onWindowResize,!1),n.window.addEventListener("orientationchange",this._onWindowResize,!1),n.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),n.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new kc(this,D),this._localFontFamily=D.localFontFamily,this._localIdeographFontFamily=D.localIdeographFontFamily,D.style&&this.setStyle(D.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),D.projection&&this.setProjection(D.projection),this._hash=D.hash&&new dr(typeof D.hash=="string"&&D.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:D.center,zoom:D.zoom,bearing:D.bearing,pitch:D.pitch}),D.bounds&&(this.resize(),this.fitBounds(D.bounds,n.extend({},D.fitBoundsOptions,{duration:0})))),this.resize(),D.attributionControl&&this.addControl(new Tu({customAttribution:D.customAttribution})),this._logoControl=new Pu,this.addControl(this._logoControl,D.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",c=>{this._update(c.dataType==="style"),this.fire(new n.Event(`${c.dataType}data`,c))}),this.on("dataloading",c=>{this.fire(new n.Event(`${c.dataType}dataloading`,c))})}_getMapId(){return this._mapId}addControl(D,c){if(c===void 0&&(c=D.getDefaultPosition?D.getDefaultPosition():"top-right"),!D||!D.onAdd)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const b=D.onAdd(this);this._controls.push(D);const V=this._controlPositions[c];return c.indexOf("bottom")!==-1?V.insertBefore(b,V.firstChild):V.appendChild(b),this}removeControl(D){if(!D||!D.onRemove)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const c=this._controls.indexOf(D);return c>-1&&this._controls.splice(c,1),D.onRemove(this),this}hasControl(D){return this._controls.indexOf(D)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(D){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const c=!this._moving;return c&&this.fire(new n.Event("movestart",D)).fire(new n.Event("move",D)),this.fire(new n.Event("resize",D)),c&&this.fire(new n.Event("moveend",D)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(D){return this.transform.setMaxBounds(n.LngLatBounds.convert(D)),this._update()}setMinZoom(D){if((D=D??-2)>=-2&&D<=this.transform.maxZoom)return this.transform.minZoom=D,this._update(),this.getZoom()<D?this.setZoom(D):this.fire(new n.Event("zoomstart")).fire(new n.Event("zoom")).fire(new n.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(D){if((D=D??22)>=this.transform.minZoom)return this.transform.maxZoom=D,this._update(),this.getZoom()>D?this.setZoom(D):this.fire(new n.Event("zoomstart")).fire(new n.Event("zoom")).fire(new n.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(D){if((D=D??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(D>=0&&D<=this.transform.maxPitch)return this.transform.minPitch=D,this._update(),this.getPitch()<D?this.setPitch(D):this.fire(new n.Event("pitchstart")).fire(new n.Event("pitch")).fire(new n.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(D){if((D=D??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(D>=this.transform.minPitch)return this.transform.maxPitch=D,this._update(),this.getPitch()>D?this.setPitch(D):this.fire(new n.Event("pitchstart")).fire(new n.Event("pitch")).fire(new n.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(D){return this.transform.renderWorldCopies=D,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(D){return D==="auto"?n.window.navigator.language:Array.isArray(D)?D.length===0?void 0:D.map(c=>c==="auto"?n.window.navigator.language:c):D}setLanguage(D){const c=this._parseLanguage(D);if(!this.style||c===this._language)return this;this._language=c,this.style._reloadSources();for(const b of this._controls)b._setLanguage&&b._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(D){return this.style&&D!==this._worldview?(this._worldview=D,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(D){return this._lazyInitEmptyStyle(),D?typeof D=="string"&&(D={name:D}):D=null,this._useExplicitProjection=!!D,this._prioritizeAndUpdateProjection(D,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const D=this.transform,c=D.projection.name;let b;c==="globe"&&D.zoom>=n.GLOBE_ZOOM_THRESHOLD_MAX?(D.setMercatorFromTransition(),b=!0):c==="mercator"&&D.zoom<n.GLOBE_ZOOM_THRESHOLD_MAX&&(D.setProjection({name:"globe"}),b=!0),b&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(D,c){return this._updateProjection(D||c||{name:"mercator"})}_updateProjection(D){let c;if(c=D.name==="globe"&&this.transform.zoom>=n.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(D),this.style.applyProjectionUpdate(),c){this.painter.clearBackgroundTiles();for(const b in this.style._sourceCaches)this.style._sourceCaches[b].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(D){return this.transform.locationPoint3D(n.LngLat.convert(D))}unproject(D){return this.transform.pointLocation3D(n.pointGeometry.convert(D))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(D,c,b){if(D==="mouseenter"||D==="mouseover"){let V=!1;const Q=ve=>{const ke=c.filter(je=>this.getLayer(je)),Te=ke.length?this.queryRenderedFeatures(ve.point,{layers:ke}):[];Te.length?V||(V=!0,b.call(this,new Xn(D,this,ve.originalEvent,{features:Te}))):V=!1},ae=()=>{V=!1};return{layers:new Set(c),listener:b,delegates:{mousemove:Q,mouseout:ae}}}if(D==="mouseleave"||D==="mouseout"){let V=!1;const Q=ve=>{const ke=c.filter(Te=>this.getLayer(Te));(ke.length?this.queryRenderedFeatures(ve.point,{layers:ke}):[]).length?V=!0:V&&(V=!1,b.call(this,new Xn(D,this,ve.originalEvent)))},ae=ve=>{V&&(V=!1,b.call(this,new Xn(D,this,ve.originalEvent)))};return{layers:new Set(c),listener:b,delegates:{mousemove:Q,mouseout:ae}}}{const V=Q=>{const ae=c.filter(ke=>this.getLayer(ke)),ve=ae.length?this.queryRenderedFeatures(Q.point,{layers:ae}):[];ve.length&&(Q.features=ve,b.call(this,Q),delete Q.features)};return{layers:new Set(c),listener:b,delegates:{[D]:V}}}}on(D,c,b){if(b===void 0)return super.on(D,c);Array.isArray(c)||(c=[c]);const V=this._createDelegatedListener(D,c,b);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[D]=this._delegatedListeners[D]||[],this._delegatedListeners[D].push(V);for(const Q in V.delegates)this.on(Q,V.delegates[Q]);return this}once(D,c,b){if(b===void 0)return super.once(D,c);Array.isArray(c)||(c=[c]);const V=this._createDelegatedListener(D,c,b);for(const Q in V.delegates)this.once(Q,V.delegates[Q]);return this}off(D,c,b){if(b===void 0)return super.off(D,c);c=new Set(Array.isArray(c)?c:[c]);const V=(ae,ve)=>{if(ae.size!==ve.size)return!1;for(const ke of ae)if(!ve.has(ke))return!1;return!0},Q=this._delegatedListeners?this._delegatedListeners[D]:void 0;return Q&&(ae=>{for(let ve=0;ve<ae.length;ve++){const ke=ae[ve];if(ke.listener===b&&V(ke.layers,c)){for(const Te in ke.delegates)this.off(Te,ke.delegates[Te]);return ae.splice(ve,1),this}}})(Q),this}queryRenderedFeatures(D,c){return this.style?(c!==void 0||D===void 0||D instanceof n.pointGeometry||Array.isArray(D)||(c=D,D=void 0),this.style.queryRenderedFeatures(D=D||[[0,0],[this.transform.width,this.transform.height]],c=c||{},this.transform)):[]}querySourceFeatures(D,c){return this.style.querySourceFeatures(D,c)}setStyle(D,c){return(c=n.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},c)).diff!==!1&&c.localIdeographFontFamily===this._localIdeographFontFamily&&c.localFontFamily===this._localFontFamily&&this.style&&D?(this._diffStyle(D,c),this):(this._localIdeographFontFamily=c.localIdeographFontFamily,this._localFontFamily=c.localFontFamily,this._updateStyle(D,c))}_getUIString(D){const c=this._locale[D];if(c==null)throw new Error(`Missing UI string '${D}'`);return c}_updateStyle(D,c){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),D&&(this.style=new se(this,c||{}),this.style.setEventedParent(this,{style:this.style}),typeof D=="string"?this.style.loadURL(D):this.style.loadJSON(D)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new se(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(D,c){if(typeof D=="string"){const b=this._requestManager.normalizeStyleURL(D),V=this._requestManager.transformRequest(b,n.ResourceType.Style);n.getJSON(V,(Q,ae)=>{Q?this.fire(new n.ErrorEvent(Q)):ae&&this._updateDiff(ae,c)})}else typeof D=="object"&&this._updateDiff(D,c)}_updateDiff(D,c){try{this.style.setState(D)&&this._update(!0)}catch(b){n.warnOnce(`Unable to perform style diff: ${b.message||b.error||b}.  Rebuilding the style from scratch.`),this._updateStyle(D,c)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(n.warnOnce("There is no style added to the map."),!1)}addSource(D,c){return this._lazyInitEmptyStyle(),this.style.addSource(D,c),this._update(!0)}isSourceLoaded(D){return!!this.style&&this.style._isSourceCacheLoaded(D)}areTilesLoaded(){const D=this.style&&this.style._sourceCaches;for(const c in D){const b=D[c]._tiles;for(const V in b){const Q=b[V];if(Q.state!=="loaded"&&Q.state!=="errored")return!1}}return!0}addSourceType(D,c,b){this._lazyInitEmptyStyle(),this.style.addSourceType(D,c,b)}removeSource(D){return this.style.removeSource(D),this._updateTerrain(),this._update(!0)}getSource(D){return this.style.getSource(D)}addImage(D,c,{pixelRatio:b=1,sdf:V=!1,stretchX:Q,stretchY:ae,content:ve}={}){if(this._lazyInitEmptyStyle(),c instanceof n.window.HTMLImageElement||n.window.ImageBitmap&&c instanceof n.window.ImageBitmap){const{width:ke,height:Te,data:je}=n.exported.getImageData(c);this.style.addImage(D,{data:new n.RGBAImage({width:ke,height:Te},je),pixelRatio:b,stretchX:Q,stretchY:ae,content:ve,sdf:V,version:0})}else if(c.width===void 0||c.height===void 0)this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:ke,height:Te}=c,je=c;this.style.addImage(D,{data:new n.RGBAImage({width:ke,height:Te},new Uint8Array(je.data)),pixelRatio:b,stretchX:Q,stretchY:ae,content:ve,sdf:V,version:0,userImage:je}),je.onAdd&&je.onAdd(this,D)}}updateImage(D,c){const b=this.style.getImage(D);if(!b)return void this.fire(new n.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const V=c instanceof n.window.HTMLImageElement||n.window.ImageBitmap&&c instanceof n.window.ImageBitmap?n.exported.getImageData(c):c,{width:Q,height:ae}=V;Q!==void 0&&ae!==void 0?Q===b.data.width&&ae===b.data.height?(b.data.replace(V.data,!(c instanceof n.window.HTMLImageElement||n.window.ImageBitmap&&c instanceof n.window.ImageBitmap)),this.style.updateImage(D,b)):this.fire(new n.ErrorEvent(new Error(`The width and height of the updated image (${Q}, ${ae})
                must be that same as the previous version of the image
                (${b.data.width}, ${b.data.height})`))):this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(D){return D?!!this.style.getImage(D):(this.fire(new n.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(D){this.style.removeImage(D)}loadImage(D,c){n.getImage(this._requestManager.transformRequest(D,n.ResourceType.Image),(b,V)=>{c(b,V instanceof n.window.HTMLImageElement?n.exported.getImageData(V):V)})}listImages(){return this.style.listImages()}addLayer(D,c){return this._lazyInitEmptyStyle(),this.style.addLayer(D,c),this._update(!0)}moveLayer(D,c){return this.style.moveLayer(D,c),this._update(!0)}removeLayer(D){return this.style.removeLayer(D),this._update(!0)}getLayer(D){return this.style.getLayer(D)}setLayerZoomRange(D,c,b){return this.style.setLayerZoomRange(D,c,b),this._update(!0)}setFilter(D,c,b={}){return this.style.setFilter(D,c,b),this._update(!0)}getFilter(D){return this.style.getFilter(D)}setPaintProperty(D,c,b,V={}){return this.style.setPaintProperty(D,c,b,V),this._update(!0)}getPaintProperty(D,c){return this.style.getPaintProperty(D,c)}setLayoutProperty(D,c,b,V={}){return this.style.setLayoutProperty(D,c,b,V),this._update(!0)}getLayoutProperty(D,c){return this.style.getLayoutProperty(D,c)}setLight(D,c={}){return this._lazyInitEmptyStyle(),this.style.setLight(D,c),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(D){return this._lazyInitEmptyStyle(),!D&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(D),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(D){return this._lazyInitEmptyStyle(),this.style.setFog(D),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(D){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(n.LngLat.convert(D),this.transform):0}setFeatureState(D,c){return this.style.setFeatureState(D,c),this._update()}removeFeatureState(D,c){return this.style.removeFeatureState(D,c),this._update()}getFeatureState(D){return this.style.getFeatureState(D)}_updateContainerDimensions(){if(!this._container)return;const D=this._container.getBoundingClientRect().width||400,c=this._container.getBoundingClientRect().height||300;let b,V,Q,ae=this._container;for(;ae&&(!V||!Q);){const ve=n.window.getComputedStyle(ae).transform;ve&&ve!=="none"&&(b=ve.match(/matrix.*\((.+)\)/)[1].split(", "),b[0]&&b[0]!=="0"&&b[0]!=="1"&&(V=b[0]),b[3]&&b[3]!=="0"&&b[3]!=="1"&&(Q=b[3])),ae=ae.parentElement}this._containerWidth=V?Math.abs(D/V):D,this._containerHeight=Q?Math.abs(c/Q):c}_detectMissingCSS(){n.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&n.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const D=this._container;D.classList.add("mapboxgl-map"),(this._missingCSSCanary=H("div","mapboxgl-canary",D)).style.visibility="hidden",this._detectMissingCSS();const c=this._canvasContainer=H("div","mapboxgl-canvas-container",D);this._interactive&&c.classList.add("mapboxgl-interactive"),this._canvas=H("canvas","mapboxgl-canvas",c),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const b=this._controlContainer=H("div","mapboxgl-control-container",D),V=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(Q=>{V[Q]=H("div",`mapboxgl-ctrl-${Q}`,b)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(D,c){const b=n.exported.devicePixelRatio||1;this._canvas.width=b*Math.ceil(D),this._canvas.height=b*Math.ceil(c),this._canvas.style.width=`${D}px`,this._canvas.style.height=`${c}px`}_addMarker(D){this._markers.push(D)}_removeMarker(D){const c=this._markers.indexOf(D);c!==-1&&this._markers.splice(c,1)}_addPopup(D){this._popups.push(D)}_removePopup(D){const c=this._popups.indexOf(D);c!==-1&&this._popups.splice(c,1)}_setupPainter(){const D=n.extend({},j.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),c=this._canvas.getContext("webgl",D)||this._canvas.getContext("experimental-webgl",D);c?(n.storeAuthState(c,!0),this.painter=new Dr(c,this.transform),this.on("data",b=>{b.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),n.exported$1.testSupport(c)):this.fire(new n.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(D){D.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new n.Event("webglcontextlost",{originalEvent:D}))}_contextRestored(D){this._setupPainter(),this.resize(),this._update(),this.fire(new n.Event("webglcontextrestored",{originalEvent:D}))}_onMapScroll(D){if(D.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(D){return this.style?(this._styleDirty=this._styleDirty||D,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(D){return this._update(),this._renderTaskQueue.add(D)}_cancelRenderFrame(D){this._renderTaskQueue.remove(D)}_requestDomTask(D){!this.loaded()||this.loaded()&&!this.isMoving()?D():this._domRenderTaskQueue.add(D)}_render(D){let c;const b=this.painter.context.extTimerQuery,V=n.exported.now();if(this.listens("gpu-timing-frame")&&(c=b.createQueryEXT(),b.beginQueryEXT(b.TIME_ELAPSED_EXT,c)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],n.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],n.window.performance.now())),this._renderTaskQueue.run(D),this._domRenderTaskQueue.run(D),this._removed)return;this._updateProjectionTransition();const Q=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const ke=this.transform.zoom,Te=this.transform.pitch,je=n.exported.now(),Ne=new n.EvaluationParameters(ke,{now:je,fadeDuration:Q,pitch:Te,transition:this.style.getTransition()});this.style.update(Ne)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let ae=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),ae=this._updateAverageElevation(V),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):ae=this._updateAverageElevation(V),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,Q,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:Q,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new n.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new n.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),c){const ke=n.exported.now()-V;b.endQueryEXT(b.TIME_ELAPSED_EXT,c),setTimeout(()=>{const Te=b.getQueryObjectEXT(c,b.QUERY_RESULT_EXT)/1e6;b.deleteQueryEXT(c),this.fire(new n.Event("gpu-timing-frame",{cpuTime:ke,gpuTime:Te})),n.window.performance.mark("frame-gpu",{startTime:V,detail:{gpuTime:Te}})},50)}if(this.listens("gpu-timing-layer")){const ke=this.painter.collectGpuTimers();setTimeout(()=>{const Te=this.painter.queryGpuTimers(ke);this.fire(new n.Event("gpu-timing-layer",{layerTimes:Te}))},50)}if(this.listens("gpu-timing-deferred-render")){const ke=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const Te=this.painter.queryGpuTimeDeferredRender(ke);this.fire(new n.Event("gpu-timing-deferred-render",{gpuTime:Te}))},50)}const ve=this._sourcesDirty||this._styleDirty||this._placementDirty||ae;if(ve||this._repaint)this.triggerRepaint();else{const ke=!this.isMoving()&&this.loaded();if(ke&&(ae=this._updateAverageElevation(V,!0)),ae)this.triggerRepaint();else if(this._triggerFrame(!1),ke&&(this.fire(new n.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const Te=this._calculateSpeedIndex();this.fire(new n.Event("speedindexcompleted",{speedIndex:Te})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||ve||(this._fullyLoaded=!0,n.LivePerformanceUtils.mark(n.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&n.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(D){for(const c of this._markers)D&&!this.getRenderWorldCopies()&&(c._lngLat=c._lngLat.wrap()),c._update();for(const c of this._popups)!D||this.getRenderWorldCopies()||c._trackPointer||(c._lngLat=c._lngLat.wrap()),c._update()}_updateAverageElevation(D,c=!1){const b=V=>(this.transform.averageElevation=V,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&b(0);if((c||D-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(D)){const V=this.transform.averageElevation;let Q=this.transform.sampleAverageElevation(),ae=!1;this.transform.elevation&&(ae=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(Q)?Q=0:this._averageElevationLastSampledAt=D;const ve=Math.abs(V-Q);if(ve>1){if(this._isInitialLoad||ae)return this._averageElevation.jumpTo(Q),b(Q);this._averageElevation.easeTo(Q,D,300)}else if(ve>1e-4)return this._averageElevation.jumpTo(Q),b(Q)}return!!this._averageElevation.isEasing(D)&&b(this._averageElevation.getValue(D))}_authenticate(){n.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,D=>{if(D&&(D.message===n.AUTH_ERR_MSG||D.status===401)){const c=this.painter.context.gl;n.storeAuthState(c,!1),this._logoControl instanceof Pu&&this._logoControl._updateLogo(),c&&c.clear(c.DEPTH_BUFFER_BIT|c.COLOR_BUFFER_BIT|c.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new n.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),n.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const D=this._isDragging();this.painter.updateTerrain(this.style,D)}_calculateSpeedIndex(){const D=this.painter.canvasCopy(),c=this.painter.getCanvasCopiesAndTimestamps();c.timeStamps.push(performance.now());const b=this.painter.context.gl,V=b.createFramebuffer();function Q(ae){b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,ae,0);const ve=new Uint8Array(b.drawingBufferWidth*b.drawingBufferHeight*4);return b.readPixels(0,0,b.drawingBufferWidth,b.drawingBufferHeight,b.RGBA,b.UNSIGNED_BYTE,ve),ve}return b.bindFramebuffer(b.FRAMEBUFFER,V),this._canvasPixelComparison(Q(D),c.canvasCopies.map(Q),c.timeStamps)}_canvasPixelComparison(D,c,b){let V=b[1]-b[0];const Q=D.length/4;for(let ae=0;ae<c.length;ae++){const ve=c[ae];let ke=0;for(let Te=0;Te<ve.length;Te+=4)ve[Te]===D[Te]&&ve[Te+1]===D[Te+1]&&ve[Te+2]===D[Te+2]&&ve[Te+3]===D[Te+3]&&(ke+=1);V+=(b[ae+2]-b[ae+1])*(1-ke/Q)}return V}remove(){this._hash&&this._hash.remove();for(const c of this._controls)c.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),n.window!==void 0&&(n.window.removeEventListener("resize",this._onWindowResize,!1),n.window.removeEventListener("orientationchange",this._onWindowResize,!1),n.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),n.window.removeEventListener("online",this._onWindowOnline,!1),n.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const D=this.painter.context.gl.getExtension("WEBGL_lose_context");D&&D.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),n.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new n.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(D){this._renderNextFrame=this._renderNextFrame||D,this.style&&!this._frame&&(this._frame=n.exported.frame(c=>{const b=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,b&&this._render(c)}))}_preloadTiles(D){const c=this.style?Object.values(this.style._sourceCaches):[];return n.asyncAll(c,(b,V)=>b._preloadTiles(D,V),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(D){this._trackResize&&this.resize({originalEvent:D})._update()}_onVisibilityChange(){n.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(D){this._showTileBoundaries!==D&&(this._showTileBoundaries=D,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(D){this._showTerrainWireframe!==D&&(this._showTerrainWireframe=D,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(D){this._speedIndexTiming!==D&&(this._speedIndexTiming=D,this._update())}get showPadding(){return!!this._showPadding}set showPadding(D){this._showPadding!==D&&(this._showPadding=D,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(D){this._showCollisionBoxes!==D&&(this._showCollisionBoxes=D,D?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(D){this._showOverdrawInspector!==D&&(this._showOverdrawInspector=D,this._update())}get repaint(){return!!this._repaint}set repaint(D){this._repaint!==D&&(this._repaint=D,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(D){this._vertices=D,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(D){this._showTileAABBs!==D&&(this._showTileAABBs=D,D&&this._update())}_setCacheLimits(D,c){n.setCacheLimits(D,c)}get version(){return n.version}},NavigationControl:class{constructor(D){this.options=n.extend({},wh,D),this._container=H("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",c=>c.preventDefault()),this.options.showZoom&&(n.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",c=>{this._map&&this._map.zoomIn({},{originalEvent:c})}),H("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",c=>{this._map&&this._map.zoomOut({},{originalEvent:c})}),H("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(n.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",c=>{const b=this._map;b&&(this.options.visualizePitch?b.resetNorthPitch({},{originalEvent:c}):b.resetNorth({},{originalEvent:c}))}),this._compassIcon=H("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const D=this._map;if(!D)return;const c=D.getZoom(),b=c===D.getMaxZoom(),V=c===D.getMinZoom();this._zoomInButton.disabled=b,this._zoomOutButton.disabled=V,this._zoomInButton.setAttribute("aria-disabled",b.toString()),this._zoomOutButton.setAttribute("aria-disabled",V.toString())}_rotateCompassArrow(){const D=this._map;if(!D)return;const c=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(D.transform.pitch*(Math.PI/180)),.5)}) rotateX(${D.transform.pitch}deg) rotateZ(${D.transform.angle*(180/Math.PI)}deg)`:`rotate(${D.transform.angle*(180/Math.PI)}deg)`;D._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=c)})}onAdd(D){return this._map=D,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),D.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&D.on("pitch",this._rotateCompassArrow),D.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Sh(D,this._compass,this.options.visualizePitch)),this._container}onRemove(){const D=this._map;D&&(this._container.remove(),this.options.showZoom&&D.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&D.off("pitch",this._rotateCompassArrow),D.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(D,c){const b=H("button",D,this._container);return b.type="button",b.addEventListener("click",c),b}_setButtonTitle(D,c){if(!this._map)return;const b=this._map._getUIString(`NavigationControl.${c}`);D.setAttribute("aria-label",b),D.firstElementChild&&D.firstElementChild.setAttribute("title",b)}},GeolocateControl:class extends n.Evented{constructor(D){super(),this.options=n.extend({geolocation:n.window.navigator.geolocation},Kc,D),n.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Ms(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(D){return this._map=D,this._container=H("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(D){const c=(b=!!this.options.geolocation)=>{this._supportsGeolocation=b,D(b)};this._supportsGeolocation!==void 0?D(this._supportsGeolocation):n.window.navigator.permissions!==void 0?n.window.navigator.permissions.query({name:"geolocation"}).then(b=>c(b.state!=="denied")).catch(()=>c()):c()}_isOutOfMapMaxBounds(D){const c=this._map.getMaxBounds(),b=D.coords;return!!c&&(b.longitude<c.getWest()||b.longitude>c.getEast()||b.latitude<c.getSouth()||b.latitude>c.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(D){if(this._map){if(this._isOutOfMapMaxBounds(D))return this._setErrorState(),this.fire(new n.Event("outofmaxbounds",D)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=D,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(D),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(D),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("geolocate",D)),this._finish()}}_updateCamera(D){const c=new n.LngLat(D.coords.longitude,D.coords.latitude),b=D.coords.accuracy,V=this._map.getBearing(),Q=n.extend({bearing:V},this.options.fitBoundsOptions);this._map.fitBounds(c.toBounds(b),Q,{geolocateSource:!0})}_updateMarker(D){if(D){const c=new n.LngLat(D.coords.longitude,D.coords.latitude);this._accuracyCircleMarker.setLngLat(c).addTo(this._map),this._userLocationDotMarker.setLngLat(c).addTo(this._map),this._accuracy=D.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const D=this._map.transform,c=n.mercatorZfromAltitude(1,D._center.lat)*D.worldSize,b=Math.ceil(2*this._accuracy*c);this._circleElement.style.width=`${b}px`,this._circleElement.style.height=`${b}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(D){if(this._map){if(this.options.trackUserLocation)if(D.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(D.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("error",D)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(D){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",c=>c.preventDefault()),this._geolocateButton=H("button","mapboxgl-ctrl-geolocate",this._container),H("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",D===!1){n.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c)}else{const c=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=H("div","mapboxgl-user-location"),this._dotElement.appendChild(H("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(H("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new Gs({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=H("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Gs({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",c=>{c.geolocateSource||this._watchState!=="ACTIVE_LOCK"||c.originalEvent&&c.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new n.Event("trackuserlocationend")))})}}_onDeviceOrientation(D){this._userLocationDotMarker&&(D.webkitCompassHeading?this._heading=D.webkitCompassHeading:D.absolute===!0&&(this._heading=-1*D.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return n.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new n.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new n.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new n.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let D;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(D={maximumAge:6e5,timeout:0},this._noTimeout=!0):(D=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,D),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const D=()=>{n.window.addEventListener("ondeviceorientationabsolute"in n.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};n.window.DeviceMotionEvent!==void 0&&typeof n.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(c=>{c==="granted"&&D()}).catch(console.error):D()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),n.window.removeEventListener("deviceorientation",this._onDeviceOrientation),n.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Tu,ScaleControl:class{constructor(D){this.options=n.extend({},Ou,D),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch{return!1}}()||(this._setScale=kh.bind(this)),n.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const D=this.options.maxWidth||100,c=this._map,b=c._containerHeight/2,V=c._containerWidth/2-D/2,Q=c.unproject([V,b]),ae=c.unproject([V+D,b]),ve=Q.distanceTo(ae);if(this.options.unit==="imperial"){const ke=3.2808*ve;ke>5280?this._setScale(D,ke/5280,"mile"):this._setScale(D,ke,"foot")}else this.options.unit==="nautical"?this._setScale(D,ve/1852,"nautical-mile"):ve>=1e3?this._setScale(D,ve/1e3,"kilometer"):this._setScale(D,ve,"meter")}_setScale(D,c,b){const V=Ru(c),Q=V/c;this._map._requestDomTask(()=>{this._container.style.width=D*Q+"px",this._container.innerHTML=b!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:b}).format(V):`${V}&nbsp;nm`})}onAdd(D){return this._map=D,this._language=D.getLanguage(),this._container=H("div","mapboxgl-ctrl mapboxgl-ctrl-scale",D.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(D){this._language=D,this._update()}setUnit(D){this.options.unit=D,this._update()}},FullscreenControl:class{constructor(D){this._fullscreen=!1,D&&D.container&&(D.container instanceof n.window.HTMLElement?this._container=D.container:n.warnOnce("Full screen control 'container' must be a DOM element.")),n.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in n.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in n.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(D){return this._map=D,this._container||(this._container=this._map.getContainer()),this._controlContainer=H("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",n.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,n.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!n.window.document.fullscreenEnabled&&!n.window.document.webkitFullscreenEnabled)}_setupUI(){const D=this._fullscreenButton=H("button","mapboxgl-ctrl-fullscreen",this._controlContainer);H("span","mapboxgl-ctrl-icon",D).setAttribute("aria-hidden","true"),D.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),n.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const D=this._getTitle();this._fullscreenButton.setAttribute("aria-label",D),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",D)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(n.window.document.fullscreenElement||n.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?n.window.document.exitFullscreen?n.window.document.exitFullscreen():n.window.document.webkitCancelFullScreen&&n.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends n.Evented{constructor(D){super(),this.options=n.extend(Object.create(Zc),D),n.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(D&&D.className?D.className.trim().split(/\s+/):[])}addTo(D){return this._map&&this.remove(),this._map=D,this.options.closeOnClick&&D.on("preclick",this._onClose),this.options.closeOnMove&&D.on("move",this._onClose),D.on("remove",this.remove),this._update(),D._addPopup(this),this._focusFirstElement(),this._trackPointer?(D.on("mousemove",this._onMouseEvent),D.on("mouseup",this._onMouseEvent),D._canvasContainer.classList.add("mapboxgl-track-pointer")):D.on("move",this._update),this.fire(new n.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const D=this._map;return D&&(D.off("move",this._update),D.off("move",this._onClose),D.off("preclick",this._onClose),D.off("click",this._onClose),D.off("remove",this.remove),D.off("mousemove",this._onMouseEvent),D.off("mouseup",this._onMouseEvent),D.off("drag",this._onMouseEvent),D._canvasContainer&&D._canvasContainer.classList.remove("mapboxgl-track-pointer"),D._removePopup(this),this._map=void 0),this.fire(new n.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(D){this._lngLat=n.LngLat.convert(D),this._pos=null,this._trackPointer=!1,this._update();const c=this._map;return c&&(c.on("move",this._update),c.off("mousemove",this._onMouseEvent),c._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const D=this._map;return D&&(D.off("move",this._update),D.on("mousemove",this._onMouseEvent),D.on("drag",this._onMouseEvent),D._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(D){return this.setDOMContent(n.window.document.createTextNode(D))}setHTML(D){const c=n.window.document.createDocumentFragment(),b=n.window.document.createElement("body");let V;for(b.innerHTML=D;V=b.firstChild,V;)c.appendChild(V);return this.setDOMContent(c)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(D){return this.options.maxWidth=D,this._update(),this}setDOMContent(D){let c=this._content;if(c)for(;c.hasChildNodes();)c.firstChild&&c.removeChild(c.firstChild);else c=this._content=H("div","mapboxgl-popup-content",this._container||void 0);if(c.appendChild(D),this.options.closeButton){const b=this._closeButton=H("button","mapboxgl-popup-close-button",c);b.type="button",b.setAttribute("aria-label","Close popup"),b.setAttribute("aria-hidden","true"),b.innerHTML="&#215;",b.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(D){return this._classList.add(D),this._updateClassList(),this}removeClassName(D){return this._classList.delete(D),this._updateClassList(),this}setOffset(D){return this.options.offset=D,this._update(),this}toggleClassName(D){let c;return this._classList.delete(D)?c=!1:(this._classList.add(D),c=!0),this._updateClassList(),c}_onMouseEvent(D){this._update(D.point)}_getAnchor(D){if(this.options.anchor)return this.options.anchor;const c=this._map,b=this._container,V=this._pos;if(!c||!b||!V)return"bottom";const Q=b.offsetWidth,ae=b.offsetHeight,ve=V.x<Q/2,ke=V.x>c.transform.width-Q/2;if(V.y+D<ae)return ve?"top-left":ke?"top-right":"top";if(V.y>c.transform.height-ae){if(ve)return"bottom-left";if(ke)return"bottom-right"}return ve?"left":ke?"right":"bottom"}_updateClassList(){const D=this._container;if(!D)return;const c=[...this._classList];c.push("mapboxgl-popup"),this._anchor&&c.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&c.push("mapboxgl-popup-track-pointer"),D.className=c.join(" ")}_update(D){const c=this._map,b=this._content;if(!c||!this._lngLat&&!this._trackPointer||!b)return;let V=this._container;if(V||(V=this._container=H("div","mapboxgl-popup",c.getContainer()),this._tip=H("div","mapboxgl-popup-tip",V),V.appendChild(b)),this.options.maxWidth&&V.style.maxWidth!==this.options.maxWidth&&(V.style.maxWidth=this.options.maxWidth),c.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Iu(this._lngLat,this._pos,c.transform)),!this._trackPointer||D){const Q=this._pos=this._trackPointer&&D?D:c.project(this._lngLat),ae=bs(this.options.offset),ve=this._anchor=this._getAnchor(ae.y),ke=bs(this.options.offset,ve),Te=Q.add(ke).round();c._requestDomTask(()=>{this._container&&ve&&(this._container.style.transform=`${cc[ve]} translate(${Te.x}px,${Te.y}px)`)})}if(!this._marker&&c._showingGlobe()){const Q=n.isLngLatBehindGlobe(c.transform,this._lngLat)?0:1;this._setOpacity(Q)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const D=this._container.querySelector(vh);D&&D.focus()}_onClose(){this.remove()}_setOpacity(D){this._container&&(this._container.style.opacity=`${D}`),this._content&&(this._content.style.pointerEvents=D?"auto":"none")}},Marker:Gs,Style:se,LngLat:n.LngLat,LngLatBounds:n.LngLatBounds,Point:n.pointGeometry,MercatorCoordinate:n.MercatorCoordinate,FreeCameraOptions:Me,Evented:n.Evented,config:n.config,prewarm:function(){si().acquire(er)},clearPrewarmedResources:function(){const D=Ki;D&&(D.isPreloaded()&&D.numActive()===1?(D.release(er),Ki=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return n.config.ACCESS_TOKEN},set accessToken(D){n.config.ACCESS_TOKEN=D},get baseApiUrl(){return n.config.API_URL},set baseApiUrl(D){n.config.API_URL=D},get workerCount(){return oi.workerCount},set workerCount(D){oi.workerCount=D},get maxParallelImageRequests(){return n.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(D){n.config.MAX_PARALLEL_IMAGE_REQUESTS=D},clearStorage(D){n.clearTileCache(D)},workerUrl:"",workerClass:null,setNow:n.exported.setNow,restoreNow:n.exported.restoreNow};return Hl});var d=o;return d})})(mapboxGl);var mapboxGlExports=mapboxGl.exports;const mapboxgl=getDefaultExportFromCjs(mapboxGlExports);var immutable=extend$5,hasOwnProperty=Object.prototype.hasOwnProperty;function extend$5(){for(var e={},t=0;t<arguments.length;t++){var i=arguments[t];for(var a in i)hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e}var fuzzy$1={exports:{}};(function(e,t){(function(){var i={};e.exports=i,i.simpleFilter=function(a,o){return o.filter(function(u){return i.test(a,u)})},i.test=function(a,o){return i.match(a,o)!==null},i.match=function(a,o,u){u=u||{};var d=0,n=[],k=o.length,j=0,Z=0,z=u.pre||"",H=u.post||"",Y=u.caseSensitive&&o||o.toLowerCase(),I;a=u.caseSensitive&&a||a.toLowerCase();for(var B=0;B<k;B++)I=o[B],Y[B]===a[d]?(I=z+I+H,d+=1,Z+=1+Z):Z=0,j+=Z,n[n.length]=I;return d===a.length?(j=Y===a?1/0:j,{rendered:n.join(""),score:j}):null},i.filter=function(a,o,u){return!o||o.length===0?[]:typeof a!="string"?o:(u=u||{},o.reduce(function(d,n,k,j){var Z=n;u.extract&&(Z=u.extract(n));var z=i.match(a,Z,u);return z!=null&&(d[d.length]={string:z.rendered,score:z.score,index:k,original:n}),d},[]).sort(function(d,n){var k=n.score-d.score;return k||d.index-n.index}))}})()})(fuzzy$1);var fuzzyExports=fuzzy$1.exports,List$1=function(e){return this.component=e,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};List$1.prototype.show=function(){this.element.style.display="block"};List$1.prototype.hide=function(){this.element.style.display="none"};List$1.prototype.add=function(e){this.items.push(e)};List$1.prototype.clear=function(){this.items=[],this.active=0};List$1.prototype.isEmpty=function(){return!this.items.length};List$1.prototype.isVisible=function(){return this.element.style.display==="block"};List$1.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()};List$1.prototype.drawItem=function(e,t){var i=document.createElement("li"),a=document.createElement("a");t&&(i.className+=" active"),a.innerHTML=e.string,i.appendChild(a),this.element.appendChild(i),i.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),i.addEventListener("mouseup",(function(){this.handleMouseUp.call(this,e)}).bind(this))};List$1.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()};List$1.prototype.move=function(e){this.active=e,this.draw()};List$1.prototype.previous=function(){this.move(this.active===0?this.items.length-1:this.active-1)};List$1.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)};List$1.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()};var list=List$1,extend$4=immutable,fuzzy=fuzzyExports,List=list,Suggestions$1=function(e,t,i){return i=i||{},this.options=extend$4({minLength:2,limit:5,filter:!0,hideOnBlur:!0},i),this.el=e,this.data=t||[],this.list=new List(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",(function(a){this.handleKeyUp(a.keyCode)}).bind(this),!1),this.el.addEventListener("keydown",(function(a){this.handleKeyDown(a)}).bind(this)),this.el.addEventListener("focus",(function(){this.handleFocus()}).bind(this)),this.el.addEventListener("blur",(function(){this.handleBlur()}).bind(this)),this.el.addEventListener("paste",(function(a){this.handlePaste(a)}).bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};Suggestions$1.prototype.handleKeyUp=function(e){e===40||e===38||e===27||e===13||e===9||this.handleInputChange(this.el.value)};Suggestions$1.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}};Suggestions$1.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()};Suggestions$1.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var t=this;setTimeout(function(){t.handleInputChange(e.target.value)},100)}};Suggestions$1.prototype.handleInputChange=function(e){if(this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates((function(t){for(var i=0;i<t.length&&(this.list.add(t[i]),i!==this.options.limit-1);i++);this.list.draw()}).bind(this))};Suggestions$1.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1};Suggestions$1.prototype.update=function(e){this.data=e,this.handleKeyUp()};Suggestions$1.prototype.clear=function(){this.data=[],this.list.clear()};Suggestions$1.prototype.normalize=function(e){return e=e.toLowerCase(),e};Suggestions$1.prototype.match=function(e,t){return e.indexOf(t)>-1};Suggestions$1.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e),document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.el.dispatchEvent(t)}else this.el.fireEvent("onchange")};Suggestions$1.prototype.getCandidates=function(e){var t={pre:"<strong>",post:"</strong>",extract:(function(a){return this.getItemValue(a)}).bind(this)},i;this.options.filter?(i=fuzzy.filter(this.query,this.data,t),i=i.map((function(a){return{original:a.original,string:this.render(a.original,a.string)}}).bind(this))):i=this.data.map((function(a){var o=this.render(a);return{original:a,string:o}}).bind(this)),e(i)};Suggestions$1.prototype.getItemValue=function(e){return e};Suggestions$1.prototype.render=function(e,t){if(t)return t;for(var i=e.original?this.getItemValue(e.original):this.getItemValue(e),a=this.normalize(i),o=a.lastIndexOf(this.query);o>-1;){var u=o+this.query.length;i=i.slice(0,o)+"<strong>"+i.slice(o,u)+"</strong>"+i.slice(u),o=a.slice(0,o).lastIndexOf(this.query)}return i};Suggestions$1.prototype.renderError=function(e){this.list.drawError(e)};var suggestions$1=Suggestions$1,Suggestions=suggestions$1,suggestions=Suggestions;typeof window<"u"&&(window.Suggestions=Suggestions);var FUNC_ERROR_TEXT="Expected a function",NAN=0/0,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max,nativeMin=Math.min,now$1=function(){return root.Date.now()};function debounce$1(e,t,i){var a,o,u,d,n,k,j=0,Z=!1,z=!1,H=!0;if(typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT);t=toNumber(t)||0,isObject$3(i)&&(Z=!!i.leading,z="maxWait"in i,u=z?nativeMax(toNumber(i.maxWait)||0,t):u,H="trailing"in i?!!i.trailing:H);function Y(N){var ne=a,K=o;return a=o=void 0,j=N,d=e.apply(K,ne),d}function I(N){return j=N,n=setTimeout(T,t),Z?Y(N):d}function B(N){var ne=N-k,K=N-j,L=t-ne;return z?nativeMin(L,u-K):L}function U(N){var ne=N-k,K=N-j;return k===void 0||ne>=t||ne<0||z&&K>=u}function T(){var N=now$1();if(U(N))return C(N);n=setTimeout(T,B(N))}function C(N){return n=void 0,H&&a?Y(N):(a=o=void 0,d)}function P(){n!==void 0&&clearTimeout(n),j=0,a=k=o=n=void 0}function G(){return n===void 0?d:C(now$1())}function q(){var N=now$1(),ne=U(N);if(a=arguments,o=this,k=N,ne){if(n===void 0)return I(k);if(z)return n=setTimeout(T,t),Y(k)}return n===void 0&&(n=setTimeout(T,t)),d}return q.cancel=P,q.flush=G,q}function isObject$3(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function isObjectLike(e){return!!e&&typeof e=="object"}function isSymbol(e){return typeof e=="symbol"||isObjectLike(e)&&objectToString.call(e)==symbolTag}function toNumber(e){if(typeof e=="number")return e;if(isSymbol(e))return NAN;if(isObject$3(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=isObject$3(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(reTrim,"");var i=reIsBinary.test(e);return i||reIsOctal.test(e)?freeParseInt(e.slice(2),i?2:8):reIsBadHex.test(e)?NAN:+e}var lodash_debounce=debounce$1,events$3={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function(t,i,a){return Function.prototype.apply.call(t,i,a)},ReflectOwnKeys;R&&typeof R.ownKeys=="function"?ReflectOwnKeys=R.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:ReflectOwnKeys=function(t){return Object.getOwnPropertyNames(t)};function ProcessEmitWarning(e){console&&console.warn&&console.warn(e)}var NumberIsNaN=Number.isNaN||function(t){return t!==t};function EventEmitter$2(){EventEmitter$2.init.call(this)}events$3.exports=EventEmitter$2;events$3.exports.once=once;EventEmitter$2.EventEmitter=EventEmitter$2;EventEmitter$2.prototype._events=void 0;EventEmitter$2.prototype._eventsCount=0;EventEmitter$2.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(EventEmitter$2,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if(typeof e!="number"||e<0||NumberIsNaN(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");defaultMaxListeners=e}});EventEmitter$2.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter$2.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||NumberIsNaN(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function _getMaxListeners(e){return e._maxListeners===void 0?EventEmitter$2.defaultMaxListeners:e._maxListeners}EventEmitter$2.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter$2.prototype.emit=function(t){for(var i=[],a=1;a<arguments.length;a++)i.push(arguments[a]);var o=t==="error",u=this._events;if(u!==void 0)o=o&&u.error===void 0;else if(!o)return!1;if(o){var d;if(i.length>0&&(d=i[0]),d instanceof Error)throw d;var n=new Error("Unhandled error."+(d?" ("+d.message+")":""));throw n.context=d,n}var k=u[t];if(k===void 0)return!1;if(typeof k=="function")ReflectApply(k,this,i);else for(var j=k.length,Z=arrayClone(k,j),a=0;a<j;++a)ReflectApply(Z[a],this,i);return!0};function _addListener(e,t,i,a){var o,u,d;if(checkListener(i),u=e._events,u===void 0?(u=e._events=Object.create(null),e._eventsCount=0):(u.newListener!==void 0&&(e.emit("newListener",t,i.listener?i.listener:i),u=e._events),d=u[t]),d===void 0)d=u[t]=i,++e._eventsCount;else if(typeof d=="function"?d=u[t]=a?[i,d]:[d,i]:a?d.unshift(i):d.push(i),o=_getMaxListeners(e),o>0&&d.length>o&&!d.warned){d.warned=!0;var n=new Error("Possible EventEmitter memory leak detected. "+d.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");n.name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=d.length,ProcessEmitWarning(n)}return e}EventEmitter$2.prototype.addListener=function(t,i){return _addListener(this,t,i,!1)};EventEmitter$2.prototype.on=EventEmitter$2.prototype.addListener;EventEmitter$2.prototype.prependListener=function(t,i){return _addListener(this,t,i,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,t,i){var a={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},o=onceWrapper.bind(a);return o.listener=i,a.wrapFn=o,o}EventEmitter$2.prototype.once=function(t,i){return checkListener(i),this.on(t,_onceWrap(this,t,i)),this};EventEmitter$2.prototype.prependOnceListener=function(t,i){return checkListener(i),this.prependListener(t,_onceWrap(this,t,i)),this};EventEmitter$2.prototype.removeListener=function(t,i){var a,o,u,d,n;if(checkListener(i),o=this._events,o===void 0)return this;if(a=o[t],a===void 0)return this;if(a===i||a.listener===i)--this._eventsCount===0?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,a.listener||i));else if(typeof a!="function"){for(u=-1,d=a.length-1;d>=0;d--)if(a[d]===i||a[d].listener===i){n=a[d].listener,u=d;break}if(u<0)return this;u===0?a.shift():spliceOne(a,u),a.length===1&&(o[t]=a[0]),o.removeListener!==void 0&&this.emit("removeListener",t,n||i)}return this};EventEmitter$2.prototype.off=EventEmitter$2.prototype.removeListener;EventEmitter$2.prototype.removeAllListeners=function(t){var i,a,o;if(a=this._events,a===void 0)return this;if(a.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):a[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete a[t]),this;if(arguments.length===0){var u=Object.keys(a),d;for(o=0;o<u.length;++o)d=u[o],d!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(i=a[t],typeof i=="function")this.removeListener(t,i);else if(i!==void 0)for(o=i.length-1;o>=0;o--)this.removeListener(t,i[o]);return this};function _listeners(e,t,i){var a=e._events;if(a===void 0)return[];var o=a[t];return o===void 0?[]:typeof o=="function"?i?[o.listener||o]:[o]:i?unwrapListeners(o):arrayClone(o,o.length)}EventEmitter$2.prototype.listeners=function(t){return _listeners(this,t,!0)};EventEmitter$2.prototype.rawListeners=function(t){return _listeners(this,t,!1)};EventEmitter$2.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):listenerCount.call(e,t)};EventEmitter$2.prototype.listenerCount=listenerCount;function listenerCount(e){var t=this._events;if(t!==void 0){var i=t[e];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0}EventEmitter$2.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(e,t){for(var i=new Array(t),a=0;a<t;++a)i[a]=e[a];return i}function spliceOne(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function unwrapListeners(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}function once(e,t){return new Promise(function(i,a){function o(d){e.removeListener(t,u),a(d)}function u(){typeof e.removeListener=="function"&&e.removeListener("error",o),i([].slice.call(arguments))}eventTargetAgnosticAddListener(e,t,u,{once:!0}),t!=="error"&&addErrorHandlerIfEventEmitter(e,o,{once:!0})})}function addErrorHandlerIfEventEmitter(e,t,i){typeof e.on=="function"&&eventTargetAgnosticAddListener(e,"error",t,i)}function eventTargetAgnosticAddListener(e,t,i,a){if(typeof e.on=="function")a.once?e.once(t,i):e.on(t,i);else if(typeof e.addEventListener=="function")e.addEventListener(t,function o(u){a.once&&e.removeEventListener(t,o),i(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var eventsExports=events$3.exports,exceptions$1={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}};function parseParam(e){var t=e.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return t?{key:t[1],value:t[2]}:null}function parseLink(e){var t=e.match(/<?([^>]*)>(.*)/);if(!t)return null;var i=t[1],a=t[2].split(";"),o=null,u=a.reduce(function(d,n){var k=parseParam(n);return k?k.key==="rel"?(o||(o=k.value),d):(d[k.key]=k.value,d):d},{});return o?{url:i,rel:o,params:u}:null}function parseLinkHeader$1(e){return e?e.split(/,\s*</).reduce(function(t,i){var a=parseLink(i);if(!a)return t;var o=a.rel.split(/\s+/);return o.forEach(function(u){t[u]||(t[u]={url:a.url,params:a.params})}),t},{}):{}}var parseLinkHeader_1=parseLinkHeader$1,parseLinkHeader=parseLinkHeader_1;function MapiResponse$1(e,t){this.request=e,this.headers=t.headers,this.rawBody=t.body,this.statusCode=t.statusCode;try{this.body=JSON.parse(t.body||"{}")}catch{this.body=t.body}this.links=parseLinkHeader(this.headers.link)}MapiResponse$1.prototype.hasNextPage=function(){return!!this.links.next};MapiResponse$1.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null};var mapiResponse=MapiResponse$1,constants$4={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"},constants$3=constants$4;function MapiError$1(e){var t=e.type||constants$3.ERROR_HTTP,i;if(e.body)try{i=JSON.parse(e.body)}catch{i=e.body}else i=null;var a=e.message||null;a||(typeof i=="string"?a=i:i&&typeof i.message=="string"?a=i.message:t===constants$3.ERROR_REQUEST_ABORTED&&(a="Request aborted")),this.message=a,this.type=t,this.statusCode=e.statusCode||null,this.request=e.request,this.body=i}var mapiError=MapiError$1;function parseSingleHeader(e){var t=e.indexOf(":"),i=e.substring(0,t).trim().toLowerCase(),a=e.substring(t+1).trim();return{name:i,value:a}}function parseHeaders$1(e){var t={};return e&&e.trim().split(/[\r|\n]+/).forEach(function(i){var a=parseSingleHeader(i);t[a.name]=a.value}),t}var parseHeaders_1=parseHeaders$1,MapiResponse=mapiResponse,MapiError=mapiError,constants$2=constants$4,parseHeaders=parseHeaders_1,requestsUnderway={};function browserAbort(e){var t=requestsUnderway[e.id];t&&(t.abort(),delete requestsUnderway[e.id])}function createResponse(e,t){return new MapiResponse(e,{body:t.response,headers:parseHeaders(t.getAllResponseHeaders()),statusCode:t.status})}function normalizeBrowserProgressEvent(e){var t=e.total,i=e.loaded,a=100*i/t;return{total:t,transferred:i,percent:a}}function sendRequestXhr(e,t){return new Promise(function(i,a){t.onprogress=function(d){e.emitter.emit(constants$2.EVENT_PROGRESS_DOWNLOAD,normalizeBrowserProgressEvent(d))};var o=e.file;o&&(t.upload.onprogress=function(d){e.emitter.emit(constants$2.EVENT_PROGRESS_UPLOAD,normalizeBrowserProgressEvent(d))}),t.onerror=function(d){a(d)},t.onabort=function(){var d=new MapiError({request:e,type:constants$2.ERROR_REQUEST_ABORTED});a(d)},t.onload=function(){if(delete requestsUnderway[e.id],t.status<200||t.status>=400){var d=new MapiError({request:e,body:t.response,statusCode:t.status});a(d);return}i(t)};var u=e.body;typeof u=="string"?t.send(u):u?t.send(JSON.stringify(u)):o?t.send(o):t.send(),requestsUnderway[e.id]=t}).then(function(i){return createResponse(e,i)})}function createRequestXhr(e,t){var i=e.url(t),a=new window.XMLHttpRequest;return a.open(e.method,i),Object.keys(e.headers).forEach(function(o){a.setRequestHeader(o,e.headers[o])}),a}function browserSend(e){return Promise.resolve().then(function(){var t=createRequestXhr(e,e.client.accessToken);return sendRequestXhr(e,t)})}var browserLayer={browserAbort,sendRequestXhr,browserSend,createRequestXhr},base64$1={exports:{}};/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */base64$1.exports;(function(e,t){(function(i){var a=t,o=e&&e.exports==a&&e,u=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1;(u.global===u||u.window===u)&&(i=u);var d=function(I){this.message=I};d.prototype=new Error,d.prototype.name="InvalidCharacterError";var n=function(I){throw new d(I)},k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=/[\t\n\f\r ]/g,Z=function(I){I=String(I).replace(j,"");var B=I.length;B%4==0&&(I=I.replace(/==?$/,""),B=I.length),(B%4==1||/[^+a-zA-Z0-9/]/.test(I))&&n("Invalid character: the string to be decoded is not correctly encoded.");for(var U=0,T,C,P="",G=-1;++G<B;)C=k.indexOf(I.charAt(G)),T=U%4?T*64+C:C,U++%4&&(P+=String.fromCharCode(255&T>>(-2*U&6)));return P},z=function(I){I=String(I),/[^\0-\xFF]/.test(I)&&n("The string to be encoded contains characters outside of the Latin1 range.");for(var B=I.length%3,U="",T=-1,C,P,G,q,N=I.length-B;++T<N;)C=I.charCodeAt(T)<<16,P=I.charCodeAt(++T)<<8,G=I.charCodeAt(++T),q=C+P+G,U+=k.charAt(q>>18&63)+k.charAt(q>>12&63)+k.charAt(q>>6&63)+k.charAt(q&63);return B==2?(C=I.charCodeAt(T)<<8,P=I.charCodeAt(++T),q=C+P,U+=k.charAt(q>>10)+k.charAt(q>>4&63)+k.charAt(q<<2&63)+"="):B==1&&(q=I.charCodeAt(T),U+=k.charAt(q>>2)+k.charAt(q<<4&63)+"=="),U},H={encode:z,decode:Z,version:"0.1.0"};if(a&&!a.nodeType)if(o)o.exports=H;else for(var Y in H)H.hasOwnProperty(Y)&&(a[Y]=H[Y]);else i.base64=H})(commonjsGlobal$1)})(base64$1,base64$1.exports);var base64Exports=base64$1.exports,base64=base64Exports,tokenCache={};function parseToken$2(e){if(tokenCache[e])return tokenCache[e];var t=e.split("."),i=t[0],a=t[1];if(!a)throw new Error("Invalid token");var o=parsePaylod(a),u={usage:i,user:o.u};return has(o,"a")&&(u.authorization=o.a),has(o,"exp")&&(u.expires=o.exp*1e3),has(o,"iat")&&(u.created=o.iat*1e3),has(o,"scopes")&&(u.scopes=o.scopes),has(o,"client")&&(u.client=o.client),has(o,"ll")&&(u.lastLogin=o.ll),has(o,"iu")&&(u.impersonator=o.iu),tokenCache[e]=u,u}function parsePaylod(e){try{return JSON.parse(base64.decode(e))}catch{throw new Error("Invalid token")}}function has(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var parseMapboxToken=parseToken$2,eventemitter3={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,i="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(i=!1));function o(k,j,Z){this.fn=k,this.context=j,this.once=Z||!1}function u(k,j,Z,z,H){if(typeof Z!="function")throw new TypeError("The listener must be a function");var Y=new o(Z,z||k,H),I=i?i+j:j;return k._events[I]?k._events[I].fn?k._events[I]=[k._events[I],Y]:k._events[I].push(Y):(k._events[I]=Y,k._eventsCount++),k}function d(k,j){--k._eventsCount===0?k._events=new a:delete k._events[j]}function n(){this._events=new a,this._eventsCount=0}n.prototype.eventNames=function(){var j=[],Z,z;if(this._eventsCount===0)return j;for(z in Z=this._events)t.call(Z,z)&&j.push(i?z.slice(1):z);return Object.getOwnPropertySymbols?j.concat(Object.getOwnPropertySymbols(Z)):j},n.prototype.listeners=function(j){var Z=i?i+j:j,z=this._events[Z];if(!z)return[];if(z.fn)return[z.fn];for(var H=0,Y=z.length,I=new Array(Y);H<Y;H++)I[H]=z[H].fn;return I},n.prototype.listenerCount=function(j){var Z=i?i+j:j,z=this._events[Z];return z?z.fn?1:z.length:0},n.prototype.emit=function(j,Z,z,H,Y,I){var B=i?i+j:j;if(!this._events[B])return!1;var U=this._events[B],T=arguments.length,C,P;if(U.fn){switch(U.once&&this.removeListener(j,U.fn,void 0,!0),T){case 1:return U.fn.call(U.context),!0;case 2:return U.fn.call(U.context,Z),!0;case 3:return U.fn.call(U.context,Z,z),!0;case 4:return U.fn.call(U.context,Z,z,H),!0;case 5:return U.fn.call(U.context,Z,z,H,Y),!0;case 6:return U.fn.call(U.context,Z,z,H,Y,I),!0}for(P=1,C=new Array(T-1);P<T;P++)C[P-1]=arguments[P];U.fn.apply(U.context,C)}else{var G=U.length,q;for(P=0;P<G;P++)switch(U[P].once&&this.removeListener(j,U[P].fn,void 0,!0),T){case 1:U[P].fn.call(U[P].context);break;case 2:U[P].fn.call(U[P].context,Z);break;case 3:U[P].fn.call(U[P].context,Z,z);break;case 4:U[P].fn.call(U[P].context,Z,z,H);break;default:if(!C)for(q=1,C=new Array(T-1);q<T;q++)C[q-1]=arguments[q];U[P].fn.apply(U[P].context,C)}}return!0},n.prototype.on=function(j,Z,z){return u(this,j,Z,z,!1)},n.prototype.once=function(j,Z,z){return u(this,j,Z,z,!0)},n.prototype.removeListener=function(j,Z,z,H){var Y=i?i+j:j;if(!this._events[Y])return this;if(!Z)return d(this,Y),this;var I=this._events[Y];if(I.fn)I.fn===Z&&(!H||I.once)&&(!z||I.context===z)&&d(this,Y);else{for(var B=0,U=[],T=I.length;B<T;B++)(I[B].fn!==Z||H&&!I[B].once||z&&I[B].context!==z)&&U.push(I[B]);U.length?this._events[Y]=U.length===1?U[0]:U:d(this,Y)}return this},n.prototype.removeAllListeners=function(j){var Z;return j?(Z=i?i+j:j,this._events[Z]&&d(this,Z)):(this._events=new a,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=i,n.EventEmitter=n,e.exports=n})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;function encodeArray(e){return e.map(encodeURIComponent).join(",")}function encodeValue(e){return Array.isArray(e)?encodeArray(e):encodeURIComponent(String(e))}function appendQueryParam(e,t,i){if(i===!1||i===null)return e;var a=/\?/.test(e)?"&":"?",o=encodeURIComponent(t);return i!==void 0&&i!==""&&i!==!0&&(o+="="+encodeValue(i)),""+e+a+o}function appendQueryObject(e,t){if(!t)return e;var i=e;return Object.keys(t).forEach(function(a){var o=t[a];o!==void 0&&(Array.isArray(o)&&(o=o.filter(function(u){return u!=null}).join(",")),i=appendQueryParam(i,a,o))}),i}function prependOrigin(e,t){if(!t||e.slice(0,4)==="http")return e;var i=e[0]==="/"?"":"/";return""+t.replace(/\/$/,"")+i+e}function interpolateRouteParams(e,t){return t?e.replace(/\/:([a-zA-Z0-9]+)/g,function(i,a){var o=t[a];if(o===void 0)throw new Error("Unspecified route parameter "+a);var u=encodeValue(o);return"/"+u}):e}var urlUtils$1={appendQueryObject,appendQueryParam,prependOrigin,interpolateRouteParams},parseToken$1=parseMapboxToken,xtend$3=immutable,EventEmitter$1=eventemitter3Exports,urlUtils=urlUtils$1,constants$1=constants$4,requestId=1;function MapiRequest$1(e,t){if(!e)throw new Error("MapiRequest requires a client");if(!t||!t.path||!t.method)throw new Error("MapiRequest requires an options object with path and method properties");var i={};t.body&&(i["content-type"]="application/json");var a=xtend$3(i,t.headers),o=Object.keys(a).reduce(function(u,d){return u[d.toLowerCase()]=a[d],u},{});this.id=requestId++,this._options=t,this.emitter=new EventEmitter$1,this.client=e,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=t.path,this.method=t.method,this.origin=t.origin||e.origin,this.query=t.query||{},this.params=t.params||{},this.body=t.body||null,this.file=t.file||null,this.encoding=t.encoding||"utf8",this.sendFileAs=t.sendFileAs||null,this.headers=o}MapiRequest$1.prototype.url=function(t){var i=urlUtils.prependOrigin(this.path,this.origin);i=urlUtils.appendQueryObject(i,this.query);var a=this.params,o=t??this.client.accessToken;if(o){i=urlUtils.appendQueryParam(i,"access_token",o);var u=parseToken$1(o).user;a=xtend$3({ownerId:u},a)}return i=urlUtils.interpolateRouteParams(i,a),i};MapiRequest$1.prototype.send=function(){var t=this;if(t.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return t.sent=!0,t.client.sendRequest(t).then(function(i){return t.response=i,t.emitter.emit(constants$1.EVENT_RESPONSE,i),i},function(i){throw t.error=i,t.emitter.emit(constants$1.EVENT_ERROR,i),i})};MapiRequest$1.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),!(this.response||this.error||this.aborted)&&(this.aborted=!0,this.client.abortRequest(this))};MapiRequest$1.prototype.eachPage=function(t){var i=this;function a(d){function n(){delete i._nextPageRequest;var k=d.nextPage();k&&(i._nextPageRequest=k,u(k))}t(null,d,n)}function o(d){t(d,null,function(){})}function u(d){d.send().then(a,o)}u(this)};MapiRequest$1.prototype.clone=function(){return this._extend()};MapiRequest$1.prototype._extend=function(t){var i=xtend$3(this._options,t);return new MapiRequest$1(this.client,i)};var mapiRequest=MapiRequest$1,parseToken=parseMapboxToken,MapiRequest=mapiRequest,constants=constants$4;function MapiClient$2(e){if(!e||!e.accessToken)throw new Error("Cannot create a client without an access token");parseToken(e.accessToken),this.accessToken=e.accessToken,this.origin=e.origin||constants.API_ORIGIN}MapiClient$2.prototype.createRequest=function(t){return new MapiRequest(this,t)};var mapiClient=MapiClient$2,browser$1=browserLayer,MapiClient$1=mapiClient;function BrowserClient(e){MapiClient$1.call(this,e)}BrowserClient.prototype=Object.create(MapiClient$1.prototype);BrowserClient.prototype.constructor=BrowserClient;BrowserClient.prototype.sendRequest=browser$1.browserSend;BrowserClient.prototype.abortRequest=browser$1.browserAbort;function createBrowserClient(e){return new BrowserClient(e)}var browserClient=createBrowserClient,client=browserClient,mapboxSdk=client,toString=Object.prototype.toString,isPlainObj=function(e){var t;return toString.call(e)==="[object Object]"&&(t=Object.getPrototypeOf(e),t===null||t===Object.getPrototypeOf({}))},isPlainObject=isPlainObj,xtend$2=immutable,DEFAULT_ERROR_PATH="value",NEWLINE_INDENT=`
  `,v$2={};v$2.assert=function(e,t){return t=t||{},function(i){var a=validate(e,i);if(a){var o=processMessage(a,t);throw t.apiName&&(o=t.apiName+": "+o),new Error(o)}}};v$2.shape=function(t){var i=objectEntries(t);return function(o){var u=validate(v$2.plainObject,o);if(u)return u;for(var d,n,k=[],j=0;j<i.length;j++)d=i[j].key,n=i[j].value,u=validate(n,o[d]),u&&k.push([d].concat(u));return k.length<2?k[0]:function(Z){k=k.map(function(Y){var I=Y[0],B=processMessage(Y,Z).split(`
`).join(NEWLINE_INDENT);return"- "+I+": "+B});var z=Z.path.join("."),H=z===DEFAULT_ERROR_PATH?"":" of "+z;return"The following properties"+H+" have invalid values:"+NEWLINE_INDENT+k.join(NEWLINE_INDENT)}}};v$2.strictShape=function(t){var i=v$2.shape(t);return function(o){var u=i(o);if(u)return u;var d=Object.keys(o).reduce(function(n,k){return t[k]===void 0&&n.push(k),n},[]);if(d.length!==0)return function(){return"The following keys are invalid: "+d.join(", ")}}};v$2.arrayOf=function(t){return createArrayValidator(t)};v$2.tuple=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return createArrayValidator(t)};function createArrayValidator(e){var t=Array.isArray(e),i=function(a){return t?e[a]:e};return function(o){var u=validate(v$2.plainArray,o);if(u)return u;if(t&&o.length!==e.length)return"an array with "+e.length+" items";for(var d=0;d<o.length;d++)if(u=validate(i(d),o[d]),u)return[d].concat(u)}}v$2.required=function(t){function i(a){return a==null?function(o){return formatErrorMessage(o,isArrayCulprit(o.path)?"cannot be undefined/null.":"is required.")}:t.apply(this,arguments)}return i.__required=!0,i};v$2.oneOfType=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(a){var o=t.map(function(u){return validate(u,a)}).filter(Boolean);if(o.length===t.length)return o.every(function(u){return u.length===1&&typeof u[0]=="string"})?orList(o.map(function(u){return u[0]})):o.reduce(function(u,d){return d.length>u.length?d:u})}};v$2.equal=function(t){return function(a){if(a!==t)return JSON.stringify(t)}};v$2.oneOf=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),i=t.map(function(a){return v$2.equal(a)});return v$2.oneOfType.apply(this,i)};v$2.range=function(t){var i=t[0],a=t[1];return function(u){var d=validate(v$2.number,u);if(d||u<i||u>a)return"number between "+i+" & "+a+" (inclusive)"}};v$2.any=function(){};v$2.boolean=function(t){if(typeof t!="boolean")return"boolean"};v$2.number=function(t){if(typeof t!="number")return"number"};v$2.plainArray=function(t){if(!Array.isArray(t))return"array"};v$2.plainObject=function(t){if(!isPlainObject(t))return"object"};v$2.string=function(t){if(typeof t!="string")return"string"};v$2.func=function(t){if(typeof t!="function")return"function"};function validate(e,t){if(!(t==null&&!e.hasOwnProperty("__required"))){var i=e(t);if(i)return Array.isArray(i)?i:[i]}}function processMessage(e,t){var i=e.length,a=e[i-1],o=e.slice(0,i-1);return o.length===0&&(o=[DEFAULT_ERROR_PATH]),t=xtend$2(t,{path:o}),typeof a=="function"?a(t):formatErrorMessage(t,prettifyResult(a))}function orList(e){return e.length<2?e[0]:e.length===2?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e.slice(-1)}function prettifyResult(e){return"must be "+addArticle(e)+"."}function addArticle(e){return/^an? /.test(e)?e:/^[aeiou]/i.test(e)?"an "+e:/^[a-z]/i.test(e)?"a "+e:e}function formatErrorMessage(e,t){var i=isArrayCulprit(e.path),a=e.path.join(".")+" "+t,o=i?"Item at position ":"";return o+a}function isArrayCulprit(e){return typeof e[e.length-1]=="number"||typeof e[0]=="number"}function objectEntries(e){return Object.keys(e||{}).map(function(t){return{key:t,value:e[t]}})}v$2.validate=validate;v$2.processMessage=processMessage;var lib$1=v$2,xtend$1=immutable,v$1=lib$1;function file(e){if(typeof window<"u")return e instanceof commonjsGlobal$1.Blob||e instanceof commonjsGlobal$1.ArrayBuffer?void 0:"Blob or ArrayBuffer";if(!(typeof e=="string"||e.pipe!==void 0))return"Filename or Readable stream"}function assertShape(e,t){return v$1.assert(v$1.strictShape(e),t)}function date(e){var t="date";if(typeof e=="boolean")return t;try{var i=new Date(e);if(i.getTime&&isNaN(i.getTime()))return t}catch{return t}}function coordinates$1(e){return v$1.tuple(v$1.number,v$1.number)(e)}var validator=xtend$1(v$1,{file,date,coordinates:coordinates$1,assertShape});function pick$1(e,t){var i=function(a,o){return t.indexOf(a)!==-1&&o!==void 0};return typeof t=="function"&&(i=t),Object.keys(e).filter(function(a){return i(a,e[a])}).reduce(function(a,o){return a[o]=e[o],a},{})}var pick_1=pick$1;function objectMap$1(e,t){return Object.keys(e).reduce(function(i,a){return i[a]=t(a,e[a]),i},{})}var objectMap_1=objectMap$1,objectMap=objectMap_1;function stringifyBoolean(e){return objectMap(e,function(t,i){return typeof i=="boolean"?JSON.stringify(i):i})}var stringifyBooleans$1=stringifyBoolean,MapiClient=mapiClient,createClient=browserClient;function createServiceFactory$1(e){return function(t){var i;MapiClient.prototype.isPrototypeOf(t)?i=t:i=createClient(t);var a=Object.create(e);return a.client=i,a}}var createServiceFactory_1=createServiceFactory$1,xtend=immutable,v=validator,pick=pick_1,stringifyBooleans=stringifyBooleans$1,createServiceFactory=createServiceFactory_1,Geocoding={},featureTypes=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];Geocoding.forwardGeocode=function(e){v.assertShape({query:v.required(v.string),mode:v.oneOf("mapbox.places","mapbox.places-permanent"),countries:v.arrayOf(v.string),proximity:v.oneOf(v.coordinates,"ip"),types:v.arrayOf(v.oneOf(featureTypes)),autocomplete:v.boolean,bbox:v.arrayOf(v.number),limit:v.number,language:v.arrayOf(v.string),routing:v.boolean,fuzzyMatch:v.boolean,worldview:v.string})(e),e.mode=e.mode||"mapbox.places";var t=stringifyBooleans(xtend({country:e.countries},pick(e,["proximity","types","autocomplete","bbox","limit","language","routing","fuzzyMatch","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:pick(e,["mode","query"]),query:t})};Geocoding.reverseGeocode=function(e){v.assertShape({query:v.required(v.coordinates),mode:v.oneOf("mapbox.places","mapbox.places-permanent"),countries:v.arrayOf(v.string),types:v.arrayOf(v.oneOf(featureTypes)),bbox:v.arrayOf(v.number),limit:v.number,language:v.arrayOf(v.string),reverseMode:v.oneOf("distance","score"),routing:v.boolean,worldview:v.string})(e),e.mode=e.mode||"mapbox.places";var t=stringifyBooleans(xtend({country:e.countries},pick(e,["country","types","bbox","limit","language","reverseMode","routing","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:pick(e,["mode","query"]),query:t})};var geocoding=createServiceFactory(Geocoding);let urlAlphabet="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",random=e=>crypto.getRandomValues(new Uint8Array(e)),customRandom=(e,t,i)=>{let a=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*a*t/e.length);return(u=t)=>{let d="";for(;;){let n=i(o),k=o;for(;k--;)if(d+=e[n[k]&a]||"",d.length===u)return d}}},customAlphabet=(e,t=21)=>customRandom(e,t,random),nanoid$1=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,i)=>(i&=63,i<36?t+=i.toString(36):i<62?t+=(i-26).toString(36).toUpperCase():i>62?t+="-":t+="_",t),"");const index_browser=Object.freeze(Object.defineProperty({__proto__:null,customAlphabet,customRandom,nanoid:nanoid$1,random,urlAlphabet},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(index_browser);var nanoid=require$$0.nanoid;function MapboxEventManager$1(e){this.origin=e.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=e.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=e,this.send=this.send.bind(this),this.countries=e.countries?e.countries.split(","):null,this.types=e.types?e.types.split(","):null,this.bbox=e.bbox?e.bbox:null,this.language=e.language?e.language.split(","):null,this.limit=e.limit?+e.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(e),this.eventQueue=new Array,this.flushInterval=e.flushInterval||1e3,this.maxQueueSize=e.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}MapboxEventManager$1.prototype={select:function(e,t){var i=this.getSelectedIndex(e,t),a=this.getEventPayload("search.select",t);if(a.resultIndex=i,a.resultPlaceName=e.place_name,a.resultId=e.id,!(i===this.lastSentIndex&&a.queryString===this.lastSentInput||i==-1)&&(this.lastSentIndex=i,this.lastSentInput=a.queryString,!!a.queryString))return this.push(a)},start:function(e){var t=this.getEventPayload("search.start",e);if(t.queryString)return this.push(t)},keyevent:function(e,t){if(e.key&&!(e.metaKey||[9,27,37,39,13,38,40].indexOf(e.keyCode)!==-1)){var i=this.getEventPayload("search.keystroke",t);if(i.lastAction=e.key,!!i.queryString)return this.push(i)}},send:function(e,t){if(!this.enableEventLogging)return t?t():void 0;var i=this.getRequestOptions(e);this.request(i,(function(a){if(a)return this.handleError(a,t);if(t)return t()}).bind(this))},getRequestOptions:function(e){Array.isArray(e)||(e=[e]);var t={method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return t},getEventPayload:function(e,t){var i;t.options.proximity?typeof t.options.proximity=="object"?i=[t.options.proximity.longitude,t.options.proximity.latitude]:t.options.proximity==="ip"?i=[999,999]:i=t.options.proximity:i=null;var a=t._map?t._map.getZoom():void 0,o={event:e,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",autocomplete:t.options.autocomplete,fuzzyMatch:t.options.fuzzyMatch,proximity:i,limit:t.options.limit,routing:t.options.routing,worldview:t.options.worldview,mapZoom:a,keyboardLocale:this.locale};return e==="search.select"?o.queryString=t.inputString:e!="search.select"&&t._inputEl?o.queryString=t._inputEl.value:o.queryString=t.inputString,o},request:function(e,t){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(this.readyState==4)return this.status==204?t(null):t(this.statusText)},i.open(e.method,e.host+"/"+e.path,!0);for(var a in e.headers){var o=e.headers[a];i.setRequestHeader(a,o)}i.send(e.body)},handleError:function(e,t){if(t)return t(e)},generateSessionID:function(){return nanoid()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(e,t){if(t._typeahead){var i=t._typeahead.data,a=e.id,o=i.map(function(d){return d.id}),u=o.indexOf(a);return u}},shouldEnableLogging:function(e){return!(e.enableEventLogging===!1||e.origin&&e.origin!=="https://api.mapbox.com"||e.localGeocoder||e.filter)},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(e,t){this.eventQueue.push(e),(this.eventQueue.length>=this.maxQueueSize||t)&&this.flush()},remove:function(){this.flush()}};var events$2=MapboxEventManager$1,placeholder={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو",ru:"Поиск"},localization$1={placeholder},subtag$1={exports:{}};(function(e){(function(t,i,a){e.exports?e.exports=a():t[i]=a()})(commonjsGlobal$1,"subtag",function(){var t="",i=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function a(k){return k.match(i)||[]}function o(k){return a(k).filter(function(j,Z){return j&&Z})}function u(k){return k=a(k),{language:k[1]||t,extlang:k[2]||t,script:k[3]||t,region:k[4]||t}}function d(k,j,Z){Object.defineProperty(k,j,{value:Z,enumerable:!0})}function n(k,j,Z){function z(H){return a(H)[k]||t}d(z,"pattern",j),d(u,Z,z)}return n(1,/^[a-zA-Z]{2,3}$/,"language"),n(2,/^[a-zA-Z]{3}$/,"extlang"),n(3,/^[a-zA-Z]{4}$/,"script"),n(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),d(u,"split",o),u})})(subtag$1);var subtagExports=subtag$1.exports;function Geolocation$1(){}Geolocation$1.prototype={isSupport:function(){return!!window.navigator.geolocation},getCurrentPosition:function(){const e={enableHighAccuracy:!0};return new Promise(function(t,i){window.navigator.geolocation.getCurrentPosition(t,i,e)})}};var geolocation=Geolocation$1;function transformFeatureToGeolocationText(e,t){const i=getAddressInfo(e),a=["address","street","place","country"];var o;if(typeof t=="function")return t(i);const u=a.indexOf(t);return u===-1?o=a:o=a.slice(u),o.reduce(function(d,n){return i[n]?(d!==""&&(d=d+", "),d+i[n]):d},"")}function getAddressInfo(e){const t=e.address||"",i=e.text||"",a=e.place_name||"",u={address:a.split(",")[0],houseNumber:t,street:i,placeName:a};return e.context.forEach(function(d){const n=d.id.split(".")[0];u[n]=d.text}),u}const REVERSE_GEOCODE_COORD_RGX=/^[ ]*(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)[ ]*$/;var utils$1={transformFeatureToGeolocationText,getAddressInfo,REVERSE_GEOCODE_COORD_RGX},Typeahead=suggestions,debounce=lodash_debounce,extend$3=immutable,EventEmitter=eventsExports.EventEmitter,exceptions=exceptions$1,MapboxClient=mapboxSdk,mbxGeocoder=geocoding,MapboxEventManager=events$2,localization=localization$1,subtag=subtagExports,Geolocation=geolocation,utils=utils$1;const GEOCODE_REQUEST_TYPE={FORWARD:0,LOCAL:1,REVERSE:2};function getFooterNode(){var e=document.createElement("div");return e.className="mapboxgl-ctrl-geocoder--powered-by",e.innerHTML='<a href="https://www.mapbox.com/search-service" target="_blank">Powered by Mapbox</a>',e}function MapboxGeocoder(e){this._eventEmitter=new EventEmitter,this.options=extend$3({},this.options,e),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geolocation=new Geolocation}MapboxGeocoder.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,flipCoordinates:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,enableGeolocation:!1,addressAccuracy:"street",getItemValue:function(e){return e.place_name},render:function(e){var t=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+t[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+t.splice(1,t.length).join(",")+"</div></div>"}},addTo:function(e){function t(i,a){if(!document.body.contains(a))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const o=i.onAdd();a.appendChild(o)}if(e._controlContainer)e.addControl(this);else if(e instanceof HTMLElement)t(this,e);else if(typeof e=="string"){const i=document.querySelectorAll(e);if(i.length===0)throw new Error("Element ",e,"not found.");if(i.length>1)throw new Error("Geocoder can only be added to a single html element");t(this,i[0])}else throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element")},onAdd:function(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=mbxGeocoder(MapboxClient({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new MapboxEventManager(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this),this._geolocateUser=this._geolocateUser.bind(this);var t=this.container=document.createElement("div");t.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var i=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",debounce(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",(function(j){this.eventManager.keyevent(j,this)}).bind(this));var a=document.createElement("div");a.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var o=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');if(this._clearEl.appendChild(o),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),a.appendChild(this._clearEl),a.appendChild(this._loadingEl),t.appendChild(i),t.appendChild(this._inputEl),t.appendChild(a),this.options.enableGeolocation&&this.geolocation.isSupport()){this._geolocateEl=document.createElement("button"),this._geolocateEl.setAttribute("aria-label","Geolocate"),this._geolocateEl.addEventListener("click",this._geolocateUser),this._geolocateEl.className="mapboxgl-ctrl-geocoder--button";var u=this.createIcon("geolocate",'<path d="M12.999 3.677L2.042 8.269c-.962.403-.747 1.823.29 1.912l5.032.431.431 5.033c.089 1.037 1.509 1.252 1.912.29l4.592-10.957c.345-.822-.477-1.644-1.299-1.299z" fill="#4264fb"/>');this._geolocateEl.appendChild(u),a.appendChild(this._geolocateEl),this._showGeolocateButton()}var d=this._typeahead=new Typeahead(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit});this.setRenderFunction(this.options.render),d.getItemValue=this.options.getItemValue;var n=d.list.draw,k=this._footerNode=getFooterNode();return d.list.draw=function(){n.call(this),k.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),k.addEventListener("mouseup",(function(){this.selectingListItem=!1}).bind(this)),this.element.appendChild(k)},this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),t},_geolocateUser:function(){this._hideGeolocateButton(),this._showLoadingIcon(),this.geolocation.getCurrentPosition().then((function(e){this._hideLoadingIcon();const t={geometry:{type:"Point",coordinates:[e.coords.longitude,e.coords.latitude]}};this._handleMarker(t),this._fly(t),this._typeahead.clear(),this._typeahead.selected=!0,this.lastSelected=JSON.stringify(t),this._showClearButton(),this.fresh=!1;const i={limit:1,language:[this.options.language],query:t.geometry.coordinates,types:["address"]};if(this.options.localGeocoderOnly){const a=t.geometry.coordinates[0]+","+t.geometry.coordinates[1];this._setInputValue(a),this._eventEmitter.emit("result",{result:t})}else this.geocoderService.reverseGeocode(i).send().then((function(a){const o=a.body.features[0];if(o){const u=utils.transformFeatureToGeolocationText(o,this.options.addressAccuracy);this._setInputValue(u),o.user_coordinates=t.geometry.coordinates,this._eventEmitter.emit("result",{result:o})}else this._eventEmitter.emit("result",{result:{user_coordinates:t.geometry.coordinates}})}).bind(this))}).bind(this)).catch((function(e){e.code===1?this._renderUserDeniedGeolocationError():this._renderLocationError(),this._hideLoadingIcon(),this._showGeolocateButton(),this._hideAttribution()}).bind(this))},createIcon:function(e,t){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");return i.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+e),i.setAttribute("viewBox","0 0 18 18"),i.setAttribute("xml:space","preserve"),i.setAttribute("width",18),i.setAttribute("height",18),i.innerHTML=t,i},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_setInputValue:function(e){this._inputEl.value=e,setTimeout((function(){this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0)}).bind(this),1)},_onPaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");t.length>=this.options.minLength&&this._geocode(t)},_onKeyDown:function(e){var t=27,i=9;if(e.keyCode===t&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();var a=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target,o=a?a.value:"";if(!o)return this.fresh=!0,e.keyCode!==i&&this.clear(e),this._showGeolocateButton(),this._hideClearButton();this._hideGeolocateButton(),!(e.metaKey||[i,t,37,39,13,38,40].indexOf(e.keyCode)!==-1)&&a.value.length>=this.options.minLength&&this._geocode(a.value)},_showButton:function(){this._typeahead.selected&&this._showClearButton()},_hideButton:function(){this._typeahead.selected&&this._hideClearButton()},_showClearButton:function(){this._clearEl.style.display="block"},_hideClearButton:function(){this._clearEl.style.display="none"},_showGeolocateButton:function(){this._geolocateEl&&this.geolocation.isSupport()&&(this._geolocateEl.style.display="block")},_hideGeolocateButton:function(){this._geolocateEl&&(this._geolocateEl.style.display="none")},_showLoadingIcon:function(){this._loadingEl.style.display="block"},_hideLoadingIcon:function(){this._loadingEl.style.display="none"},_showAttribution:function(){this._footerNode.style.display="block"},_hideAttribution:function(){this._footerNode.style.display="none"},_onBlur:function(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()},_onChange:function(){var e=this._typeahead.selected;e&&JSON.stringify(e)!==this.lastSelected&&(this._hideClearButton(),this.options.flyTo&&this._fly(e),this.options.marker&&this._mapboxgl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._eventEmitter.emit("result",{result:e}),this.eventManager.select(e,this))},_fly:function(e){var t;if(e.properties&&exceptions[e.properties.short_code])t=extend$3({},this.options.flyTo),this._map&&this._map.fitBounds(exceptions[e.properties.short_code].bbox,t);else if(e.bbox){var i=e.bbox;t=extend$3({},this.options.flyTo),this._map&&this._map.fitBounds([[i[0],i[1]],[i[2],i[3]]],t)}else{var a={zoom:this.options.zoom};t=extend$3({},a,this.options.flyTo),e.center?t.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(t.center=e.geometry.coordinates),this._map&&this._map.flyTo(t)}},_requestType:function(e,t){var i;return e.localGeocoderOnly?i=GEOCODE_REQUEST_TYPE.LOCAL:e.reverseGeocode&&utils.REVERSE_GEOCODE_COORD_RGX.test(t)?i=GEOCODE_REQUEST_TYPE.REVERSE:i=GEOCODE_REQUEST_TYPE.FORWARD,i},_setupConfig:function(e,t){const i=["bbox","limit","proximity","countries","types","language","reverseMode","mode","autocomplete","fuzzyMatch","routing","worldview"],a=/[\s,]+/;var o=this,u=i.reduce(function(n,k){if(o.options[k]===void 0||o.options[k]===null)return n;["countries","types","language"].indexOf(k)>-1?n[k]=o.options[k].split(a):n[k]=o.options[k];const j=typeof o.options[k].longitude=="number"&&typeof o.options[k].latitude=="number";if(k==="proximity"&&j){const Z=o.options[k].longitude,z=o.options[k].latitude;n[k]=[Z,z]}return n},{});switch(e){case GEOCODE_REQUEST_TYPE.REVERSE:{var d=t.split(a).map(function(n){return parseFloat(n,10)});o.options.flipCoordinates||d.reverse(),u.types&&u.types[0],u=extend$3(u,{query:d,limit:1}),["proximity","autocomplete","fuzzyMatch","bbox"].forEach(function(n){n in u&&delete u[n]})}break;case GEOCODE_REQUEST_TYPE.FORWARD:{const n=t.trim();/^(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)?$/.test(n)&&(t=t.replace(/,/g," ")),u=extend$3(u,{query:t})}break}return u},_geocode:function(e){this.inputString=e,this._showLoadingIcon(),this._eventEmitter.emit("loading",{query:e});const t=this._requestType(this.options,e),i=this._setupConfig(t,e);var a;switch(t){case GEOCODE_REQUEST_TYPE.LOCAL:a=Promise.resolve();break;case GEOCODE_REQUEST_TYPE.FORWARD:a=this.geocoderService.forwardGeocode(i).send();break;case GEOCODE_REQUEST_TYPE.REVERSE:a=this.geocoderService.reverseGeocode(i).send();break}var o=this.options.localGeocoder?this.options.localGeocoder(e)||[]:[],u=[],d=null;return a.catch((function(n){d=n}).bind(this)).then((function(n){this._hideLoadingIcon();var k={};return n?n.statusCode=="200"&&(k=n.body,k.request=n.request,k.headers=n.headers):k={type:"FeatureCollection",features:[]},k.config=i,this.fresh&&(this.eventManager.start(this),this.fresh=!1),k.features=k.features?o.concat(k.features):o,this.options.externalGeocoder?(u=this.options.externalGeocoder(e,k.features)||Promise.resolve([]),u.then(function(j){return k.features=k.features?j.concat(k.features):j,k},function(){return k})):k}).bind(this)).then((function(n){if(d)throw d;this.options.filter&&n.features.length&&(n.features=n.features.filter(this.options.filter)),n.features.length?(this._showClearButton(),this._hideGeolocateButton(),this._showAttribution(),this._eventEmitter.emit("results",n),this._typeahead.update(n.features)):(this._hideClearButton(),this._hideAttribution(),this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",n))}).bind(this)).catch((function(n){this._hideLoadingIcon(),this._hideAttribution(),o.length&&this.options.localGeocoder||u.length&&this.options.externalGeocoder?(this._showClearButton(),this._hideGeolocateButton(),this._typeahead.update(o)):(this._hideClearButton(),this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:o}),this._eventEmitter.emit("error",{error:n})}).bind(this)),a},_clear:function(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._hideClearButton(),this._showGeolocateButton(),this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(e){this._clear(e),this._inputEl.focus()},_clearOnBlur:function(e){var t=this;e.relatedTarget&&t._clear(e)},_onQueryResult:function(e){var t=e.body;if(t.features.length){var i=t.features[0];this._typeahead.selected=i,this._inputEl.value=i.place_name,this._onChange()}},_updateProximity:function(){if(!(!this._map||!this.options.trackProximity))if(this._map.getZoom()>9){var e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat},!1)}else this.setProximity(null,!1)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(e){return this._geocode(e).then(this._onQueryResult),this},_renderError:function(){var e="<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>";this._renderMessage(e)},_renderLocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>A location error has occurred</div>";this._renderMessage(e)},_renderNoResults:function(){var e="<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>";this._renderMessage(e)},_renderUserDeniedGeolocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>Geolocation permission denied</div>";this._renderMessage(e)},_renderMessage:function(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var e=this.options.language.split(",")[0],t=subtag.language(e),i=localization.placeholder[t];if(i)return i}return"Search"},setInput:function(e){return this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&this._geocode(e),this},setProximity:function(e,t=!0){return this.options.proximity=e,t&&(this.options.trackProximity=!1),this},getProximity:function(){return this.options.proximity},setRenderFunction:function(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(e){var t=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=e||this.options.language||t,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(e){return this.options.zoom=e,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(e){return this.options.flyTo=e,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(e){return this.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(e){return this.options.bbox=e,this},getCountries:function(){return this.options.countries},setCountries:function(e){return this.options.countries=e,this},getTypes:function(){return this.options.types},setTypes:function(e){return this.options.types=e,this},getMinLength:function(){return this.options.minLength},setMinLength:function(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this},getLimit:function(){return this.options.limit},setLimit:function(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this},getFilter:function(){return this.options.filter},setFilter:function(e){return this.options.filter=e,this},setOrigin:function(e){return this.options.origin=e,this.geocoderService=mbxGeocoder(MapboxClient({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},setAccessToken:function(e){return this.options.accessToken=e,this.geocoderService=mbxGeocoder(MapboxClient({accessToken:this.options.accessToken,origin:this.options.origin})),this},setAutocomplete:function(e){return this.options.autocomplete=e,this},getAutocomplete:function(){return this.options.autocomplete},setFuzzyMatch:function(e){return this.options.fuzzyMatch=e,this},getFuzzyMatch:function(){return this.options.fuzzyMatch},setRouting:function(e){return this.options.routing=e,this},getRouting:function(){return this.options.routing},setWorldview:function(e){return this.options.worldview=e,this},getWorldview:function(){return this.options.worldview},_handleMarker:function(e){if(this._map){this._removeMarker();var t={color:"#4668F2"},i=extend$3({},t,this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(i),e.center?this.mapMarker.setLngLat(e.center).addTo(this._map):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(e,t){return this._eventEmitter.on(e,t),this},off:function(e,t){return this._eventEmitter.removeListener(e,t),this.eventManager.remove(),this}};var lib=MapboxGeocoder;const MapboxGeocoder$1=getDefaultExportFromCjs(lib);function useMap(){return{map:inject("mapbox-map")}}var cache=new Map,regex=/onMb([A-Z])(.+)/;function getOriginalEvent(e){return cache.has(e)||cache.set(e,e.replace(regex,(t,i,a)=>i.toLowerCase()+a)),cache.get(e)}function useEventsBinding(e,t,i=[],a=null){const o=useAttrs(),u=computed(()=>Object.entries(o).filter(([j,Z])=>j.startsWith("on")&&typeof Z=="function").map(([j])=>j)),d=new Map;function n(j){Array.isArray(j)&&j.forEach(Z=>{const z=d.get(Z);typeof z=="function"&&z()})}function k(j){Array.isArray(j)&&j.forEach(Z=>{const z=getOriginalEvent(Z);if(!i.includes(z))return;const H=(...Y)=>{e(`mb-${z}`,...Y)};a?(unref(t).on(z,a,H),d.set(Z,()=>{unref(t).off(z,a,H)})):(unref(t).on(z,H),d.set(Z,()=>{unref(t).off(z,H)}))})}watch(u,(j,Z)=>{const z=Array.isArray(j)?(Z??[]).filter(Y=>!j.includes(Y)):Z??[],H=Array.isArray(Z)?(j??[]).filter(Y=>!Z.includes(Y)):j??[];if(unref(t))n(z),k(H);else{const Y=watch(t,I=>{I&&(n(z),k(H),Y())})}},{immediate:!0})}function capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}function usePropsBinding(e,t,i){function a(o){Object.keys(e).filter(u=>e[u]!==void 0&&e[u]!==null).forEach(u=>{var d,n;const k=u==="mapStyle"?"setStyle":`set${capitalizeFirstLetter(u)}`,j=typeof o[k]=="function",Z=typeof i[u]>"u"||"bind"in i[u]?(n=(d=i[u])==null?void 0:d.bind)!=null?n:!1:!0;if(!j||!Z)return;const{type:z}=e[u],H={deep:z===Object||Array.isArray(z)&&z.includes(Object)};watch(()=>e[u],Y=>{o[k](Y)},H)})}if(unref(t))a(unref(t));else{const o=watch(t,u=>{u&&(a(u),o())})}}function useControl(e,{propsConfig:t,props:i,emit:a,events:o=[]}){const{map:u}=useMap(),d=ref();return Array.isArray(o)&&o.length&&useEventsBinding(a,d,o),typeof t<"u"&&usePropsBinding(i,d,t),watch(()=>i.position,n=>{unref(u)&&unref(u).removeControl(unref(d)).addControl(unref(d),n)}),onMounted(async()=>{const n=new e(i);unref(u)&&unref(u).addControl(n,i.position),await nextTick$1(),d.value=n}),onUnmounted(()=>{unref(d)&&unref(u)&&unref(u).removeControl(unref(d))}),{control:d,map:u}}var export_helper_default=(e,t)=>{const i=e.__vccOpts||e;for(const[a,o]of t)i[a]=o;return i};if(!mapboxgl)throw new Error("mapboxgl is not installed.");if(!MapboxGeocoder$1)throw new Error("MapboxGeocoder is not installed.");var _hoisted_14$f={key:0},_hoisted_2$K={key:1};if(!mapboxgl)throw new Error("mapboxgl is not installed.");var{LngLatBounds,LngLat}=mapboxgl,propsConfig4={accessToken:{type:String,default:"no-token"},container:{type:[typeof HTMLElement<"u"&&HTMLElement,String],default:void 0},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:22},minPitch:{type:Number,default:0},maxPitch:{type:Number,default:60},mapStyle:{type:[Object,String],required:!0},hash:{type:Boolean,default:!1},interactive:{type:Boolean,default:!0},bearingSnap:{type:Number,default:7},pitchWithRotate:{type:Boolean,default:!0},clickTolerance:{type:Number,default:3},attributionControl:{type:Boolean,default:!0},customAttribution:{type:[String,Array],default:null},logoPosition:{type:String,default:"bottom-left"},failIfMajorPerformanceCaveat:{type:Boolean,default:!1},preserveDrawingBuffer:{type:Boolean,default:!1},antialias:{type:Boolean,default:!1},refreshExpiredTiles:{type:Boolean,default:!0},maxBounds:{type:[LngLatBounds,Array],default:void 0},scrollZoom:{type:[Boolean,Object],default:!0},boxZoom:{type:Boolean,default:!0},dragRotate:{type:Boolean,default:!0},dragPan:{type:[Boolean,Object],default:!0},keyboard:{type:Boolean,default:!0},doubleClickZoom:{type:Boolean,default:!0},touchZoomRotate:{type:[Boolean,Object],default:!0},trackResize:{type:Boolean,default:!0},center:{type:[LngLat,Array,Object],default:()=>[0,0]},zoom:{type:Number,default:0},bearing:{type:Number,default:0},pitch:{type:Number,default:0},bounds:{type:[LngLatBounds,Array],default:void 0},fitBoundsOptions:{type:Object,default:null},renderWorldCopies:{type:Boolean,default:!0},maxTileCacheSize:{type:Number,default:null},localIdeographFontFamily:{type:String,default:"sans-serif"},transformRequest:{type:Function,default:null},collectResourceTiming:{type:Boolean,default:!1},fadeDuration:{type:Number,default:300},crossSourceCollisions:{type:Boolean,default:!0}},events3=["boxzoomcancel","boxzoomend","boxzoomstart","click","contextmenu","data","dataloading","dblclick","drag","dragend","dragstart","error","idle","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","move","moveend","movestart","pitch","pitchend","pitchstart","remove","render","resize","rotate","rotateend","rotatestart","sourcedata","sourcedataloading","styledata","styledataloading","styleimagemissing","touchcancel","touchend","touchmove","touchstart","webglcontextlost","webglcontextrestored","wheel","zoom","zoomend","zoomstart"],__default__={inheritAttrs:!1},_sfc_main5=Object.assign(__default__,{__name:"MapboxMap",props:propsConfig4,setup(e,{expose:t,emit:i}){const a=e,o=ref();provide("mapbox-map",o);const u=ref(),d=ref(!1),n=computed(()=>{const{accessToken:k,mapStyle:j,...Z}=a;return!Z.container&&u.value&&(Z.container=u.value),{style:j,...Z}});return useEventsBinding(i,o,events3),usePropsBinding(a,o,propsConfig4),onMounted(()=>{mapboxgl.accessToken=a.accessToken,o.value=new mapboxgl.Map(n.value),o.value.on("load",()=>{d.value=!0}),i("mb-created",o.value);const k=new ResizeObserver(()=>{o.value.resize()});k.observe(n.value.container),onUnmounted(()=>{k.disconnect(),o.value.remove()})}),t({map:o}),(k,j)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",mergeProps({ref_key:"root",ref:u},k.$attrs),null,16),d.value?(openBlock(),createElementBlock("div",_hoisted_14$f,[renderSlot(k.$slots,"default")])):(openBlock(),createElementBlock("div",_hoisted_2$K,[renderSlot(k.$slots,"loader")]))],64))}}),MapboxMap_default=export_helper_default(_sfc_main5,[["__file","/home/runner/work/vue-mapbox-gl/vue-mapbox-gl/packages/vue-mapbox-gl/components/MapboxMap.vue"]]);if(!mapboxgl)throw new Error("mapboxgl is not installed.");var propsConfig9={showCompass:{type:Boolean,default:!0},showZoom:{type:Boolean,default:!0},visualizePitch:{type:Boolean,default:!1},position:{type:String,default:"top-right",bind:!1}},_sfc_main13={__name:"MapboxNavigationControl",props:propsConfig9,setup(e,{expose:t}){const i=e,{NavigationControl:a}=mapboxgl,{control:o}=useControl(a,{props:i,propsConfig:propsConfig9});return t({control:o}),(u,d)=>(openBlock(),createElementBlock("div"))}},MapboxNavigationControl_default=export_helper_default(_sfc_main13,[["__file","/home/runner/work/vue-mapbox-gl/vue-mapbox-gl/packages/vue-mapbox-gl/components/MapboxNavigationControl.vue"]]);const search_vue_vue_type_style_index_0_lang="",_export_sfc$1=(e,t)=>{const i=e.__vccOpts||e;for(const[a,o]of t)i[a]=o;return i},_sfc_main$X={props:{fleets:Array},data(){return{isExpand:!1,keyword:""}},methods:{searchExpand(){this.isExpand=!this.isExpand;let e=this.$refs.searchBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="40px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},search(){this.keyword.length>=2&&!this.isExpand&&this.searchExpand(),this.keyword.length==0&&this.isExpand&&this.searchExpand()},selected(e){this.$emit("selected",e)}},computed:{filters(){return this.fleets.filter(e=>e.name.toLowerCase().includes(this.keyword.toLowerCase()))}}},_hoisted_1$O={class:"ships-list position-absolute",ref:"cSearch"},_hoisted_2$J={class:"card",style:{height:"100%"}},_hoisted_3$D={class:"card-header search"},_hoisted_4$B={action:"#",method:"get",style:{width:"100%"}},_hoisted_5$t={class:"input-icon"},_hoisted_6$q=createStaticVNode('<span class="input-icon-addon"><svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><circle cx="10" cy="10" r="7"></circle><line x1="21" y1="21" x2="15" y2="15"></line></svg></span>',1),_hoisted_7$o={class:"card-actions btn-actions"},_hoisted_8$m={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},_hoisted_9$k=createBaseVNode("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),_hoisted_10$k=createBaseVNode("polyline",{points:"15 6 9 12 15 18"},null,-1),_hoisted_11$k=[_hoisted_9$k,_hoisted_10$k],_hoisted_12$h={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},_hoisted_13$f=createBaseVNode("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),_hoisted_14$e=createBaseVNode("polyline",{points:"6 9 12 15 18 9"},null,-1),_hoisted_15$d=[_hoisted_13$f,_hoisted_14$e],_hoisted_16$b={class:"card-body card-body-scrollable card-body-scrollable-shadow search-body",ref:"searchBody"},_hoisted_17$8={class:"divide-y pointer"},_hoisted_18$8=["onClick"],_hoisted_19$6={class:"row"},_hoisted_20$6=createBaseVNode("div",{class:"col-auto"},[createBaseVNode("span",{class:"avatar",style:{"background-image":"url('')"}})],-1),_hoisted_21$6={class:"col p-0"},_hoisted_22$4={class:"text-truncate"},_hoisted_23$4={class:"text-muted text-sm"},_hoisted_24$4={key:0,class:"col-auto"},_hoisted_25$4=createBaseVNode("div",{class:"badge bg-success"},null,-1),_hoisted_26$4=createBaseVNode("span",{class:"text-xs ml-1"},"Online",-1),_hoisted_27$3={class:"text-xs"},_hoisted_28$2={key:1,class:"col-auto"},_hoisted_29$2=createBaseVNode("div",{class:"badge bg-danger"},null,-1),_hoisted_30$2=createBaseVNode("span",{class:"text-xs ml-1"},"Offline",-1),_hoisted_31$2={class:"text-xs"};function _sfc_render$P(e,t,i,a,o,u){return openBlock(),createElementBlock("div",_hoisted_1$O,[createBaseVNode("div",_hoisted_2$J,[createBaseVNode("div",_hoisted_3$D,[createBaseVNode("form",_hoisted_4$B,[createBaseVNode("div",_hoisted_5$t,[_hoisted_6$q,withDirectives(createBaseVNode("input",{type:"text",onKeyup:t[0]||(t[0]=(...d)=>u.search&&u.search(...d)),"onUpdate:modelValue":t[1]||(t[1]=d=>o.keyword=d),class:"form-control",placeholder:"Search…","aria-label":"Search in website"},null,544),[[vModelText,o.keyword]])])]),createBaseVNode("div",_hoisted_7$o,[createBaseVNode("a",{href:"#",class:"btn-action",onClick:t[2]||(t[2]=(...d)=>u.searchExpand&&u.searchExpand(...d))},[o.isExpand?createCommentVNode("",!0):(openBlock(),createElementBlock("svg",_hoisted_8$m,_hoisted_11$k)),o.isExpand?(openBlock(),createElementBlock("svg",_hoisted_12$h,_hoisted_15$d)):createCommentVNode("",!0)])])]),createBaseVNode("div",_hoisted_16$b,[createBaseVNode("div",_hoisted_17$8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.filters,d=>(openBlock(),createElementBlock("div",{key:d.id,onClick:n=>u.selected(d)},[createBaseVNode("div",_hoisted_19$6,[_hoisted_20$6,createBaseVNode("div",_hoisted_21$6,[createBaseVNode("div",_hoisted_22$4,toDisplayString(d.name),1),createBaseVNode("div",_hoisted_23$4,toDisplayString(d.imo_number),1)]),d.connected?(openBlock(),createElementBlock("div",_hoisted_24$4,[_hoisted_25$4,_hoisted_26$4,createBaseVNode("div",_hoisted_27$3,toDisplayString(e.$filters.dateformat(d.last_connection,"DD/MM HH:mm")),1)])):createCommentVNode("",!0),d.connected?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_28$2,[_hoisted_29$2,_hoisted_30$2,createBaseVNode("div",_hoisted_31$2,toDisplayString(e.$filters.dateformat(d.last_connection,"DD/MM HH:mm")),1)]))])],8,_hoisted_18$8))),128))])],512)])],512)}const search=_export_sfc$1(_sfc_main$X,[["render",_sfc_render$P]]),notification_vue_vue_type_style_index_0_scoped_cbda607e_lang="",_sfc_main$W={data(){return{isExpand:!0,notifications:[{id:1,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:2,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:3,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:4,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:5,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:6,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:7,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:8,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"}],params:{}}},mounted(){this.fetchData()},methods:{notifExpand(){this.isExpand=!this.isExpand;let e=this.$refs.notifBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="150px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},async fetchData(){this.notifications=await axios.get("/api/notifications",{params:this.params}).then(e=>e.data)}}},_withScopeId$c=e=>(pushScopeId("data-v-cbda607e"),e=e(),popScopeId(),e),_hoisted_1$N={class:"ships-notification",ref:"cSearch"},_hoisted_2$I={class:"card",style:{height:"100%"}},_hoisted_3$C={class:"card-header search"},_hoisted_4$A=_withScopeId$c(()=>createBaseVNode("h4",{class:"card-title"}," Active Notifications ",-1)),_hoisted_5$s={class:"card-actions btn-actions"},_hoisted_6$p={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},_hoisted_7$n=_withScopeId$c(()=>createBaseVNode("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),_hoisted_8$l=_withScopeId$c(()=>createBaseVNode("polyline",{points:"15 6 9 12 15 18"},null,-1)),_hoisted_9$j=[_hoisted_7$n,_hoisted_8$l],_hoisted_10$j={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},_hoisted_11$j=_withScopeId$c(()=>createBaseVNode("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),_hoisted_12$g=_withScopeId$c(()=>createBaseVNode("polyline",{points:"6 9 12 15 18 9"},null,-1)),_hoisted_13$e=[_hoisted_11$j,_hoisted_12$g],_hoisted_14$d={class:"card-body card-body-scrollable card-body-scrollable-shadow notif-body",ref:"notifBody"},_hoisted_15$c={class:"divide-y"},_hoisted_16$a=createStaticVNode('<div class="notif-status" data-v-cbda607e><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/alarm.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Alarm</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/volume.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>4</span></div><div data-v-cbda607e>Warning</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/caution.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Caution</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/info-blue.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Info</div></div></div>',1),_hoisted_17$7={class:"row"},_hoisted_18$7=_withScopeId$c(()=>createBaseVNode("div",{class:"col-auto"},[createBaseVNode("img",{src:"img/icons/caution.png",alt:"",width:"20"})],-1)),_hoisted_19$5={class:"col"},_hoisted_20$5={class:"fw-bold"},_hoisted_21$5={class:"text-sm"};function _sfc_render$O(e,t,i,a,o,u){return openBlock(),createElementBlock("div",_hoisted_1$N,[createBaseVNode("div",_hoisted_2$I,[createBaseVNode("div",_hoisted_3$C,[_hoisted_4$A,createBaseVNode("div",_hoisted_5$s,[createBaseVNode("a",{href:"#",class:"btn-action",onClick:t[0]||(t[0]=(...d)=>u.notifExpand&&u.notifExpand(...d))},[o.isExpand?createCommentVNode("",!0):(openBlock(),createElementBlock("svg",_hoisted_6$p,_hoisted_9$j)),o.isExpand?(openBlock(),createElementBlock("svg",_hoisted_10$j,_hoisted_13$e)):createCommentVNode("",!0)])])]),createBaseVNode("div",_hoisted_14$d,[createBaseVNode("div",_hoisted_15$c,[_hoisted_16$a,(openBlock(!0),createElementBlock(Fragment,null,renderList(o.notifications,d=>(openBlock(),createElementBlock("div",{key:d.id,class:"py-2 border-bottom border-white"},[createBaseVNode("div",_hoisted_17$7,[_hoisted_18$7,createBaseVNode("div",_hoisted_19$5,[createBaseVNode("div",_hoisted_20$5,toDisplayString(d.title),1),createTextVNode(" "+toDisplayString(d.desc)+" ",1),createBaseVNode("div",_hoisted_21$5,toDisplayString(d.date),1)])])]))),128))])],512)])],512)}const notification=_export_sfc$1(_sfc_main$W,[["render",_sfc_render$O],["__scopeId","data-v-cbda607e"]]),records_vue_vue_type_style_index_0_scoped_b06cef02_lang="",_sfc_main$V={},_hoisted_1$M={class:"ships-records"},_hoisted_2$H=createStaticVNode('<div class="card" data-v-b06cef02><div class="card-header" data-v-b06cef02><div class="text-center" data-v-b06cef02><img src="img/singapore.png" alt="" data-v-b06cef02><div class="text-white" data-v-b06cef02>PRO</div></div><div class="w-100 d-flex align-items-start justify-content-between" data-v-b06cef02><div class="card-title" data-v-b06cef02><div data-v-b06cef02>Widuri</div><small class="text-white" data-v-b06cef02>Fleet II</small></div><div class="card-status" data-v-b06cef02><div class="status-box bg-online" data-v-b06cef02></div><div class="text-white" data-v-b06cef02>Online</div></div></div></div><div class="card-body" data-v-b06cef02><div data-v-b06cef02>under way using engine</div><div class="d-flex align-items-center justify-content-between" data-v-b06cef02><div data-v-b06cef02>ATD 27/5</div><div data-v-b06cef02>ETA 10/6</div></div><div class="d-flex align-items-center justify-content-between mb-3" data-v-b06cef02><div data-v-b06cef02>Singapura</div><div data-v-b06cef02>Jakarta</div></div><div class="ships-route-ltr" data-v-b06cef02></div></div></div>',1),_hoisted_3$B=[_hoisted_2$H];function _sfc_render$N(e,t,i,a,o,u){return openBlock(),createElementBlock("div",_hoisted_1$M,_hoisted_3$B)}const records=_export_sfc$1(_sfc_main$V,[["render",_sfc_render$N],["__scopeId","data-v-b06cef02"]]),navigation_vue_vue_type_style_index_0_scoped_23fc79b0_lang="",_sfc_main$U={},_hoisted_1$L={class:"ships-navigations"},_hoisted_2$G=createStaticVNode('<div class="card" data-v-23fc79b0><div class="card-header" data-v-23fc79b0><div class="card-title" data-v-23fc79b0><div data-v-23fc79b0>Navigation</div></div><div class="card-status" data-v-23fc79b0><a href="#" data-v-23fc79b0><img src="img/icons/arrow-topright.png" alt="" data-v-23fc79b0></a></div></div><div class="card-body" data-v-23fc79b0><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>15.015 knots</h6><small data-v-23fc79b0>Speed (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.679 knots</h6><small data-v-23fc79b0>Speed (Water)</small></div></div><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>181.87 deg</h6><small data-v-23fc79b0>Course (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.224 knots</h6><small data-v-23fc79b0>Wiind Speed</small></div></div><div class="ships-route-ltr" data-v-23fc79b0></div></div></div><div class="card" data-v-23fc79b0><div class="card-header" data-v-23fc79b0><div class="card-title" data-v-23fc79b0><div data-v-23fc79b0>Navigation</div></div><div class="card-status" data-v-23fc79b0><a href="#" data-v-23fc79b0><img src="img/icons/arrow-topright.png" alt="" data-v-23fc79b0></a></div></div><div class="card-body" data-v-23fc79b0><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>15.015 knots</h6><small data-v-23fc79b0>Speed (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.679 knots</h6><small data-v-23fc79b0>Speed (Water)</small></div></div><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>181.87 deg</h6><small data-v-23fc79b0>Course (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.224 knots</h6><small data-v-23fc79b0>Wiind Speed</small></div></div><div class="ships-route-ltr" data-v-23fc79b0></div></div></div>',2),_hoisted_4$z=[_hoisted_2$G];function _sfc_render$M(e,t,i,a,o,u){return openBlock(),createElementBlock("div",_hoisted_1$L,_hoisted_4$z)}const navigation$1=_export_sfc$1(_sfc_main$U,[["render",_sfc_render$M],["__scopeId","data-v-23fc79b0"]]),camera_vue_vue_type_style_index_0_scoped_34ce2568_lang="",_sfc_main$T={},_hoisted_1$K={class:"ships-camera"},_hoisted_2$F=createStaticVNode('<a href="" data-v-34ce2568><div class="card" data-v-34ce2568><div class="card-header" data-v-34ce2568><div class="card-title" data-v-34ce2568><div data-v-34ce2568>Front View</div></div></div><div class="card-body" data-v-34ce2568><div class="d-flex align-items-center flex-column gap-1" data-v-34ce2568><img src="img/icons/camera.png" alt="" data-v-34ce2568><small data-v-34ce2568>Camera</small></div></div></div></a><a href="" data-v-34ce2568><div class="card" data-v-34ce2568><div class="card-header" data-v-34ce2568><div class="card-title" data-v-34ce2568><div data-v-34ce2568>Bridge</div></div></div><div class="card-body" data-v-34ce2568><div class="d-flex align-items-center flex-column gap-1" data-v-34ce2568><img src="img/icons/camera.png" alt="" data-v-34ce2568><small data-v-34ce2568>Camera</small></div></div></div></a>',2),_hoisted_4$y=[_hoisted_2$F];function _sfc_render$L(e,t,i,a,o,u){return openBlock(),createElementBlock("div",_hoisted_1$K,_hoisted_4$y)}const camera=_export_sfc$1(_sfc_main$T,[["render",_sfc_render$L],["__scopeId","data-v-34ce2568"]]),parameter_vue_vue_type_style_index_0_scoped_82e529c6_lang="",_sfc_main$S={data(){return{isExpand:!0,parameter:[{id:1,title:"SPEED THROUGH WATER",value:"13.8",format:"KNOTS"},{id:2,title:"SPEED OVER GROUND",value:"14.9",format:"KNOTS"},{id:3,title:"ME SHAFT POWER",value:"4852",format:"KW"},{id:4,title:"ME RPM",value:"95",format:"RPM"},{id:5,title:"ME FO",value:"26.5",format:"FO"}],params:{}}},mounted(){this.fetchData()},methods:{notifExpand(){this.isExpand=!this.isExpand;let e=this.$refs.notifBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="150px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},async fetchData(){this.notifications=await axios.get("/api/notifications",{params:this.params}).then(e=>e.data)}}},_withScopeId$b=e=>(pushScopeId("data-v-82e529c6"),e=e(),popScopeId(),e),_hoisted_1$J={class:"ships-parameter",ref:"cSearch"},_hoisted_2$E={class:"card",style:{height:"100%"}},_hoisted_3$A={class:"card-header search"},_hoisted_4$x=_withScopeId$b(()=>createBaseVNode("h4",{class:"card-title"}," KEY PARAMETER ",-1)),_hoisted_5$r={class:"card-actions btn-actions"},_hoisted_6$o={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},_hoisted_7$m=_withScopeId$b(()=>createBaseVNode("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),_hoisted_8$k=_withScopeId$b(()=>createBaseVNode("polyline",{points:"15 6 9 12 15 18"},null,-1)),_hoisted_9$i=[_hoisted_7$m,_hoisted_8$k],_hoisted_10$i={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},_hoisted_11$i=_withScopeId$b(()=>createBaseVNode("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),_hoisted_12$f=_withScopeId$b(()=>createBaseVNode("polyline",{points:"6 9 12 15 18 9"},null,-1)),_hoisted_13$d=[_hoisted_11$i,_hoisted_12$f],_hoisted_14$c={class:"card-body card-body-scrollable card-body-scrollable-shadow notif-body",ref:"notifBody"},_hoisted_15$b={class:"divide-y"},_hoisted_16$9=_withScopeId$b(()=>createBaseVNode("ul",{class:"nav nav-pills nav-justified",id:"pills-tab",role:"tablist"},[createBaseVNode("li",{class:"nav-item",role:"presentation"},[createBaseVNode("button",{class:"nav-link justify-content-center active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"DAILY AVG")]),createBaseVNode("li",{class:"nav-item",role:"presentation"},[createBaseVNode("button",{class:"nav-link justify-content-center",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"},"PRESENT VALUES")])],-1)),_hoisted_17$6={class:"tab-content",id:"pills-tabContent"},_hoisted_18$6={class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},_hoisted_19$4={class:"row align-items-center"},_hoisted_20$4={class:"col-6"},_hoisted_21$4={class:"fw-bold"},_hoisted_22$3={class:"col-6 text-center"},_hoisted_23$3={class:"fw-normal"},_hoisted_24$3={class:"text-sm"},_hoisted_25$3=_withScopeId$b(()=>createBaseVNode("div",{class:"py-2 border-bottom border-white"},[createBaseVNode("div",{class:"row align-items-center"},[createBaseVNode("div",{class:"col-12"},[createBaseVNode("div",{class:""},"NOTE: Daily average is calculated at 12 PM UTC")])])],-1)),_hoisted_26$3=_withScopeId$b(()=>createBaseVNode("div",{class:"tab-pane fade",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab"}," ... ",-1));function _sfc_render$K(e,t,i,a,o,u){return openBlock(),createElementBlock("div",_hoisted_1$J,[createBaseVNode("div",_hoisted_2$E,[createBaseVNode("div",_hoisted_3$A,[_hoisted_4$x,createBaseVNode("div",_hoisted_5$r,[createBaseVNode("a",{href:"#",class:"btn-action",onClick:t[0]||(t[0]=(...d)=>u.notifExpand&&u.notifExpand(...d))},[o.isExpand?createCommentVNode("",!0):(openBlock(),createElementBlock("svg",_hoisted_6$o,_hoisted_9$i)),o.isExpand?(openBlock(),createElementBlock("svg",_hoisted_10$i,_hoisted_13$d)):createCommentVNode("",!0)])])]),createBaseVNode("div",_hoisted_14$c,[createBaseVNode("div",_hoisted_15$b,[_hoisted_16$9,createBaseVNode("div",_hoisted_17$6,[createBaseVNode("div",_hoisted_18$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.parameter,d=>(openBlock(),createElementBlock("div",{key:d.id,class:"py-2 border-bottom border-white"},[createBaseVNode("div",_hoisted_19$4,[createBaseVNode("div",_hoisted_20$4,[createBaseVNode("div",_hoisted_21$4,toDisplayString(d.title),1)]),createBaseVNode("div",_hoisted_22$3,[createBaseVNode("h2",_hoisted_23$3,toDisplayString(d.value),1),createBaseVNode("div",_hoisted_24$3,toDisplayString(d.format),1)])])]))),128)),_hoisted_25$3]),_hoisted_26$3])])],512)])],512)}const parameter=_export_sfc$1(_sfc_main$S,[["render",_sfc_render$K],["__scopeId","data-v-82e529c6"]]);var EN_US=["second","minute","hour","day","week","month","year"];function en_US(e,t){if(t===0)return["just now","right now"];var i=EN_US[Math.floor(t/2)];return e>1&&(i+="s"),[e+" "+i+" ago","in "+e+" "+i]}var ZH_CN=["秒","分钟","小时","天","周","个月","年"];function zh_CN(e,t){if(t===0)return["刚刚","片刻后"];var i=ZH_CN[~~(t/2)];return[e+" "+i+"前",e+" "+i+"后"]}var Locales={},register=function(e,t){Locales[e]=t},getLocale=function(e){return Locales[e]||Locales.en_US},SEC_ARRAY=[60,60,24,7,365/7/12,12];function toDate(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}function formatDiff(e,t){var i=e<0?1:0;e=Math.abs(e);for(var a=e,o=0;e>=SEC_ARRAY[o]&&o<SEC_ARRAY.length;o++)e/=SEC_ARRAY[o];return e=Math.floor(e),o*=2,e>(o===0?9:1)&&(o+=1),t(e,o,a)[i].replace("%s",e.toString())}function diffSec(e,t){var i=t?toDate(t):new Date;return(+i-+toDate(e))/1e3}var format=function(e,t,i){var a=diffSec(e,i&&i.relativeDate);return formatDiff(a,getLocale(t))};register("en_US",en_US);register("zh_CN",zh_CN);const blueShip="/build/assets/blue-a08778d1.png",greenShip="/build/assets/green-fc37c2da.png",redShip="/build/assets/red-81ec77e5.png",yellowShip="/build/assets/yellow-bbf4eb24.png",purpleShip="/build/assets/purple-47482fdf.png",lagend_vue_vue_type_style_index_0_scoped_62e3f19d_lang="",_sfc_main$R={components:{},props:{fleets:Array},data(){return{fleetsGroup:[],colors:{at_port:"#004BFF",underway:"#56B745",lost_connection:"#E13711",at_anchorage:"#F1D244",other:"#A32B7C"},icons:{at_port:{name:"At Port",img:"/icon/blue.png"},underway:{img:"/icon/green.png",name:"Underway"},lost_connection:{img:"/icon/red.png",name:"Lost Connection"},at_anchorage:{img:"/icon/yellow.png",name:"At Anchorage"},other:{img:"/icon/purple.png",name:"Other"}}}},watch:{fleets:function(e,t){let i=_.groupBy(e,({fleet_status:o})=>o);this.fleetsGroup=[];let a=this;Object.keys(this.colors).forEach(function(o){let u=typeof i[o]>"u"?0:i[o].length;a.fleetsGroup.push({value:u,color:a.colors[o],label:o,name:a.icons[o].name,img:a.icons[o].img})})}},methods:{doFilter(e){this.$emit("filters",e)}}},_withScopeId$a=e=>(pushScopeId("data-v-62e3f19d"),e=e(),popScopeId(),e),_hoisted_1$I={class:"lengend"},_hoisted_2$D={class:"card"},_hoisted_3$z=_withScopeId$a(()=>createBaseVNode("div",{class:"card-header"},[createBaseVNode("div",{class:"title"},"Fleets Information")],-1)),_hoisted_4$w={class:"card-body row"},_hoisted_5$q={class:"fleet-count"},_hoisted_6$n={class:"col-7"},_hoisted_7$l=["onClick"],_hoisted_8$j=["src"];function _sfc_render$J(e,t,i,a,o,u){const d=resolveComponent("vc-donut");return openBlock(),createElementBlock("div",_hoisted_1$I,[createBaseVNode("div",_hoisted_2$D,[_hoisted_3$z,createBaseVNode("div",_hoisted_4$w,[createBaseVNode("div",{class:"col-5 pointer",onClick:t[0]||(t[0]=n=>u.doFilter({label:"all"}))},[i.fleets?(openBlock(),createBlock(d,{key:0,size:100,sections:o.fleetsGroup,unit:"%",total:i.fleets.length,"auto-adjust-text-size":!0},{default:withCtx(()=>[createBaseVNode("div",_hoisted_5$q,toDisplayString(i.fleets.length),1),createTextVNode(" Vessels ")]),_:1},8,["sections","total"])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_6$n,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.fleetsGroup,n=>(openBlock(),createElementBlock("div",{class:"pointer",key:n.label,onClick:k=>u.doFilter(n)},[createBaseVNode("img",{src:n.img},null,8,_hoisted_8$j),createTextVNode(" "+toDisplayString(n.name)+" ("+toDisplayString(n.value)+") ",1)],8,_hoisted_7$l))),128))])])])])}const fleetLegend=_export_sfc$1(_sfc_main$R,[["render",_sfc_render$J],["__scopeId","data-v-62e3f19d"]]),TableLite_vue_vue_type_style_index_0_scoped_8c9f1486_lang="",_sfc_main$Q=defineComponent({name:"my-table",emits:["return-checked-rows","do-search","is-finished","get-now-page","row-clicked","row-toggled"],props:{isLoading:{type:Boolean,require:!0},isReSearch:{type:Boolean,require:!0},hasCheckbox:{type:Boolean,default:!1},checkedReturnType:{type:String,default:"key"},title:{type:String,default:""},isFixedFirstColumn:{type:Boolean,default:!1},columns:{type:Array,default:()=>[]},rows:{type:Array,default:()=>[]},rowClasses:{type:[Array,Function],default:()=>[]},pageSize:{type:Number,default:10},total:{type:Number,default:100},page:{type:Number,default:1},sortable:{type:Object,default:()=>({order:"id",sort:"asc"})},messages:{type:Object,default:()=>({pagingInfo:"Showing {0}-{1} of {2}",pageSizeChangeLabel:"Row count:",gotoPageLabel:"Go to page:",noDataAvailable:"No data"})},isStaticMode:{type:Boolean,default:!1},isSlotMode:{type:Boolean,default:!1},isHidePaging:{type:Boolean,default:!1},pageOptions:{type:Array,default:()=>[{value:10,text:10},{value:25,text:25},{value:50,text:50}]},groupingKey:{type:String,default:""},hasGroupToggle:{type:Boolean,default:!1},groupingDisplay:{type:Function,default:null},maxHeight:{default:"auto"},startCollapsed:{type:Boolean,default:!1},isKeepCollapsed:{type:Boolean,default:!1},isVerticalHighlight:{type:Boolean,default:!1}},setup(e,{emit:t,slots:i}){let a=ref(null),o=e.pageOptions.length>0?ref(e.pageOptions[0].value):ref(e.pageSize);e.pageOptions.length>0&&e.pageOptions.forEach(g=>{Object.prototype.hasOwnProperty.call(g,"value")&&Object.prototype.hasOwnProperty.call(g,"text")&&e.pageSize==g.value&&(o.value=g.value)});const u=reactive({isSlotMode:e.isSlotMode,isCheckAll:!1,isHidePaging:e.isHidePaging,keyColumn:computed(()=>{let g="";return Object.assign(e.columns).forEach(A=>{A.isKey&&(g=A.field)}),g}),page:e.page,pageSize:o.value,maxPage:computed(()=>{if(e.total<=0)return 0;let g=Math.floor(e.total/u.pageSize);return e.total%u.pageSize>0&&g++,g}),offset:computed(()=>(u.page-1)*u.pageSize+1),limit:computed(()=>{let g=u.page*u.pageSize;return e.total>=g?g:e.total}),paging:computed(()=>{let g=u.page-2<=0?1:u.page-2;u.maxPage-u.page<=2&&(g=u.maxPage-4),g=g<=0?1:g;let A=[];for(let m=g;m<=u.maxPage;m++)A.length<5&&A.push(m);return A}),order:e.sortable.order,sort:e.sortable.sort,pageOptions:e.pageOptions,isVerticalHighlight:e.isVerticalHighlight}),d=ref([]),n=computed(()=>{let g=e.rows;var A=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});let m=u.sort==="desc"?-1:1;g.sort(function(x,M){return A.compare(x[u.order],M[u.order])*m});let y=null;if(e.groupingKey){let x={};g.forEach(M=>{x[M[e.groupingKey]]||(x[M[e.groupingKey]]=[]),x[M[e.groupingKey]].push(M)}),y={};for(let M=u.offset-1;M<u.limit;M++)y[g[M][e.groupingKey]]=x[g[M][e.groupingKey]]}else{y=[];for(let x=u.offset-1;x<u.limit;x++)y.push(g[x])}return nextTick$1(function(){C()}),y}),k=ref([]);onBeforeUpdate(()=>{k.value=[]}),watch(()=>u.isCheckAll,g=>{if(e.hasCheckbox){if(d.value=[],g){let A=e.isStaticMode?e.rows.slice(u.offset-1,u.limit):e.rows;e.checkedReturnType=="row"?d.value=A:A.forEach(m=>{d.value.push(m[u.keyColumn])})}k.value.forEach(A=>{A&&(A.checked=g)}),t("return-checked-rows",d.value)}}),watch(()=>e.hasCheckbox,g=>{g||(u.isCheckAll=!1)});const j=(g,A)=>{A.stopPropagation();let m=g[u.keyColumn];if(e.checkedReturnType=="row"&&(m=g),A.target.checked)d.value.push(m);else{const y=d.value.indexOf(m);y>=0&&d.value.splice(y,1)}d.value.length==e.rows.length?u.isCheckAll=!0:t("return-checked-rows",d.value)},Z=()=>{d.value=[],k.value.forEach(g=>{g&&g.checked&&(g.checked=!1)}),t("return-checked-rows",d.value)},z=g=>{let A="asc";g==u.order&&u.sort=="asc"&&(A="desc");let m=(u.page-1)*u.pageSize,y=u.pageSize;u.order=g,u.sort=A,t("do-search",m,y,g,A),u.isCheckAll?u.isCheckAll=!1:e.hasCheckbox&&Z()},H=(g,A)=>{u.isCheckAll=!1,e.hasCheckbox&&(d.value=[]);let m=u.order,y=u.sort,x=(g-1)*u.pageSize,M=u.pageSize;(!e.isReSearch||g>1||g==A)&&t("do-search",x,M,m,y)};watch(()=>u.page,H),watch(()=>e.page,g=>{g<=1?(u.page=1,t("get-now-page",u.page)):g>=u.maxPage?(u.page=u.maxPage,t("get-now-page",u.page)):u.page=g}),watch(()=>u.pageSize,()=>{u.page===1?H(u.page,u.page):(u.page=1,u.isCheckAll=!1)}),watch(()=>e.pageSize,g=>{u.pageSize=g});const I=()=>{if(u.page==1)return!1;u.page--},B=g=>{u.page=g},U=()=>{if(u.page>=u.maxPage)return!1;u.page++};watch(()=>e.rows,()=>{(e.isReSearch||e.isStaticMode)&&(u.page=1),nextTick$1(function(){e.isStaticMode||C()})});const T=(g,...A)=>g.replace(/{(\d+)}/g,function(m,y){return typeof A[y]<"u"?A[y]:m}),C=()=>{if(a.value){let g=a.value.getElementsByClassName("is-rows-el");t("is-finished",g)}t("get-now-page",u.page)},P=ref({}),G=ref({}),q=ref({}),N=computed(()=>{let g={};return e.rows.forEach(A=>{g[A[e.groupingKey]]||(g[A[e.groupingKey]]=[]),g[A[e.groupingKey]].push(A)}),nextTick$1(function(){if(e.startCollapsed||e.isKeepCollapsed){for(const[A,m]of Object.entries(P.value))if(m){let y=!e.startCollapsed;e.isKeepCollapsed&&q.value[A]!==void 0&&(y=!q.value[A]),(y&&m.parentElement.classList.contains("rotated-90")||!y&&!m.parentElement.classList.contains("rotated-90"))&&m.parentElement.classList.toggle("rotated-90"),y||G.value[A].forEach(x=>{x&&x.classList.add("hidden")})}}C()}),g}),ne=g=>{let A=P.value[g];if(A){A.parentElement.classList.toggle("rotated-90");const m=A.parentElement.classList.contains("rotated-90");G.value[g].forEach(y=>{y&&(m?y.classList.add("hidden"):y.classList.remove("hidden"))}),q.value[g]=m,t("row-toggled",N.value[g],m)}},K=g=>{g.target.classList.add("hover")},L=g=>{g.target.classList.remove("hover")},E=g=>{if(!u.isVerticalHighlight)return;let A=a.value.querySelectorAll(".vtl-tbody-td"+g);for(let m=0;m<A.length;m++)A[m].classList.add("hover")},w=g=>{if(!u.isVerticalHighlight)return;let A=a.value.querySelectorAll(".vtl-tbody-td"+g);for(let m=0;m<A.length;m++)A[m].classList.remove("hover")};return onMounted(()=>{nextTick$1(()=>{e.rows.length>0&&C()})}),{slots:i,localTable:a,localRows:n,setting:u,rowCheckbox:k,checked:j,clearChecked:Z,doSort:z,prevPage:I,movePage:B,nextPage:U,stringFormat:T,toggleButtonRefs:P,groupingRowsRefs:G,groupingRows:N,toggleGroup:ne,addHoverClassToTr:K,removeHoverClassFromTr:L,addVerticalHighlight:E,removeVerticalHighlight:w}}}),_withScopeId$9=e=>(pushScopeId("data-v-8c9f1486"),e=e(),popScopeId(),e),_hoisted_1$H={class:"vtl vtl-card"},_hoisted_2$C={key:0,class:"vtl-card-title"},_hoisted_3$y={class:"vtl-card-body"},_hoisted_4$v={class:"vtl-row"},_hoisted_5$p={key:0,class:"vtl-loading-mask"},_hoisted_6$m=_withScopeId$9(()=>createBaseVNode("div",{class:"vtl-loading-content"},[createBaseVNode("span",{style:{color:"white"}},"Loading...")],-1)),_hoisted_7$k=[_hoisted_6$m],_hoisted_8$i={class:"vtl-thead"},_hoisted_9$h={class:"vtl-thead-tr"},_hoisted_10$h={key:0,class:"vtl-thead-th vtl-checkbox-th"},_hoisted_11$h=["onClick","innerHTML"],_hoisted_12$e=["set"],_hoisted_13$c={key:0,class:"vtl-tbody-tr vtl-group-tr"},_hoisted_14$b=["colspan"],_hoisted_15$a={class:"flex"},_hoisted_16$8={key:0,class:"animation"},_hoisted_17$5=["onClick"],_hoisted_18$5=["innerHTML"],_hoisted_19$3=["name","onClick"],_hoisted_20$3={key:0,class:"vtl-tbody-td vtl-checkbox-td"},_hoisted_21$3=["value","onClick"],_hoisted_22$2=["onMouseover","onMouseleave"],_hoisted_23$2=["innerHTML"],_hoisted_24$2={key:1},_hoisted_25$2={key:0},_hoisted_26$2={key:1},_hoisted_27$2=["set"],_hoisted_28$1={key:0,class:"vtl-tbody-tr vtl-group-tr"},_hoisted_29$1=["colspan"],_hoisted_30$1={class:"flex"},_hoisted_31$1={key:0,class:"animation"},_hoisted_32$1=["onClick"],_hoisted_33=["innerHTML"],_hoisted_34=["name","onClick"],_hoisted_35={key:0,class:"vtl-tbody-td vtl-checkbox-td"},_hoisted_36$1=["value","onClick"],_hoisted_37$1=["onMouseover","onMouseleave"],_hoisted_38$1=["innerHTML"],_hoisted_39$1={key:1},_hoisted_40$1={key:0},_hoisted_41$1={key:1},_hoisted_42$1={key:0,class:"vtl-paging vtl-row"},_hoisted_43$1={class:"vtl-paging-info col-sm-12 col-md-4"},_hoisted_44$1={role:"status","aria-live":"polite"},_hoisted_45$1={class:"vtl-paging-change-div col-sm-12 col-md-4"},_hoisted_46$1={class:"vtl-paging-count-label"},_hoisted_47$1=["value"],_hoisted_48$1={class:"vtl-paging-page-label"},_hoisted_49$1=["value"],_hoisted_50$1={class:"vtl-paging-pagination-div col-sm-12 col-md-4"},_hoisted_51$1={class:"dataTables_paginate"},_hoisted_52={class:"vtl-paging-pagination-ul vtl-pagination"},_hoisted_53=_withScopeId$9(()=>createBaseVNode("span",{"aria-hidden":"true"},"«",-1)),_hoisted_54=_withScopeId$9(()=>createBaseVNode("span",{class:"sr-only"},"First",-1)),_hoisted_55=[_hoisted_53,_hoisted_54],_hoisted_56=_withScopeId$9(()=>createBaseVNode("span",{"aria-hidden":"true"},"<",-1)),_hoisted_57=_withScopeId$9(()=>createBaseVNode("span",{class:"sr-only"},"Prev",-1)),_hoisted_58=[_hoisted_56,_hoisted_57],_hoisted_59=["onClick"],_hoisted_60=_withScopeId$9(()=>createBaseVNode("span",{"aria-hidden":"true"},">",-1)),_hoisted_61=_withScopeId$9(()=>createBaseVNode("span",{class:"sr-only"},"Next",-1)),_hoisted_62=[_hoisted_60,_hoisted_61],_hoisted_63=_withScopeId$9(()=>createBaseVNode("span",{"aria-hidden":"true"},"»",-1)),_hoisted_64=_withScopeId$9(()=>createBaseVNode("span",{class:"sr-only"},"Last",-1)),_hoisted_65=[_hoisted_63,_hoisted_64],_hoisted_66={key:1,class:"vtl-row"},_hoisted_67={class:"vtl-empty-msg col-sm-12 text-center"};function _sfc_render$I(e,t,i,a,o,u){return openBlock(),createElementBlock("div",_hoisted_1$H,[e.title?(openBlock(),createElementBlock("div",_hoisted_2$C,toDisplayString(e.title),1)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3$y,[createBaseVNode("div",_hoisted_4$v,[createBaseVNode("div",{class:normalizeClass(["col-sm-12",{"fixed-first-column":e.isFixedFirstColumn,"fixed-first-second-column":e.isFixedFirstColumn&&e.hasCheckbox}])},[e.isLoading?(openBlock(),createElementBlock("div",_hoisted_5$p,_hoisted_7$k)):createCommentVNode("",!0),createBaseVNode("table",{class:"vtl-table vtl-table-hover vtl-table-bordered vtl-table-responsive vtl-table-responsive-sm",ref:"localTable",style:normalizeStyle("max-height: "+e.maxHeight+"px;")},[createBaseVNode("thead",_hoisted_8$i,[createBaseVNode("tr",_hoisted_9$h,[e.hasCheckbox?(openBlock(),createElementBlock("th",_hoisted_10$h,[createBaseVNode("div",null,[withDirectives(createBaseVNode("input",{type:"checkbox",class:"vtl-thead-checkbox","onUpdate:modelValue":t[0]||(t[0]=d=>e.setting.isCheckAll=d)},null,512),[[vModelCheckbox,e.setting.isCheckAll]])])])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.columns,(d,n)=>(openBlock(),createElementBlock("th",{class:normalizeClass(["vtl-thead-th",d.headerClasses]),key:n,style:normalizeStyle(Object.assign({width:d.width?d.width:"auto"},d.headerStyles))},[createBaseVNode("div",{class:normalizeClass(["vtl-thead-column",{"vtl-sortable":d.sortable,"vtl-both":d.sortable,"vtl-asc":e.setting.order===d.field&&e.setting.sort==="asc","vtl-desc":e.setting.order===d.field&&e.setting.sort==="desc"}]),onClick:withModifiers(k=>d.sortable?e.doSort(d.field):!1,["prevent"]),innerHTML:d.label},null,10,_hoisted_11$h)],6))),128))])]),e.rows.length>0?(openBlock(),createElementBlock(Fragment,{key:0},[e.isStaticMode?(openBlock(),createElementBlock("tbody",{key:0,class:"vtl-tbody",set:e.templateRows=e.groupingKey==""?[e.localRows]:e.localRows},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.templateRows,(d,n)=>(openBlock(),createElementBlock(Fragment,{key:n},[e.groupingKey!=""?(openBlock(),createElementBlock("tr",_hoisted_13$c,[createBaseVNode("td",{colspan:e.hasCheckbox?e.columns.length+1:e.columns.length,class:"vtl-tbody-td vtl-group-td"},[createBaseVNode("div",_hoisted_15$a,[e.hasGroupToggle?(openBlock(),createElementBlock("div",_hoisted_16$8,[createBaseVNode("a",{ref_for:!0,ref:k=>e.toggleButtonRefs[n]=k,class:"cursor-pointer",onClick:withModifiers(k=>e.toggleGroup(n),["prevent"])},"▼",8,_hoisted_17$5)])):createCommentVNode("",!0),createBaseVNode("div",{class:"ml-2",innerHTML:e.groupingDisplay?e.groupingDisplay(n):n},null,8,_hoisted_18$5)])],8,_hoisted_14$b)])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(d,(k,j)=>(openBlock(),createElementBlock("tr",{key:k[e.setting.keyColumn]?k[e.setting.keyColumn]:j,ref_for:!0,ref:Z=>{e.groupingRowsRefs[n]||(e.groupingRowsRefs[n]=[]),e.groupingRowsRefs[n][j]=Z},name:"vtl-group-"+n,class:normalizeClass(["vtl-tbody-tr",typeof e.rowClasses=="function"?e.rowClasses(k):e.rowClasses]),onMouseenter:t[1]||(t[1]=(...Z)=>e.addHoverClassToTr&&e.addHoverClassToTr(...Z)),onMouseleave:t[2]||(t[2]=(...Z)=>e.removeHoverClassFromTr&&e.removeHoverClassFromTr(...Z)),onClick:Z=>e.$emit("row-clicked",k)},[e.hasCheckbox?(openBlock(),createElementBlock("td",_hoisted_20$3,[createBaseVNode("div",null,[createBaseVNode("input",{type:"checkbox",class:"vtl-tbody-checkbox",ref_for:!0,ref:Z=>{e.rowCheckbox.push(Z)},value:k[e.setting.keyColumn],onClick:Z=>e.checked(k,Z)},null,8,_hoisted_21$3)])])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.columns,(Z,z)=>(openBlock(),createElementBlock("td",{key:z,class:normalizeClass(["vtl-tbody-td",["vtl-tbody-td"+z].concat(Z.columnClasses)]),style:normalizeStyle(Z.columnStyles),onMouseover:H=>e.addVerticalHighlight(z),onMouseleave:H=>e.removeVerticalHighlight(z)},[Z.display?(openBlock(),createElementBlock("div",{key:0,innerHTML:Z.display(k)},null,8,_hoisted_23$2)):(openBlock(),createElementBlock("div",_hoisted_24$2,[e.setting.isSlotMode&&e.slots[Z.field]?(openBlock(),createElementBlock("div",_hoisted_25$2,[renderSlot(e.$slots,Z.field,{value:k},void 0,!0)])):(openBlock(),createElementBlock("span",_hoisted_26$2,toDisplayString(k[Z.field]),1))]))],46,_hoisted_22$2))),128))],42,_hoisted_19$3))),128))],64))),128))],8,_hoisted_12$e)):(openBlock(),createElementBlock("tbody",{key:1,set:e.templateRows=e.groupingKey==""?[e.rows]:e.groupingRows},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.templateRows,(d,n)=>(openBlock(),createElementBlock(Fragment,{key:n},[e.groupingKey!=""?(openBlock(),createElementBlock("tr",_hoisted_28$1,[createBaseVNode("td",{colspan:e.hasCheckbox?e.columns.length+1:e.columns.length,class:"vtl-tbody-td vtl-group-td"},[createBaseVNode("div",_hoisted_30$1,[e.hasGroupToggle?(openBlock(),createElementBlock("div",_hoisted_31$1,[createBaseVNode("a",{ref_for:!0,ref:k=>e.toggleButtonRefs[n]=k,class:"cursor-pointer",onClick:withModifiers(k=>e.toggleGroup(n),["prevent"])},"▼",8,_hoisted_32$1)])):createCommentVNode("",!0),createBaseVNode("div",{class:"ml-2",innerHTML:e.groupingDisplay?e.groupingDisplay(n):n},null,8,_hoisted_33)])],8,_hoisted_29$1)])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(d,(k,j)=>(openBlock(),createElementBlock("tr",{ref_for:!0,ref:Z=>{e.groupingRowsRefs[n]||(e.groupingRowsRefs[n]=[]),e.groupingRowsRefs[n][j]=Z},name:"vtl-group-"+n,key:k[e.setting.keyColumn]?k[e.setting.keyColumn]:j,class:normalizeClass(["vtl-tbody-tr",typeof e.rowClasses=="function"?e.rowClasses(k):e.rowClasses]),onMouseenter:t[3]||(t[3]=(...Z)=>e.addHoverClassToTr&&e.addHoverClassToTr(...Z)),onMouseleave:t[4]||(t[4]=(...Z)=>e.removeHoverClassFromTr&&e.removeHoverClassFromTr(...Z)),onClick:Z=>e.$emit("row-clicked",k)},[e.hasCheckbox?(openBlock(),createElementBlock("td",_hoisted_35,[createBaseVNode("div",null,[createBaseVNode("input",{type:"checkbox",class:"vtl-tbody-checkbox",ref_for:!0,ref:Z=>{e.rowCheckbox.push(Z)},value:k[e.setting.keyColumn],onClick:Z=>e.checked(k,Z)},null,8,_hoisted_36$1)])])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.columns,(Z,z)=>(openBlock(),createElementBlock("td",{key:z,class:normalizeClass(["vtl-tbody-td",["vtl-tbody-td"+z].concat(Z.columnClasses)]),style:normalizeStyle(Z.columnStyles),onMouseover:H=>e.addVerticalHighlight(z),onMouseleave:H=>e.removeVerticalHighlight(z)},[Z.display?(openBlock(),createElementBlock("div",{key:0,innerHTML:Z.display(k)},null,8,_hoisted_38$1)):(openBlock(),createElementBlock("div",_hoisted_39$1,[e.setting.isSlotMode&&e.slots[Z.field]?(openBlock(),createElementBlock("div",_hoisted_40$1,[renderSlot(e.$slots,Z.field,{value:k},void 0,!0)])):(openBlock(),createElementBlock("span",_hoisted_41$1,toDisplayString(k[Z.field]),1))]))],46,_hoisted_37$1))),128))],42,_hoisted_34))),128))],64))),128))],8,_hoisted_27$2))],64)):createCommentVNode("",!0)],4)],2)]),e.rows.length>0?(openBlock(),createElementBlock("div",_hoisted_42$1,[e.setting.isHidePaging?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",_hoisted_43$1,[createBaseVNode("div",_hoisted_44$1,toDisplayString(e.stringFormat(e.messages.pagingInfo,e.setting.offset,e.setting.limit,e.total)),1)]),createBaseVNode("div",_hoisted_45$1,[createBaseVNode("span",_hoisted_46$1,toDisplayString(e.messages.pageSizeChangeLabel),1),withDirectives(createBaseVNode("select",{class:"vtl-paging-count-dropdown","onUpdate:modelValue":t[5]||(t[5]=d=>e.setting.pageSize=d)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.pageOptions,d=>(openBlock(),createElementBlock("option",{value:d.value,key:d.value},toDisplayString(d.text),9,_hoisted_47$1))),128))],512),[[vModelSelect,e.setting.pageSize]]),createBaseVNode("span",_hoisted_48$1,toDisplayString(e.messages.gotoPageLabel),1),withDirectives(createBaseVNode("select",{class:"vtl-paging-page-dropdown","onUpdate:modelValue":t[6]||(t[6]=d=>e.setting.page=d)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.setting.maxPage,d=>(openBlock(),createElementBlock("option",{key:d,value:parseInt(d)},toDisplayString(d),9,_hoisted_49$1))),128))],512),[[vModelSelect,e.setting.page]])]),createBaseVNode("div",_hoisted_50$1,[createBaseVNode("div",_hoisted_51$1,[createBaseVNode("ul",_hoisted_52,[createBaseVNode("li",{class:normalizeClass(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-first page-item",{disabled:e.setting.page<=1}])},[createBaseVNode("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-first page-link cursor-pointer","aria-label":"Previous",onClick:t[7]||(t[7]=withModifiers(d=>e.setting.page=1,["prevent"]))},_hoisted_55)],2),createBaseVNode("li",{class:normalizeClass(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-prev page-item",{disabled:e.setting.page<=1}])},[createBaseVNode("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-prev page-link cursor-pointer","aria-label":"Previous",onClick:t[8]||(t[8]=withModifiers((...d)=>e.prevPage&&e.prevPage(...d),["prevent"]))},_hoisted_58)],2),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.setting.paging,d=>(openBlock(),createElementBlock("li",{class:normalizeClass(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-number page-item",{disabled:e.setting.page===d}]),key:d},[createBaseVNode("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-number page-link cursor-pointer",onClick:withModifiers(n=>e.movePage(d),["prevent"])},toDisplayString(d),9,_hoisted_59)],2))),128)),createBaseVNode("li",{class:normalizeClass(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-next page-item",{disabled:e.setting.page>=e.setting.maxPage}])},[createBaseVNode("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-next page-link cursor-pointer","aria-label":"Next",onClick:t[9]||(t[9]=withModifiers((...d)=>e.nextPage&&e.nextPage(...d),["prevent"]))},_hoisted_62)],2),createBaseVNode("li",{class:normalizeClass(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-last page-item",{disabled:e.setting.page>=e.setting.maxPage}])},[createBaseVNode("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-last page-link cursor-pointer","aria-label":"Next",onClick:t[10]||(t[10]=withModifiers(d=>e.setting.page=e.setting.maxPage,["prevent"]))},_hoisted_65)],2)])])])],64))])):(openBlock(),createElementBlock("div",_hoisted_66,[createBaseVNode("div",_hoisted_67,toDisplayString(e.messages.noDataAvailable),1)]))])])}const TableLite=_export_sfc$1(_sfc_main$Q,[["render",_sfc_render$I],["__scopeId","data-v-8c9f1486"]]),fleet_table_vue_vue_type_style_index_0_lang="";var states={at_port:{img:"/icon/blue.png",name:"At Port"},underway:{img:"/icon/green.png",name:"Underway"},lost_connection:{img:"/icon/red.png",name:"Lost Connection"},at_anchorage:{img:"/icon/yellow.png",name:"At Anchorage"},other:{img:"/icon/purple.png",name:"Other"}};const _sfc_main$P={components:{TableLite},props:{},data(){return{keyword:"",isLoading:!1,fleets:[],columns:[{label:"Vessel Name",field:"name"},{label:"Vessel State",field:"fleet_status",display:function(e){return states[e.fleet_status]?states[e.fleet_status].name:"Other"}},{label:"Connection",field:"connected",display:function(e){return e.connected?'<div class="badge bg-success"></div> Good':'<div class="badge bg-danger"></div> No Connection'}},{label:"Last Connection At",field:"last_connection"},{label:"Location",field:"navigation.location",display:function(e){return e.navigation?`${e.navigation.lat.toFixed(4)} ${e.navigation.lat_dir}, ${e.navigation.lng.toFixed(4)} ${e.navigation.lng_dir}`:""}},{label:"Course",field:"navigation.sog",display:e=>e.navigation?e.navigation.cog:0},{label:"Speed (kn)",field:"navigation.sog",display:e=>e.navigation?e.navigation.sog:0},{label:"Origin",field:"voyage.origin"},{label:"Destination",field:"voyage.destination"},{label:"ETA",field:"voyage.eta"}],isHide:!0}},computed:{totalRecordCount(){return this.items.length},items(){return this.fleets.filter(e=>e.name.toLowerCase().includes(this.keyword.toLowerCase()))}},mounted(){this.fetchData()},methods:{doSearch(e,t,i,a){this.isLoading=!0,this.isLoading=!1},async fetchData(){let{data:e}=await axios.get("/api/fleets");e.forEach(t=>{this.fleets.push(t)})}}},_hoisted_1$G={class:"fleets-list"},_hoisted_2$B={class:"card"},_hoisted_3$x={class:"card-header search"},_hoisted_4$u={action:"#",method:"get",style:{width:"300px"}},_hoisted_5$o={class:"input-icon"},_hoisted_6$l=createStaticVNode('<span class="input-icon-addon"><svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><circle cx="10" cy="10" r="7"></circle><line x1="21" y1="21" x2="15" y2="15"></line></svg></span>',1),_hoisted_7$j={class:"card-actions btn-actions"},_hoisted_8$h={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},_hoisted_9$g=createBaseVNode("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),_hoisted_10$g=createBaseVNode("polyline",{points:"15 6 9 12 15 18"},null,-1),_hoisted_11$g=[_hoisted_9$g,_hoisted_10$g],_hoisted_12$d={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},_hoisted_13$b=createBaseVNode("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),_hoisted_14$a=createBaseVNode("polyline",{points:"6 9 12 15 18 9"},null,-1),_hoisted_15$9=[_hoisted_13$b,_hoisted_14$a];function _sfc_render$H(e,t,i,a,o,u){const d=resolveComponent("table-lite");return openBlock(),createElementBlock("div",_hoisted_1$G,[createBaseVNode("div",_hoisted_2$B,[createBaseVNode("div",_hoisted_3$x,[createBaseVNode("form",_hoisted_4$u,[createBaseVNode("div",_hoisted_5$o,[_hoisted_6$l,withDirectives(createBaseVNode("input",{type:"text",onFocus:t[0]||(t[0]=n=>o.isHide=!1),onKeyup:t[1]||(t[1]=(...n)=>e.search&&e.search(...n)),"onUpdate:modelValue":t[2]||(t[2]=n=>o.keyword=n),class:"form-control",placeholder:"Search…","aria-label":"Search in website"},null,544),[[vModelText,o.keyword]])])]),createBaseVNode("div",_hoisted_7$j,[createBaseVNode("a",{href:"#",class:"btn-action",onClick:t[3]||(t[3]=n=>o.isHide=!o.isHide)},[o.isHide?createCommentVNode("",!0):(openBlock(),createElementBlock("svg",_hoisted_8$h,_hoisted_11$g)),o.isHide?(openBlock(),createElementBlock("svg",_hoisted_12$d,_hoisted_15$9)):createCommentVNode("",!0)])])]),createBaseVNode("div",{class:normalizeClass(["card-table table-responsive",{hide:o.isHide}])},[createVNode(d,{"is-static-mode":!0,"is-loading":o.isLoading,columns:o.columns,rows:u.items,total:u.totalRecordCount,"page-size":5,pageOptions:[{value:5,text:5},{value:10,text:10},{value:25,text:25},{value:50,text:50}],onDoSearch:u.doSearch,onIsFinished:t[4]||(t[4]=n=>o.isLoading=!1)},null,8,["is-loading","columns","rows","total","onDoSearch"])],2)])])}const fleetTable=_export_sfc$1(_sfc_main$P,[["render",_sfc_render$H]]),dashboard_vue_vue_type_style_index_0_lang="";window.mapboxgl=mapboxgl;const _sfc_main$O={components:{"x-search":search,"x-notification":notification,"x-records":records,"x-navigation":navigation$1,"x-camera":camera,"x-parameter":parameter,"x-legend":fleetLegend,MapboxMap:MapboxMap_default,MapboxNavigationControl:MapboxNavigationControl_default,fleetTable},data(){return{weatherKey:"dfc256782db426c6a8d3b8daaefa5b33",weathers:[],icons:{at_port:blueShip,underway:greenShip,lost_connection:redShip,at_anchorage:yellowShip,other:purpleShip},map:null,current:[],timer:null,fleets:[],zoom:3,center:[118,0],popup:null,fleet:null,showSideInfo:!1,fleets_point:{type:"FeatureCollection",features:[]},fleetsGroup:[],filters:{}}},mounted(){this.timer=setInterval(()=>{this.refreshData()},5*1e3);let e=this;Object.keys(this.icons).forEach(function(t){e.map.loadImage(e.icons[t],(i,a)=>{if(i)throw i;e.map.addImage(t,a)})}),this.popup=new mapboxgl.Popup({closeButton:!0,closeOnClick:!1})},methods:{async fetchData(){let{data:e}=await axios.get("/api/fleets",{params:this.filters});this.fleets=e,this.fleets_point.features=[],e.forEach(t=>{if(t.navigation){let i=t.fleet_status;this.fleets_point.features.push({type:"Feature",geometry:{type:"Point",coordinates:[t.navigation.lng,t.navigation.lat]},properties:{scale:1,id:t.id,heading:t.navigation.heading,name:t.name,image:t.image,status:t.fleet_status,icon:i,depth:t.navigation.depth,sog:t.navigation.sog,cog:t.navigation.cog,imo:t.imo_number,last_update:format(t.last_connection),time:this.$filters.dateformat(t.last_connection,"DD/MM/YYYY HH:mm")}})}})},async loaded(){await this.fetchData(),this.buildLayer()},async refreshData(){await this.fetchData();let e=await this.map.getSource("ship-position");e&&e.setData(this.fleets_point)},buildLayer(){let e=this;this.map.addSource("ship-position",{type:"geojson",data:this.fleets_point}),this.map.addLayer({id:"ship-position",type:"symbol",source:"ship-position",layout:{"icon-image":["get","icon"],"icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.12,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}});const t=new mapboxgl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","ship-position",i=>{let a=i.features[0].properties.id;e.showInfo(a)}),this.map.on("mouseenter","ship-position",i=>{e.map.getCanvas().style.cursor="pointer";const a=i.features[0].geometry.coordinates.slice(),o=`<b>${i.features[0].properties.name} [ID]</b> at ${i.features[0].properties.sog} <b>kn</b> / ${i.features[0].properties.cog}&deg;<br>Last Update: <b>${i.features[0].properties.last_update}</b><br>Time: <b>${i.features[0].properties.time}</b>`;for(;Math.abs(i.lngLat.lng-a[0])>180;)a[0]+=i.lngLat.lng>a[0]?360:-360;t.setLngLat(a).setHTML(o).addTo(e.map)}),this.map.on("mouseleave","ship-position",()=>{e.map.getCanvas().style.cursor="",t.remove()})},async buildWeathers(){const u=[];for(let j=0;j<10;j++)for(let Z=0;Z<10;Z++)u.push({lat:-80+j*(80- -80)/10,lng:-180+Z*(180- -180)/10,val:0,wind:{},weather:{}});const d="https://api.openweathermap.org/data/2.5/weather?units=metric&lat=",n=u.map(j=>d+j.lat+"&lon="+j.lng+"&appid="+this.weatherKey),k=await Promise.all(n.map(async j=>(await fetch(j)).text()));u.forEach((j,Z)=>{let z=JSON.parse(k[Z]);j.val=z.main.temp,j.wind=z.wind,j.weather=z.weather[0]}),this.weathers=u},findFleet(e){if(!e.navigation)return;let t=e.id;this.popup.remove();const i=`<a class="no-style" href="/fleet/${t}"><b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>Last Update: <b>${format(e.last_connection)}</b><br>Time: ${this.$filters.dateformat(e.last_connection,"DD/MM/YYYY HH:mm")}</a>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(i).addTo(this.map),this.center=[e.navigation.lng,e.navigation.lat],this.zoom=5},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},showInfo(e){let t=this.fleets.findIndex(function(i){return i.id===e});t>=0&&(this.fleet=this.fleets[t],this.showSideInfo=!0)},buildTrack(e){console.log(e)},doFilter(e){this.filters.fleet_status=e.label,this.refreshData()}}},_hoisted_1$F={class:"position-relative"},_hoisted_2$A={class:"pointer-info",ref:"pointerInfo"};function _sfc_render$G(e,t,i,a,o,u){const d=resolveComponent("x-search"),n=resolveComponent("fleet-side-info"),k=resolveComponent("x-legend"),j=resolveComponent("MapboxNavigationControl"),Z=resolveComponent("MapboxMap"),z=resolveComponent("fleet-table");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$F,[createVNode(d,{fleets:o.fleets,onSelected:u.findFleet},null,8,["fleets","onSelected"]),o.fleet?(openBlock(),createBlock(n,{key:0,fleet:o.fleet,display:o.showSideInfo,onClose:t[0]||(t[0]=H=>o.showSideInfo=!1),onHistory:u.buildTrack},null,8,["fleet","display","onHistory"])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_2$A,null,512),createVNode(k,{fleets:o.fleets,onFilters:u.doFilter},null,8,["fleets","onFilters"]),createVNode(Z,{onMbCreated:t[1]||(t[1]=H=>o.map=H),onMbLoad:u.loaded,onMbMousemove:u.pointerLocation,style:{height:"calc(100vh - 128px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:o.center,zoom:o.zoom},{default:withCtx(()=>[createVNode(j,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center","zoom"])]),createVNode(z,{fleets:o.fleets},null,8,["fleets"])],64)}const MapDashboard=_export_sfc$1(_sfc_main$O,[["render",_sfc_render$G]]),shipIcon="/build/assets/ship-c94d8078.png",coordinates=[{time:1673037001e3,id:"c78219c1-d81e-4d33-8984-e39fa3710bfa",ship_id:1,terminal_time:"2023-01-06 20:30:01",lat:-6.009818,lng:106.900525,wind_speed:17.4,wind_direction:21,heading:249.1,distance:88548.42,depth:-12,cog:282.6,sog:0,created_at:"2023-01-07 08:06:28",updated_at:"2023-01-07 08:06:28"},{time:1673037901e3,id:"ee8ec98d-526d-46bf-9d00-ec50433fafb3",ship_id:1,terminal_time:"2023-01-06 20:45:01",lat:-6.009707,lng:106.900482,wind_speed:19.6,wind_direction:15.4,heading:242.9,distance:88548.43,depth:-12.1,cog:358.3,sog:0,created_at:"2023-01-07 08:07:15",updated_at:"2023-01-07 08:07:15"},{time:1673038801e3,id:"22cab800-8d22-44fb-abc1-f5fafd1947a3",ship_id:1,terminal_time:"2023-01-06 21:00:01",lat:-6.00976,lng:106.90053,wind_speed:17.1,wind_direction:16.8,heading:247,distance:88548.44,depth:-12.3,cog:285.2,sog:.1,created_at:"2023-01-07 08:07:02",updated_at:"2023-01-07 08:07:02"},{time:1673039701e3,id:"ee9bb42d-3fac-455b-8140-e032fc3abdcc",ship_id:1,terminal_time:"2023-01-06 21:15:01",lat:-6.0098,lng:106.900533,wind_speed:16.5,wind_direction:19.6,heading:247.1,distance:88548.45,depth:-12.1,cog:208.1,sog:.1,created_at:"2023-01-07 08:06:48",updated_at:"2023-01-07 08:06:48"},{time:1673040601e3,id:"9bf240fd-0767-4f62-94c9-91a4ef95f0cd",ship_id:1,terminal_time:"2023-01-06 21:30:01",lat:-6.009815,lng:106.900515,wind_speed:18.8,wind_direction:21,heading:248,distance:88548.46,depth:-12.1,cog:192.2,sog:0,created_at:"2023-01-07 08:06:43",updated_at:"2023-01-07 08:06:43"},{time:1673041501e3,id:"f4b05071-bc72-44fd-b58b-63e43e69112b",ship_id:1,terminal_time:"2023-01-06 21:45:01",lat:-6.00981,lng:106.900533,wind_speed:18.8,wind_direction:19.6,heading:0,distance:0,depth:-12.1,cog:79.9,sog:0,created_at:"2023-01-07 08:07:29",updated_at:"2023-01-07 08:07:29"},{time:1673042401e3,id:"2d2f89d4-18d5-4ac9-b08b-949a44cad43a",ship_id:1,terminal_time:"2023-01-06 22:00:01",lat:-6.009765,lng:106.900487,wind_speed:15.1,wind_direction:16.8,heading:0,distance:0,depth:-12.1,cog:11.7,sog:0,created_at:"2023-01-07 08:08:00",updated_at:"2023-01-07 08:08:00"},{time:1673043301e3,id:"e79b359c-6eb7-41e3-a526-c4c06282e62a",ship_id:1,terminal_time:"2023-01-06 22:15:01",lat:-6.009688,lng:106.900457,wind_speed:18.6,wind_direction:11.2,heading:242.7,distance:88548.47,depth:-12.1,cog:121.2,sog:0,created_at:"2023-01-07 08:07:47",updated_at:"2023-01-07 08:07:47"},{time:1673044201e3,id:"2750d1e6-4e3c-4946-a145-3e66185627ef",ship_id:1,terminal_time:"2023-01-06 22:30:01",lat:-6.009655,lng:106.900433,wind_speed:14.7,wind_direction:12.5,heading:242.4,distance:88548.48,depth:-12.1,cog:185.9,sog:.1,created_at:"2023-01-07 08:07:40",updated_at:"2023-01-07 08:07:40"},{time:1673045101e3,id:"85d26971-e86f-4f16-8fa5-bc711fcb9b91",ship_id:1,terminal_time:"2023-01-06 22:45:01",lat:-6.0096,lng:106.900403,wind_speed:13.2,wind_direction:11.2,heading:239.6,distance:88548.48,depth:-12.1,cog:180.1,sog:0,created_at:"2023-01-07 08:08:22",updated_at:"2023-01-07 08:08:22"},{time:1673046001e3,id:"06fa9922-e8d6-41c9-886e-e5295949399c",ship_id:1,terminal_time:"2023-01-06 23:00:01",lat:-16.056667,lng:116.8825,wind_speed:16.3,wind_direction:16.8,heading:241.5,distance:88548.49,depth:-12.1,cog:0,sog:0,created_at:"2023-01-07 08:08:11",updated_at:"2023-01-07 08:08:11"},{time:1673046901e3,id:"557403a0-0bc2-42f1-9a07-646c8d66822e",ship_id:1,terminal_time:"2023-01-06 23:15:01",lat:-6.009613,lng:106.900427,wind_speed:18.6,wind_direction:16.8,heading:240.7,distance:88548.49,depth:-12.3,cog:.9,sog:0,created_at:"2023-01-07 08:08:10",updated_at:"2023-01-07 08:08:10"},{time:1673047801e3,id:"bb7144ef-0827-4d3d-9c7b-b0bb7881f441",ship_id:1,terminal_time:"2023-01-06 23:30:01",lat:-6.009658,lng:106.900407,wind_speed:14.1,wind_direction:21,heading:0,distance:0,depth:-12.3,cog:192.5,sog:0,created_at:"2023-01-07 08:07:55",updated_at:"2023-01-07 08:07:55"},{time:1673048701e3,id:"8df2a863-e7d4-4c66-ab22-310f7ac661f2",ship_id:1,terminal_time:"2023-01-06 23:45:01",lat:-6.009732,lng:106.900458,wind_speed:15.7,wind_direction:21,heading:244.8,distance:88548.49,depth:-12.3,cog:152.6,sog:0,created_at:"2023-01-07 08:08:26",updated_at:"2023-01-07 08:08:26"},{time:1673049601e3,id:"e7d31596-5cc9-4fab-850b-c892908430b8",ship_id:1,terminal_time:"2023-01-07 00:00:01",lat:-6.009775,lng:106.900575,wind_speed:19.8,wind_direction:21,heading:250.9,distance:88548.5,depth:-12.3,cog:178.6,sog:.1,created_at:"2023-01-07 08:08:38",updated_at:"2023-01-07 08:08:38"},{time:1673050503e3,id:"1ae1dd53-7f4b-48cb-9aa3-af6f97274fdb",ship_id:1,terminal_time:"2023-01-07 00:15:03",lat:-6.010635,lng:106.898792,wind_speed:21.1,wind_direction:33.6,heading:236.2,distance:88548.61,depth:-12.3,cog:236.1,sog:2.5,created_at:"2023-01-07 08:09:21",updated_at:"2023-01-07 08:09:21"},{time:1673051403e3,id:"c12a6b0d-c9db-4451-a7c5-6f13c29e0954",ship_id:1,terminal_time:"2023-01-07 00:30:03",lat:-6.030335,lng:106.886345,wind_speed:19.8,wind_direction:54.9,heading:195.2,distance:88550.03,depth:-10.6,cog:193.8,sog:7.1,created_at:"2023-01-07 08:08:47",updated_at:"2023-01-07 08:08:47"},{time:1673052303e3,id:"c5971d9c-2c92-4736-950d-6734e6b305cd",ship_id:1,terminal_time:"2023-01-07 00:45:03",lat:-6.059783,lng:106.883237,wind_speed:19.6,wind_direction:67.5,heading:185.4,distance:88551.81,depth:-9.3,cog:182.4,sog:6.5,created_at:"2023-01-07 08:09:35",updated_at:"2023-01-07 08:09:35"},{time:1673053308e3,id:"bd9913a5-6be1-4c3b-89d1-938a9cf2f382",ship_id:1,terminal_time:"2023-01-07 01:01:48",lat:-6.08938,lng:106.883468,wind_speed:16.3,wind_direction:78.7,heading:0,distance:0,depth:-9,cog:161.9,sog:8.8,created_at:"2023-01-07 08:09:28",updated_at:"2023-01-07 08:09:28"},{time:1673054103e3,id:"aac0a1a7-cf35-4a7c-bdff-faef950524be",ship_id:1,terminal_time:"2023-01-07 01:15:03",lat:-6.095888,lng:106.902867,wind_speed:7.9,wind_direction:168.9,heading:0,distance:0,depth:-8.5,cog:97.1,sog:4.1,created_at:"2023-01-07 08:09:07",updated_at:"2023-01-07 08:09:07"},{time:1673055003e3,id:"db38b400-18fe-4637-84bc-441c4333900c",ship_id:1,terminal_time:"2023-01-07 01:30:03",lat:-6.100858,lng:106.906243,wind_speed:6.2,wind_direction:259,heading:0,distance:0,depth:-6,cog:181,sog:1,created_at:"2023-01-07 08:09:40",updated_at:"2023-01-07 08:09:40"},{time:1673055903e3,id:"52f58367-b5da-4516-99ac-401425b6889a",ship_id:1,terminal_time:"2023-01-07 01:45:03",lat:-6.101412,lng:106.90592,wind_speed:7.7,wind_direction:270.3,heading:0,distance:88555.15,depth:-2.1,cog:209.8,sog:0,created_at:"2023-01-07 08:09:32",updated_at:"2023-01-07 08:09:32"},{time:1673056803e3,id:"f8144029-2e71-4a9f-a077-871b58532749",ship_id:1,terminal_time:"2023-01-07 02:00:03",lat:-6.101405,lng:106.905882,wind_speed:3.3,wind_direction:280,heading:0,distance:88555.16,depth:-2.1,cog:349.2,sog:0,created_at:"2023-01-07 08:09:31",updated_at:"2023-01-07 08:09:31"},{time:1673057703e3,id:"03be7e48-aa1c-4ffb-8c39-402c203a283e",ship_id:1,terminal_time:"2023-01-07 02:15:03",lat:-6.101395,lng:106.905868,wind_speed:8.1,wind_direction:281.5,heading:359.9,distance:88555.18,depth:-2.1,cog:328.8,sog:.1,created_at:"2023-01-07 08:10:05",updated_at:"2023-01-07 08:10:05"},{time:1673058603e3,id:"fa44cb0f-6f3d-4e8d-b2b5-6540c952f48b",ship_id:1,terminal_time:"2023-01-07 02:30:03",lat:-6.101392,lng:106.90591,wind_speed:11,wind_direction:259,heading:359.9,distance:88555.18,depth:-2.1,cog:302,sog:0,created_at:"2023-01-07 08:10:07",updated_at:"2023-01-07 08:10:07"},{time:1673059503e3,id:"75810f78-b08f-42b1-a508-ee1b5d13c9e5",ship_id:1,terminal_time:"2023-01-07 02:45:03",lat:-6.101392,lng:106.90587,wind_speed:11,wind_direction:274.5,heading:359.7,distance:88555.19,depth:-2.1,cog:336.9,sog:.1,created_at:"2023-01-07 08:10:09",updated_at:"2023-01-07 08:10:09"},{time:1673060403e3,id:"b8076a15-7e98-4b6b-af9b-0261c6d1ce26",ship_id:1,terminal_time:"2023-01-07 03:00:03",lat:-6.101413,lng:106.905907,wind_speed:9.3,wind_direction:267.4,heading:359.5,distance:88555.2,depth:-2.1,cog:327.9,sog:0,created_at:"2023-01-07 08:09:38",updated_at:"2023-01-07 08:09:38"},{time:1673061303e3,id:"32656a8d-db24-44cc-af81-a149b2fa4e1f",ship_id:1,terminal_time:"2023-01-07 03:15:03",lat:-6.101405,lng:106.905922,wind_speed:8.5,wind_direction:270.3,heading:359.3,distance:88555.2,depth:-5.5,cog:34.4,sog:.1,created_at:"2023-01-07 08:10:40",updated_at:"2023-01-07 08:10:40"},{time:1673062203e3,id:"3e3fcfcf-19d1-4d33-857a-f68b14328338",ship_id:1,terminal_time:"2023-01-07 03:30:03",lat:-6.101402,lng:106.905877,wind_speed:6.2,wind_direction:268.8,heading:359.5,distance:88555.2,depth:-2.1,cog:292.1,sog:0,created_at:"2023-01-07 08:10:33",updated_at:"2023-01-07 08:10:33"},{time:1673063103e3,id:"1c4697c3-b6e6-4eb4-b165-94d5d36d3aa1",ship_id:1,terminal_time:"2023-01-07 03:45:03",lat:-6.10142,lng:106.905858,wind_speed:5.2,wind_direction:264.5,heading:359.7,distance:88555.2,depth:-2.1,cog:129.7,sog:0,created_at:"2023-01-07 08:10:44",updated_at:"2023-01-07 08:10:44"},{time:1673064003e3,id:"ba69338a-3d22-4a08-bb11-d3f886eb6c9b",ship_id:1,terminal_time:"2023-01-07 04:00:03",lat:-6.101392,lng:106.905878,wind_speed:5.6,wind_direction:264.5,heading:359.8,distance:88555.2,depth:-2.3,cog:233.4,sog:0,created_at:"2023-01-07 08:10:39",updated_at:"2023-01-07 08:10:39"},{time:1673064903e3,id:"bd930a40-a514-4c87-8044-e8633e1c1c52",ship_id:1,terminal_time:"2023-01-07 04:15:03",lat:-6.101395,lng:106.905902,wind_speed:6.4,wind_direction:252,heading:359.7,distance:88555.2,depth:0,cog:274.4,sog:0,created_at:"2023-01-07 08:11:40",updated_at:"2023-01-07 08:11:40"},{time:1673065803e3,id:"6544c411-e0b0-40bb-bf1e-efd22c3a2595",ship_id:1,terminal_time:"2023-01-07 04:30:03",lat:-6.101398,lng:106.905932,wind_speed:5.4,wind_direction:252,heading:359.7,distance:88555.2,depth:-2.5,cog:276.2,sog:0,created_at:"2023-01-07 08:11:26",updated_at:"2023-01-07 08:11:26"},{time:1673066703e3,id:"02b25b22-4c20-48a6-a3ad-5944f017c3b9",ship_id:1,terminal_time:"2023-01-07 04:45:03",lat:-6.101387,lng:106.9059,wind_speed:9.3,wind_direction:257.5,heading:0,distance:0,depth:-2.5,cog:163.2,sog:0,created_at:"2023-01-07 08:10:53",updated_at:"2023-01-07 08:10:53"},{time:1673067608e3,id:"523c3936-bffc-4662-9879-e3dff459febf",ship_id:1,terminal_time:"2023-01-07 05:00:08",lat:-6.101402,lng:106.905932,wind_speed:3.6,wind_direction:257.5,heading:359.7,distance:88555.21,depth:-2.5,cog:195.8,sog:0,created_at:"2023-01-07 08:11:05",updated_at:"2023-01-07 08:11:05"},{time:1673068503e3,id:"ccdee8cd-a739-471e-9dfc-0aa08c034f7a",ship_id:1,terminal_time:"2023-01-07 05:15:03",lat:-6.101402,lng:106.905907,wind_speed:6,wind_direction:257.5,heading:359.6,distance:88555.21,depth:-6.1,cog:162.3,sog:0,created_at:"2023-01-07 08:10:45",updated_at:"2023-01-07 08:10:45"},{time:1673069403e3,id:"d3d4589c-77e7-48fc-b418-c5957dae636d",ship_id:1,terminal_time:"2023-01-07 05:30:03",lat:-6.101398,lng:106.905877,wind_speed:7.7,wind_direction:263.1,heading:359.6,distance:88555.21,depth:-6,cog:295.8,sog:0,created_at:"2023-01-07 08:11:06",updated_at:"2023-01-07 08:11:06"},{time:1673070303e3,id:"9285db16-04b0-4d1a-812e-94fe03b78b0d",ship_id:1,terminal_time:"2023-01-07 05:45:03",lat:-6.101412,lng:106.90585,wind_speed:9.3,wind_direction:274.5,heading:359.6,distance:88555.21,depth:-2.6,cog:268.8,sog:0,created_at:"2023-01-07 08:11:37",updated_at:"2023-01-07 08:11:37"},{time:1673071203e3,id:"4cb25dd1-23a6-4a37-81de-b46cc1e8df0b",ship_id:1,terminal_time:"2023-01-07 06:00:03",lat:-6.101398,lng:106.905858,wind_speed:5.6,wind_direction:268.8,heading:359.6,distance:88555.21,depth:-2.8,cog:327.7,sog:0,created_at:"2023-01-07 08:12:02",updated_at:"2023-01-07 08:12:02"},{time:1673072103e3,id:"6ebeea29-07ba-4384-8f78-c0244a1a85e8",ship_id:1,terminal_time:"2023-01-07 06:15:03",lat:-6.101398,lng:106.905865,wind_speed:6,wind_direction:268.8,heading:0,distance:0,depth:-2.8,cog:324.2,sog:0,created_at:"2023-01-07 08:11:27",updated_at:"2023-01-07 08:11:27"},{time:1673073003e3,id:"de3806a1-9032-426c-84dc-93a8c6d7c31d",ship_id:1,terminal_time:"2023-01-07 06:30:03",lat:-6.101413,lng:106.905873,wind_speed:3.6,wind_direction:256.1,heading:359.7,distance:88555.21,depth:-2.8,cog:5.8,sog:0,created_at:"2023-01-07 08:12:23",updated_at:"2023-01-07 08:12:23"},{time:1673073903e3,id:"65707fec-2ee3-473e-beeb-9b2e845a36ca",ship_id:1,terminal_time:"2023-01-07 06:45:03",lat:-6.101433,lng:106.905833,wind_speed:6.8,wind_direction:257.5,heading:359.7,distance:88555.21,depth:-2.8,cog:304.6,sog:0,created_at:"2023-01-07 08:12:19",updated_at:"2023-01-07 08:12:19"},{time:1673074803e3,id:"6fa32b36-f399-4d56-8fa7-bea17b414006",ship_id:1,terminal_time:"2023-01-07 07:00:03",lat:-6.101392,lng:106.905888,wind_speed:3.4,wind_direction:246.3,heading:0,distance:0,depth:-2.8,cog:93.1,sog:0,created_at:"2023-01-07 08:12:40",updated_at:"2023-01-07 08:12:40"},{time:1673075703e3,id:"67ff30a8-02ef-41c0-bd19-463ebbd32668",ship_id:1,terminal_time:"2023-01-07 07:15:03",lat:-6.101408,lng:106.905885,wind_speed:7.5,wind_direction:229.4,heading:359.7,distance:88555.21,depth:-2.8,cog:197,sog:0,created_at:"2023-01-07 08:12:42",updated_at:"2023-01-07 08:12:42"},{time:1673094603e3,id:"3f01785d-ea13-49f9-b6ae-419329c8f20a",ship_id:1,terminal_time:"2023-01-07 12:30:03",lat:-6.101452,lng:106.905917,wind_speed:14.7,wind_direction:347.6,heading:0,distance:0,depth:-3.1,cog:35.3,sog:0,created_at:"2023-01-08 08:13:52",updated_at:"2023-01-08 08:13:52"},{time:1673095503e3,id:"317256ef-d958-4792-ac19-0af4678f296f",ship_id:1,terminal_time:"2023-01-07 12:45:03",lat:-6.101427,lng:106.905863,wind_speed:14.9,wind_direction:315.3,heading:359.7,distance:88555.22,depth:-3,cog:35.3,sog:0,created_at:"2023-01-08 08:24:39",updated_at:"2023-01-08 08:24:39"},{time:1673096403e3,id:"01638351-e630-4d24-a1b3-dc902b3abd82",ship_id:1,terminal_time:"2023-01-07 13:00:03",lat:-6.10141,lng:106.905895,wind_speed:17.3,wind_direction:326.5,heading:359.7,distance:88555.22,depth:-3,cog:91.4,sog:0,created_at:"2023-01-08 08:20:11",updated_at:"2023-01-08 08:20:11"},{time:1673097303e3,id:"70c8224a-27c3-469d-9482-f3b2e98f4bee",ship_id:1,terminal_time:"2023-01-07 13:15:03",lat:-6.101365,lng:106.905885,wind_speed:13.9,wind_direction:342,heading:359.7,distance:88555.22,depth:-3,cog:153.7,sog:0,created_at:"2023-01-08 08:07:44",updated_at:"2023-01-08 08:07:44"},{time:1673098203e3,id:"54be4b76-e5c1-4af2-b06a-d08e68ca8e6d",ship_id:1,terminal_time:"2023-01-07 13:30:03",lat:-6.101402,lng:106.905883,wind_speed:8.3,wind_direction:309.6,heading:359.9,distance:88555.22,depth:-2.8,cog:103.8,sog:0,created_at:"2023-01-08 08:05:41",updated_at:"2023-01-08 08:05:41"},{time:1673099103e3,id:"f45be026-3f21-4763-9f2e-599cfd772936",ship_id:1,terminal_time:"2023-01-07 13:45:03",lat:-6.101387,lng:106.90587,wind_speed:7.1,wind_direction:336.4,heading:359.6,distance:88555.22,depth:-3,cog:22,sog:0,created_at:"2023-01-08 08:25:15",updated_at:"2023-01-08 08:25:15"},{time:1673100003e3,id:"dda32aec-7c91-4a18-bc02-c6f8b1d47700",ship_id:1,terminal_time:"2023-01-07 14:00:03",lat:-6.101395,lng:106.905882,wind_speed:7.9,wind_direction:332.1,heading:0,distance:0,depth:-2.8,cog:57.4,sog:0,created_at:"2023-01-08 08:08:16",updated_at:"2023-01-08 08:08:16"},{time:1673100903e3,id:"b22e0b57-db66-4fe8-8773-39a691c334f9",ship_id:1,terminal_time:"2023-01-07 14:15:03",lat:-6.101398,lng:106.905873,wind_speed:8.3,wind_direction:350.5,heading:359.6,distance:88555.22,depth:-2.8,cog:37.9,sog:0,created_at:"2023-01-08 08:21:48",updated_at:"2023-01-08 08:21:48"},{time:1673101803e3,id:"4cb687f7-6740-478a-b9d8-7c415359678f",ship_id:1,terminal_time:"2023-01-07 14:30:03",lat:-6.101415,lng:106.90584,wind_speed:7.1,wind_direction:334.9,heading:359.7,distance:88555.23,depth:-2.8,cog:335.3,sog:0,created_at:"2023-01-08 08:14:53",updated_at:"2023-01-08 08:14:53"},{time:1673102703e3,id:"31d66256-54fa-4245-874b-a971ded2ac22",ship_id:1,terminal_time:"2023-01-07 14:45:03",lat:-6.10138,lng:106.905867,wind_speed:14.9,wind_direction:337.8,heading:359.7,distance:88555.23,depth:-2.8,cog:27.8,sog:0,created_at:"2023-01-08 08:03:26",updated_at:"2023-01-08 08:03:26"},{time:1673103603e3,id:"6e9c3626-321a-4c87-adb4-5e285a43cdf7",ship_id:1,terminal_time:"2023-01-07 15:00:03",lat:-6.101413,lng:106.905813,wind_speed:9.3,wind_direction:315.3,heading:359.6,distance:88555.24,depth:-2.6,cog:326.6,sog:.1,created_at:"2023-01-08 08:01:50",updated_at:"2023-01-08 08:01:50"},{time:1673104503e3,id:"dabbcbd4-70dc-48a7-9bf6-6a791bf70bf0",ship_id:1,terminal_time:"2023-01-07 15:15:03",lat:-6.101362,lng:106.905902,wind_speed:8.5,wind_direction:315.3,heading:359.6,distance:88555.25,depth:-2.6,cog:286.2,sog:0,created_at:"2023-01-08 08:14:31",updated_at:"2023-01-08 08:14:31"},{time:1673105403e3,id:"9ce52c58-26fe-4b79-acf6-efd91d7c3dea",ship_id:1,terminal_time:"2023-01-07 15:30:03",lat:-6.101402,lng:106.905895,wind_speed:8.7,wind_direction:290,heading:359.6,distance:88555.25,depth:-2.5,cog:39.8,sog:0,created_at:"2023-01-08 08:06:38",updated_at:"2023-01-08 08:06:38"},{time:1673106303e3,id:"fab10037-7bec-4b1b-a448-af671c2e5a09",ship_id:1,terminal_time:"2023-01-07 15:45:03",lat:-6.101377,lng:106.905907,wind_speed:9.1,wind_direction:302.5,heading:359.6,distance:88555.25,depth:-2.5,cog:11.5,sog:0,created_at:"2023-01-08 08:26:36",updated_at:"2023-01-08 08:26:36"},{time:1673107203e3,id:"72c4e9f4-b126-4cd5-af12-72d225bcc777",ship_id:1,terminal_time:"2023-01-07 16:00:03",lat:-6.101407,lng:106.90585,wind_speed:16.5,wind_direction:261,heading:359.5,distance:88555.26,depth:-2.5,cog:227.4,sog:0,created_at:"2023-01-08 08:29:59",updated_at:"2023-01-08 08:29:59"},{time:1673108103e3,id:"4dda9ef7-b131-499c-abb6-90d31b833212",ship_id:1,terminal_time:"2023-01-07 16:15:03",lat:-6.101415,lng:106.905928,wind_speed:7.7,wind_direction:274.5,heading:359.7,distance:88555.26,depth:-2.5,cog:276.8,sog:0,created_at:"2023-01-08 08:35:23",updated_at:"2023-01-08 08:35:23"},{time:1673109003e3,id:"eb055a93-284e-490c-b241-fc286a5245cb",ship_id:1,terminal_time:"2023-01-07 16:30:03",lat:-6.101398,lng:106.905935,wind_speed:18.4,wind_direction:281.5,heading:359.5,distance:88555.26,depth:-2.5,cog:150.5,sog:.1,created_at:"2023-01-08 08:19:17",updated_at:"2023-01-08 08:19:17"},{time:1673109903e3,id:"70fe1092-70d1-4e3e-9e6a-880e95753afe",ship_id:1,terminal_time:"2023-01-07 16:45:03",lat:-6.101348,lng:106.905867,wind_speed:12.8,wind_direction:244.9,heading:359.6,distance:88555.27,depth:-2.3,cog:354.6,sog:0,created_at:"2023-01-08 08:39:36",updated_at:"2023-01-08 08:39:36"},{time:1673110803e3,id:"256314cb-dc49-4a3d-bfc0-33982995e693",ship_id:1,terminal_time:"2023-01-07 17:00:03",lat:-6.101383,lng:106.905903,wind_speed:12,wind_direction:291.4,heading:359.6,distance:88555.27,depth:-2.5,cog:354.6,sog:0,created_at:"2023-01-08 08:12:53",updated_at:"2023-01-08 08:12:53"},{time:1673111703e3,id:"3cec9ede-f851-4440-95b3-e72f237da615",ship_id:1,terminal_time:"2023-01-07 17:15:03",lat:-6.101377,lng:106.905882,wind_speed:9.9,wind_direction:292.8,heading:359.6,distance:88555.27,depth:-2.5,cog:311.3,sog:0,created_at:"2023-01-08 08:18:20",updated_at:"2023-01-08 08:18:20"},{time:1673112893e3,id:"da145ee1-2387-4054-9190-cfd1c2e5f63c",ship_id:1,terminal_time:"2023-01-07 17:34:53",lat:-6.101393,lng:106.905928,wind_speed:13.6,wind_direction:257.1,heading:359.6,distance:88555.27,depth:-2.5,cog:278.9,sog:0,created_at:"2023-01-08 08:26:11",updated_at:"2023-01-08 08:26:11"},{time:1673113508e3,id:"25b0fe9e-9b29-4029-a7db-9138ef1c0173",ship_id:1,terminal_time:"2023-01-07 17:45:08",lat:-6.101463,lng:106.90597,wind_speed:14.3,wind_direction:263.1,heading:359.6,distance:88555.27,depth:-2.5,cog:350.3,sog:.1,created_at:"2023-01-08 08:06:11",updated_at:"2023-01-08 08:06:11"},{time:1673114403e3,id:"d85ae345-eb3f-420f-ae10-c8f0c078fb2d",ship_id:1,terminal_time:"2023-01-07 18:00:03",lat:-6.101395,lng:106.90591,wind_speed:15.3,wind_direction:246.3,heading:359.6,distance:88555.28,depth:-2.5,cog:8.3,sog:0,created_at:"2023-01-08 08:21:44",updated_at:"2023-01-08 08:21:44"},{time:1673115303e3,id:"388136b9-939e-4016-bb94-69e2165428e2",ship_id:1,terminal_time:"2023-01-07 18:15:03",lat:-6.101417,lng:106.905957,wind_speed:11,wind_direction:237,heading:359.7,distance:88555.28,depth:-2.5,cog:320.6,sog:0,created_at:"2023-01-08 08:27:27",updated_at:"2023-01-08 08:27:27"},{time:1673116203e3,id:"718bb2e9-5a2a-47c8-9899-3f613b300f13",ship_id:1,terminal_time:"2023-01-07 18:30:03",lat:-6.1014230000000005,lng:106.90596,wind_speed:10.1,wind_direction:252,heading:359.7,distance:88555.28,depth:-2.5,cog:262,sog:.3,created_at:"2023-01-08 08:35:15",updated_at:"2023-01-08 08:35:15"},{time:1673117103e3,id:"58662b8e-afe4-4e8d-9d81-e92fd5bd6de1",ship_id:1,terminal_time:"2023-01-07 18:45:03",lat:-6.101337,lng:106.905935,wind_speed:16.7,wind_direction:259,heading:359.6,distance:88555.28,depth:-2.5,cog:265.6,sog:0,created_at:"2023-01-08 08:24:32",updated_at:"2023-01-08 08:24:32"},{time:1673118003e3,id:"9dcc2e7d-fc6a-4026-8452-732e033d633d",ship_id:1,terminal_time:"2023-01-07 19:00:03",lat:-6.101408,lng:106.905923,wind_speed:12.6,wind_direction:270.4,heading:0,distance:0,depth:-2.5,cog:251.1,sog:.1,created_at:"2023-01-08 08:31:10",updated_at:"2023-01-08 08:31:10"},{time:1673118903e3,id:"d77f77c6-11e3-4d58-8a75-767aacbdee1c",ship_id:1,terminal_time:"2023-01-07 19:15:03",lat:-6.101403,lng:106.905935,wind_speed:9.3,wind_direction:274.5,heading:359.7,distance:88555.28,depth:-2.5,cog:242.4,sog:.1,created_at:"2023-01-08 08:32:39",updated_at:"2023-01-08 08:32:39"},{time:1673119803e3,id:"8676ff37-9bd6-4f53-8ba7-7eaad2bd126b",ship_id:1,terminal_time:"2023-01-07 19:30:03",lat:-6.101392,lng:106.905928,wind_speed:15.3,wind_direction:247.7,heading:359.7,distance:88555.28,depth:-2.5,cog:252.7,sog:0,created_at:"2023-01-08 08:34:35",updated_at:"2023-01-08 08:34:35"},{time:1673120703e3,id:"5a10a4d6-445d-4387-9c6a-e002b768b83b",ship_id:1,terminal_time:"2023-01-07 19:45:03",lat:-6.101385,lng:106.905918,wind_speed:9.1,wind_direction:259,heading:359.7,distance:88555.29,depth:-2.5,cog:142.2,sog:0,created_at:"2023-01-08 08:31:06",updated_at:"2023-01-08 08:31:06"},{time:1673121603e3,id:"b43588b1-8bee-476f-ba71-4ee6dc1af694",ship_id:1,terminal_time:"2023-01-07 20:00:03",lat:-6.101337,lng:106.90589,wind_speed:9.9,wind_direction:268.8,heading:359.6,distance:88555.29,depth:-6,cog:205.2,sog:0,created_at:"2023-01-08 08:47:20",updated_at:"2023-01-08 08:47:20"},{time:1673122503e3,id:"6ef2d5ef-f541-4f4e-98b6-8369ed0998fb",ship_id:1,terminal_time:"2023-01-07 20:15:03",lat:-6.101357,lng:106.90591,wind_speed:9.1,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-2.5,cog:133.2,sog:0,created_at:"2023-01-08 08:45:51",updated_at:"2023-01-08 08:45:51"},{time:1673123403e3,id:"9ac81b12-4d78-42fa-926f-0e27f16a6abe",ship_id:1,terminal_time:"2023-01-07 20:30:03",lat:-6.101347,lng:106.905885,wind_speed:11.2,wind_direction:268.8,heading:359.7,distance:88555.29,depth:-2.5,cog:129.4,sog:0,created_at:"2023-01-08 08:43:43",updated_at:"2023-01-08 08:43:43"},{time:1673124303e3,id:"9c3c0c72-7ede-45ce-8cd0-45f46d05cf4f",ship_id:1,terminal_time:"2023-01-07 20:45:03",lat:-6.101392,lng:106.905992,wind_speed:9.9,wind_direction:280,heading:359.7,distance:88555.29,depth:-2.5,cog:269.2,sog:0,created_at:"2023-01-08 08:42:24",updated_at:"2023-01-08 08:42:24"},{time:1673125203e3,id:"180ab6f9-b46b-4175-9c0c-cfbd47d75a75",ship_id:1,terminal_time:"2023-01-07 21:00:03",lat:-6.10138,lng:106.905928,wind_speed:6.2,wind_direction:259,heading:359.6,distance:88555.29,depth:-2.5,cog:273,sog:.1,created_at:"2023-01-08 08:44:15",updated_at:"2023-01-08 08:44:15"},{time:1673126103e3,id:"aca79290-d836-4f81-b20c-db5c3d1c9ed5",ship_id:1,terminal_time:"2023-01-07 21:15:03",lat:-6.101395,lng:106.905888,wind_speed:8.5,wind_direction:270.3,heading:359.7,distance:88555.29,depth:-5.5,cog:284.7,sog:0,created_at:"2023-01-08 08:44:39",updated_at:"2023-01-08 08:44:39"},{time:1673127003e3,id:"3d37da9b-e78d-4c94-9628-2f75dfacd975",ship_id:1,terminal_time:"2023-01-07 21:30:03",lat:-6.10136,lng:106.905928,wind_speed:7.1,wind_direction:291.4,heading:359.7,distance:88555.29,depth:-2.5,cog:288.6,sog:0,created_at:"2023-01-08 08:43:59",updated_at:"2023-01-08 08:43:59"},{time:1673127903e3,id:"c85fc3eb-6766-4f04-b655-698bee2b112a",ship_id:1,terminal_time:"2023-01-07 21:45:03",lat:-6.101362,lng:106.905857,wind_speed:6.9,wind_direction:257.5,heading:359.8,distance:88555.29,depth:-2.3,cog:157.1,sog:0,created_at:"2023-01-08 08:48:25",updated_at:"2023-01-08 08:48:25"},{time:1673128803e3,id:"e0371ba8-d853-4a52-b612-ef2dd4db6f02",ship_id:1,terminal_time:"2023-01-07 22:00:03",lat:-6.101388,lng:106.905863,wind_speed:9.9,wind_direction:248,heading:359.6,distance:88555.29,depth:-2.5,cog:157.1,sog:0,created_at:"2023-01-08 08:46:57",updated_at:"2023-01-08 08:46:57"},{time:1673129703e3,id:"6aabe75f-fedb-42af-8440-6af78469558d",ship_id:1,terminal_time:"2023-01-07 22:15:03",lat:-6.101375,lng:106.905928,wind_speed:6.9,wind_direction:287.1,heading:359.7,distance:88555.29,depth:-2.3,cog:216.5,sog:0,created_at:"2023-01-08 08:54:20",updated_at:"2023-01-08 08:54:20"},{time:1673130603e3,id:"4068d565-7aa1-427b-8727-8edb9c691ecc",ship_id:1,terminal_time:"2023-01-07 22:30:03",lat:-6.101373,lng:106.905895,wind_speed:7.9,wind_direction:287.1,heading:359.8,distance:88555.29,depth:-2.5,cog:205.4,sog:0,created_at:"2023-01-08 08:51:59",updated_at:"2023-01-08 08:51:59"},{time:1673131503e3,id:"701364de-f35b-4f45-b2f2-65f53ffe574a",ship_id:1,terminal_time:"2023-01-07 22:45:03",lat:-6.101392,lng:106.905898,wind_speed:12.4,wind_direction:287.1,heading:359.8,distance:88555.29,depth:-2.5,cog:222.7,sog:0,created_at:"2023-01-08 08:48:51",updated_at:"2023-01-08 08:48:51"},{time:1673132403e3,id:"658bd145-0a61-4c2d-94fb-1bf054a3264c",ship_id:1,terminal_time:"2023-01-07 23:00:03",lat:-6.101363,lng:106.905863,wind_speed:7.9,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-5.6,cog:129.2,sog:0,created_at:"2023-01-08 08:48:31",updated_at:"2023-01-08 08:48:31"},{time:1673133303e3,id:"58f92089-82d0-4bd5-9832-04677dc76be5",ship_id:1,terminal_time:"2023-01-07 23:15:03",lat:-6.101358,lng:106.905842,wind_speed:8.7,wind_direction:294.1,heading:359.7,distance:88555.29,depth:-2.5,cog:128.4,sog:0,created_at:"2023-01-08 08:55:51",updated_at:"2023-01-08 08:55:51"},{time:1673134203e3,id:"4736fadb-7f73-40fa-a2de-b9fa0a792b3e",ship_id:1,terminal_time:"2023-01-07 23:30:03",lat:-6.101348,lng:106.905888,wind_speed:10.6,wind_direction:297,heading:359.6,distance:88555.29,depth:-2.5,cog:344,sog:0,created_at:"2023-01-08 08:59:25",updated_at:"2023-01-08 08:59:25"},{time:1673135178e3,id:"bf83dfc7-4cb9-4b55-965a-1452ed8e111e",ship_id:1,terminal_time:"2023-01-07 23:46:18",lat:-6.101382,lng:106.905902,wind_speed:10.8,wind_direction:281.6,heading:359.7,distance:88555.29,depth:-5.6,cog:32.8,sog:0,created_at:"2023-01-08 08:58:17",updated_at:"2023-01-08 08:58:17"},{time:1673136003e3,id:"1e9d6cbb-3da5-46c2-8c1d-7c43e9e347d7",ship_id:1,terminal_time:"2023-01-08 00:00:03",lat:-6.10139,lng:106.905845,wind_speed:6.9,wind_direction:270.3,heading:0,distance:0,depth:-5.8,cog:57.4,sog:0,created_at:"2023-01-08 08:54:51",updated_at:"2023-01-08 08:54:51"},{time:1673136904e3,id:"9a56f8c9-a895-41ed-88cb-c63672950f2c",ship_id:1,terminal_time:"2023-01-08 00:15:04",lat:-6.101378,lng:106.905893,wind_speed:6.8,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-5.6,cog:336.6,sog:0,created_at:"2023-01-08 08:58:04",updated_at:"2023-01-08 08:58:04"},{time:1673137804e3,id:"71adab84-32a5-43f8-9a16-44dd7cdf4c02",ship_id:1,terminal_time:"2023-01-08 00:30:04",lat:-6.101417,lng:106.905875,wind_speed:2.5,wind_direction:268.8,heading:359.6,distance:88555.29,depth:-2.5,cog:80.7,sog:0,created_at:"2023-01-08 08:56:16",updated_at:"2023-01-08 08:56:16"},{time:1673138704e3,id:"2b4e0681-bca8-423e-968c-9cbb94911ade",ship_id:1,terminal_time:"2023-01-08 00:45:04",lat:-6.101407,lng:106.905868,wind_speed:6.6,wind_direction:270.3,heading:359.5,distance:88555.29,depth:-2.5,cog:281.8,sog:0,created_at:"2023-01-08 09:02:07",updated_at:"2023-01-08 09:02:07"},{time:1673139604e3,id:"a5757655-280b-4850-9423-55cce4abb3d4",ship_id:1,terminal_time:"2023-01-08 01:00:04",lat:-6.101452,lng:106.905895,wind_speed:8.7,wind_direction:302.5,heading:359.6,distance:88555.29,depth:-2.5,cog:159.5,sog:0,created_at:"2023-01-08 09:02:50",updated_at:"2023-01-08 09:02:50"},{time:1673140504e3,id:"38de4f6b-61c5-490a-a785-9c11f352809e",ship_id:1,terminal_time:"2023-01-08 01:15:04",lat:-6.101402,lng:106.905898,wind_speed:7.9,wind_direction:292.8,heading:359.8,distance:88555.29,depth:-2.5,cog:171.7,sog:0,created_at:"2023-01-08 09:05:18",updated_at:"2023-01-08 09:05:18"},{time:1673141404e3,id:"0a1776c1-1425-41e8-91b9-367b23512d33",ship_id:1,terminal_time:"2023-01-08 01:30:04",lat:-6.101413,lng:106.905882,wind_speed:5.6,wind_direction:297,heading:359.7,distance:88555.29,depth:-2.5,cog:149.7,sog:.2,created_at:"2023-01-08 09:02:30",updated_at:"2023-01-08 09:02:30"},{time:1673142304e3,id:"25822b6e-cc26-4120-a534-707fae66297d",ship_id:1,terminal_time:"2023-01-08 01:45:04",lat:-6.101383,lng:106.905855,wind_speed:3.8,wind_direction:291.4,heading:359.7,distance:88555.3,depth:-2.5,cog:211.1,sog:0,created_at:"2023-01-08 09:05:11",updated_at:"2023-01-08 09:05:11"},{time:1673143204e3,id:"e6ba87a3-cf19-4484-886d-ed8a0850dd54",ship_id:1,terminal_time:"2023-01-08 02:00:04",lat:-6.101395,lng:106.905888,wind_speed:6.4,wind_direction:268.8,heading:359.8,distance:88555.31,depth:-2.5,cog:342.7,sog:.1,created_at:"2023-01-08 09:04:03",updated_at:"2023-01-08 09:04:03"},{time:1673144104e3,id:"828812ff-8977-46cf-8927-bec2687ff712",ship_id:1,terminal_time:"2023-01-08 02:15:04",lat:-6.101372,lng:106.905882,wind_speed:3.8,wind_direction:268.8,heading:359.8,distance:88555.33,depth:-2.6,cog:297.3,sog:.1,created_at:"2023-01-08 09:13:33",updated_at:"2023-01-08 09:13:33"},{time:1673145004e3,id:"25389b81-dc4a-46e8-ad1c-1660eb03a08f",ship_id:1,terminal_time:"2023-01-08 02:30:04",lat:-6.101395,lng:106.905907,wind_speed:7.5,wind_direction:264.5,heading:359.8,distance:88555.33,depth:-2.6,cog:315.1,sog:0,created_at:"2023-01-08 09:06:48",updated_at:"2023-01-08 09:06:48"},{time:1673145904e3,id:"0047c054-acbc-4a29-9ccd-52ba001da3a7",ship_id:1,terminal_time:"2023-01-08 02:45:04",lat:-6.101398,lng:106.905878,wind_speed:6.6,wind_direction:264.5,heading:0,distance:0,depth:-2.6,cog:336.3,sog:0,created_at:"2023-01-08 09:11:48",updated_at:"2023-01-08 09:11:48"},{time:1673146804e3,id:"829090c9-17ba-4477-8592-deb4da86dc63",ship_id:1,terminal_time:"2023-01-08 03:00:04",lat:-6.101402,lng:106.905895,wind_speed:5.4,wind_direction:264.5,heading:359.7,distance:88555.35,depth:-2.6,cog:17.1,sog:0,created_at:"2023-01-08 09:06:28",updated_at:"2023-01-08 09:06:28"},{time:1673147709e3,id:"1098eec6-77fe-4726-9e36-eea8a0a47b48",ship_id:1,terminal_time:"2023-01-08 03:15:09",lat:-6.101387,lng:106.905917,wind_speed:6.2,wind_direction:260.4,heading:359.7,distance:88555.35,depth:-2.6,cog:23.6,sog:0,created_at:"2023-01-08 09:09:10",updated_at:"2023-01-08 09:09:10"},{time:1673148604e3,id:"04d539ed-3c9f-49ed-aec5-3d4926391e7e",ship_id:1,terminal_time:"2023-01-08 03:30:04",lat:-6.101397,lng:106.90589,wind_speed:6.8,wind_direction:260.4,heading:359.7,distance:88555.36,depth:-2.6,cog:65.8,sog:0,created_at:"2023-01-08 09:15:33",updated_at:"2023-01-08 09:15:33"},{time:1673149504e3,id:"e5e010fd-95da-4dfb-a12f-ef9f733b8165",ship_id:1,terminal_time:"2023-01-08 03:45:04",lat:-6.101377,lng:106.905885,wind_speed:5.6,wind_direction:274.5,heading:359.6,distance:88555.36,depth:-2.6,cog:67.7,sog:0,created_at:"2023-01-08 09:10:57",updated_at:"2023-01-08 09:10:57"},{time:1673150404e3,id:"dcfe2cd6-711d-461f-90f7-4bf6c4a1b9ee",ship_id:1,terminal_time:"2023-01-08 04:00:04",lat:-6.101388,lng:106.905938,wind_speed:2.5,wind_direction:274.5,heading:359.5,distance:88555.36,depth:-2.6,cog:223,sog:.1,created_at:"2023-01-08 09:14:36",updated_at:"2023-01-08 09:14:36"},{time:1673151304e3,id:"ddf54501-6fbc-456e-bf5a-c79e016e9b00",ship_id:1,terminal_time:"2023-01-08 04:15:04",lat:-6.101403,lng:106.905913,wind_speed:6.4,wind_direction:280,heading:359.7,distance:88555.36,depth:-2.8,cog:188.7,sog:.1,created_at:"2023-01-08 09:21:25",updated_at:"2023-01-08 09:21:25"},{time:1673152204e3,id:"081423ac-f636-4f7a-9daf-5f4dab29c404",ship_id:1,terminal_time:"2023-01-08 04:30:04",lat:-6.101418,lng:106.90596,wind_speed:9.3,wind_direction:287.1,heading:0,distance:0,depth:-2.8,cog:159.5,sog:0,created_at:"2023-01-08 09:15:25",updated_at:"2023-01-08 09:15:25"},{time:1673153104e3,id:"c45710ce-5dc1-4757-ab7a-4d938442da15",ship_id:1,terminal_time:"2023-01-08 04:45:04",lat:-6.101403,lng:106.905892,wind_speed:8.1,wind_direction:274.5,heading:359.8,distance:88555.36,depth:-2.8,cog:125.5,sog:0,created_at:"2023-01-08 09:19:12",updated_at:"2023-01-08 09:19:12"},{time:1673154004e3,id:"15229013-0e45-4bf3-9949-1ea58fc0908a",ship_id:1,terminal_time:"2023-01-08 05:00:04",lat:-6.101338,lng:106.905882,wind_speed:9.1,wind_direction:259,heading:359.9,distance:88555.36,depth:-2.6,cog:136.1,sog:0,created_at:"2023-01-08 09:20:01",updated_at:"2023-01-08 09:20:01"},{time:1673154904e3,id:"d27c1b20-889b-4499-ba40-6e6c614178f8",ship_id:1,terminal_time:"2023-01-08 05:15:04",lat:-6.101348,lng:106.905915,wind_speed:10.1,wind_direction:257.5,heading:359.8,distance:88555.36,depth:-2.8,cog:151.6,sog:.1,created_at:"2023-01-08 09:23:27",updated_at:"2023-01-08 09:23:27"},{time:1673155804e3,id:"9a444a98-e7df-4f70-975d-85d5d62e290f",ship_id:1,terminal_time:"2023-01-08 05:30:04",lat:-6.101363,lng:106.905898,wind_speed:6.9,wind_direction:259,heading:359.7,distance:88555.36,depth:-2.8,cog:33.5,sog:0,created_at:"2023-01-08 09:21:23",updated_at:"2023-01-08 09:21:23"},{time:1673156704e3,id:"fc24c51c-214a-4d78-be5a-4c1c26802e09",ship_id:1,terminal_time:"2023-01-08 05:45:04",lat:-6.101373,lng:106.90589,wind_speed:9.9,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-2.8,cog:325.1,sog:0,created_at:"2023-01-08 09:25:36",updated_at:"2023-01-08 09:25:36"},{time:1673157604e3,id:"32c80507-1d8e-4091-9311-50e25e285dae",ship_id:1,terminal_time:"2023-01-08 06:00:04",lat:-6.101387,lng:106.905902,wind_speed:13.9,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-3,cog:329.3,sog:0,created_at:"2023-01-08 09:24:42",updated_at:"2023-01-08 09:24:42"},{time:1673158504e3,id:"ae9d8d04-f8b0-4358-bd9c-d9972e370315",ship_id:1,terminal_time:"2023-01-08 06:15:04",lat:-6.10138,lng:106.905895,wind_speed:6.8,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-3,cog:248.9,sog:0,created_at:"2023-01-08 09:26:04",updated_at:"2023-01-08 09:26:04"},{time:1673159404e3,id:"c0502c55-c023-4042-9af3-bd285c098a35",ship_id:1,terminal_time:"2023-01-08 06:30:04",lat:-6.101373,lng:106.905888,wind_speed:14.1,wind_direction:270.9,heading:359.6,distance:88555.36,depth:-3,cog:292.9,sog:0,created_at:"2023-01-08 09:21:20",updated_at:"2023-01-08 09:21:20"},{time:1673160304e3,id:"034a249c-02ba-437a-8aac-456cab629385",ship_id:1,terminal_time:"2023-01-08 06:45:04",lat:-6.101378,lng:106.90591,wind_speed:11.4,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:80.9,sog:0,created_at:"2023-01-08 09:23:12",updated_at:"2023-01-08 09:23:12"},{time:1673161204e3,id:"54e8bfab-005b-4826-8206-a37b4decfd0b",ship_id:1,terminal_time:"2023-01-08 07:00:04",lat:-6.101373,lng:106.905887,wind_speed:8.5,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:80.9,sog:0,created_at:"2023-01-08 09:27:00",updated_at:"2023-01-08 09:27:00"},{time:1673162104e3,id:"a8f38c56-ba61-4de6-80d1-3ea034df630a",ship_id:1,terminal_time:"2023-01-08 07:15:04",lat:-6.101405,lng:106.90589,wind_speed:12.4,wind_direction:242.1,heading:359.7,distance:88555.36,depth:-3,cog:167.3,sog:0,created_at:"2023-01-08 09:31:10",updated_at:"2023-01-08 09:31:10"},{time:1673163004e3,id:"1d43c613-abc9-4209-bfb3-9d54ecc33748",ship_id:1,terminal_time:"2023-01-08 07:30:04",lat:-6.10138,lng:106.905852,wind_speed:15.5,wind_direction:229.4,heading:0,distance:0,depth:0,cog:4.1,sog:0,created_at:"2023-01-08 09:28:35",updated_at:"2023-01-08 09:28:35"},{time:1673163904e3,id:"58b7809e-b846-4fba-b046-e7a1c2f3f84c",ship_id:1,terminal_time:"2023-01-08 07:45:04",lat:-6.101412,lng:106.905907,wind_speed:6.6,wind_direction:245.6,heading:359.8,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:31:46",updated_at:"2023-01-08 09:31:46"},{time:1673164809e3,id:"4ef617d0-0adb-40ea-bad4-e57322f78fe8",ship_id:1,terminal_time:"2023-01-08 08:00:09",lat:-6.101433,lng:106.905895,wind_speed:7.9,wind_direction:292.8,heading:359.7,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:31:36",updated_at:"2023-01-08 09:31:36"},{time:1673165704e3,id:"384723ff-16ea-4a47-bd1b-987a84141b3e",ship_id:1,terminal_time:"2023-01-08 08:15:04",lat:-6.101402,lng:106.905893,wind_speed:9.7,wind_direction:247.7,heading:359.7,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:34:02",updated_at:"2023-01-08 09:34:02"},{time:1673166604e3,id:"4a0c6afb-a827-4d1b-b943-57faa3c5ccb7",ship_id:1,terminal_time:"2023-01-08 08:30:04",lat:-6.1014230000000005,lng:106.905875,wind_speed:6.8,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:242.5,sog:0,created_at:"2023-01-08 09:35:08",updated_at:"2023-01-08 09:35:08"},{time:1673167504e3,id:"4c434111-7470-469b-82a2-10a66585fbe7",ship_id:1,terminal_time:"2023-01-08 08:45:04",lat:-6.101393,lng:106.905873,wind_speed:9.7,wind_direction:259,heading:359.6,distance:88555.36,depth:-3.3,cog:73.3,sog:0,created_at:"2023-01-08 09:36:15",updated_at:"2023-01-08 09:36:15"},{time:1673168404e3,id:"64a1f0ab-872f-4c4a-8e98-84e8f7f2aa2b",ship_id:1,terminal_time:"2023-01-08 09:00:04",lat:-6.101383,lng:106.905898,wind_speed:8.3,wind_direction:267.4,heading:359.6,distance:88555.36,depth:-3.3,cog:91.6,sog:.1,created_at:"2023-01-08 09:37:22",updated_at:"2023-01-08 09:37:22"},{time:1673169304e3,id:"15eb000c-e49a-4288-b9ba-29120dd16bbc",ship_id:1,terminal_time:"2023-01-08 09:15:04",lat:-6.101392,lng:106.905832,wind_speed:13.6,wind_direction:315.8,heading:359.7,distance:88555.36,depth:-3.3,cog:104.3,sog:0,created_at:"2023-01-08 09:38:28",updated_at:"2023-01-08 09:38:28"},{time:1673170204e3,id:"5013bfeb-e3b7-40fe-956e-67d86ef062fc",ship_id:1,terminal_time:"2023-01-08 09:30:04",lat:-6.10143,lng:106.905883,wind_speed:10.1,wind_direction:291.4,heading:359.8,distance:88555.36,depth:-3.3,cog:111.5,sog:0,created_at:"2023-01-08 09:39:35",updated_at:"2023-01-08 09:39:35"},{time:1673171104e3,id:"c42441d4-6121-4fd5-a94e-40e8a5538f88",ship_id:1,terminal_time:"2023-01-08 09:45:04",lat:-6.101408,lng:106.9059,wind_speed:6.8,wind_direction:325.1,heading:0,distance:0,depth:-3.3,cog:111.5,sog:0,created_at:"2023-01-08 09:45:06",updated_at:"2023-01-08 09:45:06"},{time:1673172004e3,id:"b88f901e-4b17-4f4d-950a-3bbe7040bfe9",ship_id:1,terminal_time:"2023-01-08 10:00:04",lat:-6.101438,lng:106.905878,wind_speed:7.3,wind_direction:282.8,heading:359.8,distance:88555.36,depth:-3.3,cog:116.3,sog:0,created_at:"2023-01-08 10:00:07",updated_at:"2023-01-08 10:00:07"},{time:1673172904e3,id:"ebab5955-d934-4330-9ccd-5d8d1496b18c",ship_id:1,terminal_time:"2023-01-08 10:15:04",lat:-6.101392,lng:106.905872,wind_speed:11.4,wind_direction:335,heading:359.7,distance:88555.36,depth:-3.3,cog:269.6,sog:0,created_at:"2023-01-08 10:15:06",updated_at:"2023-01-08 10:15:06"},{time:1673173804e3,id:"9f29317b-07a0-4caf-b754-11930dd5bd44",ship_id:1,terminal_time:"2023-01-08 10:30:04",lat:-6.101372,lng:106.905888,wind_speed:6.4,wind_direction:332.1,heading:359.7,distance:88555.36,depth:-3.3,cog:157.9,sog:0,created_at:"2023-01-08 10:30:06",updated_at:"2023-01-08 10:30:06"},{time:1673174704e3,id:"962a2be6-5432-402b-9958-84252f281c30",ship_id:1,terminal_time:"2023-01-08 10:45:04",lat:-6.101405,lng:106.905885,wind_speed:10.3,wind_direction:336.4,heading:0,distance:0,depth:-3.3,cog:272.5,sog:0,created_at:"2023-01-08 10:45:05",updated_at:"2023-01-08 10:45:05"},{time:1673175604e3,id:"ce56291e-c8e3-440f-92e0-921395a84182",ship_id:1,terminal_time:"2023-01-08 11:00:04",lat:-6.10143,lng:106.905957,wind_speed:11.6,wind_direction:325.1,heading:0,distance:0,depth:-3.3,cog:104.1,sog:0,created_at:"2023-01-08 11:00:06",updated_at:"2023-01-08 11:00:06"},{time:1673176504e3,id:"b25e30f7-bd69-432d-af8c-a46b5423e161",ship_id:1,terminal_time:"2023-01-08 11:15:04",lat:-6.101388,lng:106.905873,wind_speed:7.9,wind_direction:332.1,heading:0,distance:0,depth:-3.3,cog:312.3,sog:0,created_at:"2023-01-08 11:15:06",updated_at:"2023-01-08 11:15:06"},{time:1673177404e3,id:"0ccfc4ba-378e-4ad6-a4db-6b35d30a1a23",ship_id:1,terminal_time:"2023-01-08 11:30:04",lat:-6.101405,lng:106.905895,wind_speed:7.9,wind_direction:319.5,heading:359.7,distance:88555.37,depth:-3.3,cog:83.1,sog:.1,created_at:"2023-01-08 11:30:06",updated_at:"2023-01-08 11:30:06"},{time:1673178304e3,id:"b458b825-fbb6-40f4-b251-c347a72a39ab",ship_id:1,terminal_time:"2023-01-08 11:45:04",lat:-6.101403,lng:106.905887,wind_speed:9.5,wind_direction:332.1,heading:0,distance:0,depth:-3.3,cog:75.4,sog:0,created_at:"2023-01-08 11:45:05",updated_at:"2023-01-08 11:45:05"},{time:1673179204e3,id:"25575159-9a0f-4a66-a7d0-20aea87d0feb",ship_id:1,terminal_time:"2023-01-08 12:00:04",lat:-6.101412,lng:106.905878,wind_speed:8.5,wind_direction:343.6,heading:359.6,distance:88555.37,depth:-3.3,cog:67,sog:0,created_at:"2023-01-08 12:00:06",updated_at:"2023-01-08 12:00:06"},{time:1673180104e3,id:"a3bdb7f9-22b7-4e38-b981-ff099e82bfb6",ship_id:1,terminal_time:"2023-01-08 12:15:04",lat:-6.101407,lng:106.90585,wind_speed:13.8,wind_direction:349,heading:359.6,distance:88555.37,depth:-3.3,cog:36.2,sog:0,created_at:"2023-01-09 08:01:28",updated_at:"2023-01-09 08:01:28"},{time:1673181004e3,id:"468f0650-9d89-4a66-a334-a4fac77e4728",ship_id:1,terminal_time:"2023-01-08 12:30:04",lat:-6.101405,lng:106.905903,wind_speed:19.4,wind_direction:281.5,heading:359.6,distance:88555.37,depth:-3.3,cog:282.7,sog:0,created_at:"2023-01-09 08:03:29",updated_at:"2023-01-09 08:03:29"},{time:1673181904e3,id:"03deb747-2062-4451-bd06-e9432e1f2596",ship_id:1,terminal_time:"2023-01-08 12:45:04",lat:-6.10138,lng:106.905892,wind_speed:14.5,wind_direction:287.1,heading:359.6,distance:88555.38,depth:-3.3,cog:308.6,sog:0,created_at:"2023-01-09 08:02:16",updated_at:"2023-01-09 08:02:16"},{time:1673182804e3,id:"d195359b-cc5d-4733-9a4a-c450f7ecdda8",ship_id:1,terminal_time:"2023-01-08 13:00:04",lat:-6.101337,lng:106.905855,wind_speed:12.2,wind_direction:291.4,heading:359.7,distance:88555.38,depth:-3.1,cog:137.7,sog:0,created_at:"2023-01-09 08:02:58",updated_at:"2023-01-09 08:02:58"},{time:1673183704e3,id:"46707f11-6637-4097-9f27-85c91102848f",ship_id:1,terminal_time:"2023-01-08 13:15:04",lat:-6.101385,lng:106.905878,wind_speed:11,wind_direction:281.5,heading:359.6,distance:88555.38,depth:-3.1,cog:153.4,sog:0,created_at:"2023-01-09 08:03:38",updated_at:"2023-01-09 08:03:38"},{time:1673184604e3,id:"44555a10-55f3-451d-8279-71fd68a98ddd",ship_id:1,terminal_time:"2023-01-08 13:30:04",lat:-6.101418,lng:106.905922,wind_speed:20,wind_direction:281.5,heading:359.7,distance:88555.38,depth:-3.1,cog:131.7,sog:0,created_at:"2023-01-09 08:01:25",updated_at:"2023-01-09 08:01:25"},{time:1673185504e3,id:"6f43d2f1-2e54-4989-a2b6-7b411249f2a8",ship_id:1,terminal_time:"2023-01-08 13:45:04",lat:-6.101397,lng:106.90586,wind_speed:15.7,wind_direction:298.3,heading:359.7,distance:88555.38,depth:-3.1,cog:51.2,sog:0,created_at:"2023-01-09 08:03:28",updated_at:"2023-01-09 08:03:28"},{time:1673186404e3,id:"e21e47e0-7761-45fc-aa87-dc06fb2b621c",ship_id:1,terminal_time:"2023-01-08 14:00:04",lat:-6.101392,lng:106.905875,wind_speed:9.5,wind_direction:297,heading:359.6,distance:88555.38,depth:-3,cog:80.4,sog:0,created_at:"2023-01-09 08:02:10",updated_at:"2023-01-09 08:02:10"},{time:1673187304e3,id:"dbf363e6-e9e5-4e72-95d5-fed707eab8c4",ship_id:1,terminal_time:"2023-01-08 14:15:04",lat:-6.101355,lng:106.905872,wind_speed:10.3,wind_direction:332.1,heading:359.8,distance:88555.38,depth:-2.8,cog:289.8,sog:0,created_at:"2023-01-09 08:04:34",updated_at:"2023-01-09 08:04:34"},{time:1673188204e3,id:"12b53920-e835-4c42-8ab7-ec8061a9ba5c",ship_id:1,terminal_time:"2023-01-08 14:30:04",lat:-6.101383,lng:106.90588,wind_speed:7.3,wind_direction:280,heading:359.8,distance:88555.38,depth:-2.8,cog:26.9,sog:0,created_at:"2023-01-09 08:03:54",updated_at:"2023-01-09 08:03:54"},{time:1673189104e3,id:"c5c563a3-fe51-4dab-bcae-351d28e5f4de",ship_id:1,terminal_time:"2023-01-08 14:45:04",lat:-6.101362,lng:106.905937,wind_speed:13.8,wind_direction:304,heading:359.7,distance:88555.39,depth:-2.8,cog:310.4,sog:.1,created_at:"2023-01-09 08:01:04",updated_at:"2023-01-09 08:01:04"},{time:1673190004e3,id:"3d7b3cbb-14a0-4a8f-93d0-9cf906bc7355",ship_id:1,terminal_time:"2023-01-08 15:00:04",lat:-6.101373,lng:106.905875,wind_speed:5.2,wind_direction:309.6,heading:359.7,distance:88555.4,depth:-2.8,cog:11.5,sog:0,created_at:"2023-01-09 08:03:22",updated_at:"2023-01-09 08:03:22"},{time:1673190904e3,id:"9bd54cb5-0df6-4220-852a-e9ff92994333",ship_id:1,terminal_time:"2023-01-08 15:15:04",lat:-6.10139,lng:106.9059,wind_speed:9.7,wind_direction:319.5,heading:359.7,distance:88555.4,depth:-2.8,cog:310.4,sog:0,created_at:"2023-01-09 08:01:20",updated_at:"2023-01-09 08:01:20"},{time:1673191804e3,id:"1039c335-c4fe-4407-9d86-0e0e6f3801d7",ship_id:1,terminal_time:"2023-01-08 15:30:04",lat:-6.101395,lng:106.905902,wind_speed:5,wind_direction:304,heading:359.7,distance:88555.4,depth:-2.6,cog:310.4,sog:0,created_at:"2023-01-09 08:03:22",updated_at:"2023-01-09 08:03:22"},{time:1673192704e3,id:"2a373c7d-78e5-475d-b34b-0236fd987dbb",ship_id:1,terminal_time:"2023-01-08 15:45:04",lat:-6.101373,lng:106.905892,wind_speed:8.1,wind_direction:246.3,heading:359.7,distance:88555.4,depth:-2.6,cog:310.4,sog:0,created_at:"2023-01-09 08:02:09",updated_at:"2023-01-09 08:02:09"},{time:1673193609e3,id:"27afb88f-711d-446a-80c1-5db6f4d652e8",ship_id:1,terminal_time:"2023-01-08 16:00:09",lat:-6.101383,lng:106.905923,wind_speed:16.7,wind_direction:267.4,heading:359.8,distance:88555.4,depth:-2.6,cog:274.8,sog:0,created_at:"2023-01-09 08:01:34",updated_at:"2023-01-09 08:01:34"},{time:1673194504e3,id:"7a688f79-a052-4162-98a4-93fbeec24b60",ship_id:1,terminal_time:"2023-01-08 16:15:04",lat:-6.101367,lng:106.90591,wind_speed:11.4,wind_direction:291.4,heading:359.6,distance:88555.41,depth:-2.6,cog:177.3,sog:.1,created_at:"2023-01-09 08:01:27",updated_at:"2023-01-09 08:01:27"},{time:1673195404e3,id:"1c77e367-adf9-4b24-9e28-1614417c0043",ship_id:1,terminal_time:"2023-01-08 16:30:04",lat:-6.101337,lng:106.90587,wind_speed:10.8,wind_direction:280,heading:359.6,distance:88555.42,depth:-2.6,cog:163.2,sog:0,created_at:"2023-01-09 08:02:53",updated_at:"2023-01-09 08:02:53"},{time:1673196304e3,id:"47c8015f-f5e4-44eb-af39-6631ab095c14",ship_id:1,terminal_time:"2023-01-08 16:45:04",lat:-6.101367,lng:106.905915,wind_speed:6.6,wind_direction:280,heading:359.8,distance:88555.42,depth:-2.6,cog:359.3,sog:0,created_at:"2023-01-09 08:01:48",updated_at:"2023-01-09 08:01:48"},{time:1673197204e3,id:"d0e28486-e7bc-4ac1-a4d8-0bbb6d72aee3",ship_id:1,terminal_time:"2023-01-08 17:00:04",lat:-6.101365,lng:106.905892,wind_speed:6.9,wind_direction:267.4,heading:359.8,distance:88555.42,depth:-2.6,cog:282.7,sog:0,created_at:"2023-01-09 08:05:29",updated_at:"2023-01-09 08:05:29"},{time:1673198104e3,id:"5791dc42-ed81-48a4-b540-b452a5633205",ship_id:1,terminal_time:"2023-01-08 17:15:04",lat:-6.101408,lng:106.905945,wind_speed:9.5,wind_direction:257.5,heading:0,distance:0,depth:-2.6,cog:300.4,sog:0,created_at:"2023-01-09 08:04:45",updated_at:"2023-01-09 08:04:45"},{time:1673199004e3,id:"603a0afa-1ca2-45d2-a9b6-0745a5e33b11",ship_id:1,terminal_time:"2023-01-08 17:30:04",lat:-6.10137,lng:106.905992,wind_speed:9.1,wind_direction:249.1,heading:359.5,distance:88555.42,depth:-2.5,cog:302.2,sog:0,created_at:"2023-01-09 08:03:51",updated_at:"2023-01-09 08:03:51"},{time:1673199904e3,id:"ab249c72-fe0b-4b61-aadb-60e506340e0a",ship_id:1,terminal_time:"2023-01-08 17:45:04",lat:-6.101405,lng:106.905933,wind_speed:8.5,wind_direction:247.7,heading:359.5,distance:88555.42,depth:-2.5,cog:346.1,sog:0,created_at:"2023-01-09 08:03:29",updated_at:"2023-01-09 08:03:29"},{time:1673200804e3,id:"ad719767-8da7-4530-af3a-e3d833d92178",ship_id:1,terminal_time:"2023-01-08 18:00:04",lat:-6.101377,lng:106.905882,wind_speed:10.4,wind_direction:247.7,heading:0,distance:0,depth:-2.5,cog:10.1,sog:0,created_at:"2023-01-09 08:01:03",updated_at:"2023-01-09 08:01:03"},{time:1673207354e3,id:"63c9d130-6bb7-4318-b5f2-675e7faf0e4c",ship_id:1,terminal_time:"2023-01-08 19:49:14",lat:-6.101343,lng:106.905863,wind_speed:7.9,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.6,cog:159,sog:0,created_at:"2023-01-09 08:03:14",updated_at:"2023-01-09 08:03:14"},{time:1673208004e3,id:"3bf8de17-ebbb-4fcb-b854-a96a429acecb",ship_id:1,terminal_time:"2023-01-08 20:00:04",lat:-6.101333,lng:106.905857,wind_speed:9.9,wind_direction:235.1,heading:359.7,distance:88555.43,depth:-2.6,cog:83.4,sog:0,created_at:"2023-01-09 08:04:33",updated_at:"2023-01-09 08:04:33"},{time:1673208904e3,id:"fb4f8778-7bcb-40f3-956a-b79108ad31b2",ship_id:1,terminal_time:"2023-01-08 20:15:04",lat:-6.101393,lng:106.905902,wind_speed:7.5,wind_direction:252,heading:359.7,distance:88555.43,depth:-6,cog:131.2,sog:0,created_at:"2023-01-09 08:05:16",updated_at:"2023-01-09 08:05:16"},{time:1673209804e3,id:"5242adab-8959-40a5-8978-635cea013f84",ship_id:1,terminal_time:"2023-01-08 20:30:04",lat:-6.101357,lng:106.905868,wind_speed:5.6,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.5,cog:274.3,sog:0,created_at:"2023-01-09 08:00:56",updated_at:"2023-01-09 08:00:56"},{time:1673210704e3,id:"0c83a2c4-2bcd-476e-ac3b-460d1b25f858",ship_id:1,terminal_time:"2023-01-08 20:45:04",lat:-6.101342,lng:106.905882,wind_speed:7.5,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.6,cog:267.2,sog:0,created_at:"2023-01-09 08:02:36",updated_at:"2023-01-09 08:02:36"},{time:1673211604e3,id:"458708de-a317-4292-a57f-1117f5f9f56d",ship_id:1,terminal_time:"2023-01-08 21:00:04",lat:-6.101388,lng:106.905948,wind_speed:12.2,wind_direction:257.5,heading:359.8,distance:88555.43,depth:-2.6,cog:271.1,sog:0,created_at:"2023-01-09 08:05:06",updated_at:"2023-01-09 08:05:06"},{time:1673212504e3,id:"67504e3d-78c5-491b-ab2f-ead7b531eab7",ship_id:1,terminal_time:"2023-01-08 21:15:04",lat:-6.1014420000000005,lng:106.905875,wind_speed:9.5,wind_direction:257.5,heading:359.8,distance:88555.43,depth:-2.6,cog:273.1,sog:.1,created_at:"2023-01-09 08:03:54",updated_at:"2023-01-09 08:03:54"},{time:1673213404e3,id:"029c42f5-7b81-4393-94ab-d99385dd210e",ship_id:1,terminal_time:"2023-01-08 21:30:04",lat:-6.101397,lng:106.905873,wind_speed:9.1,wind_direction:280,heading:359.7,distance:88555.44,depth:-2.6,cog:278.6,sog:.1,created_at:"2023-01-09 08:05:28",updated_at:"2023-01-09 08:05:28"},{time:1673214304e3,id:"68b68fd8-c24d-4c82-8066-e3d469f5edbe",ship_id:1,terminal_time:"2023-01-08 21:45:04",lat:-6.101372,lng:106.905917,wind_speed:8.3,wind_direction:242.1,heading:359.8,distance:88555.44,depth:-6,cog:160.2,sog:0,created_at:"2023-01-09 08:05:13",updated_at:"2023-01-09 08:05:13"},{time:1673215204e3,id:"361ce47f-0c08-47bb-967f-d1db1b9a05c3",ship_id:1,terminal_time:"2023-01-08 22:00:04",lat:-6.10138,lng:106.905898,wind_speed:16.7,wind_direction:248.3,heading:359.6,distance:88555.44,depth:-2.6,cog:160.2,sog:0,created_at:"2023-01-09 08:05:04",updated_at:"2023-01-09 08:05:04"},{time:1673216104e3,id:"3ea2af9a-a3fc-420e-b179-53b02aa87e39",ship_id:1,terminal_time:"2023-01-08 22:15:04",lat:-6.10142,lng:106.90588,wind_speed:7.9,wind_direction:257.5,heading:359.6,distance:88555.44,depth:-6.1,cog:213.1,sog:0,created_at:"2023-01-09 08:05:49",updated_at:"2023-01-09 08:05:49"},{time:1673217004e3,id:"1cb11726-d0ad-4402-a975-0af78f5631b4",ship_id:1,terminal_time:"2023-01-08 22:30:04",lat:-6.101388,lng:106.905885,wind_speed:17.1,wind_direction:247.7,heading:359.8,distance:88555.44,depth:-6,cog:221.4,sog:0,created_at:"2023-01-09 08:06:08",updated_at:"2023-01-09 08:06:08"},{time:1673217904e3,id:"892a3800-b287-4c33-913e-0683528e0431",ship_id:1,terminal_time:"2023-01-08 22:45:04",lat:-6.101377,lng:106.905895,wind_speed:11.4,wind_direction:249.1,heading:359.7,distance:88555.44,depth:-2.6,cog:103.9,sog:0,created_at:"2023-01-09 08:06:00",updated_at:"2023-01-09 08:06:00"},{time:1673218804e3,id:"6f3b1990-857c-4d00-b25a-0434a0cc2c8d",ship_id:1,terminal_time:"2023-01-08 23:00:04",lat:-6.101413,lng:106.90589,wind_speed:10.4,wind_direction:257.5,heading:359.6,distance:88555.44,depth:-6.5,cog:131.5,sog:0,created_at:"2023-01-09 08:05:56",updated_at:"2023-01-09 08:05:56"},{time:1673219704e3,id:"f988100e-1c17-4430-ad7d-d42c5f9101cb",ship_id:1,terminal_time:"2023-01-08 23:15:04",lat:-6.101383,lng:106.905863,wind_speed:11.2,wind_direction:247.7,heading:359.6,distance:88555.44,depth:-6.3,cog:9.7,sog:0,created_at:"2023-01-09 08:06:57",updated_at:"2023-01-09 08:06:57"},{time:1673220604e3,id:"f9bfd7d8-0ed7-4e7c-9dd8-33793538967e",ship_id:1,terminal_time:"2023-01-08 23:30:04",lat:-6.101388,lng:106.905893,wind_speed:7.3,wind_direction:252,heading:359.7,distance:88555.44,depth:-6.3,cog:189.1,sog:.1,created_at:"2023-01-09 08:06:40",updated_at:"2023-01-09 08:06:40"},{time:1673221504e3,id:"d81f2408-511b-43f5-bc66-b9f8f3d84aea",ship_id:1,terminal_time:"2023-01-08 23:45:04",lat:-6.1014230000000005,lng:106.905862,wind_speed:11.2,wind_direction:246.3,heading:359.7,distance:88555.44,depth:-2.6,cog:195.3,sog:.1,created_at:"2023-01-09 08:06:41",updated_at:"2023-01-09 08:06:41"},{time:1673222404e3,id:"d1ae49e1-c912-4626-a700-c644a64c58ca",ship_id:1,terminal_time:"2023-01-09 00:00:04",lat:-6.101397,lng:106.905872,wind_speed:15.3,wind_direction:246.3,heading:359.8,distance:88555.44,depth:-6.5,cog:57.8,sog:0,created_at:"2023-01-09 08:06:43",updated_at:"2023-01-09 08:06:43"},{time:1673223301e3,id:"30c254de-ca32-4ae0-9bbe-50a124f42fb5",ship_id:1,terminal_time:"2023-01-09 00:15:01",lat:-6.101368,lng:106.905878,wind_speed:12,wind_direction:246.3,heading:359.8,distance:88555.44,depth:-6.1,cog:64.2,sog:0,created_at:"2023-01-09 08:07:06",updated_at:"2023-01-09 08:07:06"},{time:1673224201e3,id:"ce816a40-630c-48fa-abf2-50e2d743ecee",ship_id:1,terminal_time:"2023-01-09 00:30:01",lat:-6.101373,lng:106.905888,wind_speed:12.6,wind_direction:236.5,heading:359.8,distance:88555.44,depth:-2.8,cog:59.9,sog:0,created_at:"2023-01-09 08:07:38",updated_at:"2023-01-09 08:07:38"},{time:1673225101e3,id:"873c1631-7c9a-4a1d-b124-3879b28dd758",ship_id:1,terminal_time:"2023-01-09 00:45:01",lat:-6.101432,lng:106.905888,wind_speed:11.6,wind_direction:236.5,heading:359.8,distance:88555.44,depth:0,cog:222.4,sog:0,created_at:"2023-01-09 08:07:00",updated_at:"2023-01-09 08:07:00"},{time:1673226001e3,id:"53704def-9137-4944-8a3a-b36330fc1fb7",ship_id:1,terminal_time:"2023-01-09 01:00:01",lat:-6.1014420000000005,lng:106.905897,wind_speed:7.5,wind_direction:247.7,heading:359.7,distance:88555.44,depth:-6.1,cog:168.1,sog:0,created_at:"2023-01-09 08:06:44",updated_at:"2023-01-09 08:06:44"},{time:1673226901e3,id:"4c58ab98-4589-4979-82a3-2d5349e2d6d2",ship_id:1,terminal_time:"2023-01-09 01:15:01",lat:-6.101377,lng:106.905895,wind_speed:9.7,wind_direction:247.7,heading:359.6,distance:88555.44,depth:-6.3,cog:128.8,sog:0,created_at:"2023-01-09 08:07:55",updated_at:"2023-01-09 08:07:55"},{time:1673227801e3,id:"f53589c2-2628-4822-9efe-e9d5f6f97006",ship_id:1,terminal_time:"2023-01-09 01:30:01",lat:-6.101372,lng:106.905907,wind_speed:11,wind_direction:235.1,heading:359.7,distance:88555.44,depth:-2.8,cog:169.3,sog:0,created_at:"2023-01-09 08:07:52",updated_at:"2023-01-09 08:07:52"},{time:1673228701e3,id:"bbd3afac-671c-491d-9a53-a913b265f3a6",ship_id:1,terminal_time:"2023-01-09 01:45:01",lat:-6.101395,lng:106.905885,wind_speed:10.3,wind_direction:246.3,heading:359.8,distance:88555.44,depth:0,cog:336.2,sog:.1,created_at:"2023-01-09 08:07:54",updated_at:"2023-01-09 08:07:54"},{time:1673229626e3,id:"677d4da2-f2e4-4785-a282-e26977f5ff59",ship_id:1,terminal_time:"2023-01-09 02:00:26",lat:-6.101397,lng:106.905892,wind_speed:8.1,wind_direction:253.4,heading:359.8,distance:88555.46,depth:-6.3,cog:344.2,sog:.1,created_at:"2023-01-09 08:08:23",updated_at:"2023-01-09 08:08:23"},{time:1673230501e3,id:"6d6e995c-7f59-4690-9ba0-6bdde399168a",ship_id:1,terminal_time:"2023-01-09 02:15:01",lat:-6.10142,lng:106.90591,wind_speed:7.3,wind_direction:246.3,heading:359.7,distance:88555.47,depth:-2.8,cog:64.8,sog:0,created_at:"2023-01-09 08:08:12",updated_at:"2023-01-09 08:08:12"},{time:1673231401e3,id:"0be9f717-f25a-490d-bcae-34fa65d89a27",ship_id:1,terminal_time:"2023-01-09 02:30:01",lat:-6.1014,lng:106.905907,wind_speed:6.9,wind_direction:235.1,heading:359.6,distance:88555.48,depth:-2.8,cog:350.3,sog:0,created_at:"2023-01-09 08:08:21",updated_at:"2023-01-09 08:08:21"},{time:1673232301e3,id:"b89c57ee-02ec-4c81-a463-3ab63eea35d4",ship_id:1,terminal_time:"2023-01-09 02:45:01",lat:-6.10141,lng:106.905907,wind_speed:7.1,wind_direction:281.5,heading:359.7,distance:88555.49,depth:0,cog:340.6,sog:0,created_at:"2023-01-09 08:08:13",updated_at:"2023-01-09 08:08:13"},{time:1673233201e3,id:"a3fba678-1575-4c94-8040-8e2bb4f35c29",ship_id:1,terminal_time:"2023-01-09 03:00:01",lat:-6.101398,lng:106.905902,wind_speed:11,wind_direction:246.3,heading:359.6,distance:88555.49,depth:-6.6,cog:302,sog:0,created_at:"2023-01-09 08:09:06",updated_at:"2023-01-09 08:09:06"},{time:1673234101e3,id:"4d903123-c967-4aba-be64-4bfa45d2e9e2",ship_id:1,terminal_time:"2023-01-09 03:15:01",lat:-6.10139,lng:106.905878,wind_speed:7.7,wind_direction:259,heading:359.6,distance:88555.49,depth:-6.5,cog:314.3,sog:0,created_at:"2023-01-09 08:08:14",updated_at:"2023-01-09 08:08:14"},{time:1673235001e3,id:"1d4da80d-e1b4-46f3-b844-89cc8683bf40",ship_id:1,terminal_time:"2023-01-09 03:30:01",lat:-6.10141,lng:106.905928,wind_speed:6.2,wind_direction:247.7,heading:359.7,distance:88555.5,depth:0,cog:132.4,sog:0,created_at:"2023-01-09 08:08:53",updated_at:"2023-01-09 08:08:53"},{time:1673235901e3,id:"e71cde87-3b60-447e-b2e7-ba313276631d",ship_id:1,terminal_time:"2023-01-09 03:45:01",lat:-6.101413,lng:106.90591,wind_speed:7.7,wind_direction:252,heading:359.8,distance:88555.5,depth:0,cog:209.2,sog:0,created_at:"2023-01-09 08:08:23",updated_at:"2023-01-09 08:08:23"},{time:1673236801e3,id:"f5446243-0920-43f1-b55b-e1e7745911d7",ship_id:1,terminal_time:"2023-01-09 04:00:01",lat:-6.1013269999999995,lng:106.90594,wind_speed:7.1,wind_direction:257.5,heading:359.9,distance:88555.5,depth:-7.1,cog:206.1,sog:.1,created_at:"2023-01-09 08:08:58",updated_at:"2023-01-09 08:08:58"},{time:1673237701e3,id:"93eedeac-7e8c-4b16-8181-ccaa306bc5fd",ship_id:1,terminal_time:"2023-01-09 04:15:01",lat:-6.101417,lng:106.90591,wind_speed:8.1,wind_direction:264.5,heading:359.8,distance:88555.5,depth:-7,cog:278.5,sog:0,created_at:"2023-01-09 08:09:03",updated_at:"2023-01-09 08:09:03"},{time:1673238601e3,id:"5ea3a677-6e78-4773-a9e5-c6f4c365cfa1",ship_id:1,terminal_time:"2023-01-09 04:30:01",lat:-6.101412,lng:106.905892,wind_speed:9.5,wind_direction:249.1,heading:359.8,distance:88555.5,depth:-6.8,cog:161.2,sog:.1,created_at:"2023-01-09 08:09:01",updated_at:"2023-01-09 08:09:01"},{time:1673239501e3,id:"5c8c5a2a-ed74-4185-bef6-92c28a9fdf4e",ship_id:1,terminal_time:"2023-01-09 04:45:01",lat:-6.101433,lng:106.905898,wind_speed:6.9,wind_direction:246.3,heading:0,distance:0,depth:-3.1,cog:73.5,sog:0,created_at:"2023-01-09 08:08:43",updated_at:"2023-01-09 08:08:43"},{time:1673240401e3,id:"4c79c190-421c-4140-841f-2591d3cdafff",ship_id:1,terminal_time:"2023-01-09 05:00:01",lat:-6.10142,lng:106.905925,wind_speed:9.7,wind_direction:242.1,heading:359.8,distance:88555.5,depth:-3.1,cog:125.4,sog:0,created_at:"2023-01-09 08:09:52",updated_at:"2023-01-09 08:09:52"},{time:1673241301e3,id:"c259fb8e-9a36-4dfc-bc0a-68cd1a49a286",ship_id:1,terminal_time:"2023-01-09 05:15:01",lat:-6.101342,lng:106.905905,wind_speed:5.2,wind_direction:240.7,heading:359.8,distance:88555.5,depth:-7.1,cog:159.2,sog:0,created_at:"2023-01-09 08:10:04",updated_at:"2023-01-09 08:10:04"},{time:1673242201e3,id:"27226360-f285-47ad-94b4-61ad2013e144",ship_id:1,terminal_time:"2023-01-09 05:30:01",lat:-6.101395,lng:106.905882,wind_speed:6.4,wind_direction:242.1,heading:359.7,distance:88555.5,depth:-3.3,cog:250.3,sog:0,created_at:"2023-01-09 08:10:13",updated_at:"2023-01-09 08:10:13"},{time:1673243101e3,id:"2da1e4fe-f5f0-4895-b5fa-c4e50ec472d0",ship_id:1,terminal_time:"2023-01-09 05:45:01",lat:-6.101352,lng:106.905885,wind_speed:9.7,wind_direction:240.7,heading:359.7,distance:88555.5,depth:-3.5,cog:225.4,sog:0,created_at:"2023-01-09 08:10:15",updated_at:"2023-01-09 08:10:15"},{time:1673244001e3,id:"e101776c-0d25-4862-be01-60bdcd5c14e5",ship_id:1,terminal_time:"2023-01-09 06:00:01",lat:-6.101385,lng:106.905892,wind_speed:10.6,wind_direction:246.3,heading:359.6,distance:88555.5,depth:-3.5,cog:326.1,sog:0,created_at:"2023-01-09 08:10:03",updated_at:"2023-01-09 08:10:03"},{time:1673244901e3,id:"a9941a2b-e575-408e-a7bb-dacd988e6d96",ship_id:1,terminal_time:"2023-01-09 06:15:01",lat:-6.101383,lng:106.905903,wind_speed:7.1,wind_direction:247.7,heading:359.6,distance:88555.5,depth:-3.5,cog:256.6,sog:0,created_at:"2023-01-09 08:10:10",updated_at:"2023-01-09 08:10:10"},{time:1673245801e3,id:"a1187bf0-abe9-4353-82a3-d4fd442c22e3",ship_id:1,terminal_time:"2023-01-09 06:30:01",lat:-6.101395,lng:106.905883,wind_speed:7.7,wind_direction:247.7,heading:359.6,distance:88555.5,depth:-3.6,cog:215.4,sog:0,created_at:"2023-01-09 08:09:40",updated_at:"2023-01-09 08:09:40"},{time:1673246701e3,id:"c3d8f1fb-1911-4887-b3ce-949bd243f6c1",ship_id:1,terminal_time:"2023-01-09 06:45:01",lat:-6.101395,lng:106.90591,wind_speed:9.9,wind_direction:252,heading:359.8,distance:88555.5,depth:-3.8,cog:125.3,sog:0,created_at:"2023-01-09 08:10:36",updated_at:"2023-01-09 08:10:36"},{time:1673247601e3,id:"6d3fb6e4-4b62-422c-bd75-5562e48a058d",ship_id:1,terminal_time:"2023-01-09 07:00:01",lat:-6.101393,lng:106.905862,wind_speed:7.5,wind_direction:252,heading:359.9,distance:88555.5,depth:-3.8,cog:64.2,sog:0,created_at:"2023-01-09 08:10:33",updated_at:"2023-01-09 08:10:33"},{time:1673248501e3,id:"6c8d24c2-f12c-4698-a829-a0632f019df1",ship_id:1,terminal_time:"2023-01-09 07:15:01",lat:-6.101393,lng:106.905878,wind_speed:7.3,wind_direction:246.3,heading:359.7,distance:88555.5,depth:-4,cog:64.5,sog:0,created_at:"2023-01-09 08:10:33",updated_at:"2023-01-09 08:10:33"},{time:1673249401e3,id:"519acfef-d197-4cfa-afa7-4e6e5e4b8737",ship_id:1,terminal_time:"2023-01-09 07:30:01",lat:-6.101377,lng:106.905885,wind_speed:6.6,wind_direction:242.1,heading:359.7,distance:88555.5,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:10:41",updated_at:"2023-01-09 08:10:41"},{time:1673250301e3,id:"aa8fe1a7-57d9-445d-8f18-3f22b1a409c6",ship_id:1,terminal_time:"2023-01-09 07:45:01",lat:-6.101395,lng:106.905893,wind_speed:10.4,wind_direction:247.7,heading:0,distance:0,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:11:09",updated_at:"2023-01-09 08:11:09"},{time:1673251201e3,id:"5d87fb41-c0a5-49b5-aabc-e16448ec0db7",ship_id:1,terminal_time:"2023-01-09 08:00:01",lat:-6.101405,lng:106.905888,wind_speed:6,wind_direction:265.9,heading:359.7,distance:88555.5,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:10:51",updated_at:"2023-01-09 08:10:51"},{time:1673257766e3,id:"59f2dd21-3619-4d39-a699-a444c5f5039c",ship_id:1,terminal_time:"2023-01-09 09:49:26",lat:-6.10138,lng:106.905813,wind_speed:14.1,wind_direction:302.5,heading:359.8,distance:88555.5,depth:-4.1,cog:132.4,sog:0,created_at:"2023-01-10 08:00:06",updated_at:"2023-01-10 08:00:06"},{time:1673258401e3,id:"6b431693-2664-44b6-8518-5ab07bbf0c85",ship_id:1,terminal_time:"2023-01-09 10:00:01",lat:-6.101373,lng:106.9059,wind_speed:14.1,wind_direction:282.9,heading:359.8,distance:88555.5,depth:-4.1,cog:115.2,sog:0,created_at:"2023-01-10 08:02:29",updated_at:"2023-01-10 08:02:29"},{time:1673259301e3,id:"40fb792e-7a2e-4697-a25b-e79c2d2fdbc6",ship_id:1,terminal_time:"2023-01-09 10:15:01",lat:-6.10135,lng:106.905885,wind_speed:7.1,wind_direction:332.1,heading:359.9,distance:88555.5,depth:-4.3,cog:144.6,sog:0,created_at:"2023-01-10 08:01:40",updated_at:"2023-01-10 08:01:40"},{time:1673260201e3,id:"354963f0-7e7e-4ea0-97ae-5e69a9a932c9",ship_id:1,terminal_time:"2023-01-09 10:30:01",lat:-6.101405,lng:106.90586,wind_speed:12.6,wind_direction:292.8,heading:359.8,distance:88555.5,depth:-4.3,cog:105.8,sog:0,created_at:"2023-01-10 08:04:19",updated_at:"2023-01-10 08:04:19"},{time:1673261101e3,id:"5bbbf421-2adb-4fd3-81a0-b0cade6e5e67",ship_id:1,terminal_time:"2023-01-09 10:45:01",lat:-6.101395,lng:106.905892,wind_speed:9.5,wind_direction:297,heading:359.8,distance:88555.5,depth:-4.3,cog:214.9,sog:0,created_at:"2023-01-10 08:05:43",updated_at:"2023-01-10 08:05:43"},{time:1673262001e3,id:"630c5619-2b52-4cbb-93bf-85c73cae98ae",ship_id:1,terminal_time:"2023-01-09 11:00:01",lat:-6.101408,lng:106.905882,wind_speed:6.6,wind_direction:297,heading:0,distance:0,depth:-4.3,cog:99.6,sog:0,created_at:"2023-01-10 08:02:39",updated_at:"2023-01-10 08:02:39"},{time:1673262901e3,id:"b403636b-8619-4d42-9cb4-6c4166a1b9b3",ship_id:1,terminal_time:"2023-01-09 11:15:01",lat:-6.101393,lng:106.90587,wind_speed:5,wind_direction:311.5,heading:359.8,distance:88555.5,depth:-4.3,cog:93.5,sog:0,created_at:"2023-01-10 08:04:42",updated_at:"2023-01-10 08:04:42"},{time:1673263806e3,id:"5f165c7e-e6b7-44c1-a482-567e62bc4017",ship_id:1,terminal_time:"2023-01-09 11:30:06",lat:-6.1014,lng:106.905877,wind_speed:15.1,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:73.4,sog:0,created_at:"2023-01-10 08:02:10",updated_at:"2023-01-10 08:02:10"},{time:1673264701e3,id:"bd2a40ce-8f23-43e0-8272-8f201c185ec8",ship_id:1,terminal_time:"2023-01-09 11:45:01",lat:-6.101388,lng:106.905907,wind_speed:16.3,wind_direction:337.8,heading:359.9,distance:88555.51,depth:-4.1,cog:61.2,sog:0,created_at:"2023-01-10 08:05:49",updated_at:"2023-01-10 08:05:49"},{time:1673265601e3,id:"c24f89d3-7780-4ffc-a265-5b6d2f72f073",ship_id:1,terminal_time:"2023-01-09 12:00:01",lat:-6.1014,lng:106.905888,wind_speed:14.7,wind_direction:342,heading:359.8,distance:88555.51,depth:-4.1,cog:67.8,sog:0,created_at:"2023-01-10 08:03:23",updated_at:"2023-01-10 08:03:23"},{time:1673266501e3,id:"13982c0e-988a-46c5-bec8-355b5f7dc5ca",ship_id:1,terminal_time:"2023-01-09 12:15:01",lat:-6.101408,lng:106.905903,wind_speed:7.1,wind_direction:315.3,heading:359.8,distance:88555.51,depth:-4.1,cog:36.9,sog:0,created_at:"2023-01-10 08:02:34",updated_at:"2023-01-10 08:02:34"},{time:1673267401e3,id:"d0beec20-b06e-4fc7-ad00-6f35454bb257",ship_id:1,terminal_time:"2023-01-09 12:30:01",lat:-6.10138,lng:106.905855,wind_speed:11.2,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:37.8,sog:0,created_at:"2023-01-10 08:01:57",updated_at:"2023-01-10 08:01:57"},{time:1673268301e3,id:"98379784-93de-4f27-b326-467bfef4b682",ship_id:1,terminal_time:"2023-01-09 12:45:01",lat:-6.101353,lng:106.905848,wind_speed:12.6,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:90.6,sog:0,created_at:"2023-01-10 08:05:23",updated_at:"2023-01-10 08:05:23"},{time:1673269201e3,id:"05ff55cd-da21-40f7-83dd-131e0587880e",ship_id:1,terminal_time:"2023-01-09 13:00:01",lat:-6.101385,lng:106.905875,wind_speed:12.2,wind_direction:342,heading:359.7,distance:88555.51,depth:-4,cog:96.8,sog:.1,created_at:"2023-01-10 08:01:45",updated_at:"2023-01-10 08:01:45"},{time:1673270101e3,id:"f7cc3f27-2367-4a6d-a4c2-db1154e9e00f",ship_id:1,terminal_time:"2023-01-09 13:15:01",lat:-6.101383,lng:106.905865,wind_speed:14.5,wind_direction:337.8,heading:359.7,distance:88555.51,depth:-4,cog:150.1,sog:.1,created_at:"2023-01-10 08:03:50",updated_at:"2023-01-10 08:03:50"},{time:1673271001e3,id:"f662f7f2-d4d5-449f-873a-bcdfc3a00d51",ship_id:1,terminal_time:"2023-01-09 13:30:01",lat:-6.101357,lng:106.905865,wind_speed:12.8,wind_direction:337.8,heading:359.7,distance:88555.52,depth:-4,cog:321.4,sog:0,created_at:"2023-01-10 08:02:28",updated_at:"2023-01-10 08:02:28"},{time:1673271901e3,id:"89151d87-e6ce-4678-a3ef-8544ce5f573f",ship_id:1,terminal_time:"2023-01-09 13:45:01",lat:-6.101363,lng:106.905908,wind_speed:14.7,wind_direction:337.8,heading:359.6,distance:88555.52,depth:-4,cog:66.8,sog:0,created_at:"2023-01-10 08:04:30",updated_at:"2023-01-10 08:04:30"},{time:1673272801e3,id:"03f8f7d6-97b0-4dd5-be91-36f792a1a625",ship_id:1,terminal_time:"2023-01-09 14:00:01",lat:-6.101427,lng:106.905857,wind_speed:13,wind_direction:332.1,heading:.4,distance:88555.52,depth:-4,cog:287.6,sog:0,created_at:"2023-01-10 08:03:02",updated_at:"2023-01-10 08:03:02"},{time:1673273701e3,id:"a1f01e80-907b-4720-aaa7-aa073ffd06af",ship_id:1,terminal_time:"2023-01-09 14:15:01",lat:-6.095707,lng:106.89818,wind_speed:26.6,wind_direction:45,heading:276.6,distance:88556.26,depth:-11.3,cog:274.8,sog:6.6,created_at:"2023-01-10 08:01:52",updated_at:"2023-01-10 08:01:52"},{time:1673274601e3,id:"615a0d2a-2428-4c59-a170-a77f1278abfc",ship_id:1,terminal_time:"2023-01-09 14:30:01",lat:-6.079302,lng:106.881568,wind_speed:26.2,wind_direction:349,heading:355.1,distance:88557.85,depth:-10.8,cog:357.4,sog:7.3,created_at:"2023-01-10 08:01:54",updated_at:"2023-01-10 08:01:54"},{time:1673275501e3,id:"8a83141d-bf01-41b2-a27c-8b01697b30c7",ship_id:1,terminal_time:"2023-01-09 14:45:01",lat:-6.03759,lng:106.880487,wind_speed:28.9,wind_direction:0,heading:350.6,distance:88560.36,depth:-12.5,cog:353.9,sog:10.4,created_at:"2023-01-10 08:03:06",updated_at:"2023-01-10 08:03:06"},{time:1673276401e3,id:"f8617d50-8583-4cef-a0dd-29468fbc2d90",ship_id:1,terminal_time:"2023-01-09 15:00:01",lat:-5.98431,lng:106.873388,wind_speed:29.7,wind_direction:9.7,heading:330.3,distance:88563.54,depth:-16.6,cog:338.3,sog:12.5,created_at:"2023-01-10 08:03:19",updated_at:"2023-01-10 08:03:19"},{time:1673277301e3,id:"966ade39-66eb-4749-99b5-72528c7217e9",ship_id:1,terminal_time:"2023-01-09 15:15:01",lat:-5.961758,lng:106.82729,wind_speed:29.3,wind_direction:16.8,heading:312.6,distance:88566.7,depth:-19,cog:312.1,sog:13.2,created_at:"2023-01-10 08:02:20",updated_at:"2023-01-10 08:02:20"},{time:1673278201e3,id:"7531c730-0f9f-498f-85e9-d9704b5e56c3",ship_id:1,terminal_time:"2023-01-09 15:30:01",lat:-5.931025,lng:106.78072,wind_speed:28.1,wind_direction:21,heading:310.9,distance:88570,depth:-22.5,cog:312.1,sog:13.4,created_at:"2023-01-10 08:04:54",updated_at:"2023-01-10 08:04:54"},{time:1673279101e3,id:"0f5e09a8-fa21-4745-b847-90fe597eae7b",ship_id:1,terminal_time:"2023-01-09 15:45:01",lat:-14.161667,lng:116.66,wind_speed:27.2,wind_direction:32.3,heading:308,distance:88573.33,depth:-30.5,cog:0,sog:0,created_at:"2023-01-10 08:03:50",updated_at:"2023-01-10 08:03:50"},{time:1673280121e3,id:"b0c02cd1-d141-4cc5-b9f3-469c2154f3b2",ship_id:1,terminal_time:"2023-01-09 16:02:01",lat:-5.854772,lng:106.68859,wind_speed:23.7,wind_direction:33.6,heading:304.1,distance:88577.22,depth:-27.8,cog:305.1,sog:13.5,created_at:"2023-01-10 08:06:17",updated_at:"2023-01-10 08:06:17"},{time:1673280901e3,id:"60d837ed-22c2-4b7e-954a-8ed76765bb6b",ship_id:1,terminal_time:"2023-01-09 16:15:01",lat:-5.828417,lng:106.647598,wind_speed:19.2,wind_direction:54.9,heading:267.9,distance:88580.13,depth:-45.3,cog:273.5,sog:12.4,created_at:"2023-01-10 08:04:40",updated_at:"2023-01-10 08:04:40"},{time:1673281801e3,id:"5e868bf7-9f25-4361-9d84-88ccdcadc5bd",ship_id:1,terminal_time:"2023-01-09 16:30:01",lat:-5.833347,lng:106.590948,wind_speed:20.4,wind_direction:43.6,heading:263.3,distance:88583.55,depth:-70.6,cog:263.3,sog:13.8,created_at:"2023-01-10 08:03:21",updated_at:"2023-01-10 08:03:21"},{time:1673282701e3,id:"290d63d9-e0da-419c-880b-2ff176353be8",ship_id:1,terminal_time:"2023-01-09 16:45:01",lat:-5.83681,lng:106.533245,wind_speed:19.2,wind_direction:49.1,heading:269.3,distance:88586.99,depth:-83.3,cog:270,sog:13.8,created_at:"2023-01-10 08:04:36",updated_at:"2023-01-10 08:04:36"},{time:1673283601e3,id:"74437480-2eee-4b7d-bdec-bf2c3f57793e",ship_id:1,terminal_time:"2023-01-09 17:00:01",lat:-5.836503,lng:106.475305,wind_speed:20.4,wind_direction:49.1,heading:264.9,distance:88590.47,depth:-48.5,cog:266.8,sog:13.9,created_at:"2023-01-10 08:05:08",updated_at:"2023-01-10 08:05:08"},{time:1673284501e3,id:"a12b6836-7207-4ed4-b124-4d651273bb02",ship_id:1,terminal_time:"2023-01-09 17:15:01",lat:-5.845467,lng:106.417943,wind_speed:20.4,wind_direction:43.6,heading:267.7,distance:88593.93,depth:-51.6,cog:265.6,sog:14,created_at:"2023-01-10 08:04:19",updated_at:"2023-01-10 08:04:19"},{time:1673285401e3,id:"09588182-8517-4089-9f19-f6dfe3842699",ship_id:1,terminal_time:"2023-01-09 17:30:01",lat:-5.841642,lng:106.35981,wind_speed:21.3,wind_direction:33.6,heading:0,distance:0,depth:-27.1,cog:274.8,sog:14.1,created_at:"2023-01-10 08:05:40",updated_at:"2023-01-10 08:05:40"},{time:1673286301e3,id:"878bec49-a145-488f-ae6a-22e20f985adb",ship_id:1,terminal_time:"2023-01-09 17:45:01",lat:-5.838773,lng:106.300968,wind_speed:24.4,wind_direction:26.7,heading:269.9,distance:88600.96,depth:-32.6,cog:270.7,sog:14.2,created_at:"2023-01-10 08:04:41",updated_at:"2023-01-10 08:04:41"},{time:1673287201e3,id:"e479c84e-0867-465c-8999-5e588a85eea7",ship_id:1,terminal_time:"2023-01-09 18:00:01",lat:-5.837823,lng:106.239917,wind_speed:27.4,wind_direction:4.2,heading:270,distance:88604.52,depth:-23.8,cog:271.2,sog:14.3,created_at:"2023-01-10 08:05:14",updated_at:"2023-01-10 08:05:14"},{time:1673288101e3,id:"c65ffd03-8a74-4926-bed4-8610fa7e81a0",ship_id:1,terminal_time:"2023-01-09 18:15:01",lat:-5.838808,lng:106.181588,wind_speed:25,wind_direction:9.7,heading:264.9,distance:88608.11,depth:-28.1,cog:0,sog:0,created_at:"2023-01-10 08:06:48",updated_at:"2023-01-10 08:06:48"},{time:1673289001e3,id:"1c8548ab-cb0d-4bdb-9f57-195a3c362744",ship_id:1,terminal_time:"2023-01-09 18:30:01",lat:-5.841168,lng:106.120507,wind_speed:25,wind_direction:4.2,heading:268.9,distance:88611.69,depth:-38.3,cog:269.4,sog:14.3,created_at:"2023-01-10 08:06:38",updated_at:"2023-01-10 08:06:38"},{time:1673289901e3,id:"9205bfd4-683a-4325-8b29-103eb842219b",ship_id:1,terminal_time:"2023-01-09 18:45:01",lat:-5.8411,lng:106.061022,wind_speed:28.9,wind_direction:0,heading:269.1,distance:88615.22,depth:-50.3,cog:270.3,sog:14.2,created_at:"2023-01-10 08:06:30",updated_at:"2023-01-10 08:06:30"},{time:1673290801e3,id:"911bece6-7e5c-40f0-b0da-cf35b3eb7067",ship_id:1,terminal_time:"2023-01-09 19:00:01",lat:-5.854877,lng:106.006268,wind_speed:30.7,wind_direction:21,heading:225.6,distance:88618.76,depth:-74.5,cog:229.1,sog:14.3,created_at:"2023-01-10 08:07:24",updated_at:"2023-01-10 08:07:24"},{time:1673291701e3,id:"7fefd3ea-5a95-4eaf-a4ef-ec5bbb15390a",ship_id:1,terminal_time:"2023-01-09 19:15:01",lat:-5.897932,lng:105.964727,wind_speed:28.5,wind_direction:21,heading:224.8,distance:88622.34,depth:-37.1,cog:224.5,sog:14.2,created_at:"2023-01-10 08:07:04",updated_at:"2023-01-10 08:07:04"},{time:1673292601e3,id:"05a6f60e-0ee4-4d48-9f0c-6823f391ff6d",ship_id:1,terminal_time:"2023-01-09 19:30:01",lat:-5.94169,lng:105.92583,wind_speed:31.8,wind_direction:26.7,heading:221.9,distance:88625.93,depth:-38.1,cog:222.4,sog:13.9,created_at:"2023-01-10 08:05:52",updated_at:"2023-01-10 08:05:52"},{time:1673293501e3,id:"3582ee5f-9c1c-447c-a1c2-ad23d1fcdc4c",ship_id:1,terminal_time:"2023-01-09 19:45:01",lat:-5.985892,lng:105.888712,wind_speed:30.7,wind_direction:32.3,heading:215.3,distance:88629.38,depth:-50.8,cog:216.3,sog:14.2,created_at:"2023-01-10 08:05:36",updated_at:"2023-01-10 08:05:36"},{time:1673294401e3,id:"bae337b8-cf2c-4345-83f1-51a534c4756a",ship_id:1,terminal_time:"2023-01-09 20:00:01",lat:-6.007143,lng:105.844002,wind_speed:27.9,wind_direction:353.3,heading:291,distance:88632.81,depth:-84.1,cog:292.2,sog:13.7,created_at:"2023-01-10 08:08:12",updated_at:"2023-01-10 08:08:12"},{time:1673295301e3,id:"2bfe50aa-406d-420d-baba-3647f540a6db",ship_id:1,terminal_time:"2023-01-09 20:15:01",lat:-5.982978,lng:105.794872,wind_speed:28.5,wind_direction:0,heading:287.8,distance:88636.11,depth:-52,cog:293.4,sog:12.5,created_at:"2023-01-10 08:08:05",updated_at:"2023-01-10 08:08:05"},{time:1673296201e3,id:"226c6298-b20f-4d61-8d46-d20d9a16f764",ship_id:1,terminal_time:"2023-01-09 20:30:01",lat:-5.970388,lng:105.742705,wind_speed:31.8,wind_direction:4.2,heading:280,distance:88639.31,depth:-89.5,cog:282.8,sog:13.6,created_at:"2023-01-10 08:07:55",updated_at:"2023-01-10 08:07:55"},{time:1673297101e3,id:"0b3a3d1b-e2cd-412d-8949-052b468ac363",ship_id:1,terminal_time:"2023-01-09 20:45:01",lat:-5.952805,lng:105.689012,wind_speed:30.9,wind_direction:4.2,heading:288.7,distance:88642.69,depth:-66.1,cog:291,sog:13.4,created_at:"2023-01-10 08:06:29",updated_at:"2023-01-10 08:06:29"},{time:1673298001e3,id:"e5dc3b25-3498-4336-b51f-65360056bb47",ship_id:1,terminal_time:"2023-01-09 21:00:01",lat:-5.93262,lng:105.638005,wind_speed:32,wind_direction:4.2,heading:289,distance:88645.98,depth:-29.5,cog:291.5,sog:12.9,created_at:"2023-01-10 08:07:36",updated_at:"2023-01-10 08:07:36"},{time:1673298901e3,id:"97af2e02-a337-477c-b476-f8cc1f0f39bd",ship_id:1,terminal_time:"2023-01-09 21:15:01",lat:-5.918415,lng:105.586073,wind_speed:33,wind_direction:9.2,heading:274.4,distance:88649.16,depth:-20,cog:275.9,sog:12.5,created_at:"2023-01-10 08:06:55",updated_at:"2023-01-10 08:06:55"},{time:1673299801e3,id:"3f6e7fb8-8ed6-4139-af72-762e9a783f03",ship_id:1,terminal_time:"2023-01-09 21:30:01",lat:-5.913357,lng:105.534142,wind_speed:33.2,wind_direction:9.7,heading:272.1,distance:88652.27,depth:-36.3,cog:275.1,sog:12.2,created_at:"2023-01-10 08:06:51",updated_at:"2023-01-10 08:06:51"},{time:1673300701e3,id:"039c9a38-7354-41ae-a67f-1a28cc9ac563",ship_id:1,terminal_time:"2023-01-09 21:45:01",lat:-5.909802,lng:105.487677,wind_speed:31.6,wind_direction:4.2,heading:280.1,distance:88655.08,depth:-35.1,cog:281.9,sog:11.4,created_at:"2023-01-10 08:07:31",updated_at:"2023-01-10 08:07:31"},{time:1673301601e3,id:"c21c6af2-1b26-41e9-b6ef-1f8d76e84096",ship_id:1,terminal_time:"2023-01-09 22:00:01",lat:-5.902202,lng:105.43825,wind_speed:32.2,wind_direction:4.2,heading:0,distance:0,depth:-28.1,cog:278,sog:12.2,created_at:"2023-01-10 08:07:20",updated_at:"2023-01-10 08:07:20"},{time:1673302501e3,id:"6187beed-2f55-4f6c-ac4d-870ba4151a2b",ship_id:1,terminal_time:"2023-01-09 22:15:01",lat:-5.894857,lng:105.38688,wind_speed:33.6,wind_direction:7.5,heading:275.2,distance:88661.16,depth:-50.5,cog:279.6,sog:12.5,created_at:"2023-01-10 08:08:14",updated_at:"2023-01-10 08:08:14"},{time:1673303401e3,id:"d2860a82-a25f-4c3b-aaf3-db903c6c079d",ship_id:1,terminal_time:"2023-01-09 22:30:01",lat:-5.88575,lng:105.334428,wind_speed:37.7,wind_direction:4.2,heading:278.6,distance:88664.41,depth:-78.6,cog:282.5,sog:12.7,created_at:"2023-01-10 08:08:58",updated_at:"2023-01-10 08:08:58"},{time:1673304301e3,id:"bc8a41e1-d425-400a-afb9-2d64d783a252",ship_id:1,terminal_time:"2023-01-09 22:45:01",lat:-5.874368,lng:105.282648,wind_speed:34.4,wind_direction:9.7,heading:280.7,distance:88667.58,depth:-95.8,cog:284,sog:12.9,created_at:"2023-01-10 08:08:50",updated_at:"2023-01-10 08:08:50"},{time:1673305201e3,id:"2210ba63-e4e5-46bb-a238-f60a7ff5f63e",ship_id:1,terminal_time:"2023-01-09 23:00:01",lat:-5.862632,lng:105.230625,wind_speed:33.6,wind_direction:19,heading:281.1,distance:88670.78,depth:-105,cog:280.9,sog:12.6,created_at:"2023-01-10 08:08:39",updated_at:"2023-01-10 08:08:39"},{time:1673306101e3,id:"42f528f7-c57d-46a6-b362-95020790eb63",ship_id:1,terminal_time:"2023-01-09 23:15:01",lat:-5.850693,lng:105.178738,wind_speed:34.2,wind_direction:21,heading:283,distance:88673.97,depth:-120,cog:284.6,sog:12.8,created_at:"2023-01-10 08:09:21",updated_at:"2023-01-10 08:09:21"},{time:1673307001e3,id:"5e0ba177-15a5-4845-a33f-2b9be3696f90",ship_id:1,terminal_time:"2023-01-09 23:30:01",lat:-5.836418,lng:105.127365,wind_speed:37.3,wind_direction:16.8,heading:285.3,distance:88677.14,depth:-200,cog:290.4,sog:12.6,created_at:"2023-01-10 08:08:57",updated_at:"2023-01-10 08:08:57"},{time:1673307901e3,id:"74e77432-2815-4913-8e48-42a55e173eda",ship_id:1,terminal_time:"2023-01-09 23:45:01",lat:-5.821302,lng:105.076055,wind_speed:32.6,wind_direction:19.6,heading:285,distance:88680.34,depth:-206,cog:282.4,sog:12.7,created_at:"2023-01-10 08:08:36",updated_at:"2023-01-10 08:08:36"},{time:1673308801e3,id:"733111ca-d0a6-4cd2-a3c3-25a09999a0cc",ship_id:1,terminal_time:"2023-01-10 00:00:01",lat:-5.800392,lng:105.027445,wind_speed:28.7,wind_direction:9.7,heading:300.1,distance:88683.55,depth:-200.6,cog:302.4,sog:12.9,created_at:"2023-01-10 08:09:31",updated_at:"2023-01-10 08:09:31"},{time:1673309703e3,id:"f06e33ca-2719-4b1f-8f9d-3187c3f75fac",ship_id:1,terminal_time:"2023-01-10 00:15:03",lat:-5.7731770000000004,lng:104.980798,wind_speed:28.9,wind_direction:9.7,heading:297.3,distance:88686.7,depth:-202.3,cog:297,sog:12.5,created_at:"2023-01-10 08:10:07",updated_at:"2023-01-10 08:10:07"},{time:1673310603e3,id:"c856de4d-7236-4d94-9e85-c9fedbc48708",ship_id:1,terminal_time:"2023-01-10 00:30:03",lat:-5.747583,lng:104.93485,wind_speed:28.7,wind_direction:11.2,heading:296.8,distance:88689.82,depth:-198.3,cog:300,sog:12.6,created_at:"2023-01-10 08:10:05",updated_at:"2023-01-10 08:10:05"},{time:1673311503e3,id:"cd8a0d81-f531-4582-b2fb-e948ed042a0b",ship_id:1,terminal_time:"2023-01-10 00:45:03",lat:-5.720978,lng:104.889258,wind_speed:31.6,wind_direction:8.4,heading:298.9,distance:88692.97,depth:-77,cog:300.9,sog:12.5,created_at:"2023-01-10 08:09:46",updated_at:"2023-01-10 08:09:46"},{time:1673312403e3,id:"4dba530d-bc76-4355-ab28-1340d9ac5be7",ship_id:1,terminal_time:"2023-01-10 01:00:03",lat:-5.69468,lng:104.843363,wind_speed:27.2,wind_direction:11.2,heading:296.8,distance:88696.15,depth:-59.3,cog:299.2,sog:12.8,created_at:"2023-01-10 08:09:28",updated_at:"2023-01-10 08:09:28"},{time:1673313303e3,id:"325aec11-c392-479b-9d0d-41cbbd1feff8",ship_id:1,terminal_time:"2023-01-10 01:15:03",lat:-5.668635,lng:104.795995,wind_speed:25.4,wind_direction:16.8,heading:303.1,distance:88699.36,depth:-81.6,cog:305.2,sog:13.1,created_at:"2023-01-10 08:10:20",updated_at:"2023-01-10 08:10:20"},{time:1673314203e3,id:"b06943c5-9cd6-4fad-8ebe-f5449d7bffcc",ship_id:1,terminal_time:"2023-01-10 01:30:03",lat:-5.637213,lng:104.750302,wind_speed:25.4,wind_direction:16.8,heading:302.1,distance:88702.77,depth:-159.3,cog:302.6,sog:13.6,created_at:"2023-01-10 08:10:11",updated_at:"2023-01-10 08:10:11"},{time:1673315103e3,id:"9222b191-091c-4065-a00a-754b7a702ec9",ship_id:1,terminal_time:"2023-01-10 01:45:03",lat:-5.606022,lng:104.702637,wind_speed:24.1,wind_direction:12.5,heading:300.2,distance:88706.13,depth:-184.6,cog:302.6,sog:13.8,created_at:"2023-01-10 08:10:19",updated_at:"2023-01-10 08:10:19"},{time:1673316003e3,id:"352b8845-bef7-409c-a3e0-cf0aadac3054",ship_id:1,terminal_time:"2023-01-10 02:00:03",lat:-5.5799579999999995,lng:104.65319,wind_speed:21.1,wind_direction:16.8,heading:295.9,distance:88709.53,depth:-84.6,cog:296,sog:13.5,created_at:"2023-01-10 08:10:25",updated_at:"2023-01-10 08:10:25"},{time:1673316903e3,id:"329d6a2d-92b7-4284-a981-79ccaf315c9c",ship_id:1,terminal_time:"2023-01-10 02:15:03",lat:-5.562793,lng:104.609362,wind_speed:18.2,wind_direction:19.6,heading:300.2,distance:88712.38,depth:-42.6,cog:307.4,sog:8.5,created_at:"2023-01-10 08:10:25",updated_at:"2023-01-10 08:10:25"},{time:1673317803e3,id:"232ce1d3-f960-42b9-80f6-306f115e0844",ship_id:1,terminal_time:"2023-01-10 02:30:03",lat:-13.866667,lng:111.266667,wind_speed:15.9,wind_direction:19.6,heading:305.2,distance:88714.17,depth:-36,cog:0,sog:0,created_at:"2023-01-10 08:10:32",updated_at:"2023-01-10 08:10:32"},{time:1673318703e3,id:"06e72ee8-b924-4aca-b288-407b083f57f5",ship_id:1,terminal_time:"2023-01-10 02:45:03",lat:-5.5387,lng:104.573278,wind_speed:7.1,wind_direction:21,heading:333.4,distance:88715.01,depth:-31.3,cog:286.4,sog:.5,created_at:"2023-01-10 08:10:31",updated_at:"2023-01-10 08:10:31"},{time:1673319603e3,id:"96979015-3293-432b-acdb-18a40130c80d",ship_id:1,terminal_time:"2023-01-10 03:00:03",lat:-5.538557,lng:104.572997,wind_speed:4.8,wind_direction:11.2,heading:34,distance:88715.04,depth:-31,cog:104.3,sog:.1,created_at:"2023-01-10 08:10:58",updated_at:"2023-01-10 08:10:58"},{time:1673320503e3,id:"311160b5-f9c6-4799-ad43-d85555c84374",ship_id:1,terminal_time:"2023-01-10 03:15:03",lat:-5.538512,lng:104.573348,wind_speed:2.5,wind_direction:11.2,heading:322.4,distance:88715.04,depth:-31,cog:349.1,sog:.1,created_at:"2023-01-10 08:10:55",updated_at:"2023-01-10 08:10:55"},{time:1673321403e3,id:"73f5a73d-8652-4de0-a492-7e4d2da8a5e4",ship_id:1,terminal_time:"2023-01-10 03:30:03",lat:-5.538447,lng:104.573578,wind_speed:2.7,wind_direction:11.2,heading:311.9,distance:88715.05,depth:-31,cog:124.7,sog:0,created_at:"2023-01-10 08:11:31",updated_at:"2023-01-10 08:11:31"},{time:1673322303e3,id:"d0d88b43-dbf4-4712-b6e6-2ba40ee6cbe7",ship_id:1,terminal_time:"2023-01-10 03:45:03",lat:-5.5383569999999995,lng:104.573628,wind_speed:2.9,wind_direction:11.2,heading:306.3,distance:88715.06,depth:-31,cog:216.8,sog:.1,created_at:"2023-01-10 08:11:02",updated_at:"2023-01-10 08:11:02"},{time:1673323203e3,id:"108e11e3-a7fa-41b3-af81-0cca33e8ff4c",ship_id:1,terminal_time:"2023-01-10 04:00:03",lat:-5.538393,lng:104.573665,wind_speed:4.8,wind_direction:11.2,heading:306.8,distance:88715.07,depth:-31,cog:232.3,sog:0,created_at:"2023-01-10 08:11:43",updated_at:"2023-01-10 08:11:43"},{time:1673324103e3,id:"bd89b9b2-c51f-4cc4-8ef2-932d74a5a249",ship_id:1,terminal_time:"2023-01-10 04:15:03",lat:-5.538438,lng:104.573587,wind_speed:5,wind_direction:11.2,heading:312.8,distance:88715.08,depth:-31,cog:169,sog:.1,created_at:"2023-01-10 08:11:37",updated_at:"2023-01-10 08:11:37"},{time:1673325003e3,id:"78ae1344-a9e9-44ff-b1f4-0c24f28e8fd4",ship_id:1,terminal_time:"2023-01-10 04:30:03",lat:-5.538348,lng:104.5736,wind_speed:5.6,wind_direction:11.2,heading:310.3,distance:88715.08,depth:-31,cog:80.3,sog:0,created_at:"2023-01-10 08:11:34",updated_at:"2023-01-10 08:11:34"},{time:1673325903e3,id:"a3aed659-572b-4b7c-abbe-b6691c723542",ship_id:1,terminal_time:"2023-01-10 04:45:03",lat:-5.538425,lng:104.573628,wind_speed:5.4,wind_direction:11.2,heading:310.7,distance:88715.08,depth:-31,cog:249.5,sog:0,created_at:"2023-01-10 08:12:04",updated_at:"2023-01-10 08:12:04"},{time:1673326803e3,id:"8c399c42-218f-43da-b0aa-06ac26cd8f12",ship_id:1,terminal_time:"2023-01-10 05:00:03",lat:-5.538432,lng:104.573612,wind_speed:6,wind_direction:11.2,heading:311.6,distance:88715.09,depth:-31,cog:246.8,sog:0,created_at:"2023-01-10 08:12:42",updated_at:"2023-01-10 08:12:42"},{time:1673327703e3,id:"27a493f7-b14d-40e8-8f51-878ed652d553",ship_id:1,terminal_time:"2023-01-10 05:15:03",lat:-5.538348,lng:104.573678,wind_speed:7.9,wind_direction:11.2,heading:304.8,distance:88715.09,depth:-31,cog:251.7,sog:0,created_at:"2023-01-10 08:12:18",updated_at:"2023-01-10 08:12:18"},{time:1673328603e3,id:"f54bb566-292e-490c-883f-df6d70b3841b",ship_id:1,terminal_time:"2023-01-10 05:30:03",lat:-5.538438,lng:104.57369,wind_speed:6.2,wind_direction:11.2,heading:307.8,distance:88715.09,depth:-31.3,cog:246.1,sog:0,created_at:"2023-01-10 08:12:04",updated_at:"2023-01-10 08:12:04"},{time:1673329503e3,id:"31775419-f67f-4db4-a57d-40ae80fb1fee",ship_id:1,terminal_time:"2023-01-10 05:45:03",lat:-5.5385349999999995,lng:104.573568,wind_speed:7.7,wind_direction:11.2,heading:315.1,distance:88715.1,depth:-31.3,cog:246.9,sog:0,created_at:"2023-01-10 08:12:07",updated_at:"2023-01-10 08:12:07"},{time:1673330403e3,id:"2aa1b843-cd65-401d-ad7b-b8c474060a3b",ship_id:1,terminal_time:"2023-01-10 06:00:03",lat:-5.538448,lng:104.573675,wind_speed:6.9,wind_direction:11.2,heading:309.7,distance:88715.1,depth:-31.3,cog:337.6,sog:.1,created_at:"2023-01-10 08:12:18",updated_at:"2023-01-10 08:12:18"},{time:1673331303e3,id:"8f037bb3-2b98-4249-ae83-9bb727b265b0",ship_id:1,terminal_time:"2023-01-10 06:15:03",lat:-5.538453,lng:104.573677,wind_speed:6.6,wind_direction:11.2,heading:306.4,distance:88715.11,depth:-31.3,cog:223.5,sog:.1,created_at:"2023-01-10 08:13:02",updated_at:"2023-01-10 08:13:02"},{time:1673332203e3,id:"bb7e96d9-62c3-4ce3-b7bf-c5d7c72c9df1",ship_id:1,terminal_time:"2023-01-10 06:30:03",lat:-5.53864,lng:104.573363,wind_speed:8.3,wind_direction:11.2,heading:3,distance:88715.12,depth:-31.6,cog:0,sog:0,created_at:"2023-01-10 08:13:13",updated_at:"2023-01-10 08:13:13"},{time:1673333103e3,id:"cac4d244-d1fb-4d6a-92ac-bdbe7da18de9",ship_id:1,terminal_time:"2023-01-10 06:45:03",lat:-5.53888,lng:104.573258,wind_speed:7.5,wind_direction:11.2,heading:334.3,distance:88715.12,depth:-31.6,cog:96.5,sog:.1,created_at:"2023-01-10 08:12:49",updated_at:"2023-01-10 08:12:49"},{time:1673334003e3,id:"ef0d6a02-a51d-43d6-ae22-41c8f4263f47",ship_id:1,terminal_time:"2023-01-10 07:00:03",lat:-5.538878,lng:104.573242,wind_speed:6.2,wind_direction:11.2,heading:336.8,distance:88715.12,depth:-31.6,cog:86.3,sog:0,created_at:"2023-01-10 08:12:40",updated_at:"2023-01-10 08:12:40"},{time:1673334903e3,id:"c8300c89-faab-4152-8194-a46bb0b19e3a",ship_id:1,terminal_time:"2023-01-10 07:15:03",lat:-5.538762,lng:104.573413,wind_speed:4.6,wind_direction:11.2,heading:322.3,distance:88715.12,depth:-31.6,cog:358.1,sog:0,created_at:"2023-01-10 08:13:39",updated_at:"2023-01-10 08:13:39"},{time:1673335803e3,id:"5ef47cf2-3be4-4288-b43d-2dfb23367dbd",ship_id:1,terminal_time:"2023-01-10 07:30:03",lat:-5.538867,lng:104.573397,wind_speed:5,wind_direction:11.2,heading:326.8,distance:88715.12,depth:-31.6,cog:229,sog:0,created_at:"2023-01-10 08:13:25",updated_at:"2023-01-10 08:13:25"},{time:1673336703e3,id:"c28bf5e0-d94c-4f83-8bfd-8cd79550a629",ship_id:1,terminal_time:"2023-01-10 07:45:03",lat:-5.538897,lng:104.573083,wind_speed:5.4,wind_direction:11.2,heading:341.4,distance:88715.13,depth:-32,cog:251.6,sog:0,created_at:"2023-01-10 08:13:39",updated_at:"2023-01-10 08:13:39"},{time:1673337608e3,id:"8170db59-e578-4892-80c4-85355054b0d1",ship_id:1,terminal_time:"2023-01-10 08:00:08",lat:-5.538908,lng:104.572883,wind_speed:3.6,wind_direction:11.2,heading:351.4,distance:88715.14,depth:-32,cog:316.1,sog:0,created_at:"2023-01-10 08:13:38",updated_at:"2023-01-10 08:13:38"},{time:1673338503e3,id:"32200fd0-ad31-4afc-86c6-0eae8d39b303",ship_id:1,terminal_time:"2023-01-10 08:15:03",lat:-5.538917,lng:104.572915,wind_speed:3.8,wind_direction:11.2,heading:351.1,distance:88715.14,depth:-32,cog:324.3,sog:0,created_at:"2023-01-10 08:15:05",updated_at:"2023-01-10 08:15:05"},{time:1673339403e3,id:"c3f39b55-e63f-47d2-9aeb-e7a3c11e6b6c",ship_id:1,terminal_time:"2023-01-10 08:30:03",lat:-5.538923,lng:104.572508,wind_speed:2.7,wind_direction:11.2,heading:0,distance:0,depth:-32,cog:292.2,sog:.2,created_at:"2023-01-10 08:30:05",updated_at:"2023-01-10 08:30:05"},{time:1673340303e3,id:"0f1d7c32-e1b4-4223-813c-3bcb9ff99519",ship_id:1,terminal_time:"2023-01-10 08:45:03",lat:-5.538778,lng:104.5725,wind_speed:2.9,wind_direction:11.2,heading:13,distance:88715.16,depth:-33,cog:110.6,sog:.1,created_at:"2023-01-10 08:45:05",updated_at:"2023-01-10 08:45:05"},{time:1673341203e3,id:"514696b1-d5c1-4d56-ac70-c12912248928",ship_id:1,terminal_time:"2023-01-10 09:00:03",lat:-5.538873,lng:104.572512,wind_speed:2.1,wind_direction:11.2,heading:9.6,distance:88715.17,depth:-32,cog:61.8,sog:0,created_at:"2023-01-10 09:00:05",updated_at:"2023-01-10 09:00:05"},{time:1673342103e3,id:"bb13fd39-bf15-4e3f-9f37-7ba8e070e27b",ship_id:1,terminal_time:"2023-01-10 09:15:03",lat:-5.538902,lng:104.572612,wind_speed:.3,wind_direction:11.2,heading:1.6,distance:88715.18,depth:-32,cog:209.1,sog:0,created_at:"2023-01-10 09:15:06",updated_at:"2023-01-10 09:15:06"},{time:1673343003e3,id:"52799df0-4dda-42e4-ae26-5f9ecb2e1f35",ship_id:1,terminal_time:"2023-01-10 09:30:03",lat:-5.53877,lng:104.572458,wind_speed:.7,wind_direction:11.2,heading:13,distance:88715.19,depth:-31.6,cog:274.9,sog:0,created_at:"2023-01-10 09:30:04",updated_at:"2023-01-10 09:30:04"},{time:1673343903e3,id:"582eb540-8281-4f06-be77-4f020238e88e",ship_id:1,terminal_time:"2023-01-10 09:45:03",lat:-5.538838,lng:104.572397,wind_speed:.3,wind_direction:11.2,heading:17.9,distance:88715.2,depth:-32,cog:98.3,sog:0,created_at:"2023-01-10 09:45:04",updated_at:"2023-01-10 09:45:04"},{time:1673344803e3,id:"d018284e-96bc-40a5-afdf-706261c83173",ship_id:1,terminal_time:"2023-01-10 10:00:03",lat:-5.538725,lng:104.572233,wind_speed:1.7,wind_direction:11.2,heading:26,distance:88715.22,depth:-32,cog:289.9,sog:.2,created_at:"2023-01-10 10:00:05",updated_at:"2023-01-10 10:00:05"},{time:1673345703e3,id:"c7e76799-9152-4732-b4a8-78b81f78ecbb",ship_id:1,terminal_time:"2023-01-10 10:15:03",lat:-5.538707,lng:104.572228,wind_speed:1.5,wind_direction:11.2,heading:28.8,distance:88715.23,depth:-32,cog:295.6,sog:0,created_at:"2023-01-10 10:15:06",updated_at:"2023-01-10 10:15:06"},{time:1673346603e3,id:"5aa686e9-1f35-4d75-94e0-4b24e6575a96",ship_id:1,terminal_time:"2023-01-10 10:30:03",lat:-5.538782,lng:104.572288,wind_speed:2.1,wind_direction:11.2,heading:0,distance:0,depth:-32,cog:115,sog:0,created_at:"2023-01-10 10:30:06",updated_at:"2023-01-10 10:30:06"},{time:1673347503e3,id:"4980bff8-4764-4dad-81cb-0f47d3ebeddc",ship_id:1,terminal_time:"2023-01-10 10:45:03",lat:-5.538625,lng:104.572078,wind_speed:2.1,wind_direction:11.2,heading:0,distance:0,depth:-31.6,cog:306.6,sog:.1,created_at:"2023-01-11 08:19:01",updated_at:"2023-01-11 08:19:01"},{time:1673348403e3,id:"04b85d97-df61-4c7c-9ca5-fadbac1226ee",ship_id:1,terminal_time:"2023-01-10 11:00:03",lat:-5.538578,lng:104.572077,wind_speed:2.7,wind_direction:11.2,heading:40.3,distance:88715.28,depth:-33,cog:99.9,sog:.1,created_at:"2023-01-11 08:09:51",updated_at:"2023-01-11 08:09:51"},{time:1673349303e3,id:"a246a336-7d32-4004-9c36-0669444bfb5f",ship_id:1,terminal_time:"2023-01-10 11:15:03",lat:-5.538568,lng:104.57207,wind_speed:3.3,wind_direction:11.2,heading:0,distance:0,depth:-31.6,cog:307.3,sog:.1,created_at:"2023-01-11 08:59:53",updated_at:"2023-01-11 08:59:53"},{time:1673350203e3,id:"7a34bddb-396b-42bc-8b79-427c5236a76f",ship_id:1,terminal_time:"2023-01-10 11:30:03",lat:-5.538305,lng:104.57185,wind_speed:6.8,wind_direction:88.6,heading:59.8,distance:88715.33,depth:-31.6,cog:9.6,sog:.1,created_at:"2023-01-11 09:18:11",updated_at:"2023-01-11 09:18:11"},{time:1673351103e3,id:"d9220e3e-bbc0-4395-bf55-bf94ebcd524d",ship_id:1,terminal_time:"2023-01-10 11:45:03",lat:-5.537692,lng:104.571797,wind_speed:9.7,wind_direction:116.8,heading:95.5,distance:88715.36,depth:-31.6,cog:26,sog:.3,created_at:"2023-01-11 08:23:10",updated_at:"2023-01-11 08:23:10"},{time:1673352003e3,id:"8a8a13ef-e698-438c-930f-49ec0bb09f63",ship_id:1,terminal_time:"2023-01-10 12:00:03",lat:-5.537127,lng:104.571998,wind_speed:11.2,wind_direction:109.8,heading:122.7,distance:88715.36,depth:-31.6,cog:26.7,sog:.3,created_at:"2023-01-11 09:34:41",updated_at:"2023-01-11 09:34:41"},{time:1673352903e3,id:"229984b5-6b7d-4e00-9a08-4206488dca9d",ship_id:1,terminal_time:"2023-01-10 12:15:03",lat:-5.536328,lng:104.573425,wind_speed:14.9,wind_direction:56.3,heading:188.4,distance:88715.37,depth:-31,cog:121.6,sog:.5,created_at:"2023-01-11 08:16:13",updated_at:"2023-01-11 08:16:13"},{time:1673353803e3,id:"6a965009-1ee6-44b6-9d4a-a8749a1c4dd8",ship_id:1,terminal_time:"2023-01-10 12:30:03",lat:-5.536405,lng:104.573513,wind_speed:17.6,wind_direction:54.9,heading:199.6,distance:88715.39,depth:-31,cog:328,sog:.3,created_at:"2023-01-11 10:05:28",updated_at:"2023-01-11 10:05:28"},{time:1673354703e3,id:"13b5ce26-e32d-45b6-9906-297e9012334b",ship_id:1,terminal_time:"2023-01-10 12:45:03",lat:-5.536357,lng:104.573753,wind_speed:19.2,wind_direction:43.6,heading:197.7,distance:88715.4,depth:-30.6,cog:289.1,sog:.2,created_at:"2023-01-11 08:18:32",updated_at:"2023-01-11 08:18:32"},{time:1673355603e3,id:"ecda7f05-7d69-4f20-bcb7-310ce62047a6",ship_id:1,terminal_time:"2023-01-10 13:00:03",lat:-5.536677,lng:104.574085,wind_speed:20.4,wind_direction:43.6,heading:215.3,distance:88715.42,depth:-31,cog:95.7,sog:.1,created_at:"2023-01-11 08:16:09",updated_at:"2023-01-11 08:16:09"},{time:1673356503e3,id:"67d9e2e8-6850-45c7-a608-0f6f3750adf7",ship_id:1,terminal_time:"2023-01-10 13:15:03",lat:-5.536792,lng:104.574192,wind_speed:15.9,wind_direction:33.6,heading:225.5,distance:88715.43,depth:-31.3,cog:209.7,sog:.1,created_at:"2023-01-11 09:28:23",updated_at:"2023-01-11 09:28:23"},{time:1673357403e3,id:"7c6d8e6c-0652-4c08-9c17-13466996bfa9",ship_id:1,terminal_time:"2023-01-10 13:30:03",lat:-5.536822,lng:104.574207,wind_speed:14.1,wind_direction:32.3,heading:224.4,distance:88715.45,depth:-31,cog:109.6,sog:.1,created_at:"2023-01-11 08:01:23",updated_at:"2023-01-11 08:01:23"},{time:1673358303e3,id:"f71a5fe4-a992-470c-87d5-901a98539cd8",ship_id:1,terminal_time:"2023-01-10 13:45:03",lat:-5.536855,lng:104.574237,wind_speed:11.6,wind_direction:50.6,heading:220.9,distance:88715.47,depth:-31,cog:99.8,sog:.1,created_at:"2023-01-11 08:59:38",updated_at:"2023-01-11 08:59:38"},{time:1673359203e3,id:"bdb096b3-a7b1-479a-bef5-ea8f3b003506",ship_id:1,terminal_time:"2023-01-10 14:00:03",lat:-5.537295,lng:104.574445,wind_speed:15.5,wind_direction:21,heading:249.2,distance:88715.48,depth:-31,cog:132.1,sog:.1,created_at:"2023-01-11 08:44:42",updated_at:"2023-01-11 08:44:42"},{time:1673360103e3,id:"19bccdc4-4e82-4152-b765-cba9d3cdc2fb",ship_id:1,terminal_time:"2023-01-10 14:15:03",lat:-5.537357,lng:104.574448,wind_speed:20.9,wind_direction:15.4,heading:253.6,distance:88715.49,depth:-31,cog:25,sog:.1,created_at:"2023-01-11 09:05:09",updated_at:"2023-01-11 09:05:09"},{time:1673361003e3,id:"9545fd94-a3ad-4016-bbd4-072cc971b7b4",ship_id:1,terminal_time:"2023-01-10 14:30:03",lat:-5.537183,lng:104.574422,wind_speed:15.3,wind_direction:21,heading:243.8,distance:88715.51,depth:-31,cog:317.2,sog:.2,created_at:"2023-01-11 08:05:43",updated_at:"2023-01-11 08:05:43"},{time:1673361903e3,id:"775ad8f3-7486-4dda-8b7b-a41720291bd7",ship_id:1,terminal_time:"2023-01-10 14:45:03",lat:-5.537147,lng:104.574497,wind_speed:20,wind_direction:11.2,heading:243.4,distance:88715.53,depth:-31,cog:18.5,sog:.1,created_at:"2023-01-11 08:54:04",updated_at:"2023-01-11 08:54:04"},{time:1673362803e3,id:"83abeb04-acff-403c-9cc5-7fb61c8448d9",ship_id:1,terminal_time:"2023-01-10 15:00:03",lat:-5.537225,lng:104.574413,wind_speed:14.5,wind_direction:21,heading:243.4,distance:88715.56,depth:-31,cog:321.2,sog:.1,created_at:"2023-01-11 09:13:01",updated_at:"2023-01-11 09:13:01"},{time:1673363703e3,id:"acaa3bc0-f391-4ec9-8168-4d6ebc980f12",ship_id:1,terminal_time:"2023-01-10 15:15:03",lat:-5.537107,lng:104.574492,wind_speed:19,wind_direction:9.7,heading:243.3,distance:88715.58,depth:-31,cog:319.3,sog:.2,created_at:"2023-01-11 10:25:25",updated_at:"2023-01-11 10:25:25"},{time:1673364603e3,id:"83580a71-bc32-40ba-a819-59e1591bae49",ship_id:1,terminal_time:"2023-01-10 15:30:03",lat:-5.537295,lng:104.574417,wind_speed:18.8,wind_direction:26.7,heading:237.1,distance:88715.61,depth:-31,cog:72.7,sog:.2,created_at:"2023-01-11 08:24:04",updated_at:"2023-01-11 08:24:04"},{time:1673365503e3,id:"d107598f-b613-40ad-80e8-f021392d01a3",ship_id:1,terminal_time:"2023-01-10 15:45:03",lat:-5.53849,lng:104.561972,wind_speed:19.2,wind_direction:8.4,heading:266.7,distance:88716.39,depth:-35.6,cog:265.4,sog:2.8,created_at:"2023-01-11 09:19:29",updated_at:"2023-01-11 09:19:29"},{time:1673366403e3,id:"859441a4-aad6-4ebd-aa8e-4a8578c5526d",ship_id:1,terminal_time:"2023-01-10 16:00:03",lat:-5.541455,lng:104.560142,wind_speed:10.8,wind_direction:0,heading:260.5,distance:88716.58,depth:-41.3,cog:93.6,sog:.4,created_at:"2023-01-11 09:56:23",updated_at:"2023-01-11 09:56:23"},{time:1673367303e3,id:"28c5590a-1222-4129-b1f8-464f4a1ab33d",ship_id:1,terminal_time:"2023-01-10 16:15:03",lat:-5.542728,lng:104.560063,wind_speed:15.9,wind_direction:315.3,heading:0,distance:0,depth:-42,cog:203.9,sog:.3,created_at:"2023-01-11 08:16:55",updated_at:"2023-01-11 08:16:55"},{time:1673368203e3,id:"9331e12a-800b-44a4-8481-ef5423926243",ship_id:1,terminal_time:"2023-01-10 16:30:03",lat:-5.54335,lng:104.559467,wind_speed:14.7,wind_direction:336.4,heading:316.8,distance:88716.61,depth:-42,cog:326.5,sog:.1,created_at:"2023-01-11 09:02:06",updated_at:"2023-01-11 09:02:06"},{time:1673369413e3,id:"b6c2fdc4-0a36-412f-97b3-e19f5f1b754e",ship_id:1,terminal_time:"2023-01-10 16:50:13",lat:-5.54225,lng:104.560177,wind_speed:7.9,wind_direction:16.8,heading:280.8,distance:88716.63,depth:-41.6,cog:348.4,sog:.2,created_at:"2023-01-11 08:36:51",updated_at:"2023-01-11 08:36:51"},{time:1673370003e3,id:"88544c71-07ec-47a3-9425-83443bf1543f",ship_id:1,terminal_time:"2023-01-10 17:00:03",lat:-5.541955,lng:104.560087,wind_speed:12,wind_direction:9.7,heading:270.3,distance:88716.64,depth:-41.6,cog:5.6,sog:.2,created_at:"2023-01-11 09:17:54",updated_at:"2023-01-11 09:17:54"},{time:1673370903e3,id:"0439c29f-90b9-48cc-bec9-af020ee12223",ship_id:1,terminal_time:"2023-01-10 17:15:03",lat:-5.54169,lng:104.560058,wind_speed:8.1,wind_direction:32.3,heading:260.5,distance:88716.65,depth:-41.6,cog:309,sog:.2,created_at:"2023-01-11 10:17:44",updated_at:"2023-01-11 10:17:44"},{time:1673371803e3,id:"5d8047ae-778e-4dae-b543-c5d312c91b89",ship_id:1,terminal_time:"2023-01-10 17:30:03",lat:-5.541797,lng:104.560018,wind_speed:10.4,wind_direction:43.6,heading:258.3,distance:88716.67,depth:-42,cog:106.2,sog:.2,created_at:"2023-01-11 09:22:34",updated_at:"2023-01-11 09:22:34"},{time:1673372703e3,id:"90fec783-94f4-4620-879e-cfd5bf0f9b98",ship_id:1,terminal_time:"2023-01-10 17:45:03",lat:-5.542028,lng:104.560158,wind_speed:7.7,wind_direction:32.3,heading:273,distance:88716.67,depth:-41.6,cog:229.3,sog:.1,created_at:"2023-01-11 09:13:40",updated_at:"2023-01-11 09:13:40"},{time:1673373603e3,id:"925227d5-1685-4efc-8d4d-07ee45b665cb",ship_id:1,terminal_time:"2023-01-10 18:00:03",lat:-5.542407,lng:104.559988,wind_speed:4.6,wind_direction:49.1,heading:282.2,distance:88716.68,depth:-42,cog:194,sog:.1,created_at:"2023-01-11 09:36:51",updated_at:"2023-01-11 09:36:51"},{time:1673374503e3,id:"2c1746d2-52ed-4878-96e6-c5bcb5e15f57",ship_id:1,terminal_time:"2023-01-10 18:15:03",lat:-5.542953,lng:104.559968,wind_speed:4.8,wind_direction:45,heading:303.8,distance:88716.69,depth:-42.3,cog:184.6,sog:.1,created_at:"2023-01-11 09:53:35",updated_at:"2023-01-11 09:53:35"},{time:1673375403e3,id:"458bc847-49b8-4103-b441-5b85070c4a26",ship_id:1,terminal_time:"2023-01-10 18:30:03",lat:-5.54319,lng:104.559698,wind_speed:8.1,wind_direction:26.7,heading:317.6,distance:88716.71,depth:-42.3,cog:259,sog:.2,created_at:"2023-01-11 10:41:12",updated_at:"2023-01-11 10:41:12"},{time:1673376303e3,id:"7a04d24c-562e-4260-8524-122266d76b5d",ship_id:1,terminal_time:"2023-01-10 18:45:03",lat:-5.543392,lng:104.559572,wind_speed:6.8,wind_direction:353.3,heading:326.9,distance:88716.71,depth:-42.3,cog:198.2,sog:.1,created_at:"2023-01-11 10:01:54",updated_at:"2023-01-11 10:01:54"},{time:1673377203e3,id:"4914b017-1b9f-4f4b-a291-d9b6bf8ecccd",ship_id:1,terminal_time:"2023-01-10 19:00:03",lat:-5.54358,lng:104.559465,wind_speed:4.2,wind_direction:359,heading:335.6,distance:88716.71,depth:-42.6,cog:264.1,sog:.1,created_at:"2023-01-11 10:59:54",updated_at:"2023-01-11 10:59:54"},{time:1673378108e3,id:"b76818db-b6a8-430f-a64e-55aacb30bd1e",ship_id:1,terminal_time:"2023-01-10 19:15:08",lat:-5.54346,lng:104.559573,wind_speed:9.3,wind_direction:282.9,heading:336.1,distance:88716.71,depth:-42.6,cog:86,sog:.2,created_at:"2023-01-11 10:54:48",updated_at:"2023-01-11 10:54:48"},{time:1673379003e3,id:"b72a0185-3cac-4028-be33-d0d9cf496a5b",ship_id:1,terminal_time:"2023-01-10 19:30:03",lat:-5.5430150000000005,lng:104.559922,wind_speed:7.3,wind_direction:325.1,heading:311.5,distance:88716.72,depth:-42.3,cog:21.5,sog:.1,created_at:"2023-01-11 10:48:56",updated_at:"2023-01-11 10:48:56"},{time:1673379903e3,id:"00de7ba1-da7b-4f09-b03d-b1e05711ac14",ship_id:1,terminal_time:"2023-01-10 19:45:03",lat:-5.542545,lng:104.560115,wind_speed:7.9,wind_direction:354.6,heading:294.8,distance:88716.73,depth:-42.3,cog:19.6,sog:0,created_at:"2023-01-11 10:06:49",updated_at:"2023-01-11 10:06:49"},{time:1673380803e3,id:"bb4f09cd-d3ea-4bd7-8b43-631d7492bd52",ship_id:1,terminal_time:"2023-01-10 20:00:03",lat:-5.542382,lng:104.560208,wind_speed:12,wind_direction:347.6,heading:289,distance:88716.74,depth:-42.3,cog:354.6,sog:.1,created_at:"2023-01-11 10:02:10",updated_at:"2023-01-11 10:02:10"},{time:1673381703e3,id:"3214b99f-8371-483a-b938-aa3c97e21d86",ship_id:1,terminal_time:"2023-01-10 20:15:03",lat:-5.541937,lng:104.560167,wind_speed:10.4,wind_direction:359,heading:274,distance:88716.75,depth:-42.3,cog:354.7,sog:.1,created_at:"2023-01-11 10:43:38",updated_at:"2023-01-11 10:43:38"},{time:1673382603e3,id:"4ac048c2-864d-4e5c-b5d3-f9bf5206d98e",ship_id:1,terminal_time:"2023-01-10 20:30:03",lat:-5.541728,lng:104.560092,wind_speed:8.1,wind_direction:354.6,heading:267.6,distance:88716.75,depth:-42.3,cog:222.1,sog:0,created_at:"2023-01-11 11:15:05",updated_at:"2023-01-11 11:15:05"},{time:1673383503e3,id:"8149de7d-77d9-48e1-a53d-b6433e2f73d2",ship_id:1,terminal_time:"2023-01-10 20:45:03",lat:-5.541787,lng:104.56018,wind_speed:4.6,wind_direction:9.7,heading:265.9,distance:88716.76,depth:-42.3,cog:317,sog:.1,created_at:"2023-01-11 10:35:19",updated_at:"2023-01-11 10:35:19"},{time:1673384403e3,id:"2923b743-662d-4062-b187-ceeae60b90df",ship_id:1,terminal_time:"2023-01-10 21:00:03",lat:-5.541892,lng:104.55998,wind_speed:5.6,wind_direction:9.7,heading:268,distance:88716.78,depth:-42.3,cog:194,sog:.1,created_at:"2023-01-11 10:29:27",updated_at:"2023-01-11 10:29:27"},{time:1673385303e3,id:"6c1036d6-44a0-425b-8658-9db0c3ed493d",ship_id:1,terminal_time:"2023-01-10 21:15:03",lat:-5.542145,lng:104.56009,wind_speed:4,wind_direction:21,heading:277.4,distance:88716.79,depth:-42.6,cog:260.7,sog:.1,created_at:"2023-01-11 11:25:52",updated_at:"2023-01-11 11:25:52"},{time:1673386203e3,id:"6368e190-3bdc-4221-bff8-71d5bb0a3ca7",ship_id:1,terminal_time:"2023-01-10 21:30:03",lat:-5.542302,lng:104.560052,wind_speed:6.2,wind_direction:11.7,heading:285.8,distance:88716.79,depth:-42.6,cog:164.1,sog:0,created_at:"2023-01-11 11:21:34",updated_at:"2023-01-11 11:21:34"},{time:1673387103e3,id:"fc0088a3-893d-4fe4-bfe7-30679fbca91e",ship_id:1,terminal_time:"2023-01-10 21:45:03",lat:-5.542138,lng:104.560253,wind_speed:10.3,wind_direction:336.4,heading:286,distance:88716.8,depth:-42.3,cog:14.8,sog:.2,created_at:"2023-01-11 11:19:10",updated_at:"2023-01-11 11:19:10"},{time:1673388003e3,id:"71be65de-7a90-43dd-81c8-39b9fef2c290",ship_id:1,terminal_time:"2023-01-10 22:00:03",lat:-5.54161,lng:104.559828,wind_speed:2.7,wind_direction:336.4,heading:262.8,distance:88716.82,depth:-42,cog:266.4,sog:.1,created_at:"2023-01-11 10:57:14",updated_at:"2023-01-11 10:57:14"},{time:1673388908e3,id:"e42797d0-df06-4807-ab76-c37418dcfe02",ship_id:1,terminal_time:"2023-01-10 22:15:08",lat:-5.541503,lng:104.55974,wind_speed:6.6,wind_direction:336.4,heading:252.5,distance:88716.83,depth:-42,cog:14.8,sog:.1,created_at:"2023-01-11 11:11:30",updated_at:"2023-01-11 11:11:30"},{time:1673389803e3,id:"eee442cb-4b9b-47a6-9d4d-b678c812444b",ship_id:1,terminal_time:"2023-01-10 22:30:03",lat:-5.54109,lng:104.560015,wind_speed:12,wind_direction:16.8,heading:246.5,distance:88716.84,depth:-41.6,cog:347.3,sog:.1,created_at:"2023-01-11 11:10:12",updated_at:"2023-01-11 11:10:12"},{time:1673390703e3,id:"e4a937de-d12c-4530-90a5-f64aa8f75f72",ship_id:1,terminal_time:"2023-01-10 22:45:03",lat:-5.541293,lng:104.559667,wind_speed:2.7,wind_direction:43.6,heading:245.7,distance:88716.86,depth:-42,cog:209.6,sog:.1,created_at:"2023-01-11 11:04:22",updated_at:"2023-01-11 11:04:22"},{time:1673391698e3,id:"68a3ef72-960a-4387-8aa6-5b66611fe0a2",ship_id:1,terminal_time:"2023-01-10 23:01:38",lat:-5.541548,lng:104.559765,wind_speed:3.4,wind_direction:49.1,heading:0,distance:0,depth:-41.6,cog:134.3,sog:.1,created_at:"2023-01-11 11:39:16",updated_at:"2023-01-11 11:39:16"},{time:1673392503e3,id:"089eb567-2b29-41e9-9781-9030e190f220",ship_id:1,terminal_time:"2023-01-10 23:15:03",lat:-5.54197,lng:104.560077,wind_speed:4.2,wind_direction:56.3,heading:271.4,distance:88716.87,depth:-42,cog:164.7,sog:.2,created_at:"2023-01-11 11:30:13",updated_at:"2023-01-11 11:30:13"},{time:1673393403e3,id:"63129a87-03cc-4ede-ba2d-91ee71078d8a",ship_id:1,terminal_time:"2023-01-10 23:30:03",lat:-5.542198,lng:104.5601,wind_speed:2.3,wind_direction:43.5,heading:286,distance:88716.87,depth:-42,cog:207.2,sog:.1,created_at:"2023-01-11 11:43:42",updated_at:"2023-01-11 11:43:42"},{time:1673394303e3,id:"4aaecec9-7db3-489d-9e3f-9027a0451a1d",ship_id:1,terminal_time:"2023-01-10 23:45:03",lat:-5.542232,lng:104.56008,wind_speed:2.5,wind_direction:357.5,heading:289.4,distance:88716.87,depth:-42,cog:172.7,sog:.1,created_at:"2023-01-11 11:30:30",updated_at:"2023-01-11 11:30:30"},{time:1673395203e3,id:"5e443c1f-a779-458b-923d-d79b8bdb2950",ship_id:1,terminal_time:"2023-01-11 00:00:03",lat:-5.542575,lng:104.559993,wind_speed:4.2,wind_direction:49.1,heading:295.9,distance:88716.87,depth:-42,cog:178.8,sog:.1,created_at:"2023-01-11 11:20:30",updated_at:"2023-01-11 11:20:30"},{time:1673478415e3,id:"3a27a298-8266-41ea-83c2-1fa693ef93a8",ship_id:1,terminal_time:"2023-01-11 23:06:55",lat:-5.91961,lng:106.000188,wind_speed:15.1,wind_direction:201.2,heading:31.1,distance:88812.6,depth:-4,cog:306.2,sog:.1,created_at:"2023-01-12 08:00:07",updated_at:"2023-01-12 08:00:07"},{time:1673482021e3,id:"301c2657-23af-4610-8577-1267f195a1c7",ship_id:1,terminal_time:"2023-01-12 00:07:01",lat:-5.91961,lng:106.000188,wind_speed:15.1,wind_direction:201.2,heading:31.1,distance:88812.6,depth:-4,cog:306.2,sog:0,created_at:"2023-01-12 08:00:10",updated_at:"2023-01-12 08:00:10"},{time:1673482501e3,id:"ffe5c699-e3bc-4273-a0ff-33499003b397",ship_id:1,terminal_time:"2023-01-12 00:15:01",lat:-5.919605,lng:106.00021,wind_speed:12.8,wind_direction:212.5,heading:31.1,distance:88812.61,depth:-4,cog:295.9,sog:0,created_at:"2023-01-12 08:01:25",updated_at:"2023-01-12 08:01:25"},{time:1673483401e3,id:"95be2e54-e93e-4fe2-a470-028106f4827b",ship_id:1,terminal_time:"2023-01-12 00:30:01",lat:-5.919602,lng:106.000222,wind_speed:15.1,wind_direction:219.6,heading:31,distance:88812.61,depth:-4,cog:107.8,sog:0,created_at:"2023-01-12 08:00:38",updated_at:"2023-01-12 08:00:38"},{time:1673484301e3,id:"62eb058f-ab11-46fc-8990-a9da9a055cae",ship_id:1,terminal_time:"2023-01-12 00:45:01",lat:-5.91959,lng:106.00022,wind_speed:19.6,wind_direction:206.9,heading:31.2,distance:88812.61,depth:-4,cog:126.6,sog:0,created_at:"2023-01-12 08:02:17",updated_at:"2023-01-12 08:02:17"},{time:1673485201e3,id:"db170fcf-5c04-48b1-8b3e-1ea1a747de17",ship_id:1,terminal_time:"2023-01-12 01:00:01",lat:-5.919602,lng:106.000213,wind_speed:14.1,wind_direction:206.9,heading:31.2,distance:88812.61,depth:-3.6,cog:121.9,sog:0,created_at:"2023-01-12 08:03:00",updated_at:"2023-01-12 08:03:00"},{time:1673486101e3,id:"53202233-3f20-46fc-b124-4e5b880022cc",ship_id:1,terminal_time:"2023-01-12 01:15:01",lat:-5.919595,lng:106.00023,wind_speed:20.4,wind_direction:204,heading:31.2,distance:88812.61,depth:-3.6,cog:137,sog:.1,created_at:"2023-01-12 08:03:40",updated_at:"2023-01-12 08:03:40"},{time:1673487001e3,id:"f2ad03cf-9317-4535-884b-21401f965fa1",ship_id:1,terminal_time:"2023-01-12 01:30:01",lat:-5.91957,lng:106.000213,wind_speed:16.1,wind_direction:206.9,heading:31.6,distance:88812.62,depth:-3.6,cog:312.3,sog:0,created_at:"2023-01-12 08:01:18",updated_at:"2023-01-12 08:01:18"},{time:1673487901e3,id:"1717eafe-2674-4fab-ac02-c130433596ce",ship_id:1,terminal_time:"2023-01-12 01:45:01",lat:-5.919583,lng:106.000232,wind_speed:16.9,wind_direction:208.3,heading:31.3,distance:88812.62,depth:-3.6,cog:280.3,sog:.1,created_at:"2023-01-12 08:00:28",updated_at:"2023-01-12 08:00:28"},{time:1673488801e3,id:"a257ae15-7b7d-4982-9e0a-7d65c7724a0b",ship_id:1,terminal_time:"2023-01-12 02:00:01",lat:-5.919518,lng:106.000213,wind_speed:19.2,wind_direction:213.9,heading:30.9,distance:88812.62,depth:-3.6,cog:303.5,sog:0,created_at:"2023-01-12 08:02:13",updated_at:"2023-01-12 08:02:13"},{time:1673489701e3,id:"e16c56d6-2d75-447e-9552-8e9dc5c89d17",ship_id:1,terminal_time:"2023-01-12 02:15:01",lat:-5.919577,lng:106.000232,wind_speed:20,wind_direction:212.5,heading:31.1,distance:88812.63,depth:-3.6,cog:310.5,sog:.1,created_at:"2023-01-12 08:01:35",updated_at:"2023-01-12 08:01:35"},{time:1673490601e3,id:"f19c3f20-ab29-457b-939a-1b258e8f55ad",ship_id:1,terminal_time:"2023-01-12 02:30:01",lat:-5.919567,lng:106.000248,wind_speed:19,wind_direction:212.1,heading:31.2,distance:88812.64,depth:-3.3,cog:313.2,sog:.1,created_at:"2023-01-12 08:00:48",updated_at:"2023-01-12 08:00:48"},{time:1673491501e3,id:"36399975-75a1-4ae4-9944-fe85dc14f62b",ship_id:1,terminal_time:"2023-01-12 02:45:01",lat:-5.919593,lng:106.000235,wind_speed:14.9,wind_direction:202.7,heading:31.2,distance:88812.65,depth:-3.3,cog:331.5,sog:.1,created_at:"2023-01-12 08:02:40",updated_at:"2023-01-12 08:02:40"},{time:1673492401e3,id:"85c19f34-0992-4c6f-b7dc-db0b624a306b",ship_id:1,terminal_time:"2023-01-12 03:00:01",lat:-5.919592,lng:106.00023,wind_speed:17.6,wind_direction:209.2,heading:31.2,distance:88812.66,depth:-3.3,cog:99.6,sog:0,created_at:"2023-01-12 08:03:12",updated_at:"2023-01-12 08:03:12"},{time:1673493301e3,id:"c778fd18-b2e6-4009-9e52-6cb03b3fa5f9",ship_id:1,terminal_time:"2023-01-12 03:15:01",lat:-5.919595,lng:106.00021,wind_speed:18.4,wind_direction:206.9,heading:31.1,distance:88812.67,depth:-3.3,cog:304.7,sog:.1,created_at:"2023-01-12 08:03:47",updated_at:"2023-01-12 08:03:47"},{time:1673494201e3,id:"6475c752-084a-474b-83f3-ed822b2ccb81",ship_id:1,terminal_time:"2023-01-12 03:30:01",lat:-5.919612,lng:106.000213,wind_speed:17.6,wind_direction:213.9,heading:31,distance:88812.68,depth:-3.3,cog:294.5,sog:.1,created_at:"2023-01-12 08:01:24",updated_at:"2023-01-12 08:01:24"},{time:1673495101e3,id:"a56d58a7-c4ba-4709-923b-545fd0a68e23",ship_id:1,terminal_time:"2023-01-12 03:45:01",lat:-5.919602,lng:106.000232,wind_speed:17.4,wind_direction:201.2,heading:31.3,distance:88812.68,depth:-3.3,cog:257.4,sog:0,created_at:"2023-01-12 08:04:20",updated_at:"2023-01-12 08:04:20"},{time:1673496001e3,id:"cac79e4a-e15d-4f75-9273-d5e24645053e",ship_id:1,terminal_time:"2023-01-12 04:00:01",lat:-5.919602,lng:106.000252,wind_speed:15.3,wind_direction:213.9,heading:0,distance:0,depth:-3.3,cog:307.2,sog:.1,created_at:"2023-01-12 08:04:10",updated_at:"2023-01-12 08:04:10"},{time:1673496901e3,id:"3dfb8e71-93a9-4d4f-8965-013575f61a35",ship_id:1,terminal_time:"2023-01-12 04:15:01",lat:-5.919607,lng:106.000238,wind_speed:20.2,wind_direction:206.7,heading:31.3,distance:88812.68,depth:-3.3,cog:150.8,sog:.1,created_at:"2023-01-12 08:04:45",updated_at:"2023-01-12 08:04:45"},{time:1673497801e3,id:"0f7d7540-fe75-45e0-9a30-635c7128b620",ship_id:1,terminal_time:"2023-01-12 04:30:01",lat:-5.919607,lng:106.000257,wind_speed:15.9,wind_direction:206.9,heading:31,distance:88812.68,depth:-3.3,cog:149.1,sog:0,created_at:"2023-01-12 08:02:03",updated_at:"2023-01-12 08:02:03"},{time:1673498701e3,id:"f21a660b-dcfa-4b13-9856-215ab031fb29",ship_id:1,terminal_time:"2023-01-12 04:45:01",lat:-5.919532,lng:106.000253,wind_speed:18,wind_direction:206.9,heading:0,distance:0,depth:-3.3,cog:196,sog:0,created_at:"2023-01-12 08:03:57",updated_at:"2023-01-12 08:03:57"},{time:1673499601e3,id:"67284bea-ac4f-4fcb-be3d-67fb96501e12",ship_id:1,terminal_time:"2023-01-12 05:00:01",lat:-5.919563,lng:106.000252,wind_speed:12.8,wind_direction:206.9,heading:31.1,distance:88812.69,depth:-3.3,cog:313.2,sog:.1,created_at:"2023-01-12 08:02:05",updated_at:"2023-01-12 08:02:05"},{time:1673500501e3,id:"903255da-a46b-4560-be6f-54121a35e9d4",ship_id:1,terminal_time:"2023-01-12 05:15:01",lat:-5.919592,lng:106.00022,wind_speed:14.7,wind_direction:208.3,heading:31.2,distance:88812.69,depth:-3.3,cog:317.3,sog:0,created_at:"2023-01-12 08:01:18",updated_at:"2023-01-12 08:01:18"},{time:1673501401e3,id:"d15302d5-c880-455f-8e84-b63f78532405",ship_id:1,terminal_time:"2023-01-12 05:30:01",lat:-5.919553,lng:106.000257,wind_speed:14.1,wind_direction:206.9,heading:31.3,distance:88812.69,depth:-3.3,cog:85.3,sog:0,created_at:"2023-01-12 08:00:36",updated_at:"2023-01-12 08:00:36"},{time:1673502301e3,id:"6964957b-d44f-4ccd-9711-139c0f5321a6",ship_id:1,terminal_time:"2023-01-12 05:45:01",lat:-5.919598,lng:106.000232,wind_speed:12.4,wind_direction:213.9,heading:31,distance:88812.7,depth:-3.3,cog:71.8,sog:0,created_at:"2023-01-12 08:02:19",updated_at:"2023-01-12 08:02:19"},{time:1673503261e3,id:"9e325986-7d1b-4135-ba31-922a70ec7621",ship_id:1,terminal_time:"2023-01-12 06:01:01",lat:-5.919563,lng:106.000245,wind_speed:16.9,wind_direction:213.9,heading:31.1,distance:88812.7,depth:-3.3,cog:45.2,sog:0,created_at:"2023-01-12 08:04:33",updated_at:"2023-01-12 08:04:33"},{time:1673504101e3,id:"91e1667b-13ee-4042-b227-58b06be13ccd",ship_id:1,terminal_time:"2023-01-12 06:15:01",lat:-5.919573,lng:106.00022,wind_speed:6.6,wind_direction:213.9,heading:31.3,distance:88812.7,depth:-3.3,cog:144.5,sog:0,created_at:"2023-01-12 08:01:32",updated_at:"2023-01-12 08:01:32"},{time:1673505006e3,id:"8fbb2278-d875-4905-87a7-36e16bdc5d08",ship_id:1,terminal_time:"2023-01-12 06:30:06",lat:-5.919547,lng:106.00019,wind_speed:14.1,wind_direction:219.6,heading:31.1,distance:88812.7,depth:-3.3,cog:129.1,sog:0,created_at:"2023-01-12 08:03:24",updated_at:"2023-01-12 08:03:24"},{time:1673505901e3,id:"6dd47699-6d9e-4f4e-b03f-b3c7c179d628",ship_id:1,terminal_time:"2023-01-12 06:45:01",lat:-5.919567,lng:106.000218,wind_speed:11.2,wind_direction:206.9,heading:31.2,distance:88812.7,depth:-3.3,cog:302.6,sog:0,created_at:"2023-01-12 08:04:14",updated_at:"2023-01-12 08:04:14"},{time:1673506801e3,id:"e6b66228-a386-4585-8b24-beb353ada5df",ship_id:1,terminal_time:"2023-01-12 07:00:01",lat:-5.919573,lng:106.000242,wind_speed:13.8,wind_direction:212.5,heading:31.2,distance:88812.7,depth:-3.3,cog:130,sog:0,created_at:"2023-01-12 08:03:33",updated_at:"2023-01-12 08:03:33"},{time:1673507701e3,id:"87faa350-6df1-4360-a4a2-280d812558f8",ship_id:1,terminal_time:"2023-01-12 07:15:01",lat:-5.919583,lng:106.000195,wind_speed:11.2,wind_direction:201.2,heading:31.1,distance:88812.7,depth:-3.3,cog:122.9,sog:0,created_at:"2023-01-12 08:04:40",updated_at:"2023-01-12 08:04:40"},{time:1673508601e3,id:"9e3f7764-a732-42a0-94c3-1c0493a43105",ship_id:1,terminal_time:"2023-01-12 07:30:01",lat:-5.919588,lng:106.000215,wind_speed:11,wind_direction:223.8,heading:31.1,distance:88812.7,depth:-3.3,cog:125.7,sog:0,created_at:"2023-01-12 08:04:34",updated_at:"2023-01-12 08:04:34"},{time:1673509501e3,id:"c0d5821b-d4a0-469d-a793-634ffbcb381f",ship_id:1,terminal_time:"2023-01-12 07:45:01",lat:-5.919593,lng:106.000222,wind_speed:16.1,wind_direction:213.9,heading:31.1,distance:88812.7,depth:-3.3,cog:122.9,sog:0,created_at:"2023-01-12 08:03:50",updated_at:"2023-01-12 08:03:50"},{time:1673510406e3,id:"5bcbfbf1-6af1-45d4-9e4f-3f756ee3de58",ship_id:1,terminal_time:"2023-01-12 08:00:06",lat:-5.9196,lng:106.000238,wind_speed:10.8,wind_direction:215.4,heading:31,distance:88812.7,depth:-3.3,cog:117.8,sog:.1,created_at:"2023-01-12 08:04:56",updated_at:"2023-01-12 08:04:56"},{time:1673511301e3,id:"7d090cd0-aba9-42b6-bbe9-1f253ee7093b",ship_id:1,terminal_time:"2023-01-12 08:15:01",lat:-5.919602,lng:106.000217,wind_speed:12.2,wind_direction:223.8,heading:31.1,distance:88812.7,depth:-3.6,cog:92.7,sog:.1,created_at:"2023-01-12 08:15:05",updated_at:"2023-01-12 08:15:05"},{time:1673512201e3,id:"fc753b87-6977-4e80-b90b-05dc877e04c3",ship_id:1,terminal_time:"2023-01-12 08:30:01",lat:-5.919598,lng:106.000233,wind_speed:15.5,wind_direction:215.4,heading:31.1,distance:88812.71,depth:-3.6,cog:134.1,sog:0,created_at:"2023-01-12 08:30:04",updated_at:"2023-01-12 08:30:04"},{time:1673513101e3,id:"15468c4d-66ad-44c5-8692-70c97eca048f",ship_id:1,terminal_time:"2023-01-12 08:45:01",lat:-5.919635,lng:106.00023,wind_speed:13.8,wind_direction:235.1,heading:31.1,distance:88812.71,depth:-3.6,cog:105.9,sog:.1,created_at:"2023-01-12 08:45:04",updated_at:"2023-01-12 08:45:04"},{time:1673514001e3,id:"ebc3bf69-1d1f-495a-b4a4-9c32c0ed598d",ship_id:1,terminal_time:"2023-01-12 09:00:01",lat:-5.919602,lng:106.000208,wind_speed:15.5,wind_direction:212,heading:31.2,distance:88812.71,depth:-3.6,cog:112.4,sog:0,created_at:"2023-01-12 09:00:04",updated_at:"2023-01-12 09:00:04"},{time:1673514901e3,id:"545fefd0-b1bb-4e36-a7d3-c0c35e2dc06a",ship_id:1,terminal_time:"2023-01-12 09:15:01",lat:-5.919617,lng:106.000203,wind_speed:11.6,wind_direction:223.8,heading:31.33,distance:88812.71,depth:-3.6,cog:121.1,sog:0,created_at:"2023-01-12 09:15:04",updated_at:"2023-01-12 09:15:04"},{time:1673515801e3,id:"f45537e7-c24d-43d4-a111-c331f0185270",ship_id:1,terminal_time:"2023-01-12 09:30:01",lat:-5.919602,lng:106.000202,wind_speed:11.4,wind_direction:246.3,heading:31.3,distance:88812.71,depth:-3.6,cog:120.6,sog:0,created_at:"2023-01-12 09:30:05",updated_at:"2023-01-12 09:30:05"},{time:1673516706e3,id:"d927f6f3-c47e-4066-948b-8c47ce169ddd",ship_id:1,terminal_time:"2023-01-12 09:45:06",lat:-5.919607,lng:106.0002,wind_speed:11.8,wind_direction:246.3,heading:31.3,distance:88812.71,depth:-3.6,cog:281.2,sog:0,created_at:"2023-01-12 09:45:11",updated_at:"2023-01-12 09:45:11"},{time:1673517601e3,id:"6f2b17a6-fc9e-4272-b263-9372835e5cb7",ship_id:1,terminal_time:"2023-01-12 10:00:01",lat:-5.919583,lng:106.000217,wind_speed:13.2,wind_direction:235.1,heading:31.1,distance:88812.71,depth:-3.6,cog:122.7,sog:0,created_at:"2023-01-12 10:00:05",updated_at:"2023-01-12 10:00:05"},{time:1673518501e3,id:"8037d2bb-f96b-4bdc-8e1a-6cc0234defce",ship_id:1,terminal_time:"2023-01-12 10:15:01",lat:-5.919593,lng:106.000227,wind_speed:10.8,wind_direction:225.2,heading:31.2,distance:88812.71,depth:-3.6,cog:107.9,sog:0,created_at:"2023-01-12 10:15:05",updated_at:"2023-01-12 10:15:05"},{time:1673519401e3,id:"59efc70a-dfcf-475b-a578-d472d4b63f41",ship_id:1,terminal_time:"2023-01-12 10:30:01",lat:-5.91962,lng:106.000227,wind_speed:12.8,wind_direction:235.1,heading:0,distance:0,depth:-3.6,cog:127.3,sog:0,created_at:"2023-01-12 10:30:05",updated_at:"2023-01-12 10:30:05"},{time:1673520301e3,id:"14107e27-17a4-4f72-8bf5-b4ba6866475b",ship_id:1,terminal_time:"2023-01-12 10:45:01",lat:-5.919598,lng:106.000215,wind_speed:6.9,wind_direction:241.7,heading:31.2,distance:88812.72,depth:-3.6,cog:142.3,sog:0,created_at:"2023-01-12 10:45:05",updated_at:"2023-01-12 10:45:05"},{time:1673521201e3,id:"55f2910a-c9a9-400f-99ec-17d9ea4260ab",ship_id:1,terminal_time:"2023-01-12 11:00:01",lat:-5.919615,lng:106.000205,wind_speed:14.3,wind_direction:235.1,heading:31.2,distance:88812.72,depth:-3.6,cog:309,sog:0,created_at:"2023-01-12 11:00:05",updated_at:"2023-01-12 11:00:05"},{time:1673522101e3,id:"554cb944-60be-4c64-baf9-0244229277f5",ship_id:1,terminal_time:"2023-01-12 11:15:01",lat:-5.919627,lng:106.000208,wind_speed:12.4,wind_direction:237.5,heading:31,distance:88812.72,depth:-3.6,cog:63,sog:.1,created_at:"2023-01-12 11:15:05",updated_at:"2023-01-12 11:15:05"},{time:1673523001e3,id:"d0a7e914-9d36-4e3a-b078-429af76e139a",ship_id:1,terminal_time:"2023-01-12 11:30:01",lat:-5.919625,lng:106.000183,wind_speed:12.4,wind_direction:247.7,heading:31.3,distance:88812.74,depth:-3.6,cog:64.3,sog:.1,created_at:"2023-01-12 11:30:05",updated_at:"2023-01-12 11:30:05"},{time:1673523901e3,id:"3578112f-5993-44fc-9bcb-484ae892cb83",ship_id:1,terminal_time:"2023-01-12 11:45:01",lat:-5.91961,lng:106.00022,wind_speed:13.8,wind_direction:247.7,heading:31.2,distance:88812.75,depth:-3.6,cog:47.8,sog:.1,created_at:"2023-01-12 11:45:05",updated_at:"2023-01-12 11:45:05"},{time:1673524801e3,id:"63045459-e38d-4517-88ec-0e16f915455c",ship_id:1,terminal_time:"2023-01-12 12:00:01",lat:-5.919587,lng:106.000218,wind_speed:9.1,wind_direction:247.7,heading:31.1,distance:88812.76,depth:-3.6,cog:102.5,sog:.1,created_at:"2023-01-12 12:00:05",updated_at:"2023-01-12 12:00:05"},{time:1673525701e3,id:"8f235d26-eba0-4cf1-b387-1bbe467f5880",ship_id:1,terminal_time:"2023-01-12 12:15:01",lat:-5.919615,lng:106.000227,wind_speed:11.6,wind_direction:242.1,heading:31.1,distance:88812.77,depth:-3.6,cog:311.4,sog:0,created_at:"2023-01-12 12:15:02",updated_at:"2023-01-12 12:15:02"},{time:1673526601e3,id:"3a964569-c108-42ad-a009-fcbb362b6a7f",ship_id:1,terminal_time:"2023-01-12 12:30:01",lat:-5.91958,lng:106.000207,wind_speed:5.8,wind_direction:229.4,heading:31.2,distance:88812.77,depth:-3.3,cog:110.9,sog:.1,created_at:"2023-01-12 12:30:04",updated_at:"2023-01-12 12:30:04"},{time:1673527501e3,id:"6751b37a-cee9-487f-bb0f-011ea80d9cb4",ship_id:1,terminal_time:"2023-01-12 12:45:01",lat:-5.919628,lng:106.000247,wind_speed:7.9,wind_direction:206.9,heading:31.3,distance:88812.78,depth:-3.3,cog:293.2,sog:0,created_at:"2023-01-12 12:45:04",updated_at:"2023-01-12 12:45:04"},{time:1673528401e3,id:"9a2e95f6-e2a6-4136-a8a0-f05c56caf90e",ship_id:1,terminal_time:"2023-01-12 13:00:01",lat:-5.919595,lng:106.000223,wind_speed:9.7,wind_direction:223.8,heading:0,distance:0,depth:-3.3,cog:139,sog:.2,created_at:"2023-01-12 13:00:04",updated_at:"2023-01-12 13:00:04"},{time:1673529301e3,id:"7ecb61ef-4188-47ff-8bf4-6efd86f72928",ship_id:1,terminal_time:"2023-01-12 13:15:01",lat:-5.91958,lng:106.000175,wind_speed:7.3,wind_direction:237.9,heading:0,distance:0,depth:-3.3,cog:131.9,sog:0,created_at:"2023-01-12 13:15:04",updated_at:"2023-01-12 13:15:04"},{time:1673530201e3,id:"43466e7e-0a51-42ee-81ce-5bcb8067a0a0",ship_id:1,terminal_time:"2023-01-12 13:30:01",lat:-5.919583,lng:106.00021,wind_speed:8.7,wind_direction:219.6,heading:31.2,distance:88812.78,depth:-3.3,cog:114,sog:.1,created_at:"2023-01-12 13:30:04",updated_at:"2023-01-12 13:30:04"},{time:1673531101e3,id:"297a2025-c5ef-40bd-b16e-59dba6360dae",ship_id:1,terminal_time:"2023-01-12 13:45:01",lat:-5.919592,lng:106.000177,wind_speed:5.2,wind_direction:233.7,heading:31.1,distance:88812.78,depth:-3.3,cog:101.6,sog:0,created_at:"2023-01-12 13:45:04",updated_at:"2023-01-12 13:45:04"},{time:1673532001e3,id:"4d3b3fed-521a-4c4b-be34-bc1c12554aca",ship_id:1,terminal_time:"2023-01-12 14:00:01",lat:-5.919585,lng:106.000207,wind_speed:5.6,wind_direction:236.5,heading:31.3,distance:88812.79,depth:-3.3,cog:337.4,sog:0,created_at:"2023-01-12 14:00:04",updated_at:"2023-01-12 14:00:04"},{time:1673532901e3,id:"4d4f1774-36c0-419e-ba3a-b02fddf2626f",ship_id:1,terminal_time:"2023-01-12 14:15:01",lat:-5.919595,lng:106.000158,wind_speed:4.6,wind_direction:260.4,heading:31.2,distance:88812.79,depth:-3.3,cog:324.5,sog:0,created_at:"2023-01-12 14:15:04",updated_at:"2023-01-12 14:15:04"},{time:1673533801e3,id:"1698b5e0-d4ac-49ad-b810-49e9601d3853",ship_id:1,terminal_time:"2023-01-12 14:30:01",lat:-5.919583,lng:106.000225,wind_speed:4.6,wind_direction:256.1,heading:31.2,distance:88812.8,depth:-3.3,cog:322.1,sog:.1,created_at:"2023-01-12 14:30:04",updated_at:"2023-01-12 14:30:04"},{time:1673534701e3,id:"ad9fb6e4-5f14-4125-9e71-167e7c866606",ship_id:1,terminal_time:"2023-01-12 14:45:01",lat:-5.919595,lng:106.000203,wind_speed:6.8,wind_direction:233.7,heading:31.2,distance:88812.8,depth:-3,cog:95.3,sog:.1,created_at:"2023-01-12 14:45:04",updated_at:"2023-01-12 14:45:04"},{time:1673535601e3,id:"1fe7fc3b-36f4-404f-be9f-7b043d160fd3",ship_id:1,terminal_time:"2023-01-12 15:00:01",lat:-5.919605,lng:106.000208,wind_speed:8.3,wind_direction:252,heading:31.3,distance:88812.81,depth:-3,cog:332,sog:.1,created_at:"2023-01-12 15:00:05",updated_at:"2023-01-12 15:00:05"},{time:1673536501e3,id:"e70637eb-6415-42ce-9e73-20ef8a56d9b5",ship_id:1,terminal_time:"2023-01-12 15:15:01",lat:-5.919622,lng:106.000213,wind_speed:8.5,wind_direction:252,heading:31.5,distance:88812.81,depth:-3,cog:307.5,sog:0,created_at:"2023-01-12 15:15:05",updated_at:"2023-01-12 15:15:05"},{time:1673537401e3,id:"89cddc9c-a742-45c5-a8cb-95af58326154",ship_id:1,terminal_time:"2023-01-12 15:30:01",lat:-5.919613,lng:106.000245,wind_speed:6.4,wind_direction:247.7,heading:31.5,distance:88812.82,depth:-3,cog:180.8,sog:.1,created_at:"2023-01-12 15:30:05",updated_at:"2023-01-12 15:30:05"},{time:1673538301e3,id:"7eeb6682-f01b-4920-be65-5e0b691cda91",ship_id:1,terminal_time:"2023-01-12 15:45:01",lat:-5.918417,lng:105.999612,wind_speed:10.4,wind_direction:337.8,heading:291.7,distance:88812.88,depth:-3.3,cog:310.4,sog:2.1,created_at:"2023-01-12 15:45:05",updated_at:"2023-01-12 15:45:05"},{time:1673539201e3,id:"bca7ec47-e760-471e-bcd9-5a8aa2355046",ship_id:1,terminal_time:"2023-01-12 16:00:01",lat:-5.898973,lng:105.987732,wind_speed:18.2,wind_direction:324.5,heading:340.2,distance:88814.27,depth:-39,cog:332.8,sog:9.2,created_at:"2023-01-12 16:00:05",updated_at:"2023-01-12 16:00:05"},{time:1673540101e3,id:"6d1f8f41-c708-4913-9f3b-796181bd67ba",ship_id:1,terminal_time:"2023-01-12 16:15:01",lat:-5.868212,lng:106.003383,wind_speed:3.6,wind_direction:226.2,heading:60.3,distance:88816.54,depth:-55.6,cog:61.7,sog:11.4,created_at:"2023-01-12 16:15:02",updated_at:"2023-01-12 16:15:02"},{time:1673541001e3,id:"ffddd40d-2fb5-470b-935f-1f998984761a",ship_id:1,terminal_time:"2023-01-12 16:30:01",lat:-5.8487729999999996,lng:106.049228,wind_speed:5.8,wind_direction:157.5,heading:70.4,distance:88819.53,depth:-47,cog:70,sog:12.2,created_at:"2023-01-12 16:30:05",updated_at:"2023-01-12 16:30:05"},{time:1673541901e3,id:"225b2709-e620-4f1f-89f5-d761ea9a27f8",ship_id:1,terminal_time:"2023-01-12 16:45:01",lat:-5.834948,lng:106.097917,wind_speed:6.4,wind_direction:157.5,heading:80.2,distance:88822.55,depth:-31.6,cog:81.1,sog:12.2,created_at:"2023-01-12 16:45:05",updated_at:"2023-01-12 16:45:05"},{time:1673542801e3,id:"98589ed9-2a54-44e0-94d2-9b377e3c67c6",ship_id:1,terminal_time:"2023-01-12 17:00:01",lat:-5.832885,lng:106.14986,wind_speed:4,wind_direction:144.5,heading:99,distance:88825.66,depth:-28.6,cog:102.2,sog:12.8,created_at:"2023-01-12 17:00:05",updated_at:"2023-01-12 17:00:05"},{time:1673543701e3,id:"7fa7bf3b-acdb-4707-8e81-6860424af4b9",ship_id:1,terminal_time:"2023-01-12 17:15:01",lat:-5.838525,lng:106.20245,wind_speed:2.9,wind_direction:161.9,heading:89.2,distance:88828.85,depth:-22.6,cog:91.4,sog:12.7,created_at:"2023-01-12 17:15:05",updated_at:"2023-01-12 17:15:05"},{time:1673544601e3,id:"79865b86-826b-4cb0-bd95-1a88728a32ee",ship_id:1,terminal_time:"2023-01-12 17:30:01",lat:-5.839608,lng:106.25531,wind_speed:1.7,wind_direction:194.7,heading:88.8,distance:88831.98,depth:-23,cog:90.5,sog:12.7,created_at:"2023-01-12 17:30:03",updated_at:"2023-01-12 17:30:03"},{time:1673545501e3,id:"bcf27b90-6ee8-4dc4-91cd-4b5ab1188d9a",ship_id:1,terminal_time:"2023-01-12 17:45:01",lat:-5.83994,lng:106.30857,wind_speed:2.5,wind_direction:99.8,heading:89,distance:88835.27,depth:-31.6,cog:91.2,sog:13,created_at:"2023-01-12 17:45:03",updated_at:"2023-01-12 17:45:03"},{time:1673546401e3,id:"24294d87-37c8-401c-8120-3f6412ebbd31",ship_id:1,terminal_time:"2023-01-12 18:00:01",lat:-5.841293,lng:106.363258,wind_speed:3.6,wind_direction:54.9,heading:86.3,distance:88838.55,depth:-28.6,cog:88.1,sog:13.1,created_at:"2023-01-12 18:00:03",updated_at:"2023-01-12 18:00:03"},{time:1673547301e3,id:"1b983cb5-a7a5-4259-a3ed-68ba7093343e",ship_id:1,terminal_time:"2023-01-12 18:15:01",lat:-5.838722,lng:106.418933,wind_speed:7.3,wind_direction:56.3,heading:90.1,distance:88841.85,depth:-49.3,cog:90.8,sog:13.2,created_at:"2023-01-12 18:15:03",updated_at:"2023-01-12 18:15:03"},{time:1673548201e3,id:"15c3c6db-50aa-4a57-9238-2319a66b67aa",ship_id:1,terminal_time:"2023-01-12 18:30:01",lat:-5.83975,lng:106.47494,wind_speed:9.3,wind_direction:54.9,heading:89.9,distance:88845.21,depth:-45.6,cog:90.7,sog:13.5,created_at:"2023-01-13 08:01:29",updated_at:"2023-01-13 08:01:29"},{time:1673549101e3,id:"06e2801a-9747-4c80-9786-b47a946f07dd",ship_id:1,terminal_time:"2023-01-12 18:45:01",lat:-5.840233,lng:106.531412,wind_speed:9.9,wind_direction:65.2,heading:92.3,distance:88848.59,depth:-77.6,cog:94,sog:13.5,created_at:"2023-01-13 08:03:23",updated_at:"2023-01-13 08:03:23"},{time:1673550001e3,id:"69056518-ad05-4299-9844-8cdfaed1b01c",ship_id:1,terminal_time:"2023-01-12 19:00:01",lat:-5.837537,lng:106.585833,wind_speed:10.4,wind_direction:16.8,heading:77.9,distance:88851.84,depth:-70.6,cog:78.2,sog:13,created_at:"2023-01-13 08:02:35",updated_at:"2023-01-13 08:02:35"},{time:1673550901e3,id:"17bc32d5-5b7b-4c30-b1df-b7e55e45806b",ship_id:1,terminal_time:"2023-01-12 19:15:01",lat:-5.830312,lng:106.640343,wind_speed:13,wind_direction:21,heading:87.4,distance:88855.12,depth:-39,cog:86.4,sog:13.2,created_at:"2023-01-13 08:04:26",updated_at:"2023-01-13 08:04:26"},{time:1673551801e3,id:"f7476f04-656a-4e72-8e6c-57b0d831c5f5",ship_id:1,terminal_time:"2023-01-12 19:30:01",lat:-5.853542,lng:106.689242,wind_speed:13.2,wind_direction:21,heading:126.5,distance:88858.39,depth:-27,cog:128.5,sog:13.2,created_at:"2023-01-13 08:05:16",updated_at:"2023-01-13 08:05:16"},{time:1673552701e3,id:"88b9ecc4-9964-43d8-b6a4-aed13a07495c",ship_id:1,terminal_time:"2023-01-12 19:45:01",lat:-5.889747,lng:106.731723,wind_speed:18,wind_direction:12.5,heading:129.7,distance:88861.73,depth:-29,cog:131.9,sog:13.4,created_at:"2023-01-13 08:02:30",updated_at:"2023-01-13 08:02:30"},{time:1673553601e3,id:"26848018-c9ac-4503-838d-ae857206e20b",ship_id:1,terminal_time:"2023-01-12 20:00:01",lat:-5.927122,lng:106.772935,wind_speed:18.8,wind_direction:7.9,heading:130.5,distance:88865.07,depth:-21.6,cog:132.8,sog:13.3,created_at:"2023-01-13 08:01:15",updated_at:"2023-01-13 08:01:15"},{time:1673554501e3,id:"2e692d80-82f5-4549-91d5-8a2ed3fb2e12",ship_id:1,terminal_time:"2023-01-12 20:15:01",lat:-5.960285,lng:106.81634,wind_speed:17.4,wind_direction:9.7,heading:112.2,distance:88868.34,depth:-17.3,cog:114.9,sog:13.1,created_at:"2023-01-13 08:03:01",updated_at:"2023-01-13 08:03:01"},{time:1673555401e3,id:"aca95c12-4858-4cf9-94d3-a4f8e4de5aef",ship_id:1,terminal_time:"2023-01-12 20:30:01",lat:-5.983137,lng:106.859937,wind_speed:11.8,wind_direction:0,heading:130.3,distance:88871.33,depth:-15.3,cog:131.8,sog:9.7,created_at:"2023-01-13 08:02:21",updated_at:"2023-01-13 08:02:21"},{time:1673556301e3,id:"8b09c8fe-2ea4-494c-a5fb-dd2a24bf7270",ship_id:1,terminal_time:"2023-01-12 20:45:01",lat:-6.000398,lng:106.883002,wind_speed:7.9,wind_direction:1.4,heading:115.3,distance:88873.1,depth:-13.6,cog:118.2,sog:4.3,created_at:"2023-01-13 08:00:56",updated_at:"2023-01-13 08:00:56"},{time:1673557201e3,id:"284ce5ee-e703-4d6d-b114-c1df32919fd1",ship_id:1,terminal_time:"2023-01-12 21:00:01",lat:-6.00611,lng:106.893912,wind_speed:6,wind_direction:349,heading:106.4,distance:88873.88,depth:-13,cog:142.3,sog:.3,created_at:"2023-01-13 08:02:49",updated_at:"2023-01-13 08:02:49"},{time:1673558101e3,id:"45ad13f2-7559-4927-89c6-6f3c198a88b2",ship_id:1,terminal_time:"2023-01-12 21:15:01",lat:-6.007525,lng:106.893923,wind_speed:6.6,wind_direction:12.5,heading:3,distance:88873.88,depth:-13,cog:126.7,sog:.2,created_at:"2023-01-13 08:02:41",updated_at:"2023-01-13 08:02:41"},{time:1673559001e3,id:"a4a1e14d-14ab-43f6-9535-4fa2a9d49ae4",ship_id:1,terminal_time:"2023-01-12 21:30:01",lat:-6.00759,lng:106.894172,wind_speed:5.4,wind_direction:30.9,heading:25.3,distance:88873.89,depth:-13,cog:173.5,sog:.1,created_at:"2023-01-13 08:02:21",updated_at:"2023-01-13 08:02:21"},{time:1673559901e3,id:"02e22b70-2f1d-4ec5-be13-4924c441d425",ship_id:1,terminal_time:"2023-01-12 21:45:01",lat:-6.007575,lng:106.894195,wind_speed:7.3,wind_direction:32.3,heading:25.6,distance:88873.9,depth:-12.6,cog:225,sog:.1,created_at:"2023-01-13 08:03:11",updated_at:"2023-01-13 08:03:11"},{time:1673560801e3,id:"714b40ab-6959-4c7d-89d9-dbb4bb70e57c",ship_id:1,terminal_time:"2023-01-12 22:00:01",lat:-6.007612,lng:106.894137,wind_speed:5.8,wind_direction:33.6,heading:25,distance:88873.9,depth:-12.6,cog:168.2,sog:0,created_at:"2023-01-13 08:02:28",updated_at:"2023-01-13 08:02:28"},{time:1673561701e3,id:"8076bd11-03d4-4552-b96d-89e5d0255292",ship_id:1,terminal_time:"2023-01-12 22:15:01",lat:-6.007583,lng:106.894055,wind_speed:7.3,wind_direction:43.6,heading:29.2,distance:88873.9,depth:-13,cog:316.5,sog:.1,created_at:"2023-01-13 08:02:17",updated_at:"2023-01-13 08:02:17"},{time:1673562601e3,id:"d34040f5-d539-420c-bb97-d96c16081c94",ship_id:1,terminal_time:"2023-01-12 22:30:01",lat:-6.007425,lng:106.89391,wind_speed:5.6,wind_direction:43.6,heading:44.4,distance:88873.9,depth:-13,cog:126.5,sog:.1,created_at:"2023-01-13 08:03:38",updated_at:"2023-01-13 08:03:38"},{time:1673563501e3,id:"564f8c5e-2634-4ec9-9f48-e0af89ff5564",ship_id:1,terminal_time:"2023-01-12 22:45:01",lat:-6.007598,lng:106.894127,wind_speed:4.6,wind_direction:43.6,heading:27.2,distance:88873.9,depth:-13,cog:34.5,sog:0,created_at:"2023-01-13 08:04:15",updated_at:"2023-01-13 08:04:15"},{time:1673564401e3,id:"4926d7e4-dbc0-4a31-8d0a-6a052ff27bc0",ship_id:1,terminal_time:"2023-01-12 23:00:01",lat:-6.007682,lng:106.894268,wind_speed:5.6,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:155.9,sog:0,created_at:"2023-01-13 08:03:58",updated_at:"2023-01-13 08:03:58"},{time:1673565301e3,id:"433693fd-81e1-4395-a29d-8eb5bb82c236",ship_id:1,terminal_time:"2023-01-12 23:15:01",lat:-6.007708,lng:106.894337,wind_speed:4.8,wind_direction:43.6,heading:14.8,distance:88873.9,depth:-13,cog:189.5,sog:0,created_at:"2023-01-13 08:03:48",updated_at:"2023-01-13 08:03:48"},{time:1673566201e3,id:"3bd7e61b-1373-4345-867a-dfe285746a32",ship_id:1,terminal_time:"2023-01-12 23:30:01",lat:-6.007645,lng:106.894262,wind_speed:3.4,wind_direction:43.6,heading:19.3,distance:88873.9,depth:-13,cog:200.6,sog:.1,created_at:"2023-01-13 08:05:28",updated_at:"2023-01-13 08:05:28"},{time:1673567101e3,id:"09b7824a-9980-4c9d-bf99-87e65e80069b",ship_id:1,terminal_time:"2023-01-12 23:45:01",lat:-6.007677,lng:106.8943,wind_speed:2.1,wind_direction:43.6,heading:16.6,distance:88873.9,depth:-13,cog:44.7,sog:0,created_at:"2023-01-13 08:04:21",updated_at:"2023-01-13 08:04:21"},{time:1673568001e3,id:"b38d3696-7f77-459c-863f-91445f63f3e9",ship_id:1,terminal_time:"2023-01-13 00:00:01",lat:-6.007713,lng:106.894375,wind_speed:3.1,wind_direction:43.6,heading:15.4,distance:88873.9,depth:-13,cog:108.7,sog:.1,created_at:"2023-01-13 08:01:36",updated_at:"2023-01-13 08:01:36"},{time:1673568903e3,id:"b55f2d04-80e5-45c3-8479-13897d8db096",ship_id:1,terminal_time:"2023-01-13 00:15:03",lat:-6.007727,lng:106.894435,wind_speed:2.7,wind_direction:43.6,heading:11.8,distance:88873.9,depth:-13,cog:68.7,sog:0,created_at:"2023-01-13 08:03:55",updated_at:"2023-01-13 08:03:55"},{time:1673570168e3,id:"bc973d32-96ff-4d4b-83fa-fdc69ab666a4",ship_id:1,terminal_time:"2023-01-13 00:36:08",lat:-6.00772,lng:106.894325,wind_speed:2.7,wind_direction:43.6,heading:17.2,distance:88873.9,depth:-13,cog:224.5,sog:0,created_at:"2023-01-13 08:01:47",updated_at:"2023-01-13 08:01:47"},{time:1673570703e3,id:"51065554-9c2a-4ead-9c62-cdd44d475009",ship_id:1,terminal_time:"2023-01-13 00:45:03",lat:-6.007642,lng:106.894265,wind_speed:3.3,wind_direction:43.6,heading:20.1,distance:88873.9,depth:-13,cog:237,sog:0,created_at:"2023-01-13 08:02:52",updated_at:"2023-01-13 08:02:52"},{time:1673571603e3,id:"f1dbff35-e7f7-4963-a643-80e87b251c8c",ship_id:1,terminal_time:"2023-01-13 01:00:03",lat:-6.0076,lng:106.894155,wind_speed:4.2,wind_direction:43.6,heading:25.4,distance:88873.91,depth:-13,cog:177.2,sog:0,created_at:"2023-01-13 08:05:07",updated_at:"2023-01-13 08:05:07"},{time:1673572503e3,id:"606bf160-10bf-4454-95c1-6abb21d4a9a8",ship_id:1,terminal_time:"2023-01-13 01:15:03",lat:-6.007512,lng:106.894067,wind_speed:4,wind_direction:43.6,heading:33,distance:88873.91,depth:-13,cog:204.5,sog:0,created_at:"2023-01-13 08:04:55",updated_at:"2023-01-13 08:04:55"},{time:1673573403e3,id:"46a99db5-3b12-4141-949d-a7f4f69451c9",ship_id:1,terminal_time:"2023-01-13 01:30:03",lat:-6.007512,lng:106.894075,wind_speed:1.7,wind_direction:43.6,heading:34.6,distance:88873.91,depth:-13,cog:110.9,sog:.1,created_at:"2023-01-13 08:04:51",updated_at:"2023-01-13 08:04:51"},{time:1673574303e3,id:"ab8768f7-f2c0-4c28-ba76-68c4d848ee1b",ship_id:1,terminal_time:"2023-01-13 01:45:03",lat:-6.0075,lng:106.894193,wind_speed:1.9,wind_direction:43.6,heading:32.2,distance:88873.91,depth:-13,cog:300.5,sog:.1,created_at:"2023-01-13 08:04:26",updated_at:"2023-01-13 08:04:26"},{time:1673575203e3,id:"6a14e9fa-b7ad-4ec4-9f66-fa4f814c54af",ship_id:1,terminal_time:"2023-01-13 02:00:03",lat:-6.007582,lng:106.894147,wind_speed:2.5,wind_direction:43.6,heading:29.3,distance:88873.92,depth:-13,cog:319.4,sog:0,created_at:"2023-01-13 08:05:13",updated_at:"2023-01-13 08:05:13"},{time:1673576103e3,id:"456740b7-62b5-4f33-b4c0-1dc7d824d0bb",ship_id:1,terminal_time:"2023-01-13 02:15:03",lat:-6.007527,lng:106.8941,wind_speed:2.7,wind_direction:43.6,heading:32.7,distance:88873.92,depth:-13.3,cog:336.3,sog:0,created_at:"2023-01-13 08:05:57",updated_at:"2023-01-13 08:05:57"},{time:1673577003e3,id:"9f03eb81-f440-4e94-a55f-ab45fcc7b6c0",ship_id:1,terminal_time:"2023-01-13 02:30:03",lat:-6.007453,lng:106.894015,wind_speed:2.5,wind_direction:43.6,heading:39.1,distance:88873.93,depth:-13.3,cog:345.7,sog:.1,created_at:"2023-01-13 08:05:39",updated_at:"2023-01-13 08:05:39"},{time:1673577903e3,id:"e4f82def-000e-40af-915a-fa2b0c177b50",ship_id:1,terminal_time:"2023-01-13 02:45:03",lat:-6.007433,lng:106.893978,wind_speed:2.3,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:303.2,sog:0,created_at:"2023-01-13 08:06:18",updated_at:"2023-01-13 08:06:18"},{time:1673578803e3,id:"54b75262-94fb-4782-987c-ccbefeebec92",ship_id:1,terminal_time:"2023-01-13 03:00:03",lat:-6.00737,lng:106.893908,wind_speed:3.3,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:348.7,sog:0,created_at:"2023-01-13 08:06:12",updated_at:"2023-01-13 08:06:12"},{time:1673579703e3,id:"fa539bb4-a28e-469c-9a4e-9a3d0c486050",ship_id:1,terminal_time:"2023-01-13 03:15:03",lat:-6.007335,lng:106.893948,wind_speed:2.7,wind_direction:45,heading:49.7,distance:88873.94,depth:-13.3,cog:137.5,sog:.1,created_at:"2023-01-13 08:06:05",updated_at:"2023-01-13 08:06:05"},{time:1673580603e3,id:"539a72f1-ac08-46d9-b981-d2b0ad986548",ship_id:1,terminal_time:"2023-01-13 03:30:03",lat:-6.007343,lng:106.893923,wind_speed:2.3,wind_direction:45,heading:46.6,distance:88873.94,depth:-13,cog:284,sog:.1,created_at:"2023-01-13 08:05:52",updated_at:"2023-01-13 08:05:52"},{time:1673581503e3,id:"4df156c5-a460-4977-8551-b187446e5412",ship_id:1,terminal_time:"2023-01-13 03:45:03",lat:-6.007297,lng:106.893842,wind_speed:3.4,wind_direction:45,heading:47.7,distance:88873.94,depth:-13,cog:168.1,sog:0,created_at:"2023-01-13 08:05:54",updated_at:"2023-01-13 08:05:54"},{time:1673582403e3,id:"a403298f-42d3-4529-b018-1af317d27868",ship_id:1,terminal_time:"2023-01-13 04:00:03",lat:-6.007198,lng:106.893723,wind_speed:2.5,wind_direction:45,heading:56.1,distance:88873.94,depth:-13.3,cog:178.4,sog:0,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673583303e3,id:"dd731f40-8d09-4757-827b-9d4f1d4651e1",ship_id:1,terminal_time:"2023-01-13 04:15:03",lat:-6.007137,lng:106.893783,wind_speed:2.7,wind_direction:45,heading:58.1,distance:88873.94,depth:-13,cog:161.9,sog:0,created_at:"2023-01-13 08:07:09",updated_at:"2023-01-13 08:07:09"},{time:1673584203e3,id:"4108b2ac-c7e2-49e9-bef8-1aeb96d7d1da",ship_id:1,terminal_time:"2023-01-13 04:30:03",lat:-6.007167,lng:106.893807,wind_speed:2.5,wind_direction:45,heading:59.3,distance:88873.94,depth:-13,cog:52.2,sog:0,created_at:"2023-01-13 08:06:59",updated_at:"2023-01-13 08:06:59"},{time:1673585108e3,id:"cc3220d1-e43b-4f9e-8a0e-2f416fff3d82",ship_id:1,terminal_time:"2023-01-13 04:45:08",lat:-6.0070879999999995,lng:106.893705,wind_speed:2.3,wind_direction:45,heading:60.4,distance:88873.94,depth:-13,cog:336.7,sog:.1,created_at:"2023-01-13 08:06:48",updated_at:"2023-01-13 08:06:48"},{time:1673586003e3,id:"82f940ea-8953-425e-86b3-7899a04cc3d8",ship_id:1,terminal_time:"2023-01-13 05:00:03",lat:-6.006982,lng:106.893693,wind_speed:1.9,wind_direction:45,heading:0,distance:0,depth:-13.3,cog:265.2,sog:0,created_at:"2023-01-13 08:07:32",updated_at:"2023-01-13 08:07:32"},{time:1673586903e3,id:"ad2c1c63-d614-4095-8d40-e96424f5a6d7",ship_id:1,terminal_time:"2023-01-13 05:15:03",lat:-6.007068,lng:106.893725,wind_speed:.9,wind_direction:45,heading:61.6,distance:88873.94,depth:-13.3,cog:232.5,sog:.1,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673587803e3,id:"e44c9ea1-fe7c-4076-8e00-c146f79d9ff1",ship_id:1,terminal_time:"2023-01-13 05:30:03",lat:-6.007113,lng:106.8937,wind_speed:.7,wind_direction:45,heading:57.9,distance:88873.94,depth:-13.3,cog:273.7,sog:0,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673588703e3,id:"11fabb10-51d2-4b18-8c3e-8d5f30e0c604",ship_id:1,terminal_time:"2023-01-13 05:45:03",lat:-6.00707,lng:106.893708,wind_speed:0,wind_direction:45,heading:59.9,distance:88873.94,depth:-13,cog:179.4,sog:.1,created_at:"2023-01-13 08:07:45",updated_at:"2023-01-13 08:07:45"},{time:1673589603e3,id:"3d8e63b1-ef49-4faa-8668-2064fc7691b9",ship_id:1,terminal_time:"2023-01-13 06:00:03",lat:-6.007005,lng:106.893697,wind_speed:1.7,wind_direction:45,heading:61,distance:88873.94,depth:-13,cog:224.6,sog:0,created_at:"2023-01-13 08:08:35",updated_at:"2023-01-13 08:08:35"},{time:1673590503e3,id:"abedede7-fcef-4a6a-821c-96caff5b51dd",ship_id:1,terminal_time:"2023-01-13 06:15:03",lat:-6.007067,lng:106.893657,wind_speed:1.7,wind_direction:45,heading:56.4,distance:88873.94,depth:-13.3,cog:299.4,sog:0,created_at:"2023-01-13 08:08:07",updated_at:"2023-01-13 08:08:07"},{time:1673591403e3,id:"b51194a8-99a4-4d32-83a4-d5fbfaaa4d2b",ship_id:1,terminal_time:"2023-01-13 06:30:03",lat:-6.006965,lng:106.893667,wind_speed:2.1,wind_direction:45,heading:62.6,distance:88873.94,depth:-13.3,cog:139.2,sog:0,created_at:"2023-01-13 08:08:23",updated_at:"2023-01-13 08:08:23"},{time:1673592518e3,id:"b209dcbe-8749-41d2-b84b-c1258b5ab981",ship_id:1,terminal_time:"2023-01-13 06:48:38",lat:-6.006987,lng:106.893667,wind_speed:2.3,wind_direction:45,heading:66.4,distance:88873.94,depth:-13.3,cog:318.9,sog:0,created_at:"2023-01-13 08:08:09",updated_at:"2023-01-13 08:08:09"},{time:1673593203e3,id:"32347284-3eae-468f-bee0-b65b0ec6fc1e",ship_id:1,terminal_time:"2023-01-13 07:00:03",lat:-6.007023,lng:106.893678,wind_speed:2.7,wind_direction:45,heading:62.5,distance:88873.95,depth:-13.3,cog:111.2,sog:0,created_at:"2023-01-13 08:07:41",updated_at:"2023-01-13 08:07:41"},{time:1673594103e3,id:"d96b7d8b-3fd1-4062-a8fb-81b177ca4b7e",ship_id:1,terminal_time:"2023-01-13 07:15:03",lat:-6.007138,lng:106.89375,wind_speed:2.5,wind_direction:45,heading:62.4,distance:88873.95,depth:-13.3,cog:176.1,sog:0,created_at:"2023-01-13 08:08:24",updated_at:"2023-01-13 08:08:24"},{time:1673595003e3,id:"fb3aea68-d3b4-4a82-8246-b492385b9b9b",ship_id:1,terminal_time:"2023-01-13 07:30:03",lat:-6.006977,lng:106.893747,wind_speed:2.7,wind_direction:45,heading:66.3,distance:88873.95,depth:-13.3,cog:176.1,sog:0,created_at:"2023-01-13 08:08:37",updated_at:"2023-01-13 08:08:37"},{time:1673595903e3,id:"4b32822b-aad7-4b21-b989-0f1651010609",ship_id:1,terminal_time:"2023-01-13 07:45:03",lat:-6.00699,lng:106.89368,wind_speed:2.3,wind_direction:45,heading:68.2,distance:88873.95,depth:-13.3,cog:194.5,sog:0,created_at:"2023-01-13 08:08:55",updated_at:"2023-01-13 08:08:55"},{time:1673596808e3,id:"5e31ea31-de98-4291-b5ed-bc79c4642d2e",ship_id:1,terminal_time:"2023-01-13 08:00:08",lat:-6.006908,lng:106.89369,wind_speed:2.1,wind_direction:45,heading:72.3,distance:88873.95,depth:-13.3,cog:194.5,sog:0,created_at:"2023-01-13 08:08:48",updated_at:"2023-01-13 08:08:48"},{time:1673597703e3,id:"1f625245-9ea7-4f96-9bf2-627e75f1ea29",ship_id:1,terminal_time:"2023-01-13 08:15:03",lat:-6.006837,lng:106.893615,wind_speed:2.3,wind_direction:45,heading:0,distance:0,depth:-13.3,cog:3.7,sog:0,created_at:"2023-01-13 08:15:07",updated_at:"2023-01-13 08:15:07"},{time:1673598603e3,id:"f2ecdf0b-2cd9-40ce-ad89-0a8d73cad5c1",ship_id:1,terminal_time:"2023-01-13 08:30:03",lat:-6.006838,lng:106.893623,wind_speed:2.1,wind_direction:45,heading:75,distance:88873.95,depth:-13.3,cog:135.5,sog:0,created_at:"2023-01-13 08:30:07",updated_at:"2023-01-13 08:30:07"},{time:1673599503e3,id:"8327765d-9bf8-4fc4-8584-95359d3bbbb0",ship_id:1,terminal_time:"2023-01-13 08:45:03",lat:-6.006812,lng:106.893627,wind_speed:3.4,wind_direction:45,heading:75.5,distance:88873.95,depth:-13.3,cog:89.4,sog:0,created_at:"2023-01-13 08:45:04",updated_at:"2023-01-13 08:45:04"},{time:1673600403e3,id:"f5eb5331-437b-4c35-a486-84a8fa9d5644",ship_id:1,terminal_time:"2023-01-13 09:00:03",lat:-6.006815,lng:106.893662,wind_speed:3.6,wind_direction:45,heading:75.4,distance:88873.96,depth:-13.3,cog:94.9,sog:0,created_at:"2023-01-13 09:00:05",updated_at:"2023-01-13 09:00:05"},{time:1673601303e3,id:"2a247c20-bd73-4d19-8dab-7a2254a80a62",ship_id:1,terminal_time:"2023-01-13 09:15:03",lat:-6.006802,lng:106.893608,wind_speed:5.2,wind_direction:45,heading:75.8,distance:88873.96,depth:-13.3,cog:92.2,sog:0,created_at:"2023-01-13 09:15:05",updated_at:"2023-01-13 09:15:05"},{time:1673602203e3,id:"6153d12f-d552-4ab9-bba7-9e250f663945",ship_id:1,terminal_time:"2023-01-13 09:30:03",lat:-6.006802,lng:106.893643,wind_speed:4.2,wind_direction:45,heading:76.9,distance:88873.96,depth:-13.3,cog:141.9,sog:0,created_at:"2023-01-13 09:30:06",updated_at:"2023-01-13 09:30:06"},{time:1673603103e3,id:"2f1058ed-c8da-4364-aab6-dc9645e1fde8",ship_id:1,terminal_time:"2023-01-13 09:45:03",lat:-6.006837,lng:106.893597,wind_speed:3.8,wind_direction:45,heading:72.8,distance:88873.96,depth:-13.3,cog:110.7,sog:0,created_at:"2023-01-13 09:45:06",updated_at:"2023-01-13 09:45:06"},{time:1673604003e3,id:"cc41dd89-f978-4edf-9ada-4667dbff60ce",ship_id:1,terminal_time:"2023-01-13 10:00:03",lat:-6.00683,lng:106.893597,wind_speed:3.6,wind_direction:45,heading:72.1,distance:88873.96,depth:-13.3,cog:135.3,sog:0,created_at:"2023-01-13 10:00:06",updated_at:"2023-01-13 10:00:06"},{time:1673604903e3,id:"396bffaa-c79e-49d7-bdf1-f426896bb87c",ship_id:1,terminal_time:"2023-01-13 10:15:03",lat:-6.00688,lng:106.89365,wind_speed:3.1,wind_direction:45,heading:70.9,distance:88873.96,depth:-13.3,cog:180.2,sog:.1,created_at:"2023-01-13 10:15:07",updated_at:"2023-01-13 10:15:07"},{time:1673605803e3,id:"d946fc22-50aa-4fcd-bd7c-b44f44547a46",ship_id:1,terminal_time:"2023-01-13 10:30:03",lat:-6.007095,lng:106.89367,wind_speed:3.3,wind_direction:45,heading:58.8,distance:88873.96,depth:-13.3,cog:157.1,sog:0,created_at:"2023-01-13 10:30:04",updated_at:"2023-01-13 10:30:04"},{time:1673606703e3,id:"580132f9-3c14-4d3c-9b66-d0ff9ec812f0",ship_id:1,terminal_time:"2023-01-13 10:45:03",lat:-6.007132,lng:106.893745,wind_speed:5.4,wind_direction:26.7,heading:53.2,distance:88873.96,depth:-13.3,cog:144.9,sog:0,created_at:"2023-01-13 10:45:05",updated_at:"2023-01-13 10:45:05"},{time:1673607603e3,id:"2a0785ea-942c-42cd-ad88-e982f8495a39",ship_id:1,terminal_time:"2023-01-13 11:00:03",lat:-6.007203,lng:106.893752,wind_speed:4.2,wind_direction:26.7,heading:0,distance:0,depth:-13.3,cog:260.4,sog:0,created_at:"2023-01-13 11:00:05",updated_at:"2023-01-13 11:00:05"},{time:1673608503e3,id:"b1840bc7-7b81-44b4-a120-b50cb7ed9631",ship_id:1,terminal_time:"2023-01-13 11:15:03",lat:-6.007423,lng:106.893847,wind_speed:5.6,wind_direction:26.7,heading:39,distance:88873.97,depth:-13.6,cog:90.2,sog:.1,created_at:"2023-01-13 11:15:05",updated_at:"2023-01-13 11:15:05"},{time:1673609403e3,id:"257a0ae0-3c67-4484-900c-ee1149e2541d",ship_id:1,terminal_time:"2023-01-13 11:30:03",lat:-6.007583,lng:106.89401,wind_speed:5,wind_direction:26.7,heading:27.7,distance:88873.98,depth:-13.3,cog:110.5,sog:.1,created_at:"2023-01-13 11:30:06",updated_at:"2023-01-13 11:30:06"},{time:1673610303e3,id:"0e80a0e4-2c6c-441f-8364-26416a9ce1dd",ship_id:1,terminal_time:"2023-01-13 11:45:03",lat:-6.0076730000000005,lng:106.89419,wind_speed:7.3,wind_direction:26.7,heading:18.3,distance:88873.99,depth:-13.3,cog:93.9,sog:0,created_at:"2023-01-13 11:45:06",updated_at:"2023-01-13 11:45:06"},{time:1673611203e3,id:"11866d32-1040-4bdb-b7bf-190db9704e3c",ship_id:1,terminal_time:"2023-01-13 12:00:03",lat:-6.00775,lng:106.894325,wind_speed:7.1,wind_direction:26.7,heading:13.3,distance:88873.99,depth:-13.3,cog:102.4,sog:0,created_at:"2023-01-13 12:00:07",updated_at:"2023-01-13 12:00:07"}],history_vue_vue_type_style_index_0_lang="",_sfc_main$N={components:{MapboxMap:MapboxMap_default,MapboxNavigationControl:MapboxNavigationControl_default},data(){return{map:null,current:[],items:[],potition:!1}},methods:{async loaded(){let e=this,t={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}},i={type:"FeatureCollection",features:[]};coordinates.forEach((u,d)=>{this.current&&this.calcCrow(this.current[1],this.current[0],u.lat,u.lng)>20||(t.geometry.coordinates.push([u.lng,u.lat]),i.features.push({type:"Feature",properties:{cog:u.cog,sog:u.sog,time:u.terminal_time,lat:u.lat,lng:u.lng,heading:u.heading},geometry:{type:"Point",coordinates:[u.lng,u.lat]}}),this.current=[u.lng,u.lat],this.items.push(u))}),this.map.addSource("route",{type:"geojson",data:t}),this.map.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3B4EF5","line-width":1.5,"line-dasharray":[3,3]}}),e.map.addSource("points",{type:"geojson",data:i}),e.map.addLayer({id:"points",type:"circle",source:"points",paint:{"circle-radius":4,"circle-color":"#3B4EF5"}});const a=new mapboxgl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","points",u=>{let d=u.features[0].properties;this.positionShip(d)}),this.map.on("mouseenter","points",u=>{e.map.getCanvas().style.cursor="pointer";const d=u.features[0].geometry.coordinates.slice(),n=`<b>Lat : ${u.features[0].properties.lat} | Lng: ${u.features[0].properties.lng}</b> at ${u.features[0].properties.sog} <b>kn</b> / ${u.features[0].properties.cog}&deg;<br>time: <b>${u.features[0].properties.time}</b>`;for(;Math.abs(u.lngLat.lng-d[0])>180;)d[0]+=u.lngLat.lng>d[0]?360:-360;a.setLngLat(d).setHTML(n).addTo(e.map)}),this.map.on("mouseleave","points",()=>{e.map.getCanvas().style.cursor="",a.remove()}),this.map.loadImage(shipIcon,(u,d)=>{if(u)throw u;e.map.addImage("ship-icon",d)});let o=this.items[this.items.length-1];this.positionShip({heading:o.heading,lng:o.lng,lat:o.lat})},toPotition(e){this.positionShip(e)},positionShip(e){this.potition&&(this.map.removeLayer("ship-point"),this.map.removeSource("ship-point")),this.map.addSource("ship-point",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.lng,e.lat]},properties:{scale:1,heading:e.heading}}]}}),this.map.addLayer({id:"ship-point",type:"symbol",source:"ship-point",layout:{"icon-image":"ship-icon","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}}),this.potition=!0},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},calcCrow(n,t,k,a){var o=6371,u=this.toRad(k-n),d=this.toRad(a-t),n=this.toRad(n),k=this.toRad(k),j=Math.sin(u/2)*Math.sin(u/2)+Math.sin(d/2)*Math.sin(d/2)*Math.cos(n)*Math.cos(k),Z=2*Math.atan2(Math.sqrt(j),Math.sqrt(1-j)),z=o*Z;return z},toRad(e){return e*Math.PI/180}}},_hoisted_1$E={class:"row g-0"},_hoisted_2$z={class:"col-9"},_hoisted_3$w={class:"position-relative"},_hoisted_4$t={class:"pointer-info",ref:"pointerInfo"},_hoisted_5$n={class:"col-3"},_hoisted_6$k=createStaticVNode('<header class="navbar navbar-expand-md navbar-dark bg-primary d-print-none"><div class="container-xl"><ul class="navbar-nav"><li class="nav-item"><a href="#" class="nav-link"><span class="nav-link-icon d-md-none d-lg-inline-block"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 6l16 0"></path><path d="M4 12l16 0"></path><path d="M4 18l16 0"></path></svg></span></a></li><li class="nav-item"><a href="#" class="nav-link"><span class="nav-link-icon d-md-none d-lg-inline-block"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sailboat" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M2 20a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1"></path><path d="M4 18l-1 -3h18l-1 3"></path><path d="M11 12h7l-7 -9v9"></path><path d="M8 7l-2 5"></path></svg></span> Voyage </a></li></ul></div></header>',1),_hoisted_7$i={class:"information"},_hoisted_8$g={class:"histories"},_hoisted_9$f={class:"table card-table table-vcenter text-nowrap datatable table-fixed text-small"},_hoisted_10$f=createBaseVNode("thead",null,[createBaseVNode("tr",null,[createBaseVNode("th",null,"Time"),createBaseVNode("th",null,"Lon"),createBaseVNode("th",null,"Lat"),createBaseVNode("th",null,"Speed")])],-1),_hoisted_11$f=["onClick"];function _sfc_render$F(e,t,i,a,o,u){const d=resolveComponent("MapboxNavigationControl"),n=resolveComponent("MapboxMap");return openBlock(),createElementBlock("div",_hoisted_1$E,[createBaseVNode("div",_hoisted_2$z,[createBaseVNode("div",_hoisted_3$w,[createBaseVNode("div",_hoisted_4$t,null,512),createVNode(n,{onMbCreated:t[0]||(t[0]=k=>o.map=k),onMbLoad:u.loaded,onMbMousemove:u.pointerLocation,style:{height:"calc(100vh - 128px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:[105.987732,-5.898973],zoom:7},{default:withCtx(()=>[createVNode(d,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center"])])]),createBaseVNode("div",_hoisted_5$n,[_hoisted_6$k,createBaseVNode("div",_hoisted_7$i,[createBaseVNode("div",_hoisted_8$g,[createBaseVNode("table",_hoisted_9$f,[_hoisted_10$f,createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.items,k=>(openBlock(),createElementBlock("tr",{key:k.id,onClick:j=>u.toPotition(k),class:"pointer"},[createBaseVNode("td",null,toDisplayString(e.$filters.dateformat(k.terminal_time)),1),createBaseVNode("td",null,toDisplayString(e.$filters.str_limit(k.lng,7))+"°",1),createBaseVNode("td",null,toDisplayString(e.$filters.str_limit(k.lat,6))+"°",1),createBaseVNode("td",null,toDisplayString(k.sog),1)],8,_hoisted_11$f))),128))])])])])])])}const MapHistory=_export_sfc$1(_sfc_main$N,[["render",_sfc_render$F]]),maps_vue_vue_type_style_index_0_lang="",_sfc_main$M={components:{MapboxMap:MapboxMap_default,MapboxNavigationControl:MapboxNavigationControl_default},props:{fleet:Object,style:Object,sidebar:Boolean},data(){return{map:null,current:[],timer:null,popup:new mapboxgl.Popup({closeButton:!0,closeOnClick:!1}),histories:[]}},mounted(){this.map.loadImage(shipIcon,(e,t)=>{if(e)throw e;this.map.addImage("ship-icon",t)})},methods:{setHistory(e){this.histories=e;let t=this;this.current.length>0&&this.map.getLayer("route")!=="undefined"&&this.map.getLayer("points")!=="undefined"&&(this.map.removeLayer("route"),this.map.removeSource("route"),this.map.removeLayer("points"),this.map.removeSource("points"));let i={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}},a={type:"FeatureCollection",features:[]};this.histories.forEach((n,k)=>{i.geometry.coordinates.push([n.lng,n.lat]),a.features.push({type:"Feature",properties:{cog:n.cog,sog:n.sog,time:this.$filters.dateformat(n.terminal_time,"DD/MM/YYYY HH:mm"),lat:n.lat,lng:n.lng,heading:n.heading},geometry:{type:"Point",coordinates:[n.lng,n.lat]}}),this.current=[n.lng,n.lat]}),this.map.addSource("route",{type:"geojson",data:i}),this.map.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3B4EF5","line-width":1.5,"line-dasharray":[3,3]}}),this.map.addSource("points",{type:"geojson",data:a}),this.map.addLayer({id:"points",type:"circle",source:"points",paint:{"circle-radius":4,"circle-color":"#3B4EF5"}});const o=new mapboxgl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","points",n=>{let k=n.features[0].properties;this.positionShip(k)}),this.map.on("mouseenter","points",n=>{t.map.getCanvas().style.cursor="pointer";const k=n.features[0].geometry.coordinates.slice(),j=`<b>Lat : ${n.features[0].properties.lat} | Lng: ${n.features[0].properties.lng}</b> at ${n.features[0].properties.sog} <b>kn</b> / ${n.features[0].properties.cog}&deg;<br>Time: <b>${n.features[0].properties.time}</b>`;for(;Math.abs(n.lngLat.lng-k[0])>180;)k[0]+=n.lngLat.lng>k[0]?360:-360;o.setLngLat(k).setHTML(j).addTo(t.map)}),this.map.on("mouseleave","points",()=>{t.map.getCanvas().style.cursor="",o.remove()});let u=this.histories[this.histories.length-1],d=Object.assign({},{id:this.fleet.id,name:this.fleet.name,image:this.fleet.image,navigation:u});this.positionShip(d)},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},loaded(){this.positionShip(this.fleet)},toPotition(e){let t=Object.assign({},{id:this.fleet.id,name:this.fleet.name,image:this.fleet.image,navigation:e});this.positionShip(t)},positionShip(e){if(!e.navigation)return;typeof this.map.getLayer("ship-position")<"u"&&this.map.removeLayer("ship-position").removeSource("ship-points"),this.map.addSource("ship-points",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.navigation.lng,e.navigation.lat]},properties:{scale:1,id:e.id,heading:e.navigation.heading,name:e.name,image:e.image,sog:e.navigation.sog,cog:e.navigation.cog,last_update:format(e.navigation.terminal_time),time:this.$filters.dateformat(e.navigation.terminal_time,"DD/MM/YYYY HH:mm")}}]}}),this.map.addLayer({id:"ship-position",type:"symbol",source:"ship-points",layout:{"icon-image":"ship-icon","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}}),this.popup.remove();const i=`<b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>Last update: <b>${format(e.navigation.updated_at)}</b><br>Time: <b>${this.$filters.dateformat(e.navigation.updated_at,"DD/MM/YYYY HH:mm")}</b>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(i).addTo(this.map)}}},_hoisted_1$D={class:"position-relative overflow-hidden"},_hoisted_2$y={class:"pointer-info",ref:"pointerInfo"};function _sfc_render$E(e,t,i,a,o,u){const d=resolveComponent("map-voyage"),n=resolveComponent("MapboxNavigationControl"),k=resolveComponent("MapboxMap");return openBlock(),createElementBlock("div",_hoisted_1$D,[createVNode(d,{fleet:i.fleet,onHistory:u.setHistory,onSelected:u.toPotition,display:i.sidebar},null,8,["fleet","onHistory","onSelected","display"]),createBaseVNode("div",_hoisted_2$y,null,512),createVNode(k,{onMbCreated:t[0]||(t[0]=j=>o.map=j),onMbLoad:u.loaded,onMbMousemove:u.pointerLocation,style:normalizeStyle(i.style),"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:[i.fleet.navigation.lng,i.fleet.navigation.lat],zoom:7},{default:withCtx(()=>[createVNode(n,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","style","center"])])}const MapDefault=_export_sfc$1(_sfc_main$M,[["render",_sfc_render$E]]),voyage_vue_vue_type_style_index_0_lang="",_sfc_main$L={props:{fleet:Object,display:Boolean},data(){return{params:{from:null,to:null,interval:900},histories:[]}},methods:{async fetchData(){this.histories=[],(await axios.get(`/api/fleet/${this.fleet.id}/nav/histories`,{params:this.params}).then(t=>t.data)).forEach(t=>{t.lat==0&&t.lng==0||this.histories.push(t)}),this.$emit("history",this.histories)},toggleText(){this.display=!this.display},selected(e){this.$emit("selected",e)}}},_hoisted_1$C={class:"voyage-section"},_hoisted_2$x={key:0,class:"card voyage-card"},_hoisted_3$v={class:"card-header justify-content-between"},_hoisted_4$s=["src"],_hoisted_5$m=createBaseVNode("h5",{class:"fw-normal m-0"},"Voyage",-1),_hoisted_6$j={class:"card-body"},_hoisted_7$h=createBaseVNode("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[createBaseVNode("li",{class:"nav-item",role:"presentation"},[createBaseVNode("button",{class:"nav-link justify-content-center active",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"},"TRACK")]),createBaseVNode("li",{class:"nav-item",role:"presentation"},[createBaseVNode("button",{class:"nav-link justify-content-center",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"INFO")])],-1),_hoisted_8$f={class:"tab-content",id:"pills-tabContent"},_hoisted_9$e={class:"tab-pane fade show active",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab"},_hoisted_10$e={class:"mb-4"},_hoisted_11$e={class:"form-group mb-3"},_hoisted_12$c=createBaseVNode("label",{for:"startDateInput"},"Start Date",-1),_hoisted_13$a={class:"form-group mb-3"},_hoisted_14$9=createBaseVNode("label",{for:"endDateInput"},"End Date",-1),_hoisted_15$8=createBaseVNode("h6",{class:"text-primary"},"GENERATE REPORT",-1),_hoisted_16$7={class:"table text-sm"},_hoisted_17$4=createBaseVNode("thead",null,[createBaseVNode("tr",null,[createBaseVNode("th",{scope:"col"},"Time"),createBaseVNode("th",{scope:"col"},"Lon"),createBaseVNode("th",{scope:"col"},"Lat"),createBaseVNode("th",{scope:"col"},"Speed")])],-1),_hoisted_18$4=["onClick"],_hoisted_19$2={scope:"row"},_hoisted_20$2=createBaseVNode("div",{class:"tab-pane fade",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},null,-1),_hoisted_21$2=["src"];function _sfc_render$D(e,t,i,a,o,u){return openBlock(),createElementBlock("div",_hoisted_1$C,[i.display?(openBlock(),createElementBlock("div",_hoisted_2$x,[createBaseVNode("div",_hoisted_3$v,[createBaseVNode("button",{onClick:t[0]||(t[0]=d=>i.display=!i.display),class:"btn btn-link bg-transparent p-0"},[createBaseVNode("img",{src:"/img/icons/close-fill.png",alt:""},null,8,_hoisted_4$s)]),_hoisted_5$m]),createBaseVNode("div",_hoisted_6$j,[_hoisted_7$h,createBaseVNode("div",_hoisted_8$f,[createBaseVNode("div",_hoisted_9$e,[createBaseVNode("div",_hoisted_10$e,[createBaseVNode("div",_hoisted_11$e,[_hoisted_12$c,withDirectives(createBaseVNode("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=d=>o.params.from=d),class:"form-control",id:"startDateInput"},null,512),[[vModelText,o.params.from]])]),createBaseVNode("div",_hoisted_13$a,[_hoisted_14$9,withDirectives(createBaseVNode("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=d=>o.params.to=d),class:"form-control",id:"endDateInput"},null,512),[[vModelText,o.params.to]])]),createBaseVNode("button",{onClick:t[3]||(t[3]=(...d)=>u.fetchData&&u.fetchData(...d)),class:"btn btn-outline-primary w-100"},"SHOW")]),_hoisted_15$8,createBaseVNode("table",_hoisted_16$7,[_hoisted_17$4,createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.histories,d=>(openBlock(),createElementBlock("tr",{onClick:n=>u.selected(d),key:d.id},[createBaseVNode("td",_hoisted_19$2,toDisplayString(e.$filters.dateformat(d.terminal_time,"DD/MM/YYYY HH:mm")),1),createBaseVNode("td",null,toDisplayString(d.lng.toFixed(4))+"°",1),createBaseVNode("td",null,toDisplayString(d.lat.toFixed(4))+"°",1),createBaseVNode("td",null,toDisplayString(d.sog),1)],8,_hoisted_18$4))),128))])])]),_hoisted_20$2])])])):createCommentVNode("",!0),createBaseVNode("button",{onClick:t[4]||(t[4]=d=>i.display=!i.display),class:"btn btn-light btn-open"},[createBaseVNode("img",{src:"/img/icons/location-circle.png",alt:""},null,8,_hoisted_21$2),createTextVNode(" Show fleet Track ")])])}const MapVoyage=_export_sfc$1(_sfc_main$L,[["render",_sfc_render$D]]),cctv_vue_vue_type_style_index_0_scoped_3e327a0d_lang="",_sfc_main$K={},_hoisted_1$B={class:"ships-cctv"},_hoisted_2$w=createStaticVNode('<div class="card" data-v-3e327a0d><div class="card-header" data-v-3e327a0d><div class="card-title" data-v-3e327a0d><div data-v-3e327a0d>Bridge</div></div><div class="card-status" data-v-3e327a0d><a href="#" data-v-3e327a0d><img src="img/icons/fullscreen.png" alt="" data-v-3e327a0d> Fullscreen </a><a href="#" data-v-3e327a0d> Esc to exit </a></div></div><div class="card-body" data-v-3e327a0d><img src="img/image-1.png" alt="" class="w-100" data-v-3e327a0d></div></div>',1),_hoisted_3$u=[_hoisted_2$w];function _sfc_render$C(e,t,i,a,o,u){return openBlock(),createElementBlock("div",_hoisted_1$B,_hoisted_3$u)}const cctv=_export_sfc$1(_sfc_main$K,[["render",_sfc_render$C],["__scopeId","data-v-3e327a0d"]]),bridge_vue_vue_type_style_index_0_lang="",_sfc_main$J={components:{"x-search":search,"x-notification":notification,"x-records":records,"x-navigation":navigation$1,"x-camera":camera,"x-parameter":parameter,"x-cctv":cctv,MapboxMap:MapboxMap_default,MapboxNavigationControl:MapboxNavigationControl_default},data(){return{map:null,current:[],timer:null,fleets:[],zoom:3,center:[118,0],popup:null}},mounted(){this.timer=setInterval(()=>{this.loaded()},15*1e3),this.map.loadImage(shipIcon,(e,t)=>{if(e)throw e;this.map.addImage("ship",t)}),this.popup=new mapboxgl.Popup({closeButton:!0,closeOnClick:!1})},methods:{async loaded(){let{data:e}=await axios.get("/api/fleets");this.fleets=e,e.forEach(t=>{this.positionShip(t)})},findFleet(e){if(!e.navigation)return;let t=e.id;this.popup.remove();const i=`<a class="no-style" href="/fleet/${t}"><b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${format(e.navigation.updated_at)}</b></a>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(i).addTo(this.map),this.center=[e.navigation.lng,e.navigation.lat],this.zoom=5},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},positionShip(e){if(!e.navigation)return;let t=this;typeof this.map.getLayer(`ship-positions-${e.id}`)<"u"&&this.map.removeLayer(`ship-positions-${e.id}`).removeSource(`ship-positions-${e.id}`),this.map.addSource(`ship-positions-${e.id}`,{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.navigation.lng,e.navigation.lat]},properties:{scale:1,id:e.id,heading:e.navigation.heading,name:e.name,image:e.image,sog:e.navigation.sog,cog:e.navigation.cog,last_update:format(e.navigation.updated_at)}}]}}),this.map.addLayer({id:`ship-positions-${e.id}`,type:"symbol",source:`ship-positions-${e.id}`,layout:{"icon-image":"ship","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}});const a=new mapboxgl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click",`ship-positions-${e.id}`,o=>{let u=o.features[0].properties.id;location.href=`/fleet/${u}`}),this.map.on("mouseenter",`ship-positions-${e.id}`,o=>{t.map.getCanvas().style.cursor="pointer";const u=o.features[0].geometry.coordinates.slice(),d=`<b>${o.features[0].properties.name} [ID]</b> at ${o.features[0].properties.sog} <b>kn</b> / ${o.features[0].properties.cog}&deg;<br>last update: <b>${o.features[0].properties.last_update}</b>`;for(;Math.abs(o.lngLat.lng-u[0])>180;)u[0]+=o.lngLat.lng>u[0]?360:-360;a.setLngLat(u).setHTML(d).addTo(t.map)}),this.map.on("mouseleave",`ship-positions-${e.id}`,()=>{t.map.getCanvas().style.cursor="",a.remove()})}}},_hoisted_1$A={class:"position-relative"};function _sfc_render$B(e,t,i,a,o,u){const d=resolveComponent("x-records"),n=resolveComponent("x-navigation"),k=resolveComponent("x-camera"),j=resolveComponent("x-notification"),Z=resolveComponent("x-parameter"),z=resolveComponent("x-cctv"),H=resolveComponent("MapboxNavigationControl"),Y=resolveComponent("MapboxMap");return openBlock(),createElementBlock("div",_hoisted_1$A,[createVNode(d),createVNode(n),createVNode(k),createVNode(j),createVNode(Z),createVNode(z),createVNode(Y,{onMbCreated:t[0]||(t[0]=I=>o.map=I),onMbLoad:u.loaded,onMbMousemove:u.pointerLocation,style:{height:"calc(100vh - 0px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:o.center,zoom:o.zoom},{default:withCtx(()=>[createVNode(H,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center","zoom"])])}const MapBridge=_export_sfc$1(_sfc_main$J,[["render",_sfc_render$B]]);function isObject$2(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function extend$2(e={},t={}){Object.keys(t).forEach(i=>{typeof e[i]>"u"?e[i]=t[i]:isObject$2(t[i])&&isObject$2(e[i])&&Object.keys(t[i]).length>0&&extend$2(e[i],t[i])})}const ssrDocument={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function getDocument(){const e=typeof document<"u"?document:{};return extend$2(e,ssrDocument),e}const ssrWindow={document:ssrDocument,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function getWindow(){const e=typeof window<"u"?window:{};return extend$2(e,ssrWindow),e}function deleteProps(e){const t=e;Object.keys(t).forEach(i=>{try{t[i]=null}catch{}try{delete t[i]}catch{}})}function nextTick(e,t=0){return setTimeout(e,t)}function now(){return Date.now()}function getComputedStyle$1(e){const t=getWindow();let i;return t.getComputedStyle&&(i=t.getComputedStyle(e,null)),!i&&e.currentStyle&&(i=e.currentStyle),i||(i=e.style),i}function getTranslate(e,t="x"){const i=getWindow();let a,o,u;const d=getComputedStyle$1(e);return i.WebKitCSSMatrix?(o=d.transform||d.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(n=>n.replace(",",".")).join(", ")),u=new i.WebKitCSSMatrix(o==="none"?"":o)):(u=d.MozTransform||d.OTransform||d.MsTransform||d.msTransform||d.transform||d.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=u.toString().split(",")),t==="x"&&(i.WebKitCSSMatrix?o=u.m41:a.length===16?o=parseFloat(a[12]):o=parseFloat(a[4])),t==="y"&&(i.WebKitCSSMatrix?o=u.m42:a.length===16?o=parseFloat(a[13]):o=parseFloat(a[5])),o||0}function isObject$1(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function isNode(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function extend$1(...e){const t=Object(e[0]),i=["__proto__","constructor","prototype"];for(let a=1;a<e.length;a+=1){const o=e[a];if(o!=null&&!isNode(o)){const u=Object.keys(Object(o)).filter(d=>i.indexOf(d)<0);for(let d=0,n=u.length;d<n;d+=1){const k=u[d],j=Object.getOwnPropertyDescriptor(o,k);j!==void 0&&j.enumerable&&(isObject$1(t[k])&&isObject$1(o[k])?o[k].__swiper__?t[k]=o[k]:extend$1(t[k],o[k]):!isObject$1(t[k])&&isObject$1(o[k])?(t[k]={},o[k].__swiper__?t[k]=o[k]:extend$1(t[k],o[k])):t[k]=o[k])}}}return t}function setCSSProperty(e,t,i){e.style.setProperty(t,i)}function animateCSSModeScroll({swiper:e,targetPosition:t,side:i}){const a=getWindow(),o=-e.translate;let u=null,d;const n=e.params.speed;e.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(e.cssModeFrameID);const k=t>o?"next":"prev",j=(z,H)=>k==="next"&&z>=H||k==="prev"&&z<=H,Z=()=>{d=new Date().getTime(),u===null&&(u=d);const z=Math.max(Math.min((d-u)/n,1),0),H=.5-Math.cos(z*Math.PI)/2;let Y=o+H*(t-o);if(j(Y,t)&&(Y=t),e.wrapperEl.scrollTo({[i]:Y}),j(Y,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:Y})}),a.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=a.requestAnimationFrame(Z)};Z()}function elementChildren(e,t=""){return[...e.children].filter(i=>i.matches(t))}function createElement(e,t=[]){const i=document.createElement(e);return i.classList.add(...Array.isArray(t)?t:[t]),i}function elementPrevAll(e,t){const i=[];for(;e.previousElementSibling;){const a=e.previousElementSibling;t?a.matches(t)&&i.push(a):i.push(a),e=a}return i}function elementNextAll(e,t){const i=[];for(;e.nextElementSibling;){const a=e.nextElementSibling;t?a.matches(t)&&i.push(a):i.push(a),e=a}return i}function elementStyle(e,t){return getWindow().getComputedStyle(e,null).getPropertyValue(t)}function elementIndex(e){let t=e,i;if(t){for(i=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(i+=1);return i}}function elementParents(e,t){const i=[];let a=e.parentElement;for(;a;)t?a.matches(t)&&i.push(a):i.push(a),a=a.parentElement;return i}function elementOuterSize(e,t,i){const a=getWindow();return i?e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(a.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(a.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):e.offsetWidth}let support;function calcSupport(){const e=getWindow(),t=getDocument();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function getSupport(){return support||(support=calcSupport()),support}let deviceCached;function calcDevice({userAgent:e}={}){const t=getSupport(),i=getWindow(),a=i.navigator.platform,o=e||i.navigator.userAgent,u={ios:!1,android:!1},d=i.screen.width,n=i.screen.height,k=o.match(/(Android);?[\s\/]+([\d.]+)?/);let j=o.match(/(iPad).*OS\s([\d_]+)/);const Z=o.match(/(iPod)(.*OS\s([\d_]+))?/),z=!j&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),H=a==="Win32";let Y=a==="MacIntel";const I=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!j&&Y&&t.touch&&I.indexOf(`${d}x${n}`)>=0&&(j=o.match(/(Version)\/([\d.]+)/),j||(j=[0,1,"13_0_0"]),Y=!1),k&&!H&&(u.os="android",u.android=!0),(j||z||Z)&&(u.os="ios",u.ios=!0),u}function getDevice(e={}){return deviceCached||(deviceCached=calcDevice(e)),deviceCached}let browser;function calcBrowser(){const e=getWindow();let t=!1;function i(){const a=e.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(i()){const a=String(e.navigator.userAgent);if(a.includes("Version/")){const[o,u]=a.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));t=o<16||o===16&&u<2}}return{isSafari:t||i(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}function getBrowser(){return browser||(browser=calcBrowser()),browser}function Resize({swiper:e,on:t,emit:i}){const a=getWindow();let o=null,u=null;const d=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},n=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(Z=>{u=a.requestAnimationFrame(()=>{const{width:z,height:H}=e;let Y=z,I=H;Z.forEach(({contentBoxSize:B,contentRect:U,target:T})=>{T&&T!==e.el||(Y=U?U.width:(B[0]||B).inlineSize,I=U?U.height:(B[0]||B).blockSize)}),(Y!==z||I!==H)&&d()})}),o.observe(e.el))},k=()=>{u&&a.cancelAnimationFrame(u),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},j=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof a.ResizeObserver<"u"){n();return}a.addEventListener("resize",d),a.addEventListener("orientationchange",j)}),t("destroy",()=>{k(),a.removeEventListener("resize",d),a.removeEventListener("orientationchange",j)})}function Observer({swiper:e,extendParams:t,on:i,emit:a}){const o=[],u=getWindow(),d=(j,Z={})=>{const z=u.MutationObserver||u.WebkitMutationObserver,H=new z(Y=>{if(e.__preventObserver__)return;if(Y.length===1){a("observerUpdate",Y[0]);return}const I=function(){a("observerUpdate",Y[0])};u.requestAnimationFrame?u.requestAnimationFrame(I):u.setTimeout(I,0)});H.observe(j,{attributes:typeof Z.attributes>"u"?!0:Z.attributes,childList:typeof Z.childList>"u"?!0:Z.childList,characterData:typeof Z.characterData>"u"?!0:Z.characterData}),o.push(H)},n=()=>{if(e.params.observer){if(e.params.observeParents){const j=elementParents(e.el);for(let Z=0;Z<j.length;Z+=1)d(j[Z])}d(e.el,{childList:e.params.observeSlideChildren}),d(e.wrapperEl,{attributes:!1})}},k=()=>{o.forEach(j=>{j.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",n),i("destroy",k)}const eventsEmitter={on(e,t,i){const a=this;if(!a.eventsListeners||a.destroyed||typeof t!="function")return a;const o=i?"unshift":"push";return e.split(" ").forEach(u=>{a.eventsListeners[u]||(a.eventsListeners[u]=[]),a.eventsListeners[u][o](t)}),a},once(e,t,i){const a=this;if(!a.eventsListeners||a.destroyed||typeof t!="function")return a;function o(...u){a.off(e,o),o.__emitterProxy&&delete o.__emitterProxy,t.apply(a,u)}return o.__emitterProxy=t,a.on(e,o,i)},onAny(e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const a=t?"unshift":"push";return i.eventsAnyListeners.indexOf(e)<0&&i.eventsAnyListeners[a](e),i},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const i=t.eventsAnyListeners.indexOf(e);return i>=0&&t.eventsAnyListeners.splice(i,1),t},off(e,t){const i=this;return!i.eventsListeners||i.destroyed||!i.eventsListeners||e.split(" ").forEach(a=>{typeof t>"u"?i.eventsListeners[a]=[]:i.eventsListeners[a]&&i.eventsListeners[a].forEach((o,u)=>{(o===t||o.__emitterProxy&&o.__emitterProxy===t)&&i.eventsListeners[a].splice(u,1)})}),i},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let i,a,o;return typeof e[0]=="string"||Array.isArray(e[0])?(i=e[0],a=e.slice(1,e.length),o=t):(i=e[0].events,a=e[0].data,o=e[0].context||t),a.unshift(o),(Array.isArray(i)?i:i.split(" ")).forEach(d=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(n=>{n.apply(o,[d,...a])}),t.eventsListeners&&t.eventsListeners[d]&&t.eventsListeners[d].forEach(n=>{n.apply(o,a)})}),t}};function updateSize(){const e=this;let t,i;const a=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=a.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?i=e.params.height:i=a.clientHeight,!(t===0&&e.isHorizontal()||i===0&&e.isVertical())&&(t=t-parseInt(elementStyle(a,"padding-left")||0,10)-parseInt(elementStyle(a,"padding-right")||0,10),i=i-parseInt(elementStyle(a,"padding-top")||0,10)-parseInt(elementStyle(a,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(i)&&(i=0),Object.assign(e,{width:t,height:i,size:e.isHorizontal()?t:i}))}function updateSlides(){const e=this;function t(w){return e.isHorizontal()?w:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[w]}function i(w,g){return parseFloat(w.getPropertyValue(t(g))||0)}const a=e.params,{wrapperEl:o,slidesEl:u,size:d,rtlTranslate:n,wrongRTL:k}=e,j=e.virtual&&a.virtual.enabled,Z=j?e.virtual.slides.length:e.slides.length,z=elementChildren(u,`.${e.params.slideClass}, swiper-slide`),H=j?e.virtual.slides.length:z.length;let Y=[];const I=[],B=[];let U=a.slidesOffsetBefore;typeof U=="function"&&(U=a.slidesOffsetBefore.call(e));let T=a.slidesOffsetAfter;typeof T=="function"&&(T=a.slidesOffsetAfter.call(e));const C=e.snapGrid.length,P=e.slidesGrid.length;let G=a.spaceBetween,q=-U,N=0,ne=0;if(typeof d>"u")return;typeof G=="string"&&G.indexOf("%")>=0?G=parseFloat(G.replace("%",""))/100*d:typeof G=="string"&&(G=parseFloat(G)),e.virtualSize=-G,z.forEach(w=>{n?w.style.marginLeft="":w.style.marginRight="",w.style.marginBottom="",w.style.marginTop=""}),a.centeredSlides&&a.cssMode&&(setCSSProperty(o,"--swiper-centered-offset-before",""),setCSSProperty(o,"--swiper-centered-offset-after",""));const K=a.grid&&a.grid.rows>1&&e.grid;K&&e.grid.initSlides(H);let L;const E=a.slidesPerView==="auto"&&a.breakpoints&&Object.keys(a.breakpoints).filter(w=>typeof a.breakpoints[w].slidesPerView<"u").length>0;for(let w=0;w<H;w+=1){L=0;let g;if(z[w]&&(g=z[w]),K&&e.grid.updateSlide(w,g,H,t),!(z[w]&&elementStyle(g,"display")==="none")){if(a.slidesPerView==="auto"){E&&(z[w].style[t("width")]="");const A=getComputedStyle(g),m=g.style.transform,y=g.style.webkitTransform;if(m&&(g.style.transform="none"),y&&(g.style.webkitTransform="none"),a.roundLengths)L=e.isHorizontal()?elementOuterSize(g,"width",!0):elementOuterSize(g,"height",!0);else{const x=i(A,"width"),M=i(A,"padding-left"),X=i(A,"padding-right"),re=i(A,"margin-left"),ee=i(A,"margin-right"),he=A.getPropertyValue("box-sizing");if(he&&he==="border-box")L=x+re+ee;else{const{clientWidth:ye,offsetWidth:Ce}=g;L=x+M+X+re+ee+(Ce-ye)}}m&&(g.style.transform=m),y&&(g.style.webkitTransform=y),a.roundLengths&&(L=Math.floor(L))}else L=(d-(a.slidesPerView-1)*G)/a.slidesPerView,a.roundLengths&&(L=Math.floor(L)),z[w]&&(z[w].style[t("width")]=`${L}px`);z[w]&&(z[w].swiperSlideSize=L),B.push(L),a.centeredSlides?(q=q+L/2+N/2+G,N===0&&w!==0&&(q=q-d/2-G),w===0&&(q=q-d/2-G),Math.abs(q)<1/1e3&&(q=0),a.roundLengths&&(q=Math.floor(q)),ne%a.slidesPerGroup===0&&Y.push(q),I.push(q)):(a.roundLengths&&(q=Math.floor(q)),(ne-Math.min(e.params.slidesPerGroupSkip,ne))%e.params.slidesPerGroup===0&&Y.push(q),I.push(q),q=q+L+G),e.virtualSize+=L+G,N=L,ne+=1}}if(e.virtualSize=Math.max(e.virtualSize,d)+T,n&&k&&(a.effect==="slide"||a.effect==="coverflow")&&(o.style.width=`${e.virtualSize+G}px`),a.setWrapperSize&&(o.style[t("width")]=`${e.virtualSize+G}px`),K&&e.grid.updateWrapperSize(L,Y,t),!a.centeredSlides){const w=[];for(let g=0;g<Y.length;g+=1){let A=Y[g];a.roundLengths&&(A=Math.floor(A)),Y[g]<=e.virtualSize-d&&w.push(A)}Y=w,Math.floor(e.virtualSize-d)-Math.floor(Y[Y.length-1])>1&&Y.push(e.virtualSize-d)}if(j&&a.loop){const w=B[0]+G;if(a.slidesPerGroup>1){const g=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/a.slidesPerGroup),A=w*a.slidesPerGroup;for(let m=0;m<g;m+=1)Y.push(Y[Y.length-1]+A)}for(let g=0;g<e.virtual.slidesBefore+e.virtual.slidesAfter;g+=1)a.slidesPerGroup===1&&Y.push(Y[Y.length-1]+w),I.push(I[I.length-1]+w),e.virtualSize+=w}if(Y.length===0&&(Y=[0]),G!==0){const w=e.isHorizontal()&&n?"marginLeft":t("marginRight");z.filter((g,A)=>!a.cssMode||a.loop?!0:A!==z.length-1).forEach(g=>{g.style[w]=`${G}px`})}if(a.centeredSlides&&a.centeredSlidesBounds){let w=0;B.forEach(A=>{w+=A+(G||0)}),w-=G;const g=w-d;Y=Y.map(A=>A<0?-U:A>g?g+T:A)}if(a.centerInsufficientSlides){let w=0;if(B.forEach(g=>{w+=g+(G||0)}),w-=G,w<d){const g=(d-w)/2;Y.forEach((A,m)=>{Y[m]=A-g}),I.forEach((A,m)=>{I[m]=A+g})}}if(Object.assign(e,{slides:z,snapGrid:Y,slidesGrid:I,slidesSizesGrid:B}),a.centeredSlides&&a.cssMode&&!a.centeredSlidesBounds){setCSSProperty(o,"--swiper-centered-offset-before",`${-Y[0]}px`),setCSSProperty(o,"--swiper-centered-offset-after",`${e.size/2-B[B.length-1]/2}px`);const w=-e.snapGrid[0],g=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(A=>A+w),e.slidesGrid=e.slidesGrid.map(A=>A+g)}if(H!==Z&&e.emit("slidesLengthChange"),Y.length!==C&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),I.length!==P&&e.emit("slidesGridLengthChange"),a.watchSlidesProgress&&e.updateSlidesOffset(),!j&&!a.cssMode&&(a.effect==="slide"||a.effect==="fade")){const w=`${a.containerModifierClass}backface-hidden`,g=e.el.classList.contains(w);H<=a.maxBackfaceHiddenSlides?g||e.el.classList.add(w):g&&e.el.classList.remove(w)}}function updateAutoHeight(e){const t=this,i=[],a=t.virtual&&t.params.virtual.enabled;let o=0,u;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const d=n=>a?t.slides[t.getSlideIndexByData(n)]:t.slides[n];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(n=>{i.push(n)});else for(u=0;u<Math.ceil(t.params.slidesPerView);u+=1){const n=t.activeIndex+u;if(n>t.slides.length&&!a)break;i.push(d(n))}else i.push(d(t.activeIndex));for(u=0;u<i.length;u+=1)if(typeof i[u]<"u"){const n=i[u].offsetHeight;o=n>o?n:o}(o||o===0)&&(t.wrapperEl.style.height=`${o}px`)}function updateSlidesOffset(){const e=this,t=e.slides,i=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let a=0;a<t.length;a+=1)t[a].swiperSlideOffset=(e.isHorizontal()?t[a].offsetLeft:t[a].offsetTop)-i-e.cssOverflowAdjustment()}function updateSlidesProgress(e=this&&this.translate||0){const t=this,i=t.params,{slides:a,rtlTranslate:o,snapGrid:u}=t;if(a.length===0)return;typeof a[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let d=-e;o&&(d=e),a.forEach(k=>{k.classList.remove(i.slideVisibleClass)}),t.visibleSlidesIndexes=[],t.visibleSlides=[];let n=i.spaceBetween;typeof n=="string"&&n.indexOf("%")>=0?n=parseFloat(n.replace("%",""))/100*t.size:typeof n=="string"&&(n=parseFloat(n));for(let k=0;k<a.length;k+=1){const j=a[k];let Z=j.swiperSlideOffset;i.cssMode&&i.centeredSlides&&(Z-=a[0].swiperSlideOffset);const z=(d+(i.centeredSlides?t.minTranslate():0)-Z)/(j.swiperSlideSize+n),H=(d-u[0]+(i.centeredSlides?t.minTranslate():0)-Z)/(j.swiperSlideSize+n),Y=-(d-Z),I=Y+t.slidesSizesGrid[k];(Y>=0&&Y<t.size-1||I>1&&I<=t.size||Y<=0&&I>=t.size)&&(t.visibleSlides.push(j),t.visibleSlidesIndexes.push(k),a[k].classList.add(i.slideVisibleClass)),j.progress=o?-z:z,j.originalProgress=o?-H:H}}function updateProgress(e){const t=this;if(typeof e>"u"){const Z=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*Z||0}const i=t.params,a=t.maxTranslate()-t.minTranslate();let{progress:o,isBeginning:u,isEnd:d,progressLoop:n}=t;const k=u,j=d;if(a===0)o=0,u=!0,d=!0;else{o=(e-t.minTranslate())/a;const Z=Math.abs(e-t.minTranslate())<1,z=Math.abs(e-t.maxTranslate())<1;u=Z||o<=0,d=z||o>=1,Z&&(o=0),z&&(o=1)}if(i.loop){const Z=t.getSlideIndexByData(0),z=t.getSlideIndexByData(t.slides.length-1),H=t.slidesGrid[Z],Y=t.slidesGrid[z],I=t.slidesGrid[t.slidesGrid.length-1],B=Math.abs(e);B>=H?n=(B-H)/I:n=(B+I-Y)/I,n>1&&(n-=1)}Object.assign(t,{progress:o,progressLoop:n,isBeginning:u,isEnd:d}),(i.watchSlidesProgress||i.centeredSlides&&i.autoHeight)&&t.updateSlidesProgress(e),u&&!k&&t.emit("reachBeginning toEdge"),d&&!j&&t.emit("reachEnd toEdge"),(k&&!u||j&&!d)&&t.emit("fromEdge"),t.emit("progress",o)}function updateSlidesClasses(){const e=this,{slides:t,params:i,slidesEl:a,activeIndex:o}=e,u=e.virtual&&i.virtual.enabled,d=k=>elementChildren(a,`.${i.slideClass}${k}, swiper-slide${k}`)[0];t.forEach(k=>{k.classList.remove(i.slideActiveClass,i.slideNextClass,i.slidePrevClass)});let n;if(u)if(i.loop){let k=o-e.virtual.slidesBefore;k<0&&(k=e.virtual.slides.length+k),k>=e.virtual.slides.length&&(k-=e.virtual.slides.length),n=d(`[data-swiper-slide-index="${k}"]`)}else n=d(`[data-swiper-slide-index="${o}"]`);else n=t[o];if(n){n.classList.add(i.slideActiveClass);let k=elementNextAll(n,`.${i.slideClass}, swiper-slide`)[0];i.loop&&!k&&(k=t[0]),k&&k.classList.add(i.slideNextClass);let j=elementPrevAll(n,`.${i.slideClass}, swiper-slide`)[0];i.loop&&!j===0&&(j=t[t.length-1]),j&&j.classList.add(i.slidePrevClass)}e.emitSlidesClasses()}const processLazyPreloader=(e,t)=>{if(!e||e.destroyed||!e.params)return;const i=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,a=t.closest(i());if(a){const o=a.querySelector(`.${e.params.lazyPreloaderClass}`);o&&o.remove()}},unlazy=(e,t)=>{if(!e.slides[t])return;const i=e.slides[t].querySelector('[loading="lazy"]');i&&i.removeAttribute("loading")},preload=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const i=e.slides.length;if(!i||!t||t<0)return;t=Math.min(t,i);const a=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),o=e.activeIndex,u=o+a-1;if(e.params.rewind)for(let d=o-t;d<=u+t;d+=1){const n=(d%i+i)%i;n!==o&&n>u&&unlazy(e,n)}else for(let d=Math.max(u-t,0);d<=Math.min(u+t,i-1);d+=1)d!==o&&d>u&&unlazy(e,d)};function getActiveIndexByTranslate(e){const{slidesGrid:t,params:i}=e,a=e.rtlTranslate?e.translate:-e.translate;let o;for(let u=0;u<t.length;u+=1)typeof t[u+1]<"u"?a>=t[u]&&a<t[u+1]-(t[u+1]-t[u])/2?o=u:a>=t[u]&&a<t[u+1]&&(o=u+1):a>=t[u]&&(o=u);return i.normalizeSlideIndex&&(o<0||typeof o>"u")&&(o=0),o}function updateActiveIndex(e){const t=this,i=t.rtlTranslate?t.translate:-t.translate,{snapGrid:a,params:o,activeIndex:u,realIndex:d,snapIndex:n}=t;let k=e,j;const Z=H=>{let Y=H-t.virtual.slidesBefore;return Y<0&&(Y=t.virtual.slides.length+Y),Y>=t.virtual.slides.length&&(Y-=t.virtual.slides.length),Y};if(typeof k>"u"&&(k=getActiveIndexByTranslate(t)),a.indexOf(i)>=0)j=a.indexOf(i);else{const H=Math.min(o.slidesPerGroupSkip,k);j=H+Math.floor((k-H)/o.slidesPerGroup)}if(j>=a.length&&(j=a.length-1),k===u){j!==n&&(t.snapIndex=j,t.emit("snapIndexChange")),t.params.loop&&t.virtual&&t.params.virtual.enabled&&(t.realIndex=Z(k));return}let z;t.virtual&&o.virtual.enabled&&o.loop?z=Z(k):t.slides[k]?z=parseInt(t.slides[k].getAttribute("data-swiper-slide-index")||k,10):z=k,Object.assign(t,{previousSnapIndex:n,snapIndex:j,previousRealIndex:d,realIndex:z,previousIndex:u,activeIndex:k}),t.initialized&&preload(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),d!==z&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")}function updateClickedSlide(e){const t=this,i=t.params,a=e.closest(`.${i.slideClass}, swiper-slide`);let o=!1,u;if(a){for(let d=0;d<t.slides.length;d+=1)if(t.slides[d]===a){o=!0,u=d;break}}if(a&&o)t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=u;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}i.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}const update={updateSize,updateSlides,updateAutoHeight,updateSlidesOffset,updateSlidesProgress,updateProgress,updateSlidesClasses,updateActiveIndex,updateClickedSlide};function getSwiperTranslate(e=this.isHorizontal()?"x":"y"){const t=this,{params:i,rtlTranslate:a,translate:o,wrapperEl:u}=t;if(i.virtualTranslate)return a?-o:o;if(i.cssMode)return o;let d=getTranslate(u,e);return d+=t.cssOverflowAdjustment(),a&&(d=-d),d||0}function setTranslate(e,t){const i=this,{rtlTranslate:a,params:o,wrapperEl:u,progress:d}=i;let n=0,k=0;const j=0;i.isHorizontal()?n=a?-e:e:k=e,o.roundLengths&&(n=Math.floor(n),k=Math.floor(k)),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?n:k,o.cssMode?u[i.isHorizontal()?"scrollLeft":"scrollTop"]=i.isHorizontal()?-n:-k:o.virtualTranslate||(i.isHorizontal()?n-=i.cssOverflowAdjustment():k-=i.cssOverflowAdjustment(),u.style.transform=`translate3d(${n}px, ${k}px, ${j}px)`);let Z;const z=i.maxTranslate()-i.minTranslate();z===0?Z=0:Z=(e-i.minTranslate())/z,Z!==d&&i.updateProgress(e),i.emit("setTranslate",i.translate,t)}function minTranslate(){return-this.snapGrid[0]}function maxTranslate(){return-this.snapGrid[this.snapGrid.length-1]}function translateTo(e=0,t=this.params.speed,i=!0,a=!0,o){const u=this,{params:d,wrapperEl:n}=u;if(u.animating&&d.preventInteractionOnTransition)return!1;const k=u.minTranslate(),j=u.maxTranslate();let Z;if(a&&e>k?Z=k:a&&e<j?Z=j:Z=e,u.updateProgress(Z),d.cssMode){const z=u.isHorizontal();if(t===0)n[z?"scrollLeft":"scrollTop"]=-Z;else{if(!u.support.smoothScroll)return animateCSSModeScroll({swiper:u,targetPosition:-Z,side:z?"left":"top"}),!0;n.scrollTo({[z?"left":"top"]:-Z,behavior:"smooth"})}return!0}return t===0?(u.setTransition(0),u.setTranslate(Z),i&&(u.emit("beforeTransitionStart",t,o),u.emit("transitionEnd"))):(u.setTransition(t),u.setTranslate(Z),i&&(u.emit("beforeTransitionStart",t,o),u.emit("transitionStart")),u.animating||(u.animating=!0,u.onTranslateToWrapperTransitionEnd||(u.onTranslateToWrapperTransitionEnd=function(H){!u||u.destroyed||H.target===this&&(u.wrapperEl.removeEventListener("transitionend",u.onTranslateToWrapperTransitionEnd),u.onTranslateToWrapperTransitionEnd=null,delete u.onTranslateToWrapperTransitionEnd,i&&u.emit("transitionEnd"))}),u.wrapperEl.addEventListener("transitionend",u.onTranslateToWrapperTransitionEnd))),!0}const translate={getTranslate:getSwiperTranslate,setTranslate,minTranslate,maxTranslate,translateTo};function setTransition(e,t){const i=this;i.params.cssMode||(i.wrapperEl.style.transitionDuration=`${e}ms`),i.emit("setTransition",e,t)}function transitionEmit({swiper:e,runCallbacks:t,direction:i,step:a}){const{activeIndex:o,previousIndex:u}=e;let d=i;if(d||(o>u?d="next":o<u?d="prev":d="reset"),e.emit(`transition${a}`),t&&o!==u){if(d==="reset"){e.emit(`slideResetTransition${a}`);return}e.emit(`slideChangeTransition${a}`),d==="next"?e.emit(`slideNextTransition${a}`):e.emit(`slidePrevTransition${a}`)}}function transitionStart(e=!0,t){const i=this,{params:a}=i;a.cssMode||(a.autoHeight&&i.updateAutoHeight(),transitionEmit({swiper:i,runCallbacks:e,direction:t,step:"Start"}))}function transitionEnd(e=!0,t){const i=this,{params:a}=i;i.animating=!1,!a.cssMode&&(i.setTransition(0),transitionEmit({swiper:i,runCallbacks:e,direction:t,step:"End"}))}const transition={setTransition,transitionStart,transitionEnd};function slideTo(e=0,t=this.params.speed,i=!0,a,o){typeof e=="string"&&(e=parseInt(e,10));const u=this;let d=e;d<0&&(d=0);const{params:n,snapGrid:k,slidesGrid:j,previousIndex:Z,activeIndex:z,rtlTranslate:H,wrapperEl:Y,enabled:I}=u;if(u.animating&&n.preventInteractionOnTransition||!I&&!a&&!o)return!1;const B=Math.min(u.params.slidesPerGroupSkip,d);let U=B+Math.floor((d-B)/u.params.slidesPerGroup);U>=k.length&&(U=k.length-1);const T=-k[U];if(n.normalizeSlideIndex)for(let P=0;P<j.length;P+=1){const G=-Math.floor(T*100),q=Math.floor(j[P]*100),N=Math.floor(j[P+1]*100);typeof j[P+1]<"u"?G>=q&&G<N-(N-q)/2?d=P:G>=q&&G<N&&(d=P+1):G>=q&&(d=P)}if(u.initialized&&d!==z&&(!u.allowSlideNext&&T<u.translate&&T<u.minTranslate()||!u.allowSlidePrev&&T>u.translate&&T>u.maxTranslate()&&(z||0)!==d))return!1;d!==(Z||0)&&i&&u.emit("beforeSlideChangeStart"),u.updateProgress(T);let C;if(d>z?C="next":d<z?C="prev":C="reset",H&&-T===u.translate||!H&&T===u.translate)return u.updateActiveIndex(d),n.autoHeight&&u.updateAutoHeight(),u.updateSlidesClasses(),n.effect!=="slide"&&u.setTranslate(T),C!=="reset"&&(u.transitionStart(i,C),u.transitionEnd(i,C)),!1;if(n.cssMode){const P=u.isHorizontal(),G=H?T:-T;if(t===0){const q=u.virtual&&u.params.virtual.enabled;q&&(u.wrapperEl.style.scrollSnapType="none",u._immediateVirtual=!0),q&&!u._cssModeVirtualInitialSet&&u.params.initialSlide>0?(u._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{Y[P?"scrollLeft":"scrollTop"]=G})):Y[P?"scrollLeft":"scrollTop"]=G,q&&requestAnimationFrame(()=>{u.wrapperEl.style.scrollSnapType="",u._immediateVirtual=!1})}else{if(!u.support.smoothScroll)return animateCSSModeScroll({swiper:u,targetPosition:G,side:P?"left":"top"}),!0;Y.scrollTo({[P?"left":"top"]:G,behavior:"smooth"})}return!0}return u.setTransition(t),u.setTranslate(T),u.updateActiveIndex(d),u.updateSlidesClasses(),u.emit("beforeTransitionStart",t,a),u.transitionStart(i,C),t===0?u.transitionEnd(i,C):u.animating||(u.animating=!0,u.onSlideToWrapperTransitionEnd||(u.onSlideToWrapperTransitionEnd=function(G){!u||u.destroyed||G.target===this&&(u.wrapperEl.removeEventListener("transitionend",u.onSlideToWrapperTransitionEnd),u.onSlideToWrapperTransitionEnd=null,delete u.onSlideToWrapperTransitionEnd,u.transitionEnd(i,C))}),u.wrapperEl.addEventListener("transitionend",u.onSlideToWrapperTransitionEnd)),!0}function slideToLoop(e=0,t=this.params.speed,i=!0,a){typeof e=="string"&&(e=parseInt(e,10));const o=this;let u=e;return o.params.loop&&(o.virtual&&o.params.virtual.enabled?u=u+o.virtual.slidesBefore:u=o.getSlideIndexByData(u)),o.slideTo(u,t,i,a)}function slideNext(e=this.params.speed,t=!0,i){const a=this,{enabled:o,params:u,animating:d}=a;if(!o)return a;let n=u.slidesPerGroup;u.slidesPerView==="auto"&&u.slidesPerGroup===1&&u.slidesPerGroupAuto&&(n=Math.max(a.slidesPerViewDynamic("current",!0),1));const k=a.activeIndex<u.slidesPerGroupSkip?1:n,j=a.virtual&&u.virtual.enabled;if(u.loop){if(d&&!j&&u.loopPreventsSliding)return!1;a.loopFix({direction:"next"}),a._clientLeft=a.wrapperEl.clientLeft}return u.rewind&&a.isEnd?a.slideTo(0,e,t,i):a.slideTo(a.activeIndex+k,e,t,i)}function slidePrev(e=this.params.speed,t=!0,i){const a=this,{params:o,snapGrid:u,slidesGrid:d,rtlTranslate:n,enabled:k,animating:j}=a;if(!k)return a;const Z=a.virtual&&o.virtual.enabled;if(o.loop){if(j&&!Z&&o.loopPreventsSliding)return!1;a.loopFix({direction:"prev"}),a._clientLeft=a.wrapperEl.clientLeft}const z=n?a.translate:-a.translate;function H(T){return T<0?-Math.floor(Math.abs(T)):Math.floor(T)}const Y=H(z),I=u.map(T=>H(T));let B=u[I.indexOf(Y)-1];if(typeof B>"u"&&o.cssMode){let T;u.forEach((C,P)=>{Y>=C&&(T=P)}),typeof T<"u"&&(B=u[T>0?T-1:T])}let U=0;if(typeof B<"u"&&(U=d.indexOf(B),U<0&&(U=a.activeIndex-1),o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(U=U-a.slidesPerViewDynamic("previous",!0)+1,U=Math.max(U,0))),o.rewind&&a.isBeginning){const T=a.params.virtual&&a.params.virtual.enabled&&a.virtual?a.virtual.slides.length-1:a.slides.length-1;return a.slideTo(T,e,t,i)}return a.slideTo(U,e,t,i)}function slideReset(e=this.params.speed,t=!0,i){const a=this;return a.slideTo(a.activeIndex,e,t,i)}function slideToClosest(e=this.params.speed,t=!0,i,a=.5){const o=this;let u=o.activeIndex;const d=Math.min(o.params.slidesPerGroupSkip,u),n=d+Math.floor((u-d)/o.params.slidesPerGroup),k=o.rtlTranslate?o.translate:-o.translate;if(k>=o.snapGrid[n]){const j=o.snapGrid[n],Z=o.snapGrid[n+1];k-j>(Z-j)*a&&(u+=o.params.slidesPerGroup)}else{const j=o.snapGrid[n-1],Z=o.snapGrid[n];k-j<=(Z-j)*a&&(u-=o.params.slidesPerGroup)}return u=Math.max(u,0),u=Math.min(u,o.slidesGrid.length-1),o.slideTo(u,e,t,i)}function slideToClickedSlide(){const e=this,{params:t,slidesEl:i}=e,a=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let o=e.clickedIndex,u;const d=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;u=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?o<e.loopedSlides-a/2||o>e.slides.length-e.loopedSlides+a/2?(e.loopFix(),o=e.getSlideIndex(elementChildren(i,`${d}[data-swiper-slide-index="${u}"]`)[0]),nextTick(()=>{e.slideTo(o)})):e.slideTo(o):o>e.slides.length-a?(e.loopFix(),o=e.getSlideIndex(elementChildren(i,`${d}[data-swiper-slide-index="${u}"]`)[0]),nextTick(()=>{e.slideTo(o)})):e.slideTo(o)}else e.slideTo(o)}const slide={slideTo,slideToLoop,slideNext,slidePrev,slideReset,slideToClosest,slideToClickedSlide};function loopCreate(e){const t=this,{params:i,slidesEl:a}=t;if(!i.loop||t.virtual&&t.params.virtual.enabled)return;elementChildren(a,`.${i.slideClass}, swiper-slide`).forEach((u,d)=>{u.setAttribute("data-swiper-slide-index",d)}),t.loopFix({slideRealIndex:e,direction:i.centeredSlides?void 0:"next"})}function loopFix({slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:a,activeSlideIndex:o,byController:u,byMousewheel:d}={}){const n=this;if(!n.params.loop)return;n.emit("beforeLoopFix");const{slides:k,allowSlidePrev:j,allowSlideNext:Z,slidesEl:z,params:H}=n;if(n.allowSlidePrev=!0,n.allowSlideNext=!0,n.virtual&&H.virtual.enabled){t&&(!H.centeredSlides&&n.snapIndex===0?n.slideTo(n.virtual.slides.length,0,!1,!0):H.centeredSlides&&n.snapIndex<H.slidesPerView?n.slideTo(n.virtual.slides.length+n.snapIndex,0,!1,!0):n.snapIndex===n.snapGrid.length-1&&n.slideTo(n.virtual.slidesBefore,0,!1,!0)),n.allowSlidePrev=j,n.allowSlideNext=Z,n.emit("loopFix");return}const Y=H.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(H.slidesPerView,10));let I=H.loopedSlides||Y;I%H.slidesPerGroup!==0&&(I+=H.slidesPerGroup-I%H.slidesPerGroup),n.loopedSlides=I;const B=[],U=[];let T=n.activeIndex;typeof o>"u"?o=n.getSlideIndex(n.slides.filter(N=>N.classList.contains(H.slideActiveClass))[0]):T=o;const C=i==="next"||!i,P=i==="prev"||!i;let G=0,q=0;if(o<I){G=Math.max(I-o,H.slidesPerGroup);for(let N=0;N<I-o;N+=1){const ne=N-Math.floor(N/k.length)*k.length;B.push(k.length-ne-1)}}else if(o>n.slides.length-I*2){q=Math.max(o-(n.slides.length-I*2),H.slidesPerGroup);for(let N=0;N<q;N+=1){const ne=N-Math.floor(N/k.length)*k.length;U.push(ne)}}if(P&&B.forEach(N=>{n.slides[N].swiperLoopMoveDOM=!0,z.prepend(n.slides[N]),n.slides[N].swiperLoopMoveDOM=!1}),C&&U.forEach(N=>{n.slides[N].swiperLoopMoveDOM=!0,z.append(n.slides[N]),n.slides[N].swiperLoopMoveDOM=!1}),n.recalcSlides(),H.slidesPerView==="auto"&&n.updateSlides(),H.watchSlidesProgress&&n.updateSlidesOffset(),t){if(B.length>0&&P)if(typeof e>"u"){const N=n.slidesGrid[T],K=n.slidesGrid[T+G]-N;d?n.setTranslate(n.translate-K):(n.slideTo(T+G,0,!1,!0),a&&(n.touches[n.isHorizontal()?"startX":"startY"]+=K))}else a&&n.slideToLoop(e,0,!1,!0);else if(U.length>0&&C)if(typeof e>"u"){const N=n.slidesGrid[T],K=n.slidesGrid[T-q]-N;d?n.setTranslate(n.translate-K):(n.slideTo(T-q,0,!1,!0),a&&(n.touches[n.isHorizontal()?"startX":"startY"]+=K))}else n.slideToLoop(e,0,!1,!0)}if(n.allowSlidePrev=j,n.allowSlideNext=Z,n.controller&&n.controller.control&&!u){const N={slideRealIndex:e,slideTo:!1,direction:i,setTranslate:a,activeSlideIndex:o,byController:!0};Array.isArray(n.controller.control)?n.controller.control.forEach(ne=>{!ne.destroyed&&ne.params.loop&&ne.loopFix(N)}):n.controller.control instanceof n.constructor&&n.controller.control.params.loop&&n.controller.control.loopFix(N)}n.emit("loopFix")}function loopDestroy(){const e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const a=[];e.slides.forEach(o=>{const u=typeof o.swiperSlideIndex>"u"?o.getAttribute("data-swiper-slide-index")*1:o.swiperSlideIndex;a[u]=o}),e.slides.forEach(o=>{o.removeAttribute("data-swiper-slide-index")}),a.forEach(o=>{i.append(o)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}const loop={loopCreate,loopFix,loopDestroy};function setGrabCursor(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const i=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),i.style.cursor="move",i.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function unsetGrabCursor(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}const grabCursor={setGrabCursor,unsetGrabCursor};function closestElement(e,t=this){function i(a){if(!a||a===getDocument()||a===getWindow())return null;a.assignedSlot&&(a=a.assignedSlot);const o=a.closest(e);return!o&&!a.getRootNode?null:o||i(a.getRootNode().host)}return i(t)}function onTouchStart(e){const t=this,i=getDocument(),a=getWindow(),o=t.touchEventsData;o.evCache.push(e);const{params:u,touches:d,enabled:n}=t;if(!n||!u.simulateTouch&&e.pointerType==="mouse"||t.animating&&u.preventInteractionOnTransition)return;!t.animating&&u.cssMode&&u.loop&&t.loopFix();let k=e;k.originalEvent&&(k=k.originalEvent);let j=k.target;if(u.touchEventsTarget==="wrapper"&&!t.wrapperEl.contains(j)||"which"in k&&k.which===3||"button"in k&&k.button>0||o.isTouched&&o.isMoved)return;const Z=!!u.noSwipingClass&&u.noSwipingClass!=="",z=e.composedPath?e.composedPath():e.path;Z&&k.target&&k.target.shadowRoot&&z&&(j=z[0]);const H=u.noSwipingSelector?u.noSwipingSelector:`.${u.noSwipingClass}`,Y=!!(k.target&&k.target.shadowRoot);if(u.noSwiping&&(Y?closestElement(H,j):j.closest(H))){t.allowClick=!0;return}if(u.swipeHandler&&!j.closest(u.swipeHandler))return;d.currentX=k.pageX,d.currentY=k.pageY;const I=d.currentX,B=d.currentY,U=u.edgeSwipeDetection||u.iOSEdgeSwipeDetection,T=u.edgeSwipeThreshold||u.iOSEdgeSwipeThreshold;if(U&&(I<=T||I>=a.innerWidth-T))if(U==="prevent")e.preventDefault();else return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),d.startX=I,d.startY=B,o.touchStartTime=now(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,u.threshold>0&&(o.allowThresholdMove=!1);let C=!0;j.matches(o.focusableElements)&&(C=!1,j.nodeName==="SELECT"&&(o.isTouched=!1)),i.activeElement&&i.activeElement.matches(o.focusableElements)&&i.activeElement!==j&&i.activeElement.blur();const P=C&&t.allowTouchMove&&u.touchStartPreventDefault;(u.touchStartForcePreventDefault||P)&&!j.isContentEditable&&k.preventDefault(),t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!u.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",k)}function onTouchMove(e){const t=getDocument(),i=this,a=i.touchEventsData,{params:o,touches:u,rtlTranslate:d,enabled:n}=i;if(!n||!o.simulateTouch&&e.pointerType==="mouse")return;let k=e;if(k.originalEvent&&(k=k.originalEvent),!a.isTouched){a.startMoving&&a.isScrolling&&i.emit("touchMoveOpposite",k);return}const j=a.evCache.findIndex(N=>N.pointerId===k.pointerId);j>=0&&(a.evCache[j]=k);const Z=a.evCache.length>1?a.evCache[0]:k,z=Z.pageX,H=Z.pageY;if(k.preventedByNestedSwiper){u.startX=z,u.startY=H;return}if(!i.allowTouchMove){k.target.matches(a.focusableElements)||(i.allowClick=!1),a.isTouched&&(Object.assign(u,{startX:z,startY:H,prevX:i.touches.currentX,prevY:i.touches.currentY,currentX:z,currentY:H}),a.touchStartTime=now());return}if(o.touchReleaseOnEdges&&!o.loop){if(i.isVertical()){if(H<u.startY&&i.translate<=i.maxTranslate()||H>u.startY&&i.translate>=i.minTranslate()){a.isTouched=!1,a.isMoved=!1;return}}else if(z<u.startX&&i.translate<=i.maxTranslate()||z>u.startX&&i.translate>=i.minTranslate())return}if(t.activeElement&&k.target===t.activeElement&&k.target.matches(a.focusableElements)){a.isMoved=!0,i.allowClick=!1;return}if(a.allowTouchCallbacks&&i.emit("touchMove",k),k.targetTouches&&k.targetTouches.length>1)return;u.currentX=z,u.currentY=H;const Y=u.currentX-u.startX,I=u.currentY-u.startY;if(i.params.threshold&&Math.sqrt(Y**2+I**2)<i.params.threshold)return;if(typeof a.isScrolling>"u"){let N;i.isHorizontal()&&u.currentY===u.startY||i.isVertical()&&u.currentX===u.startX?a.isScrolling=!1:Y*Y+I*I>=25&&(N=Math.atan2(Math.abs(I),Math.abs(Y))*180/Math.PI,a.isScrolling=i.isHorizontal()?N>o.touchAngle:90-N>o.touchAngle)}if(a.isScrolling&&i.emit("touchMoveOpposite",k),typeof a.startMoving>"u"&&(u.currentX!==u.startX||u.currentY!==u.startY)&&(a.startMoving=!0),a.isScrolling||i.zoom&&i.params.zoom&&i.params.zoom.enabled&&a.evCache.length>1){a.isTouched=!1;return}if(!a.startMoving)return;i.allowClick=!1,!o.cssMode&&k.cancelable&&k.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&k.stopPropagation();let B=i.isHorizontal()?Y:I,U=i.isHorizontal()?u.currentX-u.previousX:u.currentY-u.previousY;o.oneWayMovement&&(B=Math.abs(B)*(d?1:-1),U=Math.abs(U)*(d?1:-1)),u.diff=B,B*=o.touchRatio,d&&(B=-B,U=-U);const T=i.touchesDirection;i.swipeDirection=B>0?"prev":"next",i.touchesDirection=U>0?"prev":"next";const C=i.params.loop&&!o.cssMode;if(!a.isMoved){if(C&&i.loopFix({direction:i.swipeDirection}),a.startTranslate=i.getTranslate(),i.setTransition(0),i.animating){const N=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});i.wrapperEl.dispatchEvent(N)}a.allowMomentumBounce=!1,o.grabCursor&&(i.allowSlideNext===!0||i.allowSlidePrev===!0)&&i.setGrabCursor(!0),i.emit("sliderFirstMove",k)}let P;a.isMoved&&T!==i.touchesDirection&&C&&Math.abs(B)>=1&&(i.loopFix({direction:i.swipeDirection,setTranslate:!0}),P=!0),i.emit("sliderMove",k),a.isMoved=!0,a.currentTranslate=B+a.startTranslate;let G=!0,q=o.resistanceRatio;if(o.touchReleaseOnEdges&&(q=0),B>0?(C&&!P&&a.currentTranslate>(o.centeredSlides?i.minTranslate()-i.size/2:i.minTranslate())&&i.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),a.currentTranslate>i.minTranslate()&&(G=!1,o.resistance&&(a.currentTranslate=i.minTranslate()-1+(-i.minTranslate()+a.startTranslate+B)**q))):B<0&&(C&&!P&&a.currentTranslate<(o.centeredSlides?i.maxTranslate()+i.size/2:i.maxTranslate())&&i.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:i.slides.length-(o.slidesPerView==="auto"?i.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),a.currentTranslate<i.maxTranslate()&&(G=!1,o.resistance&&(a.currentTranslate=i.maxTranslate()+1-(i.maxTranslate()-a.startTranslate-B)**q))),G&&(k.preventedByNestedSwiper=!0),!i.allowSlideNext&&i.swipeDirection==="next"&&a.currentTranslate<a.startTranslate&&(a.currentTranslate=a.startTranslate),!i.allowSlidePrev&&i.swipeDirection==="prev"&&a.currentTranslate>a.startTranslate&&(a.currentTranslate=a.startTranslate),!i.allowSlidePrev&&!i.allowSlideNext&&(a.currentTranslate=a.startTranslate),o.threshold>0)if(Math.abs(B)>o.threshold||a.allowThresholdMove){if(!a.allowThresholdMove){a.allowThresholdMove=!0,u.startX=u.currentX,u.startY=u.currentY,a.currentTranslate=a.startTranslate,u.diff=i.isHorizontal()?u.currentX-u.startX:u.currentY-u.startY;return}}else{a.currentTranslate=a.startTranslate;return}!o.followFinger||o.cssMode||((o.freeMode&&o.freeMode.enabled&&i.freeMode||o.watchSlidesProgress)&&(i.updateActiveIndex(),i.updateSlidesClasses()),i.params.freeMode&&o.freeMode.enabled&&i.freeMode&&i.freeMode.onTouchMove(),i.updateProgress(a.currentTranslate),i.setTranslate(a.currentTranslate))}function onTouchEnd(e){const t=this,i=t.touchEventsData,a=i.evCache.findIndex(P=>P.pointerId===e.pointerId);if(a>=0&&i.evCache.splice(a,1),["pointercancel","pointerout","pointerleave"].includes(e.type)&&!(e.type==="pointercancel"&&(t.browser.isSafari||t.browser.isWebView)))return;const{params:o,touches:u,rtlTranslate:d,slidesGrid:n,enabled:k}=t;if(!k||!o.simulateTouch&&e.pointerType==="mouse")return;let j=e;if(j.originalEvent&&(j=j.originalEvent),i.allowTouchCallbacks&&t.emit("touchEnd",j),i.allowTouchCallbacks=!1,!i.isTouched){i.isMoved&&o.grabCursor&&t.setGrabCursor(!1),i.isMoved=!1,i.startMoving=!1;return}o.grabCursor&&i.isMoved&&i.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const Z=now(),z=Z-i.touchStartTime;if(t.allowClick){const P=j.path||j.composedPath&&j.composedPath();t.updateClickedSlide(P&&P[0]||j.target),t.emit("tap click",j),z<300&&Z-i.lastClickTime<300&&t.emit("doubleTap doubleClick",j)}if(i.lastClickTime=now(),nextTick(()=>{t.destroyed||(t.allowClick=!0)}),!i.isTouched||!i.isMoved||!t.swipeDirection||u.diff===0||i.currentTranslate===i.startTranslate){i.isTouched=!1,i.isMoved=!1,i.startMoving=!1;return}i.isTouched=!1,i.isMoved=!1,i.startMoving=!1;let H;if(o.followFinger?H=d?t.translate:-t.translate:H=-i.currentTranslate,o.cssMode)return;if(t.params.freeMode&&o.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:H});return}let Y=0,I=t.slidesSizesGrid[0];for(let P=0;P<n.length;P+=P<o.slidesPerGroupSkip?1:o.slidesPerGroup){const G=P<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof n[P+G]<"u"?H>=n[P]&&H<n[P+G]&&(Y=P,I=n[P+G]-n[P]):H>=n[P]&&(Y=P,I=n[n.length-1]-n[n.length-2])}let B=null,U=null;o.rewind&&(t.isBeginning?U=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(B=0));const T=(H-n[Y])/I,C=Y<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(z>o.longSwipesMs){if(!o.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(T>=o.longSwipesRatio?t.slideTo(o.rewind&&t.isEnd?B:Y+C):t.slideTo(Y)),t.swipeDirection==="prev"&&(T>1-o.longSwipesRatio?t.slideTo(Y+C):U!==null&&T<0&&Math.abs(T)>o.longSwipesRatio?t.slideTo(U):t.slideTo(Y))}else{if(!o.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(j.target===t.navigation.nextEl||j.target===t.navigation.prevEl)?j.target===t.navigation.nextEl?t.slideTo(Y+C):t.slideTo(Y):(t.swipeDirection==="next"&&t.slideTo(B!==null?B:Y+C),t.swipeDirection==="prev"&&t.slideTo(U!==null?U:Y))}}function onResize(){const e=this,{params:t,el:i}=e;if(i&&i.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:a,allowSlidePrev:o,snapGrid:u}=e,d=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const n=d&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!n?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!d?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=o,e.allowSlideNext=a,e.params.watchOverflow&&u!==e.snapGrid&&e.checkOverflow()}function onClick(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function onScroll(){const e=this,{wrapperEl:t,rtlTranslate:i,enabled:a}=e;if(!a)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let o;const u=e.maxTranslate()-e.minTranslate();u===0?o=0:o=(e.translate-e.minTranslate())/u,o!==e.progress&&e.updateProgress(i?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function onLoad(e){const t=this;processLazyPreloader(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}let dummyEventAttached=!1;function dummyEventListener(){}const events=(e,t)=>{const i=getDocument(),{params:a,el:o,wrapperEl:u,device:d}=e,n=!!a.nested,k=t==="on"?"addEventListener":"removeEventListener",j=t;o[k]("pointerdown",e.onTouchStart,{passive:!1}),i[k]("pointermove",e.onTouchMove,{passive:!1,capture:n}),i[k]("pointerup",e.onTouchEnd,{passive:!0}),i[k]("pointercancel",e.onTouchEnd,{passive:!0}),i[k]("pointerout",e.onTouchEnd,{passive:!0}),i[k]("pointerleave",e.onTouchEnd,{passive:!0}),(a.preventClicks||a.preventClicksPropagation)&&o[k]("click",e.onClick,!0),a.cssMode&&u[k]("scroll",e.onScroll),a.updateOnWindowResize?e[j](d.ios||d.android?"resize orientationchange observerUpdate":"resize observerUpdate",onResize,!0):e[j]("observerUpdate",onResize,!0),o[k]("load",e.onLoad,{capture:!0})};function attachEvents(){const e=this,t=getDocument(),{params:i}=e;e.onTouchStart=onTouchStart.bind(e),e.onTouchMove=onTouchMove.bind(e),e.onTouchEnd=onTouchEnd.bind(e),i.cssMode&&(e.onScroll=onScroll.bind(e)),e.onClick=onClick.bind(e),e.onLoad=onLoad.bind(e),dummyEventAttached||(t.addEventListener("touchstart",dummyEventListener),dummyEventAttached=!0),events(e,"on")}function detachEvents(){events(this,"off")}const events$1={attachEvents,detachEvents},isGridEnabled=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function setBreakpoint(){const e=this,{realIndex:t,initialized:i,params:a,el:o}=e,u=a.breakpoints;if(!u||u&&Object.keys(u).length===0)return;const d=e.getBreakpoint(u,e.params.breakpointsBase,e.el);if(!d||e.currentBreakpoint===d)return;const k=(d in u?u[d]:void 0)||e.originalParams,j=isGridEnabled(e,a),Z=isGridEnabled(e,k),z=a.enabled;j&&!Z?(o.classList.remove(`${a.containerModifierClass}grid`,`${a.containerModifierClass}grid-column`),e.emitContainerClasses()):!j&&Z&&(o.classList.add(`${a.containerModifierClass}grid`),(k.grid.fill&&k.grid.fill==="column"||!k.grid.fill&&a.grid.fill==="column")&&o.classList.add(`${a.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(B=>{const U=a[B]&&a[B].enabled,T=k[B]&&k[B].enabled;U&&!T&&e[B].disable(),!U&&T&&e[B].enable()});const H=k.direction&&k.direction!==a.direction,Y=a.loop&&(k.slidesPerView!==a.slidesPerView||H);H&&i&&e.changeDirection(),extend$1(e.params,k);const I=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),z&&!I?e.disable():!z&&I&&e.enable(),e.currentBreakpoint=d,e.emit("_beforeBreakpoint",k),Y&&i&&(e.loopDestroy(),e.loopCreate(t),e.updateSlides()),e.emit("breakpoint",k)}function getBreakpoint(e,t="window",i){if(!e||t==="container"&&!i)return;let a=!1;const o=getWindow(),u=t==="window"?o.innerHeight:i.clientHeight,d=Object.keys(e).map(n=>{if(typeof n=="string"&&n.indexOf("@")===0){const k=parseFloat(n.substr(1));return{value:u*k,point:n}}return{value:n,point:n}});d.sort((n,k)=>parseInt(n.value,10)-parseInt(k.value,10));for(let n=0;n<d.length;n+=1){const{point:k,value:j}=d[n];t==="window"?o.matchMedia(`(min-width: ${j}px)`).matches&&(a=k):j<=i.clientWidth&&(a=k)}return a||"max"}const breakpoints={setBreakpoint,getBreakpoint};function prepareClasses(e,t){const i=[];return e.forEach(a=>{typeof a=="object"?Object.keys(a).forEach(o=>{a[o]&&i.push(t+o)}):typeof a=="string"&&i.push(t+a)}),i}function addClasses(){const e=this,{classNames:t,params:i,rtl:a,el:o,device:u}=e,d=prepareClasses(["initialized",i.direction,{"free-mode":e.params.freeMode&&i.freeMode.enabled},{autoheight:i.autoHeight},{rtl:a},{grid:i.grid&&i.grid.rows>1},{"grid-column":i.grid&&i.grid.rows>1&&i.grid.fill==="column"},{android:u.android},{ios:u.ios},{"css-mode":i.cssMode},{centered:i.cssMode&&i.centeredSlides},{"watch-progress":i.watchSlidesProgress}],i.containerModifierClass);t.push(...d),o.classList.add(...t),e.emitContainerClasses()}function removeClasses(){const e=this,{el:t,classNames:i}=e;t.classList.remove(...i),e.emitContainerClasses()}const classes={addClasses,removeClasses};function checkOverflow(){const e=this,{isLocked:t,params:i}=e,{slidesOffsetBefore:a}=i;if(a){const o=e.slides.length-1,u=e.slidesGrid[o]+e.slidesSizesGrid[o]+a*2;e.isLocked=e.size>u}else e.isLocked=e.snapGrid.length===1;i.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),i.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}const checkOverflow$1={checkOverflow},defaults={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function moduleExtendParams(e,t){return function(a={}){const o=Object.keys(a)[0],u=a[o];if(typeof u!="object"||u===null){extend$1(t,a);return}if(["navigation","pagination","scrollbar"].indexOf(o)>=0&&e[o]===!0&&(e[o]={auto:!0}),!(o in e&&"enabled"in u)){extend$1(t,a);return}e[o]===!0&&(e[o]={enabled:!0}),typeof e[o]=="object"&&!("enabled"in e[o])&&(e[o].enabled=!0),e[o]||(e[o]={enabled:!1}),extend$1(t,a)}}const prototypes={eventsEmitter,update,translate,transition,slide,loop,grabCursor,events:events$1,breakpoints,checkOverflow:checkOverflow$1,classes},extendedDefaults={};let Swiper$1=class Gc{constructor(...t){let i,a;t.length===1&&t[0].constructor&&Object.prototype.toString.call(t[0]).slice(8,-1)==="Object"?a=t[0]:[i,a]=t,a||(a={}),a=extend$1({},a),i&&!a.el&&(a.el=i);const o=getDocument();if(a.el&&typeof a.el=="string"&&o.querySelectorAll(a.el).length>1){const k=[];return o.querySelectorAll(a.el).forEach(j=>{const Z=extend$1({},a,{el:j});k.push(new Gc(Z))}),k}const u=this;u.__swiper__=!0,u.support=getSupport(),u.device=getDevice({userAgent:a.userAgent}),u.browser=getBrowser(),u.eventsListeners={},u.eventsAnyListeners=[],u.modules=[...u.__modules__],a.modules&&Array.isArray(a.modules)&&u.modules.push(...a.modules);const d={};u.modules.forEach(k=>{k({params:a,swiper:u,extendParams:moduleExtendParams(a,d),on:u.on.bind(u),once:u.once.bind(u),off:u.off.bind(u),emit:u.emit.bind(u)})});const n=extend$1({},defaults,d);return u.params=extend$1({},n,extendedDefaults,a),u.originalParams=extend$1({},u.params),u.passedParams=extend$1({},a),u.params&&u.params.on&&Object.keys(u.params.on).forEach(k=>{u.on(k,u.params.on[k])}),u.params&&u.params.onAny&&u.onAny(u.params.onAny),Object.assign(u,{enabled:u.params.enabled,el:i,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return u.params.direction==="horizontal"},isVertical(){return u.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:u.params.allowSlideNext,allowSlidePrev:u.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:u.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:u.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),u.emit("_swiper"),u.params.init&&u.init(),u}getSlideIndex(t){const{slidesEl:i,params:a}=this,o=elementChildren(i,`.${a.slideClass}, swiper-slide`),u=elementIndex(o[0]);return elementIndex(t)-u}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(i=>i.getAttribute("data-swiper-slide-index")*1===t)[0])}recalcSlides(){const t=this,{slidesEl:i,params:a}=t;t.slides=elementChildren(i,`.${a.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,i){const a=this;t=Math.min(Math.max(t,0),1);const o=a.minTranslate(),d=(a.maxTranslate()-o)*t+o;a.translateTo(d,typeof i>"u"?0:i),a.updateActiveIndex(),a.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const i=t.el.className.split(" ").filter(a=>a.indexOf("swiper")===0||a.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",i.join(" "))}getSlideClasses(t){const i=this;return i.destroyed?"":t.className.split(" ").filter(a=>a.indexOf("swiper-slide")===0||a.indexOf(i.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const i=[];t.slides.forEach(a=>{const o=t.getSlideClasses(a);i.push({slideEl:a,classNames:o}),t.emit("_slideClass",a,o)}),t.emit("_slideClasses",i)}slidesPerViewDynamic(t="current",i=!1){const a=this,{params:o,slides:u,slidesGrid:d,slidesSizesGrid:n,size:k,activeIndex:j}=a;let Z=1;if(o.centeredSlides){let z=u[j].swiperSlideSize,H;for(let Y=j+1;Y<u.length;Y+=1)u[Y]&&!H&&(z+=u[Y].swiperSlideSize,Z+=1,z>k&&(H=!0));for(let Y=j-1;Y>=0;Y-=1)u[Y]&&!H&&(z+=u[Y].swiperSlideSize,Z+=1,z>k&&(H=!0))}else if(t==="current")for(let z=j+1;z<u.length;z+=1)(i?d[z]+n[z]-d[j]<k:d[z]-d[j]<k)&&(Z+=1);else for(let z=j-1;z>=0;z-=1)d[j]-d[z]<k&&(Z+=1);return Z}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:i,params:a}=t;a.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(d=>{d.complete&&processLazyPreloader(t,d)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function o(){const d=t.rtlTranslate?t.translate*-1:t.translate,n=Math.min(Math.max(d,t.maxTranslate()),t.minTranslate());t.setTranslate(n),t.updateActiveIndex(),t.updateSlidesClasses()}let u;if(t.params.freeMode&&t.params.freeMode.enabled)o(),t.params.autoHeight&&t.updateAutoHeight();else{if((t.params.slidesPerView==="auto"||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides){const d=t.virtual&&t.params.virtual.enabled?t.virtual.slides:t.slides;u=t.slideTo(d.length-1,0,!1,!0)}else u=t.slideTo(t.activeIndex,0,!1,!0);u||o()}a.watchOverflow&&i!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,i=!0){const a=this,o=a.params.direction;return t||(t=o==="horizontal"?"vertical":"horizontal"),t===o||t!=="horizontal"&&t!=="vertical"||(a.el.classList.remove(`${a.params.containerModifierClass}${o}`),a.el.classList.add(`${a.params.containerModifierClass}${t}`),a.emitContainerClasses(),a.params.direction=t,a.slides.forEach(u=>{t==="vertical"?u.style.width="":u.style.height=""}),a.emit("changeDirection"),i&&a.update()),a}changeLanguageDirection(t){const i=this;i.rtl&&t==="rtl"||!i.rtl&&t==="ltr"||(i.rtl=t==="rtl",i.rtlTranslate=i.params.direction==="horizontal"&&i.rtl,i.rtl?(i.el.classList.add(`${i.params.containerModifierClass}rtl`),i.el.dir="rtl"):(i.el.classList.remove(`${i.params.containerModifierClass}rtl`),i.el.dir="ltr"),i.update())}mount(t){const i=this;if(i.mounted)return!0;let a=t||i.params.el;if(typeof a=="string"&&(a=document.querySelector(a)),!a)return!1;a.swiper=i,a.shadowEl&&(i.isElement=!0);const o=()=>`.${(i.params.wrapperClass||"").trim().split(" ").join(".")}`;let d=(()=>a&&a.shadowRoot&&a.shadowRoot.querySelector?a.shadowRoot.querySelector(o()):elementChildren(a,o())[0])();return!d&&i.params.createElements&&(d=createElement("div",i.params.wrapperClass),a.append(d),elementChildren(a,`.${i.params.slideClass}`).forEach(n=>{d.append(n)})),Object.assign(i,{el:a,wrapperEl:d,slidesEl:i.isElement?a:d,mounted:!0,rtl:a.dir.toLowerCase()==="rtl"||elementStyle(a,"direction")==="rtl",rtlTranslate:i.params.direction==="horizontal"&&(a.dir.toLowerCase()==="rtl"||elementStyle(a,"direction")==="rtl"),wrongRTL:elementStyle(d,"display")==="-webkit-box"}),!0}init(t){const i=this;return i.initialized||i.mount(t)===!1||(i.emit("beforeInit"),i.params.breakpoints&&i.setBreakpoint(),i.addClasses(),i.updateSize(),i.updateSlides(),i.params.watchOverflow&&i.checkOverflow(),i.params.grabCursor&&i.enabled&&i.setGrabCursor(),i.params.loop&&i.virtual&&i.params.virtual.enabled?i.slideTo(i.params.initialSlide+i.virtual.slidesBefore,0,i.params.runCallbacksOnInit,!1,!0):i.slideTo(i.params.initialSlide,0,i.params.runCallbacksOnInit,!1,!0),i.params.loop&&i.loopCreate(),i.attachEvents(),[...i.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete?processLazyPreloader(i,o):o.addEventListener("load",u=>{processLazyPreloader(i,u.target)})}),preload(i),i.initialized=!0,preload(i),i.emit("init"),i.emit("afterInit")),i}destroy(t=!0,i=!0){const a=this,{params:o,el:u,wrapperEl:d,slides:n}=a;return typeof a.params>"u"||a.destroyed||(a.emit("beforeDestroy"),a.initialized=!1,a.detachEvents(),o.loop&&a.loopDestroy(),i&&(a.removeClasses(),u.removeAttribute("style"),d.removeAttribute("style"),n&&n.length&&n.forEach(k=>{k.classList.remove(o.slideVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass),k.removeAttribute("style"),k.removeAttribute("data-swiper-slide-index")})),a.emit("destroy"),Object.keys(a.eventsListeners).forEach(k=>{a.off(k)}),t!==!1&&(a.el.swiper=null,deleteProps(a)),a.destroyed=!0),null}static extendDefaults(t){extend$1(extendedDefaults,t)}static get extendedDefaults(){return extendedDefaults}static get defaults(){return defaults}static installModule(t){Gc.prototype.__modules__||(Gc.prototype.__modules__=[]);const i=Gc.prototype.__modules__;typeof t=="function"&&i.indexOf(t)<0&&i.push(t)}static use(t){return Array.isArray(t)?(t.forEach(i=>Gc.installModule(i)),Gc):(Gc.installModule(t),Gc)}};Object.keys(prototypes).forEach(e=>{Object.keys(prototypes[e]).forEach(t=>{Swiper$1.prototype[t]=prototypes[e][t]})});Swiper$1.use([Resize,Observer]);function createElementIfNotDefined(e,t,i,a){return e.params.createElements&&Object.keys(a).forEach(o=>{if(!i[o]&&i.auto===!0){let u=elementChildren(e.el,`.${a[o]}`)[0];u||(u=createElement("div",a[o]),u.className=a[o],e.el.append(u)),i[o]=u,t[o]=u}}),i}function Navigation({swiper:e,extendParams:t,on:i,emit:a}){t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const o=I=>(Array.isArray(I)||(I=[I].filter(B=>!!B)),I);function u(I){let B;return I&&typeof I=="string"&&e.isElement&&(B=e.el.shadowRoot.querySelector(I),B)?B:(I&&(typeof I=="string"&&(B=[...document.querySelectorAll(I)]),e.params.uniqueNavElements&&typeof I=="string"&&B.length>1&&e.el.querySelectorAll(I).length===1&&(B=e.el.querySelector(I))),I&&!B?I:B)}function d(I,B){const U=e.params.navigation;I=o(I),I.forEach(T=>{T&&(T.classList[B?"add":"remove"](...U.disabledClass.split(" ")),T.tagName==="BUTTON"&&(T.disabled=B),e.params.watchOverflow&&e.enabled&&T.classList[e.isLocked?"add":"remove"](U.lockClass))})}function n(){const{nextEl:I,prevEl:B}=e.navigation;if(e.params.loop){d(B,!1),d(I,!1);return}d(B,e.isBeginning&&!e.params.rewind),d(I,e.isEnd&&!e.params.rewind)}function k(I){I.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),a("navigationPrev"))}function j(I){I.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),a("navigationNext"))}function Z(){const I=e.params.navigation;if(e.params.navigation=createElementIfNotDefined(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(I.nextEl||I.prevEl))return;let B=u(I.nextEl),U=u(I.prevEl);Object.assign(e.navigation,{nextEl:B,prevEl:U}),B=o(B),U=o(U);const T=(C,P)=>{C&&C.addEventListener("click",P==="next"?j:k),!e.enabled&&C&&C.classList.add(...I.lockClass.split(" "))};B.forEach(C=>T(C,"next")),U.forEach(C=>T(C,"prev"))}function z(){let{nextEl:I,prevEl:B}=e.navigation;I=o(I),B=o(B);const U=(T,C)=>{T.removeEventListener("click",C==="next"?j:k),T.classList.remove(...e.params.navigation.disabledClass.split(" "))};I.forEach(T=>U(T,"next")),B.forEach(T=>U(T,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?Y():(Z(),n())}),i("toEdge fromEdge lock unlock",()=>{n()}),i("destroy",()=>{z()}),i("enable disable",()=>{let{nextEl:I,prevEl:B}=e.navigation;I=o(I),B=o(B),[...I,...B].filter(U=>!!U).forEach(U=>U.classList[e.enabled?"remove":"add"](e.params.navigation.lockClass))}),i("click",(I,B)=>{let{nextEl:U,prevEl:T}=e.navigation;U=o(U),T=o(T);const C=B.target;if(e.params.navigation.hideOnClick&&!T.includes(C)&&!U.includes(C)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===C||e.pagination.el.contains(C)))return;let P;U.length?P=U[0].classList.contains(e.params.navigation.hiddenClass):T.length&&(P=T[0].classList.contains(e.params.navigation.hiddenClass)),a(P===!0?"navigationShow":"navigationHide"),[...U,...T].filter(G=>!!G).forEach(G=>G.classList.toggle(e.params.navigation.hiddenClass))}});const H=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),Z(),n()},Y=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),z()};Object.assign(e.navigation,{enable:H,disable:Y,update:n,init:Z,destroy:z})}function classesToSelector(e=""){return`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function A11y({swiper:e,extendParams:t,on:i}){t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),e.a11y={clicked:!1};let a=null;function o(A){const m=a;m.length!==0&&(m.innerHTML="",m.innerHTML=A)}const u=A=>(Array.isArray(A)||(A=[A].filter(m=>!!m)),A);function d(A=16){const m=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(A).replace(/x/g,m)}function n(A){A=u(A),A.forEach(m=>{m.setAttribute("tabIndex","0")})}function k(A){A=u(A),A.forEach(m=>{m.setAttribute("tabIndex","-1")})}function j(A,m){A=u(A),A.forEach(y=>{y.setAttribute("role",m)})}function Z(A,m){A=u(A),A.forEach(y=>{y.setAttribute("aria-roledescription",m)})}function z(A,m){A=u(A),A.forEach(y=>{y.setAttribute("aria-controls",m)})}function H(A,m){A=u(A),A.forEach(y=>{y.setAttribute("aria-label",m)})}function Y(A,m){A=u(A),A.forEach(y=>{y.setAttribute("id",m)})}function I(A,m){A=u(A),A.forEach(y=>{y.setAttribute("aria-live",m)})}function B(A){A=u(A),A.forEach(m=>{m.setAttribute("aria-disabled",!0)})}function U(A){A=u(A),A.forEach(m=>{m.setAttribute("aria-disabled",!1)})}function T(A){if(A.keyCode!==13&&A.keyCode!==32)return;const m=e.params.a11y,y=A.target;e.pagination&&e.pagination.el&&(y===e.pagination.el||e.pagination.el.contains(A.target))&&!A.target.matches(classesToSelector(e.params.pagination.bulletClass))||(e.navigation&&e.navigation.nextEl&&y===e.navigation.nextEl&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?o(m.lastSlideMessage):o(m.nextSlideMessage)),e.navigation&&e.navigation.prevEl&&y===e.navigation.prevEl&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?o(m.firstSlideMessage):o(m.prevSlideMessage)),e.pagination&&y.matches(classesToSelector(e.params.pagination.bulletClass))&&y.click())}function C(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:A,prevEl:m}=e.navigation;m&&(e.isBeginning?(B(m),k(m)):(U(m),n(m))),A&&(e.isEnd?(B(A),k(A)):(U(A),n(A)))}function P(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function G(){return P()&&e.params.pagination.clickable}function q(){const A=e.params.a11y;P()&&e.pagination.bullets.forEach(m=>{e.params.pagination.clickable&&(n(m),e.params.pagination.renderBullet||(j(m,"button"),H(m,A.paginationBulletMessage.replace(/\{\{index\}\}/,elementIndex(m)+1)))),m.matches(classesToSelector(e.params.pagination.bulletActiveClass))?m.setAttribute("aria-current","true"):m.removeAttribute("aria-current")})}const N=(A,m,y)=>{n(A),A.tagName!=="BUTTON"&&(j(A,"button"),A.addEventListener("keydown",T)),H(A,y),z(A,m)},ne=()=>{e.a11y.clicked=!0},K=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},L=A=>{if(e.a11y.clicked)return;const m=A.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!m||!e.slides.includes(m))return;const y=e.slides.indexOf(m)===e.activeIndex,x=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(m);y||x||A.sourceCapabilities&&A.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,e.slideTo(e.slides.indexOf(m),0))},E=()=>{const A=e.params.a11y;A.itemRoleDescriptionMessage&&Z(e.slides,A.itemRoleDescriptionMessage),A.slideRole&&j(e.slides,A.slideRole);const m=e.slides.length;A.slideLabelMessage&&e.slides.forEach((y,x)=>{const M=e.params.loop?parseInt(y.getAttribute("data-swiper-slide-index"),10):x,X=A.slideLabelMessage.replace(/\{\{index\}\}/,M+1).replace(/\{\{slidesLength\}\}/,m);H(y,X)})},w=()=>{const A=e.params.a11y;e.isElement?e.el.shadowEl.append(a):e.el.append(a);const m=e.el;A.containerRoleDescriptionMessage&&Z(m,A.containerRoleDescriptionMessage),A.containerMessage&&H(m,A.containerMessage);const y=e.wrapperEl,x=A.id||y.getAttribute("id")||`swiper-wrapper-${d(16)}`,M=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";Y(y,x),I(y,M),E();let{nextEl:X,prevEl:re}=e.navigation?e.navigation:{};X=u(X),re=u(re),X&&X.forEach(ee=>N(ee,x,A.nextSlideMessage)),re&&re.forEach(ee=>N(ee,x,A.prevSlideMessage)),G()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(he=>{he.addEventListener("keydown",T)}),e.el.addEventListener("focus",L,!0),e.el.addEventListener("pointerdown",ne,!0),e.el.addEventListener("pointerup",K,!0)};function g(){a&&a.remove();let{nextEl:A,prevEl:m}=e.navigation?e.navigation:{};A=u(A),m=u(m),A&&A.forEach(y=>y.removeEventListener("keydown",T)),m&&m.forEach(y=>y.removeEventListener("keydown",T)),G()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(x=>{x.removeEventListener("keydown",T)}),e.el.removeEventListener("focus",L,!0),e.el.removeEventListener("pointerdown",ne,!0),e.el.removeEventListener("pointerup",K,!0)}i("beforeInit",()=>{a=createElement("span",e.params.a11y.notificationClass),a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true")}),i("afterInit",()=>{e.params.a11y.enabled&&w()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&E()}),i("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&C()}),i("paginationUpdate",()=>{e.params.a11y.enabled&&q()}),i("destroy",()=>{e.params.a11y.enabled&&g()})}function isObject(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function extend(e,t){const i=["__proto__","constructor","prototype"];Object.keys(t).filter(a=>i.indexOf(a)<0).forEach(a=>{typeof e[a]>"u"?e[a]=t[a]:isObject(t[a])&&isObject(e[a])&&Object.keys(t[a]).length>0?t[a].__swiper__?e[a]=t[a]:extend(e[a],t[a]):e[a]=t[a]})}function needsNavigation(e={}){return e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function needsPagination(e={}){return e.pagination&&typeof e.pagination.el>"u"}function needsScrollbar(e={}){return e.scrollbar&&typeof e.scrollbar.el>"u"}function uniqueClasses(e=""){const t=e.split(" ").map(a=>a.trim()).filter(a=>!!a),i=[];return t.forEach(a=>{i.indexOf(a)<0&&i.push(a)}),i.join(" ")}function wrapperClass(e=""){return e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}const paramsList=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function getParams(e={},t=!0){const i={on:{}},a={},o={};extend(i,Swiper$1.defaults),extend(i,Swiper$1.extendedDefaults),i._emitClasses=!0,i.init=!1;const u={},d=paramsList.map(k=>k.replace(/_/,"")),n=Object.assign({},e);return Object.keys(n).forEach(k=>{typeof e[k]>"u"||(d.indexOf(k)>=0?isObject(e[k])?(i[k]={},o[k]={},extend(i[k],e[k]),extend(o[k],e[k])):(i[k]=e[k],o[k]=e[k]):k.search(/on[A-Z]/)===0&&typeof e[k]=="function"?t?a[`${k[2].toLowerCase()}${k.substr(3)}`]=e[k]:i.on[`${k[2].toLowerCase()}${k.substr(3)}`]=e[k]:u[k]=e[k])}),["navigation","pagination","scrollbar"].forEach(k=>{i[k]===!0&&(i[k]={}),i[k]===!1&&delete i[k]}),{params:i,passedParams:o,rest:u,events:a}}function mountSwiper({el:e,nextEl:t,prevEl:i,paginationEl:a,scrollbarEl:o,swiper:u},d){needsNavigation(d)&&t&&i&&(u.params.navigation.nextEl=t,u.originalParams.navigation.nextEl=t,u.params.navigation.prevEl=i,u.originalParams.navigation.prevEl=i),needsPagination(d)&&a&&(u.params.pagination.el=a,u.originalParams.pagination.el=a),needsScrollbar(d)&&o&&(u.params.scrollbar.el=o,u.originalParams.scrollbar.el=o),u.init(e)}function getChangedParams(e,t,i,a,o){const u=[];if(!t)return u;const d=k=>{u.indexOf(k)<0&&u.push(k)};if(i&&a){const k=a.map(o),j=i.map(o);k.join("")!==j.join("")&&d("children"),a.length!==i.length&&d("children")}return paramsList.filter(k=>k[0]==="_").map(k=>k.replace(/_/,"")).forEach(k=>{if(k in e&&k in t)if(isObject(e[k])&&isObject(t[k])){const j=Object.keys(e[k]),Z=Object.keys(t[k]);j.length!==Z.length?d(k):(j.forEach(z=>{e[k][z]!==t[k][z]&&d(k)}),Z.forEach(z=>{e[k][z]!==t[k][z]&&d(k)}))}else e[k]!==t[k]&&d(k)}),u}function getChildren(e,t,i){e===void 0&&(e={});const a=[],o={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},u=(d,n)=>{Array.isArray(d)&&d.forEach(k=>{const j=typeof k.type=="symbol";n==="default"&&(n="container-end"),j&&k.children?u(k.children,n):k.type&&(k.type.name==="SwiperSlide"||k.type.name==="AsyncComponentWrapper")?a.push(k):o[n]&&o[n].push(k)})};return Object.keys(e).forEach(d=>{if(typeof e[d]!="function")return;const n=e[d]();u(n,d)}),i.value=t.value,t.value=a,{slides:a,slots:o}}function updateSwiper({swiper:e,slides:t,passedParams:i,changedParams:a,nextEl:o,prevEl:u,scrollbarEl:d,paginationEl:n}){const k=a.filter(K=>K!=="children"&&K!=="direction"&&K!=="wrapperClass"),{params:j,pagination:Z,navigation:z,scrollbar:H,virtual:Y,thumbs:I}=e;let B,U,T,C,P,G,q,N;a.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&j.thumbs&&!j.thumbs.swiper&&(B=!0),a.includes("controller")&&i.controller&&i.controller.control&&j.controller&&!j.controller.control&&(U=!0),a.includes("pagination")&&i.pagination&&(i.pagination.el||n)&&(j.pagination||j.pagination===!1)&&Z&&!Z.el&&(T=!0),a.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||d)&&(j.scrollbar||j.scrollbar===!1)&&H&&!H.el&&(C=!0),a.includes("navigation")&&i.navigation&&(i.navigation.prevEl||u)&&(i.navigation.nextEl||o)&&(j.navigation||j.navigation===!1)&&z&&!z.prevEl&&!z.nextEl&&(P=!0);const ne=K=>{e[K]&&(e[K].destroy(),K==="navigation"?(e.isElement&&(e[K].prevEl.remove(),e[K].nextEl.remove()),j[K].prevEl=void 0,j[K].nextEl=void 0,e[K].prevEl=void 0,e[K].nextEl=void 0):(e.isElement&&e[K].el.remove(),j[K].el=void 0,e[K].el=void 0))};a.includes("loop")&&e.isElement&&(j.loop&&!i.loop?G=!0:!j.loop&&i.loop?q=!0:N=!0),k.forEach(K=>{if(isObject(j[K])&&isObject(i[K]))extend(j[K],i[K]),(K==="navigation"||K==="pagination"||K==="scrollbar")&&"enabled"in i[K]&&!i[K].enabled&&ne(K);else{const L=i[K];(L===!0||L===!1)&&(K==="navigation"||K==="pagination"||K==="scrollbar")?L===!1&&ne(K):j[K]=i[K]}}),k.includes("controller")&&!U&&e.controller&&e.controller.control&&j.controller&&j.controller.control&&(e.controller.control=j.controller.control),a.includes("children")&&t&&Y&&j.virtual.enabled&&(Y.slides=t,Y.update(!0)),a.includes("children")&&t&&j.loop&&(N=!0),B&&I.init()&&I.update(!0),U&&(e.controller.control=j.controller.control),T&&(e.isElement&&(!n||typeof n=="string")&&(n=document.createElement("div"),n.classList.add("swiper-pagination"),e.el.shadowEl.appendChild(n)),n&&(j.pagination.el=n),Z.init(),Z.render(),Z.update()),C&&(e.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-scrollbar"),e.el.shadowEl.appendChild(d)),d&&(j.scrollbar.el=d),H.init(),H.updateSize(),H.setTranslate()),P&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),e.el.shadowEl.appendChild(o)),(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-button-prev"),e.el.shadowEl.appendChild(u))),o&&(j.navigation.nextEl=o),u&&(j.navigation.prevEl=u),z.init(),z.update()),a.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),a.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),a.includes("direction")&&e.changeDirection(i.direction,!1),(G||N)&&e.loopDestroy(),(q||N)&&e.loopCreate(),e.update()}function renderVirtual(e,t,i){if(!i)return null;const a=Z=>{let z=Z;return Z<0?z=t.length+Z:z>=t.length&&(z=z-t.length),z},o=e.value.isHorizontal()?{[e.value.rtlTranslate?"right":"left"]:`${i.offset}px`}:{top:`${i.offset}px`},{from:u,to:d}=i,n=e.value.params.loop?-t.length:0,k=e.value.params.loop?t.length*2:t.length,j=[];for(let Z=n;Z<k;Z+=1)Z>=u&&Z<=d&&j.push(t[a(Z)]);return j.map(Z=>(Z.props||(Z.props={}),Z.props.style||(Z.props.style={}),Z.props.swiperRef=e,Z.props.style=o,h(Z.type,{...Z.props},Z.children)))}const updateOnVirtualData=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())},Swiper={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(e,t){let{slots:i,emit:a}=t;const{tag:o,wrapperTag:u}=e,d=ref("swiper"),n=ref(null),k=ref(!1),j=ref(!1),Z=ref(null),z=ref(null),H=ref(null),Y={value:[]},I={value:[]},B=ref(null),U=ref(null),T=ref(null),C=ref(null),{params:P,passedParams:G}=getParams(e,!1);getChildren(i,Y,I),H.value=G,I.value=Y.value;const q=()=>{getChildren(i,Y,I),k.value=!0};P.onAny=function(K){for(var L=arguments.length,E=new Array(L>1?L-1:0),w=1;w<L;w++)E[w-1]=arguments[w];a(K,...E)},Object.assign(P.on,{_beforeBreakpoint:q,_containerClasses(K,L){d.value=L}});const N={...P};if(delete N.wrapperClass,z.value=new Swiper$1(N),z.value.virtual&&z.value.params.virtual.enabled){z.value.virtual.slides=Y.value;const K={cache:!1,slides:Y.value,renderExternal:L=>{n.value=L},renderExternalUpdate:!1};extend(z.value.params.virtual,K),extend(z.value.originalParams.virtual,K)}onUpdated(()=>{!j.value&&z.value&&(z.value.emitSlidesClasses(),j.value=!0);const{passedParams:K}=getParams(e,!1),L=getChangedParams(K,H.value,Y.value,I.value,E=>E.props&&E.props.key);H.value=K,(L.length||k.value)&&z.value&&!z.value.destroyed&&updateSwiper({swiper:z.value,slides:Y.value,passedParams:K,changedParams:L,nextEl:B.value,prevEl:U.value,scrollbarEl:C.value,paginationEl:T.value}),k.value=!1}),provide("swiper",z),watch(n,()=>{nextTick$1(()=>{updateOnVirtualData(z.value)})}),onMounted(()=>{Z.value&&(mountSwiper({el:Z.value,nextEl:B.value,prevEl:U.value,paginationEl:T.value,scrollbarEl:C.value,swiper:z.value},P),a("swiper",z.value))}),onBeforeUnmount(()=>{z.value&&!z.value.destroyed&&z.value.destroy(!0,!1)});function ne(K){return P.virtual?renderVirtual(z,K,n.value):(K.forEach((L,E)=>{L.props||(L.props={}),L.props.swiperRef=z,L.props.swiperSlideIndex=E}),K)}return()=>{const{slides:K,slots:L}=getChildren(i,Y,I);return h(o,{ref:Z,class:uniqueClasses(d.value)},[L["container-start"],h(u,{class:wrapperClass(P.wrapperClass)},[L["wrapper-start"],ne(K),L["wrapper-end"]]),needsNavigation(e)&&[h("div",{ref:U,class:"swiper-button-prev"}),h("div",{ref:B,class:"swiper-button-next"})],needsScrollbar(e)&&h("div",{ref:C,class:"swiper-scrollbar"}),needsPagination(e)&&h("div",{ref:T,class:"swiper-pagination"}),L["container-end"]])}}},SwiperSlide={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(e,t){let{slots:i}=t,a=!1;const{swiperRef:o}=e,u=ref(null),d=ref("swiper-slide"),n=ref(!1);function k(z,H,Y){H===u.value&&(d.value=Y)}onMounted(()=>{!o||!o.value||(o.value.on("_slideClass",k),a=!0)}),onBeforeUpdate(()=>{a||!o||!o.value||(o.value.on("_slideClass",k),a=!0)}),onUpdated(()=>{!u.value||!o||!o.value||(typeof e.swiperSlideIndex<"u"&&(u.value.swiperSlideIndex=e.swiperSlideIndex),o.value.destroyed&&d.value!=="swiper-slide"&&(d.value="swiper-slide"))}),onBeforeUnmount(()=>{!o||!o.value||o.value.off("_slideClass",k)});const j=computed(()=>({isActive:d.value.indexOf("swiper-slide-active")>=0,isVisible:d.value.indexOf("swiper-slide-visible")>=0,isPrev:d.value.indexOf("swiper-slide-prev")>=0,isNext:d.value.indexOf("swiper-slide-next")>=0}));provide("swiperSlide",j);const Z=()=>{n.value=!0};return()=>h(e.tag,{class:uniqueClasses(`${d.value}`),ref:u,"data-swiper-slide-index":typeof e.virtualIndex>"u"&&o&&o.value&&o.value.params.loop?e.swiperSlideIndex:e.virtualIndex,onLoadCapture:Z},e.zoom?h("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof e.zoom=="number"?e.zoom:void 0},[i.default&&i.default(j.value),e.lazy&&!n.value&&h("div",{class:"swiper-lazy-preloader"})]):[i.default&&i.default(j.value),e.lazy&&!n.value&&h("div",{class:"swiper-lazy-preloader"})])}},swiper="",navigation="",submenu_vue_vue_type_style_index_0_lang="",_sfc_main$I={props:{fleet:Object,active:String},components:{Swiper,SwiperSlide},setup(){return{auto:!0,onSwiper:i=>{},onSlideChange:()=>{},modules:[Navigation,A11y]}}},_hoisted_1$z={class:"swiper-button-prev"},_hoisted_2$v=["src"],_hoisted_3$t=["href"],_hoisted_4$r=["href"],_hoisted_5$l=["href"],_hoisted_6$i=["href"],_hoisted_7$g=["href"],_hoisted_8$e=["href"],_hoisted_9$d=["href"],_hoisted_10$d={class:"swiper-button-next"},_hoisted_11$d=["src"];function _sfc_render$A(e,t,i,a,o,u){const d=resolveComponent("swiper-slide"),n=resolveComponent("swiper");return openBlock(),createBlock(n,{"slides-per-view":"auto","space-between":0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},onSwiper:a.onSwiper,onSlideChange:a.onSlideChange},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$z,[createBaseVNode("img",{src:"/img/icons/chevron-prev.png",alt:""},null,8,_hoisted_2$v)]),createVNode(d,null,{default:withCtx(()=>[createBaseVNode("a",{href:`/fleet/${i.fleet.id}`,class:normalizeClass(["submenu-item",{active:i.active=="info"}])},"NAVIGASI",10,_hoisted_3$t)]),_:1}),createVNode(d,null,{default:withCtx(()=>[createBaseVNode("a",{href:`/fleet/${i.fleet.id}/engine`,class:normalizeClass(["submenu-item",{active:i.active=="engine"}])},"MAIN ENGINE",10,_hoisted_4$r)]),_:1}),createVNode(d,null,{default:withCtx(()=>[createBaseVNode("a",{href:`/fleet/${i.fleet.id}/pumps`,class:normalizeClass(["submenu-item",{active:i.active=="pumps"}])},"PUMPS",10,_hoisted_5$l)]),_:1}),createVNode(d,null,{default:withCtx(()=>[createBaseVNode("a",{href:`/fleet/${i.fleet.id}/cargo`,class:normalizeClass(["submenu-item",{active:i.active=="cargo"}])},"CARGO TANK",10,_hoisted_6$i)]),_:1}),createVNode(d,null,{default:withCtx(()=>[createBaseVNode("a",{href:`/fleet/${i.fleet.id}/bunker`,class:normalizeClass(["submenu-item",{active:i.active=="bunker"}])},"BUNKER TANK",10,_hoisted_7$g)]),_:1}),createVNode(d,null,{default:withCtx(()=>[createBaseVNode("a",{href:`/fleet/${i.fleet.id}/balast`,class:normalizeClass(["submenu-item",{active:i.active=="balast"}])},"BALAST TANK",10,_hoisted_8$e)]),_:1}),createVNode(d,null,{default:withCtx(()=>[createBaseVNode("a",{href:`/fleet/${i.fleet.id}/alarms`,class:normalizeClass(["submenu-item",{active:i.active=="alarms"}])},"ALARM",10,_hoisted_9$d)]),_:1}),createBaseVNode("div",_hoisted_10$d,[createBaseVNode("img",{src:"/img/icons/chevron-next.png",alt:""},null,8,_hoisted_11$d)])]),_:1},8,["navigation","onSwiper","onSlideChange"])}const SliderSubMenu=_export_sfc$1(_sfc_main$I,[["render",_sfc_render$A]]);var highchartsVue_min={exports:{}},highcharts={exports:{}},hasRequiredHighcharts;function requireHighcharts(){return hasRequiredHighcharts||(hasRequiredHighcharts=1,function(e){(function(t,i){e.exports?(i.default=i,e.exports=t.document?i(t):i):(t.Highcharts&&t.Highcharts.error(16,!0),t.Highcharts=i(t))})(typeof window<"u"?window:commonjsGlobal$1,function(t){function i(o,u,d,n){o.hasOwnProperty(u)||(o[u]=n.apply(null,d),typeof CustomEvent=="function"&&t.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:u,module:o[u]}})))}var a={};return i(a,"Core/Globals.js",[],function(){var o;return function(u){u.SVG_NS="http://www.w3.org/2000/svg",u.product="Highcharts",u.version="11.0.1",u.win=typeof t<"u"?t:{},u.doc=u.win.document,u.svg=u.doc&&u.doc.createElementNS&&!!u.doc.createElementNS(u.SVG_NS,"svg").createSVGRect,u.userAgent=u.win.navigator&&u.win.navigator.userAgent||"",u.isChrome=u.userAgent.indexOf("Chrome")!==-1,u.isFirefox=u.userAgent.indexOf("Firefox")!==-1,u.isMS=/(edge|msie|trident)/i.test(u.userAgent)&&!u.win.opera,u.isSafari=!u.isChrome&&u.userAgent.indexOf("Safari")!==-1,u.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(u.userAgent),u.isWebKit=u.userAgent.indexOf("AppleWebKit")!==-1,u.deg2rad=2*Math.PI/360,u.hasBidiBug=u.isFirefox&&4>parseInt(u.userAgent.split("Firefox/")[1],10),u.hasTouch=!!u.win.TouchEvent,u.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],u.noop=function(){},u.supportsPassiveEvents=function(){let d=!1;if(!u.isMS){const n=Object.defineProperty({},"passive",{get:function(){d=!0}});u.win.addEventListener&&u.win.removeEventListener&&(u.win.addEventListener("testPassive",u.noop,n),u.win.removeEventListener("testPassive",u.noop,n))}return d}(),u.charts=[],u.dateFormats={},u.seriesTypes={},u.symbolSizes={},u.chartCount=0}(o||(o={})),o}),i(a,"Core/Utilities.js",[a["Core/Globals.js"]],function(o){function u(y,x,M,X){const re=x?"Highcharts error":"Highcharts warning";y===32&&(y=`${re}: Deprecated member`);const ee=Y(y);let he=ee?`${re} #${y}: www.highcharts.com/errors/${y}/`:y.toString();if(typeof X<"u"){let ye="";ee&&(he+="?"),N(X,function(Ce,oe){ye+=`
 - ${oe}: ${Ce}`,ee&&(he+=encodeURI(oe)+"="+encodeURI(Ce))}),he+=ye}K(o,"displayError",{chart:M,code:y,message:he,params:X},function(){if(x)throw Error(he);w.console&&u.messages.indexOf(he)===-1&&console.warn(he)}),u.messages.push(he)}function d(y,x){const M={};return N(y,function(X,re){Z(y[re],!0)&&!y.nodeType&&x[re]?(X=d(y[re],x[re]),Object.keys(X).length&&(M[re]=X)):(Z(y[re])||y[re]!==x[re]||re in y&&!(re in x))&&(M[re]=y[re])}),M}function n(y,x){return parseInt(y,x||10)}function k(y){return typeof y=="string"}function j(y){return y=Object.prototype.toString.call(y),y==="[object Array]"||y==="[object Array Iterator]"}function Z(y,x){return!!y&&typeof y=="object"&&(!x||!j(y))}function z(y){return Z(y)&&typeof y.nodeType=="number"}function H(y){const x=y&&y.constructor;return!(!Z(y,!0)||z(y)||!x||!x.name||x.name==="Object")}function Y(y){return typeof y=="number"&&!isNaN(y)&&1/0>y&&-1/0<y}function I(y){return typeof y<"u"&&y!==null}function B(y,x,M){const X=k(x)&&!I(M);let re;const ee=(he,ye)=>{I(he)?y.setAttribute(ye,he):X?(re=y.getAttribute(ye))||ye!=="class"||(re=y.getAttribute(ye+"Name")):y.removeAttribute(ye)};return k(x)?ee(M,x):N(x,ee),re}function U(y,x){let M;y||(y={});for(M in x)y[M]=x[M];return y}function T(){const y=arguments,x=y.length;for(let M=0;M<x;M++){const X=y[M];if(typeof X<"u"&&X!==null)return X}}function C(y,x){o.isMS&&!o.svg&&x&&I(x.opacity)&&(x.filter=`alpha(opacity=${100*x.opacity})`),U(y.style,x)}function P(y){return Math.pow(10,Math.floor(Math.log(y)/Math.LN10))}function G(y,x){return 1e14<y?y:parseFloat(y.toPrecision(x||14))}function q(y,x,M){let X;return x==="width"?(x=Math.min(y.offsetWidth,y.scrollWidth),M=y.getBoundingClientRect&&y.getBoundingClientRect().width,M<x&&M>=x-1&&(x=Math.floor(M)),Math.max(0,x-(q(y,"padding-left",!0)||0)-(q(y,"padding-right",!0)||0))):x==="height"?Math.max(0,Math.min(y.offsetHeight,y.scrollHeight)-(q(y,"padding-top",!0)||0)-(q(y,"padding-bottom",!0)||0)):((y=w.getComputedStyle(y,void 0))&&(X=y.getPropertyValue(x),T(M,x!=="opacity")&&(X=n(X))),X)}function N(y,x,M){for(const X in y)Object.hasOwnProperty.call(y,X)&&x.call(M||y[X],y[X],X,y)}function ne(y,x,M){function X(he,ye){const Ce=y.removeEventListener;Ce&&Ce.call(y,he,ye,!1)}function re(he){let ye,Ce;y.nodeName&&(x?(ye={},ye[x]=!0):ye=he,N(ye,function(oe,de){if(he[de])for(Ce=he[de].length;Ce--;)X(de,he[de][Ce].fn)}))}var ee=typeof y=="function"&&y.prototype||y;if(Object.hasOwnProperty.call(ee,"hcEvents")){const he=ee.hcEvents;x?(ee=he[x]||[],M?(he[x]=ee.filter(function(ye){return M!==ye.fn}),X(x,M)):(re(he),he[x]=[])):(re(he),delete ee.hcEvents)}}function K(y,x,M,X){if(M=M||{},E.createEvent&&(y.dispatchEvent||y.fireEvent&&y!==o)){var re=E.createEvent("Events");re.initEvent(x,!0,!0),M=U(re,M),y.dispatchEvent?y.dispatchEvent(M):y.fireEvent(x,M)}else if(y.hcEvents){M.target||U(M,{preventDefault:function(){M.defaultPrevented=!0},target:y,type:x}),re=[];let ee=y,he=!1;for(;ee.hcEvents;)Object.hasOwnProperty.call(ee,"hcEvents")&&ee.hcEvents[x]&&(re.length&&(he=!0),re.unshift.apply(re,ee.hcEvents[x])),ee=Object.getPrototypeOf(ee);he&&re.sort((ye,Ce)=>ye.order-Ce.order),re.forEach(ye=>{ye.fn.call(y,M)===!1&&M.preventDefault()})}X&&!M.defaultPrevented&&X.call(y,M)}const{charts:L,doc:E,win:w}=o;(u||(u={})).messages=[],Math.easeInOutSine=function(y){return-.5*(Math.cos(Math.PI*y)-1)};var g=Array.prototype.find?function(y,x){return y.find(x)}:function(y,x){let M;const X=y.length;for(M=0;M<X;M++)if(x(y[M],M))return y[M]};N({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(y,x){o[x]=function(M){return u(32,!1,void 0,{[`Highcharts.${x}`]:`use Array.${y}`}),Array.prototype[y].apply(M,[].slice.call(arguments,1))}});let A;const m=function(){const y=Math.random().toString(36).substring(2,9)+"-";let x=0;return function(){return"highcharts-"+(A?"":y)+x++}}();return w.jQuery&&(w.jQuery.fn.highcharts=function(){const y=[].slice.call(arguments);if(this[0])return y[0]?(new o[k(y[0])?y.shift():"Chart"](this[0],y[0],y[1]),this):L[B(this[0],"data-highcharts-chart")]}),g={addEvent:function(y,x,M,X={}){var re=typeof y=="function"&&y.prototype||y;Object.hasOwnProperty.call(re,"hcEvents")||(re.hcEvents={}),re=re.hcEvents,o.Point&&y instanceof o.Point&&y.series&&y.series.chart&&(y.series.chart.runTrackerClick=!0);const ee=y.addEventListener;return ee&&ee.call(y,x,M,o.supportsPassiveEvents?{passive:X.passive===void 0?x.indexOf("touch")!==-1:X.passive,capture:!1}:!1),re[x]||(re[x]=[]),re[x].push({fn:M,order:typeof X.order=="number"?X.order:1/0}),re[x].sort((he,ye)=>he.order-ye.order),function(){ne(y,x,M)}},arrayMax:function(y){let x=y.length,M=y[0];for(;x--;)y[x]>M&&(M=y[x]);return M},arrayMin:function(y){let x=y.length,M=y[0];for(;x--;)y[x]<M&&(M=y[x]);return M},attr:B,clamp:function(y,x,M){return y>x?y<M?y:M:x},cleanRecursively:d,clearTimeout:function(y){I(y)&&clearTimeout(y)},correctFloat:G,createElement:function(y,x,M,X,re){return y=E.createElement(y),x&&U(y,x),re&&C(y,{padding:"0",border:"none",margin:"0"}),M&&C(y,M),X&&X.appendChild(y),y},css:C,defined:I,destroyObjectProperties:function(y,x){N(y,function(M,X){M&&M!==x&&M.destroy&&M.destroy(),delete y[X]})},discardElement:function(y){y&&y.parentElement&&y.parentElement.removeChild(y)},erase:function(y,x){let M=y.length;for(;M--;)if(y[M]===x){y.splice(M,1);break}},error:u,extend:U,extendClass:function(y,x){const M=function(){};return M.prototype=new y,U(M.prototype,x),M},find:g,fireEvent:K,getMagnitude:P,getNestedProperty:function(y,x){for(y=y.split(".");y.length&&I(x);){const M=y.shift();if(typeof M>"u"||M==="__proto__"||(x=x[M],!I(x)||typeof x=="function"||typeof x.nodeType=="number"||x===w))return}return x},getStyle:q,inArray:function(y,x,M){return u(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),x.indexOf(y,M)},isArray:j,isClass:H,isDOMElement:z,isFunction:function(y){return typeof y=="function"},isNumber:Y,isObject:Z,isString:k,keys:function(y){return u(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(y)},merge:function(){let y,x=arguments,M={};const X=function(ee,he){return typeof ee!="object"&&(ee={}),N(he,function(ye,Ce){Ce!=="__proto__"&&Ce!=="constructor"&&(!Z(ye,!0)||H(ye)||z(ye)?ee[Ce]=he[Ce]:ee[Ce]=X(ee[Ce]||{},ye))}),ee};x[0]===!0&&(M=x[1],x=Array.prototype.slice.call(x,2));const re=x.length;for(y=0;y<re;y++)M=X(M,x[y]);return M},normalizeTickInterval:function(y,x,M,X,re){let ee=y;M=T(M,P(y));const he=y/M;for(x||(x=re?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],X===!1&&(M===1?x=x.filter(function(ye){return ye%1===0}):.1>=M&&(x=[1/M]))),X=0;X<x.length&&(ee=x[X],!(re&&ee*M>=y||!re&&he<=(x[X]+(x[X+1]||x[X]))/2));X++);return ee=G(ee*M,-Math.round(Math.log(.001)/Math.LN10))},objectEach:N,offset:function(y){const x=E.documentElement;return y=y.parentElement||y.parentNode?y.getBoundingClientRect():{top:0,left:0,width:0,height:0},{top:y.top+(w.pageYOffset||x.scrollTop)-(x.clientTop||0),left:y.left+(w.pageXOffset||x.scrollLeft)-(x.clientLeft||0),width:y.width,height:y.height}},pad:function(y,x,M){return Array((x||2)+1-String(y).replace("-","").length).join(M||"0")+y},pick:T,pInt:n,pushUnique:function(y,x){return 0>y.indexOf(x)&&!!y.push(x)},relativeLength:function(y,x,M){return/%$/.test(y)?x*parseFloat(y)/100+(M||0):parseFloat(y)},removeEvent:ne,splat:function(y){return j(y)?y:[y]},stableSort:function(y,x){const M=y.length;let X,re;for(re=0;re<M;re++)y[re].safeI=re;for(y.sort(function(ee,he){return X=x(ee,he),X===0?ee.safeI-he.safeI:X}),re=0;re<M;re++)delete y[re].safeI},syncTimeout:function(y,x,M){return 0<x?setTimeout(y,x,M):(y.call(0,M),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:m,useSerialIds:function(y){return A=T(y,A)},wrap:function(y,x,M){const X=y[x];y[x]=function(){const re=arguments,ee=this;return M.apply(this,[function(){return X.apply(ee,arguments.length?arguments:re)}].concat([].slice.call(arguments)))}}},g}),i(a,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},reflow:!0,type:"line",zoomBySingleTouch:!1,zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),i(a,"Core/Color/Color.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(o,u){const{isNumber:d,merge:n,pInt:k}=u;class j{static parse(z){return z?new j(z):j.None}constructor(z){this.rgba=[NaN,NaN,NaN,NaN],this.input=z;const H=o.Color;if(H&&H!==j)return new H(z);this.init(z)}init(z){let H,Y;if(typeof z=="object"&&typeof z.stops<"u")this.stops=z.stops.map(U=>new j(U[1]));else if(typeof z=="string"){if(this.input=z=j.names[z.toLowerCase()]||z,z.charAt(0)==="#"){var I=z.length,B=parseInt(z.substr(1),16);I===7?H=[(B&16711680)>>16,(B&65280)>>8,B&255,1]:I===4&&(H=[(B&3840)>>4|(B&3840)>>8,(B&240)>>4|B&240,(B&15)<<4|B&15,1])}if(!H)for(B=j.parsers.length;B--&&!H;)Y=j.parsers[B],(I=Y.regex.exec(z))&&(H=Y.parse(I))}H&&(this.rgba=H)}get(z){const H=this.input,Y=this.rgba;if(typeof H=="object"&&typeof this.stops<"u"){const I=n(H);return I.stops=[].slice.call(I.stops),this.stops.forEach((B,U)=>{I.stops[U]=[I.stops[U][0],B.get(z)]}),I}return Y&&d(Y[0])?z==="rgb"||!z&&Y[3]===1?"rgb("+Y[0]+","+Y[1]+","+Y[2]+")":z==="a"?`${Y[3]}`:"rgba("+Y.join(",")+")":H}brighten(z){const H=this.rgba;if(this.stops)this.stops.forEach(function(Y){Y.brighten(z)});else if(d(z)&&z!==0)for(let Y=0;3>Y;Y++)H[Y]+=k(255*z),0>H[Y]&&(H[Y]=0),255<H[Y]&&(H[Y]=255);return this}setOpacity(z){return this.rgba[3]=z,this}tweenTo(z,H){const Y=this.rgba,I=z.rgba;return!d(Y[0])||!d(I[0])?z.input||"none":(z=I[3]!==1||Y[3]!==1,(z?"rgba(":"rgb(")+Math.round(I[0]+(Y[0]-I[0])*(1-H))+","+Math.round(I[1]+(Y[1]-I[1])*(1-H))+","+Math.round(I[2]+(Y[2]-I[2])*(1-H))+(z?","+(I[3]+(Y[3]-I[3])*(1-H)):"")+")")}}return j.names={white:"#ffffff",black:"#000000"},j.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(Z){return[k(Z[1]),k(Z[2]),k(Z[3]),parseFloat(Z[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(Z){return[k(Z[1]),k(Z[2]),k(Z[3]),1]}}],j.None=new j(""),j}),i(a,"Core/Color/Palettes.js",[],function(){return{colors:"#2caffe #544fc5 #00e272 #fe6a35 #6b8abc #d568fb #2ee0ca #fa4b42 #feb56a #91e8e1".split(" ")}}),i(a,"Core/Time.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(o,u){const{win:d}=o,{defined:n,error:k,extend:j,isObject:Z,merge:z,objectEach:H,pad:Y,pick:I,splat:B,timeUnits:U}=u,T=o.isSafari&&d.Intl&&d.Intl.DateTimeFormat.prototype.formatRange,C=o.isSafari&&d.Intl&&!d.Intl.DateTimeFormat.prototype.formatRange;class P{constructor(q){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=d.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(q)}get(q,N){if(this.variableTimezone||this.timezoneOffset){const ne=N.getTime(),K=ne-this.getTimezoneOffset(N);return N.setTime(K),q=N["getUTC"+q](),N.setTime(ne),q}return this.useUTC?N["getUTC"+q]():N["get"+q]()}set(q,N,ne){if(this.variableTimezone||this.timezoneOffset){if(q==="Milliseconds"||q==="Seconds"||q==="Minutes"&&this.getTimezoneOffset(N)%36e5===0)return N["setUTC"+q](ne);var K=this.getTimezoneOffset(N);return K=N.getTime()-K,N.setTime(K),N["setUTC"+q](ne),q=this.getTimezoneOffset(N),K=N.getTime()+q,N.setTime(K)}return this.useUTC||T&&q==="FullYear"?N["setUTC"+q](ne):N["set"+q](ne)}update(q={}){const N=I(q.useUTC,!0);this.options=q=z(!0,this.options,q),this.Date=q.Date||d.Date||Date,this.timezoneOffset=(this.useUTC=N)&&q.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=N&&!(!q.getTimezoneOffset&&!q.timezone)}makeTime(q,N,ne,K,L,E){let w,g,A;return this.useUTC?(w=this.Date.UTC.apply(0,arguments),g=this.getTimezoneOffset(w),w+=g,A=this.getTimezoneOffset(w),g!==A?w+=A-g:g-36e5!==this.getTimezoneOffset(w-36e5)||C||(w-=36e5)):w=new this.Date(q,N,I(ne,1),I(K,0),I(L,0),I(E,0)).getTime(),w}timezoneOffsetFunction(){const q=this,N=this.options,ne=N.getTimezoneOffset,K=N.moment||d.moment;if(!this.useUTC)return function(L){return 6e4*new Date(L.toString()).getTimezoneOffset()};if(N.timezone){if(K)return function(L){return 6e4*-K.tz(L,N.timezone).utcOffset()};k(25)}return this.useUTC&&ne?function(L){return 6e4*ne(L.valueOf())}:function(){return 6e4*(q.timezoneOffset||0)}}dateFormat(q,N,ne){if(!n(N)||isNaN(N))return o.defaultOptions.lang&&o.defaultOptions.lang.invalidDate||"";q=I(q,"%Y-%m-%d %H:%M:%S");const K=this;var L=new this.Date(N);const E=this.get("Hours",L),w=this.get("Day",L),g=this.get("Date",L),A=this.get("Month",L),m=this.get("FullYear",L),y=o.defaultOptions.lang,x=y&&y.weekdays,M=y&&y.shortWeekdays;return L=j({a:M?M[w]:x[w].substr(0,3),A:x[w],d:Y(g),e:Y(g,2," "),w,b:y.shortMonths[A],B:y.months[A],m:Y(A+1),o:A+1,y:m.toString().substr(2,2),Y:m,H:Y(E),k:E,I:Y(E%12||12),l:E%12||12,M:Y(this.get("Minutes",L)),p:12>E?"AM":"PM",P:12>E?"am":"pm",S:Y(L.getSeconds()),L:Y(Math.floor(N%1e3),3)},o.dateFormats),H(L,function(X,re){for(;q.indexOf("%"+re)!==-1;)q=q.replace("%"+re,typeof X=="function"?X.call(K,N):X)}),ne?q.substr(0,1).toUpperCase()+q.substr(1):q}resolveDTLFormat(q){return Z(q,!0)?q:(q=B(q),{main:q[0],from:q[1],to:q[2]})}getTimeTicks(q,N,ne,K){const L=this,E=[],w={};var g=new L.Date(N);const A=q.unitRange,m=q.count||1;let y;if(K=I(K,1),n(N)){if(L.set("Milliseconds",g,A>=U.second?0:m*Math.floor(L.get("Milliseconds",g)/m)),A>=U.second&&L.set("Seconds",g,A>=U.minute?0:m*Math.floor(L.get("Seconds",g)/m)),A>=U.minute&&L.set("Minutes",g,A>=U.hour?0:m*Math.floor(L.get("Minutes",g)/m)),A>=U.hour&&L.set("Hours",g,A>=U.day?0:m*Math.floor(L.get("Hours",g)/m)),A>=U.day&&L.set("Date",g,A>=U.month?1:Math.max(1,m*Math.floor(L.get("Date",g)/m))),A>=U.month){L.set("Month",g,A>=U.year?0:m*Math.floor(L.get("Month",g)/m));var x=L.get("FullYear",g)}A>=U.year&&L.set("FullYear",g,x-x%m),A===U.week&&(x=L.get("Day",g),L.set("Date",g,L.get("Date",g)-x+K+(x<K?-7:0))),x=L.get("FullYear",g),K=L.get("Month",g);const M=L.get("Date",g),X=L.get("Hours",g);for(N=g.getTime(),!L.variableTimezone&&L.useUTC||!n(ne)||(y=ne-N>4*U.month||L.getTimezoneOffset(N)!==L.getTimezoneOffset(ne)),N=g.getTime(),g=1;N<ne;)E.push(N),N=A===U.year?L.makeTime(x+g*m,0):A===U.month?L.makeTime(x,K+g*m):!y||A!==U.day&&A!==U.week?y&&A===U.hour&&1<m?L.makeTime(x,K,M,X+g*m):N+A*m:L.makeTime(x,K,M+g*m*(A===U.day?1:7)),g++;E.push(N),A<=U.hour&&1e4>E.length&&E.forEach(function(re){re%18e5===0&&L.dateFormat("%H%M%S%L",re)==="000000000"&&(w[re]="day")})}return E.info=j(q,{higherRanks:w,totalRange:A*m}),E}getDateFormat(q,N,ne,K){const L=this.dateFormat("%m-%d %H:%M:%S.%L",N),E={millisecond:15,second:12,minute:9,hour:6,day:3};let w,g="millisecond";for(w in U){if(q===U.week&&+this.dateFormat("%w",N)===ne&&L.substr(6)==="00:00:00.000"){w="week";break}if(U[w]>q){w=g;break}if(E[w]&&L.substr(E[w])!=="01-01 00:00:00.000".substr(E[w]))break;w!=="week"&&(g=w)}return this.resolveDTLFormat(K[w]).main}}return P}),i(a,"Core/Defaults.js",[a["Core/Chart/ChartDefaults.js"],a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Color/Palettes.js"],a["Core/Time.js"],a["Core/Utilities.js"]],function(o,u,d,n,k,j){const{isTouchDevice:Z,svg:z}=d,{merge:H}=j,Y={colors:n.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:o,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:z,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:Z?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};Y.chart.styledMode=!1;const I=new k(Y.time);return o={defaultOptions:Y,defaultTime:I,getOptions:function(){return Y},setOptions:function(B){return H(!0,Y,B),(B.time||B.global)&&(d.time?d.time.update(H(Y.global,Y.time,B.global,B.time)):d.time=I),Y}},o}),i(a,"Core/Animation/Fx.js",[a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(o,u,d){const{parse:n}=o,{win:k}=u,{isNumber:j,objectEach:Z}=d;class z{constructor(Y,I,B){this.pos=NaN,this.options=I,this.elem=Y,this.prop=B}dSetter(){var Y=this.paths;const I=Y&&Y[0];Y=Y&&Y[1];const B=this.now||0;let U=[];if(B!==1&&I&&Y)if(I.length===Y.length&&1>B)for(let T=0;T<Y.length;T++){const C=I[T],P=Y[T],G=[];for(let q=0;q<P.length;q++){const N=C[q],ne=P[q];j(N)&&j(ne)&&(P[0]!=="A"||q!==4&&q!==5)?G[q]=N+B*(ne-N):G[q]=ne}U.push(G)}else U=Y;else U=this.toD||[];this.elem.attr("d",U,void 0,!0)}update(){const Y=this.elem,I=this.prop,B=this.now,U=this.options.step;this[I+"Setter"]?this[I+"Setter"]():Y.attr?Y.element&&Y.attr(I,B,null,!0):Y.style[I]=B+this.unit,U&&U.call(Y,B,this)}run(Y,I,B){const U=this,T=U.options,C=function(q){return C.stopped?!1:U.step(q)},P=k.requestAnimationFrame||function(q){setTimeout(q,13)},G=function(){for(let q=0;q<z.timers.length;q++)z.timers[q]()||z.timers.splice(q--,1);z.timers.length&&P(G)};Y!==I||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=Y,this.end=I,this.unit=B,this.now=this.start,this.pos=0,C.elem=this.elem,C.prop=this.prop,C()&&z.timers.push(C)===1&&P(G)):(delete T.curAnim[this.prop],T.complete&&Object.keys(T.curAnim).length===0&&T.complete.call(this.elem))}step(Y){const I=+new Date,B=this.options,U=this.elem,T=B.complete,C=B.duration,P=B.curAnim;let G;return U.attr&&!U.element?Y=!1:Y||I>=C+this.startTime?(this.now=this.end,this.pos=1,this.update(),G=P[this.prop]=!0,Z(P,function(q){q!==!0&&(G=!1)}),G&&T&&T.call(U),Y=!1):(this.pos=B.easing((I-this.startTime)/C),this.now=this.start+(this.end-this.start)*this.pos,this.update(),Y=!0),Y}initPath(Y,I,B){function U(L,E){for(;L.length<ne;){var w=L[0];const g=E[ne-L.length];g&&w[0]==="M"&&(L[0]=g[0]==="C"?["C",w[1],w[2],w[1],w[2],w[1],w[2]]:["L",w[1],w[2]]),L.unshift(w),G&&(w=L.pop(),L.push(L[L.length-1],w))}}function T(L,E){for(;L.length<ne;)if(E=L[Math.floor(L.length/q)-1].slice(),E[0]==="C"&&(E[1]=E[5],E[2]=E[6]),G){const w=L[Math.floor(L.length/q)].slice();L.splice(L.length/2,0,E,w)}else L.push(E)}const C=Y.startX,P=Y.endX;B=B.slice();const G=Y.isArea,q=G?2:1;let N,ne,K;if(I=I&&I.slice(),!I)return[B,B];if(C&&P&&P.length){for(Y=0;Y<C.length;Y++)if(C[Y]===P[0]){N=Y;break}else if(C[0]===P[P.length-C.length+Y]){N=Y,K=!0;break}else if(C[C.length-1]===P[P.length-C.length+Y]){N=C.length-Y;break}typeof N>"u"&&(I=[])}return I.length&&j(N)&&(ne=B.length+N*q,K?(U(I,B),T(B,I)):(U(B,I),T(I,B))),[I,B]}fillSetter(){z.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,n(this.start).tweenTo(n(this.end),this.pos),void 0,!0)}}return z.timers=[],z}),i(a,"Core/Animation/AnimationUtilities.js",[a["Core/Animation/Fx.js"],a["Core/Utilities.js"]],function(o,u){function d(U){return H(U)?Y({duration:500,defer:0},U):{duration:U?500:0,defer:0}}function n(U,T){let C=o.timers.length;for(;C--;)o.timers[C].elem!==U||T&&T!==o.timers[C].prop||(o.timers[C].stopped=!0)}const{defined:k,getStyle:j,isArray:Z,isNumber:z,isObject:H,merge:Y,objectEach:I,pick:B}=u;return{animate:function(U,T,C){let P,G="",q,N,ne;H(C)||(ne=arguments,C={duration:ne[2],easing:ne[3],complete:ne[4]}),z(C.duration)||(C.duration=400),C.easing=typeof C.easing=="function"?C.easing:Math[C.easing]||Math.easeInOutSine,C.curAnim=Y(T),I(T,function(K,L){n(U,L),N=new o(U,C,L),q=void 0,L==="d"&&Z(T.d)?(N.paths=N.initPath(U,U.pathArray,T.d),N.toD=T.d,P=0,q=1):U.attr?P=U.attr(L):(P=parseFloat(j(U,L))||0,L!=="opacity"&&(G="px")),q||(q=K),typeof q=="string"&&q.match("px")&&(q=q.replace(/px/g,"")),N.run(P,q,G)})},animObject:d,getDeferredAnimation:function(U,T,C){const P=d(T);let G=0,q=0;return(C?[C]:U.series).forEach(N=>{N=d(N.options.animation),G=T&&k(T.defer)?P.defer:Math.max(G,N.duration+N.defer),q=Math.min(P.duration,N.duration)}),U.renderer.forExport&&(G=0),{defer:Math.max(0,G-q),duration:Math.min(G,q)}},setAnimation:function(U,T){T.renderer.globalAnimation=B(U,T.options.chart.animation,!0)},stop:n}}),i(a,"Core/Renderer/HTML/AST.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(o,u){const{SVG_NS:d,win:n}=o,{attr:k,createElement:j,css:Z,error:z,isFunction:H,isString:Y,objectEach:I,splat:B}=u;({trustedTypes:u}=n);const U=u&&H(u.createPolicy)&&u.createPolicy("highcharts",{createHTML:G=>G});u=U?U.createHTML(""):"";try{var T=!!new DOMParser().parseFromString(u,"text/html")}catch{T=!1}const C=T;class P{static filterUserAttributes(q){return I(q,(N,ne)=>{let K=!0;P.allowedAttributes.indexOf(ne)===-1&&(K=!1),["background","dynsrc","href","lowsrc","src"].indexOf(ne)!==-1&&(K=Y(N)&&P.allowedReferences.some(L=>N.indexOf(L)===0)),K||(z(33,!1,void 0,{"Invalid attribute in config":`${ne}`}),delete q[ne]),Y(N)&&q[ne]&&(q[ne]=N.replace(/</g,"&lt;"))}),q}static parseStyle(q){return q.split(";").reduce((N,ne)=>{ne=ne.split(":").map(L=>L.trim());const K=ne.shift();return K&&ne.length&&(N[K.replace(/-([a-z])/g,L=>L[1].toUpperCase())]=ne.join(":")),N},{})}static setElementHTML(q,N){q.innerHTML=P.emptyHTML,N&&new P(N).addToDOM(q)}constructor(q){this.nodes=typeof q=="string"?this.parseMarkup(q):q}addToDOM(q){function N(ne,K){let L;return B(ne).forEach(function(E){var w=E.tagName;const g=E.textContent?o.doc.createTextNode(E.textContent):void 0,A=P.bypassHTMLFiltering;let m;if(w)if(w==="#text")m=g;else if(P.allowedTags.indexOf(w)!==-1||A){w=o.doc.createElementNS(w==="svg"?d:K.namespaceURI||d,w);const y=E.attributes||{};I(E,function(x,M){M!=="tagName"&&M!=="attributes"&&M!=="children"&&M!=="style"&&M!=="textContent"&&(y[M]=x)}),k(w,A?y:P.filterUserAttributes(y)),E.style&&Z(w,E.style),g&&w.appendChild(g),N(E.children||[],w),m=w}else z(33,!1,void 0,{"Invalid tagName in config":w});m&&K.appendChild(m),L=m}),L}return N(this.nodes,q)}parseMarkup(q){const N=[];if(q=q.trim().replace(/ style=(["'])/g," data-style=$1"),C)q=new DOMParser().parseFromString(U?U.createHTML(q):q,"text/html");else{const K=j("div");K.innerHTML=q,q={body:K}}const ne=(K,L)=>{var E=K.nodeName.toLowerCase();const w={tagName:E};if(E==="#text"&&(w.textContent=K.textContent||""),E=K.attributes){const g={};[].forEach.call(E,A=>{A.name==="data-style"?w.style=P.parseStyle(A.value):g[A.name]=A.value}),w.attributes=g}if(K.childNodes.length){const g=[];[].forEach.call(K.childNodes,A=>{ne(A,g)}),g.length&&(w.children=g)}L.push(w)};return[].forEach.call(q.body.childNodes,K=>ne(K,N)),N}}return P.allowedAttributes="alt aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill flood-color flood-opacity height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" "),P.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),P.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feDropShadow feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" "),P.emptyHTML=u,P.bypassHTMLFiltering=!1,P}),i(a,"Core/FormatUtilities.js",[a["Core/Defaults.js"],a["Core/Utilities.js"]],function(o,u){function d(Y,I,B,U){Y=+Y||0,I=+I;const T=n.lang;var C=(Y.toString().split(".")[1]||"").split("e")[0].length;const P=Y.toString().split("e"),G=I;if(I===-1)I=Math.min(C,20);else if(!Z(I))I=2;else if(I&&P[1]&&0>P[1]){var q=I+ +P[1];0<=q?(P[0]=(+P[0]).toExponential(q).split("e")[0],I=q):(P[0]=P[0].split(".")[0]||0,Y=20>I?(P[0]*Math.pow(10,P[1])).toFixed(I):0,P[1]=0)}q=(Math.abs(P[1]?P[0]:Y)+Math.pow(10,-Math.max(I,C)-1)).toFixed(I),C=String(H(q));const N=3<C.length?C.length%3:0;return B=z(B,T.decimalPoint),U=z(U,T.thousandsSep),Y=(0>Y?"-":"")+(N?C.substr(0,N)+U:""),Y=0>+P[1]&&!G?"0":Y+C.substr(N).replace(/(\d{3})(?=\d)/g,"$1"+U),I&&(Y+=B+q.slice(-I)),P[1]&&+Y!=0&&(Y+="e"+P[1]),Y}const{defaultOptions:n,defaultTime:k}=o,{getNestedProperty:j,isNumber:Z,pick:z,pInt:H}=u;return{dateFormat:function(Y,I,B){return k.dateFormat(Y,I,B)},format:function(Y,I,B){var U="{";let T=!1,C;const P=/f$/,G=/\.([0-9])/,q=n.lang,N=B&&B.time||k;B=B&&B.numberFormatter||d;const ne=[];for(;Y&&(C=Y.indexOf(U),C!==-1);){var K=Y.slice(0,C);if(T){if(K=K.split(":"),U=j(K.shift()||"",I),K.length&&typeof U=="number")if(K=K.join(":"),P.test(K)){const L=parseInt((K.match(G)||["","-1"])[1],10);U!==null&&(U=B(U,L,q.decimalPoint,-1<K.indexOf(",")?q.thousandsSep:""))}else U=N.dateFormat(K,U);ne.push(U)}else ne.push(K);Y=Y.slice(C+1),U=(T=!T)?"}":"{"}return ne.push(Y),ne.join("")},numberFormat:d}}),i(a,"Core/Renderer/RendererUtilities.js",[a["Core/Utilities.js"]],function(o){const{clamp:u,pick:d,stableSort:n}=o;var k;return function(j){function Z(z,H,Y){const I=z;var B=I.reducedLen||H,U=(N,ne)=>(ne.rank||0)-(N.rank||0);const T=(N,ne)=>N.target-ne.target;let C,P=!0,G=[],q=0;for(C=z.length;C--;)q+=z[C].size;if(q>B){for(n(z,U),q=C=0;q<=B;)q+=z[C].size,C++;G=z.splice(C-1,z.length)}for(n(z,T),z=z.map(N=>({size:N.size,targets:[N.target],align:d(N.align,.5)}));P;){for(C=z.length;C--;)B=z[C],U=(Math.min.apply(0,B.targets)+Math.max.apply(0,B.targets))/2,B.pos=u(U-B.size*B.align,0,H-B.size);for(C=z.length,P=!1;C--;)0<C&&z[C-1].pos+z[C-1].size>z[C].pos&&(z[C-1].size+=z[C].size,z[C-1].targets=z[C-1].targets.concat(z[C].targets),z[C-1].align=.5,z[C-1].pos+z[C-1].size>H&&(z[C-1].pos=H-z[C-1].size),z.splice(C,1),P=!0)}return I.push.apply(I,G),C=0,z.some(N=>{let ne=0;return(N.targets||[]).some(()=>(I[C].pos=N.pos+ne,typeof Y<"u"&&Math.abs(I[C].pos-I[C].target)>Y?(I.slice(0,C+1).forEach(K=>delete K.pos),I.reducedLen=(I.reducedLen||H)-.1*H,I.reducedLen>.1*H&&Z(I,H,Y),!0):(ne+=I[C].size,C++,!1)))}),n(I,T),I}j.distribute=Z}(k||(k={})),k}),i(a,"Core/Renderer/SVG/SVGElement.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(o,u,d,n){const{animate:k,animObject:j,stop:Z}=o,{deg2rad:z,doc:H,svg:Y,SVG_NS:I,win:B}=d,{addEvent:U,attr:T,createElement:C,css:P,defined:G,erase:q,extend:N,fireEvent:ne,isArray:K,isFunction:L,isObject:E,isString:w,merge:g,objectEach:A,pick:m,pInt:y,syncTimeout:x,uniqueKey:M}=n;class X{constructor(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=I}_defaultGetter(ee){return ee=m(this[ee+"Value"],this[ee],this.element?this.element.getAttribute(ee):null,0),/^[\-0-9\.]+$/.test(ee)&&(ee=parseFloat(ee)),ee}_defaultSetter(ee,he,ye){ye.setAttribute(he,ee)}add(ee){const he=this.renderer,ye=this.element;let Ce;return ee&&(this.parentGroup=ee),typeof this.textStr<"u"&&this.element.nodeName==="text"&&he.buildText(this),this.added=!0,(!ee||ee.handleZ||this.zIndex)&&(Ce=this.zIndexSetter()),Ce||(ee?ee.element:he.box).appendChild(ye),this.onAdd&&this.onAdd(),this}addClass(ee,he){const ye=he?"":this.attr("class")||"";return ee=(ee||"").split(/ /g).reduce(function(Ce,oe){return ye.indexOf(oe)===-1&&Ce.push(oe),Ce},ye?[ye]:[]).join(" "),ee!==ye&&this.attr("class",ee),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(ee,he,ye){const Ce={};var oe=this.renderer,de=oe.alignedObjects,fe;let ue,pe;ee?(this.alignOptions=ee,this.alignByTranslate=he,(!ye||w(ye))&&(this.alignTo=fe=ye||"renderer",q(de,this),de.push(this),ye=void 0)):(ee=this.alignOptions,he=this.alignByTranslate,fe=this.alignTo),ye=m(ye,oe[fe],fe==="scrollablePlotBox"?oe.plotBox:void 0,oe),fe=ee.align;const te=ee.verticalAlign;return oe=(ye.x||0)+(ee.x||0),de=(ye.y||0)+(ee.y||0),fe==="right"?ue=1:fe==="center"&&(ue=2),ue&&(oe+=(ye.width-(ee.width||0))/ue),Ce[he?"translateX":"x"]=Math.round(oe),te==="bottom"?pe=1:te==="middle"&&(pe=2),pe&&(de+=(ye.height-(ee.height||0))/pe),Ce[he?"translateY":"y"]=Math.round(de),this[this.placed?"animate":"attr"](Ce),this.placed=!0,this.alignAttr=Ce,this}alignSetter(ee){const he={left:"start",center:"middle",right:"end"};he[ee]&&(this.alignValue=ee,this.element.setAttribute("text-anchor",he[ee]))}animate(ee,he,ye){const Ce=j(m(he,this.renderer.globalAnimation,!0));return he=Ce.defer,H.hidden&&(Ce.duration=0),Ce.duration!==0?(ye&&(Ce.complete=ye),x(()=>{this.element&&k(this,ee,Ce)},he)):(this.attr(ee,void 0,ye||Ce.complete),A(ee,function(oe,de){Ce.step&&Ce.step.call(this,oe,{prop:de,pos:1,elem:this})},this)),this}applyTextOutline(ee){const he=this.element;ee.indexOf("contrast")!==-1&&(ee=ee.replace(/contrast/g,this.renderer.getContrast(he.style.fill)));var ye=ee.split(" ");if(ee=ye[ye.length-1],(ye=ye[0])&&ye!=="none"&&d.svg){this.fakeTS=!0,ye=ye.replace(/(^[\d\.]+)(.*?)$/g,function(de,fe,ue){return 2*Number(fe)+ue}),this.removeTextOutline();const Ce=H.createElementNS(I,"tspan");T(Ce,{class:"highcharts-text-outline",fill:ee,stroke:ee,"stroke-width":ye,"stroke-linejoin":"round"}),ee=he.querySelector("textPath")||he,[].forEach.call(ee.childNodes,de=>{const fe=de.cloneNode(!0);fe.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(ue=>fe.removeAttribute(ue)),Ce.appendChild(fe)});let oe=0;[].forEach.call(ee.querySelectorAll("text tspan"),de=>{oe+=Number(de.getAttribute("dy"))}),ye=H.createElementNS(I,"tspan"),ye.textContent="​",T(ye,{x:Number(he.getAttribute("x")),dy:-oe}),Ce.appendChild(ye),ee.insertBefore(Ce,ee.firstChild)}}attr(ee,he,ye,Ce){const oe=this.element,de=X.symbolCustomAttribs;let fe,ue,pe=this,te,ge;return typeof ee=="string"&&typeof he<"u"&&(fe=ee,ee={},ee[fe]=he),typeof ee=="string"?pe=(this[ee+"Getter"]||this._defaultGetter).call(this,ee,oe):(A(ee,function(xe,ce){te=!1,Ce||Z(this,ce),this.symbolName&&de.indexOf(ce)!==-1&&(ue||(this.symbolAttr(ee),ue=!0),te=!0),!this.rotation||ce!=="x"&&ce!=="y"||(this.doTransform=!0),te||(ge=this[ce+"Setter"]||this._defaultSetter,ge.call(this,xe,ce,oe))},this),this.afterSetters()),ye&&ye.call(this),pe}clip(ee){return this.attr("clip-path",ee?"url("+this.renderer.url+"#"+ee.id+")":"none")}crisp(ee,he){he=he||ee.strokeWidth||0;const ye=Math.round(he)%2/2;return ee.x=Math.floor(ee.x||this.x||0)+ye,ee.y=Math.floor(ee.y||this.y||0)+ye,ee.width=Math.floor((ee.width||this.width||0)-2*ye),ee.height=Math.floor((ee.height||this.height||0)-2*ye),G(ee.strokeWidth)&&(ee.strokeWidth=he),ee}complexColor(ee,he,ye){const Ce=this.renderer;let oe,de,fe,ue,pe,te,ge,xe,ce,we,Ae=[],Fe;ne(this.renderer,"complexColor",{args:arguments},function(){if(ee.radialGradient?de="radialGradient":ee.linearGradient&&(de="linearGradient"),de){if(fe=ee[de],pe=Ce.gradients,te=ee.stops,ce=ye.radialReference,K(fe)&&(ee[de]=fe={x1:fe[0],y1:fe[1],x2:fe[2],y2:fe[3],gradientUnits:"userSpaceOnUse"}),de==="radialGradient"&&ce&&!G(fe.gradientUnits)&&(ue=fe,fe=g(fe,Ce.getRadialAttr(ce,ue),{gradientUnits:"userSpaceOnUse"})),A(fe,function(De,Ge){Ge!=="id"&&Ae.push(Ge,De)}),A(te,function(De){Ae.push(De)}),Ae=Ae.join(","),pe[Ae])we=pe[Ae].attr("id");else{fe.id=we=M();const De=pe[Ae]=Ce.createElement(de).attr(fe).add(Ce.defs);De.radAttr=ue,De.stops=[],te.forEach(function(Ge){Ge[1].indexOf("rgba")===0?(oe=u.parse(Ge[1]),ge=oe.get("rgb"),xe=oe.get("a")):(ge=Ge[1],xe=1),Ge=Ce.createElement("stop").attr({offset:Ge[0],"stop-color":ge,"stop-opacity":xe}).add(De),De.stops.push(Ge)})}Fe="url("+Ce.url+"#"+we+")",ye.setAttribute(he,Fe),ye.gradient=Ae,ee.toString=function(){return Fe}}})}css(ee){const he=this.styles,ye={},Ce=this.element;let oe,de=!he;if(ee.color&&(ee.fill=ee.color),he&&A(ee,function(fe,ue){he&&he[ue]!==fe&&(ye[ue]=fe,de=!0)}),de){he&&(ee=N(he,ye)),ee.width===null||ee.width==="auto"?delete this.textWidth:Ce.nodeName.toLowerCase()==="text"&&ee.width&&(oe=this.textWidth=y(ee.width)),this.styles=ee,oe&&!Y&&this.renderer.forExport&&delete ee.width;const fe=g(ee);Ce.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach(ue=>fe&&delete fe[ue]),P(Ce,fe)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),ee.textOutline&&this.applyTextOutline(ee.textOutline)),this}dashstyleSetter(ee){let he=this["stroke-width"];if(he==="inherit"&&(he=1),ee=ee&&ee.toLowerCase()){const ye=ee.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(ee=ye.length;ee--;)ye[ee]=""+y(ye[ee])*m(he,NaN);ee=ye.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",ee)}}destroy(){const ee=this;var he=ee.element||{};const ye=ee.renderer;var Ce=he.ownerSVGElement;let oe=he.nodeName==="SPAN"&&ee.parentGroup||void 0;if(he.onclick=he.onmouseout=he.onmouseover=he.onmousemove=he.point=null,Z(ee),ee.clipPath&&Ce){const de=ee.clipPath;[].forEach.call(Ce.querySelectorAll("[clip-path],[CLIP-PATH]"),function(fe){-1<fe.getAttribute("clip-path").indexOf(de.element.id)&&fe.removeAttribute("clip-path")}),ee.clipPath=de.destroy()}if(ee.stops){for(Ce=0;Ce<ee.stops.length;Ce++)ee.stops[Ce].destroy();ee.stops.length=0,ee.stops=void 0}for(ee.safeRemoveChild(he);oe&&oe.div&&oe.div.childNodes.length===0;)he=oe.parentGroup,ee.safeRemoveChild(oe.div),delete oe.div,oe=he;ee.alignTo&&q(ye.alignedObjects,ee),A(ee,function(de,fe){ee[fe]&&ee[fe].parentGroup===ee&&ee[fe].destroy&&ee[fe].destroy(),delete ee[fe]})}dSetter(ee,he,ye){K(ee)&&(typeof ee[0]=="string"&&(ee=this.renderer.pathToSegments(ee)),this.pathArray=ee,ee=ee.reduce((Ce,oe,de)=>oe&&oe.join?(de?Ce+" ":"")+oe.join(" "):(oe||"").toString(),"")),/(NaN| {2}|^$)/.test(ee)&&(ee="M 0 0"),this[he]!==ee&&(ye.setAttribute(he,ee),this[he]=ee)}fadeOut(ee){const he=this;he.animate({opacity:0},{duration:m(ee,150),complete:function(){he.hide()}})}fillSetter(ee,he,ye){typeof ee=="string"?ye.setAttribute(he,ee):ee&&this.complexColor(ee,he,ye)}getBBox(ee,he){const{alignValue:ye,element:Ce,renderer:oe,styles:de,textStr:fe}=this,{cache:ue,cacheKeys:pe}=oe;var te=Ce.namespaceURI===this.SVG_NS;he=m(he,this.rotation,0);var ge=oe.styledMode?Ce&&X.prototype.getStyle.call(Ce,"font-size"):de&&de.fontSize;let xe,ce;if(G(fe)&&(ce=fe.toString(),ce.indexOf("<")===-1&&(ce=ce.replace(/[0-9]/g,"0")),ce+=["",oe.rootFontSize,ge,he,this.textWidth,ye,de&&de.textOverflow,de&&de.fontWeight].join()),ce&&!ee&&(xe=ue[ce]),!xe){if(te||oe.forExport){try{var we=this.fakeTS&&function(ct){const ot=Ce.querySelector(".highcharts-text-outline");ot&&P(ot,{display:ct})};L(we)&&we("none"),xe=Ce.getBBox?N({},Ce.getBBox()):{width:Ce.offsetWidth,height:Ce.offsetHeight,x:0,y:0},L(we)&&we("")}catch{}(!xe||0>xe.width)&&(xe={x:0,y:0,width:0,height:0})}else xe=this.htmlGetBBox();if(we=xe.width,ee=xe.height,te&&(xe.height=ee={"11px,17":14,"13px,20":16}[`${ge||""},${Math.round(ee)}`]||ee),he){te=Number(Ce.getAttribute("y")||0)-xe.y,ge={right:1,center:.5}[ye||0]||0;var Ae=he*z,Fe=(he-90)*z,De=we*Math.cos(Ae);he=we*Math.sin(Ae);var Ge=Math.cos(Fe);Ae=Math.sin(Fe),we=xe.x+ge*(we-De)+te*Ge,Fe=we+De,Ge=Fe-ee*Ge,De=Ge-De,te=xe.y+te-ge*he+te*Ae,ge=te+he,ee=ge-ee*Ae,he=ee-he,xe.x=Math.min(we,Fe,Ge,De),xe.y=Math.min(te,ge,ee,he),xe.width=Math.max(we,Fe,Ge,De)-xe.x,xe.height=Math.max(te,ge,ee,he)-xe.y}}if(ce&&(fe===""||0<xe.height)){for(;250<pe.length;)delete ue[pe.shift()];ue[ce]||pe.push(ce),ue[ce]=xe}return xe}getStyle(ee){return B.getComputedStyle(this.element||this,"").getPropertyValue(ee)}hasClass(ee){return(""+this.attr("class")).split(" ").indexOf(ee)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}init(ee,he){this.element=he==="span"?C(he):H.createElementNS(this.SVG_NS,he),this.renderer=ee,ne(this,"afterInit")}on(ee,he){const{onEvents:ye}=this;return ye[ee]&&ye[ee](),ye[ee]=U(this.element,ee,he),this}opacitySetter(ee,he,ye){this.opacity=ee=Number(Number(ee).toFixed(3)),ye.setAttribute(he,ee)}removeClass(ee){return this.attr("class",(""+this.attr("class")).replace(w(ee)?new RegExp(`(^| )${ee}( |$)`):ee," ").replace(/ +/g," ").trim())}removeTextOutline(){const ee=this.element.querySelector("tspan.highcharts-text-outline");ee&&this.safeRemoveChild(ee)}safeRemoveChild(ee){const he=ee.parentNode;he&&he.removeChild(ee)}setRadialReference(ee){const he=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=ee,he&&he.radAttr&&he.animate(this.renderer.getRadialAttr(ee,he.radAttr)),this}setTextPath(ee,he){he=g(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},he);const ye=this.renderer.url,Ce=this.text||this,oe=Ce.textPath,{attributes:de,enabled:fe}=he;return ee=ee||oe&&oe.path,oe&&oe.undo(),ee&&fe?(he=U(Ce,"afterModifyTree",ue=>{if(ee&&fe){let te=ee.attr("id");te||ee.attr("id",te=M());var pe={x:0,y:0};G(de.dx)&&(pe.dx=de.dx,delete de.dx),G(de.dy)&&(pe.dy=de.dy,delete de.dy),Ce.attr(pe),this.attr({transform:""}),this.box&&(this.box=this.box.destroy()),pe=ue.nodes.slice(0),ue.nodes.length=0,ue.nodes[0]={tagName:"textPath",attributes:N(de,{"text-anchor":de.textAnchor,href:`${ye}#${te}`}),children:pe}}}),Ce.textPath={path:ee,undo:he}):(Ce.attr({dx:0,dy:0}),delete Ce.textPath),this.added&&(Ce.textCache="",this.renderer.buildText(Ce)),this}shadow(ee){var he;const{renderer:ye}=this,Ce=g(((he=this.parentGroup)===null||he===void 0?void 0:he.rotation)===90?{offsetX:-1,offsetY:-1}:{},E(ee)?ee:{});return he=ye.shadowDefinition(Ce),this.attr({filter:ee?`url(${ye.url}#${he})`:"none"})}show(ee=!0){return this.attr({visibility:ee?"inherit":"visible"})}"stroke-widthSetter"(ee,he,ye){this[he]=ee,ye.setAttribute(he,ee)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;const ee=this.getStyle("stroke-width");let he=0,ye;return ee.indexOf("px")===ee.length-2?he=y(ee):ee!==""&&(ye=H.createElementNS(I,"rect"),T(ye,{width:ee,"stroke-width":0}),this.element.parentNode.appendChild(ye),he=ye.getBBox().width,ye.parentNode.removeChild(ye)),he}symbolAttr(ee){const he=this;X.symbolCustomAttribs.forEach(function(ye){he[ye]=m(ee[ye],he[ye])}),he.attr({d:he.renderer.symbols[he.symbolName](he.x,he.y,he.width,he.height,he)})}textSetter(ee){ee!==this.textStr&&(delete this.textPxLength,this.textStr=ee,this.added&&this.renderer.buildText(this))}titleSetter(ee){const he=this.element,ye=he.getElementsByTagName("title")[0]||H.createElementNS(this.SVG_NS,"title");he.insertBefore?he.insertBefore(ye,he.firstChild):he.appendChild(ye),ye.textContent=String(m(ee,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){const ee=this.element;return ee.parentNode.appendChild(ee),this}translate(ee,he){return this.attr({translateX:ee,translateY:he})}updateTransform(){const{element:ee,matrix:he,rotation:ye=0,scaleX:Ce,scaleY:oe,translateX:de=0,translateY:fe=0}=this,ue=["translate("+de+","+fe+")"];G(he)&&ue.push("matrix("+he.join(",")+")"),ye&&ue.push("rotate("+ye+" "+m(this.rotationOriginX,ee.getAttribute("x"),0)+" "+m(this.rotationOriginY,ee.getAttribute("y")||0)+")"),(G(Ce)||G(oe))&&ue.push("scale("+m(Ce,1)+" "+m(oe,1)+")"),ue.length&&!(this.text||this).textPath&&ee.setAttribute("transform",ue.join(" "))}visibilitySetter(ee,he,ye){ee==="inherit"?ye.removeAttribute(he):this[he]!==ee&&ye.setAttribute(he,ee),this[he]=ee}xGetter(ee){return this.element.nodeName==="circle"&&(ee==="x"?ee="cx":ee==="y"&&(ee="cy")),this._defaultGetter(ee)}zIndexSetter(ee,he){var ye=this.renderer,Ce=this.parentGroup;const oe=(Ce||ye).element||ye.box,de=this.element;ye=oe===ye.box;let fe=!1,ue;var pe=this.added;let te;if(G(ee)?(de.setAttribute("data-z-index",ee),ee=+ee,this[he]===ee&&(pe=!1)):G(this[he])&&de.removeAttribute("data-z-index"),this[he]=ee,pe){for((ee=this.zIndex)&&Ce&&(Ce.handleZ=!0),he=oe.childNodes,te=he.length-1;0<=te&&!fe;te--)Ce=he[te],pe=Ce.getAttribute("data-z-index"),ue=!G(pe),Ce!==de&&(0>ee&&ue&&!ye&&!te?(oe.insertBefore(de,he[te]),fe=!0):(y(pe)<=ee||ue&&(!G(ee)||0<=ee))&&(oe.insertBefore(de,he[te+1]),fe=!0));fe||(oe.insertBefore(de,he[ye?3:0]),fe=!0)}return fe}}return X.symbolCustomAttribs="anchorX anchorY clockwise end height innerR r start width x y".split(" "),X.prototype.strokeSetter=X.prototype.fillSetter,X.prototype.yGetter=X.prototype.xGetter,X.prototype.matrixSetter=X.prototype.rotationOriginXSetter=X.prototype.rotationOriginYSetter=X.prototype.rotationSetter=X.prototype.scaleXSetter=X.prototype.scaleYSetter=X.prototype.translateXSetter=X.prototype.translateYSetter=X.prototype.verticalAlignSetter=function(re,ee){this[ee]=re,this.doTransform=!0},X}),i(a,"Core/Renderer/RendererRegistry.js",[a["Core/Globals.js"]],function(o){var u;return function(d){d.rendererTypes={};let n;d.getRendererType=function(k=n){return d.rendererTypes[k]||d.rendererTypes[n]},d.registerRendererType=function(k,j,Z){d.rendererTypes[k]=j,(!n||Z)&&(n=k,o.Renderer=j)}}(u||(u={})),u}),i(a,"Core/Renderer/SVG/SVGLabel.js",[a["Core/Renderer/SVG/SVGElement.js"],a["Core/Utilities.js"]],function(o,u){const{defined:d,extend:n,isNumber:k,merge:j,pick:Z,removeEvent:z}=u;class H extends o{constructor(I,B,U,T,C,P,G,q,N,ne){super(),this.paddingRightSetter=this.paddingLeftSetter=this.paddingSetter,this.init(I,"g"),this.textStr=B,this.x=U,this.y=T,this.anchorX=P,this.anchorY=G,this.baseline=N,this.className=ne,this.addClass(ne==="button"?"highcharts-no-tooltip":"highcharts-label"),ne&&this.addClass("highcharts-"+ne),this.text=I.text(void 0,0,0,q).attr({zIndex:1});let K;typeof C=="string"&&((K=/^url\((.*?)\)$/.test(C))||this.renderer.symbols[C])&&(this.symbolKey=C),this.bBox=H.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=I.styledMode||K,this.deferredAttr={},this.alignFactor=0}alignSetter(I){I={left:0,center:.5,right:1}[I],I!==this.alignFactor&&(this.alignFactor=I,this.bBox&&k(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(I,B){this.anchorX=I,this.boxAttr(B,Math.round(I)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(I,B){this.anchorY=I,this.boxAttr(B,I-this.ySetting)}boxAttr(I,B){this.box?this.box.attr(I,B):this.deferredAttr[I]=B}css(I){if(I){const B={};I=j(I),H.textProps.forEach(U=>{typeof I[U]<"u"&&(B[U]=I[U],delete I[U])}),this.text.css(B),"fontSize"in B||"fontWeight"in B?this.updateTextPadding():("width"in B||"textOverflow"in B)&&this.updateBoxSize()}return o.prototype.css.call(this,I)}destroy(){z(this.element,"mouseenter"),z(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),o.prototype.destroy.call(this)}fillSetter(I,B){I&&(this.needsBox=!0),this.fill=I,this.boxAttr(B,I)}getBBox(){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();const I=this.padding,B=Z(this.paddingLeft,I);return{width:this.width,height:this.height,x:this.bBox.x-B,y:this.bBox.y-I}}getCrispAdjust(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(I){this.heightSetting=I}onAdd(){this.text.add(this),this.attr({text:Z(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&d(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(I,B){k(I)?I!==this[B]&&(this[B]=I,this.updateTextPadding()):this[B]=void 0}rSetter(I,B){this.boxAttr(B,I)}strokeSetter(I,B){this.stroke=I,this.boxAttr(B,I)}"stroke-widthSetter"(I,B){I&&(this.needsBox=!0),this["stroke-width"]=I,this.boxAttr(B,I)}"text-alignSetter"(I){this.textAlign=I}textSetter(I){typeof I<"u"&&this.text.attr({text:I}),this.updateTextPadding()}updateBoxSize(){var I=this.text;const B={},U=this.padding,T=this.bBox=k(this.widthSetting)&&k(this.heightSetting)&&!this.textAlign||!d(I.textStr)?H.emptyBBox:I.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||T.height||0)+2*U;const C=this.renderer.fontMetrics(I);this.baselineOffset=U+Math.min((this.text.firstLineMetrics||C).b,T.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-C.h)/2),this.needsBox&&!I.textPath&&(this.box||(I=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect(),I.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),I.add(this)),I=this.getCrispAdjust(),B.x=I,B.y=(this.baseline?-this.baselineOffset:0)+I,B.width=Math.round(this.width),B.height=Math.round(this.height),this.box.attr(n(B,this.deferredAttr)),this.deferredAttr={})}updateTextPadding(){const I=this.text;if(!I.textPath){this.updateBoxSize();const B=this.baseline?0:this.baselineOffset;let U=Z(this.paddingLeft,this.padding);d(this.widthSetting)&&this.bBox&&(this.textAlign==="center"||this.textAlign==="right")&&(U+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(U!==I.x||B!==I.y)&&(I.attr("x",U),I.hasBoxWidthChanged&&(this.bBox=I.getBBox(!0)),typeof B<"u"&&I.attr("y",B)),I.x=U,I.y=B}}widthSetter(I){this.widthSetting=k(I)?I:void 0}getPaddedWidth(){var I=this.padding;const B=Z(this.paddingLeft,I);return I=Z(this.paddingRight,I),(this.widthSetting||this.bBox.width||0)+B+I}xSetter(I){this.x=I,this.alignFactor&&(I-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(I),this.attr("translateX",this.xSetting)}ySetter(I){this.ySetting=this.y=Math.round(I),this.attr("translateY",this.ySetting)}}return H.emptyBBox={width:0,height:0,x:0,y:0},H.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow whiteSpace width".split(" "),H}),i(a,"Core/Renderer/SVG/Symbols.js",[a["Core/Utilities.js"]],function(o){function u(z,H,Y,I,B){const U=[];if(B){const T=B.start||0,C=Z(B.r,Y);Y=Z(B.r,I||Y),I=(B.end||0)-.001;const P=B.innerR,G=Z(B.open,.001>Math.abs((B.end||0)-T-2*Math.PI)),q=Math.cos(T),N=Math.sin(T),ne=Math.cos(I),K=Math.sin(I),L=Z(B.longArc,.001>I-T-Math.PI?0:1);let E=["A",C,Y,0,L,Z(B.clockwise,1),z+C*ne,H+Y*K];E.params={start:T,end:I,cx:z,cy:H},U.push(["M",z+C*q,H+Y*N],E),k(P)&&(E=["A",P,P,0,L,k(B.clockwise)?1-B.clockwise:0,z+P*q,H+P*N],E.params={start:I,end:T,cx:z,cy:H},U.push(G?["M",z+P*ne,H+P*K]:["L",z+P*ne,H+P*K],E)),G||U.push(["Z"])}return U}function d(z,H,Y,I,B){return B&&B.r?n(z,H,Y,I,B):[["M",z,H],["L",z+Y,H],["L",z+Y,H+I],["L",z,H+I],["Z"]]}function n(z,H,Y,I,B){return B=(B==null?void 0:B.r)||0,[["M",z+B,H],["L",z+Y-B,H],["A",B,B,0,0,1,z+Y,H+B],["L",z+Y,H+I-B],["A",B,B,0,0,1,z+Y-B,H+I],["L",z+B,H+I],["A",B,B,0,0,1,z,H+I-B],["L",z,H+B],["A",B,B,0,0,1,z+B,H],["Z"]]}const{defined:k,isNumber:j,pick:Z}=o;return{arc:u,callout:function(z,H,Y,I,B){const U=Math.min(B&&B.r||0,Y,I),T=U+6,C=B&&B.anchorX;B=B&&B.anchorY||0;const P=n(z,H,Y,I,{r:U});return j(C)&&(z+C>=Y?B>H+T&&B<H+I-T?P.splice(3,1,["L",z+Y,B-6],["L",z+Y+6,B],["L",z+Y,B+6],["L",z+Y,H+I-U]):P.splice(3,1,["L",z+Y,I/2],["L",C,B],["L",z+Y,I/2],["L",z+Y,H+I-U]):0>=z+C?B>H+T&&B<H+I-T?P.splice(7,1,["L",z,B+6],["L",z-6,B],["L",z,B-6],["L",z,H+U]):P.splice(7,1,["L",z,I/2],["L",C,B],["L",z,I/2],["L",z,H+U]):B&&B>I&&C>z+T&&C<z+Y-T?P.splice(5,1,["L",C+6,H+I],["L",C,H+I+6],["L",C-6,H+I],["L",z+U,H+I]):B&&0>B&&C>z+T&&C<z+Y-T&&P.splice(1,1,["L",C-6,H],["L",C,H-6],["L",C+6,H],["L",Y-U,H])),P},circle:function(z,H,Y,I){return u(z+Y/2,H+I/2,Y/2,I/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(z,H,Y,I){return[["M",z+Y/2,H],["L",z+Y,H+I/2],["L",z+Y/2,H+I],["L",z,H+I/2],["Z"]]},rect:d,roundedRect:n,square:d,triangle:function(z,H,Y,I){return[["M",z+Y/2,H],["L",z+Y,H+I],["L",z,H+I],["Z"]]},"triangle-down":function(z,H,Y,I){return[["M",z,H],["L",z+Y,H],["L",z+Y/2,H+I],["Z"]]}}}),i(a,"Core/Renderer/SVG/TextBuilder.js",[a["Core/Renderer/HTML/AST.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(o,u,d){const{doc:n,SVG_NS:k,win:j}=u,{attr:Z,extend:z,fireEvent:H,isString:Y,objectEach:I,pick:B}=d;class U{constructor(C){const P=C.styles;this.renderer=C.renderer,this.svgElement=C,this.width=C.textWidth,this.textLineHeight=P&&P.lineHeight,this.textOutline=P&&P.textOutline,this.ellipsis=!(!P||P.textOverflow!=="ellipsis"),this.noWrap=!(!P||P.whiteSpace!=="nowrap")}buildSVG(){const C=this.svgElement,P=C.element;var G=C.renderer,q=B(C.textStr,"").toString();const N=q.indexOf("<")!==-1,ne=P.childNodes;G=!C.added&&G.box;const K=/<br.*?>/g;var L=[q,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,C.getStyle("font-size"),this.width].join();if(L!==C.textCache){for(C.textCache=L,delete C.actualWidth,L=ne.length;L--;)P.removeChild(ne[L]);N||this.ellipsis||this.width||C.textPath||q.indexOf(" ")!==-1&&(!this.noWrap||K.test(q))?q!==""&&(G&&G.appendChild(P),q=new o(q),this.modifyTree(q.nodes),q.addToDOM(P),this.modifyDOM(),this.ellipsis&&(P.textContent||"").indexOf("…")!==-1&&C.attr("title",this.unescapeEntities(C.textStr||"",["&lt;","&gt;"])),G&&G.removeChild(P)):P.appendChild(n.createTextNode(this.unescapeEntities(q))),Y(this.textOutline)&&C.applyTextOutline&&C.applyTextOutline(this.textOutline)}}modifyDOM(){const C=this.svgElement,P=Z(C.element,"x");C.firstLineMetrics=void 0;let G;for(;(G=C.element.firstChild)&&/^[\s\u200B]*$/.test(G.textContent||" ");)C.element.removeChild(G);[].forEach.call(C.element.querySelectorAll("tspan.highcharts-br"),(K,L)=>{K.nextSibling&&K.previousSibling&&(L===0&&K.previousSibling.nodeType===1&&(C.firstLineMetrics=C.renderer.fontMetrics(K.previousSibling)),Z(K,{dy:this.getLineHeight(K.nextSibling),x:P}))});const q=this.width||0;if(q){var N=(K,L)=>{var E=K.textContent||"";const w=E.replace(/([^\^])-/g,"$1- ").split(" ");var g=!this.noWrap&&(1<w.length||1<C.element.childNodes.length);const A=this.getLineHeight(L);let m=0,y=C.actualWidth;if(this.ellipsis)E&&this.truncate(K,E,void 0,0,Math.max(0,q-.8*A),(x,M)=>x.substring(0,M)+"…");else if(g){for(E=[],g=[];L.firstChild&&L.firstChild!==K;)g.push(L.firstChild),L.removeChild(L.firstChild);for(;w.length;)w.length&&!this.noWrap&&0<m&&(E.push(K.textContent||""),K.textContent=w.join(" ").replace(/- /g,"-")),this.truncate(K,void 0,w,m===0&&y||0,q,(x,M)=>w.slice(0,M).join(" ").replace(/- /g,"-")),y=C.actualWidth,m++;g.forEach(x=>{L.insertBefore(x,K)}),E.forEach(x=>{L.insertBefore(n.createTextNode(x),K),x=n.createElementNS(k,"tspan"),x.textContent="​",Z(x,{dy:A,x:P}),L.insertBefore(x,K)})}},ne=K=>{[].slice.call(K.childNodes).forEach(L=>{L.nodeType===j.Node.TEXT_NODE?N(L,K):(L.className.baseVal.indexOf("highcharts-br")!==-1&&(C.actualWidth=0),ne(L))})};ne(C.element)}}getLineHeight(C){return C=C.nodeType===j.Node.TEXT_NODE?C.parentElement:C,this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(C||this.svgElement.element).h}modifyTree(C){const P=(G,q)=>{const{attributes:N={},children:ne,style:K={},tagName:L}=G,E=this.renderer.styledMode;L==="b"||L==="strong"?E?N.class="highcharts-strong":K.fontWeight="bold":(L==="i"||L==="em")&&(E?N.class="highcharts-emphasized":K.fontStyle="italic"),K&&K.color&&(K.fill=K.color),L==="br"?(N.class="highcharts-br",G.textContent="​",(q=C[q+1])&&q.textContent&&(q.textContent=q.textContent.replace(/^ +/gm,""))):L==="a"&&ne&&ne.some(w=>w.tagName==="#text")&&(G.children=[{children:ne,tagName:"tspan"}]),L!=="#text"&&L!=="a"&&(G.tagName="tspan"),z(G,{attributes:N,style:K}),ne&&ne.filter(w=>w.tagName!=="#text").forEach(P)};C.forEach(P),H(this.svgElement,"afterModifyTree",{nodes:C})}truncate(C,P,G,q,N,ne){const K=this.svgElement,{rotation:L}=K,E=[];let w=G?1:0,g=(P||G||"").length,A=g,m,y;const x=function(M,X){if(M=X||M,(X=C.parentNode)&&typeof E[M]>"u"&&X.getSubStringLength)try{E[M]=q+X.getSubStringLength(0,G?M+1:M)}catch{}return E[M]};if(K.rotation=0,y=x(C.textContent.length),q+y>N){for(;w<=g;)A=Math.ceil((w+g)/2),G&&(m=ne(G,A)),y=x(A,m&&m.length-1),w===g?w=g+1:y>N?g=A-1:w=A;g===0?C.textContent="":P&&g===P.length-1||(C.textContent=m||ne(P||G,A))}G&&G.splice(0,A),K.actualWidth=y,K.rotation=L}unescapeEntities(C,P){return I(this.renderer.escapes,function(G,q){P&&P.indexOf(G)!==-1||(C=C.toString().replace(new RegExp(G,"g"),q))}),C}}return U}),i(a,"Core/Renderer/SVG/SVGRenderer.js",[a["Core/Renderer/HTML/AST.js"],a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Renderer/RendererRegistry.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Renderer/SVG/SVGLabel.js"],a["Core/Renderer/SVG/Symbols.js"],a["Core/Renderer/SVG/TextBuilder.js"],a["Core/Utilities.js"]],function(o,u,d,n,k,j,Z,z,H){const{charts:Y,deg2rad:I,doc:B,isFirefox:U,isMS:T,isWebKit:C,noop:P,SVG_NS:G,symbolSizes:q,win:N}=d,{addEvent:ne,attr:K,createElement:L,css:E,defined:w,destroyObjectProperties:g,extend:A,isArray:m,isNumber:y,isObject:x,isString:M,merge:X,pick:re,pInt:ee,uniqueKey:he}=H;let ye;class Ce{constructor(de,fe,ue,pe,te,ge,xe){this.width=this.url=this.style=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(de,fe,ue,pe,te,ge,xe)}init(de,fe,ue,pe,te,ge,xe){const ce=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),we=ce.element;xe||ce.css(this.getStyle(pe)),de.appendChild(we),K(de,"dir","ltr"),de.innerHTML.indexOf("xmlns")===-1&&K(we,"xmlns",this.SVG_NS),this.box=we,this.boxWrapper=ce,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(B.createTextNode("Created with Highcharts 11.0.1")),this.defs=this.createElement("defs").add(),this.allowHTML=ge,this.forExport=te,this.styledMode=xe,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=ce.getStyle("font-size"),this.setSize(fe,ue,!1);let Ae;U&&de.getBoundingClientRect&&(fe=function(){E(de,{left:0,top:0}),Ae=de.getBoundingClientRect(),E(de,{left:Math.ceil(Ae.left)-Ae.left+"px",top:Math.ceil(Ae.top)-Ae.top+"px"})},fe(),this.unSubPixelFix=ne(N,"resize",fe))}definition(de){return new o([de]).addToDOM(this.defs.element)}getReferenceURL(){if((U||C)&&B.getElementsByTagName("base").length){if(!w(ye)){var de=he();de=new o([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:de},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${de})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(B.body),E(de,{position:"fixed",top:0,left:0,zIndex:9e5});const fe=B.elementFromPoint(6,6);ye=(fe&&fe.id)==="hitme",B.body.removeChild(de)}if(ye)return N.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""}getStyle(de){return this.style=A({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},de)}setStyle(de){this.boxWrapper.css(this.getStyle(de))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){const de=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),g(this.gradients||{}),this.gradients=null,this.defs=de.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null}createElement(de){const fe=new this.Element;return fe.init(this,de),fe}getRadialAttr(de,fe){return{cx:de[0]-de[2]/2+(fe.cx||0)*de[2],cy:de[1]-de[2]/2+(fe.cy||0)*de[2],r:(fe.r||0)*de[2]}}shadowDefinition(de){const fe=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(de).map(pe=>de[pe])].join("-").replace(/[^a-z0-9\-]/g,""),ue=X({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},de);return this.defs.element.querySelector(`#${fe}`)||this.definition({tagName:"filter",attributes:{id:fe},children:[{tagName:"feDropShadow",attributes:{dx:ue.offsetX,dy:ue.offsetY,"flood-color":ue.color,"flood-opacity":Math.min(5*ue.opacity,1),stdDeviation:ue.width/2}}]}),fe}buildText(de){new z(de).buildSVG()}getContrast(de){return de=u.parse(de).rgba.map(fe=>(fe/=255,.03928>=fe?fe/12.92:Math.pow((fe+.055)/1.055,2.4))),de=.2126*de[0]+.7152*de[1]+.0722*de[2],1.05/(de+.05)>(de+.05)/.05?"#FFFFFF":"#000000"}button(de,fe,ue,pe,te={},ge,xe,ce,we,Ae){const Fe=this.label(de,fe,ue,we,void 0,void 0,Ae,void 0,"button"),De=this.styledMode;de=te.states||{};let Ge=0;te=X(te),delete te.states;const ct=X({color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},te.style);delete te.style;let ot=o.filterUserAttributes(te);Fe.attr(X({padding:8,r:2},ot));let Qe,Ie,Ue;return De||(ot=X({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},ot),ge=X(ot,{fill:"#e6e6e6"},o.filterUserAttributes(ge||de.hover||{})),Qe=ge.style,delete ge.style,xe=X(ot,{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},o.filterUserAttributes(xe||de.select||{})),Ie=xe.style,delete xe.style,ce=X(ot,{style:{color:"#cccccc"}},o.filterUserAttributes(ce||de.disabled||{})),Ue=ce.style,delete ce.style),ne(Fe.element,T?"mouseover":"mouseenter",function(){Ge!==3&&Fe.setState(1)}),ne(Fe.element,T?"mouseout":"mouseleave",function(){Ge!==3&&Fe.setState(Ge)}),Fe.setState=function(He){He!==1&&(Fe.state=Ge=He),Fe.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][He||0]),De||(Fe.attr([ot,ge,xe,ce][He||0]),He=[ct,Qe,Ie,Ue][He||0],x(He)&&Fe.css(He))},De||(Fe.attr(ot).css(A({cursor:"default"},ct)),Ae&&Fe.text.css({pointerEvents:"none"})),Fe.on("touchstart",He=>He.stopPropagation()).on("click",function(He){Ge!==3&&pe.call(Fe,He)})}crispLine(de,fe,ue="round"){const pe=de[0],te=de[1];return w(pe[1])&&pe[1]===te[1]&&(pe[1]=te[1]=Math[ue](pe[1])-fe%2/2),w(pe[2])&&pe[2]===te[2]&&(pe[2]=te[2]=Math[ue](pe[2])+fe%2/2),de}path(de){const fe=this.styledMode?{}:{fill:"none"};return m(de)?fe.d=de:x(de)&&A(fe,de),this.createElement("path").attr(fe)}circle(de,fe,ue){return de=x(de)?de:typeof de>"u"?{}:{x:de,y:fe,r:ue},fe=this.createElement("circle"),fe.xSetter=fe.ySetter=function(pe,te,ge){ge.setAttribute("c"+te,pe)},fe.attr(de)}arc(de,fe,ue,pe,te,ge){return x(de)?(pe=de,fe=pe.y,ue=pe.r,de=pe.x):pe={innerR:pe,start:te,end:ge},de=this.symbol("arc",de,fe,ue,ue,pe),de.r=ue,de}rect(de,fe,ue,pe,te,ge){de=x(de)?de:typeof de>"u"?{}:{x:de,y:fe,r:te,width:Math.max(ue||0,0),height:Math.max(pe||0,0)};const xe=this.createElement("rect");return this.styledMode||(typeof ge<"u"&&(de["stroke-width"]=ge,A(de,xe.crisp(de))),de.fill="none"),xe.rSetter=function(ce,we,Ae){xe.r=ce,K(Ae,{rx:ce,ry:ce})},xe.rGetter=function(){return xe.r||0},xe.attr(de)}roundedRect(de){return this.symbol("roundedRect").attr(de)}setSize(de,fe,ue){this.width=de,this.height=fe,this.boxWrapper.animate({width:de,height:fe},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:re(ue,!0)?void 0:0}),this.alignElements()}g(de){const fe=this.createElement("g");return de?fe.attr({class:"highcharts-"+de}):fe}image(de,fe,ue,pe,te,ge){const xe={preserveAspectRatio:"none"},ce=function(Ae,Fe){Ae.setAttributeNS?Ae.setAttributeNS("http://www.w3.org/1999/xlink","href",Fe):Ae.setAttribute("hc-svg-href",Fe)};y(fe)&&(xe.x=fe),y(ue)&&(xe.y=ue),y(pe)&&(xe.width=pe),y(te)&&(xe.height=te);const we=this.createElement("image").attr(xe);return fe=function(Ae){ce(we.element,de),ge.call(we,Ae)},ge?(ce(we.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),ue=new N.Image,ne(ue,"load",fe),ue.src=de,ue.complete&&fe({})):ce(we.element,de),we}symbol(de,fe,ue,pe,te,ge){const xe=this,ce=/^url\((.*?)\)$/,we=ce.test(de),Ae=!we&&(this.symbols[de]?de:"circle"),Fe=Ae&&this.symbols[Ae];let De,Ge,ct,ot;if(Fe)typeof fe=="number"&&(Ge=Fe.call(this.symbols,Math.round(fe||0),Math.round(ue||0),pe||0,te||0,ge)),De=this.path(Ge),xe.styledMode||De.attr("fill","none"),A(De,{symbolName:Ae||void 0,x:fe,y:ue,width:pe,height:te}),ge&&A(De,ge);else if(we){ct=de.match(ce)[1];const Qe=De=this.image(ct);Qe.imgwidth=re(ge&&ge.width,q[ct]&&q[ct].width),Qe.imgheight=re(ge&&ge.height,q[ct]&&q[ct].height),ot=Ie=>Ie.attr({width:Ie.width,height:Ie.height}),["width","height"].forEach(function(Ie){Qe[Ie+"Setter"]=function(Ue,He){this[He]=Ue;const{alignByTranslate:it,element:Je,width:st,height:ht,imgwidth:Ke,imgheight:At}=this;if(Ue=this["img"+He],w(Ue)){let Et=1;ge&&ge.backgroundSize==="within"&&st&&ht?(Et=Math.min(st/Ke,ht/At),K(Je,{width:Math.round(Ke*Et),height:Math.round(At*Et)})):Je&&Je.setAttribute(He,Ue),it||this.translate(((st||0)-Ke*Et)/2,((ht||0)-At*Et)/2)}}}),w(fe)&&Qe.attr({x:fe,y:ue}),Qe.isImg=!0,w(Qe.imgwidth)&&w(Qe.imgheight)?ot(Qe):(Qe.attr({width:0,height:0}),L("img",{onload:function(){const Ie=Y[xe.chartIndex];this.width===0&&(E(this,{position:"absolute",top:"-999em"}),B.body.appendChild(this)),q[ct]={width:this.width,height:this.height},Qe.imgwidth=this.width,Qe.imgheight=this.height,Qe.element&&ot(Qe),this.parentNode&&this.parentNode.removeChild(this),xe.imgCount--,!xe.imgCount&&Ie&&!Ie.hasLoaded&&Ie.onload()},src:ct}),this.imgCount++)}return De}clipRect(de,fe,ue,pe){const te=he()+"-",ge=this.createElement("clipPath").attr({id:te}).add(this.defs);return de=this.rect(de,fe,ue,pe,0).add(ge),de.id=te,de.clipPath=ge,de.count=0,de}text(de,fe,ue,pe){const te={};return pe&&(this.allowHTML||!this.forExport)?this.html(de,fe,ue):(te.x=Math.round(fe||0),ue&&(te.y=Math.round(ue)),w(de)&&(te.text=de),de=this.createElement("text").attr(te),(!pe||this.forExport&&!this.allowHTML)&&(de.xSetter=function(ge,xe,ce){const we=ce.getElementsByTagName("tspan"),Ae=ce.getAttribute(xe);for(let Fe=0,De;Fe<we.length;Fe++)De=we[Fe],De.getAttribute(xe)===Ae&&De.setAttribute(xe,ge);ce.setAttribute(xe,ge)}),de)}fontMetrics(de){de=ee(k.prototype.getStyle.call(de,"font-size")||0);const fe=24>de?de+3:Math.round(1.2*de);return{h:fe,b:Math.round(.8*fe),f:de}}rotCorr(de,fe,ue){let pe=de;return fe&&ue&&(pe=Math.max(pe*Math.cos(fe*I),4)),{x:-de/3*Math.sin(fe*I),y:pe}}pathToSegments(de){const fe=[],ue=[],pe={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let te=0;te<de.length;te++)M(ue[0])&&y(de[te])&&ue.length===pe[ue[0].toUpperCase()]&&de.splice(te,0,ue[0].replace("M","L").replace("m","l")),typeof de[te]=="string"&&(ue.length&&fe.push(ue.slice(0)),ue.length=0),ue.push(de[te]);return fe.push(ue.slice(0)),fe}label(de,fe,ue,pe,te,ge,xe,ce,we){return new j(this,de,fe,ue,pe,te,ge,xe,ce,we)}alignElements(){this.alignedObjects.forEach(de=>de.align())}}return A(Ce.prototype,{Element:k,SVG_NS:G,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Z,draw:P}),n.registerRendererType("svg",Ce,!0),Ce}),i(a,"Core/Renderer/HTML/HTMLElement.js",[a["Core/Globals.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Utilities.js"]],function(o,u,d){const{isFirefox:n,isMS:k,isWebKit:j,win:Z}=o,{css:z,defined:H,extend:Y,pick:I,pInt:B}=d,U=[];class T extends u{static compose(P){if(d.pushUnique(U,P)){const G=T.prototype,q=P.prototype;q.getSpanCorrection=G.getSpanCorrection,q.htmlCss=G.htmlCss,q.htmlGetBBox=G.htmlGetBBox,q.htmlUpdateTransform=G.htmlUpdateTransform,q.setSpanRotation=G.setSpanRotation}return P}getSpanCorrection(P,G,q){this.xCorr=-P*q,this.yCorr=-G}htmlCss(P){const G=this.element.tagName==="SPAN"&&P&&"width"in P,q=I(G&&P.width,void 0);let N;return G&&(delete P.width,this.textWidth=q,N=!0),P&&P.textOverflow==="ellipsis"&&(P.whiteSpace="nowrap",P.overflow="hidden"),this.styles=Y(this.styles,P),z(this.element,P),N&&this.htmlUpdateTransform(),this}htmlGetBBox(){const P=this.element;return{x:P.offsetLeft,y:P.offsetTop,width:P.offsetWidth,height:P.offsetHeight}}htmlUpdateTransform(){if(this.added){var P=this.renderer,G=this.element,q=this.x||0,N=this.y||0,ne=this.textAlign||"left",K={left:0,center:.5,right:1}[ne],L=this.styles,E=L&&L.whiteSpace;if(z(G,{marginLeft:this.translateX||0,marginTop:this.translateY||0}),G.tagName==="SPAN"){L=this.rotation;const g=this.textWidth&&B(this.textWidth),A=[L,ne,G.innerHTML,this.textWidth,this.textAlign].join();let m=!1;if(g!==this.oldTextWidth){if(this.textPxLength)var w=this.textPxLength;else z(G,{width:"",whiteSpace:E||"nowrap"}),w=G.offsetWidth;(g>this.oldTextWidth||w>g)&&(/[ \-]/.test(G.textContent||G.innerText)||G.style.textOverflow==="ellipsis")&&(z(G,{width:w>g||L?g+"px":"auto",display:"block",whiteSpace:E||"normal"}),this.oldTextWidth=g,m=!0)}this.hasBoxWidthChanged=m,A!==this.cTT&&(P=P.fontMetrics(G).b,!H(L)||L===(this.oldRotation||0)&&ne===this.oldAlign||this.setSpanRotation(L,K,P),this.getSpanCorrection(!H(L)&&this.textPxLength||G.offsetWidth,P,K,L,ne)),z(G,{left:q+(this.xCorr||0)+"px",top:N+(this.yCorr||0)+"px"}),this.cTT=A,this.oldRotation=L,this.oldAlign=ne}}else this.alignOnAdd=!0}setSpanRotation(P,G,q){const N={},ne=k&&!/Edge/.test(Z.navigator.userAgent)?"-ms-transform":j?"-webkit-transform":n?"MozTransform":Z.opera?"-o-transform":void 0;ne&&(N[ne]=N.transform="rotate("+P+"deg)",N[ne+(n?"Origin":"-origin")]=N.transformOrigin=100*G+"% "+q+"px",z(this.element,N))}}return T}),i(a,"Core/Renderer/HTML/HTMLRenderer.js",[a["Core/Renderer/HTML/AST.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(o,u,d,n){const{attr:k,createElement:j,extend:Z,pick:z}=n,H=[];class Y extends d{static compose(B){return n.pushUnique(H,B)&&(B.prototype.html=Y.prototype.html),B}html(B,U,T){const C=this.createElement("span"),P=C.element,G=C.renderer,q=function(N,ne){["opacity","visibility"].forEach(function(K){N[K+"Setter"]=function(L,E,w){const g=N.div?N.div.style:ne;u.prototype[K+"Setter"].call(this,L,E,w),g&&(g[E]=L)}}),N.addedSetters=!0};return C.textSetter=function(N){N!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,o.setElementHTML(this.element,z(N,"")),this.textStr=N,C.doTransform=!0)},q(C,C.element.style),C.xSetter=C.ySetter=C.alignSetter=C.rotationSetter=function(N,ne){ne==="align"?C.alignValue=C.textAlign=N:C[ne]=N,C.doTransform=!0},C.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},C.attr({text:B,x:Math.round(U),y:Math.round(T)}).css({position:"absolute"}),G.styledMode||C.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),P.style.whiteSpace="nowrap",C.css=C.htmlCss,C.add=function(N){const ne=G.box.parentNode,K=[];let L;if(this.parentGroup=N){if(L=N.div,!L){for(;N;)K.push(N),N=N.parentGroup;K.reverse().forEach(function(E){function w(y,x){E[x]=y,x==="translateX"?m.left=y+"px":m.top=y+"px",E.doTransform=!0}const g=k(E.element,"class"),A=E.styles||{};L=E.div=E.div||j("div",g?{className:g}:void 0,{position:"absolute",left:(E.translateX||0)+"px",top:(E.translateY||0)+"px",display:E.display,opacity:E.opacity,visibility:E.visibility},L||ne);const m=L.style;Z(E,{classSetter:function(y){return function(x){this.element.setAttribute("class",x),y.className=x}}(L),css:function(y){return C.css.call(E,y),["cursor","pointerEvents"].forEach(x=>{y[x]&&(m[x]=y[x])}),E},on:function(){return K[0].div&&C.on.apply({element:K[0].div,onEvents:E.onEvents},arguments),E},translateXSetter:w,translateYSetter:w}),E.addedSetters||q(E),E.css(A)})}}else L=ne;return L.appendChild(P),C.added=!0,C.alignOnAdd&&C.htmlUpdateTransform(),C},C}}return Y}),i(a,"Core/Axis/AxisDefaults.js",[],function(){var o;return function(u){u.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},u.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){const{numberFormatter:d}=this.axis.chart;return d(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},u.defaultLeftAxisOptions={title:{rotation:270}},u.defaultRightAxisOptions={title:{rotation:90}},u.defaultBottomAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}},u.defaultTopAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}}}(o||(o={})),o}),i(a,"Core/Foundation.js",[a["Core/Utilities.js"]],function(o){const{addEvent:u,isFunction:d,objectEach:n,removeEvent:k}=o;var j;return function(Z){Z.registerEventOptions=function(z,H){z.eventOptions=z.eventOptions||{},n(H.events,function(Y,I){z.eventOptions[I]!==Y&&(z.eventOptions[I]&&(k(z,I,z.eventOptions[I]),delete z.eventOptions[I]),d(Y)&&(z.eventOptions[I]=Y,u(z,I,Y,{order:0})))})}}(j||(j={})),j}),i(a,"Core/Axis/Tick.js",[a["Core/FormatUtilities.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(o,u,d){const{deg2rad:n}=u,{clamp:k,correctFloat:j,defined:Z,destroyObjectProperties:z,extend:H,fireEvent:Y,isNumber:I,merge:B,objectEach:U,pick:T}=d;class C{constructor(G,q,N,ne,K){this.isNewLabel=this.isNew=!0,this.axis=G,this.pos=q,this.type=N||"",this.parameters=K||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,Y(this,"init"),N||ne||this.addLabel()}addLabel(){const G=this,q=G.axis;var N=q.options;const ne=q.chart;var K=q.categories;const L=q.logarithmic,E=q.names,w=G.pos,g=T(G.options&&G.options.labels,N.labels);var A=q.tickPositions;const m=w===A[0],y=w===A[A.length-1],x=(!g.step||g.step===1)&&q.tickInterval===1;A=A.info;let M=G.label,X,re,ee;K=this.parameters.category||(K?T(K[w],E[w],w):w),L&&I(K)&&(K=j(L.lin2log(K))),q.dateTime&&(A?(re=ne.time.resolveDTLFormat(N.dateTimeLabelFormats[!N.grid&&A.higherRanks[w]||A.unitName]),X=re.main):I(K)&&(X=q.dateTime.getXDateFormat(K,N.dateTimeLabelFormats||{}))),G.isFirst=m,G.isLast=y;const he={axis:q,chart:ne,dateTimeLabelFormat:X,isFirst:m,isLast:y,pos:w,tick:G,tickPositionInfo:A,value:K};Y(this,"labelFormat",he);const ye=oe=>g.formatter?g.formatter.call(oe,oe):g.format?(oe.text=q.defaultLabelFormatter.call(oe,oe),o.format(g.format,oe,ne)):q.defaultLabelFormatter.call(oe,oe);N=ye.call(he,he);const Ce=re&&re.list;G.shortenLabel=Ce?function(){for(ee=0;ee<Ce.length;ee++)if(H(he,{dateTimeLabelFormat:Ce[ee]}),M.attr({text:ye.call(he,he)}),M.getBBox().width<q.getSlotWidth(G)-2*g.padding)return;M.attr({text:""})}:void 0,x&&q._addedPlotLB&&G.moveLabel(N,g),Z(M)||G.movedLabel?M&&M.textStr!==N&&!x&&(!M.textWidth||g.style.width||M.styles.width||M.css({width:null}),M.attr({text:N}),M.textPxLength=M.getBBox().width):(G.label=M=G.createLabel({x:0,y:0},N,g),G.rotation=0)}createLabel(G,q,N){const ne=this.axis,K=ne.chart;return(G=Z(q)&&N.enabled?K.renderer.text(q,G.x,G.y,N.useHTML).add(ne.labelGroup):null)&&(K.styledMode||G.css(B(N.style)),G.textPxLength=G.getBBox().width),G}destroy(){z(this,this.axis)}getPosition(G,q,N,ne){const K=this.axis,L=K.chart,E=ne&&L.oldChartHeight||L.chartHeight;return G={x:G?j(K.translate(q+N,void 0,void 0,ne)+K.transB):K.left+K.offset+(K.opposite?(ne&&L.oldChartWidth||L.chartWidth)-K.right-K.left:0),y:G?E-K.bottom+K.offset-(K.opposite?K.height:0):j(E-K.translate(q+N,void 0,void 0,ne)-K.transB)},G.y=k(G.y,-1e5,1e5),Y(this,"afterGetPosition",{pos:G}),G}getLabelPosition(G,q,N,ne,K,L,E,w){const g=this.axis,A=g.transA,m=g.isLinked&&g.linkedParent?g.linkedParent.reversed:g.reversed,y=g.staggerLines,x=g.tickRotCorr||{x:0,y:0},M=ne||g.reserveSpaceDefault?0:-g.labelOffset*(g.labelAlign==="center"?.5:1),X=K.distance,re={};return N=g.side===0?N.rotation?-X:-N.getBBox().height:g.side===2?x.y+X:Math.cos(N.rotation*n)*(x.y-N.getBBox(!1,0).height/2),Z(K.y)&&(N=g.side===0&&g.horiz?K.y+N:K.y),G=G+T(K.x,[0,1,0,-1][g.side]*X)+M+x.x-(L&&ne?L*A*(m?-1:1):0),q=q+N-(L&&!ne?L*A*(m?1:-1):0),y&&(ne=E/(w||1)%y,g.opposite&&(ne=y-ne-1),q+=g.labelOffset/y*ne),re.x=G,re.y=Math.round(q),Y(this,"afterGetLabelPosition",{pos:re,tickmarkOffset:L,index:E}),re}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(G,q,N,ne,K,L){return L.crispLine([["M",G,q],["L",G+(K?0:-N),q+(K?N:0)]],ne)}handleOverflow(G){const q=this.axis,N=q.options.labels,ne=G.x;var K=q.chart.chartWidth,L=q.chart.spacing;const E=T(q.labelLeft,Math.min(q.pos,L[3]));L=T(q.labelRight,Math.max(q.isRadial?0:q.pos+q.len,K-L[1]));const w=this.label,g=this.rotation,A={left:0,center:.5,right:1}[q.labelAlign||w.attr("align")],m=w.getBBox().width,y=q.getSlotWidth(this),x={};let M=y,X=1,re;g||N.overflow!=="justify"?0>g&&ne-A*m<E?re=Math.round(ne/Math.cos(g*n)-E):0<g&&ne+A*m>L&&(re=Math.round((K-ne)/Math.cos(g*n))):(K=ne+(1-A)*m,ne-A*m<E?M=G.x+M*(1-A)-E:K>L&&(M=L-G.x+M*A,X=-1),M=Math.min(y,M),M<y&&q.labelAlign==="center"&&(G.x+=X*(y-M-A*(y-Math.min(m,M)))),(m>M||q.autoRotation&&(w.styles||{}).width)&&(re=M)),re&&(this.shortenLabel?this.shortenLabel():(x.width=Math.floor(re)+"px",(N.style||{}).textOverflow||(x.textOverflow="ellipsis"),w.css(x)))}moveLabel(G,q){const N=this;var ne=N.label;const K=N.axis;let L=!1;ne&&ne.textStr===G?(N.movedLabel=ne,L=!0,delete N.label):U(K.ticks,function(E){L||E.isNew||E===N||!E.label||E.label.textStr!==G||(N.movedLabel=E.label,L=!0,E.labelPos=N.movedLabel.xy,delete E.label)}),L||!N.labelPos&&!ne||(ne=N.labelPos||ne.xy,N.movedLabel=N.createLabel(ne,G,q),N.movedLabel&&N.movedLabel.attr({opacity:0}))}render(G,q,N){var ne=this.axis,K=ne.horiz,L=this.pos,E=T(this.tickmarkOffset,ne.tickmarkOffset);L=this.getPosition(K,L,E,q),E=L.x;const w=L.y;ne=K&&E===ne.pos+ne.len||!K&&w===ne.pos?-1:1,K=T(N,this.label&&this.label.newOpacity,1),N=T(N,1),this.isActive=!0,this.renderGridLine(q,N,ne),this.renderMark(L,N,ne),this.renderLabel(L,q,K,G),this.isNew=!1,Y(this,"afterRender")}renderGridLine(G,q,N){const ne=this.axis,K=ne.options,L={},E=this.pos,w=this.type,g=T(this.tickmarkOffset,ne.tickmarkOffset),A=ne.chart.renderer;let m=this.gridLine,y=K.gridLineWidth,x=K.gridLineColor,M=K.gridLineDashStyle;this.type==="minor"&&(y=K.minorGridLineWidth,x=K.minorGridLineColor,M=K.minorGridLineDashStyle),m||(ne.chart.styledMode||(L.stroke=x,L["stroke-width"]=y||0,L.dashstyle=M),w||(L.zIndex=1),G&&(q=0),this.gridLine=m=A.path().attr(L).addClass("highcharts-"+(w?w+"-":"")+"grid-line").add(ne.gridGroup)),m&&(N=ne.getPlotLinePath({value:E+g,lineWidth:m.strokeWidth()*N,force:"pass",old:G,acrossPanes:!1}))&&m[G||this.isNew?"attr":"animate"]({d:N,opacity:q})}renderMark(G,q,N){const ne=this.axis;var K=ne.options;const L=ne.chart.renderer,E=this.type,w=ne.tickSize(E?E+"Tick":"tick"),g=G.x;G=G.y;const A=T(K[E!=="minor"?"tickWidth":"minorTickWidth"],!E&&ne.isXAxis?1:0);K=K[E!=="minor"?"tickColor":"minorTickColor"];let m=this.mark;const y=!m;w&&(ne.opposite&&(w[0]=-w[0]),m||(this.mark=m=L.path().addClass("highcharts-"+(E?E+"-":"")+"tick").add(ne.axisGroup),ne.chart.styledMode||m.attr({stroke:K,"stroke-width":A})),m[y?"attr":"animate"]({d:this.getMarkPath(g,G,w[0],m.strokeWidth()*N,ne.horiz,L),opacity:q}))}renderLabel(G,q,N,ne){var K=this.axis;const L=K.horiz,E=K.options,w=this.label,g=E.labels,A=g.step;K=T(this.tickmarkOffset,K.tickmarkOffset);const m=G.x;G=G.y;let y=!0;w&&I(m)&&(w.xy=G=this.getLabelPosition(m,G,w,L,g,K,ne,A),this.isFirst&&!this.isLast&&!E.showFirstLabel||this.isLast&&!this.isFirst&&!E.showLastLabel?y=!1:!L||g.step||g.rotation||q||N===0||this.handleOverflow(G),A&&ne%A&&(y=!1),y&&I(G.y)?(G.opacity=N,w[this.isNewLabel?"attr":"animate"](G).show(!0),this.isNewLabel=!1):(w.hide(),this.isNewLabel=!0))}replaceMovedLabel(){const G=this.label,q=this.axis;G&&!this.isNew&&(G.animate({opacity:0},void 0,G.destroy),delete this.label),q.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}return C}),i(a,"Core/Axis/Axis.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Axis/AxisDefaults.js"],a["Core/Color/Color.js"],a["Core/Defaults.js"],a["Core/Foundation.js"],a["Core/Globals.js"],a["Core/Axis/Tick.js"],a["Core/Utilities.js"]],function(o,u,d,n,k,j,Z,z){const{animObject:H}=o,{defaultOptions:Y}=n,{registerEventOptions:I}=k,{deg2rad:B}=j,{arrayMax:U,arrayMin:T,clamp:C,correctFloat:P,defined:G,destroyObjectProperties:q,erase:N,error:ne,extend:K,fireEvent:L,isArray:E,isNumber:w,isString:g,merge:A,normalizeTickInterval:m,objectEach:y,pick:x,relativeLength:M,removeEvent:X,splat:re,syncTimeout:ee}=z,he=(Ce,oe)=>m(oe,void 0,void 0,x(Ce.options.allowDecimals,.5>oe||Ce.tickAmount!==void 0),!!Ce.tickAmount);class ye{constructor(oe,de){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(oe,de)}init(oe,de){const fe=de.isX;this.chart=oe,this.horiz=oe.inverted&&!this.isZAxis?!fe:fe,this.isXAxis=fe,this.coll=this.coll||(fe?"xAxis":"yAxis"),L(this,"init",{userOptions:de}),this.opposite=x(de.opposite,this.opposite),this.side=x(de.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(de);const ue=this.options,pe=ue.labels,te=ue.type;this.userOptions=de,this.minPixelPadding=0,this.reversed=x(ue.reversed,this.reversed),this.visible=ue.visible,this.zoomEnabled=ue.zoomEnabled,this.hasNames=te==="category"||ue.categories===!0,this.categories=ue.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=G(ue.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=ue.minRange||ue.maxZoom,this.range=ue.range,this.offset=ue.offset||0,this.min=this.max=null,de=x(ue.crosshair,re(oe.options.tooltip.crosshairs)[fe?0:1]),this.crosshair=de===!0?{}:de,oe.axes.indexOf(this)===-1&&(fe?oe.axes.splice(oe.xAxis.length,0,this):oe.axes.push(this),oe[this.coll].push(this)),this.series=this.series||[],oe.inverted&&!this.isZAxis&&fe&&typeof this.reversed>"u"&&(this.reversed=!0),this.labelRotation=w(pe.rotation)?pe.rotation:void 0,I(this,ue),L(this,"afterInit")}setOptions(oe){this.options=A(u.defaultXAxisOptions,this.coll==="yAxis"&&u.defaultYAxisOptions,[u.defaultTopAxisOptions,u.defaultRightAxisOptions,u.defaultBottomAxisOptions,u.defaultLeftAxisOptions][this.side],A(Y[this.coll],oe)),L(this,"afterSetOptions",{userOptions:oe})}defaultLabelFormatter(oe){var de=this.axis;({numberFormatter:oe}=this.chart);const fe=w(this.value)?this.value:NaN,ue=de.chart.time,pe=this.dateTimeLabelFormat;var te=Y.lang;const ge=te.numericSymbols;te=te.numericSymbolMagnitude||1e3;const xe=de.logarithmic?Math.abs(fe):de.tickInterval;let ce=ge&&ge.length,we;if(de.categories)we=`${this.value}`;else if(pe)we=ue.dateFormat(pe,fe);else if(ce&&1e3<=xe)for(;ce--&&typeof we>"u";)de=Math.pow(te,ce+1),xe>=de&&10*fe%de===0&&ge[ce]!==null&&fe!==0&&(we=oe(fe/de,-1)+ge[ce]);return typeof we>"u"&&(we=1e4<=Math.abs(fe)?oe(fe,-1):oe(fe,-1,void 0,"")),we}getSeriesExtremes(){const oe=this,de=oe.chart;let fe;L(this,"getSeriesExtremes",null,function(){oe.hasVisibleSeries=!1,oe.dataMin=oe.dataMax=oe.threshold=null,oe.softThreshold=!oe.isXAxis,oe.series.forEach(function(ue){if(ue.visible||!de.options.chart.ignoreHiddenSeries){var pe=ue.options;let te=pe.threshold,ge,xe;oe.hasVisibleSeries=!0,oe.positiveValuesOnly&&0>=te&&(te=null),oe.isXAxis?(pe=ue.xData)&&pe.length&&(pe=oe.logarithmic?pe.filter(ce=>0<ce):pe,fe=ue.getXExtremes(pe),ge=fe.min,xe=fe.max,w(ge)||ge instanceof Date||(pe=pe.filter(w),fe=ue.getXExtremes(pe),ge=fe.min,xe=fe.max),pe.length&&(oe.dataMin=Math.min(x(oe.dataMin,ge),ge),oe.dataMax=Math.max(x(oe.dataMax,xe),xe))):(ue=ue.applyExtremes(),w(ue.dataMin)&&(ge=ue.dataMin,oe.dataMin=Math.min(x(oe.dataMin,ge),ge)),w(ue.dataMax)&&(xe=ue.dataMax,oe.dataMax=Math.max(x(oe.dataMax,xe),xe)),G(te)&&(oe.threshold=te),(!pe.softThreshold||oe.positiveValuesOnly)&&(oe.softThreshold=!1))}})}),L(this,"afterGetSeriesExtremes")}translate(oe,de,fe,ue,pe,te){const ge=this.linkedParent||this,xe=ue&&ge.old?ge.old.min:ge.min;if(!w(xe))return NaN;const ce=ge.minPixelPadding;pe=(ge.isOrdinal||ge.brokenAxis&&ge.brokenAxis.hasBreaks||ge.logarithmic&&pe)&&ge.lin2val;let we=1,Ae=0;return ue=ue&&ge.old?ge.old.transA:ge.transA,ue||(ue=ge.transA),fe&&(we*=-1,Ae=ge.len),ge.reversed&&(we*=-1,Ae-=we*(ge.sector||ge.len)),de?(te=(oe*we+Ae-ce)/ue+xe,pe&&(te=ge.lin2val(te))):(pe&&(oe=ge.val2lin(oe)),oe=we*(oe-xe)*ue,te=(ge.isRadial?oe:P(oe))+Ae+we*ce+(w(te)?ue*te:0)),te}toPixels(oe,de){return this.translate(oe,!1,!this.horiz,void 0,!0)+(de?0:this.pos)}toValue(oe,de){return this.translate(oe-(de?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(oe){function de(He,it,Je){return Ge!=="pass"&&(He<it||He>Je)&&(Ge?He=C(He,it,Je):Ue=!0),He}const fe=this,ue=fe.chart,pe=fe.left,te=fe.top,ge=oe.old,xe=oe.value,ce=oe.lineWidth,we=ge&&ue.oldChartHeight||ue.chartHeight,Ae=ge&&ue.oldChartWidth||ue.chartWidth,Fe=fe.transB;let De=oe.translatedValue,Ge=oe.force,ct,ot,Qe,Ie,Ue;return oe={value:xe,lineWidth:ce,old:ge,force:Ge,acrossPanes:oe.acrossPanes,translatedValue:De},L(this,"getPlotLinePath",oe,function(He){De=x(De,fe.translate(xe,void 0,void 0,ge)),De=C(De,-1e5,1e5),ct=Qe=Math.round(De+Fe),ot=Ie=Math.round(we-De-Fe),w(De)?fe.horiz?(ot=te,Ie=we-fe.bottom,ct=Qe=de(ct,pe,pe+fe.width)):(ct=pe,Qe=Ae-fe.right,ot=Ie=de(ot,te,te+fe.height)):(Ue=!0,Ge=!1),He.path=Ue&&!Ge?null:ue.renderer.crispLine([["M",ct,ot],["L",Qe,Ie]],ce||1)}),oe.path}getLinearTickPositions(oe,de,fe){const ue=P(Math.floor(de/oe)*oe);fe=P(Math.ceil(fe/oe)*oe);const pe=[];let te,ge;if(P(ue+oe)===ue&&(ge=20),this.single)return[de];for(de=ue;de<=fe&&(pe.push(de),de=P(de+oe,ge),de!==te);)te=de;return pe}getMinorTickInterval(){const oe=this.options;return oe.minorTicks===!0?x(oe.minorTickInterval,"auto"):oe.minorTicks===!1?null:oe.minorTickInterval}getMinorTickPositions(){var oe=this.options;const de=this.tickPositions,fe=this.minorTickInterval;var ue=this.pointRangePadding||0;const pe=this.min-ue;ue=this.max+ue;const te=ue-pe;let ge=[];if(te&&te/fe<this.len/3){const xe=this.logarithmic;if(xe)this.paddedTicks.forEach(function(ce,we,Ae){we&&ge.push.apply(ge,xe.getLogTickPositions(fe,Ae[we-1],Ae[we],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")ge=ge.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(fe),pe,ue,oe.startOfWeek));else for(oe=pe+(de[0]-pe)%fe;oe<=ue&&oe!==ge[0];oe+=fe)ge.push(oe)}return ge.length!==0&&this.trimTicks(ge),ge}adjustForMinRange(){const oe=this.options,de=this.logarithmic;let fe=this.min;var ue=this.max;let pe,te=0,ge,xe,ce,we,Ae;if(this.isXAxis&&typeof this.minRange>"u"&&!de&&(G(oe.min)||G(oe.max)||G(oe.floor)||G(oe.ceiling)?this.minRange=null:(this.series.forEach(function(De){if(ce=De.xData,we=De.xIncrement?1:ce.length-1,1<ce.length)for(ge=we;0<ge;ge--)xe=ce[ge]-ce[ge-1],(!te||xe<te)&&(te=xe)}),this.minRange=Math.min(5*te,this.dataMax-this.dataMin))),ue-fe<this.minRange){pe=this.dataMax-this.dataMin>=this.minRange,Ae=this.minRange;var Fe=(Ae-ue+fe)/2;Fe=[fe-Fe,x(oe.min,fe-Fe)],pe&&(Fe[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),fe=U(Fe),ue=[fe+Ae,x(oe.max,fe+Ae)],pe&&(ue[2]=de?de.log2lin(this.dataMax):this.dataMax),ue=T(ue),ue-fe<Ae&&(Fe[0]=ue-Ae,Fe[1]=x(oe.min,ue-Ae),fe=U(Fe))}this.min=fe,this.max=ue}getClosest(){let oe;return this.categories?oe=1:this.series.forEach(function(de){const fe=de.closestPointRange,ue=de.visible||!de.chart.options.chart.ignoreHiddenSeries;!de.noSharedTooltip&&G(fe)&&ue&&(oe=G(oe)?Math.min(oe,fe):fe)}),oe}nameToX(oe){const de=E(this.options.categories),fe=de?this.categories:this.names;let ue=oe.options.x,pe;return oe.series.requireSorting=!1,G(ue)||(ue=this.options.uniqueNames&&fe?de?fe.indexOf(oe.name):x(fe.keys[oe.name],-1):oe.series.autoIncrement()),ue===-1?!de&&fe&&(pe=fe.length):pe=ue,typeof pe<"u"?(this.names[pe]=oe.name,this.names.keys[oe.name]=pe):oe.x&&(pe=oe.x),pe}updateNames(){const oe=this,de=this.names;0<de.length&&(Object.keys(de.keys).forEach(function(fe){delete de.keys[fe]}),de.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(fe){fe.xIncrement=null,(!fe.points||fe.isDirtyData)&&(oe.max=Math.max(oe.max,fe.xData.length-1),fe.processData(),fe.generatePoints()),fe.data.forEach(function(ue,pe){let te;ue&&ue.options&&typeof ue.name<"u"&&(te=oe.nameToX(ue),typeof te<"u"&&te!==ue.x&&(ue.x=te,fe.xData[pe]=te))})}))}setAxisTranslation(){const oe=this,de=oe.max-oe.min;var fe=oe.linkedParent;const ue=!!oe.categories,pe=oe.isXAxis;let te=oe.axisPointRange||0,ge,xe=0,ce=0,we=oe.transA;(pe||ue||te)&&(ge=oe.getClosest(),fe?(xe=fe.minPointOffset,ce=fe.pointRangePadding):oe.series.forEach(function(Ae){const Fe=ue?1:pe?x(Ae.options.pointRange,ge,0):oe.axisPointRange||0,De=Ae.options.pointPlacement;te=Math.max(te,Fe),(!oe.single||ue)&&(Ae=Ae.is("xrange")?!pe:pe,xe=Math.max(xe,Ae&&g(De)?0:Fe/2),ce=Math.max(ce,Ae&&De==="on"?0:Fe))}),fe=oe.ordinal&&oe.ordinal.slope&&ge?oe.ordinal.slope/ge:1,oe.minPointOffset=xe*=fe,oe.pointRangePadding=ce*=fe,oe.pointRange=Math.min(te,oe.single&&ue?1:de),pe&&(oe.closestPointRange=ge)),oe.translationSlope=oe.transA=we=oe.staticScale||oe.len/(de+ce||1),oe.transB=oe.horiz?oe.left:oe.bottom,oe.minPixelPadding=we*xe,L(this,"afterSetAxisTranslation")}minFromRange(){return this.max-this.range}setTickInterval(oe){var de=this.chart;const fe=this.logarithmic,ue=this.options,pe=this.isXAxis,te=this.isLinked,ge=ue.tickPixelInterval,xe=this.categories,ce=this.softThreshold;let we=ue.maxPadding,Ae=ue.minPadding,Fe=w(ue.tickInterval)&&0<=ue.tickInterval?ue.tickInterval:void 0,De=w(this.threshold)?this.threshold:null,Ge,ct,ot;if(this.dateTime||xe||te||this.getTickAmount(),ct=x(this.userMin,ue.min),ot=x(this.userMax,ue.max),te){this.linkedParent=de[this.coll][ue.linkedTo];var Qe=this.linkedParent.getExtremes();this.min=x(Qe.min,Qe.dataMin),this.max=x(Qe.max,Qe.dataMax),ue.type!==this.linkedParent.options.type&&ne(11,1,de)}else ce&&G(De)&&(this.dataMin>=De?(Qe=De,Ae=0):this.dataMax<=De&&(Ge=De,we=0)),this.min=x(ct,Qe,this.dataMin),this.max=x(ot,Ge,this.dataMax);if(fe&&(this.positiveValuesOnly&&!oe&&0>=Math.min(this.min,x(this.dataMin,this.min))&&ne(10,1,de),this.min=P(fe.log2lin(this.min),16),this.max=P(fe.log2lin(this.max),16)),this.range&&G(this.max)&&(this.userMin=this.min=ct=Math.max(this.dataMin,this.minFromRange()),this.userMax=ot=this.max,this.range=null),L(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(xe||this.axisPointRange||this.stacking&&this.stacking.usePercentage||te)&&G(this.min)&&G(this.max)&&(de=this.max-this.min)&&(!G(ct)&&Ae&&(this.min-=de*Ae),!G(ot)&&we&&(this.max+=de*we)),w(this.userMin)||(w(ue.softMin)&&ue.softMin<this.min&&(this.min=ct=ue.softMin),w(ue.floor)&&(this.min=Math.max(this.min,ue.floor))),w(this.userMax)||(w(ue.softMax)&&ue.softMax>this.max&&(this.max=ot=ue.softMax),w(ue.ceiling)&&(this.max=Math.min(this.max,ue.ceiling))),ce&&G(this.dataMin)&&(De=De||0,!G(ct)&&this.min<De&&this.dataMin>=De?this.min=this.options.minRange?Math.min(De,this.max-this.minRange):De:!G(ot)&&this.max>De&&this.dataMax<=De&&(this.max=this.options.minRange?Math.max(De,this.min+this.minRange):De)),w(this.min)&&w(this.max)&&!this.chart.polar&&this.min>this.max&&(G(this.options.min)?this.max=this.min:G(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||typeof this.min>"u"||typeof this.max>"u"?1:te&&this.linkedParent&&!Fe&&ge===this.linkedParent.options.tickPixelInterval?Fe=this.linkedParent.tickInterval:x(Fe,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,xe?1:(this.max-this.min)*ge/Math.max(this.len,ge)),pe&&!oe){const Ie=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(Ue){Ue.forceCrop=Ue.forceCropping&&Ue.forceCropping(),Ue.processData(Ie)}),L(this,"postProcessData",{hasExtremesChanged:Ie})}this.setAxisTranslation(),L(this,"initialAxisTranslation"),this.pointRange&&!Fe&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),oe=x(ue.minTickInterval,this.dateTime&&!this.series.some(Ie=>Ie.noSharedTooltip)?this.closestPointRange:0),!Fe&&this.tickInterval<oe&&(this.tickInterval=oe),this.dateTime||this.logarithmic||Fe||(this.tickInterval=he(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var oe=this.options;const de=oe.tickPositions,fe=oe.tickPositioner;var ue=this.getMinorTickInterval(),pe=this.hasVerticalPanning(),te=this.coll==="colorAxis";const ge=(te||!pe)&&oe.startOnTick;pe=(te||!pe)&&oe.endOnTick,te=[];let xe;if(this.tickmarkOffset=this.categories&&oe.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=ue==="auto"&&this.tickInterval?this.tickInterval/oe.minorTicksPerMajor:ue,this.single=this.min===this.max&&G(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||oe.allowDecimals!==!1),de)te=de.slice();else if(w(this.min)&&w(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)te=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,oe.units),this.min,this.max,oe.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)te=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(ue=oe=this.tickInterval;ue<=2*oe&&(te=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&te.length>this.tickAmount);)this.tickInterval=he(this,ue*=1.1);else te=[this.min,this.max],ne(19,!1,this.chart);te.length>this.len&&(te=[te[0],te[te.length-1]],te[0]===te[1]&&(te.length=1)),fe&&(this.tickPositions=te,(xe=fe.apply(this,[this.min,this.max]))&&(te=xe))}this.tickPositions=te,this.paddedTicks=te.slice(0),this.trimTicks(te,ge,pe),!this.isLinked&&w(this.min)&&w(this.max)&&(this.single&&2>te.length&&!this.categories&&!this.series.some(ce=>ce.is("heatmap")&&ce.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),de||xe||this.adjustTickAmount()),L(this,"afterSetTickPositions")}trimTicks(oe,de,fe){const ue=oe[0],pe=oe[oe.length-1],te=!this.isOrdinal&&this.minPointOffset||0;if(L(this,"trimTicks"),!this.isLinked){if(de&&ue!==-1/0)this.min=ue;else for(;this.min-te>oe[0];)oe.shift();if(fe)this.max=pe;else for(;this.max+te<oe[oe.length-1];)oe.pop();oe.length===0&&G(ue)&&!this.options.tickPositions&&oe.push((pe+ue)/2)}}alignToOthers(){const oe=this,de=[this],fe=oe.options,ue=this.coll==="yAxis"&&this.chart.options.chart.alignThresholds,pe=[];let te;if(oe.thresholdAlignment=void 0,(this.chart.options.chart.alignTicks!==!1&&fe.alignTicks||ue)&&fe.startOnTick!==!1&&fe.endOnTick!==!1&&!oe.logarithmic){const ge=ce=>{const{horiz:we,options:Ae}=ce;return[we?Ae.left:Ae.top,Ae.width,Ae.height,Ae.pane].join()},xe=ge(this);this.chart[this.coll].forEach(function(ce){const{series:we}=ce;we.length&&we.some(Ae=>Ae.visible)&&ce!==oe&&ge(ce)===xe&&(te=!0,de.push(ce))})}if(te&&ue){de.forEach(xe=>{xe=xe.getThresholdAlignment(oe),w(xe)&&pe.push(xe)});const ge=1<pe.length?pe.reduce((xe,ce)=>xe+ce,0)/pe.length:void 0;de.forEach(xe=>{xe.thresholdAlignment=ge})}return te}getThresholdAlignment(oe){if((!w(this.dataMin)||this!==oe&&this.series.some(de=>de.isDirty||de.isDirtyData))&&this.getSeriesExtremes(),w(this.threshold))return oe=C((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(oe=1-oe),oe}getTickAmount(){const oe=this.options,de=oe.tickPixelInterval;let fe=oe.tickAmount;!G(oe.tickInterval)&&!fe&&this.len<de&&!this.isRadial&&!this.logarithmic&&oe.startOnTick&&oe.endOnTick&&(fe=2),!fe&&this.alignToOthers()&&(fe=Math.ceil(this.len/de)+1),4>fe&&(this.finalTickAmt=fe,fe=5),this.tickAmount=fe}adjustTickAmount(){const oe=this,{finalTickAmt:de,max:fe,min:ue,options:pe,tickPositions:te,tickAmount:ge,thresholdAlignment:xe}=oe,ce=te&&te.length;var we=x(oe.threshold,oe.softThreshold?0:null),Ae=oe.tickInterval;let Fe;if(w(xe)&&(Fe=.5>xe?Math.ceil(xe*(ge-1)):Math.floor(xe*(ge-1)),pe.reversed&&(Fe=ge-1-Fe)),oe.hasData()&&w(ue)&&w(fe)){const De=()=>{oe.transA*=(ce-1)/(ge-1),oe.min=pe.startOnTick?te[0]:Math.min(ue,te[0]),oe.max=pe.endOnTick?te[te.length-1]:Math.max(fe,te[te.length-1])};if(w(Fe)&&w(oe.threshold)){for(;te[Fe]!==we||te.length!==ge||te[0]>ue||te[te.length-1]<fe;){for(te.length=0,te.push(oe.threshold);te.length<ge;)te[Fe]===void 0||te[Fe]>oe.threshold?te.unshift(P(te[0]-Ae)):te.push(P(te[te.length-1]+Ae));if(Ae>8*oe.tickInterval)break;Ae*=2}De()}else if(ce<ge){for(;te.length<ge;)te.length%2||ue===we?te.push(P(te[te.length-1]+Ae)):te.unshift(P(te[0]-Ae));De()}if(G(de)){for(Ae=we=te.length;Ae--;)(de===3&&Ae%2===1||2>=de&&0<Ae&&Ae<we-1)&&te.splice(Ae,1);oe.finalTickAmt=void 0}}}setScale(){let oe=!1,de=!1;this.series.forEach(function(ue){oe=oe||ue.isDirtyData||ue.isDirty,de=de||ue.xAxis&&ue.xAxis.isDirty||!1}),this.setAxisSize();const fe=this.len!==(this.old&&this.old.len);fe||oe||de||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&(this.stacking.resetStacks(),this.stacking.buildStacks()),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=fe||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),oe&&this.panningState&&(this.panningState.isDirty=!0),L(this,"afterSetScale")}setExtremes(oe,de,fe,ue,pe){const te=this,ge=te.chart;fe=x(fe,!0),te.series.forEach(function(xe){delete xe.kdTree}),pe=K(pe,{min:oe,max:de}),L(te,"setExtremes",pe,function(){te.userMin=oe,te.userMax=de,te.eventArgs=pe,fe&&ge.redraw(ue)})}zoom(oe,de){const fe=this,ue=this.dataMin,pe=this.dataMax,te=this.options,ge=Math.min(ue,x(te.min,ue)),xe=Math.max(pe,x(te.max,pe));return oe={newMin:oe,newMax:de},L(this,"zoom",oe,function(ce){let we=ce.newMin,Ae=ce.newMax;(we!==fe.min||Ae!==fe.max)&&(fe.allowZoomOutside||(G(ue)&&(we<ge&&(we=ge),we>xe&&(we=xe)),G(pe)&&(Ae<ge&&(Ae=ge),Ae>xe&&(Ae=xe))),fe.displayBtn=typeof we<"u"||typeof Ae<"u",fe.setExtremes(we,Ae,!1,void 0,{trigger:"zoom"})),ce.zoomed=!0}),oe.zoomed}setAxisSize(){const oe=this.chart;var de=this.options;const fe=de.offsets||[0,0,0,0],ue=this.horiz,pe=this.width=Math.round(M(x(de.width,oe.plotWidth-fe[3]+fe[1]),oe.plotWidth)),te=this.height=Math.round(M(x(de.height,oe.plotHeight-fe[0]+fe[2]),oe.plotHeight)),ge=this.top=Math.round(M(x(de.top,oe.plotTop+fe[0]),oe.plotHeight,oe.plotTop));de=this.left=Math.round(M(x(de.left,oe.plotLeft+fe[3]),oe.plotWidth,oe.plotLeft)),this.bottom=oe.chartHeight-te-ge,this.right=oe.chartWidth-pe-de,this.len=Math.max(ue?pe:te,0),this.pos=ue?de:ge}getExtremes(){const oe=this.logarithmic;return{min:oe?P(oe.lin2log(this.min)):this.min,max:oe?P(oe.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(oe){var de=this.logarithmic;const fe=de?de.lin2log(this.min):this.min;return de=de?de.lin2log(this.max):this.max,oe===null||oe===-1/0?oe=fe:oe===1/0?oe=de:fe>oe?oe=fe:de<oe&&(oe=de),this.translate(oe,0,1,0,1)}autoLabelAlign(oe){const de=(x(oe,0)-90*this.side+720)%360;return oe={align:"center"},L(this,"autoLabelAlign",oe,function(fe){15<de&&165>de?fe.align="right":195<de&&345>de&&(fe.align="left")}),oe.align}tickSize(oe){const de=this.options,fe=x(de[oe==="tick"?"tickWidth":"minorTickWidth"],oe==="tick"&&this.isXAxis&&!this.categories?1:0);let ue=de[oe==="tick"?"tickLength":"minorTickLength"],pe;return fe&&ue&&(de[oe+"Position"]==="inside"&&(ue=-ue),pe=[ue,fe]),oe={tickSize:pe},L(this,"afterTickSize",oe),oe.tickSize}labelMetrics(){const oe=this.chart.renderer;var de=this.ticks;return de=de[Object.keys(de)[0]]||{},this.chart.renderer.fontMetrics(de.label||de.movedLabel||oe.box)}unsquish(){const oe=this.options.labels;var de=this.horiz;const fe=this.tickInterval,ue=this.len/(((this.categories?1:0)+this.max-this.min)/fe),pe=oe.rotation,te=.75*this.labelMetrics().h,ge=Math.max(this.max-this.min,0),xe=function(De){let Ge=De/(ue||1);return Ge=1<Ge?Math.ceil(Ge):1,Ge*fe>ge&&De!==1/0&&ue!==1/0&&ge&&(Ge=Math.ceil(ge/fe)),P(Ge*fe)};let ce=fe,we,Ae=Number.MAX_VALUE,Fe;if(de){if(oe.staggerLines||(w(pe)?Fe=[pe]:ue<oe.autoRotationLimit&&(Fe=oe.autoRotation)),Fe){let De;for(const Ge of Fe)(Ge===pe||Ge&&-90<=Ge&&90>=Ge)&&(de=xe(Math.abs(te/Math.sin(B*Ge))),De=de+Math.abs(Ge/360),De<Ae&&(Ae=De,we=Ge,ce=de))}}else ce=xe(te);return this.autoRotation=Fe,this.labelRotation=x(we,w(pe)?pe:0),oe.step?fe:ce}getSlotWidth(oe){const de=this.chart,fe=this.horiz,ue=this.options.labels,pe=Math.max(this.tickPositions.length-(this.categories?0:1),1),te=de.margin[3];if(oe&&w(oe.slotWidth))return oe.slotWidth;if(fe&&2>ue.step)return ue.rotation?0:(this.staggerLines||1)*this.len/pe;if(!fe){if(oe=ue.style.width,oe!==void 0)return parseInt(String(oe),10);if(te)return te-de.spacing[3]}return .33*de.chartWidth}renderUnsquish(){const oe=this.chart,de=oe.renderer,fe=this.tickPositions,ue=this.ticks,pe=this.options.labels,te=pe.style,ge=this.horiz,xe=this.getSlotWidth();var ce=Math.max(1,Math.round(xe-2*pe.padding));const we={},Ae=this.labelMetrics(),Fe=te.textOverflow;let De,Ge,ct=0;if(g(pe.rotation)||(we.rotation=pe.rotation||0),fe.forEach(function(Qe){Qe=ue[Qe],Qe.movedLabel&&Qe.replaceMovedLabel(),Qe&&Qe.label&&Qe.label.textPxLength>ct&&(ct=Qe.label.textPxLength)}),this.maxLabelLength=ct,this.autoRotation)ct>ce&&ct>Ae.h?we.rotation=this.labelRotation:this.labelRotation=0;else if(xe&&(De=ce,!Fe))for(Ge="clip",ce=fe.length;!ge&&ce--;){var ot=fe[ce];(ot=ue[ot].label)&&(ot.styles&&ot.styles.textOverflow==="ellipsis"?ot.css({textOverflow:"clip"}):ot.textPxLength>xe&&ot.css({width:xe+"px"}),ot.getBBox().height>this.len/fe.length-(Ae.h-Ae.f)&&(ot.specificTextOverflow="ellipsis"))}we.rotation&&(De=ct>.5*oe.chartHeight?.33*oe.chartHeight:ct,Fe||(Ge="ellipsis")),(this.labelAlign=pe.align||this.autoLabelAlign(this.labelRotation))&&(we.align=this.labelAlign),fe.forEach(function(Qe){const Ie=(Qe=ue[Qe])&&Qe.label,Ue=te.width,He={};Ie&&(Ie.attr(we),Qe.shortenLabel?Qe.shortenLabel():De&&!Ue&&te.whiteSpace!=="nowrap"&&(De<Ie.textPxLength||Ie.element.tagName==="SPAN")?(He.width=De+"px",Fe||(He.textOverflow=Ie.specificTextOverflow||Ge),Ie.css(He)):Ie.styles&&Ie.styles.width&&!He.width&&!Ue&&Ie.css({width:null}),delete Ie.specificTextOverflow,Qe.rotation=we.rotation)},this),this.tickRotCorr=de.rotCorr(Ae.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(oe){return oe.hasData()})||this.options.showEmpty&&G(this.min)&&G(this.max)}addTitle(oe){const de=this.chart.renderer,fe=this.horiz,ue=this.opposite,pe=this.options.title,te=this.chart.styledMode;let ge;this.axisTitle||((ge=pe.textAlign)||(ge=(fe?{low:"left",middle:"center",high:"right"}:{low:ue?"right":"left",middle:"center",high:ue?"left":"right"})[pe.align]),this.axisTitle=de.text(pe.text||"",0,0,pe.useHTML).attr({zIndex:7,rotation:pe.rotation,align:ge}).addClass("highcharts-axis-title"),te||this.axisTitle.css(A(pe.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),te||pe.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[oe?"show":"hide"](oe)}generateTick(oe){const de=this.ticks;de[oe]?de[oe].addLabel():de[oe]=new Z(this,oe)}getOffset(){const oe=this,{chart:de,horiz:fe,options:ue,side:pe,ticks:te,tickPositions:ge,coll:xe,axisParent:ce}=oe,we=de.renderer,Ae=de.inverted&&!oe.isZAxis?[1,0,3,2][pe]:pe;var Fe=oe.hasData();const De=ue.title;var Ge=ue.labels;const ct=w(ue.crossing);var ot=de.axisOffset;const Qe=de.clipOffset,Ie=[-1,1,1,-1][pe],Ue=ue.className;let He,it=0,Je;var st=0;let ht=0;if(oe.showAxis=He=Fe||ue.showEmpty,oe.staggerLines=oe.horiz&&Ge.staggerLines||void 0,!oe.axisGroup){const Ke=(At,Et,Wt)=>we.g(At).attr({zIndex:Wt}).addClass(`highcharts-${xe.toLowerCase()}${Et} `+(this.isRadial?`highcharts-radial-axis${Et} `:"")+(Ue||"")).add(ce);oe.gridGroup=Ke("grid","-grid",ue.gridZIndex),oe.axisGroup=Ke("axis","",ue.zIndex),oe.labelGroup=Ke("axis-labels","-labels",Ge.zIndex)}Fe||oe.isLinked?(ge.forEach(function(Ke){oe.generateTick(Ke)}),oe.renderUnsquish(),oe.reserveSpaceDefault=pe===0||pe===2||{1:"left",3:"right"}[pe]===oe.labelAlign,x(Ge.reserveSpace,ct?!1:null,oe.labelAlign==="center"?!0:null,oe.reserveSpaceDefault)&&ge.forEach(function(Ke){ht=Math.max(te[Ke].getLabelSize(),ht)}),oe.staggerLines&&(ht*=oe.staggerLines),oe.labelOffset=ht*(oe.opposite?-1:1)):y(te,function(Ke,At){Ke.destroy(),delete te[At]}),De&&De.text&&De.enabled!==!1&&(oe.addTitle(He),He&&!ct&&De.reserveSpace!==!1&&(oe.titleOffset=it=oe.axisTitle.getBBox()[fe?"height":"width"],Je=De.offset,st=G(Je)?0:x(De.margin,fe?5:10))),oe.renderLine(),oe.offset=Ie*x(ue.offset,ot[pe]?ot[pe]+(ue.margin||0):0),oe.tickRotCorr=oe.tickRotCorr||{x:0,y:0},Fe=pe===0?-oe.labelMetrics().h:pe===2?oe.tickRotCorr.y:0,st=Math.abs(ht)+st,ht&&(st=st-Fe+Ie*(fe?x(Ge.y,oe.tickRotCorr.y+Ie*Ge.distance):x(Ge.x,Ie*Ge.distance))),oe.axisTitleMargin=x(Je,st),oe.getMaxLabelDimensions&&(oe.maxLabelDimensions=oe.getMaxLabelDimensions(te,ge)),xe!=="colorAxis"&&(Ge=this.tickSize("tick"),ot[pe]=Math.max(ot[pe],(oe.axisTitleMargin||0)+it+Ie*oe.offset,st,ge&&ge.length&&Ge?Ge[0]+Ie*oe.offset:0),ot=!oe.axisLine||ue.offset?0:2*Math.floor(oe.axisLine.strokeWidth()/2),Qe[Ae]=Math.max(Qe[Ae],ot)),L(this,"afterGetOffset")}getLinePath(oe){const de=this.chart,fe=this.opposite;var ue=this.offset;const pe=this.horiz,te=this.left+(fe?this.width:0)+ue;return ue=de.chartHeight-this.bottom-(fe?this.height:0)+ue,fe&&(oe*=-1),de.renderer.crispLine([["M",pe?this.left:te,pe?ue:this.top],["L",pe?de.chartWidth-this.right:te,pe?ue:de.chartHeight-this.bottom]],oe)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(oe){var de=this.horiz,fe=this.left;const ue=this.top;var pe=this.len;const te=this.options.title,ge=de?fe:ue,xe=this.opposite,ce=this.offset,we=te.x,Ae=te.y,Fe=this.chart.renderer.fontMetrics(oe);return oe=oe?Math.max(oe.getBBox(!1,0).height-Fe.h-1,0):0,pe={low:ge+(de?0:pe),middle:ge+pe/2,high:ge+(de?pe:0)}[te.align],fe=(de?ue+this.height:fe)+(de?1:-1)*(xe?-1:1)*(this.axisTitleMargin||0)+[-oe,oe,Fe.f,-oe][this.side],de={x:de?pe+we:fe+(xe?this.width:0)+ce+we,y:de?fe+Ae-(xe?this.height:0)+ce:pe+Ae},L(this,"afterGetTitlePosition",{titlePosition:de}),de}renderMinorTick(oe,de){const fe=this.minorTicks;fe[oe]||(fe[oe]=new Z(this,oe,"minor")),de&&fe[oe].isNew&&fe[oe].render(null,!0),fe[oe].render(null,!1,1)}renderTick(oe,de,fe){const ue=this.ticks;(!this.isLinked||oe>=this.min&&oe<=this.max||this.grid&&this.grid.isColumn)&&(ue[oe]||(ue[oe]=new Z(this,oe)),fe&&ue[oe].isNew&&ue[oe].render(de,!0,-1),ue[oe].render(de))}render(){const oe=this,de=oe.chart,fe=oe.logarithmic,ue=oe.options,pe=oe.isLinked,te=oe.tickPositions,ge=oe.axisTitle,xe=oe.ticks,ce=oe.minorTicks,we=oe.alternateBands,Ae=ue.stackLabels,Fe=ue.alternateGridColor,De=ue.crossing,Ge=oe.tickmarkOffset,ct=oe.axisLine,ot=oe.showAxis,Qe=H(de.renderer.globalAnimation);let Ie,Ue;if(oe.labelEdge.length=0,oe.overlap=!1,[xe,ce,we].forEach(function(He){y(He,function(it){it.isActive=!1})}),w(De)){const He=this.isXAxis?de.yAxis[0]:de.xAxis[0],it=[1,-1,-1,1][this.side];He&&(this.offset=it*He.toPixels(De,!0))}if(oe.hasData()||pe){const He=oe.chart.hasRendered&&oe.old&&w(oe.old.min);oe.minorTickInterval&&!oe.categories&&oe.getMinorTickPositions().forEach(function(it){oe.renderMinorTick(it,He)}),te.length&&(te.forEach(function(it,Je){oe.renderTick(it,Je,He)}),Ge&&(oe.min===0||oe.single)&&(xe[-1]||(xe[-1]=new Z(oe,-1,null,!0)),xe[-1].render(-1))),Fe&&te.forEach(function(it,Je){Ue=typeof te[Je+1]<"u"?te[Je+1]+Ge:oe.max-Ge,Je%2===0&&it<oe.max&&Ue<=oe.max+(de.polar?-Ge:Ge)&&(we[it]||(we[it]=new j.PlotLineOrBand(oe)),Ie=it+Ge,we[it].options={from:fe?fe.lin2log(Ie):Ie,to:fe?fe.lin2log(Ue):Ue,color:Fe,className:"highcharts-alternate-grid"},we[it].render(),we[it].isActive=!0)}),oe._addedPlotLB||(oe._addedPlotLB=!0,(ue.plotLines||[]).concat(ue.plotBands||[]).forEach(function(it){oe.addPlotBandOrLine(it)}))}[xe,ce,we].forEach(function(He){const it=[],Je=Qe.duration;y(He,function(st,ht){st.isActive||(st.render(ht,!1,0),st.isActive=!1,it.push(ht))}),ee(function(){let st=it.length;for(;st--;)He[it[st]]&&!He[it[st]].isActive&&(He[it[st]].destroy(),delete He[it[st]])},He!==we&&de.hasRendered&&Je?Je:0)}),ct&&(ct[ct.isPlaced?"animate":"attr"]({d:this.getLinePath(ct.strokeWidth())}),ct.isPlaced=!0,ct[ot?"show":"hide"](ot)),ge&&ot&&(ge[ge.isNew?"attr":"animate"](oe.getTitlePosition(ge)),ge.isNew=!1),Ae&&Ae.enabled&&oe.stacking&&oe.stacking.renderStackTotals(),oe.old={len:oe.len,max:oe.max,min:oe.min,transA:oe.transA,userMax:oe.userMax,userMin:oe.userMin},oe.isDirty=!1,L(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(oe){oe.render()})),this.series.forEach(function(oe){oe.isDirty=!0})}getKeepProps(){return this.keepProps||ye.keepProps}destroy(oe){const de=this,fe=de.plotLinesAndBands,ue=this.eventOptions;if(L(this,"destroy",{keepEvents:oe}),oe||X(de),[de.ticks,de.minorTicks,de.alternateBands].forEach(function(pe){q(pe)}),fe)for(oe=fe.length;oe--;)fe[oe].destroy();"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(pe){de[pe]&&(de[pe]=de[pe].destroy())});for(const pe in de.plotLinesAndBandsGroups)de.plotLinesAndBandsGroups[pe]=de.plotLinesAndBandsGroups[pe].destroy();y(de,function(pe,te){de.getKeepProps().indexOf(te)===-1&&delete de[te]}),this.eventOptions=ue}drawCrosshair(oe,de){const fe=this.crosshair;var ue=x(fe&&fe.snap,!0);const pe=this.chart;let te,ge=this.cross;if(L(this,"drawCrosshair",{e:oe,point:de}),oe||(oe=this.cross&&this.cross.e),fe&&(G(de)||!ue)!==!1){if(ue?G(de)&&(te=x(this.coll!=="colorAxis"?de.crosshairPos:null,this.isXAxis?de.plotX:this.len-de.plotY)):te=oe&&(this.horiz?oe.chartX-this.pos:this.len-oe.chartY+this.pos),G(te)){var xe={value:de&&(this.isXAxis?de.x:x(de.stackY,de.y)),translatedValue:te};pe.polar&&K(xe,{isCrosshair:!0,chartX:oe&&oe.chartX,chartY:oe&&oe.chartY,point:de}),xe=this.getPlotLinePath(xe)||null}if(!G(xe)){this.hideCrosshair();return}ue=this.categories&&!this.isRadial,ge||(this.cross=ge=pe.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(ue?"category ":"thin ")+(fe.className||"")).attr({zIndex:x(fe.zIndex,2)}).add(),pe.styledMode||(ge.attr({stroke:fe.color||(ue?d.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":x(fe.width,1)}).css({"pointer-events":"none"}),fe.dashStyle&&ge.attr({dashstyle:fe.dashStyle}))),ge.show().attr({d:xe}),ue&&!fe.width&&ge.attr({"stroke-width":this.transA}),this.cross.e=oe}else this.hideCrosshair();L(this,"afterDrawCrosshair",{e:oe,point:de})}hideCrosshair(){this.cross&&this.cross.hide(),L(this,"afterHideCrosshair")}hasVerticalPanning(){const oe=this.chart.options.chart.panning;return!!(oe&&oe.enabled&&/y/.test(oe.type))}update(oe,de){const fe=this.chart;oe=A(this.userOptions,oe),this.destroy(!0),this.init(fe,oe),fe.isDirtyBox=!0,x(de,!0)&&fe.redraw()}remove(oe){const de=this.chart,fe=this.coll,ue=this.series;let pe=ue.length;for(;pe--;)ue[pe]&&ue[pe].remove(!1);N(de.axes,this),N(de[fe],this),de[fe].forEach(function(te,ge){te.options.index=te.userOptions.index=ge}),this.destroy(),de.isDirtyBox=!0,x(oe,!0)&&de.redraw()}setTitle(oe,de){this.update({title:oe},de)}setCategories(oe,de){this.update({categories:oe},de)}}return ye.defaultOptions=u.defaultXAxisOptions,ye.keepProps="extKey hcEvents names series userMax userMin".split(" "),ye}),i(a,"Core/Axis/DateTimeAxis.js",[a["Core/Utilities.js"]],function(o){const{addEvent:u,getMagnitude:d,normalizeTickInterval:n,timeUnits:k}=o;var j;return function(Z){function z(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function H(B){B.userOptions.type!=="datetime"?this.dateTime=void 0:this.dateTime||(this.dateTime=new I(this))}const Y=[];Z.compose=function(B){return o.pushUnique(Y,B)&&(B.keepProps.push("dateTime"),B.prototype.getTimeTicks=z,u(B,"init",H)),B};class I{constructor(U){this.axis=U}normalizeTimeTickInterval(U,T){const C=T||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];T=C[C.length-1];let P=k[T[0]],G=T[1],q;for(q=0;q<C.length&&(T=C[q],P=k[T[0]],G=T[1],!(C[q+1]&&U<=(P*G[G.length-1]+k[C[q+1][0]])/2));q++);return P===k.year&&U<5*P&&(G=[1,2,5]),U=n(U/P,G,T[0]==="year"?Math.max(d(U/P),1):1),{unitRange:P,count:U,unitName:T[0]}}getXDateFormat(U,T){const{axis:C}=this,P=C.chart.time;return C.closestPointRange?P.getDateFormat(C.closestPointRange,U,C.options.startOfWeek,T)||P.resolveDTLFormat(T.year).main:P.resolveDTLFormat(T.day).main}}Z.Additions=I}(j||(j={})),j}),i(a,"Core/Axis/LogarithmicAxis.js",[a["Core/Utilities.js"]],function(o){const{addEvent:u,normalizeTickInterval:d,pick:n}=o;var k;return function(j){function Z(I){let B=this.logarithmic;I.userOptions.type!=="logarithmic"?this.logarithmic=void 0:B||(this.logarithmic=new Y(this))}function z(){const I=this.logarithmic;I&&(this.lin2val=function(B){return I.lin2log(B)},this.val2lin=function(B){return I.log2lin(B)})}const H=[];j.compose=function(I){return o.pushUnique(H,I)&&(I.keepProps.push("logarithmic"),u(I,"init",Z),u(I,"afterInit",z)),I};class Y{constructor(B){this.axis=B}getLogTickPositions(B,U,T,C){const P=this.axis;var G=P.len,q=P.options;let N=[];if(C||(this.minorAutoInterval=void 0),.5<=B)B=Math.round(B),N=P.getLinearTickPositions(B,U,T);else if(.08<=B){q=Math.floor(U);let ne,K,L,E,w;for(G=.3<B?[1,2,4]:.15<B?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];q<T+1&&!w;q++)for(K=G.length,ne=0;ne<K&&!w;ne++)L=this.log2lin(this.lin2log(q)*G[ne]),L>U&&(!C||E<=T)&&typeof E<"u"&&N.push(E),E>T&&(w=!0),E=L}else U=this.lin2log(U),T=this.lin2log(T),B=C?P.getMinorTickInterval():q.tickInterval,B=n(B==="auto"?null:B,this.minorAutoInterval,q.tickPixelInterval/(C?5:1)*(T-U)/((C?G/P.tickPositions.length:G)||1)),B=d(B),N=P.getLinearTickPositions(B,U,T).map(this.log2lin),C||(this.minorAutoInterval=B/5);return C||(P.tickInterval=B),N}lin2log(B){return Math.pow(10,B)}log2lin(B){return Math.log(B)/Math.LN10}}j.Additions=Y}(k||(k={})),k}),i(a,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[a["Core/Utilities.js"]],function(o){const{erase:u,extend:d,isNumber:n}=o;var k;return function(j){function Z(P){return this.addPlotBandOrLine(P,"plotBands")}function z(P,G){const q=this.userOptions;let N=new C(this,P);if(this.visible&&(N=N.render()),N){if(this._addedPlotLB||(this._addedPlotLB=!0,(q.plotLines||[]).concat(q.plotBands||[]).forEach(ne=>{this.addPlotBandOrLine(ne)})),G){const ne=q[G]||[];ne.push(P),q[G]=ne}this.plotLinesAndBands.push(N)}return N}function H(P){return this.addPlotBandOrLine(P,"plotLines")}function Y(P,G,q=this.options){const N=this.getPlotLinePath({value:G,force:!0,acrossPanes:q.acrossPanes}),ne=[],K=this.horiz;G=!n(this.min)||!n(this.max)||P<this.min&&G<this.min||P>this.max&&G>this.max,P=this.getPlotLinePath({value:P,force:!0,acrossPanes:q.acrossPanes}),q=1;let L;if(P&&N)for(G&&(L=P.toString()===N.toString(),q=0),G=0;G<P.length;G+=2){const E=P[G],w=P[G+1],g=N[G],A=N[G+1];E[0]!=="M"&&E[0]!=="L"||w[0]!=="M"&&w[0]!=="L"||g[0]!=="M"&&g[0]!=="L"||A[0]!=="M"&&A[0]!=="L"||(K&&g[1]===E[1]?(g[1]+=q,A[1]+=q):K||g[2]!==E[2]||(g[2]+=q,A[2]+=q),ne.push(["M",E[1],E[2]],["L",w[1],w[2]],["L",A[1],A[2]],["L",g[1],g[2]],["Z"])),ne.isFlat=L}return ne}function I(P){this.removePlotBandOrLine(P)}function B(P){const G=this.plotLinesAndBands,q=this.options,N=this.userOptions;if(G){let ne=G.length;for(;ne--;)G[ne].id===P&&G[ne].destroy();[q.plotLines||[],N.plotLines||[],q.plotBands||[],N.plotBands||[]].forEach(function(K){for(ne=K.length;ne--;)(K[ne]||{}).id===P&&u(K,K[ne])})}}function U(P){this.removePlotBandOrLine(P)}const T=[];let C;j.compose=function(P,G){return C||(C=P),o.pushUnique(T,G)&&d(G.prototype,{addPlotBand:Z,addPlotLine:H,addPlotBandOrLine:z,getPlotBandPath:Y,removePlotBand:I,removePlotLine:U,removePlotBandOrLine:B}),G}}(k||(k={})),k}),i(a,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[a["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],a["Core/Utilities.js"]],function(o,u){const{arrayMax:d,arrayMin:n,defined:k,destroyObjectProperties:j,erase:Z,fireEvent:z,merge:H,objectEach:Y,pick:I}=u;class B{static compose(T){return o.compose(B,T)}constructor(T,C){this.axis=T,C&&(this.options=C,this.id=C.id)}render(){z(this,"render");const T=this,C=T.axis,P=C.horiz;var G=C.logarithmic;const q=T.options,N=q.color,ne=I(q.zIndex,0),K=q.events,L={},E=C.chart.renderer;let w=q.label,g=T.label,A=q.to,m=q.from,y=q.value,x=T.svgElem;var M=[];const X=k(m)&&k(A);M=k(y);const re=!x,ee={class:"highcharts-plot-"+(X?"band ":"line ")+(q.className||"")};let he=X?"bands":"lines";if(G&&(m=G.log2lin(m),A=G.log2lin(A),y=G.log2lin(y)),C.chart.styledMode||(M?(ee.stroke=N||"#999999",ee["stroke-width"]=I(q.width,1),q.dashStyle&&(ee.dashstyle=q.dashStyle)):X&&(ee.fill=N||"#e6e9ff",q.borderWidth&&(ee.stroke=q.borderColor,ee["stroke-width"]=q.borderWidth))),L.zIndex=ne,he+="-"+ne,(G=C.plotLinesAndBandsGroups[he])||(C.plotLinesAndBandsGroups[he]=G=E.g("plot-"+he).attr(L).add()),re&&(T.svgElem=x=E.path().attr(ee).add(G)),M)M=C.getPlotLinePath({value:y,lineWidth:x.strokeWidth(),acrossPanes:q.acrossPanes});else if(X)M=C.getPlotBandPath(m,A,q);else return;return!T.eventsAdded&&K&&(Y(K,function(ye,Ce){x.on(Ce,function(oe){K[Ce].apply(T,[oe])})}),T.eventsAdded=!0),(re||!x.d)&&M&&M.length?x.attr({d:M}):x&&(M?(x.show(),x.animate({d:M})):x.d&&(x.hide(),g&&(T.label=g=g.destroy()))),w&&(k(w.text)||k(w.formatter))&&M&&M.length&&0<C.width&&0<C.height&&!M.isFlat?(w=H({align:P&&X&&"center",x:P?!X&&4:10,verticalAlign:!P&&X&&"middle",y:P?X?16:10:X?6:-4,rotation:P&&!X&&90},w),this.renderLabel(w,M,X,ne)):g&&g.hide(),T}renderLabel(T,C,P,G){const q=this.axis;var N=q.chart.renderer;let ne=this.label;ne||(this.label=ne=N.text(this.getLabelText(T),0,0,T.useHTML).attr({align:T.textAlign||T.align,rotation:T.rotation,class:"highcharts-plot-"+(P?"band":"line")+"-label "+(T.className||""),zIndex:G}).add(),q.chart.styledMode||ne.css(H({fontSize:"0.8em",textOverflow:"ellipsis"},T.style))),G=C.xBounds||[C[0][1],C[1][1],P?C[2][1]:C[0][1]],C=C.yBounds||[C[0][2],C[1][2],P?C[2][2]:C[0][2]],P=n(G),N=n(C),ne.align(T,!1,{x:P,y:N,width:d(G)-P,height:d(C)-N}),ne.alignValue&&ne.alignValue!=="left"||(T=T.clip?q.width:q.chart.chartWidth,ne.css({width:(ne.rotation===90?q.height-(ne.alignAttr.y-q.top):T-(ne.alignAttr.x-q.left))+"px"})),ne.show(!0)}getLabelText(T){return k(T.formatter)?T.formatter.call(this):T.text}destroy(){Z(this.axis.plotLinesAndBands,this),delete this.axis,j(this)}}return B}),i(a,"Core/Tooltip.js",[a["Core/FormatUtilities.js"],a["Core/Globals.js"],a["Core/Renderer/RendererUtilities.js"],a["Core/Renderer/RendererRegistry.js"],a["Core/Utilities.js"]],function(o,u,d,n,k){const{format:j}=o,{doc:Z,isSafari:z}=u,{distribute:H}=d,{addEvent:Y,clamp:I,css:B,discardElement:U,extend:T,fireEvent:C,isArray:P,isNumber:G,isString:q,merge:N,pick:ne,splat:K,syncTimeout:L}=k;class E{constructor(g,A){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=g,this.init(g,A)}bodyFormatter(g){return g.map(function(A){const m=A.series.tooltipOptions;return(m[(A.point.formatPrefix||"point")+"Formatter"]||A.point.tooltipFormatter).call(A.point,m[(A.point.formatPrefix||"point")+"Format"]||"")})}cleanSplit(g){this.chart.series.forEach(function(A){const m=A&&A.tt;m&&(!m.isActive||g?A.tt=m.destroy():m.isActive=!1)})}defaultFormatter(g){const A=this.points||K(this);let m;return m=[g.tooltipFooterHeaderFormatter(A[0])],m=m.concat(g.bodyFormatter(A)),m.push(g.tooltipFooterHeaderFormatter(A[0],!0)),m}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),U(this.container)),k.clearTimeout(this.hideTimer),k.clearTimeout(this.tooltipTimeout)}getAnchor(g,A){var m=this.chart;const y=m.pointer,x=m.inverted,M=m.plotTop;if(m=m.plotLeft,g=K(g),g[0].series&&g[0].series.yAxis&&!g[0].series.yAxis.options.reversedStacks&&(g=g.slice().reverse()),this.followPointer&&A)typeof A.chartX>"u"&&(A=y.normalize(A)),g=[A.chartX-m,A.chartY-M];else if(g[0].tooltipPos)g=g[0].tooltipPos;else{let X=0,re=0;g.forEach(function(ee){(ee=ee.pos(!0))&&(X+=ee[0],re+=ee[1])}),X/=g.length,re/=g.length,this.shared&&1<g.length&&A&&(x?X=A.chartX:re=A.chartY),g=[X-m,re-M]}return g.map(Math.round)}getClassName(g,A,m){const y=g.series,x=y.options;return[this.options.className,"highcharts-label",m&&"highcharts-tooltip-header",A?"highcharts-tooltip-box":"highcharts-tooltip",!m&&"highcharts-color-"+ne(g.colorIndex,y.colorIndex),x&&x.className].filter(q).join(" ")}getLabel(){const g=this,A=this.chart.styledMode,m=this.options,y=this.split&&this.allowShared,x=m.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none");let M,X=this.chart.renderer;if(this.label){var re=!this.label.hasClass("highcharts-label");(!y&&re||y&&!re)&&this.destroy()}if(!this.label){if(this.outside){re=this.chart.options.chart.style;const ee=n.getRendererType();this.container=M=u.doc.createElement("div"),M.className="highcharts-tooltip-container",B(M,{position:"absolute",top:"1px",pointerEvents:x,zIndex:Math.max(this.options.style.zIndex||0,(re&&re.zIndex||0)+3)}),u.doc.body.appendChild(M),this.renderer=X=new ee(M,0,0,re,void 0,void 0,X.styledMode)}if(y?this.label=X.g("tooltip"):(this.label=X.label("",0,0,m.shape,void 0,void 0,m.useHTML,void 0,"tooltip").attr({padding:m.padding,r:m.borderRadius}),A||this.label.attr({fill:m.backgroundColor,"stroke-width":m.borderWidth||0}).css(m.style).css({pointerEvents:x})),g.outside){const ee=this.label,{xSetter:he,ySetter:ye}=ee;ee.xSetter=function(Ce){he.call(ee,g.distance),M.style.left=Ce+"px"},ee.ySetter=function(Ce){ye.call(ee,g.distance),M.style.top=Ce+"px"}}this.label.attr({zIndex:8}).shadow(m.shadow).add()}return this.label}getPlayingField(){const{body:g,documentElement:A}=Z,{chart:m,distance:y,outside:x}=this;return{width:x?Math.max(g.scrollWidth,A.scrollWidth,g.offsetWidth,A.offsetWidth,A.clientWidth)-2*y:m.chartWidth,height:x?Math.max(g.scrollHeight,A.scrollHeight,g.offsetHeight,A.offsetHeight,A.clientHeight):m.chartHeight}}getPosition(g,A,m){const y=this.chart,x=this.distance,M={},X=y.inverted&&m.h||0,re=this.outside;var ee=this.getPlayingField();const he=ee.width,ye=ee.height,Ce=y.pointer.getChartPosition();ee=ce=>{const we=ce==="x";return[ce,we?he:ye,we?g:A].concat(re?[we?g*Ce.scaleX:A*Ce.scaleY,we?Ce.left-x+(m.plotX+y.plotLeft)*Ce.scaleX:Ce.top-x+(m.plotY+y.plotTop)*Ce.scaleY,0,we?he:ye]:[we?g:A,we?m.plotX+y.plotLeft:m.plotY+y.plotTop,we?y.plotLeft:y.plotTop,we?y.plotLeft+y.plotWidth:y.plotTop+y.plotHeight])};let oe=ee("y"),de=ee("x"),fe;ee=!!m.negative,!y.polar&&y.hoverSeries&&y.hoverSeries.yAxis&&y.hoverSeries.yAxis.reversed&&(ee=!ee);const ue=!this.followPointer&&ne(m.ttBelow,!y.inverted===ee),pe=function(ce,we,Ae,Fe,De,Ge,ct){const ot=re?ce==="y"?x*Ce.scaleY:x*Ce.scaleX:x,Qe=(Ae-Fe)/2,Ie=Fe<De-x,Ue=De+x+Fe<we,He=De-ot-Ae+Qe;if(De=De+ot-Qe,ue&&Ue)M[ce]=De;else if(!ue&&Ie)M[ce]=He;else if(Ie)M[ce]=Math.min(ct-Fe,0>He-X?He:He-X);else if(Ue)M[ce]=Math.max(Ge,De+X+Ae>we?De:De+X);else return!1},te=function(ce,we,Ae,Fe,De){let Ge;return De<x||De>we-x?Ge=!1:M[ce]=De<Ae/2?1:De>we-Fe/2?we-Fe-2:De-Ae/2,Ge},ge=function(ce){const we=oe;oe=de,de=we,fe=ce},xe=function(){pe.apply(0,oe)!==!1?te.apply(0,de)!==!1||fe||(ge(!0),xe()):fe?M.x=M.y=0:(ge(!0),xe())};return(y.inverted||1<this.len)&&ge(),xe(),M}hide(g){const A=this;k.clearTimeout(this.hideTimer),g=ne(g,this.options.hideDelay),this.isHidden||(this.hideTimer=L(function(){A.getLabel().fadeOut(g&&void 0),A.isHidden=!0},g))}init(g,A){this.chart=g,this.options=A,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=A.split&&!g.inverted&&!g.polar,this.shared=A.shared||this.split,this.outside=ne(A.outside,!(!g.scrollablePixelsX&&!g.scrollablePixelsY))}shouldStickOnContact(g){return!(this.followPointer||!this.options.stickOnContact||g&&!this.chart.pointer.inClass(g.target,"highcharts-tooltip"))}move(g,A,m,y){const x=this,M=x.now,X=x.options.animation!==!1&&!x.isHidden&&(1<Math.abs(g-M.x)||1<Math.abs(A-M.y)),re=x.followPointer||1<x.len;T(M,{x:X?(2*M.x+g)/3:g,y:X?(M.y+A)/2:A,anchorX:re?void 0:X?(2*M.anchorX+m)/3:m,anchorY:re?void 0:X?(M.anchorY+y)/2:y}),x.getLabel().attr(M),x.drawTracker(),X&&(k.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){x&&x.move(g,A,m,y)},32))}refresh(g,A){const m=this.chart,y=this.options,x=m.pointer,M=K(g),X=M[0],re=[];var ee=y.formatter||this.defaultFormatter,he=this.shared;const ye=m.styledMode;let Ce={};if(y.enabled&&X.series){k.clearTimeout(this.hideTimer),this.allowShared=!(!P(g)&&g.series&&g.series.noSharedTooltip),this.followPointer=!this.split&&X.series.tooltipOptions.followPointer,g=this.getAnchor(g,A);var oe=g[0],de=g[1];if(he&&this.allowShared?(x.applyInactiveState(M),M.forEach(function(fe){fe.setState("hover"),re.push(fe.getLabelConfig())}),Ce={x:X.category,y:X.y},Ce.points=re):Ce=X.getLabelConfig(),this.len=re.length,ee=ee.call(Ce,this),he=X.series,this.distance=ne(he.tooltipOptions.distance,16),ee===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(ee,M);else{let fe=oe,ue=de;if(A&&x.isDirectTouch&&(fe=A.chartX-m.plotLeft,ue=A.chartY-m.plotTop),m.polar||he.options.clip===!1||M.some(pe=>x.isDirectTouch||pe.series.shouldShowTooltip(fe,ue)))A=this.getLabel(),y.style.width&&!ye||A.css({width:(this.outside?this.getPlayingField():m.spacingBox).width+"px"}),A.attr({text:ee&&ee.join?ee.join(""):ee}),A.addClass(this.getClassName(X),!0),ye||A.attr({stroke:y.borderColor||X.color||he.color||"#666666"}),this.updatePosition({plotX:oe,plotY:de,negative:X.negative,ttBelow:X.ttBelow,h:g[2]||0});else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}C(this,"refresh")}}renderSplit(g,A){function m(Je,st,ht,Ke,At=!0){return ht?(st=Ae?0:ot,Je=I(Je-Ke/2,xe.left,xe.right-Ke-(y.outside?Fe:0))):(st-=Ge,Je=At?Je-Ke-pe:Je+pe,Je=I(Je,At?Je:xe.left,xe.right)),{x:Je,y:st}}const y=this,{chart:x,chart:{chartWidth:M,chartHeight:X,plotHeight:re,plotLeft:ee,plotTop:he,pointer:ye,scrollablePixelsY:Ce=0,scrollablePixelsX:oe,scrollingContainer:{scrollLeft:de,scrollTop:fe}={scrollLeft:0,scrollTop:0},styledMode:ue},distance:pe,options:te,options:{positioner:ge}}=y,xe=y.outside&&typeof oe!="number"?Z.documentElement.getBoundingClientRect():{left:de,right:de+M,top:fe,bottom:fe+X},ce=y.getLabel(),we=this.renderer||x.renderer,Ae=!(!x.xAxis[0]||!x.xAxis[0].opposite),{left:Fe,top:De}=ye.getChartPosition();let Ge=he+fe,ct=0,ot=re-Ce;q(g)&&(g=[!1,g]),g=g.slice(0,A.length+1).reduce(function(Je,st,ht){if(st!==!1&&st!==""){ht=A[ht-1]||{isHeader:!0,plotX:A[0].plotX,plotY:re,series:{}};const ei=ht.isHeader;var Ke=ei?y:ht.series,At;{var Et=ht;st=st.toString();var Wt=Ke.tt;const{isHeader:zi,series:Ji}=Et;Wt||(Wt={padding:te.padding,r:te.borderRadius},ue||(Wt.fill=te.backgroundColor,Wt["stroke-width"]=(At=te.borderWidth)!==null&&At!==void 0?At:1),Wt=we.label("",0,0,te[zi?"headerShape":"shape"],void 0,void 0,te.useHTML).addClass(y.getClassName(Et,!0,zi)).attr(Wt).add(ce)),Wt.isActive=!0,Wt.attr({text:st}),ue||Wt.css(te.style).attr({stroke:te.borderColor||Et.color||Ji.color||"#333333"}),At=Wt}At=Ke.tt=At,Et=At.getBBox(),Ke=Et.width+At.strokeWidth(),ei&&(ct=Et.height,ot+=ct,Ae&&(Ge-=ct));{const{isHeader:zi,plotX:Ji=0,plotY:cr=0,series:Yr}=ht;if(zi){st=ee+Ji;var fi=he+re/2}else{const{xAxis:Cr,yAxis:jr}=Yr;st=Cr.pos+I(Ji,-pe,Cr.len+pe),Yr.shouldShowTooltip(0,jr.pos-he+cr,{ignoreX:!0})&&(fi=jr.pos+cr)}st=I(st,xe.left-pe,xe.right+pe),fi={anchorX:st,anchorY:fi}}const{anchorX:hi,anchorY:vi}=fi;typeof vi=="number"?(fi=Et.height+1,Et=ge?ge.call(y,Ke,fi,ht):m(hi,vi,ei,Ke),Je.push({align:ge?0:void 0,anchorX:hi,anchorY:vi,boxWidth:Ke,point:ht,rank:ne(Et.rank,ei?1:0),size:fi,target:Et.y,tt:At,x:Et.x})):At.isActive=!1}return Je},[]),!ge&&g.some(Je=>{var{outside:st}=y;return st=(st?Fe:0)+Je.anchorX,st<xe.left&&st+Je.boxWidth<xe.right?!0:st<Fe-xe.left+Je.boxWidth&&xe.right-st>st})&&(g=g.map(Je=>{const{x:st,y:ht}=m(Je.anchorX,Je.anchorY,Je.point.isHeader,Je.boxWidth,!1);return T(Je,{target:ht,x:st})})),y.cleanSplit(),H(g,ot);var Qe=Fe,Ie=Fe;g.forEach(function(Je){const{x:st,boxWidth:ht,isHeader:Ke}=Je;Ke||(y.outside&&Fe+st<Qe&&(Qe=Fe+st),!Ke&&y.outside&&Qe+ht>Ie&&(Ie=Fe+st))}),g.forEach(function(Je){const{x:st,anchorX:ht,anchorY:Ke,pos:At,point:{isHeader:Et}}=Je,Wt={visibility:typeof At>"u"?"hidden":"inherit",x:st,y:(At||0)+Ge,anchorX:ht,anchorY:Ke};if(y.outside&&st<ht){const fi=Fe-Qe;0<fi&&(Et||(Wt.x=st+fi,Wt.anchorX=ht+fi),Et&&(Wt.x=(Ie-Qe)/2,Wt.anchorX=ht+fi))}Je.tt.attr(Wt)});const{container:Ue,outside:He,renderer:it}=y;if(He&&Ue&&it){const{width:Je,height:st,x:ht,y:Ke}=ce.getBBox();it.setSize(Je+ht,st+Ke,!1),Ue.style.left=Qe+"px",Ue.style.top=De+"px"}z&&ce.attr({opacity:ce.opacity===1?.999:1})}drawTracker(){if(this.shouldStickOnContact()){var g=this.chart,A=this.label,m=this.shared?g.hoverPoints:g.hoverPoint;if(A&&m){var y={x:0,y:0,width:0,height:0};m=this.getAnchor(m);var x=A.getBBox();m[0]+=g.plotLeft-A.translateX,m[1]+=g.plotTop-A.translateY,y.x=Math.min(0,m[0]),y.y=Math.min(0,m[1]),y.width=0>m[0]?Math.max(Math.abs(m[0]),x.width-m[0]):Math.max(Math.abs(m[0]),x.width),y.height=0>m[1]?Math.max(Math.abs(m[1]),x.height-Math.abs(m[1])):Math.max(Math.abs(m[1]),x.height),this.tracker?this.tracker.attr(y):(this.tracker=A.renderer.rect(y).addClass("highcharts-tracker").add(A),g.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}else this.tracker&&(this.tracker=this.tracker.destroy())}styledModeFormat(g){return g.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(g,A){const m=g.series,y=m.tooltipOptions;var x=m.xAxis;const M=x&&x.dateTime;x={isFooter:A,labelConfig:g};let X=y.xDateFormat,re=y[A?"footerFormat":"headerFormat"];return C(this,"headerFormatter",x,function(ee){M&&!X&&G(g.key)&&(X=M.getXDateFormat(g.key,y.dateTimeLabelFormats)),M&&X&&(g.point&&g.point.tooltipDateKeys||["key"]).forEach(function(he){re=re.replace("{point."+he+"}","{point."+he+":"+X+"}")}),m.chart.styledMode&&(re=this.styledModeFormat(re)),ee.text=j(re,{point:g,series:m},this.chart)}),x.text}update(g){this.destroy(),N(!0,this.chart.options.tooltip.userOptions,g),this.init(this.chart,N(!0,this.options,g))}updatePosition(g){const{chart:A,distance:m,options:y}=this;var x=A.pointer;const M=this.getLabel(),{left:X,top:re,scaleX:ee,scaleY:he}=x.getChartPosition();x=(y.positioner||this.getPosition).call(this,M.width,M.height,g);let ye=(g.plotX||0)+A.plotLeft;g=(g.plotY||0)+A.plotTop;let Ce;this.outside&&(y.positioner&&(x.x+=X-m,x.y+=re-m),Ce=(y.borderWidth||0)+2*m,this.renderer.setSize(M.width+Ce,M.height+Ce,!1),(ee!==1||he!==1)&&(B(this.container,{transform:`scale(${ee}, ${he})`}),ye*=ee,g*=he),ye+=X-x.x,g+=re-x.y),this.move(Math.round(x.x),Math.round(x.y||0),ye,g)}}return function(w){const g=[];w.compose=function(A){k.pushUnique(g,A)&&Y(A,"afterInit",function(){const m=this.chart;m.options.tooltip&&(m.tooltip=new w(m,m.options.tooltip))})}}(E||(E={})),E}),i(a,"Core/Series/Point.js",[a["Core/Renderer/HTML/AST.js"],a["Core/Animation/AnimationUtilities.js"],a["Core/Defaults.js"],a["Core/FormatUtilities.js"],a["Core/Utilities.js"]],function(o,u,d,n,k){const{animObject:j}=u,{defaultOptions:Z}=d,{format:z}=n,{addEvent:H,defined:Y,erase:I,extend:B,fireEvent:U,getNestedProperty:T,isArray:C,isFunction:P,isNumber:G,isObject:q,merge:N,objectEach:ne,pick:K,syncTimeout:L,removeEvent:E,uniqueKey:w}=k;class g{constructor(){this.category=void 0,this.destroyed=!1,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.shapeArgs=this.series=void 0,this.visible=!0,this.x=void 0}animateBeforeDestroy(){const m=this,y={x:m.startXPos,opacity:0},x=m.getGraphicalProps();x.singular.forEach(function(M){m[M]=m[M].animate(M==="dataLabel"?{x:m[M].startXPos,y:m[M].startYPos,opacity:0}:y)}),x.plural.forEach(function(M){m[M].forEach(function(X){X.element&&X.animate(B({x:m.startXPos},X.startYPos?{x:X.startXPos,y:X.startYPos}:{}))})})}applyOptions(m,y){const x=this.series,M=x.options.pointValKey||x.pointValKey;return m=g.prototype.optionsToObject.call(this,m),B(this,m),this.options=this.options?B(this.options,m):m,m.group&&delete this.group,m.dataLabels&&delete this.dataLabels,M&&(this.y=g.prototype.getNestedProperty.call(this,M)),this.formatPrefix=(this.isNull=this.isValid&&!this.isValid())?"null":"point",this.selected&&(this.state="select"),"name"in this&&typeof y>"u"&&x.xAxis&&x.xAxis.hasNames&&(this.x=x.xAxis.nameToX(this)),typeof this.x>"u"&&x?this.x=typeof y>"u"?x.autoIncrement():y:G(m.x)&&x.options.relativeXValue&&(this.x=x.autoIncrement(m.x)),this}destroy(){if(!this.destroyed){const y=this;var m=y.series;const x=m.chart;m=m.options.dataSorting;const M=x.hoverPoints,X=j(y.series.chart.renderer.globalAnimation),re=()=>{(y.graphic||y.graphics||y.dataLabel||y.dataLabels)&&(E(y),y.destroyElements());for(const ee in y)delete y[ee]};y.legendItem&&x.legend.destroyItem(y),M&&(y.setState(),I(M,y),M.length||(x.hoverPoints=null)),y===x.hoverPoint&&y.onMouseOut(),m&&m.enabled?(this.animateBeforeDestroy(),L(re,X.duration)):re(),x.pointCount--}this.destroyed=!0}destroyElements(m){const y=this;m=y.getGraphicalProps(m),m.singular.forEach(function(x){y[x]=y[x].destroy()}),m.plural.forEach(function(x){y[x].forEach(function(M){M&&M.element&&M.destroy()}),delete y[x]})}firePointEvent(m,y,x){const M=this,X=this.series.options;(X.point.events[m]||M.options&&M.options.events&&M.options.events[m])&&M.importEvents(),m==="click"&&X.allowPointSelect&&(x=function(re){M.select&&M.select(null,re.ctrlKey||re.metaKey||re.shiftKey)}),U(M,m,y,x)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(typeof this.colorIndex<"u"?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(m){const y=this,x=[],M={singular:[],plural:[]};let X,re;for(m=m||{graphic:1,dataLabel:1},m.graphic&&x.push("graphic"),m.dataLabel&&x.push("dataLabel","dataLabelPath","dataLabelUpper","connector"),re=x.length;re--;)X=x[re],y[X]&&M.singular.push(X);return["graphic","dataLabel","connector"].forEach(function(ee){const he=ee+"s";m[ee]&&y[he]&&M.plural.push(he)}),M}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(m){if(m)return m.indexOf("custom.")===0?T(m,this.options):this[m]}getZone(){var m=this.series;const y=m.zones;m=m.zoneAxis||"y";let x,M=0;for(x=y[M];this[m]>=x.value;)x=y[++M];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=x&&x.color&&!this.options.color?x.color:this.nonZonedColor,x}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}init(m,y,x){return this.series=m,this.applyOptions(y,x),this.id=Y(this.id)?this.id:w(),this.resolveColor(),m.chart.pointCount++,U(this,"afterInit"),this}isValid(){return this.x!==null&&G(this.y)}optionsToObject(m){var y=this.series;const x=y.options.keys,M=x||y.pointArrayMap||["y"],X=M.length;let re={},ee=0,he=0;if(G(m)||m===null)re[M[0]]=m;else if(C(m))for(!x&&m.length>X&&(y=typeof m[0],y==="string"?re.name=m[0]:y==="number"&&(re.x=m[0]),ee++);he<X;)x&&typeof m[ee]>"u"||(0<M[he].indexOf(".")?g.prototype.setNestedProperty(re,m[ee],M[he]):re[M[he]]=m[ee]),ee++,he++;else typeof m=="object"&&(re=m,m.dataLabels&&(y._hasPointLabels=!0),m.marker&&(y._hasPointMarkers=!0));return re}pos(m,y=this.plotY){if(!this.destroyed){const{plotX:x,series:M}=this,{chart:X,xAxis:re,yAxis:ee}=M;let he=0,ye=0;if(G(x)&&G(y))return m&&(he=re?re.pos:X.plotLeft,ye=ee?ee.pos:X.plotTop),X.inverted&&re&&ee?[ee.len-y+ye,re.len-x+he]:[x+he,y+ye]}}resolveColor(){const m=this.series;var y=m.chart.styledMode;let x;var M=m.chart.options.chart.colorCount;delete this.nonZonedColor,m.options.colorByPoint?(y||(M=m.options.colors||m.chart.options.colors,x=M[m.colorCounter],M=M.length),y=m.colorCounter,m.colorCounter++,m.colorCounter===M&&(m.colorCounter=0)):(y||(x=m.color),y=m.colorIndex),this.colorIndex=K(this.options.colorIndex,y),this.color=K(this.options.color,x)}setNestedProperty(m,y,x){return x.split(".").reduce(function(M,X,re,ee){return M[X]=ee.length-1===re?y:q(M[X],!0)?M[X]:{},M[X]},m),m}shouldDraw(){return!this.isNull}tooltipFormatter(m){const y=this.series,x=y.tooltipOptions,M=K(x.valueDecimals,""),X=x.valuePrefix||"",re=x.valueSuffix||"";return y.chart.styledMode&&(m=y.chart.tooltip.styledModeFormat(m)),(y.pointArrayMap||["y"]).forEach(function(ee){ee="{point."+ee,(X||re)&&(m=m.replace(RegExp(ee+"}","g"),X+ee+"}"+re)),m=m.replace(RegExp(ee+"}","g"),ee+":,."+M+"f}")}),z(m,{point:this,series:this.series},y.chart)}update(m,y,x,M){function X(){re.applyOptions(m);var de=he&&re.hasMockGraphic;de=re.y===null?!de:de,he&&de&&(re.graphic=he.destroy(),delete re.hasMockGraphic),q(m,!0)&&(he&&he.element&&m&&m.marker&&typeof m.marker.symbol<"u"&&(re.graphic=he.destroy()),m&&m.dataLabels&&re.dataLabel&&(re.dataLabel=re.dataLabel.destroy()),re.connector&&(re.connector=re.connector.destroy())),oe=re.index,ee.updateParallelArrays(re,oe),Ce.data[oe]=q(Ce.data[oe],!0)||q(m,!0)?re.options:K(m,Ce.data[oe]),ee.isDirty=ee.isDirtyData=!0,!ee.fixedBox&&ee.hasCartesianSeries&&(ye.isDirtyBox=!0),Ce.legendType==="point"&&(ye.isDirtyLegend=!0),y&&ye.redraw(x)}const re=this,ee=re.series,he=re.graphic,ye=ee.chart,Ce=ee.options;let oe;y=K(y,!0),M===!1?X():re.firePointEvent("update",{options:m},X)}remove(m,y){this.series.removePoint(this.series.data.indexOf(this),m,y)}select(m,y){const x=this,M=x.series,X=M.chart;this.selectedStaging=m=K(m,!x.selected),x.firePointEvent(m?"select":"unselect",{accumulate:y},function(){x.selected=x.options.selected=m,M.options.data[M.data.indexOf(x)]=x.options,x.setState(m&&"select"),y||X.getSelectedPoints().forEach(function(re){const ee=re.series;re.selected&&re!==x&&(re.selected=re.options.selected=!1,ee.options.data[ee.data.indexOf(re)]=re.options,re.setState(X.hoverPoints&&ee.options.inactiveOtherPoints?"inactive":""),re.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(m){const y=this.series.chart,x=y.pointer;m=m?x.normalize(m):x.getChartCoordinatesFromPoint(this,y.inverted),x.runPointActions(m,this)}onMouseOut(){const m=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(m.hoverPoints||[]).forEach(function(y){y.setState()}),m.hoverPoints=m.hoverPoint=null}importEvents(){if(!this.hasImportedEvents){const m=this,y=N(m.series.options.point,m.options).events;m.events=y,ne(y,function(x,M){P(x)&&H(m,M,x)}),this.hasImportedEvents=!0}}setState(m,y){const x=this.series;var M=this.state,X=x.options.states[m||"normal"]||{},re=Z.plotOptions[x.type].marker&&x.options.marker;const ee=re&&re.enabled===!1,he=re&&re.states&&re.states[m||"normal"]||{},ye=he.enabled===!1,Ce=this.marker||{},oe=x.chart,de=re&&x.markerAttribs;let fe=x.halo;var ue;let pe;var te=x.stateMarkerGraphic;if(m=m||"",!(m===this.state&&!y||this.selected&&m!=="select"||X.enabled===!1||m&&(ye||ee&&he.enabled===!1)||m&&Ce.states&&Ce.states[m]&&Ce.states[m].enabled===!1)){if(this.state=m,de&&(ue=x.markerAttribs(this,m)),this.graphic&&!this.hasMockGraphic){if(M&&this.graphic.removeClass("highcharts-point-"+M),m&&this.graphic.addClass("highcharts-point-"+m),!oe.styledMode){M=x.pointAttribs(this,m),pe=K(oe.options.chart.animation,X.animation);const ge=M.opacity;x.options.inactiveOtherPoints&&G(ge)&&((this.dataLabels||[]).forEach(function(xe){xe&&!xe.hasClass("highcharts-data-label-hidden")&&xe.animate({opacity:ge},pe)}),this.connector&&this.connector.animate({opacity:ge},pe)),this.graphic.animate(M,pe)}ue&&this.graphic.animate(ue,K(oe.options.chart.animation,he.animation,re.animation)),te&&te.hide()}else m&&he&&(re=Ce.symbol||x.symbol,te&&te.currentSymbol!==re&&(te=te.destroy()),ue&&(te?te[y?"animate":"attr"]({x:ue.x,y:ue.y}):re&&(x.stateMarkerGraphic=te=oe.renderer.symbol(re,ue.x,ue.y,ue.width,ue.height).add(x.markerGroup),te.currentSymbol=re)),!oe.styledMode&&te&&this.state!=="inactive"&&te.attr(x.pointAttribs(this,m))),te&&(te[m&&this.isInside?"show":"hide"](),te.element.point=this,te.addClass(this.getClassName(),!0));X=X.halo,ue=(te=this.graphic||te)&&te.visibility||"inherit",X&&X.size&&te&&ue!=="hidden"&&!this.isCluster?(fe||(x.halo=fe=oe.renderer.path().add(te.parentGroup)),fe.show()[y?"animate":"attr"]({d:this.haloPath(X.size)}),fe.attr({class:"highcharts-halo highcharts-color-"+K(this.colorIndex,x.colorIndex)+(this.className?" "+this.className:""),visibility:ue,zIndex:-1}),fe.point=this,oe.styledMode||fe.attr(B({fill:this.color||x.color,"fill-opacity":X.opacity},o.filterUserAttributes(X.attributes||{})))):fe&&fe.point&&fe.point.haloPath&&fe.animate({d:fe.point.haloPath(0)},null,fe.hide),U(this,"afterSetState",{state:m})}}haloPath(m){const y=this.pos();return y?this.series.chart.renderer.symbols.circle(Math.floor(y[0])-m,y[1]-m,2*m,2*m):[]}}return g}),i(a,"Core/Pointer.js",[a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(o,u,d){const{parse:n}=o,{charts:k,noop:j}=u,{addEvent:Z,attr:z,css:H,defined:Y,extend:I,find:B,fireEvent:U,isNumber:T,isObject:C,objectEach:P,offset:G,pick:q,splat:N}=d;class ne{constructor(L,E){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=L,this.hasDragged=!1,this.options=E,this.init(L,E)}applyInactiveState(L){let E=[],w;(L||[]).forEach(function(g){w=g.series,E.push(w),w.linkedParent&&E.push(w.linkedParent),w.linkedSeries&&(E=E.concat(w.linkedSeries)),w.navigatorSeries&&E.push(w.navigatorSeries)}),this.chart.series.forEach(function(g){E.indexOf(g)===-1?g.setState("inactive",!0):g.options.inactiveOtherPoints&&g.setAllPointsToState("inactive")})}destroy(){const L=this;this.eventsToUnbind.forEach(E=>E()),this.eventsToUnbind=[],u.chartCount||(ne.unbindDocumentMouseUp&&(ne.unbindDocumentMouseUp=ne.unbindDocumentMouseUp()),ne.unbindDocumentTouchEnd&&(ne.unbindDocumentTouchEnd=ne.unbindDocumentTouchEnd())),clearInterval(L.tooltipTimeout),P(L,function(E,w){L[w]=void 0})}getSelectionMarkerAttrs(L,E){const w={args:{chartX:L,chartY:E},attrs:{},shapeType:"rect"};return U(this,"getSelectionMarkerAttrs",w,g=>{const{chart:A,mouseDownX:m=0,mouseDownY:y=0,zoomHor:x,zoomVert:M}=this;g=g.attrs;let X;g.x=A.plotLeft,g.y=A.plotTop,g.width=x?1:A.plotWidth,g.height=M?1:A.plotHeight,x&&(X=L-m,g.width=Math.abs(X),g.x=(0<X?0:X)+m),M&&(X=E-y,g.height=Math.abs(X),g.y=(0<X?0:X)+y)}),w}drag(L){const E=this.chart,w=E.options.chart;var g=E.plotLeft;const A=E.plotTop,m=E.plotWidth,y=E.plotHeight,x=this.mouseDownX||0,M=this.mouseDownY||0,X=C(w.panning)?w.panning&&w.panning.enabled:w.panning,re=w.panKey&&L[w.panKey+"Key"];let ee=L.chartX,he=L.chartY,ye=this.selectionMarker;if((!ye||!ye.touch)&&(ee<g?ee=g:ee>g+m&&(ee=g+m),he<A?he=A:he>A+y&&(he=A+y),this.hasDragged=Math.sqrt(Math.pow(x-ee,2)+Math.pow(M-he,2)),10<this.hasDragged)){g=E.isInsidePlot(x-g,M-A,{visiblePlotOnly:!0});const{shapeType:Ce,attrs:oe}=this.getSelectionMarkerAttrs(ee,he);!E.hasCartesianSeries&&!E.mapView||!this.zoomX&&!this.zoomY||!g||re||ye||(this.selectionMarker=ye=E.renderer[Ce](),ye.attr({class:"highcharts-selection-marker",zIndex:7}).add(),E.styledMode||ye.attr({fill:w.selectionMarkerFill||n("#334eff").setOpacity(.25).get()})),ye&&ye.attr(oe),g&&!ye&&X&&E.pan(L,w.panning)}}dragStart(L){const E=this.chart;E.mouseIsDown=L.type,E.cancelClick=!1,E.mouseDownX=this.mouseDownX=L.chartX,E.mouseDownY=this.mouseDownY=L.chartY}getSelectionBox(L){const E={args:{marker:L},result:{}};return U(this,"getSelectionBox",E,w=>{w.result={x:L.attr?+L.attr("x"):L.x,y:L.attr?+L.attr("y"):L.y,width:L.attr?L.attr("width"):L.width,height:L.attr?L.attr("height"):L.height}}),E.result}drop(L){const E=this,w=this.chart,g=this.hasPinched;if(this.selectionMarker){const{x:A,y:m,width:y,height:x}=this.getSelectionBox(this.selectionMarker),M={originalEvent:L,xAxis:[],yAxis:[],x:A,y:m,width:y,height:x};let X=!!w.mapView;(this.hasDragged||g)&&(w.axes.forEach(function(re){if(re.zoomEnabled&&Y(re.min)&&(g||E[{xAxis:"zoomX",yAxis:"zoomY"}[re.coll]])&&T(A)&&T(m)&&T(y)&&T(x)){var ee=re.horiz;const he=L.type==="touchend"?re.minPixelPadding:0,ye=re.toValue((ee?A:m)+he);ee=re.toValue((ee?A+y:m+x)-he),M[re.coll].push({axis:re,min:Math.min(ye,ee),max:Math.max(ye,ee)}),X=!0}}),X&&U(w,"selection",M,function(re){w.zoom(I(re,g?{animation:!1}:null))})),T(w.index)&&(this.selectionMarker=this.selectionMarker.destroy()),g&&this.scaleGroups()}w&&T(w.index)&&(H(w.container,{cursor:w._cursor}),w.cancelClick=10<this.hasDragged,w.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])}findNearestKDPoint(L,E,w){let g;return L.forEach(function(A){var m=!(A.noSharedTooltip&&E)&&0>A.options.findNearestPointBy.indexOf("y");if(A=A.searchPoint(w,m),(m=C(A,!0)&&A.series)&&!(m=!C(g,!0))){{m=g.distX-A.distX;const y=g.dist-A.dist,x=(A.series.group&&A.series.group.zIndex)-(g.series.group&&g.series.group.zIndex);m=m!==0&&E?m:y!==0?y:x!==0?x:g.series.index>A.series.index?-1:1}m=0<m}m&&(g=A)}),g}getChartCoordinatesFromPoint(L,E){var w=L.series;const g=w.xAxis;w=w.yAxis;const A=L.shapeArgs;if(g&&w){let m=q(L.clientX,L.plotX),y=L.plotY||0;return L.isNode&&A&&T(A.x)&&T(A.y)&&(m=A.x,y=A.y),E?{chartX:w.len+w.pos-y,chartY:g.len+g.pos-m}:{chartX:m+g.pos,chartY:y+w.pos}}if(A&&A.x&&A.y)return{chartX:A.x,chartY:A.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;var{container:L}=this.chart;const E=G(L);this.chartPosition={left:E.left,top:E.top,scaleX:1,scaleY:1};const w=L.offsetWidth;return L=L.offsetHeight,2<w&&2<L&&(this.chartPosition.scaleX=E.width/w,this.chartPosition.scaleY=E.height/L),this.chartPosition}getCoordinates(L){const E={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(w){E[w.isXAxis?"xAxis":"yAxis"].push({axis:w,value:w.toValue(L[w.horiz?"chartX":"chartY"])})}),E}getHoverData(L,E,w,g,A,m){const y=[];g=!(!g||!L);const x=function(ee){return ee.visible&&!(!A&&ee.directTouch)&&q(ee.options.enableMouseTracking,!0)};let M,X={chartX:m?m.chartX:void 0,chartY:m?m.chartY:void 0,shared:A};U(this,"beforeGetHoverData",X),M=E&&!E.stickyTracking?[E]:w.filter(ee=>ee.stickyTracking&&(X.filter||x)(ee));const re=g||!m?L:this.findNearestKDPoint(M,A,m);return E=re&&re.series,re&&(A&&!E.noSharedTooltip?(M=w.filter(function(ee){return X.filter?X.filter(ee):x(ee)&&!ee.noSharedTooltip}),M.forEach(function(ee){let he=B(ee.points,function(ye){return ye.x===re.x&&!ye.isNull});C(he)&&(ee.boosted&&ee.boost&&(he=ee.boost.getPoint(he)),y.push(he))})):y.push(re)),X={hoverPoint:re},U(this,"afterGetHoverData",X),{hoverPoint:X.hoverPoint,hoverSeries:E,hoverPoints:y}}getPointFromEvent(L){L=L.target;let E;for(;L&&!E;)E=L.point,L=L.parentNode;return E}onTrackerMouseOut(L){L=L.relatedTarget;const E=this.chart.hoverSeries;this.isDirectTouch=!1,!E||!L||E.stickyTracking||this.inClass(L,"highcharts-tooltip")||this.inClass(L,"highcharts-series-"+E.index)&&this.inClass(L,"highcharts-tracker")||E.onMouseOut()}inClass(L,E){let w;for(;L;){if(w=z(L,"class")){if(w.indexOf(E)!==-1)return!0;if(w.indexOf("highcharts-container")!==-1)return!1}L=L.parentElement}}init(L,E){this.options=E,this.chart=L,this.runChartClick=!(!E.chart.events||!E.chart.events.click),this.pinchDown=[],this.lastValidTouch={},this.setDOMEvents(),U(this,"afterInit")}normalize(L,E){var w=L.touches,g=w?w.length?w.item(0):q(w.changedTouches,L.changedTouches)[0]:L;return E||(E=this.getChartPosition()),w=g.pageX-E.left,g=g.pageY-E.top,w/=E.scaleX,g/=E.scaleY,I(L,{chartX:Math.round(w),chartY:Math.round(g)})}onContainerClick(L){const E=this.chart,w=E.hoverPoint;L=this.normalize(L);const g=E.plotLeft,A=E.plotTop;E.cancelClick||(w&&this.inClass(L.target,"highcharts-tracker")?(U(w.series,"click",I(L,{point:w})),E.hoverPoint&&w.firePointEvent("click",L)):(I(L,this.getCoordinates(L)),E.isInsidePlot(L.chartX-g,L.chartY-A,{visiblePlotOnly:!0})&&U(E,"click",L)))}onContainerMouseDown(L){const E=((L.buttons||L.button)&1)===1;L=this.normalize(L),u.isFirefox&&L.button!==0&&this.onContainerMouseMove(L),(typeof L.button>"u"||E)&&(this.zoomOption(L),E&&L.preventDefault&&L.preventDefault(),this.dragStart(L))}onContainerMouseLeave(L){const E=k[q(ne.hoverChartIndex,-1)];L=this.normalize(L),E&&L.relatedTarget&&!this.inClass(L.relatedTarget,"highcharts-tooltip")&&(E.pointer.reset(),E.pointer.chartPosition=void 0)}onContainerMouseEnter(L){delete this.chartPosition}onContainerMouseMove(L){const E=this.chart,w=E.tooltip;L=this.normalize(L),this.setHoverChartIndex(),(E.mouseIsDown==="mousedown"||this.touchSelect(L))&&this.drag(L),E.openMenu||!this.inClass(L.target,"highcharts-tracker")&&!E.isInsidePlot(L.chartX-E.plotLeft,L.chartY-E.plotTop,{visiblePlotOnly:!0})||w&&w.shouldStickOnContact(L)||(this.inClass(L.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(L))}onDocumentTouchEnd(L){const E=k[q(ne.hoverChartIndex,-1)];E&&E.pointer.drop(L)}onContainerTouchMove(L){this.touchSelect(L)?this.onContainerMouseMove(L):this.touch(L)}onContainerTouchStart(L){this.touchSelect(L)?this.onContainerMouseDown(L):(this.zoomOption(L),this.touch(L,!0))}onDocumentMouseMove(L){const E=this.chart,w=E.tooltip,g=this.chartPosition;L=this.normalize(L,g),!g||E.isInsidePlot(L.chartX-E.plotLeft,L.chartY-E.plotTop,{visiblePlotOnly:!0})||w&&w.shouldStickOnContact(L)||this.inClass(L.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(L){const E=k[q(ne.hoverChartIndex,-1)];E&&E.pointer.drop(L)}pinch(L){const E=this,w=E.chart,g=E.pinchDown,A=L.touches||[],m=A.length,y=E.lastValidTouch,x=E.hasZoom,M={},X=m===1&&(E.inClass(L.target,"highcharts-tracker")&&w.runTrackerClick||E.runChartClick),re={};var ee=E.chart.tooltip;ee=m===1&&q(ee&&ee.options.followTouchMove,!0);let he=E.selectionMarker;1<m?E.initiated=!0:ee&&(E.initiated=!1),x&&E.initiated&&!X&&L.cancelable!==!1&&L.preventDefault(),[].map.call(A,function(ye){return E.normalize(ye)}),L.type==="touchstart"?([].forEach.call(A,function(ye,Ce){g[Ce]={chartX:ye.chartX,chartY:ye.chartY}}),y.x=[g[0].chartX,g[1]&&g[1].chartX],y.y=[g[0].chartY,g[1]&&g[1].chartY],w.axes.forEach(function(ye){if(ye.zoomEnabled){const Ce=w.bounds[ye.horiz?"h":"v"],oe=ye.minPixelPadding,de=ye.toPixels(Math.min(q(ye.options.min,ye.dataMin),ye.dataMin)),fe=ye.toPixels(Math.max(q(ye.options.max,ye.dataMax),ye.dataMax)),ue=Math.max(de,fe);Ce.min=Math.min(ye.pos,Math.min(de,fe)-oe),Ce.max=Math.max(ye.pos+ye.len,ue+oe)}}),E.res=!0):ee?this.runPointActions(E.normalize(L)):g.length&&(U(w,"touchpan",{originalEvent:L},()=>{he||(E.selectionMarker=he=I({destroy:j,touch:!0},w.plotBox)),E.pinchTranslate(g,A,M,he,re,y),E.hasPinched=x,E.scaleGroups(M,re)}),E.res&&(E.res=!1,this.reset(!1,0)))}pinchTranslate(L,E,w,g,A,m){this.zoomHor&&this.pinchTranslateDirection(!0,L,E,w,g,A,m),this.zoomVert&&this.pinchTranslateDirection(!1,L,E,w,g,A,m)}pinchTranslateDirection(L,E,w,g,A,m,y,x){const M=this.chart,X=L?"x":"y",re=L?"X":"Y",ee="chart"+re,he=L?"width":"height",ye=M["plot"+(L?"Left":"Top")],Ce=M.inverted,oe=M.bounds[L?"h":"v"],de=E.length===1,fe=E[0][ee],ue=!de&&E[1][ee];E=function(){typeof ce=="number"&&20<Math.abs(fe-ue)&&(ge=x||Math.abs(xe-ce)/Math.abs(fe-ue)),te=(ye-xe)/ge+fe,pe=M["plot"+(L?"Width":"Height")]/ge};let pe,te,ge=x||1,xe=w[0][ee],ce=!de&&w[1][ee],we;E(),w=te,w<oe.min?(w=oe.min,we=!0):w+pe>oe.max&&(w=oe.max-pe,we=!0),we?(xe-=.8*(xe-y[X][0]),typeof ce=="number"&&(ce-=.8*(ce-y[X][1])),E()):y[X]=[xe,ce],Ce||(m[X]=te-ye,m[he]=pe),m=Ce?1/ge:ge,A[he]=pe,A[X]=w,g[Ce?L?"scaleY":"scaleX":"scale"+re]=ge,g["translate"+re]=m*ye+(xe-m*fe)}reset(L,E){const w=this.chart,g=w.hoverSeries,A=w.hoverPoint,m=w.hoverPoints,y=w.tooltip,x=y&&y.shared?m:A;L&&x&&N(x).forEach(function(M){M.series.isCartesian&&typeof M.plotX>"u"&&(L=!1)}),L?y&&x&&N(x).length&&(y.refresh(x),y.shared&&m?m.forEach(function(M){M.setState(M.state,!0),M.series.isCartesian&&(M.series.xAxis.crosshair&&M.series.xAxis.drawCrosshair(null,M),M.series.yAxis.crosshair&&M.series.yAxis.drawCrosshair(null,M))}):A&&(A.setState(A.state,!0),w.axes.forEach(function(M){M.crosshair&&A.series[M.coll]===M&&M.drawCrosshair(null,A)}))):(A&&A.onMouseOut(),m&&m.forEach(function(M){M.setState()}),g&&g.onMouseOut(),y&&y.hide(E),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),w.axes.forEach(function(M){M.hideCrosshair()}),this.hoverX=w.hoverPoints=w.hoverPoint=null)}runPointActions(L,E,w){const g=this.chart,A=g.tooltip&&g.tooltip.options.enabled?g.tooltip:void 0,m=A?A.shared:!1;let y=E||g.hoverPoint,x=y&&y.series||g.hoverSeries;E=this.getHoverData(y,x,g.series,(!L||L.type!=="touchmove")&&(!!E||x&&x.directTouch&&this.isDirectTouch),m,L),y=E.hoverPoint,x=E.hoverSeries;const M=E.hoverPoints;E=x&&x.tooltipOptions.followPointer&&!x.tooltipOptions.split;const X=m&&x&&!x.noSharedTooltip;if(y&&(w||y!==g.hoverPoint||A&&A.isHidden)){if((g.hoverPoints||[]).forEach(function(re){M.indexOf(re)===-1&&re.setState()}),g.hoverSeries!==x&&x.onMouseOver(),this.applyInactiveState(M),(M||[]).forEach(function(re){re.setState("hover")}),g.hoverPoint&&g.hoverPoint.firePointEvent("mouseOut"),!y.series)return;g.hoverPoints=M,g.hoverPoint=y,y.firePointEvent("mouseOver",void 0,()=>{A&&y&&A.refresh(X?M:y,L)})}else E&&A&&!A.isHidden&&(w=A.getAnchor([{}],L),g.isInsidePlot(w[0],w[1],{visiblePlotOnly:!0})&&A.updatePosition({plotX:w[0],plotY:w[1]}));this.unDocMouseMove||(this.unDocMouseMove=Z(g.container.ownerDocument,"mousemove",function(re){const ee=k[ne.hoverChartIndex];ee&&ee.pointer.onDocumentMouseMove(re)}),this.eventsToUnbind.push(this.unDocMouseMove)),g.axes.forEach(function(re){const ee=q((re.crosshair||{}).snap,!0);let he;ee&&((he=g.hoverPoint)&&he.series[re.coll]===re||(he=B(M,ye=>ye.series&&ye.series[re.coll]===re))),he||!ee?re.drawCrosshair(L,he):re.hideCrosshair()})}scaleGroups(L,E){const w=this.chart;w.series.forEach(function(g){const A=L||g.getPlotBox();g.group&&(g.xAxis&&g.xAxis.zoomEnabled||w.mapView)&&(g.group.attr(A),g.markerGroup&&(g.markerGroup.attr(A),g.markerGroup.clip(E?w.clipRect:null)),g.dataLabelsGroup&&g.dataLabelsGroup.attr(A))}),w.clipRect.attr(E||w.clipBox)}setDOMEvents(){const L=this.chart.container,E=L.ownerDocument;L.onmousedown=this.onContainerMouseDown.bind(this),L.onmousemove=this.onContainerMouseMove.bind(this),L.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(Z(L,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(Z(L,"mouseleave",this.onContainerMouseLeave.bind(this))),ne.unbindDocumentMouseUp||(ne.unbindDocumentMouseUp=Z(E,"mouseup",this.onDocumentMouseUp.bind(this)));let w=this.chart.renderTo.parentElement;for(;w&&w.tagName!=="BODY";)this.eventsToUnbind.push(Z(w,"scroll",()=>{delete this.chartPosition})),w=w.parentElement;u.hasTouch&&(this.eventsToUnbind.push(Z(L,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(Z(L,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),ne.unbindDocumentTouchEnd||(ne.unbindDocumentTouchEnd=Z(E,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))}setHoverChartIndex(){const L=this.chart,E=u.charts[q(ne.hoverChartIndex,-1)];E&&E!==L&&E.pointer.onContainerMouseLeave({relatedTarget:L.container}),E&&E.mouseIsDown||(ne.hoverChartIndex=L.index)}touch(L,E){const w=this.chart;let g;this.setHoverChartIndex(),L.touches.length===1?(L=this.normalize(L),w.isInsidePlot(L.chartX-w.plotLeft,L.chartY-w.plotTop,{visiblePlotOnly:!0})&&!w.openMenu?(E&&this.runPointActions(L),L.type==="touchmove"&&(E=this.pinchDown,g=E[0]?4<=Math.sqrt(Math.pow(E[0].chartX-L.chartX,2)+Math.pow(E[0].chartY-L.chartY,2)):!1),q(g,!0)&&this.pinch(L)):E&&this.reset()):L.touches.length===2&&this.pinch(L)}touchSelect(L){return!(!this.chart.options.chart.zooming.singleTouch||!L.touches||L.touches.length!==1)}zoomOption(L){var E=this.chart,w=E.options.chart;E=E.inverted;let g=w.zooming.type||"";/touch/.test(L.type)&&(g=q(w.zooming.pinchType,g)),this.zoomX=L=/x/.test(g),this.zoomY=w=/y/.test(g),this.zoomHor=L&&!E||w&&E,this.zoomVert=w&&!E||L&&E,this.hasZoom=L||w}}return function(K){const L=[],E=[];K.compose=function(w){d.pushUnique(E,w)&&Z(w,"beforeRender",function(){this.pointer=new K(this,this.options)})},K.dissolve=function(){for(let w=0,g=L.length;w<g;++w)L[w]();L.length=0}}(ne||(ne={})),ne}),i(a,"Core/Legend/Legend.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/FormatUtilities.js"],a["Core/Globals.js"],a["Core/Series/Point.js"],a["Core/Renderer/RendererUtilities.js"],a["Core/Utilities.js"]],function(o,u,d,n,k,j){const{animObject:Z,setAnimation:z}=o,{format:H}=u,{marginNames:Y}=d,{distribute:I}=k,{addEvent:B,createElement:U,css:T,defined:C,discardElement:P,find:G,fireEvent:q,isNumber:N,merge:ne,pick:K,relativeLength:L,stableSort:E,syncTimeout:w}=j;class g{constructor(m,y){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=m,this.init(m,y)}init(m,y){this.chart=m,this.setOptions(y),y.enabled&&(this.render(),B(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),B(this.chart,"render",()=>{this.proximate&&(this.proximatePositions(),this.positionItems())}))}setOptions(m){const y=K(m.padding,8);this.options=m,this.chart.styledMode||(this.itemStyle=m.itemStyle,this.itemHiddenStyle=ne(this.itemStyle,m.itemHiddenStyle)),this.itemMarginTop=m.itemMarginTop,this.itemMarginBottom=m.itemMarginBottom,this.padding=y,this.initialItemY=y-5,this.symbolWidth=K(m.symbolWidth,16),this.pages=[],this.proximate=m.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(m,y){const x=this.chart;this.setOptions(ne(!0,this.options,m)),this.destroy(),x.isDirtyLegend=x.isDirtyBox=!0,K(y,!0)&&x.redraw(),q(this,"afterUpdate")}colorizeItem(m,y){const{group:x,label:M,line:X,symbol:re}=m.legendItem||{};if(x&&x[y?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var ee=this.options;const he=this.itemHiddenStyle.color;ee=y?ee.itemStyle.color:he;const ye=y&&m.color||he,Ce=m.options&&m.options.marker;let oe={fill:ye};M&&M.css({fill:ee}),X&&X.attr({stroke:ye}),re&&(Ce&&re.isMarker&&(oe=m.pointAttribs(),y||(oe.stroke=oe.fill=he)),re.attr(oe))}q(this,"afterColorizeItem",{item:m,visible:y})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(m){const{group:y,x=0,y:M=0}=m.legendItem||{};var X=this.options,re=X.symbolPadding;const ee=!X.rtl;X=m.checkbox,y&&y.element&&(re={translateX:ee?x:this.legendWidth-x-2*re-4,translateY:M},y[C(y.translateY)?"animate":"attr"](re,void 0,()=>{q(this,"afterPositionItem",{item:m})})),X&&(X.x=x,X.y=M)}destroyItem(m){const y=m.checkbox,x=m.legendItem||{};for(const M of["group","label","line","symbol"])x[M]&&(x[M]=x[M].destroy());y&&P(y),m.legendItem=void 0}destroy(){for(const m of this.getAllItems())this.destroyItem(m);for(const m of"clipRect up down pager nav box title group".split(" "))this[m]&&(this[m]=this[m].destroy());this.display=null}positionCheckboxes(){const m=this.group&&this.group.alignAttr,y=this.clipHeight||this.legendHeight,x=this.titleHeight;let M;m&&(M=m.translateY,this.allItems.forEach(function(X){const re=X.checkbox;let ee;re&&(ee=M+x+re.y+(this.scrollOffset||0)+3,T(re,{left:m.translateX+X.checkboxOffset+re.x-20+"px",top:ee+"px",display:this.proximate||ee>M-6&&ee<M+y-6?"":"none"}))},this))}renderTitle(){var m=this.options;const y=this.padding,x=m.title;let M=0;x.text&&(this.title||(this.title=this.chart.renderer.label(x.text,y-3,y-4,void 0,void 0,void 0,m.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(x.style),this.title.add(this.group)),x.width||this.title.css({width:this.maxLegendWidth+"px"}),m=this.title.getBBox(),M=m.height,this.offsetWidth=m.width,this.contentGroup.attr({translateY:M})),this.titleHeight=M}setText(m){const y=this.options;m.legendItem.label.attr({text:y.labelFormat?H(y.labelFormat,m,this.chart):y.labelFormatter.call(m)})}renderItem(m){const y=m.legendItem=m.legendItem||{};var x=this.chart,M=x.renderer;const X=this.options,re=this.symbolWidth,ee=X.symbolPadding||0,he=this.itemStyle,ye=this.itemHiddenStyle,Ce=X.layout==="horizontal"?K(X.itemDistance,20):0,oe=!X.rtl,de=!m.series,fe=!de&&m.series.drawLegendSymbol?m.series:m;var ue=fe.options;const pe=this.createCheckboxForItem&&ue&&ue.showCheckbox,te=X.useHTML,ge=m.options.className;let xe=y.label;ue=re+ee+Ce+(pe?20:0),xe||(y.group=M.g("legend-item").addClass("highcharts-"+fe.type+"-series highcharts-color-"+m.colorIndex+(ge?" "+ge:"")+(de?" highcharts-series-"+m.index:"")).attr({zIndex:1}).add(this.scrollGroup),y.label=xe=M.text("",oe?re+ee:-ee,this.baseline||0,te),x.styledMode||xe.css(ne(m.visible?he:ye)),xe.attr({align:oe?"left":"right",zIndex:2}).add(y.group),this.baseline||(this.fontMetrics=M.fontMetrics(xe),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,xe.attr("y",this.baseline),this.symbolHeight=K(X.symbolHeight,this.fontMetrics.f),X.squareSymbol&&(this.symbolWidth=K(X.symbolWidth,Math.max(this.symbolHeight,16)),ue=this.symbolWidth+ee+Ce+(pe?20:0),oe&&xe.attr("x",this.symbolWidth+ee))),fe.drawLegendSymbol(this,m),this.setItemEvents&&this.setItemEvents(m,xe,te)),pe&&!m.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(m),this.colorizeItem(m,m.visible),!x.styledMode&&he.width||xe.css({width:(X.itemWidth||this.widthOption||x.spacingBox.width)-ue+"px"}),this.setText(m),x=xe.getBBox(),M=this.fontMetrics&&this.fontMetrics.h||0,m.itemWidth=m.checkboxOffset=X.itemWidth||y.labelWidth||x.width+ue,this.maxItemWidth=Math.max(this.maxItemWidth,m.itemWidth),this.totalItemWidth+=m.itemWidth,this.itemHeight=m.itemHeight=Math.round(y.labelHeight||(x.height>1.5*M?x.height:M))}layoutItem(m){var y=this.options;const x=this.padding,M=y.layout==="horizontal",X=m.itemHeight,re=this.itemMarginBottom,ee=this.itemMarginTop,he=M?K(y.itemDistance,20):0,ye=this.maxLegendWidth;y=y.alignColumns&&this.totalItemWidth>ye?this.maxItemWidth:m.itemWidth;const Ce=m.legendItem||{};M&&this.itemX-x+y>ye&&(this.itemX=x,this.lastLineHeight&&(this.itemY+=ee+this.lastLineHeight+re),this.lastLineHeight=0),this.lastItemY=ee+this.itemY+re,this.lastLineHeight=Math.max(X,this.lastLineHeight),Ce.x=this.itemX,Ce.y=this.itemY,M?this.itemX+=y:(this.itemY+=ee+X+re,this.lastLineHeight=X),this.offsetWidth=this.widthOption||Math.max((M?this.itemX-x-(m.checkbox?0:he):y)+x,this.offsetWidth)}getAllItems(){let m=[];return this.chart.series.forEach(function(y){const x=y&&y.options;y&&K(x.showInLegend,C(x.linkedTo)?!1:void 0,!0)&&(m=m.concat((y.legendItem||{}).labels||(x.legendType==="point"?y.data:y)))}),q(this,"afterGetAllItems",{allItems:m}),m}getAlignment(){const m=this.options;return this.proximate?m.align.charAt(0)+"tv":m.floating?"":m.align.charAt(0)+m.verticalAlign.charAt(0)+m.layout.charAt(0)}adjustMargins(m,y){const x=this.chart,M=this.options,X=this.getAlignment();X&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(re,ee){re.test(X)&&!C(m[ee])&&(x[Y[ee]]=Math.max(x[Y[ee]],x.legend[(ee+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][ee]*M[ee%2?"x":"y"]+K(M.margin,12)+y[ee]+(x.titleOffset[ee]||0)))})}proximatePositions(){const m=this.chart,y=[],x=this.options.align==="left";this.allItems.forEach(function(X){var re,ee=x;let he;X.yAxis&&(X.xAxis.options.reversed&&(ee=!ee),X.points&&(re=G(ee?X.points:X.points.slice(0).reverse(),function(ye){return N(ye.plotY)})),ee=this.itemMarginTop+X.legendItem.label.getBBox().height+this.itemMarginBottom,he=X.yAxis.top-m.plotTop,X.visible?(re=re?re.plotY:X.yAxis.height,re+=he-.3*ee):re=he+X.yAxis.height,y.push({target:re,size:ee,item:X}))},this);let M;for(const X of I(y,m.plotHeight))M=X.item.legendItem||{},N(X.pos)&&(M.y=m.plotTop-m.spacing[0]+X.pos)}render(){const m=this.chart,y=m.renderer,x=this.options,M=this.padding;var X=this.getAllItems();let re,ee=this.group,he=this.box;this.itemX=M,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=L(x.width,m.spacingBox.width-M);var ye=m.spacingBox.width-2*M-x.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(ye/=2),this.maxLegendWidth=this.widthOption||ye,ee||(this.group=ee=y.g("legend").addClass(x.className||"").attr({zIndex:7}).add(),this.contentGroup=y.g().attr({zIndex:1}).add(ee),this.scrollGroup=y.g().add(this.contentGroup)),this.renderTitle(),E(X,(Ce,oe)=>(Ce.options&&Ce.options.legendIndex||0)-(oe.options&&oe.options.legendIndex||0)),x.reversed&&X.reverse(),this.allItems=X,this.display=ye=!!X.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,X.forEach(this.renderItem,this),X.forEach(this.layoutItem,this),X=(this.widthOption||this.offsetWidth)+M,re=this.lastItemY+this.lastLineHeight+this.titleHeight,re=this.handleOverflow(re),re+=M,he||(this.box=he=y.rect().addClass("highcharts-legend-box").attr({r:x.borderRadius}).add(ee)),m.styledMode||he.attr({stroke:x.borderColor,"stroke-width":x.borderWidth||0,fill:x.backgroundColor||"none"}).shadow(x.shadow),0<X&&0<re&&he[he.placed?"animate":"attr"](he.crisp.call({},{x:0,y:0,width:X,height:re},he.strokeWidth())),ee[ye?"show":"hide"](),m.styledMode&&ee.getStyle("display")==="none"&&(X=re=0),this.legendWidth=X,this.legendHeight=re,ye&&this.align(),this.proximate||this.positionItems(),q(this,"afterRender")}align(m=this.chart.spacingBox){const y=this.chart,x=this.options;let M=m.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<y.titleOffset[0]?M+=y.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<y.titleOffset[2]&&(M-=y.titleOffset[2]),M!==m.y&&(m=ne(m,{y:M})),y.hasRendered||(this.group.placed=!1),this.group.align(ne(x,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":x.verticalAlign}),!0,m)}handleOverflow(m){const y=this,x=this.chart,M=x.renderer,X=this.options;var re=X.y;const ee=X.verticalAlign==="top",he=this.padding,ye=X.maxHeight,Ce=X.navigation,oe=K(Ce.animation,!0),de=Ce.arrowSize||12,fe=this.pages,ue=this.allItems,pe=function(Fe){typeof Fe=="number"?Ae.attr({height:Fe}):Ae&&(y.clipRect=Ae.destroy(),y.contentGroup.clip()),y.contentGroup.div&&(y.contentGroup.div.style.clip=Fe?"rect("+he+"px,9999px,"+(he+Fe)+"px,0)":"auto")},te=function(Fe){return y[Fe]=M.circle(0,0,1.3*de).translate(de/2,de/2).add(we),x.styledMode||y[Fe].attr("fill","rgba(0,0,0,0.0001)"),y[Fe]};let ge,xe,ce;re=x.spacingBox.height+(ee?-re:re)-he;let we=this.nav,Ae=this.clipRect;return X.layout!=="horizontal"||X.verticalAlign==="middle"||X.floating||(re/=2),ye&&(re=Math.min(re,ye)),fe.length=0,m&&0<re&&m>re&&Ce.enabled!==!1?(this.clipHeight=ge=Math.max(re-20-this.titleHeight-he,0),this.currentPage=K(this.currentPage,1),this.fullHeight=m,ue.forEach((Fe,De)=>{ce=Fe.legendItem||{},Fe=ce.y||0;const Ge=Math.round(ce.label.getBBox().height);let ct=fe.length;(!ct||Fe-fe[ct-1]>ge&&(xe||Fe)!==fe[ct-1])&&(fe.push(xe||Fe),ct++),ce.pageIx=ct-1,xe&&((ue[De-1].legendItem||{}).pageIx=ct-1),De===ue.length-1&&Fe+Ge-fe[ct-1]>ge&&Fe>fe[ct-1]&&(fe.push(Fe),ce.pageIx=ct),Fe!==xe&&(xe=Fe)}),Ae||(Ae=y.clipRect=M.clipRect(0,he-2,9999,0),y.contentGroup.clip(Ae)),pe(ge),we||(this.nav=we=M.g().attr({zIndex:1}).add(this.group),this.up=M.symbol("triangle",0,0,de,de).add(we),te("upTracker").on("click",function(){y.scroll(-1,oe)}),this.pager=M.text("",15,10).addClass("highcharts-legend-navigation"),!x.styledMode&&Ce.style&&this.pager.css(Ce.style),this.pager.add(we),this.down=M.symbol("triangle-down",0,0,de,de).add(we),te("downTracker").on("click",function(){y.scroll(1,oe)})),y.scroll(0),m=re):we&&(pe(),this.nav=we.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),m}scroll(m,y){const x=this.chart,M=this.pages,X=M.length,re=this.clipHeight,ee=this.options.navigation,he=this.pager,ye=this.padding;let Ce=this.currentPage+m;Ce>X&&(Ce=X),0<Ce&&(typeof y<"u"&&z(y,x),this.nav.attr({translateX:ye,translateY:re+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(oe){oe.attr({class:Ce===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),he.attr({text:Ce+"/"+X}),[this.down,this.downTracker].forEach(function(oe){oe.attr({x:18+this.pager.getBBox().width,class:Ce===X?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),x.styledMode||(this.up.attr({fill:Ce===1?ee.inactiveColor:ee.activeColor}),this.upTracker.css({cursor:Ce===1?"default":"pointer"}),this.down.attr({fill:Ce===X?ee.inactiveColor:ee.activeColor}),this.downTracker.css({cursor:Ce===X?"default":"pointer"})),this.scrollOffset=-M[Ce-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=Ce,this.positionCheckboxes(),m=Z(K(y,x.renderer.globalAnimation,!0)),w(()=>{q(this,"afterScroll",{currentPage:Ce})},m.duration))}setItemEvents(m,y,x){const M=this,X=m.legendItem||{},re=M.chart.renderer.boxWrapper,ee=m instanceof n,he="highcharts-legend-"+(ee?"point":"series")+"-active",ye=M.chart.styledMode;x=x?[y,X.symbol]:[X.group];const Ce=oe=>{M.allItems.forEach(de=>{m!==de&&[de].concat(de.linkedSeries||[]).forEach(fe=>{fe.setState(oe,!ee)})})};for(const oe of x)oe&&oe.on("mouseover",function(){m.visible&&Ce("inactive"),m.setState("hover"),m.visible&&re.addClass(he),ye||y.css(M.options.itemHoverStyle)}).on("mouseout",function(){M.chart.styledMode||y.css(ne(m.visible?M.itemStyle:M.itemHiddenStyle)),Ce(""),re.removeClass(he),m.setState()}).on("click",function(de){const fe=function(){m.setVisible&&m.setVisible(),Ce(m.visible?"inactive":"")};re.removeClass(he),de={browserEvent:de},m.firePointEvent?m.firePointEvent("legendItemClick",de,fe):q(m,"legendItemClick",de,fe)})}createCheckboxForItem(m){m.checkbox=U("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:m.selected,defaultChecked:m.selected},this.options.itemCheckboxStyle,this.chart.container),B(m.checkbox,"click",function(y){q(m.series||m,"checkboxClick",{checked:y.target.checked,item:m},function(){m.select()})})}}return function(A){const m=[];A.compose=function(y){j.pushUnique(m,y)&&B(y,"beforeMargins",function(){this.legend=new A(this,this.options.legend)})}}(g||(g={})),g}),i(a,"Core/Series/SeriesRegistry.js",[a["Core/Globals.js"],a["Core/Defaults.js"],a["Core/Series/Point.js"],a["Core/Utilities.js"]],function(o,u,d,n){const{defaultOptions:k}=u,{extendClass:j,merge:Z}=n;var z;return function(H){function Y(I,B){const U=k.plotOptions||{},T=B.defaultOptions,C=B.prototype;C.type=I,C.pointClass||(C.pointClass=d),T&&(U[I]=T),H.seriesTypes[I]=B}H.seriesTypes=o.seriesTypes,H.registerSeriesType=Y,H.seriesType=function(I,B,U,T,C){const P=k.plotOptions||{};return B=B||"",P[I]=Z(P[B],U),Y(I,j(H.seriesTypes[B]||function(){},T)),H.seriesTypes[I].prototype.type=I,C&&(H.seriesTypes[I].prototype.pointClass=j(d,C)),H.seriesTypes[I]}}(z||(z={})),z}),i(a,"Core/Chart/Chart.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Axis/Axis.js"],a["Core/Defaults.js"],a["Core/FormatUtilities.js"],a["Core/Foundation.js"],a["Core/Globals.js"],a["Core/Renderer/RendererRegistry.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Time.js"],a["Core/Utilities.js"],a["Core/Renderer/HTML/AST.js"]],function(o,u,d,n,k,j,Z,z,H,Y,I,B){const{animate:U,animObject:T,setAnimation:C}=o,{defaultOptions:P,defaultTime:G}=d,{numberFormat:q}=n,{registerEventOptions:N}=k,{charts:ne,doc:K,marginNames:L,svg:E,win:w}=j,{seriesTypes:g}=z,{addEvent:A,attr:m,cleanRecursively:y,createElement:x,css:M,defined:X,discardElement:re,erase:ee,error:he,extend:ye,find:Ce,fireEvent:oe,getStyle:de,isArray:fe,isNumber:ue,isObject:pe,isString:te,merge:ge,objectEach:xe,pick:ce,pInt:we,relativeLength:Ae,removeEvent:Fe,splat:De,syncTimeout:Ge,uniqueKey:ct}=I;class ot{static chart(Ie,Ue,He){return new ot(Ie,Ue,He)}constructor(Ie,Ue,He){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(Ie,Ue,He)}getArgs(Ie,Ue,He){te(Ie)||Ie.nodeName?(this.renderTo=Ie,this.init(Ue,He)):this.init(Ie,Ue)}init(Ie,Ue){const He=Ie.plotOptions||{};oe(this,"init",{args:arguments},function(){const it=ge(P,Ie),Je=it.chart;xe(it.plotOptions,function(ht,Ke){pe(ht)&&(ht.tooltip=He[Ke]&&ge(He[Ke].tooltip)||void 0)}),it.tooltip.userOptions=Ie.chart&&Ie.chart.forExport&&Ie.tooltip.userOptions||Ie.tooltip,this.userOptions=Ie,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=Ue,this.isResizing=0;const st=Je.zooming=Je.zooming||{};Ie.chart&&!Ie.chart.zooming&&(st.resetButton=Je.resetZoomButton),st.key=ce(st.key,Je.zoomKey),st.pinchType=ce(st.pinchType,Je.pinchType),st.singleTouch=ce(st.singleTouch,Je.zoomBySingleTouch),st.type=ce(st.type,Je.zoomType),this.options=it,this.axes=[],this.series=[],this.time=Ie.time&&Object.keys(Ie.time).length?new Y(Ie.time):j.time,this.numberFormatter=Je.numberFormatter||q,this.styledMode=Je.styledMode,this.hasCartesianSeries=Je.showAxes,this.index=ne.length,ne.push(this),j.chartCount++,N(this,Je),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,oe(this,"afterInit"),this.firstRender()})}initSeries(Ie){var Ue=this.options.chart;Ue=Ie.type||Ue.type;const He=g[Ue];return He||he(17,!0,this,{missingModuleFor:Ue}),Ue=new He,typeof Ue.init=="function"&&Ue.init(this,Ie),Ue}setSeriesData(){this.getSeriesOrderByLinks().forEach(function(Ie){Ie.points||Ie.data||!Ie.enabledDataSorting||Ie.setData(Ie.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(Ie,Ue){return Ie.linkedSeries.length||Ue.linkedSeries.length?Ue.linkedSeries.length-Ie.linkedSeries.length:0})}orderSeries(Ie){const Ue=this.series;for(let He=Ie||0,it=Ue.length;He<it;++He)Ue[He]&&(Ue[He].index=He,Ue[He].name=Ue[He].getName())}isInsidePlot(Ie,Ue,He={}){const{inverted:it,plotBox:Je,plotLeft:st,plotTop:ht,scrollablePlotBox:Ke}=this;var At=0;let Et=0;He.visiblePlotOnly&&this.scrollingContainer&&({scrollLeft:At,scrollTop:Et}=this.scrollingContainer);const Wt=He.series,fi=He.visiblePlotOnly&&Ke||Je;var ei=He.inverted?Ue:Ie;if(Ue=He.inverted?Ie:Ue,Ie={x:ei,y:Ue,isInsidePlot:!0,options:He},!He.ignoreX){const hi=Wt&&(it&&!this.polar?Wt.yAxis:Wt.xAxis)||{pos:st,len:1/0};ei=He.paneCoordinates?hi.pos+ei:st+ei,ei>=Math.max(At+st,hi.pos)&&ei<=Math.min(At+st+fi.width,hi.pos+hi.len)||(Ie.isInsidePlot=!1)}return!He.ignoreY&&Ie.isInsidePlot&&(At=!it&&He.axis&&!He.axis.isXAxis&&He.axis||Wt&&(it?Wt.xAxis:Wt.yAxis)||{pos:ht,len:1/0},He=He.paneCoordinates?At.pos+Ue:ht+Ue,He>=Math.max(Et+ht,At.pos)&&He<=Math.min(Et+ht+fi.height,At.pos+At.len)||(Ie.isInsidePlot=!1)),oe(this,"afterIsInsidePlot",Ie),Ie.isInsidePlot}redraw(Ie){oe(this,"beforeRedraw");const Ue=this.hasCartesianSeries?this.axes:this.colorAxis||[],He=this.series,it=this.pointer,Je=this.legend,st=this.userOptions.legend,ht=this.renderer,Ke=ht.isHidden(),At=[];let Et,Wt,fi=this.isDirtyBox,ei=this.isDirtyLegend,hi;for(ht.rootFontSize=ht.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),C(this.hasRendered?Ie:!1,this),Ke&&this.temporaryDisplay(),this.layOutTitles(),Ie=He.length;Ie--;)if(hi=He[Ie],(hi.options.stacking||hi.options.centerInCategory)&&(Wt=!0,hi.isDirty)){Et=!0;break}if(Et)for(Ie=He.length;Ie--;)hi=He[Ie],hi.options.stacking&&(hi.isDirty=!0);He.forEach(function(vi){vi.isDirty&&(vi.options.legendType==="point"?(typeof vi.updateTotals=="function"&&vi.updateTotals(),ei=!0):st&&(st.labelFormatter||st.labelFormat)&&(ei=!0)),vi.isDirtyData&&oe(vi,"updatedData")}),ei&&Je&&Je.options.enabled&&(Je.render(),this.isDirtyLegend=!1),Wt&&this.getStacks(),Ue.forEach(function(vi){vi.updateNames(),vi.setScale()}),this.getMargins(),Ue.forEach(function(vi){vi.isDirty&&(fi=!0)}),Ue.forEach(function(vi){const zi=vi.min+","+vi.max;vi.extKey!==zi&&(vi.extKey=zi,At.push(function(){oe(vi,"afterSetExtremes",ye(vi.eventArgs,vi.getExtremes())),delete vi.eventArgs})),(fi||Wt)&&vi.redraw()}),fi&&this.drawChartBox(),oe(this,"predraw"),He.forEach(function(vi){(fi||vi.isDirty)&&vi.visible&&vi.redraw(),vi.isDirtyData=!1}),it&&it.reset(!0),ht.draw(),oe(this,"redraw"),oe(this,"render"),Ke&&this.temporaryDisplay(!0),At.forEach(function(vi){vi.call()})}get(Ie){function Ue(Je){return Je.id===Ie||Je.options&&Je.options.id===Ie}const He=this.series;let it=Ce(this.axes,Ue)||Ce(this.series,Ue);for(let Je=0;!it&&Je<He.length;Je++)it=Ce(He[Je].points||[],Ue);return it}getAxes(){const Ie=this;var Ue=this.options;const He=Ue.xAxis=De(Ue.xAxis||{});Ue=Ue.yAxis=De(Ue.yAxis||{}),oe(this,"getAxes"),He.forEach(function(it,Je){it.index=Je,it.isX=!0}),Ue.forEach(function(it,Je){it.index=Je}),He.concat(Ue).forEach(function(it){new u(Ie,it)}),oe(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((Ie,Ue)=>(Ue.getPointsCollection().forEach(He=>{ce(He.selectedStaging,He.selected)&&Ie.push(He)}),Ie),[])}getSelectedSeries(){return this.series.filter(function(Ie){return Ie.selected})}setTitle(Ie,Ue,He){this.applyDescription("title",Ie),this.applyDescription("subtitle",Ue),this.applyDescription("caption",void 0),this.layOutTitles(He)}applyDescription(Ie,Ue){const He=this;var it=Ie==="title"?{color:"#333333",fontSize:this.options.isStock?"1em":"1.2em",fontWeight:"bold"}:{color:"#666666",fontSize:"0.8em"};it=this.options[Ie]=ge(!this.styledMode&&{style:it},this.options[Ie],Ue);let Je=this[Ie];Je&&Ue&&(this[Ie]=Je=Je.destroy()),it&&!Je&&(Je=this.renderer.text(it.text,0,0,it.useHTML).attr({align:it.align,class:"highcharts-"+Ie,zIndex:it.zIndex||4}).add(),Je.update=function(st){He[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[Ie]](st)},this.styledMode||Je.css(it.style),this[Ie]=Je)}layOutTitles(Ie){const Ue=[0,0,0],He=this.renderer,it=this.spacingBox;["title","subtitle","caption"].forEach(function(st){const ht=this[st],Ke=this.options[st],At=Ke.verticalAlign||"top";if(st=st==="title"?At==="top"?-3:0:At==="top"?Ue[0]+2:0,ht){ht.css({width:(Ke.width||it.width+(Ke.widthAdjust||0))+"px"});const Et=He.fontMetrics(ht).b,Wt=Math.round(ht.getBBox(Ke.useHTML).height);ht.align(ye({y:At==="bottom"?Et:st+Et,height:Wt},Ke),!1,"spacingBox"),Ke.floating||(At==="top"?Ue[0]=Math.ceil(Ue[0]+Wt):At==="bottom"&&(Ue[2]=Math.ceil(Ue[2]+Wt)))}},this),Ue[0]&&(this.options.title.verticalAlign||"top")==="top"&&(Ue[0]+=this.options.title.margin),Ue[2]&&this.options.caption.verticalAlign==="bottom"&&(Ue[2]+=this.options.caption.margin);const Je=!this.titleOffset||this.titleOffset.join(",")!==Ue.join(",");this.titleOffset=Ue,oe(this,"afterLayOutTitles"),!this.isDirtyBox&&Je&&(this.isDirtyBox=this.isDirtyLegend=Je,this.hasRendered&&ce(Ie,!0)&&this.isDirtyBox&&this.redraw())}getContainerBox(){return{width:de(this.renderTo,"width",!0)||0,height:de(this.renderTo,"height",!0)||0}}getChartSize(){var Ie=this.options.chart;const Ue=Ie.width;Ie=Ie.height;const He=this.getContainerBox();this.chartWidth=Math.max(0,Ue||He.width||600),this.chartHeight=Math.max(0,Ae(Ie,this.chartWidth)||(1<He.height?He.height:400)),this.containerBox=He}temporaryDisplay(Ie){let Ue=this.renderTo;if(Ie)for(;Ue&&Ue.style;)Ue.hcOrigStyle&&(M(Ue,Ue.hcOrigStyle),delete Ue.hcOrigStyle),Ue.hcOrigDetached&&(K.body.removeChild(Ue),Ue.hcOrigDetached=!1),Ue=Ue.parentNode;else for(;Ue&&Ue.style&&(K.body.contains(Ue)||Ue.parentNode||(Ue.hcOrigDetached=!0,K.body.appendChild(Ue)),(de(Ue,"display",!1)==="none"||Ue.hcOricDetached)&&(Ue.hcOrigStyle={display:Ue.style.display,height:Ue.style.height,overflow:Ue.style.overflow},Ie={display:"block",overflow:"hidden"},Ue!==this.renderTo&&(Ie.height=0),M(Ue,Ie),Ue.offsetWidth||Ue.style.setProperty("display","block","important")),Ue=Ue.parentNode,Ue!==K.body););}setClassName(Ie){this.container.className="highcharts-container "+(Ie||"")}getContainer(){const Ie=this.options,Ue=Ie.chart;var He=ct();let it,Je=this.renderTo;Je||(this.renderTo=Je=Ue.renderTo),te(Je)&&(this.renderTo=Je=K.getElementById(Je)),Je||he(13,!0,this);var st=we(m(Je,"data-highcharts-chart"));ue(st)&&ne[st]&&ne[st].hasRendered&&ne[st].destroy(),m(Je,"data-highcharts-chart",this.index),Je.innerHTML=B.emptyHTML,Ue.skipClone||Je.offsetWidth||this.temporaryDisplay(),this.getChartSize(),st=this.chartWidth;const ht=this.chartHeight;if(M(Je,{overflow:"hidden"}),this.styledMode||(it=ye({position:"relative",overflow:"hidden",width:st+"px",height:ht+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},Ue.style||{})),this.container=He=x("div",{id:He},it,Je),this._cursor=He.style.cursor,this.renderer=new(Ue.renderer||!E?Z.getRendererType(Ue.renderer):H)(He,st,ht,void 0,Ue.forExport,Ie.exporting&&Ie.exporting.allowHTML,this.styledMode),this.containerBox=this.getContainerBox(),C(void 0,this),this.setClassName(Ue.className),this.styledMode)for(const Ke in Ie.defs)this.renderer.definition(Ie.defs[Ke]);else this.renderer.setStyle(Ue.style);this.renderer.chartIndex=this.index,oe(this,"afterGetContainer")}getMargins(Ie){const{spacing:Ue,margin:He,titleOffset:it}=this;this.resetMargins(),it[0]&&!X(He[0])&&(this.plotTop=Math.max(this.plotTop,it[0]+Ue[0])),it[2]&&!X(He[2])&&(this.marginBottom=Math.max(this.marginBottom,it[2]+Ue[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(He,Ue),oe(this,"getMargins"),Ie||this.getAxisMargins()}getAxisMargins(){const Ie=this,Ue=Ie.axisOffset=[0,0,0,0],He=Ie.colorAxis,it=Ie.margin,Je=function(st){st.forEach(function(ht){ht.visible&&ht.getOffset()})};Ie.hasCartesianSeries?Je(Ie.axes):He&&He.length&&Je(He),L.forEach(function(st,ht){X(it[ht])||(Ie[st]+=Ue[ht])}),Ie.setChartSize()}reflow(Ie){const Ue=this;var He=Ue.options.chart;He=X(He.width)&&X(He.height);const it=Ue.containerBox,Je=Ue.getContainerBox();delete Ue.pointer.chartPosition,!He&&!Ue.isPrinting&&it&&Je.width&&((Je.width!==it.width||Je.height!==it.height)&&(I.clearTimeout(Ue.reflowTimeout),Ue.reflowTimeout=Ge(function(){Ue.container&&Ue.setSize(void 0,void 0,!1)},Ie?100:0)),Ue.containerBox=Je)}setReflow(){const Ie=this;var Ue=He=>{var it;!((it=Ie.options)===null||it===void 0)&&it.chart.reflow&&Ie.hasLoaded&&Ie.reflow(He)};typeof ResizeObserver=="function"?new ResizeObserver(Ue).observe(Ie.renderTo):(Ue=A(w,"resize",Ue),A(this,"destroy",Ue))}setSize(Ie,Ue,He){const it=this,Je=it.renderer;it.isResizing+=1,C(He,it),He=Je.globalAnimation,it.oldChartHeight=it.chartHeight,it.oldChartWidth=it.chartWidth,typeof Ie<"u"&&(it.options.chart.width=Ie),typeof Ue<"u"&&(it.options.chart.height=Ue),it.getChartSize(),it.styledMode||(He?U:M)(it.container,{width:it.chartWidth+"px",height:it.chartHeight+"px"},He),it.setChartSize(!0),Je.setSize(it.chartWidth,it.chartHeight,He),it.axes.forEach(function(st){st.isDirty=!0,st.setScale()}),it.isDirtyLegend=!0,it.isDirtyBox=!0,it.layOutTitles(),it.getMargins(),it.redraw(He),it.oldChartHeight=null,oe(it,"resize"),Ge(function(){it&&oe(it,"endResize",null,function(){--it.isResizing})},T(He).duration)}setChartSize(Ie){var Ue=this.inverted;const He=this.renderer;var it=this.chartWidth,Je=this.chartHeight;const st=this.options.chart,ht=this.spacing,Ke=this.clipOffset;let At,Et,Wt,fi;this.plotLeft=At=Math.round(this.plotLeft),this.plotTop=Et=Math.round(this.plotTop),this.plotWidth=Wt=Math.max(0,Math.round(it-At-this.marginRight)),this.plotHeight=fi=Math.max(0,Math.round(Je-Et-this.marginBottom)),this.plotSizeX=Ue?fi:Wt,this.plotSizeY=Ue?Wt:fi,this.plotBorderWidth=st.plotBorderWidth||0,this.spacingBox=He.spacingBox={x:ht[3],y:ht[0],width:it-ht[3]-ht[1],height:Je-ht[0]-ht[2]},this.plotBox=He.plotBox={x:At,y:Et,width:Wt,height:fi},Ue=2*Math.floor(this.plotBorderWidth/2),it=Math.ceil(Math.max(Ue,Ke[3])/2),Je=Math.ceil(Math.max(Ue,Ke[0])/2),this.clipBox={x:it,y:Je,width:Math.floor(this.plotSizeX-Math.max(Ue,Ke[1])/2-it),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(Ue,Ke[2])/2-Je))},Ie||(this.axes.forEach(function(ei){ei.setAxisSize(),ei.setAxisTranslation()}),He.alignElements()),oe(this,"afterSetChartSize",{skipAxes:Ie})}resetMargins(){oe(this,"resetMargins");const Ie=this,Ue=Ie.options.chart;["margin","spacing"].forEach(function(He){const it=Ue[He],Je=pe(it)?it:[it,it,it,it];["Top","Right","Bottom","Left"].forEach(function(st,ht){Ie[He][ht]=ce(Ue[He+st],Je[ht])})}),L.forEach(function(He,it){Ie[He]=ce(Ie.margin[it],Ie.spacing[it])}),Ie.axisOffset=[0,0,0,0],Ie.clipOffset=[0,0,0,0]}drawChartBox(){const Ie=this.options.chart,Ue=this.renderer,He=this.chartWidth,it=this.chartHeight,Je=this.styledMode,st=this.plotBGImage;var ht=Ie.backgroundColor;const Ke=Ie.plotBackgroundColor,At=Ie.plotBackgroundImage,Et=this.plotLeft,Wt=this.plotTop,fi=this.plotWidth,ei=this.plotHeight,hi=this.plotBox,vi=this.clipRect,zi=this.clipBox;let Ji=this.chartBackground,cr=this.plotBackground,Yr=this.plotBorder,Cr,jr,or="animate";Ji||(this.chartBackground=Ji=Ue.rect().addClass("highcharts-background").add(),or="attr"),Je?Cr=jr=Ji.strokeWidth():(Cr=Ie.borderWidth||0,jr=Cr+(Ie.shadow?8:0),ht={fill:ht||"none"},(Cr||Ji["stroke-width"])&&(ht.stroke=Ie.borderColor,ht["stroke-width"]=Cr),Ji.attr(ht).shadow(Ie.shadow)),Ji[or]({x:jr/2,y:jr/2,width:He-jr-Cr%2,height:it-jr-Cr%2,r:Ie.borderRadius}),or="animate",cr||(or="attr",this.plotBackground=cr=Ue.rect().addClass("highcharts-plot-background").add()),cr[or](hi),Je||(cr.attr({fill:Ke||"none"}).shadow(Ie.plotShadow),At&&(st?(At!==st.attr("href")&&st.attr("href",At),st.animate(hi)):this.plotBGImage=Ue.image(At,Et,Wt,fi,ei).add())),vi?vi.animate({width:zi.width,height:zi.height}):this.clipRect=Ue.clipRect(zi),or="animate",Yr||(or="attr",this.plotBorder=Yr=Ue.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),Je||Yr.attr({stroke:Ie.plotBorderColor,"stroke-width":Ie.plotBorderWidth||0,fill:"none"}),Yr[or](Yr.crisp({x:Et,y:Wt,width:fi,height:ei},-Yr.strokeWidth())),this.isDirtyBox=!1,oe(this,"afterDrawChartBox")}propFromSeries(){const Ie=this,Ue=Ie.options.chart,He=Ie.options.series;let it,Je,st;["inverted","angular","polar"].forEach(function(ht){for(Je=g[Ue.type],st=Ue[ht]||Je&&Je.prototype[ht],it=He&&He.length;!st&&it--;)(Je=g[He[it].type])&&Je.prototype[ht]&&(st=!0);Ie[ht]=st})}linkSeries(Ie){const Ue=this,He=Ue.series;He.forEach(function(it){it.linkedSeries.length=0}),He.forEach(function(it){let Je=it.options.linkedTo;te(Je)&&(Je=Je===":previous"?Ue.series[it.index-1]:Ue.get(Je))&&Je.linkedParent!==it&&(Je.linkedSeries.push(it),it.linkedParent=Je,Je.enabledDataSorting&&it.setDataSortingOptions(),it.visible=ce(it.options.visible,Je.options.visible,it.visible))}),oe(this,"afterLinkSeries",{isUpdating:Ie})}renderSeries(){this.series.forEach(function(Ie){Ie.translate(),Ie.render()})}render(){const Ie=this.axes,Ue=this.colorAxis,He=this.renderer,it=function(Et){Et.forEach(function(Wt){Wt.visible&&Wt.render()})};let Je=0;this.setTitle(),oe(this,"beforeMargins"),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize();const st=this.plotWidth;Ie.some(function(Et){if(Et.horiz&&Et.visible&&Et.options.labels.enabled&&Et.series.length)return Je=21,!0});const ht=this.plotHeight=Math.max(this.plotHeight-Je,0);Ie.forEach(function(Et){Et.setScale()}),this.getAxisMargins();const Ke=1.1<st/this.plotWidth,At=1.05<ht/this.plotHeight;(Ke||At)&&(Ie.forEach(function(Et){(Et.horiz&&Ke||!Et.horiz&&At)&&Et.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?it(Ie):Ue&&Ue.length&&it(Ue),this.seriesGroup||(this.seriesGroup=He.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(Ie){const Ue=this,He=ge(!0,this.options.credits,Ie);He.enabled&&!this.credits&&(this.credits=this.renderer.text(He.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){He.href&&(w.location.href=He.href)}).attr({align:He.position.align,zIndex:8}),Ue.styledMode||this.credits.css(He.style),this.credits.add().align(He.position),this.credits.update=function(it){Ue.credits=Ue.credits.destroy(),Ue.addCredits(it)})}destroy(){const Ie=this,Ue=Ie.axes,He=Ie.series,it=Ie.container,Je=it&&it.parentNode;let st;for(oe(Ie,"destroy"),Ie.renderer.forExport?ee(ne,Ie):ne[Ie.index]=void 0,j.chartCount--,Ie.renderTo.removeAttribute("data-highcharts-chart"),Fe(Ie),st=Ue.length;st--;)Ue[st]=Ue[st].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),st=He.length;st--;)He[st]=He[st].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(ht){const Ke=Ie[ht];Ke&&Ke.destroy&&(Ie[ht]=Ke.destroy())}),it&&(it.innerHTML=B.emptyHTML,Fe(it),Je&&re(it)),xe(Ie,function(ht,Ke){delete Ie[Ke]})}firstRender(){const Ie=this,Ue=Ie.options;Ie.getContainer(),Ie.resetMargins(),Ie.setChartSize(),Ie.propFromSeries(),Ie.getAxes(),(fe(Ue.series)?Ue.series:[]).forEach(function(He){Ie.initSeries(He)}),Ie.linkSeries(),Ie.setSeriesData(),oe(Ie,"beforeRender"),Ie.render(),Ie.pointer.getChartPosition(),!Ie.renderer.imgCount&&!Ie.hasLoaded&&Ie.onload(),Ie.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(Ie){Ie&&typeof this.index<"u"&&Ie.apply(this,[this])},this),oe(this,"load"),oe(this,"render"),X(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){const{options:Ie,title:Ue}=this;Ie&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(Ue&&Ue.element.textContent||"").replace(/</g,"&lt;")}),Ie.accessibility&&Ie.accessibility.enabled===!1||he('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(Ie,Ue,He){const it=this;let Je;return Ie&&(Ue=ce(Ue,!0),oe(it,"addSeries",{options:Ie},function(){Je=it.initSeries(Ie),it.isDirtyLegend=!0,it.linkSeries(),Je.enabledDataSorting&&Je.setData(Ie.data,!1),oe(it,"afterAddSeries",{series:Je}),Ue&&it.redraw(He)})),Je}addAxis(Ie,Ue,He,it){return this.createAxis(Ue?"xAxis":"yAxis",{axis:Ie,redraw:He,animation:it})}addColorAxis(Ie,Ue,He){return this.createAxis("colorAxis",{axis:Ie,redraw:Ue,animation:He})}createAxis(Ie,Ue){return Ie=new u(this,ge(Ue.axis,{index:this[Ie].length,isX:Ie==="xAxis"})),ce(Ue.redraw,!0)&&this.redraw(Ue.animation),Ie}showLoading(Ie){const Ue=this,He=Ue.options,it=He.loading,Je=function(){st&&M(st,{left:Ue.plotLeft+"px",top:Ue.plotTop+"px",width:Ue.plotWidth+"px",height:Ue.plotHeight+"px"})};let st=Ue.loadingDiv,ht=Ue.loadingSpan;st||(Ue.loadingDiv=st=x("div",{className:"highcharts-loading highcharts-loading-hidden"},null,Ue.container)),ht||(Ue.loadingSpan=ht=x("span",{className:"highcharts-loading-inner"},null,st),A(Ue,"redraw",Je)),st.className="highcharts-loading",B.setElementHTML(ht,ce(Ie,He.lang.loading,"")),Ue.styledMode||(M(st,ye(it.style,{zIndex:10})),M(ht,it.labelStyle),Ue.loadingShown||(M(st,{opacity:0,display:""}),U(st,{opacity:it.style.opacity||.5},{duration:it.showDuration||0}))),Ue.loadingShown=!0,Je()}hideLoading(){const Ie=this.options,Ue=this.loadingDiv;Ue&&(Ue.className="highcharts-loading highcharts-loading-hidden",this.styledMode||U(Ue,{opacity:0},{duration:Ie.loading.hideDuration||100,complete:function(){M(Ue,{display:"none"})}})),this.loadingShown=!1}update(Ie,Ue,He,it){const Je=this,st={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},ht=Ie.isResponsiveOptions,Ke=[];let At,Et;oe(Je,"update",{options:Ie}),ht||Je.setResponsive(!1,!0),Ie=y(Ie,Je.options),Je.userOptions=ge(Je.userOptions,Ie);var Wt=Ie.chart;if(Wt){if(ge(!0,Je.options.chart,Wt),"className"in Wt&&Je.setClassName(Wt.className),"inverted"in Wt||"polar"in Wt||"type"in Wt){Je.propFromSeries();var fi=!0}"alignTicks"in Wt&&(fi=!0),"events"in Wt&&N(this,Wt),xe(Wt,function(ei,hi){Je.propsRequireUpdateSeries.indexOf("chart."+hi)!==-1&&(At=!0),Je.propsRequireDirtyBox.indexOf(hi)!==-1&&(Je.isDirtyBox=!0),Je.propsRequireReflow.indexOf(hi)!==-1&&(ht?Je.isDirtyBox=!0:Et=!0)}),!Je.styledMode&&Wt.style&&Je.renderer.setStyle(Je.options.chart.style||{})}!Je.styledMode&&Ie.colors&&(this.options.colors=Ie.colors),Ie.time&&(this.time===G&&(this.time=new Y(Ie.time)),ge(!0,Je.options.time,Ie.time)),xe(Ie,function(ei,hi){Je[hi]&&typeof Je[hi].update=="function"?Je[hi].update(ei,!1):typeof Je[st[hi]]=="function"?Je[st[hi]](ei):hi!=="colors"&&Je.collectionsWithUpdate.indexOf(hi)===-1&&ge(!0,Je.options[hi],Ie[hi]),hi!=="chart"&&Je.propsRequireUpdateSeries.indexOf(hi)!==-1&&(At=!0)}),this.collectionsWithUpdate.forEach(function(ei){let hi;Ie[ei]&&(hi=[],Je[ei].forEach(function(vi,zi){vi.options.isInternal||hi.push(ce(vi.options.index,zi))}),De(Ie[ei]).forEach(function(vi,zi){const Ji=X(vi.id);let cr;Ji&&(cr=Je.get(vi.id)),!cr&&Je[ei]&&(cr=Je[ei][hi?hi[zi]:zi])&&Ji&&X(cr.options.id)&&(cr=void 0),cr&&cr.coll===ei&&(cr.update(vi,!1),He&&(cr.touched=!0)),!cr&&He&&Je.collectionsWithInit[ei]&&(Je.collectionsWithInit[ei][0].apply(Je,[vi].concat(Je.collectionsWithInit[ei][1]||[]).concat([!1])).touched=!0)}),He&&Je[ei].forEach(function(vi){vi.touched||vi.options.isInternal?delete vi.touched:Ke.push(vi)}))}),Ke.forEach(function(ei){ei.chart&&ei.remove&&ei.remove(!1)}),fi&&Je.axes.forEach(function(ei){ei.update({},!1)}),At&&Je.getSeriesOrderByLinks().forEach(function(ei){ei.chart&&ei.update({},!1)},this),fi=Wt&&Wt.width,Wt=Wt&&(te(Wt.height)?Ae(Wt.height,fi||Je.chartWidth):Wt.height),Et||ue(fi)&&fi!==Je.chartWidth||ue(Wt)&&Wt!==Je.chartHeight?Je.setSize(fi,Wt,it):ce(Ue,!0)&&Je.redraw(it),oe(Je,"afterUpdate",{options:Ie,redraw:Ue,animation:it})}setSubtitle(Ie,Ue){this.applyDescription("subtitle",Ie),this.layOutTitles(Ue)}setCaption(Ie,Ue){this.applyDescription("caption",Ie),this.layOutTitles(Ue)}showResetZoom(){function Ie(){Ue.zoomOut()}const Ue=this,He=P.lang,it=Ue.options.chart.zooming.resetButton,Je=it.theme,st=it.relativeTo==="chart"||it.relativeTo==="spacingBox"?null:"scrollablePlotBox";oe(this,"beforeShowResetZoom",null,function(){Ue.resetZoomButton=Ue.renderer.button(He.resetZoom,null,null,Ie,Je).attr({align:it.position.align,title:He.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(it.position,!1,st)}),oe(this,"afterShowResetZoom")}zoomOut(){oe(this,"selection",{resetSelection:!0},this.zoom)}zoom(Ie){const Ue=this,He=Ue.pointer;let it=!1,Je;!Ie||Ie.resetSelection?(Ue.axes.forEach(function(ht){Je=ht.zoom()}),He.initiated=!1):Ie.xAxis.concat(Ie.yAxis).forEach(function(ht){const Ke=ht.axis;(He[Ke.isXAxis?"zoomX":"zoomY"]&&X(He.mouseDownX)&&X(He.mouseDownY)&&Ue.isInsidePlot(He.mouseDownX-Ue.plotLeft,He.mouseDownY-Ue.plotTop,{axis:Ke})||!X(Ue.inverted?He.mouseDownX:He.mouseDownY))&&(Je=Ke.zoom(ht.min,ht.max),Ke.displayBtn&&(it=!0))});const st=Ue.resetZoomButton;it&&!st?Ue.showResetZoom():!it&&pe(st)&&(Ue.resetZoomButton=st.destroy()),Je&&Ue.redraw(ce(Ue.options.chart.animation,Ie&&Ie.animation,100>Ue.pointCount))}pan(Ie,Ue){const He=this,it=He.hoverPoints;Ue=typeof Ue=="object"?Ue:{enabled:Ue,type:"x"};const Je=He.options.chart;Je&&Je.panning&&(Je.panning=Ue);const st=Ue.type;let ht;oe(this,"pan",{originalEvent:Ie},function(){it&&it.forEach(function(Et){Et.setState()});let Ke=He.xAxis;st==="xy"?Ke=Ke.concat(He.yAxis):st==="y"&&(Ke=He.yAxis);const At={};Ke.forEach(function(Et){if(Et.options.panningEnabled&&!Et.options.isInternal){var Wt=Et.horiz,fi=Ie[Wt?"chartX":"chartY"];Wt=Wt?"mouseDownX":"mouseDownY";var ei=He[Wt],hi=Et.minPointOffset||0,vi=Et.reversed&&!He.inverted||!Et.reversed&&He.inverted?-1:1,zi=Et.getExtremes(),Ji=Et.toValue(ei-fi,!0)+hi*vi,cr=Et.toValue(ei+Et.len-fi,!0)-(hi*vi||Et.isXAxis&&Et.pointRangePadding||0),Yr=cr<Ji;vi=Et.hasVerticalPanning(),ei=Yr?cr:Ji,Ji=Yr?Ji:cr;var Cr=Et.panningState;!vi||Et.isXAxis||Cr&&!Cr.isDirty||Et.series.forEach(function(jr){var or=jr.getProcessedData(!0);or=jr.getExtremes(or.yData,!0),Cr||(Cr={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),ue(or.dataMin)&&ue(or.dataMax)&&(Cr.startMin=Math.min(ce(jr.options.threshold,1/0),or.dataMin,Cr.startMin),Cr.startMax=Math.max(ce(jr.options.threshold,-1/0),or.dataMax,Cr.startMax))}),vi=Math.min(ce(Cr&&Cr.startMin,zi.dataMin),hi?zi.min:Et.toValue(Et.toPixels(zi.min)-Et.minPixelPadding)),cr=Math.max(ce(Cr&&Cr.startMax,zi.dataMax),hi?zi.max:Et.toValue(Et.toPixels(zi.max)+Et.minPixelPadding)),Et.panningState=Cr,Et.isOrdinal||(hi=vi-ei,0<hi&&(Ji+=hi,ei=vi),hi=Ji-cr,0<hi&&(Ji=cr,ei-=hi),Et.series.length&&ei!==zi.min&&Ji!==zi.max&&ei>=vi&&Ji<=cr&&(Et.setExtremes(ei,Ji,!1,!1,{trigger:"pan"}),!He.resetZoomButton&&ei!==vi&&Ji!==cr&&st.match("y")&&(He.showResetZoom(),Et.displayBtn=!1),ht=!0),At[Wt]=fi)}}),xe(At,(Et,Wt)=>{He[Wt]=Et}),ht&&He.redraw(!1),M(He.container,{cursor:"move"})})}}return ye(ot.prototype,{callbacks:[],collectionsWithInit:{xAxis:[ot.prototype.addAxis,[!0]],yAxis:[ot.prototype.addAxis,[!1]],series:[ot.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),ot}),i(a,"Core/Legend/LegendSymbol.js",[a["Core/Utilities.js"]],function(o){const{extend:u,merge:d,pick:n}=o;var k;return function(j){j.lineMarker=function(Z,z){z=this.legendItem=this.legendItem||{};var H=this.options;const Y=Z.symbolWidth,I=Z.symbolHeight,B=I/2,U=this.chart.renderer,T=z.group;Z=Z.baseline-Math.round(.3*Z.fontMetrics.b);let C={},P=H.marker,G=0;this.chart.styledMode||(C={"stroke-width":Math.min(H.lineWidth||0,24)},H.dashStyle?C.dashstyle=H.dashStyle:H.linecap!=="square"&&(C["stroke-linecap"]="round")),z.line=U.path().addClass("highcharts-graph").attr(C).add(T),C["stroke-linecap"]&&(G=Math.min(z.line.strokeWidth(),Y)/2),Y&&z.line.attr({d:[["M",G,Z],["L",Y-G,Z]]}),P&&P.enabled!==!1&&Y&&(H=Math.min(n(P.radius,B),B),this.symbol.indexOf("url")===0&&(P=d(P,{width:I,height:I}),H=0),z.symbol=z=U.symbol(this.symbol,Y/2-H,Z-H,2*H,2*H,u({context:"legend"},P)).addClass("highcharts-point").add(T),z.isMarker=!0)},j.rectangle=function(Z,z){z=z.legendItem||{};const H=Z.symbolHeight,Y=Z.options.squareSymbol;z.symbol=this.chart.renderer.rect(Y?(Z.symbolWidth-H)/2:0,Z.baseline-H+1,Y?H:Z.symbolWidth,H,n(Z.options.symbolRadius,H/2)).addClass("highcharts-point").attr({zIndex:3}).add(z.group)}}(k||(k={})),k}),i(a,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:1,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){const{numberFormatter:o}=this.series.chart;return typeof this.y!="number"?"":o(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),i(a,"Core/Series/Series.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Defaults.js"],a["Core/Foundation.js"],a["Core/Globals.js"],a["Core/Legend/LegendSymbol.js"],a["Core/Series/Point.js"],a["Core/Series/SeriesDefaults.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Utilities.js"]],function(o,u,d,n,k,j,Z,z,H,Y){const{animObject:I,setAnimation:B}=o,{defaultOptions:U}=u,{registerEventOptions:T}=d,{hasTouch:C,svg:P,win:G}=n,{seriesTypes:q}=z,{arrayMax:N,arrayMin:ne,clamp:K,cleanRecursively:L,correctFloat:E,defined:w,erase:g,error:A,extend:m,find:y,fireEvent:x,getNestedProperty:M,isArray:X,isNumber:re,isString:ee,merge:he,objectEach:ye,pick:Ce,removeEvent:oe,splat:de,syncTimeout:fe}=Y;class ue{constructor(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}init(te,ge){x(this,"init",{options:ge});const xe=this,ce=te.series;this.eventsToUnbind=[],xe.chart=te,xe.options=xe.setOptions(ge),ge=xe.options,xe.linkedSeries=[],xe.bindAxes(),m(xe,{name:ge.name,state:"",visible:ge.visible!==!1,selected:ge.selected===!0}),T(this,ge);const we=ge.events;(we&&we.click||ge.point&&ge.point.events&&ge.point.events.click||ge.allowPointSelect)&&(te.runTrackerClick=!0),xe.getColor(),xe.getSymbol(),xe.parallelArrays.forEach(function(Fe){xe[Fe+"Data"]||(xe[Fe+"Data"]=[])}),xe.isCartesian&&(te.hasCartesianSeries=!0);let Ae;ce.length&&(Ae=ce[ce.length-1]),xe._i=Ce(Ae&&Ae._i,-1)+1,xe.opacity=xe.options.opacity,te.orderSeries(this.insert(ce)),ge.dataSorting&&ge.dataSorting.enabled?xe.setDataSortingOptions():xe.points||xe.data||xe.setData(ge.data,!1),x(this,"afterInit")}is(te){return q[te]&&this instanceof q[te]}insert(te){const ge=this.options.index;let xe;if(re(ge)){for(xe=te.length;xe--;)if(ge>=Ce(te[xe].options.index,te[xe]._i)){te.splice(xe+1,0,this);break}xe===-1&&te.unshift(this),xe+=1}else te.push(this);return Ce(xe,te.length-1)}bindAxes(){const te=this,ge=te.options,xe=te.chart;let ce;x(this,"bindAxes",null,function(){(te.axisTypes||[]).forEach(function(we){let Ae=0;xe[we].forEach(function(Fe){ce=Fe.options,(ge[we]===Ae&&!ce.isInternal||typeof ge[we]<"u"&&ge[we]===ce.id||typeof ge[we]>"u"&&ce.index===0)&&(te.insert(Fe.series),te[we]=Fe,Fe.isDirty=!0),ce.isInternal||Ae++}),te[we]||te.optionalAxis===we||A(18,!0,xe)})}),x(this,"afterBindAxes")}updateParallelArrays(te,ge,xe){const ce=te.series,we=re(ge)?function(Ae){const Fe=Ae==="y"&&ce.toYData?ce.toYData(te):te[Ae];ce[Ae+"Data"][ge]=Fe}:function(Ae){Array.prototype[ge].apply(ce[Ae+"Data"],xe)};ce.parallelArrays.forEach(we)}hasData(){return this.visible&&typeof this.dataMax<"u"&&typeof this.dataMin<"u"||this.visible&&this.yData&&0<this.yData.length}autoIncrement(te){var ge=this.options;const xe=ge.pointIntervalUnit,ce=ge.relativeXValue,we=this.chart.time;let Ae=this.xIncrement,Fe;return Ae=Ce(Ae,ge.pointStart,0),this.pointInterval=Fe=Ce(this.pointInterval,ge.pointInterval,1),ce&&re(te)&&(Fe*=te),xe&&(ge=new we.Date(Ae),xe==="day"?we.set("Date",ge,we.get("Date",ge)+Fe):xe==="month"?we.set("Month",ge,we.get("Month",ge)+Fe):xe==="year"&&we.set("FullYear",ge,we.get("FullYear",ge)+Fe),Fe=ge.getTime()-Ae),ce&&re(te)?Ae+Fe:(this.xIncrement=Ae+Fe,Ae)}setDataSortingOptions(){const te=this.options;m(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),w(te.pointRange)||(te.pointRange=1)}setOptions(te){var ge=this.chart,xe=ge.options,ce=xe.plotOptions,we=ge.userOptions||{};te=he(te),ge=ge.styledMode;const Ae={plotOptions:ce,userOptions:te};x(this,"setOptions",Ae);const Fe=Ae.plotOptions[this.type],De=we.plotOptions||{};return this.userOptions=Ae.userOptions,we=he(Fe,ce.series,we.plotOptions&&we.plotOptions[this.type],te),this.tooltipOptions=he(U.tooltip,U.plotOptions.series&&U.plotOptions.series.tooltip,U.plotOptions[this.type].tooltip,xe.tooltip.userOptions,ce.series&&ce.series.tooltip,ce[this.type].tooltip,te.tooltip),this.stickyTracking=Ce(te.stickyTracking,De[this.type]&&De[this.type].stickyTracking,De.series&&De.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:we.stickyTracking),Fe.marker===null&&delete we.marker,this.zoneAxis=we.zoneAxis,ce=this.zones=(we.zones||[]).slice(),!we.negativeColor&&!we.negativeFillColor||we.zones||(xe={value:we[this.zoneAxis+"Threshold"]||we.threshold||0,className:"highcharts-negative"},ge||(xe.color=we.negativeColor,xe.fillColor=we.negativeFillColor),ce.push(xe)),ce.length&&w(ce[ce.length-1].value)&&ce.push(ge?{}:{color:this.color,fillColor:this.fillColor}),x(this,"afterSetOptions",{options:we}),we}getName(){return Ce(this.options.name,"Series "+(this.index+1))}getCyclic(te,ge,xe){const ce=this.chart,we=this.userOptions,Ae=te+"Index",Fe=te+"Counter",De=xe?xe.length:Ce(ce.options.chart[te+"Count"],ce[te+"Count"]);if(!ge){var Ge=Ce(we[Ae],we["_"+Ae]);w(Ge)||(ce.series.length||(ce[Fe]=0),we["_"+Ae]=Ge=ce[Fe]%De,ce[Fe]+=1),xe&&(ge=xe[Ge])}typeof Ge<"u"&&(this[Ae]=Ge),this[te]=ge}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||U.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)}findPointIndex(te,ge){const xe=te.id,ce=te.x,we=this.points;var Ae=this.options.dataSorting,Fe;let De,Ge;if(xe)Ae=this.chart.get(xe),Ae instanceof j&&(Fe=Ae);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(Fe=ct=>!ct.touched&&ct.index===te.index,Ae&&Ae.matchByName?Fe=ct=>!ct.touched&&ct.name===te.name:this.options.relativeXValue&&(Fe=ct=>!ct.touched&&ct.options.x===te.x),Fe=y(we,Fe),!Fe))return;return Fe&&(Ge=Fe&&Fe.index,typeof Ge<"u"&&(De=!0)),typeof Ge>"u"&&re(ce)&&(Ge=this.xData.indexOf(ce,ge)),Ge!==-1&&typeof Ge<"u"&&this.cropped&&(Ge=Ge>=this.cropStart?Ge-this.cropStart:Ge),!De&&re(Ge)&&we[Ge]&&we[Ge].touched&&(Ge=void 0),Ge}updateData(te,ge){const xe=this.options,ce=xe.dataSorting,we=this.points,Ae=[],Fe=this.requireSorting,De=te.length===we.length;let Ge,ct,ot,Qe=!0;if(this.xIncrement=null,te.forEach(function(Ie,Ue){var He=w(Ie)&&this.pointClass.prototype.optionsToObject.call({series:this},Ie)||{};const it=He.x;He.id||re(it)?(He=this.findPointIndex(He,ot),He===-1||typeof He>"u"?Ae.push(Ie):we[He]&&Ie!==xe.data[He]?(we[He].update(Ie,!1,null,!1),we[He].touched=!0,Fe&&(ot=He+1)):we[He]&&(we[He].touched=!0),(!De||Ue!==He||ce&&ce.enabled||this.hasDerivedData)&&(Ge=!0)):Ae.push(Ie)},this),Ge)for(te=we.length;te--;)(ct=we[te])&&!ct.touched&&ct.remove&&ct.remove(!1,ge);else!De||ce&&ce.enabled?Qe=!1:(te.forEach(function(Ie,Ue){Ie===we[Ue].y||we[Ue].destroyed||we[Ue].update(Ie,!1,null,!1)}),Ae.length=0);return we.forEach(function(Ie){Ie&&(Ie.touched=!1)}),Qe?(Ae.forEach(function(Ie){this.addPoint(Ie,!1,null,null,!1)},this),this.xIncrement===null&&this.xData&&this.xData.length&&(this.xIncrement=N(this.xData),this.autoIncrement()),!0):!1}setData(te,ge=!0,xe,ce){var we;const Ae=this,Fe=Ae.points,De=Fe&&Fe.length||0,Ge=Ae.options,ct=Ae.chart,ot=Ge.dataSorting,Qe=Ae.xAxis,Ie=Ge.turboThreshold,Ue=this.xData,He=this.yData;var it=Ae.pointArrayMap;it=it&&it.length;const Je=Ge.keys;let st,ht=0,Ke=1,At=null;if(!ct.options.chart.allowMutatingData){Ge.data&&delete Ae.options.data,Ae.userOptions.data&&delete Ae.userOptions.data;var Et=he(!0,te)}if(te=Et||te||[],Et=te.length,ot&&ot.enabled&&(te=this.sortData(te)),ct.options.chart.allowMutatingData&&ce!==!1&&Et&&De&&!Ae.cropped&&!Ae.hasGroupedData&&Ae.visible&&!Ae.boosted&&(st=this.updateData(te,xe)),!st){if(Ae.xIncrement=null,Ae.colorCounter=0,this.parallelArrays.forEach(function(Wt){Ae[Wt+"Data"].length=0}),Ie&&Et>Ie)if(At=Ae.getFirstValidPoint(te),re(At))for(xe=0;xe<Et;xe++)Ue[xe]=this.autoIncrement(),He[xe]=te[xe];else if(X(At))if(it)if(At.length===it)for(xe=0;xe<Et;xe++)Ue[xe]=this.autoIncrement(),He[xe]=te[xe];else for(xe=0;xe<Et;xe++)ce=te[xe],Ue[xe]=ce[0],He[xe]=ce.slice(1,it+1);else if(Je&&(ht=Je.indexOf("x"),Ke=Je.indexOf("y"),ht=0<=ht?ht:0,Ke=0<=Ke?Ke:1),At.length===1&&(Ke=0),ht===Ke)for(xe=0;xe<Et;xe++)Ue[xe]=this.autoIncrement(),He[xe]=te[xe][Ke];else for(xe=0;xe<Et;xe++)ce=te[xe],Ue[xe]=ce[ht],He[xe]=ce[Ke];else A(12,!1,ct);else for(xe=0;xe<Et;xe++)ce={series:Ae},Ae.pointClass.prototype.applyOptions.apply(ce,[te[xe]]),Ae.updateParallelArrays(ce,xe);for(He&&ee(He[0])&&A(14,!0,ct),Ae.data=[],Ae.options.data=Ae.userOptions.data=te,xe=De;xe--;)(we=Fe[xe])===null||we===void 0||we.destroy();Qe&&(Qe.minRange=Qe.userMinRange),Ae.isDirty=ct.isDirtyBox=!0,Ae.isDirtyData=!!Fe,xe=!1}Ge.legendType==="point"&&(this.processData(),this.generatePoints()),ge&&ct.redraw(xe)}sortData(te){const ge=this,xe=ge.options.dataSorting.sortKey||"y",ce=function(we,Ae){return w(Ae)&&we.pointClass.prototype.optionsToObject.call({series:we},Ae)||{}};return te.forEach(function(we,Ae){te[Ae]=ce(ge,we),te[Ae].index=Ae},this),te.concat().sort((we,Ae)=>(we=M(xe,we),Ae=M(xe,Ae),Ae<we?-1:Ae>we?1:0)).forEach(function(we,Ae){we.x=Ae},this),ge.linkedSeries&&ge.linkedSeries.forEach(function(we){const Ae=we.options,Fe=Ae.data;Ae.dataSorting&&Ae.dataSorting.enabled||!Fe||(Fe.forEach(function(De,Ge){Fe[Ge]=ce(we,De),te[Ge]&&(Fe[Ge].x=te[Ge].x,Fe[Ge].index=Ge)}),we.setData(Fe,!1))}),te}getProcessedData(te){var ge=this.xAxis,xe=this.options,ce=xe.cropThreshold;const we=te||this.getExtremesFromAll||xe.getExtremesFromAll,Ae=this.isCartesian;te=ge&&ge.val2lin,xe=!(!ge||!ge.logarithmic);let Fe=0,De,Ge,ct,ot=this.xData,Qe=this.yData,Ie=this.requireSorting;var Ue=!1;const He=ot.length;if(ge&&(Ue=ge.getExtremes(),Ge=Ue.min,ct=Ue.max,Ue=!(!ge.categories||ge.names.length)),Ae&&this.sorted&&!we&&(!ce||He>ce||this.forceCrop)){if(ot[He-1]<Ge||ot[0]>ct)ot=[],Qe=[];else if(this.yData&&(ot[0]<Ge||ot[He-1]>ct)){var it=this.cropData(this.xData,this.yData,Ge,ct);ot=it.xData,Qe=it.yData,Fe=it.start,it=!0}}for(ce=ot.length||1;--ce;)ge=xe?te(ot[ce])-te(ot[ce-1]):ot[ce]-ot[ce-1],0<ge&&(typeof De>"u"||ge<De)?De=ge:0>ge&&Ie&&!Ue&&(A(15,!1,this.chart),Ie=!1);return{xData:ot,yData:Qe,cropped:it,cropStart:Fe,closestPointRange:De}}processData(te){const ge=this.xAxis;if(this.isCartesian&&!this.isDirty&&!ge.isDirty&&!this.yAxis.isDirty&&!te)return!1;te=this.getProcessedData(),this.cropped=te.cropped,this.cropStart=te.cropStart,this.processedXData=te.xData,this.processedYData=te.yData,this.closestPointRange=this.basePointRange=te.closestPointRange,x(this,"afterProcessData")}cropData(te,ge,xe,ce,we){const Ae=te.length;let Fe,De=0,Ge=Ae;for(we=Ce(we,this.cropShoulder),Fe=0;Fe<Ae;Fe++)if(te[Fe]>=xe){De=Math.max(0,Fe-we);break}for(xe=Fe;xe<Ae;xe++)if(te[xe]>ce){Ge=xe+we;break}return{xData:te.slice(De,Ge),yData:ge.slice(De,Ge),start:De,end:Ge}}generatePoints(){var te=this.options;const ge=this.processedData||te.data,xe=this.processedXData,ce=this.processedYData,we=this.pointClass,Ae=xe.length,Fe=this.cropStart||0,De=this.hasGroupedData,Ge=te.keys,ct=[];te=te.dataGrouping&&te.dataGrouping.groupAll?Fe:0;let ot,Qe,Ie,Ue=this.data;if(!Ue&&!De){var He=[];He.length=ge.length,Ue=this.data=He}for(Ge&&De&&(this.options.keys=!1),Ie=0;Ie<Ae;Ie++)He=Fe+Ie,De?(Qe=new we().init(this,[xe[Ie]].concat(de(ce[Ie]))),Qe.dataGroup=this.groupMap[te+Ie],Qe.dataGroup.options&&(Qe.options=Qe.dataGroup.options,m(Qe,Qe.dataGroup.options),delete Qe.dataLabels)):(Qe=Ue[He])||typeof ge[He]>"u"||(Ue[He]=Qe=new we().init(this,ge[He],xe[Ie])),Qe&&(Qe.index=De?te+Ie:He,ct[Ie]=Qe);if(this.options.keys=Ge,Ue&&(Ae!==(ot=Ue.length)||De))for(Ie=0;Ie<ot;Ie++)Ie!==Fe||De||(Ie+=Ae),Ue[Ie]&&(Ue[Ie].destroyElements(),Ue[Ie].plotX=void 0);this.data=Ue,this.points=ct,x(this,"afterGeneratePoints")}getXExtremes(te){return{min:ne(te),max:N(te)}}getExtremes(te,ge){const xe=this.xAxis;var ce=this.yAxis;const we=this.processedXData||this.xData,Ae=[],Fe=this.requireSorting?this.cropShoulder:0;ce=ce?ce.positiveValuesOnly:!1;let De,Ge=0,ct=0,ot=0;te=te||this.stackedYData||this.processedYData||[];const Qe=te.length;if(xe){var Ie=xe.getExtremes();Ge=Ie.min,ct=Ie.max}for(De=0;De<Qe;De++){var Ue=we[De];Ie=te[De];var He=(re(Ie)||X(Ie))&&(Ie.length||0<Ie||!ce);if(Ue=ge||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!xe||(we[De+Fe]||Ue)>=Ge&&(we[De-Fe]||Ue)<=ct,He&&Ue)if(He=Ie.length)for(;He--;)re(Ie[He])&&(Ae[ot++]=Ie[He]);else Ae[ot++]=Ie}return te={activeYData:Ae,dataMin:ne(Ae),dataMax:N(Ae)},x(this,"afterGetExtremes",{dataExtremes:te}),te}applyExtremes(){const te=this.getExtremes();return this.dataMin=te.dataMin,this.dataMax=te.dataMax,te}getFirstValidPoint(te){const ge=te.length;let xe=0,ce=null;for(;ce===null&&xe<ge;)ce=te[xe],xe++;return ce}translate(){var te;this.processedXData||this.processData(),this.generatePoints();const ge=this.options,xe=ge.stacking,ce=this.xAxis,we=ce.categories,Ae=this.enabledDataSorting,Fe=this.yAxis,De=this.points,Ge=De.length,ct=this.pointPlacementToXValue(),ot=!!ct,Qe=ge.threshold,Ie=ge.startFromThreshold?Qe:0,Ue=this.zoneAxis||"y";let He,it,Je,st,ht=Number.MAX_VALUE;for(He=0;He<Ge;He++){const Ke=De[He],At=Ke.x;let Et,Wt,fi=Ke.y,ei=Ke.low;const hi=xe&&((te=Fe.stacking)===null||te===void 0?void 0:te.stacks[(this.negStacks&&fi<(Ie?0:Qe)?"-":"")+this.stackKey]);it=ce.translate(At,!1,!1,!1,!0,ct),Ke.plotX=re(it)?E(K(it,-1e5,1e5)):void 0,xe&&this.visible&&hi&&hi[At]&&(st=this.getStackIndicator(st,At,this.index),!Ke.isNull&&st.key&&(Et=hi[At],Wt=Et.points[st.key]),Et&&X(Wt)&&(ei=Wt[0],fi=Wt[1],ei===Ie&&st.key===hi[At].base&&(ei=Ce(re(Qe)?Qe:Fe.min)),Fe.positiveValuesOnly&&w(ei)&&0>=ei&&(ei=void 0),Ke.total=Ke.stackTotal=Ce(Et.total),Ke.percentage=w(Ke.y)&&Et.total?Ke.y/Et.total*100:void 0,Ke.stackY=fi,this.irregularWidths||Et.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Ke.yBottom=w(ei)?K(Fe.translate(ei,!1,!0,!1,!0),-1e5,1e5):void 0,this.dataModify&&(fi=this.dataModify.modifyValue(fi,He));let vi;re(fi)&&Ke.plotX!==void 0&&(vi=Fe.translate(fi,!1,!0,!1,!0),vi=re(vi)?K(vi,-1e5,1e5):void 0),Ke.plotY=vi,Ke.isInside=this.isPointInside(Ke),Ke.clientX=ot?E(ce.translate(At,!1,!1,!1,!0,ct)):it,Ke.negative=Ke[Ue]<(ge[Ue+"Threshold"]||Qe||0),Ke.category=Ce(we&&we[Ke.x],Ke.x),Ke.isNull||Ke.visible===!1||(typeof Je<"u"&&(ht=Math.min(ht,Math.abs(it-Je))),Je=it),Ke.zone=this.zones.length?Ke.getZone():void 0,!Ke.graphic&&this.group&&Ae&&(Ke.isNew=!0)}this.closestPointRangePx=ht,x(this,"afterTranslate")}getValidPoints(te,ge,xe){const ce=this.chart;return(te||this.points||[]).filter(function(we){const{plotX:Ae,plotY:Fe}=we;return!xe&&(we.isNull||!re(Fe))||ge&&!ce.isInsidePlot(Ae,Fe,{inverted:ce.inverted})?!1:we.visible!==!1})}getClipBox(){const{chart:te,xAxis:ge,yAxis:xe}=this,ce=he(te.clipBox);return ge&&ge.len!==te.plotSizeX&&(ce.width=ge.len),xe&&xe.len!==te.plotSizeY&&(ce.height=xe.len),ce}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)}setClip(){const{chart:te,group:ge,markerGroup:xe}=this,ce=te.sharedClips,we=te.renderer,Ae=this.getClipBox(),Fe=this.getSharedClipKey();let De=ce[Fe];De?De.animate(Ae):ce[Fe]=De=we.clipRect(Ae),ge&&ge.clip(this.options.clip===!1?void 0:De),xe&&xe.clip()}animate(te){const{chart:ge,group:xe,markerGroup:ce}=this,we=ge.inverted;var Ae=I(this.options.animation),Fe=[this.getSharedClipKey(),Ae.duration,Ae.easing,Ae.defer].join();let De=ge.sharedClips[Fe],Ge=ge.sharedClips[Fe+"m"];if(te&&xe)Ae=this.getClipBox(),De?De.attr("height",Ae.height):(Ae.width=0,we&&(Ae.x=ge.plotHeight),De=ge.renderer.clipRect(Ae),ge.sharedClips[Fe]=De,Ge=ge.renderer.clipRect({x:-99,y:-99,width:we?ge.plotWidth+199:99,height:we?99:ge.plotHeight+199}),ge.sharedClips[Fe+"m"]=Ge),xe.clip(De),ce&&ce.clip(Ge);else if(De&&!De.hasClass("highcharts-animating")){Fe=this.getClipBox();const ct=Ae.step;ce&&ce.element.childNodes.length&&(Ae.step=function(ot,Qe){ct&&ct.apply(Qe,arguments),Qe.prop==="width"&&Ge&&Ge.element&&Ge.attr(we?"height":"width",ot+99)}),De.addClass("highcharts-animating").animate(Fe,Ae)}}afterAnimate(){this.setClip(),ye(this.chart.sharedClips,(te,ge,xe)=>{te&&!this.chart.container.querySelector(`[clip-path="url(#${te.id})"]`)&&(te.destroy(),delete xe[ge])}),this.finishedAnimating=!0,x(this,"afterAnimate")}drawPoints(te=this.points){const ge=this.chart,xe=ge.styledMode,{colorAxis:ce,options:we}=this,Ae=we.marker,Fe=this[this.specialGroup||"markerGroup"],De=this.xAxis,Ge=Ce(Ae.enabled,!De||De.isRadial?!0:null,this.closestPointRangePx>=Ae.enabledThreshold*Ae.radius);let ct,ot,Qe,Ie,Ue,He;if(Ae.enabled!==!1||this._hasPointMarkers)for(ct=0;ct<te.length;ct++){ot=te[ct],Ie=(Qe=ot.graphic)?"animate":"attr";var it=ot.marker||{};if(Ue=!!ot.marker,(Ge&&typeof it.enabled>"u"||it.enabled)&&!ot.isNull&&ot.visible!==!1){const Je=Ce(it.symbol,this.symbol,"rect");He=this.markerAttribs(ot,ot.selected&&"select"),this.enabledDataSorting&&(ot.startXPos=De.reversed?-(He.width||0):De.width);const st=ot.isInside!==!1;!Qe&&st&&(0<(He.width||0)||ot.hasImage)&&(ot.graphic=Qe=ge.renderer.symbol(Je,He.x,He.y,He.width,He.height,Ue?it:Ae).add(Fe),this.enabledDataSorting&&ge.hasRendered&&(Qe.attr({x:ot.startXPos}),Ie="animate")),Qe&&Ie==="animate"&&Qe[st?"show":"hide"](st).animate(He),Qe&&(it=this.pointAttribs(ot,xe||!ot.selected?void 0:"select"),xe?ce&&Qe.css({fill:it.fill}):Qe[Ie](it)),Qe&&Qe.addClass(ot.getClassName(),!0)}else Qe&&(ot.graphic=Qe.destroy())}}markerAttribs(te,ge){const xe=this.options;var ce=xe.marker;const we=te.marker||{},Ae=we.symbol||ce.symbol,Fe={};let De=Ce(we.radius,ce&&ce.radius);return ge&&(ce=ce.states[ge],ge=we.states&&we.states[ge],De=Ce(ge&&ge.radius,ce&&ce.radius,De&&De+(ce&&ce.radiusPlus||0))),te.hasImage=Ae&&Ae.indexOf("url")===0,te.hasImage&&(De=0),te=te.pos(),re(De)&&te&&(Fe.x=te[0]-De,Fe.y=te[1]-De,xe.crisp&&(Fe.x=Math.floor(Fe.x))),De&&(Fe.width=Fe.height=2*De),Fe}pointAttribs(te,ge){var xe=this.options.marker,ce=te&&te.options;const we=ce&&ce.marker||{};var Ae=ce&&ce.color,Fe=te&&te.color;const De=te&&te.zone&&te.zone.color;let Ge=this.color;return te=Ce(we.lineWidth,xe.lineWidth),ce=1,Ge=Ae||De||Fe||Ge,Ae=we.fillColor||xe.fillColor||Ge,Fe=we.lineColor||xe.lineColor||Ge,ge=ge||"normal",xe=xe.states[ge]||{},ge=we.states&&we.states[ge]||{},te=Ce(ge.lineWidth,xe.lineWidth,te+Ce(ge.lineWidthPlus,xe.lineWidthPlus,0)),Ae=ge.fillColor||xe.fillColor||Ae,Fe=ge.lineColor||xe.lineColor||Fe,ce=Ce(ge.opacity,xe.opacity,ce),{stroke:Fe,"stroke-width":te,fill:Ae,opacity:ce}}destroy(te){const ge=this,xe=ge.chart,ce=/AppleWebKit\/533/.test(G.navigator.userAgent),we=ge.data||[];let Ae,Fe,De,Ge;for(x(ge,"destroy",{keepEventsForUpdate:te}),this.removeEvents(te),(ge.axisTypes||[]).forEach(function(ct){(Ge=ge[ct])&&Ge.series&&(g(Ge.series,ge),Ge.isDirty=Ge.forceRedraw=!0)}),ge.legendItem&&ge.chart.legend.destroyItem(ge),Fe=we.length;Fe--;)(De=we[Fe])&&De.destroy&&De.destroy();ge.clips&&ge.clips.forEach(ct=>ct.destroy()),Y.clearTimeout(ge.animationTimeout),ye(ge,function(ct,ot){ct instanceof H&&!ct.survive&&(Ae=ce&&ot==="group"?"hide":"destroy",ct[Ae]())}),xe.hoverSeries===ge&&(xe.hoverSeries=void 0),g(xe.series,ge),xe.orderSeries(),ye(ge,function(ct,ot){te&&ot==="hcEvents"||delete ge[ot]})}applyZones(){const te=this,ge=this.chart,xe=ge.renderer,ce=this.zones,we=this.clips||[],Ae=this.graph,Fe=this.area,De=Math.max(ge.plotWidth,ge.plotHeight),Ge=this[(this.zoneAxis||"y")+"Axis"],ct=ge.inverted;let ot,Qe,Ie,Ue,He,it,Je,st,ht,Ke,At,Et=!1;ce.length&&(Ae||Fe)&&Ge&&typeof Ge.min<"u"?(He=Ge.reversed,it=Ge.horiz,Ae&&!this.showLine&&Ae.hide(),Fe&&Fe.hide(),Ue=Ge.getExtremes(),ce.forEach(function(Wt,fi){ot=He?it?ge.plotWidth:0:it?0:Ge.toPixels(Ue.min)||0,ot=K(Ce(Qe,ot),0,De),Qe=K(Math.round(Ge.toPixels(Ce(Wt.value,Ue.max),!0)||0),0,De),Et&&(ot=Qe=Ge.toPixels(Ue.max)),Je=Math.abs(ot-Qe),st=Math.min(ot,Qe),ht=Math.max(ot,Qe),Ge.isXAxis?(Ie={x:ct?ht:st,y:0,width:Je,height:De},it||(Ie.x=ge.plotHeight-Ie.x)):(Ie={x:0,y:ct?ht:st,width:De,height:Je},it&&(Ie.y=ge.plotWidth-Ie.y)),we[fi]?we[fi].animate(Ie):we[fi]=xe.clipRect(Ie),Ke=te["zone-area-"+fi],At=te["zone-graph-"+fi],Ae&&At&&At.clip(we[fi]),Fe&&Ke&&Ke.clip(we[fi]),Et=Wt.value>Ue.max,te.resetZones&&Qe===0&&(Qe=void 0)}),this.clips=we):te.visible&&(Ae&&Ae.show(),Fe&&Fe.show())}plotGroup(te,ge,xe,ce,we){let Ae=this[te];const Fe=!Ae;return xe={visibility:xe,zIndex:ce||.1},typeof this.opacity>"u"||this.chart.styledMode||this.state==="inactive"||(xe.opacity=this.opacity),Fe&&(this[te]=Ae=this.chart.renderer.g().add(we)),Ae.addClass("highcharts-"+ge+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(w(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(Ae.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),Ae.attr(xe)[Fe?"attr":"animate"](this.getPlotBox(ge)),Ae}getPlotBox(te){let ge=this.xAxis,xe=this.yAxis;const ce=this.chart;return te=ce.inverted&&!ce.polar&&ge&&this.invertible!==!1&&te==="series",ce.inverted&&(ge=xe,xe=this.xAxis),{translateX:ge?ge.left:ce.plotLeft,translateY:xe?xe.top:ce.plotTop,rotation:te?90:0,rotationOriginX:te?(ge.len-xe.len)/2:0,rotationOriginY:te?(ge.len+xe.len)/2:0,scaleX:te?-1:1,scaleY:1}}removeEvents(te){te||oe(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(ge){ge()}),this.eventsToUnbind.length=0)}render(){const te=this;var ge=te.chart;const xe=te.options,ce=I(xe.animation),we=te.visible?"inherit":"hidden",Ae=xe.zIndex,Fe=te.hasRendered;ge=ge.seriesGroup;let De=te.finishedAnimating?0:ce.duration;x(this,"render"),te.plotGroup("group","series",we,Ae,ge),te.markerGroup=te.plotGroup("markerGroup","markers",we,Ae,ge),xe.clip!==!1&&te.setClip(),te.animate&&De&&te.animate(!0),te.drawGraph&&(te.drawGraph(),te.applyZones()),te.visible&&te.drawPoints(),te.drawDataLabels&&te.drawDataLabels(),te.redrawPoints&&te.redrawPoints(),te.drawTracker&&te.options.enableMouseTracking!==!1&&te.drawTracker(),te.animate&&De&&te.animate(),Fe||(De&&ce.defer&&(De+=ce.defer),te.animationTimeout=fe(function(){te.afterAnimate()},De||0)),te.isDirty=!1,te.hasRendered=!0,x(te,"afterRender")}redraw(){const te=this.isDirty||this.isDirtyData;this.translate(),this.render(),te&&delete this.kdTree}searchPoint(te,ge){const xe=this.xAxis,ce=this.yAxis,we=this.chart.inverted;return this.searchKDTree({clientX:we?xe.len-te.chartY+xe.pos:te.chartX-xe.pos,plotY:we?ce.len-te.chartX+ce.pos:te.chartY-ce.pos},ge,te)}buildKDTree(te){function ge(we,Ae,Fe){var De=we&&we.length;let Ge;if(De)return Ge=xe.kdAxisArray[Ae%Fe],we.sort(function(ct,ot){return ct[Ge]-ot[Ge]}),De=Math.floor(De/2),{point:we[De],left:ge(we.slice(0,De),Ae+1,Fe),right:ge(we.slice(De+1),Ae+1,Fe)}}this.buildingKdTree=!0;const xe=this,ce=-1<xe.options.findNearestPointBy.indexOf("y")?2:1;delete xe.kdTree,fe(function(){xe.kdTree=ge(xe.getValidPoints(null,!xe.directTouch),ce,ce),xe.buildingKdTree=!1},xe.options.kdNow||te&&te.type==="touchstart"?0:1)}searchKDTree(te,ge,xe){function ce(Ge,ct,ot,Qe){const Ie=ct.point;var Ue=we.kdAxisArray[ot%Qe];let He=Ie;var it=w(Ge[Ae])&&w(Ie[Ae])?Math.pow(Ge[Ae]-Ie[Ae],2):null,Je=w(Ge[Fe])&&w(Ie[Fe])?Math.pow(Ge[Fe]-Ie[Fe],2):null;return Je=(it||0)+(Je||0),Ie.dist=w(Je)?Math.sqrt(Je):Number.MAX_VALUE,Ie.distX=w(it)?Math.sqrt(it):Number.MAX_VALUE,Ue=Ge[Ue]-Ie[Ue],Je=0>Ue?"left":"right",it=0>Ue?"right":"left",ct[Je]&&(Je=ce(Ge,ct[Je],ot+1,Qe),He=Je[De]<He[De]?Je:Ie),ct[it]&&Math.sqrt(Ue*Ue)<He[De]&&(Ge=ce(Ge,ct[it],ot+1,Qe),He=Ge[De]<He[De]?Ge:He),He}const we=this,Ae=this.kdAxisArray[0],Fe=this.kdAxisArray[1],De=ge?"distX":"dist";if(ge=-1<we.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(xe),this.kdTree)return ce(te,this.kdTree,ge,ge)}pointPlacementToXValue(){const{options:{pointPlacement:te,pointRange:ge},xAxis:xe}=this;let ce=te;return ce==="between"&&(ce=xe.reversed?-.5:.5),re(ce)?ce*(ge||xe.pointRange):0}isPointInside(te){const{chart:ge,xAxis:xe,yAxis:ce}=this;return typeof te.plotY<"u"&&typeof te.plotX<"u"&&0<=te.plotY&&te.plotY<=(ce?ce.len:ge.plotHeight)&&0<=te.plotX&&te.plotX<=(xe?xe.len:ge.plotWidth)}drawTracker(){const te=this,ge=te.options,xe=ge.trackByArea,ce=[].concat(xe?te.areaPath:te.graphPath),we=te.chart,Ae=we.pointer,Fe=we.renderer,De=we.options.tooltip.snap,Ge=te.tracker,ct=function(Qe){we.hoverSeries!==te&&te.onMouseOver()},ot="rgba(192,192,192,"+(P?1e-4:.002)+")";Ge?Ge.attr({d:ce}):te.graph&&(te.tracker=Fe.path(ce).attr({visibility:te.visible?"inherit":"hidden",zIndex:2}).addClass(xe?"highcharts-tracker-area":"highcharts-tracker-line").add(te.group),we.styledMode||te.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:ot,fill:xe?ot:"none","stroke-width":te.graph.strokeWidth()+(xe?0:2*De)}),[te.tracker,te.markerGroup,te.dataLabelsGroup].forEach(function(Qe){Qe&&(Qe.addClass("highcharts-tracker").on("mouseover",ct).on("mouseout",function(Ie){Ae.onTrackerMouseOut(Ie)}),ge.cursor&&!we.styledMode&&Qe.css({cursor:ge.cursor}),C)&&Qe.on("touchstart",ct)})),x(this,"afterDrawTracker")}addPoint(te,ge,xe,ce,we){const Ae=this.options,Fe=this.data,De=this.chart;var Ge=this.xAxis;Ge=Ge&&Ge.hasNames&&Ge.names;const ct=Ae.data,ot=this.xData;let Qe,Ie;ge=Ce(ge,!0);const Ue={series:this};this.pointClass.prototype.applyOptions.apply(Ue,[te]);const He=Ue.x;if(Ie=ot.length,this.requireSorting&&He<ot[Ie-1])for(Qe=!0;Ie&&ot[Ie-1]>He;)Ie--;this.updateParallelArrays(Ue,"splice",[Ie,0,0]),this.updateParallelArrays(Ue,Ie),Ge&&Ue.name&&(Ge[He]=Ue.name),ct.splice(Ie,0,te),(Qe||this.processedData)&&(this.data.splice(Ie,0,null),this.processData()),Ae.legendType==="point"&&this.generatePoints(),xe&&(Fe[0]&&Fe[0].remove?Fe[0].remove(!1):(Fe.shift(),this.updateParallelArrays(Ue,"shift"),ct.shift())),we!==!1&&x(this,"addPoint",{point:Ue}),this.isDirtyData=this.isDirty=!0,ge&&De.redraw(ce)}removePoint(te,ge,xe){const ce=this,we=ce.data,Ae=we[te],Fe=ce.points,De=ce.chart,Ge=function(){Fe&&Fe.length===we.length&&Fe.splice(te,1),we.splice(te,1),ce.options.data.splice(te,1),ce.updateParallelArrays(Ae||{series:ce},"splice",[te,1]),Ae&&Ae.destroy(),ce.isDirty=!0,ce.isDirtyData=!0,ge&&De.redraw()};B(xe,De),ge=Ce(ge,!0),Ae?Ae.firePointEvent("remove",null,Ge):Ge()}remove(te,ge,xe,ce){function we(){Ae.destroy(ce),Fe.isDirtyLegend=Fe.isDirtyBox=!0,Fe.linkSeries(ce),Ce(te,!0)&&Fe.redraw(ge)}const Ae=this,Fe=Ae.chart;xe!==!1?x(Ae,"remove",null,we):we()}update(te,ge){te=L(te,this.userOptions),x(this,"update",{options:te});const xe=this,ce=xe.chart;var we=xe.userOptions;const Ae=xe.initialType||xe.type;var Fe=ce.options.plotOptions;const De=q[Ae].prototype;var Ge=xe.finishedAnimating&&{animation:!1};const ct={};let ot,Qe=["eventOptions","navigatorSeries","baseSeries"],Ie=te.type||we.type||ce.options.chart.type;const Ue=!(this.hasDerivedData||Ie&&Ie!==this.type||typeof te.pointStart<"u"||typeof te.pointInterval<"u"||typeof te.relativeXValue<"u"||te.joinBy||te.mapData||xe.hasOptionChanged("dataGrouping")||xe.hasOptionChanged("pointStart")||xe.hasOptionChanged("pointInterval")||xe.hasOptionChanged("pointIntervalUnit")||xe.hasOptionChanged("keys"));if(Ie=Ie||Ae,Ue&&(Qe.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),te.visible!==!1&&Qe.push("area","graph"),xe.parallelArrays.forEach(function(He){Qe.push(He+"Data")}),te.data&&(te.dataSorting&&m(xe.options.dataSorting,te.dataSorting),this.setData(te.data,!1))),te=he(we,Ge,{index:typeof we.index>"u"?xe.index:we.index,pointStart:Ce(Fe&&Fe.series&&Fe.series.pointStart,we.pointStart,xe.xData[0])},!Ue&&{data:xe.options.data},te),Ue&&te.data&&(te.data=xe.options.data),Qe=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(Qe),Qe.forEach(function(He){Qe[He]=xe[He],delete xe[He]}),Fe=!1,q[Ie]){if(Fe=Ie!==xe.type,xe.remove(!1,!1,!1,!0),Fe)if(Object.setPrototypeOf)Object.setPrototypeOf(xe,q[Ie].prototype);else{Ge=Object.hasOwnProperty.call(xe,"hcEvents")&&xe.hcEvents;for(ot in De)xe[ot]=void 0;m(xe,q[Ie].prototype),Ge?xe.hcEvents=Ge:delete xe.hcEvents}}else A(17,!0,ce,{missingModuleFor:Ie});if(Qe.forEach(function(He){xe[He]=Qe[He]}),xe.init(ce,te),Ue&&this.points){if(te=xe.options,te.visible===!1)ct.graphic=1,ct.dataLabel=1;else if(!xe._hasPointLabels){const{marker:He,dataLabels:it}=te;we=we.marker||{},!He||He.enabled!==!1&&we.symbol===He.symbol&&we.height===He.height&&we.width===He.width||(ct.graphic=1),it&&it.enabled===!1&&(ct.dataLabel=1)}for(const He of this.points)He&&He.series&&(He.resolveColor(),Object.keys(ct).length&&He.destroyElements(ct),te.showInLegend===!1&&He.legendItem&&ce.legend.destroyItem(He))}xe.initialType=Ae,ce.linkSeries(),Fe&&xe.linkedSeries.length&&(xe.isDirtyData=!0),x(this,"afterUpdate"),Ce(ge,!0)&&ce.redraw(Ue?void 0:!1)}setName(te){this.name=this.options.name=this.userOptions.name=te,this.chart.isDirtyLegend=!0}hasOptionChanged(te){const ge=this.options[te],xe=this.chart.options.plotOptions,ce=this.userOptions[te];return ce?ge!==ce:ge!==Ce(xe&&xe[this.type]&&xe[this.type][te],xe&&xe.series&&xe.series[te],ge)}onMouseOver(){const te=this.chart,ge=te.hoverSeries;te.pointer.setHoverChartIndex(),ge&&ge!==this&&ge.onMouseOut(),this.options.events.mouseOver&&x(this,"mouseOver"),this.setState("hover"),te.hoverSeries=this}onMouseOut(){const te=this.options,ge=this.chart,xe=ge.tooltip,ce=ge.hoverPoint;ge.hoverSeries=null,ce&&ce.onMouseOut(),this&&te.events.mouseOut&&x(this,"mouseOut"),!xe||this.stickyTracking||xe.shared&&!this.noSharedTooltip||xe.hide(),ge.series.forEach(function(we){we.setState("",!0)})}setState(te,ge){const xe=this;var ce=xe.options;const we=xe.graph,Ae=ce.inactiveOtherPoints,Fe=ce.states,De=Ce(Fe[te||"normal"]&&Fe[te||"normal"].animation,xe.chart.options.chart.animation);let Ge=ce.lineWidth,ct=0,ot=ce.opacity;if(te=te||"",xe.state!==te&&([xe.group,xe.markerGroup,xe.dataLabelsGroup].forEach(function(Qe){Qe&&(xe.state&&Qe.removeClass("highcharts-series-"+xe.state),te&&Qe.addClass("highcharts-series-"+te))}),xe.state=te,!xe.chart.styledMode)){if(Fe[te]&&Fe[te].enabled===!1)return;if(te&&(Ge=Fe[te].lineWidth||Ge+(Fe[te].lineWidthPlus||0),ot=Ce(Fe[te].opacity,ot)),we&&!we.dashstyle&&re(Ge))for(ce={"stroke-width":Ge},we.animate(ce,De);xe["zone-graph-"+ct];)xe["zone-graph-"+ct].animate(ce,De),ct+=1;Ae||[xe.group,xe.markerGroup,xe.dataLabelsGroup,xe.labelBySeries].forEach(function(Qe){Qe&&Qe.animate({opacity:ot},De)})}ge&&Ae&&xe.points&&xe.setAllPointsToState(te||void 0)}setAllPointsToState(te){this.points.forEach(function(ge){ge.setState&&ge.setState(te)})}setVisible(te,ge){const xe=this,ce=xe.chart,we=ce.options.chart.ignoreHiddenSeries,Ae=xe.visible,Fe=(xe.visible=te=xe.options.visible=xe.userOptions.visible=typeof te>"u"?!Ae:te)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(De){xe[De]&&xe[De][Fe]()}),(ce.hoverSeries===xe||(ce.hoverPoint&&ce.hoverPoint.series)===xe)&&xe.onMouseOut(),xe.legendItem&&ce.legend.colorizeItem(xe,te),xe.isDirty=!0,xe.options.stacking&&ce.series.forEach(function(De){De.options.stacking&&De.visible&&(De.isDirty=!0)}),xe.linkedSeries.forEach(function(De){De.setVisible(te,!1)}),we&&(ce.isDirtyBox=!0),x(xe,Fe),ge!==!1&&ce.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(te){this.selected=te=this.options.selected=typeof te>"u"?!this.selected:te,this.checkbox&&(this.checkbox.checked=te),x(this,te?"select":"unselect")}shouldShowTooltip(te,ge,xe={}){return xe.series=this,xe.visiblePlotOnly=!0,this.chart.isInsidePlot(te,ge,xe)}drawLegendSymbol(te,ge){var xe;(xe=k[this.options.legendSymbol||"rectangle"])===null||xe===void 0||xe.call(this,te,ge)}}return ue.defaultOptions=Z,ue.types=z.seriesTypes,ue.registerType=z.registerSeriesType,m(ue.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:j,requireSorting:!0,sorted:!0}),z.series=ue,ue}),i(a,"Extensions/ScrollablePlotArea.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Axis/Axis.js"],a["Core/Chart/Chart.js"],a["Core/Series/Series.js"],a["Core/Renderer/RendererRegistry.js"],a["Core/Utilities.js"]],function(o,u,d,n,k,j){const{stop:Z}=o,{addEvent:z,createElement:H,defined:Y,merge:I,pick:B}=j;z(d,"afterSetChartSize",function(U){var T=this.options.chart.scrollablePlotArea,C=T&&T.minWidth;T=T&&T.minHeight;let P;this.renderer.forExport||(C?(this.scrollablePixelsX=C=Math.max(0,C-this.chartWidth))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=I(this.plotBox),this.plotBox.width=this.plotWidth+=C,this.inverted?this.clipBox.height+=C:this.clipBox.width+=C,P={1:{name:"right",value:C}}):T&&(this.scrollablePixelsY=C=Math.max(0,T-this.chartHeight),Y(C)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=I(this.plotBox),this.plotBox.height=this.plotHeight+=C,this.inverted?this.clipBox.width+=C:this.clipBox.height+=C,P={2:{name:"bottom",value:C}})),P&&!U.skipAxes&&this.axes.forEach(function(G){P[G.side]?G.getPlotLinePath=function(){let q=P[G.side].name,N=this[q],ne;return this[q]=N-P[G.side].value,ne=u.prototype.getPlotLinePath.apply(this,arguments),this[q]=N,ne}:(G.setAxisSize(),G.setAxisTranslation())}))}),z(d,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),d.prototype.setUpScrolling=function(){const U={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(U.overflowX="auto"),this.scrollablePixelsY&&(U.overflowY="auto"),this.scrollingParent=H("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=H("div",{className:"highcharts-scrolling"},U,this.scrollingParent);let T;z(this.scrollingContainer,"scroll",()=>{this.pointer&&(delete this.pointer.chartPosition,this.hoverPoint&&(T=this.hoverPoint),this.pointer.runPointActions(void 0,T,!0))}),this.innerContainer=H("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},d.prototype.moveFixedElements=function(){let U=this.container,T=this.fixedRenderer,C=".highcharts-breadcrumbs-group .highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" "),P;this.scrollablePixelsX&&!this.inverted?P=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?P=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(P=".highcharts-yaxis"),P&&C.push(`${P}:not(.highcharts-radial-axis)`,`${P}-labels:not(.highcharts-radial-axis-labels)`),C.forEach(function(G){[].forEach.call(U.querySelectorAll(G),function(q){(q.namespaceURI===T.SVG_NS?T.box:T.box.parentNode).appendChild(q),q.style.pointerEvents="auto"})})},d.prototype.applyFixed=function(){var U=!this.fixedDiv,T=this.options.chart,C=T.scrollablePlotArea,P=k.getRendererType();U?(this.fixedDiv=H("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(T.style&&T.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=T=new P(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=T.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":B(C.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),z(this,"afterShowResetZoom",this.moveFixedElements),z(this,"afterApplyDrilldown",this.moveFixedElements),z(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||U)&&(this.scrollableDirty=!1,this.moveFixedElements()),T=this.chartWidth+(this.scrollablePixelsX||0),P=this.chartHeight+(this.scrollablePixelsY||0),Z(this.container),this.container.style.width=T+"px",this.container.style.height=P+"px",this.renderer.boxWrapper.attr({width:T,height:P,viewBox:[0,0,T,P].join(" ")}),this.chartBackground.attr({width:T,height:P}),this.scrollingContainer.style.height=this.chartHeight+"px",U&&(C.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*C.scrollPositionX),C.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*C.scrollPositionY)),P=this.axisOffset,U=this.plotTop-P[0]-1,C=this.plotLeft-P[3]-1,T=this.plotTop+this.plotHeight+P[2]+1,P=this.plotLeft+this.plotWidth+P[1]+1;let G=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),q=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);U=this.scrollablePixelsX?[["M",0,U],["L",this.plotLeft-1,U],["L",this.plotLeft-1,T],["L",0,T],["Z"],["M",G,U],["L",this.chartWidth,U],["L",this.chartWidth,T],["L",G,T],["Z"]]:this.scrollablePixelsY?[["M",C,0],["L",C,this.plotTop-1],["L",P,this.plotTop-1],["L",P,0],["Z"],["M",C,q],["L",C,this.chartHeight],["L",P,this.chartHeight],["L",P,q],["Z"]]:[["M",0,0]],this.redrawTrigger!=="adjustHeight"&&this.scrollableMask.attr({d:U})},z(u,"afterInit",function(){this.chart.scrollableDirty=!0}),z(n,"show",function(){this.chart.scrollableDirty=!0})}),i(a,"Core/Axis/Stacking/StackItem.js",[a["Core/FormatUtilities.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(o,u,d){const{format:n}=o,{series:k}=u,{destroyObjectProperties:j,fireEvent:Z,isNumber:z,pick:H}=d;class Y{constructor(B,U,T,C,P){const G=B.chart.inverted,q=B.reversed;this.axis=B,B=this.isNegative=!!T!=!!q,this.options=U=U||{},this.x=C,this.cumulative=this.total=null,this.points={},this.hasValidPoints=!1,this.stack=P,this.rightCliff=this.leftCliff=0,this.alignOptions={align:U.align||(G?B?"left":"right":"center"),verticalAlign:U.verticalAlign||(G?"middle":B?"bottom":"top"),y:U.y,x:U.x},this.textAlign=U.textAlign||(G?B?"right":"left":"center")}destroy(){j(this,this.axis)}render(B){const U=this.axis.chart,T=this.options;var C=T.format;C=C?n(C,this,U):T.formatter.call(this),this.label?this.label.attr({text:C,visibility:"hidden"}):(this.label=U.renderer.label(C,null,void 0,T.shape,void 0,void 0,T.useHTML,!1,"stack-labels"),C={r:T.borderRadius||0,text:C,padding:H(T.padding,5),visibility:"hidden"},U.styledMode||(C.fill=T.backgroundColor,C.stroke=T.borderColor,C["stroke-width"]=T.borderWidth,this.label.css(T.style||{})),this.label.attr(C),this.label.added||this.label.add(B)),this.label.labelrank=U.plotSizeY,Z(this,"afterRender")}setOffset(B,U,T,C,P,G){const{alignOptions:q,axis:N,label:ne,options:K,textAlign:L}=this,E=N.chart;T=this.getStackBox({xOffset:B,width:U,boxBottom:T,boxTop:C,defaultX:P,xAxis:G});var{verticalAlign:w}=q;if(ne&&T){C=ne.getBBox(),P=ne.padding,G=H(K.overflow,"justify")==="justify",q.x=K.x||0,q.y=K.y||0;const{x:g,y:A}=this.adjustStackPosition({labelBox:C,verticalAlign:w,textAlign:L});T.x-=g,T.y-=A,ne.align(q,!1,T),(w=E.isInsidePlot(ne.alignAttr.x+q.x+g,ne.alignAttr.y+q.y+A))||(G=!1),G&&k.prototype.justifyDataLabel.call(N,ne,q,ne.alignAttr,C,T),ne.attr({x:ne.alignAttr.x,y:ne.alignAttr.y,rotation:K.rotation,rotationOriginX:C.width/2,rotationOriginY:C.height/2}),H(!G&&K.crop,!0)&&(w=z(ne.x)&&z(ne.y)&&E.isInsidePlot(ne.x-P+ne.width,ne.y)&&E.isInsidePlot(ne.x+P,ne.y)),ne[w?"show":"hide"]()}Z(this,"afterSetOffset",{xOffset:B,width:U})}adjustStackPosition({labelBox:B,verticalAlign:U,textAlign:T}){const C={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:B.width/2+B.width/2*C[T],y:B.height/2*C[U]}}getStackBox(B){var U=this.axis;const T=U.chart,{boxTop:C,defaultX:P,xOffset:G,width:q,boxBottom:N}=B;var ne=U.stacking.usePercentage?100:H(C,this.total,0);ne=U.toPixels(ne),B=B.xAxis||T.xAxis[0];const K=H(P,B.translate(this.x))+G;U=U.toPixels(N||z(U.min)&&U.logarithmic&&U.logarithmic.lin2log(U.min)||0),U=Math.abs(ne-U);const L=this.isNegative;return T.inverted?{x:(L?ne:ne-U)-T.plotLeft,y:B.height-K-q,width:U,height:q}:{x:K+B.transB-T.plotLeft,y:(L?ne-U:ne)-T.plotTop,width:q,height:U}}}return Y}),i(a,"Core/Axis/Stacking/StackingAxis.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Axis/Axis.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Axis/Stacking/StackItem.js"],a["Core/Utilities.js"]],function(o,u,d,n,k){function j(){const m=this,y=m.inverted;m.yAxis.forEach(x=>{x.stacking&&x.stacking.stacks&&x.hasVisibleSeries&&(x.stacking.oldStacks=x.stacking.stacks)}),m.series.forEach(x=>{const M=x.xAxis&&x.xAxis.options||{};!x.options.stacking||x.visible!==!0&&m.options.chart.ignoreHiddenSeries!==!1||(x.stackKey=[x.type,w(x.options.stack,""),y?M.top:M.left,y?M.height:M.width].join())})}function Z(){const m=this.stacking;if(m){var y=m.stacks;E(y,function(x,M){N(x),y[M]=null}),m&&m.stackTotalGroup&&m.stackTotalGroup.destroy()}}function z(){this.coll!=="yAxis"||this.stacking||(this.stacking=new g(this))}function H(m,y,x,M){return!q(m)||m.x!==y||M&&m.stackKey!==M?m={x:y,index:0,key:M,stackKey:M}:m.index++,m.key=[x,y,m.index].join(),m}function Y(){const m=this,y=m.stackKey,x=m.yAxis.stacking.stacks,M=m.processedXData,X=m[m.options.stacking+"Stacker"];let re;X&&[y,"-"+y].forEach(ee=>{let he=M.length,ye;for(;he--;){var Ce=M[he];re=m.getStackIndicator(re,Ce,m.index,ee),(ye=(Ce=x[ee]&&x[ee][Ce])&&Ce.points[re.key])&&X.call(m,ye,Ce,he)}})}function I(m,y,x){y=y.total?100/y.total:0,m[0]=G(m[0]*y),m[1]=G(m[1]*y),this.stackedYData[x]=m[1]}function B(){const m=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?C.setStackedPoints.call(this,"group"):m&&E(m.stacks,(y,x)=>{x.slice(-5)==="group"&&(E(y,M=>M.destroy()),delete m.stacks[x])})}function U(m){var y=this.chart;const x=m||this.options.stacking;if(x&&(this.visible===!0||y.options.chart.ignoreHiddenSeries===!1)){var M=this.processedXData,X=this.processedYData,re=[],ee=X.length,he=this.options,ye=he.threshold,Ce=w(he.startFromThreshold&&ye,0);he=he.stack,m=m?`${this.type},${x}`:this.stackKey;var oe="-"+m,de=this.negStacks;y=x==="group"?y.yAxis[0]:this.yAxis;var fe=y.stacking.stacks,ue=y.stacking.oldStacks,pe,te;for(y.stacking.stacksTouched+=1,te=0;te<ee;te++){var ge=M[te],xe=X[te],ce=this.getStackIndicator(ce,ge,this.index),we=ce.key,Ae=(pe=de&&xe<(Ce?0:ye))?oe:m;fe[Ae]||(fe[Ae]={}),fe[Ae][ge]||(ue[Ae]&&ue[Ae][ge]?(fe[Ae][ge]=ue[Ae][ge],fe[Ae][ge].total=null):fe[Ae][ge]=new n(y,y.options.stackLabels,!!pe,ge,he)),Ae=fe[Ae][ge],xe!==null?(Ae.points[we]=Ae.points[this.index]=[w(Ae.cumulative,Ce)],q(Ae.cumulative)||(Ae.base=we),Ae.touched=y.stacking.stacksTouched,0<ce.index&&this.singleStacks===!1&&(Ae.points[we][0]=Ae.points[this.index+","+ge+",0"][0])):Ae.points[we]=Ae.points[this.index]=null,x==="percent"?(pe=pe?m:oe,de&&fe[pe]&&fe[pe][ge]?(pe=fe[pe][ge],Ae.total=pe.total=Math.max(pe.total,Ae.total)+Math.abs(xe)||0):Ae.total=G(Ae.total+(Math.abs(xe)||0))):x==="group"?(K(xe)&&(xe=xe[0]),xe!==null&&(Ae.total=(Ae.total||0)+1)):Ae.total=G(Ae.total+(xe||0)),Ae.cumulative=x==="group"?(Ae.total||1)-1:G(w(Ae.cumulative,Ce)+(xe||0)),xe!==null&&(Ae.points[we].push(Ae.cumulative),re[te]=Ae.cumulative,Ae.hasValidPoints=!0)}x==="percent"&&(y.stacking.usePercentage=!0),x!=="group"&&(this.stackedYData=re),y.stacking.oldStacks={}}}const{getDeferredAnimation:T}=o,{series:{prototype:C}}=d,{addEvent:P,correctFloat:G,defined:q,destroyObjectProperties:N,fireEvent:ne,isArray:K,isNumber:L,objectEach:E,pick:w}=k;class g{constructor(y){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=y}buildStacks(){const y=this.axis,x=y.series,M=y.options.reversedStacks,X=x.length;let re,ee;for(this.usePercentage=!1,ee=X;ee--;)re=x[M?ee:X-ee-1],re.setStackedPoints(),re.setGroupedPoints();for(ee=0;ee<X;ee++)x[ee].modifyStacks();ne(y,"afterBuildStacks")}cleanStacks(){let y;this.oldStacks&&(y=this.stacks=this.oldStacks),E(y,function(x){E(x,function(M){M.cumulative=M.total})})}resetStacks(){E(this.stacks,y=>{E(y,(x,M)=>{L(x.touched)&&x.touched<this.stacksTouched?(x.destroy(),delete y[M]):(x.total=null,x.cumulative=null)})})}renderStackTotals(){var y=this.axis;const x=y.chart,M=x.renderer,X=this.stacks;y=T(x,y.options.stackLabels&&y.options.stackLabels.animation||!1);const re=this.stackTotalGroup=this.stackTotalGroup||M.g("stack-labels").attr({zIndex:6,opacity:0}).add();re.translate(x.plotLeft,x.plotTop),E(X,function(ee){E(ee,function(he){he.render(re)})}),re.animate({opacity:1},y)}}var A;return function(m){const y=[];m.compose=function(x,M,X){k.pushUnique(y,x)&&(P(x,"init",z),P(x,"destroy",Z)),k.pushUnique(y,M)&&(M.prototype.getStacks=j),k.pushUnique(y,X)&&(x=X.prototype,x.getStackIndicator=H,x.modifyStacks=Y,x.percentStacker=I,x.setGroupedPoints=B,x.setStackedPoints=U)}}(A||(A={})),A}),i(a,"Series/Line/LineSeries.js",[a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(o,u,d){const{defined:n,merge:k}=d;class j extends o{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){const z=this,H=this.options,Y=(this.gappedPath||this.getGraphPath).call(this),I=this.chart.styledMode;let B=[["graph","highcharts-graph"]];I||B[0].push(H.lineColor||this.color||"#cccccc",H.dashStyle),B=z.getZonesGraphs(B),B.forEach(function(U,T){var C=U[0];let P=z[C];const G=P?"animate":"attr";P?(P.endX=z.preventGraphAnimation?null:Y.xMap,P.animate({d:Y})):Y.length&&(z[C]=P=z.chart.renderer.path(Y).addClass(U[1]).attr({zIndex:1}).add(z.group)),P&&!I&&(C={stroke:U[2],"stroke-width":H.lineWidth||0,fill:z.fillGraph&&z.color||"none"},U[3]?C.dashstyle=U[3]:H.linecap!=="square"&&(C["stroke-linecap"]=C["stroke-linejoin"]="round"),P[G](C).shadow(2>T&&H.shadow)),P&&(P.startX=Y.xMap,P.isArea=Y.isArea)})}getGraphPath(z,H,Y){const I=this,B=I.options,U=[],T=[];let C,P=B.step;z=z||I.points;const G=z.reversed;return G&&z.reverse(),(P={right:1,center:2}[P]||P&&3)&&G&&(P=4-P),z=this.getValidPoints(z,!1,!(B.connectNulls&&!H&&!Y)),z.forEach(function(q,N){const ne=q.plotX,K=q.plotY,L=z[N-1],E=q.isNull||typeof K!="number";(q.leftCliff||L&&L.rightCliff)&&!Y&&(C=!0),E&&!n(H)&&0<N?C=!B.connectNulls:E&&!H?C=!0:(N===0||C?N=[["M",q.plotX,q.plotY]]:I.getPointSpline?N=[I.getPointSpline(z,q,N)]:P?(N=P===1?[["L",L.plotX,K]]:P===2?[["L",(L.plotX+ne)/2,L.plotY],["L",(L.plotX+ne)/2,K]]:[["L",ne,L.plotY]],N.push(["L",ne,K])):N=[["L",ne,K]],T.push(q.x),P&&(T.push(q.x),P===2&&T.push(q.x)),U.push.apply(U,N),C=!1)}),U.xMap=T,I.graphPath=U}getZonesGraphs(z){return this.zones.forEach(function(H,Y){Y=["zone-graph-"+Y,"highcharts-graph highcharts-zone-graph-"+Y+" "+(H.className||"")],this.chart.styledMode||Y.push(H.color||this.color,H.dashStyle||this.options.dashStyle),z.push(Y)},this),z}}return j.defaultOptions=k(o.defaultOptions,{legendSymbol:"lineMarker"}),u.registerSeriesType("line",j),j}),i(a,"Series/Area/AreaSeries.js",[a["Core/Color/Color.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(o,u,d){const{parse:n}=o,{seriesTypes:{line:k}}=u,{extend:j,merge:Z,objectEach:z,pick:H}=d;class Y extends k{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){this.areaPath=[],super.drawGraph.apply(this);const B=this,U=this.areaPath,T=this.options,C=[["area","highcharts-area",this.color,T.fillColor]];this.zones.forEach(function(P,G){C.push(["zone-area-"+G,"highcharts-area highcharts-zone-area-"+G+" "+P.className,P.color||B.color,P.fillColor||T.fillColor])}),C.forEach(function(P){const G=P[0],q={};let N=B[G];const ne=N?"animate":"attr";N?(N.endX=B.preventGraphAnimation?null:U.xMap,N.animate({d:U})):(q.zIndex=0,N=B[G]=B.chart.renderer.path(U).addClass(P[1]).add(B.group),N.isArea=!0),B.chart.styledMode||(q.fill=H(P[3],n(P[2]).setOpacity(H(T.fillOpacity,.75)).get())),N[ne](q),N.startX=U.xMap,N.shiftUnit=T.step?2:1})}getGraphPath(B){var U=k.prototype.getGraphPath,T=this.options;const C=T.stacking,P=this.yAxis,G=[],q=[],N=this.index,ne=P.stacking.stacks[this.stackKey],K=T.threshold,L=Math.round(P.getThreshold(T.threshold));T=H(T.connectNulls,C==="percent");var E=function(m,y,x){var M=B[m];m=C&&ne[M.x].points[N];const X=M[x+"Null"]||0;x=M[x+"Cliff"]||0;let re,ee;M=!0,x||X?(re=(X?m[0]:m[1])+x,ee=m[0]+x,M=!!X):!C&&B[y]&&B[y].isNull&&(re=ee=K),typeof re<"u"&&(q.push({plotX:w,plotY:re===null?L:P.getThreshold(re),isNull:M,isCliff:!0}),G.push({plotX:w,plotY:ee===null?L:P.getThreshold(ee),doCurve:!1}))};let w;B=B||this.points,C&&(B=this.getStackPoints(B));for(let m=0,y=B.length;m<y;++m){C||(B[m].leftCliff=B[m].rightCliff=B[m].leftNull=B[m].rightNull=void 0);var g=B[m].isNull;w=H(B[m].rectPlotX,B[m].plotX);var A=C?H(B[m].yBottom,L):L;(!g||T)&&(T||E(m,m-1,"left"),g&&!C&&T||(q.push(B[m]),G.push({x:m,plotX:w,plotY:A})),T||E(m,m+1,"right"))}return E=U.call(this,q,!0,!0),G.reversed=!0,g=U.call(this,G,!0,!0),(A=g[0])&&A[0]==="M"&&(g[0]=["L",A[1],A[2]]),g=E.concat(g),g.length&&g.push(["Z"]),U=U.call(this,q,!1,T),g.xMap=E.xMap,this.areaPath=g,U}getStackPoints(B){const U=this,T=[],C=[],P=this.xAxis,G=this.yAxis,q=G.stacking.stacks[this.stackKey],N={},ne=G.series,K=ne.length,L=G.options.reversedStacks?1:-1,E=ne.indexOf(U);if(B=B||this.points,this.options.stacking){for(let g=0;g<B.length;g++)B[g].leftNull=B[g].rightNull=void 0,N[B[g].x]=B[g];z(q,function(g,A){g.total!==null&&C.push(A)}),C.sort(function(g,A){return g-A});const w=ne.map(g=>g.visible);C.forEach(function(g,A){let m=0,y,x;if(N[g]&&!N[g].isNull)T.push(N[g]),[-1,1].forEach(function(M){const X=M===1?"rightNull":"leftNull",re=q[C[A+M]];let ee=0;if(re){let he=E;for(;0<=he&&he<K;){const ye=ne[he].index;y=re.points[ye],y||(ye===U.index?N[g][X]=!0:w[he]&&(x=q[g].points[ye])&&(ee-=x[1]-x[0])),he+=L}}N[g][M===1?"rightCliff":"leftCliff"]=ee});else{let M=E;for(;0<=M&&M<K;){if(y=q[g].points[ne[M].index]){m=y[1];break}M+=L}m=H(m,0),m=G.translate(m,0,1,0,1),T.push({isNull:!0,plotX:P.translate(g,0,0,0,1),x:g,plotY:m,yBottom:m})}})}return T}}return Y.defaultOptions=Z(k.defaultOptions,{threshold:0,legendSymbol:"rectangle"}),j(Y.prototype,{singleStacks:!1}),u.registerSeriesType("area",Y),Y}),i(a,"Series/Spline/SplineSeries.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(o,u){const{line:d}=o.seriesTypes,{merge:n,pick:k}=u;class j extends d{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getPointSpline(z,H,Y){const I=H.plotX||0,B=H.plotY||0,U=z[Y-1];Y=z[Y+1];let T,C,P;if(U&&!U.isNull&&U.doCurve!==!1&&!H.isCliff&&Y&&!Y.isNull&&Y.doCurve!==!1&&!H.isCliff){z=U.plotY||0;var G=Y.plotX||0;Y=Y.plotY||0;let q=0;T=(1.5*I+(U.plotX||0))/2.5,C=(1.5*B+z)/2.5,G=(1.5*I+G)/2.5,P=(1.5*B+Y)/2.5,G!==T&&(q=(P-C)*(G-I)/(G-T)+B-P),C+=q,P+=q,C>z&&C>B?(C=Math.max(z,B),P=2*B-C):C<z&&C<B&&(C=Math.min(z,B),P=2*B-C),P>Y&&P>B?(P=Math.max(Y,B),C=2*B-P):P<Y&&P<B&&(P=Math.min(Y,B),C=2*B-P),H.rightContX=G,H.rightContY=P}return H=["C",k(U.rightContX,U.plotX,0),k(U.rightContY,U.plotY,0),k(T,I,0),k(C,B,0),I,B],U.rightContX=U.rightContY=void 0,H}}return j.defaultOptions=n(d.defaultOptions),o.registerSeriesType("spline",j),j}),i(a,"Series/AreaSpline/AreaSplineSeries.js",[a["Series/Spline/SplineSeries.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(o,u,d){const{area:n,area:{prototype:k}}=u.seriesTypes,{extend:j,merge:Z}=d;class z extends o{constructor(){super(...arguments),this.options=this.points=this.data=void 0}}return z.defaultOptions=Z(o.defaultOptions,n.defaultOptions),j(z.prototype,{getGraphPath:k.getGraphPath,getStackPoints:k.getStackPoints,drawGraph:k.drawGraph}),u.registerSeriesType("areaspline",z),z}),i(a,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),i(a,"Series/Column/ColumnSeries.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Color/Color.js"],a["Series/Column/ColumnSeriesDefaults.js"],a["Core/Globals.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(o,u,d,n,k,j,Z){const{animObject:z}=o,{parse:H}=u,{hasTouch:Y,noop:I}=n,{clamp:B,defined:U,extend:T,fireEvent:C,isArray:P,isNumber:G,merge:q,pick:N,objectEach:ne}=Z;class K extends k{constructor(){super(...arguments),this.points=this.options=this.group=this.data=this.borderWidth=void 0}animate(E){const w=this,g=this.yAxis,A=g.pos,m=w.options,y=this.chart.inverted,x={},M=y?"translateX":"translateY";let X;E?(x.scaleY=.001,E=B(g.toPixels(m.threshold),A,A+g.len),y?x.translateX=E-g.len:x.translateY=E,w.clipBox&&w.setClip(),w.group.attr(x)):(X=Number(w.group.attr(M)),w.group.animate({scaleY:1},T(z(w.options.animation),{step:function(re,ee){w.group&&(x[M]=X+ee.pos*(A-X),w.group.attr(x))}})))}init(E,w){super.init.apply(this,arguments);const g=this;E=g.chart,E.hasRendered&&E.series.forEach(function(A){A.type===g.type&&(A.isDirty=!0)})}getColumnMetrics(){const E=this;var w=E.options;const g=E.xAxis,A=E.yAxis;var m=g.options.reversedStacks;m=g.reversed&&!m||!g.reversed&&m;const y={};let x,M=0;w.grouping===!1?M=1:E.chart.series.forEach(function(he){const ye=he.yAxis,Ce=he.options;let oe;he.type!==E.type||!he.visible&&E.chart.options.chart.ignoreHiddenSeries||A.len!==ye.len||A.pos!==ye.pos||(Ce.stacking&&Ce.stacking!=="group"?(x=he.stackKey,typeof y[x]>"u"&&(y[x]=M++),oe=y[x]):Ce.grouping!==!1&&(oe=M++),he.columnIndex=oe)});const X=Math.min(Math.abs(g.transA)*(g.ordinal&&g.ordinal.slope||w.pointRange||g.closestPointRange||g.tickInterval||1),g.len),re=X*w.groupPadding,ee=(X-2*re)/(M||1);return w=Math.min(w.maxPointWidth||g.len,N(w.pointWidth,ee*(1-2*w.pointPadding))),E.columnMetrics={width:w,offset:(ee-w)/2+(re+((E.columnIndex||0)+(m?1:0))*ee-X/2)*(m?-1:1),paddedWidth:ee,columnCount:M},E.columnMetrics}crispCol(E,w,g,A){var m=this.borderWidth,y=-(m%2?.5:0);return m=m%2?.5:1,this.options.crisp&&(g=Math.round(E+g)+y,E=Math.round(E)+y,g-=E),A=Math.round(w+A)+m,y=.5>=Math.abs(w)&&.5<A,w=Math.round(w)+m,A-=w,y&&A&&(--w,A+=1),{x:E,y:w,width:g,height:A}}adjustForMissingColumns(E,w,g,A){const m=this.options.stacking;if(!g.isNull&&1<A.columnCount){const y=this.yAxis.options.reversedStacks;let x=0,M=y?0:-A.columnCount;ne(this.yAxis.stacking&&this.yAxis.stacking.stacks,X=>{if(typeof g.x=="number"){const re=X[g.x.toString()];re&&(X=re.points[this.index],m?(X&&(x=M),re.hasValidPoints&&(y?M++:M--)):P(X)&&(X=Object.keys(re.points).filter(ee=>!ee.match(",")&&re.points[ee]&&1<re.points[ee].length).map(parseFloat).sort((ee,he)=>he-ee),x=X.indexOf(this.index),M=X.length))}}),E=(g.plotX||0)+((M-1)*A.paddedWidth+w)/2-w-x*A.paddedWidth}return E}translate(){const E=this,w=E.chart,g=E.options;var A=E.dense=2>E.closestPointRange*E.xAxis.transA;A=E.borderWidth=N(g.borderWidth,A?0:1);const m=E.xAxis,y=E.yAxis,x=g.threshold,M=N(g.minPointLength,5),X=E.getColumnMetrics(),re=X.width,ee=E.pointXOffset=X.offset,he=E.dataMin,ye=E.dataMax;let Ce=E.barW=Math.max(re,1+2*A),oe=E.translatedThreshold=y.getThreshold(x);w.inverted&&(oe-=.5),g.pointPadding&&(Ce=Math.ceil(Ce)),k.prototype.translate.apply(E),E.points.forEach(function(de){const fe=N(de.yBottom,oe);var ue=999+Math.abs(fe),pe=de.plotX||0;ue=B(de.plotY,-ue,y.len+ue);let te=Math.min(ue,fe),ge=Math.max(ue,fe)-te,xe=re,ce=pe+ee,we=Ce;M&&Math.abs(ge)<M&&(ge=M,pe=!y.reversed&&!de.negative||y.reversed&&de.negative,G(x)&&G(ye)&&de.y===x&&ye<=x&&(y.min||0)<x&&(he!==ye||(y.max||0)<=x)&&(pe=!pe),te=Math.abs(te-oe)>M?fe-M:oe-(pe?M:0)),U(de.options.pointWidth)&&(xe=we=Math.ceil(de.options.pointWidth),ce-=Math.round((xe-re)/2)),g.centerInCategory&&(ce=E.adjustForMissingColumns(ce,xe,de,X)),de.barX=ce,de.pointWidth=xe,de.tooltipPos=w.inverted?[B(y.len+y.pos-w.plotLeft-ue,y.pos-w.plotLeft,y.len+y.pos-w.plotLeft),m.len+m.pos-w.plotTop-ce-we/2,ge]:[m.left-w.plotLeft+ce+we/2,B(ue+y.pos-w.plotTop,y.pos-w.plotTop,y.len+y.pos-w.plotTop),ge],de.shapeType=E.pointClass.prototype.shapeType||"roundedRect",de.shapeArgs=E.crispCol(ce,de.isNull?oe:te,we,de.isNull?0:ge)}),C(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(E,w){const g=this.options;var A=this.pointAttrToOptions||{},m=A.stroke||"borderColor";const y=A["stroke-width"]||"borderWidth";let x,M=E&&E.color||this.color,X=E&&E[m]||g[m]||M;A=E&&E.options.dashStyle||g.dashStyle;let re=E&&E[y]||g[y]||this[y]||0,ee=N(E&&E.opacity,g.opacity,1);return E&&this.zones.length&&(x=E.getZone(),M=E.options.color||x&&(x.color||E.nonZonedColor)||this.color,x&&(X=x.borderColor||X,A=x.dashStyle||A,re=x.borderWidth||re)),w&&E&&(E=q(g.states[w],E.options.states&&E.options.states[w]||{}),w=E.brightness,M=E.color||typeof w<"u"&&H(M).brighten(E.brightness).get()||M,X=E[m]||X,re=E[y]||re,A=E.dashStyle||A,ee=N(E.opacity,ee)),m={fill:M,stroke:X,"stroke-width":re,opacity:ee},A&&(m.dashstyle=A),m}drawPoints(E=this.points){const w=this,g=this.chart,A=w.options,m=g.renderer,y=A.animationLimit||250;let x;E.forEach(function(M){let X=M.graphic,re=!!X,ee=X&&g.pointCount<y?"animate":"attr";G(M.plotY)&&M.y!==null?(x=M.shapeArgs,X&&M.hasNewShapeType()&&(X=X.destroy()),w.enabledDataSorting&&(M.startXPos=w.xAxis.reversed?-(x&&x.width||0):w.xAxis.width),X||(M.graphic=X=m[M.shapeType](x).add(M.group||w.group))&&w.enabledDataSorting&&g.hasRendered&&g.pointCount<y&&(X.attr({x:M.startXPos}),re=!0,ee="animate"),X&&re&&X[ee](q(x)),g.styledMode||X[ee](w.pointAttribs(M,M.selected&&"select")).shadow(M.allowShadow!==!1&&A.shadow),X&&(X.addClass(M.getClassName(),!0),X.attr({visibility:M.visible?"inherit":"hidden"}))):X&&(M.graphic=X.destroy())})}drawTracker(E=this.points){const w=this,g=w.chart,A=g.pointer,m=function(x){const M=A.getPointFromEvent(x);typeof M<"u"&&(A.isDirectTouch=!0,M.onMouseOver(x))};let y;E.forEach(function(x){y=P(x.dataLabels)?x.dataLabels:x.dataLabel?[x.dataLabel]:[],x.graphic&&(x.graphic.element.point=x),y.forEach(function(M){M.div?M.div.point=x:M.element.point=x})}),w._hasTracking||(w.trackerGroups.forEach(function(x){w[x]&&(w[x].addClass("highcharts-tracker").on("mouseover",m).on("mouseout",function(M){A.onTrackerMouseOut(M)}),Y&&w[x].on("touchstart",m),!g.styledMode&&w.options.cursor&&w[x].css({cursor:w.options.cursor}))}),w._hasTracking=!0),C(this,"afterDrawTracker")}remove(){const E=this,w=E.chart;w.hasRendered&&w.series.forEach(function(g){g.type===E.type&&(g.isDirty=!0)}),k.prototype.remove.apply(E,arguments)}}return K.defaultOptions=q(k.defaultOptions,d),T(K.prototype,{cropShoulder:0,directTouch:!0,getSymbol:I,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),j.registerSeriesType("column",K),K}),i(a,"Core/Series/DataLabel.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/FormatUtilities.js"],a["Core/Utilities.js"]],function(o,u,d){const{getDeferredAnimation:n}=o,{format:k}=u,{defined:j,extend:Z,fireEvent:z,isArray:H,isString:Y,merge:I,objectEach:B,pick:U,splat:T}=d;var C;return function(P){function G(A,m,y,x,M){const X=this.chart;var re=this.isCartesian&&X.inverted;const ee=this.enabledDataSorting;var he=A.plotX,ye=A.plotY;const Ce=y.rotation;var oe=y.align;ye=j(he)&&j(ye)&&X.isInsidePlot(he,Math.round(ye),{inverted:re,paneCoordinates:!0,series:this});let de=U(y.overflow,ee?"none":"justify")==="justify";if(re=this.visible&&A.visible!==!1&&j(he)&&(A.series.forceDL||ee&&!de||ye||U(y.inside,!!this.options.stacking)&&x&&X.isInsidePlot(he,re?x.x+1:x.y+x.height-1,{inverted:re,paneCoordinates:!0,series:this})),he=A.pos(),re&&he){Ce&&m.attr({align:oe}),oe=m.getBBox(!0);var fe=[0,0],ue=X.renderer.fontMetrics(m).b;if(x=Z({x:he[0],y:Math.round(he[1]),width:0,height:0},x),Z(y,{width:oe.width,height:oe.height}),Ce?(de=!1,fe=X.renderer.rotCorr(ue,Ce),ue={x:x.x+(y.x||0)+x.width/2+fe.x,y:x.y+(y.y||0)+{top:0,middle:.5,bottom:1}[y.verticalAlign]*x.height},fe=[oe.x-Number(m.attr("x")),oe.y-Number(m.attr("y"))],ee&&this.xAxis&&!de&&this.setDataLabelStartPos(A,m,M,ye,ue),m[M?"attr":"animate"](ue)):(ee&&this.xAxis&&!de&&this.setDataLabelStartPos(A,m,M,ye,x),m.align(y,void 0,x),ue=m.alignAttr),de&&0<=x.height)this.justifyDataLabel(m,y,ue,oe,x,M);else if(U(y.crop,!0)){let{x:pe,y:te}=ue;pe+=fe[0],te+=fe[1],re=X.isInsidePlot(pe,te,{paneCoordinates:!0,series:this})&&X.isInsidePlot(pe+oe.width,te+oe.height,{paneCoordinates:!0,series:this})}y.shape&&!Ce&&m[M?"attr":"animate"]({anchorX:he[0],anchorY:he[1]})}M&&ee&&(m.placed=!1),re||ee&&!de?m.show():(m.hide(),m.placed=!1)}function q(A,m){var y=m.filter;return y?(m=y.operator,A=A[y.property],y=y.value,m===">"&&A>y||m==="<"&&A<y||m===">="&&A>=y||m==="<="&&A<=y||m==="=="&&A==y||m==="==="&&A===y):!0}function N(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function ne(A){const m=this.hasRendered||0,y=this.initDataLabelsGroup().attr({opacity:+m});return!m&&y&&(this.visible&&y.show(),this.options.animation?y.animate({opacity:1},A):y.attr({opacity:1})),y}function K(A=this.points){const m=this,y=m.chart,x=m.options,M=y.renderer,{backgroundColor:X,plotBackgroundColor:re}=y.options.chart,ee=M.getContrast(Y(re)&&re||Y(X)&&X||"#000000");let he=x.dataLabels,ye,Ce;var oe=T(he)[0];const de=oe.animation;oe=oe.defer?n(y,de,m):{defer:0,duration:0},he=E(E(y.options.plotOptions&&y.options.plotOptions.series&&y.options.plotOptions.series.dataLabels,y.options.plotOptions&&y.options.plotOptions[m.type]&&y.options.plotOptions[m.type].dataLabels),he),z(this,"drawDataLabels"),(H(he)||he.enabled||m._hasPointLabels)&&(Ce=this.initDataLabels(oe),A.forEach(fe=>{ye=T(E(he,fe.dlOptions||fe.options&&fe.options.dataLabels)),ye.forEach((ue,pe)=>{const te=ue.enabled&&(!fe.isNull||fe.dataLabelOnNull)&&q(fe,ue),ge=fe.connectors?fe.connectors[pe]:fe.connector;let xe,ce,we=fe.dataLabels?fe.dataLabels[pe]:fe.dataLabel,Ae=!we;const Fe=U(ue.distance,fe.labelDistance);if(te){var De=fe.getLabelConfig(),Ge=U(ue[fe.formatPrefix+"Format"],ue.format);if(De=j(Ge)?k(Ge,De,y):(ue[fe.formatPrefix+"Formatter"]||ue.formatter).call(De,ue),Ge=ue.style,xe=ue.rotation,y.styledMode||(Ge.color=U(ue.color,Ge.color,m.color,"#000000"),Ge.color==="contrast"?(fe.contrastColor=M.getContrast(fe.color||m.color),Ge.color=!j(Fe)&&ue.inside||0>Fe||x.stacking?fe.contrastColor:ee):delete fe.contrastColor,x.cursor&&(Ge.cursor=x.cursor)),ce={r:ue.borderRadius||0,rotation:xe,padding:ue.padding,zIndex:1},!y.styledMode){const{backgroundColor:ct,borderColor:ot}=ue;ce.fill=ct==="auto"?fe.color:ct,ce.stroke=ot==="auto"?fe.color:ot,ce["stroke-width"]=ue.borderWidth}B(ce,function(ct,ot){typeof ct>"u"&&delete ce[ot]})}!we||te&&j(De)&&!!we.div==!!ue.useHTML&&(we.rotation&&ue.rotation||we.rotation===ue.rotation)||(Ae=!0,fe.dataLabel=we=fe.dataLabel&&fe.dataLabel.destroy(),fe.dataLabels&&(fe.dataLabels.length===1?delete fe.dataLabels:delete fe.dataLabels[pe]),pe||delete fe.dataLabel,ge&&(fe.connector=fe.connector.destroy(),fe.connectors&&(fe.connectors.length===1?delete fe.connectors:delete fe.connectors[pe]))),te&&j(De)?(we?ce.text=De:(fe.dataLabels=fe.dataLabels||[],we=fe.dataLabels[pe]=xe?M.text(De,0,0,ue.useHTML).addClass("highcharts-data-label"):M.label(De,0,0,ue.shape,null,null,ue.useHTML,null,"data-label"),pe||(fe.dataLabel=we),we.addClass(" highcharts-data-label-color-"+fe.colorIndex+" "+(ue.className||"")+(ue.useHTML?" highcharts-tracker":""))),we.options=ue,we.attr(ce),y.styledMode||we.css(Ge).shadow(ue.shadow),(pe=ue[fe.formatPrefix+"TextPath"]||ue.textPath)&&!ue.useHTML&&(we.setTextPath(fe.getDataLabelPath&&fe.getDataLabelPath(we)||fe.graphic,pe),fe.dataLabelPath&&!pe.enabled&&(fe.dataLabelPath=fe.dataLabelPath.destroy())),we.added||we.add(Ce),m.alignDataLabel(fe,we,ue,null,Ae)):we&&we.hide()})})),z(this,"afterDrawDataLabels")}function L(A,m,y,x,M,X){const re=this.chart,ee=m.align,he=m.verticalAlign,ye=A.box?0:A.padding||0;let{x:Ce=0,y:oe=0}=m,de,fe;return de=(y.x||0)+ye,0>de&&(ee==="right"&&0<=Ce?(m.align="left",m.inside=!0):Ce-=de,fe=!0),de=(y.x||0)+x.width-ye,de>re.plotWidth&&(ee==="left"&&0>=Ce?(m.align="right",m.inside=!0):Ce+=re.plotWidth-de,fe=!0),de=y.y+ye,0>de&&(he==="bottom"&&0<=oe?(m.verticalAlign="top",m.inside=!0):oe-=de,fe=!0),de=(y.y||0)+x.height-ye,de>re.plotHeight&&(he==="top"&&0>=oe?(m.verticalAlign="bottom",m.inside=!0):oe+=re.plotHeight-de,fe=!0),fe&&(m.x=Ce,m.y=oe,A.placed=!X,A.align(m,void 0,M)),fe}function E(A,m){let y=[],x;if(H(A)&&!H(m))y=A.map(function(M){return I(M,m)});else if(H(m)&&!H(A))y=m.map(function(M){return I(A,M)});else if(H(A)||H(m))for(x=Math.max(A.length,m.length);x--;)y[x]=I(A[x],m[x]);else y=I(A,m);return y}function w(A,m,y,x,M){const X=this.chart,re=X.inverted,ee=this.xAxis,he=ee.reversed,ye=re?m.height/2:m.width/2;A=(A=A.pointWidth)?A/2:0,m.startXPos=re?M.x:he?-ye-A:ee.width-ye+A,m.startYPos=re?he?this.yAxis.height-ye+A:-ye-A:M.y,x?m.visibility==="hidden"&&(m.show(),m.attr({opacity:0}).animate({opacity:1})):m.attr({opacity:1}).animate({opacity:0},void 0,m.hide),X.hasRendered&&(y&&m.attr({x:m.startXPos,y:m.startYPos}),m.placed=!0)}const g=[];P.compose=function(A){d.pushUnique(g,A)&&(A=A.prototype,A.initDataLabelsGroup=N,A.initDataLabels=ne,A.alignDataLabel=G,A.drawDataLabels=K,A.justifyDataLabel=L,A.setDataLabelStartPos=w)}}(C||(C={})),C}),i(a,"Series/Column/ColumnDataLabel.js",[a["Core/Series/DataLabel.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(o,u,d){const{series:n}=u,{merge:k,pick:j}=d;var Z;return function(z){function H(I,B,U,T,C){let P=this.chart.inverted;var G=I.series;let q=(G.xAxis?G.xAxis.len:this.chart.plotSizeX)||0;G=(G.yAxis?G.yAxis.len:this.chart.plotSizeY)||0;var N=I.dlBox||I.shapeArgs;let ne=j(I.below,I.plotY>j(this.translatedThreshold,G)),K=j(U.inside,!!this.options.stacking);N&&(T=k(N),0>T.y&&(T.height+=T.y,T.y=0),N=T.y+T.height-G,0<N&&N<T.height&&(T.height-=N),P&&(T={x:G-T.y-T.height,y:q-T.x-T.width,width:T.height,height:T.width}),K||(P?(T.x+=ne?0:T.width,T.width=0):(T.y+=ne?T.height:0,T.height=0))),U.align=j(U.align,!P||K?"center":ne?"right":"left"),U.verticalAlign=j(U.verticalAlign,P||K?"middle":ne?"top":"bottom"),n.prototype.alignDataLabel.call(this,I,B,U,T,C),U.inside&&I.contrastColor&&B.css({color:I.contrastColor})}const Y=[];z.compose=function(I){o.compose(n),d.pushUnique(Y,I)&&(I.prototype.alignDataLabel=H)}}(Z||(Z={})),Z}),i(a,"Series/Bar/BarSeries.js",[a["Series/Column/ColumnSeries.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(o,u,d){const{extend:n,merge:k}=d;class j extends o{constructor(){super(...arguments),this.points=this.options=this.data=void 0}}return j.defaultOptions=k(o.defaultOptions,{}),n(j.prototype,{inverted:!0}),u.registerSeriesType("bar",j),j}),i(a,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),i(a,"Series/Scatter/ScatterSeries.js",[a["Series/Scatter/ScatterSeriesDefaults.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(o,u,d){const{column:n,line:k}=u.seriesTypes,{addEvent:j,extend:Z,merge:z}=d;class H extends k{constructor(){super(...arguments),this.points=this.options=this.data=void 0}applyJitter(){const I=this,B=this.options.jitter,U=this.points.length;B&&this.points.forEach(function(T,C){["x","y"].forEach(function(P,G){let q="plot"+P.toUpperCase(),N,ne;if(B[P]&&!T.isNull){var K=I[P+"Axis"];ne=B[P]*K.transA,K&&!K.isLog&&(N=Math.max(0,T[q]-ne),K=Math.min(K.len,T[q]+ne),G=1e4*Math.sin(C+G*U),G-=Math.floor(G),T[q]=N+(K-N)*G,P==="x"&&(T.clientX=T.plotX))}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return H.defaultOptions=z(k.defaultOptions,o),Z(H.prototype,{drawTracker:n.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),j(H,"afterTranslate",function(){this.applyJitter()}),u.registerSeriesType("scatter",H),H}),i(a,"Series/CenteredUtilities.js",[a["Core/Globals.js"],a["Core/Series/Series.js"],a["Core/Utilities.js"]],function(o,u,d){const{deg2rad:n}=o,{fireEvent:k,isNumber:j,pick:Z,relativeLength:z}=d;var H;return function(Y){Y.getCenter=function(){var I=this.options,B=this.chart;const U=2*(I.slicedOffset||0),T=B.plotWidth-2*U,C=B.plotHeight-2*U;var P=I.center;const G=Math.min(T,C),q=I.thickness;var N=I.size;let ne=I.innerSize||0;for(typeof N=="string"&&(N=parseFloat(N)),typeof ne=="string"&&(ne=parseFloat(ne)),I=[Z(P[0],"50%"),Z(P[1],"50%"),Z(N&&0>N?void 0:I.size,"100%"),Z(ne&&0>ne?void 0:I.innerSize||0,"0%")],!B.angular||this instanceof u||(I[3]=0),P=0;4>P;++P)N=I[P],B=2>P||P===2&&/%$/.test(N),I[P]=z(N,[T,C,G,I[2]][P])+(B?U:0);return I[3]>I[2]&&(I[3]=I[2]),j(q)&&2*q<I[2]&&0<q&&(I[3]=I[2]-2*q),k(this,"afterGetCenter",{positions:I}),I},Y.getStartAndEndRadians=function(I,B){return I=j(I)?I:0,B=j(B)&&B>I&&360>B-I?B:I+360,{start:n*(I+-90),end:n*(B+-90)}}}(H||(H={})),H}),i(a,"Series/Pie/PiePoint.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Series/Point.js"],a["Core/Utilities.js"]],function(o,u,d){const{setAnimation:n}=o,{addEvent:k,defined:j,extend:Z,isNumber:z,pick:H,relativeLength:Y}=d;class I extends u{constructor(){super(...arguments),this.series=this.options=this.labelDistance=void 0}getConnectorPath(){const U=this.labelPosition,T=this.series.options.dataLabels,C=this.connectorShapes;let P=T.connectorShape;return C[P]&&(P=C[P]),P.call(this,{x:U.computed.x,y:U.computed.y,alignment:U.alignment},U.connectorPosition,T)}getTranslate(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}}haloPath(U){const T=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(T.x,T.y,T.r+U,T.r+U,{innerR:T.r-1,start:T.start,end:T.end,borderRadius:T.borderRadius})}init(){super.init.apply(this,arguments),this.name=H(this.name,"Slice");const U=T=>{this.slice(T.type==="select")};return k(this,"select",U),k(this,"unselect",U),this}isValid(){return z(this.y)&&0<=this.y}setVisible(U,T){const C=this.series,P=C.chart,G=C.options.ignoreHiddenPoint;T=H(T,G),U!==this.visible&&(this.visible=this.options.visible=U=typeof U>"u"?!this.visible:U,C.options.data[C.data.indexOf(this)]=this.options,["graphic","dataLabel","connector"].forEach(q=>{this[q]&&this[q][U?"show":"hide"](U)}),this.legendItem&&P.legend.colorizeItem(this,U),U||this.state!=="hover"||this.setState(""),G&&(C.isDirty=!0),T&&P.redraw())}slice(U,T,C){const P=this.series;n(C,P.chart),H(T,!0),this.sliced=this.options.sliced=j(U)?U:!this.sliced,P.options.data[P.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return Z(I.prototype,{connectorShapes:{fixedOffset:function(B,U,T){const C=U.breakAt;return U=U.touchingSliceAt,[["M",B.x,B.y],T.softConnector?["C",B.x+(B.alignment==="left"?-5:5),B.y,2*C.x-U.x,2*C.y-U.y,C.x,C.y]:["L",C.x,C.y],["L",U.x,U.y]]},straight:function(B,U){return U=U.touchingSliceAt,[["M",B.x,B.y],["L",U.x,U.y]]},crookedLine:function(B,U,T){const{breakAt:C,touchingSliceAt:P}=U;({series:U}=this);const[G,q,N]=U.center,ne=N/2,K=U.chart.plotWidth,L=U.chart.plotLeft;U=B.alignment==="left";const{x:E,y:w}=B;return T.crookDistance?(B=Y(T.crookDistance,1),B=U?G+ne+(K+L-G-ne)*(1-B):L+(G-ne)*B):B=G+(q-w)*Math.tan((this.angle||0)-Math.PI/2),T=[["M",E,w]],(U?B<=E&&B>=C.x:B>=E&&B<=C.x)&&T.push(["L",B,w]),T.push(["L",C.x,C.y],["L",P.x,P.y]),T}}}),I}),i(a,"Series/Pie/PieSeriesDefaults.js",[],function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),i(a,"Series/Pie/PieSeries.js",[a["Series/CenteredUtilities.js"],a["Series/Column/ColumnSeries.js"],a["Core/Globals.js"],a["Series/Pie/PiePoint.js"],a["Series/Pie/PieSeriesDefaults.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/Symbols.js"],a["Core/Utilities.js"]],function(o,u,d,n,k,j,Z,z,H){const{getStartAndEndRadians:Y}=o;({noop:d}=d);const{clamp:I,extend:B,fireEvent:U,merge:T,pick:C,relativeLength:P}=H;class G extends j{constructor(){super(...arguments),this.points=this.options=this.maxLabelDistance=this.data=this.center=void 0}animate(N){const ne=this,K=ne.points,L=ne.startAngleRad;N||K.forEach(function(E){const w=E.graphic,g=E.shapeArgs;w&&g&&(w.attr({r:C(E.startR,ne.center&&ne.center[3]/2),start:L,end:L}),w.animate({r:g.r,start:g.start,end:g.end},ne.options.animation))})}drawEmpty(){const N=this.startAngleRad,ne=this.endAngleRad,K=this.options;let L,E;this.total===0&&this.center?(L=this.center[0],E=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(L,E,this.center[1]/2,0,N,ne).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:z.arc(L,E,this.center[2]/2,0,{start:N,end:ne,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":K.borderWidth,fill:K.fillColor||"none",stroke:K.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){const N=this.chart.renderer;this.points.forEach(function(ne){ne.graphic&&ne.hasNewShapeType()&&(ne.graphic=ne.graphic.destroy()),ne.graphic||(ne.graphic=N[ne.shapeType](ne.shapeArgs).add(ne.series.group),ne.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(N,ne,K){const L=this.center,E=this.radii?this.radii[K.index]||0:L[2]/2;return N=Math.asin(I((N-L[1])/(E+K.labelDistance),-1,1)),L[0]+(ne?-1:1)*Math.cos(N)*(E+K.labelDistance)+(0<K.labelDistance?(ne?-1:1)*this.options.dataLabels.padding:0)}hasData(){return!!this.processedXData.length}redrawPoints(){const N=this,ne=N.chart;let K,L,E,w;this.drawEmpty(),N.group&&!ne.styledMode&&N.group.shadow(N.options.shadow),N.points.forEach(function(g){const A={};L=g.graphic,!g.isNull&&L?(w=g.shapeArgs,K=g.getTranslate(),ne.styledMode||(E=N.pointAttribs(g,g.selected&&"select")),g.delayedRendering?(L.setRadialReference(N.center).attr(w).attr(K),ne.styledMode||L.attr(E).attr({"stroke-linejoin":"round"}),g.delayedRendering=!1):(L.setRadialReference(N.center),ne.styledMode||T(!0,A,E),T(!0,A,w,K),L.animate(A)),L.attr({visibility:g.visible?"inherit":"hidden"}),L.addClass(g.getClassName(),!0)):L&&(g.graphic=L.destroy())})}sortByAngle(N,ne){N.sort(function(K,L){return typeof K.angle<"u"&&(L.angle-K.angle)*ne})}translate(N){U(this,"translate"),this.generatePoints();var ne=this.options;const K=ne.slicedOffset,L=K+(ne.borderWidth||0);var E=Y(ne.startAngle,ne.endAngle);const w=this.startAngleRad=E.start;E=(this.endAngleRad=E.end)-w;const g=this.points,A=ne.dataLabels.distance;ne=ne.ignoreHiddenPoint;const m=g.length;let y,x,M,X=0;for(N||(this.center=N=this.getCenter()),x=0;x<m;x++){M=g[x];var re=w+X*E;!M.isValid()||ne&&!M.visible||(X+=M.percentage/100);var ee=w+X*E,he={x:N[0],y:N[1],r:N[2]/2,innerR:N[3]/2,start:Math.round(1e3*re)/1e3,end:Math.round(1e3*ee)/1e3};M.shapeType="arc",M.shapeArgs=he,M.labelDistance=C(M.options.dataLabels&&M.options.dataLabels.distance,A),M.labelDistance=P(M.labelDistance,he.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,M.labelDistance),ee=(ee+re)/2,ee>1.5*Math.PI?ee-=2*Math.PI:ee<-Math.PI/2&&(ee+=2*Math.PI),M.slicedTranslation={translateX:Math.round(Math.cos(ee)*K),translateY:Math.round(Math.sin(ee)*K)},he=Math.cos(ee)*N[2]/2,y=Math.sin(ee)*N[2]/2,M.tooltipPos=[N[0]+.7*he,N[1]+.7*y],M.half=ee<-Math.PI/2||ee>Math.PI/2?1:0,M.angle=ee,re=Math.min(L,M.labelDistance/5),M.labelPosition={natural:{x:N[0]+he+Math.cos(ee)*M.labelDistance,y:N[1]+y+Math.sin(ee)*M.labelDistance},computed:{},alignment:0>M.labelDistance?"center":M.half?"right":"left",connectorPosition:{breakAt:{x:N[0]+he+Math.cos(ee)*re,y:N[1]+y+Math.sin(ee)*re},touchingSliceAt:{x:N[0]+he,y:N[1]+y}}}}U(this,"afterTranslate")}updateTotals(){const N=this.points,ne=N.length,K=this.options.ignoreHiddenPoint;let L,E,w=0;for(L=0;L<ne;L++)E=N[L],!E.isValid()||K&&!E.visible||(w+=E.y);for(this.total=w,L=0;L<ne;L++)E=N[L],E.percentage=0<w&&(E.visible||!K)?E.y/w*100:0,E.total=w}}return G.defaultOptions=T(j.defaultOptions,k),B(G.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:u.prototype.drawTracker,getCenter:o.getCenter,getSymbol:d,isCartesian:!1,noSharedTooltip:!0,pointAttribs:u.prototype.pointAttribs,pointClass:n,requireSorting:!1,searchPoint:d,trackerGroups:["group","dataLabelsGroup"]}),Z.registerSeriesType("pie",G),G}),i(a,"Series/Pie/PieDataLabel.js",[a["Core/Series/DataLabel.js"],a["Core/Globals.js"],a["Core/Renderer/RendererUtilities.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(o,u,d,n,k){const{noop:j}=u,{distribute:Z}=d,{series:z}=n,{arrayMax:H,clamp:Y,defined:I,merge:B,pick:U,relativeLength:T}=k;var C;return function(P){function G(){const L=this,E=L.data,w=L.chart,g=L.options.dataLabels||{},A=g.connectorPadding,m=w.plotWidth,y=w.plotHeight,x=w.plotLeft,M=Math.round(w.chartWidth/3),X=L.center,re=X[2]/2,ee=X[1],he=[[],[]],ye=[0,0,0,0],Ce=L.dataLabelPositioners;let oe,de,fe,ue,pe,te,ge,xe,ce,we,Ae,Fe;L.visible&&(g.enabled||L._hasPointLabels)&&(E.forEach(function(De){De.dataLabel&&De.visible&&De.dataLabel.shortened&&(De.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),De.dataLabel.shortened=!1)}),z.prototype.drawDataLabels.apply(L),E.forEach(function(De){De.dataLabel&&(De.visible?(he[De.half].push(De),De.dataLabel._pos=null,!I(g.style.width)&&!I(De.options.dataLabels&&De.options.dataLabels.style&&De.options.dataLabels.style.width)&&De.dataLabel.getBBox().width>M&&(De.dataLabel.css({width:Math.round(.7*M)+"px"}),De.dataLabel.shortened=!0)):(De.dataLabel=De.dataLabel.destroy(),De.dataLabels&&De.dataLabels.length===1&&delete De.dataLabels))}),he.forEach((De,Ge)=>{const ct=De.length,ot=[];let Qe,Ie=0;if(ct){if(L.sortByAngle(De,Ge-.5),0<L.maxLabelDistance){var Ue=Math.max(0,ee-re-L.maxLabelDistance);Qe=Math.min(ee+re+L.maxLabelDistance,w.plotHeight),De.forEach(function(He){0<He.labelDistance&&He.dataLabel&&(He.top=Math.max(0,ee-re-He.labelDistance),He.bottom=Math.min(ee+re+He.labelDistance,w.plotHeight),Ie=He.dataLabel.getBBox().height||21,He.distributeBox={target:He.labelPosition.natural.y-He.top+Ie/2,size:Ie,rank:He.y},ot.push(He.distributeBox))}),Ue=Qe+Ie-Ue,Z(ot,Ue,Ue/5)}for(Ae=0;Ae<ct;Ae++){if(oe=De[Ae],te=oe.labelPosition,ue=oe.dataLabel,we=oe.visible===!1?"hidden":"inherit",ce=Ue=te.natural.y,ot&&I(oe.distributeBox)&&(typeof oe.distributeBox.pos>"u"?we="hidden":(ge=oe.distributeBox.size,ce=Ce.radialDistributionY(oe))),delete oe.positionIndex,g.justify)xe=Ce.justify(oe,re,X);else switch(g.alignTo){case"connectors":xe=Ce.alignToConnectors(De,Ge,m,x);break;case"plotEdges":xe=Ce.alignToPlotEdges(ue,Ge,m,x);break;default:xe=Ce.radialDistributionX(L,oe,ce,Ue)}ue._attr={visibility:we,align:te.alignment},Fe=oe.options.dataLabels||{},ue._pos={x:xe+U(Fe.x,g.x)+({left:A,right:-A}[te.alignment]||0),y:ce+U(Fe.y,g.y)-ue.getBBox().height/2},te&&(te.computed.x=xe,te.computed.y=ce),U(g.crop,!0)&&(pe=ue.getBBox().width,Ue=null,xe-pe<A&&Ge===1?(Ue=Math.round(pe-xe+A),ye[3]=Math.max(Ue,ye[3])):xe+pe>m-A&&Ge===0&&(Ue=Math.round(xe+pe-m+A),ye[1]=Math.max(Ue,ye[1])),0>ce-ge/2?ye[0]=Math.max(Math.round(-ce+ge/2),ye[0]):ce+ge/2>y&&(ye[2]=Math.max(Math.round(ce+ge/2-y),ye[2])),ue.sideOverflow=Ue)}}}),H(ye)===0||this.verifyDataLabelOverflow(ye))&&(this.placeDataLabels(),this.points.forEach(function(De){if(Fe=B(g,De.options.dataLabels),de=U(Fe.connectorWidth,1)){let Ge;fe=De.connector,(ue=De.dataLabel)&&ue._pos&&De.visible&&0<De.labelDistance?(we=ue._attr.visibility,(Ge=!fe)&&(De.connector=fe=w.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+De.colorIndex+(De.className?" "+De.className:"")).add(L.dataLabelsGroup),w.styledMode||fe.attr({"stroke-width":de,stroke:Fe.connectorColor||De.color||"#666666"})),fe[Ge?"attr":"animate"]({d:De.getConnectorPath()}),fe.attr("visibility",we)):fe&&(De.connector=fe.destroy())}}))}function q(){this.points.forEach(function(L){let E=L.dataLabel,w;E&&L.visible&&((w=E._pos)?(E.sideOverflow&&(E._attr.width=Math.max(E.getBBox().width-E.sideOverflow,0),E.css({width:E._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),E.shortened=!0),E.attr(E._attr),E[E.moved?"animate":"attr"](w),E.moved=!0):E&&E.attr({y:-9999})),delete L.distributeBox},this)}function N(L){let E=this.center,w=this.options,g=w.center,A=w.minSize||80,m,y=w.size!==null;return y||(g[0]!==null?m=Math.max(E[2]-Math.max(L[1],L[3]),A):(m=Math.max(E[2]-L[1]-L[3],A),E[0]+=(L[3]-L[1])/2),g[1]!==null?m=Y(m,A,E[2]-Math.max(L[0],L[2])):(m=Y(m,A,E[2]-L[0]-L[2]),E[1]+=(L[0]-L[2])/2),m<E[2]?(E[2]=m,E[3]=Math.min(w.thickness?Math.max(0,m-2*w.thickness):Math.max(0,T(w.innerSize||0,m)),m),this.translate(E),this.drawDataLabels&&this.drawDataLabels()):y=!0),y}const ne=[],K={radialDistributionY:function(L){return L.top+L.distributeBox.pos},radialDistributionX:function(L,E,w,g){return L.getX(w<E.top+2||w>E.bottom-2?g:w,E.half,E)},justify:function(L,E,w){return w[0]+(L.half?-1:1)*(E+L.labelDistance)},alignToPlotEdges:function(L,E,w,g){return L=L.getBBox().width,E?L+g:w-L-g},alignToConnectors:function(L,E,w,g){let A=0,m;return L.forEach(function(y){m=y.dataLabel.getBBox().width,m>A&&(A=m)}),E?A+g:w-A-g}};P.compose=function(L){o.compose(z),k.pushUnique(ne,L)&&(L=L.prototype,L.dataLabelPositioners=K,L.alignDataLabel=j,L.drawDataLabels=G,L.placeDataLabels=q,L.verifyDataLabelOverflow=N)}}(C||(C={})),C}),i(a,"Extensions/OverlappingDataLabels.js",[a["Core/Chart/Chart.js"],a["Core/Utilities.js"]],function(o,u){function d(Y,I){let B,U=!1;return Y&&(B=Y.newOpacity,Y.oldOpacity!==B&&(Y.alignAttr&&Y.placed?(Y[B?"removeClass":"addClass"]("highcharts-data-label-hidden"),U=!0,Y.alignAttr.opacity=B,Y[Y.isOld?"animate":"attr"](Y.alignAttr,null,function(){I.styledMode||Y.css({pointerEvents:B?"auto":"none"})}),k(I,"afterHideOverlappingLabel")):Y.attr({opacity:B})),Y.isOld=!0),U}const{addEvent:n,fireEvent:k,isArray:j,isNumber:Z,objectEach:z,pick:H}=u;n(o,"render",function(){let Y=this,I=[];(this.labelCollectors||[]).forEach(function(B){I=I.concat(B())}),(this.yAxis||[]).forEach(function(B){B.stacking&&B.options.stackLabels&&!B.options.stackLabels.allowOverlap&&z(B.stacking.stacks,function(U){z(U,function(T){T.label&&I.push(T.label)})})}),(this.series||[]).forEach(function(B){var U=B.options.dataLabels;B.visible&&(U.enabled!==!1||B._hasPointLabels)&&(U=T=>T.forEach(C=>{C.visible&&(j(C.dataLabels)?C.dataLabels:C.dataLabel?[C.dataLabel]:[]).forEach(function(P){const G=P.options;P.labelrank=H(G.labelrank,C.labelrank,C.shapeArgs&&C.shapeArgs.height),G.allowOverlap?(P.oldOpacity=P.opacity,P.newOpacity=1,d(P,Y)):I.push(P)})}),U(B.nodes||[]),U(B.points))}),this.hideOverlappingLabels(I)}),o.prototype.hideOverlappingLabels=function(Y){let I=this,B=Y.length,U=I.renderer;var T;let C,P,G,q,N=!1;var ne=function(K){let L,E;var w;let g=K.box?0:K.padding||0,A=w=0,m,y;if(K&&(!K.alignAttr||K.placed))return L=K.alignAttr||{x:K.attr("x"),y:K.attr("y")},E=K.parentGroup,K.width||(w=K.getBBox(),K.width=w.width,K.height=w.height,w=U.fontMetrics(K.element).h),m=K.width-2*g,(y={left:"0",center:"0.5",right:"1"}[K.alignValue])?A=+y*m:Z(K.x)&&Math.round(K.x)!==K.translateX&&(A=K.x-K.translateX),{x:L.x+(E.translateX||0)+g-(A||0),y:L.y+(E.translateY||0)+g-w,width:K.width-2*g,height:K.height-2*g}};for(C=0;C<B;C++)(T=Y[C])&&(T.oldOpacity=T.opacity,T.newOpacity=1,T.absoluteBox=ne(T));for(Y.sort(function(K,L){return(L.labelrank||0)-(K.labelrank||0)}),C=0;C<B;C++)for(G=(ne=Y[C])&&ne.absoluteBox,T=C+1;T<B;++T)q=(P=Y[T])&&P.absoluteBox,!G||!q||ne===P||ne.newOpacity===0||P.newOpacity===0||ne.visibility==="hidden"||P.visibility==="hidden"||q.x>=G.x+G.width||q.x+q.width<=G.x||q.y>=G.y+G.height||q.y+q.height<=G.y||((ne.labelrank<P.labelrank?ne:P).newOpacity=0);Y.forEach(function(K){d(K,I)&&(N=!0)}),N&&k(I,"afterHideAllOverlappingLabels")}}),i(a,"Extensions/BorderRadius.js",[a["Core/Defaults.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(o,u,d,n,k,j){const{defaultOptions:Z}=o;({seriesTypes:o}=d);const{addEvent:z,extend:H,isObject:Y,merge:I,relativeLength:B}=j,U={radius:0,scope:"stack",where:void 0},T=(C,P)=>(Y(C)||(C={radius:C||0}),I(U,P,C));if(n.symbolCustomAttribs.indexOf("borderRadius")===-1){n.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY");const C=k.prototype.symbols.arc;k.prototype.symbols.arc=function(G,q,N,ne,K={}){G=C(G,q,N,ne,K);const{innerR:L=0,r:E=N,start:w=0,end:g=0}=K;if(K.open||!K.borderRadius)return G;for(N=g-w,q=Math.sin(N/2),K=Math.max(Math.min(B(K.borderRadius||0,E-L),(E-L)/2,E*q/(1+q)),0),N=Math.min(K,N/Math.PI*2*L),q=G.length-1;q--;){let re,ee,he;ne=G;var A=q,m=1<q?N:K,y=ne[A],x=ne[A+1];if(x[0]==="Z"&&(x=ne[0]),y[0]!=="M"&&y[0]!=="L"||x[0]!=="A"?y[0]!=="A"||x[0]!=="M"&&x[0]!=="L"||(he=x,ee=y):(he=y,ee=x,re=!0),he&&ee&&ee.params){y=ee[1];var M=ee[5];x=ee.params;const{start:ye,end:Ce,cx:oe,cy:de}=x;var X=M?y-m:y+m;const fe=X?Math.asin(m/X):0;M=M?fe:-fe,X*=Math.cos(fe),re?(x.start=ye+M,he[1]=oe+X*Math.cos(ye),he[2]=de+X*Math.sin(ye),ne.splice(A+1,0,["A",m,m,0,0,1,oe+y*Math.cos(x.start),de+y*Math.sin(x.start)])):(x.end=Ce-M,ee[6]=oe+y*Math.cos(x.end),ee[7]=de+y*Math.sin(x.end),ne.splice(A+1,0,["A",m,m,0,0,1,oe+X*Math.cos(Ce),de+X*Math.sin(Ce)])),ee[4]=Math.abs(x.end-x.start)<Math.PI?0:1}}return G};const P=k.prototype.symbols.roundedRect;k.prototype.symbols.roundedRect=function(G,q,N,ne,K={}){const L=P(G,q,N,ne,K),{r:E=0,brBoxHeight:w=ne,brBoxY:g=q}=K;var A=q-g,m=g+w-(q+ne);K=-.1<A-E?0:E;const y=-.1<m-E?0:E;var x=Math.max(K&&A,0);const M=Math.max(y&&m,0);m=[G+K,q],A=[G+N-K,q];const X=[G+N,q+K],re=[G+N,q+ne-y],ee=[G+N-y,q+ne],he=[G+y,q+ne],ye=[G,q+ne-y],Ce=[G,q+K];if(x){const oe=Math.sqrt(Math.pow(K,2)-Math.pow(K-x,2));m[0]-=oe,A[0]+=oe,X[1]=Ce[1]=q+K-x}return ne<K-x&&(x=Math.sqrt(Math.pow(K,2)-Math.pow(K-x-ne,2)),X[0]=re[0]=G+N-K+x,ee[0]=Math.min(X[0],ee[0]),he[0]=Math.max(re[0],he[0]),ye[0]=Ce[0]=G+K-x,X[1]=Ce[1]=q+ne),M&&(x=Math.sqrt(Math.pow(y,2)-Math.pow(y-M,2)),ee[0]+=x,he[0]-=x,re[1]=ye[1]=q+ne-y+M),ne<y-M&&(ne=Math.sqrt(Math.pow(y,2)-Math.pow(y-M-ne,2)),X[0]=re[0]=G+N-y+ne,A[0]=Math.min(X[0],A[0]),m[0]=Math.max(re[0],m[0]),ye[0]=Ce[0]=G+y-ne,re[1]=ye[1]=q),L.length=0,L.push(["M",...m],["L",...A],["A",K,K,0,0,1,...X],["L",...re],["A",y,y,0,0,1,...ee],["L",...he],["A",y,y,0,0,1,...ye],["L",...Ce],["A",K,K,0,0,1,...m],["Z"]),L},z(o.pie,"afterTranslate",function(){const G=T(this.options.borderRadius);for(const q of this.points){const N=q.shapeArgs;N&&(N.borderRadius=B(G.radius,(N.r||0)-(N.innerR||0)))}}),z(u,"afterColumnTranslate",function(){var G,q;if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){const{options:L,yAxis:E}=this,w=L.stacking==="percent";var N=(q=(G=Z.plotOptions)===null||G===void 0?void 0:G[this.type])===null||q===void 0?void 0:q.borderRadius;G=T(L.borderRadius,Y(N)?N:{}),q=E.options.reversed;for(const g of this.points)if({shapeArgs:N}=g,g.shapeType==="roundedRect"&&N){const{width:A=0,height:m=0,y=0}=N;var ne=y,K=m;G.scope==="stack"&&g.stackTotal&&(ne=E.translate(w?100:g.stackTotal,!1,!0,!1,!0),K=E.translate(L.threshold||0,!1,!0,!1,!0),K=this.crispCol(0,Math.min(ne,K),0,Math.abs(ne-K)),ne=K.y,K=K.height);const x=(g.negative?-1:1)*(q?-1:1)===-1;let M=G.where;!M&&this.is("waterfall")&&Math.abs((g.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(M="all"),M||(M="end");const X=Math.min(B(G.radius,A),A/2,M==="all"?m/2:1/0)||0;M==="end"&&(x&&(ne-=X),K+=X),H(N,{brBoxHeight:K,brBoxY:ne,r:X})}}},{order:9})}return u={optionsToObject:T},u}),i(a,"Core/Responsive.js",[a["Core/Utilities.js"]],function(o){const{extend:u,find:d,isArray:n,isObject:k,merge:j,objectEach:Z,pick:z,splat:H,uniqueKey:Y}=o;var I;return function(B){function U(G){function q(K,L,E,w){let g;Z(K,function(A,m){if(!w&&-1<N.collectionsWithUpdate.indexOf(m)&&L[m])for(A=H(A),E[m]=[],g=0;g<Math.max(A.length,L[m].length);g++)L[m][g]&&(A[g]===void 0?E[m][g]=L[m][g]:(E[m][g]={},q(A[g],L[m][g],E[m][g],w+1)));else k(A)?(E[m]=n(A)?[]:{},q(A,L[m]||{},E[m],w+1)):E[m]=typeof L[m]>"u"?null:L[m]})}const N=this,ne={};return q(G,this.options,ne,0),ne}function T(G,q){const N=G.condition;(N.callback||function(){return this.chartWidth<=z(N.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=z(N.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=z(N.minWidth,0)&&this.chartHeight>=z(N.minHeight,0)}).call(this)&&q.push(G._id)}function C(G,q){const N=this.options.responsive;var ne=this.currentResponsive;let K=[];!q&&N&&N.rules&&N.rules.forEach(L=>{typeof L._id>"u"&&(L._id=Y()),this.matchResponsiveRule(L,K)},this),q=j(...K.map(L=>d((N||{}).rules||[],E=>E._id===L)).map(L=>L&&L.chartOptions)),q.isResponsiveOptions=!0,K=K.toString()||void 0,K!==(ne&&ne.ruleIds)&&(ne&&this.update(ne.undoOptions,G,!0),K?(ne=this.currentOptions(q),ne.isResponsiveOptions=!0,this.currentResponsive={ruleIds:K,mergedOptions:q,undoOptions:ne},this.update(q,G,!0)):this.currentResponsive=void 0)}const P=[];B.compose=function(G){return o.pushUnique(P,G)&&u(G.prototype,{currentOptions:U,matchResponsiveRule:T,setResponsive:C}),G}}(I||(I={})),I}),i(a,"masters/highcharts.src.js",[a["Core/Globals.js"],a["Core/Utilities.js"],a["Core/Defaults.js"],a["Core/Animation/Fx.js"],a["Core/Animation/AnimationUtilities.js"],a["Core/Renderer/HTML/AST.js"],a["Core/FormatUtilities.js"],a["Core/Renderer/RendererUtilities.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Renderer/HTML/HTMLElement.js"],a["Core/Renderer/HTML/HTMLRenderer.js"],a["Core/Axis/Axis.js"],a["Core/Axis/DateTimeAxis.js"],a["Core/Axis/LogarithmicAxis.js"],a["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],a["Core/Axis/Tick.js"],a["Core/Tooltip.js"],a["Core/Series/Point.js"],a["Core/Pointer.js"],a["Core/Legend/Legend.js"],a["Core/Chart/Chart.js"],a["Core/Axis/Stacking/StackingAxis.js"],a["Core/Axis/Stacking/StackItem.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Series/Column/ColumnSeries.js"],a["Series/Column/ColumnDataLabel.js"],a["Series/Pie/PieSeries.js"],a["Series/Pie/PieDataLabel.js"],a["Core/Series/DataLabel.js"],a["Core/Responsive.js"],a["Core/Color/Color.js"],a["Core/Time.js"]],function(o,u,d,n,k,j,Z,z,H,Y,I,B,U,T,C,P,G,q,N,ne,K,L,E,w,g,A,m,y,x,M,X,re,ee,he){return o.animate=k.animate,o.animObject=k.animObject,o.getDeferredAnimation=k.getDeferredAnimation,o.setAnimation=k.setAnimation,o.stop=k.stop,o.timers=n.timers,o.AST=j,o.Axis=U,o.Chart=L,o.chart=L.chart,o.Fx=n,o.Legend=K,o.PlotLineOrBand=P,o.Point=N,o.Pointer=ne,o.Series=g,o.StackItem=w,o.SVGElement=H,o.SVGRenderer=Y,o.Tick=G,o.Time=he,o.Tooltip=q,o.Color=ee,o.color=ee.parse,B.compose(Y),I.compose(H),ne.compose(L),K.compose(L),o.defaultOptions=d.defaultOptions,o.getOptions=d.getOptions,o.time=d.defaultTime,o.setOptions=d.setOptions,o.dateFormat=Z.dateFormat,o.format=Z.format,o.numberFormat=Z.numberFormat,o.addEvent=u.addEvent,o.arrayMax=u.arrayMax,o.arrayMin=u.arrayMin,o.attr=u.attr,o.clearTimeout=u.clearTimeout,o.correctFloat=u.correctFloat,o.createElement=u.createElement,o.css=u.css,o.defined=u.defined,o.destroyObjectProperties=u.destroyObjectProperties,o.discardElement=u.discardElement,o.distribute=z.distribute,o.erase=u.erase,o.error=u.error,o.extend=u.extend,o.extendClass=u.extendClass,o.find=u.find,o.fireEvent=u.fireEvent,o.getMagnitude=u.getMagnitude,o.getStyle=u.getStyle,o.inArray=u.inArray,o.isArray=u.isArray,o.isClass=u.isClass,o.isDOMElement=u.isDOMElement,o.isFunction=u.isFunction,o.isNumber=u.isNumber,o.isObject=u.isObject,o.isString=u.isString,o.keys=u.keys,o.merge=u.merge,o.normalizeTickInterval=u.normalizeTickInterval,o.objectEach=u.objectEach,o.offset=u.offset,o.pad=u.pad,o.pick=u.pick,o.pInt=u.pInt,o.relativeLength=u.relativeLength,o.removeEvent=u.removeEvent,o.seriesType=A.seriesType,o.splat=u.splat,o.stableSort=u.stableSort,o.syncTimeout=u.syncTimeout,o.timeUnits=u.timeUnits,o.uniqueKey=u.uniqueKey,o.useSerialIds=u.useSerialIds,o.wrap=u.wrap,y.compose(m),X.compose(g),T.compose(U),C.compose(U),M.compose(x),P.compose(U),re.compose(L),E.compose(U,L,g),q.compose(ne),o}),a["masters/highcharts.src.js"]._modules=a,a["masters/highcharts.src.js"]})}(highcharts)),highcharts.exports}(function(e,t){(function(i,a){e.exports=a(requireHighcharts(),require$$0$1)})(window,function(i,a){return d={},o.m=u=[function(n,k){n.exports=i},function(n,k){n.exports=a},function(n,Z,j){j.r(Z),j.d(Z,"Chart",function(){return G}),j.d(Z,"default",function(){return q});var Z=j(0),z=j.n(Z);function H(N,ne){return function K(L,E,w){function g(A,m){!z.a.isObject(A,!w)||z.a.isClass(A)||z.a.isDOMElement(A)?L[m]=E[m]:L[m]=K(L[m]||z.a.isArray(A)?[]:{},A,w)}return z.a.isArray(E)?E.forEach(g):z.a.objectEach(E,g),L}({},N,ne)}var Y=j(1);function I(N){return function(ne){if(Array.isArray(ne))return B(ne)}(N)||function(ne){if(typeof Symbol<"u"&&ne[Symbol.iterator]!=null||ne["@@iterator"]!=null)return Array.from(ne)}(N)||function(ne,K){if(ne){if(typeof ne=="string")return B(ne,K);var L=Object.prototype.toString.call(ne).slice(8,-1);return(L=L==="Object"&&ne.constructor?ne.constructor.name:L)==="Map"||L==="Set"?Array.from(ne):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?B(ne,K):void 0}}(N)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function B(N,ne){(ne==null||ne>N.length)&&(ne=N.length);for(var K=0,L=new Array(ne);K<ne;K++)L[K]=N[K];return L}function U(N,ne){var K,L=Object.keys(N);return Object.getOwnPropertySymbols&&(K=Object.getOwnPropertySymbols(N),ne&&(K=K.filter(function(E){return Object.getOwnPropertyDescriptor(N,E).enumerable})),L.push.apply(L,K)),L}function T(N){for(var ne=1;ne<arguments.length;ne++){var K=arguments[ne]!=null?arguments[ne]:{};ne%2?U(Object(K),!0).forEach(function(L){var E,w;E=N,L=K[w=L],w in E?Object.defineProperty(E,w,{value:L,enumerable:!0,configurable:!0,writable:!0}):E[w]=L}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(K)):U(Object(K)).forEach(function(L){Object.defineProperty(N,L,Object.getOwnPropertyDescriptor(K,L))})}return N}function C(){this.chart&&this.chart.destroy()}var P=function(N,ne){return ne=ne.split(".")[0]<3?{render:function(K){return K("div",{ref:"chart"})},beforeDestroy:C}:{render:function(){return Object(Y.h)("div",{ref:"chart"})},beforeUnmount:C},T({template:'<div ref="chart"></div>',props:{constructorType:{type:String,default:"chart"},options:{type:Object,required:!0},callback:Function,updateArgs:{type:Array,default:function(){return[!0,!0]}},highcharts:{type:Object},deepCopyOnUpdate:{type:Boolean,default:!0}},watch:{options:{handler:function(K){var L;(L=this.chart).update.apply(L,[H(K,this.deepCopyOnUpdate)].concat(I(this.updateArgs)))},deep:!0}},mounted:function(){var K=this.highcharts||N;this.options&&K[this.constructorType]?this.chart=K[this.constructorType](this.$refs.chart,H(this.options,!0),this.callback||null):this.options?console.warn("'".concat(this.constructorType,"' constructor-type is incorrect. Sometimes this error is caused by the fact, that the corresponding module wasn't imported.")):console.warn('The "options" parameter was not passed.')}},ne)},G=P(z.a,Y.version||j.n(Y).a.version);function q(N){var ne=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};N.component(ne.tagName||"highcharts",P(ne.highcharts||z.a,N.version))}}],o.c=d,o.d=function(n,k,j){o.o(n,k)||Object.defineProperty(n,k,{enumerable:!0,get:j})},o.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,k){if(1&k&&(n=o(n)),8&k||4&k&&typeof n=="object"&&n&&n.__esModule)return n;var j=Object.create(null);if(o.r(j),Object.defineProperty(j,"default",{enumerable:!0,value:n}),2&k&&typeof n!="string")for(var Z in n)o.d(j,Z,(function(z){return n[z]}).bind(null,Z));return j},o.n=function(n){var k=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(k,"a",k),k},o.o=function(n,k){return Object.prototype.hasOwnProperty.call(n,k)},o.p="",o(o.s=2);function o(n){if(d[n])return d[n].exports;var k=d[n]={i:n,l:!1,exports:{}};return u[n].call(k.exports,k,k.exports,o),k.l=!0,k.exports}var u,d})})(highchartsVue_min);var highchartsVue_minExports=highchartsVue_min.exports,highchartsExports=requireHighcharts();const Highcharts$1=getDefaultExportFromCjs(highchartsExports);var highchartsMore={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function i(a,o,u,d){a.hasOwnProperty(o)||(a[o]=d.apply(null,u),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:a[o]}})))}t=t?t._modules:{},i(t,"Extensions/Pane.js",[t["Core/Chart/Chart.js"],t["Series/CenteredUtilities.js"],t["Core/Globals.js"],t["Core/Pointer.js"],t["Core/Utilities.js"]],function(a,o,u,d,n){function k(T,C,P,G,q){let N=!0;const ne=P[0],K=P[1],L=Math.sqrt(Math.pow(T-ne,2)+Math.pow(C-K,2));return z(G)&&z(q)&&(T=Math.atan2(Z(C-K,8),Z(T-ne,8)),q!==G&&(N=G>q?T>=G&&T<=Math.PI||T<=q&&T>=-Math.PI:T>=G&&T<=Z(q,8))),L<=Math.ceil(P[2]/2)&&N}const{addEvent:j,correctFloat:Z,defined:z,extend:H,merge:Y,pick:I,splat:B}=n;a.prototype.collectionsWithUpdate.push("pane");class U{constructor(C,P){this.options=this.chart=this.center=this.background=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(C,P)}init(C,P){this.chart=P,this.background=[],P.pane.push(this),this.setOptions(C)}setOptions(C){this.options=Y(this.defaultOptions,this.chart.angular?{background:{}}:void 0,C)}render(){var C=this.options;let P=this.options.background;var G=this.chart.renderer;if(this.group||(this.group=G.g("pane-group").attr({zIndex:C.zIndex||0}).add()),this.updateCenter(),P)for(P=B(P),C=Math.max(P.length,this.background.length||0),G=0;G<C;G++)P[G]&&this.axis?this.renderBackground(Y(this.defaultBackgroundOptions,P[G]),G):this.background[G]&&(this.background[G]=this.background[G].destroy(),this.background.splice(G,1))}renderBackground(C,P){let G="animate",q={class:"highcharts-pane "+(C.className||"")};this.chart.styledMode||H(q,{fill:C.backgroundColor,stroke:C.borderColor,"stroke-width":C.borderWidth}),this.background[P]||(this.background[P]=this.chart.renderer.path().add(this.group),G="attr"),this.background[P][G]({d:this.axis.getPlotBandPath(C.from,C.to,C)}).attr(q)}updateCenter(C){this.center=(C||this.axis||{}).center=o.getCenter.call(this)}update(C,P){Y(!0,this.options,C),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(G){G.pane===this&&(G.pane=null,G.update({},P))},this)}}return a.prototype.getHoverPane=function(T){const C=this;let P;return T&&C.pane.forEach(G=>{k(T.chartX-C.plotLeft,T.chartY-C.plotTop,G.center)&&(P=G)}),P},j(a,"afterIsInsidePlot",function(T){this.polar&&(T.options.inverted&&([T.x,T.y]=[T.y,T.x]),T.isInsidePlot=this.pane.some(C=>k(T.x,T.y,C.center,C.axis&&C.axis.normalizedStartAngleRad,C.axis&&C.axis.normalizedEndAngleRad)))}),j(d,"beforeGetHoverData",function(T){const C=this.chart;C.polar?(C.hoverPane=C.getHoverPane(T),T.filter=function(P){return P.visible&&!(!T.shared&&P.directTouch)&&I(P.options.enableMouseTracking,!0)&&(!C.hoverPane||P.xAxis.pane===C.hoverPane)}):C.hoverPane=void 0}),j(d,"afterGetHoverData",function(T){const C=this.chart;T.hoverPoint&&T.hoverPoint.plotX&&T.hoverPoint.plotY&&C.hoverPane&&!k(T.hoverPoint.plotX,T.hoverPoint.plotY,C.hoverPane.center)&&(T.hoverPoint=void 0)}),u.Pane=U,u.Pane}),i(t,"Series/AreaRange/AreaRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,o){const{area:{prototype:{pointClass:u,pointClass:{prototype:d}}}}=a.seriesTypes,{defined:n,isNumber:k}=o;class j extends u{constructor(){super(...arguments),this.series=this.plotX=this.options=this.low=this.high=void 0}setState(){const z=this.state,H=this.series,Y=H.chart.polar;n(this.plotHigh)||(this.plotHigh=H.yAxis.toPixels(this.high,!0)),n(this.plotLow)||(this.plotLow=this.plotY=H.yAxis.toPixels(this.low,!0)),H.stateMarkerGraphic&&(H.lowerStateMarkerGraphic=H.stateMarkerGraphic,H.stateMarkerGraphic=H.upperStateMarkerGraphic),this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,Y&&k(this.plotHighX)&&(this.plotX=this.plotHighX),d.setState.apply(this,arguments),this.state=z,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],Y&&k(this.plotLowX)&&(this.plotX=this.plotLowX),H.stateMarkerGraphic&&(H.upperStateMarkerGraphic=H.stateMarkerGraphic,H.stateMarkerGraphic=H.lowerStateMarkerGraphic,H.lowerStateMarkerGraphic=void 0),d.setState.apply(this,arguments)}haloPath(){const z=this.series.chart.polar;let H=[];return this.plotY=this.plotLow,z&&k(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(H=d.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,z&&k(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(H=H.concat(d.haloPath.apply(this,arguments))),H}isValid(){return k(this.low)&&k(this.high)}}return j}),i(t,"Series/AreaRange/AreaRangeSeries.js",[t["Series/AreaRange/AreaRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,o,u,d){({noop:o}=o);const{area:n,area:{prototype:k},column:{prototype:j}}=u.seriesTypes,{addEvent:Z,defined:z,extend:H,isArray:Y,isNumber:I,pick:B,merge:U}=d;class T extends n{constructor(){super(...arguments),this.xAxis=this.lowerStateMarkerGraphic=this.points=this.options=this.data=void 0}toYData(P){return[P.low,P.high]}highToXY(P){const G=this.chart,q=this.xAxis.postTranslate(P.rectPlotX||0,this.yAxis.len-(P.plotHigh||0));P.plotHighX=q.x-G.plotLeft,P.plotHigh=q.y-G.plotTop,P.plotLowX=P.plotX}getGraphPath(P){var G=[],q=[];const N=k.getGraphPath;var ne=this.options;const K=this.chart.polar,L=K&&ne.connectEnds!==!1,E=ne.connectNulls;let w,g,A,m=ne.step;for(P=P||this.points,w=P.length;w--;){g=P[w];const y=K?{plotX:g.rectPlotX,plotY:g.yBottom,doCurve:!1}:{plotX:g.plotX,plotY:g.plotY,doCurve:!1};g.isNull||L||E||P[w+1]&&!P[w+1].isNull||q.push(y),A={polarPlotY:g.polarPlotY,rectPlotX:g.rectPlotX,yBottom:g.yBottom,plotX:B(g.plotHighX,g.plotX),plotY:g.plotHigh,isNull:g.isNull},q.push(A),G.push(A),g.isNull||L||E||P[w-1]&&!P[w-1].isNull||q.push(y)}return P=N.call(this,P),m&&(m===!0&&(m="left"),ne.step={left:"right",center:"center",right:"left"}[m]),G=N.call(this,G),q=N.call(this,q),ne.step=m,ne=[].concat(P,G),!this.chart.polar&&q[0]&&q[0][0]==="M"&&(q[0]=["L",q[0][1],q[0][2]]),this.graphPath=ne,this.areaPath=P.concat(q),ne.isArea=!0,ne.xMap=P.xMap,this.areaPath.xMap=P.xMap,ne}drawDataLabels(){const P=this.points,G=P.length,q=[],N=this.options.dataLabels,ne=this.chart.inverted;let K,L,E,w,g;if(N){if(Y(N)?(w=N[0]||{enabled:!1},g=N[1]||{enabled:!1}):(w=H({},N),w.x=N.xHigh,w.y=N.yHigh,g=H({},N),g.x=N.xLow,g.y=N.yLow),w.enabled||this._hasPointLabels){for(K=G;K--;)if(L=P[K]){const{plotHigh:A=0,plotLow:m=0}=L;E=w.inside?A<m:A>m,L.y=L.high,L._plotY=L.plotY,L.plotY=A,q[K]=L.dataLabel,L.dataLabel=L.dataLabelUpper,L.below=E,ne?w.align||(w.align=E?"right":"left"):w.verticalAlign||(w.verticalAlign=E?"top":"bottom")}for(this.options.dataLabels=w,k.drawDataLabels&&k.drawDataLabels.apply(this,arguments),K=G;K--;)(L=P[K])&&(L.dataLabelUpper=L.dataLabel,L.dataLabel=q[K],delete L.dataLabels,L.y=L.low,L.plotY=L._plotY)}if(g.enabled||this._hasPointLabels){for(K=G;K--;)if(L=P[K]){const{plotHigh:A=0,plotLow:m=0}=L;E=g.inside?A<m:A>m,L.below=!E,ne?g.align||(g.align=E?"left":"right"):g.verticalAlign||(g.verticalAlign=E?"bottom":"top")}this.options.dataLabels=g,k.drawDataLabels&&k.drawDataLabels.apply(this,arguments)}if(w.enabled)for(K=G;K--;)(L=P[K])&&(L.dataLabels=[L.dataLabelUpper,L.dataLabel].filter(function(A){return!!A}));this.options.dataLabels=N}}alignDataLabel(){j.alignDataLabel.apply(this,arguments)}drawPoints(){const P=this.points.length;let G,q;for(k.drawPoints.apply(this,arguments),G=0;G<P;)q=this.points[G],q.graphics=q.graphics||[],q.origProps={plotY:q.plotY,plotX:q.plotX,isInside:q.isInside,negative:q.negative,zone:q.zone,y:q.y},(q.graphic||q.graphics[0])&&(q.graphics[0]=q.graphic),q.graphic=q.graphics[1],q.plotY=q.plotHigh,z(q.plotHighX)&&(q.plotX=q.plotHighX),q.y=B(q.high,q.origProps.y),q.negative=q.y<(this.options.threshold||0),this.zones.length&&(q.zone=q.getZone()),this.chart.polar||(q.isInside=q.isTopInside=typeof q.plotY<"u"&&0<=q.plotY&&q.plotY<=this.yAxis.len&&0<=q.plotX&&q.plotX<=this.xAxis.len),G++;for(k.drawPoints.apply(this,arguments),G=0;G<P;)q=this.points[G],q.graphics=q.graphics||[],(q.graphic||q.graphics[1])&&(q.graphics[1]=q.graphic),q.graphic=q.graphics[0],q.origProps&&(H(q,q.origProps),delete q.origProps),G++}}return T.defaultOptions=U(n.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),Z(T,"afterTranslate",function(){this.pointArrayMap.join(",")==="low,high"&&this.points.forEach(C=>{const P=C.high,G=C.plotY;C.isNull?C.plotY=void 0:(C.plotLow=G,C.plotHigh=I(P)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(P):P,!1,!0,void 0,!0):void 0,this.dataModify&&(C.yBottom=C.plotHigh))})},{order:0}),Z(T,"afterTranslate",function(){this.points.forEach(C=>{if(this.chart.polar)this.highToXY(C),C.plotLow=C.plotY,C.tooltipPos=[((C.plotHighX||0)+(C.plotLowX||0))/2,((C.plotHigh||0)+(C.plotLow||0))/2];else{const P=C.pos(!1,C.plotLow),G=C.pos(!1,C.plotHigh);P&&G&&(P[0]=(P[0]+G[0])/2,P[1]=(P[1]+G[1])/2),C.tooltipPos=P}})},{order:3}),H(T.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:a,pointValKey:"low",setStackedPoints:o}),u.registerSeriesType("arearange",T),T}),i(t,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[t["Series/AreaRange/AreaRangeSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,o,u){const{spline:{prototype:d}}=o.seriesTypes,{merge:n,extend:k}=u;class j extends a{constructor(){super(...arguments),this.points=this.data=this.options=void 0}}return j.defaultOptions=n(a.defaultOptions),k(j.prototype,{getPointSpline:d.getPointSpline}),o.registerSeriesType("areasplinerange",j),j}),i(t,"Series/BoxPlot/BoxPlotSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,o,u,d){({noop:o}=o);const{extend:n,merge:k,pick:j}=d;class Z extends a{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(){return{}}translate(){const H=this.yAxis,Y=this.pointArrayMap;super.translate.apply(this),this.points.forEach(function(I){Y.forEach(function(B){I[B]!==null&&(I[B+"Plot"]=H.translate(I[B],0,1,0,1))}),I.plotHigh=I.highPlot})}drawPoints(){let H=this,Y=H.options,I=H.chart,B=I.renderer,U,T,C,P,G,q,N=0,ne,K,L,E,w=H.doQuartiles!==!1,g,A=H.options.whiskerLength;H.points.forEach(function(m){var y=m.graphic;let x=y?"animate":"attr",M=m.shapeArgs,X={},re={},ee={},he={},ye=m.color||H.color;typeof m.plotY<"u"&&(ne=Math.round(M.width),K=Math.floor(M.x),L=K+ne,E=Math.round(ne/2),U=Math.floor(w?m.q1Plot:m.lowPlot),T=Math.floor(w?m.q3Plot:m.lowPlot),C=Math.floor(m.highPlot),P=Math.floor(m.lowPlot),y||(m.graphic=y=B.g("point").add(H.group),m.stem=B.path().addClass("highcharts-boxplot-stem").add(y),A&&(m.whiskers=B.path().addClass("highcharts-boxplot-whisker").add(y)),w&&(m.box=B.path(void 0).addClass("highcharts-boxplot-box").add(y)),m.medianShape=B.path(void 0).addClass("highcharts-boxplot-median").add(y)),I.styledMode||(re.stroke=m.stemColor||Y.stemColor||ye,re["stroke-width"]=j(m.stemWidth,Y.stemWidth,Y.lineWidth),re.dashstyle=m.stemDashStyle||Y.stemDashStyle||Y.dashStyle,m.stem.attr(re),A&&(ee.stroke=m.whiskerColor||Y.whiskerColor||ye,ee["stroke-width"]=j(m.whiskerWidth,Y.whiskerWidth,Y.lineWidth),ee.dashstyle=m.whiskerDashStyle||Y.whiskerDashStyle||Y.dashStyle,m.whiskers.attr(ee)),w&&(X.fill=m.fillColor||Y.fillColor||ye,X.stroke=Y.lineColor||ye,X["stroke-width"]=Y.lineWidth||0,X.dashstyle=m.boxDashStyle||Y.boxDashStyle||Y.dashStyle,m.box.attr(X)),he.stroke=m.medianColor||Y.medianColor||ye,he["stroke-width"]=j(m.medianWidth,Y.medianWidth,Y.lineWidth),he.dashstyle=m.medianDashStyle||Y.medianDashStyle||Y.dashStyle,m.medianShape.attr(he)),q=m.stem.strokeWidth()%2/2,N=K+E+q,y=[["M",N,T],["L",N,C],["M",N,U],["L",N,P]],m.stem[x]({d:y}),w&&(q=m.box.strokeWidth()%2/2,U=Math.floor(U)+q,T=Math.floor(T)+q,K+=q,L+=q,y=[["M",K,T],["L",K,U],["L",L,U],["L",L,T],["L",K,T],["Z"]],m.box[x]({d:y})),A&&(q=m.whiskers.strokeWidth()%2/2,C+=q,P+=q,g=/%$/.test(A)?E*parseFloat(A)/100:A/2,y=[["M",N-g,C],["L",N+g,C],["M",N-g,P],["L",N+g,P]],m.whiskers[x]({d:y})),G=Math.round(m.medianPlot),q=m.medianShape.strokeWidth()%2/2,G+=q,y=[["M",K,G],["L",L,G]],m.medianShape[x]({d:y}))})}toYData(H){return[H.low,H.q1,H.median,H.q3,H.high]}}return Z.defaultOptions=k(a.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),n(Z.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:o,setStackedPoints:o}),u.registerSeriesType("boxplot",Z),Z}),i(t,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.7em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),i(t,"Series/Bubble/BubbleLegendItem.js",[t["Core/Color/Color.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(a,o,u,d){const{parse:n}=a,{noop:k}=u,{arrayMax:j,arrayMin:Z,isNumber:z,merge:H,pick:Y,stableSort:I}=d;class B{constructor(T,C){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.chart=void 0,this.setState=k,this.init(T,C)}init(T,C){this.options=T,this.visible=!0,this.chart=C.chart,this.legend=C}addToLegend(T){T.splice(this.options.legendIndex,0,this)}drawLegendSymbol(T){const C=Y(T.options.itemDistance,20),P=this.legendItem||{},G=this.options;var q=G.ranges,N=G.connectorDistance;if(q&&q.length&&z(q[0].value)){I(q,function(K,L){return L.value-K.value}),this.ranges=q,this.setOptions(),this.render(),T=this.getMaxLabelSize();var ne=this.ranges[0].radius;q=2*ne,N=N-ne+T.width,N=0<N?N:0,this.maxLabel=T,this.movementX=G.labels.align==="left"?N:0,P.labelWidth=q+N+C,P.labelHeight=q+T.height/2}else T.options.bubbleLegend.autoRanges=!0}setOptions(){const T=this.ranges,C=this.options,P=this.chart.series[C.seriesIndex],G=this.legend.baseline,q={zIndex:C.zIndex,"stroke-width":C.borderWidth},N={zIndex:C.zIndex,"stroke-width":C.connectorWidth},ne={align:this.legend.options.rtl||C.labels.align==="left"?"right":"left",zIndex:C.zIndex},K=P.options.marker.fillOpacity,L=this.chart.styledMode;T.forEach(function(E,w){L||(q.stroke=Y(E.borderColor,C.borderColor,P.color),q.fill=Y(E.color,C.color,K!==1?n(P.color).setOpacity(K).get("rgba"):P.color),N.stroke=Y(E.connectorColor,C.connectorColor,P.color)),T[w].radius=this.getRangeRadius(E.value),T[w]=H(T[w],{center:T[0].radius-T[w].radius+G}),L||H(!0,T[w],{bubbleAttribs:H(q),connectorAttribs:H(N),labelAttribs:ne})},this)}getRangeRadius(T){const C=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,C.ranges[C.ranges.length-1].value,C.ranges[0].value,C.minSize,C.maxSize,T)}render(){const T=this.legendItem||{},C=this.chart.renderer,P=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),T.symbol=C.g("bubble-legend"),T.label=C.g("bubble-legend-item"),T.symbol.translateX=0,T.symbol.translateY=0,T.symbol.add(T.label),T.label.add(T.group);for(const G of this.ranges)G.value>=P&&this.renderRange(G);this.hideOverlappingLabels()}renderRange(T){var C=this.options;const P=C.labels;var G=this.chart;const q=G.series[C.seriesIndex],N=G.renderer,ne=this.symbols;G=ne.labels;const K=T.center,L=Math.abs(T.radius);var E=C.connectorDistance||0;const w=P.align,g=C.connectorWidth,A=this.ranges[0].radius||0,m=K-L-C.borderWidth/2+g/2,y=N.styledMode;E=this.legend.options.rtl||w==="left"?-E:E,w==="center"&&(E=0,C.connectorDistance=0,T.labelAttribs.align="center"),ne.bubbleItems.push(N.circle(A,K+((m%1?1:.5)-(g%2?0:.5)),L).attr(y?{}:T.bubbleAttribs).addClass((y?"highcharts-color-"+q.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(C.className||"")).add(this.legendItem.symbol)),ne.connectors.push(N.path(N.crispLine([["M",A,m],["L",A+E,m]],C.connectorWidth)).attr(y?{}:T.connectorAttribs).addClass((y?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(C.connectorClassName||"")).add(this.legendItem.symbol)),T=N.text(this.formatLabel(T)).attr(y?{}:T.labelAttribs).css(y?{}:P.style).addClass("highcharts-bubble-legend-labels "+(C.labels.className||"")).add(this.legendItem.symbol),C={x:A+E+C.labels.x,y:m+C.labels.y+.4*T.getBBox().height},T.attr(C),G.push(T),T.placed=!0,T.alignAttr=C}getMaxLabelSize(){let T,C;return this.symbols.labels.forEach(function(P){C=P.getBBox(!0),T=T?C.width>T.width?C:T:C}),T||{}}formatLabel(T){var C=this.options;const P=C.labels.formatter;C=C.labels.format;const{numberFormatter:G}=this.chart;return C?o.format(C,T):P?P.call(T):G(T.value,1)}hideOverlappingLabels(){const T=this.chart,C=this.symbols;!this.options.labels.allowOverlap&&C&&(T.hideOverlappingLabels(C.labels),C.labels.forEach(function(P,G){P.newOpacity?P.newOpacity!==P.oldOpacity&&C.connectors[G].show():C.connectors[G].hide()}))}getRanges(){const T=this.legend.bubbleLegend,C=T.options.ranges;let P,G,q=Number.MAX_VALUE,N=-Number.MAX_VALUE;return T.chart.series.forEach(function(ne){ne.isBubble&&!ne.ignoreSeries&&(G=ne.zData.filter(z),G.length&&(q=Y(ne.options.zMin,Math.min(q,Math.max(Z(G),ne.options.displayNegative===!1?ne.options.zThreshold:-Number.MAX_VALUE))),N=Y(ne.options.zMax,Math.max(N,j(G)))))}),P=q===N?[{value:N}]:[{value:q},{value:(q+N)/2},{value:N,autoRanges:!0}],C.length&&C[0].radius&&P.reverse(),P.forEach(function(ne,K){C&&C[K]&&(P[K]=H(C[K],ne))}),P}predictBubbleSizes(){var T=this.chart,C=T.legend.options,P=C.floating;const G=(C=C.layout==="horizontal")?T.legend.lastLineHeight:0,q=T.plotSizeX,N=T.plotSizeY;var ne=T.series[this.options.seriesIndex],K=ne.getPxExtremes();T=Math.ceil(K.minPxSize),K=Math.ceil(K.maxPxSize);const L=Math.min(N,q);return ne=ne.options.maxSize,P||!/%$/.test(ne)?P=K:(ne=parseFloat(ne),P=(L+G)*ne/100/(ne/100+1),(C&&N-P>=q||!C&&q-P>=N)&&(P=K)),[T,Math.ceil(P)]}updateRanges(T,C){const P=this.legend.options.bubbleLegend;P.minSize=T,P.maxSize=C,P.ranges=this.getRanges()}correctSizes(){const T=this.legend,C=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(C.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,C.maxPxSize),T.render())}}return B}),i(t,"Series/Bubble/BubbleLegendComposition.js",[t["Series/Bubble/BubbleLegendDefaults.js"],t["Series/Bubble/BubbleLegendItem.js"],t["Core/Defaults.js"],t["Core/Utilities.js"]],function(a,o,u,d){function n(C,P,G){const q=this.legend;var N=0<=k(this);let ne,K;q&&q.options.enabled&&q.bubbleLegend&&q.options.bubbleLegend.autoRanges&&N?(ne=q.bubbleLegend.options,N=q.bubbleLegend.predictBubbleSizes(),q.bubbleLegend.updateRanges(N[0],N[1]),ne.placed||(q.group.placed=!1,q.allItems.forEach(L=>{K=L.legendItem||{},K.group&&(K.group.translateY=null)})),q.render(),this.getMargins(),this.axes.forEach(function(L){L.visible&&L.render(),ne.placed||(L.setScale(),L.updateNames(),B(L.ticks,function(E){E.isNew=!0,E.isNewLabel=!0}))}),ne.placed=!0,this.getMargins(),C.call(this,P,G),q.bubbleLegend.correctSizes(),H(q,j(q))):(C.call(this,P,G),q&&q.options.enabled&&q.bubbleLegend&&(q.render(),H(q,j(q))))}function k(C){C=C.series;let P=0;for(;P<C.length;){if(C[P]&&C[P].isBubble&&C[P].visible&&C[P].zData.length)return P;P++}return-1}function j(C){C=C.allItems;const P=[],G=C.length;let q,N,ne=0;for(N=0;N<G;N++){var K=C[N].legendItem||{};if(q=(C[N+1]||{}).legendItem||{},K.labelHeight&&(C[N].itemHeight=K.labelHeight),C[N]===C[G-1]||K.y!==q.y){for(P.push({height:0}),K=P[P.length-1],ne;ne<=N;ne++)C[ne].itemHeight>K.height&&(K.height=C[ne].itemHeight);K.step=N}}return P}function Z(C){const P=this.bubbleLegend,G=this.options,q=G.bubbleLegend,N=k(this.chart);P&&P.ranges&&P.ranges.length&&(q.ranges.length&&(q.autoRanges=!!q.ranges[0].autoRanges),this.destroyItem(P)),0<=N&&G.enabled&&q.enabled&&(q.seriesIndex=N,this.bubbleLegend=new o(q,this),this.bubbleLegend.addToLegend(C.allItems))}function z(C){if(C.defaultPrevented)return!1;var P=this.chart;C=this.visible;const G=this.chart.legend;G&&G.bubbleLegend&&(this.visible=!C,this.ignoreSeries=C,P=0<=k(P),G.bubbleLegend.visible!==P&&(G.update({bubbleLegend:{enabled:P}}),G.bubbleLegend.visible=P),this.visible=C)}function H(C,P){const G=C.options.rtl;let q,N,ne,K,L=0;C.allItems.forEach((E,w)=>{K=E.legendItem||{},K.group&&(q=K.group.translateX||0,N=K.y||0,((ne=E.movementX)||G&&E.ranges)&&(ne=G?q-E.options.maxSize/2:q+ne,K.group.attr({translateX:ne})),w>P[L].step&&L++,K.group.attr({translateY:Math.round(N+P[L].height/2)}),K.y=N+P[L].height/2)})}const{setOptions:Y}=u,{addEvent:I,objectEach:B,wrap:U}=d,T=[];return{compose:function(C,P,G){d.pushUnique(T,C)&&(Y({legend:{bubbleLegend:a}}),U(C.prototype,"drawChartBox",n)),d.pushUnique(T,P)&&I(P,"afterGetAllItems",Z),d.pushUnique(T,G)&&I(G,"legendItemClick",z)}}}),i(t,"Series/Bubble/BubblePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,o,u){({seriesTypes:{scatter:{prototype:{pointClass:o}}}}=o),{extend:u}=u;class d extends o{constructor(){super(...arguments),this.series=this.options=void 0}haloPath(k){return a.prototype.haloPath.call(this,k===0?0:(this.marker&&this.marker.radius||0)+k)}}return u(d.prototype,{ttBelow:!1}),d}),i(t,"Series/Bubble/BubbleSeries.js",[t["Series/Bubble/BubbleLegendComposition.js"],t["Series/Bubble/BubblePoint.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,o,u,d,n,k){function j(){const K=this.len,L=this.chart,E=this.isXAxis,w=E?"xData":"yData",g=this.min,A=this.max-g;let m=0,y=K,x=K/A,M;this.series.forEach(X=>{if(X.bubblePadding&&(X.visible||!L.options.chart.ignoreHiddenSeries)){M=this.allowZoomOutside=!0;const re=X[w];if(E&&((X.onPoint||X).getRadii(0,0,X),X.onPoint&&(X.radii=X.onPoint.radii)),0<A){let ee=re.length;for(;ee--;)if(P(re[ee])&&this.dataMin<=re[ee]&&re[ee]<=this.max){const he=X.radii&&X.radii[ee]||0;m=Math.min((re[ee]-g)*x-he,m),y=Math.max((re[ee]-g)*x+he,y)}}}}),M&&0<A&&!this.logarithmic&&(y-=K,x*=(K+Math.max(0,m)-Math.min(y,K))/K,[["min","userMin",m],["max","userMax",y]].forEach(X=>{typeof q(this.options[X[0]],this[X[1]])>"u"&&(this[X[0]]+=X[2]/x)}))}const{parse:Z}=u;({noop:u}=d);const{series:z,seriesTypes:{column:{prototype:H},scatter:Y}}=n,{addEvent:I,arrayMax:B,arrayMin:U,clamp:T,extend:C,isNumber:P,merge:G,pick:q}=k,N=[];class ne extends Y{constructor(){super(...arguments),this.zData=this.yData=this.radii=this.points=this.options=this.minPxSize=this.maxPxSize=this.data=void 0}static compose(L,E,w,g){a.compose(E,w,g),k.pushUnique(N,L)&&(L.prototype.beforePadding=j)}animate(L){!L&&this.points.length<this.options.animationLimit&&this.points.forEach(function(E){const{graphic:w}=E;w&&w.width&&(this.hasRendered||w.attr({x:E.plotX,y:E.plotY,width:1,height:1}),w.animate(this.markerAttribs(E),this.options.animation))},this)}getRadii(){const L=this.zData,E=this.yData,w=[];let g,A,m,y=this.chart.bubbleZExtremes;const{minPxSize:x,maxPxSize:M}=this.getPxExtremes();if(!y){let X=Number.MAX_VALUE,re=-Number.MAX_VALUE,ee;this.chart.series.forEach(he=>{he.bubblePadding&&(he.visible||!this.chart.options.chart.ignoreHiddenSeries)&&(he=(he.onPoint||he).getZExtremes())&&(X=Math.min(q(X,he.zMin),he.zMin),re=Math.max(q(re,he.zMax),he.zMax),ee=!0)}),ee?(y={zMin:X,zMax:re},this.chart.bubbleZExtremes=y):y={zMin:0,zMax:0}}for(A=0,g=L.length;A<g;A++)m=L[A],w.push(this.getRadius(y.zMin,y.zMax,x,M,m,E&&E[A]));this.radii=w}getRadius(L,E,w,g,A,m){const y=this.options,x=y.sizeBy!=="width",M=y.zThreshold;let X=E-L,re=.5;if(m===null||A===null)return null;if(P(A)){if(y.sizeByAbsoluteValue&&(A=Math.abs(A-M),X=Math.max(E-M,Math.abs(L-M)),L=0),A<L)return w/2-1;0<X&&(re=(A-L)/X)}return x&&0<=re&&(re=Math.sqrt(re)),Math.ceil(w+re*(g-w))/2}hasData(){return!!this.processedXData.length}pointAttribs(L,E){const w=this.options.marker.fillOpacity;return L=z.prototype.pointAttribs.call(this,L,E),w!==1&&(L.fill=Z(L.fill).setOpacity(w).get("rgba")),L}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){const{data:L,radii:E}=this,{minPxSize:w}=this.getPxExtremes();let g=L.length;for(;g--;){const A=L[g],m=E?E[g]:0;P(m)&&m>=w/2?(A.marker=C(A.marker,{radius:m,width:2*m,height:2*m}),A.dlBox={x:A.plotX-m,y:A.plotY-m,width:2*m,height:2*m}):(A.shapeArgs=A.plotY=A.dlBox=void 0,A.isInside=!1)}}getPxExtremes(){const L=Math.min(this.chart.plotWidth,this.chart.plotHeight);var E=g=>{let A;return typeof g=="string"&&(A=/%$/.test(g),g=parseInt(g,10)),A?L*g/100:g};const w=E(q(this.options.minSize,8));return E=Math.max(E(q(this.options.maxSize,"20%")),w),{minPxSize:w,maxPxSize:E}}getZExtremes(){var L=this.options;const E=(this.zData||[]).filter(P);if(E.length){const w=q(L.zMin,T(U(E),L.displayNegative===!1?L.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(L=q(L.zMax,B(E)),P(w)&&P(L))return{zMin:w,zMax:L}}}}return ne.defaultOptions=G(Y.defaultOptions,{dataLabels:{formatter:function(){const{numberFormatter:K}=this.series.chart,{z:L}=this.point;return P(L)?K(L,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),C(ne.prototype,{alignDataLabel:H.alignDataLabel,applyZones:u,bubblePadding:!0,buildKDTree:u,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:o,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),I(ne,"updatedData",K=>{delete K.target.chart.bubbleZExtremes}),I(ne,"remove",K=>{delete K.target.chart.bubbleZExtremes}),n.registerSeriesType("bubble",ne),ne}),i(t,"Series/ColumnRange/ColumnRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,o){const{seriesTypes:{column:{prototype:{pointClass:{prototype:u}}},arearange:{prototype:{pointClass:d}}}}=a,{extend:n,isNumber:k}=o;class j extends d{constructor(){super(...arguments),this.series=this.options=void 0}isValid(){return k(this.low)}}return n(j.prototype,{setState:u.setState}),j}),i(t,"Series/ColumnRange/ColumnRangeSeries.js",[t["Series/ColumnRange/ColumnRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,o,u,d){({noop:o}=o);const{seriesTypes:{arearange:n,column:k,column:{prototype:j}}}=u,{addEvent:Z,clamp:z,extend:H,isNumber:Y,merge:I,pick:B}=d;class U extends n{setOptions(){return I(!0,arguments[0],{stacking:void 0}),n.prototype.setOptions.apply(this,arguments)}translate(){return j.translate.apply(this)}pointAttribs(){return j.pointAttribs.apply(this,arguments)}translate3dPoints(){return j.translate3dPoints.apply(this,arguments)}translate3dShapes(){return j.translate3dShapes.apply(this,arguments)}}return U.defaultOptions=I(k.defaultOptions,n.defaultOptions,{borderRadius:{where:"all"},pointRange:null,marker:null,states:{hover:{halo:!1}}}),Z(U,"afterColumnTranslate",function(){const T=this.yAxis,C=this.xAxis,P=C.startAngleRad,G=this.chart,q=this.xAxis.isRadial,N=Math.max(G.chartWidth,G.chartHeight)+999;let ne,K,L,E;this.points.forEach(w=>{const g=w.shapeArgs||{},A=this.options.minPointLength,m=w.plotY,y=T.translate(w.high,0,1,0,1);if(Y(y)&&Y(m))if(w.plotHigh=z(y,-N,N),w.plotLow=z(m,-N,N),E=w.plotHigh,ne=B(w.rectPlotY,w.plotY)-w.plotHigh,Math.abs(ne)<A?(K=A-ne,ne+=K,E-=K/2):0>ne&&(ne*=-1,E-=ne),q&&this.polar)L=w.barX+P,w.shapeType="arc",w.shapeArgs=this.polar.arc(E+ne,E,L,L+w.pointWidth);else{g.height=ne,g.y=E;const{x=0,width:M=0}=g;w.shapeArgs=I(w.shapeArgs,this.crispCol(x,E,M,ne)),w.tooltipPos=G.inverted?[T.len+T.pos-G.plotLeft-E-ne/2,C.len+C.pos-G.plotTop-x-M/2,ne]:[C.left-G.plotLeft+x+M/2,T.pos-G.plotTop+E+ne/2,ne]}})},{order:5}),H(U.prototype,{directTouch:!0,pointClass:a,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:j.adjustForMissingColumns,animate:j.animate,crispCol:j.crispCol,drawGraph:o,drawPoints:j.drawPoints,getSymbol:o,drawTracker:j.drawTracker,getColumnMetrics:j.getColumnMetrics}),u.registerSeriesType("columnrange",U),U}),i(t,"Series/ColumnPyramid/ColumnPyramidSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,o,u){const{prototype:d}=a,{clamp:n,merge:k,pick:j}=u;class Z extends a{constructor(){super(...arguments),this.points=this.options=this.data=void 0}translate(){let H=this,Y=H.chart,I=H.options;var B=H.dense=2>H.closestPointRange*H.xAxis.transA;B=H.borderWidth=j(I.borderWidth,B?0:1);let U=H.yAxis,T=I.threshold,C=H.translatedThreshold=U.getThreshold(T),P=j(I.minPointLength,5),G=H.getColumnMetrics(),q=G.width,N=H.barW=Math.max(q,1+2*B),ne=H.pointXOffset=G.offset;Y.inverted&&(C-=.5),I.pointPadding&&(N=Math.ceil(N)),d.translate.apply(H),H.points.forEach(function(K){var L=j(K.yBottom,C),E=999+Math.abs(L),w=n(K.plotY,-E,U.len+E);E=K.plotX+ne;let g=N/2,A=Math.min(w,L);L=Math.max(w,L)-A;var m;let y,x;K.barX=E,K.pointWidth=q,K.tooltipPos=Y.inverted?[U.len+U.pos-Y.plotLeft-w,H.xAxis.len-E-g,L]:[E+g,w+U.pos-Y.plotTop,L],w=T+(K.total||K.y),I.stacking==="percent"&&(w=T+(0>K.y)?-100:100),w=U.toPixels(w,!0);var M=(m=Y.plotHeight-w-(Y.plotHeight-C))?g*(A-w)/m:0,X=m?g*(A+L-w)/m:0;m=E-M+g,M=E+M+g;var re=E+X+g;X=E-X+g,y=A-P,x=A+L,0>K.y&&(y=A,x=A+L+P),Y.inverted&&(re=U.width-A,m=w-(U.width-C),M=g*(w-re)/m,X=g*(w-(re-L))/m,m=E+g+M,M=m-2*M,re=E-X+g,X=E+X+g,y=A,x=A+L-P,0>K.y&&(x=A+L+P)),K.shapeType="path",K.shapeArgs={x:m,y,width:M-m,height:L,d:[["M",m,y],["L",M,y],["L",re,x],["L",X,x],["Z"]]}})}}return Z.defaultOptions=k(a.defaultOptions,{}),o.registerSeriesType("columnpyramid",Z),Z}),i(t,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),i(t,"Series/ErrorBar/ErrorBarSeries.js",[t["Series/BoxPlot/BoxPlotSeries.js"],t["Series/Column/ColumnSeries.js"],t["Series/ErrorBar/ErrorBarSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,o,u,d,n){const{arearange:k}=d.seriesTypes,{addEvent:j,merge:Z,extend:z}=n;class H extends a{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||o.prototype.getColumnMetrics.call(this)}drawDataLabels(){const I=this.pointValKey;k&&(k.prototype.drawDataLabels.call(this),this.data.forEach(function(B){B.y=B[I]}))}toYData(I){return[I.low,I.high]}}return H.defaultOptions=Z(a.defaultOptions,u),j(H,"afterTranslate",function(){this.points.forEach(Y=>{Y.plotLow=Y.plotY})},{order:0}),z(H.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),d.registerSeriesType("errorbar",H),H}),i(t,"Series/Gauge/GaugePoint.js",[t["Core/Series/SeriesRegistry.js"]],function(a){({series:{prototype:{pointClass:a}}}=a);class o extends a{constructor(){super(...arguments),this.shapeArgs=this.series=this.options=void 0}setState(d){this.state=d}}return o}),i(t,"Series/Gauge/GaugeSeries.js",[t["Series/Gauge/GaugePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,o,u,d){({noop:o}=o);const{series:n,seriesTypes:{column:k}}=u,{clamp:j,isNumber:Z,extend:z,merge:H,pick:Y,pInt:I,defined:B}=d;class U extends n{constructor(){super(...arguments),this.yAxis=this.options=this.points=this.data=void 0}translate(){const C=this.yAxis,P=this.options,G=C.center;this.generatePoints(),this.points.forEach(q=>{const N=H(P.dial,q.dial),ne=I(N.radius)*G[2]/200,K=I(N.baseLength)*ne/100,L=I(N.rearLength)*ne/100,E=N.baseWidth,w=N.topWidth;let g=P.overshoot,A=C.startAngleRad+C.translate(q.y,void 0,void 0,void 0,!0);(Z(g)||P.wrap===!1)&&(g=Z(g)?g/180*Math.PI:0,A=j(A,C.startAngleRad-g,C.endAngleRad+g)),A=180*A/Math.PI,q.shapeType="path",q.shapeArgs={d:N.path||[["M",-L,-E/2],["L",K,-E/2],["L",ne,-w/2],["L",ne,w/2],["L",K,E/2],["L",-L,E/2],["Z"]],translateX:G[0],translateY:G[1],rotation:A},q.plotX=G[0],q.plotY=G[1],B(q.y)&&C.max-C.min&&(q.percentage=(q.y-C.min)/(C.max-C.min)*100)})}drawPoints(){const C=this,P=C.chart,G=C.yAxis.center,q=C.pivot,N=C.options,ne=N.pivot,K=P.renderer;C.points.forEach(L=>{const E=L.graphic,w=L.shapeArgs,g=w.d,A=H(N.dial,L.dial);E?(E.animate(w),w.d=g):L.graphic=K[L.shapeType](w).addClass("highcharts-dial").add(C.group),P.styledMode||L.graphic[E?"animate":"attr"]({stroke:A.borderColor,"stroke-width":A.borderWidth,fill:A.backgroundColor})}),q?q.animate({translateX:G[0],translateY:G[1]}):ne&&(C.pivot=K.circle(0,0,ne.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(G[0],G[1]).add(C.group),P.styledMode||C.pivot.attr({fill:ne.backgroundColor,stroke:ne.borderColor,"stroke-width":ne.borderWidth}))}animate(C){const P=this;C||P.points.forEach(G=>{const q=G.graphic;q&&(q.attr({rotation:180*P.yAxis.startAngleRad/Math.PI}),q.animate({rotation:G.shapeArgs.rotation},P.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),n.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(C,P){n.prototype.setData.call(this,C,!1),this.processData(),this.generatePoints(),Y(P,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return U.defaultOptions=H(n.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),z(U.prototype,{angular:!0,directTouch:!0,drawGraph:o,drawTracker:k.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:a,trackerGroups:["group","dataLabelsGroup"]}),u.registerSeriesType("gauge",U),U}),i(t,"Series/DragNodesComposition.js",[t["Core/Utilities.js"]],function(a){function o(){const n=this;let k,j,Z;n.container&&(k=u(n.container,"mousedown",z=>{const H=n.hoverPoint;H&&H.series&&H.series.hasDraggableNodes&&H.series.options.draggable&&(H.series.onMouseDown(H,z),j=u(n.container,"mousemove",Y=>H&&H.series&&H.series.onMouseMove(H,Y)),Z=u(n.container.ownerDocument,"mouseup",Y=>(j(),Z(),H&&H.series&&H.series.onMouseUp(H,Y))))})),u(n,"destroy",function(){k()})}const{addEvent:u}=a,d=[];return{compose:function(n){a.pushUnique(d,n)&&u(n,"load",o)},onMouseDown:function(n,k){k=this.chart.pointer.normalize(k),n.fixedPosition={chartX:k.chartX,chartY:k.chartY,plotX:n.plotX,plotY:n.plotY},n.inDragMode=!0},onMouseMove:function(n,k){if(n.fixedPosition&&n.inDragMode){const z=this.chart;k=z.pointer.normalize(k);var j=n.fixedPosition.chartX-k.chartX,Z=n.fixedPosition.chartY-k.chartY;k=z.graphLayoutsLookup,(5<Math.abs(j)||5<Math.abs(Z))&&(j=n.fixedPosition.plotX-j,Z=n.fixedPosition.plotY-Z,z.isInsidePlot(j,Z)&&(n.plotX=j,n.plotY=Z,n.hasDragged=!0,this.redrawHalo(n),k.forEach(H=>{H.restartSimulation()})))}},onMouseUp:function(n,k){n.fixedPosition&&(n.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),n.inDragMode=n.hasDragged=!1,this.options.fixedDraggable||delete n.fixedPosition)},redrawHalo:function(n){n&&this.halo&&this.halo.attr({d:n.haloPath(this.options.states.hover.halo.size)})}}}),i(t,"Series/GraphLayoutComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Utilities.js"]],function(a,o){function u(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(H=>{H.updateSimulation()}),this.redraw())}function d(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(H=>{H.updateSimulation(!1)}),this.redraw())}function n(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(H=>{H.stop()})}function k(){let H,Y=!1;const I=B=>{B.maxIterations--&&isFinite(B.temperature)&&!B.isStable()&&!B.enableSimulation&&(B.beforeStep&&B.beforeStep(),B.step(),H=!1,Y=!0)};if(this.graphLayoutsLookup){for(j(!1,this),this.graphLayoutsLookup.forEach(B=>B.start());!H;)H=!0,this.graphLayoutsLookup.forEach(I);Y&&this.series.forEach(B=>{B&&B.layout&&B.render()})}}const{setAnimation:j}=a,{addEvent:Z}=o,z=[];return{compose:function(H){o.pushUnique(z,H)&&(Z(H,"afterPrint",u),Z(H,"beforePrint",d),Z(H,"predraw",n),Z(H,"render",k))},integrations:{},layouts:{}}}),i(t,"Series/PackedBubble/PackedBubblePoint.js",[t["Core/Chart/Chart.js"],t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"]],function(a,o,u){({seriesTypes:{bubble:{prototype:{pointClass:u}}}}=u);class d extends u{constructor(){super(...arguments),this.radius=this.mass=this.degree=NaN,this.series=this.options=void 0,this.value=null}destroy(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),o.prototype.destroy.apply(this,arguments)}firePointEvent(){const k=this.series.options;if(this.isParentNode&&k.parentNode){const j=k.allowPointSelect;k.allowPointSelect=k.parentNode.allowPointSelect,o.prototype.firePointEvent.apply(this,arguments),k.allowPointSelect=j}else o.prototype.firePointEvent.apply(this,arguments)}select(){const k=this.series.chart;this.isParentNode?(k.getSelectedPoints=k.getSelectedParentNodes,o.prototype.select.apply(this,arguments),k.getSelectedPoints=a.prototype.getSelectedPoints):o.prototype.select.apply(this,arguments)}}return d}),i(t,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[t["Core/Utilities.js"]],function(a){const{isNumber:o}=a;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){const{numberFormatter:u}=this.series.chart,{value:d}=this.point;return o(d)?u(d,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),i(t,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(a,o,u){const d=a.getMass(),n=-u.x*o*this.diffTemperature;o=-u.y*o*this.diffTemperature,a.fromNode.fixedPosition||(a.fromNode.plotX-=n*d.fromNode/a.fromNode.degree,a.fromNode.plotY-=o*d.fromNode/a.fromNode.degree),a.toNode.fixedPosition||(a.toNode.plotX+=n*d.toNode/a.toNode.degree,a.toNode.plotY+=o*d.toNode/a.toNode.degree)},attractiveForceFunction:function(a,o){return(o-a)/a},barycenter:function(){let a=this.options.gravitationalConstant,o=this.barycenter.xFactor,u=this.barycenter.yFactor;o=(o-(this.box.left+this.box.width)/2)*a,u=(u-(this.box.top+this.box.height)/2)*a,this.nodes.forEach(function(d){d.fixedPosition||(d.plotX-=o/d.mass/d.degree,d.plotY-=u/d.mass/d.degree)})},getK:function(a){return Math.pow(a.box.width*a.box.height/a.nodes.length,.5)},integrate:function(a,o){var u=-a.options.friction;let d=a.options.maxSpeed,n=(o.plotX+o.dispX-o.prevX)*u;u*=o.plotY+o.dispY-o.prevY;var k=Math.abs;let j=k(n)/(n||1);k=k(u)/(u||1),n=j*Math.min(d,Math.abs(n)),u=k*Math.min(d,Math.abs(u)),o.prevX=o.plotX+o.dispX,o.prevY=o.plotY+o.dispY,o.plotX+=n,o.plotY+=u,o.temperature=a.vectorLength({x:n,y:u})},repulsive:function(a,o,u){o=o*this.diffTemperature/a.mass/a.degree,a.fixedPosition||(a.plotX+=u.x*o,a.plotY+=u.y*o)},repulsiveForceFunction:function(a,o){return(o-a)/a*(o>a?1:0)}}}),i(t,"Series/PackedBubble/PackedBubbleIntegration.js",[t["Core/Globals.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(a,o){return{noop:a}=a,{barycenter:function(){const u=this.options.gravitationalConstant,d=this.box,n=this.nodes;let k,j;for(const Z of n)this.options.splitSeries&&!Z.isParentNode?(k=Z.series.parentNode.plotX,j=Z.series.parentNode.plotY):(k=d.width/2,j=d.height/2),Z.fixedPosition||(Z.plotX-=(Z.plotX-k)*u/(Z.mass*Math.sqrt(n.length)),Z.plotY-=(Z.plotY-j)*u/(Z.mass*Math.sqrt(n.length)))},getK:a,integrate:o.integrate,repulsive:function(u,d,n,k){const j=d*this.diffTemperature/u.mass/u.degree;d=n.x*j,n=n.y*j,u.fixedPosition||(u.plotX+=d,u.plotY+=n),k.fixedPosition||(k.plotX-=d,k.plotY-=n)},repulsiveForceFunction:function(u,d,n,k){return Math.min(u,(n.marker.radius+k.marker.radius)/2)}}}),i(t,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(a,o,u,d){const n=a.getMass(),k=u.x/d*o;o*=u.y/d,a.fromNode.fixedPosition||(a.fromNode.dispX-=k*n.fromNode/a.fromNode.degree,a.fromNode.dispY-=o*n.fromNode/a.fromNode.degree),a.toNode.fixedPosition||(a.toNode.dispX+=k*n.toNode/a.toNode.degree,a.toNode.dispY+=o*n.toNode/a.toNode.degree)},attractiveForceFunction:function(a,o){return a*a/o},barycenter:function(){const a=this.options.gravitationalConstant,o=this.barycenter.xFactor,u=this.barycenter.yFactor;this.nodes.forEach(function(d){if(!d.fixedPosition){var n=d.getDegree();n*=1+n/2,d.dispX+=(o-d.plotX)*a*n/d.degree,d.dispY+=(u-d.plotY)*a*n/d.degree}})},getK:function(a){return Math.pow(a.box.width*a.box.height/a.nodes.length,.3)},integrate:function(a,o){let u;o.dispX+=o.dispX*a.options.friction,o.dispY+=o.dispY*a.options.friction,u=o.temperature=a.vectorLength({x:o.dispX,y:o.dispY}),u!==0&&(o.plotX+=o.dispX/u*Math.min(Math.abs(o.dispX),a.temperature),o.plotY+=o.dispY/u*Math.min(Math.abs(o.dispY),a.temperature))},repulsive:function(a,o,u,d){a.dispX+=u.x/d*o/a.degree,a.dispY+=u.y/d*o/a.degree},repulsiveForceFunction:function(a,o){return o*o/a}}}),i(t,"Series/Networkgraph/QuadTreeNode.js",[],function(){class a{constructor(u){this.isInternal=this.isEmpty=this.body=!1,this.nodes=[],this.box=u,this.boxSize=Math.min(u.width,u.height)}divideBox(){const u=this.box.width/2,d=this.box.height/2;this.nodes[0]=new a({left:this.box.left,top:this.box.top,width:u,height:d}),this.nodes[1]=new a({left:this.box.left+u,top:this.box.top,width:u,height:d}),this.nodes[2]=new a({left:this.box.left+u,top:this.box.top+d,width:u,height:d}),this.nodes[3]=new a({left:this.box.left,top:this.box.top+d,width:u,height:d})}getBoxPosition(u){const d=u.plotY<this.box.top+this.box.height/2;return u.plotX<this.box.left+this.box.width/2?d?0:3:d?1:2}insert(u,d){this.isInternal?this.nodes[this.getBoxPosition(u)].insert(u,d-1):(this.isEmpty=!1,this.body?d?(this.isInternal=!0,this.divideBox(),this.body!==!0&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,d-1),this.body=!0),this.nodes[this.getBoxPosition(u)].insert(u,d-1)):(d=new a({top:u.plotX||NaN,left:u.plotY||NaN,width:.1,height:.1}),d.body=u,d.isInternal=!1,this.nodes.push(d)):(this.isInternal=!1,this.body=u))}updateMassAndCenter(){let u=0,d=0,n=0;if(this.isInternal){for(const k of this.nodes)k.isEmpty||(u+=k.mass,d+=k.plotX*k.mass,n+=k.plotY*k.mass);d/=u,n/=u}else this.body&&(u=this.body.mass,d=this.body.plotX,n=this.body.plotY);this.mass=u,this.plotX=d,this.plotY=n}}return a}),i(t,"Series/Networkgraph/QuadTree.js",[t["Series/Networkgraph/QuadTreeNode.js"]],function(a){class o{constructor(d,n,k,j){this.box={left:d,top:n,width:k,height:j},this.maxDepth=25,this.root=new a(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(d){d.updateMassAndCenter()})}insertNodes(d){for(const n of d)this.root.insert(n,this.maxDepth)}visitNodeRecursive(d,n,k){let j;if(d||(d=this.root),d===this.root&&n&&(j=n(d)),j!==!1){for(const Z of d.nodes){if(Z.isInternal){if(n&&(j=n(Z)),j===!1)continue;this.visitNodeRecursive(Z,n,k)}else Z.body&&n&&n(Z.body);k&&k(Z)}d===this.root&&k&&k(d)}}}return o}),i(t,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[t["Series/Networkgraph/EulerIntegration.js"],t["Core/Globals.js"],t["Series/GraphLayoutComposition.js"],t["Series/Networkgraph/QuadTree.js"],t["Core/Utilities.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(a,o,u,d,n,k){const{win:j}=o,{clamp:Z,defined:z,isFunction:H,fireEvent:Y,pick:I}=n;class B{constructor(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.repulsiveForce=this.quadTree=this.options=void 0,this.series=[],this.simulation=!1}static compose(T){u.compose(T),u.integrations.euler=a,u.integrations.verlet=k,u.layouts["reingold-fruchterman"]=B}init(T){this.options=T,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=u.integrations[T.integration],this.enableSimulation=T.enableSimulation,this.attractiveForce=I(T.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=I(T.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=T.approximation}updateSimulation(T){this.enableSimulation=I(T,this.options.enableSimulation)}start(){const T=this.series,C=this.options;this.currentStep=0,this.forces=T[0]&&T[0].forces||[],this.chart=T[0]&&T[0].chart,this.initialRendering&&(this.initPositions(),T.forEach(function(P){P.finishedAnimating=!0,P.render()})),this.setK(),this.resetSimulation(C),this.enableSimulation&&this.step()}step(){const T=this.series;this.currentStep++,this.approximation==="barnes-hut"&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(const C of this.forces||[])this[C+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(const C of T)C.chart&&C.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&j.cancelAnimationFrame(this.simulation),this.simulation=j.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(C=>{Y(C,"afterSimulation")}))}}stop(){this.simulation&&j.cancelAnimationFrame(this.simulation)}setArea(T,C,P,G){this.box={left:T,top:C,width:P,height:G}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(T,C){for(const P of T)C.indexOf(P)===-1&&C.push(P)}removeElementFromCollection(T,C){T=C.indexOf(T),T!==-1&&C.splice(T,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(T){this.maxIterations=I(T,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(T){this.initialRendering=T}createQuadTree(){this.quadTree=new d(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){const T=this.options.initialPositions;if(H(T)){T.call(this);for(const C of this.nodes)z(C.prevX)||(C.prevX=C.plotX),z(C.prevY)||(C.prevY=C.plotY),C.dispX=0,C.dispY=0}else T==="circle"?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){const T=this.box;var C=this.nodes;const P=2*Math.PI/(C.length+1),G=C.filter(function(L){return L.linksTo.length===0}),q={},N=this.options.initialPositionRadius,ne=L=>{for(const E of L.linksFrom||[])q[E.toNode.id]||(q[E.toNode.id]=!0,K.push(E.toNode),ne(E.toNode))};let K=[];for(const L of G)K.push(L),ne(L);if(K.length)for(const L of C)K.indexOf(L)===-1&&K.push(L);else K=C;for(let L=0,E=K.length;L<E;++L)C=K[L],C.plotX=C.prevX=I(C.plotX,T.width/2+N*Math.cos(L*P)),C.plotY=C.prevY=I(C.plotY,T.height/2+N*Math.sin(L*P)),C.dispX=0,C.dispY=0}setRandomPositions(){const T=this.box,C=this.nodes,P=C.length+1,G=N=>(N=N*N/Math.PI,N-=Math.floor(N));let q;for(let N=0,ne=C.length;N<ne;++N)q=C[N],q.plotX=q.prevX=I(q.plotX,T.width*G(N)),q.plotY=q.prevY=I(q.plotY,T.height*G(P+N)),q.dispX=0,q.dispY=0}force(T,...C){this.integration[T].apply(this,C)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let T=0,C=0,P=0;for(const G of this.nodes)C+=G.plotX*G.mass,P+=G.plotY*G.mass,T+=G.mass;return this.barycenter={x:C,y:P,xFactor:C/T,yFactor:P/T}}barnesHutApproximation(T,C){const P=this.getDistXY(T,C),G=this.vectorLength(P);let q,N;return T!==C&&G!==0&&(C.isInternal?C.boxSize/G<this.options.theta&&G!==0?(N=this.repulsiveForce(G,this.k),this.force("repulsive",T,N*C.mass,P,G),q=!1):q=!0:(N=this.repulsiveForce(G,this.k),this.force("repulsive",T,N*C.mass,P,G))),q}repulsiveForces(){if(this.approximation==="barnes-hut")for(const T of this.nodes)this.quadTree.visitNodeRecursive(null,C=>this.barnesHutApproximation(T,C));else{let T,C,P;for(const G of this.nodes)for(const q of this.nodes)G===q||G.fixedPosition||(P=this.getDistXY(G,q),C=this.vectorLength(P),C!==0&&(T=this.repulsiveForce(C,this.k),this.force("repulsive",G,T*q.mass,P,C)))}}attractiveForces(){let T,C,P;for(const G of this.links)G.fromNode&&G.toNode&&(T=this.getDistXY(G.fromNode,G.toNode),C=this.vectorLength(T),C!==0&&(P=this.attractiveForce(C,this.k),this.force("attractive",G,P,T,C)))}applyLimits(){const T=this.nodes;for(const C of T){if(C.fixedPosition)break;this.integration.integrate(this,C),this.applyLimitBox(C,this.box),C.dispX=0,C.dispY=0}}applyLimitBox(T,C){const P=T.radius;T.plotX=Z(T.plotX,C.left+P,C.width-P),T.plotY=Z(T.plotY,C.top+P,C.height-P)}coolDown(T,C,P){return T-C*P}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature}getSystemTemperature(){let T=0;for(const C of this.nodes)T+=C.temperature;return T}vectorLength(T){return Math.sqrt(T.x*T.x+T.y*T.y)}getDistR(T,C){return T=this.getDistXY(T,C),this.vectorLength(T)}getDistXY(T,C){const P=T.plotX-C.plotX;return T=T.plotY-C.plotY,{x:P,y:T,absX:Math.abs(P),absY:Math.abs(T)}}}return B}),i(t,"Series/PackedBubble/PackedBubbleLayout.js",[t["Series/GraphLayoutComposition.js"],t["Series/PackedBubble/PackedBubbleIntegration.js"],t["Series/Networkgraph/ReingoldFruchtermanLayout.js"],t["Core/Utilities.js"]],function(a,o,u,d){function n(){const Y=[];return this.series.forEach(I=>{I.parentNode&&I.parentNode.selected&&Y.push(I.parentNode)}),Y}function k(){this.allDataPoints&&delete this.allDataPoints}const{addEvent:j,pick:Z}=d,z=[];class H extends u{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.options=void 0,this.series=[]}static compose(I){u.compose(I),a.integrations.packedbubble=o,a.layouts.packedbubble=H,d.pushUnique(z,I)&&(j(I,"beforeRedraw",k),I.prototype.getSelectedParentNodes=n)}beforeStep(){this.options.marker&&this.series.forEach(I=>{I&&I.calculateParentRadius()})}isStable(){const I=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&1e-5>I||0>=this.temperature}setCircularPositions(){const I=this.box;var B=this.nodes;const U=2*Math.PI/(B.length+1),T=this.options.initialPositionRadius;let C,P=0;for(const G of B)this.options.splitSeries&&!G.isParentNode?(B=G.series.parentNode.plotX,C=G.series.parentNode.plotY):(B=I.width/2,C=I.height/2),G.plotX=G.prevX=Z(G.plotX,B+T*Math.cos(G.index||P*U)),G.plotY=G.prevY=Z(G.plotY,C+T*Math.sin(G.index||P*U)),G.dispX=0,G.dispY=0,P++}repulsiveForces(){const I=this,B=I.options.bubblePadding;let U,T,C;I.nodes.forEach(P=>{P.degree=P.mass,P.neighbours=0,I.nodes.forEach(G=>{U=0,P===G||P.fixedPosition||!I.options.seriesInteraction&&P.series!==G.series||(C=I.getDistXY(P,G),T=I.vectorLength(C)-(P.marker.radius+G.marker.radius+B),0>T&&(P.degree+=.01,P.neighbours++,U=I.repulsiveForce(-T/Math.sqrt(P.neighbours),I.k,P,G)),I.force("repulsive",P,U*G.mass,C,G,T))})})}applyLimitBox(I,B){let U,T;this.options.splitSeries&&!I.isParentNode&&this.options.parentNodeLimit&&(U=this.getDistXY(I,I.series.parentNode),T=I.series.parentNodeRadius-I.marker.radius-this.vectorLength(U),0>T&&T>-2*I.marker.radius&&(I.plotX-=.01*U.x,I.plotY-=.01*U.y)),super.applyLimitBox(I,B)}}return a.layouts.packedbubble=H}),i(t,"Series/SimulationSeriesUtilities.js",[t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],function(a,o){const{syncTimeout:u}=a,{animObject:d}=o;return{initDataLabels:function(){const n=this.options.dataLabels;if(!this.dataLabelsGroup){const k=this.initDataLabelsGroup();return!this.chart.styledMode&&(n!=null&&n.style)&&k.css(n.style),k.attr({opacity:0}),this.visible&&k.show(),k}return this.dataLabelsGroup.attr({opacity:1}),this.dataLabelsGroup},initDataLabelsDefer:function(){var n;const k=this.options.dataLabels;k!=null&&k.defer&&(!((n=this.options.layoutAlgorithm)===null||n===void 0)&&n.enableSimulation)?u(()=>{this.deferDataLabels=!1},k?d(k.animation).defer:0):this.deferDataLabels=!1}}}),i(t,"Series/PackedBubble/PackedBubbleSeries.js",[t["Core/Color/Color.js"],t["Series/DragNodesComposition.js"],t["Series/GraphLayoutComposition.js"],t["Core/Globals.js"],t["Series/PackedBubble/PackedBubblePoint.js"],t["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],t["Series/PackedBubble/PackedBubbleLayout.js"],t["Core/Series/SeriesRegistry.js"],t["Series/SimulationSeriesUtilities.js"],t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],function(a,o,u,d,n,k,j,Z,z,H,Y){const{parse:I}=a;({noop:a}=d);const{series:{prototype:B},seriesTypes:{bubble:U}}=Z,{initDataLabels:T,initDataLabelsDefer:C}=z,{addEvent:P,clamp:G,defined:q,extend:N,fireEvent:ne,isArray:K,isNumber:L,merge:E,pick:w}=H;class g extends U{constructor(){super(...arguments),this.options=this.layout=this.data=this.chart=void 0,this.parentNodeMass=0,this.xData=this.points=void 0,this.deferDataLabels=!0}static compose(m,y,x,M){U.compose(m,y,x,M),o.compose(y),j.compose(y)}accumulateAllPoints(){const m=this.chart,y=[];let x;for(const M of m.series)if(M.is("packedbubble")&&M.visible||!m.options.chart.ignoreHiddenSeries){x=M.yData||[];for(let X=0;X<x.length;X++)y.push([null,null,x[X],M.index,X,{id:X,marker:{radius:0}}])}return y}addLayout(){const m=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},y=m.type||"packedbubble",x=this.chart.options.chart;let M=this.chart.graphLayoutsStorage,X=this.chart.graphLayoutsLookup,re;M||(this.chart.graphLayoutsStorage=M={},this.chart.graphLayoutsLookup=X=[]),re=M[y],re||(m.enableSimulation=q(x.forExport)?!x.forExport:m.enableSimulation,M[y]=re=new u.layouts[y],re.init(m),X.splice(re.index,0,re)),this.layout=re,this.points.forEach(ee=>{ee.mass=2,ee.degree=1,ee.collisionNmb=1}),re.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),re.addElementsToCollection([this],re.series),re.addElementsToCollection(this.points,re.nodes)}addSeriesLayout(){var m=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{};const y=m.type||"packedbubble",x=this.chart.graphLayoutsStorage,M=this.chart.graphLayoutsLookup;m=E(m,m.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation});let X=x[y+"-series"];X||(x[y+"-series"]=X=new u.layouts[y],X.init(m),M.splice(X.index,0,X)),this.parentNodeLayout=X,this.createParentNodes()}calculateParentRadius(){const m=this.seriesBox();this.parentNodeRadius=G(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,m?Math.max(Math.sqrt(Math.pow(m.width,2)+Math.pow(m.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let m=this.options.zMin,y=this.options.zMax,x=1/0,M=-1/0;return m&&y?[m,y]:(this.chart.series.forEach(X=>{X.yData.forEach(re=>{q(re)&&(re>M&&(M=re),re<x&&(x=re))})}),m=w(m,x),y=w(y,M),[m,y])}checkOverlap(m,y){const x=m[0]-y[0],M=m[1]-y[1];return-.001>Math.sqrt(x*x+M*M)-Math.abs(m[2]+y[2])}createParentNodes(){const m=this.pointClass,y=this.chart,x=this.parentNodeLayout,M=this.layout.options;let X,re=this.parentNode,ee={radius:this.parentNodeRadius,lineColor:this.color,fillColor:I(this.color).brighten(.4).get()};M.parentNodeOptions&&(ee=E(M.parentNodeOptions.marker||{},ee)),this.parentNodeMass=0,this.points.forEach(he=>{this.parentNodeMass+=Math.PI*Math.pow(he.marker.radius,2)}),this.calculateParentRadius(),x.nodes.forEach(he=>{he.seriesIndex===this.index&&(X=!0)}),x.setArea(0,0,y.plotWidth,y.plotHeight),X||(re||(re=new m().init(this,{mass:this.parentNodeRadius/2,marker:ee,dataLabels:{inside:!1},states:{normal:{marker:ee},hover:{marker:ee}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(re.plotX=this.parentNode.plotX,re.plotY=this.parentNode.plotY),this.parentNode=re,x.addElementsToCollection([this],x.series),x.addElementsToCollection([re],x.nodes))}deferLayout(){const m=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),m.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(m=>{m.removeElementFromCollection(this,m.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),B.destroy.apply(this,arguments)}drawDataLabels(){this.deferDataLabels||(B.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",B.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){if(this.layout&&this.layout.options.splitSeries){var m=this.chart,y=this.layout.options.parentNodeOptions.marker;y={fill:y.fillColor||I(this.color).brighten(.4).get(),opacity:y.fillOpacity,stroke:y.lineColor||this.color,"stroke-width":w(y.lineWidth,this.options.lineWidth)},this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,m.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius();var x=E({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},y);this.parentNode.graphic||(this.graph=this.parentNode.graphic=m.renderer.symbol(y.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(x)}}drawTracker(){const m=this.parentNode;let y;super.drawTracker(),m&&(y=K(m.dataLabels)?m.dataLabels:m.dataLabel?[m.dataLabel]:[],m.graphic&&(m.graphic.element.point=m),y.forEach(x=>{x.div?x.div.point=m:x.element.point=m}))}getPointRadius(){const m=this.chart,y=this.options,x=y.useSimulation,M=Math.min(m.plotWidth,m.plotHeight),X={},re=[],ee=m.allDataPoints||[],he=ee.length;let ye,Ce,oe,de;["minSize","maxSize"].forEach(ue=>{const pe=parseInt(y[ue],10),te=/%$/.test(y[ue]);X[ue]=te?M*pe/100:pe*Math.sqrt(he)}),m.minRadius=ye=X.minSize/Math.sqrt(he),m.maxRadius=Ce=X.maxSize/Math.sqrt(he);const fe=x?this.calculateZExtremes():[ye,Ce];ee.forEach((ue,pe)=>{oe=x?G(ue[2],fe[0],fe[1]):ue[2],de=this.getRadius(fe[0],fe[1],ye,Ce,oe),de===0&&(de=null),ee[pe][2]=de,re.push(de)}),this.radii=re}init(){return B.init.apply(this,arguments),C.call(this),this.eventsToUnbind.push(P(this,"updatedData",function(){this.chart.series.forEach(m=>{m.type===this.type&&(m.isDirty=!0)},this)})),this}onMouseUp(m){const y=m;if(y.fixedPosition&&!y.removed){const x=this.layout,M=this.parentNodeLayout;let X,re;M&&x.options.dragBetweenSeries&&M.nodes.forEach(ee=>{y&&y.marker&&ee!==y.series.parentNode&&(X=x.getDistXY(y,ee),re=x.vectorLength(X)-ee.marker.radius-y.marker.radius,0>re&&(ee.series.addPoint(E(y.options,{plotX:y.plotX,plotY:y.plotY}),!1),x.removeElementFromCollection(y,x.nodes),y.remove()))}),o.onMouseUp.apply(this,arguments)}}placeBubbles(m){const y=this.checkOverlap,x=this.positionBubble,M=[];let X=1,re=0,ee=0;var he=[];let ye;if(m=m.sort((Ce,oe)=>oe[2]-Ce[2]),m.length){if(M.push([[0,0,m[0][2],m[0][3],m[0][4]]]),1<m.length)for(M.push([[0,0-m[1][2]-m[0][2],m[1][2],m[1][3],m[1][4]]]),ye=2;ye<m.length;ye++)m[ye][2]=m[ye][2]||1,he=x(M[X][re],M[X-1][ee],m[ye]),y(he,M[X][0])?(M.push([]),ee=0,M[X+1].push(x(M[X][re],M[X][0],m[ye])),X++,re=0):1<X&&M[X-1][ee+1]&&y(he,M[X-1][ee+1])?(ee++,M[X].push(x(M[X][re],M[X-1][ee],m[ye])),re++):(re++,M[X].push(he));this.chart.stages=M,this.chart.rawPositions=[].concat.apply([],M),this.resizeRadius(),he=this.chart.rawPositions}return he}pointAttribs(m,y){var x=this.options;let M=x.marker;return m&&m.isParentNode&&x.layoutAlgorithm&&x.layoutAlgorithm.parentNodeOptions&&(M=x.layoutAlgorithm.parentNodeOptions.marker),x=M.fillOpacity,m=B.pointAttribs.call(this,m,y),x!==1&&(m["fill-opacity"]=x),m}positionBubble(m,y,x){var M=Math.sqrt,X=Math.asin,re=Math.acos;const ee=Math.pow,he=Math.abs;return M=M(ee(m[0]-y[0],2)+ee(m[1]-y[1],2)),re=re((ee(M,2)+ee(x[2]+y[2],2)-ee(x[2]+m[2],2))/(2*(x[2]+y[2])*M)),X=X(he(m[0]-y[0])/M),m=(0>m[1]-y[1]?0:Math.PI)+re+X*(0>(m[0]-y[0])*(m[1]-y[1])?1:-1),[y[0]+(y[2]+x[2])*Math.sin(m),y[1]-(y[2]+x[2])*Math.cos(m),x[2],x[3],x[4]]}render(){const m=[];B.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(y=>{K(y.dataLabels)&&y.dataLabels.forEach(x=>{m.push(x)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(m))}resizeRadius(){const m=this.chart,y=m.rawPositions;var x=Math.min,M=Math.max;const X=m.plotLeft,re=m.plotTop,ee=m.plotHeight,he=m.plotWidth;let ye,Ce,oe,de,fe;ye=oe=Number.POSITIVE_INFINITY,Ce=de=Number.NEGATIVE_INFINITY;for(const ue of y)fe=ue[2],ye=x(ye,ue[0]-fe),Ce=M(Ce,ue[0]+fe),oe=x(oe,ue[1]-fe),de=M(de,ue[1]+fe);if(M=[Ce-ye,de-oe],x=x.apply([],[(he-X)/M[0],(ee-re)/M[1]]),1e-10<Math.abs(x-1)){for(const ue of y)ue[2]*=x;this.placeBubbles(y)}else m.diffY=ee/2+re-oe-(de-oe)/2,m.diffX=he/2+X-ye-(Ce-ye)/2}seriesBox(){const m=this.chart,y=Math.max,x=Math.min,M=[m.plotLeft,m.plotLeft+m.plotWidth,m.plotTop,m.plotTop+m.plotHeight];let X;return this.data.forEach(re=>{q(re.plotX)&&q(re.plotY)&&re.marker.radius&&(X=re.marker.radius,M[0]=x(M[0],re.plotX-X),M[1]=y(M[1],re.plotX+X),M[2]=x(M[2],re.plotY-X),M[3]=y(M[3],re.plotY+X))}),L(M.width/M.height)?M:null}setVisible(){const m=this;B.setVisible.apply(m,arguments),m.parentNodeLayout&&m.graph?m.visible?(m.graph.show(),m.parentNode.dataLabel&&m.parentNode.dataLabel.show()):(m.graph.hide(),m.parentNodeLayout.removeElementFromCollection(m.parentNode,m.parentNodeLayout.nodes),m.parentNode.dataLabel&&m.parentNode.dataLabel.hide()):m.layout&&(m.visible?m.layout.addElementsToCollection(m.points,m.layout.nodes):m.points.forEach(y=>{m.layout.removeElementFromCollection(y,m.layout.nodes)}))}translate(){const m=this.chart,y=this.data,x=this.index,M=this.options.useSimulation;let X;if(this.processedXData=this.xData,this.generatePoints(),q(m.allDataPoints)||(m.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),M)var re=m.allDataPoints;else re=this.placeBubbles(m.allDataPoints),this.options.draggable=!1;for(const ee of re)ee[3]===x&&(re=y[ee[4]],X=w(ee[2],void 0),M||(re.plotX=ee[0]-m.plotLeft+m.diffX,re.plotY=ee[1]-m.plotTop+m.diffY),L(X)&&(re.marker=N(re.marker,{radius:X,width:2*X,height:2*X}),re.radius=X));M&&this.deferLayout(),ne(this,"afterTranslate")}}return g.defaultOptions=E(U.defaultOptions,k),N(g.prototype,{pointClass:n,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:T,alignDataLabel:B.alignDataLabel,indexateNodes:a,onMouseDown:o.onMouseDown,onMouseMove:o.onMouseMove,redrawHalo:o.redrawHalo,searchPoint:a}),Z.registerSeriesType("packedbubble",g),g}),i(t,"Series/Polygon/PolygonSeries.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,o,u){({noop:a}=a);const{series:d,seriesTypes:{area:n,line:k,scatter:j}}=o,{extend:Z,merge:z}=u;class H extends j{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getGraphPath(){let I=k.prototype.getGraphPath.call(this),B=I.length+1;for(;B--;)(B===I.length||I[B][0]==="M")&&0<B&&I.splice(B,0,["Z"]);return this.areaPath=I}drawGraph(){this.options.fillColor=this.color,n.prototype.drawGraph.call(this)}}return H.defaultOptions=z(j.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}),Z(H.prototype,{type:"polygon",drawTracker:d.prototype.drawTracker,setStackedPoints:a}),o.registerSeriesType("polygon",H),H}),i(t,"Core/Axis/WaterfallAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(a,o){const{addEvent:u,objectEach:d}=o;var n;return function(k){function j(){const I=this.waterfall.stacks;I&&(I.changed=!1,delete I.alreadyChanged)}function Z(){const I=this.options.stackLabels;I&&I.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function z(){let I=this.axes,B=this.series,U=B.length;for(;U--;)B[U].options.stacking&&(I.forEach(function(T){T.isXAxis||(T.waterfall.stacks.changed=!0)}),U=0)}function H(){this.waterfall||(this.waterfall=new Y(this))}class Y{constructor(B){this.axis=B,this.stacks={changed:!1}}renderStackTotals(){const B=this.axis,U=B.waterfall.stacks,T=B.stacking&&B.stacking.stackTotalGroup,C=new a(B,B.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=C,T&&d(U,function(P){d(P,function(G,q){C.total=G.stackTotal,C.x=+q,G.label&&(C.label=G.label),a.prototype.render.call(C,T),G.label=C.label,delete C.label})}),C.total=null}}k.Composition=Y,k.compose=function(I,B){u(I,"init",H),u(I,"afterBuildStacks",j),u(I,"afterRender",Z),u(B,"beforeRedraw",z)}}(n||(n={})),n}),i(t,"Series/Waterfall/WaterfallPoint.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(a,o,u){const{isNumber:d}=u;class n extends a.prototype.pointClass{constructor(){super(...arguments),this.series=this.options=void 0}getClassName(){let j=o.prototype.getClassName.call(this);return this.isSum?j+=" highcharts-sum":this.isIntermediateSum&&(j+=" highcharts-intermediate-sum"),j}isValid(){return d(this.y)||this.isSum||!!this.isIntermediateSum}}return n}),i(t,"Series/Waterfall/WaterfallSeries.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Core/Axis/WaterfallAxis.js"],t["Series/Waterfall/WaterfallPoint.js"]],function(a,o,u,d,n,k){const{seriesTypes:{column:j,line:Z}}=u,{addEvent:z,arrayMax:H,arrayMin:Y,correctFloat:I,extend:B,isNumber:U,merge:T,objectEach:C,pick:P}=d;class G extends j{constructor(){super(...arguments),this.yData=this.yAxis=this.xData=this.stackKey=this.stackedYPos=this.stackedYNeg=this.points=this.options=this.data=this.chart=void 0}generatePoints(){j.prototype.generatePoints.apply(this);for(let N=0,ne=this.points.length;N<ne;N++){const K=this.points[N],L=this.processedYData[N];U(L)&&(K.isIntermediateSum||K.isSum)&&(K.y=I(L))}}processData(N){let ne=this.options,K=this.yData,L=ne.data,E,w=K.length,g=ne.threshold||0,A,m,y,x,M,X;for(X=m=A=y=x=0;X<w;X++)M=K[X],E=L&&L[X]?L[X]:{},M==="sum"||E.isSum?K[X]=I(m):M==="intermediateSum"||E.isIntermediateSum?(K[X]=I(A),A=0):(m+=M,A+=M),y=Math.min(m,y),x=Math.max(m,x);super.processData.call(this,N),ne.stacking||(this.dataMin=y+g,this.dataMax=x)}toYData(N){return N.isSum?"sum":N.isIntermediateSum?"intermediateSum":N.y}updateParallelArrays(N,ne){super.updateParallelArrays.call(this,N,ne),(this.yData[0]==="sum"||this.yData[0]==="intermediateSum")&&(this.yData[0]=null)}pointAttribs(N,ne){const K=this.options.upColor;return K&&!N.options.color&&U(N.y)&&(N.color=0<N.y?K:void 0),N=j.prototype.pointAttribs.call(this,N,ne),delete N.dashstyle,N}getGraphPath(){return[["M",0,0]]}getCrispPath(){let N=this.data.filter(X=>U(X.y)),ne=this.yAxis,K=N.length,L=Math.round(this.graph.strokeWidth())%2/2,E=Math.round(this.borderWidth)%2/2,w=this.xAxis.reversed,g=this.yAxis.reversed,A=this.options.stacking,m=[];for(let X=1;X<K;X++){if(!this.options.connectNulls&&!U(this.data[N[X].index-1].y))continue;var y=N[X].box,x=N[X-1];const re=x.y||0,ee=N[X-1].box;if(!y||!ee)continue;var M=ne.waterfall.stacks[this.stackKey];const he=0<re?-ee.height:0;M&&ee&&y&&(M=M[X-1],x=A?Math.round(ne.translate(M.connectorThreshold,!1,!0,!1,!0)+(g?he:0))-L:ee.y+x.minPointLengthOffset+E-L,m.push(["M",(ee.x||0)+(w?0:ee.width||0),x],["L",(y.x||0)+(w&&y.width||0),x])),ee&&m.length&&(!A&&0>re&&!g||0<re&&g)&&((y=m[m.length-2])&&typeof y[2]=="number"&&(y[2]+=ee.height||0),(y=m[m.length-1])&&typeof y[2]=="number"&&(y[2]+=ee.height||0))}return m}drawGraph(){Z.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(){function N(fe,ue,pe,te){if(y){if(re)for(pe;pe<re;pe++)y.stackState[pe]+=te;else y.stackState[0]=fe,re=y.stackState.length;y.stackState.push(y.stackState[re-1]+ue)}}let ne=this.options,K=this.yAxis.waterfall.stacks,L=ne.threshold||0,E=L,w=E,g=this.stackKey,A=this.xData,m=A.length,y,x,M,X,re,ee,he,ye;var Ce;let oe;if(this.yAxis.stacking.usePercentage=!1,x=M=X=E,this.visible||!this.chart.options.chart.ignoreHiddenSeries){if(oe=K.changed,(Ce=K.alreadyChanged)&&0>Ce.indexOf(g)&&(oe=!0),K[g]||(K[g]={}),Ce=K[g])for(let fe=0;fe<m;fe++){var de=A[fe];(!Ce[de]||oe)&&(Ce[de]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:oe&&Ce[de]?Ce[de].label:void 0}),y=Ce[de],ye=this.yData[fe],0<=ye?y.posTotal+=ye:y.negTotal+=ye,he=ne.data[fe],de=y.absolutePos=y.posTotal,ee=y.absoluteNeg=y.negTotal,y.stackTotal=de+ee,re=y.stackState.length,he&&he.isIntermediateSum?(N(X,M,0,X),X=M,M=L,E^=w,w^=E,E^=w):he&&he.isSum?(N(L,x,re,0),E=L):(N(E,ye,0,x),he&&(x+=ye,M+=ye)),y.stateIndex++,y.threshold=E,E+=y.stackTotal}K.changed=!1,K.alreadyChanged||(K.alreadyChanged=[]),K.alreadyChanged.push(g)}}getExtremes(){let N=this.options.stacking,ne,K;if(N){var L=this.yAxis;return L=L.waterfall.stacks,ne=this.stackedYNeg=[],K=this.stackedYPos=[],N==="overlap"?C(L[this.stackKey],function(E){ne.push(Y(E.stackState)),K.push(H(E.stackState))}):C(L[this.stackKey],function(E){ne.push(E.negTotal+E.threshold),K.push(E.posTotal+E.threshold)}),{dataMin:Y(ne),dataMax:H(K)}}return{dataMin:this.dataMin,dataMax:this.dataMax}}}return G.defaultOptions=T(j.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),z(G,"afterColumnTranslate",function(){const{options:q,points:N,yAxis:ne}=this,K=P(q.minPointLength,5),L=K/2,E=q.threshold||0,w=q.stacking,g=ne.waterfall.stacks[this.stackKey];let A=E,m=E;for(let re=0;re<N.length;re++){const ee=N[re];var y=this.processedYData[re];const he=B({x:0,y:0,width:0,height:0},ee.shapeArgs||{});ee.box=he;var x=[0,y],M=ee.y||0;if(w){if(g){if(x=g[re],w==="overlap"){var X=x.stackState[x.stateIndex--];X=0<=M?X:X-M,Object.hasOwnProperty.call(x,"absolutePos")&&delete x.absolutePos,Object.hasOwnProperty.call(x,"absoluteNeg")&&delete x.absoluteNeg}else 0<=M?(X=x.threshold+x.posTotal,x.posTotal-=M):(X=x.threshold+x.negTotal,x.negTotal-=M,X-=M),!x.posTotal&&U(x.absolutePos)&&Object.hasOwnProperty.call(x,"absolutePos")&&(x.posTotal=x.absolutePos,delete x.absolutePos),!x.negTotal&&U(x.absoluteNeg)&&Object.hasOwnProperty.call(x,"absoluteNeg")&&(x.negTotal=x.absoluteNeg,delete x.absoluteNeg);ee.isSum||(x.connectorThreshold=x.threshold+x.stackTotal),ne.reversed?y=0<=M?X-M:X+M:(y=X,X-=M),ee.below=y<=E,he.y=ne.translate(y,!1,!0,!1,!0),he.height=Math.abs(he.y-ne.translate(X,!1,!0,!1,!0)),(X=ne.waterfall.dummyStackItem)&&(X.x=re,X.label=g[re].label,X.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[re],this.stackedYPos[re],void 0,this.xAxis))}}else X=Math.max(m,m+M)+x[0],he.y=ne.translate(X,!1,!0,!1,!0),ee.isSum?(he.y=ne.translate(x[1],!1,!0,!1,!0),he.height=Math.min(ne.translate(x[0],!1,!0,!1,!0),ne.len)-he.y,ee.below=x[1]<=E):ee.isIntermediateSum?(0<=M?(y=x[1]+A,X=A):(y=A,X=x[1]+A),ne.reversed&&(y^=X,X^=y,y^=X),he.y=ne.translate(y,!1,!0,!1,!0),he.height=Math.abs(he.y-Math.min(ne.translate(X,!1,!0,!1,!0),ne.len)),A+=x[1],ee.below=y<=E):(he.height=0<y?ne.translate(m,!1,!0,!1,!0)-he.y:ne.translate(m,!1,!0,!1,!0)-ne.translate(m-y,!1,!0,!1,!0),m+=y,ee.below=m<E),0>he.height&&(he.y+=he.height,he.height*=-1);ee.plotY=he.y=Math.round(he.y||0)-this.borderWidth%2/2,he.height=Math.max(Math.round(he.height||0),.001),ee.yBottom=he.y+he.height,he.height<=K&&!ee.isNull?(he.height=K,he.y-=L,ee.plotY=he.y,ee.minPointLengthOffset=0>M?-L:L):(ee.isNull&&(he.width=0),ee.minPointLengthOffset=0),M=ee.plotY+(ee.negative?he.height:0),ee.below&&(ee.plotY+=he.height),ee.tooltipPos&&(this.chart.inverted?ee.tooltipPos[0]=ne.len-M:ee.tooltipPos[1]=M),ee.isInside=this.isPointInside(ee),T(!0,ee.shapeArgs,he)}},{order:2}),B(G.prototype,{getZonesGraphs:Z.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:k}),u.registerSeriesType("waterfall",G),n.compose(a,o),G}),i(t,"Core/Axis/RadialAxis.js",[t["Core/Axis/AxisDefaults.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(a,o,u,d){const{defaultOptions:n}=o,{noop:k}=u,{addEvent:j,correctFloat:Z,defined:z,extend:H,fireEvent:Y,merge:I,pick:B,relativeLength:U,wrap:T}=d;var C;return function(P){function G(){this.autoConnect=this.isCircular&&typeof B(this.userMax,this.options.max)>"u"&&Z(this.endAngleRad-this.startAngleRad)===Z(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)}function q(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&this.options.labels.allowOverlap!==!0)return this.tickPositions.map(ce=>this.ticks[ce]&&this.ticks[ce].label).filter(ce=>!!ce)}}function N(){return k}function ne(ce,we,Ae){const Fe=this.pane.center;let De=ce.value,Ge;if(this.isCircular){if(z(De))ce.point&&(ct=ce.point.shapeArgs||{},ct.start&&(De=this.chart.inverted?this.translate(ce.point.rectPlotY,!0):ce.point.x));else{var ct=ce.chartX||0;Ge=ce.chartY||0,De=this.translate(Math.atan2(Ge-Ae,ct-we)-this.startAngleRad,!0)}ce=this.getPosition(De),ct=ce.x,Ge=ce.y}else z(De)||(ct=ce.chartX,Ge=ce.chartY),z(ct)&&z(Ge)&&(Ae=Fe[1]+this.chart.plotTop,De=this.translate(Math.min(Math.sqrt(Math.pow(ct-we,2)+Math.pow(Ge-Ae,2)),Fe[2]/2)-Fe[3]/2,!0));return[De,ct||0,Ge||0]}function K(ce,we,Ae){ce=this.pane.center;const Fe=this.chart,De=this.left||0,Ge=this.top||0;let ct=B(we,ce[2]/2-this.offset);return typeof Ae>"u"&&(Ae=this.horiz?0:this.center&&-this.center[3]/2),Ae&&(ct+=Ae),this.isCircular||typeof we<"u"?(we=this.chart.renderer.symbols.arc(De+ce[0],Ge+ce[1],ct,ct,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}),we.xBounds=[De+ce[0]],we.yBounds=[Ge+ce[1]-ct]):(we=this.postTranslate(this.angleRad,ct),we=[["M",this.center[0]+Fe.plotLeft,this.center[1]+Fe.plotTop],["L",we.x,we.y]]),we}function L(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function E(ce,we,Ae){const Fe=this.chart;var De=Ke=>{if(typeof Ke=="string"){let At=parseInt(Ke,10);return He.test(Ke)&&(At=At*ot/100),At}return Ke};const Ge=this.center;var ct=this.startAngleRad;const ot=Ge[2]/2;var Qe=Math.min(this.offset,0),Ie=this.left||0;const Ue=this.top||0,He=/%$/;var it=this.isCircular;let Je,st=B(De(Ae.outerRadius),ot),ht=De(Ae.innerRadius);return De=B(De(Ae.thickness),10),this.options.gridLineInterpolation==="polygon"?Qe=this.getPlotLinePath({value:ce}).concat(this.getPlotLinePath({value:we,reverse:!0})):(ce=Math.max(ce,this.min),we=Math.min(we,this.max),ce=this.translate(ce),we=this.translate(we),it||(st=ce||0,ht=we||0),Ae.shape!=="circle"&&it?(Ae=ct+(ce||0),ct+=we||0):(Ae=-Math.PI/2,ct=1.5*Math.PI,Je=!0),st-=Qe,Qe=Fe.renderer.symbols.arc(Ie+Ge[0],Ue+Ge[1],st,st,{start:Math.min(Ae,ct),end:Math.max(Ae,ct),innerR:B(ht,st-(De-Qe)),open:Je}),it&&(it=(ct+Ae)/2,Ie=Ie+Ge[0]+Ge[2]/2*Math.cos(it),Qe.xBounds=it>-Math.PI/2&&it<Math.PI/2?[Ie,Fe.plotWidth]:[0,Ie],Qe.yBounds=[Ue+Ge[1]+Ge[2]/2*Math.sin(it)],Qe.yBounds[0]+=it>-Math.PI&&0>it||it>Math.PI?-10:10)),Qe}function w(ce){var we=this.pane.center,Ae=this.chart;const Fe=Ae.inverted;var De=ce.reverse,Ge=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{};const ct=Ge.innerRadius||"0%",ot=Ge.outerRadius||"100%";var Qe=we[0]+Ae.plotLeft,Ie=we[1]+Ae.plotTop;const Ue=this.height,He=ce.isCrosshair;Ge=we[3]/2;var it=ce.value;let Je;var st=this.getPosition(it);let ht=st.x;if(st=st.y,He&&(st=this.getCrosshairPosition(ce,Qe,Ie),it=st[0],ht=st[1],st=st[2]),this.isCircular)it=Math.sqrt(Math.pow(ht-Qe,2)+Math.pow(st-Ie,2)),De=typeof ct=="string"?U(ct,1):ct/it,Ae=typeof ot=="string"?U(ot,1):ot/it,we&&Ge&&(Ge/=it,De<Ge&&(De=Ge),Ae<Ge&&(Ae=Ge)),we=[["M",Qe+De*(ht-Qe),Ie-De*(Ie-st)],["L",ht-(1-Ae)*(ht-Qe),st+(1-Ae)*(Ie-st)]];else if((it=this.translate(it))&&(0>it||it>Ue)&&(it=0),this.options.gridLineInterpolation==="circle")we=this.getLinePath(0,it,Ge);else if(we=[],Ae[Fe?"yAxis":"xAxis"].forEach(Ke=>{Ke.pane===this.pane&&(Je=Ke)}),Je)for(Qe=Je.tickPositions,Je.autoConnect&&(Qe=Qe.concat([Qe[0]])),De&&(Qe=Qe.slice().reverse()),it&&(it+=Ge),Ie=0;Ie<Qe.length;Ie++)Ge=Je.getPosition(Qe[Ie],it),we.push(Ie?["L",Ge.x,Ge.y]:["M",Ge.x,Ge.y]);return we}function g(ce,we){return ce=this.translate(ce),this.postTranslate(this.isCircular?ce:this.angleRad,B(this.isCircular?we:0>ce?0:ce,this.center[2]/2)-this.offset)}function A(){const ce=this.center,we=this.chart,Ae=this.options.title;return{x:we.plotLeft+ce[0]+(Ae.x||0),y:we.plotTop+ce[1]-{high:.5,middle:.25,low:0}[Ae.align]*ce[2]+(Ae.y||0)}}function m(ce){ce.beforeSetTickPositions=G,ce.createLabelCollector=q,ce.getCrosshairPosition=ne,ce.getLinePath=K,ce.getOffset=L,ce.getPlotBandPath=E,ce.getPlotLinePath=w,ce.getPosition=g,ce.getTitlePosition=A,ce.postTranslate=ye,ce.setAxisSize=oe,ce.setAxisTranslation=de,ce.setOptions=fe}function y(){var ce=this.chart,we=this.options,Ae=this.pane,Fe=Ae&&Ae.options;ce.angular&&this.isXAxis||!Ae||!ce.angular&&!ce.polar||(ce=2*Math.PI,Ae=(B(Fe.startAngle,0)-90)*Math.PI/180,Fe=(B(Fe.endAngle,B(Fe.startAngle,0)+360)-90)*Math.PI/180,this.angleRad=(we.angle||0)*Math.PI/180,this.startAngleRad=Ae,this.endAngleRad=Fe,this.offset=we.offset||0,we=(Ae%ce+ce)%ce,Fe=(Fe%ce+ce)%ce,we>Math.PI&&(we-=ce),Fe>Math.PI&&(Fe-=ce),this.normalizedStartAngleRad=we,this.normalizedEndAngleRad=Fe)}function x(ce){this.isRadial&&(ce.align=void 0,ce.preventDefault())}function M(){if(this.chart&&this.chart.labelCollectors){const ce=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;0<=ce&&this.chart.labelCollectors.splice(ce,1)}}function X(ce){const we=this.chart,Ae=we.inverted,Fe=we.angular,De=we.polar,Ge=this.isXAxis,ct=this.coll,ot=Fe&&Ge;ce=ce.userOptions.pane||0,ce=this.pane=we.pane&&we.pane[ce];let Qe;ct==="colorAxis"?this.isRadial=!1:(Fe?(ot?(this.isHidden=!0,this.createLabelCollector=N,this.getOffset=k,this.render=this.redraw=Ce,this.setTitle=this.setCategories=this.setScale=k):m(this),(Qe=!Ge)&&(this.defaultPolarOptions=ge)):De&&(m(this),this.defaultPolarOptions=(Qe=this.horiz)?te:I(ct==="xAxis"?a.defaultXAxisOptions:a.defaultYAxisOptions,xe),Ae&&ct==="yAxis"&&(this.defaultPolarOptions.stackLabels=a.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),Fe||De?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&we.labelCollectors.push(this.labelCollector)):this.isRadial=!1,ce&&Qe&&(ce.axis=this),this.isCircular=Qe)}function re(){this.isRadial&&this.beforeSetTickPositions()}function ee(ce){const we=this.label;if(we){var Ae=this.axis,Fe=we.getBBox(),De=Ae.options.labels,Ge=(Ae.translate(this.pos)+Ae.startAngleRad+Math.PI/2)/Math.PI*180%360,ct=Math.round(Ge),ot=z(De.y)?0:.3*-Fe.height,Qe=De.y,Ie=20,Ue=De.align,He="end",it=0>ct?ct+360:ct,Je=it,st=0,ht=0;if(Ae.isRadial){var Ke=Ae.getPosition(this.pos,Ae.center[2]/2+U(B(De.distance,-25),Ae.center[2]/2,-Ae.center[2]/2));De.rotation==="auto"?we.attr({rotation:Ge}):z(Qe)||(Qe=Ae.chart.renderer.fontMetrics(we).b-Fe.height/2),z(Ue)||(Ae.isCircular?(Fe.width>Ae.len*Ae.tickInterval/(Ae.max-Ae.min)&&(Ie=0),Ue=Ge>Ie&&Ge<180-Ie?"left":Ge>180+Ie&&Ge<360-Ie?"right":"center"):Ue="center",we.attr({align:Ue})),Ue==="auto"&&Ae.tickPositions.length===2&&Ae.isCircular&&(90<it&&180>it?it=180-it:270<it&&360>=it&&(it=540-it),180<Je&&360>=Je&&(Je=360-Je),(Ae.pane.options.startAngle===ct||Ae.pane.options.startAngle===ct+360||Ae.pane.options.startAngle===ct-360)&&(He="start"),Ue=-90<=ct&&90>=ct||-360<=ct&&-270>=ct||270<=ct&&360>=ct?He==="start"?"right":"left":He==="start"?"left":"right",70<Je&&110>Je&&(Ue="center"),15>it||180<=it&&195>it?st=.3*Fe.height:15<=it&&35>=it?st=He==="start"?0:.75*Fe.height:195<=it&&215>=it?st=He==="start"?.75*Fe.height:0:35<it&&90>=it?st=He==="start"?.25*-Fe.height:Fe.height:215<it&&270>=it&&(st=He==="start"?Fe.height:.25*-Fe.height),15>Je?ht=He==="start"?.15*-Fe.height:.15*Fe.height:165<Je&&180>=Je&&(ht=He==="start"?.15*Fe.height:.15*-Fe.height),we.attr({align:Ue}),we.translate(ht,st+ot)),ce.pos.x=Ke.x+(De.x||0),ce.pos.y=Ke.y+(Qe||0)}}}function he(ce){this.axis.getPosition&&H(ce.pos,this.axis.getPosition(this.pos))}function ye(ce,we){const Ae=this.chart,Fe=this.center;return ce=this.startAngleRad+ce,{x:Ae.plotLeft+Fe[0]+Math.cos(ce)*we,y:Ae.plotTop+Fe[1]+Math.sin(ce)*we}}function Ce(){this.isDirty=!1}function oe(){let ce,we;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),ce=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(we=this.postTranslate(this.angleRad,ce[3]/2),ce[0]=we.x-this.chart.plotLeft,ce[1]=we.y-this.chart.plotTop),this.len=this.width=this.height=(ce[2]-ce[3])*B(this.sector,1)/2)}function de(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function fe(ce){ce=this.options=I(this.constructor.defaultOptions,this.defaultPolarOptions,n[this.coll],ce),ce.plotBands||(ce.plotBands=[]),Y(this,"afterSetOptions")}function ue(ce,we,Ae,Fe,De,Ge,ct){const ot=this.axis;return ot.isRadial?(ce=ot.getPosition(this.pos,ot.center[2]/2+Fe),we=["M",we,Ae,"L",ce.x,ce.y]):we=ce.call(this,we,Ae,Fe,De,Ge,ct),we}const pe=[],te={gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},ge={labels:{align:"center",distance:-25,x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},xe={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};P.compose=function(ce,we){return d.pushUnique(pe,ce)&&(j(ce,"afterInit",y),j(ce,"autoLabelAlign",x),j(ce,"destroy",M),j(ce,"init",X),j(ce,"initialAxisTranslation",re)),d.pushUnique(pe,we)&&(j(we,"afterGetLabelPosition",ee),j(we,"afterGetPosition",he),T(we.prototype,"getMarkPath",ue)),ce}}(C||(C={})),C}),i(t,"Series/PolarComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Extensions/Pane.js"],t["Core/Axis/RadialAxis.js"],t["Core/Utilities.js"]],function(a,o,u,d,n,k){function j(oe,de,fe,ue){var pe=ue?1:0,te=0<=de&&de<=oe.length-1?de:0>de?oe.length-1+de:0;de=0>te-1?oe.length-(1+pe):te-1;var ge=oe[de];pe=oe[te+1>oe.length-1?pe:te+1];var xe=ge.plotY,ce=pe.plotX,we=pe.plotY;pe=oe[te].plotX,te=oe[te].plotY,ge=(1.5*pe+ge.plotX)/2.5,xe=(1.5*te+xe)/2.5,ce=(1.5*pe+ce)/2.5;var Ae=(1.5*te+we)/2.5;we=Math.sqrt(Math.pow(ge-pe,2)+Math.pow(xe-te,2));const Fe=Math.sqrt(Math.pow(ce-pe,2)+Math.pow(Ae-te,2));return ge=Math.atan2(xe-te,ge-pe),Ae=Math.PI/2+(ge+Math.atan2(Ae-te,ce-pe))/2,Math.abs(ge-Ae)>Math.PI/2&&(Ae-=Math.PI),ge=pe+Math.cos(Ae)*we,xe=te+Math.sin(Ae)*we,ce=pe+Math.cos(Math.PI+Ae)*Fe,Ae=te+Math.sin(Math.PI+Ae)*Fe,pe={rightContX:ce,rightContY:Ae,leftContX:ge,leftContY:xe,plotX:pe,plotY:te},fe&&(pe.prevPointCont=j(oe,de,!1,ue)),pe}function Z(){(this.pane||[]).forEach(oe=>{oe.render()})}function z(oe){const de=oe.args[0].xAxis,fe=oe.args[0].yAxis;oe=oe.args[0].chart,de&&fe&&(fe.gridLineInterpolation==="polygon"?(de.startOnTick=!0,de.endOnTick=!0):de.gridLineInterpolation==="polygon"&&oe.inverted&&(fe.startOnTick=!0,fe.endOnTick=!0))}function H(){this.pane||(this.pane=[]),this.options.pane=re(this.options.pane),this.options.pane.forEach(oe=>{new d(oe,this)},this)}function Y(oe){var de=oe.args.marker,fe=this.chart.xAxis[0],ue=this.chart.yAxis[0],pe=this.chart.inverted;const te=pe?ue:fe;if(fe=pe?fe:ue,this.chart.polar){oe.preventDefault(),ue=(de.attr?de.attr("start"):de.start)-te.startAngleRad,pe=de.attr?de.attr("r"):de.r;let ge=(de.attr?de.attr("end"):de.end)-te.startAngleRad;de=de.attr?de.attr("innerR"):de.innerR,oe.result.x=ue+te.pos,oe.result.width=ge-ue,oe.result.y=fe.len+fe.pos-de,oe.result.height=de-pe}}function I(oe){var de=this.chart;if(de.polar&&de.hoverPane&&de.hoverPane.axis){oe.preventDefault();var fe=de.hoverPane.center,ue=this.mouseDownX||0;const Ge=this.mouseDownY||0;var pe=oe.args.chartY;const ct=oe.args.chartX;var te=2*Math.PI,ge=de.hoverPane.axis.startAngleRad,xe=de.hoverPane.axis.endAngleRad,ce=de.inverted?de.xAxis[0]:de.yAxis[0];const ot={};var we="arc";if(ot.x=fe[0]+de.plotLeft,ot.y=fe[1]+de.plotTop,this.zoomHor){var Ae=0<ge?xe-ge:Math.abs(ge)+Math.abs(xe),Fe=Math.atan2(Ge-de.plotTop-fe[1],ue-de.plotLeft-fe[0])-ge,De=Math.atan2(pe-de.plotTop-fe[1],ct-de.plotLeft-fe[0])-ge;if(ot.r=fe[2]/2,ot.innerR=fe[3]/2,0>=Fe&&(Fe+=te),0>=De&&(De+=te),De<Fe&&(De=[Fe,Fe=De][0]),Ae<te&&ge+De>xe+(te-Ae)/2&&(De=Fe,Fe=0>=ge?ge:0),te=ot.start=Math.max(Fe+ge,ge),Ae=ot.end=Math.min(De+ge,xe),ce.options.gridLineInterpolation==="polygon"){if(we=de.hoverPane.axis,De=te-we.startAngleRad+we.pos,Fe=Ae-te,te=ce.getPlotLinePath({value:ce.max}),Ae=we.toValue(De),De=we.toValue(De+Fe),Ae<we.getExtremes().min){const{min:Qe,max:Ie}=we.getExtremes();Ae=Ie-(Qe-Ae)}if(De<we.getExtremes().min){const{min:Qe,max:Ie}=we.getExtremes();De=Ie-(Qe-De)}De<Ae&&(De=[Ae,Ae=De][0]),te=C(te,Ae,De,we),te.push(["L",fe[0]+de.plotLeft,de.plotTop+fe[1]]),ot.d=te,we="path"}}this.zoomVert&&(De=de.inverted?de.xAxis[0]:de.yAxis[0],ue=Math.sqrt(Math.pow(ue-de.plotLeft-fe[0],2)+Math.pow(Ge-de.plotTop-fe[1],2)),pe=Math.sqrt(Math.pow(ct-de.plotLeft-fe[0],2)+Math.pow(pe-de.plotTop-fe[1],2)),pe<ue&&(ue=[pe,pe=ue][0]),pe>fe[2]/2&&(pe=fe[2]/2),ue<fe[3]/2&&(ue=fe[3]/2),this.zoomHor||(ot.start=ge,ot.end=xe),ot.r=pe,ot.innerR=ue,De.options.gridLineInterpolation==="polygon"&&(fe=De.toValue(De.len+De.pos-ue),ge=De.toValue(De.len+De.pos-pe),fe=De.getPlotLinePath({value:ge}).concat(De.getPlotLinePath({value:fe,reverse:!0})),ot.d=fe,we="path")),this.zoomHor&&this.zoomVert&&ce.options.gridLineInterpolation==="polygon"&&(fe=de.hoverPane.axis,ce=ot.start||0,ge=ce-fe.startAngleRad+fe.pos,xe=(ot.end||0)-ce,ce=fe.toValue(ge),fe=fe.toValue(ge+xe),ot.d instanceof Array&&(ge=ot.d.slice(0,ot.d.length/2),xe=ot.d.slice(ot.d.length/2,ot.d.length),xe=[...xe].reverse(),de=de.hoverPane.axis,ge=C(ge,ce,fe,de),(xe=C(xe,ce,fe,de))&&(xe[0][0]="L"),xe=[...xe].reverse(),ot.d=ge.concat(xe),we="path")),oe.attrs=ot,oe.shapeType=we}}function B(){const oe=this.chart;oe.polar&&(this.polar=new Ce(this),oe.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function U(){if(this.chart.polar&&this.xAxis){const{xAxis:oe,yAxis:de}=this,fe=this.chart;(this.kdByAngle=fe.tooltip&&fe.tooltip.shared)?this.searchPoint=T:this.options.findNearestPointBy="xy";const ue=this.points;let pe=ue.length;for(;pe--;)this.is("column")||this.is("columnrange")||this.polar.toXY(ue[pe]),fe.hasParallelCoordinates||this.yAxis.reversed||(M(ue[pe].y,Number.MIN_VALUE)<de.min||ue[pe].x<oe.min||ue[pe].x>oe.max?(ue[pe].isNull=!0,ue[pe].plotY=NaN):ue[pe].isNull=ue[pe].isValid&&!ue[pe].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(g(this,"afterRender",function(){if(fe.polar){var te=this.yAxis.pane.center;if(this.clipCircle)this.clipCircle.animate({x:te[0],y:te[1],r:te[2]/2,innerR:te[3]/2});else{{var ge=fe.renderer,xe=te[0],ce=te[1],we=te[2]/2,Ae=te[3]/2;te=ee();const Fe=ge.createElement("clipPath").attr({id:te}).add(ge.defs);ge=Ae?ge.arc(xe,ce,we,Ae,0,2*Math.PI).add(Fe):ge.circle(xe,ce,we).add(Fe),ge.id=te,ge.clipPath=Fe}this.clipCircle=ge}this.group.clip(this.clipCircle),this.setClip=o.noop}})))}}function T(oe){const de=this.chart;var fe=this.xAxis;return fe=fe.pane&&fe.pane.center,this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(oe.chartX-(fe&&fe[0]||0)-de.plotLeft,oe.chartY-(fe&&fe[1]||0)-de.plotTop)})}function C(oe,de,fe,ue){const pe=ue.tickInterval;ue=ue.tickPositions;let te=m(ue,xe=>xe>=fe),ge=m([...ue].reverse(),xe=>xe<=de);return A(te)||(te=ue[ue.length-1]),A(ge)||(ge=ue[0],te+=pe,oe[0][0]="L",oe.unshift(oe[oe.length-3])),oe=oe.slice(ue.indexOf(ge),ue.indexOf(te)+1),oe[0][0]="M",oe}function P(oe,de){return m(this.pane||[],function(fe){return fe.options.id===de})||oe.call(this,de)}function G(oe,de,fe,ue,pe,te){const ge=this.chart;var xe=M(ue.inside,!!this.options.stacking);ge.polar?(oe=de.rectPlotX/Math.PI*180,ge.inverted?(this.forceDL=ge.isInsidePlot(de.plotX,de.plotY),xe&&de.shapeArgs?(xe=de.shapeArgs,xe=this.yAxis.postTranslate(((xe.start||0)+(xe.end||0))/2-this.xAxis.startAngleRad,de.barX+de.pointWidth/2),pe=x(pe,{x:xe.x-ge.plotLeft,y:xe.y-ge.plotTop})):de.tooltipPos&&(pe=x(pe,{x:de.tooltipPos[0],y:de.tooltipPos[1]})),ue.align=M(ue.align,"center"),ue.verticalAlign=M(ue.verticalAlign,"middle")):(ue.align===null&&(ue.align=20<oe&&160>oe?"left":200<oe&&340>oe?"right":"center"),ue.verticalAlign===null&&(ue.verticalAlign=45>oe||315<oe?"bottom":135<oe&&225>oe?"top":"middle")),u.prototype.alignDataLabel.call(this,de,fe,ue,pe,te),this.isRadialBar&&de.shapeArgs&&de.shapeArgs.start===de.shapeArgs.end?fe.hide():fe.show()):oe.call(this,de,fe,ue,pe,te)}function q(){const oe=this.options,de=oe.stacking,fe=this.chart;var ue=this.xAxis;const pe=this.yAxis,te=pe.reversed,ge=pe.center,xe=ue.startAngleRad,ce=ue.endAngleRad-xe;let we=0,Ae,Fe,De,Ge=0;var ct=0;if(ue.isRadial){ue=this.points,Ae=ue.length,Fe=pe.translate(pe.min),De=pe.translate(pe.max);var ot=oe.threshold||0;for(fe.inverted&&y(ot)&&(we=pe.translate(ot),A(we)&&(0>we?we=0:we>ce&&(we=ce),this.translatedThreshold=we+xe));Ae--;){ot=ue[Ae];var Qe=ot.barX,Ie=ot.x,Ue=ot.y;if(ot.shapeType="arc",fe.inverted){ot.plotY=pe.translate(Ue),de&&pe.stacking?(Ue=pe.stacking.stacks[(0>Ue?"-":"")+this.stackKey],this.visible&&Ue&&Ue[Ie]&&!ot.isNull&&(ct=Ue[Ie].points[this.getStackIndicator(void 0,Ie,this.index).key],Ge=pe.translate(ct[0]),ct=pe.translate(ct[1]),A(Ge)&&(Ge=k.clamp(Ge,0,ce)))):(Ge=we,ct=ot.plotY),Ge>ct&&(ct=[Ge,Ge=ct][0]),te?ct>Fe?ct=Fe:Ge<De?Ge=De:(Ge>Fe||ct<De)&&(Ge=ct=ce):Ge<Fe?Ge=Fe:ct>De?ct=De:(ct<Fe||Ge>De)&&(Ge=ct=0),pe.min>pe.max&&(Ge=ct=te?ce:0),Ge+=xe,ct+=xe,ge&&(ot.barX=Qe+=ge[3]/2),Ie=Math.max(Qe,0),Ue=Math.max(Qe+ot.pointWidth,0);var He=oe.borderRadius;He=X((typeof He=="object"?He.radius:He)||0,Ue-Ie),ot.shapeArgs={x:ge[0],y:ge[1],r:Ue,innerR:Ie,start:Ge,end:ct,borderRadius:He},ot.opacity=Ge===ct?0:void 0,ot.plotY=(A(this.translatedThreshold)&&(Ge<this.translatedThreshold?Ge:ct))-xe}else Ge=Qe+xe,ot.shapeArgs=this.polar.arc(ot.yBottom,ot.plotY,Ge,Ge+ot.pointWidth),ot.shapeArgs.borderRadius=0;this.polar.toXY(ot),fe.inverted?(Qe=pe.postTranslate(ot.rectPlotY,Qe+ot.pointWidth/2),ot.tooltipPos=[Qe.x-fe.plotLeft,Qe.y-fe.plotTop]):ot.tooltipPos=[ot.plotX,ot.plotY],ge&&(ot.ttBelow=ot.plotY>ge[1])}}}function N(oe,de){const fe=this;let ue;if(this.chart.polar){de=de||this.points;for(let te=0;te<de.length;te++)if(!de[te].isNull){var pe=te;break}this.options.connectEnds!==!1&&typeof pe<"u"&&(this.connectEnds=!0,de.splice(de.length,0,de[pe]),ue=!0),de.forEach(te=>{typeof te.polarPlotY>"u"&&fe.polar.toXY(te)})}return pe=oe.apply(this,[].slice.call(arguments,1)),ue&&de.pop(),pe}function ne(oe,de){const fe=this.chart;let ue={xAxis:[],yAxis:[]};return fe.polar?fe.axes.forEach(pe=>{if(pe.coll!=="colorAxis"){var te=pe.isXAxis,ge=pe.center,xe=de.chartX-ge[0]-fe.plotLeft;ge=de.chartY-ge[1]-fe.plotTop,ue[te?"xAxis":"yAxis"].push({axis:pe,value:pe.translate(te?Math.PI-Math.atan2(xe,ge):Math.sqrt(Math.pow(xe,2)+Math.pow(ge,2)),!0)})}}):ue=oe.call(this,de),ue}function K(oe,de){this.chart.polar||oe.call(this,de)}function L(oe,de){const fe=this,ue=this.chart,pe=this.group,te=this.markerGroup,ge=this.xAxis&&this.xAxis.center,xe=ue.plotLeft,ce=ue.plotTop;let we=this.options.animation,Ae,Fe,De,Ge,ct;ue.polar?fe.isRadialBar?de||(fe.startAngleRad=M(fe.translatedThreshold,fe.xAxis.startAngleRad),o.seriesTypes.pie.prototype.animate.call(fe,de)):(we=w(we),fe.is("column")?de||(Ae=ge[3]/2,fe.points.forEach(ot=>{Fe=ot.graphic,Ge=(De=ot.shapeArgs)&&De.r,ct=De&&De.innerR,Fe&&De&&(Fe.attr({r:Ae,innerR:Ae}),Fe.animate({r:Ge,innerR:ct},fe.options.animation))})):de?(oe={translateX:ge[0]+xe,translateY:ge[1]+ce,scaleX:.001,scaleY:.001},pe.attr(oe),te&&te.attr(oe)):(oe={translateX:xe,translateY:ce,scaleX:1,scaleY:1},pe.animate(oe,we),te&&te.animate(oe,we))):oe.call(this,de)}function E(oe,de,fe,ue){return this.chart.polar?ue?(oe=j(de,ue,!0,this.connectEnds),de=oe.prevPointCont&&oe.prevPointCont.rightContX,fe=oe.prevPointCont&&oe.prevPointCont.rightContY,oe=["C",y(de)?de:oe.plotX,y(fe)?fe:oe.plotY,y(oe.leftContX)?oe.leftContX:oe.plotX,y(oe.leftContY)?oe.leftContY:oe.plotY,oe.plotX,oe.plotY]):oe=["M",fe.plotX,fe.plotY]:oe=oe.call(this,de,fe,ue),oe}const{animObject:w}=a,{addEvent:g,defined:A,find:m,isNumber:y,merge:x,pick:M,relativeLength:X,splat:re,uniqueKey:ee,wrap:he}=k,ye=[];class Ce{static compose(de,fe,ue,pe,te,ge,xe,ce,we){n.compose(de,te),k.pushUnique(ye,fe)&&(g(fe,"afterDrawChartBox",Z),g(fe,"getAxes",H),g(fe,"init",z),he(fe.prototype,"get",P)),k.pushUnique(ye,ue)&&(de=ue.prototype,he(de,"getCoordinates",ne),he(de,"pinch",K),g(ue,"getSelectionMarkerAttrs",I),g(ue,"getSelectionBox",Y)),k.pushUnique(ye,pe)&&(g(pe,"afterInit",B),g(pe,"afterTranslate",U,{order:2}),g(pe,"afterColumnTranslate",q,{order:4}),he(pe.prototype,"animate",L)),xe&&k.pushUnique(ye,xe)&&(ue=xe.prototype,he(ue,"alignDataLabel",G),he(ue,"animate",L)),ce&&k.pushUnique(ye,ce)&&he(ce.prototype,"getGraphPath",N),we&&k.pushUnique(ye,we)&&(ce=we.prototype,he(ce,"getPointSpline",E),ge&&k.pushUnique(ye,ge)&&(ge.prototype.getPointSpline=ce.getPointSpline))}constructor(de){this.series=de}arc(de,fe,ue,pe){const te=this.series,ge=te.xAxis.center,xe=te.yAxis.len,ce=ge[3]/2;return fe=xe-fe+ce,de=xe-M(de,xe)+ce,te.yAxis.reversed&&(0>fe&&(fe=ce),0>de&&(de=ce)),{x:ge[0],y:ge[1],r:fe,innerR:de,start:ue,end:pe}}toXY(de){var fe=this.series;const ue=fe.chart,pe=fe.xAxis;var te=fe.yAxis;const ge=de.plotX,xe=ue.inverted,ce=de.y;let we=de.plotY,Ae=xe?ge:te.len-we;xe&&fe&&!fe.isRadialBar&&(de.plotY=we=y(ce)?te.translate(ce):0),de.rectPlotX=ge,de.rectPlotY=we,te.center&&(Ae+=te.center[3]/2),y(we)&&(te=xe?te.postTranslate(we,Ae):pe.postTranslate(ge,Ae),de.plotX=de.polarPlotX=te.x-ue.plotLeft,de.plotY=de.polarPlotY=te.y-ue.plotTop),fe.kdByAngle?(fe=(ge/Math.PI*180+pe.pane.options.startAngle)%360,0>fe&&(fe+=360),de.clientX=fe):de.clientX=de.plotX}}return Ce}),i(t,"masters/highcharts-more.src.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Bubble/BubbleSeries.js"],t["Series/PackedBubble/PackedBubbleSeries.js"],t["Series/PolarComposition.js"]],function(a,o,u,d,n){u.compose(a.Axis,a.Chart,a.Legend,a.Series),d.compose(a.Axis,a.Chart,a.Legend,a.Series),n.compose(a.Axis,a.Chart,a.Pointer,a.Series,a.Tick,o.seriesTypes.areasplinerange,o.seriesTypes.column,o.seriesTypes.line,o.seriesTypes.spline)})})})(highchartsMore);var highchartsMoreExports=highchartsMore.exports;const hcMore=getDefaultExportFromCjs(highchartsMoreExports),fuel_vue_vue_type_style_index_0_scoped_7c7fa323_lang="";hcMore(Highcharts$1);const _sfc_main$H={components:{highcharts:highchartsVue_minExports.Chart},methods:{chartCallback(e){e.renderer.forExport||setInterval(function(){var t=e.series[0].points[0],i,a=Math.round((Math.random()-.5)*20);i=t.y+a,(i<0||i>200)&&(i=t.y-a),t.update(i)},3e3)}},data(){return{fuelOptions:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1},title:{useHTML:!0,text:"<img src='https://cdn-icons-png.flaticon.com/512/710/710296.png' height='18px' alt='' />",y:180},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#FFF"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:0,max:32,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#fff",tickPixelInterval:32,tickWidth:5,tickPosition:"inside",tickLength:20,tickColor:"#0A2647",labels:{step:16,distance:10,enabled:!1},title:{text:"",y:20},plotBands:[{from:0,to:4,color:"#0A2647"},{from:4,to:8,color:"#0A2647"},{from:8,to:12,color:"#0A2647"},{from:12,to:16,color:"#0A2647"},{from:16,to:20,color:"#0A2647"},{from:20,to:24,color:"#0A2647"},{from:24,to:28,color:"#0A2647"},{from:28,to:32,color:"#0A2647"}]}],series:[{name:"Speed",data:[20],tooltip:{valueSuffix:" "}}]}}}},_withScopeId$8=e=>(pushScopeId("data-v-7c7fa323"),e=e(),popScopeId(),e),_hoisted_1$y={class:"row"},_hoisted_2$u={class:"col position-relative"},_hoisted_3$s=_withScopeId$8(()=>createBaseVNode("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total HFO (KL)",-1)),_hoisted_4$q=_withScopeId$8(()=>createBaseVNode("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"15.08 KL",-1)),_hoisted_5$k={class:"col position-relative"},_hoisted_6$h=_withScopeId$8(()=>createBaseVNode("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total LS HFO (KL)",-1)),_hoisted_7$f=_withScopeId$8(()=>createBaseVNode("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"2.94",-1)),_hoisted_8$d={class:"col position-relative"},_hoisted_9$c=_withScopeId$8(()=>createBaseVNode("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total MDO (KL)",-1)),_hoisted_10$c=_withScopeId$8(()=>createBaseVNode("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"1.22",-1)),_hoisted_11$c={class:"col position-relative"},_hoisted_12$b=_withScopeId$8(()=>createBaseVNode("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total HSD (KL)",-1)),_hoisted_13$9=_withScopeId$8(()=>createBaseVNode("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"2.01",-1)),_hoisted_14$8={class:"col position-relative"},_hoisted_15$7=_withScopeId$8(()=>createBaseVNode("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total (KL)",-1)),_hoisted_16$6=_withScopeId$8(()=>createBaseVNode("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"21.25",-1));function _sfc_render$z(e,t,i,a,o,u){const d=resolveComponent("highcharts");return openBlock(),createElementBlock("div",_hoisted_1$y,[createBaseVNode("div",_hoisted_2$u,[createVNode(d,{options:o.fuelOptions,callback:u.chartCallback},null,8,["options","callback"]),_hoisted_3$s,_hoisted_4$q]),createBaseVNode("div",_hoisted_5$k,[createVNode(d,{options:o.fuelOptions,callback:u.chartCallback},null,8,["options","callback"]),_hoisted_6$h,_hoisted_7$f]),createBaseVNode("div",_hoisted_8$d,[createVNode(d,{options:o.fuelOptions,callback:u.chartCallback},null,8,["options","callback"]),_hoisted_9$c,_hoisted_10$c]),createBaseVNode("div",_hoisted_11$c,[createVNode(d,{options:o.fuelOptions,callback:u.chartCallback},null,8,["options","callback"]),_hoisted_12$b,_hoisted_13$9]),createBaseVNode("div",_hoisted_14$8,[createVNode(d,{options:o.fuelOptions,callback:u.chartCallback},null,8,["options","callback"]),_hoisted_15$7,_hoisted_16$6])])}const ChartFuel=_export_sfc$1(_sfc_main$H,[["render",_sfc_render$z],["__scopeId","data-v-7c7fa323"]]);var stock={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function i(a,o,u,d){a.hasOwnProperty(o)||(a[o]=d.apply(null,u),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:a[o]}})))}t=t?t._modules:{},i(t,"Core/Axis/BrokenAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(a,o){const{addEvent:u,find:d,fireEvent:n,isArray:k,isNumber:j,pick:Z}=o;var z;return function(H){function Y(){typeof this.brokenAxis<"u"&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function I(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function B(){const ne=this.brokenAxis;if(ne&&ne.hasBreaks){const K=this.tickPositions,L=this.tickPositions.info,E=[];for(let w=0;w<K.length;w++)ne.isInAnyBreak(K[w])||E.push(K[w]);this.tickPositions=E,this.tickPositions.info=L}}function U(){this.brokenAxis||(this.brokenAxis=new N(this))}function T(){const{isDirty:ne,options:{connectNulls:K},points:L,xAxis:E,yAxis:w}=this;if(ne){let g=L.length;for(;g--;){const A=L[g],m=!(A.y===null&&K===!1)&&(E&&E.brokenAxis&&E.brokenAxis.isInAnyBreak(A.x,!0)||w&&w.brokenAxis&&w.brokenAxis.isInAnyBreak(A.y,!0));A.visible=m?!1:A.options.visible!==!1}}}function C(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,Z(this.pointArrayMap,["y"]))}function P(ne,K){const L=this,E=L.points;let w,g,A,m;if(ne&&ne.brokenAxis&&ne.brokenAxis.hasBreaks){const y=ne.brokenAxis;K.forEach(function(x){w=y&&y.breakArray||[],g=ne.isXAxis?ne.min:Z(L.options.threshold,ne.min),E.forEach(function(M){m=Z(M["stack"+x.toUpperCase()],M[x]),w.forEach(function(X){j(g)&&j(m)&&(A=!1,g<X.from&&m>X.to||g>X.from&&m<X.from?A="pointBreak":(g<X.from&&m>X.from&&m<X.to||g>X.from&&m>X.to&&m<X.from)&&(A="pointInBreak"),A&&n(ne,A,{point:M,brk:X}))})})})}}function G(){var ne=this.currentDataGrouping,K=ne&&ne.gapSize;ne=this.points.slice();const L=this.yAxis;let E=this.options.gapSize,w=ne.length-1;var g;if(E&&0<w)for(this.options.gapUnit!=="value"&&(E*=this.basePointRange),K&&K>E&&K>=this.basePointRange&&(E=K);w--;)g&&g.visible!==!1||(g=ne[w+1]),K=ne[w],g.visible!==!1&&K.visible!==!1&&(g.x-K.x>E&&(g=(K.x+g.x)/2,ne.splice(w+1,0,{isNull:!0,x:g}),L.stacking&&this.options.stacking&&(g=L.stacking.stacks[this.stackKey][g]=new a(L,L.options.stackLabels,!1,g,this.stack),g.total=0)),g=K);return this.getGraphPath(ne)}const q=[];H.compose=function(ne,K){if(o.pushUnique(q,ne)&&(ne.keepProps.push("brokenAxis"),u(ne,"init",U),u(ne,"afterInit",Y),u(ne,"afterSetTickPositions",B),u(ne,"afterSetOptions",I)),o.pushUnique(q,K)){const L=K.prototype;L.drawBreaks=P,L.gappedPath=G,u(K,"afterGeneratePoints",T),u(K,"afterRender",C)}return ne};class N{static isInBreak(K,L){const E=K.repeat||1/0,w=K.from,g=K.to-K.from;return L=L>=w?(L-w)%E:E-(w-L)%E,K.inclusive?L<=g:L<g&&L!==0}static lin2Val(K){var L=this.brokenAxis;if(L=L&&L.breakArray,!L||!j(K))return K;let E,w;for(w=0;w<L.length&&(E=L[w],!(E.from>=K));w++)(E.to<K||N.isInBreak(E,K))&&(K+=E.len);return K}static val2Lin(K){var L=this.brokenAxis;if(L=L&&L.breakArray,!L||!j(K))return K;let E=K,w,g;for(g=0;g<L.length;g++)if(w=L[g],w.to<=K)E-=w.len;else{if(w.from>=K)break;if(N.isInBreak(w,K)){E-=K-w.from;break}}return E}constructor(K){this.hasBreaks=!1,this.axis=K}findBreakAt(K,L){return d(L,function(E){return E.from<K&&K<E.to})}isInAnyBreak(K,L){const E=this.axis,w=E.options.breaks||[];let g=w.length,A,m,y;if(g&&j(K)){for(;g--;)N.isInBreak(w[g],K)&&(A=!0,m||(m=Z(w[g].showPoints,!E.isXAxis)));y=A&&L?A&&!m:A}return y}setBreaks(K,L){const E=this,w=E.axis,g=k(K)&&!!K.length;w.isDirty=E.hasBreaks!==g,E.hasBreaks=g,w.options.breaks=w.userOptions.breaks=K,w.forceRedraw=!0,w.series.forEach(function(A){A.isDirty=!0}),g||w.val2lin!==N.val2Lin||(delete w.val2lin,delete w.lin2val),g&&(w.userOptions.ordinal=!1,w.lin2val=N.lin2Val,w.val2lin=N.val2Lin,w.setExtremes=function(A,m,y,x,M){if(E.hasBreaks){const X=this.options.breaks||[];let re;for(;re=E.findBreakAt(A,X);)A=re.to;for(;re=E.findBreakAt(m,X);)m=re.from;m<A&&(m=A)}w.constructor.prototype.setExtremes.call(this,A,m,y,x,M)},w.setAxisTranslation=function(){if(w.constructor.prototype.setAxisTranslation.call(this),E.unitLength=void 0,E.hasBreaks){const A=w.options.breaks||[],m=[],y=[],x=Z(w.pointRangePadding,0);let M=0,X,re,ee=w.userMin||w.min,he=w.userMax||w.max,ye,Ce;A.forEach(function(oe){re=oe.repeat||1/0,j(ee)&&j(he)&&(N.isInBreak(oe,ee)&&(ee+=oe.to%re-ee%re),N.isInBreak(oe,he)&&(he-=he%re-oe.from%re))}),A.forEach(function(oe){if(ye=oe.from,re=oe.repeat||1/0,j(ee)&&j(he)){for(;ye-re>ee;)ye-=re;for(;ye<ee;)ye+=re;for(Ce=ye;Ce<he;Ce+=re)m.push({value:Ce,move:"in"}),m.push({value:Ce+oe.to-oe.from,move:"out",size:oe.breakSize})}}),m.sort(function(oe,de){return oe.value===de.value?(oe.move==="in"?0:1)-(de.move==="in"?0:1):oe.value-de.value}),X=0,ye=ee,m.forEach(function(oe){X+=oe.move==="in"?1:-1,X===1&&oe.move==="in"&&(ye=oe.value),X===0&&j(ye)&&(y.push({from:ye,to:oe.value,len:oe.value-ye-(oe.size||0)}),M+=oe.value-ye-(oe.size||0))}),E.breakArray=y,j(ee)&&j(he)&&j(w.min)&&(E.unitLength=he-ee-M+x,n(w,"afterBreaks"),w.staticScale?w.transA=w.staticScale:E.unitLength&&(w.transA*=(he-w.min+x)/E.unitLength),x&&(w.minPixelPadding=w.transA*(w.minPointOffset||0)),w.min=ee,w.max=he)}}),Z(L,!0)&&w.chart.redraw()}}H.Additions=N}(z||(z={})),z}),i(t,"masters/modules/broken-axis.src.js",[t["Core/Globals.js"],t["Core/Axis/BrokenAxis.js"]],function(a,o){o.compose(a.Axis,a.Series)}),i(t,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),i(t,"Extensions/DataGrouping/ApproximationDefaults.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Core/Utilities.js"]],function(a,o){function u(H){const Y=H.length;return H=d(H),z(H)&&Y&&(H=j(H/Y)),H}function d(H){let Y=H.length,I;if(!Y&&H.hasNulls)I=null;else if(Y)for(I=0;Y--;)I+=H[Y];return I}const{arrayMax:n,arrayMin:k,correctFloat:j,extend:Z,isNumber:z}=o;return o={average:u,averages:function(){const H=[];return[].forEach.call(arguments,function(Y){H.push(u(Y))}),typeof H[0]>"u"?void 0:H},close:function(H){return H.length?H[H.length-1]:H.hasNulls?null:void 0},high:function(H){return H.length?n(H):H.hasNulls?null:void 0},hlc:function(H,Y,I){if(H=a.high(H),Y=a.low(Y),I=a.close(I),z(H)||z(Y)||z(I))return[H,Y,I]},low:function(H){return H.length?k(H):H.hasNulls?null:void 0},ohlc:function(H,Y,I,B){if(H=a.open(H),Y=a.high(Y),I=a.low(I),B=a.close(B),z(H)||z(Y)||z(I)||z(B))return[H,Y,I,B]},open:function(H){return H.length?H[0]:H.hasNulls?null:void 0},range:function(H,Y){if(H=a.low(H),Y=a.high(Y),z(H)||z(Y))return[H,Y];if(H===null&&Y===null)return null},sum:d},Z(a,o),o}),i(t,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %e %b, %H:%M:%S.%L","%A, %e %b, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %e %b, %H:%M:%S","%A, %e %b, %H:%M:%S","-%H:%M:%S"],minute:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],hour:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],day:["%A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],week:["Week from %A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),i(t,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Utilities.js"]],function(a,o){function u(B){const U=this,T=U.series;T.forEach(function(C){C.groupPixelWidth=void 0}),T.forEach(function(C){C.groupPixelWidth=U.getGroupPixelWidth&&U.getGroupPixelWidth(),C.groupPixelWidth&&(C.hasProcessed=!0),C.applyGrouping(!!B.hasExtremesChanged)})}function d(){const B=this.series;let U=B.length,T=0,C=!1,P,G;for(;U--;)(G=B[U].options.dataGrouping)&&(T=Math.max(T,H(G.groupPixelWidth,a.common.groupPixelWidth)),P=(B[U].processedXData||B[U].data).length,(B[U].groupPixelWidth||P>this.chart.plotSizeX/T||P&&G.forced)&&(C=!0));return C?T:0}function n(){this.series.forEach(function(B){B.hasProcessed=!1})}function k(B,U){let T;if(U=H(U,!0),B||(B={forced:!1,units:null}),this instanceof I)for(T=this.series.length;T--;)this.series[T].update({dataGrouping:B},!1);else this.chart.options.series.forEach(function(C){C.dataGrouping=typeof B=="boolean"?B:z(B,C.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),U&&this.chart.redraw()}const{addEvent:j,extend:Z,merge:z,pick:H}=o,Y=[];let I;return{compose:function(B){I=B,o.pushUnique(Y,B)&&(j(B,"afterSetScale",n),j(B,"postProcessData",u),Z(B.prototype,{applyGrouping:u,getGroupPixelWidth:d,setDataGrouping:k}))}}}),i(t,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Axis/DateTimeAxis.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,o,u,d,n,k){function j(L){var E=this.chart,w=this.options.dataGrouping,g=this.allowDG!==!1&&w&&N(w.enabled,E.options.isStock),A=this.visible||!E.options.chart.ignoreHiddenSeries;const m=this.currentDataGrouping;var y=!1;if(g&&!this.requireSorting&&(this.requireSorting=y=!0),L=!!(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!L)||!g,y&&(this.requireSorting=!1),!L){this.destroyGroupedData(),L=w.groupAll?this.xData:this.processedXData,g=w.groupAll?this.yData:this.processedYData;var x=E.plotSizeX;y=this.xAxis;var M=y.options.ordinal,X=this.groupPixelWidth,re;let fe;if(X&&L&&L.length&&x){this.isDirty=fe=!0,this.points=null;var ee=y.getExtremes(),he=ee.min;ee=ee.max,M=M&&y.ordinal&&y.ordinal.getGroupIntervalFactor(he,ee,this)||1,x=y.getTimeTicks(u.Additions.prototype.normalizeTimeTickInterval(X*(ee-he)/x*M,w.units||o.units),Math.min(he,L[0]),Math.max(ee,L[L.length-1]),y.options.startOfWeek,L,this.closestPointRange),X=B.groupData.apply(this,[L,g,x,w.approximation]),L=X.groupedXData,g=X.groupedYData,M=0,w&&w.smoothed&&L.length&&(w.firstAnchor="firstPoint",w.anchor="middle",w.lastAnchor="lastPoint",C(32,!1,E,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),E=L;var ye=ee,Ce=this.options.dataGrouping;if(ee=this.currentDataGrouping&&this.currentDataGrouping.gapSize,Ce&&this.xData&&ee&&this.groupMap){he=E.length-1;var oe=Ce.anchor;const ue=N(Ce.firstAnchor,oe);if(Ce=N(Ce.lastAnchor,oe),oe&&oe!=="start"){var de=ee*{middle:.5,end:1}[oe];for(oe=E.length-1;oe--&&0<oe;)E[oe]+=de}ue&&ue!=="start"&&this.xData[0]>=E[0]&&(oe=this.groupMap[0].start,de=this.groupMap[0].length,G(oe)&&G(de)&&(re=oe+(de-1)),E[0]={middle:E[0]+.5*ee,end:E[0]+ee,firstPoint:this.xData[0],lastPoint:re&&this.xData[re]}[ue]),Ce&&Ce!=="start"&&ee&&E[he]>=ye-ee&&(re=this.groupMap[this.groupMap.length-1].start,E[he]={middle:E[he]+.5*ee,end:E[he]+ee,firstPoint:re&&this.xData[re],lastPoint:this.xData[this.xData.length-1]}[Ce])}for(re=1;re<x.length;re++)x.info.segmentStarts&&x.info.segmentStarts.indexOf(re)!==-1||(M=Math.max(x[re]-x[re-1],M));ee=x.info,ee.gapSize=M,this.closestPointRange=x.info.totalRange,this.groupMap=X.groupMap,A&&(A=y,re=L,T(re[0])&&G(A.min)&&G(A.dataMin)&&re[0]<A.min&&((!T(A.options.min)&&A.min<=A.dataMin||A.min===A.dataMin)&&(A.min=Math.min(re[0],A.min)),A.dataMin=Math.min(re[0],A.dataMin)),T(re[re.length-1])&&G(A.max)&&G(A.dataMax)&&re[re.length-1]>A.max&&((!T(A.options.max)&&G(A.dataMax)&&A.max>=A.dataMax||A.max===A.dataMax)&&(A.max=Math.max(re[re.length-1],A.max)),A.dataMax=Math.max(re[re.length-1],A.dataMax))),w.groupAll&&(this.allGroupedData=g,w=this.cropData(L,g,y.min,y.max,1),L=w.xData,g=w.yData,this.cropStart=w.start),this.processedXData=L,this.processedYData=g}else this.groupMap=null;this.hasGroupedData=fe,this.currentDataGrouping=ee,this.preventGraphAnimation=(m&&m.totalRange)!==(ee&&ee.totalRange)}}function Z(){this.groupedData&&(this.groupedData.forEach(function(L,E){L&&(this.groupedData[E]=L.destroy?L.destroy():null)},this),this.groupedData.length=0)}function z(){ne.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function H(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")?"sum":"average"}function Y(L,E,w,g){const A=this,m=A.data,y=A.options&&A.options.data,x=[],M=[],X=[],re=L.length,ee=!!E,he=[],ye=A.pointArrayMap,Ce=ye&&ye.length,oe=["x"].concat(ye||["y"]),de=this.options.dataGrouping&&this.options.dataGrouping.groupAll;let fe=0,ue=0;if(g=typeof g=="function"?g:g&&a[g]?a[g]:a[A.getDGApproximation&&A.getDGApproximation()||"average"],Ce)for(var pe=ye.length;pe--;)he.push([]);else he.push([]);pe=Ce||1;for(let xe=0;xe<=re;xe++)if(!(L[xe]<w[0])){for(;typeof w[fe+1]<"u"&&L[xe]>=w[fe+1]||xe===re;){var te=w[fe];A.dataGroupInfo={start:de?ue:A.cropStart+ue,length:he[0].length};var ge=g.apply(A,he);for(A.pointClass&&!T(A.dataGroupInfo.options)&&(A.dataGroupInfo.options=q(A.pointClass.prototype.optionsToObject.call({series:A},A.options.data[A.cropStart+ue])),oe.forEach(function(ce){delete A.dataGroupInfo.options[ce]})),typeof ge<"u"&&(x.push(te),M.push(ge),X.push(A.dataGroupInfo)),ue=xe,te=0;te<pe;te++)he[te].length=0,he[te].hasNulls=!1;if(fe+=1,xe===re)break}if(xe===re)break;if(ye){te=A.options.dataGrouping&&A.options.dataGrouping.groupAll?xe:A.cropStart+xe,te=m&&m[te]||A.pointClass.prototype.applyOptions.apply({series:A},[y[te]]);for(let ce=0;ce<Ce;ce++)ge=te[ye[ce]],G(ge)?he[ce].push(ge):ge===null&&(he[ce].hasNulls=!0)}else te=ee?E[xe]:null,G(te)?he[0].push(te):te===null&&(he[0].hasNulls=!0)}return{groupedXData:x,groupedYData:M,groupMap:X}}function I(L){L=L.options;const E=this.type,w=this.chart.options.plotOptions,g=this.useCommonDataGrouping&&o.common,A=o.seriesSpecific;let m=d.defaultOptions.plotOptions[E].dataGrouping;if(w&&(A[E]||g)){const y=this.chart.rangeSelector;m||(m=q(o.common,A[E])),L.dataGrouping=q(g,m,w.series&&w.series.dataGrouping,w[E].dataGrouping,this.userOptions.dataGrouping,!L.isInternal&&y&&G(y.selected)&&y.buttonOptions[y.selected].dataGrouping)}}const{series:{prototype:B}}=n,{addEvent:U,defined:T,error:C,extend:P,isNumber:G,merge:q,pick:N}=k,ne=B.generatePoints,K=[];return{compose:function(L){const E=L.prototype.pointClass;k.pushUnique(K,E)&&U(E,"update",function(){if(this.dataGroup)return C(24,!1,this.series.chart),!1}),k.pushUnique(K,L)&&(U(L,"afterSetOptions",I),U(L,"destroy",Z),P(L.prototype,{applyGrouping:j,destroyGroupedData:Z,generatePoints:z,getDGApproximation:H,groupData:Y}))},groupData:Y}}),i(t,"Extensions/DataGrouping/DataGrouping.js",[t["Extensions/DataGrouping/DataGroupingAxisComposition.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],function(a,o,u,d,n){function k(I){const B=this.chart,U=B.time,T=I.labelConfig,C=T.series;var P=C.tooltipOptions,G=C.options.dataGrouping;const q=C.xAxis;var N=P.xDateFormat;let ne,K,L=P[I.isFooter?"footerFormat":"headerFormat"];q&&q.options.type==="datetime"&&G&&H(T.key)&&(K=C.currentDataGrouping,G=G.dateTimeLabelFormats||o.common.dateTimeLabelFormats,K?(P=G[K.unitName],K.count===1?N=P[0]:(N=P[1],ne=P[2])):!N&&G&&q.dateTime&&(N=q.dateTime.getXDateFormat(T.x,P.dateTimeLabelFormats)),N=U.dateFormat(N,T.key),ne&&(N+=U.dateFormat(ne,T.key+K.totalRange-1)),C.chart.styledMode&&(L=this.styledModeFormat(L)),I.text=j(L,{point:z(T.point,{key:N}),series:C},B),I.preventDefault())}const{format:j}=d,{addEvent:Z,extend:z,isNumber:H}=n,Y=[];return d={compose:function(I,B,U){a.compose(I),u.compose(B),U&&n.pushUnique(Y,U)&&Z(U,"headerFormatter",k)},groupData:u.groupData},d}),i(t,"masters/modules/datagrouping.src.js",[t["Core/Globals.js"],t["Extensions/DataGrouping/ApproximationDefaults.js"],t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGrouping.js"]],function(a,o,u,d){a.dataGrouping={approximationDefaults:o,approximations:u},d.compose(a.Axis,a.Series,a.Tooltip)}),i(t,"Series/DataModifyComposition.js",[t["Core/Axis/Axis.js"],t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(a,o,u,d){const{prototype:{tooltipFormatter:n}}=o,{addEvent:k,arrayMax:j,arrayMin:Z,correctFloat:z,defined:H,isArray:Y,isNumber:I,isString:B,pick:U}=d;var T;return function(C){function P(m,y,x){this.isXAxis||(this.series.forEach(function(M){m==="compare"&&typeof y!="boolean"?M.setCompare(y,!1):m!=="cumulative"||B(y)||M.setCumulative(y,!1)}),U(x,!0)&&this.chart.redraw())}function G(m){const y=this,{numberFormatter:x}=y.series.chart,M=function(X){m=m.replace("{point."+X+"}",(0<y[X]&&X==="change"?"+":"")+x(y[X],U(y.series.tooltipOptions.changeDecimals,2)))};return H(y.change)&&M("change"),H(y.cumulativeSum)&&M("cumulativeSum"),n.apply(this,[m])}function q(){const m=this.options.compare;let y;(m==="percent"||m==="value"||this.options.cumulative)&&(y=new A(this),m==="percent"||m==="value"?y.initCompare(m):y.initCumulative()),this.dataModify=y}function N(m){m=m.dataExtremes;const y=m.activeYData;if(this.dataModify&&m){let x;this.options.compare?x=[this.dataModify.modifyValue(m.dataMin),this.dataModify.modifyValue(m.dataMax)]:this.options.cumulative&&Y(y)&&2<=y.length&&(x=A.getCumulativeExtremes(y)),x&&(m.dataMin=Z(x),m.dataMax=j(x))}}function ne(m,y){this.options.compare=this.userOptions.compare=m,this.update({},U(y,!0)),!this.dataModify||m!=="value"&&m!=="percent"?this.points.forEach(x=>{delete x.change}):this.dataModify.initCompare(m)}function K(){if(this.xAxis&&this.processedYData&&this.dataModify){const m=this.processedXData,y=this.processedYData,x=y.length,M=this.options.compareStart===!0?0:1;let X=-1,re;for(this.pointArrayMap&&(X=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),re=0;re<x-M;re++){const ee=y[re]&&-1<X?y[re][X]:y[re];if(I(ee)&&ee!==0&&m[re+M]>=(this.xAxis.min||0)){this.dataModify.compareValue=ee;break}}}}function L(m,y){this.setModifier("compare",m,y)}function E(m,y){m=U(m,!1),this.options.cumulative=this.userOptions.cumulative=m,this.update({},U(y,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(x=>{delete x.cumulativeSum})}function w(m,y){this.setModifier("cumulative",m,y)}const g=[];C.compose=function(m,y,x){if(d.pushUnique(g,m)){const M=m.prototype;M.setCompare=ne,M.setCumulative=E,k(m,"afterInit",q),k(m,"afterGetExtremes",N),k(m,"afterProcessData",K)}return d.pushUnique(g,y)&&(y=y.prototype,y.setCompare=L,y.setModifier=P,y.setCumulative=w),d.pushUnique(g,x)&&(x.prototype.tooltipFormatter=G),m};class A{constructor(y){this.series=y}modifyValue(){return 0}static getCumulativeExtremes(y){let x=1/0,M=-1/0;return y.reduce((X,re)=>(re=X+re,x=Math.min(x,re,X),M=Math.max(M,re,X),re)),[x,M]}initCompare(y){this.modifyValue=function(x,M){x===null&&(x=0);const X=this.compareValue;return typeof x<"u"&&typeof X<"u"?(x=y==="value"?x-X:x/X*100-(this.series.options.compareBase===100?0:100),typeof M<"u"&&(M=this.series.points[M])&&(M.change=x),x):0}}initCumulative(){this.modifyValue=function(y,x){if(y===null&&(y=0),y!==void 0&&x!==void 0){const M=0<x?this.series.points[x-1]:null;return M&&M.cumulativeSum&&(y=z(M.cumulativeSum+y)),(x=this.series.points[x])&&(x.cumulativeSum=y),y}return 0}}}C.Additions=A}(T||(T={})),T}),i(t,"Core/Axis/NavigatorAxisComposition.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(a,o){function u(){this.navigatorAxis||(this.navigatorAxis=new I(this))}function d(B){var U=this.chart.options,T=U.navigator;const C=this.navigatorAxis,P=U.chart.zooming.pinchType,G=U.rangeSelector;U=U.chart.zooming.type,this.isXAxis&&(T&&T.enabled||G&&G.enabled)&&(U==="y"?B.zoomed=!1:(!n&&U==="xy"||n&&P==="xy")&&this.options.range&&(T=C.previousZoom,Z(B.newMin)?C.previousZoom=[this.min,this.max]:T&&(B.newMin=T[0],B.newMax=T[1],C.previousZoom=void 0))),typeof B.zoomed<"u"&&B.preventDefault()}const{isTouchDevice:n}=a,{addEvent:k,correctFloat:j,defined:Z,isNumber:z,pick:H}=o,Y=[];class I{static compose(U){o.pushUnique(Y,U)&&(U.keepProps.push("navigatorAxis"),k(U,"init",u),k(U,"zoom",d))}constructor(U){this.axis=U}destroy(){this.axis=void 0}toFixedRange(U,T,C,P){var G=this.axis,q=G.chart;U=H(C,G.translate(U,!0,!G.horiz)),T=H(P,G.translate(T,!0,!G.horiz)),q=q&&q.fixedRange,G=(G.pointRange||0)/2;const N=q&&(T-U)/q;return Z(C)||(U=j(U+G)),Z(P)||(T=j(T-G)),.7<N&&1.3>N&&(P?U=T-q:T=U+q),z(U)&&z(T)||(U=T=void 0),{min:U,max:T}}}return I}),i(t,"Stock/Navigator/NavigatorDefaults.js",[t["Core/Color/Color.js"],t["Core/Series/SeriesRegistry.js"]],function(a,o){return{parse:a}=a,{seriesTypes:o}=o,o={height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:a("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:typeof o.areaspline>"u"?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}},o}),i(t,"Stock/Navigator/NavigatorSymbols.js",[],function(){return{"navigator-handle":function(a,o,u,d,n={}){return a=n.width?n.width/2:u,o=Math.round(a/3)+.5,d=n.height||d,[["M",-a-1,.5],["L",a,.5],["L",a,d+.5],["L",-a-1,d+.5],["L",-a-1,.5],["M",-o,4],["L",-o,d-3],["M",o-1,4],["L",o-1,d-3]]}}}),i(t,"Stock/Navigator/NavigatorComposition.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/Navigator/NavigatorSymbols.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Utilities.js"]],function(a,o,u,d,n,k,j){function Z(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function z(){var g;const A=this.legend,m=this.navigator;let y,x,M;if(m){y=A&&A.options,x=m.xAxis,M=m.yAxis;const{scrollbarHeight:X,scrollButtonSize:re}=m;this.inverted?(m.left=m.opposite?this.chartWidth-X-m.height:this.spacing[3]+X,m.top=this.plotTop+re):(m.left=L(x.left,this.plotLeft+re),m.top=m.navigatorOptions.top||this.chartHeight-m.height-X-(((g=this.scrollbar)===null||g===void 0?void 0:g.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(y&&y.verticalAlign==="bottom"&&y.layout!=="proximate"&&y.enabled&&!y.floating?A.legendHeight+L(y.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),x&&M&&(this.inverted?x.options.left=M.options.left=m.left:x.options.top=M.options.top=m.top,x.setAxisSize(),M.setAxisSize())}}function H(g){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new w(this),L(g.redraw,!0)&&this.redraw(g.animation))}function Y(){const g=this.options;(g.navigator.enabled||g.scrollbar.enabled)&&(this.scroller=this.navigator=new w(this))}function I(){const g=this.options,A=g.navigator,m=g.rangeSelector;if((A&&A.enabled||m&&m.enabled)&&(!G&&g.chart.zooming.type==="x"||G&&g.chart.zooming.pinchType==="x"))return!1}function B(g){const A=g.navigator;A&&g.xAxis[0]&&(g=g.xAxis[0].getExtremes(),A.render(g.min,g.max))}function U(g){const A=g.options.navigator||{},m=g.options.scrollbar||{};this.navigator||this.scroller||!A.enabled&&!m.enabled||(K(!0,this.options.navigator,A),K(!0,this.options.scrollbar,m),delete g.options.navigator,delete g.options.scrollbar)}function T(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}const{defaultOptions:C,setOptions:P}=a,{isTouchDevice:G}=o,{getRendererType:q}=k,{addEvent:N,extend:ne,merge:K,pick:L}=j,E=[];let w;return{compose:function(g,A,m,y){u.compose(g),w=m,j.pushUnique(E,A)&&(A.prototype.callbacks.push(B),N(A,"afterAddSeries",Z),N(A,"afterSetChartSize",z),N(A,"afterUpdate",H),N(A,"beforeRender",Y),N(A,"beforeShowResetZoom",I),N(A,"update",U)),j.pushUnique(E,y)&&N(y,"afterUpdate",T),j.pushUnique(E,q)&&ne(q().prototype.symbols,n),j.pushUnique(E,P)&&ne(C,{navigator:d})}}}),i(t,"Core/Axis/ScrollbarAxis.js",[t["Core/Utilities.js"]],function(a){const{addEvent:o,defined:u,pick:d}=a,n=[];class k{static compose(Z,z){if(!a.pushUnique(n,Z))return Z;const H=Y=>{const I=d(Y.options&&Y.options.min,Y.min),B=d(Y.options&&Y.options.max,Y.max);return{axisMin:I,axisMax:B,scrollMin:u(Y.dataMin)?Math.min(I,Y.min,Y.dataMin,d(Y.threshold,1/0)):I,scrollMax:u(Y.dataMax)?Math.max(B,Y.max,Y.dataMax,d(Y.threshold,-1/0)):B}};return o(Z,"afterInit",function(){const Y=this;Y.options&&Y.options.scrollbar&&Y.options.scrollbar.enabled&&(Y.options.scrollbar.vertical=!Y.horiz,Y.options.startOnTick=Y.options.endOnTick=!1,Y.scrollbar=new z(Y.chart.renderer,Y.options.scrollbar,Y.chart),o(Y.scrollbar,"changed",function(I){let{axisMin:B,axisMax:U,scrollMin:T,scrollMax:C}=H(Y);var P=C-T;let G;u(B)&&u(U)&&(Y.horiz&&!Y.reversed||!Y.horiz&&Y.reversed?(G=T+P*this.to,P=T+P*this.from):(G=T+P*(1-this.from),P=T+P*(1-this.to)),this.shouldUpdateExtremes(I.DOMType)?Y.setExtremes(P,G,!0,I.DOMType==="mousemove"||I.DOMType==="touchmove"?!1:void 0,I):this.setRange(this.from,this.to))}))}),o(Z,"afterRender",function(){let{scrollMin:Y,scrollMax:I}=H(this),B=this.scrollbar;var U=this.axisTitleMargin+(this.titleOffset||0),T=this.chart.scrollbarsOffsets;let C=this.options.margin||0;B&&(this.horiz?(this.opposite||(T[1]+=U),B.position(this.left,this.top+this.height+2+T[1]-(this.opposite?C:0),this.width,this.height),this.opposite||(T[1]+=C),U=1):(this.opposite&&(T[0]+=U),B.position(B.options.opposite?this.left+this.width+2+T[0]-(this.opposite?0:C):this.opposite?0:C,this.top,this.width,this.height),this.opposite&&(T[0]+=C),U=0),T[U]+=B.size+(B.options.margin||0),isNaN(Y)||isNaN(I)||!u(this.min)||!u(this.max)||this.min===this.max?B.setRange(0,1):(T=(this.min-Y)/(I-Y),U=(this.max-Y)/(I-Y),this.horiz&&!this.reversed||!this.horiz&&this.reversed?B.setRange(T,U):B.setRange(1-U,1-T)))}),o(Z,"afterGetOffset",function(){const Y=this.scrollbar;var I=Y&&!Y.options.opposite;I=this.horiz?2:I?3:1,Y&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[I]+=Y.size+(Y.options.margin||0))}),Z}}return k}),i(t,"Stock/Scrollbar/ScrollbarDefaults.js",[t["Core/Globals.js"]],function(a){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),i(t,"Stock/Scrollbar/Scrollbar.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/ScrollbarAxis.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Utilities.js"]],function(a,o,u,d,n){const{defaultOptions:k}=a,{addEvent:j,correctFloat:Z,defined:z,destroyObjectProperties:H,fireEvent:Y,merge:I,pick:B,removeEvent:U}=n;class T{static compose(P){u.compose(P,T)}static swapXY(P,G){return G&&P.forEach(q=>{const N=q.length;let ne;for(let K=0;K<N;K+=2)ne=q[K+1],typeof ne=="number"&&(q[K+1]=q[K+2],q[K+2]=ne)}),P}constructor(P,G,q){this._events=[],this.chart=void 0,this.from=this.chartY=this.chartX=0,this.scrollbar=this.renderer=this.options=this.group=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.to=this.size=this.scrollbarTop=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.y=this.x=0,this.init(P,G,q)}addEvents(){var P=this.options.inverted?[1,0]:[0,1];const G=this.scrollbarButtons,q=this.scrollbarGroup.element,N=this.track.element,ne=this.mouseDownHandler.bind(this),K=this.mouseMoveHandler.bind(this),L=this.mouseUpHandler.bind(this);P=[[G[P[0]].element,"click",this.buttonToMinClick.bind(this)],[G[P[1]].element,"click",this.buttonToMaxClick.bind(this)],[N,"click",this.trackClick.bind(this)],[q,"mousedown",ne],[q.ownerDocument,"mousemove",K],[q.ownerDocument,"mouseup",L]],o.hasTouch&&P.push([q,"touchstart",ne],[q.ownerDocument,"touchmove",K],[q.ownerDocument,"touchend",L]),P.forEach(function(E){j.apply(null,E)}),this._events=P}buttonToMaxClick(P){const G=(this.to-this.from)*B(this.options.step,.2);this.updatePosition(this.from+G,this.to+G),Y(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:P})}buttonToMinClick(P){const G=Z(this.to-this.from)*B(this.options.step,.2);this.updatePosition(Z(this.from-G),Z(this.to-G)),Y(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:P})}cursorToScrollbarPosition(P){var G=this.options;return G=G.minWidth>this.calculatedWidth?G.minWidth:0,{chartX:(P.chartX-this.x-this.xOffset)/(this.barWidth-G),chartY:(P.chartY-this.y-this.yOffset)/(this.barWidth-G)}}destroy(){const P=this,G=P.chart.scroller;P.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(q){P[q]&&P[q].destroy&&(P[q]=P[q].destroy())}),G&&P===G.scrollbar&&(G.scrollbar=null,H(G.scrollbarButtons))}drawScrollbarButton(P){const G=this.renderer,q=this.scrollbarButtons,N=this.options,ne=this.size;var K=G.g().add(this.group);q.push(K),N.buttonsEnabled&&(K=G.rect().addClass("highcharts-scrollbar-button").add(K),this.chart.styledMode||K.attr({stroke:N.buttonBorderColor,"stroke-width":N.buttonBorderWidth,fill:N.buttonBackgroundColor}),K.attr(K.crisp({x:-.5,y:-.5,width:ne+1,height:ne+1,r:N.buttonBorderRadius},K.strokeWidth())),P=G.path(T.swapXY([["M",ne/2+(P?-1:1),ne/2-3],["L",ne/2+(P?-1:1),ne/2+3],["L",ne/2+(P?2:-2),ne/2]],N.vertical)).addClass("highcharts-scrollbar-arrow").add(q[P]),this.chart.styledMode||P.attr({fill:N.buttonArrowColor}))}init(P,G,q){this.scrollbarButtons=[],this.renderer=P,this.userOptions=G,this.options=I(d,k.scrollbar,G),this.options.margin=B(this.options.margin,10),this.chart=q,this.size=B(this.options.size,this.options.height),G.enabled&&(this.render(),this.addEvents())}mouseDownHandler(P){P=this.chart.pointer.normalize(P),P=this.cursorToScrollbarPosition(P),this.chartX=P.chartX,this.chartY=P.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(P){var G=this.chart.pointer.normalize(P),q=this.options.vertical?"chartY":"chartX";const N=this.initPositions||[];!this.grabbedCenter||P.touches&&P.touches[0][q]===0||(G=this.cursorToScrollbarPosition(G)[q],q=this[q],q=G-q,this.hasDragged=!0,this.updatePosition(N[0]+q,N[1]+q),this.hasDragged&&Y(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:P.type,DOMEvent:P}))}mouseUpHandler(P){this.hasDragged&&Y(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:P.type,DOMEvent:P}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(P,G,q,N){const{buttonsEnabled:ne,margin:K=0,vertical:L}=this.options,E=this.rendered?"animate":"attr";let w=N,g=0;this.group.show(),this.x=P,this.y=G+this.trackBorderWidth,this.width=q,this.height=N,this.xOffset=w,this.yOffset=g,L?(this.width=this.yOffset=q=this.size,this.xOffset=w=0,this.yOffset=g=ne?this.size:0,this.barWidth=N-(ne?2*q:0),this.x=P+=K):(this.height=N=this.size,this.xOffset=w=ne?this.size:0,this.barWidth=q-(ne?2*N:0),this.y+=K),this.group[E]({translateX:P,translateY:this.y}),this.track[E]({width:q,height:N}),this.scrollbarButtons[1][E]({translateX:L?0:q-w,translateY:L?N-g:0})}removeEvents(){this._events.forEach(function(P){U.apply(null,P)}),this._events.length=0}render(){const P=this.renderer,G=this.options,q=this.size,N=this.chart.styledMode,ne=P.g("scrollbar").attr({zIndex:G.zIndex}).hide().add();this.group=ne,this.track=P.rect().addClass("highcharts-scrollbar-track").attr({r:G.trackBorderRadius||0,height:q,width:q}).add(ne),N||this.track.attr({fill:G.trackBackgroundColor,stroke:G.trackBorderColor,"stroke-width":G.trackBorderWidth});const K=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-K%2/2,y:-K%2/2}),this.scrollbarGroup=P.g().add(ne),this.scrollbar=P.rect().addClass("highcharts-scrollbar-thumb").attr({height:q-K,width:q-K,r:G.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=P.path(T.swapXY([["M",-3,q/4],["L",-3,2*q/3],["M",0,q/4],["L",0,2*q/3],["M",3,q/4],["L",3,2*q/3]],G.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),N||(this.scrollbar.attr({fill:G.barBackgroundColor,stroke:G.barBorderColor,"stroke-width":G.barBorderWidth}),this.scrollbarRifles.attr({stroke:G.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(P,G){const q=this.options,N=q.vertical;var ne=q.minWidth,K=this.barWidth;const L=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(z(K)){var E=K*Math.min(G,1);P=Math.max(P,0);var w=Math.ceil(K*P);this.calculatedWidth=E=Z(E-w),E<ne&&(w=(K-ne+E)*P,E=ne),ne=Math.floor(w+this.xOffset+this.yOffset),K=E/2-.5,this.from=P,this.to=G,N?(this.scrollbarGroup[L]({translateY:ne}),this.scrollbar[L]({height:E}),this.scrollbarRifles[L]({translateY:K}),this.scrollbarTop=ne,this.scrollbarLeft=0):(this.scrollbarGroup[L]({translateX:ne}),this.scrollbar[L]({width:E}),this.scrollbarRifles[L]({translateX:K}),this.scrollbarLeft=ne,this.scrollbarTop=0),12>=E?this.scrollbarRifles.hide():this.scrollbarRifles.show(),q.showFull===!1&&(0>=P&&1<=G?this.group.hide():this.group.show()),this.rendered=!0}}shouldUpdateExtremes(P){return B(this.options.liveRedraw,o.svg&&!o.isTouchDevice&&!this.chart.boosted)||P==="mouseup"||P==="touchend"||!z(P)}trackClick(P){const G=this.chart.pointer.normalize(P),q=this.to-this.from,N=this.y+this.scrollbarTop,ne=this.x+this.scrollbarLeft;this.options.vertical&&G.chartY>N||!this.options.vertical&&G.chartX>ne?this.updatePosition(this.from+q,this.to+q):this.updatePosition(this.from-q,this.to-q),Y(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:P})}update(P){this.destroy(),this.init(this.chart.renderer,I(!0,this.options,P),this.chart)}updatePosition(P,G){1<G&&(P=Z(1-Z(G-P)),G=1),0>P&&(G=Z(G-P),P=0),this.from=P,this.to=G}}return T.defaultOptions=d,k.scrollbar=I(!0,T.defaultOptions,k.scrollbar),T}),i(t,"Stock/Navigator/Navigator.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorComposition.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Utilities.js"]],function(a,o,u,d,n,k,j){function Z(A,...m){if(m=[].filter.call(m,ne),m.length)return Math[A].apply(0,m)}const{defaultOptions:z}=o,{hasTouch:H,isTouchDevice:Y}=u,{addEvent:I,clamp:B,correctFloat:U,defined:T,destroyObjectProperties:C,erase:P,extend:G,find:q,isArray:N,isNumber:ne,merge:K,pick:L,removeEvent:E,splat:w}=j;class g{static compose(m,y,x){n.compose(m,y,g,x)}constructor(m){this.rendered=this.range=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=this.height=this.handles=this.chart=this.baseSeries=void 0,this.scrollbarHeight=0,this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.scrollButtonSize=void 0,this.init(m)}drawHandle(m,y,x,M){const X=this.navigatorOptions.handles.height;this.handles[y][M](x?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(m,10)+.5-X)}:{translateX:Math.round(this.left+parseInt(m,10)),translateY:Math.round(this.top+this.height/2-X/2-1)})}drawOutline(m,y,x,M){const X=this.navigatorOptions.maskInside;var re=this.outline.strokeWidth();const ee=re/2;var he=re%2/2;const ye=this.scrollButtonSize,Ce=this.size,oe=this.top;re=this.height;const de=oe-ee,fe=oe+re;let ue=this.left;x?(x=oe+y+he,y=oe+m+he,he=[["M",ue+re,oe-ye-he],["L",ue+re,x],["L",ue,x],["M",ue,y],["L",ue+re,y],["L",ue+re,oe+Ce+ye]],X&&he.push(["M",ue+re,x-ee],["L",ue+re,y+ee])):(ue-=ye,m+=ue+ye-he,y+=ue+ye-he,he=[["M",ue,de],["L",m,de],["L",m,fe],["M",y,fe],["L",y,de],["L",ue+Ce+2*ye,oe+ee]],X&&he.push(["M",m-ee,de],["L",y+ee,de])),this.outline[M]({d:he})}drawMasks(m,y,x,M){const X=this.left,re=this.top,ee=this.height;let he,ye,Ce,oe;x?(Ce=[X,X,X],oe=[re,re+m,re+y],ye=[ee,ee,ee],he=[m,y-m,this.size-y]):(Ce=[X,X+m,X+y],oe=[re,re,re],ye=[m,y-m,this.size-y],he=[ee,ee,ee]),this.shades.forEach((de,fe)=>{de[M]({x:Ce[fe],y:oe[fe],width:ye[fe],height:he[fe]})})}renderElements(){const m=this,y=m.navigatorOptions,x=y.maskInside,M=m.chart,X=M.renderer,re={cursor:M.inverted?"ns-resize":"ew-resize"},ee=m.navigatorGroup=X.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!x,x,!x].forEach((he,ye)=>{const Ce=X.rect().addClass("highcharts-navigator-mask"+(ye===1?"-inside":"-outside")).add(ee);M.styledMode||(Ce.attr({fill:he?y.maskFill:"rgba(0,0,0,0)"}),ye===1&&Ce.css(re)),m.shades[ye]=Ce}),m.outline=X.path().addClass("highcharts-navigator-outline").add(ee),M.styledMode||m.outline.attr({"stroke-width":y.outlineWidth,stroke:y.outlineColor}),y.handles&&y.handles.enabled){const he=y.handles,{height:ye,width:Ce}=he;[0,1].forEach(oe=>{m.handles[oe]=X.symbol(he.symbols[oe],-Ce/2-1,0,Ce,ye,he),M.inverted&&m.handles[oe].attr({rotation:90,rotationOriginX:Math.floor(-Ce/2),rotationOriginY:(ye+Ce)/2}),m.handles[oe].attr({zIndex:7-oe}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][oe]).add(ee),M.styledMode||m.handles[oe].attr({fill:he.backgroundColor,stroke:he.borderColor,"stroke-width":he.lineWidth}).css(re)})}}update(m){(this.series||[]).forEach(y=>{y.baseSeries&&delete y.baseSeries.navigatorSeries}),this.destroy(),K(!0,this.chart.options.navigator,m),this.init(this.chart)}render(m,y,x,M){var X=this.chart;const re=this.xAxis,ee=re.pointRange||0;var he=re.navigatorAxis.fake?X.xAxis[0]:re;const ye=this.navigatorEnabled;var Ce=this.rendered,oe=X.inverted;const de=X.xAxis[0].minRange,fe=X.xAxis[0].options.maxRange,ue=this.scrollButtonSize;let pe=this.scrollbarHeight,te;if(!this.hasDragged||T(x)){if(m=U(m-ee/2),y=U(y+ee/2),!ne(m)||!ne(y))if(Ce)x=0,M=L(re.width,he.width);else return;this.left=L(re.left,X.plotLeft+ue+(oe?X.plotWidth:0));var ge=this.size=te=L(re.len,(oe?X.plotHeight:X.plotWidth)-2*ue);X=oe?pe:te+2*ue,x=L(x,re.toPixels(m,!0)),M=L(M,re.toPixels(y,!0)),ne(x)&&Math.abs(x)!==1/0||(x=0,M=X),m=re.toValue(x,!0),y=re.toValue(M,!0);var xe=Math.abs(U(y-m));xe<de?this.grabbedLeft?x=re.toPixels(y-de-ee,!0):this.grabbedRight&&(M=re.toPixels(m+de+ee,!0)):T(fe)&&U(xe-ee)>fe&&(this.grabbedLeft?x=re.toPixels(y-fe-ee,!0):this.grabbedRight&&(M=re.toPixels(m+fe+ee,!0))),this.zoomedMax=B(Math.max(x,M),0,ge),this.zoomedMin=B(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(x,M),0,ge),this.range=this.zoomedMax-this.zoomedMin,ge=Math.round(this.zoomedMax),x=Math.round(this.zoomedMin),ye&&(this.navigatorGroup.attr({visibility:"inherit"}),Ce=Ce&&!this.hasDragged?"animate":"attr",this.drawMasks(x,ge,oe,Ce),this.drawOutline(x,ge,oe,Ce),this.navigatorOptions.handles.enabled&&(this.drawHandle(x,0,oe,Ce),this.drawHandle(ge,1,oe,Ce))),this.scrollbar&&(oe?(oe=this.top-ue,he=this.left-pe+(ye||!he.opposite?0:(he.titleOffset||0)+he.axisTitleMargin),pe=te+2*ue):(oe=this.top+(ye?this.height:-pe),he=this.left-ue),this.scrollbar.position(he,oe,X,pe),this.scrollbar.setRange(this.zoomedMin/(te||1),this.zoomedMax/(te||1))),this.rendered=!0}}addMouseEvents(){const m=this,y=m.chart,x=y.container;let M=[],X,re;m.mouseMoveHandler=X=function(ee){m.onMouseMove(ee)},m.mouseUpHandler=re=function(ee){m.onMouseUp(ee)},M=m.getPartsEvents("mousedown"),M.push(I(y.renderTo,"mousemove",X),I(x.ownerDocument,"mouseup",re)),H&&(M.push(I(y.renderTo,"touchmove",X),I(x.ownerDocument,"touchend",re)),M.concat(m.getPartsEvents("touchstart"))),m.eventsToUnbind=M,m.series&&m.series[0]&&M.push(I(m.series[0].xAxis,"foundExtremes",function(){y.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(m){const y=this,x=[];return["shades","handles"].forEach(function(M){y[M].forEach(function(X,re){x.push(I(X.element,m,function(ee){y[M+"Mousedown"](ee,re)}))})}),x}shadesMousedown(m,y){m=this.chart.pointer.normalize(m);const x=this.chart,M=this.xAxis,X=this.zoomedMin,re=this.size,ee=this.range;let he=this.left,ye=m.chartX,Ce,oe;x.inverted&&(ye=m.chartY,he=this.top),y===1?(this.grabbedCenter=ye,this.fixedWidth=ee,this.dragOffset=ye-X):(m=ye-he-ee/2,y===0?m=Math.max(0,m):y===2&&m+ee>=re&&(m=re-ee,this.reversedExtremes?(m-=ee,oe=this.getUnionExtremes().dataMin):Ce=this.getUnionExtremes().dataMax),m!==X&&(this.fixedWidth=ee,y=M.navigatorAxis.toFixedRange(m,m+ee,oe,Ce),T(y.min)&&x.xAxis[0].setExtremes(Math.min(y.min,y.max),Math.max(y.min,y.max),!0,null,{trigger:"navigator"})))}handlesMousedown(m,y){this.chart.pointer.normalize(m),m=this.chart;const x=m.xAxis[0],M=this.reversedExtremes;y===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=M?x.min:x.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=M?x.max:x.min),m.fixedRange=null}onMouseMove(m){const y=this;var x=y.chart;const M=y.navigatorSize,X=y.range,re=y.dragOffset,ee=x.inverted;let he=y.left;m.touches&&m.touches[0].pageX===0||(m=x.pointer.normalize(m),x=m.chartX,ee&&(he=y.top,x=m.chartY),y.grabbedLeft?(y.hasDragged=!0,y.render(0,0,x-he,y.otherHandlePos)):y.grabbedRight?(y.hasDragged=!0,y.render(0,0,y.otherHandlePos,x-he)):y.grabbedCenter&&(y.hasDragged=!0,x<re?x=re:x>M+re-X&&(x=M+re-X),y.render(0,0,x-re,x-re+X)),y.hasDragged&&y.scrollbar&&L(y.scrollbar.options.liveRedraw,!Y&&!this.chart.boosted)&&(m.DOMType=m.type,setTimeout(function(){y.onMouseUp(m)},0)))}onMouseUp(m){var y=this.chart,x=this.xAxis,M=this.scrollbar;const X=m.DOMEvent||m,re=y.inverted,ee=this.rendered&&!this.hasDragged?"animate":"attr";let he,ye;(!this.hasDragged||M&&M.hasDragged)&&m.trigger!=="scrollbar"||(M=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?he=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(ye=this.fixedExtreme),this.zoomedMax===this.size&&(ye=this.reversedExtremes?M.dataMin:M.dataMax),this.zoomedMin===0&&(he=this.reversedExtremes?M.dataMax:M.dataMin),x=x.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,he,ye),T(x.min)&&y.xAxis[0].setExtremes(Math.min(x.min,x.max),Math.max(x.min,x.max),!0,this.hasDragged?!1:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:X})),m.DOMType!=="mousemove"&&m.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&ne(this.zoomedMin)&&ne(this.zoomedMax)&&(y=Math.round(this.zoomedMin),m=Math.round(this.zoomedMax),this.shades&&this.drawMasks(y,m,re,ee),this.outline&&this.drawOutline(y,m,re,ee),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(y,0,re,ee),this.drawHandle(m,1,re,ee)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(m){m()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){const m=this.baseSeries||[];this.navigatorEnabled&&m[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&m.forEach(function(y){E(y,"updatedData",this.updatedDataHandler)},this),m[0].xAxis&&E(m[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}init(m){var y=m.options,x=y.navigator||{},M=x.enabled,X=y.scrollbar||{},re=X.enabled;y=M&&x.height||0;var ee=re&&X.height||0;const he=X.buttonsEnabled&&ee||0;this.handles=[],this.shades=[],this.chart=m,this.setBaseSeries(),this.height=y,this.scrollbarHeight=ee,this.scrollButtonSize=he,this.scrollbarEnabled=re,this.navigatorEnabled=M,this.navigatorOptions=x,this.scrollbarOptions=X,this.opposite=L(x.opposite,!(M||!m.inverted));const ye=this;M=ye.baseSeries,X=m.xAxis.length,re=m.yAxis.length,ee=M&&M[0]&&M[0].xAxis||m.xAxis[0]||{options:{}},m.isDirtyBox=!0,ye.navigatorEnabled?(ye.xAxis=new a(m,K({breaks:ee.options.breaks,ordinal:ee.options.ordinal},x.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:X,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},m.inverted?{offsets:[he,0,-he,0],width:y}:{offsets:[0,-he,0,he],height:y})),ye.yAxis=new a(m,K(x.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:re,isInternal:!0,reversed:L(x.yAxis&&x.yAxis.reversed,m.yAxis[0]&&m.yAxis[0].reversed,!1),zoomEnabled:!1},m.inverted?{width:y}:{height:y})),M||x.series.data?ye.updateNavigatorSeries(!1):m.series.length===0&&(ye.unbindRedraw=I(m,"beforeRedraw",function(){0<m.series.length&&!ye.series&&(ye.setBaseSeries(),ye.unbindRedraw())})),ye.reversedExtremes=m.inverted&&!ye.xAxis.reversed||!m.inverted&&ye.xAxis.reversed,ye.renderElements(),ye.addMouseEvents()):(ye.xAxis={chart:m,navigatorAxis:{fake:!0},translate:function(Ce,oe){var de=m.xAxis[0];const fe=de.getExtremes(),ue=de.len-2*he,pe=Z("min",de.options.min,fe.dataMin);return de=Z("max",de.options.max,fe.dataMax)-pe,oe?Ce*de/ue+pe:ue*(Ce-pe)/de},toPixels:function(Ce){return this.translate(Ce)},toValue:function(Ce){return this.translate(Ce,!0)}},ye.xAxis.navigatorAxis.axis=ye.xAxis,ye.xAxis.navigatorAxis.toFixedRange=d.prototype.toFixedRange.bind(ye.xAxis.navigatorAxis)),m.options.scrollbar.enabled&&(x=K(m.options.scrollbar,{vertical:m.inverted}),!ne(x.margin)&&ye.navigatorEnabled&&(x.margin=m.inverted?-3:3),m.scrollbar=ye.scrollbar=new k(m.renderer,x,m),I(ye.scrollbar,"changed",function(Ce){var oe=ye.size;const de=oe*this.to;oe*=this.from,ye.hasDragged=ye.scrollbar.hasDragged,ye.render(0,0,oe,de),this.shouldUpdateExtremes(Ce.DOMType)&&setTimeout(function(){ye.onMouseUp(Ce)})})),ye.addBaseSeriesEvents(),ye.addChartEvents()}getUnionExtremes(m){const y=this.chart.xAxis[0],x=this.xAxis,M=x.options,X=y.options;let re;return m&&y.dataMin===null||(re={dataMin:L(M&&M.min,Z("min",X.min,y.dataMin,x.dataMin,x.min)),dataMax:L(M&&M.max,Z("max",X.max,y.dataMax,x.dataMax,x.max))}),re}setBaseSeries(m,y){const x=this.chart,M=this.baseSeries=[];m=m||x.options&&x.options.navigator.baseSeries||(x.series.length?q(x.series,X=>!X.options.isInternal).index:0),(x.series||[]).forEach((X,re)=>{X.options.isInternal||!X.options.showInNavigator&&(re!==m&&X.options.id!==m||X.options.showInNavigator===!1)||M.push(X)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,y)}updateNavigatorSeries(m,y){const x=this,M=x.chart,X=x.baseSeries,re={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},ee=x.series=(x.series||[]).filter(de=>{const fe=de.baseSeries;return 0>X.indexOf(fe)?(fe&&(E(fe,"updatedData",x.updatedDataHandler),delete fe.navigatorSeries),de.chart&&de.destroy(),!1):!0});let he,ye,Ce=x.navigatorOptions.series,oe;X&&X.length&&X.forEach(de=>{const fe=de.navigatorSeries;var ue=G({color:de.color,visible:de.visible},N(Ce)?z.navigator.series:Ce);fe&&x.navigatorOptions.adaptToUpdatedData===!1||(re.name="Navigator "+X.length,he=de.options||{},oe=he.navigatorOptions||{},ue.dataLabels=w(ue.dataLabels),ye=K(he,re,ue,oe),ye.pointRange=L(ue.pointRange,oe.pointRange,z.plotOptions[ye.type||"line"].pointRange),ue=oe.data||ue.data,x.hasNavigatorData=x.hasNavigatorData||!!ue,ye.data=ue||he.data&&he.data.slice(0),fe&&fe.options?fe.update(ye,y):(de.navigatorSeries=M.initSeries(ye),de.navigatorSeries.baseSeries=de,ee.push(de.navigatorSeries)))}),(Ce.data&&(!X||!X.length)||N(Ce))&&(x.hasNavigatorData=!1,Ce=w(Ce),Ce.forEach((de,fe)=>{re.name="Navigator "+(ee.length+1),ye=K(z.navigator.series,{color:M.series[fe]&&!M.series[fe].options.isInternal&&M.series[fe].color||M.options.colors[fe]||M.options.colors[0]},re,de),ye.data=de.data,ye.data&&(x.hasNavigatorData=!0,ee.push(M.initSeries(ye)))})),m&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){const m=this,y=m.baseSeries||[];y[0]&&y[0].xAxis&&y[0].eventsToUnbind.push(I(y[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),y.forEach(x=>{x.eventsToUnbind.push(I(x,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),x.eventsToUnbind.push(I(x,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&x.xAxis&&x.eventsToUnbind.push(I(x,"updatedData",this.updatedDataHandler)),x.eventsToUnbind.push(I(x,"remove",function(){this.navigatorSeries&&(P(m.series,this.navigatorSeries),T(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(m){return this.baseSeries.reduce(function(y,x){return Math.min(y,x.xData&&x.xData.length?x.xData[0]:y)},m)}modifyNavigatorAxisExtremes(){const m=this.xAxis;if(typeof m.getExtremes<"u"){const y=this.getUnionExtremes(!0);!y||y.dataMin===m.min&&y.dataMax===m.max||(m.min=y.dataMin,m.max=y.dataMax)}}modifyBaseAxisExtremes(){const m=this.chart.navigator;var y=this.getExtremes();const x=y.dataMin,M=y.dataMax;y=y.max-y.min;const X=m.stickToMin,re=m.stickToMax,ee=L(this.options.overscroll,0),he=m.series&&m.series[0],ye=!!this.setExtremes;let Ce,oe;this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton"||(X&&(oe=x,Ce=oe+y),re&&(Ce=M+ee,X||(oe=Math.max(x,Ce-y,m.getBaseSeriesMin(he&&he.xData?he.xData[0]:-Number.MAX_VALUE)))),ye&&(X||re)&&ne(oe)&&(this.min=this.userMin=oe,this.max=this.userMax=Ce)),m.stickToMin=m.stickToMax=null}updatedDataHandler(){const m=this.chart.navigator,y=this.navigatorSeries;m.stickToMax=L(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,m.reversedExtremes?Math.round(m.zoomedMin)===0:Math.round(m.zoomedMax)>=Math.round(m.size)),m.stickToMin=m.shouldStickToMin(this,m),y&&!m.hasNavigatorData&&(y.options.pointStart=this.xData[0],y.setData(this.options.data,!1,null,!1))}shouldStickToMin(m,y){y=y.getBaseSeriesMin(m.xData[0]);var x=m.xAxis;m=x.max;const M=x.min;return x=x.options.range,ne(m)&&ne(M)?x&&0<m-y?m-y<x:M<=y:!1}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(I(this.chart,"redraw",function(){const m=this.navigator,y=m&&(m.baseSeries&&m.baseSeries[0]&&m.baseSeries[0].xAxis||this.xAxis[0]);y&&m.render(y.min,y.max)}),I(this.chart,"getMargins",function(){let m=this.navigator,y=m.opposite?"plotTop":"marginBottom";this.inverted&&(y=m.opposite?"marginRight":"plotLeft"),this[y]=(this[y]||0)+(m.navigatorEnabled||!this.inverted?m.height+m.scrollbarHeight:0)+m.navigatorOptions.margin}))}destroy(){this.removeEvents(),this.xAxis&&(P(this.chart.xAxis,this.xAxis),P(this.chart.axes,this.xAxis)),this.yAxis&&(P(this.chart.yAxis,this.yAxis),P(this.chart.axes,this.yAxis)),(this.series||[]).forEach(m=>{m.destroy&&m.destroy()}),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(m=>{this[m]&&this[m].destroy&&this[m].destroy(),this[m]=null}),[this.handles].forEach(m=>{C(m)})}}return g}),i(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),i(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],function(a,o,u){function d(){const E=this.range,w=E.type,g=this.max,A=this.chart.time,m=function(X,re){const ee=w==="year"?"FullYear":"Month",he=new A.Date(X),ye=A.get(ee,he);return A.set(ee,he,ye+re),ye===A.get(ee,he)&&A.set("Date",he,0),he.getTime()-X};let y,x;G(E)?(y=g-E,x=E):E&&(y=g+m(g,-(E.count||1)),this.chart&&(this.chart.fixedRange=g-y));const M=N(this.dataMin,Number.MIN_VALUE);return G(y)||(y=M),y<=M&&(y=M,typeof x>"u"&&(x=m(y,E.count)),this.newMax=Math.min(y+x,N(this.dataMax,Number.MAX_VALUE))),G(g)?!G(E)&&E&&E._offsetMin&&(y+=E._offsetMin):y=void 0,y}function n(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new L(this))}function k(){var E=this.axes;const w=this.rangeSelector;w&&(G(w.deferredYTDClick)&&(w.clickButton(w.deferredYTDClick),delete w.deferredYTDClick),E.forEach(g=>{g.updateNames(),g.setScale()}),this.getAxisMargins(),w.render(),E=w.options.verticalAlign,w.options.floating||(E==="bottom"?this.extraBottomMargin=!0:E!=="middle"&&(this.extraTopMargin=!0)))}function j(E){let w,g,A,m;const y=E.rangeSelector,x=()=>{y&&(w=E.xAxis[0].getExtremes(),g=E.legend,m=y&&y.options.verticalAlign,G(w.min)&&y.render(w.min,w.max),g.display&&m==="top"&&m===g.options.verticalAlign&&(A=q(E.spacingBox),A.y=g.options.layout==="vertical"?E.plotTop:A.y+y.getHeight(),g.group.placed=!1,g.align(A)))};y&&(P(ne,M=>M[0]===E)||ne.push([E,[U(E.xAxis[0],"afterSetExtremes",function(M){y&&y.render(M.min,M.max)}),U(E,"redraw",x)]]),x())}function Z(){for(let E=0,w=ne.length;E<w;++E){const g=ne[E];if(g[0]===this){g[1].forEach(A=>A()),ne.splice(E,1);break}}}function z(){var E=this.rangeSelector;E&&(E=E.getHeight(),this.extraTopMargin&&(this.plotTop+=E),this.extraBottomMargin&&(this.marginBottom+=E))}function H(){var E=this.rangeSelector;E&&!E.options.floating&&(E.render(),E=E.options.verticalAlign,E==="bottom"?this.extraBottomMargin=!0:E!=="middle"&&(this.extraTopMargin=!0))}function Y(E){var w=E.options.rangeSelector;E=this.extraBottomMargin;const g=this.extraTopMargin;let A=this.rangeSelector;w&&w.enabled&&!T(A)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=A=new L(this)),this.extraTopMargin=this.extraBottomMargin=!1,A&&(j(this),w=w&&w.verticalAlign||A.options&&A.options.verticalAlign,A.options.floating||(w==="bottom"?this.extraBottomMargin=!0:w!=="middle"&&(this.extraTopMargin=!0)),this.extraBottomMargin!==E||this.extraTopMargin!==g)&&(this.isDirtyBox=!0)}const{defaultOptions:I,setOptions:B}=a,{addEvent:U,defined:T,extend:C,find:P,isNumber:G,merge:q,pick:N}=u,ne=[],K=[];let L;return{compose:function(E,w,g){L=g,u.pushUnique(K,E)&&(E.prototype.minFromRange=d),u.pushUnique(K,w)&&(U(w,"afterGetContainer",n),U(w,"beforeRender",k),U(w,"destroy",Z),U(w,"getMargins",z),U(w,"render",H),U(w,"update",Y),w.prototype.callbacks.push(j)),u.pushUnique(K,B)&&(C(I,{rangeSelector:o.rangeSelector}),C(I.lang,o.lang))}}}),i(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(a,o,u,d,n,k){function j(w){if(w.indexOf("%L")!==-1)return"text";const g="aAdewbBmoyY".split("").some(m=>w.indexOf("%"+m)!==-1),A="HkIlMS".split("").some(m=>w.indexOf("%"+m)!==-1);return g&&A?"datetime-local":g?"date":A?"time":"text"}const{defaultOptions:Z}=o,{addEvent:z,createElement:H,css:Y,defined:I,destroyObjectProperties:B,discardElement:U,extend:T,fireEvent:C,isNumber:P,merge:G,objectEach:q,pad:N,pick:ne,pInt:K,splat:L}=k;class E{static compose(g,A){d.compose(g,A,E)}constructor(g){this.buttons=void 0,this.buttonOptions=E.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=g,this.init(g)}clickButton(g,A){const m=this.chart,y=this.buttonOptions[g],x=m.xAxis[0];var M=m.scroller&&m.scroller.getUnionExtremes()||x||{},X=y.type;const re=y.dataGrouping;let ee=M.dataMin,he=M.dataMax,ye,Ce=x&&Math.round(Math.min(x.max,ne(he,x.max))),oe;M=y._range;let de,fe,ue,pe=!0;if(ee!==null&&he!==null){if(m.fixedRange=M,this.setSelected(g),re&&(this.forcedDataGrouping=!0,a.prototype.setDataGrouping.call(x||{chart:this.chart},re,!1),this.frozenStates=y.preserveDataGrouping),X==="month"||X==="year")x?(X={range:y,max:Ce,chart:m,dataMin:ee,dataMax:he},ye=x.minFromRange.call(X),P(X.newMax)&&(Ce=X.newMax),pe=!1):M=y;else if(M)ye=Math.max(Ce-M,ee),Ce=Math.min(ye+M,he),pe=!1;else if(X==="ytd")if(x)(typeof he>"u"||typeof ee>"u")&&(ee=Number.MAX_VALUE,he=Number.MIN_VALUE,m.series.forEach(te=>{(te=te.xData)&&(ee=Math.min(te[0],ee),he=Math.max(te[te.length-1],he))}),A=!1),X=this.getYTDExtremes(he,ee,m.time.useUTC),ye=de=X.min,Ce=X.max;else{this.deferredYTDClick=g;return}else X==="all"&&x&&(m.navigator&&m.navigator.baseSeries[0]&&(m.navigator.baseSeries[0].xAxis.options.range=void 0),ye=ee,Ce=he);pe&&y._offsetMin&&I(ye)&&(ye+=y._offsetMin),y._offsetMax&&I(Ce)&&(Ce+=y._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=g+1),x?x.setExtremes(ye,Ce,ne(A,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:y}):(oe=L(m.options.xAxis)[0],ue=oe.range,oe.range=M,fe=oe.min,oe.min=de,z(m,"load",function(){oe.range=ue,oe.min=fe})),C(this,"afterBtnClick")}}setSelected(g){this.selected=this.options.selected=g}init(g){const A=this,m=g.options.rangeSelector,y=m.buttons||A.defaultButtons.slice(),x=m.selected,M=function(){const X=A.minInput,re=A.maxInput;X&&X.blur&&C(X,"blur"),re&&re.blur&&C(re,"blur")};A.chart=g,A.options=m,A.buttons=[],A.buttonOptions=y,this.eventsToUnbind=[],this.eventsToUnbind.push(z(g.container,"mousedown",M)),this.eventsToUnbind.push(z(g,"resize",M)),y.forEach(A.computeButtonRange),typeof x<"u"&&y[x]&&this.clickButton(x,!1),this.eventsToUnbind.push(z(g,"load",function(){g.xAxis&&g.xAxis[0]&&z(g.xAxis[0],"setExtremes",function(X){this.max-this.min!==g.fixedRange&&X.trigger!=="rangeSelectorButton"&&X.trigger!=="updatedData"&&A.forcedDataGrouping&&!A.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const g=this;var A=this.chart;const m=this.dropdown,y=A.xAxis[0],x=Math.round(y.max-y.min),M=!y.hasVisibleSeries,X=A.scroller&&A.scroller.getUnionExtremes()||y,re=X.dataMin,ee=X.dataMax;A=g.getYTDExtremes(ee,re,A.time.useUTC);const he=A.min,ye=A.max,Ce=g.selected,oe=g.options.allButtonsEnabled,de=g.buttons;let fe=P(Ce);g.buttonOptions.forEach((ue,pe)=>{var te=ue._range,ge=ue.type,xe=ue.count||1;const ce=de[pe],we=ue._offsetMax-ue._offsetMin,Ae=pe===Ce,Fe=te>ee-re,De=te<y.minRange;ue=0;let Ge=!1,ct=!1;te=te===x,(ge==="month"||ge==="year")&&x+36e5>=864e5*{month:28,year:365}[ge]*xe-we&&x-36e5<=864e5*{month:31,year:366}[ge]*xe+we?te=!0:ge==="ytd"?(te=ye-he+we===x,Ge=!Ae):ge==="all"&&(te=y.max-y.min>=ee-re,ct=!Ae&&fe&&te),ge=!oe&&(Fe||De||ct||M),xe=Ae&&te||te&&!fe&&!Ge||Ae&&g.frozenStates,ge?ue=3:xe&&(fe=!0,ue=2),ce.state!==ue&&(ce.setState(ue),m&&(m.options[pe+1].disabled=ge,ue===2&&(m.selectedIndex=pe+1)),ue===0&&Ce===pe&&g.setSelected())})}computeButtonRange(g){const A=g.type,m=g.count||1,y={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};y[A]?g._range=y[A]*m:(A==="month"||A==="year")&&(g._range=864e5*{month:30,year:365}[A]*m),g._offsetMin=ne(g.offsetMin,0),g._offsetMax=ne(g.offsetMax,0),g._range+=g._offsetMax-g._offsetMin}getInputValue(g){g=g==="min"?this.minInput:this.maxInput;const A=this.chart.options.rangeSelector,m=this.chart.time;return g?(g.type==="text"&&A.inputDateParser||this.defaultInputDateParser)(g.value,m.useUTC,m):0}setInputValue(g,A){const m=this.options,y=this.chart.time,x=g==="min"?this.minInput:this.maxInput;if(g=g==="min"?this.minDateBox:this.maxDateBox,x){var M=x.getAttribute("data-hc-time");M=I(M)?Number(M):void 0,I(A)&&(I(M)&&x.setAttribute("data-hc-time-previous",M),x.setAttribute("data-hc-time",A),M=A),x.value=y.dateFormat(this.inputTypeFormats[x.type]||m.inputEditDateFormat,M),g&&g.attr({text:y.dateFormat(m.inputDateFormat,M)})}}setInputExtremes(g,A,m){if(g=g==="min"?this.minInput:this.maxInput){const y=this.inputTypeFormats[g.type],x=this.chart.time;y&&(A=x.dateFormat(y,A),g.min!==A&&(g.min=A),m=x.dateFormat(y,m),g.max!==m&&(g.max=m))}}showInput(g){const A=g==="min"?this.minDateBox:this.maxDateBox;if((g=g==="min"?this.minInput:this.maxInput)&&A&&this.inputGroup){const m=g.type==="text",{translateX:y,translateY:x}=this.inputGroup,{inputBoxWidth:M}=this.options;Y(g,{width:m?A.width+(M?-2:20)+"px":"auto",height:A.height-2+"px",border:"2px solid silver"}),m&&M?Y(g,{left:y+A.x+"px",top:x+"px"}):Y(g,{left:Math.min(Math.round(A.x+y-(g.offsetWidth-A.width)/2),this.chart.chartWidth-g.offsetWidth)+"px",top:x-(g.offsetHeight-A.height)/2+"px"})}}hideInput(g){(g=g==="min"?this.minInput:this.maxInput)&&Y(g,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(g,A,m){var y=g.split("/").join("-").split(" ").join("T");if(y.indexOf("T")===-1&&(y+="T00:00"),A)y+="Z";else{var x;(x=u.isSafari)&&(x=y,x=!(6<x.length&&(x.lastIndexOf("-")===x.length-6||x.lastIndexOf("+")===x.length-6))),x&&(x=new Date(y).getTimezoneOffset()/60,y+=0>=x?`+${N(-x)}:00`:`-${N(x)}:00`)}return y=Date.parse(y),P(y)||(g=g.split("-"),y=Date.UTC(K(g[0]),K(g[1])-1,K(g[2]))),m&&A&&P(y)&&(y+=m.getTimezoneOffset(y)),y}drawInput(g){function A(){const{maxInput:de,minInput:fe}=M,ue=m.xAxis[0];var pe=m.scroller&&m.scroller.xAxis?m.scroller.xAxis:ue;const te=pe.dataMin;pe=pe.dataMax;let ge=M.getInputValue(g);ge!==Number(Ce.getAttribute("data-hc-time-previous"))&&P(ge)&&(Ce.setAttribute("data-hc-time-previous",ge),he&&de&&P(te)?ge>Number(de.getAttribute("data-hc-time"))?ge=void 0:ge<te&&(ge=te):fe&&P(pe)&&(ge<Number(fe.getAttribute("data-hc-time"))?ge=void 0:ge>pe&&(ge=pe)),typeof ge<"u"&&ue.setExtremes(he?ge:ue.min,he?ue.max:ge,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:m,div:y,inputGroup:x}=this,M=this,X=m.renderer.style||{};var re=m.renderer;const ee=m.options.rangeSelector,he=g==="min";var ye=Z.lang[he?"rangeSelectorFrom":"rangeSelectorTo"]||"";ye=re.label(ye,0).addClass("highcharts-range-label").attr({padding:ye?2:0,height:ye?ee.inputBoxHeight:0}).add(x),re=re.label("",0).addClass("highcharts-range-input").attr({padding:2,width:ee.inputBoxWidth,height:ee.inputBoxHeight,"text-align":"center"}).on("click",function(){M.showInput(g),M[g+"Input"].focus()}),m.styledMode||re.attr({stroke:ee.inputBoxBorderColor,"stroke-width":1}),re.add(x);const Ce=H("input",{name:g,className:"highcharts-range-selector"},void 0,y);Ce.setAttribute("type",j(ee.inputDateFormat||"%e %b %Y")),m.styledMode||(ye.css(G(X,ee.labelStyle)),re.css(G({color:"#333333"},X,ee.inputStyle)),Y(Ce,T({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:X.fontSize,fontFamily:X.fontFamily,top:"-9999em"},ee.inputStyle))),Ce.onfocus=()=>{M.showInput(g)},Ce.onblur=()=>{Ce===u.doc.activeElement&&A(),M.hideInput(g),M.setInputValue(g),Ce.blur()};let oe=!1;return Ce.onchange=()=>{oe||(A(),M.hideInput(g),Ce.blur())},Ce.onkeypress=de=>{de.keyCode===13&&A()},Ce.onkeydown=de=>{oe=!0,de.keyCode!==38&&de.keyCode!==40||A()},Ce.onkeyup=()=>{oe=!1},{dateBox:re,input:Ce,label:ye}}getPosition(){var g=this.chart;const A=g.options.rangeSelector;return g=A.verticalAlign==="top"?g.plotTop-g.axisOffset[0]:0,{buttonTop:g+A.buttonPosition.y,inputTop:g+A.inputPosition.y-10}}getYTDExtremes(g,A,m){const y=this.chart.time;var x=new y.Date(g);const M=y.get("FullYear",x);return m=m?y.Date.UTC(M,0,1):+new y.Date(M,0,1),A=Math.max(A,m),x=x.getTime(),{max:Math.min(g||x,x),min:A}}render(g,A){var m=this.chart,y=m.renderer;const x=m.container;var M=m.options;const X=M.rangeSelector,re=ne(M.chart.style&&M.chart.style.zIndex,0)+1;if(M=X.inputEnabled,X.enabled!==!1){if(this.rendered||(this.group=y.g("range-selector-group").attr({zIndex:7}).add(),this.div=H("div",void 0,{position:"relative",height:0,zIndex:re}),this.buttonOptions.length&&this.renderButtons(),x.parentNode&&x.parentNode.insertBefore(this.div,x),M&&(this.inputGroup=y.g("input-group").add(this.group),y=this.drawInput("min"),this.minDateBox=y.dateBox,this.minLabel=y.label,this.minInput=y.input,y=this.drawInput("max"),this.maxDateBox=y.dateBox,this.maxLabel=y.label,this.maxInput=y.input)),M&&(this.setInputValue("min",g),this.setInputValue("max",A),g=m.scroller&&m.scroller.getUnionExtremes()||m.xAxis[0]||{},I(g.dataMin)&&I(g.dataMax)&&(m=m.xAxis[0].minRange||0,this.setInputExtremes("min",g.dataMin,Math.min(g.dataMax,this.getInputValue("max"))-m),this.setInputExtremes("max",Math.max(g.dataMin,this.getInputValue("min"))+m,g.dataMax)),this.inputGroup)){let ee=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(he=>{if(he){const{width:ye}=he.getBBox();ye&&(he.attr({x:ee}),ee+=ye+X.inputSpacing)}})}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:g,chart:A,options:m}=this,y=Z.lang,x=A.renderer,M=G(m.buttonTheme),X=M&&M.states,re=M.width||28;delete M.width,delete M.states,this.buttonGroup=x.g("range-selector-buttons").add(this.group);const ee=this.dropdown=H("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);z(ee,"touchstart",()=>{ee.style.fontSize="16px"}),[[u.isMS?"mouseover":"mouseenter"],[u.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([he,ye])=>{z(ee,he,()=>{const Ce=g[this.currentButtonIndex()];Ce&&C(Ce.element,ye||he)})}),this.zoomText=x.label(y&&y.rangeSelectorZoom||"",0).attr({padding:m.buttonTheme.padding,height:m.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(m.labelStyle),M["stroke-width"]=ne(M["stroke-width"],0)),H("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,ee),this.buttonOptions.forEach((he,ye)=>{H("option",{textContent:he.title||he.text},void 0,ee),g[ye]=x.button(he.text,0,0,Ce=>{const oe=he.events&&he.events.click;let de;oe&&(de=oe.call(he,Ce)),de!==!1&&this.clickButton(ye),this.isActive=!0},M,X&&X.hover,X&&X.select,X&&X.disabled).attr({"text-align":"center",width:re}).add(this.buttonGroup),he.title&&g[ye].attr("title",he.title)})}alignElements(){const{buttonGroup:g,buttons:A,chart:m,group:y,inputGroup:x,options:M,zoomText:X}=this;var re=m.options;const ee=re.exporting&&re.exporting.enabled!==!1&&re.navigation&&re.navigation.buttonOptions,{buttonPosition:he,inputPosition:ye,verticalAlign:Ce}=M;re=(ue,pe)=>ee&&this.titleCollision(m)&&Ce==="top"&&pe.align==="right"&&pe.y-ue.getBBox().height-12<(ee.y||0)+(ee.height||0)+m.spacing[0]?-40:0;var oe=m.plotLeft;if(y&&he&&ye){var de=he.x-m.spacing[3];if(g){if(this.positionButtons(),!this.initialButtonGroupWidth){let ge=0;X&&(ge+=X.getBBox().width+5),A.forEach((xe,ce)=>{ge+=xe.width,ce!==A.length-1&&(ge+=M.buttonSpacing)}),this.initialButtonGroupWidth=ge}oe-=m.spacing[3],this.updateButtonStates();var fe=re(g,he);this.alignButtonGroup(fe),y.placed=g.placed=m.hasLoaded}fe=0,x&&(fe=re(x,ye),ye.align==="left"?de=oe:ye.align==="right"&&(de=-Math.max(m.axisOffset[1],-fe)),x.align({y:ye.y,width:x.getBBox().width,align:ye.align,x:ye.x+de-2},!0,m.spacingBox),x.placed=m.hasLoaded),this.handleCollision(fe),y.align({verticalAlign:Ce},!0,m.spacingBox),re=y.alignAttr.translateY,oe=y.getBBox().height+20,de=0,Ce==="bottom"&&(de=(de=m.legend&&m.legend.options)&&de.verticalAlign==="bottom"&&de.enabled&&!de.floating?m.legend.legendHeight+ne(de.margin,10):0,oe=oe+de-20,de=re-oe-(M.floating?0:M.y)-(m.titleOffset?m.titleOffset[2]:0)-10),Ce==="top"?(M.floating&&(de=0),m.titleOffset&&m.titleOffset[0]&&(de=m.titleOffset[0]),de+=m.margin[0]-m.spacing[0]||0):Ce==="middle"&&(ye.y===he.y?de=re:(ye.y||he.y)&&(de=0>ye.y||0>he.y?de-Math.min(ye.y,he.y):re-oe)),y.translate(M.x,M.y+Math.floor(de));const{minInput:ue,maxInput:pe,dropdown:te}=this;M.inputEnabled&&ue&&pe&&(ue.style.marginTop=y.translateY+"px",pe.style.marginTop=y.translateY+"px"),te&&(te.style.marginTop=y.translateY+"px")}}alignButtonGroup(g,A){const{chart:m,options:y,buttonGroup:x}=this,{buttonPosition:M}=y,X=m.plotLeft-m.spacing[3];let re=M.x-m.spacing[3];M.align==="right"?re+=g-X:M.align==="center"&&(re-=X/2),x&&x.align({y:M.y,width:ne(A,this.initialButtonGroupWidth),align:M.align,x:re},!0,m.spacingBox)}positionButtons(){const{buttons:g,chart:A,options:m,zoomText:y}=this,x=A.hasLoaded?"animate":"attr",{buttonPosition:M}=m,X=A.plotLeft;let re=X;y&&y.visibility!=="hidden"&&(y[x]({x:ne(X+M.x,X)}),re+=M.x+y.getBBox().width+5);for(let ee=0,he=this.buttonOptions.length;ee<he;++ee)g[ee].visibility!=="hidden"?(g[ee][x]({x:re}),re+=g[ee].width+m.buttonSpacing):g[ee][x]({x:X})}handleCollision(g){const{chart:A,buttonGroup:m,inputGroup:y}=this,{buttonPosition:x,dropdown:M,inputPosition:X}=this.options,re=()=>{let ye=0;return this.buttons.forEach(Ce=>{Ce=Ce.getBBox(),Ce.width>ye&&(ye=Ce.width)}),ye},ee=ye=>{if(y&&m){const Ce=y.alignAttr.translateX+y.alignOptions.x-g+y.getBBox().x+2,oe=y.alignOptions.width,de=m.alignAttr.translateX+m.getBBox().x;return de+ye>Ce&&Ce+oe>de&&x.y<X.y+y.getBBox().height}return!1},he=()=>{y&&m&&y.attr({translateX:y.alignAttr.translateX+(A.axisOffset[1]>=-g?0:-g),translateY:y.alignAttr.translateY+m.getBBox().height+10})};if(m){if(M==="always"){this.collapseButtons(g),ee(re())&&he();return}M==="never"&&this.expandButtons()}y&&m?X.align===x.align||ee(this.initialButtonGroupWidth+20)?M==="responsive"?(this.collapseButtons(g),ee(re())&&he()):he():M==="responsive"&&this.expandButtons():m&&M==="responsive"&&(this.initialButtonGroupWidth>A.plotWidth?this.collapseButtons(g):this.expandButtons())}collapseButtons(g){const{buttons:A,buttonOptions:m,chart:y,dropdown:x,options:M,zoomText:X}=this,re=y.userOptions.rangeSelector&&y.userOptions.rangeSelector.buttonTheme||{},ee=Ce=>({text:Ce?`${Ce} ▾`:"▾",width:"auto",paddingLeft:ne(M.buttonTheme.paddingLeft,re.padding,8),paddingRight:ne(M.buttonTheme.paddingRight,re.padding,8)});X&&X.hide();let he=!1;m.forEach((Ce,oe)=>{oe=A[oe],oe.state!==2?oe.hide():(oe.show(),oe.attr(ee(Ce.text)),he=!0)}),he||(x&&(x.selectedIndex=0),A[0].show(),A[0].attr(ee(this.zoomText&&this.zoomText.textStr)));const{align:ye}=M.buttonPosition;this.positionButtons(),ye!=="right"&&ye!=="center"||this.alignButtonGroup(g,A[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:g,buttonOptions:A,options:m,zoomText:y}=this;this.hideDropdown(),y&&y.show(),A.forEach((x,M)=>{M=g[M],M.show(),M.attr({text:x.text,width:m.buttonTheme.width||28,paddingLeft:ne(m.buttonTheme.paddingLeft,"unset"),paddingRight:ne(m.buttonTheme.paddingRight,"unset")}),2>M.state&&M.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:g}=this;return g&&0<g.selectedIndex?g.selectedIndex-1:0}showDropdown(){const{buttonGroup:g,buttons:A,chart:m,dropdown:y}=this;if(g&&y){const{translateX:x,translateY:M}=g,X=A[this.currentButtonIndex()].getBBox();Y(y,{left:m.plotLeft+x+"px",top:M+.5+"px",width:X.width+"px",height:X.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:g}=this;g&&(Y(g,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var g=this.options,A=this.group;const m=g.y,y=g.buttonPosition.y,x=g.inputPosition.y;return g.height?g.height:(this.alignElements(),g=A?A.getBBox(!0).height+13+m:0,A=Math.min(x,y),(0>x&&0>y||0<x&&0<y)&&(g+=Math.abs(A)),g)}titleCollision(g){return!(g.options.title.text||g.options.subtitle.text)}update(g){const A=this.chart;G(!0,A.options.rangeSelector,g),this.destroy(),this.init(A),this.render()}destroy(){const g=this,A=g.minInput,m=g.maxInput;g.eventsToUnbind&&(g.eventsToUnbind.forEach(y=>y()),g.eventsToUnbind=void 0),B(g.buttons),A&&(A.onfocus=A.onblur=A.onchange=null),m&&(m.onfocus=m.onblur=m.onchange=null),q(g,function(y,x){y&&x!=="chart"&&(y instanceof n?y.destroy():y instanceof window.HTMLElement&&U(y)),y!==E.prototype[x]&&(g[x]=null)},this)}}return T(E.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),E}),i(t,"Core/Axis/OrdinalAxis.js",[t["Core/Axis/Axis.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(a,o,u,d){const{addEvent:n,correctFloat:k,css:j,defined:Z,error:z,pick:H,timeUnits:Y}=d,I=[];var B;return function(U){function T(A,m,y,x,M=[],X=0,re){const ee={},he=this.options.tickPixelInterval;var ye=this.chart.time,Ce=[],oe;let de,fe;var ue=0;let pe=[],te=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!M||3>M.length||typeof m>"u")return ye.getTimeTicks.apply(ye,arguments);const ge=M.length;for(oe=0;oe<ge;oe++){if(fe=oe&&M[oe-1]>y,M[oe]<m&&(ue=oe),oe===ge-1||M[oe+1]-M[oe]>5*X||fe){if(M[oe]>te){for(de=ye.getTimeTicks(A,M[ue],M[oe],x);de.length&&de[0]<=te;)de.shift();de.length&&(te=de[de.length-1]),Ce.push(pe.length),pe=pe.concat(de)}ue=oe+1}if(fe)break}if(de){if(M=de.info,re&&M.unitRange<=Y.hour){for(oe=pe.length-1,ue=1;ue<oe;ue++)if(ye.dateFormat("%d",pe[ue])!==ye.dateFormat("%d",pe[ue-1])){ee[pe[ue]]="day";var xe=!0}xe&&(ee[pe[0]]="day"),M.higherRanks=ee}M.segmentStarts=Ce,pe.info=M}else z(12,!1,this.chart);if(re&&Z(he)){ue=pe.length,ye=[],xe=[];let ce;for(oe=ue;oe--;)Ce=this.translate(pe[oe]),ce&&(xe[oe]=ce-Ce),ye[oe]=ce=Ce;for(xe.sort(),xe=xe[Math.floor(xe.length/2)],xe<.6*he&&(xe=null),oe=pe[ue-1]>y?ue-1:ue,ce=void 0;oe--;)Ce=ye[oe],ue=Math.abs(ce-Ce),ce&&ue<.8*he&&(xe===null||ue<.8*xe)?(ee[pe[oe]]&&!ee[pe[oe+1]]?(ue=oe+1,ce=Ce):ue=oe,pe.splice(ue,1)):ce=Ce}return pe}function C(A){const m=this.ordinal.positions;if(!m)return A;let y=m.length-1,x;return 0>A?A=m[0]:A>y?A=m[y]:(y=Math.floor(A),x=A-y),typeof x<"u"&&typeof m[y]<"u"?m[y]+(x?x*(m[y+1]-m[y]):0):A}function P(A){var m=this.ordinal,y=m.positions;if(!y)return A;var x=(A-(this.old?this.old.min:this.min))*(this.old?this.old.transA:this.transA)+this.minPixelPadding;if(0<x&&x<this.left+this.len||(m.extendedOrdinalPositions||(m.extendedOrdinalPositions=m.getExtendedPositions()),y=m.extendedOrdinalPositions),y&&y.length){if(A=m.getIndexOfPoint(x,y),m=k(A%1),0<=A&&A<y.length-1)return y[Math.floor(A)]+m*(y[Math.ceil(A)]-y[Math.floor(A)]);m=y.length,x=y[0],y=y[m-1];const M=(y-x)/(m-1);return 0>A?x+M*A:y+M*(A-m)}return A}function G(A,m){const y=U.Additions.findIndexOf(A,m,!0);return A[y]===m?y:y+(m-A[y])/(A[y+1]-A[y])}function q(){this.ordinal||(this.ordinal=new U.Additions(this))}function N(){this.isXAxis&&Z(this.options.overscroll)&&this.max===this.dataMax&&(!this.chart.mouseIsDown||this.isInternal)&&(!this.eventArgs||this.eventArgs&&this.eventArgs.trigger!=="navigator")&&(this.max+=this.options.overscroll,!this.isInternal&&Z(this.userMin)&&(this.min+=this.options.overscroll))}function ne(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function K(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function L(A){const m=this.xAxis[0],y=m.options.overscroll,x=A.originalEvent.chartX,M=this.options.chart.panning;let X=!1;if(M&&M.type!=="y"&&m.options.ordinal&&m.series.length){var re=this.mouseDownX;const Ce=m.getExtremes(),oe=Ce.dataMax,de=Ce.min,fe=Ce.max;var ee=this.hoverPoints,he=m.closestPointRange||m.ordinal&&m.ordinal.overscrollPointsRange;re=(re-x)/(m.translationSlope*(m.ordinal.slope||he)),he=m.ordinal.getExtendedPositions();var ye={ordinal:{positions:he,extendedOrdinalPositions:he}};he=m.index2val;const ue=m.val2lin;let pe;ye.ordinal.positions?1<Math.abs(re)&&(ee&&ee.forEach(function(te){te.setState()}),0>re?(ee=ye,pe=m.ordinal.positions?m:ye):(ee=m.ordinal.positions?m:ye,pe=ye),ye=pe.ordinal.positions,oe>ye[ye.length-1]&&ye.push(oe),this.fixedRange=fe-de,re=m.navigatorAxis.toFixedRange(void 0,void 0,he.apply(ee,[ue.apply(ee,[de,!0])+re]),he.apply(pe,[ue.apply(pe,[fe,!0])+re])),re.min>=Math.min(Ce.dataMin,de)&&re.max<=Math.max(oe,fe)+y&&m.setExtremes(re.min,re.max,!0,!1,{trigger:"pan"}),this.mouseDownX=x,j(this.container,{cursor:"move"})):X=!0}else X=!0;X||M&&/y/.test(M.type)?y&&(m.max=m.dataMax+y):A.preventDefault()}function E(){const A=this.xAxis;A&&A.options.ordinal&&(delete A.ordinal.index,delete A.ordinal.extendedOrdinalPositions)}function w(A,m){const y=this.ordinal;var x=y.positions;let M=y.slope,X=y.extendedOrdinalPositions;if(!x)return A;var re=x.length;if(x[0]<=A&&x[re-1]>=A)A=G(x,A);else{if(X||(X=y.getExtendedPositions&&y.getExtendedPositions(),y.extendedOrdinalPositions=X),!X||!X.length)return A;re=X.length,M||(M=(X[re-1]-X[0])/re),x=G(X,x[0]),A=A>=X[0]&&A<=X[re-1]?G(X,A)-x:A<X[0]?-x-(X[0]-A)/M:(A-X[re-1])/M+re-x}return m?A:M*(A||0)+y.offset}U.compose=function(A,m,y){if(d.pushUnique(I,A)){const x=A.prototype;x.getTimeTicks=T,x.index2val=C,x.lin2val=P,x.val2lin=w,x.ordinal2lin=x.val2lin,n(A,"afterInit",q),n(A,"foundExtremes",N),n(A,"afterSetScale",ne),n(A,"initialAxisTranslation",K)}return d.pushUnique(I,y)&&n(y,"pan",L),d.pushUnique(I,m)&&n(m,"updatedData",E),A};class g{constructor(m){this.index={},this.axis=m}beforeSetTickPositions(){const m=this.axis,y=m.ordinal;var x=m.getExtremes();const M=x.min;var X=x.max;const re=m.isXAxis&&!!m.options.breaks;x=m.options.ordinal;const ee=m.chart.options.chart.ignoreHiddenSeries;let he,ye;var Ce;let oe=[],de=Number.MAX_VALUE,fe=!1,ue=!1,pe=!1;if(x||re){let ge=0;if(m.series.forEach(function(xe,ce){if(ye=[],0<ce&&xe.options.id!=="highcharts-navigator-series"&&1<xe.processedXData.length&&(ue=ge!==xe.processedXData[1]-xe.processedXData[0]),ge=xe.processedXData[1]-xe.processedXData[0],xe.boosted&&(pe=xe.boosted),!(ee&&xe.visible===!1||xe.takeOrdinalPosition===!1&&!re)&&(oe=oe.concat(xe.processedXData),he=oe.length,oe.sort(function(we,Ae){return we-Ae}),de=Math.min(de,H(xe.closestPointRange,de)),he)){for(ce=0;ce<he-1;)oe[ce]!==oe[ce+1]&&ye.push(oe[ce+1]),ce++;ye[0]!==oe[0]&&ye.unshift(oe[0]),oe=ye}}),ue&&pe&&(oe.pop(),oe.shift()),he=oe.length,2<he){var te=oe[1]-oe[0];for(Ce=he-1;Ce--&&!fe;)oe[Ce+1]-oe[Ce]!==te&&(fe=!0);!m.options.keepOrdinalPadding&&(oe[0]-M>te||X-oe[oe.length-1]>te)&&(fe=!0)}else m.options.overscroll&&(he===2?de=oe[1]-oe[0]:he===1?(de=m.options.overscroll,oe=[oe[0],oe[0]+de]):de=y.overscrollPointsRange);fe||m.forceOrdinal?(m.options.overscroll&&(y.overscrollPointsRange=de,oe=oe.concat(y.getOverscrollPositions())),y.positions=oe,te=m.ordinal2lin(Math.max(M,oe[0]),!0),Ce=Math.max(m.ordinal2lin(Math.min(X,oe[oe.length-1]),!0),1),y.slope=X=(X-M)/(Ce-te),y.offset=M-te*X):(y.overscrollPointsRange=H(m.closestPointRange,y.overscrollPointsRange),y.positions=m.ordinal.slope=y.offset=void 0)}m.isOrdinal=x&&fe,y.groupIntervalFactor=null}static findIndexOf(m,y,x){let M=0,X=m.length-1,re;for(;M<X;)re=Math.ceil((M+X)/2),m[re]<=y?M=re:X=re-1;return m[M]===y||x?M:-1}getExtendedPositions(){const m=this,y=m.axis,x=y.constructor.prototype,M=y.chart,X=y.series[0].currentDataGrouping,re=X?X.count+X.unitName:"raw",ee=y.options.overscroll,he=y.getExtremes();let ye,Ce,oe=m.index;return oe||(oe=m.index={}),oe[re]||(ye={series:[],chart:M,forceOrdinal:!1,getExtremes:function(){return{min:he.dataMin,max:he.dataMax+ee}},getGroupPixelWidth:x.getGroupPixelWidth,getTimeTicks:x.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:x.ordinal2lin,getIndexOfPoint:x.getIndexOfPoint,val2lin:x.val2lin},ye.ordinal.axis=ye,y.series.forEach(function(de){Ce={xAxis:ye,xData:de.xData.slice(),chart:M,destroyGroupedData:o.noop,getProcessedData:u.prototype.getProcessedData,applyGrouping:u.prototype.applyGrouping},Ce.xData=Ce.xData.concat(m.getOverscrollPositions()),Ce.options={dataGrouping:X?{firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",enabled:!0,forced:!0,approximation:"open",units:[[X.unitName,[X.count]]]}:{enabled:!1}},ye.series.push(Ce),de.processData.apply(Ce)}),Ce.closestPointRange!==Ce.basePointRange&&Ce.currentDataGrouping&&(ye.forceOrdinal=!0),y.ordinal.beforeSetTickPositions.apply({axis:ye}),oe[re]=ye.ordinal.positions),oe[re]}getGroupIntervalFactor(m,y,x){x=x.processedXData;const M=x.length;var X=[],re=this.groupIntervalFactor;if(!re){for(re=0;re<M-1;re++)X[re]=x[re+1]-x[re];X.sort(function(ee,he){return ee-he}),X=X[Math.floor(M/2)],m=Math.max(m,x[0]),y=Math.min(y,x[M-1]),this.groupIntervalFactor=re=M*X/(y-m)}return re}getIndexOfPoint(m,y){const x=this.axis,M=this.positions?this.positions[0]:0;let X=x.series[0].points&&x.series[0].points[0]&&x.series[0].points[0].plotX||x.minPixelPadding;return 1<x.series.length&&x.series.forEach(function(re){re.points&&Z(re.points[0])&&Z(re.points[0].plotX)&&re.points[0].plotX<X&&re.points[0].plotX>=H(x.min,-1/0)&&(X=re.points[0].plotX)}),m=(m-X)/(x.translationSlope*(this.slope||x.closestPointRange||this.overscrollPointsRange)),g.findIndexOf(y,M)+m}getOverscrollPositions(){const m=this.axis,y=m.options.overscroll,x=this.overscrollPointsRange,M=[];let X=m.dataMax;if(Z(x))for(;X<=m.dataMax+y;)X+=x,M.push(X);return M}postProcessTickInterval(m){const y=this.axis,x=this.slope;return x?y.options.breaks?y.closestPointRange||m:m/(x/y.closestPointRange):m}}U.Additions=g}(B||(B={})),B}),i(t,"Series/HLC/HLCPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(a){({column:{prototype:{pointClass:a}}}=a.seriesTypes);class o extends a{constructor(){super(...arguments),this.series=this.plotClose=this.options=this.low=this.high=this.close=void 0}}return o}),i(t,"Series/HLC/HLCSeriesDefaults.js",[],function(){return{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}}),i(t,"Series/HLC/HLCSeries.js",[t["Series/HLC/HLCPoint.js"],t["Series/HLC/HLCSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,o,u,d){const{column:n}=u.seriesTypes,{extend:k,merge:j}=d;class Z extends n{constructor(){super(...arguments),this.yData=this.points=this.options=this.data=void 0}extendStem(H,Y,I){const B=H[0];H=H[1],typeof B[2]=="number"&&(B[2]=Math.max(I+Y,B[2])),typeof H[2]=="number"&&(H[2]=Math.min(I-Y,H[2]))}getPointPath(H,Y){Y=Y.strokeWidth();const I=H.series,B=Y%2/2,U=Math.round(H.plotX)-B,T=Math.round(H.shapeArgs.width/2),C=[["M",U,Math.round(H.yBottom)],["L",U,Math.round(H.plotHigh)]];return H.close!==null&&(H=Math.round(H.plotClose)+B,C.push(["M",U,H],["L",U+T,H]),I.extendStem(C,Y/2,H)),C}drawSinglePoint(H){var Y=H.series;const I=Y.chart;let B=H.graphic;typeof H.plotY<"u"&&(B||(H.graphic=B=I.renderer.path().add(Y.group)),I.styledMode||B.attr(Y.pointAttribs(H,H.selected&&"select")),Y=Y.getPointPath(H,B),B[B?"animate":"attr"]({d:Y}).addClass(H.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(H,Y){return H=super.pointAttribs.call(this,H,Y),delete H.fill,H}toYData(H){return[H.high,H.low,H.close]}translate(){const H=this,Y=H.yAxis,I=this.pointArrayMap&&this.pointArrayMap.slice()||[],B=I.map(U=>`plot${U.charAt(0).toUpperCase()+U.slice(1)}`);B.push("yBottom"),I.push("low"),super.translate.apply(H),H.points.forEach(function(U){I.forEach(function(T,C){T=U[T],T!==null&&(H.dataModify&&(T=H.dataModify.modifyValue(T)),U[B[C]]=Y.toPixels(T,!0))}),U.tooltipPos[1]=U.plotHigh+Y.pos-H.chart.plotTop})}}return Z.defaultOptions=j(n.defaultOptions,o),k(Z.prototype,{pointClass:a,animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),u.registerSeriesType("hlc",Z),Z}),i(t,"Series/OHLC/OHLCPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(a){({seriesTypes:{hlc:a}}=a);class o extends a.prototype.pointClass{constructor(){super(...arguments),this.series=this.plotOpen=this.options=this.open=void 0}getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.resolveUpColor()}getZone(){const d=super.getZone();return this.resolveUpColor(),d}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}return o}),i(t,"Series/OHLC/OHLCSeriesDefaults.js",[],function(){return{tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}}),i(t,"Series/OHLC/OHLCSeries.js",[t["Series/OHLC/OHLCPoint.js"],t["Series/OHLC/OHLCSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,o,u,d){function n(B){B=B.options;const U=B.dataGrouping;U&&B.useOhlcData&&B.id!=="highcharts-navigator-series"&&(U.approximation="ohlc")}function k(B){B=B.options,B.useOhlcData&&B.id!=="highcharts-navigator-series"&&z(this,{pointValKey:I.prototype.pointValKey,pointArrayMap:I.prototype.pointArrayMap,toYData:I.prototype.toYData})}const{seriesTypes:{hlc:j}}=u,{addEvent:Z,extend:z,merge:H}=d,Y=[];class I extends j{constructor(){super(...arguments),this.points=this.options=this.data=void 0}static compose(U,...T){d.pushUnique(Y,U)&&(Z(U,"afterSetOptions",n),Z(U,"init",k))}getPointPath(U,T){const C=super.getPointPath(U,T);T=T.strokeWidth();const P=T%2/2,G=Math.round(U.plotX)-P,q=Math.round(U.shapeArgs.width/2);return U.open!==null&&(U=Math.round(U.plotOpen)+P,C.push(["M",G,U],["L",G-q,U]),super.extendStem(C,T/2,U)),C}pointAttribs(U,T){T=super.pointAttribs.call(this,U,T);const C=this.options;return delete T.fill,!U.options.color&&C.upColor&&U.open<U.close&&(T.stroke=C.upColor),T}toYData(U){return[U.open,U.high,U.low,U.close]}}return I.defaultOptions=H(j.defaultOptions,o),z(I.prototype,{pointClass:a,pointArrayMap:["open","high","low","close"]}),u.registerSeriesType("ohlc",I),I}),i(t,"Series/Candlestick/CandlestickSeriesDefaults.js",[t["Core/Defaults.js"],t["Core/Utilities.js"]],function(a,o){return{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}}),i(t,"Series/Candlestick/CandlestickSeries.js",[t["Series/Candlestick/CandlestickSeriesDefaults.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,o,u,d){({defaultOptions:o}=o);const{column:n,ohlc:k}=u.seriesTypes;({merge:d}=d);class j extends k{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(z,H){const Y=n.prototype.pointAttribs.call(this,z,H),I=this.options,B=z.open<z.close,U=I.lineColor||this.color,T=z.color||this.color;return Y["stroke-width"]=I.lineWidth,Y.fill=z.options.color||B&&I.upColor||T,Y.stroke=z.options.lineColor||B&&I.upLineColor||U,H&&(z=I.states[H],Y.fill=z.color||Y.fill,Y.stroke=z.lineColor||Y.stroke,Y["stroke-width"]=z.lineWidth||Y["stroke-width"]),Y}drawPoints(){var z=this.points;const H=this.chart,Y=this.yAxis.reversed;for(const T of z){z=T.graphic;var I=void 0,B=void 0;let C,P;var U=void 0;let G,q;const N=!z;typeof T.plotY<"u"&&(z||(T.graphic=z=H.renderer.path().add(this.group)),this.chart.styledMode||z.attr(this.pointAttribs(T,T.selected&&"select")).shadow(this.options.shadow),U=z.strokeWidth()%2/2,G=Math.round(T.plotX)-U,I=T.plotOpen,B=T.plotClose,C=Math.min(I,B),I=Math.max(I,B),q=Math.round(T.shapeArgs.width/2),B=Y?I!==T.yBottom:Math.round(C)!==Math.round(T.plotHigh),P=Y?Math.round(C)!==Math.round(T.plotHigh):I!==T.yBottom,C=Math.round(C)+U,I=Math.round(I)+U,U=[],U.push(["M",G-q,I],["L",G-q,C],["L",G+q,C],["L",G+q,I],["Z"],["M",G,C],["L",G,B?Math.round(Y?T.yBottom:T.plotHigh):C],["M",G,I],["L",G,P?Math.round(Y?T.plotHigh:T.yBottom):I]),z[N?"attr":"animate"]({d:U}).addClass(T.getClassName(),!0))}}}return j.defaultOptions=d(k.defaultOptions,o.plotOptions,{tooltip:k.defaultOptions.tooltip},a),u.registerSeriesType("candlestick",j),j}),i(t,"Series/Flags/FlagsPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,o){({column:{prototype:{pointClass:a}}}=a.seriesTypes);const{isNumber:u}=o;class d extends a{constructor(){super(...arguments),this.series=this.options=void 0,this.ttBelow=!1}isValid(){return u(this.y)||typeof this.y>"u"}hasNewShapeType(){const k=this.options.shape||this.series.options.shape;return this.graphic&&k&&k!==this.graphic.symbolKey}}return d}),i(t,"Series/Flags/FlagsSeriesDefaults.js",[],function(){return{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{fontSize:"0.7em",fontWeight:"bold"}}}),i(t,"Series/Flags/FlagsSymbols.js",[t["Core/Renderer/RendererRegistry.js"]],function(a){var o;return function(u){function d(j,Z,z,H,Y){const I=Y&&Y.anchorX||j;Y=Y&&Y.anchorY||Z;const B=this.circle(I-1,Y-1,2,2);return B.push(["M",I,Y],["L",j,Z+H],["L",j,Z],["L",j+z,Z],["L",j+z,Z+H],["L",j,Z+H],["Z"]),B}function n(j,Z){j[Z+"pin"]=function(z,H,Y,I,B){const U=B&&B.anchorX;B=B&&B.anchorY;let T;if(Z==="circle"&&I>Y&&(z-=Math.round((I-Y)/2),Y=I),T=j[Z](z,H,Y,I),U&&B){let C=U;Z==="circle"?C=z+Y/2:(z=T[0],Y=T[1],z[0]==="M"&&Y[0]==="L"&&(C=(z[1]+Y[1])/2)),T.push(["M",C,H>B?H:H+I],["L",U,B]),T=T.concat(j.circle(U-1,B-1,2,2))}return T}}const k=[];u.compose=function(j){k.indexOf(j)===-1&&(k.push(j),j=j.prototype.symbols,j.flag=d,n(j,"circle"),n(j,"square")),j=a.getRendererType(),k.indexOf(j)&&k.push(j)}}(o||(o={})),o}),i(t,"Series/OnSeriesComposition.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(a,o,u){const{prototype:d}=a,{prototype:n}=o,{defined:k,stableSort:j}=u;var Z;return function(z){function H(B){return n.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,B)}function Y(){d.translate.apply(this);const B=this;var U=B.options,T=B.chart;const C=B.points;var P=U.onSeries;const G=(P=P&&T.get(P))&&P.options.step,q=P&&P.points,N=T.inverted,ne=B.xAxis,K=B.yAxis;T=C.length-1;let L;U=U.onKey||"y";let E=q&&q.length,w=0,g,A,m,y;if(P&&P.visible&&E){w=(P.pointXOffset||0)+(P.barW||0)/2;var x=P.currentDataGrouping;for(A=q[E-1].x+(x?x.totalRange:0),j(C,(M,X)=>M.x-X.x),U="plot"+U[0].toUpperCase()+U.substr(1);E--&&C[T]&&(g=q[E],x=C[T],x.y=g.y,!(g.x<=x.x&&typeof g[U]<"u"&&(x.x<=A&&(x.plotY=g[U],g.x<x.x&&!G&&(m=q[E+1])&&typeof m[U]<"u"&&(y=(x.x-g.x)/(m.x-g.x),x.plotY+=y*(m[U]-g[U]),x.y+=y*(m.y-g.y))),T--,E++,0>T))););}C.forEach((M,X)=>{let re;M.plotX+=w,(typeof M.plotY>"u"||N)&&(0<=M.plotX&&M.plotX<=ne.len?N?(M.plotY=ne.translate(M.x,0,1,0,1),M.plotX=k(M.y)?K.translate(M.y,0,0,0,1):0):M.plotY=(ne.opposite?0:B.yAxis.len)+ne.offset:M.shapeArgs={}),(L=C[X-1])&&L.plotX===M.plotX&&(typeof L.stackIndex>"u"&&(L.stackIndex=0),re=L.stackIndex+1),M.stackIndex=re}),this.onSeries=P}const I=[];z.compose=function(B){if(u.pushUnique(I,B)){const U=B.prototype;U.getPlotBox=H,U.translate=Y}return B},z.getPlotBox=H,z.translate=Y}(Z||(Z={})),Z}),i(t,"Series/Flags/FlagsSeries.js",[t["Series/Flags/FlagsPoint.js"],t["Series/Flags/FlagsSeriesDefaults.js"],t["Series/Flags/FlagsSymbols.js"],t["Core/Globals.js"],t["Series/OnSeriesComposition.js"],t["Core/Renderer/RendererUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(a,o,u,d,n,k,j,Z,z){({noop:d}=d);const{distribute:H}=k,{series:Y,seriesTypes:{column:I}}=j,{addEvent:B,defined:U,extend:T,merge:C,objectEach:P,wrap:G}=z;class q extends I{constructor(){super(...arguments),this.points=this.options=this.data=void 0}animate(ne){ne&&this.setClip()}drawPoints(){var ne=this.points,K=this.chart;const L=K.renderer,E=K.inverted,w=this.options,g=w.y,A=this.yAxis,m={},y=[];let x,M,X,re,ee,he,ye;for(X=ne.length;X--;){re=ne[X],he=(E?re.plotY:re.plotX)>this.xAxis.len,x=re.plotX;var Ce=re.stackIndex,oe=re.options.shape||w.shape;M=re.plotY,typeof M<"u"&&(M=re.plotY+g-(typeof Ce<"u"&&Ce*w.stackDistance)),re.anchorX=Ce?void 0:re.plotX,ee=Ce?void 0:re.plotY,ye=oe!=="flag",Ce=re.graphic,typeof M<"u"&&0<=x&&!he?(Ce&&re.hasNewShapeType()&&(Ce=Ce.destroy()),Ce||(Ce=re.graphic=L.label("",null,null,oe,null,null,w.useHTML).addClass("highcharts-point").add(this.markerGroup),re.graphic.div&&(re.graphic.div.point=re),Ce.isNew=!0),Ce.attr({align:ye?"center":"left",width:w.width,height:w.height,"text-align":w.textAlign}),K.styledMode||Ce.attr(this.pointAttribs(re)).css(C(w.style,re.style)).shadow(w.shadow),0<x&&(x-=Ce.strokeWidth()%2),oe={y:M,anchorY:ee},w.allowOverlapX&&(oe.x=x,oe.anchorX=re.anchorX),Ce.attr({text:re.options.title||w.title||"A"})[Ce.isNew?"attr":"animate"](oe),w.allowOverlapX||(m[re.plotX]?m[re.plotX].size=Math.max(m[re.plotX].size,Ce.width):m[re.plotX]={align:ye?.5:0,size:Ce.width,target:x,anchorX:x}),re.tooltipPos=[x,M+A.pos-K.plotTop]):Ce&&(re.graphic=Ce.destroy())}if(!w.allowOverlapX){let de=100;P(m,function(fe){fe.plotX=fe.anchorX,y.push(fe),de=Math.max(fe.size,de)}),H(y,E?A.len:this.xAxis.len,de);for(const fe of ne)K=fe.plotX,(K=(ne=fe.graphic)&&m[K])&&ne&&(U(K.pos)?ne[ne.isNew?"attr":"animate"]({x:K.pos+(K.align||0)*K.size,anchorX:fe.anchorX}).show().isNew=!1:ne.hide().isNew=!0)}w.useHTML&&this.markerGroup&&G(this.markerGroup,"on",function(de){return Z.prototype.on.apply(de.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){const ne=this.points;super.drawTracker();for(const K of ne){const L=K.graphic;L&&(K.unbindMouseOver&&K.unbindMouseOver(),K.unbindMouseOver=B(L.element,"mouseover",function(){0<K.stackIndex&&!K.raised&&(K._y=L.y,L.attr({y:K._y-8}),K.raised=!0);for(const E of ne)E!==K&&E.raised&&E.graphic&&(E.graphic.attr({y:E._y}),E.raised=!1)}))}}pointAttribs(ne,K){const L=this.options,E=ne&&ne.color||this.color;let w=L.lineColor,g=ne&&ne.lineWidth;return ne=ne&&ne.fillColor||L.fillColor,K&&(ne=L.states[K].fillColor,w=L.states[K].lineColor,g=L.states[K].lineWidth),{fill:ne||E,stroke:w||E,"stroke-width":g||L.lineWidth||0}}setClip(){Y.prototype.setClip.apply(this,arguments),this.options.clip!==!1&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}return q.compose=u.compose,q.defaultOptions=C(I.defaultOptions,o),n.compose(q),T(q.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:a,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:d,init:Y.prototype.init}),j.registerSeriesType("flags",q),q}),i(t,"Core/Chart/StockChart.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/FormatUtilities.js"],t["Core/Defaults.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Series/Series.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(a,o,u,d,n,k,j,Z,z,H){function Y(g,A){return g==="xAxis"?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0}:g==="yAxis"?{labels:{y:-2},opposite:L(A.opposite,!0),showLastLabel:!(!A.categories&&A.type!=="category"),title:{text:null}}:{}}function I(g,A){return g==="xAxis"?(g={type:"datetime",categories:void 0},L(A.navigator&&A.navigator.enabled,n.enabled,!0)&&(g.startOnTick=!1,g.endOnTick=!1),g):{}}const{format:B}=u,{getOptions:U}=d,{addEvent:T,clamp:C,defined:P,extend:G,find:q,isNumber:N,isString:ne,merge:K,pick:L,splat:E}=H;class w extends o{init(A,m){const y=U(),x=A.xAxis,M=A.yAxis;var X=L(A.navigator&&A.navigator.enabled,n.enabled,!0);A.xAxis=A.yAxis=void 0,X=K({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x"}},navigator:{enabled:X},scrollbar:{enabled:L(j.enabled,!0)},rangeSelector:{enabled:L(k.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:L(y.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},A,{isStock:!0}),A.xAxis=x,A.yAxis=M,X.xAxis=E(A.xAxis||{}).map(function(re,ee){return K(Y("xAxis",re),y.xAxis,y.xAxis&&y.xAxis[ee],re,I("xAxis",A))}),X.yAxis=E(A.yAxis||{}).map(function(re,ee){return K(Y("yAxis",re),y.yAxis,y.yAxis&&y.yAxis[ee],re)}),super.init(X,m)}createAxis(A,m){return m.axis=K(Y(A,m.axis),m.axis,I(A,this.userOptions)),super.createAxis(A,m)}}return function(g){g.stockChart=function(A,m,y){return new g(A,m,y)}}(w||(w={})),T(Z,"setOptions",function(g){let A;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?A={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(A={marker:{enabled:!1,radius:2}}),A&&(g.plotOptions[this.type]=K(g.plotOptions[this.type],A)))}),T(a,"autoLabelAlign",function(g){const{chart:A,options:m}=this,y=A._labelPanes=A._labelPanes||{},x=m.labels;if(A.options.isStock&&this.coll==="yAxis"){const M=m.top+","+m.height;!y[M]&&x.enabled&&(x.distance===15&&this.side===1&&(x.distance=0),typeof x.align>"u"&&(x.align="right"),y[M]=this,g.align="right",g.preventDefault())}}),T(a,"destroy",function(){const g=this.chart,A=this.options&&this.options.top+","+this.options.height;A&&g._labelPanes&&g._labelPanes[A]===this&&delete g._labelPanes[A]}),T(a,"getPlotLinePath",function(g){function A(ce){const we=ce==="xAxis"?"yAxis":"xAxis";return ce=m.options[we],N(ce)?[x[we][ce]]:ne(ce)?[x.get(ce)]:y.map(function(Ae){return Ae[we]})}let m=this,y=this.isLinked&&!this.series?this.linkedParent.series:this.series,x=m.chart,M=x.renderer,X=m.left,re=m.top,ee,he,ye,Ce,oe=[],de=[],fe,ue,pe=g.translatedValue,te=g.value,ge=g.force,xe;(x.options.isStock&&g.acrossPanes!==!1&&m.coll==="xAxis"||m.coll==="yAxis")&&(g.preventDefault(),de=A(m.coll),fe=m.isXAxis?x.yAxis:x.xAxis,fe.forEach(function(ce){if(!P(ce.options.id)||ce.options.id.indexOf("navigator")===-1){var we=ce.isXAxis?"yAxis":"xAxis";we=P(ce.options[we])?x[we][ce.options[we]]:x[we][0],m===we&&de.push(ce)}}),ue=de.length?[]:[m.isXAxis?x.yAxis[0]:x.xAxis[0]],de.forEach(function(ce){ue.indexOf(ce)!==-1||q(ue,function(we){return we.pos===ce.pos&&we.len===ce.len})||ue.push(ce)}),xe=L(pe,m.translate(te,void 0,void 0,g.old)),N(xe)&&(m.horiz?ue.forEach(function(ce){let we;he=ce.pos,Ce=he+ce.len,ee=ye=Math.round(xe+m.transB),ge!=="pass"&&(ee<X||ee>X+m.width)&&(ge?ee=ye=C(ee,X,X+m.width):we=!0),we||oe.push(["M",ee,he],["L",ye,Ce])}):ue.forEach(function(ce){let we;ee=ce.pos,ye=ee+ce.len,he=Ce=Math.round(re+m.height-xe),ge!=="pass"&&(he<re||he>re+m.height)&&(ge?he=Ce=C(he,re,re+m.height):we=!0),we||oe.push(["M",ee,he],["L",ye,Ce])})),g.path=0<oe.length?M.crispPolyLine(oe,g.lineWidth||1):null)}),z.prototype.crispPolyLine=function(g,A){for(let m=0;m<g.length;m+=2){const y=g[m],x=g[m+1];y[1]===x[1]&&(y[1]=x[1]=Math.round(y[1])-A%2/2),y[2]===x[2]&&(y[2]=x[2]=Math.round(y[2])+A%2/2)}return g},T(a,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),T(a,"afterDrawCrosshair",function(g){var A,m;if(this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&N(this.min)&&N(this.max)){var y=this.chart,x=this.logarithmic,M=this.crosshair.label,X=this.horiz,re=this.opposite,ee=this.left,he=this.top,ye=this.width,Ce=this.crossLabel,oe=M.format,de="",fe=this.options.tickPosition==="inside",ue=this.crosshair.snap!==!1,pe=0,te=g.e||this.cross&&this.cross.e;g=g.point;var ge=this.min,xe=this.max;x&&(ge=x.lin2log(ge),xe=x.lin2log(xe)),x=X?"center":re?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center",Ce||(Ce=this.crossLabel=y.renderer.label("",0,void 0,M.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(g&&g.series?g.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:M.align||x,padding:L(M.padding,8),r:L(M.borderRadius,3),zIndex:2}).add(this.labelGroup),y.styledMode||Ce.attr({fill:M.backgroundColor||g&&g.series&&g.series.color||"#666666",stroke:M.borderColor||"","stroke-width":M.borderWidth||0}).css(G({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},M.style||{}))),X?(ye=ue?(g.plotX||0)+ee:te.chartX,he+=re?0:this.height):(ye=ee+this.offset+(re?ye:0),he=ue?(g.plotY||0)+he:te.chartY),oe||M.formatter||(this.dateTime&&(de="%b %d, %Y"),oe="{value"+(de?":"+de:"")+"}"),de=ue?this.isXAxis?g.x:g.y:this.toValue(X?te.chartX:te.chartY),ue=g&&g.series?g.series.isPointInside(g):N(de)&&de>ge&&de<xe,te="",oe?te=B(oe,{value:de},y):M.formatter&&N(de)&&(te=M.formatter.call(this,de)),Ce.attr({text:te,x:ye,y:he,visibility:ue?"inherit":"hidden"}),M=Ce.getBBox(),!N(Ce.x)||X||re||(ye=Ce.x-M.width/2),N(Ce.y)&&(X?(fe&&!re||!fe&&re)&&(he=Ce.y-M.height):he=Ce.y-M.height/2),X?(A=ee-M.x,m=ee+this.width-M.x):(A=this.labelAlign==="left"?ee:0,m=this.labelAlign==="right"?ee+this.width:y.chartWidth),Ce.translateX<A&&(pe=A-Ce.translateX),Ce.translateX+M.width>=m&&(pe=-(Ce.translateX+M.width-m)),Ce.attr({x:ye+pe,y:he,anchorX:X?ye:this.opposite?0:y.chartWidth,anchorY:X?this.opposite?y.chartHeight:0:he+M.height/2})}}),Z.prototype.forceCropping=function(){const g=this.chart,A=this.options.dataGrouping;return this.allowDG!==!1&&A&&L(A.enabled,g.options.isStock)},T(o,"update",function(g){g=g.options,"scrollbar"in g&&this.navigator&&(K(!0,this.options.scrollbar,g.scrollbar),this.navigator.update({}),delete g.scrollbar)}),w}),i(t,"masters/modules/stock.src.js",[t["Core/Globals.js"],t["Series/DataModifyComposition.js"],t["Stock/Navigator/Navigator.js"],t["Stock/RangeSelector/RangeSelector.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Axis/OrdinalAxis.js"],t["Series/OHLC/OHLCSeries.js"],t["Series/Flags/FlagsSeries.js"],t["Core/Chart/StockChart.js"]],function(a,o,u,d,n,k,j,Z,z){a.Navigator=u,a.RangeSelector=d,a.Scrollbar=n,a.StockChart=a.stockChart=z.stockChart,o.compose(a.Series,a.Axis,a.Point),Z.compose(a.Renderer),u.compose(a.Axis,a.Chart,a.Series),j.compose(a.Series),k.compose(a.Axis,a.Series,a.Chart),d.compose(a.Axis,a.Chart),n.compose(a.Axis)})})})(stock);var stockExports=stock.exports;const Stock=getDefaultExportFromCjs(stockExports);Stock(Highcharts$1);const _sfc_main$G={name:"graph",components:{Chart:highchartsVue_minExports.Chart},data(){return{chartOptions:{chart:{zoomType:"xy"},title:{text:"",align:""},subtitle:{text:"",align:""},xAxis:[{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],crosshair:!0}],yAxis:[{labels:{format:"{value}°C",style:{color:Highcharts$1.getOptions().colors[2]}},title:{text:"Temperature",style:{color:Highcharts$1.getOptions().colors[2]}},opposite:!0},{gridLineWidth:0,title:{text:"Rainfall",style:{color:Highcharts$1.getOptions().colors[0]}},labels:{format:"{value} mm",style:{color:Highcharts$1.getOptions().colors[0]}}},{gridLineWidth:0,title:{text:"Sea-Level Pressure",style:{color:Highcharts$1.getOptions().colors[1]}},labels:{format:"{value} mb",style:{color:Highcharts$1.getOptions().colors[1]}},opposite:!0}],tooltip:{shared:!0},legend:{layout:"vertical",align:"left",x:80,verticalAlign:"top",y:55,floating:!0,backgroundColor:Highcharts$1.defaultOptions.legend.backgroundColor||"rgba(255,255,255,0.25)"},series:[{name:"Rainfall",type:"column",yAxis:1,data:[49.9,71.5,106.4,129.2,144,176,135.6,148.5,216.4,194.1,95.6,54.4],tooltip:{valueSuffix:" mm"}},{name:"Sea-Level Pressure",type:"spline",yAxis:2,data:[1016,1016,1015.9,1015.5,1012.3,1009.5,1009.6,1010.2,1013.1,1016.9,1018.2,1016.7],marker:{enabled:!1},dashStyle:"shortdot",tooltip:{valueSuffix:" mb"}},{name:"Temperature",type:"spline",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6],tooltip:{valueSuffix:" °C"}}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{floating:!1,layout:"horizontal",align:"center",verticalAlign:"bottom",x:0,y:0},yAxis:[{labels:{align:"right",x:0,y:-6},showLastLabel:!1},{labels:{align:"left",x:0,y:-6},showLastLabel:!1},{visible:!1}]}}]}}}}};function _sfc_render$y(e,t,i,a,o,u){const d=resolveComponent("Chart");return openBlock(),createBlock(d,{options:o.chartOptions,constructorType:"stockChart"},null,8,["options"])}const ChartGraph=_export_sfc$1(_sfc_main$G,[["render",_sfc_render$y]]);var accessibility={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function i(a,o,u,d){a.hasOwnProperty(o)||(a[o]=d.apply(null,u),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:a[o]}})))}t=t?t._modules:{},i(t,"Accessibility/Utils/HTMLUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(a,o){function u(z){if(typeof k.MouseEvent=="function")return new k.MouseEvent(z.type,z);if(n.createEvent){const H=n.createEvent("MouseEvent");if(H.initMouseEvent)return H.initMouseEvent(z.type,z.bubbles,z.cancelable,z.view||k,z.detail,z.screenX,z.screenY,z.clientX,z.clientY,z.ctrlKey,z.altKey,z.shiftKey,z.metaKey,z.button,z.relatedTarget),H}return d(z.type)}function d(z,H,Y){return H=H||{x:0,y:0},typeof k.MouseEvent=="function"?new k.MouseEvent(z,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:Y||Z,view:k,detail:z==="click"?1:0,screenX:H.x,screenY:H.y,clientX:H.x,clientY:H.y}):n.createEvent&&(Y=n.createEvent("MouseEvent"),Y.initMouseEvent)?(Y.initMouseEvent(z,!0,!0,k,z==="click"?1:0,H.x,H.y,H.x,H.y,!1,!1,!1,!1,0,null),Y):{type:z}}const{doc:n,win:k}=a,{css:j}=o,Z=k.EventTarget&&new k.EventTarget||"none";return{addClass:function(z,H){z.classList?z.classList.add(H):0>z.className.indexOf(H)&&(z.className+=" "+H)},cloneMouseEvent:u,cloneTouchEvent:function(z){var H=Y=>{const I=[];for(let B=0;B<Y.length;++B){const U=Y.item(B);U&&I.push(U)}return I};return typeof k.TouchEvent=="function"?(H=new k.TouchEvent(z.type,{touches:H(z.touches),targetTouches:H(z.targetTouches),changedTouches:H(z.changedTouches),ctrlKey:z.ctrlKey,shiftKey:z.shiftKey,altKey:z.altKey,metaKey:z.metaKey,bubbles:z.bubbles,cancelable:z.cancelable,composed:z.composed,detail:z.detail,view:z.view}),z.defaultPrevented&&H.preventDefault(),H):(H=u(z),H.touches=z.touches,H.changedTouches=z.changedTouches,H.targetTouches=z.targetTouches,H)},escapeStringForHTML:function(z){return z.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(z){return n.getElementById(z)},getFakeMouseEvent:d,getHeadingTagNameForElement:function(z){const H=I=>(I=parseInt(I.slice(1),10),"h"+Math.min(6,I+1)),Y=I=>{var B;e:{for(B=I;B=B.previousSibling;){const U=B.tagName||"";if(/H[1-6]/.test(U)){B=U;break e}}B=""}return B?H(B):(I=I.parentElement,I?(B=I.tagName,/H[1-6]/.test(B)?H(B):Y(I)):"p")};return Y(z)},removeChildNodes:function(z){for(;z.lastChild;)z.removeChild(z.lastChild)},removeClass:function(z,H){z.classList?z.classList.remove(H):z.className=z.className.replace(new RegExp(H,"g"),"")},removeElement:function(z){z&&z.parentNode&&z.parentNode.removeChild(z)},reverseChildNodes:function(z){let H=z.childNodes.length;for(;H--;)z.appendChild(z.childNodes[H])},simulatedEventTarget:Z,stripHTMLTagsFromString:function(z){return typeof z=="string"?z.replace(/<\/?[^>]+(>|$)/g,""):z},visuallyHideElement:function(z){j(z,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}}}),i(t,"Accessibility/A11yI18n.js",[t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],function(a,o){const{format:u}=a,{getNestedProperty:d,pick:n}=o;var k;return function(j){function Z(I,B){var U=I.indexOf("#each("),T=I.indexOf("#plural("),C=I.indexOf("[");const P=I.indexOf("]");if(-1<U){C=I.slice(U).indexOf(")")+U;var G=I.substring(0,U);if(T=I.substring(C+1),C=I.substring(U+6,C).split(","),U=Number(C[1]),I="",B=d(C[0],B))for(U=isNaN(U)?B.length:U,U=0>U?B.length+U:Math.min(U,B.length),C=0;C<U;++C)I+=G+B[C]+T;return I.length?I:""}if(-1<T){switch(G=I.slice(T).indexOf(")")+T,I=I.substring(T+8,G).split(","),Number(d(I[0],B))){case 0:I=n(I[4],I[1]);break;case 1:I=n(I[2],I[1]);break;case 2:I=n(I[3],I[1]);break;default:I=I[1]}return I?(B=I,B=B.trim&&B.trim()||B.replace(/^\s+|\s+$/g,"")):B="",B}return-1<C?(T=I.substring(0,C),I=Number(I.substring(C+1,P)),B=d(T,B),!isNaN(I)&&B&&(0>I?(G=B[B.length+I],typeof G>"u"&&(G=B[0])):(G=B[I],typeof G>"u"&&(G=B[B.length-1]))),typeof G<"u"?G:""):"{"+I+"}"}function z(I,B,U){const T=(N,ne)=>{N=N.slice(ne||0);const K=N.indexOf("{"),L=N.indexOf("}");if(-1<K&&L>K)return{statement:N.substring(K+1,L),begin:ne+K+1,end:ne+L}},C=[];let P,G,q=0;do P=T(I,q),G=I.substring(q,P&&P.begin-1),G.length&&C.push({value:G,type:"constant"}),P&&C.push({value:P.statement,type:"statement"}),q=P?P.end+1:q+1;while(P);return C.forEach(N=>{N.type==="statement"&&(N.value=Z(N.value,B))}),u(C.reduce((N,ne)=>N+ne.value,""),B,U)}function H(I,B){I=I.split(".");let U=this.options.lang,T=0;for(;T<I.length;++T)U=U&&U[I[T]];return typeof U=="string"?z(U,B,this):""}const Y=[];j.compose=function(I){return o.pushUnique(Y,I)&&(I.prototype.langFormat=H),I},j.i18nFormat=z}(k||(k={})),k}),i(t,"Accessibility/Utils/ChartUtilities.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(a,o,u){function d(T,C){const P=C.type,G=T.hcEvents;H.createEvent&&(T.dispatchEvent||T.fireEvent)?T.dispatchEvent?T.dispatchEvent(C):T.fireEvent(P,C):G&&G[P]?U(T,P,C):T.element&&d(T.element,C)}function n(T){const C=T.chart,P={};let G="Seconds";P.Seconds=((T.dataMax||T.max||0)-(T.dataMin||T.min||0))/1e3,P.Minutes=P.Seconds/60,P.Hours=P.Minutes/60,P.Days=P.Hours/24,["Minutes","Hours","Days"].forEach(function(N){2<P[N]&&(G=N)});const q=P[G].toFixed(G!=="Seconds"&&G!=="Minutes"?1:0);return C.langFormat("accessibility.axis.timeRange"+G,{chart:C,axis:T,range:q.replace(".0","")})}function k(T){const C=T.chart;var P=C.options;const G=P&&P.accessibility&&P.accessibility.screenReaderSection.axisRangeDateFormat||"",q={min:T.dataMin||T.min||0,max:T.dataMax||T.max||0};return P=function(N){return T.dateTime?C.time.dateFormat(G,q[N]):q[N].toString()},C.langFormat("accessibility.axis.rangeFromTo",{chart:C,axis:T,rangeFrom:P("min"),rangeTo:P("max")})}function j(T){if(T.points&&T.points.length)return(T=B(T.points,C=>!!C.graphic))&&T.graphic&&T.graphic.element}function Z(T){const C=j(T);return C&&C.parentNode||T.graph&&T.graph.element||T.group&&T.group.element}function z(T,C){C.setAttribute("aria-hidden",!1),C!==T.renderTo&&C.parentNode&&C.parentNode!==H.body&&(Array.prototype.forEach.call(C.parentNode.childNodes,function(P){P.hasAttribute("aria-hidden")||P.setAttribute("aria-hidden",!0)}),z(T,C.parentNode))}const{doc:H}=a,{stripHTMLTagsFromString:Y}=o,{defined:I,find:B,fireEvent:U}=u;return{fireEventOnWrappedOrUnwrappedElement:d,getChartTitle:function(T){return Y(T.options.title.text||T.langFormat("accessibility.defaultChartTitle",{chart:T}))},getAxisDescription:function(T){return T&&(T.userOptions&&T.userOptions.accessibility&&T.userOptions.accessibility.description||T.axisTitle&&T.axisTitle.textStr||T.options.id||T.categories&&"categories"||T.dateTime&&"Time"||"values")},getAxisRangeDescription:function(T){var C=T.options||{};return C.accessibility&&typeof C.accessibility.rangeDescription<"u"?C.accessibility.rangeDescription:T.categories?(C=T.chart,T=T.dataMax&&T.dataMin?C.langFormat("accessibility.axis.rangeCategories",{chart:C,axis:T,numCategories:T.dataMax-T.dataMin+1}):"",T):!T.dateTime||T.min!==0&&T.dataMin!==0?k(T):n(T)},getPointFromXY:function(T,C,P){let G=T.length,q;for(;G--;)if(q=B(T[G].points||[],function(N){return N.x===C&&N.y===P}))return q},getSeriesFirstPointElement:j,getSeriesFromName:function(T,C){return C?(T.series||[]).filter(function(P){return P.name===C}):T.series},getSeriesA11yElement:Z,unhideChartElementFromAT:z,hideSeriesFromAT:function(T){(T=Z(T))&&T.setAttribute("aria-hidden",!0)},scrollToPoint:function(T){var C=T.series.xAxis,P=T.series.yAxis;const G=C&&C.scrollbar?C:P;if((C=G&&G.scrollbar)&&I(C.to)&&I(C.from)){if(P=C.to-C.from,I(G.dataMin)&&I(G.dataMax)){var q=G.toPixels(G.dataMin),N=G.toPixels(G.dataMax);T=(G.toPixels(T[G.coll==="xAxis"?"x":"y"]||0)-q)/(N-q)}else T=0;C.updatePosition(T-P/2,T+P/2),U(C,"changed",{from:C.from,to:C.to,trigger:"scrollbar",DOMEvent:null})}}}}),i(t,"Accessibility/Utils/DOMElementProvider.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(a,o){const{doc:u}=a,{removeElement:d}=o;class n{constructor(){this.elements=[]}createElement(){const j=u.createElement.apply(u,arguments);return this.elements.push(j),j}destroyCreatedElements(){this.elements.forEach(function(j){d(j)}),this.elements=[]}}return n}),i(t,"Accessibility/Utils/EventProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(a,o){const{addEvent:u}=o;class d{constructor(){this.eventRemovers=[]}addEvent(){const k=u.apply(a,arguments);return this.eventRemovers.push(k),k}removeAddedEvents(){this.eventRemovers.forEach(k=>k()),this.eventRemovers=[]}}return d}),i(t,"Accessibility/AccessibilityComponent.js",[t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(a,o,u,d,n){const{fireEventOnWrappedOrUnwrappedElement:k}=a,{getFakeMouseEvent:j}=d;({extend:a}=n);class Z{constructor(){this.proxyProvider=this.keyCodes=this.eventProvider=this.domElementProvider=this.chart=void 0}initBase(H,Y){this.chart=H,this.eventProvider=new u,this.domElementProvider=new o,this.proxyProvider=Y,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(H,Y,I,B){return this.eventProvider.addEvent(H,Y,I,B)}createElement(H,Y){return this.domElementProvider.createElement(H,Y)}fakeClickEvent(H){const Y=j("click");k(H,Y)}destroyBase(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}}return a(Z.prototype,{init(){},getKeyboardNavigation:function(){},onChartUpdate(){},onChartRender(){},destroy(){}}),Z}),i(t,"Accessibility/KeyboardNavigationHandler.js",[t["Core/Utilities.js"]],function(a){const{find:o}=a;class u{constructor(n,k){this.chart=n,this.keyCodeMap=k.keyCodeMap||[],this.validate=k.validate,this.init=k.init,this.terminate=k.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(n){const k=n.which||n.keyCode;let j=this.response.noHandler;const Z=o(this.keyCodeMap,function(z){return-1<z[0].indexOf(k)});return Z?j=Z[1].call(this,k,n):k===9&&(j=this.response[n.shiftKey?"prev":"next"]),j}}return u}),i(t,"Accessibility/Components/ContainerComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(a,o,u,d,n){const{unhideChartElementFromAT:k,getChartTitle:j}=u,{doc:Z}=d,{stripHTMLTagsFromString:z}=n;class H extends a{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){const I=this.chart,B="highcharts-title-"+I.index,U=z(I.langFormat("accessibility.svgContainerTitle",{chartTitle:j(I)}));if(U.length){const T=this.svgTitleElement=this.svgTitleElement||Z.createElementNS("http://www.w3.org/2000/svg","title");T.textContent=U,T.id=B,I.renderTo.insertBefore(T,I.renderTo.firstChild)}}setSVGContainerLabel(){const I=this.chart,B=I.langFormat("accessibility.svgContainerLabel",{chartTitle:j(I)});I.renderer.box&&B.length&&I.renderer.box.setAttribute("aria-label",B)}setGraphicContainerAttrs(){const I=this.chart,B=I.langFormat("accessibility.graphicContainerLabel",{chartTitle:j(I)});B.length&&I.container.setAttribute("aria-label",B)}setRenderToAttrs(){const I=this.chart,B=I.options.accessibility.landmarkVerbosity!=="disabled",U=I.langFormat("accessibility.chartContainerLabel",{title:j(I),chart:I});U&&(I.renderTo.setAttribute("role",B?"region":"group"),I.renderTo.setAttribute("aria-label",U))}makeCreditsAccessible(){const I=this.chart,B=I.credits;B&&(B.textStr&&B.element.setAttribute("aria-label",I.langFormat("accessibility.credits",{creditsStr:z(B.textStr)})),k(I,B.element))}getKeyboardNavigation(){const I=this.chart;return new o(I,{keyCodeMap:[],validate:function(){return!0},init:function(){const B=I.accessibility;B&&B.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}}return H}),i(t,"Accessibility/FocusBorder.js",[t["Core/Renderer/SVG/SVGLabel.js"],t["Core/Utilities.js"]],function(a,o){const{addEvent:u,pick:d}=o;var n;return function(k){function j(){const C=this.focusElement,P=this.options.accessibility.keyboardNavigation.focusBorder;C&&(C.removeFocusBorder(),P.enabled&&C.addFocusBorder(P.margin,{stroke:P.style.color,strokeWidth:P.style.lineWidth,r:P.style.borderRadius}))}function Z(C,P){const G=this.options.accessibility.keyboardNavigation.focusBorder;(P=P||C.element)&&P.focus&&(P.hcEvents&&P.hcEvents.focusin||u(P,"focusin",function(){}),P.focus(),G.hideBrowserFocusOutline&&(P.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=C,this.renderFocusBorder()}function z(C){if(!C.focusBorderDestroyHook){var P=C.destroy;C.destroy=function(){return C.focusBorder&&C.focusBorder.destroy&&C.focusBorder.destroy(),P.apply(C,arguments)},C.focusBorderDestroyHook=P}}function H(C,P){this.focusBorder&&this.removeFocusBorder();const G=this.getBBox(),q=d(C,3),N=this.parentGroup;var ne=this.scaleX||N&&N.scaleX,K=this.scaleY||N&&N.scaleY;ne=(ne?!K:K)?Math.abs(ne||K||1):(Math.abs(ne||1)+Math.abs(K||1))/2,G.x+=this.translateX?this.translateX:0,G.y+=this.translateY?this.translateY:0,K=G.x-q;let L=G.y-q,E=G.width+2*q,w=G.height+2*q;var g=this instanceof a;if(this.element.nodeName==="text"||g){const y=!!this.rotation;if(g)var A={x:y?1:0,y:0};else{var m=A=0;this.attr("text-anchor")==="middle"?A=m=.5:this.rotation?A=.25:m=.75,A={x:A,y:m}}m=+this.attr("x");const x=+this.attr("y");isNaN(m)||(K=m-G.width*A.x-q),isNaN(x)||(L=x-G.height*A.y-q),g&&y&&(g=E,E=w,w=g,isNaN(m)||(K=m-G.height*A.x-q),isNaN(x)||(L=x-G.width*A.y-q))}this.focusBorder=this.renderer.rect(K,L,E,w,parseInt((P&&P.r||0).toString(),10)/ne).addClass("highcharts-focus-border").attr({zIndex:99}).add(N),this.renderer.styledMode||this.focusBorder.attr({stroke:P&&P.stroke,"stroke-width":(P&&P.strokeWidth||0)/ne}),Y(this,C,P),z(this)}function Y(C,...P){C.focusBorderUpdateHooks||(C.focusBorderUpdateHooks={},T.forEach(G=>{G+="Setter";const q=C[G]||C._defaultSetter;C.focusBorderUpdateHooks[G]=q,C[G]=function(){const N=q.apply(C,arguments);return C.addFocusBorder.apply(C,P),N}}))}function I(){B(this),this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}function B(C){C.focusBorderUpdateHooks&&(Object.keys(C.focusBorderUpdateHooks).forEach(P=>{const G=C.focusBorderUpdateHooks[P];G===C._defaultSetter?delete C[P]:C[P]=G}),delete C.focusBorderUpdateHooks)}const U=[],T="x y transform width height r d stroke-width".split(" ");k.compose=function(C,P){o.pushUnique(U,C)&&(C=C.prototype,C.renderFocusBorder=j,C.setFocusToElement=Z),o.pushUnique(U,P)&&(P=P.prototype,P.addFocusBorder=H,P.removeFocusBorder=I)}}(n||(n={})),n}),i(t,"Accessibility/Utils/Announcer.js",[t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(a,o,u,d,n){const{doc:k}=u,{addClass:j,visuallyHideElement:Z}=d,{attr:z}=n;class H{constructor(I,B){this.chart=I,this.domElementProvider=new o,this.announceRegion=this.addAnnounceRegion(B)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(I){a.setElementHTML(this.announceRegion,I),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(()=>{this.announceRegion.innerHTML=a.emptyHTML,delete this.clearAnnouncementRegionTimer},1e3)}addAnnounceRegion(I){const B=this.chart.announcerContainer||this.createAnnouncerContainer(),U=this.domElementProvider.createElement("div");return z(U,{"aria-hidden":!1,"aria-live":I}),this.chart.styledMode?j(U,"highcharts-visually-hidden"):Z(U),B.appendChild(U),U}createAnnouncerContainer(){const I=this.chart,B=k.createElement("div");return z(B,{"aria-hidden":!1,class:"highcharts-announcer-container"}),B.style.position="relative",I.renderTo.insertBefore(B,I.renderTo.firstChild),I.announcerContainer=B}}return H}),i(t,"Accessibility/Components/AnnotationsA11y.js",[t["Accessibility/Utils/HTMLUtilities.js"]],function(a){function o(Z){return(Z.annotations||[]).reduce((z,H)=>(H.options&&H.options.visible!==!1&&(z=z.concat(H.labels)),z),[])}function u(Z){return Z.options&&Z.options.accessibility&&Z.options.accessibility.description||Z.graphic&&Z.graphic.text&&Z.graphic.text.textStr||""}function d(Z){var z=Z.options&&Z.options.accessibility&&Z.options.accessibility.description;if(z)return z;z=Z.chart;const H=u(Z),Y=Z.points.filter(U=>!!U.graphic).map(U=>{const T=U.accessibility&&U.accessibility.valueDescription||U.graphic&&U.graphic.element&&U.graphic.element.getAttribute("aria-label")||"";return U=U&&U.series.name||"",(U?U+", ":"")+"data point "+T}).filter(U=>!!U),I=Y.length,B="accessibility.screenReaderSection.annotations.description"+(1<I?"MultiplePoints":I?"SinglePoint":"NoPoints");return Z={annotationText:H,annotation:Z,numPoints:I,annotationPoint:Y[0],additionalAnnotationPoints:Y.slice(1)},z.langFormat(B,Z)}function n(Z){return o(Z).map(z=>(z=k(j(d(z))))?`<li>${z}</li>`:"")}const{escapeStringForHTML:k,stripHTMLTagsFromString:j}=a;return{getAnnotationsInfoHTML:function(Z){const z=Z.annotations;return z&&z.length?`<ul style="list-style-type: none">${n(Z).join(" ")}</ul>`:""},getAnnotationLabelDescription:d,getAnnotationListItems:n,getPointAnnotationTexts:function(Z){const z=o(Z.series.chart).filter(H=>-1<H.points.indexOf(Z));return z.length?z.map(H=>`${u(H)}`):[]}}}),i(t,"Accessibility/Components/InfoRegionsComponent.js",[t["Accessibility/A11yI18n.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Components/AnnotationsA11y.js"],t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(a,o,u,d,n,k,j,Z,z,H){function Y(A,m){var y=m[0],x=A.series&&A.series[0]||{};if(x={numSeries:A.series.length,numPoints:x.points&&x.points.length,chart:A,mapTitle:A.mapView&&A.mapView.geoMap&&A.mapView.geoMap.title},!y)return A.langFormat("accessibility.chartTypes.emptyChart",x);if(y==="map")return x.mapTitle?A.langFormat("accessibility.chartTypes.mapTypeDescription",x):A.langFormat("accessibility.chartTypes.unknownMap",x);if(1<A.types.length)return A.langFormat("accessibility.chartTypes.combinationChart",x);{m=m[0],y=A.langFormat("accessibility.seriesTypeDescriptions."+m,x);const M=A.series&&2>A.series.length?"Single":"Multiple";A=(A.langFormat("accessibility.chartTypes."+m+M,x)||A.langFormat("accessibility.chartTypes.default"+M,x))+(y?" "+y:"")}return A}const{getAnnotationsInfoHTML:I}=d,{getAxisDescription:B,getAxisRangeDescription:U,getChartTitle:T,unhideChartElementFromAT:C}=k,{format:P}=j,{doc:G}=Z,{addClass:q,getElement:N,getHeadingTagNameForElement:ne,stripHTMLTagsFromString:K,visuallyHideElement:L}=z,{attr:E,pick:w}=H;class g extends o{constructor(){super(...arguments),this.announcer=void 0,this.screenReaderSections={}}init(){const m=this.chart,y=this;this.initRegionsDefinitions(),this.addEvent(m,"aftergetTableAST",function(x){y.onDataTableCreated(x)}),this.addEvent(m,"afterViewData",function(x){x.wasHidden&&(y.dataTableDiv=x.element,setTimeout(function(){y.focusDataTable()},300))}),this.announcer=new u(m,"assertive")}initRegionsDefinitions(){const m=this;this.screenReaderSections={before:{element:null,buildContent:function(y){const x=y.options.accessibility.screenReaderSection.beforeChartFormatter;return x?x(y):m.defaultBeforeChartFormatter(y)},insertIntoDOM:function(y,x){x.renderTo.insertBefore(y,x.renderTo.firstChild)},afterInserted:function(){typeof m.sonifyButtonId<"u"&&m.initSonifyButton(m.sonifyButtonId),typeof m.dataTableButtonId<"u"&&m.initDataTableButton(m.dataTableButtonId)}},after:{element:null,buildContent:function(y){const x=y.options.accessibility.screenReaderSection.afterChartFormatter;return x?x(y):m.defaultAfterChartFormatter()},insertIntoDOM:function(y,x){x.renderTo.insertBefore(y,x.container.nextSibling)},afterInserted:function(){m.chart.accessibility&&m.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}onChartRender(){const m=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),Object.keys(this.screenReaderSections).forEach(function(y){m.updateScreenReaderSection(y)})}getLinkedDescriptionElement(){var m=this.chart.options.accessibility.linkedDescription;if(m){if(typeof m!="string")return m;if(m=P(m,this.chart),m=G.querySelectorAll(m),m.length===1)return m[0]}}setLinkedDescriptionAttrs(){const m=this.linkedDescriptionElement;m&&(m.setAttribute("aria-hidden","true"),q(m,"highcharts-linked-description"))}updateScreenReaderSection(m){const y=this.chart,x=this.screenReaderSections[m],M=x.buildContent(y),X=x.element=x.element||this.createElement("div"),re=X.firstChild||this.createElement("div");M?(this.setScreenReaderSectionAttribs(X,m),n.setElementHTML(re,M),X.appendChild(re),x.insertIntoDOM(X,y),y.styledMode?q(re,"highcharts-visually-hidden"):L(re),C(y,re),x.afterInserted&&x.afterInserted()):(X.parentNode&&X.parentNode.removeChild(X),x.element=null)}setScreenReaderSectionAttribs(m,y){const x=this.chart,M=x.langFormat("accessibility.screenReaderSection."+y+"RegionLabel",{chart:x,chartTitle:T(x)});E(m,{id:`highcharts-screen-reader-region-${y}-${x.index}`,"aria-label":M||void 0}),m.style.position="relative",M&&m.setAttribute("role",x.options.accessibility.landmarkVerbosity==="all"?"region":"group")}defaultBeforeChartFormatter(){var m=this.chart;const y=m.options.accessibility.screenReaderSection.beforeChartFormat;if(!y)return"";var x=this.getAxesDescription();const M=m.sonify&&m.options.sonification&&m.options.sonification.enabled,X="highcharts-a11y-sonify-data-btn-"+m.index,re="hc-linkto-highcharts-data-table-"+m.index,ee=I(m),he=m.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:m});return x={headingTagName:ne(m.renderTo),chartTitle:T(m),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:x.xAxis,yAxisDescription:x.yAxis,playAsSoundButton:M?this.getSonifyButtonText(X):"",viewTableButton:m.getCSV?this.getDataTableButtonText(re):"",annotationsTitle:ee?he:"",annotationsList:ee},m=a.i18nFormat(y,x,m),this.dataTableButtonId=re,this.sonifyButtonId=X,m.replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}defaultAfterChartFormatter(){const m=this.chart,y=m.options.accessibility.screenReaderSection.afterChartFormat;if(!y)return"";const x={endOfChartMarker:this.getEndOfChartMarkerText()};return a.i18nFormat(y,x,m).replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}getLinkedDescription(){const m=this.linkedDescriptionElement;return K(m&&m.innerHTML||"")}getLongdescText(){const m=this.chart.options;var y=m.caption;y=y&&y.text;const x=this.getLinkedDescription();return m.accessibility.description||x||y||""}getTypeDescriptionText(){const m=this.chart;return m.types?m.options.accessibility.typeDescription||Y(m,m.types):""}getDataTableButtonText(m){var y=this.chart;return y=y.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:y,chartTitle:T(y)}),'<button id="'+m+'">'+y+"</button>"}getSonifyButtonText(m){var y=this.chart;return y.options.sonification&&y.options.sonification.enabled===!1?"":(y=y.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:y,chartTitle:T(y)}),'<button id="'+m+'">'+y+"</button>")}getSubtitleText(){const m=this.chart.options.subtitle;return K(m&&m.text||"")}getEndOfChartMarkerText(){const m=this.chart,y=m.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:m});return'<div id="highcharts-end-of-chart-marker-'+m.index+'">'+y+"</div>"}onDataTableCreated(m){const y=this.chart;if(y.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");const x=m.tree.attributes||{};x.tabindex=-1,x.summary=y.langFormat("accessibility.table.tableSummary",{chart:y}),m.tree.attributes=x}}focusDataTable(){var m=this.dataTableDiv;(m=m&&m.getElementsByTagName("table")[0])&&m.focus&&m.focus()}initSonifyButton(m){const y=this.sonifyButton=N(m),x=this.chart,M=X=>{y&&(y.setAttribute("aria-hidden","true"),y.setAttribute("aria-label","")),X.preventDefault(),X.stopPropagation(),X=x.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:x}),this.announcer.announce(X),setTimeout(()=>{y&&(y.removeAttribute("aria-hidden"),y.removeAttribute("aria-label")),x.sonify&&x.sonify()},1e3)};y&&x&&(y.setAttribute("tabindex",-1),y.onclick=function(X){(x.options.accessibility&&x.options.accessibility.screenReaderSection.onPlayAsSoundClick||M).call(this,X,x)})}initDataTableButton(m){const y=this.viewDataTableButton=N(m),x=this.chart;m=m.replace("hc-linkto-",""),y&&(E(y,{tabindex:-1,"aria-expanded":!!N(m)}),y.onclick=x.options.accessibility.screenReaderSection.onViewDataTableClick||function(){x.viewData()})}getAxesDescription(){const m=this.chart;var y=function(re,ee){return re=m[re],1<re.length||re[0]&&w(re[0].options.accessibility&&re[0].options.accessibility.enabled,ee)},x=!!m.types&&0>m.types.indexOf("map")&&0>m.types.indexOf("treemap")&&0>m.types.indexOf("tilemap");const M=!!m.hasCartesianSeries,X=y("xAxis",!m.angular&&M&&x);return y=y("yAxis",M&&x),x={},X&&(x.xAxis=this.getAxisDescriptionText("xAxis")),y&&(x.yAxis=this.getAxisDescriptionText("yAxis")),x}getAxisDescriptionText(m){const y=this.chart,x=y[m];return y.langFormat("accessibility.axis."+m+"Description"+(1<x.length?"Plural":"Singular"),{chart:y,names:x.map(function(M){return B(M)}),ranges:x.map(function(M){return U(M)}),numAxes:x.length})}destroy(){this.announcer&&this.announcer.destroy()}}return g}),i(t,"Accessibility/Components/MenuComponent.js",[t["Core/Chart/Chart.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(a,o,u,d,n,k){const{attr:j}=o,{getChartTitle:Z,unhideChartElementFromAT:z}=n,{getFakeMouseEvent:H}=k;class Y extends u{init(){const B=this.chart,U=this;this.addEvent(B,"exportMenuShown",function(){U.onMenuShown()}),this.addEvent(B,"exportMenuHidden",function(){U.onMenuHidden()}),this.createProxyGroup()}onMenuHidden(){const B=this.chart.exportContextMenu;B&&B.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")}onMenuShown(){const B=this.chart,U=B.exportContextMenu;U&&(this.addAccessibleContextMenuAttribs(),z(B,U)),this.setExportButtonExpandedState("true")}setExportButtonExpandedState(B){this.exportButtonProxy&&this.exportButtonProxy.buttonElement.setAttribute("aria-expanded",B)}onChartRender(){const B=this.chart,U=B.focusElement,T=B.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&U&&U===B.exportingGroup&&(U.focusBorder?B.setFocusToElement(U,this.exportButtonProxy.buttonElement):T&&T.keyboardNavigation.tabindexContainer.focus())}proxyMenuButton(){const B=this.chart,U=this.proxyProvider,T=B.exportSVGElements&&B.exportSVGElements[0];{var C=B.options.exporting;const P=B.exportSVGElements&&B.exportSVGElements[0];C=!!(C&&C.enabled!==!1&&C.accessibility&&C.accessibility.enabled&&P&&P.element)}C&&T&&(this.exportButtonProxy=U.addProxyElement("chartMenu",{click:T},{"aria-label":B.langFormat("accessibility.exporting.menuButtonLabel",{chart:B,chartTitle:Z(B)}),"aria-expanded":!1,title:B.options.lang.contextButtonTitle||null}))}createProxyGroup(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu","div")}addAccessibleContextMenuAttribs(){const B=this.chart;var U=B.exportDivElements;U&&U.length&&(U.forEach(T=>{T&&(T.tagName!=="LI"||T.children&&T.children.length?T.setAttribute("aria-hidden","true"):T.setAttribute("tabindex",-1))}),(U=U[0]&&U[0].parentNode)&&j(U,{"aria-hidden":void 0,"aria-label":B.langFormat("accessibility.exporting.chartMenuLabel",{chart:B}),role:"list"}))}getKeyboardNavigation(){const B=this.keyCodes,U=this.chart,T=this;return new d(U,{keyCodeMap:[[[B.left,B.up],function(){return T.onKbdPrevious(this)}],[[B.right,B.down],function(){return T.onKbdNext(this)}],[[B.enter,B.space],function(){return T.onKbdClick(this)}]],validate:function(){return!!U.exporting&&U.options.exporting.enabled!==!1&&U.options.exporting.accessibility.enabled!==!1},init:function(){const C=T.exportButtonProxy,P=T.chart.exportingGroup;C&&P&&U.setFocusToElement(P,C.buttonElement)},terminate:function(){U.hideExportMenu()}})}onKbdPrevious(B){const U=this.chart,T=U.options.accessibility;B=B.response;let C=U.highlightedExportItemIx||0;for(;C--;)if(U.highlightExportItem(C))return B.success;return T.keyboardNavigation.wrapAround?(U.highlightLastExportItem(),B.success):B.prev}onKbdNext(B){const U=this.chart,T=U.options.accessibility;B=B.response;for(let C=(U.highlightedExportItemIx||0)+1;C<U.exportDivElements.length;++C)if(U.highlightExportItem(C))return B.success;return T.keyboardNavigation.wrapAround?(U.highlightExportItem(0),B.success):B.next}onKbdClick(B){const U=this.chart,T=U.exportDivElements[U.highlightedExportItemIx],C=(U.exportSVGElements&&U.exportSVGElements[0]).element;return U.openMenu?this.fakeClickEvent(T):(this.fakeClickEvent(C),U.highlightExportItem(0)),B.response.success}}return function(I){function B(){var G=this.exportSVGElements&&this.exportSVGElements[0];G&&(G=G.element,G.onclick)&&G.onclick(H("click"))}function U(){const G=this.exportDivElements;G&&this.exportContextMenu&&this.openMenu&&(G.forEach(q=>{q&&q.className==="highcharts-menu-item"&&q.onmouseout&&q.onmouseout(H("mouseout"))}),this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())}function T(G){const q=this.exportDivElements&&this.exportDivElements[G],N=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(q&&q.tagName==="LI"&&(!q.children||!q.children.length)){const ne=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return q.focus&&ne&&q.focus(),N&&N.onmouseout&&N.onmouseout(H("mouseout")),q.onmouseover&&q.onmouseover(H("mouseover")),this.highlightedExportItemIx=G,!0}return!1}function C(){if(this.exportDivElements){let G=this.exportDivElements.length;for(;G--;)if(this.highlightExportItem(G))return!0}return!1}const P=[];I.compose=function(G){o.pushUnique(P,G)&&(G=a.prototype,G.hideExportMenu=U,G.highlightExportItem=T,G.highlightLastExportItem=C,G.showExportMenu=B)}}(Y||(Y={})),Y}),i(t,"Accessibility/KeyboardNavigation.js",[t["Core/Globals.js"],t["Accessibility/Components/MenuComponent.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(a,o,u,d,n){const{doc:k,win:j}=a,{addEvent:Z,fireEvent:z}=u,{getElement:H,simulatedEventTarget:Y}=n;class I{constructor(U,T){this.components=this.chart=void 0,this.currentModuleIx=NaN,this.exitAnchor=this.eventProvider=void 0,this.modules=[],this.tabindexContainer=void 0,this.init(U,T)}init(U,T){const C=this.eventProvider=new d;this.chart=U,this.components=T,this.modules=[],this.currentModuleIx=0,this.update(),C.addEvent(this.tabindexContainer,"keydown",P=>this.onKeydown(P)),C.addEvent(this.tabindexContainer,"focus",P=>this.onFocus(P)),["mouseup","touchend"].forEach(P=>C.addEvent(k,P,G=>this.onMouseUp(G))),["mousedown","touchstart"].forEach(P=>C.addEvent(U.renderTo,P,()=>{this.isClickingChart=!0}))}update(U){var T=this.chart.options.accessibility;T=T&&T.keyboardNavigation;const C=this.components;this.updateContainerTabindex(),T&&T.enabled&&U&&U.length?(this.modules=U.reduce(function(P,G){return G=C[G].getKeyboardNavigation(),P.concat(G)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())}updateExitAnchor(){const U=H(`highcharts-end-of-chart-marker-${this.chart.index}`);this.removeExitAnchor(),U?(this.makeElementAnExitAnchor(U),this.exitAnchor=U):this.createExitAnchor()}move(U){var T=this.modules&&this.modules[this.currentModuleIx];if(T&&T.terminate&&T.terminate(U),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=U,T=this.modules&&this.modules[this.currentModuleIx]){if(T.validate&&!T.validate())return this.move(U);if(T.init)return T.init(U),!0}return this.currentModuleIx=0,this.exiting=!0,0<U?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1}onFocus(U){var T=this.chart;U=U.relatedTarget&&T.container.contains(U.relatedTarget),!(T=(T=T.options.accessibility)&&T.keyboardNavigation)||!T.enabled||this.exiting||this.tabbingInBackwards||this.isClickingChart||U||(U=this.getFirstValidModuleIx(),U!==null&&(this.currentModuleIx=U,this.modules[U].init(1))),this.exiting=!1}onMouseUp(U){if(delete this.isClickingChart,!this.keyboardReset&&U.relatedTarget!==Y){const T=this.chart;U.target&&T.container.contains(U.target)||((U=this.modules&&this.modules[this.currentModuleIx||0])&&U.terminate&&U.terminate(),this.currentModuleIx=0),T.focusElement&&(T.focusElement.removeFocusBorder(),delete T.focusElement),this.keyboardReset=!0}}onKeydown(U){U=U||j.event;const T=this.modules&&this.modules.length&&this.modules[this.currentModuleIx];let C;if(this.exiting=this.keyboardReset=!1,T){const P=T.run(U);P===T.response.success?C=!0:P===T.response.prev?C=this.move(-1):P===T.response.next&&(C=this.move(1)),C&&(U.preventDefault(),U.stopPropagation())}}updateContainerTabindex(){var U=this.chart.options.accessibility;U=U&&U.keyboardNavigation,U=!(U&&U.enabled===!1);const T=this.chart;var C=T.container;T.renderTo.hasAttribute("tabindex")&&(C.removeAttribute("tabindex"),C=T.renderTo),this.tabindexContainer=C;const P=C.getAttribute("tabindex");U&&!P?C.setAttribute("tabindex","0"):U||T.container.removeAttribute("tabindex")}createExitAnchor(){const U=this.chart,T=this.exitAnchor=k.createElement("div");U.renderTo.appendChild(T),this.makeElementAnExitAnchor(T)}makeElementAnExitAnchor(U){const T=this.tabindexContainer.getAttribute("tabindex")||0;U.setAttribute("class","highcharts-exit-anchor"),U.setAttribute("tabindex",T),U.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(U)}removeExitAnchor(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)}addExitAnchorEventsToEl(U){const T=this.chart,C=this;this.eventProvider.addEvent(U,"focus",function(P){P=P||j.event;const G=!(P.relatedTarget&&T.container.contains(P.relatedTarget)||C.exiting);T.focusElement&&delete T.focusElement,G?(C.tabbingInBackwards=!0,C.tabindexContainer.focus(),delete C.tabbingInBackwards,P.preventDefault(),C.modules&&C.modules.length&&(C.currentModuleIx=C.modules.length-1,(P=C.modules[C.currentModuleIx])&&P.validate&&!P.validate()?C.move(-1):P&&P.init(-1))):C.exiting=!1})}getFirstValidModuleIx(){const U=this.modules.length;for(let T=0;T<U;++T){const C=this.modules[T];if(!C.validate||C.validate())return T}return null}destroy(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}}return function(B){function U(){const P=this;z(this,"dismissPopupContent",{},function(){P.tooltip&&P.tooltip.hide(0),P.hideExportMenu()})}function T(P){(P.which||P.keyCode)===27&&a.charts&&a.charts.forEach(G=>{G&&G.dismissPopupContent&&G.dismissPopupContent()})}const C=[];B.compose=function(P){return o.compose(P),u.pushUnique(C,P)&&(P.prototype.dismissPopupContent=U),u.pushUnique(C,k)&&Z(k,"keydown",T),P}}(I||(I={})),I}),i(t,"Accessibility/Components/LegendComponent.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Legend/Legend.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(a,o,u,d,n,k,j,Z){function z(L){const E=L.legend&&L.legend.allItems,w=L.options.legend.accessibility||{};return L=L.colorAxis&&L.colorAxis.some(g=>!g.dataClasses||!g.dataClasses.length),!(!E||!E.length||L||w.enabled===!1)}function H(L,E){const w=E.legendItem||{};E.setState(L?"hover":"",!0);for(const g of["group","label","symbol"])(E=(E=w[g])&&E.element||E)&&U(E,L?"mouseover":"mouseout")}const{animObject:Y}=a,{doc:I}=o,{addEvent:B,fireEvent:U,isNumber:T,pick:C,syncTimeout:P}=d,{getChartTitle:G}=j,{stripHTMLTagsFromString:q,addClass:N,removeClass:ne}=Z;class K extends n{constructor(){super(...arguments),this.highlightedLegendItemIx=NaN,this.proxyGroup=null}init(){const E=this;this.recreateProxies(),this.addEvent(u,"afterScroll",function(){this.chart===E.chart&&(E.proxyProvider.updateGroupProxyElementPositions("legend"),E.updateLegendItemProxyVisibility(),-1<E.highlightedLegendItemIx&&this.chart.highlightLegendItem(E.highlightedLegendItemIx))}),this.addEvent(u,"afterPositionItem",function(w){this.chart===E.chart&&this.chart.renderer&&E.updateProxyPositionForItem(w.item)}),this.addEvent(u,"afterRender",function(){this.chart===E.chart&&this.chart.renderer&&E.recreateProxies()&&P(()=>E.proxyProvider.updateGroupProxyElementPositions("legend"),Y(C(this.chart.renderer.globalAnimation,!0)).duration)})}updateLegendItemProxyVisibility(){const E=this.chart,w=E.legend,g=w.currentPage||1,A=w.clipHeight||0;let m;(w.allItems||[]).forEach(y=>{if(y.a11yProxyElement){var x=w.pages&&w.pages.length;const X=y.a11yProxyElement.element;var M=!1;m=y.legendItem||{},x&&(y=m.pageIx||0,x=m.y||0,M=m.label?Math.round(m.label.getBBox().height):0,M=x+M-w.pages[y]>A||y!==g-1),M?E.styledMode?N(X,"highcharts-a11y-invisible"):X.style.visibility="hidden":(ne(X,"highcharts-a11y-invisible"),X.style.visibility="")}})}onChartRender(){z(this.chart)||this.removeProxies()}highlightAdjacentLegendPage(E){const w=this.chart;var g=w.legend;E=(g.currentPage||1)+E;var A=g.pages||[];if(0<E&&E<=A.length){A=0;for(const m of g.allItems)((m.legendItem||{}).pageIx||0)+1===E&&(g=w.highlightLegendItem(A))&&(this.highlightedLegendItemIx=A),++A}}updateProxyPositionForItem(E){E.a11yProxyElement&&E.a11yProxyElement.refreshPosition()}recreateProxies(){var E=I.activeElement;const w=this.proxyGroup;return E=E&&w&&w.contains(E),this.removeProxies(),z(this.chart)?(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),E&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0):!1}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){var E=this.chart;const w=q((E.legend&&E.legend.options.title&&E.legend.options.title.text||"").replace(/<br ?\/?>/g," "));E=E.langFormat("accessibility.legend.legendLabel"+(w?"":"NoTitle"),{chart:E,legendTitle:w,chartTitle:G(E)}),this.proxyProvider.updateGroupAttrs("legend",{"aria-label":E})}addLegendProxyGroup(){this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:this.chart.options.accessibility.landmarkVerbosity==="all"?"region":null})}proxyLegendItems(){const E=this;let w;((this.chart.legend||{}).allItems||[]).forEach(g=>{w=g.legendItem||{},w.label&&w.label.element&&E.proxyLegendItem(g)})}proxyLegendItem(E){const w=E.legendItem||{};if(w.label&&w.group){var g=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:q(E.name),item:E});E.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:w.label,visual:(w.group.div?w.label:w.group).element},{tabindex:-1,"aria-pressed":E.visible,"aria-label":g})}}getKeyboardNavigation(){const E=this.keyCodes,w=this,g=this.chart;return new k(g,{keyCodeMap:[[[E.left,E.right,E.up,E.down],function(A){return w.onKbdArrowKey(this,A)}],[[E.enter,E.space],function(){return w.onKbdClick(this)}],[[E.pageDown,E.pageUp],function(A){return w.highlightAdjacentLegendPage(A===E.pageDown?1:-1),this.response.success}]],validate:function(){return w.shouldHaveLegendNavigation()},init:function(){g.highlightLegendItem(0),w.highlightedLegendItemIx=0},terminate:function(){w.highlightedLegendItemIx=-1,g.legend.allItems.forEach(A=>H(!1,A))}})}onKbdArrowKey(E,w){const g=this.keyCodes,A=E.response,m=this.chart,y=m.options.accessibility,x=m.legend.allItems.length;return w=w===g.left||w===g.up?-1:1,m.highlightLegendItem(this.highlightedLegendItemIx+w)?(this.highlightedLegendItemIx+=w,A.success):(1<x&&y.keyboardNavigation.wrapAround&&E.init(w),A.success)}onKbdClick(E){const w=this.chart.legend.allItems[this.highlightedLegendItemIx];return w&&w.a11yProxyElement&&w.a11yProxyElement.click(),E.response.success}shouldHaveLegendNavigation(){if(!z(this.chart))return!1;const E=this.chart,w=(E.options.legend||{}).accessibility||{};return!!(E.legend.display&&w.keyboardNavigation&&w.keyboardNavigation.enabled)}}return function(L){function E(A){var m=this.legend.allItems,y=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx;const x=m[A];var M=x.legendItem||{};return x?(T(y)&&m[y]&&H(!1,m[y]),m=this.legend,A=(m.allItems[A].legendItem||{}).pageIx,y=m.currentPage,typeof A<"u"&&A+1!==y&&m.scroll(1+A-y),M=M.label,A=x.a11yProxyElement&&x.a11yProxyElement.buttonElement,M&&M.element&&A&&this.setFocusToElement(M,A),H(!0,x),!0):!1}function w(A){const m=A.item;this.chart.options.accessibility.enabled&&m&&m.a11yProxyElement&&m.a11yProxyElement.buttonElement.setAttribute("aria-pressed",A.visible?"true":"false")}const g=[];L.compose=function(A,m){d.pushUnique(g,A)&&(A.prototype.highlightLegendItem=E),d.pushUnique(g,m)&&B(m,"afterColorizeItem",w)}}(K||(K={})),K}),i(t,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[t["Accessibility/Components/AnnotationsA11y.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(a,o,u,d,n){function k(x){const M=x.index;return x.series&&x.series.data&&y(M)&&g(x.series.data,function(X){return!!(X&&typeof X.index<"u"&&X.index>M&&X.graphic&&X.graphic.element)})||null}function j(x){const M=x.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(M!==!1&&x.points&&x.points.length>=M)}function Z(x){const M=x.options.accessibility||{};return!j(x)&&!M.exposeAsGroupOnly}function z(x){const M=x.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!(!x.points||!(x.points.length<M.pointNavigationEnabledThreshold||M.pointNavigationEnabledThreshold===!1))}function H(x,M){var X=x.series,re=X.chart;x=re.options.accessibility.point||{};const ee=X.options.accessibility&&X.options.accessibility.point||{};return X=X.tooltipOptions||{},re=re.options.lang,A(M)?L(M,ee.valueDecimals||x.valueDecimals||X.valueDecimals||-1,re.decimalPoint,re.accessibility.thousandsSep||re.thousandsSep):M}function Y(x){const M=(x.options.accessibility||{}).description;return M&&x.chart.langFormat("accessibility.series.description",{description:M,series:x})||""}function I(x,M){return x.chart.langFormat("accessibility.series."+M+"Description",{name:G(x[M]),series:x})}function B(x,M,X){const re=M||"",ee=X||"";return x.series.pointArrayMap.reduce(function(he,ye){{const Ce=H(x,m(x[ye],x.options[ye]));ye=Ce!==void 0?ye+": "+re+Ce+ee:Ce}return ye?he+(he.length?", ":"")+ye:he},"")}function U(x){var M=x.series,X=1<M.chart.series.length||M.options.name,re=x.series,ee=re.chart,he=re.options.accessibility;if(he=he&&he.point&&he.point.valueDescriptionFormat||ee.options.accessibility.point.valueDescriptionFormat,re=m(re.xAxis&&re.xAxis.options.accessibility&&re.xAxis.options.accessibility.enabled,!ee.angular&&re.type!=="flowmap"),re){var ye=x.series,Ce=ye.chart,oe=ye.options.accessibility&&ye.options.accessibility.point||{},de=Ce.options.accessibility.point||{};(ye=ye.xAxis&&ye.xAxis.dateTime)?(ye=ye.getXDateFormat(x.x||0,Ce.options.tooltip.dateTimeLabelFormats),oe=oe.dateFormatter&&oe.dateFormatter(x)||de.dateFormatter&&de.dateFormatter(x)||oe.dateFormat||de.dateFormat||ye,Ce=Ce.time.dateFormat(oe,x.x||0,void 0)):Ce=void 0,oe=(x.series.xAxis||{}).categories&&y(x.category)&&(""+x.category).replace("<br/>"," "),de=y(x.id)&&0>(""+x.id).indexOf("highcharts-"),ye="x, "+x.x,Ce=x.name||Ce||oe||(de?x.id:ye)}else Ce="";oe=Ce,Ce=y(x.index)?x.index+1:"";{de=x.series;var fe=de.chart.options.accessibility.point||{},ue=de.chart.options.accessibility&&de.chart.options.accessibility.point||{};const pe=de.tooltipOptions||{};ye=ue.valuePrefix||fe.valuePrefix||pe.valuePrefix||"",fe=ue.valueSuffix||fe.valueSuffix||pe.valueSuffix||"",ue=H(x,x[typeof x.value<"u"?"value":"y"]),de=x.isNull?de.chart.langFormat("accessibility.series.nullPointValue",{point:x}):de.pointArrayMap?B(x,ye,fe):ye+ue+fe}return ee=K(he,{point:x,index:Ce,xDescription:oe,value:de,separator:re?", ":""},ee),he=(he=x.options&&x.options.accessibility&&x.options.accessibility.description)?" "+he:"",M=X?" "+M.name+".":"",X=x.series.chart,re=P(x),Ce={point:x,annotations:re},X=re.length?X.langFormat("accessibility.series.pointAnnotationsDescription",Ce):"",x.accessibility=x.accessibility||{},x.accessibility.valueDescription=ee,ee+he+M+(X?" "+X:"")}function T(x){const M=Z(x),X=z(x),re=x.chart.options.accessibility.point.describeNull;(M||X)&&x.points.forEach(ee=>{var he;if(!(he=ee.graphic&&ee.graphic.element)){var ye=ee.series;if(he=ye&&ye.chart,ye=ye&&ye.is("sunburst"),he=he&&he.options.accessibility.point.describeNull,he=ee.isNull&&!ye&&he){ye=ee.series;var Ce=k(ee);ye=(he=Ce&&Ce.graphic)?he.parentGroup:ye.graph||ye.group,Ce=Ce?{x:m(ee.plotX,Ce.plotX,0),y:m(ee.plotY,Ce.plotY,0)}:{x:m(ee.plotX,0),y:m(ee.plotY,0)},Ce=ee.series.chart.renderer.rect(Ce.x,Ce.y,1,1),Ce.attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),ye&&ye.element?(ee.graphic=Ce,ee.hasMockGraphic=!0,Ce.add(ye),ye.element.insertBefore(Ce.element,he?he.element:null),he=Ce.element):he=void 0}}ye=ee.options&&ee.options.accessibility&&ee.options.accessibility.enabled===!1,he&&(ee.isNull&&!re?he.setAttribute("aria-hidden",!0):(he.setAttribute("tabindex","-1"),x.chart.styledMode||(he.style.outline="none"),M&&!ye?(Ce=ee.series,ye=Ce.chart.options.accessibility.point||{},Ce=Ce.options.accessibility&&Ce.options.accessibility.point||{},ee=w(Ce.descriptionFormatter&&Ce.descriptionFormatter(ee)||ye.descriptionFormatter&&ye.descriptionFormatter(ee)||U(ee)),he.setAttribute("role","img"),he.setAttribute("aria-label",ee)):he.setAttribute("aria-hidden",!0)))})}function C(x){const M=x.chart;var X=M.types||[];const re=Y(x);var ee=function(de){return M[de]&&1<M[de].length&&x[de]};const he=x.index+1;var ye=I(x,"xAxis");const Ce=I(x,"yAxis");var oe={seriesNumber:he,series:x,chart:M};return X=1<X.length?"Combination":"",oe=M.langFormat("accessibility.series.summary."+x.type+X,oe)||M.langFormat("accessibility.series.summary.default"+X,oe),ee=(ee("yAxis")?" "+Ce+".":"")+(ee("xAxis")?" "+ye+".":""),ye=m(x.options.accessibility&&x.options.accessibility.descriptionFormat,M.options.accessibility.series.descriptionFormat,""),K(ye,{seriesDescription:oe,authorDescription:re?" "+re:"",axisDescription:ee,series:x,chart:M,seriesNumber:he},void 0)}const{getPointAnnotationTexts:P}=a,{getAxisDescription:G,getSeriesFirstPointElement:q,getSeriesA11yElement:N,unhideChartElementFromAT:ne}=o,{format:K,numberFormat:L}=u,{reverseChildNodes:E,stripHTMLTagsFromString:w}=d,{find:g,isNumber:A,pick:m,defined:y}=n;return{defaultPointDescriptionFormatter:U,defaultSeriesDescriptionFormatter:C,describeSeries:function(x){var M=x.chart,X=q(x);const re=N(x);var ee=M.is3d&&M.is3d();if(re){re.lastChild!==X||ee||E(re),T(x),ne(M,re);{ee=x.chart,M=ee.options.chart,X=1<ee.series.length,ee=ee.options.accessibility.series.describeSingleSeries;const he=(x.options.accessibility||{}).exposeAsGroupOnly;M=!(M.options3d&&M.options3d.enabled&&X)&&(X||ee||he||j(x))}M?(M=x.chart.options.accessibility,X=M.landmarkVerbosity,(x.options.accessibility||{}).exposeAsGroupOnly?re.setAttribute("role","img"):X==="all"?re.setAttribute("role","region"):re.setAttribute("role","group"),re.setAttribute("tabindex","-1"),x.chart.styledMode||(re.style.outline="none"),re.setAttribute("aria-label",w(M.series.descriptionFormatter&&M.series.descriptionFormatter(x)||C(x)))):re.removeAttribute("aria-label")}}}}),i(t,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(a,o,u,d,n,k){function j(T){const C=T.series.data.filter(P=>T.x===P.x&&T.y===P.y);return C.length===1?C[0]:T}function Z(T,C){const P=(T||[]).concat(C||[]).reduce((G,q)=>(G[q.name+q.index]=q,G),{});return Object.keys(P).map(G=>P[G])}const{addEvent:z,defined:H}=o,{getChartTitle:Y}=d,{defaultPointDescriptionFormatter:I,defaultSeriesDescriptionFormatter:B}=k;class U{constructor(C){this.announcer=void 0,this.dirty={allSeries:{}},this.eventProvider=void 0,this.lastAnnouncementTime=0,this.chart=C}init(){const C=this.chart,P=C.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new n,this.announcer=new u(C,P),this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()}addEventListeners(){const C=this,P=this.chart,G=this.eventProvider;G.addEvent(P,"afterApplyDrilldown",function(){C.lastAnnouncementTime=0}),G.addEvent(P,"afterAddSeries",function(q){C.onSeriesAdded(q.series)}),G.addEvent(P,"redraw",function(){C.announceDirtyData()})}onSeriesAdded(C){this.chart.options.accessibility.announceNewData.enabled&&(this.dirty.hasDirty=!0,this.dirty.allSeries[C.name+C.index]=C,this.dirty.newSeries=H(this.dirty.newSeries)?void 0:C)}announceDirtyData(){const C=this;if(this.chart.options.accessibility.announceNewData&&this.dirty.hasDirty){let P=this.dirty.newPoint;P&&(P=j(P)),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(G=>C.dirty.allSeries[G]),this.dirty.newSeries,P),this.dirty={allSeries:{}}}}queueAnnouncement(C,P,G){var q=this.chart.options.accessibility.announceNewData;if(q.enabled){const N=+new Date;q=Math.max(0,q.minAnnounceInterval-(N-this.lastAnnouncementTime)),C=Z(this.queuedAnnouncement&&this.queuedAnnouncement.series,C),(P=this.buildAnnouncementMessage(C,P,G))&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:N,message:P,series:C},this.queuedAnnouncementTimer=setTimeout(()=>{this&&this.announcer&&(this.lastAnnouncementTime=+new Date,this.announcer.announce(this.queuedAnnouncement.message),delete this.queuedAnnouncement,delete this.queuedAnnouncementTimer)},q))}}buildAnnouncementMessage(C,P,G){const q=this.chart;var N=q.options.accessibility.announceNewData;return N.announcementFormatter&&(C=N.announcementFormatter(C,P,G),C!==!1)?C.length?C:null:(C=a.charts&&1<a.charts.length?"Multiple":"Single",C=P?"newSeriesAnnounce"+C:G?"newPointAnnounce"+C:"newDataAnnounce",N=Y(q),q.langFormat("accessibility.announceNewData."+C,{chartTitle:N,seriesDesc:P?B(P):null,pointDesc:G?I(G):null,point:G,series:P}))}}return function(T){function C(G){const q=this.chart,N=this.newDataAnnouncer;N&&N.chart===q&&q.options.accessibility.announceNewData.enabled&&(N.dirty.newPoint=H(N.dirty.newPoint)?void 0:G.point)}function P(){const G=this.chart,q=this.newDataAnnouncer;q&&q.chart===G&&G.options.accessibility.announceNewData.enabled&&(q.dirty.hasDirty=!0,q.dirty.allSeries[this.name+this.index]=this)}T.composedMembers=[],T.compose=function(G){o.pushUnique(T.composedMembers,G)&&(z(G,"addPoint",C),z(G,"updatedData",P))}}(U||(U={})),U}),i(t,"Accessibility/ProxyElement.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(a,o,u,d,n){const{doc:k}=a,{attr:j,css:Z,merge:z}=o,{fireEventOnWrappedOrUnwrappedElement:H}=d,{cloneMouseEvent:Y,cloneTouchEvent:I,getFakeMouseEvent:B,removeElement:U}=n;class T{constructor(P,G,q,N){this.chart=P,this.target=G,this.groupType=q,q=q==="ul",this.eventProvider=new u;const ne=q?k.createElement("li"):null,K=this.buttonElement=k.createElement("button");P.styledMode||this.hideButtonVisually(K),ne?(q&&!P.styledMode&&(ne.style.listStyle="none"),ne.appendChild(K),this.element=ne):this.element=K,this.updateTarget(G,N)}click(){var P=this.getTargetPosition();P.x+=P.width/2,P.y+=P.height/2,P=B("click",P),H(this.target.click,P)}updateTarget(P,G){this.target=P,this.updateCSSClassName();const q=G||{};Object.keys(q).forEach(N=>{q[N]===null&&delete q[N]}),j(this.buttonElement,z({"aria-label":this.getTargetAttr(P.click,"aria-label")},q)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToButton(this.buttonElement,P.click),this.refreshPosition()}refreshPosition(){const P=this.getTargetPosition();Z(this.buttonElement,{width:(P.width||1)+"px",height:(P.height||1)+"px",left:(Math.round(P.x)||0)+"px",top:(Math.round(P.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents(),U(this.element)}updateCSSClassName(){var P=this.chart.legend;P=P.group&&P.group.div,P=-1<(P&&P.className||"").indexOf("highcharts-no-tooltip");const G=-1<(this.getTargetAttr(this.target.click,"class")||"").indexOf("highcharts-no-tooltip");this.buttonElement.className=P||G?"highcharts-a11y-proxy-button highcharts-no-tooltip":"highcharts-a11y-proxy-button"}addProxyEventsToButton(P,G){"click touchstart touchend touchcancel touchmove mouseover mouseenter mouseleave mouseout".split(" ").forEach(q=>{const N=q.indexOf("touch")===0;this.eventProvider.addEvent(P,q,ne=>{const K=N?I(ne):Y(ne);G&&H(G,K),ne.stopPropagation(),N||ne.preventDefault()},{passive:!1})})}hideButtonVisually(P){Z(P,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){var P=this.target.click;if(P=P.element?P.element:P,P=this.target.visual||P,this.chart.renderTo&&P&&P.getBoundingClientRect){P=P.getBoundingClientRect();const G=this.chart.pointer.getChartPosition();return{x:(P.left-G.left)/G.scaleX,y:(P.top-G.top)/G.scaleY,width:P.right/G.scaleX-P.left/G.scaleX,height:P.bottom/G.scaleY-P.top/G.scaleY}}return{x:0,y:0,width:1,height:1}}getTargetAttr(P,G){return P.element?P.element.getAttribute(G):P.getAttribute(G)}}return T}),i(t,"Accessibility/ProxyProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/ProxyElement.js"]],function(a,o,u,d,n,k){const{doc:j}=a,{attr:Z,css:z}=o,{unhideChartElementFromAT:H}=u,{removeElement:Y,removeChildNodes:I}=n;class B{constructor(T){this.chart=T,this.domElementProvider=new d,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}addProxyElement(T,C,P){const G=this.groups[T];if(!G)throw Error("ProxyProvider.addProxyElement: Invalid group key "+T);return T=new k(this.chart,C,G.type,P),G.proxyContainerElement.appendChild(T.element),G.proxyElements.push(T),T}addGroup(T,C,P){var G=this.groups[T];if(G)return G.groupElement;G=this.domElementProvider.createElement(C);let q;return P&&P.role&&C!=="div"?(q=this.domElementProvider.createElement("div"),q.appendChild(G)):q=G,q.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+T.replace(/\W/g,"-"),this.groups[T]={proxyContainerElement:G,groupElement:q,type:C,proxyElements:[]},Z(q,P||{}),C==="ul"&&G.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(q),this.updateGroupOrder(this.groupOrder),q}updateGroupAttrs(T,C){const P=this.groups[T];if(!P)throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+T);Z(P.groupElement,C)}updateGroupOrder(T){if(this.groupOrder=T.slice(),!this.isDOMOrderGroupOrder()){var C=T.indexOf("series"),P=-1<C?T.slice(0,C):T,G=-1<C?T.slice(C+1):[];T=j.activeElement,["before","after"].forEach(q=>{const N=this[q==="before"?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];q=q==="before"?P:G,I(N),q.forEach(ne=>{(ne=this.groups[ne])&&N.appendChild(ne.groupElement)})}),(this.beforeChartProxyPosContainer.contains(T)||this.afterChartProxyPosContainer.contains(T))&&T&&T.focus&&T.focus()}}clearGroup(T){const C=this.groups[T];if(!C)throw Error("ProxyProvider.clearGroup: Invalid group key "+T);I(C.proxyContainerElement)}removeGroup(T){const C=this.groups[T];C&&(Y(C.groupElement),delete this.groups[T])}update(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(T){(T=this.groups[T])&&T.proxyElements.forEach(C=>C.refreshPosition())}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(T){const C=this.domElementProvider.createElement("div");return C.setAttribute("aria-hidden","false"),C.className="highcharts-a11y-proxy-container"+(T?"-"+T:""),z(C,{top:"0",left:"0"}),this.chart.styledMode||(C.style.whiteSpace="nowrap",C.style.position="absolute"),C}getCurrentGroupOrderInDOM(){const T=G=>{const q=Object.keys(this.groups);let N=q.length;for(;N--;){const ne=q[N],K=this.groups[ne];if(K&&G===K.groupElement)return ne}};var C=G=>{const q=[];G=G.children;for(let N=0;N<G.length;++N){const ne=T(G[N]);ne&&q.push(ne)}return q};const P=C(this.beforeChartProxyPosContainer);return C=C(this.afterChartProxyPosContainer),P.push("series"),P.concat(C)}isDOMOrderGroupOrder(){const T=this.getCurrentGroupOrderInDOM(),C=this.groupOrder.filter(G=>G==="series"||!!this.groups[G]);let P=T.length;if(P!==C.length)return!1;for(;P--;)if(T[P]!==C[P])return!1;return!0}updatePosContainerPositions(){const T=this.chart;if(!T.renderer.forExport){var C=T.renderer.box;T.container.insertBefore(this.afterChartProxyPosContainer,C.nextSibling),T.container.insertBefore(this.beforeChartProxyPosContainer,C),H(this.chart,this.afterChartProxyPosContainer),H(this.chart,this.beforeChartProxyPosContainer)}}}return B}),i(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),i(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],function(a,o,u){function d(){const E=this.range,w=E.type,g=this.max,A=this.chart.time,m=function(X,re){const ee=w==="year"?"FullYear":"Month",he=new A.Date(X),ye=A.get(ee,he);return A.set(ee,he,ye+re),ye===A.get(ee,he)&&A.set("Date",he,0),he.getTime()-X};let y,x;G(E)?(y=g-E,x=E):E&&(y=g+m(g,-(E.count||1)),this.chart&&(this.chart.fixedRange=g-y));const M=N(this.dataMin,Number.MIN_VALUE);return G(y)||(y=M),y<=M&&(y=M,typeof x>"u"&&(x=m(y,E.count)),this.newMax=Math.min(y+x,N(this.dataMax,Number.MAX_VALUE))),G(g)?!G(E)&&E&&E._offsetMin&&(y+=E._offsetMin):y=void 0,y}function n(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new L(this))}function k(){var E=this.axes;const w=this.rangeSelector;w&&(G(w.deferredYTDClick)&&(w.clickButton(w.deferredYTDClick),delete w.deferredYTDClick),E.forEach(g=>{g.updateNames(),g.setScale()}),this.getAxisMargins(),w.render(),E=w.options.verticalAlign,w.options.floating||(E==="bottom"?this.extraBottomMargin=!0:E!=="middle"&&(this.extraTopMargin=!0)))}function j(E){let w,g,A,m;const y=E.rangeSelector,x=()=>{y&&(w=E.xAxis[0].getExtremes(),g=E.legend,m=y&&y.options.verticalAlign,G(w.min)&&y.render(w.min,w.max),g.display&&m==="top"&&m===g.options.verticalAlign&&(A=q(E.spacingBox),A.y=g.options.layout==="vertical"?E.plotTop:A.y+y.getHeight(),g.group.placed=!1,g.align(A)))};y&&(P(ne,M=>M[0]===E)||ne.push([E,[U(E.xAxis[0],"afterSetExtremes",function(M){y&&y.render(M.min,M.max)}),U(E,"redraw",x)]]),x())}function Z(){for(let E=0,w=ne.length;E<w;++E){const g=ne[E];if(g[0]===this){g[1].forEach(A=>A()),ne.splice(E,1);break}}}function z(){var E=this.rangeSelector;E&&(E=E.getHeight(),this.extraTopMargin&&(this.plotTop+=E),this.extraBottomMargin&&(this.marginBottom+=E))}function H(){var E=this.rangeSelector;E&&!E.options.floating&&(E.render(),E=E.options.verticalAlign,E==="bottom"?this.extraBottomMargin=!0:E!=="middle"&&(this.extraTopMargin=!0))}function Y(E){var w=E.options.rangeSelector;E=this.extraBottomMargin;const g=this.extraTopMargin;let A=this.rangeSelector;w&&w.enabled&&!T(A)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=A=new L(this)),this.extraTopMargin=this.extraBottomMargin=!1,A&&(j(this),w=w&&w.verticalAlign||A.options&&A.options.verticalAlign,A.options.floating||(w==="bottom"?this.extraBottomMargin=!0:w!=="middle"&&(this.extraTopMargin=!0)),this.extraBottomMargin!==E||this.extraTopMargin!==g)&&(this.isDirtyBox=!0)}const{defaultOptions:I,setOptions:B}=a,{addEvent:U,defined:T,extend:C,find:P,isNumber:G,merge:q,pick:N}=u,ne=[],K=[];let L;return{compose:function(E,w,g){L=g,u.pushUnique(K,E)&&(E.prototype.minFromRange=d),u.pushUnique(K,w)&&(U(w,"afterGetContainer",n),U(w,"beforeRender",k),U(w,"destroy",Z),U(w,"getMargins",z),U(w,"render",H),U(w,"update",Y),w.prototype.callbacks.push(j)),u.pushUnique(K,B)&&(C(I,{rangeSelector:o.rangeSelector}),C(I.lang,o.lang))}}}),i(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(a,o,u,d,n,k){function j(w){if(w.indexOf("%L")!==-1)return"text";const g="aAdewbBmoyY".split("").some(m=>w.indexOf("%"+m)!==-1),A="HkIlMS".split("").some(m=>w.indexOf("%"+m)!==-1);return g&&A?"datetime-local":g?"date":A?"time":"text"}const{defaultOptions:Z}=o,{addEvent:z,createElement:H,css:Y,defined:I,destroyObjectProperties:B,discardElement:U,extend:T,fireEvent:C,isNumber:P,merge:G,objectEach:q,pad:N,pick:ne,pInt:K,splat:L}=k;class E{static compose(g,A){d.compose(g,A,E)}constructor(g){this.buttons=void 0,this.buttonOptions=E.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=g,this.init(g)}clickButton(g,A){const m=this.chart,y=this.buttonOptions[g],x=m.xAxis[0];var M=m.scroller&&m.scroller.getUnionExtremes()||x||{},X=y.type;const re=y.dataGrouping;let ee=M.dataMin,he=M.dataMax,ye,Ce=x&&Math.round(Math.min(x.max,ne(he,x.max))),oe;M=y._range;let de,fe,ue,pe=!0;if(ee!==null&&he!==null){if(m.fixedRange=M,this.setSelected(g),re&&(this.forcedDataGrouping=!0,a.prototype.setDataGrouping.call(x||{chart:this.chart},re,!1),this.frozenStates=y.preserveDataGrouping),X==="month"||X==="year")x?(X={range:y,max:Ce,chart:m,dataMin:ee,dataMax:he},ye=x.minFromRange.call(X),P(X.newMax)&&(Ce=X.newMax),pe=!1):M=y;else if(M)ye=Math.max(Ce-M,ee),Ce=Math.min(ye+M,he),pe=!1;else if(X==="ytd")if(x)(typeof he>"u"||typeof ee>"u")&&(ee=Number.MAX_VALUE,he=Number.MIN_VALUE,m.series.forEach(te=>{(te=te.xData)&&(ee=Math.min(te[0],ee),he=Math.max(te[te.length-1],he))}),A=!1),X=this.getYTDExtremes(he,ee,m.time.useUTC),ye=de=X.min,Ce=X.max;else{this.deferredYTDClick=g;return}else X==="all"&&x&&(m.navigator&&m.navigator.baseSeries[0]&&(m.navigator.baseSeries[0].xAxis.options.range=void 0),ye=ee,Ce=he);pe&&y._offsetMin&&I(ye)&&(ye+=y._offsetMin),y._offsetMax&&I(Ce)&&(Ce+=y._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=g+1),x?x.setExtremes(ye,Ce,ne(A,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:y}):(oe=L(m.options.xAxis)[0],ue=oe.range,oe.range=M,fe=oe.min,oe.min=de,z(m,"load",function(){oe.range=ue,oe.min=fe})),C(this,"afterBtnClick")}}setSelected(g){this.selected=this.options.selected=g}init(g){const A=this,m=g.options.rangeSelector,y=m.buttons||A.defaultButtons.slice(),x=m.selected,M=function(){const X=A.minInput,re=A.maxInput;X&&X.blur&&C(X,"blur"),re&&re.blur&&C(re,"blur")};A.chart=g,A.options=m,A.buttons=[],A.buttonOptions=y,this.eventsToUnbind=[],this.eventsToUnbind.push(z(g.container,"mousedown",M)),this.eventsToUnbind.push(z(g,"resize",M)),y.forEach(A.computeButtonRange),typeof x<"u"&&y[x]&&this.clickButton(x,!1),this.eventsToUnbind.push(z(g,"load",function(){g.xAxis&&g.xAxis[0]&&z(g.xAxis[0],"setExtremes",function(X){this.max-this.min!==g.fixedRange&&X.trigger!=="rangeSelectorButton"&&X.trigger!=="updatedData"&&A.forcedDataGrouping&&!A.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const g=this;var A=this.chart;const m=this.dropdown,y=A.xAxis[0],x=Math.round(y.max-y.min),M=!y.hasVisibleSeries,X=A.scroller&&A.scroller.getUnionExtremes()||y,re=X.dataMin,ee=X.dataMax;A=g.getYTDExtremes(ee,re,A.time.useUTC);const he=A.min,ye=A.max,Ce=g.selected,oe=g.options.allButtonsEnabled,de=g.buttons;let fe=P(Ce);g.buttonOptions.forEach((ue,pe)=>{var te=ue._range,ge=ue.type,xe=ue.count||1;const ce=de[pe],we=ue._offsetMax-ue._offsetMin,Ae=pe===Ce,Fe=te>ee-re,De=te<y.minRange;ue=0;let Ge=!1,ct=!1;te=te===x,(ge==="month"||ge==="year")&&x+36e5>=864e5*{month:28,year:365}[ge]*xe-we&&x-36e5<=864e5*{month:31,year:366}[ge]*xe+we?te=!0:ge==="ytd"?(te=ye-he+we===x,Ge=!Ae):ge==="all"&&(te=y.max-y.min>=ee-re,ct=!Ae&&fe&&te),ge=!oe&&(Fe||De||ct||M),xe=Ae&&te||te&&!fe&&!Ge||Ae&&g.frozenStates,ge?ue=3:xe&&(fe=!0,ue=2),ce.state!==ue&&(ce.setState(ue),m&&(m.options[pe+1].disabled=ge,ue===2&&(m.selectedIndex=pe+1)),ue===0&&Ce===pe&&g.setSelected())})}computeButtonRange(g){const A=g.type,m=g.count||1,y={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};y[A]?g._range=y[A]*m:(A==="month"||A==="year")&&(g._range=864e5*{month:30,year:365}[A]*m),g._offsetMin=ne(g.offsetMin,0),g._offsetMax=ne(g.offsetMax,0),g._range+=g._offsetMax-g._offsetMin}getInputValue(g){g=g==="min"?this.minInput:this.maxInput;const A=this.chart.options.rangeSelector,m=this.chart.time;return g?(g.type==="text"&&A.inputDateParser||this.defaultInputDateParser)(g.value,m.useUTC,m):0}setInputValue(g,A){const m=this.options,y=this.chart.time,x=g==="min"?this.minInput:this.maxInput;if(g=g==="min"?this.minDateBox:this.maxDateBox,x){var M=x.getAttribute("data-hc-time");M=I(M)?Number(M):void 0,I(A)&&(I(M)&&x.setAttribute("data-hc-time-previous",M),x.setAttribute("data-hc-time",A),M=A),x.value=y.dateFormat(this.inputTypeFormats[x.type]||m.inputEditDateFormat,M),g&&g.attr({text:y.dateFormat(m.inputDateFormat,M)})}}setInputExtremes(g,A,m){if(g=g==="min"?this.minInput:this.maxInput){const y=this.inputTypeFormats[g.type],x=this.chart.time;y&&(A=x.dateFormat(y,A),g.min!==A&&(g.min=A),m=x.dateFormat(y,m),g.max!==m&&(g.max=m))}}showInput(g){const A=g==="min"?this.minDateBox:this.maxDateBox;if((g=g==="min"?this.minInput:this.maxInput)&&A&&this.inputGroup){const m=g.type==="text",{translateX:y,translateY:x}=this.inputGroup,{inputBoxWidth:M}=this.options;Y(g,{width:m?A.width+(M?-2:20)+"px":"auto",height:A.height-2+"px",border:"2px solid silver"}),m&&M?Y(g,{left:y+A.x+"px",top:x+"px"}):Y(g,{left:Math.min(Math.round(A.x+y-(g.offsetWidth-A.width)/2),this.chart.chartWidth-g.offsetWidth)+"px",top:x-(g.offsetHeight-A.height)/2+"px"})}}hideInput(g){(g=g==="min"?this.minInput:this.maxInput)&&Y(g,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(g,A,m){var y=g.split("/").join("-").split(" ").join("T");if(y.indexOf("T")===-1&&(y+="T00:00"),A)y+="Z";else{var x;(x=u.isSafari)&&(x=y,x=!(6<x.length&&(x.lastIndexOf("-")===x.length-6||x.lastIndexOf("+")===x.length-6))),x&&(x=new Date(y).getTimezoneOffset()/60,y+=0>=x?`+${N(-x)}:00`:`-${N(x)}:00`)}return y=Date.parse(y),P(y)||(g=g.split("-"),y=Date.UTC(K(g[0]),K(g[1])-1,K(g[2]))),m&&A&&P(y)&&(y+=m.getTimezoneOffset(y)),y}drawInput(g){function A(){const{maxInput:de,minInput:fe}=M,ue=m.xAxis[0];var pe=m.scroller&&m.scroller.xAxis?m.scroller.xAxis:ue;const te=pe.dataMin;pe=pe.dataMax;let ge=M.getInputValue(g);ge!==Number(Ce.getAttribute("data-hc-time-previous"))&&P(ge)&&(Ce.setAttribute("data-hc-time-previous",ge),he&&de&&P(te)?ge>Number(de.getAttribute("data-hc-time"))?ge=void 0:ge<te&&(ge=te):fe&&P(pe)&&(ge<Number(fe.getAttribute("data-hc-time"))?ge=void 0:ge>pe&&(ge=pe)),typeof ge<"u"&&ue.setExtremes(he?ge:ue.min,he?ue.max:ge,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:m,div:y,inputGroup:x}=this,M=this,X=m.renderer.style||{};var re=m.renderer;const ee=m.options.rangeSelector,he=g==="min";var ye=Z.lang[he?"rangeSelectorFrom":"rangeSelectorTo"]||"";ye=re.label(ye,0).addClass("highcharts-range-label").attr({padding:ye?2:0,height:ye?ee.inputBoxHeight:0}).add(x),re=re.label("",0).addClass("highcharts-range-input").attr({padding:2,width:ee.inputBoxWidth,height:ee.inputBoxHeight,"text-align":"center"}).on("click",function(){M.showInput(g),M[g+"Input"].focus()}),m.styledMode||re.attr({stroke:ee.inputBoxBorderColor,"stroke-width":1}),re.add(x);const Ce=H("input",{name:g,className:"highcharts-range-selector"},void 0,y);Ce.setAttribute("type",j(ee.inputDateFormat||"%e %b %Y")),m.styledMode||(ye.css(G(X,ee.labelStyle)),re.css(G({color:"#333333"},X,ee.inputStyle)),Y(Ce,T({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:X.fontSize,fontFamily:X.fontFamily,top:"-9999em"},ee.inputStyle))),Ce.onfocus=()=>{M.showInput(g)},Ce.onblur=()=>{Ce===u.doc.activeElement&&A(),M.hideInput(g),M.setInputValue(g),Ce.blur()};let oe=!1;return Ce.onchange=()=>{oe||(A(),M.hideInput(g),Ce.blur())},Ce.onkeypress=de=>{de.keyCode===13&&A()},Ce.onkeydown=de=>{oe=!0,de.keyCode!==38&&de.keyCode!==40||A()},Ce.onkeyup=()=>{oe=!1},{dateBox:re,input:Ce,label:ye}}getPosition(){var g=this.chart;const A=g.options.rangeSelector;return g=A.verticalAlign==="top"?g.plotTop-g.axisOffset[0]:0,{buttonTop:g+A.buttonPosition.y,inputTop:g+A.inputPosition.y-10}}getYTDExtremes(g,A,m){const y=this.chart.time;var x=new y.Date(g);const M=y.get("FullYear",x);return m=m?y.Date.UTC(M,0,1):+new y.Date(M,0,1),A=Math.max(A,m),x=x.getTime(),{max:Math.min(g||x,x),min:A}}render(g,A){var m=this.chart,y=m.renderer;const x=m.container;var M=m.options;const X=M.rangeSelector,re=ne(M.chart.style&&M.chart.style.zIndex,0)+1;if(M=X.inputEnabled,X.enabled!==!1){if(this.rendered||(this.group=y.g("range-selector-group").attr({zIndex:7}).add(),this.div=H("div",void 0,{position:"relative",height:0,zIndex:re}),this.buttonOptions.length&&this.renderButtons(),x.parentNode&&x.parentNode.insertBefore(this.div,x),M&&(this.inputGroup=y.g("input-group").add(this.group),y=this.drawInput("min"),this.minDateBox=y.dateBox,this.minLabel=y.label,this.minInput=y.input,y=this.drawInput("max"),this.maxDateBox=y.dateBox,this.maxLabel=y.label,this.maxInput=y.input)),M&&(this.setInputValue("min",g),this.setInputValue("max",A),g=m.scroller&&m.scroller.getUnionExtremes()||m.xAxis[0]||{},I(g.dataMin)&&I(g.dataMax)&&(m=m.xAxis[0].minRange||0,this.setInputExtremes("min",g.dataMin,Math.min(g.dataMax,this.getInputValue("max"))-m),this.setInputExtremes("max",Math.max(g.dataMin,this.getInputValue("min"))+m,g.dataMax)),this.inputGroup)){let ee=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(he=>{if(he){const{width:ye}=he.getBBox();ye&&(he.attr({x:ee}),ee+=ye+X.inputSpacing)}})}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:g,chart:A,options:m}=this,y=Z.lang,x=A.renderer,M=G(m.buttonTheme),X=M&&M.states,re=M.width||28;delete M.width,delete M.states,this.buttonGroup=x.g("range-selector-buttons").add(this.group);const ee=this.dropdown=H("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);z(ee,"touchstart",()=>{ee.style.fontSize="16px"}),[[u.isMS?"mouseover":"mouseenter"],[u.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([he,ye])=>{z(ee,he,()=>{const Ce=g[this.currentButtonIndex()];Ce&&C(Ce.element,ye||he)})}),this.zoomText=x.label(y&&y.rangeSelectorZoom||"",0).attr({padding:m.buttonTheme.padding,height:m.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(m.labelStyle),M["stroke-width"]=ne(M["stroke-width"],0)),H("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,ee),this.buttonOptions.forEach((he,ye)=>{H("option",{textContent:he.title||he.text},void 0,ee),g[ye]=x.button(he.text,0,0,Ce=>{const oe=he.events&&he.events.click;let de;oe&&(de=oe.call(he,Ce)),de!==!1&&this.clickButton(ye),this.isActive=!0},M,X&&X.hover,X&&X.select,X&&X.disabled).attr({"text-align":"center",width:re}).add(this.buttonGroup),he.title&&g[ye].attr("title",he.title)})}alignElements(){const{buttonGroup:g,buttons:A,chart:m,group:y,inputGroup:x,options:M,zoomText:X}=this;var re=m.options;const ee=re.exporting&&re.exporting.enabled!==!1&&re.navigation&&re.navigation.buttonOptions,{buttonPosition:he,inputPosition:ye,verticalAlign:Ce}=M;re=(ue,pe)=>ee&&this.titleCollision(m)&&Ce==="top"&&pe.align==="right"&&pe.y-ue.getBBox().height-12<(ee.y||0)+(ee.height||0)+m.spacing[0]?-40:0;var oe=m.plotLeft;if(y&&he&&ye){var de=he.x-m.spacing[3];if(g){if(this.positionButtons(),!this.initialButtonGroupWidth){let ge=0;X&&(ge+=X.getBBox().width+5),A.forEach((xe,ce)=>{ge+=xe.width,ce!==A.length-1&&(ge+=M.buttonSpacing)}),this.initialButtonGroupWidth=ge}oe-=m.spacing[3],this.updateButtonStates();var fe=re(g,he);this.alignButtonGroup(fe),y.placed=g.placed=m.hasLoaded}fe=0,x&&(fe=re(x,ye),ye.align==="left"?de=oe:ye.align==="right"&&(de=-Math.max(m.axisOffset[1],-fe)),x.align({y:ye.y,width:x.getBBox().width,align:ye.align,x:ye.x+de-2},!0,m.spacingBox),x.placed=m.hasLoaded),this.handleCollision(fe),y.align({verticalAlign:Ce},!0,m.spacingBox),re=y.alignAttr.translateY,oe=y.getBBox().height+20,de=0,Ce==="bottom"&&(de=(de=m.legend&&m.legend.options)&&de.verticalAlign==="bottom"&&de.enabled&&!de.floating?m.legend.legendHeight+ne(de.margin,10):0,oe=oe+de-20,de=re-oe-(M.floating?0:M.y)-(m.titleOffset?m.titleOffset[2]:0)-10),Ce==="top"?(M.floating&&(de=0),m.titleOffset&&m.titleOffset[0]&&(de=m.titleOffset[0]),de+=m.margin[0]-m.spacing[0]||0):Ce==="middle"&&(ye.y===he.y?de=re:(ye.y||he.y)&&(de=0>ye.y||0>he.y?de-Math.min(ye.y,he.y):re-oe)),y.translate(M.x,M.y+Math.floor(de));const{minInput:ue,maxInput:pe,dropdown:te}=this;M.inputEnabled&&ue&&pe&&(ue.style.marginTop=y.translateY+"px",pe.style.marginTop=y.translateY+"px"),te&&(te.style.marginTop=y.translateY+"px")}}alignButtonGroup(g,A){const{chart:m,options:y,buttonGroup:x}=this,{buttonPosition:M}=y,X=m.plotLeft-m.spacing[3];let re=M.x-m.spacing[3];M.align==="right"?re+=g-X:M.align==="center"&&(re-=X/2),x&&x.align({y:M.y,width:ne(A,this.initialButtonGroupWidth),align:M.align,x:re},!0,m.spacingBox)}positionButtons(){const{buttons:g,chart:A,options:m,zoomText:y}=this,x=A.hasLoaded?"animate":"attr",{buttonPosition:M}=m,X=A.plotLeft;let re=X;y&&y.visibility!=="hidden"&&(y[x]({x:ne(X+M.x,X)}),re+=M.x+y.getBBox().width+5);for(let ee=0,he=this.buttonOptions.length;ee<he;++ee)g[ee].visibility!=="hidden"?(g[ee][x]({x:re}),re+=g[ee].width+m.buttonSpacing):g[ee][x]({x:X})}handleCollision(g){const{chart:A,buttonGroup:m,inputGroup:y}=this,{buttonPosition:x,dropdown:M,inputPosition:X}=this.options,re=()=>{let ye=0;return this.buttons.forEach(Ce=>{Ce=Ce.getBBox(),Ce.width>ye&&(ye=Ce.width)}),ye},ee=ye=>{if(y&&m){const Ce=y.alignAttr.translateX+y.alignOptions.x-g+y.getBBox().x+2,oe=y.alignOptions.width,de=m.alignAttr.translateX+m.getBBox().x;return de+ye>Ce&&Ce+oe>de&&x.y<X.y+y.getBBox().height}return!1},he=()=>{y&&m&&y.attr({translateX:y.alignAttr.translateX+(A.axisOffset[1]>=-g?0:-g),translateY:y.alignAttr.translateY+m.getBBox().height+10})};if(m){if(M==="always"){this.collapseButtons(g),ee(re())&&he();return}M==="never"&&this.expandButtons()}y&&m?X.align===x.align||ee(this.initialButtonGroupWidth+20)?M==="responsive"?(this.collapseButtons(g),ee(re())&&he()):he():M==="responsive"&&this.expandButtons():m&&M==="responsive"&&(this.initialButtonGroupWidth>A.plotWidth?this.collapseButtons(g):this.expandButtons())}collapseButtons(g){const{buttons:A,buttonOptions:m,chart:y,dropdown:x,options:M,zoomText:X}=this,re=y.userOptions.rangeSelector&&y.userOptions.rangeSelector.buttonTheme||{},ee=Ce=>({text:Ce?`${Ce} ▾`:"▾",width:"auto",paddingLeft:ne(M.buttonTheme.paddingLeft,re.padding,8),paddingRight:ne(M.buttonTheme.paddingRight,re.padding,8)});X&&X.hide();let he=!1;m.forEach((Ce,oe)=>{oe=A[oe],oe.state!==2?oe.hide():(oe.show(),oe.attr(ee(Ce.text)),he=!0)}),he||(x&&(x.selectedIndex=0),A[0].show(),A[0].attr(ee(this.zoomText&&this.zoomText.textStr)));const{align:ye}=M.buttonPosition;this.positionButtons(),ye!=="right"&&ye!=="center"||this.alignButtonGroup(g,A[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:g,buttonOptions:A,options:m,zoomText:y}=this;this.hideDropdown(),y&&y.show(),A.forEach((x,M)=>{M=g[M],M.show(),M.attr({text:x.text,width:m.buttonTheme.width||28,paddingLeft:ne(m.buttonTheme.paddingLeft,"unset"),paddingRight:ne(m.buttonTheme.paddingRight,"unset")}),2>M.state&&M.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:g}=this;return g&&0<g.selectedIndex?g.selectedIndex-1:0}showDropdown(){const{buttonGroup:g,buttons:A,chart:m,dropdown:y}=this;if(g&&y){const{translateX:x,translateY:M}=g,X=A[this.currentButtonIndex()].getBBox();Y(y,{left:m.plotLeft+x+"px",top:M+.5+"px",width:X.width+"px",height:X.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:g}=this;g&&(Y(g,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var g=this.options,A=this.group;const m=g.y,y=g.buttonPosition.y,x=g.inputPosition.y;return g.height?g.height:(this.alignElements(),g=A?A.getBBox(!0).height+13+m:0,A=Math.min(x,y),(0>x&&0>y||0<x&&0<y)&&(g+=Math.abs(A)),g)}titleCollision(g){return!(g.options.title.text||g.options.subtitle.text)}update(g){const A=this.chart;G(!0,A.options.rangeSelector,g),this.destroy(),this.init(A),this.render()}destroy(){const g=this,A=g.minInput,m=g.maxInput;g.eventsToUnbind&&(g.eventsToUnbind.forEach(y=>y()),g.eventsToUnbind=void 0),B(g.buttons),A&&(A.onfocus=A.onblur=A.onchange=null),m&&(m.onfocus=m.onblur=m.onchange=null),q(g,function(y,x){y&&x!=="chart"&&(y instanceof n?y.destroy():y instanceof window.HTMLElement&&U(y)),y!==E.prototype[x]&&(g[x]=null)},this)}}return T(E.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),E}),i(t,"Accessibility/Components/RangeSelectorComponent.js",[t["Stock/RangeSelector/RangeSelector.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(a,o,u,d,n,k){const{unhideChartElementFromAT:j,getAxisRangeDescription:Z}=u,{addEvent:z,attr:H}=k;class Y extends o{constructor(){super(...arguments),this.announcer=void 0}init(){this.announcer=new d(this.chart,"polite")}onChartUpdate(){const B=this.chart,U=this,T=B.rangeSelector;T&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),T.buttons&&T.buttons.length&&T.buttons.forEach(C=>{U.setRangeButtonAttrs(C)}),T.maxInput&&T.minInput&&["minInput","maxInput"].forEach(function(C,P){(C=T[C])&&(j(B,C),U.setRangeInputAttrs(C,"accessibility.rangeSelector."+(P?"max":"min")+"InputLabel"))}))}updateSelectorVisibility(){const B=this.chart,U=B.rangeSelector,T=U&&U.dropdown,C=U&&U.buttons||[];U&&U.hasVisibleDropdown&&T?(j(B,T),C.forEach(P=>P.element.setAttribute("aria-hidden",!0))):(T&&T.setAttribute("aria-hidden",!0),C.forEach(P=>j(B,P.element)))}setDropdownAttrs(){var B=this.chart;const U=B.rangeSelector&&B.rangeSelector.dropdown;U&&(B=B.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:B.options.lang.rangeSelectorZoom}),U.setAttribute("aria-label",B),U.setAttribute("tabindex",-1))}setRangeButtonAttrs(B){H(B.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(B,U){const T=this.chart;H(B,{tabindex:-1,"aria-label":T.langFormat(U,{chart:T})})}onButtonNavKbdArrowKey(B,U){const T=B.response,C=this.keyCodes,P=this.chart,G=P.options.accessibility.keyboardNavigation.wrapAround;return U=U===C.left||U===C.up?-1:1,P.highlightRangeSelectorButton(P.highlightedRangeSelectorItemIx+U)?T.success:G?(B.init(U),T.success):T[0<U?"next":"prev"]}onButtonNavKbdClick(B){B=B.response;const U=this.chart;return U.oldRangeSelectorItemState!==3&&this.fakeClickEvent(U.rangeSelector.buttons[U.highlightedRangeSelectorItemIx].element),B.success}onAfterBtnClick(){var B=this.chart;const U=Z(B.xAxis[0]);(B=B.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:B,axisRangeDescription:U}))&&this.announcer.announce(B)}onInputKbdMove(B){const U=this.chart;var T=U.rangeSelector;const C=U.highlightedInputRangeIx=(U.highlightedInputRangeIx||0)+B;if(1<C||0>C){if(U.accessibility)return U.accessibility.keyboardNavigation.exiting=!0,U.accessibility.keyboardNavigation.tabindexContainer.focus(),U.accessibility.keyboardNavigation.move(B)}else T&&(B=T[C?"maxDateBox":"minDateBox"],T=T[C?"maxInput":"minInput"],B&&T&&U.setFocusToElement(B,T));return!0}onInputNavInit(B){const U=this;var T=this.chart;const C=0<B?0:1;var P=T.rangeSelector;const G=P&&P[C?"maxDateBox":"minDateBox"];if(B=P&&P.minInput,P=P&&P.maxInput,T.highlightedInputRangeIx=C,G&&B&&P){T.setFocusToElement(G,C?P:B),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),T=ne=>{(ne.which||ne.keyCode)===this.keyCodes.tab&&U.onInputKbdMove(ne.shiftKey?-1:1)&&(ne.preventDefault(),ne.stopPropagation())};const q=z(B,"keydown",T),N=z(P,"keydown",T);this.removeInputKeydownHandler=()=>{q(),N()}}}onInputNavTerminate(){const B=this.chart.rangeSelector||{};B.maxInput&&B.hideInput("max"),B.minInput&&B.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)}initDropdownNav(){const B=this.chart,U=B.rangeSelector,T=U&&U.dropdown;U&&T&&(B.setFocusToElement(U.buttonGroup,T),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=z(T,"keydown",C=>{const P=B.accessibility;(C.which||C.keyCode)===this.keyCodes.tab&&(C.preventDefault(),C.stopPropagation(),P&&(P.keyboardNavigation.tabindexContainer.focus(),P.keyboardNavigation.move(C.shiftKey?-1:1)))}))}getRangeSelectorButtonNavigation(){const B=this.chart,U=this.keyCodes,T=this;return new n(B,{keyCodeMap:[[[U.left,U.right,U.up,U.down],function(C){return T.onButtonNavKbdArrowKey(this,C)}],[[U.enter,U.space],function(){return T.onButtonNavKbdClick(this)}]],validate:function(){return!!(B.rangeSelector&&B.rangeSelector.buttons&&B.rangeSelector.buttons.length)},init:function(C){var P=B.rangeSelector;P&&P.hasVisibleDropdown?T.initDropdownNav():P&&(P=P.buttons.length-1,B.highlightRangeSelectorButton(0<C?0:P))},terminate:function(){T.removeDropdownKeydownHandler&&(T.removeDropdownKeydownHandler(),delete T.removeDropdownKeydownHandler)}})}getRangeSelectorInputNavigation(){const B=this.chart,U=this;return new n(B,{keyCodeMap:[],validate:function(){return!!(B.rangeSelector&&B.rangeSelector.inputGroup&&B.rangeSelector.inputGroup.element.style.visibility!=="hidden"&&B.options.rangeSelector.inputEnabled!==!1&&B.rangeSelector.minInput&&B.rangeSelector.maxInput)},init:function(T){U.onInputNavInit(T)},terminate:function(){U.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}}return function(I){function B(C){const P=this.rangeSelector&&this.rangeSelector.buttons||[],G=this.highlightedRangeSelectorItemIx,q=this.rangeSelector&&this.rangeSelector.selected;return typeof G<"u"&&P[G]&&G!==q&&P[G].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=C,P[C]?(this.setFocusToElement(P[C].box,P[C].element),C!==q&&(this.oldRangeSelectorItemState=P[C].state,P[C].setState(1)),!0):!1}function U(){const C=this.chart.accessibility;if(C&&C.components.rangeSelector)return C.components.rangeSelector.onAfterBtnClick()}const T=[];I.compose=function(C,P){k.pushUnique(T,C)&&(C.prototype.highlightRangeSelectorButton=B),k.pushUnique(T,P)&&z(a,"afterBtnClick",U)}}(Y||(Y={})),Y}),i(t,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[t["Core/Utilities.js"]],function(a){const{addEvent:o,merge:u}=a;var d;return function(n){function k(I){u(!0,I,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function j(I){return I.marker.states&&I.marker.states.normal&&I.marker.states.normal.opacity}function Z(){this.chart.styledMode&&(this.markerGroup&&this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),this._hasPointMarkers&&this.points&&this.points.length&&this.points.forEach(I=>{I.graphic&&(I.graphic[I.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),I.graphic[I.hasForcedA11yMarker===!1?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function z(I){this.resetA11yMarkerOptions=u(I.options.marker||{},this.userOptions.marker||{})}function H(){var I=this.options,B=(this.options.accessibility&&this.options.accessibility.enabled)!==!1;if((B=this.chart.options.accessibility.enabled&&B)&&(B=this.chart.options.accessibility,B=this.points.length<B.series.pointDescriptionEnabledThreshold||B.series.pointDescriptionEnabledThreshold===!1),B){if(I.marker&&I.marker.enabled===!1&&(this.a11yMarkersForced=!0,k(this.options)),this._hasPointMarkers&&this.points&&this.points.length)for(I=this.points.length;I--;){B=this.points[I];const T=B.options;var U=B.hasForcedA11yMarker;delete B.hasForcedA11yMarker,T.marker&&(U=U&&j(T)===0,T.marker.enabled&&!U?(u(!0,T.marker,{states:{normal:{opacity:j(T)||1}}}),B.hasForcedA11yMarker=!1):T.marker.enabled===!1&&(k(T),B.hasForcedA11yMarker=!0))}}else this.a11yMarkersForced&&(delete this.a11yMarkersForced,(I=this.resetA11yMarkerOptions)&&this.update({marker:{enabled:I.enabled,states:{normal:{opacity:I.states&&I.states.normal&&I.states.normal.opacity}}}}),delete this.resetA11yMarkerOptions)}const Y=[];n.compose=function(I){a.pushUnique(Y,I)&&(o(I,"afterSetOptions",z),o(I,"render",H),o(I,"afterRender",Z))}}(d||(d={})),d}),i(t,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"]],function(a,o,u,d,n,k,j,Z){function z(L){const E=L.index,w=L.series.points;let g=w.length;if(w[E]!==L){for(;g--;)if(w[g]===L)return g}else return E}function H(L){const E=L.chart.options.accessibility.keyboardNavigation.seriesNavigation,w=L.options.accessibility||{},g=w.keyboardNavigation;return g&&g.enabled===!1||w.enabled===!1||L.options.enableMouseTracking===!1||!L.visible||E.pointNavigationEnabledThreshold&&E.pointNavigationEnabledThreshold<=L.points.length}function Y(L){const E=L.series.chart.options.accessibility,w=L.options.accessibility&&L.options.accessibility.enabled===!1;return L.isNull&&E.keyboardNavigation.seriesNavigation.skipNullPoints||L.visible===!1||L.isInside===!1||w||H(L.series)}function I(L){L=L.series||[];const E=L.length;for(let g=0;g<E;++g)if(!H(L[g])){e:{var w=L[g].points||[];const A=w.length;for(let m=0;m<A;++m)if(!Y(w[m])){w=w[m];break e}w=null}if(w)return w}return null}function B(L){let E=L.series.length,w=!1;for(;E--&&(L.highlightedPoint=L.series[E].points[L.series[E].points.length-1],!(w=L.series[E].highlightNextValidPoint())););return w}function U(L){return delete L.highlightedPoint,(L=I(L))?L.highlight():!1}const{seriesTypes:T}=u,{doc:C}=d,{defined:P,fireEvent:G}=n,{getPointFromXY:q,getSeriesFromName:N,scrollToPoint:ne}=Z;class K{constructor(E,w){this.keyCodes=w,this.chart=E}init(){const E=this,w=this.chart,g=this.eventProvider=new j;g.addEvent(o,"destroy",function(){return E.onSeriesDestroy(this)}),g.addEvent(w,"afterApplyDrilldown",function(){{const A=I(this);A&&A.highlight(!1)}}),g.addEvent(w,"drilldown",function(A){A=A.point;const m=A.series;E.lastDrilledDownPoint={x:A.x,y:A.y,seriesName:m?m.name:""}}),g.addEvent(w,"drillupall",function(){setTimeout(function(){E.onDrillupAll()},10)}),g.addEvent(a,"afterSetState",function(){const A=this.graphic&&this.graphic.element,m=C.activeElement;var y=m&&m.getAttribute("class");y=y&&-1<y.indexOf("highcharts-a11y-proxy-button"),w.highlightedPoint===this&&m!==A&&!y&&A&&A.focus&&A.focus()})}onDrillupAll(){const E=this.lastDrilledDownPoint,w=this.chart,g=E&&N(w,E.seriesName);let A;E&&g&&P(E.x)&&P(E.y)&&(A=q(g,E.x,E.y)),A=A||I(w),w.container&&w.container.focus(),A&&A.highlight&&A.highlight(!1)}getKeyboardNavigationHandler(){const E=this,w=this.keyCodes,g=this.chart,A=g.inverted;return new k(g,{keyCodeMap:[[A?[w.up,w.down]:[w.left,w.right],function(m){return E.onKbdSideways(this,m)}],[A?[w.left,w.right]:[w.up,w.down],function(m){return E.onKbdVertical(this,m)}],[[w.enter,w.space],function(m,y){return(m=g.highlightedPoint)&&(y.point=m,G(m.series,"click",y),m.firePointEvent("click")),this.response.success}],[[w.home],function(){return U(g),this.response.success}],[[w.end],function(){return B(g),this.response.success}],[[w.pageDown,w.pageUp],function(m){return g.highlightAdjacentSeries(m===w.pageDown),this.response.success}]],init:function(){return E.onHandlerInit(this)},validate:function(){return!!I(g)},terminate:function(){return E.onHandlerTerminate()}})}onKbdSideways(E,w){const g=this.keyCodes;return this.attemptHighlightAdjacentPoint(E,w===g.right||w===g.down)}onHandlerInit(E){const w=this.chart;return w.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&w.highlightedPoint?w.highlightedPoint.highlight():U(w),E.response.success}onKbdVertical(E,w){const g=this.chart;var A=this.keyCodes;return w=w===A.down||w===A.right,A=g.options.accessibility.keyboardNavigation.seriesNavigation,A.mode&&A.mode==="serialize"?this.attemptHighlightAdjacentPoint(E,w):(g[g.highlightedPoint&&g.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries"](w),E.response.success)}onHandlerTerminate(){const E=this.chart,w=E.options.accessibility.keyboardNavigation;E.tooltip&&E.tooltip.hide(0);const g=E.highlightedPoint&&E.highlightedPoint.series;g&&g.onMouseOut&&g.onMouseOut(),E.highlightedPoint&&E.highlightedPoint.onMouseOut&&E.highlightedPoint.onMouseOut(),w.seriesNavigation.rememberPointFocus||delete E.highlightedPoint}attemptHighlightAdjacentPoint(E,w){const g=this.chart,A=g.options.accessibility.keyboardNavigation.wrapAround;return g.highlightAdjacentPoint(w)||A&&(w?U(g):B(g))?E.response.success:E.response[w?"next":"prev"]}onSeriesDestroy(E){const w=this.chart;w.highlightedPoint&&w.highlightedPoint.series===E&&(delete w.highlightedPoint,w.focusElement&&w.focusElement.removeFocusBorder())}destroy(){this.eventProvider.removeAddedEvents()}}return function(L){function E(M){var X=this.series;const re=this.highlightedPoint;var ee=re&&z(re)||0;const he=re&&re.series.points||[];var ye=this.series&&this.series[this.series.length-1];if(ye=ye&&ye.points&&ye.points[ye.points.length-1],!X[0]||!X[0].points)return!1;if(re){if(X=X[re.series.index+(M?1:-1)],ee=he[ee+(M?1:-1)],!ee&&X&&(ee=X.points[M?0:X.points.length-1]),!ee)return!1}else ee=M?X[0].points[0]:ye;return Y(ee)?(X=ee.series,H(X)?this.highlightedPoint=M?X.points[X.points.length-1]:X.points[0]:this.highlightedPoint=ee,this.highlightAdjacentPoint(M)):ee.highlight()}function w(M){const X=this.highlightedPoint;let re=1/0,ee;return!P(X.plotX)||!P(X.plotY)?!1:(this.series.forEach(he=>{H(he)||he.points.forEach(ye=>{if(P(ye.plotY)&&P(ye.plotX)&&ye!==X){var Ce=ye.plotY-X.plotY,oe=Math.abs(ye.plotX-X.plotX);oe=Math.abs(Ce)*Math.abs(Ce)+oe*oe*4,he.yAxis&&he.yAxis.reversed&&(Ce*=-1),!(0>=Ce&&M||0<=Ce&&!M||5>oe||Y(ye))&&oe<re&&(re=oe,ee=ye)}})}),ee?ee.highlight():!1)}function g(M){const X=this.highlightedPoint;var re=this.series&&this.series[this.series.length-1],ee=re&&re.points&&re.points[re.points.length-1];return this.highlightedPoint?(re=this.series[X.series.index+(M?-1:1)],!re||(ee=A(X,re,4),!ee)?!1:H(re)?(ee.highlight(),M=this.highlightAdjacentSeries(M),M||(X.highlight(),!1)):(ee.highlight(),ee.series.highlightNextValidPoint())):(re=M?this.series&&this.series[0]:re,(ee=M?re&&re.points&&re.points[0]:ee)?ee.highlight():!1)}function A(M,X,re,ee){let he=1/0,ye,Ce=X.points.length;const oe=fe=>!(P(fe.plotX)&&P(fe.plotY));if(!oe(M)){for(;Ce--;){var de=X.points[Ce];oe(de)||(de=(M.plotX-de.plotX)*(M.plotX-de.plotX)*(re||1)+(M.plotY-de.plotY)*(M.plotY-de.plotY)*(ee||1),de<he&&(he=de,ye=Ce))}return P(ye)?X.points[ye]:void 0}}function m(M=!0){const X=this.series.chart;return!this.isNull&&M?this.onMouseOver():X.tooltip&&X.tooltip.hide(0),ne(this),this.graphic&&(X.setFocusToElement(this.graphic),!M&&X.focusElement&&X.focusElement.removeFocusBorder()),X.highlightedPoint=this,this}function y(){var M=this.chart.highlightedPoint,X=(M&&M.series)===this?z(M):0;M=this.points;const re=M.length;if(M&&re){for(let ee=X;ee<re;++ee)if(!Y(M[ee]))return M[ee].highlight();for(;0<=X;--X)if(!Y(M[X]))return M[X].highlight()}return!1}const x=[];L.compose=function(M,X,re){n.pushUnique(x,M)&&(M=M.prototype,M.highlightAdjacentPoint=E,M.highlightAdjacentPointVertical=w,M.highlightAdjacentSeries=g),n.pushUnique(x,X)&&(X.prototype.highlight=m),n.pushUnique(x,re)&&(X=re.prototype,X.keyboardMoveVertical=!0,["column","gantt","pie"].forEach(ee=>{T[ee]&&(T[ee].prototype.keyboardMoveVertical=!1)}),X.highlightNextValidPoint=y)}}(K||(K={})),K}),i(t,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],t["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"]],function(a,o,u,d,n,k){const{hideSeriesFromAT:j}=o,{describeSeries:Z}=n;class z extends a{static compose(Y,I,B){d.compose(B),u.compose(B),k.compose(Y,I,B)}init(){this.newDataAnnouncer=new d(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new k(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){const Y=this;this.chart.tooltip&&this.addEvent(this.chart.tooltip.constructor,"refresh",function(){this.chart===Y.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(Y){Y.labelBySeries&&Y.labelBySeries.attr("aria-hidden",!0)})})}onChartRender(){this.chart.series.forEach(function(Y){(Y.options.accessibility&&Y.options.accessibility.enabled)!==!1&&Y.visible?Z(Y):j(Y)})}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}}return z}),i(t,"Accessibility/Components/ZoomComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(a,o,u,d,n){const{unhideChartElementFromAT:k}=o,{getFakeMouseEvent:j}=u,{attr:Z,pick:z}=n;class H extends a{constructor(){super(...arguments),this.focusedMapNavButtonIx=-1}init(){const I=this,B=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(U=>{I.addEvent(B,U,function(){I.updateProxyOverlays()})})}onChartUpdate(){const I=this.chart,B=this;I.mapNavigation&&I.mapNavigation.navButtons.forEach((U,T)=>{k(I,U.element),B.setMapNavButtonAttrs(U.element,"accessibility.zoom.mapZoom"+(T?"Out":"In"))})}setMapNavButtonAttrs(I,B){const U=this.chart;B=U.langFormat(B,{chart:U}),Z(I,{tabindex:-1,role:"button","aria-label":B})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){const I=this.chart;this.proxyProvider.clearGroup("zoom"),I.resetZoomButton&&this.createZoomProxyButton(I.resetZoomButton,"resetZoomProxyButton",I.langFormat("accessibility.zoom.resetZoomButton",{chart:I})),I.drillUpButton&&I.breadcrumbs&&I.breadcrumbs.list&&this.createZoomProxyButton(I.drillUpButton,"drillUpProxyButton",I.langFormat("accessibility.drillUpButton",{chart:I,buttonText:I.breadcrumbs.getButtonText(I.breadcrumbs.list[I.breadcrumbs.list.length-1])}))}createZoomProxyButton(I,B,U){this[B]=this.proxyProvider.addProxyElement("zoom",{click:I},{"aria-label":U,tabindex:-1})}getMapZoomNavigation(){const I=this.keyCodes,B=this.chart,U=this;return new d(B,{keyCodeMap:[[[I.up,I.down,I.left,I.right],function(T){return U.onMapKbdArrow(this,T)}],[[I.tab],function(T,C){return U.onMapKbdTab(this,C)}],[[I.space,I.enter],function(){return U.onMapKbdClick(this)}]],validate:function(){return!!(B.mapView&&B.mapNavigation&&B.mapNavigation.navButtons.length)},init:function(T){return U.onMapNavInit(T)}})}onMapKbdArrow(I,B){var U=this.chart,T=this.keyCodes;const C=U.container;var P=B===T.up||B===T.down;return B=(P?U.plotHeight:U.plotWidth)/10*(B===T.left||B===T.up?1:-1),T=10*Math.random(),U={x:C.offsetLeft+U.plotLeft+U.plotWidth/2+T,y:C.offsetTop+U.plotTop+U.plotHeight/2+T},P=P?{x:U.x,y:U.y+B}:{x:U.x+B,y:U.y},[j("mousedown",U),j("mousemove",P),j("mouseup",P)].forEach(G=>C.dispatchEvent(G)),I.response.success}onMapKbdTab(I,B){const U=this.chart;I=I.response;const T=(B=B.shiftKey)&&!this.focusedMapNavButtonIx||!B&&this.focusedMapNavButtonIx;return U.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),T?(U.mapView&&U.mapView.zoomBy(),I[B?"prev":"next"]):(this.focusedMapNavButtonIx+=B?-1:1,B=U.mapNavigation.navButtons[this.focusedMapNavButtonIx],U.setFocusToElement(B.box,B.element),B.setState(2),I.success)}onMapKbdClick(I){return this.fakeClickEvent(this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element),I.response.success}onMapNavInit(I){const B=this.chart;var U=B.mapNavigation.navButtons[0];const T=B.mapNavigation.navButtons[1];U=0<I?U:T,B.setFocusToElement(U.box,U.element),U.setState(2),this.focusedMapNavButtonIx=0<I?0:1}simpleButtonNavigation(I,B,U){const T=this.keyCodes,C=this,P=this.chart;return new d(P,{keyCodeMap:[[[T.tab,T.up,T.down,T.left,T.right],function(G,q){return this.response[G===T.tab&&q.shiftKey||G===T.left||G===T.up?"prev":"next"]}],[[T.space,T.enter],function(){const G=U(this,P);return z(G,this.response.success)}]],validate:function(){return P[I]&&P[I].box&&C[B].buttonElement},init:function(){P.setFocusToElement(P[I].box,C[B].buttonElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(I,B){B.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(I,B){return B.drillUp(),I.response.prev}),this.getMapZoomNavigation()]}}return H}),i(t,"Accessibility/HighContrastMode.js",[t["Core/Globals.js"]],function(a){const{doc:o,isMS:u,win:d}=a;return{isHighContrastModeActive:function(){var n=/(Edg)/.test(d.navigator.userAgent);if(d.matchMedia&&n)return d.matchMedia("(-ms-high-contrast: active)").matches;if(u&&d.getComputedStyle){n=o.createElement("div"),n.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",o.body.appendChild(n);const k=(n.currentStyle||d.getComputedStyle(n)).backgroundImage;return o.body.removeChild(n),k==="none"}return d.matchMedia&&d.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(n){n.highContrastModeActive=!0;const k=n.options.accessibility.highContrastTheme;n.update(k,!1),n.series.forEach(function(j){const Z=k.plotOptions[j.type]||{};j.update({color:Z.color||"windowText",colors:[Z.color||"windowText"],borderColor:Z.borderColor||"window"}),j.points.forEach(function(z){z.options&&z.options.color&&z.update({color:Z.color||"windowText",borderColor:Z.borderColor||"window"},!1)})}),n.redraw()}}}),i(t,"Accessibility/HighContrastTheme.js",[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}}),i(t,"Accessibility/Options/A11yDefaults.js",[],function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}}}}),i(t,"Accessibility/Options/LangDefaults.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{ Also related to, #each(additionalAnnotationPoints)}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#plural(numPoints, points, point)}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#plural(numPoints, slices, slice)}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#plural(numPoints, points, point)}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each(names, -1) }and {names[-1]}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each(names, -1) }and {names[-1]}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, slices, slice)}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#plural(series.points.length, slices, slice)}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, points, point)}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#plural(series.points.length, points, point)}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, boxes, box)}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#plural(series.points.length, boxes, box)}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, areas, area)}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#plural(series.points.length, areas, area)}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{Annotation: #each(annotations). }"}}}}),i(t,"Accessibility/Options/DeprecatedOptions.js",[t["Core/Utilities.js"]],function(a){function o(z,H,Y){let I,B=0;for(;B<H.length-1;++B)I=H[B],z=z[I]=Z(z[I],{});z[H[H.length-1]]=Y}function u(z,H,Y,I){function B(C,P){return P.reduce(function(G,q){return G[q]},C)}const U=B(z.options,H),T=B(z.options,Y);Object.keys(I).forEach(function(C){const P=U[C];typeof P<"u"&&(o(T,I[C],P),j(32,!1,z,{[H.join(".")+"."+C]:Y.join(".")+"."+I[C].join(".")}))})}function d(z){const H=z.options.chart,Y=z.options.accessibility||{};["description","typeDescription"].forEach(function(I){H[I]&&(Y[I]=H[I],j(32,!1,z,{[`chart.${I}`]:`use accessibility.${I}`}))})}function n(z){z.axes.forEach(function(H){(H=H.options)&&H.description&&(H.accessibility=H.accessibility||{},H.accessibility.description=H.description,j(32,!1,z,{"axis.description":"use axis.accessibility.description"}))})}function k(z){const H={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};z.series.forEach(function(Y){Object.keys(H).forEach(function(I){let B=Y.options[I];I==="accessibility.pointDescriptionFormatter"&&(B=Y.options.accessibility&&Y.options.accessibility.pointDescriptionFormatter),typeof B<"u"&&(o(Y.options,H[I],I==="skipKeyboardNavigation"?!B:B),j(32,!1,z,{[`series.${I}`]:"series."+H[I].join(".")}))})})}const{error:j,pick:Z}=a;return function(z){d(z),n(z),z.series&&k(z),u(z,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]}),u(z,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]}),u(z,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}}),i(t,"Accessibility/Accessibility.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/A11yI18n.js"],t["Accessibility/Components/ContainerComponent.js"],t["Accessibility/FocusBorder.js"],t["Accessibility/Components/InfoRegionsComponent.js"],t["Accessibility/KeyboardNavigation.js"],t["Accessibility/Components/LegendComponent.js"],t["Accessibility/Components/MenuComponent.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/ProxyProvider.js"],t["Accessibility/Components/RangeSelectorComponent.js"],t["Accessibility/Components/SeriesComponent/SeriesComponent.js"],t["Accessibility/Components/ZoomComponent.js"],t["Accessibility/HighContrastMode.js"],t["Accessibility/HighContrastTheme.js"],t["Accessibility/Options/A11yDefaults.js"],t["Accessibility/Options/LangDefaults.js"],t["Accessibility/Options/DeprecatedOptions.js"]],function(a,o,u,d,n,k,j,Z,z,H,Y,I,B,U,T,C,P,G,q,N,ne){({defaultOptions:a}=a);const{doc:K}=o,{addEvent:L,extend:E,fireEvent:w,merge:g}=u,{removeElement:A}=d;class m{constructor(x){this.proxyProvider=this.keyboardNavigation=this.components=this.chart=void 0,this.init(x)}init(x){this.chart=x,K.addEventListener?(ne(x),this.proxyProvider=new B(this.chart),this.initComponents(),this.keyboardNavigation=new z(x,this.components)):(this.zombie=!0,this.components={},x.renderTo.setAttribute("aria-hidden",!0))}initComponents(){const x=this.chart,M=this.proxyProvider,X=x.options.accessibility;this.components={container:new k,infoRegions:new Z,legend:new H,chartMenu:new Y,rangeSelector:new U,series:new T,zoom:new C},X.customComponents&&E(this.components,X.customComponents);const re=this.components;this.getComponentOrder().forEach(function(ee){re[ee].initBase(x,M),re[ee].init()})}getComponentOrder(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);const x=Object.keys(this.components).filter(M=>M!=="series");return["series"].concat(x)}update(){const x=this.components,M=this.chart;var X=M.options.accessibility;w(M,"beforeA11yUpdate"),M.types=this.getChartTypes(),X=X.keyboardNavigation.order,this.proxyProvider.updateGroupOrder(X),this.getComponentOrder().forEach(function(re){x[re].onChartUpdate(),w(M,"afterA11yComponentUpdate",{name:re,component:x[re]})}),this.keyboardNavigation.update(X),!M.highContrastModeActive&&P.isHighContrastModeActive()&&P.setHighContrastTheme(M),w(M,"afterA11yUpdate",{accessibility:this})}destroy(){const x=this.chart||{},M=this.components;Object.keys(M).forEach(function(X){M[X].destroy(),M[X].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),x.announcerContainer&&A(x.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),x.renderTo&&x.renderTo.setAttribute("aria-hidden",!0),x.focusElement&&x.focusElement.removeFocusBorder()}getChartTypes(){const x={};return this.chart.series.forEach(function(M){x[M.type]=1}),Object.keys(x)}}return function(y){function x(){this.accessibility&&this.accessibility.destroy()}function M(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());const ye=this.accessibility;ye&&!ye.zombie&&(ye.proxyProvider.updateProxyElementPositions(),ye.getComponentOrder().forEach(function(Ce){ye.components[Ce].onChartRender()}))}function X(ye){(ye=ye.options.accessibility)&&(ye.customComponents&&(this.options.accessibility.customComponents=ye.customComponents,delete ye.customComponents),g(!0,this.options.accessibility,ye),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function re(){let ye=this.accessibility;const Ce=this.options.accessibility;Ce&&Ce.enabled?ye&&!ye.zombie?ye.update():(this.accessibility=ye=new y(this),!ye.zombie&&ye.update()):ye?(ye.destroy&&ye.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)}function ee(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}const he=[];y.i18nFormat=n.i18nFormat,y.compose=function(ye,Ce,oe,de,fe,ue){z.compose(ye),I.compose(de),H.compose(ye,Ce),Y.compose(ye),T.compose(ye,oe,de),n.compose(ye),j.compose(ye,fe),ue&&U.compose(ye,ue),u.pushUnique(he,ye)&&(ye.prototype.updateA11yEnabled=re,L(ye,"destroy",x),L(ye,"render",M),L(ye,"update",X),["addSeries","init"].forEach(pe=>{L(ye,pe,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(pe=>{L(ye,pe,function(){const te=this.accessibility;te&&!te.zombie&&te.update()})})),u.pushUnique(he,oe)&&L(oe,"update",ee),u.pushUnique(he,de)&&["update","updatedData","remove"].forEach(pe=>{L(de,pe,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})})}}(m||(m={})),g(!0,a,q,{accessibility:{highContrastTheme:G},lang:N}),m}),i(t,"masters/modules/accessibility.src.js",[t["Core/Globals.js"],t["Accessibility/Accessibility.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(a,o,u,d,n,k,j){a.i18nFormat=o.i18nFormat,a.A11yChartUtilities=d,a.A11yHTMLUtilities=n,a.AccessibilityComponent=u,a.KeyboardNavigationHandler=k,a.SeriesAccessibilityDescriber=j,o.compose(a.Chart,a.Legend,a.Point,a.Series,a.SVGElement,a.RangeSelector)})})})(accessibility);var accessibilityExports=accessibility.exports;const Accessbility=getDefaultExportFromCjs(accessibilityExports);Accessbility(Highcharts$1);const _sfc_main$F={name:"spline",components:{Chart:highchartsVue_minExports.Chart},data(){return{chartOptions:{chart:{type:"spline",scrollablePlotArea:{minWidth:600,scrollPositionX:1}},title:{text:"Wind speed during two days",align:"left"},subtitle:{text:"13th & 14th of June, 2022 at two locations in Vik i Sogn, Norway",align:"left"},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{title:{text:"Wind speed (m/s)"},minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotBands:[{from:.3,to:1.5,color:"rgba(68, 170, 213, 0.1)",label:{text:"Light air",style:{color:"#606060"}}},{from:1.5,to:3.3,color:"rgba(0, 0, 0, 0)",label:{text:"Light breeze",style:{color:"#606060"}}},{from:3.3,to:5.5,color:"rgba(68, 170, 213, 0.1)",label:{text:"Gentle breeze",style:{color:"#606060"}}},{from:5.5,to:8,color:"rgba(0, 0, 0, 0)",label:{text:"Moderate breeze",style:{color:"#606060"}}},{from:8,to:11,color:"rgba(68, 170, 213, 0.1)",label:{text:"Fresh breeze",style:{color:"#606060"}}},{from:11,to:14,color:"rgba(0, 0, 0, 0)",label:{text:"Strong breeze",style:{color:"#606060"}}},{from:14,to:15,color:"rgba(68, 170, 213, 0.1)",label:{text:"High wind",style:{color:"#606060"}}}]},tooltip:{valueSuffix:" m/s"},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1},pointInterval:36e5,pointStart:Date.UTC(2022,5,13,0,0,0)}},series:[{name:"Hestavollane",data:[4.5,5.1,4.4,3.7,4.2,3.7,4.3,4,5,4.9,4.8,4.6,3.9,3.8,2.7,3.1,2.6,3.3,3.8,4.1,1,1.9,3.2,3.8,4.2]},{name:"Vik",data:[.1,.1,.1,.2,.4,.4,.3,.4,.1,0,.2,.3,0,0,0,0,0,.1,.1,.1,0,.1,0,0,0]}],navigation:{menuItemStyle:{fontSize:"10px"}}}}}};function _sfc_render$x(e,t,i,a,o,u){const d=resolveComponent("Chart");return openBlock(),createBlock(d,{options:o.chartOptions,constructorType:"stockChart"},null,8,["options"])}const ChartSpline=_export_sfc$1(_sfc_main$F,[["render",_sfc_render$x]]),dateFormat=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,i=/[^-+\dA-Z]/g;return function(a,o,u,d){if(arguments.length===1&&kindOf(a)==="string"&&!/\d/.test(a)&&(o=a,a=void 0),a=a||new Date,a instanceof Date||(a=new Date(a)),isNaN(a))throw TypeError("Invalid date");o=String(dateFormat.masks[o]||o||dateFormat.masks.default);var n=o.slice(0,4);(n==="UTC:"||n==="GMT:")&&(o=o.slice(4),u=!0,n==="GMT:"&&(d=!0));var k=u?"getUTC":"get",j=a[k+"Date"](),Z=a[k+"Day"](),z=a[k+"Month"](),H=a[k+"FullYear"](),Y=a[k+"Hours"](),I=a[k+"Minutes"](),B=a[k+"Seconds"](),U=a[k+"Milliseconds"](),T=u?0:a.getTimezoneOffset(),C=getWeek(a),P=getDayOfWeek(a),G={d:j,dd:pad(j),ddd:dateFormat.i18n.dayNames[Z],dddd:dateFormat.i18n.dayNames[Z+7],m:z+1,mm:pad(z+1),mmm:dateFormat.i18n.monthNames[z],mmmm:dateFormat.i18n.monthNames[z+12],yy:String(H).slice(2),yyyy:H,h:Y%12||12,hh:pad(Y%12||12),H:Y,HH:pad(Y),M:I,MM:pad(I),s:B,ss:pad(B),l:pad(U,3),L:pad(Math.round(U/10)),t:Y<12?dateFormat.i18n.timeNames[0]:dateFormat.i18n.timeNames[1],tt:Y<12?dateFormat.i18n.timeNames[2]:dateFormat.i18n.timeNames[3],T:Y<12?dateFormat.i18n.timeNames[4]:dateFormat.i18n.timeNames[5],TT:Y<12?dateFormat.i18n.timeNames[6]:dateFormat.i18n.timeNames[7],Z:d?"GMT":u?"UTC":(String(a).match(t)||[""]).pop().replace(i,""),o:(T>0?"-":"+")+pad(Math.floor(Math.abs(T)/60)*100+Math.abs(T)%60,4),S:["th","st","nd","rd"][j%10>3?0:(j%100-j%10!=10)*j%10],W:C,N:P};return o.replace(e,function(q){return q in G?G[q]:q.slice(1,q.length-1)})}}();dateFormat.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"};dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};function pad(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function getWeek(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var i=new Date(t.getFullYear(),0,4);i.setDate(i.getDate()-(i.getDay()+6)%7+3);var a=t.getTimezoneOffset()-i.getTimezoneOffset();t.setHours(t.getHours()-a);var o=(t-i)/(864e5*7);return 1+Math.floor(o)}function getDayOfWeek(e){var t=e.getDay();return t===0&&(t=7),t}function kindOf(e){return e===null?"null":e===void 0?"undefined":typeof e!="object"?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}const DateUtil={isSame:(e,t,i)=>{let a=new Date(e),o=new Date(t);return i==="date"&&(a.setHours(0,0,0,0),o.setHours(0,0,0,0)),a.getTime()===o.getTime()},daysInMonth:(e,t)=>new Date(e,t,0).getDate(),weekNumber:e=>getWeek(e),format:(e,t)=>dateFormat(e,t),nextMonth:e=>{let t=new Date(e.getTime());return t.setDate(1),t.setMonth(t.getMonth()+1),t},prevMonth:e=>{let t=new Date(e.getTime());return t.setDate(1),t.setMonth(t.getMonth()-1),t},validateDateRange:(e,t,i)=>{let a=new Date(i),o=new Date(t);return i&&e.getTime()>a.getTime()?a:t&&e.getTime()<o.getTime()?o:e},localeData:e=>({...{direction:"ltr",format:"mm/dd/yyyy",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:dateFormat.i18n.dayNames.slice(0,7).map(i=>i.substring(0,2)),monthNames:dateFormat.i18n.monthNames.slice(0,12),firstDay:0},...e}),yearMonth:e=>{let t=e.getMonth()+1;return e.getFullYear()+(t<10?"0":"")+t},isValidDate:e=>e instanceof Date&&!isNaN(e)},dateUtilMixin={props:{dateUtil:{type:[Object,String],default:"native"}},created(){this.$dateUtil=DateUtil}},Calendar_vue_vue_type_style_index_0_scoped_66e2a2e7_lang="",_sfc_main$E={mixins:[dateUtilMixin],name:"calendar",props:{monthDate:Date,localeData:Object,start:Date,end:Date,minDate:Date,maxDate:Date,showDropdowns:{type:Boolean,default:!1},showWeekNumbers:{type:Boolean,default:!1},dateFormat:{type:Function,default:null}},data(){let e=this.monthDate||this.start||new Date;return{currentMonthDate:e,year_text:e.getFullYear()}},methods:{prevMonthClick(){this.changeMonthDate(this.$dateUtil.prevMonth(this.currentMonthDate))},nextMonthClick(){this.changeMonthDate(this.$dateUtil.nextMonth(this.currentMonthDate))},changeMonthDate(e,t=!0){let i=this.$dateUtil.yearMonth(this.currentMonthDate);this.currentMonthDate=this.$dateUtil.validateDateRange(e,this.minDate,this.maxDate),t&&i!==this.$dateUtil.yearMonth(this.currentMonthDate)&&this.$emit("change-month",{month:this.currentMonthDate.getMonth()+1,year:this.currentMonthDate.getFullYear()}),this.checkYear()},dayClass(e){let t=new Date(e);t.setHours(0,0,0,0);let i=new Date(this.start);i.setHours(0,0,0,0);let a=new Date(this.end);a.setHours(0,0,0,0);let o={off:e.getMonth()+1!==this.month,weekend:e.getDay()===6||e.getDay()===0,today:t.setHours(0,0,0,0)==new Date().setHours(0,0,0,0),active:t.setHours(0,0,0,0)==new Date(this.start).setHours(0,0,0,0)||t.setHours(0,0,0,0)==new Date(this.end).setHours(0,0,0,0),"in-range":t>=i&&t<=a,"start-date":t.getTime()===i.getTime(),"end-date":t.getTime()===a.getTime(),disabled:this.minDate&&t.getTime()<this.minDate.getTime()||this.maxDate&&t.getTime()>this.maxDate.getTime()};return this.dateFormat?this.dateFormat(o,e):o},checkYear(){this.$refs.yearSelect!==document.activeElement&&this.$nextTick(()=>{this.year_text=this.monthDate.getFullYear()})}},computed:{monthName(){return this.locale.monthNames[this.currentMonthDate.getMonth()]},year:{get(){return this.year_text},set(e){this.year_text=e;let t=this.$dateUtil.validateDateRange(new Date(e,this.month,1),this.minDate,this.maxDate);this.$dateUtil.isValidDate(t)&&this.$emit("change-month",{month:t.getMonth(),year:t.getFullYear()})}},month:{get(){return this.currentMonthDate.getMonth()+1},set(e){let t=this.$dateUtil.validateDateRange(new Date(this.year,e-1,1),this.minDate,this.maxDate);this.$emit("change-month",{month:t.getMonth()+1,year:t.getFullYear()})}},calendar(){let e=this.month,t=this.currentMonthDate.getFullYear(),i=new Date(t,e-1,1),a=this.$dateUtil.prevMonth(i).getMonth()+1,o=this.$dateUtil.prevMonth(i).getFullYear(),u=new Date(o,e-1,0).getDate(),d=i.getDay(),n=[];for(let Z=0;Z<6;Z++)n[Z]=[];let k=u-d+this.locale.firstDay+1;k>u&&(k-=7),d===this.locale.firstDay&&(k=u-6);let j=new Date(o,a-1,k,12,0,0);for(let Z=0,z=0,H=0;Z<6*7;Z++,z++,j.setDate(j.getDate()+1))Z>0&&z%7===0&&(z=0,H++),n[H][z]=new Date(j.getTime());return n},months(){let e=this.locale.monthNames.map((t,i)=>({label:t,value:i}));if(this.maxDate&&this.minDate){let t=this.maxDate.getFullYear()-this.minDate.getFullYear();if(t<2){let i=[];if(t<1)for(let a=this.minDate.getMonth();a<=this.maxDate.getMonth();a++)i.push(a);else{for(let a=0;a<=this.maxDate.getMonth();a++)i.push(a);for(let a=this.minDate.getMonth();a<12;a++)i.push(a)}if(i.length>0)return e.filter(a=>i.find(o=>a.value===o)>-1)}}return e},locale(){return this.$dateUtil.localeData(this.localeData)}},watch:{monthDate(e){this.currentMonthDate.getTime()!==e.getTime()&&this.changeMonthDate(e,!1)}}},_withScopeId$7=e=>(pushScopeId("data-v-66e2a2e7"),e=e(),popScopeId(),e),_hoisted_1$x={class:"table-condensed"},_hoisted_2$t=_withScopeId$7(()=>createBaseVNode("span",null,null,-1)),_hoisted_3$r=[_hoisted_2$t],_hoisted_4$p=["colspan"],_hoisted_5$j={class:"row mx-1"},_hoisted_6$g=["value"],_hoisted_7$e=["colspan"],_hoisted_8$c=_withScopeId$7(()=>createBaseVNode("span",null,null,-1)),_hoisted_9$b=[_hoisted_8$c],_hoisted_10$b={key:0,class:"week"},_hoisted_11$b={key:0,class:"week"},_hoisted_12$a=["onClick","onMouseover"];function _sfc_render$w(e,t,i,a,o,u){return openBlock(),createElementBlock("table",_hoisted_1$x,[createBaseVNode("thead",null,[createBaseVNode("tr",null,[createBaseVNode("th",{class:"prev available",onClick:t[0]||(t[0]=(...d)=>u.prevMonthClick&&u.prevMonthClick(...d)),tabindex:"0"},_hoisted_3$r),i.showDropdowns?(openBlock(),createElementBlock("th",{key:0,colspan:i.showWeekNumbers?6:5,class:"month"},[createBaseVNode("div",_hoisted_5$j,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":t[1]||(t[1]=d=>u.month=d),class:"monthselect col"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.months,d=>(openBlock(),createElementBlock("option",{key:d.value,value:d.value+1},toDisplayString(d.label),9,_hoisted_6$g))),128))],512),[[vModelSelect,u.month]]),withDirectives(createBaseVNode("input",{ref:"yearSelect",type:"number","onUpdate:modelValue":t[2]||(t[2]=d=>u.year=d),onBlur:t[3]||(t[3]=(...d)=>u.checkYear&&u.checkYear(...d)),class:"yearselect col"},null,544),[[vModelText,u.year]])])],8,_hoisted_4$p)):(openBlock(),createElementBlock("th",{key:1,colspan:i.showWeekNumbers?6:5,class:"month"},toDisplayString(u.monthName)+" "+toDisplayString(u.year),9,_hoisted_7$e)),createBaseVNode("th",{class:"next available",onClick:t[4]||(t[4]=(...d)=>u.nextMonthClick&&u.nextMonthClick(...d)),tabindex:"0"},_hoisted_9$b)])]),createBaseVNode("tbody",null,[createBaseVNode("tr",null,[i.showWeekNumbers?(openBlock(),createElementBlock("th",_hoisted_10$b,toDisplayString(u.locale.weekLabel),1)):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(u.locale.daysOfWeek,d=>(openBlock(),createElementBlock("th",{key:d},toDisplayString(d),1))),128))]),(openBlock(!0),createElementBlock(Fragment,null,renderList(u.calendar,(d,n)=>(openBlock(),createElementBlock("tr",{key:n},[i.showWeekNumbers&&(n%7||n===0)?(openBlock(),createElementBlock("td",_hoisted_11$b,toDisplayString(e.$dateUtil.weekNumber(d[0])),1)):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(d,(k,j)=>(openBlock(),createElementBlock("td",{class:normalizeClass(u.dayClass(k)),onClick:Z=>e.$emit("dateClick",k),onMouseover:Z=>e.$emit("hoverDate",k),key:j},[renderSlot(e.$slots,"date-slot",{date:k},()=>[createTextVNode(toDisplayString(k.getDate()),1)],!0)],42,_hoisted_12$a))),128))]))),128))])])}const Calendar=_export_sfc$1(_sfc_main$E,[["render",_sfc_render$w],["__scopeId","data-v-66e2a2e7"]]),_sfc_main$D={props:{miniuteIncrement:{type:Number,default:5},hour24:{type:Boolean,default:!0},secondPicker:{type:Boolean,default:!1},currentTime:{default(){return new Date}},readonly:{type:Boolean,default:!1}},data(){let e=this.currentTime?this.currentTime:new Date,t=e.getHours();return{hour:this.hour24?t:t%12||12,minute:e.getMinutes()-e.getMinutes()%this.miniuteIncrement,second:e.getSeconds(),ampm:t<12?"AM":"PM"}},computed:{hours(){let e=[],t=this.hour24?24:12;for(let i=0;i<t;i++)e.push(this.hour24?i:i+1);return e},minutes(){let e=[],t=60;for(let i=0;i<t;i=i+this.miniuteIncrement)e.push(i);return e}},watch:{hour(){this.onChange()},minute(){this.onChange()},second(){this.onChange()},ampm(){this.onChange()}},methods:{formatNumber:e=>e<10?"0"+e.toString():e.toString(),getHour(){return this.hour24?this.hour:this.hour===12?this.ampm==="AM"?0:12:this.hour+(this.ampm==="PM"?12:0)},onChange(){this.$emit("update",{hours:this.getHour(),minutes:this.minute,seconds:this.second})}}},_hoisted_1$w={class:"calendar-time"},_hoisted_2$s=["disabled"],_hoisted_3$q=["value"],_hoisted_4$o=["disabled"],_hoisted_5$i=["value"],_hoisted_6$f=["disabled"],_hoisted_7$d=["value"],_hoisted_8$b=["disabled"],_hoisted_9$a=createBaseVNode("option",{value:"AM"},"AM",-1),_hoisted_10$a=createBaseVNode("option",{value:"PM"},"PM",-1),_hoisted_11$a=[_hoisted_9$a,_hoisted_10$a];function _sfc_render$v(e,t,i,a,o,u){return openBlock(),createElementBlock("div",_hoisted_1$w,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":t[0]||(t[0]=d=>o.hour=d),class:"hourselect form-control mr-1",disabled:i.readonly},[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.hours,d=>(openBlock(),createElementBlock("option",{key:d,value:d},toDisplayString(u.formatNumber(d)),9,_hoisted_3$q))),128))],8,_hoisted_2$s),[[vModelSelect,o.hour]]),createTextVNode(" :"),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":t[1]||(t[1]=d=>o.minute=d),class:"minuteselect form-control ml-1",disabled:i.readonly},[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.minutes,d=>(openBlock(),createElementBlock("option",{key:d,value:d},toDisplayString(u.formatNumber(d)),9,_hoisted_5$i))),128))],8,_hoisted_4$o),[[vModelSelect,o.minute]]),i.secondPicker?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(" :"),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":t[2]||(t[2]=d=>o.second=d),class:"secondselect form-control ml-1",disabled:i.readonly},[(openBlock(),createElementBlock(Fragment,null,renderList(60,d=>createBaseVNode("option",{key:d-1,value:d-1},toDisplayString(u.formatNumber(d-1)),9,_hoisted_7$d)),64))],8,_hoisted_6$f),[[vModelSelect,o.second]])],64)):createCommentVNode("",!0),i.hour24?createCommentVNode("",!0):withDirectives((openBlock(),createElementBlock("select",{key:1,"onUpdate:modelValue":t[3]||(t[3]=d=>o.ampm=d),class:"ampmselect",disabled:i.readonly},_hoisted_11$a,8,_hoisted_8$b)),[[vModelSelect,o.ampm]])])}const CalendarTime=_export_sfc$1(_sfc_main$D,[["render",_sfc_render$v]]),_sfc_main$C={mixins:[dateUtilMixin],props:{ranges:Object,selected:Object,localeData:Object,alwaysShowCalendars:Boolean},data(){return{customRangeActive:!1}},methods:{clickRange(e){this.customRangeActive=!1,this.$emit("clickRange",e)},clickCustomRange(){this.customRangeActive=!0,this.$emit("showCustomRange")},range_class(e){return{active:e.selected===!0}}},computed:{listedRanges(){return this.ranges?Object.keys(this.ranges).map(e=>({label:e,value:this.ranges[e],selected:this.$dateUtil.isSame(this.selected.startDate,this.ranges[e][0])&&this.$dateUtil.isSame(this.selected.endDate,this.ranges[e][1])})):!1},selectedRange(){return this.listedRanges.find(e=>e.selected===!0)},showCustomRangeLabel(){return!this.alwaysShowCalendars}}},_hoisted_1$v={class:"ranges"},_hoisted_2$r={key:0},_hoisted_3$p=["onClick","data-range-key"];function _sfc_render$u(e,t,i,a,o,u){return openBlock(),createElementBlock("div",_hoisted_1$v,[i.ranges?(openBlock(),createElementBlock("ul",_hoisted_2$r,[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.listedRanges,d=>(openBlock(),createElementBlock("li",{onClick:n=>u.clickRange(d.value),"data-range-key":d.label,key:d.label,class:normalizeClass(u.range_class(d)),tabindex:"0"},toDisplayString(d.label),11,_hoisted_3$p))),128)),u.showCustomRangeLabel?(openBlock(),createElementBlock("li",{key:0,class:normalizeClass({active:o.customRangeActive||!u.selectedRange}),onClick:t[0]||(t[0]=(...d)=>u.clickCustomRange&&u.clickCustomRange(...d)),tabindex:"0"},toDisplayString(i.localeData.customRangeLabel),3)):createCommentVNode("",!0)])):createCommentVNode("",!0)])}const CalendarRanges=_export_sfc$1(_sfc_main$C,[["render",_sfc_render$u]]),appendToBody={mounted(e,{instance:t}){if(t.appendToBody){const{height:i,top:a,left:o,width:u,right:d}=t.$refs.toggle.getBoundingClientRect();e.unbindPosition=t.calculatePosition(e,t,{width:u,top:window.scrollY+a+i,left:window.scrollX+o,right:d}),document.body.appendChild(e)}else t.$el.appendChild(e)},unmounted(e,{instance:t}){t.appendToBody&&(e.unbindPosition&&typeof e.unbindPosition=="function"&&e.unbindPosition(),e.parentNode&&e.parentNode.removeChild(e))}},DateRangePicker_vue_vue_type_style_index_0_lang="",DateRangePicker_vue_vue_type_style_index_1_scoped_577c3804_lang="",_sfc_main$B={inheritAttrs:!1,components:{Calendar,CalendarTime,CalendarRanges},mixins:[dateUtilMixin],directives:{appendToBody},emits:["update:modelValue","toggle","hoverDate","startSelection","select","change-month","finishSelection"],props:{modelValue:{type:Object},minDate:{type:[String,Date],default(){return null}},maxDate:{type:[String,Date],default(){return null}},showWeekNumbers:{type:Boolean,default:!1},linkedCalendars:{type:Boolean,default:!0},singleDatePicker:{type:[Boolean,String],default:!1},showDropdowns:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},timePickerIncrement:{type:Number,default:5},timePicker24Hour:{type:Boolean,default:!0},timePickerSeconds:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},localeData:{type:Object,default(){return{}}},dateRange:{type:[Object],default:null,required:!0},ranges:{type:[Object,Boolean],default(){let e=new Date;e.setHours(0,0,0,0);let t=new Date;t.setHours(11,59,59,999);let i=new Date;i.setDate(e.getDate()-1),i.setHours(0,0,0,0);let a=new Date;a.setDate(e.getDate()-1),a.setHours(11,59,59,999);let o=new Date(e.getFullYear(),e.getMonth(),1),u=new Date(e.getFullYear(),e.getMonth()+1,0,11,59,59,999);return{Today:[e,t],Yesterday:[i,a],"This month":[o,u],"This year":[new Date(e.getFullYear(),0,1),new Date(e.getFullYear(),11,31,11,59,59,999)],"Last month":[new Date(e.getFullYear(),e.getMonth()-1,1),new Date(e.getFullYear(),e.getMonth(),0,11,59,59,999)]}}},opens:{type:String,default:"center"},dateFormat:Function,alwaysShowCalendars:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},controlContainerClass:{type:[Object,String],default:"form-control reportrange-text"},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default(e,t,{width:i,top:a,left:o,right:u}){t.opens==="center"?e.style.left=o+i/2+"px":t.opens==="left"?e.style.right=window.innerWidth-u+"px":t.opens==="right"&&(e.style.left=o+"px"),e.style.top=a+"px"}},closeOnEsc:{type:Boolean,default:!0},readonly:{type:Boolean}},data(){const e=DateUtil;let t={locale:e.localeData({...this.localeData})},i=this.dateRange.startDate||null,a=this.dateRange.endDate||null;if(t.monthDate=i?new Date(i):new Date,t.nextMonthDate=e.nextMonth(t.monthDate),t.start=i?new Date(i):null,this.singleDatePicker&&this.singleDatePicker!=="range"?t.end=t.start:t.end=a?new Date(a):null,t.in_selection=!1,t.open=!1,t.showCustomRangeCalendars=!1,t.locale.firstDay!==0){let o=t.locale.firstDay,u=[...t.locale.daysOfWeek];for(;o>0;)u.push(u.shift()),o--;t.locale.daysOfWeek=u}return t},methods:{dateFormatFn(e,t){let i=new Date(t);i.setHours(0,0,0,0);let a=new Date(this.start);a.setHours(0,0,0,0);let o=new Date(this.end);return o.setHours(0,0,0,0),e["in-range"]=i>=a&&i<=o,this.dateFormat?this.dateFormat(e,t):e},changeLeftMonth(e){let t=new Date(e.year,e.month-1,1);this.monthDate=t,(this.linkedCalendars||this.$dateUtil.yearMonth(this.monthDate)>=this.$dateUtil.yearMonth(this.nextMonthDate))&&(this.nextMonthDate=this.$dateUtil.validateDateRange(this.$dateUtil.nextMonth(t),this.minDate,this.maxDate),(!this.singleDatePicker||this.singleDatePicker==="range")&&this.$dateUtil.yearMonth(this.monthDate)===this.$dateUtil.yearMonth(this.nextMonthDate)&&(this.monthDate=this.$dateUtil.validateDateRange(this.$dateUtil.prevMonth(this.monthDate),this.minDate,this.maxDate))),this.$emit("change-month",this.monthDate,0)},changeRightMonth(e){let t=new Date(e.year,e.month-1,1);this.nextMonthDate=t,(this.linkedCalendars||this.$dateUtil.yearMonth(this.nextMonthDate)<=this.$dateUtil.yearMonth(this.monthDate))&&(this.monthDate=this.$dateUtil.validateDateRange(this.$dateUtil.prevMonth(t),this.minDate,this.maxDate),this.$dateUtil.yearMonth(this.monthDate)===this.$dateUtil.yearMonth(this.nextMonthDate)&&(this.nextMonthDate=this.$dateUtil.validateDateRange(this.$dateUtil.nextMonth(this.nextMonthDate),this.minDate,this.maxDate))),this.$emit("change-month",this.monthDate,1)},normalizeDatetime(e,t){let i=new Date(e);return this.timePicker&&t&&(i.setHours(t.getHours()),i.setMinutes(t.getMinutes()),i.setSeconds(t.getSeconds()),i.setMilliseconds(t.getMilliseconds())),i},dateClick(e){if(this.readonly)return!1;this.in_selection?(this.in_selection=!1,this.end=this.normalizeDatetime(e,this.end),this.end<this.start&&(this.in_selection=!0,this.start=this.normalizeDatetime(e,this.start),this.$emit("startSelection",this.start)),this.in_selection||(this.$emit("finishSelection",this.end),this.onSelect(),this.autoApply&&this.clickedApply())):(this.start=this.normalizeDatetime(e,this.start),this.end=this.normalizeDatetime(e,this.end),!this.singleDatePicker||this.singleDatePicker==="range"?(this.in_selection=!0,this.$emit("startSelection",this.start)):(this.onSelect(),this.autoApply&&this.clickedApply()))},hoverDate(e){if(this.readonly)return!1;let t=this.normalizeDatetime(e,this.end);this.in_selection&&t>=this.start&&(this.end=t),this.$emit("hoverDate",e)},onClickPicker(){this.disabled||this.togglePicker(null,!0)},togglePicker(e,t){typeof e=="boolean"?this.open=e:this.open=!this.open,t===!0&&this.$emit("toggle",this.open,this.togglePicker)},clickedApply(){this.togglePicker(!1,!0),this.$emit("update:modelValue",{startDate:this.start,endDate:this.singleDatePicker&&this.singleDatePicker!=="range"?this.start:this.end})},clickCancel(){if(this.open){let e=this.dateRange.startDate,t=this.dateRange.endDate;this.start=e?new Date(e):null,this.end=t?new Date(t):null,this.in_selection=!1,this.togglePicker(!1,!0)}},onSelect(){this.$emit("select",{startDate:this.start,endDate:this.end})},clickAway(e){e&&e.target&&!this.$el.contains(e.target)&&this.$refs.dropdown&&!this.$refs.dropdown.contains(e.target)&&this.clickCancel()},clickRange(e){this.in_selection=!1,this.$dateUtil.isValidDate(e[0])&&this.$dateUtil.isValidDate(e[1])?(this.start=this.$dateUtil.validateDateRange(new Date(e[0]),this.minDate,this.maxDate),this.end=this.$dateUtil.validateDateRange(new Date(e[1]),this.minDate,this.maxDate),this.changeLeftMonth({month:this.start.getMonth()+1,year:this.start.getFullYear()}),this.linkedCalendars===!1&&this.changeRightMonth({month:this.end.getMonth()+1,year:this.end.getFullYear()})):(this.start=null,this.end=null),this.onSelect(),this.autoApply&&this.clickedApply()},onUpdateStartTime(e){let t=new Date(this.start);t.setHours(e.hours),t.setMinutes(e.minutes),t.setSeconds(e.seconds),this.start=this.$dateUtil.validateDateRange(t,this.minDate,this.maxDate),this.autoApply&&this.$emit("update:modelValue",{startDate:this.start,endDate:this.singleDatePicker&&this.singleDatePicker!=="range"?this.start:this.end})},onUpdateEndTime(e){let t=new Date(this.end);t.setHours(e.hours),t.setMinutes(e.minutes),t.setSeconds(e.seconds),this.end=this.$dateUtil.validateDateRange(t,this.minDate,this.maxDate),this.autoApply&&this.$emit("update:modelValue",{startDate:this.start,endDate:this.end})},handleEscape(e){this.open&&e.keyCode===27&&this.closeOnEsc&&this.clickCancel()}},computed:{showRanges(){return this.ranges!==!1&&!this.readonly},showCalendars(){return this.alwaysShowCalendars||this.showCustomRangeCalendars},startText(){return this.start===null?"":this.$dateUtil.format(this.start,this.locale.format)},endText(){return this.end===null?"":this.$dateUtil.format(this.end,this.locale.format)},rangeText(){let e=this.startText;return(!this.singleDatePicker||this.singleDatePicker==="range")&&(e+=this.locale.separator+this.endText),e},min(){return this.minDate?new Date(this.minDate):null},max(){return this.maxDate?new Date(this.maxDate):null},pickerStyles(){return{"show-calendar":this.open||this.opens==="inline","show-ranges":this.showRanges,"show-weeknumbers":this.showWeekNumbers,single:this.singleDatePicker,["opens"+this.opens]:!0,linked:this.linkedCalendars,"hide-calendars":!this.showCalendars}},isClear(){return!this.dateRange.startDate||!this.dateRange.endDate},isDirty(){let e=new Date(this.dateRange.startDate),t=new Date(this.dateRange.endDate);return!this.isClear&&(this.start.getTime()!==e.getTime()||this.end.getTime()!==t.getTime())}},watch:{minDate(){let e=this.$dateUtil.validateDateRange(this.monthDate,this.minDate||new Date,this.maxDate);this.changeLeftMonth({year:e.getFullYear(),month:e.getMonth()+1})},maxDate(){let e=this.$dateUtil.validateDateRange(this.nextMonthDate,this.minDate,this.maxDate||new Date);this.changeRightMonth({year:e.getFullYear(),month:e.getMonth()+1})},"dateRange.startDate"(e){this.$dateUtil.isValidDate(new Date(e))&&(this.start=e&&!this.isClear&&this.$dateUtil.isValidDate(new Date(e))?new Date(e):null,this.isClear?(this.start=null,this.end=null):(this.start=new Date(this.dateRange.startDate),this.end=new Date(this.dateRange.endDate)))},"dateRange.endDate"(e){this.$dateUtil.isValidDate(new Date(e))&&(this.end=e&&!this.isClear?new Date(e):null,this.isClear?(this.start=null,this.end=null):(this.start=new Date(this.dateRange.startDate),this.end=new Date(this.dateRange.endDate)))},open:{handler(e){typeof document=="object"&&this.$nextTick(()=>{e?document.body.addEventListener("click",this.clickAway):document.body.removeEventListener("click",this.clickAway),e?document.addEventListener("keydown",this.handleEscape):document.removeEventListener("keydown",this.handleEscape),!this.alwaysShowCalendars&&this.ranges&&(this.showCustomRangeCalendars=!Object.keys(this.ranges).find(t=>this.$dateUtil.isSame(this.start,this.ranges[t][0],"date")&&this.$dateUtil.isSame(this.end,this.ranges[t][1],"date")))})},immediate:!0}}},_withScopeId$6=e=>(pushScopeId("data-v-577c3804"),e=e(),popScopeId(),e),_hoisted_1$u=_withScopeId$6(()=>createBaseVNode("i",{class:"glyphicon glyphicon-calendar fa fa-calendar"},null,-1)),_hoisted_2$q=_withScopeId$6(()=>createBaseVNode("b",{class:"caret"},null,-1)),_hoisted_3$o={class:"calendars"},_hoisted_4$n={key:1,class:"calendars-container"},_hoisted_5$h={key:0,class:"daterangepicker_input d-none d-sm-block"},_hoisted_6$e=["value"],_hoisted_7$c=_withScopeId$6(()=>createBaseVNode("i",{class:"fa fa-calendar glyphicon glyphicon-calendar"},null,-1)),_hoisted_8$a={class:"calendar-table"},_hoisted_9$9={key:0,class:"drp-calendar col right"},_hoisted_10$9={key:0,class:"daterangepicker_input"},_hoisted_11$9=["value"],_hoisted_12$9=_withScopeId$6(()=>createBaseVNode("i",{class:"fa fa-calendar glyphicon glyphicon-calendar"},null,-1)),_hoisted_13$8={class:"calendar-table"},_hoisted_14$7={key:0,class:"drp-buttons"},_hoisted_15$6={key:0,class:"drp-selected"},_hoisted_16$5=["disabled"];function _sfc_render$t(e,t,i,a,o,u){const d=resolveComponent("calendar-ranges"),n=resolveComponent("calendar"),k=resolveComponent("calendar-time"),j=resolveDirective("append-to-body");return openBlock(),createElementBlock("div",{class:normalizeClass(["vue-daterange-picker",{inline:i.opens==="inline"}])},[createBaseVNode("div",{class:normalizeClass(i.controlContainerClass),onClick:t[0]||(t[0]=(...Z)=>u.onClickPicker&&u.onClickPicker(...Z)),ref:"toggle"},[renderSlot(e.$slots,"input",{startDate:e.start,endDate:e.end,ranges:i.ranges,rangeText:u.rangeText},()=>[_hoisted_1$u,createTextVNode("  "),createBaseVNode("span",null,toDisplayString(u.rangeText),1),_hoisted_2$q],!0)],2),createVNode(Transition,{name:"slide-fade",mode:"out-in"},{default:withCtx(()=>[e.open||i.opens==="inline"?withDirectives((openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["daterangepicker ltr",u.pickerStyles]),ref:"dropdown"},[renderSlot(e.$slots,"header",{rangeText:u.rangeText,locale:e.locale,clickCancel:u.clickCancel,clickApply:u.clickedApply,in_selection:e.in_selection,autoApply:i.autoApply},void 0,!0),createBaseVNode("div",_hoisted_3$o,[u.showRanges?renderSlot(e.$slots,"ranges",{key:0,startDate:e.start,endDate:e.end,ranges:i.ranges,clickRange:u.clickRange},()=>[createVNode(d,{onClickRange:u.clickRange,onShowCustomRange:t[1]||(t[1]=Z=>e.showCustomRangeCalendars=!0),"always-show-calendars":i.alwaysShowCalendars,"locale-data":e.locale,ranges:i.ranges,selected:{startDate:e.start,endDate:e.end}},null,8,["onClickRange","always-show-calendars","locale-data","ranges","selected"])],!0):createCommentVNode("",!0),u.showCalendars?(openBlock(),createElementBlock("div",_hoisted_4$n,[createBaseVNode("div",{class:normalizeClass(["drp-calendar col left",{single:i.singleDatePicker}])},[createCommentVNode("",!0),createBaseVNode("div",_hoisted_8$a,[createVNode(n,{monthDate:e.monthDate,"locale-data":e.locale,start:e.start,end:e.end,minDate:u.min,maxDate:u.max,"show-dropdowns":i.showDropdowns,onChangeMonth:u.changeLeftMonth,"date-format":u.dateFormatFn,onDateClick:u.dateClick,onHoverDate:u.hoverDate,showWeekNumbers:i.showWeekNumbers},{default:withCtx(()=>[renderSlot(e.$slots,"date",normalizeProps(guardReactiveProps(e.data)),void 0,!0)]),_:3},8,["monthDate","locale-data","start","end","minDate","maxDate","show-dropdowns","onChangeMonth","date-format","onDateClick","onHoverDate","showWeekNumbers"])]),i.timePicker&&e.start?(openBlock(),createBlock(k,{key:1,onUpdate:u.onUpdateStartTime,"miniute-increment":i.timePickerIncrement,hour24:i.timePicker24Hour,"second-picker":i.timePickerSeconds,"current-time":e.start,readonly:i.readonly},null,8,["onUpdate","miniute-increment","hour24","second-picker","current-time","readonly"])):createCommentVNode("",!0)],2),i.singleDatePicker?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_9$9,[createCommentVNode("",!0),createBaseVNode("div",_hoisted_13$8,[createVNode(n,{monthDate:e.nextMonthDate,"locale-data":e.locale,start:e.start,end:e.end,minDate:u.min,maxDate:u.max,"show-dropdowns":i.showDropdowns,onChangeMonth:u.changeRightMonth,"date-format":u.dateFormatFn,onDateClick:u.dateClick,onHoverDate:u.hoverDate,showWeekNumbers:i.showWeekNumbers},{default:withCtx(()=>[renderSlot(e.$slots,"date",normalizeProps(guardReactiveProps(e.data)),void 0,!0)]),_:3},8,["monthDate","locale-data","start","end","minDate","maxDate","show-dropdowns","onChangeMonth","date-format","onDateClick","onHoverDate","showWeekNumbers"])]),i.timePicker&&e.end?(openBlock(),createBlock(k,{key:1,onUpdate:u.onUpdateEndTime,"miniute-increment":i.timePickerIncrement,hour24:i.timePicker24Hour,"second-picker":i.timePickerSeconds,"current-time":e.end,readonly:i.readonly},null,8,["onUpdate","miniute-increment","hour24","second-picker","current-time","readonly"])):createCommentVNode("",!0)]))])):createCommentVNode("",!0)]),renderSlot(e.$slots,"footer",{rangeText:u.rangeText,locale:e.locale,clickCancel:u.clickCancel,clickApply:u.clickedApply,in_selection:e.in_selection,autoApply:i.autoApply},()=>[i.autoApply?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_14$7,[u.showCalendars?(openBlock(),createElementBlock("span",_hoisted_15$6,toDisplayString(u.rangeText),1)):createCommentVNode("",!0),i.readonly?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:1,class:"cancelBtn btn btn-sm btn-secondary",type:"button",onClick:t[2]||(t[2]=(...Z)=>u.clickCancel&&u.clickCancel(...Z))},toDisplayString(e.locale.cancelLabel),1)),i.readonly?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:2,class:"applyBtn btn btn-sm btn-success",disabled:e.in_selection,type:"button",onClick:t[3]||(t[3]=(...Z)=>u.clickedApply&&u.clickedApply(...Z))},toDisplayString(e.locale.applyLabel),9,_hoisted_16$5))]))],!0)],2)),[[j]]):createCommentVNode("",!0)]),_:3})],2)}const DateRangePicker=_export_sfc$1(_sfc_main$B,[["render",_sfc_render$t],["__scopeId","data-v-577c3804"]]),daterange_vue_vue_type_style_index_0_lang="",_sfc_main$A={name:"DateRange",components:{DateRangePicker},props:["from","to"],emits:["change"],data(){return{localFrom:this.from?hooks(Date.parse(this.from)).format("YYYY-MM-DD"):hooks(new Date).format("YYYY-MM-DD"),localTo:this.to?hooks(Date.parse(this.to)).format("YYYY-MM-DD"):hooks(new Date).format("YYYY-MM-DD"),dateRange:{startDate:this.from?Date.parse(this.from):new Date,endDate:this.to?Date.parse(this.to):new Date},locale:{direction:"ltr",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:hooks.weekdaysMin(),monthNames:hooks.monthsShort(),firstDay:1}}},methods:{updatePicker(e){this.localFrom=hooks(e.startDate).format("YYYY-MM-DD"),this.localTo=hooks(e.endDate).format("YYYY-MM-DD"),this.$emit("change",{from:this.localFrom,to:this.localTo})}}};function _sfc_render$s(e,t,i,a,o,u){const d=resolveComponent("date-range-picker");return openBlock(),createElementBlock(Fragment,null,[createVNode(d,{ref:"picker",modelValue:o.dateRange,"onUpdate:modelValue":[t[0]||(t[0]=n=>o.dateRange=n),u.updatePicker],"auto-apply":"",dateRange:o.dateRange,"locale-data":o.locale,format:"DD/MM/YYYY"},null,8,["modelValue","onUpdate:modelValue","dateRange","locale-data"]),withDirectives(createBaseVNode("input",{type:"hidden",name:"from","onUpdate:modelValue":t[1]||(t[1]=n=>o.localFrom=n)},null,512),[[vModelText,o.localFrom]]),withDirectives(createBaseVNode("input",{type:"hidden",name:"to","onUpdate:modelValue":t[2]||(t[2]=n=>o.localTo=n)},null,512),[[vModelText,o.localTo]])],64)}const DateRange=_export_sfc$1(_sfc_main$A,[["render",_sfc_render$s]]);hcMore(Highcharts$1);const _sfc_main$z={components:{highcharts:highchartsVue_minExports.Chart},props:{min:{type:Number,default:0},max:{type:Number,default:32},value:{type:Number,default:0},title:String},data(){return{options:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,height:300},title:{text:""},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:this.min,max:this.max,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#666",tickPixelInterval:30,tickWidth:0,tickPosition:"inside",tickLength:10,tickColor:"#666",labels:{step:2,distance:-50},title:{text:this.title,y:150},plotBands:[{from:0,to:this.max/8,color:"#576D7E",thickness:40},{from:this.max/8,to:this.max/8*2,color:"#34485C",thickness:40},{from:this.max/8*2,to:this.max/8*3,color:"#60C5B8",thickness:40},{from:this.max/8*3,to:this.max/8*4,color:"#25B39E",thickness:40},{from:this.max/8*4,to:this.max/8*5,color:"#FCD062",thickness:40},{from:this.max/8*5,to:this.max/8*6,color:"#F8B84E",thickness:40},{from:this.max/8*6,to:this.max/8*7,color:"#F17F53",thickness:40},{from:this.max/8*7,to:this.max/8*8,color:"#F05542",thickness:40}]}],series:[{name:this.title,data:[this.value],tooltip:{valueSuffix:" "}}]}}},methods:{},watch:{value:function(e,t){this.options.series[0].data=[e]}}};function _sfc_render$r(e,t,i,a,o,u){const d=resolveComponent("highcharts");return openBlock(),createElementBlock("div",null,[createVNode(d,{options:o.options},null,8,["options"])])}const SpeedoMeter=_export_sfc$1(_sfc_main$z,[["render",_sfc_render$r]]),_sfc_main$y={props:{value:Number,title:String},components:{highcharts:highchartsVue_minExports.Chart},watch:{value:function(e,t){this.options.series[0].data=[e]}},data(){return{options:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,height:300},title:{text:""},pane:{startAngle:0,endAngle:360,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{title:{text:this.title},min:1,max:360,lineColor:"#333",offset:-20,tickInterval:30,labels:{step:1,distance:5,rotation:"auto"}}],series:[{name:this.title,yAxis:0,data:[this.value],dial:{radius:"88%",baseWidth:10,baseLength:"0%",rearLength:0,borderWidth:1,borderColor:"#9A0000",backgroundColor:"#CC0000"},tooltip:{valueSuffix:"°"}}]}}}};function _sfc_render$q(e,t,i,a,o,u){const d=resolveComponent("highcharts");return openBlock(),createElementBlock("div",null,[createVNode(d,{options:o.options},null,8,["options"])])}const Compass=_export_sfc$1(_sfc_main$y,[["render",_sfc_render$q]]),speedometer_vue_vue_type_style_index_0_lang="",_sfc_main$x={props:{url:String,fleet:Object},components:{SpeedoMeter,Compass},methods:{scaleBeafort(e){let t="";return e<=1?t="Calm":e>1&&e<3.9?t="Light Air":e>4&&e<6.9?t="Light Breeze":e>7&&e<10.9?t="Gentle breeze":e>11&&e<16.9?t="Moderate breeze":e>17&&e<21.9?t="Fresh breeze":e>22&&e<27.9?t="Strong breeze":e>28&&e<33.9?t="High wind":e>34&&e<40.9?t="Gale":e>41&&e<47.9?t="Strong/severe gale":e>48&&e<55.9?t="Storm":e>56&&e<63.9?t="Violent storm":t="Hurricane force",t}}},_hoisted_1$t={class:"row"},_hoisted_2$p={class:"col-3"},_hoisted_3$n={class:"col-3"},_hoisted_4$m={class:"col-3"},_hoisted_5$g={class:"col-3"};function _sfc_render$p(e,t,i,a,o,u){const d=resolveComponent("speedo-meter"),n=resolveComponent("compass");return openBlock(),createElementBlock("div",_hoisted_1$t,[createBaseVNode("div",_hoisted_2$p,[createVNode(d,{value:i.fleet.navigation.sog,max:32,title:"Speed (knot)"},null,8,["value"])]),createBaseVNode("div",_hoisted_3$n,[createVNode(n,{value:i.fleet.navigation.cog,title:"Course (°)"},null,8,["value"])]),createBaseVNode("div",_hoisted_4$m,[createVNode(d,{value:i.fleet.navigation.wind_speed,max:80,title:u.scaleBeafort(i.fleet.navigation.wind_speed)},null,8,["value","title"])]),createBaseVNode("div",_hoisted_5$g,[createVNode(n,{value:i.fleet.navigation.wind_direction,title:"Wind Direction"},null,8,["value"])])])}const FleetSpeedometer=_export_sfc$1(_sfc_main$x,[["render",_sfc_render$p]]),information_vue_vue_type_style_index_0_lang="",_sfc_main$w={components:{FleetSpeedometer},props:{url:String,mapping:Array,navUrl:String},data(){return{fleet:null,data:null}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(e=>e.data),this.data=await axios.get(this.navUrl).then(e=>e.data)},openRecomend(e){this.info=e},buildTooltip(e,t){return e.normal>t?"IS VERY LOW":e.danger<t?"IS VERY HIGH":"NORMAL"}}},_hoisted_1$s={key:0},_hoisted_2$o={key:0,class:"p-3"},_hoisted_3$m={class:"row"},_hoisted_4$l={class:"col-12"},_hoisted_5$f=createBaseVNode("div",{class:"table-title"},[createBaseVNode("h6",null,"Navigation information")],-1),_hoisted_6$d={class:"table table-sm"},_hoisted_7$b=createBaseVNode("th",{scope:"row"},"•",-1),_hoisted_8$9=createBaseVNode("td",null,"Updated at",-1),_hoisted_9$8={class:"text-end"},_hoisted_10$8=createBaseVNode("th",{scope:"row"},"•",-1),_hoisted_11$8={class:"text-end"},_hoisted_12$8=["onClick","title"],_hoisted_13$7=createBaseVNode("img",{src:"/icon/danger.svg",height:"16"},null,-1),_hoisted_14$6=[_hoisted_13$7],_hoisted_15$5=["innerHTML"];function _sfc_render$o(e,t,i,a,o,u){const d=resolveComponent("fleet-speedometer");return o.fleet?(openBlock(),createElementBlock("div",_hoisted_1$s,[createVNode(d,{fleet:o.fleet},null,8,["fleet"]),o.data?(openBlock(),createElementBlock("div",_hoisted_2$o,[createBaseVNode("div",_hoisted_3$m,[createBaseVNode("div",_hoisted_4$l,[_hoisted_5$f,createBaseVNode("table",_hoisted_6$d,[createBaseVNode("tbody",null,[createBaseVNode("tr",null,[_hoisted_7$b,_hoisted_8$9,createBaseVNode("td",_hoisted_9$8,toDisplayString(o.data.terminal_time),1)]),(openBlock(!0),createElementBlock(Fragment,null,renderList(i.mapping,n=>(openBlock(),createElementBlock("tr",{key:n.data},[_hoisted_10$8,createBaseVNode("td",null,toDisplayString(n.text),1),createBaseVNode("td",_hoisted_11$8,[n.condition=="ABNORMAL"?(openBlock(),createElementBlock("a",{key:0,href:"#",onClick:k=>u.openRecomend(n),"data-bs-toggle":"tooltip","data-bs-placement":"top",title:u.buildTooltip(n,o.data[n.data])},_hoisted_14$6,8,_hoisted_12$8)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(o.data[n.data])+" ",1),createBaseVNode("span",{innerHTML:n.unit},null,8,_hoisted_15$5)])]))),128))])])])])])):createCommentVNode("",!0)])):createCommentVNode("",!0)}const FleetInformation=_export_sfc$1(_sfc_main$w,[["render",_sfc_render$o]]),_sfc_main$v={props:{min:Number,max:Number,value:Number,normal:Number,danger:Number},data(){return{}},computed:{percentage(){return this.value/this.max*100},color(){let e="bg-success",t=this.value/this.max*100,i=this.normal/this.max*100,a=this.danger/this.max*100;return t>i&&t<a?e="bg-warning":t>a&&(e="bg-danger"),e}}},_hoisted_1$r={class:"progress"};function _sfc_render$n(e,t,i,a,o,u){return openBlock(),createElementBlock("div",_hoisted_1$r,[createBaseVNode("div",{class:normalizeClass(["progress-bar",u.color]),style:normalizeStyle({width:`${u.percentage}%`}),role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"},null,6)])}const Progress=_export_sfc$1(_sfc_main$v,[["render",_sfc_render$n]]),sideInfo_vue_vue_type_style_index_0_lang="",_sfc_main$u={components:{"progress-bar":Progress},props:{fleet:Object,display:Boolean},data(){return{}},methods:{toggleText(){this.display=!this.display}}},_hoisted_1$q={class:"voyage-section"},_hoisted_2$n={key:0,class:"card voyage-card"},_hoisted_3$l={class:"card-header justify-content-between"},_hoisted_4$k=["src"],_hoisted_5$e=createBaseVNode("h5",{class:"fw-normal m-0"},"Fleet Information",-1),_hoisted_6$c={class:"card-body"},_hoisted_7$a=createBaseVNode("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[createBaseVNode("li",{class:"nav-item",role:"presentation"},[createBaseVNode("button",{class:"nav-link justify-content-left active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"INFO")])],-1),_hoisted_8$8={class:"tab-content",id:"pills-tabContent"},_hoisted_9$7={class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},_hoisted_10$7={class:"m12"},_hoisted_11$7=createBaseVNode("div",{class:"st21"},"Name",-1),_hoisted_12$7={class:"st22"},_hoisted_13$6=["href"],_hoisted_14$5=createBaseVNode("img",{width:"11",height:"11",src:"/img/icons/external-link.png",style:{"margin-left":"6px"}},null,-1),_hoisted_15$4={class:"m12"},_hoisted_16$4=createBaseVNode("div",{class:"st21"},"IMO Number",-1),_hoisted_17$3={class:"st22"},_hoisted_18$3={class:"m12"},_hoisted_19$1=createBaseVNode("div",{class:"st21"},"Last Update",-1),_hoisted_20$1={class:"st22"},_hoisted_21$1={class:"m12"},_hoisted_22$1=createBaseVNode("div",{class:"st21"},"Last Coordinates",-1),_hoisted_23$1={class:"st22"},_hoisted_24$1=["href"],_hoisted_25$1=createBaseVNode("img",{width:"11",height:"11",src:"/img/icons/external-link.png",style:{"margin-left":"6px"}},null,-1),_hoisted_26$1={class:"m12"},_hoisted_27$1=createBaseVNode("div",{class:"st21"},"Status",-1),_hoisted_28={class:"st22"},_hoisted_29={key:0,class:"m12"},_hoisted_30=createBaseVNode("div",{class:"st21"},"At Port",-1),_hoisted_31={class:"st22"},_hoisted_32=createStaticVNode('<div class="m12"><div class="st21">Origin</div><div class="st22"></div></div><div class="m12"><div class="st21">Destination</div><div class="st22"></div></div><div class="m12"><div class="st21">ETA</div><div class="st22"></div></div><br>',4),_hoisted_36=createBaseVNode("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[createBaseVNode("li",{class:"nav-item",role:"presentation"},[createBaseVNode("button",{class:"nav-link justify-content-left active",id:"pills-main-engine-tab","data-bs-toggle":"pill","data-bs-target":"#pills-main-engine",type:"button",role:"tab","aria-controls":"pills-main-engine","aria-selected":"true"},"Main Engine")]),createBaseVNode("li",{class:"nav-item",role:"presentation"},[createBaseVNode("button",{class:"nav-link justify-content-center",id:"pills-pump-tab","data-bs-toggle":"pill","data-bs-target":"#pills-pump",type:"button",role:"tab","aria-controls":"pills-pump","aria-selected":"false"},"Pump Status")])],-1),_hoisted_37={class:"tab-content",id:"pills-tabContent"},_hoisted_38={class:"tab-pane fade show active",id:"pills-main-engine",role:"tabpanel","aria-labelledby":"pills-main-engine-tab"},_hoisted_39=createBaseVNode("div",{class:"tt01"},"Main Engine Latest Status",-1),_hoisted_40={class:"st21"},_hoisted_41={key:0},_hoisted_42=["innerHTML"],_hoisted_43={key:1},_hoisted_44={class:"st22"},_hoisted_45={class:"tab-pane",id:"pills-pump",role:"tabpanel","aria-labelledby":"pills-pump-tab"},_hoisted_46=createBaseVNode("div",{class:"tt01"},"Cargo/Ballast/Stripping/Vacuum Pump",-1),_hoisted_47={class:"st21"},_hoisted_48={key:0},_hoisted_49=["innerHTML"],_hoisted_50={key:1},_hoisted_51={class:"st22"};function _sfc_render$m(e,t,i,a,o,u){const d=resolveComponent("progress-bar");return openBlock(),createElementBlock("div",_hoisted_1$q,[i.display?(openBlock(),createElementBlock("div",_hoisted_2$n,[createBaseVNode("div",_hoisted_3$l,[createBaseVNode("button",{onClick:t[0]||(t[0]=n=>e.$emit("close",!0)),class:"btn btn-link bg-transparent p-0"},[createBaseVNode("img",{src:"/img/icons/close-fill.png",alt:""},null,8,_hoisted_4$k)]),_hoisted_5$e]),createBaseVNode("div",_hoisted_6$c,[_hoisted_7$a,createBaseVNode("div",_hoisted_8$8,[createBaseVNode("div",_hoisted_9$7,[createBaseVNode("div",_hoisted_10$7,[_hoisted_11$7,createBaseVNode("div",_hoisted_12$7,[createBaseVNode("a",{href:`/fleet/${i.fleet.id}`,class:"d-flex align-items-center"},[createTextVNode(toDisplayString(i.fleet.name)+" ",1),_hoisted_14$5],8,_hoisted_13$6)])]),createBaseVNode("div",_hoisted_15$4,[_hoisted_16$4,createBaseVNode("div",_hoisted_17$3,toDisplayString(i.fleet.imo_number),1)]),createBaseVNode("div",_hoisted_18$3,[_hoisted_19$1,createBaseVNode("div",_hoisted_20$1,toDisplayString(e.$filters.dateformat(i.fleet.last_connection))+" WIB",1)]),createBaseVNode("div",_hoisted_21$1,[_hoisted_22$1,createBaseVNode("div",_hoisted_23$1,[createBaseVNode("a",{href:`/fleet/${i.fleet.id}/track`,class:"d-flex align-items-center"},[createTextVNode(toDisplayString(i.fleet.navigation.lat.toFixed(4))+" "+toDisplayString(i.fleet.navigation.lat_dir)+", "+toDisplayString(i.fleet.navigation.lng.toFixed(4))+" "+toDisplayString(i.fleet.navigation.lng_dir)+" ",1),_hoisted_25$1],8,_hoisted_24$1)])]),createBaseVNode("div",_hoisted_26$1,[_hoisted_27$1,createBaseVNode("div",_hoisted_28,toDisplayString(i.fleet.fleet_status.replace("_"," ").toUpperCase()),1)]),i.fleet.fleet_status=="at_port"?(openBlock(),createElementBlock("div",_hoisted_29,[_hoisted_30,createBaseVNode("div",_hoisted_31,toDisplayString(i.fleet.last_port),1)])):createCommentVNode("",!0),_hoisted_32,_hoisted_36,createBaseVNode("div",_hoisted_37,[createBaseVNode("div",_hoisted_38,[_hoisted_39,(openBlock(!0),createElementBlock(Fragment,null,renderList(i.fleet.engine_info,(n,k)=>(openBlock(),createElementBlock("div",{class:"m13",key:k},[createBaseVNode("div",_hoisted_40,[createTextVNode(toDisplayString(n.title)+" ",1),n.value>0?(openBlock(),createElementBlock("span",_hoisted_41,[createTextVNode(toDisplayString(e.$filters.number(n.value))+" ",1),createBaseVNode("span",{innerHTML:n.unit},null,8,_hoisted_42)])):createCommentVNode("",!0),createTextVNode(),n.value==0?(openBlock(),createElementBlock("span",_hoisted_43,"OFF")):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_44,[createVNode(d,{min:n.min,warning:n.warning,danger:n.danger,max:n.max,value:n.value},null,8,["min","warning","danger","max","value"])])]))),128))]),createBaseVNode("div",_hoisted_45,[_hoisted_46,(openBlock(!0),createElementBlock(Fragment,null,renderList(i.fleet.cargo_pump_info,(n,k)=>(openBlock(),createElementBlock("div",{class:"m13",key:k},[createBaseVNode("div",_hoisted_47,[createTextVNode(toDisplayString(n.title)+" ",1),n.value>0?(openBlock(),createElementBlock("span",_hoisted_48,[createTextVNode(toDisplayString(e.$filters.number(n.value))+" ",1),createBaseVNode("span",{innerHTML:n.unit},null,8,_hoisted_49)])):createCommentVNode("",!0),createTextVNode(),n.value==0?(openBlock(),createElementBlock("span",_hoisted_50,"OFF")):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_51,[createVNode(d,{min:n.min,normal:n.normal,danger:n.danger,max:n.max,value:n.value},null,8,["min","normal","danger","max","value"])])]))),128))])])])])])])):createCommentVNode("",!0)])}const SideInfo=_export_sfc$1(_sfc_main$u,[["render",_sfc_render$m]]),svg_vue_vue_type_style_index_0_lang="",_sfc_main$t={name:"ChartSvg",props:{path:String,svgData:Object,height:Number},data(){return{scadavis:null,tags:[]}},async mounted(){await this.init(),Object.keys(this.svgData).forEach(e=>{this.setValue(e,this.svgData[e])})},created(){window.addEventListener("resize",this.resize)},destroyed(){window.removeEventListener("resize",this.resize)},watch:{svgData:function(e,t){let i=this;Object.keys(e).forEach(a=>{i.setValue(a,e[a])})}},methods:{async init(){this.scadavis=await scadavisInit({container:"scada-svg",svgurl:this.path}),this.scadavis.enableTools(!1,!0),this.scadavis.hideWatermark(),this.tags=this.scadavis.getTagsList().split(","),this.tags.forEach(e=>{this.scadavis.setValue(e,0)}),this.resize()},resize(){this.scadavis.zoomToOriginal();let e=this.$refs.cnsvg;this.scadavis.zoomTo(1*(e.clientWidth<e.clientHeight?e.clientWidth/600:e.clientHeight/600))},setValue(e,t){this.scadavis&&this.scadavis.setValue(e,t)}}};function _sfc_render$l(e,t,i,a,o,u){return openBlock(),createElementBlock("div",null,[createBaseVNode("div",{id:"scada-svg",class:"scada",ref:"cnsvg",style:normalizeStyle({height:this.height+"px"})},null,4)])}const ChartSvg=_export_sfc$1(_sfc_main$t,[["render",_sfc_render$l]]),_sfc_main$s={props:{url:String},components:{ChartSvg},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(i=>{t.includes(i)||(this.data[i+"_bar"]=e[i]*1e3)})}}}},_hoisted_1$p={key:0},_hoisted_2$m={class:"container"},_hoisted_3$k={class:"row"},_hoisted_4$j={class:"col-12"};function _sfc_render$k(e,t,i,a,o,u){const d=resolveComponent("chart-svg");return o.fleet?(openBlock(),createElementBlock("div",_hoisted_1$p,[createBaseVNode("div",_hoisted_2$m,[createBaseVNode("div",_hoisted_3$k,[createBaseVNode("div",_hoisted_4$j,[createVNode(d,{path:"/svg/cargo_bargraph.svg",svgData:o.data,height:550},null,8,["svgData"])])])])])):createCommentVNode("",!0)}const FleetCargo=_export_sfc$1(_sfc_main$s,[["render",_sfc_render$k]]),_sfc_main$r={props:{url:String},components:{ChartSvg},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(i=>{t.includes(i)||(this.data[i+"_bar"]=e[i]*1e3)}),this.data.fleet_name=this.fleet.name}}}},_hoisted_1$o={key:0},_hoisted_2$l={class:"container"},_hoisted_3$j={class:"row"},_hoisted_4$i={class:"col-12"};function _sfc_render$j(e,t,i,a,o,u){const d=resolveComponent("chart-svg");return o.fleet?(openBlock(),createElementBlock("div",_hoisted_1$o,[createBaseVNode("div",_hoisted_2$l,[createBaseVNode("div",_hoisted_3$j,[createBaseVNode("div",_hoisted_4$i,[createVNode(d,{path:"/svg/bunker_bargraph.svg",svgData:o.data,height:550},null,8,["svgData"])])])])])):createCommentVNode("",!0)}const FleetBunker=_export_sfc$1(_sfc_main$r,[["render",_sfc_render$j]]),_sfc_main$q={props:{url:String},components:{ChartSvg},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(i=>{t.includes(i)||(this.data[i+"_bar"]=e[i]*1e3)}),this.data.fleet_name=this.fleet.name}}}},_hoisted_1$n={key:0},_hoisted_2$k={class:"container"},_hoisted_3$i={class:"row"},_hoisted_4$h={class:"col-12"};function _sfc_render$i(e,t,i,a,o,u){const d=resolveComponent("chart-svg");return o.fleet?(openBlock(),createElementBlock("div",_hoisted_1$n,[createBaseVNode("div",_hoisted_2$k,[createBaseVNode("div",_hoisted_3$i,[createBaseVNode("div",_hoisted_4$h,[createVNode(d,{path:"/svg/water_ballast_bargraph.svg",svgData:o.data,height:550},null,8,["svgData"])])])])])):createCommentVNode("",!0)}const FleetBallast=_export_sfc$1(_sfc_main$q,[["render",_sfc_render$i]]),_sfc_main$p={props:{url:String},components:{ChartSvg},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.engine;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(i=>{t.includes(i)||(this.data[i+"_bar"]=e[i]*1e3)}),this.data.fleet_name=this.fleet.name}}}};function _sfc_render$h(e,t,i,a,o,u){const d=resolveComponent("chart-svg");return openBlock(),createElementBlock("div",null,[createVNode(d,{path:"/svg/engine-2.svg",svgData:o.data,height:550},null,8,["svgData"])])}const EngineTypeS=_export_sfc$1(_sfc_main$p,[["render",_sfc_render$h]]),_sfc_main$o={name:"UserPermission",props:{url:String},data(){return{permissions:[],checked:[],user_id:null}},mounted(){this.loadRole(),this.loadData()},methods:{async loadData(){let{data:e}=await axios.get(this.url);this.user_id=e.data.id,this.checked=e.data.permissions},async loadRole(){let{data:e}=await axios.get("/master/permission/json");this.permissions=e.data},async assignTo(){if(this.user_id){let{data:e}=await axios.post(`/master/user/${this.user_id}/update-permission`,{permission:this.checked});e.success&&alert("Success saved")}}}},_hoisted_1$m={class:"form-group mb-3"},_hoisted_2$j=createBaseVNode("label",null,"Permissions",-1),_hoisted_3$h={class:"checkbox"},_hoisted_4$g={class:"ui-check"},_hoisted_5$d=["value"],_hoisted_6$b=createBaseVNode("i",{class:"dark-white"},null,-1),_hoisted_7$9={class:"float-end"};function _sfc_render$g(e,t,i,a,o,u){return openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1$m,[_hoisted_2$j,(openBlock(!0),createElementBlock(Fragment,null,renderList(o.permissions,d=>(openBlock(),createElementBlock("div",_hoisted_3$h,[createBaseVNode("label",_hoisted_4$g,[withDirectives(createBaseVNode("input",{type:"checkbox",value:d.name,"onUpdate:modelValue":t[0]||(t[0]=n=>o.checked=n)},null,8,_hoisted_5$d),[[vModelCheckbox,o.checked]]),_hoisted_6$b,createTextVNode(" "+toDisplayString(d.name),1)])]))),256))]),createBaseVNode("div",_hoisted_7$9,[createBaseVNode("a",{class:"btn btn-primary",onClick:t[1]||(t[1]=(...d)=>u.assignTo&&u.assignTo(...d))},"Assign Permissions")])])}const UserPermission=_export_sfc$1(_sfc_main$o,[["render",_sfc_render$g]]),_sfc_main$n={name:"UserFleets",props:{url:String},data(){return{fleets:[],checked:[],user_id:null}},mounted(){this.loadFleet(),this.loadData()},methods:{async loadData(){let{data:e}=await axios.get(this.url);this.user_id=e.data.id,this.checked=e.data.fleets},async loadFleet(){let{data:e}=await axios.get("/master/fleets/data/json");this.fleets=e},async assignTo(){if(this.user_id){let{data:e}=await axios.post(`/master/user/${this.user_id}/update-fleet-access`,{fleet:this.checked});e.success&&alert("Success saved")}}}},_hoisted_1$l={class:"form-group mb-3"},_hoisted_2$i=createBaseVNode("label",null,"Fleets Access",-1),_hoisted_3$g={class:"checkbox"},_hoisted_4$f={class:"ui-check"},_hoisted_5$c=["value"],_hoisted_6$a=createBaseVNode("i",{class:"dark-white"},null,-1),_hoisted_7$8={class:"float-end"};function _sfc_render$f(e,t,i,a,o,u){return openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1$l,[_hoisted_2$i,(openBlock(!0),createElementBlock(Fragment,null,renderList(o.fleets,d=>(openBlock(),createElementBlock("div",_hoisted_3$g,[createBaseVNode("label",_hoisted_4$f,[withDirectives(createBaseVNode("input",{type:"checkbox",value:d.id,"onUpdate:modelValue":t[0]||(t[0]=n=>o.checked=n)},null,8,_hoisted_5$c),[[vModelCheckbox,o.checked]]),_hoisted_6$a,createTextVNode(" "+toDisplayString(d.name),1)])]))),256))]),createBaseVNode("div",_hoisted_7$8,[createBaseVNode("a",{class:"btn btn-primary",onClick:t[1]||(t[1]=(...d)=>u.assignTo&&u.assignTo(...d))},"Assign to Fleet")])])}const UserFleet=_export_sfc$1(_sfc_main$n,[["render",_sfc_render$f]]),_sfc_main$m={props:{title:String,url:String,fields:Array,show:Boolean,sensor:Object,iItem:Boolean},data(){return{data:{}}},mounted(){},watch:{sensor:{handler(e,t){this.data.fleet_id=e.fleet_id,this.data.sensor_name=e.sensor_name,e.doc!==null?(this.data.low_desc=e.doc.low_desc,this.data.high_desc=e.doc.high_desc):(this.data.low_desc=null,this.data.high_desc=null)},deep:!0}},methods:{async save(){let e=await axios.post(this.url,this.data).then(t=>t.data);e.error?this.$emit("saved",null):this.$emit("saved",e)}}},_hoisted_1$k={class:"modal-dialog modal-dialog-centered",role:"document"},_hoisted_2$h={class:"modal-content"},_hoisted_3$f={class:"modal-header"},_hoisted_4$e={class:"modal-title"},_hoisted_5$b={class:"modal-body"},_hoisted_6$9={key:0,class:"mb-2"},_hoisted_7$7={class:"form-label"},_hoisted_8$7=["onUpdate:modelValue"],_hoisted_9$6=["value"],_hoisted_10$6={class:"form-label"},_hoisted_11$6=["onUpdate:modelValue"],_hoisted_12$6=["value"],_hoisted_13$5={class:"form-label"},_hoisted_14$4=["onUpdate:modelValue"],_hoisted_15$3={key:3,class:"mb-2"},_hoisted_16$3={class:"form-label"},_hoisted_17$2=["onUpdate:modelValue"],_hoisted_18$2={class:"modal-footer"};function _sfc_render$e(e,t,i,a,o,u){return openBlock(),createElementBlock("div",{class:normalizeClass(["modal modal-blur modal-lg fade",{show:i.show}]),style:normalizeStyle({display:i.show?"block":"none"}),id:"modal-team",tabindex:"-1",role:"dialog","aria-hidden":"true"},[createBaseVNode("div",_hoisted_1$k,[createBaseVNode("div",_hoisted_2$h,[createBaseVNode("div",_hoisted_3$f,[createBaseVNode("h5",_hoisted_4$e,toDisplayString(i.title),1),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=d=>i.show=!1)})]),createBaseVNode("div",_hoisted_5$b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.fields,(d,n)=>(openBlock(),createElementBlock(Fragment,{key:n},[d.editType=="select"?(openBlock(),createElementBlock("div",_hoisted_6$9,[createBaseVNode("label",_hoisted_7$7,toDisplayString(d.name),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":k=>o.data[d.field]=k,class:"form-select"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(d.options,(k,j)=>(openBlock(),createElementBlock("option",{value:k,key:j},toDisplayString(k),9,_hoisted_9$6))),128))],8,_hoisted_8$7),[[vModelSelect,o.data[d.field]]])])):d.editType=="selectKeyVal"?(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("label",_hoisted_10$6,toDisplayString(d.name),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":k=>o.data[d.field]=k,class:"form-select"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(d.options,(k,j)=>(openBlock(),createElementBlock("option",{value:j,key:j},toDisplayString(k),9,_hoisted_12$6))),128))],8,_hoisted_11$6),[[vModelSelect,o.data[d.field]]])],64)):d.editType=="textarea"?(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("label",_hoisted_13$5,toDisplayString(d.name),1),withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":k=>o.data[d.field]=k,rows:"6",class:"form-control"},null,8,_hoisted_14$4),[[vModelText,o.data[d.field]]])],64)):(openBlock(),createElementBlock("div",_hoisted_15$3,[createBaseVNode("label",_hoisted_16$3,toDisplayString(d.name),1),withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":k=>o.data[d.field]=k},null,8,_hoisted_17$2),[[vModelText,o.data[d.field]]])]))],64))),128))]),createBaseVNode("div",_hoisted_18$2,[createBaseVNode("button",{onClick:t[1]||(t[1]=d=>i.show=!1),type:"button",class:"btn me-auto","data-bs-dismiss":"modal"},"Close"),createBaseVNode("button",{onClick:t[2]||(t[2]=(...d)=>u.save&&u.save(...d)),type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"},"Add")])])])],6)}const FormModalDoc=_export_sfc$1(_sfc_main$m,[["render",_sfc_render$e]]),_sfc_main$l={props:{title:String,url:String,fields:Array,show:Boolean,fleet:Object},data(){return{data:{}}},mounted(){this.fields.forEach(e=>{this.data[e.field]=null}),this.fleet&&(this.data.fleet_id=this.fleet.fleetId,this.data.group=this.fleet.group,this.data.ordered=this.fleet.ordered)},methods:{async save(){let e=await axios.post(this.url,this.data).then(t=>t.data);e.error?this.$emit("saved",!1):this.$emit("saved",e)}}},_hoisted_1$j={class:"modal-dialog modal-dialog-centered",role:"document"},_hoisted_2$g={class:"modal-content"},_hoisted_3$e={class:"modal-header"},_hoisted_4$d={class:"modal-title"},_hoisted_5$a={class:"modal-body"},_hoisted_6$8={key:0,class:"mb-2"},_hoisted_7$6={class:"form-label"},_hoisted_8$6=["onUpdate:modelValue"],_hoisted_9$5=["value"],_hoisted_10$5={class:"form-label"},_hoisted_11$5=["onUpdate:modelValue"],_hoisted_12$5=["value"],_hoisted_13$4={key:2,class:"mb-2"},_hoisted_14$3={class:"form-label"},_hoisted_15$2=["onUpdate:modelValue"],_hoisted_16$2={class:"modal-footer"};function _sfc_render$d(e,t,i,a,o,u){return openBlock(),createElementBlock("div",{class:normalizeClass(["modal modal-blur fade",{show:i.show}]),style:normalizeStyle({display:i.show?"block":"none"}),id:"modal-team",tabindex:"-1",role:"dialog","aria-hidden":"true"},[createBaseVNode("div",_hoisted_1$j,[createBaseVNode("div",_hoisted_2$g,[createBaseVNode("div",_hoisted_3$e,[createBaseVNode("h5",_hoisted_4$d,toDisplayString(i.title),1),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=d=>i.show=!1)})]),createBaseVNode("div",_hoisted_5$a,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.fields,(d,n)=>(openBlock(),createElementBlock(Fragment,{key:n},[d.editType=="select"?(openBlock(),createElementBlock("div",_hoisted_6$8,[createBaseVNode("label",_hoisted_7$6,toDisplayString(d.name),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":k=>o.data[d.field]=k,class:"form-select"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(d.options,(k,j)=>(openBlock(),createElementBlock("option",{value:k,key:j},toDisplayString(k),9,_hoisted_9$5))),128))],8,_hoisted_8$6),[[vModelSelect,o.data[d.field]]])])):d.editType=="selectKeyVal"?(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("label",_hoisted_10$5,toDisplayString(d.name),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":k=>o.data[d.field]=k,class:"form-select"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(d.options,(k,j)=>(openBlock(),createElementBlock("option",{value:j,key:j},toDisplayString(k),9,_hoisted_12$5))),128))],8,_hoisted_11$5),[[vModelSelect,o.data[d.field]]])],64)):(openBlock(),createElementBlock("div",_hoisted_13$4,[createBaseVNode("label",_hoisted_14$3,toDisplayString(d.name),1),withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":k=>o.data[d.field]=k},null,8,_hoisted_15$2),[[vModelText,o.data[d.field]]])]))],64))),128))]),createBaseVNode("div",_hoisted_16$2,[createBaseVNode("button",{onClick:t[1]||(t[1]=d=>i.show=!1),type:"button",class:"btn me-auto","data-bs-dismiss":"modal"},"Close"),createBaseVNode("button",{onClick:t[2]||(t[2]=(...d)=>u.save&&u.save(...d)),type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"},"Add")])])])],6)}const FormModal=_export_sfc$1(_sfc_main$l,[["render",_sfc_render$d]]),_sfc_main$k={components:{FormModal,FormModalDoc},props:{columns:Array,data:Array,editUrl:String,delUrl:String,docUrl:String,fleet:Object,editable:Boolean},data(){return{formShow:!1,docShow:!1,items:[],docColumns:[{name:"Lower Docs Alert",field:"low_desc",editType:"textarea"},{name:"higher Docs Alert",field:"high_desc",editType:"textarea"}],item:{},indexActive:0}},mounted(){this.data.forEach(e=>this.items.push(e)),this.items=this.items.map(e=>({...e,isEdit:!1}))},methods:{saved(e){e.isEdit=!1,this.items.push(e),this.formShow=!1},editRowHandler(e,t){this.items[t].isEdit=!this.items[t].isEdit},async saveRowHandler(e,t){this.items[t].isEdit=!this.items[t].isEdit,await axios.post(this.editUrl,e)},isFieldSlot(e){return!!this.$slots[e]},del(e,t){let i=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(a=>{a.isConfirmed&&(axios.delete(i.delUrl+"/"+e.id),i.items.splice(t,1),i.$swal("Deleted!","Your file has been deleted.","success"))})},editDoc(e,t){this.indexActive=t,this.item=e,this.docShow=!0},docSaved(e){this.items[this.indexActive].doc=e}}},_hoisted_1$i={key:0,class:"action-edit"},_hoisted_2$f={class:"table-responsive"},_hoisted_3$d={class:"table table-vcenter card-table"},_hoisted_4$c=createBaseVNode("th",null,"No",-1),_hoisted_5$9={key:0},_hoisted_6$7=["onUpdate:modelValue"],_hoisted_7$5=["value"],_hoisted_8$5=["onUpdate:modelValue"],_hoisted_9$4=["value"],_hoisted_10$4=["onUpdate:modelValue"],_hoisted_11$4={key:4},_hoisted_12$4=["innerHTML"],_hoisted_13$3={key:1},_hoisted_14$2={key:0},_hoisted_15$1=["onClick"],_hoisted_16$1=["onClick"],_hoisted_17$1=["onClick"],_hoisted_18$1=["onClick"];function _sfc_render$c(e,t,i,a,o,u){const d=resolveComponent("form-modal"),n=resolveComponent("form-modal-doc");return openBlock(),createElementBlock(Fragment,null,[createVNode(d,{fields:i.columns,title:"Add Data",url:i.editUrl,show:o.formShow,fleet:i.fleet,onSaved:u.saved},null,8,["fields","url","show","fleet","onSaved"]),createVNode(n,{fields:o.docColumns,title:"Add/Edit Document Alert",url:i.docUrl,show:o.docShow,sensor:o.item,onSaved:u.docSaved},null,8,["fields","url","show","sensor","onSaved"]),i.editable?(openBlock(),createElementBlock("div",_hoisted_1$i,[createBaseVNode("button",{type:"button",class:"btn btn-info",onClick:t[0]||(t[0]=k=>o.formShow=!0)},"Add Data")])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_2$f,[createBaseVNode("table",_hoisted_3$d,[createBaseVNode("thead",null,[createBaseVNode("tr",null,[_hoisted_4$c,(openBlock(!0),createElementBlock(Fragment,null,renderList(i.columns,(k,j)=>(openBlock(),createElementBlock("th",{key:j},toDisplayString(k.name),1))),128)),i.editable?(openBlock(),createElementBlock("th",_hoisted_5$9)):createCommentVNode("",!0)])]),createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.items,(k,j)=>(openBlock(),createElementBlock("tr",{key:k.id},[createBaseVNode("td",null,toDisplayString(1+j),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(i.columns,(Z,z)=>(openBlock(),createElementBlock("td",{key:z},[u.isFieldSlot(Z.field)?renderSlot(e.$slots,Z.field,{key:0,rowData:k,rowIndex:j,rowField:Z}):Z.editType=="select"&&k.isEdit?withDirectives((openBlock(),createElementBlock("select",{key:1,"onUpdate:modelValue":H=>o.items[j][Z.field]=H,class:"form-select"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Z.options,(H,Y)=>(openBlock(),createElementBlock("option",{value:H,key:Y},toDisplayString(H),9,_hoisted_7$5))),128))],8,_hoisted_6$7)),[[vModelSelect,o.items[j][Z.field]]]):Z.editType=="selectKeyVal"&&k.isEdit?withDirectives((openBlock(),createElementBlock("select",{key:2,"onUpdate:modelValue":H=>o.items[j][Z.field]=H,class:"form-select"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Z.options,(H,Y)=>(openBlock(),createElementBlock("option",{value:Y,key:Y},toDisplayString(H),9,_hoisted_9$4))),128))],8,_hoisted_8$5)),[[vModelSelect,o.items[j][Z.field]]]):k.isEdit?withDirectives((openBlock(),createElementBlock("input",{key:3,type:"text",class:"form-control","onUpdate:modelValue":H=>o.items[j][Z.field]=H},null,8,_hoisted_10$4)),[[vModelText,o.items[j][Z.field]]]):typeof Z.display=="function"?(openBlock(),createElementBlock("span",_hoisted_11$4,toDisplayString(Z.display(k)),1)):(openBlock(),createElementBlock(Fragment,{key:5},[Z.isHtml?(openBlock(),createElementBlock("span",{key:0,innerHTML:k[Z.field]},null,8,_hoisted_12$4)):(openBlock(),createElementBlock("span",_hoisted_13$3,toDisplayString(k[Z.field]),1))],64))]))),128)),i.editable?(openBlock(),createElementBlock("td",_hoisted_14$2,[k.isEdit?createCommentVNode("",!0):(openBlock(),createElementBlock("a",{key:0,href:"#",onClick:Z=>u.editRowHandler(k,j)},"Edit",8,_hoisted_15$1)),k.isEdit?(openBlock(),createElementBlock("a",{key:1,href:"#",onClick:Z=>u.saveRowHandler(k,j)},"Done",8,_hoisted_16$1)):createCommentVNode("",!0),createTextVNode(" | "),createBaseVNode("a",{href:"#",onClick:Z=>u.del(k,j)},"Delete",8,_hoisted_17$1),createTextVNode(" | "),createBaseVNode("a",{href:"#",onClick:Z=>u.editDoc(k,j)},"Docs",8,_hoisted_18$1)])):createCommentVNode("",!0)]))),128))])])])],64)}const TableEditable=_export_sfc$1(_sfc_main$k,[["render",_sfc_render$c]]);var exporting={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function i(a,o,u,d){a.hasOwnProperty(o)||(a[o]=d.apply(null,u),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:a[o]}})))}t=t?t._modules:{},i(t,"Core/Chart/ChartNavigationComposition.js",[],function(){var a;return function(o){o.compose=function(d){return d.navigation||(d.navigation=new u(d)),d};class u{constructor(n){this.updates=[],this.chart=n}addUpdate(n){this.chart.navigation.updates.push(n)}update(n,k){this.updates.forEach(j=>{j.call(this.chart,n,k)})}}o.Additions=u}(a||(a={})),a}),i(t,"Extensions/Exporting/ExportingDefaults.js",[t["Core/Globals.js"]],function(a){return{isTouchDevice:a}=a,{exporting:{allowTableSorting:!0,type:"image/png",url:"https://export.highcharts.com/",pdfFont:{normal:void 0,bold:void 0,bolditalic:void 0,italic:void 0},printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:"viewFullscreen printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen&&this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:14.5,symbolY:13.5,align:"right",buttonSpacing:3,height:28,verticalAlign:"top",width:28,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{padding:5}},menuStyle:{border:"none",borderRadius:"3px",background:"#ffffff",padding:"0.5em"},menuItemStyle:{background:"none",borderRadius:"3px",color:"#333333",padding:"0.5em",fontSize:a?"0.9em":"0.8em",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#f2f2f2"}}}}),i(t,"Extensions/Exporting/ExportingSymbols.js",[],function(){var a;return function(o){function u(k,j,Z,z){return[["M",k,j+2.5],["L",k+Z,j+2.5],["M",k,j+z/2+.5],["L",k+Z,j+z/2+.5],["M",k,j+z-1.5],["L",k+Z,j+z-1.5]]}function d(k,j,Z,z){return k=z/3-2,z=[],z=z.concat(this.circle(Z-k,j,k,k),this.circle(Z-k,j+k+4,k,k),this.circle(Z-k,j+2*(k+4),k,k))}const n=[];o.compose=function(k){n.indexOf(k)===-1&&(n.push(k),k=k.prototype.symbols,k.menu=u,k.menuball=d.bind(k))}}(a||(a={})),a}),i(t,"Extensions/Exporting/Fullscreen.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Utilities.js"]],function(a,o){function u(){this.fullscreen=new j(this)}const{addEvent:d,fireEvent:n}=o,k=[];class j{static compose(z){o.pushUnique(k,z)&&d(z,"beforeRender",u)}constructor(z){this.chart=z,this.isOpen=!1,z=z.renderTo,this.browserProps||(typeof z.requestFullscreen=="function"?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:z.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:z.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:z.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}close(){const z=this,H=z.chart,Y=H.options.chart;n(H,"fullscreenClose",null,function(){z.isOpen&&z.browserProps&&H.container.ownerDocument instanceof Document&&H.container.ownerDocument[z.browserProps.exitFullscreen](),z.unbindFullscreenEvent&&(z.unbindFullscreenEvent=z.unbindFullscreenEvent()),H.setSize(z.origWidth,z.origHeight,!1),z.origWidth=void 0,z.origHeight=void 0,Y.width=z.origWidthOption,Y.height=z.origHeightOption,z.origWidthOption=void 0,z.origHeightOption=void 0,z.isOpen=!1,z.setButtonText()})}open(){const z=this,H=z.chart,Y=H.options.chart;n(H,"fullscreenOpen",null,function(){if(Y&&(z.origWidthOption=Y.width,z.origHeightOption=Y.height),z.origWidth=H.chartWidth,z.origHeight=H.chartHeight,z.browserProps){const I=d(H.container.ownerDocument,z.browserProps.fullscreenChange,function(){z.isOpen?(z.isOpen=!1,z.close()):(H.setSize(null,null,!1),z.isOpen=!0,z.setButtonText())}),B=d(H,"destroy",I);z.unbindFullscreenEvent=()=>{I(),B()};const U=H.renderTo[z.browserProps.requestFullscreen]();U&&U.catch(function(){alert("Full screen is not supported inside a frame.")})}})}setButtonText(){var z=this.chart,H=z.exportDivElements;const Y=z.options.exporting,I=Y&&Y.buttons&&Y.buttons.contextButton.menuItems;z=z.options.lang,Y&&Y.menuItemDefinitions&&z&&z.exitFullscreen&&z.viewFullscreen&&I&&H&&(H=H[I.indexOf("viewFullscreen")])&&a.setElementHTML(H,this.isOpen?z.exitFullscreen:Y.menuItemDefinitions.viewFullscreen.text||z.viewFullscreen)}toggle(){this.isOpen?this.close():this.open()}}return j}),i(t,"Core/HttpUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(a,o){const{doc:u}=a,{createElement:d,discardElement:n,merge:k,objectEach:j}=o,Z={ajax:function(z){const H={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},Y=new XMLHttpRequest;if(!z.url)return!1;Y.open((z.type||"get").toUpperCase(),z.url,!0),z.headers&&z.headers["Content-Type"]||Y.setRequestHeader("Content-Type",H[z.dataType||"json"]||H.text),j(z.headers,function(I,B){Y.setRequestHeader(B,I)}),z.responseType&&(Y.responseType=z.responseType),Y.onreadystatechange=function(){let I;if(Y.readyState===4){if(Y.status===200){if(z.responseType!=="blob"&&(I=Y.responseText,z.dataType==="json"))try{I=JSON.parse(I)}catch(B){if(B instanceof Error){z.error&&z.error(Y,B);return}}return z.success&&z.success(I,Y)}z.error&&z.error(Y,Y.responseText)}},z.data&&typeof z.data!="string"&&(z.data=JSON.stringify(z.data)),Y.send(z.data)},getJSON:function(z,H){Z.ajax({url:z,success:H,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(z,H,Y){const I=d("form",k({method:"post",action:z,enctype:"multipart/form-data"},Y),{display:"none"},u.body);j(H,function(B,U){d("input",{type:"hidden",name:U,value:B},void 0,I)}),I.submit(),n(I)}};return Z}),i(t,"Extensions/Exporting/Exporting.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Chart/Chart.js"],t["Core/Chart/ChartNavigationComposition.js"],t["Core/Defaults.js"],t["Extensions/Exporting/ExportingDefaults.js"],t["Extensions/Exporting/ExportingSymbols.js"],t["Extensions/Exporting/Fullscreen.js"],t["Core/Globals.js"],t["Core/HttpUtilities.js"],t["Core/Utilities.js"]],function(a,o,u,d,n,k,j,Z,z,H){const{defaultOptions:Y,setOptions:I}=d,{doc:B,SVG_NS:U,win:T}=Z,{addEvent:C,css:P,createElement:G,discardElement:q,extend:N,find:ne,fireEvent:K,isObject:L,merge:E,objectEach:w,pick:g,removeEvent:A,uniqueKey:m}=H;var y;return function(x){function M(Qe){const Ie=this,Ue=Ie.renderer,He=E(Ie.options.navigation.buttonOptions,Qe),it=He.onclick,Je=He.menuItems,st=He.symbolSize||12;let ht;if(Ie.btnCount||(Ie.btnCount=0),Ie.exportDivElements||(Ie.exportDivElements=[],Ie.exportSVGElements=[]),He.enabled!==!1&&He.theme){var Ke=He.theme,At;Ie.styledMode||(Ke.fill=g(Ke.fill,"#ffffff"),Ke.stroke=g(Ke.stroke,"none")),it?At=function(Wt){Wt&&Wt.stopPropagation(),it.call(Ie,Wt)}:Je&&(At=function(Wt){Wt&&Wt.stopPropagation(),Ie.contextMenu(Et.menuClassName,Je,Et.translateX,Et.translateY,Et.width,Et.height,Et),Et.setState(2)}),He.text&&He.symbol?Ke.paddingLeft=g(Ke.paddingLeft,30):He.text||N(Ke,{width:He.width,height:He.height,padding:0}),Ie.styledMode||(Ke["stroke-linecap"]="round",Ke.fill=g(Ke.fill,"#ffffff"),Ke.stroke=g(Ke.stroke,"none"));var Et=Ue.button(He.text,0,0,At,Ke,void 0,void 0,void 0,void 0,He.useHTML).addClass(Qe.className).attr({title:g(Ie.options.lang[He._titleKey||He.titleKey],"")});Et.menuClassName=Qe.menuClassName||"highcharts-menu-"+Ie.btnCount++,He.symbol&&(ht=Ue.symbol(He.symbol,He.symbolX-st/2,He.symbolY-st/2,st,st,{width:st,height:st}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(Et),Ie.styledMode||ht.attr({stroke:He.symbolStroke,fill:He.symbolFill,"stroke-width":He.symbolStrokeWidth||1})),Et.add(Ie.exportingGroup).align(N(He,{width:Et.width,x:g(He.x,Ie.buttonOffset)}),!0,"spacingBox"),Ie.buttonOffset+=(Et.width+He.buttonSpacing)*(He.align==="right"?-1:1),Ie.exportSVGElements.push(Et,ht)}}function X(){if(this.printReverseInfo){var{childNodes:Qe,origDisplay:Ie,resetParams:Ue}=this.printReverseInfo;this.moveContainers(this.renderTo),[].forEach.call(Qe,function(He,it){He.nodeType===1&&(He.style.display=Ie[it]||"")}),this.isPrinting=!1,Ue&&this.setSize.apply(this,Ue),delete this.printReverseInfo,ot=void 0,K(this,"afterPrint")}}function re(){const Qe=B.body,Ie=this.options.exporting.printMaxWidth,Ue={childNodes:Qe.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer.reset(null,0),K(this,"beforePrint"),Ie&&this.chartWidth>Ie&&(Ue.resetParams=[this.options.chart.width,void 0,!1],this.setSize(Ie,void 0,!1)),[].forEach.call(Ue.childNodes,function(He,it){He.nodeType===1&&(Ue.origDisplay[it]=He.style.display,He.style.display="none")}),this.moveContainers(Qe),this.printReverseInfo=Ue}function ee(Qe){Qe.renderExporting(),C(Qe,"redraw",Qe.renderExporting),C(Qe,"destroy",Qe.destroyExport)}function he(Qe,Ie,Ue,He,it,Je,st){const ht=this,Ke=ht.options.navigation,At=ht.chartWidth,Et=ht.chartHeight,Wt="cache-"+Qe,fi=Math.max(it,Je);let ei,hi=ht[Wt];hi||(ht.exportContextMenu=ht[Wt]=hi=G("div",{className:Qe},{position:"absolute",zIndex:1e3,padding:fi+"px",pointerEvents:"auto"},ht.fixedDiv||ht.container),ei=G("ul",{className:"highcharts-menu"},ht.styledMode?{}:{listStyle:"none",margin:0,padding:0},hi),ht.styledMode||P(ei,N({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},Ke.menuStyle)),hi.hideMenu=function(){P(hi,{display:"none"}),st&&st.setState(0),ht.openMenu=!1,P(ht.renderTo,{overflow:"hidden"}),P(ht.container,{overflow:"hidden"}),H.clearTimeout(hi.hideTimer),K(ht,"exportMenuHidden")},ht.exportEvents.push(C(hi,"mouseleave",function(){hi.hideTimer=T.setTimeout(hi.hideMenu,500)}),C(hi,"mouseenter",function(){H.clearTimeout(hi.hideTimer)}),C(B,"mouseup",function(vi){ht.pointer.inClass(vi.target,Qe)||hi.hideMenu()}),C(hi,"click",function(){ht.openMenu&&hi.hideMenu()})),Ie.forEach(function(vi){if(typeof vi=="string"&&(vi=ht.options.exporting.menuItemDefinitions[vi]),L(vi,!0)){let zi;vi.separator?zi=G("hr",void 0,void 0,ei):(vi.textKey==="viewData"&&ht.isDataTableVisible&&(vi.textKey="hideData"),zi=G("li",{className:"highcharts-menu-item",onclick:function(Ji){Ji&&Ji.stopPropagation(),hi.hideMenu(),vi.onclick&&vi.onclick.apply(ht,arguments)}},void 0,ei),a.setElementHTML(zi,vi.text||ht.options.lang[vi.textKey]),ht.styledMode||(zi.onmouseover=function(){P(this,Ke.menuItemHoverStyle)},zi.onmouseout=function(){P(this,Ke.menuItemStyle)},P(zi,N({cursor:"pointer"},Ke.menuItemStyle||{})))),ht.exportDivElements.push(zi)}}),ht.exportDivElements.push(ei,hi),ht.exportMenuWidth=hi.offsetWidth,ht.exportMenuHeight=hi.offsetHeight),Ie={display:"block"},Ue+ht.exportMenuWidth>At?Ie.right=At-Ue-it-fi+"px":Ie.left=Ue-fi+"px",He+Je+ht.exportMenuHeight>Et&&st.alignOptions.verticalAlign!=="top"?Ie.bottom=Et-He-fi+"px":Ie.top=He+Je-fi+"px",P(hi,Ie),P(ht.renderTo,{overflow:""}),P(ht.container,{overflow:""}),ht.openMenu=!0,K(ht,"exportMenuShown")}function ye(Qe){const Ie=Qe?Qe.target:this,Ue=Ie.exportSVGElements,He=Ie.exportDivElements;Qe=Ie.exportEvents;let it;Ue&&(Ue.forEach((Je,st)=>{Je&&(Je.onclick=Je.ontouchstart=null,it="cache-"+Je.menuClassName,Ie[it]&&delete Ie[it],Ue[st]=Je.destroy())}),Ue.length=0),Ie.exportingGroup&&(Ie.exportingGroup.destroy(),delete Ie.exportingGroup),He&&(He.forEach(function(Je,st){Je&&(H.clearTimeout(Je.hideTimer),A(Je,"mouseleave"),He[st]=Je.onmouseout=Je.onmouseover=Je.ontouchstart=Je.onclick=null,q(Je))}),He.length=0),Qe&&(Qe.forEach(function(Je){Je()}),Qe.length=0)}function Ce(Qe,Ie){Ie=this.getSVGForExport(Qe,Ie),Qe=E(this.options.exporting,Qe),z.post(Qe.url,{filename:Qe.filename?Qe.filename.replace(/\//g,"-"):this.getFilename(),type:Qe.type,width:Qe.width,scale:Qe.scale,svg:Ie},Qe.formAttributes)}function oe(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function de(){const Qe=this.userOptions.title&&this.userOptions.title.text;let Ie=this.options.exporting.filename;return Ie?Ie.replace(/\//g,"-"):(typeof Qe=="string"&&(Ie=Qe.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!Ie||5>Ie.length)&&(Ie="chart"),Ie)}function fe(Qe){let Ie,Ue=E(this.options,Qe);Ue.plotOptions=E(this.userOptions.plotOptions,Qe&&Qe.plotOptions),Ue.time=E(this.userOptions.time,Qe&&Qe.time);const He=G("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},B.body);var it=this.renderTo.style.width,Je=this.renderTo.style.height;it=Ue.exporting.sourceWidth||Ue.chart.width||/px$/.test(it)&&parseInt(it,10)||(Ue.isGantt?800:600),Je=Ue.exporting.sourceHeight||Ue.chart.height||/px$/.test(Je)&&parseInt(Je,10)||400,N(Ue.chart,{animation:!1,renderTo:He,forExport:!0,renderer:"SVGRenderer",width:it,height:Je}),Ue.exporting.enabled=!1,delete Ue.data,Ue.series=[],this.series.forEach(function(Ke){Ie=E(Ke.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:Ke.visible}),Ie.isInternal||Ue.series.push(Ie)});const st={};this.axes.forEach(function(Ke){Ke.userOptions.internalKey||(Ke.userOptions.internalKey=m()),Ke.options.isInternal||(st[Ke.coll]||(st[Ke.coll]=!0,Ue[Ke.coll]=[]),Ue[Ke.coll].push(E(Ke.userOptions,{visible:Ke.visible})))});const ht=new this.constructor(Ue,this.callback);return Qe&&["xAxis","yAxis","series"].forEach(function(Ke){const At={};Qe[Ke]&&(At[Ke]=Qe[Ke],ht.update(At))}),this.axes.forEach(function(Ke){const At=ne(ht.axes,function(fi){return fi.options.internalKey===Ke.userOptions.internalKey});var Et=Ke.getExtremes();const Wt=Et.userMin;Et=Et.userMax,At&&(typeof Wt<"u"&&Wt!==At.min||typeof Et<"u"&&Et!==At.max)&&At.setExtremes(Wt,Et,!0,!1)}),Je=ht.getChartHTML(),K(this,"getSVG",{chartCopy:ht}),Je=this.sanitizeSVG(Je,Ue),Ue=null,ht.destroy(),q(He),Je}function ue(Qe,Ie){const Ue=this.options.exporting;return this.getSVG(E({chart:{borderRadius:0}},Ue.chartOptions,Ie,{exporting:{sourceWidth:Qe&&Qe.sourceWidth||Ue.sourceWidth,sourceHeight:Qe&&Qe.sourceHeight||Ue.sourceHeight}}))}function pe(Qe){return Qe.replace(/([A-Z])/g,function(Ie,Ue){return"-"+Ue.toLowerCase()})}function te(){function Qe(ht){const Ke={};let At,Et;if(st&&ht.nodeType===1&&ct.indexOf(ht.nodeName)===-1){if(At=T.getComputedStyle(ht,null),Et=ht.nodeName==="svg"?{}:T.getComputedStyle(ht.parentNode,null),!He[ht.nodeName]){it=st.getElementsByTagName("svg")[0];var Wt=st.createElementNS(ht.namespaceURI,ht.nodeName);it.appendChild(Wt);var fi=T.getComputedStyle(Wt,null),ei={};for(var hi in fi)typeof fi[hi]!="string"||/^[0-9]+$/.test(hi)||(ei[hi]=fi[hi]);He[ht.nodeName]=ei,ht.nodeName==="text"&&delete He.text.fill,it.removeChild(Wt)}for(const zi in At)if(Z.isFirefox||Z.isMS||Z.isSafari||Object.hasOwnProperty.call(At,zi)){hi=At[zi];var vi=zi;if(Wt=fi=!1,Ue.length){for(ei=Ue.length;ei--&&!fi;)fi=Ue[ei].test(vi);Wt=!fi}for(vi==="transform"&&hi==="none"&&(Wt=!0),ei=Ie.length;ei--&&!Wt;)Wt=Ie[ei].test(vi)||typeof hi=="function";Wt||Et[vi]===hi&&ht.nodeName!=="svg"||He[ht.nodeName][vi]===hi||(Ge&&Ge.indexOf(vi)===-1?Ke[vi]=hi:hi&&ht.setAttribute(pe(vi),hi))}P(ht,Ke),ht.nodeName==="svg"&&ht.setAttribute("stroke-width","1px"),ht.nodeName!=="text"&&[].forEach.call(ht.children||ht.childNodes,Qe)}}const Ie=De,Ue=x.inlineAllowlist,He={};let it;const Je=B.createElement("iframe");P(Je,{width:"1px",height:"1px",visibility:"hidden"}),B.body.appendChild(Je);const st=Je.contentWindow&&Je.contentWindow.document;st&&st.body.appendChild(st.createElementNS(U,"svg")),Qe(this.container.querySelector("svg")),it.parentNode.removeChild(it),Je.parentNode.removeChild(Je)}function ge(Qe){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach(function(Ie){Qe.appendChild(Ie)})}function xe(){const Qe=this;Qe.exporting={update:function(Ie,Ue){Qe.isDirtyExporting=!0,E(!0,Qe.options.exporting,Ie),g(Ue,!0)&&Qe.redraw()}},u.compose(Qe).navigation.addUpdate((Ie,Ue)=>{Qe.isDirtyExporting=!0,E(!0,Qe.options.navigation,Ie),g(Ue,!0)&&Qe.redraw()})}function ce(){const Qe=this;Qe.isPrinting||(ot=Qe,Z.isSafari||Qe.beforePrint(),setTimeout(()=>{T.focus(),T.print(),Z.isSafari||setTimeout(()=>{Qe.afterPrint()},1e3)},1))}function we(){const Qe=this,Ie=Qe.options.exporting,Ue=Ie.buttons,He=Qe.isDirtyExporting||!Qe.exportSVGElements;Qe.buttonOffset=0,Qe.isDirtyExporting&&Qe.destroyExport(),He&&Ie.enabled!==!1&&(Qe.exportEvents=[],Qe.exportingGroup=Qe.exportingGroup||Qe.renderer.g("exporting-group").attr({zIndex:3}).add(),w(Ue,function(it){Qe.addButton(it)}),Qe.isDirtyExporting=!1)}function Ae(Qe,Ie){const Ue=Qe.indexOf("</svg>")+6;let He=Qe.substr(Ue);return Qe=Qe.substr(0,Ue),Ie&&Ie.exporting&&Ie.exporting.allowHTML&&He&&(He='<foreignObject x="0" y="0" width="'+Ie.chart.width+'" height="'+Ie.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+He.replace(/(<(?:img|br).*?(?=>))>/g,"$1 />")+"</body></foreignObject>",Qe=Qe.replace("</svg>",He+"</svg>")),Qe=Qe.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;);?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­")}const Fe=[],De=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/^parentRule$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/,/^[0-9]+$/],Ge="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" ");x.inlineAllowlist=[];const ct=["clipPath","defs","desc"];let ot;x.compose=function(Qe,Ie){k.compose(Ie),j.compose(Qe),H.pushUnique(Fe,Qe)&&(Ie=Qe.prototype,Ie.afterPrint=X,Ie.exportChart=Ce,Ie.inlineStyles=te,Ie.print=ce,Ie.sanitizeSVG=Ae,Ie.getChartHTML=oe,Ie.getSVG=fe,Ie.getSVGForExport=ue,Ie.getFilename=de,Ie.moveContainers=ge,Ie.beforePrint=re,Ie.contextMenu=he,Ie.addButton=M,Ie.destroyExport=ye,Ie.renderExporting=we,Ie.callbacks.push(ee),C(Qe,"init",xe),Z.isSafari&&Z.win.matchMedia("print").addListener(function(Ue){ot&&(Ue.matches?ot.beforePrint():ot.afterPrint())})),H.pushUnique(Fe,I)&&(Y.exporting=E(n.exporting,Y.exporting),Y.lang=E(n.lang,Y.lang),Y.navigation=E(n.navigation,Y.navigation))}}(y||(y={})),y}),i(t,"masters/modules/exporting.src.js",[t["Core/Globals.js"],t["Extensions/Exporting/Exporting.js"],t["Core/HttpUtilities.js"]],function(a,o,u){a.HttpUtilities=u,a.ajax=u.ajax,a.getJSON=u.getJSON,a.post=u.post,o.compose(a.Chart,a.Renderer)})})})(exporting);var exportingExports=exporting.exports;const Exporting=getDefaultExportFromCjs(exportingExports),colors=["#2f7ed8","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a","#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1","#0d233a"];var vClickOutside_umd={exports:{}};(function(e,t){(function(i,a){e.exports=a()})(commonjsGlobal$1,function(){var i="__v-click-outside",a=typeof window<"u",o=typeof navigator<"u",u=a&&("ontouchstart"in window||o&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],d=function(Z){var z=Z.event,H=Z.handler;(0,Z.middleware)(z)&&H(z)},n=function(Z,z){var H=function(C){var P=typeof C=="function";if(!P&&typeof C!="object")throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:P?C:C.handler,middleware:C.middleware||function(G){return G},events:C.events||u,isActive:C.isActive!==!1,detectIframe:C.detectIframe!==!1,capture:!!C.capture}}(z.value),Y=H.handler,I=H.middleware,B=H.detectIframe,U=H.capture;if(H.isActive){if(Z[i]=H.events.map(function(C){return{event:C,srcTarget:document.documentElement,handler:function(P){return function(G){var q=G.el,N=G.event,ne=G.handler,K=G.middleware,L=N.path||N.composedPath&&N.composedPath();(L?L.indexOf(q)<0:!q.contains(N.target))&&d({event:N,handler:ne,middleware:K})}({el:Z,event:P,handler:Y,middleware:I})},capture:U}}),B){var T={event:"blur",srcTarget:window,handler:function(C){return function(P){var G=P.el,q=P.event,N=P.handler,ne=P.middleware;setTimeout(function(){var K=document.activeElement;K&&K.tagName==="IFRAME"&&!G.contains(K)&&d({event:q,handler:N,middleware:ne})},0)}({el:Z,event:C,handler:Y,middleware:I})},capture:U};Z[i]=[].concat(Z[i],[T])}Z[i].forEach(function(C){var P=C.event,G=C.srcTarget,q=C.handler;return setTimeout(function(){Z[i]&&G.addEventListener(P,q,U)},0)})}},k=function(Z){(Z[i]||[]).forEach(function(z){return z.srcTarget.removeEventListener(z.event,z.handler,z.capture)}),delete Z[i]},j=a?{beforeMount:n,updated:function(Z,z){var H=z.value,Y=z.oldValue;JSON.stringify(H)!==JSON.stringify(Y)&&(k(Z),n(Z,{value:H}))},unmounted:k}:{};return{install:function(Z){Z.directive("click-outside",j)},directive:j}})})(vClickOutside_umd);var vClickOutside_umdExports=vClickOutside_umd.exports;const vClickOutside=getDefaultExportFromCjs(vClickOutside_umdExports),dropdown_vue_vue_type_style_index_0_lang="",_sfc_main$j={props:{options:Array,type:{type:String,default:"select"},default:{type:Array,default:()=>[]}},data(){return{show:!1,selected:[]}},methods:{showDropdown(){this.show=!this.show},hide(){this.show=!1},groupBy(e,t){return e.reduce((i,a,o)=>{var u;return(i[u=t(a,o,e)]||(i[u]=[])).push(a),i},{})}},computed:{groups(){return this.options.length>0&&this.options[0].hasOwnProperty("group")?this.groupBy(this.options,e=>e.group):this.options},selectAll:{get(){return this.options?this.selected.length==this.options.length:!1},set(e){e?this.selected=this.options:this.selected=[]}}},watch:{selected(e){this.$emit("checked",e)},default(e){this.selected=e}},directives:{clickOutside:vClickOutside.directive}},_hoisted_1$h={class:"dd"},_hoisted_2$e={id:"list1",class:"dropdown-check-list",tabindex:"100"},_hoisted_3$c=createStaticVNode('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-adjustments-horizontal" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 6l8 0"></path><path d="M16 6l4 0"></path><path d="M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 12l2 0"></path><path d="M10 12l10 0"></path><path d="M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 18l11 0"></path><path d="M19 18l1 0"></path></svg>',1),_hoisted_4$b=[_hoisted_3$c],_hoisted_5$8={key:2,class:"items"},_hoisted_6$6={class:"bb"},_hoisted_7$4={for:"check-all"},_hoisted_8$4={key:0},_hoisted_9$3=["id","value"],_hoisted_10$3=["for"],_hoisted_11$3={key:1},_hoisted_12$3=["id","value"],_hoisted_13$2=["for"];function _sfc_render$b(e,t,i,a,o,u){const d=resolveDirective("click-outside");return withDirectives((openBlock(),createElementBlock("div",_hoisted_1$h,[createBaseVNode("div",_hoisted_2$e,[i.type=="select"?(openBlock(),createElementBlock("span",{key:0,class:"anchor form-control",onClick:t[0]||(t[0]=(...n)=>u.showDropdown&&u.showDropdown(...n))}," Select Parameter ")):createCommentVNode("",!0),i.type=="icon"?(openBlock(),createElementBlock("span",{key:1,class:"icon",onClick:t[1]||(t[1]=(...n)=>u.showDropdown&&u.showDropdown(...n))},_hoisted_4$b)):createCommentVNode("",!0),o.show?(openBlock(),createElementBlock("ul",_hoisted_5$8,[createBaseVNode("li",_hoisted_6$6,[createBaseVNode("div",null,[withDirectives(createBaseVNode("input",{id:"check-all",type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=n=>u.selectAll=n)},null,512),[[vModelCheckbox,u.selectAll]]),createBaseVNode("label",_hoisted_7$4,[u.selectAll?(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode("Uncheck All")],64)):(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode("Check All")],64))])])]),(openBlock(!0),createElementBlock(Fragment,null,renderList(u.groups,(n,k)=>(openBlock(),createElementBlock("li",{key:k},[Array.isArray(n)?(openBlock(),createElementBlock("div",_hoisted_8$4,[createBaseVNode("span",null,toDisplayString(k),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(n,(j,Z)=>(openBlock(),createElementBlock("div",{key:Z},[withDirectives(createBaseVNode("input",{type:"checkbox",id:Z,value:j,"onUpdate:modelValue":t[3]||(t[3]=z=>o.selected=z)},null,8,_hoisted_9$3),[[vModelCheckbox,o.selected]]),createBaseVNode("label",{for:Z},toDisplayString(j.text),9,_hoisted_10$3)]))),128))])):createCommentVNode("",!0),Array.isArray(n)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_11$3,[withDirectives(createBaseVNode("input",{type:"checkbox",id:k,value:n,"onUpdate:modelValue":t[4]||(t[4]=j=>o.selected=j)},null,8,_hoisted_12$3),[[vModelCheckbox,o.selected]]),createBaseVNode("label",{for:k},toDisplayString(n.text),9,_hoisted_13$2)]))]))),128))])):createCommentVNode("",!0)])])),[[d,u.hide]])}const DropdownSelect=_export_sfc$1(_sfc_main$j,[["render",_sfc_render$b]]);Accessbility(Highcharts$1);Exporting(Highcharts$1);const _sfc_main$i={components:{Chart:highchartsVue_minExports.Chart,DateRange,DropdownSelect},props:{url:String,title:String,columns:Array},data(){return{params:{from:new Date(new Date().setDate(new Date().getDate()-1)).toISOString().split("T")[0].replace(/-/g,"-"),to:new Date().toISOString().split("T")[0].replace(/-/g,"-"),interval:60},defColumns:[],items:this.columns,options:{chart:{zoomType:"x"},exporting:{filename:this.title,sourceWidth:1600,sourceHeight:480,scale:1},time:{useUTC:!1,timezone:"Asia/Jakarta"},title:{text:""},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotLines:[{value:0,width:2,color:"silver"}]},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1}}},series:[],navigation:{menuItemStyle:{fontSize:"10px"}}}}},mounted(){this.defColumns=_.sampleSize(this.columns,5)},methods:{download(){let e=[];this.items.forEach((a,o)=>{e[o]=a.data}),this.params.select=e;const t=new URLSearchParams(this.params).toString();let i=this.url+"/export?"+t+"&time="+Date.now();window.open(i)},selected(e){this.items=e,this.showChart()},updateDate(e){this.params.from=e.from,this.params.to=e.to},async showChart(){this.$refs.chart.chart.showLoading();let e=[],t=[],i=[];this.items.forEach((o,u)=>{let d=colors[u];t[u]={title:{text:o.text,style:{color:d,fontSize:"10px"}},lineColor:d,labels:{style:{color:d},align:"left",x:14},plotLines:[{value:o.max_normal,color:"green",dashStyle:"shortdash",width:2,label:{text:`${o.text}  Treshold ( ${o.max_normal} )`}}],lineWidth:1,opposite:!0},o.range&&(t[u].min=o.range[0],t[u].max=o.range[1]),e[u]={id:o.data,row:o.data,threshold:o.max_normal,yAxis:u,type:o.type?o.type:"spline",name:o.text,color:d,lineWidth:1,data:[]},i[u]=o.data}),this.options.series=e,this.options.yAxis=t,this.params.select=i,(await axios.get(this.url,{params:this.params}).then(o=>o.data)).forEach(o=>{let u=parseInt(new Date(o.terminal_time).getTime().toFixed(0));this.options.series.forEach((d,n)=>{let k=o[d.row];this.options.series[n].data.push([u,k])})}),this.$refs.chart.chart.hideLoading()}}},_hoisted_1$g={class:"row"},_hoisted_2$d={class:"col-12"},_hoisted_3$b={class:"table-title mb-4 mt-2"},_hoisted_4$a={class:"row justify-content-end"},_hoisted_5$7={class:"col-6"},_hoisted_6$5={class:"col-6"},_hoisted_7$3={class:"d-flex align-items-center justify-content-end gap-1"},_hoisted_8$3=createBaseVNode("option",{value:"5"},"5m",-1),_hoisted_9$2=createBaseVNode("option",{value:"30"},"30m",-1),_hoisted_10$2=createBaseVNode("option",{value:"60"},"1 H",-1),_hoisted_11$2=createBaseVNode("option",{value:"1440"},"1 D",-1),_hoisted_12$2=[_hoisted_8$3,_hoisted_9$2,_hoisted_10$2,_hoisted_11$2];function _sfc_render$a(e,t,i,a,o,u){const d=resolveComponent("dropdown-select"),n=resolveComponent("date-range"),k=resolveComponent("Chart");return openBlock(),createElementBlock("div",_hoisted_1$g,[createBaseVNode("div",_hoisted_2$d,[createBaseVNode("div",_hoisted_3$b,[createBaseVNode("h6",null,toDisplayString(i.title),1)]),createBaseVNode("div",_hoisted_4$a,[createBaseVNode("div",_hoisted_5$7,[createVNode(d,{options:i.columns,onChecked:u.selected,default:o.defColumns},null,8,["options","onChecked","default"])]),createBaseVNode("div",_hoisted_6$5,[createBaseVNode("div",_hoisted_7$3,[createVNode(n,{from:o.params.from,to:o.params.to,onChange:u.updateDate},null,8,["from","to","onChange"]),withDirectives(createBaseVNode("select",{class:"form-control w-5 bordered","onUpdate:modelValue":t[0]||(t[0]=j=>o.params.interval=j)},_hoisted_12$2,512),[[vModelSelect,o.params.interval]]),createBaseVNode("button",{onClick:t[1]||(t[1]=(...j)=>u.showChart&&u.showChart(...j)),class:"btn btn-primary"},"SHOW"),createBaseVNode("button",{onClick:t[2]||(t[2]=(...j)=>u.download&&u.download(...j)),class:"btn btn-primary"},"Download Data")])])]),createVNode(k,{ref:"chart",options:o.options,constructorType:"stockChart"},null,8,["options"])])])}const TrendView=_export_sfc$1(_sfc_main$i,[["render",_sfc_render$a]]);Accessbility(Highcharts$1);Exporting(Highcharts$1);const _sfc_main$h={components:{Chart:highchartsVue_minExports.Chart,DateRange,DropdownSelect},props:{url:String,title:String,columns:Array,socketConfig:Object,fleet:Object},data(){return{socket:null,connected:!1,defColumns:[],params:{},items:this.columns,options:{chart:{zoomType:"x"},exporting:{filename:this.title,sourceWidth:1600,sourceHeight:480,scale:1},time:{useUTC:!1,timezone:"Asia/Jakarta"},title:{text:""},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotLines:[{value:0,width:2,color:"silver"}]},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1}}},series:[],navigation:{menuItemStyle:{fontSize:"10px"}}}}},async mounted(){this.defColumns=await _.sampleSize(this.columns,3),setInterval(()=>this.fetchData(),5*1e3),await this.showChart()},methods:{selected(e){this.items=e,this.showChart()},onMessage(e){let t=JSON.parse(e.toString()),i=parseInt(new Date(t.terminal_time).getTime().toFixed(0));this.options.series.forEach((a,o)=>{this.options.series[o].data.shift();let u=t[a.row];this.options.series[o].data.push([i,u])})},async fetchData(){let e=await axios.get(this.url).then(i=>i.data),t=parseInt(new Date(e.terminal_time).getTime().toFixed(0));this.options.series.forEach((i,a)=>{this.options.series[a].data.length>100&&this.options.series[a].data.shift();let o=e[i.row];this.options.series[a].data.push([t,o])})},async showChart(){this.$refs.chart.chart.showLoading();let e=[],t=[],i=[];this.items.forEach((u,d)=>{let n=colors[d];t[d]={title:{text:u.text,style:{color:n,fontSize:"10px"}},lineColor:n,labels:{style:{color:n},align:"left",x:14},lineWidth:1,opposite:!0},u.range&&(t[d].min=u.range[0],t[d].max=u.range[1]),e[d]={id:u.data,row:u.data,yAxis:d,type:u.type?u.type:"spline",name:u.text,color:n,lineWidth:1,data:[]},i[d]=u.data}),this.options.series=e,this.options.yAxis=t,this.params.select=i;let a=await axios.get(this.url).then(u=>u.data),o=parseInt(new Date(a.terminal_time).getTime().toFixed(0));this.options.series.forEach((u,d)=>{let n=parseFloat(a[u.row]);this.options.series[d].data.push([o,n])}),this.$refs.chart.chart.hideLoading()}}},_hoisted_1$f={class:"row"},_hoisted_2$c={class:"col-12"},_hoisted_3$a={class:"table-title mb-4 mt-2"},_hoisted_4$9={class:"row justify-content-end"},_hoisted_5$6={class:"col-12"};function _sfc_render$9(e,t,i,a,o,u){const d=resolveComponent("dropdown-select"),n=resolveComponent("Chart");return openBlock(),createElementBlock("div",_hoisted_1$f,[createBaseVNode("div",_hoisted_2$c,[createBaseVNode("div",_hoisted_3$a,[createBaseVNode("h6",null,toDisplayString(i.title),1)]),createBaseVNode("div",_hoisted_4$9,[createBaseVNode("div",_hoisted_5$6,[createVNode(d,{options:i.columns,onChecked:u.selected,default:o.defColumns},null,8,["options","onChecked","default"])])]),createVNode(n,{ref:"chart",options:o.options,constructorType:"stockChart"},null,8,["options"])])])}const TrendLive=_export_sfc$1(_sfc_main$h,[["render",_sfc_render$9]]),_sfc_main$g={props:{title:String,fleet:Object,sensors:Array},data(){return{}}},_hoisted_1$e={class:"row"},_hoisted_2$b={class:"col-12"},_hoisted_3$9={class:"table-title"},_hoisted_4$8={class:"table table-sm"},_hoisted_5$5=createBaseVNode("th",{scope:"row"},"•",-1),_hoisted_6$4={class:"text-end"};function _sfc_render$8(e,t,i,a,o,u){return openBlock(),createElementBlock("div",_hoisted_1$e,[createBaseVNode("div",_hoisted_2$b,[createBaseVNode("div",_hoisted_3$9,[createBaseVNode("h6",null,toDisplayString(i.title),1)]),createBaseVNode("table",_hoisted_4$8,[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.sensors,(d,n)=>(openBlock(),createElementBlock("tr",null,[_hoisted_5$5,createBaseVNode("td",null,toDisplayString(d.name),1),createBaseVNode("td",_hoisted_6$4,toDisplayString(d.value)+" "+toDisplayString(d.unit),1)]))),256))])])])])}const SensorInfo=_export_sfc$1(_sfc_main$g,[["render",_sfc_render$8]]),_sfc_main$f={props:{svgPath:String,url:String,group:String},components:{ChartSvg},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet[this.group];if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(i=>{t.includes(i)||(this.data[i+"_bar"]=engine[i]*1e3)}),this.data.fleet_name=this.fleet.name}}}};function _sfc_render$7(e,t,i,a,o,u){const d=resolveComponent("chart-svg");return openBlock(),createElementBlock("div",null,[createVNode(d,{path:i.svgPath,svgData:o.data,height:550},null,8,["path","svgData"])])}const MimicSvg=_export_sfc$1(_sfc_main$f,[["render",_sfc_render$7]]);var vue3PdfViewer={exports:{}};(function(module,exports){(function(e,t){module.exports=t(require$$0$1)})(self,function(__WEBPACK_EXTERNAL_MODULE__748__){return(()=>{var __webpack_modules__={825:(e,t,i)=>{i.d(t,{Z:()=>a}),t=i(645),t=i.n(t)()(function(o){return o[1]}),t.push([e.id,`*{padding:0;margin:0}
`,""]);const a=t},474:(e,t,i)=>{i.d(t,{Z:()=>a}),t=i(645),t=i.n(t)()(function(o){return o[1]}),t.push([e.id,`.rotate-wrapper{display:inline-block;position:relative;width:100%}.rotate-wrapper .image{position:absolute;width:100%}.rotate-wrapper::after{content:'';width:var(--content-width);height:var(--content-height);display:inline-block}
`,""]);const a=t},421:(e,t,i)=>{i.d(t,{Z:()=>a}),t=i(645),t=i.n(t)()(function(o){return o[1]}),t.push([e.id,`.viewer-container{display:flex;background:#525659;height:100%}.viewer-container .scroller{height:100%;overflow:auto}.viewer-container .scroller.catalog{background:#323639;width:300px;flex-shrink:0;flex-grow:0;transition:all 500ms ease;margin-left:-300px}.viewer-container .scroller.catalog.visible{margin-left:0}.viewer-container .scroller.catalog .catalog-container{padding-bottom:20px}.viewer-container .scroller.catalog .catalog-container .catalog-item{color:white;padding-top:20px;text-align:center;font-size:0}.viewer-container .scroller.catalog .catalog-container .catalog-item .catalog-index{text-align:center;margin-top:10px;font-size:13px;height:14px;line-height:14px}.viewer-container .scroller.catalog .catalog-container .catalog-item__content *{width:110px;opacity:0.8;transform:var(--item-transform)}.viewer-container .scroller.catalog .catalog-container .catalog-item__content.active img{box-shadow:0 0 0 4px #54c9ff;opacity:1}.viewer-container .scroller.catalog .catalog-container .catalog-item__content.active img:hover{opacity:1}.viewer-container .scroller.viewer{flex:1}.viewer-container .scroller.viewer .viewer-content{padding-top:20px}.viewer-container .scroller.viewer .viewer-content .viewer-item{padding-bottom:20px;font-size:0;width:100%;page-break-after:always}.viewer-container .scroller.viewer .viewer-content .viewer-item>div{transition:transform 300ms ease;flex-shrink:0;box-shadow:0px 0px 7px 6px rgba(0,0,0,0.25);margin:0 auto}.viewer-container .scroller.viewer .viewer-content .viewer-item>div .placeholder{width:100%;white-space:nowrap;margin:initial;max-width:initial}@media print{html,body{width:210mm;height:297mm}.viewer-container{height:auto !important;overflow:initial !important;background-color:white !important}.viewer-container .catalog{display:none !important}.viewer-container .viewer{overflow:initial !important;height:auto !important}.viewer-container .viewer-content{padding:0 !important}.viewer-container .viewer-content .viewer-item{page-break-after:always !important;padding:0 !important}.viewer-container .viewer-content .viewer-item>div{width:100% !important;transform:rotate(0) !important;box-shadow:none !important}.viewer-container .viewer-content .viewer-item>div .placeholder{width:100% !important;box-shadow:none !important}}@media screen and (max-width: 800px){.viewer-container .catalog{margin-left:-300px !important}}
`,""]);const a=t},620:(e,t,i)=>{i.d(t,{Z:()=>a}),t=i(645),t=i.n(t)()(function(o){return o[1]}),t.push([e.id,`.icon-btn{width:36px;height:36px;display:flex;justify-content:center;align-items:center;border-radius:50%;transition:all 200ms ease;cursor:pointer}.icon-btn:hover{background:#474545}.pdf-viewer{--iron-icon-height: 20px;--iron-icon-width: 20px;--viewer-icon-ink-color: rgb(189, 189, 189);--viewer-pdf-toolbar-background-color: rgb(50, 54, 57);--viewer-text-input-selection-color: rgba(255, 255, 255, 0.3);--viewer-pdf-toolbar-height: 56px;background-color:#ccc;height:100%;overflow:hidden;display:flex;flex-direction:column;flex:1;min-width:500px}.pdf-viewer__header{flex-grow:0;flex-shrink:0;align-items:center;background-color:var(--viewer-pdf-toolbar-background-color);color:white;display:flex;height:var(--viewer-pdf-toolbar-height);padding:0 16px;box-shadow:0px 3px 10px 2px black;z-index:999}.pdf-viewer__header.not-ready{position:relative}.pdf-viewer__header.not-ready::after{content:'';height:100%;width:100%;display:inline-block;position:absolute;z-index:1}.pdf-viewer__body{height:calc(100% - 56px);width:100%;overflow:hidden;position:relative}.pdf-viewer__body .loading-mask{position:absolute;z-index:999;top:0;left:0;height:100%;width:100%;pointer-events:none;background:#a9a9a9}.pdf-viewer__body .loading-mask .loading-content,.pdf-viewer__body .loading-mask .rendering-content{height:100%;width:100%;display:flex;justify-content:center;align-items:center}
`,""]);const a=t},719:(e,t,i)=>{i.d(t,{Z:()=>a}),t=i(645),t=i.n(t)()(function(o){return o[1]}),t.push([e.id,`.icon-btn{margin-inline-start:4px;width:36px;height:36px;display:flex;justify-content:center;align-items:center;border-radius:50%;transition:all 200ms ease;cursor:pointer;background:transparent;border:none;color:white}.icon-btn:hover{background:#5c5c5c}.icon-btn:first-child{margin-inline-start:0px}.icon-btn:disabled{background:transparent;cursor:not-allowed;color:#868686}
`,""]);const a=t},500:(e,t,i)=>{i.d(t,{Z:()=>a}),t=i(645),t=i.n(t)()(function(o){return o[1]}),t.push([e.id,`.icon[data-v-c9adbf10]{width:1em;height:1em;vertical-align:-0.15em;fill:currentColor;overflow:hidden}.iconfont[data-v-c9adbf10]{font-size:14px}
`,""]);const a=t},395:(e,t,i)=>{i.d(t,{Z:()=>a}),t=i(645),t=i.n(t)()(function(o){return o[1]}),t.push([e.id,`.rotate-wrapper[data-v-2efcfd01]{display:inline-block;position:relative;width:100%}.rotate-wrapper .image[data-v-2efcfd01]{position:absolute;width:100%}.rotate-wrapper[data-v-2efcfd01]::after{content:'';width:var(--content-width);height:var(--content-height);display:inline-block}
`,""]);const a=t},156:(e,t,i)=>{i.d(t,{Z:()=>a}),t=i(645),t=i.n(t)()(function(o){return o[1]}),t.push([e.id,`.header__preview{--page-length-digits: 1;display:flex;width:100%}.header__preview .start,.header__preview .end{flex:1}.header__preview .start{align-items:center;display:flex;overflow:hidden;padding-inline-end:20px;min-width:36px}.header__preview .start .title{font-size:13px;flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:left}.header__preview .start .catalog-icon>svg{pointer-events:none;display:block;width:20px;height:20px;position:relative;vertical-align:middle;fill:var(--iron-icon-fill-color, currentcolor);stroke:var(--iron-icon-stroke-color, none);width:var(--iron-icon-width, 24px);height:var(--iron-icon-height, 24px)}.header__preview .center{align-items:center;display:flex}.header__preview .center #content{align-items:center;color:#fff;direction:ltr;display:flex;font-size:0.81rem;text-align:center;--page-selector-spacing: 4px}.header__preview .center #content #pageselector::selection{background-color:var(--viewer-text-input-selection-color)}.header__preview .center #content input,.header__preview .center #content #pagelength{width:calc(max(2, var(--page-length-digits)) * 1ch + 1px)}.header__preview .center #content input{background:rgba(0,0,0,0.5);border:none;color:white;font-family:inherit;line-height:inherit;outline:none;padding:0 var(--page-selector-spacing);text-align:center;max-height:var(--viewer-pdf-toolbar-height);font-size:13px}.header__preview .center #content #divider{margin:0 var(--page-selector-spacing)}.header__preview .center #zoom-controls{align-items:center;display:flex;padding:0 4px}.header__preview .center #zoom-controls input{background:rgba(0,0,0,0.5);border:none;caret-color:currentColor;color:inherit;font-family:inherit;line-height:inherit;margin-left:4px;outline:none;padding:0 4px;text-align:center;width:5ch;font-size:13px}.header__preview .end{display:flex;justify-content:flex-end;padding-inline-start:20px;text-align:end;white-space:nowrap}@media screen and (max-width: 500){.header__preview .start{display:none}}
`,""]);const a=t},530:(e,a,n)=>{n.d(a,{Z:()=>k});var u=n(645),o=n.n(u),d=n(667),a=n.n(d),u=n(389),d=n(794),n=n(405),o=o()(function(j){return j[1]}),u=a()(u.Z),d=a()(d.Z),n=a()(n.Z);o.push([e.id,`@font-face {
  font-family: "iconfont"; /* Project id 2911558 */
  src: url(`+u+`) format('woff2'),
       url(`+d+`) format('woff'),
       url(`+n+`) format('truetype');
}

.iconfont {
  font-family: "iconfont" !important;
  font-size: 16px;
  font-style: normal;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.pdf-viewer--fullpage:before {
  content: "\\e9c4";
}

.pdf-viewer--minus:before {
  content: "\\e62b";
}

.pdf-viewer--catalog:before {
  content: "\\e614";
}

.pdf-viewer--download:before {
  content: "\\e7bd";
}

.pdf-viewer--plus:before {
  content: "\\e64d";
}

.pdf-viewer--rotate:before {
  content: "\\e609";
}

.pdf-viewer--dots:before {
  content: "\\e605";
}

.pdf-viewer--auto-width:before {
  content: "\\e600";
}

.pdf-viewer--printer:before {
  content: "\\e9c3";
}

`,""]);const k=o},645:e=>{e.exports=function(t){var i=[];return i.toString=function(){return this.map(function(a){var o=t(a);return a[2]?"@media ".concat(a[2]," {").concat(o,"}"):o}).join("")},i.i=function(a,o,u){typeof a=="string"&&(a=[[null,a,""]]);var d={};if(u)for(var n=0;n<this.length;n++){var k=this[n][0];k!=null&&(d[k]=!0)}for(var j=0;j<a.length;j++){var Z=[].concat(a[j]);u&&d[Z[0]]||(o&&(Z[2]?Z[2]="".concat(o," and ").concat(Z[2]):Z[2]=o),i.push(Z))}},i}},667:e=>{e.exports=function(t,i){return i=i||{},typeof(t=t&&t.__esModule?t.default:t)!="string"?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),i.hash&&(t+=i.hash),/["'() \t\n]/.test(t)||i.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},658:function(module,__unused_webpack_exports,__webpack_require__){var Wa;Wa=function(){return Xa=[function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLinkAttributes",{enumerable:!0,get:function(){return d.addLinkAttributes}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return d.getFilenameFromUrl}}),Object.defineProperty(t,"LinkTarget",{enumerable:!0,get:function(){return d.LinkTarget}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return d.loadScript}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return d.PDFDateString}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return d.RenderingCancelledException}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return n.LoopbackPort}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return n.version}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return k.CMapCompressionType}}),Object.defineProperty(t,"createObjectURL",{enumerable:!0,get:function(){return k.createObjectURL}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return k.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return k.createValidAbsoluteUrl}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return k.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return k.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return k.OPS}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return k.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return k.PermissionFlag}}),Object.defineProperty(t,"removeNullCharacters",{enumerable:!0,get:function(){return k.removeNullCharacters}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return k.shadow}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return k.UnexpectedResponseException}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return k.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return k.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return k.VerbosityLevel}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return j.AnnotationLayer}}),Object.defineProperty(t,"apiCompatibilityParams",{enumerable:!0,get:function(){return Z.apiCompatibilityParams}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return z.GlobalWorkerOptions}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return H.renderTextLayer}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return Y.SVGGraphics}});var a,o,u,d=i(1),n=i(198),k=i(5),j=i(209),Z=i(200),z=i(203),H=i(210),Y=i(211);i(7).isNodeJS?(a=i(212).PDFNodeStream,(0,n.setPDFNetworkStreamFactory)(function(I){return new a(I)})):(o=i(215).PDFNetworkStream,(0,d.isFetchSupported)()&&(u=i(216).PDFFetchStream),(0,n.setPDFNetworkStreamFactory)(function(I){return new(u&&(0,d.isValidFetchUrl)(I.url)?u:o)(I)}))},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.addLinkAttributes=function(K){var g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},L=g.url,E=g.target,w=g.rel,g=g.enabled,g=g===void 0||g;(0,u.assert)(L&&typeof L=="string",'addLinkAttributes: A valid "url" parameter must provided.'),L=(0,u.removeNullCharacters)(L),g?K.href=K.title=L:(K.href="",K.title="Disabled: ".concat(L),K.onclick=function(){return!1});var A="";switch(E){case P.NONE:break;case P.SELF:A="_self";break;case P.BLANK:A="_blank";break;case P.PARENT:A="_parent";break;case P.TOP:A="_top"}K.target=A,K.rel=typeof w=="string"?w:T},t.getFilenameFromUrl=function(K){var L=K.indexOf("#"),E=K.indexOf("?"),E=Math.min(0<L?L:K.length,0<E?E:K.length);return K.substring(K.lastIndexOf("/",E)+1,E)},t.isFetchSupported=N,t.isValidFetchUrl=ne,t.loadScript=function(K){return new Promise(function(L,E){var w=document.createElement("script");w.src=K,w.onload=L,w.onerror=function(){E(new Error("Cannot load script at: ".concat(w.src)))},(document.head||document.documentElement).appendChild(w)})},t.deprecated=function(K){console.log("Deprecated API usage: "+K)},t.PDFDateString=t.StatTimer=t.DOMSVGFactory=t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.LinkTarget=t.RenderingCancelledException=t.PageViewport=void 0;var a,o=(a=i(2))&&a.__esModule?a:{default:a},u=i(5);function d(K,L){var E;if(typeof Symbol>"u"||K[Symbol.iterator]==null){if(Array.isArray(K)||(E=function(y,x){if(y){if(typeof y=="string")return n(y,x);var M=Object.prototype.toString.call(y).slice(8,-1);return(M=M==="Object"&&y.constructor?y.constructor.name:M)==="Map"||M==="Set"?Array.from(y):M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M)?n(y,x):void 0}}(K))||L&&K&&typeof K.length=="number"){E&&(K=E);var w=0,L=function(){};return{s:L,n:function(){return w>=K.length?{done:!0}:{done:!1,value:K[w++]}},e:function(x){throw x},f:L}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,A=!0,m=!1;return{s:function(){E=K[Symbol.iterator]()},n:function(){var y=E.next();return A=y.done,y},e:function(y){m=!0,g=y},f:function(){try{A||E.return==null||E.return()}finally{if(m)throw g}}}}function n(K,L){(L==null||L>K.length)&&(L=K.length);for(var E=0,w=new Array(L);E<L;E++)w[E]=K[E];return w}function k(K){return(k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(K)}function j(K,L){return(j=Object.setPrototypeOf||function(E,w){return E.__proto__=w,E})(K,L)}function Z(K){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var E,w=z(K);return E=L?(E=z(this).constructor,Reflect.construct(w,arguments,E)):w.apply(this,arguments),w=this,!(E=E)||k(E)!=="object"&&typeof E!="function"?function(g){if(g!==void 0)return g;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(w):E}}function z(K){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(L){return L.__proto__||Object.getPrototypeOf(L)})(K)}function H(K,L,E,w,g,A,m){try{var y=K[A](m),x=y.value}catch(M){return void E(M)}y.done?L(x):Promise.resolve(x).then(w,g)}function Y(K){return function(){var L=this,E=arguments;return new Promise(function(w,g){var A=K.apply(L,E);function m(x){H(A,w,g,m,y,"next",x)}function y(x){H(A,w,g,m,y,"throw",x)}m(void 0)})}}function I(K,L){if(!(K instanceof L))throw new TypeError("Cannot call a class as a function")}function B(K,L){for(var E=0;E<L.length;E++){var w=L[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(K,w.key,w)}}function U(K,L,E){return L&&B(K.prototype,L),E&&B(K,E),K}var T="noopener noreferrer nofollow";t.DEFAULT_LINK_REL=T;var C="http://www.w3.org/2000/svg";t.DOMCanvasFactory=function(){function K(){I(this,K)}return U(K,[{key:"create",value:function(L,E){if(L<=0||E<=0)throw new Error("Invalid canvas size");var w=document.createElement("canvas"),g=w.getContext("2d");return w.width=L,w.height=E,{canvas:w,context:g}}},{key:"reset",value:function(L,E,w){if(!L.canvas)throw new Error("Canvas is not specified");if(E<=0||w<=0)throw new Error("Invalid canvas size");L.canvas.width=E,L.canvas.height=w}},{key:"destroy",value:function(L){if(!L.canvas)throw new Error("Canvas is not specified");L.canvas.width=0,L.canvas.height=0,L.canvas=null,L.context=null}}]),K}();var q=function(){function K(A){var g=A.baseUrl,g=g===void 0?null:g,A=A.isCompressed,A=A!==void 0&&A;I(this,K),this.baseUrl=g,this.isCompressed=A}function L(w){return E.apply(this,arguments)}var E;return U(K,[{key:"fetch",value:(E=function(){var w=Y(o.default.mark(function g(A){var m,y,x,M=this;return o.default.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(m=A.name,this.baseUrl){X.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(m){X.next=5;break}throw new Error("CMap name must be specified.");case 5:if(y=this.baseUrl+m+(this.isCompressed?".bcmap":""),x=this.isCompressed?u.CMapCompressionType.BINARY:u.CMapCompressionType.NONE,N()&&ne(y,document.baseURI))return X.abrupt("return",fetch(y).then(function(){var re=Y(o.default.mark(function ee(he){var ye;return o.default.wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(he.ok){Ce.next=2;break}throw new Error(he.statusText);case 2:if(M.isCompressed)return Ce.t0=Uint8Array,Ce.next=6,he.arrayBuffer();Ce.next=10;break;case 6:Ce.t1=Ce.sent,ye=new Ce.t0(Ce.t1),Ce.next=15;break;case 10:return Ce.t2=u.stringToBytes,Ce.next=13,he.text();case 13:Ce.t3=Ce.sent,ye=(0,Ce.t2)(Ce.t3);case 15:return Ce.abrupt("return",{cMapData:ye,compressionType:x});case 16:case"end":return Ce.stop()}},ee)}));return function(ee){return re.apply(this,arguments)}}()).catch(function(re){throw new Error("Unable to load ".concat(M.isCompressed?"binary ":"")+"CMap at: ".concat(y))}));X.next=9;break;case 9:return X.abrupt("return",new Promise(function(re,ee){var he=new XMLHttpRequest;he.open("GET",y,!0),M.isCompressed&&(he.responseType="arraybuffer"),he.onreadystatechange=function(){if(he.readyState===XMLHttpRequest.DONE){var ye;if((he.status===200||he.status===0)&&(M.isCompressed&&he.response?ye=new Uint8Array(he.response):!M.isCompressed&&he.responseText&&(ye=(0,u.stringToBytes)(he.responseText)),ye))return void re({cMapData:ye,compressionType:x});ee(new Error(he.statusText))}},he.send(null)}).catch(function(re){throw new Error("Unable to load ".concat(M.isCompressed?"binary ":"")+"CMap at: ".concat(y))}));case 10:case"end":return X.stop()}},g,this)}));return function(g){return w.apply(this,arguments)}}(),L.toString=function(){return E.toString()},L)}]),K}();t.DOMCMapReaderFactory=q,t.DOMSVGFactory=function(){function K(){I(this,K)}return U(K,[{key:"create",value:function(L,E){(0,u.assert)(0<L&&0<E,"Invalid SVG dimensions");var w=document.createElementNS(C,"svg:svg");return w.setAttribute("version","1.1"),w.setAttribute("width",L+"px"),w.setAttribute("height",E+"px"),w.setAttribute("preserveAspectRatio","none"),w.setAttribute("viewBox","0 0 "+L+" "+E),w}},{key:"createElement",value:function(L){return(0,u.assert)(typeof L=="string","Invalid SVG element type"),document.createElementNS(C,L)}}]),K}(),q=function(){function K(Ce){var E=Ce.viewBox,w=Ce.scale,g=Ce.rotation,oe=Ce.offsetX,A=oe===void 0?0:oe,y=Ce.offsetY,m=y===void 0?0:y,oe=Ce.dontFlip,y=oe!==void 0&&oe;I(this,K),this.viewBox=E,this.scale=w,this.rotation=g,this.offsetX=A,this.offsetY=m;var x,M,X,re,ee,he,ye,Ce=(E[2]+E[0])/2,oe=(E[3]+E[1])/2;switch(g=(g%=360)<0?g+360:g){case 180:x=-1,X=M=0,re=1;break;case 90:X=M=1,re=x=0;break;case 270:X=M=-1,re=x=0;break;case 0:X=M=0,re=-(x=1);break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}y&&(X=-X,re=-re),E=x===0?(ee=Math.abs(oe-E[1])*w+A,he=Math.abs(Ce-E[0])*w+m,ye=Math.abs(E[3]-E[1])*w,Math.abs(E[2]-E[0])*w):(ee=Math.abs(Ce-E[0])*w+A,he=Math.abs(oe-E[1])*w+m,ye=Math.abs(E[2]-E[0])*w,Math.abs(E[3]-E[1])*w),this.transform=[x*w,M*w,X*w,re*w,ee-x*w*Ce-X*w*oe,he-M*w*Ce-re*w*oe],this.width=ye,this.height=E}return U(K,[{key:"clone",value:function(){var A=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},g=A.scale,L=g===void 0?this.scale:g,w=A.rotation,E=w===void 0?this.rotation:w,g=A.offsetX,w=g===void 0?this.offsetX:g,g=A.offsetY,g=g===void 0?this.offsetY:g,A=A.dontFlip,A=A!==void 0&&A;return new K({viewBox:this.viewBox.slice(),scale:L,rotation:E,offsetX:w,offsetY:g,dontFlip:A})}},{key:"convertToViewportPoint",value:function(L,E){return u.Util.applyTransform([L,E],this.transform)}},{key:"convertToViewportRectangle",value:function(w){var E=u.Util.applyTransform([w[0],w[1]],this.transform),w=u.Util.applyTransform([w[2],w[3]],this.transform);return[E[0],E[1],w[0],w[1]]}},{key:"convertToPdfPoint",value:function(L,E){return u.Util.applyInverseTransform([L,E],this.transform)}}]),K}(),t.PageViewport=q,q=function(){(function(E,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(w&&w.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),w&&j(E,w)})(L,u.BaseException);var K=Z(L);function L(E,w){return I(this,L),(E=K.call(this,E)).type=w,E}return L}(),t.RenderingCancelledException=q;var P={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};t.LinkTarget=P;var G,q=function(){function K(){I(this,K),this.started=Object.create(null),this.times=[]}return U(K,[{key:"time",value:function(L){L in this.started&&(0,u.warn)("Timer is already running for ".concat(L)),this.started[L]=Date.now()}},{key:"timeEnd",value:function(L){L in this.started||(0,u.warn)("Timer has not been started for ".concat(L)),this.times.push({name:L,start:this.started[L],end:Date.now()}),delete this.started[L]}},{key:"toString",value:function(){var L,E=[],w=0,g=d(this.times);try{for(g.s();!(L=g.n()).done;){var A=L.value.name;A.length>w&&(w=A.length)}}catch(X){g.e(X)}finally{g.f()}var m,y=d(this.times);try{for(y.s();!(m=y.n()).done;){var x=m.value,M=x.end-x.start;E.push("".concat(x.name.padEnd(w)," ").concat(M,`ms
`))}}catch(X){y.e(X)}finally{y.f()}return E.join("")}}]),K}();function N(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&typeof ReadableStream<"u"}function ne(K,L){try{var E=(L?new URL(K,L):new URL(K)).protocol;return E==="http:"||E==="https:"}catch{return!1}}t.StatTimer=q,q=function(){function K(){I(this,K)}return U(K,null,[{key:"toDateObject",value:function(M){if(!M||!(0,u.isString)(M))return null;var X=(G=G||new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?")).exec(M);if(!X)return null;var E=parseInt(X[1],10),w=1<=(w=parseInt(X[2],10))&&w<=12?w-1:0,g=1<=(g=parseInt(X[3],10))&&g<=31?g:1,A=0<=(A=parseInt(X[4],10))&&A<=23?A:0,m=0<=(m=parseInt(X[5],10))&&m<=59?m:0,y=0<=(y=parseInt(X[6],10))&&y<=59?y:0,x=X[7]||"Z",M=0<=(M=parseInt(X[8],10))&&M<=23?M:0,X=0<=(X=parseInt(X[9],10)||0)&&X<=59?X:0;return x==="-"?(A+=M,m+=X):x==="+"&&(A-=M,m-=X),new Date(Date.UTC(E,w,g,A,m,y))}}]),K}(),t.PDFDateString=q},function(e,t,i){e.exports=i(3)},function(e,t,i){(function(a){function o(u){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(u)}a=function(u){var d,n=Object.prototype,k=n.hasOwnProperty,j=typeof Symbol=="function"?Symbol:{},Z=j.iterator||"@@iterator",z=j.asyncIterator||"@@asyncIterator",H=j.toStringTag||"@@toStringTag";function Y(x,oe,X,de){var ee,he,ye,Ce,oe=oe&&oe.prototype instanceof G?oe:G,oe=Object.create(oe.prototype),de=new A(de||[]);return oe._invoke=(ee=x,he=X,ye=de,Ce=B,function(fe,ue){if(Ce===T)throw new Error("Generator is already running");if(Ce===C){if(fe==="throw")throw ue;return y()}for(ye.method=fe,ye.arg=ue;;){var pe=ye.delegate;if(pe){var te=function ge(xe,ce){var we=xe.iterator[ce.method];if(we===d){if(ce.delegate=null,ce.method==="throw"){if(xe.iterator.return&&(ce.method="return",ce.arg=d,ge(xe,ce),ce.method==="throw"))return P;ce.method="throw",ce.arg=new TypeError("The iterator does not provide a 'throw' method")}return P}var we=I(we,xe.iterator,ce.arg);if(we.type==="throw")return ce.method="throw",ce.arg=we.arg,ce.delegate=null,P;if(we=we.arg,!we)return ce.method="throw",ce.arg=new TypeError("iterator result is not an object"),ce.delegate=null,P;{if(!we.done)return we;ce[xe.resultName]=we.value,ce.next=xe.nextLoc,ce.method!=="return"&&(ce.method="next",ce.arg=d)}return ce.delegate=null,P}(pe,ye);if(te){if(te===P)continue;return te}}if(ye.method==="next")ye.sent=ye._sent=ye.arg;else if(ye.method==="throw"){if(Ce===B)throw Ce=C,ye.arg;ye.dispatchException(ye.arg)}else ye.method==="return"&&ye.abrupt("return",ye.arg);if(Ce=T,te=I(ee,he,ye),te.type==="normal"){if(Ce=ye.done?C:U,te.arg!==P)return{value:te.arg,done:ye.done}}else te.type==="throw"&&(Ce=C,ye.method="throw",ye.arg=te.arg)}}),oe}function I(x,M,X){try{return{type:"normal",arg:x.call(M,X)}}catch(re){return{type:"throw",arg:re}}}u.wrap=Y;var B="suspendedStart",U="suspendedYield",T="executing",C="completed",P={};function G(){}function q(){}function N(){}var ne={};ne[Z]=function(){return this},j=Object.getPrototypeOf,j=j&&j(j(m([]))),j&&j!==n&&k.call(j,Z)&&(ne=j);var K=N.prototype=G.prototype=Object.create(ne);function L(x){["next","throw","return"].forEach(function(M){x[M]=function(X){return this._invoke(M,X)}})}function E(x,M){var X;this._invoke=function(re,ee){function he(){return new M(function(ye,Ce){(function oe(de,fe,ue,pe){if(de=I(x[de],x,fe),de.type!=="throw"){var te=de.arg;return(fe=te.value)&&o(fe)==="object"&&k.call(fe,"__await")?M.resolve(fe.__await).then(function(ge){oe("next",ge,ue,pe)},function(ge){oe("throw",ge,ue,pe)}):M.resolve(fe).then(function(ge){te.value=ge,ue(te)},function(ge){return oe("throw",ge,ue,pe)})}pe(de.arg)})(re,ee,ye,Ce)})}return X=X?X.then(he,he):he()}}function w(x){var M={tryLoc:x[0]};1 in x&&(M.catchLoc=x[1]),2 in x&&(M.finallyLoc=x[2],M.afterLoc=x[3]),this.tryEntries.push(M)}function g(x){var M=x.completion||{};M.type="normal",delete M.arg,x.completion=M}function A(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(w,this),this.reset(!0)}function m(x){if(x){var M=x[Z];if(M)return M.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var X=-1,M=function ee(){for(;++X<x.length;)if(k.call(x,X))return ee.value=x[X],ee.done=!1,ee;return ee.value=d,ee.done=!0,ee};return M.next=M}}return{next:y}}function y(){return{value:d,done:!0}}return(q.prototype=K.constructor=N).constructor=q,N[H]=q.displayName="GeneratorFunction",u.isGeneratorFunction=function(x){return x=typeof x=="function"&&x.constructor,!!x&&(x===q||(x.displayName||x.name)==="GeneratorFunction")},u.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,N):(x.__proto__=N,H in x||(x[H]="GeneratorFunction")),x.prototype=Object.create(K),x},u.awrap=function(x){return{__await:x}},L(E.prototype),E.prototype[z]=function(){return this},u.AsyncIterator=E,u.async=function(x,M,X,re,ee){ee===void 0&&(ee=Promise);var he=new E(Y(x,M,X,re),ee);return u.isGeneratorFunction(M)?he:he.next().then(function(ye){return ye.done?ye.value:he.next()})},L(K),K[H]="Generator",K[Z]=function(){return this},K.toString=function(){return"[object Generator]"},u.keys=function(x){var M,X=[];for(M in x)X.push(M);return X.reverse(),function re(){for(;X.length;){var ee=X.pop();if(ee in x)return re.value=ee,re.done=!1,re}return re.done=!0,re}},u.values=m,A.prototype={constructor:A,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(g),!x)for(var M in this)M.charAt(0)==="t"&&k.call(this,M)&&!isNaN(+M.slice(1))&&(this[M]=d)},stop:function(){this.done=!0;var x=this.tryEntries[0].completion;if(x.type==="throw")throw x.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var M=this;function X(oe,de){return he.type="throw",he.arg=x,M.next=oe,de&&(M.method="next",M.arg=d),!!de}for(var re=this.tryEntries.length-1;0<=re;--re){var ee=this.tryEntries[re],he=ee.completion;if(ee.tryLoc==="root")return X("end");if(ee.tryLoc<=this.prev){var ye=k.call(ee,"catchLoc"),Ce=k.call(ee,"finallyLoc");if(ye&&Ce){if(this.prev<ee.catchLoc)return X(ee.catchLoc,!0);if(this.prev<ee.finallyLoc)return X(ee.finallyLoc)}else if(ye){if(this.prev<ee.catchLoc)return X(ee.catchLoc,!0)}else{if(!Ce)throw new Error("try statement without catch or finally");if(this.prev<ee.finallyLoc)return X(ee.finallyLoc)}}}},abrupt:function(x,M){for(var X=this.tryEntries.length-1;0<=X;--X){var re=this.tryEntries[X];if(re.tryLoc<=this.prev&&k.call(re,"finallyLoc")&&this.prev<re.finallyLoc){var ee=re;break}}var he=(ee=ee&&(x==="break"||x==="continue")&&ee.tryLoc<=M&&M<=ee.finallyLoc?null:ee)?ee.completion:{};return he.type=x,he.arg=M,ee?(this.method="next",this.next=ee.finallyLoc,P):this.complete(he)},complete:function(x,M){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&M&&(this.next=M),P},finish:function(x){for(var M=this.tryEntries.length-1;0<=M;--M){var X=this.tryEntries[M];if(X.finallyLoc===x)return this.complete(X.completion,X.afterLoc),g(X),P}},catch:function(x){for(var M=this.tryEntries.length-1;0<=M;--M){var X=this.tryEntries[M];if(X.tryLoc===x){var re,ee=X.completion;return ee.type==="throw"&&(re=ee.arg,g(X)),re}}throw new Error("illegal catch attempt")},delegateYield:function(x,M,X){return this.delegate={iterator:m(x),resultName:M,nextLoc:X},this.method==="next"&&(this.arg=d),P}},u}(o(a)==="object"?a.exports:{});try{regeneratorRuntime=a}catch{Function("r","regeneratorRuntime = r")(a)}}).call(this,i(4)(e))},function(e,t,i){e.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}},function(e,t,K){function a(L,E){for(var w=0;w<E.length;w++){var g=E[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(L,g.key,g)}}function o(L){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(L)}function u(L,E){if(!(L instanceof E))throw new TypeError("Cannot call a class as a function")}function d(L,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(E&&E.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),E&&n(L,E)}function n(L,E){return(n=Object.setPrototypeOf||function(w,g){return w.__proto__=g,w})(L,E)}function k(L){var E=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var w,g=j(L);return w=E?(w=j(this).constructor,Reflect.construct(g,arguments,w)):g.apply(this,arguments),g=this,!(w=w)||o(w)!=="object"&&typeof w!="function"?function(A){if(A!==void 0)return A;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(g):w}}function j(L){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)})(L)}Object.defineProperty(t,"__esModule",{value:!0}),t.arrayByteLength=G,t.arraysToBytes=function(L){var E=L.length;if(E===1&&L[0]instanceof Uint8Array)return L[0];for(var w=0,g=0;g<E;g++)w+=G(L[g]);for(var A=0,m=new Uint8Array(w),y=0;y<E;y++){var x=L[y],M=(x=x instanceof Uint8Array?x:typeof x=="string"?P(x):new Uint8Array(x)).byteLength;m.set(x,A),A+=M}return m},t.assert=I,t.bytesToString=function(L){I(L!==null&&o(L)==="object"&&L.length!==void 0,"Invalid argument for bytesToString");var E=L.length;if(E<8192)return String.fromCharCode.apply(null,L);for(var w=[],g=0;g<E;g+=8192){var A=Math.min(g+8192,E),A=L.subarray(g,A);w.push(String.fromCharCode.apply(null,A))}return w.join("")},t.createPromiseCapability=function(){var L=Object.create(null),E=!1;return Object.defineProperty(L,"settled",{get:function(){return E}}),L.promise=new Promise(function(w,g){L.resolve=function(A){E=!0,w(A)},L.reject=function(A){E=!0,g(A)}}),L},t.getVerbosityLevel=function(){return z},t.info=function(L){z>=Z.INFOS&&console.log("Info: ".concat(L))},t.isArrayBuffer=function(L){return o(L)==="object"&&L!==null&&L.byteLength!==void 0},t.isArrayEqual=function(L,E){return L.length===E.length&&L.every(function(w,g){return w===E[g]})},t.isBool=function(L){return typeof L=="boolean"},t.isEmptyObj=function(L){for(var E in L)return!1;return!0},t.isNum=function(L){return typeof L=="number"},t.isString=function(L){return typeof L=="string"},t.isSameOrigin=function(L,E){var w;try{if(!(w=new URL(L)).origin||w.origin==="null")return!1}catch{return!1}return E=new URL(E,w),w.origin===E.origin},t.createValidAbsoluteUrl=function(L,E){if(!L)return null;try{var w=E?new URL(L,E):new URL(L);if(function(g){if(!g)return!1;switch(g.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(w))return w}catch{}return null},t.removeNullCharacters=function(L){return typeof L=="string"?L.replace(C,""):(H("The argument for removeNullCharacters must be a string."),L)},t.setVerbosityLevel=function(L){Number.isInteger(L)&&(z=L)},t.shadow=B,t.string32=function(L){return String.fromCharCode(L>>24&255,L>>16&255,L>>8&255,255&L)},t.stringToBytes=P,t.stringToPDFString=function(L){var E=L.length,w=[];if(L[0]==="þ"&&L[1]==="ÿ")for(var g=2;g<E;g+=2)w.push(String.fromCharCode(L.charCodeAt(g)<<8|L.charCodeAt(g+1)));else if(L[0]==="ÿ"&&L[1]==="þ")for(var A=2;A<E;A+=2)w.push(String.fromCharCode(L.charCodeAt(A+1)<<8|L.charCodeAt(A)));else for(var m=0;m<E;++m){var y=N[L.charCodeAt(m)];w.push(y?String.fromCharCode(y):L.charAt(m))}return w.join("")},t.stringToUTF8String=function(L){return decodeURIComponent(escape(L))},t.utf8StringToString=function(L){return unescape(encodeURIComponent(L))},t.warn=H,t.unreachable=Y,t.IsEvalSupportedCached=t.IsLittleEndianCached=t.createObjectURL=t.FormatError=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.MissingPDFException=t.InvalidPDFException=t.AbortException=t.CMapCompressionType=t.ImageKind=t.FontType=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.UNSUPPORTED_FEATURES=t.VerbosityLevel=t.OPS=t.IDENTITY_MATRIX=t.FONT_IDENTITY_MATRIX=t.BaseException=void 0,K(6),t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},t.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var Z={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=Z,t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontGetPath:"errorFontGetPath"},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var z=Z.WARNINGS;function H(L){z>=Z.WARNINGS&&console.log("Warning: ".concat(L))}function Y(L){throw new Error(L)}function I(L,E){L||Y(E)}function B(L,E,w){return Object.defineProperty(L,E,{value:w,enumerable:!0,configurable:!0,writable:!1}),w}var U=(T.prototype=new Error,T.constructor=T);function T(L){this.constructor===T&&Y("Cannot initialize BaseException."),this.message=L,this.name=this.constructor.name}t.BaseException=U,K=function(){d(E,U);var L=k(E);function E(w,g){return u(this,E),(w=L.call(this,w)).code=g,w}return E}(),t.PasswordException=K,K=function(){d(E,U);var L=k(E);function E(w,g){return u(this,E),(w=L.call(this,w)).details=g,w}return E}(),t.UnknownErrorException=K,t.InvalidPDFException=function(){d(E,U);var L=k(E);function E(){return u(this,E),L.apply(this,arguments)}return E}(),t.MissingPDFException=function(){d(E,U);var L=k(E);function E(){return u(this,E),L.apply(this,arguments)}return E}(),K=function(){d(E,U);var L=k(E);function E(w,g){return u(this,E),(w=L.call(this,w)).status=g,w}return E}(),t.UnexpectedResponseException=K,t.FormatError=function(){d(E,U);var L=k(E);function E(){return u(this,E),L.apply(this,arguments)}return E}(),t.AbortException=function(){d(E,U);var L=k(E);function E(){return u(this,E),L.apply(this,arguments)}return E}();var C=/\x00/g;function P(L){I(typeof L=="string","Invalid argument for stringToBytes");for(var E=L.length,w=new Uint8Array(E),g=0;g<E;++g)w[g]=255&L.charCodeAt(g);return w}function G(L){return L.length!==void 0?L.length:(I(L.byteLength!==void 0,"arrayByteLength - invalid argument."),L.byteLength)}t.IsLittleEndianCached={get value(){return B(this,"value",((L=new Uint8Array(4))[0]=1)===new Uint32Array(L.buffer,0,1)[0]);var L}},t.IsEvalSupportedCached={get value(){return B(this,"value",function(){try{return new Function(""),!0}catch{return!1}}())}};var q=["rgb(",0,",",0,",",0,")"],K=function(){function L(){u(this,L)}var E,w,g;return E=L,g=[{key:"makeCssRgb",value:function(A,m,y){return q[1]=A,q[3]=m,q[5]=y,q.join("")}},{key:"transform",value:function(A,m){return[A[0]*m[0]+A[2]*m[1],A[1]*m[0]+A[3]*m[1],A[0]*m[2]+A[2]*m[3],A[1]*m[2]+A[3]*m[3],A[0]*m[4]+A[2]*m[5]+A[4],A[1]*m[4]+A[3]*m[5]+A[5]]}},{key:"applyTransform",value:function(A,m){return[A[0]*m[0]+A[1]*m[2]+m[4],A[0]*m[1]+A[1]*m[3]+m[5]]}},{key:"applyInverseTransform",value:function(A,m){var y=m[0]*m[3]-m[1]*m[2];return[(A[0]*m[3]-A[1]*m[2]+m[2]*m[5]-m[4]*m[3])/y,(-A[0]*m[1]+A[1]*m[0]+m[4]*m[1]-m[5]*m[0])/y]}},{key:"getAxialAlignedBoundingBox",value:function(A,X){var y=L.applyTransform(A,X),x=L.applyTransform(A.slice(2,4),X),M=L.applyTransform([A[0],A[3]],X),X=L.applyTransform([A[2],A[1]],X);return[Math.min(y[0],x[0],M[0],X[0]),Math.min(y[1],x[1],M[1],X[1]),Math.max(y[0],x[0],M[0],X[0]),Math.max(y[1],x[1],M[1],X[1])]}},{key:"inverseTransform",value:function(A){var m=A[0]*A[3]-A[1]*A[2];return[A[3]/m,-A[1]/m,-A[2]/m,A[0]/m,(A[2]*A[5]-A[4]*A[3])/m,(A[4]*A[1]-A[5]*A[0])/m]}},{key:"apply3dTransform",value:function(A,m){return[A[0]*m[0]+A[1]*m[1]+A[2]*m[2],A[3]*m[0]+A[4]*m[1]+A[5]*m[2],A[6]*m[0]+A[7]*m[1]+A[8]*m[2]]}},{key:"singularValueDecompose2dScale",value:function(y){var x=[y[0],y[2],y[1],y[3]],m=y[0]*x[0]+y[1]*x[2],X=y[0]*x[1]+y[1]*x[3],M=y[2]*x[0]+y[3]*x[2],y=y[2]*x[1]+y[3]*x[3],x=(m+y)/2,M=Math.sqrt((m+y)*(m+y)-4*(m*y-M*X))/2,X=x-M||1;return[Math.sqrt(x+M||1),Math.sqrt(X)]}},{key:"normalizeRect",value:function(A){var m=A.slice(0);return A[0]>A[2]&&(m[0]=A[2],m[2]=A[0]),A[1]>A[3]&&(m[1]=A[3],m[3]=A[1]),m}},{key:"intersect",value:function(A,m){function y(re,ee){return re-ee}var x=[A[0],A[2],m[0],m[2]].sort(y),M=[A[1],A[3],m[1],m[3]].sort(y),X=[];return A=L.normalizeRect(A),m=L.normalizeRect(m),x[0]===A[0]&&x[1]===m[0]||x[0]===m[0]&&x[1]===A[0]?(X[0]=x[1],X[2]=x[2],M[0]===A[1]&&M[1]===m[1]||M[0]===m[1]&&M[1]===A[1]?(X[1]=M[1],X[3]=M[2],X):null):null}}],(w=null)&&a(E.prototype,w),g&&a(E,g),L}();t.Util=K;var N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],ne,K=(ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",function(L,E){if(!(2<arguments.length&&arguments[2]!==void 0&&arguments[2])&&URL.createObjectURL){var w=new Blob([L],{type:E});return URL.createObjectURL(w)}for(var g="data:".concat(E,";base64,"),A=0,m=L.length;A<m;A+=3){var y=255&L[A],x=255&L[A+1],M=255&L[A+2];g+=ne[y>>2]+ne[(3&y)<<4|x>>4]+ne[A+1<m?(15&x)<<2|M>>6:64]+ne[A+2<m?63&M:64]}return g});t.createObjectURL=K},function(e,t,i){var a,o,u,d,n,k,j,Z=i(7);function z(H){return(z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y})(H)}typeof globalThis<"u"&&globalThis._pdfjsCompatibilityChecked||(typeof globalThis<"u"&&globalThis.Math===Math||(globalThis=i(8)),globalThis._pdfjsCompatibilityChecked=!0,a=(typeof window>"u"?"undefined":z(window))==="object"&&(typeof document>"u"?"undefined":z(document))==="object",n=typeof navigator<"u"&&navigator.userAgent||"",o=/Trident/.test(n),!globalThis.btoa&&Z.isNodeJS&&(globalThis.btoa=function(H){return Buffer.from(H,"binary").toString("base64")}),!globalThis.atob&&Z.isNodeJS&&(globalThis.atob=function(H){return Buffer.from(H,"base64").toString("binary")}),a&&Element.prototype.remove===void 0&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),a&&!Z.isNodeJS&&((n=document.createElement("div")).classList.add("testOne","testTwo"),n.classList.contains("testOne")===!0&&n.classList.contains("testTwo")===!0||(k=DOMTokenList.prototype.add,j=DOMTokenList.prototype.remove,DOMTokenList.prototype.add=function(){for(var H=arguments.length,Y=new Array(H),I=0;I<H;I++)Y[I]=arguments[I];for(var B=0,U=Y;B<U.length;B++){var T=U[B];k.call(this,T)}},DOMTokenList.prototype.remove=function(){for(var H=arguments.length,Y=new Array(H),I=0;I<H;I++)Y[I]=arguments[I];for(var B=0,U=Y;B<U.length;B++){var T=U[B];j.call(this,T)}})),a&&!Z.isNodeJS&&document.createElement("div").classList.toggle("test",0)!==!1&&(DOMTokenList.prototype.toggle=function(H){var Y=1<arguments.length?!!arguments[1]:!this.contains(H);return this[Y?"add":"remove"](H),Y}),a&&o&&(u=window.history.pushState,d=window.history.replaceState,window.history.pushState=function(H,Y,I){u.apply(this,I===void 0?[H,Y]:[H,Y,I])},window.history.replaceState=function(H,Y,I){d.apply(this,I===void 0?[H,Y]:[H,Y,I])}),String.prototype.startsWith||i(53),String.prototype.endsWith||i(64),String.prototype.includes||i(66),Array.prototype.includes||i(68),Array.from||i(76),Object.assign||i(98),Math.log2||(Math.log2=i(101)),Number.isNaN||(Number.isNaN=i(103)),Number.isInteger||(Number.isInteger=i(105)),Uint8Array.prototype.slice||i(108),globalThis.Promise&&globalThis.Promise.allSettled||(globalThis.Promise=i(113)),globalThis.URL=i(136),function(){var H=!1;if(typeof ReadableStream<"u")try{new ReadableStream({start:function(Y){Y.close()}}),H=!0}catch{}H||(globalThis.ReadableStream=i(143).ReadableStream)}(),globalThis.Map&&globalThis.Map.prototype.entries||(globalThis.Map=i(144)),globalThis.Set&&globalThis.Set.prototype.entries||(globalThis.Set=i(151)),globalThis.WeakMap||(globalThis.WeakMap=i(153)),globalThis.WeakSet||(globalThis.WeakSet=i(159)),String.prototype.codePointAt||i(161),String.fromCodePoint||(String.fromCodePoint=i(163)),globalThis.Symbol||i(165),String.prototype.padStart||i(188),String.prototype.padEnd||i(193),Object.values||(Object.values=i(195)))},function(e,t,i){function a(u){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(u)}Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;var o=(typeof process>"u"?"undefined":a(process))==="object"&&process+""=="[object process]"&&!process.versions.nw&&!process.versions.electron;t.isNodeJS=o},function(e,t,i){i(9),e.exports=i(11)},function(e,t,i){i(10)({global:!0},{globalThis:i(11)})},function(e,t,i){var a=i(11),o=i(12).f,u=i(26),d=i(29),n=i(30),k=i(40),j=i(52);e.exports=function(Z,z){var H,Y,I,B=Z.target,U=Z.global,T=Z.stat,C=U?a:T?a[B]||n(B,{}):(a[B]||{}).prototype;if(C)for(H in z){if(Y=z[H],I=Z.noTargetGet?(I=o(C,H))&&I.value:C[H],!j(U?H:B+(T?".":"#")+H,Z.forced)&&I!==void 0){if(typeof Y==typeof I)continue;k(Y,I)}(Z.sham||I&&I.sham)&&u(Y,"sham",!0),d(C,H,Y,Z)}}},function(e,t){function i(a){return a&&a.Math==Math&&a}e.exports=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof __webpack_require__.g=="object"&&__webpack_require__.g)||Function("return this")()},function(e,t,i){var a=i(13),o=i(15),u=i(16),d=i(17),n=i(21),k=i(23),j=i(24),Z=Object.getOwnPropertyDescriptor;t.f=a?Z:function(z,H){if(z=d(z),H=n(H,!0),j)try{return Z(z,H)}catch{}if(k(z,H))return u(!o.f.call(z,H),z[H])}},function(e,t,i){i=i(14),e.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(e,t){e.exports=function(i){try{return!!i()}catch{return!0}}},function(e,t,i){var a={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,u=o&&!a.call({1:2},1);t.f=u?function(d){return d=o(this,d),!!d&&d.enumerable}:a},function(e,t){e.exports=function(i,a){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:a}}},function(e,t,i){var a=i(18),o=i(20);e.exports=function(u){return a(o(u))}},function(e,t,i){var a=i(14),o=i(19),u="".split;e.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(d){return o(d)=="String"?u.call(d,""):Object(d)}:Object},function(e,t){var i={}.toString;e.exports=function(a){return i.call(a).slice(8,-1)}},function(e,t){e.exports=function(i){if(i==null)throw TypeError("Can't call method on "+i);return i}},function(e,t,i){var a=i(22);e.exports=function(o,u){if(!a(o))return o;var d,n;if(u&&typeof(d=o.toString)=="function"&&!a(n=d.call(o))||typeof(d=o.valueOf)=="function"&&!a(n=d.call(o))||!u&&typeof(d=o.toString)=="function"&&!a(n=d.call(o)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(i){return typeof i=="object"?i!==null:typeof i=="function"}},function(e,t){var i={}.hasOwnProperty;e.exports=function(a,o){return i.call(a,o)}},function(e,t,i){var a=i(13),o=i(14),u=i(25);e.exports=!a&&!o(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},function(e,t,o){var a=o(11),o=o(22),u=a.document,d=o(u)&&o(u.createElement);e.exports=function(n){return d?u.createElement(n):{}}},function(e,t,i){var a=i(13),o=i(27),u=i(16);e.exports=a?function(d,n,k){return o.f(d,n,u(1,k))}:function(d,n,k){return d[n]=k,d}},function(e,t,i){var a=i(13),o=i(24),u=i(28),d=i(21),n=Object.defineProperty;t.f=a?n:function(k,j,Z){if(u(k),j=d(j,!0),u(Z),o)try{return n(k,j,Z)}catch{}if("get"in Z||"set"in Z)throw TypeError("Accessors not supported");return"value"in Z&&(k[j]=Z.value),k}},function(e,t,i){var a=i(22);e.exports=function(o){if(!a(o))throw TypeError(String(o)+" is not an object");return o}},function(e,t,k){var a=k(11),o=k(26),u=k(23),d=k(30),n=k(31),k=k(33),j=k.get,Z=k.enforce,z=String(String).split("String");(e.exports=function(H,Y,I,C){var U=!!C&&!!C.unsafe,T=!!C&&!!C.enumerable,C=!!C&&!!C.noTargetGet;typeof I=="function"&&(typeof Y!="string"||u(I,"name")||o(I,"name",Y),Z(I).source=z.join(typeof Y=="string"?Y:"")),H!==a?(U?!C&&H[Y]&&(T=!0):delete H[Y],T?H[Y]=I:o(H,Y,I)):T?H[Y]=I:d(Y,I)})(Function.prototype,"toString",function(){return typeof this=="function"&&j(this).source||n(this)})},function(e,t,i){var a=i(11),o=i(26);e.exports=function(u,d){try{o(a,u,d)}catch{a[u]=d}return d}},function(e,t,a){var a=a(32),o=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(u){return o.call(u)}),e.exports=a.inspectSource},function(e,t,u){var a=u(11),o=u(30),u="__core-js_shared__",u=a[u]||o(u,{});e.exports=u},function(e,t,U){var a,o,u,d,n,k,j,Z,z=U(34),T=U(11),H=U(22),Y=U(26),I=U(23),B=U(35),U=U(39),T=T.WeakMap;j=z?(a=new T,o=a.get,u=a.has,d=a.set,n=function(C,P){return d.call(a,C,P),P},k=function(C){return o.call(a,C)||{}},function(C){return u.call(a,C)}):(U[Z=B("state")]=!0,n=function(C,P){return Y(C,Z,P),P},k=function(C){return I(C,Z)?C[Z]:{}},function(C){return I(C,Z)}),e.exports={set:n,get:k,has:j,enforce:function(C){return j(C)?k(C):n(C,{})},getterFor:function(C){return function(P){var G;if(!H(P)||(G=k(P)).type!==C)throw TypeError("Incompatible receiver, "+C+" required");return G}}}},function(e,t,a){var o=a(11),a=a(31),o=o.WeakMap;e.exports=typeof o=="function"&&/native code/.test(a(o))},function(e,t,i){var a=i(36),o=i(38),u=a("keys");e.exports=function(d){return u[d]||(u[d]=o(d))}},function(e,t,i){var a=i(37),o=i(32);(e.exports=function(u,d){return o[u]||(o[u]=d!==void 0?d:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t){var i=0,a=Math.random();e.exports=function(o){return"Symbol("+String(o===void 0?"":o)+")_"+(++i+a).toString(36)}},function(e,t){e.exports={}},function(e,t,i){var a=i(23),o=i(41),u=i(12),d=i(27);e.exports=function(n,k){for(var j=o(k),Z=d.f,z=u.f,H=0;H<j.length;H++){var Y=j[H];a(n,Y)||Z(n,Y,z(k,Y))}}},function(e,t,i){var a=i(42),o=i(44),u=i(51),d=i(28);e.exports=a("Reflect","ownKeys")||function(n){var k=o.f(d(n)),j=u.f;return j?k.concat(j(n)):k}},function(e,t,i){function a(d){return typeof d=="function"?d:void 0}var o=i(43),u=i(11);e.exports=function(d,n){return arguments.length<2?a(o[d])||a(u[d]):o[d]&&o[d][n]||u[d]&&u[d][n]}},function(e,t,i){i=i(11),e.exports=i},function(e,t,i){var a=i(45),o=i(50).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(u){return a(u,o)}},function(e,t,i){var a=i(23),o=i(17),u=i(46).indexOf,d=i(39);e.exports=function(n,k){var j,Z=o(n),z=0,H=[];for(j in Z)!a(d,j)&&a(Z,j)&&H.push(j);for(;k.length>z;)a(Z,j=k[z++])&&(~u(H,j)||H.push(j));return H}},function(e,t,d){var a=d(17),o=d(47),u=d(49),d=function(n){return function(k,j,Z){var z,H=a(k),Y=o(H.length),I=u(Z,Y);if(n&&j!=j){for(;I<Y;)if((z=H[I++])!=z)return!0}else for(;I<Y;I++)if((n||I in H)&&H[I]===j)return n||I||0;return!n&&-1}};e.exports={includes:d(!0),indexOf:d(!1)}},function(e,t,i){var a=i(48),o=Math.min;e.exports=function(u){return 0<u?o(a(u),9007199254740991):0}},function(e,t){var i=Math.ceil,a=Math.floor;e.exports=function(o){return isNaN(o=+o)?0:(0<o?a:i)(o)}},function(e,t,i){var a=i(48),o=Math.max,u=Math.min;e.exports=function(d,n){return d=a(d),d<0?o(d+n,0):u(d,n)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,u){var a=u(14),o=/#|\.prototype\./,u=function(Z,z){return Z=n[d(Z)],Z==j||Z!=k&&(typeof z=="function"?a(z):!!z)},d=u.normalize=function(Z){return String(Z).replace(o,".").toLowerCase()},n=u.data={},k=u.NATIVE="N",j=u.POLYFILL="P";e.exports=u},function(e,t,i){i(54),i=i(61),e.exports=i("String","startsWith")},function(e,t,k){var a=k(10),o=k(12).f,u=k(47),d=k(55),n=k(20),z=k(60),k=k(37),j="".startsWith,Z=Math.min,z=z("startsWith");a({target:"String",proto:!0,forced:!!(k||z||!(o=o(String.prototype,"startsWith"))||o.writable)&&!z},{startsWith:function(B){var Y=String(n(this));d(B);var I=u(Z(1<arguments.length?arguments[1]:void 0,Y.length)),B=String(B);return j?j.call(Y,B,I):Y.slice(I,I+B.length)===B}})},function(e,t,i){var a=i(56);e.exports=function(o){if(a(o))throw TypeError("The method doesn't accept regular expressions");return o}},function(e,t,i){var a=i(22),o=i(19),u=i(57)("match");e.exports=function(d){var n;return a(d)&&((n=d[u])!==void 0?!!n:o(d)=="RegExp")}},function(e,t,k){var a=k(11),o=k(36),u=k(23),d=k(38),n=k(58),k=k(59),j=o("wks"),Z=a.Symbol,z=k?Z:Z&&Z.withoutSetter||d;e.exports=function(H){return u(j,H)||(n&&u(Z,H)?j[H]=Z[H]:j[H]=z("Symbol."+H)),j[H]}},function(e,t,i){i=i(14),e.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},function(e,t,i){i=i(58),e.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(e,t,i){var a=i(57)("match");e.exports=function(o){var u=/./;try{"/./"[o](u)}catch{try{return u[a]=!1,"/./"[o](u)}catch{}}return!1}},function(e,t,i){var a=i(11),o=i(62),u=Function.call;e.exports=function(d,n,k){return o(u,a[d].prototype[n],k)}},function(e,t,i){var a=i(63);e.exports=function(o,u,d){if(a(o),u===void 0)return o;switch(d){case 0:return function(){return o.call(u)};case 1:return function(n){return o.call(u,n)};case 2:return function(n,k){return o.call(u,n,k)};case 3:return function(n,k,j){return o.call(u,n,k,j)}}return function(){return o.apply(u,arguments)}}},function(e,t){e.exports=function(i){if(typeof i!="function")throw TypeError(String(i)+" is not a function");return i}},function(e,t,i){i(65),i=i(61),e.exports=i("String","endsWith")},function(e,t,k){var a=k(10),o=k(12).f,u=k(47),d=k(55),n=k(20),z=k(60),k=k(37),j="".endsWith,Z=Math.min,z=z("endsWith");a({target:"String",proto:!0,forced:!!(k||z||!(o=o(String.prototype,"endsWith"))||o.writable)&&!z},{endsWith:function(U){var Y=String(n(this));d(U);var I=1<arguments.length?arguments[1]:void 0,B=u(Y.length),B=I===void 0?B:Z(u(I),B),U=String(U);return j?j.call(Y,U,B):Y.slice(B-U.length,B)===U}})},function(e,t,i){i(67),i=i(61),e.exports=i("String","includes")},function(e,t,i){var a=i(10),o=i(55),u=i(20);a({target:"String",proto:!0,forced:!i(60)("includes")},{includes:function(d){return!!~String(u(this)).indexOf(o(d),1<arguments.length?arguments[1]:void 0)}})},function(e,t,i){i(69),i=i(61),e.exports=i("Array","includes")},function(e,t,i){var a=i(10),o=i(46).includes,u=i(70);a({target:"Array",proto:!0,forced:!i(75)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(d){return o(this,d,1<arguments.length?arguments[1]:void 0)}}),u("includes")},function(e,t,u){var a=u(57),o=u(71),u=u(27),d=a("unscopables"),n=Array.prototype;n[d]==null&&u.f(n,d,{configurable:!0,value:o(null)}),e.exports=function(k){n[d][k]=!0}},function(e,t,z){function a(){}var o,u=z(28),d=z(72),n=z(50),k=z(39),j=z(74),Z=z(25),z=z(35),H="prototype",Y="script",I=z("IE_PROTO"),B=function(T){return"<"+Y+">"+T+"</"+Y+">"},U=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch{}var T,C;U=o?function(G){G.write(B("")),G.close();var q=G.parentWindow.Object;return G=null,q}(o):(T=Z("iframe"),C="java"+Y+":",T.style.display="none",j.appendChild(T),T.src=String(C),(T=T.contentWindow.document).open(),T.write(B("document.F=Object")),T.close(),T.F);for(var P=n.length;P--;)delete U[H][n[P]];return U()};k[I]=!0,e.exports=Object.create||function(T,C){var P;return T!==null?(a[H]=u(T),P=new a,a[H]=null,P[I]=T):P=U(),C===void 0?P:d(P,C)}},function(e,t,i){var a=i(13),o=i(27),u=i(28),d=i(73);e.exports=a?Object.defineProperties:function(n,k){u(n);for(var j,Z=d(k),z=Z.length,H=0;H<z;)o.f(n,j=Z[H++],k[j]);return n}},function(e,t,i){var a=i(45),o=i(50);e.exports=Object.keys||function(u){return a(u,o)}},function(e,t,i){i=i(42),e.exports=i("document","documentElement")},function(e,t,i){function a(j){throw j}var o=i(13),u=i(14),d=i(23),n=Object.defineProperty,k={};e.exports=function(j,Z){if(d(k,j))return k[j];var z=[][j],H=!!d(Z=Z||{},"ACCESSORS")&&Z.ACCESSORS,Y=d(Z,0)?Z[0]:a,I=d(Z,1)?Z[1]:void 0;return k[j]=!!z&&!u(function(){if(H&&!o)return!0;var B={length:-1};H?n(B,1,{enumerable:!0,get:a}):B[1]=1,z.call(B,Y,I)})}},function(e,t,i){i(77),i(89),i=i(43),e.exports=i.Array.from},function(e,t,u){var a=u(78).charAt,o=u(33),u=u(79),d="String Iterator",n=o.set,k=o.getterFor(d);u(String,"String",function(j){n(this,{type:d,string:String(j),index:0})},function(){var j=k(this),Z=j.string,z=j.index;return z>=Z.length?{value:void 0,done:!0}:(z=a(Z,z),j.index+=z.length,{value:z,done:!1})})},function(e,t,u){var a=u(48),o=u(20),u=function(d){return function(H,k){var j,Z=String(o(H)),z=a(k),H=Z.length;return z<0||H<=z?d?"":void 0:(k=Z.charCodeAt(z))<55296||56319<k||z+1===H||(j=Z.charCodeAt(z+1))<56320||57343<j?d?Z.charAt(z):k:d?Z.slice(z,z+2):j-56320+(k-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},function(e,t,I){function a(){return this}var o=I(10),u=I(80),d=I(82),n=I(87),k=I(85),j=I(26),Z=I(29),z=I(57),H=I(37),Y=I(86),I=I(81),B=I.IteratorPrototype,U=I.BUGGY_SAFARI_ITERATORS,T=z("iterator"),C="values",P="entries";e.exports=function(G,q,N,re,K,L,E){u(N,q,re);function w(ee){if(ee===K&&X)return X;if(!U&&ee in x)return x[ee];switch(ee){case"keys":case C:case P:return function(){return new N(this,ee)}}return function(){return new N(this)}}var g,A,m=q+" Iterator",y=!1,x=G.prototype,M=x[T]||x["@@iterator"]||K&&x[K],X=!U&&M||w(K),re=q=="Array"&&x.entries||M;if(re&&(G=d(re.call(new G)),B!==Object.prototype&&G.next&&(H||d(G)===B||(n?n(G,B):typeof G[T]!="function"&&j(G,T,a)),k(G,m,!0,!0),H&&(Y[m]=a))),K==C&&M&&M.name!==C&&(y=!0,X=function(){return M.call(this)}),H&&!E||x[T]===X||j(x,T,X),Y[q]=X,K)if(g={values:w(C),keys:L?X:w("keys"),entries:w(P)},E)for(A in g)!U&&!y&&A in x||Z(x,A,g[A]);else o({target:q,proto:!0,forced:U||y},g);return g}},function(e,t,i){function a(){return this}var o=i(81).IteratorPrototype,u=i(71),d=i(16),n=i(85),k=i(86);e.exports=function(j,Z,z){return Z+=" Iterator",j.prototype=u(o,{next:d(1,z)}),n(j,Z,!1,!0),k[Z]=a,j}},function(e,t,Z){var a,o=Z(82),u=Z(26),d=Z(23),n=Z(57),k=Z(37),j=n("iterator"),Z=!1;[].keys&&("next"in(n=[].keys())?(n=o(o(n)))!==Object.prototype&&(a=n):Z=!0),a==null&&(a={}),k||d(a,j)||u(a,j,function(){return this}),e.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:Z}},function(e,t,d){var a=d(23),o=d(83),u=d(35),d=d(84),n=u("IE_PROTO"),k=Object.prototype;e.exports=d?Object.getPrototypeOf:function(j){return j=o(j),a(j,n)?j[n]:typeof j.constructor=="function"&&j instanceof j.constructor?j.constructor.prototype:j instanceof Object?k:null}},function(e,t,i){var a=i(20);e.exports=function(o){return Object(a(o))}},function(e,t,i){i=i(14),e.exports=!i(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},function(e,t,i){var a=i(27).f,o=i(23),u=i(57)("toStringTag");e.exports=function(d,n,k){d&&!o(d=k?d:d.prototype,u)&&a(d,u,{configurable:!0,value:n})}},function(e,t){e.exports={}},function(e,t,i){var a=i(28),o=i(88);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u,d=!1,n={};try{(u=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),d=n instanceof Array}catch{}return function(k,j){return a(k),o(j),d?u.call(k,j):k.__proto__=j,k}}():void 0)},function(e,t,i){var a=i(22);e.exports=function(o){if(!a(o)&&o!==null)throw TypeError("Can't set "+String(o)+" as a prototype");return o}},function(e,t,i){var a=i(10),o=i(90);a({target:"Array",stat:!0,forced:!i(97)(function(u){Array.from(u)})},{from:o})},function(e,t,i){var a=i(62),o=i(83),u=i(91),d=i(92),n=i(47),k=i(93),j=i(94);e.exports=function(N){var z,H,Y,I,B,U,T=o(N),C=typeof this=="function"?this:Array,P=arguments.length,G=1<P?arguments[1]:void 0,q=G!==void 0,N=j(T),ne=0;if(q&&(G=a(G,2<P?arguments[2]:void 0,2)),N==null||C==Array&&d(N))for(H=new C(z=n(T.length));ne<z;ne++)U=q?G(T[ne],ne):T[ne],k(H,ne,U);else for(B=(I=N.call(T)).next,H=new C;!(Y=B.call(I)).done;ne++)U=q?u(I,G,[Y.value,ne],!0):Y.value,k(H,ne,U);return H.length=ne,H}},function(e,t,i){var a=i(28);e.exports=function(o,u,d,n){try{return n?u(a(d)[0],d[1]):u(d)}catch(k){throw d=o.return,d!==void 0&&a(d.call(o)),k}}},function(e,t,i){var a=i(57),o=i(86),u=a("iterator"),d=Array.prototype;e.exports=function(n){return n!==void 0&&(o.Array===n||d[u]===n)}},function(e,t,i){var a=i(21),o=i(27),u=i(16);e.exports=function(d,n,k){n=a(n),n in d?o.f(d,n,u(0,k)):d[n]=k}},function(e,t,i){var a=i(95),o=i(86),u=i(57)("iterator");e.exports=function(d){if(d!=null)return d[u]||d["@@iterator"]||o[a(d)]}},function(e,t,i){var a=i(96),o=i(19),u=i(57)("toStringTag"),d=o(function(){return arguments}())=="Arguments";e.exports=a?o:function(n){var k;return n===void 0?"Undefined":n===null?"Null":typeof(n=function(j,Z){try{return j[Z]}catch{}}(k=Object(n),u))=="string"?n:d?o(k):(n=o(k))=="Object"&&typeof k.callee=="function"?"Arguments":n}},function(e,t,i){var a={};a[i(57)("toStringTag")]="z",e.exports=String(a)==="[object z]"},function(e,t,i){var a=i(57)("iterator"),o=!1;try{var u=0,d={next:function(){return{done:!!u++}},return:function(){o=!0}};d[a]=function(){return this},Array.from(d,function(){throw 2})}catch{}e.exports=function(n,k){if(!k&&!o)return!1;var j=!1;try{var Z={};Z[a]=function(){return{next:function(){return{done:j=!0}}}},n(Z)}catch{}return j}},function(e,t,i){i(99),i=i(43),e.exports=i.Object.assign},function(e,t,o){var a=o(10),o=o(100);a({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(e,t,i){var a=i(13),o=i(14),u=i(73),d=i(51),n=i(15),k=i(83),j=i(18),Z=Object.assign,z=Object.defineProperty;e.exports=!Z||o(function(){if(a&&Z({b:1},Z(z({},"a",{enumerable:!0,get:function(){z(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var H={},Y={},I=Symbol(),B="abcdefghijklmnopqrst";return H[I]=7,B.split("").forEach(function(U){Y[U]=U}),Z({},H)[I]!=7||u(Z({},Y)).join("")!=B})?function(H,Y){for(var I=k(H),B=arguments.length,U=1,T=d.f,C=n.f;U<B;)for(var P,G=j(arguments[U++]),q=T?u(G).concat(T(G)):u(G),N=q.length,ne=0;ne<N;)P=q[ne++],a&&!C.call(G,P)||(I[P]=G[P]);return I}:Z},function(e,t,i){i(102),i=i(43),e.exports=i.Math.log2},function(e,t,a){var a=a(10),o=Math.log,u=Math.LN2;a({target:"Math",stat:!0},{log2:function(d){return o(d)/u}})},function(e,t,i){i(104),i=i(43),e.exports=i.Number.isNaN},function(e,t,i){i(10)({target:"Number",stat:!0},{isNaN:function(a){return a!=a}})},function(e,t,i){i(106),i=i(43),e.exports=i.Number.isInteger},function(e,t,i){i(10)({target:"Number",stat:!0},{isInteger:i(107)})},function(e,t,i){var a=i(22),o=Math.floor;e.exports=function(u){return!a(u)&&isFinite(u)&&o(u)===u}},function(e,t,i){i(109)},function(e,t,o){var n=o(110),a=o(112),o=o(14),u=n.aTypedArray,d=n.aTypedArrayConstructor,n=n.exportTypedArrayMethod,k=[].slice;n("slice",function(j,Z){for(var z=k.call(u(this),j,Z),Z=a(this,this.constructor),H=0,Y=z.length,I=new(d(Z))(Y);H<Y;)I[H]=z[H++];return I},o(function(){new Int8Array(1).slice()}))},function(e,t,C){function a(g){return n(g)&&k(w,j(g))}var o,E=C(111),u=C(13),d=C(11),n=C(22),k=C(23),j=C(95),Z=C(26),z=C(29),H=C(27).f,Y=C(82),I=C(87),ne=C(57),B=C(38),U=d.Int8Array,T=U&&U.prototype,q=d.Uint8ClampedArray,C=q&&q.prototype,P=U&&Y(U),G=T&&Y(T),q=Object.prototype,N=q.isPrototypeOf,ne=ne("toStringTag"),K=B("TYPED_ARRAY_TAG"),L=E&&!!I&&j(d.opera)!=="Opera",E=!1,w={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(o in w)d[o]||(L=!1);if((!L||typeof P!="function"||P===Function.prototype)&&(P=function(){throw TypeError("Incorrect invocation")},L))for(o in w)d[o]&&I(d[o],P);if((!L||!G||G===q)&&(G=P.prototype,L))for(o in w)d[o]&&I(d[o].prototype,G);if(L&&Y(C)!==G&&I(C,G),u&&!k(G,ne))for(o in E=!0,H(G,ne,{get:function(){return n(this)?this[K]:void 0}}),w)d[o]&&Z(d[o],K,o);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:L,TYPED_ARRAY_TAG:E&&K,aTypedArray:function(g){if(a(g))return g;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(g){if(I){if(N.call(P,g))return g}else for(var A in w)if(k(w,o)&&(A=d[A],A&&(g===A||N.call(A,g))))return g;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(g,A,m){if(u){if(m)for(var y in w)y=d[y],y&&k(y.prototype,g)&&delete y.prototype[g];G[g]&&!m||z(G,g,!m&&L&&T[g]||A)}},exportTypedArrayStaticMethod:function(g,A,m){var y,x;if(u){if(I){if(m)for(y in w)(x=d[y])&&k(x,g)&&delete x[g];if(P[g]&&!m)return;try{return z(P,g,!m&&L&&U[g]||A)}catch{}}for(y in w)!(x=d[y])||x[g]&&!m||z(x,g,A)}},isView:function(g){return g=j(g),g==="DataView"||k(w,g)},isTypedArray:a,TypedArray:P,TypedArrayPrototype:G}},function(e,t){e.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},function(e,t,i){var a=i(28),o=i(63),u=i(57)("species");e.exports=function(j,n){var k,j=a(j).constructor;return j===void 0||(k=a(j)[u])==null?n:o(k)}},function(e,t,i){i(114),i(77),i(116),i(119),i(134),i(135),i=i(43),e.exports=i.Promise},function(e,t,u){var a=u(96),o=u(29),u=u(115);a||o(Object.prototype,"toString",u,{unsafe:!0})},function(e,t,i){var a=i(96),o=i(95);e.exports=a?{}.toString:function(){return"[object "+o(this)+"]"}},function(e,t,k){var a,o=k(11),u=k(117),d=k(118),n=k(26),k=k(57),j=k("iterator"),Z=k("toStringTag"),z=d.values;for(a in u){var H=o[a],Y=H&&H.prototype;if(Y){if(Y[j]!==z)try{n(Y,j,z)}catch{Y[j]=z}if(Y[Z]||n(Y,Z,a),u[a]){for(var I in d)if(Y[I]!==d[I])try{n(Y,I,d[I])}catch{Y[I]=d[I]}}}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var a=n(17),o=n(70),u=n(86),d=n(33),n=n(79),k="Array Iterator",j=d.set,Z=d.getterFor(k);e.exports=n(Array,"Array",function(z,H){j(this,{type:k,target:a(z),index:0,kind:H})},function(){var z=Z(this),H=z.target,Y=z.kind,I=z.index++;return!H||I>=H.length?{value:z.target=void 0,done:!0}:Y=="keys"?{value:I,done:!1}:Y=="values"?{value:H[I],done:!1}:{value:[I,H[I]],done:!1}},"values"),u.Arguments=u.Array,o("keys"),o("values"),o("entries")},function(e,t,i){var a,o,u,d,n=i(10),k=i(37),j=i(11),Z=i(42),z=i(120),H=i(29),Y=i(121),I=i(85),B=i(122),U=i(22),T=i(63),C=i(123),P=i(19),G=i(31),q=i(124),Ge=i(97),N=i(112),ne=i(125).set,K=i(128),L=i(129),E=i(131),w=i(130),g=i(132),A=i(33),De=i(52),m=i(57),y=i(133),x=m("species"),M="Promise",X=A.get,re=A.set,ee=A.getterFor(M),he=z,ye=j.TypeError,Ce=j.document,oe=j.process,de=Z("fetch"),fe=w.f,ue=fe,pe=P(oe)=="process",te=!!(Ce&&Ce.createEvent&&j.dispatchEvent),ge="unhandledrejection",xe="rejectionhandled",ce=1,we=2,Ae=1,Fe=2,De=De(M,function(){if(G(he)===String(he)&&(y===66||!pe&&typeof PromiseRejectionEvent!="function")||k&&!he.prototype.finally)return!0;if(51<=y&&/native code/.test(he))return!1;function Je(ht){ht(function(){},function(){})}var st=he.resolve(1);return(st.constructor={})[x]=Je,!(st.then(function(){})instanceof Je)}),Ge=De||!Ge(function(Je){he.all(Je).catch(function(){})}),ct=function(Je){var st;return!(!U(Je)||typeof(st=Je.then)!="function")&&st},ot=function(Je,st,ht){var Ke;st.notified||(st.notified=!0,Ke=st.reactions,K(function(){for(var At,Et,Wt=st.value,fi=st.state==ce,ei=0;Ke.length>ei;){var hi,vi,zi,Ji=Ke[ei++],cr=fi?Ji.ok:Ji.fail,Yr=Ji.resolve,Cr=Ji.reject,jr=Ji.domain;try{cr?(fi||(st.rejection===Fe&&function(or,Sn){ne.call(j,function(){pe?oe.emit("rejectionHandled",or):Qe(xe,or,Sn.value)})}(Je,st),st.rejection=Ae),cr===!0?hi=Wt:(jr&&jr.enter(),hi=cr(Wt),jr&&(jr.exit(),zi=!0)),hi===Ji.promise?Cr(ye("Promise-chain cycle")):(vi=ct(hi))?vi.call(hi,Yr,Cr):Yr(hi)):Cr(Wt)}catch(or){jr&&!zi&&jr.exit(),Cr(or)}}st.reactions=[],st.notified=!1,ht&&!st.rejection&&(At=Je,Et=st,ne.call(j,function(){var or,Sn=Et.value,Nn=Ie(Et);if(Nn&&(or=g(function(){pe?oe.emit("unhandledRejection",Sn,At):Qe(ge,At,Sn)}),Et.rejection=pe||Ie(Et)?Fe:Ae,or.error))throw or.value}))}))},Qe=function(Je,st,ht){var Ke;te?((Ke=Ce.createEvent("Event")).promise=st,Ke.reason=ht,Ke.initEvent(Je,!1,!0),j.dispatchEvent(Ke)):Ke={promise:st,reason:ht},(st=j["on"+Je])?st(Ke):Je===ge&&E("Unhandled promise rejection",ht)},Ie=function(Je){return Je.rejection!==Ae&&!Je.parent},Ue=function(Je,st,ht,Ke){return function(At){Je(st,ht,At,Ke)}},He=function(Je,st,ht,Ke){st.done||(st.done=!0,(st=Ke||st).value=ht,st.state=we,ot(Je,st,!0))},it=function(Je,st,ht,Ke){if(!st.done){st.done=!0,Ke&&(st=Ke);try{if(Je===ht)throw ye("Promise can't be resolved itself");var At=ct(ht);At?K(function(){var Et={done:!1};try{At.call(ht,Ue(it,Je,Et,st),Ue(He,Je,Et,st))}catch(Wt){He(Je,Et,Wt,st)}}):(st.value=ht,st.state=ce,ot(Je,st,!1))}catch(Et){He(Je,{done:!1},Et,st)}}};De&&(he=function(Je){C(this,he,M),T(Je),a.call(this);var st=X(this);try{Je(Ue(it,this,st),Ue(He,this,st))}catch(ht){He(this,st,ht)}},(a=function(Je){re(this,{type:M,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Y(he.prototype,{then:function(Je,st){var ht=ee(this),Ke=fe(N(this,he));return Ke.ok=typeof Je!="function"||Je,Ke.fail=typeof st=="function"&&st,Ke.domain=pe?oe.domain:void 0,ht.parent=!0,ht.reactions.push(Ke),ht.state!=0&&ot(this,ht,!1),Ke.promise},catch:function(Je){return this.then(void 0,Je)}}),o=function(){var Je=new a,st=X(Je);this.promise=Je,this.resolve=Ue(it,Je,st),this.reject=Ue(He,Je,st)},w.f=fe=function(Je){return Je===he||Je===u?new o:ue(Je)},k||typeof z!="function"||(d=z.prototype.then,H(z.prototype,"then",function(Je,st){var ht=this;return new he(function(Ke,At){d.call(ht,Ke,At)}).then(Je,st)},{unsafe:!0}),typeof de=="function"&&n({global:!0,enumerable:!0,forced:!0},{fetch:function(Je){return L(he,de.apply(j,arguments))}}))),n({global:!0,wrap:!0,forced:De},{Promise:he}),I(he,M,!1,!0),B(M),u=Z(M),n({target:M,stat:!0,forced:De},{reject:function(Je){var st=fe(this);return st.reject.call(void 0,Je),st.promise}}),n({target:M,stat:!0,forced:k||De},{resolve:function(Je){return L(k&&this===u?he:this,Je)}}),n({target:M,stat:!0,forced:Ge},{all:function(Je){var st=this,ht=fe(st),Ke=ht.resolve,At=ht.reject,Et=g(function(){var Wt=T(st.resolve),fi=[],ei=0,hi=1;q(Je,function(vi){var zi=ei++,Ji=!1;fi.push(void 0),hi++,Wt.call(st,vi).then(function(cr){Ji||(Ji=!0,fi[zi]=cr,--hi||Ke(fi))},At)}),--hi||Ke(fi)});return Et.error&&At(Et.value),ht.promise},race:function(Je){var st=this,ht=fe(st),Ke=ht.reject,At=g(function(){var Et=T(st.resolve);q(Je,function(Wt){Et.call(st,Wt).then(ht.resolve,Ke)})});return At.error&&Ke(At.value),ht.promise}})},function(e,t,i){i=i(11),e.exports=i.Promise},function(e,t,i){var a=i(29);e.exports=function(o,u,d){for(var n in u)a(o,n,u[n],d);return o}},function(e,t,i){var a=i(42),o=i(27),u=i(57),d=i(13),n=u("species");e.exports=function(Z){var j=a(Z),Z=o.f;d&&j&&!j[n]&&Z(j,n,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(i,a,o){if(!(i instanceof a))throw TypeError("Incorrect "+(o?o+" ":"")+"invocation");return i}},function(e,t,i){function a(Z,z){this.stopped=Z,this.result=z}var o=i(28),u=i(92),d=i(47),n=i(62),k=i(94),j=i(91);(e.exports=function(Z,z,H,Y,I){var B,U,T,C,P,G,q=n(z,H,Y?2:1);if(I)B=Z;else{if(typeof(I=k(Z))!="function")throw TypeError("Target is not iterable");if(u(I)){for(U=0,T=d(Z.length);U<T;U++)if((C=Y?q(o(G=Z[U])[0],G[1]):q(Z[U]))&&C instanceof a)return C;return new a(!1)}B=I.call(Z)}for(P=B.next;!(G=P.call(B)).done;)if(typeof(C=j(B,q,G.value,Y))=="object"&&C&&C instanceof a)return C;return new a(!1)}).stop=function(Z){return new a(!0,Z)}},function(e,t,ne){function a(K){return function(){N(K)}}function o(K){N(K.data)}var u,d=ne(11),n=ne(14),k=ne(19),j=ne(62),Z=ne(74),z=ne(25),H=ne(126),Y=d.location,I=d.setImmediate,B=d.clearImmediate,U=d.process,T=d.MessageChannel,C=d.Dispatch,P=0,G={},q="onreadystatechange",N=function(K){var L;G.hasOwnProperty(K)&&(L=G[K],delete G[K],L())},ne=function(K){d.postMessage(K+"",Y.protocol+"//"+Y.host)};I&&B||(I=function(K){for(var L=[],E=1;E<arguments.length;)L.push(arguments[E++]);return G[++P]=function(){(typeof K=="function"?K:Function(K)).apply(void 0,L)},u(P),P},B=function(K){delete G[K]},k(U)=="process"?u=function(K){U.nextTick(a(K))}:C&&C.now?u=function(K){C.now(a(K))}:T&&!H?(T=(H=new T).port2,H.port1.onmessage=o,u=j(T.postMessage,T,1)):!d.addEventListener||typeof postMessage!="function"||d.importScripts||n(ne)||Y.protocol==="file:"?u=q in z("script")?function(K){Z.appendChild(z("script"))[q]=function(){Z.removeChild(this),N(K)}}:function(K){setTimeout(a(K),0)}:(u=ne,d.addEventListener("message",o,!1))),e.exports={set:I,clear:B}},function(e,t,i){i=i(127),e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},function(e,t,i){i=i(42),e.exports=i("navigator","userAgent")||""},function(e,t,T){var a,o,u,d,n,k,j,Z,z=T(11),P=T(12).f,H=T(19),Y=T(125).set,I=T(126),B=z.MutationObserver||z.WebKitMutationObserver,U=z.process,T=z.Promise,C=H(U)=="process",P=P(z,"queueMicrotask"),P=P&&P.value;P||(a=function(){var G,q;for(C&&(G=U.domain)&&G.exit();o;){q=o.fn,o=o.next;try{q()}catch(N){throw o?d():u=void 0,N}}u=void 0,G&&G.enter()},d=C?function(){U.nextTick(a)}:B&&!I?(n=!0,k=document.createTextNode(""),new B(a).observe(k,{characterData:!0}),function(){k.data=n=!n}):T&&T.resolve?(j=T.resolve(void 0),Z=j.then,function(){Z.call(j,a)}):function(){Y.call(z,a)}),e.exports=P||function(G){G={fn:G,next:void 0},u&&(u.next=G),o||(o=G,d()),u=G}},function(e,t,i){var a=i(28),o=i(22),u=i(130);e.exports=function(d,n){return a(d),o(n)&&n.constructor===d?n:(d=u.f(d),(0,d.resolve)(n),d.promise)}},function(e,t,i){function a(u){var d,n;this.promise=new u(function(k,j){if(d!==void 0||n!==void 0)throw TypeError("Bad Promise constructor");d=k,n=j}),this.resolve=o(d),this.reject=o(n)}var o=i(63);e.exports.f=function(u){return new a(u)}},function(e,t,i){var a=i(11);e.exports=function(o,u){var d=a.console;d&&d.error&&(arguments.length===1?d.error(o):d.error(o,u))}},function(e,t){e.exports=function(i){try{return{error:!1,value:i()}}catch(a){return{error:!0,value:a}}}},function(e,t,u){var a,o,d=u(11),u=u(127),d=d.process,d=d&&d.versions,d=d&&d.v8;d?o=(a=d.split("."))[0]+a[1]:u&&(!(a=u.match(/Edge\/(\d+)/))||74<=a[1])&&(a=u.match(/Chrome\/(\d+)/))&&(o=a[1]),e.exports=o&&+o},function(e,t,i){var a=i(10),o=i(63),u=i(130),d=i(132),n=i(124);a({target:"Promise",stat:!0},{allSettled:function(k){var j=this,Z=u.f(j),z=Z.resolve,H=Z.reject,Y=d(function(){var I=o(j.resolve),B=[],U=0,T=1;n(k,function(C){var P=U++,G=!1;B.push(void 0),T++,I.call(j,C).then(function(q){G||(G=!0,B[P]={status:"fulfilled",value:q},--T||z(B))},function(q){G||(G=!0,B[P]={status:"rejected",reason:q},--T||z(B))})}),--T||z(B)});return Y.error&&H(Y.value),Z.promise}})},function(e,t,Z){var a=Z(10),o=Z(37),u=Z(120),d=Z(14),n=Z(42),k=Z(112),j=Z(129),Z=Z(29);a({target:"Promise",proto:!0,real:!0,forced:!!u&&d(function(){u.prototype.finally.call({then:function(){}},function(){})})},{finally:function(z){var H=k(this,n("Promise")),Y=typeof z=="function";return this.then(Y?function(I){return j(H,z()).then(function(){return I})}:z,Y?function(I){return j(H,z()).then(function(){throw I})}:z)}}),o||typeof u!="function"||u.prototype.finally||Z(u.prototype,"finally",n("Promise").prototype.finally)},function(e,t,i){i(137),i(142),i(140),i=i(43),e.exports=i.URL},function(e,t,fn){fn(77);function a(Ze){var Vt,ri,ti,er;if(typeof Ze=="number"){for(Vt=[],ri=0;ri<4;ri++)Vt.unshift(Ze%256),Ze=g(Ze/256);return Vt.join(".")}if(typeof Ze!="object")return Ze;for(Vt="",ti=ge(Ze),ri=0;ri<8;ri++)er&&Ze[ri]===0||(er=er&&!1,ti===ri?(Vt+=ri?":":"::",er=!0):(Vt+=Ze[ri].toString(16),ri<7&&(Vt+=":")));return"["+Vt+"]"}function o(Ze){return!Ze.host||Ze.cannotBeABaseURL||Ze.scheme=="file"}function u(Ze,Vt,ri,ti){var er,oi,Ki,si=ri||it,gr=0,Vi="",nr=!1,Ur=!1,Rr=!1;for(ri||(Ze.scheme="",Ze.username="",Ze.password="",Ze.host=null,Ze.port=null,Ze.path=[],Ze.query=null,Ze.fragment=null,Ze.cannotBeABaseURL=!1,Vt=Vt.replace(ue,"")),Vt=Vt.replace(pe,""),er=C(Vt);gr<=er.length;){switch(oi=er[gr],si){case it:if(!oi||!X.test(oi)){if(ri)return y;si=st;continue}Vi+=oi.toLowerCase(),si=Je;break;case Je:if(oi&&(re.test(oi)||oi=="+"||oi=="-"||oi=="."))Vi+=oi.toLowerCase();else{if(oi!=":"){if(ri)return y;Vi="",si=st,gr=0;continue}if(ri&&(Ge(Ze)!=T(De,Vi)||Vi=="file"&&(ct(Ze)||Ze.port!==null)||Ze.scheme=="file"&&!Ze.host))return;if(Ze.scheme=Vi,ri)return void(Ge(Ze)&&De[Ze.scheme]==Ze.port&&(Ze.port=null));Vi="",Ze.scheme=="file"?si=Ji:Ge(Ze)&&ti&&ti.scheme==Ze.scheme?si=ht:Ge(Ze)?si=Wt:er[gr+1]=="/"?(si=Ke,gr++):(Ze.cannotBeABaseURL=!0,Ze.path.push(""),si=or)}break;case st:if(!ti||ti.cannotBeABaseURL&&oi!="#")return y;if(ti.cannotBeABaseURL&&oi=="#"){Ze.scheme=ti.scheme,Ze.path=ti.path.slice(),Ze.query=ti.query,Ze.fragment="",Ze.cannotBeABaseURL=!0,si=Nn;break}si=ti.scheme=="file"?Ji:At;continue;case ht:if(oi!="/"||er[gr+1]!="/"){si=At;continue}si=fi,gr++;break;case Ke:if(oi=="/"){si=ei;break}si=jr;continue;case At:if(Ze.scheme=ti.scheme,oi==n)Ze.username=ti.username,Ze.password=ti.password,Ze.host=ti.host,Ze.port=ti.port,Ze.path=ti.path.slice(),Ze.query=ti.query;else if(oi=="/"||oi=="\\"&&Ge(Ze))si=Et;else if(oi=="?")Ze.username=ti.username,Ze.password=ti.password,Ze.host=ti.host,Ze.port=ti.port,Ze.path=ti.path.slice(),Ze.query="",si=Sn;else{if(oi!="#"){Ze.username=ti.username,Ze.password=ti.password,Ze.host=ti.host,Ze.port=ti.port,Ze.path=ti.path.slice(),Ze.path.pop(),si=jr;continue}Ze.username=ti.username,Ze.password=ti.password,Ze.host=ti.host,Ze.port=ti.port,Ze.path=ti.path.slice(),Ze.query=ti.query,Ze.fragment="",si=Nn}break;case Et:if(!Ge(Ze)||oi!="/"&&oi!="\\"){if(oi!="/"){Ze.username=ti.username,Ze.password=ti.password,Ze.host=ti.host,Ze.port=ti.port,si=jr;continue}si=ei}else si=fi;break;case Wt:if(si=fi,oi!="/"||Vi.charAt(gr+1)!="/")continue;gr++;break;case fi:if(oi=="/"||oi=="\\")break;si=ei;continue;case ei:if(oi=="@"){nr&&(Vi="%40"+Vi);for(var nr=!0,zn=C(Vi),fa=0;fa<zn.length;fa++){var In=zn[fa];In!=":"||Rr?(In=Fe(In,Ae),Rr?Ze.password+=In:Ze.username+=In):Rr=!0}Vi=""}else if(oi==n||oi=="/"||oi=="?"||oi=="#"||oi=="\\"&&Ge(Ze)){if(nr&&Vi=="")return m;gr-=C(Vi).length+1,Vi="",si=hi}else Vi+=oi;break;case hi:case vi:if(ri&&Ze.scheme=="file"){si=Yr;continue}if(oi!=":"||Ur){if(oi==n||oi=="/"||oi=="?"||oi=="#"||oi=="\\"&&Ge(Ze)){if(Ge(Ze)&&Vi=="")return x;if(ri&&Vi==""&&(ct(Ze)||Ze.port!==null))return;if(Ki=te(Ze,Vi))return Ki;if(Vi="",si=Cr,ri)return;continue}oi=="["?Ur=!0:oi=="]"&&(Ur=!1),Vi+=oi}else{if(Vi=="")return x;if(Ki=te(Ze,Vi))return Ki;if(Vi="",si=zi,ri==vi)return}break;case zi:if(!ee.test(oi)){if(oi==n||oi=="/"||oi=="?"||oi=="#"||oi=="\\"&&Ge(Ze)||ri){if(Vi!=""){var ki=parseInt(Vi,10);if(65535<ki)return M;Ze.port=Ge(Ze)&&ki===De[Ze.scheme]?null:ki,Vi=""}if(ri)return;si=Cr;continue}return M}Vi+=oi;break;case Ji:if(Ze.scheme="file",oi=="/"||oi=="\\")si=cr;else{if(!ti||ti.scheme!="file"){si=jr;continue}if(oi==n)Ze.host=ti.host,Ze.path=ti.path.slice(),Ze.query=ti.query;else if(oi=="?")Ze.host=ti.host,Ze.path=ti.path.slice(),Ze.query="",si=Sn;else{if(oi!="#"){Qe(er.slice(gr).join(""))||(Ze.host=ti.host,Ze.path=ti.path.slice(),Ie(Ze)),si=jr;continue}Ze.host=ti.host,Ze.path=ti.path.slice(),Ze.query=ti.query,Ze.fragment="",si=Nn}}break;case cr:if(oi=="/"||oi=="\\"){si=Yr;break}ti&&ti.scheme=="file"&&!Qe(er.slice(gr).join(""))&&(ot(ti.path[0],!0)?Ze.path.push(ti.path[0]):Ze.host=ti.host),si=jr;continue;case Yr:if(oi==n||oi=="/"||oi=="\\"||oi=="?"||oi=="#"){if(!ri&&ot(Vi))si=jr;else if(Vi==""){if(Ze.host="",ri)return;si=Cr}else{if(Ki=te(Ze,Vi))return Ki;if(Ze.host=="localhost"&&(Ze.host=""),ri)return;Vi="",si=Cr}continue}Vi+=oi;break;case Cr:if(Ge(Ze)){if(si=jr,oi!="/"&&oi!="\\")continue}else if(ri||oi!="?")if(ri||oi!="#"){if(oi!=n&&(si=jr,oi!="/"))continue}else Ze.fragment="",si=Nn;else Ze.query="",si=Sn;break;case jr:if(oi==n||oi=="/"||oi=="\\"&&Ge(Ze)||!ri&&(oi=="?"||oi=="#")){if(He(Vi)?(Ie(Ze),oi=="/"||oi=="\\"&&Ge(Ze)||Ze.path.push("")):Ue(Vi)?oi=="/"||oi=="\\"&&Ge(Ze)||Ze.path.push(""):(Ze.scheme=="file"&&!Ze.path.length&&ot(Vi)&&(Ze.host&&(Ze.host=""),Vi=Vi.charAt(0)+":"),Ze.path.push(Vi)),Vi="",Ze.scheme=="file"&&(oi==n||oi=="?"||oi=="#"))for(;1<Ze.path.length&&Ze.path[0]==="";)Ze.path.shift();oi=="?"?(Ze.query="",si=Sn):oi=="#"&&(Ze.fragment="",si=Nn)}else Vi+=Fe(oi,we);break;case or:oi=="?"?(Ze.query="",si=Sn):oi=="#"?(Ze.fragment="",si=Nn):oi!=n&&(Ze.path[0]+=Fe(oi,xe));break;case Sn:ri||oi!="#"?oi!=n&&(oi=="'"&&Ge(Ze)?Ze.query+="%27":Ze.query+=oi=="#"?"%23":Fe(oi,xe)):(Ze.fragment="",si=Nn);break;case Nn:oi!=n&&(Ze.fragment+=Fe(oi,ce))}gr++}}function d(er){var Vt,ri=U(this,d,"URL"),ti=1<arguments.length?arguments[1]:void 0,er=String(er),oi=E(ri,{type:"URL"});if(ti!==void 0){if(ti instanceof d)Vt=w(ti);else if(si=u(Vt={},String(ti)))throw TypeError(si)}if(si=u(oi,er,null,Vt))throw TypeError(si);var Ki=oi.searchParams=new K,si=L(Ki);si.updateSearchParams(oi.query),si.updateURL=function(){oi.query=String(Ki)||null},z||(ri.href=Oa.call(ri),ri.origin=Ln.call(ri),ri.protocol=Ba.call(ri),ri.username=go.call(ri),ri.password=wt.call(ri),ri.host=We.call(ri),ri.hostname=nt.call(ri),ri.port=St.call(ri),ri.pathname=It.call(ri),ri.search=Tt.call(ri),ri.searchParams=Zt.call(ri),ri.hash=Lt.call(ri))}var n,k,j,Z=fn(10),z=fn(13),H=fn(138),Y=fn(11),I=fn(72),B=fn(29),U=fn(123),T=fn(23),Bt=fn(100),C=fn(90),P=fn(78).codeAt,G=fn(139),q=fn(85),N=fn(140),fn=fn(33),ne=Y.URL,K=N.URLSearchParams,L=N.getState,E=fn.set,w=fn.getterFor("URL"),g=Math.floor,A=Math.pow,m="Invalid authority",y="Invalid scheme",x="Invalid host",M="Invalid port",X=/[A-Za-z]/,re=/[\d+-.A-Za-z]/,ee=/\d/,he=/^(0x|0X)/,ye=/^[0-7]+$/,Ce=/^\d+$/,oe=/^[\dA-Fa-f]+$/,de=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,fe=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,ue=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,pe=/[\u0009\u000A\u000D]/g,te=function(Ze,Vt){var ri,ti,er;if(Vt.charAt(0)=="[")return Vt.charAt(Vt.length-1)=="]"&&(ri=function(oi){var Ki=[0,0,0,0,0,0,0,0],si=0,gr=null,Vi=0,nr,Ur,Rr,zn,fa,In,ki,an=function(){return oi.charAt(Vi)};if(an()==":"){if(oi.charAt(1)!=":")return;Vi+=2,si++,gr=si}for(;an();){if(si==8)return;if(an()==":"){if(gr!==null)return;Vi++,si++,gr=si;continue}for(nr=Ur=0;Ur<4&&oe.test(an());)nr=nr*16+parseInt(an(),16),Vi++,Ur++;if(an()=="."){if(Ur==0||(Vi-=Ur,si>6))return;for(Rr=0;an();){if(zn=null,Rr>0)if(an()=="."&&Rr<4)Vi++;else return;if(!ee.test(an()))return;for(;ee.test(an());){if(fa=parseInt(an(),10),zn===null)zn=fa;else{if(zn==0)return;zn=zn*10+fa}if(zn>255)return;Vi++}Ki[si]=Ki[si]*256+zn,Rr++,(Rr==2||Rr==4)&&si++}if(Rr!=4)return;break}else if(an()==":"){if(Vi++,!an())return}else if(an())return;Ki[si++]=nr}if(gr!==null)for(In=si-gr,si=7;si!=0&&In>0;)ki=Ki[si],Ki[si--]=Ki[gr+In-1],Ki[gr+--In]=ki;else if(si!=8)return;return Ki}(Vt.slice(1,-1)))?void(Ze.host=ri):x;if(Ge(Ze))return Vt=G(Vt),de.test(Vt)||(ri=function(oi){var Ki=oi.split("."),si,gr,Vi,nr,Ur,Rr,zn;if(Ki.length&&Ki[Ki.length-1]==""&&Ki.pop(),(si=Ki.length)>4)return oi;for(gr=[],Vi=0;Vi<si;Vi++){if(nr=Ki[Vi],nr=="")return oi;if(Ur=10,nr.length>1&&nr.charAt(0)=="0"&&(Ur=he.test(nr)?16:8,nr=nr.slice(Ur==8?1:2)),nr==="")Rr=0;else{if(!(Ur==10?Ce:Ur==8?ye:oe).test(nr))return oi;Rr=parseInt(nr,Ur)}gr.push(Rr)}for(Vi=0;Vi<si;Vi++)if(Rr=gr[Vi],Vi==si-1){if(Rr>=A(256,5-si))return null}else if(Rr>255)return null;for(zn=gr.pop(),Vi=0;Vi<gr.length;Vi++)zn+=gr[Vi]*A(256,3-Vi);return zn}(Vt))===null?x:void(Ze.host=ri);if(fe.test(Vt))return x;for(ri="",ti=C(Vt),er=0;er<ti.length;er++)ri+=Fe(ti[er],xe);Ze.host=ri},ge=function(Ze){for(var Vt=null,ri=1,ti=null,er=0,oi=0;oi<8;oi++)Ze[oi]!==0?(ri<er&&(Vt=ti,ri=er),ti=null,er=0):(ti===null&&(ti=oi),++er);return ri<er&&(Vt=ti,ri=er),Vt},xe={},ce=Bt({},xe,{" ":1,'"':1,"<":1,">":1,"`":1}),we=Bt({},ce,{"#":1,"?":1,"{":1,"}":1}),Ae=Bt({},we,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Fe=function(Ze,Vt){var ri=P(Ze,0);return 32<ri&&ri<127&&!T(Vt,Ze)?Ze:encodeURIComponent(Ze)},De={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ge=function(Ze){return T(De,Ze.scheme)},ct=function(Ze){return Ze.username!=""||Ze.password!=""},ot=function(Ze,Vt){return Ze.length==2&&X.test(Ze.charAt(0))&&((Ze=Ze.charAt(1))==":"||!Vt&&Ze=="|")},Qe=function(Ze){var Vt;return 1<Ze.length&&ot(Ze.slice(0,2))&&(Ze.length==2||(Vt=Ze.charAt(2))==="/"||Vt==="\\"||Vt==="?"||Vt==="#")},Ie=function(Ze){var Vt=Ze.path,ri=Vt.length;!ri||Ze.scheme=="file"&&ri==1&&ot(Vt[0],!0)||Vt.pop()},Ue=function(Ze){return Ze==="."||Ze.toLowerCase()==="%2e"},He=function(Ze){return(Ze=Ze.toLowerCase())===".."||Ze==="%2e."||Ze===".%2e"||Ze==="%2e%2e"},it={},Je={},st={},ht={},Ke={},At={},Et={},Wt={},fi={},ei={},hi={},vi={},zi={},Ji={},cr={},Yr={},Cr={},jr={},or={},Sn={},Nn={},fn=d.prototype,Oa=function(){var Ze=w(this),Vt=Ze.scheme,ri=Ze.username,ti=Ze.password,er=Ze.host,oi=Ze.port,Ki=Ze.path,si=Ze.query,gr=Ze.fragment,Vi=Vt+":";return er!==null?(Vi+="//",ct(Ze)&&(Vi+=ri+(ti?":"+ti:"")+"@"),Vi+=a(er),oi!==null&&(Vi+=":"+oi)):Vt=="file"&&(Vi+="//"),Vi+=Ze.cannotBeABaseURL?Ki[0]:Ki.length?"/"+Ki.join("/"):"",si!==null&&(Vi+="?"+si),gr!==null&&(Vi+="#"+gr),Vi},Ln=function(){var Ze=w(this),Vt=Ze.scheme,ri=Ze.port;if(Vt=="blob")try{return new URL(Vt.path[0]).origin}catch{return"null"}return Vt!="file"&&Ge(Ze)?Vt+"://"+a(Ze.host)+(ri!==null?":"+ri:""):"null"},Ba=function(){return w(this).scheme+":"},go=function(){return w(this).username},wt=function(){return w(this).password},We=function(){var Vt=w(this),Ze=Vt.host,Vt=Vt.port;return Ze===null?"":Vt===null?a(Ze):a(Ze)+":"+Vt},nt=function(){var Ze=w(this).host;return Ze===null?"":a(Ze)},St=function(){var Ze=w(this).port;return Ze===null?"":String(Ze)},It=function(){var Ze=w(this),Vt=Ze.path;return Ze.cannotBeABaseURL?Vt[0]:Vt.length?"/"+Vt.join("/"):""},Tt=function(){var Ze=w(this).query;return Ze?"?"+Ze:""},Zt=function(){return w(this).searchParams},Lt=function(){var Ze=w(this).fragment;return Ze?"#"+Ze:""},Bt=function(Ze,Vt){return{get:Ze,set:Vt,configurable:!0,enumerable:!0}};z&&I(fn,{href:Bt(Oa,function(ri){var Vt=w(this),ri=String(ri),ri=u(Vt,ri);if(ri)throw TypeError(ri);L(Vt.searchParams).updateSearchParams(Vt.query)}),origin:Bt(Ln),protocol:Bt(Ba,function(Ze){var Vt=w(this);u(Vt,String(Ze)+":",it)}),username:Bt(go,function(Ze){var Vt=w(this),ri=C(String(Ze));if(!o(Vt)){Vt.username="";for(var ti=0;ti<ri.length;ti++)Vt.username+=Fe(ri[ti],Ae)}}),password:Bt(wt,function(Ze){var Vt=w(this),ri=C(String(Ze));if(!o(Vt)){Vt.password="";for(var ti=0;ti<ri.length;ti++)Vt.password+=Fe(ri[ti],Ae)}}),host:Bt(We,function(Ze){var Vt=w(this);Vt.cannotBeABaseURL||u(Vt,String(Ze),hi)}),hostname:Bt(nt,function(Ze){var Vt=w(this);Vt.cannotBeABaseURL||u(Vt,String(Ze),vi)}),port:Bt(St,function(Ze){var Vt=w(this);o(Vt)||((Ze=String(Ze))==""?Vt.port=null:u(Vt,Ze,zi))}),pathname:Bt(It,function(Ze){var Vt=w(this);Vt.cannotBeABaseURL||(Vt.path=[],u(Vt,Ze+"",Cr))}),search:Bt(Tt,function(Ze){var Vt=w(this);(Ze=String(Ze))==""?Vt.query=null:(Ze.charAt(0)=="?"&&(Ze=Ze.slice(1)),Vt.query="",u(Vt,Ze,Sn)),L(Vt.searchParams).updateSearchParams(Vt.query)}),searchParams:Bt(Zt),hash:Bt(Lt,function(Ze){var Vt=w(this);(Ze=String(Ze))!=""?(Ze.charAt(0)=="#"&&(Ze=Ze.slice(1)),Vt.fragment="",u(Vt,Ze,Nn)):Vt.fragment=null})}),B(fn,"toJSON",function(){return Oa.call(this)},{enumerable:!0}),B(fn,"toString",function(){return Oa.call(this)},{enumerable:!0}),ne&&(k=ne.createObjectURL,j=ne.revokeObjectURL,k&&B(d,"createObjectURL",function(Ze){return k.apply(ne,arguments)}),j&&B(d,"revokeObjectURL",function(Ze){return j.apply(ne,arguments)})),q(d,"URL"),Z({global:!0,forced:!H,sham:!z},{URL:d})},function(e,t,i){var a=i(14),o=i(57),u=i(37),d=o("iterator");e.exports=!a(function(){var n=new URL("b?a=1&b=2&c=3","http://a"),k=n.searchParams,j="";return n.pathname="c%20d",k.forEach(function(Z,z){k.delete("b"),j+=z+Z}),u&&!n.toJSON||!k.sort||n.href!=="http://a/c%20d?a=1&c=3"||k.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!k[d]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||j!=="a1c3"||new URL("http://x",void 0).host!=="x"})},function(e,t,i){function a(U){return U+22+75*(U<26)}function o(U){var T,C=[],P=(U=function(M){for(var X=[],re=0,ee=M.length;re<ee;){var he,ye=M.charCodeAt(re++);55296<=ye&&ye<=56319&&re<ee?(64512&(he=M.charCodeAt(re++)))==56320?X.push(((1023&ye)<<10)+(1023&he)+65536):(X.push(ye),re--):X.push(ye)}return X}(U)).length,G=128,q=0,N=72;for(E=0;E<U.length;E++)(T=U[E])<128&&C.push(B(T));var ne=C.length,K=ne;for(ne&&C.push("-");K<P;){for(var L=u,E=0;E<U.length;E++)G<=(T=U[E])&&T<L&&(L=T);var w=K+1;if(L-G>I((u-q)/w))throw RangeError(H);for(q+=(L-G)*w,G=L,E=0;E<U.length;E++){if((T=U[E])<G&&++q>u)throw RangeError(H);if(T==G){for(var g=q,A=d;;A+=d){var m=A<=N?1:N+n<=A?n:A-N;if(g<m)break;var y=g-m,x=d-m;C.push(B(a(m+y%x))),g=I(y/x)}C.push(B(a(g))),N=function(M,X,re){var ee=0;for(M=re?I(M/j):M>>1,M+=I(M/X);Y*n>>1<M;ee+=d)M=I(M/Y);return I(ee+(Y+1)*M/(M+k))}(q,w,K==ne),q=0,++K}}++q,++G}return C.join("")}var u=2147483647,d=36,n=26,k=38,j=700,Z=/[^\0-\u007E]/,z=/[.\u3002\uFF0E\uFF61]/g,H="Overflow: input needs wider integers to process",Y=d-1,I=Math.floor,B=String.fromCharCode;e.exports=function(U){for(var T,C=[],P=U.toLowerCase().replace(z,".").split("."),G=0;G<P.length;G++)T=P[G],C.push(Z.test(T)?"xn--"+o(T):T);return C.join(".")}},function(e,t,g){g(118);function a(fe){try{return decodeURIComponent(fe)}catch{return fe}}function o(fe){return ye[fe]}function u(fe){return encodeURIComponent(fe).replace(he,o)}function d(fe){this.entries.length=0,Ce(this.entries,fe)}function n(fe,ue){if(fe<ue)throw TypeError("Not enough arguments")}function k(){U(this,k,A);var fe,ue,pe,te,ge,xe,ce,we,Ae=0<arguments.length?arguments[0]:void 0,Fe=[];if(y(this,{type:A,entries:Fe,updateURL:function(){},updateSearchParams:d}),Ae!==void 0)if(q(Ae))if(typeof(fe=L(Ae))=="function")for(pe=(ue=fe.call(Ae)).next;!(xe=pe.call(ue)).done;){if((xe=(ge=(te=K(G(xe.value))).next).call(te)).done||(ce=ge.call(te)).done||!ge.call(te).done)throw TypeError("Expected sequence with length 2");Fe.push({key:xe.value+"",value:ce.value+""})}else for(we in Ae)T(Ae,we)&&Fe.push({key:we,value:Ae[we]+""});else Ce(Fe,typeof Ae=="string"?Ae.charAt(0)==="?"?Ae.slice(1):Ae:Ae+"")}var j=g(10),Z=g(42),z=g(138),H=g(29),Y=g(121),I=g(85),de=g(80),B=g(33),U=g(123),T=g(23),C=g(62),P=g(95),G=g(28),q=g(22),N=g(71),ne=g(16),K=g(141),L=g(94),g=g(57),E=Z("fetch"),w=Z("Headers"),g=g("iterator"),A="URLSearchParams",m=A+"Iterator",y=B.set,x=B.getterFor(A),M=B.getterFor(m),X=/\+/g,re=Array(4),ee=function(fe){var ue,pe=fe.replace(X," "),te=4;try{return decodeURIComponent(pe)}catch{for(;te;)pe=pe.replace((ue=te--,re[ue-1]||(re[ue-1]=RegExp("((?:%[\\da-f]{2}){"+ue+"})","gi"))),a);return pe}},he=/[!'()~]|%20/g,ye={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Ce=function(fe,ue){if(ue)for(var pe,te=ue.split("&"),ge=0;ge<te.length;)(pe=te[ge++]).length&&(pe=pe.split("="),fe.push({key:ee(pe.shift()),value:ee(pe.join("="))}))},oe=de(function(fe,ue){y(this,{type:m,iterator:K(x(fe).entries),kind:ue})},"Iterator",function(){var pe=M(this),fe=pe.kind,ue=pe.iterator.next(),pe=ue.value;return ue.done||(ue.value=fe==="keys"?pe.key:fe==="values"?pe.value:[pe.key,pe.value]),ue}),de=k.prototype;Y(de,{append:function(fe,ue){n(arguments.length,2);var pe=x(this);pe.entries.push({key:fe+"",value:ue+""}),pe.updateURL()},delete:function(fe){n(arguments.length,1);for(var ue=x(this),pe=ue.entries,te=fe+"",ge=0;ge<pe.length;)pe[ge].key===te?pe.splice(ge,1):ge++;ue.updateURL()},get:function(fe){n(arguments.length,1);for(var ue=x(this).entries,pe=fe+"",te=0;te<ue.length;te++)if(ue[te].key===pe)return ue[te].value;return null},getAll:function(fe){n(arguments.length,1);for(var ue=x(this).entries,pe=fe+"",te=[],ge=0;ge<ue.length;ge++)ue[ge].key===pe&&te.push(ue[ge].value);return te},has:function(fe){n(arguments.length,1);for(var ue=x(this).entries,pe=fe+"",te=0;te<ue.length;)if(ue[te++].key===pe)return!0;return!1},set:function(fe,ue){n(arguments.length,1);for(var pe,te=x(this),ge=te.entries,xe=!1,ce=fe+"",we=ue+"",Ae=0;Ae<ge.length;Ae++)(pe=ge[Ae]).key===ce&&(xe?ge.splice(Ae--,1):(xe=!0,pe.value=we));xe||ge.push({key:ce,value:we}),te.updateURL()},sort:function(){for(var fe,ue,pe=x(this),te=pe.entries,ge=te.slice(),xe=te.length=0;xe<ge.length;xe++){for(fe=ge[xe],ue=0;ue<xe;ue++)if(te[ue].key>fe.key){te.splice(ue,0,fe);break}ue===xe&&te.push(fe)}pe.updateURL()},forEach:function(fe){for(var ue,pe=x(this).entries,te=C(fe,1<arguments.length?arguments[1]:void 0,3),ge=0;ge<pe.length;)te((ue=pe[ge++]).value,ue.key,this)},keys:function(){return new oe(this,"keys")},values:function(){return new oe(this,"values")},entries:function(){return new oe(this,"entries")}},{enumerable:!0}),H(de,g,de.entries),H(de,"toString",function(){for(var fe,ue=x(this).entries,pe=[],te=0;te<ue.length;)fe=ue[te++],pe.push(u(fe.key)+"="+u(fe.value));return pe.join("&")},{enumerable:!0}),I(k,A),j({global:!0,forced:!z},{URLSearchParams:k}),z||typeof E!="function"||typeof w!="function"||j({global:!0,enumerable:!0,forced:!0},{fetch:function(fe){var ue,pe,te=[fe];return 1<arguments.length&&(q(ue=arguments[1])&&(pe=ue.body,P(pe)===A&&((fe=ue.headers?new w(ue.headers):new w).has("content-type")||fe.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ue=N(ue,{body:ne(0,String(pe)),headers:ne(0,fe)}))),te.push(ue)),E.apply(this,te)}}),e.exports={URLSearchParams:k,getState:x}},function(e,t,i){var a=i(28),o=i(94);e.exports=function(u){var d=o(u);if(typeof d!="function")throw TypeError(String(u)+" is not iterable");return a(d.call(u))}},function(e,t,i){i(10)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(e,t,i){(function(a){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:function(Se){return"Symbol("+Se+")"};function u(){}var d=Number.isNaN||function(Se){return Se!==Se},n=u;function k(Se){return typeof Se=="object"&&Se!==null||typeof Se=="function"}function j(Se){return Se.slice()}function Z(Se,$e,dt,ii,_i){new Uint8Array(Se).set(new Uint8Array(dt,ii,_i),$e)}function z(Se){return!(H(Se)===!1||Se===1/0)}function H(Se){return!(typeof Se!="number"||d(Se)||Se<0)}function Y(Se,$e,dt){if(typeof Se!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(Se,$e,dt)}function I(Se,$e,dt,ii){var _i=Se[$e];if(_i!==void 0){if(typeof _i!="function")throw new TypeError(_i+" is not a method");switch(dt){case 0:return function(){return U(_i,Se,ii)};case 1:return function(tr){var pr=[tr].concat(ii);return U(_i,Se,pr)}}}return function(){return E(void 0)}}function B(Se,$e,dt){var ii=Se[$e];if(ii!==void 0)return Y(ii,Se,dt)}function U(Se,$e,dt){try{return E(Y(Se,$e,dt))}catch(ii){return w(ii)}}function T(Se){return Se}function C(Se){return!1}function P(Se){if(Se=Number(Se),d(Se)||Se<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return Se}function G(Se){if(Se===void 0)return function(){return 1};if(typeof Se!="function")throw new TypeError("size property of a queuing strategy must be a function");return function($e){return Se($e)}}var q=Promise,N=Promise.prototype.then,ne=Promise.resolve.bind(q),K=Promise.reject.bind(q);function L(Se){return new q(Se)}function E(Se){return ne(Se)}function w(Se){return K(Se)}function g(Se,$e,dt){return N.call(Se,$e,dt)}function A(Se,$e,dt){g(g(Se,$e,dt),void 0,n)}function m(Se,$e){A(Se,$e)}function y(Se,$e){A(Se,void 0,$e)}function x(Se,$e,dt){return g(Se,$e,dt)}function M(Se){g(Se,void 0,n)}var X=16384,re=function(){function Se(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(Se.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0}),Se.prototype.push=function($e){var dt=this._back,ii=dt;dt._elements.length===X-1&&(ii={_elements:[],_next:void 0}),dt._elements.push($e),ii!==dt&&(this._back=ii,dt._next=ii),++this._size},Se.prototype.shift=function(){var $e=this._front,dt=$e,ii=this._cursor,_i=ii+1,tr=$e._elements,pr=tr[ii];return _i===X&&(dt=$e._next,_i=0),--this._size,this._cursor=_i,$e!==dt&&(this._front=dt),tr[ii]=void 0,pr},Se.prototype.forEach=function($e){for(var dt=this._cursor,ii=this._front,_i=ii._elements;(dt!==_i.length||ii._next!==void 0)&&!(dt===_i.length&&(ii=ii._next,_i=ii._elements,dt=0,_i.length===0));)$e(_i[dt]),++dt},Se.prototype.peek=function(){var $e=this._front,dt=this._cursor;return $e._elements[dt]},Se}();function ee(Se,$e,dt){var ii=null;dt===!0&&(ii=Object.prototype);var _i=Object.create(ii);return _i.value=Se,_i.done=$e,_i}function he(Se,$e){Se._forAuthorCode=!0,Se._ownerReadableStream=$e,$e._reader=Se,$e._state==="readable"?de(Se):$e._state==="closed"?ue(Se):fe(Se,$e._storedError)}function ye(Se,$e){var dt=Se._ownerReadableStream;return ao(dt,$e)}function Ce(Se){Se._ownerReadableStream._state==="readable"?pe(Se,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):te(Se,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),Se._ownerReadableStream._reader=void 0,Se._ownerReadableStream=void 0}function oe(Se){return new TypeError("Cannot "+Se+" a stream using a released reader")}function de(Se){Se._closedPromise=L(function($e,dt){Se._closedPromise_resolve=$e,Se._closedPromise_reject=dt})}function fe(Se,$e){de(Se),pe(Se,$e)}function ue(Se){de(Se),ge(Se)}function pe(Se,$e){M(Se._closedPromise),Se._closedPromise_reject($e),Se._closedPromise_resolve=void 0,Se._closedPromise_reject=void 0}function te(Se,$e){fe(Se,$e)}function ge(Se){Se._closedPromise_resolve(void 0),Se._closedPromise_resolve=void 0,Se._closedPromise_reject=void 0}var xe=o("[[CancelSteps]]"),ce=o("[[PullSteps]]");function we(Se,$e){$e===void 0&&($e=!1);var dt=new ct(Se);return dt._forAuthorCode=$e,dt}function Ae(Se){var $e=L(function(dt,ii){var _i={_resolve:dt,_reject:ii};Se._reader._readRequests.push(_i)});return $e}function Fe(Se,$e,dt){var ii=Se._reader,_i=ii._readRequests.shift();_i._resolve(ee($e,dt,ii._forAuthorCode))}function De(Se){return Se._reader._readRequests.length}function Ge(Se){var $e=Se._reader;return!($e===void 0||!Ie($e))}var ct=function(){function Se($e){if(qn($e)===!1)throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(xa($e)===!0)throw new TypeError("This stream has already been locked for exclusive reading by another reader");he(this,$e),this._readRequests=new re}return Object.defineProperty(Se.prototype,"closed",{get:function(){return Ie(this)?this._closedPromise:w(He("closed"))},enumerable:!0,configurable:!0}),Se.prototype.cancel=function($e){return Ie(this)?this._ownerReadableStream===void 0?w(oe("cancel")):ye(this,$e):w(He("cancel"))},Se.prototype.read=function(){return Ie(this)?this._ownerReadableStream===void 0?w(oe("read from")):Ue(this):w(He("read"))},Se.prototype.releaseLock=function(){if(!Ie(this))throw He("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");Ce(this)}},Se}(),ot,Qe;function Ie(Se){return!(!k(Se)||!Object.prototype.hasOwnProperty.call(Se,"_readRequests"))}function Ue(Se){var $e=Se._ownerReadableStream;return $e._disturbed=!0,$e._state==="closed"?E(ee(void 0,!0,Se._forAuthorCode)):$e._state==="errored"?w($e._storedError):$e._readableStreamController[ce]()}function He(Se){return new TypeError("ReadableStreamDefaultReader.prototype."+Se+" can only be used on a ReadableStreamDefaultReader")}typeof o.asyncIterator=="symbol"&&(Qe=(ot={},ot[o.asyncIterator]=function(){return this},ot),Object.defineProperty(Qe,o.asyncIterator,{enumerable:!1}));var it={next:function(){if(st(this)===!1)return w(ht("next"));var Se=this._asyncIteratorReader;return Se._ownerReadableStream===void 0?w(oe("iterate")):x(Ue(Se),function($e){var dt=$e.done;dt&&Ce(Se);var ii=$e.value;return ee(ii,dt,!0)})},return:function(Se){if(st(this)===!1)return w(ht("next"));var $e=this._asyncIteratorReader;if($e._ownerReadableStream===void 0)return w(oe("finish iterating"));if($e._readRequests.length>0)return w(new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(this._preventCancel===!1){var dt=ye($e,Se);return Ce($e),x(dt,function(){return ee(Se,!0,!0)})}return Ce($e),E(ee(Se,!0,!0))}};Qe!==void 0&&Object.setPrototypeOf(it,Qe);function Je(Se,$e){$e===void 0&&($e=!1);var dt=we(Se),ii=Object.create(it);return ii._asyncIteratorReader=dt,ii._preventCancel=!!$e,ii}function st(Se){return!(!k(Se)||!Object.prototype.hasOwnProperty.call(Se,"_asyncIteratorReader"))}function ht(Se){return new TypeError("ReadableStreamAsyncIterator."+Se+" can only be used on a ReadableSteamAsyncIterator")}function Ke(Se){var $e=Se._queue.shift();return Se._queueTotalSize-=$e.size,Se._queueTotalSize<0&&(Se._queueTotalSize=0),$e.value}function At(Se,$e,dt){if(dt=Number(dt),!z(dt))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");Se._queue.push({value:$e,size:dt}),Se._queueTotalSize+=dt}function Et(Se){var $e=Se._queue.peek();return $e.value}function Wt(Se){Se._queue=new re,Se._queueTotalSize=0}Object.defineProperty(it,"next",{enumerable:!1}),Object.defineProperty(it,"return",{enumerable:!1});var fi=o("[[AbortSteps]]"),ei=o("[[ErrorSteps]]"),hi=function(){function Se($e,dt){$e===void 0&&($e={}),dt===void 0&&(dt={}),Ji(this);var ii=dt.size,_i=dt.highWaterMark,tr=$e.type;if(tr!==void 0)throw new RangeError("Invalid type is specified");var pr=G(ii);_i===void 0&&(_i=1),_i=P(_i),nr(this,$e,_i,pr)}return Object.defineProperty(Se.prototype,"locked",{get:function(){if(cr(this)===!1)throw Wo("locked");return Yr(this)},enumerable:!0,configurable:!0}),Se.prototype.abort=function($e){return cr(this)===!1?w(Wo("abort")):Yr(this)===!0?w(new TypeError("Cannot abort a stream that already has a writer")):Cr(this,$e)},Se.prototype.close=function(){return cr(this)===!1?w(Wo("close")):Yr(this)===!0?w(new TypeError("Cannot close a stream that already has a writer")):wt(this)===!0?w(new TypeError("Cannot close an already-closing stream")):jr(this)},Se.prototype.getWriter=function(){if(cr(this)===!1)throw Wo("getWriter");return vi(this)},Se}();function vi(Se){return new Zt(Se)}function zi(Se,$e,dt,ii,_i,tr){_i===void 0&&(_i=1),tr===void 0&&(tr=function(){return 1});var pr=Object.create(hi.prototype);Ji(pr);var kr=Object.create(si.prototype);return Vi(pr,kr,Se,$e,dt,ii,_i,tr),pr}function Ji(Se){Se._state="writable",Se._storedError=void 0,Se._writer=void 0,Se._writableStreamController=void 0,Se._writeRequests=new re,Se._inFlightWriteRequest=void 0,Se._closeRequest=void 0,Se._inFlightCloseRequest=void 0,Se._pendingAbortRequest=void 0,Se._backpressure=!1}function cr(Se){return!(!k(Se)||!Object.prototype.hasOwnProperty.call(Se,"_writableStreamController"))}function Yr(Se){return Se._writer!==void 0}function Cr(Se,$e){var dt=Se._state;if(dt==="closed"||dt==="errored")return E(void 0);if(Se._pendingAbortRequest!==void 0)return Se._pendingAbortRequest._promise;var ii=!1;dt==="erroring"&&(ii=!0,$e=void 0);var _i=L(function(tr,pr){Se._pendingAbortRequest={_promise:void 0,_resolve:tr,_reject:pr,_reason:$e,_wasAlreadyErroring:ii}});return Se._pendingAbortRequest._promise=_i,ii===!1&&Nn(Se,$e),_i}function jr(Se){var $e=Se._state;if($e==="closed"||$e==="errored")return w(new TypeError("The stream (in "+$e+" state) is not in the writable state and cannot be closed"));var dt=L(function(_i,tr){var pr={_resolve:_i,_reject:tr};Se._closeRequest=pr}),ii=Se._writer;return ii!==void 0&&Se._backpressure===!0&&$e==="writable"&&Ra(ii),Rr(Se._writableStreamController),dt}function or(Se){var $e=L(function(dt,ii){var _i={_resolve:dt,_reject:ii};Se._writeRequests.push(_i)});return $e}function Sn(Se,$e){var dt=Se._state;if(dt==="writable"){Nn(Se,$e);return}fn(Se)}function Nn(Se,$e){var dt=Se._writableStreamController;Se._state="erroring",Se._storedError=$e;var ii=Se._writer;ii!==void 0&&ti(ii,$e),We(Se)===!1&&dt._started===!0&&fn(Se)}function fn(Se){Se._state="errored",Se._writableStreamController[ei]();var $e=Se._storedError;if(Se._writeRequests.forEach(function(_i){_i._reject($e)}),Se._writeRequests=new re,Se._pendingAbortRequest===void 0){It(Se);return}var dt=Se._pendingAbortRequest;if(Se._pendingAbortRequest=void 0,dt._wasAlreadyErroring===!0){dt._reject($e),It(Se);return}var ii=Se._writableStreamController[fi](dt._reason);A(ii,function(){dt._resolve(),It(Se)},function(_i){dt._reject(_i),It(Se)})}function Oa(Se){Se._inFlightWriteRequest._resolve(void 0),Se._inFlightWriteRequest=void 0}function Ln(Se,$e){Se._inFlightWriteRequest._reject($e),Se._inFlightWriteRequest=void 0,Sn(Se,$e)}function Ba(Se){Se._inFlightCloseRequest._resolve(void 0),Se._inFlightCloseRequest=void 0;var $e=Se._state;$e==="erroring"&&(Se._storedError=void 0,Se._pendingAbortRequest!==void 0&&(Se._pendingAbortRequest._resolve(),Se._pendingAbortRequest=void 0)),Se._state="closed";var dt=Se._writer;dt!==void 0&&Tr(dt)}function go(Se,$e){Se._inFlightCloseRequest._reject($e),Se._inFlightCloseRequest=void 0,Se._pendingAbortRequest!==void 0&&(Se._pendingAbortRequest._reject($e),Se._pendingAbortRequest=void 0),Sn(Se,$e)}function wt(Se){return!(Se._closeRequest===void 0&&Se._inFlightCloseRequest===void 0)}function We(Se){return!(Se._inFlightWriteRequest===void 0&&Se._inFlightCloseRequest===void 0)}function nt(Se){Se._inFlightCloseRequest=Se._closeRequest,Se._closeRequest=void 0}function St(Se){Se._inFlightWriteRequest=Se._writeRequests.shift()}function It(Se){Se._closeRequest!==void 0&&(Se._closeRequest._reject(Se._storedError),Se._closeRequest=void 0);var $e=Se._writer;$e!==void 0&&Fa($e,Se._storedError)}function Tt(Se,$e){var dt=Se._writer;dt!==void 0&&$e!==Se._backpressure&&($e===!0?An(dt):Ra(dt)),Se._backpressure=$e}var Zt=function(){function Se($e){if(cr($e)===!1)throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(Yr($e)===!0)throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=$e,$e._writer=this;var dt=$e._state;if(dt==="writable")wt($e)===!1&&$e._backpressure===!0?Lo(this):So(this),ir(this);else if(dt==="erroring")io(this,$e._storedError),ir(this);else if(dt==="closed")So(this),tn(this);else{var ii=$e._storedError;io(this,ii),qr(this,ii)}}return Object.defineProperty(Se.prototype,"closed",{get:function(){return Lt(this)===!1?w(Do("closed")):this._closedPromise},enumerable:!0,configurable:!0}),Object.defineProperty(Se.prototype,"desiredSize",{get:function(){if(Lt(this)===!1)throw Do("desiredSize");if(this._ownerWritableStream===void 0)throw ra("desiredSize");return er(this)},enumerable:!0,configurable:!0}),Object.defineProperty(Se.prototype,"ready",{get:function(){return Lt(this)===!1?w(Do("ready")):this._readyPromise},enumerable:!0,configurable:!0}),Se.prototype.abort=function($e){return Lt(this)===!1?w(Do("abort")):this._ownerWritableStream===void 0?w(ra("abort")):Bt(this,$e)},Se.prototype.close=function(){if(Lt(this)===!1)return w(Do("close"));var $e=this._ownerWritableStream;return $e===void 0?w(ra("close")):wt($e)===!0?w(new TypeError("Cannot close an already-closing stream")):Ze(this)},Se.prototype.releaseLock=function(){if(Lt(this)===!1)throw Do("releaseLock");var $e=this._ownerWritableStream;$e!==void 0&&oi(this)},Se.prototype.write=function($e){return Lt(this)===!1?w(Do("write")):this._ownerWritableStream===void 0?w(ra("write to")):Ki(this,$e)},Se}();function Lt(Se){return!(!k(Se)||!Object.prototype.hasOwnProperty.call(Se,"_ownerWritableStream"))}function Bt(Se,$e){var dt=Se._ownerWritableStream;return Cr(dt,$e)}function Ze(Se){var $e=Se._ownerWritableStream;return jr($e)}function Vt(Se){var $e=Se._ownerWritableStream,dt=$e._state;return wt($e)===!0||dt==="closed"?E(void 0):dt==="errored"?w($e._storedError):Ze(Se)}function ri(Se,$e){Se._closedPromiseState==="pending"?Fa(Se,$e):wo(Se,$e)}function ti(Se,$e){Se._readyPromiseState==="pending"?ua(Se,$e):Aa(Se,$e)}function er(Se){var $e=Se._ownerWritableStream,dt=$e._state;return dt==="errored"||dt==="erroring"?null:dt==="closed"?0:fa($e._writableStreamController)}function oi(Se){var $e=Se._ownerWritableStream,dt=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");ti(Se,dt),ri(Se,dt),$e._writer=void 0,Se._ownerWritableStream=void 0}function Ki(Se,$e){var dt=Se._ownerWritableStream,ii=dt._writableStreamController,_i=zn(ii,$e);if(dt!==Se._ownerWritableStream)return w(ra("write to"));var tr=dt._state;if(tr==="errored")return w(dt._storedError);if(wt(dt)===!0||tr==="closed")return w(new TypeError("The stream is closing or closed and cannot be written to"));if(tr==="erroring")return w(dt._storedError);var pr=or(dt);return In(ii,$e,_i),pr}var si=function(){function Se(){throw new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}return Se.prototype.error=function($e){if(gr(this)===!1)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");var dt=this._controlledWritableStream._state;dt==="writable"&&Ca(this,$e)},Se.prototype[fi]=function($e){var dt=this._abortAlgorithm($e);return Ur(this),dt},Se.prototype[ei]=function(){Wt(this)},Se}();function gr(Se){return!(!k(Se)||!Object.prototype.hasOwnProperty.call(Se,"_controlledWritableStream"))}function Vi(Se,$e,dt,ii,_i,tr,pr,kr){$e._controlledWritableStream=Se,Se._writableStreamController=$e,$e._queue=void 0,$e._queueTotalSize=void 0,Wt($e),$e._started=!1,$e._strategySizeAlgorithm=kr,$e._strategyHWM=pr,$e._writeAlgorithm=ii,$e._closeAlgorithm=_i,$e._abortAlgorithm=tr;var Gr=qo($e);Tt(Se,Gr);var Xt=dt(),Ei=E(Xt);A(Ei,function(){$e._started=!0,ki($e)},function(mi){$e._started=!0,Sn(Se,mi)})}function nr(Se,$e,dt,ii){var _i=Object.create(si.prototype);function tr(){return B($e,"start",[_i])}var pr=I($e,"write",1,[_i]),kr=I($e,"close",0,[]),Gr=I($e,"abort",1,[]);Vi(Se,_i,tr,pr,kr,Gr,dt,ii)}function Ur(Se){Se._writeAlgorithm=void 0,Se._closeAlgorithm=void 0,Se._abortAlgorithm=void 0,Se._strategySizeAlgorithm=void 0}function Rr(Se){At(Se,"close",0),ki(Se)}function zn(Se,$e){try{return Se._strategySizeAlgorithm($e)}catch(dt){return an(Se,dt),1}}function fa(Se){return Se._strategyHWM-Se._queueTotalSize}function In(Se,$e,dt){var ii={chunk:$e};try{At(Se,ii,dt)}catch(pr){an(Se,pr);return}var _i=Se._controlledWritableStream;if(wt(_i)===!1&&_i._state==="writable"){var tr=qo(Se);Tt(_i,tr)}ki(Se)}function ki(Se){var $e=Se._controlledWritableStream;if(Se._started!==!1&&$e._inFlightWriteRequest===void 0){var dt=$e._state;if(dt==="erroring"){fn($e);return}if(Se._queue.length!==0){var ii=Et(Se);ii==="close"?ta(Se):ia(Se,ii.chunk)}}}function an(Se,$e){Se._controlledWritableStream._state==="writable"&&Ca(Se,$e)}function ta(Se){var $e=Se._controlledWritableStream;nt($e),Ke(Se);var dt=Se._closeAlgorithm();Ur(Se),A(dt,function(){Ba($e)},function(ii){go($e,ii)})}function ia(Se,$e){var dt=Se._controlledWritableStream;St(dt);var ii=Se._writeAlgorithm($e);A(ii,function(){Oa(dt);var _i=dt._state;if(Ke(Se),wt(dt)===!1&&_i==="writable"){var tr=qo(Se);Tt(dt,tr)}ki(Se)},function(_i){dt._state==="writable"&&Ur(Se),Ln(dt,_i)})}function qo(Se){var $e=fa(Se);return $e<=0}function Ca(Se,$e){var dt=Se._controlledWritableStream;Ur(Se),Nn(dt,$e)}function Wo(Se){return new TypeError("WritableStream.prototype."+Se+" can only be used on a WritableStream")}function Do(Se){return new TypeError("WritableStreamDefaultWriter.prototype."+Se+" can only be used on a WritableStreamDefaultWriter")}function ra(Se){return new TypeError("Cannot "+Se+" a stream using a released writer")}function ir(Se){Se._closedPromise=L(function($e,dt){Se._closedPromise_resolve=$e,Se._closedPromise_reject=dt,Se._closedPromiseState="pending"})}function qr(Se,$e){ir(Se),Fa(Se,$e)}function tn(Se){ir(Se),Tr(Se)}function Fa(Se,$e){M(Se._closedPromise),Se._closedPromise_reject($e),Se._closedPromise_resolve=void 0,Se._closedPromise_reject=void 0,Se._closedPromiseState="rejected"}function wo(Se,$e){qr(Se,$e)}function Tr(Se){Se._closedPromise_resolve(void 0),Se._closedPromise_resolve=void 0,Se._closedPromise_reject=void 0,Se._closedPromiseState="resolved"}function Lo(Se){Se._readyPromise=L(function($e,dt){Se._readyPromise_resolve=$e,Se._readyPromise_reject=dt}),Se._readyPromiseState="pending"}function io(Se,$e){Lo(Se),ua(Se,$e)}function So(Se){Lo(Se),Ra(Se)}function ua(Se,$e){M(Se._readyPromise),Se._readyPromise_reject($e),Se._readyPromise_resolve=void 0,Se._readyPromise_reject=void 0,Se._readyPromiseState="rejected"}function An(Se){Lo(Se)}function Aa(Se,$e){io(Se,$e)}function Ra(Se){Se._readyPromise_resolve(void 0),Se._readyPromise_resolve=void 0,Se._readyPromise_reject=void 0,Se._readyPromiseState="fulfilled"}function Yo(Se){if(typeof Se!="object"||Se===null)return!1;try{return typeof Se.aborted=="boolean"}catch{return!1}}var ro=typeof DOMException<"u"?DOMException:void 0;function Xo(Se){if(!(typeof Se=="function"||typeof Se=="object"))return!1;try{return new Se,!0}catch{return!1}}function Zo(){var Se=function(dt,ii){this.message=dt||"",this.name=ii||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return Se.prototype=Object.create(Error.prototype),Object.defineProperty(Se.prototype,"constructor",{value:Se,writable:!0,configurable:!0}),Se}var Bo=Xo(ro)?ro:Zo();function Fo(Se,$e,dt,ii,_i,tr){var pr=we(Se),kr=vi($e);Se._disturbed=!0;var Gr=!1,Xt=E(void 0);return L(function(Ei,mi){var ar;if(tr!==void 0){if(ar=function(){var Gt=new Bo("Aborted","AbortError"),Mi=[];ii===!1&&Mi.push(function(){return $e._state==="writable"?Cr($e,Gt):E(void 0)}),_i===!1&&Mi.push(function(){return Se._state==="readable"?ao(Se,Gt):E(void 0)}),la(function(){return Promise.all(Mi.map(function(Qt){return Qt()}))},!0,Gt)},tr.aborted===!0){ar();return}tr.addEventListener("abort",ar)}function Fr(){return L(function(Gt,Mi){function Qt(wi){wi?Gt():g(hn(),Qt,Mi)}Qt(!1)})}function hn(){return Gr===!0?E(!0):g(kr._readyPromise,function(){return g(Ue(pr),function(Gt){return Gt.done===!0?!0:(Xt=g(Ki(kr,Gt.value),void 0,u),!1)})})}if(Ka(Se,pr._closedPromise,function(Gt){ii===!1?la(function(){return Cr($e,Gt)},!0,Gt):mt(!0,Gt)}),Ka($e,kr._closedPromise,function(Gt){_i===!1?la(function(){return ao(Se,Gt)},!0,Gt):mt(!0,Gt)}),To(Se,pr._closedPromise,function(){dt===!1?la(function(){return Vt(kr)}):mt()}),wt($e)===!0||$e._state==="closed"){var On=new TypeError("the destination writable stream closed before all data could be piped to it");_i===!1?la(function(){return ao(Se,On)},!0,On):mt(!0,On)}M(Fr());function Xr(){var Gt=Xt;return g(Xt,function(){return Gt!==Xt?Xr():void 0})}function Ka(Gt,Mi,Qt){Gt._state==="errored"?Qt(Gt._storedError):y(Mi,Qt)}function To(Gt,Mi,Qt){Gt._state==="closed"?Qt():m(Mi,Qt)}function la(Gt,Mi,Qt){if(Gr===!0)return;Gr=!0,$e._state==="writable"&&wt($e)===!1?m(Xr(),wi):wi();function wi(){A(Gt(),function(){return Nt(Mi,Qt)},function(Ui){return Nt(!0,Ui)})}}function mt(Gt,Mi){Gr!==!0&&(Gr=!0,$e._state==="writable"&&wt($e)===!1?m(Xr(),function(){return Nt(Gt,Mi)}):Nt(Gt,Mi))}function Nt(Gt,Mi){oi(kr),Ce(pr),tr!==void 0&&tr.removeEventListener("abort",ar),Gt?mi(Mi):Ei(void 0)}})}var As=function(){function Se(){throw new TypeError}return Object.defineProperty(Se.prototype,"desiredSize",{get:function(){if(Ko(this)===!1)throw Ao("desiredSize");return Ks(this)},enumerable:!0,configurable:!0}),Se.prototype.close=function(){if(Ko(this)===!1)throw Ao("close");if($n(this)===!1)throw new TypeError("The stream is not in a state that permits close");no(this)},Se.prototype.enqueue=function($e){if(Ko(this)===!1)throw Ao("enqueue");if($n(this)===!1)throw new TypeError("The stream is not in a state that permits enqueue");return na(this,$e)},Se.prototype.error=function($e){if(Ko(this)===!1)throw Ao("error");ma(this,$e)},Se.prototype[xe]=function($e){Wt(this);var dt=this._cancelAlgorithm($e);return ko(this),dt},Se.prototype[ce]=function(){var $e=this._controlledReadableStream;if(this._queue.length>0){var dt=Ke(this);return this._closeRequested===!0&&this._queue.length===0?(ko(this),oo($e)):pa(this),E(ee(dt,!1,$e._reader._forAuthorCode))}var ii=Ae($e);return pa(this),ii},Se}();function Ko(Se){return!(!k(Se)||!Object.prototype.hasOwnProperty.call(Se,"_controlledReadableStream"))}function pa(Se){var $e=Hn(Se);if($e!==!1){if(Se._pulling===!0){Se._pullAgain=!0;return}Se._pulling=!0;var dt=Se._pullAlgorithm();A(dt,function(){Se._pulling=!1,Se._pullAgain===!0&&(Se._pullAgain=!1,pa(Se))},function(ii){ma(Se,ii)})}}function Hn(Se){var $e=Se._controlledReadableStream;if($n(Se)===!1||Se._started===!1)return!1;if(xa($e)===!0&&De($e)>0)return!0;var dt=Ks(Se);return dt>0}function ko(Se){Se._pullAlgorithm=void 0,Se._cancelAlgorithm=void 0,Se._strategySizeAlgorithm=void 0}function no(Se){var $e=Se._controlledReadableStream;Se._closeRequested=!0,Se._queue.length===0&&(ko(Se),oo($e))}function na(Se,$e){var dt=Se._controlledReadableStream;if(xa(dt)===!0&&De(dt)>0)Fe(dt,$e,!1);else{var ii=void 0;try{ii=Se._strategySizeAlgorithm($e)}catch(_i){throw ma(Se,_i),_i}try{At(Se,$e,ii)}catch(_i){throw ma(Se,_i),_i}}pa(Se)}function ma(Se,$e){var dt=Se._controlledReadableStream;dt._state==="readable"&&(Wt(Se),ko(Se),js(dt,$e))}function Ks(Se){var $e=Se._controlledReadableStream,dt=$e._state;return dt==="errored"?null:dt==="closed"?0:Se._strategyHWM-Se._queueTotalSize}function Js(Se){return Hn(Se)!==!0}function $n(Se){var $e=Se._controlledReadableStream._state;return Se._closeRequested===!1&&$e==="readable"}function Jo(Se,$e,dt,ii,_i,tr,pr){$e._controlledReadableStream=Se,$e._queue=void 0,$e._queueTotalSize=void 0,Wt($e),$e._started=!1,$e._closeRequested=!1,$e._pullAgain=!1,$e._pulling=!1,$e._strategySizeAlgorithm=pr,$e._strategyHWM=tr,$e._pullAlgorithm=ii,$e._cancelAlgorithm=_i,Se._readableStreamController=$e;var kr=dt();A(E(kr),function(){$e._started=!0,pa($e)},function(Gr){ma($e,Gr)})}function Qs(Se,$e,dt,ii){var _i=Object.create(As.prototype);function tr(){return B($e,"start",[_i])}var pr=I($e,"pull",0,[_i]),kr=I($e,"cancel",1,[]);Jo(Se,_i,tr,pr,kr,dt,ii)}function Ao(Se){return new TypeError("ReadableStreamDefaultController.prototype."+Se+" can only be used on a ReadableStreamDefaultController")}function ga(Se,$e){var dt=we(Se),ii=!1,_i=!1,tr=!1,pr,kr,Gr,Xt,Ei,mi=L(function(Xr){Ei=Xr});function ar(){if(ii===!0)return E(void 0);ii=!0;var Xr=x(Ue(dt),function(Ka){ii=!1;var To=Ka.done;if(To===!0){_i===!1&&no(Gr._readableStreamController),tr===!1&&no(Xt._readableStreamController);return}var la=Ka.value,mt=la,Nt=la;_i===!1&&na(Gr._readableStreamController,mt),tr===!1&&na(Xt._readableStreamController,Nt)});return M(Xr),E(void 0)}function Fr(Xr){if(_i=!0,pr=Xr,tr===!0){var Ka=j([pr,kr]),To=ao(Se,Ka);Ei(To)}return mi}function hn(Xr){if(tr=!0,kr=Xr,_i===!0){var Ka=j([pr,kr]),To=ao(Se,Ka);Ei(To)}return mi}function On(){}return Gr=ba(On,ar,Fr),Xt=ba(On,ar,hn),y(dt._closedPromise,function(Xr){ma(Gr._readableStreamController,Xr),ma(Xt._readableStreamController,Xr)}),[Gr,Xt]}var Qo=Number.isInteger||function(Se){return typeof Se=="number"&&isFinite(Se)&&Math.floor(Se)===Se},el=function(){function Se(){throw new TypeError("ReadableStreamBYOBRequest cannot be used directly")}return Object.defineProperty(Se.prototype,"view",{get:function(){if(Cs(this)===!1)throw Cn("view");return this._view},enumerable:!0,configurable:!0}),Se.prototype.respond=function($e){if(Cs(this)===!1)throw Cn("respond");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");C(this._view.buffer),Pi(this._associatedReadableByteStreamController,$e)},Se.prototype.respondWithNewView=function($e){if(Cs(this)===!1)throw Cn("respond");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView($e))throw new TypeError("You can only respond with array buffer views");C($e.buffer),rr(this._associatedReadableByteStreamController,$e)},Se}(),vn=function(){function Se(){throw new TypeError("ReadableByteStreamController constructor cannot be used directly")}return Object.defineProperty(Se.prototype,"byobRequest",{get:function(){if(un(this)===!1)throw rn("byobRequest");if(this._byobRequest===void 0&&this._pendingPullIntos.length>0){var $e=this._pendingPullIntos.peek(),dt=new Uint8Array($e.buffer,$e.byteOffset+$e.bytesFilled,$e.byteLength-$e.bytesFilled),ii=Object.create(el.prototype);Vn(ii,this,dt),this._byobRequest=ii}return this._byobRequest},enumerable:!0,configurable:!0}),Object.defineProperty(Se.prototype,"desiredSize",{get:function(){if(un(this)===!1)throw rn("desiredSize");return xi(this)},enumerable:!0,configurable:!0}),Se.prototype.close=function(){if(un(this)===!1)throw rn("close");if(this._closeRequested===!0)throw new TypeError("The stream has already been closed; do not close it again!");var $e=this._controlledReadableByteStream._state;if($e!=="readable")throw new TypeError("The stream (in "+$e+" state) is not in the readable state and cannot be closed");ci(this)},Se.prototype.enqueue=function($e){if(un(this)===!1)throw rn("enqueue");if(this._closeRequested===!0)throw new TypeError("stream is closed or draining");var dt=this._controlledReadableByteStream._state;if(dt!=="readable")throw new TypeError("The stream (in "+dt+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView($e))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");C($e.buffer),Ii(this,$e)},Se.prototype.error=function($e){if(un(this)===!1)throw rn("error");Li(this,$e)},Se.prototype[xe]=function($e){if(this._pendingPullIntos.length>0){var dt=this._pendingPullIntos.peek();dt.bytesFilled=0}Wt(this);var ii=this._cancelAlgorithm($e);return Ft(this),ii},Se.prototype[ce]=function(){var $e=this._controlledReadableByteStream;if(this._queueTotalSize>0){var dt=this._queue.shift();this._queueTotalSize-=dt.byteLength,sa(this);var ii=void 0;try{ii=new Uint8Array(dt.buffer,dt.byteOffset,dt.byteLength)}catch(Gr){return w(Gr)}return E(ee(ii,!1,$e._reader._forAuthorCode))}var _i=this._autoAllocateChunkSize;if(_i!==void 0){var tr=void 0;try{tr=new ArrayBuffer(_i)}catch(Gr){return w(Gr)}var pr={buffer:tr,byteOffset:0,byteLength:_i,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(pr)}var kr=Ae($e);return es(this),kr},Se}();function un(Se){return!(!k(Se)||!Object.prototype.hasOwnProperty.call(Se,"_controlledReadableByteStream"))}function Cs(Se){return!(!k(Se)||!Object.prototype.hasOwnProperty.call(Se,"_associatedReadableByteStreamController"))}function es(Se){var $e=Yt(Se);if($e!==!1){if(Se._pulling===!0){Se._pullAgain=!0;return}Se._pulling=!0;var dt=Se._pullAlgorithm();A(dt,function(){Se._pulling=!1,Se._pullAgain===!0&&(Se._pullAgain=!1,es(Se))},function(ii){Li(Se,ii)})}}function fl(Se){se(Se),Se._pendingPullIntos=new re}function Ga(Se,$e){var dt=!1;Se._state==="closed"&&(dt=!0);var ii=Es($e);$e.readerType==="default"?Fe(Se,ii,dt):ya(Se,ii,dt)}function Es(Se){var $e=Se.bytesFilled,dt=Se.elementSize;return new Se.ctor(Se.buffer,Se.byteOffset,$e/dt)}function fs(Se,$e,dt,ii){Se._queue.push({buffer:$e,byteOffset:dt,byteLength:ii}),Se._queueTotalSize+=ii}function ts(Se,$e){var dt=$e.elementSize,ii=$e.bytesFilled-$e.bytesFilled%dt,_i=Math.min(Se._queueTotalSize,$e.byteLength-$e.bytesFilled),tr=$e.bytesFilled+_i,pr=tr-tr%dt,kr=_i,Gr=!1;pr>ii&&(kr=pr-$e.bytesFilled,Gr=!0);for(var Xt=Se._queue;kr>0;){var Ei=Xt.peek(),mi=Math.min(kr,Ei.byteLength),ar=$e.byteOffset+$e.bytesFilled;Z($e.buffer,ar,Ei.buffer,Ei.byteOffset,mi),Ei.byteLength===mi?Xt.shift():(Ei.byteOffset+=mi,Ei.byteLength-=mi),Se._queueTotalSize-=mi,Ha(Se,mi,$e),kr-=mi}return Gr}function Ha(Se,$e,dt){se(Se),dt.bytesFilled+=$e}function sa(Se){Se._queueTotalSize===0&&Se._closeRequested===!0?(Ft(Se),oo(Se._controlledReadableByteStream)):es(Se)}function se(Se){Se._byobRequest!==void 0&&(Se._byobRequest._associatedReadableByteStreamController=void 0,Se._byobRequest._view=void 0,Se._byobRequest=void 0)}function be(Se){for(;Se._pendingPullIntos.length>0;){if(Se._queueTotalSize===0)return;var $e=Se._pendingPullIntos.peek();ts(Se,$e)===!0&&(ut(Se),Ga(Se._controlledReadableByteStream,$e))}}function Pe(Se,$e){var dt=Se._controlledReadableByteStream,ii=1;$e.constructor!==DataView&&(ii=$e.constructor.BYTES_PER_ELEMENT);var _i=$e.constructor,tr=$e.buffer,pr={buffer:tr,byteOffset:$e.byteOffset,byteLength:$e.byteLength,bytesFilled:0,elementSize:ii,ctor:_i,readerType:"byob"};if(Se._pendingPullIntos.length>0)return Se._pendingPullIntos.push(pr),Br(dt);if(dt._state==="closed"){var kr=new _i(pr.buffer,pr.byteOffset,0);return E(ee(kr,!0,dt._reader._forAuthorCode))}if(Se._queueTotalSize>0){if(ts(Se,pr)===!0){var Gr=Es(pr);return sa(Se),E(ee(Gr,!1,dt._reader._forAuthorCode))}if(Se._closeRequested===!0){var Xt=new TypeError("Insufficient bytes to fill elements in the given buffer");return Li(Se,Xt),w(Xt)}}Se._pendingPullIntos.push(pr);var Ei=Br(dt);return es(Se),Ei}function Be(Se,$e){$e.buffer=$e.buffer;var dt=Se._controlledReadableByteStream;if(En(dt)===!0)for(;ln(dt)>0;){var ii=ut(Se);Ga(dt,ii)}}function Xe(Se,$e,dt){if(dt.bytesFilled+$e>dt.byteLength)throw new RangeError("bytesWritten out of range");if(Ha(Se,$e,dt),!(dt.bytesFilled<dt.elementSize)){ut(Se);var ii=dt.bytesFilled%dt.elementSize;if(ii>0){var _i=dt.byteOffset+dt.bytesFilled,tr=dt.buffer.slice(_i-ii,_i);fs(Se,tr,0,tr.byteLength)}dt.buffer=dt.buffer,dt.bytesFilled-=ii,Ga(Se._controlledReadableByteStream,dt),be(Se)}}function tt(Se,$e){var dt=Se._pendingPullIntos.peek(),ii=Se._controlledReadableByteStream;if(ii._state==="closed"){if($e!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");Be(Se,dt)}else Xe(Se,$e,dt);es(Se)}function ut(Se){var $e=Se._pendingPullIntos.shift();return se(Se),$e}function Yt(Se){var $e=Se._controlledReadableByteStream;if($e._state!=="readable"||Se._closeRequested===!0||Se._started===!1)return!1;if(Ge($e)===!0&&De($e)>0||En($e)===!0&&ln($e)>0)return!0;var dt=xi(Se);return dt>0}function Ft(Se){Se._pullAlgorithm=void 0,Se._cancelAlgorithm=void 0}function ci(Se){var $e=Se._controlledReadableByteStream;if(Se._queueTotalSize>0){Se._closeRequested=!0;return}if(Se._pendingPullIntos.length>0){var dt=Se._pendingPullIntos.peek();if(dt.bytesFilled>0){var ii=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Li(Se,ii),ii}}Ft(Se),oo($e)}function Ii(Se,$e){var dt=Se._controlledReadableByteStream,ii=$e.buffer,_i=$e.byteOffset,tr=$e.byteLength,pr=ii;if(Ge(dt)===!0)if(De(dt)===0)fs(Se,pr,_i,tr);else{var kr=new Uint8Array(pr,_i,tr);Fe(dt,kr,!1)}else En(dt)===!0?(fs(Se,pr,_i,tr),be(Se)):fs(Se,pr,_i,tr);es(Se)}function Li(Se,$e){var dt=Se._controlledReadableByteStream;dt._state==="readable"&&(fl(Se),Wt(Se),Ft(Se),js(dt,$e))}function xi(Se){var $e=Se._controlledReadableByteStream,dt=$e._state;return dt==="errored"?null:dt==="closed"?0:Se._strategyHWM-Se._queueTotalSize}function Pi(Se,$e){if($e=Number($e),z($e)===!1)throw new RangeError("bytesWritten must be a finite");tt(Se,$e)}function rr(Se,$e){var dt=Se._pendingPullIntos.peek();if(dt.byteOffset+dt.bytesFilled!==$e.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(dt.byteLength!==$e.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");dt.buffer=$e.buffer,tt(Se,$e.byteLength)}function Hr(Se,$e,dt,ii,_i,tr,pr){$e._controlledReadableByteStream=Se,$e._pullAgain=!1,$e._pulling=!1,$e._byobRequest=void 0,$e._queue=$e._queueTotalSize=void 0,Wt($e),$e._closeRequested=!1,$e._started=!1,$e._strategyHWM=P(tr),$e._pullAlgorithm=ii,$e._cancelAlgorithm=_i,$e._autoAllocateChunkSize=pr,$e._pendingPullIntos=new re,Se._readableStreamController=$e;var kr=dt();A(E(kr),function(){$e._started=!0,es($e)},function(Gr){Li($e,Gr)})}function yr(Se,$e,dt){var ii=Object.create(vn.prototype);function _i(){return B($e,"start",[ii])}var tr=I($e,"pull",0,[ii]),pr=I($e,"cancel",1,[]),kr=$e.autoAllocateChunkSize;if(kr!==void 0&&(kr=Number(kr),Qo(kr)===!1||kr<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");Hr(Se,ii,_i,tr,pr,dt,kr)}function Vn(Se,$e,dt){Se._associatedReadableByteStreamController=$e,Se._view=dt}function Cn(Se){return new TypeError("ReadableStreamBYOBRequest.prototype."+Se+" can only be used on a ReadableStreamBYOBRequest")}function rn(Se){return new TypeError("ReadableByteStreamController.prototype."+Se+" can only be used on a ReadableByteStreamController")}function sn(Se,$e){$e===void 0&&($e=!1);var dt=new Co(Se);return dt._forAuthorCode=$e,dt}function Br(Se){var $e=L(function(dt,ii){var _i={_resolve:dt,_reject:ii};Se._reader._readIntoRequests.push(_i)});return $e}function ya(Se,$e,dt){var ii=Se._reader,_i=ii._readIntoRequests.shift();_i._resolve(ee($e,dt,ii._forAuthorCode))}function ln(Se){return Se._reader._readIntoRequests.length}function En(Se){var $e=Se._reader;return!($e===void 0||!yo($e))}var Co=function(){function Se($e){if(!qn($e))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(un($e._readableStreamController)===!1)throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(xa($e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");he(this,$e),this._readIntoRequests=new re}return Object.defineProperty(Se.prototype,"closed",{get:function(){return yo(this)?this._closedPromise:w(Da("closed"))},enumerable:!0,configurable:!0}),Se.prototype.cancel=function($e){return yo(this)?this._ownerReadableStream===void 0?w(oe("cancel")):ye(this,$e):w(Da("cancel"))},Se.prototype.read=function($e){return yo(this)?this._ownerReadableStream===void 0?w(oe("read from")):ArrayBuffer.isView($e)?(C($e.buffer),$e.byteLength===0?w(new TypeError("view must have non-zero byteLength")):va(this,$e)):w(new TypeError("view must be an array buffer view")):w(Da("read"))},Se.prototype.releaseLock=function(){if(!yo(this))throw Da("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");Ce(this)}},Se}();function yo(Se){return!(!k(Se)||!Object.prototype.hasOwnProperty.call(Se,"_readIntoRequests"))}function va(Se,$e){var dt=Se._ownerReadableStream;return dt._disturbed=!0,dt._state==="errored"?w(dt._storedError):Pe(dt._readableStreamController,$e)}function Da(Se){return new TypeError("ReadableStreamBYOBReader.prototype."+Se+" can only be used on a ReadableStreamBYOBReader")}var $r=function(){function Se($e,dt){$e===void 0&&($e={}),dt===void 0&&(dt={}),qa(this);var ii=dt.size,_i=dt.highWaterMark,tr=$e.type,pr=String(tr);if(pr==="bytes"){if(ii!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");_i===void 0&&(_i=0),_i=P(_i),yr(this,$e,_i)}else if(tr===void 0){var kr=G(ii);_i===void 0&&(_i=1),_i=P(_i),Qs(this,$e,_i,kr)}else throw new RangeError("Invalid type is specified")}return Object.defineProperty(Se.prototype,"locked",{get:function(){if(qn(this)===!1)throw cn("locked");return xa(this)},enumerable:!0,configurable:!0}),Se.prototype.cancel=function($e){return qn(this)===!1?w(cn("cancel")):xa(this)===!0?w(new TypeError("Cannot cancel a stream that already has a reader")):ao(this,$e)},Se.prototype.getReader=function($e){var dt=($e===void 0?{}:$e).mode;if(qn(this)===!1)throw cn("getReader");if(dt===void 0)return we(this,!0);if(dt=String(dt),dt==="byob")return sn(this,!0);throw new RangeError("Invalid mode is specified")},Se.prototype.pipeThrough=function($e,dt){var ii=$e.writable,_i=$e.readable,tr=dt===void 0?{}:dt,pr=tr.preventClose,kr=tr.preventAbort,Gr=tr.preventCancel,Xt=tr.signal;if(qn(this)===!1)throw cn("pipeThrough");if(cr(ii)===!1)throw new TypeError("writable argument to pipeThrough must be a WritableStream");if(qn(_i)===!1)throw new TypeError("readable argument to pipeThrough must be a ReadableStream");if(pr=!!pr,kr=!!kr,Gr=!!Gr,Xt!==void 0&&!Yo(Xt))throw new TypeError("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(xa(this)===!0)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Yr(ii)===!0)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var Ei=Fo(this,ii,pr,kr,Gr,Xt);return M(Ei),_i},Se.prototype.pipeTo=function($e,dt){var ii=dt===void 0?{}:dt,_i=ii.preventClose,tr=ii.preventAbort,pr=ii.preventCancel,kr=ii.signal;return qn(this)===!1?w(cn("pipeTo")):cr($e)===!1?w(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(_i=!!_i,tr=!!tr,pr=!!pr,kr!==void 0&&!Yo(kr)?w(new TypeError("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")):xa(this)===!0?w(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Yr($e)===!0?w(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Fo(this,$e,_i,tr,pr,kr))},Se.prototype.tee=function(){if(qn(this)===!1)throw cn("tee");var $e=ga(this);return j($e)},Se.prototype.getIterator=function($e){var dt=($e===void 0?{}:$e).preventCancel,ii=dt===void 0?!1:dt;if(qn(this)===!1)throw cn("getIterator");return Je(this,ii)},Se}();typeof o.asyncIterator=="symbol"&&Object.defineProperty($r.prototype,o.asyncIterator,{value:$r.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});function ba(Se,$e,dt,ii,_i){ii===void 0&&(ii=1),_i===void 0&&(_i=function(){return 1});var tr=Object.create($r.prototype);qa(tr);var pr=Object.create(As.prototype);return Jo(tr,pr,Se,$e,dt,ii,_i),tr}function qa(Se){Se._state="readable",Se._reader=void 0,Se._storedError=void 0,Se._disturbed=!1}function qn(Se){return!(!k(Se)||!Object.prototype.hasOwnProperty.call(Se,"_readableStreamController"))}function xa(Se){return Se._reader!==void 0}function ao(Se,$e){if(Se._disturbed=!0,Se._state==="closed")return E(void 0);if(Se._state==="errored")return w(Se._storedError);oo(Se);var dt=Se._readableStreamController[xe]($e);return x(dt,u)}function oo(Se){Se._state="closed";var $e=Se._reader;$e!==void 0&&(Ie($e)&&($e._readRequests.forEach(function(dt){dt._resolve(ee(void 0,!0,$e._forAuthorCode))}),$e._readRequests=new re),ge($e))}function js(Se,$e){Se._state="errored",Se._storedError=$e;var dt=Se._reader;dt!==void 0&&(Ie(dt)?(dt._readRequests.forEach(function(ii){ii._reject($e)}),dt._readRequests=new re):(dt._readIntoRequests.forEach(function(ii){ii._reject($e)}),dt._readIntoRequests=new re),pe(dt,$e))}function cn(Se){return new TypeError("ReadableStream.prototype."+Se+" can only be used on a ReadableStream")}var uo=function(){function Se($e){var dt=$e.highWaterMark;this.highWaterMark=dt}return Se.prototype.size=function($e){return $e.byteLength},Se}(),Us=function(){function Se($e){var dt=$e.highWaterMark;this.highWaterMark=dt}return Se.prototype.size=function(){return 1},Se}(),ps=function(){function Se($e,dt,ii){$e===void 0&&($e={}),dt===void 0&&(dt={}),ii===void 0&&(ii={});var _i=dt.size,tr=dt.highWaterMark,pr=ii.size,kr=ii.highWaterMark,Gr=$e.writableType;if(Gr!==void 0)throw new RangeError("Invalid writable type specified");var Xt=G(_i);tr===void 0&&(tr=1),tr=P(tr);var Ei=$e.readableType;if(Ei!==void 0)throw new RangeError("Invalid readable type specified");var mi=G(pr);kr===void 0&&(kr=0),kr=P(kr);var ar,Fr=L(function(On){ar=On});Na(this,Fr,tr,Xt,kr,mi),pl(this,$e);var hn=B($e,"start",[this._transformStreamController]);ar(hn)}return Object.defineProperty(Se.prototype,"readable",{get:function(){if(is(this)===!1)throw Tl("readable");return this._readable},enumerable:!0,configurable:!0}),Object.defineProperty(Se.prototype,"writable",{get:function(){if(is(this)===!1)throw Tl("writable");return this._writable},enumerable:!0,configurable:!0}),Se}();function Na(Se,$e,dt,ii,_i,tr){function pr(){return $e}function kr(ar){return so(Se,ar)}function Gr(ar){return Ea(Se,ar)}function Xt(){return rs(Se)}Se._writable=zi(pr,kr,Xt,Gr,dt,ii);function Ei(){return vs(Se)}function mi(ar){return Ts(Se,ar),E(void 0)}Se._readable=ba(pr,Ei,mi,_i,tr),Se._backpressure=void 0,Se._backpressureChangePromise=void 0,Se._backpressureChangePromise_resolve=void 0,Eo(Se,!0),Se._transformStreamController=void 0}function is(Se){return!(!k(Se)||!Object.prototype.hasOwnProperty.call(Se,"_transformStreamController"))}function No(Se,$e){ma(Se._readable._readableStreamController,$e),Ts(Se,$e)}function Ts(Se,$e){ho(Se._transformStreamController),an(Se._writable._writableStreamController,$e),Se._backpressure===!0&&Eo(Se,!1)}function Eo(Se,$e){Se._backpressureChangePromise!==void 0&&Se._backpressureChangePromise_resolve(),Se._backpressureChangePromise=L(function(dt){Se._backpressureChangePromise_resolve=dt}),Se._backpressure=$e}var ms=function(){function Se(){throw new TypeError("TransformStreamDefaultController instances cannot be created directly")}return Object.defineProperty(Se.prototype,"desiredSize",{get:function(){if($s(this)===!1)throw zo("desiredSize");var $e=this._controlledTransformStream._readable._readableStreamController;return Ks($e)},enumerable:!0,configurable:!0}),Se.prototype.enqueue=function($e){if($s(this)===!1)throw zo("enqueue");fo(this,$e)},Se.prototype.error=function($e){if($s(this)===!1)throw zo("error");ys(this,$e)},Se.prototype.terminate=function(){if($s(this)===!1)throw zo("terminate");Ps(this)},Se}();function $s(Se){return!(!k(Se)||!Object.prototype.hasOwnProperty.call(Se,"_controlledTransformStream"))}function gs(Se,$e,dt,ii){$e._controlledTransformStream=Se,Se._transformStreamController=$e,$e._transformAlgorithm=dt,$e._flushAlgorithm=ii}function pl(Se,$e){var dt=Object.create(ms.prototype),ii=function(pr){try{return fo(dt,pr),E(void 0)}catch(kr){return w(kr)}},_i=$e.transform;if(_i!==void 0){if(typeof _i!="function")throw new TypeError("transform is not a method");ii=function(pr){return U(_i,$e,[pr,dt])}}var tr=I($e,"flush",0,[dt]);gs(Se,dt,ii,tr)}function ho(Se){Se._transformAlgorithm=void 0,Se._flushAlgorithm=void 0}function fo(Se,$e){var dt=Se._controlledTransformStream,ii=dt._readable._readableStreamController;if($n(ii)===!1)throw new TypeError("Readable side is not in a state that permits enqueue");try{na(ii,$e)}catch(tr){throw Ts(dt,tr),dt._readable._storedError}var _i=Js(ii);_i!==dt._backpressure&&Eo(dt,!0)}function ys(Se,$e){No(Se._controlledTransformStream,$e)}function Vs(Se,$e){var dt=Se._transformAlgorithm($e);return x(dt,void 0,function(ii){throw No(Se._controlledTransformStream,ii),ii})}function Ps(Se){var $e=Se._controlledTransformStream,dt=$e._readable._readableStreamController;$n(dt)===!0&&no(dt);var ii=new TypeError("TransformStream terminated");Ts($e,ii)}function so(Se,$e){var dt=Se._transformStreamController;if(Se._backpressure===!0){var ii=Se._backpressureChangePromise;return x(ii,function(){var _i=Se._writable,tr=_i._state;if(tr==="erroring")throw _i._storedError;return Vs(dt,$e)})}return Vs(dt,$e)}function Ea(Se,$e){return No(Se,$e),E(void 0)}function rs(Se){var $e=Se._readable,dt=Se._transformStreamController,ii=dt._flushAlgorithm();return ho(dt),x(ii,function(){if($e._state==="errored")throw $e._storedError;var _i=$e._readableStreamController;$n(_i)===!0&&no(_i)},function(_i){throw No(Se,_i),$e._storedError})}function vs(Se){return Eo(Se,!1),Se._backpressureChangePromise}function zo(Se){return new TypeError("TransformStreamDefaultController.prototype."+Se+" can only be used on a TransformStreamDefaultController")}function Tl(Se){return new TypeError("TransformStream.prototype."+Se+" can only be used on a TransformStream")}a.ByteLengthQueuingStrategy=uo,a.CountQueuingStrategy=Us,a.ReadableStream=$r,a.TransformStream=ps,a.WritableStream=hi,Object.defineProperty(a,"__esModule",{value:!0})})(t)},function(e,t,i){i(145),i(114),i(77),i(116),i=i(43),e.exports=i.Map},function(e,t,o){var a=o(146),o=o(150);e.exports=a("Map",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},o)},function(e,t,i){var a=i(10),o=i(11),u=i(52),d=i(29),n=i(147),k=i(124),j=i(123),Z=i(22),z=i(14),H=i(97),Y=i(85),I=i(149);e.exports=function(B,U,T){function C(y){var x=g[y];d(g,y,y=="add"?function(M){return x.call(this,M===0?0:M),this}:y=="delete"?function(M){return!(L&&!Z(M))&&x.call(this,M===0?0:M)}:y=="get"?function(M){return L&&!Z(M)?void 0:x.call(this,M===0?0:M)}:y=="has"?function(M){return!(L&&!Z(M))&&x.call(this,M===0?0:M)}:function(M,X){return x.call(this,M===0?0:M,X),this})}var P,G,q,N,ne,K=B.indexOf("Map")!==-1,L=B.indexOf("Weak")!==-1,E=K?"set":"add",w=o[B],g=w&&w.prototype,A=w,m={};return u(B,typeof w!="function"||!(L||g.forEach&&!z(function(){new w().entries().next()})))?(A=T.getConstructor(U,B,K,E),n.REQUIRED=!0):u(B,!0)&&(G=(P=new A)[E](L?{}:-0,1)!=P,q=z(function(){P.has(1)}),N=H(function(y){new w(y)}),ne=!L&&z(function(){for(var y=new w,x=5;x--;)y[E](x,x);return!y.has(-0)}),N||(((A=U(function(y,x){return j(y,A,B),y=I(new w,y,A),x!=null&&k(x,y[E],y,K),y})).prototype=g).constructor=A),(q||ne)&&(C("delete"),C("has"),K&&C("get")),(ne||G)&&C(E),L&&g.clear&&delete g.clear),m[B]=A,a({global:!0,forced:A!=w},m),Y(A,B),L||T.setStrong(A,B,K),A}},function(e,t,i){function a(I){n(I,Z,{value:{objectID:"O"+ ++z,weakData:{}}})}var o=i(39),u=i(22),d=i(23),n=i(27).f,k=i(38),j=i(148),Z=k("meta"),z=0,H=Object.isExtensible||function(){return!0},Y=e.exports={REQUIRED:!1,fastKey:function(I,B){if(!u(I))return typeof I=="symbol"?I:(typeof I=="string"?"S":"P")+I;if(!d(I,Z)){if(!H(I))return"F";if(!B)return"E";a(I)}return I[Z].objectID},getWeakData:function(I,B){if(!d(I,Z)){if(!H(I))return!0;if(!B)return!1;a(I)}return I[Z].weakData},onFreeze:function(I){return j&&Y.REQUIRED&&H(I)&&!d(I,Z)&&a(I),I}};o[Z]=!0},function(e,t,i){i=i(14),e.exports=!i(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(e,t,i){var a=i(22),o=i(87);e.exports=function(u,d,n){var k,j;return o&&typeof(k=d.constructor)=="function"&&k!==n&&a(j=k.prototype)&&j!==n.prototype&&o(u,j),u}},function(e,t,Y){var a=Y(27).f,o=Y(71),u=Y(121),d=Y(62),n=Y(123),k=Y(124),j=Y(79),Z=Y(122),z=Y(13),H=Y(147).fastKey,Y=Y(33),I=Y.set,B=Y.getterFor;e.exports={getConstructor:function(U,T,C,P){function G(K,L,E){var w,g=ne(K),A=q(K,L);return A?A.value=E:(g.last=A={index:w=H(L,!0),key:L,value:E,previous:E=g.last,next:void 0,removed:!1},g.first||(g.first=A),E&&(E.next=A),z?g.size++:K.size++,w!=="F"&&(g.index[w]=A)),K}function q(K,L){var E,w=ne(K);if((K=H(L))!=="F")return w.index[K];for(E=w.first;E;E=E.next)if(E.key==L)return E}var N=U(function(K,L){n(K,N,T),I(K,{type:T,index:o(null),first:void 0,last:void 0,size:0}),z||(K.size=0),L!=null&&k(L,K[P],K,C)}),ne=B(T);return u(N.prototype,{clear:function(){for(var K=ne(this),L=K.index,E=K.first;E;)E.removed=!0,E.previous&&(E.previous=E.previous.next=void 0),delete L[E.index],E=E.next;K.first=K.last=void 0,z?K.size=0:this.size=0},delete:function(K){var L,E=ne(this),w=q(this,K);return w&&(L=w.next,K=w.previous,delete E.index[w.index],w.removed=!0,K&&(K.next=L),L&&(L.previous=K),E.first==w&&(E.first=L),E.last==w&&(E.last=K),z?E.size--:this.size--),!!w},forEach:function(K){for(var L,E=ne(this),w=d(K,1<arguments.length?arguments[1]:void 0,3);L=L?L.next:E.first;)for(w(L.value,L.key,this);L&&L.removed;)L=L.previous},has:function(K){return!!q(this,K)}}),u(N.prototype,C?{get:function(K){return K=q(this,K),K&&K.value},set:function(K,L){return G(this,K===0?0:K,L)}}:{add:function(K){return G(this,K=K===0?0:K,K)}}),z&&a(N.prototype,"size",{get:function(){return ne(this).size}}),N},setStrong:function(U,T,C){var P=T+" Iterator",G=B(T),q=B(P);j(U,T,function(N,ne){I(this,{type:P,target:N,state:G(N),kind:ne,last:void 0})},function(){for(var N=q(this),ne=N.kind,K=N.last;K&&K.removed;)K=K.previous;return N.target&&(N.last=K=K?K.next:N.state.first)?ne=="keys"?{value:K.key,done:!1}:ne=="values"?{value:K.value,done:!1}:{value:[K.key,K.value],done:!1}:{value:N.target=void 0,done:!0}},C?"entries":"values",!C,!0),Z(T)}}},function(e,t,i){i(152),i(114),i(77),i(116),i=i(43),e.exports=i.Set},function(e,t,o){var a=o(146),o=o(150);e.exports=a("Set",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},o)},function(e,t,i){i(114),i(154),i(116),i=i(43),e.exports=i.WeakMap},function(e,t,I){var a,o,u,d,n,U=I(11),k=I(121),j=I(147),T=I(146),Z=I(155),z=I(22),H=I(33).enforce,Y=I(34),I=!U.ActiveXObject&&"ActiveXObject"in U,B=Object.isExtensible,U=function(C){return function(){return C(this,arguments.length?arguments[0]:void 0)}},T=e.exports=T("WeakMap",U,Z);Y&&I&&(a=Z.getConstructor(U,"WeakMap",!0),j.REQUIRED=!0,T=T.prototype,o=T.delete,u=T.has,d=T.get,n=T.set,k(T,{delete:function(C){if(!z(C)||B(C))return o.call(this,C);var P=H(this);return P.frozen||(P.frozen=new a),o.call(this,C)||P.frozen.delete(C)},has:function(C){if(!z(C)||B(C))return u.call(this,C);var P=H(this);return P.frozen||(P.frozen=new a),u.call(this,C)||P.frozen.has(C)},get:function(C){if(!z(C)||B(C))return d.call(this,C);var P=H(this);return P.frozen||(P.frozen=new a),u.call(this,C)?d.call(this,C):P.frozen.get(C)},set:function(C,P){var G;return z(C)&&!B(C)?((G=H(this)).frozen||(G.frozen=new a),u.call(this,C)?n.call(this,C,P):G.frozen.set(C,P)):n.call(this,C,P),this}}))},function(e,t,I){function a(G){return G.frozen||(G.frozen=new o)}function o(){this.entries=[]}function u(G,q){return T(G.entries,function(N){return N[0]===q})}var d=I(121),n=I(147).getWeakData,k=I(28),j=I(22),Z=I(123),z=I(124),H=I(156),Y=I(23),I=I(33),B=I.set,U=I.getterFor,T=H.find,C=H.findIndex,P=0;o.prototype={get:function(G){if(G=u(this,G),G)return G[1]},has:function(G){return!!u(this,G)},set:function(G,q){var N=u(this,G);N?N[1]=q:this.entries.push([G,q])},delete:function(G){var q=C(this.entries,function(N){return N[0]===G});return~q&&this.entries.splice(q,1),!!~q}},e.exports={getConstructor:function(G,q,N,ne){function K(w,g,A){var m=E(w),y=n(k(g),!0);return y===!0?a(m).set(g,A):y[m.id]=A,w}var L=G(function(w,g){Z(w,L,q),B(w,{type:q,id:P++,frozen:void 0}),g!=null&&z(g,w[ne],w,N)}),E=U(q);return d(L.prototype,{delete:function(w){var g=E(this);if(!j(w))return!1;var A=n(w);return A===!0?a(g).delete(w):A&&Y(A,g.id)&&delete A[g.id]},has:function(w){var g=E(this);if(!j(w))return!1;var A=n(w);return A===!0?a(g).has(w):A&&Y(A,g.id)}}),d(L.prototype,N?{get:function(w){var g=E(this);if(j(w)){var A=n(w);return A===!0?a(g).get(w):A?A[g.id]:void 0}},set:function(w,g){return K(this,w,g)}}:{add:function(w){return K(this,w,!0)}}),L}}},function(e,t,j){var a=j(62),o=j(18),u=j(83),d=j(47),n=j(157),k=[].push,j=function(Z){var z=Z==1,H=Z==2,Y=Z==3,I=Z==4,B=Z==6,U=Z==5||B;return function(T,C,P,G){for(var q,N,ne=u(T),K=o(ne),L=a(C,P,3),E=d(K.length),w=0,G=G||n,g=z?G(T,E):H?G(T,0):void 0;w<E;w++)if((U||w in K)&&(N=L(q=K[w],w,ne),Z)){if(z)g[w]=N;else if(N)switch(Z){case 3:return!0;case 5:return q;case 6:return w;case 2:k.call(g,q)}else if(I)return!1}return B?-1:Y||I?I:g}};e.exports={forEach:j(0),map:j(1),filter:j(2),some:j(3),every:j(4),find:j(5),findIndex:j(6)}},function(e,t,i){var a=i(22),o=i(158),u=i(57)("species");e.exports=function(d,n){var k;return new((k=o(d)&&(typeof(k=d.constructor)=="function"&&(k===Array||o(k.prototype))||a(k)&&(k=k[u])===null)?void 0:k)===void 0?Array:k)(n===0?0:n)}},function(e,t,i){var a=i(19);e.exports=Array.isArray||function(o){return a(o)=="Array"}},function(e,t,i){i(114),i(160),i(116),i=i(43),e.exports=i.WeakSet},function(e,t,i){i(146)("WeakSet",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},i(155))},function(e,t,i){i(162),i=i(61),e.exports=i("String","codePointAt")},function(e,t,i){var a=i(10),o=i(78).codeAt;a({target:"String",proto:!0},{codePointAt:function(u){return o(this,u)}})},function(e,t,i){i(164),i=i(43),e.exports=i.String.fromCodePoint},function(e,t,d){var a=d(10),o=d(49),u=String.fromCharCode,d=String.fromCodePoint;a({target:"String",stat:!0,forced:!!d&&d.length!=1},{fromCodePoint:function(n){for(var k,j=[],Z=arguments.length,z=0;z<Z;){if(k=+arguments[z++],o(k,1114111)!==k)throw RangeError(k+" is not a valid code point");j.push(k<65536?u(k):u(55296+((k-=65536)>>10),k%1024+56320))}return j.join("")}})},function(e,t,i){i(166),i(114),i(168),i(172),i(173),i(174),i(175),i(176),i(177),i(178),i(179),i(180),i(181),i(182),i(183),i(184),i(185),i(186),i(187),i=i(43),e.exports=i.Symbol},function(e,t,z){var a=z(10),B=z(14),o=z(158),u=z(22),d=z(83),n=z(47),k=z(93),j=z(157),U=z(167),Z=z(57),z=z(133),H=Z("isConcatSpreadable"),Y=9007199254740991,I="Maximum allowed index exceeded",B=51<=z||!B(function(){var T=[];return T[H]=!1,T.concat()[0]!==T}),U=U("concat");a({target:"Array",proto:!0,forced:!B||!U},{concat:function(T){for(var C,P,G,q=d(this),N=j(q,0),ne=0,K=-1,L=arguments.length;K<L;K++)if(function(E){if(!u(E))return!1;var w=E[H];return w!==void 0?!!w:o(E)}(G=K===-1?q:arguments[K])){if(P=n(G.length),Y<ne+P)throw TypeError(I);for(C=0;C<P;C++,ne++)C in G&&k(N,ne,G[C])}else{if(Y<=ne)throw TypeError(I);k(N,ne++,G)}return N.length=ne,N}})},function(e,t,i){var a=i(14),o=i(57),u=i(133),d=o("species");e.exports=function(n){return 51<=u||!a(function(){var k=[];return(k.constructor={})[d]=function(){return{foo:1}},k[n](Boolean).foo!==1})}},function(e,t,i){function a(ht,Ke){var At=Ae[ht]=P(pe[Ce]);return de(At,{type:ye,tag:ht,description:Ke}),k||(At.description=Ke),At}function o(ht,Et){I(ht);var At=U(Et),Et=G(At).concat(st(At));return ee(Et,function(Wt){k&&!He.call(At,Wt)||Ue(ht,Wt,At[Wt])}),ht}var u=i(10),it=i(11),d=i(42),n=i(37),k=i(13),j=i(58),Je=i(59),Z=i(14),z=i(23),H=i(158),Y=i(22),I=i(28),B=i(83),U=i(17),T=i(21),C=i(16),P=i(71),G=i(73),q=i(44),N=i(169),ne=i(51),K=i(12),L=i(27),E=i(15),w=i(26),g=i(29),ct=i(36),oe=i(35),A=i(39),m=i(38),y=i(57),x=i(170),M=i(171),X=i(85),re=i(33),ee=i(156).forEach,he=oe("hidden"),ye="Symbol",Ce="prototype",oe=y("toPrimitive"),de=re.set,fe=re.getterFor(ye),ue=Object[Ce],pe=it.Symbol,te=d("JSON","stringify"),ge=K.f,xe=L.f,ce=N.f,we=E.f,Ae=ct("symbols"),Fe=ct("op-symbols"),De=ct("string-to-symbol-registry"),Ge=ct("symbol-to-string-registry"),ct=ct("wks"),it=it.QObject,ot=!it||!it[Ce]||!it[Ce].findChild,Qe=k&&Z(function(){return P(xe({},"a",{get:function(){return xe(this,"a",{value:7}).a}})).a!=7})?function(ht,Ke,At){var Et=ge(ue,Ke);Et&&delete ue[Ke],xe(ht,Ke,At),Et&&ht!==ue&&xe(ue,Ke,Et)}:xe,Ie=Je?function(ht){return typeof ht=="symbol"}:function(ht){return Object(ht)instanceof pe},Ue=function(ht,Ke,At){return ht===ue&&Ue(Fe,Ke,At),I(ht),Ke=T(Ke,!0),I(At),z(Ae,Ke)?(At.enumerable?(z(ht,he)&&ht[he][Ke]&&(ht[he][Ke]=!1),At=P(At,{enumerable:C(0,!1)})):(z(ht,he)||xe(ht,he,C(1,{})),ht[he][Ke]=!0),Qe(ht,Ke,At)):xe(ht,Ke,At)},He=function(At){var Ke=T(At,!0),At=we.call(this,Ke);return!(this===ue&&z(Ae,Ke)&&!z(Fe,Ke))&&(!(At||!z(this,Ke)||!z(Ae,Ke)||z(this,he)&&this[he][Ke])||At)},it=function(Et,Ke){var At=U(Et),Et=T(Ke,!0);if(At!==ue||!z(Ae,Et)||z(Fe,Et))return Ke=ge(At,Et),!Ke||!z(Ae,Et)||z(At,he)&&At[he][Et]||(Ke.enumerable=!0),Ke},Je=function(Ke){var Ke=ce(U(Ke)),At=[];return ee(Ke,function(Et){z(Ae,Et)||z(A,Et)||At.push(Et)}),At},st=function(At){var Ke=At===ue,At=ce(Ke?Fe:U(At)),Et=[];return ee(At,function(Wt){!z(Ae,Wt)||Ke&&!z(ue,Wt)||Et.push(Ae[Wt])}),Et};j||(g((pe=function(){if(this instanceof pe)throw TypeError("Symbol is not a constructor");var ht=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,Ke=m(ht),At=function(Et){this===ue&&At.call(Fe,Et),z(this,he)&&z(this[he],Ke)&&(this[he][Ke]=!1),Qe(this,Ke,C(1,Et))};return k&&ot&&Qe(ue,Ke,{configurable:!0,set:At}),a(Ke,ht)})[Ce],"toString",function(){return fe(this).tag}),g(pe,"withoutSetter",function(ht){return a(m(ht),ht)}),E.f=He,L.f=Ue,K.f=it,q.f=N.f=Je,ne.f=st,x.f=function(ht){return a(y(ht),ht)},k&&(xe(pe[Ce],"description",{configurable:!0,get:function(){return fe(this).description}}),n||g(ue,"propertyIsEnumerable",He,{unsafe:!0}))),u({global:!0,wrap:!0,forced:!j,sham:!j},{Symbol:pe}),ee(G(ct),function(ht){M(ht)}),u({target:ye,stat:!0,forced:!j},{for:function(ht){var Ke=String(ht);return z(De,Ke)?De[Ke]:(ht=pe(Ke),De[Ke]=ht,Ge[ht]=Ke,ht)},keyFor:function(ht){if(!Ie(ht))throw TypeError(ht+" is not a symbol");if(z(Ge,ht))return Ge[ht]},useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),u({target:"Object",stat:!0,forced:!j,sham:!k},{create:function(ht,Ke){return Ke===void 0?P(ht):o(P(ht),Ke)},defineProperty:Ue,defineProperties:o,getOwnPropertyDescriptor:it}),u({target:"Object",stat:!0,forced:!j},{getOwnPropertyNames:Je,getOwnPropertySymbols:st}),u({target:"Object",stat:!0,forced:Z(function(){ne.f(1)})},{getOwnPropertySymbols:function(ht){return ne.f(B(ht))}}),te&&u({target:"JSON",stat:!0,forced:!j||Z(function(){var ht=pe();return te([ht])!="[null]"||te({a:ht})!="{}"||te(Object(ht))!="{}"})},{stringify:function(ht,Ke,At){for(var Et,Wt=[ht],fi=1;fi<arguments.length;)Wt.push(arguments[fi++]);if((Y(Et=Ke)||ht!==void 0)&&!Ie(ht))return H(Ke)||(Ke=function(ei,hi){if(typeof Et=="function"&&(hi=Et.call(this,ei,hi)),!Ie(hi))return hi}),Wt[1]=Ke,te.apply(null,Wt)}}),pe[Ce][oe]||w(pe[Ce],oe,pe[Ce].valueOf),X(pe,ye),A[he]=!0},function(e,t,i){var a=i(17),o=i(44).f,u={}.toString,d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(n){return d&&u.call(n)=="[object Window]"?function(k){try{return o(k)}catch{return d.slice()}}(n):o(a(n))}},function(e,t,i){i=i(57),t.f=i},function(e,t,i){var a=i(43),o=i(23),u=i(170),d=i(27).f;e.exports=function(n){var k=a.Symbol||(a.Symbol={});o(k,n)||d(k,n,{value:u.f(n)})}},function(e,t,i){i(171)("asyncIterator")},function(e,t,I){var a,o,u,d,n,k=I(10),j=I(13),Z=I(11),z=I(23),H=I(22),Y=I(27).f,I=I(40),B=Z.Symbol;!j||typeof B!="function"||"description"in B.prototype&&B().description===void 0||(a={},I(o=function(){var U=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),T=this instanceof o?new B(U):U===void 0?B():B(U);return U===""&&(a[T]=!0),T},B),(I=o.prototype=B.prototype).constructor=o,u=I.toString,d=String(B("test"))=="Symbol(test)",n=/^Symbol\((.*)\)[^)]+$/,Y(I,"description",{configurable:!0,get:function(){var U=H(this)?this.valueOf():this,T=u.call(U);return z(a,U)?"":(T=d?T.slice(7,-1):T.replace(n,"$1"),T===""?void 0:T)}}),k({global:!0,forced:!0},{Symbol:o}))},function(e,t,i){i(171)("hasInstance")},function(e,t,i){i(171)("isConcatSpreadable")},function(e,t,i){i(171)("iterator")},function(e,t,i){i(171)("match")},function(e,t,i){i(171)("matchAll")},function(e,t,i){i(171)("replace")},function(e,t,i){i(171)("search")},function(e,t,i){i(171)("species")},function(e,t,i){i(171)("split")},function(e,t,i){i(171)("toPrimitive")},function(e,t,i){i(171)("toStringTag")},function(e,t,i){i(171)("unscopables")},function(e,t,i){i(85)(Math,"Math",!0)},function(e,t,i){var a=i(11);i(85)(a.JSON,"JSON",!0)},function(e,t,i){i(189),i=i(61),e.exports=i("String","padStart")},function(e,t,i){var a=i(10),o=i(190).start;a({target:"String",proto:!0,forced:i(192)},{padStart:function(u){return o(this,u,1<arguments.length?arguments[1]:void 0)}})},function(e,t,n){var a=n(47),o=n(191),u=n(20),d=Math.ceil,n=function(k){return function(Y,B,I){var H=String(u(Y)),Y=H.length,I=I===void 0?" ":String(I),B=a(B);return B<=Y||I==""?H:((I=o.call(I,d((Y=B-Y)/I.length))).length>Y&&(I=I.slice(0,Y)),k?H+I:I+H)}};e.exports={start:n(!1),end:n(!0)}},function(e,t,i){var a=i(48),o=i(20);e.exports="".repeat||function(u){var d=String(o(this)),n="",k=a(u);if(k<0||k==1/0)throw RangeError("Wrong number of repetitions");for(;0<k;(k>>>=1)&&(d+=d))1&k&&(n+=d);return n}},function(e,t,i){i=i(127),e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i)},function(e,t,i){i(194),i=i(61),e.exports=i("String","padEnd")},function(e,t,i){var a=i(10),o=i(190).end;a({target:"String",proto:!0,forced:i(192)},{padEnd:function(u){return o(this,u,1<arguments.length?arguments[1]:void 0)}})},function(e,t,i){i(196),i=i(43),e.exports=i.Object.values},function(e,t,i){var a=i(10),o=i(197).values;a({target:"Object",stat:!0},{values:function(u){return o(u)}})},function(e,t,n){var a=n(13),o=n(73),u=n(17),d=n(15).f,n=function(k){return function(j){for(var Z,z=u(j),H=o(z),Y=H.length,I=0,B=[];I<Y;)Z=H[I++],a&&!d.call(z,Z)||B.push(k?[Z,z[Z]]:z[Z]);return B}};e.exports={entries:n(!0),values:n(!1)}},function(module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.build=exports.version=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(199),_api_compatibility=__w_pdfjs_require__(200),_canvas=__w_pdfjs_require__(201),_worker_options=__w_pdfjs_require__(203),_is_node=__w_pdfjs_require__(7),_message_handler=__w_pdfjs_require__(204),_metadata=__w_pdfjs_require__(205),_transport_stream=__w_pdfjs_require__(207),_webgl=__w_pdfjs_require__(208);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function asyncGeneratorStep(e,t,i,a,o,u,d){try{var n=e[u](d),k=n.value}catch(j){return void i(j)}n.done?t(k):Promise.resolve(k).then(a,o)}function _asyncToGenerator(e){return function(){var t=this,i=arguments;return new Promise(function(a,o){var u=e.apply(t,i);function d(k){asyncGeneratorStep(u,a,o,d,n,"next",k)}function n(k){asyncGeneratorStep(u,a,o,d,n,"throw",k)}d(void 0)})}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var i;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&typeof e.length=="number"){i&&(e=i);var a=0,t=function(){};return{s:t,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(k){throw k},f:t}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,u=!0,d=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var n=i.next();return u=n.done,n},e:function(n){d=!0,o=n},f:function(){try{u||i.return==null||i.return()}finally{if(d)throw o}}}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return(i=i==="Object"&&e.constructor?e.constructor.name:i)==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}function _iterableToArrayLimit(e,t){if(typeof Symbol<"u"&&Symbol.iterator in Object(e)){var i=[],a=!0,o=!1,u=void 0;try{for(var d,n=e[Symbol.iterator]();!(a=(d=n.next()).done)&&(i.push(d.value),!t||i.length!==t);a=!0);}catch(k){o=!0,u=k}finally{try{a||n.return==null||n.return()}finally{if(o)throw u}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,createPDFNetworkStream;function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){var t,i=new PDFDocumentLoadingTask;if(typeof e=="string")t={url:e};else if((0,_util.isArrayBuffer)(e))t={data:e};else if(e instanceof PDFDataRangeTransport)t={range:e};else{if(_typeof(e)!=="object")throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=e}var a,o=Object.create(null),u=null,d=null;for(a in t)if(a!=="url"||typeof window>"u")if(a!=="range")if(a!=="worker")if(a!=="data"||t[a]instanceof Uint8Array)o[a]=t[a];else{var n=t[a];if(typeof n=="string")o[a]=(0,_util.stringToBytes)(n);else if(_typeof(n)!=="object"||n===null||isNaN(n.length)){if(!(0,_util.isArrayBuffer)(n))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");o[a]=new Uint8Array(n)}else o[a]=new Uint8Array(n)}else d=t[a];else u=t[a];else o[a]=new URL(t[a],window.location).href;o.rangeChunkSize=o.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,o.CMapReaderFactory=o.CMapReaderFactory||_display_utils.DOMCMapReaderFactory,o.ignoreErrors=o.stopAtErrors!==!0,o.fontExtraProperties=o.fontExtraProperties===!0,o.pdfBug=o.pdfBug===!0,Number.isInteger(o.maxImageSize)||(o.maxImageSize=-1),typeof o.isEvalSupported!="boolean"&&(o.isEvalSupported=!0),typeof o.disableFontFace!="boolean"&&(o.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),typeof o.disableRange!="boolean"&&(o.disableRange=!1),typeof o.disableStream!="boolean"&&(o.disableStream=!1),typeof o.disableAutoFetch!="boolean"&&(o.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(o.verbosity),d||(e={verbosity:o.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort},d=e.port?PDFWorker.fromPort(e):new PDFWorker(e),i._worker=d);var k=i.docId;return d.promise.then(function(){if(i.destroyed)throw new Error("Loading aborted");var j=_fetchDocument(d,o,u,k),Z=new Promise(function(z){var H;u?H=new _transport_stream.PDFDataTransportStream({length:o.length,initialData:o.initialData,progressiveDone:o.progressiveDone,disableRange:o.disableRange,disableStream:o.disableStream},u):o.data||(H=createPDFNetworkStream({url:o.url,length:o.length,httpHeaders:o.httpHeaders,withCredentials:o.withCredentials,rangeChunkSize:o.rangeChunkSize,disableRange:o.disableRange,disableStream:o.disableStream})),z(H)});return Promise.all([j,Z]).then(function(H){var Y=_slicedToArray(H,2),H=Y[0],Y=Y[1];if(i.destroyed)throw new Error("Loading aborted");H=new _message_handler.MessageHandler(k,H,d.port),H.postMessageTransfers=d.postMessageTransfers,Y=new WorkerTransport(H,i,Y,o),i._transport=Y,H.send("Ready",null)})}).catch(i._capability.reject),i}function _fetchDocument(e,t,i,a){return e.destroyed?Promise.reject(new Error("Worker was destroyed")):(i&&(t.length=i.length,t.initialData=i.initialData,t.progressiveDone=i.progressiveDone),e.messageHandler.sendWithPromise("GetDocRequest",{docId:a,apiVersion:"2.5.207",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,postMessageTransfers:e.postMessageTransfers,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties}).then(function(o){if(e.destroyed)throw new Error("Worker was destroyed");return o}))}var PDFDocumentLoadingTask=(Cna=0,function(){function e(){_classCallCheck(this,e),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+Cna++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(e,[{key:"destroy",value:function(){var t=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(function(){t._transport=null,t._worker&&(t._worker.destroy(),t._worker=null)})}},{key:"promise",get:function(){return this._capability.promise}}]),e}()),Cna,PDFDataRangeTransport=function(){function e(t,i){var a=2<arguments.length&&arguments[2]!==void 0&&arguments[2];_classCallCheck(this,e),this.length=t,this.initialData=i,this.progressiveDone=a,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(e,[{key:"addRangeListener",value:function(t){this._rangeListeners.push(t)}},{key:"addProgressListener",value:function(t){this._progressListeners.push(t)}},{key:"addProgressiveReadListener",value:function(t){this._progressiveReadListeners.push(t)}},{key:"addProgressiveDoneListener",value:function(t){this._progressiveDoneListeners.push(t)}},{key:"onDataRange",value:function(t,i){var a,o=_createForOfIteratorHelper(this._rangeListeners);try{for(o.s();!(a=o.n()).done;)(0,a.value)(t,i)}catch(u){o.e(u)}finally{o.f()}}},{key:"onDataProgress",value:function(t,i){var a=this;this._readyCapability.promise.then(function(){var o,u=_createForOfIteratorHelper(a._progressListeners);try{for(u.s();!(o=u.n()).done;)(0,o.value)(t,i)}catch(d){u.e(d)}finally{u.f()}})}},{key:"onDataProgressiveRead",value:function(t){var i=this;this._readyCapability.promise.then(function(){var a,o=_createForOfIteratorHelper(i._progressiveReadListeners);try{for(o.s();!(a=o.n()).done;)(0,a.value)(t)}catch(u){o.e(u)}finally{o.f()}})}},{key:"onDataProgressiveDone",value:function(){var t=this;this._readyCapability.promise.then(function(){var i,a=_createForOfIteratorHelper(t._progressiveDoneListeners);try{for(a.s();!(i=a.n()).done;)(0,i.value)()}catch(o){a.e(o)}finally{a.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(t,i){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),e}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function e(t,i){_classCallCheck(this,e),this._pdfInfo=t,this._transport=i}return _createClass(e,[{key:"getPage",value:function(t){return this._transport.getPage(t)}},{key:"getPageIndex",value:function(t){return this._transport.getPageIndex(t)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(t){return this._transport.getDestination(t)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getOpenActionDestination",value:function(){return(0,_display_utils.deprecated)("getOpenActionDestination, use getOpenAction instead."),this.getOpenAction().then(function(t){return t&&t.dest?t.dest:null})}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){return this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}}]),e}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function e(t,i,a){var o=3<arguments.length&&arguments[3]!==void 0&&arguments[3];_classCallCheck(this,e),this._pageIndex=t,this._pageInfo=i,this._transport=a,this._stats=o?new _display_utils.StatTimer:null,this._pdfBug=o,this.commonObjs=a.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}return _createClass(e,[{key:"getViewport",value:function(){var u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=u.scale,o=u.rotation,i=o===void 0?this.rotate:o,a=u.offsetX,o=u.offsetY,u=u.dontFlip;return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:i,offsetX:a===void 0?0:a,offsetY:o===void 0?0:o,dontFlip:u!==void 0&&u})}},{key:"getAnnotations",value:function(){var t=(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{}).intent,t=t===void 0?null:t;return this.annotationsPromise&&this.annotationsIntent===t||(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,t),this.annotationsIntent=t),this.annotationsPromise}},{key:"render",value:function(z){var i=this,a=z.canvasContext,o=z.viewport,j=z.intent,u=j===void 0?"display":j,k=z.enableWebGL,d=k!==void 0&&k,Z=z.renderInteractiveForms,n=Z!==void 0&&Z,j=z.transform,k=j===void 0?null:j,Z=z.imageLayer,j=Z===void 0?null:Z,Z=z.canvasFactory,Z=Z===void 0?null:Z,z=z.background,z=z===void 0?null:z;this._stats&&this._stats.time("Overall");var H=u==="print"?"print":"display";this.pendingCleanup=!1,this.intentStates[H]||(this.intentStates[H]=Object.create(null));var Y=this.intentStates[H];Y.streamReaderCancelTimeout&&(clearTimeout(Y.streamReaderCancelTimeout),Y.streamReaderCancelTimeout=null),Z=Z||new _display_utils.DOMCanvasFactory,d=new _webgl.WebGLContext({enable:d}),Y.displayReadyCapability||(Y.displayReadyCapability=(0,_util.createPromiseCapability)(),Y.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:H,renderInteractiveForms:n===!0}));function I(U){var T=Y.renderTasks.indexOf(B);0<=T&&Y.renderTasks.splice(T,1),!i.cleanupAfterRender&&H!=="print"||(i.pendingCleanup=!0),i._tryCleanup(),U?(B.capability.reject(U),i._abortOperatorList({intentState:Y,reason:U})):B.capability.resolve(),i._stats&&(i._stats.timeEnd("Rendering"),i._stats.timeEnd("Overall"))}var B=new InternalRenderTask({callback:I,params:{canvasContext:a,viewport:o,transform:k,imageLayer:j,background:z},objs:this.objs,commonObjs:this.commonObjs,operatorList:Y.operatorList,pageIndex:this._pageIndex,canvasFactory:Z,webGLContext:d,useRequestAnimationFrame:H!=="print",pdfBug:this._pdfBug});return Y.renderTasks||(Y.renderTasks=[]),Y.renderTasks.push(B),d=B.task,Y.displayReadyCapability.promise.then(function(U){i.pendingCleanup?I():(i._stats&&i._stats.time("Rendering"),B.initializeGraphics(U),B.operatorListChanged())}).catch(I),d}},{key:"getOperatorList",value:function(){var t="oplist";this.intentStates[t]||(this.intentStates[t]=Object.create(null));var i,a=this.intentStates[t];return a.opListReadCapability||(i={operatorListChanged:function(){var o;a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),0<=(o=a.renderTasks.indexOf(i))&&a.renderTasks.splice(o,1))}},a.opListReadCapability=(0,_util.createPromiseCapability)(),a.renderTasks=[],a.renderTasks.push(i),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:t})),a.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=i.normalizeWhitespace,i=i.disableCombineTextItems;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:(t!==void 0&&t)===!0,combineTextItems:(i!==void 0&&i)!==!0},{highWaterMark:100,size:function(a){return a.items.length}})}},{key:"getTextContent",value:function(){var t=this.streamTextContent(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{});return new Promise(function(i,a){var o=t.getReader(),u={items:[],styles:Object.create(null)};(function d(){o.read().then(function(n){var k=n.value;n.done?i(u):(Object.assign(u.styles,k.styles),(n=u.items).push.apply(n,_toConsumableArray(k.items)),d())},a)})()})}},{key:"_destroy",value:function(){var t=this;this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var i=[];return Object.keys(this.intentStates).forEach(function(a){var o=t.intentStates[a];t._abortOperatorList({intentState:o,reason:new Error("Page was destroyed."),force:!0}),a!=="oplist"&&o.renderTasks.forEach(function(u){var d=u.capability.promise.catch(function(){});i.push(d),u.cancel()})}),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(i)}},{key:"cleanup",value:function(){var t=0<arguments.length&&arguments[0]!==void 0&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(t)}},{key:"_tryCleanup",value:function(){var t=this,i=0<arguments.length&&arguments[0]!==void 0&&arguments[0];return!(!this.pendingCleanup||Object.keys(this.intentStates).some(function(a){return a=t.intentStates[a],a.renderTasks.length!==0||!a.operatorList.lastChunk}))&&(Object.keys(this.intentStates).forEach(function(a){delete t.intentStates[a]}),this.objs.clear(),this.annotationsPromise=null,i&&this._stats&&(this._stats=new _display_utils.StatTimer),!(this.pendingCleanup=!1))}},{key:"_startRenderPage",value:function(t,i){i=this.intentStates[i],i&&(this._stats&&this._stats.timeEnd("Page Request"),i.displayReadyCapability&&i.displayReadyCapability.resolve(t))}},{key:"_renderPageChunk",value:function(t,i){for(var a=0,o=t.length;a<o;a++)i.operatorList.fnArray.push(t.fnArray[a]),i.operatorList.argsArray.push(t.argsArray[a]);i.operatorList.lastChunk=t.lastChunk;for(var u=0;u<i.renderTasks.length;u++)i.renderTasks[u].operatorListChanged();t.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(t){var i=this;(0,_util.assert)(t.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var a=this._transport.messageHandler.sendWithStream("GetOperatorList",t).getReader(),o=this.intentStates[t.intent];o.streamReader=a,function u(){a.read().then(function(d){var n=d.value;d.done?o.streamReader=null:i._transport.destroyed||(i._renderPageChunk(n,o),u())},function(d){if(o.streamReader=null,!i._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(var n=0;n<o.renderTasks.length;n++)o.renderTasks[n].operatorListChanged();i._tryCleanup()}if(o.displayReadyCapability)o.displayReadyCapability.reject(d);else{if(!o.opListReadCapability)throw d;o.opListReadCapability.reject(d)}}})}()}},{key:"_abortOperatorList",value:function(u){var i=this,a=u.intentState,o=u.reason,u=u.force,u=u!==void 0&&u;if((0,_util.assert)(o instanceof Error||_typeof(o)==="object"&&o!==null,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),a.streamReader){if(!u){if(a.renderTasks.length!==0)return;if(o instanceof _display_utils.RenderingCancelledException)return void(a.streamReaderCancelTimeout=setTimeout(function(){i._abortOperatorList({intentState:a,reason:o,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}a.streamReader.cancel(new _util.AbortException(o&&o.message)),a.streamReader=null,this._transport.destroyed||(Object.keys(this.intentStates).some(function(d){return i.intentStates[d]===a&&(delete i.intentStates[d],!0)}),this.cleanup())}}},{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"stats",get:function(){return this._stats}}]),e}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function e(){var t=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0];_classCallCheck(this,e),this._listeners=[],this._defer=t,this._deferred=Promise.resolve(void 0)}return _createClass(e,[{key:"postMessage",value:function(t,i){var a,o,u=this;this._defer?(a=new WeakMap,o={data:function d(n){if(_typeof(n)!=="object"||n===null)return n;if(a.has(n))return a.get(n);var k,j;if((k=n.buffer)&&(0,_util.isArrayBuffer)(k)){var Z=i&&i.includes(k)?new n.constructor(k,n.byteOffset,n.byteLength):new n.constructor(n);return a.set(n,Z),Z}for(j in Z=Array.isArray(n)?[]:{},a.set(n,Z),n){for(var z=void 0,H=n;!(z=Object.getOwnPropertyDescriptor(H,j));)H=Object.getPrototypeOf(H);if(z.value!==void 0){if(typeof z.value!="function")Z[j]=d(z.value);else if(n.hasOwnProperty&&n.hasOwnProperty(j))throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(n[j]))}}return Z}(t)},this._deferred.then(function(){u._listeners.forEach(function(d){d.call(u,o)})})):this._listeners.forEach(function(d){d.call(u,{data:t})})}},{key:"addEventListener",value:function(t,i){this._listeners.push(i)}},{key:"removeEventListener",value:function(t,i){i=this._listeners.indexOf(i),this._listeners.splice(i,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),e}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function PDFWorkerClosure(){var pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability,pdfjsFilePath;function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(fallbackWorkerSrc!==void 0)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var e;try{e=globalThis.pdfjsWorker&&globalThis.pdfjsWorker.WorkerMessageHandler}catch{}return e||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();var loader=function(){var _ref10=_asyncToGenerator(_regenerator.default.mark(function _callee(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(mainWorkerMessageHandler=getMainThreadWorkerMessageHandler(),mainWorkerMessageHandler)return _context.abrupt("return",mainWorkerMessageHandler);_context.next=3;break;case 3:if(_is_node.isNodeJS)return worker=eval("require")(_getWorkerSrc()),_context.abrupt("return",worker.WorkerMessageHandler);_context.next=6;break;case 6:return _context.next=8,(0,_display_utils.loadScript)(_getWorkerSrc());case 8:return _context.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context.stop()}},_callee)}));return function(){return _ref10.apply(this,arguments)}}();return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(e){return URL.createObjectURL(new Blob(["importScripts('"+e+"');"]))}_is_node.isNodeJS?(isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js"):(typeof document>"u"?"undefined":_typeof(document))==="object"&&"currentScript"in document&&(pdfjsFilePath=document.currentScript&&document.currentScript.src,pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2")));var PDFWorker=function(){function e(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},i=a.name,t=i===void 0?null:i,i=a.port,i=i===void 0?null:i,a=a.verbosity,a=a===void 0?(0,_util.getVerbosityLevel)():a;if(_classCallCheck(this,e),i&&pdfWorkerPorts.has(i))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=t,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=a,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,i)return pdfWorkerPorts.set(i,this),void this._initializeFromPort(i);this._initialize()}return _createClass(e,[{key:"_initializeFromPort",value:function(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var t=this;if(typeof Worker<"u"&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var i=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,i)||(i=createCDNWrapper(new URL(i,window.location).href));var a=new Worker(i),o=new _message_handler.MessageHandler("main","worker",a),u=function(){a.removeEventListener("error",d),o.destroy(),a.terminate(),t.destroyed?t._readyCapability.reject(new Error("Worker was destroyed")):t._setupFakeWorker()},d=function(){t._webWorker||u()};a.addEventListener("error",d),o.on("test",function(k){a.removeEventListener("error",d),t.destroyed?u():k?(t._messageHandler=o,t._port=a,t._webWorker=a,k.supportTransfers||(t.postMessageTransfers=!1),t._readyCapability.resolve(),o.send("configure",{verbosity:t.verbosity})):(t._setupFakeWorker(),o.destroy(),a.terminate())}),o.on("ready",function(k){if(a.removeEventListener("error",d),t.destroyed)u();else try{n()}catch{t._setupFakeWorker()}});var n=function(){var k=new Uint8Array([t.postMessageTransfers?255:0]);try{o.send("test",k,[k.buffer])}catch{(0,_util.warn)("Cannot use postMessage transfers."),k[0]=0,o.send("test",k)}};return void n()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var t=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then(function(i){var a,o,u;t.destroyed?t._readyCapability.reject(new Error("Worker was destroyed")):(u=new LoopbackPort,t._port=u,a="fake"+nextFakeWorkerId++,o=new _message_handler.MessageHandler(a+"_worker",a,u),i.setup(o,u),u=new _message_handler.MessageHandler(a,a+"_worker",u),t._messageHandler=u,t._readyCapability.resolve(),u.send("configure",{verbosity:t.verbosity}))}).catch(function(i){t._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(i.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}}],[{key:"fromPort",value:function(t){if(!t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(t.port)?pdfWorkerPorts.get(t.port):new e(t)}},{key:"getWorkerSrc",value:function(){return _getWorkerSrc()}}]),e}();return PDFWorker}();exports.PDFWorker=PDFWorker;var WorkerTransport=function(){function e(t,i,a,o){_classCallCheck(this,e),this.messageHandler=t,this.loadingTask=i,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:i.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)}),this._params=o,this.CMapReaderFactory=new o.CMapReaderFactory({baseUrl:o.cMapUrl,isCompressed:o.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=a,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(e,[{key:"destroy",value:function(){var t=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var i=[];this.pageCache.forEach(function(o){o&&i.push(o._destroy())}),this.pageCache.length=0,this.pagePromises.length=0;var a=this.messageHandler.sendWithPromise("Terminate",null);return i.push(a),Promise.all(i).then(function(){t.fontLoader.clear(),t._networkStream&&t._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),t.messageHandler&&(t.messageHandler.destroy(),t.messageHandler=null),t.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var t=this,i=this.messageHandler,a=this.loadingTask;i.on("GetReader",function(o,u){(0,_util.assert)(t._networkStream,"GetReader - no `IPDFStream` instance available."),t._fullReader=t._networkStream.getFullReader(),t._fullReader.onProgress=function(d){t._lastProgress={loaded:d.loaded,total:d.total}},u.onPull=function(){t._fullReader.read().then(function(d){var n=d.value;d.done?u.close():((0,_util.assert)((0,_util.isArrayBuffer)(n),"GetReader - expected an ArrayBuffer."),u.enqueue(new Uint8Array(n),1,[n]))}).catch(function(d){u.error(d)})},u.onCancel=function(d){t._fullReader.cancel(d)}}),i.on("ReaderHeadersReady",function(o){var u=(0,_util.createPromiseCapability)(),d=t._fullReader;return d.headersReady.then(function(){d.isStreamingSupported&&d.isRangeSupported||(t._lastProgress&&a.onProgress&&a.onProgress(t._lastProgress),d.onProgress=function(n){a.onProgress&&a.onProgress({loaded:n.loaded,total:n.total})}),u.resolve({isStreamingSupported:d.isStreamingSupported,isRangeSupported:d.isRangeSupported,contentLength:d.contentLength})},u.reject),u.promise}),i.on("GetRangeReader",function(o,u){(0,_util.assert)(t._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var d=t._networkStream.getRangeReader(o.begin,o.end);d?(u.onPull=function(){d.read().then(function(n){var k=n.value;n.done?u.close():((0,_util.assert)((0,_util.isArrayBuffer)(k),"GetRangeReader - expected an ArrayBuffer."),u.enqueue(new Uint8Array(k),1,[k]))}).catch(function(n){u.error(n)})},u.onCancel=function(n){d.cancel(n)}):u.close()}),i.on("GetDoc",function(o){o=o.pdfInfo,t._numPages=o.numPages,a._capability.resolve(new PDFDocumentProxy(o,t))}),i.on("DocException",function(o){var u;switch(o.name){case"PasswordException":u=new _util.PasswordException(o.message,o.code);break;case"InvalidPDFException":u=new _util.InvalidPDFException(o.message);break;case"MissingPDFException":u=new _util.MissingPDFException(o.message);break;case"UnexpectedResponseException":u=new _util.UnexpectedResponseException(o.message,o.status);break;case"UnknownErrorException":u=new _util.UnknownErrorException(o.message,o.details)}a._capability.reject(u)}),i.on("PasswordRequest",function(o){if(t._passwordCapability=(0,_util.createPromiseCapability)(),a.onPassword)try{a.onPassword(function(u){t._passwordCapability.resolve({password:u})},o.code)}catch(u){t._passwordCapability.reject(u)}else t._passwordCapability.reject(new _util.PasswordException(o.message,o.code));return t._passwordCapability.promise}),i.on("DataLoaded",function(o){a.onProgress&&a.onProgress({loaded:o.length,total:o.length}),t.downloadInfoCapability.resolve(o)}),i.on("StartRenderPage",function(o){t.destroyed||t.pageCache[o.pageIndex]._startRenderPage(o.transparency,o.intent)}),i.on("commonobj",function(o){if(!t.destroyed){var o=_slicedToArray(o,3),u=o[0],d=o[1],n=o[2];if(!t.commonObjs.has(u))switch(d){case"Font":var k=t._params;if("error"in n){var j=n.error;(0,_util.warn)("Error during font loading: ".concat(j)),t.commonObjs.resolve(u,j);break}j=null,k.pdfBug&&globalThis.FontInspector&&globalThis.FontInspector.enabled&&(j={registerFont:function(H,Y){globalThis.FontInspector.fontAdded(H,Y)}});var Z=new _font_loader.FontFaceObject(n,{isEvalSupported:k.isEvalSupported,disableFontFace:k.disableFontFace,ignoreErrors:k.ignoreErrors,onUnsupportedFeature:t._onUnsupportedFeature.bind(t),fontRegistry:j});t.fontLoader.bind(Z).catch(function(H){return i.sendWithPromise("FontFallback",{id:u})}).finally(function(){!k.fontExtraProperties&&Z.data&&(Z.data=null),t.commonObjs.resolve(u,Z)});break;case"FontPath":case"FontType3Res":case"Image":t.commonObjs.resolve(u,n);break;default:throw new Error("Got unknown common object type ".concat(d))}}}),i.on("obj",function(o){if(!t.destroyed){var d=_slicedToArray(o,4),u=d[0],n=d[1],o=d[2],d=d[3],n=t.pageCache[n];if(!n.objs.has(u)){if(o!=="Image")throw new Error("Got unknown object type ".concat(o));n.objs.resolve(u,d),d&&"data"in d&&8e6<d.data.length&&(n.cleanupAfterRender=!0)}}}),i.on("DocProgress",function(o){t.destroyed||a.onProgress&&a.onProgress({loaded:o.loaded,total:o.total})}),i.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),i.on("FetchBuiltInCMap",function(o,u){var d;t.destroyed?u.error(new Error("Worker was destroyed")):(d=!1,u.onPull=function(){d?u.close():(d=!0,t.CMapReaderFactory.fetch(o).then(function(n){u.enqueue(n,1,[n.cMapData.buffer])}).catch(function(n){u.error(n)}))})})}},{key:"_onUnsupportedFeature",value:function(t){t=t.featureId,this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(t)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(t){var i=this;if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request"));var a=t-1;return a in this.pagePromises?this.pagePromises[a]:(t=this.messageHandler.sendWithPromise("GetPage",{pageIndex:a}).then(function(o){if(i.destroyed)throw new Error("Transport destroyed");return o=new PDFPageProxy(a,o,i,i._params.pdfBug),i.pageCache[a]=o}),this.pagePromises[a]=t)}},{key:"getPageIndex",value:function(t){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:t}).catch(function(i){return Promise.reject(new Error(i))})}},{key:"getAnnotations",value:function(t,i){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:i})}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var t=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(i){return{info:i[0],metadata:i[1]?new _metadata.Metadata(i[1]):null,contentDispositionFilename:t._fullReader?t._fullReader.filename:null}})}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var t=this;return this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var i=0,a=t.pageCache.length;i<a;i++){var o=t.pageCache[i];if(o&&!o.cleanup())throw new Error("startCleanup: Page ".concat(i+1," is currently rendering."))}t.commonObjs.clear(),t.fontLoader.clear()})}},{key:"loadingParams",get:function(){var t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,disableFontFace:t.disableFontFace})}}]),e}(),PDFObjects=function(){function e(){_classCallCheck(this,e),this._objs=Object.create(null)}return _createClass(e,[{key:"_ensureObj",value:function(t){return this._objs[t]||(this._objs[t]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1})}},{key:"get",value:function(t){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;if(i)return this._ensureObj(t).capability.promise.then(i),null;if(i=this._objs[t],!i||!i.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return i.data}},{key:"has",value:function(t){return t=this._objs[t],!!t&&t.resolved}},{key:"resolve",value:function(t,i){t=this._ensureObj(t),t.resolved=!0,t.data=i,t.capability.resolve(i)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),e}(),RenderTask=function(){function e(t){_classCallCheck(this,e),this._internalRenderTask=t,this.onContinue=null}return _createClass(e,[{key:"cancel",value:function(){this._internalRenderTask.cancel()}},{key:"promise",get:function(){return this._internalRenderTask.capability.promise}}]),e}(),InternalRenderTask=(pva=new WeakSet,function(){function e(H){var a=H.callback,o=H.params,u=H.objs,d=H.commonObjs,n=H.operatorList,k=H.pageIndex,j=H.canvasFactory,Z=H.webGLContext,z=H.useRequestAnimationFrame,z=z!==void 0&&z,H=H.pdfBug,H=H!==void 0&&H;_classCallCheck(this,e),this.callback=a,this.params=o,this.objs=u,this.commonObjs=d,this.operatorListIdx=null,this.operatorList=n,this._pageIndex=k,this.canvasFactory=j,this.webGLContext=Z,this._pdfBug=H,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=z===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=o.canvasContext.canvas}var t;return _createClass(e,[{key:"initializeGraphics",value:function(){var i=0<arguments.length&&arguments[0]!==void 0&&arguments[0];if(!this.cancelled){if(this._canvas){if(pva.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");pva.add(this._canvas)}this._pdfBug&&globalThis.StepperManager&&globalThis.StepperManager.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var n=this.params,a=n.canvasContext,o=n.viewport,u=n.transform,d=n.imageLayer,n=n.background;this.gfx=new _canvas.CanvasGraphics(a,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,d),this.gfx.beginDrawing({transform:u,viewport:o,transparency:i,background:n}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&pva.delete(this._canvas),this.callback(i||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var i=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){i._nextBound().catch(i.cancel.bind(i))}):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}},{key:"_next",value:(t=_asyncToGenerator(_regenerator.default.mark(function i(){return _regenerator.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(this.cancelled)return a.abrupt("return");a.next=2;break;case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&pva.delete(this._canvas),this.callback()));case 4:case"end":return a.stop()}},i,this)})),function(){return t.apply(this,arguments)})}]),e}()),pva,version="2.5.207";exports.version=version;var build="0974d605";exports.build=build},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var a,o=(a=i(2))&&a.__esModule?a:{default:a},u=i(5);function d(U){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(U)}function n(U,T){return(n=Object.setPrototypeOf||function(C,P){return C.__proto__=P,C})(U,T)}function k(U){var T=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var C,P=j(U);return C=T?(C=j(this).constructor,Reflect.construct(P,arguments,C)):P.apply(this,arguments),P=this,!(C=C)||d(C)!=="object"&&typeof C!="function"?function(G){if(G!==void 0)return G;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(P):C}}function j(U){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(U)}function Z(U,T,C,P,G,q,N){try{var ne=U[q](N),K=ne.value}catch(L){return void C(L)}ne.done?T(K):Promise.resolve(K).then(P,G)}function z(U,T){if(!(U instanceof T))throw new TypeError("Cannot call a class as a function")}function H(U,T){for(var C=0;C<T.length;C++){var P=T[C];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(U,P.key,P)}}function Y(U,T,C){return T&&H(U.prototype,T),C&&H(U,C),U}var I=function(){function U(q){var G=q.docId,q=q.onUnsupportedFeature;z(this,U),this.constructor===U&&(0,u.unreachable)("Cannot initialize BaseFontLoader."),this.docId=G,this._onUnsupportedFeature=q,this.nativeFontFaces=[],this.styleElement=null}var T,C;return Y(U,[{key:"addNativeFontFace",value:function(P){this.nativeFontFaces.push(P),document.fonts.add(P)}},{key:"insertRule",value:function(P){var G=this.styleElement;G||((G=this.styleElement=document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),document.documentElement.getElementsByTagName("head")[0].appendChild(G)),G=G.sheet,G.insertRule(P,G.cssRules.length)}},{key:"clear",value:function(){this.nativeFontFaces.forEach(function(P){document.fonts.delete(P)}),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(T=o.default.mark(function P(G){var q,N,ne=this;return o.default.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(G.attached||G.missingFile)return K.abrupt("return");K.next=2;break;case 2:if(G.attached=!0,!this.isFontLoadingAPISupported){K.next=19;break}if(q=G.createNativeFontFace())return this.addNativeFontFace(q),K.prev=7,K.next=10,q.loaded;K.next=18;break;case 10:K.next=18;break;case 12:throw K.prev=12,K.t0=K.catch(7),this._onUnsupportedFeature({featureId:u.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,u.warn)("Failed to load font '".concat(q.family,"': '").concat(K.t0,"'.")),G.disableFontFace=!0,K.t0;case 18:return K.abrupt("return");case 19:if(!(N=G.createFontFaceRule())){K.next=26;break}if(this.insertRule(N),this.isSyncFontLoadingSupported)return K.abrupt("return");K.next=24;break;case 24:return K.next=26,new Promise(function(L){L=ne._queueLoadingCallback(L),ne._prepareFontLoadEvent([N],[G],L)});case 26:case"end":return K.stop()}},P,this,[[7,12]])}),C=function(){var P=this,G=arguments;return new Promise(function(q,N){var ne=T.apply(P,G);function K(E){Z(ne,q,N,K,L,"next",E)}function L(E){Z(ne,q,N,K,L,"throw",E)}K(void 0)})},function(P){return C.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(P){(0,u.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function(P,G,q){(0,u.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function(){var P=typeof document<"u"&&!!document.fonts;return(0,u.shadow)(this,"isFontLoadingAPISupported",P)}},{key:"isSyncFontLoadingSupported",get:function(){(0,u.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,u.unreachable)("Abstract method `_loadTestFont`.")}}]),U}();t.FontLoader=void 0,t.FontLoader=function(){(function(C,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(P&&P.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),P&&n(C,P)})(T,I);var U=k(T);function T(C){return z(this,T),(C=U.call(this,C)).loadingContext={requests:[],nextRequestId:0},C.loadTestFontId=0,C}return Y(T,[{key:"_queueLoadingCallback",value:function(C){var P=this.loadingContext,G={id:"pdfjs-font-loading-".concat(P.nextRequestId++),done:!1,complete:function(){for((0,u.assert)(!G.done,"completeRequest() cannot be called twice."),G.done=!0;0<P.requests.length&&P.requests[0].done;){var q=P.requests.shift();setTimeout(q.callback,0)}},callback:C};return P.requests.push(G),G}},{key:"_prepareFontLoadEvent",value:function(C,P,G){function q(X,re){return X.charCodeAt(re)<<24|X.charCodeAt(re+1)<<16|X.charCodeAt(re+2)<<8|255&X.charCodeAt(re+3)}function N(X,re,ee,he){return X.substring(0,re)+he+X.substring(re+ee)}var ne=document.createElement("canvas");ne.width=1,ne.height=1;var K=ne.getContext("2d"),L=0;function E(X,re){if(30<++L)return(0,u.warn)("Load test font never loaded."),void re();K.font="30px "+X,K.fillText(".",0,20),0<K.getImageData(0,0,1,1).data[3]?re():setTimeout(E.bind(null,X,re))}for(var w="lt".concat(Date.now()).concat(this.loadTestFontId++),g=q(ne=N(ne=this._loadTestFont,976,w.length,w),16),A=0,m=w.length-3;A<m;A+=4)g=g-1482184792+q(w,A)|0;A<w.length&&(g=g-1482184792+q(w+"XXX",A)|0),ne=N(ne,16,4,(0,u.string32)(g)),ne="url(data:font/opentype;base64,".concat(btoa(ne),");"),ne='@font-face {font-family:"'.concat(w,'";src:').concat(ne,"}"),this.insertRule(ne);var y=[];for(A=0,m=P.length;A<m;A++)y.push(P[A].loadedName);y.push(w);var x=document.createElement("div");for(x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px",A=0,m=y.length;A<m;++A){var M=document.createElement("span");M.textContent="Hi",M.style.fontFamily=y[A],x.appendChild(M)}document.body.appendChild(x),E(w,function(){document.body.removeChild(x),G.complete()})}},{key:"isSyncFontLoadingSupported",get:function(){var C,P=!1;return(typeof navigator>"u"||(C=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent))&&14<=C[1])&&(P=!0),(0,u.shadow)(this,"isSyncFontLoadingSupported",P)}},{key:"_loadTestFont",get:function(){return(0,u.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}}]),T}();var B=function(){function U(T,K){var P,ne=K.isEvalSupported,G=ne===void 0||ne,N=K.disableFontFace,q=N!==void 0&&N,ne=K.ignoreErrors,N=ne!==void 0&&ne,ne=K.onUnsupportedFeature,ne=ne===void 0?null:ne,K=K.fontRegistry,K=K===void 0?null:K;for(P in z(this,U),this.compiledGlyphs=Object.create(null),T)this[P]=T[P];this.isEvalSupported=G!==!1,this.disableFontFace=q===!0,this.ignoreErrors=N===!0,this._onUnsupportedFeature=ne,this.fontRegistry=K}return Y(U,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var T=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),T}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var C=(0,u.bytesToString)(new Uint8Array(this.data)),T="url(data:".concat(this.mimetype,";base64,").concat(btoa(C),");"),C='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(T,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,T),C}},{key:"getPathGenerator",value:function(T,C){if(this.compiledGlyphs[C]!==void 0)return this.compiledGlyphs[C];var P,G;try{P=T.get(this.loadedName+"_path_"+C)}catch(L){if(!this.ignoreErrors)throw L;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:u.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,u.warn)('getPathGenerator - ignoring character: "'.concat(L,'".')),this.compiledGlyphs[C]=function(E,w){}}if(this.isEvalSupported&&u.IsEvalSupportedCached.value){for(var q,N="",ne=0,K=P.length;ne<K;ne++)q=(G=P[ne]).args!==void 0?G.args.join(","):"",N+="c."+G.cmd+"("+q+`);
`;return this.compiledGlyphs[C]=new Function("c","size",N)}return this.compiledGlyphs[C]=function(L,E){for(var w=0,g=P.length;w<g;w++)(G=P[w]).cmd==="scale"&&(G.args=[E,-E]),L[G.cmd].apply(L,G.args)}}}]),U}();t.FontFaceObject=B},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.apiCompatibilityParams=void 0;var a=o(7),o=Object.create(null);a.isNodeJS&&(o.disableFontFace=!0),o=Object.freeze(o),t.apiCompatibilityParams=o},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var a=i(5),o=i(202);function u(H,Y){var I;if(typeof Symbol>"u"||H[Symbol.iterator]==null){if(Array.isArray(H)||(I=function(P,G){if(P){if(typeof P=="string")return d(P,G);var q=Object.prototype.toString.call(P).slice(8,-1);return(q=q==="Object"&&P.constructor?P.constructor.name:q)==="Map"||q==="Set"?Array.from(P):q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q)?d(P,G):void 0}}(H))||Y&&H&&typeof H.length=="number"){I&&(H=I);var B=0,Y=function(){};return{s:Y,n:function(){return B>=H.length?{done:!0}:{done:!1,value:H[B++]}},e:function(G){throw G},f:Y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var U,T=!0,C=!1;return{s:function(){I=H[Symbol.iterator]()},n:function(){var P=I.next();return T=P.done,P},e:function(P){C=!0,U=P},f:function(){try{T||I.return==null||I.return()}finally{if(C)throw U}}}}function d(H,Y){(Y==null||Y>H.length)&&(Y=H.length);for(var I=0,B=new Array(Y);I<Y;I++)B[I]=H[I];return B}function n(H){H.mozCurrentTransform||(H._originalSave=H.save,H._originalRestore=H.restore,H._originalRotate=H.rotate,H._originalScale=H.scale,H._originalTranslate=H.translate,H._originalTransform=H.transform,H._originalSetTransform=H.setTransform,H._transformMatrix=H._transformMatrix||[1,0,0,1,0,0],H._transformStack=[],Object.defineProperty(H,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(H,"mozCurrentTransformInverse",{get:function(){var G=this._transformMatrix,Y=G[0],I=G[1],B=G[2],U=G[3],T=G[4],C=G[5],P=Y*U-I*B,G=I*B-Y*U;return[U/P,I/G,B/G,Y/P,(U*T-B*C)/G,(I*T-Y*C)/P]}}),H.save=function(){var Y=this._transformMatrix;this._transformStack.push(Y),this._transformMatrix=Y.slice(0,6),this._originalSave()},H.restore=function(){var Y=this._transformStack.pop();Y&&(this._transformMatrix=Y,this._originalRestore())},H.translate=function(Y,I){var B=this._transformMatrix;B[4]=B[0]*Y+B[2]*I+B[4],B[5]=B[1]*Y+B[3]*I+B[5],this._originalTranslate(Y,I)},H.scale=function(Y,I){var B=this._transformMatrix;B[0]=B[0]*Y,B[1]=B[1]*Y,B[2]=B[2]*I,B[3]=B[3]*I,this._originalScale(Y,I)},H.transform=function(Y,I,B,U,T,C){var P=this._transformMatrix;this._transformMatrix=[P[0]*Y+P[2]*I,P[1]*Y+P[3]*I,P[0]*B+P[2]*U,P[1]*B+P[3]*U,P[0]*T+P[2]*C+P[4],P[1]*T+P[3]*C+P[5]],H._originalTransform(Y,I,B,U,T,C)},H.setTransform=function(Y,I,B,U,T,C){this._transformMatrix=[Y,I,B,U,T,C],H._originalSetTransform(Y,I,B,U,T,C)},H.rotate=function(Y){var I=Math.cos(Y),B=Math.sin(Y),U=this._transformMatrix;this._transformMatrix=[U[0]*I+U[2]*B,U[1]*I+U[3]*B,U[0]*-B+U[2]*I,U[1]*-B+U[3]*I,U[4],U[5]],this._originalRotate(Y)})}var k=(j.prototype={getCanvas:function(H,Y,I,B){var U;return this.cache[H]!==void 0?(U=this.cache[H],this.canvasFactory.reset(U,Y,I),U.context.setTransform(1,0,0,1,0,0)):(U=this.canvasFactory.create(Y,I),this.cache[H]=U),B&&n(U.context),U},clear:function(){for(var H in this.cache){var Y=this.cache[H];this.canvasFactory.destroy(Y),delete this.cache[H]}}},j);function j(H){this.canvasFactory=H,this.cache=Object.create(null)}var Z=(z.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(H,Y){this.x=H,this.y=Y}},z);function z(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}i=function(){function H(E,w,g,A,m,y){this.ctx=E,this.current=new Z,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=w,this.objs=g,this.canvasFactory=A,this.webGLContext=m,this.imageLayer=y,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new k(this.canvasFactory),E&&n(E),this._cachedGetSinglePixelWidth=null}function Y(E,w){if(typeof ImageData<"u"&&w instanceof ImageData)E.putImageData(w,0,0);else{var g,A,m,y,x=w.height,M=w.width,X=x%16,re=(x-X)/16,ee=X==0?re:1+re,he=E.createImageData(M,16),ye=0,Ce=w.data,oe=he.data;if(w.kind===a.ImageKind.GRAYSCALE_1BPP)for(var de=Ce.byteLength,fe=new Uint32Array(oe.buffer,0,oe.byteLength>>2),ue=fe.length,pe=M+7>>3,te=4294967295,ge=a.IsLittleEndianCached.value?4278190080:255,xe=0;xe<ee;xe++){for(m=xe<re?16:X,A=g=0;A<m;A++){for(var ce=de-ye,we=0,Ae=pe<ce?M:8*ce-7,Fe=-8&Ae,De=0,Ge=0;we<Fe;we+=8)Ge=Ce[ye++],fe[g++]=128&Ge?te:ge,fe[g++]=64&Ge?te:ge,fe[g++]=32&Ge?te:ge,fe[g++]=16&Ge?te:ge,fe[g++]=8&Ge?te:ge,fe[g++]=4&Ge?te:ge,fe[g++]=2&Ge?te:ge,fe[g++]=1&Ge?te:ge;for(;we<Ae;we++)De===0&&(Ge=Ce[ye++],De=128),fe[g++]=Ge&De?te:ge,De>>=1}for(;g<ue;)fe[g++]=0;E.putImageData(he,0,16*xe)}else if(w.kind===a.ImageKind.RGBA_32BPP){for(y=16*M*4,xe=A=0;xe<re;xe++)oe.set(Ce.subarray(ye,ye+y)),ye+=y,E.putImageData(he,0,A),A+=16;xe<ee&&(oe.set(Ce.subarray(ye,ye+(y=M*X*4))),E.putImageData(he,0,A))}else{if(w.kind!==a.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(w.kind));for(y=M*(m=16),xe=0;xe<ee;xe++){for(g=0,A=y=re<=xe?M*(m=X):y;A--;)oe[g++]=Ce[ye++],oe[g++]=Ce[ye++],oe[g++]=Ce[ye++],oe[g++]=255;E.putImageData(he,0,16*xe)}}}}function I(E,w){for(var g=w.height,A=w.width,m=g%16,y=(g-m)/16,x=m==0?y:1+y,M=E.createImageData(A,16),X=0,re=w.data,ee=M.data,he=0;he<x;he++){for(var ye=he<y?16:m,Ce=3,oe=0;oe<ye;oe++)for(var de,fe=0,ue=0;ue<A;ue++)fe||(de=re[X++],fe=128),ee[Ce]=de&fe?0:255,Ce+=4,fe>>=1;E.putImageData(M,0,16*he)}}function B(E,w){for(var g=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],A=0,m=g.length;A<m;A++){var y=g[A];E[y]!==void 0&&(w[y]=E[y])}E.setLineDash!==void 0&&(w.setLineDash(E.getLineDash()),w.lineDashOffset=E.lineDashOffset)}function U(E){E.strokeStyle="#000000",E.fillStyle="#000000",E.fillRule="nonzero",E.globalAlpha=1,E.lineWidth=1,E.lineCap="butt",E.lineJoin="miter",E.miterLimit=10,E.globalCompositeOperation="source-over",E.font="10px sans-serif",E.setLineDash!==void 0&&(E.setLineDash([]),E.lineDashOffset=0)}function T(E,w,g){for(var A=E.length,m=3;m<A;m+=4){var y=g?g[E[m]]:E[m];w[m]=w[m]*y*.00392156862745098|0}}function C(E,w,g){for(var A=E.length,m=3;m<A;m+=4){var y=77*E[m-3]+152*E[m-2]+28*E[m-1];w[m]=g?w[m]*g[y>>8]>>8:w[m]*y>>16}}function P(E,w,g,A,m,y,x){for(var M=!!y,X=M?y[0]:0,re=M?y[1]:0,ee=M?y[2]:0,he=m==="Luminosity"?C:T,ye=Math.min(A,Math.ceil(1048576/g)),Ce=0;Ce<A;Ce+=ye){var de=Math.min(ye,A-Ce),oe=E.getImageData(0,Ce,g,de),de=w.getImageData(0,Ce,g,de);M&&function(fe,ue,pe,te){for(var ge=fe.length,xe=3;xe<ge;xe+=4){var ce,we=fe[xe];we===0?(fe[xe-3]=ue,fe[xe-2]=pe,fe[xe-1]=te):we<255&&(fe[xe-3]=fe[xe-3]*we+ue*(ce=255-we)>>8,fe[xe-2]=fe[xe-2]*we+pe*ce>>8,fe[xe-1]=fe[xe-1]*we+te*ce>>8)}}(oe.data,X,re,ee),he(oe.data,de.data,x),E.putImageData(de,0,Ce)}}function G(E,w,g,A){var m=w.canvas,y=w.context;E.setTransform(w.scaleX,0,0,w.scaleY,w.offsetX,w.offsetY);var x=w.backdrop||null;if(!w.transferMap&&A.isEnabled)return A=A.composeSMask({layer:g.canvas,mask:m,properties:{subtype:w.subtype,backdrop:x}}),E.setTransform(1,0,0,1,0,0),void E.drawImage(A,w.offsetX,w.offsetY);P(y,g,m.width,m.height,w.subtype,x,w.transferMap),E.drawImage(m,0,0)}var q,N=["butt","round","square"],ne=["miter","round","bevel"],K={},L={};for(q in H.prototype={beginDrawing:function(y){var w=y.transform,g=y.viewport,m=y.transparency,A=m!==void 0&&m,x=y.background,m=x===void 0?null:x,y=this.ctx.canvas.width,x=this.ctx.canvas.height;this.ctx.save(),this.ctx.fillStyle=m||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,y,x),this.ctx.restore(),A&&(x=this.cachedCanvases.getCanvas("transparent",y,x,!0),this.compositeCtx=this.ctx,this.transparentCanvas=x.canvas,this.ctx=x.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)),this.ctx.save(),U(this.ctx),w&&this.ctx.transform.apply(this.ctx,w),this.ctx.transform.apply(this.ctx,g.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(E,w,g,A){var m=E.argsArray,y=E.fnArray,x=w||0,M=m.length;if(M===x)return x;for(var X,re=10<M-x&&typeof g=="function",ee=re?Date.now()+15:0,he=0,ye=this.commonObjs,Ce=this.objs;;){if(A!==void 0&&x===A.nextBreakPoint)return A.breakIt(x,g),x;if((X=y[x])!==a.OPS.dependency)this[X].apply(this,m[x]);else{var oe,de=u(m[x]);try{for(de.s();!(oe=de.n()).done;){var fe=oe.value,ue=fe.startsWith("g_")?ye:Ce;if(!ue.has(fe))return ue.get(fe,g),x}}catch(pe){de.e(pe)}finally{de.f()}}if(++x===M)return x;if(re&&10<++he){if(Date.now()>ee)return g(),x;he=0}}},endDrawing:function(){this.current.activeSMask!==null&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(E){this.current.lineWidth=E,this.ctx.lineWidth=E},setLineCap:function(E){this.ctx.lineCap=N[E]},setLineJoin:function(E){this.ctx.lineJoin=ne[E]},setMiterLimit:function(E){this.ctx.miterLimit=E},setDash:function(E,w){var g=this.ctx;g.setLineDash!==void 0&&(g.setLineDash(E),g.lineDashOffset=w)},setRenderingIntent:function(E){},setFlatness:function(E){},setGState:function(E){for(var w=0,g=E.length;w<g;w++){var A=E[w],m=A[0],y=A[1];switch(m){case"LW":this.setLineWidth(y);break;case"LC":this.setLineCap(y);break;case"LJ":this.setLineJoin(y);break;case"ML":this.setMiterLimit(y);break;case"D":this.setDash(y[0],y[1]);break;case"RI":this.setRenderingIntent(y);break;case"FL":this.setFlatness(y);break;case"Font":this.setFont(y[0],y[1]);break;case"CA":this.current.strokeAlpha=A[1];break;case"ca":this.current.fillAlpha=A[1],this.ctx.globalAlpha=A[1];break;case"BM":this.ctx.globalCompositeOperation=y;break;case"SMask":this.current.activeSMask&&(0<this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=y?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var E=this.current.activeSMask,g=E.canvas.width,A=E.canvas.height,w="smaskGroupAt"+this.groupLevel,w=this.cachedCanvases.getCanvas(w,g,A,!0),g=this.ctx,A=g.mozCurrentTransform;this.ctx.save(),w=w.context,w.scale(1/E.scaleX,1/E.scaleY),w.translate(-E.offsetX,-E.offsetY),w.transform.apply(w,A),E.startTransformInverse=w.mozCurrentTransformInverse,B(g,w),this.ctx=w,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(g),this.groupLevel++},suspendSMaskGroup:function(){var E=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),G(this.ctx,this.current.activeSMask,E,this.webGLContext),this.ctx.restore(),this.ctx.save(),B(E,this.ctx),this.current.resumeSMaskCtx=E;var w=a.Util.transform(this.current.activeSMask.startTransformInverse,E.mozCurrentTransform);this.ctx.transform.apply(this.ctx,w),E.save(),E.setTransform(1,0,0,1,0,0),E.clearRect(0,0,E.canvas.width,E.canvas.height),E.restore()},resumeSMaskGroup:function(){var E=this.current.resumeSMaskCtx,w=this.ctx;this.ctx=E,this.groupStack.push(w),this.groupLevel++},endSMaskGroup:function(){var E=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),G(this.ctx,this.current.activeSMask,E,this.webGLContext),this.ctx.restore(),B(E,this.ctx),E=a.Util.transform(this.current.activeSMask.startTransformInverse,E.mozCurrentTransform),this.ctx.transform.apply(this.ctx,E)},save:function(){this.ctx.save();var E=this.current;this.stateStack.push(E),this.current=E.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),this.current.activeSMask===null||this.stateStack.length!==0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(E,w,g,A,m,y){this.ctx.transform(E,w,g,A,m,y),this._cachedGetSinglePixelWidth=null},constructPath:function(E,w){for(var g=this.ctx,A=this.current,m=A.x,y=A.y,x=0,M=0,X=E.length;x<X;x++)switch(0|E[x]){case a.OPS.rectangle:var m=w[M++],y=w[M++],re=w[M++],ee=w[M++],re=m+(re=re===0?this.getSinglePixelWidth():re),ee=y+(ee=ee===0?this.getSinglePixelWidth():ee);this.ctx.moveTo(m,y),this.ctx.lineTo(re,y),this.ctx.lineTo(re,ee),this.ctx.lineTo(m,ee),this.ctx.lineTo(m,y),this.ctx.closePath();break;case a.OPS.moveTo:m=w[M++],y=w[M++],g.moveTo(m,y);break;case a.OPS.lineTo:m=w[M++],y=w[M++],g.lineTo(m,y);break;case a.OPS.curveTo:m=w[M+4],y=w[M+5],g.bezierCurveTo(w[M],w[M+1],w[M+2],w[M+3],m,y),M+=6;break;case a.OPS.curveTo2:g.bezierCurveTo(m,y,w[M],w[M+1],w[M+2],w[M+3]),m=w[M+2],y=w[M+3],M+=4;break;case a.OPS.curveTo3:m=w[M+2],y=w[M+3],g.bezierCurveTo(w[M],w[M+1],m,y,m,y),M+=4;break;case a.OPS.closePath:g.closePath()}A.setCurrentPoint(m,y)},closePath:function(){this.ctx.closePath()},stroke:function(E){E=E===void 0||E;var w,g=this.ctx,A=this.current.strokeColor;g.globalAlpha=this.current.strokeAlpha,A&&A.hasOwnProperty("type")&&A.type==="Pattern"?(g.save(),w=g.mozCurrentTransform,w=a.Util.singularValueDecompose2dScale(w)[0],g.strokeStyle=A.getPattern(g,this),g.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth*w),g.stroke(),g.restore()):(g.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth),g.stroke()),E&&this.consumePath(),g.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(E){E=E===void 0||E;var w=this.ctx,g=this.current.fillColor,A=!1;this.current.patternFill&&(w.save(),this.baseTransform&&w.setTransform.apply(w,this.baseTransform),w.fillStyle=g.getPattern(w,this),A=!0),this.pendingEOFill?(w.fill("evenodd"),this.pendingEOFill=!1):w.fill(),A&&w.restore(),E&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=K},eoClip:function(){this.pendingClip=L},beginText:function(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var E=this.pendingTextPaths,w=this.ctx;if(E!==void 0){w.save(),w.beginPath();for(var g=0;g<E.length;g++){var A=E[g];w.setTransform.apply(w,A.transform),w.translate(A.x,A.y),A.addToPath(w,A.fontSize)}w.restore(),w.clip(),w.beginPath(),delete this.pendingTextPaths}else w.beginPath()},setCharSpacing:function(E){this.current.charSpacing=E},setWordSpacing:function(E){this.current.wordSpacing=E},setHScale:function(E){this.current.textHScale=E/100},setLeading:function(E){this.current.leading=-E},setFont:function(E,w){var g,A=this.commonObjs.get(E),m=this.current;if(!A)throw new Error("Can't find font for ".concat(E));m.fontMatrix=A.fontMatrix||a.FONT_IDENTITY_MATRIX,m.fontMatrix[0]!==0&&m.fontMatrix[3]!==0||(0,a.warn)("Invalid font matrix for font "+E),w<0?(w=-w,m.fontDirection=-1):m.fontDirection=1,this.current.font=A,this.current.fontSize=w,A.isType3Font||(g=A.loadedName||"sans-serif",E="normal",A.black?E="900":A.bold&&(E="bold"),m=A.italic?"italic":"normal",g='"'.concat(g,'", ').concat(A.fallbackName),(A=w)<16?A=16:100<w&&(A=100),this.current.fontSizeScale=w/A,this.ctx.font="".concat(m," ").concat(E," ").concat(A,"px ").concat(g))},setTextRenderingMode:function(E){this.current.textRenderingMode=E},setTextRise:function(E){this.current.textRise=E},moveText:function(E,w){this.current.x=this.current.lineX+=E,this.current.y=this.current.lineY+=w},setLeadingMoveText:function(E,w){this.setLeading(-w),this.moveText(E,w)},setTextMatrix:function(E,w,g,A,m,y){this.current.textMatrix=[E,w,g,A,m,y],this.current.textMatrixScale=Math.sqrt(E*E+w*w),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(E,w,g,A){var m,y=this.ctx,ee=this.current,x=ee.font,re=ee.textRenderingMode,M=ee.fontSize/ee.fontSizeScale,X=re&a.TextRenderingMode.FILL_STROKE_MASK,re=!!(re&a.TextRenderingMode.ADD_TO_PATH_FLAG),ee=ee.patternFill&&!x.missingFile;(x.disableFontFace||re||ee)&&(m=x.getPathGenerator(this.commonObjs,E)),x.disableFontFace||ee?(y.save(),y.translate(w,g),y.beginPath(),m(y,M),A&&y.setTransform.apply(y,A),X!==a.TextRenderingMode.FILL&&X!==a.TextRenderingMode.FILL_STROKE||y.fill(),X!==a.TextRenderingMode.STROKE&&X!==a.TextRenderingMode.FILL_STROKE||y.stroke(),y.restore()):(X!==a.TextRenderingMode.FILL&&X!==a.TextRenderingMode.FILL_STROKE||y.fillText(E,w,g),X!==a.TextRenderingMode.STROKE&&X!==a.TextRenderingMode.FILL_STROKE||y.strokeText(E,w,g)),re&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:y.mozCurrentTransform,x:w,y:g,fontSize:M,addToPath:m})},get isFontSubpixelAAEnabled(){var E=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;E.scale(1.5,1),E.fillText("I",0,10);for(var w=E.getImageData(0,0,10,10).data,g=!1,A=3;A<w.length;A+=4)if(0<w[A]&&w[A]<255){g=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",g)},showText:function(E){var w=this.current,g=w.font;if(g.isType3Font)return this.showType3Text(E);var A=w.fontSize;if(A!==0){var m,y=this.ctx,x=w.fontSizeScale,M=w.charSpacing,X=w.wordSpacing,re=w.fontDirection,ee=w.textHScale*re,he=E.length,ye=g.vertical,Ce=ye?1:-1,oe=g.defaultVMetrics,de=A*w.fontMatrix[0],fe=w.textRenderingMode===a.TextRenderingMode.FILL&&!g.disableFontFace&&!w.patternFill;y.save(),w.patternFill&&(y.save(),ue=w.fillColor.getPattern(y,this),m=y.mozCurrentTransform,y.restore(),y.fillStyle=ue),y.transform.apply(y,w.textMatrix),y.translate(w.x,w.y+w.textRise),0<re?y.scale(ee,-1):y.scale(ee,1);var ue,pe=w.lineWidth,te=w.textMatrixScale;te===0||pe===0?(ue=w.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK)!==a.TextRenderingMode.STROKE&&ue!==a.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,pe=.65*this.getSinglePixelWidth()):pe/=te,x!==1&&(y.scale(x,x),pe/=x),y.lineWidth=pe;for(var ge=0,xe=0;xe<he;++xe){var ce,we,Ae,Fe,De,Ge,ct,ot,Qe,Ie=E[xe];(0,a.isNum)(Ie)?ge+=Ce*Ie*A/1e3:(Qe=!1,ce=(Ie.isSpace?X:0)+M,Ae=Ie.fontChar,we=Ie.accent,Fe=Ie.width,Ge=ye?(Ge=Ie.vmetric||oe,ct=Ie.vmetric?Ge[1]:.5*Fe,ot=Ge[2]*de,Fe=Ge?-Ge[0]:Fe,De=(ct=-ct*de)/x,(ge+ot)/x):(De=ge/x,0),g.remeasure&&0<Fe&&(Fe<(ct=1e3*y.measureText(Ae).width/A*x)&&this.isFontSubpixelAAEnabled?(ot=Fe/ct,Qe=!0,y.save(),y.scale(ot,1),De/=ot):Fe!==ct&&(De+=(Fe-ct)/2e3*A/x)),(Ie.isInFont||g.missingFile)&&(fe&&!we?y.fillText(Ae,De,Ge):(this.paintChar(Ae,De,Ge,m),we&&(Ae=De+we.offset.x/x,Ge=Ge-we.offset.y/x,this.paintChar(we.fontChar,Ae,Ge,m)))),ge+=ye?Fe*de-ce*re:Fe*de+ce*re,Qe&&y.restore())}ye?w.y-=ge:w.x+=ge*ee,y.restore()}},showType3Text:function(E){var w,g=this.ctx,A=this.current,m=A.font,y=A.fontSize,x=A.fontDirection,M=m.vertical?1:-1,X=A.charSpacing,re=A.wordSpacing,ee=A.textHScale*x,he=A.fontMatrix||a.FONT_IDENTITY_MATRIX,ye=E.length;if(A.textRenderingMode!==a.TextRenderingMode.INVISIBLE&&y!==0){for(this._cachedGetSinglePixelWidth=null,g.save(),g.transform.apply(g,A.textMatrix),g.translate(A.x,A.y),g.scale(ee,x),w=0;w<ye;++w){var Ce,oe,de=E[w];(0,a.isNum)(de)?(this.ctx.translate(Ce=M*de*y/1e3,0),A.x+=Ce*ee):(oe=(de.isSpace?re:0)+X,(Ce=m.charProcOperatorList[de.operatorListId])?(this.processingType3=de,this.save(),g.scale(y,y),g.transform.apply(g,he),this.executeOperatorList(Ce),this.restore(),oe=a.Util.applyTransform([de.width,0],he)[0]*y+oe,g.translate(oe,0),A.x+=oe*ee):(0,a.warn)('Type3 character "'.concat(de.operatorListId,'" is not available.')))}g.restore(),this.processingType3=null}},setCharWidth:function(E,w){},setCharWidthAndBounds:function(E,w,g,A,m,y){this.ctx.rect(g,A,m-g,y-A),this.clip(),this.endPath()},getColorN_Pattern:function(E){var w,g,A=this;return E[0]==="TilingPattern"?(w=E[1],g=this.baseTransform||this.ctx.mozCurrentTransform.slice(),new o.TilingPattern(E,w,this.ctx,{createCanvasGraphics:function(m){return new H(m,A.commonObjs,A.objs,A.canvasFactory,A.webGLContext)}},g)):(0,o.getShadingPatternFromIR)(E)},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(E,w,g){g=a.Util.makeCssRgb(E,w,g),this.ctx.strokeStyle=g,this.current.strokeColor=g},setFillRGBColor:function(E,w,g){g=a.Util.makeCssRgb(E,w,g),this.ctx.fillStyle=g,this.current.fillColor=g,this.current.patternFill=!1},shadingFill:function(E){var w=this.ctx;this.save();var g=(0,o.getShadingPatternFromIR)(E);w.fillStyle=g.getPattern(w,this,!0);var A,m,y,x=w.mozCurrentTransformInverse;x?(A=(y=w.canvas).width,m=y.height,E=a.Util.applyTransform([0,0],x),g=a.Util.applyTransform([0,m],x),w=a.Util.applyTransform([A,0],x),y=a.Util.applyTransform([A,m],x),A=Math.min(E[0],g[0],w[0],y[0]),m=Math.min(E[1],g[1],w[1],y[1]),x=Math.max(E[0],g[0],w[0],y[0]),y=Math.max(E[1],g[1],w[1],y[1]),this.ctx.fillRect(A,m,x-A,y-m)):this.ctx.fillRect(-1e10,-1e10,2e10,2e10),this.restore()},beginInlineImage:function(){(0,a.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,a.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(E,w){var g;this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(E)&&E.length===6&&this.transform.apply(this,E),this.baseTransform=this.ctx.mozCurrentTransform,w&&(g=w[2]-w[0],E=w[3]-w[1],this.ctx.rect(w[0],w[1],g,E),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(E){this.save();var w=this.ctx;E.isolated||(0,a.info)("TODO: Support non-isolated groups."),E.knockout&&(0,a.warn)("Knockout groups not supported.");var g=w.mozCurrentTransform;if(E.matrix&&w.transform.apply(w,E.matrix),!E.bbox)throw new Error("Bounding box is required.");var A=a.Util.getAxialAlignedBoundingBox(E.bbox,w.mozCurrentTransform),re=[0,0,w.canvas.width,w.canvas.height],A=a.Util.intersect(A,re)||[0,0,0,0],m=Math.floor(A[0]),y=Math.floor(A[1]),x=Math.max(Math.ceil(A[2])-m,1),M=Math.max(Math.ceil(A[3])-y,1),X=1,re=1;4096<x&&(X=x/4096,x=4096),4096<M&&(re=M/4096,M=4096),A="groupAt"+this.groupLevel,E.smask&&(A+="_smask_"+this.smaskCounter++%2),x=this.cachedCanvases.getCanvas(A,x,M,!0),M=x.context,M.scale(1/X,1/re),M.translate(-m,-y),M.transform.apply(M,g),E.smask?this.smaskStack.push({canvas:x.canvas,context:M,offsetX:m,offsetY:y,scaleX:X,scaleY:re,subtype:E.smask.subtype,backdrop:E.smask.backdrop,transferMap:E.smask.transferMap||null,startTransformInverse:null}):(w.setTransform(1,0,0,1,0,0),w.translate(m,y),w.scale(X,re)),B(w,M),this.ctx=M,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(w),this.groupLevel++,this.current.activeSMask=null},endGroup:function(E){this.groupLevel--;var w=this.ctx;this.ctx=this.groupStack.pop(),this.ctx.imageSmoothingEnabled!==void 0?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,E.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(w.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(E,w,g){var A,m;this.save(),U(this.ctx),this.current=new Z,Array.isArray(E)&&E.length===4&&(A=E[2]-E[0],m=E[3]-E[1],this.ctx.rect(E[0],E[1],A,m),this.clip(),this.endPath()),this.transform.apply(this,w),this.transform.apply(this,g)},endAnnotation:function(){this.restore()},paintImageMaskXObject:function(E){var w=this.ctx,g=E.width,A=E.height,m=this.current.fillColor,y=this.current.patternFill,x=this.processingType3;x&&x.compiled===void 0&&(x.compiled=g<=1e3&&A<=1e3?function(M){for(var X,re=M.width,ee=M.height,he=re+1,ye=new Uint8Array(he*(ee+1)),Ce=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),oe=re+7&-8,de=M.data,fe=new Uint8Array(oe*ee),ue=0,pe=0,te=de.length;pe<te;pe++)for(var ge=128,xe=de[pe];0<ge;)fe[ue++]=xe&ge?0:255,ge>>=1;var ce=0;for(fe[ue=0]!==0&&(ye[0]=1,++ce),Ae=1;Ae<re;Ae++)fe[ue]!==fe[ue+1]&&(ye[Ae]=fe[ue]?2:1,++ce),ue++;for(fe[ue]!==0&&(ye[Ae]=2,++ce),pe=1;pe<ee;pe++){X=pe*he,fe[(ue=pe*oe)-oe]!==fe[ue]&&(ye[X]=fe[ue]?1:8,++ce);for(var we=(fe[ue]?4:0)+(fe[ue-oe]?8:0),Ae=1;Ae<re;Ae++)Ce[we=(we>>2)+(fe[ue+1]?4:0)+(fe[ue-oe+1]?8:0)]&&(ye[X+Ae]=Ce[we],++ce),ue++;if(fe[ue-oe]!==fe[ue]&&(ye[X+Ae]=fe[ue]?2:4,++ce),1e3<ce)return null}for(X=pe*he,fe[ue=oe*(ee-1)]!==0&&(ye[X]=8,++ce),Ae=1;Ae<re;Ae++)fe[ue]!==fe[ue+1]&&(ye[X+Ae]=fe[ue]?4:8,++ce),ue++;if(fe[ue]!==0&&(ye[X+Ae]=4,++ce),1e3<ce)return null;var Fe=new Int32Array([0,he,-1,0,-he,0,0,0,1]),De=[];for(pe=0;ce&&pe<=ee;pe++){for(var Ge=pe*he,ct=Ge+re;Ge<ct&&!ye[Ge];)Ge++;if(Ge!==ct){var ot,Qe=[Ge%he,pe],Ie=ye[Ge],Ue=Ge;do for(var He=Fe[Ie];!ye[Ge+=He];);while((ot=ye[Ge])!==5&&ot!==10?(Ie=ot,ye[Ge]=0):ye[Ge]&=(Ie=ot&51*Ie>>4)>>2|Ie<<2,Qe.push(Ge%he),Qe.push(Ge/he|0),ye[Ge]||--ce,Ue!==Ge);De.push(Qe),--pe}}return function(it){it.save(),it.scale(1/re,-1/ee),it.translate(0,-ee),it.beginPath();for(var Je=0,st=De.length;Je<st;Je++){var ht=De[Je];it.moveTo(ht[0],ht[1]);for(var Ke=2,At=ht.length;Ke<At;Ke+=2)it.lineTo(ht[Ke],ht[Ke+1])}it.fill(),it.beginPath(),it.restore()}}({data:E.data,width:g,height:A}):null),x&&x.compiled?x.compiled(w):((w=(x=this.cachedCanvases.getCanvas("maskCanvas",g,A)).context).save(),I(w,E),w.globalCompositeOperation="source-in",w.fillStyle=y?m.getPattern(w,this):m,w.fillRect(0,0,g,A),w.restore(),this.paintInlineImageXObject(x.canvas))},paintImageMaskXObjectRepeat:function(E,w,g,A){var m=E.width,y=E.height,x=this.current.fillColor,M=this.current.patternFill,X=this.cachedCanvases.getCanvas("maskCanvas",m,y),re=X.context;re.save(),I(re,E),re.globalCompositeOperation="source-in",re.fillStyle=M?x.getPattern(re,this):x,re.fillRect(0,0,m,y),re.restore();for(var ee=this.ctx,he=0,ye=A.length;he<ye;he+=2)ee.save(),ee.transform(w,0,0,g,A[he],A[he+1]),ee.scale(1,-1),ee.drawImage(X.canvas,0,0,m,y,0,-1,1,1),ee.restore()},paintImageMaskXObjectGroup:function(E){for(var w=this.ctx,g=this.current.fillColor,A=this.current.patternFill,m=0,y=E.length;m<y;m++){var x=E[m],M=x.width,X=x.height,re=this.cachedCanvases.getCanvas("maskCanvas",M,X),ee=re.context;ee.save(),I(ee,x),ee.globalCompositeOperation="source-in",ee.fillStyle=A?g.getPattern(ee,this):g,ee.fillRect(0,0,M,X),ee.restore(),w.save(),w.transform.apply(w,x.transform),w.scale(1,-1),w.drawImage(re.canvas,0,0,M,X,0,-1,1,1),w.restore()}},paintImageXObject:function(E){E=(E.startsWith("g_")?this.commonObjs:this.objs).get(E),E?this.paintInlineImageXObject(E):(0,a.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(E,w,g,A){if(E=(E.startsWith("g_")?this.commonObjs:this.objs).get(E),E){for(var m=E.width,y=E.height,x=[],M=0,X=A.length;M<X;M+=2)x.push({transform:[w,0,0,g,A[M],A[M+1]],x:0,y:0,w:m,h:y});this.paintInlineImageXObjectGroup(E,x)}else(0,a.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(E){var w=E.width,g=E.height,A=this.ctx;this.save(),A.scale(1/w,-1/g);for(var m,y,x=A.mozCurrentTransformInverse,X=x[0],re=x[1],M=Math.max(Math.sqrt(X*X+re*re),1),X=x[2],re=x[3],ee=Math.max(Math.sqrt(X*X+re*re),1),he=typeof HTMLElement=="function"&&E instanceof HTMLElement||!E.data?E:(Y(y=(m=this.cachedCanvases.getCanvas("inlineImage",w,g)).context,E),m.canvas),ye=w,Ce=g,oe="prescale1";2<M&&1<ye||2<ee&&1<Ce;){var de=ye,fe=Ce;2<M&&1<ye&&(M/=ye/(de=Math.ceil(ye/2))),2<ee&&1<Ce&&(ee/=Ce/(fe=Math.ceil(Ce/2))),(y=(m=this.cachedCanvases.getCanvas(oe,de,fe)).context).clearRect(0,0,de,fe),y.drawImage(he,0,0,ye,Ce,0,0,de,fe),he=m.canvas,ye=de,Ce=fe,oe=oe==="prescale1"?"prescale2":"prescale1"}A.drawImage(he,0,0,ye,Ce,0,-g,w,g),this.imageLayer&&(A=this.getCanvasPosition(0,-g),this.imageLayer.appendImage({imgData:E,left:A[0],top:A[1],width:w/x[0],height:g/x[3]})),this.restore()},paintInlineImageXObjectGroup:function(E,w){var g=this.ctx,A=E.width,m=E.height,y=this.cachedCanvases.getCanvas("inlineImage",A,m);Y(y.context,E);for(var x=0,M=w.length;x<M;x++){var X=w[x];g.save(),g.transform.apply(g,X.transform),g.scale(1,-1),g.drawImage(y.canvas,X.x,X.y,X.w,X.h,0,-1,1,1),this.imageLayer&&(X=this.getCanvasPosition(X.x,X.y),this.imageLayer.appendImage({imgData:E,left:X[0],top:X[1],width:A,height:m})),g.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,a.warn)("Unsupported 'paintXObject' command.")},markPoint:function(E){},markPointProps:function(E,w){},beginMarkedContent:function(E){},beginMarkedContentProps:function(E,w){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var E=this.ctx;this.pendingClip&&(this.pendingClip===L?E.clip("evenodd"):E.clip(),this.pendingClip=null),E.beginPath()},getSinglePixelWidth:function(E){var w;return this._cachedGetSinglePixelWidth===null&&(w=this.ctx.mozCurrentTransformInverse,this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(w[0]*w[0]+w[1]*w[1],w[2]*w[2]+w[3]*w[3]))),this._cachedGetSinglePixelWidth},getCanvasPosition:function(E,w){var g=this.ctx.mozCurrentTransform;return[g[0]*E+g[2]*w+g[4],g[1]*E+g[3]*w+g[5]]}},a.OPS)H.prototype[a.OPS[q]]=H.prototype[q];return H}(),t.CanvasGraphics=i},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.getShadingPatternFromIR=function(k){var j=o[k[0]];if(j)return j.fromIR(k);throw new Error("Unknown IR type: ".concat(k[0]))},t.TilingPattern=void 0;var a=i(5),o={};function u(k,j){var Z,z,H;j&&typeof Path2D<"u"&&(Z=j[2]-j[0],z=j[3]-j[1],(H=new Path2D).rect(j[0],j[1],Z,z),k.clip(H))}o.RadialAxial={fromIR:function(k){var j=k[1],Z=k[2],z=k[3],H=k[4],Y=k[5],I=k[6],B=k[7];return{type:"Pattern",getPattern:function(U){var T;u(U,Z),j==="axial"?T=U.createLinearGradient(H[0],H[1],Y[0],Y[1]):j==="radial"&&(T=U.createRadialGradient(H[0],H[1],I,Y[0],Y[1],B));for(var C=0,P=z.length;C<P;++C){var G=z[C];T.addColorStop(G[0],G[1])}return T}}}};var d=function(q,N,K,L,H,Y,I,B){var U,T=Math.floor(q[0]),C=Math.floor(q[1]),P=Math.ceil(q[2])-T,G=Math.ceil(q[3])-C,q=Math.min(Math.ceil(Math.abs(P*N[0]*1.1)),3e3),N=Math.min(Math.ceil(Math.abs(G*N[1]*1.1)),3e3),ne={coords:K,colors:L,offsetX:-T,offsetY:-C,scaleX:1/(P=P/q),scaleY:1/(G=G/N)},K=q+4,L=N+4;if(B.isEnabled)U=B.drawFigures({width:q,height:N,backgroundColor:Y,figures:H,context:ne}),(E=I.getCanvas("mesh",K,L,!1)).context.drawImage(U,2,2),U=E.canvas;else{var E,L=(E=I.getCanvas("mesh",K,L,!1)).context,w=L.createImageData(q,N);if(Y)for(var g=w.data,A=0,m=g.length;A<m;A+=4)g[A]=Y[0],g[A+1]=Y[1],g[A+2]=Y[2],g[A+3]=255;for(A=0;A<H.length;A++)(function(x,M,X){var re,ee=M.coords,he=M.colors;switch(M.type){case"lattice":for(var ye=M.verticesPerRow,Ce=Math.floor(ee.length/ye)-1,oe=ye-1,de=0;de<Ce;de++)for(var fe=de*ye,ue=0;ue<oe;ue++,fe++)n(x,X,ee[fe],ee[fe+1],ee[fe+ye],he[fe],he[fe+1],he[fe+ye]),n(x,X,ee[fe+ye+1],ee[fe+1],ee[fe+ye],he[fe+ye+1],he[fe+1],he[fe+ye]);break;case"triangles":for(de=0,re=ee.length;de<re;de+=3)n(x,X,ee[de],ee[de+1],ee[de+2],he[de],he[de+1],he[de+2]);break;default:throw new Error("illegal figure")}})(w,H[A],ne);L.putImageData(w,2,2),U=E.canvas}return{canvas:U,offsetX:T-2*P,offsetY:C-2*G,scaleX:P,scaleY:G}};function n(k,j,Z,z,H,Y,I,B){var U,T=j.coords,C=j.colors,P=k.data,G=4*k.width;T[Z+1]>T[z+1]&&(U=Z,Z=z,z=U,U=Y,Y=I,I=U),T[z+1]>T[H+1]&&(U=z,z=H,H=U,U=I,I=B,B=U),T[Z+1]>T[z+1]&&(U=Z,Z=z,z=U,U=Y,Y=I,I=U);var q=(T[Z]+j.offsetX)*j.scaleX,N=(T[Z+1]+j.offsetY)*j.scaleY,ne=(T[z]+j.offsetX)*j.scaleX,K=(T[z+1]+j.offsetY)*j.scaleY,L=(T[H]+j.offsetX)*j.scaleX,E=(T[H+1]+j.offsetY)*j.scaleY;if(!(E<=N))for(var w,g,A,m,y,x=C[Y],M=C[Y+1],X=C[Y+2],re=C[I],ee=C[I+1],he=C[I+2],ye=C[B],Ce=C[B+1],oe=C[B+2],B=Math.round(N),de=Math.round(E),fe=B;fe<=de;fe++){y=fe<K?(w=void 0,g=q-(q-ne)*(w=fe<N?0:N==K?1:(N-fe)/(N-K)),A=x-(x-re)*w,m=M-(M-ee)*w,X-(X-he)*w):(ce=void 0,g=ne-(ne-L)*(ce=E<fe?1:K==E?0:(K-fe)/(K-E)),A=re-(re-ye)*ce,m=ee-(ee-Ce)*ce,he-(he-oe)*ce);for(var ue=void 0,pe=q-(q-L)*(ue=fe<N?0:E<fe?1:(N-fe)/(N-E)),te=x-(x-ye)*ue,ge=M-(M-Ce)*ue,xe=X-(X-oe)*ue,ce=Math.round(Math.min(g,pe)),we=Math.round(Math.max(g,pe)),Ae=G*fe+4*ce,Fe=ce;Fe<=we;Fe++)(ue=(g-Fe)/(g-pe))<0?ue=0:1<ue&&(ue=1),P[Ae++]=A-(A-te)*ue|0,P[Ae++]=m-(m-ge)*ue|0,P[Ae++]=y-(y-xe)*ue|0,P[Ae++]=255}}o.Mesh={fromIR:function(k){var j=k[2],Z=k[3],z=k[4],H=k[5],Y=k[6],I=k[7],B=k[8];return{type:"Pattern",getPattern:function(U,T,C){var P;u(U,I),C?G=a.Util.singularValueDecompose2dScale(U.mozCurrentTransform):(G=a.Util.singularValueDecompose2dScale(T.baseTransform),Y&&(P=a.Util.singularValueDecompose2dScale(Y),G=[G[0]*P[0],G[1]*P[1]]));var G=d(H,G,j,Z,z,C?null:B,T.cachedCanvases,T.webGLContext);return C||(U.setTransform.apply(U,T.baseTransform),Y&&U.transform.apply(U,Y)),U.translate(G.offsetX,G.offsetY),U.scale(G.scaleX,G.scaleY),U.createPattern(G.canvas,"no-repeat")}}}},o.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}},i=function(){var k=1,j=2;function Z(z,H,Y,I,B){this.operatorList=z[2],this.matrix=z[3]||[1,0,0,1,0,0],this.bbox=z[4],this.xstep=z[5],this.ystep=z[6],this.paintType=z[7],this.tilingType=z[8],this.color=H,this.canvasGraphicsFactory=I,this.baseTransform=B,this.type="Pattern",this.ctx=Y}return Z.prototype={createPatternCanvas:function(z){var H=this.operatorList,Y=this.bbox,N=this.xstep,ne=this.ystep,I=this.paintType,q=this.tilingType,B=this.color,U=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+q);var T=Y[0],C=Y[1],P=Y[2],G=Y[3],K=a.Util.singularValueDecompose2dScale(this.matrix),q=a.Util.singularValueDecompose2dScale(this.baseTransform),K=[K[0]*q[0],K[1]*q[1]],q=this.getSizeAndScale(N,this.ctx.canvas.width,K[0]),N=this.getSizeAndScale(ne,this.ctx.canvas.height,K[1]),ne=z.cachedCanvases.getCanvas("pattern",q.size,N.size,!0),K=ne.context,K=U.createCanvasGraphics(K);return K.groupLevel=z.groupLevel,this.setFillAndStrokeStyleToContext(K,I,B),K.transform(q.scale,0,0,N.scale,0,0),K.transform(1,0,0,1,-T,-C),this.clipBbox(K,Y,T,C,P,G),K.executeOperatorList(H),this.ctx.transform(1,0,0,1,T,C),this.ctx.scale(1/q.scale,1/N.scale),ne.canvas},getSizeAndScale:function(z,B,Y){z=Math.abs(z);var I=Math.max(3e3,B),B=Math.ceil(z*Y);return I<=B?B=I:Y=B/z,{scale:Y,size:B}},clipBbox:function(z,H,Y,I,B,U){Array.isArray(H)&&H.length===4&&(z.ctx.rect(Y,I,B-Y,U-I),z.clip(),z.endPath())},setFillAndStrokeStyleToContext:function(z,H,Y){var I=z.ctx,B=z.current;switch(H){case k:var U=this.ctx;I.fillStyle=U.fillStyle,I.strokeStyle=U.strokeStyle,B.fillColor=U.fillStyle,B.strokeColor=U.strokeStyle;break;case j:U=a.Util.makeCssRgb(Y[0],Y[1],Y[2]),I.fillStyle=U,I.strokeStyle=U,B.fillColor=U,B.strokeColor=U;break;default:throw new a.FormatError("Unsupported paint type: ".concat(H))}},getPattern:function(z,H){return(z=this.ctx).setTransform.apply(z,this.baseTransform),z.transform.apply(z,this.matrix),H=this.createPatternCanvas(H),z.createPattern(H,"repeat")}},Z}(),t.TilingPattern=i},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;var a=Object.create(null);(t.GlobalWorkerOptions=a).workerPort=a.workerPort===void 0?null:a.workerPort,a.workerSrc=a.workerSrc===void 0?"":a.workerSrc},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var a,o=(a=i(2))&&a.__esModule?a:{default:a},u=i(5);function d(q,N,ne,K,L,E,w){try{var g=q[E](w),A=g.value}catch(m){return void ne(m)}g.done?N(A):Promise.resolve(A).then(K,L)}function n(q,N){for(var ne=0;ne<N.length;ne++){var K=N[ne];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(q,K.key,K)}}function k(q){return(k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(q)}var j=1,Z=2,z=1,H=2,Y=3,I=4,B=5,U=6,T=7,C=8;function P(q){if(k(q)!=="object"||q===null)return q;switch(q.name){case"AbortException":return new u.AbortException(q.message);case"MissingPDFException":return new u.MissingPDFException(q.message);case"UnexpectedResponseException":return new u.UnexpectedResponseException(q.message,q.status);case"UnknownErrorException":return new u.UnknownErrorException(q.message,q.details);default:return new u.UnknownErrorException(q.message,q.toString())}}var G=function(){function q(E,w,g){var A=this;(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,q),this.sourceName=E,this.targetName=w,this.comObj=g,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(m){var y=m.data;if(y.targetName===A.sourceName)if(y.stream)A._processStreamMessage(y);else if(y.callback){var x=y.callbackId,m=A.callbackCapabilities[x];if(!m)throw new Error("Cannot resolve callback ".concat(x));if(delete A.callbackCapabilities[x],y.callback===j)m.resolve(y.data);else{if(y.callback!==Z)throw new Error("Unexpected callback case");m.reject(P(y.reason))}}else{var M,X,re=A.actionHandler[y.action];if(!re)throw new Error("Unknown action from worker: ".concat(y.action));y.callbackId?(M=A.sourceName,X=y.sourceName,new Promise(function(ee){ee(re(y.data))}).then(function(ee){g.postMessage({sourceName:M,targetName:X,callback:j,callbackId:y.callbackId,data:ee})},function(ee){g.postMessage({sourceName:M,targetName:X,callback:Z,callbackId:y.callbackId,reason:P(ee)})})):y.streamId?A._createStreamSink(y):re(y.data)}},g.addEventListener("message",this._onComObjOnMessage)}var N,ne,K,L;return N=q,(ne=[{key:"on",value:function(E,w){var g=this.actionHandler;if(g[E])throw new Error('There is already an actionName called "'.concat(E,'"'));g[E]=w}},{key:"send",value:function(E,w,g){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:E,data:w},g)}},{key:"sendWithPromise",value:function(E,w,g){var A=this.callbackId++,m=(0,u.createPromiseCapability)();this.callbackCapabilities[A]=m;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:E,callbackId:A,data:w},g)}catch(y){m.reject(y)}return m.promise}},{key:"sendWithStream",value:function(E,w,g,A){var m=this,y=this.streamId++,x=this.sourceName,M=this.targetName,X=this.comObj;return new ReadableStream({start:function(re){var ee=(0,u.createPromiseCapability)();return m.streamControllers[y]={controller:re,startCall:ee,pullCall:null,cancelCall:null,isClosed:!1},m._postMessage({sourceName:x,targetName:M,action:E,streamId:y,data:w,desiredSize:re.desiredSize},A),ee.promise},pull:function(re){var ee=(0,u.createPromiseCapability)();return m.streamControllers[y].pullCall=ee,X.postMessage({sourceName:x,targetName:M,stream:U,streamId:y,desiredSize:re.desiredSize}),ee.promise},cancel:function(re){(0,u.assert)(re instanceof Error,"cancel must have a valid reason");var ee=(0,u.createPromiseCapability)();return m.streamControllers[y].cancelCall=ee,m.streamControllers[y].isClosed=!0,X.postMessage({sourceName:x,targetName:M,stream:z,streamId:y,reason:P(re)}),ee.promise}},g)}},{key:"_createStreamSink",value:function(E){var w=this,g=this.actionHandler[E.action],A=E.streamId,m=this.sourceName,y=E.sourceName,x=this.comObj,M={enqueue:function(X){var re,ee=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,he=2<arguments.length?arguments[2]:void 0;this.isCancelled||(re=this.desiredSize,this.desiredSize-=ee,0<re&&this.desiredSize<=0&&(this.sinkCapability=(0,u.createPromiseCapability)(),this.ready=this.sinkCapability.promise),w._postMessage({sourceName:m,targetName:y,stream:I,streamId:A,chunk:X},he))},close:function(){this.isCancelled||(this.isCancelled=!0,x.postMessage({sourceName:m,targetName:y,stream:Y,streamId:A}),delete w.streamSinks[A])},error:function(X){(0,u.assert)(X instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,x.postMessage({sourceName:m,targetName:y,stream:B,streamId:A,reason:P(X)}))},sinkCapability:(0,u.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:E.desiredSize,ready:null};M.sinkCapability.resolve(),M.ready=M.sinkCapability.promise,this.streamSinks[A]=M,new Promise(function(X){X(g(E.data,M))}).then(function(){x.postMessage({sourceName:m,targetName:y,stream:C,streamId:A,success:!0})},function(X){x.postMessage({sourceName:m,targetName:y,stream:C,streamId:A,reason:P(X)})})}},{key:"_processStreamMessage",value:function(E){var w=E.streamId,g=this.sourceName,A=E.sourceName,m=this.comObj;switch(E.stream){case C:E.success?this.streamControllers[w].startCall.resolve():this.streamControllers[w].startCall.reject(P(E.reason));break;case T:E.success?this.streamControllers[w].pullCall.resolve():this.streamControllers[w].pullCall.reject(P(E.reason));break;case U:if(!this.streamSinks[w]){m.postMessage({sourceName:g,targetName:A,stream:T,streamId:w,success:!0});break}this.streamSinks[w].desiredSize<=0&&0<E.desiredSize&&this.streamSinks[w].sinkCapability.resolve(),this.streamSinks[w].desiredSize=E.desiredSize;var y=this.streamSinks[E.streamId].onPull;new Promise(function(M){M(y&&y())}).then(function(){m.postMessage({sourceName:g,targetName:A,stream:T,streamId:w,success:!0})},function(M){m.postMessage({sourceName:g,targetName:A,stream:T,streamId:w,reason:P(M)})});break;case I:if((0,u.assert)(this.streamControllers[w],"enqueue should have stream controller"),this.streamControllers[w].isClosed)break;this.streamControllers[w].controller.enqueue(E.chunk);break;case Y:if((0,u.assert)(this.streamControllers[w],"close should have stream controller"),this.streamControllers[w].isClosed)break;this.streamControllers[w].isClosed=!0,this.streamControllers[w].controller.close(),this._deleteStreamController(w);break;case B:(0,u.assert)(this.streamControllers[w],"error should have stream controller"),this.streamControllers[w].controller.error(P(E.reason)),this._deleteStreamController(w);break;case H:E.success?this.streamControllers[w].cancelCall.resolve():this.streamControllers[w].cancelCall.reject(P(E.reason)),this._deleteStreamController(w);break;case z:if(!this.streamSinks[w])break;var x=this.streamSinks[E.streamId].onCancel;new Promise(function(M){M(x&&x(P(E.reason)))}).then(function(){m.postMessage({sourceName:g,targetName:A,stream:H,streamId:w,success:!0})},function(M){m.postMessage({sourceName:g,targetName:A,stream:H,streamId:w,reason:P(M)})}),this.streamSinks[w].sinkCapability.reject(P(E.reason)),this.streamSinks[w].isCancelled=!0,delete this.streamSinks[w];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(K=o.default.mark(function E(w){return o.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,Promise.allSettled([this.streamControllers[w].startCall,this.streamControllers[w].pullCall,this.streamControllers[w].cancelCall].map(function(A){return A&&A.promise}));case 2:delete this.streamControllers[w];case 3:case"end":return g.stop()}},E,this)}),L=function(){var E=this,w=arguments;return new Promise(function(g,A){var m=K.apply(E,w);function y(M){d(m,g,A,y,x,"next",M)}function x(M){d(m,g,A,y,x,"throw",M)}y(void 0)})},function(E){return L.apply(this,arguments)})},{key:"_postMessage",value:function(E,w){w&&this.postMessageTransfers?this.comObj.postMessage(E,w):this.comObj.postMessage(E)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}])&&n(N.prototype,ne),q}();t.MessageHandler=G},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var a=i(5),o=i(206);function u(j,Z){return function(z){if(Array.isArray(z))return z}(j)||function(z,H){if(typeof Symbol<"u"&&Symbol.iterator in Object(z)){var Y=[],I=!0,B=!1,U=void 0;try{for(var T,C=z[Symbol.iterator]();!(I=(T=C.next()).done)&&(Y.push(T.value),!H||Y.length!==H);I=!0);}catch(P){B=!0,U=P}finally{try{I||C.return==null||C.return()}finally{if(B)throw U}}return Y}}(j,Z)||d(j,Z)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function d(j,Z){if(j){if(typeof j=="string")return n(j,Z);var z=Object.prototype.toString.call(j).slice(8,-1);return(z=z==="Object"&&j.constructor?j.constructor.name:z)==="Map"||z==="Set"?Array.from(j):z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z)?n(j,Z):void 0}}function n(j,Z){(Z==null||Z>j.length)&&(Z=j.length);for(var z=0,H=new Array(Z);z<Z;z++)H[z]=j[z];return H}function k(j,Z){for(var z=0;z<Z.length;z++){var H=Z[z];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(j,H.key,H)}}i=function(){function j(H){(function(Y,I){if(!(Y instanceof I))throw new TypeError("Cannot call a class as a function")})(this,j),(0,a.assert)(typeof H=="string","Metadata: input is not a string"),H=this._repair(H),H=new o.SimpleXMLParser().parseFromString(H),this._metadataMap=new Map,H&&this._parse(H)}var Z,z;return Z=j,(z=[{key:"_repair",value:function(H){return H.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,function(Y,I){for(var B=I.replace(/\\([0-3])([0-7])([0-7])/g,function(G,q,N,ne){return String.fromCharCode(64*q+8*N+ +ne)}).replace(/&(amp|apos|gt|lt|quot);/g,function(G,q){switch(q){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: ".concat(q," isn't defined."))}),U="",T=0,C=B.length;T<C;T+=2){var P=256*B.charCodeAt(T)+B.charCodeAt(T+1);U+=32<=P&&P<127&&P!==60&&P!==62&&P!==38?String.fromCharCode(P):"&#x"+(65536+P).toString(16).substring(1)+";"}return">"+U})}},{key:"_parse",value:function(H){var Y=H.documentElement;if(Y.nodeName.toLowerCase()!=="rdf:rdf")for(Y=Y.firstChild;Y&&Y.nodeName.toLowerCase()!=="rdf:rdf";)Y=Y.nextSibling;if(H=Y?Y.nodeName.toLowerCase():null,Y&&H==="rdf:rdf"&&Y.hasChildNodes())for(var I=Y.childNodes,B=0,U=I.length;B<U;B++){var T=I[B];if(T.nodeName.toLowerCase()==="rdf:description")for(var C,P,G=0,q=T.childNodes.length;G<q;G++)T.childNodes[G].nodeName.toLowerCase()!=="#text"&&(P=(C=T.childNodes[G]).nodeName.toLowerCase(),this._metadataMap.set(P,C.textContent.trim()))}}},{key:"get",value:function(H){return this._metadataMap.has(H)?this._metadataMap.get(H):null}},{key:"getAll",value:function(){var H,Y=Object.create(null),I=function(C,P){var G;if(typeof Symbol>"u"||C[Symbol.iterator]==null){if(Array.isArray(C)||(G=d(C))||P&&C&&typeof C.length=="number"){G&&(C=G);var q=0,P=function(){};return{s:P,n:function(){return q>=C.length?{done:!0}:{done:!1,value:C[q++]}},e:function(E){throw E},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,ne=!0,K=!1;return{s:function(){G=C[Symbol.iterator]()},n:function(){var L=G.next();return ne=L.done,L},e:function(L){K=!0,N=L},f:function(){try{ne||G.return==null||G.return()}finally{if(K)throw N}}}}(this._metadataMap);try{for(I.s();!(H=I.n()).done;){var B=u(H.value,2),U=B[0],T=B[1];Y[U]=T}}catch(C){I.e(C)}finally{I.f()}return Y}},{key:"has",value:function(H){return this._metadataMap.has(H)}}])&&k(Z.prototype,z),j}(),t.Metadata=i},function(e,t,i){function a(K){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(K)}function o(K,L){return function(E){if(Array.isArray(E))return E}(K)||function(E,w){if(typeof Symbol<"u"&&Symbol.iterator in Object(E)){var g=[],A=!0,m=!1,y=void 0;try{for(var x,M=E[Symbol.iterator]();!(A=(x=M.next()).done)&&(g.push(x.value),!w||g.length!==w);A=!0);}catch(X){m=!0,y=X}finally{try{A||M.return==null||M.return()}finally{if(m)throw y}}return g}}(K,L)||function(E,w){if(E){if(typeof E=="string")return u(E,w);var g=Object.prototype.toString.call(E).slice(8,-1);return(g=g==="Object"&&E.constructor?E.constructor.name:g)==="Map"||g==="Set"?Array.from(E):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?u(E,w):void 0}}(K,L)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function u(K,L){(L==null||L>K.length)&&(L=K.length);for(var E=0,w=new Array(L);E<L;E++)w[E]=K[E];return w}function d(K,L,E){return(d=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(w,g,A){if(w=function(m,y){for(;!Object.prototype.hasOwnProperty.call(m,y)&&(m=j(m))!==null;);return m}(w,g),w)return g=Object.getOwnPropertyDescriptor(w,g),g.get?g.get.call(A):g.value})(K,L,E||K)}function n(K,L){return(n=Object.setPrototypeOf||function(E,w){return E.__proto__=w,E})(K,L)}function k(K){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var E,w=j(K);return E=L?(E=j(this).constructor,Reflect.construct(w,arguments,E)):w.apply(this,arguments),w=this,!(E=E)||a(E)!=="object"&&typeof E!="function"?function(g){if(g!==void 0)return g;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(w):E}}function j(K){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(L){return L.__proto__||Object.getPrototypeOf(L)})(K)}function Z(K,L){if(!(K instanceof L))throw new TypeError("Cannot call a class as a function")}function z(K,L){for(var E=0;E<L.length;E++){var w=L[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(K,w.key,w)}}function H(K,L,E){return L&&z(K.prototype,L),E&&z(K,E),K}Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleXMLParser=void 0;var Y=0,I=-2,B=-3,U=-4,T=-5,C=-6,P=-9;function G(K,L){return L=K[L],L===" "||L===`
`||L==="\r"||L==="	"}var q=function(){function K(){Z(this,K)}return H(K,[{key:"_resolveEntities",value:function(L){var E=this;return L.replace(/&([^;]+);/g,function(w,g){if(g.substring(0,2)==="#x")return String.fromCharCode(parseInt(g.substring(2),16));if(g.substring(0,1)==="#")return String.fromCharCode(parseInt(g.substring(1),10));switch(g){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return E.onResolveEntity(g)})}},{key:"_parseContent",value:function(L,E){var w=[],g=E;function A(){for(;g<L.length&&G(L,g);)++g}for(;g<L.length&&!G(L,g)&&L[g]!==">"&&L[g]!=="/";)++g;var m=L.substring(E,g);for(A();g<L.length&&L[g]!==">"&&L[g]!=="/"&&L[g]!=="?";){A();for(var y,x="";g<L.length&&!G(L,g)&&L[g]!=="=";)x+=L[g],++g;if(A(),L[g]!=="=")return null;++g,A();var M=L[g];if(M!=='"'&&M!=="'"||(M=L.indexOf(M,++g),M<0))return null;y=L.substring(g,M),w.push({name:x,value:this._resolveEntities(y)}),g=M+1,A()}return{name:m,attributes:w,parsed:g-E}}},{key:"_parseProcessingInstruction",value:function(L,E){for(var w=E;w<L.length&&!G(L,w)&&L[w]!==">"&&L[w]!=="/";)++w;var g=L.substring(E,w);(function(){for(;w<L.length&&G(L,w);)++w})();for(var A=w;w<L.length&&(L[w]!=="?"||L[w+1]!==">");)++w;return{name:g,value:L.substring(A,w),parsed:w-E}}},{key:"parseXml",value:function(L){for(var E=0;E<L.length;){var w=E;if(L[E]==="<"){var g=void 0;switch(L[++w]){case"/":if(++w,(g=L.indexOf(">",w))<0)return void this.onError(P);this.onEndElement(L.substring(w,g)),w=g+1;break;case"?":++w;var A=this._parseProcessingInstruction(L,w);if(L.substring(w+A.parsed,w+A.parsed+2)!=="?>")return void this.onError(B);this.onPi(A.name,A.value),w+=A.parsed+2;break;case"!":if(L.substring(w+1,w+3)==="--"){if((g=L.indexOf("-->",w+3))<0)return void this.onError(T);this.onComment(L.substring(w+3,g)),w=g+3}else if(L.substring(w+1,w+8)==="[CDATA["){if((g=L.indexOf("]]>",w+8))<0)return void this.onError(I);this.onCdata(L.substring(w+8,g)),w=g+3}else{if(L.substring(w+1,w+8)!=="DOCTYPE")return void this.onError(C);var m=L.indexOf("[",w+8),y=!1;if((g=L.indexOf(">",w+8))<0)return void this.onError(U);if(0<m&&m<g){if((g=L.indexOf("]>",w+8))<0)return void this.onError(U);y=!0}m=L.substring(w+8,g+(y?1:0)),this.onDoctype(m),w=g+(y?2:1)}break;default:if(m=this._parseContent(L,w),m===null)return void this.onError(C);if(y=!1,L.substring(w+m.parsed,w+m.parsed+2)==="/>")y=!0;else if(L.substring(w+m.parsed,w+m.parsed+1)!==">")return void this.onError(P);this.onBeginElement(m.name,m.attributes,y),w+=m.parsed+(y?2:1)}}else{for(;w<L.length&&L[w]!=="<";)w++;var x=L.substring(E,w);this.onText(this._resolveEntities(x))}E=w}}},{key:"onResolveEntity",value:function(L){return"&".concat(L,";")}},{key:"onPi",value:function(L,E){}},{key:"onComment",value:function(L){}},{key:"onCdata",value:function(L){}},{key:"onDoctype",value:function(L){}},{key:"onText",value:function(L){}},{key:"onBeginElement",value:function(L,E,w){}},{key:"onEndElement",value:function(L){}},{key:"onError",value:function(L){}}]),K}(),N=function(){function K(L,E){Z(this,K),this.nodeName=L,this.nodeValue=E,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return H(K,[{key:"hasChildNodes",value:function(){return this.childNodes&&0<this.childNodes.length}},{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function(){var L=this.parentNode.childNodes;if(L){var E=L.indexOf(this);if(E!==-1)return L[E+1]}}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map(function(L){return L.textContent}).join(""):this.nodeValue||""}}]),K}(),ne=function(){(function(E,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(w&&w.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),w&&n(E,w)})(L,q);var K=k(L);function L(){var E;return Z(this,L),(E=K.call(this))._currentFragment=null,E._stack=null,E._errorCode=Y,E}return H(L,[{key:"parseFromString",value:function(E){if(this._currentFragment=[],this._stack=[],this._errorCode=Y,this.parseXml(E),this._errorCode===Y&&(E=o(this._currentFragment,1)[0],E))return{documentElement:E}}},{key:"onResolveEntity",value:function(E){return E==="apos"?"'":d(j(L.prototype),"onResolveEntity",this).call(this,E)}},{key:"onText",value:function(E){!function(w){for(var g=0,A=w.length;g<A;g++)if(!G(w,g))return;return 1}(E)&&(E=new N("#text",E),this._currentFragment.push(E))}},{key:"onCdata",value:function(E){E=new N("#text",E),this._currentFragment.push(E)}},{key:"onBeginElement",value:function(E,w,g){E=new N(E),E.childNodes=[],this._currentFragment.push(E),g||(this._stack.push(this._currentFragment),this._currentFragment=E.childNodes)}},{key:"onEndElement",value:function(E){this._currentFragment=this._stack.pop()||[];var w=this._currentFragment[this._currentFragment.length-1];if(w)for(var g=0,A=w.childNodes.length;g<A;g++)w.childNodes[g].parentNode=w}},{key:"onError",value:function(E){this._errorCode=E}}]),L}();t.SimpleXMLParser=ne},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var a,o=(a=i(2))&&a.__esModule?a:{default:a},u=i(5);function d(B,U,T,C,P,G,q){try{var N=B[G](q),ne=N.value}catch(K){return void T(K)}N.done?U(ne):Promise.resolve(ne).then(C,P)}function n(B){return function(){var U=this,T=arguments;return new Promise(function(C,P){var G=B.apply(U,T);function q(ne){d(G,C,P,q,N,"next",ne)}function N(ne){d(G,C,P,q,N,"throw",ne)}q(void 0)})}}function k(B,U){var T;if(typeof Symbol>"u"||B[Symbol.iterator]==null){if(Array.isArray(B)||(T=function(N,ne){if(N){if(typeof N=="string")return j(N,ne);var K=Object.prototype.toString.call(N).slice(8,-1);return(K=K==="Object"&&N.constructor?N.constructor.name:K)==="Map"||K==="Set"?Array.from(N):K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K)?j(N,ne):void 0}}(B))||U&&B&&typeof B.length=="number"){T&&(B=T);var C=0,U=function(){};return{s:U,n:function(){return C>=B.length?{done:!0}:{done:!1,value:B[C++]}},e:function(ne){throw ne},f:U}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var P,G=!0,q=!1;return{s:function(){T=B[Symbol.iterator]()},n:function(){var N=T.next();return G=N.done,N},e:function(N){q=!0,P=N},f:function(){try{G||T.return==null||T.return()}finally{if(q)throw P}}}}function j(B,U){(U==null||U>B.length)&&(U=B.length);for(var T=0,C=new Array(U);T<U;T++)C[T]=B[T];return C}function Z(B,U){if(!(B instanceof U))throw new TypeError("Cannot call a class as a function")}function z(B,U){for(var T=0;T<U.length;T++){var C=U[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(B,C.key,C)}}function H(B,U,T){return U&&z(B.prototype,U),T&&z(B,T),B}t.PDFDataTransportStream=function(){function B(U,T){var C=this;Z(this,B),(0,u.assert)(T,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=U.progressiveDone||!1;var P=U.initialData;P&&0<P.length&&(P=new Uint8Array(P).buffer,this._queuedChunks.push(P)),this._pdfDataRangeTransport=T,this._isStreamingSupported=!U.disableStream,this._isRangeSupported=!U.disableRange,this._contentLength=U.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(G,q){C._onReceiveData({begin:G,chunk:q})}),this._pdfDataRangeTransport.addProgressListener(function(G,q){C._onProgress({loaded:G,total:q})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(G){C._onReceiveData({chunk:G})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){C._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return H(B,[{key:"_onReceiveData",value:function(U){var T,C=new Uint8Array(U.chunk).buffer;U.begin===void 0?this._fullRequestReader?this._fullRequestReader._enqueue(C):this._queuedChunks.push(C):(T=this._rangeReaders.some(function(P){return P._begin===U.begin&&(P._enqueue(C),!0)}),(0,u.assert)(T,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found."))}},{key:"_onProgress",value:function(U){var T;U.total===void 0?(T=this._rangeReaders[0])&&T.onProgress&&T.onProgress({loaded:U.loaded}):(T=this._fullRequestReader)&&T.onProgress&&T.onProgress({loaded:U.loaded,total:U.total})}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(U){U=this._rangeReaders.indexOf(U),0<=U&&this._rangeReaders.splice(U,1)}},{key:"getFullReader",value:function(){(0,u.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var U=this._queuedChunks;return this._queuedChunks=null,new Y(this,U,this._progressiveDone)}},{key:"getRangeReader",value:function(U,T){if(T<=this._progressiveDataLength)return null;var C=new I(this,U,T);return this._pdfDataRangeTransport.requestDataRange(U,T),this._rangeReaders.push(C),C}},{key:"cancelAllRequests",value:function(U){this._fullRequestReader&&this._fullRequestReader.cancel(U),this._rangeReaders.slice(0).forEach(function(T){T.cancel(U)}),this._pdfDataRangeTransport.abort()}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),B}();var Y=function(){function B(T,C){var P=2<arguments.length&&arguments[2]!==void 0&&arguments[2];Z(this,B),this._stream=T,this._done=P||!1,this._filename=null,this._queuedChunks=C||[],this._loaded=0;var G,q=k(this._queuedChunks);try{for(q.s();!(G=q.n()).done;){var N=G.value;this._loaded+=N.byteLength}}catch(ne){q.e(ne)}finally{q.f()}this._requests=[],this._headersReady=Promise.resolve(),(T._fullRequestReader=this).onProgress=null}var U;return H(B,[{key:"_enqueue",value:function(T){this._done||(0<this._requests.length?this._requests.shift().resolve({value:T,done:!1}):this._queuedChunks.push(T),this._loaded+=T.byteLength)}},{key:"read",value:(U=n(o.default.mark(function T(){var C;return o.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(0<this._queuedChunks.length)return C=this._queuedChunks.shift(),P.abrupt("return",{value:C,done:!1});P.next=3;break;case 3:if(this._done)return P.abrupt("return",{value:void 0,done:!0});P.next=5;break;case 5:return C=(0,u.createPromiseCapability)(),this._requests.push(C),P.abrupt("return",C.promise);case 8:case"end":return P.stop()}},T,this)})),function(){return U.apply(this,arguments)})},{key:"cancel",value:function(T){this._done=!0,this._requests.forEach(function(C){C.resolve({value:void 0,done:!0})}),this._requests=[]}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}}]),B}(),I=function(){function B(T,C,P){Z(this,B),this._stream=T,this._begin=C,this._end=P,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}var U;return H(B,[{key:"_enqueue",value:function(T){this._done||(this._requests.length===0?this._queuedChunk=T:(this._requests.shift().resolve({value:T,done:!1}),this._requests.forEach(function(C){C.resolve({value:void 0,done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}},{key:"read",value:(U=n(o.default.mark(function T(){var C;return o.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(this._queuedChunk)return C=this._queuedChunk,this._queuedChunk=null,P.abrupt("return",{value:C,done:!1});P.next=4;break;case 4:if(this._done)return P.abrupt("return",{value:void 0,done:!0});P.next=6;break;case 6:return C=(0,u.createPromiseCapability)(),this._requests.push(C),P.abrupt("return",C.promise);case 9:case"end":return P.stop()}},T,this)})),function(){return U.apply(this,arguments)})},{key:"cancel",value:function(T){this._done=!0,this._requests.forEach(function(C){C.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function(){return!1}}]),B}()},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=void 0;var a=i(5);function o(G,q){for(var N=0;N<q.length;N++){var ne=q[N];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(G,ne.key,ne)}}i=function(){function G(ne){ne=ne.enable,ne=ne!==void 0&&ne,function(K,L){if(!(K instanceof L))throw new TypeError("Cannot call a class as a function")}(this,G),this._enabled=ne===!0}var q,N;return q=G,(N=[{key:"composeSMask",value:function(E){var K=E.layer,L=E.mask,E=E.properties;return Y.composeSMask(K,L,E)}},{key:"drawFigures",value:function(g){var K=g.width,L=g.height,E=g.backgroundColor,w=g.figures,g=g.context;return Y.drawFigures(K,L,E,w,g)}},{key:"clear",value:function(){Y.cleanup()}},{key:"isEnabled",get:function(){var ne=(ne=this._enabled)&&Y.tryInitGL();return(0,a.shadow)(this,"isEnabled",ne)}}])&&o(q.prototype,N),G}(),t.WebGLContext=i;var u,d,n,k,j,Z,z,H,Y=(n="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",k="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",Z="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",z="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",H=j=null,{tryInitGL:function(){try{return P(),!!u}catch{}return!1},composeSMask:function(G,q,N){var ne=G.width,K=G.height;j||function(){var g;P(),x=d,g=u,u=d=null;var M=T(g,[B(g,n),U(g,k)]);g.useProgram(M);var A={};A.gl=g,A.canvas=x,A.resolutionLocation=g.getUniformLocation(M,"u_resolution"),A.positionLocation=g.getAttribLocation(M,"a_position"),A.backdropLocation=g.getUniformLocation(M,"u_backdrop"),A.subtypeLocation=g.getUniformLocation(M,"u_subtype");var m=g.getAttribLocation(M,"a_texCoord"),y=g.getUniformLocation(M,"u_image"),x=g.getUniformLocation(M,"u_mask"),M=g.createBuffer();g.bindBuffer(g.ARRAY_BUFFER,M),g.bufferData(g.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),g.STATIC_DRAW),g.enableVertexAttribArray(m),g.vertexAttribPointer(m,2,g.FLOAT,!1,0,0),g.uniform1i(y,0),g.uniform1i(x,1),j=A}();var L=j,E=L.canvas,w=L.gl;return E.width=ne,E.height=K,w.viewport(0,0,w.drawingBufferWidth,w.drawingBufferHeight),w.uniform2f(L.resolutionLocation,ne,K),N.backdrop?w.uniform4f(L.resolutionLocation,N.backdrop[0],N.backdrop[1],N.backdrop[2],1):w.uniform4f(L.resolutionLocation,0,0,0,0),w.uniform1i(L.subtypeLocation,N.subtype==="Luminosity"?1:0),N=C(w,G,w.TEXTURE0),G=C(w,q,w.TEXTURE1),q=w.createBuffer(),w.bindBuffer(w.ARRAY_BUFFER,q),w.bufferData(w.ARRAY_BUFFER,new Float32Array([0,0,ne,0,0,K,0,K,ne,0,ne,K]),w.STATIC_DRAW),w.enableVertexAttribArray(L.positionLocation),w.vertexAttribPointer(L.positionLocation,2,w.FLOAT,!1,0,0),w.clearColor(0,0,0,0),w.enable(w.BLEND),w.blendFunc(w.ONE,w.ONE_MINUS_SRC_ALPHA),w.clear(w.COLOR_BUFFER_BIT),w.drawArrays(w.TRIANGLES,0,6),w.flush(),w.deleteTexture(N),w.deleteTexture(G),w.deleteBuffer(q),E},drawFigures:function(G,q,N,ne,K){H||function(){var xe,ce;P(),xe=d,ce=u,u=d=null;var we=T(ce,[B(ce,Z),U(ce,z)]);ce.useProgram(we);var Ae={};Ae.gl=ce,Ae.canvas=xe,Ae.resolutionLocation=ce.getUniformLocation(we,"u_resolution"),Ae.scaleLocation=ce.getUniformLocation(we,"u_scale"),Ae.offsetLocation=ce.getUniformLocation(we,"u_offset"),Ae.positionLocation=ce.getAttribLocation(we,"a_position"),Ae.colorLocation=ce.getAttribLocation(we,"a_color"),H=Ae}();var L=H,E=L.canvas,w=L.gl;E.width=G,E.height=q,w.viewport(0,0,w.drawingBufferWidth,w.drawingBufferHeight),w.uniform2f(L.resolutionLocation,G,q);for(var g=0,A=0,m=ne.length;A<m;A++)switch(ne[A].type){case"lattice":g+=((de=ne[A].coords.length/ne[A].verticesPerRow|0)-1)*(ne[A].verticesPerRow-1)*6;break;case"triangles":g+=ne[A].coords.length}var y=new Float32Array(2*g),x=new Uint8Array(3*g),M=K.coords,X=K.colors,re=0,ee=0;for(A=0,m=ne.length;A<m;A++){var he=ne[A],ye=he.coords,Ce=he.colors;switch(he.type){case"lattice":for(var oe=he.verticesPerRow,de=ye.length/oe|0,fe=1;fe<de;fe++)for(var ue=fe*oe+1,pe=1;pe<oe;pe++,ue++)y[re]=M[ye[ue-oe-1]],y[re+1]=M[ye[ue-oe-1]+1],y[re+2]=M[ye[ue-oe]],y[re+3]=M[ye[ue-oe]+1],y[re+4]=M[ye[ue-1]],y[re+5]=M[ye[ue-1]+1],x[ee]=X[Ce[ue-oe-1]],x[ee+1]=X[Ce[ue-oe-1]+1],x[ee+2]=X[Ce[ue-oe-1]+2],x[ee+3]=X[Ce[ue-oe]],x[ee+4]=X[Ce[ue-oe]+1],x[ee+5]=X[Ce[ue-oe]+2],x[ee+6]=X[Ce[ue-1]],x[ee+7]=X[Ce[ue-1]+1],x[ee+8]=X[Ce[ue-1]+2],y[re+6]=y[re+2],y[re+7]=y[re+3],y[re+8]=y[re+4],y[re+9]=y[re+5],y[re+10]=M[ye[ue]],y[re+11]=M[ye[ue]+1],x[ee+9]=x[ee+3],x[ee+10]=x[ee+4],x[ee+11]=x[ee+5],x[ee+12]=x[ee+6],x[ee+13]=x[ee+7],x[ee+14]=x[ee+8],x[ee+15]=X[Ce[ue]],x[ee+16]=X[Ce[ue]+1],x[ee+17]=X[Ce[ue]+2],re+=12,ee+=18;break;case"triangles":for(var te=0,ge=ye.length;te<ge;te++)y[re]=M[ye[te]],y[re+1]=M[ye[te]+1],x[ee]=X[Ce[te]],x[ee+1]=X[Ce[te]+1],x[ee+2]=X[Ce[te]+2],re+=2,ee+=3}}return N?w.clearColor(N[0]/255,N[1]/255,N[2]/255,1):w.clearColor(0,0,0,0),w.clear(w.COLOR_BUFFER_BIT),q=w.createBuffer(),w.bindBuffer(w.ARRAY_BUFFER,q),w.bufferData(w.ARRAY_BUFFER,y,w.STATIC_DRAW),w.enableVertexAttribArray(L.positionLocation),w.vertexAttribPointer(L.positionLocation,2,w.FLOAT,!1,0,0),N=w.createBuffer(),w.bindBuffer(w.ARRAY_BUFFER,N),w.bufferData(w.ARRAY_BUFFER,x,w.STATIC_DRAW),w.enableVertexAttribArray(L.colorLocation),w.vertexAttribPointer(L.colorLocation,3,w.UNSIGNED_BYTE,!1,0,0),w.uniform2f(L.scaleLocation,K.scaleX,K.scaleY),w.uniform2f(L.offsetLocation,K.offsetX,K.offsetY),w.drawArrays(w.TRIANGLES,0,g),w.flush(),w.deleteBuffer(q),w.deleteBuffer(N),E},cleanup:function(){j&&j.canvas&&(j.canvas.width=0,j.canvas.height=0),H&&H.canvas&&(H.canvas.width=0,H.canvas.height=0),H=j=null}});function I(G,q,N){if(N=G.createShader(N),G.shaderSource(N,q),G.compileShader(N),G.getShaderParameter(N,G.COMPILE_STATUS))return N;throw N=G.getShaderInfoLog(N),new Error("Error during shader compilation: "+N)}function B(G,q){return I(G,q,G.VERTEX_SHADER)}function U(G,q){return I(G,q,G.FRAGMENT_SHADER)}function T(G,q){for(var N=G.createProgram(),ne=0,K=q.length;ne<K;++ne)G.attachShader(N,q[ne]);if(G.linkProgram(N),G.getProgramParameter(N,G.LINK_STATUS))return N;var L=G.getProgramInfoLog(N);throw new Error("Error during program linking: "+L)}function C(G,q,N){return G.activeTexture(N),N=G.createTexture(),G.bindTexture(G.TEXTURE_2D,N),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_WRAP_S,G.CLAMP_TO_EDGE),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_WRAP_T,G.CLAMP_TO_EDGE),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MIN_FILTER,G.NEAREST),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MAG_FILTER,G.NEAREST),G.texImage2D(G.TEXTURE_2D,0,G.RGBA,G.RGBA,G.UNSIGNED_BYTE,q),N}function P(){u||(d=document.createElement("canvas"),u=d.getContext("webgl",{premultipliedalpha:!1}))}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var a=i(1),o=i(5);function u(ue,pe){var te;if(typeof Symbol>"u"||ue[Symbol.iterator]==null){if(Array.isArray(ue)||(te=function(Ae,Fe){if(Ae){if(typeof Ae=="string")return d(Ae,Fe);var De=Object.prototype.toString.call(Ae).slice(8,-1);return(De=De==="Object"&&Ae.constructor?Ae.constructor.name:De)==="Map"||De==="Set"?Array.from(Ae):De==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(De)?d(Ae,Fe):void 0}}(ue))||pe&&ue&&typeof ue.length=="number"){te&&(ue=te);var ge=0,pe=function(){};return{s:pe,n:function(){return ge>=ue.length?{done:!0}:{done:!1,value:ue[ge++]}},e:function(Fe){throw Fe},f:pe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xe,ce=!0,we=!1;return{s:function(){te=ue[Symbol.iterator]()},n:function(){var Ae=te.next();return ce=Ae.done,Ae},e:function(Ae){we=!0,xe=Ae},f:function(){try{ce||te.return==null||te.return()}finally{if(we)throw xe}}}}function d(ue,pe){(pe==null||pe>ue.length)&&(pe=ue.length);for(var te=0,ge=new Array(pe);te<pe;te++)ge[te]=ue[te];return ge}function n(ue,pe,te){return(n=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(ge,xe,ce){if(ge=function(we,Ae){for(;!Object.prototype.hasOwnProperty.call(we,Ae)&&(we=Y(we))!==null;);return we}(ge,xe),ge)return xe=Object.getOwnPropertyDescriptor(ge,xe),xe.get?xe.get.call(ce):xe.value})(ue,pe,te||ue)}function k(ue){return(k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe})(ue)}function j(ue,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Super expression must either be null or a function");ue.prototype=Object.create(pe&&pe.prototype,{constructor:{value:ue,writable:!0,configurable:!0}}),pe&&Z(ue,pe)}function Z(ue,pe){return(Z=Object.setPrototypeOf||function(te,ge){return te.__proto__=ge,te})(ue,pe)}function z(ue){var pe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var te,ge=Y(ue);return te=pe?(te=Y(this).constructor,Reflect.construct(ge,arguments,te)):ge.apply(this,arguments),ge=this,!(te=te)||k(te)!=="object"&&typeof te!="function"?H(ge):te}}function H(ue){if(ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ue}function Y(ue){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)})(ue)}function I(ue,pe){if(!(ue instanceof pe))throw new TypeError("Cannot call a class as a function")}function B(ue,pe){for(var te=0;te<pe.length;te++){var ge=pe[te];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(ue,ge.key,ge)}}function U(ue,pe,te){return pe&&B(ue.prototype,pe),te&&B(ue,te),ue}var T=function(){function ue(){I(this,ue)}return U(ue,null,[{key:"create",value:function(pe){switch(pe.data.annotationType){case o.AnnotationType.LINK:return new P(pe);case o.AnnotationType.TEXT:return new G(pe);case o.AnnotationType.WIDGET:switch(pe.data.fieldType){case"Tx":return new N(pe);case"Btn":return pe.data.radioButton?new K(pe):new(pe.data.checkBox?ne:L)(pe);case"Ch":return new E(pe)}return new q(pe);case o.AnnotationType.POPUP:return new w(pe);case o.AnnotationType.FREETEXT:return new A(pe);case o.AnnotationType.LINE:return new m(pe);case o.AnnotationType.SQUARE:return new y(pe);case o.AnnotationType.CIRCLE:return new x(pe);case o.AnnotationType.POLYLINE:return new M(pe);case o.AnnotationType.CARET:return new re(pe);case o.AnnotationType.INK:return new ee(pe);case o.AnnotationType.POLYGON:return new X(pe);case o.AnnotationType.HIGHLIGHT:return new he(pe);case o.AnnotationType.UNDERLINE:return new ye(pe);case o.AnnotationType.SQUIGGLY:return new Ce(pe);case o.AnnotationType.STRIKEOUT:return new oe(pe);case o.AnnotationType.STAMP:return new de(pe);case o.AnnotationType.FILEATTACHMENT:return new fe(pe);default:return new C(pe)}}}]),ue}(),C=function(){function ue(pe){var te=1<arguments.length&&arguments[1]!==void 0&&arguments[1],ge=2<arguments.length&&arguments[2]!==void 0&&arguments[2];I(this,ue),this.isRenderable=te,this.data=pe.data,this.layer=pe.layer,this.page=pe.page,this.viewport=pe.viewport,this.linkService=pe.linkService,this.downloadManager=pe.downloadManager,this.imageResourcesPath=pe.imageResourcesPath,this.renderInteractiveForms=pe.renderInteractiveForms,this.svgFactory=pe.svgFactory,te&&(this.container=this._createContainer(ge))}return U(ue,[{key:"_createContainer",value:function(){var pe=0<arguments.length&&arguments[0]!==void 0&&arguments[0],te=this.data,ge=this.page,xe=this.viewport,ce=document.createElement("section"),we=te.rect[2]-te.rect[0],Ae=te.rect[3]-te.rect[1];if(ce.setAttribute("data-annotation-id",te.id),ge=o.Util.normalizeRect([te.rect[0],ge.view[3]-te.rect[1]+ge.view[1],te.rect[2],ge.view[3]-te.rect[3]+ge.view[1]]),ce.style.transform="matrix(".concat(xe.transform.join(","),")"),ce.style.transformOrigin="-".concat(ge[0],"px -").concat(ge[1],"px"),!pe&&0<te.borderStyle.width){switch(ce.style.borderWidth="".concat(te.borderStyle.width,"px"),te.borderStyle.style!==o.AnnotationBorderStyleType.UNDERLINE&&(we-=2*te.borderStyle.width,Ae-=2*te.borderStyle.width),xe=te.borderStyle.horizontalCornerRadius,pe=te.borderStyle.verticalCornerRadius,(0<xe||0<pe)&&(pe="".concat(xe,"px / ").concat(pe,"px"),ce.style.borderRadius=pe),te.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:ce.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:ce.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:ce.style.borderBottomStyle="solid"}te.color?ce.style.borderColor=o.Util.makeCssRgb(0|te.color[0],0|te.color[1],0|te.color[2]):ce.style.borderWidth=0}return ce.style.left="".concat(ge[0],"px"),ce.style.top="".concat(ge[1],"px"),ce.style.width="".concat(we,"px"),ce.style.height="".concat(Ae,"px"),ce}},{key:"_createPopup",value:function(pe,te,ge){te||((te=document.createElement("div")).style.height=pe.style.height,te.style.width=pe.style.width,pe.appendChild(te)),ge=new g({container:pe,trigger:te,color:ge.color,title:ge.title,modificationDate:ge.modificationDate,contents:ge.contents,hideWrapper:!0}).render(),ge.style.left=pe.style.width,pe.appendChild(ge)}},{key:"render",value:function(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}}]),ue}(),P=function(){j(pe,C);var ue=z(pe);function pe(te){I(this,pe);var ge=!!(te.data.url||te.data.dest||te.data.action);return ue.call(this,te,ge)}return U(pe,[{key:"render",value:function(){this.container.className="linkAnnotation";var te=this.data,ge=this.linkService,xe=document.createElement("a");return te.url?(0,a.addLinkAttributes)(xe,{url:te.url,target:te.newWindow?a.LinkTarget.BLANK:ge.externalLinkTarget,rel:ge.externalLinkRel,enabled:ge.externalLinkEnabled}):te.action?this._bindNamedAction(xe,te.action):this._bindLink(xe,te.dest),this.container.appendChild(xe),this.container}},{key:"_bindLink",value:function(te,ge){var xe=this;te.href=this.linkService.getDestinationHash(ge),te.onclick=function(){return ge&&xe.linkService.navigateTo(ge),!1},ge&&(te.className="internalLink")}},{key:"_bindNamedAction",value:function(te,ge){var xe=this;te.href=this.linkService.getAnchorUrl(""),te.onclick=function(){return xe.linkService.executeNamedAction(ge),!1},te.className="internalLink"}}]),pe}(),G=function(){j(pe,C);var ue=z(pe);function pe(te){I(this,pe);var ge=!!(te.data.hasPopup||te.data.title||te.data.contents);return ue.call(this,te,ge)}return U(pe,[{key:"render",value:function(){this.container.className="textAnnotation";var te=document.createElement("img");return te.style.height=this.container.style.height,te.style.width=this.container.style.width,te.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",te.alt="[{{type}} Annotation]",te.dataset.l10nId="text_annotation_type",te.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,te,this.data),this.container.appendChild(te),this.container}}]),pe}(),q=function(){j(pe,C);var ue=z(pe);function pe(){return I(this,pe),ue.apply(this,arguments)}return U(pe,[{key:"render",value:function(){return this.container}}]),pe}(),N=function(){j(pe,q);var ue=z(pe);function pe(te){I(this,pe);var ge=te.renderInteractiveForms||!te.data.hasAppearance&&!!te.data.fieldValue;return ue.call(this,te,ge)}return U(pe,[{key:"render",value:function(){this.container.className="textWidgetAnnotation";var te,ge=null;return this.renderInteractiveForms?(this.data.multiLine?(ge=document.createElement("textarea")).textContent=this.data.fieldValue:((ge=document.createElement("input")).type="text",ge.setAttribute("value",this.data.fieldValue)),ge.disabled=this.data.readOnly,ge.name=this.data.fieldName,this.data.maxLen!==null&&(ge.maxLength=this.data.maxLen),this.data.comb&&(te=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen,ge.classList.add("comb"),ge.style.letterSpacing="calc(".concat(te,"px - 1ch)"))):((ge=document.createElement("div")).textContent=this.data.fieldValue,ge.style.verticalAlign="middle",ge.style.display="table-cell",te=null,this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(te=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(ge,te)),this.data.textAlignment!==null&&(ge.style.textAlign=["left","center","right"][this.data.textAlignment]),this.container.appendChild(ge),this.container}},{key:"_setTextStyle",value:function(te,ge){var xe=te.style;xe.fontSize="".concat(this.data.fontSize,"px"),xe.direction=this.data.fontDirection<0?"rtl":"ltr",ge&&(te="normal",ge.black?te="900":ge.bold&&(te="bold"),xe.fontWeight=te,xe.fontStyle=ge.italic?"italic":"normal",te=ge.loadedName?'"'.concat(ge.loadedName,'", '):"",ge=ge.fallbackName||"Helvetica, sans-serif",xe.fontFamily=te+ge)}}]),pe}(),ne=function(){j(pe,q);var ue=z(pe);function pe(te){return I(this,pe),ue.call(this,te,te.renderInteractiveForms)}return U(pe,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var te=document.createElement("input");return te.disabled=this.data.readOnly,te.type="checkbox",te.name=this.data.fieldName,this.data.fieldValue&&this.data.fieldValue!=="Off"&&te.setAttribute("checked",!0),this.container.appendChild(te),this.container}}]),pe}(),K=function(){j(pe,q);var ue=z(pe);function pe(te){return I(this,pe),ue.call(this,te,te.renderInteractiveForms)}return U(pe,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var te=document.createElement("input");return te.disabled=this.data.readOnly,te.type="radio",te.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&te.setAttribute("checked",!0),this.container.appendChild(te),this.container}}]),pe}(),L=function(){j(pe,P);var ue=z(pe);function pe(){return I(this,pe),ue.apply(this,arguments)}return U(pe,[{key:"render",value:function(){var te=n(Y(pe.prototype),"render",this).call(this);return te.className="buttonWidgetAnnotation pushButton",te}}]),pe}(),E=function(){j(pe,q);var ue=z(pe);function pe(te){return I(this,pe),ue.call(this,te,te.renderInteractiveForms)}return U(pe,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var te=document.createElement("select");te.disabled=this.data.readOnly,te.name=this.data.fieldName,this.data.combo||(te.size=this.data.options.length,this.data.multiSelect&&(te.multiple=!0));var ge,xe=u(this.data.options);try{for(xe.s();!(ge=xe.n()).done;){var ce=ge.value,we=document.createElement("option");we.textContent=ce.displayValue,we.value=ce.exportValue,this.data.fieldValue.includes(ce.displayValue)&&we.setAttribute("selected",!0),te.appendChild(we)}}catch(Ae){xe.e(Ae)}finally{xe.f()}return this.container.appendChild(te),this.container}}]),pe}(),w=function(){j(pe,C);var ue=z(pe);function pe(te){I(this,pe);var ge=!(!te.data.title&&!te.data.contents);return ue.call(this,te,ge)}return U(pe,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var ce='[data-annotation-id="'.concat(this.data.parentId,'"]'),te=this.layer.querySelector(ce);if(!te)return this.container;var ge=new g({container:this.container,trigger:te,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),xe=parseFloat(te.style.left),ce=parseFloat(te.style.width);return this.container.style.transformOrigin="-".concat(xe+ce,"px -").concat(te.style.top),this.container.style.left="".concat(xe+ce,"px"),this.container.appendChild(ge.render()),this.container}}]),pe}(),g=function(){function ue(pe){I(this,ue),this.container=pe.container,this.trigger=pe.trigger,this.color=pe.color,this.title=pe.title,this.modificationDate=pe.modificationDate,this.contents=pe.contents,this.hideWrapper=pe.hideWrapper||!1,this.pinned=!1}return U(ue,[{key:"render",value:function(){var pe=document.createElement("div");pe.className="popupWrapper",this.hideElement=this.hideWrapper?pe:this.container,this.hideElement.setAttribute("hidden",!0);var te=document.createElement("div");te.className="popup";var ge,xe,ce=this.color;ce&&(ge=.7*(255-ce[0])+ce[0],xe=.7*(255-ce[1])+ce[1],we=.7*(255-ce[2])+ce[2],te.style.backgroundColor=o.Util.makeCssRgb(0|ge,0|xe,0|we));var we=document.createElement("h1");we.textContent=this.title,te.appendChild(we),we=a.PDFDateString.toDateObject(this.modificationDate),we&&((Ae=document.createElement("span")).textContent="{{date}}, {{time}}",Ae.dataset.l10nId="annotation_date_string",Ae.dataset.l10nArgs=JSON.stringify({date:we.toLocaleDateString(),time:we.toLocaleTimeString()}),te.appendChild(Ae));var Ae=this._formatContents(this.contents);return te.appendChild(Ae),this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),te.addEventListener("click",this._hide.bind(this,!0)),pe.appendChild(te),pe}},{key:"_formatContents",value:function(pe){for(var te=document.createElement("p"),ge=pe.split(/(?:\r\n?|\n)/),xe=0,ce=ge.length;xe<ce;++xe){var we=ge[xe];te.appendChild(document.createTextNode(we)),xe<ce-1&&te.appendChild(document.createElement("br"))}return te}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){0<arguments.length&&arguments[0]!==void 0&&arguments[0]&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){0<arguments.length&&arguments[0]!==void 0&&!arguments[0]||(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),--this.container.style.zIndex)}}]),ue}(),A=function(){j(pe,C);var ue=z(pe);function pe(te){I(this,pe);var ge=!!(te.data.hasPopup||te.data.title||te.data.contents);return ue.call(this,te,ge,!0)}return U(pe,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),pe}(),m=function(){j(pe,C);var ue=z(pe);function pe(te){I(this,pe);var ge=!!(te.data.hasPopup||te.data.title||te.data.contents);return ue.call(this,te,ge,!0)}return U(pe,[{key:"render",value:function(){this.container.className="lineAnnotation";var te=this.data,ge=te.rect[2]-te.rect[0],xe=te.rect[3]-te.rect[1],ge=this.svgFactory.create(ge,xe),xe=this.svgFactory.createElement("svg:line");return xe.setAttribute("x1",te.rect[2]-te.lineCoordinates[0]),xe.setAttribute("y1",te.rect[3]-te.lineCoordinates[1]),xe.setAttribute("x2",te.rect[2]-te.lineCoordinates[2]),xe.setAttribute("y2",te.rect[3]-te.lineCoordinates[3]),xe.setAttribute("stroke-width",te.borderStyle.width||1),xe.setAttribute("stroke","transparent"),ge.appendChild(xe),this.container.append(ge),this._createPopup(this.container,xe,te),this.container}}]),pe}(),y=function(){j(pe,C);var ue=z(pe);function pe(te){I(this,pe);var ge=!!(te.data.hasPopup||te.data.title||te.data.contents);return ue.call(this,te,ge,!0)}return U(pe,[{key:"render",value:function(){this.container.className="squareAnnotation";var te=this.data,ge=te.rect[2]-te.rect[0],xe=te.rect[3]-te.rect[1],ce=this.svgFactory.create(ge,xe),we=te.borderStyle.width,Ae=this.svgFactory.createElement("svg:rect");return Ae.setAttribute("x",we/2),Ae.setAttribute("y",we/2),Ae.setAttribute("width",ge-we),Ae.setAttribute("height",xe-we),Ae.setAttribute("stroke-width",we||1),Ae.setAttribute("stroke","transparent"),Ae.setAttribute("fill","none"),ce.appendChild(Ae),this.container.append(ce),this._createPopup(this.container,Ae,te),this.container}}]),pe}(),x=function(){j(pe,C);var ue=z(pe);function pe(te){I(this,pe);var ge=!!(te.data.hasPopup||te.data.title||te.data.contents);return ue.call(this,te,ge,!0)}return U(pe,[{key:"render",value:function(){this.container.className="circleAnnotation";var te=this.data,ge=te.rect[2]-te.rect[0],xe=te.rect[3]-te.rect[1],ce=this.svgFactory.create(ge,xe),we=te.borderStyle.width,Ae=this.svgFactory.createElement("svg:ellipse");return Ae.setAttribute("cx",ge/2),Ae.setAttribute("cy",xe/2),Ae.setAttribute("rx",ge/2-we/2),Ae.setAttribute("ry",xe/2-we/2),Ae.setAttribute("stroke-width",we||1),Ae.setAttribute("stroke","transparent"),Ae.setAttribute("fill","none"),ce.appendChild(Ae),this.container.append(ce),this._createPopup(this.container,Ae,te),this.container}}]),pe}(),M=function(){j(pe,C);var ue=z(pe);function pe(te){I(this,pe);var ge=!!(te.data.hasPopup||te.data.title||te.data.contents);return(ge=ue.call(this,te,ge,!0)).containerClassName="polylineAnnotation",ge.svgElementName="svg:polyline",ge}return U(pe,[{key:"render",value:function(){this.container.className=this.containerClassName;var te,ge=this.data,ce=ge.rect[2]-ge.rect[0],xe=ge.rect[3]-ge.rect[1],ce=this.svgFactory.create(ce,xe),we=[],Ae=u(ge.vertices);try{for(Ae.s();!(te=Ae.n()).done;){var Fe=te.value,De=Fe.x-ge.rect[0],Ge=ge.rect[3]-Fe.y;we.push(De+","+Ge)}}catch(ct){Ae.e(ct)}finally{Ae.f()}return we=we.join(" "),xe=this.svgFactory.createElement(this.svgElementName),xe.setAttribute("points",we),xe.setAttribute("stroke-width",ge.borderStyle.width||1),xe.setAttribute("stroke","transparent"),xe.setAttribute("fill","none"),ce.appendChild(xe),this.container.append(ce),this._createPopup(this.container,xe,ge),this.container}}]),pe}(),X=function(){j(pe,M);var ue=z(pe);function pe(te){return I(this,pe),(te=ue.call(this,te)).containerClassName="polygonAnnotation",te.svgElementName="svg:polygon",te}return pe}(),re=function(){j(pe,C);var ue=z(pe);function pe(te){I(this,pe);var ge=!!(te.data.hasPopup||te.data.title||te.data.contents);return ue.call(this,te,ge,!0)}return U(pe,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),pe}(),ee=function(){j(pe,C);var ue=z(pe);function pe(te){I(this,pe);var ge=!!(te.data.hasPopup||te.data.title||te.data.contents);return(ge=ue.call(this,te,ge,!0)).containerClassName="inkAnnotation",ge.svgElementName="svg:polyline",ge}return U(pe,[{key:"render",value:function(){this.container.className=this.containerClassName;var te,ge=this.data,xe=ge.rect[2]-ge.rect[0],ce=ge.rect[3]-ge.rect[1],we=this.svgFactory.create(xe,ce),Ae=u(ge.inkLists);try{for(Ae.s();!(te=Ae.n()).done;){var Fe,De=te.value,Ie=[],Ge=u(De);try{for(Ge.s();!(Fe=Ge.n()).done;){var ct=Fe.value,ot=ct.x-ge.rect[0],Qe=ge.rect[3]-ct.y;Ie.push("".concat(ot,",").concat(Qe))}}catch(He){Ge.e(He)}finally{Ge.f()}var Ie=Ie.join(" "),Ue=this.svgFactory.createElement(this.svgElementName);Ue.setAttribute("points",Ie),Ue.setAttribute("stroke-width",ge.borderStyle.width||1),Ue.setAttribute("stroke","transparent"),Ue.setAttribute("fill","none"),this._createPopup(this.container,Ue,ge),we.appendChild(Ue)}}catch(He){Ae.e(He)}finally{Ae.f()}return this.container.append(we),this.container}}]),pe}(),he=function(){j(pe,C);var ue=z(pe);function pe(te){I(this,pe);var ge=!!(te.data.hasPopup||te.data.title||te.data.contents);return ue.call(this,te,ge,!0)}return U(pe,[{key:"render",value:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),pe}(),ye=function(){j(pe,C);var ue=z(pe);function pe(te){I(this,pe);var ge=!!(te.data.hasPopup||te.data.title||te.data.contents);return ue.call(this,te,ge,!0)}return U(pe,[{key:"render",value:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),pe}(),Ce=function(){j(pe,C);var ue=z(pe);function pe(te){I(this,pe);var ge=!!(te.data.hasPopup||te.data.title||te.data.contents);return ue.call(this,te,ge,!0)}return U(pe,[{key:"render",value:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),pe}(),oe=function(){j(pe,C);var ue=z(pe);function pe(te){I(this,pe);var ge=!!(te.data.hasPopup||te.data.title||te.data.contents);return ue.call(this,te,ge,!0)}return U(pe,[{key:"render",value:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),pe}(),de=function(){j(pe,C);var ue=z(pe);function pe(te){I(this,pe);var ge=!!(te.data.hasPopup||te.data.title||te.data.contents);return ue.call(this,te,ge,!0)}return U(pe,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),pe}(),fe=function(){j(pe,C);var ue=z(pe);function pe(xe){I(this,pe);var ge,ce=(ge=ue.call(this,xe,!0)).data.file,xe=ce.filename,ce=ce.content;return ge.filename=(0,a.getFilenameFromUrl)(xe),ge.content=ce,ge.linkService.eventBus&&ge.linkService.eventBus.dispatch("fileattachmentannotation",{source:H(ge),id:(0,o.stringToPDFString)(xe),filename:xe,content:ce}),ge}return U(pe,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var te=document.createElement("div");return te.style.height=this.container.style.height,te.style.width=this.container.style.width,te.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,te,this.data),this.container.appendChild(te),this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,o.warn)("Download cannot be started due to unavailable download manager")}}]),pe}();t.AnnotationLayer=function(){function ue(){I(this,ue)}return U(ue,null,[{key:"render",value:function(pe){var te,ge=[],xe=[],ce=u(pe.annotations);try{for(ce.s();!(te=ce.n()).done;){var we=te.value;we&&(we.annotationType!==o.AnnotationType.POPUP?ge:xe).push(we)}}catch(Ge){ce.e(Ge)}finally{ce.f()}xe.length&&ge.push.apply(ge,xe);for(var Ae=0,Fe=ge;Ae<Fe.length;Ae++){var De=Fe[Ae],De=T.create({data:De,layer:pe.div,page:pe.page,viewport:pe.viewport,linkService:pe.linkService,downloadManager:pe.downloadManager,imageResourcesPath:pe.imageResourcesPath||"",renderInteractiveForms:pe.renderInteractiveForms||!1,svgFactory:new a.DOMSVGFactory});De.isRenderable&&pe.div.appendChild(De.render())}}},{key:"update",value:function(pe){var te,ge=u(pe.annotations);try{for(ge.s();!(te=ge.n()).done;){var xe=te.value,ce=pe.div.querySelector('[data-annotation-id="'.concat(xe.id,'"]'));ce&&(ce.style.transform="matrix(".concat(pe.viewport.transform.join(","),")"))}}catch(we){ge.e(we)}finally{ge.f()}pe.div.removeAttribute("hidden")}}]),ue}()},function(e,t,u){Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=void 0;var a,o=u(5),u=(a=/\S/,z.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function(H,Y){for(var I=0,B=H.length;I<B;I++)this._textContentItemsStr.push(H[I].str),d(this,H[I],Y)},_layoutText:function(H){var Y,I,B,U=this._textDivProperties.get(H);U.isWhitespace||(Y="",U.canvasWidth!==0&&(I=(B=H.style).fontSize,B=B.fontFamily,I===this._layoutTextLastFontSize&&B===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(I," ").concat(B),this._layoutTextLastFontSize=I,this._layoutTextLastFontFamily=B),0<(B=this._layoutTextCtx.measureText(H.textContent).width)&&(U.scale=U.canvasWidth/B,Y="scaleX(".concat(U.scale,")"))),0<(Y=U.angle!==0?"rotate(".concat(U.angle,"deg) ").concat(Y):Y).length&&(this._enhanceTextSelection&&(U.originalTransform=Y),H.style.transform=Y),this._textDivProperties.set(H,U),this._container.appendChild(H))},_render:function(H){var Y=this,I=(0,o.createPromiseCapability)(),B=Object.create(null),U=document.createElement("canvas");if(U.mozOpaque=!0,this._layoutTextCtx=U.getContext("2d",{alpha:!1}),this._textContent){var U=this._textContent.items,T=this._textContent.styles;this._processItems(U,T),I.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');T=function C(){Y._reader.read().then(function(P){var G=P.value;P.done?I.resolve():(Object.assign(B,G.styles),Y._processItems(G.items,B),C())},I.reject)},this._reader=this._textContentStream.getReader(),T()}I.promise.then(function(){B=null,H?Y._renderTimer=setTimeout(function(){n(Y),Y._renderTimer=null},H):n(Y)},this._capability.reject)},expandTextDivs:function(H){if(this._enhanceTextSelection&&this._renderingDone){this._bounds!==null&&(j(this),this._bounds=null);for(var Y=[],I=[],B=0,U=this._textDivs.length;B<U;B++){var T=this._textDivs[B],C=this._textDivProperties.get(T);C.isWhitespace||(H?(Y.length=0,I.length=0,C.originalTransform&&Y.push(C.originalTransform),0<C.paddingTop?(I.push("".concat(C.paddingTop,"px")),Y.push("translateY(".concat(-C.paddingTop,"px)"))):I.push(0),0<C.paddingRight?I.push("".concat(C.paddingRight/C.scale,"px")):I.push(0),0<C.paddingBottom?I.push("".concat(C.paddingBottom,"px")):I.push(0),0<C.paddingLeft?(I.push("".concat(C.paddingLeft/C.scale,"px")),Y.push("translateX(".concat(-C.paddingLeft/C.scale,"px)"))):I.push(0),T.style.padding=I.join(" "),Y.length&&(T.style.transform=Y.join(" "))):(T.style.padding=null,T.style.transform=C.originalTransform))}}}},function(H){var Y=new z({textContent:H.textContent,textContentStream:H.textContentStream,container:H.container,viewport:H.viewport,textDivs:H.textDivs,textContentItemsStr:H.textContentItemsStr,enhanceTextSelection:H.enhanceTextSelection});return Y._render(H.timeout),Y});function d(H,Y,L){var B=document.createElement("span"),U={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(H._textDivs.push(B),K=Y.str,!a.test(K))return U.isWhitespace=!0,void H._textDivProperties.set(B,U);var T=o.Util.transform(H._viewport.transform,Y.transform),C=Math.atan2(T[1],T[0]),P=L[Y.fontName];P.vertical&&(C+=Math.PI/2);var G,q=Math.sqrt(T[2]*T[2]+T[3]*T[3]),N=q;P.ascent?N=P.ascent*N:P.descent&&(N=(1+P.descent)*N),K=C===0?(G=T[4],T[5]-N):(G=T[4]+N*Math.sin(C),T[5]-N*Math.cos(C)),B.style.left="".concat(G,"px"),B.style.top="".concat(K,"px"),B.style.fontSize="".concat(q,"px"),B.style.fontFamily=P.fontFamily,B.textContent=Y.str,H._fontInspectorEnabled&&(B.dataset.fontName=Y.fontName),C!==0&&(U.angle=C*(180/Math.PI));var ne,K,L=!1;1<Y.str.length?L=!0:Y.transform[0]===Y.transform[3]||(T=Math.abs(Y.transform[0]))!==(N=Math.abs(Y.transform[3]))&&1.5<Math.max(T,N)/Math.min(T,N)&&(L=!0),L&&(P.vertical?U.canvasWidth=Y.height*H._viewport.scale:U.canvasWidth=Y.width*H._viewport.scale),H._textDivProperties.set(B,U),H._textContentStream&&H._layoutText(B),H._enhanceTextSelection&&(L=1,(U=0)!==C&&(L=Math.cos(C),U=Math.sin(C)),Y=(P.vertical?Y.height:Y.width)*H._viewport.scale,q=q,K=C!==0?o.Util.getAxialAlignedBoundingBox([0,0,Y,q],ne=[L,U,-U,L,G,K]):[G,K,G+Y,K+q],H._bounds.push({left:K[0],top:K[1],right:K[2],bottom:K[3],div:B,size:[Y,q],m:ne}))}function n(H){if(!H._canceled){var Y=H._textDivs,I=H._capability,B=Y.length;if(1e5<B)return H._renderingDone=!0,void I.resolve();if(!H._textContentStream)for(var U=0;U<B;U++)H._layoutText(Y[U]);H._renderingDone=!0,I.resolve()}}function k(H,Y,I){for(var B=0,U=0;U<I;U++){var T=H[Y++];0<T&&(B=B?Math.min(T,B):T)}return B}function j(H){for(var Y=H._bounds,I=H._viewport,B=function(L,E,w){var g=w.map(function(m,y){return{x1:m.left,y1:m.top,x2:m.right,y2:m.bottom,index:y,x1New:void 0,x2New:void 0}});Z(L,g);var A=new Array(w.length);return g.forEach(function(m){var y=m.index;A[y]={left:m.x1New,top:0,right:m.x2New,bottom:0}}),w.map(function(m,y){var x=A[y],M=g[y];M.x1=m.top,M.y1=L-x.right,M.x2=m.bottom,M.y2=L-x.left,M.index=y,M.x1New=void 0,M.x2New=void 0}),Z(E,g),g.forEach(function(m){var y=m.index;A[y].top=m.x1New,A[y].bottom=m.x2New}),A}(I.width,I.height,Y),U=0;U<B.length;U++){var T,C,P,G,q,N,ne=Y[U].div,K=H._textDivProperties.get(ne);K.angle!==0?(T=B[U],N=Y[U],C=N.m,P=C[0],G=C[1],N=[[0,0],[0,N.size[1]],[N.size[0],0],N.size],q=new Float64Array(64),N.forEach(function(L,E){L=o.Util.applyTransform(L,C),q[E+0]=P&&(T.left-L[0])/P,q[E+4]=G&&(T.top-L[1])/G,q[E+8]=P&&(T.right-L[0])/P,q[E+12]=G&&(T.bottom-L[1])/G,q[E+16]=G&&(T.left-L[0])/-G,q[E+20]=P&&(T.top-L[1])/P,q[E+24]=G&&(T.right-L[0])/-G,q[E+28]=P&&(T.bottom-L[1])/P,q[E+32]=P&&(T.left-L[0])/-P,q[E+36]=G&&(T.top-L[1])/-G,q[E+40]=P&&(T.right-L[0])/-P,q[E+44]=G&&(T.bottom-L[1])/-G,q[E+48]=G&&(T.left-L[0])/G,q[E+52]=P&&(T.top-L[1])/-P,q[E+56]=G&&(T.right-L[0])/G,q[E+60]=P&&(T.bottom-L[1])/-P}),N=1+Math.min(Math.abs(P),Math.abs(G)),K.paddingLeft=k(q,32,16)/N,K.paddingTop=k(q,48,16)/N,K.paddingRight=k(q,0,16)/N,K.paddingBottom=k(q,16,16)/N,H._textDivProperties.set(ne,K)):(K.paddingLeft=Y[U].left-B[U].left,K.paddingTop=Y[U].top-B[U].top,K.paddingRight=B[U].right-Y[U].right,K.paddingBottom=B[U].bottom-Y[U].bottom,H._textDivProperties.set(ne,K))}}function Z(H,Y){Y.sort(function(B,U){return B.x1-U.x1||B.index-U.index});var I=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];Y.forEach(function(B){for(var U=0;U<I.length&&I[U].end<=B.y1;)U++;for(var T=I.length-1;0<=T&&I[T].start>=B.y2;)T--;for(var C=-1/0,P=U;P<=T;P++){var G,q,N=(q=(G=I[P]).boundary).x2>B.x1?q.index>B.index?q.x1New:B.x1:q.x2New===void 0?(q.x2+B.x1)/2:q.x2New;C<N&&(C=N)}for(B.x1New=C,P=U;P<=T;P++)(q=(G=I[P]).boundary).x2New===void 0?q.x2>B.x1?q.index>B.index&&(q.x2New=q.x2):q.x2New=C:q.x2New>C&&(q.x2New=Math.max(C,q.x2));var ne=[],K=null;for(P=U;P<=T;P++){var L=(q=(G=I[P]).boundary).x2>B.x2?q:B;K===L?ne[ne.length-1].end=G.end:(ne.push({start:G.start,end:G.end,boundary:L}),K=L)}for(I[U].start<B.y1&&(ne[0].start=B.y1,ne.unshift({start:I[U].start,end:B.y1,boundary:I[U].boundary})),B.y2<I[T].end&&(ne[ne.length-1].end=B.y2,ne.push({start:B.y2,end:I[T].end,boundary:I[T].boundary})),P=U;P<=T;P++)if((q=(G=I[P]).boundary).x2New===void 0){for(var E=!1,w=U-1;!E&&0<=w&&I[w].start>=q.y1;w--)E=I[w].boundary===q;for(w=T+1;!E&&w<I.length&&I[w].end<=q.y2;w++)E=I[w].boundary===q;for(w=0;!E&&w<ne.length;w++)E=ne[w].boundary===q;E||(q.x2New=C)}Array.prototype.splice.apply(I,[U,T-U+1].concat(ne))}),I.forEach(function(B){B=B.boundary,B.x2New===void 0&&(B.x2New=Math.max(H,B.x2))})}function z(G){var Y=this,I=G.textContent,B=G.textContentStream,U=G.container,T=G.viewport,C=G.textDivs,P=G.textContentItemsStr,G=G.enhanceTextSelection;this._textContent=I,this._textContentStream=B,this._container=U,this._viewport=T,this._textDivs=C||[],this._textContentItemsStr=P||[],this._enhanceTextSelection=!!G,this._fontInspectorEnabled=!(!globalThis.FontInspector||!globalThis.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,o.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){Y._layoutTextCtx&&(Y._layoutTextCtx.canvas.width=0,Y._layoutTextCtx.canvas.height=0,Y._layoutTextCtx=null)}).catch(function(){})}t.renderTextLayer=u},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var a=i(5),o=i(1),u=i(7);function d(E){return function(w){if(Array.isArray(w))return Z(w)}(E)||function(w){if(typeof Symbol<"u"&&Symbol.iterator in Object(w))return Array.from(w)}(E)||j(E)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function n(E,w){return function(g){if(Array.isArray(g))return g}(E)||function(g,A){if(typeof Symbol<"u"&&Symbol.iterator in Object(g)){var m=[],y=!0,x=!1,M=void 0;try{for(var X,re=g[Symbol.iterator]();!(y=(X=re.next()).done)&&(m.push(X.value),!A||m.length!==A);y=!0);}catch(ee){x=!0,M=ee}finally{try{y||re.return==null||re.return()}finally{if(x)throw M}}return m}}(E,w)||j(E,w)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k(E,w){var g;if(typeof Symbol>"u"||E[Symbol.iterator]==null){if(Array.isArray(E)||(g=j(E))||w&&E&&typeof E.length=="number"){g&&(E=g);var A=0,w=function(){};return{s:w,n:function(){return A>=E.length?{done:!0}:{done:!1,value:E[A++]}},e:function(X){throw X},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,y=!0,x=!1;return{s:function(){g=E[Symbol.iterator]()},n:function(){var M=g.next();return y=M.done,M},e:function(M){x=!0,m=M},f:function(){try{y||g.return==null||g.return()}finally{if(x)throw m}}}}function j(E,w){if(E){if(typeof E=="string")return Z(E,w);var g=Object.prototype.toString.call(E).slice(8,-1);return(g=g==="Object"&&E.constructor?E.constructor.name:g)==="Map"||g==="Set"?Array.from(E):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?Z(E,w):void 0}}function Z(E,w){(w==null||w>E.length)&&(w=E.length);for(var g=0,A=new Array(w);g<w;g++)A[g]=E[g];return A}function z(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function H(E,w){for(var g=0;g<w.length;g++){var A=w[g];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}function Y(E,w,g){return w&&H(E.prototype,w),g&&H(E,g),E}t.SVGGraphics=function(){throw new Error("Not implemented: SVGGraphics")};function I(E){if(Number.isInteger(E))return E.toString();var w=E.toFixed(10),g=w.length-1;if(w[g]!=="0")return w;for(;w[--g]==="0";);return w.substring(0,w[g]==="."?g:g+1)}function B(E){if(E[4]===0&&E[5]===0){if(E[1]===0&&E[2]===0)return E[0]===1&&E[3]===1?"":"scale(".concat(I(E[0])," ").concat(I(E[3]),")");if(E[0]===E[3]&&E[1]===-E[2]){var w=180*Math.acos(E[0])/Math.PI;return"rotate(".concat(I(w),")")}}else if(E[0]===1&&E[1]===0&&E[2]===0&&E[3]===1)return"translate(".concat(I(E[4])," ").concat(I(E[5]),")");return"matrix(".concat(I(E[0])," ").concat(I(E[1])," ").concat(I(E[2])," ").concat(I(E[3])," ").concat(I(E[4])," ")+"".concat(I(E[5]),")")}var U="normal",T="normal",C="#000000",P=["butt","round","square"],G=["miter","round","bevel"],q=function(){for(var E=new Uint8Array([137,80,78,71,13,10,26,10]),w=new Int32Array(256),g=0;g<256;g++){for(var A=g,m=0;m<8;m++)A=1&A?3988292384^A>>1&2147483647:A>>1&2147483647;w[g]=A}function y(X,re,ee,he){var ye=he,Ce=re.length;ee[ye]=Ce>>24&255,ee[ye+1]=Ce>>16&255,ee[ye+2]=Ce>>8&255,ee[ye+3]=255&Ce,ee[ye+=4]=255&X.charCodeAt(0),ee[ye+1]=255&X.charCodeAt(1),ee[ye+2]=255&X.charCodeAt(2),ee[ye+3]=255&X.charCodeAt(3),ee.set(re,ye+=4),re=function(oe,de,fe){for(var te=-1,ue=de;ue<fe;ue++)var pe=255&(te^oe[ue]),te=te>>>8^w[pe];return-1^te}(ee,he+4,ye+=re.length),ee[ye]=re>>24&255,ee[ye+1]=re>>16&255,ee[ye+2]=re>>8&255,ee[ye+3]=255&re}function x(X){var re=X.length,ee=65535,he=Math.ceil(re/ee),ye=new Uint8Array(2+re+5*he+4),Ce=0;ye[Ce++]=120,ye[Ce++]=156;for(var oe=0;ee<re;)ye[Ce++]=0,ye[Ce++]=255,ye[Ce++]=255,ye[Ce++]=0,ye[Ce++]=0,ye.set(X.subarray(oe,oe+ee),Ce),Ce+=ee,oe+=ee,re-=ee;return ye[Ce++]=1,ye[Ce++]=255&re,ye[Ce++]=re>>8&255,ye[Ce++]=255&~re,ye[Ce++]=(65535&~re)>>8&255,ye.set(X.subarray(oe),Ce),Ce+=X.length-oe,he=function(de,fe,ue){for(var pe=1,te=0,ge=fe;ge<ue;++ge)te=(te+(pe=(pe+(255&de[ge]))%65521))%65521;return te<<16|pe}(X,0,X.length),ye[Ce++]=he>>24&255,ye[Ce++]=he>>16&255,ye[Ce++]=he>>8&255,ye[Ce++]=255&he,ye}function M(Fe,Ge,ee,De){var ye,Ce,oe,de=Fe.width,fe=Fe.height,ue=Fe.data;switch(Ge){case a.ImageKind.GRAYSCALE_1BPP:Ce=0,ye=1,oe=de+7>>3;break;case a.ImageKind.RGB_24BPP:Ce=2,ye=8,oe=3*de;break;case a.ImageKind.RGBA_32BPP:Ce=6,ye=8,oe=4*de;break;default:throw new Error("invalid format")}for(var pe=new Uint8Array((1+oe)*fe),te=0,ge=0,xe=0;xe<fe;++xe)pe[te++]=0,pe.set(ue.subarray(ge,ge+oe),te),ge+=oe,te+=oe;if(Ge===a.ImageKind.GRAYSCALE_1BPP&&De)for(var te=0,ce=0;ce<fe;ce++){te++;for(var we=0;we<oe;we++)pe[te++]^=255}var Ae=new Uint8Array([de>>24&255,de>>16&255,de>>8&255,255&de,fe>>24&255,fe>>16&255,fe>>8&255,255&fe,ye,Ce,0,0,0]),Fe=function(ct){if(!u.isNodeJS)return x(ct);try{var ot=8<=parseInt(process.versions.node)?ct:Buffer.from(ct),Qe=__webpack_require__(74).deflateSync(ot,{level:9});return Qe instanceof Uint8Array?Qe:new Uint8Array(Qe)}catch(Ie){(0,a.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Ie)}return x(ct)}(pe),Ge=E.length+36+Ae.length+Fe.length,De=new Uint8Array(Ge),Ge=0;return De.set(E,0),y("IHDR",Ae,De,Ge+=E.length),y("IDATA",Fe,De,Ge+=12+Ae.length),Ge+=12+Fe.length,y("IEND",new Uint8Array(0),De,Ge),(0,a.createObjectURL)(De,"image/png",ee)}return function(X,re,ee){return M(X,X.kind===void 0?a.ImageKind.GRAYSCALE_1BPP:X.kind,re,ee)}}(),N=function(){function E(){z(this,E),this.fontSizeScale=1,this.fontWeight=T,this.fontSize=0,this.textMatrix=a.IDENTITY_MATRIX,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=a.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=C,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return Y(E,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(w,g){this.x=w,this.y=g}}]),E}(),ne=0,K=0,L=0;t.SVGGraphics=function(){function E(w,g){var A,m=2<arguments.length&&arguments[2]!==void 0&&arguments[2];for(A in z(this,E),this.svgFactory=new o.DOMSVGFactory,this.current=new N,this.transformMatrix=a.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=w,this.objs=g,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!m,this._operatorIdMapping=[],a.OPS)this._operatorIdMapping[a.OPS[A]]=A}return Y(E,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var w=this.current;this.extraStack.push(w),this.current=w.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(w){this.save(),this.executeOpTree(w),this.restore()}},{key:"loadDependencies",value:function(w){for(var g=this,A=w.fnArray,m=w.argsArray,y=0,x=A.length;y<x;y++)if(A[y]===a.OPS.dependency){var M,X=k(m[y]);try{for(X.s();!(M=X.n()).done;)(function(){var re=M.value,ee=re.startsWith("g_")?g.commonObjs:g.objs,he=new Promise(function(ye){ee.get(re,ye)});g.current.dependencies.push(he)})()}catch(re){X.e(re)}finally{X.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(w,g,A,m,y,x){this.transformMatrix=a.Util.transform(this.transformMatrix,[w,g,A,m,y,x]),this.tgrp=null}},{key:"getSVG",value:function(w,g){var A=this;this.viewport=g;var m=this._initialize(g);return this.loadDependencies(w).then(function(){return A.transformMatrix=a.IDENTITY_MATRIX,A.executeOpTree(A.convertOpList(w)),m})}},{key:"convertOpList",value:function(w){for(var g=this._operatorIdMapping,A=w.argsArray,m=w.fnArray,y=[],x=0,M=m.length;x<M;x++){var X=m[x];y.push({fnId:X,fn:g[X],args:A[x]})}return function(re){var ee,he=[],ye=[],Ce=k(re);try{for(Ce.s();!(ee=Ce.n()).done;){var oe=ee.value;oe.fn!=="save"?oe.fn==="restore"?he=ye.pop():he.push(oe):(he.push({fnId:92,fn:"group",items:[]}),ye.push(he),he=he[he.length-1].items)}}catch(de){Ce.e(de)}finally{Ce.f()}return he}(y)}},{key:"executeOpTree",value:function(w){var g,A=k(w);try{for(A.s();!(g=A.n()).done;){var m=g.value,y=m.fn,x=m.fnId,M=m.args;switch(0|x){case a.OPS.beginText:this.beginText();break;case a.OPS.dependency:break;case a.OPS.setLeading:this.setLeading(M);break;case a.OPS.setLeadingMoveText:this.setLeadingMoveText(M[0],M[1]);break;case a.OPS.setFont:this.setFont(M);break;case a.OPS.showText:case a.OPS.showSpacedText:this.showText(M[0]);break;case a.OPS.endText:this.endText();break;case a.OPS.moveText:this.moveText(M[0],M[1]);break;case a.OPS.setCharSpacing:this.setCharSpacing(M[0]);break;case a.OPS.setWordSpacing:this.setWordSpacing(M[0]);break;case a.OPS.setHScale:this.setHScale(M[0]);break;case a.OPS.setTextMatrix:this.setTextMatrix(M[0],M[1],M[2],M[3],M[4],M[5]);break;case a.OPS.setTextRise:this.setTextRise(M[0]);break;case a.OPS.setTextRenderingMode:this.setTextRenderingMode(M[0]);break;case a.OPS.setLineWidth:this.setLineWidth(M[0]);break;case a.OPS.setLineJoin:this.setLineJoin(M[0]);break;case a.OPS.setLineCap:this.setLineCap(M[0]);break;case a.OPS.setMiterLimit:this.setMiterLimit(M[0]);break;case a.OPS.setFillRGBColor:this.setFillRGBColor(M[0],M[1],M[2]);break;case a.OPS.setStrokeRGBColor:this.setStrokeRGBColor(M[0],M[1],M[2]);break;case a.OPS.setStrokeColorN:this.setStrokeColorN(M);break;case a.OPS.setFillColorN:this.setFillColorN(M);break;case a.OPS.shadingFill:this.shadingFill(M[0]);break;case a.OPS.setDash:this.setDash(M[0],M[1]);break;case a.OPS.setRenderingIntent:this.setRenderingIntent(M[0]);break;case a.OPS.setFlatness:this.setFlatness(M[0]);break;case a.OPS.setGState:this.setGState(M[0]);break;case a.OPS.fill:this.fill();break;case a.OPS.eoFill:this.eoFill();break;case a.OPS.stroke:this.stroke();break;case a.OPS.fillStroke:this.fillStroke();break;case a.OPS.eoFillStroke:this.eoFillStroke();break;case a.OPS.clip:this.clip("nonzero");break;case a.OPS.eoClip:this.clip("evenodd");break;case a.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case a.OPS.paintImageXObject:this.paintImageXObject(M[0]);break;case a.OPS.paintInlineImageXObject:this.paintInlineImageXObject(M[0]);break;case a.OPS.paintImageMaskXObject:this.paintImageMaskXObject(M[0]);break;case a.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(M[0],M[1]);break;case a.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case a.OPS.closePath:this.closePath();break;case a.OPS.closeStroke:this.closeStroke();break;case a.OPS.closeFillStroke:this.closeFillStroke();break;case a.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case a.OPS.nextLine:this.nextLine();break;case a.OPS.transform:this.transform(M[0],M[1],M[2],M[3],M[4],M[5]);break;case a.OPS.constructPath:this.constructPath(M[0],M[1]);break;case a.OPS.endPath:this.endPath();break;case 92:this.group(m.items);break;default:(0,a.warn)("Unimplemented operator ".concat(y))}}}catch(X){A.e(X)}finally{A.f()}}},{key:"setWordSpacing",value:function(w){this.current.wordSpacing=w}},{key:"setCharSpacing",value:function(w){this.current.charSpacing=w}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(w,g,A,m,y,x){var M=this.current;M.textMatrix=M.lineMatrix=[w,g,A,m,y,x],M.textMatrixScale=Math.sqrt(w*w+g*g),M.x=M.lineX=0,M.y=M.lineY=0,M.xcoords=[],M.ycoords=[],M.tspan=this.svgFactory.createElement("svg:tspan"),M.tspan.setAttributeNS(null,"font-family",M.fontFamily),M.tspan.setAttributeNS(null,"font-size","".concat(I(M.fontSize),"px")),M.tspan.setAttributeNS(null,"y",I(-M.y)),M.txtElement=this.svgFactory.createElement("svg:text"),M.txtElement.appendChild(M.tspan)}},{key:"beginText",value:function(){var w=this.current;w.x=w.lineX=0,w.y=w.lineY=0,w.textMatrix=a.IDENTITY_MATRIX,w.lineMatrix=a.IDENTITY_MATRIX,w.textMatrixScale=1,w.tspan=this.svgFactory.createElement("svg:tspan"),w.txtElement=this.svgFactory.createElement("svg:text"),w.txtgrp=this.svgFactory.createElement("svg:g"),w.xcoords=[],w.ycoords=[]}},{key:"moveText",value:function(w,g){var A=this.current;A.x=A.lineX+=w,A.y=A.lineY+=g,A.xcoords=[],A.ycoords=[],A.tspan=this.svgFactory.createElement("svg:tspan"),A.tspan.setAttributeNS(null,"font-family",A.fontFamily),A.tspan.setAttributeNS(null,"font-size","".concat(I(A.fontSize),"px")),A.tspan.setAttributeNS(null,"y",I(-A.y))}},{key:"showText",value:function(w){var g=this.current,A=g.font,m=g.fontSize;if(m!==0){var y,x=g.fontSizeScale,M=g.charSpacing,X=g.wordSpacing,re=g.fontDirection,ee=g.textHScale*re,he=A.vertical,ye=he?1:-1,Ce=A.defaultVMetrics,oe=m*g.fontMatrix[0],de=0,fe=k(w);try{for(fe.s();!(y=fe.n()).done;){var ue,pe,te,ge,xe,ce,we,Ae,Fe=y.value;Fe!==null?(0,a.isNum)(Fe)?de+=ye*Fe*m/1e3:(ue=(Fe.isSpace?X:0)+M,pe=Fe.fontChar,Ae=we=void 0,ce=Fe.width,Ae=he?(ge=void 0,te=Fe.vmetric||Ce,ge=-(ge=Fe.vmetric?te[1]:.5*ce)*oe,xe=te[2]*oe,ce=te?-te[0]:ce,we=ge/x,(de+xe)/x):(we=de/x,0),(Fe.isInFont||A.missingFile)&&(g.xcoords.push(g.x+we),he&&g.ycoords.push(-g.y+Ae),g.tspan.textContent+=pe),de+=he?ce*oe-ue*re:ce*oe+ue*re):de+=re*X}}catch(Ge){fe.e(Ge)}finally{fe.f()}g.tspan.setAttributeNS(null,"x",g.xcoords.map(I).join(" ")),he?g.tspan.setAttributeNS(null,"y",g.ycoords.map(I).join(" ")):g.tspan.setAttributeNS(null,"y",I(-g.y)),he?g.y-=de:g.x+=de*ee,g.tspan.setAttributeNS(null,"font-family",g.fontFamily),g.tspan.setAttributeNS(null,"font-size","".concat(I(g.fontSize),"px")),g.fontStyle!==U&&g.tspan.setAttributeNS(null,"font-style",g.fontStyle),g.fontWeight!==T&&g.tspan.setAttributeNS(null,"font-weight",g.fontWeight),w=g.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK,w===a.TextRenderingMode.FILL||w===a.TextRenderingMode.FILL_STROKE?(g.fillColor!==C&&g.tspan.setAttributeNS(null,"fill",g.fillColor),g.fillAlpha<1&&g.tspan.setAttributeNS(null,"fill-opacity",g.fillAlpha)):g.textRenderingMode===a.TextRenderingMode.ADD_TO_PATH?g.tspan.setAttributeNS(null,"fill","transparent"):g.tspan.setAttributeNS(null,"fill","none"),w!==a.TextRenderingMode.STROKE&&w!==a.TextRenderingMode.FILL_STROKE||(De=1/(g.textMatrixScale||1),this._setStrokeAttributes(g.tspan,De));var De=g.textMatrix;g.textRise!==0&&((De=De.slice())[5]+=g.textRise),g.txtElement.setAttributeNS(null,"transform","".concat(B(De)," scale(").concat(I(ee),", -1)")),g.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),g.txtElement.appendChild(g.tspan),g.txtgrp.appendChild(g.txtElement),this._ensureTransformGroup().appendChild(g.txtElement)}}},{key:"setLeadingMoveText",value:function(w,g){this.setLeading(-g),this.moveText(w,g)}},{key:"addFontStyle",value:function(w){if(!w.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var g=(0,a.createObjectURL)(w.data,w.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(w.loadedName,'";')+" src: url(".concat(g,`); }
`)}},{key:"setFont",value:function(w){var g=this.current,A=this.commonObjs.get(w[0]),m=w[1];g.font=A,!this.embedFonts||A.missingFile||this.embeddedFonts[A.loadedName]||(this.addFontStyle(A),this.embeddedFonts[A.loadedName]=A),g.fontMatrix=A.fontMatrix||a.FONT_IDENTITY_MATRIX;var y="normal";A.black?y="900":A.bold&&(y="bold"),w=A.italic?"italic":"normal",m<0?(m=-m,g.fontDirection=-1):g.fontDirection=1,g.fontSize=m,g.fontFamily=A.loadedName,g.fontWeight=y,g.fontStyle=w,g.tspan=this.svgFactory.createElement("svg:tspan"),g.tspan.setAttributeNS(null,"y",I(-g.y)),g.xcoords=[],g.ycoords=[]}},{key:"endText",value:function(){var w=this.current;w.textRenderingMode&a.TextRenderingMode.ADD_TO_PATH_FLAG&&w.txtElement&&w.txtElement.hasChildNodes()&&(w.element=w.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(w){0<w&&(this.current.lineWidth=w)}},{key:"setLineCap",value:function(w){this.current.lineCap=P[w]}},{key:"setLineJoin",value:function(w){this.current.lineJoin=G[w]}},{key:"setMiterLimit",value:function(w){this.current.miterLimit=w}},{key:"setStrokeAlpha",value:function(w){this.current.strokeAlpha=w}},{key:"setStrokeRGBColor",value:function(w,g,A){this.current.strokeColor=a.Util.makeCssRgb(w,g,A)}},{key:"setFillAlpha",value:function(w){this.current.fillAlpha=w}},{key:"setFillRGBColor",value:function(w,g,A){this.current.fillColor=a.Util.makeCssRgb(w,g,A),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(w){this.current.strokeColor=this._makeColorN_Pattern(w)}},{key:"setFillColorN",value:function(w){this.current.fillColor=this._makeColorN_Pattern(w)}},{key:"shadingFill",value:function(w){var m=this.viewport.width,y=this.viewport.height,x=a.Util.inverseTransform(this.transformMatrix),g=a.Util.applyTransform([0,0],x),A=a.Util.applyTransform([0,y],x),M=a.Util.applyTransform([m,0],x),X=a.Util.applyTransform([m,y],x),m=Math.min(g[0],A[0],M[0],X[0]),y=Math.min(g[1],A[1],M[1],X[1]),x=Math.max(g[0],A[0],M[0],X[0]),M=Math.max(g[1],A[1],M[1],X[1]),X=this.svgFactory.createElement("svg:rect");X.setAttributeNS(null,"x",m),X.setAttributeNS(null,"y",y),X.setAttributeNS(null,"width",x-m),X.setAttributeNS(null,"height",M-y),X.setAttributeNS(null,"fill",this._makeShadingPattern(w)),this.current.fillAlpha<1&&X.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(X)}},{key:"_makeColorN_Pattern",value:function(w){return w[0]==="TilingPattern"?this._makeTilingPattern(w):this._makeShadingPattern(w)}},{key:"_makeTilingPattern",value:function(re){var g=re[1],A=re[2],m=re[3]||a.IDENTITY_MATRIX,X=n(re[4],4),oe=X[0],ee=X[1],ye=X[2],Ce=X[3],de=re[5],y=re[6],x=re[7],M="shading".concat(L++),he=n(a.Util.applyTransform([oe,ee],m),2),X=he[0],re=he[1],oe=n(a.Util.applyTransform([ye,Ce],m),2),ee=oe[0],he=oe[1],ye=n(a.Util.singularValueDecompose2dScale(m),2),Ce=de*ye[0],oe=y*ye[1],de=this.svgFactory.createElement("svg:pattern");return de.setAttributeNS(null,"id",M),de.setAttributeNS(null,"patternUnits","userSpaceOnUse"),de.setAttributeNS(null,"width",Ce),de.setAttributeNS(null,"height",oe),de.setAttributeNS(null,"x","".concat(X)),de.setAttributeNS(null,"y","".concat(re)),y=this.svg,ye=this.transformMatrix,Ce=this.current.fillColor,oe=this.current.strokeColor,re=this.svgFactory.create(ee-X,he-re),this.svg=re,this.transformMatrix=m,x===2&&(g=a.Util.makeCssRgb.apply(a.Util,d(g)),this.current.fillColor=g,this.current.strokeColor=g),this.executeOpTree(this.convertOpList(A)),this.svg=y,this.transformMatrix=ye,this.current.fillColor=Ce,this.current.strokeColor=oe,de.appendChild(re.childNodes[0]),this.defs.appendChild(de),"url(#".concat(M,")")}},{key:"_makeShadingPattern",value:function(w){switch(w[0]){case"RadialAxial":var g="shading".concat(L++),A=w[3];switch(w[1]){case"axial":var m,M=w[4],X=w[5];(m=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",g),m.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),m.setAttributeNS(null,"x1",M[0]),m.setAttributeNS(null,"y1",M[1]),m.setAttributeNS(null,"x2",X[0]),m.setAttributeNS(null,"y2",X[1]);break;case"radial":var y=w[4],x=w[5],M=w[6],X=w[7];(m=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",g),m.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),m.setAttributeNS(null,"cx",x[0]),m.setAttributeNS(null,"cy",x[1]),m.setAttributeNS(null,"r",X),m.setAttributeNS(null,"fx",y[0]),m.setAttributeNS(null,"fy",y[1]),m.setAttributeNS(null,"fr",M);break;default:throw new Error("Unknown RadialAxial type: ".concat(w[1]))}var re,ee=k(A);try{for(ee.s();!(re=ee.n()).done;){var he=re.value,ye=this.svgFactory.createElement("svg:stop");ye.setAttributeNS(null,"offset",he[0]),ye.setAttributeNS(null,"stop-color",he[1]),m.appendChild(ye)}}catch(Ce){ee.e(Ce)}finally{ee.f()}return this.defs.appendChild(m),"url(#".concat(g,")");case"Mesh":return(0,a.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(w[0]))}}},{key:"setDash",value:function(w,g){this.current.dashArray=w,this.current.dashPhase=g}},{key:"constructPath",value:function(w,g){var A,m=this.current,y=m.x,x=m.y,M=[],X=0,re=k(w);try{for(re.s();!(A=re.n()).done;)switch(0|A.value){case a.OPS.rectangle:var y=g[X++],x=g[X++],ee=g[X++],he=g[X++],ye=y+ee,Ce=x+he;M.push("M",I(y),I(x),"L",I(ye),I(x),"L",I(ye),I(Ce),"L",I(y),I(Ce),"Z");break;case a.OPS.moveTo:y=g[X++],x=g[X++],M.push("M",I(y),I(x));break;case a.OPS.lineTo:y=g[X++],x=g[X++],M.push("L",I(y),I(x));break;case a.OPS.curveTo:y=g[X+4],x=g[X+5],M.push("C",I(g[X]),I(g[X+1]),I(g[X+2]),I(g[X+3]),I(y),I(x)),X+=6;break;case a.OPS.curveTo2:M.push("C",I(y),I(x),I(g[X]),I(g[X+1]),I(g[X+2]),I(g[X+3])),y=g[X+2],x=g[X+3],X+=4;break;case a.OPS.curveTo3:y=g[X+2],x=g[X+3],M.push("C",I(g[X]),I(g[X+1]),I(y),I(x),I(y),I(x)),X+=4;break;case a.OPS.closePath:M.push("Z")}}catch(oe){re.e(oe)}finally{re.f()}M=M.join(" "),m.path&&0<w.length&&w[0]!==a.OPS.rectangle&&w[0]!==a.OPS.moveTo?M=m.path.getAttributeNS(null,"d")+M:(m.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(m.path)),m.path.setAttributeNS(null,"d",M),m.path.setAttributeNS(null,"fill","none"),m.element=m.path,m.setCurrentPoint(y,x)}},{key:"endPath",value:function(){var w,g,A,m=this.current;m.path=null,this.pendingClip&&(m.element?(w="clippath".concat(ne++),(g=this.svgFactory.createElement("svg:clipPath")).setAttributeNS(null,"id",w),g.setAttributeNS(null,"transform",B(this.transformMatrix)),A=m.element.cloneNode(!0),this.pendingClip==="evenodd"?A.setAttributeNS(null,"clip-rule","evenodd"):A.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,g.appendChild(A),this.defs.appendChild(g),m.activeClipUrl&&(m.clipGroup=null,this.extraStack.forEach(function(y){y.clipGroup=null}),g.setAttributeNS(null,"clip-path",m.activeClipUrl)),m.activeClipUrl="url(#".concat(w,")"),this.tgrp=null):this.pendingClip=null)}},{key:"clip",value:function(w){this.pendingClip=w}},{key:"closePath",value:function(){var w,g=this.current;g.path&&(w="".concat(g.path.getAttributeNS(null,"d"),"Z"),g.path.setAttributeNS(null,"d",w))}},{key:"setLeading",value:function(w){this.current.leading=-w}},{key:"setTextRise",value:function(w){this.current.textRise=w}},{key:"setTextRenderingMode",value:function(w){this.current.textRenderingMode=w}},{key:"setHScale",value:function(w){this.current.textHScale=w/100}},{key:"setRenderingIntent",value:function(w){}},{key:"setFlatness",value:function(w){}},{key:"setGState",value:function(w){var g,A=k(w);try{for(A.s();!(g=A.n()).done;){var m=n(g.value,2),y=m[0],x=m[1];switch(y){case"LW":this.setLineWidth(x);break;case"LC":this.setLineCap(x);break;case"LJ":this.setLineJoin(x);break;case"ML":this.setMiterLimit(x);break;case"D":this.setDash(x[0],x[1]);break;case"RI":this.setRenderingIntent(x);break;case"FL":this.setFlatness(x);break;case"Font":this.setFont(x);break;case"CA":this.setStrokeAlpha(x);break;case"ca":this.setFillAlpha(x);break;default:(0,a.warn)("Unimplemented graphic state operator ".concat(y))}}}catch(M){A.e(M)}finally{A.f()}}},{key:"fill",value:function(){var w=this.current;w.element&&(w.element.setAttributeNS(null,"fill",w.fillColor),w.element.setAttributeNS(null,"fill-opacity",w.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var w=this.current;w.element&&(this._setStrokeAttributes(w.element),w.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(w){var g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,A=this.current,m=A.dashArray;g!==1&&0<m.length&&(m=m.map(function(y){return g*y})),w.setAttributeNS(null,"stroke",A.strokeColor),w.setAttributeNS(null,"stroke-opacity",A.strokeAlpha),w.setAttributeNS(null,"stroke-miterlimit",I(A.miterLimit)),w.setAttributeNS(null,"stroke-linecap",A.lineCap),w.setAttributeNS(null,"stroke-linejoin",A.lineJoin),w.setAttributeNS(null,"stroke-width",I(g*A.lineWidth)+"px"),w.setAttributeNS(null,"stroke-dasharray",m.map(I).join(" ")),w.setAttributeNS(null,"stroke-dashoffset",I(g*A.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var w=this.svgFactory.createElement("svg:rect");w.setAttributeNS(null,"x","0"),w.setAttributeNS(null,"y","0"),w.setAttributeNS(null,"width","1px"),w.setAttributeNS(null,"height","1px"),w.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(w)}},{key:"paintImageXObject",value:function(w){var g=this.objs.get(w);g?this.paintInlineImageXObject(g):(0,a.warn)("Dependent image with object ID ".concat(w," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(x,g){var A=x.width,m=x.height,y=q(x,this.forceDataSchema,!!g),x=this.svgFactory.createElement("svg:rect");x.setAttributeNS(null,"x","0"),x.setAttributeNS(null,"y","0"),x.setAttributeNS(null,"width",I(A)),x.setAttributeNS(null,"height",I(m)),this.current.element=x,this.clip("nonzero"),x=this.svgFactory.createElement("svg:image"),x.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",y),x.setAttributeNS(null,"x","0"),x.setAttributeNS(null,"y",I(-m)),x.setAttributeNS(null,"width",I(A)+"px"),x.setAttributeNS(null,"height",I(m)+"px"),x.setAttributeNS(null,"transform","scale(".concat(I(1/A)," ").concat(I(-1/m),")")),(g||this._ensureTransformGroup()).appendChild(x)}},{key:"paintImageMaskXObject",value:function(w){var g=this.current,A=w.width,m=w.height,y=g.fillColor;g.maskId="mask".concat(K++);var x=this.svgFactory.createElement("svg:mask");x.setAttributeNS(null,"id",g.maskId);var M=this.svgFactory.createElement("svg:rect");M.setAttributeNS(null,"x","0"),M.setAttributeNS(null,"y","0"),M.setAttributeNS(null,"width",I(A)),M.setAttributeNS(null,"height",I(m)),M.setAttributeNS(null,"fill",y),M.setAttributeNS(null,"mask","url(#".concat(g.maskId,")")),this.defs.appendChild(x),this._ensureTransformGroup().appendChild(M),this.paintInlineImageXObject(w,x)}},{key:"paintFormXObjectBegin",value:function(w,g){var A,m;Array.isArray(w)&&w.length===6&&this.transform(w[0],w[1],w[2],w[3],w[4],w[5]),g&&(A=g[2]-g[0],m=g[3]-g[1],(w=this.svgFactory.createElement("svg:rect")).setAttributeNS(null,"x",g[0]),w.setAttributeNS(null,"y",g[1]),w.setAttributeNS(null,"width",I(A)),w.setAttributeNS(null,"height",I(m)),this.current.element=w,this.clip("nonzero"),this.endPath())}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(w){var g=this.svgFactory.create(w.width,w.height),A=this.svgFactory.createElement("svg:defs");return g.appendChild(A),this.defs=A,A=this.svgFactory.createElement("svg:g"),A.setAttributeNS(null,"transform",B(w.transform)),g.appendChild(A),this.svg=A,g}},{key:"_ensureClipGroup",value:function(){var w;return this.current.clipGroup||((w=this.svgFactory.createElement("svg:g")).setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(w),this.current.clipGroup=w),this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",B(this.transformMatrix)),(this.current.activeClipUrl?this._ensureClipGroup():this.svg).appendChild(this.tgrp)),this.tgrp}}]),E}()},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var a,o=(a=i(2))&&a.__esModule?a:{default:a},u=i(5),d=i(213);function n(A){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(A)}function k(A,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(m&&m.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),m&&j(A,m)}function j(A,m){return(j=Object.setPrototypeOf||function(y,x){return y.__proto__=x,y})(A,m)}function Z(A){var m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var y,x=z(A);return y=m?(y=z(this).constructor,Reflect.construct(x,arguments,y)):x.apply(this,arguments),x=this,!(y=y)||n(y)!=="object"&&typeof y!="function"?function(M){if(M!==void 0)return M;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(x):y}}function z(A){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(A)}function H(A,m,y,x,M,X,re){try{var ee=A[X](re),he=ee.value}catch(ye){return void y(ye)}ee.done?m(he):Promise.resolve(he).then(x,M)}function Y(A){return function(){var m=this,y=arguments;return new Promise(function(x,M){var X=A.apply(m,y);function re(he){H(X,x,M,re,ee,"next",he)}function ee(he){H(X,x,M,re,ee,"throw",he)}re(void 0)})}}function I(A,m){if(!(A instanceof m))throw new TypeError("Cannot call a class as a function")}function B(A,m){for(var y=0;y<m.length;y++){var x=m[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}function U(A,m,y){return m&&B(A.prototype,m),y&&B(A,y),A}var T=__webpack_require__(599),C=__webpack_require__(358),P=__webpack_require__(822),G=__webpack_require__(127),q=/^file:\/\/\/[a-zA-Z]:\//;t.PDFNodeStream=function(){function A(m){var y,x;I(this,A),this.source=m,this.url=(y=m.url,(x=G.parse(y)).protocol==="file:"||x.host?x:/^[a-z]:[/\\]/i.test(y)?G.parse("file:///".concat(y)):(x.host||(x.protocol="file:"),x)),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&m.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return U(A,[{key:"getFullReader",value:function(){return(0,u.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new(this.isFsUrl?w:L)(this),this._fullRequestReader}},{key:"getRangeReader",value:function(m,y){return y<=this._progressiveDataLength?null:(y=new(this.isFsUrl?g:E)(this,m,y),this._rangeRequestReaders.push(y),y)}},{key:"cancelAllRequests",value:function(m){this._fullRequestReader&&this._fullRequestReader.cancel(m),this._rangeRequestReaders.slice(0).forEach(function(y){y.cancel(m)})}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),A}();var N=function(){function A(y){I(this,A),this._url=y.url,this._done=!1,this._storedError=null,this.onProgress=null,y=y.source,this._contentLength=y.length,this._loaded=0,this._filename=null,this._disableRange=y.disableRange||!1,this._rangeChunkSize=y.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!y.disableStream,this._isRangeSupported=!y.disableRange,this._readableStream=null,this._readCapability=(0,u.createPromiseCapability)(),this._headersCapability=(0,u.createPromiseCapability)()}var m;return U(A,[{key:"read",value:(m=Y(o.default.mark(function y(){var x,M;return o.default.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,this._readCapability.promise;case 2:if(this._done)return X.abrupt("return",{value:void 0,done:!0});X.next=4;break;case 4:if(this._storedError)throw this._storedError;X.next=6;break;case 6:if((x=this._readableStream.read())===null)return this._readCapability=(0,u.createPromiseCapability)(),X.abrupt("return",this.read());X.next=10;break;case 10:return this._loaded+=x.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),M=new Uint8Array(x).buffer,X.abrupt("return",{value:M,done:!1});case 14:case"end":return X.stop()}},y,this)})),function(){return m.apply(this,arguments)})},{key:"cancel",value:function(y){this._readableStream?this._readableStream.destroy(y):this._error(y)}},{key:"_error",value:function(y){this._storedError=y,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(y){var x=this;(this._readableStream=y).on("readable",function(){x._readCapability.resolve()}),y.on("end",function(){y.destroy(),x._done=!0,x._readCapability.resolve()}),y.on("error",function(M){x._error(M)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new u.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),A}(),ne=function(){function A(y){I(this,A),this._url=y.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,u.createPromiseCapability)(),y=y.source,this._isStreamingSupported=!y.disableStream}var m;return U(A,[{key:"read",value:(m=Y(o.default.mark(function y(){var x,M;return o.default.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,this._readCapability.promise;case 2:if(this._done)return X.abrupt("return",{value:void 0,done:!0});X.next=4;break;case 4:if(this._storedError)throw this._storedError;X.next=6;break;case 6:if((x=this._readableStream.read())===null)return this._readCapability=(0,u.createPromiseCapability)(),X.abrupt("return",this.read());X.next=10;break;case 10:return this._loaded+=x.length,this.onProgress&&this.onProgress({loaded:this._loaded}),M=new Uint8Array(x).buffer,X.abrupt("return",{value:M,done:!1});case 14:case"end":return X.stop()}},y,this)})),function(){return m.apply(this,arguments)})},{key:"cancel",value:function(y){this._readableStream?this._readableStream.destroy(y):this._error(y)}},{key:"_error",value:function(y){this._storedError=y,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(y){var x=this;(this._readableStream=y).on("readable",function(){x._readCapability.resolve()}),y.on("end",function(){y.destroy(),x._done=!0,x._readCapability.resolve()}),y.on("error",function(M){x._error(M)}),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),A}();function K(A,m){return{protocol:A.protocol,auth:A.auth,host:A.hostname,port:A.port,path:A.path,method:"GET",headers:m}}var L=function(){k(m,N);var A=Z(m);function m(y){I(this,m);function x(X){if(X.statusCode===404){var re=new u.MissingPDFException('Missing PDF "'.concat(M._url,'".'));return M._storedError=re,void M._headersCapability.reject(re)}function ee(he){return M._readableStream.headers[he.toLowerCase()]}M._headersCapability.resolve(),M._setReadableStream(X),re=(0,d.validateRangeRequestCapabilities)({getResponseHeader:ee,isHttp:y.isHttp,rangeChunkSize:M._rangeChunkSize,disableRange:M._disableRange}),X=re.allowRangeRequests,re=re.suggestedLength,M._isRangeSupported=X,M._contentLength=re||M._contentLength,M._filename=(0,d.extractFilenameFromHeader)(ee)}var M;return(M=A.call(this,y))._request=null,M._url.protocol==="http:"?M._request=C.request(K(M._url,y.httpHeaders),x):M._request=P.request(K(M._url,y.httpHeaders),x),M._request.on("error",function(X){M._storedError=X,M._headersCapability.reject(X)}),M._request.end(),M}return m}(),E=function(){k(m,ne);var A=Z(m);function m(y,x,M){var X,re;for(re in I(this,m),(X=A.call(this,y))._httpHeaders={},y.httpHeaders){var ee=y.httpHeaders[re];ee!==void 0&&(X._httpHeaders[re]=ee)}return X._httpHeaders.Range="bytes=".concat(x,"-").concat(M-1),M=function(he){he.statusCode!==404?X._setReadableStream(he):(he=new u.MissingPDFException('Missing PDF "'.concat(X._url,'".')),X._storedError=he)},X._request=null,X._url.protocol==="http:"?X._request=C.request(K(X._url,X._httpHeaders),M):X._request=P.request(K(X._url,X._httpHeaders),M),X._request.on("error",function(he){X._storedError=he}),X._request.end(),X}return m}(),w=function(){k(m,N);var A=Z(m);function m(y){I(this,m);var x=A.call(this,y),M=decodeURIComponent(x._url.path);return q.test(x._url.href)&&(M=M.replace(/^\//,"")),T.lstat(M,function(X,re){return X?(X.code==="ENOENT"&&(X=new u.MissingPDFException('Missing PDF "'.concat(M,'".'))),x._storedError=X,void x._headersCapability.reject(X)):(x._contentLength=re.size,x._setReadableStream(T.createReadStream(M)),void x._headersCapability.resolve())}),x}return m}(),g=function(){k(m,ne);var A=Z(m);function m(re,x,M){I(this,m);var X=A.call(this,re),re=decodeURIComponent(X._url.path);return q.test(X._url.href)&&(re=re.replace(/^\//,"")),X._setReadableStream(T.createReadStream(re,{start:x,end:M-1})),X}return m}()},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(u,d){return u===404||u===0&&d.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+d+'".'):new a.UnexpectedResponseException("Unexpected server response ("+u+') while retrieving PDF "'+d+'".',u)},t.extractFilenameFromHeader=function(u){if(u=u("Content-Disposition"),u){if(u=(0,o.getFilenameFromContentDispositionHeader)(u),u.includes("%"))try{u=decodeURIComponent(u)}catch{}if(/\.pdf$/i.test(u))return u}return null},t.validateRangeRequestCapabilities=function(z){var d=z.getResponseHeader,n=z.isHttp,k=z.rangeChunkSize,j=z.disableRange;(0,a.assert)(0<k,"Range chunk size must be larger than zero");var Z={allowRangeRequests:!1,suggestedLength:void 0},z=parseInt(d("Content-Length"),10);return!Number.isInteger(z)||(Z.suggestedLength=z)<=2*k||!j&&n&&d("Accept-Ranges")==="bytes"&&(d("Content-Encoding")||"identity")==="identity"&&(Z.allowRangeRequests=!0),Z},t.validateResponseStatus=function(u){return u===200||u===206};var a=i(5),o=i(214)},function(e,t,i){function a(u,d){return function(n){if(Array.isArray(n))return n}(u)||function(n,k){if(typeof Symbol<"u"&&Symbol.iterator in Object(n)){var j=[],Z=!0,z=!1,H=void 0;try{for(var Y,I=n[Symbol.iterator]();!(Z=(Y=I.next()).done)&&(j.push(Y.value),!k||j.length!==k);Z=!0);}catch(B){z=!0,H=B}finally{try{Z||I.return==null||I.return()}finally{if(z)throw H}}return j}}(u,d)||function(n,k){if(n){if(typeof n=="string")return o(n,k);var j=Object.prototype.toString.call(n).slice(8,-1);return(j=j==="Object"&&n.constructor?n.constructor.name:j)==="Map"||j==="Set"?Array.from(n):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?o(n,k):void 0}}(u,d)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function o(u,d){(d==null||d>u.length)&&(d=u.length);for(var n=0,k=new Array(d);n<d;n++)k[n]=u[n];return k}Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(u){var d=!0,n=j("filename\\*","i").exec(u);if(n){var k=H(n=n[1]);return z(k=I(k=Y(k=unescape(k))))}if(n=function(B){for(var U=[],T=j("filename\\*((?!0\\d)\\d+)(\\*?)","ig");(P=T.exec(B))!==null;){var G=a(P,4),C=G[1],P=G[2],G=G[3];if((C=parseInt(C,10))in U){if(C===0)break}else U[C]=[P,G]}for(var q=[],N=0;N<U.length&&N in U;++N){var K=a(U[N],2),ne=K[0],K=K[1];K=H(K),ne&&(K=unescape(K),N===0&&(K=Y(K))),q.push(K)}return q.join("")}(u))return z(I(n));if(n=j("filename","i").exec(u))return n=n[1],z(I(H(n)));function j(B,U){return new RegExp("(?:^|;)\\s*"+B+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',U)}function Z(B,U){if(B){if(!/^[\x00-\xFF]+$/.test(U))return U;try{var T=new TextDecoder(B,{fatal:!0}),C=Array.from(U,function(P){return 255&P.charCodeAt(0)});U=T.decode(new Uint8Array(C)),d=!1}catch{if(/^utf-?8$/i.test(B))try{U=decodeURIComponent(escape(U)),d=!1}catch{}}}return U}function z(B){return d&&/[\x80-\xff]/.test(B)&&(B=Z("utf-8",B),d&&(B=Z("iso-8859-1",B))),B}function H(B){if(B.startsWith('"')){for(var U=B.slice(1).split('\\"'),T=0;T<U.length;++T){var C=U[T].indexOf('"');C!==-1&&(U[T]=U[T].slice(0,C),U.length=T+1),U[T]=U[T].replace(/\\(.)/g,"$1")}B=U.join('"')}return B}function Y(B){var U=B.indexOf("'");return U===-1?B:Z(B.slice(0,U),B.slice(U+1).replace(/^[^']*'/,""))}function I(B){return!B.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(B)?B:B.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(U,T,C,P){if(C==="q"||C==="Q")return Z(T,P=(P=P.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(G,q){return String.fromCharCode(parseInt(q,16))}));try{P=atob(P)}catch{}return Z(T,P)})}return""}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var a,o=(a=i(2))&&a.__esModule?a:{default:a},u=i(5),d=i(213);function n(U,T,C,P,G,q,N){try{var ne=U[q](N),K=ne.value}catch(L){return void C(L)}ne.done?T(K):Promise.resolve(K).then(P,G)}function k(U){return function(){var T=this,C=arguments;return new Promise(function(P,G){var q=U.apply(T,C);function N(K){n(q,P,G,N,ne,"next",K)}function ne(K){n(q,P,G,N,ne,"throw",K)}N(void 0)})}}function j(U,T){if(!(U instanceof T))throw new TypeError("Cannot call a class as a function")}function Z(U,T){for(var C=0;C<T.length;C++){var P=T[C];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(U,P.key,P)}}function z(U,T,C){return T&&Z(U.prototype,T),C&&Z(U,C),U}var H=function(){function U(T,C){j(this,U),this.url=T,C=C||{},this.isHttp=/^https?:/i.test(T),this.httpHeaders=this.isHttp&&C.httpHeaders||{},this.withCredentials=C.withCredentials||!1,this.getXhr=C.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return z(U,[{key:"requestRange",value:function(T,C,P){var G,q={begin:T,end:C};for(G in P)q[G]=P[G];return this.request(q)}},{key:"requestFull",value:function(T){return this.request(T)}},{key:"request",value:function(T){var C,P=this.getXhr(),G=this.currXhrId++,q=this.pendingRequests[G]={xhr:P};for(C in P.open("GET",this.url),P.withCredentials=this.withCredentials,this.httpHeaders){var N=this.httpHeaders[C];N!==void 0&&P.setRequestHeader(C,N)}return this.isHttp&&"begin"in T&&"end"in T?(P.setRequestHeader("Range","bytes=".concat(T.begin,"-").concat(T.end-1)),q.expectedStatus=206):q.expectedStatus=200,P.responseType="arraybuffer",T.onError&&(P.onerror=function(ne){T.onError(P.status)}),P.onreadystatechange=this.onStateChange.bind(this,G),P.onprogress=this.onProgress.bind(this,G),q.onHeadersReceived=T.onHeadersReceived,q.onDone=T.onDone,q.onError=T.onError,q.onProgress=T.onProgress,P.send(null),G}},{key:"onProgress",value:function(T,C){T=this.pendingRequests[T],T&&T.onProgress&&T.onProgress(C)}},{key:"onStateChange",value:function(T,C){var P,G,q=this.pendingRequests[T];q&&(2<=(P=q.xhr).readyState&&q.onHeadersReceived&&(q.onHeadersReceived(),delete q.onHeadersReceived),P.readyState===4&&T in this.pendingRequests&&(delete this.pendingRequests[T],(P.status!==0||!this.isHttp)&&((G=P.status||200)===200&&q.expectedStatus===206||G===q.expectedStatus)?(T=typeof(T=(T=P).response)!="string"?T:(0,u.stringToBytes)(T).buffer,G===206?(G=P.getResponseHeader("Content-Range"),G=/bytes (\d+)-(\d+)\/(\d+)/.exec(G),q.onDone({begin:parseInt(G[1],10),chunk:T})):T?q.onDone({begin:0,chunk:T}):q.onError&&q.onError(P.status)):q.onError&&q.onError(P.status)))}},{key:"hasPendingRequests",value:function(){for(var T in this.pendingRequests)return!0;return!1}},{key:"getRequestXhr",value:function(T){return this.pendingRequests[T].xhr}},{key:"isPendingRequest",value:function(T){return T in this.pendingRequests}},{key:"abortAllRequests",value:function(){for(var T in this.pendingRequests)this.abortRequest(0|T)}},{key:"abortRequest",value:function(T){var C=this.pendingRequests[T].xhr;delete this.pendingRequests[T],C.abort()}}]),U}(),Y=function(){function U(T){j(this,U),this._source=T,this._manager=new H(T.url,{httpHeaders:T.httpHeaders,withCredentials:T.withCredentials}),this._rangeChunkSize=T.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return z(U,[{key:"_onRangeRequestReaderClosed",value:function(T){T=this._rangeRequestReaders.indexOf(T),0<=T&&this._rangeRequestReaders.splice(T,1)}},{key:"getFullReader",value:function(){return(0,u.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new I(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(T,C){return C=new B(this._manager,T,C),C.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(C),C}},{key:"cancelAllRequests",value:function(T){this._fullRequestReader&&this._fullRequestReader.cancel(T),this._rangeRequestReaders.slice(0).forEach(function(C){C.cancel(T)})}}]),U}();t.PDFNetworkStream=Y;var I=function(){function U(C,P){j(this,U),this._manager=C;var G={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=P.url,this._fullRequestId=C.requestFull(G),this._headersReceivedCapability=(0,u.createPromiseCapability)(),this._disableRange=P.disableRange||!1,this._contentLength=P.length,this._rangeChunkSize=P.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}var T;return z(U,[{key:"_onHeadersReceived",value:function(){function C(ne){return G.getResponseHeader(ne)}var P=this._fullRequestId,G=this._manager.getRequestXhr(P),N=(0,d.validateRangeRequestCapabilities)({getResponseHeader:C,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),q=N.allowRangeRequests,N=N.suggestedLength;q&&(this._isRangeSupported=!0),this._contentLength=N||this._contentLength,this._filename=(0,d.extractFilenameFromHeader)(C),this._isRangeSupported&&this._manager.abortRequest(P),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(C){C&&(0<this._requests.length?this._requests.shift().resolve({value:C.chunk,done:!1}):this._cachedChunks.push(C.chunk)),this._done=!0,0<this._cachedChunks.length||(this._requests.forEach(function(P){P.resolve({value:void 0,done:!0})}),this._requests=[])}},{key:"_onError",value:function(C){var P=this._url,G=(0,d.createResponseStatusError)(C,P);this._storedError=G,this._headersReceivedCapability.reject(G),this._requests.forEach(function(q){q.reject(G)}),this._requests=[],this._cachedChunks=[]}},{key:"_onProgress",value:function(C){this.onProgress&&this.onProgress({loaded:C.loaded,total:C.lengthComputable?C.total:this._contentLength})}},{key:"read",value:(T=k(o.default.mark(function C(){var P;return o.default.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(this._storedError)throw this._storedError;G.next=2;break;case 2:if(0<this._cachedChunks.length)return P=this._cachedChunks.shift(),G.abrupt("return",{value:P,done:!1});G.next=5;break;case 5:if(this._done)return G.abrupt("return",{value:void 0,done:!0});G.next=7;break;case 7:return P=(0,u.createPromiseCapability)(),this._requests.push(P),G.abrupt("return",P.promise);case 10:case"end":return G.stop()}},C,this)})),function(){return T.apply(this,arguments)})},{key:"cancel",value:function(C){this._done=!0,this._headersReceivedCapability.reject(C),this._requests.forEach(function(P){P.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}}]),U}(),B=function(){function U(C,P,G){j(this,U),this._manager=C;var q={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=C.requestRange(P,G,q),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}var T;return z(U,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(C){C=C.chunk,0<this._requests.length?this._requests.shift().resolve({value:C,done:!1}):this._queuedChunk=C,this._done=!0,this._requests.forEach(function(P){P.resolve({value:void 0,done:!0})}),this._requests=[],this._close()}},{key:"_onProgress",value:function(C){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:C.loaded})}},{key:"read",value:(T=k(o.default.mark(function C(){var P;return o.default.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(this._queuedChunk!==null)return P=this._queuedChunk,this._queuedChunk=null,G.abrupt("return",{value:P,done:!1});G.next=4;break;case 4:if(this._done)return G.abrupt("return",{value:void 0,done:!0});G.next=6;break;case 6:return P=(0,u.createPromiseCapability)(),this._requests.push(P),G.abrupt("return",P.promise);case 9:case"end":return G.stop()}},C,this)})),function(){return T.apply(this,arguments)})},{key:"cancel",value:function(C){this._done=!0,this._requests.forEach(function(P){P.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},{key:"isStreamingSupported",get:function(){return!1}}]),U}()},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var a,o=(a=i(2))&&a.__esModule?a:{default:a},u=i(5),d=i(213);function n(U,T,C,P,G,q,N){try{var ne=U[q](N),K=ne.value}catch(L){return void C(L)}ne.done?T(K):Promise.resolve(K).then(P,G)}function k(U){return function(){var T=this,C=arguments;return new Promise(function(P,G){var q=U.apply(T,C);function N(K){n(q,P,G,N,ne,"next",K)}function ne(K){n(q,P,G,N,ne,"throw",K)}N(void 0)})}}function j(U,T){if(!(U instanceof T))throw new TypeError("Cannot call a class as a function")}function Z(U,T){for(var C=0;C<T.length;C++){var P=T[C];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(U,P.key,P)}}function z(U,T,C){return T&&Z(U.prototype,T),C&&Z(U,C),U}function H(U,T,C){return{method:"GET",headers:U,signal:C&&C.signal,mode:"cors",credentials:T?"include":"same-origin",redirect:"follow"}}function Y(U){var T,C=new Headers;for(T in U){var P=U[T];P!==void 0&&C.append(T,P)}return C}t.PDFFetchStream=function(){function U(T){j(this,U),this.source=T,this.isHttp=/^https?:/i.test(T.url),this.httpHeaders=this.isHttp&&T.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return z(U,[{key:"getFullReader",value:function(){return(0,u.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new I(this),this._fullRequestReader}},{key:"getRangeReader",value:function(T,C){return C<=this._progressiveDataLength?null:(C=new B(this,T,C),this._rangeRequestReaders.push(C),C)}},{key:"cancelAllRequests",value:function(T){this._fullRequestReader&&this._fullRequestReader.cancel(T),this._rangeRequestReaders.slice(0).forEach(function(C){C.cancel(T)})}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),U}();var I=function(){function U(C){var P=this;j(this,U),this._stream=C,this._reader=null,this._loaded=0,this._filename=null,C=C.source,this._withCredentials=C.withCredentials||!1,this._contentLength=C.length,this._headersCapability=(0,u.createPromiseCapability)(),this._disableRange=C.disableRange||!1,this._rangeChunkSize=C.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!C.disableStream,this._isRangeSupported=!C.disableRange,this._headers=Y(this._stream.httpHeaders);var G=C.url;fetch(G,H(this._headers,this._withCredentials,this._abortController)).then(function(q){if(!(0,d.validateResponseStatus)(q.status))throw(0,d.createResponseStatusError)(q.status,G);P._reader=q.body.getReader(),P._headersCapability.resolve();function N(L){return q.headers.get(L)}var K=(0,d.validateRangeRequestCapabilities)({getResponseHeader:N,isHttp:P._stream.isHttp,rangeChunkSize:P._rangeChunkSize,disableRange:P._disableRange}),ne=K.allowRangeRequests,K=K.suggestedLength;P._isRangeSupported=ne,P._contentLength=K||P._contentLength,P._filename=(0,d.extractFilenameFromHeader)(N),!P._isStreamingSupported&&P._isRangeSupported&&P.cancel(new u.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}var T;return z(U,[{key:"read",value:(T=k(o.default.mark(function C(){var P,G;return o.default.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,this._headersCapability.promise;case 2:return q.next=4,this._reader.read();case 4:if(G=q.sent,P=G.value,G=G.done)return q.abrupt("return",{value:P,done:G});q.next=9;break;case 9:return this._loaded+=P.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),G=new Uint8Array(P).buffer,q.abrupt("return",{value:G,done:!1});case 13:case"end":return q.stop()}},C,this)})),function(){return T.apply(this,arguments)})},{key:"cancel",value:function(C){this._reader&&this._reader.cancel(C),this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),U}(),B=function(){function U(C,P,G){var q=this;j(this,U),this._stream=C,this._reader=null,this._loaded=0,C=C.source,this._withCredentials=C.withCredentials||!1,this._readCapability=(0,u.createPromiseCapability)(),this._isStreamingSupported=!C.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=Y(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(P,"-").concat(G-1));var N=C.url;fetch(N,H(this._headers,this._withCredentials,this._abortController)).then(function(ne){if(!(0,d.validateResponseStatus)(ne.status))throw(0,d.createResponseStatusError)(ne.status,N);q._readCapability.resolve(),q._reader=ne.body.getReader()}),this.onProgress=null}var T;return z(U,[{key:"read",value:(T=k(o.default.mark(function C(){var P,G;return o.default.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,this._readCapability.promise;case 2:return q.next=4,this._reader.read();case 4:if(G=q.sent,P=G.value,G=G.done)return q.abrupt("return",{value:P,done:G});q.next=9;break;case 9:return this._loaded+=P.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),G=new Uint8Array(P).buffer,q.abrupt("return",{value:G,done:!1});case 13:case"end":return q.stop()}},C,this)})),function(){return T.apply(this,arguments)})},{key:"cancel",value:function(C){this._reader&&this._reader.cancel(C),this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),U}()}],Ya={},Za.m=Xa,Za.c=Ya,Za.d=function(e,t,i){Za.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},Za.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},Za.t=function(e,t){if(1&t&&(e=Za(e)),8&t||4&t&&typeof e=="object"&&e&&e.__esModule)return e;var i=Object.create(null);if(Za.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&typeof e!="string")for(var a in e)Za.d(i,a,(function(o){return e[o]}).bind(null,a));return i},Za.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return Za.d(t,"a",t),t},Za.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Za.p="",Za(Za.s=0);function Za(e){if(Ya[e])return Ya[e].exports;var t=Ya[e]={i:e,l:!1,exports:{}};return Xa[e].call(t.exports,t,t.exports,Za),t.l=!0,t.exports}var Xa,Ya},module.exports=Wa()},379:e=>{var t=[];function i(o){for(var u=-1,d=0;d<t.length;d++)if(t[d].identifier===o){u=d;break}return u}function a(o,u){for(var d={},n=[],k=0;k<o.length;k++){var j=o[k],Z=u.base?j[0]+u.base:j[0],z=d[Z]||0,H="".concat(Z," ").concat(z);d[Z]=z+1,z=i(H),j={css:j[1],media:j[2],sourceMap:j[3],supports:j[4],layer:j[5]},z!==-1?(t[z].references++,t[z].updater(j)):(j=function(Y,I){var B=I.domAPI(I);return B.update(Y),function(U){U?U.css===Y.css&&U.media===Y.media&&U.sourceMap===Y.sourceMap&&U.supports===Y.supports&&U.layer===Y.layer||B.update(Y=U):B.remove()}}(j,u),u.byIndex=k,t.splice(k,0,{identifier:H,updater:j,references:1})),n.push(H)}return n}e.exports=function(o,u){var d=a(o=o||[],u=u||{});return function(n){n=n||[];for(var k=0;k<d.length;k++){var j=i(d[k]);t[j].references--}for(var n=a(n,u),Z=0;Z<d.length;Z++){var z=i(d[Z]);t[z].references===0&&(t[z].updater(),t.splice(z,1))}d=n}}},569:e=>{var t={};e.exports=function(i,a){if(!(i=function(o){if(t[o]===void 0){var u=document.querySelector(o);if(window.HTMLIFrameElement&&u instanceof window.HTMLIFrameElement)try{u=u.contentDocument.head}catch{u=null}t[o]=u}return t[o]}(i)))throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(a)}},216:e=>{e.exports=function(t){var i=document.createElement("style");return t.setAttributes(i,t.attributes),t.insert(i,t.options),i}},565:(e,t,i)=>{e.exports=function(a){var o=i.nc;o&&a.setAttribute("nonce",o)}},795:e=>{e.exports=function(t){var i=t.insertStyleElement(t);return{update:function(a){(function(o,u,d){var n="";d.supports&&(n+="@supports (".concat(d.supports,") {")),d.media&&(n+="@media ".concat(d.media," {"));var k=d.layer!==void 0;k&&(n+="@layer".concat(0<d.layer.length?" ".concat(d.layer):""," {")),n+=d.css,k&&(n+="}"),d.media&&(n+="}"),d.supports&&(n+="}"),(d=d.sourceMap)&&typeof btoa<"u"&&(n+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(d))))," */")),u.styleTagTransform(n,o,u.options)})(i,t,a)},remove:function(){var a;(a=i).parentNode!==null&&a.parentNode.removeChild(a)}}}},589:e=>{e.exports=function(t,i){if(i.styleSheet)i.styleSheet.cssText=t;else{for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(document.createTextNode(t))}}},405:(e,t,i)=>{i.d(t,{Z:()=>a});const a="data:font/ttf;base64,AAEAAAALAIAAAwAwR1NVQiCLJXoAAAE4AAAAVE9TLzI8GkzSAAABjAAAAGBjbWFwOfl5agAAAhQAAAIYZ2x5Zty9HO8AAAREAAAGFGhlYWQfo4tUAAAA4AAAADZoaGVhCQ4F8QAAALwAAAAkaG10eCpo//4AAAHsAAAAKGxvY2EH0AXyAAAELAAAABZtYXhwARsAcAAAARgAAAAgbmFtZRCjPLAAAApYAAACZ3Bvc3QGQnS4AAAMwAAAAH0AAQAAA4D/gABcBmf/////BTAAAQAAAAAAAAAAAAAAAAAAAAoAAQAAAAEAAJG1WF1fDzz1AAsEAAAAAADdqqOtAAAAAN2qo63///97BTADggAAAAgAAgAAAAAAAAABAAAACgBkAAcAAAAAAAIAAAAKAAoAAAD/AAAAAAAAAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAQEPgGQAAUAAAKJAswAAACPAokCzAAAAesAMgEIAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAwOYA6cQDgP+AAAAD3ACFAAAAAQAAAAAAAAAAAAAAAAACBAAAAAQA//8EAP//BmcAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAAAAAUAAAADAAAALAAAAAQAAAGcAAEAAAAAAJYAAwABAAAALAADAAoAAAGcAAQAagAAABIAEAADAALmAOYF5gnmFOYr5k3nvenE//8AAOYA5gXmCeYU5ivmTee96cP//wAAAAAAAAAAAAAAAAAAAAAAAQASABIAEgASABIAEgASABIAAAAIAAcABgADAAIABQAEAAkAAQAAAQYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAfAAAAAAAAAAJAADmAAAA5gAAAAAIAADmBQAA5gUAAAAHAADmCQAA5gkAAAAGAADmFAAA5hQAAAADAADmKwAA5isAAAACAADmTQAA5k0AAAAFAADnvQAA570AAAAEAADpwwAA6cMAAAAJAADpxAAA6cQAAAABAAAAAAB+AJoA/gEYAUQBwAIGAoADCgAAAAP///+cA+QDgQATACMAUgAABSEiLgE1ETQ+ATMhMh4BFREUDgEDNCYjISIGFREUFjMhMjY1AScRNz4BHgIGDwEGBwYnBicmLwEmND4BHwERBw4BLgI2PwE2Mh8BHgEOAiYDcv0AHzQfHzQfAwAfNB8fNAMhGP05FyIiFwLHGCH+1khGCBYWEAYGCIQDBQ0TEw0GAoULGSINRUcIFxYQBgYIkQwjDZAIBgURFhZkHzQfAwAfNB8fNB/9AB80HwNWFyIiF/05GCEhGAHuR/5dRQgGBhAWFgiEBwUOAQEOBQaFDCMYAQxFAaNHCAYGEBYWCJEMDJEIFhYQBgYAAAH//wAABAEB4QAPAAARNDYzITIWHQEUBiMhIiY1JRsDgBomJRv8gBomAaAbJSYaQBslJhoAAAAABgAAAAAFMALzAAgAFQAeACsANABBAAATNDYyFhQGIiYlNDYzITIWFAYjISImATQ2MhYUBiImJTQ2MyEyFhQGIyEiJgE0NjIWFAYiJiU0NjMhMhYUBiMhIiaNKz4sLD0sASksHgLlHywsH/0bHyv+1ys+LCw9LAEpLB4C5R8sLB/9Gx8r/tcrPiwsPSwBKSweAuUfLCwf/RsfKwKpHiwrPiwsHx4sKz4sLP72HysrPisrHx8rKz4rK/72HywsPSwrHx8sLD0sKwACAAD/xANuAzwABgAKAAABIxEhESMBBRUhNQNt0P7G0AFt/pMC2gIDATn+x/6SaGlpAAAAAQAA/4AEAAOAABsAAAEhIgYUFjMhERQWMjY1ESEyNjQmIyERNCYiBhUBq/6rJDIyJAFVMkcxAVUkMjIk/qsyRzEB1TJHMf6rJDIyJAFVMkcxAVUkMjIkAAMAAP97A4gDggAmADsATQAAAS4CBg8BJiMiDgEHBhYXFjMyNjc+AjcWFwcOAR4BHwEzMjY/AQcuAQYHBQ4CFh8BHgE2NyU+ASYnBwUGJi8BJjY3JTY7ARYfARYGAzIGGB8cCSRHS1qkfiIIEBQKChAaBhpgf0UpJxMKBQwZEMQGDhgIE9sdU1Yj/vsZHgYVFZEdUlciAQYiHg8cWv77FDIQkBAFEwEFEBYGGRCREAQDXA4UAwwMLxlFflQUKAgEEA5BYjUBAQoaDB4dEgIVDAsccyIeDxzZFTtBPxmtIx4OHdkdU1YjmNkQBBOuEzMQ2Q4CFK4TMgAABgAA/6oCdQNWAAAADQAOABsAHAApAAABIxQeATI+ATQuASIOARMjFB4BMj4BNC4BIg4BEyMUHgEyPgE0LgEiDgECAHUgNUA1ICA1QDUgdXUgNUA1ICA1QDUgdXUgNUA1ICA1QDUgAYAgNSAgNUA1ICA1AUAfNiAgNj82Hx82/SAgNh8fNj82ICA2AAADAAD/nAQBA4EAEwAjAFAAADcRND4BMyEyHgEVERQOASMhIi4BJTI2NRE0JiMhIgYVERQWMwE3IRcWFAYiLwEmJyY3Jjc2PwE2Mh4BDwEhJy4BPgIWHwEWFA8BDgEuAjYcHzQfAwAfNB8fNB/9AB80HwNWFyIiF/05GCEhGAHuR/5dRQ0ZJAyEBwUOAQEOBQaFDCMYAQxFAaNHCAYGEBYWCJEMDJEIFhYQBgYOAwAfNB8fNB/9AB80Hx80AyEYAscXIiIX/TkYIQEqSEYMJBkNhAMFDRMTDQYChQsZIg1FRwgXFhAGBgiRDCMNkAgGBREWFgAABwAA/6AD9QNdAAkAEwAgAC0AOgBaAGMAABM1NDYzITIWHQERFAYjISImNREhBzQmKwEiBhQWOwEyNjc0JisBIgYUFjsBMjY1NCYjISIGFBYzITI2AREUBisBNTMyNjQmIyEiBhQWOwEVIyImNRE0NjMhMhYHNCYiBhQWMjbvIRgBsBghIRj+UBghAiLjDgm2Cg0NCrYJDogNCi0KDQ0KLQoNDQr+wgoNDQoBPgoNAT8iF30WCg0NCv1WCg0NChZ9FyIiFwN4FyJbDhMNDRMOAqZ+FyEhF379NBghIRgBM80JDg4SDg4JCQ4OEg4OkgkNDRMNDQGB/n0XIokNEw0NEw2JIhcBgxghIVEKDQ0TDg4AAAAAAAASAN4AAQAAAAAAAAATAAAAAQAAAAAAAQAIABMAAQAAAAAAAgAHABsAAQAAAAAAAwAIACIAAQAAAAAABAAIACoAAQAAAAAABQALADIAAQAAAAAABgAIAD0AAQAAAAAACgArAEUAAQAAAAAACwATAHAAAwABBAkAAAAmAIMAAwABBAkAAQAQAKkAAwABBAkAAgAOALkAAwABBAkAAwAQAMcAAwABBAkABAAQANcAAwABBAkABQAWAOcAAwABBAkABgAQAP0AAwABBAkACgBWAQ0AAwABBAkACwAmAWNDcmVhdGVkIGJ5IGljb25mb250aWNvbmZvbnRSZWd1bGFyaWNvbmZvbnRpY29uZm9udFZlcnNpb24gMS4waWNvbmZvbnRHZW5lcmF0ZWQgYnkgc3ZnMnR0ZiBmcm9tIEZvbnRlbGxvIHByb2plY3QuaHR0cDovL2ZvbnRlbGxvLmNvbQBDAHIAZQBhAHQAZQBkACAAYgB5ACAAaQBjAG8AbgBmAG8AbgB0AGkAYwBvAG4AZgBvAG4AdABSAGUAZwB1AGwAYQByAGkAYwBvAG4AZgBvAG4AdABpAGMAbwBuAGYAbwBuAHQAVgBlAHIAcwBpAG8AbgAgADEALgAwAGkAYwBvAG4AZgBvAG4AdABHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAHMAdgBnADIAdAB0AGYAIABmAHIAbwBtACAARgBvAG4AdABlAGwAbABvACAAcAByAG8AagBlAGMAdAAuAGgAdAB0AHAAOgAvAC8AZgBvAG4AdABlAGwAbABvAC4AYwBvAG0AAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgECAQMBBAEFAQYBBwEIAQkBCgELAAhmdWxscGFnZQVtaW51cwdjYXRhbG9nCGRvd25sb2FkBHBsdXMGcm90YXRlBGRvdHMKYXV0by13aWR0aAdwcmludGVyAAAAAAA="},389:(e,t,i)=>{i.d(t,{Z:()=>a});const a="data:font/woff2;base64,d09GMgABAAAAAAakAAsAAAAADUAAAAZVAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHFQGYACEGAqMFIldATYCJAMoCxYABCAFhGcHfRsuC8gOJbXAwADgIQFgBPT70fbJ93PMNZIuEUVDU0li6Uqg0giZDImZO5+Oz/+76d8QNGgVqmSijsyEMFEKIWVIOCFUFEafwZOK61T16x3+b63VE8dD049O4kKithWb/ZjNLmLaTKJoSbwLCTELhXah45XSKCUziLfhsuslAlrbzcY4rVqqAaJbOtoGwjEpqwN+/3DLROgAl86Xc6KCOqsse2KeDWWCgviScR6v7LcPU3YGLhAVCSi3unBFaQCHX4KJ47DL7yJ987S9YXDniAIJm0dWGEbyzY8guXSzjW3a0OwGYIiE/l1x1CjrZfNy9ssRL5e9OvDmuN9P3HZsNGWtYEjtDtQqZXv/8xSyRiCUAGEPdN5pbRgFOqFmlEWoGOURSkaDCYnREYTI6DJCwdgBQmbiGNM4JxKUdx9bNHQ2YDkQfrIF54ESehqmU2qNmHavezVbMkbCE6ppOMzIISGBkLBTsGQUgghxcKG8RIn3bDfEcfec4wf4znSB8kHn6ST3QUTk3Q/ygwN8se8QZNQy1hY01OUVFQZrcoNzB9eG5odq890tu0IwWJNbW59fXCJdW+AL8blaLc9g96F2Dj4APNiPSLwHoa3uQ74Drv0u1SfqYp5veakOGlIulIzAAgaCbwPiQAi8l11X+EKGEe27BsHCaPdVRABf3HsZ3P7YXF8bPPMm4r1+XVNYNiiP72uQ3lK2WNs3aWhuYVFTCBb5qyM07TevT93W2Hm9axjWduPWDP2+WzdHa7bVngzXFtcM0Rfw+XVhWFElgbi6zvjO9bi7z3pPd25k0m+eZcjS6chy0uQ1m85awyHEWgGW52r08t1C8yOKpQWr1aWpLFgj1C4dv7I8l+cKXklLce5WaOYWIQXV2H5EsH4/gsUadz6CeHNdeXy+r2BtwArZBRZhLsEonYtASTxhFxl80NaWdoRvQqDO8xVMQQ1AfvSZHMh/zJa7m4MJw1JIdkoaID0lk+gbA9mGD2pVjVIRj2F+7frxHs9gxQUUvaAJychoGfCH5JxCUaNSxeMZt83M3Dfg3H+Z8ZhSjGGgMkIR4QrHwufalwB/N0a3zN47e9+sfUOjo/dFv5D7mtxsahnKkzenRe6dtTdEvte619qst5QUoSDyvoCeAPZ+hS8fmD7tssVqIUx3TaD5OjYwQC0ZiFkOSA0FO5iwatNmx9N9vtkq2ZINNYrU1H5rHL+m5CCSis1hc7fq0iYqgMs0rGTZfveXY8FsUXLSiLvUkdVRmGgE8/aTu6y5yxdmth5dFaUVRrJuL45aLcK61xcwbx8L+vpf29f5Y9xOf0PZ7m+Z9LbjgD/diX5fMXfF97lmEz3HKf/hbPdjzo/lc5f/oB85UYBzEuYAB1ZddNsmbYOlkqW3Qy+bGaZS1yiU5wb+OXC/xxOjuM9g3D+zKiNj74AEaD/l1kbuz/zPq/m8/ce6NCmQfZIB6b3zMucg2a7+T8/zHjQ7kQtDF5CduMdzLu9COyrEm35veefb2cj5Weyoy9O9mfpXaASbEQv9K1WmnhPROUEq2bASuQ83CLoQ9ADc/gL8VxpH0vPkti5JDtATKLYzvgH/jycbPJOMSYb/hHfENEcnrI0pzRDsbqtMP9Lmr3YnD/vWbd4qnvmDy/8h139vrmlDfPvGbdbY+r3UIqXFb7TqYkn4lbmKseJWtBmQ/ffr+SUhjw3l/4TWSzg8zetptfgsK4Y8bDt71nPcFtRm4baossiHpLbSmp0bodDZCaXaEWhtoqQd3t0OFjIPsJYHQjCgCaI+nyEZcMqanbegMNcrKA34H1rDQah18AJBv4DCdTRuQGMSUZOetBm1LNoOdDVOOC06KqlRi1MOE6xHx40eG21X4zacauIQRxwxnqaNqJEiraiKvB1usZConSK343p6dCxN26ePGWNMO2S0nrSCBSg4HdpMboCKkehvokeyMc5Ohz/eajiCk4UOVdKqZRQHFlDgqHFGG1vCqkZbqVFHMtQhDmE8GjEjVKcUarNCqWgOUgvVQkLZ05u2w+kFc7TYGk12041RZzOWxdH9Z1oPtfKTH0N57TYwIBhiQiyIDXEgLsSDEIgP6itOi8WuI3CW1WRzOjh6Ha2zkATXQMbbLKTOwLRbnA42RdJbcymmgaQdiM5Jk6PiTQY6lmOnTMCgAAAAAAA="},794:(e,t,i)=>{i.d(t,{Z:()=>a});const a="data:font/woff;base64,d09GRgABAAAAAAhMAAsAAAAADUAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAARAAAAGA8GkzSY21hcAAAAYgAAACZAAACGDn5eWpnbHlmAAACJAAAA+MAAAYU3L0c72hlYWQAAAYIAAAAMQAAADYfo4tUaGhlYQAABjwAAAAeAAAAJAkOBfFobXR4AAAGXAAAABcAAAAoKmj//mxvY2EAAAZ0AAAAFgAAABYH0AXybWF4cAAABowAAAAdAAAAIAEbAHBuYW1lAAAGrAAAAUAAAAJnEKM8sHBvc3QAAAfsAAAAYAAAAH0GQnS4eJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGGxY5zAwMrAwNTJdIaBgaEfQjO+ZjBi5ACKMrAyM2AFAWmuKQwHnjG8PMLc8L+BgYH5DkMrUJgRRRETAI+0DWp4nOWRwQ3CMAxFn2laCOKAULdoV+kizMAcnFilp3YWV52i2DEXygj86EXyl+xE30ANVEZvJJAXgutprhS/4lz8xN3qG1dzDorWmrXVTodlXOdtg503ubeTWP/3gRNHGp9pf0lkf1Wan87/06Xcj0+VPd/AErOkA8sOzYGliLaB71S7wJJFh8D3vYyB73udAp+/zgHyBr0DMO4AAAB4nJVUzW8bVRCf2ed9/ujuy27XXtv52PXuxmuCXRcce60QsJNDmkoIqRQapEAlBBzooRxAkZBQQwqt1B6QmnLh0EMlEBJEVJz6B6CKnJB6ARR6qoArHBBcitfM201FKwQt1mq+3pufNfN+M8DG4/EV9hM7CxYEcBxA9fw29szuAOe9joMlsyiQdcPA8znZNgWjHjbM/gAdhU8gz/IGb4SHMaQMF82swLYSDTHquOigUEL25gjcrksfSzXzKqOFsu+Xld2KF3939EjOtg3Oc+eYqluWzpXzB6q+vrKaKyfhbS3QL+W4atr2a3+DuAkoW5M4o4WK51Xwl9X45EqOc8O2c+eyqkAUKj+vBRXUVvDj1f2TbU3bTv8QAMdjgAzibZgAMLsR1WbPYJFTrWGvPsW2JsP61J8k8epUPZxckgLox6VQH1N+gxyUwIEmdGEZwOpGHbvI/bCeQqVA+D+iHzQHrdZTLZxrOcrPbqvljqbcZvz9w0eVz5yWjLupiv9wm81Bs+mmilyZQm6iQAEY32BvsCepogK1IzA9M0C15PXY6Zvx1zfxdPyh8oPCcCHejS+/fuoUlY2Us5UBtgVT5BApJCWIF8QKk6ghiWJ2Q+IK7sQ7s53OLJ7orD6OJ6QZ70jzWxL/OAJGuO+wC+w9CGERniHstqRXGPgCs9wu2/OdqD9Q+naZGOYQ08gfYrZNBFSFYkuyRf36AMNGVuWSjuRFi0gHNmcdXnGn87OrT69/sunnjGKhYEzyyZffXZlrWAVVqxo3uKjkrFszz60F8Z2qw0ul7ZnjL/jIfWdiej2+U+wYlwzVQtWwedXYNjLsJVFkmna4urL5fPGRXMYQy6/0EAuTmjNzUClpB6bfkql7pcXlYfWLwBEzexL8oz0jY12z5o09oRSvWZ2ES+PPlQ22Rr3VQVBXp2FOvkXRwc4Au22kBlj/4SmwUest9WqJ2PgXG7dq+1ath0tuVKtFw8h1oxEZpIYyAMkbXMng/i44BtC/fw0EcjXU5Uvfsw+w75Ulk6nljbAf9pPZd3ACvUYbB/Jl7OIEJlth+sHzq1dntYcZXnEfTrJUlN27YPjo0SPabFV/8EYByFLNV9nv7CTkqeoaHIInYB1epWnu3V0I5v5GML1sN2yipPwiEhvvdXppR9L9KDOa2JtPxyG9UgokQgqZlQMiR+ZXKvtLWXx8rOIp/o8if72g64XreXFBLxySZiLir6TEQUHHoV8+Y0tvtCalfUbWzN4u+y8KS9ctoXy6Wfa88uaom/R0/pu8EAeFyKfqcp7u6DqejSnvojQt/aJfxvfp8rMFmS+Ihn8BUJ0K7gB4nGNgZGBgAOKJWyNi4/ltvjJwszCAwN1Vi9fC6P///1ezGjA3AbkcDEwgUQBqkg2WAAAAeJxjYGRgYG7438AQw5b+HwhYDRiAIiiACwCunQcJAAB4nGNhYGBgYfj/H4TZ0kFs7BgAjC8EjgAAAAAAAH4AmgD+ARgBRAHAAgYCgAMKAAB4nGNgZGBg4GJIYWBnAAEmMI8LSP4H8xkAE70BjAAAAHichZE9bsJAEIWfwZAElChKpDRpVikoEsn8lEipUKCnoAez5ke211ovSNQ5TY6QE+QI6Whzikh52EMDRbza2W/evpkdyQDusIeH8rvnLtnDJbOSK7jAo3CV+pOwT34WrqGJnnCd+qtwAy94E26yY8YOnn/FrIV3YQ+3+BCu4AafwlXqX8I++Vu4hgf8CNep/wo3MPGuhZtoeeHA6qnTczXbqVVo0sik7niO9WITT+2pPNE2X5lUdYPOURrpVNtjm3y76DkXqciaRA15q+PYqMyatQ5dsHQu67fbkehBaBIMYKExhWOcQ2GGHeMKIQxSREV0Z/mY7gU2iFlp/3VP6LbIqR9yhS4CdM5cI7rSwnk6TY4tX+tRdXQrbsuahDSUWs1JYrLiDzzcramE1AMsi6oMfbS5ohN/UMyQ/AHYk29XeJxtwUEOwyAMBEBvSgKlb8mjrEBTJBcjMMr3e8i1M7TQLdJ/EQsecFixwSPgiYgXhfcUaXzm9VvqHP5gY9EzJL2qKCfXZI6tq7Fll9RG5Gm6XyXZx7dequVO9AOkHhlj"},477:e=>{e.exports=function(t,i,a,o){var u,d=self||window;try{try{try{u=new d.Blob([t])}catch{(u=new(d.BlobBuilder||d.WebKitBlobBuilder||d.MozBlobBuilder||d.MSBlobBuilder)).append(t),u=u.getBlob()}var n=d.URL||d.webkitURL,k=n.createObjectURL(u),j=new d[i](k,a);return n.revokeObjectURL(k),j}catch{return new d[i]("data:application/javascript,".concat(encodeURIComponent(t)),a)}}catch{if(!o)throw Error("Inline worker is not supported");return new d[i](o,a)}}},748:e=>{e.exports=__WEBPACK_EXTERNAL_MODULE__748__},599:()=>{},358:()=>{},822:()=>{},127:()=>{},74:()=>{}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];return t!==void 0?t.exports:(t=__webpack_module_cache__[e]={id:e,exports:{}},__webpack_modules__[e].call(t.exports,t,t.exports,__webpack_require__),t.exports)}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var i in t)__webpack_require__.o(t,i)&&!__webpack_require__.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&((e=t.currentScript?t.currentScript.src:e)||(t=t.getElementsByTagName("script")).length&&(e=t[t.length-1].src)),!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})();var __webpack_exports__={};return(()=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>ht});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{s:()=>H});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{s:()=>A});var i={};__webpack_require__.r(i),__webpack_require__.d(i,{s:()=>ye});var a={};__webpack_require__.r(a),__webpack_require__.d(a,{s:()=>Ge});var o={};__webpack_require__.r(o),__webpack_require__.d(o,{s:()=>ot});var u={};__webpack_require__.r(u),__webpack_require__.d(u,{s:()=>Ue});var d=__webpack_require__(748),n=__webpack_require__.n(d);const k={class:"pdf-viewer__body"},j={key:0,class:"loading-mask"},Z={key:0,class:"loading-content"},z={key:0,class:"rendering-content"};function H(Ke,At,Et,Wt,fi,ei){var hi=(0,d.resolveComponent)("ViewerPageSelector"),vi=(0,d.resolveComponent)("Viewer");return(0,d.openBlock)(),(0,d.createElementBlock)("div",{class:"pdf-viewer",onContextmenu:At[4]||(At[4]=(...zi)=>ei.handlePreventDefault&&ei.handlePreventDefault(...zi))},[(0,d.createElementVNode)("div",{class:(0,d.normalizeClass)(["pdf-viewer__header",{"not-ready":!ei.isReady}])},[(0,d.createVNode)(hi,{total:fi.total,page:fi.page,zoom:fi.zoom,controls:Et.controls,rotate:fi.rotate,isFullpage:fi.isFullpage,filename:fi.filename,isReady:ei.isReady,onToggleFullpage:ei.handleToggleFullpage,"onUpdate:page":At[0]||(At[0]=zi=>fi.page=zi),"onUpdate:rotate":At[1]||(At[1]=zi=>fi.rotate=zi),"onUpdate:zoom":ei.handleUpdateZoom,onToggleCatalog:ei.handleToggleCatalog,onPrint:ei.handlePrint,onDownload:ei.handleDownload},null,8,["total","page","zoom","controls","rotate","isFullpage","filename","isReady","onToggleFullpage","onUpdate:zoom","onToggleCatalog","onPrint","onDownload"])],2),(0,d.createElementVNode)("div",k,[fi.isLoading||fi.isRendering?((0,d.openBlock)(),(0,d.createElementBlock)("div",j,[(0,d.renderSlot)(Ke.$slots,"loading",{},()=>[fi.isLoading?((0,d.openBlock)(),(0,d.createElementBlock)("div",Z,(0,d.toDisplayString)(ei.loadingContent),1)):(0,d.createCommentVNode)("v-if",!0)]),(0,d.renderSlot)(Ke.$slots,"rendering",{},()=>[fi.isRendering?((0,d.openBlock)(),(0,d.createElementBlock)("div",z,(0,d.toDisplayString)(ei.renderingContent),1)):(0,d.createCommentVNode)("v-if",!0)])])):(0,d.createCommentVNode)("v-if",!0),(0,d.createVNode)(vi,{ref:"viewer",source:Et.source,page:fi.page,total:fi.total,zoom:fi.zoom,catalogVisible:fi.catalogVisible,rotate:fi.rotate,style:(0,d.normalizeStyle)(ei.viewerStyle),isFullpage:fi.isFullpage,filename:fi.filename,"onUpdate:page":At[2]||(At[2]=zi=>fi.page=zi),"onUpdate:zoom":ei.handleUpdateZoom,"onUpdate:isLoading":ei.handleUpdateLoadingState,"onUpdate:isRendering":ei.handleUpdateRenderingState,"onUpdate:filename":At[3]||(At[3]=zi=>fi.filename=zi),onPasswordRequested:ei.handlePasswordRequest,onLoaded:ei.handleLoaded,onLoadingFailed:ei.handleLoadingFailed,onRendered:ei.handleDocumentRender,onRenderingFailed:ei.handleRenderFailed},null,8,["source","page","total","zoom","catalogVisible","rotate","style","isFullpage","filename","onUpdate:zoom","onUpdate:isLoading","onUpdate:isRendering","onPasswordRequested","onLoaded","onLoadingFailed","onRendered","onRenderingFailed"])])],32)}var q=__webpack_require__(379),Y=__webpack_require__.n(q),N=__webpack_require__(795),I=__webpack_require__.n(N),y=__webpack_require__(569),B=__webpack_require__.n(y),X=__webpack_require__(565),U=__webpack_require__.n(X),T=__webpack_require__(216),C=__webpack_require__.n(T),P=__webpack_require__(589),G=__webpack_require__.n(P),q=__webpack_require__(530),N={};N.styleTagTransform=G(),N.setAttributes=U(),N.insert=B().bind(null,"head"),N.domAPI=I(),N.insertStyleElement=C(),Y()(q.Z,N),q.Z&&q.Z.locals&&q.Z.locals;const ne={class:"viewer-container",ref:"container"},K={class:"catalog-container"},L=["onClick"],E={class:"catalog-index"},w={class:"viewer-content",ref:"viewerContent"},g=[(Ke=>((0,d.pushScopeId)("data-v-6f808d62"),Ke=Ke(),(0,d.popScopeId)(),Ke))(()=>(0,d.createElementVNode)("span",{class:"placeholder"},null,-1))];function A(Ke,At,Et,Wt,fi,ei){const hi=(0,d.resolveComponent)("RotateWrapper");var vi=(0,d.resolveComponent)("CompIFrame");return(0,d.openBlock)(),(0,d.createBlock)(vi,{css:Ke.$options.viewerStyle,ref:"iframe"},{default:(0,d.withCtx)(()=>[(0,d.createElementVNode)("div",ne,[(0,d.createElementVNode)("div",{class:(0,d.normalizeClass)(["scroller catalog",{visible:Et.catalogVisible}]),ref:"catalogScroller"},[(0,d.createElementVNode)("div",K,[((0,d.openBlock)(!0),(0,d.createElementBlock)(d.Fragment,null,(0,d.renderList)(fi.imageList,(zi,Ji)=>((0,d.openBlock)(),(0,d.createElementBlock)("div",{ref:`catalogItem_${Ji}`,class:"catalog-item",key:Ji},[(0,d.createElementVNode)("div",null,[(0,d.createElementVNode)("div",{ref:"catalogItemContent",class:(0,d.normalizeClass)(["catalog-item__content",ei.activePage===Ji+1&&"active"]),onClick:cr=>ei.handleSwitchPage(Ji+1)},[(0,d.createVNode)(hi,{src:zi,rotateDeg:Et.rotate},null,8,["src","rotateDeg"])],10,L)]),(0,d.createElementVNode)("div",E,(0,d.toDisplayString)(Ji+1),1)],512))),128))])],2),(0,d.createElementVNode)("div",{class:"scroller viewer",ref:"viewerScroller",onScroll:At[0]||(At[0]=(...zi)=>ei.handleViewerScroll&&ei.handleViewerScroll(...zi))},[(0,d.createElementVNode)("div",w,[((0,d.openBlock)(!0),(0,d.createElementBlock)(d.Fragment,null,(0,d.renderList)(ei.pages,(zi,Ji)=>((0,d.openBlock)(),(0,d.createElementBlock)("div",{ref:`viewerItem_${Ji}`,key:zi,style:(0,d.normalizeStyle)(ei.viewerItemStyle),class:"viewer-item"},[(0,d.createElementVNode)("div",{style:(0,d.normalizeStyle)(ei.viewerStyle)},g,4),(0,d.createCommentVNode)(" TODO: use rotate wrapper "),(0,d.createCommentVNode)(` <RotateWrapper
            :src="viewerImageList[page - 1]"
            :rotateDeg="rotate"
            :style="viewerStyle"
            :duration="200"
          /> `)],4))),128))],512)],544)],512)]),_:1},8,["css"])}var m=__webpack_require__(658),y=__webpack_require__(477),x=__webpack_require__.n(y),M=__webpack_require__(825),X={name:"IFrame",props:{css:{type:String,default:""}},setup(Ke,{slots:At,expose:Et}){const Wt=(0,d.ref)(null),fi=(0,d.ref)(null),ei=(0,d.ref)(null),hi=(0,d.ref)(null);let vi=null;const zi=Ji=>{const cr=document.createElement("STYLE");return cr.textContent=Ji,ei.value.appendChild(cr),cr};return Et({appendStyle:zi,getContentWindow:()=>Wt.value.contentWindow}),(0,d.onMounted)(()=>{fi.value=Wt.value.contentDocument.body,ei.value=Wt.value.contentDocument.head;var Ji=document.createElement("div");fi.value.appendChild(Ji),zi(M.Z),Ke.css&&(hi.value=zi(Ke.css)),vi=(0,d.createApp)({name:"iApp",setup(){return()=>At.default()}}).mount(Ji)}),(0,d.onBeforeUpdate)(()=>{vi&&Wt.value&&Ke.css&&(hi.value.innerHTML=Ke.css)}),()=>(0,d.createVNode)("iframe",{ref:Wt,style:{width:"100%",height:"100%",border:"none"}})}};function re(Ke,At,Et,Wt,fi,ei,hi,vi){var zi,Ji,cr=typeof Ke=="function"?Ke.options:Ke;return At&&(cr.render=At,cr.staticRenderFns=Et,cr._compiled=!0),Wt&&(cr.functional=!0),ei&&(cr._scopeId="data-v-"+ei),hi?(zi=function(Yr){(Yr=Yr||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||typeof __VUE_SSR_CONTEXT__>"u"||(Yr=__VUE_SSR_CONTEXT__),fi&&fi.call(this,Yr),Yr&&Yr._registeredComponents&&Yr._registeredComponents.add(hi)},cr._ssrRegister=zi):fi&&(zi=vi?function(){fi.call(this,(cr.functional?this.parent:this).$root.$options.shadowRoot)}:fi),zi&&(cr.functional?(cr._injectStyles=zi,Ji=cr.render,cr.render=function(Yr,Cr){return zi.call(Cr),Ji(Yr,Cr)}):(vi=cr.beforeCreate,cr.beforeCreate=vi?[].concat(vi,zi):[zi])),{exports:Ke,options:cr}}T=re({props:{css:String},render(Ke){return Ke("iframe",{on:{load:this.handleRenderChildren},style:{width:"100%",height:"100%",border:"none"}})},beforeUpdate(){this.iApp&&(this.iApp.children=Object.freeze(this.$slots.default))},methods:{getContentWindow(){return this.$el.contentWindow},appendHead(){[{"http-equiv":"content-type",content:"text/html; charset=UTF-8"},{name:"referrer",content:"no-referrer-when-downgrade"}].forEach(Ke=>{const At=document.createElement("META");Object.keys(Ke).forEach(Et=>{At[Et]=Ke[Et]}),this.$el.contentDocument.head.appendChild(At)})},appendStyle(Ke){const At=document.createElement("STYLE");At.textContent=Ke,this.$el.contentDocument.head.appendChild(At)},handleRenderChildren(){this.appendHead(),this.appendStyle(M.Z),this.css&&this.appendStyle(this.css);var Ke=this.$slots.default;const At=this.$el.contentDocument.body;var Et=document.createElement("DIV");At.appendChild(Et);const Wt=n()||window.Vue,fi=new Wt({name:"iApp",data:{children:Object.freeze(Ke)},render(ei){return ei("div",this.children)}});fi.$mount(Et),this.iApp=fi}}},void 0,void 0,!1,null,null,null),T.options.__file="src/components/IFrame/IFrame.vue",P=T.exports,N=__webpack_require__(421);const ee=async(Ke,At)=>{const Et=(()=>{const Wt=document.createElement("div");return Wt.style.visibility="hidden",Wt.style.display="none",document.body.appendChild(Wt),Wt})();return Ke=Ke.map(Wt=>new Promise(async(fi,ei)=>{try{(async(hi,vi)=>{const zi=hi.getViewport({scale:3}),Ji=document.createElement("canvas");Ji.style.display="block",vi.appendChild(Ji);const cr=Ji.getContext("2d");return Ji.height=zi.height,Ji.width=zi.width,await hi.render({canvasContext:cr,viewport:zi}).promise,new Promise(Yr=>Ji.toBlob(Cr=>Yr({blob:Cr,height:zi.height,width:zi.width})))})(await At.getPage(Wt),Et).then(fi)}catch(hi){ei(hi)}})),Ke=await Promise.all(Ke),Et.remove(),Ke},he=["src"];function ye(Ke,At,Et,Wt,fi,ei){return(0,d.openBlock)(),(0,d.createElementBlock)("div",{class:"rotate-wrapper",style:(0,d.normalizeStyle)(fi.loaded&&ei.contentStyle)},[(0,d.createCommentVNode)(" TODO: slot content (MutationObserver) "),(0,d.createElementVNode)("img",{class:"image",ref:"img",src:Et.src,style:(0,d.normalizeStyle)(ei.imageStyle),onLoad:At[0]||(At[0]=hi=>ei.handleLoaded("template"))},null,44,he),(0,d.createCommentVNode)(" FIXME: img load event never triggered ")],4)}q={name:"RotateWrapper",props:{src:{type:String},rotateDeg:Number,duration:{type:Number,default:0}},data(){return{loaded:!1,imageRect:{}}},computed:{contentStyle(){return{"--content-width":`${this.imageRect.width}px`,"--content-height":`${this.imageRect.height}px`}},imageStyle(){return{transform:`rotate(${this.rotateDeg}deg)`,transitionDuration:`${this.duration}ms`,marginTop:this.imageRect.width>this.imageRect.height?`-${(this.imageRect.width-this.imageRect.height)/2}px`:0}}},watch:{src:{immediate:!0,handler(Ke){if(this.loaded=!1,Ke){const At=document.createElement("img");At.src=Ke;const Et=At.cloneNode();Et.onload=async()=>{await this.$nextTick(),this.handleLoaded()}}}},async rotateDeg(){await this.$nextTick(),this._timer=setInterval(()=>{this.updateImageRect()},20),setTimeout(()=>{clearInterval(this._timer)},this.duration+20)}},methods:{handleLoaded(){this.loaded=!0,this.updateImageRect()},updateImageRect(){var{width:Ke,height:At}=this.$refs.img.getBoundingClientRect();this.imageRect={width:Ke,height:At}}}},y=__webpack_require__(395),T={},T.styleTagTransform=G(),T.setAttributes=U(),T.insert=B().bind(null,"head"),T.domAPI=I(),T.insertStyleElement=C(),Y()(y.Z,T),y.Z&&y.Z.locals&&y.Z.locals,y=re(q,ye,i.staticRenderFns,!1,null,"2efcfd01",null),y.options.__file="src/components/RotateWrapper/RotateWrapper.vue",q=y.exports,i=__webpack_require__(474);const Ce=d&&(d.defalut||d).version||window.Vue&&window.Vue.version||"2.x";y=Number(Ce.split(".")[0]),m.GlobalWorkerOptions.workerPort=new function(){return x()(`(()=>{var r={287:function(e,t,i){var r;r=function(){return r=[function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"WorkerMessageHandler",{enumerable:!0,get:function(){return a.WorkerMessageHandler}});var a=r(1)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerMessageHandler=t.WorkerTask=void 0;var a,w=(a=r(2))&&a.__esModule?a:{default:a},k=r(5),S=r(198),x=r(199),n=r(7),C=r(238),A=r(239),I=r(201);function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],a=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(n)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function O(e,t,r,a,n,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(a,n)}var E=(o.prototype={get finished(){return this._capability.promise},finish:function(){this._capability.resolve()},terminate:function(){this.terminated=!0},ensureNotTerminated:function(){if(this.terminated)throw new Error("Worker task was terminated")}},o);function o(e){this.name=e,this.terminated=!1,this._capability=(0,k.createPromiseCapability)()}t.WorkerTask=E;var s,c={setup:function(t,r){var a=!1;t.on("test",function(e){a||(a=!0,e instanceof Uint8Array?(e=255===e[0],t.postMessageTransfers=e,t.send("test",{supportTransfers:e})):t.send("test",null))}),t.on("configure",function(e){(0,k.setVerbosityLevel)(e.verbosity)}),t.on("GetDocRequest",function(e){return c.createDocumentHandler(e,r)})},createDocumentHandler:function(i,e){var o,s=!1,h=null,a=[],c=(0,k.getVerbosityLevel)(),t=i.apiVersion,r="2.5.207";if(t!==r)throw new Error('The API version "'.concat(t,'" does not match ')+'the Worker version "'.concat(r,'".'));var n,l=[];for(n in[])l.push(n);if(l.length)throw new Error("The \`Array.prototype\` contains unexpected enumerable properties: "+l.join(", ")+"; thus breaking e.g. \`for...in\` iteration of \`Array\`s.");var f=i.docId,d=i.docBaseUrl,r=i.docId+"_worker",p=new C.MessageHandler(r,f,e);function g(){if(s)throw new Error("Worker was terminated")}function u(e){a.push(e)}function m(e){e.finish();e=a.indexOf(e);a.splice(e,1)}function b(){return v.apply(this,arguments)}function v(){var s;return s=w.default.mark(function e(t){var r,a;return w.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ensureDoc("checkHeader");case 2:return e.next=4,o.ensureDoc("parseStartXRef");case 4:return e.next=6,o.ensureDoc("parse",[t]);case 6:if(t){e.next=9;break}return e.next=9,o.ensureDoc("checkFirstPage");case 9:return e.next=11,Promise.all([o.ensureDoc("numPages"),o.ensureDoc("fingerprint")]);case 11:return r=e.sent,a=T(r,2),r=a[0],a=a[1],e.abrupt("return",{numPages:r,fingerprint:a});case 16:case"end":return e.stop()}},e)}),(v=function(){var e=this,o=arguments;return new Promise(function(t,r){var a=s.apply(e,o);function n(e){O(a,t,r,n,i,"next",e)}function i(e){O(a,t,r,n,i,"throw",e)}n(void 0)})}).apply(this,arguments)}function y(e,n){var i,o=(0,k.createPromiseCapability)(),s=e.source;if(s.data){try{i=new x.LocalPdfManager(f,s.data,s.password,n,d),o.resolve(i)}catch(e){o.reject(e)}return o.promise}var r,c=[];try{r=new A.PDFWorkerStream(p)}catch(e){return o.reject(e),o.promise}var l=r.getFullReader();l.headersReady.then(function(){if(l.isRangeSupported){var e=s.disableAutoFetch||l.isStreamingSupported;i=new x.NetworkPdfManager(f,r,{msgHandler:p,password:s.password,length:l.contentLength,disableAutoFetch:e,rangeChunkSize:s.rangeChunkSize},n,d);for(var t=0;t<c.length;t++)i.sendProgressiveData(c[t]);c=[],o.resolve(i),h=null}}).catch(function(e){o.reject(e),h=null});var u=0;return new Promise(function(e,r){function a(e){var t=e.value,e=e.done;try{if(g(),e)return i||function(){var e=(0,k.arraysToBytes)(c);s.length&&e.length!==s.length&&(0,k.warn)("reported HTTP length is different from actual");try{i=new x.LocalPdfManager(f,e,s.password,n,d),o.resolve(i)}catch(e){o.reject(e)}c=[]}(),void(h=null);u+=(0,k.arrayByteLength)(t),l.isStreamingSupported||p.send("DocProgress",{loaded:u,total:Math.max(u,l.contentLength||0)}),i?i.sendProgressiveData(t):c.push(t),l.read().then(a,r)}catch(e){r(e)}}l.read().then(a,r)}).catch(function(e){o.reject(e),h=null}),h=function(e){r.cancelAllRequests(e)},o.promise}return p.postMessageTransfers=i.postMessageTransfers,p.on("GetPage",function(e){return o.getPage(e.pageIndex).then(function(e){return Promise.all([o.ensure(e,"rotate"),o.ensure(e,"ref"),o.ensure(e,"userUnit"),o.ensure(e,"view")]).then(function(e){e=T(e,4);return{rotate:e[0],ref:e[1],userUnit:e[2],view:e[3]}})})}),p.on("GetPageIndex",function(e){e=S.Ref.get(e.ref.num,e.ref.gen);return o.pdfDocument.catalog.getPageIndex(e)}),p.on("GetDestinations",function(e){return o.ensureCatalog("destinations")}),p.on("GetDestination",function(e){return o.ensureCatalog("getDestination",[e.id])}),p.on("GetPageLabels",function(e){return o.ensureCatalog("pageLabels")}),p.on("GetPageLayout",function(e){return o.ensureCatalog("pageLayout")}),p.on("GetPageMode",function(e){return o.ensureCatalog("pageMode")}),p.on("GetViewerPreferences",function(e){return o.ensureCatalog("viewerPreferences")}),p.on("GetOpenAction",function(e){return o.ensureCatalog("openAction")}),p.on("GetAttachments",function(e){return o.ensureCatalog("attachments")}),p.on("GetJavaScript",function(e){return o.ensureCatalog("javaScript")}),p.on("GetOutline",function(e){return o.ensureCatalog("documentOutline")}),p.on("GetPermissions",function(e){return o.ensureCatalog("permissions")}),p.on("GetMetadata",function(e){return Promise.all([o.ensureDoc("documentInfo"),o.ensureCatalog("metadata")])}),p.on("GetData",function(e){return o.requestLoadedStream(),o.onLoadedStream().then(function(e){return e.bytes})}),p.on("GetStats",function(e){return o.pdfDocument.xref.stats}),p.on("GetAnnotations",function(e){var t=e.pageIndex,r=e.intent;return o.getPage(t).then(function(e){return e.getAnnotationsData(r)})}),p.on("GetOperatorList",function(a,n){var i=a.pageIndex;o.getPage(i).then(function(e){var t=new E("GetOperatorList: page ".concat(i));u(t);var r=c>=k.VerbosityLevel.INFOS?Date.now():0;e.getOperatorList({handler:p,sink:n,task:t,intent:a.intent,renderInteractiveForms:a.renderInteractiveForms}).then(function(e){m(t),r&&(0,k.info)("page=".concat(i+1," - getOperatorList: time=")+"".concat(Date.now()-r,"ms, len=").concat(e.length)),n.close()},function(e){m(t),t.terminated||(p.send("UnsupportedFeature",{featureId:k.UNSUPPORTED_FEATURES.errorOperatorList}),n.error(e))})})},this),p.on("GetTextContent",function(a,n){var i=a.pageIndex;n.onPull=function(e){},n.onCancel=function(e){},o.getPage(i).then(function(e){var t=new E("GetTextContent: page "+i);u(t);var r=c>=k.VerbosityLevel.INFOS?Date.now():0;e.extractTextContent({handler:p,task:t,sink:n,normalizeWhitespace:a.normalizeWhitespace,combineTextItems:a.combineTextItems}).then(function(){m(t),r&&(0,k.info)("page=".concat(i+1," - getTextContent: time=")+"".concat(Date.now()-r,"ms")),n.close()},function(e){m(t),t.terminated||n.error(e)})})}),p.on("FontFallback",function(e){return o.fontFallback(e.id,p)}),p.on("Cleanup",function(e){return o.cleanup(!0)}),p.on("Terminate",function(e){s=!0;var t,r=[];return o?(o.terminate(new k.AbortException("Worker was terminated.")),t=o.cleanup(),r.push(t),o=null):(0,S.clearPrimitiveCaches)(),h&&h(new k.AbortException("Worker was terminated.")),a.forEach(function(e){r.push(e.finished),e.terminate()}),Promise.all(r).then(function(){p.destroy(),p=null})}),p.on("Ready",function(e){function t(e){g(),p.send("GetDoc",{pdfInfo:e})}function r(e){var t;g(),e instanceof k.PasswordException?(u(t=new E("PasswordException: response ".concat(e.code))),p.sendWithPromise("PasswordRequest",e).then(function(e){e=e.password;m(t),o.updatePassword(e),a()}).catch(function(){m(t),p.send("DocException",e)})):e instanceof k.InvalidPDFException||e instanceof k.MissingPDFException||e instanceof k.UnexpectedResponseException||e instanceof k.UnknownErrorException?p.send("DocException",e):p.send("DocException",new k.UnknownErrorException(e.message,e.toString()))}function a(){g(),b(!1).then(t,function(e){g(),e instanceof I.XRefParseException?(o.requestLoadedStream(),o.onLoadedStream().then(function(){g(),b(!0).then(t,r)})):r(e)},r)}var n;n=i,g(),y(n,{maxImageSize:n.maxImageSize,disableFontFace:n.disableFontFace,ignoreErrors:n.ignoreErrors,isEvalSupported:n.isEvalSupported,fontExtraProperties:n.fontExtraProperties}).then(function(e){if(s)throw e.terminate(new k.AbortException("Worker was terminated.")),new Error("Worker was terminated");(o=e).onLoadedStream().then(function(e){p.send("DataLoaded",{length:e.bytes.byteLength})})}).then(a,r),i=null}),r},initializeFromPort:function(e){var t=new C.MessageHandler("worker","main",e);c.setup(t,e),t.send("ready",null)}};t.WorkerMessageHandler=c,"undefined"==typeof window&&!n.isNodeJS&&"undefined"!=typeof self&&("function"==typeof(s=self).postMessage&&"onmessage"in s)&&c.initializeFromPort(self)},function(e,t,r){"use strict";e.exports=r(3)},function(e,t,r){"use strict";!function(t){function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t=function(o){var c,e=Object.prototype,l=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},a=t.iterator||"@@iterator",r=t.asyncIterator||"@@asyncIterator",n=t.toStringTag||"@@toStringTag";function s(e,t,r,a){var n,i,o,s,t=t&&t.prototype instanceof m?t:m,t=Object.create(t.prototype),a=new C(a||[]);return t._invoke=(n=e,i=r,o=a,s=h,function(e,t){if(s===d)throw new Error("Generator is already running");if(s===p){if("throw"===e)throw t;return I()}for(o.method=e,o.arg=t;;){var r=o.delegate;if(r){var a=function e(t,r){var a=t.iterator[r.method];if(a===c){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=c,e(t,r),"throw"===r.method))return g;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var a=u(a,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;a=a.arg;if(!a)return r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g;{if(!a.done)return a;r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=c)}r.delegate=null;return g}(r,o);if(a){if(a===g)continue;return a}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(s===h)throw s=p,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);s=d;a=u(n,i,o);if("normal"===a.type){if(s=o.done?p:f,a.arg!==g)return{value:a.arg,done:o.done}}else"throw"===a.type&&(s=p,o.method="throw",o.arg=a.arg)}}),t}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}o.wrap=s;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",g={};function m(){}function i(){}function b(){}var v={};v[a]=function(){return this};t=Object.getPrototypeOf,t=t&&t(t(A([])));t&&t!==e&&l.call(t,a)&&(v=t);var y=b.prototype=m.prototype=Object.create(v);function w(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function k(o,s){var t;this._invoke=function(r,a){function e(){return new s(function(e,t){!function t(e,r,a,n){e=u(o[e],o,r);if("throw"!==e.type){var i=e.arg;return(r=i.value)&&"object"===T(r)&&l.call(r,"__await")?s.resolve(r.__await).then(function(e){t("next",e,a,n)},function(e){t("throw",e,a,n)}):s.resolve(r).then(function(e){i.value=e,a(i)},function(e){return t("throw",e,a,n)})}n(e.arg)}(r,a,e,t)})}return t=t?t.then(e,e):e()}}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,e=function e(){for(;++r<t.length;)if(l.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=c,e.done=!0,e};return e.next=e}}return{next:I}}function I(){return{value:c,done:!0}}return(i.prototype=y.constructor=b).constructor=i,b[n]=i.displayName="GeneratorFunction",o.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===i||"GeneratorFunction"===(e.displayName||e.name))},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,n in e||(e[n]="GeneratorFunction")),e.prototype=Object.create(y),e},o.awrap=function(e){return{__await:e}},w(k.prototype),k.prototype[r]=function(){return this},o.AsyncIterator=k,o.async=function(e,t,r,a,n){void 0===n&&(n=Promise);var i=new k(s(e,t,r,a),n);return o.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},w(y),y[n]="Generator",y[a]=function(){return this},y.toString=function(){return"[object Generator]"},o.keys=function(r){var e,a=[];for(e in r)a.push(e);return a.reverse(),function e(){for(;a.length;){var t=a.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},o.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=c)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var a=this;function e(e,t){return i.type="throw",i.arg=r,a.next=e,t&&(a.method="next",a.arg=c),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t],i=n.completion;if("root"===n.tryLoc)return e("end");if(n.tryLoc<=this.prev){var o=l.call(n,"catchLoc"),s=l.call(n,"finallyLoc");if(o&&s){if(this.prev<n.catchLoc)return e(n.catchLoc,!0);if(this.prev<n.finallyLoc)return e(n.finallyLoc)}else if(o){if(this.prev<n.catchLoc)return e(n.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return e(n.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&l.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var n=a;break}}var i=(n=n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc?null:n)?n.completion:{};return i.type=e,i.arg=t,n?(this.method="next",this.next=n.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a,n=r.completion;return"throw"===n.type&&(a=n.arg,x(r)),a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=c),g}},o}("object"===T(t)?t.exports:{});try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}.call(this,r(4)(e))},function(e,t,r){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(r);return e=a?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==i(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.arrayByteLength=w,t.arraysToBytes=function(e){var t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];for(var r=0,a=0;a<t;a++)r+=w(e[a]);for(var n=0,i=new Uint8Array(r),o=0;o<t;o++){var s=e[o],c=(s=!(s instanceof Uint8Array)?"string"==typeof s?y(s):new Uint8Array(s):s).byteLength;i.set(s,n),n+=c}return i},t.assert=p,t.bytesToString=function(e){p(null!==e&&"object"===i(e)&&void 0!==e.length,"Invalid argument for bytesToString");var t=e.length;if(t<8192)return String.fromCharCode.apply(null,e);for(var r=[],a=0;a<t;a+=8192){var n=Math.min(a+8192,t),n=e.subarray(a,n);r.push(String.fromCharCode.apply(null,n))}return r.join("")},t.createPromiseCapability=function(){var e=Object.create(null),a=!1;return Object.defineProperty(e,"settled",{get:function(){return a}}),e.promise=new Promise(function(t,r){e.resolve=function(e){a=!0,t(e)},e.reject=function(e){a=!0,r(e)}}),e},t.getVerbosityLevel=function(){return h},t.info=function(e){h>=u.INFOS&&console.log("Info: ".concat(e))},t.isArrayBuffer=function(e){return"object"===i(e)&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,r){return e.length===r.length&&e.every(function(e,t){return e===r[t]})},t.isBool=function(e){return"boolean"==typeof e},t.isEmptyObj=function(e){for(var t in e)return!1;return!0},t.isNum=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSameOrigin=function(e,t){var r;try{if(!(r=new URL(e)).origin||"null"===r.origin)return!1}catch(e){return!1}t=new URL(t,r);return r.origin===t.origin},t.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{var r=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r))return r}catch(e){}return null},t.removeNullCharacters=function(e){return"string"==typeof e?e.replace(v,""):(f("The argument for removeNullCharacters must be a string."),e)},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(h=e)},t.shadow=g,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=y,t.stringToPDFString=function(e){var t=e.length,r=[];if("þ"===e[0]&&"ÿ"===e[1])for(var a=2;a<t;a+=2)r.push(String.fromCharCode(e.charCodeAt(a)<<8|e.charCodeAt(a+1)));else if("ÿ"===e[0]&&"þ"===e[1])for(var n=2;n<t;n+=2)r.push(String.fromCharCode(e.charCodeAt(n+1)<<8|e.charCodeAt(n)));else for(var i=0;i<t;++i){var o=S[e.charCodeAt(i)];r.push(o?String.fromCharCode(o):e.charAt(i))}return r.join("")},t.stringToUTF8String=function(e){return decodeURIComponent(escape(e))},t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=f,t.unreachable=d,t.IsEvalSupportedCached=t.IsLittleEndianCached=t.createObjectURL=t.FormatError=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.MissingPDFException=t.InvalidPDFException=t.AbortException=t.CMapCompressionType=t.ImageKind=t.FontType=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.UNSUPPORTED_FEATURES=t.VerbosityLevel=t.OPS=t.IDENTITY_MATRIX=t.FONT_IDENTITY_MATRIX=t.BaseException=void 0,r(6);t.IDENTITY_MATRIX=[1,0,0,1,0,0];t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0];t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"};t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"};t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};t.AnnotationReplyType={GROUP:"Group",REPLY:"R"};t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};t.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var u={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=u;t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2};t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontGetPath:"errorFontGetPath"};t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var h=u.WARNINGS;function f(e){h>=u.WARNINGS&&console.log("Warning: ".concat(e))}function d(e){throw new Error(e)}function p(e,t){e||d(t)}function g(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!1}),r}var m=(b.prototype=new Error,b.constructor=b);function b(e){this.constructor===b&&d("Cannot initialize BaseException."),this.message=e,this.name=this.constructor.name}t.BaseException=m;r=function(){o(a,m);var r=c(a);function a(e,t){return n(this,a),(e=r.call(this,e)).code=t,e}return a}();t.PasswordException=r;r=function(){o(a,m);var r=c(a);function a(e,t){return n(this,a),(e=r.call(this,e)).details=t,e}return a}();t.UnknownErrorException=r,t.InvalidPDFException=function(){o(t,m);var e=c(t);function t(){return n(this,t),e.apply(this,arguments)}return t}(),t.MissingPDFException=function(){o(t,m);var e=c(t);function t(){return n(this,t),e.apply(this,arguments)}return t}();r=function(){o(a,m);var r=c(a);function a(e,t){return n(this,a),(e=r.call(this,e)).status=t,e}return a}();t.UnexpectedResponseException=r,t.FormatError=function(){o(t,m);var e=c(t);function t(){return n(this,t),e.apply(this,arguments)}return t}(),t.AbortException=function(){o(t,m);var e=c(t);function t(){return n(this,t),e.apply(this,arguments)}return t}();var v=/\\x00/g;function y(e){p("string"==typeof e,"Invalid argument for stringToBytes");for(var t=e.length,r=new Uint8Array(t),a=0;a<t;++a)r[a]=255&e.charCodeAt(a);return r}function w(e){return void 0!==e.length?e.length:(p(void 0!==e.byteLength,"arrayByteLength - invalid argument."),e.byteLength)}t.IsLittleEndianCached={get value(){return g(this,"value",((e=new Uint8Array(4))[0]=1)===new Uint32Array(e.buffer,0,1)[0]);var e}},t.IsEvalSupportedCached={get value(){return g(this,"value",function(){try{return new Function(""),!0}catch(e){return!1}}())}};var k=["rgb(",0,",",0,",",0,")"],r=function(){function o(){n(this,o)}var e,t,r;return e=o,r=[{key:"makeCssRgb",value:function(e,t,r){return k[1]=e,k[3]=t,k[5]=r,k.join("")}},{key:"transform",value:function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}},{key:"applyTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}},{key:"applyInverseTransform",value:function(e,t){var r=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r]}},{key:"getAxialAlignedBoundingBox",value:function(e,t){var r=o.applyTransform(e,t),a=o.applyTransform(e.slice(2,4),t),n=o.applyTransform([e[0],e[3]],t),t=o.applyTransform([e[2],e[1]],t);return[Math.min(r[0],a[0],n[0],t[0]),Math.min(r[1],a[1],n[1],t[1]),Math.max(r[0],a[0],n[0],t[0]),Math.max(r[1],a[1],n[1],t[1])]}},{key:"inverseTransform",value:function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}},{key:"apply3dTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}},{key:"singularValueDecompose2dScale",value:function(e){var t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],a=e[0]*t[1]+e[1]*t[3],n=e[2]*t[0]+e[3]*t[2],e=e[2]*t[1]+e[3]*t[3],t=(r+e)/2,n=Math.sqrt((r+e)*(r+e)-4*(r*e-n*a))/2,a=t-n||1;return[Math.sqrt(t+n||1),Math.sqrt(a)]}},{key:"normalizeRect",value:function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}},{key:"intersect",value:function(e,t){function r(e,t){return e-t}var a=[e[0],e[2],t[0],t[2]].sort(r),n=[e[1],e[3],t[1],t[3]].sort(r),i=[];return e=o.normalizeRect(e),t=o.normalizeRect(t),a[0]===e[0]&&a[1]===t[0]||a[0]===t[0]&&a[1]===e[0]?(i[0]=a[1],i[2]=a[2],n[0]===e[1]&&n[1]===t[1]||n[0]===t[1]&&n[1]===e[1]?(i[1]=n[1],i[3]=n[2],i):null):null}}],(t=null)&&a(e.prototype,t),r&&a(e,r),o}();t.Util=r;var S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];var x,r=(x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",function(e,t){if(!(2<arguments.length&&void 0!==arguments[2]&&arguments[2])&&URL.createObjectURL){var r=new Blob([e],{type:t});return URL.createObjectURL(r)}for(var a="data:".concat(t,";base64,"),n=0,i=e.length;n<i;n+=3){var o=255&e[n],s=255&e[n+1],c=255&e[n+2];a+=x[o>>2]+x[(3&o)<<4|s>>4]+x[n+1<i?(15&s)<<2|c>>6:64]+x[n+2<i?63&c:64]}return a});t.createObjectURL=r},function(e,t,r){"use strict";var a,n,i,o,s,c,l,u=r(7);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis&&globalThis._pdfjsCompatibilityChecked||("undefined"!=typeof globalThis&&globalThis.Math===Math||(globalThis=r(8)),globalThis._pdfjsCompatibilityChecked=!0,a="object"===("undefined"==typeof window?"undefined":h(window))&&"object"===("undefined"==typeof document?"undefined":h(document)),s="undefined"!=typeof navigator&&navigator.userAgent||"",n=/Trident/.test(s),!globalThis.btoa&&u.isNodeJS&&(globalThis.btoa=function(e){return Buffer.from(e,"binary").toString("base64")}),!globalThis.atob&&u.isNodeJS&&(globalThis.atob=function(e){return Buffer.from(e,"base64").toString("binary")}),a&&void 0===Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),a&&!u.isNodeJS&&((s=document.createElement("div")).classList.add("testOne","testTwo"),!0===s.classList.contains("testOne")&&!0===s.classList.contains("testTwo")||(c=DOMTokenList.prototype.add,l=DOMTokenList.prototype.remove,DOMTokenList.prototype.add=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var a=0,n=t;a<n.length;a++){var i=n[a];c.call(this,i)}},DOMTokenList.prototype.remove=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var a=0,n=t;a<n.length;a++){var i=n[a];l.call(this,i)}})),a&&!u.isNodeJS&&!1!==document.createElement("div").classList.toggle("test",0)&&(DOMTokenList.prototype.toggle=function(e){var t=1<arguments.length?!!arguments[1]:!this.contains(e);return this[t?"add":"remove"](e),t}),a&&n&&(i=window.history.pushState,o=window.history.replaceState,window.history.pushState=function(e,t,r){i.apply(this,void 0===r?[e,t]:[e,t,r])},window.history.replaceState=function(e,t,r){o.apply(this,void 0===r?[e,t]:[e,t,r])}),String.prototype.startsWith||r(53),String.prototype.endsWith||r(64),String.prototype.includes||r(66),Array.prototype.includes||r(68),Array.from||r(76),Object.assign||r(98),Math.log2||(Math.log2=r(101)),Number.isNaN||(Number.isNaN=r(103)),Number.isInteger||(Number.isInteger=r(105)),Uint8Array.prototype.slice||r(108),globalThis.Promise&&globalThis.Promise.allSettled||(globalThis.Promise=r(113)),globalThis.URL=r(136),function(){var e=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(e){e.close()}}),e=!0}catch(e){}e||(globalThis.ReadableStream=r(143).ReadableStream)}(),globalThis.Map&&globalThis.Map.prototype.entries||(globalThis.Map=r(144)),globalThis.Set&&globalThis.Set.prototype.entries||(globalThis.Set=r(151)),globalThis.WeakMap||(globalThis.WeakMap=r(153)),globalThis.WeakSet||(globalThis.WeakSet=r(159)),String.prototype.codePointAt||r(161),String.fromCodePoint||(String.fromCodePoint=r(163)),globalThis.Symbol||r(165),String.prototype.padStart||r(188),String.prototype.padEnd||r(193),Object.values||(Object.values=r(195)))},function(e,t,r){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;var n="object"===("undefined"==typeof process?"undefined":a(process))&&process+""=="[object process]"&&!process.versions.nw&&!process.versions.electron;t.isNodeJS=n},function(e,t,r){r(9),e.exports=r(11)},function(e,t,r){r(10)({global:!0},{globalThis:r(11)})},function(e,t,r){var l=r(11),u=r(12).f,h=r(26),f=r(29),d=r(30),p=r(40),g=r(52);e.exports=function(e,t){var r,a,n,i=e.target,o=e.global,s=e.stat,c=o?l:s?l[i]||d(i,{}):(l[i]||{}).prototype;if(c)for(r in t){if(a=t[r],n=e.noTargetGet?(n=u(c,r))&&n.value:c[r],!g(o?r:i+(s?".":"#")+r,e.forced)&&void 0!==n){if(typeof a==typeof n)continue;p(a,n)}(e.sham||n&&n.sham)&&h(a,"sham",!0),f(c,r,a,e)}}},function(e,t){function r(e){return e&&e.Math==Math&&e}e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof i.g&&i.g)||Function("return this")()},function(e,t,r){var a=r(13),n=r(15),i=r(16),o=r(17),s=r(21),c=r(23),l=r(24),u=Object.getOwnPropertyDescriptor;t.f=a?u:function(e,t){if(e=o(e),t=s(t,!0),l)try{return u(e,t)}catch(e){}if(c(e,t))return i(!n.f.call(e,t),e[t])}},function(e,t,r){r=r(14);e.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){"use strict";var a={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!a.call({1:2},1);t.f=i?function(e){e=n(this,e);return!!e&&e.enumerable}:a},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var a=r(18),n=r(20);e.exports=function(e){return a(n(e))}},function(e,t,r){var a=r(14),n=r(19),i="".split;e.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==n(e)?i.call(e,""):Object(e)}:Object},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,r){var n=r(22);e.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var a=r(13),n=r(14),i=r(25);e.exports=!a&&!n(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var a=r(11),r=r(22),n=a.document,i=r(n)&&r(n.createElement);e.exports=function(e){return i?n.createElement(e):{}}},function(e,t,r){var a=r(13),n=r(27),i=r(16);e.exports=a?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var a=r(13),n=r(24),i=r(28),o=r(21),s=Object.defineProperty;t.f=a?s:function(e,t,r){if(i(e),t=o(t,!0),i(r),n)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var a=r(22);e.exports=function(e){if(!a(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,r){var o=r(11),s=r(26),c=r(23),l=r(30),a=r(31),r=r(33),n=r.get,u=r.enforce,h=String(String).split("String");(e.exports=function(e,t,r,a){var n=!!a&&!!a.unsafe,i=!!a&&!!a.enumerable,a=!!a&&!!a.noTargetGet;"function"==typeof r&&("string"!=typeof t||c(r,"name")||s(r,"name",t),u(r).source=h.join("string"==typeof t?t:"")),e!==o?(n?!a&&e[t]&&(i=!0):delete e[t],i?e[t]=r:s(e,t,r)):i?e[t]=r:l(t,r)})(Function.prototype,"toString",function(){return"function"==typeof this&&n(this).source||a(this)})},function(e,t,r){var a=r(11),n=r(26);e.exports=function(t,r){try{n(a,t,r)}catch(e){a[t]=r}return r}},function(e,t,r){var r=r(32),a=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return a.call(e)}),e.exports=r.inspectSource},function(e,t,r){var a=r(11),n=r(30),r="__core-js_shared__",r=a[r]||n(r,{});e.exports=r},function(e,t,r){var a,n,i,o,s,c,l,u,h=r(34),f=r(11),d=r(22),p=r(26),g=r(23),m=r(35),r=r(39),f=f.WeakMap;l=h?(a=new f,n=a.get,i=a.has,o=a.set,s=function(e,t){return o.call(a,e,t),t},c=function(e){return n.call(a,e)||{}},function(e){return i.call(a,e)}):(r[u=m("state")]=!0,s=function(e,t){return p(e,u,t),t},c=function(e){return g(e,u)?e[u]:{}},function(e){return g(e,u)}),e.exports={set:s,get:c,has:l,enforce:function(e){return l(e)?c(e):s(e,{})},getterFor:function(r){return function(e){var t;if(!d(e)||(t=c(e)).type!==r)throw TypeError("Incompatible receiver, "+r+" required");return t}}}},function(e,t,r){var a=r(11),r=r(31),a=a.WeakMap;e.exports="function"==typeof a&&/native code/.test(r(a))},function(e,t,r){var a=r(36),n=r(38),i=a("keys");e.exports=function(e){return i[e]||(i[e]=n(e))}},function(e,t,r){var a=r(37),n=r(32);(e.exports=function(e,t){return n[e]||(n[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t){var r=0,a=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+a).toString(36)}},function(e,t){e.exports={}},function(e,t,r){var s=r(23),c=r(41),l=r(12),u=r(27);e.exports=function(e,t){for(var r=c(t),a=u.f,n=l.f,i=0;i<r.length;i++){var o=r[i];s(e,o)||a(e,o,n(t,o))}}},function(e,t,r){var a=r(42),n=r(44),i=r(51),o=r(28);e.exports=a("Reflect","ownKeys")||function(e){var t=n.f(o(e)),r=i.f;return r?t.concat(r(e)):t}},function(e,t,r){function a(e){return"function"==typeof e?e:void 0}var n=r(43),i=r(11);e.exports=function(e,t){return arguments.length<2?a(n[e])||a(i[e]):n[e]&&n[e][t]||i[e]&&i[e][t]}},function(e,t,r){r=r(11);e.exports=r},function(e,t,r){var a=r(45),n=r(50).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,n)}},function(e,t,r){var o=r(23),s=r(17),c=r(46).indexOf,l=r(39);e.exports=function(e,t){var r,a=s(e),n=0,i=[];for(r in a)!o(l,r)&&o(a,r)&&i.push(r);for(;t.length>n;)o(a,r=t[n++])&&(~c(i,r)||i.push(r));return i}},function(e,t,r){var c=r(17),l=r(47),u=r(49),r=function(s){return function(e,t,r){var a,n=c(e),i=l(n.length),o=u(r,i);if(s&&t!=t){for(;o<i;)if((a=n[o++])!=a)return!0}else for(;o<i;o++)if((s||o in n)&&n[o]===t)return s||o||0;return!s&&-1}};e.exports={includes:r(!0),indexOf:r(!1)}},function(e,t,r){var a=r(48),n=Math.min;e.exports=function(e){return 0<e?n(a(e),9007199254740991):0}},function(e,t){var r=Math.ceil,a=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?a:r)(e)}},function(e,t,r){var a=r(48),n=Math.max,i=Math.min;e.exports=function(e,t){e=a(e);return e<0?n(e+t,0):i(e,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var a=r(14),n=/#|\\.prototype\\./,r=function(e,t){e=o[i(e)];return e==c||e!=s&&("function"==typeof t?a(t):!!t)},i=r.normalize=function(e){return String(e).replace(n,".").toLowerCase()},o=r.data={},s=r.NATIVE="N",c=r.POLYFILL="P";e.exports=r},function(e,t,r){r(54);r=r(61);e.exports=r("String","startsWith")},function(e,t,r){"use strict";var a=r(10),n=r(12).f,i=r(47),o=r(55),s=r(20),c=r(60),r=r(37),l="".startsWith,u=Math.min,c=c("startsWith");a({target:"String",proto:!0,forced:!!(r||c||(!(n=n(String.prototype,"startsWith"))||n.writable))&&!c},{startsWith:function(e){var t=String(s(this));o(e);var r=i(u(1<arguments.length?arguments[1]:void 0,t.length)),e=String(e);return l?l.call(t,e,r):t.slice(r,r+e.length)===e}})},function(e,t,r){var a=r(56);e.exports=function(e){if(a(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,r){var a=r(22),n=r(19),i=r(57)("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==n(e))}},function(e,t,r){var a=r(11),n=r(36),i=r(23),o=r(38),s=r(58),r=r(59),c=n("wks"),l=a.Symbol,u=r?l:l&&l.withoutSetter||o;e.exports=function(e){return i(c,e)||(s&&i(l,e)?c[e]=l[e]:c[e]=u("Symbol."+e)),c[e]}},function(e,t,r){r=r(14);e.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(e,t,r){r=r(58);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,r){var a=r(57)("match");e.exports=function(t){var r=/./;try{"/./"[t](r)}catch(e){try{return r[a]=!1,"/./"[t](r)}catch(e){}}return!1}},function(e,t,r){var a=r(11),n=r(62),i=Function.call;e.exports=function(e,t,r){return n(i,a[e].prototype[t],r)}},function(e,t,r){var i=r(63);e.exports=function(a,n,e){if(i(a),void 0===n)return a;switch(e){case 0:return function(){return a.call(n)};case 1:return function(e){return a.call(n,e)};case 2:return function(e,t){return a.call(n,e,t)};case 3:return function(e,t,r){return a.call(n,e,t,r)}}return function(){return a.apply(n,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,r){r(65);r=r(61);e.exports=r("String","endsWith")},function(e,t,r){"use strict";var a=r(10),n=r(12).f,i=r(47),o=r(55),s=r(20),c=r(60),r=r(37),l="".endsWith,u=Math.min,c=c("endsWith");a({target:"String",proto:!0,forced:!!(r||c||(!(n=n(String.prototype,"endsWith"))||n.writable))&&!c},{endsWith:function(e){var t=String(s(this));o(e);var r=1<arguments.length?arguments[1]:void 0,a=i(t.length),a=void 0===r?a:u(i(r),a),e=String(e);return l?l.call(t,e,a):t.slice(a-e.length,a)===e}})},function(e,t,r){r(67);r=r(61);e.exports=r("String","includes")},function(e,t,r){"use strict";var a=r(10),n=r(55),i=r(20);a({target:"String",proto:!0,forced:!r(60)("includes")},{includes:function(e){return!!~String(i(this)).indexOf(n(e),1<arguments.length?arguments[1]:void 0)}})},function(e,t,r){r(69);r=r(61);e.exports=r("Array","includes")},function(e,t,r){"use strict";var a=r(10),n=r(46).includes,i=r(70);a({target:"Array",proto:!0,forced:!r(75)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return n(this,e,1<arguments.length?arguments[1]:void 0)}}),i("includes")},function(e,t,r){var a=r(57),n=r(71),r=r(27),i=a("unscopables"),o=Array.prototype;null==o[i]&&r.f(o,i,{configurable:!0,value:n(null)}),e.exports=function(e){o[i][e]=!0}},function(e,t,r){function a(){}var n,i=r(28),o=r(72),s=r(50),c=r(39),l=r(74),u=r(25),r=r(35),h="prototype",f="script",d=r("IE_PROTO"),p=function(e){return"<"+f+">"+e+"</"+f+">"},g=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;g=n?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):(e=u("iframe"),t="java"+f+":",e.style.display="none",l.appendChild(e),e.src=String(t),(e=e.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var r=s.length;r--;)delete g[h][s[r]];return g()};c[d]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(a[h]=i(e),r=new a,a[h]=null,r[d]=e):r=g(),void 0===t?r:o(r,t)}},function(e,t,r){var a=r(13),o=r(27),s=r(28),c=r(73);e.exports=a?Object.defineProperties:function(e,t){s(e);for(var r,a=c(t),n=a.length,i=0;i<n;)o.f(e,r=a[i++],t[r]);return e}},function(e,t,r){var a=r(45),n=r(50);e.exports=Object.keys||function(e){return a(e,n)}},function(e,t,r){r=r(42);e.exports=r("document","documentElement")},function(e,t,r){function o(e){throw e}var s=r(13),c=r(14),l=r(23),u=Object.defineProperty,h={};e.exports=function(e,t){if(l(h,e))return h[e];var r=[][e],a=!!l(t=t||{},"ACCESSORS")&&t.ACCESSORS,n=l(t,0)?t[0]:o,i=l(t,1)?t[1]:void 0;return h[e]=!!r&&!c(function(){if(a&&!s)return!0;var e={length:-1};a?u(e,1,{enumerable:!0,get:o}):e[1]=1,r.call(e,n,i)})}},function(e,t,r){r(77),r(89);r=r(43);e.exports=r.Array.from},function(e,t,r){"use strict";var a=r(78).charAt,n=r(33),r=r(79),i="String Iterator",o=n.set,s=n.getterFor(i);r(String,"String",function(e){o(this,{type:i,string:String(e),index:0})},function(){var e=s(this),t=e.string,r=e.index;return r>=t.length?{value:void 0,done:!0}:(r=a(t,r),e.index+=r.length,{value:r,done:!1})})},function(e,t,r){var o=r(48),s=r(20),r=function(i){return function(e,t){var r,a=String(s(e)),n=o(t),e=a.length;return n<0||e<=n?i?"":void 0:(t=a.charCodeAt(n))<55296||56319<t||n+1===e||(r=a.charCodeAt(n+1))<56320||57343<r?i?a.charAt(n):t:i?a.slice(n,n+2):r-56320+(t-55296<<10)+65536}};e.exports={codeAt:r(!1),charAt:r(!0)}},function(e,t,r){"use strict";function g(){return this}var m=r(10),b=r(80),v=r(82),y=r(87),w=r(85),k=r(26),S=r(29),a=r(57),x=r(37),C=r(86),r=r(81),A=r.IteratorPrototype,I=r.BUGGY_SAFARI_ITERATORS,T=a("iterator"),O="values",E="entries";e.exports=function(e,t,r,a,n,i,o){b(r,t,a);function s(e){if(e===n&&p)return p;if(!I&&e in f)return f[e];switch(e){case"keys":case O:case E:return function(){return new r(this,e)}}return function(){return new r(this)}}var c,l,u=t+" Iterator",h=!1,f=e.prototype,d=f[T]||f["@@iterator"]||n&&f[n],p=!I&&d||s(n),a="Array"==t&&f.entries||d;if(a&&(e=v(a.call(new e)),A!==Object.prototype&&e.next&&(x||v(e)===A||(y?y(e,A):"function"!=typeof e[T]&&k(e,T,g)),w(e,u,!0,!0),x&&(C[u]=g))),n==O&&d&&d.name!==O&&(h=!0,p=function(){return d.call(this)}),x&&!o||f[T]===p||k(f,T,p),C[t]=p,n)if(c={values:s(O),keys:i?p:s("keys"),entries:s(E)},o)for(l in c)!I&&!h&&l in f||S(f,l,c[l]);else m({target:t,proto:!0,forced:I||h},c);return c}},function(e,t,r){"use strict";function a(){return this}var n=r(81).IteratorPrototype,i=r(71),o=r(16),s=r(85),c=r(86);e.exports=function(e,t,r){t+=" Iterator";return e.prototype=i(n,{next:o(1,r)}),s(e,t,!1,!0),c[t]=a,e}},function(e,t,r){"use strict";var a,n=r(82),i=r(26),o=r(23),s=r(57),c=r(37),l=s("iterator"),r=!1;[].keys&&("next"in(s=[].keys())?(s=n(n(s)))!==Object.prototype&&(a=s):r=!0),null==a&&(a={}),c||o(a,l)||i(a,l,function(){return this}),e.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:r}},function(e,t,r){var a=r(23),n=r(83),i=r(35),r=r(84),o=i("IE_PROTO"),s=Object.prototype;e.exports=r?Object.getPrototypeOf:function(e){return e=n(e),a(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,r){var a=r(20);e.exports=function(e){return Object(a(e))}},function(e,t,r){r=r(14);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},function(e,t,r){var a=r(27).f,n=r(23),i=r(57)("toStringTag");e.exports=function(e,t,r){e&&!n(e=r?e:e.prototype,i)&&a(e,i,{configurable:!0,value:t})}},function(e,t){e.exports={}},function(e,t,r){var n=r(28),i=r(88);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var r,a=!1,e={};try{(r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),a=e instanceof Array}catch(e){}return function(e,t){return n(e),i(t),a?r.call(e,t):e.__proto__=t,e}}():void 0)},function(e,t,r){var a=r(22);e.exports=function(e){if(!a(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,r){var a=r(10),n=r(90);a({target:"Array",stat:!0,forced:!r(97)(function(e){Array.from(e)})},{from:n})},function(e,t,r){"use strict";var d=r(62),p=r(83),g=r(91),m=r(92),b=r(47),v=r(93),y=r(94);e.exports=function(e){var t,r,a,n,i,o,s=p(e),c="function"==typeof this?this:Array,l=arguments.length,u=1<l?arguments[1]:void 0,h=void 0!==u,e=y(s),f=0;if(h&&(u=d(u,2<l?arguments[2]:void 0,2)),null==e||c==Array&&m(e))for(r=new c(t=b(s.length));f<t;f++)o=h?u(s[f],f):s[f],v(r,f,o);else for(i=(n=e.call(s)).next,r=new c;!(a=i.call(n)).done;f++)o=h?g(n,u,[a.value,f],!0):a.value,v(r,f,o);return r.length=f,r}},function(e,t,r){var n=r(28);e.exports=function(t,e,r,a){try{return a?e(n(r)[0],r[1]):e(r)}catch(e){r=t.return;throw void 0!==r&&n(r.call(t)),e}}},function(e,t,r){var a=r(57),n=r(86),i=a("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)}},function(e,t,r){"use strict";var a=r(21),n=r(27),i=r(16);e.exports=function(e,t,r){t=a(t);t in e?n.f(e,t,i(0,r)):e[t]=r}},function(e,t,r){var a=r(95),n=r(86),i=r(57)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||n[a(e)]}},function(e,t,r){var a=r(96),n=r(19),i=r(57)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=a?n:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(e=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?e:o?n(t):"Object"==(e=n(t))&&"function"==typeof t.callee?"Arguments":e}},function(e,t,r){var a={};a[r(57)("toStringTag")]="z",e.exports="[object z]"===String(a)},function(e,t,r){var n=r(57)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[n]=function(){return this},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var a={};a[n]=function(){return{next:function(){return{done:r=!0}}}},e(a)}catch(e){}return r}},function(e,t,r){r(99);r=r(43);e.exports=r.Object.assign},function(e,t,r){var a=r(10),r=r(100);a({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(e,t,r){"use strict";var f=r(13),a=r(14),d=r(73),p=r(51),g=r(15),m=r(83),b=r(18),n=Object.assign,i=Object.defineProperty;e.exports=!n||a(function(){if(f&&1!==n({b:1},n(i({},"a",{enumerable:!0,get:function(){i(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),a="abcdefghijklmnopqrst";return e[r]=7,a.split("").forEach(function(e){t[e]=e}),7!=n({},e)[r]||d(n({},t)).join("")!=a})?function(e,t){for(var r=m(e),a=arguments.length,n=1,i=p.f,o=g.f;n<a;)for(var s,c=b(arguments[n++]),l=i?d(c).concat(i(c)):d(c),u=l.length,h=0;h<u;)s=l[h++],f&&!o.call(c,s)||(r[s]=c[s]);return r}:n},function(e,t,r){r(102);r=r(43);e.exports=r.Math.log2},function(e,t,r){var r=r(10),a=Math.log,n=Math.LN2;r({target:"Math",stat:!0},{log2:function(e){return a(e)/n}})},function(e,t,r){r(104);r=r(43);e.exports=r.Number.isNaN},function(e,t,r){r(10)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},function(e,t,r){r(106);r=r(43);e.exports=r.Number.isInteger},function(e,t,r){r(10)({target:"Number",stat:!0},{isInteger:r(107)})},function(e,t,r){var a=r(22),n=Math.floor;e.exports=function(e){return!a(e)&&isFinite(e)&&n(e)===e}},function(e,t,r){r(109)},function(e,t,r){"use strict";var a=r(110),o=r(112),r=r(14),s=a.aTypedArray,c=a.aTypedArrayConstructor,a=a.exportTypedArrayMethod,l=[].slice;a("slice",function(e,t){for(var r=l.call(s(this),e,t),t=o(this,this.constructor),a=0,n=r.length,i=new(c(t))(n);a<n;)i[a]=r[a++];return i},r(function(){new Int8Array(1).slice()}))},function(e,t,r){"use strict";function a(e){return c(e)&&l(I,u(e))}var n,i=r(111),o=r(13),s=r(11),c=r(22),l=r(23),u=r(95),h=r(26),f=r(29),d=r(27).f,p=r(82),g=r(87),m=r(57),b=r(38),v=s.Int8Array,y=v&&v.prototype,w=s.Uint8ClampedArray,r=w&&w.prototype,k=v&&p(v),S=y&&p(y),w=Object.prototype,x=w.isPrototypeOf,m=m("toStringTag"),C=b("TYPED_ARRAY_TAG"),A=i&&!!g&&"Opera"!==u(s.opera),i=!1,I={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(n in I)s[n]||(A=!1);if((!A||"function"!=typeof k||k===Function.prototype)&&(k=function(){throw TypeError("Incorrect invocation")},A))for(n in I)s[n]&&g(s[n],k);if((!A||!S||S===w)&&(S=k.prototype,A))for(n in I)s[n]&&g(s[n].prototype,S);if(A&&p(r)!==S&&g(r,S),o&&!l(S,m))for(n in i=!0,d(S,m,{get:function(){return c(this)?this[C]:void 0}}),I)s[n]&&h(s[n],C,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:A,TYPED_ARRAY_TAG:i&&C,aTypedArray:function(e){if(a(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(g){if(x.call(k,e))return e}else for(var t in I)if(l(I,n)){t=s[t];if(t&&(e===t||x.call(t,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r){if(o){if(r)for(var a in I){a=s[a];a&&l(a.prototype,e)&&delete a.prototype[e]}S[e]&&!r||f(S,e,!r&&A&&y[e]||t)}},exportTypedArrayStaticMethod:function(e,t,r){var a,n;if(o){if(g){if(r)for(a in I)(n=s[a])&&l(n,e)&&delete n[e];if(k[e]&&!r)return;try{return f(k,e,!r&&A&&v[e]||t)}catch(e){}}for(a in I)!(n=s[a])||n[e]&&!r||f(n,e,t)}},isView:function(e){e=u(e);return"DataView"===e||l(I,e)},isTypedArray:a,TypedArray:k,TypedArrayPrototype:S}},function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(e,t,r){var a=r(28),n=r(63),i=r(57)("species");e.exports=function(e,t){var r,e=a(e).constructor;return void 0===e||null==(r=a(e)[i])?t:n(r)}},function(e,t,r){r(114),r(77),r(116),r(119),r(134),r(135);r=r(43);e.exports=r.Promise},function(e,t,r){var a=r(96),n=r(29),r=r(115);a||n(Object.prototype,"toString",r,{unsafe:!0})},function(e,t,r){"use strict";var a=r(96),n=r(95);e.exports=a?{}.toString:function(){return"[object "+n(this)+"]"}},function(e,t,r){var a,n=r(11),i=r(117),o=r(118),s=r(26),r=r(57),c=r("iterator"),l=r("toStringTag"),u=o.values;for(a in i){var h=n[a],f=h&&h.prototype;if(f){if(f[c]!==u)try{s(f,c,u)}catch(e){f[c]=u}if(f[l]||s(f,l,a),i[a])for(var d in o)if(f[d]!==o[d])try{s(f,d,o[d])}catch(e){f[d]=o[d]}}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,r){"use strict";var a=r(17),n=r(70),i=r(86),o=r(33),r=r(79),s="Array Iterator",c=o.set,l=o.getterFor(s);e.exports=r(Array,"Array",function(e,t){c(this,{type:s,target:a(e),index:0,kind:t})},function(){var e=l(this),t=e.target,r=e.kind,a=e.index++;return!t||a>=t.length?{value:e.target=void 0,done:!0}:"keys"==r?{value:a,done:!1}:"values"==r?{value:t[a],done:!1}:{value:[a,t[a]],done:!1}},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t,r){"use strict";var a,n,i,o,s=r(10),c=r(37),b=r(11),l=r(42),u=r(120),h=r(29),f=r(121),d=r(85),p=r(122),g=r(22),m=r(63),v=r(123),y=r(19),w=r(31),k=r(124),S=r(97),x=r(112),C=r(125).set,A=r(128),I=r(129),T=r(131),O=r(130),E=r(132),P=r(33),F=r(52),R=r(57),_=r(133),B=R("species"),M="Promise",L=P.get,D=P.set,N=P.getterFor(M),U=u,j=b.TypeError,q=b.document,z=b.process,G=l("fetch"),H=O.f,W=H,X="process"==y(z),V=!!(q&&q.createEvent&&b.dispatchEvent),Y="unhandledrejection",K="rejectionhandled",J=1,Z=2,Q=1,$=2,F=F(M,function(){if(!(w(U)!==String(U))){if(66===_)return!0;if(!X&&"function"!=typeof PromiseRejectionEvent)return!0}if(c&&!U.prototype.finally)return!0;if(51<=_&&/native code/.test(U))return!1;function e(e){e(function(){},function(){})}var t=U.resolve(1);return(t.constructor={})[B]=e,!(t.then(function(){})instanceof e)}),S=F||!S(function(e){U.all(e).catch(function(){})}),ee=function(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t},te=function(d,p,g){var m;p.notified||(p.notified=!0,m=p.reactions,A(function(){for(var a,n,e=p.value,t=p.state==J,r=0;m.length>r;){var i,o,s,c=m[r++],l=t?c.ok:c.fail,u=c.resolve,h=c.reject,f=c.domain;try{l?(t||(p.rejection===$&&function(e,t){C.call(b,function(){if(X)z.emit("rejectionHandled",e);else re(K,e,t.value)})}(d,p),p.rejection=Q),!0===l?i=e:(f&&f.enter(),i=l(e),f&&(f.exit(),s=!0)),i===c.promise?h(j("Promise-chain cycle")):(o=ee(i))?o.call(i,u,h):u(i)):h(e)}catch(e){f&&!s&&f.exit(),h(e)}}p.reactions=[],p.notified=!1,g&&!p.rejection&&(a=d,n=p,C.call(b,function(){var e,t=n.value,r=ae(n);if(r&&(e=E(function(){X?z.emit("unhandledRejection",t,a):re(Y,a,t)}),n.rejection=X||ae(n)?$:Q,e.error))throw e.value}))}))},re=function(e,t,r){var a;V?((a=q.createEvent("Event")).promise=t,a.reason=r,a.initEvent(e,!1,!0),b.dispatchEvent(a)):a={promise:t,reason:r},(t=b["on"+e])?t(a):e===Y&&T("Unhandled promise rejection",r)},ae=function(e){return e.rejection!==Q&&!e.parent},ne=function(t,r,a,n){return function(e){t(r,a,e,n)}},ie=function(e,t,r,a){t.done||(t.done=!0,(t=a?a:t).value=r,t.state=Z,te(e,t,!0))},oe=function(r,a,e,t){if(!a.done){a.done=!0,t&&(a=t);try{if(r===e)throw j("Promise can't be resolved itself");var n=ee(e);n?A(function(){var t={done:!1};try{n.call(e,ne(oe,r,t,a),ne(ie,r,t,a))}catch(e){ie(r,t,e,a)}}):(a.value=e,a.state=J,te(r,a,!1))}catch(e){ie(r,{done:!1},e,a)}}};F&&(U=function(e){v(this,U,M),m(e),a.call(this);var t=L(this);try{e(ne(oe,this,t),ne(ie,this,t))}catch(e){ie(this,t,e)}},(a=function(e){D(this,{type:M,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(U.prototype,{then:function(e,t){var r=N(this),a=H(x(this,U));return a.ok="function"!=typeof e||e,a.fail="function"==typeof t&&t,a.domain=X?z.domain:void 0,r.parent=!0,r.reactions.push(a),0!=r.state&&te(this,r,!1),a.promise},catch:function(e){return this.then(void 0,e)}}),n=function(){var e=new a,t=L(e);this.promise=e,this.resolve=ne(oe,e,t),this.reject=ne(ie,e,t)},O.f=H=function(e){return e===U||e===i?new n:W(e)},c||"function"!=typeof u||(o=u.prototype.then,h(u.prototype,"then",function(e,t){var r=this;return new U(function(e,t){o.call(r,e,t)}).then(e,t)},{unsafe:!0}),"function"==typeof G&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return I(U,G.apply(b,arguments))}}))),s({global:!0,wrap:!0,forced:F},{Promise:U}),d(U,M,!1,!0),p(M),i=l(M),s({target:M,stat:!0,forced:F},{reject:function(e){var t=H(this);return t.reject.call(void 0,e),t.promise}}),s({target:M,stat:!0,forced:c||F},{resolve:function(e){return I(c&&this===i?U:this,e)}}),s({target:M,stat:!0,forced:S},{all:function(e){var s=this,t=H(s),c=t.resolve,l=t.reject,r=E(function(){var a=m(s.resolve),n=[],i=0,o=1;k(e,function(e){var t=i++,r=!1;n.push(void 0),o++,a.call(s,e).then(function(e){r||(r=!0,n[t]=e,--o||c(n))},l)}),--o||c(n)});return r.error&&l(r.value),t.promise},race:function(e){var r=this,a=H(r),n=a.reject,t=E(function(){var t=m(r.resolve);k(e,function(e){t.call(r,e).then(a.resolve,n)})});return t.error&&n(t.value),a.promise}})},function(e,t,r){r=r(11);e.exports=r.Promise},function(e,t,r){var n=r(29);e.exports=function(e,t,r){for(var a in t)n(e,a,t[a],r);return e}},function(e,t,r){"use strict";var a=r(42),n=r(27),i=r(57),o=r(13),s=i("species");e.exports=function(e){var t=a(e),e=n.f;o&&t&&!t[s]&&e(t,s,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},function(e,t,r){function f(e,t){this.stopped=e,this.result=t}var d=r(28),p=r(92),g=r(47),m=r(62),b=r(94),v=r(91);(e.exports=function(e,t,r,a,n){var i,o,s,c,l,u,h=m(t,r,a?2:1);if(n)i=e;else{if("function"!=typeof(n=b(e)))throw TypeError("Target is not iterable");if(p(n)){for(o=0,s=g(e.length);o<s;o++)if((c=a?h(d(u=e[o])[0],u[1]):h(e[o]))&&c instanceof f)return c;return new f(!1)}i=n.call(e)}for(l=i.next;!(u=l.call(i)).done;)if("object"==typeof(c=v(i,h,u.value,a))&&c&&c instanceof f)return c;return new f(!1)}).stop=function(e){return new f(!0,e)}},function(e,t,r){function a(e){return function(){S(e)}}function n(e){S(e.data)}var i,o=r(11),s=r(14),c=r(19),l=r(62),u=r(74),h=r(25),f=r(126),d=o.location,p=o.setImmediate,g=o.clearImmediate,m=o.process,b=o.MessageChannel,v=o.Dispatch,y=0,w={},k="onreadystatechange",S=function(e){var t;w.hasOwnProperty(e)&&(t=w[e],delete w[e],t())},r=function(e){o.postMessage(e+"",d.protocol+"//"+d.host)};p&&g||(p=function(e){for(var t=[],r=1;r<arguments.length;)t.push(arguments[r++]);return w[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(y),y},g=function(e){delete w[e]},"process"==c(m)?i=function(e){m.nextTick(a(e))}:v&&v.now?i=function(e){v.now(a(e))}:b&&!f?(b=(f=new b).port2,f.port1.onmessage=n,i=l(b.postMessage,b,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||s(r)||"file:"===d.protocol?i=k in h("script")?function(e){u.appendChild(h("script"))[k]=function(){u.removeChild(this),S(e)}}:function(e){setTimeout(a(e),0)}:(i=r,o.addEventListener("message",n,!1))),e.exports={set:p,clear:g}},function(e,t,r){r=r(127);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,r){r=r(42);e.exports=r("navigator","userAgent")||""},function(e,t,r){var a,n,i,o,s,c,l,u,h=r(11),f=r(12).f,d=r(19),p=r(125).set,g=r(126),m=h.MutationObserver||h.WebKitMutationObserver,b=h.process,r=h.Promise,v="process"==d(b),f=f(h,"queueMicrotask"),f=f&&f.value;f||(a=function(){var e,t;for(v&&(e=b.domain)&&e.exit();n;){t=n.fn,n=n.next;try{t()}catch(e){throw n?o():i=void 0,e}}i=void 0,e&&e.enter()},o=v?function(){b.nextTick(a)}:m&&!g?(s=!0,c=document.createTextNode(""),new m(a).observe(c,{characterData:!0}),function(){c.data=s=!s}):r&&r.resolve?(l=r.resolve(void 0),u=l.then,function(){u.call(l,a)}):function(){p.call(h,a)}),e.exports=f||function(e){e={fn:e,next:void 0};i&&(i.next=e),n||(n=e,o()),i=e}},function(e,t,r){var a=r(28),n=r(22),i=r(130);e.exports=function(e,t){if(a(e),n(t)&&t.constructor===e)return t;e=i.f(e);return(0,e.resolve)(t),e.promise}},function(e,t,r){"use strict";function a(e){var r,a;this.promise=new e(function(e,t){if(void 0!==r||void 0!==a)throw TypeError("Bad Promise constructor");r=e,a=t}),this.resolve=n(r),this.reject=n(a)}var n=r(63);e.exports.f=function(e){return new a(e)}},function(e,t,r){var a=r(11);e.exports=function(e,t){var r=a.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,r){var a,n,i=r(11),r=r(127),i=i.process,i=i&&i.versions,i=i&&i.v8;i?n=(a=i.split("."))[0]+a[1]:r&&(!(a=r.match(/Edge\\/(\\d+)/))||74<=a[1])&&(a=r.match(/Chrome\\/(\\d+)/))&&(n=a[1]),e.exports=n&&+n},function(e,t,r){"use strict";var a=r(10),l=r(63),n=r(130),i=r(132),u=r(124);a({target:"Promise",stat:!0},{allSettled:function(e){var s=this,t=n.f(s),c=t.resolve,r=t.reject,a=i(function(){var a=l(s.resolve),n=[],i=0,o=1;u(e,function(e){var t=i++,r=!1;n.push(void 0),o++,a.call(s,e).then(function(e){r||(r=!0,n[t]={status:"fulfilled",value:e},--o||c(n))},function(e){r||(r=!0,n[t]={status:"rejected",reason:e},--o||c(n))})}),--o||c(n)});return a.error&&r(a.value),t.promise}})},function(e,t,r){"use strict";var a=r(10),n=r(37),i=r(120),o=r(14),s=r(42),c=r(112),l=r(129),r=r(29);a({target:"Promise",proto:!0,real:!0,forced:!!i&&o(function(){i.prototype.finally.call({then:function(){}},function(){})})},{finally:function(t){var r=c(this,s("Promise")),e="function"==typeof t;return this.then(e?function(e){return l(r,t()).then(function(){return e})}:t,e?function(e){return l(r,t()).then(function(){throw e})}:t)}}),n||"function"!=typeof i||i.prototype.finally||r(i.prototype,"finally",s("Promise").prototype.finally)},function(e,t,r){r(137),r(142),r(140);r=r(43);e.exports=r.URL},function(e,t,r){"use strict";r(77);function u(e){var t,r,a,n;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=E(e/256);return t.join(".")}if("object"!=typeof e)return e;for(t="",a=V(e),r=0;r<8;r++)n&&0===e[r]||(n=n&&!1,a===r?(t+=r?":":"::",n=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}function n(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme}function s(e,t,r,a){var n,i,o,s=r||se,c=0,l="",u=!1,h=!1,f=!1;for(r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(H,"")),t=t.replace(W,""),n=y(t);c<=n.length;){switch(i=n[c],s){case se:if(!i||!M.test(i)){if(r)return R;s=le;continue}l+=i.toLowerCase(),s=ce;break;case ce:if(i&&(L.test(i)||"+"==i||"-"==i||"."==i))l+=i.toLowerCase();else{if(":"!=i){if(r)return R;l="",s=le,c=0;continue}if(r&&(ee(e)!=v($,l)||"file"==l&&(te(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=l,r)return void(ee(e)&&$[e.scheme]==e.port&&(e.port=null));l="","file"==e.scheme?s=we:ee(e)&&a&&a.scheme==e.scheme?s=ue:ee(e)?s=pe:"/"==n[c+1]?(s=he,c++):(e.cannotBeABaseURL=!0,e.path.push(""),s=Ae)}break;case le:if(!a||a.cannotBeABaseURL&&"#"!=i)return R;if(a.cannotBeABaseURL&&"#"==i){e.scheme=a.scheme,e.path=a.path.slice(),e.query=a.query,e.fragment="",e.cannotBeABaseURL=!0,s=Te;break}s="file"==a.scheme?we:fe;continue;case ue:if("/"!=i||"/"!=n[c+1]){s=fe;continue}s=ge,c++;break;case he:if("/"==i){s=me;break}s=Ce;continue;case fe:if(e.scheme=a.scheme,i==b)e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query=a.query;else if("/"==i||"\\\\"==i&&ee(e))s=de;else if("?"==i)e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query="",s=Ie;else{if("#"!=i){e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.path.pop(),s=Ce;continue}e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query=a.query,e.fragment="",s=Te}break;case de:if(!ee(e)||"/"!=i&&"\\\\"!=i){if("/"!=i){e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,s=Ce;continue}s=me}else s=ge;break;case pe:if(s=ge,"/"!=i||"/"!=l.charAt(c+1))continue;c++;break;case ge:if("/"==i||"\\\\"==i)break;s=me;continue;case me:if("@"==i){u&&(l="%40"+l);for(var u=!0,d=y(l),p=0;p<d.length;p++){var g=d[p];":"!=g||f?(g=Q(g,Z),f?e.password+=g:e.username+=g):f=!0}l=""}else if(i==b||"/"==i||"?"==i||"#"==i||"\\\\"==i&&ee(e)){if(u&&""==l)return F;c-=y(l).length+1,l="",s=be}else l+=i;break;case be:case ve:if(r&&"file"==e.scheme){s=Se;continue}if(":"!=i||h){if(i==b||"/"==i||"?"==i||"#"==i||"\\\\"==i&&ee(e)){if(ee(e)&&""==l)return _;if(r&&""==l&&(te(e)||null!==e.port))return;if(o=X(e,l))return o;if(l="",s=xe,r)return;continue}"["==i?h=!0:"]"==i&&(h=!1),l+=i}else{if(""==l)return _;if(o=X(e,l))return o;if(l="",s=ye,r==ve)return}break;case ye:if(!D.test(i)){if(i==b||"/"==i||"?"==i||"#"==i||"\\\\"==i&&ee(e)||r){if(""!=l){var m=parseInt(l,10);if(65535<m)return B;e.port=ee(e)&&m===$[e.scheme]?null:m,l=""}if(r)return;s=xe;continue}return B}l+=i;break;case we:if(e.scheme="file","/"==i||"\\\\"==i)s=ke;else{if(!a||"file"!=a.scheme){s=Ce;continue}if(i==b)e.host=a.host,e.path=a.path.slice(),e.query=a.query;else if("?"==i)e.host=a.host,e.path=a.path.slice(),e.query="",s=Ie;else{if("#"!=i){ae(n.slice(c).join(""))||(e.host=a.host,e.path=a.path.slice(),ne(e)),s=Ce;continue}e.host=a.host,e.path=a.path.slice(),e.query=a.query,e.fragment="",s=Te}}break;case ke:if("/"==i||"\\\\"==i){s=Se;break}a&&"file"==a.scheme&&!ae(n.slice(c).join(""))&&(re(a.path[0],!0)?e.path.push(a.path[0]):e.host=a.host),s=Ce;continue;case Se:if(i==b||"/"==i||"\\\\"==i||"?"==i||"#"==i){if(!r&&re(l))s=Ce;else if(""==l){if(e.host="",r)return;s=xe}else{if(o=X(e,l))return o;if("localhost"==e.host&&(e.host=""),r)return;l="",s=xe}continue}l+=i;break;case xe:if(ee(e)){if(s=Ce,"/"!=i&&"\\\\"!=i)continue}else if(r||"?"!=i)if(r||"#"!=i){if(i!=b&&(s=Ce,"/"!=i))continue}else e.fragment="",s=Te;else e.query="",s=Ie;break;case Ce:if(i==b||"/"==i||"\\\\"==i&&ee(e)||!r&&("?"==i||"#"==i)){if(oe(l)?(ne(e),"/"==i||"\\\\"==i&&ee(e)||e.path.push("")):ie(l)?"/"==i||"\\\\"==i&&ee(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&re(l)&&(e.host&&(e.host=""),l=l.charAt(0)+":"),e.path.push(l)),l="","file"==e.scheme&&(i==b||"?"==i||"#"==i))for(;1<e.path.length&&""===e.path[0];)e.path.shift();"?"==i?(e.query="",s=Ie):"#"==i&&(e.fragment="",s=Te)}else l+=Q(i,J);break;case Ae:"?"==i?(e.query="",s=Ie):"#"==i?(e.fragment="",s=Te):i!=b&&(e.path[0]+=Q(i,Y));break;case Ie:r||"#"!=i?i!=b&&("'"==i&&ee(e)?e.query+="%27":e.query+="#"==i?"%23":Q(i,Y)):(e.fragment="",s=Te);break;case Te:i!=b&&(e.fragment+=Q(i,K))}c++}}function c(e){var t,r=g(this,c,"URL"),a=1<arguments.length?arguments[1]:void 0,e=String(e),n=T(r,{type:"URL"});if(void 0!==a)if(a instanceof c)t=O(a);else if(o=s(t={},String(a)))throw TypeError(o);if(o=s(n,e,null,t))throw TypeError(o);var i=n.searchParams=new A,o=I(i);o.updateSearchParams(n.query),o.updateURL=function(){n.query=String(i)||null},l||(r.href=Oe.call(r),r.origin=Ee.call(r),r.protocol=Pe.call(r),r.username=Fe.call(r),r.password=Re.call(r),r.host=_e.call(r),r.hostname=Be.call(r),r.port=Me.call(r),r.pathname=Le.call(r),r.search=De.call(r),r.searchParams=Ne.call(r),r.hash=Ue.call(r))}var b,a,i,o=r(10),l=r(13),h=r(138),f=r(11),d=r(72),p=r(29),g=r(123),v=r(23),m=r(100),y=r(90),w=r(78).codeAt,k=r(139),S=r(85),x=r(140),r=r(33),C=f.URL,A=x.URLSearchParams,I=x.getState,T=r.set,O=r.getterFor("URL"),E=Math.floor,P=Math.pow,F="Invalid authority",R="Invalid scheme",_="Invalid host",B="Invalid port",M=/[A-Za-z]/,L=/[\\d+-.A-Za-z]/,D=/\\d/,N=/^(0x|0X)/,U=/^[0-7]+$/,j=/^\\d+$/,q=/^[\\dA-Fa-f]+$/,z=/[\\u0000\\u0009\\u000A\\u000D #%/:?@[\\\\]]/,G=/[\\u0000\\u0009\\u000A\\u000D #/:?@[\\\\]]/,H=/^[\\u0000-\\u001F ]+|[\\u0000-\\u001F ]+$/g,W=/[\\u0009\\u000A\\u000D]/g,X=function(e,t){var r,a,n;if("["==t.charAt(0))return"]"==t.charAt(t.length-1)&&(r=function(e){var t=[0,0,0,0,0,0,0,0],r=0,a=null,n=0,i,o,s,c,l,u,h,f=function(){return e.charAt(n)};if(f()==":"){if(e.charAt(1)!=":")return;n+=2;r++;a=r}while(f()){if(r==8)return;if(f()==":"){if(a!==null)return;n++;r++;a=r;continue}i=o=0;while(o<4&&q.test(f())){i=i*16+parseInt(f(),16);n++;o++}if(f()=="."){if(o==0)return;n-=o;if(r>6)return;s=0;while(f()){c=null;if(s>0)if(f()=="."&&s<4)n++;else return;if(!D.test(f()))return;while(D.test(f())){l=parseInt(f(),10);if(c===null)c=l;else if(c==0)return;else c=c*10+l;if(c>255)return;n++}t[r]=t[r]*256+c;s++;if(s==2||s==4)r++}if(s!=4)return;break}else if(f()==":"){n++;if(!f())return}else if(f())return;t[r++]=i}if(a!==null){u=r-a;r=7;while(r!=0&&u>0){h=t[r];t[r--]=t[a+u-1];t[a+--u]=h}}else if(r!=8)return;return t}(t.slice(1,-1)))?void(e.host=r):_;if(ee(e))return t=k(t),z.test(t)||null===(r=function(e){var t=e.split("."),r,a,n,i,o,s,c;if(t.length&&t[t.length-1]=="")t.pop();if((r=t.length)>4)return e;for(a=[],n=0;n<r;n++){i=t[n];if(i=="")return e;o=10;if(i.length>1&&i.charAt(0)=="0"){o=N.test(i)?16:8;i=i.slice(o==8?1:2)}if(i==="")s=0;else{if(!(o==10?j:o==8?U:q).test(i))return e;s=parseInt(i,o)}a.push(s)}for(n=0;n<r;n++){s=a[n];if(n==r-1){if(s>=P(256,5-r))return null}else if(s>255)return null}for(c=a.pop(),n=0;n<a.length;n++)c+=a[n]*P(256,3-n);return c}(t))?_:void(e.host=r);if(G.test(t))return _;for(r="",a=y(t),n=0;n<a.length;n++)r+=Q(a[n],Y);e.host=r},V=function(e){for(var t=null,r=1,a=null,n=0,i=0;i<8;i++)0!==e[i]?(r<n&&(t=a,r=n),a=null,n=0):(null===a&&(a=i),++n);return r<n&&(t=a,r=n),t},Y={},K=m({},Y,{" ":1,'"':1,"<":1,">":1,"\`":1}),J=m({},K,{"#":1,"?":1,"{":1,"}":1}),Z=m({},J,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\\\":1,"]":1,"^":1,"|":1}),Q=function(e,t){var r=w(e,0);return 32<r&&r<127&&!v(t,e)?e:encodeURIComponent(e)},$={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ee=function(e){return v($,e.scheme)},te=function(e){return""!=e.username||""!=e.password},re=function(e,t){return 2==e.length&&M.test(e.charAt(0))&&(":"==(e=e.charAt(1))||!t&&"|"==e)},ae=function(e){var t;return 1<e.length&&re(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\\\"===t||"?"===t||"#"===t)},ne=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&re(t[0],!0)||t.pop()},ie=function(e){return"."===e||"%2e"===e.toLowerCase()},oe=function(e){return".."===(e=e.toLowerCase())||"%2e."===e||".%2e"===e||"%2e%2e"===e},se={},ce={},le={},ue={},he={},fe={},de={},pe={},ge={},me={},be={},ve={},ye={},we={},ke={},Se={},xe={},Ce={},Ae={},Ie={},Te={},r=c.prototype,Oe=function(){var e=O(this),t=e.scheme,r=e.username,a=e.password,n=e.host,i=e.port,o=e.path,s=e.query,c=e.fragment,l=t+":";return null!==n?(l+="//",te(e)&&(l+=r+(a?":"+a:"")+"@"),l+=u(n),null!==i&&(l+=":"+i)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(l+="?"+s),null!==c&&(l+="#"+c),l},Ee=function(){var e=O(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&ee(e)?t+"://"+u(e.host)+(null!==r?":"+r:""):"null"},Pe=function(){return O(this).scheme+":"},Fe=function(){return O(this).username},Re=function(){return O(this).password},_e=function(){var e=O(this),t=e.host,e=e.port;return null===t?"":null===e?u(t):u(t)+":"+e},Be=function(){var e=O(this).host;return null===e?"":u(e)},Me=function(){var e=O(this).port;return null===e?"":String(e)},Le=function(){var e=O(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},De=function(){var e=O(this).query;return e?"?"+e:""},Ne=function(){return O(this).searchParams},Ue=function(){var e=O(this).fragment;return e?"#"+e:""},m=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};l&&d(r,{href:m(Oe,function(e){var t=O(this),e=String(e),e=s(t,e);if(e)throw TypeError(e);I(t.searchParams).updateSearchParams(t.query)}),origin:m(Ee),protocol:m(Pe,function(e){var t=O(this);s(t,String(e)+":",se)}),username:m(Fe,function(e){var t=O(this),r=y(String(e));if(!n(t)){t.username="";for(var a=0;a<r.length;a++)t.username+=Q(r[a],Z)}}),password:m(Re,function(e){var t=O(this),r=y(String(e));if(!n(t)){t.password="";for(var a=0;a<r.length;a++)t.password+=Q(r[a],Z)}}),host:m(_e,function(e){var t=O(this);t.cannotBeABaseURL||s(t,String(e),be)}),hostname:m(Be,function(e){var t=O(this);t.cannotBeABaseURL||s(t,String(e),ve)}),port:m(Me,function(e){var t=O(this);n(t)||(""==(e=String(e))?t.port=null:s(t,e,ye))}),pathname:m(Le,function(e){var t=O(this);t.cannotBeABaseURL||(t.path=[],s(t,e+"",xe))}),search:m(De,function(e){var t=O(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",s(t,e,Ie)),I(t.searchParams).updateSearchParams(t.query)}),searchParams:m(Ne),hash:m(Ue,function(e){var t=O(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",s(t,e,Te)):t.fragment=null})}),p(r,"toJSON",function(){return Oe.call(this)},{enumerable:!0}),p(r,"toString",function(){return Oe.call(this)},{enumerable:!0}),C&&(a=C.createObjectURL,i=C.revokeObjectURL,a&&p(c,"createObjectURL",function(e){return a.apply(C,arguments)}),i&&p(c,"revokeObjectURL",function(e){return i.apply(C,arguments)})),S(c,"URL"),o({global:!0,forced:!h,sham:!l},{URL:c})},function(e,t,r){var a=r(14),n=r(57),i=r(37),o=n("iterator");e.exports=!a(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),r=e.searchParams,a="";return e.pathname="c%20d",r.forEach(function(e,t){r.delete("b"),a+=t+e}),i&&!e.toJSON||!r.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==r.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!r[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==a||"x"!==new URL("http://x",void 0).host})},function(e,t,r){"use strict";function b(e){return e+22+75*(e<26)}function i(e){var t,r=[],a=(e=function(e){for(var t=[],r=0,a=e.length;r<a;){var n,i=e.charCodeAt(r++);55296<=i&&i<=56319&&r<a?56320==(64512&(n=e.charCodeAt(r++)))?t.push(((1023&i)<<10)+(1023&n)+65536):(t.push(i),r--):t.push(i)}return t}(e)).length,n=128,i=0,o=72;for(u=0;u<e.length;u++)(t=e[u])<128&&r.push(I(t));var s=r.length,c=s;for(s&&r.push("-");c<a;){for(var l=v,u=0;u<e.length;u++)n<=(t=e[u])&&t<l&&(l=t);var h=c+1;if(l-n>A((v-i)/h))throw RangeError(x);for(i+=(l-n)*h,n=l,u=0;u<e.length;u++){if((t=e[u])<n&&++i>v)throw RangeError(x);if(t==n){for(var f=i,d=y;;d+=y){var p=d<=o?1:o+w<=d?w:d-o;if(f<p)break;var g=f-p,m=y-p;r.push(I(b(p+g%m))),f=A(g/m)}r.push(I(b(f))),o=function(e,t,r){var a=0;for(e=r?A(e/S):e>>1,e+=A(e/t);C*w>>1<e;a+=y)e=A(e/C);return A(a+(C+1)*e/(e+k))}(i,h,c==s),i=0,++c}}++i,++n}return r.join("")}var v=2147483647,y=36,w=26,k=38,S=700,o=/[^\\0-\\u007E]/,s=/[.\\u3002\\uFF0E\\uFF61]/g,x="Overflow: input needs wider integers to process",C=y-1,A=Math.floor,I=String.fromCharCode;e.exports=function(e){for(var t,r=[],a=e.toLowerCase().replace(s,".").split("."),n=0;n<a.length;n++)t=a[n],r.push(o.test(t)?"xn--"+i(t):t);return r.join(".")}},function(e,t,r){"use strict";r(118);function n(t){try{return decodeURIComponent(t)}catch(e){return t}}function a(e){return N[e]}function i(e){return encodeURIComponent(e).replace(D,a)}function u(e){this.entries.length=0,U(this.entries,e)}function l(e,t){if(e<t)throw TypeError("Not enough arguments")}function h(){b(this,h,E);var e,t,r,a,n,i,o,s,c=0<arguments.length?arguments[0]:void 0,l=[];if(F(this,{type:E,entries:l,updateURL:function(){},updateSearchParams:u}),void 0!==c)if(S(c))if("function"==typeof(e=I(c)))for(r=(t=e.call(c)).next;!(i=r.call(t)).done;){if((i=(n=(a=A(k(i.value))).next).call(a)).done||(o=n.call(a)).done||!n.call(a).done)throw TypeError("Expected sequence with length 2");l.push({key:i.value+"",value:o.value+""})}else for(s in c)v(c,s)&&l.push({key:s,value:c[s]+""});else U(l,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")}var o=r(10),s=r(42),c=r(138),f=r(29),d=r(121),p=r(85),g=r(80),m=r(33),b=r(123),v=r(23),y=r(62),w=r(95),k=r(28),S=r(22),x=r(71),C=r(16),A=r(141),I=r(94),r=r(57),T=s("fetch"),O=s("Headers"),r=r("iterator"),E="URLSearchParams",P=E+"Iterator",F=m.set,R=m.getterFor(E),_=m.getterFor(P),B=/\\+/g,M=Array(4),L=function(e){var t,r=e.replace(B," "),a=4;try{return decodeURIComponent(r)}catch(e){for(;a;)r=r.replace((t=a--,M[t-1]||(M[t-1]=RegExp("((?:%[\\\\da-f]{2}){"+t+"})","gi"))),n);return r}},D=/[!'()~]|%20/g,N={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},U=function(e,t){if(t)for(var r,a=t.split("&"),n=0;n<a.length;)(r=a[n++]).length&&(r=r.split("="),e.push({key:L(r.shift()),value:L(r.join("="))}))},j=g(function(e,t){F(this,{type:P,iterator:A(R(e).entries),kind:t})},"Iterator",function(){var e=_(this),t=e.kind,r=e.iterator.next(),e=r.value;return r.done||(r.value="keys"===t?e.key:"values"===t?e.value:[e.key,e.value]),r}),g=h.prototype;d(g,{append:function(e,t){l(arguments.length,2);var r=R(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){l(arguments.length,1);for(var t=R(this),r=t.entries,a=e+"",n=0;n<r.length;)r[n].key===a?r.splice(n,1):n++;t.updateURL()},get:function(e){l(arguments.length,1);for(var t=R(this).entries,r=e+"",a=0;a<t.length;a++)if(t[a].key===r)return t[a].value;return null},getAll:function(e){l(arguments.length,1);for(var t=R(this).entries,r=e+"",a=[],n=0;n<t.length;n++)t[n].key===r&&a.push(t[n].value);return a},has:function(e){l(arguments.length,1);for(var t=R(this).entries,r=e+"",a=0;a<t.length;)if(t[a++].key===r)return!0;return!1},set:function(e,t){l(arguments.length,1);for(var r,a=R(this),n=a.entries,i=!1,o=e+"",s=t+"",c=0;c<n.length;c++)(r=n[c]).key===o&&(i?n.splice(c--,1):(i=!0,r.value=s));i||n.push({key:o,value:s}),a.updateURL()},sort:function(){for(var e,t,r=R(this),a=r.entries,n=a.slice(),i=a.length=0;i<n.length;i++){for(e=n[i],t=0;t<i;t++)if(a[t].key>e.key){a.splice(t,0,e);break}t===i&&a.push(e)}r.updateURL()},forEach:function(e){for(var t,r=R(this).entries,a=y(e,1<arguments.length?arguments[1]:void 0,3),n=0;n<r.length;)a((t=r[n++]).value,t.key,this)},keys:function(){return new j(this,"keys")},values:function(){return new j(this,"values")},entries:function(){return new j(this,"entries")}},{enumerable:!0}),f(g,r,g.entries),f(g,"toString",function(){for(var e,t=R(this).entries,r=[],a=0;a<t.length;)e=t[a++],r.push(i(e.key)+"="+i(e.value));return r.join("&")},{enumerable:!0}),p(h,E),o({global:!0,forced:!c},{URLSearchParams:h}),c||"function"!=typeof T||"function"!=typeof O||o({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,a=[e];return 1<arguments.length&&(S(t=arguments[1])&&(r=t.body,w(r)===E&&((e=t.headers?new O(t.headers):new O).has("content-type")||e.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=x(t,{body:C(0,String(r)),headers:C(0,e)}))),a.push(t)),T.apply(this,a)}}),e.exports={URLSearchParams:h,getState:R}},function(e,t,r){var a=r(28),n=r(94);e.exports=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return a(t.call(e))}},function(e,t,r){"use strict";r(10)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(e,t,r){!function(e){"use strict";var t=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?Symbol:function(e){return"Symbol("+e+")"};function S(){}var r=Number.isNaN||function(e){return e!==e},a=S;function n(e){return typeof e==="object"&&e!==null||typeof e==="function"}function m(e){return e.slice()}function d(e,t,r,a,n){new Uint8Array(e).set(new Uint8Array(r,a,n),t)}function i(e){if(o(e)===false)return false;if(e===Infinity)return false;return true}function o(e){if(typeof e!=="number")return false;if(r(e))return false;if(e<0)return false;return true}function s(e,t,r){if(typeof e!=="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function l(r,e,t,a){var n=r[e];if(n!==undefined){if(typeof n!=="function")throw new TypeError(n+" is not a method");switch(t){case 0:return function(){return c(n,r,a)};case 1:return function(e){var t=[e].concat(a);return c(n,r,t)}}}return function(){return C(undefined)}}function p(e,t,r){var a=e[t];if(a===undefined)return undefined;return s(a,e,r)}function c(e,t,r){try{return C(s(e,t,r))}catch(e){return k(e)}}function h(e){return e}function u(e){return false}function g(e){e=Number(e);if(r(e)||e<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return e}function b(t){if(t===undefined)return function(){return 1};if(typeof t!=="function")throw new TypeError("size property of a queuing strategy must be a function");return function(e){return t(e)}}var f=Promise,v=Promise.prototype.then,y=Promise.resolve.bind(f),w=Promise.reject.bind(f);function x(e){return new f(e)}function C(e){return y(e)}function k(e){return w(e)}function A(e,t,r){return v.call(e,t,r)}function I(e,t,r){A(A(e,t,r),undefined,a)}function T(e,t){I(e,t)}function O(e,t){I(e,undefined,t)}function E(e,t,r){return A(e,t,r)}function P(e){A(e,undefined,a)}var F=16384,R=function(){function e(){this._cursor=0;this._size=0;this._front={_elements:[],_next:undefined};this._back=this._front;this._cursor=0;this._size=0}Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:true,configurable:true});e.prototype.push=function(e){var t=this._back;var r=t;if(t._elements.length===F-1)r={_elements:[],_next:undefined};t._elements.push(e);if(r!==t){this._back=r;t._next=r}++this._size};e.prototype.shift=function(){var e=this._front;var t=e;var r=this._cursor;var a=r+1;var n=e._elements;var i=n[r];if(a===F){t=e._next;a=0}--this._size;this._cursor=a;if(e!==t)this._front=t;n[r]=undefined;return i};e.prototype.forEach=function(e){var t=this._cursor;var r=this._front;var a=r._elements;while(t!==a.length||r._next!==undefined){if(t===a.length){r=r._next;a=r._elements;t=0;if(a.length===0)break}e(a[t]);++t}};e.prototype.peek=function(){var e=this._front;var t=this._cursor;return e._elements[t]};return e}();function _(e,t,r){var a=null;if(r===true)a=Object.prototype;var n=Object.create(a);n.value=e;n.done=t;return n}function B(e,t){e._forAuthorCode=true;e._ownerReadableStream=t;t._reader=e;if(t._state==="readable")N(e);else if(t._state==="closed")j(e);else U(e,t._storedError)}function M(e,t){var r=e._ownerReadableStream;return Lr(r,t)}function L(e){if(e._ownerReadableStream._state==="readable")q(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"));else z(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"));e._ownerReadableStream._reader=undefined;e._ownerReadableStream=undefined}function D(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function N(r){r._closedPromise=x(function(e,t){r._closedPromise_resolve=e;r._closedPromise_reject=t})}function U(e,t){N(e);q(e,t)}function j(e){N(e);G(e)}function q(e,t){P(e._closedPromise);e._closedPromise_reject(t);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined}function z(e,t){U(e,t)}function G(e){e._closedPromise_resolve(undefined);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined}var H=t("[[CancelSteps]]"),W=t("[[PullSteps]]");function X(e,t){if(t===void 0)t=false;var r=new Z(e);r._forAuthorCode=t;return r}function V(a){var e=x(function(e,t){var r={_resolve:e,_reject:t};a._reader._readRequests.push(r)});return e}function Y(e,t,r){var a=e._reader;var n=a._readRequests.shift();n._resolve(_(t,r,a._forAuthorCode))}function K(e){return e._reader._readRequests.length}function J(e){var t=e._reader;if(t===undefined)return false;if(!ee(t))return false;return true}var Z=function(){function e(e){if(Br(e)===false)throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(Mr(e)===true)throw new TypeError("This stream has already been locked for exclusive reading by another reader");B(this,e);this._readRequests=new R}Object.defineProperty(e.prototype,"closed",{get:function(){if(!ee(this))return k(re("closed"));return this._closedPromise},enumerable:true,configurable:true});e.prototype.cancel=function(e){if(!ee(this))return k(re("cancel"));if(this._ownerReadableStream===undefined)return k(D("cancel"));return M(this,e)};e.prototype.read=function(){if(!ee(this))return k(re("read"));if(this._ownerReadableStream===undefined)return k(D("read from"));return te(this)};e.prototype.releaseLock=function(){if(!ee(this))throw re("releaseLock");if(this._ownerReadableStream===undefined)return;if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");L(this)};return e}(),Q,$;function ee(e){if(!n(e))return false;if(!Object.prototype.hasOwnProperty.call(e,"_readRequests"))return false;return true}function te(e){var t=e._ownerReadableStream;t._disturbed=true;if(t._state==="closed")return C(_(undefined,true,e._forAuthorCode));if(t._state==="errored")return k(t._storedError);return t._readableStreamController[W]()}function re(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}if(typeof t.asyncIterator==="symbol"){$=(Q={},Q[t.asyncIterator]=function(){return this},Q);Object.defineProperty($,t.asyncIterator,{enumerable:false})}var ae={next:function(){if(ie(this)===false)return k(oe("next"));var a=this._asyncIteratorReader;if(a._ownerReadableStream===undefined)return k(D("iterate"));return E(te(a),function(e){var t=e.done;if(t)L(a);var r=e.value;return _(r,t,true)})},return:function(e){if(ie(this)===false)return k(oe("next"));var t=this._asyncIteratorReader;if(t._ownerReadableStream===undefined)return k(D("finish iterating"));if(t._readRequests.length>0)return k(new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(this._preventCancel===false){var r=M(t,e);L(t);return E(r,function(){return _(e,true,true)})}L(t);return C(_(e,true,true))}};if($!==undefined)Object.setPrototypeOf(ae,$);function ne(e,t){if(t===void 0)t=false;var r=X(e);var a=Object.create(ae);a._asyncIteratorReader=r;a._preventCancel=Boolean(t);return a}function ie(e){if(!n(e))return false;if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorReader"))return false;return true}function oe(e){return new TypeError("ReadableStreamAsyncIterator."+e+" can only be used on a ReadableSteamAsyncIterator")}function se(e){var t=e._queue.shift();e._queueTotalSize-=t.size;if(e._queueTotalSize<0)e._queueTotalSize=0;return t.value}function ce(e,t,r){r=Number(r);if(!i(r))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r});e._queueTotalSize+=r}function le(e){var t=e._queue.peek();return t.value}function ue(e){e._queue=new R;e._queueTotalSize=0}Object.defineProperty(ae,"next",{enumerable:false}),Object.defineProperty(ae,"return",{enumerable:false});var he=t("[[AbortSteps]]"),fe=t("[[ErrorSteps]]"),de=function(){function e(e,t){if(e===void 0)e={};if(t===void 0)t={};me(this);var r=t.size;var a=t.highWaterMark;var n=e.type;if(n!==undefined)throw new RangeError("Invalid type is specified");var i=b(r);if(a===undefined)a=1;a=g(a);Ye(this,e,a,i)}Object.defineProperty(e.prototype,"locked",{get:function(){if(be(this)===false)throw ot("locked");return ve(this)},enumerable:true,configurable:true});e.prototype.abort=function(e){if(be(this)===false)return k(ot("abort"));if(ve(this)===true)return k(new TypeError("Cannot abort a stream that already has a writer"));return ye(this,e)};e.prototype.close=function(){if(be(this)===false)return k(ot("close"));if(ve(this)===true)return k(new TypeError("Cannot close a stream that already has a writer"));if(Ee(this)===true)return k(new TypeError("Cannot close an already-closing stream"));return we(this)};e.prototype.getWriter=function(){if(be(this)===false)throw ot("getWriter");return pe(this)};return e}();function pe(e){return new Me(e)}function ge(e,t,r,a,n,i){if(n===void 0)n=1;if(i===void 0)i=function(){return 1};var o=Object.create(de.prototype);me(o);var s=Object.create(We.prototype);Ve(o,s,e,t,r,a,n,i);return o}function me(e){e._state="writable";e._storedError=undefined;e._writer=undefined;e._writableStreamController=undefined;e._writeRequests=new R;e._inFlightWriteRequest=undefined;e._closeRequest=undefined;e._inFlightCloseRequest=undefined;e._pendingAbortRequest=undefined;e._backpressure=false}function be(e){if(!n(e))return false;if(!Object.prototype.hasOwnProperty.call(e,"_writableStreamController"))return false;return true}function ve(e){if(e._writer===undefined)return false;return true}function ye(r,a){var e=r._state;if(e==="closed"||e==="errored")return C(undefined);if(r._pendingAbortRequest!==undefined)return r._pendingAbortRequest._promise;var n=false;if(e==="erroring"){n=true;a=undefined}var t=x(function(e,t){r._pendingAbortRequest={_promise:undefined,_resolve:e,_reject:t,_reason:a,_wasAlreadyErroring:n}});r._pendingAbortRequest._promise=t;if(n===false)xe(r,a);return t}function we(a){var e=a._state;if(e==="closed"||e==="errored")return k(new TypeError("The stream (in "+e+" state) is not in the writable state and cannot be closed"));var t=x(function(e,t){var r={_resolve:e,_reject:t};a._closeRequest=r});var r=a._writer;if(r!==undefined&&a._backpressure===true&&e==="writable")kt(r);Je(a._writableStreamController);return t}function ke(a){var e=x(function(e,t){var r={_resolve:e,_reject:t};a._writeRequests.push(r)});return e}function Se(e,t){var r=e._state;if(r==="writable"){xe(e,t);return}Ce(e)}function xe(e,t){var r=e._writableStreamController;e._state="erroring";e._storedError=t;var a=e._writer;if(a!==undefined)qe(a,t);if(Pe(e)===false&&r._started===true)Ce(e)}function Ce(t){t._state="errored";t._writableStreamController[fe]();var r=t._storedError;t._writeRequests.forEach(function(e){e._reject(r)});t._writeRequests=new R;if(t._pendingAbortRequest===undefined){_e(t);return}var a=t._pendingAbortRequest;t._pendingAbortRequest=undefined;if(a._wasAlreadyErroring===true){a._reject(r);_e(t);return}var e=t._writableStreamController[he](a._reason);I(e,function(){a._resolve();_e(t)},function(e){a._reject(e);_e(t)})}function Ae(e){e._inFlightWriteRequest._resolve(undefined);e._inFlightWriteRequest=undefined}function Ie(e,t){e._inFlightWriteRequest._reject(t);e._inFlightWriteRequest=undefined;Se(e,t)}function Te(e){e._inFlightCloseRequest._resolve(undefined);e._inFlightCloseRequest=undefined;var t=e._state;if(t==="erroring"){e._storedError=undefined;if(e._pendingAbortRequest!==undefined){e._pendingAbortRequest._resolve();e._pendingAbortRequest=undefined}}e._state="closed";var r=e._writer;if(r!==undefined)pt(r)}function Oe(e,t){e._inFlightCloseRequest._reject(t);e._inFlightCloseRequest=undefined;if(e._pendingAbortRequest!==undefined){e._pendingAbortRequest._reject(t);e._pendingAbortRequest=undefined}Se(e,t)}function Ee(e){if(e._closeRequest===undefined&&e._inFlightCloseRequest===undefined)return false;return true}function Pe(e){if(e._inFlightWriteRequest===undefined&&e._inFlightCloseRequest===undefined)return false;return true}function Fe(e){e._inFlightCloseRequest=e._closeRequest;e._closeRequest=undefined}function Re(e){e._inFlightWriteRequest=e._writeRequests.shift()}function _e(e){if(e._closeRequest!==undefined){e._closeRequest._reject(e._storedError);e._closeRequest=undefined}var t=e._writer;if(t!==undefined)ft(t,e._storedError)}function Be(e,t){var r=e._writer;if(r!==undefined&&t!==e._backpressure)if(t===true)yt(r);else kt(r);e._backpressure=t}var Me=function(){function e(e){if(be(e)===false)throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(ve(e)===true)throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e;e._writer=this;var t=e._state;if(t==="writable"){if(Ee(e)===false&&e._backpressure===true)gt(this);else bt(this);lt(this)}else if(t==="erroring"){mt(this,e._storedError);lt(this)}else if(t==="closed"){bt(this);ht(this)}else{var r=e._storedError;mt(this,r);ut(this,r)}}Object.defineProperty(e.prototype,"closed",{get:function(){if(Le(this)===false)return k(st("closed"));return this._closedPromise},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(Le(this)===false)throw st("desiredSize");if(this._ownerWritableStream===undefined)throw ct("desiredSize");return ze(this)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ready",{get:function(){if(Le(this)===false)return k(st("ready"));return this._readyPromise},enumerable:true,configurable:true});e.prototype.abort=function(e){if(Le(this)===false)return k(st("abort"));if(this._ownerWritableStream===undefined)return k(ct("abort"));return De(this,e)};e.prototype.close=function(){if(Le(this)===false)return k(st("close"));var e=this._ownerWritableStream;if(e===undefined)return k(ct("close"));if(Ee(e)===true)return k(new TypeError("Cannot close an already-closing stream"));return Ne(this)};e.prototype.releaseLock=function(){if(Le(this)===false)throw st("releaseLock");var e=this._ownerWritableStream;if(e===undefined)return;Ge(this)};e.prototype.write=function(e){if(Le(this)===false)return k(st("write"));if(this._ownerWritableStream===undefined)return k(ct("write to"));return He(this,e)};return e}();function Le(e){if(!n(e))return false;if(!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream"))return false;return true}function De(e,t){var r=e._ownerWritableStream;return ye(r,t)}function Ne(e){var t=e._ownerWritableStream;return we(t)}function Ue(e){var t=e._ownerWritableStream;var r=t._state;if(Ee(t)===true||r==="closed")return C(undefined);if(r==="errored")return k(t._storedError);return Ne(e)}function je(e,t){if(e._closedPromiseState==="pending")ft(e,t);else dt(e,t)}function qe(e,t){if(e._readyPromiseState==="pending")vt(e,t);else wt(e,t)}function ze(e){var t=e._ownerWritableStream;var r=t._state;if(r==="errored"||r==="erroring")return null;if(r==="closed")return 0;return Qe(t._writableStreamController)}function Ge(e){var t=e._ownerWritableStream;var r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");qe(e,r);je(e,r);t._writer=undefined;e._ownerWritableStream=undefined}function He(e,t){var r=e._ownerWritableStream;var a=r._writableStreamController;var n=Ze(a,t);if(r!==e._ownerWritableStream)return k(ct("write to"));var i=r._state;if(i==="errored")return k(r._storedError);if(Ee(r)===true||i==="closed")return k(new TypeError("The stream is closing or closed and cannot be written to"));if(i==="erroring")return k(r._storedError);var o=ke(r);$e(a,t,n);return o}var We=function(){function e(){throw new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}e.prototype.error=function(e){if(Xe(this)===false)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");var t=this._controlledWritableStream._state;if(t!=="writable")return;it(this,e)};e.prototype[he]=function(e){var t=this._abortAlgorithm(e);Ke(this);return t};e.prototype[fe]=function(){ue(this)};return e}();function Xe(e){if(!n(e))return false;if(!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream"))return false;return true}function Ve(t,r,e,a,n,i,o,s){r._controlledWritableStream=t;t._writableStreamController=r;r._queue=undefined;r._queueTotalSize=undefined;ue(r);r._started=false;r._strategySizeAlgorithm=s;r._strategyHWM=o;r._writeAlgorithm=a;r._closeAlgorithm=n;r._abortAlgorithm=i;var c=nt(r);Be(t,c);var l=e();var u=C(l);I(u,function(){r._started=true;et(r)},function(e){r._started=true;Se(t,e)})}function Ye(e,t,r,a){var n=Object.create(We.prototype);function i(){return p(t,"start",[n])}var o=l(t,"write",1,[n]);var s=l(t,"close",0,[]);var c=l(t,"abort",1,[]);Ve(e,n,i,o,s,c,r,a)}function Ke(e){e._writeAlgorithm=undefined;e._closeAlgorithm=undefined;e._abortAlgorithm=undefined;e._strategySizeAlgorithm=undefined}function Je(e){ce(e,"close",0);et(e)}function Ze(t,e){try{return t._strategySizeAlgorithm(e)}catch(e){tt(t,e);return 1}}function Qe(e){return e._strategyHWM-e._queueTotalSize}function $e(t,e,r){var a={chunk:e};try{ce(t,a,r)}catch(e){tt(t,e);return}var n=t._controlledWritableStream;if(Ee(n)===false&&n._state==="writable"){var i=nt(t);Be(n,i)}et(t)}function et(e){var t=e._controlledWritableStream;if(e._started===false)return;if(t._inFlightWriteRequest!==undefined)return;var r=t._state;if(r==="erroring"){Ce(t);return}if(e._queue.length===0)return;var a=le(e);if(a==="close")rt(e);else at(e,a.chunk)}function tt(e,t){if(e._controlledWritableStream._state==="writable")it(e,t)}function rt(e){var t=e._controlledWritableStream;Fe(t);se(e);var r=e._closeAlgorithm();Ke(e);I(r,function(){Te(t)},function(e){Oe(t,e)})}function at(r,e){var a=r._controlledWritableStream;Re(a);var t=r._writeAlgorithm(e);I(t,function(){Ae(a);var e=a._state;se(r);if(Ee(a)===false&&e==="writable"){var t=nt(r);Be(a,t)}et(r)},function(e){if(a._state==="writable")Ke(r);Ie(a,e)})}function nt(e){var t=Qe(e);return t<=0}function it(e,t){var r=e._controlledWritableStream;Ke(e);xe(r,t)}function ot(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function st(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function ct(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function lt(r){r._closedPromise=x(function(e,t){r._closedPromise_resolve=e;r._closedPromise_reject=t;r._closedPromiseState="pending"})}function ut(e,t){lt(e);ft(e,t)}function ht(e){lt(e);pt(e)}function ft(e,t){P(e._closedPromise);e._closedPromise_reject(t);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined;e._closedPromiseState="rejected"}function dt(e,t){ut(e,t)}function pt(e){e._closedPromise_resolve(undefined);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined;e._closedPromiseState="resolved"}function gt(r){r._readyPromise=x(function(e,t){r._readyPromise_resolve=e;r._readyPromise_reject=t});r._readyPromiseState="pending"}function mt(e,t){gt(e);vt(e,t)}function bt(e){gt(e);kt(e)}function vt(e,t){P(e._readyPromise);e._readyPromise_reject(t);e._readyPromise_resolve=undefined;e._readyPromise_reject=undefined;e._readyPromiseState="rejected"}function yt(e){gt(e)}function wt(e,t){mt(e,t)}function kt(e){e._readyPromise_resolve(undefined);e._readyPromise_resolve=undefined;e._readyPromise_reject=undefined;e._readyPromiseState="fulfilled"}function St(e){if(typeof e!=="object"||e===null)return false;try{return typeof e.aborted==="boolean"}catch(e){return false}}var xt=typeof DOMException!=="undefined"?DOMException:undefined;function Ct(e){if(!(typeof e==="function"||typeof e==="object"))return false;try{new e;return true}catch(e){return false}}function At(){var e=function e(t,r){this.message=t||"";this.name=r||"Error";if(Error.captureStackTrace)Error.captureStackTrace(this,this.constructor)};e.prototype=Object.create(Error.prototype);Object.defineProperty(e.prototype,"constructor",{value:e,writable:true,configurable:true});return e}var It=Ct(xt)?xt:At();function Tt(f,d,p,g,m,b){var v=X(f);var y=pe(d);f._disturbed=true;var w=false;var k=C(undefined);return x(function(r,a){var n;if(b!==undefined){n=function(){var e=new It("Aborted","AbortError");var t=[];if(g===false)t.push(function(){if(d._state==="writable")return ye(d,e);return C(undefined)});if(m===false)t.push(function(){if(f._state==="readable")return Lr(f,e);return C(undefined)});l(function(){return Promise.all(t.map(function(e){return e()}))},true,e)};if(b.aborted===true){n();return}b.addEventListener("abort",n)}function e(){return x(function(t,r){function a(e){if(e)t();else A(i(),a,r)}a(false)})}function i(){if(w===true)return C(true);return A(y._readyPromise,function(){return A(te(v),function(e){if(e.done===true)return true;k=A(He(y,e.value),undefined,S);return false})})}s(f,v._closedPromise,function(e){if(g===false)l(function(){return ye(d,e)},true,e);else u(true,e)});s(d,y._closedPromise,function(e){if(m===false)l(function(){return Lr(f,e)},true,e);else u(true,e)});c(f,v._closedPromise,function(){if(p===false)l(function(){return Ue(y)});else u()});if(Ee(d)===true||d._state==="closed"){var t=new TypeError("the destination writable stream closed before all data could be piped to it");if(m===false)l(function(){return Lr(f,t)},true,t);else u(true,t)}P(e());function o(){var e=k;return A(k,function(){return e!==k?o():undefined})}function s(e,t,r){if(e._state==="errored")r(e._storedError);else O(t,r)}function c(e,t,r){if(e._state==="closed")r();else T(t,r)}function l(e,t,r){if(w===true)return;w=true;if(d._state==="writable"&&Ee(d)===false)T(o(),a);else a();function a(){I(e(),function(){return h(t,r)},function(e){return h(true,e)})}}function u(e,t){if(w===true)return;w=true;if(d._state==="writable"&&Ee(d)===false)T(o(),function(){return h(e,t)});else h(e,t)}function h(e,t){Ge(y);L(v);if(b!==undefined)b.removeEventListener("abort",n);if(e)a(t);else r(undefined)}})}var Ot=function(){function e(){throw new TypeError}Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(Et(this)===false)throw qt("desiredSize");return Lt(this)},enumerable:true,configurable:true});e.prototype.close=function(){if(Et(this)===false)throw qt("close");if(Nt(this)===false)throw new TypeError("The stream is not in a state that permits close");_t(this)};e.prototype.enqueue=function(e){if(Et(this)===false)throw qt("enqueue");if(Nt(this)===false)throw new TypeError("The stream is not in a state that permits enqueue");return Bt(this,e)};e.prototype.error=function(e){if(Et(this)===false)throw qt("error");Mt(this,e)};e.prototype[H]=function(e){ue(this);var t=this._cancelAlgorithm(e);Rt(this);return t};e.prototype[W]=function(){var e=this._controlledReadableStream;if(this._queue.length>0){var t=se(this);if(this._closeRequested===true&&this._queue.length===0){Rt(this);Dr(e)}else Pt(this);return C(_(t,false,e._reader._forAuthorCode))}var r=V(e);Pt(this);return r};return e}();function Et(e){if(!n(e))return false;if(!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream"))return false;return true}function Pt(t){var e=Ft(t);if(e===false)return;if(t._pulling===true){t._pullAgain=true;return}t._pulling=true;var r=t._pullAlgorithm();I(r,function(){t._pulling=false;if(t._pullAgain===true){t._pullAgain=false;Pt(t)}},function(e){Mt(t,e)})}function Ft(e){var t=e._controlledReadableStream;if(Nt(e)===false)return false;if(e._started===false)return false;if(Mr(t)===true&&K(t)>0)return true;var r=Lt(e);if(r>0)return true;return false}function Rt(e){e._pullAlgorithm=undefined;e._cancelAlgorithm=undefined;e._strategySizeAlgorithm=undefined}function _t(e){var t=e._controlledReadableStream;e._closeRequested=true;if(e._queue.length===0){Rt(e);Dr(t)}}function Bt(t,e){var r=t._controlledReadableStream;if(Mr(r)===true&&K(r)>0)Y(r,e,false);else{var a=void 0;try{a=t._strategySizeAlgorithm(e)}catch(e){Mt(t,e);throw e}try{ce(t,e,a)}catch(e){Mt(t,e);throw e}}Pt(t)}function Mt(e,t){var r=e._controlledReadableStream;if(r._state!=="readable")return;ue(e);Rt(e);Nr(r,t)}function Lt(e){var t=e._controlledReadableStream;var r=t._state;if(r==="errored")return null;if(r==="closed")return 0;return e._strategyHWM-e._queueTotalSize}function Dt(e){if(Ft(e)===true)return false;return true}function Nt(e){var t=e._controlledReadableStream._state;if(e._closeRequested===false&&t==="readable")return true;return false}function Ut(e,t,r,a,n,i,o){t._controlledReadableStream=e;t._queue=undefined;t._queueTotalSize=undefined;ue(t);t._started=false;t._closeRequested=false;t._pullAgain=false;t._pulling=false;t._strategySizeAlgorithm=o;t._strategyHWM=i;t._pullAlgorithm=a;t._cancelAlgorithm=n;e._readableStreamController=t;var s=r();I(C(s),function(){t._started=true;Pt(t)},function(e){Mt(t,e)})}function jt(e,t,r,a){var n=Object.create(Ot.prototype);function i(){return p(t,"start",[n])}var o=l(t,"pull",0,[n]);var s=l(t,"cancel",1,[]);Ut(e,n,i,o,s,r,a)}function qt(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}function zt(a,e){var t=X(a);var i=false;var o=false;var s=false;var n;var c;var l;var u;var h;var f=x(function(e){h=e});function r(){if(i===true)return C(undefined);i=true;var e=E(te(t),function(e){i=false;var t=e.done;if(t===true){if(o===false)_t(l._readableStreamController);if(s===false)_t(u._readableStreamController);return}var r=e.value;var a=r;var n=r;if(o===false)Bt(l._readableStreamController,a);if(s===false)Bt(u._readableStreamController,n)});P(e);return C(undefined)}function d(e){o=true;n=e;if(s===true){var t=m([n,c]);var r=Lr(a,t);h(r)}return f}function p(e){s=true;c=e;if(o===true){var t=m([n,c]);var r=Lr(a,t);h(r)}return f}function g(){}l=Rr(g,r,d);u=Rr(g,r,p);O(t._closedPromise,function(e){Mt(l._readableStreamController,e);Mt(u._readableStreamController,e)});return[l,u]}var Gt=Number.isInteger||function(e){return typeof e==="number"&&isFinite(e)&&Math.floor(e)===e},Ht=function(){function e(){throw new TypeError("ReadableStreamBYOBRequest cannot be used directly")}Object.defineProperty(e.prototype,"view",{get:function(){if(Vt(this)===false)throw wr("view");return this._view},enumerable:true,configurable:true});e.prototype.respond=function(e){if(Vt(this)===false)throw wr("respond");if(this._associatedReadableByteStreamController===undefined)throw new TypeError("This BYOB request has been invalidated");if(u(this._view.buffer)===true);gr(this._associatedReadableByteStreamController,e)};e.prototype.respondWithNewView=function(e){if(Vt(this)===false)throw wr("respond");if(this._associatedReadableByteStreamController===undefined)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(u(e.buffer)===true);mr(this._associatedReadableByteStreamController,e)};return e}(),Wt=function(){function e(){throw new TypeError("ReadableByteStreamController constructor cannot be used directly")}Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(Xt(this)===false)throw kr("byobRequest");if(this._byobRequest===undefined&&this._pendingPullIntos.length>0){var e=this._pendingPullIntos.peek();var t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled);var r=Object.create(Ht.prototype);yr(r,this,t);this._byobRequest=r}return this._byobRequest},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(Xt(this)===false)throw kr("desiredSize");return pr(this)},enumerable:true,configurable:true});e.prototype.close=function(){if(Xt(this)===false)throw kr("close");if(this._closeRequested===true)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableByteStream._state;if(e!=="readable")throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");hr(this)};e.prototype.enqueue=function(e){if(Xt(this)===false)throw kr("enqueue");if(this._closeRequested===true)throw new TypeError("stream is closed or draining");var t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(e))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");if(u(e.buffer)===true);fr(this,e)};e.prototype.error=function(e){if(Xt(this)===false)throw kr("error");dr(this,e)};e.prototype[H]=function(e){if(this._pendingPullIntos.length>0){var t=this._pendingPullIntos.peek();t.bytesFilled=0}ue(this);var r=this._cancelAlgorithm(e);ur(this);return r};e.prototype[W]=function(){var e=this._controlledReadableByteStream;if(this._queueTotalSize>0){var t=this._queue.shift();this._queueTotalSize-=t.byteLength;tr(this);var r=void 0;try{r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}catch(e){return k(e)}return C(_(r,false,e._reader._forAuthorCode))}var a=this._autoAllocateChunkSize;if(a!==undefined){var n=void 0;try{n=new ArrayBuffer(a)}catch(e){return k(e)}var i={buffer:n,byteOffset:0,byteLength:a,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}var o=V(e);Yt(this);return o};return e}();function Xt(e){if(!n(e))return false;if(!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream"))return false;return true}function Vt(e){if(!n(e))return false;if(!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController"))return false;return true}function Yt(t){var e=lr(t);if(e===false)return;if(t._pulling===true){t._pullAgain=true;return}t._pulling=true;var r=t._pullAlgorithm();I(r,function(){t._pulling=false;if(t._pullAgain===true){t._pullAgain=false;Yt(t)}},function(e){dr(t,e)})}function Kt(e){rr(e);e._pendingPullIntos=new R}function Jt(e,t){var r=false;if(e._state==="closed")r=true;var a=Zt(t);if(t.readerType==="default")Y(e,a,r);else Cr(e,a,r)}function Zt(e){var t=e.bytesFilled;var r=e.elementSize;return new e.ctor(e.buffer,e.byteOffset,t/r)}function Qt(e,t,r,a){e._queue.push({buffer:t,byteOffset:r,byteLength:a});e._queueTotalSize+=a}function $t(e,t){var r=t.elementSize;var a=t.bytesFilled-t.bytesFilled%r;var n=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled);var i=t.bytesFilled+n;var o=i-i%r;var s=n;var c=false;if(o>a){s=o-t.bytesFilled;c=true}var l=e._queue;while(s>0){var u=l.peek();var h=Math.min(s,u.byteLength);var f=t.byteOffset+t.bytesFilled;d(t.buffer,f,u.buffer,u.byteOffset,h);if(u.byteLength===h)l.shift();else{u.byteOffset+=h;u.byteLength-=h}e._queueTotalSize-=h;er(e,h,t);s-=h}return c}function er(e,t,r){rr(e);r.bytesFilled+=t}function tr(e){if(e._queueTotalSize===0&&e._closeRequested===true){ur(e);Dr(e._controlledReadableByteStream)}else Yt(e)}function rr(e){if(e._byobRequest===undefined)return;e._byobRequest._associatedReadableByteStreamController=undefined;e._byobRequest._view=undefined;e._byobRequest=undefined}function ar(e){while(e._pendingPullIntos.length>0){if(e._queueTotalSize===0)return;var t=e._pendingPullIntos.peek();if($t(e,t)===true){cr(e);Jt(e._controlledReadableByteStream,t)}}}function nr(e,t){var r=e._controlledReadableByteStream;var a=1;if(t.constructor!==DataView)a=t.constructor.BYTES_PER_ELEMENT;var n=t.constructor;var i=h(t.buffer);var o={buffer:i,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:a,ctor:n,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(o);return xr(r)}if(r._state==="closed"){var s=new n(o.buffer,o.byteOffset,0);return C(_(s,true,r._reader._forAuthorCode))}if(e._queueTotalSize>0){if($t(e,o)===true){var c=Zt(o);tr(e);return C(_(c,false,r._reader._forAuthorCode))}if(e._closeRequested===true){var l=new TypeError("Insufficient bytes to fill elements in the given buffer");dr(e,l);return k(l)}}e._pendingPullIntos.push(o);var u=xr(r);Yt(e);return u}function ir(e,t){t.buffer=h(t.buffer);var r=e._controlledReadableByteStream;if(Ir(r)===true)while(Ar(r)>0){var a=cr(e);Jt(r,a)}}function or(e,t,r){if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range");er(e,t,r);if(r.bytesFilled<r.elementSize)return;cr(e);var a=r.bytesFilled%r.elementSize;if(a>0){var n=r.byteOffset+r.bytesFilled;var i=r.buffer.slice(n-a,n);Qt(e,i,0,i.byteLength)}r.buffer=h(r.buffer);r.bytesFilled-=a;Jt(e._controlledReadableByteStream,r);ar(e)}function sr(e,t){var r=e._pendingPullIntos.peek();var a=e._controlledReadableByteStream;if(a._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");ir(e,r)}else or(e,t,r);Yt(e)}function cr(e){var t=e._pendingPullIntos.shift();rr(e);return t}function lr(e){var t=e._controlledReadableByteStream;if(t._state!=="readable")return false;if(e._closeRequested===true)return false;if(e._started===false)return false;if(J(t)===true&&K(t)>0)return true;if(Ir(t)===true&&Ar(t)>0)return true;var r=pr(e);if(r>0)return true;return false}function ur(e){e._pullAlgorithm=undefined;e._cancelAlgorithm=undefined}function hr(e){var t=e._controlledReadableByteStream;if(e._queueTotalSize>0){e._closeRequested=true;return}if(e._pendingPullIntos.length>0){var r=e._pendingPullIntos.peek();if(r.bytesFilled>0){var a=new TypeError("Insufficient bytes to fill elements in the given buffer");dr(e,a);throw a}}ur(e);Dr(t)}function fr(e,t){var r=e._controlledReadableByteStream;var a=t.buffer;var n=t.byteOffset;var i=t.byteLength;var o=h(a);if(J(r)===true)if(K(r)===0)Qt(e,o,n,i);else{var s=new Uint8Array(o,n,i);Y(r,s,false)}else if(Ir(r)===true){Qt(e,o,n,i);ar(e)}else Qt(e,o,n,i);Yt(e)}function dr(e,t){var r=e._controlledReadableByteStream;if(r._state!=="readable")return;Kt(e);ue(e);ur(e);Nr(r,t)}function pr(e){var t=e._controlledReadableByteStream;var r=t._state;if(r==="errored")return null;if(r==="closed")return 0;return e._strategyHWM-e._queueTotalSize}function gr(e,t){t=Number(t);if(i(t)===false)throw new RangeError("bytesWritten must be a finite");sr(e,t)}function mr(e,t){var r=e._pendingPullIntos.peek();if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.byteLength!==t.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");r.buffer=t.buffer;sr(e,t.byteLength)}function br(e,t,r,a,n,i,o){t._controlledReadableByteStream=e;t._pullAgain=false;t._pulling=false;t._byobRequest=undefined;t._queue=t._queueTotalSize=undefined;ue(t);t._closeRequested=false;t._started=false;t._strategyHWM=g(i);t._pullAlgorithm=a;t._cancelAlgorithm=n;t._autoAllocateChunkSize=o;t._pendingPullIntos=new R;e._readableStreamController=t;var s=r();I(C(s),function(){t._started=true;Yt(t)},function(e){dr(t,e)})}function vr(e,t,r){var a=Object.create(Wt.prototype);function n(){return p(t,"start",[a])}var i=l(t,"pull",0,[a]);var o=l(t,"cancel",1,[]);var s=t.autoAllocateChunkSize;if(s!==undefined){s=Number(s);if(Gt(s)===false||s<=0)throw new RangeError("autoAllocateChunkSize must be a positive integer")}br(e,a,n,i,o,r,s)}function yr(e,t,r){e._associatedReadableByteStreamController=t;e._view=r}function wr(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function kr(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}function Sr(e,t){if(t===void 0)t=false;var r=new Tr(e);r._forAuthorCode=t;return r}function xr(a){var e=x(function(e,t){var r={_resolve:e,_reject:t};a._reader._readIntoRequests.push(r)});return e}function Cr(e,t,r){var a=e._reader;var n=a._readIntoRequests.shift();n._resolve(_(t,r,a._forAuthorCode))}function Ar(e){return e._reader._readIntoRequests.length}function Ir(e){var t=e._reader;if(t===undefined)return false;if(!Or(t))return false;return true}var Tr=function(){function e(e){if(!Br(e))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a "+"byte source");if(Xt(e._readableStreamController)===false)throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte "+"source");if(Mr(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");B(this,e);this._readIntoRequests=new R}Object.defineProperty(e.prototype,"closed",{get:function(){if(!Or(this))return k(Pr("closed"));return this._closedPromise},enumerable:true,configurable:true});e.prototype.cancel=function(e){if(!Or(this))return k(Pr("cancel"));if(this._ownerReadableStream===undefined)return k(D("cancel"));return M(this,e)};e.prototype.read=function(e){if(!Or(this))return k(Pr("read"));if(this._ownerReadableStream===undefined)return k(D("read from"));if(!ArrayBuffer.isView(e))return k(new TypeError("view must be an array buffer view"));if(u(e.buffer)===true);if(e.byteLength===0)return k(new TypeError("view must have non-zero byteLength"));return Er(this,e)};e.prototype.releaseLock=function(){if(!Or(this))throw Pr("releaseLock");if(this._ownerReadableStream===undefined)return;if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");L(this)};return e}();function Or(e){if(!n(e))return false;if(!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests"))return false;return true}function Er(e,t){var r=e._ownerReadableStream;r._disturbed=true;if(r._state==="errored")return k(r._storedError);return nr(r._readableStreamController,t)}function Pr(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}var Fr=function(){function e(e,t){if(e===void 0)e={};if(t===void 0)t={};_r(this);var r=t.size;var a=t.highWaterMark;var n=e.type;var i=String(n);if(i==="bytes"){if(r!==undefined)throw new RangeError("The strategy for a byte stream cannot have a size function");if(a===undefined)a=0;a=g(a);vr(this,e,a)}else if(n===undefined){var o=b(r);if(a===undefined)a=1;a=g(a);jt(this,e,a,o)}else throw new RangeError("Invalid type is specified")}Object.defineProperty(e.prototype,"locked",{get:function(){if(Br(this)===false)throw Ur("locked");return Mr(this)},enumerable:true,configurable:true});e.prototype.cancel=function(e){if(Br(this)===false)return k(Ur("cancel"));if(Mr(this)===true)return k(new TypeError("Cannot cancel a stream that already has a reader"));return Lr(this,e)};e.prototype.getReader=function(e){var t=(e===void 0?{}:e).mode;if(Br(this)===false)throw Ur("getReader");if(t===undefined)return X(this,true);t=String(t);if(t==="byob")return Sr(this,true);throw new RangeError("Invalid mode is specified")};e.prototype.pipeThrough=function(e,t){var r=e.writable,a=e.readable;var n=t===void 0?{}:t,i=n.preventClose,o=n.preventAbort,s=n.preventCancel,c=n.signal;if(Br(this)===false)throw Ur("pipeThrough");if(be(r)===false)throw new TypeError("writable argument to pipeThrough must be a WritableStream");if(Br(a)===false)throw new TypeError("readable argument to pipeThrough must be a ReadableStream");i=Boolean(i);o=Boolean(o);s=Boolean(s);if(c!==undefined&&!St(c))throw new TypeError("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(Mr(this)===true)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ve(r)===true)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var l=Tt(this,r,i,o,s,c);P(l);return a};e.prototype.pipeTo=function(e,t){var r=t===void 0?{}:t,a=r.preventClose,n=r.preventAbort,i=r.preventCancel,o=r.signal;if(Br(this)===false)return k(Ur("pipeTo"));if(be(e)===false)return k(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));a=Boolean(a);n=Boolean(n);i=Boolean(i);if(o!==undefined&&!St(o))return k(new TypeError("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal"));if(Mr(this)===true)return k(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(ve(e)===true)return k(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));return Tt(this,e,a,n,i,o)};e.prototype.tee=function(){if(Br(this)===false)throw Ur("tee");var e=zt(this);return m(e)};e.prototype.getIterator=function(e){var t=(e===void 0?{}:e).preventCancel,r=t===void 0?false:t;if(Br(this)===false)throw Ur("getIterator");return ne(this,r)};return e}();if(typeof t.asyncIterator==="symbol")Object.defineProperty(Fr.prototype,t.asyncIterator,{value:Fr.prototype.getIterator,enumerable:false,writable:true,configurable:true});function Rr(e,t,r,a,n){if(a===void 0)a=1;if(n===void 0)n=function(){return 1};var i=Object.create(Fr.prototype);_r(i);var o=Object.create(Ot.prototype);Ut(i,o,e,t,r,a,n);return i}function _r(e){e._state="readable";e._reader=undefined;e._storedError=undefined;e._disturbed=false}function Br(e){if(!n(e))return false;if(!Object.prototype.hasOwnProperty.call(e,"_readableStreamController"))return false;return true}function Mr(e){if(e._reader===undefined)return false;return true}function Lr(e,t){e._disturbed=true;if(e._state==="closed")return C(undefined);if(e._state==="errored")return k(e._storedError);Dr(e);var r=e._readableStreamController[H](t);return E(r,S)}function Dr(e){e._state="closed";var t=e._reader;if(t===undefined)return;if(ee(t)){t._readRequests.forEach(function(e){e._resolve(_(undefined,true,t._forAuthorCode))});t._readRequests=new R}G(t)}function Nr(e,t){e._state="errored";e._storedError=t;var r=e._reader;if(r===undefined)return;if(ee(r)){r._readRequests.forEach(function(e){e._reject(t)});r._readRequests=new R}else{r._readIntoRequests.forEach(function(e){e._reject(t)});r._readIntoRequests=new R}q(r,t)}function Ur(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}var jr=function(){function e(e){var t=e.highWaterMark;this.highWaterMark=t}e.prototype.size=function(e){return e.byteLength};return e}(),qr=function(){function e(e){var t=e.highWaterMark;this.highWaterMark=t}e.prototype.size=function(){return 1};return e}(),zr=function(){function e(e,t,r){if(e===void 0)e={};if(t===void 0)t={};if(r===void 0)r={};var a=t.size;var n=t.highWaterMark;var i=r.size;var o=r.highWaterMark;var s=e.writableType;if(s!==undefined)throw new RangeError("Invalid writable type specified");var c=b(a);if(n===undefined)n=1;n=g(n);var l=e.readableType;if(l!==undefined)throw new RangeError("Invalid readable type specified");var u=b(i);if(o===undefined)o=0;o=g(o);var h;var f=x(function(e){h=e});Gr(this,f,n,c,o,u);Zr(this,e);var d=p(e,"start",[this._transformStreamController]);h(d)}Object.defineProperty(e.prototype,"readable",{get:function(){if(Hr(this)===false)throw ca("readable");return this._readable},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"writable",{get:function(){if(Hr(this)===false)throw ca("writable");return this._writable},enumerable:true,configurable:true});return e}();function Gr(t,e,r,a,n,i){function o(){return e}function s(e){return aa(t,e)}function c(e){return na(t,e)}function l(){return ia(t)}t._writable=ge(o,s,l,c,r,a);function u(){return oa(t)}function h(e){Xr(t,e);return C(undefined)}t._readable=Rr(o,u,h,n,i);t._backpressure=undefined;t._backpressureChangePromise=undefined;t._backpressureChangePromise_resolve=undefined;Vr(t,true);t._transformStreamController=undefined}function Hr(e){if(!n(e))return false;if(!Object.prototype.hasOwnProperty.call(e,"_transformStreamController"))return false;return true}function Wr(e,t){Mt(e._readable._readableStreamController,t);Xr(e,t)}function Xr(e,t){Qr(e._transformStreamController);tt(e._writable._writableStreamController,t);if(e._backpressure===true)Vr(e,false)}function Vr(t,e){if(t._backpressureChangePromise!==undefined)t._backpressureChangePromise_resolve();t._backpressureChangePromise=x(function(e){t._backpressureChangePromise_resolve=e});t._backpressure=e}var Yr=function(){function e(){throw new TypeError("TransformStreamDefaultController instances cannot be created directly")}Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(Kr(this)===false)throw sa("desiredSize");var e=this._controlledTransformStream._readable._readableStreamController;return Lt(e)},enumerable:true,configurable:true});e.prototype.enqueue=function(e){if(Kr(this)===false)throw sa("enqueue");$r(this,e)};e.prototype.error=function(e){if(Kr(this)===false)throw sa("error");ea(this,e)};e.prototype.terminate=function(){if(Kr(this)===false)throw sa("terminate");ra(this)};return e}();function Kr(e){if(!n(e))return false;if(!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream"))return false;return true}function Jr(e,t,r,a){t._controlledTransformStream=e;e._transformStreamController=t;t._transformAlgorithm=r;t._flushAlgorithm=a}function Zr(e,t){var r=Object.create(Yr.prototype);var a=function(e){try{$r(r,e);return C(undefined)}catch(e){return k(e)}};var n=t.transform;if(n!==undefined){if(typeof n!=="function")throw new TypeError("transform is not a method");a=function(e){return c(n,t,[e,r])}}var i=l(t,"flush",0,[r]);Jr(e,r,a,i)}function Qr(e){e._transformAlgorithm=undefined;e._flushAlgorithm=undefined}function $r(e,t){var r=e._controlledTransformStream;var a=r._readable._readableStreamController;if(Nt(a)===false)throw new TypeError("Readable side is not in a state that permits enqueue");try{Bt(a,t)}catch(e){Xr(r,e);throw r._readable._storedError}var n=Dt(a);if(n!==r._backpressure)Vr(r,true)}function ea(e,t){Wr(e._controlledTransformStream,t)}function ta(t,e){var r=t._transformAlgorithm(e);return E(r,undefined,function(e){Wr(t._controlledTransformStream,e);throw e})}function ra(e){var t=e._controlledTransformStream;var r=t._readable._readableStreamController;if(Nt(r)===true)_t(r);var a=new TypeError("TransformStream terminated");Xr(t,a)}function aa(r,a){var n=r._transformStreamController;if(r._backpressure===true){var e=r._backpressureChangePromise;return E(e,function(){var e=r._writable;var t=e._state;if(t==="erroring")throw e._storedError;return ta(n,a)})}return ta(n,a)}function na(e,t){Wr(e,t);return C(undefined)}function ia(t){var r=t._readable;var e=t._transformStreamController;var a=e._flushAlgorithm();Qr(e);return E(a,function(){if(r._state==="errored")throw r._storedError;var e=r._readableStreamController;if(Nt(e)===true)_t(e)},function(e){Wr(t,e);throw r._storedError})}function oa(e){Vr(e,false);return e._backpressureChangePromise}function sa(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function ca(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}e.ByteLengthQueuingStrategy=jr,e.CountQueuingStrategy=qr,e.ReadableStream=Fr,e.TransformStream=zr,e.WritableStream=de,Object.defineProperty(e,"__esModule",{value:true})}(t)},function(e,t,r){r(145),r(114),r(77),r(116);r=r(43);e.exports=r.Map},function(e,t,r){"use strict";var a=r(146),r=r(150);e.exports=a("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},r)},function(e,t,r){"use strict";var m=r(10),b=r(11),v=r(52),y=r(29),w=r(147),k=r(124),S=r(123),x=r(22),C=r(14),A=r(97),I=r(85),T=r(149);e.exports=function(r,e,t){function a(e){var r=d[e];y(d,e,"add"==e?function(e){return r.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(u&&!x(e))&&r.call(this,0===e?0:e)}:"get"==e?function(e){return u&&!x(e)?void 0:r.call(this,0===e?0:e)}:"has"==e?function(e){return!(u&&!x(e))&&r.call(this,0===e?0:e)}:function(e,t){return r.call(this,0===e?0:e,t),this})}var n,i,o,s,c,l=-1!==r.indexOf("Map"),u=-1!==r.indexOf("Weak"),h=l?"set":"add",f=b[r],d=f&&f.prototype,p=f,g={};return v(r,"function"!=typeof f||!(u||d.forEach&&!C(function(){(new f).entries().next()})))?(p=t.getConstructor(e,r,l,h),w.REQUIRED=!0):v(r,!0)&&(i=(n=new p)[h](u?{}:-0,1)!=n,o=C(function(){n.has(1)}),s=A(function(e){new f(e)}),c=!u&&C(function(){for(var e=new f,t=5;t--;)e[h](t,t);return!e.has(-0)}),s||(((p=e(function(e,t){S(e,p,r);e=T(new f,e,p);return null!=t&&k(t,e[h],e,l),e})).prototype=d).constructor=p),(o||c)&&(a("delete"),a("has"),l&&a("get")),(c||i)&&a(h),u&&d.clear&&delete d.clear),g[r]=p,m({global:!0,forced:p!=f},g),I(p,r),u||t.setStrong(p,r,l),p}},function(e,t,r){function a(e){s(e,u,{value:{objectID:"O"+ ++h,weakData:{}}})}var n=r(39),i=r(22),o=r(23),s=r(27).f,c=r(38),l=r(148),u=c("meta"),h=0,f=Object.isExtensible||function(){return!0},d=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,u)){if(!f(e))return"F";if(!t)return"E";a(e)}return e[u].objectID},getWeakData:function(e,t){if(!o(e,u)){if(!f(e))return!0;if(!t)return!1;a(e)}return e[u].weakData},onFreeze:function(e){return l&&d.REQUIRED&&f(e)&&!o(e,u)&&a(e),e}};n[u]=!0},function(e,t,r){r=r(14);e.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(e,t,r){var i=r(22),o=r(87);e.exports=function(e,t,r){var a,n;return o&&"function"==typeof(a=t.constructor)&&a!==r&&i(n=a.prototype)&&n!==r.prototype&&o(e,n),e}},function(e,t,r){"use strict";var l=r(27).f,u=r(71),h=r(121),f=r(62),d=r(123),p=r(124),o=r(79),s=r(122),g=r(13),m=r(147).fastKey,r=r(33),b=r.set,v=r.getterFor;e.exports={getConstructor:function(e,r,a,n){function i(e,t,r){var a,n=c(e),i=o(e,t);return i?i.value=r:(n.last=i={index:a=m(t,!0),key:t,value:r,previous:r=n.last,next:void 0,removed:!1},n.first||(n.first=i),r&&(r.next=i),g?n.size++:e.size++,"F"!==a&&(n.index[a]=i)),e}function o(e,t){var r,a=c(e);if("F"!==(e=m(t)))return a.index[e];for(r=a.first;r;r=r.next)if(r.key==t)return r}var s=e(function(e,t){d(e,s,r),b(e,{type:r,index:u(null),first:void 0,last:void 0,size:0}),g||(e.size=0),null!=t&&p(t,e[n],e,a)}),c=v(r);return h(s.prototype,{clear:function(){for(var e=c(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,g?e.size=0:this.size=0},delete:function(e){var t,r=c(this),a=o(this,e);return a&&(t=a.next,e=a.previous,delete r.index[a.index],a.removed=!0,e&&(e.next=t),t&&(t.previous=e),r.first==a&&(r.first=t),r.last==a&&(r.last=e),g?r.size--:this.size--),!!a},forEach:function(e){for(var t,r=c(this),a=f(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.next:r.first;)for(a(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!o(this,e)}}),h(s.prototype,a?{get:function(e){e=o(this,e);return e&&e.value},set:function(e,t){return i(this,0===e?0:e,t)}}:{add:function(e){return i(this,e=0===e?0:e,e)}}),g&&l(s.prototype,"size",{get:function(){return c(this).size}}),s},setStrong:function(e,t,r){var a=t+" Iterator",n=v(t),i=v(a);o(e,t,function(e,t){b(this,{type:a,target:e,state:n(e),kind:t,last:void 0})},function(){for(var e=i(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:{value:e.target=void 0,done:!0}},r?"entries":"values",!r,!0),s(t)}}},function(e,t,r){r(152),r(114),r(77),r(116);r=r(43);e.exports=r.Set},function(e,t,r){"use strict";var a=r(146),r=r(150);e.exports=a("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},r)},function(e,t,r){r(114),r(154),r(116);r=r(43);e.exports=r.WeakMap},function(e,t,r){"use strict";var a,n,i,o,s,c=r(11),l=r(121),u=r(147),h=r(146),f=r(155),d=r(22),p=r(33).enforce,g=r(34),r=!c.ActiveXObject&&"ActiveXObject"in c,m=Object.isExtensible,c=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},h=e.exports=h("WeakMap",c,f);g&&r&&(a=f.getConstructor(c,"WeakMap",!0),u.REQUIRED=!0,h=h.prototype,n=h.delete,i=h.has,o=h.get,s=h.set,l(h,{delete:function(e){if(!d(e)||m(e))return n.call(this,e);var t=p(this);return t.frozen||(t.frozen=new a),n.call(this,e)||t.frozen.delete(e)},has:function(e){if(!d(e)||m(e))return i.call(this,e);var t=p(this);return t.frozen||(t.frozen=new a),i.call(this,e)||t.frozen.has(e)},get:function(e){if(!d(e)||m(e))return o.call(this,e);var t=p(this);return t.frozen||(t.frozen=new a),i.call(this,e)?o.call(this,e):t.frozen.get(e)},set:function(e,t){var r;return d(e)&&!m(e)?((r=p(this)).frozen||(r.frozen=new a),i.call(this,e)?s.call(this,e,t):r.frozen.set(e,t)):s.call(this,e,t),this}}))},function(e,t,r){"use strict";function c(e){return e.frozen||(e.frozen=new a)}function a(){this.entries=[]}function n(e,t){return o(e.entries,function(e){return e[0]===t})}var l=r(121),u=r(147).getWeakData,h=r(28),f=r(22),d=r(123),p=r(124),i=r(156),g=r(23),r=r(33),m=r.set,b=r.getterFor,o=i.find,s=i.findIndex,v=0;a.prototype={get:function(e){e=n(this,e);if(e)return e[1]},has:function(e){return!!n(this,e)},set:function(e,t){var r=n(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(t){var e=s(this.entries,function(e){return e[0]===t});return~e&&this.entries.splice(e,1),!!~e}},e.exports={getConstructor:function(e,r,a,n){function i(e,t,r){var a=s(e),n=u(h(t),!0);return!0===n?c(a).set(t,r):n[a.id]=r,e}var o=e(function(e,t){d(e,o,r),m(e,{type:r,id:v++,frozen:void 0}),null!=t&&p(t,e[n],e,a)}),s=b(r);return l(o.prototype,{delete:function(e){var t=s(this);if(!f(e))return!1;var r=u(e);return!0===r?c(t).delete(e):r&&g(r,t.id)&&delete r[t.id]},has:function(e){var t=s(this);if(!f(e))return!1;var r=u(e);return!0===r?c(t).has(e):r&&g(r,t.id)}}),l(o.prototype,a?{get:function(e){var t=s(this);if(f(e)){var r=u(e);return!0===r?c(t).get(e):r?r[t.id]:void 0}},set:function(e,t){return i(this,e,t)}}:{add:function(e){return i(this,e,!0)}}),o}}},function(e,t,r){var y=r(62),w=r(18),k=r(83),S=r(47),x=r(157),C=[].push,r=function(f){var d=1==f,p=2==f,g=3==f,m=4==f,b=6==f,v=5==f||b;return function(e,t,r,a){for(var n,i,o=k(e),s=w(o),c=y(t,r,3),l=S(s.length),u=0,a=a||x,h=d?a(e,l):p?a(e,0):void 0;u<l;u++)if((v||u in s)&&(i=c(n=s[u],u,o),f))if(d)h[u]=i;else if(i)switch(f){case 3:return!0;case 5:return n;case 6:return u;case 2:C.call(h,n)}else if(m)return!1;return b?-1:g||m?m:h}};e.exports={forEach:r(0),map:r(1),filter:r(2),some:r(3),every:r(4),find:r(5),findIndex:r(6)}},function(e,t,r){var a=r(22),n=r(158),i=r(57)("species");e.exports=function(e,t){var r;return new(void 0===(r=n(e)&&("function"==typeof(r=e.constructor)&&(r===Array||n(r.prototype))||a(r)&&null===(r=r[i]))?void 0:r)?Array:r)(0===t?0:t)}},function(e,t,r){var a=r(19);e.exports=Array.isArray||function(e){return"Array"==a(e)}},function(e,t,r){r(114),r(160),r(116);r=r(43);e.exports=r.WeakSet},function(e,t,r){"use strict";r(146)("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},r(155))},function(e,t,r){r(162);r=r(61);e.exports=r("String","codePointAt")},function(e,t,r){"use strict";var a=r(10),n=r(78).codeAt;a({target:"String",proto:!0},{codePointAt:function(e){return n(this,e)}})},function(e,t,r){r(164);r=r(43);e.exports=r.String.fromCodePoint},function(e,t,r){var a=r(10),i=r(49),o=String.fromCharCode,r=String.fromCodePoint;a({target:"String",stat:!0,forced:!!r&&1!=r.length},{fromCodePoint:function(e){for(var t,r=[],a=arguments.length,n=0;n<a;){if(t=+arguments[n++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return r.join("")}})},function(e,t,r){r(166),r(114),r(168),r(172),r(173),r(174),r(175),r(176),r(177),r(178),r(179),r(180),r(181),r(182),r(183),r(184),r(185),r(186),r(187);r=r(43);e.exports=r.Symbol},function(e,t,r){"use strict";var a=r(10),n=r(14),l=r(158),u=r(22),h=r(83),f=r(47),d=r(93),p=r(157),i=r(167),o=r(57),r=r(133),g=o("isConcatSpreadable"),m=9007199254740991,b="Maximum allowed index exceeded",n=51<=r||!n(function(){var e=[];return e[g]=!1,e.concat()[0]!==e}),i=i("concat");a({target:"Array",proto:!0,forced:!n||!i},{concat:function(e){for(var t,r,a,n=h(this),i=p(n,0),o=0,s=-1,c=arguments.length;s<c;s++)if(function(e){if(!u(e))return!1;var t=e[g];return void 0!==t?!!t:l(e)}(a=-1===s?n:arguments[s])){if(r=f(a.length),m<o+r)throw TypeError(b);for(t=0;t<r;t++,o++)t in a&&d(i,o,a[t])}else{if(m<=o)throw TypeError(b);d(i,o++,a)}return i.length=o,i}})},function(e,t,r){var a=r(14),n=r(57),i=r(133),o=n("species");e.exports=function(t){return 51<=i||!a(function(){var e=[];return(e.constructor={})[o]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},function(e,t,r){"use strict";function a(e,t){var r=$[e]=k(V[G]);return H(r,{type:z,tag:e,description:t}),l||(r.description=t),r}function n(t,e){m(t);var r=v(e),e=S(r).concat(ce(r));return j(e,function(e){l&&!se.call(r,e)||oe(t,e,r[e])}),t}var i=r(10),o=r(11),s=r(42),c=r(37),l=r(13),u=r(58),h=r(59),f=r(14),d=r(23),p=r(158),g=r(22),m=r(28),b=r(83),v=r(17),y=r(21),w=r(16),k=r(71),S=r(73),x=r(44),C=r(169),A=r(51),I=r(12),T=r(27),O=r(15),E=r(26),P=r(29),F=r(36),R=r(35),_=r(39),B=r(38),M=r(57),L=r(170),D=r(171),N=r(85),U=r(33),j=r(156).forEach,q=R("hidden"),z="Symbol",G="prototype",R=M("toPrimitive"),H=U.set,W=U.getterFor(z),X=Object[G],V=o.Symbol,Y=s("JSON","stringify"),K=I.f,J=T.f,Z=C.f,Q=O.f,$=F("symbols"),ee=F("op-symbols"),te=F("string-to-symbol-registry"),re=F("symbol-to-string-registry"),F=F("wks"),o=o.QObject,ae=!o||!o[G]||!o[G].findChild,ne=l&&f(function(){return 7!=k(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a})?function(e,t,r){var a=K(X,t);a&&delete X[t],J(e,t,r),a&&e!==X&&J(X,t,a)}:J,ie=h?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof V},oe=function(e,t,r){e===X&&oe(ee,t,r),m(e);t=y(t,!0);return m(r),d($,t)?(r.enumerable?(d(e,q)&&e[q][t]&&(e[q][t]=!1),r=k(r,{enumerable:w(0,!1)})):(d(e,q)||J(e,q,w(1,{})),e[q][t]=!0),ne(e,t,r)):J(e,t,r)},se=function(e){var t=y(e,!0),e=Q.call(this,t);return!(this===X&&d($,t)&&!d(ee,t))&&(!(e||!d(this,t)||!d($,t)||d(this,q)&&this[q][t])||e)},o=function(e,t){var r=v(e),e=y(t,!0);if(r!==X||!d($,e)||d(ee,e)){t=K(r,e);return!t||!d($,e)||d(r,q)&&r[q][e]||(t.enumerable=!0),t}},h=function(e){var e=Z(v(e)),t=[];return j(e,function(e){d($,e)||d(_,e)||t.push(e)}),t},ce=function(e){var t=e===X,e=Z(t?ee:v(e)),r=[];return j(e,function(e){!d($,e)||t&&!d(X,e)||r.push($[e])}),r};u||(P((V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=B(e),r=function(e){this===X&&r.call(ee,e),d(this,q)&&d(this[q],t)&&(this[q][t]=!1),ne(this,t,w(1,e))};return l&&ae&&ne(X,t,{configurable:!0,set:r}),a(t,e)})[G],"toString",function(){return W(this).tag}),P(V,"withoutSetter",function(e){return a(B(e),e)}),O.f=se,T.f=oe,I.f=o,x.f=C.f=h,A.f=ce,L.f=function(e){return a(M(e),e)},l&&(J(V[G],"description",{configurable:!0,get:function(){return W(this).description}}),c||P(X,"propertyIsEnumerable",se,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:V}),j(S(F),function(e){D(e)}),i({target:z,stat:!0,forced:!u},{for:function(e){var t=String(e);if(d(te,t))return te[t];e=V(t);return te[t]=e,re[e]=t,e},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(d(re,e))return re[e]},useSetter:function(){ae=!0},useSimple:function(){ae=!1}}),i({target:"Object",stat:!0,forced:!u,sham:!l},{create:function(e,t){return void 0===t?k(e):n(k(e),t)},defineProperty:oe,defineProperties:n,getOwnPropertyDescriptor:o}),i({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:h,getOwnPropertySymbols:ce}),i({target:"Object",stat:!0,forced:f(function(){A.f(1)})},{getOwnPropertySymbols:function(e){return A.f(b(e))}}),Y&&i({target:"JSON",stat:!0,forced:!u||f(function(){var e=V();return"[null]"!=Y([e])||"{}"!=Y({a:e})||"{}"!=Y(Object(e))})},{stringify:function(e,t,r){for(var a,n=[e],i=1;i<arguments.length;)n.push(arguments[i++]);if((g(a=t)||void 0!==e)&&!ie(e))return p(t)||(t=function(e,t){if("function"==typeof a&&(t=a.call(this,e,t)),!ie(t))return t}),n[1]=t,Y.apply(null,n)}}),V[G][R]||E(V[G],R,V[G].valueOf),N(V,z),_[q]=!0},function(e,t,r){var a=r(17),n=r(44).f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==i.call(e)?function(e){try{return n(e)}catch(e){return o.slice()}}(e):n(a(e))}},function(e,t,r){r=r(57);t.f=r},function(e,t,r){var a=r(43),n=r(23),i=r(170),o=r(27).f;e.exports=function(e){var t=a.Symbol||(a.Symbol={});n(t,e)||o(t,e,{value:i.f(e)})}},function(e,t,r){r(171)("asyncIterator")},function(e,t,r){"use strict";var a,n,i,o,s,c=r(10),l=r(13),u=r(11),h=r(23),f=r(22),d=r(27).f,r=r(40),p=u.Symbol;!l||"function"!=typeof p||"description"in p.prototype&&void 0===p().description||(a={},r(n=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof n?new p(e):void 0===e?p():p(e);return""===e&&(a[t]=!0),t},p),(r=n.prototype=p.prototype).constructor=n,i=r.toString,o="Symbol(test)"==String(p("test")),s=/^Symbol\\((.*)\\)[^)]+$/,d(r,"description",{configurable:!0,get:function(){var e=f(this)?this.valueOf():this,t=i.call(e);if(h(a,e))return"";t=o?t.slice(7,-1):t.replace(s,"$1");return""===t?void 0:t}}),c({global:!0,forced:!0},{Symbol:n}))},function(e,t,r){r(171)("hasInstance")},function(e,t,r){r(171)("isConcatSpreadable")},function(e,t,r){r(171)("iterator")},function(e,t,r){r(171)("match")},function(e,t,r){r(171)("matchAll")},function(e,t,r){r(171)("replace")},function(e,t,r){r(171)("search")},function(e,t,r){r(171)("species")},function(e,t,r){r(171)("split")},function(e,t,r){r(171)("toPrimitive")},function(e,t,r){r(171)("toStringTag")},function(e,t,r){r(171)("unscopables")},function(e,t,r){r(85)(Math,"Math",!0)},function(e,t,r){var a=r(11);r(85)(a.JSON,"JSON",!0)},function(e,t,r){r(189);r=r(61);e.exports=r("String","padStart")},function(e,t,r){"use strict";var a=r(10),n=r(190).start;a({target:"String",proto:!0,forced:r(192)},{padStart:function(e){return n(this,e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,r){var i=r(47),o=r(191),s=r(20),c=Math.ceil,r=function(n){return function(e,t,r){var a=String(s(e)),e=a.length,r=void 0===r?" ":String(r),t=i(t);return t<=e||""==r?a:((r=o.call(r,c((e=t-e)/r.length))).length>e&&(r=r.slice(0,e)),n?a+r:r+a)}};e.exports={start:r(!1),end:r(!0)}},function(e,t,r){"use strict";var n=r(48),i=r(20);e.exports="".repeat||function(e){var t=String(i(this)),r="",a=n(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;0<a;(a>>>=1)&&(t+=t))1&a&&(r+=t);return r}},function(e,t,r){r=r(127);e.exports=/Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(r)},function(e,t,r){r(194);r=r(61);e.exports=r("String","padEnd")},function(e,t,r){"use strict";var a=r(10),n=r(190).end;a({target:"String",proto:!0,forced:r(192)},{padEnd:function(e){return n(this,e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,r){r(196);r=r(43);e.exports=r.Object.values},function(e,t,r){var a=r(10),n=r(197).values;a({target:"Object",stat:!0},{values:function(e){return n(e)}})},function(e,t,r){var c=r(13),l=r(73),u=r(17),h=r(15).f,r=function(s){return function(e){for(var t,r=u(e),a=l(r),n=a.length,i=0,o=[];i<n;)t=a[i++],c&&!h.call(r,t)||o.push(s?[t,r[t]]:r[t]);return o}};e.exports={entries:r(!0),values:r(!1)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearPrimitiveCaches=function(){f._clearCache(),l._clearCache(),v._clearCache()},t.isEOF=function(e){return e===i},t.isCmd=function(e,t){return e instanceof f&&(void 0===t||e.cmd===t)},t.isDict=C,t.isName=x,t.isRef=function(e){return e instanceof v},t.isRefsEqual=function(e,t){return e.num===t.num&&e.gen===t.gen},t.isStream=function(e){return"object"===n(e)&&null!==e&&void 0!==e.getBytes},t.RefSetCache=t.RefSet=t.Ref=t.Name=t.Dict=t.Cmd=t.EOF=void 0;var a,o=(a=r(2))&&a.__esModule?a:{default:a};r(5);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,r,a,n,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(a,n)}var i={};t.EOF=i;var s,l=(s=Object.create(null),u.prototype={},u.get=function(e){var t=s[e];return t||(s[e]=new u(e))},u._clearCache=function(){s=Object.create(null)},u);function u(e){this.name=e}t.Name=l;var h,f=(h=Object.create(null),d.prototype={},d.get=function(e){var t=h[e];return t||(h[e]=new d(e))},d._clearCache=function(){h=Object.create(null)},d);function d(e){this.cmd=e}t.Cmd=f;var p,g=(p=function(){return p},m.prototype={assignXref:function(e){this.xref=e},get:function(e,t,r){e=this._map[e];return(e=void 0===e&&void 0!==t&&void 0===(e=this._map[t])&&void 0!==r?this._map[r]:e)instanceof v&&this.xref?this.xref.fetch(e,this.suppressEncryption):e},getAsync:function(r,a,n){var s,i=this;return s=o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=void 0===(t=i._map[r])&&void 0!==a&&void 0===(t=i._map[a])&&void 0!==n?i._map[n]:t)instanceof v&&i.xref)return e.abrupt("return",i.xref.fetchAsync(t,i.suppressEncryption));e.next=4;break;case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}},e)}),function(){var e=this,o=arguments;return new Promise(function(t,r){var a=s.apply(e,o);function n(e){c(a,t,r,n,i,"next",e)}function i(e){c(a,t,r,n,i,"throw",e)}n(void 0)})}()},getArray:function(e,t,r){var a=this.get(e,t,r);if(!Array.isArray(a)||!this.xref)return a;for(var n=0,i=(a=a.slice()).length;n<i;n++)a[n]instanceof v&&(a[n]=this.xref.fetch(a[n],this.suppressEncryption));return a},getRaw:function(e){return this._map[e]},getKeys:function(){return Object.keys(this._map)},set:function(e,t){this._map[e]=t},has:function(e){return void 0!==this._map[e]},forEach:function(e){for(var t in this._map)e(t,this.get(t))}},m.empty=new m(null),m.merge=function(e,t){for(var r=new m(e),a=0,n=t.length;a<n;a++){var i=t[a];if(C(i))for(var o in i._map)void 0===r._map[o]&&(r._map[o]=i._map[o])}return r},m);function m(e){this._map=Object.create(null),this.xref=e,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=p}t.Dict=g;var b,v=(b=Object.create(null),y.prototype={toString:function(){return 0===this.gen?"".concat(this.num,"R"):"".concat(this.num,"R").concat(this.gen)}},y.get=function(e,t){var r=0===t?"".concat(e,"R"):"".concat(e,"R").concat(t),a=b[r];return a||(b[r]=new y(e,t))},y._clearCache=function(){b=Object.create(null)},y);function y(e,t){this.num=e,this.gen=t}t.Ref=v;var w=(k.prototype={has:function(e){return e.toString()in this.dict},put:function(e){this.dict[e.toString()]=!0},remove:function(e){delete this.dict[e.toString()]}},k);function k(){this.dict=Object.create(null)}t.RefSet=w;S.prototype={get size(){return Object.keys(this.dict).length},get:function(e){return this.dict[e.toString()]},has:function(e){return e.toString()in this.dict},put:function(e,t){this.dict[e.toString()]=t},putAlias:function(e,t){this.dict[e.toString()]=this.get(t)},forEach:function(e){for(var t in this.dict)e(this.dict[t])},clear:function(){this.dict=Object.create(null)}},w=S;function S(){this.dict=Object.create(null)}function x(e,t){return e instanceof l&&(void 0===t||e.name===t)}function C(e,t){return e instanceof g&&(void 0===t||x(e.get("Type"),t))}t.RefSetCache=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkPdfManager=t.LocalPdfManager=void 0;var a,i=(a=r(2))&&a.__esModule?a:{default:a},n=r(5),c=r(200),l=r(201),u=r(202),h=r(205);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g(r);return e=a?(e=g(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?p(t):e}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r,a,n,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(a,n)}function b(s){return function(){var e=this,o=arguments;return new Promise(function(t,r){var a=s.apply(e,o);function n(e){m(a,t,r,n,i,"next",e)}function i(e){m(a,t,r,n,i,"throw",e)}n(void 0)})}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function w(e,t,r){return t&&y(e.prototype,t),r&&y(e,r),e}var k=function(){function e(){v(this,e),this.constructor===e&&(0,n.unreachable)("Cannot initialize BasePdfManager.")}var a;return w(e,[{key:"onLoadedStream",value:function(){(0,n.unreachable)("Abstract method \`onLoadedStream\` called")}},{key:"ensureDoc",value:function(e,t){return this.ensure(this.pdfDocument,e,t)}},{key:"ensureXRef",value:function(e,t){return this.ensure(this.pdfDocument.xref,e,t)}},{key:"ensureCatalog",value:function(e,t){return this.ensure(this.pdfDocument.catalog,e,t)}},{key:"getPage",value:function(e){return this.pdfDocument.getPage(e)}},{key:"fontFallback",value:function(e,t){return this.pdfDocument.fontFallback(e,t)}},{key:"cleanup",value:function(){return this.pdfDocument.cleanup(0<arguments.length&&void 0!==arguments[0]&&arguments[0])}},{key:"ensure",value:(a=b(i.default.mark(function e(t,r,a){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,n.unreachable)("Abstract method \`ensure\` called");case 1:case"end":return e.stop()}},e)})),function(e,t,r){return a.apply(this,arguments)})},{key:"requestRange",value:function(e,t){(0,n.unreachable)("Abstract method \`requestRange\` called")}},{key:"requestLoadedStream",value:function(){(0,n.unreachable)("Abstract method \`requestLoadedStream\` called")}},{key:"sendProgressiveData",value:function(e){(0,n.unreachable)("Abstract method \`sendProgressiveData\` called")}},{key:"updatePassword",value:function(e){this._password=e}},{key:"terminate",value:function(e){(0,n.unreachable)("Abstract method \`terminate\` called")}},{key:"docId",get:function(){return this._docId}},{key:"password",get:function(){return this._password}},{key:"docBaseUrl",get:function(){var e,t=null;return this._docBaseUrl&&((e=(0,n.createValidAbsoluteUrl)(this._docBaseUrl))?t=e.href:(0,n.warn)('Invalid absolute docBaseUrl: "'.concat(this._docBaseUrl,'".'))),(0,n.shadow)(this,"docBaseUrl",t)}}]),e}(),S=function(){f(s,k);var a,o=d(s);function s(e,t,r,a,n){var i;v(this,s),(i=o.call(this))._docId=e,i._password=r,i._docBaseUrl=n,i.evaluatorOptions=a;t=new h.Stream(t);return i.pdfDocument=new u.PDFDocument(p(i),t),i._loadedStreamPromise=Promise.resolve(t),i}return w(s,[{key:"ensure",value:(a=b(i.default.mark(function e(t,r,a){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"==typeof(n=t[r]))return e.abrupt("return",n.apply(t,a));e.next=3;break;case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}},e)})),function(e,t,r){return a.apply(this,arguments)})},{key:"requestRange",value:function(e,t){return Promise.resolve()}},{key:"requestLoadedStream",value:function(){}},{key:"onLoadedStream",value:function(){return this._loadedStreamPromise}},{key:"terminate",value:function(e){}}]),s}();t.LocalPdfManager=S;S=function(){f(s,k);var a,o=d(s);function s(e,t,r,a,n){var i;return v(this,s),(i=o.call(this))._docId=e,i._password=r.password,i._docBaseUrl=n,i.msgHandler=r.msgHandler,i.evaluatorOptions=a,i.streamManager=new c.ChunkedStreamManager(t,{msgHandler:r.msgHandler,length:r.length,disableAutoFetch:r.disableAutoFetch,rangeChunkSize:r.rangeChunkSize}),i.pdfDocument=new u.PDFDocument(p(i),i.streamManager.getStream()),i}return w(s,[{key:"ensure",value:(a=b(i.default.mark(function e(t,r,a){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"function"==typeof(n=t[r]))return e.abrupt("return",n.apply(t,a));e.next=4;break;case 4:return e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),e.t0 instanceof l.MissingDataException){e.next=11;break}throw e.t0;case 11:return e.next=13,this.requestRange(e.t0.begin,e.t0.end);case 13:return e.abrupt("return",this.ensure(t,r,a));case 14:case"end":return e.stop()}},e,this,[[0,7]])})),function(e,t,r){return a.apply(this,arguments)})},{key:"requestRange",value:function(e,t){return this.streamManager.requestRange(e,t)}},{key:"requestLoadedStream",value:function(){this.streamManager.requestAllChunks()}},{key:"sendProgressiveData",value:function(e){this.streamManager.onReceiveData({chunk:e})}},{key:"onLoadedStream",value:function(){return this.streamManager.onLoadedStream()}},{key:"terminate",value:function(e){this.streamManager.abort(e)}}]),s}();t.NetworkPdfManager=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChunkedStreamManager=t.ChunkedStream=void 0;var v=r(5),o=r(201);function y(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,t=function(){};return{s:t,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,n=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw n}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}var c=function(){function a(e,t,r){n(this,a),this.bytes=new Uint8Array(e),this.start=0,this.pos=0,this.end=e,this.chunkSize=t,this.loadedChunks=[],this.numChunksLoaded=0,this.numChunks=Math.ceil(e/t),this.manager=r,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}return i(a,[{key:"getMissingChunks",value:function(){for(var e=[],t=0,r=this.numChunks;t<r;++t)this.loadedChunks[t]||e.push(t);return e}},{key:"getBaseStreams",value:function(){return[this]}},{key:"allChunksLoaded",value:function(){return this.numChunksLoaded===this.numChunks}},{key:"onReceiveData",value:function(e,t){var r=this.chunkSize;if(e%r!=0)throw new Error("Bad begin offset: ".concat(e));var a=e+t.byteLength;if(a%r!=0&&a!==this.bytes.length)throw new Error("Bad end offset: ".concat(a));this.bytes.set(new Uint8Array(t),e);for(var e=Math.floor(e/r),n=Math.floor((a-1)/r)+1,i=e;i<n;++i)this.loadedChunks[i]||(this.loadedChunks[i]=!0,++this.numChunksLoaded)}},{key:"onReceiveProgressiveData",value:function(e){var t=this.progressiveDataLength,r=Math.floor(t/this.chunkSize);this.bytes.set(new Uint8Array(e),t),t+=e.byteLength;for(var a=(this.progressiveDataLength=t)>=this.end?this.numChunks:Math.floor(t/this.chunkSize),n=r;n<a;++n)this.loadedChunks[n]||(this.loadedChunks[n]=!0,++this.numChunksLoaded)}},{key:"ensureByte",value:function(e){if(!(e<this.progressiveDataLength)){var t=Math.floor(e/this.chunkSize);if(t!==this.lastSuccessfulEnsureByteChunk){if(!this.loadedChunks[t])throw new o.MissingDataException(e,e+1);this.lastSuccessfulEnsureByteChunk=t}}}},{key:"ensureRange",value:function(e,t){if(!(t<=e||t<=this.progressiveDataLength))for(var r=this.chunkSize,a=Math.floor(e/r),n=Math.floor((t-1)/r)+1,i=a;i<n;++i)if(!this.loadedChunks[i])throw new o.MissingDataException(e,t)}},{key:"nextEmptyChunk",value:function(e){for(var t=this.numChunks,r=0;r<t;++r){var a=(e+r)%t;if(!this.loadedChunks[a])return a}return null}},{key:"hasChunk",value:function(e){return!!this.loadedChunks[e]}},{key:"getByte",value:function(){var e=this.pos;return e>=this.end?-1:(e>=this.progressiveDataLength&&this.ensureByte(e),this.bytes[this.pos++])}},{key:"getUint16",value:function(){var e=this.getByte(),t=this.getByte();return-1===e||-1===t?-1:(e<<8)+t}},{key:"getInt32",value:function(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()}},{key:"getBytes",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=this.bytes,a=this.pos,n=this.end;if(!e){n>this.progressiveDataLength&&this.ensureRange(a,n);var i=r.subarray(a,n);return t?new Uint8ClampedArray(i):i}e=a+e;(e=n<e?n:e)>this.progressiveDataLength&&this.ensureRange(a,e),this.pos=e;e=r.subarray(a,e);return t?new Uint8ClampedArray(e):e}},{key:"peekByte",value:function(){var e=this.getByte();return-1!==e&&this.pos--,e}},{key:"peekBytes",value:function(e){e=this.getBytes(e,1<arguments.length&&void 0!==arguments[1]&&arguments[1]);return this.pos-=e.length,e}},{key:"getByteRange",value:function(e,t){return e<0&&(e=0),(t=t>this.end?this.end:t)>this.progressiveDataLength&&this.ensureRange(e,t),this.bytes.subarray(e,t)}},{key:"skip",value:function(e){this.pos+=e=e||1}},{key:"reset",value:function(){this.pos=this.start}},{key:"moveStart",value:function(){this.start=this.pos}},{key:"makeSubStream",value:function(e,t,r){function a(){}t?e+t>this.progressiveDataLength&&this.ensureRange(e,e+t):e>=this.progressiveDataLength&&this.ensureByte(e),(a.prototype=Object.create(this)).getMissingChunks=function(){for(var e=this.chunkSize,t=Math.floor(this.start/e),r=Math.floor((this.end-1)/e)+1,a=[],n=t;n<r;++n)this.loadedChunks[n]||a.push(n);return a},a.prototype.allChunksLoaded=function(){return this.numChunksLoaded===this.numChunks||0===this.getMissingChunks().length};var n=new a;return n.pos=n.start=e,n.end=e+t||this.end,n.dict=r,n}},{key:"length",get:function(){return this.end-this.start}},{key:"isEmpty",get:function(){return 0===this.length}}]),a}();t.ChunkedStream=c;r=function(){function r(e,t){n(this,r),this.length=t.length,this.chunkSize=t.rangeChunkSize,this.stream=new c(this.length,this.chunkSize,this),this.pdfNetworkStream=e,this.disableAutoFetch=t.disableAutoFetch,this.msgHandler=t.msgHandler,this.currRequestId=0,this.chunksNeededByRequest=Object.create(null),this.requestsByChunk=Object.create(null),this.promisesByRequest=Object.create(null),this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=(0,v.createPromiseCapability)()}return i(r,[{key:"onLoadedStream",value:function(){return this._loadedStreamCapability.promise}},{key:"sendRequest",value:function(t,e){var o=this,s=this.pdfNetworkStream.getRangeReader(t,e);s.isStreamingSupported||(s.onProgress=this.onProgress.bind(this));var c=[],l=0;new Promise(function(a,n){function i(e){try{if(!e.done){var t=e.value;return c.push(t),l+=(0,v.arrayByteLength)(t),s.isStreamingSupported&&o.onProgress({loaded:l}),void s.read().then(i,n)}var r=(0,v.arraysToBytes)(c);c=null,a(r)}catch(e){n(e)}}s.read().then(i,n)}).then(function(e){o.aborted||o.onReceiveData({chunk:e,begin:t})})}},{key:"requestAllChunks",value:function(){var e=this.stream.getMissingChunks();return this._requestChunks(e),this._loadedStreamCapability.promise}},{key:"_requestChunks",value:function(e){var t=this.currRequestId++,r=Object.create(null);this.chunksNeededByRequest[t]=r;var a,n=y(e);try{for(n.s();!(a=n.n()).done;){var i=a.value;this.stream.hasChunk(i)||(r[i]=!0)}}catch(e){n.e(e)}finally{n.f()}if((0,v.isEmptyObj)(r))return Promise.resolve();e=(0,v.createPromiseCapability)();this.promisesByRequest[t]=e;var o,s=[];for(o in r)(o|=0)in this.requestsByChunk||(this.requestsByChunk[o]=[],s.push(o)),this.requestsByChunk[o].push(t);if(!s.length)return e.promise;var c,l=y(this.groupChunks(s));try{for(l.s();!(c=l.n()).done;){var u=c.value,h=u.beginChunk*this.chunkSize,f=Math.min(u.endChunk*this.chunkSize,this.length);this.sendRequest(h,f)}}catch(e){l.e(e)}finally{l.f()}return e.promise}},{key:"getStream",value:function(){return this.stream}},{key:"requestRange",value:function(e,t){t=Math.min(t,this.length);for(var e=this.getBeginChunk(e),r=this.getEndChunk(t),a=[],n=e;n<r;++n)a.push(n);return this._requestChunks(a)}},{key:"requestRanges",value:function(){var e,t=[],r=y(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]);try{for(r.s();!(e=r.n()).done;)for(var a=e.value,n=this.getBeginChunk(a.begin),i=this.getEndChunk(a.end),o=n;o<i;++o)t.includes(o)||t.push(o)}catch(e){r.e(e)}finally{r.f()}return t.sort(function(e,t){return e-t}),this._requestChunks(t)}},{key:"groupChunks",value:function(e){for(var t=[],r=-1,a=-1,n=0,i=e.length;n<i;++n){var o=e[n];r<0&&(r=o),0<=a&&a+1!==o&&(t.push({beginChunk:r,endChunk:a+1}),r=o),n+1===e.length&&t.push({beginChunk:r,endChunk:o+1}),a=o}return t}},{key:"onProgress",value:function(e){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+e.loaded,total:this.length})}},{key:"onReceiveData",value:function(e){var t=e.chunk,r=void 0===e.begin,a=r?this.progressiveDataLength:e.begin,n=a+t.byteLength,e=Math.floor(a/this.chunkSize),i=n<this.length?Math.floor(n/this.chunkSize):Math.ceil(n/this.chunkSize);r?(this.stream.onReceiveProgressiveData(t),this.progressiveDataLength=n):this.stream.onReceiveData(a,t),this.stream.allChunksLoaded()&&this._loadedStreamCapability.resolve(this.stream);for(var o,s=[],c=e;c<i;++c){var l=this.requestsByChunk[c]||[];delete this.requestsByChunk[c];var u,h=y(l);try{for(h.s();!(u=h.n()).done;){var f=u.value,d=this.chunksNeededByRequest[f];c in d&&delete d[c],(0,v.isEmptyObj)(d)&&s.push(f)}}catch(e){h.e(e)}finally{h.f()}}!this.disableAutoFetch&&(0,v.isEmptyObj)(this.requestsByChunk)&&(1===this.stream.numChunksLoaded?(e=this.stream.numChunks-1,this.stream.hasChunk(e)||(o=e)):o=this.stream.nextEmptyChunk(i),Number.isInteger(o)&&this._requestChunks([o]));for(var p=0,g=s;p<g.length;p++){var m=g[p],b=this.promisesByRequest[m];delete this.promisesByRequest[m],b.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}},{key:"onError",value:function(e){this._loadedStreamCapability.reject(e)}},{key:"getBeginChunk",value:function(e){return Math.floor(e/this.chunkSize)}},{key:"getEndChunk",value:function(e){return Math.floor((e-1)/this.chunkSize)+1}},{key:"abort",value:function(e){for(var t in this.aborted=!0,this.pdfNetworkStream&&this.pdfNetworkStream.cancelAllRequests(e),this.promisesByRequest)this.promisesByRequest[t].reject(e)}}]),r}();t.ChunkedStreamManager=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLookupTableFactory=function(e){var t;return function(){return e&&(t=Object.create(null),e(t),e=null),t}},t.getInheritableProperty=function(e){var t,r=e.dict,a=e.key,n=e.getArray,i=void 0!==n&&n,e=e.stopWhenFound,o=void 0===e||e,s=0;for(;r;){var c=i?r.getArray(a):r.get(a);if(void 0!==c){if(o)return c;(t=t||[]).push(c)}if(100<++s){(0,l.warn)('getInheritableProperty: maximum loop count exceeded for "'.concat(a,'"'));break}r=r.get("Parent")}return t},t.toRomanNumerals=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];(0,l.assert)(Number.isInteger(e)&&0<e,"The number should be a positive integer.");var r=[];for(;1e3<=e;)e-=1e3,r.push("M");a=e/100|0,e%=100,r.push(u[a]),a=e/10|0,e%=10,r.push(u[10+a]),r.push(u[20+e]);var a=r.join("");return t?a.toLowerCase():a},t.log2=function(e){if(e<=0)return 0;return Math.ceil(Math.log2(e))},t.readInt8=function(e,t){return e[t]<<24>>24},t.readUint16=function(e,t){return e[t]<<8|e[t+1]},t.readUint32=function(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0},t.isWhiteSpace=function(e){return 32===e||9===e||13===e||10===e},t.XRefParseException=t.XRefEntryException=t.MissingDataException=void 0;var l=r(5);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=c(r);return e=a?(e=c(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==n(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.MissingDataException=function(){o(n,l.BaseException);var a=s(n);function n(e,t){var r;return i(this,n),(r=a.call(this,"Missing data [".concat(e,", ").concat(t,")"))).begin=e,r.end=t,r}return n}(),t.XRefEntryException=function(){o(t,l.BaseException);var e=s(t);function t(){return i(this,t),e.apply(this,arguments)}return t}(),t.XRefParseException=function(){o(t,l.BaseException);var e=s(t);function t(){return i(this,t),e.apply(this,arguments)}return t}();var u=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDocument=t.Page=void 0;var a,n=(a=r(2))&&a.__esModule?a:{default:a},h=r(5),i=r(203),l=r(198),f=r(201),s=r(205),o=r(218),c=r(215),u=r(204),d=r(219),p=r(220),g=r(234);function m(e,t,r,a,n,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(a,n)}function b(s){return function(){var e=this,o=arguments;return new Promise(function(t,r){var a=s.apply(e,o);function n(e){m(a,t,r,n,i,"next",e)}function i(e){m(a,t,r,n,i,"throw",e)}n(void 0)})}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],a=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(n)throw i}}return r}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=w(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,t=function(){};return{s:t,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,n=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw n}}}}function w(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function C(e,t,r){return t&&x(e.prototype,t),r&&x(e,r),e}var A=[0,0,612,792];function I(e,t){return"display"===t&&e.viewable||"print"===t&&e.printable}var T=function(){function u(e){var t=e.pdfManager,r=e.xref,a=e.pageIndex,n=e.pageDict,i=e.ref,o=e.fontCache,s=e.builtInCMapCache,c=e.globalImageCache,e=e.pdfFunctionFactory;S(this,u),this.pdfManager=t,this.pageIndex=a,this.pageDict=n,this.xref=r,this.ref=i,this.fontCache=o,this.builtInCMapCache=s,this.globalImageCache=c,this.pdfFunctionFactory=e,this.evaluatorOptions=t.evaluatorOptions,this.resourcesPromise=null;var l={obj:0};this.idFactory={createObjId:function(){return"p".concat(a,"_").concat(++l.obj)},getDocId:function(){return"g_".concat(t.docId)}}}return C(u,[{key:"_getInheritableProperty",value:function(e){e=(0,f.getInheritableProperty)({dict:this.pageDict,key:e,getArray:1<arguments.length&&void 0!==arguments[1]&&arguments[1],stopWhenFound:!1});return Array.isArray(e)?1!==e.length&&(0,l.isDict)(e[0])?l.Dict.merge(this.xref,e):e[0]:e}},{key:"_getBoundingBox",value:function(e){var t=this._getInheritableProperty(e,!0);if(Array.isArray(t)&&4===t.length){if(t[2]-t[0]!=0&&t[3]-t[1]!=0)return t;(0,h.warn)("Empty /".concat(e," entry."))}return null}},{key:"getContentStream",value:function(){var e,t=this.content;if(Array.isArray(t)){var r,a=this.xref,n=[],i=y(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;n.push(a.fetchIfRef(o))}}catch(e){i.e(e)}finally{i.f()}e=new s.StreamsSequenceStream(n)}else e=(0,l.isStream)(t)?t:new s.NullStream;return e}},{key:"loadResources",value:function(e){var t=this;return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(function(){return new i.ObjectLoader(t.resources,e,t.xref).load()})}},{key:"getOperatorList",value:function(e){var r=this,a=e.handler,n=e.sink,o=e.task,s=e.intent,c=e.renderInteractiveForms,t=this.pdfManager.ensure(this,"getContentStream"),e=this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"]),l=new p.PartialEvaluator({xref:this.xref,handler:a,pageIndex:this.pageIndex,idFactory:this.idFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions,pdfFunctionFactory:this.pdfFunctionFactory}),e=Promise.all([t,e]).then(function(e){var e=v(e,1)[0],t=new d.OperatorList(s,n,r.pageIndex);return a.send("StartRenderPage",{transparency:l.hasBlendModes(r.resources),pageIndex:r.pageIndex,intent:s}),l.getOperatorList({stream:e,task:o,resources:r.resources,operatorList:t}).then(function(){return t})});return Promise.all([e,this._parsedAnnotations]).then(function(e){var e=v(e,2),n=e[0],e=e[1];if(0===e.length)return n.flush(!0),{length:n.totalLength};var t,r=[],a=y(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;I(i,s)&&r.push(i.getOperatorList(l,o,c).catch(function(e){return(0,h.warn)("getOperatorList - ignoring annotation data during "+'"'.concat(o.name,'" task: "').concat(e,'".')),null}))}}catch(e){a.e(e)}finally{a.f()}return Promise.all(r).then(function(e){n.addOp(h.OPS.beginAnnotations,[]);var t,r=y(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.addOpList(a)}}catch(e){r.e(e)}finally{r.f()}return n.addOp(h.OPS.endAnnotations,[]),n.flush(!0),{length:n.totalLength}})})}},{key:"extractTextContent",value:function(e){var t=this,r=e.handler,a=e.task,n=e.normalizeWhitespace,i=e.sink,o=e.combineTextItems,s=this.pdfManager.ensure(this,"getContentStream"),e=this.loadResources(["ExtGState","XObject","Font"]);return Promise.all([s,e]).then(function(e){e=v(e,1)[0];return new p.PartialEvaluator({xref:t.xref,handler:r,pageIndex:t.pageIndex,idFactory:t.idFactory,fontCache:t.fontCache,builtInCMapCache:t.builtInCMapCache,globalImageCache:t.globalImageCache,options:t.evaluatorOptions,pdfFunctionFactory:t.pdfFunctionFactory}).getTextContent({stream:e,task:a,resources:t.resources,normalizeWhitespace:n,combineTextItems:o,sink:i})})}},{key:"getAnnotationsData",value:function(n){return this._parsedAnnotations.then(function(e){for(var t=[],r=0,a=e.length;r<a;r++)n&&!I(e[r],n)||t.push(e[r].data);return t})}},{key:"content",get:function(){return this.pageDict.get("Contents")}},{key:"resources",get:function(){return(0,h.shadow)(this,"resources",this._getInheritableProperty("Resources")||l.Dict.empty)}},{key:"mediaBox",get:function(){return(0,h.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||A)}},{key:"cropBox",get:function(){return(0,h.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}},{key:"userUnit",get:function(){var e=this.pageDict.get("UserUnit");return(!(0,h.isNum)(e)||e<=0)&&(e=1),(0,h.shadow)(this,"userUnit",e)}},{key:"view",get:function(){var e,t=this.cropBox,r=this.mediaBox;return t===r||(0,h.isArrayEqual)(t,r)?e=r:(t=h.Util.intersect(t,r))&&t[2]-t[0]!=0&&t[3]-t[1]!=0?e=t:(0,h.warn)("Empty /CropBox and /MediaBox intersection."),(0,h.shadow)(this,"view",e||r)}},{key:"rotate",get:function(){var e=this._getInheritableProperty("Rotate")||0;return e%90!=0?e=0:360<=e?e%=360:e<0&&(e=(e%360+360)%360),(0,h.shadow)(this,"rotate",e)}},{key:"annotations",get:function(){return(0,h.shadow)(this,"annotations",this._getInheritableProperty("Annots")||[])}},{key:"_parsedAnnotations",get:function(){var n=this,e=this.pdfManager.ensure(this,"annotations").then(function(){var e,t=[],r=y(n.annotations);try{for(r.s();!(e=r.n()).done;){var a=e.value;t.push(o.AnnotationFactory.create(n.xref,a,n.pdfManager,n.idFactory).catch(function(e){return(0,h.warn)('_parsedAnnotations: "'.concat(e,'".')),null}))}}catch(e){r.e(e)}finally{r.f()}return Promise.all(t).then(function(e){return e.filter(function(e){return!!e})})});return(0,h.shadow)(this,"_parsedAnnotations",e)}}]),u}();t.Page=T;var O=new Uint8Array([37,80,68,70,45]),E=new Uint8Array([115,116,97,114,116,120,114,101,102]),P=new Uint8Array([101,110,100,111,98,106]),F=/^[1-9]\\.[0-9]$/;function R(e,t,r,a){var r=2<arguments.length&&void 0!==r?r:1024,a=3<arguments.length&&void 0!==a&&a,n=t.length,i=e.peekBytes(r),o=i.length-n;if(o<=0)return!1;if(a)for(var s=n-1,c=i.length-1;s<=c;){for(var l=0;l<n&&i[c-l]===t[s-l];)l++;if(n<=l)return e.pos+=c-s,!0;c--}else for(var u=0;u<=o;){for(var h=0;h<n&&i[u+h]===t[h];)h++;if(n<=h)return e.pos+=u,!0;u++}return!1}var _=function(){function a(e,t){var r;if(S(this,a),(0,l.isStream)(t))r=t;else{if(!(0,h.isArrayBuffer)(t))throw new Error("PDFDocument: Unknown argument type");r=new s.Stream(t)}if(r.length<=0)throw new h.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=e,this.stream=r,this.xref=new i.XRef(r,e),this.pdfFunctionFactory=new g.PDFFunctionFactory({xref:this.xref,isEvalSupported:e.evaluatorOptions.isEvalSupported}),this._pagePromises=[]}var e;return C(a,[{key:"parse",value:function(e){this.setup(e);var t,e=this.catalog.catDict.get("Version");(0,l.isName)(e)&&(this.pdfFormatVersion=e.name);try{this.acroForm=this.catalog.catDict.get("AcroForm"),this.acroForm&&(this.xfa=this.acroForm.get("XFA"),t=this.acroForm.get("Fields"),Array.isArray(t)&&0!==t.length||this.xfa||(this.acroForm=null))}catch(e){if(e instanceof f.MissingDataException)throw e;(0,h.info)("Cannot fetch AcroForm entry; assuming no AcroForms are present"),this.acroForm=null}try{var r=this.catalog.catDict.get("Collection");(0,l.isDict)(r)&&0<r.getKeys().length&&(this.collection=r)}catch(e){if(e instanceof f.MissingDataException)throw e;(0,h.info)("Cannot fetch Collection dictionary.")}}},{key:"checkHeader",value:function(){var e=this.stream;if(e.reset(),R(e,O)){e.moveStart();for(var t,r="";32<(t=e.getByte())&&!(12<=r.length);)r+=String.fromCharCode(t);this.pdfFormatVersion||(this.pdfFormatVersion=r.substring(5))}}},{key:"parseStartXRef",value:function(){this.xref.setStartXRef(this.startXRef)}},{key:"setup",value:function(e){this.xref.parse(e),this.catalog=new i.Catalog(this.pdfManager,this.xref)}},{key:"_getLinearizationPage",value:function(t){var r=this.catalog,e=this.linearization,a=l.Ref.get(e.objectNumberFirst,0);return this.xref.fetchAsync(a).then(function(e){if((0,l.isDict)(e,"Page")||(0,l.isDict)(e)&&!e.has("Type")&&e.has("Contents"))return a&&!r.pageKidsCountCache.has(a)&&r.pageKidsCountCache.put(a,1),[e,a];throw new h.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}).catch(function(e){return(0,h.info)(e),r.getPageDict(t)})}},{key:"getPage",value:function(r){var a=this;if(void 0!==this._pagePromises[r])return this._pagePromises[r];var n=this.catalog,e=this.linearization,e=e&&e.pageFirst===r?this._getLinearizationPage(r):n.getPageDict(r);return this._pagePromises[r]=e.then(function(e){var t=v(e,2),e=t[0],t=t[1];return new T({pdfManager:a.pdfManager,xref:a.xref,pageIndex:r,pageDict:e,ref:t,fontCache:n.fontCache,builtInCMapCache:n.builtInCMapCache,globalImageCache:n.globalImageCache,pdfFunctionFactory:a.pdfFunctionFactory})})}},{key:"checkFirstPage",value:function(){var r=this;return this.getPage(0).catch(function(){var t=b(n.default.mark(function e(t){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof f.XRefEntryException)return r._pagePromises.length=0,e.next=4,r.cleanup();e.next=5;break;case 4:throw new f.XRefParseException;case 5:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())}},{key:"fontFallback",value:function(e,t){return this.catalog.fontFallback(e,t)}},{key:"cleanup",value:(e=b(n.default.mark(function e(){var t,r=arguments;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<r.length&&void 0!==r[0]&&r[0],e.abrupt("return",this.catalog?this.catalog.cleanup(t):(0,l.clearPrimitiveCaches)());case 2:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"linearization",get:function(){var e=null;try{e=u.Linearization.create(this.stream)}catch(e){if(e instanceof f.MissingDataException)throw e;(0,h.info)(e)}return(0,h.shadow)(this,"linearization",e)}},{key:"startXRef",get:function(){var e=this.stream,t=0;if(this.linearization)e.reset(),R(e,P)&&(t=e.pos+6-e.start);else{for(var r,a=E.length,n=!1,i=e.end;!n&&0<i;)(i-=1024-a)<0&&(i=0),e.pos=i,n=R(e,E,1024,!0);if(n){for(e.skip(9);r=e.getByte(),(0,f.isWhiteSpace)(r););for(var o="";32<=r&&r<=57;)o+=String.fromCharCode(r),r=e.getByte();t=parseInt(o,10),isNaN(t)&&(t=0)}}return(0,h.shadow)(this,"startXRef",t)}},{key:"numPages",get:function(){var e=this.linearization,e=(e||this.catalog).numPages;return(0,h.shadow)(this,"numPages",e)}},{key:"documentInfo",get:function(){var e={Title:h.isString,Author:h.isString,Subject:h.isString,Keywords:h.isString,Creator:h.isString,Producer:h.isString,CreationDate:h.isString,ModDate:h.isString,Trapped:l.isName},t=this.pdfFormatVersion;"string"==typeof t&&F.test(t)||((0,h.warn)("Invalid PDF header version number: ".concat(t)),t=null);var r,a={PDFFormatVersion:t,IsLinearized:!!this.linearization,IsAcroFormPresent:!!this.acroForm,IsXFAPresent:!!this.xfa,IsCollectionPresent:!!this.collection};try{r=this.xref.trailer.get("Info")}catch(e){if(e instanceof f.MissingDataException)throw e;(0,h.info)("The document information dictionary is invalid.")}if((0,l.isDict)(r)){var n,i=y(r.getKeys());try{for(i.s();!(n=i.n()).done;){var o=n.value,s=r.get(o);if(e[o])e[o](s)?a[o]="string"!=typeof s?s:(0,h.stringToPDFString)(s):(0,h.info)('Bad value in document info for "'.concat(o,'".'));else if("string"==typeof o){var c=void 0;if((0,h.isString)(s))c=(0,h.stringToPDFString)(s);else{if(!((0,l.isName)(s)||(0,h.isNum)(s)||(0,h.isBool)(s))){(0,h.info)('Unsupported value in document info for (custom) "'.concat(o,'".'));continue}c=s}a.Custom||(a.Custom=Object.create(null)),a.Custom[o]=c}}}catch(e){i.e(e)}finally{i.f()}}return(0,h.shadow)(this,"documentInfo",a)}},{key:"fingerprint",get:function(){for(var e=this.xref.trailer.get("ID"),t=Array.isArray(e)&&e[0]&&(0,h.isString)(e[0])&&"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0"!==e[0]?(0,h.stringToBytes)(e[0]):(0,c.calculateMD5)(this.stream.getByteRange(0,1024),0,1024),r=[],a=0,n=t.length;a<n;a++){var i=t[a].toString(16);r.push(i.padStart(2,"0"))}return(0,h.shadow)(this,"fingerprint",r.join(""))}}]),a}();t.PDFDocument=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileSpec=t.XRef=t.ObjectLoader=t.Catalog=void 0;var a,p=(a=r(2))&&a.__esModule?a:{default:a},P=r(5),F=r(198),R=r(204),_=r(201),i=r(215),g=r(216),n=r(217);function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(r);return e=a?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==d(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r,a,n,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(a,n)}function h(s){return function(){var e=this,o=arguments;return new Promise(function(t,r){var a=s.apply(e,o);function n(e){u(a,t,r,n,i,"next",e)}function i(e){u(a,t,r,n,i,"throw",e)}n(void 0)})}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],a=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(n)throw i}}return r}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=b(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,t=function(){};return{s:t,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,n=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw n}}}}function b(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function k(e,t,r){return t&&w(e.prototype,t),r&&w(e,r),e}function S(e){return(0,F.isDict)(e)?e.get("D"):e}var x=function(){function p(e,t){if(y(this,p),this.pdfManager=e,this.xref=t,this.catDict=t.getCatalogObj(),!(0,F.isDict)(this.catDict))throw new P.FormatError("Catalog object is not a dictionary.");this.fontCache=new F.RefSetCache,this.builtInCMapCache=new Map,this.globalImageCache=new n.GlobalImageCache,this.pageKidsCountCache=new F.RefSetCache}return k(p,[{key:"_readDocumentOutline",value:function(){var e=this.catDict.get("Outlines");if(!(0,F.isDict)(e))return null;if(e=e.getRaw("First"),!(0,F.isRef)(e))return null;var t={items:[]},r=[{obj:e,parent:t}],a=new F.RefSet;a.put(e);for(var n=this.xref,i=new Uint8ClampedArray(3);0<r.length;){var o=r.shift(),s=n.fetchIfRef(o.obj);if(null!==s){if(!s.has("Title"))throw new P.FormatError("Invalid outline item encountered.");var c={url:null,dest:null};p.parseDestDictionary({destDict:s,resultObj:c,docBaseUrl:this.pdfManager.docBaseUrl});var l=s.get("Title"),u=s.get("F")||0,h=s.getArray("C"),f=s.get("Count"),d=i;!Array.isArray(h)||3!==h.length||0===h[0]&&0===h[1]&&0===h[2]||(d=g.ColorSpace.singletons.rgb.getRgb(h,0));u={dest:c.dest,url:c.url,unsafeUrl:c.unsafeUrl,newWindow:c.newWindow,title:(0,P.stringToPDFString)(l),color:d,count:Number.isInteger(f)?f:void 0,bold:!!(2&u),italic:!!(1&u),items:[]};o.parent.items.push(u),e=s.getRaw("First"),(0,F.isRef)(e)&&!a.has(e)&&(r.push({obj:e,parent:u}),a.put(e)),e=s.getRaw("Next"),(0,F.isRef)(e)&&!a.has(e)&&(r.push({obj:e,parent:o.parent}),a.put(e))}}return 0<t.items.length?t.items:null}},{key:"_readPermissions",value:function(){var e=this.xref.trailer.get("Encrypt");if(!(0,F.isDict)(e))return null;var t=e.get("P");if(!(0,P.isNum)(t))return null;t+=Math.pow(2,32);var r,a=[];for(r in P.PermissionFlag){var n=P.PermissionFlag[r];t&n&&a.push(n)}return a}},{key:"getDestination",value:function(e){var t=this._readDests();return t instanceof I||t instanceof F.Dict?S(t.get(e)||null):null}},{key:"_readDests",value:function(){var e=this.catDict.get("Names");return e&&e.has("Dests")?new I(e.getRaw("Dests"),this.xref):this.catDict.has("Dests")?this.catDict.get("Dests"):void 0}},{key:"_readPageLabels",value:function(){var e=this.catDict.getRaw("PageLabels");if(!e)return null;for(var t=new Array(this.numPages),r=null,a="",n=new T(e,this.xref).getAll(),i="",o=1,s=0,c=this.numPages;s<c;s++){if(s in n){var l=n[s];if(!(0,F.isDict)(l))throw new P.FormatError("PageLabel is not a dictionary.");if(l.has("Type")&&!(0,F.isName)(l.get("Type"),"PageLabel"))throw new P.FormatError("Invalid type in PageLabel dictionary.");if(l.has("S")){var u=l.get("S");if(!(0,F.isName)(u))throw new P.FormatError("Invalid style in PageLabel dictionary.");r=u.name}else r=null;if(l.has("P")){u=l.get("P");if(!(0,P.isString)(u))throw new P.FormatError("Invalid prefix in PageLabel dictionary.");a=(0,P.stringToPDFString)(u)}else a="";if(l.has("St")){l=l.get("St");if(!(Number.isInteger(l)&&1<=l))throw new P.FormatError("Invalid start in PageLabel dictionary.");o=l}else o=1}switch(r){case"D":i=o;break;case"R":case"r":i=(0,_.toRomanNumerals)(o,"r"===r);break;case"A":case"a":for(var h=o-1,f=String.fromCharCode(("a"===r?97:65)+h%26),d=[],p=0,g=h/26|0;p<=g;p++)d.push(f);i=d.join("");break;default:if(r)throw new P.FormatError('Invalid style "'.concat(r,'" in PageLabel dictionary.'));i=""}t[s]=a+i,o++}return t}},{key:"fontFallback",value:function(n,i){var t=[];return this.fontCache.forEach(function(e){t.push(e)}),Promise.all(t).then(function(e){var t,r=m(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a.loadedName===n)return void a.fallback(i)}}catch(e){r.e(e)}finally{r.f()}})}},{key:"cleanup",value:function(){var a=this,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];(0,F.clearPrimitiveCaches)(),this.globalImageCache.clear(e),this.pageKidsCountCache.clear();var t=[];return this.fontCache.forEach(function(e){t.push(e)}),Promise.all(t).then(function(e){var t,r=m(e);try{for(r.s();!(t=r.n()).done;)delete t.value.dict.translated}catch(e){r.e(e)}finally{r.f()}a.fontCache.clear(),a.builtInCMapCache.clear()})}},{key:"getPageDict",value:function(i){var o,s=(0,P.createPromiseCapability)(),c=[this.catDict.getRaw("Pages")],l=new F.RefSet,u=this.xref,h=this.pageKidsCountCache,f=0;return function n(){for(;c.length;){var e=function(){var t=c.pop();if((0,F.isRef)(t))return 0<(o=h.get(t))&&f+o<i?(f+=o,"continue"):(l.has(t)?s.reject(new P.FormatError("Pages tree contains circular reference.")):(l.put(t),u.fetchAsync(t).then(function(e){(0,F.isDict)(e,"Page")||(0,F.isDict)(e)&&!e.has("Kids")?i===f?(t&&!h.has(t)&&h.put(t,1),s.resolve([e,t])):(f++,n()):(c.push(e),n())},s.reject)),{v:void 0});if(!(0,F.isDict)(t))return s.reject(new P.FormatError("Page dictionary kid reference points to wrong type of object.")),{v:void 0};if(o=t.get("Count"),Number.isInteger(o)&&0<=o){var e=t.objId;if(e&&!h.has(e)&&h.put(e,o),f+o<=i)return f+=o,"continue"}var r=t.get("Kids");if(!Array.isArray(r))return(0,F.isName)(t.get("Type"),"Page")||!t.has("Type")&&t.has("Contents")?f===i?(s.resolve([t,null]),{v:void 0}):(f++,"continue"):(s.reject(new P.FormatError("Page dictionary kids object is not an array.")),{v:void 0});for(var a=r.length-1;0<=a;a--)c.push(r[a])}();if("continue"!==e&&"object"===d(e))return e.v}s.reject(new Error("Page index ".concat(i," not found.")))}(),s.promise}},{key:"getPageIndex",value:function(t){var l=this.xref;var a=0;return function r(e){return o=e,c=0,l.fetchAsync(o).then(function(e){if((0,F.isRefsEqual)(o,t)&&!(0,F.isDict)(e,"Page")&&(!(0,F.isDict)(e)||e.has("Type")||!e.has("Contents")))throw new P.FormatError("The reference does not point to a /Page dictionary.");if(!e)return null;if(!(0,F.isDict)(e))throw new P.FormatError("Node must be a dictionary.");return s=e.getRaw("Parent"),e.getAsync("Parent")}).then(function(e){if(!e)return null;if(!(0,F.isDict)(e))throw new P.FormatError("Parent must be a dictionary.");return e.getAsync("Kids")}).then(function(e){if(!e)return null;for(var t=[],r=!1,a=0,n=e.length;a<n;a++){var i=e[a];if(!(0,F.isRef)(i))throw new P.FormatError("Kid must be a reference.");if((0,F.isRefsEqual)(i,o)){r=!0;break}t.push(l.fetchAsync(i).then(function(e){if(!(0,F.isDict)(e))throw new P.FormatError("Kid node must be a dictionary.");e.has("Count")?c+=e.get("Count"):c++}))}if(!r)throw new P.FormatError("Kid reference not found in parent's kids.");return Promise.all(t).then(function(){return[c,s]})}).then(function(e){if(!e)return a;var e=(t=f(e,2))[0],t=t[1];return a+=e,r(t)});var o,s,c}(t)}},{key:"metadata",get:function(){var e=this.catDict.getRaw("Metadata");if(!(0,F.isRef)(e))return(0,P.shadow)(this,"metadata",null);var t,r=!(this.xref.encrypt&&this.xref.encrypt.encryptMetadata),a=this.xref.fetch(e,r);if(a&&(0,F.isDict)(a.dict)){e=a.dict.get("Type"),r=a.dict.get("Subtype");if((0,F.isName)(e,"Metadata")&&(0,F.isName)(r,"XML"))try{t=(0,P.stringToUTF8String)((0,P.bytesToString)(a.getBytes()))}catch(e){if(e instanceof _.MissingDataException)throw e;(0,P.info)("Skipping invalid metadata.")}}return(0,P.shadow)(this,"metadata",t)}},{key:"toplevelPagesDict",get:function(){var e=this.catDict.get("Pages");if(!(0,F.isDict)(e))throw new P.FormatError("Invalid top-level pages dictionary.");return(0,P.shadow)(this,"toplevelPagesDict",e)}},{key:"documentOutline",get:function(){var e=null;try{e=this._readDocumentOutline()}catch(e){if(e instanceof _.MissingDataException)throw e;(0,P.warn)("Unable to read document outline.")}return(0,P.shadow)(this,"documentOutline",e)}},{key:"permissions",get:function(){var e=null;try{e=this._readPermissions()}catch(e){if(e instanceof _.MissingDataException)throw e;(0,P.warn)("Unable to read permissions.")}return(0,P.shadow)(this,"permissions",e)}},{key:"numPages",get:function(){var e=this.toplevelPagesDict.get("Count");if(!Number.isInteger(e))throw new P.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,P.shadow)(this,"numPages",e)}},{key:"destinations",get:function(){var e=this._readDests(),r=Object.create(null);if(e instanceof I){var t,a=e.getAll();for(t in a)r[t]=S(a[t])}else e instanceof F.Dict&&e.forEach(function(e,t){t&&(r[e]=S(t))});return(0,P.shadow)(this,"destinations",r)}},{key:"pageLabels",get:function(){var e=null;try{e=this._readPageLabels()}catch(e){if(e instanceof _.MissingDataException)throw e;(0,P.warn)("Unable to read page labels.")}return(0,P.shadow)(this,"pageLabels",e)}},{key:"pageLayout",get:function(){var e=this.catDict.get("PageLayout"),t="";if((0,F.isName)(e))switch(e.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":t=e.name}return(0,P.shadow)(this,"pageLayout",t)}},{key:"pageMode",get:function(){var e=this.catDict.get("PageMode"),t="UseNone";if((0,F.isName)(e))switch(e.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":t=e.name}return(0,P.shadow)(this,"pageMode",t)}},{key:"viewerPreferences",get:function(){var a=this,e={HideToolbar:P.isBool,HideMenubar:P.isBool,HideWindowUI:P.isBool,FitWindow:P.isBool,CenterWindow:P.isBool,DisplayDocTitle:P.isBool,NonFullScreenPageMode:F.isName,Direction:F.isName,ViewArea:F.isName,ViewClip:F.isName,PrintArea:F.isName,PrintClip:F.isName,PrintScaling:F.isName,Duplex:F.isName,PickTrayByPDFSize:P.isBool,PrintPageRange:Array.isArray,NumCopies:Number.isInteger},t=this.catDict.get("ViewerPreferences"),r=null;if((0,F.isDict)(t))for(var n in e)if(t.has(n)){var i=t.get(n);if(e[n](i)){var o=void 0;switch(n){case"NonFullScreenPageMode":switch(i.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":o=i.name;break;default:o="UseNone"}break;case"Direction":switch(i.name){case"L2R":case"R2L":o=i.name;break;default:o="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":switch(i.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":o=i.name;break;default:o="CropBox"}break;case"PrintScaling":switch(i.name){case"None":case"AppDefault":o=i.name;break;default:o="AppDefault"}break;case"Duplex":switch(i.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":o=i.name;break;default:o="None"}break;case"PrintPageRange":if(i.length%2!=0)break;i.every(function(e,t,r){return Number.isInteger(e)&&0<e&&(0===t||e>=r[t-1])&&e<=a.numPages})&&(o=i);break;case"NumCopies":0<i&&(o=i);break;default:if("boolean"!=typeof i)throw new P.FormatError("viewerPreferences - expected a boolean value for: ".concat(n));o=i}void 0!==o?(r=r||Object.create(null))[n]=o:(0,P.info)('Bad value in ViewerPreferences for "'.concat(n,'".'))}else(0,P.info)('Bad value in ViewerPreferences for "'.concat(n,'".'))}return(0,P.shadow)(this,"viewerPreferences",r)}},{key:"openAction",get:function(){var e,t=this.catDict.get("OpenAction"),r=null;return(0,F.isDict)(t)?((e=new F.Dict(this.xref)).set("A",t),p.parseDestDictionary({destDict:e,resultObj:e={url:null,dest:null,action:null}}),Array.isArray(e.dest)?(r=r||Object.create(null)).dest=e.dest:e.action&&((r=r||Object.create(null)).action=e.action)):Array.isArray(t)&&((r=r||Object.create(null)).dest=t),(0,P.shadow)(this,"openAction",r)}},{key:"attachments",get:function(){var e=this.catDict.get("Names"),t=null;if(e&&e.has("EmbeddedFiles")){var r,a=new I(e.getRaw("EmbeddedFiles"),this.xref).getAll();for(r in a){var n=new O(a[r],this.xref);(t=t||Object.create(null))[(0,P.stringToPDFString)(r)]=n.serializable}}return(0,P.shadow)(this,"attachments",t)}},{key:"javaScript",get:function(){var e=this.catDict.get("Names"),r=null;function t(e){var t=e.get("S");if((0,F.isName)(t,"JavaScript")){e=e.get("JS");if((0,F.isStream)(e))e=(0,P.bytesToString)(e.getBytes());else if(!(0,P.isString)(e))return;(r=r||[]).push((0,P.stringToPDFString)(e))}}if(e&&e.has("JavaScript")){var a,n=new I(e.getRaw("JavaScript"),this.xref).getAll();for(a in n){var i=n[a];(0,F.isDict)(i)&&t(i)}}e=this.catDict.get("OpenAction");return(0,F.isDict)(e)&&(0,F.isName)(e.get("S"),"JavaScript")&&t(e),(0,P.shadow)(this,"javaScript",r)}}],[{key:"parseDestDictionary",value:function(e){var t=e.destDict;if((0,F.isDict)(t)){var r=e.resultObj;if("object"===d(r)){var a,n,i,o=e.docBaseUrl||null,s=t.get("A");if(!(0,F.isDict)(s)&&t.has("Dest")&&(s=t.get("Dest")),(0,F.isDict)(s)){e=s.get("S");if(!(0,F.isName)(e))return void(0,P.warn)("parseDestDictionary: Invalid type in Action dictionary.");var c=e.name;switch(c){case"URI":i=s.get("URI"),(0,F.isName)(i)?i="/"+i.name:(0,P.isString)(i)&&(i=(n=i).startsWith("www.")?"http://".concat(n):n);break;case"GoTo":a=s.get("D");break;case"Launch":case"GoToR":var l=s.get("F");(0,F.isDict)(l)?i=l.get("F")||null:(0,P.isString)(l)&&(i=l);var u=s.get("D");u&&((0,F.isName)(u)&&(u=u.name),(0,P.isString)(i)&&(l=i.split("#")[0],(0,P.isString)(u)?i=l+"#"+u:Array.isArray(u)&&(i=l+"#"+JSON.stringify(u))));u=s.get("NewWindow");(0,P.isBool)(u)&&(r.newWindow=u);break;case"Named":var h=s.get("N");(0,F.isName)(h)&&(r.action=h.name);break;case"JavaScript":h=s.get("JS");if((0,F.isStream)(h)?f=(0,P.bytesToString)(h.getBytes()):(0,P.isString)(h)&&(f=h),f){var f=new RegExp("^\\\\s*("+["app.launchURL","window.open"].join("|").split(".").join("\\\\.")+")\\\\((?:'|\\")([^'\\"]*)(?:'|\\")(?:,\\\\s*(\\\\w+)\\\\)|\\\\))","i").exec((0,P.stringToPDFString)(f));if(f&&f[2]){i=f[2],"true"===f[3]&&"app.launchURL"===f[1]&&(r.newWindow=!0);break}}default:(0,P.warn)('parseDestDictionary: unsupported action type "'.concat(c,'".'))}}else t.has("Dest")&&(a=t.get("Dest"));(0,P.isString)(i)&&(i=function(t){try{return(0,P.stringToUTF8String)(t)}catch(e){return t}}(i),(o=(0,P.createValidAbsoluteUrl)(i,o))&&(r.url=o.href),r.unsafeUrl=i),a&&((0,F.isName)(a)&&(a=a.name),((0,P.isString)(a)||Array.isArray(a))&&(r.dest=a))}else(0,P.warn)("parseDestDictionary: \`resultObj\` must be an object.")}else(0,P.warn)("parseDestDictionary: \`destDict\` must be a dictionary.")}}]),p}();t.Catalog=x;C.prototype={setStartXRef:function(e){this.startXRefQueue=[e]},parse:function(e){var t,r,a,n=e?((0,P.warn)("Indexing all PDF objects"),this.indexObjects()):this.readXRef();n.assignXref(this),this.trailer=n;try{t=n.get("Encrypt")}catch(e){if(e instanceof _.MissingDataException)throw e;(0,P.warn)('XRef.parse - Invalid "Encrypt" reference: "'.concat(e,'".'))}(0,F.isDict)(t)&&(r=(r=n.get("ID"))&&r.length?r[0]:"",t.suppressEncryption=!0,this.encrypt=new i.CipherTransformFactory(t,r,this.pdfManager.password));try{a=n.get("Root")}catch(e){if(e instanceof _.MissingDataException)throw e;(0,P.warn)('XRef.parse - Invalid "Root" reference: "'.concat(e,'".'))}if(!(0,F.isDict)(a)||!a.has("Pages")){if(!e)throw new _.XRefParseException;throw new P.FormatError("Invalid root reference")}this.root=a},processXRefTable:function(e){"tableState"in this||(this.tableState={entryNum:0,streamPos:e.lexer.stream.pos,parserBuf1:e.buf1,parserBuf2:e.buf2});var t=this.readXRefTable(e);if(!(0,F.isCmd)(t,"trailer"))throw new P.FormatError("Invalid XRef table: could not find trailer dictionary");e=e.getObj();if(!(0,F.isDict)(e)&&e.dict&&(e=e.dict),!(0,F.isDict)(e))throw new P.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,e},readXRefTable:function(e){var t,r=e.lexer.stream,a=this.tableState;for(r.pos=a.streamPos,e.buf1=a.parserBuf1,e.buf2=a.parserBuf2;;){if(!("firstEntryNum"in a&&"entryCount"in a)){if((0,F.isCmd)(t=e.getObj(),"trailer"))break;a.firstEntryNum=t,a.entryCount=e.getObj()}var n=a.firstEntryNum,i=a.entryCount;if(!Number.isInteger(n)||!Number.isInteger(i))throw new P.FormatError("Invalid XRef table: wrong types in subsection header");for(var o=a.entryNum;o<i;o++){a.streamPos=r.pos,a.entryNum=o,a.parserBuf1=e.buf1,a.parserBuf2=e.buf2;var s={};s.offset=e.getObj(),s.gen=e.getObj();var c=e.getObj();if(c instanceof F.Cmd)switch(c.cmd){case"f":s.free=!0;break;case"n":s.uncompressed=!0}if(!Number.isInteger(s.offset)||!Number.isInteger(s.gen)||!s.free&&!s.uncompressed)throw new P.FormatError("Invalid entry in XRef subsection: ".concat(n,", ").concat(i));0===o&&s.free&&1===n&&(n=0),this.entries[o+n]||(this.entries[o+n]=s)}a.entryNum=0,a.streamPos=r.pos,a.parserBuf1=e.buf1,a.parserBuf2=e.buf2,delete a.firstEntryNum,delete a.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new P.FormatError("Invalid XRef table: unexpected first object");return t},processXRefStream:function(e){var t,r,a;return"streamState"in this||(r=(t=e.dict).get("W"),a=(a=t.get("Index"))||[0,t.get("Size")],this.streamState={entryRanges:a,byteWidths:r,entryNum:0,streamPos:e.pos}),this.readXRefStream(e),delete this.streamState,e.dict},readXRefStream:function(e){var t,r=this.streamState;e.pos=r.streamPos;for(var a=r.byteWidths,n=a[0],i=a[1],o=a[2],s=r.entryRanges;0<s.length;){var c=s[0],l=s[1];if(!Number.isInteger(c)||!Number.isInteger(l))throw new P.FormatError("Invalid XRef range fields: ".concat(c,", ").concat(l));if(!Number.isInteger(n)||!Number.isInteger(i)||!Number.isInteger(o))throw new P.FormatError("Invalid XRef entry fields length: ".concat(c,", ").concat(l));for(t=r.entryNum;t<l;++t){r.entryNum=t,r.streamPos=e.pos;for(var u=0,h=0,f=0,d=0;d<n;++d)u=u<<8|e.getByte();for(0===n&&(u=1),d=0;d<i;++d)h=h<<8|e.getByte();for(d=0;d<o;++d)f=f<<8|e.getByte();var p={};switch(p.offset=h,p.gen=f,u){case 0:p.free=!0;break;case 1:p.uncompressed=!0;break;case 2:break;default:throw new P.FormatError("Invalid XRef entry type: ".concat(u))}this.entries[c+t]||(this.entries[c+t]=p)}r.entryNum=0,r.streamPos=e.pos,s.splice(0,2)}},indexObjects:function(){var n=10,i=13,o=60;function e(e,t,r){for(var a=r.length,n=e.length,i=0;t<n;){for(var o=0;o<a&&e[t+o]===r[o];)++o;if(a<=o)break;t++,i++}return i}var t=/^(\\d+)\\s+(\\d+)\\s+obj\\b/,r=/\\bendobj[\\b\\s]$/,a=/\\s+(\\d+\\s+\\d+\\s+obj[\\b\\s<])$/,s=new Uint8Array([116,114,97,105,108,101,114]),c=new Uint8Array([115,116,97,114,116,120,114,101,102]),l=new Uint8Array([111,98,106]),u=new Uint8Array([47,88,82,101,102]);this.entries.length=0;var h=this.stream;h.pos=0;for(var f,d,p,g=h.getBytes(),m=h.start,b=g.length,v=[],y=[];m<b;){var w=g[m];if(9!==w&&w!==n&&w!==i&&32!==w)if(37!==w){var k=function(e,t){for(var r="",a=e[t];a!==n&&a!==i&&a!==o&&!(++t>=e.length);)r+=String.fromCharCode(a),a=e[t];return r}(g,m);if(k.startsWith("xref")&&(4===k.length||/\\s/.test(k[4])))m+=e(g,m,s),v.push(m),m+=e(g,m,c);else if(x=t.exec(k)){var S=0|x[1],x=0|x[2];this.entries[S]&&this.entries[S].gen!==x||(this.entries[S]={offset:m-h.start,gen:x,uncompressed:!0});for(var C=void 0,A=m+k.length;A<g.length;){var I=A+e(g,A,l)+4,C=I-m,T=Math.max(I-25,A),T=(0,P.bytesToString)(g.subarray(T,I));if(r.test(T))break;T=a.exec(T);if(T&&T[1]){(0,P.warn)('indexObjects: Found new "obj" inside of another "obj", caused by missing "endobj" -- trying to recover.'),C-=T[1].length;break}A=I}S=g.subarray(m,m+C),x=e(S,0,u);x<C&&S[x+5]<64&&(y.push(m-h.start),this.xrefstms[m-h.start]=1),m+=C}else k.startsWith("trailer")&&(7===k.length||/\\s/.test(k[7]))?(v.push(m),m+=e(g,m,c)):m+=k.length+1}else for(;!(b<=++m)&&((w=g[m])!==n&&w!==i););else++m}for(f=0,d=y.length;f<d;++f)this.startXRefQueue.push(y[f]),this.readXRef(!0);for(f=0,d=v.length;f<d;++f){h.pos=v[f];var O=new R.Parser({lexer:new R.Lexer(h),xref:this,allowStreams:!0,recoveryMode:!0}),E=O.getObj();if((0,F.isCmd)(E,"trailer")){E=O.getObj();if((0,F.isDict)(E)){O=void 0;try{O=E.get("Root")}catch(e){if(e instanceof _.MissingDataException)throw e;continue}if((0,F.isDict)(O)&&O.has("Pages")){if(E.has("ID"))return E;p=E}}}}if(p)return p;throw new P.InvalidPDFException("Invalid PDF structure.")},readXRef:function(e){var t=this.stream,r=Object.create(null);try{for(;this.startXRefQueue.length;){var a=this.startXRefQueue[0];if(r[a])(0,P.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();else{r[a]=!0,t.pos=a+t.start;var n=new R.Parser({lexer:new R.Lexer(t),xref:this,allowStreams:!0}),i=n.getObj();if((0,F.isCmd)(i,"xref")){var o,s=this.processXRefTable(n);this.topDict||(this.topDict=s),i=s.get("XRefStm"),Number.isInteger(i)&&((o=i)in this.xrefstms||(this.xrefstms[o]=1,this.startXRefQueue.push(o)))}else{if(!Number.isInteger(i))throw new P.FormatError("Invalid XRef stream header");if(!Number.isInteger(n.getObj())||!(0,F.isCmd)(n.getObj(),"obj")||!(0,F.isStream)(i=n.getObj()))throw new P.FormatError("Invalid XRef stream");if(s=this.processXRefStream(i),this.topDict||(this.topDict=s),!s)throw new P.FormatError("Failed to read XRef stream")}i=s.get("Prev"),Number.isInteger(i)?this.startXRefQueue.push(i):(0,F.isRef)(i)&&this.startXRefQueue.push(i.num),this.startXRefQueue.shift()}}return this.topDict}catch(e){if(e instanceof _.MissingDataException)throw e;(0,P.info)("(while reading XRef): "+e)}if(!e)throw new _.XRefParseException},getEntry:function(e){e=this.entries[e];return e&&!e.free&&e.offset?e:null},fetchIfRef:function(e,t){return e instanceof F.Ref?this.fetch(e,t):e},fetch:function(e,t){if(!(e instanceof F.Ref))throw new Error("ref object is not a reference");var r=e.num,a=this._cacheMap.get(r);if(void 0!==a)return a instanceof F.Dict&&!a.objId&&(a.objId=e.toString()),a;a=this.getEntry(r);return null===a?this._cacheMap.set(r,a):(a=a.uncompressed?this.fetchUncompressed(e,a,t):this.fetchCompressed(e,a,t),(0,F.isDict)(a)?a.objId=e.toString():(0,F.isStream)(a)&&(a.dict.objId=e.toString())),a},fetchUncompressed:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=e.gen,n=e.num;if(t.gen!==a)throw new _.XRefEntryException("Inconsistent generation in XRef: ".concat(e));var i=this.stream.makeSubStream(t.offset+this.stream.start),o=new R.Parser({lexer:new R.Lexer(i),xref:this,allowStreams:!0}),s=o.getObj(),c=o.getObj(),i=o.getObj();if(s!==n||c!==a||!(i instanceof F.Cmd))throw new _.XRefEntryException("Bad (uncompressed) XRef entry: ".concat(e));if("obj"===i.cmd)return t=this.encrypt&&!r?o.getObj(this.encrypt.createCipherTransform(n,a)):o.getObj(),(0,F.isStream)(t)||this._cacheMap.set(n,t),t;if(i.cmd.startsWith("obj")&&(n=parseInt(i.cmd.substring(3),10),!Number.isNaN(n)))return n;throw new _.XRefEntryException("Bad (uncompressed) XRef entry: ".concat(e))},fetchCompressed:function(e,t){var r=t.offset,a=this.fetch(F.Ref.get(r,0));if(!(0,F.isStream)(a))throw new P.FormatError("bad ObjStm stream");var n=a.dict.get("First"),i=a.dict.get("N");if(!Number.isInteger(n)||!Number.isInteger(i))throw new P.FormatError("invalid first and n parameters for ObjStm stream");for(var o=new R.Parser({lexer:new R.Lexer(a),xref:this,allowStreams:!0}),s=new Array(i),c=0;c<i;++c){var l=o.getObj();if(!Number.isInteger(l))throw new P.FormatError("invalid object number in the ObjStm stream: ".concat(l));var u=o.getObj();if(!Number.isInteger(u))throw new P.FormatError("invalid object offset in the ObjStm stream: ".concat(u));s[c]=l}for(var h=new Array(i),f=0;f<i;++f){var d,p,g=o.getObj();h[f]=g,o.buf1 instanceof F.Cmd&&"endobj"===o.buf1.cmd&&o.shift(),(0,F.isStream)(g)||(d=s[f],(p=this.entries[d])&&p.offset===r&&p.gen===f&&this._cacheMap.set(d,g))}if(void 0===(t=h[t.gen]))throw new _.XRefEntryException("Bad (compressed) XRef entry: ".concat(e));return t},fetchIfRefAsync:function(t,r){var a=this;return h(p.default.mark(function e(){return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof F.Ref)return e.abrupt("return",a.fetchAsync(t,r));e.next=2;break;case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}},e)}))()},fetchAsync:function(t,r){var a=this;return h(p.default.mark(function e(){return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",a.fetch(t,r));case 4:if(e.prev=4,e.t0=e.catch(0),e.t0 instanceof _.MissingDataException){e.next=8;break}throw e.t0;case 8:return e.next=10,a.pdfManager.requestRange(e.t0.begin,e.t0.end);case 10:return e.abrupt("return",a.fetchAsync(t,r));case 11:case"end":return e.stop()}},e,null,[[0,4]])}))()},getCatalogObj:function(){return this.root}},x=C;function C(e,t){this.stream=e,this.pdfManager=t,this.entries=[],this.xrefstms=Object.create(null),this._cacheMap=new Map,this.stats={streamTypes:Object.create(null),fontTypes:Object.create(null)}}t.XRef=x;var A=function(){function a(e,t,r){y(this,a),this.constructor===a&&(0,P.unreachable)("Cannot initialize NameOrNumberTree."),this.root=e,this.xref=t,this._type=r}return k(a,[{key:"getAll",value:function(){var e=Object.create(null);if(!this.root)return e;var t=this.xref,r=new F.RefSet;r.put(this.root);for(var a=[this.root];0<a.length;){var n=t.fetchIfRef(a.shift());if((0,F.isDict)(n))if(n.has("Kids"))for(var i=n.get("Kids"),o=0,s=i.length;o<s;o++){var c=i[o];if(r.has(c))throw new P.FormatError('Duplicate entry in "'.concat(this._type,'" tree.'));a.push(c),r.put(c)}else{var l=n.get(this._type);if(Array.isArray(l))for(var u=0,h=l.length;u<h;u+=2)e[t.fetchIfRef(l[u])]=t.fetchIfRef(l[u+1])}}return e}},{key:"get",value:function(e){if(!this.root)return null;for(var t=this.xref,r=t.fetchIfRef(this.root),a=0;r.has("Kids");){if(10<++a)return(0,P.warn)('Search depth limit reached for "'.concat(this._type,'" tree.')),null;var n=r.get("Kids");if(!Array.isArray(n))return null;for(var i=0,o=n.length-1;i<=o;){var s=i+o>>1,c=t.fetchIfRef(n[s]).get("Limits");if(e<t.fetchIfRef(c[0]))o=s-1;else{if(!(e>t.fetchIfRef(c[1]))){r=t.fetchIfRef(n[s]);break}i=1+s}}if(o<i)return null}var l=r.get(this._type);if(Array.isArray(l)){for(var u=0,h=l.length-2;u<=h;){var f=u+h>>1,d=f+(1&f),f=t.fetchIfRef(l[d]);if(e<f)h=d-2;else{if(!(f<e))return t.fetchIfRef(l[1+d]);u=2+d}}(0,P.info)('Falling back to an exhaustive search, for key "'.concat(e,'", ')+'in "'.concat(this._type,'" tree.'));for(var p=0,g=l.length;p<g;p+=2)if(t.fetchIfRef(l[p])===e)return(0,P.warn)('The "'.concat(e,'" key was found at an incorrect, ')+'i.e. out-of-order, position in "'.concat(this._type,'" tree.')),t.fetchIfRef(l[p+1])}return null}}]),a}(),I=function(){o(a,A);var r=c(a);function a(e,t){return y(this,a),r.call(this,e,t,"Names")}return a}(),T=function(){o(a,A);var r=c(a);function a(e,t){return y(this,a),r.call(this,e,t,"Nums")}return a}(),O=(E.prototype={get filename(){var e;return!this._filename&&this.root&&(e=B(this.root)||"unnamed",this._filename=(0,P.stringToPDFString)(e).replace(/\\\\\\\\/g,"\\\\").replace(/\\\\\\//g,"/").replace(/\\\\/g,"/")),this._filename},get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=B(this.root.get("EF")));var e,t=null;return this.contentRef?(e=this.xref.fetchIfRef(this.contentRef))&&(0,F.isStream)(e)?t=e.getBytes():(0,P.warn)("Embedded file specification points to non-existing/invalid content"):(0,P.warn)("Embedded file specification does not have a content"),t},get serializable(){return{filename:this.filename,content:this.content}}},E);function E(e,t){e&&(0,F.isDict)(e)&&(this.xref=t,(this.root=e).has("FS")&&(this.fs=e.get("FS")),this.description=e.has("Desc")?(0,P.stringToPDFString)(e.get("Desc")):"",e.has("RF")&&(0,P.warn)("Related file specifications are not supported"),this.contentAvailable=!0,e.has("EF")||(this.contentAvailable=!1,P.warn)("Non-embedded file specifications are not supported"))}function B(e){return e.has("UF")?e.get("UF"):e.has("F")?e.get("F"):e.has("Unix")?e.get("Unix"):e.has("Mac")?e.get("Mac"):e.has("DOS")?e.get("DOS"):null}t.FileSpec=O;L.prototype={load:function(){var s=this;return h(p.default.mark(function e(){var t,r,a,n,i,o;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.xref.stream.allChunksLoaded||s.xref.stream.allChunksLoaded())return e.abrupt("return",void 0);e.next=2;break;case 2:for(t=s.keys,r=s.dict,s.refSet=new F.RefSet,a=[],n=0,i=t.length;n<i;n++)void 0!==(o=r.getRaw(t[n]))&&a.push(o);return e.abrupt("return",s._walk(a));case 7:case"end":return e.stop()}},e)}))()},_walk:function(f){var d=this;return h(p.default.mark(function e(){var t,r,a,n,i,o,s,c,l,u,h;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=[],r=[];case 2:if(!f.length){e.next=22;break}if(!((a=f.pop())instanceof F.Ref)){e.next=18;break}if(d.refSet.has(a))return e.abrupt("continue",2);e.next=7;break;case 7:e.prev=7,d.refSet.put(a),a=d.xref.fetch(a),e.next=18;break;case 12:if(e.prev=12,e.t0=e.catch(7),e.t0 instanceof _.MissingDataException){e.next=16;break}throw e.t0;case 16:t.push(a),r.push({begin:e.t0.begin,end:e.t0.end});case 18:if(a&&a.getBaseStreams){for(n=a.getBaseStreams(),i=!1,o=0,s=n.length;o<s;o++)(c=n[o]).allChunksLoaded&&!c.allChunksLoaded()&&(i=!0,r.push({begin:c.start,end:c.end}));i&&t.push(a)}!function(e,t){if(e instanceof F.Dict||(0,F.isStream)(e))for(var r=e instanceof F.Dict?e:e.dict,a=r.getKeys(),n=0,i=a.length;n<i;n++){var o=r.getRaw(a[n]);M(o)&&t.push(o)}else if(Array.isArray(e))for(var s=0,c=e.length;s<c;s++){var l=e[s];M(l)&&t.push(l)}}(a,f),e.next=2;break;case 22:if(r.length)return e.next=25,d.xref.stream.manager.requestRanges(r);e.next=27;break;case 25:for(l=0,u=t.length;l<u;l++)(h=t[l])instanceof F.Ref&&d.refSet.remove(h);return e.abrupt("return",d._walk(t));case 27:return d.refSet=null,e.abrupt("return",void 0);case 29:case"end":return e.stop()}},e,null,[[7,12]])}))()}},x=L;function M(e){return e instanceof F.Ref||e instanceof F.Dict||Array.isArray(e)||(0,F.isStream)(e)}function L(e,t,r){this.dict=e,this.keys=t,this.xref=r,this.refSet=null}t.ObjectLoader=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=t.Linearization=t.Lexer=void 0;var o=r(205),f=r(5),d=r(198),p=r(201),s=r(206),c=r(208),l=r(211),u=r(213);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}function g(e){for(var t=e.length,r=1,a=0,n=0;n<t;++n)a+=r+=255&e[n];return a%65521<<16|r%65521}var m=function(){function n(e){var t=e.lexer,r=e.xref,a=e.allowStreams,a=void 0!==a&&a,e=e.recoveryMode,e=void 0!==e&&e;i(this,n),this.lexer=t,this.xref=r,this.allowStreams=a,this.recoveryMode=e,this.imageCache=Object.create(null),this.refill()}return h(n,[{key:"refill",value:function(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}},{key:"shift",value:function(){this.buf2 instanceof d.Cmd&&"ID"===this.buf2.cmd?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}},{key:"tryShift",value:function(){try{return this.shift(),!0}catch(e){if(e instanceof p.MissingDataException)throw e;return!1}}},{key:"getObj",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=this.buf1;if(this.shift(),t instanceof d.Cmd)switch(t.cmd){case"BI":return this.makeInlineImage(e);case"[":for(var r=[];!(0,d.isCmd)(this.buf1,"]")&&!(0,d.isEOF)(this.buf1);)r.push(this.getObj(e));if((0,d.isEOF)(this.buf1)){if(!this.recoveryMode)throw new f.FormatError("End of file inside array");return r}return this.shift(),r;case"<<":for(var a=new d.Dict(this.xref);!(0,d.isCmd)(this.buf1,">>")&&!(0,d.isEOF)(this.buf1);)if((0,d.isName)(this.buf1)){var n=this.buf1.name;if(this.shift(),(0,d.isEOF)(this.buf1))break;a.set(n,this.getObj(e))}else(0,f.info)("Malformed dictionary: key must be a name object"),this.shift();if((0,d.isEOF)(this.buf1)){if(!this.recoveryMode)throw new f.FormatError("End of file inside dictionary");return a}return(0,d.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(a,e):a:(this.shift(),a);default:return t}if(Number.isInteger(t)){if(Number.isInteger(this.buf1)&&(0,d.isCmd)(this.buf2,"R")){var i=d.Ref.get(t,this.buf1);return this.shift(),this.shift(),i}return t}return"string"==typeof t&&e?e.decryptString(t):t}},{key:"findDefaultInlineStreamEnd",value:function(e){for(var t,r=e.pos,a=0;-1!==(t=e.getByte());)if(0===a)a=69===t?1:0;else if(1===a)a=73===t?2:0;else if((0,f.assert)(2===a,"findDefaultInlineStreamEnd - invalid state."),32===t||10===t||13===t){for(var n=e.pos,i=e.peekBytes(10),o=0,s=i.length;o<s;o++)if((0!==(t=i[o])||0===i[o+1])&&10!==t&&13!==t&&(t<32||127<t)){a=0;break}if(2===a)break}else a=0;-1===t&&((0,f.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),n&&((0,f.warn)('... trying to recover by using the last "EI" occurrence.'),e.skip(-(e.pos-n))));var c=4;return e.skip(-c),t=e.peekByte(),e.skip(c),(0,p.isWhiteSpace)(t)||c--,e.pos-c-r}},{key:"findDCTDecodeInlineStreamEnd",value:function(e){for(var t,r,a=e.pos,n=!1;-1!==(t=e.getByte());)if(255===t){switch(e.getByte()){case 0:break;case 255:e.skip(-1);break;case 217:n=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:2<(r=e.getUint16())?e.skip(r-2):e.skip(-2)}if(n)break}a=e.pos-a;return-1===t?((0,f.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),e.skip(-a),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),a)}},{key:"findASCII85DecodeInlineStreamEnd",value:function(e){for(var t=e.pos;-1!==(a=e.getByte());)if(126===a){for(var r=e.pos,a=e.peekByte();(0,p.isWhiteSpace)(a);)e.skip(),a=e.peekByte();if(62===a){e.skip();break}if(e.pos>r){r=e.peekBytes(2);if(69===r[0]&&73===r[1])break}}t=e.pos-t;return-1===a?((0,f.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),e.skip(-t),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),t)}},{key:"findASCIIHexDecodeInlineStreamEnd",value:function(e){for(var t,r=e.pos;-1!==(t=e.getByte())&&62!==t;);r=e.pos-r;return-1===t?((0,f.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),e.skip(-r),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),r)}},{key:"inlineStreamSkipEI",value:function(e){for(var t,r=0;-1!==(t=e.getByte());)if(0===r)r=69===t?1:0;else if(1===r)r=73===t?2:0;else if(2===r)break}},{key:"makeInlineImage",value:function(e){for(var t=this.lexer,r=t.stream,a=new d.Dict(this.xref);!(0,d.isCmd)(this.buf1,"ID")&&!(0,d.isEOF)(this.buf1);){if(!(0,d.isName)(this.buf1))throw new f.FormatError("Dictionary key must be a name object");var n=this.buf1.name;if(this.shift(),(0,d.isEOF)(this.buf1))break;a.set(n,this.getObj(e))}-1!==t.beginInlineImagePos&&(l=r.pos-t.beginInlineImagePos);var i=a.get("Filter","F");(0,d.isName)(i)?s=i.name:Array.isArray(i)&&(o=this.xref.fetchIfRef(i[0]),(0,d.isName)(o)&&(s=o.name));var i=r.pos,o="DCTDecode"===s||"DCT"===s?this.findDCTDecodeInlineStreamEnd(r):"ASCII85Decode"===s||"A85"===s?this.findASCII85DecodeInlineStreamEnd(r):"ASCIIHexDecode"===s||"AHx"===s?this.findASCIIHexDecodeInlineStreamEnd(r):this.findDefaultInlineStreamEnd(r),s=r.makeSubStream(i,o,a);if(o<1e3&&l<5552){var c=s.getBytes();s.reset();i=r.pos;r.pos=t.beginInlineImagePos;var l=r.getBytes(l);r.pos=i;c=g(c)+"_"+g(l),l=this.imageCache[c];if(void 0!==l)return this.buf2=d.Cmd.get("EI"),this.shift(),l.reset(),l}return e&&(s=e.createStream(s,o)),(s=this.filter(s,a,o)).dict=a,void 0!==c&&(s.cacheKey="inline_".concat(o,"_").concat(c),this.imageCache[c]=s),this.buf2=d.Cmd.get("EI"),this.shift(),s}},{key:"_findStreamLength",value:function(e,t){var r=this.lexer.stream;r.pos=e;for(var a=t.length;r.pos<r.end;){var n=r.peekBytes(2048),i=n.length-a;if(i<=0)break;for(var o=0;o<i;){for(var s=0;s<a&&n[o+s]===t[s];)s++;if(a<=s)return r.pos+=o,r.pos-e;o++}r.pos+=i}return-1}},{key:"makeStream",value:function(e,t){var r=this.lexer,a=r.stream;r.skipToNextLine();var n=a.pos-1,i=e.get("Length");if(Number.isInteger(i)||((0,f.info)('Bad length "'.concat(i,'" in stream')),i=0),a.pos=n+i,r.nextChar(),this.tryShift()&&(0,d.isCmd)(this.buf2,"endstream"))this.shift();else{var o=new Uint8Array([101,110,100,115,116,114,101,97,109]),s=this._findStreamLength(n,o);if(s<0){for(var c=1;c<=1;c++){var l=o.length-c,u=o.slice(0,l),h=this._findStreamLength(n,u);if(0<=h){l=a.peekBytes(1+l)[l];if(!(0,p.isWhiteSpace)(l))break;(0,f.info)('Found "'.concat((0,f.bytesToString)(u),'" when ')+"searching for endstream command."),s=h;break}}if(s<0)throw new f.FormatError("Missing endstream command.")}i=s,r.nextChar(),this.shift(),this.shift()}return this.shift(),a=a.makeSubStream(n,i,e),t&&(a=t.createStream(a,i)),(a=this.filter(a,e,i)).dict=e,a}},{key:"filter",value:function(e,t,r){var a=t.get("Filter","F"),n=t.get("DecodeParms","DP");if((0,d.isName)(a))return Array.isArray(n)&&(0,f.warn)("/DecodeParms should not contain an Array, when /Filter contains a Name."),this.makeFilter(e,a.name,r,n);var i=r;if(Array.isArray(a))for(var o=a,s=n,c=0,l=o.length;c<l;++c){if(a=this.xref.fetchIfRef(o[c]),!(0,d.isName)(a))throw new f.FormatError('Bad filter name "'.concat(a,'"'));n=null,Array.isArray(s)&&c in s&&(n=this.xref.fetchIfRef(s[c])),e=this.makeFilter(e,a.name,i,n),i=null}return e}},{key:"makeFilter",value:function(e,t,r,a){if(0===r)return(0,f.warn)('Empty "'.concat(t,'" stream.')),new o.NullStream;try{var n=this.xref.stats.streamTypes;if("FlateDecode"===t||"Fl"===t)return n[f.StreamType.FLATE]=!0,a?new o.PredictorStream(new o.FlateStream(e,r),r,a):new o.FlateStream(e,r);if("LZWDecode"!==t&&"LZW"!==t)return"DCTDecode"===t||"DCT"===t?(n[f.StreamType.DCT]=!0,new l.JpegStream(e,r,e.dict,a)):"JPXDecode"===t||"JPX"===t?(n[f.StreamType.JPX]=!0,new u.JpxStream(e,r,e.dict,a)):"ASCII85Decode"===t||"A85"===t?(n[f.StreamType.A85]=!0,new o.Ascii85Stream(e,r)):"ASCIIHexDecode"===t||"AHx"===t?(n[f.StreamType.AHX]=!0,new o.AsciiHexStream(e,r)):"CCITTFaxDecode"===t||"CCF"===t?(n[f.StreamType.CCF]=!0,new s.CCITTFaxStream(e,r,a)):"RunLengthDecode"===t||"RL"===t?(n[f.StreamType.RLX]=!0,new o.RunLengthStream(e,r)):"JBIG2Decode"===t?(n[f.StreamType.JBIG]=!0,new c.Jbig2Stream(e,r,e.dict,a)):((0,f.warn)('Filter "'.concat(t,'" is not supported.')),e);n[f.StreamType.LZW]=!0;var i=1;return a?(a.has("EarlyChange")&&(i=a.get("EarlyChange")),new o.PredictorStream(new o.LZWStream(e,r,i),r,a)):new o.LZWStream(e,r,i)}catch(e){if(e instanceof p.MissingDataException)throw e;return(0,f.warn)('Invalid stream: "'.concat(e,'"')),new o.NullStream}}}]),n}();t.Parser=m;var b=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function v(e){return 48<=e&&e<=57?15&e:65<=e&&e<=70||97<=e&&e<=102?9+(15&e):-1}var y=function(){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;i(this,r),this.stream=e,this.nextChar(),this.strBuf=[],this.knownCommands=t,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}return h(r,[{key:"nextChar",value:function(){return this.currentChar=this.stream.getByte()}},{key:"peekChar",value:function(){return this.stream.peekByte()}},{key:"getNumber",value:function(){var e=this.currentChar,t=!1,r=0,a=0;if(45===e?(a=-1,45===(e=this.nextChar())&&(e=this.nextChar())):43===e&&(a=1,e=this.nextChar()),10===e||13===e)for(;10===(e=this.nextChar())||13===e;);if(46===e&&(r=10,e=this.nextChar()),e<48||57<e){if(10===r&&0===a&&((0,p.isWhiteSpace)(e)||-1===e))return(0,f.warn)("Lexer.getNumber - treating a single decimal point as zero."),0;throw new f.FormatError("Invalid number: ".concat(String.fromCharCode(e)," (charCode ").concat(e,")"))}for(var a=a||1,n=e-48,i=0,o=1;0<=(e=this.nextChar());)if(48<=e&&e<=57){var s=e-48;t?i=10*i+s:(0!==r&&(r*=10),n=10*n+s)}else if(46===e){if(0!==r)break;r=1}else if(45===e)(0,f.warn)("Badly formatted number: minus sign in the middle");else{if(69!==e&&101!==e)break;if(43===(e=this.peekChar())||45===e)o=45===e?-1:1,this.nextChar();else if(e<48||57<e)break;t=!0}return 0!==r&&(n/=r),t&&(n*=Math.pow(10,o*i)),a*n}},{key:"getString",value:function(){var e=1,t=!1,r=this.strBuf;r.length=0;for(var a=this.nextChar();;){var n=!1;switch(0|a){case-1:(0,f.warn)("Unterminated string"),t=!0;break;case 40:++e,r.push("(");break;case 41:0==--e?(this.nextChar(),t=!0):r.push(")");break;case 92:switch(a=this.nextChar()){case-1:(0,f.warn)("Unterminated string"),t=!0;break;case 110:r.push("\\n");break;case 114:r.push("\\r");break;case 116:r.push("\\t");break;case 98:r.push("\\b");break;case 102:r.push("\\f");break;case 92:case 40:case 41:r.push(String.fromCharCode(a));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:var i=15&a,n=!0;48<=(a=this.nextChar())&&a<=55&&(i=(i<<3)+(15&a),48<=(a=this.nextChar())&&a<=55&&(n=!1,i=(i<<3)+(15&a))),r.push(String.fromCharCode(i));break;case 13:10===this.peekChar()&&this.nextChar();break;case 10:break;default:r.push(String.fromCharCode(a))}break;default:r.push(String.fromCharCode(a))}if(t)break;n||(a=this.nextChar())}return r.join("")}},{key:"getName",value:function(){var e=this.strBuf;for(e.length=0;0<=(r=this.nextChar())&&!b[r];)if(35===r){if(r=this.nextChar(),b[r]){(0,f.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),e.push("#");break}var t=v(r);if(-1!==t){var r,a=r,n=v(r=this.nextChar());if(-1!==n)e.push(String.fromCharCode(t<<4|n));else{if((0,f.warn)("Lexer_getName: Illegal digit (".concat(String.fromCharCode(r),") ")+"in hexadecimal number."),e.push("#",String.fromCharCode(a)),b[r])break;e.push(String.fromCharCode(r))}}else e.push("#",String.fromCharCode(r))}else e.push(String.fromCharCode(r));return 127<e.length&&(0,f.warn)("Name token is longer than allowed by the spec: ".concat(e.length)),d.Name.get(e.join(""))}},{key:"_hexStringWarn",value:function(e){5!=this._hexStringNumWarn++?5<this._hexStringNumWarn||(0,f.warn)("getHexString - ignoring invalid character: ".concat(e)):(0,f.warn)("getHexString - ignoring additional invalid characters.")}},{key:"getHexString",value:function(){var e=this.strBuf;e.length=0;var t,r,a=this.currentChar,n=!0;for(this._hexStringNumWarn=0;;){if(a<0){(0,f.warn)("Unterminated hex string");break}if(62===a){this.nextChar();break}if(1!==b[a]){if(n){if(-1===(t=v(a))){this._hexStringWarn(a),a=this.nextChar();continue}}else{if(-1===(r=v(a))){this._hexStringWarn(a),a=this.nextChar();continue}e.push(String.fromCharCode(t<<4|r))}n=!n,a=this.nextChar()}else a=this.nextChar()}return e.join("")}},{key:"getObj",value:function(){for(var e=!1,t=this.currentChar;;){if(t<0)return d.EOF;if(e)10!==t&&13!==t||(e=!1);else if(37===t)e=!0;else if(1!==b[t])break;t=this.nextChar()}switch(0|t){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),d.Cmd.get("[");case 93:return this.nextChar(),d.Cmd.get("]");case 60:return 60===(t=this.nextChar())?(this.nextChar(),d.Cmd.get("<<")):this.getHexString();case 62:return 62===(t=this.nextChar())?(this.nextChar(),d.Cmd.get(">>")):d.Cmd.get(">");case 123:return this.nextChar(),d.Cmd.get("{");case 125:return this.nextChar(),d.Cmd.get("}");case 41:throw this.nextChar(),new f.FormatError("Illegal character: ".concat(t))}for(var r=String.fromCharCode(t),a=this.knownCommands,n=a&&void 0!==a[r];0<=(t=this.nextChar())&&!b[t];){var i=r+String.fromCharCode(t);if(n&&void 0===a[i])break;if(128===r.length)throw new f.FormatError("Command token too long: ".concat(r.length));r=i,n=a&&void 0!==a[r]}return"true"===r||"false"!==r&&("null"===r?null:("BI"===r&&(this.beginInlineImagePos=this.stream.pos),d.Cmd.get(r)))}},{key:"skipToNextLine",value:function(){for(var e=this.currentChar;0<=e;){if(13===e){10===(e=this.nextChar())&&this.nextChar();break}if(10===e){this.nextChar();break}e=this.nextChar()}}}]),r}();t.Lexer=y;r=function(){function e(){i(this,e)}return h(e,null,[{key:"create",value:function(e){function t(e,t,r){r=2<arguments.length&&void 0!==r&&r,e=e.get(t);if(Number.isInteger(e)&&(r?0<=e:0<e))return e;throw new Error('The "'.concat(t,'" parameter in the linearization ')+"dictionary is invalid.")}var r,a=new m({lexer:new y(e),xref:null}),n=a.getObj(),i=a.getObj(),o=a.getObj(),a=a.getObj();if(!(Number.isInteger(n)&&Number.isInteger(i)&&(0,d.isCmd)(o,"obj")&&(0,d.isDict)(a)&&(0,f.isNum)(r=a.get("Linearized"))&&0<r))return null;if((r=t(a,"L"))!==e.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.');return{length:r,hints:function(e){var t,r=e.get("H");if(!Array.isArray(r)||2!==(t=r.length)&&4!==t)throw new Error("Hint array in the linearization dictionary is invalid.");for(var a=0;a<t;a++){var n=r[a];if(!(Number.isInteger(n)&&0<n))throw new Error("Hint (".concat(a,") in the linearization dictionary is invalid."))}return r}(a),objectNumberFirst:t(a,"O"),endFirst:t(a,"E"),numPages:t(a,"N"),mainXRefEntriesOffset:t(a,"T"),pageFirst:a.has("P")?t(a,"P",!0):0}}}]),e}();t.Linearization=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LZWStream=t.StringStream=t.StreamsSequenceStream=t.Stream=t.RunLengthStream=t.PredictorStream=t.NullStream=t.FlateStream=t.DecodeStream=t.DecryptStream=t.AsciiHexStream=t.Ascii85Stream=void 0;var I=r(5),n=r(198),s=r(201);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var o=(c.prototype={get length(){return this.end-this.start},get isEmpty(){return 0===this.length},getByte:function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},getUint16:function(){var e=this.getByte(),t=this.getByte();return-1===e||-1===t?-1:(e<<8)+t},getInt32:function(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()},getBytes:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=this.bytes,a=this.pos,n=this.end;if(!e){var i=r.subarray(a,n);return t?new Uint8ClampedArray(i):i}e=a+e;this.pos=e=n<e?n:e;e=r.subarray(a,e);return t?new Uint8ClampedArray(e):e},peekByte:function(){var e=this.getByte();return-1!==e&&this.pos--,e},peekBytes:function(e){e=this.getBytes(e,1<arguments.length&&void 0!==arguments[1]&&arguments[1]);return this.pos-=e.length,e},getByteRange:function(e,t){return t>this.end&&(t=this.end),this.bytes.subarray(e=e<0?0:e,t)},skip:function(e){this.pos+=e=e||1},reset:function(){this.pos=this.start},moveStart:function(){this.start=this.pos},makeSubStream:function(e,t,r){return new c(this.bytes.buffer,e,t,r)}},c);function c(e,t,r,a){this.bytes=e instanceof Uint8Array?e:new Uint8Array(e),this.start=t||0,this.pos=this.start,this.end=t+r||this.bytes.length,this.dict=a}t.Stream=o;l.prototype=o.prototype,r=l;function l(e){e=(0,I.stringToBytes)(e);o.call(this,e)}t.StringStream=r;var u,h=(u=new Uint8Array(0),f.prototype={get isEmpty(){for(;!this.eof&&0===this.bufferLength;)this.readBlock();return 0===this.bufferLength},ensureBuffer:function(e){var t=this.buffer;if(e<=t.byteLength)return t;for(var r=this.minBufferLength;r<e;)r*=2;var a=new Uint8Array(r);return a.set(t),this.buffer=a},getByte:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},getUint16:function(){var e=this.getByte(),t=this.getByte();return-1===e||-1===t?-1:(e<<8)+t},getInt32:function(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()},getBytes:function(e){var t,r=1<arguments.length&&void 0!==arguments[1]&&arguments[1],a=this.pos;if(e){for(this.ensureBuffer(a+e),t=a+e;!this.eof&&this.bufferLength<t;)this.readBlock();e=this.bufferLength;e<t&&(t=e)}else{for(;!this.eof;)this.readBlock();t=this.bufferLength}this.pos=t;a=this.buffer.subarray(a,t);return!r||a instanceof Uint8ClampedArray?a:new Uint8ClampedArray(a)},peekByte:function(){var e=this.getByte();return-1!==e&&this.pos--,e},peekBytes:function(e){e=this.getBytes(e,1<arguments.length&&void 0!==arguments[1]&&arguments[1]);return this.pos-=e.length,e},makeSubStream:function(e,t,r){for(var a=e+t;this.bufferLength<=a&&!this.eof;)this.readBlock();return new o(this.buffer,e,t,r)},getByteRange:function(e,t){(0,I.unreachable)("Should not call DecodeStream.getByteRange")},skip:function(e){this.pos+=e=e||1},reset:function(){this.pos=0},getBaseStreams:function(){return this.str&&this.str.getBaseStreams?this.str.getBaseStreams():[]}},f);function f(e){if(this._rawMinBufferLength=e||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=u,this.minBufferLength=512,e)for(;this.minBufferLength<e;)this.minBufferLength*=2}t.DecodeStream=h;(d.prototype=Object.create(h.prototype)).readBlock=function(){var e,t,r=this.streams;0!==r.length?(e=r.shift().getBytes(),r=(t=this.bufferLength)+e.length,this.ensureBuffer(r).set(e,t),this.bufferLength=r):this.eof=!0},d.prototype.getBaseStreams=function(){for(var e=[],t=0,r=this.streams.length;t<r;t++){var a=this.streams[t];a.getBaseStreams&&e.push.apply(e,i(a.getBaseStreams()))}return e},r=d;function d(e){for(var t=0,r=0,a=(this.streams=e).length;r<a;r++){var n=e[r];t+=n instanceof h?n._rawMinBufferLength:n.length}h.call(this,t)}t.StreamsSequenceStream=r;var T,O,E,P,F,r=(T=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),O=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),E=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),P=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],F=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],(p.prototype=Object.create(h.prototype)).getBits=function(e){for(var t,r=this.str,a=this.codeSize,n=this.codeBuf;a<e;){if(-1===(t=r.getByte()))throw new I.FormatError("Bad encoding in flate stream");n|=t<<a,a+=8}return t=n&(1<<e)-1,this.codeBuf=n>>e,this.codeSize=a-=e,t},p.prototype.getCode=function(e){for(var t,r=this.str,a=e[0],n=e[1],i=this.codeSize,o=this.codeBuf;i<n&&-1!==(t=r.getByte());)o|=t<<i,i+=8;e=a[o&(1<<n)-1],a=e>>16,e&=65535;if(a<1||i<a)throw new I.FormatError("Bad encoding in flate stream");return this.codeBuf=o>>a,this.codeSize=i-a,e},p.prototype.generateHuffmanTable=function(e){var t=e.length,r=0;for(h=0;h<t;++h)e[h]>r&&(r=e[h]);for(var a=1<<r,n=new Int32Array(a),i=1,o=0,s=2;i<=r;++i,o<<=1,s<<=1)for(var c=0;c<t;++c)if(e[c]===i){for(var l=0,u=o,h=0;h<i;++h)l=l<<1|1&u,u>>=1;for(h=l;h<a;h+=s)n[h]=i<<16|c;++o}return[n,r]},p.prototype.readBlock=function(){var e,t,r=this.str,a=this.getBits(3);if(1&a&&(this.eof=!0),0==(a>>=1)){if(-1===(o=r.getByte()))throw new I.FormatError("Bad block header in flate stream");var n=o;if(-1===(o=r.getByte()))throw new I.FormatError("Bad block header in flate stream");if(n|=o<<8,-1===(o=r.getByte()))throw new I.FormatError("Bad block header in flate stream");var i=o;if(-1===(o=r.getByte()))throw new I.FormatError("Bad block header in flate stream");if((i|=o<<8)!=(65535&~n)&&(0!=n||0!=i))throw new I.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var o=this.bufferLength,i=o+n,s=this.ensureBuffer(i);return this.bufferLength=i,void(0==n?-1===r.peekByte()&&(this.eof=!0):(r=r.getBytes(n),s.set(r,o),r.length<n&&(this.eof=!0)))}if(1==a)e=P,t=F;else{if(2!=a)throw new I.FormatError("Unknown block type in flate stream");for(var n=this.getBits(5)+257,a=this.getBits(5)+1,c=this.getBits(4)+4,l=new Uint8Array(T.length),u=0;u<c;++u)l[T[u]]=this.getBits(3);var h=this.generateHuffmanTable(l),f=0;u=0;for(var d,p,g,m=n+a,b=new Uint8Array(m);u<m;){var v=this.getCode(h);if(16===v)d=2,p=3,g=f;else if(17===v)p=d=3,g=f=0;else{if(18!==v){b[u++]=f=v;continue}d=7,p=11,g=f=0}for(var y=this.getBits(d)+p;0<y--;)b[u++]=g}e=this.generateHuffmanTable(b.subarray(0,n)),t=this.generateHuffmanTable(b.subarray(n,m))}for(var w=(s=this.buffer)?s.length:0,k=this.bufferLength;;)if((S=this.getCode(e))<256)w<=k+1&&(w=(s=this.ensureBuffer(k+1)).length),s[k++]=S;else{if(256===S)return void(this.bufferLength=k);var S,x=(S=O[S-=257])>>16;f=(65535&S)+(x=0<x?this.getBits(x):x),S=this.getCode(t);var C=(65535&(S=E[S]))+(x=0<(x=S>>16)?this.getBits(x):x);w<=k+f&&(w=(s=this.ensureBuffer(k+f)).length);for(var A=0;A<f;++A,++k)s[k]=s[k-C]}},p);function p(e,t){this.str=e,this.dict=e.dict;var r=e.getByte(),e=e.getByte();if(-1===r||-1===e)throw new I.FormatError("Invalid header in flate stream: ".concat(r,", ").concat(e));if(8!=(15&r))throw new I.FormatError("Unknown compression method in flate stream: ".concat(r,", ").concat(e));if(((r<<8)+e)%31!=0)throw new I.FormatError("Bad FCHECK in flate stream: ".concat(r,", ").concat(e));if(32&e)throw new I.FormatError("FDICT bit set in flate stream: ".concat(r,", ").concat(e));this.codeSize=0,this.codeBuf=0,h.call(this,t)}t.FlateStream=r;(g.prototype=Object.create(h.prototype)).readBlockTiff=function(){var e=this.rowBytes,t=this.bufferLength,r=this.ensureBuffer(t+e),a=this.bits,n=this.colors,i=this.str.getBytes(e);if(this.eof=!i.length,!this.eof){var o=0,s=0,c=0,l=0,u=t;if(1===a&&1===n)for(d=0;d<e;++d){var h=i[d]^o;h^=h>>1,h^=h>>2,o=(1&(h^=h>>4))<<7,r[u++]=h}else if(8===a){for(d=0;d<n;++d)r[u++]=i[d];for(;d<e;++d)r[u]=r[u-n]+i[d],u++}else if(16===a){for(var f=2*n,d=0;d<f;++d)r[u++]=i[d];for(;d<e;d+=2){var p=((255&i[d])<<8)+(255&i[d+1])+((255&r[u-f])<<8)+(255&r[u-f+1]);r[u++]=p>>8&255,r[u++]=255&p}}else{var g=new Uint8Array(n+1),m=(1<<a)-1,b=0,v=t,y=this.columns;for(d=0;d<y;++d)for(var w=0;w<n;++w)c<a&&(o=o<<8|255&i[b++],c+=8),g[w]=g[w]+(o>>c-a)&m,c-=a,s=s<<a|g[w],8<=(l+=a)&&(r[v++]=s>>l-8&255,l-=8);0<l&&(r[v++]=(s<<8-l)+(o&(1<<8-l)-1))}this.bufferLength+=e}},g.prototype.readBlockPng=function(){var e=this.rowBytes,t=this.pixBytes,r=this.str.getByte(),a=this.str.getBytes(e);if(this.eof=!a.length,!this.eof){var n=this.bufferLength,i=this.ensureBuffer(n+e),o=i.subarray(n-e,n);0===o.length&&(o=new Uint8Array(e));var s,c,l=n;switch(r){case 0:for(s=0;s<e;++s)i[l++]=a[s];break;case 1:for(s=0;s<t;++s)i[l++]=a[s];for(;s<e;++s)i[l]=i[l-t]+a[s]&255,l++;break;case 2:for(s=0;s<e;++s)i[l++]=o[s]+a[s]&255;break;case 3:for(s=0;s<t;++s)i[l++]=(o[s]>>1)+a[s];for(;s<e;++s)i[l]=(o[s]+i[l-t]>>1)+a[s]&255,l++;break;case 4:for(s=0;s<t;++s)u=o[s],c=a[s],i[l++]=u+c;for(;s<e;++s){var u=o[s],h=o[s-t],f=i[l-t],d=f+u-h,p=d-f;p<0&&(p=-p);var g=d-u;g<0&&(g=-g);d=d-h;d<0&&(d=-d),c=a[s],i[l++]=p<=g&&p<=d?f+c:g<=d?u+c:h+c}break;default:throw new I.FormatError("Unsupported predictor: ".concat(r))}this.bufferLength+=e}},r=g;function g(e,t,r){if(!(0,n.isDict)(r))return e;var a=this.predictor=r.get("Predictor")||1;if(a<=1)return e;if(2!==a&&(a<10||15<a))throw new I.FormatError("Unsupported predictor: ".concat(a));this.readBlock=2===a?this.readBlockTiff:this.readBlockPng,this.str=e,this.dict=e.dict;a=this.colors=r.get("Colors")||1,e=this.bits=r.get("BitsPerComponent")||8,r=this.columns=r.get("Columns")||1;return this.pixBytes=a*e+7>>3,this.rowBytes=r*a*e+7>>3,h.call(this,t),this}t.PredictorStream=r;(m.prototype=Object.create(h.prototype)).readBlock=function(){if(this.initialized?t=this.nextChunk:(t=this.str.getBytes(512),this.initialized=!0),t&&0!==t.length){this.nextChunk=this.str.getBytes(512);for(var e=this.nextChunk&&0<this.nextChunk.length,t=(0,this.decrypt)(t,!e),r=this.bufferLength,a=t.length,n=this.ensureBuffer(r+a),i=0;i<a;i++)n[r++]=t[i];this.bufferLength=r}else this.eof=!0},r=m;function m(e,t,r){this.str=e,this.dict=e.dict,this.decrypt=r,this.nextChunk=null,this.initialized=!1,h.call(this,t)}t.DecryptStream=r;(b.prototype=Object.create(h.prototype)).readBlock=function(){for(var e=this.str,t=e.getByte();(0,s.isWhiteSpace)(t);)t=e.getByte();if(-1!==t&&126!==t){var r,a=this.bufferLength;if(122===t){for(r=this.ensureBuffer(a+4),o=0;o<4;++o)r[a+o]=0;this.bufferLength+=4}else{var n=this.input;for(n[0]=t,o=1;o<5;++o){for(t=e.getByte();(0,s.isWhiteSpace)(t);)t=e.getByte();if(-1===(n[o]=t)||126===t)break}if(r=this.ensureBuffer(a+o-1),this.bufferLength+=o-1,o<5){for(;o<5;++o)n[o]=117;this.eof=!0}for(var i=0,o=0;o<5;++o)i=85*i+(n[o]-33);for(o=3;0<=o;--o)r[a+o]=255&i,i>>=8}}else this.eof=!0},r=b;function b(e,t){this.str=e,this.dict=e.dict,this.input=new Uint8Array(5),t&&(t*=.8),h.call(this,t)}t.Ascii85Stream=r;(v.prototype=Object.create(h.prototype)).readBlock=function(){var e=this.str.getBytes(8e3);if(e.length){for(var t=e.length+1>>1,r=this.ensureBuffer(this.bufferLength+t),a=this.bufferLength,n=this.firstDigit,i=0,o=e.length;i<o;i++){var s,c=e[i];if(48<=c&&c<=57)s=15&c;else{if(!(65<=c&&c<=70||97<=c&&c<=102)){if(62!==c)continue;this.eof=!0;break}s=9+(15&c)}n=n<0?s:(r[a++]=n<<4|s,-1)}0<=n&&this.eof&&(r[a++]=n<<4,n=-1),this.firstDigit=n,this.bufferLength=a}else this.eof=!0},r=v;function v(e,t){this.str=e,this.dict=e.dict,this.firstDigit=-1,t&&(t*=.5),h.call(this,t)}t.AsciiHexStream=r;(y.prototype=Object.create(h.prototype)).readBlock=function(){var e=this.str.getBytes(2);if(!e||e.length<2||128===e[0])this.eof=!0;else{var t,r,a=this.bufferLength;if((n=e[0])<128)(r=this.ensureBuffer(a+n+1))[a++]=e[1],0<n&&(t=this.str.getBytes(n),r.set(t,a),a+=n);else{var n=257-n,i=e[1];r=this.ensureBuffer(a+n+1);for(var o=0;o<n;o++)r[a++]=i}this.bufferLength=a}},r=y;function y(e,t){this.str=e,this.dict=e.dict,h.call(this,t)}t.RunLengthStream=r;(w.prototype=Object.create(h.prototype)).readBits=function(e){for(var t=this.bitsCached,r=this.cachedData;t<e;){var a=this.str.getByte();if(-1===a)return this.eof=!0,null;r=r<<8|a,t+=8}return this.bitsCached=t-=e,this.cachedData=r,this.lastCode=null,r>>>t&(1<<e)-1},w.prototype.readBlock=function(){var e,t,r=1024,a=this.lzwState;if(a){for(var n=a.earlyChange,i=a.nextCode,o=a.dictionaryValues,s=a.dictionaryLengths,c=a.dictionaryPrevCodes,l=a.codeLength,u=a.prevCode,h=a.currentSequence,f=a.currentSequenceLength,d=0,p=this.bufferLength,g=this.ensureBuffer(this.bufferLength+r),m=0;m<512;m++){var b=this.readBits(l),v=0<f;if(b<256)h[0]=b,f=1;else{if(!(258<=b)){if(256===b){l=9,i=258,f=0;continue}this.eof=!0,delete this.lzwState;break}if(b<i)for(e=(f=s[b])-1,t=b;0<=e;e--)h[e]=o[t],t=c[t];else h[f++]=h[0]}if(v&&(c[i]=u,s[i]=s[u]+1,o[i]=h[0],l=++i+n&i+n-1?l:0|Math.min(Math.log(i+n)/.6931471805599453+1,12)),u=b,r<(d+=f)){for(;(r+=512)<d;);g=this.ensureBuffer(this.bufferLength+r)}for(e=0;e<f;e++)g[p++]=h[e]}a.nextCode=i,a.codeLength=l,a.prevCode=u,a.currentSequenceLength=f,this.bufferLength=p}},r=w;function w(e,t,r){this.str=e,this.dict=e.dict,this.cachedData=0,this.bitsCached=0;for(var a={earlyChange:r,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(4096),dictionaryLengths:new Uint16Array(4096),dictionaryPrevCodes:new Uint16Array(4096),currentSequence:new Uint8Array(4096),currentSequenceLength:0},n=0;n<256;++n)a.dictionaryValues[n]=n,a.dictionaryLengths[n]=1;this.lzwState=a,h.call(this,t)}t.LZWStream=r;k.prototype=o.prototype,r=k;function k(){o.call(this,new Uint8Array(0))}t.NullStream=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CCITTFaxStream=void 0;var a=r(198),n=r(207),i=r(205),r=((o.prototype=Object.create(i.DecodeStream.prototype)).readBlock=function(){for(;!this.eof;){var e=this.ccittFaxDecoder.readNextChar();if(-1===e)return void(this.eof=!0);this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=e}},o);function o(e,t,r){this.str=e,this.dict=e.dict,(0,a.isDict)(r)||(r=a.Dict.empty),this.ccittFaxDecoder=new n.CCITTFaxDecoder({next:function(){return e.getByte()}},{K:r.get("K"),EndOfLine:r.get("EndOfLine"),EncodedByteAlign:r.get("EncodedByteAlign"),Columns:r.get("Columns"),Rows:r.get("Rows"),EndOfBlock:r.get("EndOfBlock"),BlackIs1:r.get("BlackIs1")}),i.DecodeStream.call(this,t)}t.CCITTFaxStream=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CCITTFaxDecoder=void 0;var a,n,i,o,s,c,f=r(5),r=(a=[[-1,-1],[-1,-1],[7,8],[7,7],[6,6],[6,6],[6,5],[6,5],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2]],n=[[-1,-1],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],i=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],o=[[-1,-1],[-1,-1],[12,-2],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],s=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],c=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]],l.prototype={readNextChar:function(){if(this.eof)return-1;var e,t,r,a,n,i,o,s,c=this.refLine,l=this.codingLine,u=this.columns;if(0===this.outputBits){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;if(this.err=!1,this.nextLine2D){for(a=0;l[a]<u;++a)c[a]=l[a];for(c[a++]=u,c[a]=u,l[0]=0,t=e=this.codingPos=0;l[this.codingPos]<u;)switch(n=this._getTwoDimCode()){case 0:this._addPixels(c[e+1],t),c[e+1]<u&&(e+=2);break;case 1:if(n=i=0,t){for(;n+=o=this._getBlackCode(),64<=o;);for(;i+=o=this._getWhiteCode(),64<=o;);}else{for(;n+=o=this._getWhiteCode(),64<=o;);for(;i+=o=this._getBlackCode(),64<=o;);}for(this._addPixels(l[this.codingPos]+n,t),l[this.codingPos]<u&&this._addPixels(l[this.codingPos]+i,1^t);c[e]<=l[this.codingPos]&&c[e]<u;)e+=2;break;case 7:if(this._addPixels(c[e]+3,t),t^=1,l[this.codingPos]<u)for(++e;c[e]<=l[this.codingPos]&&c[e]<u;)e+=2;break;case 5:if(this._addPixels(c[e]+2,t),t^=1,l[this.codingPos]<u)for(++e;c[e]<=l[this.codingPos]&&c[e]<u;)e+=2;break;case 3:if(this._addPixels(c[e]+1,t),t^=1,l[this.codingPos]<u)for(++e;c[e]<=l[this.codingPos]&&c[e]<u;)e+=2;break;case 2:if(this._addPixels(c[e],t),t^=1,l[this.codingPos]<u)for(++e;c[e]<=l[this.codingPos]&&c[e]<u;)e+=2;break;case 8:if(this._addPixelsNeg(c[e]-3,t),t^=1,l[this.codingPos]<u)for(0<e?--e:++e;c[e]<=l[this.codingPos]&&c[e]<u;)e+=2;break;case 6:if(this._addPixelsNeg(c[e]-2,t),t^=1,l[this.codingPos]<u)for(0<e?--e:++e;c[e]<=l[this.codingPos]&&c[e]<u;)e+=2;break;case 4:if(this._addPixelsNeg(c[e]-1,t),t^=1,l[this.codingPos]<u)for(0<e?--e:++e;c[e]<=l[this.codingPos]&&c[e]<u;)e+=2;break;case-1:this._addPixels(u,0),this.eof=!0;break;default:(0,f.info)("bad 2d code"),this._addPixels(u,0),this.err=!0}}else for(l[0]=0,t=this.codingPos=0;l[this.codingPos]<u;){if(n=0,t)for(;n+=o=this._getBlackCode(),64<=o;);else for(;n+=o=this._getWhiteCode(),64<=o;);this._addPixels(l[this.codingPos]+n,t),t^=1}var h=!1;if(this.byteAlign&&(this.inputBits&=-8),this.eoblock||this.row!==this.rows-1){if(n=this._lookBits(12),this.eoline)for(;-1!==n&&1!==n;)this._eatBits(1),n=this._lookBits(12);else for(;0===n;)this._eatBits(1),n=this._lookBits(12);1===n?(this._eatBits(12),h=!0):-1===n&&(this.eof=!0)}else this.rowsDone=!0;if(!this.eof&&0<this.encoding&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&h&&this.byteAlign){if(1===(n=this._lookBits(12))){if(this._eatBits(12),0<this.encoding&&(this._lookBits(1),this._eatBits(1)),0<=this.encoding)for(a=0;a<4;++a)1!==(n=this._lookBits(12))&&(0,f.info)("bad rtc code: "+n),this._eatBits(12),0<this.encoding&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(-1===(n=this._lookBits(13)))return this.eof=!0,-1;if(n>>1==1)break;this._eatBits(1)}this._eatBits(12),0<this.encoding&&(this._eatBits(1),this.nextLine2D=!(1&n))}0<l[0]?this.outputBits=l[this.codingPos=0]:this.outputBits=l[this.codingPos=1],this.row++}if(8<=this.outputBits)s=1&this.codingPos?0:255,this.outputBits-=8,0===this.outputBits&&l[this.codingPos]<u&&(this.codingPos++,this.outputBits=l[this.codingPos]-l[this.codingPos-1]);else for(r=8,s=0;this.outputBits>r?(s<<=r,1&this.codingPos||(s|=255>>8-r),this.outputBits-=r,r=0):(s<<=this.outputBits,1&this.codingPos||(s|=255>>8-this.outputBits),r-=this.outputBits,this.outputBits=0,l[this.codingPos]<u?(this.codingPos++,this.outputBits=l[this.codingPos]-l[this.codingPos-1]):0<r&&(s<<=r,r=0)),r;);return this.black&&(s^=255),s},_addPixels:function(e,t){var r=this.codingLine,a=this.codingPos;e>r[a]&&(e>this.columns&&((0,f.info)("row is wrong length"),this.err=!0,e=this.columns),1&a^t&&++a,r[a]=e),this.codingPos=a},_addPixelsNeg:function(e,t){var r=this.codingLine,a=this.codingPos;if(e>r[a])e>this.columns&&((0,f.info)("row is wrong length"),this.err=!0,e=this.columns),1&a^t&&++a,r[a]=e;else if(e<r[a]){for(e<0&&((0,f.info)("invalid code"),this.err=!0,e=0);0<a&&e<r[a-1];)--a;r[a]=e}this.codingPos=a},_findTableCode:function(e,t,r,a){for(var n=a||0,i=e;i<=t;++i){var o=this._lookBits(i);if(-1===o)return[!0,1,!1];if(i<t&&(o<<=t-i),!n||n<=o){o=r[o-n];if(o[0]===i)return this._eatBits(i),[!0,o[1],!0]}}return[!1,0,!1]},_getTwoDimCode:function(){var e;if(this.eoblock){if(e=this._lookBits(7),(t=a[e])&&0<t[0])return this._eatBits(t[0]),t[1]}else{var t=this._findTableCode(1,7,a);if(t[0]&&t[2])return t[1]}return(0,f.info)("Bad two dim code"),-1},_getWhiteCode:function(){var e;if(this.eoblock){if(-1===(e=this._lookBits(12)))return 1;if(0<(t=e>>5==0?n[e]:i[e>>3])[0])return this._eatBits(t[0]),t[1]}else{var t=this._findTableCode(1,9,i);if(t[0])return t[1];if((t=this._findTableCode(11,12,n))[0])return t[1]}return(0,f.info)("bad white code"),this._eatBits(1),1},_getBlackCode:function(){if(this.eoblock){if(-1===(e=this._lookBits(13)))return 1;if(0<(e=e>>7==0?o[e]:e>>9==0&&e>>7!=0?s[(e>>1)-64]:c[e>>7])[0])return this._eatBits(e[0]),e[1]}else{var e=this._findTableCode(2,6,c);if(e[0])return e[1];if((e=this._findTableCode(7,12,s,64))[0])return e[1];if((e=this._findTableCode(10,13,o))[0])return e[1]}return(0,f.info)("bad black code"),this._eatBits(1),1},_lookBits:function(e){for(var t;this.inputBits<e;){if(-1===(t=this.source.next()))return 0===this.inputBits?-1:this.inputBuf<<e-this.inputBits&65535>>16-e;this.inputBuf=this.inputBuf<<8|t,this.inputBits+=8}return this.inputBuf>>this.inputBits-e&65535>>16-e},_eatBits:function(e){(this.inputBits-=e)<0&&(this.inputBits=0)}},l);function l(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!e||"function"!=typeof e.next)throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=e,this.eof=!1,this.encoding=t.K||0,this.eoline=t.EndOfLine||!1,this.byteAlign=t.EncodedByteAlign||!1,this.columns=t.Columns||1728,this.rows=t.Rows||0;var r,e=t.EndOfBlock;for(this.eoblock=e=null==e?!0:e,this.black=t.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;0===(r=this._lookBits(12));)this._eatBits(1);1===r&&this._eatBits(12),0<this.encoding&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}t.CCITTFaxDecoder=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Jbig2Stream=void 0;var o=r(198),n=r(205),s=r(209),a=r(5),r=(i.prototype=Object.create(n.DecodeStream.prototype),Object.defineProperty(i.prototype,"bytes",{get:function(){return(0,a.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))},configurable:!0}),i.prototype.ensureBuffer=function(e){},i.prototype.readBlock=function(){if(!this.eof){var e,t=new s.Jbig2Image,r=[];(0,o.isDict)(this.params)&&(e=this.params.get("JBIG2Globals"),(0,o.isStream)(e)&&(e=e.getBytes(),r.push({data:e,start:0,end:e.length}))),r.push({data:this.bytes,start:0,end:this.bytes.length});for(var a=t.parseChunks(r),n=a.length,i=0;i<n;i++)a[i]^=255;this.buffer=a,this.bufferLength=n,this.eof=!0}},i);function i(e,t,r,a){this.stream=e,this.maybeLength=t,this.dict=r,this.params=a,n.DecodeStream.call(this,t)}t.Jbig2Stream=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Jbig2Image=void 0;var a=r(5),Z=r(201),n=r(210),C=r(207);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=c(r);return e=a?(e=c(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==i(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Q=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,a.BaseException);var t=s(r);function r(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t.call(this,"JBIG2 error: ".concat(e))}return r}(),r=function(){function t(){}function p(e,t,r){this.data=e,this.start=t,this.end=r}function z(e,t,n){var i=e.getContexts(t),o=1;function r(e){for(var t=0,r=0;r<e;r++){var a=n.readBit(i,o);o=o<256?o<<1|a:511&(o<<1|a)|256,t=t<<1|a}return t>>>0}e=r(1),t=r(1)?r(1)?r(1)?r(1)?r(1)?r(32)+4436:r(12)+340:r(8)+84:r(6)+20:r(4)+4:r(2);return 0===e?t:0<t?-t:null}function G(e,t,r){for(var a=e.getContexts("IAID"),n=1,i=0;i<r;i++)n=n<<1|t.readBit(a,n);return r<31?n&(1<<r)-1:2147483647&n}t.prototype={getContexts:function(e){return e in this?this[e]:this[e]=new Int8Array(65536)}},p.prototype={get decoder(){var e=new n.ArithmeticDecoder(this.data,this.start,this.end);return(0,a.shadow)(this,"decoder",e)},get contextCache(){var e=new t;return(0,a.shadow)(this,"contextCache",e)}};var b=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],q=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],R=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],H=[39717,1941,229,405],_=[32,8];function W(e,t,r,a,n,i,o,s){if(e)return J(new K(s.data,s.start,s.end),t,r,!1);if(0===a&&!i&&!n&&4===o.length&&3===o[0].x&&-1===o[0].y&&-3===o[1].x&&-1===o[1].y&&2===o[2].x&&-2===o[2].y&&-2===o[3].x&&-2===o[3].y)return function(e,t,r){for(var a,n,i,o,s,c,l=r.decoder,u=r.contextCache.getContexts("GB"),h=[],f=0;f<t;f++)for(o=h[f]=new Uint8Array(e),s=f<1?o:h[f-1],a=(c=f<2?o:h[f-2])[0]<<13|c[1]<<12|c[2]<<11|s[0]<<7|s[1]<<6|s[2]<<5|s[3]<<4,n=0;n<e;n++)o[n]=i=l.readBit(u,a),a=(31735&a)<<1|(n+3<e?c[n+3]<<11:0)|(n+4<e?s[n+4]<<4:0)|i;return h}(t,r,s);var c=!!i,l=q[a].concat(o);l.sort(function(e,t){return e.y-t.y||e.x-t.x});for(var u=l.length,h=new Int8Array(u),f=new Int8Array(u),d=[],p=0,g=0,m=0,b=0,v=0;v<u;v++)h[v]=l[v].x,f[v]=l[v].y,g=Math.min(g,l[v].x),m=Math.max(m,l[v].x),b=Math.min(b,l[v].y),v<u-1&&l[v].y===l[v+1].y&&l[v].x===l[v+1].x-1?p|=1<<u-1-v:d.push(v);for(var y=d.length,w=new Int8Array(y),k=new Int8Array(y),S=new Uint16Array(y),x=0;x<y;x++)v=d[x],w[x]=l[v].x,k[x]=l[v].y,S[x]=1<<u-1-v;for(var C,A,I,T,O,E=-g,P=-b,F=t-m,R=H[a],_=new Uint8Array(t),B=[],M=s.decoder,L=s.contextCache.getContexts("GB"),D=0,N=0,U=0;U<r;U++){if(n)if(D^=M.readBit(L,R)){B.push(_);continue}for(_=new Uint8Array(_),B.push(_),C=0;C<t;C++)if(c&&i[U][C])_[C]=0;else{if(E<=C&&C<F&&P<=U)for(N=N<<1&p,v=0;v<y;v++)A=U+k[v],I=C+w[v],(T=B[A][I])&&(N|=T=S[v]);else for(O=u-1,v=N=0;v<u;v++,O--)0<=(I=C+h[v])&&I<t&&0<=(A=U+f[v])&&(T=B[A][I])&&(N|=T<<O);var j=M.readBit(L,N);_[C]=j}}return B}function X(e,t,r,a,n,i,o,s,c){var l=R[r].coding,u=(l=0===r?l.concat([s[0]]):l).length,h=new Int32Array(u),f=new Int32Array(u);for(P=0;P<u;P++)h[P]=l[P].x,f[P]=l[P].y;var d=R[r].reference,p=(d=0===r?d.concat([s[1]]):d).length,g=new Int32Array(p),m=new Int32Array(p);for(P=0;P<p;P++)g[P]=d[P].x,m[P]=d[P].y;for(var b=a[0].length,v=a.length,y=_[r],w=[],k=c.decoder,S=c.contextCache.getContexts("GR"),x=0,C=0;C<t;C++){if(o)if(x^=k.readBit(S,y))throw new Q("prediction is not supported");var A=new Uint8Array(e);w.push(A);for(var I=0;I<e;I++){for(var T,O,E=0,P=0;P<u;P++)T=C+f[P],O=I+h[P],T<0||O<0||e<=O?E<<=1:E=E<<1|w[T][O];for(P=0;P<p;P++)T=C+m[P]-i,O=I+g[P]-n,T<0||v<=T||O<0||b<=O?E<<=1:E=E<<1|a[T][O];var F=k.readBit(S,E);A[I]=F}}return w}function d(e,t,r,a,n,i,o,s,c,l,u,h){if(e&&t)throw new Q("symbol refinement with Huffman is not supported");var f,d,p=[],g=0,m=(0,Z.log2)(r.length+a),b=u.decoder,v=u.contextCache;for(e&&(f=Y(1),d=[],m=Math.max(m,1));p.length<a;){g+=e?i.tableDeltaHeight.decode(h):z(v,"IADH",b);for(var y=0,w=0,k=e?d.length:0;;){var S,x,C=e?i.tableDeltaWidth.decode(h):z(v,"IADW",b);if(null===C)break;w+=y+=C,t?(x=1<(S=z(v,"IAAI",b))?V(e,t,y,g,0,S,1,r.concat(p),m,0,0,1,0,i,c,l,u,0,h):(C=G(v,b,m),S=z(v,"IARDX",b),x=z(v,"IARDY",b),X(y,g,c,C<r.length?r[C]:p[C-r.length],S,x,!1,l,u)),p.push(x)):e?d.push(y):(x=W(!1,y,g,o,!1,null,s,u),p.push(x))}if(e&&!t){var A=i.tableBitmapSize.decode(h);h.byteAlign();var I,T=void 0;0===A?T=function(e,t,r){for(var a=[],n=0;n<r;n++){var i=new Uint8Array(t);a.push(i);for(var o=0;o<t;o++)i[o]=e.readBit();e.byteAlign()}return a}(h,w,g):(I=h.end,A=h.position+A,h.end=A,T=J(h,w,g,!1),h.end=I,h.position=A);var O=d.length;if(k===O-1)p.push(T);else for(var E,P=void 0,F=void 0,R=0,_=void 0,P=k;P<O;P++){for(E=R+d[P],_=[],F=0;F<g;F++)_.push(T[F].subarray(R,E));p.push(_),R=E}}}for(var B=[],M=[],L=!1,D=r.length+a;M.length<D;){for(var N=e?f.decode(h):z(v,"IAEX",b);N--;)M.push(L);L=!L}for(var U=0,j=r.length;U<j;U++)M[U]&&B.push(r[U]);for(var q=0;q<a;U++,q++)M[U]&&B.push(p[q]);return B}function V(e,t,r,a,n,i,o,s,c,l,u,h,f,d,p,g,m,b,v){if(e&&t)throw new Q("refinement with Huffman is not supported");for(var y,w=[],k=0;k<a;k++){if(y=new Uint8Array(r),n)for(var S=0;S<r;S++)y[S]=n;w.push(y)}var x=m.decoder,C=m.contextCache,A=e?-d.tableDeltaT.decode(v):-z(C,"IADT",x),I=0;for(k=0;k<i;){A+=e?d.tableDeltaT.decode(v):z(C,"IADT",x),I+=e?d.tableFirstS.decode(v):z(C,"IAFS",x);for(var T=I;;){var O=0,E=o*A+(O=1<o?e?v.readBits(b):z(C,"IAIT",x):O),P=e?d.symbolIDTable.decode(v):G(C,x,c),O=t&&(e?v.readBit():z(C,"IARI",x)),F=s[P],R=F[0].length,_=F.length;O&&(F=X(R+=P=z(C,"IARDW",x),_+=O=z(C,"IARDH",x),p,F,(P>>1)+z(C,"IARDX",x),(O>>1)+z(C,"IARDY",x),!1,g,m));var B,M,L=E-(1&h?0:_-1),D=T-(2&h?R-1:0);if(l){for(B=0;B<_;B++)if(y=w[D+B]){var N=F[B],U=Math.min(r-L,R);switch(f){case 0:for(M=0;M<U;M++)y[L+M]|=N[M];break;case 2:for(M=0;M<U;M++)y[L+M]^=N[M];break;default:throw new Q("operator ".concat(f," is not supported"))}}T+=_-1}else{for(M=0;M<_;M++)if(y=w[L+M])switch(N=F[M],f){case 0:for(B=0;B<R;B++)y[D+B]|=N[B];break;case 2:for(B=0;B<R;B++)y[D+B]^=N[B];break;default:throw new Q("operator ".concat(f," is not supported"))}T+=R-1}k++;E=e?d.tableDeltaS.decode(v):z(C,"IADS",x);if(null===E)break;T+=E+u}}return w}function g(e,t,r,a){for(var n=[],i=r;i<a;){var o=function(e,t){var r={};r.number=(0,Z.readUint32)(e,t);var a=e[t+4];if(!b[p=63&a])throw new Q("invalid segment type: "+p);r.type=p,r.typeName=b[p],r.deferredNonRetain=!!(128&a);var n=!!(64&a),i=(a=e[t+5])>>5&7,o=[31&a],s=t+6;if(7===a){i=536870911&(0,Z.readUint32)(e,s-1),s+=3;var c=i+7>>3;for(o[0]=e[s++];0<--c;)o.push(e[s++])}else if(5===a||6===a)throw new Q("invalid referred-to flags");r.retainBits=o;var l=4;r.number<=256?l=1:r.number<=65536&&(l=2);for(var u,h=[],f=0;f<i;f++){var d=void 0,d=1===l?e[s]:(2===l?(0,Z.readUint16):(0,Z.readUint32))(e,s);h.push(d),s+=l}if(r.referredTo=h,n?(r.pageAssociation=(0,Z.readUint32)(e,s),s+=4):r.pageAssociation=e[s++],r.length=(0,Z.readUint32)(e,s),s+=4,4294967295===r.length){if(38!=p)throw new Q("invalid unknown segment length");var n=v(e,s),p=!!(1&e[s+y]),g=new Uint8Array(6);for(p||(g[0]=255,g[1]=172),g[2]=n.height>>>24&255,g[3]=n.height>>16&255,g[4]=n.height>>8&255,g[5]=255&n.height,f=s,u=e.length;f<u;f++){for(var m=0;m<6&&g[m]===e[f+m];)m++;if(6===m){r.length=f+6;break}}if(4294967295===r.length)throw new Q("segment end was not found")}return r.headerEnd=s,r}(t,i),i=o.headerEnd,s={header:o,data:t};if(e.randomAccess||(s.start=i,i+=o.length,s.end=i),n.push(s),51===o.type)break}if(e.randomAccess)for(var c=0,l=n.length;c<l;c++)n[c].start=i,i+=n[c].header.length,n[c].end=i;return n}function v(e,t){return{width:(0,Z.readUint32)(e,t),height:(0,Z.readUint32)(e,t+4),x:(0,Z.readUint32)(e,t+8),y:(0,Z.readUint32)(e,t+12),combinationOperator:7&e[t+16]}}var y=17;function m(e,t){for(var r=0,a=e.length;r<a;r++)!function(e,t){var r,a,n,i,o=e.header,s=e.data,c=e.start,l=e.end;switch(o.type){case 0:var u={},h=(0,Z.readUint16)(s,c);if(u.huffman=!!(1&h),u.refinement=!!(2&h),u.huffmanDHSelector=h>>2&3,u.huffmanDWSelector=h>>4&3,u.bitmapSizeSelector=h>>6&1,u.aggregationInstancesSelector=h>>7&1,u.bitmapCodingContextUsed=!!(256&h),u.bitmapCodingContextRetained=!!(512&h),u.template=h>>10&3,u.refinementTemplate=h>>12&1,c+=2,!u.huffman){for(i=0===u.template?4:1,a=[],n=0;n<i;n++)a.push({x:(0,Z.readInt8)(s,c),y:(0,Z.readInt8)(s,c+1)}),c+=2;u.at=a}if(u.refinement&&!u.refinementTemplate){for(a=[],n=0;n<2;n++)a.push({x:(0,Z.readInt8)(s,c),y:(0,Z.readInt8)(s,c+1)}),c+=2;u.refinementAt=a}u.numberOfExportedSymbols=(0,Z.readUint32)(s,c),u.numberOfNewSymbols=(0,Z.readUint32)(s,c+=4),r=[u,o.number,o.referredTo,s,c+=4,l];break;case 6:case 7:h={};h.info=v(s,c);u=(0,Z.readUint16)(s,c+=y);if(c+=2,h.huffman=!!(1&u),h.refinement=!!(2&u),h.logStripSize=u>>2&3,h.stripSize=1<<h.logStripSize,h.referenceCorner=u>>4&3,h.transposed=!!(64&u),h.combinationOperator=u>>7&3,h.defaultPixelValue=u>>9&1,h.dsOffset=u<<17>>27,h.refinementTemplate=u>>15&1,h.huffman&&(u=(0,Z.readUint16)(s,c),c+=2,h.huffmanFS=3&u,h.huffmanDS=u>>2&3,h.huffmanDT=u>>4&3,h.huffmanRefinementDW=u>>6&3,h.huffmanRefinementDH=u>>8&3,h.huffmanRefinementDX=u>>10&3,h.huffmanRefinementDY=u>>12&3,h.huffmanRefinementSizeSelector=!!(16384&u)),h.refinement&&!h.refinementTemplate){for(a=[],n=0;n<2;n++)a.push({x:(0,Z.readInt8)(s,c),y:(0,Z.readInt8)(s,c+1)}),c+=2;h.refinementAt=a}h.numberOfSymbolInstances=(0,Z.readUint32)(s,c),r=[h,o.referredTo,s,c+=4,l];break;case 16:var f={},d=s[c++];f.mmr=!!(1&d),f.template=d>>1&3,f.patternWidth=s[c++],f.patternHeight=s[c++],f.maxPatternIndex=(0,Z.readUint32)(s,c),r=[f,o.number,s,c+=4,l];break;case 22:case 23:d={};d.info=v(s,c),c+=y;f=s[c++];d.mmr=!!(1&f),d.template=f>>1&3,d.enableSkip=!!(8&f),d.combinationOperator=f>>4&7,d.defaultPixelValue=f>>7&1,d.gridWidth=(0,Z.readUint32)(s,c),d.gridHeight=(0,Z.readUint32)(s,c+=4),d.gridOffsetX=4294967295&(0,Z.readUint32)(s,c+=4),d.gridOffsetY=4294967295&(0,Z.readUint32)(s,c+=4),d.gridVectorX=(0,Z.readUint16)(s,c+=4),d.gridVectorY=(0,Z.readUint16)(s,c+=2),r=[d,o.referredTo,s,c+=2,l];break;case 38:case 39:var p={};p.info=v(s,c),c+=y;var g=s[c++];if(p.mmr=!!(1&g),p.template=g>>1&3,p.prediction=!!(8&g),!p.mmr){for(i=0===p.template?4:1,a=[],n=0;n<i;n++)a.push({x:(0,Z.readInt8)(s,c),y:(0,Z.readInt8)(s,c+1)}),c+=2;p.at=a}r=[p,s,c,l];break;case 48:g={width:(0,Z.readUint32)(s,c),height:(0,Z.readUint32)(s,c+4),resolutionX:(0,Z.readUint32)(s,c+8),resolutionY:(0,Z.readUint32)(s,c+12)};4294967295===g.height&&delete g.height;p=s[c+16];(0,Z.readUint16)(s,c+17),g.lossless=!!(1&p),g.refinement=!!(2&p),g.defaultPixelValue=p>>2&1,g.combinationOperator=p>>3&3,g.requiresBuffer=!!(32&p),g.combinationOperatorOverride=!!(64&p),r=[g];break;case 49:case 50:case 51:break;case 53:r=[o.number,s,c,l];break;case 62:break;default:throw new Q("segment type ".concat(o.typeName,"(").concat(o.type,")")+" is not implemented")}(e="on"+o.typeName)in t&&t[e].apply(t,r)}(e[r],t)}function w(){}function k(e){2===e.length?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=e[0],this.rangeLength=0,this.prefixCode=e[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=e[0],this.prefixLength=e[1],this.rangeLength=e[2],this.prefixCode=e[3],this.isLowerRange="lower"===e[4])}function i(e){this.children=[],e?(this.isLeaf=!0,this.rangeLength=e.rangeLength,this.rangeLow=e.rangeLow,this.isLowerRange=e.isLowerRange,this.isOOB=e.isOOB):this.isLeaf=!1}function S(e,t){t||this.assignPrefixCodes(e),this.rootNode=new i(null);for(var r=0,a=e.length;r<a;r++){var n=e[r];0<n.prefixLength&&this.rootNode.buildTree(n,n.prefixLength-1)}}w.prototype={onPageInformation:function(e){var t=(this.currentPageInfo=e).width+7>>3,r=new Uint8ClampedArray(t*e.height);if(e.defaultPixelValue)for(var a=0,n=r.length;a<n;a++)r[a]=255;this.buffer=r},drawBitmap:function(e,t){var r,a,n,i,o=this.currentPageInfo,s=e.width,c=e.height,l=o.width+7>>3,u=(o.combinationOperatorOverride?e:o).combinationOperator,h=this.buffer,f=128>>(7&e.x),d=e.y*l+(e.x>>3);switch(u){case 0:for(r=0;r<c;r++){for(n=f,i=d,a=0;a<s;a++)t[r][a]&&(h[i]|=n),(n>>=1)||(n=128,i++);d+=l}break;case 2:for(r=0;r<c;r++){for(n=f,i=d,a=0;a<s;a++)t[r][a]&&(h[i]^=n),(n>>=1)||(n=128,i++);d+=l}break;default:throw new Q("operator ".concat(u," is not supported"))}},onImmediateGenericRegion:function(e,t,r,a){var n=e.info,a=new p(t,r,a),a=W(e.mmr,n.width,n.height,e.template,e.prediction,null,e.at,a);this.drawBitmap(n,a)},onImmediateLosslessGenericRegion:function(){this.onImmediateGenericRegion.apply(this,arguments)},onSymbolDictionary:function(e,t,r,a,n,i){var o,s;e.huffman&&(o=function(e,t,r){var a,n,i,o,s=0;switch(e.huffmanDHSelector){case 0:case 1:a=Y(e.huffmanDHSelector+4);break;case 3:a=x(s,t,r),s++;break;default:throw new Q("invalid Huffman DH selector")}switch(e.huffmanDWSelector){case 0:case 1:n=Y(e.huffmanDWSelector+2);break;case 3:n=x(s,t,r),s++;break;default:throw new Q("invalid Huffman DW selector")}e.bitmapSizeSelector?(i=x(s,t,r),s++):i=Y(1);o=e.aggregationInstancesSelector?x(s,t,r):Y(1);return{tableDeltaHeight:a,tableDeltaWidth:n,tableBitmapSize:i,tableAggregateInstances:o}}(e,r,this.customTables),s=new K(a,n,i));var c=this.symbols;c||(this.symbols=c={});for(var l=[],u=0,h=r.length;u<h;u++){var f=c[r[u]];f&&(l=l.concat(f))}i=new p(a,n,i);c[t]=d(e.huffman,e.refinement,l,e.numberOfNewSymbols,e.numberOfExportedSymbols,o,e.template,e.at,e.refinementTemplate,e.refinementAt,i,s)},onImmediateTextRegion:function(e,t,r,a,n){for(var i,o=e.info,s=this.symbols,c=[],l=0,u=t.length;l<u;l++){var h=s[t[l]];h&&(c=c.concat(h))}var f=(0,Z.log2)(c.length);e.huffman&&(d=new K(r,a,n),i=function(e,t,r,a,n){for(var i=[],o=0;o<=34;o++){var s=n.readBits(4);i.push(new k([o,s,0,0]))}for(var c=new S(i,!1),l=i.length=0;l<a;){var u=c.decode(n);if(32<=u){var h=void 0,f=void 0,d=void 0;switch(u){case 32:if(0===l)throw new Q("no previous value in symbol ID table");f=n.readBits(2)+3,h=i[l-1].prefixLength;break;case 33:f=n.readBits(3)+3,h=0;break;case 34:f=n.readBits(7)+11,h=0;break;default:throw new Q("invalid code length in symbol ID table")}for(d=0;d<f;d++)i.push(new k([l,h,0,0])),l++}else i.push(new k([l,u,0,0])),l++}n.byteAlign();var p,g,m,b=new S(i,!1),v=0;switch(e.huffmanFS){case 0:case 1:p=Y(e.huffmanFS+6);break;case 3:p=x(v,t,r),v++;break;default:throw new Q("invalid Huffman FS selector")}switch(e.huffmanDS){case 0:case 1:case 2:g=Y(e.huffmanDS+8);break;case 3:g=x(v,t,r),v++;break;default:throw new Q("invalid Huffman DS selector")}switch(e.huffmanDT){case 0:case 1:case 2:m=Y(e.huffmanDT+11);break;case 3:m=x(v,t,r),v++;break;default:throw new Q("invalid Huffman DT selector")}if(e.refinement)throw new Q("refinement with Huffman is not supported");return{symbolIDTable:b,tableFirstS:p,tableDeltaS:g,tableDeltaT:m}}(e,t,this.customTables,c.length,d));var n=new p(r,a,n),d=V(e.huffman,e.refinement,o.width,o.height,e.defaultPixelValue,e.numberOfSymbolInstances,e.stripSize,c,f,e.transposed,e.dsOffset,e.referenceCorner,e.combinationOperator,i,e.refinementTemplate,e.refinementAt,n,e.logStripSize,d);this.drawBitmap(o,d)},onImmediateLosslessTextRegion:function(){this.onImmediateTextRegion.apply(this,arguments)},onPatternDictionary:function(e,t,r,a,n){var i=this.patterns;i||(this.patterns=i={});n=new p(r,a,n);i[t]=function(e,t,r,a,n,i){var o=[];e||(o.push({x:-t,y:0}),0===n&&(o.push({x:-3,y:-1}),o.push({x:2,y:-2}),o.push({x:-2,y:-2})));for(var s=W(e,(a+1)*t,r,n,!1,null,o,i),c=[],l=0;l<=a;l++){for(var u=[],h=t*l,f=h+t,d=0;d<r;d++)u.push(s[d].subarray(h,f));c.push(u)}return c}(e.mmr,e.patternWidth,e.patternHeight,e.maxPatternIndex,e.template,n)},onImmediateHalftoneRegion:function(e,t,r,a,n){var i=this.patterns[t[0]],t=e.info,n=new p(r,a,n),n=function(e,t,r,a,n,i,o,s,c,l,u,h,f,d,p){if(o)throw new Q("skip is not supported");if(0!==s)throw new Q("operator "+s+" is not supported in halftone region");var g,m,b=[];for(L=0;L<n;L++){if(m=new Uint8Array(a),i)for(g=0;g<a;g++)m[g]=i;b.push(m)}var o=t.length,v=(s=t[0])[0].length,y=s.length,w=(0,Z.log2)(o),k=[];e||(k.push({x:r<=1?3:2,y:-1}),0===r&&(k.push({x:-3,y:-1}),k.push({x:2,y:-2}),k.push({x:-2,y:-2})));var S,x,C,A,I,T,O,E,P,F,R,_=[];for(e&&(S=new K(p.data,p.start,p.end)),L=w-1;0<=L;L--)x=e?J(S,c,l,!0):W(!1,c,l,r,!1,null,k,p),_[L]=x;for(C=0;C<l;C++)for(A=0;A<c;A++){for(T=I=0,g=w-1;0<=g;g--)T|=(I=_[g][C][A]^I)<<g;if(O=t[T],P=h+C*f-A*d>>8,0<=(E=u+C*d+A*f>>8)&&E+v<=a&&0<=P&&P+y<=n)for(L=0;L<y;L++)for(R=b[P+L],F=O[L],g=0;g<v;g++)R[E+g]|=F[g];else for(var B,M,L=0;L<y;L++)if(!((M=P+L)<0||n<=M))for(R=b[M],F=O[L],g=0;g<v;g++)0<=(B=E+g)&&B<a&&(R[B]|=F[g])}return b}(e.mmr,i,e.template,t.width,t.height,e.defaultPixelValue,e.enableSkip,e.combinationOperator,e.gridWidth,e.gridHeight,e.gridOffsetX,e.gridOffsetY,e.gridVectorX,e.gridVectorY,n);this.drawBitmap(t,n)},onImmediateLosslessHalftoneRegion:function(){this.onImmediateHalftoneRegion.apply(this,arguments)},onTables:function(e,t,r,a){var n=this.customTables;n||(this.customTables=n={}),n[e]=function(e,t,r){var a,n,i=e[t],o=4294967295&(0,Z.readUint32)(e,t+1),s=4294967295&(0,Z.readUint32)(e,t+5),c=new K(e,t+9,r),l=1+(i>>1&7),u=1+(i>>4&7),h=[],f=o;for(;a=c.readBits(l),n=c.readBits(u),h.push(new k([f,a,n,0])),f+=1<<n,f<s;);a=c.readBits(l),h.push(new k([o-1,a,32,0,"lower"])),a=c.readBits(l),h.push(new k([s,a,32,0])),1&i&&(a=c.readBits(l),h.push(new k([a,0])));return new S(h,!1)}(t,r,a)}},i.prototype={buildTree:function(e,t){var r,a=e.prefixCode>>t&1;t<=0?this.children[a]=new i(e):((r=this.children[a])||(this.children[a]=r=new i(null)),r.buildTree(e,t-1))},decodeNode:function(e){if(this.isLeaf){if(this.isOOB)return null;var t=e.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-t:t)}t=this.children[e.readBit()];if(!t)throw new Q("invalid Huffman data");return t.decodeNode(e)}},S.prototype={decode:function(e){return this.rootNode.decodeNode(e)},assignPrefixCodes:function(e){for(var t=e.length,r=0,a=0;a<t;a++)r=Math.max(r,e[a].prefixLength);for(var n=new Uint32Array(r+1),i=0;i<t;i++)n[e[i].prefixLength]++;var o,s,c,l=1,u=0;for(n[0]=0;l<=r;){for(o=u=u+n[l-1]<<1,s=0;s<t;)(c=e[s]).prefixLength===l&&(c.prefixCode=o,o++),s++;l++}}};var o={};function Y(e){var t,r=o[e];if(r)return r;switch(e){case 1:t=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:t=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:t=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:t=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:t=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:t=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:t=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:t=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:t=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:t=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:t=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:t=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:t=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:t=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:t=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new Q("standard table B.".concat(e," does not exist"))}for(var a=0,n=t.length;a<n;a++)t[a]=new k(t[a]);return r=new S(t,!0),o[e]=r}function K(e,t,r){this.data=e,this.start=t,this.end=r,this.position=t,this.shift=-1,this.currentByte=0}function x(e,t,r){for(var a=0,n=0,i=t.length;n<i;n++){var o=r[t[n]];if(o){if(e===a)return o;a++}}throw new Q("can't find custom Huffman table")}function J(e,t,r,a){for(var n,i=new C.CCITTFaxDecoder(e,{K:-1,Columns:t,Rows:r,BlackIs1:!0,EndOfBlock:a}),o=[],s=!1,c=0;c<r;c++){var l=new Uint8Array(t);o.push(l);for(var u=-1,h=0;h<t;h++)u<0&&(-1===(n=i.readNextChar())&&(s=!(n=0)),u=7),l[h]=n>>u&1,u--}if(a&&!s)for(var f=0;f<5&&-1!==i.readNextChar();f++);return o}function e(){}return K.prototype={readBit:function(){if(this.shift<0){if(this.position>=this.end)throw new Q("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}var e=this.currentByte>>this.shift&1;return this.shift--,e},readBits:function(e){for(var t=0,r=e-1;0<=r;r--)t|=this.readBit()<<r;return t},byteAlign:function(){this.shift=-1},next:function(){return this.position>=this.end?-1:this.data[this.position++]}},e.prototype={parseChunks:function(e){for(var t=new w,r=0,a=e.length;r<a;r++){var n=e[r];m(g({},n.data,n.start,n.end),t)}return t.buffer},parse:function(e){var t=function(e){var t=e.length,r=0;if(151!==e[r]||74!==e[r+1]||66!==e[r+2]||50!==e[r+3]||13!==e[r+4]||10!==e[r+5]||26!==e[r+6]||10!==e[r+7])throw new Q("parseJbig2 - invalid header.");var a=Object.create(null);r+=8;var n=e[r++];a.randomAccess=!(1&n),2&n||(a.numberOfPages=(0,Z.readUint32)(e,r),r+=4),n=new w,m(g(a,e,r,t),n);for(var i=(t=n.currentPageInfo).width,o=t.height,s=n.buffer,c=new Uint8ClampedArray(i*o),l=0,u=0,h=0;h<o;h++)for(var f=0,d=void 0,p=0;p<i;p++)f||(f=128,d=s[u++]),c[l++]=d&f?0:255,f>>=1;return{imgData:c,width:i,height:o}}(e),r=t.imgData,e=t.width,t=t.height;return this.width=e,this.height=t,r}},e}();t.Jbig2Image=r},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ArithmeticDecoder=void 0;var c=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}],a=function(){function a(e,t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.data=e,this.bp=t,this.dataEnd=r,this.chigh=e[t],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}var e,t,r;return e=a,(t=[{key:"byteIn",value:function(){var e=this.data,t=this.bp;255===e[t]?143<e[t+1]?(this.clow+=65280,this.ct=8):(this.clow+=e[++t]<<9,this.ct=7,this.bp=t):(this.clow+=++t<this.dataEnd?e[t]<<8:65280,this.ct=8,this.bp=t),65535<this.clow&&(this.chigh+=this.clow>>16,this.clow&=65535)}},{key:"readBit",value:function(e,t){var r,a=e[t]>>1,n=1&e[t],i=c[a],o=i.qe,s=this.a-o;if(this.chigh<o)a=s<o?(s=o,r=n,i.nmps):(s=o,r=1^n,1===i.switchFlag&&(n=r),i.nlps);else{if(this.chigh-=o,0!=(32768&s))return this.a=s,n;a=s<o?(r=1^n,1===i.switchFlag&&(n=r),i.nlps):(r=n,i.nmps)}for(;0===this.ct&&this.byteIn(),s<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--,0==(32768&s););return this.a=s,e[t]=a<<1|n,r}}])&&n(e.prototype,t),r&&n(e,r),a}();t.ArithmeticDecoder=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JpegStream=void 0;var i=r(205),c=r(198),l=r(212),a=r(5),r=(n.prototype=Object.create(i.DecodeStream.prototype),Object.defineProperty(n.prototype,"bytes",{get:function(){return(0,a.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))},configurable:!0}),n.prototype.ensureBuffer=function(e){},n.prototype.readBlock=function(){if(!this.eof){var e={decodeTransform:void 0,colorTransform:void 0},t=this.dict.getArray("Decode","D");if(this.forceRGB&&Array.isArray(t)){for(var r=this.dict.get("BitsPerComponent")||8,a=t.length,n=new Int32Array(a),i=!1,o=(1<<r)-1,s=0;s<a;s+=2)n[s]=256*(t[s+1]-t[s])|0,n[s+1]=t[s]*o|0,256===n[s]&&0===n[s+1]||(i=!0);i&&(e.decodeTransform=n)}(0,c.isDict)(this.params)&&(r=this.params.get("ColorTransform"),Number.isInteger(r)&&(e.colorTransform=r));e=new l.JpegImage(e);e.parse(this.bytes);e=e.getData({width:this.drawWidth,height:this.drawHeight,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=e,this.bufferLength=e.length,this.eof=!0}},n);function n(e,t,r,a){for(var n;-1!==(n=e.getByte());)if(255===n){e.skip(-1);break}this.stream=e,this.maybeLength=t,this.dict=r,this.params=a,i.DecodeStream.call(this,t)}t.JpegStream=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JpegImage=void 0;var H=r(5),W=r(201);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=s(r);return e=a?(e=s(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==X(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var V,C,A,I,T,O,E,P,F,Y=function(){i(r,H.BaseException);var t=o(r);function r(e){return n(this,r),t.call(this,"JPEG error: ".concat(e))}return r}(),K=function(){i(a,H.BaseException);var r=o(a);function a(e,t){return n(this,a),(e=r.call(this,e)).scanLines=t,e}return a}(),J=function(){i(t,H.BaseException);var e=o(t);function t(){return n(this,t),e.apply(this,arguments)}return t}(),r=(V=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),C=4017,A=799,I=3406,T=2276,O=1567,E=3784,P=5793,F=2896,c.prototype={parse:function(t){var e=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).dnlScanLines,r=void 0===e?null:e;var a,n,i,o,s=0,c=null,l=null,u=0,h=[],f=[],d=[],p=(0,W.readUint16)(t,s);if(s+=2,65496!==p)throw new Y("SOI not found");p=(0,W.readUint16)(t,s),s+=2;e:for(;65497!==p;){switch(p){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var g=(i=(o=i=void 0,W.readUint16)(t,s),o=(s+=2)+i-2,(i=Q(t,o,s))&&i.invalid&&((0,H.warn)("readDataBlock - incorrect length, current marker is: "+i.invalid),o=i.offset),o=t.subarray(s,o),s+=o.length,o);65504===p&&74===g[0]&&70===g[1]&&73===g[2]&&70===g[3]&&0===g[4]&&(c={version:{major:g[5],minor:g[6]},densityUnits:g[7],xDensity:g[8]<<8|g[9],yDensity:g[10]<<8|g[11],thumbWidth:g[12],thumbHeight:g[13],thumbData:g.subarray(14,14+3*g[12]*g[13])}),65518===p&&65===g[0]&&100===g[1]&&111===g[2]&&98===g[3]&&101===g[4]&&(l={version:g[5]<<8|g[6],flags0:g[7]<<8|g[8],flags1:g[9]<<8|g[10],transformCode:g[11]});break;case 65499:for(var m=(0,W.readUint16)(t,s)+(s+=2)-2;s<m;){var b=t[s++],v=new Uint16Array(64);if(b>>4==0)for(R=0;R<64;R++)v[V[R]]=t[s++];else{if(b>>4!=1)throw new Y("DQT - invalid table spec");for(R=0;R<64;R++)v[V[R]]=(0,W.readUint16)(t,s),s+=2}h[15&b]=v}break;case 65472:case 65473:case 65474:if(a)throw new Y("Only single frame JPEGs supported");s+=2,(a={}).extended=65473===p,a.progressive=65474===p,a.precision=t[s++];var y=(0,W.readUint16)(t,s);s+=2,a.scanLines=r||y,a.samplesPerLine=(0,W.readUint16)(t,s),s+=2,a.components=[],a.componentIds={};for(var w=t[s++],k=0,S=0,x=0;x<w;x++){var C=t[s],A=t[s+1]>>4,I=15&t[s+1];k<A&&(k=A),S<I&&(S=I);var T=t[s+2],T=a.components.push({h:A,v:I,quantizationId:T,quantizationTable:null});a.componentIds[C]=T-1,s+=3}a.maxH=k,a.maxV=S,function(e){for(var t=Math.ceil(e.samplesPerLine/8/e.maxH),r=Math.ceil(e.scanLines/8/e.maxV),a=0;a<e.components.length;a++){N=e.components[a];var n=Math.ceil(Math.ceil(e.samplesPerLine/8)*N.h/e.maxH),i=Math.ceil(Math.ceil(e.scanLines/8)*N.v/e.maxV),o=t*N.h,s=r*N.v;N.blockData=new Int16Array(64*s*(1+o)),N.blocksPerLine=n,N.blocksPerColumn=i}e.mcusPerLine=t,e.mcusPerColumn=r}(a);break;case 65476:var O=(0,W.readUint16)(t,s);for(s+=2,x=2;x<O;){for(var E=t[s++],P=new Uint8Array(16),F=0,R=0;R<16;R++,s++)F+=P[R]=t[s];var _=new Uint8Array(F);for(R=0;R<F;R++,s++)_[R]=t[s];x+=17+F,(E>>4==0?d:f)[15&E]=function(e,t){for(var r,a=0,n=[],i=16;0<i&&!e[i-1];)i--;n.push({children:[],index:0});for(var o,s=n[0],c=0;c<i;c++){for(r=0;r<e[c];r++){for((s=n.pop()).children[s.index]=t[a];0<s.index;)s=n.pop();for(s.index++,n.push(s);n.length<=c;)n.push(o={children:[],index:0}),s.children[s.index]=o.children,s=o;a++}c+1<i&&(n.push(o={children:[],index:0}),s.children[s.index]=o.children,s=o)}return n[0].children}(P,_)}break;case 65501:s+=2,n=(0,W.readUint16)(t,s),s+=2;break;case 65498:var B=1==++u&&!r;s+=2;var M=t[s++],L=[];for(x=0;x<M;x++){var D=a.componentIds[t[s++]],N=a.components[D],D=t[s++];N.huffmanTableDC=d[D>>4],N.huffmanTableAC=f[15&D],L.push(N)}var U=t[s++],g=t[s++],y=t[s++];try{var j=z(t,s,a,L,n,U,g,y>>4,15&y,B);s+=j}catch(e){if(e instanceof K)return(0,H.warn)("".concat(e.message," -- attempting to re-parse the JPEG image.")),this.parse(t,{dnlScanLines:e.scanLines});if(e instanceof J){(0,H.warn)("".concat(e.message," -- ignoring the rest of the image data."));break e}throw e}break;case 65500:s+=4;break;case 65535:255!==t[s]&&s--;break;default:B=Q(t,s-2,s-3);if(B&&B.invalid){(0,H.warn)("JpegImage.parse - unexpected data, current marker is: "+B.invalid),s=B.offset;break}if(s>=t.length-1){(0,H.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new Y("JpegImage.parse - unknown marker: "+p.toString(16))}p=(0,W.readUint16)(t,s),s+=2}for(this.width=a.samplesPerLine,this.height=a.scanLines,this.jfif=c,this.adobe=l,this.components=[],x=0;x<a.components.length;x++){var q=h[(N=a.components[x]).quantizationId];q&&(N.quantizationTable=q),this.components.push({output:G(0,N),scaleX:N.h/a.maxH,scaleY:N.v/a.maxV,blocksPerLine:N.blocksPerLine,blocksPerColumn:N.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function(e,t){for(var r,a,n,i,o,s,c,l,u,h,f,d=2<arguments.length&&void 0!==arguments[2]&&arguments[2],p=this.width/e,g=this.height/t,m=0,b=this.components.length,v=e*t*b,y=new Uint8ClampedArray(v),w=new Uint32Array(e),k=0;k<b;k++){if(a=(r=this.components[k]).scaleX*p,n=r.scaleY*g,m=k,h=r.output,i=r.blocksPerLine+1<<3,a!==f){for(o=0;o<e;o++)w[o]=(4294967288&(c=0|o*a))<<3|7&c;f=a}for(s=0;s<t;s++)for(u=i*(4294967288&(c=0|s*n))|(7&c)<<3,o=0;o<e;o++)y[m]=h[u+w[o]],m+=b}var S=this._decodeTransform;if(S=!d&&4===b&&!S?new Int32Array([-256,255,-256,255,-256,255,-256,255]):S)for(k=0;k<v;)for(l=c=0;c<b;c++,k++,l+=2)y[k]=(y[k]*S[l]>>8)+S[l+1];return y},get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this._colorTransform:1===this._colorTransform},_convertYccToRgb:function(e){for(var t,r,a,n=0,i=e.length;n<i;n+=3)t=e[n],r=e[n+1],a=e[n+2],e[n]=t-179.456+1.402*a,e[n+1]=t+135.459-.344*r-.714*a,e[n+2]=t-226.816+1.772*r;return e},_convertYcckToRgb:function(e){for(var t,r,a,n,i=0,o=0,s=e.length;o<s;o+=4)t=e[o],r=e[o+1],a=e[o+2],n=e[o+3],e[i++]=r*(-660635669420364e-19*r+.000437130475926232*a-54080610064599e-18*t+.00048449797120281*n-.154362151871126)-122.67195406894+a*(-.000957964378445773*a+.000817076911346625*t-.00477271405408747*n+1.53380253221734)+t*(.000961250184130688*t-.00266257332283933*n+.48357088451265)+n*(-.000336197177618394*n+.484791561490776),e[i++]=107.268039397724+r*(219927104525741e-19*r-.000640992018297945*a+.000659397001245577*t+.000426105652938837*n-.176491792462875)+a*(-.000778269941513683*a+.00130872261408275*t+.000770482631801132*n-.151051492775562)+t*(.00126935368114843*t-.00265090189010898*n+.25802910206845)+n*(-.000318913117588328*n-.213742400323665),e[i++]=r*(-.000570115196973677*r-263409051004589e-19*a+.0020741088115012*t-.00288260236853442*n+.814272968359295)-20.810012546947+a*(-153496057440975e-19*a-.000132689043961446*t+.000560833691242812*n-.195152027534049)+t*(.00174418132927582*t-.00255243321439347*n+.116935020465145)+n*(-.000343531996510555*n+.24165260232407);return e.subarray(0,i)},_convertYcckToCmyk:function(e){for(var t,r,a,n=0,i=e.length;n<i;n+=4)t=e[n],r=e[n+1],a=e[n+2],e[n]=434.456-t-1.402*a,e[n+1]=119.541-t+.344*r+.714*a,e[n+2]=481.816-t-1.772*r;return e},_convertCmykToRgb:function(e){for(var t,r,a,n,i=0,o=0,s=e.length;o<s;o+=4)t=e[o],r=e[o+1],a=e[o+2],n=e[o+3],e[i++]=255+t*(-6747147073602441e-20*t+.0008379262121013727*r+.0002894718188643294*a+.003264231057537806*n-1.1185611867203937)+r*(26374107616089405e-21*r-8626949158638572e-20*a-.0002748769067499491*n-.02155688794978967)+a*(-3878099212869363e-20*a-.0003267808279485286*n+.0686742238595345)-n*(.0003361971776183937*n+.7430659151342254),e[i++]=255+t*(.00013596372813588848*t+.000924537132573585*r+.00010567359618683593*a+.0004791864687436512*n-.3109689587515875)+r*(-.00023545346108370344*r+.0002702845253534714*a+.0020200308977307156*n-.7488052167015494)+a*(6834815998235662e-20*a+.00015168452363460973*n-.09751927774728933)-n*(.0003189131175883281*n+.7364883807733168),e[i++]=255+t*(13598650411385307e-21*t+.00012423956175490851*r+.0004751985097583589*a-36729317476630422e-22*n-.05562186980264034)+r*(.00016141380598724676*r+.0009692239130725186*a+.0007782692450036253*n-.44015232367526463)+a*(5.068882914068769e-7*a+.0017778369011375071*n-.7591454649749609)-n*(.0003435319965105553*n+.7063770186160144);return e.subarray(0,i)},getData:function(e){var t=e.width,r=e.height,a=e.forceRGB,a=void 0!==a&&a,e=e.isSourcePDF,e=void 0!==e&&e;if(4<this.numComponents)throw new Y("Unsupported color mode");var n=this._getLinearizedBlockData(t,r,e);if(1===this.numComponents&&a){for(var i=n.length,o=new Uint8ClampedArray(3*i),s=0,c=0;c<i;c++){var l=n[c];o[s++]=l,o[s++]=l,o[s++]=l}return o}if(3===this.numComponents&&this._isColorConversionNeeded)return this._convertYccToRgb(n);if(4===this.numComponents){if(this._isColorConversionNeeded)return a?this._convertYcckToRgb(n):this._convertYcckToCmyk(n);if(a)return this._convertCmykToRgb(n)}return n}},c);function c(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.decodeTransform,e=e.colorTransform,e=void 0===e?-1:e;this._decodeTransform=void 0===t?null:t,this._colorTransform=e}function Z(e,t,r){return 64*((e.blocksPerLine+1)*t+r)}function z(r,a,n,e,t,c,l,i,u,o){var s=9<arguments.length&&void 0!==o&&o,h=n.mcusPerLine,f=n.progressive,o=a,d=0,p=0;function g(){if(0<p)return d>>--p&1;if(255===(d=r[a++])){var e=r[a++];if(e){if(220===e&&s){a+=2;var t=(0,W.readUint16)(r,a);if(a+=2,0<t&&t!==n.scanLines)throw new K("Found DNL marker (0xFFDC) while parsing scan data",t)}else if(217===e){if(s){t=8*S;if(0<t&&t<n.scanLines/10)throw new K("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect \`scanLines\` parameter",t)}throw new J("Found EOI marker (0xFFD9) while parsing scan data")}throw new Y("unexpected marker ".concat((d<<8|e).toString(16)))}}return d>>>(p=7)}function m(e){for(var t=e;;){switch(X(t=t[g()])){case"number":return t;case"object":continue}throw new Y("invalid huffman sequence")}}function b(e){for(var t=0;0<e;)t=t<<1|g(),e--;return t}function v(e){if(1===e)return 1===g()?1:-1;var t=b(e);return 1<<e-1<=t?t:t+(-1<<e)+1}var y=0;var w,k=0;var S=0;for(var x,C,A,I,T,O,E,P,F,R,_,B,M,L,D,N,U=e.length,j=f?0===c?0===i?function(e,t){var r=0===(r=m(e.huffmanTableDC))?0:v(r)<<u;e.blockData[t]=e.pred+=r}:function(e,t){e.blockData[t]|=g()<<u}:0===i?function(e,t){if(0<y)y--;else for(var r=c,a=l;r<=a;){var n=m(e.huffmanTableAC),i=15&n,o=n>>4;if(0!=i){n=V[r+=o];e.blockData[t+n]=v(i)*(1<<u),r++}else{if(o<15){y=b(o)+(1<<o)-1;break}r+=16}}}:function(e,t){for(var r,a=c,n=l,i=0;a<=n;){var o=t+V[a],s=e.blockData[o]<0?-1:1;switch(k){case 0:if(i=(r=m(e.huffmanTableAC))>>4,0==(r=15&r))k=i<15?(y=b(i)+(1<<i),4):(i=16,1);else{if(1!=r)throw new Y("invalid ACn encoding");w=v(r),k=i?2:3}continue;case 1:case 2:e.blockData[o]?e.blockData[o]+=s*(g()<<u):0===--i&&(k=2===k?3:0);break;case 3:e.blockData[o]?e.blockData[o]+=s*(g()<<u):(e.blockData[o]=w<<u,k=0);break;case 4:e.blockData[o]&&(e.blockData[o]+=s*(g()<<u))}a++}4===k&&0===--y&&(k=0)}:function(e,t){var r=0===(r=m(e.huffmanTableDC))?0:v(r);e.blockData[t]=e.pred+=r;for(var a=1;a<64;){var n=m(e.huffmanTableAC),i=15&n,o=n>>4;if(0!=i){n=V[a+=o];e.blockData[t+n]=v(i),a++}else{if(o<15)break;a+=16}}},q=0,z=1===U?e[0].blocksPerLine*e[0].blocksPerColumn:h*n.mcusPerColumn;q<=z;){var G=t?Math.min(z-q,t):z;if(0<G){for(C=0;C<U;C++)e[C].pred=0;if(y=0,1===U)for(x=e[0],T=0;T<G;T++)D=j,S=(N=q)/(L=x).blocksPerLine|0,N%=L.blocksPerLine,D(L,Z(L,S,N)),q++;else for(T=0;T<G;T++){for(C=0;C<U;C++)for(E=(x=e[C]).h,P=x.v,A=0;A<P;A++)for(I=0;I<E;I++)R=j,B=A,M=I,S=((_=q)/h|0)*(F=x).v+B,M=_%h*F.h+M,R(F,Z(F,S,M));q++}}if(p=0,!(O=Q(r,a)))break;if(O.invalid&&((0,H.warn)("decodeScan - ".concat(0<G?"unexpected":"excessive"," MCU data, current marker is: ").concat(O.invalid)),a=O.offset),!(65488<=O.marker&&O.marker<=65495))break;a+=2}return a-o}function G(e,t){for(var r=t.blocksPerLine,a=t.blocksPerColumn,n=new Int16Array(64),i=0;i<a;i++)for(var o=0;o<r;o++)!function(e,t,r){var a,n,i,o,s,c,l,u,h,f,d,p,g,m,b,v,y,w=e.quantizationTable,k=e.blockData;if(!w)throw new Y("missing required Quantization Table.");for(var S=0;S<64;S+=8)h=k[t+S],f=k[t+S+1],d=k[t+S+2],p=k[t+S+3],g=k[t+S+4],m=k[t+S+5],b=k[t+S+6],v=k[t+S+7],h*=w[S],0!=(f|d|p|g|m|b|v)?(f*=w[S+1],d*=w[S+2],p*=w[S+3],g*=w[S+4],m*=w[S+5],b*=w[S+6],v*=w[S+7],n=(a=(a=P*h+128>>8)+(n=P*g+128>>8)+1>>1)-n,y=(i=d)*E+(o=b)*O+128>>8,i=i*O-o*E+128>>8,l=(s=(s=F*(f-v)+128>>8)+(l=m<<4)+1>>1)-l,c=(u=(u=F*(f+v)+128>>8)+(c=p<<4)+1>>1)-c,o=(a=a+(o=y)+1>>1)-o,i=(n=n+i+1>>1)-i,y=s*T+u*I+2048>>12,s=s*I-u*T+2048>>12,u=y,y=c*A+l*C+2048>>12,c=c*C-l*A+2048>>12,l=y,r[S]=a+u,r[S+7]=a-u,r[S+1]=n+l,r[S+6]=n-l,r[S+2]=i+c,r[S+5]=i-c,r[S+3]=o+s,r[S+4]=o-s):(r[S]=y=P*h+512>>10,r[S+1]=y,r[S+2]=y,r[S+3]=y,r[S+4]=y,r[S+5]=y,r[S+6]=y,r[S+7]=y);for(var x=0;x<8;++x)h=r[x],0!=((f=r[x+8])|(d=r[x+16])|(p=r[x+24])|(g=r[x+32])|(m=r[x+40])|(b=r[x+48])|(v=r[x+56]))?(n=(a=4112+((a=P*h+2048>>12)+(n=P*g+2048>>12)+1>>1))-n,y=(i=d)*E+(o=b)*O+2048>>12,i=i*O-o*E+2048>>12,o=y,l=(s=(s=F*(f-v)+2048>>12)+(l=m)+1>>1)-l,c=(u=(u=F*(f+v)+2048>>12)+(c=p)+1>>1)-c,y=s*T+u*I+2048>>12,s=s*I-u*T+2048>>12,u=y,y=c*A+l*C+2048>>12,c=c*C-l*A+2048>>12,(h=(a=a+o+1>>1)+u)<16?h=0:4080<=h?h=255:h>>=4,(f=(n=n+i+1>>1)+(l=y))<16?f=0:4080<=f?f=255:f>>=4,(d=(i=n-i)+c)<16?d=0:4080<=d?d=255:d>>=4,(p=(o=a-o)+s)<16?p=0:4080<=p?p=255:p>>=4,(g=o-s)<16?g=0:4080<=g?g=255:g>>=4,(m=i-c)<16?m=0:4080<=m?m=255:m>>=4,(b=n-l)<16?b=0:4080<=b?b=255:b>>=4,(v=a-u)<16?v=0:4080<=v?v=255:v>>=4,k[t+x]=h,k[t+x+8]=f,k[t+x+16]=d,k[t+x+24]=p,k[t+x+32]=g,k[t+x+40]=m,k[t+x+48]=b,k[t+x+56]=v):(k[t+x]=y=(y=P*h+8192>>14)<-2040?0:2024<=y?255:y+2056>>4,k[t+x+8]=y,k[t+x+16]=y,k[t+x+24]=y,k[t+x+32]=y,k[t+x+40]=y,k[t+x+48]=y,k[t+x+56]=y)}(t,Z(t,i,o),n);return t.blockData}function Q(e,t,r){var r=2<arguments.length&&void 0!==r?r:t,a=e.length-1,n=r<t?r:t;if(a<=t)return null;r=(0,W.readUint16)(e,t);if(65472<=r&&r<=65534)return{invalid:null,marker:r,offset:t};for(var i=(0,W.readUint16)(e,n);!(65472<=i&&i<=65534);){if(++n>=a)return null;i=(0,W.readUint16)(e,n)}return{invalid:r.toString(16),marker:i,offset:n}}t.JpegImage=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JpxStream=void 0;var n=r(205),y=r(214),a=r(5),r=(i.prototype=Object.create(n.DecodeStream.prototype),Object.defineProperty(i.prototype,"bytes",{get:function(){return(0,a.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))},configurable:!0}),i.prototype.ensureBuffer=function(e){},i.prototype.readBlock=function(){if(!this.eof){var e=new y.JpxImage;e.parse(this.bytes);var t=e.width,r=e.height,a=e.componentsCount,n=e.tiles.length;if(1===n)this.buffer=e.tiles[0].items;else{for(var i=new Uint8ClampedArray(t*r*a),o=0;o<n;o++)for(var s=e.tiles[o],c=s.width,l=s.height,u=s.left,h=s.top,f=s.items,d=0,p=(t*h+u)*a,g=t*a,m=c*a,b=0;b<l;b++){var v=f.subarray(d,d+m);i.set(v,p),d+=m,p+=g}this.buffer=i}this.bufferLength=this.buffer.length,this.eof=!0}},i);function i(e,t,r,a){this.stream=e,this.maybeLength=t,this.dict=r,this.params=a,n.DecodeStream.call(this,t)}t.JpxStream=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JpxImage=void 0;var G=r(5),H=r(201),W=r(210);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(r);return e=a?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==n(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var X=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(r,G.BaseException);var t=i(r);function r(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t.call(this,"JPX error: ".concat(e))}return r}(),r=function(){var F={LL:0,LH:1,HL:1,HH:2};function e(){this.failOnCorruptedImage=!1}function R(e,t,r){for(var a,n,i=r.xcb_,o=r.ycb_,s=1<<i,c=1<<o,l=t.tbx0>>i,r=t.tby0>>o,u=t.tbx1+s-1>>i,h=t.tby1+c-1>>o,f=t.resolution.precinctParameters,d=[],p=[],g=r;g<h;g++)for(a=l;a<u;a++){(n={cbx:a,cby:g,tbx0:s*a,tby0:c*g,tbx1:s*(a+1),tby1:c*(g+1)}).tbx0_=Math.max(t.tbx0,n.tbx0),n.tby0_=Math.max(t.tby0,n.tby0),n.tbx1_=Math.min(t.tbx1,n.tbx1),n.tby1_=Math.min(t.tby1,n.tby1);var m,b=Math.floor((n.tbx0_-t.tbx0)/f.precinctWidthInSubband)+Math.floor((n.tby0_-t.tby0)/f.precinctHeightInSubband)*f.numprecinctswide;n.precinctNumber=b,n.subbandType=t.type,n.Lblock=3,n.tbx1_<=n.tbx0_||n.tby1_<=n.tby0_||(d.push(n),void 0!==(m=p[b])?(a<m.cbxMin?m.cbxMin=a:a>m.cbxMax&&(m.cbxMax=a),g<m.cbyMin?m.cbxMin=g:g>m.cbyMax&&(m.cbyMax=g)):p[b]=m={cbxMin:a,cbyMin:g,cbxMax:a,cbyMax:g},n.precinct=m)}t.codeblockParameters={codeblockWidth:i,codeblockHeight:o,numcodeblockwide:u-l+1,numcodeblockhigh:h-r+1},t.codeblocks=d,t.precincts=p}function m(e,t,r){for(var a=[],n=e.subbands,i=0,o=n.length;i<o;i++)for(var s=n[i].codeblocks,c=0,l=s.length;c<l;c++){var u=s[c];u.precinctNumber===t&&a.push(u)}return{layerNumber:r,codeblocks:a}}function _(e){for(var t=e.SIZ,r=e.currentTile.index,n=e.tiles[r],i=n.codingStyleDefaultParameters.layersCount,o=t.Csiz,s=0,a=0;a<o;a++)s=Math.max(s,n.components[a].codingStyleParameters.decompositionLevelsCount);var c=0,l=0,u=0,h=0;this.nextPacket=function(){for(;c<i;c++){for(;l<=s;l++){for(;u<o;u++){var e=n.components[u];if(!(l>e.codingStyleParameters.decompositionLevelsCount)){for(var t=e.resolutions[l],r=t.precinctParameters.numprecincts;h<r;){var a=m(t,h,c);return h++,a}h=0}}u=0}l=0}throw new X("Out of packets")}}function B(e){for(var t=e.SIZ,r=e.currentTile.index,n=e.tiles[r],i=n.codingStyleDefaultParameters.layersCount,o=t.Csiz,s=0,a=0;a<o;a++)s=Math.max(s,n.components[a].codingStyleParameters.decompositionLevelsCount);var c=0,l=0,u=0,h=0;this.nextPacket=function(){for(;c<=s;c++){for(;l<i;l++){for(;u<o;u++){var e=n.components[u];if(!(c>e.codingStyleParameters.decompositionLevelsCount)){for(var t=e.resolutions[c],r=t.precinctParameters.numprecincts;h<r;){var a=m(t,h,l);return h++,a}h=0}}u=0}l=0}throw new X("Out of packets")}}function M(e){var a,n,t=e.SIZ,r=e.currentTile.index,i=e.tiles[r],o=i.codingStyleDefaultParameters.layersCount,s=t.Csiz,c=0;for(d=0;d<s;d++)var l=i.components[d],c=Math.max(c,l.codingStyleParameters.decompositionLevelsCount);for(var u=new Int32Array(c+1),h=0;h<=c;++h){for(var f=0,d=0;d<s;++d){var p=i.components[d].resolutions;h<p.length&&(f=Math.max(f,p[h].precinctParameters.numprecincts))}u[h]=f}n=d=h=a=0,this.nextPacket=function(){for(;h<=c;h++){for(;n<u[h];n++){for(;d<s;d++){var e=i.components[d];if(!(h>e.codingStyleParameters.decompositionLevelsCount)){var t=e.resolutions[h];if(!(t.precinctParameters.numprecincts<=n)){for(;a<o;){var r=m(t,n,a);return a++,r}a=0}}}d=0}n=0}throw new X("Out of packets")}}function L(e){var t=e.SIZ,r=e.currentTile.index,o=e.tiles[r],s=o.codingStyleDefaultParameters.layersCount,c=t.Csiz,l=a(o),u=l,h=0,f=0,d=0,p=0,g=0;this.nextPacket=function(){for(;g<u.maxNumHigh;g++){for(;p<u.maxNumWide;p++){for(;d<c;d++){for(var e=o.components[d],t=e.codingStyleParameters.decompositionLevelsCount;f<=t;f++){var r=e.resolutions[f],a=l.components[d].resolutions[f],n=b(p,g,a,u,r);if(null!==n){for(;h<s;){var i=m(r,n,h);return h++,i}h=0}}f=0}d=0}p=0}throw new X("Out of packets")}}function D(e){var t=e.SIZ,r=e.currentTile.index,s=e.tiles[r],c=s.codingStyleDefaultParameters.layersCount,l=t.Csiz,u=a(s),h=0,f=0,d=0,p=0,g=0;this.nextPacket=function(){for(;d<l;++d){for(var e=s.components[d],t=u.components[d],r=e.codingStyleParameters.decompositionLevelsCount;g<t.maxNumHigh;g++){for(;p<t.maxNumWide;p++){for(;f<=r;f++){var a=e.resolutions[f],n=t.resolutions[f],i=b(p,g,n,t,a);if(null!==i){for(;h<c;){var o=m(a,i,h);return h++,o}h=0}}f=0}p=0}g=0}throw new X("Out of packets")}}function b(e,t,r,a,n){e*=a.minWidth,a=t*a.minHeight;if(e%r.width!=0||a%r.height!=0)return null;n=a/r.width*n.precinctParameters.numprecinctswide;return e/r.height+n}function a(e){for(var t=e.components.length,r=Number.MAX_VALUE,a=Number.MAX_VALUE,n=0,i=0,o=new Array(t),s=0;s<t;s++){for(var c=e.components[s],l=c.codingStyleParameters.decompositionLevelsCount,u=new Array(l+1),h=Number.MAX_VALUE,f=Number.MAX_VALUE,d=0,p=0,g=1,m=l;0<=m;--m){var b=c.resolutions[m],v=g*b.precinctParameters.precinctWidth,y=g*b.precinctParameters.precinctHeight,h=Math.min(h,v),f=Math.min(f,y),d=Math.max(d,b.precinctParameters.numprecinctswide),p=Math.max(p,b.precinctParameters.numprecinctshigh);u[m]={width:v,height:y},g<<=1}r=Math.min(r,h),a=Math.min(a,f),n=Math.max(n,d),i=Math.max(i,p),o[s]={resolutions:u,minWidth:h,minHeight:f,maxNumWide:d,maxNumHigh:p}}return{components:o,minWidth:r,minHeight:a,maxNumWide:n,maxNumHigh:i}}e.prototype={parse:function(e){if(65359!==(0,H.readUint16)(e,0))for(var t=0,r=e.length;t<r;){var a=8,n=(0,H.readUint32)(e,t),i=(0,H.readUint32)(e,t+4);if(t+=a,1===n&&(n=4294967296*(0,H.readUint32)(e,t)+(0,H.readUint32)(e,t+4),t+=8,a+=8),(n=0===n?r-t+a:n)<a)throw new X("Invalid box field size");var o=n-a,s=!0;switch(i){case 1785737832:s=!1;break;case 1668246642:var c=e[t];if(1===c){var l=(0,H.readUint32)(e,t+3);switch(l){case 16:case 17:case 18:break;default:(0,G.warn)("Unknown colorspace "+l)}}else 2===c&&(0,G.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(e,t,t+o);break;case 1783636e3:218793738!==(0,H.readUint32)(e,t)&&(0,G.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:c=String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,255&i);(0,G.warn)("Unsupported header type "+i+" ("+c+")")}s&&(t+=o)}else this.parseCodestream(e,0,e.length)},parseImageProperties:function(e){for(var t=e.getByte();0<=t;)if(65361==(t<<8|(t=e.getByte()))){e.skip(4);var r=e.getInt32()>>>0,a=e.getInt32()>>>0,n=e.getInt32()>>>0,i=e.getInt32()>>>0;e.skip(16);var o=e.getUint16();return this.width=r-n,this.height=a-i,this.componentsCount=o,void(this.bitsPerComponent=8)}throw new X("No size marker found in JPX stream")},parseCodestream:function(e,t,r){var a,n,i={},o=!1;try{for(var s=t;s+1<r;){var c=(0,H.readUint16)(e,s);s+=2;var l,u,h,f,d,p=0;switch(c){case 65359:i.mainHeader=!0;break;case 65497:break;case 65361:var p=(0,H.readUint16)(e,s),g={};g.Xsiz=(0,H.readUint32)(e,s+4),g.Ysiz=(0,H.readUint32)(e,s+8),g.XOsiz=(0,H.readUint32)(e,s+12),g.YOsiz=(0,H.readUint32)(e,s+16),g.XTsiz=(0,H.readUint32)(e,s+20),g.YTsiz=(0,H.readUint32)(e,s+24),g.XTOsiz=(0,H.readUint32)(e,s+28),g.YTOsiz=(0,H.readUint32)(e,s+32);var m=(0,H.readUint16)(e,s+36);g.Csiz=m;for(var b=[],v=s+38,y=0;y<m;y++){var w={precision:1+(127&e[v]),isSigned:!!(128&e[v]),XRsiz:e[v+1],YRsiz:e[v+2]};v+=3,n=g,(a=w).x0=Math.ceil(n.XOsiz/a.XRsiz),a.x1=Math.ceil(n.Xsiz/a.XRsiz),a.y0=Math.ceil(n.YOsiz/a.YRsiz),a.y1=Math.ceil(n.Ysiz/a.YRsiz),a.width=a.x1-a.x0,a.height=a.y1-a.y0,b.push(w)}i.SIZ=g,i.components=b,function(e,t){for(var r,a=e.SIZ,n=[],i=Math.ceil((a.Xsiz-a.XTOsiz)/a.XTsiz),o=Math.ceil((a.Ysiz-a.YTOsiz)/a.YTsiz),s=0;s<o;s++)for(var c=0;c<i;c++)(r={}).tx0=Math.max(a.XTOsiz+c*a.XTsiz,a.XOsiz),r.ty0=Math.max(a.YTOsiz+s*a.YTsiz,a.YOsiz),r.tx1=Math.min(a.XTOsiz+(c+1)*a.XTsiz,a.Xsiz),r.ty1=Math.min(a.YTOsiz+(s+1)*a.YTsiz,a.Ysiz),r.width=r.tx1-r.tx0,r.height=r.ty1-r.ty0,r.components=[],n.push(r);e.tiles=n;for(var e=a.Csiz,l=0,u=e;l<u;l++)for(var h=t[l],f=0,d=n.length;f<d;f++){var p={};r=n[f],p.tcx0=Math.ceil(r.tx0/h.XRsiz),p.tcy0=Math.ceil(r.ty0/h.YRsiz),p.tcx1=Math.ceil(r.tx1/h.XRsiz),p.tcy1=Math.ceil(r.ty1/h.YRsiz),p.width=p.tcx1-p.tcx0,p.height=p.tcy1-p.tcy0,r.components[l]=p}}(i,b),i.QCC=[],i.COC=[];break;case 65372:p=(0,H.readUint16)(e,s);var k={};switch(v=s+2,31&(l=e[v++])){case 0:h=8,f=!0;break;case 1:f=!(h=16);break;case 2:h=16,f=!0;break;default:throw new Error("Invalid SQcd value "+l)}for(k.noQuantization=8===h,k.scalarExpounded=f,k.guardBits=l>>5,u=[];v<p+s;){var S={};8===h?(S.epsilon=e[v++]>>3,S.mu=0):(S.epsilon=e[v]>>3,S.mu=(7&e[v])<<8|e[v+1],v+=2),u.push(S)}k.SPqcds=u,i.mainHeader?i.QCD=k:(i.currentTile.QCD=k,i.currentTile.QCC=[]);break;case 65373:p=(0,H.readUint16)(e,s);var x,C={};switch(v=s+2,i.SIZ.Csiz<257?x=e[v++]:(x=(0,H.readUint16)(e,v),v+=2),31&(l=e[v++])){case 0:h=8,f=!0;break;case 1:f=!(h=16);break;case 2:h=16,f=!0;break;default:throw new Error("Invalid SQcd value "+l)}for(C.noQuantization=8===h,C.scalarExpounded=f,C.guardBits=l>>5,u=[];v<p+s;)S={},8===h?(S.epsilon=e[v++]>>3,S.mu=0):(S.epsilon=e[v]>>3,S.mu=(7&e[v])<<8|e[v+1],v+=2),u.push(S);C.SPqcds=u,i.mainHeader?i.QCC[x]=C:i.currentTile.QCC[x]=C;break;case 65362:p=(0,H.readUint16)(e,s);var A={};v=s+2;var I=e[v++];A.entropyCoderWithCustomPrecincts=!!(1&I),A.sopMarkerUsed=!!(2&I),A.ephMarkerUsed=!!(4&I),A.progressionOrder=e[v++],A.layersCount=(0,H.readUint16)(e,v),v+=2,A.multipleComponentTransform=e[v++],A.decompositionLevelsCount=e[v++],A.xcb=2+(15&e[v++]),A.ycb=2+(15&e[v++]);var T=e[v++];if(A.selectiveArithmeticCodingBypass=!!(1&T),A.resetContextProbabilities=!!(2&T),A.terminationOnEachCodingPass=!!(4&T),A.verticallyStripe=!!(8&T),A.predictableTermination=!!(16&T),A.segmentationSymbolUsed=!!(32&T),A.reversibleTransformation=e[v++],A.entropyCoderWithCustomPrecincts){for(var O=[];v<p+s;){var E=e[v++];O.push({PPx:15&E,PPy:E>>4})}A.precinctsSizes=O}var P=[];if(A.selectiveArithmeticCodingBypass&&P.push("selectiveArithmeticCodingBypass"),A.resetContextProbabilities&&P.push("resetContextProbabilities"),A.terminationOnEachCodingPass&&P.push("terminationOnEachCodingPass"),A.verticallyStripe&&P.push("verticallyStripe"),A.predictableTermination&&P.push("predictableTermination"),0<P.length)throw o=!0,new Error("Unsupported COD options ("+P.join(", ")+")");i.mainHeader?i.COD=A:(i.currentTile.COD=A,i.currentTile.COC=[]);break;case 65424:p=(0,H.readUint16)(e,s),(d={}).index=(0,H.readUint16)(e,s+2),d.length=(0,H.readUint32)(e,s+4),d.dataEnd=d.length+s-2,d.partIndex=e[s+8],d.partsCount=e[s+9],i.mainHeader=!1,0===d.partIndex&&(d.COD=i.COD,d.COC=i.COC.slice(0),d.QCD=i.QCD,d.QCC=i.QCC.slice(0)),i.currentTile=d;break;case 65427:0===(d=i.currentTile).partIndex&&(function(e,t){for(var r=e.SIZ.Csiz,a=e.tiles[t],n=0;n<r;n++){var i=a.components[n],o=void 0!==e.currentTile.QCC[n]?e.currentTile.QCC[n]:e.currentTile.QCD;i.quantizationParameters=o;o=void 0!==e.currentTile.COC[n]?e.currentTile.COC[n]:e.currentTile.COD;i.codingStyleParameters=o}a.codingStyleDefaultParameters=e.currentTile.COD}(i,d.index),function(e){for(var t,r=e.SIZ,a=e.currentTile.index,n=e.tiles[a],i=r.Csiz,o=0;o<i;o++){for(var s=n.components[o],c=s.codingStyleParameters.decompositionLevelsCount,l=[],u=[],h=0;h<=c;h++){var f,d=function(e,t){var r=e.codingStyleParameters,e={};r.entropyCoderWithCustomPrecincts?(e.PPx=r.precinctsSizes[t].PPx,e.PPy=r.precinctsSizes[t].PPy):(e.PPx=15,e.PPy=15);return e.xcb_=0<t?Math.min(r.xcb,e.PPx-1):Math.min(r.xcb,e.PPx),e.ycb_=0<t?Math.min(r.ycb,e.PPy-1):Math.min(r.ycb,e.PPy),e}(s,h),p={},g=1<<c-h;p.trx0=Math.ceil(s.tcx0/g),p.try0=Math.ceil(s.tcy0/g),p.trx1=Math.ceil(s.tcx1/g),p.try1=Math.ceil(s.tcy1/g),p.resLevel=h,function(e,t){var r=1<<t.PPx,a=1<<t.PPy,n=0===e.resLevel,i=1<<t.PPx+(n?0:-1),o=1<<t.PPy+(n?0:-1),s=e.trx1>e.trx0?Math.ceil(e.trx1/r)-Math.floor(e.trx0/r):0,t=e.try1>e.try0?Math.ceil(e.try1/a)-Math.floor(e.try0/a):0,n=s*t;e.precinctParameters={precinctWidth:r,precinctHeight:a,numprecinctswide:s,numprecinctshigh:t,numprecincts:n,precinctWidthInSubband:i,precinctHeightInSubband:o}}(p,d),l.push(p),0===h?((t={type:"LL"}).tbx0=Math.ceil(s.tcx0/g),t.tby0=Math.ceil(s.tcy0/g),t.tbx1=Math.ceil(s.tcx1/g),t.tby1=Math.ceil(s.tcy1/g),t.resolution=p,R(0,t,d),u.push(t),p.subbands=[t]):(f=1<<c-h+1,g=[],(t={type:"HL"}).tbx0=Math.ceil(s.tcx0/f-.5),t.tby0=Math.ceil(s.tcy0/f),t.tbx1=Math.ceil(s.tcx1/f-.5),t.tby1=Math.ceil(s.tcy1/f),t.resolution=p,R(0,t,d),u.push(t),g.push(t),(t={type:"LH"}).tbx0=Math.ceil(s.tcx0/f),t.tby0=Math.ceil(s.tcy0/f-.5),t.tbx1=Math.ceil(s.tcx1/f),t.tby1=Math.ceil(s.tcy1/f-.5),t.resolution=p,R(0,t,d),u.push(t),g.push(t),(t={type:"HH"}).tbx0=Math.ceil(s.tcx0/f-.5),t.tby0=Math.ceil(s.tcy0/f-.5),t.tbx1=Math.ceil(s.tcx1/f-.5),t.tby1=Math.ceil(s.tcy1/f-.5),t.resolution=p,R(0,t,d),u.push(t),g.push(t),p.subbands=g)}s.resolutions=l,s.subbands=u}var m=n.codingStyleDefaultParameters.progressionOrder;switch(m){case 0:n.packetsIterator=new _(e);break;case 1:n.packetsIterator=new B(e);break;case 2:n.packetsIterator=new M(e);break;case 3:n.packetsIterator=new L(e);break;case 4:n.packetsIterator=new D(e);break;default:throw new X("Unsupported progression order ".concat(m))}}(i)),function(e,r,a,t){var n,i=0,o=0,s=!1;function c(e){for(;o<e;){var t=r[a+i];i++,s?(n=n<<7|t,o+=7,s=!1):(n=n<<8|t,o+=8),255===t&&(s=!0)}return n>>>(o-=e)&(1<<e)-1}function l(e){return 255===r[a+i-1]&&r[a+i]===e?(u(1),1):255===r[a+i]&&r[a+i+1]===e&&(u(2),1)}function u(e){i+=e}function h(){o=0,s&&(i++,s=!1)}var f,d,p=e.currentTile.index,p=e.tiles[p],g=e.COD.sopMarkerUsed,m=e.COD.ephMarkerUsed,b=p.packetsIterator;for(;i<t;){h(),g&&l(145)&&u(4);var v=b.nextPacket();if(c(1)){for(var y,w=v.layerNumber,k=[],S=0,x=v.codeblocks.length;S<x;S++){var C,A,I=(y=v.codeblocks[S]).precinct,T=y.cbx-I.cbxMin,O=y.cby-I.cbyMin,E=!1,P=!1;if(void 0!==y.included)E=!!c(1);else if(void 0!==(I=y.precinct).inclusionTree?f=I.inclusionTree:(C=I.cbxMax-I.cbxMin+1,A=I.cbyMax-I.cbyMin+1,f=new U(C,A,w),d=new N(C,A),I.inclusionTree=f,I.zeroBitPlanesTree=d),f.reset(T,O,w))for(;;){if(!c(1)){f.incrementValue(w);break}if(!f.nextLevel()){y.included=!0,E=P=!0;break}}if(E){if(P){for((d=I.zeroBitPlanesTree).reset(T,O);;)if(c(1)){if(!d.nextLevel())break}else d.incrementValue();y.zeroBitPlanes=d.value}for(T=function(){if(0===c(1))return 1;if(0===c(1))return 2;var e=c(2);return e<3?e+3:(e=c(5))<31?e+6:(e=c(7))+37}();c(1);)y.Lblock++;O=(0,H.log2)(T),O=c((T<1<<O?O-1:O)+y.Lblock);k.push({codeblock:y,codingpasses:T,dataLength:O})}}for(h(),m&&l(146);0<k.length;){var F=k.shift();void 0===(y=F.codeblock).data&&(y.data=[]),y.data.push({data:r,start:a+i,end:a+i+F.dataLength,codingpasses:F.codingpasses}),i+=F.dataLength}}}}(i,e,s,p=d.dataEnd-s);break;case 65365:case 65367:case 65368:case 65380:p=(0,H.readUint16)(e,s);break;case 65363:throw new Error("Codestream code 0xFF53 (COC) is not implemented");default:throw new Error("Unknown codestream code: "+c.toString(16))}s+=p}}catch(e){if(o||this.failOnCorruptedImage)throw new X(e.message);(0,G.warn)("JPX: Trying to recover from: "+e.message)}this.tiles=function(e){for(var t,r,a,n=e.SIZ,i=e.components,o=n.Csiz,s=[],c=0,l=e.tiles.length;c<l;c++){var u=e.tiles[c],h=[];for(t=0;t<o;t++)h[t]=function(e,t,r){for(var a,n,i=t.components[r],o=i.codingStyleParameters,t=i.quantizationParameters,s=o.decompositionLevelsCount,c=t.SPqcds,l=t.scalarExpounded,u=t.guardBits,h=o.segmentationSymbolUsed,f=e.components[r].precision,d=o.reversibleTransformation,o=new(d?z:q),p=[],g=0,m=0;m<=s;m++){for(var b=i.resolutions[m],v=b.trx1-b.trx0,y=b.try1-b.try0,w=new Float32Array(v*y),k=0,S=b.subbands.length;k<S;k++){l?(a=c[g].mu,n=c[g].epsilon,g++):(a=c[0].mu,n=c[0].epsilon+(0<m?1-m:0));var x=b.subbands[k],C=F[x.type],C=d?1:Math.pow(2,f+C-n)*(1+a/2048);!function(e,t,r,a,n,i,o){for(var s,c,l,u,h,f,d,p,g=r.tbx0,m=r.tby0,b=r.tbx1-r.tbx0,v=r.codeblocks,y="H"===r.type.charAt(0)?1:0,w="H"===r.type.charAt(1)?t:0,k=0,S=v.length;k<S;++k){var x=v[k],C=x.tbx1_-x.tbx0_,A=x.tby1_-x.tby0_;if(0!=C&&0!=A&&void 0!==x.data){s=new j(C,A,x.subbandType,x.zeroBitPlanes,n),c=2;var I=x.data,T=0,O=0;for(l=0,u=I.length;l<u;l++)h=I[l],T+=h.end-h.start,O+=h.codingpasses;var E=new Uint8Array(T),P=0;for(l=0,u=I.length;l<u;l++){var F=(h=I[l]).data.subarray(h.start,h.end);E.set(F,P),P+=F.length}var R=new W.ArithmeticDecoder(E,0,T);for(s.setDecoder(R),l=0;l<O;l++){switch(c){case 0:s.runSignificancePropagationPass();break;case 1:s.runMagnitudeRefinementPass();break;case 2:s.runCleanupPass(),o&&s.checkSegmentationSymbol()}c=(c+1)%3}var _=x.tbx0_-g+(x.tby0_-m)*b,B=s.coefficentsSign,M=s.coefficentsMagnitude,L=s.bitsDecoded,D=i?0:.5;P=0;var N="LL"!==r.type;for(l=0;l<A;l++){var U=2*(_/b|0)*(t-b)+y+w;for(f=0;f<C;f++)0!==(d=M[P])&&(d=(d+D)*a,0!==B[P]&&(d=-d),p=L[P],e[N?U+(_<<1):_]=i&&n<=p?d:d*(1<<n-p)),_++,P++;_+=b-C}}}}(w,v,x,C,u+n-1,d,h)}p.push({width:v,height:y,items:w})}o=o.calculate(p,i.tcx0,i.tcy0);return{left:i.tcx0,top:i.tcy0,width:o.width,height:o.height,items:o.items}}(e,u,t);var f,d,p,g,m,b=h[0],v=new Uint8ClampedArray(b.items.length*o),y={left:b.left,top:b.top,width:b.width,height:b.height,items:v},w=0;if(u.codingStyleDefaultParameters.multipleComponentTransform){var k=4===o,S=h[0].items,x=h[1].items,C=h[2].items,A=k?h[3].items:null;r=i[0].precision-8,a=.5+(128<<r);var b=u.components[0],I=o-3;if(d=S.length,b.codingStyleParameters.reversibleTransformation)for(f=0;f<d;f++,w+=I){p=S[f]+a,g=x[f],m=C[f];var T=p-(m+g>>2);v[w++]=T+m>>r,v[w++]=T>>r,v[w++]=T+g>>r}else for(f=0;f<d;f++,w+=I)p=S[f]+a,g=x[f],m=C[f],v[w++]=p+1.402*m>>r,v[w++]=p-.34413*g-.71414*m>>r,v[w++]=p+1.772*g>>r;if(k)for(f=0,w=3;f<d;f++,w+=4)v[w]=A[f]+a>>r}else for(t=0;t<o;t++){var O=h[t].items;for(r=i[t].precision-8,a=.5+(128<<r),w=t,f=0,d=O.length;f<d;f++)v[w]=O[f]+a>>r,w+=o}s.push(y)}return s}(i),this.width=i.SIZ.Xsiz-i.SIZ.XOsiz,this.height=i.SIZ.Ysiz-i.SIZ.YOsiz,this.componentsCount=i.SIZ.Csiz}};var N=(t.prototype={reset:function(e,t){for(var r=0,a=0;r<this.levels.length;){var n,i=e+t*(n=this.levels[r]).width;if(void 0!==n.items[i]){a=n.items[i];break}n.index=i,e>>=1,t>>=1,r++}(n=this.levels[--r]).items[n.index]=a,this.currentLevel=r,delete this.value},incrementValue:function(){var e=this.levels[this.currentLevel];e.items[e.index]++},nextLevel:function(){var e=this.currentLevel,t=this.levels[e],r=t.items[t.index];return--e<0?(this.value=r,!1):(this.currentLevel=e,(t=this.levels[e]).items[t.index]=r,!0)}},t);function t(e,t){var r=(0,H.log2)(Math.max(e,t))+1;this.levels=[];for(var a=0;a<r;a++)this.levels.push({width:e,height:t,items:[]}),e=Math.ceil(e/2),t=Math.ceil(t/2)}var U=(r.prototype={reset:function(e,t,r){for(var a=0;a<this.levels.length;){var n=this.levels[a],i=e+t*n.width;n.index=i;i=n.items[i];if(255===i)break;if(r<i)return this.currentLevel=a,this.propagateValues(),!1;e>>=1,t>>=1,a++}return this.currentLevel=a-1,!0},incrementValue:function(e){var t=this.levels[this.currentLevel];t.items[t.index]=e+1,this.propagateValues()},propagateValues:function(){for(var e=this.currentLevel,t=this.levels[e],r=t.items[t.index];0<=--e;)(t=this.levels[e]).items[t.index]=r},nextLevel:function(){var e=this.currentLevel,t=this.levels[e],r=t.items[t.index];return t.items[t.index]=255,!(--e<0)&&(this.currentLevel=e,(t=this.levels[e]).items[t.index]=r,!0)}},r);function r(e,t,r){var a=(0,H.log2)(Math.max(e,t))+1;this.levels=[];for(var n=0;n<a;n++){for(var i=new Uint8Array(e*t),o=0,s=i.length;o<s;o++)i[o]=r;this.levels.push({width:e,height:t,items:i}),e=Math.ceil(e/2),t=Math.ceil(t/2)}}var c,l,u,j=(c=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),l=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),u=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]),n.prototype={setDecoder:function(e){this.decoder=e},reset:function(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[17]=92,this.contexts[18]=6},setNeighborsSignificance:function(e,t,r){var a,n=this.neighborsSignificance,i=this.width,o=this.height,s=0<t,t=t+1<i;0<e&&(a=r-i,s&&(n[a-1]+=16),t&&(n[a+1]+=16),n[a]+=4),e+1<o&&(a=r+i,s&&(n[a-1]+=16),t&&(n[a+1]+=16),n[a]+=4),s&&(n[r-1]+=1),t&&(n[r+1]+=1),n[r]|=128},runSignificancePropagationPass:function(){for(var e=this.decoder,t=this.width,r=this.height,a=this.coefficentsMagnitude,n=this.coefficentsSign,i=this.neighborsSignificance,o=this.processingFlags,s=this.contexts,c=this.contextLabelTable,l=this.bitsDecoded,u=0;u<r;u+=4)for(var h=0;h<t;h++)for(var f=u*t+h,d=0;d<4;d++,f+=t){var p,g=u+d;if(r<=g)break;o[f]&=-2,!a[f]&&i[f]&&(p=c[i[f]],e.readBit(s,p)&&(p=this.decodeSignBit(g,h,f),n[f]=p,a[f]=1,this.setNeighborsSignificance(g,h,f),o[f]|=2),l[f]++,o[f]|=1)}},decodeSignBit:function(e,t,r){var a,n,i=this.width,o=this.height,s=this.coefficentsMagnitude,c=this.coefficentsSign,l=0<t&&0!==s[r-1],u=t+1<i&&0!==s[r+1]?(n=c[r+1],l?1-n-(a=c[r-1]):1-n-n):l?1-(a=c[r-1])-a:0,t=3*u;return l=0<e&&0!==s[r-i],0<=(u=e+1<o&&0!==s[r+i]?(n=c[r+i],l?1-n-(a=c[r-i])+t:1-n-n+t):l?1-(a=c[r-i])-a+t:t)?this.decoder.readBit(this.contexts,9+u):1^this.decoder.readBit(this.contexts,9-u)},runMagnitudeRefinementPass:function(){for(var e=this.decoder,t=this.width,r=this.height,a=this.coefficentsMagnitude,n=this.neighborsSignificance,i=this.contexts,o=this.bitsDecoded,s=this.processingFlags,c=t*r,l=4*t,u=0;u<c;u=h)for(var h=Math.min(c,u+l),f=0;f<t;f++)for(var d,p=u+f;p<h;p+=t)a[p]&&0==(1&s[p])&&(d=16,0!=(2&s[p])&&(s[p]^=2,d=0==(127&n[p])?15:14),d=e.readBit(i,d),a[p]=a[p]<<1|d,o[p]++,s[p]|=1)},runCleanupPass:function(){for(var e=this.decoder,t=this.width,r=this.height,a=this.neighborsSignificance,n=this.coefficentsMagnitude,i=this.coefficentsSign,o=this.contexts,s=this.contextLabelTable,c=this.bitsDecoded,l=this.processingFlags,u=t,h=2*t,f=3*t,d=0;d<r;d=p)for(var p=Math.min(d+4,r),g=d*t,m=d+3<r,b=0;b<t;b++){var v,y,w=g+b,k=0,S=w,x=d;if(m&&0===l[w]&&0===l[w+u]&&0===l[w+h]&&0===l[w+f]&&0===a[w]&&0===a[w+u]&&0===a[w+h]&&0===a[w+f]){if(!e.readBit(o,18)){c[w]++,c[w+u]++,c[w+h]++,c[w+f]++;continue}0!==(k=e.readBit(o,17)<<1|e.readBit(o,17))&&(x=d+k,S+=k*t),v=this.decodeSignBit(x,b,S),i[S]=v,n[S]=1,this.setNeighborsSignificance(x,b,S),l[S]|=2;for(var S=w,C=d;C<=x;C++,S+=t)c[S]++;k++}for(x=d+k;x<p;x++,S+=t)n[S]||0!=(1&l[S])||(y=s[a[S]],1===e.readBit(o,y)&&(v=this.decodeSignBit(x,b,S),i[S]=v,n[S]=1,this.setNeighborsSignificance(x,b,S),l[S]|=2),c[S]++)}},checkSegmentationSymbol:function(){var e=this.decoder,t=this.contexts;if(10!=(e.readBit(t,17)<<3|e.readBit(t,17)<<2|e.readBit(t,17)<<1|e.readBit(t,17)))throw new X("Invalid segmentation symbol")}},n);function n(e,t,r,a,n){this.width=e,this.height=t,this.contextLabelTable="HH"===r?u:"HL"===r?l:c;var i=e*t;this.neighborsSignificance=new Uint8Array(i),this.coefficentsSign=new Uint8Array(i),n=new(14<n?Uint32Array:6<n?Uint16Array:Uint8Array)(i),this.coefficentsMagnitude=n,this.processingFlags=new Uint8Array(i);var o=new Uint8Array(i);if(0!==a)for(var s=0;s<i;s++)o[s]=a;this.bitsDecoded=o,this.reset()}var i=(o.prototype.calculate=function(e,t,r){for(var a=e[0],n=1,i=e.length;n<i;n++)a=this.iterate(a,e[n],t,r);return a},o.prototype.extend=function(e,t,r){var a=t-1,n=t+1,i=t+r-2,r=t+r;e[a--]=e[n++],e[r++]=e[i--],e[a--]=e[n++],e[r++]=e[i--],e[a--]=e[n++],e[r++]=e[i--],e[a]=e[n],e[r]=e[i]},o.prototype.iterate=function(e,t,r,a){for(var n,i,o,s,c=e.width,l=e.height,u=e.items,h=t.width,f=t.height,d=t.items,p=0,g=0;g<l;g++)for(i=2*g*h,n=0;n<c;n++,p++,i+=2)d[i]=u[p];var u=e.items=null,m=new Float32Array(h+8);if(1===h){if(0!=(1&r))for(p=s=0;s<f;s++,p+=h)d[p]*=.5}else for(p=s=0;s<f;s++,p+=h)m.set(d.subarray(p,p+h),4),this.extend(m,4,h),this.filter(m,4,h),d.set(m.subarray(4,4+h),p);var b=16,v=[];for(g=0;g<b;g++)v.push(new Float32Array(f+8));var y,w=0;if(e=4+f,1===f){if(0!=(1&a))for(o=0;o<h;o++)d[o]*=.5}else for(o=0;o<h;o++){if(0===w){for(b=Math.min(h-o,b),p=o,i=4;i<e;p+=h,i++)for(y=0;y<b;y++)v[y][i]=d[p+y];w=b}var k=v[--w];if(this.extend(k,4,f),this.filter(k,4,f),0===w)for(p=o-b+1,i=4;i<e;p+=h,i++)for(y=0;y<b;y++)d[p+y]=v[y][i]}return{width:h,height:f,items:d}},o);function o(){}var q=((s.prototype=Object.create(i.prototype)).filter=function(e,t,r){for(var a,n,r=r>>1,i=-1.586134342059924,o=-.052980118572961,s=.882911075530934,c=.443506852043971,l=1.230174104914001,u=(t|=0)-3,h=4+r;h--;u+=2)e[u]*=.8128930661159609;for(a=c*e[(u=t-2)-1],h=3+r;h--&&(n=c*e[u+1],e[u]=l*e[u]-a-n,h--);u+=2)a=c*e[(u+=2)+1],e[u]=l*e[u]-a-n;for(a=s*e[(u=t-1)-1],h=2+r;h--&&(n=s*e[u+1],e[u]-=a+n,h--);u+=2)a=s*e[(u+=2)+1],e[u]-=a+n;for(a=o*e[(u=t)-1],h=1+r;h--&&(n=o*e[u+1],e[u]-=a+n,h--);u+=2)a=o*e[(u+=2)+1],e[u]-=a+n;if(0!=r)for(a=i*e[(u=t+1)-1],h=r;h--&&(n=i*e[u+1],e[u]-=a+n,h--);u+=2)a=i*e[(u+=2)+1],e[u]-=a+n},s);function s(){i.call(this)}var z=((h.prototype=Object.create(i.prototype)).filter=function(e,t,r){for(var r=r>>1,a=t|=0,n=1+r;n--;a+=2)e[a]-=e[a-1]+e[a+1]+2>>2;for(a=t+1,n=r;n--;a+=2)e[a]+=e[a-1]+e[a+1]>>1},h);function h(){i.call(this)}return e}();t.JpxImage=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateSHA512=t.calculateSHA384=t.calculateSHA256=t.calculateMD5=t.PDF20=t.PDF17=t.CipherTransformFactory=t.ARCFourCipher=t.AES256Cipher=t.AES128Cipher=void 0;var x=r(5),C=r(198),a=r(205);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=c(r);return e=a?(e=c(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==n(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}var A=((f.prototype={encryptBlock:function(e){for(var t,r,a=e.length,n=this.a,i=this.b,o=this.s,s=new Uint8Array(a),c=0;c<a;++c)r=o[i=i+(t=o[n=n+1&255])&255],o[n]=r,o[i]=t,s[c]=e[c]^o[t+r&255];return this.a=n,this.b=i,s}}).decryptBlock=f.prototype.encryptBlock,f);function f(e){this.a=0,this.b=0;for(var t,r=new Uint8Array(256),a=0,n=e.length,i=0;i<256;++i)r[i]=i;for(i=0;i<256;++i)a=a+(t=r[i])+e[i%n]&255,r[i]=r[a],r[a]=t;this.s=r}t.ARCFourCipher=A;var k,S,I=(k=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),S=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]),function(e,t,r){for(var a,n=1732584193,i=-271733879,o=-1732584194,s=271733878,c=r+72&-64,l=new Uint8Array(c),u=0;u<r;++u)l[u]=e[t++];for(l[u++]=128,a=c-8;u<a;)l[u++]=0;l[u++]=r<<3&255,l[u++]=r>>5&255,l[u++]=r>>13&255,l[u++]=r>>21&255,l[u++]=r>>>29&255,l[u++]=0,l[u++]=0,l[u++]=0;var h=new Int32Array(16);for(u=0;u<c;){for(b=0;b<16;++b,u+=4)h[b]=l[u]|l[u+1]<<8|l[u+2]<<16|l[u+3]<<24;for(var f,d=n,p=i,g=o,m=s,b=0;b<64;++b)var v=b<16?(f=p&g|~p&m,b):b<32?(f=m&p|~m&g,5*b+1&15):b<48?(f=p^g^m,3*b+5&15):(f=g^(p|~m),7*b&15),y=m,w=d+f+S[b]+h[v]|0,v=k[b],m=g,g=p,p=p+(w<<v|w>>>32-v)|0,d=y;n=n+d|0,i=i+p|0,o=o+g|0,s=s+m|0}return new Uint8Array([255&n,n>>8&255,n>>16&255,n>>>24&255,255&i,i>>8&255,i>>16&255,i>>>24&255,255&o,o>>8&255,o>>16&255,o>>>24&255,255&s,s>>8&255,s>>16&255,s>>>24&255])});t.calculateMD5=I;var j=(d.prototype={and:function(e){this.high&=e.high,this.low&=e.low},xor:function(e){this.high^=e.high,this.low^=e.low},or:function(e){this.high|=e.high,this.low|=e.low},shiftRight:function(e){32<=e?(this.low=this.high>>>e-32|0,this.high=0):(this.low=this.low>>>e|this.high<<32-e,this.high=this.high>>>e|0)},shiftLeft:function(e){32<=e?(this.high=this.low<<e-32,this.low=0):(this.high=this.high<<e|this.low>>>32-e,this.low=this.low<<e)},rotateRight:function(e){var t,r;32&e?(r=this.low,t=this.high):(t=this.low,r=this.high),this.low=t>>>(e&=31)|r<<32-e,this.high=r>>>e|t<<32-e},not:function(){this.high=~this.high,this.low=~this.low},add:function(e){var t=(this.low>>>0)+(e.low>>>0),e=(this.high>>>0)+(e.high>>>0);4294967295<t&&(e+=1),this.low=0|t,this.high=0|e},copyTo:function(e,t){e[t]=this.high>>>24&255,e[t+1]=this.high>>16&255,e[t+2]=this.high>>8&255,e[t+3]=255&this.high,e[t+4]=this.low>>>24&255,e[t+5]=this.low>>16&255,e[t+6]=this.low>>8&255,e[t+7]=255&this.low},assign:function(e){this.high=e.high,this.low=e.low}},d);function d(e,t){this.high=0|e,this.low=0|t}var O,p=(O=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],function(e,t,r){for(var a,n=1779033703,i=3144134277,o=1013904242,s=2773480762,c=1359893119,l=2600822924,u=528734635,h=1541459225,f=64*Math.ceil((r+9)/64),d=new Uint8Array(f),p=0;p<r;++p)d[p]=e[t++];for(d[p++]=128,a=f-8;p<a;)d[p++]=0;d[p++]=0,d[p++]=0,d[p++]=0,d[p++]=r>>>29&255,d[p++]=r>>21&255,d[p++]=r>>13&255,d[p++]=r>>5&255,d[p++]=r<<3&255;var g,m=new Uint32Array(64);for(p=0;p<f;){for(T=0;T<16;++T)m[T]=d[p]<<24|d[p+1]<<16|d[p+2]<<8|d[p+3],p+=4;for(T=16;T<64;++T)m[T]=0|(E(g=m[T-2],17)^E(g,19)^g>>>10)+m[T-7]+(E(g=m[T-15],7)^E(g,18)^g>>>3)+m[T-16];for(var b,v,y=n,w=i,k=o,S=s,x=c,C=l,A=u,I=h,T=0;T<64;++T)b=I+(E(x,6)^E(x,11)^E(x,25))+(x&C^~x&A)+O[T]+m[T],v=(E(y,2)^E(y,13)^E(y,22))+(y&w^y&k^w&k),I=A,A=C,C=x,x=S+b|0,S=k,k=w,w=y,y=b+v|0;n=n+y|0,i=i+w|0,o=o+k|0,s=s+S|0,c=c+x|0,l=l+C|0,u=u+A|0,h=h+I|0}return new Uint8Array([n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s,c>>24&255,c>>16&255,c>>8&255,255&c,l>>24&255,l>>16&255,l>>8&255,255&l,u>>24&255,u>>16&255,u>>8&255,255&u,h>>24&255,h>>16&255,h>>8&255,255&h])});function E(e,t){return e>>>t|e<<32-t}t.calculateSHA256=p;var q,g=(q=[new j(1116352408,3609767458),new j(1899447441,602891725),new j(3049323471,3964484399),new j(3921009573,2173295548),new j(961987163,4081628472),new j(1508970993,3053834265),new j(2453635748,2937671579),new j(2870763221,3664609560),new j(3624381080,2734883394),new j(310598401,1164996542),new j(607225278,1323610764),new j(1426881987,3590304994),new j(1925078388,4068182383),new j(2162078206,991336113),new j(2614888103,633803317),new j(3248222580,3479774868),new j(3835390401,2666613458),new j(4022224774,944711139),new j(264347078,2341262773),new j(604807628,2007800933),new j(770255983,1495990901),new j(1249150122,1856431235),new j(1555081692,3175218132),new j(1996064986,2198950837),new j(2554220882,3999719339),new j(2821834349,766784016),new j(2952996808,2566594879),new j(3210313671,3203337956),new j(3336571891,1034457026),new j(3584528711,2466948901),new j(113926993,3758326383),new j(338241895,168717936),new j(666307205,1188179964),new j(773529912,1546045734),new j(1294757372,1522805485),new j(1396182291,2643833823),new j(1695183700,2343527390),new j(1986661051,1014477480),new j(2177026350,1206759142),new j(2456956037,344077627),new j(2730485921,1290863460),new j(2820302411,3158454273),new j(3259730800,3505952657),new j(3345764771,106217008),new j(3516065817,3606008344),new j(3600352804,1432725776),new j(4094571909,1467031594),new j(275423344,851169720),new j(430227734,3100823752),new j(506948616,1363258195),new j(659060556,3750685593),new j(883997877,3785050280),new j(958139571,3318307427),new j(1322822218,3812723403),new j(1537002063,2003034995),new j(1747873779,3602036899),new j(1955562222,1575990012),new j(2024104815,1125592928),new j(2227730452,2716904306),new j(2361852424,442776044),new j(2428436474,593698344),new j(2756734187,3733110249),new j(3204031479,2999351573),new j(3329325298,3815920427),new j(3391569614,3928383900),new j(3515267271,566280711),new j(3940187606,3454069534),new j(4118630271,4000239992),new j(116418474,1914138554),new j(174292421,2731055270),new j(289380356,3203993006),new j(460393269,320620315),new j(685471733,587496836),new j(852142971,1086792851),new j(1017036298,365543100),new j(1126000580,2618297676),new j(1288033470,3409855158),new j(1501505948,4234509866),new j(1607167915,987167468),new j(1816402316,1246189591)],function(e,t,r,a){for(var n,i,o,s,c,l,u,h,f,d=(a=!!a)?(n=new j(3418070365,3238371032),i=new j(1654270250,914150663),o=new j(2438529370,812702999),s=new j(355462360,4144912697),c=new j(1731405415,4290775857),l=new j(2394180231,1750603025),u=new j(3675008525,1694076839),new j(1203062813,3204075428)):(n=new j(1779033703,4089235720),i=new j(3144134277,2227873595),o=new j(1013904242,4271175723),s=new j(2773480762,1595750129),c=new j(1359893119,2917565137),l=new j(2600822924,725511199),u=new j(528734635,4215389547),new j(1541459225,327033209)),p=128*Math.ceil((r+17)/128),g=new Uint8Array(p),m=0;m<r;++m)g[m]=e[t++];for(g[m++]=128,f=p-16;m<f;)g[m++]=0;g[m++]=0,g[m++]=0,g[m++]=0,g[m++]=0,g[m++]=0,g[m++]=0,g[m++]=0,g[m++]=0,g[m++]=0,g[m++]=0,g[m++]=0,g[m++]=r>>>29&255,g[m++]=r>>21&255,g[m++]=r>>13&255,g[m++]=r>>5&255,g[m++]=r<<3&255;var b=new Array(80);for(m=0;m<80;m++)b[m]=new j(0,0);var v,y,w,k,S,x,C,A,I,T,O=new j(0,0),E=new j(0,0),P=new j(0,0),F=new j(0,0),R=new j(0,0),_=new j(0,0),B=new j(0,0),M=new j(0,0),L=new j(0,0),D=new j(0,0),N=new j(0,0),U=new j(0,0);for(m=0;m<p;){for(h=0;h<16;++h)b[h].high=g[m]<<24|g[m+1]<<16|g[m+2]<<8|g[m+3],b[h].low=g[m+4]<<24|g[m+5]<<16|g[m+6]<<8|g[m+7],m+=8;for(h=16;h<80;++h)v=b[h],C=v,A=b[h-2],I=U,C.assign(A),C.rotateRight(19),I.assign(A),I.rotateRight(61),C.xor(I),I.assign(A),I.shiftRight(6),C.xor(I),v.add(b[h-7]),A=N,C=b[h-15],I=U,A.assign(C),A.rotateRight(1),I.assign(C),I.rotateRight(8),A.xor(I),I.assign(C),I.shiftRight(7),A.xor(I),v.add(N),v.add(b[h-16]);for(O.assign(n),E.assign(i),P.assign(o),F.assign(s),R.assign(c),_.assign(l),B.assign(u),M.assign(d),h=0;h<80;++h)L.assign(M),S=R,x=U,(k=N).assign(S),k.rotateRight(14),x.assign(S),x.rotateRight(18),k.xor(x),x.assign(S),x.rotateRight(41),k.xor(x),L.add(N),y=R,w=_,S=B,k=U,(x=N).assign(y),x.and(w),k.assign(y),k.not(),k.and(S),x.xor(k),L.add(N),L.add(q[h]),L.add(b[h]),w=O,y=U,(S=D).assign(w),S.rotateRight(28),y.assign(w),y.rotateRight(34),S.xor(y),y.assign(w),y.rotateRight(39),S.xor(y),x=O,k=E,w=P,S=U,(y=N).assign(x),y.and(k),S.assign(x),S.and(w),y.xor(S),S.assign(k),S.and(w),y.xor(S),D.add(N),v=M,M=B,B=_,_=R,F.add(L),R=F,F=P,P=E,E=O,v.assign(L),v.add(D),O=v;n.add(O),i.add(E),o.add(P),s.add(F),c.add(R),l.add(_),u.add(B),d.add(M)}return a?(T=new Uint8Array(48),n.copyTo(T,0),i.copyTo(T,8),o.copyTo(T,16),s.copyTo(T,24),c.copyTo(T,32),l.copyTo(T,40)):(T=new Uint8Array(64),n.copyTo(T,0),i.copyTo(T,8),o.copyTo(T,16),s.copyTo(T,24),c.copyTo(T,32),l.copyTo(T,40),u.copyTo(T,48),d.copyTo(T,56)),T});t.calculateSHA512=g;var m=function(e,t,r){return g(e,t,r,!0)};t.calculateSHA384=m;var b=(v.prototype={decryptBlock:function(e){return e}},v);function v(){}var y=function(){function t(){l(this,t),this.constructor===t&&(0,x.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(var e=0;e<256;e++)this._mixCol[e]=e<128?e<<1:e<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}return h(t,[{key:"_expandKey",value:function(e){(0,x.unreachable)("Cannot call \`_expandKey\` on the base class")}},{key:"_decrypt",value:function(e,t){var r,a,n=new Uint8Array(16);n.set(e);for(var i=0,o=this._keySize;i<16;++i,++o)n[i]^=t[o];for(var s=this._cyclesOfRepetition-1;1<=s;--s){m=n[13],n[13]=n[9],n[9]=n[5],n[5]=n[1],n[1]=m,m=n[14],r=n[10],n[14]=n[6],n[10]=n[2],n[6]=m,n[2]=r,m=n[15],r=n[11],a=n[7],n[15]=n[3],n[11]=m,n[7]=r,n[3]=a;for(var c=0;c<16;++c)n[c]=this._inv_s[n[c]];for(var l=0,u=16*s;l<16;++l,++u)n[l]^=t[u];for(var h=0;h<16;h+=4){var f=this._mix[n[h]],d=this._mix[n[h+1]],p=this._mix[n[h+2]],g=this._mix[n[h+3]],m=f^d>>>8^d<<24^p>>>16^p<<16^g>>>24^g<<8;n[h]=m>>>24&255,n[h+1]=m>>16&255,n[h+2]=m>>8&255,n[h+3]=255&m}}m=n[13],n[13]=n[9],n[9]=n[5],n[5]=n[1],n[1]=m,m=n[14],r=n[10],n[14]=n[6],n[10]=n[2],n[6]=m,n[2]=r,m=n[15],r=n[11],a=n[7],n[15]=n[3],n[11]=m,n[7]=r,n[3]=a;for(var b=0;b<16;++b)n[b]=this._inv_s[n[b]],n[b]^=t[b];return n}},{key:"_encrypt",value:function(e,t){var r,a,n=this._s,i=new Uint8Array(16);i.set(e);for(var o=0;o<16;++o)i[o]^=t[o];for(var s=1;s<this._cyclesOfRepetition;s++){for(var c=0;c<16;++c)i[c]=n[i[c]];a=i[1],i[1]=i[5],i[5]=i[9],i[9]=i[13],i[13]=a,a=i[2],r=i[6],i[2]=i[10],i[6]=i[14],i[10]=a,i[14]=r,a=i[3],r=i[7],p=i[11],i[3]=i[15],i[7]=a,i[11]=r,i[15]=p;for(var l=0;l<16;l+=4){var u=i[l+0],h=i[l+1],f=i[l+2],d=i[l+3],p=u^h^f^d;i[l+0]^=p^this._mixCol[u^h],i[l+1]^=p^this._mixCol[h^f],i[l+2]^=p^this._mixCol[f^d],i[l+3]^=p^this._mixCol[d^u]}for(var g=0,m=16*s;g<16;++g,++m)i[g]^=t[m]}for(var b=0;b<16;++b)i[b]=n[i[b]];a=i[1],i[1]=i[5],i[5]=i[9],i[9]=i[13],i[13]=a,a=i[2],r=i[6],i[2]=i[10],i[6]=i[14],i[10]=a,i[14]=r,a=i[3],r=i[7],p=i[11],i[3]=i[15],i[7]=a,i[11]=r,i[15]=p;for(var v=0,y=this._keySize;v<16;++v,++y)i[v]^=t[y];return i}},{key:"_decryptBlock2",value:function(e,t){for(var r=e.length,a=this.buffer,n=this.bufferPosition,i=[],o=this.iv,s=0;s<r;++s)if(a[n]=e[s],!(++n<16)){for(var c=this._decrypt(a,this._key),l=0;l<16;++l)c[l]^=o[l];o=a,i.push(c),a=new Uint8Array(16),n=0}if(this.buffer=a,this.bufferLength=n,this.iv=o,0===i.length)return new Uint8Array(0);var u=16*i.length;if(t){var h=i[i.length-1],f=h[15];if(f<=16){for(var d=15,p=16-f;p<=d;--d)if(h[d]!==f){f=0;break}u-=f,i[i.length-1]=h.subarray(0,16-f)}}for(var g=new Uint8Array(u),m=0,b=0,v=i.length;m<v;++m,b+=16)g.set(i[m],b);return g}},{key:"decryptBlock",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=e.length,n=this.buffer,i=this.bufferPosition;if(r)this.iv=r;else{for(var o=0;i<16&&o<a;++o,++i)n[i]=e[o];if(i<16)return this.bufferLength=i,new Uint8Array(0);this.iv=n,e=e.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(e,t)}},{key:"encrypt",value:function(e,t){var r=e.length,a=this.buffer,n=this.bufferPosition,i=[];t=t||new Uint8Array(16);for(var o=0;o<r;++o)if(a[n]=e[o],!(++n<16)){for(var s=0;s<16;++s)a[s]^=t[s];var c=this._encrypt(a,this._key);i.push(t=c),a=new Uint8Array(16),n=0}if(this.buffer=a,this.bufferLength=n,this.iv=t,0===i.length)return new Uint8Array(0);for(var l=16*i.length,u=new Uint8Array(l),h=0,f=0,d=i.length;h<d;++h,f+=16)u.set(i[h],f);return u}}]),t}(),w=function(){i(a,y);var r=s(a);function a(e){var t;return l(this,a),(t=r.call(this))._cyclesOfRepetition=10,t._keySize=160,t._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),t._key=t._expandKey(e),t}return h(a,[{key:"_expandKey",value:function(e){var t=this._s,r=this._rcon,a=new Uint8Array(176);a.set(e);for(var n=16,i=1;n<176;++i){var o=a[n-3],s=a[n-2],c=a[n-1],l=a[n-4],o=t[o],s=t[s],c=t[c],l=t[l];o^=r[i];for(var u=0;u<4;++u)a[n]=o^=a[n-16],a[++n]=s^=a[n-16],a[++n]=c^=a[n-16],a[++n]=l^=a[n-16],n++}return a}}]),a}();t.AES128Cipher=w;var T=function(){i(a,y);var r=s(a);function a(e){var t;return l(this,a),(t=r.call(this))._cyclesOfRepetition=14,t._keySize=224,t._key=t._expandKey(e),t}return h(a,[{key:"_expandKey",value:function(e){var t=this._s,r=new Uint8Array(240);r.set(e);for(var a,n,i,o,s=1,c=32;c<240;0){c%32==16?(a=t[a],n=t[n],i=t[i],o=t[o]):c%32==0&&(a=r[c-3],n=r[c-2],i=r[c-1],o=r[c-4],a=t[a],n=t[n],i=t[i],o=t[o],a^=s,256<=(s<<=1)&&(s=255&(27^s)));for(var l=0;l<4;++l)r[c]=a^=r[c-32],r[++c]=n^=r[c-32],r[++c]=i^=r[c-32],r[++c]=o^=r[c-32],c++}return r}}]),a}();t.AES256Cipher=T;var P=(R.prototype={checkOwnerPassword:function(e,t,r,a){var n=new Uint8Array(e.length+56);return n.set(e,0),n.set(t,e.length),n.set(r,e.length+t.length),F(p(n,0,n.length),a)},checkUserPassword:function(e,t,r){var a=new Uint8Array(e.length+8);return a.set(e,0),a.set(t,e.length),F(p(a,0,a.length),r)},getOwnerKey:function(e,t,r,a){var n=new Uint8Array(e.length+56);n.set(e,0),n.set(t,e.length),n.set(r,e.length+t.length);n=p(n,0,n.length);return new T(n).decryptBlock(a,!1,new Uint8Array(16))},getUserKey:function(e,t,r){var a=new Uint8Array(e.length+8);a.set(e,0),a.set(t,e.length);a=p(a,0,a.length);return new T(a).decryptBlock(r,!1,new Uint8Array(16))}},R);function F(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function R(){}t.PDF17=P;var _=(L.prototype={hash:M,checkOwnerPassword:function(e,t,r,a){var n=new Uint8Array(e.length+56);return n.set(e,0),n.set(t,e.length),n.set(r,e.length+t.length),D(M(e,n,r),a)},checkUserPassword:function(e,t,r){var a=new Uint8Array(e.length+8);return a.set(e,0),a.set(t,e.length),D(M(e,a,[]),r)},getOwnerKey:function(e,t,r,a){var n=new Uint8Array(e.length+56);n.set(e,0),n.set(t,e.length),n.set(r,e.length+t.length);r=M(e,n,r);return new T(r).decryptBlock(a,!1,new Uint8Array(16))},getUserKey:function(e,t,r){var a=new Uint8Array(e.length+8);a.set(e,0),a.set(t,e.length);a=M(e,a,[]);return new T(a).decryptBlock(r,!1,new Uint8Array(16))}},L);function B(e,t){var r=new Uint8Array(e.length+t.length);return r.set(e,0),r.set(t,e.length),r}function M(e,t,r){for(var a=p(t,0,t.length).subarray(0,32),n=[0],i=0;i<64||n[n.length-1]>i-32;){for(var o=e.length+a.length+r.length,s=new Uint8Array(64*o),c=B(e,a),c=B(c,r),l=0,u=0;l<64;l++,u+=o)s.set(c,u);for(var n=new w(a.subarray(0,16)).encrypt(s,a.subarray(16,32)),h=0,f=0;f<16;f++)h*=1,h%=3,h+=(n[f]>>>0)%3,h%=3;0===h?a=p(n,0,n.length):1===h?a=m(n,0,n.length):2===h&&(a=g(n,0,n.length)),i++}return a.subarray(0,32)}function L(){}function D(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}t.PDF20=_;var N=(U.prototype={createStream:function(e,t){var r=new this.StreamCipherConstructor;return new a.DecryptStream(e,t,function(e,t){return r.decryptBlock(e,t)})},decryptString:function(e){var t=new this.StringCipherConstructor,e=(0,x.stringToBytes)(e),e=t.decryptBlock(e,!0);return(0,x.bytesToString)(e)}},U);function U(e,t){this.StringCipherConstructor=e,this.StreamCipherConstructor=t}var z,G,r=(z=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]),G=C.Name.get("Identity"),W.prototype={createCipherTransform:function(e,t){if(4===this.algorithm||5===this.algorithm)return new N(V(this.cf,this.stmf,e,t,this.encryptionKey),V(this.cf,this.strf,e,t,this.encryptionKey));var r=X(e,t,this.encryptionKey,!1),t=function(){return new A(r)};return new N(t,t)}},W);function H(e,t,r,a,n,i,o,s){var c=40+r.length+e.length,l=new Uint8Array(c),u=0;if(t)for(m=Math.min(32,t.length);u<m;++u)l[u]=t[u];for(v=0;u<32;)l[u++]=z[v++];for(v=0,m=r.length;v<m;++v)l[u++]=r[v];for(l[u++]=255&n,l[u++]=n>>8&255,l[u++]=n>>16&255,l[u++]=n>>>24&255,v=0,m=e.length;v<m;++v)l[u++]=e[v];4<=i&&!s&&(l[u++]=255,l[u++]=255,l[u++]=255,l[u++]=255);var h=I(l,0,u),f=o>>3;if(3<=i)for(v=0;v<50;++v)h=I(h,0,f);var d=h.subarray(0,f);if(3<=i){for(u=0;u<32;++u)l[u]=z[u];for(v=0,m=e.length;v<m;++v)l[u++]=e[v];for(var p,g=new A(d).encryptBlock(I(l,0,u)),m=d.length,b=new Uint8Array(m),v=1;v<=19;++v){for(p=0;p<m;++p)b[p]=d[p]^v;g=new A(b).encryptBlock(g)}for(v=0,m=g.length;v<m;++v)if(a[v]!==g[v])return null}else for(v=0,m=(g=new A(d).encryptBlock(z)).length;v<m;++v)if(a[v]!==g[v])return null;return d}function W(e,t,r){var a=e.get("Filter");if(!(0,C.isName)(a,"Standard"))throw new x.FormatError("unknown encryption method");var n=(this.dict=e).get("V");if(!Number.isInteger(n)||1!==n&&2!==n&&4!==n&&5!==n)throw new x.FormatError("unsupported encryption algorithm");this.algorithm=n;var i=e.get("Length");if(i||(n<=3?i=40:(d=e.get("CF"),p=e.get("StmF"),(0,C.isDict)(d)&&(0,C.isName)(p)&&(d.suppressEncryption=!0,(i=(g=d.get(p.name))&&g.get("Length")||128)<40&&(i<<=3)))),!Number.isInteger(i)||i<40||i%8!=0)throw new x.FormatError("invalid key length");var o=(0,x.stringToBytes)(e.get("O")).subarray(0,32),s=(0,x.stringToBytes)(e.get("U")).subarray(0,32),c=e.get("P"),l=e.get("R"),u=(4===n||5===n)&&!1!==e.get("EncryptMetadata");this.encryptMetadata=u;var h,f,d,p,g,m,b,v,y,w,k,S=(0,x.stringToBytes)(t);if(r){if(6===l)try{r=(0,x.utf8StringToString)(r)}catch(e){(0,x.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}h=(0,x.stringToBytes)(r)}if(!(k=5!==n?H(S,h,o,s,c,l,i,u):(m=(0,x.stringToBytes)(e.get("O")).subarray(32,40),b=(0,x.stringToBytes)(e.get("O")).subarray(40,48),v=(0,x.stringToBytes)(e.get("U")).subarray(0,48),k=(0,x.stringToBytes)(e.get("U")).subarray(32,40),y=(0,x.stringToBytes)(e.get("U")).subarray(40,48),f=(0,x.stringToBytes)(e.get("OE")),w=(0,x.stringToBytes)(e.get("UE")),(0,x.stringToBytes)(e.get("Perms")),a=l,d=o,p=m,g=b,t=v,m=s,b=k,v=y,k=f,y=w,f=(f=h)?(w=Math.min(127,f.length),f.subarray(0,w)):[],(a=new(6===a?_:P)).checkUserPassword(f,b,m)?a.getUserKey(f,v,y):f.length&&a.checkOwnerPassword(f,p,t,d)?a.getOwnerKey(f,g,t,k):null))&&!r)throw new x.PasswordException("No password given",x.PasswordResponses.NEED_PASSWORD);if(!(k=!k&&r?H(S,function(e,t,r,a){for(var n=new Uint8Array(32),i=0,o=Math.min(32,e.length);i<o;++i)n[i]=e[i];for(f=0;i<32;)n[i++]=z[f++];var s=I(n,0,i),c=a>>3;if(3<=r)for(f=0;f<50;++f)s=I(s,0,s.length);if(3<=r)for(var l,u=t,h=new Uint8Array(c),f=19;0<=f;f--){for(l=0;l<c;++l)h[l]=s[l]^f;u=new A(h).encryptBlock(u)}else u=new A(s.subarray(0,c)).encryptBlock(t);return u}(h,o,l,i),o,s,c,l,i,u):k))throw new x.PasswordException("Incorrect Password",x.PasswordResponses.INCORRECT_PASSWORD);this.encryptionKey=k,4<=n&&(n=e.get("CF"),(0,C.isDict)(n)&&(n.suppressEncryption=!0),this.cf=n,this.stmf=e.get("StmF")||G,this.strf=e.get("StrF")||G,this.eff=e.get("EFF")||this.stmf)}function X(e,t,r,a){for(var n=new Uint8Array(r.length+9),i=0,o=r.length;i<o;++i)n[i]=r[i];return n[i++]=255&e,n[i++]=e>>8&255,n[i++]=e>>16&255,n[i++]=255&t,n[i++]=t>>8&255,a&&(n[i++]=115,n[i++]=65,n[i++]=108,n[i++]=84),I(n,0,i).subarray(0,Math.min(r.length+5,16))}function V(e,t,r,a,n){if(!(0,C.isName)(t))throw new x.FormatError("Invalid crypt filter name.");var i,t=e.get(t.name);if(!(i=null!=t?t.get("CFM"):i)||"None"===i.name)return function(){return new b};if("V2"===i.name)return function(){return new A(X(r,a,n,!1))};if("AESV2"===i.name)return function(){return new w(X(r,a,n,!0))};if("AESV3"===i.name)return function(){return new T(n)};throw new x.FormatError("Unknown crypto method")}t.CipherTransformFactory=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorSpace=void 0;var f=r(5),d=r(198);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=i(r);return e=a?(e=i(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==n(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function g(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}var m=function(){function r(e,t){p(this,r),this.constructor===r&&(0,f.unreachable)("Cannot initialize ColorSpace."),this.name=e,this.numComps=t}return g(r,[{key:"getRgb",value:function(e,t){var r=new Uint8ClampedArray(3);return this.getRgbItem(e,t,r,0),r}},{key:"getRgbItem",value:function(e,t,r,a){(0,f.unreachable)("Should not call ColorSpace.getRgbItem")}},{key:"getRgbBuffer",value:function(e,t,r,a,n,i,o){(0,f.unreachable)("Should not call ColorSpace.getRgbBuffer")}},{key:"getOutputLength",value:function(e,t){(0,f.unreachable)("Should not call ColorSpace.getOutputLength")}},{key:"isPassthrough",value:function(e){return!1}},{key:"isDefaultDecode",value:function(e,t){return r.isDefaultDecode(e,this.numComps)}},{key:"fillRgb",value:function(e,t,r,a,n,i,o,s,c){var l=t*r,u=null,h=1<<o,f=r!==n||t!==a;if(this.isPassthrough(o))u=s;else if(1===this.numComps&&h<l&&"DeviceGray"!==this.name&&"DeviceRGB"!==this.name){for(var d=new(o<=8?Uint8Array:Uint16Array)(h),p=0;p<h;p++)d[p]=p;var g=new Uint8ClampedArray(3*h);if(this.getRgbBuffer(d,0,h,g,0,o,0),f)for(var u=new Uint8Array(3*l),m=0,b=0;b<l;++b){var v=3*s[b];u[m++]=g[v],u[m++]=g[1+v],u[m++]=g[2+v]}else for(var y=0,w=0;w<l;++w){var k=3*s[w];e[y++]=g[k],e[y++]=g[1+k],e[y++]=g[2+k],y+=c}}else f?(u=new Uint8ClampedArray(3*l),this.getRgbBuffer(s,0,l,u,0,o,0)):this.getRgbBuffer(s,0,a*i,e,0,o,c);if(u)if(f)!function(e,t,r,a,n,i,o){o=1!==o?0:o;for(var s,c=r/n,l=a/i,u=0,h=new Uint16Array(n),f=3*r,d=0;d<n;d++)h[d]=3*Math.floor(d*c);for(var p=0;p<i;p++)for(var g=Math.floor(p*l)*f,m=0;m<n;m++)s=g+h[m],t[u++]=e[s++],t[u++]=e[s++],t[u++]=e[+s],u+=o}(u,e,t,r,a,n,c);else for(var S=0,x=0,C=0,A=a*i;C<A;C++)e[S++]=u[x++],e[S++]=u[x++],e[S++]=u[x++],S+=c}},{key:"usesZeroToOneRange",get:function(){return(0,f.shadow)(this,"usesZeroToOneRange",!0)}}],[{key:"parse",value:function(e,t,r,a){a=this.parseToIR(e,t,r,a);return this.fromIR(a)}},{key:"fromIR",value:function(e){var t=Array.isArray(e)?e[0]:e;switch(t){case"DeviceGrayCS":return this.singletons.gray;case"DeviceRgbCS":return this.singletons.rgb;case"DeviceCmykCS":return this.singletons.cmyk;case"CalGrayCS":return r=e[1],a=e[2],n=e[3],new k(r,a,n);case"CalRGBCS":var r=e[1],a=e[2],n=e[3],i=e[4];return new F(r,a,n,i);case"PatternCS":var o=(o=e[1])&&this.fromIR(o);return new h(o);case"IndexedCS":var o=e[1],s=e[2],c=e[3];return new b(this.fromIR(o),s,c);case"AlternateCS":var s=e[1],c=e[2],l=e[3];return new u(s,this.fromIR(c),l);case"LabCS":r=e[1],a=e[2];l=e[3];return new D(r,a,l);default:throw new f.FormatError("Unknown colorspace name: ".concat(t))}}},{key:"parseToIR",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=3<arguments.length?arguments[3]:void 0;if(e=t.fetchIfRef(e),(0,d.isName)(e))switch(e.name){case"DeviceGray":case"G":return"DeviceGrayCS";case"DeviceRGB":case"RGB":return"DeviceRgbCS";case"DeviceCMYK":case"CMYK":return"DeviceCmykCS";case"Pattern":return["PatternCS",null];default:if((0,d.isDict)(r)){var n=r.get("ColorSpace");if((0,d.isDict)(n)){n=n.get(e.name);if(n){if((0,d.isName)(n))return this.parseToIR(n,t,r,a);e=n;break}}}throw new f.FormatError("unrecognized colorspace ".concat(e.name))}if(Array.isArray(e)){var i,o=t.fetchIfRef(e[0]).name;switch(o){case"DeviceGray":case"G":return"DeviceGrayCS";case"DeviceRGB":case"RGB":return"DeviceRgbCS";case"DeviceCMYK":case"CMYK":return"DeviceCmykCS";case"CalGray":return["CalGrayCS",(i=t.fetchIfRef(e[1])).getArray("WhitePoint"),i.getArray("BlackPoint"),i.get("Gamma")];case"CalRGB":return["CalRGBCS",(i=t.fetchIfRef(e[1])).getArray("WhitePoint"),i.getArray("BlackPoint"),i.getArray("Gamma"),i.getArray("Matrix")];case"ICCBased":var s=t.fetchIfRef(e[1]).dict,c=s.get("N");if(s=s.get("Alternate")){var l=this.parseToIR(s,t,r,a);if(this.fromIR(l,a).numComps===c)return l;(0,f.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(1===c)return"DeviceGrayCS";if(3===c)return"DeviceRgbCS";if(4===c)return"DeviceCmykCS";break;case"Pattern":var u=e[1]||null;return["PatternCS",u=u&&this.parseToIR(u,t,r,a)];case"Indexed":case"I":var l=this.parseToIR(e[1],t,r,a),u=t.fetchIfRef(e[2])+1,h=t.fetchIfRef(e[3]);return["IndexedCS",l,u,h=(0,d.isStream)(h)?h.getBytes():h];case"Separation":case"DeviceN":h=t.fetchIfRef(e[1]);return["AlternateCS",c=Array.isArray(h)?h.length:1,s=this.parseToIR(e[2],t,r,a),a.create(t.fetchIfRef(e[3]))];case"Lab":return["LabCS",(i=t.fetchIfRef(e[1])).getArray("WhitePoint"),i.getArray("BlackPoint"),i.getArray("Range")];default:throw new f.FormatError('unimplemented color space object "'.concat(o,'"'))}}throw new f.FormatError('unrecognized color space object: "'.concat(e,'"'))}},{key:"isDefaultDecode",value:function(e,t){if(!Array.isArray(e))return!0;if(2*t!==e.length)return(0,f.warn)("The decode map is not the correct length"),!0;for(var r=0,a=e.length;r<a;r+=2)if(0!==e[r]||1!==e[r+1])return!1;return!0}},{key:"singletons",get:function(){return(0,f.shadow)(this,"singletons",{get gray(){return(0,f.shadow)(this,"gray",new s)},get rgb(){return(0,f.shadow)(this,"rgb",new v)},get cmyk(){return(0,f.shadow)(this,"cmyk",new y)}})}}]),r}();t.ColorSpace=m;var u=function(){c(n,m);var a=l(n);function n(e,t,r){return p(this,n),(e=a.call(this,"Alternate",e)).base=t,e.tintFn=r,e.tmpBuf=new Float32Array(t.numComps),e}return g(n,[{key:"getRgbItem",value:function(e,t,r,a){var n=this.tmpBuf;this.tintFn(e,t,n,0),this.base.getRgbItem(n,0,r,a)}},{key:"getRgbBuffer",value:function(e,t,r,a,n,i,o){for(var s,c=this.tintFn,l=this.base,u=1/((1<<i)-1),h=l.numComps,f=l.usesZeroToOneRange,i=(l.isPassthrough(8)||!f)&&0===o,d=i?n:0,p=i?a:new Uint8ClampedArray(h*r),g=this.numComps,m=new Float32Array(g),b=new Float32Array(h),v=0;v<r;v++){for(s=0;s<g;s++)m[s]=e[t++]*u;if(c(m,0,b,0),f)for(s=0;s<h;s++)p[d++]=255*b[s];else l.getRgbItem(b,0,p,d),d+=h}i||l.getRgbBuffer(p,0,r,a,n,8,o)}},{key:"getOutputLength",value:function(e,t){return this.base.getOutputLength(e*this.base.numComps/this.numComps,t)}}]),n}(),h=function(){c(a,m);var r=l(a);function a(e){var t;return p(this,a),(t=r.call(this,"Pattern",null)).base=e,t}return g(a,[{key:"isDefaultDecode",value:function(e,t){(0,f.unreachable)("Should not call PatternCS.isDefaultDecode")}}]),a}(),b=function(){c(s,m);var o=l(s);function s(e,t,r){var a;p(this,s),(a=o.call(this,"Indexed",1)).base=e,a.highVal=t;var n=e.numComps*t;if((0,d.isStream)(r)){a.lookup=new Uint8Array(n);t=r.getBytes(n);a.lookup.set(t)}else if((0,f.isString)(r)){a.lookup=new Uint8Array(n);for(var i=0;i<n;++i)a.lookup[i]=r.charCodeAt(i)}else{if(!(r instanceof Uint8Array))throw new f.FormatError("Unrecognized lookup table: ".concat(r));a.lookup=r}return a}return g(s,[{key:"getRgbItem",value:function(e,t,r,a){var n=this.base.numComps,n=e[t]*n;this.base.getRgbBuffer(this.lookup,n,1,r,a,8,0)}},{key:"getRgbBuffer",value:function(e,t,r,a,n,i,o){for(var s=this.base,c=s.numComps,l=s.getOutputLength(c,o),u=this.lookup,h=0;h<r;++h){var f=e[t++]*c;s.getRgbBuffer(u,f,1,a,n,8,o),n+=l}}},{key:"getOutputLength",value:function(e,t){return this.base.getOutputLength(e*this.base.numComps,t)}},{key:"isDefaultDecode",value:function(e,t){return!Array.isArray(e)||(2!==e.length?((0,f.warn)("Decode map length is not correct"),!0):!Number.isInteger(t)||t<1?((0,f.warn)("Bits per component is not correct"),!0):0===e[0]&&e[1]===(1<<t)-1)}}]),s}(),s=function(){c(t,m);var e=l(t);function t(){return p(this,t),e.call(this,"DeviceGray",1)}return g(t,[{key:"getRgbItem",value:function(e,t,r,a){t=255*e[t];r[a]=r[a+1]=r[a+2]=t}},{key:"getRgbBuffer",value:function(e,t,r,a,n,i,o){for(var s=255/((1<<i)-1),c=t,l=n,u=0;u<r;++u){var h=s*e[c++];a[l++]=h,a[l++]=h,a[l++]=h,l+=o}}},{key:"getOutputLength",value:function(e,t){return e*(3+t)}}]),t}(),v=function(){c(t,m);var e=l(t);function t(){return p(this,t),e.call(this,"DeviceRGB",3)}return g(t,[{key:"getRgbItem",value:function(e,t,r,a){r[a]=255*e[t],r[a+1]=255*e[t+1],r[a+2]=255*e[t+2]}},{key:"getRgbBuffer",value:function(e,t,r,a,n,i,o){if(8!==i||0!==o)for(var s=255/((1<<i)-1),c=t,l=n,u=0;u<r;++u)a[l++]=s*e[c++],a[l++]=s*e[c++],a[l++]=s*e[c++],l+=o;else a.set(e.subarray(t,t+3*r),n)}},{key:"getOutputLength",value:function(e,t){return e*(3+t)/3|0}},{key:"isPassthrough",value:function(e){return 8===e}}]),t}(),y=function(){c(t,m);var e=l(t);function t(){return p(this,t),e.call(this,"DeviceCMYK",4)}return g(t,[{key:"getRgbItem",value:function(e,t,r,a){w(e,t,1,r,a)}},{key:"getRgbBuffer",value:function(e,t,r,a,n,i,o){for(var s=1/((1<<i)-1),c=0;c<r;c++)w(e,t,s,a,n),t+=4,n+=3+o}},{key:"getOutputLength",value:function(e,t){return e/4*(3+t)|0}}]),t}();function w(e,t,r,a,n){var i=e[t]*r,o=e[t+1]*r,s=e[t+2]*r,r=e[t+3]*r;a[n]=255+i*(-4.387332384609988*i+54.48615194189176*o+18.82290502165302*s+212.25662451639585*r-285.2331026137004)+o*(1.7149763477362134*o-5.6096736904047315*s+-17.873870861415444*r-5.497006427196366)+s*(-2.5217340131683033*s-21.248923337353073*r+17.5119270841813)+r*(-21.86122147463605*r-189.48180835922747),a[n+1]=255+i*(8.841041422036149*i+60.118027045597366*o+6.871425592049007*s+31.159100130055922*r-79.2970844816548)+o*(-15.310361306967817*o+17.575251261109482*s+131.35250912493976*r-190.9453302588951)+s*(4.444339102852739*s+9.8632861493405*r-24.86741582555878)+r*(-20.737325471181034*r-187.80453709719578),a[n+2]=255+i*(.8842522430003296*i+8.078677503112928*o+30.89978309703729*s-.23883238689178934*r-14.183576799673286)+o*(10.49593273432072*o+63.02378494754052*s+50.606957656360734*r-112.23884253719248)+s*(.03296041114873217*s+115.60384449646641*r-193.58209356861505)+r*(-22.33816807309886*r-180.12613974708367)}var k=function(){c(i,m);var n=l(i);function i(e,t,r){var a;if(p(this,i),a=n.call(this,"CalGray",1),!e)throw new f.FormatError("WhitePoint missing - required for color space CalGray");if(t=t||[0,0,0],r=r||1,a.XW=e[0],a.YW=e[1],a.ZW=e[2],a.XB=t[0],a.YB=t[1],a.ZB=t[2],a.G=r,a.XW<0||a.ZW<0||1!==a.YW)throw new f.FormatError("Invalid WhitePoint components for ".concat(a.name)+", no fallback available");return(a.XB<0||a.YB<0||a.ZB<0)&&((0,f.info)("Invalid BlackPoint for ".concat(a.name,", falling back to default.")),a.XB=a.YB=a.ZB=0),0===a.XB&&0===a.YB&&0===a.ZB||(0,f.warn)("".concat(a.name,", BlackPoint: XB: ").concat(a.XB,", YB: ").concat(a.YB,", ")+"ZB: ".concat(a.ZB,", only default values are supported.")),a.G<1&&((0,f.info)("Invalid Gamma: ".concat(a.G," for ").concat(a.name,", ")+"falling back to default."),a.G=1),a}return g(i,[{key:"getRgbItem",value:function(e,t,r,a){S(this,e,t,r,a,1)}},{key:"getRgbBuffer",value:function(e,t,r,a,n,i,o){for(var s=1/((1<<i)-1),c=0;c<r;++c)S(this,e,t,a,n,s),t+=1,n+=3+o}},{key:"getOutputLength",value:function(e,t){return e*(3+t)}}]),i}();function S(e,t,r,a,n,i){i=t[r]*i,i=Math.pow(i,e.G),i=e.YW*i,i=Math.max(295.8*Math.pow(i,.3333333333333333)-40.8,0);a[n]=i,a[n+1]=i,a[n+2]=i}var x,C,A,I,T,O,E,P,F=(x=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),C=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]),A=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]),I=new Float32Array([1,1,1]),T=new Float32Array(3),O=new Float32Array(3),E=new Float32Array(3),P=Math.pow(24/116,3)/8,function(){c(h,m);var u=l(h);function h(e,t,r,a){var n;if(p(this,h),n=u.call(this,"CalRGB",3),!e)throw new f.FormatError("WhitePoint missing - required for color space CalRGB");t=t||new Float32Array(3),r=r||new Float32Array([1,1,1]),a=a||new Float32Array([1,0,0,0,1,0,0,0,1]);var i=e[0],o=e[1],s=e[2];n.whitePoint=e;var c=t[0],l=t[1],e=t[2];if(n.blackPoint=t,n.GR=r[0],n.GG=r[1],n.GB=r[2],n.MXA=a[0],n.MYA=a[1],n.MZA=a[2],n.MXB=a[3],n.MYB=a[4],n.MZB=a[5],n.MXC=a[6],n.MYC=a[7],n.MZC=a[8],i<0||s<0||1!==o)throw new f.FormatError("Invalid WhitePoint components for ".concat(n.name)+", no fallback available");return(c<0||l<0||e<0)&&((0,f.info)("Invalid BlackPoint for ".concat(n.name," [").concat(c,", ").concat(l,", ").concat(e,"], ")+"falling back to default."),n.blackPoint=new Float32Array(3)),(n.GR<0||n.GG<0||n.GB<0)&&((0,f.info)("Invalid Gamma [".concat(n.GR,", ").concat(n.GG,", ").concat(n.GB,"] for ")+"".concat(n.name,", falling back to default.")),n.GR=n.GG=n.GB=1),n}return g(h,[{key:"getRgbItem",value:function(e,t,r,a){L(this,e,t,r,a,1)}},{key:"getRgbBuffer",value:function(e,t,r,a,n,i,o){for(var s=1/((1<<i)-1),c=0;c<r;++c)L(this,e,t,a,n,s),t+=3,n+=3+o}},{key:"getOutputLength",value:function(e,t){return e*(3+t)/3|0}}]),h}());function R(e,t,r){r[0]=e[0]*t[0]+e[1]*t[1]+e[2]*t[2],r[1]=e[3]*t[0]+e[4]*t[1]+e[5]*t[2],r[2]=e[6]*t[0]+e[7]*t[1]+e[8]*t[2]}function _(e){return B(0,1,e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function B(e,t,r){return Math.max(e,Math.min(t,r))}function M(e){return e<0?-M(-e):8<e?Math.pow((e+16)/116,3):e*P}function L(e,t,r,a,n,i){var o=B(0,1,t[r]*i),s=B(0,1,t[r+1]*i),t=B(0,1,t[r+2]*i),r=Math.pow(o,e.GR),i=Math.pow(s,e.GG),o=Math.pow(t,e.GB),s=e.MXA*r+e.MXB*i+e.MXC*o,t=e.MYA*r+e.MYB*i+e.MYC*o,i=e.MZA*r+e.MZB*i+e.MZC*o,o=O;o[0]=s,o[1]=t,o[2]=i;i=E;!function(e,t,r){if(1===e[0]&&1===e[2])return r[0]=t[0],r[1]=t[1],r[2]=t[2];var a;R(x,t,a=r);var n=T;t=e,e=a,(a=n)[0]=+e[0]/t[0],a[1]=+e[1]/t[1],a[2]=+e[2]/t[2],R(C,n,r)}(e.whitePoint,o,i);o=O;!function(e,t,r){if(0===e[0]&&0===e[1]&&0===e[2])return r[0]=t[0],r[1]=t[1],r[2]=t[2];var a=M(0),n=(1-a)/(1-M(e[0])),i=(1-a)/(1-M(e[1])),o=1-i,e=1-(a=(1-a)/(1-M(e[2])));r[0]=t[0]*n+(1-n),r[1]=t[1]*i+o,r[2]=t[2]*a+e}(e.blackPoint,i,o);i=E;!function(e,t,r){var a;R(x,t,a=r);var n=T;t=e,e=a,(a=n)[0]=.95047*e[0]/t[0],a[1]=+e[1]/t[1],a[2]=1.08883*e[2]/t[2],R(C,n,r)}(I,o,i);o=O;R(A,i,o),a[n]=255*_(o[0]),a[n+1]=255*_(o[1]),a[n+2]=255*_(o[2])}var D=function(){c(i,m);var n=l(i);function i(e,t,r){var a;if(p(this,i),a=n.call(this,"Lab",3),!e)throw new f.FormatError("WhitePoint missing - required for color space Lab");if(t=t||[0,0,0],r=r||[-100,100,-100,100],a.XW=e[0],a.YW=e[1],a.ZW=e[2],a.amin=r[0],a.amax=r[1],a.bmin=r[2],a.bmax=r[3],a.XB=t[0],a.YB=t[1],a.ZB=t[2],a.XW<0||a.ZW<0||1!==a.YW)throw new f.FormatError("Invalid WhitePoint components, no fallback available");return(a.XB<0||a.YB<0||a.ZB<0)&&((0,f.info)("Invalid BlackPoint, falling back to default"),a.XB=a.YB=a.ZB=0),(a.amin>a.amax||a.bmin>a.bmax)&&((0,f.info)("Invalid Range, falling back to defaults"),a.amin=-100,a.amax=100,a.bmin=-100,a.bmax=100),a}return g(i,[{key:"getRgbItem",value:function(e,t,r,a){j(this,e,t,!1,r,a)}},{key:"getRgbBuffer",value:function(e,t,r,a,n,i,o){for(var s=(1<<i)-1,c=0;c<r;c++)j(this,e,t,s,a,n),t+=3,n+=3+o}},{key:"getOutputLength",value:function(e,t){return e*(3+t)/3|0}},{key:"isDefaultDecode",value:function(e,t){return!0}},{key:"usesZeroToOneRange",get:function(){return(0,f.shadow)(this,"usesZeroToOneRange",!1)}}]),i}();function N(e){e=6/29<=e?e*e*e:108/841*(e-4/29);return e}function U(e,t,r,a){return r+e*(a-r)/t}function j(e,t,r,a,n,i){var o=t[r],s=t[r+1],r=t[r+2];!1!==a&&(o=U(o,a,0,100),s=U(s,a,e.amin,e.amax),r=U(r,a,e.bmin,e.bmax)),s>e.amax?s=e.amax:s<e.amin&&(s=e.amin),r>e.bmax?r=e.bmax:r<e.bmin&&(r=e.bmin);var c,l,a=(o+16)/116,o=e.XW*N(a+s/500),s=e.YW*N(a),r=e.ZW*N(a-r/200),r=e.ZW<1?(c=3.1339*o+-1.617*s+-.4906*r,l=-.9785*o+1.916*s+.0333*r,.072*o+-.229*s+1.4057*r):(c=3.2406*o+-1.5372*s+-.4986*r,l=-.9689*o+1.8758*s+.0415*r,.0557*o+-.204*s+1.057*r);n[i]=255*Math.sqrt(c),n[i+1]=255*Math.sqrt(l),n[i+2]=255*Math.sqrt(r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalImageCache=t.LocalImageCache=void 0;var n=r(5),i=r(198);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}r=function(){function e(){o(this,e),this._nameRefMap=new Map,this._imageMap=new Map,this._imageCache=new i.RefSetCache}return s(e,[{key:"getByName",value:function(e){var t=this._nameRefMap.get(e);return t?this.getByRef(t):this._imageMap.get(e)||null}},{key:"getByRef",value:function(e){return this._imageCache.get(e)||null}},{key:"set",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=2<arguments.length?arguments[2]:void 0;if(!e)throw new Error('LocalImageCache.set - expected "name" argument.');if(t)return this._imageCache.has(t)?void 0:(this._nameRefMap.set(e,t),void this._imageCache.put(t,r));this._imageMap.has(e)||this._imageMap.set(e,r)}}]),e}();t.LocalImageCache=r;r=function(){function a(){o(this,a),this._refCache=new i.RefSetCache,this._imageCache=new i.RefSetCache}return s(a,null,[{key:"NUM_PAGES_THRESHOLD",get:function(){return(0,n.shadow)(this,"NUM_PAGES_THRESHOLD",2)}},{key:"MAX_IMAGES_TO_CACHE",get:function(){return(0,n.shadow)(this,"MAX_IMAGES_TO_CACHE",10)}}]),s(a,[{key:"shouldCache",value:function(e,t){var r=this._refCache.get(e);return!((r?r.size+(r.has(t)?0:1):1)<a.NUM_PAGES_THRESHOLD)&&!(!this._imageCache.has(e)&&this._imageCache.size>=a.MAX_IMAGES_TO_CACHE)}},{key:"addPageIndex",value:function(e,t){var r=this._refCache.get(e);r||(r=new Set,this._refCache.put(e,r)),r.add(t)}},{key:"getData",value:function(e,t){if(!this._refCache.has(e))return null;var r=this._refCache.get(e);return!(r.size<a.NUM_PAGES_THRESHOLD)&&this._imageCache.has(e)?(r.add(t),this._imageCache.get(e)):null}},{key:"setData",value:function(e,t){if(!this._refCache.has(e))throw new Error('GlobalImageCache.setData - expected "addPageIndex" to have been called.');this._imageCache.has(e)||(this._imageCache.size>=a.MAX_IMAGES_TO_CACHE?(0,n.info)("GlobalImageCache.setData - ignoring image above MAX_IMAGES_TO_CACHE."):this._imageCache.put(e,t))}},{key:"clear",value:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]||this._refCache.clear(),this._imageCache.clear()}}]),a}();t.GlobalImageCache=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getQuadPoints=C,t.MarkupAnnotation=t.AnnotationFactory=t.AnnotationBorderStyle=t.Annotation=void 0;var d=r(5),i=r(203),c=r(198),a=r(216),u=r(201),p=r(219),o=r(205);function s(e,t,r){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(r):t.value}})(e,t,r||e)}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=m(r);return g(this,a?(e=m(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function g(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=y(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,t=function(){};return{s:t,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,n=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw n}}}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],a=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(n)throw i}}return r}}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function x(e,t,r){return t&&S(e.prototype,t),r&&S(e,r),e}r=function(){function e(){k(this,e)}return x(e,null,[{key:"create",value:function(e,t,r,a){return r.ensure(this,"_create",[e,t,r,a])}},{key:"_create",value:function(e,t,r,a){var n=e.fetchIfRef(t);if((0,c.isDict)(n)){var a=(0,c.isRef)(t)?t.toString():"annot_".concat(a.createObjId()),i=n.get("Subtype"),o={xref:e,dict:n,subtype:i=(0,c.isName)(i)?i.name:null,id:a,pdfManager:r};switch(i){case"Link":return new _(o);case"Text":return new R(o);case"Widget":var s=(0,u.getInheritableProperty)({dict:n,key:"FT"});switch(s=(0,c.isName)(s)?s.name:null){case"Tx":return new E(o);case"Btn":return new P(o);case"Ch":return new F(o)}return(0,d.warn)('Unimplemented widget field type "'+s+'", falling back to base field type.'),new O(o);case"Popup":return new B(o);case"FreeText":return new M(o);case"Line":return new L(o);case"Square":return new D(o);case"Circle":return new N(o);case"PolyLine":return new U(o);case"Polygon":return new j(o);case"Caret":return new q(o);case"Ink":return new z(o);case"Highlight":return new G(o);case"Underline":return new H(o);case"Squiggly":return new W(o);case"StrikeOut":return new X(o);case"Stamp":return new V(o);case"FileAttachment":return new Y(o);default:return i?(0,d.warn)('Unimplemented annotation type "'+i+'", falling back to base annotation.'):(0,d.warn)("Annotation is missing the required /Subtype."),new A(o)}}}}]),e}();function C(e,t){if(!e.has("QuadPoints"))return null;var r=e.getArray("QuadPoints");if(!Array.isArray(r)||0<r.length%8)return null;for(var a=[],n=0,i=r.length/8;n<i;n++){a.push([]);for(var o=8*n,s=8*n+8;o<s;o+=2){var c=r[o],l=r[o+1];if(c<t[0]||c>t[2]||l<t[1]||l>t[3])return null;a[n].push({x:c,y:l})}}return a}t.AnnotationFactory=r;var A=function(){function r(e){k(this,r);var t=e.dict;this.setContents(t.get("Contents")),this.setModificationDate(t.get("M")),this.setFlags(t.get("F")),this.setRectangle(t.getArray("Rect")),this.setColor(t.getArray("C")),this.setBorderStyle(t),this.setAppearance(t),this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,contents:this.contents,hasAppearance:!!this.appearance,id:e.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:e.subtype}}return x(r,[{key:"_hasFlag",value:function(e,t){return!!(e&t)}},{key:"_isViewable",value:function(e){return!this._hasFlag(e,d.AnnotationFlag.INVISIBLE)&&!this._hasFlag(e,d.AnnotationFlag.HIDDEN)&&!this._hasFlag(e,d.AnnotationFlag.NOVIEW)}},{key:"_isPrintable",value:function(e){return this._hasFlag(e,d.AnnotationFlag.PRINT)&&!this._hasFlag(e,d.AnnotationFlag.INVISIBLE)&&!this._hasFlag(e,d.AnnotationFlag.HIDDEN)}},{key:"setContents",value:function(e){this.contents=(0,d.stringToPDFString)(e||"")}},{key:"setModificationDate",value:function(e){this.modificationDate=(0,d.isString)(e)?e:null}},{key:"setFlags",value:function(e){this.flags=Number.isInteger(e)&&0<e?e:0}},{key:"hasFlag",value:function(e){return this._hasFlag(this.flags,e)}},{key:"setRectangle",value:function(e){Array.isArray(e)&&4===e.length?this.rectangle=d.Util.normalizeRect(e):this.rectangle=[0,0,0,0]}},{key:"setColor",value:function(e){var t=new Uint8ClampedArray(3);if(Array.isArray(e))switch(e.length){case 0:this.color=null;break;case 1:a.ColorSpace.singletons.gray.getRgbItem(e,0,t,0),this.color=t;break;case 3:a.ColorSpace.singletons.rgb.getRgbItem(e,0,t,0),this.color=t;break;case 4:a.ColorSpace.singletons.cmyk.getRgbItem(e,0,t,0),this.color=t;break;default:this.color=t}else this.color=t}},{key:"setBorderStyle",value:function(e){var t,r;this.borderStyle=new I,(0,c.isDict)(e)&&(e.has("BS")?(r=(t=e.get("BS")).get("Type"))&&!(0,c.isName)(r,"Border")||(this.borderStyle.setWidth(t.get("W"),this.rectangle),this.borderStyle.setStyle(t.get("S")),this.borderStyle.setDashArray(t.getArray("D"))):e.has("Border")?(e=e.getArray("Border"),Array.isArray(e)&&3<=e.length&&(this.borderStyle.setHorizontalCornerRadius(e[0]),this.borderStyle.setVerticalCornerRadius(e[1]),this.borderStyle.setWidth(e[2],this.rectangle),4===e.length&&this.borderStyle.setDashArray(e[3]))):this.borderStyle.setWidth(0))}},{key:"setAppearance",value:function(e){this.appearance=null;var t=e.get("AP");(0,c.isDict)(t)&&(t=t.get("N"),(0,c.isStream)(t)?this.appearance=t:(0,c.isDict)(t)&&(e=e.get("AS"),(0,c.isName)(e)&&t.has(e.name)&&(this.appearance=t.get(e.name))))}},{key:"loadResources",value:function(t){return this.appearance.dict.getAsync("Resources").then(function(e){if(e)return new i.ObjectLoader(e,t,e.xref).load().then(function(){return e})})}},{key:"getOperatorList",value:function(r,a,e){var n=this;if(!this.appearance)return Promise.resolve(new p.OperatorList);var t,i,o,s=this.data,c=this.appearance.dict,l=this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"]),u=c.getArray("BBox")||[0,0,1,1],h=c.getArray("Matrix")||[1,0,0,1,0,0],f=(t=s.rect,i=u,o=h,u=(c=v(d.Util.getAxialAlignedBoundingBox(i,o),4))[0],i=c[1],o=c[2],c=c[3],u===o||i===c?[1,0,0,1,t[0],t[1]]:(o=(t[2]-t[0])/(o-u),c=(t[3]-t[1])/(c-i),[o,0,0,c,t[0]-u*o,t[1]-i*c]));return l.then(function(e){var t=new p.OperatorList;return t.addOp(d.OPS.beginAnnotation,[s.rect,f,h]),r.getOperatorList({stream:n.appearance,task:a,resources:e,operatorList:t}).then(function(){return t.addOp(d.OPS.endAnnotation,[]),n.appearance.reset(),t})})}},{key:"viewable",get:function(){return 0===this.flags||this._isViewable(this.flags)}},{key:"printable",get:function(){return 0!==this.flags&&this._isPrintable(this.flags)}}]),r}();t.Annotation=A;var I=function(){function e(){k(this,e),this.width=1,this.style=d.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}return x(e,[{key:"setWidth",value:function(e){var t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[0,0,0,0];(0,c.isName)(e)?this.width=0:Number.isInteger(e)&&(0<e&&(t=(r[2]-r[0])/2,r=(r[3]-r[1])/2,0<t&&0<r&&(t<e||r<e)&&((0,d.warn)("AnnotationBorderStyle.setWidth - ignoring width: ".concat(e)),e=1)),this.width=e)}},{key:"setStyle",value:function(e){if((0,c.isName)(e))switch(e.name){case"S":this.style=d.AnnotationBorderStyleType.SOLID;break;case"D":this.style=d.AnnotationBorderStyleType.DASHED;break;case"B":this.style=d.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=d.AnnotationBorderStyleType.INSET;break;case"U":this.style=d.AnnotationBorderStyleType.UNDERLINE}}},{key:"setDashArray",value:function(e){if(Array.isArray(e)&&0<e.length){var t,r=!0,a=!0,n=b(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(!(0<=+i)){r=!1;break}0<i&&(a=!1)}}catch(e){n.e(e)}finally{n.f()}r&&!a?this.dashArray=e:this.width=0}else e&&(this.width=0)}},{key:"setHorizontalCornerRadius",value:function(e){Number.isInteger(e)&&(this.horizontalCornerRadius=e)}},{key:"setVerticalCornerRadius",value:function(e){Number.isInteger(e)&&(this.verticalCornerRadius=e)}}]),e}();t.AnnotationBorderStyle=I;var T=function(){h(n,A);var a=f(n);function n(e){k(this,n);var t,r=a.call(this,e),e=e.dict;return e.has("IRT")&&(t=e.getRaw("IRT"),r.data.inReplyTo=(0,c.isRef)(t)?t.toString():null,t=e.get("RT"),r.data.replyType=(0,c.isName)(t)?t.name:d.AnnotationReplyType.REPLY),r.data.replyType===d.AnnotationReplyType.GROUP?(t=e.get("IRT"),r.data.title=(0,d.stringToPDFString)(t.get("T")||""),r.setContents(t.get("Contents")),r.data.contents=r.contents,t.has("CreationDate")?(r.setCreationDate(t.get("CreationDate")),r.data.creationDate=r.creationDate):r.data.creationDate=null,t.has("M")?(r.setModificationDate(t.get("M")),r.data.modificationDate=r.modificationDate):r.data.modificationDate=null,r.data.hasPopup=t.has("Popup"),t.has("C")?(r.setColor(t.getArray("C")),r.data.color=r.color):r.data.color=null):(r.data.title=(0,d.stringToPDFString)(e.get("T")||""),r.setCreationDate(e.get("CreationDate")),r.data.creationDate=r.creationDate,r.data.hasPopup=e.has("Popup"),e.has("C")||(r.data.color=null)),r}return x(n,[{key:"setCreationDate",value:function(e){this.creationDate=(0,d.isString)(e)?e:null}}]),n}();t.MarkupAnnotation=T;var O=function(){h(i,A);var n=f(i);function i(e){k(this,i);var t=n.call(this,e),r=e.dict,a=t.data;a.annotationType=d.AnnotationType.WIDGET,a.fieldName=t._constructFieldName(r),a.fieldValue=(0,u.getInheritableProperty)({dict:r,key:"V",getArray:!0}),a.alternativeText=(0,d.stringToPDFString)(r.get("TU")||""),a.defaultAppearance=(0,u.getInheritableProperty)({dict:r,key:"DA"})||"";e=(0,u.getInheritableProperty)({dict:r,key:"FT"});return a.fieldType=(0,c.isName)(e)?e.name:null,t.fieldResources=(0,u.getInheritableProperty)({dict:r,key:"DR"})||c.Dict.empty,a.fieldFlags=(0,u.getInheritableProperty)({dict:r,key:"Ff"}),(!Number.isInteger(a.fieldFlags)||a.fieldFlags<0)&&(a.fieldFlags=0),a.readOnly=t.hasFieldFlag(d.AnnotationFieldFlag.READONLY),"Sig"===a.fieldType&&(a.fieldValue=null,t.setFlags(d.AnnotationFlag.HIDDEN)),t}return x(i,[{key:"_constructFieldName",value:function(e){if(!e.has("T")&&!e.has("Parent"))return(0,d.warn)("Unknown field name, falling back to empty field name."),"";if(!e.has("Parent"))return(0,d.stringToPDFString)(e.get("T"));var t=[];e.has("T")&&t.unshift((0,d.stringToPDFString)(e.get("T")));for(var r=e;r.has("Parent")&&(r=r.get("Parent"),(0,c.isDict)(r));)r.has("T")&&t.unshift((0,d.stringToPDFString)(r.get("T")));return t.join(".")}},{key:"hasFieldFlag",value:function(e){return!!(this.data.fieldFlags&e)}},{key:"getOperatorList",value:function(e,t,r){return r?Promise.resolve(new p.OperatorList):s(m(i.prototype),"getOperatorList",this).call(this,e,t,r)}}]),i}(),E=function(){h(n,O);var a=f(n);function n(e){k(this,n);var t=a.call(this,e),r=e.dict;t.data.fieldValue=(0,d.stringToPDFString)(t.data.fieldValue||"");e=(0,u.getInheritableProperty)({dict:r,key:"Q"});(!Number.isInteger(e)||e<0||2<e)&&(e=null),t.data.textAlignment=e;r=(0,u.getInheritableProperty)({dict:r,key:"MaxLen"});return(!Number.isInteger(r)||r<0)&&(r=null),t.data.maxLen=r,t.data.multiLine=t.hasFieldFlag(d.AnnotationFieldFlag.MULTILINE),t.data.comb=t.hasFieldFlag(d.AnnotationFieldFlag.COMB)&&!t.hasFieldFlag(d.AnnotationFieldFlag.MULTILINE)&&!t.hasFieldFlag(d.AnnotationFieldFlag.PASSWORD)&&!t.hasFieldFlag(d.AnnotationFieldFlag.FILESELECT)&&null!==t.data.maxLen,t}return x(n,[{key:"getOperatorList",value:function(e,t,r){if(r||this.appearance)return s(m(n.prototype),"getOperatorList",this).call(this,e,t,r);var a=new p.OperatorList;if(!this.data.defaultAppearance)return Promise.resolve(a);r=new o.Stream((0,d.stringToBytes)(this.data.defaultAppearance));return e.getOperatorList({stream:r,task:t,resources:this.fieldResources,operatorList:a}).then(function(){return a})}}]),n}(),P=function(){h(a,O);var r=f(a);function a(e){var t;return k(this,a),(t=r.call(this,e)).data.checkBox=!t.hasFieldFlag(d.AnnotationFieldFlag.RADIO)&&!t.hasFieldFlag(d.AnnotationFieldFlag.PUSHBUTTON),t.data.radioButton=t.hasFieldFlag(d.AnnotationFieldFlag.RADIO)&&!t.hasFieldFlag(d.AnnotationFieldFlag.PUSHBUTTON),t.data.pushButton=t.hasFieldFlag(d.AnnotationFieldFlag.PUSHBUTTON),t.data.checkBox?t._processCheckBox(e):t.data.radioButton?t._processRadioButton(e):t.data.pushButton?t._processPushButton(e):(0,d.warn)("Invalid field flags for button widget annotation"),t}return x(a,[{key:"_processCheckBox",value:function(e){(0,c.isName)(this.data.fieldValue)&&(this.data.fieldValue=this.data.fieldValue.name);e=e.dict.get("AP");(0,c.isDict)(e)&&(e=e.get("D"),!(0,c.isDict)(e)||2===(e=e.getKeys()).length&&(this.data.exportValue="Off"===e[0]?e[1]:e[0]))}},{key:"_processRadioButton",value:function(e){this.data.fieldValue=this.data.buttonValue=null;var t=e.dict.get("Parent");(0,c.isDict)(t)&&t.has("V")&&(t=t.get("V"),(0,c.isName)(t)&&(this.data.fieldValue=t.name));e=e.dict.get("AP");if((0,c.isDict)(e)){e=e.get("N");if((0,c.isDict)(e)){var r,a=b(e.getKeys());try{for(a.s();!(r=a.n()).done;){var n=r.value;if("Off"!==n){this.data.buttonValue=n;break}}}catch(e){a.e(e)}finally{a.f()}}}}},{key:"_processPushButton",value:function(e){e.dict.has("A")?i.Catalog.parseDestDictionary({destDict:e.dict,resultObj:this.data,docBaseUrl:e.pdfManager.docBaseUrl}):(0,d.warn)("Push buttons without action dictionaries are not supported")}}]),a}(),F=function(){h(l,O);var c=f(l);function l(e){var t;k(this,l),(t=c.call(this,e)).data.options=[];var r=(0,u.getInheritableProperty)({dict:e.dict,key:"Opt"});if(Array.isArray(r))for(var a=e.xref,n=0,i=r.length;n<i;n++){var o=a.fetchIfRef(r[n]),s=Array.isArray(o);t.data.options[n]={exportValue:s?a.fetchIfRef(o[0]):o,displayValue:(0,d.stringToPDFString)(s?a.fetchIfRef(o[1]):o)}}return Array.isArray(t.data.fieldValue)||(t.data.fieldValue=[t.data.fieldValue]),t.data.combo=t.hasFieldFlag(d.AnnotationFieldFlag.COMBO),t.data.multiSelect=t.hasFieldFlag(d.AnnotationFieldFlag.MULTISELECT),t}return l}(),R=function(){h(a,T);var r=f(a);function a(e){k(this,a);var t=r.call(this,e),e=e.dict;return t.data.annotationType=d.AnnotationType.TEXT,t.data.hasAppearance?t.data.name="NoIcon":(t.data.rect[1]=t.data.rect[3]-22,t.data.rect[2]=t.data.rect[0]+22,t.data.name=e.has("Name")?e.get("Name").name:"Note"),e.has("State")?(t.data.state=e.get("State")||null,t.data.stateModel=e.get("StateModel")||null):(t.data.state=null,t.data.stateModel=null),t}return a}(),_=function(){h(n,A);var a=f(n);function n(e){var t;k(this,n),(t=a.call(this,e)).data.annotationType=d.AnnotationType.LINK;var r=C(e.dict,t.rectangle);return r&&(t.data.quadPoints=r),i.Catalog.parseDestDictionary({destDict:e.dict,resultObj:t.data,docBaseUrl:e.pdfManager.docBaseUrl}),t}return n}(),B=function(){h(i,A);var n=f(i);function i(e){var t;k(this,i),(t=n.call(this,e)).data.annotationType=d.AnnotationType.POPUP;var r=e.dict.get("Parent");if(!r)return(0,d.warn)("Popup annotation has a missing or invalid parent annotation."),g(t);var a=r.get("Subtype");t.data.parentType=(0,c.isName)(a)?a.name:null;e=e.dict.getRaw("Parent");t.data.parentId=(0,c.isRef)(e)?e.toString():null;e=r.get("RT");return(r=(0,c.isName)(e,d.AnnotationReplyType.GROUP)?r.get("IRT"):r).has("M")?(t.setModificationDate(r.get("M")),t.data.modificationDate=t.modificationDate):t.data.modificationDate=null,r.has("C")?(t.setColor(r.getArray("C")),t.data.color=t.color):t.data.color=null,t.viewable||(e=r.get("F"),t._isViewable(e)&&t.setFlags(e)),t.data.title=(0,d.stringToPDFString)(r.get("T")||""),t.data.contents=(0,d.stringToPDFString)(r.get("Contents")||""),t}return i}(),M=function(){h(r,T);var t=f(r);function r(e){return k(this,r),(e=t.call(this,e)).data.annotationType=d.AnnotationType.FREETEXT,e}return r}(),L=function(){h(a,T);var r=f(a);function a(e){var t;return k(this,a),(t=r.call(this,e)).data.annotationType=d.AnnotationType.LINE,t.data.lineCoordinates=d.Util.normalizeRect(e.dict.getArray("L")),t}return a}(),D=function(){h(r,T);var t=f(r);function r(e){return k(this,r),(e=t.call(this,e)).data.annotationType=d.AnnotationType.SQUARE,e}return r}(),N=function(){h(r,T);var t=f(r);function r(e){return k(this,r),(e=t.call(this,e)).data.annotationType=d.AnnotationType.CIRCLE,e}return r}(),U=function(){h(o,T);var i=f(o);function o(e){var t;k(this,o),(t=i.call(this,e)).data.annotationType=d.AnnotationType.POLYLINE;var r=e.dict.getArray("Vertices");t.data.vertices=[];for(var a=0,n=r.length;a<n;a+=2)t.data.vertices.push({x:r[a],y:r[a+1]});return t}return o}(),j=function(){h(r,U);var t=f(r);function r(e){return k(this,r),(e=t.call(this,e)).data.annotationType=d.AnnotationType.POLYGON,e}return r}(),q=function(){h(r,T);var t=f(r);function r(e){return k(this,r),(e=t.call(this,e)).data.annotationType=d.AnnotationType.CARET,e}return r}(),z=function(){h(l,T);var c=f(l);function l(e){var t;k(this,l),(t=c.call(this,e)).data.annotationType=d.AnnotationType.INK;var r=e.xref,a=e.dict.getArray("InkList");t.data.inkLists=[];for(var n=0,i=a.length;n<i;++n){t.data.inkLists.push([]);for(var o=0,s=a[n].length;o<s;o+=2)t.data.inkLists[n].push({x:r.fetchIfRef(a[n][o]),y:r.fetchIfRef(a[n][o+1])})}return t}return l}(),G=function(){h(a,T);var r=f(a);function a(e){var t;k(this,a),(t=r.call(this,e)).data.annotationType=d.AnnotationType.HIGHLIGHT;e=C(e.dict,t.rectangle);return e&&(t.data.quadPoints=e),t}return a}(),H=function(){h(a,T);var r=f(a);function a(e){var t;k(this,a),(t=r.call(this,e)).data.annotationType=d.AnnotationType.UNDERLINE;e=C(e.dict,t.rectangle);return e&&(t.data.quadPoints=e),t}return a}(),W=function(){h(a,T);var r=f(a);function a(e){var t;k(this,a),(t=r.call(this,e)).data.annotationType=d.AnnotationType.SQUIGGLY;e=C(e.dict,t.rectangle);return e&&(t.data.quadPoints=e),t}return a}(),X=function(){h(a,T);var r=f(a);function a(e){var t;k(this,a),(t=r.call(this,e)).data.annotationType=d.AnnotationType.STRIKEOUT;e=C(e.dict,t.rectangle);return e&&(t.data.quadPoints=e),t}return a}(),V=function(){h(r,T);var t=f(r);function r(e){return k(this,r),(e=t.call(this,e)).data.annotationType=d.AnnotationType.STAMP,e}return r}(),Y=function(){h(a,T);var r=f(a);function a(e){k(this,a);var t=r.call(this,e),e=new i.FileSpec(e.dict.get("FS"),e.xref);return t.data.annotationType=d.AnnotationType.FILEATTACHMENT,t.data.file=e.serializable,t}return a}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OperatorList=void 0;var o,A=r(5),a=(n(o=[],[A.OPS.save,A.OPS.transform,A.OPS.paintInlineImageXObject,A.OPS.restore],null,function(e,t){var r=e.fnArray,e=(t-(e.iCurr-3))%4;switch(e){case 0:return r[t]===A.OPS.save;case 1:return r[t]===A.OPS.transform;case 2:return r[t]===A.OPS.paintInlineImageXObject;case 3:return r[t]===A.OPS.restore}throw new Error("iterateInlineImageGroup - invalid pos: ".concat(e))},function(e,t){var r=e.fnArray,a=e.argsArray,n=e.iCurr,e=n-3,i=n-2,o=n-1,s=Math.min(Math.floor((t-e)/4),200);if(s<10)return t-(t-e)%4;for(var c=0,l=[],u=0,h=1,f=1,d=0;d<s;d++){var p=a[i+(d<<2)],g=a[o+(d<<2)][0];1e3<h+g.width&&(c=Math.max(c,h),f+=u+2,u=h=0),l.push({transform:p,x:h,y:f,w:g.width,h:g.height}),h+=g.width+2,u=Math.max(u,g.height)}var m=Math.max(c,h)+1,t=f+u+1,b=new Uint8ClampedArray(m*t*4),v=m<<2;for(d=0;d<s;d++){var y=a[o+(d<<2)][0].data,w=l[d].w<<2,k=0,S=l[d].x+l[d].y*m<<2;b.set(y.subarray(0,w),S-v);for(var x=0,C=l[d].h;x<C;x++)b.set(y.subarray(k,k+w),S),k+=w,S+=v;for(b.set(y.subarray(k-w,k),S);0<=S;)y[S-4]=y[S],y[S-3]=y[S+1],y[S-2]=y[S+2],y[S-1]=y[S+3],y[S+w]=y[S+w-4],y[S+w+1]=y[S+w-3],y[S+w+2]=y[S+w-2],y[S+w+3]=y[S+w-1],S-=v}return r.splice(e,4*s,A.OPS.paintInlineImageXObjectGroup),a.splice(e,4*s,[{width:m,height:t,kind:A.ImageKind.RGBA_32BPP,data:b},l]),1+e}),n(o,[A.OPS.save,A.OPS.transform,A.OPS.paintImageMaskXObject,A.OPS.restore],null,function(e,t){var r=e.fnArray,e=(t-(e.iCurr-3))%4;switch(e){case 0:return r[t]===A.OPS.save;case 1:return r[t]===A.OPS.transform;case 2:return r[t]===A.OPS.paintImageMaskXObject;case 3:return r[t]===A.OPS.restore}throw new Error("iterateImageMaskGroup - invalid pos: ".concat(e))},function(e,t){var r=e.fnArray,a=e.argsArray,n=e.iCurr,e=n-3,i=n-2,o=n-1;if((p=function(e,t,r,a){for(var n=e+2,i=0;i<t;i++){var o=a[n+4*i],o=1===o.length&&o[0];if(!o||1!==o.width||1!==o.height||o.data.length&&(1!==o.data.length||0!==o.data[0]))break;r[n+4*i]=A.OPS.paintSolidColorImageMask}return t-i}(e,p=Math.floor((t-e)/4),r,a))<10)return t-(t-e)%4;var s=!1,c=a[o][0];if(0===a[i][1]&&0===a[i][2])for(var s=!0,l=a[i][0],u=a[i][3],h=4+i,f=4+o,d=1;d<p;d++,h+=4,f+=4)if(b=a[h],a[f][0]!==c||b[0]!==l||0!==b[1]||0!==b[2]||b[3]!==u){d<10?s=!1:p=d;break}if(s){var p=Math.min(p,1e3),g=new Float32Array(2*p);for(h=i,d=0;d<p;d++,h+=4)b=a[h],g[d<<1]=b[4],g[1+(d<<1)]=b[5];r.splice(e,4*p,A.OPS.paintImageMaskXObjectRepeat),a.splice(e,4*p,[c,l,u,g])}else{p=Math.min(p,100);var m=[];for(d=0;d<p;d++){var b=a[i+(d<<2)],v=a[o+(d<<2)][0];m.push({data:v.data,width:v.width,height:v.height,transform:b})}r.splice(e,4*p,A.OPS.paintImageMaskXObjectGroup),a.splice(e,4*p,[m])}return 1+e}),n(o,[A.OPS.save,A.OPS.transform,A.OPS.paintImageXObject,A.OPS.restore],function(e){var t=e.argsArray,e=e.iCurr-2;return 0===t[e][1]&&0===t[e][2]},function(e,t){var r=e.fnArray,a=e.argsArray,n=(t-(e.iCurr-3))%4;switch(n){case 0:return r[t]===A.OPS.save;case 1:if(r[t]!==A.OPS.transform)return!1;var i=e.iCurr-2,o=a[i][0],i=a[i][3];return a[t][0]!==o||0!==a[t][1]||0!==a[t][2]||a[t][3]!==i?!1:!0;case 2:if(r[t]!==A.OPS.paintImageXObject)return!1;i=a[e.iCurr-1][0];return a[t][0]!==i?!1:!0;case 3:return r[t]===A.OPS.restore}throw new Error("iterateImageGroup - invalid pos: ".concat(n))},function(e,t){var r=e.fnArray,a=e.argsArray,n=e.iCurr,i=n-3,o=n-2,s=a[n-1][0],e=a[o][0],n=a[o][3],c=Math.min(Math.floor((t-i)/4),1e3);if(c<3)return t-(t-i)%4;for(var l=new Float32Array(2*c),u=o,h=0;h<c;h++,u+=4){var f=a[u];l[h<<1]=f[4],l[1+(h<<1)]=f[5]}n=[s,e,n,l];return r.splice(i,4*c,A.OPS.paintImageXObjectRepeat),a.splice(i,4*c,n),1+i}),n(o,[A.OPS.beginText,A.OPS.setFont,A.OPS.setTextMatrix,A.OPS.showText,A.OPS.endText],null,function(e,t){var r=e.fnArray,a=e.argsArray,n=(t-(e.iCurr-4))%5;switch(n){case 0:return r[t]===A.OPS.beginText;case 1:return r[t]===A.OPS.setFont;case 2:return r[t]===A.OPS.setTextMatrix;case 3:if(r[t]!==A.OPS.showText)return!1;var i=e.iCurr-3,o=a[i][0],i=a[i][1];return a[t][0]!==o||a[t][1]!==i?!1:!0;case 4:return r[t]===A.OPS.endText}throw new Error("iterateShowTextGroup - invalid pos: ".concat(n))},function(e,t){var r=e.fnArray,a=e.argsArray,n=e.iCurr,i=n-4,o=n-3,s=n-2,c=n-1,l=n,e=a[o][0],n=a[o][1],u=Math.min(Math.floor((t-i)/5),1e3);if(u<3)return t-(t-i)%5;t=i;4<=i&&r[i-4]===r[o]&&r[i-3]===r[s]&&r[i-2]===r[c]&&r[i-1]===r[l]&&a[i-4][0]===e&&a[i-4][1]===n&&(u++,t-=5);for(var h=t+4,f=1;f<u;f++)r.splice(h,3),a.splice(h,3),h+=2;return h+1}),i.prototype={_optimize:function(){var e=this.queue.fnArray,t=this.lastProcessed,r=e.length,a=this.state,n=this.match;if(a||n||t+1!==r||o[e[t]]){for(var i=this.context;t<r;){if(n){if((0,n.iterateFn)(i,t)){t++;continue}if(t=(0,n.processFn)(i,t+1),a=n=null,(r=e.length)<=t)break}(a=(a||o)[e[t]])&&!Array.isArray(a)?(i.iCurr=t,t++,a=((!a.checkFn||(0,a.checkFn)(i))&&(n=a),null)):t++}this.state=a,this.match=n,this.lastProcessed=t}else this.lastProcessed=r},push:function(e,t){this.queue.fnArray.push(e),this.queue.argsArray.push(t),this._optimize()},flush:function(){for(;this.match;){var e=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,e),this.match=null,this.state=null,this._optimize()}},reset:function(){this.state=null,this.match=null,this.lastProcessed=0}},i);function n(e,t,r,a,n){for(var i=e,o=0,s=t.length-1;o<s;o++)var c=t[o],i=i[c]||(i[c]=[]);i[t[t.length-1]]={checkFn:r,iterateFn:a,processFn:n}}function i(e){this.queue=e,this.state=null,this.context={iCurr:0,fnArray:e.fnArray,argsArray:e.argsArray},this.match=null,this.lastProcessed=0}var s=(c.prototype={push:function(e,t){this.queue.fnArray.push(e),this.queue.argsArray.push(t)},flush:function(){},reset:function(){}},c);function c(e){this.queue=e}l.prototype={get length(){return this.argsArray.length},get ready(){return this._resolved||this._streamSink.ready},get totalLength(){return this._totalLength+this.length},addOp:function(e,t){this.optimizer.push(e,t),this.weight++,this._streamSink&&(1e3<=this.weight||995<=this.weight&&(e===A.OPS.restore||e===A.OPS.endText))&&this.flush()},addDependency:function(e){e in this.dependencies||(this.dependencies[e]=!0,this.addOp(A.OPS.dependency,[e]))},addDependencies:function(e){for(var t in e)this.addDependency(t)},addOpList:function(e){if(e instanceof l){Object.assign(this.dependencies,e.dependencies);for(var t=0,r=e.length;t<r;t++)this.addOp(e.fnArray[t],e.argsArray[t])}else(0,A.warn)('addOpList - ignoring invalid "opList" parameter.')},getIR:function(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}},get _transfers(){for(var e=[],t=this.fnArray,r=this.argsArray,a=this.length,n=0;n<a;n++)switch(t[n]){case A.OPS.paintInlineImageXObject:case A.OPS.paintInlineImageXObjectGroup:case A.OPS.paintImageMaskXObject:var i=r[n][0];i.cached||e.push(i.data.buffer)}return e},flush:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.optimizer.flush();var t=this.length;this._totalLength+=t,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:e,length:t},1,this._transfers),this.dependencies=Object.create(null),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}},r=l;function l(e,t,r){this._streamSink=t,this.fnArray=[],this.argsArray=[],this.optimizer=new(t&&"oplist"!==e?a:s)(this),this.dependencies=Object.create(null),this._totalLength=0,this.pageIndex=r,this.intent=e,this.weight=0,this._resolved=t?null:Promise.resolve()}t.OperatorList=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PartialEvaluator=void 0;var a,k=(a=r(2))&&a.__esModule?a:{default:a},z=r(5),S=r(221),G=r(198),x=r(222),m=r(225),v=r(201),g=r(228),C=r(227),M=r(231),n=r(204),h=r(232),L=r(216),A=r(205),b=r(226),o=r(233),f=r(234),d=r(217),y=r(236),w=r(219),I=r(237);function i(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function c(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,t=function(){};return{s:t,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,n=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw n}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function l(e,t,r,a,n,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(a,n)}function T(s){return function(){var e=this,o=arguments;return new Promise(function(t,r){var a=s.apply(e,o);function n(e){l(a,t,r,n,i,"next",e)}function i(e){l(a,t,r,n,i,"throw",e)}n(void 0)})}}var u=function(){var u={maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,fontExtraProperties:!1};function p(e){var a=this,t=e.xref,r=e.handler,n=e.pageIndex,i=e.idFactory,o=e.fontCache,s=e.builtInCMapCache,c=e.globalImageCache,l=e.options,l=void 0===l?null:l,e=e.pdfFunctionFactory;this.xref=t,this.handler=r,this.pageIndex=n,this.idFactory=i,this.fontCache=o,this.builtInCMapCache=s,this.globalImageCache=c,this.options=l||u,this.pdfFunctionFactory=e,this.parsingType3Font=!1,this.fetchBuiltInCMap=function(){var t=T(k.default.mark(function e(t){var n,r;return k.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.builtInCMapCache.has(t))return e.abrupt("return",a.builtInCMapCache.get(t));e.next=2;break;case 2:return r=a.handler.sendWithStream("FetchBuiltInCMap",{name:t}),n=r.getReader(),e.next=6,new Promise(function(a,e){!function r(){n.read().then(function(e){var t=e.value;e.done||(a(t),r())},e)}()});case 6:return(r=e.sent).compressionType!==z.CMapCompressionType.NONE&&a.builtInCMapCache.set(t,r),e.abrupt("return",r);case 9:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()}function l(){this.reset()}l.prototype={check:function(){return!(++this.checked<100)&&(this.checked=0,this.endTime<=Date.now())},reset:function(){this.endTime=Date.now()+20,this.checked=0}};var q=Promise.resolve();return p.prototype={clone:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:u,t=Object.create(this);return t.options=e,t},hasBlendModes:function(e){if(!(e instanceof G.Dict))return!1;var t=Object.create(null);e.objId&&(t[e.objId]=!0);for(var r=[e],a=this.xref;r.length;){var n=r.shift(),i=n.get("ExtGState");if(i instanceof G.Dict)for(var o=i.getKeys(),s=0,c=o.length;s<c;s++){var l=o[s],l=i.getRaw(l);if(l instanceof G.Ref){if(t[l.toString()])continue;try{l=a.fetch(l)}catch(e){if(e instanceof v.MissingDataException)throw e;if(this.options.ignoreErrors){l instanceof G.Ref&&(t[l.toString()]=!0),this.handler.send("UnsupportedFeature",{featureId:z.UNSUPPORTED_FEATURES.errorExtGState}),(0,z.warn)('hasBlendModes - ignoring ExtGState: "'.concat(e,'".'));continue}throw e}}if(l instanceof G.Dict){l.objId&&(t[l.objId]=!0);var u=l.get("BM");if(u instanceof G.Name){if("Normal"!==u.name)return!0}else if(void 0!==u&&Array.isArray(u))for(var h=0,f=u.length;h<f;h++)if(u[h]instanceof G.Name&&"Normal"!==u[h].name)return!0}}var d=n.get("XObject");if(d instanceof G.Dict)for(var p=d.getKeys(),g=0,m=p.length;g<m;g++){var b=p[g],b=d.getRaw(b);if(b instanceof G.Ref){if(t[b.toString()])continue;try{b=a.fetch(b)}catch(e){if(e instanceof v.MissingDataException)throw e;if(this.options.ignoreErrors){b instanceof G.Ref&&(t[b.toString()]=!0),this.handler.send("UnsupportedFeature",{featureId:z.UNSUPPORTED_FEATURES.errorXObject}),(0,z.warn)('hasBlendModes - ignoring XObject: "'.concat(e,'".'));continue}throw e}}if((0,G.isStream)(b)){if(b.dict.objId){if(t[b.dict.objId])continue;t[b.dict.objId]=!0}b=b.dict.get("Resources");!(b instanceof G.Dict)||b.objId&&t[b.objId]||(r.push(b),b.objId&&(t[b.objId]=!0))}}}return!1},buildFormXObject:function(c,l,u,h,f,d){var p=this;return T(k.default.mark(function e(){var t,r,a,n,i,o,s;return k.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.dict,r=t.getArray("Matrix"),a=t.getArray("BBox"),a=Array.isArray(a)&&4===a.length?z.Util.normalizeRect(a):null,!(n=t.get("Group"))){e.next=18;break}if(i={matrix:r,bbox:a,smask:u,isolated:!1,knockout:!1},o=n.get("S"),!(s=null,G.isName)(o,"Transparency")){e.next=16;break}if(i.isolated=n.get("I")||!1,i.knockout=n.get("K")||!1,n.has("CS"))return e.next=15,p.parseColorSpace({cs:n.get("CS"),resources:c});e.next=16;break;case 15:s=e.sent;case 16:u&&u.backdrop&&(s=s||L.ColorSpace.singletons.rgb,u.backdrop=s.getRgb(u.backdrop,0)),h.addOp(z.OPS.beginGroup,[i]);case 18:return h.addOp(z.OPS.paintFormXObjectBegin,[r,a]),e.abrupt("return",p.getOperatorList({stream:l,task:f,resources:t.get("Resources")||c,operatorList:h,initialState:d}).then(function(){h.addOp(z.OPS.paintFormXObjectEnd,[]),n&&h.addOp(z.OPS.endGroup,[i])}));case 20:case"end":return e.stop()}},e)}))()},buildPaintImageXObject:function(y){var w=this;return T(k.default.mark(function e(){var t,r,a,n,i,o,s,c,l,u,h,f,d,p,g,m,b,v;return k.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y.resources,r=y.image,u=y.isInline,a=void 0!==u&&u,n=y.operatorList,i=y.cacheKey,o=y.localImageCache,s=r.dict,c=s.objId,l=s.get("Width","W"),u=s.get("Height","H"),l&&(0,z.isNum)(l)&&u&&(0,z.isNum)(u)){e.next=8;break}return(0,z.warn)("Image dimensions are missing, or not numbers."),e.abrupt("return",void 0);case 8:if(-1!==(d=w.options.maxImageSize)&&d<l*u)return(0,z.warn)("Image exceeded maximum allowed size and was removed."),e.abrupt("return",void 0);e.next=12;break;case 12:if(s.get("ImageMask","IM")||!1)return f=s.get("Width","W"),p=s.get("Height","H"),g=f+7>>3,d=r.getBytes(g*p,!0),g=s.getArray("Decode","D"),(h=I.PDFImage.createMask({imgArray:d,width:f,height:p,imageIsFromDecodeStream:r instanceof A.DecodeStream,inverseDecode:!!g&&0<g[0]})).cached=!!i,f=[h],n.addOp(z.OPS.paintImageMaskXObject,f),i&&o.set(i,c,{fn:z.OPS.paintImageMaskXObject,args:f}),e.abrupt("return",void 0);e.next=25;break;case 25:if(p=s.get("SMask","SM")||!1,g=s.get("Mask")||!1,a&&!p&&!g&&l+u<200)return v=new I.PDFImage({xref:w.xref,res:t,image:r,isInline:a,pdfFunctionFactory:w.pdfFunctionFactory}),h=v.createImageData(!0),n.addOp(z.OPS.paintInlineImageXObject,[h]),e.abrupt("return",void 0);e.next=33;break;case 33:if(m="img_".concat(w.idFactory.createObjId()),b=!1,w.parsingType3Font?m="".concat(w.idFactory.getDocId(),"_type3res_").concat(m):c&&(b=w.globalImageCache.shouldCache(c,w.pageIndex))&&(m="".concat(w.idFactory.getDocId(),"_").concat(m)),n.addDependency(m),f=[m,l,u],v=I.PDFImage.buildImage({xref:w.xref,res:t,image:r,isInline:a,pdfFunctionFactory:w.pdfFunctionFactory}).then(function(e){return h=e.createImageData(!1),w.parsingType3Font?w.handler.sendWithPromise("commonobj",[m,"FontType3Res",h],[h.data.buffer]):void(b?w.handler.send("commonobj",[m,"Image",h],[h.data.buffer]):w.handler.send("obj",[m,w.pageIndex,"Image",h],[h.data.buffer]))}).catch(function(e){return(0,z.warn)("Unable to decode image: "+e),w.parsingType3Font?w.handler.sendWithPromise("commonobj",[m,"FontType3Res",null]):void(b?w.handler.send("commonobj",[m,"Image",null]):w.handler.send("obj",[m,w.pageIndex,"Image",null]))}),w.parsingType3Font)return e.next=41,v;e.next=41;break;case 41:return n.addOp(z.OPS.paintImageXObject,f),i&&(o.set(i,c,{fn:z.OPS.paintImageXObject,args:f}),c&&((0,z.assert)(!a,"Cannot cache an inline image globally."),w.globalImageCache.addPageIndex(c,w.pageIndex),b&&w.globalImageCache.setData(c,{objId:m,fn:z.OPS.paintImageXObject,args:f}))),e.abrupt("return",void 0);case 44:case"end":return e.stop()}},e)}))()},handleSMask:function(e,t,r,a,n){var i=e.get("G"),o={subtype:e.get("S").name,backdrop:e.get("BC")},e=e.get("TR");if((0,f.isPDFFunction)(e)){for(var s=this.pdfFunctionFactory.create(e),c=new Uint8Array(256),l=new Float32Array(1),u=0;u<256;u++)l[0]=u/255,s(l,0,l,0),c[u]=255*l[0]|0;o.transferMap=c}return this.buildFormXObject(t,i,o,r,a,n.state.clone())},handleTilingType:function(t,e,r,a,n,i,o){var s=this,c=new w.OperatorList,r=[n.get("Resources"),r],r=G.Dict.merge(this.xref,r);return this.getOperatorList({stream:a,task:o,resources:r,operatorList:c}).then(function(){return(0,M.getTilingPatternIR)({fnArray:c.fnArray,argsArray:c.argsArray},n,e)}).then(function(e){i.addDependencies(c.dependencies),i.addOp(t,e)},function(e){if(!(e instanceof z.AbortException)){if(s.options.ignoreErrors)return s.handler.send("UnsupportedFeature",{featureId:z.UNSUPPORTED_FEATURES.errorTilingPattern}),void(0,z.warn)('handleTilingType - ignoring pattern: "'.concat(e,'".'));throw e}})},handleSetFont:function(e,t,r,a,n,i){var o,s=this;return t&&(o=(t=t.slice())[0].name),this.loadFont(o,r,e).then(function(t){return t.font.isType3Font?t.loadType3Data(s,e,a,n).then(function(){return t}).catch(function(e){return s.handler.send("UnsupportedFeature",{featureId:z.UNSUPPORTED_FEATURES.errorFontLoadType3}),new O({loadedName:"g_font_error",font:new x.ErrorFont("Type3 font load error: ".concat(e)),dict:t.font,extraProperties:s.options.fontExtraProperties})}):t}).then(function(e){return i.font=e.font,e.send(s.handler),e.loadedName})},handleText:function(e,t){var r=t.font,e=r.charsToGlyphs(e);return r.data&&(!!(t.textRenderingMode&z.TextRenderingMode.ADD_TO_PATH_FLAG)||"Pattern"===t.fillColorSpace.name||r.disableFontFace||this.options.disableFontFace)&&p.buildFontPaths(r,e,this.handler),e},ensureStateFont:function(e){if(!e.font){e=new z.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:z.UNSUPPORTED_FEATURES.errorFontState}),void(0,z.warn)('ensureStateFont: "'.concat(e,'".'));throw e}},setGState:function(e,a,n,i,o){for(var s=this,c=[],l=a.getKeys(),u=Promise.resolve(),t=function(){var t=l[h],r=a.get(t);switch(t){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":c.push([t,r]);break;case"Font":u=u.then(function(){return s.handleSetFont(e,null,r[0],n,i,o.state).then(function(e){n.addDependency(e),c.push([t,[e,r[1]]])})});break;case"BM":c.push([t,function e(t,r){r=1<arguments.length&&void 0!==r&&r;if(Array.isArray(t)){for(var a=0,n=t.length;a<n;a++){var i=e(t[a],!0);if(i)return i}return(0,z.warn)("Unsupported blend mode Array: ".concat(t)),"source-over"}if(!(0,G.isName)(t))return r?null:"source-over";switch(t.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return r?null:((0,z.warn)("Unsupported blend mode: ".concat(t.name)),"source-over")}(r)]);break;case"SMask":if((0,G.isName)(r,"None")){c.push([t,!1]);break}(0,G.isDict)(r)?(u=u.then(function(){return s.handleSMask(r,e,n,i,o)}),c.push([t,!0])):(0,z.warn)("Unsupported SMask type");break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,z.info)("graphic state operator "+t);break;default:(0,z.info)("Unknown graphic state operator "+t)}},h=0,r=l.length;h<r;h++)t();return u.then(function(){0<c.length&&n.addOp(z.OPS.setGState,[c])})},loadFont:function(e,n,t){var r,i=this,a=function(){return Promise.resolve(new O({loadedName:"g_font_error",font:new x.ErrorFont('Font "'.concat(e,'" is not available.')),dict:n,extraProperties:i.options.fontExtraProperties}))},o=this.xref;if(n){if(!(0,G.isRef)(n))throw new z.FormatError('The "font" object should be a reference.');r=n}else{var s=t.get("Font");s&&(r=s.getRaw(e))}if(!r){var c='Font "'.concat(e||n&&n.toString(),'" is not available');if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,z.warn)("".concat(c,".")),a();this.handler.send("UnsupportedFeature",{featureId:z.UNSUPPORTED_FEATURES.errorFontMissing}),(0,z.warn)("".concat(c," -- attempting to fallback to a default font.")),r=p.getFallbackFontDict()}if(this.fontCache.has(r))return this.fontCache.get(r);if(n=o.fetchIfRef(r),!(0,G.isDict)(n))return a();if(n.translated)return n.translated;var l,u,h=(0,z.createPromiseCapability)(),f=this.preEvaluateFont(n),d=f.descriptor,t=f.hash,s=(0,G.isRef)(r);if(s&&(l=r.toString()),t&&(0,G.isDict)(d)){d.fontAliases||(d.fontAliases=Object.create(null));c=d.fontAliases;if(c[t]){a=c[t].aliasRef;if(s&&a&&this.fontCache.has(a))return this.fontCache.putAlias(r,a),this.fontCache.get(r)}else c[t]={fontID:x.Font.getFontID()};s&&(c[t].aliasRef=r),l=c[t].fontID}s?this.fontCache.put(r,h.promise):(l=l||this.idFactory.createObjId(),this.fontCache.put("id_".concat(l),h.promise)),(0,z.assert)(l,'The "fontID" must be defined.'),n.loadedName="".concat(this.idFactory.getDocId(),"_f").concat(l),n.translated=h.promise;try{u=this.translateFont(f)}catch(e){u=Promise.reject(e)}return u.then(function(e){void 0!==e.fontType&&(o.stats.fontTypes[e.fontType]=!0),h.resolve(new O({loadedName:n.loadedName,font:e,dict:n,extraProperties:i.options.fontExtraProperties}))}).catch(function(e){i.handler.send("UnsupportedFeature",{featureId:z.UNSUPPORTED_FEATURES.errorFontTranslate});try{var t=d&&d.get("FontFile3"),r=t&&t.get("Subtype"),a=(0,x.getFontType)(f.type,r&&r.name);o.stats.fontTypes[a]=!0}catch(e){}h.resolve(new O({loadedName:n.loadedName,font:new x.ErrorFont(e instanceof Error?e.message:e),dict:n,extraProperties:i.options.fontExtraProperties}))}),h.promise},buildPath:function(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]&&arguments[3],n=e.length-1;r=r||[],n<0||e.fnArray[n]!==z.OPS.constructPath?(a&&((0,z.warn)('Encountered path operator "'.concat(t,'" inside of a text object.')),e.addOp(z.OPS.save,null)),e.addOp(z.OPS.constructPath,[[t],r]),a&&e.addOp(z.OPS.restore,null)):((n=e.argsArray[n])[0].push(t),Array.prototype.push.apply(n[1],r))},parseColorSpace:function(e){var t=this,r=e.cs,a=e.resources;return new Promise(function(e){e(L.ColorSpace.parse(r,t.xref,a,t.pdfFunctionFactory))}).catch(function(e){if(e instanceof z.AbortException)return null;if(t.options.ignoreErrors)return t.handler.send("UnsupportedFeature",{featureId:z.UNSUPPORTED_FEATURES.errorColorSpace}),(0,z.warn)('parseColorSpace - ignoring ColorSpace: "'.concat(e,'".')),null;throw e})},handleColorN:function(s,c,l,u,h,f,d){var p=this;return T(k.default.mark(function e(){var t,r,a,n,i,o;return k.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l[l.length-1],!(0,G.isName)(t)||!(r=h.get(t.name))){e.next=16;break}if(a=(0,G.isStream)(r)?r.dict:r,1===(n=a.get("PatternType")))return o=u.base?u.base.getRgb(l,0):null,e.abrupt("return",p.handleTilingType(c,o,f,r,a,s,d));e.next=9;break;case 9:if(2===n)return i=a.get("Shading"),o=a.getArray("Matrix"),r=M.Pattern.parseShading(i,o,p.xref,f,p.handler,p.pdfFunctionFactory),s.addOp(c,r.getIR()),e.abrupt("return",void 0);e.next=15;break;case 15:throw new z.FormatError("Unknown PatternType: ".concat(n));case 16:throw new z.FormatError("Unknown PatternName: ".concat(t));case 17:case"end":return e.stop()}},e)}))()},getOperatorList:function(e){var t=this,r=e.stream,S=e.task,x=e.resources,C=e.operatorList,e=e.initialState,x=x||G.Dict.empty,e=(e=void 0===e?null:e)||new D;if(!C)throw new Error('getOperatorList: missing "operatorList" parameter');var A=this,I=this.xref,T=!1,O=new d.LocalImageCache,E=x.get("XObject")||G.Dict.empty,P=x.get("Pattern")||G.Dict.empty,F=new H(e),R=new X(r,I,F),_=new l;function B(){for(var e=0,t=R.savedStatesDepth;e<t;e++)C.addOp(z.OPS.restore,[])}return new Promise(function t(r,a){function e(e){Promise.all([e,C.ready]).then(function(){try{t(r,a)}catch(e){a(e)}},a)}S.ensureNotTerminated(),_.reset();for(var n,i,o,s={};!(n=_.check())&&(s.args=null,R.read(s));){var c=s.args;switch(0|(k=s.fn)){case z.OPS.paintXObject:var l=c[0].name;if(l){var u=O.getByName(l);if(u){C.addOp(u.fn,u.args),c=null;continue}}return void e(new Promise(function(e,t){if(!l)throw new z.FormatError("XObject must be referred to by name.");var r=E.getRaw(l);if(r instanceof G.Ref){var a=O.getByRef(r);if(a)return C.addOp(a.fn,a.args),void e();a=A.globalImageCache.getData(r,A.pageIndex);if(a)return C.addDependency(a.objId),C.addOp(a.fn,a.args),void e();r=I.fetch(r)}if(!r)return C.addOp(k,c),void e();if(!(0,G.isStream)(r))throw new z.FormatError("XObject should be a stream");a=r.dict.get("Subtype");if(!(0,G.isName)(a))throw new z.FormatError("XObject should have a Name subtype");if("Form"===a.name)return F.save(),void A.buildFormXObject(x,r,null,C,S,F.state.clone()).then(function(){F.restore(),e()},t);if("Image"!==a.name){if("PS"!==a.name)throw new z.FormatError("Unhandled XObject subtype ".concat(a.name));(0,z.info)("Ignored XObject subtype PS"),e()}else A.buildPaintImageXObject({resources:x,image:r,operatorList:C,cacheKey:l,localImageCache:O}).then(e,t)}).catch(function(e){if(!(e instanceof z.AbortException)){if(A.options.ignoreErrors)return A.handler.send("UnsupportedFeature",{featureId:z.UNSUPPORTED_FEATURES.errorXObject}),void(0,z.warn)('getOperatorList - ignoring XObject: "'.concat(e,'".'));throw e}}));case z.OPS.setFont:var h=c[1];return void e(A.handleSetFont(x,c,null,C,S,F.state).then(function(e){C.addDependency(e),C.addOp(z.OPS.setFont,[e,h])}));case z.OPS.beginText:T=!0;break;case z.OPS.endText:T=!1;break;case z.OPS.endInlineImage:var f=c[0].cacheKey;if(f){u=O.getByName(f);if(u){C.addOp(u.fn,u.args),c=null;continue}}return void e(A.buildPaintImageXObject({resources:x,image:c[0],isInline:!0,operatorList:C,cacheKey:f,localImageCache:O}));case z.OPS.showText:if(!F.state.font){A.ensureStateFont(F.state);continue}c[0]=A.handleText(c[0],F.state);break;case z.OPS.showSpacedText:if(!F.state.font){A.ensureStateFont(F.state);continue}for(var d=c[0],p=[],g=d.length,m=F.state,b=0;b<g;++b){var v=d[b];(0,z.isString)(v)?Array.prototype.push.apply(p,A.handleText(v,m)):(0,z.isNum)(v)&&p.push(v)}c[0]=p,k=z.OPS.showText;break;case z.OPS.nextLineShowText:if(!F.state.font){A.ensureStateFont(F.state);continue}C.addOp(z.OPS.nextLine),c[0]=A.handleText(c[0],F.state),k=z.OPS.showText;break;case z.OPS.nextLineSetSpacingShowText:if(!F.state.font){A.ensureStateFont(F.state);continue}C.addOp(z.OPS.nextLine),C.addOp(z.OPS.setWordSpacing,[c.shift()]),C.addOp(z.OPS.setCharSpacing,[c.shift()]),c[0]=A.handleText(c[0],F.state),k=z.OPS.showText;break;case z.OPS.setTextRenderingMode:F.state.textRenderingMode=c[0];break;case z.OPS.setFillColorSpace:return void e(A.parseColorSpace({cs:c[0],resources:x}).then(function(e){e&&(F.state.fillColorSpace=e)}));case z.OPS.setStrokeColorSpace:return void e(A.parseColorSpace({cs:c[0],resources:x}).then(function(e){e&&(F.state.strokeColorSpace=e)}));case z.OPS.setFillColor:o=F.state.fillColorSpace,c=o.getRgb(c,0),k=z.OPS.setFillRGBColor;break;case z.OPS.setStrokeColor:o=F.state.strokeColorSpace,c=o.getRgb(c,0),k=z.OPS.setStrokeRGBColor;break;case z.OPS.setFillGray:F.state.fillColorSpace=L.ColorSpace.singletons.gray,c=L.ColorSpace.singletons.gray.getRgb(c,0),k=z.OPS.setFillRGBColor;break;case z.OPS.setStrokeGray:F.state.strokeColorSpace=L.ColorSpace.singletons.gray,c=L.ColorSpace.singletons.gray.getRgb(c,0),k=z.OPS.setStrokeRGBColor;break;case z.OPS.setFillCMYKColor:F.state.fillColorSpace=L.ColorSpace.singletons.cmyk,c=L.ColorSpace.singletons.cmyk.getRgb(c,0),k=z.OPS.setFillRGBColor;break;case z.OPS.setStrokeCMYKColor:F.state.strokeColorSpace=L.ColorSpace.singletons.cmyk,c=L.ColorSpace.singletons.cmyk.getRgb(c,0),k=z.OPS.setStrokeRGBColor;break;case z.OPS.setFillRGBColor:F.state.fillColorSpace=L.ColorSpace.singletons.rgb,c=L.ColorSpace.singletons.rgb.getRgb(c,0);break;case z.OPS.setStrokeRGBColor:F.state.strokeColorSpace=L.ColorSpace.singletons.rgb,c=L.ColorSpace.singletons.rgb.getRgb(c,0);break;case z.OPS.setFillColorN:if("Pattern"===(o=F.state.fillColorSpace).name)return void e(A.handleColorN(C,z.OPS.setFillColorN,c,o,P,x,S));c=o.getRgb(c,0),k=z.OPS.setFillRGBColor;break;case z.OPS.setStrokeColorN:if("Pattern"===(o=F.state.strokeColorSpace).name)return void e(A.handleColorN(C,z.OPS.setStrokeColorN,c,o,P,x,S));c=o.getRgb(c,0),k=z.OPS.setStrokeRGBColor;break;case z.OPS.shadingFill:var y=x.get("Shading");if(!y)throw new z.FormatError("No shading resource found");var w=y.get(c[0].name);if(!w)throw new z.FormatError("No shading object found");var c=[M.Pattern.parseShading(w,null,I,x,A.handler,A.pdfFunctionFactory).getIR()],k=z.OPS.shadingFill;break;case z.OPS.setGState:y=c[0],w=x.get("ExtGState");if(!(0,G.isDict)(w)||!w.has(y.name))break;y=w.get(y.name);return void e(A.setGState(x,y,C,S,F));case z.OPS.moveTo:case z.OPS.lineTo:case z.OPS.curveTo:case z.OPS.curveTo2:case z.OPS.curveTo3:case z.OPS.closePath:case z.OPS.rectangle:A.buildPath(C,k,c,T);continue;case z.OPS.markPoint:case z.OPS.markPointProps:case z.OPS.beginMarkedContent:case z.OPS.beginMarkedContentProps:case z.OPS.endMarkedContent:case z.OPS.beginCompat:case z.OPS.endCompat:continue;default:if(null!==c){for(b=0,i=c.length;b<i&&!(c[b]instanceof G.Dict);b++);if(b<i){(0,z.warn)("getOperatorList - ignoring operator: "+k);continue}}}C.addOp(k,c)}n?e(q):(B(),r())}).catch(function(e){if(!(e instanceof z.AbortException)){if(t.options.ignoreErrors)return t.handler.send("UnsupportedFeature",{featureId:z.UNSUPPORTED_FEATURES.errorOperatorList}),(0,z.warn)('getOperatorList - ignoring errors during "'.concat(S.name,'" ')+'task: "'.concat(e,'".')),void B();throw e}})},getTextContent:function(e){var y,t=this,r=e.stream,w=e.task,k=e.resources,a=e.stateManager,S=void 0===a?null:a,a=e.normalizeWhitespace,x=void 0!==a&&a,a=e.combineTextItems,C=void 0!==a&&a,A=e.sink,e=e.seenStyles,I=void 0===e?Object.create(null):e,k=k||G.Dict.empty,S=S||new H(new W),n=/\\s/g,T={items:[],styles:Object.create(null)},O={initialized:!1,str:[],width:0,height:0,vertical:!1,lastAdvanceWidth:0,lastAdvanceHeight:0,textAdvanceScale:0,spaceWidth:0,fakeSpaceMin:1/0,fakeMultiSpaceMin:1/0,fakeMultiSpaceMax:-0,textRunBreakAllowed:!1,transform:null,fontName:null},i=.3,o=1.5,s=4,E=this,P=this.xref,F=null,R=new d.LocalImageCache,_=new X(r,P,S);function B(){if(O.initialized)return O;var e=y.font;e.loadedName in I||(I[e.loadedName]=!0,T.styles[e.loadedName]={fontFamily:e.fallbackName,ascent:e.ascent,descent:e.descent,vertical:e.vertical}),O.fontName=e.loadedName;var t=[y.fontSize*y.textHScale,0,0,y.fontSize,0,y.textRise];e.isType3Font&&y.fontSize<=1&&!(0,z.isArrayEqual)(y.fontMatrix,z.FONT_IDENTITY_MATRIX)&&(0<(a=e.bbox[3]-e.bbox[1])&&(t[3]*=a*y.fontMatrix[3]));var r=z.Util.transform(y.ctm,z.Util.transform(y.textMatrix,t));O.transform=r,e.vertical?(O.width=Math.sqrt(r[0]*r[0]+r[1]*r[1]),O.height=0,O.vertical=!0):(O.width=0,O.height=Math.sqrt(r[2]*r[2]+r[3]*r[3]),O.vertical=!1);var a=y.textLineMatrix[0],t=y.textLineMatrix[1],r=Math.sqrt(a*a+t*t),a=y.ctm[0],t=y.ctm[1],t=Math.sqrt(a*a+t*t);O.textAdvanceScale=t*r,O.lastAdvanceWidth=0,O.lastAdvanceHeight=0;r=e.spaceWidth/1e3*y.fontSize;return r?(O.spaceWidth=r,O.fakeSpaceMin=r*i,O.fakeMultiSpaceMin=r*o,O.fakeMultiSpaceMax=r*s,O.textRunBreakAllowed=!e.isMonospace):(O.spaceWidth=0,O.fakeSpaceMin=1/0,O.fakeMultiSpaceMin=1/0,O.fakeMultiSpaceMax=0,O.textRunBreakAllowed=!1),O.initialized=!0,O}function c(e){var t=e.str.join(""),t=(0,h.bidi)(t,-1,e.vertical);return{str:x?function(e){for(var t,r=0,a=e.length;r<a&&32<=(t=e.charCodeAt(r))&&t<=127;)r++;return r<a?e.replace(n," "):e}(t.str):t.str,dir:t.dir,width:e.width,height:e.height,transform:e.transform,fontName:e.fontName}}function M(e,t){return E.loadFont(e,t,k).then(function(e){y.font=e.font,y.fontMatrix=e.font.fontMatrix||z.FONT_IDENTITY_MATRIX})}function L(e){for(var t=y.font,r=B(),a=0,n=0,i=t.charsToGlyphs(e),o=0;o<i.length;o++){var s=i[o],c=null,c=t.vertical&&s.vmetric?s.vmetric[0]:s.width,l=s.unicode,u=(0,g.getNormalizedUnicodes)();void 0!==u[l]&&(l=u[l]);l=(0,g.reverseIfRtl)(l),u=y.charSpacing;s.isSpace&&(u+=h=y.wordSpacing,0<h&&D(h,r.str));var s=0,h=0;t.vertical?n+=h=c*y.fontMatrix[0]*y.fontSize+u:a+=s=(c*y.fontMatrix[0]*y.fontSize+u)*y.textHScale,y.translateTextMatrix(s,h),r.str.push(l)}return t.vertical?(r.lastAdvanceHeight=n,r.height+=Math.abs(n)):(r.lastAdvanceWidth=a,r.width+=a),r}function D(e,t){if(!(e<O.fakeSpaceMin))if(e<O.fakeMultiSpaceMin)t.push(" ");else for(var r=Math.round(e/O.spaceWidth);0<r--;)t.push(" ")}function N(){O.initialized&&(O.vertical?O.height*=O.textAdvanceScale:O.width*=O.textAdvanceScale,T.items.push(c(O)),O.initialized=!1,O.str.length=0)}function U(){var e=T.items.length;0<e&&(A.enqueue(T,e),T.items=[],T.styles=Object.create(null))}var j=new l;return new Promise(function t(r,a){function e(e){U(),Promise.all([e,A.ready]).then(function(){try{t(r,a)}catch(e){a(e)}},a)}w.ensureNotTerminated(),j.reset();for(var n,i={},o=[];!(n=j.check())&&(o.length=0,i.args=o,_.read(i));){y=S.state;var s=i.fn,o=i.args;switch(0|s){case z.OPS.setFont:var c=o[0].name,l=o[1];if(y.font&&c===y.fontName&&l===y.fontSize)break;return N(),y.fontName=c,y.fontSize=l,void e(M(c,null));case z.OPS.setTextRise:N(),y.textRise=o[0];break;case z.OPS.setHScale:N(),y.textHScale=o[0]/100;break;case z.OPS.setLeading:N(),y.leading=o[0];break;case z.OPS.moveText:var u=!!y.font&&0===(y.font.vertical?o[0]:o[1]),h=o[0]-o[1];if(C&&u&&O.initialized&&0<h&&h<=O.fakeMultiSpaceMax){y.translateTextLineMatrix(o[0],o[1]),O.width+=o[0]-O.lastAdvanceWidth,O.height+=o[1]-O.lastAdvanceHeight,D(o[0]-O.lastAdvanceWidth-(o[1]-O.lastAdvanceHeight),O.str);break}N(),y.translateTextLineMatrix(o[0],o[1]),y.textMatrix=y.textLineMatrix.slice();break;case z.OPS.setLeadingMoveText:N(),y.leading=-o[1],y.translateTextLineMatrix(o[0],o[1]),y.textMatrix=y.textLineMatrix.slice();break;case z.OPS.nextLine:N(),y.carriageReturn();break;case z.OPS.setTextMatrix:if(h=y.calcTextLineMatrixAdvance(o[0],o[1],o[2],o[3],o[4],o[5]),C&&null!==h&&O.initialized&&0<h.value&&h.value<=O.fakeMultiSpaceMax){y.translateTextLineMatrix(h.width,h.height),O.width+=h.width-O.lastAdvanceWidth,O.height+=h.height-O.lastAdvanceHeight,D(h.width-O.lastAdvanceWidth-(h.height-O.lastAdvanceHeight),O.str);break}N(),y.setTextMatrix(o[0],o[1],o[2],o[3],o[4],o[5]),y.setTextLineMatrix(o[0],o[1],o[2],o[3],o[4],o[5]);break;case z.OPS.setCharSpacing:y.charSpacing=o[0];break;case z.OPS.setWordSpacing:y.wordSpacing=o[0];break;case z.OPS.beginText:N(),y.textMatrix=z.IDENTITY_MATRIX.slice(),y.textLineMatrix=z.IDENTITY_MATRIX.slice();break;case z.OPS.showSpacedText:if(!S.state.font){E.ensureStateFont(S.state);continue}for(var f,d,p=o[0],g=0,m=p.length;g<m;g++)"string"==typeof p[g]?L(p[g]):(0,z.isNum)(p[g])&&(B(),h=p[g]*y.fontSize/1e3,d=!1,y.font.vertical?(f=h,y.translateTextMatrix(0,f),(d=O.textRunBreakAllowed&&h>O.fakeMultiSpaceMax)||(O.height+=f)):(f=(h=-h)*y.textHScale,y.translateTextMatrix(f,0),(d=O.textRunBreakAllowed&&h>O.fakeMultiSpaceMax)||(O.width+=f)),d?N():0<h&&D(h,O.str));break;case z.OPS.showText:if(!S.state.font){E.ensureStateFont(S.state);continue}L(o[0]);break;case z.OPS.nextLineShowText:if(!S.state.font){E.ensureStateFont(S.state);continue}N(),y.carriageReturn(),L(o[0]);break;case z.OPS.nextLineSetSpacingShowText:if(!S.state.font){E.ensureStateFont(S.state);continue}N(),y.wordSpacing=o[0],y.charSpacing=o[1],y.carriageReturn(),L(o[2]);break;case z.OPS.paintXObject:N(),F=F||(k.get("XObject")||G.Dict.empty);var b=o[0].name;if(b&&R.getByName(b))break;return void e(new Promise(function(e,t){if(!b)throw new z.FormatError("XObject must be referred to by name.");var r=F.getRaw(b);if(r instanceof G.Ref){if(R.getByRef(r))return void e();r=P.fetch(r)}if(r){if(!(0,G.isStream)(r))throw new z.FormatError("XObject should be a stream");var a=r.dict.get("Subtype");if(!(0,G.isName)(a))throw new z.FormatError("XObject should have a Name subtype");if("Form"!==a.name)return R.set(b,r.dict.objId,!0),void e();var n=S.state.clone(),a=new H(n),n=r.dict.getArray("Matrix");Array.isArray(n)&&6===n.length&&a.transform(n),U();var i={enqueueInvoked:!1,enqueue:function(e,t){this.enqueueInvoked=!0,A.enqueue(e,t)},get desiredSize(){return A.desiredSize},get ready(){return A.ready}};E.getTextContent({stream:r,task:w,resources:r.dict.get("Resources")||k,stateManager:a,normalizeWhitespace:x,combineTextItems:C,sink:i,seenStyles:I}).then(function(){i.enqueueInvoked||R.set(b,r.dict.objId,!0),e()},t)}else e()}).catch(function(e){if(!(e instanceof z.AbortException)){if(!E.options.ignoreErrors)throw e;(0,z.warn)('getTextContent - ignoring XObject: "'.concat(e,'".'))}}));case z.OPS.setGState:N();c=o[0],u=k.get("ExtGState");if(!(0,G.isDict)(u)||!(0,G.isName)(c))break;var v=u.get(c.name);if(!(0,G.isDict)(v))break;c=v.get("Font");if(c)return y.fontName=null,y.fontSize=c[1],void e(M(null,c[0]))}if(T.items.length>=A.desiredSize){n=!0;break}}n?e(q):(N(),U(),r())}).catch(function(e){if(!(e instanceof z.AbortException)){if(t.options.ignoreErrors)return(0,z.warn)('getTextContent - ignoring errors during "'.concat(w.name,'" ')+'task: "'.concat(e,'".')),N(),void U();throw e}})},extractDataStructures:function(e,t,r){var a,n=this,i=this.xref,o=e.get("ToUnicode")||t.get("ToUnicode"),t=o?this.readToUnicode(o):Promise.resolve(void 0);r.composite&&(s=e.get("CIDSystemInfo"),(0,G.isDict)(s)&&(r.cidSystemInfo={registry:(0,z.stringToPDFString)(s.get("Registry")),ordering:(0,z.stringToPDFString)(s.get("Ordering")),supplement:s.get("Supplement")}),c=e.get("CIDToGIDMap"),(0,G.isStream)(c)&&(a=c.getBytes()));var s,c,l,u=[],o=null;if(e.has("Encoding")){if(l=e.get("Encoding"),(0,G.isDict)(l)){if(o=l.get("BaseEncoding"),o=(0,G.isName)(o)?o.name:null,l.has("Differences"))for(var h=l.get("Differences"),f=0,d=0,p=h.length;d<p;d++){var g=i.fetchIfRef(h[d]);if((0,z.isNum)(g))f=g;else{if(!(0,G.isName)(g))throw new z.FormatError("Invalid entry in 'Differences' array: ".concat(g));u[f++]=g.name}}}else{if(!(0,G.isName)(l))throw new z.FormatError("Encoding is not a Name nor a Dict");o=l.name}"MacRomanEncoding"!==o&&"MacExpertEncoding"!==o&&"WinAnsiEncoding"!==o&&(o=null)}return o?r.defaultEncoding=(0,m.getEncoding)(o).slice():(s=!!(r.flags&x.FontFlags.Symbolic),c=!!(r.flags&x.FontFlags.Nonsymbolic),l=m.StandardEncoding,"TrueType"!==r.type||c||(l=m.WinAnsiEncoding),s&&(l=m.MacRomanEncoding,r.file||(/Symbol/i.test(r.name)?l=m.SymbolSetEncoding:/Dingbats|Wingdings/i.test(r.name)&&(l=m.ZapfDingbatsEncoding))),r.defaultEncoding=l),r.differences=u,r.baseEncodingName=o,r.hasEncoding=!!o||0<u.length,r.dict=e,t.then(function(e){return r.toUnicode=e,n.buildToUnicode(r)}).then(function(e){return r.toUnicode=e,a&&(r.cidToGidMap=n.readCidToGidMap(a,e)),r})},_buildSimpleFontToUnicode:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];(0,z.assert)(!e.composite,"Must be a simple font.");var r,a=[],n=e.defaultEncoding.slice(),i=e.baseEncodingName,o=e.differences;for(r in o){var s=o[r];".notdef"!==s&&(n[r]=s)}var c,l=(0,b.getGlyphsUnicode)();for(c in n){var u=n[c];if(""!==u)if(void 0!==l[u])a[c]=String.fromCharCode(l[u]);else{var h=0;switch(u[0]){case"G":3===u.length&&(h=parseInt(u.substring(1),16));break;case"g":5===u.length&&(h=parseInt(u.substring(1),16));break;case"C":case"c":if(3<=u.length&&u.length<=4){var f=u.substring(1);if(t){h=parseInt(f,16);break}if(h=+f,Number.isNaN(h)&&Number.isInteger(parseInt(f,16)))return this._buildSimpleFontToUnicode(e,!0)}break;default:var d=(0,g.getUnicodeForGlyph)(u,l);-1!==d&&(h=d)}if(0<h&&h<=1114111&&Number.isInteger(h)){if(i&&h===+c){var p=(0,m.getEncoding)(i);if(p&&(u=p[c])){a[c]=String.fromCharCode(l[u]);continue}}a[c]=String.fromCodePoint(h)}}}return new x.ToUnicodeMap(a)},buildToUnicode:function(t){if(t.hasIncludedToUnicodeMap=!!t.toUnicode&&0<t.toUnicode.length,t.hasIncludedToUnicodeMap)return!t.composite&&t.hasEncoding&&(t.fallbackToUnicode=this._buildSimpleFontToUnicode(t)),Promise.resolve(t.toUnicode);if(!t.composite)return Promise.resolve(this._buildSimpleFontToUnicode(t));if(!t.composite||(!t.cMap.builtInCMap||t.cMap instanceof S.IdentityCMap)&&("Adobe"!==t.cidSystemInfo.registry||"GB1"!==t.cidSystemInfo.ordering&&"CNS1"!==t.cidSystemInfo.ordering&&"Japan1"!==t.cidSystemInfo.ordering&&"Korea1"!==t.cidSystemInfo.ordering))return Promise.resolve(new x.IdentityToUnicodeMap(t.firstChar,t.lastChar));var e=t.cidSystemInfo.registry,r=t.cidSystemInfo.ordering,r=G.Name.get(e+"-"+r+"-UCS2");return S.CMapFactory.create({encoding:r,fetchBuiltInCMap:this.fetchBuiltInCMap,useCMap:null}).then(function(r){var e=t.cMap,a=[];return e.forEach(function(e,t){if(65535<t)throw new z.FormatError("Max size of CID is 65,535");t=r.lookup(t);t&&(a[e]=String.fromCharCode((t.charCodeAt(0)<<8)+t.charCodeAt(1)))}),new x.ToUnicodeMap(a)})},readToUnicode:function(e){var t=this,e=e;return(0,G.isName)(e)?S.CMapFactory.create({encoding:e,fetchBuiltInCMap:this.fetchBuiltInCMap,useCMap:null}).then(function(e){return e instanceof S.IdentityCMap?new x.IdentityToUnicodeMap(0,65535):new x.ToUnicodeMap(e.getMap())}):(0,G.isStream)(e)?S.CMapFactory.create({encoding:e,fetchBuiltInCMap:this.fetchBuiltInCMap,useCMap:null}).then(function(e){if(e instanceof S.IdentityCMap)return new x.IdentityToUnicodeMap(0,65535);var o=new Array(e.length);return e.forEach(function(e,t){for(var r=[],a=0;a<t.length;a+=2){var n,i=t.charCodeAt(a)<<8|t.charCodeAt(a+1);55296==(63488&i)?(a+=2,n=t.charCodeAt(a)<<8|t.charCodeAt(a+1),r.push(((1023&i)<<10)+(1023&n)+65536)):r.push(i)}o[e]=String.fromCodePoint.apply(String,r)}),new x.ToUnicodeMap(o)},function(e){if(e instanceof z.AbortException)return null;if(t.options.ignoreErrors)return t.handler.send("UnsupportedFeature",{featureId:z.UNSUPPORTED_FEATURES.errorFontToUnicode}),(0,z.warn)('readToUnicode - ignoring ToUnicode data: "'.concat(e,'".')),null;throw e}):Promise.resolve(null)},readCidToGidMap:function(e,t){for(var r=[],a=0,n=e.length;a<n;a++){var i=e[a++]<<8|e[a],o=a>>1;0==i&&!t.has(o)||(r[o]=i)}return r},extractWidths:function(e,t,r){var a,n,i,o,s,c=this.xref,l=[],u=0,h=[];if(r.composite){if(u=e.has("DW")?e.get("DW"):1e3,b=e.get("W"))for(a=0,n=b.length;a<n;a++)if(o=c.fetchIfRef(b[a++]),s=c.fetchIfRef(b[a]),Array.isArray(s))for(d=0,i=s.length;d<i;d++)l[o++]=c.fetchIfRef(s[d]);else for(var f=c.fetchIfRef(b[++a]),d=o;d<=s;d++)l[d]=f;if(r.vertical){var p=e.getArray("DW2")||[880,-1e3],g=[p[1],.5*u,p[0]];if(p=e.get("W2"))for(a=0,n=p.length;a<n;a++)if(o=c.fetchIfRef(p[a++]),s=c.fetchIfRef(p[a]),Array.isArray(s))for(d=0,i=s.length;d<i;d++)h[o++]=[c.fetchIfRef(s[d++]),c.fetchIfRef(s[d++]),c.fetchIfRef(s[d])];else{var m=[c.fetchIfRef(p[++a]),c.fetchIfRef(p[++a]),c.fetchIfRef(p[++a])];for(d=o;d<=s;d++)h[d]=m}}}else{var b,v=r.firstChar;if(b=e.get("Widths")){for(d=v,a=0,n=b.length;a<n;a++)l[d++]=c.fetchIfRef(b[a]);u=parseFloat(t.get("MissingWidth"))||0}else{e=e.get("BaseFont");(0,G.isName)(e)&&(e=this.getBaseFontMetrics(e.name),l=this.buildCharCodeToWidth(e.widths,r),u=e.defaultWidth)}}var y,w=!0,k=u;for(y in l){var S=l[y];if(S)if(k){if(k!==S){w=!1;break}}else k=S}w&&(r.flags|=x.FontFlags.FixedPitch),r.defaultWidth=u,r.widths=l,r.defaultVMetrics=g,r.vmetrics=h},isSerifFont:function(e){e=e.split("-")[0];return e in(0,C.getSerifFonts)()||-1!==e.search(/serif/gi)},getBaseFontMetrics:function(e){var t=0,r=[],a=!1,n=(0,C.getStdFontMap)()[e]||e,i=(0,o.getMetrics)(),n=i[n=!(n in i)?this.isSerifFont(e)?"Times-Roman":"Helvetica":n];return(0,z.isNum)(n)?(t=n,a=!0):r=n(),{defaultWidth:t,monospace:a,widths:r}},buildCharCodeToWidth:function(e,t){for(var r=Object.create(null),a=t.differences,n=t.defaultEncoding,i=0;i<256;i++)i in a&&e[a[i]]?r[i]=e[a[i]]:i in n&&e[n[i]]&&(r[i]=e[n[i]]);return r},preEvaluateFont:function(e){var t=e,r=e.get("Subtype");if(!(0,G.isName)(r))throw new z.FormatError("invalid font Subtype");var a=!1;if("Type0"===r.name){var n=e.get("DescendantFonts");if(!n)throw new z.FormatError("Descendant fonts are not specified");if(r=(e=Array.isArray(n)?this.xref.fetchIfRef(n[0]):n).get("Subtype"),!(0,G.isName)(r))throw new z.FormatError("invalid font Subtype");a=!0}var i=e.get("FontDescriptor");if(i){var o=new y.MurmurHash3_64,s=t.getRaw("Encoding");if((0,G.isName)(s))o.update(s.name);else if((0,G.isRef)(s))o.update(s.toString());else if((0,G.isDict)(s))for(var c=s.getKeys(),l=0,u=c.length;l<u;l++){var h=s.getRaw(c[l]);if((0,G.isName)(h))o.update(h.name);else if((0,G.isRef)(h))o.update(h.toString());else if(Array.isArray(h)){for(var f=h.length,d=new Array(f),p=0;p<f;p++){var g=h[p];(0,G.isName)(g)?d[p]=g.name:((0,z.isNum)(g)||(0,G.isRef)(g))&&(d[p]=g.toString())}o.update(d.join())}}var m=e.get("FirstChar")||0,n=e.get("LastChar")||(a?65535:255);o.update("".concat(m,"-").concat(n));var b,n=e.get("ToUnicode")||t.get("ToUnicode");(0,G.isStream)(n)?(b=(b=n.str||n).buffer?new Uint8Array(b.buffer.buffer,0,b.bufferLength):new Uint8Array(b.bytes.buffer,b.start,b.end-b.start),o.update(b)):(0,G.isName)(n)&&o.update(n.name);n=e.get("Widths")||t.get("Widths");n&&(b=new Uint8Array(new Uint32Array(n).buffer),o.update(b))}return{descriptor:i,dict:e,baseDict:t,composite:a,type:r.name,hash:o?o.hexdigest():""}},translateFont:function(e){var i=this,t=e.baseDict,r=e.dict,a=e.composite,n=e.descriptor,o=e.type,s=a?65535:255,c=r.get("FirstChar")||0,l=r.get("LastChar")||s;if(!n){if("Type3"!==o){var u=r.get("BaseFont");if(!(0,G.isName)(u))throw new z.FormatError("Base font is not specified");var u=u.name.replace(/[,_]/g,"-"),h=this.getBaseFontMetrics(u),f=u.split("-")[0],d=(this.isSerifFont(f)?x.FontFlags.Serif:0)|(h.monospace?x.FontFlags.FixedPitch:0)|((0,C.getSymbolsFonts)()[f]?x.FontFlags.Symbolic:x.FontFlags.Nonsymbolic),p={type:o,name:u,widths:h.widths,defaultWidth:h.defaultWidth,flags:d,firstChar:c,lastChar:l},g=r.get("Widths");return this.extractDataStructures(r,r,p).then(function(e){if(g){for(var t=[],r=c,a=0,n=g.length;a<n;a++)t[r++]=i.xref.fetchIfRef(g[a]);e.widths=t}else e.widths=i.buildCharCodeToWidth(h.widths,e);return new x.Font(u,null,e)})}(n=new G.Dict(null)).set("FontName",G.Name.get(o)),n.set("FontBBox",r.getArray("FontBBox")||[0,0,0,0])}var m=n.get("FontName"),e=r.get("BaseFont");if((0,z.isString)(m)&&(m=G.Name.get(m)),(0,z.isString)(e)&&(e=G.Name.get(e)),"Type3"===o||(f=m&&m.name)!==(d=e&&e.name)&&((0,z.info)("The FontDescriptor's FontName is \\"".concat(f,'" but ')+"should be the same as the Font's BaseFont \\"".concat(d,'".')),f&&d&&d.startsWith(f)&&(m=e)),m=m||e,!(0,G.isName)(m))throw new z.FormatError("invalid font name");var b,v,y,w,k=n.get("FontFile","FontFile2","FontFile3");return k&&k.dict&&(b=(b=k.dict.get("Subtype"))&&b.name,v=k.dict.get("Length1"),y=k.dict.get("Length2"),w=k.dict.get("Length3")),p={type:o,name:m.name,subtype:b,file:k,length1:v,length2:y,length3:w,loadedName:t.loadedName,composite:a,fixedPitch:!1,fontMatrix:r.getArray("FontMatrix")||z.FONT_IDENTITY_MATRIX,firstChar:c||0,lastChar:l||s,bbox:n.getArray("FontBBox"),ascent:n.get("Ascent"),descent:n.get("Descent"),xHeight:n.get("XHeight"),capHeight:n.get("CapHeight"),flags:n.get("Flags"),italicAngle:n.get("ItalicAngle"),isType3Font:!1},(a?(a=t.get("Encoding"),(0,G.isName)(a)&&(p.cidEncoding=a.name),S.CMapFactory.create({encoding:a,fetchBuiltInCMap:this.fetchBuiltInCMap,useCMap:null}).then(function(e){p.cMap=e,p.vertical=p.cMap.vertical})):Promise.resolve(void 0)).then(function(){return i.extractDataStructures(r,t,p)}).then(function(e){return i.extractWidths(r,n,e),"Type3"===o&&(e.isType3Font=!0),new x.Font(m.name,k,e)})}},p.buildFontPaths=function(t,e,r){function a(e){t.renderer.hasBuiltPath(e)||r.send("commonobj",["".concat(t.loadedName,"_path_").concat(e),"FontPath",t.renderer.getPathJs(e)])}var n,i=c(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;a(o.fontChar);var s=o.accent;s&&s.fontChar&&a(s.fontChar)}}catch(e){i.e(e)}finally{i.f()}},p.getFallbackFontDict=function(){if(this._fallbackFontDict)return this._fallbackFontDict;var e=new G.Dict;return e.set("BaseFont",G.Name.get("PDFJS-FallbackFont")),e.set("Type",G.Name.get("FallbackType")),e.set("Subtype",G.Name.get("FallbackType")),e.set("Encoding",G.Name.get("WinAnsiEncoding")),this._fallbackFontDict=e},p}();t.PartialEvaluator=u;var O=function(){function n(e){var t=e.loadedName,r=e.font,a=e.dict,e=e.extraProperties,e=void 0!==e&&e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.loadedName=t,this.font=r,this.dict=a,this._extraProperties=e,this.type3Loaded=null,this.sent=!1}var e,t,r;return e=n,(t=[{key:"send",value:function(e){this.sent||(this.sent=!0,e.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._extraProperties)]))}},{key:"fallback",value:function(e){var t;this.font.data&&(this.font.disableFontFace=!0,t=this.font.glyphCacheValues,u.buildFontPaths(this.font,t,e))}},{key:"loadType3Data",value:function(e,t,a,n){if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");if(this.type3Loaded)return this.type3Loaded;var r=Object.create(e.options);r.ignoreErrors=!1;var i=e.clone(r);i.parsingType3Font=!0;for(var o=this.font,s=Promise.resolve(),c=this.dict.get("CharProcs"),l=this.dict.get("Resources")||t,u=c.getKeys(),h=Object.create(null),f=0,d=u.length;f<d;++f)!function(){var r=u[f];s=s.then(function(){var e=c.get(r),t=new w.OperatorList;return i.getOperatorList({stream:e,task:n,resources:l,operatorList:t}).then(function(){h[r]=t.getIR(),a.addDependencies(t.dependencies)}).catch(function(e){(0,z.warn)('Type3 font resource "'.concat(r,'" is not available.'));var t=new w.OperatorList;h[r]=t.getIR()})})}();return this.type3Loaded=s.then(function(){o.charProcOperatorList=h}),this.type3Loaded}}])&&i(e.prototype,t),r&&i(e,r),n}(),H=(p.prototype={save:function(){var e=this.state;this.stateStack.push(this.state),this.state=e.clone()},restore:function(){var e=this.stateStack.pop();e&&(this.state=e)},transform:function(e){this.state.ctm=z.Util.transform(this.state.ctm,e)}},p);function p(e){this.state=e,this.stateStack=[]}var W=(E.prototype={setTextMatrix:function(e,t,r,a,n,i){var o=this.textMatrix;o[0]=e,o[1]=t,o[2]=r,o[3]=a,o[4]=n,o[5]=i},setTextLineMatrix:function(e,t,r,a,n,i){var o=this.textLineMatrix;o[0]=e,o[1]=t,o[2]=r,o[3]=a,o[4]=n,o[5]=i},translateTextMatrix:function(e,t){var r=this.textMatrix;r[4]=r[0]*e+r[2]*t+r[4],r[5]=r[1]*e+r[3]*t+r[5]},translateTextLineMatrix:function(e,t){var r=this.textLineMatrix;r[4]=r[0]*e+r[2]*t+r[4],r[5]=r[1]*e+r[3]*t+r[5]},calcTextLineMatrixAdvance:function(e,t,r,a,n,i){var o=this.font;if(!o)return null;var s=this.textLineMatrix;if(e!==s[0]||t!==s[1]||r!==s[2]||a!==s[3])return null;n-=s[4],i-=s[5];if(o.vertical&&0!=n||!o.vertical&&0!=i)return null;var c,s=e*a-t*r,s=o.vertical?(c=-i*r/s,i*e/s):(c=n*a/s,-n*t/s);return{width:c,height:s,value:o.vertical?s:c}},calcRenderMatrix:function(e){var t=[this.fontSize*this.textHScale,0,0,this.fontSize,0,this.textRise];return z.Util.transform(e,z.Util.transform(this.textMatrix,t))},carriageReturn:function(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()},clone:function(){var e=Object.create(this);return e.textMatrix=this.textMatrix.slice(),e.textLineMatrix=this.textLineMatrix.slice(),e.fontMatrix=this.fontMatrix.slice(),e}},E);function E(){this.ctm=new Float32Array(z.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.font=null,this.fontMatrix=z.FONT_IDENTITY_MATRIX,this.textMatrix=z.IDENTITY_MATRIX.slice(),this.textLineMatrix=z.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}var D=(P.prototype={clone:function(){return Object.create(this)}},P);function P(){this.ctm=new Float32Array(z.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=z.TextRenderingMode.FILL,this.fillColorSpace=L.ColorSpace.singletons.gray,this.strokeColorSpace=L.ColorSpace.singletons.gray}var F,X=(F=(0,v.getLookupTableFactory)(function(e){e.w={id:z.OPS.setLineWidth,numArgs:1,variableArgs:!1},e.J={id:z.OPS.setLineCap,numArgs:1,variableArgs:!1},e.j={id:z.OPS.setLineJoin,numArgs:1,variableArgs:!1},e.M={id:z.OPS.setMiterLimit,numArgs:1,variableArgs:!1},e.d={id:z.OPS.setDash,numArgs:2,variableArgs:!1},e.ri={id:z.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},e.i={id:z.OPS.setFlatness,numArgs:1,variableArgs:!1},e.gs={id:z.OPS.setGState,numArgs:1,variableArgs:!1},e.q={id:z.OPS.save,numArgs:0,variableArgs:!1},e.Q={id:z.OPS.restore,numArgs:0,variableArgs:!1},e.cm={id:z.OPS.transform,numArgs:6,variableArgs:!1},e.m={id:z.OPS.moveTo,numArgs:2,variableArgs:!1},e.l={id:z.OPS.lineTo,numArgs:2,variableArgs:!1},e.c={id:z.OPS.curveTo,numArgs:6,variableArgs:!1},e.v={id:z.OPS.curveTo2,numArgs:4,variableArgs:!1},e.y={id:z.OPS.curveTo3,numArgs:4,variableArgs:!1},e.h={id:z.OPS.closePath,numArgs:0,variableArgs:!1},e.re={id:z.OPS.rectangle,numArgs:4,variableArgs:!1},e.S={id:z.OPS.stroke,numArgs:0,variableArgs:!1},e.s={id:z.OPS.closeStroke,numArgs:0,variableArgs:!1},e.f={id:z.OPS.fill,numArgs:0,variableArgs:!1},e.F={id:z.OPS.fill,numArgs:0,variableArgs:!1},e["f*"]={id:z.OPS.eoFill,numArgs:0,variableArgs:!1},e.B={id:z.OPS.fillStroke,numArgs:0,variableArgs:!1},e["B*"]={id:z.OPS.eoFillStroke,numArgs:0,variableArgs:!1},e.b={id:z.OPS.closeFillStroke,numArgs:0,variableArgs:!1},e["b*"]={id:z.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},e.n={id:z.OPS.endPath,numArgs:0,variableArgs:!1},e.W={id:z.OPS.clip,numArgs:0,variableArgs:!1},e["W*"]={id:z.OPS.eoClip,numArgs:0,variableArgs:!1},e.BT={id:z.OPS.beginText,numArgs:0,variableArgs:!1},e.ET={id:z.OPS.endText,numArgs:0,variableArgs:!1},e.Tc={id:z.OPS.setCharSpacing,numArgs:1,variableArgs:!1},e.Tw={id:z.OPS.setWordSpacing,numArgs:1,variableArgs:!1},e.Tz={id:z.OPS.setHScale,numArgs:1,variableArgs:!1},e.TL={id:z.OPS.setLeading,numArgs:1,variableArgs:!1},e.Tf={id:z.OPS.setFont,numArgs:2,variableArgs:!1},e.Tr={id:z.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},e.Ts={id:z.OPS.setTextRise,numArgs:1,variableArgs:!1},e.Td={id:z.OPS.moveText,numArgs:2,variableArgs:!1},e.TD={id:z.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},e.Tm={id:z.OPS.setTextMatrix,numArgs:6,variableArgs:!1},e["T*"]={id:z.OPS.nextLine,numArgs:0,variableArgs:!1},e.Tj={id:z.OPS.showText,numArgs:1,variableArgs:!1},e.TJ={id:z.OPS.showSpacedText,numArgs:1,variableArgs:!1},e["'"]={id:z.OPS.nextLineShowText,numArgs:1,variableArgs:!1},e['"']={id:z.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},e.d0={id:z.OPS.setCharWidth,numArgs:2,variableArgs:!1},e.d1={id:z.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},e.CS={id:z.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},e.cs={id:z.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},e.SC={id:z.OPS.setStrokeColor,numArgs:4,variableArgs:!0},e.SCN={id:z.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},e.sc={id:z.OPS.setFillColor,numArgs:4,variableArgs:!0},e.scn={id:z.OPS.setFillColorN,numArgs:33,variableArgs:!0},e.G={id:z.OPS.setStrokeGray,numArgs:1,variableArgs:!1},e.g={id:z.OPS.setFillGray,numArgs:1,variableArgs:!1},e.RG={id:z.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},e.rg={id:z.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},e.K={id:z.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},e.k={id:z.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},e.sh={id:z.OPS.shadingFill,numArgs:1,variableArgs:!1},e.BI={id:z.OPS.beginInlineImage,numArgs:0,variableArgs:!1},e.ID={id:z.OPS.beginImageData,numArgs:0,variableArgs:!1},e.EI={id:z.OPS.endInlineImage,numArgs:1,variableArgs:!1},e.Do={id:z.OPS.paintXObject,numArgs:1,variableArgs:!1},e.MP={id:z.OPS.markPoint,numArgs:1,variableArgs:!1},e.DP={id:z.OPS.markPointProps,numArgs:2,variableArgs:!1},e.BMC={id:z.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},e.BDC={id:z.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},e.EMC={id:z.OPS.endMarkedContent,numArgs:0,variableArgs:!1},e.BX={id:z.OPS.beginCompat,numArgs:0,variableArgs:!1},e.EX={id:z.OPS.endCompat,numArgs:0,variableArgs:!1},e.BM=null,e.BD=null,e.true=null,e.fa=null,e.fal=null,e.fals=null,e.false=null,e.nu=null,e.nul=null,e.null=null}),R.prototype={get savedStatesDepth(){return this.stateManager.stateStack.length},read:function(e){for(var t=e.args;;){var r=this.parser.getObj();if(r instanceof G.Cmd){var a=r.cmd,n=this.opMap[a];if(!n){(0,z.warn)('Unknown command "'.concat(a,'".'));continue}var i=n.id,o=n.numArgs,s=null!==t?t.length:0;if(n.variableArgs)o<s&&(0,z.info)("Command ".concat(a,": expected [0, ").concat(o,"] args, ")+"but received ".concat(s," args."));else{if(s!==o){for(var c=this.nonProcessedArgs;o<s;)c.push(t.shift()),s--;for(;s<o&&0!==c.length;)(t=null===t?[]:t).unshift(c.pop()),s++}if(s<o){a="command ".concat(a,": expected ").concat(o," args, ")+"but received ".concat(s," args.");if(i>=z.OPS.moveTo&&i<=z.OPS.endPath&&20<++this._numInvalidPathOPS)throw new z.FormatError("Invalid ".concat(a));(0,z.warn)("Skipping ".concat(a)),null!==t&&(t.length=0);continue}}return this.preprocessCommand(i,t),e.fn=i,e.args=t,!0}if(r===G.EOF)return!1;if(null!==r&&((t=null===t?[]:t).push(r),33<t.length))throw new z.FormatError("Too many arguments")}},preprocessCommand:function(e,t){switch(0|e){case z.OPS.save:this.stateManager.save();break;case z.OPS.restore:this.stateManager.restore();break;case z.OPS.transform:this.stateManager.transform(t)}}},R);function R(e,t,r){this.opMap=F(),this.parser=new n.Parser({lexer:new n.Lexer(e,this.opMap),xref:t}),this.stateManager=r,this.nonProcessedArgs=[],this._numInvalidPathOPS=0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CMapFactory=t.IdentityCMap=t.CMap=void 0;var a,c=(a=r(2))&&a.__esModule?a:{default:a},h=r(5),f=r(198),l=r(204),d=r(201),n=r(205);function u(e,t,r,a,n,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(a,n)}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p(r);return e=a?(e=p(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==i(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),e}var v=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],y=Math.pow(2,24)-1,w=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];g(this,t),this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=e}return b(t,[{key:"addCodespaceRange",value:function(e,t,r){this.codespaceRanges[e-1].push(t,r),this.numCodespaceRanges++}},{key:"mapCidRange",value:function(e,t,r){if(y<t-e)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;e<=t;)this._map[e++]=r++}},{key:"mapBfRange",value:function(e,t,r){if(y<t-e)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");for(var a=r.length-1;e<=t;)r=(this._map[e++]=r).substring(0,a)+String.fromCharCode(r.charCodeAt(a)+1)}},{key:"mapBfRangeToArray",value:function(e,t,r){if(y<t-e)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");for(var a=r.length,n=0;e<=t&&n<a;)this._map[e]=r[n++],++e}},{key:"mapOne",value:function(e,t){this._map[e]=t}},{key:"lookup",value:function(e){return this._map[e]}},{key:"contains",value:function(e){return void 0!==this._map[e]}},{key:"forEach",value:function(e){var t=this._map,r=t.length;if(r<=65536)for(var a=0;a<r;a++)void 0!==t[a]&&e(a,t[a]);else for(var n in t)e(n,t[n])}},{key:"charCodeOf",value:function(e){var t,r=this._map;if(r.length<=65536)return r.indexOf(e);for(t in r)if(r[t]===e)return 0|t;return-1}},{key:"getMap",value:function(){return this._map}},{key:"readCharCode",value:function(e,t,r){for(var a=0,n=this.codespaceRanges,i=0,o=n.length;i<o;i++)for(var a=(a<<8|e.charCodeAt(t+i))>>>0,s=n[i],c=0,l=s.length;c<l;){var u=s[c++],h=s[c++];if(u<=a&&a<=h)return r.charcode=a,void(r.length=i+1)}r.charcode=0,r.length=1}},{key:"length",get:function(){return this._map.length}},{key:"isIdentityCMap",get:function(){if("Identity-H"!==this.name&&"Identity-V"!==this.name)return!1;if(65536!==this._map.length)return!1;for(var e=0;e<65536;e++)if(this._map[e]!==e)return!1;return!0}}]),t}();t.CMap=w;var k=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,w);var a=s(n);function n(e,t){var r;return g(this,n),(r=a.call(this)).vertical=e,r.addCodespaceRange(t,0,65535),r}return b(n,[{key:"mapCidRange",value:function(e,t,r){(0,h.unreachable)("should not call mapCidRange")}},{key:"mapBfRange",value:function(e,t,r){(0,h.unreachable)("should not call mapBfRange")}},{key:"mapBfRangeToArray",value:function(e,t,r){(0,h.unreachable)("should not call mapBfRangeToArray")}},{key:"mapOne",value:function(e,t){(0,h.unreachable)("should not call mapCidOne")}},{key:"lookup",value:function(e){return Number.isInteger(e)&&e<=65535?e:void 0}},{key:"contains",value:function(e){return Number.isInteger(e)&&e<=65535}},{key:"forEach",value:function(e){for(var t=0;t<=65535;t++)e(t,t)}},{key:"charCodeOf",value:function(e){return Number.isInteger(e)&&e<=65535?e:-1}},{key:"getMap",value:function(){for(var e=new Array(65536),t=0;t<=65535;t++)e[t]=t;return e}},{key:"length",get:function(){return 65536}},{key:"isIdentityCMap",get:function(){(0,h.unreachable)("should not access .isIdentityCMap")}}]),n}();t.IdentityCMap=k;var S=(T.prototype={readByte:function(){return this.pos>=this.end?-1:this.buffer[this.pos++]},readNumber:function(){var e=0;do{var t=this.readByte();if(t<0)throw new h.FormatError("unexpected EOF in bcmap")}while(e=e<<7|127&t,!!(128&t));return e},readSigned:function(){var e=this.readNumber();return 1&e?~(e>>>1):e>>>1},readHex:function(e,t){e.set(this.buffer.subarray(this.pos,this.pos+t+1)),this.pos+=t+1},readHexNumber:function(e,t){var r,a=this.tmpBuf,n=0;do{var i=this.readByte();if(i<0)throw new h.FormatError("unexpected EOF in bcmap")}while(r=!(128&i),a[n++]=127&i,!r);for(var o=t,s=0,c=0;0<=o;){for(;c<8&&0<a.length;)s=a[--n]<<c|s,c+=7;e[o]=255&s,o--,s>>=8,c-=8}},readHexSigned:function(e,t){this.readHexNumber(e,t);for(var r=1&e[t]?255:0,a=0,n=0;n<=t;n++)a=(1&a)<<8|e[n],e[n]=a>>1^r},readString:function(){for(var e=this.readNumber(),t="",r=0;r<e;r++)t+=String.fromCharCode(this.readNumber());return t}},O.prototype={process:function(b,v,y){return new Promise(function(e,t){var r=new T(b),a=r.readByte();v.vertical=!!(1&a);for(var n,i,o=null,s=new Uint8Array(16),c=new Uint8Array(16),l=new Uint8Array(16),u=new Uint8Array(16),h=new Uint8Array(16);0<=(i=r.readByte());){var f=i>>5;if(7!=f){var d=!!(16&i),p=15&i;if(16<1+p)throw new Error("processBinaryCMap: Invalid dataSize.");var g,m=r.readNumber();switch(f){case 0:for(r.readHex(s,p),r.readHexNumber(c,p),A(c,s,p),v.addCodespaceRange(1+p,x(s,p),x(c,p)),g=1;g<m;g++)I(c,p),r.readHexNumber(s,p),A(s,c,p),r.readHexNumber(c,p),A(c,s,p),v.addCodespaceRange(1+p,x(s,p),x(c,p));break;case 1:for(r.readHex(s,p),r.readHexNumber(c,p),A(c,s,p),r.readNumber(),g=1;g<m;g++)I(c,p),r.readHexNumber(s,p),A(s,c,p),r.readHexNumber(c,p),A(c,s,p),r.readNumber();break;case 2:for(r.readHex(l,p),n=r.readNumber(),v.mapOne(x(l,p),n),g=1;g<m;g++)I(l,p),d||(r.readHexNumber(h,p),A(l,h,p)),n=r.readSigned()+(n+1),v.mapOne(x(l,p),n);break;case 3:for(r.readHex(s,p),r.readHexNumber(c,p),A(c,s,p),n=r.readNumber(),v.mapCidRange(x(s,p),x(c,p),n),g=1;g<m;g++)I(c,p),d?s.set(c):(r.readHexNumber(s,p),A(s,c,p)),r.readHexNumber(c,p),A(c,s,p),n=r.readNumber(),v.mapCidRange(x(s,p),x(c,p),n);break;case 4:for(r.readHex(l,1),r.readHex(u,p),v.mapOne(x(l,1),C(u,p)),g=1;g<m;g++)I(l,1),d||(r.readHexNumber(h,1),A(l,h,1)),I(u,p),r.readHexSigned(h,p),A(u,h,p),v.mapOne(x(l,1),C(u,p));break;case 5:for(r.readHex(s,1),r.readHexNumber(c,1),A(c,s,1),r.readHex(u,p),v.mapBfRange(x(s,1),x(c,1),C(u,p)),g=1;g<m;g++)I(c,1),d?s.set(c):(r.readHexNumber(s,1),A(s,c,1)),r.readHexNumber(c,1),A(c,s,1),r.readHex(u,p),v.mapBfRange(x(s,1),x(c,1),C(u,p));break;default:return void t(new Error("processBinaryCMap: Unknown type: "+f))}}else switch(31&i){case 0:r.readString();break;case 1:o=r.readString()}}e(o?y(o):v)})}},O);function x(e,t){for(var r=0,a=0;a<=t;a++)r=r<<8|e[a];return r>>>0}function C(e,t){return 1===t?String.fromCharCode(e[0],e[1]):3===t?String.fromCharCode(e[0],e[1],e[2],e[3]):String.fromCharCode.apply(null,e.subarray(0,t+1))}function A(e,t,r){for(var a=0,n=r;0<=n;n--)a+=e[n]+t[n],e[n]=255&a,a>>=8}function I(e,t){for(var r=1,a=t;0<=a&&0<r;a--)r+=e[a],e[a]=255&r,r>>=8}function T(e){this.buffer=e,this.pos=0,this.end=e.length,this.tmpBuf=new Uint8Array(19)}function O(){}var E={create:function(o){return s=c.default.mark(function e(){var t,r,a,n,i;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.encoding,r=o.fetchBuiltInCMap,a=o.useCMap,(0,f.isName)(t))return e.abrupt("return",M(t.name,r));e.next=7;break;case 7:if((0,f.isStream)(t))return n=new w,i=new l.Lexer(t),e.abrupt("return",_(n,i,r,a).then(function(e){return e.isIdentityCMap?M(e.name,r):e}));e.next=11;break;case 11:throw new Error("Encoding required.");case 12:case"end":return e.stop()}},e)}),function(){var e=this,o=arguments;return new Promise(function(t,r){var a=s.apply(e,o);function n(e){u(a,t,r,n,i,"next",e)}function i(e){u(a,t,r,n,i,"throw",e)}n(void 0)})}();var s}};function P(e){for(var t=0,r=0;r<e.length;r++)t=t<<8|e.charCodeAt(r);return t>>>0}function F(e){if(!(0,h.isString)(e))throw new h.FormatError("Malformed CMap: expected string.")}function R(e){if(!Number.isInteger(e))throw new h.FormatError("Malformed CMap: expected int.")}function _(e,t,r,a){var n,i,o,s,c,l;e:for(;;)try{var u=t.getObj();if((0,f.isEOF)(u))break;if((0,f.isName)(u))"WMode"===u.name?(c=e,l=(l=t).getObj(),Number.isInteger(l)&&(c.vertical=!!l)):"CMapName"===u.name&&(o=e,s=(s=t).getObj(),(0,f.isName)(s)&&(0,h.isString)(s.name)&&(o.name=s.name)),n=u;else if((0,f.isCmd)(u))switch(u.cmd){case"endcmap":break e;case"usecmap":(0,f.isName)(n)&&(i=n.name);break;case"begincodespacerange":!function(e,t){for(;;){var r=t.getObj();if((0,f.isEOF)(r))break;if((0,f.isCmd)(r,"endcodespacerange"))return;if(!(0,h.isString)(r))break;var a=P(r),r=t.getObj();if(!(0,h.isString)(r))break;var n=P(r);e.addCodespaceRange(r.length,a,n)}throw new h.FormatError("Invalid codespace range.")}(e,t);break;case"beginbfchar":!function(e,t){for(;;){var r=t.getObj();if((0,f.isEOF)(r))break;if((0,f.isCmd)(r,"endbfchar"))return;F(r);var a=P(r);F(r=t.getObj()),e.mapOne(a,r)}}(e,t);break;case"begincidchar":!function(e,t){for(;;){var r=t.getObj();if((0,f.isEOF)(r))break;if((0,f.isCmd)(r,"endcidchar"))return;F(r);var a=P(r);R(r=t.getObj()),e.mapOne(a,r)}}(e,t);break;case"beginbfrange":!function(e,t){for(;;){var r=t.getObj();if((0,f.isEOF)(r))break;if((0,f.isCmd)(r,"endbfrange"))return;F(r);var a=P(r);F(r=t.getObj());var n=P(r);if(r=t.getObj(),Number.isInteger(r)||(0,h.isString)(r)){var i=Number.isInteger(r)?String.fromCharCode(r):r;e.mapBfRange(a,n,i)}else{if(!(0,f.isCmd)(r,"["))break;for(var r=t.getObj(),o=[];!(0,f.isCmd)(r,"]")&&!(0,f.isEOF)(r);)o.push(r),r=t.getObj();e.mapBfRangeToArray(a,n,o)}}throw new h.FormatError("Invalid bf range.")}(e,t);break;case"begincidrange":!function(e,t){for(;;){var r=t.getObj();if((0,f.isEOF)(r))break;if((0,f.isCmd)(r,"endcidrange"))return;F(r);var a=P(r);F(r=t.getObj());var n=P(r);R(r=t.getObj()),e.mapCidRange(a,n,r)}}(e,t)}}catch(e){if(e instanceof d.MissingDataException)throw e;(0,h.warn)("Invalid cMap data: "+e);continue}return(a=!a&&i?i:a)?B(e,r,a):Promise.resolve(e)}function B(a,e,t){return M(t,e).then(function(e){if(a.useCMap=e,0===a.numCodespaceRanges){for(var t=a.useCMap.codespaceRanges,r=0;r<t.length;r++)a.codespaceRanges[r]=t[r].slice();a.numCodespaceRanges=a.useCMap.numCodespaceRanges}return a.useCMap.forEach(function(e,t){a.contains(e)||a.mapOne(e,a.useCMap.lookup(e))}),a})}function M(e,a){return"Identity-H"===e?Promise.resolve(new k(!1,2)):"Identity-V"===e?Promise.resolve(new k(!0,2)):v.includes(e)?a?a(e).then(function(e){var t=e.cMapData,e=e.compressionType,r=new w(!0);if(e===h.CMapCompressionType.BINARY)return(new S).process(t,r,function(e){return B(r,a,e)});if(e!==h.CMapCompressionType.NONE)return Promise.reject(new Error("TODO: Only BINARY/NONE CMap compression is currently supported."));t=new l.Lexer(new n.Stream(t));return _(r,t,a,null)}):Promise.reject(new Error("Built-in CMap parameters are not provided.")):Promise.reject(new Error("Unknown CMap name: "+e))}t.CMapFactory=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFontType=w,t.IdentityToUnicodeMap=t.ToUnicodeMap=t.FontFlags=t.Font=t.ErrorFont=t.SEAC_ANALYSIS_ENABLED=void 0;var ne=r(5),ie=r(223),oe=r(226),se=r(225),y=r(227),I=r(228),m=r(201),a=r(229),ce=r(221),le=r(205),c=r(230);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],a=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(n)throw i}}return r}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var h=[[57344,63743],[1048576,1114109]];t.SEAC_ANALYSIS_ENABLED=!0;var o=["ascent","bbox","black","bold","charProcOperatorList","composite","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","fontType","isMonospace","isSerifFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","type","vertical"],u=["cMap","defaultEncoding","differences","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"],f={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};t.FontFlags=f;var ue=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function he(e){if(e.fontMatrix&&e.fontMatrix[0]!==ne.FONT_IDENTITY_MATRIX[0]){var t,r=.001/e.fontMatrix[0],a=e.widths;for(t in a)a[t]*=r;e.defaultWidth*=r}}function w(e,t){switch(e){case"Type1":return"Type1C"===t?ne.FontType.TYPE1C:ne.FontType.TYPE1;case"CIDFontType0":return"CIDFontType0C"===t?ne.FontType.CIDFONTTYPE0C:ne.FontType.CIDFONTTYPE0;case"OpenType":return ne.FontType.OPENTYPE;case"TrueType":return ne.FontType.TRUETYPE;case"CIDFontType2":return ne.FontType.CIDFONTTYPE2;case"MMType1":return ne.FontType.MMTYPE1;case"Type0":return ne.FontType.TYPE0;default:return ne.FontType.UNKNOWN}}function fe(e,t){if(void 0!==t[e])return e;var r=(0,I.getUnicodeForGlyph)(e,t);if(-1!==r)for(var a in t)if(t[a]===r)return a;return(0,ne.info)("Unable to recover a standard glyph name for: "+e),e}var d=(i.prototype.matchesForCache=function(e,t,r,a,n,i,o,s){return this.fontChar===e&&this.unicode===t&&this.accent===r&&this.width===a&&this.vmetric===n&&this.operatorListId===i&&this.isSpace===o&&this.isInFont===s},i);function i(e,t,r,a,n,i,o,s){this.fontChar=e,this.unicode=t,this.accent=r,this.width=a,this.vmetric=n,this.operatorListId=i,this.isSpace=o,this.isInFont=s}var k=(p.prototype={get length(){return this._map.length},forEach:function(e){for(var t in this._map)e(t,this._map[t].charCodeAt(0))},has:function(e){return void 0!==this._map[e]},get:function(e){return this._map[e]},charCodeOf:function(e){var t,r=this._map;if(r.length<=65536)return r.indexOf(e);for(t in r)if(r[t]===e)return 0|t;return-1},amend:function(e){for(var t in e)this._map[t]=e[t]}},p);function p(){this._map=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]}t.ToUnicodeMap=k;var T=(g.prototype={get length(){return this.lastChar+1-this.firstChar},forEach:function(e){for(var t=this.firstChar,r=this.lastChar;t<=r;t++)e(t,t)},has:function(e){return this.firstChar<=e&&e<=this.lastChar},get:function(e){if(this.firstChar<=e&&e<=this.lastChar)return String.fromCharCode(e)},charCodeOf:function(e){return Number.isInteger(e)&&e>=this.firstChar&&e<=this.lastChar?e:-1},amend:function(e){(0,ne.unreachable)("Should not call amend()")}},g);function g(e,t){this.firstChar=e,this.lastChar=t}t.IdentityToUnicodeMap=T;var b,de=function(){function d(e,t,r){e[t]=r>>8&255,e[t+1]=255&r}function p(e,t,r){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}function g(e){this.sfnt=e,this.tables=Object.create(null)}g.getSearchParams=function(e,t){for(var r=1,a=0;r<(r^e);)r<<=1,a++;var n=r*t;return{range:n,entry:a,rangeShift:t*e-n}};return g.prototype={toArray:function(){var e=this.sfnt,t=this.tables,r=Object.keys(t);r.sort();for(var a,n,i=r.length,o=12+16*i,s=[o],c=0;c<i;c++)o+=((n=t[r[c]]).length+3&-4)>>>0,s.push(o);var l=new Uint8Array(o);for(c=0;c<i;c++)n=t[r[c]],function(e,t,r){var a,n;if(r instanceof Uint8Array)e.set(r,t);else if("string"==typeof r)for(a=0,n=r.length;a<n;a++)e[t++]=255&r.charCodeAt(a);else for(a=0,n=r.length;a<n;a++)e[t++]=255&r[a]}(l,s[c],n);"true"===e&&(e=(0,ne.string32)(65536)),l[0]=255&e.charCodeAt(0),l[1]=255&e.charCodeAt(1),l[2]=255&e.charCodeAt(2),l[3]=255&e.charCodeAt(3),d(l,4,i);e=g.getSearchParams(i,16);for(d(l,6,e.range),d(l,8,e.entry),d(l,10,e.rangeShift),o=12,c=0;c<i;c++){a=r[c],l[o]=255&a.charCodeAt(0),l[o+1]=255&a.charCodeAt(1),l[o+2]=255&a.charCodeAt(2),l[o+3]=255&a.charCodeAt(3);for(var u=0,h=s[c],f=s[c+1];h<f;h+=4)u=u+(0,m.readUint32)(l,h)>>>0;p(l,o+4,u),p(l,o+8,s[c]),p(l,o+12,t[a].length),o+=16}return l},addTable:function(e,t){if(e in this.tables)throw new Error("Table "+e+" already exists");this.tables[e]=t}},g}(),r=(v.getFontID=(b=1,function(){return String(b++)}),v.prototype={name:null,font:null,mimetype:null,disableFontFace:!1,get renderer(){var e=a.FontRendererFactory.create(this,!0);return(0,ne.shadow)(this,"renderer",e)},exportData:function(){var e,t,r,a=0<arguments.length&&void 0!==arguments[0]&&arguments[0]?[].concat(o,u):o,n=Object.create(null),i=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,t=function(){};return{s:t,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,n=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw n}}}}(a);try{for(i.s();!(r=i.n()).done;)void 0!==(t=this[e=r.value])&&(n[e]=t)}catch(e){i.e(e)}finally{i.f()}return n},fallbackToSystemFont:function(){var a=this;this.missingFile=!0;var e=this.name,t=this.type,r=this.subtype,n=e.replace(/[,_]/g,"-").replace(/\\s/g,""),i=(0,y.getStdFontMap)(),o=(0,y.getNonStdFontMap)(),s=!!i[n]||!(!o[n]||!i[o[n]]),n=i[n]||o[n]||n;if(this.bold=-1!==n.search(/bold/gi),this.italic=-1!==n.search(/oblique/gi)||-1!==n.search(/italic/gi),this.black=-1!==e.search(/Black/g),this.remeasure=0<Object.keys(this.widths).length,s&&"CIDFontType2"===t&&this.cidEncoding.startsWith("Identity-")){var c,l=(0,y.getGlyphMapForStandardFonts)(),u=[];for(c in l)u[+c]=l[c];if(/Arial-?Black/i.test(e)){var h,f=(0,y.getSupplementalGlyphMapForArialBlack)();for(h in f)u[+h]=f[h]}else if(/Calibri/i.test(e)){var d,p=(0,y.getSupplementalGlyphMapForCalibri)();for(d in p)u[+d]=p[d]}this.toUnicode instanceof T||this.toUnicode.forEach(function(e,t){u[+e]=t}),this.toFontChar=u,this.toUnicode=new k(u)}else if(/Symbol/i.test(n))this.toFontChar=S(se.SymbolSetEncoding,(0,oe.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(n))/Wingdings/i.test(e)&&(0,ne.warn)("Non-embedded Wingdings font, falling back to ZapfDingbats."),this.toFontChar=S(se.ZapfDingbatsEncoding,(0,oe.getDingbatsGlyphsUnicode)(),this.differences);else if(s)this.toFontChar=S(this.defaultEncoding,(0,oe.getGlyphsUnicode)(),this.differences);else{var g=(0,oe.getGlyphsUnicode)(),m=[];if(this.toUnicode.forEach(function(e,t){var r;a.composite||(r=a.differences[e]||a.defaultEncoding[e],-1!==(r=(0,I.getUnicodeForGlyph)(r,g))&&(t=r)),m[+e]=t}),this.composite&&this.toUnicode instanceof T&&/Verdana/i.test(e)){var b,v=(0,y.getGlyphMapForStandardFonts)();for(b in v)m[+b]=v[b]}this.toFontChar=m}this.loadedName=n.split("-")[0],this.fontType=w(t,r)},checkAndRepair:function(e,m,t){var i=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function p(e,t){var r=Object.create(null);r["OS/2"]=null,r.cmap=null,r.head=null,r.hhea=null,r.hmtx=null,r.maxp=null,r.name=null,r.post=null;for(var a=0;a<t;a++){var n=function(e){var t=(0,ne.bytesToString)(e.getBytes(4)),r=e.getInt32()>>>0,a=e.getInt32()>>>0,n=e.getInt32()>>>0,i=e.pos;e.pos=e.start||0,e.skip(a);var o=e.getBytes(n);e.pos=i,"head"===t&&(o[8]=o[9]=o[10]=o[11]=0,o[17]|=32);return{tag:t,checksum:r,length:n,offset:a,data:o}}(e);i.includes(n.tag)&&0!==n.length&&(r[n.tag]=n)}return r}function g(e){return{version:(0,ne.bytesToString)(e.getBytes(4)),numTables:e.getUint16(),searchRange:e.getUint16(),entrySelector:e.getUint16(),rangeShift:e.getUint16()}}function r(e,t){for(var r=function(e){var t=(0,ne.bytesToString)(e.getBytes(4));(0,ne.assert)("ttcf"===t,"Must be a TrueType Collection font.");for(var r=e.getUint16(),a=e.getUint16(),n=e.getInt32()>>>0,i=[],o=0;o<n;o++)i.push(e.getInt32()>>>0);var s={ttcTag:t,majorVersion:r,minorVersion:a,numFonts:n,offsetTable:i};switch(r){case 1:return s;case 2:return s.dsigTag=e.getInt32()>>>0,s.dsigLength=e.getInt32()>>>0,s.dsigOffset=e.getInt32()>>>0,s}throw new ne.FormatError("Invalid TrueType Collection majorVersion: ".concat(r,"."))}(e),a=r.numFonts,n=r.offsetTable,i=0;i<a;i++){e.pos=(e.start||0)+n[i];var o=g(e),s=p(e,o.numTables);if(!s.name)throw new ne.FormatError('TrueType Collection font must contain a "name" table.');for(var c=b(s.name),l=0,u=c.length;l<u;l++)for(var h=0,f=c[l].length;h<f;h++){var d=c[l][h];if(d&&d.replace(/\\s/g,"")===t)return{header:o,tables:s}}}throw new ne.FormatError('TrueType Collection does not contain "'.concat(t,'" font.'))}function a(e,t,r,a,n,i,o){var s,c,l=a?(s=4,c=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]},function(e,t,r){e[t]=r>>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}):(s=2,c=function(e,t){return e[t]<<9|e[t+1]<<1},function(e,t,r){e[t]=r>>9&255,e[t+1]=r>>1&255}),u=i?r+1:r,a=s*(1+u),h=new Uint8Array(a);h.set(e.data.subarray(0,a)),e.data=h;var f=t.data,d=f.length,p=new Uint8Array(d),g=c(h,0),m=0,b=Object.create(null);for(l(h,0,m),S=0,x=s;S<r;S++,x+=s){var v=c(h,x),y=function(e,t,r,a,n,i){var o={length:0,sizeOfInstructions:0};if(r-t<=12)return o;var s=e.subarray(t,r),c=pe(s[0],s[1]);if(c<0)return v=c=-1,(f=s)[(d=0)+1]=v,f[d]=v>>>8,a.set(s,n),o.length=s.length,o;for(var l=10,u=0,h=0;h<c;h++){u=1+(s[l]<<8|s[l+1]);l+=2}var r=l,f=s[l]<<8|s[l+1],d=l+=2+(o.sizeOfInstructions=f),p=0;for(h=0;h<u;h++){var g=s[l++];192&g&&(s[l-1]=63&g);var m=2;2&g?m=1:16&g&&(m=0);var b=2;4&g?b=1:32&g&&(b=0);b=m+b;p+=b,8&g&&(h+=g=s[l++],p+=g*b)}if(0===p)return o;var v=l+p;return v>s.length||(!i&&0<f?(a.set(s.subarray(0,r),n),a.set([0,0],n+r),a.set(s.subarray(d,v),n+r+2),3<s.length-(v-=f)&&(v=v+3&-4),o.length=v):3<s.length-v?(a.set(s.subarray(0,v=v+3&-4),n),o.length=v):(a.set(s,n),o.length=s.length)),o}(f,g=d<(v=d<(v=0===v?g:v)&&(d+3&-4)===v?d:v)?v:g,v,p,m,n),w=y.length;0===w&&(b[S]=!0),y.sizeOfInstructions>o&&(o=y.sizeOfInstructions),l(h,x,m+=w),g=v}if(0===m){for(var k=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]),S=0,x=s;S<u;S++,x+=s)l(h,x,k.length);t.data=k}else i?(i=c(h,s),p.length>i+m?t.data=p.subarray(0,i+m):(t.data=new Uint8Array(i+m),t.data.set(p.subarray(0,m))),t.data.set(p.subarray(0,i),m),l(e.data,h.length-s,m+i)):t.data=p.subarray(0,m);return{missingGlyphs:b,maxSizeOfInstructions:o}}function b(e){var t=(m.start||0)+e.offset;m.pos=t;var r=[[],[]],e=e.length,a=t+e;if(0!==m.getUint16()||e<6)return r;for(var n,i=m.getUint16(),o=m.getUint16(),s=[],c=0;c<i&&m.pos+12<=a;c++){var l={platform:m.getUint16(),encoding:m.getUint16(),language:m.getUint16(),name:m.getUint16(),length:m.getUint16(),offset:m.getUint16()};(1===l.platform&&0===l.encoding&&0===l.language||3===l.platform&&1===l.encoding&&1033===l.language)&&s.push(l)}for(c=0,n=s.length;c<n;c++){var u=s[c];if(!(u.length<=0)){var h=t+o+u.offset;if(!(h+u.length>a)){m.pos=h;h=u.name;if(u.encoding){for(var f="",d=0,p=u.length;d<p;d+=2)f+=String.fromCharCode(m.getUint16());r[1][h]=f}else r[0][h]=(0,ne.bytesToString)(m.getBytes(u.length))}}}return r}var n,o,x=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function s(e,t){for(var r,a,n,i,o,s=e.data,c=0,l=0,u=0,h=[],f=[],d=[],p=t.tooComplexToFollowFunctions,g=!1,m=0,b=0,v=s.length;c<v;){var y=s[c++];if(64===y)if(a=s[c++],g||b)c+=a;else for(r=0;r<a;r++)h.push(s[c++]);else if(65===y)if(a=s[c++],g||b)c+=2*a;else for(r=0;r<a;r++)n=s[c++],h.push(n<<8|s[c++]);else if(176==(248&y))if(a=y-176+1,g||b)c+=a;else for(r=0;r<a;r++)h.push(s[c++]);else if(184==(248&y))if(a=y-184+1,g||b)c+=2*a;else for(r=0;r<a;r++)n=s[c++],h.push(n<<8|s[c++]);else if(43!==y||p)if(44!==y||p)if(45===y)if(g)g=!1,l=c;else{if(!(o=f.pop()))return(0,ne.warn)("TT: ENDF bad stack"),void(t.hintsValid=!1);i=d.pop(),s=o.data,c=o.i,t.functionsStackDeltas[i]=h.length-o.stackTop}else 137===y?((g||b)&&((0,ne.warn)("TT: nested IDEFs not allowed"),p=!0),g=!0,u=c):88===y?++m:27===y?b=m:89===y?(b===m&&(b=0),--m):28===y&&(g||b||0<(w=h[h.length-1])&&(c+=w-1));else(g||b)&&((0,ne.warn)("TT: nested FDEFs not allowed"),p=!0),g=!0,u=c,i=h.pop(),t.functionsDefined[i]={data:s,i:c};else if(!g&&!b)if(i=h[h.length-1],isNaN(i))(0,ne.info)("TT: CALL empty stack (or invalid entry).");else if(t.functionsUsed[i]=!0,i in t.functionsStackDeltas){var w=h.length+t.functionsStackDeltas[i];if(w<0)return(0,ne.warn)("TT: CALL invalid functions stack delta."),void(t.hintsValid=!1);h.length=w}else if(i in t.functionsDefined&&!d.includes(i)){if(f.push({data:s,i:c,stackTop:h.length-1}),d.push(i),!(o=t.functionsDefined[i]))return(0,ne.warn)("TT: CALL non-existent function"),void(t.hintsValid=!1);s=o.data,c=o.i}if(!g&&!b){var k=0;for(y<=142?k=x[y]:192<=y&&y<=223?k=-1:224<=y&&(k=-2),113<=y&&y<=117&&(a=h.pop(),isNaN(a)||(k=2*-a));k<0&&0<h.length;)h.pop(),k++;for(;0<k;)h.push(NaN),k--}}t.tooComplexToFollowFunctions=p;var S=[s];c>s.length&&S.push(new Uint8Array(c-s.length)),l<u&&((0,ne.warn)("TT: complementing a missing function tail"),S.push(new Uint8Array([34,45]))),function(e,t){if(1<t.length){var r,a,n=0;for(r=0,a=t.length;r<a;r++)n+=t[r].length;n=n+3&-4;var i=new Uint8Array(n),o=0;for(r=0,a=t.length;r<a;r++)i.set(t[r],o),o+=t[r].length;e.data=i,e.length=n}}(e,S)}var c=!(o=ge(m=new le.Stream(new Uint8Array(m.getBytes())))?(n=(v=r(m,this.name)).header,v.tables):(n=g(m),p(m,n.numTables)))["CFF "];if(c){if(!o.loca)throw new ne.FormatError('Required "loca" table is not found');o.glyf||((0,ne.warn)('Required "glyf" table is not found -- trying to recover.'),o.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{var l=t.composite&&(0<(t.cidToGidMap||[]).length||!(t.cMap instanceof ce.IdentityCMap));if("OTTO"===n.version&&!l||!o.head||!o.hhea||!o.maxp||!o.post)return ee=new le.Stream(o["CFF "].data),$=new ke(ee,t),he(t),this.convert(e,$,t);delete o.glyf,delete o.loca,delete o.fpgm,delete o.prep,delete o["cvt "],this.isOpenType=!0}if(!o.maxp)throw new ne.FormatError('Required "maxp" table is not found');m.pos=(m.start||0)+o.maxp.offset;var u=m.getInt32(),h=m.getUint16(),f=h+1,d=!0;65535<f&&(f=h,(d=!1,ne.warn)("Not enough space in glyfs to duplicate first glyph."));var v=0,l=0;65536<=u&&22<=o.maxp.length&&(m.pos+=8,2<m.getUint16()&&(o.maxp.data[14]=0,o.maxp.data[15]=2),m.pos+=4,v=m.getUint16(),m.pos+=4,l=m.getUint16()),o.maxp.data[4]=f>>8,o.maxp.data[5]=255&f;var y,w,k,S,C,A,I,T,O,E,v=(y=o.fpgm,w=o.prep,k=o["cvt "],S=v,C={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0},y&&s(y,C),w&&s(w,C),y&&function(e,t){if(!e.tooComplexToFollowFunctions){if(e.functionsDefined.length>t)return(0,ne.warn)("TT: more functions defined than expected"),e.hintsValid=!1;for(var r=0,a=e.functionsUsed.length;r<a;r++){if(t<r)return(0,ne.warn)("TT: invalid function id: "+r),e.hintsValid=!1;if(e.functionsUsed[r]&&!e.functionsDefined[r])return(0,ne.warn)("TT: undefined function: "+r),e.hintsValid=!1}}}(C,S),k&&1&k.length&&((S=new Uint8Array(k.length+1)).set(k.data),k.data=S),C.hintsValid);if(v||(delete o.fpgm,delete o.prep,delete o["cvt "]),A=m,I=o.hhea,T=o.hmtx,O=f,E=d,I?(A.pos=(A.start||0)+I.offset,A.pos+=4,A.pos+=2,A.pos+=2,A.pos+=2,A.pos+=2,A.pos+=2,A.pos+=2,A.pos+=2,A.pos+=2,A.pos+=2,A.pos+=2,A.pos+=8,A.pos+=2,O<(A=A.getUint16())&&((0,ne.info)("The numOfMetrics ("+A+") should not be greater than the numGlyphs ("+O+")"),I.data[34]=(65280&(A=O))>>8,I.data[35]=255&A),0<(A=O-A-(T.length-4*A>>1))&&((A=new Uint8Array(T.length+2*A)).set(T.data),E&&(A[T.length]=T.data[2],A[T.length+1]=T.data[3]),T.data=A)):T&&(T.data=null),!o.head)throw new ne.FormatError('Required "head" table is not found');!function(e,t,r){var a=e.data;if((e=(a[0]<<24)+(a[1]<<16)+(a[2]<<8)+a[3])>>16!=1&&((0,ne.info)("Attempting to fix invalid version in head table: "+e),a[0]=0,a[1]=1,a[2]=0,a[3]=0),(e=(a[50]<<8)+a[51])<0||1<e){(0,ne.info)("Attempting to fix invalid indexToLocFormat in head table: "+e);t=t+1;if(r===t<<1)a[50]=0,a[51]=0;else{if(r!==t<<2)throw new ne.FormatError("Could not fix indexToLocFormat: "+e);a[50]=0,a[51]=1}}}(o.head,h,c?o.loca.length:0);var P=Object.create(null);if(c&&(F=(o.head.data[50]<<8)+o.head.data[51],F=a(o.loca,o.glyf,h,F,v,d,l),P=F.missingGlyphs,65536<=u&&22<=o.maxp.length&&(o.maxp.data[26]=F.maxSizeOfInstructions>>8,o.maxp.data[27]=255&F.maxSizeOfInstructions)),!o.hhea)throw new ne.FormatError('Required "hhea" table is not found');0===o.hhea.data[10]&&0===o.hhea.data[11]&&(o.hhea.data[10]=255,o.hhea.data[11]=255);var F={unitsPerEm:(o.head.data[18]<<8)+o.head.data[19],yMax:(o.head.data[42]<<8)+o.head.data[43],yMin:pe(o.head.data[38],o.head.data[39]),ascent:(o.hhea.data[4]<<8)+o.hhea.data[5],descent:pe(o.hhea.data[6],o.hhea.data[7])};this.ascent=F.ascent/F.unitsPerEm,this.descent=F.descent/F.unitsPerEm,o.post&&function(e,t,r){var a,n=(m.start||0)+e.offset,i=(m.pos=n)+e.length,o=m.getInt32();m.skip(28);var s=!0;switch(o){case 65536:a=ue;break;case 131072:var c=m.getUint16();if(c!==r){s=!1;break}for(var l=[],u=0;u<c;++u){var h=m.getUint16();if(32768<=h){s=!1;break}l.push(h)}if(!s)break;for(var f=[],d=[];m.pos<i;){var p=m.getByte();for(d.length=p,u=0;u<p;++u)d[u]=String.fromCharCode(m.getByte());f.push(d.join(""))}for(a=[],u=0;u<c;++u){var g=l[u];g<258?a.push(ue[g]):a.push(f[g-258])}break;case 196608:break;default:(0,ne.warn)("Unknown/unsupported post table version "+o),s=!1,t.defaultEncoding&&(a=t.defaultEncoding)}t.glyphNames=a}(o.post,t,h),o.post={tag:"post",data:ye(t)};var R=[];function _(e){return!P[e]}if(t.composite){var B=t.cidToGidMap||[],M=0===B.length;t.cMap.forEach(function(e,t){if(65535<t)throw new ne.FormatError("Max size of CID is 65,535");var r=-1;M?r=t:void 0!==B[t]&&(r=B[t]),0<=r&&r<h&&_(r)&&(R[e]=r)})}else{var L=function(e,t,r,a){if(!e)return(0,ne.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};var n=(t.start||0)+e.offset;t.pos=n,t.skip(2);for(var i,o=t.getUint16(),s=!1,c=0;c<o;c++){var l=t.getUint16(),u=t.getUint16(),h=t.getInt32()>>>0,f=!1;if((!i||i.platformId!==l||i.encodingId!==u)&&(0===l&&0===u||1===l&&0===u?f=!0:3!==l||1!==u||!a&&i?r&&3===l&&0===u&&(s=f=!0):(f=!0,r||(s=!0)),f&&(i={platformId:l,encodingId:u,offset:h}),s))break}if(i&&(t.pos=n+i.offset),!i||-1===t.peekByte())return(0,ne.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};var d=t.getUint16();t.skip(4);var e=!1,p=[];if(0===d){for(I=0;I<256;I++){var g=t.getByte();g&&p.push({charCode:I,glyphId:g})}e=!0}else if(4===d){var m=t.getUint16()>>1;t.skip(6);for(var b=[],v=0;v<m;v++)b.push({end:t.getUint16()});for(t.skip(2),v=0;v<m;v++)b[v].start=t.getUint16();for(v=0;v<m;v++)b[v].delta=t.getUint16();var y=0;for(v=0;v<m;v++){var w=b[v],k=t.getUint16();k?(w.offsetIndex=A=(k>>1)-(m-v),y=Math.max(y,A+w.end-w.start+1)):w.offsetIndex=-1}var S=[];for(I=0;I<y;I++)S.push(t.getUint16());for(v=0;v<m;v++)for(var n=(w=b[v]).start,x=w.end,C=w.delta,A=w.offsetIndex,I=n;I<=x;I++)65535!==I&&(E=A<0?I:S[A+I-n],p.push({charCode:I,glyphId:E=E+C&65535}))}else{if(6!==d)return(0,ne.warn)("cmap table has unsupported format: "+d),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};var T=t.getUint16(),O=t.getUint16();for(I=0;I<O;I++){var E=t.getUint16();p.push({charCode:T+I,glyphId:E})}}for(p.sort(function(e,t){return e.charCode-t.charCode}),c=1;c<p.length;c++)p[c-1].charCode===p[c].charCode&&(p.splice(c,1),c--);return{platformId:i.platformId,encodingId:i.encodingId,mappings:p,hasShortCmap:e}}(o.cmap,m,this.isSymbolicFont,t.hasEncoding),D=L.platformId,N=L.encodingId,U=L.mappings,j=U.length;if(t.hasEncoding&&(3===D&&1===N||1===D&&0===N)||-1===D&&-1===N&&(0,se.getEncoding)(t.baseEncodingName)){var q=[];"MacRomanEncoding"!==t.baseEncodingName&&"WinAnsiEncoding"!==t.baseEncodingName||(q=(0,se.getEncoding)(t.baseEncodingName));for(var z=(0,oe.getGlyphsUnicode)(),G=0;G<256;G++){var H=(this.differences&&G in this.differences?this.differences:G in q&&""!==q[G]?q:se.StandardEncoding)[G];if(H){var W,X=fe(H,z);3===D&&1===N?W=z[X]:1===D&&0===N&&(W=se.MacRomanEncoding.indexOf(X));for(var V,Y=!1,K=0;K<j;++K)if(U[K].charCode===W){R[G]=U[K].glyphId,Y=!0;break}Y||!t.glyphNames||0<(V=-1===(V=t.glyphNames.indexOf(H))&&X!==H?t.glyphNames.indexOf(X):V)&&_(V)&&(R[G]=V)}}}else if(0===D&&0===N)for(var J=0;J<j;++J)R[U[J].charCode]=U[J].glyphId;else for(var Z=0;Z<j;++Z){var Q=U[Z].charCode;3===D&&61440<=Q&&Q<=61695&&(Q&=255),R[Q]=U[Z].glyphId}}0===R.length&&(R[0]=0);L=f-1,L=me(R,_,L=!d?0:L);if(this.toFontChar=L.toFontChar,o.cmap={tag:"cmap",data:be(L.charCodeToGlyphId,f)},o["OS/2"]&&function(e,t){t.pos=(t.start||0)+e.offset;var r=t.getUint16();t.skip(60);var a=t.getUint16();if(!(r<4&&768&a)){a=t.getUint16();return t.getUint16()<a?void 0:(t.skip(6),0!==t.getUint16()&&(e.data[8]=e.data[9]=0,1))}}(o["OS/2"],m)||(o["OS/2"]={tag:"OS/2",data:ve(t,L.charCodeToGlyphId,F)}),!c)try{var $,ee=new le.Stream(o["CFF "].data);($=new ie.CFFParser(ee,t,!0).parse()).duplicateFirstGlyph();var te=new ie.CFFCompiler($);o["CFF "].data=te.compile()}catch(e){(0,ne.warn)("Failed to compile font "+t.loadedName)}o.name?(te=b(o.name),o.name.data=we(e,te)):o.name={tag:"name",data:we(this.name)};var re,ae=new de(n.version);for(re in o)ae.addTable(re,o[re].data);return ae.toArray()},convert:function(e,s,t){t.fixedPitch=!1,t.builtInEncoding&&function(e,t){if(!e.hasIncludedToUnicodeMap&&!(e.hasEncoding||t===e.defaultEncoding||e.toUnicode instanceof T)){var r,a=[],n=(0,oe.getGlyphsUnicode)();for(r in t){var i=t[r],i=(0,I.getUnicodeForGlyph)(i,n);-1!==i&&(a[r]=String.fromCharCode(i))}e.toUnicode.amend(a)}}(t,t.builtInEncoding);var r=1;s instanceof ke&&(r=s.numGlyphs-1);var a=s.getGlyphMapping(t),n=me(a,s.hasGlyphId.bind(s),r);this.toFontChar=n.toFontChar;var c=s.numGlyphs;function i(e,t){for(var r in e)if(t===e[r])return 0|r;return n.charCodeToGlyphId[n.nextAvailableFontCharCode]=t,n.nextAvailableFontCharCode++}var o=s.seacs;if(o&&o.length){var l,u=t.fontMatrix||ne.FONT_IDENTITY_MATRIX,h=s.getCharset(),f=Object.create(null);for(l in o){var d=o[l|=0],p=se.StandardEncoding[d[2]],g=se.StandardEncoding[d[3]],m=h.indexOf(p),b=h.indexOf(g);if(!(m<0||b<0)){var v={x:d[0]*u[0]+d[1]*u[2]+u[4],y:d[0]*u[1]+d[1]*u[3]+u[5]},y=function(e,t){var r,a=null;for(r in e)t===e[r]&&(a=a||[]).push(0|r);return a}(a,l);if(y)for(var w=0,k=y.length;w<k;w++){var S=y[w],x=n.charCodeToGlyphId,C=i(x,m),x=i(x,b);f[S]={baseFontCharCode:C,accentFontCharCode:x,accentOffset:v}}}}t.seacMap=f}var A=1/(t.fontMatrix||ne.FONT_IDENTITY_MATRIX)[0],r=new de("OTTO");return r.addTable("CFF ",s.data),r.addTable("OS/2",ve(t,n.charCodeToGlyphId)),r.addTable("cmap",be(n.charCodeToGlyphId,c)),r.addTable("head","\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0_<õ\\0\\0"+E(A)+"\\0\\0\\0\\0\\v~'\\0\\0\\0\\0\\v~'\\0\\0"+E(t.descent)+"ÿ"+E(t.ascent)+O(t.italicAngle?2:0)+"\\0\\0\\0\\0\\0\\0\\0"),r.addTable("hhea","\\0\\0\\0"+E(t.ascent)+E(t.descent)+"\\0\\0ÿÿ\\0\\0\\0\\0\\0\\0"+E(t.capHeight)+E(Math.tan(t.italicAngle)*t.xHeight)+"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0"+O(c)),r.addTable("hmtx",function(){for(var e=s.charstrings,t=s.cff?s.cff.widths:null,r="\\0\\0\\0\\0",a=1,n=c;a<n;a++){var i,o=0;e?o="width"in(i=e[a-1])?i.width:0:t&&(o=Math.ceil(t[a]||0)),r+=O(o)+O(0)}return r}()),r.addTable("maxp","\\0\\0P\\0"+O(c)),r.addTable("name",we(e)),r.addTable("post",ye(t)),r.toArray()},get spaceWidth(){for(var e,t=["space","minus","one","i","I"],r=0,a=t.length;r<a;r++){var n=t[r];if(n in this.widths){e=this.widths[n];break}var i=(0,oe.getGlyphsUnicode)()[n],n=0;if((n=!(n=this.composite&&this.cMap.contains(i)?this.cMap.lookup(i):n)&&this.toUnicode?this.toUnicode.charCodeOf(i):n)<=0&&(n=i),e=this.widths[n])break}return e=e||this.defaultWidth,(0,ne.shadow)(this,"spaceWidth",e)},charToGlyph:function(e,t){var r,a=e;this.cMap&&this.cMap.contains(e)&&(a=this.cMap.lookup(e)),n=this.widths[a];var n=(0,ne.isNum)(n)?n:this.defaultWidth,i=this.vmetrics&&this.vmetrics[a],o=this.toUnicode.get(e)||this.fallbackToUnicode.get(e)||e;"number"==typeof o&&(o=String.fromCharCode(o));var s=e in this.toFontChar;a=this.toFontChar[e]||e,this.missingFile&&(".notdef"!==(c=this.differences[e]||this.defaultEncoding[e])&&""!==c||"Type1"!==this.type||(a=32),a=(0,I.mapSpecialUnicodeValues)(a)),this.isType3Font&&(r=a);var c=null;this.seacMap&&this.seacMap[e]&&(s=!0,a=(l=this.seacMap[e]).baseFontCharCode,c={fontChar:String.fromCodePoint(l.accentFontCharCode),offset:l.accentOffset});var l="";"number"==typeof a&&(a<=1114111?l=String.fromCodePoint(a):(0,ne.warn)("charToGlyph - invalid fontCharCode: ".concat(a)));a=this.glyphCache[e];return a&&a.matchesForCache(l,o,c,n,i,r,t,s)||(a=new d(l,o,c,n,i,r,t,s),this.glyphCache[e]=a),a},charsToGlyphs:function(e){var t=this.charsCache;if(t&&(a=t[e]))return a;var r,t=t||(this.charsCache=Object.create(null)),a=[],n=e,i=0;if(this.cMap)for(var o=Object.create(null);i<e.length;){this.cMap.readCharCode(e,i,o);var s=o.charcode,c=o.length;i+=c;var c=1===c&&32===e.charCodeAt(i-1),l=this.charToGlyph(s,c);a.push(l)}else for(i=0,r=e.length;i<r;++i)s=e.charCodeAt(i),l=this.charToGlyph(s,32===s),a.push(l);return t[n]=a},get glyphCacheValues(){return Object.values(this.glyphCache)}},v);function v(e,t,r){var a;this.name=e,this.loadedName=r.loadedName,this.isType3Font=r.isType3Font,this.missingFile=!1,this.glyphCache=Object.create(null),this.isSerifFont=!!(r.flags&f.Serif),this.isSymbolicFont=!!(r.flags&f.Symbolic),this.isMonospace=!!(r.flags&f.FixedPitch);var n=r.type,i=r.subtype;this.type=n,this.subtype=i;var o="sans-serif";if(this.isMonospace?o="monospace":this.isSerifFont&&(o="serif"),this.fallbackName=o,this.differences=r.differences,this.widths=r.widths,this.defaultWidth=r.defaultWidth,this.composite=r.composite,this.cMap=r.cMap,this.ascent=r.ascent/1e3,this.descent=r.descent/1e3,this.fontMatrix=r.fontMatrix,this.bbox=r.bbox,this.defaultEncoding=r.defaultEncoding,this.toUnicode=r.toUnicode,this.fallbackToUnicode=r.fallbackToUnicode||new k,this.toFontChar=[],"Type3"!==r.type){if(this.cidEncoding=r.cidEncoding,this.vertical=!!r.vertical,this.vertical&&(this.vmetrics=r.vmetrics,this.defaultVMetrics=r.defaultVMetrics),!t||t.isEmpty)return t&&(0,ne.warn)('Font file is empty in "'+e+'" ('+this.loadedName+")"),void this.fallbackToSystemFont();var s,o=l(function(e,t){var r,a,n=t.type,i=t.subtype,t=t.composite;(function(e){e=e.peekBytes(4);return 65536===(0,m.readUint32)(e,0)||"true"===(0,ne.bytesToString)(e)})(e)||ge(e)?r=t?"CIDFontType2":"TrueType":!function(e){e=e.peekBytes(4);return"OTTO"===(0,ne.bytesToString)(e)}(e)?!function(e){e=e.peekBytes(2);return 37===e[0]&&33===e[1]||128===e[0]&&1===e[1]}(e)?a=function(e){e=e.peekBytes(4);if(1<=e[0]&&1<=e[3]&&e[3]<=4)return!0;return!1}(e)?t?(r="CIDFontType0","CIDFontType0C"):(r="MMType1"===n?"MMType1":"Type1","Type1C"):((0,ne.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),r=n,i):r=t?"CIDFontType0":"MMType1"===n?"MMType1":"Type1":r=t?"CIDFontType2":"OpenType";return[r,a]}(t,r),2),n=o[0],i=o[1];n===this.type&&i===this.subtype||(0,ne.info)("Inconsistent font file Type/SubType, expected: "+"".concat(this.type,"/").concat(this.subtype," but found: ").concat(n,"/").concat(i,"."));try{switch(n){case"MMType1":(0,ne.info)("MMType1 font ("+e+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";var c="Type1C"===i||"CIDFontType0C"===i?new ke(t,r):new A(e,t,r);he(r),s=this.convert(e,c,r);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",s=this.checkAndRepair(e,t,r),this.isOpenType&&(he(r),n="OpenType");break;default:throw new ne.FormatError("Font ".concat(n," is not supported"))}}catch(e){return(0,ne.warn)(e),void this.fallbackToSystemFont()}this.data=s,this.fontType=w(n,i),this.fontMatrix=r.fontMatrix,this.widths=r.widths,this.defaultWidth=r.defaultWidth,this.toUnicode=r.toUnicode,this.seacMap=r.seacMap}else{for(a=0;a<256;a++)this.toFontChar[a]=this.differences[a]||r.defaultEncoding[a];this.fontType=ne.FontType.TYPE3}}function pe(e,t){t=(e<<8)+t;return 32768&t?t-65536:t}function O(e){return String.fromCharCode(e>>8&255,255&e)}function E(e){return 32767<e?e=32767:e<-32768&&(e=-32768),String.fromCharCode(e>>8&255,255&e)}function ge(e){e=e.peekBytes(4);return"ttcf"===(0,ne.bytesToString)(e)}function S(e,t,r){for(var a,n,i=[],o=0,s=e.length;o<s;o++)-1!==(a=(0,I.getUnicodeForGlyph)(e[o],t))&&(i[o]=a);for(n in r)-1!==(a=(0,I.getUnicodeForGlyph)(r[n],t))&&(i[+n]=a);return i}function me(e,t,r){var a,n=Object.create(null),i=[],o=0,s=h[o][0],c=h[o][1];for(a in e){var l=e[a|=0];if(t(l)){if(c<s){if(h.length<=++o){(0,ne.warn)("Ran out of space in font private use area.");break}s=h[o][0],c=h[o][1]}var u=s++;0===l&&(l=r),n[u]=l,i[a]=u}}return{toFontChar:i,charCodeToGlyphId:n,nextAvailableFontCharCode:s}}function be(e,t){for(var r,a=function(e,t){var r,a=[];for(r in e)e[r]>=t||a.push({fontCharCode:0|r,glyphId:e[r]});0===a.length&&a.push({fontCharCode:0,glyphId:0}),a.sort(function(e,t){return e.fontCharCode-t.fontCharCode});for(var n=[],i=a.length,o=0;o<i;){var s=a[o].fontCharCode,c=[a[o].glyphId];++o;for(var l=s;o<i&&l+1===a[o].fontCharCode&&(c.push(a[o].glyphId),++o,65535!=++l););n.push([s,l,c])}return n}(e,t),n=65535<a[a.length-1][1]?2:1,i="\\0\\0"+O(n)+"\\0\\0"+(0,ne.string32)(4+8*n),o=a.length-1;0<=o&&!(a[o][0]<=65535);--o);var s=o+1;a[o][0]<65535&&65535===a[o][1]&&(a[o][1]=65534);var c,l,e=a[o][1]<65535?1:0,u=s+e,t=de.getSearchParams(u,2),h="",f="",d="",p="",g="",m=0;for(o=0,r=s;o<r;o++){x=(c=a[o])[0],l=c[1],h+=O(x),f+=O(l);for(var b,v=!0,y=1,w=(b=c[2]).length;y<w;++y)if(b[y]!==b[y-1]+1){v=!1;break}if(v)d+=O(b[0]-x&65535),p+=O(0);else{var k=2*(u-o)+2*m;for(m+=l-x+1,d+=O(0),p+=O(k),y=0,w=b.length;y<w;++y)g+=O(b[y])}}0<e&&(f+="ÿÿ",h+="ÿÿ",d+="\\0",p+="\\0\\0");var e="\\0\\0"+O(2*u)+O(t.range)+O(t.entry)+O(t.rangeShift)+f+"\\0\\0"+h+d+p+g,S="",t="";if(1<n){for(i+="\\0\\0\\n"+(0,ne.string32)(4+8*n+4+e.length),S="",o=0,r=a.length;o<r;o++){var x=(c=a[o])[0],C=(b=c[2])[0];for(y=1,w=b.length;y<w;++y)b[y]!==b[y-1]+1&&(l=c[0]+y-1,S+=(0,ne.string32)(x)+(0,ne.string32)(l)+(0,ne.string32)(C),x=l+1,C=b[y]);S+=(0,ne.string32)(x)+(0,ne.string32)(c[1])+(0,ne.string32)(C)}t="\\0\\f\\0\\0"+(0,ne.string32)(S.length+16)+"\\0\\0\\0\\0"+(0,ne.string32)(S.length/12)}return i+"\\0"+O(e.length+4)+e+t+S}function ve(e,t,r){r=r||{unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};var a=0,n=0,i=0,o=0,s=null,c=0;if(t){for(var l in t){((l|=0)<s||!s)&&(s=l),c<l&&(c=l);l=(0,I.getUnicodeRangeFor)(l);if(l<32)a|=1<<l;else if(l<64)n|=1<<l-32;else if(l<96)i|=1<<l-64;else{if(!(l<123))throw new ne.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");o|=1<<l-96}}65535<c&&(c=65535)}else s=0,c=255;var u=e.bbox||[0,0,0,0],h=r.unitsPerEm||1/(e.fontMatrix||ne.FONT_IDENTITY_MATRIX)[0],t=e.ascentScaled?1:h/1e3,h=r.ascent||Math.round(t*(e.ascent||u[3])),t=r.descent||Math.round(t*(e.descent||u[1]));0<t&&0<e.descent&&u[1]<0&&(t=-t);u=r.yMax||h,r=-r.yMin||-t;return"\\0$ô\\0\\0\\0»\\0\\0\\0»\\0\\0ß\\x001\\0\\0\\0\\0"+String.fromCharCode(e.fixedPitch?9:0)+"\\0\\0\\0\\0\\0\\0"+(0,ne.string32)(a)+(0,ne.string32)(n)+(0,ne.string32)(i)+(0,ne.string32)(o)+"*21*"+O(e.italicAngle?1:0)+O(s||e.firstChar)+O(c||e.lastChar)+O(h)+O(t)+"\\0d"+O(u)+O(r)+"\\0\\0\\0\\0\\0\\0\\0\\0"+O(e.xHeight)+O(e.capHeight)+O(0)+O(s||e.firstChar)+"\\0"}function ye(e){var t=Math.floor(e.italicAngle*Math.pow(2,16));return"\\0\\0\\0"+(0,ne.string32)(t)+"\\0\\0\\0\\0"+(0,ne.string32)(e.fixedPitch)+"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0"}function we(e,t){for(var r=[(t=t||[[],[]])[0][0]||"Original licence",t[0][1]||e,t[0][2]||"Unknown",t[0][3]||"uniqueID",t[0][4]||e,t[0][5]||"Version 0.11",t[0][6]||"",t[0][7]||"Unknown",t[0][8]||"Unknown",t[0][9]||"Unknown"],a=[],n=0,i=r.length;n<i;n++){for(var o,s=[],c=0,l=(o=t[1][n]||r[n]).length;c<l;c++)s.push(O(o.charCodeAt(c)));a.push(s.join(""))}var u=[r,a],h=["\\0","\\0"],f=["\\0\\0","\\0"],d=["\\0\\0","\\t"],e=r.length*h.length,p="\\0\\0"+O(e)+O(12*e+6),g=0;for(n=0,i=h.length;n<i;n++){var m=u[n];for(c=0,l=m.length;c<l;c++)o=m[c],p+=h[n]+f[n]+d[n]+O(c)+O(o.length)+O(g),g+=o.length}return p+=r.join("")+a.join("")}t.Font=r;x.prototype={charsToGlyphs:function(){return[]},exportData:function(){return{error:this.error}}},r=x;function x(e){this.error=e,this.loadedName="g_font_error",this.missingFile=!0}function C(e,t,r){var a,n,i=Object.create(null),o=!!(e.flags&f.Symbolic);if(e.baseEncodingName)for(n=(0,se.getEncoding)(e.baseEncodingName),a=0;a<n.length;a++)u=r.indexOf(n[a]),i[a]=0<=u?u:0;else if(o)for(a in t)i[a]=t[a];else for(n=se.StandardEncoding,a=0;a<n.length;a++)u=r.indexOf(n[a]),i[a]=0<=u?u:0;var s=e.differences;if(s)for(a in s){var c,l,u,h=s[a];-1!==(u=r.indexOf(h))||(l=fe(h,c=c||(0,oe.getGlyphsUnicode)()))!==h&&(u=r.indexOf(l)),i[a]=0<=u?u:0}return i}t.ErrorFont=r;var A=(F.prototype={get numGlyphs(){return this.charstrings.length+1},getCharset:function(){for(var e=[".notdef"],t=this.charstrings,r=0;r<t.length;r++)e.push(t[r].glyphName);return e},getGlyphMapping:function(e){var t=this.charstrings;if(e.composite){for(var r=Object.create(null),a=0,n=t.length;a<n;a++)r[e.cMap.charCodeOf(a)]=a+1;return r}for(var i=[".notdef"],o=0;o<t.length;o++)i.push(t[o].glyphName);var s=e.builtInEncoding;if(s){var c,l=Object.create(null);for(c in s)0<=(o=i.indexOf(s[c]))&&(l[c]=o)}return C(e,l,i)},hasGlyphId:function(e){return!(e<0||e>=this.numGlyphs)&&(0===e||0<this.charstrings[e-1].charstring.length)},getSeacs:function(e){for(var t=[],r=0,a=e.length;r<a;r++){var n=e[r];n.seac&&(t[r+1]=n.seac)}return t},getType2Charstrings:function(e){for(var t=[],r=0,a=e.length;r<a;r++)t.push(e[r].charstring);return t},getType2Subrs:function(e){for(var t=0,r=e.length,t=r<1133?107:r<33769?1131:32768,a=[],n=0;n<t;n++)a.push([11]);for(n=0;n<r;n++)a.push(e[n]);return a},wrap:function(e,t,r,a,n){var i=new ie.CFF;i.header=new ie.CFFHeader(1,0,4,4),i.names=[e];var o=new ie.CFFTopDict;o.setByName("version",391),o.setByName("Notice",392),o.setByName("FullName",393),o.setByName("FamilyName",394),o.setByName("Weight",395),o.setByName("Encoding",null),o.setByName("FontMatrix",n.fontMatrix),o.setByName("FontBBox",n.bbox),o.setByName("charset",null),o.setByName("CharStrings",null),o.setByName("Private",null),i.topDict=o;var s=new ie.CFFStrings;s.add("Version 0.11"),s.add("See original notice"),s.add(e),s.add(e),s.add("Medium"),i.strings=s,i.globalSubrIndex=new ie.CFFIndex;for(var c,l=t.length,u=[".notdef"],h=0;h<l;h++){var f=r[h].glyphName;-1===ie.CFFStandardStrings.indexOf(f)&&s.add(f),u.push(f)}i.charset=new ie.CFFCharset(!1,0,u);var d=new ie.CFFIndex;for(d.add([139,14]),h=0;h<l;h++)d.add(t[h]);i.charStrings=d;var p=new ie.CFFPrivateDict;p.setByName("Subrs",null);var g=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(h=0,c=g.length;h<c;h++){var m=g[h];if(m in n.privateData){var b=n.privateData[m];if(Array.isArray(b))for(var v=b.length-1;0<v;v--)b[v]-=b[v-1];p.setByName(m,b)}}i.topDict.privateDict=p;var y=new ie.CFFIndex;for(h=0,c=a.length;h<c;h++)y.add(a[h]);return p.subrsIndex=y,new ie.CFFCompiler(i).compile()}},F);function P(e,t,r){for(var a,n=e.length,i=t.length,o=n-i,s=r,c=!1;s<o;){for(a=0;a<i&&e[s+a]===t[a];)a++;if(i<=a){for(s+=a;s<n&&(0,m.isWhiteSpace)(e[s]);)s++;c=!0;break}s++}return{found:c,length:s}}function F(e,t,r){var a=r.length1,n=(r.length2,t.peekBytes(6)),i=128===n[0]&&1===n[1];i&&(t.skip(6),a=n[5]<<24|n[4]<<16|n[3]<<8|n[2]);a=function(e,t){var r,a,n,i,o=[101,101,120,101,99],s=e.pos;try{a=(r=e.getBytes(t)).length}catch(e){if(e instanceof m.MissingDataException)throw e}if(a===t&&(i=P(r,o,t-2*o.length)).found&&i.length===t)return{stream:new le.Stream(r),length:t};for((0,ne.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),e.pos=s;;){if(0===(i=P(e.peekBytes(2048),o,0)).length)break;if(e.pos+=i.length,i.found){n=e.pos-s;break}}return e.pos=s,n?{stream:new le.Stream(e.getBytes(n)),length:n}:((0,ne.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new le.Stream(e.getBytes(t)),length:t})}(t,a);new c.Type1Parser(a.stream,!1,!0).extractFontHeader(r),i&&((n=t.getBytes(6))[5],n[4],n[3],n[2]);var o,n=(i=(i=t).getBytes(),{stream:new le.Stream(i),length:i.length}),s=new c.Type1Parser(n.stream,!0,!0).extractFontProgram(r);for(o in s.properties)r[o]=s.properties[o];t=s.charstrings,i=this.getType2Charstrings(t),n=this.getType2Subrs(s.subrs);this.charstrings=t,this.data=this.wrap(e,i,this.charstrings,n,r),this.seacs=this.getSeacs(s.charstrings)}var ke=(R.prototype={get numGlyphs(){return this.cff.charStrings.count},getCharset:function(){return this.cff.charset.charset},getGlyphMapping:function(){var e,t=this.cff,r=this.properties,a=t.charset.charset;if(r.composite){var n=Object.create(null);if(t.isCIDFont)for(e=0;e<a.length;e++){var i=a[e];n[r.cMap.charCodeOf(i)]=e}else for(e=0;e<t.charStrings.count;e++)n[r.cMap.charCodeOf(e)]=e;return n}return n=C(r,t.encoding?t.encoding.encoding:null,a)},hasGlyphId:function(e){return this.cff.hasGlyphId(e)}},R);function R(t,r){this.properties=r;var e=new ie.CFFParser(t,r,!0);this.cff=e.parse(),this.cff.duplicateFirstGlyph();e=new ie.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=e.compile()}catch(e){(0,ne.warn)("Failed to compile font "+r.loadedName),this.data=t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CFFFDSelect=t.CFFCompiler=t.CFFPrivateDict=t.CFFTopDict=t.CFFCharset=t.CFFIndex=t.CFFStrings=t.CFFHeader=t.CFF=t.CFFParser=t.CFFStandardStrings=void 0;var k=r(5),f=r(224),S=r(225),a=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];t.CFFStandardStrings=a;var d,p,r=(d=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],p=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn:function(e,t){e[t-2]=e[t-2]+e[t-1]}},{id:"sub",min:2,stackDelta:-1,stackFn:function(e,t){e[t-2]=e[t-2]-e[t-1]}},{id:"div",min:2,stackDelta:-1,stackFn:function(e,t){e[t-2]=e[t-2]/e[t-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn:function(e,t){e[t-1]=-e[t-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn:function(e,t){e[t-2]=e[t-2]*e[t-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}],n.prototype={parse:function(){var e=this.properties,t=new g;this.cff=t;var r=this.parseHeader(),a=this.parseIndex(r.endPos),n=this.parseIndex(a.endPos),i=this.parseIndex(n.endPos),o=this.parseIndex(i.endPos),n=this.parseDict(n.obj.get(0)),n=this.createDict(y,n,t.strings);t.header=r.obj,t.names=this.parseNameIndex(a.obj),t.strings=this.parseStringIndex(i.obj),t.topDict=n,t.globalSubrIndex=o.obj,this.parsePrivateDict(t.topDict),t.isCIDFont=n.hasName("ROS");a=n.getByName("CharStrings"),i=this.parseIndex(a).obj,a=n.getByName("FontMatrix");a&&(e.fontMatrix=a);var s,c,a=n.getByName("FontBBox");if(a&&(e.ascent=Math.max(a[3],a[1]),e.descent=Math.min(a[1],a[3]),e.ascentScaled=!0),t.isCIDFont){for(var l=this.parseIndex(n.getByName("FDArray")).obj,u=0,h=l.count;u<h;++u){var f=l.get(u),f=this.createDict(y,this.parseDict(f),t.strings);this.parsePrivateDict(f),t.fdArray.push(f)}c=null,s=this.parseCharsets(n.getByName("charset"),i.count,t.strings,!0),t.fdSelect=this.parseFDSelect(n.getByName("FDSelect"),i.count)}else s=this.parseCharsets(n.getByName("charset"),i.count,t.strings,!1),c=this.parseEncoding(n.getByName("Encoding"),e,t.strings,s.charset);t.charset=s,t.encoding=c;n=this.parseCharStrings({charStrings:i,localSubrIndex:n.privateDict.subrsIndex,globalSubrIndex:o.obj,fdSelect:t.fdSelect,fdArray:t.fdArray,privateDict:n.privateDict});return t.charStrings=n.charStrings,t.seacs=n.seacs,t.widths=n.widths,t},parseHeader:function(){for(var e=this.bytes,t=e.length,r=0;r<t&&1!==e[r];)++r;if(t<=r)throw new k.FormatError("Invalid CFF header");0!==r&&((0,k.info)("cff data is shifted"),e=e.subarray(r),this.bytes=e);var a=e[0],n=e[1],i=e[2],o=e[3];return{obj:new s(a,n,i,o),endPos:i}},parseDict:function(i){var o=0;function e(){var e=i[o++];return 30===e?function(){var e="",t=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],r=i.length;for(;o<r;){var a=i[o++],n=a>>4,a=15&a;if(15==n)break;if(e+=t[n],15==a)break;e+=t[a]}return parseFloat(e)}():28===e?e=((e=i[o++])<<24|i[o++]<<16)>>16:29===e?e=(e=(e=(e=i[o++])<<8|i[o++])<<8|i[o++])<<8|i[o++]:32<=e&&e<=246?e-139:247<=e&&e<=250?256*(e-247)+i[o++]+108:251<=e&&e<=254?-256*(e-251)-i[o++]-108:((0,k.warn)('CFFParser_parseDict: "'+e+'" is a reserved command.'),NaN)}for(var t=[],r=[],o=0,a=i.length;o<a;){var n=i[o];n<=21?(12===n&&(n=n<<8|i[++o]),r.push([n,t]),t=[],++o):t.push(e())}return r},parseIndex:function(e){var t=new m,r=this.bytes,a=r[e++]<<8|r[e++],n=[],i=e;if(0!=a){for(var o=r[e++],s=e+(1+a)*o-1,c=0,l=1+a;c<l;++c){for(var u=0,h=0;h<o;++h)u<<=8,u+=r[e++];n.push(s+u)}i=n[a]}for(c=0,l=n.length-1;c<l;++c){var f=n[c],d=n[c+1];t.add(r.subarray(f,d))}return{obj:t,endPos:i}},parseNameIndex:function(e){for(var t=[],r=0,a=e.count;r<a;++r){var n=e.get(r);t.push((0,k.bytesToString)(n))}return t},parseStringIndex:function(e){for(var t=new o,r=0,a=e.count;r<a;++r){var n=e.get(r);t.add((0,k.bytesToString)(n))}return t},createDict:function(e,t,r){for(var a=new e(r),n=0,i=t.length;n<i;++n){var o=t[n],s=o[0],o=o[1];a.setByKey(s,o)}return a},parseCharString:function(e,t,r,a){if(!t||10<e.callDepth)return!1;for(var n=e.stackSize,i=e.stack,o=t.length,s=0;s<o;){var c=t[s++],l=null;if(12===c){var u=t[s++];0===u?(t[s-2]=139,t[s-1]=22,n=0):l=p[u]}else if(28===c)i[n]=(t[s]<<24|t[s+1]<<16)>>16,s+=2,n++;else if(14===c){if(4<=n&&(n-=4,this.seacAnalysisEnabled))return e.seac=i.slice(n,n+4),!1;l=d[c]}else if(32<=c&&c<=246)i[n]=c-139,n++;else if(247<=c&&c<=254)i[n]=c<251?(c-247<<8)+t[s]+108:-(c-251<<8)-t[s]-108,s++,n++;else if(255===c)i[n]=(t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3])/65536,s+=4,n++;else if(19===c||20===c)e.hints+=n>>1,s+=e.hints+7>>3,n%=2,l=d[c];else{if(10===c||29===c){var h=10===c?r:a;if(!h)return(0,k.warn)("Missing subrsIndex for "+(l=d[c]).id),!1;u=32768;h.count<1240?u=107:h.count<33900&&(u=1131);u=i[--n]+u;if(u<0||u>=h.count||isNaN(u))return(0,k.warn)("Out of bounds subrIndex for "+(l=d[c]).id),!1;if(e.stackSize=n,e.callDepth++,!this.parseCharString(e,h.get(u),r,a))return!1;e.callDepth--,n=e.stackSize;continue}if(11===c)return e.stackSize=n,!0;l=d[c]}if(l){if(l.stem&&(e.hints+=n>>1,3===c||23===c?e.hasVStems=!0:!e.hasVStems||1!==c&&18!==c||((0,k.warn)("CFF stem hints are in wrong order"),t[s-1]=1===c?3:23)),"min"in l&&!e.undefStack&&n<l.min)return(0,k.warn)("Not enough parameters for "+l.id+"; actual: "+n+", expected: "+l.min),!1;e.firstStackClearing&&l.stackClearing&&(e.firstStackClearing=!1,2<=(n-=l.min)&&l.stem?n%=2:1<n&&(0,k.warn)("Found too many parameters for stack-clearing command"),0<n&&0<=i[n-1]&&(e.width=i[n-1])),"stackDelta"in l?("stackFn"in l&&l.stackFn(i,n),n+=l.stackDelta):l.stackClearing?n=0:l.resetStack?(n=0,e.undefStack=!1):l.undefStack&&(e.undefStack=!(n=0),e.firstStackClearing=!1)}}return e.stackSize=n,!0},parseCharStrings:function(e){for(var t=e.charStrings,r=e.localSubrIndex,a=e.globalSubrIndex,n=e.fdSelect,i=e.fdArray,o=e.privateDict,s=[],c=[],l=t.count,u=0;u<l;u++){var h,f=t.get(u),d={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1},p=!0,g=null,m=o;n&&i.length?(-1===(h=n.getFDIndex(u))&&((0,k.warn)("Glyph index is not in fd select."),p=!1),h>=i.length&&((0,k.warn)("Invalid fd index for glyph index."),p=!1),p&&(g=(m=i[h].privateDict).subrsIndex)):r&&(g=r),p=p&&this.parseCharString(d,f,g,a),null!==d.width?(g=m.getByName("nominalWidthX"),c[u]=g+d.width):(m=m.getByName("defaultWidthX"),c[u]=m),null!==d.seac&&(s[u]=d.seac),p||t.set(u,new Uint8Array([14]))}return{charStrings:t,seacs:s,widths:c}},emptyPrivateDictionary:function(e){var t=this.createDict(A,[],e.strings);e.setByKey(18,[0,0]),e.privateDict=t},parsePrivateDict:function(e){var t,r,a;e.hasName("Private")?(t=e.getByName("Private"),Array.isArray(t)&&2===t.length?(r=t[0],a=t[1],0===r||a>=this.bytes.length?this.emptyPrivateDictionary(e):(t=this.bytes.subarray(a,a+r),r=this.parseDict(t),t=this.createDict(A,r,e.strings),(e.privateDict=t).getByName("Subrs")&&(a=a+(r=t.getByName("Subrs")),0===r||a>=this.bytes.length?this.emptyPrivateDictionary(e):(a=this.parseIndex(a),t.subrsIndex=a.obj)))):e.removeByName("Private")):this.emptyPrivateDictionary(e)},parseCharsets:function(e,t,r,a){if(0===e)return new O(!0,T.ISO_ADOBE,f.ISOAdobeCharset);if(1===e)return new O(!0,T.EXPERT,f.ExpertCharset);if(2===e)return new O(!0,T.EXPERT_SUBSET,f.ExpertSubsetCharset);var n,i,o,s=this.bytes,c=e,l=s[e++],u=[a?0:".notdef"];switch(--t,l){case 0:for(o=0;o<t;o++)n=s[e++]<<8|s[e++],u.push(a?n:r.get(n));break;case 1:for(;u.length<=t;)for(n=s[e++]<<8|s[e++],i=s[e++],o=0;o<=i;o++)u.push(a?n++:r.get(n++));break;case 2:for(;u.length<=t;)for(n=s[e++]<<8|s[e++],i=s[e++]<<8|s[e++],o=0;o<=i;o++)u.push(a?n++:r.get(n++));break;default:throw new k.FormatError("Unknown charset format")}var h=e,h=s.subarray(c,h);return new O(!1,l,u,h)},parseEncoding:function(a,e,n,i){var o=Object.create(null),s=this.bytes,t=!1,r=null;if(0===a||1===a)for(var t=!0,c=a,l=a?S.ExpertEncoding:S.StandardEncoding,u=0,h=i.length;u<h;u++){var f=l.indexOf(i[u]);-1!==f&&(o[f]=u)}else{var d=a;switch(127&(c=s[a++])){case 0:var p=s[a++];for(u=1;u<=p;u++)o[s[a++]]=u;break;case 1:var g=s[a++],m=1;for(u=0;u<g;u++)for(var b=s[a++],v=s[a++],y=b;y<=b+v;y++)o[y]=m++;break;default:throw new k.FormatError("Unknown encoding format: ".concat(c," in CFF"))}var w=a;128&c&&(s[d]&=127,function(){var e=s[a++];for(u=0;u<e;u++){var t=s[a++],r=(s[a++]<<8)+(255&s[a++]);o[t]=i.indexOf(n.get(r))}}()),r=s.subarray(d,w)}return new E(t,c&=127,o,r)},parseFDSelect:function(e,t){var r=this.bytes,a=r[e++],n=[];switch(a){case 0:for(s=0;s<t;++s){var i=r[e++];n.push(i)}break;case 3:for(var o=r[e++]<<8|r[e++],s=0;s<o;++s){var c=r[e++]<<8|r[e++];0===s&&0!==c&&((0,k.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),c=0);for(var l=r[e++],u=r[e]<<8|r[e+1],h=c;h<u;++h)n.push(l)}e+=2;break;default:throw new k.FormatError('parseFDSelect: Unknown format "'.concat(a,'".'))}if(n.length!==t)throw new k.FormatError("parseFDSelect: Invalid font data.");return new P(a,n)}},n);function n(e,t,r){this.bytes=e.getBytes(),this.properties=t,this.seacAnalysisEnabled=!!r}t.CFFParser=r;var g=(i.prototype={duplicateFirstGlyph:function(){var e;65535<=this.charStrings.count?(0,k.warn)("Not enough space in charstrings to duplicate first glyph."):(e=this.charStrings.get(0),this.charStrings.add(e),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0]))},hasGlyphId:function(e){return!(e<0||e>=this.charStrings.count)&&0<this.charStrings.get(e).length}},i);function i(){this.header=null,this.names=[],this.topDict=null,this.strings=new o,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}t.CFF=g;var s=function(e,t,r,a){this.major=e,this.minor=t,this.hdrSize=r,this.offSize=a};t.CFFHeader=s;var o=(c.prototype={get:function(e){return 0<=e&&e<=390?a[e]:e-391<=this.strings.length?this.strings[e-391]:a[0]},getSID:function(e){var t=a.indexOf(e);return-1!==t?t:-1!==(t=this.strings.indexOf(e))?t+391:-1},add:function(e){this.strings.push(e)},get count(){return this.strings.length}},c);function c(){this.strings=[]}t.CFFStrings=o;var m=(l.prototype={add:function(e){this.length+=e.length,this.objects.push(e)},set:function(e,t){this.length+=t.length-this.objects[e].length,this.objects[e]=t},get:function(e){return this.objects[e]},get count(){return this.objects.length}},l);function l(){this.objects=[],this.length=0}t.CFFIndex=m;var u=(h.prototype={setByKey:function(e,t){if(!(e in this.keyToNameMap))return!1;var r=t.length;if(0===r)return!0;for(var a=0;a<r;a++)if(isNaN(t[a]))return(0,k.warn)('Invalid CFFDict value: "'+t+'" for key "'+e+'".'),!0;var n=this.types[e];return"num"!==n&&"sid"!==n&&"offset"!==n||(t=t[0]),this.values[e]=t,!0},setByName:function(e,t){if(!(e in this.nameToKeyMap))throw new k.FormatError('Invalid dictionary name "'.concat(e,'"'));this.values[this.nameToKeyMap[e]]=t},hasName:function(e){return this.nameToKeyMap[e]in this.values},getByName:function(e){if(!(e in this.nameToKeyMap))throw new k.FormatError("Invalid dictionary name ".concat(e,'"'));e=this.nameToKeyMap[e];return(e in this.values?this.values:this.defaults)[e]},removeByName:function(e){delete this.values[this.nameToKeyMap[e]]}},h.createTables=function(e){for(var t={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]},r=0,a=e.length;r<a;++r){var n=e[r],i=Array.isArray(n[0])?(n[0][0]<<8)+n[0][1]:n[0];t.keyToNameMap[i]=n[1],t.nameToKeyMap[n[1]]=i,t.types[i]=n[2],t.defaults[i]=n[3],t.opcodes[i]=Array.isArray(n[0])?n[0]:[n[0]],t.order.push(i)}return t},h);function h(e,t){this.keyToNameMap=e.keyToNameMap,this.nameToKeyMap=e.nameToKeyMap,this.defaults=e.defaults,this.types=e.types,this.opcodes=e.opcodes,this.order=e.order,this.strings=t,this.values=Object.create(null)}var b,v,y=(b=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]],v=null,w.prototype=Object.create(u.prototype),w);function w(e){null===v&&(v=u.createTables(b)),u.call(this,v,e),this.privateDict=null}t.CFFTopDict=y;var x,C,A=(x=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]],C=null,I.prototype=Object.create(u.prototype),I);function I(e){null===C&&(C=u.createTables(x)),u.call(this,C,e),this.subrsIndex=null}t.CFFPrivateDict=A;var T={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2},O=function(e,t,r,a){this.predefined=e,this.format=t,this.charset=r,this.raw=a};t.CFFCharset=O;var E=function(e,t,r,a){this.predefined=e,this.format=t,this.encoding=r,this.raw=a},P=(F.prototype={getFDIndex:function(e){return e<0||e>=this.fdSelect.length?-1:this.fdSelect[e]}},F);function F(e,t){this.format=e,this.fdSelect=t}t.CFFFDSelect=P;var R=(_.prototype={isTracking:function(e){return e in this.offsets},track:function(e,t){if(e in this.offsets)throw new k.FormatError("Already tracking location of ".concat(e));this.offsets[e]=t},offset:function(e){for(var t in this.offsets)this.offsets[t]+=e},setEntryLocation:function(e,t,r){if(!(e in this.offsets))throw new k.FormatError("Not tracking location of ".concat(e));for(var a=r.data,n=this.offsets[e],i=0,o=t.length;i<o;++i){var s=5*i+n,c=s+1,l=s+2,u=s+3,h=s+4;if(29!==a[s]||0!==a[c]||0!==a[l]||0!==a[u]||0!==a[h])throw new k.FormatError("writing to an offset that is not empty");var f=t[i];a[s]=29,a[c]=f>>24&255,a[l]=f>>16&255,a[u]=f>>8&255,a[h]=255&f}}},_);function _(){this.offsets=Object.create(null)}B.prototype={compile:function(){var e=this.cff,t={data:[],length:0,add:function(e){this.data=this.data.concat(e),this.length=this.data.length}},r=this.compileHeader(e.header);t.add(r);var a=this.compileNameIndex(e.names);if(t.add(a),e.isCIDFont&&e.topDict.hasName("FontMatrix")){var n=e.topDict.getByName("FontMatrix");e.topDict.removeByName("FontMatrix");for(var i=0,o=e.fdArray.length;i<o;i++){var s=e.fdArray[i],c=n.slice(0);s.hasName("FontMatrix")&&(c=k.Util.transform(c,s.getByName("FontMatrix"))),s.setByName("FontMatrix",c)}}e.topDict.setByName("charset",0);var l=this.compileTopDicts([e.topDict],t.length,e.isCIDFont);t.add(l.output);r=l.trackers[0],a=this.compileStringIndex(e.strings.strings);t.add(a);a=this.compileIndex(e.globalSubrIndex);t.add(a),e.encoding&&e.topDict.hasName("Encoding")&&(e.encoding.predefined?r.setEntryLocation("Encoding",[e.encoding.format],t):(u=this.compileEncoding(e.encoding),r.setEntryLocation("Encoding",[t.length],t),t.add(u)));var u=this.compileCharset(e.charset,e.charStrings.count,e.strings,e.isCIDFont);r.setEntryLocation("charset",[t.length],t),t.add(u);u=this.compileCharStrings(e.charStrings);return r.setEntryLocation("CharStrings",[t.length],t),t.add(u),e.isCIDFont&&(r.setEntryLocation("FDSelect",[t.length],t),u=this.compileFDSelect(e.fdSelect),t.add(u),l=this.compileTopDicts(e.fdArray,t.length,!0),r.setEntryLocation("FDArray",[t.length],t),t.add(l.output),l=l.trackers,this.compilePrivateDicts(e.fdArray,l,t)),this.compilePrivateDicts([e.topDict],[r],t),t.add([0]),t.data},encodeNumber:function(e){return parseFloat(e)!==parseInt(e,10)||isNaN(e)?this.encodeFloat(e):this.encodeInteger(e)},encodeFloat:function(e){var t=e.toString(),r=/\\.(\\d*?)(?:9{5,20}|0{5,20})\\d{0,2}(?:e(.+)|$)/.exec(t);r&&(r=parseFloat("1e"+((r[2]?+r[2]:0)+r[1].length)),t=(Math.round(e*r)/r).toString());for(var a="",n=0,i=t.length;n<i;++n){var o=t[n];a+="e"===o?"-"===t[++n]?"c":"b":"."===o?"a":"-"===o?"e":o}var s=[30];for(n=0,i=(a+=1&a.length?"f":"ff").length;n<i;n+=2)s.push(parseInt(a.substring(n,n+2),16));return s},encodeInteger:function(e){e=-107<=e&&e<=107?[e+139]:108<=e&&e<=1131?[247+((e-=108)>>8),255&e]:-1131<=e&&e<=-108?[251+((e=-e-108)>>8),255&e]:-32768<=e&&e<=32767?[28,e>>8&255,255&e]:[29,e>>24&255,e>>16&255,e>>8&255,255&e];return e},compileHeader:function(e){return[e.major,e.minor,e.hdrSize,e.offSize]},compileNameIndex:function(e){for(var t=new m,r=0,a=e.length;r<a;++r){for(var n=e[r],i=Math.min(n.length,127),o=new Array(i),s=0;s<i;s++){var c=n[s];(c<"!"||"~"<c||"["===c||"]"===c||"("===c||")"===c||"{"===c||"}"===c||"<"===c||">"===c||"/"===c||"%"===c)&&(c="_"),o[s]=c}""===(o=o.join(""))&&(o="Bad_Font_Name"),t.add((0,k.stringToBytes)(o))}return this.compileIndex(t)},compileTopDicts:function(e,t,r){for(var a=[],n=new m,i=0,o=e.length;i<o;++i){var s=e[i];r&&(s.removeByName("CIDFontVersion"),s.removeByName("CIDFontRevision"),s.removeByName("CIDFontType"),s.removeByName("CIDCount"),s.removeByName("UIDBase"));var c=new R,s=this.compileDict(s,c);a.push(c),n.add(s),c.offset(t)}return{trackers:a,output:n=this.compileIndex(n,a)}},compilePrivateDicts:function(e,t,r){for(var a=0,n=e.length;a<n;++a){var i=e[a],o=i.privateDict;if(!o||!i.hasName("Private"))throw new k.FormatError("There must be a private dictionary.");var s=new R,c=this.compileDict(o,s),i=r.length;s.offset(i),c.length||(i=0),t[a].setEntryLocation("Private",[c.length,i],r),r.add(c),o.subrsIndex&&o.hasName("Subrs")&&(o=this.compileIndex(o.subrsIndex),s.setEntryLocation("Subrs",[c.length],r),r.add(o))}},compileDict:function(e,t){for(var r=[],a=e.order,n=0;n<a.length;++n){var i=a[n];if(i in e.values){var o=e.values[i],s=e.types[i];if(Array.isArray(s)||(s=[s]),0!==(o=!Array.isArray(o)?[o]:o).length){for(var c=0,l=s.length;c<l;++c){var u=s[c],h=o[c];switch(u){case"num":case"sid":r=r.concat(this.encodeNumber(h));break;case"offset":var f=e.keyToNameMap[i];t.isTracking(f)||t.track(f,r.length),r=r.concat([29,0,0,0,0]);break;case"array":case"delta":for(var r=r.concat(this.encodeNumber(h)),d=1,p=o.length;d<p;++d)r=r.concat(this.encodeNumber(o[d]));break;default:throw new k.FormatError("Unknown data type of ".concat(u))}}r=r.concat(e.opcodes[i])}}}return r},compileStringIndex:function(e){for(var t=new m,r=0,a=e.length;r<a;++r)t.add((0,k.stringToBytes)(e[r]));return this.compileIndex(t)},compileGlobalSubrIndex:function(){var e=this.cff.globalSubrIndex;this.out.writeByteArray(this.compileIndex(e))},compileCharStrings:function(e){for(var t=new m,r=0;r<e.count;r++){var a=e.get(r);0!==a.length?t.add(a):t.add(new Uint8Array([139,14]))}return this.compileIndex(t)},compileCharset:function(e,t,r,a){t-=1;if(a)n=new Uint8Array([2,0,0,t>>8&255,255&t]);else for(var n,i=(n=new Uint8Array(1+2*t))[0]=0,o=e.charset.length,s=!1,c=1;c<n.length;c+=2){var l,u=0;i<o&&(l=e.charset[i++],-1===(u=r.getSID(l))&&(u=0,s||(s=!0,(0,k.warn)("Couldn't find ".concat(l," in CFF strings"))))),n[c]=u>>8&255,n[c+1]=255&u}return this.compileTypedArray(n)},compileEncoding:function(e){return this.compileTypedArray(e.raw)},compileFDSelect:function(e){var t,r=e.format;switch(r){case 0:for((t=new Uint8Array(1+e.fdSelect.length))[0]=r,i=0;i<e.fdSelect.length;i++)t[i+1]=e.fdSelect[i];break;case 3:for(var a=e.fdSelect[0],n=[r,0,0,0,0,a],i=1;i<e.fdSelect.length;i++){var o=e.fdSelect[i];o!==a&&(n.push(i>>8&255,255&i,o),a=o)}var s=(n.length-3)/3;n[1]=s>>8&255,n[2]=255&s,n.push(i>>8&255,255&i),t=new Uint8Array(n)}return this.compileTypedArray(t)},compileTypedArray:function(e){for(var t=[],r=0,a=e.length;r<a;++r)t[r]=e[r];return t},compileIndex:function(e,t){t=t||[];var r=e.objects,a=r.length;if(0===a)return[0,0,0];for(var n,i=[a>>8&255,255&a],o=1,s=0;s<a;++s)o+=r[s].length;i.push(n=o<256?1:o<65536?2:o<16777216?3:4);var c=1;for(s=0;s<a+1;s++)1===n?i.push(255&c):2===n?i.push(c>>8&255,255&c):3===n?i.push(c>>16&255,c>>8&255,255&c):i.push(c>>>24&255,c>>16&255,c>>8&255,255&c),r[s]&&(c+=r[s].length);for(s=0;s<a;s++){t[s]&&t[s].offset(i.length);for(var l=0,u=r[s].length;l<u;l++)i.push(r[s][l])}return i}},r=B;function B(e){this.cff=e}t.CFFCompiler=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpertSubsetCharset=t.ExpertCharset=t.ISOAdobeCharset=void 0;t.ISOAdobeCharset=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"];t.ExpertCharset=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];t.ExpertSubsetCharset=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEncoding=function(e){switch(e){case"WinAnsiEncoding":return s;case"StandardEncoding":return o;case"MacRomanEncoding":return i;case"SymbolSetEncoding":return c;case"ZapfDingbatsEncoding":return l;case"ExpertEncoding":return a;case"MacExpertEncoding":return n;default:return null}},t.ExpertEncoding=t.ZapfDingbatsEncoding=t.SymbolSetEncoding=t.MacRomanEncoding=t.StandardEncoding=t.WinAnsiEncoding=void 0;var a=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];t.ExpertEncoding=a;var n=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],i=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];t.MacRomanEncoding=i;var o=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];t.StandardEncoding=o;var s=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];t.WinAnsiEncoding=s;var c=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];t.SymbolSetEncoding=c;var l=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];t.ZapfDingbatsEncoding=l},function(e,t,r){var a=r(201).getLookupTableFactory,r=a(function(e){e.A=65,e.AE=198,e.AEacute=508,e.AEmacron=482,e.AEsmall=63462,e.Aacute=193,e.Aacutesmall=63457,e.Abreve=258,e.Abreveacute=7854,e.Abrevecyrillic=1232,e.Abrevedotbelow=7862,e.Abrevegrave=7856,e.Abrevehookabove=7858,e.Abrevetilde=7860,e.Acaron=461,e.Acircle=9398,e.Acircumflex=194,e.Acircumflexacute=7844,e.Acircumflexdotbelow=7852,e.Acircumflexgrave=7846,e.Acircumflexhookabove=7848,e.Acircumflexsmall=63458,e.Acircumflextilde=7850,e.Acute=63177,e.Acutesmall=63412,e.Acyrillic=1040,e.Adblgrave=512,e.Adieresis=196,e.Adieresiscyrillic=1234,e.Adieresismacron=478,e.Adieresissmall=63460,e.Adotbelow=7840,e.Adotmacron=480,e.Agrave=192,e.Agravesmall=63456,e.Ahookabove=7842,e.Aiecyrillic=1236,e.Ainvertedbreve=514,e.Alpha=913,e.Alphatonos=902,e.Amacron=256,e.Amonospace=65313,e.Aogonek=260,e.Aring=197,e.Aringacute=506,e.Aringbelow=7680,e.Aringsmall=63461,e.Asmall=63329,e.Atilde=195,e.Atildesmall=63459,e.Aybarmenian=1329,e.B=66,e.Bcircle=9399,e.Bdotaccent=7682,e.Bdotbelow=7684,e.Becyrillic=1041,e.Benarmenian=1330,e.Beta=914,e.Bhook=385,e.Blinebelow=7686,e.Bmonospace=65314,e.Brevesmall=63220,e.Bsmall=63330,e.Btopbar=386,e.C=67,e.Caarmenian=1342,e.Cacute=262,e.Caron=63178,e.Caronsmall=63221,e.Ccaron=268,e.Ccedilla=199,e.Ccedillaacute=7688,e.Ccedillasmall=63463,e.Ccircle=9400,e.Ccircumflex=264,e.Cdot=266,e.Cdotaccent=266,e.Cedillasmall=63416,e.Chaarmenian=1353,e.Cheabkhasiancyrillic=1212,e.Checyrillic=1063,e.Chedescenderabkhasiancyrillic=1214,e.Chedescendercyrillic=1206,e.Chedieresiscyrillic=1268,e.Cheharmenian=1347,e.Chekhakassiancyrillic=1227,e.Cheverticalstrokecyrillic=1208,e.Chi=935,e.Chook=391,e.Circumflexsmall=63222,e.Cmonospace=65315,e.Coarmenian=1361,e.Csmall=63331,e.D=68,e.DZ=497,e.DZcaron=452,e.Daarmenian=1332,e.Dafrican=393,e.Dcaron=270,e.Dcedilla=7696,e.Dcircle=9401,e.Dcircumflexbelow=7698,e.Dcroat=272,e.Ddotaccent=7690,e.Ddotbelow=7692,e.Decyrillic=1044,e.Deicoptic=1006,e.Delta=8710,e.Deltagreek=916,e.Dhook=394,e.Dieresis=63179,e.DieresisAcute=63180,e.DieresisGrave=63181,e.Dieresissmall=63400,e.Digammagreek=988,e.Djecyrillic=1026,e.Dlinebelow=7694,e.Dmonospace=65316,e.Dotaccentsmall=63223,e.Dslash=272,e.Dsmall=63332,e.Dtopbar=395,e.Dz=498,e.Dzcaron=453,e.Dzeabkhasiancyrillic=1248,e.Dzecyrillic=1029,e.Dzhecyrillic=1039,e.E=69,e.Eacute=201,e.Eacutesmall=63465,e.Ebreve=276,e.Ecaron=282,e.Ecedillabreve=7708,e.Echarmenian=1333,e.Ecircle=9402,e.Ecircumflex=202,e.Ecircumflexacute=7870,e.Ecircumflexbelow=7704,e.Ecircumflexdotbelow=7878,e.Ecircumflexgrave=7872,e.Ecircumflexhookabove=7874,e.Ecircumflexsmall=63466,e.Ecircumflextilde=7876,e.Ecyrillic=1028,e.Edblgrave=516,e.Edieresis=203,e.Edieresissmall=63467,e.Edot=278,e.Edotaccent=278,e.Edotbelow=7864,e.Efcyrillic=1060,e.Egrave=200,e.Egravesmall=63464,e.Eharmenian=1335,e.Ehookabove=7866,e.Eightroman=8551,e.Einvertedbreve=518,e.Eiotifiedcyrillic=1124,e.Elcyrillic=1051,e.Elevenroman=8554,e.Emacron=274,e.Emacronacute=7702,e.Emacrongrave=7700,e.Emcyrillic=1052,e.Emonospace=65317,e.Encyrillic=1053,e.Endescendercyrillic=1186,e.Eng=330,e.Enghecyrillic=1188,e.Enhookcyrillic=1223,e.Eogonek=280,e.Eopen=400,e.Epsilon=917,e.Epsilontonos=904,e.Ercyrillic=1056,e.Ereversed=398,e.Ereversedcyrillic=1069,e.Escyrillic=1057,e.Esdescendercyrillic=1194,e.Esh=425,e.Esmall=63333,e.Eta=919,e.Etarmenian=1336,e.Etatonos=905,e.Eth=208,e.Ethsmall=63472,e.Etilde=7868,e.Etildebelow=7706,e.Euro=8364,e.Ezh=439,e.Ezhcaron=494,e.Ezhreversed=440,e.F=70,e.Fcircle=9403,e.Fdotaccent=7710,e.Feharmenian=1366,e.Feicoptic=996,e.Fhook=401,e.Fitacyrillic=1138,e.Fiveroman=8548,e.Fmonospace=65318,e.Fourroman=8547,e.Fsmall=63334,e.G=71,e.GBsquare=13191,e.Gacute=500,e.Gamma=915,e.Gammaafrican=404,e.Gangiacoptic=1002,e.Gbreve=286,e.Gcaron=486,e.Gcedilla=290,e.Gcircle=9404,e.Gcircumflex=284,e.Gcommaaccent=290,e.Gdot=288,e.Gdotaccent=288,e.Gecyrillic=1043,e.Ghadarmenian=1346,e.Ghemiddlehookcyrillic=1172,e.Ghestrokecyrillic=1170,e.Gheupturncyrillic=1168,e.Ghook=403,e.Gimarmenian=1331,e.Gjecyrillic=1027,e.Gmacron=7712,e.Gmonospace=65319,e.Grave=63182,e.Gravesmall=63328,e.Gsmall=63335,e.Gsmallhook=667,e.Gstroke=484,e.H=72,e.H18533=9679,e.H18543=9642,e.H18551=9643,e.H22073=9633,e.HPsquare=13259,e.Haabkhasiancyrillic=1192,e.Hadescendercyrillic=1202,e.Hardsigncyrillic=1066,e.Hbar=294,e.Hbrevebelow=7722,e.Hcedilla=7720,e.Hcircle=9405,e.Hcircumflex=292,e.Hdieresis=7718,e.Hdotaccent=7714,e.Hdotbelow=7716,e.Hmonospace=65320,e.Hoarmenian=1344,e.Horicoptic=1e3,e.Hsmall=63336,e.Hungarumlaut=63183,e.Hungarumlautsmall=63224,e.Hzsquare=13200,e.I=73,e.IAcyrillic=1071,e.IJ=306,e.IUcyrillic=1070,e.Iacute=205,e.Iacutesmall=63469,e.Ibreve=300,e.Icaron=463,e.Icircle=9406,e.Icircumflex=206,e.Icircumflexsmall=63470,e.Icyrillic=1030,e.Idblgrave=520,e.Idieresis=207,e.Idieresisacute=7726,e.Idieresiscyrillic=1252,e.Idieresissmall=63471,e.Idot=304,e.Idotaccent=304,e.Idotbelow=7882,e.Iebrevecyrillic=1238,e.Iecyrillic=1045,e.Ifraktur=8465,e.Igrave=204,e.Igravesmall=63468,e.Ihookabove=7880,e.Iicyrillic=1048,e.Iinvertedbreve=522,e.Iishortcyrillic=1049,e.Imacron=298,e.Imacroncyrillic=1250,e.Imonospace=65321,e.Iniarmenian=1339,e.Iocyrillic=1025,e.Iogonek=302,e.Iota=921,e.Iotaafrican=406,e.Iotadieresis=938,e.Iotatonos=906,e.Ismall=63337,e.Istroke=407,e.Itilde=296,e.Itildebelow=7724,e.Izhitsacyrillic=1140,e.Izhitsadblgravecyrillic=1142,e.J=74,e.Jaarmenian=1345,e.Jcircle=9407,e.Jcircumflex=308,e.Jecyrillic=1032,e.Jheharmenian=1355,e.Jmonospace=65322,e.Jsmall=63338,e.K=75,e.KBsquare=13189,e.KKsquare=13261,e.Kabashkircyrillic=1184,e.Kacute=7728,e.Kacyrillic=1050,e.Kadescendercyrillic=1178,e.Kahookcyrillic=1219,e.Kappa=922,e.Kastrokecyrillic=1182,e.Kaverticalstrokecyrillic=1180,e.Kcaron=488,e.Kcedilla=310,e.Kcircle=9408,e.Kcommaaccent=310,e.Kdotbelow=7730,e.Keharmenian=1364,e.Kenarmenian=1343,e.Khacyrillic=1061,e.Kheicoptic=998,e.Khook=408,e.Kjecyrillic=1036,e.Klinebelow=7732,e.Kmonospace=65323,e.Koppacyrillic=1152,e.Koppagreek=990,e.Ksicyrillic=1134,e.Ksmall=63339,e.L=76,e.LJ=455,e.LL=63167,e.Lacute=313,e.Lambda=923,e.Lcaron=317,e.Lcedilla=315,e.Lcircle=9409,e.Lcircumflexbelow=7740,e.Lcommaaccent=315,e.Ldot=319,e.Ldotaccent=319,e.Ldotbelow=7734,e.Ldotbelowmacron=7736,e.Liwnarmenian=1340,e.Lj=456,e.Ljecyrillic=1033,e.Llinebelow=7738,e.Lmonospace=65324,e.Lslash=321,e.Lslashsmall=63225,e.Lsmall=63340,e.M=77,e.MBsquare=13190,e.Macron=63184,e.Macronsmall=63407,e.Macute=7742,e.Mcircle=9410,e.Mdotaccent=7744,e.Mdotbelow=7746,e.Menarmenian=1348,e.Mmonospace=65325,e.Msmall=63341,e.Mturned=412,e.Mu=924,e.N=78,e.NJ=458,e.Nacute=323,e.Ncaron=327,e.Ncedilla=325,e.Ncircle=9411,e.Ncircumflexbelow=7754,e.Ncommaaccent=325,e.Ndotaccent=7748,e.Ndotbelow=7750,e.Nhookleft=413,e.Nineroman=8552,e.Nj=459,e.Njecyrillic=1034,e.Nlinebelow=7752,e.Nmonospace=65326,e.Nowarmenian=1350,e.Nsmall=63342,e.Ntilde=209,e.Ntildesmall=63473,e.Nu=925,e.O=79,e.OE=338,e.OEsmall=63226,e.Oacute=211,e.Oacutesmall=63475,e.Obarredcyrillic=1256,e.Obarreddieresiscyrillic=1258,e.Obreve=334,e.Ocaron=465,e.Ocenteredtilde=415,e.Ocircle=9412,e.Ocircumflex=212,e.Ocircumflexacute=7888,e.Ocircumflexdotbelow=7896,e.Ocircumflexgrave=7890,e.Ocircumflexhookabove=7892,e.Ocircumflexsmall=63476,e.Ocircumflextilde=7894,e.Ocyrillic=1054,e.Odblacute=336,e.Odblgrave=524,e.Odieresis=214,e.Odieresiscyrillic=1254,e.Odieresissmall=63478,e.Odotbelow=7884,e.Ogoneksmall=63227,e.Ograve=210,e.Ogravesmall=63474,e.Oharmenian=1365,e.Ohm=8486,e.Ohookabove=7886,e.Ohorn=416,e.Ohornacute=7898,e.Ohorndotbelow=7906,e.Ohorngrave=7900,e.Ohornhookabove=7902,e.Ohorntilde=7904,e.Ohungarumlaut=336,e.Oi=418,e.Oinvertedbreve=526,e.Omacron=332,e.Omacronacute=7762,e.Omacrongrave=7760,e.Omega=8486,e.Omegacyrillic=1120,e.Omegagreek=937,e.Omegaroundcyrillic=1146,e.Omegatitlocyrillic=1148,e.Omegatonos=911,e.Omicron=927,e.Omicrontonos=908,e.Omonospace=65327,e.Oneroman=8544,e.Oogonek=490,e.Oogonekmacron=492,e.Oopen=390,e.Oslash=216,e.Oslashacute=510,e.Oslashsmall=63480,e.Osmall=63343,e.Ostrokeacute=510,e.Otcyrillic=1150,e.Otilde=213,e.Otildeacute=7756,e.Otildedieresis=7758,e.Otildesmall=63477,e.P=80,e.Pacute=7764,e.Pcircle=9413,e.Pdotaccent=7766,e.Pecyrillic=1055,e.Peharmenian=1354,e.Pemiddlehookcyrillic=1190,e.Phi=934,e.Phook=420,e.Pi=928,e.Piwrarmenian=1363,e.Pmonospace=65328,e.Psi=936,e.Psicyrillic=1136,e.Psmall=63344,e.Q=81,e.Qcircle=9414,e.Qmonospace=65329,e.Qsmall=63345,e.R=82,e.Raarmenian=1356,e.Racute=340,e.Rcaron=344,e.Rcedilla=342,e.Rcircle=9415,e.Rcommaaccent=342,e.Rdblgrave=528,e.Rdotaccent=7768,e.Rdotbelow=7770,e.Rdotbelowmacron=7772,e.Reharmenian=1360,e.Rfraktur=8476,e.Rho=929,e.Ringsmall=63228,e.Rinvertedbreve=530,e.Rlinebelow=7774,e.Rmonospace=65330,e.Rsmall=63346,e.Rsmallinverted=641,e.Rsmallinvertedsuperior=694,e.S=83,e.SF010000=9484,e.SF020000=9492,e.SF030000=9488,e.SF040000=9496,e.SF050000=9532,e.SF060000=9516,e.SF070000=9524,e.SF080000=9500,e.SF090000=9508,e.SF100000=9472,e.SF110000=9474,e.SF190000=9569,e.SF200000=9570,e.SF210000=9558,e.SF220000=9557,e.SF230000=9571,e.SF240000=9553,e.SF250000=9559,e.SF260000=9565,e.SF270000=9564,e.SF280000=9563,e.SF360000=9566,e.SF370000=9567,e.SF380000=9562,e.SF390000=9556,e.SF400000=9577,e.SF410000=9574,e.SF420000=9568,e.SF430000=9552,e.SF440000=9580,e.SF450000=9575,e.SF460000=9576,e.SF470000=9572,e.SF480000=9573,e.SF490000=9561,e.SF500000=9560,e.SF510000=9554,e.SF520000=9555,e.SF530000=9579,e.SF540000=9578,e.Sacute=346,e.Sacutedotaccent=7780,e.Sampigreek=992,e.Scaron=352,e.Scarondotaccent=7782,e.Scaronsmall=63229,e.Scedilla=350,e.Schwa=399,e.Schwacyrillic=1240,e.Schwadieresiscyrillic=1242,e.Scircle=9416,e.Scircumflex=348,e.Scommaaccent=536,e.Sdotaccent=7776,e.Sdotbelow=7778,e.Sdotbelowdotaccent=7784,e.Seharmenian=1357,e.Sevenroman=8550,e.Shaarmenian=1351,e.Shacyrillic=1064,e.Shchacyrillic=1065,e.Sheicoptic=994,e.Shhacyrillic=1210,e.Shimacoptic=1004,e.Sigma=931,e.Sixroman=8549,e.Smonospace=65331,e.Softsigncyrillic=1068,e.Ssmall=63347,e.Stigmagreek=986,e.T=84,e.Tau=932,e.Tbar=358,e.Tcaron=356,e.Tcedilla=354,e.Tcircle=9417,e.Tcircumflexbelow=7792,e.Tcommaaccent=354,e.Tdotaccent=7786,e.Tdotbelow=7788,e.Tecyrillic=1058,e.Tedescendercyrillic=1196,e.Tenroman=8553,e.Tetsecyrillic=1204,e.Theta=920,e.Thook=428,e.Thorn=222,e.Thornsmall=63486,e.Threeroman=8546,e.Tildesmall=63230,e.Tiwnarmenian=1359,e.Tlinebelow=7790,e.Tmonospace=65332,e.Toarmenian=1337,e.Tonefive=444,e.Tonesix=388,e.Tonetwo=423,e.Tretroflexhook=430,e.Tsecyrillic=1062,e.Tshecyrillic=1035,e.Tsmall=63348,e.Twelveroman=8555,e.Tworoman=8545,e.U=85,e.Uacute=218,e.Uacutesmall=63482,e.Ubreve=364,e.Ucaron=467,e.Ucircle=9418,e.Ucircumflex=219,e.Ucircumflexbelow=7798,e.Ucircumflexsmall=63483,e.Ucyrillic=1059,e.Udblacute=368,e.Udblgrave=532,e.Udieresis=220,e.Udieresisacute=471,e.Udieresisbelow=7794,e.Udieresiscaron=473,e.Udieresiscyrillic=1264,e.Udieresisgrave=475,e.Udieresismacron=469,e.Udieresissmall=63484,e.Udotbelow=7908,e.Ugrave=217,e.Ugravesmall=63481,e.Uhookabove=7910,e.Uhorn=431,e.Uhornacute=7912,e.Uhorndotbelow=7920,e.Uhorngrave=7914,e.Uhornhookabove=7916,e.Uhorntilde=7918,e.Uhungarumlaut=368,e.Uhungarumlautcyrillic=1266,e.Uinvertedbreve=534,e.Ukcyrillic=1144,e.Umacron=362,e.Umacroncyrillic=1262,e.Umacrondieresis=7802,e.Umonospace=65333,e.Uogonek=370,e.Upsilon=933,e.Upsilon1=978,e.Upsilonacutehooksymbolgreek=979,e.Upsilonafrican=433,e.Upsilondieresis=939,e.Upsilondieresishooksymbolgreek=980,e.Upsilonhooksymbol=978,e.Upsilontonos=910,e.Uring=366,e.Ushortcyrillic=1038,e.Usmall=63349,e.Ustraightcyrillic=1198,e.Ustraightstrokecyrillic=1200,e.Utilde=360,e.Utildeacute=7800,e.Utildebelow=7796,e.V=86,e.Vcircle=9419,e.Vdotbelow=7806,e.Vecyrillic=1042,e.Vewarmenian=1358,e.Vhook=434,e.Vmonospace=65334,e.Voarmenian=1352,e.Vsmall=63350,e.Vtilde=7804,e.W=87,e.Wacute=7810,e.Wcircle=9420,e.Wcircumflex=372,e.Wdieresis=7812,e.Wdotaccent=7814,e.Wdotbelow=7816,e.Wgrave=7808,e.Wmonospace=65335,e.Wsmall=63351,e.X=88,e.Xcircle=9421,e.Xdieresis=7820,e.Xdotaccent=7818,e.Xeharmenian=1341,e.Xi=926,e.Xmonospace=65336,e.Xsmall=63352,e.Y=89,e.Yacute=221,e.Yacutesmall=63485,e.Yatcyrillic=1122,e.Ycircle=9422,e.Ycircumflex=374,e.Ydieresis=376,e.Ydieresissmall=63487,e.Ydotaccent=7822,e.Ydotbelow=7924,e.Yericyrillic=1067,e.Yerudieresiscyrillic=1272,e.Ygrave=7922,e.Yhook=435,e.Yhookabove=7926,e.Yiarmenian=1349,e.Yicyrillic=1031,e.Yiwnarmenian=1362,e.Ymonospace=65337,e.Ysmall=63353,e.Ytilde=7928,e.Yusbigcyrillic=1130,e.Yusbigiotifiedcyrillic=1132,e.Yuslittlecyrillic=1126,e.Yuslittleiotifiedcyrillic=1128,e.Z=90,e.Zaarmenian=1334,e.Zacute=377,e.Zcaron=381,e.Zcaronsmall=63231,e.Zcircle=9423,e.Zcircumflex=7824,e.Zdot=379,e.Zdotaccent=379,e.Zdotbelow=7826,e.Zecyrillic=1047,e.Zedescendercyrillic=1176,e.Zedieresiscyrillic=1246,e.Zeta=918,e.Zhearmenian=1338,e.Zhebrevecyrillic=1217,e.Zhecyrillic=1046,e.Zhedescendercyrillic=1174,e.Zhedieresiscyrillic=1244,e.Zlinebelow=7828,e.Zmonospace=65338,e.Zsmall=63354,e.Zstroke=437,e.a=97,e.aabengali=2438,e.aacute=225,e.aadeva=2310,e.aagujarati=2694,e.aagurmukhi=2566,e.aamatragurmukhi=2622,e.aarusquare=13059,e.aavowelsignbengali=2494,e.aavowelsigndeva=2366,e.aavowelsigngujarati=2750,e.abbreviationmarkarmenian=1375,e.abbreviationsigndeva=2416,e.abengali=2437,e.abopomofo=12570,e.abreve=259,e.abreveacute=7855,e.abrevecyrillic=1233,e.abrevedotbelow=7863,e.abrevegrave=7857,e.abrevehookabove=7859,e.abrevetilde=7861,e.acaron=462,e.acircle=9424,e.acircumflex=226,e.acircumflexacute=7845,e.acircumflexdotbelow=7853,e.acircumflexgrave=7847,e.acircumflexhookabove=7849,e.acircumflextilde=7851,e.acute=180,e.acutebelowcmb=791,e.acutecmb=769,e.acutecomb=769,e.acutedeva=2388,e.acutelowmod=719,e.acutetonecmb=833,e.acyrillic=1072,e.adblgrave=513,e.addakgurmukhi=2673,e.adeva=2309,e.adieresis=228,e.adieresiscyrillic=1235,e.adieresismacron=479,e.adotbelow=7841,e.adotmacron=481,e.ae=230,e.aeacute=509,e.aekorean=12624,e.aemacron=483,e.afii00208=8213,e.afii08941=8356,e.afii10017=1040,e.afii10018=1041,e.afii10019=1042,e.afii10020=1043,e.afii10021=1044,e.afii10022=1045,e.afii10023=1025,e.afii10024=1046,e.afii10025=1047,e.afii10026=1048,e.afii10027=1049,e.afii10028=1050,e.afii10029=1051,e.afii10030=1052;e.afii10031=1053,e.afii10032=1054,e.afii10033=1055,e.afii10034=1056,e.afii10035=1057,e.afii10036=1058,e.afii10037=1059,e.afii10038=1060,e.afii10039=1061,e.afii10040=1062,e.afii10041=1063,e.afii10042=1064,e.afii10043=1065,e.afii10044=1066,e.afii10045=1067,e.afii10046=1068,e.afii10047=1069,e.afii10048=1070,e.afii10049=1071,e.afii10050=1168,e.afii10051=1026,e.afii10052=1027,e.afii10053=1028,e.afii10054=1029,e.afii10055=1030,e.afii10056=1031,e.afii10057=1032,e.afii10058=1033,e.afii10059=1034,e.afii10060=1035,e.afii10061=1036,e.afii10062=1038,e.afii10063=63172,e.afii10064=63173,e.afii10065=1072,e.afii10066=1073,e.afii10067=1074,e.afii10068=1075,e.afii10069=1076,e.afii10070=1077,e.afii10071=1105,e.afii10072=1078,e.afii10073=1079,e.afii10074=1080,e.afii10075=1081,e.afii10076=1082,e.afii10077=1083,e.afii10078=1084,e.afii10079=1085,e.afii10080=1086,e.afii10081=1087,e.afii10082=1088,e.afii10083=1089,e.afii10084=1090,e.afii10085=1091,e.afii10086=1092,e.afii10087=1093,e.afii10088=1094,e.afii10089=1095,e.afii10090=1096,e.afii10091=1097,e.afii10092=1098,e.afii10093=1099,e.afii10094=1100,e.afii10095=1101,e.afii10096=1102,e.afii10097=1103,e.afii10098=1169,e.afii10099=1106,e.afii10100=1107,e.afii10101=1108,e.afii10102=1109,e.afii10103=1110,e.afii10104=1111,e.afii10105=1112,e.afii10106=1113,e.afii10107=1114,e.afii10108=1115,e.afii10109=1116,e.afii10110=1118,e.afii10145=1039,e.afii10146=1122,e.afii10147=1138,e.afii10148=1140,e.afii10192=63174,e.afii10193=1119,e.afii10194=1123,e.afii10195=1139,e.afii10196=1141,e.afii10831=63175,e.afii10832=63176,e.afii10846=1241,e.afii299=8206,e.afii300=8207,e.afii301=8205,e.afii57381=1642,e.afii57388=1548,e.afii57392=1632,e.afii57393=1633,e.afii57394=1634,e.afii57395=1635,e.afii57396=1636,e.afii57397=1637,e.afii57398=1638,e.afii57399=1639,e.afii57400=1640,e.afii57401=1641,e.afii57403=1563,e.afii57407=1567,e.afii57409=1569,e.afii57410=1570,e.afii57411=1571,e.afii57412=1572,e.afii57413=1573,e.afii57414=1574,e.afii57415=1575,e.afii57416=1576,e.afii57417=1577,e.afii57418=1578,e.afii57419=1579,e.afii57420=1580,e.afii57421=1581,e.afii57422=1582,e.afii57423=1583,e.afii57424=1584,e.afii57425=1585,e.afii57426=1586,e.afii57427=1587,e.afii57428=1588,e.afii57429=1589,e.afii57430=1590,e.afii57431=1591,e.afii57432=1592,e.afii57433=1593,e.afii57434=1594,e.afii57440=1600,e.afii57441=1601,e.afii57442=1602,e.afii57443=1603,e.afii57444=1604,e.afii57445=1605,e.afii57446=1606,e.afii57448=1608,e.afii57449=1609,e.afii57450=1610,e.afii57451=1611,e.afii57452=1612,e.afii57453=1613,e.afii57454=1614,e.afii57455=1615,e.afii57456=1616,e.afii57457=1617,e.afii57458=1618,e.afii57470=1607,e.afii57505=1700,e.afii57506=1662,e.afii57507=1670,e.afii57508=1688,e.afii57509=1711,e.afii57511=1657,e.afii57512=1672,e.afii57513=1681,e.afii57514=1722,e.afii57519=1746,e.afii57534=1749,e.afii57636=8362,e.afii57645=1470,e.afii57658=1475,e.afii57664=1488,e.afii57665=1489,e.afii57666=1490,e.afii57667=1491,e.afii57668=1492,e.afii57669=1493,e.afii57670=1494,e.afii57671=1495,e.afii57672=1496,e.afii57673=1497,e.afii57674=1498,e.afii57675=1499,e.afii57676=1500,e.afii57677=1501,e.afii57678=1502,e.afii57679=1503,e.afii57680=1504,e.afii57681=1505,e.afii57682=1506,e.afii57683=1507,e.afii57684=1508,e.afii57685=1509,e.afii57686=1510,e.afii57687=1511,e.afii57688=1512,e.afii57689=1513,e.afii57690=1514,e.afii57694=64298,e.afii57695=64299,e.afii57700=64331,e.afii57705=64287,e.afii57716=1520,e.afii57717=1521,e.afii57718=1522,e.afii57723=64309,e.afii57793=1460,e.afii57794=1461,e.afii57795=1462,e.afii57796=1467,e.afii57797=1464,e.afii57798=1463,e.afii57799=1456,e.afii57800=1458,e.afii57801=1457,e.afii57802=1459,e.afii57803=1474,e.afii57804=1473,e.afii57806=1465,e.afii57807=1468,e.afii57839=1469,e.afii57841=1471,e.afii57842=1472,e.afii57929=700,e.afii61248=8453,e.afii61289=8467,e.afii61352=8470,e.afii61573=8236,e.afii61574=8237,e.afii61575=8238,e.afii61664=8204,e.afii63167=1645,e.afii64937=701,e.agrave=224,e.agujarati=2693,e.agurmukhi=2565,e.ahiragana=12354,e.ahookabove=7843,e.aibengali=2448,e.aibopomofo=12574,e.aideva=2320,e.aiecyrillic=1237,e.aigujarati=2704,e.aigurmukhi=2576,e.aimatragurmukhi=2632,e.ainarabic=1593,e.ainfinalarabic=65226,e.aininitialarabic=65227,e.ainmedialarabic=65228,e.ainvertedbreve=515,e.aivowelsignbengali=2504,e.aivowelsigndeva=2376,e.aivowelsigngujarati=2760,e.akatakana=12450,e.akatakanahalfwidth=65393,e.akorean=12623,e.alef=1488,e.alefarabic=1575,e.alefdageshhebrew=64304,e.aleffinalarabic=65166,e.alefhamzaabovearabic=1571,e.alefhamzaabovefinalarabic=65156,e.alefhamzabelowarabic=1573,e.alefhamzabelowfinalarabic=65160,e.alefhebrew=1488,e.aleflamedhebrew=64335,e.alefmaddaabovearabic=1570,e.alefmaddaabovefinalarabic=65154,e.alefmaksuraarabic=1609,e.alefmaksurafinalarabic=65264,e.alefmaksurainitialarabic=65267,e.alefmaksuramedialarabic=65268,e.alefpatahhebrew=64302,e.alefqamatshebrew=64303,e.aleph=8501,e.allequal=8780,e.alpha=945,e.alphatonos=940,e.amacron=257,e.amonospace=65345,e.ampersand=38,e.ampersandmonospace=65286,e.ampersandsmall=63270,e.amsquare=13250,e.anbopomofo=12578,e.angbopomofo=12580,e.angbracketleft=12296,e.angbracketright=12297,e.angkhankhuthai=3674,e.angle=8736,e.anglebracketleft=12296,e.anglebracketleftvertical=65087,e.anglebracketright=12297,e.anglebracketrightvertical=65088,e.angleleft=9001,e.angleright=9002,e.angstrom=8491,e.anoteleia=903,e.anudattadeva=2386,e.anusvarabengali=2434,e.anusvaradeva=2306,e.anusvaragujarati=2690,e.aogonek=261,e.apaatosquare=13056,e.aparen=9372,e.apostrophearmenian=1370,e.apostrophemod=700,e.apple=63743,e.approaches=8784,e.approxequal=8776,e.approxequalorimage=8786,e.approximatelyequal=8773,e.araeaekorean=12686,e.araeakorean=12685,e.arc=8978,e.arighthalfring=7834,e.aring=229,e.aringacute=507,e.aringbelow=7681,e.arrowboth=8596,e.arrowdashdown=8675,e.arrowdashleft=8672,e.arrowdashright=8674,e.arrowdashup=8673,e.arrowdblboth=8660,e.arrowdbldown=8659,e.arrowdblleft=8656,e.arrowdblright=8658,e.arrowdblup=8657,e.arrowdown=8595,e.arrowdownleft=8601,e.arrowdownright=8600,e.arrowdownwhite=8681,e.arrowheaddownmod=709,e.arrowheadleftmod=706,e.arrowheadrightmod=707,e.arrowheadupmod=708,e.arrowhorizex=63719,e.arrowleft=8592,e.arrowleftdbl=8656,e.arrowleftdblstroke=8653,e.arrowleftoverright=8646,e.arrowleftwhite=8678,e.arrowright=8594,e.arrowrightdblstroke=8655,e.arrowrightheavy=10142,e.arrowrightoverleft=8644,e.arrowrightwhite=8680,e.arrowtableft=8676,e.arrowtabright=8677,e.arrowup=8593,e.arrowupdn=8597,e.arrowupdnbse=8616,e.arrowupdownbase=8616,e.arrowupleft=8598,e.arrowupleftofdown=8645,e.arrowupright=8599,e.arrowupwhite=8679,e.arrowvertex=63718,e.asciicircum=94,e.asciicircummonospace=65342,e.asciitilde=126,e.asciitildemonospace=65374,e.ascript=593,e.ascriptturned=594,e.asmallhiragana=12353,e.asmallkatakana=12449,e.asmallkatakanahalfwidth=65383,e.asterisk=42,e.asteriskaltonearabic=1645,e.asteriskarabic=1645,e.asteriskmath=8727,e.asteriskmonospace=65290,e.asterisksmall=65121,e.asterism=8258,e.asuperior=63209,e.asymptoticallyequal=8771,e.at=64,e.atilde=227,e.atmonospace=65312,e.atsmall=65131,e.aturned=592,e.aubengali=2452,e.aubopomofo=12576,e.audeva=2324,e.augujarati=2708,e.augurmukhi=2580,e.aulengthmarkbengali=2519,e.aumatragurmukhi=2636,e.auvowelsignbengali=2508,e.auvowelsigndeva=2380,e.auvowelsigngujarati=2764,e.avagrahadeva=2365,e.aybarmenian=1377,e.ayin=1506,e.ayinaltonehebrew=64288,e.ayinhebrew=1506,e.b=98,e.babengali=2476,e.backslash=92,e.backslashmonospace=65340,e.badeva=2348,e.bagujarati=2732,e.bagurmukhi=2604,e.bahiragana=12400,e.bahtthai=3647,e.bakatakana=12496,e.bar=124,e.barmonospace=65372,e.bbopomofo=12549,e.bcircle=9425,e.bdotaccent=7683,e.bdotbelow=7685,e.beamedsixteenthnotes=9836,e.because=8757,e.becyrillic=1073,e.beharabic=1576,e.behfinalarabic=65168,e.behinitialarabic=65169,e.behiragana=12409,e.behmedialarabic=65170,e.behmeeminitialarabic=64671,e.behmeemisolatedarabic=64520,e.behnoonfinalarabic=64621,e.bekatakana=12505,e.benarmenian=1378,e.bet=1489,e.beta=946,e.betasymbolgreek=976,e.betdagesh=64305,e.betdageshhebrew=64305,e.bethebrew=1489,e.betrafehebrew=64332,e.bhabengali=2477,e.bhadeva=2349,e.bhagujarati=2733,e.bhagurmukhi=2605,e.bhook=595,e.bihiragana=12403,e.bikatakana=12499,e.bilabialclick=664,e.bindigurmukhi=2562,e.birusquare=13105,e.blackcircle=9679,e.blackdiamond=9670,e.blackdownpointingtriangle=9660,e.blackleftpointingpointer=9668,e.blackleftpointingtriangle=9664,e.blacklenticularbracketleft=12304,e.blacklenticularbracketleftvertical=65083,e.blacklenticularbracketright=12305,e.blacklenticularbracketrightvertical=65084,e.blacklowerlefttriangle=9699,e.blacklowerrighttriangle=9698,e.blackrectangle=9644,e.blackrightpointingpointer=9658,e.blackrightpointingtriangle=9654,e.blacksmallsquare=9642,e.blacksmilingface=9787,e.blacksquare=9632,e.blackstar=9733,e.blackupperlefttriangle=9700,e.blackupperrighttriangle=9701,e.blackuppointingsmalltriangle=9652,e.blackuppointingtriangle=9650,e.blank=9251,e.blinebelow=7687,e.block=9608,e.bmonospace=65346,e.bobaimaithai=3610,e.bohiragana=12412,e.bokatakana=12508,e.bparen=9373,e.bqsquare=13251,e.braceex=63732,e.braceleft=123,e.braceleftbt=63731,e.braceleftmid=63730,e.braceleftmonospace=65371,e.braceleftsmall=65115,e.bracelefttp=63729,e.braceleftvertical=65079,e.braceright=125,e.bracerightbt=63742,e.bracerightmid=63741,e.bracerightmonospace=65373,e.bracerightsmall=65116,e.bracerighttp=63740,e.bracerightvertical=65080,e.bracketleft=91,e.bracketleftbt=63728,e.bracketleftex=63727,e.bracketleftmonospace=65339,e.bracketlefttp=63726,e.bracketright=93,e.bracketrightbt=63739,e.bracketrightex=63738,e.bracketrightmonospace=65341,e.bracketrighttp=63737,e.breve=728,e.brevebelowcmb=814,e.brevecmb=774,e.breveinvertedbelowcmb=815,e.breveinvertedcmb=785,e.breveinverteddoublecmb=865,e.bridgebelowcmb=810,e.bridgeinvertedbelowcmb=826,e.brokenbar=166,e.bstroke=384,e.bsuperior=63210,e.btopbar=387,e.buhiragana=12406,e.bukatakana=12502,e.bullet=8226,e.bulletinverse=9688,e.bulletoperator=8729,e.bullseye=9678,e.c=99,e.caarmenian=1390,e.cabengali=2458,e.cacute=263,e.cadeva=2330,e.cagujarati=2714,e.cagurmukhi=2586,e.calsquare=13192,e.candrabindubengali=2433,e.candrabinducmb=784,e.candrabindudeva=2305,e.candrabindugujarati=2689,e.capslock=8682,e.careof=8453,e.caron=711,e.caronbelowcmb=812,e.caroncmb=780,e.carriagereturn=8629,e.cbopomofo=12568,e.ccaron=269,e.ccedilla=231,e.ccedillaacute=7689,e.ccircle=9426,e.ccircumflex=265,e.ccurl=597,e.cdot=267,e.cdotaccent=267,e.cdsquare=13253,e.cedilla=184,e.cedillacmb=807,e.cent=162,e.centigrade=8451,e.centinferior=63199,e.centmonospace=65504,e.centoldstyle=63394,e.centsuperior=63200,e.chaarmenian=1401,e.chabengali=2459,e.chadeva=2331,e.chagujarati=2715,e.chagurmukhi=2587,e.chbopomofo=12564,e.cheabkhasiancyrillic=1213,e.checkmark=10003,e.checyrillic=1095,e.chedescenderabkhasiancyrillic=1215,e.chedescendercyrillic=1207,e.chedieresiscyrillic=1269,e.cheharmenian=1395,e.chekhakassiancyrillic=1228,e.cheverticalstrokecyrillic=1209,e.chi=967,e.chieuchacirclekorean=12919,e.chieuchaparenkorean=12823,e.chieuchcirclekorean=12905,e.chieuchkorean=12618,e.chieuchparenkorean=12809,e.chochangthai=3594,e.chochanthai=3592,e.chochingthai=3593,e.chochoethai=3596,e.chook=392,e.cieucacirclekorean=12918,e.cieucaparenkorean=12822,e.cieuccirclekorean=12904,e.cieuckorean=12616,e.cieucparenkorean=12808,e.cieucuparenkorean=12828,e.circle=9675,e.circlecopyrt=169,e.circlemultiply=8855,e.circleot=8857,e.circleplus=8853,e.circlepostalmark=12342,e.circlewithlefthalfblack=9680,e.circlewithrighthalfblack=9681,e.circumflex=710,e.circumflexbelowcmb=813,e.circumflexcmb=770,e.clear=8999,e.clickalveolar=450,e.clickdental=448,e.clicklateral=449,e.clickretroflex=451,e.club=9827,e.clubsuitblack=9827,e.clubsuitwhite=9831,e.cmcubedsquare=13220,e.cmonospace=65347,e.cmsquaredsquare=13216,e.coarmenian=1409,e.colon=58,e.colonmonetary=8353,e.colonmonospace=65306,e.colonsign=8353,e.colonsmall=65109,e.colontriangularhalfmod=721,e.colontriangularmod=720,e.comma=44,e.commaabovecmb=787,e.commaaboverightcmb=789,e.commaaccent=63171,e.commaarabic=1548,e.commaarmenian=1373,e.commainferior=63201,e.commamonospace=65292,e.commareversedabovecmb=788,e.commareversedmod=701,e.commasmall=65104,e.commasuperior=63202,e.commaturnedabovecmb=786,e.commaturnedmod=699,e.compass=9788,e.congruent=8773,e.contourintegral=8750,e.control=8963,e.controlACK=6,e.controlBEL=7,e.controlBS=8,e.controlCAN=24,e.controlCR=13,e.controlDC1=17,e.controlDC2=18,e.controlDC3=19,e.controlDC4=20,e.controlDEL=127,e.controlDLE=16,e.controlEM=25,e.controlENQ=5,e.controlEOT=4,e.controlESC=27,e.controlETB=23,e.controlETX=3,e.controlFF=12,e.controlFS=28,e.controlGS=29,e.controlHT=9,e.controlLF=10,e.controlNAK=21,e.controlNULL=0,e.controlRS=30,e.controlSI=15,e.controlSO=14,e.controlSOT=2,e.controlSTX=1,e.controlSUB=26,e.controlSYN=22,e.controlUS=31,e.controlVT=11,e.copyright=169,e.copyrightsans=63721,e.copyrightserif=63193,e.cornerbracketleft=12300,e.cornerbracketlefthalfwidth=65378,e.cornerbracketleftvertical=65089,e.cornerbracketright=12301,e.cornerbracketrighthalfwidth=65379,e.cornerbracketrightvertical=65090,e.corporationsquare=13183,e.cosquare=13255,e.coverkgsquare=13254,e.cparen=9374,e.cruzeiro=8354,e.cstretched=663,e.curlyand=8911,e.curlyor=8910,e.currency=164,e.cyrBreve=63185,e.cyrFlex=63186,e.cyrbreve=63188,e.cyrflex=63189,e.d=100,e.daarmenian=1380,e.dabengali=2470,e.dadarabic=1590,e.dadeva=2342,e.dadfinalarabic=65214,e.dadinitialarabic=65215,e.dadmedialarabic=65216,e.dagesh=1468,e.dageshhebrew=1468,e.dagger=8224,e.daggerdbl=8225,e.dagujarati=2726,e.dagurmukhi=2598,e.dahiragana=12384,e.dakatakana=12480,e.dalarabic=1583,e.dalet=1491,e.daletdagesh=64307,e.daletdageshhebrew=64307,e.dalethebrew=1491,e.dalfinalarabic=65194,e.dammaarabic=1615,e.dammalowarabic=1615,e.dammatanaltonearabic=1612,e.dammatanarabic=1612,e.danda=2404,e.dargahebrew=1447,e.dargalefthebrew=1447,e.dasiapneumatacyrilliccmb=1157,e.dblGrave=63187,e.dblanglebracketleft=12298,e.dblanglebracketleftvertical=65085,e.dblanglebracketright=12299,e.dblanglebracketrightvertical=65086,e.dblarchinvertedbelowcmb=811,e.dblarrowleft=8660,e.dblarrowright=8658,e.dbldanda=2405,e.dblgrave=63190,e.dblgravecmb=783,e.dblintegral=8748,e.dbllowline=8215,e.dbllowlinecmb=819,e.dbloverlinecmb=831,e.dblprimemod=698,e.dblverticalbar=8214,e.dblverticallineabovecmb=782,e.dbopomofo=12553,e.dbsquare=13256,e.dcaron=271,e.dcedilla=7697,e.dcircle=9427,e.dcircumflexbelow=7699,e.dcroat=273,e.ddabengali=2465,e.ddadeva=2337,e.ddagujarati=2721,e.ddagurmukhi=2593,e.ddalarabic=1672,e.ddalfinalarabic=64393,e.dddhadeva=2396,e.ddhabengali=2466,e.ddhadeva=2338,e.ddhagujarati=2722,e.ddhagurmukhi=2594,e.ddotaccent=7691,e.ddotbelow=7693,e.decimalseparatorarabic=1643,e.decimalseparatorpersian=1643,e.decyrillic=1076,e.degree=176,e.dehihebrew=1453,e.dehiragana=12391,e.deicoptic=1007,e.dekatakana=12487,e.deleteleft=9003,e.deleteright=8998,e.delta=948,e.deltaturned=397,e.denominatorminusonenumeratorbengali=2552,e.dezh=676,e.dhabengali=2471,e.dhadeva=2343,e.dhagujarati=2727,e.dhagurmukhi=2599,e.dhook=599,e.dialytikatonos=901,e.dialytikatonoscmb=836,e.diamond=9830,e.diamondsuitwhite=9826,e.dieresis=168,e.dieresisacute=63191,e.dieresisbelowcmb=804,e.dieresiscmb=776,e.dieresisgrave=63192,e.dieresistonos=901,e.dihiragana=12386,e.dikatakana=12482,e.dittomark=12291,e.divide=247,e.divides=8739,e.divisionslash=8725,e.djecyrillic=1106,e.dkshade=9619,e.dlinebelow=7695,e.dlsquare=13207,e.dmacron=273,e.dmonospace=65348,e.dnblock=9604,e.dochadathai=3598,e.dodekthai=3604,e.dohiragana=12393,e.dokatakana=12489,e.dollar=36;e.dollarinferior=63203,e.dollarmonospace=65284,e.dollaroldstyle=63268,e.dollarsmall=65129,e.dollarsuperior=63204,e.dong=8363,e.dorusquare=13094,e.dotaccent=729,e.dotaccentcmb=775,e.dotbelowcmb=803,e.dotbelowcomb=803,e.dotkatakana=12539,e.dotlessi=305,e.dotlessj=63166,e.dotlessjstrokehook=644,e.dotmath=8901,e.dottedcircle=9676,e.doubleyodpatah=64287,e.doubleyodpatahhebrew=64287,e.downtackbelowcmb=798,e.downtackmod=725,e.dparen=9375,e.dsuperior=63211,e.dtail=598,e.dtopbar=396,e.duhiragana=12389,e.dukatakana=12485,e.dz=499,e.dzaltone=675,e.dzcaron=454,e.dzcurl=677,e.dzeabkhasiancyrillic=1249,e.dzecyrillic=1109,e.dzhecyrillic=1119,e.e=101,e.eacute=233,e.earth=9793,e.ebengali=2447,e.ebopomofo=12572,e.ebreve=277,e.ecandradeva=2317,e.ecandragujarati=2701,e.ecandravowelsigndeva=2373,e.ecandravowelsigngujarati=2757,e.ecaron=283,e.ecedillabreve=7709,e.echarmenian=1381,e.echyiwnarmenian=1415,e.ecircle=9428,e.ecircumflex=234,e.ecircumflexacute=7871,e.ecircumflexbelow=7705,e.ecircumflexdotbelow=7879,e.ecircumflexgrave=7873,e.ecircumflexhookabove=7875,e.ecircumflextilde=7877,e.ecyrillic=1108,e.edblgrave=517,e.edeva=2319,e.edieresis=235,e.edot=279,e.edotaccent=279,e.edotbelow=7865,e.eegurmukhi=2575,e.eematragurmukhi=2631,e.efcyrillic=1092,e.egrave=232,e.egujarati=2703,e.eharmenian=1383,e.ehbopomofo=12573,e.ehiragana=12360,e.ehookabove=7867,e.eibopomofo=12575,e.eight=56,e.eightarabic=1640,e.eightbengali=2542,e.eightcircle=9319,e.eightcircleinversesansserif=10129,e.eightdeva=2414,e.eighteencircle=9329,e.eighteenparen=9349,e.eighteenperiod=9369,e.eightgujarati=2798,e.eightgurmukhi=2670,e.eighthackarabic=1640,e.eighthangzhou=12328,e.eighthnotebeamed=9835,e.eightideographicparen=12839,e.eightinferior=8328,e.eightmonospace=65304,e.eightoldstyle=63288,e.eightparen=9339,e.eightperiod=9359,e.eightpersian=1784,e.eightroman=8567,e.eightsuperior=8312,e.eightthai=3672,e.einvertedbreve=519,e.eiotifiedcyrillic=1125,e.ekatakana=12456,e.ekatakanahalfwidth=65396,e.ekonkargurmukhi=2676,e.ekorean=12628,e.elcyrillic=1083,e.element=8712,e.elevencircle=9322,e.elevenparen=9342,e.elevenperiod=9362,e.elevenroman=8570,e.ellipsis=8230,e.ellipsisvertical=8942,e.emacron=275,e.emacronacute=7703,e.emacrongrave=7701,e.emcyrillic=1084,e.emdash=8212,e.emdashvertical=65073,e.emonospace=65349,e.emphasismarkarmenian=1371,e.emptyset=8709,e.enbopomofo=12579,e.encyrillic=1085,e.endash=8211,e.endashvertical=65074,e.endescendercyrillic=1187,e.eng=331,e.engbopomofo=12581,e.enghecyrillic=1189,e.enhookcyrillic=1224,e.enspace=8194,e.eogonek=281,e.eokorean=12627,e.eopen=603,e.eopenclosed=666,e.eopenreversed=604,e.eopenreversedclosed=606,e.eopenreversedhook=605,e.eparen=9376,e.epsilon=949,e.epsilontonos=941,e.equal=61,e.equalmonospace=65309,e.equalsmall=65126,e.equalsuperior=8316,e.equivalence=8801,e.erbopomofo=12582,e.ercyrillic=1088,e.ereversed=600,e.ereversedcyrillic=1101,e.escyrillic=1089,e.esdescendercyrillic=1195,e.esh=643,e.eshcurl=646,e.eshortdeva=2318,e.eshortvowelsigndeva=2374,e.eshreversedloop=426,e.eshsquatreversed=645,e.esmallhiragana=12359,e.esmallkatakana=12455,e.esmallkatakanahalfwidth=65386,e.estimated=8494,e.esuperior=63212,e.eta=951,e.etarmenian=1384,e.etatonos=942,e.eth=240,e.etilde=7869,e.etildebelow=7707,e.etnahtafoukhhebrew=1425,e.etnahtafoukhlefthebrew=1425,e.etnahtahebrew=1425,e.etnahtalefthebrew=1425,e.eturned=477,e.eukorean=12641,e.euro=8364,e.evowelsignbengali=2503,e.evowelsigndeva=2375,e.evowelsigngujarati=2759,e.exclam=33,e.exclamarmenian=1372,e.exclamdbl=8252,e.exclamdown=161,e.exclamdownsmall=63393,e.exclammonospace=65281,e.exclamsmall=63265,e.existential=8707,e.ezh=658,e.ezhcaron=495,e.ezhcurl=659,e.ezhreversed=441,e.ezhtail=442,e.f=102,e.fadeva=2398,e.fagurmukhi=2654,e.fahrenheit=8457,e.fathaarabic=1614,e.fathalowarabic=1614,e.fathatanarabic=1611,e.fbopomofo=12552,e.fcircle=9429,e.fdotaccent=7711,e.feharabic=1601,e.feharmenian=1414,e.fehfinalarabic=65234,e.fehinitialarabic=65235,e.fehmedialarabic=65236,e.feicoptic=997,e.female=9792,e.ff=64256,e.f_f=64256,e.ffi=64259,e.ffl=64260,e.fi=64257,e.fifteencircle=9326,e.fifteenparen=9346,e.fifteenperiod=9366,e.figuredash=8210,e.filledbox=9632,e.filledrect=9644,e.finalkaf=1498,e.finalkafdagesh=64314,e.finalkafdageshhebrew=64314,e.finalkafhebrew=1498,e.finalmem=1501,e.finalmemhebrew=1501,e.finalnun=1503,e.finalnunhebrew=1503,e.finalpe=1507,e.finalpehebrew=1507,e.finaltsadi=1509,e.finaltsadihebrew=1509,e.firsttonechinese=713,e.fisheye=9673,e.fitacyrillic=1139,e.five=53,e.fivearabic=1637,e.fivebengali=2539,e.fivecircle=9316,e.fivecircleinversesansserif=10126,e.fivedeva=2411,e.fiveeighths=8541,e.fivegujarati=2795,e.fivegurmukhi=2667,e.fivehackarabic=1637,e.fivehangzhou=12325,e.fiveideographicparen=12836,e.fiveinferior=8325,e.fivemonospace=65301,e.fiveoldstyle=63285,e.fiveparen=9336,e.fiveperiod=9356,e.fivepersian=1781,e.fiveroman=8564,e.fivesuperior=8309,e.fivethai=3669,e.fl=64258,e.florin=402,e.fmonospace=65350,e.fmsquare=13209,e.fofanthai=3615,e.fofathai=3613,e.fongmanthai=3663,e.forall=8704,e.four=52,e.fourarabic=1636,e.fourbengali=2538,e.fourcircle=9315,e.fourcircleinversesansserif=10125,e.fourdeva=2410,e.fourgujarati=2794,e.fourgurmukhi=2666,e.fourhackarabic=1636,e.fourhangzhou=12324,e.fourideographicparen=12835,e.fourinferior=8324,e.fourmonospace=65300,e.fournumeratorbengali=2551,e.fouroldstyle=63284,e.fourparen=9335,e.fourperiod=9355,e.fourpersian=1780,e.fourroman=8563,e.foursuperior=8308,e.fourteencircle=9325,e.fourteenparen=9345,e.fourteenperiod=9365,e.fourthai=3668,e.fourthtonechinese=715,e.fparen=9377,e.fraction=8260,e.franc=8355,e.g=103,e.gabengali=2455,e.gacute=501,e.gadeva=2327,e.gafarabic=1711,e.gaffinalarabic=64403,e.gafinitialarabic=64404,e.gafmedialarabic=64405,e.gagujarati=2711,e.gagurmukhi=2583,e.gahiragana=12364,e.gakatakana=12460,e.gamma=947,e.gammalatinsmall=611,e.gammasuperior=736,e.gangiacoptic=1003,e.gbopomofo=12557,e.gbreve=287,e.gcaron=487,e.gcedilla=291,e.gcircle=9430,e.gcircumflex=285,e.gcommaaccent=291,e.gdot=289,e.gdotaccent=289,e.gecyrillic=1075,e.gehiragana=12370,e.gekatakana=12466,e.geometricallyequal=8785,e.gereshaccenthebrew=1436,e.gereshhebrew=1523,e.gereshmuqdamhebrew=1437,e.germandbls=223,e.gershayimaccenthebrew=1438,e.gershayimhebrew=1524,e.getamark=12307,e.ghabengali=2456,e.ghadarmenian=1394,e.ghadeva=2328,e.ghagujarati=2712,e.ghagurmukhi=2584,e.ghainarabic=1594,e.ghainfinalarabic=65230,e.ghaininitialarabic=65231,e.ghainmedialarabic=65232,e.ghemiddlehookcyrillic=1173,e.ghestrokecyrillic=1171,e.gheupturncyrillic=1169,e.ghhadeva=2394,e.ghhagurmukhi=2650,e.ghook=608,e.ghzsquare=13203,e.gihiragana=12366,e.gikatakana=12462,e.gimarmenian=1379,e.gimel=1490,e.gimeldagesh=64306,e.gimeldageshhebrew=64306,e.gimelhebrew=1490,e.gjecyrillic=1107,e.glottalinvertedstroke=446,e.glottalstop=660,e.glottalstopinverted=662,e.glottalstopmod=704,e.glottalstopreversed=661,e.glottalstopreversedmod=705,e.glottalstopreversedsuperior=740,e.glottalstopstroke=673,e.glottalstopstrokereversed=674,e.gmacron=7713,e.gmonospace=65351,e.gohiragana=12372,e.gokatakana=12468,e.gparen=9378,e.gpasquare=13228,e.gradient=8711,e.grave=96,e.gravebelowcmb=790,e.gravecmb=768,e.gravecomb=768,e.gravedeva=2387,e.gravelowmod=718,e.gravemonospace=65344,e.gravetonecmb=832,e.greater=62,e.greaterequal=8805,e.greaterequalorless=8923,e.greatermonospace=65310,e.greaterorequivalent=8819,e.greaterorless=8823,e.greateroverequal=8807,e.greatersmall=65125,e.gscript=609,e.gstroke=485,e.guhiragana=12368,e.guillemotleft=171,e.guillemotright=187,e.guilsinglleft=8249,e.guilsinglright=8250,e.gukatakana=12464,e.guramusquare=13080,e.gysquare=13257,e.h=104,e.haabkhasiancyrillic=1193,e.haaltonearabic=1729,e.habengali=2489,e.hadescendercyrillic=1203,e.hadeva=2361,e.hagujarati=2745,e.hagurmukhi=2617,e.haharabic=1581,e.hahfinalarabic=65186,e.hahinitialarabic=65187,e.hahiragana=12399,e.hahmedialarabic=65188,e.haitusquare=13098,e.hakatakana=12495,e.hakatakanahalfwidth=65418,e.halantgurmukhi=2637,e.hamzaarabic=1569,e.hamzalowarabic=1569,e.hangulfiller=12644,e.hardsigncyrillic=1098,e.harpoonleftbarbup=8636,e.harpoonrightbarbup=8640,e.hasquare=13258,e.hatafpatah=1458,e.hatafpatah16=1458,e.hatafpatah23=1458,e.hatafpatah2f=1458,e.hatafpatahhebrew=1458,e.hatafpatahnarrowhebrew=1458,e.hatafpatahquarterhebrew=1458,e.hatafpatahwidehebrew=1458,e.hatafqamats=1459,e.hatafqamats1b=1459,e.hatafqamats28=1459,e.hatafqamats34=1459,e.hatafqamatshebrew=1459,e.hatafqamatsnarrowhebrew=1459,e.hatafqamatsquarterhebrew=1459,e.hatafqamatswidehebrew=1459,e.hatafsegol=1457,e.hatafsegol17=1457,e.hatafsegol24=1457,e.hatafsegol30=1457,e.hatafsegolhebrew=1457,e.hatafsegolnarrowhebrew=1457,e.hatafsegolquarterhebrew=1457,e.hatafsegolwidehebrew=1457,e.hbar=295,e.hbopomofo=12559,e.hbrevebelow=7723,e.hcedilla=7721,e.hcircle=9431,e.hcircumflex=293,e.hdieresis=7719,e.hdotaccent=7715,e.hdotbelow=7717,e.he=1492,e.heart=9829,e.heartsuitblack=9829,e.heartsuitwhite=9825,e.hedagesh=64308,e.hedageshhebrew=64308,e.hehaltonearabic=1729,e.heharabic=1607,e.hehebrew=1492,e.hehfinalaltonearabic=64423,e.hehfinalalttwoarabic=65258,e.hehfinalarabic=65258,e.hehhamzaabovefinalarabic=64421,e.hehhamzaaboveisolatedarabic=64420,e.hehinitialaltonearabic=64424,e.hehinitialarabic=65259,e.hehiragana=12408,e.hehmedialaltonearabic=64425,e.hehmedialarabic=65260,e.heiseierasquare=13179,e.hekatakana=12504,e.hekatakanahalfwidth=65421,e.hekutaarusquare=13110,e.henghook=615,e.herutusquare=13113,e.het=1495,e.hethebrew=1495,e.hhook=614,e.hhooksuperior=689,e.hieuhacirclekorean=12923,e.hieuhaparenkorean=12827,e.hieuhcirclekorean=12909,e.hieuhkorean=12622,e.hieuhparenkorean=12813,e.hihiragana=12402,e.hikatakana=12498,e.hikatakanahalfwidth=65419,e.hiriq=1460,e.hiriq14=1460,e.hiriq21=1460,e.hiriq2d=1460,e.hiriqhebrew=1460,e.hiriqnarrowhebrew=1460,e.hiriqquarterhebrew=1460,e.hiriqwidehebrew=1460,e.hlinebelow=7830,e.hmonospace=65352,e.hoarmenian=1392,e.hohipthai=3627,e.hohiragana=12411,e.hokatakana=12507,e.hokatakanahalfwidth=65422,e.holam=1465,e.holam19=1465,e.holam26=1465,e.holam32=1465,e.holamhebrew=1465,e.holamnarrowhebrew=1465,e.holamquarterhebrew=1465,e.holamwidehebrew=1465,e.honokhukthai=3630,e.hookabovecomb=777,e.hookcmb=777,e.hookpalatalizedbelowcmb=801,e.hookretroflexbelowcmb=802,e.hoonsquare=13122,e.horicoptic=1001,e.horizontalbar=8213,e.horncmb=795,e.hotsprings=9832,e.house=8962,e.hparen=9379,e.hsuperior=688,e.hturned=613,e.huhiragana=12405,e.huiitosquare=13107,e.hukatakana=12501,e.hukatakanahalfwidth=65420,e.hungarumlaut=733,e.hungarumlautcmb=779,e.hv=405,e.hyphen=45,e.hypheninferior=63205,e.hyphenmonospace=65293,e.hyphensmall=65123,e.hyphensuperior=63206,e.hyphentwo=8208,e.i=105,e.iacute=237,e.iacyrillic=1103,e.ibengali=2439,e.ibopomofo=12583,e.ibreve=301,e.icaron=464,e.icircle=9432,e.icircumflex=238,e.icyrillic=1110,e.idblgrave=521,e.ideographearthcircle=12943,e.ideographfirecircle=12939,e.ideographicallianceparen=12863,e.ideographiccallparen=12858,e.ideographiccentrecircle=12965,e.ideographicclose=12294,e.ideographiccomma=12289,e.ideographiccommaleft=65380,e.ideographiccongratulationparen=12855,e.ideographiccorrectcircle=12963,e.ideographicearthparen=12847,e.ideographicenterpriseparen=12861,e.ideographicexcellentcircle=12957,e.ideographicfestivalparen=12864,e.ideographicfinancialcircle=12950,e.ideographicfinancialparen=12854,e.ideographicfireparen=12843,e.ideographichaveparen=12850,e.ideographichighcircle=12964,e.ideographiciterationmark=12293,e.ideographiclaborcircle=12952,e.ideographiclaborparen=12856,e.ideographicleftcircle=12967,e.ideographiclowcircle=12966,e.ideographicmedicinecircle=12969,e.ideographicmetalparen=12846,e.ideographicmoonparen=12842,e.ideographicnameparen=12852,e.ideographicperiod=12290,e.ideographicprintcircle=12958,e.ideographicreachparen=12867,e.ideographicrepresentparen=12857,e.ideographicresourceparen=12862,e.ideographicrightcircle=12968,e.ideographicsecretcircle=12953,e.ideographicselfparen=12866,e.ideographicsocietyparen=12851,e.ideographicspace=12288,e.ideographicspecialparen=12853,e.ideographicstockparen=12849,e.ideographicstudyparen=12859,e.ideographicsunparen=12848,e.ideographicsuperviseparen=12860,e.ideographicwaterparen=12844,e.ideographicwoodparen=12845,e.ideographiczero=12295,e.ideographmetalcircle=12942,e.ideographmooncircle=12938,e.ideographnamecircle=12948,e.ideographsuncircle=12944,e.ideographwatercircle=12940,e.ideographwoodcircle=12941,e.ideva=2311,e.idieresis=239,e.idieresisacute=7727,e.idieresiscyrillic=1253,e.idotbelow=7883,e.iebrevecyrillic=1239,e.iecyrillic=1077,e.ieungacirclekorean=12917,e.ieungaparenkorean=12821,e.ieungcirclekorean=12903,e.ieungkorean=12615,e.ieungparenkorean=12807,e.igrave=236,e.igujarati=2695,e.igurmukhi=2567,e.ihiragana=12356,e.ihookabove=7881,e.iibengali=2440,e.iicyrillic=1080,e.iideva=2312,e.iigujarati=2696,e.iigurmukhi=2568,e.iimatragurmukhi=2624,e.iinvertedbreve=523,e.iishortcyrillic=1081,e.iivowelsignbengali=2496,e.iivowelsigndeva=2368,e.iivowelsigngujarati=2752,e.ij=307,e.ikatakana=12452,e.ikatakanahalfwidth=65394,e.ikorean=12643,e.ilde=732,e.iluyhebrew=1452,e.imacron=299,e.imacroncyrillic=1251,e.imageorapproximatelyequal=8787,e.imatragurmukhi=2623,e.imonospace=65353,e.increment=8710,e.infinity=8734,e.iniarmenian=1387,e.integral=8747,e.integralbottom=8993,e.integralbt=8993,e.integralex=63733,e.integraltop=8992,e.integraltp=8992,e.intersection=8745,e.intisquare=13061,e.invbullet=9688,e.invcircle=9689,e.invsmileface=9787,e.iocyrillic=1105,e.iogonek=303,e.iota=953,e.iotadieresis=970,e.iotadieresistonos=912,e.iotalatin=617,e.iotatonos=943,e.iparen=9380,e.irigurmukhi=2674,e.ismallhiragana=12355,e.ismallkatakana=12451,e.ismallkatakanahalfwidth=65384,e.issharbengali=2554,e.istroke=616,e.isuperior=63213,e.iterationhiragana=12445,e.iterationkatakana=12541,e.itilde=297,e.itildebelow=7725,e.iubopomofo=12585,e.iucyrillic=1102,e.ivowelsignbengali=2495,e.ivowelsigndeva=2367,e.ivowelsigngujarati=2751,e.izhitsacyrillic=1141,e.izhitsadblgravecyrillic=1143,e.j=106,e.jaarmenian=1393,e.jabengali=2460,e.jadeva=2332,e.jagujarati=2716,e.jagurmukhi=2588,e.jbopomofo=12560,e.jcaron=496,e.jcircle=9433,e.jcircumflex=309,e.jcrossedtail=669,e.jdotlessstroke=607,e.jecyrillic=1112,e.jeemarabic=1580,e.jeemfinalarabic=65182,e.jeeminitialarabic=65183,e.jeemmedialarabic=65184,e.jeharabic=1688,e.jehfinalarabic=64395,e.jhabengali=2461,e.jhadeva=2333,e.jhagujarati=2717,e.jhagurmukhi=2589,e.jheharmenian=1403,e.jis=12292,e.jmonospace=65354,e.jparen=9381,e.jsuperior=690,e.k=107,e.kabashkircyrillic=1185,e.kabengali=2453,e.kacute=7729,e.kacyrillic=1082,e.kadescendercyrillic=1179,e.kadeva=2325,e.kaf=1499,e.kafarabic=1603,e.kafdagesh=64315,e.kafdageshhebrew=64315,e.kaffinalarabic=65242,e.kafhebrew=1499,e.kafinitialarabic=65243,e.kafmedialarabic=65244,e.kafrafehebrew=64333,e.kagujarati=2709,e.kagurmukhi=2581,e.kahiragana=12363,e.kahookcyrillic=1220,e.kakatakana=12459,e.kakatakanahalfwidth=65398,e.kappa=954,e.kappasymbolgreek=1008,e.kapyeounmieumkorean=12657,e.kapyeounphieuphkorean=12676,e.kapyeounpieupkorean=12664,e.kapyeounssangpieupkorean=12665,e.karoriisquare=13069,e.kashidaautoarabic=1600,e.kashidaautonosidebearingarabic=1600,e.kasmallkatakana=12533,e.kasquare=13188,e.kasraarabic=1616,e.kasratanarabic=1613,e.kastrokecyrillic=1183,e.katahiraprolongmarkhalfwidth=65392,e.kaverticalstrokecyrillic=1181,e.kbopomofo=12558,e.kcalsquare=13193,e.kcaron=489,e.kcedilla=311,e.kcircle=9434,e.kcommaaccent=311,e.kdotbelow=7731,e.keharmenian=1412,e.kehiragana=12369,e.kekatakana=12465,e.kekatakanahalfwidth=65401,e.kenarmenian=1391,e.kesmallkatakana=12534,e.kgreenlandic=312,e.khabengali=2454,e.khacyrillic=1093,e.khadeva=2326,e.khagujarati=2710,e.khagurmukhi=2582,e.khaharabic=1582,e.khahfinalarabic=65190,e.khahinitialarabic=65191,e.khahmedialarabic=65192,e.kheicoptic=999,e.khhadeva=2393,e.khhagurmukhi=2649,e.khieukhacirclekorean=12920,e.khieukhaparenkorean=12824,e.khieukhcirclekorean=12906,e.khieukhkorean=12619,e.khieukhparenkorean=12810,e.khokhaithai=3586,e.khokhonthai=3589,e.khokhuatthai=3587,e.khokhwaithai=3588,e.khomutthai=3675,e.khook=409,e.khorakhangthai=3590,e.khzsquare=13201,e.kihiragana=12365,e.kikatakana=12461,e.kikatakanahalfwidth=65399,e.kiroguramusquare=13077,e.kiromeetorusquare=13078,e.kirosquare=13076,e.kiyeokacirclekorean=12910,e.kiyeokaparenkorean=12814,e.kiyeokcirclekorean=12896,e.kiyeokkorean=12593,e.kiyeokparenkorean=12800,e.kiyeoksioskorean=12595,e.kjecyrillic=1116,e.klinebelow=7733,e.klsquare=13208,e.kmcubedsquare=13222;e.kmonospace=65355,e.kmsquaredsquare=13218,e.kohiragana=12371,e.kohmsquare=13248,e.kokaithai=3585,e.kokatakana=12467,e.kokatakanahalfwidth=65402,e.kooposquare=13086,e.koppacyrillic=1153,e.koreanstandardsymbol=12927,e.koroniscmb=835,e.kparen=9382,e.kpasquare=13226,e.ksicyrillic=1135,e.ktsquare=13263,e.kturned=670,e.kuhiragana=12367,e.kukatakana=12463,e.kukatakanahalfwidth=65400,e.kvsquare=13240,e.kwsquare=13246,e.l=108,e.labengali=2482,e.lacute=314,e.ladeva=2354,e.lagujarati=2738,e.lagurmukhi=2610,e.lakkhangyaothai=3653,e.lamaleffinalarabic=65276,e.lamalefhamzaabovefinalarabic=65272,e.lamalefhamzaaboveisolatedarabic=65271,e.lamalefhamzabelowfinalarabic=65274,e.lamalefhamzabelowisolatedarabic=65273,e.lamalefisolatedarabic=65275,e.lamalefmaddaabovefinalarabic=65270,e.lamalefmaddaaboveisolatedarabic=65269,e.lamarabic=1604,e.lambda=955,e.lambdastroke=411,e.lamed=1500,e.lameddagesh=64316,e.lameddageshhebrew=64316,e.lamedhebrew=1500,e.lamfinalarabic=65246,e.lamhahinitialarabic=64714,e.laminitialarabic=65247,e.lamjeeminitialarabic=64713,e.lamkhahinitialarabic=64715,e.lamlamhehisolatedarabic=65010,e.lammedialarabic=65248,e.lammeemhahinitialarabic=64904,e.lammeeminitialarabic=64716,e.largecircle=9711,e.lbar=410,e.lbelt=620,e.lbopomofo=12556,e.lcaron=318,e.lcedilla=316,e.lcircle=9435,e.lcircumflexbelow=7741,e.lcommaaccent=316,e.ldot=320,e.ldotaccent=320,e.ldotbelow=7735,e.ldotbelowmacron=7737,e.leftangleabovecmb=794,e.lefttackbelowcmb=792,e.less=60,e.lessequal=8804,e.lessequalorgreater=8922,e.lessmonospace=65308,e.lessorequivalent=8818,e.lessorgreater=8822,e.lessoverequal=8806,e.lesssmall=65124,e.lezh=622,e.lfblock=9612,e.lhookretroflex=621,e.lira=8356,e.liwnarmenian=1388,e.lj=457,e.ljecyrillic=1113,e.ll=63168,e.lladeva=2355,e.llagujarati=2739,e.llinebelow=7739,e.llladeva=2356,e.llvocalicbengali=2529,e.llvocalicdeva=2401,e.llvocalicvowelsignbengali=2531,e.llvocalicvowelsigndeva=2403,e.lmiddletilde=619,e.lmonospace=65356,e.lmsquare=13264,e.lochulathai=3628,e.logicaland=8743,e.logicalnot=172,e.logicalnotreversed=8976,e.logicalor=8744,e.lolingthai=3621,e.longs=383,e.lowlinecenterline=65102,e.lowlinecmb=818,e.lowlinedashed=65101,e.lozenge=9674,e.lparen=9383,e.lslash=322,e.lsquare=8467,e.lsuperior=63214,e.ltshade=9617,e.luthai=3622,e.lvocalicbengali=2444,e.lvocalicdeva=2316,e.lvocalicvowelsignbengali=2530,e.lvocalicvowelsigndeva=2402,e.lxsquare=13267,e.m=109,e.mabengali=2478,e.macron=175,e.macronbelowcmb=817,e.macroncmb=772,e.macronlowmod=717,e.macronmonospace=65507,e.macute=7743,e.madeva=2350,e.magujarati=2734,e.magurmukhi=2606,e.mahapakhhebrew=1444,e.mahapakhlefthebrew=1444,e.mahiragana=12414,e.maichattawalowleftthai=63637,e.maichattawalowrightthai=63636,e.maichattawathai=3659,e.maichattawaupperleftthai=63635,e.maieklowleftthai=63628,e.maieklowrightthai=63627,e.maiekthai=3656,e.maiekupperleftthai=63626,e.maihanakatleftthai=63620,e.maihanakatthai=3633,e.maitaikhuleftthai=63625,e.maitaikhuthai=3655,e.maitholowleftthai=63631,e.maitholowrightthai=63630,e.maithothai=3657,e.maithoupperleftthai=63629,e.maitrilowleftthai=63634,e.maitrilowrightthai=63633,e.maitrithai=3658,e.maitriupperleftthai=63632,e.maiyamokthai=3654,e.makatakana=12510,e.makatakanahalfwidth=65423,e.male=9794,e.mansyonsquare=13127,e.maqafhebrew=1470,e.mars=9794,e.masoracirclehebrew=1455,e.masquare=13187,e.mbopomofo=12551,e.mbsquare=13268,e.mcircle=9436,e.mcubedsquare=13221,e.mdotaccent=7745,e.mdotbelow=7747,e.meemarabic=1605,e.meemfinalarabic=65250,e.meeminitialarabic=65251,e.meemmedialarabic=65252,e.meemmeeminitialarabic=64721,e.meemmeemisolatedarabic=64584,e.meetorusquare=13133,e.mehiragana=12417,e.meizierasquare=13182,e.mekatakana=12513,e.mekatakanahalfwidth=65426,e.mem=1502,e.memdagesh=64318,e.memdageshhebrew=64318,e.memhebrew=1502,e.menarmenian=1396,e.merkhahebrew=1445,e.merkhakefulahebrew=1446,e.merkhakefulalefthebrew=1446,e.merkhalefthebrew=1445,e.mhook=625,e.mhzsquare=13202,e.middledotkatakanahalfwidth=65381,e.middot=183,e.mieumacirclekorean=12914,e.mieumaparenkorean=12818,e.mieumcirclekorean=12900,e.mieumkorean=12609,e.mieumpansioskorean=12656,e.mieumparenkorean=12804,e.mieumpieupkorean=12654,e.mieumsioskorean=12655,e.mihiragana=12415,e.mikatakana=12511,e.mikatakanahalfwidth=65424,e.minus=8722,e.minusbelowcmb=800,e.minuscircle=8854,e.minusmod=727,e.minusplus=8723,e.minute=8242,e.miribaarusquare=13130,e.mirisquare=13129,e.mlonglegturned=624,e.mlsquare=13206,e.mmcubedsquare=13219,e.mmonospace=65357,e.mmsquaredsquare=13215,e.mohiragana=12418,e.mohmsquare=13249,e.mokatakana=12514,e.mokatakanahalfwidth=65427,e.molsquare=13270,e.momathai=3617,e.moverssquare=13223,e.moverssquaredsquare=13224,e.mparen=9384,e.mpasquare=13227,e.mssquare=13235,e.msuperior=63215,e.mturned=623,e.mu=181,e.mu1=181,e.muasquare=13186,e.muchgreater=8811,e.muchless=8810,e.mufsquare=13196,e.mugreek=956,e.mugsquare=13197,e.muhiragana=12416,e.mukatakana=12512,e.mukatakanahalfwidth=65425,e.mulsquare=13205,e.multiply=215,e.mumsquare=13211,e.munahhebrew=1443,e.munahlefthebrew=1443,e.musicalnote=9834,e.musicalnotedbl=9835,e.musicflatsign=9837,e.musicsharpsign=9839,e.mussquare=13234,e.muvsquare=13238,e.muwsquare=13244,e.mvmegasquare=13241,e.mvsquare=13239,e.mwmegasquare=13247,e.mwsquare=13245,e.n=110,e.nabengali=2472,e.nabla=8711,e.nacute=324,e.nadeva=2344,e.nagujarati=2728,e.nagurmukhi=2600,e.nahiragana=12394,e.nakatakana=12490,e.nakatakanahalfwidth=65413,e.napostrophe=329,e.nasquare=13185,e.nbopomofo=12555,e.nbspace=160,e.ncaron=328,e.ncedilla=326,e.ncircle=9437,e.ncircumflexbelow=7755,e.ncommaaccent=326,e.ndotaccent=7749,e.ndotbelow=7751,e.nehiragana=12397,e.nekatakana=12493,e.nekatakanahalfwidth=65416,e.newsheqelsign=8362,e.nfsquare=13195,e.ngabengali=2457,e.ngadeva=2329,e.ngagujarati=2713,e.ngagurmukhi=2585,e.ngonguthai=3591,e.nhiragana=12435,e.nhookleft=626,e.nhookretroflex=627,e.nieunacirclekorean=12911,e.nieunaparenkorean=12815,e.nieuncieuckorean=12597,e.nieuncirclekorean=12897,e.nieunhieuhkorean=12598,e.nieunkorean=12596,e.nieunpansioskorean=12648,e.nieunparenkorean=12801,e.nieunsioskorean=12647,e.nieuntikeutkorean=12646,e.nihiragana=12395,e.nikatakana=12491,e.nikatakanahalfwidth=65414,e.nikhahitleftthai=63641,e.nikhahitthai=3661,e.nine=57,e.ninearabic=1641,e.ninebengali=2543,e.ninecircle=9320,e.ninecircleinversesansserif=10130,e.ninedeva=2415,e.ninegujarati=2799,e.ninegurmukhi=2671,e.ninehackarabic=1641,e.ninehangzhou=12329,e.nineideographicparen=12840,e.nineinferior=8329,e.ninemonospace=65305,e.nineoldstyle=63289,e.nineparen=9340,e.nineperiod=9360,e.ninepersian=1785,e.nineroman=8568,e.ninesuperior=8313,e.nineteencircle=9330,e.nineteenparen=9350,e.nineteenperiod=9370,e.ninethai=3673,e.nj=460,e.njecyrillic=1114,e.nkatakana=12531,e.nkatakanahalfwidth=65437,e.nlegrightlong=414,e.nlinebelow=7753,e.nmonospace=65358,e.nmsquare=13210,e.nnabengali=2467,e.nnadeva=2339,e.nnagujarati=2723,e.nnagurmukhi=2595,e.nnnadeva=2345,e.nohiragana=12398,e.nokatakana=12494,e.nokatakanahalfwidth=65417,e.nonbreakingspace=160,e.nonenthai=3603,e.nonuthai=3609,e.noonarabic=1606,e.noonfinalarabic=65254,e.noonghunnaarabic=1722,e.noonghunnafinalarabic=64415,e.nooninitialarabic=65255,e.noonjeeminitialarabic=64722,e.noonjeemisolatedarabic=64587,e.noonmedialarabic=65256,e.noonmeeminitialarabic=64725,e.noonmeemisolatedarabic=64590,e.noonnoonfinalarabic=64653,e.notcontains=8716,e.notelement=8713,e.notelementof=8713,e.notequal=8800,e.notgreater=8815,e.notgreaternorequal=8817,e.notgreaternorless=8825,e.notidentical=8802,e.notless=8814,e.notlessnorequal=8816,e.notparallel=8742,e.notprecedes=8832,e.notsubset=8836,e.notsucceeds=8833,e.notsuperset=8837,e.nowarmenian=1398,e.nparen=9385,e.nssquare=13233,e.nsuperior=8319,e.ntilde=241,e.nu=957,e.nuhiragana=12396,e.nukatakana=12492,e.nukatakanahalfwidth=65415,e.nuktabengali=2492,e.nuktadeva=2364,e.nuktagujarati=2748,e.nuktagurmukhi=2620,e.numbersign=35,e.numbersignmonospace=65283,e.numbersignsmall=65119,e.numeralsigngreek=884,e.numeralsignlowergreek=885,e.numero=8470,e.nun=1504,e.nundagesh=64320,e.nundageshhebrew=64320,e.nunhebrew=1504,e.nvsquare=13237,e.nwsquare=13243,e.nyabengali=2462,e.nyadeva=2334,e.nyagujarati=2718,e.nyagurmukhi=2590,e.o=111,e.oacute=243,e.oangthai=3629,e.obarred=629,e.obarredcyrillic=1257,e.obarreddieresiscyrillic=1259,e.obengali=2451,e.obopomofo=12571,e.obreve=335,e.ocandradeva=2321,e.ocandragujarati=2705,e.ocandravowelsigndeva=2377,e.ocandravowelsigngujarati=2761,e.ocaron=466,e.ocircle=9438,e.ocircumflex=244,e.ocircumflexacute=7889,e.ocircumflexdotbelow=7897,e.ocircumflexgrave=7891,e.ocircumflexhookabove=7893,e.ocircumflextilde=7895,e.ocyrillic=1086,e.odblacute=337,e.odblgrave=525,e.odeva=2323,e.odieresis=246,e.odieresiscyrillic=1255,e.odotbelow=7885,e.oe=339,e.oekorean=12634,e.ogonek=731,e.ogonekcmb=808,e.ograve=242,e.ogujarati=2707,e.oharmenian=1413,e.ohiragana=12362,e.ohookabove=7887,e.ohorn=417,e.ohornacute=7899,e.ohorndotbelow=7907,e.ohorngrave=7901,e.ohornhookabove=7903,e.ohorntilde=7905,e.ohungarumlaut=337,e.oi=419,e.oinvertedbreve=527,e.okatakana=12458,e.okatakanahalfwidth=65397,e.okorean=12631,e.olehebrew=1451,e.omacron=333,e.omacronacute=7763,e.omacrongrave=7761,e.omdeva=2384,e.omega=969,e.omega1=982,e.omegacyrillic=1121,e.omegalatinclosed=631,e.omegaroundcyrillic=1147,e.omegatitlocyrillic=1149,e.omegatonos=974,e.omgujarati=2768,e.omicron=959,e.omicrontonos=972,e.omonospace=65359,e.one=49,e.onearabic=1633,e.onebengali=2535,e.onecircle=9312,e.onecircleinversesansserif=10122,e.onedeva=2407,e.onedotenleader=8228,e.oneeighth=8539,e.onefitted=63196,e.onegujarati=2791,e.onegurmukhi=2663,e.onehackarabic=1633,e.onehalf=189,e.onehangzhou=12321,e.oneideographicparen=12832,e.oneinferior=8321,e.onemonospace=65297,e.onenumeratorbengali=2548,e.oneoldstyle=63281,e.oneparen=9332,e.oneperiod=9352,e.onepersian=1777,e.onequarter=188,e.oneroman=8560,e.onesuperior=185,e.onethai=3665,e.onethird=8531,e.oogonek=491,e.oogonekmacron=493,e.oogurmukhi=2579,e.oomatragurmukhi=2635,e.oopen=596,e.oparen=9386,e.openbullet=9702,e.option=8997,e.ordfeminine=170,e.ordmasculine=186,e.orthogonal=8735,e.oshortdeva=2322,e.oshortvowelsigndeva=2378,e.oslash=248,e.oslashacute=511,e.osmallhiragana=12361,e.osmallkatakana=12457,e.osmallkatakanahalfwidth=65387,e.ostrokeacute=511,e.osuperior=63216,e.otcyrillic=1151,e.otilde=245,e.otildeacute=7757,e.otildedieresis=7759,e.oubopomofo=12577,e.overline=8254,e.overlinecenterline=65098,e.overlinecmb=773,e.overlinedashed=65097,e.overlinedblwavy=65100,e.overlinewavy=65099,e.overscore=175,e.ovowelsignbengali=2507,e.ovowelsigndeva=2379,e.ovowelsigngujarati=2763,e.p=112,e.paampssquare=13184,e.paasentosquare=13099,e.pabengali=2474,e.pacute=7765,e.padeva=2346,e.pagedown=8671,e.pageup=8670,e.pagujarati=2730,e.pagurmukhi=2602,e.pahiragana=12401,e.paiyannoithai=3631,e.pakatakana=12497,e.palatalizationcyrilliccmb=1156,e.palochkacyrillic=1216,e.pansioskorean=12671,e.paragraph=182,e.parallel=8741,e.parenleft=40,e.parenleftaltonearabic=64830,e.parenleftbt=63725,e.parenleftex=63724,e.parenleftinferior=8333,e.parenleftmonospace=65288,e.parenleftsmall=65113,e.parenleftsuperior=8317,e.parenlefttp=63723,e.parenleftvertical=65077,e.parenright=41,e.parenrightaltonearabic=64831,e.parenrightbt=63736,e.parenrightex=63735,e.parenrightinferior=8334,e.parenrightmonospace=65289,e.parenrightsmall=65114,e.parenrightsuperior=8318,e.parenrighttp=63734,e.parenrightvertical=65078,e.partialdiff=8706,e.paseqhebrew=1472,e.pashtahebrew=1433,e.pasquare=13225,e.patah=1463,e.patah11=1463,e.patah1d=1463,e.patah2a=1463,e.patahhebrew=1463,e.patahnarrowhebrew=1463,e.patahquarterhebrew=1463,e.patahwidehebrew=1463,e.pazerhebrew=1441,e.pbopomofo=12550,e.pcircle=9439,e.pdotaccent=7767,e.pe=1508,e.pecyrillic=1087,e.pedagesh=64324,e.pedageshhebrew=64324,e.peezisquare=13115,e.pefinaldageshhebrew=64323,e.peharabic=1662,e.peharmenian=1402,e.pehebrew=1508,e.pehfinalarabic=64343,e.pehinitialarabic=64344,e.pehiragana=12410,e.pehmedialarabic=64345,e.pekatakana=12506,e.pemiddlehookcyrillic=1191,e.perafehebrew=64334,e.percent=37,e.percentarabic=1642,e.percentmonospace=65285,e.percentsmall=65130,e.period=46,e.periodarmenian=1417,e.periodcentered=183,e.periodhalfwidth=65377,e.periodinferior=63207,e.periodmonospace=65294,e.periodsmall=65106,e.periodsuperior=63208,e.perispomenigreekcmb=834,e.perpendicular=8869,e.perthousand=8240,e.peseta=8359,e.pfsquare=13194,e.phabengali=2475,e.phadeva=2347,e.phagujarati=2731,e.phagurmukhi=2603,e.phi=966,e.phi1=981,e.phieuphacirclekorean=12922,e.phieuphaparenkorean=12826,e.phieuphcirclekorean=12908,e.phieuphkorean=12621,e.phieuphparenkorean=12812,e.philatin=632,e.phinthuthai=3642,e.phisymbolgreek=981,e.phook=421,e.phophanthai=3614,e.phophungthai=3612,e.phosamphaothai=3616,e.pi=960,e.pieupacirclekorean=12915,e.pieupaparenkorean=12819,e.pieupcieuckorean=12662,e.pieupcirclekorean=12901,e.pieupkiyeokkorean=12658,e.pieupkorean=12610,e.pieupparenkorean=12805,e.pieupsioskiyeokkorean=12660,e.pieupsioskorean=12612,e.pieupsiostikeutkorean=12661,e.pieupthieuthkorean=12663,e.pieuptikeutkorean=12659,e.pihiragana=12404,e.pikatakana=12500,e.pisymbolgreek=982,e.piwrarmenian=1411,e.plus=43,e.plusbelowcmb=799,e.pluscircle=8853,e.plusminus=177,e.plusmod=726,e.plusmonospace=65291,e.plussmall=65122,e.plussuperior=8314,e.pmonospace=65360,e.pmsquare=13272,e.pohiragana=12413,e.pointingindexdownwhite=9759,e.pointingindexleftwhite=9756,e.pointingindexrightwhite=9758,e.pointingindexupwhite=9757,e.pokatakana=12509,e.poplathai=3611,e.postalmark=12306,e.postalmarkface=12320,e.pparen=9387,e.precedes=8826,e.prescription=8478,e.primemod=697,e.primereversed=8245,e.product=8719,e.projective=8965,e.prolongedkana=12540,e.propellor=8984,e.propersubset=8834,e.propersuperset=8835,e.proportion=8759,e.proportional=8733,e.psi=968,e.psicyrillic=1137,e.psilipneumatacyrilliccmb=1158,e.pssquare=13232,e.puhiragana=12407,e.pukatakana=12503,e.pvsquare=13236,e.pwsquare=13242,e.q=113,e.qadeva=2392,e.qadmahebrew=1448,e.qafarabic=1602,e.qaffinalarabic=65238,e.qafinitialarabic=65239,e.qafmedialarabic=65240,e.qamats=1464,e.qamats10=1464,e.qamats1a=1464,e.qamats1c=1464,e.qamats27=1464,e.qamats29=1464,e.qamats33=1464,e.qamatsde=1464,e.qamatshebrew=1464,e.qamatsnarrowhebrew=1464,e.qamatsqatanhebrew=1464,e.qamatsqatannarrowhebrew=1464,e.qamatsqatanquarterhebrew=1464,e.qamatsqatanwidehebrew=1464,e.qamatsquarterhebrew=1464,e.qamatswidehebrew=1464,e.qarneyparahebrew=1439,e.qbopomofo=12561,e.qcircle=9440,e.qhook=672,e.qmonospace=65361,e.qof=1511,e.qofdagesh=64327,e.qofdageshhebrew=64327,e.qofhebrew=1511,e.qparen=9388,e.quarternote=9833,e.qubuts=1467,e.qubuts18=1467,e.qubuts25=1467,e.qubuts31=1467,e.qubutshebrew=1467,e.qubutsnarrowhebrew=1467,e.qubutsquarterhebrew=1467,e.qubutswidehebrew=1467,e.question=63,e.questionarabic=1567,e.questionarmenian=1374,e.questiondown=191,e.questiondownsmall=63423,e.questiongreek=894,e.questionmonospace=65311,e.questionsmall=63295,e.quotedbl=34,e.quotedblbase=8222,e.quotedblleft=8220,e.quotedblmonospace=65282,e.quotedblprime=12318,e.quotedblprimereversed=12317,e.quotedblright=8221,e.quoteleft=8216,e.quoteleftreversed=8219,e.quotereversed=8219,e.quoteright=8217,e.quoterightn=329,e.quotesinglbase=8218,e.quotesingle=39,e.quotesinglemonospace=65287,e.r=114,e.raarmenian=1404,e.rabengali=2480,e.racute=341,e.radeva=2352,e.radical=8730,e.radicalex=63717,e.radoverssquare=13230,e.radoverssquaredsquare=13231,e.radsquare=13229,e.rafe=1471,e.rafehebrew=1471,e.ragujarati=2736,e.ragurmukhi=2608,e.rahiragana=12425,e.rakatakana=12521,e.rakatakanahalfwidth=65431,e.ralowerdiagonalbengali=2545,e.ramiddlediagonalbengali=2544,e.ramshorn=612,e.ratio=8758,e.rbopomofo=12566,e.rcaron=345,e.rcedilla=343,e.rcircle=9441,e.rcommaaccent=343,e.rdblgrave=529,e.rdotaccent=7769,e.rdotbelow=7771,e.rdotbelowmacron=7773,e.referencemark=8251,e.reflexsubset=8838,e.reflexsuperset=8839,e.registered=174,e.registersans=63720,e.registerserif=63194,e.reharabic=1585,e.reharmenian=1408,e.rehfinalarabic=65198,e.rehiragana=12428,e.rekatakana=12524,e.rekatakanahalfwidth=65434,e.resh=1512,e.reshdageshhebrew=64328,e.reshhebrew=1512,e.reversedtilde=8765,e.reviahebrew=1431;e.reviamugrashhebrew=1431,e.revlogicalnot=8976,e.rfishhook=638,e.rfishhookreversed=639,e.rhabengali=2525,e.rhadeva=2397,e.rho=961,e.rhook=637,e.rhookturned=635,e.rhookturnedsuperior=693,e.rhosymbolgreek=1009,e.rhotichookmod=734,e.rieulacirclekorean=12913,e.rieulaparenkorean=12817,e.rieulcirclekorean=12899,e.rieulhieuhkorean=12608,e.rieulkiyeokkorean=12602,e.rieulkiyeoksioskorean=12649,e.rieulkorean=12601,e.rieulmieumkorean=12603,e.rieulpansioskorean=12652,e.rieulparenkorean=12803,e.rieulphieuphkorean=12607,e.rieulpieupkorean=12604,e.rieulpieupsioskorean=12651,e.rieulsioskorean=12605,e.rieulthieuthkorean=12606,e.rieultikeutkorean=12650,e.rieulyeorinhieuhkorean=12653,e.rightangle=8735,e.righttackbelowcmb=793,e.righttriangle=8895,e.rihiragana=12426,e.rikatakana=12522,e.rikatakanahalfwidth=65432,e.ring=730,e.ringbelowcmb=805,e.ringcmb=778,e.ringhalfleft=703,e.ringhalfleftarmenian=1369,e.ringhalfleftbelowcmb=796,e.ringhalfleftcentered=723,e.ringhalfright=702,e.ringhalfrightbelowcmb=825,e.ringhalfrightcentered=722,e.rinvertedbreve=531,e.rittorusquare=13137,e.rlinebelow=7775,e.rlongleg=636,e.rlonglegturned=634,e.rmonospace=65362,e.rohiragana=12429,e.rokatakana=12525,e.rokatakanahalfwidth=65435,e.roruathai=3619,e.rparen=9389,e.rrabengali=2524,e.rradeva=2353,e.rragurmukhi=2652,e.rreharabic=1681,e.rrehfinalarabic=64397,e.rrvocalicbengali=2528,e.rrvocalicdeva=2400,e.rrvocalicgujarati=2784,e.rrvocalicvowelsignbengali=2500,e.rrvocalicvowelsigndeva=2372,e.rrvocalicvowelsigngujarati=2756,e.rsuperior=63217,e.rtblock=9616,e.rturned=633,e.rturnedsuperior=692,e.ruhiragana=12427,e.rukatakana=12523,e.rukatakanahalfwidth=65433,e.rupeemarkbengali=2546,e.rupeesignbengali=2547,e.rupiah=63197,e.ruthai=3620,e.rvocalicbengali=2443,e.rvocalicdeva=2315,e.rvocalicgujarati=2699,e.rvocalicvowelsignbengali=2499,e.rvocalicvowelsigndeva=2371,e.rvocalicvowelsigngujarati=2755,e.s=115,e.sabengali=2488,e.sacute=347,e.sacutedotaccent=7781,e.sadarabic=1589,e.sadeva=2360,e.sadfinalarabic=65210,e.sadinitialarabic=65211,e.sadmedialarabic=65212,e.sagujarati=2744,e.sagurmukhi=2616,e.sahiragana=12373,e.sakatakana=12469,e.sakatakanahalfwidth=65403,e.sallallahoualayhewasallamarabic=65018,e.samekh=1505,e.samekhdagesh=64321,e.samekhdageshhebrew=64321,e.samekhhebrew=1505,e.saraaathai=3634,e.saraaethai=3649,e.saraaimaimalaithai=3652,e.saraaimaimuanthai=3651,e.saraamthai=3635,e.saraathai=3632,e.saraethai=3648,e.saraiileftthai=63622,e.saraiithai=3637,e.saraileftthai=63621,e.saraithai=3636,e.saraothai=3650,e.saraueeleftthai=63624,e.saraueethai=3639,e.saraueleftthai=63623,e.sarauethai=3638,e.sarauthai=3640,e.sarauuthai=3641,e.sbopomofo=12569,e.scaron=353,e.scarondotaccent=7783,e.scedilla=351,e.schwa=601,e.schwacyrillic=1241,e.schwadieresiscyrillic=1243,e.schwahook=602,e.scircle=9442,e.scircumflex=349,e.scommaaccent=537,e.sdotaccent=7777,e.sdotbelow=7779,e.sdotbelowdotaccent=7785,e.seagullbelowcmb=828,e.second=8243,e.secondtonechinese=714,e.section=167,e.seenarabic=1587,e.seenfinalarabic=65202,e.seeninitialarabic=65203,e.seenmedialarabic=65204,e.segol=1462,e.segol13=1462,e.segol1f=1462,e.segol2c=1462,e.segolhebrew=1462,e.segolnarrowhebrew=1462,e.segolquarterhebrew=1462,e.segoltahebrew=1426,e.segolwidehebrew=1462,e.seharmenian=1405,e.sehiragana=12379,e.sekatakana=12475,e.sekatakanahalfwidth=65406,e.semicolon=59,e.semicolonarabic=1563,e.semicolonmonospace=65307,e.semicolonsmall=65108,e.semivoicedmarkkana=12444,e.semivoicedmarkkanahalfwidth=65439,e.sentisquare=13090,e.sentosquare=13091,e.seven=55,e.sevenarabic=1639,e.sevenbengali=2541,e.sevencircle=9318,e.sevencircleinversesansserif=10128,e.sevendeva=2413,e.seveneighths=8542,e.sevengujarati=2797,e.sevengurmukhi=2669,e.sevenhackarabic=1639,e.sevenhangzhou=12327,e.sevenideographicparen=12838,e.seveninferior=8327,e.sevenmonospace=65303,e.sevenoldstyle=63287,e.sevenparen=9338,e.sevenperiod=9358,e.sevenpersian=1783,e.sevenroman=8566,e.sevensuperior=8311,e.seventeencircle=9328,e.seventeenparen=9348,e.seventeenperiod=9368,e.seventhai=3671,e.sfthyphen=173,e.shaarmenian=1399,e.shabengali=2486,e.shacyrillic=1096,e.shaddaarabic=1617,e.shaddadammaarabic=64609,e.shaddadammatanarabic=64606,e.shaddafathaarabic=64608,e.shaddakasraarabic=64610,e.shaddakasratanarabic=64607,e.shade=9618,e.shadedark=9619,e.shadelight=9617,e.shademedium=9618,e.shadeva=2358,e.shagujarati=2742,e.shagurmukhi=2614,e.shalshelethebrew=1427,e.shbopomofo=12565,e.shchacyrillic=1097,e.sheenarabic=1588,e.sheenfinalarabic=65206,e.sheeninitialarabic=65207,e.sheenmedialarabic=65208,e.sheicoptic=995,e.sheqel=8362,e.sheqelhebrew=8362,e.sheva=1456,e.sheva115=1456,e.sheva15=1456,e.sheva22=1456,e.sheva2e=1456,e.shevahebrew=1456,e.shevanarrowhebrew=1456,e.shevaquarterhebrew=1456,e.shevawidehebrew=1456,e.shhacyrillic=1211,e.shimacoptic=1005,e.shin=1513,e.shindagesh=64329,e.shindageshhebrew=64329,e.shindageshshindot=64300,e.shindageshshindothebrew=64300,e.shindageshsindot=64301,e.shindageshsindothebrew=64301,e.shindothebrew=1473,e.shinhebrew=1513,e.shinshindot=64298,e.shinshindothebrew=64298,e.shinsindot=64299,e.shinsindothebrew=64299,e.shook=642,e.sigma=963,e.sigma1=962,e.sigmafinal=962,e.sigmalunatesymbolgreek=1010,e.sihiragana=12375,e.sikatakana=12471,e.sikatakanahalfwidth=65404,e.siluqhebrew=1469,e.siluqlefthebrew=1469,e.similar=8764,e.sindothebrew=1474,e.siosacirclekorean=12916,e.siosaparenkorean=12820,e.sioscieuckorean=12670,e.sioscirclekorean=12902,e.sioskiyeokkorean=12666,e.sioskorean=12613,e.siosnieunkorean=12667,e.siosparenkorean=12806,e.siospieupkorean=12669,e.siostikeutkorean=12668,e.six=54,e.sixarabic=1638,e.sixbengali=2540,e.sixcircle=9317,e.sixcircleinversesansserif=10127,e.sixdeva=2412,e.sixgujarati=2796,e.sixgurmukhi=2668,e.sixhackarabic=1638,e.sixhangzhou=12326,e.sixideographicparen=12837,e.sixinferior=8326,e.sixmonospace=65302,e.sixoldstyle=63286,e.sixparen=9337,e.sixperiod=9357,e.sixpersian=1782,e.sixroman=8565,e.sixsuperior=8310,e.sixteencircle=9327,e.sixteencurrencydenominatorbengali=2553,e.sixteenparen=9347,e.sixteenperiod=9367,e.sixthai=3670,e.slash=47,e.slashmonospace=65295,e.slong=383,e.slongdotaccent=7835,e.smileface=9786,e.smonospace=65363,e.sofpasuqhebrew=1475,e.softhyphen=173,e.softsigncyrillic=1100,e.sohiragana=12381,e.sokatakana=12477,e.sokatakanahalfwidth=65407,e.soliduslongoverlaycmb=824,e.solidusshortoverlaycmb=823,e.sorusithai=3625,e.sosalathai=3624,e.sosothai=3595,e.sosuathai=3626,e.space=32,e.spacehackarabic=32,e.spade=9824,e.spadesuitblack=9824,e.spadesuitwhite=9828,e.sparen=9390,e.squarebelowcmb=827,e.squarecc=13252,e.squarecm=13213,e.squarediagonalcrosshatchfill=9641,e.squarehorizontalfill=9636,e.squarekg=13199,e.squarekm=13214,e.squarekmcapital=13262,e.squareln=13265,e.squarelog=13266,e.squaremg=13198,e.squaremil=13269,e.squaremm=13212,e.squaremsquared=13217,e.squareorthogonalcrosshatchfill=9638,e.squareupperlefttolowerrightfill=9639,e.squareupperrighttolowerleftfill=9640,e.squareverticalfill=9637,e.squarewhitewithsmallblack=9635,e.srsquare=13275,e.ssabengali=2487,e.ssadeva=2359,e.ssagujarati=2743,e.ssangcieuckorean=12617,e.ssanghieuhkorean=12677,e.ssangieungkorean=12672,e.ssangkiyeokkorean=12594,e.ssangnieunkorean=12645,e.ssangpieupkorean=12611,e.ssangsioskorean=12614,e.ssangtikeutkorean=12600,e.ssuperior=63218,e.sterling=163,e.sterlingmonospace=65505,e.strokelongoverlaycmb=822,e.strokeshortoverlaycmb=821,e.subset=8834,e.subsetnotequal=8842,e.subsetorequal=8838,e.succeeds=8827,e.suchthat=8715,e.suhiragana=12377,e.sukatakana=12473,e.sukatakanahalfwidth=65405,e.sukunarabic=1618,e.summation=8721,e.sun=9788,e.superset=8835,e.supersetnotequal=8843,e.supersetorequal=8839,e.svsquare=13276,e.syouwaerasquare=13180,e.t=116,e.tabengali=2468,e.tackdown=8868,e.tackleft=8867,e.tadeva=2340,e.tagujarati=2724,e.tagurmukhi=2596,e.taharabic=1591,e.tahfinalarabic=65218,e.tahinitialarabic=65219,e.tahiragana=12383,e.tahmedialarabic=65220,e.taisyouerasquare=13181,e.takatakana=12479,e.takatakanahalfwidth=65408,e.tatweelarabic=1600,e.tau=964,e.tav=1514,e.tavdages=64330,e.tavdagesh=64330,e.tavdageshhebrew=64330,e.tavhebrew=1514,e.tbar=359,e.tbopomofo=12554,e.tcaron=357,e.tccurl=680,e.tcedilla=355,e.tcheharabic=1670,e.tchehfinalarabic=64379,e.tchehinitialarabic=64380,e.tchehmedialarabic=64381,e.tcircle=9443,e.tcircumflexbelow=7793,e.tcommaaccent=355,e.tdieresis=7831,e.tdotaccent=7787,e.tdotbelow=7789,e.tecyrillic=1090,e.tedescendercyrillic=1197,e.teharabic=1578,e.tehfinalarabic=65174,e.tehhahinitialarabic=64674,e.tehhahisolatedarabic=64524,e.tehinitialarabic=65175,e.tehiragana=12390,e.tehjeeminitialarabic=64673,e.tehjeemisolatedarabic=64523,e.tehmarbutaarabic=1577,e.tehmarbutafinalarabic=65172,e.tehmedialarabic=65176,e.tehmeeminitialarabic=64676,e.tehmeemisolatedarabic=64526,e.tehnoonfinalarabic=64627,e.tekatakana=12486,e.tekatakanahalfwidth=65411,e.telephone=8481,e.telephoneblack=9742,e.telishagedolahebrew=1440,e.telishaqetanahebrew=1449,e.tencircle=9321,e.tenideographicparen=12841,e.tenparen=9341,e.tenperiod=9361,e.tenroman=8569,e.tesh=679,e.tet=1496,e.tetdagesh=64312,e.tetdageshhebrew=64312,e.tethebrew=1496,e.tetsecyrillic=1205,e.tevirhebrew=1435,e.tevirlefthebrew=1435,e.thabengali=2469,e.thadeva=2341,e.thagujarati=2725,e.thagurmukhi=2597,e.thalarabic=1584,e.thalfinalarabic=65196,e.thanthakhatlowleftthai=63640,e.thanthakhatlowrightthai=63639,e.thanthakhatthai=3660,e.thanthakhatupperleftthai=63638,e.theharabic=1579,e.thehfinalarabic=65178,e.thehinitialarabic=65179,e.thehmedialarabic=65180,e.thereexists=8707,e.therefore=8756,e.theta=952,e.theta1=977,e.thetasymbolgreek=977,e.thieuthacirclekorean=12921,e.thieuthaparenkorean=12825,e.thieuthcirclekorean=12907,e.thieuthkorean=12620,e.thieuthparenkorean=12811,e.thirteencircle=9324,e.thirteenparen=9344,e.thirteenperiod=9364,e.thonangmonthothai=3601,e.thook=429,e.thophuthaothai=3602,e.thorn=254,e.thothahanthai=3607,e.thothanthai=3600,e.thothongthai=3608,e.thothungthai=3606,e.thousandcyrillic=1154,e.thousandsseparatorarabic=1644,e.thousandsseparatorpersian=1644,e.three=51,e.threearabic=1635,e.threebengali=2537,e.threecircle=9314,e.threecircleinversesansserif=10124,e.threedeva=2409,e.threeeighths=8540,e.threegujarati=2793,e.threegurmukhi=2665,e.threehackarabic=1635,e.threehangzhou=12323,e.threeideographicparen=12834,e.threeinferior=8323,e.threemonospace=65299,e.threenumeratorbengali=2550,e.threeoldstyle=63283,e.threeparen=9334,e.threeperiod=9354,e.threepersian=1779,e.threequarters=190,e.threequartersemdash=63198,e.threeroman=8562,e.threesuperior=179,e.threethai=3667,e.thzsquare=13204,e.tihiragana=12385,e.tikatakana=12481,e.tikatakanahalfwidth=65409,e.tikeutacirclekorean=12912,e.tikeutaparenkorean=12816,e.tikeutcirclekorean=12898,e.tikeutkorean=12599,e.tikeutparenkorean=12802,e.tilde=732,e.tildebelowcmb=816,e.tildecmb=771,e.tildecomb=771,e.tildedoublecmb=864,e.tildeoperator=8764,e.tildeoverlaycmb=820,e.tildeverticalcmb=830,e.timescircle=8855,e.tipehahebrew=1430,e.tipehalefthebrew=1430,e.tippigurmukhi=2672,e.titlocyrilliccmb=1155,e.tiwnarmenian=1407,e.tlinebelow=7791,e.tmonospace=65364,e.toarmenian=1385,e.tohiragana=12392,e.tokatakana=12488,e.tokatakanahalfwidth=65412,e.tonebarextrahighmod=741,e.tonebarextralowmod=745,e.tonebarhighmod=742,e.tonebarlowmod=744,e.tonebarmidmod=743,e.tonefive=445,e.tonesix=389,e.tonetwo=424,e.tonos=900,e.tonsquare=13095,e.topatakthai=3599,e.tortoiseshellbracketleft=12308,e.tortoiseshellbracketleftsmall=65117,e.tortoiseshellbracketleftvertical=65081,e.tortoiseshellbracketright=12309,e.tortoiseshellbracketrightsmall=65118,e.tortoiseshellbracketrightvertical=65082,e.totaothai=3605,e.tpalatalhook=427,e.tparen=9391,e.trademark=8482,e.trademarksans=63722,e.trademarkserif=63195,e.tretroflexhook=648,e.triagdn=9660,e.triaglf=9668,e.triagrt=9658,e.triagup=9650,e.ts=678,e.tsadi=1510,e.tsadidagesh=64326,e.tsadidageshhebrew=64326,e.tsadihebrew=1510,e.tsecyrillic=1094,e.tsere=1461,e.tsere12=1461,e.tsere1e=1461,e.tsere2b=1461,e.tserehebrew=1461,e.tserenarrowhebrew=1461,e.tserequarterhebrew=1461,e.tserewidehebrew=1461,e.tshecyrillic=1115,e.tsuperior=63219,e.ttabengali=2463,e.ttadeva=2335,e.ttagujarati=2719,e.ttagurmukhi=2591,e.tteharabic=1657,e.ttehfinalarabic=64359,e.ttehinitialarabic=64360,e.ttehmedialarabic=64361,e.tthabengali=2464,e.tthadeva=2336,e.tthagujarati=2720,e.tthagurmukhi=2592,e.tturned=647,e.tuhiragana=12388,e.tukatakana=12484,e.tukatakanahalfwidth=65410,e.tusmallhiragana=12387,e.tusmallkatakana=12483,e.tusmallkatakanahalfwidth=65391,e.twelvecircle=9323,e.twelveparen=9343,e.twelveperiod=9363,e.twelveroman=8571,e.twentycircle=9331,e.twentyhangzhou=21316,e.twentyparen=9351,e.twentyperiod=9371,e.two=50,e.twoarabic=1634,e.twobengali=2536,e.twocircle=9313,e.twocircleinversesansserif=10123,e.twodeva=2408,e.twodotenleader=8229,e.twodotleader=8229,e.twodotleadervertical=65072,e.twogujarati=2792,e.twogurmukhi=2664,e.twohackarabic=1634,e.twohangzhou=12322,e.twoideographicparen=12833,e.twoinferior=8322,e.twomonospace=65298,e.twonumeratorbengali=2549,e.twooldstyle=63282,e.twoparen=9333,e.twoperiod=9353,e.twopersian=1778,e.tworoman=8561,e.twostroke=443,e.twosuperior=178,e.twothai=3666,e.twothirds=8532,e.u=117,e.uacute=250,e.ubar=649,e.ubengali=2441,e.ubopomofo=12584,e.ubreve=365,e.ucaron=468,e.ucircle=9444,e.ucircumflex=251,e.ucircumflexbelow=7799,e.ucyrillic=1091,e.udattadeva=2385,e.udblacute=369,e.udblgrave=533,e.udeva=2313,e.udieresis=252,e.udieresisacute=472,e.udieresisbelow=7795,e.udieresiscaron=474,e.udieresiscyrillic=1265,e.udieresisgrave=476,e.udieresismacron=470,e.udotbelow=7909,e.ugrave=249,e.ugujarati=2697,e.ugurmukhi=2569,e.uhiragana=12358,e.uhookabove=7911,e.uhorn=432,e.uhornacute=7913,e.uhorndotbelow=7921,e.uhorngrave=7915,e.uhornhookabove=7917,e.uhorntilde=7919,e.uhungarumlaut=369,e.uhungarumlautcyrillic=1267,e.uinvertedbreve=535,e.ukatakana=12454,e.ukatakanahalfwidth=65395,e.ukcyrillic=1145,e.ukorean=12636,e.umacron=363,e.umacroncyrillic=1263,e.umacrondieresis=7803,e.umatragurmukhi=2625,e.umonospace=65365,e.underscore=95,e.underscoredbl=8215,e.underscoremonospace=65343,e.underscorevertical=65075,e.underscorewavy=65103,e.union=8746,e.universal=8704,e.uogonek=371,e.uparen=9392,e.upblock=9600,e.upperdothebrew=1476,e.upsilon=965,e.upsilondieresis=971,e.upsilondieresistonos=944,e.upsilonlatin=650,e.upsilontonos=973,e.uptackbelowcmb=797,e.uptackmod=724,e.uragurmukhi=2675,e.uring=367,e.ushortcyrillic=1118,e.usmallhiragana=12357,e.usmallkatakana=12453,e.usmallkatakanahalfwidth=65385,e.ustraightcyrillic=1199,e.ustraightstrokecyrillic=1201,e.utilde=361,e.utildeacute=7801,e.utildebelow=7797,e.uubengali=2442,e.uudeva=2314,e.uugujarati=2698,e.uugurmukhi=2570,e.uumatragurmukhi=2626,e.uuvowelsignbengali=2498,e.uuvowelsigndeva=2370,e.uuvowelsigngujarati=2754,e.uvowelsignbengali=2497,e.uvowelsigndeva=2369,e.uvowelsigngujarati=2753,e.v=118,e.vadeva=2357,e.vagujarati=2741,e.vagurmukhi=2613,e.vakatakana=12535,e.vav=1493,e.vavdagesh=64309,e.vavdagesh65=64309,e.vavdageshhebrew=64309,e.vavhebrew=1493,e.vavholam=64331,e.vavholamhebrew=64331,e.vavvavhebrew=1520,e.vavyodhebrew=1521,e.vcircle=9445,e.vdotbelow=7807,e.vecyrillic=1074,e.veharabic=1700,e.vehfinalarabic=64363,e.vehinitialarabic=64364,e.vehmedialarabic=64365,e.vekatakana=12537,e.venus=9792,e.verticalbar=124,e.verticallineabovecmb=781,e.verticallinebelowcmb=809,e.verticallinelowmod=716,e.verticallinemod=712,e.vewarmenian=1406,e.vhook=651,e.vikatakana=12536,e.viramabengali=2509,e.viramadeva=2381,e.viramagujarati=2765,e.visargabengali=2435,e.visargadeva=2307,e.visargagujarati=2691,e.vmonospace=65366,e.voarmenian=1400,e.voicediterationhiragana=12446,e.voicediterationkatakana=12542,e.voicedmarkkana=12443,e.voicedmarkkanahalfwidth=65438,e.vokatakana=12538,e.vparen=9393,e.vtilde=7805,e.vturned=652,e.vuhiragana=12436,e.vukatakana=12532,e.w=119,e.wacute=7811,e.waekorean=12633,e.wahiragana=12431,e.wakatakana=12527,e.wakatakanahalfwidth=65436,e.wakorean=12632,e.wasmallhiragana=12430,e.wasmallkatakana=12526,e.wattosquare=13143,e.wavedash=12316,e.wavyunderscorevertical=65076,e.wawarabic=1608,e.wawfinalarabic=65262,e.wawhamzaabovearabic=1572,e.wawhamzaabovefinalarabic=65158,e.wbsquare=13277,e.wcircle=9446,e.wcircumflex=373,e.wdieresis=7813,e.wdotaccent=7815,e.wdotbelow=7817,e.wehiragana=12433,e.weierstrass=8472,e.wekatakana=12529,e.wekorean=12638,e.weokorean=12637,e.wgrave=7809,e.whitebullet=9702,e.whitecircle=9675,e.whitecircleinverse=9689,e.whitecornerbracketleft=12302,e.whitecornerbracketleftvertical=65091,e.whitecornerbracketright=12303,e.whitecornerbracketrightvertical=65092,e.whitediamond=9671,e.whitediamondcontainingblacksmalldiamond=9672,e.whitedownpointingsmalltriangle=9663,e.whitedownpointingtriangle=9661,e.whiteleftpointingsmalltriangle=9667,e.whiteleftpointingtriangle=9665,e.whitelenticularbracketleft=12310,e.whitelenticularbracketright=12311,e.whiterightpointingsmalltriangle=9657;e.whiterightpointingtriangle=9655,e.whitesmallsquare=9643,e.whitesmilingface=9786,e.whitesquare=9633,e.whitestar=9734,e.whitetelephone=9743,e.whitetortoiseshellbracketleft=12312,e.whitetortoiseshellbracketright=12313,e.whiteuppointingsmalltriangle=9653,e.whiteuppointingtriangle=9651,e.wihiragana=12432,e.wikatakana=12528,e.wikorean=12639,e.wmonospace=65367,e.wohiragana=12434,e.wokatakana=12530,e.wokatakanahalfwidth=65382,e.won=8361,e.wonmonospace=65510,e.wowaenthai=3623,e.wparen=9394,e.wring=7832,e.wsuperior=695,e.wturned=653,e.wynn=447,e.x=120,e.xabovecmb=829,e.xbopomofo=12562,e.xcircle=9447,e.xdieresis=7821,e.xdotaccent=7819,e.xeharmenian=1389,e.xi=958,e.xmonospace=65368,e.xparen=9395,e.xsuperior=739,e.y=121,e.yaadosquare=13134,e.yabengali=2479,e.yacute=253,e.yadeva=2351,e.yaekorean=12626,e.yagujarati=2735,e.yagurmukhi=2607,e.yahiragana=12420,e.yakatakana=12516,e.yakatakanahalfwidth=65428,e.yakorean=12625,e.yamakkanthai=3662,e.yasmallhiragana=12419,e.yasmallkatakana=12515,e.yasmallkatakanahalfwidth=65388,e.yatcyrillic=1123,e.ycircle=9448,e.ycircumflex=375,e.ydieresis=255,e.ydotaccent=7823,e.ydotbelow=7925,e.yeharabic=1610,e.yehbarreearabic=1746,e.yehbarreefinalarabic=64431,e.yehfinalarabic=65266,e.yehhamzaabovearabic=1574,e.yehhamzaabovefinalarabic=65162,e.yehhamzaaboveinitialarabic=65163,e.yehhamzaabovemedialarabic=65164,e.yehinitialarabic=65267,e.yehmedialarabic=65268,e.yehmeeminitialarabic=64733,e.yehmeemisolatedarabic=64600,e.yehnoonfinalarabic=64660,e.yehthreedotsbelowarabic=1745,e.yekorean=12630,e.yen=165,e.yenmonospace=65509,e.yeokorean=12629,e.yeorinhieuhkorean=12678,e.yerahbenyomohebrew=1450,e.yerahbenyomolefthebrew=1450,e.yericyrillic=1099,e.yerudieresiscyrillic=1273,e.yesieungkorean=12673,e.yesieungpansioskorean=12675,e.yesieungsioskorean=12674,e.yetivhebrew=1434,e.ygrave=7923,e.yhook=436,e.yhookabove=7927,e.yiarmenian=1397,e.yicyrillic=1111,e.yikorean=12642,e.yinyang=9775,e.yiwnarmenian=1410,e.ymonospace=65369,e.yod=1497,e.yoddagesh=64313,e.yoddageshhebrew=64313,e.yodhebrew=1497,e.yodyodhebrew=1522,e.yodyodpatahhebrew=64287,e.yohiragana=12424,e.yoikorean=12681,e.yokatakana=12520,e.yokatakanahalfwidth=65430,e.yokorean=12635,e.yosmallhiragana=12423,e.yosmallkatakana=12519,e.yosmallkatakanahalfwidth=65390,e.yotgreek=1011,e.yoyaekorean=12680,e.yoyakorean=12679,e.yoyakthai=3618,e.yoyingthai=3597,e.yparen=9396,e.ypogegrammeni=890,e.ypogegrammenigreekcmb=837,e.yr=422,e.yring=7833,e.ysuperior=696,e.ytilde=7929,e.yturned=654,e.yuhiragana=12422,e.yuikorean=12684,e.yukatakana=12518,e.yukatakanahalfwidth=65429,e.yukorean=12640,e.yusbigcyrillic=1131,e.yusbigiotifiedcyrillic=1133,e.yuslittlecyrillic=1127,e.yuslittleiotifiedcyrillic=1129,e.yusmallhiragana=12421,e.yusmallkatakana=12517,e.yusmallkatakanahalfwidth=65389,e.yuyekorean=12683,e.yuyeokorean=12682,e.yyabengali=2527,e.yyadeva=2399,e.z=122,e.zaarmenian=1382,e.zacute=378,e.zadeva=2395,e.zagurmukhi=2651,e.zaharabic=1592,e.zahfinalarabic=65222,e.zahinitialarabic=65223,e.zahiragana=12374,e.zahmedialarabic=65224,e.zainarabic=1586,e.zainfinalarabic=65200,e.zakatakana=12470,e.zaqefgadolhebrew=1429,e.zaqefqatanhebrew=1428,e.zarqahebrew=1432,e.zayin=1494,e.zayindagesh=64310,e.zayindageshhebrew=64310,e.zayinhebrew=1494,e.zbopomofo=12567,e.zcaron=382,e.zcircle=9449,e.zcircumflex=7825,e.zcurl=657,e.zdot=380,e.zdotaccent=380,e.zdotbelow=7827,e.zecyrillic=1079,e.zedescendercyrillic=1177,e.zedieresiscyrillic=1247,e.zehiragana=12380,e.zekatakana=12476,e.zero=48,e.zeroarabic=1632,e.zerobengali=2534,e.zerodeva=2406,e.zerogujarati=2790,e.zerogurmukhi=2662,e.zerohackarabic=1632,e.zeroinferior=8320,e.zeromonospace=65296,e.zerooldstyle=63280,e.zeropersian=1776,e.zerosuperior=8304,e.zerothai=3664,e.zerowidthjoiner=65279,e.zerowidthnonjoiner=8204,e.zerowidthspace=8203,e.zeta=950,e.zhbopomofo=12563,e.zhearmenian=1386,e.zhebrevecyrillic=1218,e.zhecyrillic=1078,e.zhedescendercyrillic=1175,e.zhedieresiscyrillic=1245,e.zihiragana=12376,e.zikatakana=12472,e.zinorhebrew=1454,e.zlinebelow=7829,e.zmonospace=65370,e.zohiragana=12382,e.zokatakana=12478,e.zparen=9397,e.zretroflexhook=656,e.zstroke=438,e.zuhiragana=12378,e.zukatakana=12474,e[".notdef"]=0,e.angbracketleftbig=9001,e.angbracketleftBig=9001,e.angbracketleftbigg=9001,e.angbracketleftBigg=9001,e.angbracketrightBig=9002,e.angbracketrightbig=9002,e.angbracketrightBigg=9002,e.angbracketrightbigg=9002,e.arrowhookleft=8618,e.arrowhookright=8617,e.arrowlefttophalf=8636,e.arrowleftbothalf=8637,e.arrownortheast=8599,e.arrownorthwest=8598,e.arrowrighttophalf=8640,e.arrowrightbothalf=8641,e.arrowsoutheast=8600,e.arrowsouthwest=8601,e.backslashbig=8726,e.backslashBig=8726,e.backslashBigg=8726,e.backslashbigg=8726,e.bardbl=8214,e.bracehtipdownleft=65079,e.bracehtipdownright=65079,e.bracehtipupleft=65080,e.bracehtipupright=65080,e.braceleftBig=123,e.braceleftbig=123,e.braceleftbigg=123,e.braceleftBigg=123,e.bracerightBig=125,e.bracerightbig=125,e.bracerightbigg=125,e.bracerightBigg=125,e.bracketleftbig=91,e.bracketleftBig=91,e.bracketleftbigg=91,e.bracketleftBigg=91,e.bracketrightBig=93,e.bracketrightbig=93,e.bracketrightbigg=93,e.bracketrightBigg=93,e.ceilingleftbig=8968,e.ceilingleftBig=8968,e.ceilingleftBigg=8968,e.ceilingleftbigg=8968,e.ceilingrightbig=8969,e.ceilingrightBig=8969,e.ceilingrightbigg=8969,e.ceilingrightBigg=8969,e.circledotdisplay=8857,e.circledottext=8857,e.circlemultiplydisplay=8855,e.circlemultiplytext=8855,e.circleplusdisplay=8853,e.circleplustext=8853,e.contintegraldisplay=8750,e.contintegraltext=8750,e.coproductdisplay=8720,e.coproducttext=8720,e.floorleftBig=8970,e.floorleftbig=8970,e.floorleftbigg=8970,e.floorleftBigg=8970,e.floorrightbig=8971,e.floorrightBig=8971,e.floorrightBigg=8971,e.floorrightbigg=8971,e.hatwide=770,e.hatwider=770,e.hatwidest=770,e.intercal=7488,e.integraldisplay=8747,e.integraltext=8747,e.intersectiondisplay=8898,e.intersectiontext=8898,e.logicalanddisplay=8743,e.logicalandtext=8743,e.logicalordisplay=8744,e.logicalortext=8744,e.parenleftBig=40,e.parenleftbig=40,e.parenleftBigg=40,e.parenleftbigg=40,e.parenrightBig=41,e.parenrightbig=41,e.parenrightBigg=41,e.parenrightbigg=41,e.prime=8242,e.productdisplay=8719,e.producttext=8719,e.radicalbig=8730,e.radicalBig=8730,e.radicalBigg=8730,e.radicalbigg=8730,e.radicalbt=8730,e.radicaltp=8730,e.radicalvertex=8730,e.slashbig=47,e.slashBig=47,e.slashBigg=47,e.slashbigg=47,e.summationdisplay=8721,e.summationtext=8721,e.tildewide=732,e.tildewider=732,e.tildewidest=732,e.uniondisplay=8899,e.unionmultidisplay=8846,e.unionmultitext=8846,e.unionsqdisplay=8852,e.unionsqtext=8852,e.uniontext=8899,e.vextenddouble=8741,e.vextendsingle=8739}),a=a(function(e){e.space=32,e.a1=9985,e.a2=9986,e.a202=9987,e.a3=9988,e.a4=9742,e.a5=9990,e.a119=9991,e.a118=9992,e.a117=9993,e.a11=9755,e.a12=9758,e.a13=9996,e.a14=9997,e.a15=9998,e.a16=9999,e.a105=1e4,e.a17=10001,e.a18=10002,e.a19=10003,e.a20=10004,e.a21=10005,e.a22=10006,e.a23=10007,e.a24=10008,e.a25=10009,e.a26=10010,e.a27=10011,e.a28=10012,e.a6=10013,e.a7=10014,e.a8=10015,e.a9=10016,e.a10=10017,e.a29=10018,e.a30=10019,e.a31=10020,e.a32=10021,e.a33=10022,e.a34=10023,e.a35=9733,e.a36=10025,e.a37=10026,e.a38=10027,e.a39=10028,e.a40=10029,e.a41=10030,e.a42=10031,e.a43=10032,e.a44=10033,e.a45=10034,e.a46=10035,e.a47=10036,e.a48=10037,e.a49=10038,e.a50=10039,e.a51=10040,e.a52=10041,e.a53=10042,e.a54=10043,e.a55=10044,e.a56=10045,e.a57=10046,e.a58=10047,e.a59=10048,e.a60=10049,e.a61=10050,e.a62=10051,e.a63=10052,e.a64=10053,e.a65=10054,e.a66=10055,e.a67=10056,e.a68=10057,e.a69=10058,e.a70=10059,e.a71=9679,e.a72=10061,e.a73=9632,e.a74=10063,e.a203=10064,e.a75=10065,e.a204=10066,e.a76=9650,e.a77=9660,e.a78=9670,e.a79=10070,e.a81=9687,e.a82=10072,e.a83=10073,e.a84=10074,e.a97=10075,e.a98=10076,e.a99=10077,e.a100=10078,e.a101=10081,e.a102=10082,e.a103=10083,e.a104=10084,e.a106=10085,e.a107=10086,e.a108=10087,e.a112=9827,e.a111=9830,e.a110=9829,e.a109=9824,e.a120=9312,e.a121=9313,e.a122=9314,e.a123=9315,e.a124=9316,e.a125=9317,e.a126=9318,e.a127=9319,e.a128=9320,e.a129=9321,e.a130=10102,e.a131=10103,e.a132=10104,e.a133=10105,e.a134=10106,e.a135=10107,e.a136=10108,e.a137=10109,e.a138=10110,e.a139=10111,e.a140=10112,e.a141=10113,e.a142=10114,e.a143=10115,e.a144=10116,e.a145=10117,e.a146=10118,e.a147=10119,e.a148=10120,e.a149=10121,e.a150=10122,e.a151=10123,e.a152=10124,e.a153=10125,e.a154=10126,e.a155=10127,e.a156=10128,e.a157=10129,e.a158=10130,e.a159=10131,e.a160=10132,e.a161=8594,e.a163=8596,e.a164=8597,e.a196=10136,e.a165=10137,e.a192=10138,e.a166=10139,e.a167=10140,e.a168=10141,e.a169=10142,e.a170=10143,e.a171=10144,e.a172=10145,e.a173=10146,e.a162=10147,e.a174=10148,e.a175=10149,e.a176=10150,e.a177=10151,e.a178=10152,e.a179=10153,e.a193=10154,e.a180=10155,e.a199=10156,e.a181=10157,e.a200=10158,e.a182=10159,e.a201=10161,e.a183=10162,e.a184=10163,e.a197=10164,e.a185=10165,e.a194=10166,e.a198=10167,e.a186=10168,e.a195=10169,e.a187=10170,e.a188=10171,e.a189=10172,e.a190=10173,e.a191=10174,e.a89=10088,e.a90=10089,e.a93=10090,e.a94=10091,e.a91=10092,e.a92=10093,e.a205=10094,e.a85=10095,e.a206=10096,e.a86=10097,e.a87=10098,e.a88=10099,e.a95=10100,e.a96=10101,e[".notdef"]=0});t.getGlyphsUnicode=r,t.getDingbatsGlyphsUnicode=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSupplementalGlyphMapForCalibri=t.getSupplementalGlyphMapForArialBlack=t.getGlyphMapForStandardFonts=t.getSymbolsFonts=t.getSerifFonts=t.getNonStdFontMap=t.getStdFontMap=void 0;var a=r(201),r=(0,a.getLookupTableFactory)(function(e){e.ArialNarrow="Helvetica",e["ArialNarrow-Bold"]="Helvetica-Bold",e["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",e["ArialNarrow-Italic"]="Helvetica-Oblique",e.ArialBlack="Helvetica",e["ArialBlack-Bold"]="Helvetica-Bold",e["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",e["ArialBlack-Italic"]="Helvetica-Oblique",e["Arial-Black"]="Helvetica",e["Arial-Black-Bold"]="Helvetica-Bold",e["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",e["Arial-Black-Italic"]="Helvetica-Oblique",e.Arial="Helvetica",e["Arial-Bold"]="Helvetica-Bold",e["Arial-BoldItalic"]="Helvetica-BoldOblique",e["Arial-Italic"]="Helvetica-Oblique",e["Arial-BoldItalicMT"]="Helvetica-BoldOblique",e["Arial-BoldMT"]="Helvetica-Bold",e["Arial-ItalicMT"]="Helvetica-Oblique",e.ArialMT="Helvetica",e["Courier-Bold"]="Courier-Bold",e["Courier-BoldItalic"]="Courier-BoldOblique",e["Courier-Italic"]="Courier-Oblique",e.CourierNew="Courier",e["CourierNew-Bold"]="Courier-Bold",e["CourierNew-BoldItalic"]="Courier-BoldOblique",e["CourierNew-Italic"]="Courier-Oblique",e["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",e["CourierNewPS-BoldMT"]="Courier-Bold",e["CourierNewPS-ItalicMT"]="Courier-Oblique",e.CourierNewPSMT="Courier",e.Helvetica="Helvetica",e["Helvetica-Bold"]="Helvetica-Bold",e["Helvetica-BoldItalic"]="Helvetica-BoldOblique",e["Helvetica-BoldOblique"]="Helvetica-BoldOblique",e["Helvetica-Italic"]="Helvetica-Oblique",e["Helvetica-Oblique"]="Helvetica-Oblique",e["Symbol-Bold"]="Symbol",e["Symbol-BoldItalic"]="Symbol",e["Symbol-Italic"]="Symbol",e.TimesNewRoman="Times-Roman",e["TimesNewRoman-Bold"]="Times-Bold",e["TimesNewRoman-BoldItalic"]="Times-BoldItalic",e["TimesNewRoman-Italic"]="Times-Italic",e.TimesNewRomanPS="Times-Roman",e["TimesNewRomanPS-Bold"]="Times-Bold",e["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",e["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",e["TimesNewRomanPS-BoldMT"]="Times-Bold",e["TimesNewRomanPS-Italic"]="Times-Italic",e["TimesNewRomanPS-ItalicMT"]="Times-Italic",e.TimesNewRomanPSMT="Times-Roman",e["TimesNewRomanPSMT-Bold"]="Times-Bold",e["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",e["TimesNewRomanPSMT-Italic"]="Times-Italic"});t.getStdFontMap=r;r=(0,a.getLookupTableFactory)(function(e){e.Calibri="Helvetica",e["Calibri-Bold"]="Helvetica-Bold",e["Calibri-BoldItalic"]="Helvetica-BoldOblique",e["Calibri-Italic"]="Helvetica-Oblique",e.CenturyGothic="Helvetica",e["CenturyGothic-Bold"]="Helvetica-Bold",e["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",e["CenturyGothic-Italic"]="Helvetica-Oblique",e.ComicSansMS="Comic Sans MS",e["ComicSansMS-Bold"]="Comic Sans MS-Bold",e["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",e["ComicSansMS-Italic"]="Comic Sans MS-Italic",e.LucidaConsole="Courier",e["LucidaConsole-Bold"]="Courier-Bold",e["LucidaConsole-BoldItalic"]="Courier-BoldOblique",e["LucidaConsole-Italic"]="Courier-Oblique",e["LucidaSans-Demi"]="Helvetica-Bold",e["MS-Gothic"]="MS Gothic",e["MS-Gothic-Bold"]="MS Gothic-Bold",e["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",e["MS-Gothic-Italic"]="MS Gothic-Italic",e["MS-Mincho"]="MS Mincho",e["MS-Mincho-Bold"]="MS Mincho-Bold",e["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",e["MS-Mincho-Italic"]="MS Mincho-Italic",e["MS-PGothic"]="MS PGothic",e["MS-PGothic-Bold"]="MS PGothic-Bold",e["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",e["MS-PGothic-Italic"]="MS PGothic-Italic",e["MS-PMincho"]="MS PMincho",e["MS-PMincho-Bold"]="MS PMincho-Bold",e["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",e["MS-PMincho-Italic"]="MS PMincho-Italic",e.NuptialScript="Times-Italic",e.SegoeUISymbol="Helvetica",e.Wingdings="ZapfDingbats",e["Wingdings-Regular"]="ZapfDingbats"});t.getNonStdFontMap=r;r=(0,a.getLookupTableFactory)(function(e){e["Adobe Jenson"]=!0,e["Adobe Text"]=!0,e.Albertus=!0,e.Aldus=!0,e.Alexandria=!0,e.Algerian=!0,e["American Typewriter"]=!0,e.Antiqua=!0,e.Apex=!0,e.Arno=!0,e.Aster=!0,e.Aurora=!0,e.Baskerville=!0,e.Bell=!0,e.Bembo=!0,e["Bembo Schoolbook"]=!0,e.Benguiat=!0,e["Berkeley Old Style"]=!0,e["Bernhard Modern"]=!0,e["Berthold City"]=!0,e.Bodoni=!0,e["Bauer Bodoni"]=!0,e["Book Antiqua"]=!0,e.Bookman=!0,e["Bordeaux Roman"]=!0,e["Californian FB"]=!0,e.Calisto=!0,e.Calvert=!0,e.Capitals=!0,e.Cambria=!0,e.Cartier=!0,e.Caslon=!0,e.Catull=!0,e.Centaur=!0,e["Century Old Style"]=!0,e["Century Schoolbook"]=!0,e.Chaparral=!0,e["Charis SIL"]=!0,e.Cheltenham=!0,e["Cholla Slab"]=!0,e.Clarendon=!0,e.Clearface=!0,e.Cochin=!0,e.Colonna=!0,e["Computer Modern"]=!0,e["Concrete Roman"]=!0,e.Constantia=!0,e["Cooper Black"]=!0,e.Corona=!0,e.Ecotype=!0,e.Egyptienne=!0,e.Elephant=!0,e.Excelsior=!0,e.Fairfield=!0,e["FF Scala"]=!0,e.Folkard=!0,e.Footlight=!0,e.FreeSerif=!0,e["Friz Quadrata"]=!0,e.Garamond=!0,e.Gentium=!0,e.Georgia=!0,e.Gloucester=!0,e["Goudy Old Style"]=!0,e["Goudy Schoolbook"]=!0,e["Goudy Pro Font"]=!0,e.Granjon=!0,e["Guardian Egyptian"]=!0,e.Heather=!0,e.Hercules=!0,e["High Tower Text"]=!0,e.Hiroshige=!0,e["Hoefler Text"]=!0,e["Humana Serif"]=!0,e.Imprint=!0,e["Ionic No. 5"]=!0,e.Janson=!0,e.Joanna=!0,e.Korinna=!0,e.Lexicon=!0,e["Liberation Serif"]=!0,e["Linux Libertine"]=!0,e.Literaturnaya=!0,e.Lucida=!0,e["Lucida Bright"]=!0,e.Melior=!0,e.Memphis=!0,e.Miller=!0,e.Minion=!0,e.Modern=!0,e["Mona Lisa"]=!0,e["Mrs Eaves"]=!0,e["MS Serif"]=!0,e["Museo Slab"]=!0,e["New York"]=!0,e["Nimbus Roman"]=!0,e["NPS Rawlinson Roadway"]=!0,e.NuptialScript=!0,e.Palatino=!0,e.Perpetua=!0,e.Plantin=!0,e["Plantin Schoolbook"]=!0,e.Playbill=!0,e["Poor Richard"]=!0,e["Rawlinson Roadway"]=!0,e.Renault=!0,e.Requiem=!0,e.Rockwell=!0,e.Roman=!0,e["Rotis Serif"]=!0,e.Sabon=!0,e.Scala=!0,e.Seagull=!0,e.Sistina=!0,e.Souvenir=!0,e.STIX=!0,e["Stone Informal"]=!0,e["Stone Serif"]=!0,e.Sylfaen=!0,e.Times=!0,e.Trajan=!0,e["Trinité"]=!0,e["Trump Mediaeval"]=!0,e.Utopia=!0,e["Vale Type"]=!0,e["Bitstream Vera"]=!0,e["Vera Serif"]=!0,e.Versailles=!0,e.Wanted=!0,e.Weiss=!0,e["Wide Latin"]=!0,e.Windsor=!0,e.XITS=!0});t.getSerifFonts=r;r=(0,a.getLookupTableFactory)(function(e){e.Dingbats=!0,e.Symbol=!0,e.ZapfDingbats=!0});t.getSymbolsFonts=r;r=(0,a.getLookupTableFactory)(function(e){e[2]=10,e[3]=32,e[4]=33,e[5]=34,e[6]=35,e[7]=36,e[8]=37,e[9]=38,e[10]=39,e[11]=40,e[12]=41,e[13]=42,e[14]=43,e[15]=44,e[16]=45,e[17]=46,e[18]=47,e[19]=48,e[20]=49,e[21]=50,e[22]=51,e[23]=52,e[24]=53,e[25]=54,e[26]=55,e[27]=56,e[28]=57,e[29]=58,e[30]=894,e[31]=60,e[32]=61,e[33]=62,e[34]=63,e[35]=64,e[36]=65,e[37]=66,e[38]=67,e[39]=68,e[40]=69,e[41]=70,e[42]=71,e[43]=72,e[44]=73,e[45]=74,e[46]=75,e[47]=76,e[48]=77,e[49]=78,e[50]=79,e[51]=80,e[52]=81,e[53]=82,e[54]=83,e[55]=84,e[56]=85,e[57]=86,e[58]=87,e[59]=88,e[60]=89,e[61]=90,e[62]=91,e[63]=92,e[64]=93,e[65]=94,e[66]=95,e[67]=96,e[68]=97,e[69]=98,e[70]=99,e[71]=100,e[72]=101,e[73]=102,e[74]=103,e[75]=104,e[76]=105,e[77]=106,e[78]=107,e[79]=108,e[80]=109,e[81]=110,e[82]=111,e[83]=112,e[84]=113,e[85]=114,e[86]=115,e[87]=116,e[88]=117,e[89]=118,e[90]=119,e[91]=120,e[92]=121,e[93]=122,e[94]=123,e[95]=124,e[96]=125,e[97]=126,e[98]=196,e[99]=197,e[100]=199,e[101]=201,e[102]=209,e[103]=214,e[104]=220,e[105]=225,e[106]=224,e[107]=226,e[108]=228,e[109]=227,e[110]=229,e[111]=231,e[112]=233,e[113]=232,e[114]=234,e[115]=235,e[116]=237,e[117]=236,e[118]=238,e[119]=239,e[120]=241,e[121]=243,e[122]=242,e[123]=244,e[124]=246,e[125]=245,e[126]=250,e[127]=249,e[128]=251,e[129]=252,e[130]=8224,e[131]=176,e[132]=162,e[133]=163,e[134]=167,e[135]=8226,e[136]=182,e[137]=223,e[138]=174,e[139]=169,e[140]=8482,e[141]=180,e[142]=168,e[143]=8800,e[144]=198,e[145]=216,e[146]=8734,e[147]=177,e[148]=8804,e[149]=8805,e[150]=165,e[151]=181,e[152]=8706,e[153]=8721,e[154]=8719,e[156]=8747,e[157]=170,e[158]=186,e[159]=8486,e[160]=230,e[161]=248,e[162]=191,e[163]=161,e[164]=172,e[165]=8730,e[166]=402,e[167]=8776,e[168]=8710,e[169]=171,e[170]=187,e[171]=8230,e[210]=218,e[223]=711,e[224]=321,e[225]=322,e[227]=353,e[229]=382,e[234]=253,e[252]=263,e[253]=268,e[254]=269,e[258]=258,e[260]=260,e[261]=261,e[265]=280,e[266]=281,e[268]=283,e[269]=313,e[275]=323,e[276]=324,e[278]=328,e[284]=345,e[285]=346,e[286]=347,e[292]=367,e[295]=377,e[296]=378,e[298]=380,e[305]=963,e[306]=964,e[307]=966,e[308]=8215,e[309]=8252,e[310]=8319,e[311]=8359,e[312]=8592,e[313]=8593,e[337]=9552,e[493]=1039,e[494]=1040,e[705]=1524,e[706]=8362,e[710]=64288,e[711]=64298,e[759]=1617,e[761]=1776,e[763]=1778,e[775]=1652,e[777]=1764,e[778]=1780,e[779]=1781,e[780]=1782,e[782]=771,e[783]=64726,e[786]=8363,e[788]=8532,e[790]=768,e[791]=769,e[792]=768,e[795]=803,e[797]=64336,e[798]=64337,e[799]=64342,e[800]=64343,e[801]=64344,e[802]=64345,e[803]=64362,e[804]=64363,e[805]=64364,e[2424]=7821,e[2425]=7822,e[2426]=7823,e[2427]=7824,e[2428]=7825,e[2429]=7826,e[2430]=7827,e[2433]=7682,e[2678]=8045,e[2679]=8046,e[2830]=1552,e[2838]=686,e[2840]=751,e[2842]=753,e[2843]=754,e[2844]=755,e[2846]=757,e[2856]=767,e[2857]=848,e[2858]=849,e[2862]=853,e[2863]=854,e[2864]=855,e[2865]=861,e[2866]=862,e[2906]=7460,e[2908]=7462,e[2909]=7463,e[2910]=7464,e[2912]=7466,e[2913]=7467,e[2914]=7468,e[2916]=7470,e[2917]=7471,e[2918]=7472,e[2920]=7474,e[2921]=7475,e[2922]=7476,e[2924]=7478,e[2925]=7479,e[2926]=7480,e[2928]=7482,e[2929]=7483,e[2930]=7484,e[2932]=7486,e[2933]=7487,e[2934]=7488,e[2936]=7490,e[2937]=7491,e[2938]=7492,e[2940]=7494,e[2941]=7495,e[2942]=7496,e[2944]=7498,e[2946]=7500,e[2948]=7502,e[2950]=7504,e[2951]=7505,e[2952]=7506,e[2954]=7508,e[2955]=7509,e[2956]=7510,e[2958]=7512,e[2959]=7513,e[2960]=7514,e[2962]=7516,e[2963]=7517,e[2964]=7518,e[2966]=7520,e[2967]=7521,e[2968]=7522,e[2970]=7524,e[2971]=7525,e[2972]=7526,e[2974]=7528,e[2975]=7529,e[2976]=7530,e[2978]=1537,e[2979]=1538,e[2980]=1539,e[2982]=1549,e[2983]=1551,e[2984]=1552,e[2986]=1554,e[2987]=1555,e[2988]=1556,e[2990]=1623,e[2991]=1624,e[2995]=1775,e[2999]=1791,e[3002]=64290,e[3003]=64291,e[3004]=64292,e[3006]=64294,e[3007]=64295,e[3008]=64296,e[3011]=1900,e[3014]=8223,e[3015]=8244,e[3017]=7532,e[3018]=7533,e[3019]=7534,e[3075]=7590,e[3076]=7591,e[3079]=7594,e[3080]=7595,e[3083]=7598,e[3084]=7599,e[3087]=7602,e[3088]=7603,e[3091]=7606,e[3092]=7607,e[3095]=7610,e[3096]=7611,e[3099]=7614,e[3100]=7615,e[3103]=7618,e[3104]=7619,e[3107]=8337,e[3108]=8338,e[3116]=1884,e[3119]=1885,e[3120]=1885,e[3123]=1886,e[3124]=1886,e[3127]=1887,e[3128]=1887,e[3131]=1888,e[3132]=1888,e[3135]=1889,e[3136]=1889,e[3139]=1890,e[3140]=1890,e[3143]=1891,e[3144]=1891,e[3147]=1892,e[3148]=1892,e[3153]=580,e[3154]=581,e[3157]=584,e[3158]=585,e[3161]=588,e[3162]=589,e[3165]=891,e[3166]=892,e[3169]=1274,e[3170]=1275,e[3173]=1278,e[3174]=1279,e[3181]=7622,e[3182]=7623,e[3282]=11799,e[3316]=578,e[3379]=42785,e[3393]=1159,e[3416]=8377});t.getGlyphMapForStandardFonts=r;r=(0,a.getLookupTableFactory)(function(e){e[227]=322,e[264]=261,e[291]=346});t.getSupplementalGlyphMapForArialBlack=r;a=(0,a.getLookupTableFactory)(function(e){e[1]=32,e[4]=65,e[17]=66,e[18]=67,e[24]=68,e[28]=69,e[38]=70,e[39]=71,e[44]=72,e[47]=73,e[58]=74,e[60]=75,e[62]=76,e[68]=77,e[69]=78,e[75]=79,e[87]=80,e[89]=81,e[90]=82,e[94]=83,e[100]=84,e[104]=85,e[115]=86,e[116]=87,e[121]=88,e[122]=89,e[127]=90,e[258]=97,e[268]=261,e[271]=98,e[272]=99,e[273]=263,e[282]=100,e[286]=101,e[295]=281,e[296]=102,e[336]=103,e[346]=104,e[349]=105,e[361]=106,e[364]=107,e[367]=108,e[371]=322,e[373]=109,e[374]=110,e[381]=111,e[383]=243,e[393]=112,e[395]=113,e[396]=114,e[400]=115,e[401]=347,e[410]=116,e[437]=117,e[448]=118,e[449]=119,e[454]=120,e[455]=121,e[460]=122,e[463]=380,e[853]=44,e[855]=58,e[856]=46,e[876]=47,e[878]=45,e[882]=45,e[894]=40,e[895]=41,e[896]=91,e[897]=93,e[923]=64,e[1004]=48,e[1005]=49,e[1006]=50,e[1007]=51,e[1008]=52,e[1009]=53,e[1010]=54,e[1011]=55,e[1012]=56,e[1013]=57,e[1081]=37,e[1085]=43,e[1086]=45});t.getSupplementalGlyphMapForCalibri=a},function(e,t,r){var r=r(201).getLookupTableFactory,a=r(function(e){e[63721]=169,e[63193]=169,e[63720]=174,e[63194]=174,e[63722]=8482,e[63195]=8482,e[63729]=9127,e[63730]=9128,e[63731]=9129,e[63740]=9131,e[63741]=9132,e[63742]=9133,e[63726]=9121,e[63727]=9122,e[63728]=9123,e[63737]=9124,e[63738]=9125,e[63739]=9126,e[63723]=9115,e[63724]=9116,e[63725]=9117,e[63734]=9118,e[63735]=9119,e[63736]=9120});var o=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];r=r(function(e){e["¨"]=" ̈",e["¯"]=" ̄",e["´"]=" ́",e["µ"]="μ",e["¸"]=" ̧",e["Ĳ"]="IJ",e["ĳ"]="ij",e["Ŀ"]="L·",e["ŀ"]="l·",e["ŉ"]="ʼn",e["ſ"]="s",e["Ǆ"]="DŽ",e["ǅ"]="Dž",e["ǆ"]="dž",e["Ǉ"]="LJ",e["ǈ"]="Lj",e["ǉ"]="lj",e["Ǌ"]="NJ",e["ǋ"]="Nj",e["ǌ"]="nj",e["Ǳ"]="DZ",e["ǲ"]="Dz",e["ǳ"]="dz",e["˘"]=" ̆",e["˙"]=" ̇",e["˚"]=" ̊",e["˛"]=" ̨",e["˜"]=" ̃",e["˝"]=" ̋",e["ͺ"]=" ͅ",e["΄"]=" ́",e["ϐ"]="β",e["ϑ"]="θ",e["ϒ"]="Υ",e["ϕ"]="φ",e["ϖ"]="π",e["ϰ"]="κ",e["ϱ"]="ρ",e["ϲ"]="ς",e["ϴ"]="Θ",e["ϵ"]="ε",e["Ϲ"]="Σ",e["և"]="եւ",e["ٵ"]="اٴ",e["ٶ"]="وٴ",e["ٷ"]="ۇٴ",e["ٸ"]="يٴ",e["ำ"]="ํา",e["ຳ"]="ໍາ",e["ໜ"]="ຫນ",e["ໝ"]="ຫມ",e["ཷ"]="ྲཱྀ",e["ཹ"]="ླཱྀ",e["ẚ"]="aʾ",e["᾽"]=" ̓",e["᾿"]=" ̓",e["῀"]=" ͂",e["῾"]=" ̔",e[" "]=" ",e[" "]=" ",e[" "]=" ",e[" "]=" ",e[" "]=" ",e[" "]=" ",e[" "]=" ",e[" "]=" ",e["‗"]=" ̳",e["․"]=".",e["‥"]="..",e["…"]="...",e["″"]="′′",e["‴"]="′′′",e["‶"]="‵‵",e["‷"]="‵‵‵",e["‼"]="!!",e["‾"]=" ̅",e["⁇"]="??",e["⁈"]="?!",e["⁉"]="!?",e["⁗"]="′′′′",e[" "]=" ",e["₨"]="Rs",e["℀"]="a/c",e["℁"]="a/s",e["℃"]="°C",e["℅"]="c/o",e["℆"]="c/u",e["ℇ"]="Ɛ",e["℉"]="°F",e["№"]="No",e["℡"]="TEL",e["ℵ"]="א",e["ℶ"]="ב",e["ℷ"]="ג",e["ℸ"]="ד",e["℻"]="FAX",e["Ⅰ"]="I",e["Ⅱ"]="II",e["Ⅲ"]="III",e["Ⅳ"]="IV",e["Ⅴ"]="V",e["Ⅵ"]="VI",e["Ⅶ"]="VII",e["Ⅷ"]="VIII",e["Ⅸ"]="IX",e["Ⅹ"]="X",e["Ⅺ"]="XI",e["Ⅻ"]="XII",e["Ⅼ"]="L",e["Ⅽ"]="C",e["Ⅾ"]="D",e["Ⅿ"]="M",e["ⅰ"]="i",e["ⅱ"]="ii",e["ⅲ"]="iii",e["ⅳ"]="iv",e["ⅴ"]="v",e["ⅵ"]="vi",e["ⅶ"]="vii",e["ⅷ"]="viii",e["ⅸ"]="ix",e["ⅹ"]="x",e["ⅺ"]="xi",e["ⅻ"]="xii",e["ⅼ"]="l",e["ⅽ"]="c",e["ⅾ"]="d",e["ⅿ"]="m",e["∬"]="∫∫",e["∭"]="∫∫∫",e["∯"]="∮∮",e["∰"]="∮∮∮",e["⑴"]="(1)",e["⑵"]="(2)",e["⑶"]="(3)",e["⑷"]="(4)",e["⑸"]="(5)",e["⑹"]="(6)",e["⑺"]="(7)",e["⑻"]="(8)",e["⑼"]="(9)",e["⑽"]="(10)",e["⑾"]="(11)",e["⑿"]="(12)",e["⒀"]="(13)",e["⒁"]="(14)",e["⒂"]="(15)",e["⒃"]="(16)",e["⒄"]="(17)",e["⒅"]="(18)",e["⒆"]="(19)",e["⒇"]="(20)",e["⒈"]="1.",e["⒉"]="2.",e["⒊"]="3.",e["⒋"]="4.",e["⒌"]="5.",e["⒍"]="6.",e["⒎"]="7.",e["⒏"]="8.",e["⒐"]="9.",e["⒑"]="10.",e["⒒"]="11.",e["⒓"]="12.",e["⒔"]="13.",e["⒕"]="14.",e["⒖"]="15.",e["⒗"]="16.",e["⒘"]="17.",e["⒙"]="18.",e["⒚"]="19.",e["⒛"]="20.",e["⒜"]="(a)",e["⒝"]="(b)",e["⒞"]="(c)",e["⒟"]="(d)",e["⒠"]="(e)",e["⒡"]="(f)",e["⒢"]="(g)",e["⒣"]="(h)",e["⒤"]="(i)",e["⒥"]="(j)",e["⒦"]="(k)",e["⒧"]="(l)",e["⒨"]="(m)",e["⒩"]="(n)",e["⒪"]="(o)",e["⒫"]="(p)",e["⒬"]="(q)",e["⒭"]="(r)",e["⒮"]="(s)",e["⒯"]="(t)",e["⒰"]="(u)",e["⒱"]="(v)",e["⒲"]="(w)",e["⒳"]="(x)",e["⒴"]="(y)",e["⒵"]="(z)",e["⨌"]="∫∫∫∫",e["⩴"]="::=",e["⩵"]="==",e["⩶"]="===",e["⺟"]="母",e["⻳"]="龟",e["⼀"]="一",e["⼁"]="丨",e["⼂"]="丶",e["⼃"]="丿",e["⼄"]="乙",e["⼅"]="亅",e["⼆"]="二",e["⼇"]="亠",e["⼈"]="人",e["⼉"]="儿",e["⼊"]="入",e["⼋"]="八",e["⼌"]="冂",e["⼍"]="冖",e["⼎"]="冫",e["⼏"]="几",e["⼐"]="凵",e["⼑"]="刀",e["⼒"]="力",e["⼓"]="勹",e["⼔"]="匕",e["⼕"]="匚",e["⼖"]="匸",e["⼗"]="十",e["⼘"]="卜",e["⼙"]="卩",e["⼚"]="厂",e["⼛"]="厶",e["⼜"]="又",e["⼝"]="口",e["⼞"]="囗",e["⼟"]="土",e["⼠"]="士",e["⼡"]="夂",e["⼢"]="夊",e["⼣"]="夕",e["⼤"]="大",e["⼥"]="女",e["⼦"]="子",e["⼧"]="宀",e["⼨"]="寸",e["⼩"]="小",e["⼪"]="尢",e["⼫"]="尸",e["⼬"]="屮",e["⼭"]="山",e["⼮"]="巛",e["⼯"]="工",e["⼰"]="己",e["⼱"]="巾",e["⼲"]="干",e["⼳"]="幺",e["⼴"]="广",e["⼵"]="廴",e["⼶"]="廾",e["⼷"]="弋",e["⼸"]="弓",e["⼹"]="彐",e["⼺"]="彡",e["⼻"]="彳",e["⼼"]="心",e["⼽"]="戈",e["⼾"]="戶",e["⼿"]="手",e["⽀"]="支",e["⽁"]="攴",e["⽂"]="文",e["⽃"]="斗",e["⽄"]="斤",e["⽅"]="方",e["⽆"]="无",e["⽇"]="日",e["⽈"]="曰",e["⽉"]="月",e["⽊"]="木",e["⽋"]="欠",e["⽌"]="止",e["⽍"]="歹",e["⽎"]="殳",e["⽏"]="毋",e["⽐"]="比",e["⽑"]="毛",e["⽒"]="氏",e["⽓"]="气",e["⽔"]="水",e["⽕"]="火",e["⽖"]="爪",e["⽗"]="父",e["⽘"]="爻",e["⽙"]="爿",e["⽚"]="片",e["⽛"]="牙",e["⽜"]="牛",e["⽝"]="犬",e["⽞"]="玄",e["⽟"]="玉",e["⽠"]="瓜",e["⽡"]="瓦",e["⽢"]="甘",e["⽣"]="生",e["⽤"]="用",e["⽥"]="田",e["⽦"]="疋",e["⽧"]="疒",e["⽨"]="癶",e["⽩"]="白",e["⽪"]="皮",e["⽫"]="皿",e["⽬"]="目",e["⽭"]="矛",e["⽮"]="矢",e["⽯"]="石",e["⽰"]="示",e["⽱"]="禸",e["⽲"]="禾",e["⽳"]="穴",e["⽴"]="立",e["⽵"]="竹",e["⽶"]="米",e["⽷"]="糸",e["⽸"]="缶",e["⽹"]="网",e["⽺"]="羊",e["⽻"]="羽",e["⽼"]="老",e["⽽"]="而",e["⽾"]="耒",e["⽿"]="耳",e["⾀"]="聿",e["⾁"]="肉",e["⾂"]="臣",e["⾃"]="自",e["⾄"]="至",e["⾅"]="臼",e["⾆"]="舌",e["⾇"]="舛",e["⾈"]="舟",e["⾉"]="艮",e["⾊"]="色",e["⾋"]="艸",e["⾌"]="虍",e["⾍"]="虫",e["⾎"]="血",e["⾏"]="行",e["⾐"]="衣",e["⾑"]="襾",e["⾒"]="見",e["⾓"]="角",e["⾔"]="言",e["⾕"]="谷",e["⾖"]="豆",e["⾗"]="豕",e["⾘"]="豸",e["⾙"]="貝",e["⾚"]="赤",e["⾛"]="走",e["⾜"]="足",e["⾝"]="身",e["⾞"]="車",e["⾟"]="辛",e["⾠"]="辰",e["⾡"]="辵",e["⾢"]="邑",e["⾣"]="酉",e["⾤"]="釆",e["⾥"]="里",e["⾦"]="金",e["⾧"]="長",e["⾨"]="門",e["⾩"]="阜",e["⾪"]="隶",e["⾫"]="隹",e["⾬"]="雨",e["⾭"]="靑",e["⾮"]="非",e["⾯"]="面",e["⾰"]="革",e["⾱"]="韋",e["⾲"]="韭",e["⾳"]="音",e["⾴"]="頁",e["⾵"]="風",e["⾶"]="飛",e["⾷"]="食",e["⾸"]="首",e["⾹"]="香",e["⾺"]="馬",e["⾻"]="骨",e["⾼"]="高",e["⾽"]="髟",e["⾾"]="鬥",e["⾿"]="鬯",e["⿀"]="鬲",e["⿁"]="鬼",e["⿂"]="魚",e["⿃"]="鳥",e["⿄"]="鹵",e["⿅"]="鹿",e["⿆"]="麥",e["⿇"]="麻",e["⿈"]="黃",e["⿉"]="黍",e["⿊"]="黑",e["⿋"]="黹",e["⿌"]="黽",e["⿍"]="鼎",e["⿎"]="鼓",e["⿏"]="鼠",e["⿐"]="鼻",e["⿑"]="齊",e["⿒"]="齒",e["⿓"]="龍",e["⿔"]="龜",e["⿕"]="龠",e["〶"]="〒",e["〸"]="十",e["〹"]="卄",e["〺"]="卅",e["゛"]=" ゙",e["゜"]=" ゚",e["ㄱ"]="ᄀ",e["ㄲ"]="ᄁ",e["ㄳ"]="ᆪ",e["ㄴ"]="ᄂ",e["ㄵ"]="ᆬ",e["ㄶ"]="ᆭ",e["ㄷ"]="ᄃ",e["ㄸ"]="ᄄ",e["ㄹ"]="ᄅ",e["ㄺ"]="ᆰ",e["ㄻ"]="ᆱ",e["ㄼ"]="ᆲ",e["ㄽ"]="ᆳ",e["ㄾ"]="ᆴ",e["ㄿ"]="ᆵ",e["ㅀ"]="ᄚ",e["ㅁ"]="ᄆ",e["ㅂ"]="ᄇ",e["ㅃ"]="ᄈ",e["ㅄ"]="ᄡ",e["ㅅ"]="ᄉ",e["ㅆ"]="ᄊ",e["ㅇ"]="ᄋ",e["ㅈ"]="ᄌ",e["ㅉ"]="ᄍ",e["ㅊ"]="ᄎ",e["ㅋ"]="ᄏ",e["ㅌ"]="ᄐ",e["ㅍ"]="ᄑ",e["ㅎ"]="ᄒ",e["ㅏ"]="ᅡ",e["ㅐ"]="ᅢ",e["ㅑ"]="ᅣ",e["ㅒ"]="ᅤ",e["ㅓ"]="ᅥ",e["ㅔ"]="ᅦ",e["ㅕ"]="ᅧ",e["ㅖ"]="ᅨ",e["ㅗ"]="ᅩ",e["ㅘ"]="ᅪ",e["ㅙ"]="ᅫ",e["ㅚ"]="ᅬ",e["ㅛ"]="ᅭ",e["ㅜ"]="ᅮ",e["ㅝ"]="ᅯ",e["ㅞ"]="ᅰ",e["ㅟ"]="ᅱ",e["ㅠ"]="ᅲ",e["ㅡ"]="ᅳ",e["ㅢ"]="ᅴ",e["ㅣ"]="ᅵ",e["ㅤ"]="ᅠ",e["ㅥ"]="ᄔ",e["ㅦ"]="ᄕ",e["ㅧ"]="ᇇ",e["ㅨ"]="ᇈ",e["ㅩ"]="ᇌ",e["ㅪ"]="ᇎ",e["ㅫ"]="ᇓ",e["ㅬ"]="ᇗ",e["ㅭ"]="ᇙ",e["ㅮ"]="ᄜ",e["ㅯ"]="ᇝ",e["ㅰ"]="ᇟ",e["ㅱ"]="ᄝ",e["ㅲ"]="ᄞ",e["ㅳ"]="ᄠ",e["ㅴ"]="ᄢ",e["ㅵ"]="ᄣ",e["ㅶ"]="ᄧ",e["ㅷ"]="ᄩ",e["ㅸ"]="ᄫ",e["ㅹ"]="ᄬ",e["ㅺ"]="ᄭ",e["ㅻ"]="ᄮ",e["ㅼ"]="ᄯ",e["ㅽ"]="ᄲ",e["ㅾ"]="ᄶ",e["ㅿ"]="ᅀ",e["ㆀ"]="ᅇ",e["ㆁ"]="ᅌ",e["ㆂ"]="ᇱ",e["ㆃ"]="ᇲ",e["ㆄ"]="ᅗ",e["ㆅ"]="ᅘ",e["ㆆ"]="ᅙ",e["ㆇ"]="ᆄ",e["ㆈ"]="ᆅ",e["ㆉ"]="ᆈ",e["ㆊ"]="ᆑ",e["ㆋ"]="ᆒ",e["ㆌ"]="ᆔ",e["ㆍ"]="ᆞ",e["ㆎ"]="ᆡ",e["㈀"]="(ᄀ)",e["㈁"]="(ᄂ)",e["㈂"]="(ᄃ)",e["㈃"]="(ᄅ)",e["㈄"]="(ᄆ)",e["㈅"]="(ᄇ)",e["㈆"]="(ᄉ)",e["㈇"]="(ᄋ)",e["㈈"]="(ᄌ)",e["㈉"]="(ᄎ)",e["㈊"]="(ᄏ)",e["㈋"]="(ᄐ)",e["㈌"]="(ᄑ)",e["㈍"]="(ᄒ)",e["㈎"]="(가)",e["㈏"]="(나)",e["㈐"]="(다)",e["㈑"]="(라)",e["㈒"]="(마)",e["㈓"]="(바)",e["㈔"]="(사)",e["㈕"]="(아)",e["㈖"]="(자)",e["㈗"]="(차)",e["㈘"]="(카)",e["㈙"]="(타)",e["㈚"]="(파)",e["㈛"]="(하)",e["㈜"]="(주)",e["㈝"]="(오전)",e["㈞"]="(오후)",e["㈠"]="(一)",e["㈡"]="(二)",e["㈢"]="(三)",e["㈣"]="(四)",e["㈤"]="(五)",e["㈥"]="(六)",e["㈦"]="(七)",e["㈧"]="(八)",e["㈨"]="(九)",e["㈩"]="(十)",e["㈪"]="(月)",e["㈫"]="(火)",e["㈬"]="(水)",e["㈭"]="(木)",e["㈮"]="(金)",e["㈯"]="(土)",e["㈰"]="(日)",e["㈱"]="(株)",e["㈲"]="(有)",e["㈳"]="(社)",e["㈴"]="(名)",e["㈵"]="(特)",e["㈶"]="(財)",e["㈷"]="(祝)",e["㈸"]="(労)",e["㈹"]="(代)",e["㈺"]="(呼)",e["㈻"]="(学)",e["㈼"]="(監)",e["㈽"]="(企)",e["㈾"]="(資)",e["㈿"]="(協)",e["㉀"]="(祭)",e["㉁"]="(休)",e["㉂"]="(自)",e["㉃"]="(至)",e["㋀"]="1月",e["㋁"]="2月",e["㋂"]="3月",e["㋃"]="4月",e["㋄"]="5月",e["㋅"]="6月",e["㋆"]="7月",e["㋇"]="8月",e["㋈"]="9月",e["㋉"]="10月",e["㋊"]="11月",e["㋋"]="12月",e["㍘"]="0点",e["㍙"]="1点",e["㍚"]="2点",e["㍛"]="3点",e["㍜"]="4点",e["㍝"]="5点",e["㍞"]="6点",e["㍟"]="7点",e["㍠"]="8点",e["㍡"]="9点",e["㍢"]="10点",e["㍣"]="11点",e["㍤"]="12点",e["㍥"]="13点",e["㍦"]="14点",e["㍧"]="15点",e["㍨"]="16点",e["㍩"]="17点",e["㍪"]="18点",e["㍫"]="19点",e["㍬"]="20点",e["㍭"]="21点",e["㍮"]="22点",e["㍯"]="23点",e["㍰"]="24点",e["㏠"]="1日",e["㏡"]="2日",e["㏢"]="3日",e["㏣"]="4日",e["㏤"]="5日",e["㏥"]="6日",e["㏦"]="7日",e["㏧"]="8日",e["㏨"]="9日",e["㏩"]="10日",e["㏪"]="11日",e["㏫"]="12日",e["㏬"]="13日",e["㏭"]="14日",e["㏮"]="15日",e["㏯"]="16日",e["㏰"]="17日",e["㏱"]="18日",e["㏲"]="19日",e["㏳"]="20日",e["㏴"]="21日",e["㏵"]="22日",e["㏶"]="23日",e["㏷"]="24日",e["㏸"]="25日",e["㏹"]="26日",e["㏺"]="27日",e["㏻"]="28日",e["㏼"]="29日",e["㏽"]="30日",e["㏾"]="31日",e["ﬀ"]="ff",e["ﬁ"]="fi",e["ﬂ"]="fl",e["ﬃ"]="ffi",e["ﬄ"]="ffl",e["ﬅ"]="ſt",e["ﬆ"]="st",e["ﬓ"]="մն",e["ﬔ"]="մե",e["ﬕ"]="մի",e["ﬖ"]="վն",e["ﬗ"]="մխ",e["ﭏ"]="אל",e["ﭐ"]="ٱ",e["ﭑ"]="ٱ",e["ﭒ"]="ٻ",e["ﭓ"]="ٻ",e["ﭔ"]="ٻ",e["ﭕ"]="ٻ",e["ﭖ"]="پ",e["ﭗ"]="پ",e["ﭘ"]="پ",e["ﭙ"]="پ",e["ﭚ"]="ڀ",e["ﭛ"]="ڀ",e["ﭜ"]="ڀ",e["ﭝ"]="ڀ",e["ﭞ"]="ٺ",e["ﭟ"]="ٺ",e["ﭠ"]="ٺ",e["ﭡ"]="ٺ",e["ﭢ"]="ٿ",e["ﭣ"]="ٿ",e["ﭤ"]="ٿ",e["ﭥ"]="ٿ",e["ﭦ"]="ٹ",e["ﭧ"]="ٹ",e["ﭨ"]="ٹ",e["ﭩ"]="ٹ",e["ﭪ"]="ڤ",e["ﭫ"]="ڤ",e["ﭬ"]="ڤ",e["ﭭ"]="ڤ",e["ﭮ"]="ڦ",e["ﭯ"]="ڦ",e["ﭰ"]="ڦ",e["ﭱ"]="ڦ",e["ﭲ"]="ڄ",e["ﭳ"]="ڄ",e["ﭴ"]="ڄ",e["ﭵ"]="ڄ",e["ﭶ"]="ڃ",e["ﭷ"]="ڃ",e["ﭸ"]="ڃ",e["ﭹ"]="ڃ",e["ﭺ"]="چ",e["ﭻ"]="چ",e["ﭼ"]="چ",e["ﭽ"]="چ",e["ﭾ"]="ڇ",e["ﭿ"]="ڇ",e["ﮀ"]="ڇ",e["ﮁ"]="ڇ",e["ﮂ"]="ڍ",e["ﮃ"]="ڍ",e["ﮄ"]="ڌ",e["ﮅ"]="ڌ",e["ﮆ"]="ڎ",e["ﮇ"]="ڎ",e["ﮈ"]="ڈ",e["ﮉ"]="ڈ",e["ﮊ"]="ژ",e["ﮋ"]="ژ",e["ﮌ"]="ڑ",e["ﮍ"]="ڑ",e["ﮎ"]="ک",e["ﮏ"]="ک",e["ﮐ"]="ک",e["ﮑ"]="ک",e["ﮒ"]="گ",e["ﮓ"]="گ",e["ﮔ"]="گ",e["ﮕ"]="گ",e["ﮖ"]="ڳ",e["ﮗ"]="ڳ",e["ﮘ"]="ڳ",e["ﮙ"]="ڳ",e["ﮚ"]="ڱ",e["ﮛ"]="ڱ",e["ﮜ"]="ڱ",e["ﮝ"]="ڱ",e["ﮞ"]="ں",e["ﮟ"]="ں",e["ﮠ"]="ڻ",e["ﮡ"]="ڻ",e["ﮢ"]="ڻ",e["ﮣ"]="ڻ",e["ﮤ"]="ۀ",e["ﮥ"]="ۀ",e["ﮦ"]="ہ",e["ﮧ"]="ہ",e["ﮨ"]="ہ",e["ﮩ"]="ہ",e["ﮪ"]="ھ",e["ﮫ"]="ھ",e["ﮬ"]="ھ",e["ﮭ"]="ھ",e["ﮮ"]="ے",e["ﮯ"]="ے",e["ﮰ"]="ۓ",e["ﮱ"]="ۓ",e["ﯓ"]="ڭ",e["ﯔ"]="ڭ",e["ﯕ"]="ڭ",e["ﯖ"]="ڭ",e["ﯗ"]="ۇ",e["ﯘ"]="ۇ",e["ﯙ"]="ۆ",e["ﯚ"]="ۆ",e["ﯛ"]="ۈ",e["ﯜ"]="ۈ",e["ﯝ"]="ٷ",e["ﯞ"]="ۋ",e["ﯟ"]="ۋ",e["ﯠ"]="ۅ",e["ﯡ"]="ۅ",e["ﯢ"]="ۉ",e["ﯣ"]="ۉ",e["ﯤ"]="ې",e["ﯥ"]="ې",e["ﯦ"]="ې",e["ﯧ"]="ې",e["ﯨ"]="ى",e["ﯩ"]="ى",e["ﯪ"]="ئا",e["ﯫ"]="ئا",e["ﯬ"]="ئە",e["ﯭ"]="ئە",e["ﯮ"]="ئو",e["ﯯ"]="ئو",e["ﯰ"]="ئۇ",e["ﯱ"]="ئۇ",e["ﯲ"]="ئۆ",e["ﯳ"]="ئۆ",e["ﯴ"]="ئۈ",e["ﯵ"]="ئۈ",e["ﯶ"]="ئې";e["ﯷ"]="ئې",e["ﯸ"]="ئې",e["ﯹ"]="ئى",e["ﯺ"]="ئى",e["ﯻ"]="ئى",e["ﯼ"]="ی",e["ﯽ"]="ی",e["ﯾ"]="ی",e["ﯿ"]="ی",e["ﰀ"]="ئج",e["ﰁ"]="ئح",e["ﰂ"]="ئم",e["ﰃ"]="ئى",e["ﰄ"]="ئي",e["ﰅ"]="بج",e["ﰆ"]="بح",e["ﰇ"]="بخ",e["ﰈ"]="بم",e["ﰉ"]="بى",e["ﰊ"]="بي",e["ﰋ"]="تج",e["ﰌ"]="تح",e["ﰍ"]="تخ",e["ﰎ"]="تم",e["ﰏ"]="تى",e["ﰐ"]="تي",e["ﰑ"]="ثج",e["ﰒ"]="ثم",e["ﰓ"]="ثى",e["ﰔ"]="ثي",e["ﰕ"]="جح",e["ﰖ"]="جم",e["ﰗ"]="حج",e["ﰘ"]="حم",e["ﰙ"]="خج",e["ﰚ"]="خح",e["ﰛ"]="خم",e["ﰜ"]="سج",e["ﰝ"]="سح",e["ﰞ"]="سخ",e["ﰟ"]="سم",e["ﰠ"]="صح",e["ﰡ"]="صم",e["ﰢ"]="ضج",e["ﰣ"]="ضح",e["ﰤ"]="ضخ",e["ﰥ"]="ضم",e["ﰦ"]="طح",e["ﰧ"]="طم",e["ﰨ"]="ظم",e["ﰩ"]="عج",e["ﰪ"]="عم",e["ﰫ"]="غج",e["ﰬ"]="غم",e["ﰭ"]="فج",e["ﰮ"]="فح",e["ﰯ"]="فخ",e["ﰰ"]="فم",e["ﰱ"]="فى",e["ﰲ"]="في",e["ﰳ"]="قح",e["ﰴ"]="قم",e["ﰵ"]="قى",e["ﰶ"]="قي",e["ﰷ"]="كا",e["ﰸ"]="كج",e["ﰹ"]="كح",e["ﰺ"]="كخ",e["ﰻ"]="كل",e["ﰼ"]="كم",e["ﰽ"]="كى",e["ﰾ"]="كي",e["ﰿ"]="لج",e["ﱀ"]="لح",e["ﱁ"]="لخ",e["ﱂ"]="لم",e["ﱃ"]="لى",e["ﱄ"]="لي",e["ﱅ"]="مج",e["ﱆ"]="مح",e["ﱇ"]="مخ",e["ﱈ"]="مم",e["ﱉ"]="مى",e["ﱊ"]="مي",e["ﱋ"]="نج",e["ﱌ"]="نح",e["ﱍ"]="نخ",e["ﱎ"]="نم",e["ﱏ"]="نى",e["ﱐ"]="ني",e["ﱑ"]="هج",e["ﱒ"]="هم",e["ﱓ"]="هى",e["ﱔ"]="هي",e["ﱕ"]="يج",e["ﱖ"]="يح",e["ﱗ"]="يخ",e["ﱘ"]="يم",e["ﱙ"]="يى",e["ﱚ"]="يي",e["ﱛ"]="ذٰ",e["ﱜ"]="رٰ",e["ﱝ"]="ىٰ",e["ﱞ"]=" ٌّ",e["ﱟ"]=" ٍّ",e["ﱠ"]=" َّ",e["ﱡ"]=" ُّ",e["ﱢ"]=" ِّ",e["ﱣ"]=" ّٰ",e["ﱤ"]="ئر",e["ﱥ"]="ئز",e["ﱦ"]="ئم",e["ﱧ"]="ئن",e["ﱨ"]="ئى",e["ﱩ"]="ئي",e["ﱪ"]="بر",e["ﱫ"]="بز",e["ﱬ"]="بم",e["ﱭ"]="بن",e["ﱮ"]="بى",e["ﱯ"]="بي",e["ﱰ"]="تر",e["ﱱ"]="تز",e["ﱲ"]="تم",e["ﱳ"]="تن",e["ﱴ"]="تى",e["ﱵ"]="تي",e["ﱶ"]="ثر",e["ﱷ"]="ثز",e["ﱸ"]="ثم",e["ﱹ"]="ثن",e["ﱺ"]="ثى",e["ﱻ"]="ثي",e["ﱼ"]="فى",e["ﱽ"]="في",e["ﱾ"]="قى",e["ﱿ"]="قي",e["ﲀ"]="كا",e["ﲁ"]="كل",e["ﲂ"]="كم",e["ﲃ"]="كى",e["ﲄ"]="كي",e["ﲅ"]="لم",e["ﲆ"]="لى",e["ﲇ"]="لي",e["ﲈ"]="ما",e["ﲉ"]="مم",e["ﲊ"]="نر",e["ﲋ"]="نز",e["ﲌ"]="نم",e["ﲍ"]="نن",e["ﲎ"]="نى",e["ﲏ"]="ني",e["ﲐ"]="ىٰ",e["ﲑ"]="ير",e["ﲒ"]="يز",e["ﲓ"]="يم",e["ﲔ"]="ين",e["ﲕ"]="يى",e["ﲖ"]="يي",e["ﲗ"]="ئج",e["ﲘ"]="ئح",e["ﲙ"]="ئخ",e["ﲚ"]="ئم",e["ﲛ"]="ئه",e["ﲜ"]="بج",e["ﲝ"]="بح",e["ﲞ"]="بخ",e["ﲟ"]="بم",e["ﲠ"]="به",e["ﲡ"]="تج",e["ﲢ"]="تح",e["ﲣ"]="تخ",e["ﲤ"]="تم",e["ﲥ"]="ته",e["ﲦ"]="ثم",e["ﲧ"]="جح",e["ﲨ"]="جم",e["ﲩ"]="حج",e["ﲪ"]="حم",e["ﲫ"]="خج",e["ﲬ"]="خم",e["ﲭ"]="سج",e["ﲮ"]="سح",e["ﲯ"]="سخ",e["ﲰ"]="سم",e["ﲱ"]="صح",e["ﲲ"]="صخ",e["ﲳ"]="صم",e["ﲴ"]="ضج",e["ﲵ"]="ضح",e["ﲶ"]="ضخ",e["ﲷ"]="ضم",e["ﲸ"]="طح",e["ﲹ"]="ظم",e["ﲺ"]="عج",e["ﲻ"]="عم",e["ﲼ"]="غج",e["ﲽ"]="غم",e["ﲾ"]="فج",e["ﲿ"]="فح",e["ﳀ"]="فخ",e["ﳁ"]="فم",e["ﳂ"]="قح",e["ﳃ"]="قم",e["ﳄ"]="كج",e["ﳅ"]="كح",e["ﳆ"]="كخ",e["ﳇ"]="كل",e["ﳈ"]="كم",e["ﳉ"]="لج",e["ﳊ"]="لح",e["ﳋ"]="لخ",e["ﳌ"]="لم",e["ﳍ"]="له",e["ﳎ"]="مج",e["ﳏ"]="مح",e["ﳐ"]="مخ",e["ﳑ"]="مم",e["ﳒ"]="نج",e["ﳓ"]="نح",e["ﳔ"]="نخ",e["ﳕ"]="نم",e["ﳖ"]="نه",e["ﳗ"]="هج",e["ﳘ"]="هم",e["ﳙ"]="هٰ",e["ﳚ"]="يج",e["ﳛ"]="يح",e["ﳜ"]="يخ",e["ﳝ"]="يم",e["ﳞ"]="يه",e["ﳟ"]="ئم",e["ﳠ"]="ئه",e["ﳡ"]="بم",e["ﳢ"]="به",e["ﳣ"]="تم",e["ﳤ"]="ته",e["ﳥ"]="ثم",e["ﳦ"]="ثه",e["ﳧ"]="سم",e["ﳨ"]="سه",e["ﳩ"]="شم",e["ﳪ"]="شه",e["ﳫ"]="كل",e["ﳬ"]="كم",e["ﳭ"]="لم",e["ﳮ"]="نم",e["ﳯ"]="نه",e["ﳰ"]="يم",e["ﳱ"]="يه",e["ﳲ"]="ـَّ",e["ﳳ"]="ـُّ",e["ﳴ"]="ـِّ",e["ﳵ"]="طى",e["ﳶ"]="طي",e["ﳷ"]="عى",e["ﳸ"]="عي",e["ﳹ"]="غى",e["ﳺ"]="غي",e["ﳻ"]="سى",e["ﳼ"]="سي",e["ﳽ"]="شى",e["ﳾ"]="شي",e["ﳿ"]="حى",e["ﴀ"]="حي",e["ﴁ"]="جى",e["ﴂ"]="جي",e["ﴃ"]="خى",e["ﴄ"]="خي",e["ﴅ"]="صى",e["ﴆ"]="صي",e["ﴇ"]="ضى",e["ﴈ"]="ضي",e["ﴉ"]="شج",e["ﴊ"]="شح",e["ﴋ"]="شخ",e["ﴌ"]="شم",e["ﴍ"]="شر",e["ﴎ"]="سر",e["ﴏ"]="صر",e["ﴐ"]="ضر",e["ﴑ"]="طى",e["ﴒ"]="طي",e["ﴓ"]="عى",e["ﴔ"]="عي",e["ﴕ"]="غى",e["ﴖ"]="غي",e["ﴗ"]="سى",e["ﴘ"]="سي",e["ﴙ"]="شى",e["ﴚ"]="شي",e["ﴛ"]="حى",e["ﴜ"]="حي",e["ﴝ"]="جى",e["ﴞ"]="جي",e["ﴟ"]="خى",e["ﴠ"]="خي",e["ﴡ"]="صى",e["ﴢ"]="صي",e["ﴣ"]="ضى",e["ﴤ"]="ضي",e["ﴥ"]="شج",e["ﴦ"]="شح",e["ﴧ"]="شخ",e["ﴨ"]="شم",e["ﴩ"]="شر",e["ﴪ"]="سر",e["ﴫ"]="صر",e["ﴬ"]="ضر",e["ﴭ"]="شج",e["ﴮ"]="شح",e["ﴯ"]="شخ",e["ﴰ"]="شم",e["ﴱ"]="سه",e["ﴲ"]="شه",e["ﴳ"]="طم",e["ﴴ"]="سج",e["ﴵ"]="سح",e["ﴶ"]="سخ",e["ﴷ"]="شج",e["ﴸ"]="شح",e["ﴹ"]="شخ",e["ﴺ"]="طم",e["ﴻ"]="ظم",e["ﴼ"]="اً",e["ﴽ"]="اً",e["ﵐ"]="تجم",e["ﵑ"]="تحج",e["ﵒ"]="تحج",e["ﵓ"]="تحم",e["ﵔ"]="تخم",e["ﵕ"]="تمج",e["ﵖ"]="تمح",e["ﵗ"]="تمخ",e["ﵘ"]="جمح",e["ﵙ"]="جمح",e["ﵚ"]="حمي",e["ﵛ"]="حمى",e["ﵜ"]="سحج",e["ﵝ"]="سجح",e["ﵞ"]="سجى",e["ﵟ"]="سمح",e["ﵠ"]="سمح",e["ﵡ"]="سمج",e["ﵢ"]="سمم",e["ﵣ"]="سمم",e["ﵤ"]="صحح",e["ﵥ"]="صحح",e["ﵦ"]="صمم",e["ﵧ"]="شحم",e["ﵨ"]="شحم",e["ﵩ"]="شجي",e["ﵪ"]="شمخ",e["ﵫ"]="شمخ",e["ﵬ"]="شمم",e["ﵭ"]="شمم",e["ﵮ"]="ضحى",e["ﵯ"]="ضخم",e["ﵰ"]="ضخم",e["ﵱ"]="طمح",e["ﵲ"]="طمح",e["ﵳ"]="طمم",e["ﵴ"]="طمي",e["ﵵ"]="عجم",e["ﵶ"]="عمم",e["ﵷ"]="عمم",e["ﵸ"]="عمى",e["ﵹ"]="غمم",e["ﵺ"]="غمي",e["ﵻ"]="غمى",e["ﵼ"]="فخم",e["ﵽ"]="فخم",e["ﵾ"]="قمح",e["ﵿ"]="قمم",e["ﶀ"]="لحم",e["ﶁ"]="لحي",e["ﶂ"]="لحى",e["ﶃ"]="لجج",e["ﶄ"]="لجج",e["ﶅ"]="لخم",e["ﶆ"]="لخم",e["ﶇ"]="لمح",e["ﶈ"]="لمح",e["ﶉ"]="محج",e["ﶊ"]="محم",e["ﶋ"]="محي",e["ﶌ"]="مجح",e["ﶍ"]="مجم",e["ﶎ"]="مخج",e["ﶏ"]="مخم",e["ﶒ"]="مجخ",e["ﶓ"]="همج",e["ﶔ"]="همم",e["ﶕ"]="نحم",e["ﶖ"]="نحى",e["ﶗ"]="نجم",e["ﶘ"]="نجم",e["ﶙ"]="نجى",e["ﶚ"]="نمي",e["ﶛ"]="نمى",e["ﶜ"]="يمم",e["ﶝ"]="يمم",e["ﶞ"]="بخي",e["ﶟ"]="تجي",e["ﶠ"]="تجى",e["ﶡ"]="تخي",e["ﶢ"]="تخى",e["ﶣ"]="تمي",e["ﶤ"]="تمى",e["ﶥ"]="جمي",e["ﶦ"]="جحى",e["ﶧ"]="جمى",e["ﶨ"]="سخى",e["ﶩ"]="صحي",e["ﶪ"]="شحي",e["ﶫ"]="ضحي",e["ﶬ"]="لجي",e["ﶭ"]="لمي",e["ﶮ"]="يحي",e["ﶯ"]="يجي",e["ﶰ"]="يمي",e["ﶱ"]="ممي",e["ﶲ"]="قمي",e["ﶳ"]="نحي",e["ﶴ"]="قمح",e["ﶵ"]="لحم",e["ﶶ"]="عمي",e["ﶷ"]="كمي",e["ﶸ"]="نجح",e["ﶹ"]="مخي",e["ﶺ"]="لجم",e["ﶻ"]="كمم",e["ﶼ"]="لجم",e["ﶽ"]="نجح",e["ﶾ"]="جحي",e["ﶿ"]="حجي",e["ﷀ"]="مجي",e["ﷁ"]="فمي",e["ﷂ"]="بحي",e["ﷃ"]="كمم",e["ﷄ"]="عجم",e["ﷅ"]="صمم",e["ﷆ"]="سخي",e["ﷇ"]="نجي",e["﹉"]="‾",e["﹊"]="‾",e["﹋"]="‾",e["﹌"]="‾",e["﹍"]="_",e["﹎"]="_",e["﹏"]="_",e["ﺀ"]="ء",e["ﺁ"]="آ",e["ﺂ"]="آ",e["ﺃ"]="أ",e["ﺄ"]="أ",e["ﺅ"]="ؤ",e["ﺆ"]="ؤ",e["ﺇ"]="إ",e["ﺈ"]="إ",e["ﺉ"]="ئ",e["ﺊ"]="ئ",e["ﺋ"]="ئ",e["ﺌ"]="ئ",e["ﺍ"]="ا",e["ﺎ"]="ا",e["ﺏ"]="ب",e["ﺐ"]="ب",e["ﺑ"]="ب",e["ﺒ"]="ب",e["ﺓ"]="ة",e["ﺔ"]="ة",e["ﺕ"]="ت",e["ﺖ"]="ت",e["ﺗ"]="ت",e["ﺘ"]="ت",e["ﺙ"]="ث",e["ﺚ"]="ث",e["ﺛ"]="ث",e["ﺜ"]="ث",e["ﺝ"]="ج",e["ﺞ"]="ج",e["ﺟ"]="ج",e["ﺠ"]="ج",e["ﺡ"]="ح",e["ﺢ"]="ح",e["ﺣ"]="ح",e["ﺤ"]="ح",e["ﺥ"]="خ",e["ﺦ"]="خ",e["ﺧ"]="خ",e["ﺨ"]="خ",e["ﺩ"]="د",e["ﺪ"]="د",e["ﺫ"]="ذ",e["ﺬ"]="ذ",e["ﺭ"]="ر",e["ﺮ"]="ر",e["ﺯ"]="ز",e["ﺰ"]="ز",e["ﺱ"]="س",e["ﺲ"]="س",e["ﺳ"]="س",e["ﺴ"]="س",e["ﺵ"]="ش",e["ﺶ"]="ش",e["ﺷ"]="ش",e["ﺸ"]="ش",e["ﺹ"]="ص",e["ﺺ"]="ص",e["ﺻ"]="ص",e["ﺼ"]="ص",e["ﺽ"]="ض",e["ﺾ"]="ض",e["ﺿ"]="ض",e["ﻀ"]="ض",e["ﻁ"]="ط",e["ﻂ"]="ط",e["ﻃ"]="ط",e["ﻄ"]="ط",e["ﻅ"]="ظ",e["ﻆ"]="ظ",e["ﻇ"]="ظ",e["ﻈ"]="ظ",e["ﻉ"]="ع",e["ﻊ"]="ع",e["ﻋ"]="ع",e["ﻌ"]="ع",e["ﻍ"]="غ",e["ﻎ"]="غ",e["ﻏ"]="غ",e["ﻐ"]="غ",e["ﻑ"]="ف",e["ﻒ"]="ف",e["ﻓ"]="ف",e["ﻔ"]="ف",e["ﻕ"]="ق",e["ﻖ"]="ق",e["ﻗ"]="ق",e["ﻘ"]="ق",e["ﻙ"]="ك",e["ﻚ"]="ك",e["ﻛ"]="ك",e["ﻜ"]="ك",e["ﻝ"]="ل",e["ﻞ"]="ل",e["ﻟ"]="ل",e["ﻠ"]="ل",e["ﻡ"]="م",e["ﻢ"]="م",e["ﻣ"]="م",e["ﻤ"]="م",e["ﻥ"]="ن",e["ﻦ"]="ن",e["ﻧ"]="ن",e["ﻨ"]="ن",e["ﻩ"]="ه",e["ﻪ"]="ه",e["ﻫ"]="ه",e["ﻬ"]="ه",e["ﻭ"]="و",e["ﻮ"]="و",e["ﻯ"]="ى",e["ﻰ"]="ى",e["ﻱ"]="ي",e["ﻲ"]="ي",e["ﻳ"]="ي",e["ﻴ"]="ي",e["ﻵ"]="لآ",e["ﻶ"]="لآ",e["ﻷ"]="لأ",e["ﻸ"]="لأ",e["ﻹ"]="لإ",e["ﻺ"]="لإ",e["ﻻ"]="لا",e["ﻼ"]="لا"});t.mapSpecialUnicodeValues=function(e){return 65520<=e&&e<=65535?0:62976<=e&&e<=63743?a()[e]||e:173===e?45:e},t.reverseIfRtl=function(e){var t,r,a=e.length;if(a<=1||(t=e.charCodeAt(0),r=o[13],!(t>=r.begin&&t<r.end||t>=(r=o[11]).begin&&t<r.end)))return e;for(var n="",i=a-1;0<=i;i--)n+=e[i];return n},t.getUnicodeRangeFor=function(e){for(var t=0,r=o.length;t<r;t++){var a=o[t];if(e>=a.begin&&e<a.end)return t}return-1},t.getNormalizedUnicodes=r,t.getUnicodeForGlyph=function(e,t){var r=t[e];if(void 0!==r)return r;if(!e)return-1;if("u"===e[0]){var a,t=e.length;if(7===t&&"n"===e[1]&&"i"===e[2])a=e.substring(3);else{if(!(5<=t&&t<=7))return-1;a=e.substring(1)}if(a===a.toUpperCase()&&0<=(r=parseInt(a,16)))return r}return-1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontRendererFactory=void 0;var T=r(5),v=r(223),o=r(226),O=r(225),y=r(205);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=i(r);return e=a?(e=i(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==n(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}var f,d,w,k,r=(f=[],d=function(){function t(e){l(this,t),this.constructor===t&&(0,T.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=e,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}return h(t,[{key:"getPathJs",value:function(e){var t=P(this.cmap,e),e=this.compiledGlyphs[t.glyphId];return e||(e=this.compileGlyph(this.glyphs[t.glyphId],t.glyphId),this.compiledGlyphs[t.glyphId]=e),void 0===this.compiledCharCodeToGlyphId[t.charCode]&&(this.compiledCharCodeToGlyphId[t.charCode]=t.glyphId),e}},{key:"compileGlyph",value:function(e,t){if(!e||0===e.length||14===e[0])return f;var r=this.fontMatrix;this.isCFFCIDFont&&(0<=(a=this.fdSelect.getFDIndex(t))&&a<this.fdArray.length?r=this.fdArray[a].getByName("FontMatrix")||T.FONT_IDENTITY_MATRIX:(0,T.warn)("Invalid fd index for glyph index."));var a=[];return a.push({cmd:"save"}),a.push({cmd:"transform",args:r.slice()}),a.push({cmd:"scale",args:["size","-size"]}),this.compileGlyphImpl(e,a,t),a.push({cmd:"restore"}),a}},{key:"compileGlyphImpl",value:function(){(0,T.unreachable)("Children classes should implement this.")}},{key:"hasBuiltPath",value:function(e){e=P(this.cmap,e);return void 0!==this.compiledGlyphs[e.glyphId]&&void 0!==this.compiledCharCodeToGlyphId[e.charCode]}}]),t}(),w=function(){s(n,d);var a=c(n);function n(e,t,r){return l(this,n),(r=a.call(this,r||[488e-6,0,0,488e-6,0,0])).glyphs=e,r.cmap=t,r}return h(n,[{key:"compileGlyphImpl",value:function(e,t){F(e,t,this)}}]),n}(),k=function(){s(i,d);var n=c(i);function i(e,t,r,a){return l(this,i),(r=n.call(this,r||[.001,0,0,.001,0,0])).glyphs=e.glyphs,r.gsubrs=e.gsubrs||[],r.subrs=e.subrs||[],r.cmap=t,r.glyphNameMap=a||(0,o.getGlyphsUnicode)(),r.gsubrsBias=E(r.gsubrs),r.subrsBias=E(r.subrs),r.isCFFCIDFont=e.isCFFCIDFont,r.fdSelect=e.fdSelect,r.fdArray=e.fdArray,r}return h(i,[{key:"compileGlyphImpl",value:function(e,t,r){R(e,t,this,r)}}]),i}(),{create:function(e,t){for(var r,a,n,i,o,s,c,l,u=new Uint8Array(e.data),h=x(u,4),f=0,d=12;f<h;f++,d+=16){var p=(0,T.bytesToString)(u.subarray(d,d+4)),g=S(u,d+8),m=S(u,d+12);switch(p){case"cmap":r=function(e,t){var r=1===x(e,t+2)?S(e,t+8):S(e,t+16),a=x(e,t+r);if(4===a){x(e,t+r+2);for(var n=x(e,t+r+6)>>1,i=t+r+14,o=[],s=0;s<n;s++,i+=2)o[s]={end:x(e,i)};for(i+=2,s=0;s<n;s++,i+=2)o[s].start=x(e,i);for(s=0;s<n;s++,i+=2)o[s].idDelta=x(e,i);for(s=0;s<n;s++,i+=2){var c=x(e,i);if(0!==c){o[s].ids=[];for(var l=0,u=o[s].end-o[s].start+1;l<u;l++)o[s].ids[l]=x(e,i+c),c+=2}}return o}if(12!==a)throw new T.FormatError("unsupported cmap: ".concat(a));S(e,t+r+4);var h=S(e,t+r+12);for(i=t+r+16,o=[],s=0;s<h;s++)o.push({start:S(e,i),end:S(e,i+4),idDelta:S(e,i+8)-S(e,i)}),i+=12;return o}(u,g);break;case"glyf":a=u.subarray(g,g+m);break;case"loca":n=u.subarray(g,g+m);break;case"head":s=x(u,g+18),o=x(u,g+50);break;case"CFF ":c=g+m,l=t,i={glyphs:(l=new v.CFFParser(new y.Stream(u,g,c-g),{},l).parse()).charStrings.objects,subrs:l.topDict.privateDict&&l.topDict.privateDict.subrsIndex&&l.topDict.privateDict.subrsIndex.objects,gsubrs:l.globalSubrIndex&&l.globalSubrIndex.objects,isCFFCIDFont:l.isCIDFont,fdSelect:l.fdSelect,fdArray:l.fdArray}}}if(a){var b=s?[1/s,0,0,1/s,0,0]:e.fontMatrix;return new w(function(e,t,r){for(var a,n=r?(a=4,function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}):(a=2,function(e,t){return e[t]<<9|e[t+1]<<1}),i=[],o=n(t,0),s=a;s<t.length;s+=a){var c=n(t,s);i.push(e.subarray(o,c)),o=c}return i}(a,n,o),r,b)}return new k(i,r,e.fontMatrix,e.glyphNameMap)}});function S(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function x(e,t){return e[t]<<8|e[t+1]}function E(e){var t=e.length,e=32768;return t<1240?e=107:t<33900&&(e=1131),e}function P(e,t){for(var r=t.codePointAt(0),t=0,a=0,n=e.length-1;a<n;){var i=a+n+1>>1;r<e[i].start?n=i-1:a=i}return{charCode:r,glyphId:t=e[a].start<=r&&r<=e[a].end?e[a].idDelta+(e[a].ids?e[a].ids[r-e[a].start]:r)&65535:t}}function F(e,n,t){function r(e,t,r,a){n.push({cmd:"quadraticCurveTo",args:[e,t,r,a]})}var a,i,o,s,c=(e[I=0]<<24|e[I+1]<<16)>>16,l=0,u=0;if(I+=10,c<0)do{var h,f,d=e[I]<<8|e[I+1],p=e[I+2]<<8|e[I+3];I+=4,1&d?(h=(e[I]<<24|e[I+1]<<16)>>16,f=(e[I+2]<<24|e[I+3]<<16)>>16,I+=4):(h=e[I++],f=e[I++]);var u=2&d?(l=h,f):l=0,g=1,m=1,b=0,v=0;8&d?(g=m=(e[I]<<24|e[I+1]<<16)/1073741824,I+=2):64&d?(g=(e[I]<<24|e[I+1]<<16)/1073741824,m=(e[I+2]<<24|e[I+3]<<16)/1073741824,I+=4):128&d&&(g=(e[I]<<24|e[I+1]<<16)/1073741824,b=(e[I+2]<<24|e[I+3]<<16)/1073741824,v=(e[I+4]<<24|e[I+5]<<16)/1073741824,m=(e[I+6]<<24|e[I+7]<<16)/1073741824,I+=8);p=t.glyphs[p]}while(p&&(n.push({cmd:"save"}),n.push({cmd:"transform",args:[g,b,v,m,l,u]}),F(p,n,t),n.push({cmd:"restore"})),32&d);else{for(var y,w=[],k=0;k<c;k++)w.push(e[I]<<8|e[I+1]),I+=2;I+=2+(e[I]<<8|e[I+1]);for(var S=w[w.length-1]+1,x=[];x.length<S;){var C=1;for(8&(d=e[I++])&&(C+=e[I++]);0<C--;)x.push({flags:d})}for(k=0;k<S;k++){switch(18&x[k].flags){case 0:l+=(e[I]<<24|e[I+1]<<16)>>16,I+=2;break;case 2:l-=e[I++];break;case 18:l+=e[I++]}x[k].x=l}for(k=0;k<S;k++){switch(36&x[k].flags){case 0:u+=(e[I]<<24|e[I+1]<<16)>>16,I+=2;break;case 4:u-=e[I++];break;case 36:u+=e[I++]}x[k].y=u}for(var A=0,I=0;I<c;I++){var T,O=w[I],E=x.slice(A,O+1);for(1&E[0].flags?E.push(E[0]):1&E[E.length-1].flags?E.unshift(E[E.length-1]):(T={flags:1,x:(E[0].x+E[E.length-1].x)/2,y:(E[0].y+E[E.length-1].y)/2},E.unshift(T),E.push(T)),o=E[0].x,s=E[0].y,n.push({cmd:"moveTo",args:[o,s]}),k=1,y=E.length;k<y;k++)1&E[k].flags?(a=E[k].x,i=E[k].y,n.push({cmd:"lineTo",args:[a,i]})):1&E[k+1].flags?(r(E[k].x,E[k].y,E[k+1].x,E[k+1].y),k++):r(E[k].x,E[k].y,(E[k].x+E[k+1].x)/2,(E[k].y+E[k+1].y)/2);A=O+1}}}function R(e,b,v,y){function w(e,t){b.push({cmd:"moveTo",args:[e,t]})}function k(e,t){b.push({cmd:"lineTo",args:[e,t]})}function S(e,t,r,a,n,i){b.push({cmd:"bezierCurveTo",args:[e,t,r,a,n,i]})}var x=[],C=0,A=0,I=0;!function e(t){for(var r=0;r<t.length;){var a,n=!1,i=t[r++];switch(i){case 1:case 3:I+=x.length>>1,n=!0;break;case 4:A+=x.pop(),w(C,A),n=!0;break;case 5:for(;0<x.length;)C+=x.shift(),A+=x.shift(),k(C,A);break;case 6:for(;0<x.length&&(k(C+=x.shift(),A),0!==x.length);)A+=x.shift(),k(C,A);break;case 7:for(;0<x.length&&(A+=x.shift(),k(C,A),0!==x.length);)k(C+=x.shift(),A);break;case 8:for(;0<x.length;)d=C+x.shift(),p=A+x.shift(),g=d+x.shift(),m=p+x.shift(),C=g+x.shift(),A=m+x.shift(),S(d,p,g,m,C,A);break;case 10:var o,s,c,l=x.pop(),u=null;v.isCFFCIDFont?0<=(o=v.fdSelect.getFDIndex(y))&&o<v.fdArray.length?(c=void 0,(c=(s=v.fdArray[o]).privateDict&&s.privateDict.subrsIndex?s.privateDict.subrsIndex.objects:c)&&(u=c[l+=E(c)])):(0,T.warn)("Invalid fd index for glyph index."):u=v.subrs[l+v.subrsBias],u&&e(u);break;case 11:return;case 12:switch(i=t[r++]){case 34:g=(d=C+x.shift())+x.shift(),a=A+x.shift(),C=g+x.shift(),S(d,A,g,a,C,a),g=(d=C+x.shift())+x.shift(),C=g+x.shift(),S(d,a,g,A,C,A);break;case 35:d=C+x.shift(),p=A+x.shift(),g=d+x.shift(),m=p+x.shift(),C=g+x.shift(),A=m+x.shift(),S(d,p,g,m,C,A),d=C+x.shift(),p=A+x.shift(),g=d+x.shift(),m=p+x.shift(),C=g+x.shift(),A=m+x.shift(),S(d,p,g,m,C,A),x.pop();break;case 36:S(d=C+x.shift(),a=A+x.shift(),g=d+x.shift(),f=a+x.shift(),C=g+x.shift(),f),S(d=C+x.shift(),f,g=d+x.shift(),f+x.shift(),C=g+x.shift(),A);break;case 37:var h=C,f=A,d=C+x.shift(),p=A+x.shift(),g=d+x.shift(),m=p+x.shift();C=g+x.shift(),A=m+x.shift(),S(d,p,g,m,C,A),d=C+x.shift(),p=A+x.shift(),g=d+x.shift(),m=p+x.shift(),C=g,A=m,Math.abs(C-h)>Math.abs(A-f)?C+=x.shift():A+=x.shift(),S(d,p,g,m,C,A);break;default:throw new T.FormatError("unknown operator: 12 ".concat(i))}break;case 14:return void(4<=x.length&&(s=x.pop(),c=x.pop(),A=x.pop(),C=x.pop(),b.push({cmd:"save"}),b.push({cmd:"translate",args:[C,A]}),s=P(v.cmap,String.fromCharCode(v.glyphNameMap[O.StandardEncoding[s]])),R(v.glyphs[s.glyphId],b,v,s.glyphId),b.push({cmd:"restore"}),s=P(v.cmap,String.fromCharCode(v.glyphNameMap[O.StandardEncoding[c]])),R(v.glyphs[s.glyphId],b,v,s.glyphId)));case 18:I+=x.length>>1,n=!0;break;case 19:case 20:r+=(I+=x.length>>1)+7>>3,n=!0;break;case 21:A+=x.pop(),w(C+=x.pop(),A),n=!0;break;case 22:w(C+=x.pop(),A),n=!0;break;case 23:I+=x.length>>1,n=!0;break;case 24:for(;2<x.length;)d=C+x.shift(),p=A+x.shift(),g=d+x.shift(),m=p+x.shift(),C=g+x.shift(),A=m+x.shift(),S(d,p,g,m,C,A);C+=x.shift(),A+=x.shift(),k(C,A);break;case 25:for(;6<x.length;)C+=x.shift(),A+=x.shift(),k(C,A);d=C+x.shift(),p=A+x.shift(),g=d+x.shift(),m=p+x.shift(),C=g+x.shift(),A=m+x.shift(),S(d,p,g,m,C,A);break;case 26:for(x.length%2&&(C+=x.shift());0<x.length;)d=C,p=A+x.shift(),g=d+x.shift(),m=p+x.shift(),C=g,A=m+x.shift(),S(d,p,g,m,C,A);break;case 27:for(x.length%2&&(A+=x.shift());0<x.length;)d=C+x.shift(),p=A,g=d+x.shift(),m=p+x.shift(),C=g+x.shift(),S(d,p,g,A=m,C,A);break;case 28:x.push((t[r]<<24|t[r+1]<<16)>>16),r+=2;break;case 29:l=x.pop()+v.gsubrsBias,(u=v.gsubrs[l])&&e(u);break;case 30:for(;0<x.length&&(d=C,p=A+x.shift(),g=d+x.shift(),m=p+x.shift(),C=g+x.shift(),A=m+(1===x.length?x.shift():0),S(d,p,g,m,C,A),0!==x.length);)d=C+x.shift(),p=A,g=d+x.shift(),m=p+x.shift(),A=m+x.shift(),S(d,p,g,m,C=g+(1===x.length?x.shift():0),A);break;case 31:for(;0<x.length&&(d=C+x.shift(),p=A,g=d+x.shift(),m=p+x.shift(),A=m+x.shift(),S(d,p,g,m,C=g+(1===x.length?x.shift():0),A),0!==x.length);)d=C,p=A+x.shift(),g=d+x.shift(),m=p+x.shift(),C=g+x.shift(),A=m+(1===x.length?x.shift():0),S(d,p,g,m,C,A);break;default:if(i<32)throw new T.FormatError("unknown operator: ".concat(i));i<247?x.push(i-139):i<251?x.push(256*(i-247)+t[r++]+108):i<255?x.push(256*-(i-251)-t[r++]-108):(x.push((t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3])/65536),r+=4)}n&&(x.length=0)}}(e)}t.FontRendererFactory=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Type1Parser=void 0;var l=r(225),n=r(201),i=r(205),C=r(5),v=function(){var d=[4],p=[5],g=[6],m=[7],b=[8],v=[12,35],y=[14],w=[21],k=[22],S=[30],x=[31];function e(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}return e.prototype={convert:function(e,t,r){for(var a=e.length,n=!1,i=0;i<a;i++){var o=e[i];if(o<32){switch(o=12===o?(o<<8)+e[++i]:o){case 1:case 3:this.stack=[];break;case 4:if(this.flexing){if(this.stack.length<1){n=!0;break}var s=this.stack.pop();this.stack.push(0,s);break}n=this.executeCommand(1,d);break;case 5:n=this.executeCommand(2,p);break;case 6:n=this.executeCommand(1,g);break;case 7:n=this.executeCommand(1,m);break;case 8:n=this.executeCommand(6,b);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){n=!0;break}if(!t[f=this.stack.pop()]){n=!0;break}n=this.convert(t[f],t,r);break;case 11:return n;case 13:if(this.stack.length<2){n=!0;break}c=this.stack.pop(),l=this.stack.pop(),this.lsb=l,this.width=c,this.stack.push(c,l),n=this.executeCommand(2,k);break;case 14:this.output.push(y[0]);break;case 21:if(this.flexing)break;n=this.executeCommand(2,w);break;case 22:if(this.flexing){this.stack.push(0);break}n=this.executeCommand(1,k);break;case 30:n=this.executeCommand(4,S);break;case 31:n=this.executeCommand(4,x);break;case 3072:case 3073:case 3074:this.stack=[];break;case 3078:n=r?(this.seac=this.stack.splice(-4,4),this.executeCommand(0,y)):this.executeCommand(4,y);break;case 3079:if(this.stack.length<4){n=!0;break}this.stack.pop();var c=this.stack.pop(),s=this.stack.pop(),l=this.stack.pop();this.lsb=l,this.width=c,this.stack.push(c,l,s),n=this.executeCommand(3,w);break;case 3084:if(this.stack.length<2){n=!0;break}var u=this.stack.pop(),h=this.stack.pop();this.stack.push(h/u);break;case 3088:if(this.stack.length<2){n=!0;break}var f=this.stack.pop(),h=this.stack.pop();0===f&&3===h?(u=this.stack.splice(this.stack.length-17,17),this.stack.push(u[2]+u[0],u[3]+u[1],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14]),n=this.executeCommand(13,v,!0),this.flexing=!1,this.stack.push(u[15],u[16])):1===f&&0===h&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:(0,C.warn)('Unknown type 1 charstring command of "'+o+'"')}if(n)break}else o<=246?o-=139:o=o<=250?256*(o-247)+e[++i]+108:o<=254?-256*(o-251)-e[++i]-108:(255&e[++i])<<24|(255&e[++i])<<16|(255&e[++i])<<8|(255&e[++i])<<0,this.stack.push(o)}return n},executeCommand:function(e,t,r){var a=this.stack.length;if(a<e)return!0;for(var n=a-e,i=n;i<a;i++){var o=this.stack[i];Number.isInteger(o)?this.output.push(28,o>>8&255,255&o):this.output.push(255,(o=65536*o|0)>>24&255,o>>16&255,o>>8&255,255&o)}return this.output.push.apply(this.output,t),r?this.stack.splice(n,e):this.stack.length=0,!1}},e}(),r=(s.prototype={readNumberArray:function(){this.getToken();for(var e=[];;){var t=this.getToken();if(null===t||"]"===t||"}"===t)break;e.push(parseFloat(t||0))}return e},readNumber:function(){var e=this.getToken();return parseFloat(e||0)},readInt:function(){var e=this.getToken();return 0|parseInt(e||0,10)},readBoolean:function(){return"true"===this.getToken()?1:0},nextChar:function(){return this.currentChar=this.stream.getByte()},getToken:function(){for(var e=!1,t=this.currentChar;;){if(-1===t)return null;if(e)10!==t&&13!==t||(e=!1);else if(37===t)e=!0;else if(!(0,n.isWhiteSpace)(t))break;t=this.nextChar()}if(a(t))return this.nextChar(),String.fromCharCode(t);for(var r="";r+=String.fromCharCode(t),0<=(t=this.nextChar())&&!(0,n.isWhiteSpace)(t)&&!a(t););return r},readCharStrings:function(e,t){return-1===t?e:o(e,4330,t)},extractFontProgram:function(e){var t=this.stream,r=[],a=[],n=Object.create(null);n.lenIV=4;for(var i,o,s,c,l={subrs:[],charstrings:[],properties:{privateData:n}};null!==(i=this.getToken());)if("/"===i)switch(i=this.getToken()){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();;){if(null===(i=this.getToken())||"end"===i)break;"/"===i&&(d=this.getToken(),c=this.readInt(),this.getToken(),o=0<c?t.getBytes(c):new Uint8Array(0),s=l.properties.privateData.lenIV,p=this.readCharStrings(o,s),this.nextChar(),"noaccess"===(i=this.getToken())&&this.getToken(),a.push({glyph:d,encoded:p}))}break;case"Subrs":for(this.readInt(),this.getToken();"dup"===this.getToken();){var u=this.readInt();c=this.readInt(),this.getToken(),o=0<c?t.getBytes(c):new Uint8Array(0),s=l.properties.privateData.lenIV,p=this.readCharStrings(o,s),this.nextChar(),"noaccess"===(i=this.getToken())&&this.getToken(),r[u]=p}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":var h=this.readNumberArray();0<h.length&&h.length,0;break;case"StemSnapH":case"StemSnapV":l.properties.privateData[i]=this.readNumberArray();break;case"StdHW":case"StdVW":l.properties.privateData[i]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":case"ExpansionFactor":l.properties.privateData[i]=this.readNumber();break;case"ForceBold":l.properties.privateData[i]=this.readBoolean()}for(var f=0;f<a.length;f++){var d=a[f].glyph,p=a[f].encoded,g=new v,m=g.convert(p,r,this.seacAnalysisEnabled),b=g.output,b={glyphName:d,charstring:b=m?[14]:b,width:g.width,lsb:g.lsb,seac:g.seac};".notdef"===d?l.charstrings.unshift(b):l.charstrings.push(b),!e.builtInEncoding||-1<(b=e.builtInEncoding.indexOf(d))&&void 0===e.widths[b]&&b>=e.firstChar&&b<=e.lastChar&&(e.widths[b]=g.width)}return l},extractFontHeader:function(e){for(var t;null!==(t=this.getToken());)if("/"===t)switch(t=this.getToken()){case"FontMatrix":var r=this.readNumberArray();e.fontMatrix=r;break;case"Encoding":var a=this.getToken();if(/^\\d+$/.test(a)){var n=[],i=0|parseInt(a,10);this.getToken();for(var o=0;o<i;o++){for(t=this.getToken();"dup"!==t&&"def"!==t;)if(null===(t=this.getToken()))return;if("def"===t)break;var s=this.readInt();this.getToken();var c=this.getToken();n[s]=c,this.getToken()}}else n=(0,l.getEncoding)(a);e.builtInEncoding=n;break;case"FontBBox":a=this.readNumberArray();e.ascent=Math.max(a[3],a[1]),e.descent=Math.min(a[1],a[3]),e.ascentScaled=!0}}},s);function u(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function o(e,t,r){if(r>=e.length)return new Uint8Array(0);for(var a,n=0|t,i=0;i<r;i++)n=52845*(e[i]+n)+22719&65535;var o=e.length-r,s=new Uint8Array(o);for(i=r,a=0;a<o;i++,a++){var c=e[i];s[a]=c^n>>8,n=52845*(c+n)+22719&65535}return s}function a(e){return 47===e||91===e||93===e||123===e||125===e||40===e||41===e}function s(e,t,r){var a;t&&(t=!((u((a=e.getBytes())[0])||(0,n.isWhiteSpace)(a[0]))&&u(a[1])&&u(a[2])&&u(a[3])&&u(a[4])&&u(a[5])&&u(a[6])&&u(a[7])),e=new i.Stream((t?o:function(e,t,r){for(var a=0|t,n=e.length,i=new Uint8Array(n>>>1),o=0,s=0;o<n;o++){var c,l=e[o];if(u(l)){for(o++;o<n&&!u(c=e[o]);)o++;o<n&&(l=parseInt(String.fromCharCode(l,c),16),i[s++]=l^a>>8,a=52845*(l+a)+22719&65535)}}return i.slice(r,s)})(a,55665,4))),this.seacAnalysisEnabled=!!r,this.stream=e,this.nextChar()}t.Type1Parser=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTilingPatternIR=function(e,t,r){var a=t.getArray("Matrix"),n=L.Util.normalizeRect(t.getArray("BBox")),i=t.get("XStep"),o=t.get("YStep"),s=t.get("PaintType"),t=t.get("TilingType");if(n[2]-n[0]!=0&&n[3]-n[1]!=0)return["TilingPattern",r,e,a,n,i,o,s,t];throw new L.FormatError("Invalid getTilingPatternIR /BBox array: [".concat(n,"]."))},t.Pattern=void 0;var L=r(5),k=r(216),d=r(198),c=r(201),l=2,S=3,p=4,g=5,m=6,b=7,r=(a.prototype={getPattern:function(e){(0,L.unreachable)("Should not call Pattern.getStyle: ".concat(e))}},a.parseShading=function(e,t,r,a,n,i){var o=(0,d.isStream)(e)?e.dict:e,s=o.get("ShadingType");try{switch(s){case l:case S:return new x.RadialAxial(o,t,r,a,i);case p:case g:case m:case b:return new x.Mesh(e,t,r,a,i);default:throw new L.FormatError("Unsupported ShadingType: "+s)}}catch(e){if(e instanceof c.MissingDataException)throw e;return n.send("UnsupportedFeature",{featureId:L.UNSUPPORTED_FEATURES.shadingPattern}),(0,L.warn)(e),new x.Dummy}},a);function a(){(0,L.unreachable)("should not call Pattern constructor")}t.Pattern=r;var x={};function n(e,t,r,a,n){this.matrix=t,this.coordsArr=e.getArray("Coords"),this.shadingType=e.get("ShadingType"),this.type="Pattern";var i=e.get("ColorSpace","CS"),i=k.ColorSpace.parse(i,r,a,n);this.cs=i;var o=e.getArray("BBox");Array.isArray(o)&&4===o.length?this.bbox=L.Util.normalizeRect(o):this.bbox=null;var s=0,c=1;e.has("Domain")&&(s=(l=e.getArray("Domain"))[0],c=l[1]);var l,u,h=!1,t=!1;e.has("Extend")&&(h=(u=e.getArray("Extend"))[0],t=u[1]),this.shadingType!==S||h&&t||(r=this.coordsArr[0],a=this.coordsArr[1],o=this.coordsArr[2],l=this.coordsArr[3],f=this.coordsArr[4],o<=(u=this.coordsArr[5])+(f=Math.sqrt((r-l)*(r-l)+(a-f)*(a-f)))&&u<=o+f&&(0,L.warn)("Unsupported radial gradient.")),this.extendStart=h,this.extendEnd=t;var f=e.get("Function"),d=n.createFromArray(f),p=(c-s)/10,g=this.colorStops=[];if(c<=s||p<=0)(0,L.info)("Bad shading domain.");else{for(var m=new Float32Array(i.numComps),b=new Float32Array(1),v=0;v<=10;v++){b[0]=s+v*p,d(b,0,m,0);var y=i.getRgb(m,0),w=L.Util.makeCssRgb(y[0],y[1],y[2]);g.push([v/10,w])}c="transparent";e.has("Background")&&(y=i.getRgb(e.get("Background"),0),c=L.Util.makeCssRgb(y[0],y[1],y[2])),h||(g.unshift([0,c]),g[1][0]+=x.SMALL_NUMBER),t||(g[g.length-1][0]-=x.SMALL_NUMBER,g.push([1,c])),this.colorStops=g}}function i(){this.type="Pattern"}x.SMALL_NUMBER=1e-6,x.RadialAxial=(n.prototype={getIR:function(){var e,t,r,a=this.coordsArr,n=this.shadingType;n===l?(i=[a[0],a[1]],o=[a[2],a[3]],r=t=null,e="axial"):n===S?(i=[a[0],a[1]],o=[a[3],a[4]],t=a[2],r=a[5],e="radial"):(0,L.unreachable)("getPattern type unknown: ".concat(n));var i,o,a=this.matrix;return a&&(i=L.Util.applyTransform(i,a),o=L.Util.applyTransform(o,a),n===S&&(t*=(a=L.Util.singularValueDecompose2dScale(a))[0],r*=a[1])),["RadialAxial",e,this.bbox,this.colorStops,i,o,t,r]}},n),x.Mesh=function(){function h(e,t){this.stream=e,this.context=t,this.buffer=0,this.bufferLength=0;e=t.numComps;this.tmpCompsBuf=new Float32Array(e);e=t.colorSpace.numComps;this.tmpCsCompsBuf=t.colorFn?new Float32Array(e):this.tmpCompsBuf}h.prototype={get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(0<this.bufferLength)return!0;var e=this.stream.getByte();return!(e<0)&&(this.buffer=e,this.bufferLength=8,!0)},readBits:function(e){var t=this.buffer,r=this.bufferLength;if(32===e){if(0===r)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;var t=t<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte(),a=this.stream.getByte();return this.buffer=a&(1<<r)-1,(t<<8-r|(255&a)>>r)>>>0}if(8===e&&0===r)return this.stream.getByte();for(;r<e;)t=t<<8|this.stream.getByte(),r+=8;return this.bufferLength=r-=e,this.buffer=t&(1<<r)-1,t>>r},align:function(){this.buffer=0,this.bufferLength=0},readFlag:function(){return this.readBits(this.context.bitsPerFlag)},readCoordinate:function(){var e=this.context.bitsPerCoordinate,t=this.readBits(e),r=this.readBits(e),a=this.context.decode,e=e<32?1/((1<<e)-1):2.3283064365386963e-10;return[t*e*(a[1]-a[0])+a[0],r*e*(a[3]-a[2])+a[2]]},readComponents:function(){for(var e=this.context.numComps,t=this.context.bitsPerComponent,r=t<32?1/((1<<t)-1):2.3283064365386963e-10,a=this.context.decode,n=this.tmpCompsBuf,i=0,o=4;i<e;i++,o+=2){var s=this.readBits(t);n[i]=s*r*(a[o+1]-a[o])+a[o]}var c=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(n,0,c,0),this.context.colorSpace.getRgb(c,0)}};var t,R=3,_=20,B=20,M=(t=[],function(e){return t[e]||(t[e]=function(e){for(var t=[],r=0;r<=e;r++){var a=r/e,n=1-a;t.push(new Float32Array([n*n*n,3*a*n*n,3*a*a*n,a*a*a]))}return t}(e)),t[e]});function f(e){for(var t=s=e.coords[0][0],r=c=e.coords[0][1],a=1,n=e.coords.length;a<n;a++)var i=e.coords[a][0],o=e.coords[a][1],s=i<s?i:s,c=o<c?o:c,t=t<i?i:t,r=r<o?o:r;e.bounds=[s,c,t,r]}function e(e,t,r,a,n){if(!(0,d.isStream)(e))throw new L.FormatError("Mesh data is not a stream");var i=e.dict;this.matrix=t,this.shadingType=i.get("ShadingType"),this.type="Pattern";t=i.getArray("BBox");Array.isArray(t)&&4===t.length?this.bbox=L.Util.normalizeRect(t):this.bbox=null;t=i.get("ColorSpace","CS"),t=k.ColorSpace.parse(t,r,a,n);this.cs=t,this.background=i.has("Background")?t.getRgb(i.get("Background"),0):null;a=i.get("Function"),a=a?n.createFromArray(a):null;this.coords=[],this.colors=[],this.figures=[];var o=new h(e,{bitsPerCoordinate:i.get("BitsPerCoordinate"),bitsPerComponent:i.get("BitsPerComponent"),bitsPerFlag:i.get("BitsPerFlag"),decode:i.getArray("Decode"),colorFn:a,colorSpace:t,numComps:a?1:t.numComps}),s=!1;switch(this.shadingType){case p:!function(e,t){for(var r=e.coords,a=e.colors,n=[],i=[],o=0;t.hasData;){var s=t.readFlag(),c=t.readCoordinate(),l=t.readComponents();if(0===o){if(!(0<=s&&s<=2))throw new L.FormatError("Unknown type4 flag");switch(s){case 0:o=3;break;case 1:i.push(i[i.length-2],i[i.length-1]),o=1;break;case 2:i.push(i[i.length-3],i[i.length-1]),o=1}n.push(s)}i.push(r.length),r.push(c),a.push(l),o--,t.align()}e.figures.push({type:"triangles",coords:new Int32Array(i),colors:new Int32Array(i)})}(this,o);break;case g:var c=0|i.get("VerticesPerRow");if(c<2)throw new L.FormatError("Invalid VerticesPerRow");!function(e,t,r){for(var a=e.coords,n=e.colors,i=[];t.hasData;){var o=t.readCoordinate(),s=t.readComponents();i.push(a.length),a.push(o),n.push(s)}e.figures.push({type:"lattice",coords:new Int32Array(i),colors:new Int32Array(i),verticesPerRow:r})}(this,o,c);break;case m:!function(e,t){for(var r=e.coords,a=e.colors,n=new Int32Array(16),i=new Int32Array(4);t.hasData;){var o=t.readFlag();if(!(0<=o&&o<=3))throw new L.FormatError("Unknown type6 flag");for(var s=r.length,c=0,l=0!==o?8:12;c<l;c++)r.push(t.readCoordinate());var u,h,f,d,p=a.length;for(l=(c=0)!==o?2:4;c<l;c++)a.push(t.readComponents());switch(o){case 0:n[12]=s+3,n[13]=s+4,n[14]=s+5,n[15]=s+6,n[8]=s+2,n[11]=s+7,n[4]=s+1,n[7]=s+8,n[0]=s,n[1]=s+11,n[2]=s+10,n[3]=s+9,i[2]=p+1,i[3]=p+2,i[0]=p,i[1]=p+3;break;case 1:u=n[12],h=n[13],f=n[14],d=n[15],n[12]=d,n[13]=s+0,n[14]=s+1,n[15]=s+2,n[8]=f,n[11]=s+3,n[4]=h,n[7]=s+4,n[0]=u,n[1]=s+7,n[2]=s+6,n[3]=s+5,u=i[2],h=i[3],i[2]=h,i[3]=p,i[0]=u,i[1]=p+1;break;case 2:u=n[15],h=n[11],n[12]=n[3],n[13]=s+0,n[14]=s+1,n[15]=s+2,n[8]=n[7],n[11]=s+3,n[4]=h,n[7]=s+4,n[0]=u,n[1]=s+7,n[2]=s+6,n[3]=s+5,u=i[3],i[2]=i[1],i[3]=p,i[0]=u,i[1]=p+1;break;case 3:n[12]=n[0],n[13]=s+0,n[14]=s+1,n[15]=s+2,n[8]=n[1],n[11]=s+3,n[4]=n[2],n[7]=s+4,n[0]=n[3],n[1]=s+7,n[2]=s+6,n[3]=s+5,i[2]=i[0],i[3]=p,i[0]=i[1],i[1]=p+1}n[5]=r.length,r.push([(-4*r[n[0]][0]-r[n[15]][0]+6*(r[n[4]][0]+r[n[1]][0])-2*(r[n[12]][0]+r[n[3]][0])+3*(r[n[13]][0]+r[n[7]][0]))/9,(-4*r[n[0]][1]-r[n[15]][1]+6*(r[n[4]][1]+r[n[1]][1])-2*(r[n[12]][1]+r[n[3]][1])+3*(r[n[13]][1]+r[n[7]][1]))/9]),n[6]=r.length,r.push([(-4*r[n[3]][0]-r[n[12]][0]+6*(r[n[2]][0]+r[n[7]][0])-2*(r[n[0]][0]+r[n[15]][0])+3*(r[n[4]][0]+r[n[14]][0]))/9,(-4*r[n[3]][1]-r[n[12]][1]+6*(r[n[2]][1]+r[n[7]][1])-2*(r[n[0]][1]+r[n[15]][1])+3*(r[n[4]][1]+r[n[14]][1]))/9]),n[9]=r.length,r.push([(-4*r[n[12]][0]-r[n[3]][0]+6*(r[n[8]][0]+r[n[13]][0])-2*(r[n[0]][0]+r[n[15]][0])+3*(r[n[11]][0]+r[n[1]][0]))/9,(-4*r[n[12]][1]-r[n[3]][1]+6*(r[n[8]][1]+r[n[13]][1])-2*(r[n[0]][1]+r[n[15]][1])+3*(r[n[11]][1]+r[n[1]][1]))/9]),n[10]=r.length,r.push([(-4*r[n[15]][0]-r[n[0]][0]+6*(r[n[11]][0]+r[n[14]][0])-2*(r[n[12]][0]+r[n[3]][0])+3*(r[n[2]][0]+r[n[8]][0]))/9,(-4*r[n[15]][1]-r[n[0]][1]+6*(r[n[11]][1]+r[n[14]][1])-2*(r[n[12]][1]+r[n[3]][1])+3*(r[n[2]][1]+r[n[8]][1]))/9]),e.figures.push({type:"patch",coords:new Int32Array(n),colors:new Int32Array(i)})}}(this,o),s=!0;break;case b:!function(e,t){for(var r=e.coords,a=e.colors,n=new Int32Array(16),i=new Int32Array(4);t.hasData;){var o=t.readFlag();if(!(0<=o&&o<=3))throw new L.FormatError("Unknown type7 flag");for(var s=r.length,c=0,l=0!==o?12:16;c<l;c++)r.push(t.readCoordinate());var u,h,f,d,p=a.length;for(l=(c=0)!==o?2:4;c<l;c++)a.push(t.readComponents());switch(o){case 0:n[12]=s+3,n[13]=s+4,n[14]=s+5,n[15]=s+6,n[8]=s+2,n[9]=s+13,n[10]=s+14,n[11]=s+7,n[4]=s+1,n[5]=s+12,n[6]=s+15,n[7]=s+8,n[0]=s,n[1]=s+11,n[2]=s+10,n[3]=s+9,i[2]=p+1,i[3]=p+2,i[0]=p,i[1]=p+3;break;case 1:u=n[12],h=n[13],f=n[14],d=n[15],n[12]=d,n[13]=s+0,n[14]=s+1,n[15]=s+2,n[8]=f,n[9]=s+9,n[10]=s+10,n[11]=s+3,n[4]=h,n[5]=s+8,n[6]=s+11,n[7]=s+4,n[0]=u,n[1]=s+7,n[2]=s+6,n[3]=s+5,u=i[2],h=i[3],i[2]=h,i[3]=p,i[0]=u,i[1]=p+1;break;case 2:u=n[15],h=n[11],n[12]=n[3],n[13]=s+0,n[14]=s+1,n[15]=s+2,n[8]=n[7],n[9]=s+9,n[10]=s+10,n[11]=s+3,n[4]=h,n[5]=s+8,n[6]=s+11,n[7]=s+4,n[0]=u,n[1]=s+7,n[2]=s+6,n[3]=s+5,u=i[3],i[2]=i[1],i[3]=p,i[0]=u,i[1]=p+1;break;case 3:n[12]=n[0],n[13]=s+0,n[14]=s+1,n[15]=s+2,n[8]=n[1],n[9]=s+9,n[10]=s+10,n[11]=s+3,n[4]=n[2],n[5]=s+8,n[6]=s+11,n[7]=s+4,n[0]=n[3],n[1]=s+7,n[2]=s+6,n[3]=s+5,i[2]=i[0],i[3]=p,i[0]=i[1],i[1]=p+1}e.figures.push({type:"patch",coords:new Int32Array(n),colors:new Int32Array(i)})}}(this,o),s=!0;break;default:(0,L.unreachable)("Unsupported mesh type.")}if(s){f(this);for(var l=0,u=this.figures.length;l<u;l++)!function(e,t){var r=e.figures[t];(0,L.assert)("patch"===r.type,"Unexpected patch mesh figure");for(var a=e.coords,n=e.colors,i=r.coords,o=r.colors,s=Math.min(a[i[0]][0],a[i[3]][0],a[i[12]][0],a[i[15]][0]),c=Math.min(a[i[0]][1],a[i[3]][1],a[i[12]][1],a[i[15]][1]),l=Math.max(a[i[0]][0],a[i[3]][0],a[i[12]][0],a[i[15]][0]),r=Math.max(a[i[0]][1],a[i[3]][1],a[i[12]][1],a[i[15]][1]),u=Math.ceil((l-s)*B/(e.bounds[2]-e.bounds[0])),u=Math.max(R,Math.min(_,u)),h=Math.ceil((r-c)*B/(e.bounds[3]-e.bounds[1])),h=Math.max(R,Math.min(_,h)),c=u+1,f=new Int32Array((h+1)*c),d=new Int32Array((h+1)*c),p=0,g=new Uint8Array(3),m=new Uint8Array(3),b=n[o[0]],v=n[o[1]],y=n[o[2]],w=n[o[3]],k=M(h),S=M(u),x=0;x<=h;x++){g[0]=(b[0]*(h-x)+y[0]*x)/h|0,g[1]=(b[1]*(h-x)+y[1]*x)/h|0,g[2]=(b[2]*(h-x)+y[2]*x)/h|0,m[0]=(v[0]*(h-x)+w[0]*x)/h|0,m[1]=(v[1]*(h-x)+w[1]*x)/h|0,m[2]=(v[2]*(h-x)+w[2]*x)/h|0;for(var C=0;C<=u;C++,p++)if(0!==x&&x!==h||0!==C&&C!==u){for(var A=0,I=0,T=0,O=0;O<=3;O++)for(var E=0;E<=3;E++,T++){var P=k[x][O]*S[C][E];A+=a[i[T]][0]*P,I+=a[i[T]][1]*P}f[p]=a.length,a.push([A,I]),d[p]=n.length;var F=new Uint8Array(3);F[0]=(g[0]*(u-C)+m[0]*C)/u|0,F[1]=(g[1]*(u-C)+m[1]*C)/u|0,F[2]=(g[2]*(u-C)+m[2]*C)/u|0,n.push(F)}}f[0]=i[0],d[0]=o[0],f[u]=i[3],d[u]=o[1],f[c*h]=i[12],d[c*h]=o[2],f[c*h+u]=i[15],d[c*h+u]=o[3],e.figures[t]={type:"lattice",coords:f,colors:d,verticesPerRow:c}}(this,l)}f(this),function(e){var t,r=e.coords,a=new Float32Array(2*r.length),n=0;for(d=0,t=r.length;n<t;n++){var i=r[n];a[d++]=i[0],a[d++]=i[1]}e.coords=a;var o=e.colors,s=new Uint8Array(3*o.length);for(d=n=0,t=o.length;n<t;n++){var c=o[n];s[d++]=c[0],s[d++]=c[1],s[d++]=c[2]}e.colors=s;var l=e.figures;for(n=0,t=l.length;n<t;n++)for(var u=l[n],h=u.coords,f=u.colors,d=0,p=h.length;d<p;d++)h[d]*=2,f[d]*=3}(this)}return e.prototype={getIR:function(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.matrix,this.bbox,this.background]}},e}(),x.Dummy=(i.prototype={getIR:function(){return["Dummy"]}},i)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bidi=function(e,t,r){var a=!0,n=e.length;if(0===n||r)return P(e,a,r);F.length=n,R.length=n;var i,o,s=0;for(i=0;i<n;++i){F[i]=e.charAt(i);var c=e.charCodeAt(i),l="L";c<=255?l=I[c]:1424<=c&&c<=1524?l="R":1536<=c&&c<=1791?(l=T[255&c])||(0,A.warn)("Bidi: invalid Unicode character "+c.toString(16)):1792<=c&&c<=2220&&(l="AL"),"R"!==l&&"AL"!==l&&"AN"!==l||s++,R[i]=l}if(0===s)return P(e,a=!0);-1===t&&(t=s/n<.3?(a=!0,0):(a=!1,1));var u=[];for(i=0;i<n;++i)u[i]=t;var h,f,d=O(t)?"R":"L",p=d,g=p,m=p;for(i=0;i<n;++i)"NSM"===R[i]?R[i]=m:m=R[i];for(m=p,i=0;i<n;++i)"EN"===(h=R[i])?R[i]="AL"===m?"AN":"EN":"R"!==h&&"L"!==h&&"AL"!==h||(m=h);for(i=0;i<n;++i)"AL"===(h=R[i])&&(R[i]="R");for(i=1;i<n-1;++i)"ES"===R[i]&&"EN"===R[i-1]&&"EN"===R[i+1]&&(R[i]="EN"),"CS"!==R[i]||"EN"!==R[i-1]&&"AN"!==R[i-1]||R[i+1]!==R[i-1]||(R[i]=R[i-1]);for(i=0;i<n;++i)if("EN"===R[i]){for(f=i-1;0<=f&&"ET"===R[f];--f)R[f]="EN";for(f=i+1;f<n&&"ET"===R[f];++f)R[f]="EN"}for(i=0;i<n;++i)"WS"!==(h=R[i])&&"ES"!==h&&"ET"!==h&&"CS"!==h||(R[i]="ON");for(m=p,i=0;i<n;++i)"EN"===(h=R[i])?R[i]="L"===m?"L":"EN":"R"!==h&&"L"!==h||(m=h);for(i=0;i<n;++i){var b,v,y;"ON"===R[i]&&(b=function(e,t,r){for(var a=t,n=e.length;a<n;++a)if(e[a]!==r)return a;return a}(R,i+1,"ON"),v=p,0<i&&(v=R[i-1]),y=g,b+1<n&&(y=R[b+1]),(v="L"!==v?"R":v)===(y="L"!==y?"R":y)&&function(e,t,r,a){for(var n=t;n<r;++n)e[n]=a}(R,i,b,v),i=b-1)}for(i=0;i<n;++i)"ON"===R[i]&&(R[i]=d);for(i=0;i<n;++i)h=R[i],0==(1&u[i])?"R"===h?u[i]+=1:"AN"!==h&&"EN"!==h||(u[i]+=2):"L"!==h&&"AN"!==h&&"EN"!==h||(u[i]+=1);var w,k=-1,S=99;for(i=0,o=u.length;i<o;++i)w=u[i],k<w&&(k=w),w<S&&O(w)&&(S=w);for(w=k;S<=w;--w){var x=-1;for(i=0,o=u.length;i<o;++i)u[i]<w?0<=x&&(E(F,x,i),x=-1):x<0&&(x=i);0<=x&&E(F,x,u.length)}for(i=0,o=F.length;i<o;++i){var C=F[i];"<"!==C&&">"!==C||(F[i]="")}return P(F.join(""),a)};var A=r(5),I=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],T=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function O(e){return 0!=(1&e)}function E(e,t,r){for(var a=t,n=r-1;a<n;++a,--n){var i=e[a];e[a]=e[n],e[n]=i}}function P(e,t,r){var a="ltr";return 2<arguments.length&&void 0!==r&&r?a="ttb":t||(a="rtl"),{str:e,dir:a}}var F=[],R=[]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMetrics=void 0;var a=r(201),r=(0,a.getLookupTableFactory)(function(e){e.Courier=600,e["Courier-Bold"]=600,e["Courier-BoldOblique"]=600,e["Courier-Oblique"]=600,e.Helvetica=(0,a.getLookupTableFactory)(function(e){e.space=278,e.exclam=278,e.quotedbl=355,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=667,e.quoteright=222,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=278,e.semicolon=278,e.less=584,e.equal=584,e.greater=584,e.question=556,e.at=1015,e.A=667,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=500,e.K=667,e.L=556,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=278,e.backslash=278,e.bracketright=278,e.asciicircum=469,e.underscore=556,e.quoteleft=222,e.a=556,e.b=556,e.c=500,e.d=556,e.e=556,e.f=278,e.g=556,e.h=556,e.i=222,e.j=222,e.k=500,e.l=222,e.m=833,e.n=556,e.o=556,e.p=556,e.q=556,e.r=333,e.s=500,e.t=278,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=500,e.braceleft=334,e.bar=260,e.braceright=334,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=191,e.quotedblleft=333,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=537,e.bullet=350,e.quotesinglbase=222,e.quotedblbase=333,e.quotedblright=333,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=556,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=222,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=556,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=667,e.aacute=556,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=500,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=500,e.aring=556,e.Ncommaaccent=722,e.lacute=222,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=500,e.scedilla=500,e.iacute=278,e.lozenge=471,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=556,e.Amacron=667,e.rcaron=333,e.ccedilla=500,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=643,e.Umacron=722,e.uring=556,e.threesuperior=333,e.Ograve=778,e.Agrave=667,e.Abreve=667,e.multiply=584,e.uacute=556,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=500,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=260,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=333,e.omacron=556,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=222,e.tcaron=317,e.eogonek=556,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=556,e.zacute=500,e.iogonek=222,e.Oacute=778,e.oacute=556,e.amacron=556,e.sacute=500,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=333,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=556,e.Eogonek=667,e.dcroat=556,e.threequarters=834,e.Scedilla=667,e.lcaron=299,e.Kcommaaccent=667,e.Lacute=556,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=556,e.onehalf=834,e.lessequal=549,e.ocircumflex=556,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=556,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=556,e.Ccaron=722,e.ugrave=556,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=556,e.Rcommaaccent=722,e.Lcommaaccent=556,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=500,e.minus=584,e.Icircumflex=278,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=584,e.odieresis=556,e.udieresis=556,e.notequal=549,e.gcommaaccent=556,e.eth=556,e.zcaron=500,e.ncommaaccent=556,e.onesuperior=333,e.imacron=278,e.Euro=556}),e["Helvetica-Bold"]=(0,a.getLookupTableFactory)(function(e){e.space=278,e.exclam=333,e.quotedbl=474,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=722,e.quoteright=278,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=333,e.semicolon=333,e.less=584,e.equal=584,e.greater=584,e.question=611,e.at=975,e.A=722,e.B=722,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=556,e.K=722,e.L=611,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=584,e.underscore=556,e.quoteleft=278,e.a=556,e.b=611,e.c=556,e.d=611,e.e=556,e.f=333,e.g=611,e.h=611,e.i=278,e.j=278,e.k=556,e.l=278,e.m=889,e.n=611,e.o=611,e.p=611,e.q=611,e.r=389,e.s=556,e.t=333,e.u=611,e.v=556,e.w=778,e.x=556,e.y=556,e.z=500,e.braceleft=389,e.bar=280,e.braceright=389,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=238,e.quotedblleft=500,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=611,e.fl=611,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=556,e.bullet=350,e.quotesinglbase=278,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=611,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=278,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=611,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=722,e.aacute=556,e.Ucircumflex=722,e.yacute=556,e.scommaaccent=556,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=611,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=556,e.aring=556,e.Ncommaaccent=722,e.lacute=278,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=556,e.scedilla=556,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=611,e.acircumflex=556,e.Amacron=722,e.rcaron=389,e.ccedilla=556,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=743,e.Umacron=722,e.uring=611,e.threesuperior=333,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=584,e.uacute=611,e.Tcaron=611,e.partialdiff=494,e.ydieresis=556,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=556,e.nacute=611,e.umacron=611,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=280,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=611,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=389,e.eogonek=556,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=556,e.zacute=500,e.iogonek=278,e.Oacute=778,e.oacute=611,e.amacron=556,e.sacute=556,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=611,e.twosuperior=333,e.Odieresis=778,e.mu=611,e.igrave=278,e.ohungarumlaut=611,e.Eogonek=667,e.dcroat=611,e.threequarters=834,e.Scedilla=667,e.lcaron=400,e.Kcommaaccent=722,e.Lacute=611,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=611,e.onehalf=834,e.lessequal=549,e.ocircumflex=611,e.ntilde=611,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=611,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=611,e.Ccaron=722,e.ugrave=611,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=611,e.Rcommaaccent=722,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=556,e.minus=584,e.Icircumflex=278,e.ncaron=611,e.tcommaaccent=333,e.logicalnot=584,e.odieresis=611,e.udieresis=611,e.notequal=549,e.gcommaaccent=611,e.eth=611,e.zcaron=500,e.ncommaaccent=611,e.onesuperior=333,e.imacron=278,e.Euro=556}),e["Helvetica-BoldOblique"]=(0,a.getLookupTableFactory)(function(e){e.space=278,e.exclam=333,e.quotedbl=474,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=722,e.quoteright=278,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=333,e.semicolon=333,e.less=584,e.equal=584,e.greater=584,e.question=611,e.at=975,e.A=722,e.B=722,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=556,e.K=722,e.L=611,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=584,e.underscore=556,e.quoteleft=278,e.a=556,e.b=611,e.c=556,e.d=611,e.e=556,e.f=333,e.g=611,e.h=611,e.i=278,e.j=278,e.k=556,e.l=278,e.m=889,e.n=611,e.o=611,e.p=611,e.q=611,e.r=389,e.s=556,e.t=333,e.u=611,e.v=556,e.w=778,e.x=556,e.y=556,e.z=500,e.braceleft=389,e.bar=280,e.braceright=389,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=238,e.quotedblleft=500,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=611,e.fl=611,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=556,e.bullet=350,e.quotesinglbase=278,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=611,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=278,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=611,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=722,e.aacute=556,e.Ucircumflex=722,e.yacute=556,e.scommaaccent=556,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=611,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=556,e.aring=556,e.Ncommaaccent=722,e.lacute=278,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=556,e.scedilla=556,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=611,e.acircumflex=556,e.Amacron=722,e.rcaron=389,e.ccedilla=556,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=743,e.Umacron=722,e.uring=611,e.threesuperior=333,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=584,e.uacute=611,e.Tcaron=611,e.partialdiff=494,e.ydieresis=556,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=556,e.nacute=611,e.umacron=611,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=280,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=611,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=389,e.eogonek=556,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=556,e.zacute=500,e.iogonek=278,e.Oacute=778,e.oacute=611,e.amacron=556,e.sacute=556,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=611,e.twosuperior=333,e.Odieresis=778,e.mu=611,e.igrave=278,e.ohungarumlaut=611,e.Eogonek=667,e.dcroat=611,e.threequarters=834,e.Scedilla=667,e.lcaron=400,e.Kcommaaccent=722,e.Lacute=611,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=611,e.onehalf=834,e.lessequal=549,e.ocircumflex=611,e.ntilde=611,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=611,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=611,e.Ccaron=722,e.ugrave=611,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=611,e.Rcommaaccent=722,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=556,e.minus=584,e.Icircumflex=278,e.ncaron=611,e.tcommaaccent=333,e.logicalnot=584,e.odieresis=611,e.udieresis=611,e.notequal=549,e.gcommaaccent=611,e.eth=611,e.zcaron=500,e.ncommaaccent=611,e.onesuperior=333,e.imacron=278,e.Euro=556}),e["Helvetica-Oblique"]=(0,a.getLookupTableFactory)(function(e){e.space=278,e.exclam=278,e.quotedbl=355,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=667,e.quoteright=222,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=278,e.semicolon=278,e.less=584,e.equal=584,e.greater=584,e.question=556,e.at=1015,e.A=667,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=500,e.K=667,e.L=556,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=278,e.backslash=278,e.bracketright=278,e.asciicircum=469,e.underscore=556,e.quoteleft=222,e.a=556,e.b=556,e.c=500,e.d=556,e.e=556,e.f=278,e.g=556,e.h=556,e.i=222,e.j=222,e.k=500,e.l=222,e.m=833,e.n=556,e.o=556,e.p=556,e.q=556,e.r=333,e.s=500,e.t=278,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=500,e.braceleft=334,e.bar=260,e.braceright=334,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=191,e.quotedblleft=333,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=537,e.bullet=350,e.quotesinglbase=222,e.quotedblbase=333,e.quotedblright=333,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=556,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=222,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=556,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=667,e.aacute=556,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=500,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=500,e.aring=556,e.Ncommaaccent=722,e.lacute=222,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=500,e.scedilla=500,e.iacute=278,e.lozenge=471,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=556,e.Amacron=667,e.rcaron=333,e.ccedilla=500,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=643,e.Umacron=722,e.uring=556,e.threesuperior=333,e.Ograve=778,e.Agrave=667,e.Abreve=667,e.multiply=584,e.uacute=556,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=500,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=260,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=333,e.omacron=556,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=222,e.tcaron=317,e.eogonek=556,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=556,e.zacute=500,e.iogonek=222,e.Oacute=778,e.oacute=556,e.amacron=556,e.sacute=500,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=333,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=556,e.Eogonek=667,e.dcroat=556,e.threequarters=834,e.Scedilla=667,e.lcaron=299,e.Kcommaaccent=667,e.Lacute=556,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=556,e.onehalf=834,e.lessequal=549,e.ocircumflex=556,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=556,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=556,e.Ccaron=722,e.ugrave=556,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=556,e.Rcommaaccent=722,e.Lcommaaccent=556,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=500,e.minus=584,e.Icircumflex=278,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=584,e.odieresis=556,e.udieresis=556,e.notequal=549,e.gcommaaccent=556,e.eth=556,e.zcaron=500,e.ncommaaccent=556,e.onesuperior=333,e.imacron=278,e.Euro=556}),e.Symbol=(0,a.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.universal=713,e.numbersign=500,e.existential=549,e.percent=833,e.ampersand=778,e.suchthat=439,e.parenleft=333,e.parenright=333,e.asteriskmath=500,e.plus=549,e.comma=250,e.minus=549,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=278,e.semicolon=278,e.less=549,e.equal=549,e.greater=549,e.question=444,e.congruent=549,e.Alpha=722,e.Beta=667,e.Chi=722,e.Delta=612,e.Epsilon=611,e.Phi=763,e.Gamma=603,e.Eta=722,e.Iota=333,e.theta1=631,e.Kappa=722,e.Lambda=686,e.Mu=889,e.Nu=722,e.Omicron=722,e.Pi=768,e.Theta=741,e.Rho=556,e.Sigma=592,e.Tau=611,e.Upsilon=690,e.sigma1=439,e.Omega=768,e.Xi=645,e.Psi=795,e.Zeta=611,e.bracketleft=333,e.therefore=863,e.bracketright=333,e.perpendicular=658,e.underscore=500,e.radicalex=500,e.alpha=631,e.beta=549,e.chi=549,e.delta=494,e.epsilon=439,e.phi=521,e.gamma=411,e.eta=603,e.iota=329,e.phi1=603,e.kappa=549,e.lambda=549,e.mu=576,e.nu=521,e.omicron=549,e.pi=549,e.theta=521,e.rho=549,e.sigma=603,e.tau=439,e.upsilon=576,e.omega1=713,e.omega=686,e.xi=493,e.psi=686,e.zeta=494,e.braceleft=480,e.bar=200,e.braceright=480,e.similar=549,e.Euro=750,e.Upsilon1=620,e.minute=247,e.lessequal=549,e.fraction=167,e.infinity=713,e.florin=500,e.club=753,e.diamond=753,e.heart=753,e.spade=753,e.arrowboth=1042,e.arrowleft=987,e.arrowup=603,e.arrowright=987,e.arrowdown=603,e.degree=400,e.plusminus=549,e.second=411,e.greaterequal=549,e.multiply=549,e.proportional=713,e.partialdiff=494,e.bullet=460,e.divide=549,e.notequal=549,e.equivalence=549,e.approxequal=549,e.ellipsis=1e3,e.arrowvertex=603,e.arrowhorizex=1e3,e.carriagereturn=658,e.aleph=823,e.Ifraktur=686,e.Rfraktur=795,e.weierstrass=987,e.circlemultiply=768,e.circleplus=768,e.emptyset=823,e.intersection=768,e.union=768,e.propersuperset=713,e.reflexsuperset=713,e.notsubset=713,e.propersubset=713,e.reflexsubset=713,e.element=713,e.notelement=713,e.angle=768,e.gradient=713,e.registerserif=790,e.copyrightserif=790,e.trademarkserif=890,e.product=823,e.radical=549,e.dotmath=250,e.logicalnot=713,e.logicaland=603,e.logicalor=603,e.arrowdblboth=1042,e.arrowdblleft=987,e.arrowdblup=603,e.arrowdblright=987,e.arrowdbldown=603,e.lozenge=494,e.angleleft=329,e.registersans=790,e.copyrightsans=790,e.trademarksans=786,e.summation=713,e.parenlefttp=384,e.parenleftex=384,e.parenleftbt=384,e.bracketlefttp=384,e.bracketleftex=384,e.bracketleftbt=384,e.bracelefttp=494,e.braceleftmid=494,e.braceleftbt=494,e.braceex=494,e.angleright=329,e.integral=274,e.integraltp=686,e.integralex=686,e.integralbt=686,e.parenrighttp=384,e.parenrightex=384,e.parenrightbt=384,e.bracketrighttp=384,e.bracketrightex=384,e.bracketrightbt=384,e.bracerighttp=494,e.bracerightmid=494,e.bracerightbt=494,e.apple=790}),e["Times-Roman"]=(0,a.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=408,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=564,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=278,e.semicolon=278,e.less=564,e.equal=564,e.greater=564,e.question=444,e.at=921,e.A=722,e.B=667,e.C=667,e.D=722,e.E=611,e.F=556,e.G=722,e.H=722,e.I=333,e.J=389,e.K=722,e.L=611,e.M=889,e.N=722,e.O=722,e.P=556,e.Q=722,e.R=667,e.S=556,e.T=611,e.U=722,e.V=722,e.W=944,e.X=722,e.Y=722,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=469,e.underscore=500,e.quoteleft=333,e.a=444,e.b=500,e.c=444,e.d=500,e.e=444,e.f=333,e.g=500,e.h=500,e.i=278,e.j=278,e.k=500,e.l=278,e.m=778,e.n=500,e.o=500,e.p=500,e.q=500,e.r=333,e.s=389,e.t=278,e.u=500,e.v=500,e.w=722,e.x=500,e.y=500,e.z=444,e.braceleft=480,e.bar=200,e.braceright=480,e.asciitilde=541,e.exclamdown=333,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=180,e.quotedblleft=444,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=453,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=444,e.quotedblright=444,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=444,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=889,e.ordfeminine=276,e.Lslash=611,e.Oslash=722,e.OE=889,e.ordmasculine=310,e.ae=667,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=500,e.Idieresis=333,e.eacute=444,e.abreve=444,e.uhungarumlaut=500,e.ecaron=444,e.Ydieresis=722,e.divide=564,e.Yacute=722,e.Acircumflex=722,e.aacute=444,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=444,e.Uacute=722,e.uogonek=500,e.Edieresis=611,e.Dcroat=722,e.commaaccent=250,e.copyright=760,e.Emacron=611,e.ccaron=444,e.aring=444,e.Ncommaaccent=722,e.lacute=278,e.agrave=444,e.Tcommaaccent=611,e.Cacute=667,e.atilde=444,e.Edotaccent=611,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=471,e.Rcaron=667,e.Gcommaaccent=722,e.ucircumflex=500,e.acircumflex=444,e.Amacron=722,e.rcaron=333,e.ccedilla=444,e.Zdotaccent=611,e.Thorn=556,e.Omacron=722,e.Racute=667,e.Sacute=556,e.dcaron=588,e.Umacron=722,e.uring=500,e.threesuperior=300,e.Ograve=722,e.Agrave=722,e.Abreve=722,e.multiply=564,e.uacute=500,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=611,e.adieresis=444,e.edieresis=444,e.cacute=444,e.nacute=500,e.umacron=500,e.Ncaron=722,e.Iacute=333,e.plusminus=564,e.brokenbar=200,e.registered=760,e.Gbreve=722,e.Idotaccent=333,e.summation=600,e.Egrave=611,e.racute=333,e.omacron=500,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=326,e.eogonek=444,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=444,e.zacute=444,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=444,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=500,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=611,e.dcroat=500,e.threequarters=750,e.Scedilla=556,e.lcaron=344,e.Kcommaaccent=722,e.Lacute=611,e.trademark=980,e.edotaccent=444,e.Igrave=333,e.Imacron=333,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=500,e.Uhungarumlaut=722,e.Eacute=611,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=500,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=667,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=722,e.zdotaccent=444,e.Ecaron=611,e.Iogonek=333,e.kcommaaccent=500,e.minus=564,e.Icircumflex=333,e.ncaron=500,e.tcommaaccent=278,e.logicalnot=564,e.odieresis=500,e.udieresis=500,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=444,e.ncommaaccent=500,e.onesuperior=300,e.imacron=278,e.Euro=500}),e["Times-Bold"]=(0,a.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=555,e.numbersign=500,e.dollar=500,e.percent=1e3,e.ampersand=833,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=570,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=570,e.equal=570,e.greater=570,e.question=500,e.at=930,e.A=722,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=778,e.I=389,e.J=500,e.K=778,e.L=667,e.M=944,e.N=722,e.O=778,e.P=611,e.Q=778,e.R=722,e.S=556,e.T=667,e.U=722,e.V=722,e.W=1e3,e.X=722,e.Y=722,e.Z=667,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=581,e.underscore=500,e.quoteleft=333,e.a=500,e.b=556,e.c=444,e.d=556,e.e=444,e.f=333,e.g=500,e.h=556,e.i=278,e.j=333,e.k=556,e.l=278,e.m=833,e.n=556,e.o=500,e.p=556,e.q=556,e.r=444,e.s=389,e.t=333,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=444,e.braceleft=394,e.bar=220,e.braceright=394,e.asciitilde=520,e.exclamdown=333,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=278,e.quotedblleft=500,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=540,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=300,e.Lslash=667,e.Oslash=778,e.OE=1e3,e.ordmasculine=330,e.ae=722,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=556,e.Idieresis=389,e.eacute=444,e.abreve=500,e.uhungarumlaut=556,e.ecaron=444,e.Ydieresis=722,e.divide=570,e.Yacute=722,e.Acircumflex=722,e.aacute=500,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=747,e.Emacron=667,e.ccaron=444,e.aring=500,e.Ncommaaccent=722,e.lacute=278,e.agrave=500,e.Tcommaaccent=667,e.Cacute=722,e.atilde=500,e.Edotaccent=667,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=500,e.Amacron=722,e.rcaron=444,e.ccedilla=444,e.Zdotaccent=667,e.Thorn=611,e.Omacron=778,e.Racute=722,e.Sacute=556,e.dcaron=672,e.Umacron=722,e.uring=556,e.threesuperior=300,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=570,e.uacute=556,e.Tcaron=667,e.partialdiff=494,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=389,e.plusminus=570,e.brokenbar=220,e.registered=747,e.Gbreve=778,e.Idotaccent=389,e.summation=600,e.Egrave=667,e.racute=444,e.omacron=500,e.Zacute=667,e.Zcaron=667,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=416,e.eogonek=444,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=444,e.zacute=444,e.iogonek=278,e.Oacute=778,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=300,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=667,e.dcroat=556,e.threequarters=750,e.Scedilla=556,e.lcaron=394,e.Kcommaaccent=778,e.Lacute=667,e.trademark=1e3,e.edotaccent=444,e.Igrave=389,e.Imacron=389,e.Lcaron=667,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=778,e.degree=400,e.ograve=500,e.Ccaron=722,e.ugrave=556,e.radical=549,e.Dcaron=722,e.rcommaaccent=444,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=722,e.Lcommaaccent=667,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=444,e.Ecaron=667,e.Iogonek=389,e.kcommaaccent=556,e.minus=570,e.Icircumflex=389,e.ncaron=556,e.tcommaaccent=333,e.logicalnot=570,e.odieresis=500,e.udieresis=556,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=444,e.ncommaaccent=556,e.onesuperior=300,e.imacron=278,e.Euro=500}),e["Times-BoldItalic"]=(0,a.getLookupTableFactory)(function(e){e.space=250,e.exclam=389,e.quotedbl=555,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=570,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=570,e.equal=570,e.greater=570,e.question=500,e.at=832,e.A=667,e.B=667,e.C=667,e.D=722,e.E=667,e.F=667,e.G=722,e.H=778,e.I=389,e.J=500,e.K=667,e.L=611,e.M=889,e.N=722,e.O=722,e.P=611,e.Q=722,e.R=667,e.S=556,e.T=611,e.U=722,e.V=667,e.W=889,e.X=667,e.Y=611,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=570,e.underscore=500,e.quoteleft=333,e.a=500,e.b=500,e.c=444,e.d=500,e.e=444,e.f=333,e.g=500,e.h=556,e.i=278,e.j=278,e.k=500,e.l=278,e.m=778,e.n=556,e.o=500,e.p=500,e.q=500,e.r=389,e.s=389,e.t=278,e.u=556,e.v=444,e.w=667,e.x=500,e.y=444,e.z=389,e.braceleft=348,e.bar=220,e.braceright=348,e.asciitilde=570,e.exclamdown=389,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=278,e.quotedblleft=500,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=500,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=944,e.ordfeminine=266,e.Lslash=611,e.Oslash=722,e.OE=944,e.ordmasculine=300,e.ae=722,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=500,e.Idieresis=389,e.eacute=444,e.abreve=500,e.uhungarumlaut=556,e.ecaron=444,e.Ydieresis=611,e.divide=570,e.Yacute=611,e.Acircumflex=667,e.aacute=500,e.Ucircumflex=722,e.yacute=444,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=747,e.Emacron=667,e.ccaron=444,e.aring=500,e.Ncommaaccent=722,e.lacute=278,e.agrave=500,e.Tcommaaccent=611,e.Cacute=667,e.atilde=500,e.Edotaccent=667,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=494,e.Rcaron=667,e.Gcommaaccent=722,e.ucircumflex=556,e.acircumflex=500,e.Amacron=667,e.rcaron=389,e.ccedilla=444,e.Zdotaccent=611,e.Thorn=611,e.Omacron=722,e.Racute=667,e.Sacute=556,e.dcaron=608,e.Umacron=722,e.uring=556,e.threesuperior=300,e.Ograve=722,e.Agrave=667,e.Abreve=667,e.multiply=570,e.uacute=556,e.Tcaron=611,e.partialdiff=494,e.ydieresis=444,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=389,e.plusminus=570,e.brokenbar=220,e.registered=747,e.Gbreve=722,e.Idotaccent=389,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=500,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=366,e.eogonek=444,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=444,e.zacute=389,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=576,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=667,e.dcroat=500,e.threequarters=750,e.Scedilla=556,e.lcaron=382,e.Kcommaaccent=667,e.Lacute=611,e.trademark=1e3,e.edotaccent=444,e.Igrave=389,e.Imacron=389,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=556,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=667,e.Lcommaaccent=611,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=722,e.zdotaccent=389,e.Ecaron=667,e.Iogonek=389,e.kcommaaccent=500,e.minus=606,e.Icircumflex=389,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=606,e.odieresis=500,e.udieresis=556,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=389,e.ncommaaccent=556,e.onesuperior=300,e.imacron=278,e.Euro=500}),e["Times-Italic"]=(0,a.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=420,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=675,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=675,e.equal=675,e.greater=675,e.question=500,e.at=920,e.A=611,e.B=611,e.C=667,e.D=722,e.E=611,e.F=611,e.G=722,e.H=722,e.I=333,e.J=444,e.K=667,e.L=556,e.M=833,e.N=667,e.O=722,e.P=611,e.Q=722,e.R=611,e.S=500,e.T=556,e.U=722,e.V=611,e.W=833,e.X=611,e.Y=556,e.Z=556,e.bracketleft=389,e.backslash=278,e.bracketright=389,e.asciicircum=422,e.underscore=500,e.quoteleft=333,e.a=500,e.b=500,e.c=444,e.d=500,e.e=444,e.f=278,e.g=500,e.h=500,e.i=278,e.j=278,e.k=444,e.l=278,e.m=722,e.n=500,e.o=500,e.p=500,e.q=500,e.r=389,e.s=389,e.t=278,e.u=500,e.v=444,e.w=667,e.x=444,e.y=444,e.z=389,e.braceleft=400,e.bar=275,e.braceright=400,e.asciitilde=541,e.exclamdown=389,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=214,e.quotedblleft=556,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=523,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=556,e.quotedblright=556,e.guillemotright=500,e.ellipsis=889,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=889,e.AE=889,e.ordfeminine=276,e.Lslash=556,e.Oslash=722,e.OE=944,e.ordmasculine=310,e.ae=667,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=667,e.germandbls=500,e.Idieresis=333,e.eacute=444,e.abreve=500,e.uhungarumlaut=500,e.ecaron=444,e.Ydieresis=556,e.divide=675,e.Yacute=556,e.Acircumflex=611,e.aacute=500,e.Ucircumflex=722,e.yacute=444,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=500,e.Edieresis=611,e.Dcroat=722,e.commaaccent=250,e.copyright=760,e.Emacron=611,e.ccaron=444,e.aring=500,e.Ncommaaccent=667,e.lacute=278,e.agrave=500,e.Tcommaaccent=556,e.Cacute=667,e.atilde=500,e.Edotaccent=611,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=471,e.Rcaron=611,e.Gcommaaccent=722,e.ucircumflex=500,e.acircumflex=500,e.Amacron=611,e.rcaron=389,e.ccedilla=444,e.Zdotaccent=556,e.Thorn=611,e.Omacron=722,e.Racute=611,e.Sacute=500,e.dcaron=544,e.Umacron=722,e.uring=500,e.threesuperior=300,e.Ograve=722,e.Agrave=611,e.Abreve=611,e.multiply=675,e.uacute=500,e.Tcaron=556,e.partialdiff=476,e.ydieresis=444,e.Nacute=667,e.icircumflex=278,e.Ecircumflex=611,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=500,e.umacron=500,e.Ncaron=667,e.Iacute=333,e.plusminus=675,e.brokenbar=275,e.registered=760,e.Gbreve=722,e.Idotaccent=333,e.summation=600,e.Egrave=611,e.racute=389,e.omacron=500,e.Zacute=556,e.Zcaron=556,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=300,e.eogonek=444,e.Uogonek=722,e.Aacute=611,e.Adieresis=611,e.egrave=444,e.zacute=389,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=500,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=611,e.dcroat=500,e.threequarters=750,e.Scedilla=500,e.lcaron=300,e.Kcommaaccent=667,e.Lacute=556,e.trademark=980,e.edotaccent=444,e.Igrave=333,e.Imacron=333,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=500,e.Uhungarumlaut=722,e.Eacute=611,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=500,e.Scommaaccent=500,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=500,e.radical=453,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=667,e.otilde=500,e.Rcommaaccent=611,e.Lcommaaccent=556,e.Atilde=611,e.Aogonek=611,e.Aring=611,e.Otilde=722,e.zdotaccent=389,e.Ecaron=611,e.Iogonek=333,e.kcommaaccent=444,e.minus=675,e.Icircumflex=333,e.ncaron=500,e.tcommaaccent=278,e.logicalnot=675,e.odieresis=500,e.udieresis=500,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=389,e.ncommaaccent=500,e.onesuperior=300,e.imacron=278,e.Euro=500}),e.ZapfDingbats=(0,a.getLookupTableFactory)(function(e){e.space=278,e.a1=974,e.a2=961,e.a202=974,e.a3=980,e.a4=719,e.a5=789,e.a119=790,e.a118=791,e.a117=690,e.a11=960,e.a12=939,e.a13=549,e.a14=855,e.a15=911,e.a16=933,e.a105=911,e.a17=945,e.a18=974,e.a19=755,e.a20=846,e.a21=762,e.a22=761,e.a23=571,e.a24=677,e.a25=763,e.a26=760,e.a27=759,e.a28=754,e.a6=494,e.a7=552,e.a8=537,e.a9=577,e.a10=692,e.a29=786,e.a30=788,e.a31=788,e.a32=790,e.a33=793,e.a34=794,e.a35=816,e.a36=823,e.a37=789,e.a38=841,e.a39=823,e.a40=833,e.a41=816,e.a42=831,e.a43=923,e.a44=744,e.a45=723,e.a46=749,e.a47=790,e.a48=792,e.a49=695,e.a50=776,e.a51=768,e.a52=792,e.a53=759,e.a54=707,e.a55=708,e.a56=682,e.a57=701,e.a58=826,e.a59=815,e.a60=789,e.a61=789,e.a62=707,e.a63=687,e.a64=696,e.a65=689,e.a66=786,e.a67=787,e.a68=713,e.a69=791,e.a70=785,e.a71=791,e.a72=873,e.a73=761,e.a74=762,e.a203=762,e.a75=759,e.a204=759,e.a76=892,e.a77=892,e.a78=788,e.a79=784,e.a81=438,e.a82=138,e.a83=277,e.a84=415,e.a97=392,e.a98=392,e.a99=668,e.a100=668,e.a89=390,e.a90=390,e.a93=317,e.a94=317,e.a91=276,e.a92=276,e.a205=509,e.a85=509,e.a206=410,e.a86=410,e.a87=234,e.a88=234,e.a95=334,e.a96=334,e.a101=732,e.a102=544,e.a103=544,e.a104=910,e.a106=667,e.a107=760,e.a108=760,e.a112=776,e.a111=595,e.a110=694,e.a109=626,e.a120=788,e.a121=788,e.a122=788,e.a123=788,e.a124=788,e.a125=788,e.a126=788,e.a127=788,e.a128=788,e.a129=788,e.a130=788,e.a131=788,e.a132=788,e.a133=788,e.a134=788,e.a135=788,e.a136=788,e.a137=788,e.a138=788,e.a139=788,e.a140=788,e.a141=788,e.a142=788,e.a143=788,e.a144=788,e.a145=788,e.a146=788,e.a147=788,e.a148=788,e.a149=788,e.a150=788,e.a151=788,e.a152=788,e.a153=788,e.a154=788,e.a155=788,e.a156=788,e.a157=788,e.a158=788,e.a159=788,e.a160=894,e.a161=838,e.a163=1016,e.a164=458,e.a196=748,e.a165=924,e.a192=748,e.a166=918,e.a167=927,e.a168=928,e.a169=928,e.a170=834,e.a171=873,e.a172=828,e.a173=924,e.a162=924,e.a174=917,e.a175=930,e.a176=931,e.a177=463,e.a178=883,e.a179=836,e.a193=836,e.a180=867,e.a199=867,e.a181=696,e.a200=696,e.a182=874,e.a201=874,e.a183=760,e.a184=946,e.a197=771,e.a185=865,e.a194=771,e.a198=888,e.a186=967,e.a195=888,e.a187=831,e.a188=873,e.a189=927,e.a190=970,e.a191=918})});t.getMetrics=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPDFFunction=function(e){var t;{if("object"!==i(e))return!1;if((0,a.isDict)(e))t=e;else{if(!(0,a.isStream)(e))return!1;t=e.dict}}return t.has("FunctionType")},t.PostScriptCompiler=t.PostScriptEvaluator=t.PDFFunctionFactory=void 0;var f=r(5),a=r(198),n=r(235);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){if(!Array.isArray(e))return null;for(var t=e.length,r=0;r<t;r++)if("number"!=typeof e[r]){for(var a=new Array(t),n=0;n<t;n++)a[n]=+e[n];return a}return e}t.PDFFunctionFactory=function(){function r(e){var t=e.xref,e=e.isEvalSupported,e=void 0===e||e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.xref=t,this.isEvalSupported=!1!==e}var e,t,a;return e=r,(t=[{key:"create",value:function(e){return s.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:e})}},{key:"createFromArray",value:function(e){return s.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:e})}}])&&o(e.prototype,t),a&&o(e,a),r}();var s={getSampleArray:function(e,t,r,a){for(var n=1,i=0,o=e.length;i<o;i++)n*=e[i];n*=t;var s=new Array(n),c=0,l=0,u=1/(Math.pow(2,r)-1),h=a.getBytes((n*r+7)/8),f=0;for(i=0;i<n;i++){for(;c<r;)l<<=8,l|=h[f++],c+=8;c-=r,s[i]=(l>>c)*u,l&=(1<<c)-1}return s},getIR:function(e){var t=e.xref,r=e.isEvalSupported,a=e.fn,n=(n=a.dict)||a,e=[this.constructSampled,null,this.constructInterpolated,this.constructStiched,this.constructPostScript][n.get("FunctionType")];if(!e)throw new f.FormatError("Unknown type of function");return e.call(this,{xref:t,isEvalSupported:r,fn:a,dict:n})},fromIR:function(e){var t=e.xref,r=e.isEvalSupported,a=e.IR;switch(a[0]){case 0:return this.constructSampledFromIR({xref:t,isEvalSupported:r,IR:a});case 2:return this.constructInterpolatedFromIR({xref:t,isEvalSupported:r,IR:a});case 3:return this.constructStichedFromIR({xref:t,isEvalSupported:r,IR:a});default:return this.constructPostScriptFromIR({xref:t,isEvalSupported:r,IR:a})}},parse:function(e){var t=e.xref,r=e.isEvalSupported,e=e.fn,e=this.getIR({xref:t,isEvalSupported:r,fn:e});return this.fromIR({xref:t,isEvalSupported:r,IR:e})},parseArray:function(e){var t=e.xref,r=e.isEvalSupported,a=e.fnObj;if(!Array.isArray(a))return this.parse({xref:t,isEvalSupported:r,fn:a});for(var o=[],n=0,i=a.length;n<i;n++)o.push(this.parse({xref:t,isEvalSupported:r,fn:t.fetchIfRef(a[n])}));return function(e,t,r,a){for(var n=0,i=o.length;n<i;n++)o[n](e,t,r,a+n)}},constructSampled:function(e){e.xref,e.isEvalSupported;var t=e.fn,r=e.dict;function a(e){for(var t=e.length,r=[],a=0,n=0;n<t;n+=2)r[a]=[e[n],e[n+1]],++a;return r}var n=d(r.getArray("Domain")),i=d(r.getArray("Range"));if(!n||!i)throw new f.FormatError("No domain or range");var o=n.length/2,s=i.length/2,n=a(n),i=a(i),c=d(r.getArray("Size")),l=r.get("BitsPerSample"),e=r.get("Order")||1;if(1!==e&&(0,f.info)("No support for cubic spline interpolation: "+e),u=d(r.getArray("Encode")))u=a(u);else for(var u=[],h=0;h<o;++h)u.push([0,c[h]-1]);r=d(r.getArray("Decode"));return[0,o,n,u,r=r?a(r):i,this.getSampleArray(c,s,l,t),c,s,Math.pow(2,l)-1,i]},constructSampledFromIR:function(e){e.xref,e.isEvalSupported;var T=e.IR;function O(e,t,r,a,n){return a+(n-a)/(r-t)*(e-t)}return function(e,t,r,a){var n=T[1],i=T[2],o=T[3],s=T[4],c=T[5],l=T[6],u=T[7],h=T[9],f=1<<n,d=new Float64Array(f),p=new Uint32Array(f);for(C=0;C<f;C++)d[C]=1;var g=u,m=1;for(I=0;I<n;++I){for(var b=i[I][0],v=i[I][1],y=O(Math.min(Math.max(e[t+I],b),v),b,v,o[I][0],o[I][1]),b=l[I],v=(y=Math.min(Math.max(y,0),b-1))<b-1?Math.floor(y):y-1,w=v+1-y,k=y-v,S=v*g,x=S+g,C=0;C<f;C++)C&m?(d[C]*=k,p[C]+=x):(d[C]*=w,p[C]+=S);g*=b,m<<=1}for(C=0;C<u;++C){for(var A=0,I=0;I<f;I++)A+=c[p[I]+C]*d[I];A=O(A,0,1,s[C][0],s[C][1]),r[a+C]=Math.min(Math.max(A,h[C][0]),h[C][1])}}},constructInterpolated:function(e){e.xref,e.isEvalSupported,e.fn;for(var e=e.dict,t=d(e.getArray("C0"))||[0],r=d(e.getArray("C1"))||[1],e=e.get("N"),a=t.length,n=[],i=0;i<a;++i)n.push(r[i]-t[i]);return[2,t,n,e]},constructInterpolatedFromIR:function(e){e.xref,e.isEvalSupported;var e=e.IR,o=e[1],s=e[2],c=e[3],l=s.length;return function(e,t,r,a){for(var n=1===c?e[t]:Math.pow(e[t],c),i=0;i<l;++i)r[a+i]=o[i]+n*s[i]}},constructStiched:function(e){var t=e.xref,r=e.isEvalSupported,a=(e.fn,e.dict),e=d(a.getArray("Domain"));if(!e)throw new f.FormatError("No domain");if(1!=e.length/2)throw new f.FormatError("Bad domain for stiched function");for(var n=a.get("Functions"),i=[],o=0,s=n.length;o<s;++o)i.push(this.parse({xref:t,isEvalSupported:r,fn:t.fetchIfRef(n[o])}));return[3,e,d(a.getArray("Bounds")),d(a.getArray("Encode")),i]},constructStichedFromIR:function(e){e.xref,e.isEvalSupported;var e=e.IR,f=e[1],d=e[2],p=e[3],g=e[4],m=new Float32Array(1);return function(e,t,r,a){for(var n,i,o,s=(n=e[t],i=f[0],(o=f[1])<n?n=o:n<i&&(n=i),n),c=0,l=d.length;c<l&&!(s<d[c]);++c);var u=f[0];0<c&&(u=d[c-1]);var h=f[1];c<d.length&&(h=d[c]);e=p[2*c],t=p[2*c+1];m[0]=u===h?e:e+(s-u)*(t-e)/(h-u),g[c](m,0,r,a)}},constructPostScript:function(e){e.xref,e.isEvalSupported;var t=e.fn,r=e.dict,e=d(r.getArray("Domain")),r=d(r.getArray("Range"));if(!e)throw new f.FormatError("No domain.");if(!r)throw new f.FormatError("No range.");t=new n.PostScriptLexer(t);return[4,e,r,new n.PostScriptParser(t).parse()]},constructPostScriptFromIR:function(e){e.xref;var t=e.isEvalSupported,r=e.IR,e=r[1],d=r[2],r=r[3];if(t&&f.IsEvalSupportedCached.value){t=(new w).compile(r,e,d);if(t)return new Function("src","srcOffset","dest","destOffset",t)}(0,f.info)("Unable to compile PS function");var p=d.length>>1,g=e.length>>1,m=new u(r),b=Object.create(null),v=8192,y=new Float32Array(g);return function(e,t,r,a){var n="",i=y;for(u=0;u<g;u++)h=e[t+u],n+=(i[u]=h)+"_";var o=b[n];if(void 0===o){for(var s=new Float32Array(p),c=m.execute(i),l=c.length-p,u=0;u<p;u++){var h=c[l+u],f=d[2*u];(h<f||(f=d[2*u+1])<h)&&(h=f),s[u]=h}0<v&&(v--,b[n]=s),r.set(s,a)}else r.set(o,a)}}};var c=(l.prototype={push:function(e){if(100<=this.stack.length)throw new Error("PostScript function stack overflow.");this.stack.push(e)},pop:function(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()},copy:function(e){if(100<=this.stack.length+e)throw new Error("PostScript function stack overflow.");for(var t=this.stack,r=t.length-e,a=e-1;0<=a;a--,r++)t.push(t[r])},index:function(e){this.push(this.stack[this.stack.length-e-1])},roll:function(e,t){for(var r,a=this.stack,n=a.length-e,i=a.length-1,e=n+(t-Math.floor(t/e)*e),o=n,s=i;o<s;o++,s--)r=a[o],a[o]=a[s],a[s]=r;for(o=n,s=e-1;o<s;o++,s--)r=a[o],a[o]=a[s],a[s]=r;for(o=e,s=i;o<s;o++,s--)r=a[o],a[o]=a[s],a[s]=r}},l);function l(e){this.stack=e?Array.prototype.slice.call(e,0):[]}var u=(h.prototype={execute:function(e){for(var t,r,a,n=new c(e),i=0,o=this.operators,s=o.length;i<s;)if("number"!=typeof(t=o[i++]))switch(t){case"jz":a=n.pop(),(r=n.pop())||(i=a);break;case"j":i=r=n.pop();break;case"abs":r=n.pop(),n.push(Math.abs(r));break;case"add":a=n.pop(),r=n.pop(),n.push(r+a);break;case"and":a=n.pop(),r=n.pop(),(0,f.isBool)(r)&&(0,f.isBool)(a)?n.push(r&&a):n.push(r&a);break;case"atan":r=n.pop(),n.push(Math.atan(r));break;case"bitshift":a=n.pop(),0<(r=n.pop())?n.push(r<<a):n.push(r>>a);break;case"ceiling":r=n.pop(),n.push(Math.ceil(r));break;case"copy":r=n.pop(),n.copy(r);break;case"cos":r=n.pop(),n.push(Math.cos(r));break;case"cvi":r=0|n.pop(),n.push(r);break;case"cvr":break;case"div":a=n.pop(),r=n.pop(),n.push(r/a);break;case"dup":n.copy(1);break;case"eq":a=n.pop(),r=n.pop(),n.push(r===a);break;case"exch":n.roll(2,1);break;case"exp":a=n.pop(),r=n.pop(),n.push(Math.pow(r,a));break;case"false":n.push(!1);break;case"floor":r=n.pop(),n.push(Math.floor(r));break;case"ge":a=n.pop(),r=n.pop(),n.push(a<=r);break;case"gt":a=n.pop(),r=n.pop(),n.push(a<r);break;case"idiv":a=n.pop(),r=n.pop(),n.push(r/a|0);break;case"index":r=n.pop(),n.index(r);break;case"le":a=n.pop(),r=n.pop(),n.push(r<=a);break;case"ln":r=n.pop(),n.push(Math.log(r));break;case"log":r=n.pop(),n.push(Math.log(r)/Math.LN10);break;case"lt":a=n.pop(),r=n.pop(),n.push(r<a);break;case"mod":a=n.pop(),r=n.pop(),n.push(r%a);break;case"mul":a=n.pop(),r=n.pop(),n.push(r*a);break;case"ne":a=n.pop(),r=n.pop(),n.push(r!==a);break;case"neg":r=n.pop(),n.push(-r);break;case"not":r=n.pop(),(0,f.isBool)(r)?n.push(!r):n.push(~r);break;case"or":a=n.pop(),r=n.pop(),(0,f.isBool)(r)&&(0,f.isBool)(a)?n.push(r||a):n.push(r|a);break;case"pop":n.pop();break;case"roll":a=n.pop(),r=n.pop(),n.roll(r,a);break;case"round":r=n.pop(),n.push(Math.round(r));break;case"sin":r=n.pop(),n.push(Math.sin(r));break;case"sqrt":r=n.pop(),n.push(Math.sqrt(r));break;case"sub":a=n.pop(),r=n.pop(),n.push(r-a);break;case"true":n.push(!0);break;case"truncate":r=(r=n.pop())<0?Math.ceil(r):Math.floor(r),n.push(r);break;case"xor":a=n.pop(),r=n.pop(),(0,f.isBool)(r)&&(0,f.isBool)(a)?n.push(r!==a):n.push(r^a);break;default:throw new f.FormatError("Unknown operator ".concat(t))}else n.push(t);return n.stack}},h);function h(e){this.operators=e}t.PostScriptEvaluator=u;var w=(p.prototype.visit=function(e){(0,f.unreachable)("abstract method")},(S.prototype=Object.create(p.prototype)).visit=function(e){e.visitArgument(this)},(x.prototype=Object.create(p.prototype)).visit=function(e){e.visitLiteral(this)},(C.prototype=Object.create(p.prototype)).visit=function(e){e.visitBinaryOperation(this)},(A.prototype=Object.create(p.prototype)).visit=function(e){e.visitMin(this)},(I.prototype=Object.create(p.prototype)).visit=function(e){e.visitVariable(this)},(T.prototype=Object.create(p.prototype)).visit=function(e){e.visitVariableDefinition(this)},O.prototype={visitArgument:function(e){this.parts.push("Math.max(",e.min,", Math.min(",e.max,", src[srcOffset + ",e.index,"]))")},visitVariable:function(e){this.parts.push("v",e.index)},visitLiteral:function(e){this.parts.push(e.number)},visitBinaryOperation:function(e){this.parts.push("("),e.arg1.visit(this),this.parts.push(" ",e.op," "),e.arg2.visit(this),this.parts.push(")")},visitVariableDefinition:function(e){this.parts.push("var "),e.variable.visit(this),this.parts.push(" = "),e.arg.visit(this),this.parts.push(";")},visitMin:function(e){this.parts.push("Math.min("),e.arg.visit(this),this.parts.push(", ",e.max,")")},toString:function(){return this.parts.join("")}},g.prototype={compile:function(e,t,i){for(var r,a,n,o,s,c,l=[],u=[],h=t.length>>1,f=i.length>>1,d=0,p=0;p<h;p++)l.push(new S(p,t[2*p],t[2*p+1]));for(var g,m,b,v,y=0,w=e.length;y<w;y++)if("number"!=typeof(c=e[y]))switch(c){case"add":if(l.length<2)return null;n=l.pop(),a=l.pop(),l.push((b=a,"literal"===(v=n).type&&0===v.number?b:"literal"===b.type&&0===b.number?v:"literal"===v.type&&"literal"===b.type?new x(b.number+v.number):new C("+",b,v,b.min+v.min,b.max+v.max)));break;case"cvr":if(l.length<1)return null;break;case"mul":if(l.length<2)return null;n=l.pop(),a=l.pop(),l.push(function(e,t){if("literal"===t.type){if(0===t.number)return new x(0);if(1===t.number)return e;if("literal"===e.type)return new x(e.number*t.number)}if("literal"===e.type){if(0===e.number)return new x(0);if(1===e.number)return t}return new C("*",e,t,Math.min(e.min*t.min,e.min*t.max,e.max*t.min,e.max*t.max),Math.max(e.min*t.min,e.min*t.max,e.max*t.min,e.max*t.max))}(a,n));break;case"sub":if(l.length<2)return null;n=l.pop(),a=l.pop(),l.push(function(e,t){if("literal"===t.type){if(0===t.number)return e;if("literal"===e.type)return new x(e.number-t.number)}return"binary"===t.type&&"-"===t.op&&"literal"===e.type&&1===e.number&&"literal"===t.arg1.type&&1===t.arg1.number?t.arg2:new C("-",e,t,e.min-t.max,e.max-t.min)}(a,n));break;case"exch":if(l.length<2)return null;o=l.pop(),g=l.pop(),l.push(o,g);break;case"pop":if(l.length<1)return null;l.pop();break;case"index":if(l.length<1)return null;if("literal"!==(a=l.pop()).type)return null;if((r=a.number)<0||!Number.isInteger(r)||l.length<r)return null;if("literal"===(o=l[l.length-r-1]).type||"var"===o.type){l.push(o);break}s=new I(d++,o.min,o.max),l[l.length-r-1]=s,l.push(s),u.push(new T(s,o));break;case"dup":if(l.length<1)return null;if("number"==typeof e[y+1]&&"gt"===e[y+2]&&e[y+3]===y+7&&"jz"===e[y+4]&&"pop"===e[y+5]&&e[y+6]===e[y+1]){a=l.pop(),l.push((g=a,m=e[y+1],g.min>=m?new x(m):g.max<=m?g:new A(g,m))),y+=6;break}if("literal"===(o=l[l.length-1]).type||"var"===o.type){l.push(o);break}s=new I(d++,o.min,o.max),l[l.length-1]=s,l.push(s),u.push(new T(s,o));break;case"roll":if(l.length<2)return null;if(n=l.pop(),a=l.pop(),"literal"!==n.type||"literal"!==a.type)return null;if(m=n.number,(r=a.number)<=0||!Number.isInteger(r)||!Number.isInteger(m)||l.length<r)return null;if(0===(m=(m%r+r)%r))break;Array.prototype.push.apply(l,l.splice(l.length-r,r-m));break;default:return null}else l.push(new x(c));if(l.length!==f)return null;var k=[];return u.forEach(function(e){var t=new O;e.visit(t),k.push(t.toString())}),l.forEach(function(e,t){var r=new O;e.visit(r);var a=i[2*t],n=i[2*t+1],r=[r.toString()];a>e.min&&(r.unshift("Math.max(",a,", "),r.push(")")),n<e.max&&(r.unshift("Math.min(",n,", "),r.push(")")),r.unshift("dest[destOffset + ",t,"] = "),r.push(";"),k.push(r.join(""))}),k.join("\\n")}},g);function p(e){this.type=e}function S(e,t,r){p.call(this,"args"),this.index=e,this.min=t,this.max=r}function x(e){p.call(this,"literal"),this.number=e,this.min=e,this.max=e}function C(e,t,r,a,n){p.call(this,"binary"),this.op=e,this.arg1=t,this.arg2=r,this.min=a,this.max=n}function A(e,t){p.call(this,"max"),this.arg=e,this.min=e.min,this.max=t}function I(e,t,r){p.call(this,"var"),this.index=e,this.min=t,this.max=r}function T(e,t){p.call(this,"definition"),this.variable=e,this.arg=t}function O(){this.parts=[]}function g(){}t.PostScriptCompiler=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PostScriptParser=t.PostScriptLexer=void 0;var a=r(5),n=r(198),i=r(201);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function c(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}r=function(){function t(e){o(this,t),this.lexer=e,this.operators=[],this.token=null,this.prev=null}return c(t,[{key:"nextToken",value:function(){this.prev=this.token,this.token=this.lexer.getToken()}},{key:"accept",value:function(e){return this.token.type===e&&(this.nextToken(),!0)}},{key:"expect",value:function(e){if(this.accept(e))return!0;throw new a.FormatError("Unexpected symbol: found ".concat(this.token.type," expected ").concat(e,"."))}},{key:"parse",value:function(){return this.nextToken(),this.expect(u.LBRACE),this.parseBlock(),this.expect(u.RBRACE),this.operators}},{key:"parseBlock",value:function(){for(;;)if(this.accept(u.NUMBER))this.operators.push(this.prev.value);else if(this.accept(u.OPERATOR))this.operators.push(this.prev.value);else{if(!this.accept(u.LBRACE))return;this.parseCondition()}}},{key:"parseCondition",value:function(){var e=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(u.RBRACE),this.accept(u.IF))this.operators[e]=this.operators.length,this.operators[e+1]="jz";else{if(!this.accept(u.LBRACE))throw new a.FormatError("PS Function: error parsing conditional.");var t=this.operators.length;this.operators.push(null,null);var r=this.operators.length;this.parseBlock(),this.expect(u.RBRACE),this.expect(u.IFELSE),this.operators[t]=this.operators.length,this.operators[t+1]="j",this.operators[e]=r,this.operators[e+1]="jz"}}}]),t}();t.PostScriptParser=r;var l,u={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5},h=(l=Object.create(null),function(){function r(e,t){o(this,r),this.type=e,this.value=t}return c(r,null,[{key:"getOperator",value:function(e){var t=l[e];return t||(l[e]=new r(u.OPERATOR,e))}},{key:"LBRACE",get:function(){return(0,a.shadow)(this,"LBRACE",new r(u.LBRACE,"{"))}},{key:"RBRACE",get:function(){return(0,a.shadow)(this,"RBRACE",new r(u.RBRACE,"}"))}},{key:"IF",get:function(){return(0,a.shadow)(this,"IF",new r(u.IF,"IF"))}},{key:"IFELSE",get:function(){return(0,a.shadow)(this,"IFELSE",new r(u.IFELSE,"IFELSE"))}}]),r}()),r=function(){function t(e){o(this,t),this.stream=e,this.nextChar(),this.strBuf=[]}return c(t,[{key:"nextChar",value:function(){return this.currentChar=this.stream.getByte()}},{key:"getToken",value:function(){for(var e=!1,t=this.currentChar;;){if(t<0)return n.EOF;if(e)10!==t&&13!==t||(e=!1);else if(37===t)e=!0;else if(!(0,i.isWhiteSpace)(t))break;t=this.nextChar()}switch(0|t){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new h(u.NUMBER,this.getNumber());case 123:return this.nextChar(),h.LBRACE;case 125:return this.nextChar(),h.RBRACE}var r=this.strBuf;for(r.length=0,r[0]=String.fromCharCode(t);0<=(t=this.nextChar())&&(65<=t&&t<=90||97<=t&&t<=122);)r.push(String.fromCharCode(t));var a=r.join("");switch(a.toLowerCase()){case"if":return h.IF;case"ifelse":return h.IFELSE;default:return h.getOperator(a)}}},{key:"getNumber",value:function(){var e=this.currentChar,t=this.strBuf;for(t.length=0,t[0]=String.fromCharCode(e);0<=(e=this.nextChar())&&(48<=e&&e<=57||45===e||46===e);)t.push(String.fromCharCode(e));var r=parseFloat(t.join(""));if(isNaN(r))throw new a.FormatError("Invalid floating point number: ".concat(r));return r}}]),t}();t.PostScriptLexer=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var m=r(5);function n(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var b=4294901760,v=65535,r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.h1=e?4294967295&e:3285377520,this.h2=e?4294967295&e:3285377520}var e,r,a;return e=t,(r=[{key:"update",value:function(e){if((0,m.isString)(e))for(var t=new Uint8Array(2*e.length),r=0,a=0,n=e.length;a<n;a++){var i=e.charCodeAt(a);i<=255?t[r++]=i:(t[r++]=i>>>8,t[r++]=255&i)}else{if(!(0,m.isArrayBuffer)(e))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");r=(t=e).byteLength}for(var o,s=r>>2,c=r-4*s,l=new Uint32Array(t.buffer,0,s),u=0,h=this.h1,f=this.h2,d=3432918353,p=461845907,g=0;g<s;g++)1&g?h=5*(h=(h^=u=(u=(u=(u=l[g])*d&b|11601*u&v)<<15|u>>>17)*p&b|13715*u&v)<<13|h>>>19)+3864292196:f=5*(f=(f^=(o=(o=(o=l[g])*d&b|11601*o&v)<<15|o>>>17)*p&b|13715*o&v)<<13|f>>>19)+3864292196;switch(u=0,c){case 3:u^=t[4*s+2]<<16;case 2:u^=t[4*s+1]<<8;case 1:u=(u=(u=(u^=t[4*s])*d&b|11601*u&v)<<15|u>>>17)*p&b|13715*u&v,1&s?h^=u:f^=u}this.h1=h,this.h2=f}},{key:"hexdigest",value:function(){var e=this.h1,t=this.h2,e=3981806797*(e^=t>>>1)&b|36045*e&v;e=444984403*(e^=(t=4283543511*t&b|(2950163797*(t<<16|e>>>16)&b)>>>16)>>>1)&b|60499*e&v;e=((e^=(t=3301882366*t&b|(3120437893*(t<<16|e>>>16)&b)>>>16)>>>1)>>>0).toString(16),t=(t>>>0).toString(16);return e.padStart(8,"0")+t.padStart(8,"0")}}])&&n(e.prototype,r),a&&n(e,a),t}();t.MurmurHash3_64=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFImage=void 0;var y=r(5),w=r(198),k=r(216),b=r(205),v=r(211),S=r(214),r=(C.buildImage=function(e){var t=e.xref,r=e.res,a=e.image,n=e.isInline,i=void 0!==n&&n,o=e.pdfFunctionFactory,s=a,c=null,n=null,e=a.dict.get("SMask"),a=a.dict.get("Mask");return e?c=e:a&&((0,w.isStream)(a)||Array.isArray(a)?n=a:(0,y.warn)("Unsupported mask format.")),Promise.resolve(new C({xref:t,res:r,image:s,isInline:i,smask:c,mask:n,pdfFunctionFactory:o}))},C.createMask=function(e){var t,r,a=e.imgArray,n=e.width,i=e.height,o=e.imageIsFromDecodeStream,e=e.inverseDecode,s=(n+7>>3)*i,c=a.byteLength;if(!o||e&&!(s===c))if(e)for((t=new Uint8ClampedArray(s)).set(a),r=c;r<s;r++)t[r]=255;else(t=new Uint8ClampedArray(c)).set(a);else t=a;if(e)for(r=0;r<c;r++)t[r]^=255;return{data:t,width:n,height:i}},C.prototype={get drawWidth(){return Math.max(this.width,this.smask&&this.smask.width||0,this.mask&&this.mask.width||0)},get drawHeight(){return Math.max(this.height,this.smask&&this.smask.height||0,this.mask&&this.mask.height||0)},decodeBuffer:function(e){var t=this.bpc,r=this.numComps,a=this.decodeAddends,n=this.decodeCoefficients,i=(1<<t)-1;if(1!==t)for(var o,s,c,l,u=0,h=0,f=this.width*this.height;h<f;h++)for(var d=0;d<r;d++)e[u]=(o=e[u],s=a[d],c=n[d],l=i,(o=s+o*c)<0?o=0:l<o&&(o=l),o),u++;else for(h=0,f=e.length;h<f;h++)e[h]=+!e[h]},getComponents:function(e){var t=this.bpc;if(8===t)return e;var r=this.width,a=this.height,n=this.numComps,i=r*a*n,o=0,s=new(t<=8?Uint8Array:t<=16?Uint16Array:Uint32Array)(i),c=r*n,l=(1<<t)-1,u=0;if(1===t)for(var h,f,d,p=0;p<a;p++){for(f=u+(-8&c),d=u+c;u<f;)m=e[o++],s[u]=m>>7&1,s[u+1]=m>>6&1,s[u+2]=m>>5&1,s[u+3]=m>>4&1,s[u+4]=m>>3&1,s[u+5]=m>>2&1,s[u+6]=m>>1&1,s[u+7]=1&m,u+=8;if(u<d)for(m=e[o++],h=128;u<d;)s[u++]=+!!(m&h),h>>=1}else for(var g=0,m=0,u=0,b=i;u<b;++u){for(u%c==0&&(g=m=0);g<t;)m=m<<8|e[o++],g+=8;var v=g-t,y=m>>v;y<0?y=0:l<y&&(y=l),s[u]=y,m&=(1<<v)-1,g=v}return s},fillOpacity:function(e,t,r,a,n){var i,o,s=this.smask,c=this.mask;if(s)i=s.width,o=s.height,l=new Uint8ClampedArray(i*o),s.fillGrayBuffer(l),i===t&&o===r||(l=x(l,s.bpc,i,o,t,r));else if(c)if(c instanceof C){for(i=c.width,o=c.height,l=new Uint8ClampedArray(i*o),c.numComps=1,c.fillGrayBuffer(l),h=0,f=i*o;h<f;++h)l[h]=255-l[h];i===t&&o===r||(l=x(l,c.bpc,i,o,t,r))}else{if(!Array.isArray(c))throw new y.FormatError("Unknown mask format.");for(var l=new Uint8ClampedArray(t*r),u=this.numComps,h=0,f=t*r;h<f;++h){for(var d=0,p=h*u,g=0;g<u;++g){var m=n[p+g],b=2*g;if(m<c[b]||m>c[1+b]){d=255;break}}l[h]=d}}if(l)for(h=0,g=3,f=t*a;h<f;++h,g+=4)e[g]=l[h];else for(h=0,g=3,f=t*a;h<f;++h,g+=4)e[g]=255},undoPreblend:function(e,t,r){var a=this.smask&&this.smask.matte;if(a)for(var a=this.colorSpace.getRgb(a,0),n=a[0],i=a[1],o=a[2],s=t*r*4,c=0;c<s;c+=4){var l=e[c+3];0!==l?(e[c]=(e[c]-n)*(l=255/l)+n,e[c+1]=(e[c+1]-i)*l+i,e[c+2]=(e[c+2]-o)*l+o):(e[c]=255,e[c+1]=255,e[c+2]=255)}},createImageData:function(){var e,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],r=this.drawWidth,a=this.drawHeight,n={width:r,height:a,kind:0,data:null},i=this.numComps,o=this.width,s=this.height,c=this.bpc,l=o*i*c+7>>3;if(!t){if("DeviceGray"===this.colorSpace.name&&1===c?e=y.ImageKind.GRAYSCALE_1BPP:"DeviceRGB"!==this.colorSpace.name||8!==c||this.needsDecode||(e=y.ImageKind.RGB_24BPP),e&&!this.smask&&!this.mask&&r===o&&a===s){if(n.kind=e,m=this.getImageBytes(s*l),this.image instanceof b.DecodeStream?n.data=m:((i=new Uint8ClampedArray(m.length)).set(m),n.data=i),this.needsDecode){(0,y.assert)(e===y.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");for(var u=n.data,h=0,f=u.length;h<f;h++)u[h]^=255}return n}if(this.image instanceof v.JpegStream&&!this.smask&&!this.mask){var d=s*l;switch(this.colorSpace.name){case"DeviceGray":d*=3;case"DeviceRGB":case"DeviceCMYK":return n.kind=y.ImageKind.RGB_24BPP,n.data=this.getImageBytes(d,r,a,!0),n}}}var p,g,l=0|(m=this.getImageBytes(s*l)).length/l*a/s,m=this.getComponents(m);return t||this.smask||this.mask?(n.kind=y.ImageKind.RGBA_32BPP,n.data=new Uint8ClampedArray(r*a*4),p=1,g=!0,this.fillOpacity(n.data,r,a,l,m)):(n.kind=y.ImageKind.RGB_24BPP,n.data=new Uint8ClampedArray(r*a*3),p=0,g=!1),this.needsDecode&&this.decodeBuffer(m),this.colorSpace.fillRgb(n.data,o,s,r,a,l,c,m,p),g&&this.undoPreblend(n.data,r,l),n},fillGrayBuffer:function(e){var t=this.numComps;if(1!==t)throw new y.FormatError("Reading gray scale from a color image: ".concat(t));var r=this.width,a=this.height,n=this.bpc,t=this.getImageBytes(a*(r*t*n+7>>3)),i=this.getComponents(t);if(1!==n){this.needsDecode&&this.decodeBuffer(i);for(var o=r*a,s=255/((1<<n)-1),c=0;c<o;++c)e[c]=s*i[c]}else if(o=r*a,this.needsDecode)for(c=0;c<o;++c)e[c]=i[c]-1&255;else for(c=0;c<o;++c)e[c]=255&-i[c]},getImageBytes:function(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]&&arguments[3];return this.image.reset(),this.image.drawWidth=t||this.width,this.image.drawHeight=r||this.height,this.image.forceRGB=!!a,this.image.getBytes(e,!0)}},C);function x(e,t,r,a,n,i){for(var o,s,c,l=n*i,u=new(t<=8?Uint8Array:t<=16?Uint16Array:Uint32Array)(l),h=r/n,f=a/i,d=0,p=new Uint16Array(n),g=r,m=0;m<n;m++)p[m]=Math.floor(m*h);for(m=0;m<i;m++)for(s=Math.floor(m*f)*g,o=0;o<n;o++)c=s+p[o],u[d++]=e[c];return u}function C(e){var t=e.xref,r=e.res,a=e.image,n=e.isInline,i=void 0!==n&&n,o=e.smask,s=void 0===o?null:o,c=e.mask,l=void 0===c?null:c,u=e.isMask,n=void 0!==u&&u,o=e.pdfFunctionFactory,c=(this.image=a).dict,u=c.get("Filter");if((0,w.isName)(u))switch(u.name){case"JPXDecode":var h=new S.JpxImage;h.parseImageProperties(a.stream),a.stream.reset(),a.width=h.width,a.height=h.height,a.bitsPerComponent=h.bitsPerComponent,a.numComps=h.componentsCount;break;case"JBIG2Decode":a.bitsPerComponent=1,a.numComps=1}e=c.get("Width","W"),u=c.get("Height","H");if(Number.isInteger(a.width)&&0<a.width&&Number.isInteger(a.height)&&0<a.height&&(a.width!==e||a.height!==u)&&((0,y.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),e=a.width,u=a.height),e<1||u<1)throw new y.FormatError("Invalid image width: ".concat(e," or height: ").concat(u));this.width=e,this.height=u,this.interpolate=c.get("Interpolate","I")||!1,this.imageMask=c.get("ImageMask","IM")||!1,this.matte=c.get("Matte")||!1;u=a.bitsPerComponent;if(!u&&!(u=c.get("BitsPerComponent","BPC"))){if(!this.imageMask)throw new y.FormatError("Bits per component missing in image: ".concat(this.imageMask));u=1}if(this.bpc=u,!this.imageMask){var f=c.get("ColorSpace","CS");if(!f)switch((0,y.info)("JPX images (which do not require color spaces)"),a.numComps){case 1:f=w.Name.get("DeviceGray");break;case 3:f=w.Name.get("DeviceRGB");break;case 4:f=w.Name.get("DeviceCMYK");break;default:throw new Error("JPX images with ".concat(a.numComps," ")+"color components not supported.")}this.colorSpace=k.ColorSpace.parse(f,t,i?r:null,o),this.numComps=this.colorSpace.numComps}if(this.decode=c.getArray("Decode","D"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,u)||n&&!k.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;var d=(1<<u)-1;this.decodeCoefficients=[],this.decodeAddends=[];for(var p=this.colorSpace&&"Indexed"===this.colorSpace.name,g=0,m=0;g<this.decode.length;g+=2,++m){var b=this.decode[g],v=this.decode[g+1];this.decodeCoefficients[m]=p?(v-b)/d:v-b,this.decodeAddends[m]=p?b:d*b}}s?this.smask=new C({xref:t,res:r,image:s,isInline:i,pdfFunctionFactory:o}):l&&((0,w.isStream)(l)?l.dict.get("ImageMask","IM")?this.mask=new C({xref:t,res:r,image:l,isInline:i,isMask:!0,pdfFunctionFactory:o}):(0,y.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=l)}t.PDFImage=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var a,i=(a=r(2))&&a.__esModule?a:{default:a},u=r(5);function c(e,t,r,a,n,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(a,n)}function o(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=1,h=2,f=1,d=2,p=3,g=4,m=5,b=6,v=7,y=8;function w(e){if("object"!==n(e)||null===e)return e;switch(e.name){case"AbortException":return new u.AbortException(e.message);case"MissingPDFException":return new u.MissingPDFException(e.message);case"UnexpectedResponseException":return new u.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new u.UnknownErrorException(e.message,e.details);default:return new u.UnknownErrorException(e.message,e.toString())}}var s=function(){function r(e,t,o){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.sourceName=e,this.targetName=t,this.comObj=o,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===s.sourceName)if(t.stream)s._processStreamMessage(t);else if(t.callback){var r=t.callbackId,e=s.callbackCapabilities[r];if(!e)throw new Error("Cannot resolve callback ".concat(r));if(delete s.callbackCapabilities[r],t.callback===l)e.resolve(t.data);else{if(t.callback!==h)throw new Error("Unexpected callback case");e.reject(w(t.reason))}}else{var a,n,i=s.actionHandler[t.action];if(!i)throw new Error("Unknown action from worker: ".concat(t.action));t.callbackId?(a=s.sourceName,n=t.sourceName,new Promise(function(e){e(i(t.data))}).then(function(e){o.postMessage({sourceName:a,targetName:n,callback:l,callbackId:t.callbackId,data:e})},function(e){o.postMessage({sourceName:a,targetName:n,callback:h,callbackId:t.callbackId,reason:w(e)})})):t.streamId?s._createStreamSink(t):i(t.data)}},o.addEventListener("message",this._onComObjOnMessage)}var e,t,a,s,n;return e=r,(t=[{key:"on",value:function(e,t){var r=this.actionHandler;if(r[e])throw new Error('There is already an actionName called "'.concat(e,'"'));r[e]=t}},{key:"send",value:function(e,t,r){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}},{key:"sendWithPromise",value:function(e,t,r){var a=this.callbackId++,n=(0,u.createPromiseCapability)();this.callbackCapabilities[a]=n;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:a,data:t},r)}catch(e){n.reject(e)}return n.promise}},{key:"sendWithStream",value:function(r,a,e,n){var i=this,o=this.streamId++,s=this.sourceName,c=this.targetName,l=this.comObj;return new ReadableStream({start:function(e){var t=(0,u.createPromiseCapability)();return i.streamControllers[o]={controller:e,startCall:t,pullCall:null,cancelCall:null,isClosed:!1},i._postMessage({sourceName:s,targetName:c,action:r,streamId:o,data:a,desiredSize:e.desiredSize},n),t.promise},pull:function(e){var t=(0,u.createPromiseCapability)();return i.streamControllers[o].pullCall=t,l.postMessage({sourceName:s,targetName:c,stream:b,streamId:o,desiredSize:e.desiredSize}),t.promise},cancel:function(e){(0,u.assert)(e instanceof Error,"cancel must have a valid reason");var t=(0,u.createPromiseCapability)();return i.streamControllers[o].cancelCall=t,i.streamControllers[o].isClosed=!0,l.postMessage({sourceName:s,targetName:c,stream:f,streamId:o,reason:w(e)}),t.promise}},e)}},{key:"_createStreamSink",value:function(t){var n=this,r=this.actionHandler[t.action],i=t.streamId,o=this.sourceName,s=t.sourceName,a=this.comObj,c={enqueue:function(e){var t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length?arguments[2]:void 0;this.isCancelled||(t=this.desiredSize,this.desiredSize-=r,0<t&&this.desiredSize<=0&&(this.sinkCapability=(0,u.createPromiseCapability)(),this.ready=this.sinkCapability.promise),n._postMessage({sourceName:o,targetName:s,stream:g,streamId:i,chunk:e},a))},close:function(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:o,targetName:s,stream:p,streamId:i}),delete n.streamSinks[i])},error:function(e){(0,u.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:o,targetName:s,stream:m,streamId:i,reason:w(e)}))},sinkCapability:(0,u.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[i]=c,new Promise(function(e){e(r(t.data,c))}).then(function(){a.postMessage({sourceName:o,targetName:s,stream:y,streamId:i,success:!0})},function(e){a.postMessage({sourceName:o,targetName:s,stream:y,streamId:i,reason:w(e)})})}},{key:"_processStreamMessage",value:function(t){var r=t.streamId,a=this.sourceName,n=t.sourceName,i=this.comObj;switch(t.stream){case y:t.success?this.streamControllers[r].startCall.resolve():this.streamControllers[r].startCall.reject(w(t.reason));break;case v:t.success?this.streamControllers[r].pullCall.resolve():this.streamControllers[r].pullCall.reject(w(t.reason));break;case b:if(!this.streamSinks[r]){i.postMessage({sourceName:a,targetName:n,stream:v,streamId:r,success:!0});break}this.streamSinks[r].desiredSize<=0&&0<t.desiredSize&&this.streamSinks[r].sinkCapability.resolve(),this.streamSinks[r].desiredSize=t.desiredSize;var o=this.streamSinks[t.streamId].onPull;new Promise(function(e){e(o&&o())}).then(function(){i.postMessage({sourceName:a,targetName:n,stream:v,streamId:r,success:!0})},function(e){i.postMessage({sourceName:a,targetName:n,stream:v,streamId:r,reason:w(e)})});break;case g:if((0,u.assert)(this.streamControllers[r],"enqueue should have stream controller"),this.streamControllers[r].isClosed)break;this.streamControllers[r].controller.enqueue(t.chunk);break;case p:if((0,u.assert)(this.streamControllers[r],"close should have stream controller"),this.streamControllers[r].isClosed)break;this.streamControllers[r].isClosed=!0,this.streamControllers[r].controller.close(),this._deleteStreamController(r);break;case m:(0,u.assert)(this.streamControllers[r],"error should have stream controller"),this.streamControllers[r].controller.error(w(t.reason)),this._deleteStreamController(r);break;case d:t.success?this.streamControllers[r].cancelCall.resolve():this.streamControllers[r].cancelCall.reject(w(t.reason)),this._deleteStreamController(r);break;case f:if(!this.streamSinks[r])break;var s=this.streamSinks[t.streamId].onCancel;new Promise(function(e){e(s&&s(w(t.reason)))}).then(function(){i.postMessage({sourceName:a,targetName:n,stream:d,streamId:r,success:!0})},function(e){i.postMessage({sourceName:a,targetName:n,stream:d,streamId:r,reason:w(e)})}),this.streamSinks[r].sinkCapability.reject(w(t.reason)),this.streamSinks[r].isCancelled=!0,delete this.streamSinks[r];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(s=i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([this.streamControllers[t].startCall,this.streamControllers[t].pullCall,this.streamControllers[t].cancelCall].map(function(e){return e&&e.promise}));case 2:delete this.streamControllers[t];case 3:case"end":return e.stop()}},e,this)}),n=function(){var e=this,o=arguments;return new Promise(function(t,r){var a=s.apply(e,o);function n(e){c(a,t,r,n,i,"next",e)}function i(e){c(a,t,r,n,i,"throw",e)}n(void 0)})},function(e){return n.apply(this,arguments)})},{key:"_postMessage",value:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}])&&o(e.prototype,t),a&&o(e,a),r}();t.MessageHandler=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFWorkerStream=void 0;var a,n=(a=r(2))&&a.__esModule?a:{default:a},i=r(5);function c(e,t,r,a,n,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(a,n)}function o(s){return function(){var e=this,o=arguments;return new Promise(function(t,r){var a=s.apply(e,o);function n(e){c(a,t,r,n,i,"next",e)}function i(e){c(a,t,r,n,i,"throw",e)}n(void 0)})}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e}t.PDFWorkerStream=function(){function t(e){s(this,t),this._msgHandler=e,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}return u(t,[{key:"getFullReader",value:function(){return(0,i.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new h(this._msgHandler),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){t=new f(e,t,this._msgHandler);return this._rangeRequestReaders.push(t),t}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach(function(e){e.cancel(t)})}}]),t}();var h=function(){function r(e){var t=this;s(this,r),this._msgHandler=e,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;e=this._msgHandler.sendWithStream("GetReader");this._reader=e.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(function(e){t._isStreamingSupported=e.isStreamingSupported,t._isRangeSupported=e.isRangeSupported,t._contentLength=e.contentLength})}var e;return u(r,[{key:"read",value:(e=o(n.default.mark(function e(){var t,r;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._reader.read();case 2:if(t=e.sent,r=t.value,t.done)return e.abrupt("return",{value:void 0,done:!0});e.next=7;break;case 7:return e.abrupt("return",{value:r.buffer,done:!1});case 8:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader.cancel(e)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}}]),r}(),f=function(){function a(e,t,r){s(this,a),this._msgHandler=r,this.onProgress=null;t=this._msgHandler.sendWithStream("GetRangeReader",{begin:e,end:t});this._reader=t.getReader()}var e;return u(a,[{key:"read",value:(e=o(n.default.mark(function e(){var t,r;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._reader.read();case 2:if(t=e.sent,r=t.value,t.done)return e.abrupt("return",{value:void 0,done:!0});e.next=7;break;case 7:return e.abrupt("return",{value:r.buffer,done:!1});case 8:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader.cancel(e)}},{key:"isStreamingSupported",get:function(){return!1}}]),a}()}],a={},n.m=r,n.c=a,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0);function n(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var r,a},e.exports=r()}},a={};function n(e){var t=a[e];if(void 0!==t)return t.exports;t=a[e]={exports:{}};return r[e].call(t.exports,t,t.exports,n),t.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();n(287)})();`,"Worker",void 0,__webpack_require__.p+"vue3-pdf-viewer.worker.js")},X=re({name:"Viewer",props:{page:Number,total:Number,zoom:Number,rotate:Number,catalogVisible:Boolean,isFullpage:Boolean,source:{type:[Object,String],required:!0}},viewerStyle:N.Z.toString(),rotateWrapperStyle:i.Z.toString(),components:{CompIFrame:y===3?X:P,RotateWrapper:q},data(){return{pdf:null,viewerContentHeight:0,viewportHeight:0,viewportWidth:0,imageList:[],viewerImageList:[]}},computed:{isHorizontalViewer(){return this.rotate/90%2==1},activePage(){return this.page},pages(){return[...Array(this.total+1).keys()].slice(1)},viewerStyle(){return{width:`${this.zoom/2/100*this.viewportWidth}px`,transform:`rotate(${this.rotate}deg)`}},viewerItemStyle(){return this.isHorizontalViewer?{height:`${this.zoom/2/100*this.viewportWidth}px`}:{}},thumbnailItemStyle(){return this.isHorizontalViewer?{height:`${this.zoom/2/100*300}px`}:{}}},watch:{isFullpage(Ke,At){Ke!==At&&Ke&&this.updateZoomFullpage()},viewerStyle:{deep:!0,async handler(){await this.$nextTick(),this.viewerContentHeight=this.$refs.viewerContent.clientHeight}},page(Ke,At){Ke!==At&&this.scrollToPage(Ke)},source:{immediate:!0,async handler(){await this.load(),this.render()}}},activated(){this.$nextTick(()=>{this.handleResize()}),this.render()},mounted(){this.$refs.iframe.appendStyle(this.$options.rotateWrapperStyle),this.handleResize=function(Ke,At,Et){let Wt=!0;return function(){var fi=arguments;Wt&&(Wt=!1,Ke.apply(Et,fi),setTimeout(function(){Wt=!0},At))}}(()=>{this.viewportHeight=this.$refs.container.clientHeight,this.viewportWidth=this.$refs.viewerScroller.clientWidth},100),window.addEventListener("resize",this.handleResize),this.$nextTick(()=>{this.handleResize()})},beforeDestroy(){window.removeEventListener("resize",this.handleResize)},methods:{printPDF(){this.$refs.iframe.getContentWindow().print()},updateZoomFullpage(){var Ke=this.viewerContentHeight/this.total,Ke=this.viewportHeight/(Ke-20);this.$emit("update:zoom",this.zoom*Ke),this.scrollToPage(this.page)},handleViewerScroll(Et){this.isScrolling=!0;var At=Et.target.scrollTop,Et=(this.viewerContentHeight+20)/this.total,Et=(At-(Et-this.viewportHeight)/2)/Et+1-this.page;let Wt=0;.5<Et?Wt+=1:Et<-.5&&--Wt,this.$emit("update:page",this.page+Wt),this.$nextTick(()=>{this.isScrolling=!1})},startLoading(){this.$emit("update:isLoading",!0)},endLoading(){this.$emit("update:isLoading",!1)},handleSwitchPage(Ke){this.$emit("update:page",Ke)},async load(){if(this.source){this.startLoading();try{var Ke=m.getFilenameFromUrl(this.source);this.$emit("update:filename",Ke);const At=m.getDocument(this.source);At.onPassword=(Et,Wt)=>{Wt=Wt===m.PasswordResponses.INCORRECT_PASSWORD,this.$emit("password-requested",{callback:Et,retry:Wt})},this.pdf=await At.promise,this.$emit("loaded",{total:this.pdf.numPages})}catch(At){this.pdf=null,this.$emit("loading-failed",At)}finally{this.endLoading()}}},async render(){if(this.pdf)try{this.$emit("update:isRendering",!0),await this.$nextTick();const At=await ee(this.pages,this.pdf);this.imageList=[],this.viewerImageList=[];var Ke=At.map((Et,Wt)=>{const fi=(hi=>{const vi=document.createElement("img");return vi.className="placeholder",vi.src=URL.createObjectURL(hi.blob),vi})(Et),ei=fi.cloneNode();return Et=URL.createObjectURL(Et.blob),this.imageList=[...this.imageList,Et],this.viewerImageList=[...this.viewerImageList,Et],Wt=this.$refs[`viewerItem_${Wt}`],((hi,vi)=>{hi.querySelector(".placeholder").replaceWith(vi)})(Array.isArray(Wt)?Wt[0]:Wt,ei),Wt=new Promise(hi=>{ei.onload=hi}),Promise.all([Wt])});await Promise.all(Ke),this.$emit("rendered"),this.$emit("update:isRendering",!1),await this.$nextTick(),this.viewerContentHeight=this.$refs.viewerContent.clientHeight}catch(At){At instanceof Error&&console.error("rendering failed:",At),this.pdf=null,this.$emit("rendering-failed",At)}},scrollToPage(Ke){this.syncViewerOffset(Ke),this.syncCatalogOffset(Ke)},syncViewerOffset(Ke){this.isScrolling||(Ke=this.$refs[`viewerItem_${Ke-1}`],(Array.isArray(Ke)?Ke[0]:Ke).scrollIntoView())},syncCatalogOffset(Ke){Ke=this.$refs[`catalogItem_${Ke-1}`],(Array.isArray(Ke)?Ke[0]:Ke).scrollIntoView({block:"nearest"})}}},A,t.staticRenderFns,!1,null,"6f808d62",null),X.options.__file="src/components/Viewer/Viewer.vue",P=X.exports;const oe={class:"header__preview"},de={class:"start"},fe={class:"title"},ue={class:"center"},pe={key:0,id:"content"},te=["value"],ge=(0,d.createElementVNode)("span",{id:"divider"},"/",-1),xe={id:"pagelength"},ce=(0,d.createElementVNode)("span",{class:"vertical-separator"},null,-1),we={key:1,id:"zoom-controls"},Ae=["value"],Fe=(0,d.createElementVNode)("span",{class:"vertical-separator"},null,-1),De={class:"end"};function Ge(Ke,At,Et,Wt,fi,ei){var hi=(0,d.resolveComponent)("IconButton");return(0,d.openBlock)(),(0,d.createElementBlock)("span",oe,[(0,d.createElementVNode)("div",de,[ei.catalogVisible?((0,d.openBlock)(),(0,d.createBlock)(hi,{key:0,name:"catalog",onClick:ei.handleToggleCatalog},null,8,["onClick"])):(0,d.createCommentVNode)("v-if",!0),(0,d.createElementVNode)("div",fe,(0,d.toDisplayString)(Et.filename),1)]),(0,d.createElementVNode)("div",ue,[ei.switchPageVisible?((0,d.openBlock)(),(0,d.createElementBlock)("div",pe,[(0,d.createElementVNode)("input",{part:"input",type:"text",id:"pageselector","aria-label":"页码",value:Et.page,onBlur:At[0]||(At[0]=(...vi)=>ei.handleUpdatePage&&ei.handleUpdatePage(...vi)),onKeyup:At[1]||(At[1]=(0,d.withKeys)((...vi)=>ei.handleUpdatePage&&ei.handleUpdatePage(...vi),["enter"]))},null,40,te),ge,(0,d.createElementVNode)("span",xe,(0,d.toDisplayString)(Et.total),1)])):(0,d.createCommentVNode)("v-if",!0),ce,ei.zoomVisible?((0,d.openBlock)(),(0,d.createElementBlock)("span",we,[(0,d.createVNode)(hi,{name:"minus",disabled:ei.isLowest,onClick:At[2]||(At[2]=vi=>ei.handleModifyZoomLevel(!1))},null,8,["disabled"]),(0,d.createElementVNode)("input",{type:"text","aria-label":"缩放级别",value:ei.formatZoom,onBlur:At[3]||(At[3]=vi=>ei.handleUpdateZoom(vi.target.value)),onKeyup:At[4]||(At[4]=(0,d.withKeys)(vi=>ei.handleUpdateZoom(vi.target.value),["enter"]))},null,40,Ae),(0,d.createVNode)(hi,{name:"plus",disabled:ei.isHighest,onClick:At[5]||(At[5]=vi=>ei.handleModifyZoomLevel(!0))},null,8,["disabled"])])):(0,d.createCommentVNode)("v-if",!0),Fe,ei.fullpageVisible?((0,d.openBlock)(),(0,d.createBlock)(hi,{key:2,name:ei.mode,onClick:ei.handleToggleFullpage},null,8,["name","onClick"])):(0,d.createCommentVNode)("v-if",!0),ei.rotateVisible?((0,d.openBlock)(),(0,d.createBlock)(hi,{key:3,name:"rotate",onClick:ei.handleRotate},null,8,["onClick"])):(0,d.createCommentVNode)("v-if",!0)]),(0,d.createElementVNode)("div",De,[ei.downloadVisible?((0,d.openBlock)(),(0,d.createBlock)(hi,{key:0,name:"download",onClick:ei.handleDownload},null,8,["onClick"])):(0,d.createCommentVNode)("v-if",!0),ei.printVisible?((0,d.openBlock)(),(0,d.createBlock)(hi,{key:1,name:"printer",onClick:ei.handlePrint},null,8,["onClick"])):(0,d.createCommentVNode)("v-if",!0),(0,d.createCommentVNode)(" TODO: more action. (infos, fullscreen...) "),(0,d.createCommentVNode)(' <IconButton v-if="moreVisible" name="dots" @click="handleToggleMore" /> ')])])}const ct=["disabled"];function ot(Ke,At,Et,Wt,fi,ei){var hi=(0,d.resolveComponent)("Iconfont");return(0,d.openBlock)(),(0,d.createElementBlock)("button",{disabled:Et.disabled,class:"icon-btn",onClick:At[0]||(At[0]=vi=>Ke.$emit("click"))},[(0,d.createVNode)(hi,{name:Et.name},null,8,["name"])],8,ct)}const Qe={key:1,class:"icon","aria-hidden":"true"},Ie=["xlink:href"];function Ue(Ke,At,Et,Wt,fi,ei){return ei.isFontClass?((0,d.openBlock)(),(0,d.createElementBlock)("i",{key:0,class:(0,d.normalizeClass)(ei.className),onClick:At[0]||(At[0]=hi=>Ke.$emit("click"))},[(0,d.renderSlot)(Ke.$slots,"default",{},void 0,!0)],2)):((0,d.openBlock)(),(0,d.createElementBlock)("svg",Qe,[(0,d.createElementVNode)("use",{"xlink:href":ei.icon},null,8,Ie)]))}q={props:{name:{type:String,required:!0},useSymbol:{type:Boolean,default:!1},prefix:{type:String,default:"pdf-viewer--"}},computed:{icon(){return this.useSymbol?`#icon-${this.name}`:`${this.prefix}${this.name}`},className(){return`iconfont ${this.icon}`},isFontClass(){return!this.useSymbol}}},t=__webpack_require__(500),X={},X.styleTagTransform=G(),X.setAttributes=U(),X.insert=B().bind(null,"head"),X.domAPI=I(),X.insertStyleElement=C(),Y()(t.Z,X),t.Z&&t.Z.locals&&t.Z.locals,t=re(q,Ue,u.staticRenderFns,!1,null,"c9adbf10",null),q={name:"IconButton",inheritAttrs:!(t.options.__file="src/components/Iconfont.vue"),components:{Iconfont:t.exports},props:{name:String,disabled:Boolean}},u=__webpack_require__(719),t={},t.styleTagTransform=G(),t.setAttributes=U(),t.insert=B().bind(null,"head"),t.domAPI=I(),t.insertStyleElement=C(),Y()(u.Z,t),u.Z&&u.Z.locals&&u.Z.locals,u=re(q,ot,o.staticRenderFns,!1,null,null,null),u.options.__file="src/components/IconButton.vue",q=u.exports;const He="fullscreen",it="switchPage",Je=[25,33,50,67,75,80,90,100,110,125,150,175,200,250,300,400,500],st=Ke=>Number(Ke.replace(/[^\d]/g,""))||1;o={name:"ViewerPageSelector",components:{IconButton:q},props:{total:Number,page:Number,zoom:Number,rotate:Number,controls:Array,isFullpage:Boolean,filename:String},data(){return{tmpZoom:null}},computed:{formatZoom(){return parseInt(this.zoom)},mode(){return this.isFullpage?"auto-width":"fullpage"},lowestValue(){return Je[0]},highestValue(){return Je[Je.length-1]},isLowest(){return this.zoom<=this.lowestValue},isHighest(){return this.zoom>=this.highestValue},catalogVisible(){return this.controls.includes("catalog")},downloadVisible(){return this.controls.includes("download")},printVisible(){return this.controls.includes("print")},doubleVisible(){return this.controls.includes("double")},fullscreenVisible(){return this.controls.includes(He)},aboutVisible(){return this.controls.includes("about")},fullpageVisible(){return this.controls.includes("fullpage")},rotateVisible(){return this.controls.includes("rotate")},zoomVisible(){return this.controls.includes("zoom")},switchPageVisible(){return this.controls.includes(it)},moreVisible(){return[this.doubleVisible,this.aboutVisible,this.fullscreenVisible].some(Ke=>Ke)}},methods:{handleToggleFullpage(){this.isFullpage?this.handleUpdateZoom(this.tmpZoom):this.tmpZoom=this.zoom,this.$emit("toggleFullpage")},handleRotate(){this.$emit("update:rotate",this.rotate+90)},handleDownload(){this.$emit("download")},handlePrint(){this.$emit("print")},handleToggleMore(){},handleFullscreen(){},handleModifyZoomLevel(Ke){var At=Je.reduce((Et,Wt,fi)=>Et||(fi=Je[fi+1],(Ke?Wt<=this.zoom&&this.zoom<fi:Wt<this.zoom&&this.zoom<=fi)?Ke?fi:Wt:null),null);this.handleUpdateZoom(At)},handleToggleCatalog(){this.$emit("toggleCatalog")},handleUpdatePage(Ke){Ke=st(Ke.target.value),this.$emit("update:page",Ke>this.total?this.total:Ke)},handleUpdateZoom(Ke){Ke=(Ke=typeof Ke!="number"?st(Ke):Ke)>this.highestValue?this.highestValue:Ke<this.lowestValue?this.lowestValue:Ke,this.$emit("update:zoom",Ke)}}},u=__webpack_require__(156),q={},q.styleTagTransform=G(),q.setAttributes=U(),q.insert=B().bind(null,"head"),q.domAPI=I(),q.insertStyleElement=C(),Y()(u.Z,q),u.Z&&u.Z.locals&&u.Z.locals,o=re(o,Ge,a.staticRenderFns,!1,null,null,null),o.options.__file="src/components/ViewerPageSelector.vue",a=o.exports,o={name:"PDFViewer",props:{source:{type:String,required:!0},controls:{type:Array,default:()=>["download","print","double","fullscreen","abort","fullpage","rotate","zoom","catalog","switchPage"]},loadingText:{type:String,default:"Loading"},renderingText:{type:String,default:"Rendering"}},components:{Viewer:P,ViewerPageSelector:a},data(){return{isLoading:!0,isRendering:!1,page:1,total:1,catalogVisible:!0,zoom:100,rotate:0,isFullpage:!1,filename:"",seconds:0}},computed:{isReady(){return!this.isLoading&&!this.isRendering},status(){return[this.isLoading,this.isRendering]},loadingContent(){return`${this.loadingText} ${this.dotText}`},renderingContent(){return`${this.renderingText} ${this.dotText}`},dotText(){var Ke=this.seconds%3+1;return".".repeat(Ke)},viewerStyle(){return{visibility:this.isLoading?"hidden":"visible"}}},watch:{status:{handler(Wt){var[At,Et]=Wt,Wt=()=>{this._timer&&clearInterval(this._timer),this.seconds=0,this._timer=setInterval(()=>{this.seconds+=1},500)};At?this.$slots.loading||Wt():Et&&(this.$slots.rendering||Wt())}},deep:!0},methods:{handleDownload(){this.$emit("download",{src:this.source,filename:this.filename})},handlePrint(){this.$refs.viewer.printPDF()},handlePreventDefault(Ke){Ke.preventDefault()},handleSwitchPage(Ke){this.page=Ke},handleUpdateZoom(Ke){this.zoom=Ke},handleToggleFullpage(){this.isFullpage=!this.isFullpage},handleToggleCatalog(){this.catalogVisible=!this.catalogVisible},handleLoaded(Ke){var At=Ke.total;this.total=At,this.$emit("loaded",Ke),this.isLoading=!1},handleDocumentRender(){this.$emit("rendered")},handleUpdateRenderingState(Ke){this.isRendering=Ke},handleUpdateLoadingState(Ke){this.isLoading=Ke},handlePasswordRequest({callback:Ke,retry:At}){Ke(prompt(At?"Enter password again":"Enter password"))},handleLoadingFailed(Ke){this.$emit("loading-failed",Ke)},handleRenderFailed(Ke){this.$emit("rendering-failed",Ke)},reload(){this.$refs.viewer.load()}}},P=__webpack_require__(620),a={},a.styleTagTransform=G(),a.setAttributes=U(),a.insert=B().bind(null,"head"),a.domAPI=I(),a.insertStyleElement=C(),Y()(P.Z,a),P.Z&&P.Z.locals&&P.Z.locals,e=re(o,H,e.staticRenderFns,!1,null,null,null),e.options.__file="src/PDFViewer.vue",e=e.exports,typeof window<"u"&&window.Vue&&(window.PDFViewer=e);const ht=e})(),__webpack_exports__})()})})(vue3PdfViewer);var vue3PdfViewerExports=vue3PdfViewer.exports;const PDFViewer$1=getDefaultExportFromCjs(vue3PdfViewerExports),_sfc_main$e={props:{url:String},components:{PDFViewer:PDFViewer$1},data(){return{}},methods:{}};function _sfc_render$6(e,t,i,a,o,u){const d=resolveComponent("PDFViewer");return openBlock(),createElementBlock("div",null,[createVNode(d,{source:i.url,style:{height:"100vh",width:"100vw"}},null,8,["source"])])}const PDFViewer=_export_sfc$1(_sfc_main$e,[["render",_sfc_render$6]]),_sfc_main$d={components:{Teleport},props:{url:String,mapping:Array},data(){return{data:null,infoOpened:!1,modal:null,info:null,is_low:!1}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3),new Tooltip(document.body,{selector:"[data-bs-toggle='tooltip']"}),this.modal=new Modal("#info_modal",{})},methods:{async fetchData(){this.data=await axios.get(this.url).then(e=>e.data)},isNumber(e){return isNaN(e)},async openRecomend(e){let t=e.fleet_id,i=e.data;this.info=await axios.get("/api/docs",{params:{fleet_id:t,sensor_name:i}}).then(a=>a.data),this.modal.show()},buildTooltip(e,t){if(e.reverse){if(e.normal<t)return this.is_low=!0,"IS VERY LOW";if(e.danger>t)return this.is_low=!1,"IS VERY HIGH"}else{if(e.normal>t)return this.is_low=!0,"IS VERY LOW";if(e.danger<t)return this.is_low=!1,"IS VERY HIGH"}return"NORMAL"}}},_hoisted_1$d={class:"row"},_hoisted_2$a={class:"col-12"},_hoisted_3$8=createBaseVNode("div",{class:"table-title"},[createBaseVNode("h6",null,"Data Information")],-1),_hoisted_4$7={key:0,class:"table table-sm"},_hoisted_5$4=createBaseVNode("th",{scope:"row"},"•",-1),_hoisted_6$3=createBaseVNode("td",null,"Updated at",-1),_hoisted_7$2={class:"text-end"},_hoisted_8$2=createBaseVNode("th",{scope:"row"},"•",-1),_hoisted_9$1={key:0,class:"text-end"},_hoisted_10$1=["onClick","title"],_hoisted_11$1=createBaseVNode("img",{src:"/icon/danger.svg",height:"16"},null,-1),_hoisted_12$1=[_hoisted_11$1],_hoisted_13$1=["innerHTML"],_hoisted_14$1={key:1},_hoisted_15={class:"modal fade",id:"info_modal",tabindex:"-1",role:"dialog","aria-labelledby":"info_modal","aria-hidden":"true"},_hoisted_16={class:"modal-dialog modal-dialog-centered",role:"document"},_hoisted_17={class:"modal-content"},_hoisted_18={class:"modal-header"},_hoisted_19=createBaseVNode("h5",{class:"modal-title",id:"info_modal"},"Status Detail",-1),_hoisted_20=createBaseVNode("span",{"aria-hidden":"true"},"×",-1),_hoisted_21=[_hoisted_20],_hoisted_22={class:"modal-body"},_hoisted_23=createBaseVNode("h4",null,"Item Name:",-1),_hoisted_24=createBaseVNode("br",null,null,-1),_hoisted_25=["innerHTML"],_hoisted_26=["innerHTML"],_hoisted_27={key:1};function _sfc_render$5(e,t,i,a,o,u){return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$d,[createBaseVNode("div",_hoisted_2$a,[_hoisted_3$8,o.data?(openBlock(),createElementBlock("table",_hoisted_4$7,[createBaseVNode("tbody",null,[createBaseVNode("tr",null,[_hoisted_5$4,_hoisted_6$3,createBaseVNode("td",_hoisted_7$2,toDisplayString(o.data.terminal_time),1)]),(openBlock(!0),createElementBlock(Fragment,null,renderList(i.mapping,d=>(openBlock(),createElementBlock("tr",{key:d.data},[_hoisted_8$2,createBaseVNode("td",null,toDisplayString(d.text),1),u.isNumber(d.data)?(openBlock(),createElementBlock("td",_hoisted_9$1,[d.condition=="ABNORMAL"&&d.is_ams?(openBlock(),createElementBlock("a",{key:0,href:"#",onClick:n=>u.openRecomend(d),"data-bs-toggle":"tooltip","data-bs-placement":"top",title:u.buildTooltip(d,o.data[d.data])},_hoisted_12$1,8,_hoisted_10$1)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(e.$filters.number(o.data[d.data]))+" ",1),createBaseVNode("span",{innerHTML:d.unit},null,8,_hoisted_13$1)])):(openBlock(),createElementBlock("td",_hoisted_14$1,toDisplayString(o.data[d.data]),1))]))),128))])])):createCommentVNode("",!0)])]),(openBlock(),createBlock(Teleport,{to:"body"},[createBaseVNode("div",_hoisted_15,[createBaseVNode("div",_hoisted_16,[createBaseVNode("div",_hoisted_17,[createBaseVNode("div",_hoisted_18,[_hoisted_19,createBaseVNode("button",{type:"button",class:"close",onClick:t[0]||(t[0]=d=>o.modal.hide()),"aria-label":"Close"},_hoisted_21)]),createBaseVNode("div",_hoisted_22,[o.info?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_23,createBaseVNode("p",null,toDisplayString(o.info.name),1),_hoisted_24,o.is_low?(openBlock(),createElementBlock("div",{key:0,innerHTML:o.info.low_desc},null,8,_hoisted_25)):createCommentVNode("",!0),o.is_low?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:1,innerHTML:o.info.high_desc},null,8,_hoisted_26))],64)):(openBlock(),createElementBlock("h4",_hoisted_27,"No Information detail"))])])])])]))],64)}const DataInformation=_export_sfc$1(_sfc_main$d,[["render",_sfc_render$5]]),_sfc_main$c={components:{MapboxMap:MapboxMap_default,MapboxNavigationControl:MapboxNavigationControl_default},props:{lat:String,lng:String,style:Object},data(){return{map:null,location:{lat:0,lng:0},marker:null}},methods:{loaded(){this.location={lat:this.lat,lng:this.lng},this.marker=new mapboxgl.Marker,this.marker.setLngLat(this.location).addTo(this.map),this.map.on("click",this.addMarker.bind(this))},addMarker(e){this.location=e.lngLat,this.marker.setLngLat(this.location).addTo(this.map)}}},_hoisted_1$c={class:"col-12"},_hoisted_2$9={class:"mapbox-pinned"},_hoisted_3$7={class:"col-12"},_hoisted_4$6={class:"form-group mb-3"},_hoisted_5$3=createBaseVNode("label",null,"Latitude",-1),_hoisted_6$2={class:"col-12"},_hoisted_7$1={class:"form-group mb-3"},_hoisted_8$1=createBaseVNode("label",null,"Longitude",-1);function _sfc_render$4(e,t,i,a,o,u){const d=resolveComponent("MapboxNavigationControl"),n=resolveComponent("MapboxMap");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$c,[createBaseVNode("div",_hoisted_2$9,[createVNode(n,{onMbCreated:t[0]||(t[0]=k=>o.map=k),onMbLoad:u.loaded,style:normalizeStyle(i.style),"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:[o.location.lng,o.location.lat],zoom:7},{default:withCtx(()=>[createVNode(d,{position:"bottom-right"})]),_:1},8,["onMbLoad","style","center"])])]),createBaseVNode("div",_hoisted_3$7,[createBaseVNode("div",_hoisted_4$6,[_hoisted_5$3,withDirectives(createBaseVNode("input",{name:"lat",type:"text","onUpdate:modelValue":t[1]||(t[1]=k=>o.location.lat=k),class:"form-control"},null,512),[[vModelText,o.location.lat]])])]),createBaseVNode("div",_hoisted_6$2,[createBaseVNode("div",_hoisted_7$1,[_hoisted_8$1,withDirectives(createBaseVNode("input",{name:"lng",type:"text","onUpdate:modelValue":t[2]||(t[2]=k=>o.location.lng=k),class:"form-control"},null,512),[[vModelText,o.location.lng]])])])],64)}const MapPinned=_export_sfc$1(_sfc_main$c,[["render",_sfc_render$4]]),_sfc_main$b={props:{svgPath:String,url:String,group:String,debug:{type:Boolean,default:!1}},components:{ChartSvg},data(){return{data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){let e=await axios.get(this.url).then(t=>t.data);if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(i=>{t.includes(i)||(this.data[i+"_bar"]=e[i]*1e3)})}}}},_hoisted_1$b={key:0};function _sfc_render$3(e,t,i,a,o,u){const d=resolveComponent("chart-svg");return openBlock(),createElementBlock("div",null,[createVNode(d,{path:i.svgPath,svgData:o.data,height:550},null,8,["path","svgData"]),i.debug?(openBlock(),createElementBlock("div",_hoisted_1$b,toDisplayString(o.data),1)):createCommentVNode("",!0)])}const fleetmimic=_export_sfc$1(_sfc_main$b,[["render",_sfc_render$3]]),masterSvg_vue_vue_type_style_index_0_scoped_c750de45_lang="",_sfc_main$a={props:{path:String,group:String,fleetId:String},data(){return{location:null,isLoading:!1}},mounted(){this.location="/"+this.path},methods:{upload(e){this.isLoading=!0;let t=e.target.files[0],i=new FormData;i.append("file",t),i.append("group",this.group),i.append("fleet_id",this.fleetId);let a=this;axios.post("/upload/svg",i,{headers:{"Content-Type":"multipart/form-data"}}).then(function(o){a.location="/"+o.data.path,a.isLoading=!1}).catch(function(o){console.log(o),a.isLoading=!1})}}},_hoisted_1$a={class:"card"},_hoisted_2$8={class:"card-body"},_hoisted_3$6=["src"],_hoisted_4$5={class:"card-footer m-0 p-0"},_hoisted_5$2={class:"loading"};function _sfc_render$2(e,t,i,a,o,u){return openBlock(),createElementBlock("div",_hoisted_1$a,[createBaseVNode("div",_hoisted_2$8,[o.location?(openBlock(),createElementBlock("img",{key:0,src:o.location},null,8,_hoisted_3$6)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_4$5,[createBaseVNode("input",{id:"mimic",type:"file",ref:"file",class:"form-control",onChange:t[0]||(t[0]=(...d)=>u.upload&&u.upload(...d))},null,544)]),withDirectives(createBaseVNode("div",_hoisted_5$2,"Loading...",512),[[vShow,o.isLoading]])])}const svgUpload=_export_sfc$1(_sfc_main$a,[["render",_sfc_render$2],["__scopeId","data-v-c750de45"]]),_sfc_main$9={props:{action:String},methods:{inputOnChange(e){console.log(e)}}},_hoisted_1$9=createBaseVNode("button",{class:"btn-upload"},[createBaseVNode("img",{src:"/img/icons/upload.svg",height:"26"})],-1);function _sfc_render$1(e,t,i,a,o,u){return openBlock(),createElementBlock("div",null,[createBaseVNode("input",{type:"file",ref:"fileInput",onChange:t[0]||(t[0]=(...d)=>u.inputOnChange&&u.inputOnChange(...d))},null,544),_hoisted_1$9])}const fileUpload=_export_sfc$1(_sfc_main$9,[["render",_sfc_render$1]]);var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,i)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,__spreadValues=(e,t)=>{for(var i in t||(t={}))__hasOwnProp.call(t,i)&&__defNormalProp(e,i,t[i]);if(__getOwnPropSymbols)for(var i of __getOwnPropSymbols(t))__propIsEnum.call(t,i)&&__defNormalProp(e,i,t[i]);return e},__spreadProps=(e,t)=>__defProps(e,__getOwnPropDescs(t)),_export_sfc=(e,t)=>{const i=e.__vccOpts||e;for(const[a,o]of t)i[a]=o;return i};const _withScopeId$5=e=>(pushScopeId("data-v-e0a0b7f0"),e=e(),popScopeId(),e),_hoisted_1$7=["onClick"],_hoisted_2$6=["checked"],_hoisted_3$4=_withScopeId$5(()=>createBaseVNode("label",{for:"checbox"},null,-1)),_sfc_main$7=defineComponent({__name:"MultipleSelectCheckBox",props:{status:{type:String,required:!0}},emits:["change"],setup(e,{emit:t}){const i=e;useCssVars(d=>({"51ab8a49":unref(u)}));const a=computed(()=>i.status==="allSelected"),o=()=>{t("change",!a.value)},u=inject("themeColor");return(d,n)=>(openBlock(),createElementBlock("div",{class:"easy-checkbox",onClick:withModifiers(o,["stop","prevent"])},[createBaseVNode("input",{type:"checkbox",checked:unref(a),class:normalizeClass(e.status)},null,10,_hoisted_2$6),_hoisted_3$4],8,_hoisted_1$7))}});var MultipleSelectCheckBox=_export_sfc(_sfc_main$7,[["__scopeId","data-v-e0a0b7f0"]]);const _withScopeId$4=e=>(pushScopeId("data-v-7e69a276"),e=e(),popScopeId(),e),_hoisted_1$6=["checked"],_hoisted_2$5=_withScopeId$4(()=>createBaseVNode("label",{for:"checbox"},null,-1)),_sfc_main$6=defineComponent({__name:"SingleSelectCheckBox",props:{checked:{type:Boolean,required:!0}},emits:["change"],setup(e,{emit:t}){useCssVars(a=>({fdaf7e9e:unref(i)}));const i=inject("themeColor");return(a,o)=>(openBlock(),createElementBlock("div",{class:"easy-checkbox",onClick:o[0]||(o[0]=withModifiers(u=>t("change"),["stop","prevent"]))},[createBaseVNode("input",{type:"checkbox",checked:e.checked},null,8,_hoisted_1$6),_hoisted_2$5]))}});var SingleSelectCheckBox=_export_sfc(_sfc_main$6,[["__scopeId","data-v-7e69a276"]]);const _withScopeId$3=e=>(pushScopeId("data-v-4ca5de3a"),e=e(),popScopeId(),e),_hoisted_1$5={class:"easy-data-table__rows-selector"},_hoisted_2$4={class:"rows-input"},_hoisted_3$3=_withScopeId$3(()=>createBaseVNode("div",{class:"triangle"},null,-1)),_hoisted_4$3=["onClick"],_sfc_main$5=defineComponent({__name:"RowsSelector",props:{modelValue:{type:Number,required:!0},rowsItems:{type:Array,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const i=e;useCssVars(z=>({"1b889342":unref(Z)}));const a=ref(!1),o=ref(!1),u=inject("dataTable");watch(a,z=>{if(z&&u){const H=window.innerHeight,Y=u.value.getBoundingClientRect().height,I=u.value.getBoundingClientRect().top;H-(Y+I)<=100?o.value=!0:o.value=!1}});const d=computed({get:()=>i.modelValue,set:z=>{t("update:modelValue",z)}}),n=z=>{d.value=z,a.value=!1},k=(z,H)=>{let Y=z.parentNode;for(;Y!=null;){if(Y.classList&&Y.classList.contains(H))return!0;Y=Y.parentNode}return!1},j=z=>{k(z.target,"easy-data-table__rows-selector")||(a.value=!1)};onMounted(()=>{document.addEventListener("click",j)}),onBeforeUnmount(()=>{document.removeEventListener("click",j)});const Z=inject("themeColor");return(z,H)=>(openBlock(),createElementBlock("div",_hoisted_1$5,[createBaseVNode("div",{class:"rows-input__wrapper",onClick:H[0]||(H[0]=Y=>a.value=!a.value)},[createBaseVNode("div",_hoisted_2$4,toDisplayString(unref(d)),1),_hoisted_3$3]),createBaseVNode("ul",{class:normalizeClass(["select-items",{show:a.value,inside:o.value}])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rowsItems,Y=>(openBlock(),createElementBlock("li",{key:Y,class:normalizeClass({selected:Y===unref(d)}),onClick:I=>n(Y)},toDisplayString(Y),11,_hoisted_4$3))),128))],2)]))}});var RowsSelector=_export_sfc(_sfc_main$5,[["__scopeId","data-v-4ca5de3a"]]);const _withScopeId$2=e=>(pushScopeId("data-v-1fa3a520"),e=e(),popScopeId(),e),_hoisted_1$4={class:"lds-ring"},_hoisted_2$3=_withScopeId$2(()=>createBaseVNode("div",null,null,-1)),_hoisted_3$2=_withScopeId$2(()=>createBaseVNode("div",null,null,-1)),_hoisted_4$2=_withScopeId$2(()=>createBaseVNode("div",null,null,-1)),_hoisted_5$1=_withScopeId$2(()=>createBaseVNode("div",null,null,-1)),_hoisted_6$1=[_hoisted_2$3,_hoisted_3$2,_hoisted_4$2,_hoisted_5$1],_sfc_main$4=defineComponent({__name:"Loading",setup(e){useCssVars(i=>({26774109:unref(t)}));const t=inject("themeColor");return(i,a)=>(openBlock(),createElementBlock("div",_hoisted_1$4,_hoisted_6$1))}});var Loading=_export_sfc(_sfc_main$4,[["__scopeId","data-v-1fa3a520"]]);const _hoisted_1$3={class:"loader-line"},_sfc_main$3=defineComponent({__name:"LoadingLine",setup(e){useCssVars(i=>({"0d327f57":unref(t)}));const t=inject("themeColor");return(i,a)=>(openBlock(),createElementBlock("div",_hoisted_1$3))}});var LoadingLine=_export_sfc(_sfc_main$3,[["__scopeId","data-v-7d281cac"]]);const _hoisted_1$2={class:"buttons-pagination"},_hoisted_2$2=["onClick"],_sfc_main$2=defineComponent({__name:"ButtonsPagination",props:{maxPaginationNumber:{type:Number,required:!0},currentPaginationNumber:{type:Number,required:!0}},emits:["updatePage"],setup(e,{emit:t}){const i=e;useCssVars(n=>({"40dd4f07":unref(d)}));const a=7,o=n=>{n.type==="button"&&!n.active&&t("updatePage",n.page)},u=computed(()=>{const n=[];if(i.maxPaginationNumber<=a)for(let k=1;k<=i.maxPaginationNumber;k+=1)n.push({type:"button",page:k,active:k===i.currentPaginationNumber,activePrev:k+1===i.currentPaginationNumber});else if([1,2,i.maxPaginationNumber,i.maxPaginationNumber-1].includes(i.currentPaginationNumber))for(let k=1;k<=a;k+=1)if(k<=3)n.push({type:"button",page:k,active:k===i.currentPaginationNumber,activePrev:k+1===i.currentPaginationNumber});else if(k===4)n.push({type:"omission"});else{const j=i.maxPaginationNumber-(a-k);n.push({type:"button",page:j,active:j===i.currentPaginationNumber,activePrev:j+1===i.currentPaginationNumber})}else if([3,4].includes(i.currentPaginationNumber))for(let k=1;k<=a;k+=1)k<=5?n.push({type:"button",page:k,active:k===i.currentPaginationNumber,activePrev:k+1===i.currentPaginationNumber}):k===6?n.push({type:"omission"}):n.push({type:"button",page:i.maxPaginationNumber,active:i.maxPaginationNumber===i.currentPaginationNumber,activePrev:k+1===i.currentPaginationNumber});else if([i.maxPaginationNumber-2,i.maxPaginationNumber-3].includes(i.currentPaginationNumber))for(let k=1;k<=a;k+=1)if(k===1)n.push({type:"button",page:1,active:i.currentPaginationNumber===1,activePrev:k+1===i.currentPaginationNumber});else if(k===2)n.push({type:"omission"});else{const j=i.maxPaginationNumber-(a-k);n.push({type:"button",page:j,active:j===i.currentPaginationNumber,activePrev:j+1===i.currentPaginationNumber})}else for(let k=1;k<=a;k+=1)if(k===1)n.push({type:"button",page:1,active:i.currentPaginationNumber===1,activePrev:k+1===i.currentPaginationNumber});else if(k===2||k===6)n.push({type:"omission"});else if(k===7)n.push({type:"button",page:i.maxPaginationNumber,active:i.maxPaginationNumber===i.currentPaginationNumber,activePrev:k+1===i.currentPaginationNumber});else{const j=4-k,Z=i.currentPaginationNumber-j;n.push({type:"button",page:Z,active:Z===i.currentPaginationNumber,activePrev:Z+1===i.currentPaginationNumber})}return n}),d=inject("themeColor");return(n,k)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(u),(j,Z)=>(openBlock(),createElementBlock("div",{key:Z,class:normalizeClass(["item",{button:j.type==="button",active:j.type==="button"&&j.active,"active-prev":j.type==="button"&&j.activePrev,omission:j.type==="omission"}]),onClick:z=>o(j)},toDisplayString(j.type==="button"?j.page:"..."),11,_hoisted_2$2))),128))]))}});var ButtonsPagination=_export_sfc(_sfc_main$2,[["__scopeId","data-v-4c681fa2"]]);const _withScopeId$1=e=>(pushScopeId("data-v-c9da5286"),e=e(),popScopeId(),e),_hoisted_1$1=_withScopeId$1(()=>createBaseVNode("span",{class:"arrow arrow-right"},null,-1)),_hoisted_2$1=[_hoisted_1$1],_hoisted_3$1=_withScopeId$1(()=>createBaseVNode("span",{class:"arrow arrow-left"},null,-1)),_hoisted_4$1=[_hoisted_3$1],_sfc_main$1=defineComponent({__name:"PaginationArrows",props:{isFirstPage:{type:Boolean,required:!1},isLastPage:{type:Boolean,required:!1}},emits:["clickPrevPage","clickNextPage"],setup(e,{emit:t}){const i=useSlots();return(a,o)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{class:normalizeClass(["previous-page__click-button",{"first-page":e.isFirstPage}]),onClick:o[0]||(o[0]=u=>t("clickPrevPage"))},_hoisted_2$1,2),unref(i).buttonsPagination?renderSlot(a.$slots,"buttonsPagination",{key:0},void 0,!0):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["next-page__click-button",{"last-page":e.isLastPage}]),onClick:o[1]||(o[1]=u=>t("clickNextPage"))},_hoisted_4$1,2)],64))}});var PaginationArrows=_export_sfc(_sfc_main$1,[["__scopeId","data-v-c9da5286"]]);function useClickRow(e,t,i,a){return{clickRow:(u,d,n)=>{if(e.value!==d)return;const k=__spreadValues({},u);if(t.value){const{checkbox:j}=u;delete k.checkbox,k.isSelected=j}if(i.value){const{index:j}=u;delete k.index,k.indexInCurrentPage=j}a("clickRow",k,n)}}}function useExpandableRow(e,t,i){const a=ref([]);return{expandingItemIndexList:a,updateExpandingItemIndexList:(d,n,k)=>{k.stopPropagation();const j=a.value.indexOf(d);if(j!==-1)a.value.splice(j,1);else{const Z=e.value.findIndex(z=>JSON.stringify(z)===JSON.stringify(n));i("expandRow",t.value+Z,n),a.value.push(t.value+Z)}},clearExpandingItemIndexList:()=>{a.value=[]}}}function useFixedColumn(e){const t=computed(()=>e.value.filter(o=>o.fixed)),i=computed(()=>t.value.length?t.value[t.value.length-1].value:""),a=computed(()=>{if(!t.value.length)return[];const o=t.value.map(u=>{var d;return(d=u.width)!=null?d:100});return t.value.map((u,d)=>{var n,k;return{value:u.value,fixed:(n=u.fixed)!=null?n:!0,width:(k=u.width)!=null?k:100,distance:d===0?0:o.reduce((j,Z,z)=>{let H=j;return z<d&&(H+=Z),H})}})});return{fixedHeaders:t,lastFixedColumn:i,fixedColumnsInfos:a}}function useHeaders(e,t,i,a,o,u,d,n,k,j,Z,z,H,Y,I,B,U,T,C){const P=computed(()=>d.value.findIndex(A=>A.fixed)!==-1),G=computed(()=>P.value?d.value.filter(A=>A.fixed):[]),q=computed(()=>d.value.filter(A=>!A.fixed)),ne=ref(((A,m)=>Array.isArray(A)&&Array.isArray(m)?{sortBy:A,sortDesc:m.map(y=>y==="desc")}:A!==""?{sortBy:I.value,sortDesc:B.value==="desc"}:null)(I.value,B.value)),K=computed(()=>{var A;const y=[...G.value,...q.value].map(re=>{const ee=Object.assign(re);if(ee.sortable&&(ee.sortType="none"),H.value)if(Array.isArray(H.value.sortBy)&&Array.isArray(H.value.sortType)&&H.value.sortBy.includes(ee.value)){const he=H.value.sortBy.indexOf(ee.value);ee.sortType=H.value.sortType[he]}else ee.value===H.value.sortBy&&H.value.sortType&&(ee.sortType=H.value.sortType);if(ne.value&&Array.isArray(ne.value.sortBy)&&Array.isArray(ne.value.sortDesc)&&ne.value.sortBy.includes(ee.value)){const he=ne.value.sortBy.indexOf(ee.value);ee.sortType=ne.value.sortDesc[he]?"desc":"asc"}else ne.value&&ee.value===ne.value.sortBy&&(ee.sortType=ne.value.sortDesc?"desc":"asc");return ee});let x=[];n.value?x=[o.value||P.value?{text:"",value:"expand",fixed:!0,width:i.value}:{text:"",value:"expand"},...y]:x=y;let M=[];Y.value?M=[u.value||P.value?{text:e.value,value:"index",fixed:!0,width:k.value}:{text:e.value,value:"index"},...x]:M=x;let X=[];return j.value?X=[a.value||P.value?{text:"checkbox",value:"checkbox",fixed:!0,width:(A=t.value)!=null?A:36}:{text:"checkbox",value:"checkbox"},...M]:X=M,X}),L=computed(()=>K.value.map(A=>A.value));return{clientSortOptions:ne,headerColumns:L,headersForRender:K,updateSortField:(A,m)=>{let y=null;if(m==="none"?y="asc":m==="asc"?y="desc":y=z.value?"asc":null,Z.value&&T(A,y),ne.value&&Array.isArray(ne.value.sortBy)&&Array.isArray(ne.value.sortDesc)){const x=ne.value.sortBy.indexOf(A);x===-1?y!==null&&(ne.value.sortBy.push(A),ne.value.sortDesc.push(y==="desc")):y===null?(ne.value.sortDesc.splice(x,1),ne.value.sortBy.splice(x,1)):ne.value.sortDesc[x]=y==="desc"}else y===null?ne.value=null:ne.value={sortBy:A,sortDesc:y==="desc"};C("updateSort",{sortType:y,sortBy:A})},isMultiSorting:A=>H.value&&Array.isArray(H.value.sortBy)?H.value.sortBy.includes(A):ne.value&&Array.isArray(ne.value.sortBy)?ne.value.sortBy.includes(A):!1,getMultiSortNumber:A=>H.value&&Array.isArray(H.value.sortBy)?H.value.sortBy.indexOf(A)+1:ne.value&&Array.isArray(ne.value.sortBy)?ne.value.sortBy.indexOf(A)+1:!1}}function usePageItems(e,t,i,a,o,u,d,n,k){const j=computed(()=>(e.value-1)*o.value+1),Z=computed(()=>i.value?Math.min(k.value,e.value*o.value):Math.min(n.value.length,e.value*o.value)),z=computed(()=>i.value?a.value:n.value.slice(j.value-1,Z.value)),H=computed(()=>d.value?z.value.map((B,U)=>__spreadValues({index:j.value+U},B)):z.value),Y=computed(()=>u.value.length===0||u.value.every(U=>n.value.findIndex(T=>JSON.stringify(U)===JSON.stringify(T))===-1)?"noneSelected":u.value.length===n.value.length&&u.value.every(T=>n.value.findIndex(C=>JSON.stringify(T)===JSON.stringify(C))!==-1)?"allSelected":"partSelected"),I=computed(()=>t.value?Y.value==="allSelected"?H.value.map(B=>__spreadValues({checkbox:!0},B)):Y.value==="noneSelected"?H.value.map(B=>__spreadValues({checkbox:!1},B)):H.value.map(B=>{const U=u.value.findIndex(T=>{const C=__spreadValues({},B);return delete C.index,JSON.stringify(T)===JSON.stringify(C)})!==-1;return __spreadValues({checkbox:U},B)}):H.value);return{currentPageFirstIndex:j,currentPageLastIndex:Z,multipleSelectStatus:Y,pageItems:I}}function usePagination(e,t,i,a,o,u,d){const n=ref(u.value?u.value.page:e.value),k=computed(()=>Math.ceil(a.value/o.value)),j=computed(()=>k.value===0||n.value===k.value),Z=computed(()=>n.value===1);return{currentPaginationNumber:n,maxPaginationNumber:k,isLastPage:j,isFirstPage:Z,nextPage:()=>{if(a.value!==0&&!j.value&&!i.value)if(t.value){const B=n.value+1;d(B)}else n.value+=1},prevPage:()=>{if(a.value!==0&&!Z.value&&!i.value)if(t.value){const B=n.value-1;d(B)}else n.value-=1},updatePage:B=>{i.value||(t.value?d(B):n.value=B)},updateCurrentPaginationNumber:B=>{n.value=B}}}function useRows(e,t,i,a){const o=computed(()=>!e.value&&t.value.findIndex(n=>n===a.value)===-1?[a.value,...t.value]:t.value),u=ref(i.value?i.value.rowsPerPage:a.value);return{rowsItemsComputed:o,rowsPerPageRef:u,updateRowsPerPage:n=>{u.value=n}}}function useServerOptions(e,t,i){const a=computed({get:()=>{if(e.value){const{page:n,rowsPerPage:k,sortBy:j,sortType:Z}=e.value;return{page:n,rowsPerPage:k,sortBy:j??null,sortType:Z??null}}return null},set:n=>{i("update:serverOptions",n)}});return{serverOptionsComputed:a,updateServerOptionsPage:n=>{a.value&&(a.value=__spreadProps(__spreadValues({},a.value),{page:n}))},updateServerOptionsSort:(n,k)=>{if(a.value)if(t.value&&Array.isArray(a.value.sortBy)&&Array.isArray(a.value.sortType)){const j=a.value.sortBy.findIndex(Z=>Z===n);j===-1&&k!==null&&(a.value.sortBy.push(n),a.value.sortType.push(k)),k===null?(a.value.sortBy.splice(j,1),a.value.sortType.splice(j,1)):a.value.sortType[j]=k}else a.value=__spreadProps(__spreadValues({},a.value),{sortBy:k!==null?n:null,sortType:k})},updateServerOptionsRowsPerPage:n=>{a.value&&(a.value=__spreadProps(__spreadValues({},a.value),{page:1,rowsPerPage:n}))}}}function getItemValue(e,t){var i;if(e.includes(".")){const a=e.split("."),{length:o}=a;let u,d=0;for(;d<o;){if(d===0)u=t[a[0]];else if(u&&typeof u=="object")u=u[a[d]];else{u="";break}d+=1}return u??""}return(i=t[e])!=null?i:""}function generateColumnContent(e,t){const i=getItemValue(e,t);return Array.isArray(i)?i.join(","):i}function useTotalItems(e,t,i,a,o,u,d,n,k,j){const Z=P=>{if(typeof u.value=="string"&&u.value!=="")return getItemValue(u.value,P);if(Array.isArray(u.value)){let G="";return u.value.forEach(q=>{G+=getItemValue(q,P)}),G}return Object.values(P).join(" ")},z=computed(()=>{if(!i.value&&d.value!==""){const P=new RegExp(d.value,"i");return a.value.filter(G=>P.test(Z(G)))}return a.value}),H=computed(()=>{let P=[...z.value];return t.value?(t.value.forEach(G=>{P=P.filter(q=>{const{field:N,comparison:ne,criteria:K}=G;if(typeof ne=="function")return ne(getItemValue(N,q),K);const L=getItemValue(N,q);switch(ne){case"=":return L===K;case"!=":return L!==K;case">":return L>K;case"<":return L<K;case"<=":return L<=K;case">=":return L>=K;case"between":return L>=Math.min(...K)&&L<=Math.max(...K);case"in":return K.includes(L);default:return L===K}})}),P):z.value});watch(H,P=>{t.value&&j("updateFilter",P)},{immediate:!0,deep:!0});function Y(P,G,q,N){const ne=P[N],K=G[N];return(N===0?q:Y(P,G,q,N-1)).sort((E,w)=>{let g=!0;for(let A=0;A<N;A+=1)if(getItemValue(P[A],E)!==getItemValue(P[A],w)){g=!1;break}return g?getItemValue(ne,E)<getItemValue(ne,w)?K?1:-1:getItemValue(ne,E)>getItemValue(ne,w)?K?-1:1:0:0})}const I=computed(()=>{if(i.value)return a.value;if(e.value===null)return H.value;const{sortBy:P,sortDesc:G}=e.value,q=[...H.value];return k&&Array.isArray(P)&&Array.isArray(G)?P.length===0?q:Y(P,G,q,P.length-1):q.sort((N,ne)=>getItemValue(P,N)<getItemValue(P,ne)?G?1:-1:getItemValue(P,N)>getItemValue(P,ne)?G?-1:1:0)}),B=computed(()=>i.value?n.value:I.value.length),U=computed({get:()=>{var P;return(P=o.value)!=null?P:[]},set:P=>{j("update:itemsSelected",P)}});return{totalItems:I,selectItemsComputed:U,totalItemsLength:B,toggleSelectAll:P=>{U.value=P?I.value:[],P&&j("selectAll")},toggleSelectItem:P=>{const G=P.checkbox;if(delete P.checkbox,delete P.index,G)U.value=U.value.filter(q=>JSON.stringify(q)!==JSON.stringify(P)),j("deselectRow",P);else{const q=U.value;q.unshift(P),U.value=q,j("selectRow",P)}}}}var propsWithDefault={alternating:{type:Boolean,default:!1},buttonsPagination:{type:Boolean,default:!1},checkboxColumnWidth:{type:Number,default:null},currentPage:{type:Number,default:1},emptyMessage:{type:String,default:"No Available Data"},expandColumnWidth:{type:Number,default:36},filterOptions:{type:Array,default:null},fixedExpand:{type:Boolean,default:!1},fixedHeader:{type:Boolean,default:!0},fixedCheckbox:{type:Boolean,default:!1},fixedIndex:{type:Boolean,default:!1},headerTextDirection:{type:String,default:"left"},bodyTextDirection:{type:String,default:"left"},hideFooter:{type:Boolean,default:!1},hideRowsPerPage:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},indexColumnWidth:{type:Number,default:60},itemsSelected:{type:Array,default:null},loading:{type:Boolean,default:!1},rowsPerPage:{type:Number,default:25},rowsItems:{type:Array,default:()=>[25,50,100]},rowsPerPageMessage:{type:String,default:"rows per page:"},searchField:{type:[String,Array],default:""},searchValue:{type:String,default:""},serverOptions:{type:Object,default:null},serverItemsLength:{type:Number,default:0},showIndex:{type:Boolean,default:!1},sortBy:{type:[String,Array],default:""},sortType:{type:[String,Array],default:"asc"},multiSort:{type:Boolean,default:!1},tableMinHeight:{type:Number,default:180},tableHeight:{type:Number,default:null},themeColor:{type:String,default:"#42b883"},tableClassName:{type:String,default:""},headerClassName:{type:String,default:""},headerItemClassName:{type:[Function,String],default:""},bodyRowClassName:{type:[Function,String],default:""},bodyExpandRowClassName:{type:[Function,String],default:""},bodyItemClassName:{type:[Function,String],default:""},noHover:{type:Boolean,default:!1},borderCell:{type:Boolean,default:!1},mustSort:{type:Boolean,default:!1},rowsOfPageSeparatorMessage:{type:String,default:"of"},clickEventType:{type:String,default:"single"},clickRowToExpand:{type:Boolean,default:!1},tableNodeId:{type:String,default:""},showIndexSymbol:{type:String,default:"#"},preventContextMenuRow:{type:Boolean,default:!0}};const _withScopeId=e=>(pushScopeId("data-v-32683533"),e=e(),popScopeId(),e),_hoisted_1$8=["id"],_hoisted_2$7=["onClick"],_hoisted_3$5={key:3,class:"header-text"},_hoisted_4$4={key:5,class:"multi-sort__number"},_hoisted_5=["onClick","onDblclick","onContextmenu"],_hoisted_6=["onClick"],_hoisted_7=["colspan"],_hoisted_8={key:0,class:"vue3-easy-data-table__loading"},_hoisted_9=_withScopeId(()=>createBaseVNode("div",{class:"vue3-easy-data-table__loading-mask"},null,-1)),_hoisted_10={class:"loading-entity"},_hoisted_11={key:1,class:"vue3-easy-data-table__message"},_hoisted_12={key:0,class:"vue3-easy-data-table__footer"},_hoisted_13={key:0,class:"pagination__rows-per-page"},_hoisted_14={class:"pagination__items-index"},_sfc_main$8=defineComponent({__name:"DataTable",props:__spreadProps(__spreadValues({},propsWithDefault),{items:{type:Array,required:!0},headers:{type:Array,required:!0}}),emits:["clickRow","contextmenuRow","selectRow","deselectRow","expandRow","updateSort","updateFilter","update:itemsSelected","update:serverOptions","updatePageItems","updateTotalItems","selectAll"],setup(e,{expose:t,emit:i}){const a=e;useCssVars(Tt=>({da0d4328:unref(Ce),"3037e504":unref(ye)}));const{tableNodeId:o,clickEventType:u,bodyTextDirection:d,checkboxColumnWidth:n,currentPage:k,expandColumnWidth:j,filterOptions:Z,fixedCheckbox:z,fixedExpand:H,fixedHeader:Y,fixedIndex:I,headers:B,headerTextDirection:U,indexColumnWidth:T,items:C,itemsSelected:P,loading:G,mustSort:q,multiSort:N,rowsItems:ne,rowsPerPage:K,searchField:L,searchValue:E,serverItemsLength:w,serverOptions:g,showIndex:A,sortBy:m,sortType:y,tableHeight:x,tableMinHeight:M,themeColor:X,rowsOfPageSeparatorMessage:re,showIndexSymbol:ee,preventContextMenuRow:he}=toRefs(a),ye=computed(()=>x.value?`${x.value}px`:null),Ce=computed(()=>`${M.value}px`);provide("themeColor",X.value);const oe=useSlots(),de=computed(()=>!!oe.pagination),fe=computed(()=>!!oe.loading),ue=computed(()=>!!oe.expand),pe=computed(()=>!!oe.body),te=ref(),ge=ref();provide("dataTable",te);const xe=ref(!1);onMounted(()=>{ge.value.addEventListener("scroll",()=>{xe.value=ge.value.scrollLeft>0})});const ce=computed(()=>P.value!==null),we=computed(()=>g.value!==null),{serverOptionsComputed:Ae,updateServerOptionsPage:Fe,updateServerOptionsSort:De,updateServerOptionsRowsPerPage:Ge}=useServerOptions(g,N,i),{clientSortOptions:ct,headerColumns:ot,headersForRender:Qe,updateSortField:Ie,isMultiSorting:Ue,getMultiSortNumber:He}=useHeaders(ee,n,j,z,H,I,B,ue,T,ce,we,q,Ae,A,m,y,N,De,i),{rowsItemsComputed:it,rowsPerPageRef:Je,updateRowsPerPage:st}=useRows(we,ne,g,K),{totalItems:ht,selectItemsComputed:Ke,totalItemsLength:At,toggleSelectAll:Et,toggleSelectItem:Wt}=useTotalItems(ct,Z,we,C,P,L,E,w,N,i),{currentPaginationNumber:fi,maxPaginationNumber:ei,isLastPage:hi,isFirstPage:vi,nextPage:zi,prevPage:Ji,updatePage:cr,updateCurrentPaginationNumber:Yr}=usePagination(k,we,G,At,Je,g,Fe),{currentPageFirstIndex:Cr,currentPageLastIndex:jr,multipleSelectStatus:or,pageItems:Sn}=usePageItems(fi,ce,we,C,Je,Ke,A,ht,At),Nn=computed(()=>fi.value===0?0:(fi.value-1)*Je.value),{expandingItemIndexList:fn,updateExpandingItemIndexList:Oa,clearExpandingItemIndexList:Ln}=useExpandableRow(Sn,Nn,i),{fixedHeaders:Ba,lastFixedColumn:go,fixedColumnsInfos:wt}=useFixedColumn(Qe),{clickRow:We}=useClickRow(u,ce,A,i),nt=(Tt,Zt)=>{he.value&&Zt.preventDefault(),i("contextmenuRow",Tt,Zt)},St=Tt=>{var Zt;const Lt=(Zt=Tt.width)!=null?Zt:Ba.value.length?100:null;if(Lt)return`width: ${Lt}px; min-width: ${Lt}px;`},It=(Tt,Zt="th")=>{if(!Ba.value.length)return;const Lt=wt.value.find(Bt=>Bt.value===Tt);if(Lt)return`left: ${Lt.distance}px;z-index: ${Zt==="th"?3:1};position: sticky;`};return watch(G,(Tt,Zt)=>{Ae.value&&Tt===!1&&Zt===!0&&(Yr(Ae.value.page),Ln())}),watch(Je,Tt=>{we.value?Ge(Tt):cr(1)}),watch([E,Z],()=>{we.value||cr(1)}),watch([fi,ct,L,E,Z],()=>{Ln()},{deep:!0}),watch(Sn,Tt=>{i("updatePageItems",Tt)},{deep:!0}),watch(ht,Tt=>{i("updateTotalItems",Tt)},{deep:!0}),t({currentPageFirstIndex:Cr,currentPageLastIndex:jr,clientItemsLength:At,maxPaginationNumber:ei,currentPaginationNumber:fi,isLastPage:hi,isFirstPage:vi,nextPage:zi,prevPage:Ji,updatePage:cr,rowsPerPageOptions:it,rowsPerPageActiveOption:Je,updateRowsPerPageActiveOption:st}),(Tt,Zt)=>(openBlock(),createElementBlock("div",{ref_key:"dataTable",ref:te,class:normalizeClass(["vue3-easy-data-table",[Tt.tableClassName]])},[createBaseVNode("div",{ref_key:"tableBody",ref:ge,class:normalizeClass(["vue3-easy-data-table__main",{"fixed-header":unref(Y),"fixed-height":unref(x),"show-shadow":xe.value,"table-fixed":unref(Ba).length,hoverable:!Tt.noHover,"border-cell":Tt.borderCell}])},[createBaseVNode("table",{id:unref(o)},[createBaseVNode("colgroup",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Qe),(Lt,Bt)=>(openBlock(),createElementBlock("col",{key:Bt,style:normalizeStyle(St(Lt))},null,4))),128))]),unref(oe)["customize-headers"]?renderSlot(Tt.$slots,"customize-headers",{key:0},void 0,!0):unref(Qe).length&&!Tt.hideHeader?(openBlock(),createElementBlock("thead",{key:1,class:normalizeClass(["vue3-easy-data-table__header",[Tt.headerClassName]])},[createBaseVNode("tr",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Qe),(Lt,Bt)=>(openBlock(),createElementBlock("th",{key:Bt,class:normalizeClass([{sortable:Lt.sortable,none:Lt.sortable&&Lt.sortType==="none",desc:Lt.sortable&&Lt.sortType==="desc",asc:Lt.sortable&&Lt.sortType==="asc",shadow:Lt.value===unref(go)},typeof Tt.headerItemClassName=="string"?Tt.headerItemClassName:Tt.headerItemClassName(Lt,Bt+1)]),style:normalizeStyle(It(Lt.value)),onClick:withModifiers(Ze=>Lt.sortable&&Lt.sortType?unref(Ie)(Lt.value,Lt.sortType):null,["stop"])},[Lt.text==="checkbox"?(openBlock(),createBlock(MultipleSelectCheckBox,{key:unref(or),status:unref(or),onChange:unref(Et)},null,8,["status","onChange"])):(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(["header",`direction-${unref(U)}`])},[unref(oe)[`header-${Lt.value}`]?renderSlot(Tt.$slots,`header-${Lt.value}`,normalizeProps(mergeProps({key:0},Lt)),void 0,!0):unref(oe)[`header-${Lt.value.toLowerCase()}`]?renderSlot(Tt.$slots,`header-${Lt.value.toLowerCase()}`,normalizeProps(mergeProps({key:1},Lt)),void 0,!0):unref(oe).header?renderSlot(Tt.$slots,"header",normalizeProps(mergeProps({key:2},Lt)),void 0,!0):(openBlock(),createElementBlock("span",_hoisted_3$5,toDisplayString(Lt.text),1)),Lt.sortable?(openBlock(),createElementBlock("i",{key:Lt.sortType?Lt.sortType:"none",class:normalizeClass(["sortType-icon",{desc:Lt.sortType==="desc"}])},null,2)):createCommentVNode("",!0),unref(N)&&unref(Ue)(Lt.value)?(openBlock(),createElementBlock("span",_hoisted_4$4,toDisplayString(unref(He)(Lt.value)),1)):createCommentVNode("",!0)],2))],14,_hoisted_2$7))),128))])],2)):createCommentVNode("",!0),unref(pe)?renderSlot(Tt.$slots,"body",normalizeProps(mergeProps({key:2},unref(Sn))),void 0,!0):unref(ot).length?(openBlock(),createElementBlock("tbody",{key:3,class:normalizeClass(["vue3-easy-data-table__body",{"row-alternation":Tt.alternating}])},[renderSlot(Tt.$slots,"body-prepend",normalizeProps(guardReactiveProps({items:unref(Sn),pagination:{isFirstPage:unref(vi),isLastPage:unref(hi),currentPaginationNumber:unref(fi),maxPaginationNumber:unref(ei),nextPage:unref(zi),prevPage:unref(Ji)},headers:unref(Qe)})),void 0,!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Sn),(Lt,Bt)=>(openBlock(),createElementBlock(Fragment,{key:Bt},[createBaseVNode("tr",{class:normalizeClass([{"even-row":(Bt+1)%2===0},typeof Tt.bodyRowClassName=="string"?Tt.bodyRowClassName:Tt.bodyRowClassName(Lt,Bt+1)]),onClick:Ze=>{unref(We)(Lt,"single",Ze),Tt.clickRowToExpand&&unref(Oa)(Bt+unref(Nn),Lt,Ze)},onDblclick:Ze=>{unref(We)(Lt,"double",Ze)},onContextmenu:Ze=>{nt(Lt,Ze)}},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(ot),(Ze,Vt)=>(openBlock(),createElementBlock("td",{key:Vt,style:normalizeStyle(It(Ze,"td")),class:normalizeClass([{shadow:Ze===unref(go),"can-expand":Ze==="expand"},typeof Tt.bodyItemClassName=="string"?Tt.bodyItemClassName:Tt.bodyItemClassName(Ze,Bt+1),`direction-${unref(d)}`]),onClick:ri=>Ze==="expand"?unref(Oa)(Bt+unref(Nn),Lt,ri):null},[unref(oe)[`item-${Ze}`]?renderSlot(Tt.$slots,`item-${Ze}`,normalizeProps(mergeProps({key:0},Lt)),void 0,!0):unref(oe)[`item-${Ze.toLowerCase()}`]?renderSlot(Tt.$slots,`item-${Ze.toLowerCase()}`,normalizeProps(mergeProps({key:1},Lt)),void 0,!0):Ze==="expand"?(openBlock(),createElementBlock("i",{key:2,class:normalizeClass(["expand-icon",{expanding:unref(fn).includes(unref(Nn)+Bt)}])},null,2)):Ze==="checkbox"?(openBlock(),createBlock(SingleSelectCheckBox,{key:3,checked:Lt[Ze],onChange:ri=>unref(Wt)(Lt)},null,8,["checked","onChange"])):unref(oe).item?renderSlot(Tt.$slots,"item",normalizeProps(mergeProps({key:4},{column:Ze,item:Lt})),void 0,!0):(openBlock(),createElementBlock(Fragment,{key:5},[createTextVNode(toDisplayString(unref(generateColumnContent)(Ze,Lt)),1)],64))],14,_hoisted_6))),128))],42,_hoisted_5),unref(ue)&&unref(fn).includes(Bt+unref(Nn))?(openBlock(),createElementBlock("tr",{key:0,class:normalizeClass([{"even-row":(Bt+1)%2===0},typeof Tt.bodyExpandRowClassName=="string"?Tt.bodyExpandRowClassName:Tt.bodyExpandRowClassName(Lt,Bt+1)])},[createBaseVNode("td",{colspan:unref(Qe).length,class:"expand"},[Lt.expandLoading?(openBlock(),createBlock(LoadingLine,{key:0,class:"expand-loading"})):createCommentVNode("",!0),renderSlot(Tt.$slots,"expand",normalizeProps(guardReactiveProps(Lt)),void 0,!0)],8,_hoisted_7)],2)):createCommentVNode("",!0)],64))),128)),renderSlot(Tt.$slots,"body-append",normalizeProps(guardReactiveProps({items:unref(Sn),pagination:{isFirstPage:unref(vi),isLastPage:unref(hi),currentPaginationNumber:unref(fi),maxPaginationNumber:unref(ei),nextPage:unref(zi),prevPage:unref(Ji),updatePage:unref(cr)},headers:unref(Qe)})),void 0,!0)],2)):createCommentVNode("",!0)],8,_hoisted_1$8),unref(G)?(openBlock(),createElementBlock("div",_hoisted_8,[_hoisted_9,createBaseVNode("div",_hoisted_10,[unref(fe)?renderSlot(Tt.$slots,"loading",{key:0},void 0,!0):(openBlock(),createBlock(Loading,{key:1}))])])):createCommentVNode("",!0),!unref(Sn).length&&!unref(G)?(openBlock(),createElementBlock("div",_hoisted_11,[renderSlot(Tt.$slots,"empty-message",{},()=>[createTextVNode(toDisplayString(Tt.emptyMessage),1)],!0)])):createCommentVNode("",!0)],2),Tt.hideFooter?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_12,[Tt.hideRowsPerPage?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_13,[createTextVNode(toDisplayString(Tt.rowsPerPageMessage)+" ",1),createVNode(RowsSelector,{modelValue:unref(Je),"onUpdate:modelValue":Zt[0]||(Zt[0]=Lt=>isRef(Je)?Je.value=Lt:null),"rows-items":unref(it)},null,8,["modelValue","rows-items"])])),createBaseVNode("div",_hoisted_14,toDisplayString(`${unref(Cr)}–${unref(jr)}`)+" "+toDisplayString(unref(re))+" "+toDisplayString(unref(At)),1),unref(de)?renderSlot(Tt.$slots,"pagination",normalizeProps(mergeProps({key:1},{isFirstPage:unref(vi),isLastPage:unref(hi),currentPaginationNumber:unref(fi),maxPaginationNumber:unref(ei),nextPage:unref(zi),prevPage:unref(Ji)})),void 0,!0):(openBlock(),createBlock(PaginationArrows,{key:2,"is-first-page":unref(vi),"is-last-page":unref(hi),onClickNextPage:unref(zi),onClickPrevPage:unref(Ji)},createSlots({_:2},[Tt.buttonsPagination?{name:"buttonsPagination",fn:withCtx(()=>[createVNode(ButtonsPagination,{"current-pagination-number":unref(fi),"max-pagination-number":unref(ei),onUpdatePage:unref(cr)},null,8,["current-pagination-number","max-pagination-number","onUpdatePage"])]),key:"0"}:void 0]),1032,["is-first-page","is-last-page","onClickNextPage","onClickPrevPage"]))]))],2))}});var DataTable=_export_sfc(_sfc_main$8,[["__scopeId","data-v-32683533"]]);typeof window<"u"&&window.Vue&&window.Vue.createApp({}).component("Vue3EasyDataTable",DataTable);const style="",_sfc_main={components:{EasyDataTable:DataTable},props:{columns:{type:Array,default:[]},url:String,title:String},data(){return{items:[],loading:!1,length:0,headers:[],filters:{},options:{page:1,rowsPerPage:25,sortBy:"terminal_date",sortType:"desc"}}},mounted(){this.buildHeaders(this.columns)},watch:{options:{handler:function(e,t){this.load()},deep:!0},columns:{handler:function(e,t){this.buildHeaders(e)},deep:!0}},methods:{async load(){this.loading=!0;let e=await axios.get(this.url,{params:this.filters}).then(t=>t.data);e.error||(this.items=e.data),this.page=e.meta.page,this.length=e.meta.length,this.rowsPerPage=e.meta.per_page,this.loading=!1},buildHeaders(e){let t=this;e.forEach(i=>{t.headers.push({text:i.text,value:i.data,sortable:i.is_ams})})}}},_hoisted_1={class:"row"},_hoisted_2={class:"col-12"},_hoisted_3={class:"table-title"},_hoisted_4={class:"col-12 mt-3"};function _sfc_render(e,t,i,a,o,u){const d=resolveComponent("EasyDataTable");return openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createBaseVNode("h6",null,toDisplayString(i.title),1)])]),createBaseVNode("div",_hoisted_4,[createVNode(d,{"server-options":o.options,"onUpdate:server-options":t[0]||(t[0]=n=>o.options=n),"server-items-length":o.length,loading:o.loading,headers:o.headers,items:o.items},null,8,["server-options","server-items-length","loading","headers","items"])])])}const datatable=_export_sfc$1(_sfc_main,[["render",_sfc_render]]),app=createApp({});app.use(Donut);app.use(VueSweetalert2);app.component("map-dashboard",MapDashboard);app.component("map-history",MapHistory);app.component("map-default",MapDefault);app.component("map-voyage",MapVoyage);app.component("map-bridge",MapBridge);app.component("slider-submenu",SliderSubMenu);app.component("charts-fuel",ChartFuel);app.component("charts-graph",ChartGraph);app.component("charts-spline",ChartSpline);app.component("date-range",DateRange);app.component("fleet-information",FleetInformation);app.component("fleet-side-info",SideInfo);app.component("fleet-cargo",FleetCargo);app.component("fleet-bunker",FleetBunker);app.component("fleet-ballast",FleetBallast);app.component("compass",Compass);app.component("engine-type-s",EngineTypeS);app.component("user-permission",UserPermission);app.component("user-fleets",UserFleet);app.component("table-editable",TableEditable);app.component("trend-view",TrendView);app.component("trend-live",TrendLive);app.component("sensor-info",SensorInfo);app.component("mimic-svg",MimicSvg);app.component("pdf-viewer",PDFViewer);app.component("data-info",DataInformation);app.component("map-pinned",MapPinned);app.component("fleet-mimic",fleetmimic);app.component("fleet-svg-upload",svgUpload);app.component("file-upload",fileUpload);app.component("datatable",datatable);app.config.globalProperties.$filters={dateformat(e,t="DD/MM/YYYY HH:mm"){return hooks(e,"YYYY-MM-DD HH:mm:ss").format(t)},str_limit(e,t=7){return e.toString().substring(0,t)},textFormat(e){return e.toLowerCase().capitalize()},number(e,t=2){let i=Number.parseFloat(e).toFixed(t);return Number.parseFloat(i).toLocaleString()}};app.mount("#app")});export default bg();
