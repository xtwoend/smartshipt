var HC=(e,i)=>()=>(i||e((i={exports:{}}).exports,i),i.exports);import"./tabler.esm-b79de5e6.js";import"./popper-528ebbd5.js";var pU=HC((_U,$y)=>{var Oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function om(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function PS(e){if(e.__esModule)return e;var i=e.default;if(typeof i=="function"){var a=function l(){if(this instanceof l){var h=[null];h.push.apply(h,arguments);var p=Function.bind.apply(i,h);return new p}return i.apply(this,arguments)};a.prototype=i.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(l){var h=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(a,l,h.get?h:{enumerable:!0,get:function(){return e[l]}})}),a}var Hy={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Hy.exports;(function(e,i){(function(){var a,l="4.17.21",h=200,p="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",y="Expected a function",s="Invalid `variable` option passed into `_.template`",b="__lodash_hash_undefined__",L=500,ee="__lodash_placeholder__",F=1,Z=2,ne=4,z=1,G=2,ae=1,B=2,P=4,V=8,W=16,R=32,se=64,S=128,X=256,I=512,$=30,K="...",q=800,J=16,C=1,A=2,O=3,Q=1/0,fe=9007199254740991,Te=17976931348623157e292,oe=0/0,Me=4294967295,We=Me-1,Qe=Me>>>1,ie=[["ary",S],["bind",ae],["bindKey",B],["curry",V],["curryRight",W],["flip",I],["partial",R],["partialRight",se],["rearg",X]],ce="[object Arguments]",pe="[object Array]",Ce="[object AsyncFunction]",Be="[object Boolean]",re="[object Date]",xe="[object DOMException]",_e="[object Error]",Y="[object Function]",de="[object GeneratorFunction]",me="[object Map]",ke="[object Number]",Ie="[object Null]",Ve="[object Object]",it="[object Promise]",tt="[object Proxy]",ht="[object RegExp]",Ee="[object Set]",De="[object String]",Fe="[object Symbol]",qe="[object Undefined]",He="[object WeakMap]",xt="[object WeakSet]",jt="[object ArrayBuffer]",Vt="[object DataView]",vi="[object Float32Array]",ri="[object Float64Array]",bi="[object Int8Array]",Gi="[object Int16Array]",ki="[object Int32Array]",Ni="[object Uint8Array]",Ai="[object Uint8ClampedArray]",Tn="[object Uint16Array]",In="[object Uint32Array]",Hn=/\b__p \+= '';/g,hs=/\b(__p \+=) '' \+/g,nr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,rr=/&(?:amp|lt|gt|quot|#39);/g,_r=/[&<>"']/g,Mc=RegExp(rr.source),Ac=RegExp(_r.source),Es=/<%-([\s\S]+?)%>/g,is=/<%([\s\S]+?)%>/g,Ls=/<%=([\s\S]+?)%>/g,Fa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kc=/^\w*$/,Na=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rt=/[\\^$.*+?()[\]{}|]/g,Le=RegExp(rt.source),Ne=/^\s+/,st=/\s/,ft=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Et=/\{\n\/\* \[wrapped with (.+)\] \*/,zt=/,? & /,Ot=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Mt=/[()=,{}\[\]\/\s]/,Ut=/\\(\\)?/g,hi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Li=/\w*$/,mi=/^[-+]0x[0-9a-f]+$/i,en=/^0b[01]+$/i,Xi=/^\[object .+?Constructor\]$/,Hi=/^0o[0-7]+$/i,sn=/^(?:0|[1-9]\d*)$/,xn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jn=/($^)/,tn=/['\n\r\u2028\u2029\\]/g,Xn="\\ud800-\\udfff",sr="\\u0300-\\u036f",wa="\\ufe20-\\ufe2f",Qo="\\u20d0-\\u20ff",ti=sr+wa+Qo,So="\\u2700-\\u27bf",$r="a-z\\xdf-\\xf6\\xf8-\\xff",ja="\\xac\\xb1\\xd7\\xf7",td="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",zo="\\u2000-\\u206f",Ua=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dh="A-Z\\xc0-\\xd6\\xd8-\\xde",ns="\\ufe0e\\ufe0f",Ci=ja+td+zo+Ua,bn="['’]",kn="["+Xn+"]",Bo="["+Ci+"]",Eo="["+ti+"]",Sn="\\d+",Va="["+So+"]",Ga="["+$r+"]",yl="[^"+Xn+Ci+Sn+So+$r+dh+"]",Cs="\\ud83c[\\udffb-\\udfff]",Bn="(?:"+Eo+"|"+Cs+")",uh="[^"+Xn+"]",rs="(?:\\ud83c[\\udde6-\\uddff]){2}",Pc="[\\ud800-\\udbff][\\udc00-\\udfff]",Co="["+dh+"]",ea="\\u200d",Fo="(?:"+Ga+"|"+yl+")",vl="(?:"+Co+"|"+yl+")",Wa="(?:"+bn+"(?:d|ll|m|re|s|t|ve))?",No="(?:"+bn+"(?:D|LL|M|RE|S|T|VE))?",Ic=Bn+"?",Ms="["+ns+"]?",Nr="(?:"+ea+"(?:"+[uh,rs,Pc].join("|")+")"+Ms+Ic+")*",Lc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Dc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ds=Ms+Ic+Nr,js="(?:"+[Va,rs,Pc].join("|")+")"+Ds,eu="(?:"+[uh+Eo+"?",Eo,rs,Pc,kn].join("|")+")",Kl=RegExp(bn,"g"),ss=RegExp(Eo,"g"),xl=RegExp(Cs+"(?="+Cs+")|"+eu+Ds,"g"),id=RegExp([Co+"?"+Ga+"+"+Wa+"(?="+[Bo,Co,"$"].join("|")+")",vl+"+"+No+"(?="+[Bo,Co+Fo,"$"].join("|")+")",Co+"?"+Fo+"+"+Wa,Co+"+"+No,Dc,Lc,Sn,js].join("|"),"g"),Oc=RegExp("["+ea+Xn+ti+ns+"]"),As=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ph=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Jl=-1,Jn={};Jn[vi]=Jn[ri]=Jn[bi]=Jn[Gi]=Jn[ki]=Jn[Ni]=Jn[Ai]=Jn[Tn]=Jn[In]=!0,Jn[ce]=Jn[pe]=Jn[jt]=Jn[Be]=Jn[Vt]=Jn[re]=Jn[_e]=Jn[Y]=Jn[me]=Jn[ke]=Jn[Ve]=Jn[ht]=Jn[Ee]=Jn[De]=Jn[He]=!1;var or={};or[ce]=or[pe]=or[jt]=or[Vt]=or[Be]=or[re]=or[vi]=or[ri]=or[bi]=or[Gi]=or[ki]=or[me]=or[ke]=or[Ve]=or[ht]=or[Ee]=or[De]=or[Fe]=or[Ni]=or[Ai]=or[Tn]=or[In]=!0,or[_e]=or[Y]=or[He]=!1;var Rc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},nd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},bl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},mh=parseFloat,zc=parseInt,wl=typeof Oo=="object"&&Oo&&Oo.Object===Object&&Oo,$a=typeof self=="object"&&self&&self.Object===Object&&self,Or=wl||$a||Function("return this")(),jo=i&&!i.nodeType&&i,os=jo&&!0&&e&&!e.nodeType&&e,Ql=os&&os.exports===jo,gh=Ql&&wl.process,oo=function(){try{var ot=os&&os.require&&os.require("util").types;return ot||gh&&gh.binding&&gh.binding("util")}catch{}}(),M=oo&&oo.isArrayBuffer,U=oo&&oo.isDate,ue=oo&&oo.isMap,be=oo&&oo.isRegExp,Oe=oo&&oo.isSet,Re=oo&&oo.isTypedArray;function Ge(ot,Pt,kt){switch(kt.length){case 0:return ot.call(Pt);case 1:return ot.call(Pt,kt[0]);case 2:return ot.call(Pt,kt[0],kt[1]);case 3:return ot.call(Pt,kt[0],kt[1],kt[2])}return ot.apply(Pt,kt)}function St(ot,Pt,kt,li){for(var _i=-1,Yi=ot==null?0:ot.length;++_i<Yi;){var qi=ot[_i];Pt(li,qi,kt(qi),ot)}return li}function gt(ot,Pt){for(var kt=-1,li=ot==null?0:ot.length;++kt<li&&Pt(ot[kt],kt,ot)!==!1;);return ot}function Lt(ot,Pt){for(var kt=ot==null?0:ot.length;kt--&&Pt(ot[kt],kt,ot)!==!1;);return ot}function Wt(ot,Pt){for(var kt=-1,li=ot==null?0:ot.length;++kt<li;)if(!Pt(ot[kt],kt,ot))return!1;return!0}function si(ot,Pt){for(var kt=-1,li=ot==null?0:ot.length,_i=0,Yi=[];++kt<li;){var qi=ot[kt];Pt(qi,kt,ot)&&(Yi[_i++]=qi)}return Yi}function Yt(ot,Pt){var kt=ot==null?0:ot.length;return!!kt&&Qi(ot,Pt,0)>-1}function Mi(ot,Pt,kt){for(var li=-1,_i=ot==null?0:ot.length;++li<_i;)if(kt(Pt,ot[li]))return!0;return!1}function ji(ot,Pt){for(var kt=-1,li=ot==null?0:ot.length,_i=Array(li);++kt<li;)_i[kt]=Pt(ot[kt],kt,ot);return _i}function Cn(ot,Pt){for(var kt=-1,li=Pt.length,_i=ot.length;++kt<li;)ot[_i+kt]=Pt[kt];return ot}function En(ot,Pt,kt,li){var _i=-1,Yi=ot==null?0:ot.length;for(li&&Yi&&(kt=ot[++_i]);++_i<Yi;)kt=Pt(kt,ot[_i],_i,ot);return kt}function ds(ot,Pt,kt,li){var _i=ot==null?0:ot.length;for(li&&_i&&(kt=ot[--_i]);_i--;)kt=Pt(kt,ot[_i],_i,ot);return kt}function Rr(ot,Pt){for(var kt=-1,li=ot==null?0:ot.length;++kt<li;)if(Pt(ot[kt],kt,ot))return!0;return!1}var Mo=Sa("length");function ks(ot){return ot.split("")}function Pn(ot){return ot.match(Ot)||[]}function Uo(ot,Pt,kt){var li;return kt(ot,function(_i,Yi,qi){if(Pt(_i,Yi,qi))return li=Yi,!1}),li}function Un(ot,Pt,kt,li){for(var _i=ot.length,Yi=kt+(li?1:-1);li?Yi--:++Yi<_i;)if(Pt(ot[Yi],Yi,ot))return Yi;return-1}function Qi(ot,Pt,kt){return Pt===Pt?Nc(ot,Pt,kt):Un(ot,Bc,kt)}function Ta(ot,Pt,kt,li){for(var _i=kt-1,Yi=ot.length;++_i<Yi;)if(li(ot[_i],Pt))return _i;return-1}function Bc(ot){return ot!==ot}function Ao(ot,Pt){var kt=ot==null?0:ot.length;return kt?Ks(ot,Pt)/kt:oe}function Sa(ot){return function(Pt){return Pt==null?a:Pt[ot]}}function Zs(ot){return function(Pt){return ot==null?a:ot[Pt]}}function Vo(ot,Pt,kt,li,_i){return _i(ot,function(Yi,qi,Ui){kt=li?(li=!1,Yi):Pt(kt,Yi,qi,Ui)}),kt}function Ea(ot,Pt){var kt=ot.length;for(ot.sort(Pt);kt--;)ot[kt]=ot[kt].value;return ot}function Ks(ot,Pt){for(var kt,li=-1,_i=ot.length;++li<_i;){var Yi=Pt(ot[li]);Yi!==a&&(kt=kt===a?Yi:kt+Yi)}return kt}function Ha(ot,Pt){for(var kt=-1,li=Array(ot);++kt<ot;)li[kt]=Pt(kt);return li}function Go(ot,Pt){return ji(Pt,function(kt){return[kt,ot[kt]]})}function ao(ot){return ot&&ot.slice(0,xh(ot)+1).replace(Ne,"")}function Os(ot){return function(Pt){return ot(Pt)}}function _h(ot,Pt){return ji(Pt,function(kt){return ot[kt]})}function ec(ot,Pt){return ot.has(Pt)}function pr(ot,Pt){for(var kt=-1,li=ot.length;++kt<li&&Qi(Pt,ot[kt],0)>-1;);return kt}function Ca(ot,Pt){for(var kt=ot.length;kt--&&Qi(Pt,ot[kt],0)>-1;);return kt}function Us(ot,Pt){for(var kt=ot.length,li=0;kt--;)ot[kt]===Pt&&++li;return li}var Tl=Zs(Rc),Fc=Zs(nd);function rd(ot){return"\\"+bl[ot]}function Wo(ot,Pt){return ot==null?a:ot[Pt]}function Js(ot){return Oc.test(ot)}function yh(ot){return As.test(ot)}function $o(ot){for(var Pt,kt=[];!(Pt=ot.next()).done;)kt.push(Pt.value);return kt}function tc(ot){var Pt=-1,kt=Array(ot.size);return ot.forEach(function(li,_i){kt[++Pt]=[_i,li]}),kt}function qa(ot,Pt){return function(kt){return ot(Pt(kt))}}function Ho(ot,Pt){for(var kt=-1,li=ot.length,_i=0,Yi=[];++kt<li;){var qi=ot[kt];(qi===Pt||qi===ee)&&(ot[kt]=ee,Yi[_i++]=kt)}return Yi}function Ma(ot){var Pt=-1,kt=Array(ot.size);return ot.forEach(function(li){kt[++Pt]=li}),kt}function vh(ot){var Pt=-1,kt=Array(ot.size);return ot.forEach(function(li){kt[++Pt]=[li,li]}),kt}function Nc(ot,Pt,kt){for(var li=kt-1,_i=ot.length;++li<_i;)if(ot[li]===Pt)return li;return-1}function jc(ot,Pt,kt){for(var li=kt+1;li--;)if(ot[li]===Pt)return li;return li}function ta(ot){return Js(ot)?Xa(ot):Mo(ot)}function lo(ot){return Js(ot)?pt(ot):ks(ot)}function xh(ot){for(var Pt=ot.length;Pt--&&st.test(ot.charAt(Pt)););return Pt}var sd=Zs(fh);function Xa(ot){for(var Pt=xl.lastIndex=0;xl.test(ot);)++Pt;return Pt}function pt(ot){return ot.match(xl)||[]}function It(ot){return ot.match(id)||[]}var Zt=function ot(Pt){Pt=Pt==null?Or:Qt.defaults(Or.Object(),Pt,Qt.pick(Or,ph));var kt=Pt.Array,li=Pt.Date,_i=Pt.Error,Yi=Pt.Function,qi=Pt.Math,Ui=Pt.Object,Dn=Pt.RegExp,dn=Pt.String,Vn=Pt.TypeError,us=kt.prototype,jr=Yi.prototype,Hr=Ui.prototype,Ps=Pt["__core-js_shared__"],Qs=jr.toString,mn=Hr.hasOwnProperty,Sl=0,od=function(){var f=/[^.]+$/.exec(Ps&&Ps.keys&&Ps.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),On=Hr.toString,tu=Qs.call(Ui),bm=Or._,rp=Dn("^"+Qs.call(mn).replace(rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ic=Ql?Pt.Buffer:a,Ya=Pt.Symbol,ad=Pt.Uint8Array,ld=ic?ic.allocUnsafe:a,cd=qa(Ui.getPrototypeOf,Ui),hd=Ui.create,Uc=Hr.propertyIsEnumerable,El=us.splice,dd=Ya?Ya.isConcatSpreadable:a,Aa=Ya?Ya.iterator:a,qo=Ya?Ya.toStringTag:a,nc=function(){try{var f=vs(Ui,"defineProperty");return f({},"",{}),f}catch{}}(),ud=Pt.clearTimeout!==Or.clearTimeout&&Pt.clearTimeout,Oi=li&&li.now!==Or.Date.now&&li.now,ia=Pt.setTimeout!==Or.setTimeout&&Pt.setTimeout,pd=qi.ceil,bh=qi.floor,Vc=Ui.getOwnPropertySymbols,wh=ic?ic.isBuffer:a,sp=Pt.isFinite,iu=us.join,op=qa(Ui.keys,Ui),as=qi.max,ys=qi.min,fd=li.now,Rs=Pt.parseInt,md=qi.random,wm=us.reverse,nu=vs(Pt,"DataView"),rc=vs(Pt,"Map"),gd=vs(Pt,"Promise"),Cl=vs(Pt,"Set"),Th=vs(Pt,"WeakMap"),Za=vs(Ui,"create"),Sh=Th&&new Th,Gc={},ru=Md(nu),Tf=Md(rc),ap=Md(gd),lp=Md(Cl),Eh=Md(Th),Wc=Ya?Ya.prototype:a,Ml=Wc?Wc.valueOf:a,cp=Wc?Wc.toString:a;function Ye(f){if(Yr(f)&&!An(f)&&!(f instanceof pn)){if(f instanceof co)return f;if(mn.call(f,"__wrapped__"))return Yf(f)}return new co(f)}var sc=function(){function f(){}return function(x){if(!zr(x))return{};if(hd)return hd(x);f.prototype=x;var j=new f;return f.prototype=a,j}}();function _d(){}function co(f,x){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!x,this.__index__=0,this.__values__=a}Ye.templateSettings={escape:Es,evaluate:is,interpolate:Ls,variable:"",imports:{_:Ye}},Ye.prototype=_d.prototype,Ye.prototype.constructor=Ye,co.prototype=sc(_d.prototype),co.prototype.constructor=co;function pn(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Me,this.__views__=[]}function Tm(){var f=new pn(this.__wrapped__);return f.__actions__=Ws(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=Ws(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=Ws(this.__views__),f}function Sf(){if(this.__filtered__){var f=new pn(this);f.__dir__=-1,f.__filtered__=!0}else f=this.clone(),f.__dir__*=-1;return f}function Sm(){var f=this.__wrapped__.value(),x=this.__dir__,j=An(f),we=x<0,Ue=j?f.length:0,nt=Tp(0,Ue,this.__views__),yt=nt.start,At=nt.end,Ft=At-yt,pi=we?At:yt-1,gi=this.__iteratees__,Ei=gi.length,Vi=0,on=ys(Ft,this.__takeCount__);if(!j||!we&&Ue==Ft&&on==Ft)return kh(f,this.__actions__);var yn=[];e:for(;Ft--&&Vi<on;){pi+=x;for(var Gn=-1,wn=f[pi];++Gn<Ei;){var Qn=gi[Gn],ar=Qn.iteratee,ua=Qn.type,Lo=ar(wn);if(ua==A)wn=Lo;else if(!Lo){if(ua==C)continue e;break e}}yn[Vi++]=wn}return yn}pn.prototype=sc(_d.prototype),pn.prototype.constructor=pn;function oc(f){var x=-1,j=f==null?0:f.length;for(this.clear();++x<j;){var we=f[x];this.set(we[0],we[1])}}function Al(){this.__data__=Za?Za(null):{},this.size=0}function Ef(f){var x=this.has(f)&&delete this.__data__[f];return this.size-=x?1:0,x}function Ch(f){var x=this.__data__;if(Za){var j=x[f];return j===b?a:j}return mn.call(x,f)?x[f]:a}function Ka(f){var x=this.__data__;return Za?x[f]!==a:mn.call(x,f)}function su(f,x){var j=this.__data__;return this.size+=this.has(f)?0:1,j[f]=Za&&x===a?b:x,this}oc.prototype.clear=Al,oc.prototype.delete=Ef,oc.prototype.get=Ch,oc.prototype.has=Ka,oc.prototype.set=su;function Ri(f){var x=-1,j=f==null?0:f.length;for(this.clear();++x<j;){var we=f[x];this.set(we[0],we[1])}}function Cf(){this.__data__=[],this.size=0}function yd(f){var x=this.__data__,j=lc(x,f);if(j<0)return!1;var we=x.length-1;return j==we?x.pop():El.call(x,j,1),--this.size,!0}function vd(f){var x=this.__data__,j=lc(x,f);return j<0?a:x[j][1]}function xd(f){return lc(this.__data__,f)>-1}function bd(f,x){var j=this.__data__,we=lc(j,f);return we<0?(++this.size,j.push([f,x])):j[we][1]=x,this}Ri.prototype.clear=Cf,Ri.prototype.delete=yd,Ri.prototype.get=vd,Ri.prototype.has=xd,Ri.prototype.set=bd;function Ja(f){var x=-1,j=f==null?0:f.length;for(this.clear();++x<j;){var we=f[x];this.set(we[0],we[1])}}function hp(){this.size=0,this.__data__={hash:new oc,map:new(rc||Ri),string:new oc}}function Mf(f){var x=ko(this,f).delete(f);return this.size-=x?1:0,x}function dp(f){return ko(this,f).get(f)}function up(f){return ko(this,f).has(f)}function wd(f,x){var j=ko(this,f),we=j.size;return j.set(f,x),this.size+=j.size==we?0:1,this}Ja.prototype.clear=hp,Ja.prototype.delete=Mf,Ja.prototype.get=dp,Ja.prototype.has=up,Ja.prototype.set=wd;function Qa(f){var x=-1,j=f==null?0:f.length;for(this.__data__=new Ja;++x<j;)this.add(f[x])}function Mh(f){return this.__data__.set(f,b),this}function ou(f){return this.__data__.has(f)}Qa.prototype.add=Qa.prototype.push=Mh,Qa.prototype.has=ou;function na(f){var x=this.__data__=new Ri(f);this.size=x.size}function Af(){this.__data__=new Ri,this.size=0}function pp(f){var x=this.__data__,j=x.delete(f);return this.size=x.size,j}function kf(f){return this.__data__.get(f)}function Pf(f){return this.__data__.has(f)}function If(f,x){var j=this.__data__;if(j instanceof Ri){var we=j.__data__;if(!rc||we.length<h-1)return we.push([f,x]),this.size=++j.size,this;j=this.__data__=new Ja(we)}return j.set(f,x),this.size=j.size,this}na.prototype.clear=Af,na.prototype.delete=pp,na.prototype.get=kf,na.prototype.has=Pf,na.prototype.set=If;function au(f,x){var j=An(f),we=!j&&Rh(f),Ue=!j&&!we&&Kc(f),nt=!j&&!we&&!Ue&&xu(f),yt=j||we||Ue||nt,At=yt?Ha(f.length,dn):[],Ft=At.length;for(var pi in f)(x||mn.call(f,pi))&&!(yt&&(pi=="length"||Ue&&(pi=="offset"||pi=="parent")||nt&&(pi=="buffer"||pi=="byteLength"||pi=="byteOffset")||dc(pi,Ft)))&&At.push(pi);return At}function fp(f){var x=f.length;return x?f[el(0,x-1)]:a}function Lf(f,x){return pc(Ws(f),E(x,0,f.length))}function Df(f){return pc(Ws(f))}function lu(f,x,j){(j!==a&&!Ul(f[x],j)||j===a&&!(x in f))&&_(f,x,j)}function ac(f,x,j){var we=f[x];(!(mn.call(f,x)&&Ul(we,j))||j===a&&!(x in f))&&_(f,x,j)}function lc(f,x){for(var j=f.length;j--;)if(Ul(f[j][0],x))return j;return-1}function m(f,x,j,we){return Pe(f,function(Ue,nt,yt){x(we,Ue,j(Ue),yt)}),we}function o(f,x){return f&&eo(x,ps(x),f)}function d(f,x){return f&&eo(x,Xo(x),f)}function _(f,x,j){x=="__proto__"&&nc?nc(f,x,{configurable:!0,enumerable:!0,value:j,writable:!0}):f[x]=j}function w(f,x){for(var j=-1,we=x.length,Ue=kt(we),nt=f==null;++j<we;)Ue[j]=nt?a:ag(f,x[j]);return Ue}function E(f,x,j){return f===f&&(j!==a&&(f=f<=j?f:j),x!==a&&(f=f>=x?f:x)),f}function N(f,x,j,we,Ue,nt){var yt,At=x&F,Ft=x&Z,pi=x&ne;if(j&&(yt=Ue?j(f,we,Ue,nt):j(f)),yt!==a)return yt;if(!zr(f))return f;var gi=An(f);if(gi){if(yt=M2(f),!At)return Ws(f,yt)}else{var Ei=fo(f),Vi=Ei==Y||Ei==de;if(Kc(f))return _p(f,At);if(Ei==Ve||Ei==ce||Vi&&!Ue){if(yt=Ft||Vi?{}:Lm(f),!At)return Ft?Ih(f,d(yt,f)):Il(f,o(yt,f))}else{if(!or[Ei])return Ue?f:{};yt=W1(f,Ei,At)}}nt||(nt=new na);var on=nt.get(f);if(on)return on;nt.set(f,yt),sg(f)?f.forEach(function(wn){yt.add(N(wn,x,j,wn,f,nt))}):ng(f)&&f.forEach(function(wn,Qn){yt.set(Qn,N(wn,x,j,Qn,f,nt))});var yn=pi?Ft?zl:Oh:Ft?Xo:ps,Gn=gi?a:yn(f);return gt(Gn||f,function(wn,Qn){Gn&&(Qn=wn,wn=f[Qn]),ac(yt,Qn,N(wn,x,j,Qn,f,nt))}),yt}function H(f){var x=ps(f);return function(j){return le(j,f,x)}}function le(f,x,j){var we=j.length;if(f==null)return!we;for(f=Ui(f);we--;){var Ue=j[we],nt=x[Ue],yt=f[Ue];if(yt===a&&!(Ue in f)||!nt(yt))return!1}return!0}function ve(f,x,j){if(typeof f!="function")throw new Vn(y);return uu(function(){f.apply(a,j)},x)}function ye(f,x,j,we){var Ue=-1,nt=Yt,yt=!0,At=f.length,Ft=[],pi=x.length;if(!At)return Ft;j&&(x=ji(x,Os(j))),we?(nt=Mi,yt=!1):x.length>=h&&(nt=ec,yt=!1,x=new Qa(x));e:for(;++Ue<At;){var gi=f[Ue],Ei=j==null?gi:j(gi);if(gi=we||gi!==0?gi:0,yt&&Ei===Ei){for(var Vi=pi;Vi--;)if(x[Vi]===Ei)continue e;Ft.push(gi)}else nt(x,Ei,we)||Ft.push(gi)}return Ft}var Pe=O1(dt),$e=O1(wt,!0);function Ze(f,x){var j=!0;return Pe(f,function(we,Ue,nt){return j=!!x(we,Ue,nt),j}),j}function Ke(f,x,j){for(var we=-1,Ue=f.length;++we<Ue;){var nt=f[we],yt=x(nt);if(yt!=null&&(At===a?yt===yt&&!Da(yt):j(yt,At)))var At=yt,Ft=nt}return Ft}function Je(f,x,j,we){var Ue=f.length;for(j=Fn(j),j<0&&(j=-j>Ue?0:Ue+j),we=we===a||we>Ue?Ue:Fn(we),we<0&&(we+=Ue),we=j>we?0:Bp(we);j<we;)f[j++]=x;return f}function et(f,x){var j=[];return Pe(f,function(we,Ue,nt){x(we,Ue,nt)&&j.push(we)}),j}function je(f,x,j,we,Ue){var nt=-1,yt=f.length;for(j||(j=$1),Ue||(Ue=[]);++nt<yt;){var At=f[nt];x>0&&j(At)?x>1?je(At,x-1,j,we,Ue):Cn(Ue,At):we||(Ue[Ue.length]=At)}return Ue}var ut=R1(),ct=R1(!0);function dt(f,x){return f&&ut(f,x,ps)}function wt(f,x){return f&&ct(f,x,ps)}function vt(f,x){return si(x,function(j){return gc(f[j])})}function Ct(f,x){x=Ph(x,f);for(var j=0,we=x.length;f!=null&&j<we;)f=f[Nl(x[j++])];return j&&j==we?f:a}function Rt(f,x,j){var we=x(f);return An(f)?we:Cn(we,j(f))}function Bt(f){return f==null?f===a?qe:Ie:qo&&qo in Ui(f)?il(f):Cd(f)}function Ht(f,x){return f>x}function Si(f,x){return f!=null&&mn.call(f,x)}function Nt(f,x){return f!=null&&x in Ui(f)}function oi(f,x,j){return f>=ys(x,j)&&f<as(x,j)}function Jt(f,x,j){for(var we=j?Mi:Yt,Ue=f[0].length,nt=f.length,yt=nt,At=kt(nt),Ft=1/0,pi=[];yt--;){var gi=f[yt];yt&&x&&(gi=ji(gi,Os(x))),Ft=ys(gi.length,Ft),At[yt]=!j&&(x||Ue>=120&&gi.length>=120)?new Qa(yt&&gi):a}gi=f[0];var Ei=-1,Vi=At[0];e:for(;++Ei<Ue&&pi.length<Ft;){var on=gi[Ei],yn=x?x(on):on;if(on=j||on!==0?on:0,!(Vi?ec(Vi,yn):we(pi,yn,j))){for(yt=nt;--yt;){var Gn=At[yt];if(!(Gn?ec(Gn,yn):we(f[yt],yn,j)))continue e}Vi&&Vi.push(yn),pi.push(on)}}return pi}function ui(f,x,j,we){return dt(f,function(Ue,nt,yt){x(we,j(Ue),nt,yt)}),we}function Gt(f,x,j){x=Ph(x,f),f=Ia(f,x);var we=f==null?f:f[Nl(Ir(x))];return we==null?a:Ge(we,f,j)}function Dt(f){return Yr(f)&&Bt(f)==ce}function Xt(f){return Yr(f)&&Bt(f)==jt}function di(f){return Yr(f)&&Bt(f)==re}function fi(f,x,j,we,Ue){return f===x?!0:f==null||x==null||!Yr(f)&&!Yr(x)?f!==f&&x!==x:$i(f,x,j,we,fi,Ue)}function $i(f,x,j,we,Ue,nt){var yt=An(f),At=An(x),Ft=yt?pe:fo(f),pi=At?pe:fo(x);Ft=Ft==ce?Ve:Ft,pi=pi==ce?Ve:pi;var gi=Ft==Ve,Ei=pi==Ve,Vi=Ft==pi;if(Vi&&Kc(f)){if(!Kc(x))return!1;yt=!0,gi=!1}if(Vi&&!gi)return nt||(nt=new na),yt||xu(f)?U1(f,x,j,we,Ue,nt):Im(f,x,Ft,j,we,Ue,nt);if(!(j&z)){var on=gi&&mn.call(f,"__wrapped__"),yn=Ei&&mn.call(x,"__wrapped__");if(on||yn){var Gn=on?f.value():f,wn=yn?x.value():x;return nt||(nt=new na),Ue(Gn,wn,j,we,nt)}}return Vi?(nt||(nt=new na),V1(f,x,j,we,Ue,nt)):!1}function Mn(f){return Yr(f)&&fo(f)==me}function Fi(f,x,j,we){var Ue=j.length,nt=Ue,yt=!we;if(f==null)return!nt;for(f=Ui(f);Ue--;){var At=j[Ue];if(yt&&At[2]?At[1]!==f[At[0]]:!(At[0]in f))return!1}for(;++Ue<nt;){At=j[Ue];var Ft=At[0],pi=f[Ft],gi=At[1];if(yt&&At[2]){if(pi===a&&!(Ft in f))return!1}else{var Ei=new na;if(we)var Vi=we(pi,gi,Ft,f,x,Ei);if(!(Vi===a?fi(gi,pi,z|G,we,Ei):Vi))return!1}}return!0}function zi(f){if(!zr(f)||H1(f))return!1;var x=gc(f)?rp:Xi;return x.test(Md(f))}function Zi(f){return Yr(f)&&Bt(f)==ht}function Rn(f){return Yr(f)&&fo(f)==Ee}function nn(f){return Yr(f)&&zh(f.length)&&!!Jn[Bt(f)]}function er(f){return typeof f=="function"?f:f==null?da:typeof f=="object"?An(f)?ra(f[0],f[1]):ho(f):_g(f)}function tr(f){if(!Yc(f))return op(f);var x=[];for(var j in Ui(f))mn.call(f,j)&&j!="constructor"&&x.push(j);return x}function br(f){if(!zr(f))return uc(f);var x=Yc(f),j=[];for(var we in f)we=="constructor"&&(x||!mn.call(f,we))||j.push(we);return j}function hr(f,x){return f<x}function ls(f,x){var j=-1,we=ha(f)?kt(f.length):[];return Pe(f,function(Ue,nt,yt){we[++j]=x(Ue,nt,yt)}),we}function ho(f){var x=Sd(f);return x.length==1&&x[0][2]?Hf(x[0][0],x[0][1]):function(j){return j===f||Fi(j,f,x)}}function ra(f,x){return Wf(f)&&$f(x)?Hf(Nl(f),x):function(j){var we=ag(j,f);return we===a&&we===x?lg(j,f):fi(x,we,z|G)}}function sa(f,x,j,we,Ue){f!==x&&ut(x,function(nt,yt){if(Ue||(Ue=new na),zr(nt))Pr(f,x,yt,j,sa,we,Ue);else{var At=we?we(Rm(f,yt),nt,yt+"",f,x,Ue):a;At===a&&(At=nt),lu(f,yt,At)}},Xo)}function Pr(f,x,j,we,Ue,nt,yt){var At=Rm(f,j),Ft=Rm(x,j),pi=yt.get(Ft);if(pi){lu(f,j,pi);return}var gi=nt?nt(At,Ft,j+"",f,x,yt):a,Ei=gi===a;if(Ei){var Vi=An(Ft),on=!Vi&&Kc(Ft),yn=!Vi&&!on&&xu(Ft);gi=Ft,Vi||on||yn?An(At)?gi=At:xs(At)?gi=Ws(At):on?(Ei=!1,gi=_p(Ft,!0)):yn?(Ei=!1,gi=L1(Ft,!0)):gi=[]:Bh(Ft)||Rh(Ft)?(gi=At,Rh(At)?gi=D_(At):(!zr(At)||gc(At))&&(gi=Lm(Ft))):Ei=!1}Ei&&(yt.set(Ft,gi),Ue(gi,Ft,we,nt,yt),yt.delete(Ft)),lu(f,j,gi)}function fr(f,x){var j=f.length;if(j)return x+=x<0?j:0,dc(x,j)?f[x]:a}function Yn(f,x,j){x.length?x=ji(x,function(nt){return An(nt)?function(yt){return Ct(yt,nt.length===1?nt[0]:nt)}:nt}):x=[da];var we=-1;x=ji(x,Os(un()));var Ue=ls(f,function(nt,yt,At){var Ft=ji(x,function(pi){return pi(nt)});return{criteria:Ft,index:++we,value:nt}});return Ea(Ue,function(nt,yt){return E2(nt,yt,j)})}function Jr(f,x){return Vs(f,x,function(j,we){return lg(f,we)})}function Vs(f,x,j){for(var we=-1,Ue=x.length,nt={};++we<Ue;){var yt=x[we],At=Ct(f,yt);j(At,yt)&&oa(nt,Ph(yt,f),At)}return nt}function Mr(f){return function(x){return Ct(x,f)}}function zs(f,x,j,we){var Ue=we?Ta:Qi,nt=-1,yt=x.length,At=f;for(f===x&&(x=Ws(x)),j&&(At=ji(f,Os(j)));++nt<yt;)for(var Ft=0,pi=x[nt],gi=j?j(pi):pi;(Ft=Ue(At,gi,Ft,we))>-1;)At!==f&&El.call(At,Ft,1),El.call(f,Ft,1);return f}function Gs(f,x){for(var j=f?x.length:0,we=j-1;j--;){var Ue=x[j];if(j==we||Ue!==nt){var nt=Ue;dc(Ue)?El.call(f,Ue,1):Rf(f,Ue)}}return f}function el(f,x){return f+bh(md()*(x-f+1))}function Ah(f,x,j,we){for(var Ue=-1,nt=as(pd((x-f)/(j||1)),0),yt=kt(nt);nt--;)yt[we?nt:++Ue]=f,f+=j;return yt}function uo(f,x){var j="";if(!f||x<1||x>fe)return j;do x%2&&(j+=f),x=bh(x/2),x&&(f+=f);while(x);return j}function gn(f,x){return zm(du(f,x,da),f+"")}function kl(f){return fp(Nh(f))}function cc(f,x){var j=Nh(f);return pc(j,E(x,0,j.length))}function oa(f,x,j,we){if(!zr(f))return f;x=Ph(x,f);for(var Ue=-1,nt=x.length,yt=nt-1,At=f;At!=null&&++Ue<nt;){var Ft=Nl(x[Ue]),pi=j;if(Ft==="__proto__"||Ft==="constructor"||Ft==="prototype")return f;if(Ue!=yt){var gi=At[Ft];pi=we?we(gi,Ft,At):a,pi===a&&(pi=zr(gi)?gi:dc(x[Ue+1])?[]:{})}ac(At,Ft,pi),At=At[Ft]}return f}var $c=Sh?function(f,x){return Sh.set(f,x),f}:da,M1=nc?function(f,x){return nc(f,"toString",{configurable:!0,enumerable:!1,value:jp(x),writable:!0})}:da;function Em(f){return pc(Nh(f))}function ka(f,x,j){var we=-1,Ue=f.length;x<0&&(x=-x>Ue?0:Ue+x),j=j>Ue?Ue:j,j<0&&(j+=Ue),Ue=x>j?0:j-x>>>0,x>>>=0;for(var nt=kt(Ue);++we<Ue;)nt[we]=f[we+x];return nt}function A1(f,x){var j;return Pe(f,function(we,Ue,nt){return j=x(we,Ue,nt),!j}),!!j}function mp(f,x,j){var we=0,Ue=f==null?we:f.length;if(typeof x=="number"&&x===x&&Ue<=Qe){for(;we<Ue;){var nt=we+Ue>>>1,yt=f[nt];yt!==null&&!Da(yt)&&(j?yt<=x:yt<x)?we=nt+1:Ue=nt}return Ue}return Of(f,x,da,j)}function Of(f,x,j,we){var Ue=0,nt=f==null?0:f.length;if(nt===0)return 0;x=j(x);for(var yt=x!==x,At=x===null,Ft=Da(x),pi=x===a;Ue<nt;){var gi=bh((Ue+nt)/2),Ei=j(f[gi]),Vi=Ei!==a,on=Ei===null,yn=Ei===Ei,Gn=Da(Ei);if(yt)var wn=we||yn;else pi?wn=yn&&(we||Vi):At?wn=yn&&Vi&&(we||!on):Ft?wn=yn&&Vi&&!on&&(we||!Gn):on||Gn?wn=!1:wn=we?Ei<=x:Ei<x;wn?Ue=gi+1:nt=gi}return ys(nt,We)}function Cm(f,x){for(var j=-1,we=f.length,Ue=0,nt=[];++j<we;){var yt=f[j],At=x?x(yt):yt;if(!j||!Ul(At,Ft)){var Ft=At;nt[Ue++]=yt===0?0:yt}}return nt}function Mm(f){return typeof f=="number"?f:Da(f)?oe:+f}function aa(f){if(typeof f=="string")return f;if(An(f))return ji(f,aa)+"";if(Da(f))return cp?cp.call(f):"";var x=f+"";return x=="0"&&1/f==-Q?"-0":x}function Hc(f,x,j){var we=-1,Ue=Yt,nt=f.length,yt=!0,At=[],Ft=At;if(j)yt=!1,Ue=Mi;else if(nt>=h){var pi=x?null:yp(f);if(pi)return Ma(pi);yt=!1,Ue=ec,Ft=new Qa}else Ft=x?[]:At;e:for(;++we<nt;){var gi=f[we],Ei=x?x(gi):gi;if(gi=j||gi!==0?gi:0,yt&&Ei===Ei){for(var Vi=Ft.length;Vi--;)if(Ft[Vi]===Ei)continue e;x&&Ft.push(Ei),At.push(gi)}else Ue(Ft,Ei,j)||(Ft!==At&&Ft.push(Ei),At.push(gi))}return At}function Rf(f,x){return x=Ph(x,f),f=Ia(f,x),f==null||delete f[Nl(Ir(x))]}function k1(f,x,j,we){return oa(f,x,j(Ct(f,x)),we)}function zf(f,x,j,we){for(var Ue=f.length,nt=we?Ue:-1;(we?nt--:++nt<Ue)&&x(f[nt],nt,f););return j?ka(f,we?0:nt,we?nt+1:Ue):ka(f,we?nt+1:0,we?Ue:nt)}function kh(f,x){var j=f;return j instanceof pn&&(j=j.value()),En(x,function(we,Ue){return Ue.func.apply(Ue.thisArg,Cn([we],Ue.args))},j)}function Am(f,x,j){var we=f.length;if(we<2)return we?Hc(f[0]):[];for(var Ue=-1,nt=kt(we);++Ue<we;)for(var yt=f[Ue],At=-1;++At<we;)At!=Ue&&(nt[Ue]=ye(nt[Ue]||yt,f[At],x,j));return Hc(je(nt,1),x,j)}function Bf(f,x,j){for(var we=-1,Ue=f.length,nt=x.length,yt={};++we<Ue;){var At=we<nt?x[we]:a;j(yt,f[we],At)}return yt}function gp(f){return xs(f)?f:[]}function Ff(f){return typeof f=="function"?f:da}function Ph(f,x){return An(f)?f:Wf(f,x)?[f]:Bm(dr(f))}var Nf=gn;function qc(f,x,j){var we=f.length;return j=j===a?we:j,!x&&j>=we?f:ka(f,x,j)}var jf=ud||function(f){return Or.clearTimeout(f)};function _p(f,x){if(x)return f.slice();var j=f.length,we=ld?ld(j):new f.constructor(j);return f.copy(we),we}function Pl(f){var x=new f.constructor(f.byteLength);return new ad(x).set(new ad(f)),x}function Uf(f,x){var j=x?Pl(f.buffer):f.buffer;return new f.constructor(j,f.byteOffset,f.byteLength)}function P1(f){var x=new f.constructor(f.source,Li.exec(f));return x.lastIndex=f.lastIndex,x}function I1(f){return Ml?Ui(Ml.call(f)):{}}function L1(f,x){var j=x?Pl(f.buffer):f.buffer;return new f.constructor(j,f.byteOffset,f.length)}function D1(f,x){if(f!==x){var j=f!==a,we=f===null,Ue=f===f,nt=Da(f),yt=x!==a,At=x===null,Ft=x===x,pi=Da(x);if(!At&&!pi&&!nt&&f>x||nt&&yt&&Ft&&!At&&!pi||we&&yt&&Ft||!j&&Ft||!Ue)return 1;if(!we&&!nt&&!pi&&f<x||pi&&j&&Ue&&!we&&!nt||At&&j&&Ue||!yt&&Ue||!Ft)return-1}return 0}function E2(f,x,j){for(var we=-1,Ue=f.criteria,nt=x.criteria,yt=Ue.length,At=j.length;++we<yt;){var Ft=D1(Ue[we],nt[we]);if(Ft){if(we>=At)return Ft;var pi=j[we];return Ft*(pi=="desc"?-1:1)}}return f.index-x.index}function Vf(f,x,j,we){for(var Ue=-1,nt=f.length,yt=j.length,At=-1,Ft=x.length,pi=as(nt-yt,0),gi=kt(Ft+pi),Ei=!we;++At<Ft;)gi[At]=x[At];for(;++Ue<yt;)(Ei||Ue<nt)&&(gi[j[Ue]]=f[Ue]);for(;pi--;)gi[At++]=f[Ue++];return gi}function cu(f,x,j,we){for(var Ue=-1,nt=f.length,yt=-1,At=j.length,Ft=-1,pi=x.length,gi=as(nt-At,0),Ei=kt(gi+pi),Vi=!we;++Ue<gi;)Ei[Ue]=f[Ue];for(var on=Ue;++Ft<pi;)Ei[on+Ft]=x[Ft];for(;++yt<At;)(Vi||Ue<nt)&&(Ei[on+j[yt]]=f[Ue++]);return Ei}function Ws(f,x){var j=-1,we=f.length;for(x||(x=kt(we));++j<we;)x[j]=f[j];return x}function eo(f,x,j,we){var Ue=!j;j||(j={});for(var nt=-1,yt=x.length;++nt<yt;){var At=x[nt],Ft=we?we(j[At],f[At],At,j,f):a;Ft===a&&(Ft=f[At]),Ue?_(j,At,Ft):ac(j,At,Ft)}return j}function Il(f,x){return eo(f,wp(f),x)}function Ih(f,x){return eo(f,Qr(f),x)}function Ll(f,x){return function(j,we){var Ue=An(j)?St:m,nt=x?x():{};return Ue(j,f,un(we,2),nt)}}function tl(f){return gn(function(x,j){var we=-1,Ue=j.length,nt=Ue>1?j[Ue-1]:a,yt=Ue>2?j[2]:a;for(nt=f.length>3&&typeof nt=="function"?(Ue--,nt):a,yt&&Po(j[0],j[1],yt)&&(nt=Ue<3?a:nt,Ue=1),x=Ui(x);++we<Ue;){var At=j[we];At&&f(x,At,we,nt)}return x})}function O1(f,x){return function(j,we){if(j==null)return j;if(!ha(j))return f(j,we);for(var Ue=j.length,nt=x?Ue:-1,yt=Ui(j);(x?nt--:++nt<Ue)&&we(yt[nt],nt,yt)!==!1;);return j}}function R1(f){return function(x,j,we){for(var Ue=-1,nt=Ui(x),yt=we(x),At=yt.length;At--;){var Ft=yt[f?At:++Ue];if(j(nt[Ft],Ft,nt)===!1)break}return x}}function C2(f,x,j){var we=x&ae,Ue=Lh(f);function nt(){var yt=this&&this!==Or&&this instanceof nt?Ue:f;return yt.apply(we?j:this,arguments)}return nt}function z1(f){return function(x){x=dr(x);var j=Js(x)?lo(x):a,we=j?j[0]:x.charAt(0),Ue=j?qc(j,1).join(""):x.slice(1);return we[f]()+Ue}}function Td(f){return function(x){return En(iy(pg(x).replace(Kl,"")),f,"")}}function Lh(f){return function(){var x=arguments;switch(x.length){case 0:return new f;case 1:return new f(x[0]);case 2:return new f(x[0],x[1]);case 3:return new f(x[0],x[1],x[2]);case 4:return new f(x[0],x[1],x[2],x[3]);case 5:return new f(x[0],x[1],x[2],x[3],x[4]);case 6:return new f(x[0],x[1],x[2],x[3],x[4],x[5]);case 7:return new f(x[0],x[1],x[2],x[3],x[4],x[5],x[6])}var j=sc(f.prototype),we=f.apply(j,x);return zr(we)?we:j}}function Dl(f,x,j){var we=Lh(f);function Ue(){for(var nt=arguments.length,yt=kt(nt),At=nt,Ft=hc(Ue);At--;)yt[At]=arguments[At];var pi=nt<3&&yt[0]!==Ft&&yt[nt-1]!==Ft?[]:Ho(yt,Ft);if(nt-=pi.length,nt<j)return Gf(f,x,qr,Ue.placeholder,a,yt,pi,a,a,j-nt);var gi=this&&this!==Or&&this instanceof Ue?we:f;return Ge(gi,this,yt)}return Ue}function B1(f){return function(x,j,we){var Ue=Ui(x);if(!ha(x)){var nt=un(j,3);x=ps(x),j=function(At){return nt(Ue[At],At,Ue)}}var yt=f(x,j,we);return yt>-1?Ue[nt?x[yt]:yt]:a}}function F1(f){return Pa(function(x){var j=x.length,we=j,Ue=co.prototype.thru;for(f&&x.reverse();we--;){var nt=x[we];if(typeof nt!="function")throw new Vn(y);if(Ue&&!yt&&bp(nt)=="wrapper")var yt=new co([],!0)}for(we=yt?we:j;++we<j;){nt=x[we];var At=bp(nt),Ft=At=="wrapper"?xp(nt):a;Ft&&Dm(Ft[0])&&Ft[1]==(S|V|R|X)&&!Ft[4].length&&Ft[9]==1?yt=yt[bp(Ft[0])].apply(yt,Ft[3]):yt=nt.length==1&&Dm(nt)?yt[At]():yt.thru(nt)}return function(){var pi=arguments,gi=pi[0];if(yt&&pi.length==1&&An(gi))return yt.plant(gi).value();for(var Ei=0,Vi=j?x[Ei].apply(this,pi):gi;++Ei<j;)Vi=x[Ei].call(this,Vi);return Vi}})}function qr(f,x,j,we,Ue,nt,yt,At,Ft,pi){var gi=x&S,Ei=x&ae,Vi=x&B,on=x&(V|W),yn=x&I,Gn=Vi?a:Lh(f);function wn(){for(var Qn=arguments.length,ar=kt(Qn),ua=Qn;ua--;)ar[ua]=arguments[ua];if(on)var Lo=hc(wn),pa=Us(ar,Lo);if(we&&(ar=Vf(ar,we,Ue,on)),nt&&(ar=cu(ar,nt,yt,on)),Qn-=pa,on&&Qn<pi){var bs=Ho(ar,Lo);return Gf(f,x,qr,wn.placeholder,j,ar,bs,At,Ft,pi-Qn)}var sl=Ei?j:this,Do=Vi?sl[f]:f;return Qn=ar.length,At?ar=nl(ar,At):yn&&Qn>1&&ar.reverse(),gi&&Ft<Qn&&(ar.length=Ft),this&&this!==Or&&this instanceof wn&&(Do=Gn||Lh(Do)),Do.apply(sl,ar)}return wn}function ln(f,x){return function(j,we){return ui(j,f,x(we),{})}}function Ol(f,x){return function(j,we){var Ue;if(j===a&&we===a)return x;if(j!==a&&(Ue=j),we!==a){if(Ue===a)return we;typeof j=="string"||typeof we=="string"?(j=aa(j),we=aa(we)):(j=Mm(j),we=Mm(we)),Ue=f(j,we)}return Ue}}function hu(f){return Pa(function(x){return x=ji(x,Os(un())),gn(function(j){var we=this;return f(x,function(Ue){return Ge(Ue,we,j)})})})}function po(f,x){x=x===a?" ":aa(x);var j=x.length;if(j<2)return j?uo(x,f):x;var we=uo(x,pd(f/ta(x)));return Js(x)?qc(lo(we),0,f).join(""):we.slice(0,f)}function N1(f,x,j,we){var Ue=x&ae,nt=Lh(f);function yt(){for(var At=-1,Ft=arguments.length,pi=-1,gi=we.length,Ei=kt(gi+Ft),Vi=this&&this!==Or&&this instanceof yt?nt:f;++pi<gi;)Ei[pi]=we[pi];for(;Ft--;)Ei[pi++]=arguments[++At];return Ge(Vi,Ue?j:this,Ei)}return yt}function km(f){return function(x,j,we){return we&&typeof we!="number"&&Po(x,j,we)&&(j=we=a),x=io(x),j===a?(j=x,x=0):j=io(j),we=we===a?x<j?1:-1:io(we),Ah(x,j,we,f)}}function la(f){return function(x,j){return typeof x=="string"&&typeof j=="string"||(x=go(x),j=go(j)),f(x,j)}}function Gf(f,x,j,we,Ue,nt,yt,At,Ft,pi){var gi=x&V,Ei=gi?yt:a,Vi=gi?a:yt,on=gi?nt:a,yn=gi?a:nt;x|=gi?R:se,x&=~(gi?se:R),x&P||(x&=~(ae|B));var Gn=[f,x,Ue,on,Ei,yn,Vi,At,Ft,pi],wn=j.apply(a,Gn);return Dm(f)&&Sp(wn,Gn),wn.placeholder=we,qf(wn,f,x)}function Xc(f){var x=qi[f];return function(j,we){if(j=go(j),we=we==null?0:ys(Fn(we),292),we&&sp(j)){var Ue=(dr(j)+"e").split("e"),nt=x(Ue[0]+"e"+(+Ue[1]+we));return Ue=(dr(nt)+"e").split("e"),+(Ue[0]+"e"+(+Ue[1]-we))}return x(j)}}var yp=Cl&&1/Ma(new Cl([,-0]))[1]==Q?function(f){return new Cl(f)}:gg;function Dh(f){return function(x){var j=fo(x);return j==me?tc(x):j==Ee?vh(x):Go(x,f(x))}}function Rl(f,x,j,we,Ue,nt,yt,At){var Ft=x&B;if(!Ft&&typeof f!="function")throw new Vn(y);var pi=we?we.length:0;if(pi||(x&=~(R|se),we=Ue=a),yt=yt===a?yt:as(Fn(yt),0),At=At===a?At:Fn(At),pi-=Ue?Ue.length:0,x&se){var gi=we,Ei=Ue;we=Ue=a}var Vi=Ft?a:xp(f),on=[f,x,j,we,Ue,gi,Ei,nt,yt,At];if(Vi&&Io(on,Vi),f=on[0],x=on[1],j=on[2],we=on[3],Ue=on[4],At=on[9]=on[9]===a?Ft?0:f.length:as(on[9]-pi,0),!At&&x&(V|W)&&(x&=~(V|W)),!x||x==ae)var yn=C2(f,x,j);else x==V||x==W?yn=Dl(f,x,At):(x==R||x==(ae|R))&&!Ue.length?yn=N1(f,x,j,we):yn=qr.apply(a,on);var Gn=Vi?$c:Sp;return qf(Gn(yn,on),f,x)}function vp(f,x,j,we){return f===a||Ul(f,Hr[j])&&!mn.call(we,j)?x:f}function Pm(f,x,j,we,Ue,nt){return zr(f)&&zr(x)&&(nt.set(x,f),sa(f,x,a,Pm,nt),nt.delete(x)),f}function j1(f){return Bh(f)?a:f}function U1(f,x,j,we,Ue,nt){var yt=j&z,At=f.length,Ft=x.length;if(At!=Ft&&!(yt&&Ft>At))return!1;var pi=nt.get(f),gi=nt.get(x);if(pi&&gi)return pi==x&&gi==f;var Ei=-1,Vi=!0,on=j&G?new Qa:a;for(nt.set(f,x),nt.set(x,f);++Ei<At;){var yn=f[Ei],Gn=x[Ei];if(we)var wn=yt?we(Gn,yn,Ei,x,f,nt):we(yn,Gn,Ei,f,x,nt);if(wn!==a){if(wn)continue;Vi=!1;break}if(on){if(!Rr(x,function(Qn,ar){if(!ec(on,ar)&&(yn===Qn||Ue(yn,Qn,j,we,nt)))return on.push(ar)})){Vi=!1;break}}else if(!(yn===Gn||Ue(yn,Gn,j,we,nt))){Vi=!1;break}}return nt.delete(f),nt.delete(x),Vi}function Im(f,x,j,we,Ue,nt,yt){switch(j){case Vt:if(f.byteLength!=x.byteLength||f.byteOffset!=x.byteOffset)return!1;f=f.buffer,x=x.buffer;case jt:return!(f.byteLength!=x.byteLength||!nt(new ad(f),new ad(x)));case Be:case re:case ke:return Ul(+f,+x);case _e:return f.name==x.name&&f.message==x.message;case ht:case De:return f==x+"";case me:var At=tc;case Ee:var Ft=we&z;if(At||(At=Ma),f.size!=x.size&&!Ft)return!1;var pi=yt.get(f);if(pi)return pi==x;we|=G,yt.set(f,x);var gi=U1(At(f),At(x),we,Ue,nt,yt);return yt.delete(f),gi;case Fe:if(Ml)return Ml.call(f)==Ml.call(x)}return!1}function V1(f,x,j,we,Ue,nt){var yt=j&z,At=Oh(f),Ft=At.length,pi=Oh(x),gi=pi.length;if(Ft!=gi&&!yt)return!1;for(var Ei=Ft;Ei--;){var Vi=At[Ei];if(!(yt?Vi in x:mn.call(x,Vi)))return!1}var on=nt.get(f),yn=nt.get(x);if(on&&yn)return on==x&&yn==f;var Gn=!0;nt.set(f,x),nt.set(x,f);for(var wn=yt;++Ei<Ft;){Vi=At[Ei];var Qn=f[Vi],ar=x[Vi];if(we)var ua=yt?we(ar,Qn,Vi,x,f,nt):we(Qn,ar,Vi,f,x,nt);if(!(ua===a?Qn===ar||Ue(Qn,ar,j,we,nt):ua)){Gn=!1;break}wn||(wn=Vi=="constructor")}if(Gn&&!wn){var Lo=f.constructor,pa=x.constructor;Lo!=pa&&"constructor"in f&&"constructor"in x&&!(typeof Lo=="function"&&Lo instanceof Lo&&typeof pa=="function"&&pa instanceof pa)&&(Gn=!1)}return nt.delete(f),nt.delete(x),Gn}function Pa(f){return zm(du(f,a,J1),f+"")}function Oh(f){return Rt(f,ps,wp)}function zl(f){return Rt(f,Xo,Qr)}var xp=Sh?function(f){return Sh.get(f)}:gg;function bp(f){for(var x=f.name+"",j=Gc[x],we=mn.call(Gc,x)?j.length:0;we--;){var Ue=j[we],nt=Ue.func;if(nt==null||nt==f)return Ue.name}return x}function hc(f){var x=mn.call(Ye,"placeholder")?Ye:f;return x.placeholder}function un(){var f=Ye.iteratee||_c;return f=f===_c?er:f,arguments.length?f(arguments[0],arguments[1]):f}function ko(f,x){var j=f.__data__;return A2(x)?j[typeof x=="string"?"string":"hash"]:j.map}function Sd(f){for(var x=ps(f),j=x.length;j--;){var we=x[j],Ue=f[we];x[j]=[we,Ue,$f(Ue)]}return x}function vs(f,x){var j=Wo(f,x);return zi(j)?j:a}function il(f){var x=mn.call(f,qo),j=f[qo];try{f[qo]=a;var we=!0}catch{}var Ue=On.call(f);return we&&(x?f[qo]=j:delete f[qo]),Ue}var wp=Vc?function(f){return f==null?[]:(f=Ui(f),si(Vc(f),function(x){return Uc.call(f,x)}))}:yg,Qr=Vc?function(f){for(var x=[];f;)Cn(x,wp(f)),f=cd(f);return x}:yg,fo=Bt;(nu&&fo(new nu(new ArrayBuffer(1)))!=Vt||rc&&fo(new rc)!=me||gd&&fo(gd.resolve())!=it||Cl&&fo(new Cl)!=Ee||Th&&fo(new Th)!=He)&&(fo=function(f){var x=Bt(f),j=x==Ve?f.constructor:a,we=j?Md(j):"";if(we)switch(we){case ru:return Vt;case Tf:return me;case ap:return it;case lp:return Ee;case Eh:return He}return x});function Tp(f,x,j){for(var we=-1,Ue=j.length;++we<Ue;){var nt=j[we],yt=nt.size;switch(nt.type){case"drop":f+=yt;break;case"dropRight":x-=yt;break;case"take":x=ys(x,f+yt);break;case"takeRight":f=as(f,x-yt);break}}return{start:f,end:x}}function Bl(f){var x=f.match(Et);return x?x[1].split(zt):[]}function G1(f,x,j){x=Ph(x,f);for(var we=-1,Ue=x.length,nt=!1;++we<Ue;){var yt=Nl(x[we]);if(!(nt=f!=null&&j(f,yt)))break;f=f[yt]}return nt||++we!=Ue?nt:(Ue=f==null?0:f.length,!!Ue&&zh(Ue)&&dc(yt,Ue)&&(An(f)||Rh(f)))}function M2(f){var x=f.length,j=new f.constructor(x);return x&&typeof f[0]=="string"&&mn.call(f,"index")&&(j.index=f.index,j.input=f.input),j}function Lm(f){return typeof f.constructor=="function"&&!Yc(f)?sc(cd(f)):{}}function W1(f,x,j){var we=f.constructor;switch(x){case jt:return Pl(f);case Be:case re:return new we(+f);case Vt:return Uf(f,j);case vi:case ri:case bi:case Gi:case ki:case Ni:case Ai:case Tn:case In:return L1(f,j);case me:return new we;case ke:case De:return new we(f);case ht:return P1(f);case Ee:return new we;case Fe:return I1(f)}}function Ed(f,x){var j=x.length;if(!j)return f;var we=j-1;return x[we]=(j>1?"& ":"")+x[we],x=x.join(j>2?", ":" "),f.replace(ft,`{
/* [wrapped with `+x+`] */
`)}function $1(f){return An(f)||Rh(f)||!!(dd&&f&&f[dd])}function dc(f,x){var j=typeof f;return x=x??fe,!!x&&(j=="number"||j!="symbol"&&sn.test(f))&&f>-1&&f%1==0&&f<x}function Po(f,x,j){if(!zr(j))return!1;var we=typeof x;return(we=="number"?ha(j)&&dc(x,j.length):we=="string"&&x in j)?Ul(j[x],f):!1}function Wf(f,x){if(An(f))return!1;var j=typeof f;return j=="number"||j=="symbol"||j=="boolean"||f==null||Da(f)?!0:kc.test(f)||!Fa.test(f)||x!=null&&f in Ui(x)}function A2(f){var x=typeof f;return x=="string"||x=="number"||x=="symbol"||x=="boolean"?f!=="__proto__":f===null}function Dm(f){var x=bp(f),j=Ye[x];if(typeof j!="function"||!(x in pn.prototype))return!1;if(f===j)return!0;var we=xp(j);return!!we&&f===we[0]}function H1(f){return!!od&&od in f}var q1=Ps?gc:C0;function Yc(f){var x=f&&f.constructor,j=typeof x=="function"&&x.prototype||Hr;return f===j}function $f(f){return f===f&&!zr(f)}function Hf(f,x){return function(j){return j==null?!1:j[f]===x&&(x!==a||f in Ui(j))}}function Om(f){var x=c0(f,function(we){return j.size===L&&j.clear(),we}),j=x.cache;return x}function Io(f,x){var j=f[1],we=x[1],Ue=j|we,nt=Ue<(ae|B|S),yt=we==S&&j==V||we==S&&j==X&&f[7].length<=x[8]||we==(S|X)&&x[7].length<=x[8]&&j==V;if(!(nt||yt))return f;we&ae&&(f[2]=x[2],Ue|=j&ae?0:P);var At=x[3];if(At){var Ft=f[3];f[3]=Ft?Vf(Ft,At,x[4]):At,f[4]=Ft?Ho(f[3],ee):x[4]}return At=x[5],At&&(Ft=f[5],f[5]=Ft?cu(Ft,At,x[6]):At,f[6]=Ft?Ho(f[5],ee):x[6]),At=x[7],At&&(f[7]=At),we&S&&(f[8]=f[8]==null?x[8]:ys(f[8],x[8])),f[9]==null&&(f[9]=x[9]),f[0]=x[0],f[1]=Ue,f}function uc(f){var x=[];if(f!=null)for(var j in Ui(f))x.push(j);return x}function Cd(f){return On.call(f)}function du(f,x,j){return x=as(x===a?f.length-1:x,0),function(){for(var we=arguments,Ue=-1,nt=as(we.length-x,0),yt=kt(nt);++Ue<nt;)yt[Ue]=we[x+Ue];Ue=-1;for(var At=kt(x+1);++Ue<x;)At[Ue]=we[Ue];return At[x]=j(yt),Ge(f,this,At)}}function Ia(f,x){return x.length<2?f:Ct(f,ka(x,0,-1))}function nl(f,x){for(var j=f.length,we=ys(x.length,j),Ue=Ws(f);we--;){var nt=x[we];f[we]=dc(nt,j)?Ue[nt]:a}return f}function Rm(f,x){if(!(x==="constructor"&&typeof f[x]=="function")&&x!="__proto__")return f[x]}var Sp=Fl($c),uu=ia||function(f,x){return Or.setTimeout(f,x)},zm=Fl(M1);function qf(f,x,j){var we=x+"";return zm(f,Ed(we,Xf(Bl(we),j)))}function Fl(f){var x=0,j=0;return function(){var we=fd(),Ue=J-(we-j);if(j=we,Ue>0){if(++x>=q)return arguments[0]}else x=0;return f.apply(a,arguments)}}function pc(f,x){var j=-1,we=f.length,Ue=we-1;for(x=x===a?we:x;++j<x;){var nt=el(j,Ue),yt=f[nt];f[nt]=f[j],f[j]=yt}return f.length=x,f}var Bm=Om(function(f){var x=[];return f.charCodeAt(0)===46&&x.push(""),f.replace(Na,function(j,we,Ue,nt){x.push(Ue?nt.replace(Ut,"$1"):we||j)}),x});function Nl(f){if(typeof f=="string"||Da(f))return f;var x=f+"";return x=="0"&&1/f==-Q?"-0":x}function Md(f){if(f!=null){try{return Qs.call(f)}catch{}try{return f+""}catch{}}return""}function Xf(f,x){return gt(ie,function(j){var we="_."+j[0];x&j[1]&&!Yt(f,we)&&f.push(we)}),f.sort()}function Yf(f){if(f instanceof pn)return f.clone();var x=new co(f.__wrapped__,f.__chain__);return x.__actions__=Ws(f.__actions__),x.__index__=f.__index__,x.__values__=f.__values__,x}function pu(f,x,j){(j?Po(f,x,j):x===a)?x=1:x=as(Fn(x),0);var we=f==null?0:f.length;if(!we||x<1)return[];for(var Ue=0,nt=0,yt=kt(pd(we/x));Ue<we;)yt[nt++]=ka(f,Ue,Ue+=x);return yt}function fu(f){for(var x=-1,j=f==null?0:f.length,we=0,Ue=[];++x<j;){var nt=f[x];nt&&(Ue[we++]=nt)}return Ue}function Ep(){var f=arguments.length;if(!f)return[];for(var x=kt(f-1),j=arguments[0],we=f;we--;)x[we-1]=arguments[we];return Cn(An(j)?Ws(j):[j],je(x,1))}var Zf=gn(function(f,x){return xs(f)?ye(f,je(x,1,xs,!0)):[]}),X1=gn(function(f,x){var j=Ir(x);return xs(j)&&(j=a),xs(f)?ye(f,je(x,1,xs,!0),un(j,2)):[]}),Cp=gn(function(f,x){var j=Ir(x);return xs(j)&&(j=a),xs(f)?ye(f,je(x,1,xs,!0),a,j):[]});function Fm(f,x,j){var we=f==null?0:f.length;return we?(x=j||x===a?1:Fn(x),ka(f,x<0?0:x,we)):[]}function Y1(f,x,j){var we=f==null?0:f.length;return we?(x=j||x===a?1:Fn(x),x=we-x,ka(f,0,x<0?0:x)):[]}function mu(f,x){return f&&f.length?zf(f,un(x,3),!0,!0):[]}function Z1(f,x){return f&&f.length?zf(f,un(x,3),!0):[]}function Nm(f,x,j,we){var Ue=f==null?0:f.length;return Ue?(j&&typeof j!="number"&&Po(f,x,j)&&(j=0,we=Ue),Je(f,x,j,we)):[]}function jm(f,x,j){var we=f==null?0:f.length;if(!we)return-1;var Ue=j==null?0:Fn(j);return Ue<0&&(Ue=as(we+Ue,0)),Un(f,un(x,3),Ue)}function K1(f,x,j){var we=f==null?0:f.length;if(!we)return-1;var Ue=we-1;return j!==a&&(Ue=Fn(j),Ue=j<0?as(we+Ue,0):ys(Ue,we-1)),Un(f,un(x,3),Ue,!0)}function J1(f){var x=f==null?0:f.length;return x?je(f,1):[]}function Mp(f){var x=f==null?0:f.length;return x?je(f,Q):[]}function Q1(f,x){var j=f==null?0:f.length;return j?(x=x===a?1:Fn(x),je(f,x)):[]}function Zn(f){for(var x=-1,j=f==null?0:f.length,we={};++x<j;){var Ue=f[x];we[Ue[0]]=Ue[1]}return we}function Kf(f){return f&&f.length?f[0]:a}function fc(f,x,j){var we=f==null?0:f.length;if(!we)return-1;var Ue=j==null?0:Fn(j);return Ue<0&&(Ue=as(we+Ue,0)),Qi(f,x,Ue)}function mc(f){var x=f==null?0:f.length;return x?ka(f,0,-1):[]}var jl=gn(function(f){var x=ji(f,gp);return x.length&&x[0]===f[0]?Jt(x):[]}),La=gn(function(f){var x=Ir(f),j=ji(f,gp);return x===Ir(j)?x=a:j.pop(),j.length&&j[0]===f[0]?Jt(j,un(x,2)):[]}),to=gn(function(f){var x=Ir(f),j=ji(f,gp);return x=typeof x=="function"?x:a,x&&j.pop(),j.length&&j[0]===f[0]?Jt(j,a,x):[]});function e_(f,x){return f==null?"":iu.call(f,x)}function Ir(f){var x=f==null?0:f.length;return x?f[x-1]:a}function t_(f,x,j){var we=f==null?0:f.length;if(!we)return-1;var Ue=we;return j!==a&&(Ue=Fn(j),Ue=Ue<0?as(we+Ue,0):ys(Ue,we-1)),x===x?jc(f,x,Ue):Un(f,Bc,Ue,!0)}function gu(f,x){return f&&f.length?fr(f,Fn(x)):a}var Um=gn(Vm);function Vm(f,x){return f&&f.length&&x&&x.length?zs(f,x):f}function Gm(f,x,j){return f&&f.length&&x&&x.length?zs(f,x,un(j,2)):f}function k2(f,x,j){return f&&f.length&&x&&x.length?zs(f,x,a,j):f}var Wm=Pa(function(f,x){var j=f==null?0:f.length,we=w(f,x);return Gs(f,ji(x,function(Ue){return dc(Ue,j)?+Ue:Ue}).sort(D1)),we});function i_(f,x){var j=[];if(!(f&&f.length))return j;var we=-1,Ue=[],nt=f.length;for(x=un(x,3);++we<nt;){var yt=f[we];x(yt,we,f)&&(j.push(yt),Ue.push(we))}return Gs(f,Ue),j}function $m(f){return f==null?f:wm.call(f)}function Zc(f,x,j){var we=f==null?0:f.length;return we?(j&&typeof j!="number"&&Po(f,x,j)?(x=0,j=we):(x=x==null?0:Fn(x),j=j===a?we:Fn(j)),ka(f,x,j)):[]}function Ad(f,x){return mp(f,x)}function Jf(f,x,j){return Of(f,x,un(j,2))}function Qf(f,x){var j=f==null?0:f.length;if(j){var we=mp(f,x);if(we<j&&Ul(f[we],x))return we}return-1}function Hm(f,x){return mp(f,x,!0)}function n_(f,x,j){return Of(f,x,un(j,2),!0)}function P2(f,x){var j=f==null?0:f.length;if(j){var we=mp(f,x,!0)-1;if(Ul(f[we],x))return we}return-1}function r_(f){return f&&f.length?Cm(f):[]}function I2(f,x){return f&&f.length?Cm(f,un(x,2)):[]}function qm(f){var x=f==null?0:f.length;return x?ka(f,1,x):[]}function L2(f,x,j){return f&&f.length?(x=j||x===a?1:Fn(x),ka(f,0,x<0?0:x)):[]}function Xm(f,x,j){var we=f==null?0:f.length;return we?(x=j||x===a?1:Fn(x),x=we-x,ka(f,x<0?0:x,we)):[]}function s_(f,x){return f&&f.length?zf(f,un(x,3),!1,!0):[]}function o_(f,x){return f&&f.length?zf(f,un(x,3)):[]}var kd=gn(function(f){return Hc(je(f,1,xs,!0))}),a_=gn(function(f){var x=Ir(f);return xs(x)&&(x=a),Hc(je(f,1,xs,!0),un(x,2))}),D2=gn(function(f){var x=Ir(f);return x=typeof x=="function"?x:a,Hc(je(f,1,xs,!0),a,x)});function _u(f){return f&&f.length?Hc(f):[]}function e0(f,x){return f&&f.length?Hc(f,un(x,2)):[]}function l_(f,x){return x=typeof x=="function"?x:a,f&&f.length?Hc(f,a,x):[]}function t0(f){if(!(f&&f.length))return[];var x=0;return f=si(f,function(j){if(xs(j))return x=as(j.length,x),!0}),Ha(x,function(j){return ji(f,Sa(j))})}function c_(f,x){if(!(f&&f.length))return[];var j=t0(f);return x==null?j:ji(j,function(we){return Ge(x,a,we)})}var O2=gn(function(f,x){return xs(f)?ye(f,x):[]}),h_=gn(function(f){return Am(si(f,xs))}),R2=gn(function(f){var x=Ir(f);return xs(x)&&(x=a),Am(si(f,xs),un(x,2))}),d_=gn(function(f){var x=Ir(f);return x=typeof x=="function"?x:a,Am(si(f,xs),a,x)}),z2=gn(t0);function B2(f,x){return Bf(f||[],x||[],ac)}function u_(f,x){return Bf(f||[],x||[],oa)}var p_=gn(function(f){var x=f.length,j=x>1?f[x-1]:a;return j=typeof j=="function"?(f.pop(),j):a,c_(f,j)});function Ym(f){var x=Ye(f);return x.__chain__=!0,x}function Zm(f,x){return x(f),f}function rl(f,x){return x(f)}var ca=Pa(function(f){var x=f.length,j=x?f[0]:0,we=this.__wrapped__,Ue=function(nt){return w(nt,f)};return x>1||this.__actions__.length||!(we instanceof pn)||!dc(j)?this.thru(Ue):(we=we.slice(j,+j+(x?1:0)),we.__actions__.push({func:rl,args:[Ue],thisArg:a}),new co(we,this.__chain__).thru(function(nt){return x&&!nt.length&&nt.push(a),nt}))});function F2(){return Ym(this)}function Km(){return new co(this.value(),this.__chain__)}function N2(){this.__values__===a&&(this.__values__=$s(this.value()));var f=this.__index__>=this.__values__.length,x=f?a:this.__values__[this.__index__++];return{done:f,value:x}}function j2(){return this}function U2(f){for(var x,j=this;j instanceof _d;){var we=Yf(j);we.__index__=0,we.__values__=a,x?Ue.__wrapped__=we:x=we;var Ue=we;j=j.__wrapped__}return Ue.__wrapped__=f,x}function yu(){var f=this.__wrapped__;if(f instanceof pn){var x=f;return this.__actions__.length&&(x=new pn(this)),x=x.reverse(),x.__actions__.push({func:rl,args:[$m],thisArg:a}),new co(x,this.__chain__)}return this.thru($m)}function i0(){return kh(this.__wrapped__,this.__actions__)}var f_=Ll(function(f,x,j){mn.call(f,j)?++f[j]:_(f,j,1)});function Pd(f,x,j){var we=An(f)?Wt:Ze;return j&&Po(f,x,j)&&(x=a),we(f,un(x,3))}function Ap(f,x){var j=An(f)?si:et;return j(f,un(x,3))}var V2=B1(jm),G2=B1(K1);function W2(f,x){return je(Xr(f,x),1)}function $2(f,x){return je(Xr(f,x),Q)}function H2(f,x,j){return j=j===a?1:Fn(j),je(Xr(f,x),j)}function m_(f,x){var j=An(f)?gt:Pe;return j(f,un(x,3))}function g_(f,x){var j=An(f)?Lt:$e;return j(f,un(x,3))}var Jm=Ll(function(f,x,j){mn.call(f,j)?f[j].push(x):_(f,j,[x])});function q2(f,x,j,we){f=ha(f)?f:Nh(f),j=j&&!we?Fn(j):0;var Ue=f.length;return j<0&&(j=as(Ue+j,0)),zp(f)?j<=Ue&&f.indexOf(x,j)>-1:!!Ue&&Qi(f,x,j)>-1}var vu=gn(function(f,x,j){var we=-1,Ue=typeof x=="function",nt=ha(f)?kt(f.length):[];return Pe(f,function(yt){nt[++we]=Ue?Ge(x,yt,j):Gt(yt,x,j)}),nt}),X2=Ll(function(f,x,j){_(f,j,x)});function Xr(f,x){var j=An(f)?ji:ls;return j(f,un(x,3))}function n0(f,x,j,we){return f==null?[]:(An(x)||(x=x==null?[]:[x]),j=we?a:j,An(j)||(j=j==null?[]:[j]),Yn(f,x,j))}var __=Ll(function(f,x,j){f[j?0:1].push(x)},function(){return[[],[]]});function r0(f,x,j){var we=An(f)?En:Vo,Ue=arguments.length<3;return we(f,un(x,4),j,Ue,Pe)}function s0(f,x,j){var we=An(f)?ds:Vo,Ue=arguments.length<3;return we(f,un(x,4),j,Ue,$e)}function kp(f,x){var j=An(f)?si:et;return j(f,h0(un(x,3)))}function y_(f){var x=An(f)?fp:kl;return x(f)}function v_(f,x,j){(j?Po(f,x,j):x===a)?x=1:x=Fn(x);var we=An(f)?Lf:cc;return we(f,x)}function Pp(f){var x=An(f)?Df:Em;return x(f)}function Qm(f){if(f==null)return 0;if(ha(f))return zp(f)?ta(f):f.length;var x=fo(f);return x==me||x==Ee?f.size:tr(f).length}function eg(f,x,j){var we=An(f)?Rr:A1;return j&&Po(f,x,j)&&(x=a),we(f,un(x,3))}var Y2=gn(function(f,x){if(f==null)return[];var j=x.length;return j>1&&Po(f,x[0],x[1])?x=[]:j>2&&Po(x[0],x[1],x[2])&&(x=[x[0]]),Yn(f,je(x,1),[])}),Ip=Oi||function(){return Or.Date.now()};function Lp(f,x){if(typeof x!="function")throw new Vn(y);return f=Fn(f),function(){if(--f<1)return x.apply(this,arguments)}}function x_(f,x,j){return x=j?a:x,x=f&&x==null?f.length:x,Rl(f,S,a,a,a,a,x)}function o0(f,x){var j;if(typeof x!="function")throw new Vn(y);return f=Fn(f),function(){return--f>0&&(j=x.apply(this,arguments)),f<=1&&(x=a),j}}var tg=gn(function(f,x,j){var we=ae;if(j.length){var Ue=Ho(j,hc(tg));we|=R}return Rl(f,we,x,j,Ue)}),a0=gn(function(f,x,j){var we=ae|B;if(j.length){var Ue=Ho(j,hc(a0));we|=R}return Rl(x,we,f,j,Ue)});function l0(f,x,j){x=j?a:x;var we=Rl(f,V,a,a,a,a,a,x);return we.placeholder=l0.placeholder,we}function Dp(f,x,j){x=j?a:x;var we=Rl(f,W,a,a,a,a,a,x);return we.placeholder=Dp.placeholder,we}function b_(f,x,j){var we,Ue,nt,yt,At,Ft,pi=0,gi=!1,Ei=!1,Vi=!0;if(typeof f!="function")throw new Vn(y);x=go(x)||0,zr(j)&&(gi=!!j.leading,Ei="maxWait"in j,nt=Ei?as(go(j.maxWait)||0,x):nt,Vi="trailing"in j?!!j.trailing:Vi);function on(bs){var sl=we,Do=Ue;return we=Ue=a,pi=bs,yt=f.apply(Do,sl),yt}function yn(bs){return pi=bs,At=uu(Qn,x),gi?on(bs):yt}function Gn(bs){var sl=bs-Ft,Do=bs-pi,Tg=x-sl;return Ei?ys(Tg,nt-Do):Tg}function wn(bs){var sl=bs-Ft,Do=bs-pi;return Ft===a||sl>=x||sl<0||Ei&&Do>=nt}function Qn(){var bs=Ip();if(wn(bs))return ar(bs);At=uu(Qn,Gn(bs))}function ar(bs){return At=a,Vi&&we?on(bs):(we=Ue=a,yt)}function ua(){At!==a&&jf(At),pi=0,we=Ft=Ue=At=a}function Lo(){return At===a?yt:ar(Ip())}function pa(){var bs=Ip(),sl=wn(bs);if(we=arguments,Ue=this,Ft=bs,sl){if(At===a)return yn(Ft);if(Ei)return jf(At),At=uu(Qn,x),on(Ft)}return At===a&&(At=uu(Qn,x)),yt}return pa.cancel=ua,pa.flush=Lo,pa}var Z2=gn(function(f,x){return ve(f,1,x)}),K2=gn(function(f,x,j){return ve(f,go(x)||0,j)});function J2(f){return Rl(f,I)}function c0(f,x){if(typeof f!="function"||x!=null&&typeof x!="function")throw new Vn(y);var j=function(){var we=arguments,Ue=x?x.apply(this,we):we[0],nt=j.cache;if(nt.has(Ue))return nt.get(Ue);var yt=f.apply(this,we);return j.cache=nt.set(Ue,yt)||nt,yt};return j.cache=new(c0.Cache||Ja),j}c0.Cache=Ja;function h0(f){if(typeof f!="function")throw new Vn(y);return function(){var x=arguments;switch(x.length){case 0:return!f.call(this);case 1:return!f.call(this,x[0]);case 2:return!f.call(this,x[0],x[1]);case 3:return!f.call(this,x[0],x[1],x[2])}return!f.apply(this,x)}}function d0(f){return o0(2,f)}var Q2=Nf(function(f,x){x=x.length==1&&An(x[0])?ji(x[0],Os(un())):ji(je(x,1),Os(un()));var j=x.length;return gn(function(we){for(var Ue=-1,nt=ys(we.length,j);++Ue<nt;)we[Ue]=x[Ue].call(this,we[Ue]);return Ge(f,this,we)})}),u0=gn(function(f,x){var j=Ho(x,hc(u0));return Rl(f,R,a,x,j)}),Id=gn(function(f,x){var j=Ho(x,hc(Id));return Rl(f,se,a,x,j)}),ex=Pa(function(f,x){return Rl(f,X,a,a,a,x)});function tx(f,x){if(typeof f!="function")throw new Vn(y);return x=x===a?x:Fn(x),gn(f,x)}function ix(f,x){if(typeof f!="function")throw new Vn(y);return x=x==null?0:as(Fn(x),0),gn(function(j){var we=j[x],Ue=qc(j,0,x);return we&&Cn(Ue,we),Ge(f,this,Ue)})}function w_(f,x,j){var we=!0,Ue=!0;if(typeof f!="function")throw new Vn(y);return zr(j)&&(we="leading"in j?!!j.leading:we,Ue="trailing"in j?!!j.trailing:Ue),b_(f,x,{leading:we,maxWait:x,trailing:Ue})}function T_(f){return x_(f,1)}function nx(f,x){return u0(Ff(x),f)}function rx(){if(!arguments.length)return[];var f=arguments[0];return An(f)?f:[f]}function sx(f){return N(f,ne)}function ig(f,x){return x=typeof x=="function"?x:a,N(f,ne,x)}function p0(f){return N(f,F|ne)}function f0(f,x){return x=typeof x=="function"?x:a,N(f,F|ne,x)}function ox(f,x){return x==null||le(f,x,ps(x))}function Ul(f,x){return f===x||f!==f&&x!==x}var Op=la(Ht),Rp=la(function(f,x){return f>=x}),Rh=Dt(function(){return arguments}())?Dt:function(f){return Yr(f)&&mn.call(f,"callee")&&!Uc.call(f,"callee")},An=kt.isArray,S_=M?Os(M):Xt;function ha(f){return f!=null&&zh(f.length)&&!gc(f)}function xs(f){return Yr(f)&&ha(f)}function E_(f){return f===!0||f===!1||Yr(f)&&Bt(f)==Be}var Kc=wh||C0,C_=U?Os(U):di;function M_(f){return Yr(f)&&f.nodeType===1&&!Bh(f)}function A_(f){if(f==null)return!0;if(ha(f)&&(An(f)||typeof f=="string"||typeof f.splice=="function"||Kc(f)||xu(f)||Rh(f)))return!f.length;var x=fo(f);if(x==me||x==Ee)return!f.size;if(Yc(f))return!tr(f).length;for(var j in f)if(mn.call(f,j))return!1;return!0}function ax(f,x){return fi(f,x)}function lx(f,x,j){j=typeof j=="function"?j:a;var we=j?j(f,x):a;return we===a?fi(f,x,a,j):!!we}function m0(f){if(!Yr(f))return!1;var x=Bt(f);return x==_e||x==xe||typeof f.message=="string"&&typeof f.name=="string"&&!Bh(f)}function g0(f){return typeof f=="number"&&sp(f)}function gc(f){if(!zr(f))return!1;var x=Bt(f);return x==Y||x==de||x==Ce||x==tt}function mo(f){return typeof f=="number"&&f==Fn(f)}function zh(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=fe}function zr(f){var x=typeof f;return f!=null&&(x=="object"||x=="function")}function Yr(f){return f!=null&&typeof f=="object"}var ng=ue?Os(ue):Mn;function k_(f,x){return f===x||Fi(f,x,Sd(x))}function cx(f,x,j){return j=typeof j=="function"?j:a,Fi(f,x,Sd(x),j)}function hx(f){return P_(f)&&f!=+f}function dx(f){if(q1(f))throw new _i(p);return zi(f)}function ux(f){return f===null}function px(f){return f==null}function P_(f){return typeof f=="number"||Yr(f)&&Bt(f)==ke}function Bh(f){if(!Yr(f)||Bt(f)!=Ve)return!1;var x=cd(f);if(x===null)return!0;var j=mn.call(x,"constructor")&&x.constructor;return typeof j=="function"&&j instanceof j&&Qs.call(j)==tu}var rg=be?Os(be):Zi;function I_(f){return mo(f)&&f>=-fe&&f<=fe}var sg=Oe?Os(Oe):Rn;function zp(f){return typeof f=="string"||!An(f)&&Yr(f)&&Bt(f)==De}function Da(f){return typeof f=="symbol"||Yr(f)&&Bt(f)==Fe}var xu=Re?Os(Re):nn;function fx(f){return f===a}function mx(f){return Yr(f)&&fo(f)==He}function gx(f){return Yr(f)&&Bt(f)==xt}var L_=la(hr),_x=la(function(f,x){return f<=x});function $s(f){if(!f)return[];if(ha(f))return zp(f)?lo(f):Ws(f);if(Aa&&f[Aa])return $o(f[Aa]());var x=fo(f),j=x==me?tc:x==Ee?Ma:Nh;return j(f)}function io(f){if(!f)return f===0?f:0;if(f=go(f),f===Q||f===-Q){var x=f<0?-1:1;return x*Te}return f===f?f:0}function Fn(f){var x=io(f),j=x%1;return x===x?j?x-j:x:0}function Bp(f){return f?E(Fn(f),0,Me):0}function go(f){if(typeof f=="number")return f;if(Da(f))return oe;if(zr(f)){var x=typeof f.valueOf=="function"?f.valueOf():f;f=zr(x)?x+"":x}if(typeof f!="string")return f===0?f:+f;f=ao(f);var j=en.test(f);return j||Hi.test(f)?zc(f.slice(2),j?2:8):mi.test(f)?oe:+f}function D_(f){return eo(f,Xo(f))}function yx(f){return f?E(Fn(f),-fe,fe):f===0?f:0}function dr(f){return f==null?"":aa(f)}var vx=tl(function(f,x){if(Yc(x)||ha(x)){eo(x,ps(x),f);return}for(var j in x)mn.call(x,j)&&ac(f,j,x[j])}),O_=tl(function(f,x){eo(x,Xo(x),f)}),Fh=tl(function(f,x,j,we){eo(x,Xo(x),f,we)}),R_=tl(function(f,x,j,we){eo(x,ps(x),f,we)}),z_=Pa(w);function wr(f,x){var j=sc(f);return x==null?j:o(j,x)}var og=gn(function(f,x){f=Ui(f);var j=-1,we=x.length,Ue=we>2?x[2]:a;for(Ue&&Po(x[0],x[1],Ue)&&(we=1);++j<we;)for(var nt=x[j],yt=Xo(nt),At=-1,Ft=yt.length;++At<Ft;){var pi=yt[At],gi=f[pi];(gi===a||Ul(gi,Hr[pi])&&!mn.call(f,pi))&&(f[pi]=nt[pi])}return f}),B_=gn(function(f){return f.push(a,Pm),Ge(y0,a,f)});function F_(f,x){return Uo(f,un(x,3),dt)}function Jc(f,x){return Uo(f,un(x,3),wt)}function bu(f,x){return f==null?f:ut(f,un(x,3),Xo)}function N_(f,x){return f==null?f:ct(f,un(x,3),Xo)}function xx(f,x){return f&&dt(f,un(x,3))}function bx(f,x){return f&&wt(f,un(x,3))}function wx(f){return f==null?[]:vt(f,ps(f))}function Tx(f){return f==null?[]:vt(f,Xo(f))}function ag(f,x,j){var we=f==null?a:Ct(f,x);return we===a?j:we}function Sx(f,x){return f!=null&&G1(f,x,Si)}function lg(f,x){return f!=null&&G1(f,x,Nt)}var Ex=ln(function(f,x,j){x!=null&&typeof x.toString!="function"&&(x=On.call(x)),f[x]=j},jp(da)),Cx=ln(function(f,x,j){x!=null&&typeof x.toString!="function"&&(x=On.call(x)),mn.call(f,x)?f[x].push(j):f[x]=[j]},un),_0=gn(Gt);function ps(f){return ha(f)?au(f):tr(f)}function Xo(f){return ha(f)?au(f,!0):br(f)}function Mx(f,x){var j={};return x=un(x,3),dt(f,function(we,Ue,nt){_(j,x(we,Ue,nt),we)}),j}function Ax(f,x){var j={};return x=un(x,3),dt(f,function(we,Ue,nt){_(j,Ue,x(we,Ue,nt))}),j}var kx=tl(function(f,x,j){sa(f,x,j)}),y0=tl(function(f,x,j,we){sa(f,x,j,we)}),cg=Pa(function(f,x){var j={};if(f==null)return j;var we=!1;x=ji(x,function(nt){return nt=Ph(nt,f),we||(we=nt.length>1),nt}),eo(f,zl(f),j),we&&(j=N(j,F|Z|ne,j1));for(var Ue=x.length;Ue--;)Rf(j,x[Ue]);return j});function j_(f,x){return wu(f,h0(un(x)))}var Oa=Pa(function(f,x){return f==null?{}:Jr(f,x)});function wu(f,x){if(f==null)return{};var j=ji(zl(f),function(we){return[we]});return x=un(x),Vs(f,j,function(we,Ue){return x(we,Ue[0])})}function Tu(f,x,j){x=Ph(x,f);var we=-1,Ue=x.length;for(Ue||(Ue=1,f=a);++we<Ue;){var nt=f==null?a:f[Nl(x[we])];nt===a&&(we=Ue,nt=j),f=gc(nt)?nt.call(f):nt}return f}function hg(f,x,j){return f==null?f:oa(f,x,j)}function v0(f,x,j,we){return we=typeof we=="function"?we:a,f==null?f:oa(f,x,j,we)}var U_=Dh(ps),dg=Dh(Xo);function V_(f,x,j){var we=An(f),Ue=we||Kc(f)||xu(f);if(x=un(x,4),j==null){var nt=f&&f.constructor;Ue?j=we?new nt:[]:zr(f)?j=gc(nt)?sc(cd(f)):{}:j={}}return(Ue?gt:dt)(f,function(yt,At,Ft){return x(j,yt,At,Ft)}),j}function Px(f,x){return f==null?!0:Rf(f,x)}function G_(f,x,j){return f==null?f:k1(f,x,Ff(j))}function W_(f,x,j,we){return we=typeof we=="function"?we:a,f==null?f:k1(f,x,Ff(j),we)}function Nh(f){return f==null?[]:_h(f,ps(f))}function $_(f){return f==null?[]:_h(f,Xo(f))}function Ix(f,x,j){return j===a&&(j=x,x=a),j!==a&&(j=go(j),j=j===j?j:0),x!==a&&(x=go(x),x=x===x?x:0),E(go(f),x,j)}function H_(f,x,j){return x=io(x),j===a?(j=x,x=0):j=io(j),f=go(f),oi(f,x,j)}function Qc(f,x,j){if(j&&typeof j!="boolean"&&Po(f,x,j)&&(x=j=a),j===a&&(typeof x=="boolean"?(j=x,x=a):typeof f=="boolean"&&(j=f,f=a)),f===a&&x===a?(f=0,x=1):(f=io(f),x===a?(x=f,f=0):x=io(x)),f>x){var we=f;f=x,x=we}if(j||f%1||x%1){var Ue=md();return ys(f+Ue*(x-f+mh("1e-"+((Ue+"").length-1))),x)}return el(f,x)}var q_=Td(function(f,x,j){return x=x.toLowerCase(),f+(j?ug(x):x)});function ug(f){return Np(dr(f).toLowerCase())}function pg(f){return f=dr(f),f&&f.replace(xn,Tl).replace(ss,"")}function X_(f,x,j){f=dr(f),x=aa(x);var we=f.length;j=j===a?we:E(Fn(j),0,we);var Ue=j;return j-=x.length,j>=0&&f.slice(j,Ue)==x}function Lx(f){return f=dr(f),f&&Ac.test(f)?f.replace(_r,Fc):f}function Dx(f){return f=dr(f),f&&Le.test(f)?f.replace(rt,"\\$&"):f}var Y_=Td(function(f,x,j){return f+(j?"-":"")+x.toLowerCase()}),Z_=Td(function(f,x,j){return f+(j?" ":"")+x.toLowerCase()}),Fp=z1("toLowerCase");function K_(f,x,j){f=dr(f),x=Fn(x);var we=x?ta(f):0;if(!x||we>=x)return f;var Ue=(x-we)/2;return po(bh(Ue),j)+f+po(pd(Ue),j)}function J_(f,x,j){f=dr(f),x=Fn(x);var we=x?ta(f):0;return x&&we<x?f+po(x-we,j):f}function fg(f,x,j){f=dr(f),x=Fn(x);var we=x?ta(f):0;return x&&we<x?po(x-we,j)+f:f}function Su(f,x,j){return j||x==null?x=0:x&&(x=+x),Rs(dr(f).replace(Ne,""),x||0)}function Q_(f,x,j){return(j?Po(f,x,j):x===a)?x=1:x=Fn(x),uo(dr(f),x)}function x0(){var f=arguments,x=dr(f[0]);return f.length<3?x:x.replace(f[1],f[2])}var ey=Td(function(f,x,j){return f+(j?"_":"")+x.toLowerCase()});function b0(f,x,j){return j&&typeof j!="number"&&Po(f,x,j)&&(x=j=a),j=j===a?Me:j>>>0,j?(f=dr(f),f&&(typeof x=="string"||x!=null&&!rg(x))&&(x=aa(x),!x&&Js(f))?qc(lo(f),0,j):f.split(x,j)):[]}var w0=Td(function(f,x,j){return f+(j?" ":"")+Np(x)});function Ox(f,x,j){return f=dr(f),j=j==null?0:E(Fn(j),0,f.length),x=aa(x),f.slice(j,j+x.length)==x}function Rx(f,x,j){var we=Ye.templateSettings;j&&Po(f,x,j)&&(x=a),f=dr(f),x=Fh({},x,we,vp);var Ue=Fh({},x.imports,we.imports,vp),nt=ps(Ue),yt=_h(Ue,nt),At,Ft,pi=0,gi=x.interpolate||jn,Ei="__p += '",Vi=Dn((x.escape||jn).source+"|"+gi.source+"|"+(gi===Ls?hi:jn).source+"|"+(x.evaluate||jn).source+"|$","g"),on="//# sourceURL="+(mn.call(x,"sourceURL")?(x.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Jl+"]")+`
`;f.replace(Vi,function(wn,Qn,ar,ua,Lo,pa){return ar||(ar=ua),Ei+=f.slice(pi,pa).replace(tn,rd),Qn&&(At=!0,Ei+=`' +
__e(`+Qn+`) +
'`),Lo&&(Ft=!0,Ei+=`';
`+Lo+`;
__p += '`),ar&&(Ei+=`' +
((__t = (`+ar+`)) == null ? '' : __t) +
'`),pi=pa+wn.length,wn}),Ei+=`';
`;var yn=mn.call(x,"variable")&&x.variable;if(!yn)Ei=`with (obj) {
`+Ei+`
}
`;else if(Mt.test(yn))throw new _i(s);Ei=(Ft?Ei.replace(Hn,""):Ei).replace(hs,"$1").replace(nr,"$1;"),Ei="function("+(yn||"obj")+`) {
`+(yn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(At?", __e = _.escape":"")+(Ft?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ei+`return __p
}`;var Gn=eh(function(){return Yi(nt,on+"return "+Ei).apply(a,yt)});if(Gn.source=Ei,m0(Gn))throw Gn;return Gn}function zx(f){return dr(f).toLowerCase()}function Bx(f){return dr(f).toUpperCase()}function Fx(f,x,j){if(f=dr(f),f&&(j||x===a))return ao(f);if(!f||!(x=aa(x)))return f;var we=lo(f),Ue=lo(x),nt=pr(we,Ue),yt=Ca(we,Ue)+1;return qc(we,nt,yt).join("")}function Eu(f,x,j){if(f=dr(f),f&&(j||x===a))return f.slice(0,xh(f)+1);if(!f||!(x=aa(x)))return f;var we=lo(f),Ue=Ca(we,lo(x))+1;return qc(we,0,Ue).join("")}function mg(f,x,j){if(f=dr(f),f&&(j||x===a))return f.replace(Ne,"");if(!f||!(x=aa(x)))return f;var we=lo(f),Ue=pr(we,lo(x));return qc(we,Ue).join("")}function Nx(f,x){var j=$,we=K;if(zr(x)){var Ue="separator"in x?x.separator:Ue;j="length"in x?Fn(x.length):j,we="omission"in x?aa(x.omission):we}f=dr(f);var nt=f.length;if(Js(f)){var yt=lo(f);nt=yt.length}if(j>=nt)return f;var At=j-ta(we);if(At<1)return we;var Ft=yt?qc(yt,0,At).join(""):f.slice(0,At);if(Ue===a)return Ft+we;if(yt&&(At+=Ft.length-At),rg(Ue)){if(f.slice(At).search(Ue)){var pi,gi=Ft;for(Ue.global||(Ue=Dn(Ue.source,dr(Li.exec(Ue))+"g")),Ue.lastIndex=0;pi=Ue.exec(gi);)var Ei=pi.index;Ft=Ft.slice(0,Ei===a?At:Ei)}}else if(f.indexOf(aa(Ue),At)!=At){var Vi=Ft.lastIndexOf(Ue);Vi>-1&&(Ft=Ft.slice(0,Vi))}return Ft+we}function ty(f){return f=dr(f),f&&Mc.test(f)?f.replace(rr,sd):f}var jx=Td(function(f,x,j){return f+(j?" ":"")+x.toUpperCase()}),Np=z1("toUpperCase");function iy(f,x,j){return f=dr(f),x=j?a:x,x===a?yh(f)?It(f):Pn(f):f.match(x)||[]}var eh=gn(function(f,x){try{return Ge(f,a,x)}catch(j){return m0(j)?j:new _i(j)}}),ny=Pa(function(f,x){return gt(x,function(j){j=Nl(j),_(f,j,tg(f[j],f))}),f});function ry(f){var x=f==null?0:f.length,j=un();return f=x?ji(f,function(we){if(typeof we[1]!="function")throw new Vn(y);return[j(we[0]),we[1]]}):[],gn(function(we){for(var Ue=-1;++Ue<x;){var nt=f[Ue];if(Ge(nt[0],this,we))return Ge(nt[1],this,we)}})}function T0(f){return H(N(f,F))}function jp(f){return function(){return f}}function Ux(f,x){return f==null||f!==f?x:f}var sy=F1(),Ld=F1(!0);function da(f){return f}function _c(f){return er(typeof f=="function"?f:N(f,F))}function Vx(f){return ho(N(f,F))}function Up(f,x){return ra(f,N(x,F))}var Vp=gn(function(f,x){return function(j){return Gt(j,f,x)}}),Gp=gn(function(f,x){return function(j){return Gt(f,j,x)}});function Dd(f,x,j){var we=ps(x),Ue=vt(x,we);j==null&&!(zr(x)&&(Ue.length||!we.length))&&(j=x,x=f,f=this,Ue=vt(x,ps(x)));var nt=!(zr(j)&&"chain"in j)||!!j.chain,yt=gc(f);return gt(Ue,function(At){var Ft=x[At];f[At]=Ft,yt&&(f.prototype[At]=function(){var pi=this.__chain__;if(nt||pi){var gi=f(this.__wrapped__),Ei=gi.__actions__=Ws(this.__actions__);return Ei.push({func:Ft,args:arguments,thisArg:f}),gi.__chain__=pi,gi}return Ft.apply(f,Cn([this.value()],arguments))})}),f}function S0(){return Or._===this&&(Or._=bm),this}function gg(){}function Gx(f){return f=Fn(f),gn(function(x){return fr(x,f)})}var Cu=hu(ji),E0=hu(Wt),Wx=hu(Rr);function _g(f){return Wf(f)?Sa(Nl(f)):Mr(f)}function oy(f){return function(x){return f==null?a:Ct(f,x)}}var $x=km(),ay=km(!0);function yg(){return[]}function C0(){return!1}function Hx(){return{}}function ly(){return""}function qx(){return!0}function Xx(f,x){if(f=Fn(f),f<1||f>fe)return[];var j=Me,we=ys(f,Me);x=un(x),f-=Me;for(var Ue=Ha(we,x);++j<f;)x(j);return Ue}function M0(f){return An(f)?ji(f,Nl):Da(f)?[f]:Ws(Bm(dr(f)))}function A0(f){var x=++Sl;return dr(f)+x}var k0=Ol(function(f,x){return f+x},0),Yx=Xc("ceil"),vg=Ol(function(f,x){return f/x},1),xg=Xc("floor");function jh(f){return f&&f.length?Ke(f,da,Ht):a}function Zx(f,x){return f&&f.length?Ke(f,un(x,2),Ht):a}function bg(f){return Ao(f,da)}function cy(f,x){return Ao(f,un(x,2))}function P0(f){return f&&f.length?Ke(f,da,hr):a}function Kx(f,x){return f&&f.length?Ke(f,un(x,2),hr):a}var Jx=Ol(function(f,x){return f*x},1),Qx=Xc("round"),eb=Ol(function(f,x){return f-x},0);function wg(f){return f&&f.length?Ks(f,da):0}function tb(f,x){return f&&f.length?Ks(f,un(x,2)):0}return Ye.after=Lp,Ye.ary=x_,Ye.assign=vx,Ye.assignIn=O_,Ye.assignInWith=Fh,Ye.assignWith=R_,Ye.at=z_,Ye.before=o0,Ye.bind=tg,Ye.bindAll=ny,Ye.bindKey=a0,Ye.castArray=rx,Ye.chain=Ym,Ye.chunk=pu,Ye.compact=fu,Ye.concat=Ep,Ye.cond=ry,Ye.conforms=T0,Ye.constant=jp,Ye.countBy=f_,Ye.create=wr,Ye.curry=l0,Ye.curryRight=Dp,Ye.debounce=b_,Ye.defaults=og,Ye.defaultsDeep=B_,Ye.defer=Z2,Ye.delay=K2,Ye.difference=Zf,Ye.differenceBy=X1,Ye.differenceWith=Cp,Ye.drop=Fm,Ye.dropRight=Y1,Ye.dropRightWhile=mu,Ye.dropWhile=Z1,Ye.fill=Nm,Ye.filter=Ap,Ye.flatMap=W2,Ye.flatMapDeep=$2,Ye.flatMapDepth=H2,Ye.flatten=J1,Ye.flattenDeep=Mp,Ye.flattenDepth=Q1,Ye.flip=J2,Ye.flow=sy,Ye.flowRight=Ld,Ye.fromPairs=Zn,Ye.functions=wx,Ye.functionsIn=Tx,Ye.groupBy=Jm,Ye.initial=mc,Ye.intersection=jl,Ye.intersectionBy=La,Ye.intersectionWith=to,Ye.invert=Ex,Ye.invertBy=Cx,Ye.invokeMap=vu,Ye.iteratee=_c,Ye.keyBy=X2,Ye.keys=ps,Ye.keysIn=Xo,Ye.map=Xr,Ye.mapKeys=Mx,Ye.mapValues=Ax,Ye.matches=Vx,Ye.matchesProperty=Up,Ye.memoize=c0,Ye.merge=kx,Ye.mergeWith=y0,Ye.method=Vp,Ye.methodOf=Gp,Ye.mixin=Dd,Ye.negate=h0,Ye.nthArg=Gx,Ye.omit=cg,Ye.omitBy=j_,Ye.once=d0,Ye.orderBy=n0,Ye.over=Cu,Ye.overArgs=Q2,Ye.overEvery=E0,Ye.overSome=Wx,Ye.partial=u0,Ye.partialRight=Id,Ye.partition=__,Ye.pick=Oa,Ye.pickBy=wu,Ye.property=_g,Ye.propertyOf=oy,Ye.pull=Um,Ye.pullAll=Vm,Ye.pullAllBy=Gm,Ye.pullAllWith=k2,Ye.pullAt=Wm,Ye.range=$x,Ye.rangeRight=ay,Ye.rearg=ex,Ye.reject=kp,Ye.remove=i_,Ye.rest=tx,Ye.reverse=$m,Ye.sampleSize=v_,Ye.set=hg,Ye.setWith=v0,Ye.shuffle=Pp,Ye.slice=Zc,Ye.sortBy=Y2,Ye.sortedUniq=r_,Ye.sortedUniqBy=I2,Ye.split=b0,Ye.spread=ix,Ye.tail=qm,Ye.take=L2,Ye.takeRight=Xm,Ye.takeRightWhile=s_,Ye.takeWhile=o_,Ye.tap=Zm,Ye.throttle=w_,Ye.thru=rl,Ye.toArray=$s,Ye.toPairs=U_,Ye.toPairsIn=dg,Ye.toPath=M0,Ye.toPlainObject=D_,Ye.transform=V_,Ye.unary=T_,Ye.union=kd,Ye.unionBy=a_,Ye.unionWith=D2,Ye.uniq=_u,Ye.uniqBy=e0,Ye.uniqWith=l_,Ye.unset=Px,Ye.unzip=t0,Ye.unzipWith=c_,Ye.update=G_,Ye.updateWith=W_,Ye.values=Nh,Ye.valuesIn=$_,Ye.without=O2,Ye.words=iy,Ye.wrap=nx,Ye.xor=h_,Ye.xorBy=R2,Ye.xorWith=d_,Ye.zip=z2,Ye.zipObject=B2,Ye.zipObjectDeep=u_,Ye.zipWith=p_,Ye.entries=U_,Ye.entriesIn=dg,Ye.extend=O_,Ye.extendWith=Fh,Dd(Ye,Ye),Ye.add=k0,Ye.attempt=eh,Ye.camelCase=q_,Ye.capitalize=ug,Ye.ceil=Yx,Ye.clamp=Ix,Ye.clone=sx,Ye.cloneDeep=p0,Ye.cloneDeepWith=f0,Ye.cloneWith=ig,Ye.conformsTo=ox,Ye.deburr=pg,Ye.defaultTo=Ux,Ye.divide=vg,Ye.endsWith=X_,Ye.eq=Ul,Ye.escape=Lx,Ye.escapeRegExp=Dx,Ye.every=Pd,Ye.find=V2,Ye.findIndex=jm,Ye.findKey=F_,Ye.findLast=G2,Ye.findLastIndex=K1,Ye.findLastKey=Jc,Ye.floor=xg,Ye.forEach=m_,Ye.forEachRight=g_,Ye.forIn=bu,Ye.forInRight=N_,Ye.forOwn=xx,Ye.forOwnRight=bx,Ye.get=ag,Ye.gt=Op,Ye.gte=Rp,Ye.has=Sx,Ye.hasIn=lg,Ye.head=Kf,Ye.identity=da,Ye.includes=q2,Ye.indexOf=fc,Ye.inRange=H_,Ye.invoke=_0,Ye.isArguments=Rh,Ye.isArray=An,Ye.isArrayBuffer=S_,Ye.isArrayLike=ha,Ye.isArrayLikeObject=xs,Ye.isBoolean=E_,Ye.isBuffer=Kc,Ye.isDate=C_,Ye.isElement=M_,Ye.isEmpty=A_,Ye.isEqual=ax,Ye.isEqualWith=lx,Ye.isError=m0,Ye.isFinite=g0,Ye.isFunction=gc,Ye.isInteger=mo,Ye.isLength=zh,Ye.isMap=ng,Ye.isMatch=k_,Ye.isMatchWith=cx,Ye.isNaN=hx,Ye.isNative=dx,Ye.isNil=px,Ye.isNull=ux,Ye.isNumber=P_,Ye.isObject=zr,Ye.isObjectLike=Yr,Ye.isPlainObject=Bh,Ye.isRegExp=rg,Ye.isSafeInteger=I_,Ye.isSet=sg,Ye.isString=zp,Ye.isSymbol=Da,Ye.isTypedArray=xu,Ye.isUndefined=fx,Ye.isWeakMap=mx,Ye.isWeakSet=gx,Ye.join=e_,Ye.kebabCase=Y_,Ye.last=Ir,Ye.lastIndexOf=t_,Ye.lowerCase=Z_,Ye.lowerFirst=Fp,Ye.lt=L_,Ye.lte=_x,Ye.max=jh,Ye.maxBy=Zx,Ye.mean=bg,Ye.meanBy=cy,Ye.min=P0,Ye.minBy=Kx,Ye.stubArray=yg,Ye.stubFalse=C0,Ye.stubObject=Hx,Ye.stubString=ly,Ye.stubTrue=qx,Ye.multiply=Jx,Ye.nth=gu,Ye.noConflict=S0,Ye.noop=gg,Ye.now=Ip,Ye.pad=K_,Ye.padEnd=J_,Ye.padStart=fg,Ye.parseInt=Su,Ye.random=Qc,Ye.reduce=r0,Ye.reduceRight=s0,Ye.repeat=Q_,Ye.replace=x0,Ye.result=Tu,Ye.round=Qx,Ye.runInContext=ot,Ye.sample=y_,Ye.size=Qm,Ye.snakeCase=ey,Ye.some=eg,Ye.sortedIndex=Ad,Ye.sortedIndexBy=Jf,Ye.sortedIndexOf=Qf,Ye.sortedLastIndex=Hm,Ye.sortedLastIndexBy=n_,Ye.sortedLastIndexOf=P2,Ye.startCase=w0,Ye.startsWith=Ox,Ye.subtract=eb,Ye.sum=wg,Ye.sumBy=tb,Ye.template=Rx,Ye.times=Xx,Ye.toFinite=io,Ye.toInteger=Fn,Ye.toLength=Bp,Ye.toLower=zx,Ye.toNumber=go,Ye.toSafeInteger=yx,Ye.toString=dr,Ye.toUpper=Bx,Ye.trim=Fx,Ye.trimEnd=Eu,Ye.trimStart=mg,Ye.truncate=Nx,Ye.unescape=ty,Ye.uniqueId=A0,Ye.upperCase=jx,Ye.upperFirst=Np,Ye.each=m_,Ye.eachRight=g_,Ye.first=Kf,Dd(Ye,function(){var f={};return dt(Ye,function(x,j){mn.call(Ye.prototype,j)||(f[j]=x)}),f}(),{chain:!1}),Ye.VERSION=l,gt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){Ye[f].placeholder=Ye}),gt(["drop","take"],function(f,x){pn.prototype[f]=function(j){j=j===a?1:as(Fn(j),0);var we=this.__filtered__&&!x?new pn(this):this.clone();return we.__filtered__?we.__takeCount__=ys(j,we.__takeCount__):we.__views__.push({size:ys(j,Me),type:f+(we.__dir__<0?"Right":"")}),we},pn.prototype[f+"Right"]=function(j){return this.reverse()[f](j).reverse()}}),gt(["filter","map","takeWhile"],function(f,x){var j=x+1,we=j==C||j==O;pn.prototype[f]=function(Ue){var nt=this.clone();return nt.__iteratees__.push({iteratee:un(Ue,3),type:j}),nt.__filtered__=nt.__filtered__||we,nt}}),gt(["head","last"],function(f,x){var j="take"+(x?"Right":"");pn.prototype[f]=function(){return this[j](1).value()[0]}}),gt(["initial","tail"],function(f,x){var j="drop"+(x?"":"Right");pn.prototype[f]=function(){return this.__filtered__?new pn(this):this[j](1)}}),pn.prototype.compact=function(){return this.filter(da)},pn.prototype.find=function(f){return this.filter(f).head()},pn.prototype.findLast=function(f){return this.reverse().find(f)},pn.prototype.invokeMap=gn(function(f,x){return typeof f=="function"?new pn(this):this.map(function(j){return Gt(j,f,x)})}),pn.prototype.reject=function(f){return this.filter(h0(un(f)))},pn.prototype.slice=function(f,x){f=Fn(f);var j=this;return j.__filtered__&&(f>0||x<0)?new pn(j):(f<0?j=j.takeRight(-f):f&&(j=j.drop(f)),x!==a&&(x=Fn(x),j=x<0?j.dropRight(-x):j.take(x-f)),j)},pn.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},pn.prototype.toArray=function(){return this.take(Me)},dt(pn.prototype,function(f,x){var j=/^(?:filter|find|map|reject)|While$/.test(x),we=/^(?:head|last)$/.test(x),Ue=Ye[we?"take"+(x=="last"?"Right":""):x],nt=we||/^find/.test(x);Ue&&(Ye.prototype[x]=function(){var yt=this.__wrapped__,At=we?[1]:arguments,Ft=yt instanceof pn,pi=At[0],gi=Ft||An(yt),Ei=function(Qn){var ar=Ue.apply(Ye,Cn([Qn],At));return we&&Vi?ar[0]:ar};gi&&j&&typeof pi=="function"&&pi.length!=1&&(Ft=gi=!1);var Vi=this.__chain__,on=!!this.__actions__.length,yn=nt&&!Vi,Gn=Ft&&!on;if(!nt&&gi){yt=Gn?yt:new pn(this);var wn=f.apply(yt,At);return wn.__actions__.push({func:rl,args:[Ei],thisArg:a}),new co(wn,Vi)}return yn&&Gn?f.apply(this,At):(wn=this.thru(Ei),yn?we?wn.value()[0]:wn.value():wn)})}),gt(["pop","push","shift","sort","splice","unshift"],function(f){var x=us[f],j=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",we=/^(?:pop|shift)$/.test(f);Ye.prototype[f]=function(){var Ue=arguments;if(we&&!this.__chain__){var nt=this.value();return x.apply(An(nt)?nt:[],Ue)}return this[j](function(yt){return x.apply(An(yt)?yt:[],Ue)})}}),dt(pn.prototype,function(f,x){var j=Ye[x];if(j){var we=j.name+"";mn.call(Gc,we)||(Gc[we]=[]),Gc[we].push({name:x,func:j})}}),Gc[qr(a,B).name]=[{name:"wrapper",func:a}],pn.prototype.clone=Tm,pn.prototype.reverse=Sf,pn.prototype.value=Sm,Ye.prototype.at=ca,Ye.prototype.chain=F2,Ye.prototype.commit=Km,Ye.prototype.next=N2,Ye.prototype.plant=U2,Ye.prototype.reverse=yu,Ye.prototype.toJSON=Ye.prototype.valueOf=Ye.prototype.value=i0,Ye.prototype.first=Ye.prototype.head,Aa&&(Ye.prototype[Aa]=j2),Ye},Qt=Zt();os?((os.exports=Qt)._=Qt,jo._=Qt):Or._=Qt}).call(Oo)})(Hy,Hy.exports);var qC=Hy.exports;const XC=om(qC);var IS={exports:{}};/*!
 * jQuery JavaScript Library v3.7.0
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-05-11T18:29Z
 */(function(e){(function(i,a){e.exports=i.document?a(i,!0):function(l){if(!l.document)throw new Error("jQuery requires a window with a document");return a(l)}})(typeof window<"u"?window:Oo,function(i,a){var l=[],h=Object.getPrototypeOf,p=l.slice,y=l.flat?function(M){return l.flat.call(M)}:function(M){return l.concat.apply([],M)},s=l.push,b=l.indexOf,L={},ee=L.toString,F=L.hasOwnProperty,Z=F.toString,ne=Z.call(Object),z={},G=function(U){return typeof U=="function"&&typeof U.nodeType!="number"&&typeof U.item!="function"},ae=function(U){return U!=null&&U===U.window},B=i.document,P={type:!0,src:!0,nonce:!0,noModule:!0};function V(M,U,ue){ue=ue||B;var be,Oe,Re=ue.createElement("script");if(Re.text=M,U)for(be in P)Oe=U[be]||U.getAttribute&&U.getAttribute(be),Oe&&Re.setAttribute(be,Oe);ue.head.appendChild(Re).parentNode.removeChild(Re)}function W(M){return M==null?M+"":typeof M=="object"||typeof M=="function"?L[ee.call(M)]||"object":typeof M}var R="3.7.0",se=/HTML$/i,S=function(M,U){return new S.fn.init(M,U)};S.fn=S.prototype={jquery:R,constructor:S,length:0,toArray:function(){return p.call(this)},get:function(M){return M==null?p.call(this):M<0?this[M+this.length]:this[M]},pushStack:function(M){var U=S.merge(this.constructor(),M);return U.prevObject=this,U},each:function(M){return S.each(this,M)},map:function(M){return this.pushStack(S.map(this,function(U,ue){return M.call(U,ue,U)}))},slice:function(){return this.pushStack(p.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(M,U){return(U+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(M,U){return U%2}))},eq:function(M){var U=this.length,ue=+M+(M<0?U:0);return this.pushStack(ue>=0&&ue<U?[this[ue]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:l.sort,splice:l.splice},S.extend=S.fn.extend=function(){var M,U,ue,be,Oe,Re,Ge=arguments[0]||{},St=1,gt=arguments.length,Lt=!1;for(typeof Ge=="boolean"&&(Lt=Ge,Ge=arguments[St]||{},St++),typeof Ge!="object"&&!G(Ge)&&(Ge={}),St===gt&&(Ge=this,St--);St<gt;St++)if((M=arguments[St])!=null)for(U in M)be=M[U],!(U==="__proto__"||Ge===be)&&(Lt&&be&&(S.isPlainObject(be)||(Oe=Array.isArray(be)))?(ue=Ge[U],Oe&&!Array.isArray(ue)?Re=[]:!Oe&&!S.isPlainObject(ue)?Re={}:Re=ue,Oe=!1,Ge[U]=S.extend(Lt,Re,be)):be!==void 0&&(Ge[U]=be));return Ge},S.extend({expando:"jQuery"+(R+Math.random()).replace(/\D/g,""),isReady:!0,error:function(M){throw new Error(M)},noop:function(){},isPlainObject:function(M){var U,ue;return!M||ee.call(M)!=="[object Object]"?!1:(U=h(M),U?(ue=F.call(U,"constructor")&&U.constructor,typeof ue=="function"&&Z.call(ue)===ne):!0)},isEmptyObject:function(M){var U;for(U in M)return!1;return!0},globalEval:function(M,U,ue){V(M,{nonce:U&&U.nonce},ue)},each:function(M,U){var ue,be=0;if(X(M))for(ue=M.length;be<ue&&U.call(M[be],be,M[be])!==!1;be++);else for(be in M)if(U.call(M[be],be,M[be])===!1)break;return M},text:function(M){var U,ue="",be=0,Oe=M.nodeType;if(Oe){if(Oe===1||Oe===9||Oe===11)return M.textContent;if(Oe===3||Oe===4)return M.nodeValue}else for(;U=M[be++];)ue+=S.text(U);return ue},makeArray:function(M,U){var ue=U||[];return M!=null&&(X(Object(M))?S.merge(ue,typeof M=="string"?[M]:M):s.call(ue,M)),ue},inArray:function(M,U,ue){return U==null?-1:b.call(U,M,ue)},isXMLDoc:function(M){var U=M&&M.namespaceURI,ue=M&&(M.ownerDocument||M).documentElement;return!se.test(U||ue&&ue.nodeName||"HTML")},merge:function(M,U){for(var ue=+U.length,be=0,Oe=M.length;be<ue;be++)M[Oe++]=U[be];return M.length=Oe,M},grep:function(M,U,ue){for(var be,Oe=[],Re=0,Ge=M.length,St=!ue;Re<Ge;Re++)be=!U(M[Re],Re),be!==St&&Oe.push(M[Re]);return Oe},map:function(M,U,ue){var be,Oe,Re=0,Ge=[];if(X(M))for(be=M.length;Re<be;Re++)Oe=U(M[Re],Re,ue),Oe!=null&&Ge.push(Oe);else for(Re in M)Oe=U(M[Re],Re,ue),Oe!=null&&Ge.push(Oe);return y(Ge)},guid:1,support:z}),typeof Symbol=="function"&&(S.fn[Symbol.iterator]=l[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(M,U){L["[object "+U+"]"]=U.toLowerCase()});function X(M){var U=!!M&&"length"in M&&M.length,ue=W(M);return G(M)||ae(M)?!1:ue==="array"||U===0||typeof U=="number"&&U>0&&U-1 in M}function I(M,U){return M.nodeName&&M.nodeName.toLowerCase()===U.toLowerCase()}var $=l.pop,K=l.sort,q=l.splice,J="[\\x20\\t\\r\\n\\f]",C=new RegExp("^"+J+"+|((?:^|[^\\\\])(?:\\\\.)*)"+J+"+$","g");S.contains=function(M,U){var ue=U&&U.parentNode;return M===ue||!!(ue&&ue.nodeType===1&&(M.contains?M.contains(ue):M.compareDocumentPosition&&M.compareDocumentPosition(ue)&16))};var A=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function O(M,U){return U?M==="\0"?"�":M.slice(0,-1)+"\\"+M.charCodeAt(M.length-1).toString(16)+" ":"\\"+M}S.escapeSelector=function(M){return(M+"").replace(A,O)};var Q=B,fe=s;(function(){var M,U,ue,be,Oe,Re=fe,Ge,St,gt,Lt,Wt,si=S.expando,Yt=0,Mi=0,ji=Ca(),Cn=Ca(),En=Ca(),ds=Ca(),Rr=function(pt,It){return pt===It&&(Oe=!0),0},Mo="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ks="(?:\\\\[\\da-fA-F]{1,6}"+J+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Pn="\\["+J+"*("+ks+")(?:"+J+"*([*^$|!~]?=)"+J+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ks+"))|)"+J+"*\\]",Uo=":("+ks+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Pn+")*)|.*)\\)|)",Un=new RegExp(J+"+","g"),Qi=new RegExp("^"+J+"*,"+J+"*"),Ta=new RegExp("^"+J+"*([>+~]|"+J+")"+J+"*"),Bc=new RegExp(J+"|>"),Ao=new RegExp(Uo),Sa=new RegExp("^"+ks+"$"),Zs={ID:new RegExp("^#("+ks+")"),CLASS:new RegExp("^\\.("+ks+")"),TAG:new RegExp("^("+ks+"|[*])"),ATTR:new RegExp("^"+Pn),PSEUDO:new RegExp("^"+Uo),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+J+"*(even|odd|(([+-]|)(\\d*)n|)"+J+"*(?:([+-]|)"+J+"*(\\d+)|))"+J+"*\\)|)","i"),bool:new RegExp("^(?:"+Mo+")$","i"),needsContext:new RegExp("^"+J+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+J+"*((?:-\\d)?\\d*)"+J+"*\\)|)(?=[^-]|$)","i")},Vo=/^(?:input|select|textarea|button)$/i,Ea=/^h\d$/i,Ks=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ha=/[+~]/,Go=new RegExp("\\\\[\\da-fA-F]{1,6}"+J+"?|\\\\([^\\r\\n\\f])","g"),ao=function(pt,It){var Zt="0x"+pt.slice(1)-65536;return It||(Zt<0?String.fromCharCode(Zt+65536):String.fromCharCode(Zt>>10|55296,Zt&1023|56320))},Os=function(){$o()},_h=Ma(function(pt){return pt.disabled===!0&&I(pt,"fieldset")},{dir:"parentNode",next:"legend"});function ec(){try{return Ge.activeElement}catch{}}try{Re.apply(l=p.call(Q.childNodes),Q.childNodes),l[Q.childNodes.length].nodeType}catch{Re={apply:function(It,Zt){fe.apply(It,p.call(Zt))},call:function(It){fe.apply(It,p.call(arguments,1))}}}function pr(pt,It,Zt,Qt){var ot,Pt,kt,li,_i,Yi,qi,Ui=It&&It.ownerDocument,Dn=It?It.nodeType:9;if(Zt=Zt||[],typeof pt!="string"||!pt||Dn!==1&&Dn!==9&&Dn!==11)return Zt;if(!Qt&&($o(It),It=It||Ge,gt)){if(Dn!==11&&(_i=Ks.exec(pt)))if(ot=_i[1]){if(Dn===9)if(kt=It.getElementById(ot)){if(kt.id===ot)return Re.call(Zt,kt),Zt}else return Zt;else if(Ui&&(kt=Ui.getElementById(ot))&&pr.contains(It,kt)&&kt.id===ot)return Re.call(Zt,kt),Zt}else{if(_i[2])return Re.apply(Zt,It.getElementsByTagName(pt)),Zt;if((ot=_i[3])&&It.getElementsByClassName)return Re.apply(Zt,It.getElementsByClassName(ot)),Zt}if(!ds[pt+" "]&&(!Lt||!Lt.test(pt))){if(qi=pt,Ui=It,Dn===1&&(Bc.test(pt)||Ta.test(pt))){for(Ui=Ha.test(pt)&&yh(It.parentNode)||It,(Ui!=It||!z.scope)&&((li=It.getAttribute("id"))?li=S.escapeSelector(li):It.setAttribute("id",li=si)),Yi=qa(pt),Pt=Yi.length;Pt--;)Yi[Pt]=(li?"#"+li:":scope")+" "+Ho(Yi[Pt]);qi=Yi.join(",")}try{return Re.apply(Zt,Ui.querySelectorAll(qi)),Zt}catch{ds(pt,!0)}finally{li===si&&It.removeAttribute("id")}}}return Xa(pt.replace(C,"$1"),It,Zt,Qt)}function Ca(){var pt=[];function It(Zt,Qt){return pt.push(Zt+" ")>U.cacheLength&&delete It[pt.shift()],It[Zt+" "]=Qt}return It}function Us(pt){return pt[si]=!0,pt}function Tl(pt){var It=Ge.createElement("fieldset");try{return!!pt(It)}catch{return!1}finally{It.parentNode&&It.parentNode.removeChild(It),It=null}}function Fc(pt){return function(It){return I(It,"input")&&It.type===pt}}function rd(pt){return function(It){return(I(It,"input")||I(It,"button"))&&It.type===pt}}function Wo(pt){return function(It){return"form"in It?It.parentNode&&It.disabled===!1?"label"in It?"label"in It.parentNode?It.parentNode.disabled===pt:It.disabled===pt:It.isDisabled===pt||It.isDisabled!==!pt&&_h(It)===pt:It.disabled===pt:"label"in It?It.disabled===pt:!1}}function Js(pt){return Us(function(It){return It=+It,Us(function(Zt,Qt){for(var ot,Pt=pt([],Zt.length,It),kt=Pt.length;kt--;)Zt[ot=Pt[kt]]&&(Zt[ot]=!(Qt[ot]=Zt[ot]))})})}function yh(pt){return pt&&typeof pt.getElementsByTagName<"u"&&pt}function $o(pt){var It,Zt=pt?pt.ownerDocument||pt:Q;return Zt==Ge||Zt.nodeType!==9||!Zt.documentElement||(Ge=Zt,St=Ge.documentElement,gt=!S.isXMLDoc(Ge),Wt=St.matches||St.webkitMatchesSelector||St.msMatchesSelector,Q!=Ge&&(It=Ge.defaultView)&&It.top!==It&&It.addEventListener("unload",Os),z.getById=Tl(function(Qt){return St.appendChild(Qt).id=S.expando,!Ge.getElementsByName||!Ge.getElementsByName(S.expando).length}),z.disconnectedMatch=Tl(function(Qt){return Wt.call(Qt,"*")}),z.scope=Tl(function(){return Ge.querySelectorAll(":scope")}),z.cssHas=Tl(function(){try{return Ge.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),z.getById?(U.filter.ID=function(Qt){var ot=Qt.replace(Go,ao);return function(Pt){return Pt.getAttribute("id")===ot}},U.find.ID=function(Qt,ot){if(typeof ot.getElementById<"u"&&gt){var Pt=ot.getElementById(Qt);return Pt?[Pt]:[]}}):(U.filter.ID=function(Qt){var ot=Qt.replace(Go,ao);return function(Pt){var kt=typeof Pt.getAttributeNode<"u"&&Pt.getAttributeNode("id");return kt&&kt.value===ot}},U.find.ID=function(Qt,ot){if(typeof ot.getElementById<"u"&&gt){var Pt,kt,li,_i=ot.getElementById(Qt);if(_i){if(Pt=_i.getAttributeNode("id"),Pt&&Pt.value===Qt)return[_i];for(li=ot.getElementsByName(Qt),kt=0;_i=li[kt++];)if(Pt=_i.getAttributeNode("id"),Pt&&Pt.value===Qt)return[_i]}return[]}}),U.find.TAG=function(Qt,ot){return typeof ot.getElementsByTagName<"u"?ot.getElementsByTagName(Qt):ot.querySelectorAll(Qt)},U.find.CLASS=function(Qt,ot){if(typeof ot.getElementsByClassName<"u"&&gt)return ot.getElementsByClassName(Qt)},Lt=[],Tl(function(Qt){var ot;St.appendChild(Qt).innerHTML="<a id='"+si+"' href='' disabled='disabled'></a><select id='"+si+"-\r\\' disabled='disabled'><option selected=''></option></select>",Qt.querySelectorAll("[selected]").length||Lt.push("\\["+J+"*(?:value|"+Mo+")"),Qt.querySelectorAll("[id~="+si+"-]").length||Lt.push("~="),Qt.querySelectorAll("a#"+si+"+*").length||Lt.push(".#.+[+~]"),Qt.querySelectorAll(":checked").length||Lt.push(":checked"),ot=Ge.createElement("input"),ot.setAttribute("type","hidden"),Qt.appendChild(ot).setAttribute("name","D"),St.appendChild(Qt).disabled=!0,Qt.querySelectorAll(":disabled").length!==2&&Lt.push(":enabled",":disabled"),ot=Ge.createElement("input"),ot.setAttribute("name",""),Qt.appendChild(ot),Qt.querySelectorAll("[name='']").length||Lt.push("\\["+J+"*name"+J+"*="+J+`*(?:''|"")`)}),z.cssHas||Lt.push(":has"),Lt=Lt.length&&new RegExp(Lt.join("|")),Rr=function(Qt,ot){if(Qt===ot)return Oe=!0,0;var Pt=!Qt.compareDocumentPosition-!ot.compareDocumentPosition;return Pt||(Pt=(Qt.ownerDocument||Qt)==(ot.ownerDocument||ot)?Qt.compareDocumentPosition(ot):1,Pt&1||!z.sortDetached&&ot.compareDocumentPosition(Qt)===Pt?Qt===Ge||Qt.ownerDocument==Q&&pr.contains(Q,Qt)?-1:ot===Ge||ot.ownerDocument==Q&&pr.contains(Q,ot)?1:be?b.call(be,Qt)-b.call(be,ot):0:Pt&4?-1:1)}),Ge}pr.matches=function(pt,It){return pr(pt,null,null,It)},pr.matchesSelector=function(pt,It){if($o(pt),gt&&!ds[It+" "]&&(!Lt||!Lt.test(It)))try{var Zt=Wt.call(pt,It);if(Zt||z.disconnectedMatch||pt.document&&pt.document.nodeType!==11)return Zt}catch{ds(It,!0)}return pr(It,Ge,null,[pt]).length>0},pr.contains=function(pt,It){return(pt.ownerDocument||pt)!=Ge&&$o(pt),S.contains(pt,It)},pr.attr=function(pt,It){(pt.ownerDocument||pt)!=Ge&&$o(pt);var Zt=U.attrHandle[It.toLowerCase()],Qt=Zt&&F.call(U.attrHandle,It.toLowerCase())?Zt(pt,It,!gt):void 0;return Qt!==void 0?Qt:pt.getAttribute(It)},pr.error=function(pt){throw new Error("Syntax error, unrecognized expression: "+pt)},S.uniqueSort=function(pt){var It,Zt=[],Qt=0,ot=0;if(Oe=!z.sortStable,be=!z.sortStable&&p.call(pt,0),K.call(pt,Rr),Oe){for(;It=pt[ot++];)It===pt[ot]&&(Qt=Zt.push(ot));for(;Qt--;)q.call(pt,Zt[Qt],1)}return be=null,pt},S.fn.uniqueSort=function(){return this.pushStack(S.uniqueSort(p.apply(this)))},U=S.expr={cacheLength:50,createPseudo:Us,match:Zs,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(pt){return pt[1]=pt[1].replace(Go,ao),pt[3]=(pt[3]||pt[4]||pt[5]||"").replace(Go,ao),pt[2]==="~="&&(pt[3]=" "+pt[3]+" "),pt.slice(0,4)},CHILD:function(pt){return pt[1]=pt[1].toLowerCase(),pt[1].slice(0,3)==="nth"?(pt[3]||pr.error(pt[0]),pt[4]=+(pt[4]?pt[5]+(pt[6]||1):2*(pt[3]==="even"||pt[3]==="odd")),pt[5]=+(pt[7]+pt[8]||pt[3]==="odd")):pt[3]&&pr.error(pt[0]),pt},PSEUDO:function(pt){var It,Zt=!pt[6]&&pt[2];return Zs.CHILD.test(pt[0])?null:(pt[3]?pt[2]=pt[4]||pt[5]||"":Zt&&Ao.test(Zt)&&(It=qa(Zt,!0))&&(It=Zt.indexOf(")",Zt.length-It)-Zt.length)&&(pt[0]=pt[0].slice(0,It),pt[2]=Zt.slice(0,It)),pt.slice(0,3))}},filter:{TAG:function(pt){var It=pt.replace(Go,ao).toLowerCase();return pt==="*"?function(){return!0}:function(Zt){return I(Zt,It)}},CLASS:function(pt){var It=ji[pt+" "];return It||(It=new RegExp("(^|"+J+")"+pt+"("+J+"|$)"))&&ji(pt,function(Zt){return It.test(typeof Zt.className=="string"&&Zt.className||typeof Zt.getAttribute<"u"&&Zt.getAttribute("class")||"")})},ATTR:function(pt,It,Zt){return function(Qt){var ot=pr.attr(Qt,pt);return ot==null?It==="!=":It?(ot+="",It==="="?ot===Zt:It==="!="?ot!==Zt:It==="^="?Zt&&ot.indexOf(Zt)===0:It==="*="?Zt&&ot.indexOf(Zt)>-1:It==="$="?Zt&&ot.slice(-Zt.length)===Zt:It==="~="?(" "+ot.replace(Un," ")+" ").indexOf(Zt)>-1:It==="|="?ot===Zt||ot.slice(0,Zt.length+1)===Zt+"-":!1):!0}},CHILD:function(pt,It,Zt,Qt,ot){var Pt=pt.slice(0,3)!=="nth",kt=pt.slice(-4)!=="last",li=It==="of-type";return Qt===1&&ot===0?function(_i){return!!_i.parentNode}:function(_i,Yi,qi){var Ui,Dn,dn,Vn,us,jr=Pt!==kt?"nextSibling":"previousSibling",Hr=_i.parentNode,Ps=li&&_i.nodeName.toLowerCase(),Qs=!qi&&!li,mn=!1;if(Hr){if(Pt){for(;jr;){for(dn=_i;dn=dn[jr];)if(li?I(dn,Ps):dn.nodeType===1)return!1;us=jr=pt==="only"&&!us&&"nextSibling"}return!0}if(us=[kt?Hr.firstChild:Hr.lastChild],kt&&Qs){for(Dn=Hr[si]||(Hr[si]={}),Ui=Dn[pt]||[],Vn=Ui[0]===Yt&&Ui[1],mn=Vn&&Ui[2],dn=Vn&&Hr.childNodes[Vn];dn=++Vn&&dn&&dn[jr]||(mn=Vn=0)||us.pop();)if(dn.nodeType===1&&++mn&&dn===_i){Dn[pt]=[Yt,Vn,mn];break}}else if(Qs&&(Dn=_i[si]||(_i[si]={}),Ui=Dn[pt]||[],Vn=Ui[0]===Yt&&Ui[1],mn=Vn),mn===!1)for(;(dn=++Vn&&dn&&dn[jr]||(mn=Vn=0)||us.pop())&&!((li?I(dn,Ps):dn.nodeType===1)&&++mn&&(Qs&&(Dn=dn[si]||(dn[si]={}),Dn[pt]=[Yt,mn]),dn===_i)););return mn-=ot,mn===Qt||mn%Qt===0&&mn/Qt>=0}}},PSEUDO:function(pt,It){var Zt,Qt=U.pseudos[pt]||U.setFilters[pt.toLowerCase()]||pr.error("unsupported pseudo: "+pt);return Qt[si]?Qt(It):Qt.length>1?(Zt=[pt,pt,"",It],U.setFilters.hasOwnProperty(pt.toLowerCase())?Us(function(ot,Pt){for(var kt,li=Qt(ot,It),_i=li.length;_i--;)kt=b.call(ot,li[_i]),ot[kt]=!(Pt[kt]=li[_i])}):function(ot){return Qt(ot,0,Zt)}):Qt}},pseudos:{not:Us(function(pt){var It=[],Zt=[],Qt=sd(pt.replace(C,"$1"));return Qt[si]?Us(function(ot,Pt,kt,li){for(var _i,Yi=Qt(ot,null,li,[]),qi=ot.length;qi--;)(_i=Yi[qi])&&(ot[qi]=!(Pt[qi]=_i))}):function(ot,Pt,kt){return It[0]=ot,Qt(It,null,kt,Zt),It[0]=null,!Zt.pop()}}),has:Us(function(pt){return function(It){return pr(pt,It).length>0}}),contains:Us(function(pt){return pt=pt.replace(Go,ao),function(It){return(It.textContent||S.text(It)).indexOf(pt)>-1}}),lang:Us(function(pt){return Sa.test(pt||"")||pr.error("unsupported lang: "+pt),pt=pt.replace(Go,ao).toLowerCase(),function(It){var Zt;do if(Zt=gt?It.lang:It.getAttribute("xml:lang")||It.getAttribute("lang"))return Zt=Zt.toLowerCase(),Zt===pt||Zt.indexOf(pt+"-")===0;while((It=It.parentNode)&&It.nodeType===1);return!1}}),target:function(pt){var It=i.location&&i.location.hash;return It&&It.slice(1)===pt.id},root:function(pt){return pt===St},focus:function(pt){return pt===ec()&&Ge.hasFocus()&&!!(pt.type||pt.href||~pt.tabIndex)},enabled:Wo(!1),disabled:Wo(!0),checked:function(pt){return I(pt,"input")&&!!pt.checked||I(pt,"option")&&!!pt.selected},selected:function(pt){return pt.parentNode&&pt.parentNode.selectedIndex,pt.selected===!0},empty:function(pt){for(pt=pt.firstChild;pt;pt=pt.nextSibling)if(pt.nodeType<6)return!1;return!0},parent:function(pt){return!U.pseudos.empty(pt)},header:function(pt){return Ea.test(pt.nodeName)},input:function(pt){return Vo.test(pt.nodeName)},button:function(pt){return I(pt,"input")&&pt.type==="button"||I(pt,"button")},text:function(pt){var It;return I(pt,"input")&&pt.type==="text"&&((It=pt.getAttribute("type"))==null||It.toLowerCase()==="text")},first:Js(function(){return[0]}),last:Js(function(pt,It){return[It-1]}),eq:Js(function(pt,It,Zt){return[Zt<0?Zt+It:Zt]}),even:Js(function(pt,It){for(var Zt=0;Zt<It;Zt+=2)pt.push(Zt);return pt}),odd:Js(function(pt,It){for(var Zt=1;Zt<It;Zt+=2)pt.push(Zt);return pt}),lt:Js(function(pt,It,Zt){var Qt;for(Zt<0?Qt=Zt+It:Zt>It?Qt=It:Qt=Zt;--Qt>=0;)pt.push(Qt);return pt}),gt:Js(function(pt,It,Zt){for(var Qt=Zt<0?Zt+It:Zt;++Qt<It;)pt.push(Qt);return pt})}},U.pseudos.nth=U.pseudos.eq;for(M in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})U.pseudos[M]=Fc(M);for(M in{submit:!0,reset:!0})U.pseudos[M]=rd(M);function tc(){}tc.prototype=U.filters=U.pseudos,U.setFilters=new tc;function qa(pt,It){var Zt,Qt,ot,Pt,kt,li,_i,Yi=Cn[pt+" "];if(Yi)return It?0:Yi.slice(0);for(kt=pt,li=[],_i=U.preFilter;kt;){(!Zt||(Qt=Qi.exec(kt)))&&(Qt&&(kt=kt.slice(Qt[0].length)||kt),li.push(ot=[])),Zt=!1,(Qt=Ta.exec(kt))&&(Zt=Qt.shift(),ot.push({value:Zt,type:Qt[0].replace(C," ")}),kt=kt.slice(Zt.length));for(Pt in U.filter)(Qt=Zs[Pt].exec(kt))&&(!_i[Pt]||(Qt=_i[Pt](Qt)))&&(Zt=Qt.shift(),ot.push({value:Zt,type:Pt,matches:Qt}),kt=kt.slice(Zt.length));if(!Zt)break}return It?kt.length:kt?pr.error(pt):Cn(pt,li).slice(0)}function Ho(pt){for(var It=0,Zt=pt.length,Qt="";It<Zt;It++)Qt+=pt[It].value;return Qt}function Ma(pt,It,Zt){var Qt=It.dir,ot=It.next,Pt=ot||Qt,kt=Zt&&Pt==="parentNode",li=Mi++;return It.first?function(_i,Yi,qi){for(;_i=_i[Qt];)if(_i.nodeType===1||kt)return pt(_i,Yi,qi);return!1}:function(_i,Yi,qi){var Ui,Dn,dn=[Yt,li];if(qi){for(;_i=_i[Qt];)if((_i.nodeType===1||kt)&&pt(_i,Yi,qi))return!0}else for(;_i=_i[Qt];)if(_i.nodeType===1||kt)if(Dn=_i[si]||(_i[si]={}),ot&&I(_i,ot))_i=_i[Qt]||_i;else{if((Ui=Dn[Pt])&&Ui[0]===Yt&&Ui[1]===li)return dn[2]=Ui[2];if(Dn[Pt]=dn,dn[2]=pt(_i,Yi,qi))return!0}return!1}}function vh(pt){return pt.length>1?function(It,Zt,Qt){for(var ot=pt.length;ot--;)if(!pt[ot](It,Zt,Qt))return!1;return!0}:pt[0]}function Nc(pt,It,Zt){for(var Qt=0,ot=It.length;Qt<ot;Qt++)pr(pt,It[Qt],Zt);return Zt}function jc(pt,It,Zt,Qt,ot){for(var Pt,kt=[],li=0,_i=pt.length,Yi=It!=null;li<_i;li++)(Pt=pt[li])&&(!Zt||Zt(Pt,Qt,ot))&&(kt.push(Pt),Yi&&It.push(li));return kt}function ta(pt,It,Zt,Qt,ot,Pt){return Qt&&!Qt[si]&&(Qt=ta(Qt)),ot&&!ot[si]&&(ot=ta(ot,Pt)),Us(function(kt,li,_i,Yi){var qi,Ui,Dn,dn,Vn=[],us=[],jr=li.length,Hr=kt||Nc(It||"*",_i.nodeType?[_i]:_i,[]),Ps=pt&&(kt||!It)?jc(Hr,Vn,pt,_i,Yi):Hr;if(Zt?(dn=ot||(kt?pt:jr||Qt)?[]:li,Zt(Ps,dn,_i,Yi)):dn=Ps,Qt)for(qi=jc(dn,us),Qt(qi,[],_i,Yi),Ui=qi.length;Ui--;)(Dn=qi[Ui])&&(dn[us[Ui]]=!(Ps[us[Ui]]=Dn));if(kt){if(ot||pt){if(ot){for(qi=[],Ui=dn.length;Ui--;)(Dn=dn[Ui])&&qi.push(Ps[Ui]=Dn);ot(null,dn=[],qi,Yi)}for(Ui=dn.length;Ui--;)(Dn=dn[Ui])&&(qi=ot?b.call(kt,Dn):Vn[Ui])>-1&&(kt[qi]=!(li[qi]=Dn))}}else dn=jc(dn===li?dn.splice(jr,dn.length):dn),ot?ot(null,li,dn,Yi):Re.apply(li,dn)})}function lo(pt){for(var It,Zt,Qt,ot=pt.length,Pt=U.relative[pt[0].type],kt=Pt||U.relative[" "],li=Pt?1:0,_i=Ma(function(Ui){return Ui===It},kt,!0),Yi=Ma(function(Ui){return b.call(It,Ui)>-1},kt,!0),qi=[function(Ui,Dn,dn){var Vn=!Pt&&(dn||Dn!=ue)||((It=Dn).nodeType?_i(Ui,Dn,dn):Yi(Ui,Dn,dn));return It=null,Vn}];li<ot;li++)if(Zt=U.relative[pt[li].type])qi=[Ma(vh(qi),Zt)];else{if(Zt=U.filter[pt[li].type].apply(null,pt[li].matches),Zt[si]){for(Qt=++li;Qt<ot&&!U.relative[pt[Qt].type];Qt++);return ta(li>1&&vh(qi),li>1&&Ho(pt.slice(0,li-1).concat({value:pt[li-2].type===" "?"*":""})).replace(C,"$1"),Zt,li<Qt&&lo(pt.slice(li,Qt)),Qt<ot&&lo(pt=pt.slice(Qt)),Qt<ot&&Ho(pt))}qi.push(Zt)}return vh(qi)}function xh(pt,It){var Zt=It.length>0,Qt=pt.length>0,ot=function(Pt,kt,li,_i,Yi){var qi,Ui,Dn,dn=0,Vn="0",us=Pt&&[],jr=[],Hr=ue,Ps=Pt||Qt&&U.find.TAG("*",Yi),Qs=Yt+=Hr==null?1:Math.random()||.1,mn=Ps.length;for(Yi&&(ue=kt==Ge||kt||Yi);Vn!==mn&&(qi=Ps[Vn])!=null;Vn++){if(Qt&&qi){for(Ui=0,!kt&&qi.ownerDocument!=Ge&&($o(qi),li=!gt);Dn=pt[Ui++];)if(Dn(qi,kt||Ge,li)){Re.call(_i,qi);break}Yi&&(Yt=Qs)}Zt&&((qi=!Dn&&qi)&&dn--,Pt&&us.push(qi))}if(dn+=Vn,Zt&&Vn!==dn){for(Ui=0;Dn=It[Ui++];)Dn(us,jr,kt,li);if(Pt){if(dn>0)for(;Vn--;)us[Vn]||jr[Vn]||(jr[Vn]=$.call(_i));jr=jc(jr)}Re.apply(_i,jr),Yi&&!Pt&&jr.length>0&&dn+It.length>1&&S.uniqueSort(_i)}return Yi&&(Yt=Qs,ue=Hr),us};return Zt?Us(ot):ot}function sd(pt,It){var Zt,Qt=[],ot=[],Pt=En[pt+" "];if(!Pt){for(It||(It=qa(pt)),Zt=It.length;Zt--;)Pt=lo(It[Zt]),Pt[si]?Qt.push(Pt):ot.push(Pt);Pt=En(pt,xh(ot,Qt)),Pt.selector=pt}return Pt}function Xa(pt,It,Zt,Qt){var ot,Pt,kt,li,_i,Yi=typeof pt=="function"&&pt,qi=!Qt&&qa(pt=Yi.selector||pt);if(Zt=Zt||[],qi.length===1){if(Pt=qi[0]=qi[0].slice(0),Pt.length>2&&(kt=Pt[0]).type==="ID"&&It.nodeType===9&&gt&&U.relative[Pt[1].type]){if(It=(U.find.ID(kt.matches[0].replace(Go,ao),It)||[])[0],It)Yi&&(It=It.parentNode);else return Zt;pt=pt.slice(Pt.shift().value.length)}for(ot=Zs.needsContext.test(pt)?0:Pt.length;ot--&&(kt=Pt[ot],!U.relative[li=kt.type]);)if((_i=U.find[li])&&(Qt=_i(kt.matches[0].replace(Go,ao),Ha.test(Pt[0].type)&&yh(It.parentNode)||It))){if(Pt.splice(ot,1),pt=Qt.length&&Ho(Pt),!pt)return Re.apply(Zt,Qt),Zt;break}}return(Yi||sd(pt,qi))(Qt,It,!gt,Zt,!It||Ha.test(pt)&&yh(It.parentNode)||It),Zt}z.sortStable=si.split("").sort(Rr).join("")===si,$o(),z.sortDetached=Tl(function(pt){return pt.compareDocumentPosition(Ge.createElement("fieldset"))&1}),S.find=pr,S.expr[":"]=S.expr.pseudos,S.unique=S.uniqueSort,pr.compile=sd,pr.select=Xa,pr.setDocument=$o,pr.escape=S.escapeSelector,pr.getText=S.text,pr.isXML=S.isXMLDoc,pr.selectors=S.expr,pr.support=S.support,pr.uniqueSort=S.uniqueSort})();var Te=function(M,U,ue){for(var be=[],Oe=ue!==void 0;(M=M[U])&&M.nodeType!==9;)if(M.nodeType===1){if(Oe&&S(M).is(ue))break;be.push(M)}return be},oe=function(M,U){for(var ue=[];M;M=M.nextSibling)M.nodeType===1&&M!==U&&ue.push(M);return ue},Me=S.expr.match.needsContext,We=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Qe(M,U,ue){return G(U)?S.grep(M,function(be,Oe){return!!U.call(be,Oe,be)!==ue}):U.nodeType?S.grep(M,function(be){return be===U!==ue}):typeof U!="string"?S.grep(M,function(be){return b.call(U,be)>-1!==ue}):S.filter(U,M,ue)}S.filter=function(M,U,ue){var be=U[0];return ue&&(M=":not("+M+")"),U.length===1&&be.nodeType===1?S.find.matchesSelector(be,M)?[be]:[]:S.find.matches(M,S.grep(U,function(Oe){return Oe.nodeType===1}))},S.fn.extend({find:function(M){var U,ue,be=this.length,Oe=this;if(typeof M!="string")return this.pushStack(S(M).filter(function(){for(U=0;U<be;U++)if(S.contains(Oe[U],this))return!0}));for(ue=this.pushStack([]),U=0;U<be;U++)S.find(M,Oe[U],ue);return be>1?S.uniqueSort(ue):ue},filter:function(M){return this.pushStack(Qe(this,M||[],!1))},not:function(M){return this.pushStack(Qe(this,M||[],!0))},is:function(M){return!!Qe(this,typeof M=="string"&&Me.test(M)?S(M):M||[],!1).length}});var ie,ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,pe=S.fn.init=function(M,U,ue){var be,Oe;if(!M)return this;if(ue=ue||ie,typeof M=="string")if(M[0]==="<"&&M[M.length-1]===">"&&M.length>=3?be=[null,M,null]:be=ce.exec(M),be&&(be[1]||!U))if(be[1]){if(U=U instanceof S?U[0]:U,S.merge(this,S.parseHTML(be[1],U&&U.nodeType?U.ownerDocument||U:B,!0)),We.test(be[1])&&S.isPlainObject(U))for(be in U)G(this[be])?this[be](U[be]):this.attr(be,U[be]);return this}else return Oe=B.getElementById(be[2]),Oe&&(this[0]=Oe,this.length=1),this;else return!U||U.jquery?(U||ue).find(M):this.constructor(U).find(M);else{if(M.nodeType)return this[0]=M,this.length=1,this;if(G(M))return ue.ready!==void 0?ue.ready(M):M(S)}return S.makeArray(M,this)};pe.prototype=S.fn,ie=S(B);var Ce=/^(?:parents|prev(?:Until|All))/,Be={children:!0,contents:!0,next:!0,prev:!0};S.fn.extend({has:function(M){var U=S(M,this),ue=U.length;return this.filter(function(){for(var be=0;be<ue;be++)if(S.contains(this,U[be]))return!0})},closest:function(M,U){var ue,be=0,Oe=this.length,Re=[],Ge=typeof M!="string"&&S(M);if(!Me.test(M)){for(;be<Oe;be++)for(ue=this[be];ue&&ue!==U;ue=ue.parentNode)if(ue.nodeType<11&&(Ge?Ge.index(ue)>-1:ue.nodeType===1&&S.find.matchesSelector(ue,M))){Re.push(ue);break}}return this.pushStack(Re.length>1?S.uniqueSort(Re):Re)},index:function(M){return M?typeof M=="string"?b.call(S(M),this[0]):b.call(this,M.jquery?M[0]:M):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(M,U){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(M,U))))},addBack:function(M){return this.add(M==null?this.prevObject:this.prevObject.filter(M))}});function re(M,U){for(;(M=M[U])&&M.nodeType!==1;);return M}S.each({parent:function(M){var U=M.parentNode;return U&&U.nodeType!==11?U:null},parents:function(M){return Te(M,"parentNode")},parentsUntil:function(M,U,ue){return Te(M,"parentNode",ue)},next:function(M){return re(M,"nextSibling")},prev:function(M){return re(M,"previousSibling")},nextAll:function(M){return Te(M,"nextSibling")},prevAll:function(M){return Te(M,"previousSibling")},nextUntil:function(M,U,ue){return Te(M,"nextSibling",ue)},prevUntil:function(M,U,ue){return Te(M,"previousSibling",ue)},siblings:function(M){return oe((M.parentNode||{}).firstChild,M)},children:function(M){return oe(M.firstChild)},contents:function(M){return M.contentDocument!=null&&h(M.contentDocument)?M.contentDocument:(I(M,"template")&&(M=M.content||M),S.merge([],M.childNodes))}},function(M,U){S.fn[M]=function(ue,be){var Oe=S.map(this,U,ue);return M.slice(-5)!=="Until"&&(be=ue),be&&typeof be=="string"&&(Oe=S.filter(be,Oe)),this.length>1&&(Be[M]||S.uniqueSort(Oe),Ce.test(M)&&Oe.reverse()),this.pushStack(Oe)}});var xe=/[^\x20\t\r\n\f]+/g;function _e(M){var U={};return S.each(M.match(xe)||[],function(ue,be){U[be]=!0}),U}S.Callbacks=function(M){M=typeof M=="string"?_e(M):S.extend({},M);var U,ue,be,Oe,Re=[],Ge=[],St=-1,gt=function(){for(Oe=Oe||M.once,be=U=!0;Ge.length;St=-1)for(ue=Ge.shift();++St<Re.length;)Re[St].apply(ue[0],ue[1])===!1&&M.stopOnFalse&&(St=Re.length,ue=!1);M.memory||(ue=!1),U=!1,Oe&&(ue?Re=[]:Re="")},Lt={add:function(){return Re&&(ue&&!U&&(St=Re.length-1,Ge.push(ue)),function Wt(si){S.each(si,function(Yt,Mi){G(Mi)?(!M.unique||!Lt.has(Mi))&&Re.push(Mi):Mi&&Mi.length&&W(Mi)!=="string"&&Wt(Mi)})}(arguments),ue&&!U&&gt()),this},remove:function(){return S.each(arguments,function(Wt,si){for(var Yt;(Yt=S.inArray(si,Re,Yt))>-1;)Re.splice(Yt,1),Yt<=St&&St--}),this},has:function(Wt){return Wt?S.inArray(Wt,Re)>-1:Re.length>0},empty:function(){return Re&&(Re=[]),this},disable:function(){return Oe=Ge=[],Re=ue="",this},disabled:function(){return!Re},lock:function(){return Oe=Ge=[],!ue&&!U&&(Re=ue=""),this},locked:function(){return!!Oe},fireWith:function(Wt,si){return Oe||(si=si||[],si=[Wt,si.slice?si.slice():si],Ge.push(si),U||gt()),this},fire:function(){return Lt.fireWith(this,arguments),this},fired:function(){return!!be}};return Lt};function Y(M){return M}function de(M){throw M}function me(M,U,ue,be){var Oe;try{M&&G(Oe=M.promise)?Oe.call(M).done(U).fail(ue):M&&G(Oe=M.then)?Oe.call(M,U,ue):U.apply(void 0,[M].slice(be))}catch(Re){ue.apply(void 0,[Re])}}S.extend({Deferred:function(M){var U=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],ue="pending",be={state:function(){return ue},always:function(){return Oe.done(arguments).fail(arguments),this},catch:function(Re){return be.then(null,Re)},pipe:function(){var Re=arguments;return S.Deferred(function(Ge){S.each(U,function(St,gt){var Lt=G(Re[gt[4]])&&Re[gt[4]];Oe[gt[1]](function(){var Wt=Lt&&Lt.apply(this,arguments);Wt&&G(Wt.promise)?Wt.promise().progress(Ge.notify).done(Ge.resolve).fail(Ge.reject):Ge[gt[0]+"With"](this,Lt?[Wt]:arguments)})}),Re=null}).promise()},then:function(Re,Ge,St){var gt=0;function Lt(Wt,si,Yt,Mi){return function(){var ji=this,Cn=arguments,En=function(){var Rr,Mo;if(!(Wt<gt)){if(Rr=Yt.apply(ji,Cn),Rr===si.promise())throw new TypeError("Thenable self-resolution");Mo=Rr&&(typeof Rr=="object"||typeof Rr=="function")&&Rr.then,G(Mo)?Mi?Mo.call(Rr,Lt(gt,si,Y,Mi),Lt(gt,si,de,Mi)):(gt++,Mo.call(Rr,Lt(gt,si,Y,Mi),Lt(gt,si,de,Mi),Lt(gt,si,Y,si.notifyWith))):(Yt!==Y&&(ji=void 0,Cn=[Rr]),(Mi||si.resolveWith)(ji,Cn))}},ds=Mi?En:function(){try{En()}catch(Rr){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(Rr,ds.error),Wt+1>=gt&&(Yt!==de&&(ji=void 0,Cn=[Rr]),si.rejectWith(ji,Cn))}};Wt?ds():(S.Deferred.getErrorHook?ds.error=S.Deferred.getErrorHook():S.Deferred.getStackHook&&(ds.error=S.Deferred.getStackHook()),i.setTimeout(ds))}}return S.Deferred(function(Wt){U[0][3].add(Lt(0,Wt,G(St)?St:Y,Wt.notifyWith)),U[1][3].add(Lt(0,Wt,G(Re)?Re:Y)),U[2][3].add(Lt(0,Wt,G(Ge)?Ge:de))}).promise()},promise:function(Re){return Re!=null?S.extend(Re,be):be}},Oe={};return S.each(U,function(Re,Ge){var St=Ge[2],gt=Ge[5];be[Ge[1]]=St.add,gt&&St.add(function(){ue=gt},U[3-Re][2].disable,U[3-Re][3].disable,U[0][2].lock,U[0][3].lock),St.add(Ge[3].fire),Oe[Ge[0]]=function(){return Oe[Ge[0]+"With"](this===Oe?void 0:this,arguments),this},Oe[Ge[0]+"With"]=St.fireWith}),be.promise(Oe),M&&M.call(Oe,Oe),Oe},when:function(M){var U=arguments.length,ue=U,be=Array(ue),Oe=p.call(arguments),Re=S.Deferred(),Ge=function(St){return function(gt){be[St]=this,Oe[St]=arguments.length>1?p.call(arguments):gt,--U||Re.resolveWith(be,Oe)}};if(U<=1&&(me(M,Re.done(Ge(ue)).resolve,Re.reject,!U),Re.state()==="pending"||G(Oe[ue]&&Oe[ue].then)))return Re.then();for(;ue--;)me(Oe[ue],Ge(ue),Re.reject);return Re.promise()}});var ke=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(M,U){i.console&&i.console.warn&&M&&ke.test(M.name)&&i.console.warn("jQuery.Deferred exception: "+M.message,M.stack,U)},S.readyException=function(M){i.setTimeout(function(){throw M})};var Ie=S.Deferred();S.fn.ready=function(M){return Ie.then(M).catch(function(U){S.readyException(U)}),this},S.extend({isReady:!1,readyWait:1,ready:function(M){(M===!0?--S.readyWait:S.isReady)||(S.isReady=!0,!(M!==!0&&--S.readyWait>0)&&Ie.resolveWith(B,[S]))}}),S.ready.then=Ie.then;function Ve(){B.removeEventListener("DOMContentLoaded",Ve),i.removeEventListener("load",Ve),S.ready()}B.readyState==="complete"||B.readyState!=="loading"&&!B.documentElement.doScroll?i.setTimeout(S.ready):(B.addEventListener("DOMContentLoaded",Ve),i.addEventListener("load",Ve));var it=function(M,U,ue,be,Oe,Re,Ge){var St=0,gt=M.length,Lt=ue==null;if(W(ue)==="object"){Oe=!0;for(St in ue)it(M,U,St,ue[St],!0,Re,Ge)}else if(be!==void 0&&(Oe=!0,G(be)||(Ge=!0),Lt&&(Ge?(U.call(M,be),U=null):(Lt=U,U=function(Wt,si,Yt){return Lt.call(S(Wt),Yt)})),U))for(;St<gt;St++)U(M[St],ue,Ge?be:be.call(M[St],St,U(M[St],ue)));return Oe?M:Lt?U.call(M):gt?U(M[0],ue):Re},tt=/^-ms-/,ht=/-([a-z])/g;function Ee(M,U){return U.toUpperCase()}function De(M){return M.replace(tt,"ms-").replace(ht,Ee)}var Fe=function(M){return M.nodeType===1||M.nodeType===9||!+M.nodeType};function qe(){this.expando=S.expando+qe.uid++}qe.uid=1,qe.prototype={cache:function(M){var U=M[this.expando];return U||(U={},Fe(M)&&(M.nodeType?M[this.expando]=U:Object.defineProperty(M,this.expando,{value:U,configurable:!0}))),U},set:function(M,U,ue){var be,Oe=this.cache(M);if(typeof U=="string")Oe[De(U)]=ue;else for(be in U)Oe[De(be)]=U[be];return Oe},get:function(M,U){return U===void 0?this.cache(M):M[this.expando]&&M[this.expando][De(U)]},access:function(M,U,ue){return U===void 0||U&&typeof U=="string"&&ue===void 0?this.get(M,U):(this.set(M,U,ue),ue!==void 0?ue:U)},remove:function(M,U){var ue,be=M[this.expando];if(be!==void 0){if(U!==void 0)for(Array.isArray(U)?U=U.map(De):(U=De(U),U=U in be?[U]:U.match(xe)||[]),ue=U.length;ue--;)delete be[U[ue]];(U===void 0||S.isEmptyObject(be))&&(M.nodeType?M[this.expando]=void 0:delete M[this.expando])}},hasData:function(M){var U=M[this.expando];return U!==void 0&&!S.isEmptyObject(U)}};var He=new qe,xt=new qe,jt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Vt=/[A-Z]/g;function vi(M){return M==="true"?!0:M==="false"?!1:M==="null"?null:M===+M+""?+M:jt.test(M)?JSON.parse(M):M}function ri(M,U,ue){var be;if(ue===void 0&&M.nodeType===1)if(be="data-"+U.replace(Vt,"-$&").toLowerCase(),ue=M.getAttribute(be),typeof ue=="string"){try{ue=vi(ue)}catch{}xt.set(M,U,ue)}else ue=void 0;return ue}S.extend({hasData:function(M){return xt.hasData(M)||He.hasData(M)},data:function(M,U,ue){return xt.access(M,U,ue)},removeData:function(M,U){xt.remove(M,U)},_data:function(M,U,ue){return He.access(M,U,ue)},_removeData:function(M,U){He.remove(M,U)}}),S.fn.extend({data:function(M,U){var ue,be,Oe,Re=this[0],Ge=Re&&Re.attributes;if(M===void 0){if(this.length&&(Oe=xt.get(Re),Re.nodeType===1&&!He.get(Re,"hasDataAttrs"))){for(ue=Ge.length;ue--;)Ge[ue]&&(be=Ge[ue].name,be.indexOf("data-")===0&&(be=De(be.slice(5)),ri(Re,be,Oe[be])));He.set(Re,"hasDataAttrs",!0)}return Oe}return typeof M=="object"?this.each(function(){xt.set(this,M)}):it(this,function(St){var gt;if(Re&&St===void 0)return gt=xt.get(Re,M),gt!==void 0||(gt=ri(Re,M),gt!==void 0)?gt:void 0;this.each(function(){xt.set(this,M,St)})},null,U,arguments.length>1,null,!0)},removeData:function(M){return this.each(function(){xt.remove(this,M)})}}),S.extend({queue:function(M,U,ue){var be;if(M)return U=(U||"fx")+"queue",be=He.get(M,U),ue&&(!be||Array.isArray(ue)?be=He.access(M,U,S.makeArray(ue)):be.push(ue)),be||[]},dequeue:function(M,U){U=U||"fx";var ue=S.queue(M,U),be=ue.length,Oe=ue.shift(),Re=S._queueHooks(M,U),Ge=function(){S.dequeue(M,U)};Oe==="inprogress"&&(Oe=ue.shift(),be--),Oe&&(U==="fx"&&ue.unshift("inprogress"),delete Re.stop,Oe.call(M,Ge,Re)),!be&&Re&&Re.empty.fire()},_queueHooks:function(M,U){var ue=U+"queueHooks";return He.get(M,ue)||He.access(M,ue,{empty:S.Callbacks("once memory").add(function(){He.remove(M,[U+"queue",ue])})})}}),S.fn.extend({queue:function(M,U){var ue=2;return typeof M!="string"&&(U=M,M="fx",ue--),arguments.length<ue?S.queue(this[0],M):U===void 0?this:this.each(function(){var be=S.queue(this,M,U);S._queueHooks(this,M),M==="fx"&&be[0]!=="inprogress"&&S.dequeue(this,M)})},dequeue:function(M){return this.each(function(){S.dequeue(this,M)})},clearQueue:function(M){return this.queue(M||"fx",[])},promise:function(M,U){var ue,be=1,Oe=S.Deferred(),Re=this,Ge=this.length,St=function(){--be||Oe.resolveWith(Re,[Re])};for(typeof M!="string"&&(U=M,M=void 0),M=M||"fx";Ge--;)ue=He.get(Re[Ge],M+"queueHooks"),ue&&ue.empty&&(be++,ue.empty.add(St));return St(),Oe.promise(U)}});var bi=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Gi=new RegExp("^(?:([+-])=|)("+bi+")([a-z%]*)$","i"),ki=["Top","Right","Bottom","Left"],Ni=B.documentElement,Ai=function(M){return S.contains(M.ownerDocument,M)},Tn={composed:!0};Ni.getRootNode&&(Ai=function(M){return S.contains(M.ownerDocument,M)||M.getRootNode(Tn)===M.ownerDocument});var In=function(M,U){return M=U||M,M.style.display==="none"||M.style.display===""&&Ai(M)&&S.css(M,"display")==="none"};function Hn(M,U,ue,be){var Oe,Re,Ge=20,St=be?function(){return be.cur()}:function(){return S.css(M,U,"")},gt=St(),Lt=ue&&ue[3]||(S.cssNumber[U]?"":"px"),Wt=M.nodeType&&(S.cssNumber[U]||Lt!=="px"&&+gt)&&Gi.exec(S.css(M,U));if(Wt&&Wt[3]!==Lt){for(gt=gt/2,Lt=Lt||Wt[3],Wt=+gt||1;Ge--;)S.style(M,U,Wt+Lt),(1-Re)*(1-(Re=St()/gt||.5))<=0&&(Ge=0),Wt=Wt/Re;Wt=Wt*2,S.style(M,U,Wt+Lt),ue=ue||[]}return ue&&(Wt=+Wt||+gt||0,Oe=ue[1]?Wt+(ue[1]+1)*ue[2]:+ue[2],be&&(be.unit=Lt,be.start=Wt,be.end=Oe)),Oe}var hs={};function nr(M){var U,ue=M.ownerDocument,be=M.nodeName,Oe=hs[be];return Oe||(U=ue.body.appendChild(ue.createElement(be)),Oe=S.css(U,"display"),U.parentNode.removeChild(U),Oe==="none"&&(Oe="block"),hs[be]=Oe,Oe)}function rr(M,U){for(var ue,be,Oe=[],Re=0,Ge=M.length;Re<Ge;Re++)be=M[Re],be.style&&(ue=be.style.display,U?(ue==="none"&&(Oe[Re]=He.get(be,"display")||null,Oe[Re]||(be.style.display="")),be.style.display===""&&In(be)&&(Oe[Re]=nr(be))):ue!=="none"&&(Oe[Re]="none",He.set(be,"display",ue)));for(Re=0;Re<Ge;Re++)Oe[Re]!=null&&(M[Re].style.display=Oe[Re]);return M}S.fn.extend({show:function(){return rr(this,!0)},hide:function(){return rr(this)},toggle:function(M){return typeof M=="boolean"?M?this.show():this.hide():this.each(function(){In(this)?S(this).show():S(this).hide()})}});var _r=/^(?:checkbox|radio)$/i,Mc=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ac=/^$|^module$|\/(?:java|ecma)script/i;(function(){var M=B.createDocumentFragment(),U=M.appendChild(B.createElement("div")),ue=B.createElement("input");ue.setAttribute("type","radio"),ue.setAttribute("checked","checked"),ue.setAttribute("name","t"),U.appendChild(ue),z.checkClone=U.cloneNode(!0).cloneNode(!0).lastChild.checked,U.innerHTML="<textarea>x</textarea>",z.noCloneChecked=!!U.cloneNode(!0).lastChild.defaultValue,U.innerHTML="<option></option>",z.option=!!U.lastChild})();var Es={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Es.tbody=Es.tfoot=Es.colgroup=Es.caption=Es.thead,Es.th=Es.td,z.option||(Es.optgroup=Es.option=[1,"<select multiple='multiple'>","</select>"]);function is(M,U){var ue;return typeof M.getElementsByTagName<"u"?ue=M.getElementsByTagName(U||"*"):typeof M.querySelectorAll<"u"?ue=M.querySelectorAll(U||"*"):ue=[],U===void 0||U&&I(M,U)?S.merge([M],ue):ue}function Ls(M,U){for(var ue=0,be=M.length;ue<be;ue++)He.set(M[ue],"globalEval",!U||He.get(U[ue],"globalEval"))}var Fa=/<|&#?\w+;/;function kc(M,U,ue,be,Oe){for(var Re,Ge,St,gt,Lt,Wt,si=U.createDocumentFragment(),Yt=[],Mi=0,ji=M.length;Mi<ji;Mi++)if(Re=M[Mi],Re||Re===0)if(W(Re)==="object")S.merge(Yt,Re.nodeType?[Re]:Re);else if(!Fa.test(Re))Yt.push(U.createTextNode(Re));else{for(Ge=Ge||si.appendChild(U.createElement("div")),St=(Mc.exec(Re)||["",""])[1].toLowerCase(),gt=Es[St]||Es._default,Ge.innerHTML=gt[1]+S.htmlPrefilter(Re)+gt[2],Wt=gt[0];Wt--;)Ge=Ge.lastChild;S.merge(Yt,Ge.childNodes),Ge=si.firstChild,Ge.textContent=""}for(si.textContent="",Mi=0;Re=Yt[Mi++];){if(be&&S.inArray(Re,be)>-1){Oe&&Oe.push(Re);continue}if(Lt=Ai(Re),Ge=is(si.appendChild(Re),"script"),Lt&&Ls(Ge),ue)for(Wt=0;Re=Ge[Wt++];)Ac.test(Re.type||"")&&ue.push(Re)}return si}var Na=/^([^.]*)(?:\.(.+)|)/;function rt(){return!0}function Le(){return!1}function Ne(M,U,ue,be,Oe,Re){var Ge,St;if(typeof U=="object"){typeof ue!="string"&&(be=be||ue,ue=void 0);for(St in U)Ne(M,St,ue,be,U[St],Re);return M}if(be==null&&Oe==null?(Oe=ue,be=ue=void 0):Oe==null&&(typeof ue=="string"?(Oe=be,be=void 0):(Oe=be,be=ue,ue=void 0)),Oe===!1)Oe=Le;else if(!Oe)return M;return Re===1&&(Ge=Oe,Oe=function(gt){return S().off(gt),Ge.apply(this,arguments)},Oe.guid=Ge.guid||(Ge.guid=S.guid++)),M.each(function(){S.event.add(this,U,Oe,be,ue)})}S.event={global:{},add:function(M,U,ue,be,Oe){var Re,Ge,St,gt,Lt,Wt,si,Yt,Mi,ji,Cn,En=He.get(M);if(Fe(M))for(ue.handler&&(Re=ue,ue=Re.handler,Oe=Re.selector),Oe&&S.find.matchesSelector(Ni,Oe),ue.guid||(ue.guid=S.guid++),(gt=En.events)||(gt=En.events=Object.create(null)),(Ge=En.handle)||(Ge=En.handle=function(ds){return typeof S<"u"&&S.event.triggered!==ds.type?S.event.dispatch.apply(M,arguments):void 0}),U=(U||"").match(xe)||[""],Lt=U.length;Lt--;)St=Na.exec(U[Lt])||[],Mi=Cn=St[1],ji=(St[2]||"").split(".").sort(),Mi&&(si=S.event.special[Mi]||{},Mi=(Oe?si.delegateType:si.bindType)||Mi,si=S.event.special[Mi]||{},Wt=S.extend({type:Mi,origType:Cn,data:be,handler:ue,guid:ue.guid,selector:Oe,needsContext:Oe&&S.expr.match.needsContext.test(Oe),namespace:ji.join(".")},Re),(Yt=gt[Mi])||(Yt=gt[Mi]=[],Yt.delegateCount=0,(!si.setup||si.setup.call(M,be,ji,Ge)===!1)&&M.addEventListener&&M.addEventListener(Mi,Ge)),si.add&&(si.add.call(M,Wt),Wt.handler.guid||(Wt.handler.guid=ue.guid)),Oe?Yt.splice(Yt.delegateCount++,0,Wt):Yt.push(Wt),S.event.global[Mi]=!0)},remove:function(M,U,ue,be,Oe){var Re,Ge,St,gt,Lt,Wt,si,Yt,Mi,ji,Cn,En=He.hasData(M)&&He.get(M);if(!(!En||!(gt=En.events))){for(U=(U||"").match(xe)||[""],Lt=U.length;Lt--;){if(St=Na.exec(U[Lt])||[],Mi=Cn=St[1],ji=(St[2]||"").split(".").sort(),!Mi){for(Mi in gt)S.event.remove(M,Mi+U[Lt],ue,be,!0);continue}for(si=S.event.special[Mi]||{},Mi=(be?si.delegateType:si.bindType)||Mi,Yt=gt[Mi]||[],St=St[2]&&new RegExp("(^|\\.)"+ji.join("\\.(?:.*\\.|)")+"(\\.|$)"),Ge=Re=Yt.length;Re--;)Wt=Yt[Re],(Oe||Cn===Wt.origType)&&(!ue||ue.guid===Wt.guid)&&(!St||St.test(Wt.namespace))&&(!be||be===Wt.selector||be==="**"&&Wt.selector)&&(Yt.splice(Re,1),Wt.selector&&Yt.delegateCount--,si.remove&&si.remove.call(M,Wt));Ge&&!Yt.length&&((!si.teardown||si.teardown.call(M,ji,En.handle)===!1)&&S.removeEvent(M,Mi,En.handle),delete gt[Mi])}S.isEmptyObject(gt)&&He.remove(M,"handle events")}},dispatch:function(M){var U,ue,be,Oe,Re,Ge,St=new Array(arguments.length),gt=S.event.fix(M),Lt=(He.get(this,"events")||Object.create(null))[gt.type]||[],Wt=S.event.special[gt.type]||{};for(St[0]=gt,U=1;U<arguments.length;U++)St[U]=arguments[U];if(gt.delegateTarget=this,!(Wt.preDispatch&&Wt.preDispatch.call(this,gt)===!1)){for(Ge=S.event.handlers.call(this,gt,Lt),U=0;(Oe=Ge[U++])&&!gt.isPropagationStopped();)for(gt.currentTarget=Oe.elem,ue=0;(Re=Oe.handlers[ue++])&&!gt.isImmediatePropagationStopped();)(!gt.rnamespace||Re.namespace===!1||gt.rnamespace.test(Re.namespace))&&(gt.handleObj=Re,gt.data=Re.data,be=((S.event.special[Re.origType]||{}).handle||Re.handler).apply(Oe.elem,St),be!==void 0&&(gt.result=be)===!1&&(gt.preventDefault(),gt.stopPropagation()));return Wt.postDispatch&&Wt.postDispatch.call(this,gt),gt.result}},handlers:function(M,U){var ue,be,Oe,Re,Ge,St=[],gt=U.delegateCount,Lt=M.target;if(gt&&Lt.nodeType&&!(M.type==="click"&&M.button>=1)){for(;Lt!==this;Lt=Lt.parentNode||this)if(Lt.nodeType===1&&!(M.type==="click"&&Lt.disabled===!0)){for(Re=[],Ge={},ue=0;ue<gt;ue++)be=U[ue],Oe=be.selector+" ",Ge[Oe]===void 0&&(Ge[Oe]=be.needsContext?S(Oe,this).index(Lt)>-1:S.find(Oe,this,null,[Lt]).length),Ge[Oe]&&Re.push(be);Re.length&&St.push({elem:Lt,handlers:Re})}}return Lt=this,gt<U.length&&St.push({elem:Lt,handlers:U.slice(gt)}),St},addProp:function(M,U){Object.defineProperty(S.Event.prototype,M,{enumerable:!0,configurable:!0,get:G(U)?function(){if(this.originalEvent)return U(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[M]},set:function(ue){Object.defineProperty(this,M,{enumerable:!0,configurable:!0,writable:!0,value:ue})}})},fix:function(M){return M[S.expando]?M:new S.Event(M)},special:{load:{noBubble:!0},click:{setup:function(M){var U=this||M;return _r.test(U.type)&&U.click&&I(U,"input")&&st(U,"click",!0),!1},trigger:function(M){var U=this||M;return _r.test(U.type)&&U.click&&I(U,"input")&&st(U,"click"),!0},_default:function(M){var U=M.target;return _r.test(U.type)&&U.click&&I(U,"input")&&He.get(U,"click")||I(U,"a")}},beforeunload:{postDispatch:function(M){M.result!==void 0&&M.originalEvent&&(M.originalEvent.returnValue=M.result)}}}};function st(M,U,ue){if(!ue){He.get(M,U)===void 0&&S.event.add(M,U,rt);return}He.set(M,U,!1),S.event.add(M,U,{namespace:!1,handler:function(be){var Oe,Re=He.get(this,U);if(be.isTrigger&1&&this[U]){if(Re)(S.event.special[U]||{}).delegateType&&be.stopPropagation();else if(Re=p.call(arguments),He.set(this,U,Re),this[U](),Oe=He.get(this,U),He.set(this,U,!1),Re!==Oe)return be.stopImmediatePropagation(),be.preventDefault(),Oe}else Re&&(He.set(this,U,S.event.trigger(Re[0],Re.slice(1),this)),be.stopPropagation(),be.isImmediatePropagationStopped=rt)}})}S.removeEvent=function(M,U,ue){M.removeEventListener&&M.removeEventListener(U,ue)},S.Event=function(M,U){if(!(this instanceof S.Event))return new S.Event(M,U);M&&M.type?(this.originalEvent=M,this.type=M.type,this.isDefaultPrevented=M.defaultPrevented||M.defaultPrevented===void 0&&M.returnValue===!1?rt:Le,this.target=M.target&&M.target.nodeType===3?M.target.parentNode:M.target,this.currentTarget=M.currentTarget,this.relatedTarget=M.relatedTarget):this.type=M,U&&S.extend(this,U),this.timeStamp=M&&M.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Le,isPropagationStopped:Le,isImmediatePropagationStopped:Le,isSimulated:!1,preventDefault:function(){var M=this.originalEvent;this.isDefaultPrevented=rt,M&&!this.isSimulated&&M.preventDefault()},stopPropagation:function(){var M=this.originalEvent;this.isPropagationStopped=rt,M&&!this.isSimulated&&M.stopPropagation()},stopImmediatePropagation:function(){var M=this.originalEvent;this.isImmediatePropagationStopped=rt,M&&!this.isSimulated&&M.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(M,U){function ue(be){if(B.documentMode){var Oe=He.get(this,"handle"),Re=S.event.fix(be);Re.type=be.type==="focusin"?"focus":"blur",Re.isSimulated=!0,Oe(be),Re.target===Re.currentTarget&&Oe(Re)}else S.event.simulate(U,be.target,S.event.fix(be))}S.event.special[M]={setup:function(){var be;if(st(this,M,!0),B.documentMode)be=He.get(this,U),be||this.addEventListener(U,ue),He.set(this,U,(be||0)+1);else return!1},trigger:function(){return st(this,M),!0},teardown:function(){var be;if(B.documentMode)be=He.get(this,U)-1,be?He.set(this,U,be):(this.removeEventListener(U,ue),He.remove(this,U));else return!1},_default:function(be){return He.get(be.target,M)},delegateType:U},S.event.special[U]={setup:function(){var be=this.ownerDocument||this.document||this,Oe=B.documentMode?this:be,Re=He.get(Oe,U);Re||(B.documentMode?this.addEventListener(U,ue):be.addEventListener(M,ue,!0)),He.set(Oe,U,(Re||0)+1)},teardown:function(){var be=this.ownerDocument||this.document||this,Oe=B.documentMode?this:be,Re=He.get(Oe,U)-1;Re?He.set(Oe,U,Re):(B.documentMode?this.removeEventListener(U,ue):be.removeEventListener(M,ue,!0),He.remove(Oe,U))}}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(M,U){S.event.special[M]={delegateType:U,bindType:U,handle:function(ue){var be,Oe=this,Re=ue.relatedTarget,Ge=ue.handleObj;return(!Re||Re!==Oe&&!S.contains(Oe,Re))&&(ue.type=Ge.origType,be=Ge.handler.apply(this,arguments),ue.type=U),be}}}),S.fn.extend({on:function(M,U,ue,be){return Ne(this,M,U,ue,be)},one:function(M,U,ue,be){return Ne(this,M,U,ue,be,1)},off:function(M,U,ue){var be,Oe;if(M&&M.preventDefault&&M.handleObj)return be=M.handleObj,S(M.delegateTarget).off(be.namespace?be.origType+"."+be.namespace:be.origType,be.selector,be.handler),this;if(typeof M=="object"){for(Oe in M)this.off(Oe,U,M[Oe]);return this}return(U===!1||typeof U=="function")&&(ue=U,U=void 0),ue===!1&&(ue=Le),this.each(function(){S.event.remove(this,M,ue,U)})}});var ft=/<script|<style|<link/i,Et=/checked\s*(?:[^=]|=\s*.checked.)/i,zt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ot(M,U){return I(M,"table")&&I(U.nodeType!==11?U:U.firstChild,"tr")&&S(M).children("tbody")[0]||M}function Mt(M){return M.type=(M.getAttribute("type")!==null)+"/"+M.type,M}function Ut(M){return(M.type||"").slice(0,5)==="true/"?M.type=M.type.slice(5):M.removeAttribute("type"),M}function hi(M,U){var ue,be,Oe,Re,Ge,St,gt;if(U.nodeType===1){if(He.hasData(M)&&(Re=He.get(M),gt=Re.events,gt)){He.remove(U,"handle events");for(Oe in gt)for(ue=0,be=gt[Oe].length;ue<be;ue++)S.event.add(U,Oe,gt[Oe][ue])}xt.hasData(M)&&(Ge=xt.access(M),St=S.extend({},Ge),xt.set(U,St))}}function Li(M,U){var ue=U.nodeName.toLowerCase();ue==="input"&&_r.test(M.type)?U.checked=M.checked:(ue==="input"||ue==="textarea")&&(U.defaultValue=M.defaultValue)}function mi(M,U,ue,be){U=y(U);var Oe,Re,Ge,St,gt,Lt,Wt=0,si=M.length,Yt=si-1,Mi=U[0],ji=G(Mi);if(ji||si>1&&typeof Mi=="string"&&!z.checkClone&&Et.test(Mi))return M.each(function(Cn){var En=M.eq(Cn);ji&&(U[0]=Mi.call(this,Cn,En.html())),mi(En,U,ue,be)});if(si&&(Oe=kc(U,M[0].ownerDocument,!1,M,be),Re=Oe.firstChild,Oe.childNodes.length===1&&(Oe=Re),Re||be)){for(Ge=S.map(is(Oe,"script"),Mt),St=Ge.length;Wt<si;Wt++)gt=Oe,Wt!==Yt&&(gt=S.clone(gt,!0,!0),St&&S.merge(Ge,is(gt,"script"))),ue.call(M[Wt],gt,Wt);if(St)for(Lt=Ge[Ge.length-1].ownerDocument,S.map(Ge,Ut),Wt=0;Wt<St;Wt++)gt=Ge[Wt],Ac.test(gt.type||"")&&!He.access(gt,"globalEval")&&S.contains(Lt,gt)&&(gt.src&&(gt.type||"").toLowerCase()!=="module"?S._evalUrl&&!gt.noModule&&S._evalUrl(gt.src,{nonce:gt.nonce||gt.getAttribute("nonce")},Lt):V(gt.textContent.replace(zt,""),gt,Lt))}return M}function en(M,U,ue){for(var be,Oe=U?S.filter(U,M):M,Re=0;(be=Oe[Re])!=null;Re++)!ue&&be.nodeType===1&&S.cleanData(is(be)),be.parentNode&&(ue&&Ai(be)&&Ls(is(be,"script")),be.parentNode.removeChild(be));return M}S.extend({htmlPrefilter:function(M){return M},clone:function(M,U,ue){var be,Oe,Re,Ge,St=M.cloneNode(!0),gt=Ai(M);if(!z.noCloneChecked&&(M.nodeType===1||M.nodeType===11)&&!S.isXMLDoc(M))for(Ge=is(St),Re=is(M),be=0,Oe=Re.length;be<Oe;be++)Li(Re[be],Ge[be]);if(U)if(ue)for(Re=Re||is(M),Ge=Ge||is(St),be=0,Oe=Re.length;be<Oe;be++)hi(Re[be],Ge[be]);else hi(M,St);return Ge=is(St,"script"),Ge.length>0&&Ls(Ge,!gt&&is(M,"script")),St},cleanData:function(M){for(var U,ue,be,Oe=S.event.special,Re=0;(ue=M[Re])!==void 0;Re++)if(Fe(ue)){if(U=ue[He.expando]){if(U.events)for(be in U.events)Oe[be]?S.event.remove(ue,be):S.removeEvent(ue,be,U.handle);ue[He.expando]=void 0}ue[xt.expando]&&(ue[xt.expando]=void 0)}}}),S.fn.extend({detach:function(M){return en(this,M,!0)},remove:function(M){return en(this,M)},text:function(M){return it(this,function(U){return U===void 0?S.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=U)})},null,M,arguments.length)},append:function(){return mi(this,arguments,function(M){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var U=Ot(this,M);U.appendChild(M)}})},prepend:function(){return mi(this,arguments,function(M){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var U=Ot(this,M);U.insertBefore(M,U.firstChild)}})},before:function(){return mi(this,arguments,function(M){this.parentNode&&this.parentNode.insertBefore(M,this)})},after:function(){return mi(this,arguments,function(M){this.parentNode&&this.parentNode.insertBefore(M,this.nextSibling)})},empty:function(){for(var M,U=0;(M=this[U])!=null;U++)M.nodeType===1&&(S.cleanData(is(M,!1)),M.textContent="");return this},clone:function(M,U){return M=M??!1,U=U??M,this.map(function(){return S.clone(this,M,U)})},html:function(M){return it(this,function(U){var ue=this[0]||{},be=0,Oe=this.length;if(U===void 0&&ue.nodeType===1)return ue.innerHTML;if(typeof U=="string"&&!ft.test(U)&&!Es[(Mc.exec(U)||["",""])[1].toLowerCase()]){U=S.htmlPrefilter(U);try{for(;be<Oe;be++)ue=this[be]||{},ue.nodeType===1&&(S.cleanData(is(ue,!1)),ue.innerHTML=U);ue=0}catch{}}ue&&this.empty().append(U)},null,M,arguments.length)},replaceWith:function(){var M=[];return mi(this,arguments,function(U){var ue=this.parentNode;S.inArray(this,M)<0&&(S.cleanData(is(this)),ue&&ue.replaceChild(U,this))},M)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(M,U){S.fn[M]=function(ue){for(var be,Oe=[],Re=S(ue),Ge=Re.length-1,St=0;St<=Ge;St++)be=St===Ge?this:this.clone(!0),S(Re[St])[U](be),s.apply(Oe,be.get());return this.pushStack(Oe)}});var Xi=new RegExp("^("+bi+")(?!px)[a-z%]+$","i"),Hi=/^--/,sn=function(M){var U=M.ownerDocument.defaultView;return(!U||!U.opener)&&(U=i),U.getComputedStyle(M)},xn=function(M,U,ue){var be,Oe,Re={};for(Oe in U)Re[Oe]=M.style[Oe],M.style[Oe]=U[Oe];be=ue.call(M);for(Oe in U)M.style[Oe]=Re[Oe];return be},jn=new RegExp(ki.join("|"),"i");(function(){function M(){if(Lt){gt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Lt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ni.appendChild(gt).appendChild(Lt);var Wt=i.getComputedStyle(Lt);ue=Wt.top!=="1%",St=U(Wt.marginLeft)===12,Lt.style.right="60%",Re=U(Wt.right)===36,be=U(Wt.width)===36,Lt.style.position="absolute",Oe=U(Lt.offsetWidth/3)===12,Ni.removeChild(gt),Lt=null}}function U(Wt){return Math.round(parseFloat(Wt))}var ue,be,Oe,Re,Ge,St,gt=B.createElement("div"),Lt=B.createElement("div");Lt.style&&(Lt.style.backgroundClip="content-box",Lt.cloneNode(!0).style.backgroundClip="",z.clearCloneStyle=Lt.style.backgroundClip==="content-box",S.extend(z,{boxSizingReliable:function(){return M(),be},pixelBoxStyles:function(){return M(),Re},pixelPosition:function(){return M(),ue},reliableMarginLeft:function(){return M(),St},scrollboxSize:function(){return M(),Oe},reliableTrDimensions:function(){var Wt,si,Yt,Mi;return Ge==null&&(Wt=B.createElement("table"),si=B.createElement("tr"),Yt=B.createElement("div"),Wt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",si.style.cssText="border:1px solid",si.style.height="1px",Yt.style.height="9px",Yt.style.display="block",Ni.appendChild(Wt).appendChild(si).appendChild(Yt),Mi=i.getComputedStyle(si),Ge=parseInt(Mi.height,10)+parseInt(Mi.borderTopWidth,10)+parseInt(Mi.borderBottomWidth,10)===si.offsetHeight,Ni.removeChild(Wt)),Ge}}))})();function tn(M,U,ue){var be,Oe,Re,Ge,St=Hi.test(U),gt=M.style;return ue=ue||sn(M),ue&&(Ge=ue.getPropertyValue(U)||ue[U],St&&Ge&&(Ge=Ge.replace(C,"$1")||void 0),Ge===""&&!Ai(M)&&(Ge=S.style(M,U)),!z.pixelBoxStyles()&&Xi.test(Ge)&&jn.test(U)&&(be=gt.width,Oe=gt.minWidth,Re=gt.maxWidth,gt.minWidth=gt.maxWidth=gt.width=Ge,Ge=ue.width,gt.width=be,gt.minWidth=Oe,gt.maxWidth=Re)),Ge!==void 0?Ge+"":Ge}function Xn(M,U){return{get:function(){if(M()){delete this.get;return}return(this.get=U).apply(this,arguments)}}}var sr=["Webkit","Moz","ms"],wa=B.createElement("div").style,Qo={};function ti(M){for(var U=M[0].toUpperCase()+M.slice(1),ue=sr.length;ue--;)if(M=sr[ue]+U,M in wa)return M}function So(M){var U=S.cssProps[M]||Qo[M];return U||(M in wa?M:Qo[M]=ti(M)||M)}var $r=/^(none|table(?!-c[ea]).+)/,ja={position:"absolute",visibility:"hidden",display:"block"},td={letterSpacing:"0",fontWeight:"400"};function zo(M,U,ue){var be=Gi.exec(U);return be?Math.max(0,be[2]-(ue||0))+(be[3]||"px"):U}function Ua(M,U,ue,be,Oe,Re){var Ge=U==="width"?1:0,St=0,gt=0,Lt=0;if(ue===(be?"border":"content"))return 0;for(;Ge<4;Ge+=2)ue==="margin"&&(Lt+=S.css(M,ue+ki[Ge],!0,Oe)),be?(ue==="content"&&(gt-=S.css(M,"padding"+ki[Ge],!0,Oe)),ue!=="margin"&&(gt-=S.css(M,"border"+ki[Ge]+"Width",!0,Oe))):(gt+=S.css(M,"padding"+ki[Ge],!0,Oe),ue!=="padding"?gt+=S.css(M,"border"+ki[Ge]+"Width",!0,Oe):St+=S.css(M,"border"+ki[Ge]+"Width",!0,Oe));return!be&&Re>=0&&(gt+=Math.max(0,Math.ceil(M["offset"+U[0].toUpperCase()+U.slice(1)]-Re-gt-St-.5))||0),gt+Lt}function dh(M,U,ue){var be=sn(M),Oe=!z.boxSizingReliable()||ue,Re=Oe&&S.css(M,"boxSizing",!1,be)==="border-box",Ge=Re,St=tn(M,U,be),gt="offset"+U[0].toUpperCase()+U.slice(1);if(Xi.test(St)){if(!ue)return St;St="auto"}return(!z.boxSizingReliable()&&Re||!z.reliableTrDimensions()&&I(M,"tr")||St==="auto"||!parseFloat(St)&&S.css(M,"display",!1,be)==="inline")&&M.getClientRects().length&&(Re=S.css(M,"boxSizing",!1,be)==="border-box",Ge=gt in M,Ge&&(St=M[gt])),St=parseFloat(St)||0,St+Ua(M,U,ue||(Re?"border":"content"),Ge,be,St)+"px"}S.extend({cssHooks:{opacity:{get:function(M,U){if(U){var ue=tn(M,"opacity");return ue===""?"1":ue}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(M,U,ue,be){if(!(!M||M.nodeType===3||M.nodeType===8||!M.style)){var Oe,Re,Ge,St=De(U),gt=Hi.test(U),Lt=M.style;if(gt||(U=So(St)),Ge=S.cssHooks[U]||S.cssHooks[St],ue!==void 0){if(Re=typeof ue,Re==="string"&&(Oe=Gi.exec(ue))&&Oe[1]&&(ue=Hn(M,U,Oe),Re="number"),ue==null||ue!==ue)return;Re==="number"&&!gt&&(ue+=Oe&&Oe[3]||(S.cssNumber[St]?"":"px")),!z.clearCloneStyle&&ue===""&&U.indexOf("background")===0&&(Lt[U]="inherit"),(!Ge||!("set"in Ge)||(ue=Ge.set(M,ue,be))!==void 0)&&(gt?Lt.setProperty(U,ue):Lt[U]=ue)}else return Ge&&"get"in Ge&&(Oe=Ge.get(M,!1,be))!==void 0?Oe:Lt[U]}},css:function(M,U,ue,be){var Oe,Re,Ge,St=De(U),gt=Hi.test(U);return gt||(U=So(St)),Ge=S.cssHooks[U]||S.cssHooks[St],Ge&&"get"in Ge&&(Oe=Ge.get(M,!0,ue)),Oe===void 0&&(Oe=tn(M,U,be)),Oe==="normal"&&U in td&&(Oe=td[U]),ue===""||ue?(Re=parseFloat(Oe),ue===!0||isFinite(Re)?Re||0:Oe):Oe}}),S.each(["height","width"],function(M,U){S.cssHooks[U]={get:function(ue,be,Oe){if(be)return $r.test(S.css(ue,"display"))&&(!ue.getClientRects().length||!ue.getBoundingClientRect().width)?xn(ue,ja,function(){return dh(ue,U,Oe)}):dh(ue,U,Oe)},set:function(ue,be,Oe){var Re,Ge=sn(ue),St=!z.scrollboxSize()&&Ge.position==="absolute",gt=St||Oe,Lt=gt&&S.css(ue,"boxSizing",!1,Ge)==="border-box",Wt=Oe?Ua(ue,U,Oe,Lt,Ge):0;return Lt&&St&&(Wt-=Math.ceil(ue["offset"+U[0].toUpperCase()+U.slice(1)]-parseFloat(Ge[U])-Ua(ue,U,"border",!1,Ge)-.5)),Wt&&(Re=Gi.exec(be))&&(Re[3]||"px")!=="px"&&(ue.style[U]=be,be=S.css(ue,U)),zo(ue,be,Wt)}}}),S.cssHooks.marginLeft=Xn(z.reliableMarginLeft,function(M,U){if(U)return(parseFloat(tn(M,"marginLeft"))||M.getBoundingClientRect().left-xn(M,{marginLeft:0},function(){return M.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(M,U){S.cssHooks[M+U]={expand:function(ue){for(var be=0,Oe={},Re=typeof ue=="string"?ue.split(" "):[ue];be<4;be++)Oe[M+ki[be]+U]=Re[be]||Re[be-2]||Re[0];return Oe}},M!=="margin"&&(S.cssHooks[M+U].set=zo)}),S.fn.extend({css:function(M,U){return it(this,function(ue,be,Oe){var Re,Ge,St={},gt=0;if(Array.isArray(be)){for(Re=sn(ue),Ge=be.length;gt<Ge;gt++)St[be[gt]]=S.css(ue,be[gt],!1,Re);return St}return Oe!==void 0?S.style(ue,be,Oe):S.css(ue,be)},M,U,arguments.length>1)}});function ns(M,U,ue,be,Oe){return new ns.prototype.init(M,U,ue,be,Oe)}S.Tween=ns,ns.prototype={constructor:ns,init:function(M,U,ue,be,Oe,Re){this.elem=M,this.prop=ue,this.easing=Oe||S.easing._default,this.options=U,this.start=this.now=this.cur(),this.end=be,this.unit=Re||(S.cssNumber[ue]?"":"px")},cur:function(){var M=ns.propHooks[this.prop];return M&&M.get?M.get(this):ns.propHooks._default.get(this)},run:function(M){var U,ue=ns.propHooks[this.prop];return this.options.duration?this.pos=U=S.easing[this.easing](M,this.options.duration*M,0,1,this.options.duration):this.pos=U=M,this.now=(this.end-this.start)*U+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),ue&&ue.set?ue.set(this):ns.propHooks._default.set(this),this}},ns.prototype.init.prototype=ns.prototype,ns.propHooks={_default:{get:function(M){var U;return M.elem.nodeType!==1||M.elem[M.prop]!=null&&M.elem.style[M.prop]==null?M.elem[M.prop]:(U=S.css(M.elem,M.prop,""),!U||U==="auto"?0:U)},set:function(M){S.fx.step[M.prop]?S.fx.step[M.prop](M):M.elem.nodeType===1&&(S.cssHooks[M.prop]||M.elem.style[So(M.prop)]!=null)?S.style(M.elem,M.prop,M.now+M.unit):M.elem[M.prop]=M.now}}},ns.propHooks.scrollTop=ns.propHooks.scrollLeft={set:function(M){M.elem.nodeType&&M.elem.parentNode&&(M.elem[M.prop]=M.now)}},S.easing={linear:function(M){return M},swing:function(M){return .5-Math.cos(M*Math.PI)/2},_default:"swing"},S.fx=ns.prototype.init,S.fx.step={};var Ci,bn,kn=/^(?:toggle|show|hide)$/,Bo=/queueHooks$/;function Eo(){bn&&(B.hidden===!1&&i.requestAnimationFrame?i.requestAnimationFrame(Eo):i.setTimeout(Eo,S.fx.interval),S.fx.tick())}function Sn(){return i.setTimeout(function(){Ci=void 0}),Ci=Date.now()}function Va(M,U){var ue,be=0,Oe={height:M};for(U=U?1:0;be<4;be+=2-U)ue=ki[be],Oe["margin"+ue]=Oe["padding"+ue]=M;return U&&(Oe.opacity=Oe.width=M),Oe}function Ga(M,U,ue){for(var be,Oe=(Bn.tweeners[U]||[]).concat(Bn.tweeners["*"]),Re=0,Ge=Oe.length;Re<Ge;Re++)if(be=Oe[Re].call(ue,U,M))return be}function yl(M,U,ue){var be,Oe,Re,Ge,St,gt,Lt,Wt,si="width"in U||"height"in U,Yt=this,Mi={},ji=M.style,Cn=M.nodeType&&In(M),En=He.get(M,"fxshow");ue.queue||(Ge=S._queueHooks(M,"fx"),Ge.unqueued==null&&(Ge.unqueued=0,St=Ge.empty.fire,Ge.empty.fire=function(){Ge.unqueued||St()}),Ge.unqueued++,Yt.always(function(){Yt.always(function(){Ge.unqueued--,S.queue(M,"fx").length||Ge.empty.fire()})}));for(be in U)if(Oe=U[be],kn.test(Oe)){if(delete U[be],Re=Re||Oe==="toggle",Oe===(Cn?"hide":"show"))if(Oe==="show"&&En&&En[be]!==void 0)Cn=!0;else continue;Mi[be]=En&&En[be]||S.style(M,be)}if(gt=!S.isEmptyObject(U),!(!gt&&S.isEmptyObject(Mi))){si&&M.nodeType===1&&(ue.overflow=[ji.overflow,ji.overflowX,ji.overflowY],Lt=En&&En.display,Lt==null&&(Lt=He.get(M,"display")),Wt=S.css(M,"display"),Wt==="none"&&(Lt?Wt=Lt:(rr([M],!0),Lt=M.style.display||Lt,Wt=S.css(M,"display"),rr([M]))),(Wt==="inline"||Wt==="inline-block"&&Lt!=null)&&S.css(M,"float")==="none"&&(gt||(Yt.done(function(){ji.display=Lt}),Lt==null&&(Wt=ji.display,Lt=Wt==="none"?"":Wt)),ji.display="inline-block")),ue.overflow&&(ji.overflow="hidden",Yt.always(function(){ji.overflow=ue.overflow[0],ji.overflowX=ue.overflow[1],ji.overflowY=ue.overflow[2]})),gt=!1;for(be in Mi)gt||(En?"hidden"in En&&(Cn=En.hidden):En=He.access(M,"fxshow",{display:Lt}),Re&&(En.hidden=!Cn),Cn&&rr([M],!0),Yt.done(function(){Cn||rr([M]),He.remove(M,"fxshow");for(be in Mi)S.style(M,be,Mi[be])})),gt=Ga(Cn?En[be]:0,be,Yt),be in En||(En[be]=gt.start,Cn&&(gt.end=gt.start,gt.start=0))}}function Cs(M,U){var ue,be,Oe,Re,Ge;for(ue in M)if(be=De(ue),Oe=U[be],Re=M[ue],Array.isArray(Re)&&(Oe=Re[1],Re=M[ue]=Re[0]),ue!==be&&(M[be]=Re,delete M[ue]),Ge=S.cssHooks[be],Ge&&"expand"in Ge){Re=Ge.expand(Re),delete M[be];for(ue in Re)ue in M||(M[ue]=Re[ue],U[ue]=Oe)}else U[be]=Oe}function Bn(M,U,ue){var be,Oe,Re=0,Ge=Bn.prefilters.length,St=S.Deferred().always(function(){delete gt.elem}),gt=function(){if(Oe)return!1;for(var si=Ci||Sn(),Yt=Math.max(0,Lt.startTime+Lt.duration-si),Mi=Yt/Lt.duration||0,ji=1-Mi,Cn=0,En=Lt.tweens.length;Cn<En;Cn++)Lt.tweens[Cn].run(ji);return St.notifyWith(M,[Lt,ji,Yt]),ji<1&&En?Yt:(En||St.notifyWith(M,[Lt,1,0]),St.resolveWith(M,[Lt]),!1)},Lt=St.promise({elem:M,props:S.extend({},U),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},ue),originalProperties:U,originalOptions:ue,startTime:Ci||Sn(),duration:ue.duration,tweens:[],createTween:function(si,Yt){var Mi=S.Tween(M,Lt.opts,si,Yt,Lt.opts.specialEasing[si]||Lt.opts.easing);return Lt.tweens.push(Mi),Mi},stop:function(si){var Yt=0,Mi=si?Lt.tweens.length:0;if(Oe)return this;for(Oe=!0;Yt<Mi;Yt++)Lt.tweens[Yt].run(1);return si?(St.notifyWith(M,[Lt,1,0]),St.resolveWith(M,[Lt,si])):St.rejectWith(M,[Lt,si]),this}}),Wt=Lt.props;for(Cs(Wt,Lt.opts.specialEasing);Re<Ge;Re++)if(be=Bn.prefilters[Re].call(Lt,M,Wt,Lt.opts),be)return G(be.stop)&&(S._queueHooks(Lt.elem,Lt.opts.queue).stop=be.stop.bind(be)),be;return S.map(Wt,Ga,Lt),G(Lt.opts.start)&&Lt.opts.start.call(M,Lt),Lt.progress(Lt.opts.progress).done(Lt.opts.done,Lt.opts.complete).fail(Lt.opts.fail).always(Lt.opts.always),S.fx.timer(S.extend(gt,{elem:M,anim:Lt,queue:Lt.opts.queue})),Lt}S.Animation=S.extend(Bn,{tweeners:{"*":[function(M,U){var ue=this.createTween(M,U);return Hn(ue.elem,M,Gi.exec(U),ue),ue}]},tweener:function(M,U){G(M)?(U=M,M=["*"]):M=M.match(xe);for(var ue,be=0,Oe=M.length;be<Oe;be++)ue=M[be],Bn.tweeners[ue]=Bn.tweeners[ue]||[],Bn.tweeners[ue].unshift(U)},prefilters:[yl],prefilter:function(M,U){U?Bn.prefilters.unshift(M):Bn.prefilters.push(M)}}),S.speed=function(M,U,ue){var be=M&&typeof M=="object"?S.extend({},M):{complete:ue||!ue&&U||G(M)&&M,duration:M,easing:ue&&U||U&&!G(U)&&U};return S.fx.off?be.duration=0:typeof be.duration!="number"&&(be.duration in S.fx.speeds?be.duration=S.fx.speeds[be.duration]:be.duration=S.fx.speeds._default),(be.queue==null||be.queue===!0)&&(be.queue="fx"),be.old=be.complete,be.complete=function(){G(be.old)&&be.old.call(this),be.queue&&S.dequeue(this,be.queue)},be},S.fn.extend({fadeTo:function(M,U,ue,be){return this.filter(In).css("opacity",0).show().end().animate({opacity:U},M,ue,be)},animate:function(M,U,ue,be){var Oe=S.isEmptyObject(M),Re=S.speed(U,ue,be),Ge=function(){var St=Bn(this,S.extend({},M),Re);(Oe||He.get(this,"finish"))&&St.stop(!0)};return Ge.finish=Ge,Oe||Re.queue===!1?this.each(Ge):this.queue(Re.queue,Ge)},stop:function(M,U,ue){var be=function(Oe){var Re=Oe.stop;delete Oe.stop,Re(ue)};return typeof M!="string"&&(ue=U,U=M,M=void 0),U&&this.queue(M||"fx",[]),this.each(function(){var Oe=!0,Re=M!=null&&M+"queueHooks",Ge=S.timers,St=He.get(this);if(Re)St[Re]&&St[Re].stop&&be(St[Re]);else for(Re in St)St[Re]&&St[Re].stop&&Bo.test(Re)&&be(St[Re]);for(Re=Ge.length;Re--;)Ge[Re].elem===this&&(M==null||Ge[Re].queue===M)&&(Ge[Re].anim.stop(ue),Oe=!1,Ge.splice(Re,1));(Oe||!ue)&&S.dequeue(this,M)})},finish:function(M){return M!==!1&&(M=M||"fx"),this.each(function(){var U,ue=He.get(this),be=ue[M+"queue"],Oe=ue[M+"queueHooks"],Re=S.timers,Ge=be?be.length:0;for(ue.finish=!0,S.queue(this,M,[]),Oe&&Oe.stop&&Oe.stop.call(this,!0),U=Re.length;U--;)Re[U].elem===this&&Re[U].queue===M&&(Re[U].anim.stop(!0),Re.splice(U,1));for(U=0;U<Ge;U++)be[U]&&be[U].finish&&be[U].finish.call(this);delete ue.finish})}}),S.each(["toggle","show","hide"],function(M,U){var ue=S.fn[U];S.fn[U]=function(be,Oe,Re){return be==null||typeof be=="boolean"?ue.apply(this,arguments):this.animate(Va(U,!0),be,Oe,Re)}}),S.each({slideDown:Va("show"),slideUp:Va("hide"),slideToggle:Va("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(M,U){S.fn[M]=function(ue,be,Oe){return this.animate(U,ue,be,Oe)}}),S.timers=[],S.fx.tick=function(){var M,U=0,ue=S.timers;for(Ci=Date.now();U<ue.length;U++)M=ue[U],!M()&&ue[U]===M&&ue.splice(U--,1);ue.length||S.fx.stop(),Ci=void 0},S.fx.timer=function(M){S.timers.push(M),S.fx.start()},S.fx.interval=13,S.fx.start=function(){bn||(bn=!0,Eo())},S.fx.stop=function(){bn=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(M,U){return M=S.fx&&S.fx.speeds[M]||M,U=U||"fx",this.queue(U,function(ue,be){var Oe=i.setTimeout(ue,M);be.stop=function(){i.clearTimeout(Oe)}})},function(){var M=B.createElement("input"),U=B.createElement("select"),ue=U.appendChild(B.createElement("option"));M.type="checkbox",z.checkOn=M.value!=="",z.optSelected=ue.selected,M=B.createElement("input"),M.value="t",M.type="radio",z.radioValue=M.value==="t"}();var uh,rs=S.expr.attrHandle;S.fn.extend({attr:function(M,U){return it(this,S.attr,M,U,arguments.length>1)},removeAttr:function(M){return this.each(function(){S.removeAttr(this,M)})}}),S.extend({attr:function(M,U,ue){var be,Oe,Re=M.nodeType;if(!(Re===3||Re===8||Re===2)){if(typeof M.getAttribute>"u")return S.prop(M,U,ue);if((Re!==1||!S.isXMLDoc(M))&&(Oe=S.attrHooks[U.toLowerCase()]||(S.expr.match.bool.test(U)?uh:void 0)),ue!==void 0){if(ue===null){S.removeAttr(M,U);return}return Oe&&"set"in Oe&&(be=Oe.set(M,ue,U))!==void 0?be:(M.setAttribute(U,ue+""),ue)}return Oe&&"get"in Oe&&(be=Oe.get(M,U))!==null?be:(be=S.find.attr(M,U),be??void 0)}},attrHooks:{type:{set:function(M,U){if(!z.radioValue&&U==="radio"&&I(M,"input")){var ue=M.value;return M.setAttribute("type",U),ue&&(M.value=ue),U}}}},removeAttr:function(M,U){var ue,be=0,Oe=U&&U.match(xe);if(Oe&&M.nodeType===1)for(;ue=Oe[be++];)M.removeAttribute(ue)}}),uh={set:function(M,U,ue){return U===!1?S.removeAttr(M,ue):M.setAttribute(ue,ue),ue}},S.each(S.expr.match.bool.source.match(/\w+/g),function(M,U){var ue=rs[U]||S.find.attr;rs[U]=function(be,Oe,Re){var Ge,St,gt=Oe.toLowerCase();return Re||(St=rs[gt],rs[gt]=Ge,Ge=ue(be,Oe,Re)!=null?gt:null,rs[gt]=St),Ge}});var Pc=/^(?:input|select|textarea|button)$/i,Co=/^(?:a|area)$/i;S.fn.extend({prop:function(M,U){return it(this,S.prop,M,U,arguments.length>1)},removeProp:function(M){return this.each(function(){delete this[S.propFix[M]||M]})}}),S.extend({prop:function(M,U,ue){var be,Oe,Re=M.nodeType;if(!(Re===3||Re===8||Re===2))return(Re!==1||!S.isXMLDoc(M))&&(U=S.propFix[U]||U,Oe=S.propHooks[U]),ue!==void 0?Oe&&"set"in Oe&&(be=Oe.set(M,ue,U))!==void 0?be:M[U]=ue:Oe&&"get"in Oe&&(be=Oe.get(M,U))!==null?be:M[U]},propHooks:{tabIndex:{get:function(M){var U=S.find.attr(M,"tabindex");return U?parseInt(U,10):Pc.test(M.nodeName)||Co.test(M.nodeName)&&M.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),z.optSelected||(S.propHooks.selected={get:function(M){var U=M.parentNode;return U&&U.parentNode&&U.parentNode.selectedIndex,null},set:function(M){var U=M.parentNode;U&&(U.selectedIndex,U.parentNode&&U.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this});function ea(M){var U=M.match(xe)||[];return U.join(" ")}function Fo(M){return M.getAttribute&&M.getAttribute("class")||""}function vl(M){return Array.isArray(M)?M:typeof M=="string"?M.match(xe)||[]:[]}S.fn.extend({addClass:function(M){var U,ue,be,Oe,Re,Ge;return G(M)?this.each(function(St){S(this).addClass(M.call(this,St,Fo(this)))}):(U=vl(M),U.length?this.each(function(){if(be=Fo(this),ue=this.nodeType===1&&" "+ea(be)+" ",ue){for(Re=0;Re<U.length;Re++)Oe=U[Re],ue.indexOf(" "+Oe+" ")<0&&(ue+=Oe+" ");Ge=ea(ue),be!==Ge&&this.setAttribute("class",Ge)}}):this)},removeClass:function(M){var U,ue,be,Oe,Re,Ge;return G(M)?this.each(function(St){S(this).removeClass(M.call(this,St,Fo(this)))}):arguments.length?(U=vl(M),U.length?this.each(function(){if(be=Fo(this),ue=this.nodeType===1&&" "+ea(be)+" ",ue){for(Re=0;Re<U.length;Re++)for(Oe=U[Re];ue.indexOf(" "+Oe+" ")>-1;)ue=ue.replace(" "+Oe+" "," ");Ge=ea(ue),be!==Ge&&this.setAttribute("class",Ge)}}):this):this.attr("class","")},toggleClass:function(M,U){var ue,be,Oe,Re,Ge=typeof M,St=Ge==="string"||Array.isArray(M);return G(M)?this.each(function(gt){S(this).toggleClass(M.call(this,gt,Fo(this),U),U)}):typeof U=="boolean"&&St?U?this.addClass(M):this.removeClass(M):(ue=vl(M),this.each(function(){if(St)for(Re=S(this),Oe=0;Oe<ue.length;Oe++)be=ue[Oe],Re.hasClass(be)?Re.removeClass(be):Re.addClass(be);else(M===void 0||Ge==="boolean")&&(be=Fo(this),be&&He.set(this,"__className__",be),this.setAttribute&&this.setAttribute("class",be||M===!1?"":He.get(this,"__className__")||""))}))},hasClass:function(M){var U,ue,be=0;for(U=" "+M+" ";ue=this[be++];)if(ue.nodeType===1&&(" "+ea(Fo(ue))+" ").indexOf(U)>-1)return!0;return!1}});var Wa=/\r/g;S.fn.extend({val:function(M){var U,ue,be,Oe=this[0];return arguments.length?(be=G(M),this.each(function(Re){var Ge;this.nodeType===1&&(be?Ge=M.call(this,Re,S(this).val()):Ge=M,Ge==null?Ge="":typeof Ge=="number"?Ge+="":Array.isArray(Ge)&&(Ge=S.map(Ge,function(St){return St==null?"":St+""})),U=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()],(!U||!("set"in U)||U.set(this,Ge,"value")===void 0)&&(this.value=Ge))})):Oe?(U=S.valHooks[Oe.type]||S.valHooks[Oe.nodeName.toLowerCase()],U&&"get"in U&&(ue=U.get(Oe,"value"))!==void 0?ue:(ue=Oe.value,typeof ue=="string"?ue.replace(Wa,""):ue??"")):void 0}}),S.extend({valHooks:{option:{get:function(M){var U=S.find.attr(M,"value");return U??ea(S.text(M))}},select:{get:function(M){var U,ue,be,Oe=M.options,Re=M.selectedIndex,Ge=M.type==="select-one",St=Ge?null:[],gt=Ge?Re+1:Oe.length;for(Re<0?be=gt:be=Ge?Re:0;be<gt;be++)if(ue=Oe[be],(ue.selected||be===Re)&&!ue.disabled&&(!ue.parentNode.disabled||!I(ue.parentNode,"optgroup"))){if(U=S(ue).val(),Ge)return U;St.push(U)}return St},set:function(M,U){for(var ue,be,Oe=M.options,Re=S.makeArray(U),Ge=Oe.length;Ge--;)be=Oe[Ge],(be.selected=S.inArray(S.valHooks.option.get(be),Re)>-1)&&(ue=!0);return ue||(M.selectedIndex=-1),Re}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(M,U){if(Array.isArray(U))return M.checked=S.inArray(S(M).val(),U)>-1}},z.checkOn||(S.valHooks[this].get=function(M){return M.getAttribute("value")===null?"on":M.value})});var No=i.location,Ic={guid:Date.now()},Ms=/\?/;S.parseXML=function(M){var U,ue;if(!M||typeof M!="string")return null;try{U=new i.DOMParser().parseFromString(M,"text/xml")}catch{}return ue=U&&U.getElementsByTagName("parsererror")[0],(!U||ue)&&S.error("Invalid XML: "+(ue?S.map(ue.childNodes,function(be){return be.textContent}).join(`
`):M)),U};var Nr=/^(?:focusinfocus|focusoutblur)$/,Lc=function(M){M.stopPropagation()};S.extend(S.event,{trigger:function(M,U,ue,be){var Oe,Re,Ge,St,gt,Lt,Wt,si,Yt=[ue||B],Mi=F.call(M,"type")?M.type:M,ji=F.call(M,"namespace")?M.namespace.split("."):[];if(Re=si=Ge=ue=ue||B,!(ue.nodeType===3||ue.nodeType===8)&&!Nr.test(Mi+S.event.triggered)&&(Mi.indexOf(".")>-1&&(ji=Mi.split("."),Mi=ji.shift(),ji.sort()),gt=Mi.indexOf(":")<0&&"on"+Mi,M=M[S.expando]?M:new S.Event(Mi,typeof M=="object"&&M),M.isTrigger=be?2:3,M.namespace=ji.join("."),M.rnamespace=M.namespace?new RegExp("(^|\\.)"+ji.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,M.result=void 0,M.target||(M.target=ue),U=U==null?[M]:S.makeArray(U,[M]),Wt=S.event.special[Mi]||{},!(!be&&Wt.trigger&&Wt.trigger.apply(ue,U)===!1))){if(!be&&!Wt.noBubble&&!ae(ue)){for(St=Wt.delegateType||Mi,Nr.test(St+Mi)||(Re=Re.parentNode);Re;Re=Re.parentNode)Yt.push(Re),Ge=Re;Ge===(ue.ownerDocument||B)&&Yt.push(Ge.defaultView||Ge.parentWindow||i)}for(Oe=0;(Re=Yt[Oe++])&&!M.isPropagationStopped();)si=Re,M.type=Oe>1?St:Wt.bindType||Mi,Lt=(He.get(Re,"events")||Object.create(null))[M.type]&&He.get(Re,"handle"),Lt&&Lt.apply(Re,U),Lt=gt&&Re[gt],Lt&&Lt.apply&&Fe(Re)&&(M.result=Lt.apply(Re,U),M.result===!1&&M.preventDefault());return M.type=Mi,!be&&!M.isDefaultPrevented()&&(!Wt._default||Wt._default.apply(Yt.pop(),U)===!1)&&Fe(ue)&&gt&&G(ue[Mi])&&!ae(ue)&&(Ge=ue[gt],Ge&&(ue[gt]=null),S.event.triggered=Mi,M.isPropagationStopped()&&si.addEventListener(Mi,Lc),ue[Mi](),M.isPropagationStopped()&&si.removeEventListener(Mi,Lc),S.event.triggered=void 0,Ge&&(ue[gt]=Ge)),M.result}},simulate:function(M,U,ue){var be=S.extend(new S.Event,ue,{type:M,isSimulated:!0});S.event.trigger(be,null,U)}}),S.fn.extend({trigger:function(M,U){return this.each(function(){S.event.trigger(M,U,this)})},triggerHandler:function(M,U){var ue=this[0];if(ue)return S.event.trigger(M,U,ue,!0)}});var Dc=/\[\]$/,Ds=/\r?\n/g,js=/^(?:submit|button|image|reset|file)$/i,eu=/^(?:input|select|textarea|keygen)/i;function Kl(M,U,ue,be){var Oe;if(Array.isArray(U))S.each(U,function(Re,Ge){ue||Dc.test(M)?be(M,Ge):Kl(M+"["+(typeof Ge=="object"&&Ge!=null?Re:"")+"]",Ge,ue,be)});else if(!ue&&W(U)==="object")for(Oe in U)Kl(M+"["+Oe+"]",U[Oe],ue,be);else be(M,U)}S.param=function(M,U){var ue,be=[],Oe=function(Re,Ge){var St=G(Ge)?Ge():Ge;be[be.length]=encodeURIComponent(Re)+"="+encodeURIComponent(St??"")};if(M==null)return"";if(Array.isArray(M)||M.jquery&&!S.isPlainObject(M))S.each(M,function(){Oe(this.name,this.value)});else for(ue in M)Kl(ue,M[ue],U,Oe);return be.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var M=S.prop(this,"elements");return M?S.makeArray(M):this}).filter(function(){var M=this.type;return this.name&&!S(this).is(":disabled")&&eu.test(this.nodeName)&&!js.test(M)&&(this.checked||!_r.test(M))}).map(function(M,U){var ue=S(this).val();return ue==null?null:Array.isArray(ue)?S.map(ue,function(be){return{name:U.name,value:be.replace(Ds,`\r
`)}}):{name:U.name,value:ue.replace(Ds,`\r
`)}}).get()}});var ss=/%20/g,xl=/#.*$/,id=/([?&])_=[^&]*/,Oc=/^(.*?):[ \t]*([^\r\n]*)$/mg,As=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ph=/^(?:GET|HEAD)$/,Jl=/^\/\//,Jn={},or={},Rc="*/".concat("*"),nd=B.createElement("a");nd.href=No.href;function fh(M){return function(U,ue){typeof U!="string"&&(ue=U,U="*");var be,Oe=0,Re=U.toLowerCase().match(xe)||[];if(G(ue))for(;be=Re[Oe++];)be[0]==="+"?(be=be.slice(1)||"*",(M[be]=M[be]||[]).unshift(ue)):(M[be]=M[be]||[]).push(ue)}}function bl(M,U,ue,be){var Oe={},Re=M===or;function Ge(St){var gt;return Oe[St]=!0,S.each(M[St]||[],function(Lt,Wt){var si=Wt(U,ue,be);if(typeof si=="string"&&!Re&&!Oe[si])return U.dataTypes.unshift(si),Ge(si),!1;if(Re)return!(gt=si)}),gt}return Ge(U.dataTypes[0])||!Oe["*"]&&Ge("*")}function mh(M,U){var ue,be,Oe=S.ajaxSettings.flatOptions||{};for(ue in U)U[ue]!==void 0&&((Oe[ue]?M:be||(be={}))[ue]=U[ue]);return be&&S.extend(!0,M,be),M}function zc(M,U,ue){for(var be,Oe,Re,Ge,St=M.contents,gt=M.dataTypes;gt[0]==="*";)gt.shift(),be===void 0&&(be=M.mimeType||U.getResponseHeader("Content-Type"));if(be){for(Oe in St)if(St[Oe]&&St[Oe].test(be)){gt.unshift(Oe);break}}if(gt[0]in ue)Re=gt[0];else{for(Oe in ue){if(!gt[0]||M.converters[Oe+" "+gt[0]]){Re=Oe;break}Ge||(Ge=Oe)}Re=Re||Ge}if(Re)return Re!==gt[0]&&gt.unshift(Re),ue[Re]}function wl(M,U,ue,be){var Oe,Re,Ge,St,gt,Lt={},Wt=M.dataTypes.slice();if(Wt[1])for(Ge in M.converters)Lt[Ge.toLowerCase()]=M.converters[Ge];for(Re=Wt.shift();Re;)if(M.responseFields[Re]&&(ue[M.responseFields[Re]]=U),!gt&&be&&M.dataFilter&&(U=M.dataFilter(U,M.dataType)),gt=Re,Re=Wt.shift(),Re){if(Re==="*")Re=gt;else if(gt!=="*"&&gt!==Re){if(Ge=Lt[gt+" "+Re]||Lt["* "+Re],!Ge){for(Oe in Lt)if(St=Oe.split(" "),St[1]===Re&&(Ge=Lt[gt+" "+St[0]]||Lt["* "+St[0]],Ge)){Ge===!0?Ge=Lt[Oe]:Lt[Oe]!==!0&&(Re=St[0],Wt.unshift(St[1]));break}}if(Ge!==!0)if(Ge&&M.throws)U=Ge(U);else try{U=Ge(U)}catch(si){return{state:"parsererror",error:Ge?si:"No conversion from "+gt+" to "+Re}}}}return{state:"success",data:U}}S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:No.href,type:"GET",isLocal:As.test(No.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(M,U){return U?mh(mh(M,S.ajaxSettings),U):mh(S.ajaxSettings,M)},ajaxPrefilter:fh(Jn),ajaxTransport:fh(or),ajax:function(M,U){typeof M=="object"&&(U=M,M=void 0),U=U||{};var ue,be,Oe,Re,Ge,St,gt,Lt,Wt,si,Yt=S.ajaxSetup({},U),Mi=Yt.context||Yt,ji=Yt.context&&(Mi.nodeType||Mi.jquery)?S(Mi):S.event,Cn=S.Deferred(),En=S.Callbacks("once memory"),ds=Yt.statusCode||{},Rr={},Mo={},ks="canceled",Pn={readyState:0,getResponseHeader:function(Un){var Qi;if(gt){if(!Re)for(Re={};Qi=Oc.exec(Oe);)Re[Qi[1].toLowerCase()+" "]=(Re[Qi[1].toLowerCase()+" "]||[]).concat(Qi[2]);Qi=Re[Un.toLowerCase()+" "]}return Qi==null?null:Qi.join(", ")},getAllResponseHeaders:function(){return gt?Oe:null},setRequestHeader:function(Un,Qi){return gt==null&&(Un=Mo[Un.toLowerCase()]=Mo[Un.toLowerCase()]||Un,Rr[Un]=Qi),this},overrideMimeType:function(Un){return gt==null&&(Yt.mimeType=Un),this},statusCode:function(Un){var Qi;if(Un)if(gt)Pn.always(Un[Pn.status]);else for(Qi in Un)ds[Qi]=[ds[Qi],Un[Qi]];return this},abort:function(Un){var Qi=Un||ks;return ue&&ue.abort(Qi),Uo(0,Qi),this}};if(Cn.promise(Pn),Yt.url=((M||Yt.url||No.href)+"").replace(Jl,No.protocol+"//"),Yt.type=U.method||U.type||Yt.method||Yt.type,Yt.dataTypes=(Yt.dataType||"*").toLowerCase().match(xe)||[""],Yt.crossDomain==null){St=B.createElement("a");try{St.href=Yt.url,St.href=St.href,Yt.crossDomain=nd.protocol+"//"+nd.host!=St.protocol+"//"+St.host}catch{Yt.crossDomain=!0}}if(Yt.data&&Yt.processData&&typeof Yt.data!="string"&&(Yt.data=S.param(Yt.data,Yt.traditional)),bl(Jn,Yt,U,Pn),gt)return Pn;Lt=S.event&&Yt.global,Lt&&S.active++===0&&S.event.trigger("ajaxStart"),Yt.type=Yt.type.toUpperCase(),Yt.hasContent=!ph.test(Yt.type),be=Yt.url.replace(xl,""),Yt.hasContent?Yt.data&&Yt.processData&&(Yt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Yt.data=Yt.data.replace(ss,"+")):(si=Yt.url.slice(be.length),Yt.data&&(Yt.processData||typeof Yt.data=="string")&&(be+=(Ms.test(be)?"&":"?")+Yt.data,delete Yt.data),Yt.cache===!1&&(be=be.replace(id,"$1"),si=(Ms.test(be)?"&":"?")+"_="+Ic.guid+++si),Yt.url=be+si),Yt.ifModified&&(S.lastModified[be]&&Pn.setRequestHeader("If-Modified-Since",S.lastModified[be]),S.etag[be]&&Pn.setRequestHeader("If-None-Match",S.etag[be])),(Yt.data&&Yt.hasContent&&Yt.contentType!==!1||U.contentType)&&Pn.setRequestHeader("Content-Type",Yt.contentType),Pn.setRequestHeader("Accept",Yt.dataTypes[0]&&Yt.accepts[Yt.dataTypes[0]]?Yt.accepts[Yt.dataTypes[0]]+(Yt.dataTypes[0]!=="*"?", "+Rc+"; q=0.01":""):Yt.accepts["*"]);for(Wt in Yt.headers)Pn.setRequestHeader(Wt,Yt.headers[Wt]);if(Yt.beforeSend&&(Yt.beforeSend.call(Mi,Pn,Yt)===!1||gt))return Pn.abort();if(ks="abort",En.add(Yt.complete),Pn.done(Yt.success),Pn.fail(Yt.error),ue=bl(or,Yt,U,Pn),!ue)Uo(-1,"No Transport");else{if(Pn.readyState=1,Lt&&ji.trigger("ajaxSend",[Pn,Yt]),gt)return Pn;Yt.async&&Yt.timeout>0&&(Ge=i.setTimeout(function(){Pn.abort("timeout")},Yt.timeout));try{gt=!1,ue.send(Rr,Uo)}catch(Un){if(gt)throw Un;Uo(-1,Un)}}function Uo(Un,Qi,Ta,Bc){var Ao,Sa,Zs,Vo,Ea,Ks=Qi;gt||(gt=!0,Ge&&i.clearTimeout(Ge),ue=void 0,Oe=Bc||"",Pn.readyState=Un>0?4:0,Ao=Un>=200&&Un<300||Un===304,Ta&&(Vo=zc(Yt,Pn,Ta)),!Ao&&S.inArray("script",Yt.dataTypes)>-1&&S.inArray("json",Yt.dataTypes)<0&&(Yt.converters["text script"]=function(){}),Vo=wl(Yt,Vo,Pn,Ao),Ao?(Yt.ifModified&&(Ea=Pn.getResponseHeader("Last-Modified"),Ea&&(S.lastModified[be]=Ea),Ea=Pn.getResponseHeader("etag"),Ea&&(S.etag[be]=Ea)),Un===204||Yt.type==="HEAD"?Ks="nocontent":Un===304?Ks="notmodified":(Ks=Vo.state,Sa=Vo.data,Zs=Vo.error,Ao=!Zs)):(Zs=Ks,(Un||!Ks)&&(Ks="error",Un<0&&(Un=0))),Pn.status=Un,Pn.statusText=(Qi||Ks)+"",Ao?Cn.resolveWith(Mi,[Sa,Ks,Pn]):Cn.rejectWith(Mi,[Pn,Ks,Zs]),Pn.statusCode(ds),ds=void 0,Lt&&ji.trigger(Ao?"ajaxSuccess":"ajaxError",[Pn,Yt,Ao?Sa:Zs]),En.fireWith(Mi,[Pn,Ks]),Lt&&(ji.trigger("ajaxComplete",[Pn,Yt]),--S.active||S.event.trigger("ajaxStop")))}return Pn},getJSON:function(M,U,ue){return S.get(M,U,ue,"json")},getScript:function(M,U){return S.get(M,void 0,U,"script")}}),S.each(["get","post"],function(M,U){S[U]=function(ue,be,Oe,Re){return G(be)&&(Re=Re||Oe,Oe=be,be=void 0),S.ajax(S.extend({url:ue,type:U,dataType:Re,data:be,success:Oe},S.isPlainObject(ue)&&ue))}}),S.ajaxPrefilter(function(M){var U;for(U in M.headers)U.toLowerCase()==="content-type"&&(M.contentType=M.headers[U]||"")}),S._evalUrl=function(M,U,ue){return S.ajax({url:M,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(be){S.globalEval(be,U,ue)}})},S.fn.extend({wrapAll:function(M){var U;return this[0]&&(G(M)&&(M=M.call(this[0])),U=S(M,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&U.insertBefore(this[0]),U.map(function(){for(var ue=this;ue.firstElementChild;)ue=ue.firstElementChild;return ue}).append(this)),this},wrapInner:function(M){return G(M)?this.each(function(U){S(this).wrapInner(M.call(this,U))}):this.each(function(){var U=S(this),ue=U.contents();ue.length?ue.wrapAll(M):U.append(M)})},wrap:function(M){var U=G(M);return this.each(function(ue){S(this).wrapAll(U?M.call(this,ue):M)})},unwrap:function(M){return this.parent(M).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(M){return!S.expr.pseudos.visible(M)},S.expr.pseudos.visible=function(M){return!!(M.offsetWidth||M.offsetHeight||M.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch{}};var $a={0:200,1223:204},Or=S.ajaxSettings.xhr();z.cors=!!Or&&"withCredentials"in Or,z.ajax=Or=!!Or,S.ajaxTransport(function(M){var U,ue;if(z.cors||Or&&!M.crossDomain)return{send:function(be,Oe){var Re,Ge=M.xhr();if(Ge.open(M.type,M.url,M.async,M.username,M.password),M.xhrFields)for(Re in M.xhrFields)Ge[Re]=M.xhrFields[Re];M.mimeType&&Ge.overrideMimeType&&Ge.overrideMimeType(M.mimeType),!M.crossDomain&&!be["X-Requested-With"]&&(be["X-Requested-With"]="XMLHttpRequest");for(Re in be)Ge.setRequestHeader(Re,be[Re]);U=function(St){return function(){U&&(U=ue=Ge.onload=Ge.onerror=Ge.onabort=Ge.ontimeout=Ge.onreadystatechange=null,St==="abort"?Ge.abort():St==="error"?typeof Ge.status!="number"?Oe(0,"error"):Oe(Ge.status,Ge.statusText):Oe($a[Ge.status]||Ge.status,Ge.statusText,(Ge.responseType||"text")!=="text"||typeof Ge.responseText!="string"?{binary:Ge.response}:{text:Ge.responseText},Ge.getAllResponseHeaders()))}},Ge.onload=U(),ue=Ge.onerror=Ge.ontimeout=U("error"),Ge.onabort!==void 0?Ge.onabort=ue:Ge.onreadystatechange=function(){Ge.readyState===4&&i.setTimeout(function(){U&&ue()})},U=U("abort");try{Ge.send(M.hasContent&&M.data||null)}catch(St){if(U)throw St}},abort:function(){U&&U()}}}),S.ajaxPrefilter(function(M){M.crossDomain&&(M.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(M){return S.globalEval(M),M}}}),S.ajaxPrefilter("script",function(M){M.cache===void 0&&(M.cache=!1),M.crossDomain&&(M.type="GET")}),S.ajaxTransport("script",function(M){if(M.crossDomain||M.scriptAttrs){var U,ue;return{send:function(be,Oe){U=S("<script>").attr(M.scriptAttrs||{}).prop({charset:M.scriptCharset,src:M.url}).on("load error",ue=function(Re){U.remove(),ue=null,Re&&Oe(Re.type==="error"?404:200,Re.type)}),B.head.appendChild(U[0])},abort:function(){ue&&ue()}}}});var jo=[],os=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var M=jo.pop()||S.expando+"_"+Ic.guid++;return this[M]=!0,M}}),S.ajaxPrefilter("json jsonp",function(M,U,ue){var be,Oe,Re,Ge=M.jsonp!==!1&&(os.test(M.url)?"url":typeof M.data=="string"&&(M.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&os.test(M.data)&&"data");if(Ge||M.dataTypes[0]==="jsonp")return be=M.jsonpCallback=G(M.jsonpCallback)?M.jsonpCallback():M.jsonpCallback,Ge?M[Ge]=M[Ge].replace(os,"$1"+be):M.jsonp!==!1&&(M.url+=(Ms.test(M.url)?"&":"?")+M.jsonp+"="+be),M.converters["script json"]=function(){return Re||S.error(be+" was not called"),Re[0]},M.dataTypes[0]="json",Oe=i[be],i[be]=function(){Re=arguments},ue.always(function(){Oe===void 0?S(i).removeProp(be):i[be]=Oe,M[be]&&(M.jsonpCallback=U.jsonpCallback,jo.push(be)),Re&&G(Oe)&&Oe(Re[0]),Re=Oe=void 0}),"script"}),z.createHTMLDocument=function(){var M=B.implementation.createHTMLDocument("").body;return M.innerHTML="<form></form><form></form>",M.childNodes.length===2}(),S.parseHTML=function(M,U,ue){if(typeof M!="string")return[];typeof U=="boolean"&&(ue=U,U=!1);var be,Oe,Re;return U||(z.createHTMLDocument?(U=B.implementation.createHTMLDocument(""),be=U.createElement("base"),be.href=B.location.href,U.head.appendChild(be)):U=B),Oe=We.exec(M),Re=!ue&&[],Oe?[U.createElement(Oe[1])]:(Oe=kc([M],U,Re),Re&&Re.length&&S(Re).remove(),S.merge([],Oe.childNodes))},S.fn.load=function(M,U,ue){var be,Oe,Re,Ge=this,St=M.indexOf(" ");return St>-1&&(be=ea(M.slice(St)),M=M.slice(0,St)),G(U)?(ue=U,U=void 0):U&&typeof U=="object"&&(Oe="POST"),Ge.length>0&&S.ajax({url:M,type:Oe||"GET",dataType:"html",data:U}).done(function(gt){Re=arguments,Ge.html(be?S("<div>").append(S.parseHTML(gt)).find(be):gt)}).always(ue&&function(gt,Lt){Ge.each(function(){ue.apply(this,Re||[gt.responseText,Lt,gt])})}),this},S.expr.pseudos.animated=function(M){return S.grep(S.timers,function(U){return M===U.elem}).length},S.offset={setOffset:function(M,U,ue){var be,Oe,Re,Ge,St,gt,Lt,Wt=S.css(M,"position"),si=S(M),Yt={};Wt==="static"&&(M.style.position="relative"),St=si.offset(),Re=S.css(M,"top"),gt=S.css(M,"left"),Lt=(Wt==="absolute"||Wt==="fixed")&&(Re+gt).indexOf("auto")>-1,Lt?(be=si.position(),Ge=be.top,Oe=be.left):(Ge=parseFloat(Re)||0,Oe=parseFloat(gt)||0),G(U)&&(U=U.call(M,ue,S.extend({},St))),U.top!=null&&(Yt.top=U.top-St.top+Ge),U.left!=null&&(Yt.left=U.left-St.left+Oe),"using"in U?U.using.call(M,Yt):si.css(Yt)}},S.fn.extend({offset:function(M){if(arguments.length)return M===void 0?this:this.each(function(Oe){S.offset.setOffset(this,M,Oe)});var U,ue,be=this[0];if(be)return be.getClientRects().length?(U=be.getBoundingClientRect(),ue=be.ownerDocument.defaultView,{top:U.top+ue.pageYOffset,left:U.left+ue.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var M,U,ue,be=this[0],Oe={top:0,left:0};if(S.css(be,"position")==="fixed")U=be.getBoundingClientRect();else{for(U=this.offset(),ue=be.ownerDocument,M=be.offsetParent||ue.documentElement;M&&(M===ue.body||M===ue.documentElement)&&S.css(M,"position")==="static";)M=M.parentNode;M&&M!==be&&M.nodeType===1&&(Oe=S(M).offset(),Oe.top+=S.css(M,"borderTopWidth",!0),Oe.left+=S.css(M,"borderLeftWidth",!0))}return{top:U.top-Oe.top-S.css(be,"marginTop",!0),left:U.left-Oe.left-S.css(be,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var M=this.offsetParent;M&&S.css(M,"position")==="static";)M=M.offsetParent;return M||Ni})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(M,U){var ue=U==="pageYOffset";S.fn[M]=function(be){return it(this,function(Oe,Re,Ge){var St;if(ae(Oe)?St=Oe:Oe.nodeType===9&&(St=Oe.defaultView),Ge===void 0)return St?St[U]:Oe[Re];St?St.scrollTo(ue?St.pageXOffset:Ge,ue?Ge:St.pageYOffset):Oe[Re]=Ge},M,be,arguments.length)}}),S.each(["top","left"],function(M,U){S.cssHooks[U]=Xn(z.pixelPosition,function(ue,be){if(be)return be=tn(ue,U),Xi.test(be)?S(ue).position()[U]+"px":be})}),S.each({Height:"height",Width:"width"},function(M,U){S.each({padding:"inner"+M,content:U,"":"outer"+M},function(ue,be){S.fn[be]=function(Oe,Re){var Ge=arguments.length&&(ue||typeof Oe!="boolean"),St=ue||(Oe===!0||Re===!0?"margin":"border");return it(this,function(gt,Lt,Wt){var si;return ae(gt)?be.indexOf("outer")===0?gt["inner"+M]:gt.document.documentElement["client"+M]:gt.nodeType===9?(si=gt.documentElement,Math.max(gt.body["scroll"+M],si["scroll"+M],gt.body["offset"+M],si["offset"+M],si["client"+M])):Wt===void 0?S.css(gt,Lt,St):S.style(gt,Lt,Wt,St)},U,Ge?Oe:void 0,Ge)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(M,U){S.fn[U]=function(ue){return this.on(U,ue)}}),S.fn.extend({bind:function(M,U,ue){return this.on(M,null,U,ue)},unbind:function(M,U){return this.off(M,null,U)},delegate:function(M,U,ue,be){return this.on(U,M,ue,be)},undelegate:function(M,U,ue){return arguments.length===1?this.off(M,"**"):this.off(U,M||"**",ue)},hover:function(M,U){return this.mouseenter(M).mouseleave(U||M)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(M,U){S.fn[U]=function(ue,be){return arguments.length>0?this.on(U,null,ue,be):this.trigger(U)}});var Ql=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;S.proxy=function(M,U){var ue,be,Oe;if(typeof U=="string"&&(ue=M[U],U=M,M=ue),!!G(M))return be=p.call(arguments,2),Oe=function(){return M.apply(U||this,be.concat(p.call(arguments)))},Oe.guid=M.guid=M.guid||S.guid++,Oe},S.holdReady=function(M){M?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=I,S.isFunction=G,S.isWindow=ae,S.camelCase=De,S.type=W,S.now=Date.now,S.isNumeric=function(M){var U=S.type(M);return(U==="number"||U==="string")&&!isNaN(M-parseFloat(M))},S.trim=function(M){return M==null?"":(M+"").replace(Ql,"$1")};var gh=i.jQuery,oo=i.$;return S.noConflict=function(M){return i.$===S&&(i.$=oo),M&&i.jQuery===S&&(i.jQuery=gh),S},typeof a>"u"&&(i.jQuery=i.$=S),S})})(IS);var YC=IS.exports;const ZC=om(YC);function LS(e,i){return function(){return e.apply(i,arguments)}}const{toString:KC}=Object.prototype,{getPrototypeOf:R3}=Object,Cv=(e=>i=>{const a=KC.call(i);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Zh=e=>(e=e.toLowerCase(),i=>Cv(i)===e),Mv=e=>i=>typeof i===e,{isArray:am}=Array,$g=Mv("undefined");function JC(e){return e!==null&&!$g(e)&&e.constructor!==null&&!$g(e.constructor)&&Tc(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const DS=Zh("ArrayBuffer");function QC(e){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(e):i=e&&e.buffer&&DS(e.buffer),i}const eM=Mv("string"),Tc=Mv("function"),OS=Mv("number"),Av=e=>e!==null&&typeof e=="object",tM=e=>e===!0||e===!1,Iy=e=>{if(Cv(e)!=="object")return!1;const i=R3(e);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},iM=Zh("Date"),nM=Zh("File"),rM=Zh("Blob"),sM=Zh("FileList"),oM=e=>Av(e)&&Tc(e.pipe),aM=e=>{let i;return e&&(typeof FormData=="function"&&e instanceof FormData||Tc(e.append)&&((i=Cv(e))==="formdata"||i==="object"&&Tc(e.toString)&&e.toString()==="[object FormData]"))},lM=Zh("URLSearchParams"),cM=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function c1(e,i,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let l,h;if(typeof e!="object"&&(e=[e]),am(e))for(l=0,h=e.length;l<h;l++)i.call(null,e[l],l,e);else{const p=a?Object.getOwnPropertyNames(e):Object.keys(e),y=p.length;let s;for(l=0;l<y;l++)s=p[l],i.call(null,e[s],s,e)}}function RS(e,i){i=i.toLowerCase();const a=Object.keys(e);let l=a.length,h;for(;l-- >0;)if(h=a[l],i===h.toLowerCase())return h;return null}const zS=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),BS=e=>!$g(e)&&e!==zS;function qb(){const{caseless:e}=BS(this)&&this||{},i={},a=(l,h)=>{const p=e&&RS(i,h)||h;Iy(i[p])&&Iy(l)?i[p]=qb(i[p],l):Iy(l)?i[p]=qb({},l):am(l)?i[p]=l.slice():i[p]=l};for(let l=0,h=arguments.length;l<h;l++)arguments[l]&&c1(arguments[l],a);return i}const hM=(e,i,a,{allOwnKeys:l}={})=>(c1(i,(h,p)=>{a&&Tc(h)?e[p]=LS(h,a):e[p]=h},{allOwnKeys:l}),e),dM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),uM=(e,i,a,l)=>{e.prototype=Object.create(i.prototype,l),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:i.prototype}),a&&Object.assign(e.prototype,a)},pM=(e,i,a,l)=>{let h,p,y;const s={};if(i=i||{},e==null)return i;do{for(h=Object.getOwnPropertyNames(e),p=h.length;p-- >0;)y=h[p],(!l||l(y,e,i))&&!s[y]&&(i[y]=e[y],s[y]=!0);e=a!==!1&&R3(e)}while(e&&(!a||a(e,i))&&e!==Object.prototype);return i},fM=(e,i,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=i.length;const l=e.indexOf(i,a);return l!==-1&&l===a},mM=e=>{if(!e)return null;if(am(e))return e;let i=e.length;if(!OS(i))return null;const a=new Array(i);for(;i-- >0;)a[i]=e[i];return a},gM=(e=>i=>e&&i instanceof e)(typeof Uint8Array<"u"&&R3(Uint8Array)),_M=(e,i)=>{const l=(e&&e[Symbol.iterator]).call(e);let h;for(;(h=l.next())&&!h.done;){const p=h.value;i.call(e,p[0],p[1])}},yM=(e,i)=>{let a;const l=[];for(;(a=e.exec(i))!==null;)l.push(a);return l},vM=Zh("HTMLFormElement"),xM=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,l,h){return l.toUpperCase()+h}),V5=(({hasOwnProperty:e})=>(i,a)=>e.call(i,a))(Object.prototype),bM=Zh("RegExp"),FS=(e,i)=>{const a=Object.getOwnPropertyDescriptors(e),l={};c1(a,(h,p)=>{i(h,p,e)!==!1&&(l[p]=h)}),Object.defineProperties(e,l)},wM=e=>{FS(e,(i,a)=>{if(Tc(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const l=e[a];if(Tc(l)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},TM=(e,i)=>{const a={},l=h=>{h.forEach(p=>{a[p]=!0})};return am(e)?l(e):l(String(e).split(i)),a},SM=()=>{},EM=(e,i)=>(e=+e,Number.isFinite(e)?e:i),pb="abcdefghijklmnopqrstuvwxyz",G5="0123456789",NS={DIGIT:G5,ALPHA:pb,ALPHA_DIGIT:pb+pb.toUpperCase()+G5},CM=(e=16,i=NS.ALPHA_DIGIT)=>{let a="";const{length:l}=i;for(;e--;)a+=i[Math.random()*l|0];return a};function MM(e){return!!(e&&Tc(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const AM=e=>{const i=new Array(10),a=(l,h)=>{if(Av(l)){if(i.indexOf(l)>=0)return;if(!("toJSON"in l)){i[h]=l;const p=am(l)?[]:{};return c1(l,(y,s)=>{const b=a(y,h+1);!$g(b)&&(p[s]=b)}),i[h]=void 0,p}}return l};return a(e,0)},kM=Zh("AsyncFunction"),PM=e=>e&&(Av(e)||Tc(e))&&Tc(e.then)&&Tc(e.catch),xi={isArray:am,isArrayBuffer:DS,isBuffer:JC,isFormData:aM,isArrayBufferView:QC,isString:eM,isNumber:OS,isBoolean:tM,isObject:Av,isPlainObject:Iy,isUndefined:$g,isDate:iM,isFile:nM,isBlob:rM,isRegExp:bM,isFunction:Tc,isStream:oM,isURLSearchParams:lM,isTypedArray:gM,isFileList:sM,forEach:c1,merge:qb,extend:hM,trim:cM,stripBOM:dM,inherits:uM,toFlatObject:pM,kindOf:Cv,kindOfTest:Zh,endsWith:fM,toArray:mM,forEachEntry:_M,matchAll:yM,isHTMLForm:vM,hasOwnProperty:V5,hasOwnProp:V5,reduceDescriptors:FS,freezeMethods:wM,toObjectSet:TM,toCamelCase:xM,noop:SM,toFiniteNumber:EM,findKey:RS,global:zS,isContextDefined:BS,ALPHABET:NS,generateString:CM,isSpecCompliantForm:MM,toJSONObject:AM,isAsyncFn:kM,isThenable:PM};function Cr(e,i,a,l,h){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",i&&(this.code=i),a&&(this.config=a),l&&(this.request=l),h&&(this.response=h)}xi.inherits(Cr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xi.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const jS=Cr.prototype,US={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{US[e]={value:e}});Object.defineProperties(Cr,US);Object.defineProperty(jS,"isAxiosError",{value:!0});Cr.from=(e,i,a,l,h,p)=>{const y=Object.create(jS);return xi.toFlatObject(e,y,function(b){return b!==Error.prototype},s=>s!=="isAxiosError"),Cr.call(y,e.message,i,a,l,h),y.cause=e,y.name=e.name,p&&Object.assign(y,p),y};const IM=null;function Xb(e){return xi.isPlainObject(e)||xi.isArray(e)}function VS(e){return xi.endsWith(e,"[]")?e.slice(0,-2):e}function W5(e,i,a){return e?e.concat(i).map(function(h,p){return h=VS(h),!a&&p?"["+h+"]":h}).join(a?".":""):i}function LM(e){return xi.isArray(e)&&!e.some(Xb)}const DM=xi.toFlatObject(xi,{},null,function(i){return/^is[A-Z]/.test(i)});function kv(e,i,a){if(!xi.isObject(e))throw new TypeError("target must be an object");i=i||new FormData,a=xi.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(G,ae){return!xi.isUndefined(ae[G])});const l=a.metaTokens,h=a.visitor||ee,p=a.dots,y=a.indexes,b=(a.Blob||typeof Blob<"u"&&Blob)&&xi.isSpecCompliantForm(i);if(!xi.isFunction(h))throw new TypeError("visitor must be a function");function L(z){if(z===null)return"";if(xi.isDate(z))return z.toISOString();if(!b&&xi.isBlob(z))throw new Cr("Blob is not supported. Use a Buffer instead.");return xi.isArrayBuffer(z)||xi.isTypedArray(z)?b&&typeof Blob=="function"?new Blob([z]):Buffer.from(z):z}function ee(z,G,ae){let B=z;if(z&&!ae&&typeof z=="object"){if(xi.endsWith(G,"{}"))G=l?G:G.slice(0,-2),z=JSON.stringify(z);else if(xi.isArray(z)&&LM(z)||(xi.isFileList(z)||xi.endsWith(G,"[]"))&&(B=xi.toArray(z)))return G=VS(G),B.forEach(function(V,W){!(xi.isUndefined(V)||V===null)&&i.append(y===!0?W5([G],W,p):y===null?G:G+"[]",L(V))}),!1}return Xb(z)?!0:(i.append(W5(ae,G,p),L(z)),!1)}const F=[],Z=Object.assign(DM,{defaultVisitor:ee,convertValue:L,isVisitable:Xb});function ne(z,G){if(!xi.isUndefined(z)){if(F.indexOf(z)!==-1)throw Error("Circular reference detected in "+G.join("."));F.push(z),xi.forEach(z,function(B,P){(!(xi.isUndefined(B)||B===null)&&h.call(i,B,xi.isString(P)?P.trim():P,G,Z))===!0&&ne(B,G?G.concat(P):[P])}),F.pop()}}if(!xi.isObject(e))throw new TypeError("data must be an object");return ne(e),i}function $5(e){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(l){return i[l]})}function z3(e,i){this._pairs=[],e&&kv(e,this,i)}const GS=z3.prototype;GS.append=function(i,a){this._pairs.push([i,a])};GS.toString=function(i){const a=i?function(l){return i.call(this,l,$5)}:$5;return this._pairs.map(function(h){return a(h[0])+"="+a(h[1])},"").join("&")};function OM(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function WS(e,i,a){if(!i)return e;const l=a&&a.encode||OM,h=a&&a.serialize;let p;if(h?p=h(i,a):p=xi.isURLSearchParams(i)?i.toString():new z3(i,a).toString(l),p){const y=e.indexOf("#");y!==-1&&(e=e.slice(0,y)),e+=(e.indexOf("?")===-1?"?":"&")+p}return e}class RM{constructor(){this.handlers=[]}use(i,a,l){return this.handlers.push({fulfilled:i,rejected:a,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){xi.forEach(this.handlers,function(l){l!==null&&i(l)})}}const H5=RM,$S={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zM=typeof URLSearchParams<"u"?URLSearchParams:z3,BM=typeof FormData<"u"?FormData:null,FM=typeof Blob<"u"?Blob:null,NM=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),jM=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Hh={isBrowser:!0,classes:{URLSearchParams:zM,FormData:BM,Blob:FM},isStandardBrowserEnv:NM,isStandardBrowserWebWorkerEnv:jM,protocols:["http","https","file","blob","url","data"]};function UM(e,i){return kv(e,new Hh.classes.URLSearchParams,Object.assign({visitor:function(a,l,h,p){return Hh.isNode&&xi.isBuffer(a)?(this.append(l,a.toString("base64")),!1):p.defaultVisitor.apply(this,arguments)}},i))}function VM(e){return xi.matchAll(/\w+|\[(\w*)]/g,e).map(i=>i[0]==="[]"?"":i[1]||i[0])}function GM(e){const i={},a=Object.keys(e);let l;const h=a.length;let p;for(l=0;l<h;l++)p=a[l],i[p]=e[p];return i}function HS(e){function i(a,l,h,p){let y=a[p++];const s=Number.isFinite(+y),b=p>=a.length;return y=!y&&xi.isArray(h)?h.length:y,b?(xi.hasOwnProp(h,y)?h[y]=[h[y],l]:h[y]=l,!s):((!h[y]||!xi.isObject(h[y]))&&(h[y]=[]),i(a,l,h[y],p)&&xi.isArray(h[y])&&(h[y]=GM(h[y])),!s)}if(xi.isFormData(e)&&xi.isFunction(e.entries)){const a={};return xi.forEachEntry(e,(l,h)=>{i(VM(l),h,a,0)}),a}return null}const WM={"Content-Type":void 0};function $M(e,i,a){if(xi.isString(e))try{return(i||JSON.parse)(e),xi.trim(e)}catch(l){if(l.name!=="SyntaxError")throw l}return(a||JSON.stringify)(e)}const Pv={transitional:$S,adapter:["xhr","http"],transformRequest:[function(i,a){const l=a.getContentType()||"",h=l.indexOf("application/json")>-1,p=xi.isObject(i);if(p&&xi.isHTMLForm(i)&&(i=new FormData(i)),xi.isFormData(i))return h&&h?JSON.stringify(HS(i)):i;if(xi.isArrayBuffer(i)||xi.isBuffer(i)||xi.isStream(i)||xi.isFile(i)||xi.isBlob(i))return i;if(xi.isArrayBufferView(i))return i.buffer;if(xi.isURLSearchParams(i))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let s;if(p){if(l.indexOf("application/x-www-form-urlencoded")>-1)return UM(i,this.formSerializer).toString();if((s=xi.isFileList(i))||l.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return kv(s?{"files[]":i}:i,b&&new b,this.formSerializer)}}return p||h?(a.setContentType("application/json",!1),$M(i)):i}],transformResponse:[function(i){const a=this.transitional||Pv.transitional,l=a&&a.forcedJSONParsing,h=this.responseType==="json";if(i&&xi.isString(i)&&(l&&!this.responseType||h)){const y=!(a&&a.silentJSONParsing)&&h;try{return JSON.parse(i)}catch(s){if(y)throw s.name==="SyntaxError"?Cr.from(s,Cr.ERR_BAD_RESPONSE,this,null,this.response):s}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hh.classes.FormData,Blob:Hh.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};xi.forEach(["delete","get","head"],function(i){Pv.headers[i]={}});xi.forEach(["post","put","patch"],function(i){Pv.headers[i]=xi.merge(WM)});const B3=Pv,HM=xi.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qM=e=>{const i={};let a,l,h;return e&&e.split(`
`).forEach(function(y){h=y.indexOf(":"),a=y.substring(0,h).trim().toLowerCase(),l=y.substring(h+1).trim(),!(!a||i[a]&&HM[a])&&(a==="set-cookie"?i[a]?i[a].push(l):i[a]=[l]:i[a]=i[a]?i[a]+", "+l:l)}),i},q5=Symbol("internals");function Ag(e){return e&&String(e).trim().toLowerCase()}function Ly(e){return e===!1||e==null?e:xi.isArray(e)?e.map(Ly):String(e)}function XM(e){const i=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=a.exec(e);)i[l[1]]=l[2];return i}const YM=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function fb(e,i,a,l,h){if(xi.isFunction(l))return l.call(this,i,a);if(h&&(i=a),!!xi.isString(i)){if(xi.isString(l))return i.indexOf(l)!==-1;if(xi.isRegExp(l))return l.test(i)}}function ZM(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,a,l)=>a.toUpperCase()+l)}function KM(e,i){const a=xi.toCamelCase(" "+i);["get","set","has"].forEach(l=>{Object.defineProperty(e,l+a,{value:function(h,p,y){return this[l].call(this,i,h,p,y)},configurable:!0})})}class Iv{constructor(i){i&&this.set(i)}set(i,a,l){const h=this;function p(s,b,L){const ee=Ag(b);if(!ee)throw new Error("header name must be a non-empty string");const F=xi.findKey(h,ee);(!F||h[F]===void 0||L===!0||L===void 0&&h[F]!==!1)&&(h[F||b]=Ly(s))}const y=(s,b)=>xi.forEach(s,(L,ee)=>p(L,ee,b));return xi.isPlainObject(i)||i instanceof this.constructor?y(i,a):xi.isString(i)&&(i=i.trim())&&!YM(i)?y(qM(i),a):i!=null&&p(a,i,l),this}get(i,a){if(i=Ag(i),i){const l=xi.findKey(this,i);if(l){const h=this[l];if(!a)return h;if(a===!0)return XM(h);if(xi.isFunction(a))return a.call(this,h,l);if(xi.isRegExp(a))return a.exec(h);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,a){if(i=Ag(i),i){const l=xi.findKey(this,i);return!!(l&&this[l]!==void 0&&(!a||fb(this,this[l],l,a)))}return!1}delete(i,a){const l=this;let h=!1;function p(y){if(y=Ag(y),y){const s=xi.findKey(l,y);s&&(!a||fb(l,l[s],s,a))&&(delete l[s],h=!0)}}return xi.isArray(i)?i.forEach(p):p(i),h}clear(i){const a=Object.keys(this);let l=a.length,h=!1;for(;l--;){const p=a[l];(!i||fb(this,this[p],p,i,!0))&&(delete this[p],h=!0)}return h}normalize(i){const a=this,l={};return xi.forEach(this,(h,p)=>{const y=xi.findKey(l,p);if(y){a[y]=Ly(h),delete a[p];return}const s=i?ZM(p):String(p).trim();s!==p&&delete a[p],a[s]=Ly(h),l[s]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const a=Object.create(null);return xi.forEach(this,(l,h)=>{l!=null&&l!==!1&&(a[h]=i&&xi.isArray(l)?l.join(", "):l)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,a])=>i+": "+a).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...a){const l=new this(i);return a.forEach(h=>l.set(h)),l}static accessor(i){const l=(this[q5]=this[q5]={accessors:{}}).accessors,h=this.prototype;function p(y){const s=Ag(y);l[s]||(KM(h,y),l[s]=!0)}return xi.isArray(i)?i.forEach(p):p(i),this}}Iv.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);xi.freezeMethods(Iv.prototype);xi.freezeMethods(Iv);const Wd=Iv;function mb(e,i){const a=this||B3,l=i||a,h=Wd.from(l.headers);let p=l.data;return xi.forEach(e,function(s){p=s.call(a,p,h.normalize(),i?i.status:void 0)}),h.normalize(),p}function qS(e){return!!(e&&e.__CANCEL__)}function h1(e,i,a){Cr.call(this,e??"canceled",Cr.ERR_CANCELED,i,a),this.name="CanceledError"}xi.inherits(h1,Cr,{__CANCEL__:!0});function JM(e,i,a){const l=a.config.validateStatus;!a.status||!l||l(a.status)?e(a):i(new Cr("Request failed with status code "+a.status,[Cr.ERR_BAD_REQUEST,Cr.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}const QM=Hh.isStandardBrowserEnv?function(){return{write:function(a,l,h,p,y,s){const b=[];b.push(a+"="+encodeURIComponent(l)),xi.isNumber(h)&&b.push("expires="+new Date(h).toGMTString()),xi.isString(p)&&b.push("path="+p),xi.isString(y)&&b.push("domain="+y),s===!0&&b.push("secure"),document.cookie=b.join("; ")},read:function(a){const l=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove:function(a){this.write(a,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function eA(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function tA(e,i){return i?e.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):e}function XS(e,i){return e&&!eA(i)?tA(e,i):i}const iA=Hh.isStandardBrowserEnv?function(){const i=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a");let l;function h(p){let y=p;return i&&(a.setAttribute("href",y),y=a.href),a.setAttribute("href",y),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:a.pathname.charAt(0)==="/"?a.pathname:"/"+a.pathname}}return l=h(window.location.href),function(y){const s=xi.isString(y)?h(y):y;return s.protocol===l.protocol&&s.host===l.host}}():function(){return function(){return!0}}();function nA(e){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return i&&i[1]||""}function rA(e,i){e=e||10;const a=new Array(e),l=new Array(e);let h=0,p=0,y;return i=i!==void 0?i:1e3,function(b){const L=Date.now(),ee=l[p];y||(y=L),a[h]=b,l[h]=L;let F=p,Z=0;for(;F!==h;)Z+=a[F++],F=F%e;if(h=(h+1)%e,h===p&&(p=(p+1)%e),L-y<i)return;const ne=ee&&L-ee;return ne?Math.round(Z*1e3/ne):void 0}}function X5(e,i){let a=0;const l=rA(50,250);return h=>{const p=h.loaded,y=h.lengthComputable?h.total:void 0,s=p-a,b=l(s),L=p<=y;a=p;const ee={loaded:p,total:y,progress:y?p/y:void 0,bytes:s,rate:b||void 0,estimated:b&&y&&L?(y-p)/b:void 0,event:h};ee[i?"download":"upload"]=!0,e(ee)}}const sA=typeof XMLHttpRequest<"u",oA=sA&&function(e){return new Promise(function(a,l){let h=e.data;const p=Wd.from(e.headers).normalize(),y=e.responseType;let s;function b(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}xi.isFormData(h)&&(Hh.isStandardBrowserEnv||Hh.isStandardBrowserWebWorkerEnv?p.setContentType(!1):p.setContentType("multipart/form-data;",!1));let L=new XMLHttpRequest;if(e.auth){const ne=e.auth.username||"",z=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.set("Authorization","Basic "+btoa(ne+":"+z))}const ee=XS(e.baseURL,e.url);L.open(e.method.toUpperCase(),WS(ee,e.params,e.paramsSerializer),!0),L.timeout=e.timeout;function F(){if(!L)return;const ne=Wd.from("getAllResponseHeaders"in L&&L.getAllResponseHeaders()),G={data:!y||y==="text"||y==="json"?L.responseText:L.response,status:L.status,statusText:L.statusText,headers:ne,config:e,request:L};JM(function(B){a(B),b()},function(B){l(B),b()},G),L=null}if("onloadend"in L?L.onloadend=F:L.onreadystatechange=function(){!L||L.readyState!==4||L.status===0&&!(L.responseURL&&L.responseURL.indexOf("file:")===0)||setTimeout(F)},L.onabort=function(){L&&(l(new Cr("Request aborted",Cr.ECONNABORTED,e,L)),L=null)},L.onerror=function(){l(new Cr("Network Error",Cr.ERR_NETWORK,e,L)),L=null},L.ontimeout=function(){let z=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const G=e.transitional||$S;e.timeoutErrorMessage&&(z=e.timeoutErrorMessage),l(new Cr(z,G.clarifyTimeoutError?Cr.ETIMEDOUT:Cr.ECONNABORTED,e,L)),L=null},Hh.isStandardBrowserEnv){const ne=(e.withCredentials||iA(ee))&&e.xsrfCookieName&&QM.read(e.xsrfCookieName);ne&&p.set(e.xsrfHeaderName,ne)}h===void 0&&p.setContentType(null),"setRequestHeader"in L&&xi.forEach(p.toJSON(),function(z,G){L.setRequestHeader(G,z)}),xi.isUndefined(e.withCredentials)||(L.withCredentials=!!e.withCredentials),y&&y!=="json"&&(L.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&L.addEventListener("progress",X5(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&L.upload&&L.upload.addEventListener("progress",X5(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=ne=>{L&&(l(!ne||ne.type?new h1(null,e,L):ne),L.abort(),L=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const Z=nA(ee);if(Z&&Hh.protocols.indexOf(Z)===-1){l(new Cr("Unsupported protocol "+Z+":",Cr.ERR_BAD_REQUEST,e));return}L.send(h||null)})},Dy={http:IM,xhr:oA};xi.forEach(Dy,(e,i)=>{if(e){try{Object.defineProperty(e,"name",{value:i})}catch{}Object.defineProperty(e,"adapterName",{value:i})}});const aA={getAdapter:e=>{e=xi.isArray(e)?e:[e];const{length:i}=e;let a,l;for(let h=0;h<i&&(a=e[h],!(l=xi.isString(a)?Dy[a.toLowerCase()]:a));h++);if(!l)throw l===!1?new Cr(`Adapter ${a} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(xi.hasOwnProp(Dy,a)?`Adapter '${a}' is not available in the build`:`Unknown adapter '${a}'`);if(!xi.isFunction(l))throw new TypeError("adapter is not a function");return l},adapters:Dy};function gb(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new h1(null,e)}function Y5(e){return gb(e),e.headers=Wd.from(e.headers),e.data=mb.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),aA.getAdapter(e.adapter||B3.adapter)(e).then(function(l){return gb(e),l.data=mb.call(e,e.transformResponse,l),l.headers=Wd.from(l.headers),l},function(l){return qS(l)||(gb(e),l&&l.response&&(l.response.data=mb.call(e,e.transformResponse,l.response),l.response.headers=Wd.from(l.response.headers))),Promise.reject(l)})}const Z5=e=>e instanceof Wd?e.toJSON():e;function Y0(e,i){i=i||{};const a={};function l(L,ee,F){return xi.isPlainObject(L)&&xi.isPlainObject(ee)?xi.merge.call({caseless:F},L,ee):xi.isPlainObject(ee)?xi.merge({},ee):xi.isArray(ee)?ee.slice():ee}function h(L,ee,F){if(xi.isUndefined(ee)){if(!xi.isUndefined(L))return l(void 0,L,F)}else return l(L,ee,F)}function p(L,ee){if(!xi.isUndefined(ee))return l(void 0,ee)}function y(L,ee){if(xi.isUndefined(ee)){if(!xi.isUndefined(L))return l(void 0,L)}else return l(void 0,ee)}function s(L,ee,F){if(F in i)return l(L,ee);if(F in e)return l(void 0,L)}const b={url:p,method:p,data:p,baseURL:y,transformRequest:y,transformResponse:y,paramsSerializer:y,timeout:y,timeoutMessage:y,withCredentials:y,adapter:y,responseType:y,xsrfCookieName:y,xsrfHeaderName:y,onUploadProgress:y,onDownloadProgress:y,decompress:y,maxContentLength:y,maxBodyLength:y,beforeRedirect:y,transport:y,httpAgent:y,httpsAgent:y,cancelToken:y,socketPath:y,responseEncoding:y,validateStatus:s,headers:(L,ee)=>h(Z5(L),Z5(ee),!0)};return xi.forEach(Object.keys(Object.assign({},e,i)),function(ee){const F=b[ee]||h,Z=F(e[ee],i[ee],ee);xi.isUndefined(Z)&&F!==s||(a[ee]=Z)}),a}const YS="1.4.0",F3={};["object","boolean","number","function","string","symbol"].forEach((e,i)=>{F3[e]=function(l){return typeof l===e||"a"+(i<1?"n ":" ")+e}});const K5={};F3.transitional=function(i,a,l){function h(p,y){return"[Axios v"+YS+"] Transitional option '"+p+"'"+y+(l?". "+l:"")}return(p,y,s)=>{if(i===!1)throw new Cr(h(y," has been removed"+(a?" in "+a:"")),Cr.ERR_DEPRECATED);return a&&!K5[y]&&(K5[y]=!0,console.warn(h(y," has been deprecated since v"+a+" and will be removed in the near future"))),i?i(p,y,s):!0}};function lA(e,i,a){if(typeof e!="object")throw new Cr("options must be an object",Cr.ERR_BAD_OPTION_VALUE);const l=Object.keys(e);let h=l.length;for(;h-- >0;){const p=l[h],y=i[p];if(y){const s=e[p],b=s===void 0||y(s,p,e);if(b!==!0)throw new Cr("option "+p+" must be "+b,Cr.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Cr("Unknown option "+p,Cr.ERR_BAD_OPTION)}}const Yb={assertOptions:lA,validators:F3},Au=Yb.validators;class qy{constructor(i){this.defaults=i,this.interceptors={request:new H5,response:new H5}}request(i,a){typeof i=="string"?(a=a||{},a.url=i):a=i||{},a=Y0(this.defaults,a);const{transitional:l,paramsSerializer:h,headers:p}=a;l!==void 0&&Yb.assertOptions(l,{silentJSONParsing:Au.transitional(Au.boolean),forcedJSONParsing:Au.transitional(Au.boolean),clarifyTimeoutError:Au.transitional(Au.boolean)},!1),h!=null&&(xi.isFunction(h)?a.paramsSerializer={serialize:h}:Yb.assertOptions(h,{encode:Au.function,serialize:Au.function},!0)),a.method=(a.method||this.defaults.method||"get").toLowerCase();let y;y=p&&xi.merge(p.common,p[a.method]),y&&xi.forEach(["delete","get","head","post","put","patch","common"],z=>{delete p[z]}),a.headers=Wd.concat(y,p);const s=[];let b=!0;this.interceptors.request.forEach(function(G){typeof G.runWhen=="function"&&G.runWhen(a)===!1||(b=b&&G.synchronous,s.unshift(G.fulfilled,G.rejected))});const L=[];this.interceptors.response.forEach(function(G){L.push(G.fulfilled,G.rejected)});let ee,F=0,Z;if(!b){const z=[Y5.bind(this),void 0];for(z.unshift.apply(z,s),z.push.apply(z,L),Z=z.length,ee=Promise.resolve(a);F<Z;)ee=ee.then(z[F++],z[F++]);return ee}Z=s.length;let ne=a;for(F=0;F<Z;){const z=s[F++],G=s[F++];try{ne=z(ne)}catch(ae){G.call(this,ae);break}}try{ee=Y5.call(this,ne)}catch(z){return Promise.reject(z)}for(F=0,Z=L.length;F<Z;)ee=ee.then(L[F++],L[F++]);return ee}getUri(i){i=Y0(this.defaults,i);const a=XS(i.baseURL,i.url);return WS(a,i.params,i.paramsSerializer)}}xi.forEach(["delete","get","head","options"],function(i){qy.prototype[i]=function(a,l){return this.request(Y0(l||{},{method:i,url:a,data:(l||{}).data}))}});xi.forEach(["post","put","patch"],function(i){function a(l){return function(p,y,s){return this.request(Y0(s||{},{method:i,headers:l?{"Content-Type":"multipart/form-data"}:{},url:p,data:y}))}}qy.prototype[i]=a(),qy.prototype[i+"Form"]=a(!0)});const Oy=qy;class N3{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(p){a=p});const l=this;this.promise.then(h=>{if(!l._listeners)return;let p=l._listeners.length;for(;p-- >0;)l._listeners[p](h);l._listeners=null}),this.promise.then=h=>{let p;const y=new Promise(s=>{l.subscribe(s),p=s}).then(h);return y.cancel=function(){l.unsubscribe(p)},y},i(function(p,y,s){l.reason||(l.reason=new h1(p,y,s),a(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const a=this._listeners.indexOf(i);a!==-1&&this._listeners.splice(a,1)}static source(){let i;return{token:new N3(function(h){i=h}),cancel:i}}}const cA=N3;function hA(e){return function(a){return e.apply(null,a)}}function dA(e){return xi.isObject(e)&&e.isAxiosError===!0}const Zb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zb).forEach(([e,i])=>{Zb[i]=e});const uA=Zb;function ZS(e){const i=new Oy(e),a=LS(Oy.prototype.request,i);return xi.extend(a,Oy.prototype,i,{allOwnKeys:!0}),xi.extend(a,i,null,{allOwnKeys:!0}),a.create=function(h){return ZS(Y0(e,h))},a}const To=ZS(B3);To.Axios=Oy;To.CanceledError=h1;To.CancelToken=cA;To.isCancel=qS;To.VERSION=YS;To.toFormData=kv;To.AxiosError=Cr;To.Cancel=To.CanceledError;To.all=function(i){return Promise.all(i)};To.spread=hA;To.isAxiosError=dA;To.mergeConfig=Y0;To.AxiosHeaders=Wd;To.formToJSON=e=>HS(xi.isHTMLForm(e)?new FormData(e):e);To.HttpStatusCode=uA;To.default=To;const pA=To;window._=XC;window.$=ZC;window.axios=pA;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";function gl(e,i){const a=Object.create(null),l=e.split(",");for(let h=0;h<l.length;h++)a[l[h]]=!0;return i?h=>!!a[h.toLowerCase()]:h=>!!a[h]}const Gr={},N0=[],Ba=()=>{},Ry=()=>!1,fA=/^on[^a-z]/,gf=e=>fA.test(e),j3=e=>e.startsWith("onUpdate:"),gr=Object.assign,U3=(e,i)=>{const a=e.indexOf(i);a>-1&&e.splice(a,1)},mA=Object.prototype.hasOwnProperty,Er=(e,i)=>mA.call(e,i),Ji=Array.isArray,j0=e=>lm(e)==="[object Map]",_f=e=>lm(e)==="[object Set]",J5=e=>lm(e)==="[object Date]",gA=e=>lm(e)==="[object RegExp]",Ln=e=>typeof e=="function",qn=e=>typeof e=="string",Hu=e=>typeof e=="symbol",Wr=e=>e!==null&&typeof e=="object",V3=e=>Wr(e)&&Ln(e.then)&&Ln(e.catch),KS=Object.prototype.toString,lm=e=>KS.call(e),_A=e=>lm(e).slice(8,-1),JS=e=>lm(e)==="[object Object]",G3=e=>qn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,sf=gl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),yA=gl("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Lv=e=>{const i=Object.create(null);return a=>i[a]||(i[a]=e(a))},vA=/-(\w)/g,Ys=Lv(e=>e.replace(vA,(i,a)=>a?a.toUpperCase():"")),xA=/\B([A-Z])/g,Hl=Lv(e=>e.replace(xA,"-$1").toLowerCase()),ip=Lv(e=>e.charAt(0).toUpperCase()+e.slice(1)),of=Lv(e=>e?`on${ip(e)}`:""),Z0=(e,i)=>!Object.is(e,i),U0=(e,i)=>{for(let a=0;a<e.length;a++)e[a](i)},Xy=(e,i,a)=>{Object.defineProperty(e,i,{configurable:!0,enumerable:!1,value:a})},Yy=e=>{const i=parseFloat(e);return isNaN(i)?e:i},Zy=e=>{const i=qn(e)?Number(e):NaN;return isNaN(i)?e:i};let Q5;const Kb=()=>Q5||(Q5=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),bA="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",wA=gl(bA);function cm(e){if(Ji(e)){const i={};for(let a=0;a<e.length;a++){const l=e[a],h=qn(l)?QS(l):cm(l);if(h)for(const p in h)i[p]=h[p]}return i}else{if(qn(e))return e;if(Wr(e))return e}}const TA=/;(?![^(]*\))/g,SA=/:([^]+)/,EA=/\/\*[^]*?\*\//g;function QS(e){const i={};return e.replace(EA,"").split(TA).forEach(a=>{if(a){const l=a.split(SA);l.length>1&&(i[l[0].trim()]=l[1].trim())}}),i}function hm(e){let i="";if(qn(e))i=e;else if(Ji(e))for(let a=0;a<e.length;a++){const l=hm(e[a]);l&&(i+=l+" ")}else if(Wr(e))for(const a in e)e[a]&&(i+=a+" ");return i.trim()}function e8(e){if(!e)return null;let{class:i,style:a}=e;return i&&!qn(i)&&(e.class=hm(i)),a&&(e.style=cm(a)),e}const CA="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",MA="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",AA="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",kA=gl(CA),PA=gl(MA),IA=gl(AA),LA="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",DA=gl(LA);function t8(e){return!!e||e===""}function OA(e,i){if(e.length!==i.length)return!1;let a=!0;for(let l=0;a&&l<e.length;l++)a=qu(e[l],i[l]);return a}function qu(e,i){if(e===i)return!0;let a=J5(e),l=J5(i);if(a||l)return a&&l?e.getTime()===i.getTime():!1;if(a=Hu(e),l=Hu(i),a||l)return e===i;if(a=Ji(e),l=Ji(i),a||l)return a&&l?OA(e,i):!1;if(a=Wr(e),l=Wr(i),a||l){if(!a||!l)return!1;const h=Object.keys(e).length,p=Object.keys(i).length;if(h!==p)return!1;for(const y in e){const s=e.hasOwnProperty(y),b=i.hasOwnProperty(y);if(s&&!b||!s&&b||!qu(e[y],i[y]))return!1}}return String(e)===String(i)}function Dv(e,i){return e.findIndex(a=>qu(a,i))}const Ru=e=>qn(e)?e:e==null?"":Ji(e)||Wr(e)&&(e.toString===KS||!Ln(e.toString))?JSON.stringify(e,i8,2):String(e),i8=(e,i)=>i&&i.__v_isRef?i8(e,i.value):j0(i)?{[`Map(${i.size})`]:[...i.entries()].reduce((a,[l,h])=>(a[`${l} =>`]=h,a),{})}:_f(i)?{[`Set(${i.size})`]:[...i.values()]}:Wr(i)&&!Ji(i)&&!JS(i)?String(i):i;let Vl;class Ov{constructor(i=!1){this.detached=i,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Vl,!i&&Vl&&(this.index=(Vl.scopes||(Vl.scopes=[])).push(this)-1)}get active(){return this._active}run(i){if(this._active){const a=Vl;try{return Vl=this,i()}finally{Vl=a}}}on(){Vl=this}off(){Vl=this.parent}stop(i){if(this._active){let a,l;for(a=0,l=this.effects.length;a<l;a++)this.effects[a].stop();for(a=0,l=this.cleanups.length;a<l;a++)this.cleanups[a]();if(this.scopes)for(a=0,l=this.scopes.length;a<l;a++)this.scopes[a].stop(!0);if(!this.detached&&this.parent&&!i){const h=this.parent.scopes.pop();h&&h!==this&&(this.parent.scopes[this.index]=h,h.index=this.index)}this.parent=void 0,this._active=!1}}}function n8(e){return new Ov(e)}function r8(e,i=Vl){i&&i.active&&i.effects.push(e)}function W3(){return Vl}function s8(e){Vl&&Vl.cleanups.push(e)}const $3=e=>{const i=new Set(e);return i.w=0,i.n=0,i},o8=e=>(e.w&Xu)>0,a8=e=>(e.n&Xu)>0,RA=({deps:e})=>{if(e.length)for(let i=0;i<e.length;i++)e[i].w|=Xu},zA=e=>{const{deps:i}=e;if(i.length){let a=0;for(let l=0;l<i.length;l++){const h=i[l];o8(h)&&!a8(h)?h.delete(e):i[a++]=h,h.w&=~Xu,h.n&=~Xu}i.length=a}},Ky=new WeakMap;let Og=0,Xu=1;const Jb=30;let ih;const af=Symbol(""),Qb=Symbol("");class dm{constructor(i,a=null,l){this.fn=i,this.scheduler=a,this.active=!0,this.deps=[],this.parent=void 0,r8(this,l)}run(){if(!this.active)return this.fn();let i=ih,a=ju;for(;i;){if(i===this)return;i=i.parent}try{return this.parent=ih,ih=this,ju=!0,Xu=1<<++Og,Og<=Jb?RA(this):eT(this),this.fn()}finally{Og<=Jb&&zA(this),Xu=1<<--Og,ih=this.parent,ju=a,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ih===this?this.deferStop=!0:this.active&&(eT(this),this.onStop&&this.onStop(),this.active=!1)}}function eT(e){const{deps:i}=e;if(i.length){for(let a=0;a<i.length;a++)i[a].delete(e);i.length=0}}function l8(e,i){e.effect&&(e=e.effect.fn);const a=new dm(e);i&&(gr(a,i),i.scope&&r8(a,i.scope)),(!i||!i.lazy)&&a.run();const l=a.run.bind(a);return l.effect=a,l}function c8(e){e.effect.stop()}let ju=!0;const h8=[];function um(){h8.push(ju),ju=!1}function pm(){const e=h8.pop();ju=e===void 0?!0:e}function ml(e,i,a){if(ju&&ih){let l=Ky.get(e);l||Ky.set(e,l=new Map);let h=l.get(a);h||l.set(a,h=$3()),d8(h)}}function d8(e,i){let a=!1;Og<=Jb?a8(e)||(e.n|=Xu,a=!o8(e)):a=!e.has(ih),a&&(e.add(ih),ih.deps.push(e))}function Hd(e,i,a,l,h,p){const y=Ky.get(e);if(!y)return;let s=[];if(i==="clear")s=[...y.values()];else if(a==="length"&&Ji(e)){const b=Number(l);y.forEach((L,ee)=>{(ee==="length"||ee>=b)&&s.push(L)})}else switch(a!==void 0&&s.push(y.get(a)),i){case"add":Ji(e)?G3(a)&&s.push(y.get("length")):(s.push(y.get(af)),j0(e)&&s.push(y.get(Qb)));break;case"delete":Ji(e)||(s.push(y.get(af)),j0(e)&&s.push(y.get(Qb)));break;case"set":j0(e)&&s.push(y.get(af));break}if(s.length===1)s[0]&&e3(s[0]);else{const b=[];for(const L of s)L&&b.push(...L);e3($3(b))}}function e3(e,i){const a=Ji(e)?e:[...e];for(const l of a)l.computed&&tT(l);for(const l of a)l.computed||tT(l)}function tT(e,i){(e!==ih||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function BA(e,i){var a;return(a=Ky.get(e))==null?void 0:a.get(i)}const FA=gl("__proto__,__v_isRef,__isVue"),u8=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Hu)),NA=Rv(),jA=Rv(!1,!0),UA=Rv(!0),VA=Rv(!0,!0),iT=GA();function GA(){const e={};return["includes","indexOf","lastIndexOf"].forEach(i=>{e[i]=function(...a){const l=ur(this);for(let p=0,y=this.length;p<y;p++)ml(l,"get",p+"");const h=l[i](...a);return h===-1||h===!1?l[i](...a.map(ur)):h}}),["push","pop","shift","unshift","splice"].forEach(i=>{e[i]=function(...a){um();const l=ur(this)[i].apply(this,a);return pm(),l}}),e}function WA(e){const i=ur(this);return ml(i,"has",e),i.hasOwnProperty(e)}function Rv(e=!1,i=!1){return function(l,h,p){if(h==="__v_isReactive")return!e;if(h==="__v_isReadonly")return e;if(h==="__v_isShallow")return i;if(h==="__v_raw"&&p===(e?i?v8:y8:i?_8:g8).get(l))return l;const y=Ji(l);if(!e){if(y&&Er(iT,h))return Reflect.get(iT,h,p);if(h==="hasOwnProperty")return WA}const s=Reflect.get(l,h,p);return(Hu(h)?u8.has(h):FA(h))||(e||ml(l,"get",h),i)?s:so(s)?y&&G3(h)?s:s.value:Wr(s)?e?Fv(s):d1(s):s}}const $A=p8(),HA=p8(!0);function p8(e=!1){return function(a,l,h,p){let y=a[l];if(Yu(y)&&so(y)&&!so(h))return!1;if(!e&&(!K0(h)&&!Yu(h)&&(y=ur(y),h=ur(h)),!Ji(a)&&so(y)&&!so(h)))return y.value=h,!0;const s=Ji(a)&&G3(l)?Number(l)<a.length:Er(a,l),b=Reflect.set(a,l,h,p);return a===ur(p)&&(s?Z0(h,y)&&Hd(a,"set",l,h):Hd(a,"add",l,h)),b}}function qA(e,i){const a=Er(e,i);e[i];const l=Reflect.deleteProperty(e,i);return l&&a&&Hd(e,"delete",i,void 0),l}function XA(e,i){const a=Reflect.has(e,i);return(!Hu(i)||!u8.has(i))&&ml(e,"has",i),a}function YA(e){return ml(e,"iterate",Ji(e)?"length":af),Reflect.ownKeys(e)}const f8={get:NA,set:$A,deleteProperty:qA,has:XA,ownKeys:YA},m8={get:UA,set(e,i){return!0},deleteProperty(e,i){return!0}},ZA=gr({},f8,{get:jA,set:HA}),KA=gr({},m8,{get:VA}),H3=e=>e,zv=e=>Reflect.getPrototypeOf(e);function uy(e,i,a=!1,l=!1){e=e.__v_raw;const h=ur(e),p=ur(i);a||(i!==p&&ml(h,"get",i),ml(h,"get",p));const{has:y}=zv(h),s=l?H3:a?X3:Hg;if(y.call(h,i))return s(e.get(i));if(y.call(h,p))return s(e.get(p));e!==h&&e.get(i)}function py(e,i=!1){const a=this.__v_raw,l=ur(a),h=ur(e);return i||(e!==h&&ml(l,"has",e),ml(l,"has",h)),e===h?a.has(e):a.has(e)||a.has(h)}function fy(e,i=!1){return e=e.__v_raw,!i&&ml(ur(e),"iterate",af),Reflect.get(e,"size",e)}function nT(e){e=ur(e);const i=ur(this);return zv(i).has.call(i,e)||(i.add(e),Hd(i,"add",e,e)),this}function rT(e,i){i=ur(i);const a=ur(this),{has:l,get:h}=zv(a);let p=l.call(a,e);p||(e=ur(e),p=l.call(a,e));const y=h.call(a,e);return a.set(e,i),p?Z0(i,y)&&Hd(a,"set",e,i):Hd(a,"add",e,i),this}function sT(e){const i=ur(this),{has:a,get:l}=zv(i);let h=a.call(i,e);h||(e=ur(e),h=a.call(i,e)),l&&l.call(i,e);const p=i.delete(e);return h&&Hd(i,"delete",e,void 0),p}function oT(){const e=ur(this),i=e.size!==0,a=e.clear();return i&&Hd(e,"clear",void 0,void 0),a}function my(e,i){return function(l,h){const p=this,y=p.__v_raw,s=ur(y),b=i?H3:e?X3:Hg;return!e&&ml(s,"iterate",af),y.forEach((L,ee)=>l.call(h,b(L),b(ee),p))}}function gy(e,i,a){return function(...l){const h=this.__v_raw,p=ur(h),y=j0(p),s=e==="entries"||e===Symbol.iterator&&y,b=e==="keys"&&y,L=h[e](...l),ee=a?H3:i?X3:Hg;return!i&&ml(p,"iterate",b?Qb:af),{next(){const{value:F,done:Z}=L.next();return Z?{value:F,done:Z}:{value:s?[ee(F[0]),ee(F[1])]:ee(F),done:Z}},[Symbol.iterator](){return this}}}}function ku(e){return function(...i){return e==="delete"?!1:this}}function JA(){const e={get(p){return uy(this,p)},get size(){return fy(this)},has:py,add:nT,set:rT,delete:sT,clear:oT,forEach:my(!1,!1)},i={get(p){return uy(this,p,!1,!0)},get size(){return fy(this)},has:py,add:nT,set:rT,delete:sT,clear:oT,forEach:my(!1,!0)},a={get(p){return uy(this,p,!0)},get size(){return fy(this,!0)},has(p){return py.call(this,p,!0)},add:ku("add"),set:ku("set"),delete:ku("delete"),clear:ku("clear"),forEach:my(!0,!1)},l={get(p){return uy(this,p,!0,!0)},get size(){return fy(this,!0)},has(p){return py.call(this,p,!0)},add:ku("add"),set:ku("set"),delete:ku("delete"),clear:ku("clear"),forEach:my(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(p=>{e[p]=gy(p,!1,!1),a[p]=gy(p,!0,!1),i[p]=gy(p,!1,!0),l[p]=gy(p,!0,!0)}),[e,a,i,l]}const[QA,ek,tk,ik]=JA();function Bv(e,i){const a=i?e?ik:tk:e?ek:QA;return(l,h,p)=>h==="__v_isReactive"?!e:h==="__v_isReadonly"?e:h==="__v_raw"?l:Reflect.get(Er(a,h)&&h in l?a:l,h,p)}const nk={get:Bv(!1,!1)},rk={get:Bv(!1,!0)},sk={get:Bv(!0,!1)},ok={get:Bv(!0,!0)},g8=new WeakMap,_8=new WeakMap,y8=new WeakMap,v8=new WeakMap;function ak(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function lk(e){return e.__v_skip||!Object.isExtensible(e)?0:ak(_A(e))}function d1(e){return Yu(e)?e:Nv(e,!1,f8,nk,g8)}function q3(e){return Nv(e,!1,ZA,rk,_8)}function Fv(e){return Nv(e,!0,m8,sk,y8)}function x8(e){return Nv(e,!0,KA,ok,v8)}function Nv(e,i,a,l,h){if(!Wr(e)||e.__v_raw&&!(i&&e.__v_isReactive))return e;const p=h.get(e);if(p)return p;const y=lk(e);if(y===0)return e;const s=new Proxy(e,y===2?l:a);return h.set(e,s),s}function Uu(e){return Yu(e)?Uu(e.__v_raw):!!(e&&e.__v_isReactive)}function Yu(e){return!!(e&&e.__v_isReadonly)}function K0(e){return!!(e&&e.__v_isShallow)}function jv(e){return Uu(e)||Yu(e)}function ur(e){const i=e&&e.__v_raw;return i?ur(i):e}function Uv(e){return Xy(e,"__v_skip",!0),e}const Hg=e=>Wr(e)?d1(e):e,X3=e=>Wr(e)?Fv(e):e;function Y3(e){ju&&ih&&(e=ur(e),d8(e.dep||(e.dep=$3())))}function Vv(e,i){e=ur(e);const a=e.dep;a&&e3(a)}function so(e){return!!(e&&e.__v_isRef===!0)}function ms(e){return w8(e,!1)}function b8(e){return w8(e,!0)}function w8(e,i){return so(e)?e:new ck(e,i)}class ck{constructor(i,a){this.__v_isShallow=a,this.dep=void 0,this.__v_isRef=!0,this._rawValue=a?i:ur(i),this._value=a?i:Hg(i)}get value(){return Y3(this),this._value}set value(i){const a=this.__v_isShallow||K0(i)||Yu(i);i=a?i:ur(i),Z0(i,this._rawValue)&&(this._rawValue=i,this._value=a?i:Hg(i),Vv(this))}}function T8(e){Vv(e)}function Xs(e){return so(e)?e.value:e}function S8(e){return Ln(e)?e():Xs(e)}const hk={get:(e,i,a)=>Xs(Reflect.get(e,i,a)),set:(e,i,a,l)=>{const h=e[i];return so(h)&&!so(a)?(h.value=a,!0):Reflect.set(e,i,a,l)}};function Gv(e){return Uu(e)?e:new Proxy(e,hk)}class dk{constructor(i){this.dep=void 0,this.__v_isRef=!0;const{get:a,set:l}=i(()=>Y3(this),()=>Vv(this));this._get=a,this._set=l}get value(){return this._get()}set value(i){this._set(i)}}function E8(e){return new dk(e)}function C8(e){const i=Ji(e)?new Array(e.length):{};for(const a in e)i[a]=A8(e,a);return i}class uk{constructor(i,a,l){this._object=i,this._key=a,this._defaultValue=l,this.__v_isRef=!0}get value(){const i=this._object[this._key];return i===void 0?this._defaultValue:i}set value(i){this._object[this._key]=i}get dep(){return BA(ur(this._object),this._key)}}class pk{constructor(i){this._getter=i,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function M8(e,i,a){return so(e)?e:Ln(e)?new pk(e):Wr(e)&&arguments.length>1?A8(e,i,a):ms(e)}function A8(e,i,a){const l=e[i];return so(l)?l:new uk(e,i,a)}class fk{constructor(i,a,l,h){this._setter=a,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new dm(i,()=>{this._dirty||(this._dirty=!0,Vv(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!h,this.__v_isReadonly=l}get value(){const i=ur(this);return Y3(i),(i._dirty||!i._cacheable)&&(i._dirty=!1,i._value=i.effect.run()),i._value}set value(i){this._setter(i)}}function mk(e,i,a=!1){let l,h;const p=Ln(e);return p?(l=e,h=Ba):(l=e.get,h=e.set),new fk(l,h,p||!h,a)}function k8(e,...i){}function P8(e,i){}function Xh(e,i,a,l){let h;try{h=l?e(...l):e()}catch(p){np(p,i,a)}return h}function pl(e,i,a,l){if(Ln(e)){const p=Xh(e,i,a,l);return p&&V3(p)&&p.catch(y=>{np(y,i,a)}),p}const h=[];for(let p=0;p<e.length;p++)h.push(pl(e[p],i,a,l));return h}function np(e,i,a,l=!0){const h=i?i.vnode:null;if(i){let p=i.parent;const y=i.proxy,s=a;for(;p;){const L=p.ec;if(L){for(let ee=0;ee<L.length;ee++)if(L[ee](e,y,s)===!1)return}p=p.parent}const b=i.appContext.config.errorHandler;if(b){Xh(b,null,10,[e,y,s]);return}}gk(e,a,h,l)}function gk(e,i,a,l=!0){console.error(e)}let qg=!1,t3=!1;const ma=[];let Wh=0;const V0=[];let Fd=null,Jp=0;const I8=Promise.resolve();let Z3=null;function fm(e){const i=Z3||I8;return e?i.then(this?e.bind(this):e):i}function _k(e){let i=Wh+1,a=ma.length;for(;i<a;){const l=i+a>>>1;Xg(ma[l])<e?i=l+1:a=l}return i}function Wv(e){(!ma.length||!ma.includes(e,qg&&e.allowRecurse?Wh+1:Wh))&&(e.id==null?ma.push(e):ma.splice(_k(e.id),0,e),L8())}function L8(){!qg&&!t3&&(t3=!0,Z3=I8.then(D8))}function yk(e){const i=ma.indexOf(e);i>Wh&&ma.splice(i,1)}function $v(e){Ji(e)?V0.push(...e):(!Fd||!Fd.includes(e,e.allowRecurse?Jp+1:Jp))&&V0.push(e),L8()}function aT(e,i=qg?Wh+1:0){for(;i<ma.length;i++){const a=ma[i];a&&a.pre&&(ma.splice(i,1),i--,a())}}function Jy(e){if(V0.length){const i=[...new Set(V0)];if(V0.length=0,Fd){Fd.push(...i);return}for(Fd=i,Fd.sort((a,l)=>Xg(a)-Xg(l)),Jp=0;Jp<Fd.length;Jp++)Fd[Jp]();Fd=null,Jp=0}}const Xg=e=>e.id==null?1/0:e.id,vk=(e,i)=>{const a=Xg(e)-Xg(i);if(a===0){if(e.pre&&!i.pre)return-1;if(i.pre&&!e.pre)return 1}return a};function D8(e){t3=!1,qg=!0,ma.sort(vk);const i=Ba;try{for(Wh=0;Wh<ma.length;Wh++){const a=ma[Wh];a&&a.active!==!1&&Xh(a,null,14)}}finally{Wh=0,ma.length=0,Jy(),qg=!1,Z3=null,(ma.length||V0.length)&&D8()}}let Qp,_y=[];function K3(e,i){var a,l;Qp=e,Qp?(Qp.enabled=!0,_y.forEach(({event:h,args:p})=>Qp.emit(h,...p)),_y=[]):typeof window<"u"&&window.HTMLElement&&!((l=(a=window.navigator)==null?void 0:a.userAgent)!=null&&l.includes("jsdom"))?((i.__VUE_DEVTOOLS_HOOK_REPLAY__=i.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(p=>{K3(p,i)}),setTimeout(()=>{Qp||(i.__VUE_DEVTOOLS_HOOK_REPLAY__=null,_y=[])},3e3)):_y=[]}function xk(e,i,...a){if(e.isUnmounted)return;const l=e.vnode.props||Gr;let h=a;const p=i.startsWith("update:"),y=p&&i.slice(7);if(y&&y in l){const ee=`${y==="modelValue"?"model":y}Modifiers`,{number:F,trim:Z}=l[ee]||Gr;Z&&(h=a.map(ne=>qn(ne)?ne.trim():ne)),F&&(h=a.map(Yy))}let s,b=l[s=of(i)]||l[s=of(Ys(i))];!b&&p&&(b=l[s=of(Hl(i))]),b&&pl(b,e,6,h);const L=l[s+"Once"];if(L){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,pl(L,e,6,h)}}function O8(e,i,a=!1){const l=i.emitsCache,h=l.get(e);if(h!==void 0)return h;const p=e.emits;let y={},s=!1;if(!Ln(e)){const b=L=>{const ee=O8(L,i,!0);ee&&(s=!0,gr(y,ee))};!a&&i.mixins.length&&i.mixins.forEach(b),e.extends&&b(e.extends),e.mixins&&e.mixins.forEach(b)}return!p&&!s?(Wr(e)&&l.set(e,null),null):(Ji(p)?p.forEach(b=>y[b]=null):gr(y,p),Wr(e)&&l.set(e,y),y)}function Hv(e,i){return!e||!gf(i)?!1:(i=i.slice(2).replace(/Once$/,""),Er(e,i[0].toLowerCase()+i.slice(1))||Er(e,Hl(i))||Er(e,i))}let Ro=null,qv=null;function Yg(e){const i=Ro;return Ro=e,qv=e&&e.type.__scopeId||null,i}function J3(e){qv=e}function Q3(){qv=null}const R8=e=>Ko;function Ko(e,i=Ro,a){if(!i||e._n)return e;const l=(...h)=>{l._d&&iv(-1);const p=Yg(i);let y;try{y=e(...h)}finally{Yg(p),l._d&&iv(1)}return y};return l._n=!0,l._c=!0,l._d=!0,l}function zy(e){const{type:i,vnode:a,proxy:l,withProxy:h,props:p,propsOptions:[y],slots:s,attrs:b,emit:L,render:ee,renderCache:F,data:Z,setupState:ne,ctx:z,inheritAttrs:G}=e;let ae,B;const P=Yg(e);try{if(a.shapeFlag&4){const W=h||l;ae=Wl(ee.call(W,W,F,p,ne,Z,z)),B=b}else{const W=i;ae=Wl(W.length>1?W(p,{attrs:b,slots:s,emit:L}):W(p,null)),B=i.props?b:wk(b)}}catch(W){Ng.length=0,np(W,e,1),ae=vn(Jo)}let V=ae;if(B&&G!==!1){const W=Object.keys(B),{shapeFlag:R}=V;W.length&&R&7&&(y&&W.some(j3)&&(B=Tk(B,y)),V=oh(V,B))}return a.dirs&&(V=oh(V),V.dirs=V.dirs?V.dirs.concat(a.dirs):a.dirs),a.transition&&(V.transition=a.transition),ae=V,Yg(P),ae}function bk(e){let i;for(let a=0;a<e.length;a++){const l=e[a];if(qd(l)){if(l.type!==Jo||l.children==="v-if"){if(i)return;i=l}}else return}return i}const wk=e=>{let i;for(const a in e)(a==="class"||a==="style"||gf(a))&&((i||(i={}))[a]=e[a]);return i},Tk=(e,i)=>{const a={};for(const l in e)(!j3(l)||!(l.slice(9)in i))&&(a[l]=e[l]);return a};function Sk(e,i,a){const{props:l,children:h,component:p}=e,{props:y,children:s,patchFlag:b}=i,L=p.emitsOptions;if(i.dirs||i.transition)return!0;if(a&&b>=0){if(b&1024)return!0;if(b&16)return l?lT(l,y,L):!!y;if(b&8){const ee=i.dynamicProps;for(let F=0;F<ee.length;F++){const Z=ee[F];if(y[Z]!==l[Z]&&!Hv(L,Z))return!0}}}else return(h||s)&&(!s||!s.$stable)?!0:l===y?!1:l?y?lT(l,y,L):!0:!!y;return!1}function lT(e,i,a){const l=Object.keys(i);if(l.length!==Object.keys(e).length)return!0;for(let h=0;h<l.length;h++){const p=l[h];if(i[p]!==e[p]&&!Hv(a,p))return!0}return!1}function ew({vnode:e,parent:i},a){for(;i&&i.subTree===e;)(e=i.vnode).el=a,i=i.parent}const z8=e=>e.__isSuspense,Ek={name:"Suspense",__isSuspense:!0,process(e,i,a,l,h,p,y,s,b,L){e==null?Ck(i,a,l,h,p,y,s,b,L):Mk(e,i,a,l,h,y,s,b,L)},hydrate:Ak,create:tw,normalize:kk},B8=Ek;function Zg(e,i){const a=e.props&&e.props[i];Ln(a)&&a()}function Ck(e,i,a,l,h,p,y,s,b){const{p:L,o:{createElement:ee}}=b,F=ee("div"),Z=e.suspense=tw(e,h,l,i,F,a,p,y,s,b);L(null,Z.pendingBranch=e.ssContent,F,null,l,Z,p,y),Z.deps>0?(Zg(e,"onPending"),Zg(e,"onFallback"),L(null,e.ssFallback,i,a,l,null,p,y),G0(Z,e.ssFallback)):Z.resolve(!1,!0)}function Mk(e,i,a,l,h,p,y,s,{p:b,um:L,o:{createElement:ee}}){const F=i.suspense=e.suspense;F.vnode=i,i.el=e.el;const Z=i.ssContent,ne=i.ssFallback,{activeBranch:z,pendingBranch:G,isInFallback:ae,isHydrating:B}=F;if(G)F.pendingBranch=Z,nh(Z,G)?(b(G,Z,F.hiddenContainer,null,h,F,p,y,s),F.deps<=0?F.resolve():ae&&(b(z,ne,a,l,h,null,p,y,s),G0(F,ne))):(F.pendingId++,B?(F.isHydrating=!1,F.activeBranch=G):L(G,h,F),F.deps=0,F.effects.length=0,F.hiddenContainer=ee("div"),ae?(b(null,Z,F.hiddenContainer,null,h,F,p,y,s),F.deps<=0?F.resolve():(b(z,ne,a,l,h,null,p,y,s),G0(F,ne))):z&&nh(Z,z)?(b(z,Z,a,l,h,F,p,y,s),F.resolve(!0)):(b(null,Z,F.hiddenContainer,null,h,F,p,y,s),F.deps<=0&&F.resolve()));else if(z&&nh(Z,z))b(z,Z,a,l,h,F,p,y,s),G0(F,Z);else if(Zg(i,"onPending"),F.pendingBranch=Z,F.pendingId++,b(null,Z,F.hiddenContainer,null,h,F,p,y,s),F.deps<=0)F.resolve();else{const{timeout:P,pendingId:V}=F;P>0?setTimeout(()=>{F.pendingId===V&&F.fallback(ne)},P):P===0&&F.fallback(ne)}}function tw(e,i,a,l,h,p,y,s,b,L,ee=!1){const{p:F,m:Z,um:ne,n:z,o:{parentNode:G,remove:ae}}=L;let B;const P=Pk(e);P&&i!=null&&i.pendingBranch&&(B=i.pendingId,i.deps++);const V=e.props?Zy(e.props.timeout):void 0,W={vnode:e,parent:i,parentComponent:a,isSVG:y,container:l,hiddenContainer:h,anchor:p,deps:0,pendingId:0,timeout:typeof V=="number"?V:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:ee,isUnmounted:!1,effects:[],resolve(R=!1,se=!1){const{vnode:S,activeBranch:X,pendingBranch:I,pendingId:$,effects:K,parentComponent:q,container:J}=W;if(W.isHydrating)W.isHydrating=!1;else if(!R){const O=X&&I.transition&&I.transition.mode==="out-in";O&&(X.transition.afterLeave=()=>{$===W.pendingId&&Z(I,J,Q,0)});let{anchor:Q}=W;X&&(Q=z(X),ne(X,q,W,!0)),O||Z(I,J,Q,0)}G0(W,I),W.pendingBranch=null,W.isInFallback=!1;let C=W.parent,A=!1;for(;C;){if(C.pendingBranch){C.effects.push(...K),A=!0;break}C=C.parent}A||$v(K),W.effects=[],P&&i&&i.pendingBranch&&B===i.pendingId&&(i.deps--,i.deps===0&&!se&&i.resolve()),Zg(S,"onResolve")},fallback(R){if(!W.pendingBranch)return;const{vnode:se,activeBranch:S,parentComponent:X,container:I,isSVG:$}=W;Zg(se,"onFallback");const K=z(S),q=()=>{W.isInFallback&&(F(null,R,I,K,X,null,$,s,b),G0(W,R))},J=R.transition&&R.transition.mode==="out-in";J&&(S.transition.afterLeave=q),W.isInFallback=!0,ne(S,X,null,!0),J||q()},move(R,se,S){W.activeBranch&&Z(W.activeBranch,R,se,S),W.container=R},next(){return W.activeBranch&&z(W.activeBranch)},registerDep(R,se){const S=!!W.pendingBranch;S&&W.deps++;const X=R.vnode.el;R.asyncDep.catch(I=>{np(I,R,0)}).then(I=>{if(R.isUnmounted||W.isUnmounted||W.pendingId!==R.suspenseId)return;R.asyncResolved=!0;const{vnode:$}=R;l3(R,I,!1),X&&($.el=X);const K=!X&&R.subTree.el;se(R,$,G(X||R.subTree.el),X?null:z(R.subTree),W,y,b),K&&ae(K),ew(R,$.el),S&&--W.deps===0&&W.resolve()})},unmount(R,se){W.isUnmounted=!0,W.activeBranch&&ne(W.activeBranch,a,R,se),W.pendingBranch&&ne(W.pendingBranch,a,R,se)}};return W}function Ak(e,i,a,l,h,p,y,s,b){const L=i.suspense=tw(i,l,a,e.parentNode,document.createElement("div"),null,h,p,y,s,!0),ee=b(e,L.pendingBranch=i.ssContent,a,L,p,y);return L.deps===0&&L.resolve(!1,!0),ee}function kk(e){const{shapeFlag:i,children:a}=e,l=i&32;e.ssContent=cT(l?a.default:a),e.ssFallback=l?cT(a.fallback):vn(Jo)}function cT(e){let i;if(Ln(e)){const a=pf&&e._c;a&&(e._d=!1,Dr()),e=e(),a&&(e._d=!0,i=dl,TE())}return Ji(e)&&(e=bk(e)),e=Wl(e),i&&!e.dynamicChildren&&(e.dynamicChildren=i.filter(a=>a!==e)),e}function F8(e,i){i&&i.pendingBranch?Ji(e)?i.effects.push(...e):i.effects.push(e):$v(e)}function G0(e,i){e.activeBranch=i;const{vnode:a,parentComponent:l}=e,h=a.el=i.el;l&&l.subTree===a&&(l.vnode.el=h,ew(l,h))}function Pk(e){var i;return((i=e.props)==null?void 0:i.suspensible)!=null&&e.props.suspensible!==!1}function N8(e,i){return u1(e,null,i)}function iw(e,i){return u1(e,null,{flush:"post"})}function j8(e,i){return u1(e,null,{flush:"sync"})}const yy={};function fl(e,i,a){return u1(e,i,a)}function u1(e,i,{immediate:a,deep:l,flush:h,onTrack:p,onTrigger:y}=Gr){var s;const b=W3()===((s=ro)==null?void 0:s.scope)?ro:null;let L,ee=!1,F=!1;if(so(e)?(L=()=>e.value,ee=K0(e)):Uu(e)?(L=()=>e,l=!0):Ji(e)?(F=!0,ee=e.some(W=>Uu(W)||K0(W)),L=()=>e.map(W=>{if(so(W))return W.value;if(Uu(W))return tf(W);if(Ln(W))return Xh(W,b,2)})):Ln(e)?i?L=()=>Xh(e,b,2):L=()=>{if(!(b&&b.isUnmounted))return Z&&Z(),pl(e,b,3,[ne])}:L=Ba,i&&l){const W=L;L=()=>tf(W())}let Z,ne=W=>{Z=P.onStop=()=>{Xh(W,b,4)}},z;if(J0)if(ne=Ba,i?a&&pl(i,b,3,[L(),F?[]:void 0,ne]):L(),h==="sync"){const W=Ew();z=W.__watcherHandles||(W.__watcherHandles=[])}else return Ba;let G=F?new Array(e.length).fill(yy):yy;const ae=()=>{if(P.active)if(i){const W=P.run();(l||ee||(F?W.some((R,se)=>Z0(R,G[se])):Z0(W,G)))&&(Z&&Z(),pl(i,b,3,[W,G===yy?void 0:F&&G[0]===yy?[]:G,ne]),G=W)}else P.run()};ae.allowRecurse=!!i;let B;h==="sync"?B=ae:h==="post"?B=()=>Zo(ae,b&&b.suspense):(ae.pre=!0,b&&(ae.id=b.uid),B=()=>Wv(ae));const P=new dm(L,B);i?a?ae():G=P.run():h==="post"?Zo(P.run.bind(P),b&&b.suspense):P.run();const V=()=>{P.stop(),b&&b.scope&&U3(b.scope.effects,P)};return z&&z.push(V),V}function Ik(e,i,a){const l=this.proxy,h=qn(e)?e.includes(".")?U8(l,e):()=>l[e]:e.bind(l,l);let p;Ln(i)?p=i:(p=i.handler,a=i);const y=ro;Ju(this);const s=u1(h,p.bind(l),a);return y?Ju(y):Gu(),s}function U8(e,i){const a=i.split(".");return()=>{let l=e;for(let h=0;h<a.length&&l;h++)l=l[a[h]];return l}}function tf(e,i){if(!Wr(e)||e.__v_skip||(i=i||new Set,i.has(e)))return e;if(i.add(e),so(e))tf(e.value,i);else if(Ji(e))for(let a=0;a<e.length;a++)tf(e[a],i);else if(_f(e)||j0(e))e.forEach(a=>{tf(a,i)});else if(JS(e))for(const a in e)tf(e[a],i);return e}function nw(e,i){const a=Ro;if(a===null)return e;const l=t2(a)||a.proxy,h=e.dirs||(e.dirs=[]);for(let p=0;p<i.length;p++){let[y,s,b,L=Gr]=i[p];y&&(Ln(y)&&(y={mounted:y,updated:y}),y.deep&&tf(s),h.push({dir:y,instance:l,value:s,oldValue:void 0,arg:b,modifiers:L}))}return e}function Gh(e,i,a,l){const h=e.dirs,p=i&&i.dirs;for(let y=0;y<h.length;y++){const s=h[y];p&&(s.oldValue=p[y].value);let b=s.dir[l];b&&(um(),pl(b,a,8,[e.el,s,e,i]),pm())}}function Xv(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Kh(()=>{e.isMounted=!0}),vf(()=>{e.isUnmounting=!0}),e}const yc=[Function,Array],Yv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:yc,onEnter:yc,onAfterEnter:yc,onEnterCancelled:yc,onBeforeLeave:yc,onLeave:yc,onAfterLeave:yc,onLeaveCancelled:yc,onBeforeAppear:yc,onAppear:yc,onAfterAppear:yc,onAppearCancelled:yc},Lk={name:"BaseTransition",props:Yv,setup(e,{slots:i}){const a=Jh(),l=Xv();let h;return()=>{const p=i.default&&p1(i.default(),!0);if(!p||!p.length)return;let y=p[0];if(p.length>1){for(const G of p)if(G.type!==Jo){y=G;break}}const s=ur(e),{mode:b}=s;if(l.isLeaving)return _b(y);const L=hT(y);if(!L)return _b(y);const ee=uf(L,s,l,a);Zu(L,ee);const F=a.subTree,Z=F&&hT(F);let ne=!1;const{getTransitionKey:z}=L.type;if(z){const G=z();h===void 0?h=G:G!==h&&(h=G,ne=!0)}if(Z&&Z.type!==Jo&&(!nh(L,Z)||ne)){const G=uf(Z,s,l,a);if(Zu(Z,G),b==="out-in")return l.isLeaving=!0,G.afterLeave=()=>{l.isLeaving=!1,a.update.active!==!1&&a.update()},_b(y);b==="in-out"&&L.type!==Jo&&(G.delayLeave=(ae,B,P)=>{const V=V8(l,Z);V[String(Z.key)]=Z,ae._leaveCb=()=>{B(),ae._leaveCb=void 0,delete ee.delayedLeave},ee.delayedLeave=P})}return y}}},rw=Lk;function V8(e,i){const{leavingVNodes:a}=e;let l=a.get(i.type);return l||(l=Object.create(null),a.set(i.type,l)),l}function uf(e,i,a,l){const{appear:h,mode:p,persisted:y=!1,onBeforeEnter:s,onEnter:b,onAfterEnter:L,onEnterCancelled:ee,onBeforeLeave:F,onLeave:Z,onAfterLeave:ne,onLeaveCancelled:z,onBeforeAppear:G,onAppear:ae,onAfterAppear:B,onAppearCancelled:P}=i,V=String(e.key),W=V8(a,e),R=(X,I)=>{X&&pl(X,l,9,I)},se=(X,I)=>{const $=I[1];R(X,I),Ji(X)?X.every(K=>K.length<=1)&&$():X.length<=1&&$()},S={mode:p,persisted:y,beforeEnter(X){let I=s;if(!a.isMounted)if(h)I=G||s;else return;X._leaveCb&&X._leaveCb(!0);const $=W[V];$&&nh(e,$)&&$.el._leaveCb&&$.el._leaveCb(),R(I,[X])},enter(X){let I=b,$=L,K=ee;if(!a.isMounted)if(h)I=ae||b,$=B||L,K=P||ee;else return;let q=!1;const J=X._enterCb=C=>{q||(q=!0,C?R(K,[X]):R($,[X]),S.delayedLeave&&S.delayedLeave(),X._enterCb=void 0)};I?se(I,[X,J]):J()},leave(X,I){const $=String(e.key);if(X._enterCb&&X._enterCb(!0),a.isUnmounting)return I();R(F,[X]);let K=!1;const q=X._leaveCb=J=>{K||(K=!0,I(),J?R(z,[X]):R(ne,[X]),X._leaveCb=void 0,W[$]===e&&delete W[$])};W[$]=e,Z?se(Z,[X,q]):q()},clone(X){return uf(X,i,a,l)}};return S}function _b(e){if(f1(e))return e=oh(e),e.children=null,e}function hT(e){return f1(e)?e.children?e.children[0]:void 0:e}function Zu(e,i){e.shapeFlag&6&&e.component?Zu(e.component.subTree,i):e.shapeFlag&128?(e.ssContent.transition=i.clone(e.ssContent),e.ssFallback.transition=i.clone(e.ssFallback)):e.transition=i}function p1(e,i=!1,a){let l=[],h=0;for(let p=0;p<e.length;p++){let y=e[p];const s=a==null?y.key:String(a)+String(y.key!=null?y.key:p);y.type===Fs?(y.patchFlag&128&&h++,l=l.concat(p1(y.children,i,s))):(i||y.type!==Jo)&&l.push(s!=null?oh(y,{key:s}):y)}if(h>1)for(let p=0;p<l.length;p++)l[p].patchFlag=-2;return l}function Zv(e,i){return Ln(e)?(()=>gr({name:e.name},i,{setup:e}))():e}const lf=e=>!!e.type.__asyncLoader;function G8(e){Ln(e)&&(e={loader:e});const{loader:i,loadingComponent:a,errorComponent:l,delay:h=200,timeout:p,suspensible:y=!0,onError:s}=e;let b=null,L,ee=0;const F=()=>(ee++,b=null,Z()),Z=()=>{let ne;return b||(ne=b=i().catch(z=>{if(z=z instanceof Error?z:new Error(String(z)),s)return new Promise((G,ae)=>{s(z,()=>G(F()),()=>ae(z),ee+1)});throw z}).then(z=>ne!==b&&b?b:(z&&(z.__esModule||z[Symbol.toStringTag]==="Module")&&(z=z.default),L=z,z)))};return Zv({name:"AsyncComponentWrapper",__asyncLoader:Z,get __asyncResolved(){return L},setup(){const ne=ro;if(L)return()=>yb(L,ne);const z=P=>{b=null,np(P,ne,13,!l)};if(y&&ne.suspense||J0)return Z().then(P=>()=>yb(P,ne)).catch(P=>(z(P),()=>l?vn(l,{error:P}):null));const G=ms(!1),ae=ms(),B=ms(!!h);return h&&setTimeout(()=>{B.value=!1},h),p!=null&&setTimeout(()=>{if(!G.value&&!ae.value){const P=new Error(`Async component timed out after ${p}ms.`);z(P),ae.value=P}},p),Z().then(()=>{G.value=!0,ne.parent&&f1(ne.parent.vnode)&&Wv(ne.parent.update)}).catch(P=>{z(P),ae.value=P}),()=>{if(G.value&&L)return yb(L,ne);if(ae.value&&l)return vn(l,{error:ae.value});if(a&&!B.value)return vn(a)}}})}function yb(e,i){const{ref:a,props:l,children:h,ce:p}=i.vnode,y=vn(e,l,h);return y.ref=a,y.ce=p,delete i.vnode.ce,y}const f1=e=>e.type.__isKeepAlive,Dk={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:i}){const a=Jh(),l=a.ctx;if(!l.renderer)return()=>{const P=i.default&&i.default();return P&&P.length===1?P[0]:P};const h=new Map,p=new Set;let y=null;const s=a.suspense,{renderer:{p:b,m:L,um:ee,o:{createElement:F}}}=l,Z=F("div");l.activate=(P,V,W,R,se)=>{const S=P.component;L(P,V,W,0,s),b(S.vnode,P,V,W,S,s,R,P.slotScopeIds,se),Zo(()=>{S.isDeactivated=!1,S.a&&U0(S.a);const X=P.props&&P.props.onVnodeMounted;X&&cl(X,S.parent,P)},s)},l.deactivate=P=>{const V=P.component;L(P,Z,null,1,s),Zo(()=>{V.da&&U0(V.da);const W=P.props&&P.props.onVnodeUnmounted;W&&cl(W,V.parent,P),V.isDeactivated=!0},s)};function ne(P){vb(P),ee(P,a,s,!0)}function z(P){h.forEach((V,W)=>{const R=h3(V.type);R&&(!P||!P(R))&&G(W)})}function G(P){const V=h.get(P);!y||!nh(V,y)?ne(V):y&&vb(y),h.delete(P),p.delete(P)}fl(()=>[e.include,e.exclude],([P,V])=>{P&&z(W=>Rg(P,W)),V&&z(W=>!Rg(V,W))},{flush:"post",deep:!0});let ae=null;const B=()=>{ae!=null&&h.set(ae,xb(a.subTree))};return Kh(B),yf(B),vf(()=>{h.forEach(P=>{const{subTree:V,suspense:W}=a,R=xb(V);if(P.type===R.type&&P.key===R.key){vb(R);const se=R.component.da;se&&Zo(se,W);return}ne(P)})}),()=>{if(ae=null,!i.default)return null;const P=i.default(),V=P[0];if(P.length>1)return y=null,P;if(!qd(V)||!(V.shapeFlag&4)&&!(V.shapeFlag&128))return y=null,V;let W=xb(V);const R=W.type,se=h3(lf(W)?W.type.__asyncResolved||{}:R),{include:S,exclude:X,max:I}=e;if(S&&(!se||!Rg(S,se))||X&&se&&Rg(X,se))return y=W,V;const $=W.key==null?R:W.key,K=h.get($);return W.el&&(W=oh(W),V.shapeFlag&128&&(V.ssContent=W)),ae=$,K?(W.el=K.el,W.component=K.component,W.transition&&Zu(W,W.transition),W.shapeFlag|=512,p.delete($),p.add($)):(p.add($),I&&p.size>parseInt(I,10)&&G(p.values().next().value)),W.shapeFlag|=256,y=W,z8(V.type)?V:W}}},W8=Dk;function Rg(e,i){return Ji(e)?e.some(a=>Rg(a,i)):qn(e)?e.split(",").includes(i):gA(e)?e.test(i):!1}function sw(e,i){$8(e,"a",i)}function ow(e,i){$8(e,"da",i)}function $8(e,i,a=ro){const l=e.__wdc||(e.__wdc=()=>{let h=a;for(;h;){if(h.isDeactivated)return;h=h.parent}return e()});if(Kv(i,l,a),a){let h=a.parent;for(;h&&h.parent;)f1(h.parent.vnode)&&Ok(l,i,a,h),h=h.parent}}function Ok(e,i,a,l){const h=Kv(i,e,l,!0);xf(()=>{U3(l[i],h)},a)}function vb(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function xb(e){return e.shapeFlag&128?e.ssContent:e}function Kv(e,i,a=ro,l=!1){if(a){const h=a[e]||(a[e]=[]),p=i.__weh||(i.__weh=(...y)=>{if(a.isUnmounted)return;um(),Ju(a);const s=pl(i,a,e,y);return Gu(),pm(),s});return l?h.unshift(p):h.push(p),p}}const Yd=e=>(i,a=ro)=>(!J0||e==="sp")&&Kv(e,(...l)=>i(...l),a),aw=Yd("bm"),Kh=Yd("m"),Jv=Yd("bu"),yf=Yd("u"),vf=Yd("bum"),xf=Yd("um"),lw=Yd("sp"),cw=Yd("rtg"),hw=Yd("rtc");function dw(e,i=ro){Kv("ec",e,i)}const uw="components",Rk="directives";function za(e,i){return pw(uw,e,!0,i)||e}const H8=Symbol.for("v-ndc");function q8(e){return qn(e)?pw(uw,e,!1)||e:e||H8}function X8(e){return pw(Rk,e)}function pw(e,i,a=!0,l=!1){const h=Ro||ro;if(h){const p=h.type;if(e===uw){const s=h3(p,!1);if(s&&(s===i||s===Ys(i)||s===ip(Ys(i))))return p}const y=dT(h[e]||p[e],i)||dT(h.appContext[e],i);return!y&&l?p:y}}function dT(e,i){return e&&(e[i]||e[Ys(i)]||e[ip(Ys(i))])}function m1(e,i,a,l){let h;const p=a&&a[l];if(Ji(e)||qn(e)){h=new Array(e.length);for(let y=0,s=e.length;y<s;y++)h[y]=i(e[y],y,void 0,p&&p[y])}else if(typeof e=="number"){h=new Array(e);for(let y=0;y<e;y++)h[y]=i(y+1,y,void 0,p&&p[y])}else if(Wr(e))if(e[Symbol.iterator])h=Array.from(e,(y,s)=>i(y,s,void 0,p&&p[s]));else{const y=Object.keys(e);h=new Array(y.length);for(let s=0,b=y.length;s<b;s++){const L=y[s];h[s]=i(e[L],L,s,p&&p[s])}}else h=[];return a&&(a[l]=h),h}function Y8(e,i){for(let a=0;a<i.length;a++){const l=i[a];if(Ji(l))for(let h=0;h<l.length;h++)e[l[h].name]=l[h].fn;else l&&(e[l.name]=l.key?(...h)=>{const p=l.fn(...h);return p&&(p.key=l.key),p}:l.fn)}return e}function Qy(e,i,a={},l,h){if(Ro.isCE||Ro.parent&&lf(Ro.parent)&&Ro.parent.isCE)return i!=="default"&&(a.name=i),vn("slot",a,l&&l());let p=e[i];p&&p._c&&(p._d=!1),Dr();const y=p&&Z8(p(a)),s=g1(Fs,{key:a.key||y&&y.key||`_${i}`},y||(l?l():[]),y&&e._===1?64:-2);return!h&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),p&&p._c&&(p._d=!0),s}function Z8(e){return e.some(i=>qd(i)?!(i.type===Jo||i.type===Fs&&!Z8(i.children)):!0)?e:null}function K8(e,i){const a={};for(const l in e)a[i&&/[A-Z]/.test(l)?`on:${l}`:of(l)]=e[l];return a}const i3=e=>e?AE(e)?t2(e)||e.proxy:i3(e.parent):null,Bg=gr(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>i3(e.parent),$root:e=>i3(e.root),$emit:e=>e.emit,$options:e=>mw(e),$forceUpdate:e=>e.f||(e.f=()=>Wv(e.update)),$nextTick:e=>e.n||(e.n=fm.bind(e.proxy)),$watch:e=>Ik.bind(e)}),bb=(e,i)=>e!==Gr&&!e.__isScriptSetup&&Er(e,i),n3={get({_:e},i){const{ctx:a,setupState:l,data:h,props:p,accessCache:y,type:s,appContext:b}=e;let L;if(i[0]!=="$"){const ne=y[i];if(ne!==void 0)switch(ne){case 1:return l[i];case 2:return h[i];case 4:return a[i];case 3:return p[i]}else{if(bb(l,i))return y[i]=1,l[i];if(h!==Gr&&Er(h,i))return y[i]=2,h[i];if((L=e.propsOptions[0])&&Er(L,i))return y[i]=3,p[i];if(a!==Gr&&Er(a,i))return y[i]=4,a[i];r3&&(y[i]=0)}}const ee=Bg[i];let F,Z;if(ee)return i==="$attrs"&&ml(e,"get",i),ee(e);if((F=s.__cssModules)&&(F=F[i]))return F;if(a!==Gr&&Er(a,i))return y[i]=4,a[i];if(Z=b.config.globalProperties,Er(Z,i))return Z[i]},set({_:e},i,a){const{data:l,setupState:h,ctx:p}=e;return bb(h,i)?(h[i]=a,!0):l!==Gr&&Er(l,i)?(l[i]=a,!0):Er(e.props,i)||i[0]==="$"&&i.slice(1)in e?!1:(p[i]=a,!0)},has({_:{data:e,setupState:i,accessCache:a,ctx:l,appContext:h,propsOptions:p}},y){let s;return!!a[y]||e!==Gr&&Er(e,y)||bb(i,y)||(s=p[0])&&Er(s,y)||Er(l,y)||Er(Bg,y)||Er(h.config.globalProperties,y)},defineProperty(e,i,a){return a.get!=null?e._.accessCache[i]=0:Er(a,"value")&&this.set(e,i,a.value,null),Reflect.defineProperty(e,i,a)}},zk=gr({},n3,{get(e,i){if(i!==Symbol.unscopables)return n3.get(e,i,e)},has(e,i){return i[0]!=="_"&&!wA(i)}});function J8(){return null}function Q8(){return null}function eE(e){}function tE(e){}function iE(){return null}function nE(){}function rE(e,i){return null}function sE(){return aE().slots}function fw(){return aE().attrs}function oE(e,i,a){const l=Jh();if(a&&a.local){const h=ms(e[i]);return fl(()=>e[i],p=>h.value=p),fl(h,p=>{p!==e[i]&&l.emit(`update:${i}`,p)}),h}else return{__v_isRef:!0,get value(){return e[i]},set value(h){l.emit(`update:${i}`,h)}}}function aE(){const e=Jh();return e.setupContext||(e.setupContext=LE(e))}function Kg(e){return Ji(e)?e.reduce((i,a)=>(i[a]=null,i),{}):e}function lE(e,i){const a=Kg(e);for(const l in i){if(l.startsWith("__skip"))continue;let h=a[l];h?Ji(h)||Ln(h)?h=a[l]={type:h,default:i[l]}:h.default=i[l]:h===null&&(h=a[l]={default:i[l]}),h&&i[`__skip_${l}`]&&(h.skipFactory=!0)}return a}function cE(e,i){return!e||!i?e||i:Ji(e)&&Ji(i)?e.concat(i):gr({},Kg(e),Kg(i))}function hE(e,i){const a={};for(const l in e)i.includes(l)||Object.defineProperty(a,l,{enumerable:!0,get:()=>e[l]});return a}function dE(e){const i=Jh();let a=e();return Gu(),V3(a)&&(a=a.catch(l=>{throw Ju(i),l})),[a,()=>Ju(i)]}let r3=!0;function Bk(e){const i=mw(e),a=e.proxy,l=e.ctx;r3=!1,i.beforeCreate&&uT(i.beforeCreate,e,"bc");const{data:h,computed:p,methods:y,watch:s,provide:b,inject:L,created:ee,beforeMount:F,mounted:Z,beforeUpdate:ne,updated:z,activated:G,deactivated:ae,beforeDestroy:B,beforeUnmount:P,destroyed:V,unmounted:W,render:R,renderTracked:se,renderTriggered:S,errorCaptured:X,serverPrefetch:I,expose:$,inheritAttrs:K,components:q,directives:J,filters:C}=i;if(L&&Fk(L,l,null),y)for(const Q in y){const fe=y[Q];Ln(fe)&&(l[Q]=fe.bind(a))}if(h){const Q=h.call(a,a);Wr(Q)&&(e.data=d1(Q))}if(r3=!0,p)for(const Q in p){const fe=p[Q],Te=Ln(fe)?fe.bind(a,a):Ln(fe.get)?fe.get.bind(a,a):Ba,oe=!Ln(fe)&&Ln(fe.set)?fe.set.bind(a):Ba,Me=_m({get:Te,set:oe});Object.defineProperty(l,Q,{enumerable:!0,configurable:!0,get:()=>Me.value,set:We=>Me.value=We})}if(s)for(const Q in s)uE(s[Q],l,a,Q);if(b){const Q=Ln(b)?b.call(a):b;Reflect.ownKeys(Q).forEach(fe=>{mm(fe,Q[fe])})}ee&&uT(ee,e,"c");function O(Q,fe){Ji(fe)?fe.forEach(Te=>Q(Te.bind(a))):fe&&Q(fe.bind(a))}if(O(aw,F),O(Kh,Z),O(Jv,ne),O(yf,z),O(sw,G),O(ow,ae),O(dw,X),O(hw,se),O(cw,S),O(vf,P),O(xf,W),O(lw,I),Ji($))if($.length){const Q=e.exposed||(e.exposed={});$.forEach(fe=>{Object.defineProperty(Q,fe,{get:()=>a[fe],set:Te=>a[fe]=Te})})}else e.exposed||(e.exposed={});R&&e.render===Ba&&(e.render=R),K!=null&&(e.inheritAttrs=K),q&&(e.components=q),J&&(e.directives=J)}function Fk(e,i,a=Ba){Ji(e)&&(e=s3(e));for(const l in e){const h=e[l];let p;Wr(h)?"default"in h?p=cf(h.from||l,h.default,!0):p=cf(h.from||l):p=cf(h),so(p)?Object.defineProperty(i,l,{enumerable:!0,configurable:!0,get:()=>p.value,set:y=>p.value=y}):i[l]=p}}function uT(e,i,a){pl(Ji(e)?e.map(l=>l.bind(i.proxy)):e.bind(i.proxy),i,a)}function uE(e,i,a,l){const h=l.includes(".")?U8(a,l):()=>a[l];if(qn(e)){const p=i[e];Ln(p)&&fl(h,p)}else if(Ln(e))fl(h,e.bind(a));else if(Wr(e))if(Ji(e))e.forEach(p=>uE(p,i,a,l));else{const p=Ln(e.handler)?e.handler.bind(a):i[e.handler];Ln(p)&&fl(h,p,e)}}function mw(e){const i=e.type,{mixins:a,extends:l}=i,{mixins:h,optionsCache:p,config:{optionMergeStrategies:y}}=e.appContext,s=p.get(i);let b;return s?b=s:!h.length&&!a&&!l?b=i:(b={},h.length&&h.forEach(L=>ev(b,L,y,!0)),ev(b,i,y)),Wr(i)&&p.set(i,b),b}function ev(e,i,a,l=!1){const{mixins:h,extends:p}=i;p&&ev(e,p,a,!0),h&&h.forEach(y=>ev(e,y,a,!0));for(const y in i)if(!(l&&y==="expose")){const s=Nk[y]||a&&a[y];e[y]=s?s(e[y],i[y]):i[y]}return e}const Nk={data:pT,props:fT,emits:fT,methods:zg,computed:zg,beforeCreate:Ra,created:Ra,beforeMount:Ra,mounted:Ra,beforeUpdate:Ra,updated:Ra,beforeDestroy:Ra,beforeUnmount:Ra,destroyed:Ra,unmounted:Ra,activated:Ra,deactivated:Ra,errorCaptured:Ra,serverPrefetch:Ra,components:zg,directives:zg,watch:Uk,provide:pT,inject:jk};function pT(e,i){return i?e?function(){return gr(Ln(e)?e.call(this,this):e,Ln(i)?i.call(this,this):i)}:i:e}function jk(e,i){return zg(s3(e),s3(i))}function s3(e){if(Ji(e)){const i={};for(let a=0;a<e.length;a++)i[e[a]]=e[a];return i}return e}function Ra(e,i){return e?[...new Set([].concat(e,i))]:i}function zg(e,i){return e?gr(Object.create(null),e,i):i}function fT(e,i){return e?Ji(e)&&Ji(i)?[...new Set([...e,...i])]:gr(Object.create(null),Kg(e),Kg(i??{})):i}function Uk(e,i){if(!e)return i;if(!i)return e;const a=gr(Object.create(null),e);for(const l in i)a[l]=Ra(e[l],i[l]);return a}function pE(){return{app:null,config:{isNativeTag:Ry,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Vk=0;function Gk(e,i){return function(l,h=null){Ln(l)||(l=gr({},l)),h!=null&&!Wr(h)&&(h=null);const p=pE(),y=new Set;let s=!1;const b=p.app={_uid:Vk++,_component:l,_props:h,_container:null,_context:p,_instance:null,version:Mw,get config(){return p.config},set config(L){},use(L,...ee){return y.has(L)||(L&&Ln(L.install)?(y.add(L),L.install(b,...ee)):Ln(L)&&(y.add(L),L(b,...ee))),b},mixin(L){return p.mixins.includes(L)||p.mixins.push(L),b},component(L,ee){return ee?(p.components[L]=ee,b):p.components[L]},directive(L,ee){return ee?(p.directives[L]=ee,b):p.directives[L]},mount(L,ee,F){if(!s){const Z=vn(l,h);return Z.appContext=p,ee&&i?i(Z,L):e(Z,L,F),s=!0,b._container=L,L.__vue_app__=b,t2(Z.component)||Z.component.proxy}},unmount(){s&&(e(null,b._container),delete b._container.__vue_app__)},provide(L,ee){return p.provides[L]=ee,b},runWithContext(L){Jg=b;try{return L()}finally{Jg=null}}};return b}}let Jg=null;function mm(e,i){if(ro){let a=ro.provides;const l=ro.parent&&ro.parent.provides;l===a&&(a=ro.provides=Object.create(l)),a[e]=i}}function cf(e,i,a=!1){const l=ro||Ro;if(l||Jg){const h=l?l.parent==null?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides:Jg._context.provides;if(h&&e in h)return h[e];if(arguments.length>1)return a&&Ln(i)?i.call(l&&l.proxy):i}}function fE(){return!!(ro||Ro||Jg)}function Wk(e,i,a,l=!1){const h={},p={};Xy(p,Qv,1),e.propsDefaults=Object.create(null),mE(e,i,h,p);for(const y in e.propsOptions[0])y in h||(h[y]=void 0);a?e.props=l?h:q3(h):e.type.props?e.props=h:e.props=p,e.attrs=p}function $k(e,i,a,l){const{props:h,attrs:p,vnode:{patchFlag:y}}=e,s=ur(h),[b]=e.propsOptions;let L=!1;if((l||y>0)&&!(y&16)){if(y&8){const ee=e.vnode.dynamicProps;for(let F=0;F<ee.length;F++){let Z=ee[F];if(Hv(e.emitsOptions,Z))continue;const ne=i[Z];if(b)if(Er(p,Z))ne!==p[Z]&&(p[Z]=ne,L=!0);else{const z=Ys(Z);h[z]=o3(b,s,z,ne,e,!1)}else ne!==p[Z]&&(p[Z]=ne,L=!0)}}}else{mE(e,i,h,p)&&(L=!0);let ee;for(const F in s)(!i||!Er(i,F)&&((ee=Hl(F))===F||!Er(i,ee)))&&(b?a&&(a[F]!==void 0||a[ee]!==void 0)&&(h[F]=o3(b,s,F,void 0,e,!0)):delete h[F]);if(p!==s)for(const F in p)(!i||!Er(i,F))&&(delete p[F],L=!0)}L&&Hd(e,"set","$attrs")}function mE(e,i,a,l){const[h,p]=e.propsOptions;let y=!1,s;if(i)for(let b in i){if(sf(b))continue;const L=i[b];let ee;h&&Er(h,ee=Ys(b))?!p||!p.includes(ee)?a[ee]=L:(s||(s={}))[ee]=L:Hv(e.emitsOptions,b)||(!(b in l)||L!==l[b])&&(l[b]=L,y=!0)}if(p){const b=ur(a),L=s||Gr;for(let ee=0;ee<p.length;ee++){const F=p[ee];a[F]=o3(h,b,F,L[F],e,!Er(L,F))}}return y}function o3(e,i,a,l,h,p){const y=e[a];if(y!=null){const s=Er(y,"default");if(s&&l===void 0){const b=y.default;if(y.type!==Function&&!y.skipFactory&&Ln(b)){const{propsDefaults:L}=h;a in L?l=L[a]:(Ju(h),l=L[a]=b.call(null,i),Gu())}else l=b}y[0]&&(p&&!s?l=!1:y[1]&&(l===""||l===Hl(a))&&(l=!0))}return l}function gE(e,i,a=!1){const l=i.propsCache,h=l.get(e);if(h)return h;const p=e.props,y={},s=[];let b=!1;if(!Ln(e)){const ee=F=>{b=!0;const[Z,ne]=gE(F,i,!0);gr(y,Z),ne&&s.push(...ne)};!a&&i.mixins.length&&i.mixins.forEach(ee),e.extends&&ee(e.extends),e.mixins&&e.mixins.forEach(ee)}if(!p&&!b)return Wr(e)&&l.set(e,N0),N0;if(Ji(p))for(let ee=0;ee<p.length;ee++){const F=Ys(p[ee]);mT(F)&&(y[F]=Gr)}else if(p)for(const ee in p){const F=Ys(ee);if(mT(F)){const Z=p[ee],ne=y[F]=Ji(Z)||Ln(Z)?{type:Z}:gr({},Z);if(ne){const z=yT(Boolean,ne.type),G=yT(String,ne.type);ne[0]=z>-1,ne[1]=G<0||z<G,(z>-1||Er(ne,"default"))&&s.push(F)}}}const L=[y,s];return Wr(e)&&l.set(e,L),L}function mT(e){return e[0]!=="$"}function gT(e){const i=e&&e.toString().match(/^\s*(function|class) (\w+)/);return i?i[2]:e===null?"null":""}function _T(e,i){return gT(e)===gT(i)}function yT(e,i){return Ji(i)?i.findIndex(a=>_T(a,e)):Ln(i)&&_T(i,e)?0:-1}const _E=e=>e[0]==="_"||e==="$stable",gw=e=>Ji(e)?e.map(Wl):[Wl(e)],Hk=(e,i,a)=>{if(i._n)return i;const l=Ko((...h)=>gw(i(...h)),a);return l._c=!1,l},yE=(e,i,a)=>{const l=e._ctx;for(const h in e){if(_E(h))continue;const p=e[h];if(Ln(p))i[h]=Hk(h,p,l);else if(p!=null){const y=gw(p);i[h]=()=>y}}},vE=(e,i)=>{const a=gw(i);e.slots.default=()=>a},qk=(e,i)=>{if(e.vnode.shapeFlag&32){const a=i._;a?(e.slots=ur(i),Xy(i,"_",a)):yE(i,e.slots={})}else e.slots={},i&&vE(e,i);Xy(e.slots,Qv,1)},Xk=(e,i,a)=>{const{vnode:l,slots:h}=e;let p=!0,y=Gr;if(l.shapeFlag&32){const s=i._;s?a&&s===1?p=!1:(gr(h,i),!a&&s===1&&delete h._):(p=!i.$stable,yE(i,h)),y=i}else i&&(vE(e,i),y={default:1});if(p)for(const s in h)!_E(s)&&!(s in y)&&delete h[s]};function tv(e,i,a,l,h=!1){if(Ji(e)){e.forEach((Z,ne)=>tv(Z,i&&(Ji(i)?i[ne]:i),a,l,h));return}if(lf(l)&&!h)return;const p=l.shapeFlag&4?t2(l.component)||l.component.proxy:l.el,y=h?null:p,{i:s,r:b}=e,L=i&&i.r,ee=s.refs===Gr?s.refs={}:s.refs,F=s.setupState;if(L!=null&&L!==b&&(qn(L)?(ee[L]=null,Er(F,L)&&(F[L]=null)):so(L)&&(L.value=null)),Ln(b))Xh(b,s,12,[y,ee]);else{const Z=qn(b),ne=so(b);if(Z||ne){const z=()=>{if(e.f){const G=Z?Er(F,b)?F[b]:ee[b]:b.value;h?Ji(G)&&U3(G,p):Ji(G)?G.includes(p)||G.push(p):Z?(ee[b]=[p],Er(F,b)&&(F[b]=ee[b])):(b.value=[p],e.k&&(ee[e.k]=b.value))}else Z?(ee[b]=y,Er(F,b)&&(F[b]=y)):ne&&(b.value=y,e.k&&(ee[e.k]=y))};y?(z.id=-1,Zo(z,a)):z()}}}let Pu=!1;const vy=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",xy=e=>e.nodeType===8;function Yk(e){const{mt:i,p:a,o:{patchProp:l,createText:h,nextSibling:p,parentNode:y,remove:s,insert:b,createComment:L}}=e,ee=(B,P)=>{if(!P.hasChildNodes()){a(null,B,P),Jy(),P._vnode=B;return}Pu=!1,F(P.firstChild,B,null,null,null),Jy(),P._vnode=B,Pu&&console.error("Hydration completed but contains mismatches.")},F=(B,P,V,W,R,se=!1)=>{const S=xy(B)&&B.data==="[",X=()=>G(B,P,V,W,R,S),{type:I,ref:$,shapeFlag:K,patchFlag:q}=P;let J=B.nodeType;P.el=B,q===-2&&(se=!1,P.dynamicChildren=null);let C=null;switch(I){case Ku:J!==3?P.children===""?(b(P.el=h(""),y(B),B),C=B):C=X():(B.data!==P.children&&(Pu=!0,B.data=P.children),C=p(B));break;case Jo:J!==8||S?C=X():C=p(B);break;case Vu:if(S&&(B=p(B),J=B.nodeType),J===1||J===3){C=B;const A=!P.children.length;for(let O=0;O<P.staticCount;O++)A&&(P.children+=C.nodeType===1?C.outerHTML:C.data),O===P.staticCount-1&&(P.anchor=C),C=p(C);return S?p(C):C}else X();break;case Fs:S?C=z(B,P,V,W,R,se):C=X();break;default:if(K&1)J!==1||P.type.toLowerCase()!==B.tagName.toLowerCase()?C=X():C=Z(B,P,V,W,R,se);else if(K&6){P.slotScopeIds=R;const A=y(B);if(i(P,A,null,V,W,vy(A),se),C=S?ae(B):p(B),C&&xy(C)&&C.data==="teleport end"&&(C=p(C)),lf(P)){let O;S?(O=vn(Fs),O.anchor=C?C.previousSibling:A.lastChild):O=B.nodeType===3?_1(""):vn("div"),O.el=B,P.component.subTree=O}}else K&64?J!==8?C=X():C=P.type.hydrate(B,P,V,W,R,se,e,ne):K&128&&(C=P.type.hydrate(B,P,V,W,vy(y(B)),R,se,e,F))}return $!=null&&tv($,null,W,P),C},Z=(B,P,V,W,R,se)=>{se=se||!!P.dynamicChildren;const{type:S,props:X,patchFlag:I,shapeFlag:$,dirs:K}=P,q=S==="input"&&K||S==="option";if(q||I!==-1){if(K&&Gh(P,null,V,"created"),X)if(q||!se||I&48)for(const C in X)(q&&C.endsWith("value")||gf(C)&&!sf(C))&&l(B,C,null,X[C],!1,void 0,V);else X.onClick&&l(B,"onClick",null,X.onClick,!1,void 0,V);let J;if((J=X&&X.onVnodeBeforeMount)&&cl(J,V,P),K&&Gh(P,null,V,"beforeMount"),((J=X&&X.onVnodeMounted)||K)&&F8(()=>{J&&cl(J,V,P),K&&Gh(P,null,V,"mounted")},W),$&16&&!(X&&(X.innerHTML||X.textContent))){let C=ne(B.firstChild,P,B,V,W,R,se);for(;C;){Pu=!0;const A=C;C=C.nextSibling,s(A)}}else $&8&&B.textContent!==P.children&&(Pu=!0,B.textContent=P.children)}return B.nextSibling},ne=(B,P,V,W,R,se,S)=>{S=S||!!P.dynamicChildren;const X=P.children,I=X.length;for(let $=0;$<I;$++){const K=S?X[$]:X[$]=Wl(X[$]);if(B)B=F(B,K,W,R,se,S);else{if(K.type===Ku&&!K.children)continue;Pu=!0,a(null,K,V,null,W,R,vy(V),se)}}return B},z=(B,P,V,W,R,se)=>{const{slotScopeIds:S}=P;S&&(R=R?R.concat(S):S);const X=y(B),I=ne(p(B),P,X,V,W,R,se);return I&&xy(I)&&I.data==="]"?p(P.anchor=I):(Pu=!0,b(P.anchor=L("]"),X,I),I)},G=(B,P,V,W,R,se)=>{if(Pu=!0,P.el=null,se){const I=ae(B);for(;;){const $=p(B);if($&&$!==I)s($);else break}}const S=p(B),X=y(B);return s(B),a(null,P,X,S,V,W,vy(X),R),S},ae=B=>{let P=0;for(;B;)if(B=p(B),B&&xy(B)&&(B.data==="["&&P++,B.data==="]")){if(P===0)return p(B);P--}return B};return[ee,F]}const Zo=F8;function _w(e){return xE(e)}function yw(e){return xE(e,Yk)}function xE(e,i){const a=Kb();a.__VUE__=!0;const{insert:l,remove:h,patchProp:p,createElement:y,createText:s,createComment:b,setText:L,setElementText:ee,parentNode:F,nextSibling:Z,setScopeId:ne=Ba,insertStaticContent:z}=e,G=(Y,de,me,ke=null,Ie=null,Ve=null,it=!1,tt=null,ht=!!de.dynamicChildren)=>{if(Y===de)return;Y&&!nh(Y,de)&&(ke=Ce(Y),We(Y,Ie,Ve,!0),Y=null),de.patchFlag===-2&&(ht=!1,de.dynamicChildren=null);const{type:Ee,ref:De,shapeFlag:Fe}=de;switch(Ee){case Ku:ae(Y,de,me,ke);break;case Jo:B(Y,de,me,ke);break;case Vu:Y==null&&P(de,me,ke,it);break;case Fs:q(Y,de,me,ke,Ie,Ve,it,tt,ht);break;default:Fe&1?R(Y,de,me,ke,Ie,Ve,it,tt,ht):Fe&6?J(Y,de,me,ke,Ie,Ve,it,tt,ht):(Fe&64||Fe&128)&&Ee.process(Y,de,me,ke,Ie,Ve,it,tt,ht,re)}De!=null&&Ie&&tv(De,Y&&Y.ref,Ve,de||Y,!de)},ae=(Y,de,me,ke)=>{if(Y==null)l(de.el=s(de.children),me,ke);else{const Ie=de.el=Y.el;de.children!==Y.children&&L(Ie,de.children)}},B=(Y,de,me,ke)=>{Y==null?l(de.el=b(de.children||""),me,ke):de.el=Y.el},P=(Y,de,me,ke)=>{[Y.el,Y.anchor]=z(Y.children,de,me,ke,Y.el,Y.anchor)},V=({el:Y,anchor:de},me,ke)=>{let Ie;for(;Y&&Y!==de;)Ie=Z(Y),l(Y,me,ke),Y=Ie;l(de,me,ke)},W=({el:Y,anchor:de})=>{let me;for(;Y&&Y!==de;)me=Z(Y),h(Y),Y=me;h(de)},R=(Y,de,me,ke,Ie,Ve,it,tt,ht)=>{it=it||de.type==="svg",Y==null?se(de,me,ke,Ie,Ve,it,tt,ht):I(Y,de,Ie,Ve,it,tt,ht)},se=(Y,de,me,ke,Ie,Ve,it,tt)=>{let ht,Ee;const{type:De,props:Fe,shapeFlag:qe,transition:He,dirs:xt}=Y;if(ht=Y.el=y(Y.type,Ve,Fe&&Fe.is,Fe),qe&8?ee(ht,Y.children):qe&16&&X(Y.children,ht,null,ke,Ie,Ve&&De!=="foreignObject",it,tt),xt&&Gh(Y,null,ke,"created"),S(ht,Y,Y.scopeId,it,ke),Fe){for(const Vt in Fe)Vt!=="value"&&!sf(Vt)&&p(ht,Vt,null,Fe[Vt],Ve,Y.children,ke,Ie,pe);"value"in Fe&&p(ht,"value",null,Fe.value),(Ee=Fe.onVnodeBeforeMount)&&cl(Ee,ke,Y)}xt&&Gh(Y,null,ke,"beforeMount");const jt=(!Ie||Ie&&!Ie.pendingBranch)&&He&&!He.persisted;jt&&He.beforeEnter(ht),l(ht,de,me),((Ee=Fe&&Fe.onVnodeMounted)||jt||xt)&&Zo(()=>{Ee&&cl(Ee,ke,Y),jt&&He.enter(ht),xt&&Gh(Y,null,ke,"mounted")},Ie)},S=(Y,de,me,ke,Ie)=>{if(me&&ne(Y,me),ke)for(let Ve=0;Ve<ke.length;Ve++)ne(Y,ke[Ve]);if(Ie){let Ve=Ie.subTree;if(de===Ve){const it=Ie.vnode;S(Y,it,it.scopeId,it.slotScopeIds,Ie.parent)}}},X=(Y,de,me,ke,Ie,Ve,it,tt,ht=0)=>{for(let Ee=ht;Ee<Y.length;Ee++){const De=Y[Ee]=tt?Ou(Y[Ee]):Wl(Y[Ee]);G(null,De,de,me,ke,Ie,Ve,it,tt)}},I=(Y,de,me,ke,Ie,Ve,it)=>{const tt=de.el=Y.el;let{patchFlag:ht,dynamicChildren:Ee,dirs:De}=de;ht|=Y.patchFlag&16;const Fe=Y.props||Gr,qe=de.props||Gr;let He;me&&qp(me,!1),(He=qe.onVnodeBeforeUpdate)&&cl(He,me,de,Y),De&&Gh(de,Y,me,"beforeUpdate"),me&&qp(me,!0);const xt=Ie&&de.type!=="foreignObject";if(Ee?$(Y.dynamicChildren,Ee,tt,me,ke,xt,Ve):it||fe(Y,de,tt,null,me,ke,xt,Ve,!1),ht>0){if(ht&16)K(tt,de,Fe,qe,me,ke,Ie);else if(ht&2&&Fe.class!==qe.class&&p(tt,"class",null,qe.class,Ie),ht&4&&p(tt,"style",Fe.style,qe.style,Ie),ht&8){const jt=de.dynamicProps;for(let Vt=0;Vt<jt.length;Vt++){const vi=jt[Vt],ri=Fe[vi],bi=qe[vi];(bi!==ri||vi==="value")&&p(tt,vi,ri,bi,Ie,Y.children,me,ke,pe)}}ht&1&&Y.children!==de.children&&ee(tt,de.children)}else!it&&Ee==null&&K(tt,de,Fe,qe,me,ke,Ie);((He=qe.onVnodeUpdated)||De)&&Zo(()=>{He&&cl(He,me,de,Y),De&&Gh(de,Y,me,"updated")},ke)},$=(Y,de,me,ke,Ie,Ve,it)=>{for(let tt=0;tt<de.length;tt++){const ht=Y[tt],Ee=de[tt],De=ht.el&&(ht.type===Fs||!nh(ht,Ee)||ht.shapeFlag&70)?F(ht.el):me;G(ht,Ee,De,null,ke,Ie,Ve,it,!0)}},K=(Y,de,me,ke,Ie,Ve,it)=>{if(me!==ke){if(me!==Gr)for(const tt in me)!sf(tt)&&!(tt in ke)&&p(Y,tt,me[tt],null,it,de.children,Ie,Ve,pe);for(const tt in ke){if(sf(tt))continue;const ht=ke[tt],Ee=me[tt];ht!==Ee&&tt!=="value"&&p(Y,tt,Ee,ht,it,de.children,Ie,Ve,pe)}"value"in ke&&p(Y,"value",me.value,ke.value)}},q=(Y,de,me,ke,Ie,Ve,it,tt,ht)=>{const Ee=de.el=Y?Y.el:s(""),De=de.anchor=Y?Y.anchor:s("");let{patchFlag:Fe,dynamicChildren:qe,slotScopeIds:He}=de;He&&(tt=tt?tt.concat(He):He),Y==null?(l(Ee,me,ke),l(De,me,ke),X(de.children,me,De,Ie,Ve,it,tt,ht)):Fe>0&&Fe&64&&qe&&Y.dynamicChildren?($(Y.dynamicChildren,qe,me,Ie,Ve,it,tt),(de.key!=null||Ie&&de===Ie.subTree)&&vw(Y,de,!0)):fe(Y,de,me,De,Ie,Ve,it,tt,ht)},J=(Y,de,me,ke,Ie,Ve,it,tt,ht)=>{de.slotScopeIds=tt,Y==null?de.shapeFlag&512?Ie.ctx.activate(de,me,ke,it,ht):C(de,me,ke,Ie,Ve,it,ht):A(Y,de,ht)},C=(Y,de,me,ke,Ie,Ve,it)=>{const tt=Y.component=ME(Y,ke,Ie);if(f1(Y)&&(tt.ctx.renderer=re),kE(tt),tt.asyncDep){if(Ie&&Ie.registerDep(tt,O),!Y.el){const ht=tt.subTree=vn(Jo);B(null,ht,de,me)}return}O(tt,Y,de,me,Ie,Ve,it)},A=(Y,de,me)=>{const ke=de.component=Y.component;if(Sk(Y,de,me))if(ke.asyncDep&&!ke.asyncResolved){Q(ke,de,me);return}else ke.next=de,yk(ke.update),ke.update();else de.el=Y.el,ke.vnode=de},O=(Y,de,me,ke,Ie,Ve,it)=>{const tt=()=>{if(Y.isMounted){let{next:De,bu:Fe,u:qe,parent:He,vnode:xt}=Y,jt=De,Vt;qp(Y,!1),De?(De.el=xt.el,Q(Y,De,it)):De=xt,Fe&&U0(Fe),(Vt=De.props&&De.props.onVnodeBeforeUpdate)&&cl(Vt,He,De,xt),qp(Y,!0);const vi=zy(Y),ri=Y.subTree;Y.subTree=vi,G(ri,vi,F(ri.el),Ce(ri),Y,Ie,Ve),De.el=vi.el,jt===null&&ew(Y,vi.el),qe&&Zo(qe,Ie),(Vt=De.props&&De.props.onVnodeUpdated)&&Zo(()=>cl(Vt,He,De,xt),Ie)}else{let De;const{el:Fe,props:qe}=de,{bm:He,m:xt,parent:jt}=Y,Vt=lf(de);if(qp(Y,!1),He&&U0(He),!Vt&&(De=qe&&qe.onVnodeBeforeMount)&&cl(De,jt,de),qp(Y,!0),Fe&&_e){const vi=()=>{Y.subTree=zy(Y),_e(Fe,Y.subTree,Y,Ie,null)};Vt?de.type.__asyncLoader().then(()=>!Y.isUnmounted&&vi()):vi()}else{const vi=Y.subTree=zy(Y);G(null,vi,me,ke,Y,Ie,Ve),de.el=vi.el}if(xt&&Zo(xt,Ie),!Vt&&(De=qe&&qe.onVnodeMounted)){const vi=de;Zo(()=>cl(De,jt,vi),Ie)}(de.shapeFlag&256||jt&&lf(jt.vnode)&&jt.vnode.shapeFlag&256)&&Y.a&&Zo(Y.a,Ie),Y.isMounted=!0,de=me=ke=null}},ht=Y.effect=new dm(tt,()=>Wv(Ee),Y.scope),Ee=Y.update=()=>ht.run();Ee.id=Y.uid,qp(Y,!0),Ee()},Q=(Y,de,me)=>{de.component=Y;const ke=Y.vnode.props;Y.vnode=de,Y.next=null,$k(Y,de.props,ke,me),Xk(Y,de.children,me),um(),aT(),pm()},fe=(Y,de,me,ke,Ie,Ve,it,tt,ht=!1)=>{const Ee=Y&&Y.children,De=Y?Y.shapeFlag:0,Fe=de.children,{patchFlag:qe,shapeFlag:He}=de;if(qe>0){if(qe&128){oe(Ee,Fe,me,ke,Ie,Ve,it,tt,ht);return}else if(qe&256){Te(Ee,Fe,me,ke,Ie,Ve,it,tt,ht);return}}He&8?(De&16&&pe(Ee,Ie,Ve),Fe!==Ee&&ee(me,Fe)):De&16?He&16?oe(Ee,Fe,me,ke,Ie,Ve,it,tt,ht):pe(Ee,Ie,Ve,!0):(De&8&&ee(me,""),He&16&&X(Fe,me,ke,Ie,Ve,it,tt,ht))},Te=(Y,de,me,ke,Ie,Ve,it,tt,ht)=>{Y=Y||N0,de=de||N0;const Ee=Y.length,De=de.length,Fe=Math.min(Ee,De);let qe;for(qe=0;qe<Fe;qe++){const He=de[qe]=ht?Ou(de[qe]):Wl(de[qe]);G(Y[qe],He,me,null,Ie,Ve,it,tt,ht)}Ee>De?pe(Y,Ie,Ve,!0,!1,Fe):X(de,me,ke,Ie,Ve,it,tt,ht,Fe)},oe=(Y,de,me,ke,Ie,Ve,it,tt,ht)=>{let Ee=0;const De=de.length;let Fe=Y.length-1,qe=De-1;for(;Ee<=Fe&&Ee<=qe;){const He=Y[Ee],xt=de[Ee]=ht?Ou(de[Ee]):Wl(de[Ee]);if(nh(He,xt))G(He,xt,me,null,Ie,Ve,it,tt,ht);else break;Ee++}for(;Ee<=Fe&&Ee<=qe;){const He=Y[Fe],xt=de[qe]=ht?Ou(de[qe]):Wl(de[qe]);if(nh(He,xt))G(He,xt,me,null,Ie,Ve,it,tt,ht);else break;Fe--,qe--}if(Ee>Fe){if(Ee<=qe){const He=qe+1,xt=He<De?de[He].el:ke;for(;Ee<=qe;)G(null,de[Ee]=ht?Ou(de[Ee]):Wl(de[Ee]),me,xt,Ie,Ve,it,tt,ht),Ee++}}else if(Ee>qe)for(;Ee<=Fe;)We(Y[Ee],Ie,Ve,!0),Ee++;else{const He=Ee,xt=Ee,jt=new Map;for(Ee=xt;Ee<=qe;Ee++){const Ai=de[Ee]=ht?Ou(de[Ee]):Wl(de[Ee]);Ai.key!=null&&jt.set(Ai.key,Ee)}let Vt,vi=0;const ri=qe-xt+1;let bi=!1,Gi=0;const ki=new Array(ri);for(Ee=0;Ee<ri;Ee++)ki[Ee]=0;for(Ee=He;Ee<=Fe;Ee++){const Ai=Y[Ee];if(vi>=ri){We(Ai,Ie,Ve,!0);continue}let Tn;if(Ai.key!=null)Tn=jt.get(Ai.key);else for(Vt=xt;Vt<=qe;Vt++)if(ki[Vt-xt]===0&&nh(Ai,de[Vt])){Tn=Vt;break}Tn===void 0?We(Ai,Ie,Ve,!0):(ki[Tn-xt]=Ee+1,Tn>=Gi?Gi=Tn:bi=!0,G(Ai,de[Tn],me,null,Ie,Ve,it,tt,ht),vi++)}const Ni=bi?Zk(ki):N0;for(Vt=Ni.length-1,Ee=ri-1;Ee>=0;Ee--){const Ai=xt+Ee,Tn=de[Ai],In=Ai+1<De?de[Ai+1].el:ke;ki[Ee]===0?G(null,Tn,me,In,Ie,Ve,it,tt,ht):bi&&(Vt<0||Ee!==Ni[Vt]?Me(Tn,me,In,2):Vt--)}}},Me=(Y,de,me,ke,Ie=null)=>{const{el:Ve,type:it,transition:tt,children:ht,shapeFlag:Ee}=Y;if(Ee&6){Me(Y.component.subTree,de,me,ke);return}if(Ee&128){Y.suspense.move(de,me,ke);return}if(Ee&64){it.move(Y,de,me,re);return}if(it===Fs){l(Ve,de,me);for(let Fe=0;Fe<ht.length;Fe++)Me(ht[Fe],de,me,ke);l(Y.anchor,de,me);return}if(it===Vu){V(Y,de,me);return}if(ke!==2&&Ee&1&&tt)if(ke===0)tt.beforeEnter(Ve),l(Ve,de,me),Zo(()=>tt.enter(Ve),Ie);else{const{leave:Fe,delayLeave:qe,afterLeave:He}=tt,xt=()=>l(Ve,de,me),jt=()=>{Fe(Ve,()=>{xt(),He&&He()})};qe?qe(Ve,xt,jt):jt()}else l(Ve,de,me)},We=(Y,de,me,ke=!1,Ie=!1)=>{const{type:Ve,props:it,ref:tt,children:ht,dynamicChildren:Ee,shapeFlag:De,patchFlag:Fe,dirs:qe}=Y;if(tt!=null&&tv(tt,null,me,Y,!0),De&256){de.ctx.deactivate(Y);return}const He=De&1&&qe,xt=!lf(Y);let jt;if(xt&&(jt=it&&it.onVnodeBeforeUnmount)&&cl(jt,de,Y),De&6)ce(Y.component,me,ke);else{if(De&128){Y.suspense.unmount(me,ke);return}He&&Gh(Y,null,de,"beforeUnmount"),De&64?Y.type.remove(Y,de,me,Ie,re,ke):Ee&&(Ve!==Fs||Fe>0&&Fe&64)?pe(Ee,de,me,!1,!0):(Ve===Fs&&Fe&384||!Ie&&De&16)&&pe(ht,de,me),ke&&Qe(Y)}(xt&&(jt=it&&it.onVnodeUnmounted)||He)&&Zo(()=>{jt&&cl(jt,de,Y),He&&Gh(Y,null,de,"unmounted")},me)},Qe=Y=>{const{type:de,el:me,anchor:ke,transition:Ie}=Y;if(de===Fs){ie(me,ke);return}if(de===Vu){W(Y);return}const Ve=()=>{h(me),Ie&&!Ie.persisted&&Ie.afterLeave&&Ie.afterLeave()};if(Y.shapeFlag&1&&Ie&&!Ie.persisted){const{leave:it,delayLeave:tt}=Ie,ht=()=>it(me,Ve);tt?tt(Y.el,Ve,ht):ht()}else Ve()},ie=(Y,de)=>{let me;for(;Y!==de;)me=Z(Y),h(Y),Y=me;h(de)},ce=(Y,de,me)=>{const{bum:ke,scope:Ie,update:Ve,subTree:it,um:tt}=Y;ke&&U0(ke),Ie.stop(),Ve&&(Ve.active=!1,We(it,Y,de,me)),tt&&Zo(tt,de),Zo(()=>{Y.isUnmounted=!0},de),de&&de.pendingBranch&&!de.isUnmounted&&Y.asyncDep&&!Y.asyncResolved&&Y.suspenseId===de.pendingId&&(de.deps--,de.deps===0&&de.resolve())},pe=(Y,de,me,ke=!1,Ie=!1,Ve=0)=>{for(let it=Ve;it<Y.length;it++)We(Y[it],de,me,ke,Ie)},Ce=Y=>Y.shapeFlag&6?Ce(Y.component.subTree):Y.shapeFlag&128?Y.suspense.next():Z(Y.anchor||Y.el),Be=(Y,de,me)=>{Y==null?de._vnode&&We(de._vnode,null,null,!0):G(de._vnode||null,Y,de,null,null,null,me),aT(),Jy(),de._vnode=Y},re={p:G,um:We,m:Me,r:Qe,mt:C,mc:X,pc:fe,pbc:$,n:Ce,o:e};let xe,_e;return i&&([xe,_e]=i(re)),{render:Be,hydrate:xe,createApp:Gk(Be,xe)}}function qp({effect:e,update:i},a){e.allowRecurse=i.allowRecurse=a}function vw(e,i,a=!1){const l=e.children,h=i.children;if(Ji(l)&&Ji(h))for(let p=0;p<l.length;p++){const y=l[p];let s=h[p];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=h[p]=Ou(h[p]),s.el=y.el),a||vw(y,s)),s.type===Ku&&(s.el=y.el)}}function Zk(e){const i=e.slice(),a=[0];let l,h,p,y,s;const b=e.length;for(l=0;l<b;l++){const L=e[l];if(L!==0){if(h=a[a.length-1],e[h]<L){i[l]=h,a.push(l);continue}for(p=0,y=a.length-1;p<y;)s=p+y>>1,e[a[s]]<L?p=s+1:y=s;L<e[a[p]]&&(p>0&&(i[l]=a[p-1]),a[p]=l)}}for(p=a.length,y=a[p-1];p-- >0;)a[p]=y,y=i[y];return a}const Kk=e=>e.__isTeleport,Fg=e=>e&&(e.disabled||e.disabled===""),vT=e=>typeof SVGElement<"u"&&e instanceof SVGElement,a3=(e,i)=>{const a=e&&e.to;return qn(a)?i?i(a):null:a},Jk={__isTeleport:!0,process(e,i,a,l,h,p,y,s,b,L){const{mc:ee,pc:F,pbc:Z,o:{insert:ne,querySelector:z,createText:G,createComment:ae}}=L,B=Fg(i.props);let{shapeFlag:P,children:V,dynamicChildren:W}=i;if(e==null){const R=i.el=G(""),se=i.anchor=G("");ne(R,a,l),ne(se,a,l);const S=i.target=a3(i.props,z),X=i.targetAnchor=G("");S&&(ne(X,S),y=y||vT(S));const I=($,K)=>{P&16&&ee(V,$,K,h,p,y,s,b)};B?I(a,se):S&&I(S,X)}else{i.el=e.el;const R=i.anchor=e.anchor,se=i.target=e.target,S=i.targetAnchor=e.targetAnchor,X=Fg(e.props),I=X?a:se,$=X?R:S;if(y=y||vT(se),W?(Z(e.dynamicChildren,W,I,h,p,y,s),vw(e,i,!0)):b||F(e,i,I,$,h,p,y,s,!1),B)X||by(i,a,R,L,1);else if((i.props&&i.props.to)!==(e.props&&e.props.to)){const K=i.target=a3(i.props,z);K&&by(i,K,null,L,0)}else X&&by(i,se,S,L,1)}wE(i)},remove(e,i,a,l,{um:h,o:{remove:p}},y){const{shapeFlag:s,children:b,anchor:L,targetAnchor:ee,target:F,props:Z}=e;if(F&&p(ee),(y||!Fg(Z))&&(p(L),s&16))for(let ne=0;ne<b.length;ne++){const z=b[ne];h(z,i,a,!0,!!z.dynamicChildren)}},move:by,hydrate:Qk};function by(e,i,a,{o:{insert:l},m:h},p=2){p===0&&l(e.targetAnchor,i,a);const{el:y,anchor:s,shapeFlag:b,children:L,props:ee}=e,F=p===2;if(F&&l(y,i,a),(!F||Fg(ee))&&b&16)for(let Z=0;Z<L.length;Z++)h(L[Z],i,a,2);F&&l(s,i,a)}function Qk(e,i,a,l,h,p,{o:{nextSibling:y,parentNode:s,querySelector:b}},L){const ee=i.target=a3(i.props,b);if(ee){const F=ee._lpa||ee.firstChild;if(i.shapeFlag&16)if(Fg(i.props))i.anchor=L(y(e),i,s(e),a,l,h,p),i.targetAnchor=F;else{i.anchor=y(e);let Z=F;for(;Z;)if(Z=y(Z),Z&&Z.nodeType===8&&Z.data==="teleport anchor"){i.targetAnchor=Z,ee._lpa=i.targetAnchor&&y(i.targetAnchor);break}L(F,i,ee,a,l,h,p)}wE(i)}return i.anchor&&y(i.anchor)}const bE=Jk;function wE(e){const i=e.ctx;if(i&&i.ut){let a=e.children[0].el;for(;a!==e.targetAnchor;)a.nodeType===1&&a.setAttribute("data-v-owner",i.uid),a=a.nextSibling;i.ut()}}const Fs=Symbol.for("v-fgt"),Ku=Symbol.for("v-txt"),Jo=Symbol.for("v-cmt"),Vu=Symbol.for("v-stc"),Ng=[];let dl=null;function Dr(e=!1){Ng.push(dl=e?null:[])}function TE(){Ng.pop(),dl=Ng[Ng.length-1]||null}let pf=1;function iv(e){pf+=e}function SE(e){return e.dynamicChildren=pf>0?dl||N0:null,TE(),pf>0&&dl&&dl.push(e),e}function ts(e,i,a,l,h,p){return SE(ii(e,i,a,l,h,p,!0))}function g1(e,i,a,l,h){return SE(vn(e,i,a,l,h,!0))}function qd(e){return e?e.__v_isVNode===!0:!1}function nh(e,i){return e.type===i.type&&e.key===i.key}function EE(e){}const Qv="__vInternal",CE=({key:e})=>e??null,By=({ref:e,ref_key:i,ref_for:a})=>(typeof e=="number"&&(e=""+e),e!=null?qn(e)||so(e)||Ln(e)?{i:Ro,r:e,k:i,f:!!a}:e:null);function ii(e,i=null,a=null,l=0,h=null,p=e===Fs?0:1,y=!1,s=!1){const b={__v_isVNode:!0,__v_skip:!0,type:e,props:i,key:i&&CE(i),ref:i&&By(i),scopeId:qv,slotScopeIds:null,children:a,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:p,patchFlag:l,dynamicProps:h,dynamicChildren:null,appContext:null,ctx:Ro};return s?(bw(b,a),p&128&&e.normalize(b)):a&&(b.shapeFlag|=qn(a)?8:16),pf>0&&!y&&dl&&(b.patchFlag>0||p&6)&&b.patchFlag!==32&&dl.push(b),b}const vn=eP;function eP(e,i=null,a=null,l=0,h=null,p=!1){if((!e||e===H8)&&(e=Jo),qd(e)){const s=oh(e,i,!0);return a&&bw(s,a),pf>0&&!p&&dl&&(s.shapeFlag&6?dl[dl.indexOf(e)]=s:dl.push(s)),s.patchFlag|=-2,s}if(sP(e)&&(e=e.__vccOpts),i){i=xw(i);let{class:s,style:b}=i;s&&!qn(s)&&(i.class=hm(s)),Wr(b)&&(jv(b)&&!Ji(b)&&(b=gr({},b)),i.style=cm(b))}const y=qn(e)?1:z8(e)?128:Kk(e)?64:Wr(e)?4:Ln(e)?2:0;return ii(e,i,a,l,h,y,p,!0)}function xw(e){return e?jv(e)||Qv in e?gr({},e):e:null}function oh(e,i,a=!1){const{props:l,ref:h,patchFlag:p,children:y}=e,s=i?e2(l||{},i):l;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&CE(s),ref:i&&i.ref?a&&h?Ji(h)?h.concat(By(i)):[h,By(i)]:By(i):h,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:y,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:i&&e.type!==Fs?p===-1?16:p|16:p,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&oh(e.ssContent),ssFallback:e.ssFallback&&oh(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function _1(e=" ",i=0){return vn(Ku,null,e,i)}function gm(e,i){const a=vn(Vu,null,e);return a.staticCount=i,a}function Ud(e="",i=!1){return i?(Dr(),g1(Jo,null,e)):vn(Jo,null,e)}function Wl(e){return e==null||typeof e=="boolean"?vn(Jo):Ji(e)?vn(Fs,null,e.slice()):typeof e=="object"?Ou(e):vn(Ku,null,String(e))}function Ou(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:oh(e)}function bw(e,i){let a=0;const{shapeFlag:l}=e;if(i==null)i=null;else if(Ji(i))a=16;else if(typeof i=="object")if(l&65){const h=i.default;h&&(h._c&&(h._d=!1),bw(e,h()),h._c&&(h._d=!0));return}else{a=32;const h=i._;!h&&!(Qv in i)?i._ctx=Ro:h===3&&Ro&&(Ro.slots._===1?i._=1:(i._=2,e.patchFlag|=1024))}else Ln(i)?(i={default:i,_ctx:Ro},a=32):(i=String(i),l&64?(a=16,i=[_1(i)]):a=8);e.children=i,e.shapeFlag|=a}function e2(...e){const i={};for(let a=0;a<e.length;a++){const l=e[a];for(const h in l)if(h==="class")i.class!==l.class&&(i.class=hm([i.class,l.class]));else if(h==="style")i.style=cm([i.style,l.style]);else if(gf(h)){const p=i[h],y=l[h];y&&p!==y&&!(Ji(p)&&p.includes(y))&&(i[h]=p?[].concat(p,y):y)}else h!==""&&(i[h]=l[h])}return i}function cl(e,i,a,l=null){pl(e,i,7,[a,l])}const tP=pE();let iP=0;function ME(e,i,a){const l=e.type,h=(i?i.appContext:e.appContext)||tP,p={uid:iP++,vnode:e,type:l,parent:i,appContext:h,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ov(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:i?i.provides:Object.create(h.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:gE(l,h),emitsOptions:O8(l,h),emit:null,emitted:null,propsDefaults:Gr,inheritAttrs:l.inheritAttrs,ctx:Gr,data:Gr,props:Gr,attrs:Gr,slots:Gr,refs:Gr,setupState:Gr,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return p.ctx={_:p},p.root=i?i.root:p,p.emit=xk.bind(null,p),e.ce&&e.ce(p),p}let ro=null;const Jh=()=>ro||Ro;let ww,D0,xT="__VUE_INSTANCE_SETTERS__";(D0=Kb()[xT])||(D0=Kb()[xT]=[]),D0.push(e=>ro=e),ww=e=>{D0.length>1?D0.forEach(i=>i(e)):D0[0](e)};const Ju=e=>{ww(e),e.scope.on()},Gu=()=>{ro&&ro.scope.off(),ww(null)};function AE(e){return e.vnode.shapeFlag&4}let J0=!1;function kE(e,i=!1){J0=i;const{props:a,children:l}=e.vnode,h=AE(e);Wk(e,a,h,i),qk(e,l);const p=h?nP(e,i):void 0;return J0=!1,p}function nP(e,i){const a=e.type;e.accessCache=Object.create(null),e.proxy=Uv(new Proxy(e.ctx,n3));const{setup:l}=a;if(l){const h=e.setupContext=l.length>1?LE(e):null;Ju(e),um();const p=Xh(l,e,0,[e.props,h]);if(pm(),Gu(),V3(p)){if(p.then(Gu,Gu),i)return p.then(y=>{l3(e,y,i)}).catch(y=>{np(y,e,0)});e.asyncDep=p}else l3(e,p,i)}else IE(e,i)}function l3(e,i,a){Ln(i)?e.type.__ssrInlineRender?e.ssrRender=i:e.render=i:Wr(i)&&(e.setupState=Gv(i)),IE(e,a)}let nv,c3;function Tw(e){nv=e,c3=i=>{i.render._rc&&(i.withProxy=new Proxy(i.ctx,zk))}}const PE=()=>!nv;function IE(e,i,a){const l=e.type;if(!e.render){if(!i&&nv&&!l.render){const h=l.template||mw(e).template;if(h){const{isCustomElement:p,compilerOptions:y}=e.appContext.config,{delimiters:s,compilerOptions:b}=l,L=gr(gr({isCustomElement:p,delimiters:s},y),b);l.render=nv(h,L)}}e.render=l.render||Ba,c3&&c3(e)}Ju(e),um(),Bk(e),pm(),Gu()}function rP(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(i,a){return ml(e,"get","$attrs"),i[a]}}))}function LE(e){const i=a=>{e.exposed=a||{}};return{get attrs(){return rP(e)},slots:e.slots,emit:e.emit,expose:i}}function t2(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Gv(Uv(e.exposed)),{get(i,a){if(a in i)return i[a];if(a in Bg)return Bg[a](e)},has(i,a){return a in i||a in Bg}}))}function h3(e,i=!0){return Ln(e)?e.displayName||e.name:e.name||i&&e.__name}function sP(e){return Ln(e)&&"__vccOpts"in e}const _m=(e,i)=>mk(e,i,J0);function hl(e,i,a){const l=arguments.length;return l===2?Wr(i)&&!Ji(i)?qd(i)?vn(e,null,[i]):vn(e,i):vn(e,null,i):(l>3?a=Array.prototype.slice.call(arguments,2):l===3&&qd(a)&&(a=[a]),vn(e,i,a))}const Sw=Symbol.for("v-scx"),Ew=()=>cf(Sw);function DE(){}function OE(e,i,a,l){const h=a[l];if(h&&Cw(h,e))return h;const p=i();return p.memo=e.slice(),a[l]=p}function Cw(e,i){const a=e.memo;if(a.length!=i.length)return!1;for(let l=0;l<a.length;l++)if(Z0(a[l],i[l]))return!1;return pf>0&&dl&&dl.push(e),!0}const Mw="3.3.4",oP={createComponentInstance:ME,setupComponent:kE,renderComponentRoot:zy,setCurrentRenderingInstance:Yg,isVNode:qd,normalizeVNode:Wl},RE=oP,zE=null,BE=null,aP="http://www.w3.org/2000/svg",ef=typeof document<"u"?document:null,bT=ef&&ef.createElement("template"),lP={insert:(e,i,a)=>{i.insertBefore(e,a||null)},remove:e=>{const i=e.parentNode;i&&i.removeChild(e)},createElement:(e,i,a,l)=>{const h=i?ef.createElementNS(aP,e):ef.createElement(e,a?{is:a}:void 0);return e==="select"&&l&&l.multiple!=null&&h.setAttribute("multiple",l.multiple),h},createText:e=>ef.createTextNode(e),createComment:e=>ef.createComment(e),setText:(e,i)=>{e.nodeValue=i},setElementText:(e,i)=>{e.textContent=i},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ef.querySelector(e),setScopeId(e,i){e.setAttribute(i,"")},insertStaticContent(e,i,a,l,h,p){const y=a?a.previousSibling:i.lastChild;if(h&&(h===p||h.nextSibling))for(;i.insertBefore(h.cloneNode(!0),a),!(h===p||!(h=h.nextSibling)););else{bT.innerHTML=l?`<svg>${e}</svg>`:e;const s=bT.content;if(l){const b=s.firstChild;for(;b.firstChild;)s.appendChild(b.firstChild);s.removeChild(b)}i.insertBefore(s,a)}return[y?y.nextSibling:i.firstChild,a?a.previousSibling:i.lastChild]}};function cP(e,i,a){const l=e._vtc;l&&(i=(i?[i,...l]:[...l]).join(" ")),i==null?e.removeAttribute("class"):a?e.setAttribute("class",i):e.className=i}function hP(e,i,a){const l=e.style,h=qn(a);if(a&&!h){if(i&&!qn(i))for(const p in i)a[p]==null&&d3(l,p,"");for(const p in a)d3(l,p,a[p])}else{const p=l.display;h?i!==a&&(l.cssText=a):i&&e.removeAttribute("style"),"_vod"in e&&(l.display=p)}}const wT=/\s*!important$/;function d3(e,i,a){if(Ji(a))a.forEach(l=>d3(e,i,l));else if(a==null&&(a=""),i.startsWith("--"))e.setProperty(i,a);else{const l=dP(e,i);wT.test(a)?e.setProperty(Hl(l),a.replace(wT,""),"important"):e[l]=a}}const TT=["Webkit","Moz","ms"],wb={};function dP(e,i){const a=wb[i];if(a)return a;let l=Ys(i);if(l!=="filter"&&l in e)return wb[i]=l;l=ip(l);for(let h=0;h<TT.length;h++){const p=TT[h]+l;if(p in e)return wb[i]=p}return i}const ST="http://www.w3.org/1999/xlink";function uP(e,i,a,l,h){if(l&&i.startsWith("xlink:"))a==null?e.removeAttributeNS(ST,i.slice(6,i.length)):e.setAttributeNS(ST,i,a);else{const p=DA(i);a==null||p&&!t8(a)?e.removeAttribute(i):e.setAttribute(i,p?"":a)}}function pP(e,i,a,l,h,p,y){if(i==="innerHTML"||i==="textContent"){l&&y(l,h,p),e[i]=a??"";return}const s=e.tagName;if(i==="value"&&s!=="PROGRESS"&&!s.includes("-")){e._value=a;const L=s==="OPTION"?e.getAttribute("value"):e.value,ee=a??"";L!==ee&&(e.value=ee),a==null&&e.removeAttribute(i);return}let b=!1;if(a===""||a==null){const L=typeof e[i];L==="boolean"?a=t8(a):a==null&&L==="string"?(a="",b=!0):L==="number"&&(a=0,b=!0)}try{e[i]=a}catch{}b&&e.removeAttribute(i)}function jd(e,i,a,l){e.addEventListener(i,a,l)}function fP(e,i,a,l){e.removeEventListener(i,a,l)}function mP(e,i,a,l,h=null){const p=e._vei||(e._vei={}),y=p[i];if(l&&y)y.value=l;else{const[s,b]=gP(i);if(l){const L=p[i]=vP(l,h);jd(e,s,L,b)}else y&&(fP(e,s,y,b),p[i]=void 0)}}const ET=/(?:Once|Passive|Capture)$/;function gP(e){let i;if(ET.test(e)){i={};let l;for(;l=e.match(ET);)e=e.slice(0,e.length-l[0].length),i[l[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Hl(e.slice(2)),i]}let Tb=0;const _P=Promise.resolve(),yP=()=>Tb||(_P.then(()=>Tb=0),Tb=Date.now());function vP(e,i){const a=l=>{if(!l._vts)l._vts=Date.now();else if(l._vts<=a.attached)return;pl(xP(l,a.value),i,5,[l])};return a.value=e,a.attached=yP(),a}function xP(e,i){if(Ji(i)){const a=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{a.call(e),e._stopped=!0},i.map(l=>h=>!h._stopped&&l&&l(h))}else return i}const CT=/^on[a-z]/,bP=(e,i,a,l,h=!1,p,y,s,b)=>{i==="class"?cP(e,l,h):i==="style"?hP(e,a,l):gf(i)?j3(i)||mP(e,i,a,l,y):(i[0]==="."?(i=i.slice(1),!0):i[0]==="^"?(i=i.slice(1),!1):wP(e,i,l,h))?pP(e,i,l,p,y,s,b):(i==="true-value"?e._trueValue=l:i==="false-value"&&(e._falseValue=l),uP(e,i,l,h))};function wP(e,i,a,l){return l?!!(i==="innerHTML"||i==="textContent"||i in e&&CT.test(i)&&Ln(a)):i==="spellcheck"||i==="draggable"||i==="translate"||i==="form"||i==="list"&&e.tagName==="INPUT"||i==="type"&&e.tagName==="TEXTAREA"||CT.test(i)&&qn(a)?!1:i in e}function Aw(e,i){const a=Zv(e);class l extends y1{constructor(p){super(a,p,i)}}return l.def=a,l}const FE=e=>Aw(e,Lw),TP=typeof HTMLElement<"u"?HTMLElement:class{};class y1 extends TP{constructor(i,a={},l){super(),this._def=i,this._props=a,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&l?l(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,fm(()=>{this._connected||(rv(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let l=0;l<this.attributes.length;l++)this._setAttr(this.attributes[l].name);new MutationObserver(l=>{for(const h of l)this._setAttr(h.attributeName)}).observe(this,{attributes:!0});const i=(l,h=!1)=>{const{props:p,styles:y}=l;let s;if(p&&!Ji(p))for(const b in p){const L=p[b];(L===Number||L&&L.type===Number)&&(b in this._props&&(this._props[b]=Zy(this._props[b])),(s||(s=Object.create(null)))[Ys(b)]=!0)}this._numberProps=s,h&&this._resolveProps(l),this._applyStyles(y),this._update()},a=this._def.__asyncLoader;a?a().then(l=>i(l,!0)):i(this._def)}_resolveProps(i){const{props:a}=i,l=Ji(a)?a:Object.keys(a||{});for(const h of Object.keys(this))h[0]!=="_"&&l.includes(h)&&this._setProp(h,this[h],!0,!1);for(const h of l.map(Ys))Object.defineProperty(this,h,{get(){return this._getProp(h)},set(p){this._setProp(h,p)}})}_setAttr(i){let a=this.getAttribute(i);const l=Ys(i);this._numberProps&&this._numberProps[l]&&(a=Zy(a)),this._setProp(l,a,!1)}_getProp(i){return this._props[i]}_setProp(i,a,l=!0,h=!0){a!==this._props[i]&&(this._props[i]=a,h&&this._instance&&this._update(),l&&(a===!0?this.setAttribute(Hl(i),""):typeof a=="string"||typeof a=="number"?this.setAttribute(Hl(i),a+""):a||this.removeAttribute(Hl(i))))}_update(){rv(this._createVNode(),this.shadowRoot)}_createVNode(){const i=vn(this._def,gr({},this._props));return this._instance||(i.ce=a=>{this._instance=a,a.isCE=!0;const l=(p,y)=>{this.dispatchEvent(new CustomEvent(p,{detail:y}))};a.emit=(p,...y)=>{l(p,y),Hl(p)!==p&&l(Hl(p),y)};let h=this;for(;h=h&&(h.parentNode||h.host);)if(h instanceof y1){a.parent=h._instance,a.provides=h._instance.provides;break}}),i}_applyStyles(i){i&&i.forEach(a=>{const l=document.createElement("style");l.textContent=a,this.shadowRoot.appendChild(l)})}}function NE(e="$style"){{const i=Jh();if(!i)return Gr;const a=i.type.__cssModules;if(!a)return Gr;const l=a[e];return l||Gr}}function jE(e){const i=Jh();if(!i)return;const a=i.ut=(h=e(i.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${i.uid}"]`)).forEach(p=>p3(p,h))},l=()=>{const h=e(i.proxy);u3(i.subTree,h),a(h)};iw(l),Kh(()=>{const h=new MutationObserver(l);h.observe(i.subTree.el.parentNode,{childList:!0}),xf(()=>h.disconnect())})}function u3(e,i){if(e.shapeFlag&128){const a=e.suspense;e=a.activeBranch,a.pendingBranch&&!a.isHydrating&&a.effects.push(()=>{u3(a.activeBranch,i)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)p3(e.el,i);else if(e.type===Fs)e.children.forEach(a=>u3(a,i));else if(e.type===Vu){let{el:a,anchor:l}=e;for(;a&&(p3(a,i),a!==l);)a=a.nextSibling}}function p3(e,i){if(e.nodeType===1){const a=e.style;for(const l in i)a.setProperty(`--${l}`,i[l])}}const Iu="transition",kg="animation",i2=(e,{slots:i})=>hl(rw,VE(e),i);i2.displayName="Transition";const UE={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},SP=i2.props=gr({},Yv,UE),Xp=(e,i=[])=>{Ji(e)?e.forEach(a=>a(...i)):e&&e(...i)},MT=e=>e?Ji(e)?e.some(i=>i.length>1):e.length>1:!1;function VE(e){const i={};for(const q in e)q in UE||(i[q]=e[q]);if(e.css===!1)return i;const{name:a="v",type:l,duration:h,enterFromClass:p=`${a}-enter-from`,enterActiveClass:y=`${a}-enter-active`,enterToClass:s=`${a}-enter-to`,appearFromClass:b=p,appearActiveClass:L=y,appearToClass:ee=s,leaveFromClass:F=`${a}-leave-from`,leaveActiveClass:Z=`${a}-leave-active`,leaveToClass:ne=`${a}-leave-to`}=e,z=EP(h),G=z&&z[0],ae=z&&z[1],{onBeforeEnter:B,onEnter:P,onEnterCancelled:V,onLeave:W,onLeaveCancelled:R,onBeforeAppear:se=B,onAppear:S=P,onAppearCancelled:X=V}=i,I=(q,J,C)=>{Du(q,J?ee:s),Du(q,J?L:y),C&&C()},$=(q,J)=>{q._isLeaving=!1,Du(q,F),Du(q,ne),Du(q,Z),J&&J()},K=q=>(J,C)=>{const A=q?S:P,O=()=>I(J,q,C);Xp(A,[J,O]),AT(()=>{Du(J,q?b:p),zd(J,q?ee:s),MT(A)||kT(J,l,G,O)})};return gr(i,{onBeforeEnter(q){Xp(B,[q]),zd(q,p),zd(q,y)},onBeforeAppear(q){Xp(se,[q]),zd(q,b),zd(q,L)},onEnter:K(!1),onAppear:K(!0),onLeave(q,J){q._isLeaving=!0;const C=()=>$(q,J);zd(q,F),WE(),zd(q,Z),AT(()=>{q._isLeaving&&(Du(q,F),zd(q,ne),MT(W)||kT(q,l,ae,C))}),Xp(W,[q,C])},onEnterCancelled(q){I(q,!1),Xp(V,[q])},onAppearCancelled(q){I(q,!0),Xp(X,[q])},onLeaveCancelled(q){$(q),Xp(R,[q])}})}function EP(e){if(e==null)return null;if(Wr(e))return[Sb(e.enter),Sb(e.leave)];{const i=Sb(e);return[i,i]}}function Sb(e){return Zy(e)}function zd(e,i){i.split(/\s+/).forEach(a=>a&&e.classList.add(a)),(e._vtc||(e._vtc=new Set)).add(i)}function Du(e,i){i.split(/\s+/).forEach(l=>l&&e.classList.remove(l));const{_vtc:a}=e;a&&(a.delete(i),a.size||(e._vtc=void 0))}function AT(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let CP=0;function kT(e,i,a,l){const h=e._endId=++CP,p=()=>{h===e._endId&&l()};if(a)return setTimeout(p,a);const{type:y,timeout:s,propCount:b}=GE(e,i);if(!y)return l();const L=y+"end";let ee=0;const F=()=>{e.removeEventListener(L,Z),p()},Z=ne=>{ne.target===e&&++ee>=b&&F()};setTimeout(()=>{ee<b&&F()},s+1),e.addEventListener(L,Z)}function GE(e,i){const a=window.getComputedStyle(e),l=z=>(a[z]||"").split(", "),h=l(`${Iu}Delay`),p=l(`${Iu}Duration`),y=PT(h,p),s=l(`${kg}Delay`),b=l(`${kg}Duration`),L=PT(s,b);let ee=null,F=0,Z=0;i===Iu?y>0&&(ee=Iu,F=y,Z=p.length):i===kg?L>0&&(ee=kg,F=L,Z=b.length):(F=Math.max(y,L),ee=F>0?y>L?Iu:kg:null,Z=ee?ee===Iu?p.length:b.length:0);const ne=ee===Iu&&/\b(transform|all)(,|$)/.test(l(`${Iu}Property`).toString());return{type:ee,timeout:F,propCount:Z,hasTransform:ne}}function PT(e,i){for(;e.length<i.length;)e=e.concat(e);return Math.max(...i.map((a,l)=>IT(a)+IT(e[l])))}function IT(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function WE(){return document.body.offsetHeight}const $E=new WeakMap,HE=new WeakMap,qE={name:"TransitionGroup",props:gr({},SP,{tag:String,moveClass:String}),setup(e,{slots:i}){const a=Jh(),l=Xv();let h,p;return yf(()=>{if(!h.length)return;const y=e.moveClass||`${e.name||"v"}-move`;if(!IP(h[0].el,a.vnode.el,y))return;h.forEach(AP),h.forEach(kP);const s=h.filter(PP);WE(),s.forEach(b=>{const L=b.el,ee=L.style;zd(L,y),ee.transform=ee.webkitTransform=ee.transitionDuration="";const F=L._moveCb=Z=>{Z&&Z.target!==L||(!Z||/transform$/.test(Z.propertyName))&&(L.removeEventListener("transitionend",F),L._moveCb=null,Du(L,y))};L.addEventListener("transitionend",F)})}),()=>{const y=ur(e),s=VE(y);let b=y.tag||Fs;h=p,p=i.default?p1(i.default()):[];for(let L=0;L<p.length;L++){const ee=p[L];ee.key!=null&&Zu(ee,uf(ee,s,l,a))}if(h)for(let L=0;L<h.length;L++){const ee=h[L];Zu(ee,uf(ee,s,l,a)),$E.set(ee,ee.el.getBoundingClientRect())}return vn(b,null,p)}}},MP=e=>delete e.mode;qE.props;const XE=qE;function AP(e){const i=e.el;i._moveCb&&i._moveCb(),i._enterCb&&i._enterCb()}function kP(e){HE.set(e,e.el.getBoundingClientRect())}function PP(e){const i=$E.get(e),a=HE.get(e),l=i.left-a.left,h=i.top-a.top;if(l||h){const p=e.el.style;return p.transform=p.webkitTransform=`translate(${l}px,${h}px)`,p.transitionDuration="0s",e}}function IP(e,i,a){const l=e.cloneNode();e._vtc&&e._vtc.forEach(y=>{y.split(/\s+/).forEach(s=>s&&l.classList.remove(s))}),a.split(/\s+/).forEach(y=>y&&l.classList.add(y)),l.style.display="none";const h=i.nodeType===1?i:i.parentNode;h.appendChild(l);const{hasTransform:p}=GE(l);return h.removeChild(l),p}const Qu=e=>{const i=e.props["onUpdate:modelValue"]||!1;return Ji(i)?a=>U0(i,a):i};function LP(e){e.target.composing=!0}function LT(e){const i=e.target;i.composing&&(i.composing=!1,i.dispatchEvent(new Event("input")))}const Q0={created(e,{modifiers:{lazy:i,trim:a,number:l}},h){e._assign=Qu(h);const p=l||h.props&&h.props.type==="number";jd(e,i?"change":"input",y=>{if(y.target.composing)return;let s=e.value;a&&(s=s.trim()),p&&(s=Yy(s)),e._assign(s)}),a&&jd(e,"change",()=>{e.value=e.value.trim()}),i||(jd(e,"compositionstart",LP),jd(e,"compositionend",LT),jd(e,"change",LT))},mounted(e,{value:i}){e.value=i??""},beforeUpdate(e,{value:i,modifiers:{lazy:a,trim:l,number:h}},p){if(e._assign=Qu(p),e.composing||document.activeElement===e&&e.type!=="range"&&(a||l&&e.value.trim()===i||(h||e.type==="number")&&Yy(e.value)===i))return;const y=i??"";e.value!==y&&(e.value=y)}},n2={deep:!0,created(e,i,a){e._assign=Qu(a),jd(e,"change",()=>{const l=e._modelValue,h=em(e),p=e.checked,y=e._assign;if(Ji(l)){const s=Dv(l,h),b=s!==-1;if(p&&!b)y(l.concat(h));else if(!p&&b){const L=[...l];L.splice(s,1),y(L)}}else if(_f(l)){const s=new Set(l);p?s.add(h):s.delete(h),y(s)}else y(YE(e,p))})},mounted:DT,beforeUpdate(e,i,a){e._assign=Qu(a),DT(e,i,a)}};function DT(e,{value:i,oldValue:a},l){e._modelValue=i,Ji(i)?e.checked=Dv(i,l.props.value)>-1:_f(i)?e.checked=i.has(l.props.value):i!==a&&(e.checked=qu(i,YE(e,!0)))}const r2={created(e,{value:i},a){e.checked=qu(i,a.props.value),e._assign=Qu(a),jd(e,"change",()=>{e._assign(em(e))})},beforeUpdate(e,{value:i,oldValue:a},l){e._assign=Qu(l),i!==a&&(e.checked=qu(i,l.props.value))}},kw={deep:!0,created(e,{value:i,modifiers:{number:a}},l){const h=_f(i);jd(e,"change",()=>{const p=Array.prototype.filter.call(e.options,y=>y.selected).map(y=>a?Yy(em(y)):em(y));e._assign(e.multiple?h?new Set(p):p:p[0])}),e._assign=Qu(l)},mounted(e,{value:i}){OT(e,i)},beforeUpdate(e,i,a){e._assign=Qu(a)},updated(e,{value:i}){OT(e,i)}};function OT(e,i){const a=e.multiple;if(!(a&&!Ji(i)&&!_f(i))){for(let l=0,h=e.options.length;l<h;l++){const p=e.options[l],y=em(p);if(a)Ji(i)?p.selected=Dv(i,y)>-1:p.selected=i.has(y);else if(qu(em(p),i)){e.selectedIndex!==l&&(e.selectedIndex=l);return}}!a&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function em(e){return"_value"in e?e._value:e.value}function YE(e,i){const a=i?"_trueValue":"_falseValue";return a in e?e[a]:i}const Pw={created(e,i,a){wy(e,i,a,null,"created")},mounted(e,i,a){wy(e,i,a,null,"mounted")},beforeUpdate(e,i,a,l){wy(e,i,a,l,"beforeUpdate")},updated(e,i,a,l){wy(e,i,a,l,"updated")}};function ZE(e,i){switch(e){case"SELECT":return kw;case"TEXTAREA":return Q0;default:switch(i){case"checkbox":return n2;case"radio":return r2;default:return Q0}}}function wy(e,i,a,l,h){const y=ZE(e.tagName,a.props&&a.props.type)[h];y&&y(e,i,a,l)}function DP(){Q0.getSSRProps=({value:e})=>({value:e}),r2.getSSRProps=({value:e},i)=>{if(i.props&&qu(i.props.value,e))return{checked:!0}},n2.getSSRProps=({value:e},i)=>{if(Ji(e)){if(i.props&&Dv(e,i.props.value)>-1)return{checked:!0}}else if(_f(e)){if(i.props&&e.has(i.props.value))return{checked:!0}}else if(e)return{checked:!0}},Pw.getSSRProps=(e,i)=>{if(typeof i.type!="string")return;const a=ZE(i.type.toUpperCase(),i.props&&i.props.type);if(a.getSSRProps)return a.getSSRProps(e,i)}}const OP=["ctrl","shift","alt","meta"],RP={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,i)=>OP.some(a=>e[`${a}Key`]&&!i.includes(a))},KE=(e,i)=>(a,...l)=>{for(let h=0;h<i.length;h++){const p=RP[i[h]];if(p&&p(a,i))return}return e(a,...l)},zP={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},JE=(e,i)=>a=>{if(!("key"in a))return;const l=Hl(a.key);if(i.some(h=>h===l||zP[h]===l))return e(a)},Iw={beforeMount(e,{value:i},{transition:a}){e._vod=e.style.display==="none"?"":e.style.display,a&&i?a.beforeEnter(e):Pg(e,i)},mounted(e,{value:i},{transition:a}){a&&i&&a.enter(e)},updated(e,{value:i,oldValue:a},{transition:l}){!i!=!a&&(l?i?(l.beforeEnter(e),Pg(e,!0),l.enter(e)):l.leave(e,()=>{Pg(e,!1)}):Pg(e,i))},beforeUnmount(e,{value:i}){Pg(e,i)}};function Pg(e,i){e.style.display=i?e._vod:"none"}function BP(){Iw.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const QE=gr({patchProp:bP},lP);let jg,RT=!1;function e4(){return jg||(jg=_w(QE))}function t4(){return jg=RT?jg:yw(QE),RT=!0,jg}const rv=(...e)=>{e4().render(...e)},Lw=(...e)=>{t4().hydrate(...e)},Dw=(...e)=>{const i=e4().createApp(...e),{mount:a}=i;return i.mount=l=>{const h=n4(l);if(!h)return;const p=i._component;!Ln(p)&&!p.render&&!p.template&&(p.template=h.innerHTML),h.innerHTML="";const y=a(h,!1,h instanceof SVGElement);return h instanceof Element&&(h.removeAttribute("v-cloak"),h.setAttribute("data-v-app","")),y},i},i4=(...e)=>{const i=t4().createApp(...e),{mount:a}=i;return i.mount=l=>{const h=n4(l);if(h)return a(h,!0,h instanceof SVGElement)},i};function n4(e){return qn(e)?document.querySelector(e):e}let zT=!1;const r4=()=>{zT||(zT=!0,DP(),BP())},FP=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:rw,BaseTransitionPropsValidators:Yv,Comment:Jo,EffectScope:Ov,Fragment:Fs,KeepAlive:W8,ReactiveEffect:dm,Static:Vu,Suspense:B8,Teleport:bE,Text:Ku,Transition:i2,TransitionGroup:XE,VueElement:y1,assertNumber:P8,callWithAsyncErrorHandling:pl,callWithErrorHandling:Xh,camelize:Ys,capitalize:ip,cloneVNode:oh,compatUtils:BE,computed:_m,createApp:Dw,createBlock:g1,createCommentVNode:Ud,createElementBlock:ts,createElementVNode:ii,createHydrationRenderer:yw,createPropsRestProxy:hE,createRenderer:_w,createSSRApp:i4,createSlots:Y8,createStaticVNode:gm,createTextVNode:_1,createVNode:vn,customRef:E8,defineAsyncComponent:G8,defineComponent:Zv,defineCustomElement:Aw,defineEmits:Q8,defineExpose:eE,defineModel:nE,defineOptions:tE,defineProps:J8,defineSSRCustomElement:FE,defineSlots:iE,get devtools(){return Qp},effect:l8,effectScope:n8,getCurrentInstance:Jh,getCurrentScope:W3,getTransitionRawChildren:p1,guardReactiveProps:xw,h:hl,handleError:np,hasInjectionContext:fE,hydrate:Lw,initCustomFormatter:DE,initDirectivesForSSR:r4,inject:cf,isMemoSame:Cw,isProxy:jv,isReactive:Uu,isReadonly:Yu,isRef:so,isRuntimeOnly:PE,isShallow:K0,isVNode:qd,markRaw:Uv,mergeDefaults:lE,mergeModels:cE,mergeProps:e2,nextTick:fm,normalizeClass:hm,normalizeProps:e8,normalizeStyle:cm,onActivated:sw,onBeforeMount:aw,onBeforeUnmount:vf,onBeforeUpdate:Jv,onDeactivated:ow,onErrorCaptured:dw,onMounted:Kh,onRenderTracked:hw,onRenderTriggered:cw,onScopeDispose:s8,onServerPrefetch:lw,onUnmounted:xf,onUpdated:yf,openBlock:Dr,popScopeId:Q3,provide:mm,proxyRefs:Gv,pushScopeId:J3,queuePostFlushCb:$v,reactive:d1,readonly:Fv,ref:ms,registerRuntimeCompiler:Tw,render:rv,renderList:m1,renderSlot:Qy,resolveComponent:za,resolveDirective:X8,resolveDynamicComponent:q8,resolveFilter:zE,resolveTransitionHooks:uf,setBlockTracking:iv,setDevtoolsHook:K3,setTransitionHooks:Zu,shallowReactive:q3,shallowReadonly:x8,shallowRef:b8,ssrContextKey:Sw,ssrUtils:RE,stop:c8,toDisplayString:Ru,toHandlerKey:of,toHandlers:K8,toRaw:ur,toRef:M8,toRefs:C8,toValue:S8,transformVNodeArgs:EE,triggerRef:T8,unref:Xs,useAttrs:fw,useCssModule:NE,useCssVars:jE,useModel:oE,useSSRContext:Ew,useSlots:sE,useTransitionState:Xv,vModelCheckbox:n2,vModelDynamic:Pw,vModelRadio:r2,vModelSelect:kw,vModelText:Q0,vShow:Iw,version:Mw,warn:k8,watch:fl,watchEffect:N8,watchPostEffect:iw,watchSyncEffect:j8,withAsyncContext:dE,withCtx:Ko,withDefaults:rE,withDirectives:nw,withKeys:JE,withMemo:OE,withModifiers:KE,withScopeId:R8},Symbol.toStringTag,{value:"Module"}));function Ow(e){throw e}function s4(e){}function Ss(e,i,a,l){const h=e,p=new SyntaxError(String(h));return p.code=e,p.loc=i,p}const Qg=Symbol(""),Ug=Symbol(""),Rw=Symbol(""),sv=Symbol(""),o4=Symbol(""),ff=Symbol(""),a4=Symbol(""),l4=Symbol(""),zw=Symbol(""),Bw=Symbol(""),v1=Symbol(""),Fw=Symbol(""),c4=Symbol(""),Nw=Symbol(""),ov=Symbol(""),jw=Symbol(""),Uw=Symbol(""),Vw=Symbol(""),Gw=Symbol(""),h4=Symbol(""),d4=Symbol(""),s2=Symbol(""),av=Symbol(""),Ww=Symbol(""),$w=Symbol(""),e1=Symbol(""),x1=Symbol(""),Hw=Symbol(""),f3=Symbol(""),NP=Symbol(""),m3=Symbol(""),lv=Symbol(""),jP=Symbol(""),UP=Symbol(""),qw=Symbol(""),VP=Symbol(""),GP=Symbol(""),Xw=Symbol(""),u4=Symbol(""),tm={[Qg]:"Fragment",[Ug]:"Teleport",[Rw]:"Suspense",[sv]:"KeepAlive",[o4]:"BaseTransition",[ff]:"openBlock",[a4]:"createBlock",[l4]:"createElementBlock",[zw]:"createVNode",[Bw]:"createElementVNode",[v1]:"createCommentVNode",[Fw]:"createTextVNode",[c4]:"createStaticVNode",[Nw]:"resolveComponent",[ov]:"resolveDynamicComponent",[jw]:"resolveDirective",[Uw]:"resolveFilter",[Vw]:"withDirectives",[Gw]:"renderList",[h4]:"renderSlot",[d4]:"createSlots",[s2]:"toDisplayString",[av]:"mergeProps",[Ww]:"normalizeClass",[$w]:"normalizeStyle",[e1]:"normalizeProps",[x1]:"guardReactiveProps",[Hw]:"toHandlers",[f3]:"camelize",[NP]:"capitalize",[m3]:"toHandlerKey",[lv]:"setBlockTracking",[jP]:"pushScopeId",[UP]:"popScopeId",[qw]:"withCtx",[VP]:"unref",[GP]:"isRef",[Xw]:"withMemo",[u4]:"isMemoSame"};function WP(e){Object.getOwnPropertySymbols(e).forEach(i=>{tm[i]=e[i]})}const Xl={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function $P(e,i=Xl){return{type:0,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:i}}function t1(e,i,a,l,h,p,y,s=!1,b=!1,L=!1,ee=Xl){return e&&(s?(e.helper(ff),e.helper(rm(e.inSSR,L))):e.helper(nm(e.inSSR,L)),y&&e.helper(Vw)),{type:13,tag:i,props:a,children:l,patchFlag:h,dynamicProps:p,directives:y,isBlock:s,disableTracking:b,isComponent:L,loc:ee}}function b1(e,i=Xl){return{type:17,loc:i,elements:e}}function bc(e,i=Xl){return{type:15,loc:i,properties:e}}function Ns(e,i){return{type:16,loc:Xl,key:qn(e)?ir(e,!0):e,value:i}}function ir(e,i=!1,a=Xl,l=0){return{type:4,loc:a,content:e,isStatic:i,constType:i?3:l}}function sh(e,i=Xl){return{type:8,loc:i,children:e}}function no(e,i=[],a=Xl){return{type:14,loc:a,callee:e,arguments:i}}function im(e,i=void 0,a=!1,l=!1,h=Xl){return{type:18,params:e,returns:i,newline:a,isSlot:l,loc:h}}function g3(e,i,a,l=!0){return{type:19,test:e,consequent:i,alternate:a,newline:l,loc:Xl}}function HP(e,i,a=!1){return{type:20,index:e,value:i,isVNode:a,loc:Xl}}function qP(e){return{type:21,body:e,loc:Xl}}function nm(e,i){return e||i?zw:Bw}function rm(e,i){return e||i?a4:l4}function Yw(e,{helper:i,removeHelper:a,inSSR:l}){e.isBlock||(e.isBlock=!0,a(nm(l,e.isComponent)),i(ff),i(rm(l,e.isComponent)))}const ul=e=>e.type===4&&e.isStatic,B0=(e,i)=>e===i||e===Hl(i);function p4(e){if(B0(e,"Teleport"))return Ug;if(B0(e,"Suspense"))return Rw;if(B0(e,"KeepAlive"))return sv;if(B0(e,"BaseTransition"))return o4}const XP=/^\d|[^\$\w]/,Zw=e=>!XP.test(e),YP=/[A-Za-z_$\xA0-\uFFFF]/,ZP=/[\.\?\w$\xA0-\uFFFF]/,KP=/\s+[.[]\s*|\s*[.[]\s+/g,JP=e=>{e=e.trim().replace(KP,y=>y.trim());let i=0,a=[],l=0,h=0,p=null;for(let y=0;y<e.length;y++){const s=e.charAt(y);switch(i){case 0:if(s==="[")a.push(i),i=1,l++;else if(s==="(")a.push(i),i=2,h++;else if(!(y===0?YP:ZP).test(s))return!1;break;case 1:s==="'"||s==='"'||s==="`"?(a.push(i),i=3,p=s):s==="["?l++:s==="]"&&(--l||(i=a.pop()));break;case 2:if(s==="'"||s==='"'||s==="`")a.push(i),i=3,p=s;else if(s==="(")h++;else if(s===")"){if(y===e.length-1)return!1;--h||(i=a.pop())}break;case 3:s===p&&(i=a.pop(),p=null);break}}return!l&&!h},f4=JP;function m4(e,i,a){const h={source:e.source.slice(i,i+a),start:cv(e.start,e.source,i),end:e.end};return a!=null&&(h.end=cv(e.start,e.source,i+a)),h}function cv(e,i,a=i.length){return hv(gr({},e),i,a)}function hv(e,i,a=i.length){let l=0,h=-1;for(let p=0;p<a;p++)i.charCodeAt(p)===10&&(l++,h=p);return e.offset+=a,e.line+=l,e.column=h===-1?e.column+a:a-h,e}function vc(e,i,a=!1){for(let l=0;l<e.props.length;l++){const h=e.props[l];if(h.type===7&&(a||h.exp)&&(qn(i)?h.name===i:i.test(h.name)))return h}}function o2(e,i,a=!1,l=!1){for(let h=0;h<e.props.length;h++){const p=e.props[h];if(p.type===6){if(a)continue;if(p.name===i&&(p.value||l))return p}else if(p.name==="bind"&&(p.exp||l)&&nf(p.arg,i))return p}}function nf(e,i){return!!(e&&ul(e)&&e.content===i)}function QP(e){return e.props.some(i=>i.type===7&&i.name==="bind"&&(!i.arg||i.arg.type!==4||!i.arg.isStatic))}function Eb(e){return e.type===5||e.type===2}function eI(e){return e.type===7&&e.name==="slot"}function dv(e){return e.type===1&&e.tagType===3}function uv(e){return e.type===1&&e.tagType===2}const tI=new Set([e1,x1]);function g4(e,i=[]){if(e&&!qn(e)&&e.type===14){const a=e.callee;if(!qn(a)&&tI.has(a))return g4(e.arguments[0],i.concat(e))}return[e,i]}function pv(e,i,a){let l,h=e.type===13?e.props:e.arguments[2],p=[],y;if(h&&!qn(h)&&h.type===14){const s=g4(h);h=s[0],p=s[1],y=p[p.length-1]}if(h==null||qn(h))l=bc([i]);else if(h.type===14){const s=h.arguments[0];!qn(s)&&s.type===15?BT(i,s)||s.properties.unshift(i):h.callee===Hw?l=no(a.helper(av),[bc([i]),h]):h.arguments.unshift(bc([i])),!l&&(l=h)}else h.type===15?(BT(i,h)||h.properties.unshift(i),l=h):(l=no(a.helper(av),[bc([i]),h]),y&&y.callee===x1&&(y=p[p.length-2]));e.type===13?y?y.arguments[0]=l:e.props=l:y?y.arguments[0]=l:e.arguments[2]=l}function BT(e,i){let a=!1;if(e.key.type===4){const l=e.key.content;a=i.properties.some(h=>h.key.type===4&&h.key.content===l)}return a}function i1(e,i){return`_${i}_${e.replace(/[^\w]/g,(a,l)=>a==="-"?"_":e.charCodeAt(l).toString())}`}function iI(e){return e.type===14&&e.callee===Xw?e.arguments[1].returns:e}function FT(e,i){const a=i.options?i.options.compatConfig:i.compatConfig,l=a&&a[e];return e==="MODE"?l||3:l}function hf(e,i){const a=FT("MODE",i),l=FT(e,i);return a===3?l===!0:l!==!1}function n1(e,i,a,...l){return hf(e,i)}const nI=/&(gt|lt|amp|apos|quot);/g,rI={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},NT={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:Ry,isPreTag:Ry,isCustomElement:Ry,decodeEntities:e=>e.replace(nI,(i,a)=>rI[a]),onError:Ow,onWarn:s4,comments:!1};function sI(e,i={}){const a=oI(e,i),l=ql(a);return $P(Kw(a,0,[]),Sc(a,l))}function oI(e,i){const a=gr({},NT);let l;for(l in i)a[l]=i[l]===void 0?NT[l]:i[l];return{options:a,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:a.onWarn}}function Kw(e,i,a){const l=a2(a),h=l?l.ns:0,p=[];for(;!mI(e,i,a);){const s=e.source;let b;if(i===0||i===1){if(!e.inVPre&&ga(s,e.options.delimiters[0]))b=pI(e,i);else if(i===0&&s[0]==="<")if(s.length===1)Vr(e,5,1);else if(s[1]==="!")ga(s,"<!--")?b=lI(e):ga(s,"<!DOCTYPE")?b=Ig(e):ga(s,"<![CDATA[")?h!==0?b=aI(e,a):(Vr(e,1),b=Ig(e)):(Vr(e,11),b=Ig(e));else if(s[1]==="/")if(s.length===2)Vr(e,5,2);else if(s[2]===">"){Vr(e,14,2),wo(e,3);continue}else if(/[a-z]/i.test(s[2])){Vr(e,23),_3(e,fv.End,l);continue}else Vr(e,12,2),b=Ig(e);else/[a-z]/i.test(s[1])?(b=cI(e,a),hf("COMPILER_NATIVE_TEMPLATE",e)&&b&&b.tag==="template"&&!b.props.some(L=>L.type===7&&_4(L.name))&&(b=b.children)):s[1]==="?"?(Vr(e,21,1),b=Ig(e)):Vr(e,12,1)}if(b||(b=fI(e,i)),Ji(b))for(let L=0;L<b.length;L++)jT(p,b[L]);else jT(p,b)}let y=!1;if(i!==2&&i!==1){const s=e.options.whitespace!=="preserve";for(let b=0;b<p.length;b++){const L=p[b];if(L.type===2)if(e.inPre)L.content=L.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test(L.content))s&&(L.content=L.content.replace(/[\t\r\n\f ]+/g," "));else{const ee=p[b-1],F=p[b+1];!ee||!F||s&&(ee.type===3&&F.type===3||ee.type===3&&F.type===1||ee.type===1&&F.type===3||ee.type===1&&F.type===1&&/[\r\n]/.test(L.content))?(y=!0,p[b]=null):L.content=" "}else L.type===3&&!e.options.comments&&(y=!0,p[b]=null)}if(e.inPre&&l&&e.options.isPreTag(l.tag)){const b=p[0];b&&b.type===2&&(b.content=b.content.replace(/^\r?\n/,""))}}return y?p.filter(Boolean):p}function jT(e,i){if(i.type===2){const a=a2(e);if(a&&a.type===2&&a.loc.end.offset===i.loc.start.offset){a.content+=i.content,a.loc.end=i.loc.end,a.loc.source+=i.loc.source;return}}e.push(i)}function aI(e,i){wo(e,9);const a=Kw(e,3,i);return e.source.length===0?Vr(e,6):wo(e,3),a}function lI(e){const i=ql(e);let a;const l=/--(\!)?>/.exec(e.source);if(!l)a=e.source.slice(4),wo(e,e.source.length),Vr(e,7);else{l.index<=3&&Vr(e,0),l[1]&&Vr(e,10),a=e.source.slice(4,l.index);const h=e.source.slice(0,l.index);let p=1,y=0;for(;(y=h.indexOf("<!--",p))!==-1;)wo(e,y-p+1),y+4<h.length&&Vr(e,16),p=y+1;wo(e,l.index+l[0].length-p+1)}return{type:3,content:a,loc:Sc(e,i)}}function Ig(e){const i=ql(e),a=e.source[1]==="?"?1:2;let l;const h=e.source.indexOf(">");return h===-1?(l=e.source.slice(a),wo(e,e.source.length)):(l=e.source.slice(a,h),wo(e,h+1)),{type:3,content:l,loc:Sc(e,i)}}function cI(e,i){const a=e.inPre,l=e.inVPre,h=a2(i),p=_3(e,fv.Start,h),y=e.inPre&&!a,s=e.inVPre&&!l;if(p.isSelfClosing||e.options.isVoidTag(p.tag))return y&&(e.inPre=!1),s&&(e.inVPre=!1),p;i.push(p);const b=e.options.getTextMode(p,h),L=Kw(e,b,i);i.pop();{const ee=p.props.find(F=>F.type===6&&F.name==="inline-template");if(ee&&n1("COMPILER_INLINE_TEMPLATE",e,ee.loc)){const F=Sc(e,p.loc.end);ee.value={type:2,content:F.source,loc:F}}}if(p.children=L,y3(e.source,p.tag))_3(e,fv.End,h);else if(Vr(e,24,0,p.loc.start),e.source.length===0&&p.tag.toLowerCase()==="script"){const ee=L[0];ee&&ga(ee.loc.source,"<!--")&&Vr(e,8)}return p.loc=Sc(e,p.loc.start),y&&(e.inPre=!1),s&&(e.inVPre=!1),p}var fv=(e=>(e[e.Start=0]="Start",e[e.End=1]="End",e))(fv||{});const _4=gl("if,else,else-if,for,slot");function _3(e,i,a){const l=ql(e),h=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),p=h[1],y=e.options.getNamespace(p,a);wo(e,h[0].length),r1(e);const s=ql(e),b=e.source;e.options.isPreTag(p)&&(e.inPre=!0);let L=UT(e,i);i===0&&!e.inVPre&&L.some(Z=>Z.type===7&&Z.name==="pre")&&(e.inVPre=!0,gr(e,s),e.source=b,L=UT(e,i).filter(Z=>Z.name!=="v-pre"));let ee=!1;if(e.source.length===0?Vr(e,9):(ee=ga(e.source,"/>"),i===1&&ee&&Vr(e,4),wo(e,ee?2:1)),i===1)return;let F=0;return e.inVPre||(p==="slot"?F=2:p==="template"?L.some(Z=>Z.type===7&&_4(Z.name))&&(F=3):hI(p,L,e)&&(F=1)),{type:1,ns:y,tag:p,tagType:F,props:L,isSelfClosing:ee,children:[],loc:Sc(e,l),codegenNode:void 0}}function hI(e,i,a){const l=a.options;if(l.isCustomElement(e))return!1;if(e==="component"||/^[A-Z]/.test(e)||p4(e)||l.isBuiltInComponent&&l.isBuiltInComponent(e)||l.isNativeTag&&!l.isNativeTag(e))return!0;for(let h=0;h<i.length;h++){const p=i[h];if(p.type===6){if(p.name==="is"&&p.value){if(p.value.content.startsWith("vue:"))return!0;if(n1("COMPILER_IS_ON_ELEMENT",a,p.loc))return!0}}else{if(p.name==="is")return!0;if(p.name==="bind"&&nf(p.arg,"is")&&n1("COMPILER_IS_ON_ELEMENT",a,p.loc))return!0}}}function UT(e,i){const a=[],l=new Set;for(;e.source.length>0&&!ga(e.source,">")&&!ga(e.source,"/>");){if(ga(e.source,"/")){Vr(e,22),wo(e,1),r1(e);continue}i===1&&Vr(e,3);const h=dI(e,l);h.type===6&&h.value&&h.name==="class"&&(h.value.content=h.value.content.replace(/\s+/g," ").trim()),i===0&&a.push(h),/^[^\t\r\n\f />]/.test(e.source)&&Vr(e,15),r1(e)}return a}function dI(e,i){var a;const l=ql(e),p=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];i.has(p)&&Vr(e,2),i.add(p),p[0]==="="&&Vr(e,19);{const b=/["'<]/g;let L;for(;L=b.exec(p);)Vr(e,17,L.index)}wo(e,p.length);let y;/^[\t\r\n\f ]*=/.test(e.source)&&(r1(e),wo(e,1),r1(e),y=uI(e),y||Vr(e,13));const s=Sc(e,l);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(p)){const b=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(p);let L=ga(p,"."),ee=b[1]||(L||ga(p,":")?"bind":ga(p,"@")?"on":"slot"),F;if(b[2]){const ne=ee==="slot",z=p.lastIndexOf(b[2],p.length-(((a=b[3])==null?void 0:a.length)||0)),G=Sc(e,VT(e,l,z),VT(e,l,z+b[2].length+(ne&&b[3]||"").length));let ae=b[2],B=!0;ae.startsWith("[")?(B=!1,ae.endsWith("]")?ae=ae.slice(1,ae.length-1):(Vr(e,27),ae=ae.slice(1))):ne&&(ae+=b[3]||""),F={type:4,content:ae,isStatic:B,constType:B?3:0,loc:G}}if(y&&y.isQuoted){const ne=y.loc;ne.start.offset++,ne.start.column++,ne.end=cv(ne.start,y.content),ne.source=ne.source.slice(1,-1)}const Z=b[3]?b[3].slice(1).split("."):[];return L&&Z.push("prop"),ee==="bind"&&F&&Z.includes("sync")&&n1("COMPILER_V_BIND_SYNC",e,s,F.loc.source)&&(ee="model",Z.splice(Z.indexOf("sync"),1)),{type:7,name:ee,exp:y&&{type:4,content:y.content,isStatic:!1,constType:0,loc:y.loc},arg:F,modifiers:Z,loc:s}}return!e.inVPre&&ga(p,"v-")&&Vr(e,26),{type:6,name:p,value:y&&{type:2,content:y.content,loc:y.loc},loc:s}}function uI(e){const i=ql(e);let a;const l=e.source[0],h=l==='"'||l==="'";if(h){wo(e,1);const p=e.source.indexOf(l);p===-1?a=Vg(e,e.source.length,4):(a=Vg(e,p,4),wo(e,1))}else{const p=/^[^\t\r\n\f >]+/.exec(e.source);if(!p)return;const y=/["'<=`]/g;let s;for(;s=y.exec(p[0]);)Vr(e,18,s.index);a=Vg(e,p[0].length,4)}return{content:a,isQuoted:h,loc:Sc(e,i)}}function pI(e,i){const[a,l]=e.options.delimiters,h=e.source.indexOf(l,a.length);if(h===-1){Vr(e,25);return}const p=ql(e);wo(e,a.length);const y=ql(e),s=ql(e),b=h-a.length,L=e.source.slice(0,b),ee=Vg(e,b,i),F=ee.trim(),Z=ee.indexOf(F);Z>0&&hv(y,L,Z);const ne=b-(ee.length-F.length-Z);return hv(s,L,ne),wo(e,l.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:F,loc:Sc(e,y,s)},loc:Sc(e,p)}}function fI(e,i){const a=i===3?["]]>"]:["<",e.options.delimiters[0]];let l=e.source.length;for(let y=0;y<a.length;y++){const s=e.source.indexOf(a[y],1);s!==-1&&l>s&&(l=s)}const h=ql(e);return{type:2,content:Vg(e,l,i),loc:Sc(e,h)}}function Vg(e,i,a){const l=e.source.slice(0,i);return wo(e,i),a===2||a===3||!l.includes("&")?l:e.options.decodeEntities(l,a===4)}function ql(e){const{column:i,line:a,offset:l}=e;return{column:i,line:a,offset:l}}function Sc(e,i,a){return a=a||ql(e),{start:i,end:a,source:e.originalSource.slice(i.offset,a.offset)}}function a2(e){return e[e.length-1]}function ga(e,i){return e.startsWith(i)}function wo(e,i){const{source:a}=e;hv(e,a,i),e.source=a.slice(i)}function r1(e){const i=/^[\t\r\n\f ]+/.exec(e.source);i&&wo(e,i[0].length)}function VT(e,i,a){return cv(i,e.originalSource.slice(i.offset,a),a)}function Vr(e,i,a,l=ql(e)){a&&(l.offset+=a,l.column+=a),e.options.onError(Ss(i,{start:l,end:l,source:""}))}function mI(e,i,a){const l=e.source;switch(i){case 0:if(ga(l,"</")){for(let h=a.length-1;h>=0;--h)if(y3(l,a[h].tag))return!0}break;case 1:case 2:{const h=a2(a);if(h&&y3(l,h.tag))return!0;break}case 3:if(ga(l,"]]>"))return!0;break}return!l}function y3(e,i){return ga(e,"</")&&e.slice(2,2+i.length).toLowerCase()===i.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+i.length]||">")}function gI(e,i){Fy(e,i,y4(e,e.children[0]))}function y4(e,i){const{children:a}=e;return a.length===1&&i.type===1&&!uv(i)}function Fy(e,i,a=!1){const{children:l}=e,h=l.length;let p=0;for(let y=0;y<l.length;y++){const s=l[y];if(s.type===1&&s.tagType===0){const b=a?0:wc(s,i);if(b>0){if(b>=2){s.codegenNode.patchFlag="-1",s.codegenNode=i.hoist(s.codegenNode),p++;continue}}else{const L=s.codegenNode;if(L.type===13){const ee=w4(L);if((!ee||ee===512||ee===1)&&x4(s,i)>=2){const F=b4(s);F&&(L.props=i.hoist(F))}L.dynamicProps&&(L.dynamicProps=i.hoist(L.dynamicProps))}}}if(s.type===1){const b=s.tagType===1;b&&i.scopes.vSlot++,Fy(s,i),b&&i.scopes.vSlot--}else if(s.type===11)Fy(s,i,s.children.length===1);else if(s.type===9)for(let b=0;b<s.branches.length;b++)Fy(s.branches[b],i,s.branches[b].children.length===1)}p&&i.transformHoist&&i.transformHoist(l,i,e),p&&p===h&&e.type===1&&e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&Ji(e.codegenNode.children)&&(e.codegenNode.children=i.hoist(b1(e.codegenNode.children)))}function wc(e,i){const{constantCache:a}=i;switch(e.type){case 1:if(e.tagType!==0)return 0;const l=a.get(e);if(l!==void 0)return l;const h=e.codegenNode;if(h.type!==13||h.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject")return 0;if(w4(h))return a.set(e,0),0;{let s=3;const b=x4(e,i);if(b===0)return a.set(e,0),0;b<s&&(s=b);for(let L=0;L<e.children.length;L++){const ee=wc(e.children[L],i);if(ee===0)return a.set(e,0),0;ee<s&&(s=ee)}if(s>1)for(let L=0;L<e.props.length;L++){const ee=e.props[L];if(ee.type===7&&ee.name==="bind"&&ee.exp){const F=wc(ee.exp,i);if(F===0)return a.set(e,0),0;F<s&&(s=F)}}if(h.isBlock){for(let L=0;L<e.props.length;L++)if(e.props[L].type===7)return a.set(e,0),0;i.removeHelper(ff),i.removeHelper(rm(i.inSSR,h.isComponent)),h.isBlock=!1,i.helper(nm(i.inSSR,h.isComponent))}return a.set(e,s),s}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return wc(e.content,i);case 4:return e.constType;case 8:let y=3;for(let s=0;s<e.children.length;s++){const b=e.children[s];if(qn(b)||Hu(b))continue;const L=wc(b,i);if(L===0)return 0;L<y&&(y=L)}return y;default:return 0}}const _I=new Set([Ww,$w,e1,x1]);function v4(e,i){if(e.type===14&&!qn(e.callee)&&_I.has(e.callee)){const a=e.arguments[0];if(a.type===4)return wc(a,i);if(a.type===14)return v4(a,i)}return 0}function x4(e,i){let a=3;const l=b4(e);if(l&&l.type===15){const{properties:h}=l;for(let p=0;p<h.length;p++){const{key:y,value:s}=h[p],b=wc(y,i);if(b===0)return b;b<a&&(a=b);let L;if(s.type===4?L=wc(s,i):s.type===14?L=v4(s,i):L=0,L===0)return L;L<a&&(a=L)}}return a}function b4(e){const i=e.codegenNode;if(i.type===13)return i.props}function w4(e){const i=e.patchFlag;return i?parseInt(i,10):void 0}function yI(e,{filename:i="",prefixIdentifiers:a=!1,hoistStatic:l=!1,cacheHandlers:h=!1,nodeTransforms:p=[],directiveTransforms:y={},transformHoist:s=null,isBuiltInComponent:b=Ba,isCustomElement:L=Ba,expressionPlugins:ee=[],scopeId:F=null,slotted:Z=!0,ssr:ne=!1,inSSR:z=!1,ssrCssVars:G="",bindingMetadata:ae=Gr,inline:B=!1,isTS:P=!1,onError:V=Ow,onWarn:W=s4,compatConfig:R}){const se=i.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),S={selfName:se&&ip(Ys(se[1])),prefixIdentifiers:a,hoistStatic:l,cacheHandlers:h,nodeTransforms:p,directiveTransforms:y,transformHoist:s,isBuiltInComponent:b,isCustomElement:L,expressionPlugins:ee,scopeId:F,slotted:Z,ssr:ne,inSSR:z,ssrCssVars:G,bindingMetadata:ae,inline:B,isTS:P,onError:V,onWarn:W,compatConfig:R,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(X){const I=S.helpers.get(X)||0;return S.helpers.set(X,I+1),X},removeHelper(X){const I=S.helpers.get(X);if(I){const $=I-1;$?S.helpers.set(X,$):S.helpers.delete(X)}},helperString(X){return`_${tm[S.helper(X)]}`},replaceNode(X){S.parent.children[S.childIndex]=S.currentNode=X},removeNode(X){const I=S.parent.children,$=X?I.indexOf(X):S.currentNode?S.childIndex:-1;!X||X===S.currentNode?(S.currentNode=null,S.onNodeRemoved()):S.childIndex>$&&(S.childIndex--,S.onNodeRemoved()),S.parent.children.splice($,1)},onNodeRemoved:()=>{},addIdentifiers(X){},removeIdentifiers(X){},hoist(X){qn(X)&&(X=ir(X)),S.hoists.push(X);const I=ir(`_hoisted_${S.hoists.length}`,!1,X.loc,2);return I.hoisted=X,I},cache(X,I=!1){return HP(S.cached++,X,I)}};return S.filters=new Set,S}function vI(e,i){const a=yI(e,i);l2(e,a),i.hoistStatic&&gI(e,a),i.ssr||xI(e,a),e.helpers=new Set([...a.helpers.keys()]),e.components=[...a.components],e.directives=[...a.directives],e.imports=a.imports,e.hoists=a.hoists,e.temps=a.temps,e.cached=a.cached,e.filters=[...a.filters]}function xI(e,i){const{helper:a}=i,{children:l}=e;if(l.length===1){const h=l[0];if(y4(e,h)&&h.codegenNode){const p=h.codegenNode;p.type===13&&Yw(p,i),e.codegenNode=p}else e.codegenNode=h}else if(l.length>1){let h=64;e.codegenNode=t1(i,a(Qg),void 0,e.children,h+"",void 0,void 0,!0,void 0,!1)}}function bI(e,i){let a=0;const l=()=>{a--};for(;a<e.children.length;a++){const h=e.children[a];qn(h)||(i.parent=e,i.childIndex=a,i.onNodeRemoved=l,l2(h,i))}}function l2(e,i){i.currentNode=e;const{nodeTransforms:a}=i,l=[];for(let p=0;p<a.length;p++){const y=a[p](e,i);if(y&&(Ji(y)?l.push(...y):l.push(y)),i.currentNode)e=i.currentNode;else return}switch(e.type){case 3:i.ssr||i.helper(v1);break;case 5:i.ssr||i.helper(s2);break;case 9:for(let p=0;p<e.branches.length;p++)l2(e.branches[p],i);break;case 10:case 11:case 1:case 0:bI(e,i);break}i.currentNode=e;let h=l.length;for(;h--;)l[h]()}function T4(e,i){const a=qn(e)?l=>l===e:l=>e.test(l);return(l,h)=>{if(l.type===1){const{props:p}=l;if(l.tagType===3&&p.some(eI))return;const y=[];for(let s=0;s<p.length;s++){const b=p[s];if(b.type===7&&a(b.name)){p.splice(s,1),s--;const L=i(l,b,h);L&&y.push(L)}}return y}}}const c2="/*#__PURE__*/",S4=e=>`${tm[e]}: _${tm[e]}`;function GT(e,{mode:i="function",prefixIdentifiers:a=i==="module",sourceMap:l=!1,filename:h="template.vue.html",scopeId:p=null,optimizeImports:y=!1,runtimeGlobalName:s="Vue",runtimeModuleName:b="vue",ssrRuntimeModuleName:L="vue/server-renderer",ssr:ee=!1,isTS:F=!1,inSSR:Z=!1}){const ne={mode:i,prefixIdentifiers:a,sourceMap:l,filename:h,scopeId:p,optimizeImports:y,runtimeGlobalName:s,runtimeModuleName:b,ssrRuntimeModuleName:L,ssr:ee,isTS:F,inSSR:Z,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(G){return`_${tm[G]}`},push(G,ae){ne.code+=G},indent(){z(++ne.indentLevel)},deindent(G=!1){G?--ne.indentLevel:z(--ne.indentLevel)},newline(){z(ne.indentLevel)}};function z(G){ne.push(`
`+"  ".repeat(G))}return ne}function wI(e,i={}){const a=GT(e,i);i.onContextCreated&&i.onContextCreated(a);const{mode:l,push:h,prefixIdentifiers:p,indent:y,deindent:s,newline:b,scopeId:L,ssr:ee}=a,F=Array.from(e.helpers),Z=F.length>0,ne=!p&&l!=="module",z=!1,G=z?GT(e,i):a;TI(e,G);const ae=ee?"ssrRender":"render",P=(ee?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(h(`function ${ae}(${P}) {`),y(),ne&&(h("with (_ctx) {"),y(),Z&&(h(`const { ${F.map(S4).join(", ")} } = _Vue`),h(`
`),b())),e.components.length&&(Cb(e.components,"component",a),(e.directives.length||e.temps>0)&&b()),e.directives.length&&(Cb(e.directives,"directive",a),e.temps>0&&b()),e.filters&&e.filters.length&&(b(),Cb(e.filters,"filter",a),b()),e.temps>0){h("let ");for(let V=0;V<e.temps;V++)h(`${V>0?", ":""}_temp${V}`)}return(e.components.length||e.directives.length||e.temps)&&(h(`
`),b()),ee||h("return "),e.codegenNode?_a(e.codegenNode,a):h("null"),ne&&(s(),h("}")),s(),h("}"),{ast:e,code:a.code,preamble:z?G.code:"",map:a.map?a.map.toJSON():void 0}}function TI(e,i){const{ssr:a,prefixIdentifiers:l,push:h,newline:p,runtimeModuleName:y,runtimeGlobalName:s,ssrRuntimeModuleName:b}=i,L=s,ee=Array.from(e.helpers);if(ee.length>0&&(h(`const _Vue = ${L}
`),e.hoists.length)){const F=[zw,Bw,v1,Fw,c4].filter(Z=>ee.includes(Z)).map(S4).join(", ");h(`const { ${F} } = _Vue
`)}SI(e.hoists,i),p(),h("return ")}function Cb(e,i,{helper:a,push:l,newline:h,isTS:p}){const y=a(i==="filter"?Uw:i==="component"?Nw:jw);for(let s=0;s<e.length;s++){let b=e[s];const L=b.endsWith("__self");L&&(b=b.slice(0,-6)),l(`const ${i1(b,i)} = ${y}(${JSON.stringify(b)}${L?", true":""})${p?"!":""}`),s<e.length-1&&h()}}function SI(e,i){if(!e.length)return;i.pure=!0;const{push:a,newline:l,helper:h,scopeId:p,mode:y}=i;l();for(let s=0;s<e.length;s++){const b=e[s];b&&(a(`const _hoisted_${s+1} = `),_a(b,i),l())}i.pure=!1}function Jw(e,i){const a=e.length>3||!1;i.push("["),a&&i.indent(),w1(e,i,a),a&&i.deindent(),i.push("]")}function w1(e,i,a=!1,l=!0){const{push:h,newline:p}=i;for(let y=0;y<e.length;y++){const s=e[y];qn(s)?h(s):Ji(s)?Jw(s,i):_a(s,i),y<e.length-1&&(a?(l&&h(","),p()):l&&h(", "))}}function _a(e,i){if(qn(e)){i.push(e);return}if(Hu(e)){i.push(i.helper(e));return}switch(e.type){case 1:case 9:case 11:_a(e.codegenNode,i);break;case 2:EI(e,i);break;case 4:E4(e,i);break;case 5:CI(e,i);break;case 12:_a(e.codegenNode,i);break;case 8:C4(e,i);break;case 3:AI(e,i);break;case 13:kI(e,i);break;case 14:II(e,i);break;case 15:LI(e,i);break;case 17:DI(e,i);break;case 18:OI(e,i);break;case 19:RI(e,i);break;case 20:zI(e,i);break;case 21:w1(e.body,i,!0,!1);break}}function EI(e,i){i.push(JSON.stringify(e.content),e)}function E4(e,i){const{content:a,isStatic:l}=e;i.push(l?JSON.stringify(a):a,e)}function CI(e,i){const{push:a,helper:l,pure:h}=i;h&&a(c2),a(`${l(s2)}(`),_a(e.content,i),a(")")}function C4(e,i){for(let a=0;a<e.children.length;a++){const l=e.children[a];qn(l)?i.push(l):_a(l,i)}}function MI(e,i){const{push:a}=i;if(e.type===8)a("["),C4(e,i),a("]");else if(e.isStatic){const l=Zw(e.content)?e.content:JSON.stringify(e.content);a(l,e)}else a(`[${e.content}]`,e)}function AI(e,i){const{push:a,helper:l,pure:h}=i;h&&a(c2),a(`${l(v1)}(${JSON.stringify(e.content)})`,e)}function kI(e,i){const{push:a,helper:l,pure:h}=i,{tag:p,props:y,children:s,patchFlag:b,dynamicProps:L,directives:ee,isBlock:F,disableTracking:Z,isComponent:ne}=e;ee&&a(l(Vw)+"("),F&&a(`(${l(ff)}(${Z?"true":""}), `),h&&a(c2);const z=F?rm(i.inSSR,ne):nm(i.inSSR,ne);a(l(z)+"(",e),w1(PI([p,y,s,b,L]),i),a(")"),F&&a(")"),ee&&(a(", "),_a(ee,i),a(")"))}function PI(e){let i=e.length;for(;i--&&e[i]==null;);return e.slice(0,i+1).map(a=>a||"null")}function II(e,i){const{push:a,helper:l,pure:h}=i,p=qn(e.callee)?e.callee:l(e.callee);h&&a(c2),a(p+"(",e),w1(e.arguments,i),a(")")}function LI(e,i){const{push:a,indent:l,deindent:h,newline:p}=i,{properties:y}=e;if(!y.length){a("{}",e);return}const s=y.length>1||!1;a(s?"{":"{ "),s&&l();for(let b=0;b<y.length;b++){const{key:L,value:ee}=y[b];MI(L,i),a(": "),_a(ee,i),b<y.length-1&&(a(","),p())}s&&h(),a(s?"}":" }")}function DI(e,i){Jw(e.elements,i)}function OI(e,i){const{push:a,indent:l,deindent:h}=i,{params:p,returns:y,body:s,newline:b,isSlot:L}=e;L&&a(`_${tm[qw]}(`),a("(",e),Ji(p)?w1(p,i):p&&_a(p,i),a(") => "),(b||s)&&(a("{"),l()),y?(b&&a("return "),Ji(y)?Jw(y,i):_a(y,i)):s&&_a(s,i),(b||s)&&(h(),a("}")),L&&(e.isNonScopedSlot&&a(", undefined, true"),a(")"))}function RI(e,i){const{test:a,consequent:l,alternate:h,newline:p}=e,{push:y,indent:s,deindent:b,newline:L}=i;if(a.type===4){const F=!Zw(a.content);F&&y("("),E4(a,i),F&&y(")")}else y("("),_a(a,i),y(")");p&&s(),i.indentLevel++,p||y(" "),y("? "),_a(l,i),i.indentLevel--,p&&L(),p||y(" "),y(": ");const ee=h.type===19;ee||i.indentLevel++,_a(h,i),ee||i.indentLevel--,p&&b(!0)}function zI(e,i){const{push:a,helper:l,indent:h,deindent:p,newline:y}=i;a(`_cache[${e.index}] || (`),e.isVNode&&(h(),a(`${l(lv)}(-1),`),y()),a(`_cache[${e.index}] = `),_a(e.value,i),e.isVNode&&(a(","),y(),a(`${l(lv)}(1),`),y(),a(`_cache[${e.index}]`),p()),a(")")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const BI=T4(/^(if|else|else-if)$/,(e,i,a)=>FI(e,i,a,(l,h,p)=>{const y=a.parent.children;let s=y.indexOf(l),b=0;for(;s-->=0;){const L=y[s];L&&L.type===9&&(b+=L.branches.length)}return()=>{if(p)l.codegenNode=$T(h,b,a);else{const L=NI(l.codegenNode);L.alternate=$T(h,b+l.branches.length-1,a)}}}));function FI(e,i,a,l){if(i.name!=="else"&&(!i.exp||!i.exp.content.trim())){const h=i.exp?i.exp.loc:e.loc;a.onError(Ss(28,i.loc)),i.exp=ir("true",!1,h)}if(i.name==="if"){const h=WT(e,i),p={type:9,loc:e.loc,branches:[h]};if(a.replaceNode(p),l)return l(p,h,!0)}else{const h=a.parent.children;let p=h.indexOf(e);for(;p-->=-1;){const y=h[p];if(y&&y.type===3){a.removeNode(y);continue}if(y&&y.type===2&&!y.content.trim().length){a.removeNode(y);continue}if(y&&y.type===9){i.name==="else-if"&&y.branches[y.branches.length-1].condition===void 0&&a.onError(Ss(30,e.loc)),a.removeNode();const s=WT(e,i);y.branches.push(s);const b=l&&l(y,s,!1);l2(s,a),b&&b(),a.currentNode=null}else a.onError(Ss(30,e.loc));break}}}function WT(e,i){const a=e.tagType===3;return{type:10,loc:e.loc,condition:i.name==="else"?void 0:i.exp,children:a&&!vc(e,"for")?e.children:[e],userKey:o2(e,"key"),isTemplateIf:a}}function $T(e,i,a){return e.condition?g3(e.condition,HT(e,i,a),no(a.helper(v1),['""',"true"])):HT(e,i,a)}function HT(e,i,a){const{helper:l}=a,h=Ns("key",ir(`${i}`,!1,Xl,2)),{children:p}=e,y=p[0];if(p.length!==1||y.type!==1)if(p.length===1&&y.type===11){const b=y.codegenNode;return pv(b,h,a),b}else{let b=64;return t1(a,l(Qg),bc([h]),p,b+"",void 0,void 0,!0,!1,!1,e.loc)}else{const b=y.codegenNode,L=iI(b);return L.type===13&&Yw(L,a),pv(L,h,a),b}}function NI(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const jI=T4("for",(e,i,a)=>{const{helper:l,removeHelper:h}=a;return UI(e,i,a,p=>{const y=no(l(Gw),[p.source]),s=dv(e),b=vc(e,"memo"),L=o2(e,"key"),ee=L&&(L.type===6?ir(L.value.content,!0):L.exp),F=L?Ns("key",ee):null,Z=p.source.type===4&&p.source.constType>0,ne=Z?64:L?128:256;return p.codegenNode=t1(a,l(Qg),void 0,y,ne+"",void 0,void 0,!0,!Z,!1,e.loc),()=>{let z;const{children:G}=p,ae=G.length!==1||G[0].type!==1,B=uv(e)?e:s&&e.children.length===1&&uv(e.children[0])?e.children[0]:null;if(B?(z=B.codegenNode,s&&F&&pv(z,F,a)):ae?z=t1(a,l(Qg),F?bc([F]):void 0,e.children,"64",void 0,void 0,!0,void 0,!1):(z=G[0].codegenNode,s&&F&&pv(z,F,a),z.isBlock!==!Z&&(z.isBlock?(h(ff),h(rm(a.inSSR,z.isComponent))):h(nm(a.inSSR,z.isComponent))),z.isBlock=!Z,z.isBlock?(l(ff),l(rm(a.inSSR,z.isComponent))):l(nm(a.inSSR,z.isComponent))),b){const P=im(v3(p.parseResult,[ir("_cached")]));P.body=qP([sh(["const _memo = (",b.exp,")"]),sh(["if (_cached",...ee?[" && _cached.key === ",ee]:[],` && ${a.helperString(u4)}(_cached, _memo)) return _cached`]),sh(["const _item = ",z]),ir("_item.memo = _memo"),ir("return _item")]),y.arguments.push(P,ir("_cache"),ir(String(a.cached++)))}else y.arguments.push(im(v3(p.parseResult),z,!0))}})});function UI(e,i,a,l){if(!i.exp){a.onError(Ss(31,i.loc));return}const h=M4(i.exp);if(!h){a.onError(Ss(32,i.loc));return}const{addIdentifiers:p,removeIdentifiers:y,scopes:s}=a,{source:b,value:L,key:ee,index:F}=h,Z={type:11,loc:i.loc,source:b,valueAlias:L,keyAlias:ee,objectIndexAlias:F,parseResult:h,children:dv(e)?e.children:[e]};a.replaceNode(Z),s.vFor++;const ne=l&&l(Z);return()=>{s.vFor--,ne&&ne()}}const VI=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,qT=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,GI=/^\(|\)$/g;function M4(e,i){const a=e.loc,l=e.content,h=l.match(VI);if(!h)return;const[,p,y]=h,s={source:Ty(a,y.trim(),l.indexOf(y,p.length)),value:void 0,key:void 0,index:void 0};let b=p.trim().replace(GI,"").trim();const L=p.indexOf(b),ee=b.match(qT);if(ee){b=b.replace(qT,"").trim();const F=ee[1].trim();let Z;if(F&&(Z=l.indexOf(F,L+b.length),s.key=Ty(a,F,Z)),ee[2]){const ne=ee[2].trim();ne&&(s.index=Ty(a,ne,l.indexOf(ne,s.key?Z+F.length:L+b.length)))}}return b&&(s.value=Ty(a,b,L)),s}function Ty(e,i,a){return ir(i,!1,m4(e,a,i.length))}function v3({value:e,key:i,index:a},l=[]){return WI([e,i,a,...l])}function WI(e){let i=e.length;for(;i--&&!e[i];);return e.slice(0,i+1).map((a,l)=>a||ir("_".repeat(l+1),!1))}const XT=ir("undefined",!1),$I=(e,i)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const a=vc(e,"slot");if(a)return a.exp,i.scopes.vSlot++,()=>{i.scopes.vSlot--}}},HI=(e,i,a)=>im(e,i,!1,!0,i.length?i[0].loc:a);function qI(e,i,a=HI){i.helper(qw);const{children:l,loc:h}=e,p=[],y=[];let s=i.scopes.vSlot>0||i.scopes.vFor>0;const b=vc(e,"slot",!0);if(b){const{arg:ae,exp:B}=b;ae&&!ul(ae)&&(s=!0),p.push(Ns(ae||ir("default",!0),a(B,l,h)))}let L=!1,ee=!1;const F=[],Z=new Set;let ne=0;for(let ae=0;ae<l.length;ae++){const B=l[ae];let P;if(!dv(B)||!(P=vc(B,"slot",!0))){B.type!==3&&F.push(B);continue}if(b){i.onError(Ss(37,P.loc));break}L=!0;const{children:V,loc:W}=B,{arg:R=ir("default",!0),exp:se,loc:S}=P;let X;ul(R)?X=R?R.content:"default":s=!0;const I=a(se,V,W);let $,K,q;if($=vc(B,"if"))s=!0,y.push(g3($.exp,Sy(R,I,ne++),XT));else if(K=vc(B,/^else(-if)?$/,!0)){let J=ae,C;for(;J--&&(C=l[J],C.type===3););if(C&&dv(C)&&vc(C,"if")){l.splice(ae,1),ae--;let A=y[y.length-1];for(;A.alternate.type===19;)A=A.alternate;A.alternate=K.exp?g3(K.exp,Sy(R,I,ne++),XT):Sy(R,I,ne++)}else i.onError(Ss(30,K.loc))}else if(q=vc(B,"for")){s=!0;const J=q.parseResult||M4(q.exp);J?y.push(no(i.helper(Gw),[J.source,im(v3(J),Sy(R,I),!0)])):i.onError(Ss(32,q.loc))}else{if(X){if(Z.has(X)){i.onError(Ss(38,S));continue}Z.add(X),X==="default"&&(ee=!0)}p.push(Ns(R,I))}}if(!b){const ae=(B,P)=>{const V=a(B,P,h);return i.compatConfig&&(V.isNonScopedSlot=!0),Ns("default",V)};L?F.length&&F.some(B=>A4(B))&&(ee?i.onError(Ss(39,F[0].loc)):p.push(ae(void 0,F))):p.push(ae(void 0,l))}const z=s?2:Ny(e.children)?3:1;let G=bc(p.concat(Ns("_",ir(z+"",!1))),h);return y.length&&(G=no(i.helper(d4),[G,b1(y)])),{slots:G,hasDynamicSlots:s}}function Sy(e,i,a){const l=[Ns("name",e),Ns("fn",i)];return a!=null&&l.push(Ns("key",ir(String(a),!0))),bc(l)}function Ny(e){for(let i=0;i<e.length;i++){const a=e[i];switch(a.type){case 1:if(a.tagType===2||Ny(a.children))return!0;break;case 9:if(Ny(a.branches))return!0;break;case 10:case 11:if(Ny(a.children))return!0;break}}return!1}function A4(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():A4(e.content)}const k4=new WeakMap,XI=(e,i)=>function(){if(e=i.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:l,props:h}=e,p=e.tagType===1;let y=p?YI(e,i):`"${l}"`;const s=Wr(y)&&y.callee===ov;let b,L,ee,F=0,Z,ne,z,G=s||y===Ug||y===Rw||!p&&(l==="svg"||l==="foreignObject");if(h.length>0){const ae=P4(e,i,void 0,p,s);b=ae.props,F=ae.patchFlag,ne=ae.dynamicPropNames;const B=ae.directives;z=B&&B.length?b1(B.map(P=>KI(P,i))):void 0,ae.shouldUseBlock&&(G=!0)}if(e.children.length>0)if(y===sv&&(G=!0,F|=1024),p&&y!==Ug&&y!==sv){const{slots:B,hasDynamicSlots:P}=qI(e,i);L=B,P&&(F|=1024)}else if(e.children.length===1&&y!==Ug){const B=e.children[0],P=B.type,V=P===5||P===8;V&&wc(B,i)===0&&(F|=1),V||P===2?L=B:L=e.children}else L=e.children;F!==0&&(ee=String(F),ne&&ne.length&&(Z=JI(ne))),e.codegenNode=t1(i,y,b,L,ee,Z,z,!!G,!1,p,e.loc)};function YI(e,i,a=!1){let{tag:l}=e;const h=x3(l),p=o2(e,"is");if(p)if(h||hf("COMPILER_IS_ON_ELEMENT",i)){const b=p.type===6?p.value&&ir(p.value.content,!0):p.exp;if(b)return no(i.helper(ov),[b])}else p.type===6&&p.value.content.startsWith("vue:")&&(l=p.value.content.slice(4));const y=!h&&vc(e,"is");if(y&&y.exp)return no(i.helper(ov),[y.exp]);const s=p4(l)||i.isBuiltInComponent(l);return s?(a||i.helper(s),s):(i.helper(Nw),i.components.add(l),i1(l,"component"))}function P4(e,i,a=e.props,l,h,p=!1){const{tag:y,loc:s,children:b}=e;let L=[];const ee=[],F=[],Z=b.length>0;let ne=!1,z=0,G=!1,ae=!1,B=!1,P=!1,V=!1,W=!1;const R=[],se=I=>{L.length&&(ee.push(bc(YT(L),s)),L=[]),I&&ee.push(I)},S=({key:I,value:$})=>{if(ul(I)){const K=I.content,q=gf(K);if(q&&(!l||h)&&K.toLowerCase()!=="onclick"&&K!=="onUpdate:modelValue"&&!sf(K)&&(P=!0),q&&sf(K)&&(W=!0),$.type===20||($.type===4||$.type===8)&&wc($,i)>0)return;K==="ref"?G=!0:K==="class"?ae=!0:K==="style"?B=!0:K!=="key"&&!R.includes(K)&&R.push(K),l&&(K==="class"||K==="style")&&!R.includes(K)&&R.push(K)}else V=!0};for(let I=0;I<a.length;I++){const $=a[I];if($.type===6){const{loc:K,name:q,value:J}=$;let C=!0;if(q==="ref"&&(G=!0,i.scopes.vFor>0&&L.push(Ns(ir("ref_for",!0),ir("true")))),q==="is"&&(x3(y)||J&&J.content.startsWith("vue:")||hf("COMPILER_IS_ON_ELEMENT",i)))continue;L.push(Ns(ir(q,!0,m4(K,0,q.length)),ir(J?J.content:"",C,J?J.loc:K)))}else{const{name:K,arg:q,exp:J,loc:C}=$,A=K==="bind",O=K==="on";if(K==="slot"){l||i.onError(Ss(40,C));continue}if(K==="once"||K==="memo"||K==="is"||A&&nf(q,"is")&&(x3(y)||hf("COMPILER_IS_ON_ELEMENT",i))||O&&p)continue;if((A&&nf(q,"key")||O&&Z&&nf(q,"vue:before-update"))&&(ne=!0),A&&nf(q,"ref")&&i.scopes.vFor>0&&L.push(Ns(ir("ref_for",!0),ir("true"))),!q&&(A||O)){if(V=!0,J)if(A){if(se(),hf("COMPILER_V_BIND_OBJECT_ORDER",i)){ee.unshift(J);continue}ee.push(J)}else se({type:14,loc:C,callee:i.helper(Hw),arguments:l?[J]:[J,"true"]});else i.onError(Ss(A?34:35,C));continue}const Q=i.directiveTransforms[K];if(Q){const{props:fe,needRuntime:Te}=Q($,e,i);!p&&fe.forEach(S),O&&q&&!ul(q)?se(bc(fe,s)):L.push(...fe),Te&&(F.push($),Hu(Te)&&k4.set($,Te))}else yA(K)||(F.push($),Z&&(ne=!0))}}let X;if(ee.length?(se(),ee.length>1?X=no(i.helper(av),ee,s):X=ee[0]):L.length&&(X=bc(YT(L),s)),V?z|=16:(ae&&!l&&(z|=2),B&&!l&&(z|=4),R.length&&(z|=8),P&&(z|=32)),!ne&&(z===0||z===32)&&(G||W||F.length>0)&&(z|=512),!i.inSSR&&X)switch(X.type){case 15:let I=-1,$=-1,K=!1;for(let C=0;C<X.properties.length;C++){const A=X.properties[C].key;ul(A)?A.content==="class"?I=C:A.content==="style"&&($=C):A.isHandlerKey||(K=!0)}const q=X.properties[I],J=X.properties[$];K?X=no(i.helper(e1),[X]):(q&&!ul(q.value)&&(q.value=no(i.helper(Ww),[q.value])),J&&(B||J.value.type===4&&J.value.content.trim()[0]==="["||J.value.type===17)&&(J.value=no(i.helper($w),[J.value])));break;case 14:break;default:X=no(i.helper(e1),[no(i.helper(x1),[X])]);break}return{props:X,directives:F,patchFlag:z,dynamicPropNames:R,shouldUseBlock:ne}}function YT(e){const i=new Map,a=[];for(let l=0;l<e.length;l++){const h=e[l];if(h.key.type===8||!h.key.isStatic){a.push(h);continue}const p=h.key.content,y=i.get(p);y?(p==="style"||p==="class"||gf(p))&&ZI(y,h):(i.set(p,h),a.push(h))}return a}function ZI(e,i){e.value.type===17?e.value.elements.push(i.value):e.value=b1([e.value,i.value],e.loc)}function KI(e,i){const a=[],l=k4.get(e);l?a.push(i.helperString(l)):(i.helper(jw),i.directives.add(e.name),a.push(i1(e.name,"directive")));const{loc:h}=e;if(e.exp&&a.push(e.exp),e.arg&&(e.exp||a.push("void 0"),a.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||a.push("void 0"),a.push("void 0"));const p=ir("true",!1,h);a.push(bc(e.modifiers.map(y=>Ns(y,p)),h))}return b1(a,e.loc)}function JI(e){let i="[";for(let a=0,l=e.length;a<l;a++)i+=JSON.stringify(e[a]),a<l-1&&(i+=", ");return i+"]"}function x3(e){return e==="component"||e==="Component"}const QI=(e,i)=>{if(uv(e)){const{children:a,loc:l}=e,{slotName:h,slotProps:p}=e9(e,i),y=[i.prefixIdentifiers?"_ctx.$slots":"$slots",h,"{}","undefined","true"];let s=2;p&&(y[2]=p,s=3),a.length&&(y[3]=im([],a,!1,!1,l),s=4),i.scopeId&&!i.slotted&&(s=5),y.splice(s),e.codegenNode=no(i.helper(h4),y,l)}};function e9(e,i){let a='"default"',l;const h=[];for(let p=0;p<e.props.length;p++){const y=e.props[p];y.type===6?y.value&&(y.name==="name"?a=JSON.stringify(y.value.content):(y.name=Ys(y.name),h.push(y))):y.name==="bind"&&nf(y.arg,"name")?y.exp&&(a=y.exp):(y.name==="bind"&&y.arg&&ul(y.arg)&&(y.arg.content=Ys(y.arg.content)),h.push(y))}if(h.length>0){const{props:p,directives:y}=P4(e,i,h,!1,!1);l=p,y.length&&i.onError(Ss(36,y[0].loc))}return{slotName:a,slotProps:l}}const t9=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,I4=(e,i,a,l)=>{const{loc:h,modifiers:p,arg:y}=e;!e.exp&&!p.length&&a.onError(Ss(35,h));let s;if(y.type===4)if(y.isStatic){let F=y.content;F.startsWith("vue:")&&(F=`vnode-${F.slice(4)}`);const Z=i.tagType!==0||F.startsWith("vnode")||!/[A-Z]/.test(F)?of(Ys(F)):`on:${F}`;s=ir(Z,!0,y.loc)}else s=sh([`${a.helperString(m3)}(`,y,")"]);else s=y,s.children.unshift(`${a.helperString(m3)}(`),s.children.push(")");let b=e.exp;b&&!b.content.trim()&&(b=void 0);let L=a.cacheHandlers&&!b&&!a.inVOnce;if(b){const F=f4(b.content),Z=!(F||t9.test(b.content)),ne=b.content.includes(";");(Z||L&&F)&&(b=sh([`${Z?"$event":"(...args)"} => ${ne?"{":"("}`,b,ne?"}":")"]))}let ee={props:[Ns(s,b||ir("() => {}",!1,h))]};return l&&(ee=l(ee)),L&&(ee.props[0].value=a.cache(ee.props[0].value)),ee.props.forEach(F=>F.key.isHandlerKey=!0),ee},i9=(e,i,a)=>{const{exp:l,modifiers:h,loc:p}=e,y=e.arg;return y.type!==4?(y.children.unshift("("),y.children.push(') || ""')):y.isStatic||(y.content=`${y.content} || ""`),h.includes("camel")&&(y.type===4?y.isStatic?y.content=Ys(y.content):y.content=`${a.helperString(f3)}(${y.content})`:(y.children.unshift(`${a.helperString(f3)}(`),y.children.push(")"))),a.inSSR||(h.includes("prop")&&ZT(y,"."),h.includes("attr")&&ZT(y,"^")),!l||l.type===4&&!l.content.trim()?(a.onError(Ss(34,p)),{props:[Ns(y,ir("",!0,p))]}):{props:[Ns(y,l)]}},ZT=(e,i)=>{e.type===4?e.isStatic?e.content=i+e.content:e.content=`\`${i}\${${e.content}}\``:(e.children.unshift(`'${i}' + (`),e.children.push(")"))},n9=(e,i)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const a=e.children;let l,h=!1;for(let p=0;p<a.length;p++){const y=a[p];if(Eb(y)){h=!0;for(let s=p+1;s<a.length;s++){const b=a[s];if(Eb(b))l||(l=a[p]=sh([y],y.loc)),l.children.push(" + ",b),a.splice(s,1),s--;else{l=void 0;break}}}}if(!(!h||a.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(p=>p.type===7&&!i.directiveTransforms[p.name])&&e.tag!=="template")))for(let p=0;p<a.length;p++){const y=a[p];if(Eb(y)||y.type===8){const s=[];(y.type!==2||y.content!==" ")&&s.push(y),!i.ssr&&wc(y,i)===0&&s.push("1"),a[p]={type:12,content:y,loc:y.loc,codegenNode:no(i.helper(Fw),s)}}}}},KT=new WeakSet,r9=(e,i)=>{if(e.type===1&&vc(e,"once",!0))return KT.has(e)||i.inVOnce||i.inSSR?void 0:(KT.add(e),i.inVOnce=!0,i.helper(lv),()=>{i.inVOnce=!1;const a=i.currentNode;a.codegenNode&&(a.codegenNode=i.cache(a.codegenNode,!0))})},L4=(e,i,a)=>{const{exp:l,arg:h}=e;if(!l)return a.onError(Ss(41,e.loc)),Ey();const p=l.loc.source,y=l.type===4?l.content:p,s=a.bindingMetadata[p];if(s==="props"||s==="props-aliased")return a.onError(Ss(44,l.loc)),Ey();const b=!1;if(!y.trim()||!f4(y)&&!b)return a.onError(Ss(42,l.loc)),Ey();const L=h||ir("modelValue",!0),ee=h?ul(h)?`onUpdate:${Ys(h.content)}`:sh(['"onUpdate:" + ',h]):"onUpdate:modelValue";let F;const Z=a.isTS?"($event: any)":"$event";F=sh([`${Z} => ((`,l,") = $event)"]);const ne=[Ns(L,e.exp),Ns(ee,F)];if(e.modifiers.length&&i.tagType===1){const z=e.modifiers.map(ae=>(Zw(ae)?ae:JSON.stringify(ae))+": true").join(", "),G=h?ul(h)?`${h.content}Modifiers`:sh([h,' + "Modifiers"']):"modelModifiers";ne.push(Ns(G,ir(`{ ${z} }`,!1,e.loc,2)))}return Ey(ne)};function Ey(e=[]){return{props:e}}const s9=/[\w).+\-_$\]]/,o9=(e,i)=>{hf("COMPILER_FILTER",i)&&(e.type===5&&mv(e.content,i),e.type===1&&e.props.forEach(a=>{a.type===7&&a.name!=="for"&&a.exp&&mv(a.exp,i)}))};function mv(e,i){if(e.type===4)JT(e,i);else for(let a=0;a<e.children.length;a++){const l=e.children[a];typeof l=="object"&&(l.type===4?JT(l,i):l.type===8?mv(e,i):l.type===5&&mv(l.content,i))}}function JT(e,i){const a=e.content;let l=!1,h=!1,p=!1,y=!1,s=0,b=0,L=0,ee=0,F,Z,ne,z,G=[];for(ne=0;ne<a.length;ne++)if(Z=F,F=a.charCodeAt(ne),l)F===39&&Z!==92&&(l=!1);else if(h)F===34&&Z!==92&&(h=!1);else if(p)F===96&&Z!==92&&(p=!1);else if(y)F===47&&Z!==92&&(y=!1);else if(F===124&&a.charCodeAt(ne+1)!==124&&a.charCodeAt(ne-1)!==124&&!s&&!b&&!L)z===void 0?(ee=ne+1,z=a.slice(0,ne).trim()):ae();else{switch(F){case 34:h=!0;break;case 39:l=!0;break;case 96:p=!0;break;case 40:L++;break;case 41:L--;break;case 91:b++;break;case 93:b--;break;case 123:s++;break;case 125:s--;break}if(F===47){let B=ne-1,P;for(;B>=0&&(P=a.charAt(B),P===" ");B--);(!P||!s9.test(P))&&(y=!0)}}z===void 0?z=a.slice(0,ne).trim():ee!==0&&ae();function ae(){G.push(a.slice(ee,ne).trim()),ee=ne+1}if(G.length){for(ne=0;ne<G.length;ne++)z=a9(z,G[ne],i);e.content=z}}function a9(e,i,a){a.helper(Uw);const l=i.indexOf("(");if(l<0)return a.filters.add(i),`${i1(i,"filter")}(${e})`;{const h=i.slice(0,l),p=i.slice(l+1);return a.filters.add(h),`${i1(h,"filter")}(${e}${p!==")"?","+p:p}`}}const QT=new WeakSet,l9=(e,i)=>{if(e.type===1){const a=vc(e,"memo");return!a||QT.has(e)?void 0:(QT.add(e),()=>{const l=e.codegenNode||i.currentNode.codegenNode;l&&l.type===13&&(e.tagType!==1&&Yw(l,i),e.codegenNode=no(i.helper(Xw),[a.exp,im(void 0,l),"_cache",String(i.cached++)]))})}};function c9(e){return[[r9,BI,l9,jI,o9,QI,XI,$I,n9],{on:I4,bind:i9,model:L4}]}function h9(e,i={}){const a=i.onError||Ow,l=i.mode==="module";i.prefixIdentifiers===!0?a(Ss(47)):l&&a(Ss(48));const h=!1;i.cacheHandlers&&a(Ss(49)),i.scopeId&&!l&&a(Ss(50));const p=qn(e)?sI(e,i):e,[y,s]=c9();return vI(p,gr({},i,{prefixIdentifiers:h,nodeTransforms:[...y,...i.nodeTransforms||[]],directiveTransforms:gr({},s,i.directiveTransforms||{})})),wI(p,gr({},i,{prefixIdentifiers:h}))}const d9=()=>({props:[]}),D4=Symbol(""),O4=Symbol(""),R4=Symbol(""),z4=Symbol(""),b3=Symbol(""),B4=Symbol(""),F4=Symbol(""),N4=Symbol(""),j4=Symbol(""),U4=Symbol("");WP({[D4]:"vModelRadio",[O4]:"vModelCheckbox",[R4]:"vModelText",[z4]:"vModelSelect",[b3]:"vModelDynamic",[B4]:"withModifiers",[F4]:"withKeys",[N4]:"vShow",[j4]:"Transition",[U4]:"TransitionGroup"});let O0;function u9(e,i=!1){return O0||(O0=document.createElement("div")),i?(O0.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,O0.children[0].getAttribute("foo")):(O0.innerHTML=e,O0.textContent)}const p9=gl("style,iframe,script,noscript",!0),f9={isVoidTag:IA,isNativeTag:e=>kA(e)||PA(e),isPreTag:e=>e==="pre",decodeEntities:u9,isBuiltInComponent:e=>{if(B0(e,"Transition"))return j4;if(B0(e,"TransitionGroup"))return U4},getNamespace(e,i){let a=i?i.ns:0;if(i&&a===2)if(i.tag==="annotation-xml"){if(e==="svg")return 1;i.props.some(l=>l.type===6&&l.name==="encoding"&&l.value!=null&&(l.value.content==="text/html"||l.value.content==="application/xhtml+xml"))&&(a=0)}else/^m(?:[ions]|text)$/.test(i.tag)&&e!=="mglyph"&&e!=="malignmark"&&(a=0);else i&&a===1&&(i.tag==="foreignObject"||i.tag==="desc"||i.tag==="title")&&(a=0);if(a===0){if(e==="svg")return 1;if(e==="math")return 2}return a},getTextMode({tag:e,ns:i}){if(i===0){if(e==="textarea"||e==="title")return 1;if(p9(e))return 2}return 0}},m9=e=>{e.type===1&&e.props.forEach((i,a)=>{i.type===6&&i.name==="style"&&i.value&&(e.props[a]={type:7,name:"bind",arg:ir("style",!0,i.loc),exp:g9(i.value.content,i.loc),modifiers:[],loc:i.loc})})},g9=(e,i)=>{const a=QS(e);return ir(JSON.stringify(a),!1,i,3)};function Wu(e,i){return Ss(e,i)}const _9=(e,i,a)=>{const{exp:l,loc:h}=e;return l||a.onError(Wu(53,h)),i.children.length&&(a.onError(Wu(54,h)),i.children.length=0),{props:[Ns(ir("innerHTML",!0,h),l||ir("",!0))]}},y9=(e,i,a)=>{const{exp:l,loc:h}=e;return l||a.onError(Wu(55,h)),i.children.length&&(a.onError(Wu(56,h)),i.children.length=0),{props:[Ns(ir("textContent",!0),l?wc(l,a)>0?l:no(a.helperString(s2),[l],h):ir("",!0))]}},v9=(e,i,a)=>{const l=L4(e,i,a);if(!l.props.length||i.tagType===1)return l;e.arg&&a.onError(Wu(58,e.arg.loc));const{tag:h}=i,p=a.isCustomElement(h);if(h==="input"||h==="textarea"||h==="select"||p){let y=R4,s=!1;if(h==="input"||p){const b=o2(i,"type");if(b){if(b.type===7)y=b3;else if(b.value)switch(b.value.content){case"radio":y=D4;break;case"checkbox":y=O4;break;case"file":s=!0,a.onError(Wu(59,e.loc));break}}else QP(i)&&(y=b3)}else h==="select"&&(y=z4);s||(l.needRuntime=a.helper(y))}else a.onError(Wu(57,e.loc));return l.props=l.props.filter(y=>!(y.key.type===4&&y.key.content==="modelValue")),l},x9=gl("passive,once,capture"),b9=gl("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),w9=gl("left,right"),V4=gl("onkeyup,onkeydown,onkeypress",!0),T9=(e,i,a,l)=>{const h=[],p=[],y=[];for(let s=0;s<i.length;s++){const b=i[s];b==="native"&&n1("COMPILER_V_ON_NATIVE",a)||x9(b)?y.push(b):w9(b)?ul(e)?V4(e.content)?h.push(b):p.push(b):(h.push(b),p.push(b)):b9(b)?p.push(b):h.push(b)}return{keyModifiers:h,nonKeyModifiers:p,eventOptionModifiers:y}},eS=(e,i)=>ul(e)&&e.content.toLowerCase()==="onclick"?ir(i,!0):e.type!==4?sh(["(",e,`) === "onClick" ? "${i}" : (`,e,")"]):e,S9=(e,i,a)=>I4(e,i,a,l=>{const{modifiers:h}=e;if(!h.length)return l;let{key:p,value:y}=l.props[0];const{keyModifiers:s,nonKeyModifiers:b,eventOptionModifiers:L}=T9(p,h,a,e.loc);if(b.includes("right")&&(p=eS(p,"onContextmenu")),b.includes("middle")&&(p=eS(p,"onMouseup")),b.length&&(y=no(a.helper(B4),[y,JSON.stringify(b)])),s.length&&(!ul(p)||V4(p.content))&&(y=no(a.helper(F4),[y,JSON.stringify(s)])),L.length){const ee=L.map(ip).join("");p=ul(p)?ir(`${p.content}${ee}`,!0):sh(["(",p,`) + "${ee}"`])}return{props:[Ns(p,y)]}}),E9=(e,i,a)=>{const{exp:l,loc:h}=e;return l||a.onError(Wu(61,h)),{props:[],needRuntime:a.helper(N4)}},C9=(e,i)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&i.removeNode()},M9=[m9],A9={cloak:d9,html:_9,text:y9,model:v9,on:S9,show:E9};function k9(e,i={}){return h9(e,gr({},f9,i,{nodeTransforms:[C9,...M9,...i.nodeTransforms||[]],directiveTransforms:gr({},A9,i.directiveTransforms||{}),transformHoist:null}))}const tS=Object.create(null);function G4(e,i){if(!qn(e))if(e.nodeType)e=e.innerHTML;else return Ba;const a=e,l=tS[a];if(l)return l;if(e[0]==="#"){const s=document.querySelector(e);e=s?s.innerHTML:""}const h=gr({hoistStatic:!0,onError:void 0,onWarn:Ba},i);!h.isCustomElement&&typeof customElements<"u"&&(h.isCustomElement=s=>!!customElements.get(s));const{code:p}=k9(e,h),y=new Function("Vue",p)(FP);return y._rc=!0,tS[a]=y}Tw(G4);const P9=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:rw,BaseTransitionPropsValidators:Yv,Comment:Jo,EffectScope:Ov,Fragment:Fs,KeepAlive:W8,ReactiveEffect:dm,Static:Vu,Suspense:B8,Teleport:bE,Text:Ku,Transition:i2,TransitionGroup:XE,VueElement:y1,assertNumber:P8,callWithAsyncErrorHandling:pl,callWithErrorHandling:Xh,camelize:Ys,capitalize:ip,cloneVNode:oh,compatUtils:BE,compile:G4,computed:_m,createApp:Dw,createBlock:g1,createCommentVNode:Ud,createElementBlock:ts,createElementVNode:ii,createHydrationRenderer:yw,createPropsRestProxy:hE,createRenderer:_w,createSSRApp:i4,createSlots:Y8,createStaticVNode:gm,createTextVNode:_1,createVNode:vn,customRef:E8,defineAsyncComponent:G8,defineComponent:Zv,defineCustomElement:Aw,defineEmits:Q8,defineExpose:eE,defineModel:nE,defineOptions:tE,defineProps:J8,defineSSRCustomElement:FE,defineSlots:iE,get devtools(){return Qp},effect:l8,effectScope:n8,getCurrentInstance:Jh,getCurrentScope:W3,getTransitionRawChildren:p1,guardReactiveProps:xw,h:hl,handleError:np,hasInjectionContext:fE,hydrate:Lw,initCustomFormatter:DE,initDirectivesForSSR:r4,inject:cf,isMemoSame:Cw,isProxy:jv,isReactive:Uu,isReadonly:Yu,isRef:so,isRuntimeOnly:PE,isShallow:K0,isVNode:qd,markRaw:Uv,mergeDefaults:lE,mergeModels:cE,mergeProps:e2,nextTick:fm,normalizeClass:hm,normalizeProps:e8,normalizeStyle:cm,onActivated:sw,onBeforeMount:aw,onBeforeUnmount:vf,onBeforeUpdate:Jv,onDeactivated:ow,onErrorCaptured:dw,onMounted:Kh,onRenderTracked:hw,onRenderTriggered:cw,onScopeDispose:s8,onServerPrefetch:lw,onUnmounted:xf,onUpdated:yf,openBlock:Dr,popScopeId:Q3,provide:mm,proxyRefs:Gv,pushScopeId:J3,queuePostFlushCb:$v,reactive:d1,readonly:Fv,ref:ms,registerRuntimeCompiler:Tw,render:rv,renderList:m1,renderSlot:Qy,resolveComponent:za,resolveDirective:X8,resolveDynamicComponent:q8,resolveFilter:zE,resolveTransitionHooks:uf,setBlockTracking:iv,setDevtoolsHook:K3,setTransitionHooks:Zu,shallowReactive:q3,shallowReadonly:x8,shallowRef:b8,ssrContextKey:Sw,ssrUtils:RE,stop:c8,toDisplayString:Ru,toHandlerKey:of,toHandlers:K8,toRaw:ur,toRef:M8,toRefs:C8,toValue:S8,transformVNodeArgs:EE,triggerRef:T8,unref:Xs,useAttrs:fw,useCssModule:NE,useCssVars:jE,useModel:oE,useSSRContext:Ew,useSlots:sE,useTransitionState:Xv,vModelCheckbox:n2,vModelDynamic:Pw,vModelRadio:r2,vModelSelect:kw,vModelText:Q0,vShow:Iw,version:Mw,warn:k8,watch:fl,watchEffect:N8,watchPostEffect:iw,watchSyncEffect:j8,withAsyncContext:dE,withCtx:Ko,withDefaults:rE,withDirectives:nw,withKeys:JE,withMemo:OE,withModifiers:KE,withScopeId:R8},Symbol.toStringTag,{value:"Module"}));//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var W4;function Ki(){return W4.apply(null,arguments)}function I9(e){W4=e}function ah(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function df(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Ar(e,i){return Object.prototype.hasOwnProperty.call(e,i)}function Qw(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var i;for(i in e)if(Ar(e,i))return!1;return!0}function ll(e){return e===void 0}function Xd(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function T1(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function $4(e,i){var a=[],l,h=e.length;for(l=0;l<h;++l)a.push(i(e[l],l));return a}function zu(e,i){for(var a in i)Ar(i,a)&&(e[a]=i[a]);return Ar(i,"toString")&&(e.toString=i.toString),Ar(i,"valueOf")&&(e.valueOf=i.valueOf),e}function Qh(e,i,a,l){return m6(e,i,a,l,!0).utc()}function L9(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Kn(e){return e._pf==null&&(e._pf=L9()),e._pf}var w3;Array.prototype.some?w3=Array.prototype.some:w3=function(e){var i=Object(this),a=i.length>>>0,l;for(l=0;l<a;l++)if(l in i&&e.call(this,i[l],l,i))return!0;return!1};function e5(e){if(e._isValid==null){var i=Kn(e),a=w3.call(i.parsedDateParts,function(h){return h!=null}),l=!isNaN(e._d.getTime())&&i.overflow<0&&!i.empty&&!i.invalidEra&&!i.invalidMonth&&!i.invalidWeekday&&!i.weekdayMismatch&&!i.nullInput&&!i.invalidFormat&&!i.userInvalidated&&(!i.meridiem||i.meridiem&&a);if(e._strict&&(l=l&&i.charsLeftOver===0&&i.unusedTokens.length===0&&i.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=l;else return l}return e._isValid}function h2(e){var i=Qh(NaN);return e!=null?zu(Kn(i),e):Kn(i).userInvalidated=!0,i}var iS=Ki.momentProperties=[],Mb=!1;function t5(e,i){var a,l,h,p=iS.length;if(ll(i._isAMomentObject)||(e._isAMomentObject=i._isAMomentObject),ll(i._i)||(e._i=i._i),ll(i._f)||(e._f=i._f),ll(i._l)||(e._l=i._l),ll(i._strict)||(e._strict=i._strict),ll(i._tzm)||(e._tzm=i._tzm),ll(i._isUTC)||(e._isUTC=i._isUTC),ll(i._offset)||(e._offset=i._offset),ll(i._pf)||(e._pf=Kn(i)),ll(i._locale)||(e._locale=i._locale),p>0)for(a=0;a<p;a++)l=iS[a],h=i[l],ll(h)||(e[l]=h);return e}function S1(e){t5(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Mb===!1&&(Mb=!0,Ki.updateOffset(this),Mb=!1)}function lh(e){return e instanceof S1||e!=null&&e._isAMomentObject!=null}function H4(e){Ki.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Ec(e,i){var a=!0;return zu(function(){if(Ki.deprecationHandler!=null&&Ki.deprecationHandler(null,e),a){var l=[],h,p,y,s=arguments.length;for(p=0;p<s;p++){if(h="",typeof arguments[p]=="object"){h+=`
[`+p+"] ";for(y in arguments[0])Ar(arguments[0],y)&&(h+=y+": "+arguments[0][y]+", ");h=h.slice(0,-2)}else h=arguments[p];l.push(h)}H4(e+`
Arguments: `+Array.prototype.slice.call(l).join("")+`
`+new Error().stack),a=!1}return i.apply(this,arguments)},i)}var nS={};function q4(e,i){Ki.deprecationHandler!=null&&Ki.deprecationHandler(e,i),nS[e]||(H4(i),nS[e]=!0)}Ki.suppressDeprecationWarnings=!1;Ki.deprecationHandler=null;function ed(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function D9(e){var i,a;for(a in e)Ar(e,a)&&(i=e[a],ed(i)?this[a]=i:this["_"+a]=i);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function T3(e,i){var a=zu({},e),l;for(l in i)Ar(i,l)&&(df(e[l])&&df(i[l])?(a[l]={},zu(a[l],e[l]),zu(a[l],i[l])):i[l]!=null?a[l]=i[l]:delete a[l]);for(l in e)Ar(e,l)&&!Ar(i,l)&&df(e[l])&&(a[l]=zu({},a[l]));return a}function i5(e){e!=null&&this.set(e)}var S3;Object.keys?S3=Object.keys:S3=function(e){var i,a=[];for(i in e)Ar(e,i)&&a.push(i);return a};var O9={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function R9(e,i,a){var l=this._calendar[e]||this._calendar.sameElse;return ed(l)?l.call(i,a):l}function Yh(e,i,a){var l=""+Math.abs(e),h=i-l.length,p=e>=0;return(p?a?"+":"":"-")+Math.pow(10,Math.max(0,h)).toString().substr(1)+l}var n5=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Cy=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ab={},W0={};function fn(e,i,a,l){var h=l;typeof l=="string"&&(h=function(){return this[l]()}),e&&(W0[e]=h),i&&(W0[i[0]]=function(){return Yh(h.apply(this,arguments),i[1],i[2])}),a&&(W0[a]=function(){return this.localeData().ordinal(h.apply(this,arguments),e)})}function z9(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function B9(e){var i=e.match(n5),a,l;for(a=0,l=i.length;a<l;a++)W0[i[a]]?i[a]=W0[i[a]]:i[a]=z9(i[a]);return function(h){var p="",y;for(y=0;y<l;y++)p+=ed(i[y])?i[y].call(h,e):i[y];return p}}function jy(e,i){return e.isValid()?(i=X4(i,e.localeData()),Ab[i]=Ab[i]||B9(i),Ab[i](e)):e.localeData().invalidDate()}function X4(e,i){var a=5;function l(h){return i.longDateFormat(h)||h}for(Cy.lastIndex=0;a>=0&&Cy.test(e);)e=e.replace(Cy,l),Cy.lastIndex=0,a-=1;return e}var F9={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function N9(e){var i=this._longDateFormat[e],a=this._longDateFormat[e.toUpperCase()];return i||!a?i:(this._longDateFormat[e]=a.match(n5).map(function(l){return l==="MMMM"||l==="MM"||l==="DD"||l==="dddd"?l.slice(1):l}).join(""),this._longDateFormat[e])}var j9="Invalid date";function U9(){return this._invalidDate}var V9="%d",G9=/\d{1,2}/;function W9(e){return this._ordinal.replace("%d",e)}var $9={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function H9(e,i,a,l){var h=this._relativeTime[a];return ed(h)?h(e,i,a,l):h.replace(/%d/i,e)}function q9(e,i){var a=this._relativeTime[e>0?"future":"past"];return ed(a)?a(i):a.replace(/%s/i,i)}var Gg={};function va(e,i){var a=e.toLowerCase();Gg[a]=Gg[a+"s"]=Gg[i]=e}function Cc(e){return typeof e=="string"?Gg[e]||Gg[e.toLowerCase()]:void 0}function r5(e){var i={},a,l;for(l in e)Ar(e,l)&&(a=Cc(l),a&&(i[a]=e[l]));return i}var Y4={};function xa(e,i){Y4[e]=i}function X9(e){var i=[],a;for(a in e)Ar(e,a)&&i.push({unit:a,priority:Y4[a]});return i.sort(function(l,h){return l.priority-h.priority}),i}function d2(e){return e%4===0&&e%100!==0||e%400===0}function xc(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function cr(e){var i=+e,a=0;return i!==0&&isFinite(i)&&(a=xc(i)),a}function ym(e,i){return function(a){return a!=null?(Z4(this,e,a),Ki.updateOffset(this,i),this):gv(this,e)}}function gv(e,i){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+i]():NaN}function Z4(e,i,a){e.isValid()&&!isNaN(a)&&(i==="FullYear"&&d2(e.year())&&e.month()===1&&e.date()===29?(a=cr(a),e._d["set"+(e._isUTC?"UTC":"")+i](a,e.month(),_2(a,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+i](a))}function Y9(e){return e=Cc(e),ed(this[e])?this[e]():this}function Z9(e,i){if(typeof e=="object"){e=r5(e);var a=X9(e),l,h=a.length;for(l=0;l<h;l++)this[a[l].unit](e[a[l].unit])}else if(e=Cc(e),ed(this[e]))return this[e](i);return this}var K4=/\d/,Yl=/\d\d/,J4=/\d{3}/,s5=/\d{4}/,u2=/[+-]?\d{6}/,_s=/\d\d?/,Q4=/\d\d\d\d?/,e6=/\d\d\d\d\d\d?/,p2=/\d{1,3}/,o5=/\d{1,4}/,f2=/[+-]?\d{1,6}/,vm=/\d+/,m2=/[+-]?\d+/,K9=/Z|[+-]\d\d:?\d\d/gi,g2=/Z|[+-]\d\d(?::?\d\d)?/gi,J9=/[+-]?\d+(\.\d{1,3})?/,E1=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,_v;_v={};function rn(e,i,a){_v[e]=ed(i)?i:function(l,h){return l&&a?a:i}}function Q9(e,i){return Ar(_v,e)?_v[e](i._strict,i._locale):new RegExp(eL(e))}function eL(e){return $l(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(i,a,l,h,p){return a||l||h||p}))}function $l(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var E3={};function Kr(e,i){var a,l=i,h;for(typeof e=="string"&&(e=[e]),Xd(i)&&(l=function(p,y){y[i]=cr(p)}),h=e.length,a=0;a<h;a++)E3[e[a]]=l}function C1(e,i){Kr(e,function(a,l,h,p){h._w=h._w||{},i(a,h._w,h,p)})}function tL(e,i,a){i!=null&&Ar(E3,e)&&E3[e](i,a._a,a,e)}var ya=0,Vd=1,$h=2,bo=3,rh=4,Gd=5,rf=6,iL=7,nL=8;function rL(e,i){return(e%i+i)%i}var qs;Array.prototype.indexOf?qs=Array.prototype.indexOf:qs=function(e){var i;for(i=0;i<this.length;++i)if(this[i]===e)return i;return-1};function _2(e,i){if(isNaN(e)||isNaN(i))return NaN;var a=rL(i,12);return e+=(i-a)/12,a===1?d2(e)?29:28:31-a%7%2}fn("M",["MM",2],"Mo",function(){return this.month()+1});fn("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});fn("MMMM",0,0,function(e){return this.localeData().months(this,e)});va("month","M");xa("month",8);rn("M",_s);rn("MM",_s,Yl);rn("MMM",function(e,i){return i.monthsShortRegex(e)});rn("MMMM",function(e,i){return i.monthsRegex(e)});Kr(["M","MM"],function(e,i){i[Vd]=cr(e)-1});Kr(["MMM","MMMM"],function(e,i,a,l){var h=a._locale.monthsParse(e,l,a._strict);h!=null?i[Vd]=h:Kn(a).invalidMonth=e});var sL="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),t6="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),i6=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,oL=E1,aL=E1;function lL(e,i){return e?ah(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||i6).test(i)?"format":"standalone"][e.month()]:ah(this._months)?this._months:this._months.standalone}function cL(e,i){return e?ah(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[i6.test(i)?"format":"standalone"][e.month()]:ah(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function hL(e,i,a){var l,h,p,y=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],l=0;l<12;++l)p=Qh([2e3,l]),this._shortMonthsParse[l]=this.monthsShort(p,"").toLocaleLowerCase(),this._longMonthsParse[l]=this.months(p,"").toLocaleLowerCase();return a?i==="MMM"?(h=qs.call(this._shortMonthsParse,y),h!==-1?h:null):(h=qs.call(this._longMonthsParse,y),h!==-1?h:null):i==="MMM"?(h=qs.call(this._shortMonthsParse,y),h!==-1?h:(h=qs.call(this._longMonthsParse,y),h!==-1?h:null)):(h=qs.call(this._longMonthsParse,y),h!==-1?h:(h=qs.call(this._shortMonthsParse,y),h!==-1?h:null))}function dL(e,i,a){var l,h,p;if(this._monthsParseExact)return hL.call(this,e,i,a);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),l=0;l<12;l++){if(h=Qh([2e3,l]),a&&!this._longMonthsParse[l]&&(this._longMonthsParse[l]=new RegExp("^"+this.months(h,"").replace(".","")+"$","i"),this._shortMonthsParse[l]=new RegExp("^"+this.monthsShort(h,"").replace(".","")+"$","i")),!a&&!this._monthsParse[l]&&(p="^"+this.months(h,"")+"|^"+this.monthsShort(h,""),this._monthsParse[l]=new RegExp(p.replace(".",""),"i")),a&&i==="MMMM"&&this._longMonthsParse[l].test(e))return l;if(a&&i==="MMM"&&this._shortMonthsParse[l].test(e))return l;if(!a&&this._monthsParse[l].test(e))return l}}function n6(e,i){var a;if(!e.isValid())return e;if(typeof i=="string"){if(/^\d+$/.test(i))i=cr(i);else if(i=e.localeData().monthsParse(i),!Xd(i))return e}return a=Math.min(e.date(),_2(e.year(),i)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](i,a),e}function r6(e){return e!=null?(n6(this,e),Ki.updateOffset(this,!0),this):gv(this,"Month")}function uL(){return _2(this.year(),this.month())}function pL(e){return this._monthsParseExact?(Ar(this,"_monthsRegex")||s6.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Ar(this,"_monthsShortRegex")||(this._monthsShortRegex=oL),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function fL(e){return this._monthsParseExact?(Ar(this,"_monthsRegex")||s6.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Ar(this,"_monthsRegex")||(this._monthsRegex=aL),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function s6(){function e(y,s){return s.length-y.length}var i=[],a=[],l=[],h,p;for(h=0;h<12;h++)p=Qh([2e3,h]),i.push(this.monthsShort(p,"")),a.push(this.months(p,"")),l.push(this.months(p,"")),l.push(this.monthsShort(p,""));for(i.sort(e),a.sort(e),l.sort(e),h=0;h<12;h++)i[h]=$l(i[h]),a[h]=$l(a[h]);for(h=0;h<24;h++)l[h]=$l(l[h]);this._monthsRegex=new RegExp("^("+l.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}fn("Y",0,0,function(){var e=this.year();return e<=9999?Yh(e,4):"+"+e});fn(0,["YY",2],0,function(){return this.year()%100});fn(0,["YYYY",4],0,"year");fn(0,["YYYYY",5],0,"year");fn(0,["YYYYYY",6,!0],0,"year");va("year","y");xa("year",1);rn("Y",m2);rn("YY",_s,Yl);rn("YYYY",o5,s5);rn("YYYYY",f2,u2);rn("YYYYYY",f2,u2);Kr(["YYYYY","YYYYYY"],ya);Kr("YYYY",function(e,i){i[ya]=e.length===2?Ki.parseTwoDigitYear(e):cr(e)});Kr("YY",function(e,i){i[ya]=Ki.parseTwoDigitYear(e)});Kr("Y",function(e,i){i[ya]=parseInt(e,10)});function Wg(e){return d2(e)?366:365}Ki.parseTwoDigitYear=function(e){return cr(e)+(cr(e)>68?1900:2e3)};var o6=ym("FullYear",!0);function mL(){return d2(this.year())}function gL(e,i,a,l,h,p,y){var s;return e<100&&e>=0?(s=new Date(e+400,i,a,l,h,p,y),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,i,a,l,h,p,y),s}function s1(e){var i,a;return e<100&&e>=0?(a=Array.prototype.slice.call(arguments),a[0]=e+400,i=new Date(Date.UTC.apply(null,a)),isFinite(i.getUTCFullYear())&&i.setUTCFullYear(e)):i=new Date(Date.UTC.apply(null,arguments)),i}function yv(e,i,a){var l=7+i-a,h=(7+s1(e,0,l).getUTCDay()-i)%7;return-h+l-1}function a6(e,i,a,l,h){var p=(7+a-l)%7,y=yv(e,l,h),s=1+7*(i-1)+p+y,b,L;return s<=0?(b=e-1,L=Wg(b)+s):s>Wg(e)?(b=e+1,L=s-Wg(e)):(b=e,L=s),{year:b,dayOfYear:L}}function o1(e,i,a){var l=yv(e.year(),i,a),h=Math.floor((e.dayOfYear()-l-1)/7)+1,p,y;return h<1?(y=e.year()-1,p=h+$d(y,i,a)):h>$d(e.year(),i,a)?(p=h-$d(e.year(),i,a),y=e.year()+1):(y=e.year(),p=h),{week:p,year:y}}function $d(e,i,a){var l=yv(e,i,a),h=yv(e+1,i,a);return(Wg(e)-l+h)/7}fn("w",["ww",2],"wo","week");fn("W",["WW",2],"Wo","isoWeek");va("week","w");va("isoWeek","W");xa("week",5);xa("isoWeek",5);rn("w",_s);rn("ww",_s,Yl);rn("W",_s);rn("WW",_s,Yl);C1(["w","ww","W","WW"],function(e,i,a,l){i[l.substr(0,1)]=cr(e)});function _L(e){return o1(e,this._week.dow,this._week.doy).week}var yL={dow:0,doy:6};function vL(){return this._week.dow}function xL(){return this._week.doy}function bL(e){var i=this.localeData().week(this);return e==null?i:this.add((e-i)*7,"d")}function wL(e){var i=o1(this,1,4).week;return e==null?i:this.add((e-i)*7,"d")}fn("d",0,"do","day");fn("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});fn("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});fn("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});fn("e",0,0,"weekday");fn("E",0,0,"isoWeekday");va("day","d");va("weekday","e");va("isoWeekday","E");xa("day",11);xa("weekday",11);xa("isoWeekday",11);rn("d",_s);rn("e",_s);rn("E",_s);rn("dd",function(e,i){return i.weekdaysMinRegex(e)});rn("ddd",function(e,i){return i.weekdaysShortRegex(e)});rn("dddd",function(e,i){return i.weekdaysRegex(e)});C1(["dd","ddd","dddd"],function(e,i,a,l){var h=a._locale.weekdaysParse(e,l,a._strict);h!=null?i.d=h:Kn(a).invalidWeekday=e});C1(["d","e","E"],function(e,i,a,l){i[l]=cr(e)});function TL(e,i){return typeof e!="string"?e:isNaN(e)?(e=i.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function SL(e,i){return typeof e=="string"?i.weekdaysParse(e)%7||7:isNaN(e)?null:e}function a5(e,i){return e.slice(i,7).concat(e.slice(0,i))}var EL="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),l6="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),CL="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ML=E1,AL=E1,kL=E1;function PL(e,i){var a=ah(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(i)?"format":"standalone"];return e===!0?a5(a,this._week.dow):e?a[e.day()]:a}function IL(e){return e===!0?a5(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function LL(e){return e===!0?a5(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function DL(e,i,a){var l,h,p,y=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],l=0;l<7;++l)p=Qh([2e3,1]).day(l),this._minWeekdaysParse[l]=this.weekdaysMin(p,"").toLocaleLowerCase(),this._shortWeekdaysParse[l]=this.weekdaysShort(p,"").toLocaleLowerCase(),this._weekdaysParse[l]=this.weekdays(p,"").toLocaleLowerCase();return a?i==="dddd"?(h=qs.call(this._weekdaysParse,y),h!==-1?h:null):i==="ddd"?(h=qs.call(this._shortWeekdaysParse,y),h!==-1?h:null):(h=qs.call(this._minWeekdaysParse,y),h!==-1?h:null):i==="dddd"?(h=qs.call(this._weekdaysParse,y),h!==-1||(h=qs.call(this._shortWeekdaysParse,y),h!==-1)?h:(h=qs.call(this._minWeekdaysParse,y),h!==-1?h:null)):i==="ddd"?(h=qs.call(this._shortWeekdaysParse,y),h!==-1||(h=qs.call(this._weekdaysParse,y),h!==-1)?h:(h=qs.call(this._minWeekdaysParse,y),h!==-1?h:null)):(h=qs.call(this._minWeekdaysParse,y),h!==-1||(h=qs.call(this._weekdaysParse,y),h!==-1)?h:(h=qs.call(this._shortWeekdaysParse,y),h!==-1?h:null))}function OL(e,i,a){var l,h,p;if(this._weekdaysParseExact)return DL.call(this,e,i,a);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),l=0;l<7;l++){if(h=Qh([2e3,1]).day(l),a&&!this._fullWeekdaysParse[l]&&(this._fullWeekdaysParse[l]=new RegExp("^"+this.weekdays(h,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[l]=new RegExp("^"+this.weekdaysShort(h,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[l]=new RegExp("^"+this.weekdaysMin(h,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[l]||(p="^"+this.weekdays(h,"")+"|^"+this.weekdaysShort(h,"")+"|^"+this.weekdaysMin(h,""),this._weekdaysParse[l]=new RegExp(p.replace(".",""),"i")),a&&i==="dddd"&&this._fullWeekdaysParse[l].test(e))return l;if(a&&i==="ddd"&&this._shortWeekdaysParse[l].test(e))return l;if(a&&i==="dd"&&this._minWeekdaysParse[l].test(e))return l;if(!a&&this._weekdaysParse[l].test(e))return l}}function RL(e){if(!this.isValid())return e!=null?this:NaN;var i=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=TL(e,this.localeData()),this.add(e-i,"d")):i}function zL(e){if(!this.isValid())return e!=null?this:NaN;var i=(this.day()+7-this.localeData()._week.dow)%7;return e==null?i:this.add(e-i,"d")}function BL(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var i=SL(e,this.localeData());return this.day(this.day()%7?i:i-7)}else return this.day()||7}function FL(e){return this._weekdaysParseExact?(Ar(this,"_weekdaysRegex")||l5.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Ar(this,"_weekdaysRegex")||(this._weekdaysRegex=ML),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function NL(e){return this._weekdaysParseExact?(Ar(this,"_weekdaysRegex")||l5.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ar(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=AL),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function jL(e){return this._weekdaysParseExact?(Ar(this,"_weekdaysRegex")||l5.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ar(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=kL),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function l5(){function e(ee,F){return F.length-ee.length}var i=[],a=[],l=[],h=[],p,y,s,b,L;for(p=0;p<7;p++)y=Qh([2e3,1]).day(p),s=$l(this.weekdaysMin(y,"")),b=$l(this.weekdaysShort(y,"")),L=$l(this.weekdays(y,"")),i.push(s),a.push(b),l.push(L),h.push(s),h.push(b),h.push(L);i.sort(e),a.sort(e),l.sort(e),h.sort(e),this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function c5(){return this.hours()%12||12}function UL(){return this.hours()||24}fn("H",["HH",2],0,"hour");fn("h",["hh",2],0,c5);fn("k",["kk",2],0,UL);fn("hmm",0,0,function(){return""+c5.apply(this)+Yh(this.minutes(),2)});fn("hmmss",0,0,function(){return""+c5.apply(this)+Yh(this.minutes(),2)+Yh(this.seconds(),2)});fn("Hmm",0,0,function(){return""+this.hours()+Yh(this.minutes(),2)});fn("Hmmss",0,0,function(){return""+this.hours()+Yh(this.minutes(),2)+Yh(this.seconds(),2)});function c6(e,i){fn(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),i)})}c6("a",!0);c6("A",!1);va("hour","h");xa("hour",13);function h6(e,i){return i._meridiemParse}rn("a",h6);rn("A",h6);rn("H",_s);rn("h",_s);rn("k",_s);rn("HH",_s,Yl);rn("hh",_s,Yl);rn("kk",_s,Yl);rn("hmm",Q4);rn("hmmss",e6);rn("Hmm",Q4);rn("Hmmss",e6);Kr(["H","HH"],bo);Kr(["k","kk"],function(e,i,a){var l=cr(e);i[bo]=l===24?0:l});Kr(["a","A"],function(e,i,a){a._isPm=a._locale.isPM(e),a._meridiem=e});Kr(["h","hh"],function(e,i,a){i[bo]=cr(e),Kn(a).bigHour=!0});Kr("hmm",function(e,i,a){var l=e.length-2;i[bo]=cr(e.substr(0,l)),i[rh]=cr(e.substr(l)),Kn(a).bigHour=!0});Kr("hmmss",function(e,i,a){var l=e.length-4,h=e.length-2;i[bo]=cr(e.substr(0,l)),i[rh]=cr(e.substr(l,2)),i[Gd]=cr(e.substr(h)),Kn(a).bigHour=!0});Kr("Hmm",function(e,i,a){var l=e.length-2;i[bo]=cr(e.substr(0,l)),i[rh]=cr(e.substr(l))});Kr("Hmmss",function(e,i,a){var l=e.length-4,h=e.length-2;i[bo]=cr(e.substr(0,l)),i[rh]=cr(e.substr(l,2)),i[Gd]=cr(e.substr(h))});function VL(e){return(e+"").toLowerCase().charAt(0)==="p"}var GL=/[ap]\.?m?\.?/i,WL=ym("Hours",!0);function $L(e,i,a){return e>11?a?"pm":"PM":a?"am":"AM"}var d6={calendar:O9,longDateFormat:F9,invalidDate:j9,ordinal:V9,dayOfMonthOrdinalParse:G9,relativeTime:$9,months:sL,monthsShort:t6,week:yL,weekdays:EL,weekdaysMin:CL,weekdaysShort:l6,meridiemParse:GL},Ts={},Lg={},a1;function HL(e,i){var a,l=Math.min(e.length,i.length);for(a=0;a<l;a+=1)if(e[a]!==i[a])return a;return l}function rS(e){return e&&e.toLowerCase().replace("_","-")}function qL(e){for(var i=0,a,l,h,p;i<e.length;){for(p=rS(e[i]).split("-"),a=p.length,l=rS(e[i+1]),l=l?l.split("-"):null;a>0;){if(h=y2(p.slice(0,a).join("-")),h)return h;if(l&&l.length>=a&&HL(p,l)>=a-1)break;a--}i++}return a1}function XL(e){return e.match("^[^/\\\\]*$")!=null}function y2(e){var i=null,a;if(Ts[e]===void 0&&typeof $y<"u"&&$y&&$y.exports&&XL(e))try{i=a1._abbr,a=require,a("./locale/"+e),$u(i)}catch{Ts[e]=null}return Ts[e]}function $u(e,i){var a;return e&&(ll(i)?a=Zd(e):a=h5(e,i),a?a1=a:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),a1._abbr}function h5(e,i){if(i!==null){var a,l=d6;if(i.abbr=e,Ts[e]!=null)q4("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),l=Ts[e]._config;else if(i.parentLocale!=null)if(Ts[i.parentLocale]!=null)l=Ts[i.parentLocale]._config;else if(a=y2(i.parentLocale),a!=null)l=a._config;else return Lg[i.parentLocale]||(Lg[i.parentLocale]=[]),Lg[i.parentLocale].push({name:e,config:i}),null;return Ts[e]=new i5(T3(l,i)),Lg[e]&&Lg[e].forEach(function(h){h5(h.name,h.config)}),$u(e),Ts[e]}else return delete Ts[e],null}function YL(e,i){if(i!=null){var a,l,h=d6;Ts[e]!=null&&Ts[e].parentLocale!=null?Ts[e].set(T3(Ts[e]._config,i)):(l=y2(e),l!=null&&(h=l._config),i=T3(h,i),l==null&&(i.abbr=e),a=new i5(i),a.parentLocale=Ts[e],Ts[e]=a),$u(e)}else Ts[e]!=null&&(Ts[e].parentLocale!=null?(Ts[e]=Ts[e].parentLocale,e===$u()&&$u(e)):Ts[e]!=null&&delete Ts[e]);return Ts[e]}function Zd(e){var i;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return a1;if(!ah(e)){if(i=y2(e),i)return i;e=[e]}return qL(e)}function ZL(){return S3(Ts)}function d5(e){var i,a=e._a;return a&&Kn(e).overflow===-2&&(i=a[Vd]<0||a[Vd]>11?Vd:a[$h]<1||a[$h]>_2(a[ya],a[Vd])?$h:a[bo]<0||a[bo]>24||a[bo]===24&&(a[rh]!==0||a[Gd]!==0||a[rf]!==0)?bo:a[rh]<0||a[rh]>59?rh:a[Gd]<0||a[Gd]>59?Gd:a[rf]<0||a[rf]>999?rf:-1,Kn(e)._overflowDayOfYear&&(i<ya||i>$h)&&(i=$h),Kn(e)._overflowWeeks&&i===-1&&(i=iL),Kn(e)._overflowWeekday&&i===-1&&(i=nL),Kn(e).overflow=i),e}var KL=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,JL=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,QL=/Z|[+-]\d\d(?::?\d\d)?/,My=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],kb=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],e7=/^\/?Date\((-?\d+)/i,t7=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,i7={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function u6(e){var i,a,l=e._i,h=KL.exec(l)||JL.exec(l),p,y,s,b,L=My.length,ee=kb.length;if(h){for(Kn(e).iso=!0,i=0,a=L;i<a;i++)if(My[i][1].exec(h[1])){y=My[i][0],p=My[i][2]!==!1;break}if(y==null){e._isValid=!1;return}if(h[3]){for(i=0,a=ee;i<a;i++)if(kb[i][1].exec(h[3])){s=(h[2]||" ")+kb[i][0];break}if(s==null){e._isValid=!1;return}}if(!p&&s!=null){e._isValid=!1;return}if(h[4])if(QL.exec(h[4]))b="Z";else{e._isValid=!1;return}e._f=y+(s||"")+(b||""),p5(e)}else e._isValid=!1}function n7(e,i,a,l,h,p){var y=[r7(e),t6.indexOf(i),parseInt(a,10),parseInt(l,10),parseInt(h,10)];return p&&y.push(parseInt(p,10)),y}function r7(e){var i=parseInt(e,10);return i<=49?2e3+i:i<=999?1900+i:i}function s7(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function o7(e,i,a){if(e){var l=l6.indexOf(e),h=new Date(i[0],i[1],i[2]).getDay();if(l!==h)return Kn(a).weekdayMismatch=!0,a._isValid=!1,!1}return!0}function a7(e,i,a){if(e)return i7[e];if(i)return 0;var l=parseInt(a,10),h=l%100,p=(l-h)/100;return p*60+h}function p6(e){var i=t7.exec(s7(e._i)),a;if(i){if(a=n7(i[4],i[3],i[2],i[5],i[6],i[7]),!o7(i[1],a,e))return;e._a=a,e._tzm=a7(i[8],i[9],i[10]),e._d=s1.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Kn(e).rfc2822=!0}else e._isValid=!1}function l7(e){var i=e7.exec(e._i);if(i!==null){e._d=new Date(+i[1]);return}if(u6(e),e._isValid===!1)delete e._isValid;else return;if(p6(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Ki.createFromInputFallback(e)}Ki.createFromInputFallback=Ec("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function z0(e,i,a){return e??i??a}function c7(e){var i=new Date(Ki.now());return e._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function u5(e){var i,a,l=[],h,p,y;if(!e._d){for(h=c7(e),e._w&&e._a[$h]==null&&e._a[Vd]==null&&h7(e),e._dayOfYear!=null&&(y=z0(e._a[ya],h[ya]),(e._dayOfYear>Wg(y)||e._dayOfYear===0)&&(Kn(e)._overflowDayOfYear=!0),a=s1(y,0,e._dayOfYear),e._a[Vd]=a.getUTCMonth(),e._a[$h]=a.getUTCDate()),i=0;i<3&&e._a[i]==null;++i)e._a[i]=l[i]=h[i];for(;i<7;i++)e._a[i]=l[i]=e._a[i]==null?i===2?1:0:e._a[i];e._a[bo]===24&&e._a[rh]===0&&e._a[Gd]===0&&e._a[rf]===0&&(e._nextDay=!0,e._a[bo]=0),e._d=(e._useUTC?s1:gL).apply(null,l),p=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[bo]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==p&&(Kn(e).weekdayMismatch=!0)}}function h7(e){var i,a,l,h,p,y,s,b,L;i=e._w,i.GG!=null||i.W!=null||i.E!=null?(p=1,y=4,a=z0(i.GG,e._a[ya],o1(gs(),1,4).year),l=z0(i.W,1),h=z0(i.E,1),(h<1||h>7)&&(b=!0)):(p=e._locale._week.dow,y=e._locale._week.doy,L=o1(gs(),p,y),a=z0(i.gg,e._a[ya],L.year),l=z0(i.w,L.week),i.d!=null?(h=i.d,(h<0||h>6)&&(b=!0)):i.e!=null?(h=i.e+p,(i.e<0||i.e>6)&&(b=!0)):h=p),l<1||l>$d(a,p,y)?Kn(e)._overflowWeeks=!0:b!=null?Kn(e)._overflowWeekday=!0:(s=a6(a,l,h,p,y),e._a[ya]=s.year,e._dayOfYear=s.dayOfYear)}Ki.ISO_8601=function(){};Ki.RFC_2822=function(){};function p5(e){if(e._f===Ki.ISO_8601){u6(e);return}if(e._f===Ki.RFC_2822){p6(e);return}e._a=[],Kn(e).empty=!0;var i=""+e._i,a,l,h,p,y,s=i.length,b=0,L,ee;for(h=X4(e._f,e._locale).match(n5)||[],ee=h.length,a=0;a<ee;a++)p=h[a],l=(i.match(Q9(p,e))||[])[0],l&&(y=i.substr(0,i.indexOf(l)),y.length>0&&Kn(e).unusedInput.push(y),i=i.slice(i.indexOf(l)+l.length),b+=l.length),W0[p]?(l?Kn(e).empty=!1:Kn(e).unusedTokens.push(p),tL(p,l,e)):e._strict&&!l&&Kn(e).unusedTokens.push(p);Kn(e).charsLeftOver=s-b,i.length>0&&Kn(e).unusedInput.push(i),e._a[bo]<=12&&Kn(e).bigHour===!0&&e._a[bo]>0&&(Kn(e).bigHour=void 0),Kn(e).parsedDateParts=e._a.slice(0),Kn(e).meridiem=e._meridiem,e._a[bo]=d7(e._locale,e._a[bo],e._meridiem),L=Kn(e).era,L!==null&&(e._a[ya]=e._locale.erasConvertYear(L,e._a[ya])),u5(e),d5(e)}function d7(e,i,a){var l;return a==null?i:e.meridiemHour!=null?e.meridiemHour(i,a):(e.isPM!=null&&(l=e.isPM(a),l&&i<12&&(i+=12),!l&&i===12&&(i=0)),i)}function u7(e){var i,a,l,h,p,y,s=!1,b=e._f.length;if(b===0){Kn(e).invalidFormat=!0,e._d=new Date(NaN);return}for(h=0;h<b;h++)p=0,y=!1,i=t5({},e),e._useUTC!=null&&(i._useUTC=e._useUTC),i._f=e._f[h],p5(i),e5(i)&&(y=!0),p+=Kn(i).charsLeftOver,p+=Kn(i).unusedTokens.length*10,Kn(i).score=p,s?p<l&&(l=p,a=i):(l==null||p<l||y)&&(l=p,a=i,y&&(s=!0));zu(e,a||i)}function p7(e){if(!e._d){var i=r5(e._i),a=i.day===void 0?i.date:i.day;e._a=$4([i.year,i.month,a,i.hour,i.minute,i.second,i.millisecond],function(l){return l&&parseInt(l,10)}),u5(e)}}function f7(e){var i=new S1(d5(f6(e)));return i._nextDay&&(i.add(1,"d"),i._nextDay=void 0),i}function f6(e){var i=e._i,a=e._f;return e._locale=e._locale||Zd(e._l),i===null||a===void 0&&i===""?h2({nullInput:!0}):(typeof i=="string"&&(e._i=i=e._locale.preparse(i)),lh(i)?new S1(d5(i)):(T1(i)?e._d=i:ah(a)?u7(e):a?p5(e):m7(e),e5(e)||(e._d=null),e))}function m7(e){var i=e._i;ll(i)?e._d=new Date(Ki.now()):T1(i)?e._d=new Date(i.valueOf()):typeof i=="string"?l7(e):ah(i)?(e._a=$4(i.slice(0),function(a){return parseInt(a,10)}),u5(e)):df(i)?p7(e):Xd(i)?e._d=new Date(i):Ki.createFromInputFallback(e)}function m6(e,i,a,l,h){var p={};return(i===!0||i===!1)&&(l=i,i=void 0),(a===!0||a===!1)&&(l=a,a=void 0),(df(e)&&Qw(e)||ah(e)&&e.length===0)&&(e=void 0),p._isAMomentObject=!0,p._useUTC=p._isUTC=h,p._l=a,p._i=e,p._f=i,p._strict=l,f7(p)}function gs(e,i,a,l){return m6(e,i,a,l,!1)}var g7=Ec("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=gs.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:h2()}),_7=Ec("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=gs.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:h2()});function g6(e,i){var a,l;if(i.length===1&&ah(i[0])&&(i=i[0]),!i.length)return gs();for(a=i[0],l=1;l<i.length;++l)(!i[l].isValid()||i[l][e](a))&&(a=i[l]);return a}function y7(){var e=[].slice.call(arguments,0);return g6("isBefore",e)}function v7(){var e=[].slice.call(arguments,0);return g6("isAfter",e)}var x7=function(){return Date.now?Date.now():+new Date},Dg=["year","quarter","month","week","day","hour","minute","second","millisecond"];function b7(e){var i,a=!1,l,h=Dg.length;for(i in e)if(Ar(e,i)&&!(qs.call(Dg,i)!==-1&&(e[i]==null||!isNaN(e[i]))))return!1;for(l=0;l<h;++l)if(e[Dg[l]]){if(a)return!1;parseFloat(e[Dg[l]])!==cr(e[Dg[l]])&&(a=!0)}return!0}function w7(){return this._isValid}function T7(){return hh(NaN)}function v2(e){var i=r5(e),a=i.year||0,l=i.quarter||0,h=i.month||0,p=i.week||i.isoWeek||0,y=i.day||0,s=i.hour||0,b=i.minute||0,L=i.second||0,ee=i.millisecond||0;this._isValid=b7(i),this._milliseconds=+ee+L*1e3+b*6e4+s*1e3*60*60,this._days=+y+p*7,this._months=+h+l*3+a*12,this._data={},this._locale=Zd(),this._bubble()}function Uy(e){return e instanceof v2}function C3(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function S7(e,i,a){var l=Math.min(e.length,i.length),h=Math.abs(e.length-i.length),p=0,y;for(y=0;y<l;y++)(a&&e[y]!==i[y]||!a&&cr(e[y])!==cr(i[y]))&&p++;return p+h}function _6(e,i){fn(e,0,0,function(){var a=this.utcOffset(),l="+";return a<0&&(a=-a,l="-"),l+Yh(~~(a/60),2)+i+Yh(~~a%60,2)})}_6("Z",":");_6("ZZ","");rn("Z",g2);rn("ZZ",g2);Kr(["Z","ZZ"],function(e,i,a){a._useUTC=!0,a._tzm=f5(g2,e)});var E7=/([\+\-]|\d\d)/gi;function f5(e,i){var a=(i||"").match(e),l,h,p;return a===null?null:(l=a[a.length-1]||[],h=(l+"").match(E7)||["-",0,0],p=+(h[1]*60)+cr(h[2]),p===0?0:h[0]==="+"?p:-p)}function m5(e,i){var a,l;return i._isUTC?(a=i.clone(),l=(lh(e)||T1(e)?e.valueOf():gs(e).valueOf())-a.valueOf(),a._d.setTime(a._d.valueOf()+l),Ki.updateOffset(a,!1),a):gs(e).local()}function M3(e){return-Math.round(e._d.getTimezoneOffset())}Ki.updateOffset=function(){};function C7(e,i,a){var l=this._offset||0,h;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=f5(g2,e),e===null)return this}else Math.abs(e)<16&&!a&&(e=e*60);return!this._isUTC&&i&&(h=M3(this)),this._offset=e,this._isUTC=!0,h!=null&&this.add(h,"m"),l!==e&&(!i||this._changeInProgress?x6(this,hh(e-l,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Ki.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?l:M3(this)}function M7(e,i){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,i),this):-this.utcOffset()}function A7(e){return this.utcOffset(0,e)}function k7(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(M3(this),"m")),this}function P7(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=f5(K9,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function I7(e){return this.isValid()?(e=e?gs(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function L7(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function D7(){if(!ll(this._isDSTShifted))return this._isDSTShifted;var e={},i;return t5(e,this),e=f6(e),e._a?(i=e._isUTC?Qh(e._a):gs(e._a),this._isDSTShifted=this.isValid()&&S7(e._a,i.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function O7(){return this.isValid()?!this._isUTC:!1}function R7(){return this.isValid()?this._isUTC:!1}function y6(){return this.isValid()?this._isUTC&&this._offset===0:!1}var z7=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,B7=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function hh(e,i){var a=e,l=null,h,p,y;return Uy(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:Xd(e)||!isNaN(+e)?(a={},i?a[i]=+e:a.milliseconds=+e):(l=z7.exec(e))?(h=l[1]==="-"?-1:1,a={y:0,d:cr(l[$h])*h,h:cr(l[bo])*h,m:cr(l[rh])*h,s:cr(l[Gd])*h,ms:cr(C3(l[rf]*1e3))*h}):(l=B7.exec(e))?(h=l[1]==="-"?-1:1,a={y:Yp(l[2],h),M:Yp(l[3],h),w:Yp(l[4],h),d:Yp(l[5],h),h:Yp(l[6],h),m:Yp(l[7],h),s:Yp(l[8],h)}):a==null?a={}:typeof a=="object"&&("from"in a||"to"in a)&&(y=F7(gs(a.from),gs(a.to)),a={},a.ms=y.milliseconds,a.M=y.months),p=new v2(a),Uy(e)&&Ar(e,"_locale")&&(p._locale=e._locale),Uy(e)&&Ar(e,"_isValid")&&(p._isValid=e._isValid),p}hh.fn=v2.prototype;hh.invalid=T7;function Yp(e,i){var a=e&&parseFloat(e.replace(",","."));return(isNaN(a)?0:a)*i}function sS(e,i){var a={};return a.months=i.month()-e.month()+(i.year()-e.year())*12,e.clone().add(a.months,"M").isAfter(i)&&--a.months,a.milliseconds=+i-+e.clone().add(a.months,"M"),a}function F7(e,i){var a;return e.isValid()&&i.isValid()?(i=m5(i,e),e.isBefore(i)?a=sS(e,i):(a=sS(i,e),a.milliseconds=-a.milliseconds,a.months=-a.months),a):{milliseconds:0,months:0}}function v6(e,i){return function(a,l){var h,p;return l!==null&&!isNaN(+l)&&(q4(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),p=a,a=l,l=p),h=hh(a,l),x6(this,h,e),this}}function x6(e,i,a,l){var h=i._milliseconds,p=C3(i._days),y=C3(i._months);e.isValid()&&(l=l??!0,y&&n6(e,gv(e,"Month")+y*a),p&&Z4(e,"Date",gv(e,"Date")+p*a),h&&e._d.setTime(e._d.valueOf()+h*a),l&&Ki.updateOffset(e,p||y))}var N7=v6(1,"add"),j7=v6(-1,"subtract");function b6(e){return typeof e=="string"||e instanceof String}function U7(e){return lh(e)||T1(e)||b6(e)||Xd(e)||G7(e)||V7(e)||e===null||e===void 0}function V7(e){var i=df(e)&&!Qw(e),a=!1,l=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],h,p,y=l.length;for(h=0;h<y;h+=1)p=l[h],a=a||Ar(e,p);return i&&a}function G7(e){var i=ah(e),a=!1;return i&&(a=e.filter(function(l){return!Xd(l)&&b6(e)}).length===0),i&&a}function W7(e){var i=df(e)&&!Qw(e),a=!1,l=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],h,p;for(h=0;h<l.length;h+=1)p=l[h],a=a||Ar(e,p);return i&&a}function $7(e,i){var a=e.diff(i,"days",!0);return a<-6?"sameElse":a<-1?"lastWeek":a<0?"lastDay":a<1?"sameDay":a<2?"nextDay":a<7?"nextWeek":"sameElse"}function H7(e,i){arguments.length===1&&(arguments[0]?U7(arguments[0])?(e=arguments[0],i=void 0):W7(arguments[0])&&(i=arguments[0],e=void 0):(e=void 0,i=void 0));var a=e||gs(),l=m5(a,this).startOf("day"),h=Ki.calendarFormat(this,l)||"sameElse",p=i&&(ed(i[h])?i[h].call(this,a):i[h]);return this.format(p||this.localeData().calendar(h,this,gs(a)))}function q7(){return new S1(this)}function X7(e,i){var a=lh(e)?e:gs(e);return this.isValid()&&a.isValid()?(i=Cc(i)||"millisecond",i==="millisecond"?this.valueOf()>a.valueOf():a.valueOf()<this.clone().startOf(i).valueOf()):!1}function Y7(e,i){var a=lh(e)?e:gs(e);return this.isValid()&&a.isValid()?(i=Cc(i)||"millisecond",i==="millisecond"?this.valueOf()<a.valueOf():this.clone().endOf(i).valueOf()<a.valueOf()):!1}function Z7(e,i,a,l){var h=lh(e)?e:gs(e),p=lh(i)?i:gs(i);return this.isValid()&&h.isValid()&&p.isValid()?(l=l||"()",(l[0]==="("?this.isAfter(h,a):!this.isBefore(h,a))&&(l[1]===")"?this.isBefore(p,a):!this.isAfter(p,a))):!1}function K7(e,i){var a=lh(e)?e:gs(e),l;return this.isValid()&&a.isValid()?(i=Cc(i)||"millisecond",i==="millisecond"?this.valueOf()===a.valueOf():(l=a.valueOf(),this.clone().startOf(i).valueOf()<=l&&l<=this.clone().endOf(i).valueOf())):!1}function J7(e,i){return this.isSame(e,i)||this.isAfter(e,i)}function Q7(e,i){return this.isSame(e,i)||this.isBefore(e,i)}function eD(e,i,a){var l,h,p;if(!this.isValid())return NaN;if(l=m5(e,this),!l.isValid())return NaN;switch(h=(l.utcOffset()-this.utcOffset())*6e4,i=Cc(i),i){case"year":p=Vy(this,l)/12;break;case"month":p=Vy(this,l);break;case"quarter":p=Vy(this,l)/3;break;case"second":p=(this-l)/1e3;break;case"minute":p=(this-l)/6e4;break;case"hour":p=(this-l)/36e5;break;case"day":p=(this-l-h)/864e5;break;case"week":p=(this-l-h)/6048e5;break;default:p=this-l}return a?p:xc(p)}function Vy(e,i){if(e.date()<i.date())return-Vy(i,e);var a=(i.year()-e.year())*12+(i.month()-e.month()),l=e.clone().add(a,"months"),h,p;return i-l<0?(h=e.clone().add(a-1,"months"),p=(i-l)/(l-h)):(h=e.clone().add(a+1,"months"),p=(i-l)/(h-l)),-(a+p)||0}Ki.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Ki.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function tD(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function iD(e){if(!this.isValid())return null;var i=e!==!0,a=i?this.clone().utc():this;return a.year()<0||a.year()>9999?jy(a,i?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ed(Date.prototype.toISOString)?i?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",jy(a,"Z")):jy(a,i?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function nD(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",i="",a,l,h,p;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",i="Z"),a="["+e+'("]',l=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",h="-MM-DD[T]HH:mm:ss.SSS",p=i+'[")]',this.format(a+l+h+p)}function rD(e){e||(e=this.isUtc()?Ki.defaultFormatUtc:Ki.defaultFormat);var i=jy(this,e);return this.localeData().postformat(i)}function sD(e,i){return this.isValid()&&(lh(e)&&e.isValid()||gs(e).isValid())?hh({to:this,from:e}).locale(this.locale()).humanize(!i):this.localeData().invalidDate()}function oD(e){return this.from(gs(),e)}function aD(e,i){return this.isValid()&&(lh(e)&&e.isValid()||gs(e).isValid())?hh({from:this,to:e}).locale(this.locale()).humanize(!i):this.localeData().invalidDate()}function lD(e){return this.to(gs(),e)}function w6(e){var i;return e===void 0?this._locale._abbr:(i=Zd(e),i!=null&&(this._locale=i),this)}var T6=Ec("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function S6(){return this._locale}var vv=1e3,$0=60*vv,xv=60*$0,E6=(365*400+97)*24*xv;function H0(e,i){return(e%i+i)%i}function C6(e,i,a){return e<100&&e>=0?new Date(e+400,i,a)-E6:new Date(e,i,a).valueOf()}function M6(e,i,a){return e<100&&e>=0?Date.UTC(e+400,i,a)-E6:Date.UTC(e,i,a)}function cD(e){var i,a;if(e=Cc(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(a=this._isUTC?M6:C6,e){case"year":i=a(this.year(),0,1);break;case"quarter":i=a(this.year(),this.month()-this.month()%3,1);break;case"month":i=a(this.year(),this.month(),1);break;case"week":i=a(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":i=a(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":i=a(this.year(),this.month(),this.date());break;case"hour":i=this._d.valueOf(),i-=H0(i+(this._isUTC?0:this.utcOffset()*$0),xv);break;case"minute":i=this._d.valueOf(),i-=H0(i,$0);break;case"second":i=this._d.valueOf(),i-=H0(i,vv);break}return this._d.setTime(i),Ki.updateOffset(this,!0),this}function hD(e){var i,a;if(e=Cc(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(a=this._isUTC?M6:C6,e){case"year":i=a(this.year()+1,0,1)-1;break;case"quarter":i=a(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":i=a(this.year(),this.month()+1,1)-1;break;case"week":i=a(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":i=a(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":i=a(this.year(),this.month(),this.date()+1)-1;break;case"hour":i=this._d.valueOf(),i+=xv-H0(i+(this._isUTC?0:this.utcOffset()*$0),xv)-1;break;case"minute":i=this._d.valueOf(),i+=$0-H0(i,$0)-1;break;case"second":i=this._d.valueOf(),i+=vv-H0(i,vv)-1;break}return this._d.setTime(i),Ki.updateOffset(this,!0),this}function dD(){return this._d.valueOf()-(this._offset||0)*6e4}function uD(){return Math.floor(this.valueOf()/1e3)}function pD(){return new Date(this.valueOf())}function fD(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function mD(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function gD(){return this.isValid()?this.toISOString():null}function _D(){return e5(this)}function yD(){return zu({},Kn(this))}function vD(){return Kn(this).overflow}function xD(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}fn("N",0,0,"eraAbbr");fn("NN",0,0,"eraAbbr");fn("NNN",0,0,"eraAbbr");fn("NNNN",0,0,"eraName");fn("NNNNN",0,0,"eraNarrow");fn("y",["y",1],"yo","eraYear");fn("y",["yy",2],0,"eraYear");fn("y",["yyy",3],0,"eraYear");fn("y",["yyyy",4],0,"eraYear");rn("N",g5);rn("NN",g5);rn("NNN",g5);rn("NNNN",ID);rn("NNNNN",LD);Kr(["N","NN","NNN","NNNN","NNNNN"],function(e,i,a,l){var h=a._locale.erasParse(e,l,a._strict);h?Kn(a).era=h:Kn(a).invalidEra=e});rn("y",vm);rn("yy",vm);rn("yyy",vm);rn("yyyy",vm);rn("yo",DD);Kr(["y","yy","yyy","yyyy"],ya);Kr(["yo"],function(e,i,a,l){var h;a._locale._eraYearOrdinalRegex&&(h=e.match(a._locale._eraYearOrdinalRegex)),a._locale.eraYearOrdinalParse?i[ya]=a._locale.eraYearOrdinalParse(e,h):i[ya]=parseInt(e,10)});function bD(e,i){var a,l,h,p=this._eras||Zd("en")._eras;for(a=0,l=p.length;a<l;++a){switch(typeof p[a].since){case"string":h=Ki(p[a].since).startOf("day"),p[a].since=h.valueOf();break}switch(typeof p[a].until){case"undefined":p[a].until=1/0;break;case"string":h=Ki(p[a].until).startOf("day").valueOf(),p[a].until=h.valueOf();break}}return p}function wD(e,i,a){var l,h,p=this.eras(),y,s,b;for(e=e.toUpperCase(),l=0,h=p.length;l<h;++l)if(y=p[l].name.toUpperCase(),s=p[l].abbr.toUpperCase(),b=p[l].narrow.toUpperCase(),a)switch(i){case"N":case"NN":case"NNN":if(s===e)return p[l];break;case"NNNN":if(y===e)return p[l];break;case"NNNNN":if(b===e)return p[l];break}else if([y,s,b].indexOf(e)>=0)return p[l]}function TD(e,i){var a=e.since<=e.until?1:-1;return i===void 0?Ki(e.since).year():Ki(e.since).year()+(i-e.offset)*a}function SD(){var e,i,a,l=this.localeData().eras();for(e=0,i=l.length;e<i;++e)if(a=this.clone().startOf("day").valueOf(),l[e].since<=a&&a<=l[e].until||l[e].until<=a&&a<=l[e].since)return l[e].name;return""}function ED(){var e,i,a,l=this.localeData().eras();for(e=0,i=l.length;e<i;++e)if(a=this.clone().startOf("day").valueOf(),l[e].since<=a&&a<=l[e].until||l[e].until<=a&&a<=l[e].since)return l[e].narrow;return""}function CD(){var e,i,a,l=this.localeData().eras();for(e=0,i=l.length;e<i;++e)if(a=this.clone().startOf("day").valueOf(),l[e].since<=a&&a<=l[e].until||l[e].until<=a&&a<=l[e].since)return l[e].abbr;return""}function MD(){var e,i,a,l,h=this.localeData().eras();for(e=0,i=h.length;e<i;++e)if(a=h[e].since<=h[e].until?1:-1,l=this.clone().startOf("day").valueOf(),h[e].since<=l&&l<=h[e].until||h[e].until<=l&&l<=h[e].since)return(this.year()-Ki(h[e].since).year())*a+h[e].offset;return this.year()}function AD(e){return Ar(this,"_erasNameRegex")||_5.call(this),e?this._erasNameRegex:this._erasRegex}function kD(e){return Ar(this,"_erasAbbrRegex")||_5.call(this),e?this._erasAbbrRegex:this._erasRegex}function PD(e){return Ar(this,"_erasNarrowRegex")||_5.call(this),e?this._erasNarrowRegex:this._erasRegex}function g5(e,i){return i.erasAbbrRegex(e)}function ID(e,i){return i.erasNameRegex(e)}function LD(e,i){return i.erasNarrowRegex(e)}function DD(e,i){return i._eraYearOrdinalRegex||vm}function _5(){var e=[],i=[],a=[],l=[],h,p,y=this.eras();for(h=0,p=y.length;h<p;++h)i.push($l(y[h].name)),e.push($l(y[h].abbr)),a.push($l(y[h].narrow)),l.push($l(y[h].name)),l.push($l(y[h].abbr)),l.push($l(y[h].narrow));this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}fn(0,["gg",2],0,function(){return this.weekYear()%100});fn(0,["GG",2],0,function(){return this.isoWeekYear()%100});function x2(e,i){fn(0,[e,e.length],0,i)}x2("gggg","weekYear");x2("ggggg","weekYear");x2("GGGG","isoWeekYear");x2("GGGGG","isoWeekYear");va("weekYear","gg");va("isoWeekYear","GG");xa("weekYear",1);xa("isoWeekYear",1);rn("G",m2);rn("g",m2);rn("GG",_s,Yl);rn("gg",_s,Yl);rn("GGGG",o5,s5);rn("gggg",o5,s5);rn("GGGGG",f2,u2);rn("ggggg",f2,u2);C1(["gggg","ggggg","GGGG","GGGGG"],function(e,i,a,l){i[l.substr(0,2)]=cr(e)});C1(["gg","GG"],function(e,i,a,l){i[l]=Ki.parseTwoDigitYear(e)});function OD(e){return A6.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function RD(e){return A6.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function zD(){return $d(this.year(),1,4)}function BD(){return $d(this.isoWeekYear(),1,4)}function FD(){var e=this.localeData()._week;return $d(this.year(),e.dow,e.doy)}function ND(){var e=this.localeData()._week;return $d(this.weekYear(),e.dow,e.doy)}function A6(e,i,a,l,h){var p;return e==null?o1(this,l,h).year:(p=$d(e,l,h),i>p&&(i=p),jD.call(this,e,i,a,l,h))}function jD(e,i,a,l,h){var p=a6(e,i,a,l,h),y=s1(p.year,0,p.dayOfYear);return this.year(y.getUTCFullYear()),this.month(y.getUTCMonth()),this.date(y.getUTCDate()),this}fn("Q",0,"Qo","quarter");va("quarter","Q");xa("quarter",7);rn("Q",K4);Kr("Q",function(e,i){i[Vd]=(cr(e)-1)*3});function UD(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}fn("D",["DD",2],"Do","date");va("date","D");xa("date",9);rn("D",_s);rn("DD",_s,Yl);rn("Do",function(e,i){return e?i._dayOfMonthOrdinalParse||i._ordinalParse:i._dayOfMonthOrdinalParseLenient});Kr(["D","DD"],$h);Kr("Do",function(e,i){i[$h]=cr(e.match(_s)[0])});var k6=ym("Date",!0);fn("DDD",["DDDD",3],"DDDo","dayOfYear");va("dayOfYear","DDD");xa("dayOfYear",4);rn("DDD",p2);rn("DDDD",J4);Kr(["DDD","DDDD"],function(e,i,a){a._dayOfYear=cr(e)});function VD(e){var i=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?i:this.add(e-i,"d")}fn("m",["mm",2],0,"minute");va("minute","m");xa("minute",14);rn("m",_s);rn("mm",_s,Yl);Kr(["m","mm"],rh);var GD=ym("Minutes",!1);fn("s",["ss",2],0,"second");va("second","s");xa("second",15);rn("s",_s);rn("ss",_s,Yl);Kr(["s","ss"],Gd);var WD=ym("Seconds",!1);fn("S",0,0,function(){return~~(this.millisecond()/100)});fn(0,["SS",2],0,function(){return~~(this.millisecond()/10)});fn(0,["SSS",3],0,"millisecond");fn(0,["SSSS",4],0,function(){return this.millisecond()*10});fn(0,["SSSSS",5],0,function(){return this.millisecond()*100});fn(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});fn(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});fn(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});fn(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});va("millisecond","ms");xa("millisecond",16);rn("S",p2,K4);rn("SS",p2,Yl);rn("SSS",p2,J4);var Bu,P6;for(Bu="SSSS";Bu.length<=9;Bu+="S")rn(Bu,vm);function $D(e,i){i[rf]=cr(("0."+e)*1e3)}for(Bu="S";Bu.length<=9;Bu+="S")Kr(Bu,$D);P6=ym("Milliseconds",!1);fn("z",0,0,"zoneAbbr");fn("zz",0,0,"zoneName");function HD(){return this._isUTC?"UTC":""}function qD(){return this._isUTC?"Coordinated Universal Time":""}var Di=S1.prototype;Di.add=N7;Di.calendar=H7;Di.clone=q7;Di.diff=eD;Di.endOf=hD;Di.format=rD;Di.from=sD;Di.fromNow=oD;Di.to=aD;Di.toNow=lD;Di.get=Y9;Di.invalidAt=vD;Di.isAfter=X7;Di.isBefore=Y7;Di.isBetween=Z7;Di.isSame=K7;Di.isSameOrAfter=J7;Di.isSameOrBefore=Q7;Di.isValid=_D;Di.lang=T6;Di.locale=w6;Di.localeData=S6;Di.max=_7;Di.min=g7;Di.parsingFlags=yD;Di.set=Z9;Di.startOf=cD;Di.subtract=j7;Di.toArray=fD;Di.toObject=mD;Di.toDate=pD;Di.toISOString=iD;Di.inspect=nD;typeof Symbol<"u"&&Symbol.for!=null&&(Di[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Di.toJSON=gD;Di.toString=tD;Di.unix=uD;Di.valueOf=dD;Di.creationData=xD;Di.eraName=SD;Di.eraNarrow=ED;Di.eraAbbr=CD;Di.eraYear=MD;Di.year=o6;Di.isLeapYear=mL;Di.weekYear=OD;Di.isoWeekYear=RD;Di.quarter=Di.quarters=UD;Di.month=r6;Di.daysInMonth=uL;Di.week=Di.weeks=bL;Di.isoWeek=Di.isoWeeks=wL;Di.weeksInYear=FD;Di.weeksInWeekYear=ND;Di.isoWeeksInYear=zD;Di.isoWeeksInISOWeekYear=BD;Di.date=k6;Di.day=Di.days=RL;Di.weekday=zL;Di.isoWeekday=BL;Di.dayOfYear=VD;Di.hour=Di.hours=WL;Di.minute=Di.minutes=GD;Di.second=Di.seconds=WD;Di.millisecond=Di.milliseconds=P6;Di.utcOffset=C7;Di.utc=A7;Di.local=k7;Di.parseZone=P7;Di.hasAlignedHourOffset=I7;Di.isDST=L7;Di.isLocal=O7;Di.isUtcOffset=R7;Di.isUtc=y6;Di.isUTC=y6;Di.zoneAbbr=HD;Di.zoneName=qD;Di.dates=Ec("dates accessor is deprecated. Use date instead.",k6);Di.months=Ec("months accessor is deprecated. Use month instead",r6);Di.years=Ec("years accessor is deprecated. Use year instead",o6);Di.zone=Ec("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",M7);Di.isDSTShifted=Ec("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",D7);function XD(e){return gs(e*1e3)}function YD(){return gs.apply(null,arguments).parseZone()}function I6(e){return e}var kr=i5.prototype;kr.calendar=R9;kr.longDateFormat=N9;kr.invalidDate=U9;kr.ordinal=W9;kr.preparse=I6;kr.postformat=I6;kr.relativeTime=H9;kr.pastFuture=q9;kr.set=D9;kr.eras=bD;kr.erasParse=wD;kr.erasConvertYear=TD;kr.erasAbbrRegex=kD;kr.erasNameRegex=AD;kr.erasNarrowRegex=PD;kr.months=lL;kr.monthsShort=cL;kr.monthsParse=dL;kr.monthsRegex=fL;kr.monthsShortRegex=pL;kr.week=_L;kr.firstDayOfYear=xL;kr.firstDayOfWeek=vL;kr.weekdays=PL;kr.weekdaysMin=LL;kr.weekdaysShort=IL;kr.weekdaysParse=OL;kr.weekdaysRegex=FL;kr.weekdaysShortRegex=NL;kr.weekdaysMinRegex=jL;kr.isPM=VL;kr.meridiem=$L;function bv(e,i,a,l){var h=Zd(),p=Qh().set(l,i);return h[a](p,e)}function L6(e,i,a){if(Xd(e)&&(i=e,e=void 0),e=e||"",i!=null)return bv(e,i,a,"month");var l,h=[];for(l=0;l<12;l++)h[l]=bv(e,l,a,"month");return h}function y5(e,i,a,l){typeof e=="boolean"?(Xd(i)&&(a=i,i=void 0),i=i||""):(i=e,a=i,e=!1,Xd(i)&&(a=i,i=void 0),i=i||"");var h=Zd(),p=e?h._week.dow:0,y,s=[];if(a!=null)return bv(i,(a+p)%7,l,"day");for(y=0;y<7;y++)s[y]=bv(i,(y+p)%7,l,"day");return s}function ZD(e,i){return L6(e,i,"months")}function KD(e,i){return L6(e,i,"monthsShort")}function JD(e,i,a){return y5(e,i,a,"weekdays")}function QD(e,i,a){return y5(e,i,a,"weekdaysShort")}function eO(e,i,a){return y5(e,i,a,"weekdaysMin")}$u("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var i=e%10,a=cr(e%100/10)===1?"th":i===1?"st":i===2?"nd":i===3?"rd":"th";return e+a}});Ki.lang=Ec("moment.lang is deprecated. Use moment.locale instead.",$u);Ki.langData=Ec("moment.langData is deprecated. Use moment.localeData instead.",Zd);var Rd=Math.abs;function tO(){var e=this._data;return this._milliseconds=Rd(this._milliseconds),this._days=Rd(this._days),this._months=Rd(this._months),e.milliseconds=Rd(e.milliseconds),e.seconds=Rd(e.seconds),e.minutes=Rd(e.minutes),e.hours=Rd(e.hours),e.months=Rd(e.months),e.years=Rd(e.years),this}function D6(e,i,a,l){var h=hh(i,a);return e._milliseconds+=l*h._milliseconds,e._days+=l*h._days,e._months+=l*h._months,e._bubble()}function iO(e,i){return D6(this,e,i,1)}function nO(e,i){return D6(this,e,i,-1)}function oS(e){return e<0?Math.floor(e):Math.ceil(e)}function rO(){var e=this._milliseconds,i=this._days,a=this._months,l=this._data,h,p,y,s,b;return e>=0&&i>=0&&a>=0||e<=0&&i<=0&&a<=0||(e+=oS(A3(a)+i)*864e5,i=0,a=0),l.milliseconds=e%1e3,h=xc(e/1e3),l.seconds=h%60,p=xc(h/60),l.minutes=p%60,y=xc(p/60),l.hours=y%24,i+=xc(y/24),b=xc(O6(i)),a+=b,i-=oS(A3(b)),s=xc(a/12),a%=12,l.days=i,l.months=a,l.years=s,this}function O6(e){return e*4800/146097}function A3(e){return e*146097/4800}function sO(e){if(!this.isValid())return NaN;var i,a,l=this._milliseconds;if(e=Cc(e),e==="month"||e==="quarter"||e==="year")switch(i=this._days+l/864e5,a=this._months+O6(i),e){case"month":return a;case"quarter":return a/3;case"year":return a/12}else switch(i=this._days+Math.round(A3(this._months)),e){case"week":return i/7+l/6048e5;case"day":return i+l/864e5;case"hour":return i*24+l/36e5;case"minute":return i*1440+l/6e4;case"second":return i*86400+l/1e3;case"millisecond":return Math.floor(i*864e5)+l;default:throw new Error("Unknown unit "+e)}}function oO(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+cr(this._months/12)*31536e6:NaN}function Kd(e){return function(){return this.as(e)}}var aO=Kd("ms"),lO=Kd("s"),cO=Kd("m"),hO=Kd("h"),dO=Kd("d"),uO=Kd("w"),pO=Kd("M"),fO=Kd("Q"),mO=Kd("y");function gO(){return hh(this)}function _O(e){return e=Cc(e),this.isValid()?this[e+"s"]():NaN}function bf(e){return function(){return this.isValid()?this._data[e]:NaN}}var yO=bf("milliseconds"),vO=bf("seconds"),xO=bf("minutes"),bO=bf("hours"),wO=bf("days"),TO=bf("months"),SO=bf("years");function EO(){return xc(this.days()/7)}var Nd=Math.round,F0={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function CO(e,i,a,l,h){return h.relativeTime(i||1,!!a,e,l)}function MO(e,i,a,l){var h=hh(e).abs(),p=Nd(h.as("s")),y=Nd(h.as("m")),s=Nd(h.as("h")),b=Nd(h.as("d")),L=Nd(h.as("M")),ee=Nd(h.as("w")),F=Nd(h.as("y")),Z=p<=a.ss&&["s",p]||p<a.s&&["ss",p]||y<=1&&["m"]||y<a.m&&["mm",y]||s<=1&&["h"]||s<a.h&&["hh",s]||b<=1&&["d"]||b<a.d&&["dd",b];return a.w!=null&&(Z=Z||ee<=1&&["w"]||ee<a.w&&["ww",ee]),Z=Z||L<=1&&["M"]||L<a.M&&["MM",L]||F<=1&&["y"]||["yy",F],Z[2]=i,Z[3]=+e>0,Z[4]=l,CO.apply(null,Z)}function AO(e){return e===void 0?Nd:typeof e=="function"?(Nd=e,!0):!1}function kO(e,i){return F0[e]===void 0?!1:i===void 0?F0[e]:(F0[e]=i,e==="s"&&(F0.ss=i-1),!0)}function PO(e,i){if(!this.isValid())return this.localeData().invalidDate();var a=!1,l=F0,h,p;return typeof e=="object"&&(i=e,e=!1),typeof e=="boolean"&&(a=e),typeof i=="object"&&(l=Object.assign({},F0,i),i.s!=null&&i.ss==null&&(l.ss=i.s-1)),h=this.localeData(),p=MO(this,!a,l,h),a&&(p=h.pastFuture(+this,p)),h.postformat(p)}var Pb=Math.abs;function R0(e){return(e>0)-(e<0)||+e}function b2(){if(!this.isValid())return this.localeData().invalidDate();var e=Pb(this._milliseconds)/1e3,i=Pb(this._days),a=Pb(this._months),l,h,p,y,s=this.asSeconds(),b,L,ee,F;return s?(l=xc(e/60),h=xc(l/60),e%=60,l%=60,p=xc(a/12),a%=12,y=e?e.toFixed(3).replace(/\.?0+$/,""):"",b=s<0?"-":"",L=R0(this._months)!==R0(s)?"-":"",ee=R0(this._days)!==R0(s)?"-":"",F=R0(this._milliseconds)!==R0(s)?"-":"",b+"P"+(p?L+p+"Y":"")+(a?L+a+"M":"")+(i?ee+i+"D":"")+(h||l||e?"T":"")+(h?F+h+"H":"")+(l?F+l+"M":"")+(e?F+y+"S":"")):"P0D"}var xr=v2.prototype;xr.isValid=w7;xr.abs=tO;xr.add=iO;xr.subtract=nO;xr.as=sO;xr.asMilliseconds=aO;xr.asSeconds=lO;xr.asMinutes=cO;xr.asHours=hO;xr.asDays=dO;xr.asWeeks=uO;xr.asMonths=pO;xr.asQuarters=fO;xr.asYears=mO;xr.valueOf=oO;xr._bubble=rO;xr.clone=gO;xr.get=_O;xr.milliseconds=yO;xr.seconds=vO;xr.minutes=xO;xr.hours=bO;xr.days=wO;xr.weeks=EO;xr.months=TO;xr.years=SO;xr.humanize=PO;xr.toISOString=b2;xr.toString=b2;xr.toJSON=b2;xr.locale=w6;xr.localeData=S6;xr.toIsoString=Ec("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",b2);xr.lang=T6;fn("X",0,0,"unix");fn("x",0,0,"valueOf");rn("x",m2);rn("X",J9);Kr("X",function(e,i,a){a._d=new Date(parseFloat(e)*1e3)});Kr("x",function(e,i,a){a._d=new Date(cr(e))});//! moment.js
Ki.version="2.29.4";I9(gs);Ki.fn=Di;Ki.min=y7;Ki.max=v7;Ki.now=x7;Ki.utc=Qh;Ki.unix=XD;Ki.months=ZD;Ki.isDate=T1;Ki.locale=$u;Ki.invalid=h2;Ki.duration=hh;Ki.isMoment=lh;Ki.weekdays=JD;Ki.parseZone=YD;Ki.localeData=Zd;Ki.isDuration=Uy;Ki.monthsShort=KD;Ki.weekdaysMin=eO;Ki.defineLocale=h5;Ki.updateLocale=YL;Ki.locales=ZL;Ki.weekdaysShort=QD;Ki.normalizeUnits=Cc;Ki.relativeTimeRounding=AO;Ki.relativeTimeThreshold=kO;Ki.calendarFormat=$7;Ki.prototype=Di;Ki.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var R6={exports:{}};(function(e,i){(function(a,l){e.exports=l()})(Oo,function(){var a,l,h;function p(s,b){if(!a)a=b;else if(!l)l=b;else{var L="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+a+")(sharedChunk); ("+l+")(sharedChunk); self.onerror = null;",ee={};a(ee),h=b(ee),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(h.workerUrl=window.URL.createObjectURL(new Blob([L],{type:"text/javascript"})))}}p(["exports"],function(s){var b=typeof self<"u"?self:{},L="2.14.1";let ee;const F={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(ee==null){const n=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{ee={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):n}catch{ee=n}}return ee},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!F.API_URL)return null;try{const n=new URL(F.API_URL);return n.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":n.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch{return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Z={supported:!1,testSupport:function(n){!G&&z&&(ae?B(n):ne=n)}};let ne,z,G=!1,ae=!1;function B(n){const t=n.createTexture();n.bindTexture(n.TEXTURE_2D,t);try{if(n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,z),n.isContextLost())return;Z.supported=!0}catch{}n.deleteTexture(t),G=!0}b.document&&(z=b.document.createElement("img"),z.onload=function(){ne&&B(ne),ne=null,ae=!0},z.onerror=function(){G=!0,ne=null},z.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const P="01";var V=W;function W(n,t,r,c){this.cx=3*n,this.bx=3*(r-n)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(c-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=n,this.p1y=t,this.p2x=r,this.p2y=c}W.prototype={sampleCurveX:function(n){return((this.ax*n+this.bx)*n+this.cx)*n},sampleCurveY:function(n){return((this.ay*n+this.by)*n+this.cy)*n},sampleCurveDerivativeX:function(n){return(3*this.ax*n+2*this.bx)*n+this.cx},solveCurveX:function(n,t){if(t===void 0&&(t=1e-6),n<0)return 0;if(n>1)return 1;for(var r=n,c=0;c<8;c++){var u=this.sampleCurveX(r)-n;if(Math.abs(u)<t)return r;var g=this.sampleCurveDerivativeX(r);if(Math.abs(g)<1e-6)break;r-=u/g}var v=0,T=1;for(r=n,c=0;c<20&&(u=this.sampleCurveX(r),!(Math.abs(u-n)<t));c++)n>u?v=r:T=r,r=.5*(T-v)+v;return r},solve:function(n,t){return this.sampleCurveY(this.solveCurveX(n,t))}};var R=se;function se(n,t){this.x=n,this.y=t}se.prototype={clone:function(){return new se(this.x,this.y)},add:function(n){return this.clone()._add(n)},sub:function(n){return this.clone()._sub(n)},multByPoint:function(n){return this.clone()._multByPoint(n)},divByPoint:function(n){return this.clone()._divByPoint(n)},mult:function(n){return this.clone()._mult(n)},div:function(n){return this.clone()._div(n)},rotate:function(n){return this.clone()._rotate(n)},rotateAround:function(n,t){return this.clone()._rotateAround(n,t)},matMult:function(n){return this.clone()._matMult(n)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(n){return this.x===n.x&&this.y===n.y},dist:function(n){return Math.sqrt(this.distSqr(n))},distSqr:function(n){var t=n.x-this.x,r=n.y-this.y;return t*t+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(n){return Math.atan2(this.y-n.y,this.x-n.x)},angleWith:function(n){return this.angleWithSep(n.x,n.y)},angleWithSep:function(n,t){return Math.atan2(this.x*t-this.y*n,this.x*n+this.y*t)},_matMult:function(n){var t=n[2]*this.x+n[3]*this.y;return this.x=n[0]*this.x+n[1]*this.y,this.y=t,this},_add:function(n){return this.x+=n.x,this.y+=n.y,this},_sub:function(n){return this.x-=n.x,this.y-=n.y,this},_mult:function(n){return this.x*=n,this.y*=n,this},_div:function(n){return this.x/=n,this.y/=n,this},_multByPoint:function(n){return this.x*=n.x,this.y*=n.y,this},_divByPoint:function(n){return this.x/=n.x,this.y/=n.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var n=this.y;return this.y=this.x,this.x=-n,this},_rotate:function(n){var t=Math.cos(n),r=Math.sin(n),c=r*this.x+t*this.y;return this.x=t*this.x-r*this.y,this.y=c,this},_rotateAround:function(n,t){var r=Math.cos(n),c=Math.sin(n),u=t.y+c*(this.x-t.x)+r*(this.y-t.y);return this.x=t.x+r*(this.x-t.x)-c*(this.y-t.y),this.y=u,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},se.convert=function(n){return n instanceof se?n:Array.isArray(n)?new se(n[0],n[1]):n};const S=Math.PI/180,X=180/Math.PI;function I(n){return n*S}function $(n){return n*X}const K=[[0,0],[1,0],[1,1],[0,1]];function q(n){if(n<=0)return 0;if(n>=1)return 1;const t=n*n,r=t*n;return 4*(n<.5?r:3*(n-t)+r-.75)}function J(n,t,r,c){const u=new V(n,t,r,c);return function(g){return u.solve(g)}}const C=J(.25,.1,.25,1);function A(n,t,r){return Math.min(r,Math.max(t,n))}function O(n,t,r){return(r=A((r-n)/(t-n),0,1))*r*(3-2*r)}function Q(n,t,r){const c=r-t,u=((n-t)%c+c)%c+t;return u===t?r:u}function fe(n,t,r){if(!n.length)return r(null,[]);let c=n.length;const u=new Array(n.length);let g=null;n.forEach((v,T)=>{t(v,(k,D)=>{k&&(g=k),u[T]=D,--c==0&&r(g,u)})})}function Te(n){const t=[];for(const r in n)t.push(n[r]);return t}function oe(n,...t){for(const r of t)for(const c in r)n[c]=r[c];return n}let Me=1;function We(){return Me++}function Qe(){return function n(t){return t?(t^Math.random()*(16>>t/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,n)}()}function ie(n){return n<=1?1:Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function ce(n){return!!n&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(n)}function pe(n,t){n.forEach(r=>{t[r]&&(t[r]=t[r].bind(t))})}function Ce(n,t){return n.indexOf(t,n.length-t.length)!==-1}function Be(n,t,r){const c={};for(const u in n)c[u]=t.call(r||this,n[u],u,n);return c}function re(n,t,r){const c={};for(const u in n)t.call(r||this,n[u],u,n)&&(c[u]=n[u]);return c}function xe(n){return Array.isArray(n)?n.map(xe):typeof n=="object"&&n?Be(n,xe):n}const _e={};function Y(n){_e[n]||(typeof console<"u"&&console.warn(n),_e[n]=!0)}function de(n,t,r){return(r.y-n.y)*(t.x-n.x)>(t.y-n.y)*(r.x-n.x)}function me(n){let t=0;for(let r,c,u=0,g=n.length,v=g-1;u<g;v=u++)r=n[u],c=n[v],t+=(c.x-r.x)*(r.y+c.y);return t}function ke(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Ie(n){const t={};if(n.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(r,c,u,g)=>{const v=u||g;return t[c]=!v||v.toLowerCase(),""}),t["max-age"]){const r=parseInt(t["max-age"],10);isNaN(r)?delete t["max-age"]:t["max-age"]=r}return t}let Ve=null;function it(n){if(Ve==null){const t=n.navigator?n.navigator.userAgent:null;Ve=!!n.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return Ve}function tt(n){try{const t=b[n];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch{return!1}}function ht(n,t){return[n[4*t],n[4*t+1],n[4*t+2],n[4*t+3]]}const Ee="mapbox-tiles";let De,Fe,qe=500,He=50;function xt(){try{return b.caches}catch{}}function jt(){xt()&&!De&&(De=b.caches.open(Ee))}function Vt(n){const t=n.indexOf("?");if(t<0)return n;const r=function(u){const g=u.indexOf("?");return g>0?u.slice(g+1).split("&"):[]}(n),c=r.filter(u=>{const g=u.split("=");return g[0]==="language"||g[0]==="worldview"});return c.length?`${n.slice(0,t)}?${c.join("&")}`:n.slice(0,t)}let vi=1/0;const ri={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(ri);class bi extends Error{constructor(t,r,c){r===401&&_r(c)&&(t+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(t),this.status=r,this.url=c}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Gi=ke()?()=>self.worker&&self.worker.referrer:()=>(b.location.protocol==="blob:"?b.parent:b).location.href,ki=function(n,t){if(!(/^file:/.test(r=n.url)||/^file:/.test(Gi())&&!/^\w+:/.test(r))){if(b.fetch&&b.Request&&b.AbortController&&b.Request.prototype.hasOwnProperty("signal"))return function(c,u){const g=new b.AbortController,v=new b.Request(c.url,{method:c.method||"GET",body:c.body,credentials:c.credentials,headers:c.headers,referrer:Gi(),referrerPolicy:c.referrerPolicy,signal:g.signal});let T=!1,k=!1;const D=(te=v.url).indexOf("sku=")>0&&_r(te);var te;c.type==="json"&&v.headers.set("Accept","application/json");const he=(Se,Ae,ze)=>{if(k)return;if(Se&&Se.message!=="SecurityError"&&Y(Se),Ae&&ze)return ge(Ae);const Xe=Date.now();b.fetch(v).then(lt=>{if(lt.ok){const _t=D?lt.clone():null;return ge(lt,_t,Xe)}return u(new bi(lt.statusText,lt.status,c.url))}).catch(lt=>{lt.name!=="AbortError"&&u(new Error(`${lt.message} ${c.url}`))})},ge=(Se,Ae,ze)=>{(c.type==="arrayBuffer"?Se.arrayBuffer():c.type==="json"?Se.json():Se.text()).then(Xe=>{k||(Ae&&ze&&function(lt,_t,at){if(jt(),!De)return;const mt={status:_t.status,statusText:_t.statusText,headers:new b.Headers};_t.headers.forEach((qt,$t)=>mt.headers.set($t,qt));const Tt=Ie(_t.headers.get("Cache-Control")||"");if(Tt["no-store"])return;Tt["max-age"]&&mt.headers.set("Expires",new Date(at+1e3*Tt["max-age"]).toUTCString());const bt=mt.headers.get("Expires");bt&&(new Date(bt).getTime()-at<42e4||function(qt,$t){if(Fe===void 0)try{new Response(new ReadableStream),Fe=!0}catch{Fe=!1}Fe?$t(qt.body):qt.blob().then($t)}(_t,qt=>{const $t=new b.Response(qt,mt);jt(),De&&De.then(ni=>ni.put(Vt(lt.url),$t)).catch(ni=>Y(ni.message))}))}(v,Ae,ze),T=!0,u(null,Xe,Se.headers.get("Cache-Control"),Se.headers.get("Expires")))}).catch(Xe=>{k||u(new Error(Xe.message))})};return D?function(Se,Ae){if(jt(),!De)return Ae(null);const ze=Vt(Se.url);De.then(Xe=>{Xe.match(ze).then(lt=>{const _t=function(at){if(!at)return!1;const mt=new Date(at.headers.get("Expires")||0),Tt=Ie(at.headers.get("Cache-Control")||"");return mt>Date.now()&&!Tt["no-cache"]}(lt);Xe.delete(ze),_t&&Xe.put(ze,lt.clone()),Ae(null,lt,_t)}).catch(Ae)}).catch(Ae)}(v,he):he(null,null),{cancel:()=>{k=!0,T||g.abort()}}}(n,t);if(ke()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",n,t,void 0,!0)}var r;return function(c,u){const g=new b.XMLHttpRequest;g.open(c.method||"GET",c.url,!0),c.type==="arrayBuffer"&&(g.responseType="arraybuffer");for(const v in c.headers)g.setRequestHeader(v,c.headers[v]);return c.type==="json"&&(g.responseType="text",g.setRequestHeader("Accept","application/json")),g.withCredentials=c.credentials==="include",g.onerror=()=>{u(new Error(g.statusText))},g.onload=()=>{if((g.status>=200&&g.status<300||g.status===0)&&g.response!==null){let v=g.response;if(c.type==="json")try{v=JSON.parse(g.response)}catch(T){return u(T)}u(null,v,g.getResponseHeader("Cache-Control"),g.getResponseHeader("Expires"))}else u(new bi(g.statusText,g.status,c.url))},g.send(c.body),{cancel:()=>g.abort()}}(n,t)},Ni=function(n,t){return ki(oe(n,{type:"arrayBuffer"}),t)};function Ai(n){const t=b.document.createElement("a");return t.href=n,t.protocol===b.document.location.protocol&&t.host===b.document.location.host}const Tn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let In,Hn;In=[],Hn=0;const hs=function(n,t){if(Z.supported&&(n.headers||(n.headers={}),n.headers.accept="image/webp,*/*"),Hn>=F.MAX_PARALLEL_IMAGE_REQUESTS){const g={requestParameters:n,callback:t,cancelled:!1,cancel(){this.cancelled=!0}};return In.push(g),g}Hn++;let r=!1;const c=()=>{if(!r)for(r=!0,Hn--;In.length&&Hn<F.MAX_PARALLEL_IMAGE_REQUESTS;){const g=In.shift(),{requestParameters:v,callback:T,cancelled:k}=g;k||(g.cancel=hs(v,T).cancel)}},u=Ni(n,(g,v,T,k)=>{c(),g?t(g):v&&(b.createImageBitmap?function(D,te){const he=new b.Blob([new Uint8Array(D)],{type:"image/png"});b.createImageBitmap(he).then(ge=>{te(null,ge)}).catch(ge=>{te(new Error(`Could not load image because of ${ge.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(v,(D,te)=>t(D,te,T,k)):function(D,te){const he=new b.Image,ge=b.URL;he.onload=()=>{te(null,he),ge.revokeObjectURL(he.src),he.onload=null,b.requestAnimationFrame(()=>{he.src=Tn})},he.onerror=()=>te(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Se=new b.Blob([new Uint8Array(D)],{type:"image/png"});he.src=D.byteLength?ge.createObjectURL(Se):Tn}(v,(D,te)=>t(D,te,T,k)))});return{cancel:()=>{u.cancel(),c()}}},nr="NO_ACCESS_TOKEN";function rr(n){return n.indexOf("mapbox:")===0}function _r(n){return F.API_URL_REGEX.test(n)}function Mc(n){return F.API_CDN_URL_REGEX.test(n)}function Ac(n){return F.API_STYLE_REGEX.test(n)&&!Es(n)}function Es(n){return F.API_SPRITE_REGEX.test(n)}const is=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Ls(n){const t=n.match(is);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function Fa(n){const t=n.params.length?`?${n.params.join("&")}`:"";return`${n.protocol}://${n.authority}${n.path}${t}`}function kc(n){if(!n)return null;const t=n.split(".");if(!t||t.length!==3)return null;try{return JSON.parse(decodeURIComponent(b.atob(t[1]).split("").map(r=>"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class Na{constructor(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(t){const r=kc(F.ACCESS_TOKEN);let c="";return c=r&&r.u?b.btoa(encodeURIComponent(r.u).replace(/%([0-9A-F]{2})/g,(u,g)=>String.fromCharCode(+("0x"+g)))):F.ACCESS_TOKEN||"",t?`mapbox.eventData.${t}:${c}`:`mapbox.eventData:${c}`}fetchEventData(){const t=tt("localStorage"),r=this.getStorageKey(),c=this.getStorageKey("uuid");if(t)try{const u=b.localStorage.getItem(r);u&&(this.eventData=JSON.parse(u));const g=b.localStorage.getItem(c);g&&(this.anonId=g)}catch{Y("Unable to read from LocalStorage")}}saveEventData(){const t=tt("localStorage"),r=this.getStorageKey(),c=this.getStorageKey("uuid");if(t)try{b.localStorage.setItem(c,this.anonId),Object.keys(this.eventData).length>=1&&b.localStorage.setItem(r,JSON.stringify(this.eventData))}catch{Y("Unable to write to LocalStorage")}}processRequests(t){}postEvent(t,r,c,u){if(!F.EVENTS_URL)return;const g=Ls(F.EVENTS_URL);g.params.push(`access_token=${u||F.ACCESS_TOKEN||""}`);const v={event:this.type,created:new Date(t).toISOString()},T=r?oe(v,r):v,k={url:Fa(g),headers:{"Content-Type":"text/plain"},body:JSON.stringify([T])};this.pendingRequest=function(D,te){return ki(oe(D,{method:"POST"}),te)}(k,D=>{this.pendingRequest=null,c(D),this.saveEventData(),this.processRequests(u)})}queueRequest(t,r){this.queue.push(t),this.processRequests(r)}}const rt=new class extends Na{constructor(n){super("appUserTurnstile"),this._customAccessToken=n}postTurnstileEvent(n,t){F.EVENTS_URL&&F.ACCESS_TOKEN&&Array.isArray(n)&&n.some(r=>rr(r)||_r(r))&&this.queueRequest(Date.now(),t)}processRequests(n){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const t=kc(F.ACCESS_TOKEN),r=t?t.u:F.ACCESS_TOKEN;let c=r!==this.eventData.tokenU;ce(this.anonId)||(this.anonId=Qe(),c=!0);const u=this.queue.shift();if(this.eventData.lastSuccess){const g=new Date(this.eventData.lastSuccess),v=new Date(u),T=(u-this.eventData.lastSuccess)/864e5;c=c||T>=1||T<-1||g.getDate()!==v.getDate()}else c=!0;c?this.postEvent(u,{sdkIdentifier:"mapbox-gl-js",sdkVersion:L,skuId:P,"enabled.telemetry":!1,userId:this.anonId},g=>{g||(this.eventData.lastSuccess=u,this.eventData.tokenU=r)},n):this.processRequests()}},Le=rt.postTurnstileEvent.bind(rt),Ne=new class extends Na{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(n,t,r,c){this.skuToken=t,this.errorCb=c,F.EVENTS_URL&&(r||F.ACCESS_TOKEN?this.queueRequest({id:n,timestamp:Date.now()},r):this.errorCb(new Error(nr)))}processRequests(n){if(this.pendingRequest||this.queue.length===0)return;const{id:t,timestamp:r}=this.queue.shift();t&&this.success[t]||(this.anonId||this.fetchEventData(),ce(this.anonId)||(this.anonId=Qe()),this.postEvent(r,{sdkIdentifier:"mapbox-gl-js",sdkVersion:L,skuId:P,skuToken:this.skuToken,userId:this.anonId},c=>{c?this.errorCb(c):t&&(this.success[t]=!0)},n))}},st=Ne.postMapLoadEvent.bind(Ne),ft=new class extends Na{constructor(){super("gljs.performance")}postPerformanceEvent(n,t){F.EVENTS_URL&&(n||F.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:t},n)}processRequests(n){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:t,performanceData:r}=this.queue.shift(),c=function(u){const g=b.performance.getEntriesByType("resource"),v=b.performance.getEntriesByType("mark"),T=function(ge){const Se={};if(ge){for(const Ae in ge)if(Ae!=="other")for(const ze of ge[Ae]){const Xe=`${Ae}ResolveRangeMin`,lt=`${Ae}ResolveRangeMax`,_t=`${Ae}RequestCount`,at=`${Ae}RequestCachedCount`;Se[Xe]=Math.min(Se[Xe]||1/0,ze.startTime),Se[lt]=Math.max(Se[lt]||-1/0,ze.responseEnd);const mt=Tt=>{Se[Tt]===void 0&&(Se[Tt]=0),++Se[Tt]};ze.transferSize!==void 0&&ze.transferSize===0&&mt(at),mt(_t)}}return Se}(function(ge,Se){const Ae={};if(ge)for(const ze of ge){const Xe=Se(ze);Ae[Xe]===void 0&&(Ae[Xe]=[]),Ae[Xe].push(ze)}return Ae}(g,Li)),k=b.devicePixelRatio,D=b.navigator.connection||b.navigator.mozConnection||b.navigator.webkitConnection,te={counters:[],metadata:[],attributes:[]},he=(ge,Se,Ae)=>{Ae!=null&&ge.push({name:Se,value:Ae.toString()})};for(const ge in T)he(te.counters,ge,T[ge]);if(u.interactionRange[0]!==1/0&&u.interactionRange[1]!==-1/0&&(he(te.counters,"interactionRangeMin",u.interactionRange[0]),he(te.counters,"interactionRangeMax",u.interactionRange[1])),v)for(const ge of Object.keys(Ut)){const Se=Ut[ge],Ae=v.find(ze=>ze.name===Se);Ae&&he(te.counters,Se,Ae.startTime)}return he(te.counters,"visibilityHidden",u.visibilityHidden),he(te.attributes,"style",function(ge){if(ge)for(const Se of ge){const Ae=Se.name.split("?")[0];if(Ac(Ae)){const ze=Ae.split("/").slice(-2);if(ze.length===2)return`mapbox://styles/${ze[0]}/${ze[1]}`}}}(g)),he(te.attributes,"terrainEnabled",u.terrainEnabled?"true":"false"),he(te.attributes,"fogEnabled",u.fogEnabled?"true":"false"),he(te.attributes,"projection",u.projection),he(te.attributes,"zoom",u.zoom),he(te.metadata,"devicePixelRatio",k),he(te.metadata,"connectionEffectiveType",D?D.effectiveType:void 0),he(te.metadata,"navigatorUserAgent",b.navigator.userAgent),he(te.metadata,"screenWidth",b.screen.width),he(te.metadata,"screenHeight",b.screen.height),he(te.metadata,"windowWidth",b.innerWidth),he(te.metadata,"windowHeight",b.innerHeight),he(te.metadata,"mapWidth",u.width/k),he(te.metadata,"mapHeight",u.height/k),he(te.metadata,"webglRenderer",u.renderer),he(te.metadata,"webglVendor",u.vendor),he(te.metadata,"sdkVersion",L),he(te.metadata,"sdkIdentifier","mapbox-gl-js"),te}(r);for(const u of c.metadata);for(const u of c.counters);for(const u of c.attributes);this.postEvent(t,c,()=>{},n)}},Et=ft.postPerformanceEvent.bind(ft),zt=new class extends Na{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(n,t,r,c){if(!F.API_URL||!F.SESSION_PATH)return;const u=Ls(F.API_URL+F.SESSION_PATH);u.params.push(`sku=${t||""}`),u.params.push(`access_token=${c||F.ACCESS_TOKEN||""}`);const g={url:Fa(u),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(v,T){return ki(oe(v,{method:"GET"}),T)}(g,v=>{this.pendingRequest=null,r(v),this.saveEventData(),this.processRequests(c)})}getSessionAPI(n,t,r,c){this.skuToken=t,this.errorCb=c,F.SESSION_PATH&&F.API_URL&&(r||F.ACCESS_TOKEN?this.queueRequest({id:n,timestamp:Date.now()},r):this.errorCb(new Error(nr)))}processRequests(n){if(this.pendingRequest||this.queue.length===0)return;const{id:t,timestamp:r}=this.queue.shift();t&&this.success[t]||this.getSession(r,this.skuToken,c=>{c?this.errorCb(c):t&&(this.success[t]=!0)},n)}},Ot=zt.getSessionAPI.bind(zt),Mt=new Set,Ut={create:"create",load:"load",fullLoad:"fullLoad"},hi={mark(n){b.performance.mark(n)},measure(n,t,r){b.performance.measure(n,t,r)}};function Li(n){const t=n.name.split("?")[0];return Mc(t)&&t.includes("mapbox-gl.js")?"javascript":Mc(t)&&t.includes("mapbox-gl.css")?"css":function(r){return F.API_FONTS_REGEX.test(r)}(t)?"fontRange":Es(t)?"sprite":Ac(t)?"style":function(r){return F.API_TILEJSON_REGEX.test(r)}(t)?"tilejson":"other"}const mi=b.performance;function en(n){const t=n?n.url.toString():void 0;return mi.getEntriesByName(t)}let Xi,Hi,sn,xn;const jn={now:()=>sn!==void 0?sn:b.performance.now(),setNow(n){sn=n},restoreNow(){sn=void 0},frame(n){const t=b.requestAnimationFrame(n);return{cancel:()=>b.cancelAnimationFrame(t)}},getImageData(n,t=0){const{width:r,height:c}=n;xn||(xn=b.document.createElement("canvas"));const u=xn.getContext("2d",{willReadFrequently:!0});if(!u)throw new Error("failed to create canvas 2d context");return(r>xn.width||c>xn.height)&&(xn.width=r,xn.height=c),u.clearRect(-t,-t,r+2*t,c+2*t),u.drawImage(n,0,0,r,c),u.getImageData(-t,-t,r+2*t,c+2*t)},resolveURL:n=>(Xi||(Xi=b.document.createElement("a")),Xi.href=n,Xi.href),get devicePixelRatio(){return b.devicePixelRatio},get prefersReducedMotion(){return!!b.matchMedia&&(Hi==null&&(Hi=b.matchMedia("(prefers-reduced-motion: reduce)")),Hi.matches)}};function tn(n,t,r){r[n]&&r[n].indexOf(t)!==-1||(r[n]=r[n]||[],r[n].push(t))}function Xn(n,t,r){if(r&&r[n]){const c=r[n].indexOf(t);c!==-1&&r[n].splice(c,1)}}class sr{constructor(t,r={}){oe(this,r),this.type=t}}class wa extends sr{constructor(t,r={}){super("error",oe({error:t},r))}}class Qo{on(t,r){return this._listeners=this._listeners||{},tn(t,r,this._listeners),this}off(t,r){return Xn(t,r,this._listeners),Xn(t,r,this._oneTimeListeners),this}once(t,r){return r?(this._oneTimeListeners=this._oneTimeListeners||{},tn(t,r,this._oneTimeListeners),this):new Promise(c=>this.once(t,c))}fire(t,r){typeof t=="string"&&(t=new sr(t,r||{}));const c=t.type;if(this.listens(c)){t.target=this;const u=this._listeners&&this._listeners[c]?this._listeners[c].slice():[];for(const T of u)T.call(this,t);const g=this._oneTimeListeners&&this._oneTimeListeners[c]?this._oneTimeListeners[c].slice():[];for(const T of g)Xn(c,T,this._oneTimeListeners),T.call(this,t);const v=this._eventedParent;v&&(oe(t,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),v.fire(t))}else t instanceof wa&&console.error(t.error);return this}listens(t){return!!(this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t))}setEventedParent(t,r){return this._eventedParent=t,this._eventedParentData=r,this}}var ti=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function So(n,...t){for(const r of t)for(const c in r)n[c]=r[c];return n}function $r(n){return n instanceof Number||n instanceof String||n instanceof Boolean?n.valueOf():n}function ja(n){if(Array.isArray(n))return n.map(ja);if(n instanceof Object&&!(n instanceof Number||n instanceof String||n instanceof Boolean)){const t={};for(const r in n)t[r]=ja(n[r]);return t}return $r(n)}class td extends Error{constructor(t,r){super(r),this.message=r,this.key=t}}var zo=td;class Ua{constructor(t,r=[]){this.parent=t,this.bindings={};for(const[c,u]of r)this.bindings[c]=u}concat(t){return new Ua(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}var dh=Ua;const ns={kind:"null"},Ci={kind:"number"},bn={kind:"string"},kn={kind:"boolean"},Bo={kind:"color"},Eo={kind:"object"},Sn={kind:"value"},Va={kind:"collator"},Ga={kind:"formatted"},yl={kind:"resolvedImage"};function Cs(n,t){return{kind:"array",itemType:n,N:t}}function Bn(n){if(n.kind==="array"){const t=Bn(n.itemType);return typeof n.N=="number"?`array<${t}, ${n.N}>`:n.itemType.kind==="value"?"array":`array<${t}>`}return n.kind}const uh=[ns,Ci,bn,kn,Bo,Ga,Eo,Cs(Sn),yl];function rs(n,t){if(t.kind==="error")return null;if(n.kind==="array"){if(t.kind==="array"&&(t.N===0&&t.itemType.kind==="value"||!rs(n.itemType,t.itemType))&&(typeof n.N!="number"||n.N===t.N))return null}else{if(n.kind===t.kind)return null;if(n.kind==="value"){for(const r of uh)if(!rs(r,t))return null}}return`Expected ${Bn(n)} but found ${Bn(t)} instead.`}function Pc(n,t){return t.some(r=>r.kind===n.kind)}function Co(n,t){return t.some(r=>r==="null"?n===null:r==="array"?Array.isArray(n):r==="object"?n&&!Array.isArray(n)&&typeof n=="object":r===typeof n)}var ea,Fo={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function vl(n){return(n=Math.round(n))<0?0:n>255?255:n}function Wa(n){return vl(n[n.length-1]==="%"?parseFloat(n)/100*255:parseInt(n))}function No(n){return(t=n[n.length-1]==="%"?parseFloat(n)/100:parseFloat(n))<0?0:t>1?1:t;var t}function Ic(n,t,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?n+(t-n)*r*6:2*r<1?t:3*r<2?n+(t-n)*(2/3-r)*6:n}try{ea={}.parseCSSColor=function(n){var t,r=n.replace(/ /g,"").toLowerCase();if(r in Fo)return Fo[r].slice();if(r[0]==="#")return r.length===4?(t=parseInt(r.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:r.length===7&&(t=parseInt(r.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var c=r.indexOf("("),u=r.indexOf(")");if(c!==-1&&u+1===r.length){var g=r.substr(0,c),v=r.substr(c+1,u-(c+1)).split(","),T=1;switch(g){case"rgba":if(v.length!==4)return null;T=No(v.pop());case"rgb":return v.length!==3?null:[Wa(v[0]),Wa(v[1]),Wa(v[2]),T];case"hsla":if(v.length!==4)return null;T=No(v.pop());case"hsl":if(v.length!==3)return null;var k=(parseFloat(v[0])%360+360)%360/360,D=No(v[1]),te=No(v[2]),he=te<=.5?te*(D+1):te+D-te*D,ge=2*te-he;return[vl(255*Ic(ge,he,k+1/3)),vl(255*Ic(ge,he,k)),vl(255*Ic(ge,he,k-1/3)),T];default:return null}}return null}}catch{}class Ms{constructor(t,r,c,u=1){this.r=t,this.g=r,this.b=c,this.a=u}static parse(t){if(!t)return;if(t instanceof Ms)return t;if(typeof t!="string")return;const r=ea(t);return r?new Ms(r[0]/255*r[3],r[1]/255*r[3],r[2]/255*r[3],r[3]):void 0}toString(){const[t,r,c,u]=this.toArray();return`rgba(${Math.round(t)},${Math.round(r)},${Math.round(c)},${u})`}toArray(){const{r:t,g:r,b:c,a:u}=this;return u===0?[0,0,0,0]:[255*t/u,255*r/u,255*c/u,u]}toArray01(){const{r:t,g:r,b:c,a:u}=this;return u===0?[0,0,0,0]:[t/u,r/u,c/u,u]}toArray01PremultipliedAlpha(){const{r:t,g:r,b:c,a:u}=this;return[t,r,c,u]}}Ms.black=new Ms(0,0,0,1),Ms.white=new Ms(1,1,1,1),Ms.transparent=new Ms(0,0,0,0),Ms.red=new Ms(1,0,0,1),Ms.blue=new Ms(0,0,1,1);var Nr=Ms;class Lc{constructor(t,r,c){this.sensitivity=t?r?"variant":"case":r?"accent":"base",this.locale=c,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,r){return this.collator.compare(t,r)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Dc{constructor(t,r,c,u,g){this.text=t.normalize?t.normalize():t,this.image=r,this.scale=c,this.fontStack=u,this.textColor=g}}class Ds{constructor(t){this.sections=t}static fromString(t){return new Ds([new Dc(t,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(t=>t.text.length!==0||t.image&&t.image.name.length!==0)}static factory(t){return t instanceof Ds?t:Ds.fromString(t)}toString(){return this.sections.length===0?"":this.sections.map(t=>t.text).join("")}serialize(){const t=["format"];for(const r of this.sections){if(r.image){t.push(["image",r.image.name]);continue}t.push(r.text);const c={};r.fontStack&&(c["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(c["font-scale"]=r.scale),r.textColor&&(c["text-color"]=["rgba"].concat(r.textColor.toArray())),t.push(c)}return t}}class js{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new js({name:t,available:!1}):null}serialize(){return["image",this.name]}}function eu(n,t,r,c){return typeof n=="number"&&n>=0&&n<=255&&typeof t=="number"&&t>=0&&t<=255&&typeof r=="number"&&r>=0&&r<=255?c===void 0||typeof c=="number"&&c>=0&&c<=1?null:`Invalid rgba value [${[n,t,r,c].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof c=="number"?[n,t,r,c]:[n,t,r]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Kl(n){if(n===null||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||n instanceof Nr||n instanceof Lc||n instanceof Ds||n instanceof js)return!0;if(Array.isArray(n)){for(const t of n)if(!Kl(t))return!1;return!0}if(typeof n=="object"){for(const t in n)if(!Kl(n[t]))return!1;return!0}return!1}function ss(n){if(n===null)return ns;if(typeof n=="string")return bn;if(typeof n=="boolean")return kn;if(typeof n=="number")return Ci;if(n instanceof Nr)return Bo;if(n instanceof Lc)return Va;if(n instanceof Ds)return Ga;if(n instanceof js)return yl;if(Array.isArray(n)){const t=n.length;let r;for(const c of n){const u=ss(c);if(r){if(r===u)continue;r=Sn;break}r=u}return Cs(r||Sn,t)}return Eo}function xl(n){const t=typeof n;return n===null?"":t==="string"||t==="number"||t==="boolean"?String(n):n instanceof Nr||n instanceof Ds||n instanceof js?n.toString():JSON.stringify(n)}class id{constructor(t,r){this.type=t,this.value=r}static parse(t,r){if(t.length!==2)return r.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!Kl(t[1]))return r.error("invalid value");const c=t[1];let u=ss(c);const g=r.expectedType;return u.kind!=="array"||u.N!==0||!g||g.kind!=="array"||typeof g.N=="number"&&g.N!==0||(u=g),new id(u,c)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Nr?["rgba"].concat(this.value.toArray()):this.value instanceof Ds?this.value.serialize():this.value}}var Oc=id,As=class{constructor(n){this.name="ExpressionEvaluationError",this.message=n}toJSON(){return this.message}};const ph={string:bn,number:Ci,boolean:kn,object:Eo};class Jl{constructor(t,r){this.type=t,this.args=r}static parse(t,r){if(t.length<2)return r.error("Expected at least one argument.");let c,u=1;const g=t[0];if(g==="array"){let T,k;if(t.length>2){const D=t[1];if(typeof D!="string"||!(D in ph)||D==="object")return r.error('The item type argument of "array" must be one of string, number, boolean',1);T=ph[D],u++}else T=Sn;if(t.length>3){if(t[2]!==null&&(typeof t[2]!="number"||t[2]<0||t[2]!==Math.floor(t[2])))return r.error('The length argument to "array" must be a positive integer literal',2);k=t[2],u++}c=Cs(T,k)}else c=ph[g];const v=[];for(;u<t.length;u++){const T=r.parse(t[u],u,Sn);if(!T)return null;v.push(T)}return new Jl(c,v)}evaluate(t){for(let r=0;r<this.args.length;r++){const c=this.args[r].evaluate(t);if(!rs(this.type,ss(c)))return c;if(r===this.args.length-1)throw new As(`Expected value to be of type ${Bn(this.type)}, but found ${Bn(ss(c))} instead.`)}return null}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){const t=this.type,r=[t.kind];if(t.kind==="array"){const c=t.itemType;if(c.kind==="string"||c.kind==="number"||c.kind==="boolean"){r.push(c.kind);const u=t.N;(typeof u=="number"||this.args.length>1)&&r.push(u)}}return r.concat(this.args.map(c=>c.serialize()))}}var Jn=Jl;class or{constructor(t){this.type=Ga,this.sections=t}static parse(t,r){if(t.length<2)return r.error("Expected at least one argument.");const c=t[1];if(!Array.isArray(c)&&typeof c=="object")return r.error("First argument must be an image or text section.");const u=[];let g=!1;for(let v=1;v<=t.length-1;++v){const T=t[v];if(g&&typeof T=="object"&&!Array.isArray(T)){g=!1;let k=null;if(T["font-scale"]&&(k=r.parse(T["font-scale"],1,Ci),!k))return null;let D=null;if(T["text-font"]&&(D=r.parse(T["text-font"],1,Cs(bn)),!D))return null;let te=null;if(T["text-color"]&&(te=r.parse(T["text-color"],1,Bo),!te))return null;const he=u[u.length-1];he.scale=k,he.font=D,he.textColor=te}else{const k=r.parse(t[v],1,Sn);if(!k)return null;const D=k.type.kind;if(D!=="string"&&D!=="value"&&D!=="null"&&D!=="resolvedImage")return r.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");g=!0,u.push({content:k,scale:null,font:null,textColor:null})}}return new or(u)}evaluate(t){return new Ds(this.sections.map(r=>{const c=r.content.evaluate(t);return ss(c)===yl?new Dc("",c,null,null,null):new Dc(xl(c),null,r.scale?r.scale.evaluate(t):null,r.font?r.font.evaluate(t).join(","):null,r.textColor?r.textColor.evaluate(t):null)}))}eachChild(t){for(const r of this.sections)t(r.content),r.scale&&t(r.scale),r.font&&t(r.font),r.textColor&&t(r.textColor)}outputDefined(){return!1}serialize(){const t=["format"];for(const r of this.sections){t.push(r.content.serialize());const c={};r.scale&&(c["font-scale"]=r.scale.serialize()),r.font&&(c["text-font"]=r.font.serialize()),r.textColor&&(c["text-color"]=r.textColor.serialize()),t.push(c)}return t}}class Rc{constructor(t){this.type=yl,this.input=t}static parse(t,r){if(t.length!==2)return r.error("Expected two arguments.");const c=r.parse(t[1],1,bn);return c?new Rc(c):r.error("No image name provided.")}evaluate(t){const r=this.input.evaluate(t),c=js.fromString(r);return c&&t.availableImages&&(c.available=t.availableImages.indexOf(r)>-1),c}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const nd={"to-boolean":kn,"to-color":Bo,"to-number":Ci,"to-string":bn};class fh{constructor(t,r){this.type=t,this.args=r}static parse(t,r){if(t.length<2)return r.error("Expected at least one argument.");const c=t[0];if((c==="to-boolean"||c==="to-string")&&t.length!==2)return r.error("Expected one argument.");const u=nd[c],g=[];for(let v=1;v<t.length;v++){const T=r.parse(t[v],v,Sn);if(!T)return null;g.push(T)}return new fh(u,g)}evaluate(t){if(this.type.kind==="boolean")return!!this.args[0].evaluate(t);if(this.type.kind==="color"){let r,c;for(const u of this.args){if(r=u.evaluate(t),c=null,r instanceof Nr)return r;if(typeof r=="string"){const g=t.parseColor(r);if(g)return g}else if(Array.isArray(r)&&(c=r.length<3||r.length>4?`Invalid rbga value ${JSON.stringify(r)}: expected an array containing either three or four numeric values.`:eu(r[0],r[1],r[2],r[3]),!c))return new Nr(r[0]/255,r[1]/255,r[2]/255,r[3])}throw new As(c||`Could not parse color from value '${typeof r=="string"?r:String(JSON.stringify(r))}'`)}if(this.type.kind==="number"){let r=null;for(const c of this.args){if(r=c.evaluate(t),r===null)return 0;const u=Number(r);if(!isNaN(u))return u}throw new As(`Could not convert ${JSON.stringify(r)} to number.`)}return this.type.kind==="formatted"?Ds.fromString(xl(this.args[0].evaluate(t))):this.type.kind==="resolvedImage"?js.fromString(xl(this.args[0].evaluate(t))):xl(this.args[0].evaluate(t))}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){if(this.type.kind==="formatted")return new or([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Rc(this.args[0]).serialize();const t=[`to-${this.type.kind}`];return this.eachChild(r=>{t.push(r.serialize())}),t}}var bl=fh;const mh=["Unknown","Point","LineString","Polygon"];var zc=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?mh[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const n=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:r,y:c}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(r*t-n[0])+this.featureDistanceData.bearing[1]*(c*t-n[1])}return 0}parseColor(n){let t=this._parseColorCache[n];return t||(t=this._parseColorCache[n]=Nr.parse(n)),t}};class wl{constructor(t,r,c,u){this.name=t,this.type=r,this._evaluate=c,this.args=u}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(t=>t.serialize()))}static parse(t,r){const c=t[0],u=wl.definitions[c];if(!u)return r.error(`Unknown expression "${c}". If you wanted a literal array, use ["literal", [...]].`,0);const g=Array.isArray(u)?u[0]:u.type,v=Array.isArray(u)?[[u[1],u[2]]]:u.overloads,T=v.filter(([D])=>!Array.isArray(D)||D.length===t.length-1);let k=null;for(const[D,te]of T){k=new Mo(r.registry,r.path,null,r.scope);const he=[];let ge=!1;for(let Se=1;Se<t.length;Se++){const Ae=t[Se],ze=Array.isArray(D)?D[Se-1]:D.type,Xe=k.parse(Ae,1+he.length,ze);if(!Xe){ge=!0;break}he.push(Xe)}if(!ge)if(Array.isArray(D)&&D.length!==he.length)k.error(`Expected ${D.length} arguments, but found ${he.length} instead.`);else{for(let Se=0;Se<he.length;Se++){const Ae=Array.isArray(D)?D[Se]:D.type,ze=he[Se];k.concat(Se+1).checkSubtype(Ae,ze.type)}if(k.errors.length===0)return new wl(c,g,te,he)}}if(T.length===1)r.errors.push(...k.errors);else{const D=(T.length?T:v).map(([he])=>{return ge=he,Array.isArray(ge)?`(${ge.map(Bn).join(", ")})`:`(${Bn(ge.type)}...)`;var ge}).join(" | "),te=[];for(let he=1;he<t.length;he++){const ge=r.parse(t[he],1+te.length);if(!ge)return null;te.push(Bn(ge.type))}r.error(`Expected arguments of type ${D}, but found (${te.join(", ")}) instead.`)}return null}static register(t,r){wl.definitions=r;for(const c in r)t[c]=wl}}var $a=wl;class Or{constructor(t,r,c){this.type=Va,this.locale=c,this.caseSensitive=t,this.diacriticSensitive=r}static parse(t,r){if(t.length!==2)return r.error("Expected one argument.");const c=t[1];if(typeof c!="object"||Array.isArray(c))return r.error("Collator options argument must be an object.");const u=r.parse(c["case-sensitive"]!==void 0&&c["case-sensitive"],1,kn);if(!u)return null;const g=r.parse(c["diacritic-sensitive"]!==void 0&&c["diacritic-sensitive"],1,kn);if(!g)return null;let v=null;return c.locale&&(v=r.parse(c.locale,1,bn),!v)?null:new Or(u,g,v)}evaluate(t){return new Lc(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}serialize(){const t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]}}const jo=8192;function os(n,t){n[0]=Math.min(n[0],t[0]),n[1]=Math.min(n[1],t[1]),n[2]=Math.max(n[2],t[0]),n[3]=Math.max(n[3],t[1])}function Ql(n,t){return!(n[0]<=t[0]||n[2]>=t[2]||n[1]<=t[1]||n[3]>=t[3])}function gh(n,t){const r=(180+n[0])/360,c=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+n[1]*Math.PI/360)))/360,u=Math.pow(2,t.z);return[Math.round(r*u*jo),Math.round(c*u*jo)]}function oo(n,t,r){const c=n[0]-t[0],u=n[1]-t[1],g=n[0]-r[0],v=n[1]-r[1];return c*v-g*u==0&&c*g<=0&&u*v<=0}function M(n,t){let r=!1;for(let v=0,T=t.length;v<T;v++){const k=t[v];for(let D=0,te=k.length;D<te-1;D++){if(oo(n,k[D],k[D+1]))return!1;(u=k[D])[1]>(c=n)[1]!=(g=k[D+1])[1]>c[1]&&c[0]<(g[0]-u[0])*(c[1]-u[1])/(g[1]-u[1])+u[0]&&(r=!r)}}var c,u,g;return r}function U(n,t){for(let r=0;r<t.length;r++)if(M(n,t[r]))return!0;return!1}function ue(n,t,r,c){const u=c[0]-r[0],g=c[1]-r[1],v=(n[0]-r[0])*g-u*(n[1]-r[1]),T=(t[0]-r[0])*g-u*(t[1]-r[1]);return v>0&&T<0||v<0&&T>0}function be(n,t,r){for(const D of r)for(let te=0;te<D.length-1;++te)if((T=[(v=D[te+1])[0]-(g=D[te])[0],v[1]-g[1]])[0]*(k=[(u=t)[0]-(c=n)[0],u[1]-c[1]])[1]-T[1]*k[0]!=0&&ue(c,u,g,v)&&ue(g,v,c,u))return!0;var c,u,g,v,T,k;return!1}function Oe(n,t){for(let r=0;r<n.length;++r)if(!M(n[r],t))return!1;for(let r=0;r<n.length-1;++r)if(be(n[r],n[r+1],t))return!1;return!0}function Re(n,t){for(let r=0;r<t.length;r++)if(Oe(n,t[r]))return!0;return!1}function Ge(n,t,r){const c=[];for(let u=0;u<n.length;u++){const g=[];for(let v=0;v<n[u].length;v++){const T=gh(n[u][v],r);os(t,T),g.push(T)}c.push(g)}return c}function St(n,t,r){const c=[];for(let u=0;u<n.length;u++){const g=Ge(n[u],t,r);c.push(g)}return c}function gt(n,t,r,c){if(n[0]<r[0]||n[0]>r[2]){const u=.5*c;let g=n[0]-r[0]>u?-c:r[0]-n[0]>u?c:0;g===0&&(g=n[0]-r[2]>u?-c:r[2]-n[0]>u?c:0),n[0]+=g}os(t,n)}function Lt(n,t,r,c){const u=Math.pow(2,c.z)*jo,g=[c.x*jo,c.y*jo],v=[];if(!n)return v;for(const T of n)for(const k of T){const D=[k.x+g[0],k.y+g[1]];gt(D,t,r,u),v.push(D)}return v}function Wt(n,t,r,c){const u=Math.pow(2,c.z)*jo,g=[c.x*jo,c.y*jo],v=[];if(!n)return v;for(const k of n){const D=[];for(const te of k){const he=[te.x+g[0],te.y+g[1]];os(t,he),D.push(he)}v.push(D)}if(t[2]-t[0]<=u/2){(T=t)[0]=T[1]=1/0,T[2]=T[3]=-1/0;for(const k of v)for(const D of k)gt(D,t,r,u)}var T;return v}class si{constructor(t,r){this.type=kn,this.geojson=t,this.geometries=r}static parse(t,r){if(t.length!==2)return r.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(Kl(t[1])){const c=t[1];if(c.type==="FeatureCollection")for(let u=0;u<c.features.length;++u){const g=c.features[u].geometry.type;if(g==="Polygon"||g==="MultiPolygon")return new si(c,c.features[u].geometry)}else if(c.type==="Feature"){const u=c.geometry.type;if(u==="Polygon"||u==="MultiPolygon")return new si(c,c.geometry)}else if(c.type==="Polygon"||c.type==="MultiPolygon")return new si(c,c)}return r.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(t.geometry()!=null&&t.canonicalID()!=null){if(t.geometryType()==="Point")return function(r,c){const u=[1/0,1/0,-1/0,-1/0],g=[1/0,1/0,-1/0,-1/0],v=r.canonicalID();if(!v)return!1;if(c.type==="Polygon"){const T=Ge(c.coordinates,g,v),k=Lt(r.geometry(),u,g,v);if(!Ql(u,g))return!1;for(const D of k)if(!M(D,T))return!1}if(c.type==="MultiPolygon"){const T=St(c.coordinates,g,v),k=Lt(r.geometry(),u,g,v);if(!Ql(u,g))return!1;for(const D of k)if(!U(D,T))return!1}return!0}(t,this.geometries);if(t.geometryType()==="LineString")return function(r,c){const u=[1/0,1/0,-1/0,-1/0],g=[1/0,1/0,-1/0,-1/0],v=r.canonicalID();if(!v)return!1;if(c.type==="Polygon"){const T=Ge(c.coordinates,g,v),k=Wt(r.geometry(),u,g,v);if(!Ql(u,g))return!1;for(const D of k)if(!Oe(D,T))return!1}if(c.type==="MultiPolygon"){const T=St(c.coordinates,g,v),k=Wt(r.geometry(),u,g,v);if(!Ql(u,g))return!1;for(const D of k)if(!Re(D,T))return!1}return!0}(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var Yt=si;function Mi(n){if(n instanceof $a&&(n.name==="get"&&n.args.length===1||n.name==="feature-state"||n.name==="has"&&n.args.length===1||n.name==="properties"||n.name==="geometry-type"||n.name==="id"||/^filter-/.test(n.name))||n instanceof Yt)return!1;let t=!0;return n.eachChild(r=>{t&&!Mi(r)&&(t=!1)}),t}function ji(n){if(n instanceof $a&&n.name==="feature-state")return!1;let t=!0;return n.eachChild(r=>{t&&!ji(r)&&(t=!1)}),t}function Cn(n,t){if(n instanceof $a&&t.indexOf(n.name)>=0)return!1;let r=!0;return n.eachChild(c=>{r&&!Cn(c,t)&&(r=!1)}),r}class En{constructor(t,r){this.type=r.type,this.name=t,this.boundExpression=r}static parse(t,r){if(t.length!==2||typeof t[1]!="string")return r.error("'var' expression requires exactly one string literal argument.");const c=t[1];return r.scope.has(c)?new En(c,r.scope.get(c)):r.error(`Unknown variable "${c}". Make sure "${c}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var ds=En;class Rr{constructor(t,r=[],c,u=new dh,g=[]){this.registry=t,this.path=r,this.key=r.map(v=>`[${v}]`).join(""),this.scope=u,this.errors=g,this.expectedType=c}parse(t,r,c,u,g={}){return r?this.concat(r,c,u)._parse(t,g):this._parse(t,g)}_parse(t,r){function c(u,g,v){return v==="assert"?new Jn(g,[u]):v==="coerce"?new bl(g,[u]):u}if(t!==null&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"||(t=["literal",t]),Array.isArray(t)){if(t.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const u=t[0];if(typeof u!="string")return this.error(`Expression name must be a string, but found ${typeof u} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const g=this.registry[u];if(g){let v=g.parse(t,this);if(!v)return null;if(this.expectedType){const T=this.expectedType,k=v.type;if(T.kind!=="string"&&T.kind!=="number"&&T.kind!=="boolean"&&T.kind!=="object"&&T.kind!=="array"||k.kind!=="value")if(T.kind!=="color"&&T.kind!=="formatted"&&T.kind!=="resolvedImage"||k.kind!=="value"&&k.kind!=="string"){if(this.checkSubtype(T,k))return null}else v=c(v,T,r.typeAnnotation||"coerce");else v=c(v,T,r.typeAnnotation||"assert")}if(!(v instanceof Oc)&&v.type.kind!=="resolvedImage"&&ks(v)){const T=new zc;try{v=new Oc(v.type,v.evaluate(T))}catch(k){return this.error(k.message),null}}return v}return this.error(`Unknown expression "${u}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(t===void 0?"'undefined' value invalid. Use null instead.":typeof t=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof t} instead.`)}concat(t,r,c){const u=typeof t=="number"?this.path.concat(t):this.path,g=c?this.scope.concat(c):this.scope;return new Rr(this.registry,u,r||null,g,this.errors)}error(t,...r){const c=`${this.key}${r.map(u=>`[${u}]`).join("")}`;this.errors.push(new zo(c,t))}checkSubtype(t,r){const c=rs(t,r);return c&&this.error(c),c}}var Mo=Rr;function ks(n){if(n instanceof ds)return ks(n.boundExpression);if(n instanceof $a&&n.name==="error"||n instanceof Or||n instanceof Yt)return!1;const t=n instanceof bl||n instanceof Jn;let r=!0;return n.eachChild(c=>{r=t?r&&ks(c):r&&c instanceof Oc}),!!r&&Mi(n)&&Cn(n,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Pn(n,t){const r=n.length-1;let c,u,g=0,v=r,T=0;for(;g<=v;)if(T=Math.floor((g+v)/2),c=n[T],u=n[T+1],c<=t){if(T===r||t<u)return T;g=T+1}else{if(!(c>t))throw new As("Input is not a number.");v=T-1}return 0}class Uo{constructor(t,r,c){this.type=t,this.input=r,this.labels=[],this.outputs=[];for(const[u,g]of c)this.labels.push(u),this.outputs.push(g)}static parse(t,r){if(t.length-1<4)return r.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return r.error("Expected an even number of arguments.");const c=r.parse(t[1],1,Ci);if(!c)return null;const u=[];let g=null;r.expectedType&&r.expectedType.kind!=="value"&&(g=r.expectedType);for(let v=1;v<t.length;v+=2){const T=v===1?-1/0:t[v],k=t[v+1],D=v,te=v+1;if(typeof T!="number")return r.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',D);if(u.length&&u[u.length-1][0]>=T)return r.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',D);const he=r.parse(k,te,g);if(!he)return null;g=g||he.type,u.push([T,he])}return new Uo(g,c,u)}evaluate(t){const r=this.labels,c=this.outputs;if(r.length===1)return c[0].evaluate(t);const u=this.input.evaluate(t);if(u<=r[0])return c[0].evaluate(t);const g=r.length;return u>=r[g-1]?c[g-1].evaluate(t):c[Pn(r,u)].evaluate(t)}eachChild(t){t(this.input);for(const r of this.outputs)t(r)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}serialize(){const t=["step",this.input.serialize()];for(let r=0;r<this.labels.length;r++)r>0&&t.push(this.labels[r]),t.push(this.outputs[r].serialize());return t}}var Un=Uo;function Qi(n,t,r){return n*(1-r)+t*r}var Ta=Object.freeze({__proto__:null,number:Qi,color:function(n,t,r){return new Nr(Qi(n.r,t.r,r),Qi(n.g,t.g,r),Qi(n.b,t.b,r),Qi(n.a,t.a,r))},array:function(n,t,r){return n.map((c,u)=>Qi(c,t[u],r))}});const Bc=.95047,Ao=1.08883,Sa=4/29,Zs=6/29,Vo=3*Zs*Zs,Ea=Math.PI/180,Ks=180/Math.PI;function Ha(n){return n>.008856451679035631?Math.pow(n,1/3):n/Vo+Sa}function Go(n){return n>Zs?n*n*n:Vo*(n-Sa)}function ao(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function Os(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function _h(n){const t=Os(n.r),r=Os(n.g),c=Os(n.b),u=Ha((.4124564*t+.3575761*r+.1804375*c)/Bc),g=Ha((.2126729*t+.7151522*r+.072175*c)/1);return{l:116*g-16,a:500*(u-g),b:200*(g-Ha((.0193339*t+.119192*r+.9503041*c)/Ao)),alpha:n.a}}function ec(n){let t=(n.l+16)/116,r=isNaN(n.a)?t:t+n.a/500,c=isNaN(n.b)?t:t-n.b/200;return t=1*Go(t),r=Bc*Go(r),c=Ao*Go(c),new Nr(ao(3.2404542*r-1.5371385*t-.4985314*c),ao(-.969266*r+1.8760108*t+.041556*c),ao(.0556434*r-.2040259*t+1.0572252*c),n.alpha)}function pr(n,t,r){const c=t-n;return n+r*(c>180||c<-180?c-360*Math.round(c/360):c)}const Ca={forward:_h,reverse:ec,interpolate:function(n,t,r){return{l:Qi(n.l,t.l,r),a:Qi(n.a,t.a,r),b:Qi(n.b,t.b,r),alpha:Qi(n.alpha,t.alpha,r)}}},Us={forward:function(n){const{l:t,a:r,b:c}=_h(n),u=Math.atan2(c,r)*Ks;return{h:u<0?u+360:u,c:Math.sqrt(r*r+c*c),l:t,alpha:n.a}},reverse:function(n){const t=n.h*Ea,r=n.c;return ec({l:n.l,a:Math.cos(t)*r,b:Math.sin(t)*r,alpha:n.alpha})},interpolate:function(n,t,r){return{h:pr(n.h,t.h,r),c:Qi(n.c,t.c,r),l:Qi(n.l,t.l,r),alpha:Qi(n.alpha,t.alpha,r)}}};var Tl=Object.freeze({__proto__:null,lab:Ca,hcl:Us});class Fc{constructor(t,r,c,u,g){this.type=t,this.operator=r,this.interpolation=c,this.input=u,this.labels=[],this.outputs=[];for(const[v,T]of g)this.labels.push(v),this.outputs.push(T)}static interpolationFactor(t,r,c,u){let g=0;if(t.name==="exponential")g=rd(r,t.base,c,u);else if(t.name==="linear")g=rd(r,1,c,u);else if(t.name==="cubic-bezier"){const v=t.controlPoints;g=new V(v[0],v[1],v[2],v[3]).solve(rd(r,1,c,u))}return g}static parse(t,r){let[c,u,g,...v]=t;if(!Array.isArray(u)||u.length===0)return r.error("Expected an interpolation type expression.",1);if(u[0]==="linear")u={name:"linear"};else if(u[0]==="exponential"){const D=u[1];if(typeof D!="number")return r.error("Exponential interpolation requires a numeric base.",1,1);u={name:"exponential",base:D}}else{if(u[0]!=="cubic-bezier")return r.error(`Unknown interpolation type ${String(u[0])}`,1,0);{const D=u.slice(1);if(D.length!==4||D.some(te=>typeof te!="number"||te<0||te>1))return r.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);u={name:"cubic-bezier",controlPoints:D}}}if(t.length-1<4)return r.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return r.error("Expected an even number of arguments.");if(g=r.parse(g,2,Ci),!g)return null;const T=[];let k=null;c==="interpolate-hcl"||c==="interpolate-lab"?k=Bo:r.expectedType&&r.expectedType.kind!=="value"&&(k=r.expectedType);for(let D=0;D<v.length;D+=2){const te=v[D],he=v[D+1],ge=D+3,Se=D+4;if(typeof te!="number")return r.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ge);if(T.length&&T[T.length-1][0]>=te)return r.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',ge);const Ae=r.parse(he,Se,k);if(!Ae)return null;k=k||Ae.type,T.push([te,Ae])}return k.kind==="number"||k.kind==="color"||k.kind==="array"&&k.itemType.kind==="number"&&typeof k.N=="number"?new Fc(k,c,u,g,T):r.error(`Type ${Bn(k)} is not interpolatable.`)}evaluate(t){const r=this.labels,c=this.outputs;if(r.length===1)return c[0].evaluate(t);const u=this.input.evaluate(t);if(u<=r[0])return c[0].evaluate(t);const g=r.length;if(u>=r[g-1])return c[g-1].evaluate(t);const v=Pn(r,u),T=Fc.interpolationFactor(this.interpolation,u,r[v],r[v+1]),k=c[v].evaluate(t),D=c[v+1].evaluate(t);return this.operator==="interpolate"?Ta[this.type.kind.toLowerCase()](k,D,T):this.operator==="interpolate-hcl"?Us.reverse(Us.interpolate(Us.forward(k),Us.forward(D),T)):Ca.reverse(Ca.interpolate(Ca.forward(k),Ca.forward(D),T))}eachChild(t){t(this.input);for(const r of this.outputs)t(r)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}serialize(){let t;t=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const r=[this.operator,t,this.input.serialize()];for(let c=0;c<this.labels.length;c++)r.push(this.labels[c],this.outputs[c].serialize());return r}}function rd(n,t,r,c){const u=c-r,g=n-r;return u===0?0:t===1?g/u:(Math.pow(t,g)-1)/(Math.pow(t,u)-1)}var Wo=Fc;class Js{constructor(t,r){this.type=t,this.args=r}static parse(t,r){if(t.length<2)return r.error("Expectected at least one argument.");let c=null;const u=r.expectedType;u&&u.kind!=="value"&&(c=u);const g=[];for(const T of t.slice(1)){const k=r.parse(T,1+g.length,c,void 0,{typeAnnotation:"omit"});if(!k)return null;c=c||k.type,g.push(k)}const v=u&&g.some(T=>rs(u,T.type));return new Js(v?Sn:c,g)}evaluate(t){let r,c=null,u=0;for(const g of this.args){if(u++,c=g.evaluate(t),c&&c instanceof js&&!c.available&&(r||(r=c),c=null,u===this.args.length))return r;if(c!==null)break}return c}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){const t=["coalesce"];return this.eachChild(r=>{t.push(r.serialize())}),t}}var yh=Js;class $o{constructor(t,r){this.type=r.type,this.bindings=[].concat(t),this.result=r}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const r of this.bindings)t(r[1]);t(this.result)}static parse(t,r){if(t.length<4)return r.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const c=[];for(let g=1;g<t.length-1;g+=2){const v=t[g];if(typeof v!="string")return r.error(`Expected string, but found ${typeof v} instead.`,g);if(/[^a-zA-Z0-9_]/.test(v))return r.error("Variable names must contain only alphanumeric characters or '_'.",g);const T=r.parse(t[g+1],g+1);if(!T)return null;c.push([v,T])}const u=r.parse(t[t.length-1],t.length-1,r.expectedType,c);return u?new $o(c,u):null}outputDefined(){return this.result.outputDefined()}serialize(){const t=["let"];for(const[r,c]of this.bindings)t.push(r,c.serialize());return t.push(this.result.serialize()),t}}var tc=$o;class qa{constructor(t,r,c){this.type=t,this.index=r,this.input=c}static parse(t,r){if(t.length!==3)return r.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const c=r.parse(t[1],1,Ci),u=r.parse(t[2],2,Cs(r.expectedType||Sn));return c&&u?new qa(u.type.itemType,c,u):null}evaluate(t){const r=this.index.evaluate(t),c=this.input.evaluate(t);if(r<0)throw new As(`Array index out of bounds: ${r} < 0.`);if(r>=c.length)throw new As(`Array index out of bounds: ${r} > ${c.length-1}.`);if(r!==Math.floor(r))throw new As(`Array index must be an integer, but found ${r} instead.`);return c[r]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Ho=qa;class Ma{constructor(t,r){this.type=kn,this.needle=t,this.haystack=r}static parse(t,r){if(t.length!==3)return r.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const c=r.parse(t[1],1,Sn),u=r.parse(t[2],2,Sn);return c&&u?Pc(c.type,[kn,bn,Ci,ns,Sn])?new Ma(c,u):r.error(`Expected first argument to be of type boolean, string, number or null, but found ${Bn(c.type)} instead`):null}evaluate(t){const r=this.needle.evaluate(t),c=this.haystack.evaluate(t);if(c==null)return!1;if(!Co(r,["boolean","string","number","null"]))throw new As(`Expected first argument to be of type boolean, string, number or null, but found ${Bn(ss(r))} instead.`);if(!Co(c,["string","array"]))throw new As(`Expected second argument to be of type array or string, but found ${Bn(ss(c))} instead.`);return c.indexOf(r)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var vh=Ma;class Nc{constructor(t,r,c){this.type=Ci,this.needle=t,this.haystack=r,this.fromIndex=c}static parse(t,r){if(t.length<=2||t.length>=5)return r.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const c=r.parse(t[1],1,Sn),u=r.parse(t[2],2,Sn);if(!c||!u)return null;if(!Pc(c.type,[kn,bn,Ci,ns,Sn]))return r.error(`Expected first argument to be of type boolean, string, number or null, but found ${Bn(c.type)} instead`);if(t.length===4){const g=r.parse(t[3],3,Ci);return g?new Nc(c,u,g):null}return new Nc(c,u)}evaluate(t){const r=this.needle.evaluate(t),c=this.haystack.evaluate(t);if(!Co(r,["boolean","string","number","null"]))throw new As(`Expected first argument to be of type boolean, string, number or null, but found ${Bn(ss(r))} instead.`);if(!Co(c,["string","array"]))throw new As(`Expected second argument to be of type array or string, but found ${Bn(ss(c))} instead.`);if(this.fromIndex){const u=this.fromIndex.evaluate(t);return c.indexOf(r,u)}return c.indexOf(r)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var jc=Nc;class ta{constructor(t,r,c,u,g,v){this.inputType=t,this.type=r,this.input=c,this.cases=u,this.outputs=g,this.otherwise=v}static parse(t,r){if(t.length<5)return r.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return r.error("Expected an even number of arguments.");let c,u;r.expectedType&&r.expectedType.kind!=="value"&&(u=r.expectedType);const g={},v=[];for(let D=2;D<t.length-1;D+=2){let te=t[D];const he=t[D+1];Array.isArray(te)||(te=[te]);const ge=r.concat(D);if(te.length===0)return ge.error("Expected at least one branch label.");for(const Ae of te){if(typeof Ae!="number"&&typeof Ae!="string")return ge.error("Branch labels must be numbers or strings.");if(typeof Ae=="number"&&Math.abs(Ae)>Number.MAX_SAFE_INTEGER)return ge.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Ae=="number"&&Math.floor(Ae)!==Ae)return ge.error("Numeric branch labels must be integer values.");if(c){if(ge.checkSubtype(c,ss(Ae)))return null}else c=ss(Ae);if(g[String(Ae)]!==void 0)return ge.error("Branch labels must be unique.");g[String(Ae)]=v.length}const Se=r.parse(he,D,u);if(!Se)return null;u=u||Se.type,v.push(Se)}const T=r.parse(t[1],1,Sn);if(!T)return null;const k=r.parse(t[t.length-1],t.length-1,u);return k?T.type.kind!=="value"&&r.concat(1).checkSubtype(c,T.type)?null:new ta(c,u,T,g,v,k):null}evaluate(t){const r=this.input.evaluate(t);return(ss(r)===this.inputType&&this.outputs[this.cases[r]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every(t=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const t=["match",this.input.serialize()],r=Object.keys(this.cases).sort(),c=[],u={};for(const v of r){const T=u[this.cases[v]];T===void 0?(u[this.cases[v]]=c.length,c.push([this.cases[v],[v]])):c[T][1].push(v)}const g=v=>this.inputType.kind==="number"?Number(v):v;for(const[v,T]of c)t.push(T.length===1?g(T[0]):T.map(g)),t.push(this.outputs[v].serialize());return t.push(this.otherwise.serialize()),t}}var lo=ta;class xh{constructor(t,r,c){this.type=t,this.branches=r,this.otherwise=c}static parse(t,r){if(t.length<4)return r.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return r.error("Expected an odd number of arguments.");let c;r.expectedType&&r.expectedType.kind!=="value"&&(c=r.expectedType);const u=[];for(let v=1;v<t.length-1;v+=2){const T=r.parse(t[v],v,kn);if(!T)return null;const k=r.parse(t[v+1],v+1,c);if(!k)return null;u.push([T,k]),c=c||k.type}const g=r.parse(t[t.length-1],t.length-1,c);return g?new xh(c,u,g):null}evaluate(t){for(const[r,c]of this.branches)if(r.evaluate(t))return c.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[r,c]of this.branches)t(r),t(c);t(this.otherwise)}outputDefined(){return this.branches.every(([t,r])=>r.outputDefined())&&this.otherwise.outputDefined()}serialize(){const t=["case"];return this.eachChild(r=>{t.push(r.serialize())}),t}}var sd=xh;class Xa{constructor(t,r,c,u){this.type=t,this.input=r,this.beginIndex=c,this.endIndex=u}static parse(t,r){if(t.length<=2||t.length>=5)return r.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const c=r.parse(t[1],1,Sn),u=r.parse(t[2],2,Ci);if(!c||!u)return null;if(!Pc(c.type,[Cs(Sn),bn,Sn]))return r.error(`Expected first argument to be of type array or string, but found ${Bn(c.type)} instead`);if(t.length===4){const g=r.parse(t[3],3,Ci);return g?new Xa(c.type,c,u,g):null}return new Xa(c.type,c,u)}evaluate(t){const r=this.input.evaluate(t),c=this.beginIndex.evaluate(t);if(!Co(r,["string","array"]))throw new As(`Expected first argument to be of type array or string, but found ${Bn(ss(r))} instead.`);if(this.endIndex){const u=this.endIndex.evaluate(t);return r.slice(c,u)}return r.slice(c)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var pt=Xa;function It(n,t){return n==="=="||n==="!="?t.kind==="boolean"||t.kind==="string"||t.kind==="number"||t.kind==="null"||t.kind==="value":t.kind==="string"||t.kind==="number"||t.kind==="value"}function Zt(n,t,r,c){return c.compare(t,r)===0}function Qt(n,t,r){const c=n!=="=="&&n!=="!=";return class z6{constructor(g,v,T){this.type=kn,this.lhs=g,this.rhs=v,this.collator=T,this.hasUntypedArgument=g.type.kind==="value"||v.type.kind==="value"}static parse(g,v){if(g.length!==3&&g.length!==4)return v.error("Expected two or three arguments.");const T=g[0];let k=v.parse(g[1],1,Sn);if(!k)return null;if(!It(T,k.type))return v.concat(1).error(`"${T}" comparisons are not supported for type '${Bn(k.type)}'.`);let D=v.parse(g[2],2,Sn);if(!D)return null;if(!It(T,D.type))return v.concat(2).error(`"${T}" comparisons are not supported for type '${Bn(D.type)}'.`);if(k.type.kind!==D.type.kind&&k.type.kind!=="value"&&D.type.kind!=="value")return v.error(`Cannot compare types '${Bn(k.type)}' and '${Bn(D.type)}'.`);c&&(k.type.kind==="value"&&D.type.kind!=="value"?k=new Jn(D.type,[k]):k.type.kind!=="value"&&D.type.kind==="value"&&(D=new Jn(k.type,[D])));let te=null;if(g.length===4){if(k.type.kind!=="string"&&D.type.kind!=="string"&&k.type.kind!=="value"&&D.type.kind!=="value")return v.error("Cannot use collator to compare non-string types.");if(te=v.parse(g[3],3,Va),!te)return null}return new z6(k,D,te)}evaluate(g){const v=this.lhs.evaluate(g),T=this.rhs.evaluate(g);if(c&&this.hasUntypedArgument){const k=ss(v),D=ss(T);if(k.kind!==D.kind||k.kind!=="string"&&k.kind!=="number")throw new As(`Expected arguments for "${n}" to be (string, string) or (number, number), but found (${k.kind}, ${D.kind}) instead.`)}if(this.collator&&!c&&this.hasUntypedArgument){const k=ss(v),D=ss(T);if(k.kind!=="string"||D.kind!=="string")return t(g,v,T)}return this.collator?r(g,v,T,this.collator.evaluate(g)):t(g,v,T)}eachChild(g){g(this.lhs),g(this.rhs),this.collator&&g(this.collator)}outputDefined(){return!0}serialize(){const g=[n];return this.eachChild(v=>{g.push(v.serialize())}),g}}}const ot=Qt("==",function(n,t,r){return t===r},Zt),Pt=Qt("!=",function(n,t,r){return t!==r},function(n,t,r,c){return!Zt(0,t,r,c)}),kt=Qt("<",function(n,t,r){return t<r},function(n,t,r,c){return c.compare(t,r)<0}),li=Qt(">",function(n,t,r){return t>r},function(n,t,r,c){return c.compare(t,r)>0}),_i=Qt("<=",function(n,t,r){return t<=r},function(n,t,r,c){return c.compare(t,r)<=0}),Yi=Qt(">=",function(n,t,r){return t>=r},function(n,t,r,c){return c.compare(t,r)>=0});class qi{constructor(t,r,c,u,g,v){this.type=bn,this.number=t,this.locale=r,this.currency=c,this.unit=u,this.minFractionDigits=g,this.maxFractionDigits=v}static parse(t,r){if(t.length!==3)return r.error("Expected two arguments.");const c=r.parse(t[1],1,Ci);if(!c)return null;const u=t[2];if(typeof u!="object"||Array.isArray(u))return r.error("NumberFormat options argument must be an object.");let g=null;if(u.locale&&(g=r.parse(u.locale,1,bn),!g))return null;let v=null;if(u.currency&&(v=r.parse(u.currency,1,bn),!v))return null;let T=null;if(u.unit&&(T=r.parse(u.unit,1,bn),!T))return null;let k=null;if(u["min-fraction-digits"]&&(k=r.parse(u["min-fraction-digits"],1,Ci),!k))return null;let D=null;return u["max-fraction-digits"]&&(D=r.parse(u["max-fraction-digits"],1,Ci),!D)?null:new qi(c,g,v,T,k,D)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(t):void 0,unit:this.unit?this.unit.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.unit&&t(this.unit),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.unit&&(t.unit=this.unit.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]}}class Ui{constructor(t){this.type=Ci,this.input=t}static parse(t,r){if(t.length!==2)return r.error(`Expected 1 argument, but found ${t.length-1} instead.`);const c=r.parse(t[1],1);return c?c.type.kind!=="array"&&c.type.kind!=="string"&&c.type.kind!=="value"?r.error(`Expected argument of type string or array, but found ${Bn(c.type)} instead.`):new Ui(c):null}evaluate(t){const r=this.input.evaluate(t);if(typeof r=="string"||Array.isArray(r))return r.length;throw new As(`Expected value to be of type string or array, but found ${Bn(ss(r))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){const t=["length"];return this.eachChild(r=>{t.push(r.serialize())}),t}}const Dn={"==":ot,"!=":Pt,">":li,"<":kt,">=":Yi,"<=":_i,array:Jn,at:Ho,boolean:Jn,case:sd,coalesce:yh,collator:Or,format:or,image:Rc,in:vh,"index-of":jc,interpolate:Wo,"interpolate-hcl":Wo,"interpolate-lab":Wo,length:Ui,let:tc,literal:Oc,match:lo,number:Jn,"number-format":qi,object:Jn,slice:pt,step:Un,string:Jn,"to-boolean":bl,"to-color":bl,"to-number":bl,"to-string":bl,var:ds,within:Yt};function dn(n,[t,r,c,u]){t=t.evaluate(n),r=r.evaluate(n),c=c.evaluate(n);const g=u?u.evaluate(n):1,v=eu(t,r,c,g);if(v)throw new As(v);return new Nr(t/255*g,r/255*g,c/255*g,g)}function Vn(n,t){return n in t}function us(n,t){const r=t[n];return r===void 0?null:r}function jr(n){return{type:n}}$a.register(Dn,{error:[{kind:"error"},[bn],(n,[t])=>{throw new As(t.evaluate(n))}],typeof:[bn,[Sn],(n,[t])=>Bn(ss(t.evaluate(n)))],"to-rgba":[Cs(Ci,4),[Bo],(n,[t])=>t.evaluate(n).toArray()],rgb:[Bo,[Ci,Ci,Ci],dn],rgba:[Bo,[Ci,Ci,Ci,Ci],dn],has:{type:kn,overloads:[[[bn],(n,[t])=>Vn(t.evaluate(n),n.properties())],[[bn,Eo],(n,[t,r])=>Vn(t.evaluate(n),r.evaluate(n))]]},get:{type:Sn,overloads:[[[bn],(n,[t])=>us(t.evaluate(n),n.properties())],[[bn,Eo],(n,[t,r])=>us(t.evaluate(n),r.evaluate(n))]]},"feature-state":[Sn,[bn],(n,[t])=>us(t.evaluate(n),n.featureState||{})],properties:[Eo,[],n=>n.properties()],"geometry-type":[bn,[],n=>n.geometryType()],id:[Sn,[],n=>n.id()],zoom:[Ci,[],n=>n.globals.zoom],pitch:[Ci,[],n=>n.globals.pitch||0],"distance-from-center":[Ci,[],n=>n.distanceFromCenter()],"heatmap-density":[Ci,[],n=>n.globals.heatmapDensity||0],"line-progress":[Ci,[],n=>n.globals.lineProgress||0],"sky-radial-progress":[Ci,[],n=>n.globals.skyRadialProgress||0],accumulated:[Sn,[],n=>n.globals.accumulated===void 0?null:n.globals.accumulated],"+":[Ci,jr(Ci),(n,t)=>{let r=0;for(const c of t)r+=c.evaluate(n);return r}],"*":[Ci,jr(Ci),(n,t)=>{let r=1;for(const c of t)r*=c.evaluate(n);return r}],"-":{type:Ci,overloads:[[[Ci,Ci],(n,[t,r])=>t.evaluate(n)-r.evaluate(n)],[[Ci],(n,[t])=>-t.evaluate(n)]]},"/":[Ci,[Ci,Ci],(n,[t,r])=>t.evaluate(n)/r.evaluate(n)],"%":[Ci,[Ci,Ci],(n,[t,r])=>t.evaluate(n)%r.evaluate(n)],ln2:[Ci,[],()=>Math.LN2],pi:[Ci,[],()=>Math.PI],e:[Ci,[],()=>Math.E],"^":[Ci,[Ci,Ci],(n,[t,r])=>Math.pow(t.evaluate(n),r.evaluate(n))],sqrt:[Ci,[Ci],(n,[t])=>Math.sqrt(t.evaluate(n))],log10:[Ci,[Ci],(n,[t])=>Math.log(t.evaluate(n))/Math.LN10],ln:[Ci,[Ci],(n,[t])=>Math.log(t.evaluate(n))],log2:[Ci,[Ci],(n,[t])=>Math.log(t.evaluate(n))/Math.LN2],sin:[Ci,[Ci],(n,[t])=>Math.sin(t.evaluate(n))],cos:[Ci,[Ci],(n,[t])=>Math.cos(t.evaluate(n))],tan:[Ci,[Ci],(n,[t])=>Math.tan(t.evaluate(n))],asin:[Ci,[Ci],(n,[t])=>Math.asin(t.evaluate(n))],acos:[Ci,[Ci],(n,[t])=>Math.acos(t.evaluate(n))],atan:[Ci,[Ci],(n,[t])=>Math.atan(t.evaluate(n))],min:[Ci,jr(Ci),(n,t)=>Math.min(...t.map(r=>r.evaluate(n)))],max:[Ci,jr(Ci),(n,t)=>Math.max(...t.map(r=>r.evaluate(n)))],abs:[Ci,[Ci],(n,[t])=>Math.abs(t.evaluate(n))],round:[Ci,[Ci],(n,[t])=>{const r=t.evaluate(n);return r<0?-Math.round(-r):Math.round(r)}],floor:[Ci,[Ci],(n,[t])=>Math.floor(t.evaluate(n))],ceil:[Ci,[Ci],(n,[t])=>Math.ceil(t.evaluate(n))],"filter-==":[kn,[bn,Sn],(n,[t,r])=>n.properties()[t.value]===r.value],"filter-id-==":[kn,[Sn],(n,[t])=>n.id()===t.value],"filter-type-==":[kn,[bn],(n,[t])=>n.geometryType()===t.value],"filter-<":[kn,[bn,Sn],(n,[t,r])=>{const c=n.properties()[t.value],u=r.value;return typeof c==typeof u&&c<u}],"filter-id-<":[kn,[Sn],(n,[t])=>{const r=n.id(),c=t.value;return typeof r==typeof c&&r<c}],"filter->":[kn,[bn,Sn],(n,[t,r])=>{const c=n.properties()[t.value],u=r.value;return typeof c==typeof u&&c>u}],"filter-id->":[kn,[Sn],(n,[t])=>{const r=n.id(),c=t.value;return typeof r==typeof c&&r>c}],"filter-<=":[kn,[bn,Sn],(n,[t,r])=>{const c=n.properties()[t.value],u=r.value;return typeof c==typeof u&&c<=u}],"filter-id-<=":[kn,[Sn],(n,[t])=>{const r=n.id(),c=t.value;return typeof r==typeof c&&r<=c}],"filter->=":[kn,[bn,Sn],(n,[t,r])=>{const c=n.properties()[t.value],u=r.value;return typeof c==typeof u&&c>=u}],"filter-id->=":[kn,[Sn],(n,[t])=>{const r=n.id(),c=t.value;return typeof r==typeof c&&r>=c}],"filter-has":[kn,[Sn],(n,[t])=>t.value in n.properties()],"filter-has-id":[kn,[],n=>n.id()!==null&&n.id()!==void 0],"filter-type-in":[kn,[Cs(bn)],(n,[t])=>t.value.indexOf(n.geometryType())>=0],"filter-id-in":[kn,[Cs(Sn)],(n,[t])=>t.value.indexOf(n.id())>=0],"filter-in-small":[kn,[bn,Cs(Sn)],(n,[t,r])=>r.value.indexOf(n.properties()[t.value])>=0],"filter-in-large":[kn,[bn,Cs(Sn)],(n,[t,r])=>function(c,u,g,v){for(;g<=v;){const T=g+v>>1;if(u[T]===c)return!0;u[T]>c?v=T-1:g=T+1}return!1}(n.properties()[t.value],r.value,0,r.value.length-1)],all:{type:kn,overloads:[[[kn,kn],(n,[t,r])=>t.evaluate(n)&&r.evaluate(n)],[jr(kn),(n,t)=>{for(const r of t)if(!r.evaluate(n))return!1;return!0}]]},any:{type:kn,overloads:[[[kn,kn],(n,[t,r])=>t.evaluate(n)||r.evaluate(n)],[jr(kn),(n,t)=>{for(const r of t)if(r.evaluate(n))return!0;return!1}]]},"!":[kn,[kn],(n,[t])=>!t.evaluate(n)],"is-supported-script":[kn,[bn],(n,[t])=>{const r=n.globals&&n.globals.isSupportedScript;return!r||r(t.evaluate(n))}],upcase:[bn,[bn],(n,[t])=>t.evaluate(n).toUpperCase()],downcase:[bn,[bn],(n,[t])=>t.evaluate(n).toLowerCase()],concat:[bn,jr(Sn),(n,t)=>t.map(r=>xl(r.evaluate(n))).join("")],"resolved-locale":[bn,[Va],(n,[t])=>t.evaluate(n).resolvedLocale()]});var Hr=Dn;function Ps(n){return{result:"success",value:n}}function Qs(n){return{result:"error",value:n}}function mn(n){return n["property-type"]==="data-driven"}function Sl(n){return!!n.expression&&n.expression.parameters.indexOf("zoom")>-1}function od(n){return!!n.expression&&n.expression.interpolated}function On(n){return n instanceof Number?"number":n instanceof String?"string":n instanceof Boolean?"boolean":Array.isArray(n)?"array":n===null?"null":typeof n}function tu(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}function bm(n){return n}function rp(n,t){const r=t.type==="color",c=n.stops&&typeof n.stops[0][0]=="object",u=c||!(c||n.property!==void 0),g=n.type||(od(t)?"exponential":"interval");if(r&&((n=So({},n)).stops&&(n.stops=n.stops.map(D=>[D[0],Nr.parse(D[1])])),n.default=Nr.parse(n.default?n.default:t.default)),n.colorSpace&&n.colorSpace!=="rgb"&&!Tl[n.colorSpace])throw new Error(`Unknown color space: ${n.colorSpace}`);let v,T,k;if(g==="exponential")v=ld;else if(g==="interval")v=ad;else if(g==="categorical"){v=Ya,T=Object.create(null);for(const D of n.stops)T[D[0]]=D[1];k=typeof n.stops[0][0]}else{if(g!=="identity")throw new Error(`Unknown function type "${g}"`);v=cd}if(c){const D={},te=[];for(let Se=0;Se<n.stops.length;Se++){const Ae=n.stops[Se],ze=Ae[0].zoom;D[ze]===void 0&&(D[ze]={zoom:ze,type:n.type,property:n.property,default:n.default,stops:[]},te.push(ze)),D[ze].stops.push([Ae[0].value,Ae[1]])}const he=[];for(const Se of te)he.push([D[Se].zoom,rp(D[Se],t)]);const ge={name:"linear"};return{kind:"composite",interpolationType:ge,interpolationFactor:Wo.interpolationFactor.bind(void 0,ge),zoomStops:he.map(Se=>Se[0]),evaluate:({zoom:Se},Ae)=>ld({stops:he,base:n.base},t,Se).evaluate(Se,Ae)}}if(u){const D=g==="exponential"?{name:"exponential",base:n.base!==void 0?n.base:1}:null;return{kind:"camera",interpolationType:D,interpolationFactor:Wo.interpolationFactor.bind(void 0,D),zoomStops:n.stops.map(te=>te[0]),evaluate:({zoom:te})=>v(n,t,te,T,k)}}return{kind:"source",evaluate(D,te){const he=te&&te.properties?te.properties[n.property]:void 0;return he===void 0?ic(n.default,t.default):v(n,t,he,T,k)}}}function ic(n,t,r){return n!==void 0?n:t!==void 0?t:r!==void 0?r:void 0}function Ya(n,t,r,c,u){return ic(typeof r===u?c[r]:void 0,n.default,t.default)}function ad(n,t,r){if(On(r)!=="number")return ic(n.default,t.default);const c=n.stops.length;if(c===1||r<=n.stops[0][0])return n.stops[0][1];if(r>=n.stops[c-1][0])return n.stops[c-1][1];const u=Pn(n.stops.map(g=>g[0]),r);return n.stops[u][1]}function ld(n,t,r){const c=n.base!==void 0?n.base:1;if(On(r)!=="number")return ic(n.default,t.default);const u=n.stops.length;if(u===1||r<=n.stops[0][0])return n.stops[0][1];if(r>=n.stops[u-1][0])return n.stops[u-1][1];const g=Pn(n.stops.map(te=>te[0]),r),v=function(te,he,ge,Se){const Ae=Se-ge,ze=te-ge;return Ae===0?0:he===1?ze/Ae:(Math.pow(he,ze)-1)/(Math.pow(he,Ae)-1)}(r,c,n.stops[g][0],n.stops[g+1][0]),T=n.stops[g][1],k=n.stops[g+1][1];let D=Ta[t.type]||bm;if(n.colorSpace&&n.colorSpace!=="rgb"){const te=Tl[n.colorSpace];D=(he,ge)=>te.reverse(te.interpolate(te.forward(he),te.forward(ge),v))}return typeof T.evaluate=="function"?{evaluate(...te){const he=T.evaluate.apply(void 0,te),ge=k.evaluate.apply(void 0,te);if(he!==void 0&&ge!==void 0)return D(he,ge,v)}}:D(T,k,v)}function cd(n,t,r){return t.type==="color"?r=Nr.parse(r):t.type==="formatted"?r=Ds.fromString(r.toString()):t.type==="resolvedImage"?r=js.fromString(r.toString()):On(r)===t.type||t.type==="enum"&&t.values[r]||(r=void 0),ic(r,n.default,t.default)}class hd{constructor(t,r){this.expression=t,this._warningHistory={},this._evaluator=new zc,this._defaultValue=r?function(c){return c.type==="color"&&(tu(c.default)||Array.isArray(c.default))?new Nr(0,0,0,0):c.type==="color"?Nr.parse(c.default)||null:c.default===void 0?null:c.default}(r):null,this._enumValues=r&&r.type==="enum"?r.values:null}evaluateWithoutErrorHandling(t,r,c,u,g,v,T,k){return this._evaluator.globals=t,this._evaluator.feature=r,this._evaluator.featureState=c,this._evaluator.canonical=u||null,this._evaluator.availableImages=g||null,this._evaluator.formattedSection=v,this._evaluator.featureTileCoord=T||null,this._evaluator.featureDistanceData=k||null,this.expression.evaluate(this._evaluator)}evaluate(t,r,c,u,g,v,T,k){this._evaluator.globals=t,this._evaluator.feature=r||null,this._evaluator.featureState=c||null,this._evaluator.canonical=u||null,this._evaluator.availableImages=g||null,this._evaluator.formattedSection=v||null,this._evaluator.featureTileCoord=T||null,this._evaluator.featureDistanceData=k||null;try{const D=this.expression.evaluate(this._evaluator);if(D==null||typeof D=="number"&&D!=D)return this._defaultValue;if(this._enumValues&&!(D in this._enumValues))throw new As(`Expected value to be one of ${Object.keys(this._enumValues).map(te=>JSON.stringify(te)).join(", ")}, but found ${JSON.stringify(D)} instead.`);return D}catch(D){return this._warningHistory[D.message]||(this._warningHistory[D.message]=!0,typeof console<"u"&&console.warn(D.message)),this._defaultValue}}}function Uc(n){return Array.isArray(n)&&n.length>0&&typeof n[0]=="string"&&n[0]in Hr}function El(n,t){const r=new Mo(Hr,[],t?function(u){const g={color:Bo,string:bn,number:Ci,enum:bn,boolean:kn,formatted:Ga,resolvedImage:yl};return u.type==="array"?Cs(g[u.value]||Sn,u.length):g[u.type]}(t):void 0),c=r.parse(n,void 0,void 0,void 0,t&&t.type==="string"?{typeAnnotation:"coerce"}:void 0);return c?Ps(new hd(c,t)):Qs(r.errors)}class dd{constructor(t,r){this.kind=t,this._styleExpression=r,this.isStateDependent=t!=="constant"&&!ji(r.expression)}evaluateWithoutErrorHandling(t,r,c,u,g,v){return this._styleExpression.evaluateWithoutErrorHandling(t,r,c,u,g,v)}evaluate(t,r,c,u,g,v){return this._styleExpression.evaluate(t,r,c,u,g,v)}}class Aa{constructor(t,r,c,u){this.kind=t,this.zoomStops=c,this._styleExpression=r,this.isStateDependent=t!=="camera"&&!ji(r.expression),this.interpolationType=u}evaluateWithoutErrorHandling(t,r,c,u,g,v){return this._styleExpression.evaluateWithoutErrorHandling(t,r,c,u,g,v)}evaluate(t,r,c,u,g,v){return this._styleExpression.evaluate(t,r,c,u,g,v)}interpolationFactor(t,r,c){return this.interpolationType?Wo.interpolationFactor(this.interpolationType,t,r,c):0}}function qo(n,t){if((n=El(n,t)).result==="error")return n;const r=n.value.expression,c=Mi(r);if(!c&&!mn(t))return Qs([new zo("","data expressions not supported")]);const u=Cn(r,["zoom","pitch","distance-from-center"]);if(!u&&!Sl(t))return Qs([new zo("","zoom expressions not supported")]);const g=ud(r);return g||u?g instanceof zo?Qs([g]):g instanceof Wo&&!od(t)?Qs([new zo("",'"interpolate" expressions cannot be used with this property')]):Ps(g?new Aa(c?"camera":"composite",n.value,g.labels,g instanceof Wo?g.interpolation:void 0):new dd(c?"constant":"source",n.value)):Qs([new zo("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class nc{constructor(t,r){this._parameters=t,this._specification=r,So(this,rp(this._parameters,this._specification))}static deserialize(t){return new nc(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}}function ud(n){let t=null;if(n instanceof tc)t=ud(n.result);else if(n instanceof yh){for(const r of n.args)if(t=ud(r),t)break}else(n instanceof Un||n instanceof Wo)&&n.input instanceof $a&&n.input.name==="zoom"&&(t=n);return t instanceof zo||n.eachChild(r=>{const c=ud(r);c instanceof zo?t=c:!t&&c?t=new zo("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&c&&t!==c&&(t=new zo("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t}class Oi{constructor(t,r,c,u){this.message=(t?`${t}: `:"")+c,u&&(this.identifier=u),r!=null&&r.__line__&&(this.line=r.__line__)}}function ia(n){const t=n.key,r=n.value,c=n.valueSpec||{},u=n.objectElementValidators||{},g=n.style,v=n.styleSpec;let T=[];const k=On(r);if(k!=="object")return[new Oi(t,r,`object expected, ${k} found`)];for(const D in r){const te=D.split(".")[0],he=c[te]||c["*"];let ge;u[te]?ge=u[te]:c[te]?ge=pn:u["*"]?ge=u["*"]:c["*"]&&(ge=pn),ge?T=T.concat(ge({key:(t&&`${t}.`)+D,value:r[D],valueSpec:he,style:g,styleSpec:v,object:r,objectKey:D},r)):T.push(new Oi(t,r[D],`unknown property "${D}"`))}for(const D in c)u[D]||c[D].required&&c[D].default===void 0&&r[D]===void 0&&T.push(new Oi(t,r,`missing required property "${D}"`));return T}function pd(n){const t=n.value,r=n.valueSpec,c=n.style,u=n.styleSpec,g=n.key,v=n.arrayElementValidator||pn;if(On(t)!=="array")return[new Oi(g,t,`array expected, ${On(t)} found`)];if(r.length&&t.length!==r.length)return[new Oi(g,t,`array length ${r.length} expected, length ${t.length} found`)];if(r["min-length"]&&t.length<r["min-length"])return[new Oi(g,t,`array length at least ${r["min-length"]} expected, length ${t.length} found`)];let T={type:r.value,values:r.values,minimum:r.minimum,maximum:r.maximum,function:void 0};u.$version<7&&(T.function=r.function),On(r.value)==="object"&&(T=r.value);let k=[];for(let D=0;D<t.length;D++)k=k.concat(v({array:t,arrayIndex:D,value:t[D],valueSpec:T,style:c,styleSpec:u,key:`${g}[${D}]`}));return k}function bh(n){const t=n.key,r=n.value,c=n.valueSpec;let u=On(r);if(u==="number"&&r!=r&&(u="NaN"),u!=="number")return[new Oi(t,r,`number expected, ${u} found`)];if("minimum"in c){let g=c.minimum;if(On(c.minimum)==="array"&&(g=c.minimum[n.arrayIndex]),r<g)return[new Oi(t,r,`${r} is less than the minimum value ${g}`)]}if("maximum"in c){let g=c.maximum;if(On(c.maximum)==="array"&&(g=c.maximum[n.arrayIndex]),r>g)return[new Oi(t,r,`${r} is greater than the maximum value ${g}`)]}return[]}function Vc(n){const t=n.valueSpec,r=$r(n.value.type);let c,u,g,v={};const T=r!=="categorical"&&n.value.property===void 0,k=!T,D=On(n.value.stops)==="array"&&On(n.value.stops[0])==="array"&&On(n.value.stops[0][0])==="object",te=ia({key:n.key,value:n.value,valueSpec:n.styleSpec.function,style:n.style,styleSpec:n.styleSpec,objectElementValidators:{stops:function(Se){if(r==="identity")return[new Oi(Se.key,Se.value,'identity function may not have a "stops" property')];let Ae=[];const ze=Se.value;return Ae=Ae.concat(pd({key:Se.key,value:ze,valueSpec:Se.valueSpec,style:Se.style,styleSpec:Se.styleSpec,arrayElementValidator:he})),On(ze)==="array"&&ze.length===0&&Ae.push(new Oi(Se.key,ze,"array must have at least one stop")),Ae},default:function(Se){return pn({key:Se.key,value:Se.value,valueSpec:t,style:Se.style,styleSpec:Se.styleSpec})}}});return r==="identity"&&T&&te.push(new Oi(n.key,n.value,'missing required property "property"')),r==="identity"||n.value.stops||te.push(new Oi(n.key,n.value,'missing required property "stops"')),r==="exponential"&&n.valueSpec.expression&&!od(n.valueSpec)&&te.push(new Oi(n.key,n.value,"exponential functions not supported")),n.styleSpec.$version>=8&&(k&&!mn(n.valueSpec)?te.push(new Oi(n.key,n.value,"property functions not supported")):T&&!Sl(n.valueSpec)&&te.push(new Oi(n.key,n.value,"zoom functions not supported"))),r!=="categorical"&&!D||n.value.property!==void 0||te.push(new Oi(n.key,n.value,'"property" property is required')),te;function he(Se){let Ae=[];const ze=Se.value,Xe=Se.key;if(On(ze)!=="array")return[new Oi(Xe,ze,`array expected, ${On(ze)} found`)];if(ze.length!==2)return[new Oi(Xe,ze,`array length 2 expected, length ${ze.length} found`)];if(D){if(On(ze[0])!=="object")return[new Oi(Xe,ze,`object expected, ${On(ze[0])} found`)];if(ze[0].zoom===void 0)return[new Oi(Xe,ze,"object stop key must have zoom")];if(ze[0].value===void 0)return[new Oi(Xe,ze,"object stop key must have value")];const lt=$r(ze[0].zoom);if(typeof lt!="number")return[new Oi(Xe,ze[0].zoom,"stop zoom values must be numbers")];if(g&&g>lt)return[new Oi(Xe,ze[0].zoom,"stop zoom values must appear in ascending order")];lt!==g&&(g=lt,u=void 0,v={}),Ae=Ae.concat(ia({key:`${Xe}[0]`,value:ze[0],valueSpec:{zoom:{}},style:Se.style,styleSpec:Se.styleSpec,objectElementValidators:{zoom:bh,value:ge}}))}else Ae=Ae.concat(ge({key:`${Xe}[0]`,value:ze[0],valueSpec:{},style:Se.style,styleSpec:Se.styleSpec},ze));return Uc(ja(ze[1]))?Ae.concat([new Oi(`${Xe}[1]`,ze[1],"expressions are not allowed in function stops.")]):Ae.concat(pn({key:`${Xe}[1]`,value:ze[1],valueSpec:t,style:Se.style,styleSpec:Se.styleSpec}))}function ge(Se,Ae){const ze=On(Se.value),Xe=$r(Se.value),lt=Se.value!==null?Se.value:Ae;if(c){if(ze!==c)return[new Oi(Se.key,lt,`${ze} stop domain type must match previous stop domain type ${c}`)]}else c=ze;if(ze!=="number"&&ze!=="string"&&ze!=="boolean"&&typeof Xe!="number"&&typeof Xe!="string"&&typeof Xe!="boolean")return[new Oi(Se.key,lt,"stop domain value must be a number, string, or boolean")];if(ze!=="number"&&r!=="categorical"){let _t=`number expected, ${ze} found`;return mn(t)&&r===void 0&&(_t+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Oi(Se.key,lt,_t)]}return r!=="categorical"||ze!=="number"||typeof Xe=="number"&&isFinite(Xe)&&Math.floor(Xe)===Xe?r!=="categorical"&&ze==="number"&&typeof Xe=="number"&&typeof u=="number"&&u!==void 0&&Xe<u?[new Oi(Se.key,lt,"stop domain values must appear in ascending order")]:(u=Xe,r==="categorical"&&Xe in v?[new Oi(Se.key,lt,"stop domain values must be unique")]:(v[Xe]=!0,[])):[new Oi(Se.key,lt,`integer expected, found ${String(Xe)}`)]}}function wh(n){const t=(n.expressionContext==="property"?qo:El)(ja(n.value),n.valueSpec);if(t.result==="error")return t.value.map(c=>new Oi(`${n.key}${c.key}`,n.value,c.message));const r=t.value.expression||t.value._styleExpression.expression;if(n.expressionContext==="property"&&n.propertyKey==="text-font"&&!r.outputDefined())return[new Oi(n.key,n.value,`Invalid data expression for "${n.propertyKey}". Output values must be contained as literals within the expression.`)];if(n.expressionContext==="property"&&n.propertyType==="layout"&&!ji(r))return[new Oi(n.key,n.value,'"feature-state" data expressions are not supported with layout properties.')];if(n.expressionContext==="filter")return sp(r,n);if(n.expressionContext&&n.expressionContext.indexOf("cluster")===0){if(!Cn(r,["zoom","feature-state"]))return[new Oi(n.key,n.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(n.expressionContext==="cluster-initial"&&!Mi(r))return[new Oi(n.key,n.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function sp(n,t){const r=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(t.valueSpec&&t.valueSpec.expression)for(const u of t.valueSpec.expression.parameters)r.delete(u);if(r.size===0)return[];const c=[];return n instanceof $a&&r.has(n.name)?[new Oi(t.key,t.value,`["${n.name}"] expression is not supported in a filter for a ${t.object.type} layer with id: ${t.object.id}`)]:(n.eachChild(u=>{c.push(...sp(u,t))}),c)}function iu(n){const t=n.key,r=n.value,c=n.valueSpec,u=[];return Array.isArray(c.values)?c.values.indexOf($r(r))===-1&&u.push(new Oi(t,r,`expected one of [${c.values.join(", ")}], ${JSON.stringify(r)} found`)):Object.keys(c.values).indexOf($r(r))===-1&&u.push(new Oi(t,r,`expected one of [${Object.keys(c.values).join(", ")}], ${JSON.stringify(r)} found`)),u}function op(n){if(n===!0||n===!1)return!0;if(!Array.isArray(n)||n.length===0)return!1;switch(n[0]){case"has":return n.length>=2&&n[1]!=="$id"&&n[1]!=="$type";case"in":return n.length>=3&&(typeof n[1]!="string"||Array.isArray(n[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return n.length!==3||Array.isArray(n[1])||Array.isArray(n[2]);case"any":case"all":for(const t of n.slice(1))if(!op(t)&&typeof t!="boolean")return!1;return!0;default:return!0}}function as(n,t="fill"){if(n==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};op(n)||(n=rc(n));const r=n;let c=!0;try{c=function(D){if(!Rs(D))return D;let te=ja(D);return fd(te),te=ys(te),te}(r)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(r,null,2)}
        `)}const u=ti[`filter_${t}`],g=El(c,u);let v=null;if(g.result==="error")throw new Error(g.value.map(D=>`${D.key}: ${D.message}`).join(", "));v=(D,te,he)=>g.value.evaluate(D,te,{},he);let T=null,k=null;if(c!==r){const D=El(r,u);if(D.result==="error")throw new Error(D.value.map(te=>`${te.key}: ${te.message}`).join(", "));T=(te,he,ge,Se,Ae)=>D.value.evaluate(te,he,{},ge,void 0,void 0,Se,Ae),k=!Mi(D.value.expression)}return{filter:v,dynamicFilter:T||void 0,needGeometry:nu(c),needFeature:!!k}}function ys(n){if(!Array.isArray(n))return n;const t=function(r){if(md.has(r[0])){for(let c=1;c<r.length;c++)if(Rs(r[c]))return!0}return r}(n);return t===!0?t:t.map(r=>ys(r))}function fd(n){let t=!1;const r=[];if(n[0]==="case"){for(let c=1;c<n.length-1;c+=2)t=t||Rs(n[c]),r.push(n[c+1]);r.push(n[n.length-1])}else if(n[0]==="match"){t=t||Rs(n[1]);for(let c=2;c<n.length-1;c+=2)r.push(n[c+1]);r.push(n[n.length-1])}else if(n[0]==="step"){t=t||Rs(n[1]);for(let c=1;c<n.length-1;c+=2)r.push(n[c+1])}t&&(n.length=0,n.push("any",...r));for(let c=1;c<n.length;c++)fd(n[c])}function Rs(n){if(!Array.isArray(n))return!1;if((t=n[0])==="pitch"||t==="distance-from-center")return!0;var t;for(let r=1;r<n.length;r++)if(Rs(n[r]))return!0;return!1}const md=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function wm(n,t){return n<t?-1:n>t?1:0}function nu(n){if(!Array.isArray(n))return!1;if(n[0]==="within")return!0;for(let t=1;t<n.length;t++)if(nu(n[t]))return!0;return!1}function rc(n){if(!n)return!0;const t=n[0];return n.length<=1?t!=="any":t==="=="?gd(n[1],n[2],"=="):t==="!="?Za(gd(n[1],n[2],"==")):t==="<"||t===">"||t==="<="||t===">="?gd(n[1],n[2],t):t==="any"?(r=n.slice(1),["any"].concat(r.map(rc))):t==="all"?["all"].concat(n.slice(1).map(rc)):t==="none"?["all"].concat(n.slice(1).map(rc).map(Za)):t==="in"?Cl(n[1],n.slice(2)):t==="!in"?Za(Cl(n[1],n.slice(2))):t==="has"?Th(n[1]):t==="!has"?Za(Th(n[1])):t!=="within"||n;var r}function gd(n,t,r){switch(n){case"$type":return[`filter-type-${r}`,t];case"$id":return[`filter-id-${r}`,t];default:return[`filter-${r}`,n,t]}}function Cl(n,t){if(t.length===0)return!1;switch(n){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(r=>typeof r!=typeof t[0])?["filter-in-large",n,["literal",t.sort(wm)]]:["filter-in-small",n,["literal",t]]}}function Th(n){switch(n){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",n]}}function Za(n){return["!",n]}function Sh(n){return op(ja(n.value))?wh(So({},n,{expressionContext:"filter",valueSpec:n.styleSpec[`filter_${n.layerType||"fill"}`]})):Gc(n)}function Gc(n){const t=n.value,r=n.key;if(On(t)!=="array")return[new Oi(r,t,`array expected, ${On(t)} found`)];const c=n.styleSpec;let u,g=[];if(t.length<1)return[new Oi(r,t,"filter array must have at least 1 element")];switch(g=g.concat(iu({key:`${r}[0]`,value:t[0],valueSpec:c.filter_operator,style:n.style,styleSpec:n.styleSpec})),$r(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&$r(t[1])==="$type"&&g.push(new Oi(r,t,`"$type" cannot be use with operator "${t[0]}"`));case"==":case"!=":t.length!==3&&g.push(new Oi(r,t,`filter array for operator "${t[0]}" must have 3 elements`));case"in":case"!in":t.length>=2&&(u=On(t[1]),u!=="string"&&g.push(new Oi(`${r}[1]`,t[1],`string expected, ${u} found`)));for(let v=2;v<t.length;v++)u=On(t[v]),$r(t[1])==="$type"?g=g.concat(iu({key:`${r}[${v}]`,value:t[v],valueSpec:c.geometry_type,style:n.style,styleSpec:n.styleSpec})):u!=="string"&&u!=="number"&&u!=="boolean"&&g.push(new Oi(`${r}[${v}]`,t[v],`string, number, or boolean expected, ${u} found`));break;case"any":case"all":case"none":for(let v=1;v<t.length;v++)g=g.concat(Gc({key:`${r}[${v}]`,value:t[v],style:n.style,styleSpec:n.styleSpec}));break;case"has":case"!has":u=On(t[1]),t.length!==2?g.push(new Oi(r,t,`filter array for "${t[0]}" operator must have 2 elements`)):u!=="string"&&g.push(new Oi(`${r}[1]`,t[1],`string expected, ${u} found`));break;case"within":u=On(t[1]),t.length!==2?g.push(new Oi(r,t,`filter array for "${t[0]}" operator must have 2 elements`)):u!=="object"&&g.push(new Oi(`${r}[1]`,t[1],`object expected, ${u} found`))}return g}function ru(n,t){const r=n.key,c=n.style,u=n.styleSpec,g=n.value,v=n.objectKey,T=u[`${t}_${n.layerType}`];if(!T)return[];const k=v.match(/^(.*)-transition$/);if(t==="paint"&&k&&T[k[1]]&&T[k[1]].transition)return pn({key:r,value:g,valueSpec:u.transition,style:c,styleSpec:u});const D=n.valueSpec||T[v];if(!D)return[new Oi(r,g,`unknown property "${v}"`)];let te;if(On(g)==="string"&&mn(D)&&!D.tokens&&(te=/^{([^}]+)}$/.exec(g))){const ge=`\`{ "type": "identity", "property": ${te?JSON.stringify(te[1]):'"_"'} }\``;return[new Oi(r,g,`"${v}" does not support interpolation syntax
Use an identity property function instead: ${ge}.`)]}const he=[];return n.layerType==="symbol"&&(v==="text-field"&&c&&!c.glyphs&&he.push(new Oi(r,g,'use of "text-field" requires a style "glyphs" property')),v==="text-font"&&tu(ja(g))&&$r(g.type)==="identity"&&he.push(new Oi(r,g,'"text-font" does not support identity functions'))),he.concat(pn({key:n.key,value:g,valueSpec:D,style:c,styleSpec:u,expressionContext:"property",propertyType:t,propertyKey:v}))}function Tf(n){return ru(n,"paint")}function ap(n){return ru(n,"layout")}function lp(n){let t=[];const r=n.value,c=n.key,u=n.style,g=n.styleSpec;r.type||r.ref||t.push(new Oi(c,r,'either "type" or "ref" is required'));let v=$r(r.type);const T=$r(r.ref);if(r.id){const k=$r(r.id);for(let D=0;D<n.arrayIndex;D++){const te=u.layers[D];$r(te.id)===k&&t.push(new Oi(c,r.id,`duplicate layer id "${r.id}", previously used at line ${te.id.__line__}`))}}if("ref"in r){let k;["type","source","source-layer","filter","layout"].forEach(D=>{D in r&&t.push(new Oi(c,r[D],`"${D}" is prohibited for ref layers`))}),u.layers.forEach(D=>{$r(D.id)===T&&(k=D)}),k?k.ref?t.push(new Oi(c,r.ref,"ref cannot reference another ref layer")):v=$r(k.type):typeof T=="string"&&t.push(new Oi(c,r.ref,`ref layer "${T}" not found`))}else if(v!=="background"&&v!=="sky")if(r.source){const k=u.sources&&u.sources[r.source],D=k&&$r(k.type);k?D==="vector"&&v==="raster"?t.push(new Oi(c,r.source,`layer "${r.id}" requires a raster source`)):D==="raster"&&v!=="raster"?t.push(new Oi(c,r.source,`layer "${r.id}" requires a vector source`)):D!=="vector"||r["source-layer"]?D==="raster-dem"&&v!=="hillshade"?t.push(new Oi(c,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):v!=="line"||!r.paint||!r.paint["line-gradient"]&&!r.paint["line-trim-offset"]||D==="geojson"&&k.lineMetrics||t.push(new Oi(c,r,`layer "${r.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new Oi(c,r,`layer "${r.id}" must specify a "source-layer"`)):t.push(new Oi(c,r.source,`source "${r.source}" not found`))}else t.push(new Oi(c,r,'missing required property "source"'));return t=t.concat(ia({key:c,value:r,valueSpec:g.layer,style:n.style,styleSpec:n.styleSpec,objectElementValidators:{"*":()=>[],type:()=>pn({key:`${c}.type`,value:r.type,valueSpec:g.layer.type,style:n.style,styleSpec:n.styleSpec,object:r,objectKey:"type"}),filter:k=>Sh(So({layerType:v},k)),layout:k=>ia({layer:r,key:k.key,value:k.value,valueSpec:{},style:k.style,styleSpec:k.styleSpec,objectElementValidators:{"*":D=>ap(So({layerType:v},D))}}),paint:k=>ia({layer:r,key:k.key,value:k.value,valueSpec:{},style:k.style,styleSpec:k.styleSpec,objectElementValidators:{"*":D=>Tf(So({layerType:v},D))}})}})),t}function Eh(n){const t=n.value,r=n.key,c=On(t);return c!=="string"?[new Oi(r,t,`string expected, ${c} found`)]:[]}const Wc={promoteId:function({key:n,value:t}){if(On(t)==="string")return Eh({key:n,value:t});{const r=[];for(const c in t)r.push(...Eh({key:`${n}.${c}`,value:t[c]}));return r}}};function Ml(n){const t=n.value,r=n.key,c=n.styleSpec,u=n.style;if(!t.type)return[new Oi(r,t,'"type" is required')];const g=$r(t.type);let v;switch(g){case"vector":case"raster":case"raster-dem":return v=ia({key:r,value:t,valueSpec:c[`source_${g.replace("-","_")}`],style:n.style,styleSpec:c,objectElementValidators:Wc}),v;case"geojson":if(v=ia({key:r,value:t,valueSpec:c.source_geojson,style:u,styleSpec:c,objectElementValidators:Wc}),t.cluster)for(const T in t.clusterProperties){const[k,D]=t.clusterProperties[T],te=typeof k=="string"?[k,["accumulated"],["get",T]]:k;v.push(...wh({key:`${r}.${T}.map`,value:D,expressionContext:"cluster-map"})),v.push(...wh({key:`${r}.${T}.reduce`,value:te,expressionContext:"cluster-reduce"}))}return v;case"video":return ia({key:r,value:t,valueSpec:c.source_video,style:u,styleSpec:c});case"image":return ia({key:r,value:t,valueSpec:c.source_image,style:u,styleSpec:c});case"canvas":return[new Oi(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return iu({key:`${r}.type`,value:t.type,valueSpec:{values:cp(c)},style:u,styleSpec:c})}}function cp(n){return n.source.reduce((t,r)=>{const c=n[r];return c.type.type==="enum"&&(t=t.concat(Object.keys(c.type.values))),t},[])}function Ye(n){const t=n.value,r=n.styleSpec,c=r.light,u=n.style;let g=[];const v=On(t);if(t===void 0)return g;if(v!=="object")return g=g.concat([new Oi("light",t,`object expected, ${v} found`)]),g;for(const T in t){const k=T.match(/^(.*)-transition$/);g=g.concat(k&&c[k[1]]&&c[k[1]].transition?pn({key:T,value:t[T],valueSpec:r.transition,style:u,styleSpec:r}):c[T]?pn({key:T,value:t[T],valueSpec:c[T],style:u,styleSpec:r}):[new Oi(T,t[T],`unknown property "${T}"`)])}return g}function sc(n){const t=n.value,r=n.key,c=n.style,u=n.styleSpec,g=u.terrain;let v=[];const T=On(t);if(t===void 0)return v;if(T!=="object")return v=v.concat([new Oi("terrain",t,`object expected, ${T} found`)]),v;for(const k in t){const D=k.match(/^(.*)-transition$/);v=v.concat(D&&g[D[1]]&&g[D[1]].transition?pn({key:k,value:t[k],valueSpec:u.transition,style:c,styleSpec:u}):g[k]?pn({key:k,value:t[k],valueSpec:g[k],style:c,styleSpec:u}):[new Oi(k,t[k],`unknown property "${k}"`)])}if(t.source){const k=c.sources&&c.sources[t.source],D=k&&$r(k.type);k?D!=="raster-dem"&&v.push(new Oi(r,t.source,`terrain cannot be used with a source of type ${String(D)}, it only be used with a "raster-dem" source type`)):v.push(new Oi(r,t.source,`source "${t.source}" not found`))}else v.push(new Oi(r,t,'terrain is missing required property "source"'));return v}function _d(n){const t=n.value,r=n.style,c=n.styleSpec,u=c.fog;let g=[];const v=On(t);if(t===void 0)return g;if(v!=="object")return g=g.concat([new Oi("fog",t,`object expected, ${v} found`)]),g;for(const T in t){const k=T.match(/^(.*)-transition$/);g=g.concat(k&&u[k[1]]&&u[k[1]].transition?pn({key:T,value:t[T],valueSpec:c.transition,style:r,styleSpec:c}):u[T]?pn({key:T,value:t[T],valueSpec:u[T],style:r,styleSpec:c}):[new Oi(T,t[T],`unknown property "${T}"`)])}return g}const co={"*":()=>[],array:pd,boolean:function(n){const t=n.value,r=n.key,c=On(t);return c!=="boolean"?[new Oi(r,t,`boolean expected, ${c} found`)]:[]},number:bh,color:function(n){const t=n.key,r=n.value,c=On(r);return c!=="string"?[new Oi(t,r,`color expected, ${c} found`)]:ea(r)===null?[new Oi(t,r,`color expected, "${r}" found`)]:[]},enum:iu,filter:Sh,function:Vc,layer:lp,object:ia,source:Ml,light:Ye,terrain:sc,fog:_d,string:Eh,formatted:function(n){return Eh(n).length===0?[]:wh(n)},resolvedImage:function(n){return Eh(n).length===0?[]:wh(n)},projection:function(n){const t=n.value,r=n.styleSpec,c=r.projection,u=n.style;let g=[];const v=On(t);if(v==="object")for(const T in t)g=g.concat(pn({key:T,value:t[T],valueSpec:c[T],style:u,styleSpec:r}));else v!=="string"&&(g=g.concat([new Oi("projection",t,`object or string expected, ${v} found`)]));return g}};function pn(n){const t=n.value,r=n.valueSpec,c=n.styleSpec;return r.expression&&tu($r(t))?Vc(n):r.expression&&Uc(ja(t))?wh(n):r.type&&co[r.type]?co[r.type](n):ia(So({},n,{valueSpec:r.type?c[r.type]:r}))}function Tm(n){const t=n.value,r=n.key,c=Eh(n);return c.length||(t.indexOf("{fontstack}")===-1&&c.push(new Oi(r,t,'"glyphs" url must include a "{fontstack}" token')),t.indexOf("{range}")===-1&&c.push(new Oi(r,t,'"glyphs" url must include a "{range}" token'))),c}function Sf(n,t=ti){return Al(pn({key:"",value:n,valueSpec:t.$root,styleSpec:t,style:n,objectElementValidators:{glyphs:Tm,"*":()=>[]}}))}const Sm=n=>Al(Tf(n)),oc=n=>Al(ap(n));function Al(n){return n.slice().sort((t,r)=>t.line&&r.line?t.line-r.line:0)}function Ef(n,t){let r=!1;if(t&&t.length)for(const c of t)n.fire(new wa(new Error(c.message))),r=!0;return r}var Ch=Ka;function Ka(n,t,r){var c=this.cells=[];if(n instanceof ArrayBuffer){this.arrayBuffer=n;var u=new Int32Array(this.arrayBuffer);n=u[0],this.d=(t=u[1])+2*(r=u[2]);for(var g=0;g<this.d*this.d;g++){var v=u[3+g],T=u[3+g+1];c.push(v===T?null:u.subarray(v,T))}var k=u[3+c.length+1];this.keys=u.subarray(u[3+c.length],k),this.bboxes=u.subarray(k),this.insert=this._insertReadonly}else{this.d=t+2*r;for(var D=0;D<this.d*this.d;D++)c.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=n,this.padding=r,this.scale=t/n,this.uid=0;var te=r/t*n;this.min=-te,this.max=n+te}Ka.prototype.insert=function(n,t,r,c,u){this._forEachCell(t,r,c,u,this._insertCell,this.uid++),this.keys.push(n),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(c),this.bboxes.push(u)},Ka.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Ka.prototype._insertCell=function(n,t,r,c,u,g){this.cells[u].push(g)},Ka.prototype.query=function(n,t,r,c,u){var g=this.min,v=this.max;if(n<=g&&t<=g&&v<=r&&v<=c&&!u)return Array.prototype.slice.call(this.keys);var T=[];return this._forEachCell(n,t,r,c,this._queryCell,T,{},u),T},Ka.prototype._queryCell=function(n,t,r,c,u,g,v,T){var k=this.cells[u];if(k!==null)for(var D=this.keys,te=this.bboxes,he=0;he<k.length;he++){var ge=k[he];if(v[ge]===void 0){var Se=4*ge;(T?T(te[Se+0],te[Se+1],te[Se+2],te[Se+3]):n<=te[Se+2]&&t<=te[Se+3]&&r>=te[Se+0]&&c>=te[Se+1])?(v[ge]=!0,g.push(D[ge])):v[ge]=!1}}},Ka.prototype._forEachCell=function(n,t,r,c,u,g,v,T){for(var k=this._convertToCellCoord(n),D=this._convertToCellCoord(t),te=this._convertToCellCoord(r),he=this._convertToCellCoord(c),ge=k;ge<=te;ge++)for(var Se=D;Se<=he;Se++){var Ae=this.d*Se+ge;if((!T||T(this._convertFromCellCoord(ge),this._convertFromCellCoord(Se),this._convertFromCellCoord(ge+1),this._convertFromCellCoord(Se+1)))&&u.call(this,n,t,r,c,Ae,g,v,T))return}},Ka.prototype._convertFromCellCoord=function(n){return(n-this.padding)/this.scale},Ka.prototype._convertToCellCoord=function(n){return Math.max(0,Math.min(this.d-1,Math.floor(n*this.scale)+this.padding))},Ka.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var n=this.cells,t=3+this.cells.length+1+1,r=0,c=0;c<this.cells.length;c++)r+=this.cells[c].length;var u=new Int32Array(t+r+this.keys.length+this.bboxes.length);u[0]=this.extent,u[1]=this.n,u[2]=this.padding;for(var g=t,v=0;v<n.length;v++){var T=n[v];u[3+v]=g,u.set(T,g),g+=T.length}return u[3+n.length]=g,u.set(this.keys,g),u[3+n.length+1]=g+=this.keys.length,u.set(this.bboxes,g),g+=this.bboxes.length,u.buffer};const su={};function Ri(n,t,r={}){Object.defineProperty(n,"_classRegistryKey",{value:t,writeable:!1}),su[t]={klass:n,omit:r.omit||[]}}Ri(Object,"Object"),Ch.serialize=function(n,t){const r=n.toArrayBuffer();return t&&t.push(r),{buffer:r}},Ch.deserialize=function(n){return new Ch(n.buffer)},Object.defineProperty(Ch,"name",{value:"Grid"}),Ri(Ch,"Grid"),Ri(Nr,"Color"),Ri(Error,"Error"),Ri(bi,"AJAXError"),Ri(js,"ResolvedImage"),Ri(nc,"StylePropertyFunction"),Ri(hd,"StyleExpression",{omit:["_evaluator"]}),Ri(Aa,"ZoomDependentExpression"),Ri(dd,"ZoomConstantExpression"),Ri($a,"CompoundExpression",{omit:["_evaluate"]});for(const n in Hr)su[Hr[n]._classRegistryKey]||Ri(Hr[n],`Expression${n}`);function Cf(n){return n&&typeof ArrayBuffer<"u"&&(n instanceof ArrayBuffer||n.constructor&&n.constructor.name==="ArrayBuffer")}function yd(n){return b.ImageBitmap&&n instanceof b.ImageBitmap}function vd(n,t){if(n==null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||n instanceof Boolean||n instanceof Number||n instanceof String||n instanceof Date||n instanceof RegExp)return n;if(Cf(n)||yd(n))return t&&t.push(n),n;if(ArrayBuffer.isView(n)){const r=n;return t&&t.push(r.buffer),r}if(n instanceof b.ImageData)return t&&t.push(n.data.buffer),n;if(Array.isArray(n)){const r=[];for(const c of n)r.push(vd(c,t));return r}if(typeof n=="object"){const r=n.constructor,c=r._classRegistryKey;if(!c)throw new Error(`can't serialize object of unregistered class ${c}`);const u=r.serialize?r.serialize(n,t):{};if(!r.serialize){for(const g in n)n.hasOwnProperty(g)&&(su[c].omit.indexOf(g)>=0||(u[g]=vd(n[g],t)));n instanceof Error&&(u.message=n.message)}if(u.$name)throw new Error("$name property is reserved for worker serialization logic.");return c!=="Object"&&(u.$name=c),u}throw new Error("can't serialize object of type "+typeof n)}function xd(n){if(n==null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||n instanceof Boolean||n instanceof Number||n instanceof String||n instanceof Date||n instanceof RegExp||Cf(n)||yd(n)||ArrayBuffer.isView(n)||n instanceof b.ImageData)return n;if(Array.isArray(n))return n.map(xd);if(typeof n=="object"){const t=n.$name||"Object",{klass:r}=su[t];if(!r)throw new Error(`can't deserialize unregistered class ${t}`);if(r.deserialize)return r.deserialize(n);const c=Object.create(r.prototype);for(const u of Object.keys(n))u!=="$name"&&(c[u]=xd(n[u]));return c}throw new Error("can't deserialize object of type "+typeof n)}const bd=n=>n>=1536&&n<=1791,Ja=n=>n>=1872&&n<=1919,hp=n=>n>=2208&&n<=2303,Mf=n=>n>=11904&&n<=12031,dp=n=>n>=12032&&n<=12255,up=n=>n>=12272&&n<=12287,wd=n=>n>=12288&&n<=12351,Qa=n=>n>=12352&&n<=12447,Mh=n=>n>=12448&&n<=12543,ou=n=>n>=12544&&n<=12591,na=n=>n>=12704&&n<=12735,Af=n=>n>=12736&&n<=12783,pp=n=>n>=12784&&n<=12799,kf=n=>n>=12800&&n<=13055,Pf=n=>n>=13056&&n<=13311,If=n=>n>=13312&&n<=19903,au=n=>n>=19968&&n<=40959,fp=n=>n>=40960&&n<=42127,Lf=n=>n>=42128&&n<=42191,Df=n=>n>=44032&&n<=55215,lu=n=>n>=63744&&n<=64255,ac=n=>n>=64336&&n<=65023,lc=n=>n>=65040&&n<=65055,m=n=>n>=65072&&n<=65103,o=n=>n>=65104&&n<=65135,d=n=>n>=65136&&n<=65279,_=n=>n>=65280&&n<=65519;function w(n){for(const t of n)if(H(t.charCodeAt(0)))return!0;return!1}function E(n){for(const t of n)if(!N(t.charCodeAt(0)))return!1;return!0}function N(n){return!(bd(n)||Ja(n)||hp(n)||ac(n)||d(n))}function H(n){return!(n!==746&&n!==747&&(n<4352||!(na(n)||ou(n)||m(n)&&!(n>=65097&&n<=65103)||lu(n)||Pf(n)||Mf(n)||Af(n)||!(!wd(n)||n>=12296&&n<=12305||n>=12308&&n<=12319||n===12336)||If(n)||au(n)||kf(n)||(t=>t>=12592&&t<=12687)(n)||(t=>t>=43360&&t<=43391)(n)||(t=>t>=55216&&t<=55295)(n)||(t=>t>=4352&&t<=4607)(n)||Df(n)||Qa(n)||up(n)||(t=>t>=12688&&t<=12703)(n)||dp(n)||pp(n)||Mh(n)&&n!==12540||!(!_(n)||n===65288||n===65289||n===65293||n>=65306&&n<=65310||n===65339||n===65341||n===65343||n>=65371&&n<=65503||n===65507||n>=65512&&n<=65519)||!(!o(n)||n>=65112&&n<=65118||n>=65123&&n<=65126)||(t=>t>=5120&&t<=5759)(n)||(t=>t>=6320&&t<=6399)(n)||lc(n)||(t=>t>=19904&&t<=19967)(n)||fp(n)||Lf(n))))}function le(n){return!(H(n)||function(t){return!!((r=>r>=128&&r<=255)(t)&&(t===167||t===169||t===174||t===177||t===188||t===189||t===190||t===215||t===247)||(r=>r>=8192&&r<=8303)(t)&&(t===8214||t===8224||t===8225||t===8240||t===8241||t===8251||t===8252||t===8258||t===8263||t===8264||t===8265||t===8273)||(r=>r>=8448&&r<=8527)(t)||(r=>r>=8528&&r<=8591)(t)||(r=>r>=8960&&r<=9215)(t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||t===9003||t>=9085&&t<=9114||t>=9150&&t<=9165||t===9167||t>=9169&&t<=9179||t>=9186&&t<=9215)||(r=>r>=9216&&r<=9279)(t)&&t!==9251||(r=>r>=9280&&r<=9311)(t)||(r=>r>=9312&&r<=9471)(t)||(r=>r>=9632&&r<=9727)(t)||(r=>r>=9728&&r<=9983)(t)&&!(t>=9754&&t<=9759)||(r=>r>=11008&&r<=11263)(t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||wd(t)||Mh(t)||(r=>r>=57344&&r<=63743)(t)||m(t)||o(t)||_(t)||t===8734||t===8756||t===8757||t>=9984&&t<=10087||t>=10102&&t<=10131||t===65532||t===65533)}(n))}function ve(n){return n>=1424&&n<=2303||ac(n)||d(n)}function ye(n,t){return!(!t&&ve(n)||n>=2304&&n<=3583||n>=3840&&n<=4255||(r=>r>=6016&&r<=6143)(n))}function Pe(n){for(const t of n)if(ve(t.charCodeAt(0)))return!0;return!1}const $e="deferred",Ze="loading",Ke="loaded";let Je=null,et="unavailable",je=null;const ut=function(n){n&&typeof n=="string"&&n.indexOf("NetworkError")>-1&&(et="error"),Je&&Je(n)};function ct(){dt.fire(new sr("pluginStateChange",{pluginStatus:et,pluginURL:je}))}const dt=new Qo,wt=function(){return et},vt=function(){if(et!==$e||!je)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");et=Ze,ct(),je&&Ni({url:je},n=>{n?ut(n):(et=Ke,ct())})},Ct={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>et===Ke||Ct.applyArabicShaping!=null,isLoading:()=>et===Ze,setState(n){et=n.pluginStatus,je=n.pluginURL},isParsed:()=>Ct.applyArabicShaping!=null&&Ct.processBidirectionalText!=null&&Ct.processStyledBidirectionalText!=null,getPluginURL:()=>je};class Rt{constructor(t,r){this.zoom=t,r?(this.now=r.now,this.fadeDuration=r.fadeDuration,this.transition=r.transition,this.pitch=r.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(t){return function(r,c){for(const u of r)if(!ye(u.charCodeAt(0),c))return!1;return!0}(t,Ct.isLoaded())}}class Bt{constructor(t,r){this.property=t,this.value=r,this.expression=function(c,u){if(tu(c))return new nc(c,u);if(Uc(c)){const g=qo(c,u);if(g.result==="error")throw new Error(g.value.map(v=>`${v.key}: ${v.message}`).join(", "));return g.value}{let g=c;return typeof c=="string"&&u.type==="color"&&(g=Nr.parse(c)),{kind:"constant",evaluate:()=>g}}}(r===void 0?t.specification.default:r,t.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(t,r,c){return this.property.possiblyEvaluate(this,t,r,c)}}class Ht{constructor(t){this.property=t,this.value=new Bt(t,void 0)}transitioned(t,r){return new Nt(this.property,this.value,r,oe({},t.transition,this.transition),t.now)}untransitioned(){return new Nt(this.property,this.value,null,{},0)}}class Si{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}getValue(t){return xe(this._values[t].value.value)}setValue(t,r){this._values.hasOwnProperty(t)||(this._values[t]=new Ht(this._values[t].property)),this._values[t].value=new Bt(this._values[t].property,r===null?void 0:xe(r))}getTransition(t){return xe(this._values[t].transition)}setTransition(t,r){this._values.hasOwnProperty(t)||(this._values[t]=new Ht(this._values[t].property)),this._values[t].transition=xe(r)||void 0}serialize(){const t={};for(const r of Object.keys(this._values)){const c=this.getValue(r);c!==void 0&&(t[r]=c);const u=this.getTransition(r);u!==void 0&&(t[`${r}-transition`]=u)}return t}transitioned(t,r){const c=new oi(this._properties);for(const u of Object.keys(this._values))c._values[u]=this._values[u].transitioned(t,r._values[u]);return c}untransitioned(){const t=new oi(this._properties);for(const r of Object.keys(this._values))t._values[r]=this._values[r].untransitioned();return t}}class Nt{constructor(t,r,c,u,g){const v=u.delay||0,T=u.duration||0;g=g||0,this.property=t,this.value=r,this.begin=g+v,this.end=this.begin+T,t.specification.transition&&(u.delay||u.duration)&&(this.prior=c)}possiblyEvaluate(t,r,c){const u=t.now||0,g=this.value.possiblyEvaluate(t,r,c),v=this.prior;if(v){if(u>this.end)return this.prior=null,g;if(this.value.isDataDriven())return this.prior=null,g;if(u<this.begin)return v.possiblyEvaluate(t,r,c);{const T=(u-this.begin)/(this.end-this.begin);return this.property.interpolate(v.possiblyEvaluate(t,r,c),g,q(T))}}return g}}class oi{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}possiblyEvaluate(t,r,c){const u=new Gt(this._properties);for(const g of Object.keys(this._values))u._values[g]=this._values[g].possiblyEvaluate(t,r,c);return u}hasTransition(){for(const t of Object.keys(this._values))if(this._values[t].prior)return!0;return!1}}class Jt{constructor(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)}getValue(t){return xe(this._values[t].value)}setValue(t,r){this._values[t]=new Bt(this._values[t].property,r===null?void 0:xe(r))}serialize(){const t={};for(const r of Object.keys(this._values)){const c=this.getValue(r);c!==void 0&&(t[r]=c)}return t}possiblyEvaluate(t,r,c){const u=new Gt(this._properties);for(const g of Object.keys(this._values))u._values[g]=this._values[g].possiblyEvaluate(t,r,c);return u}}class ui{constructor(t,r,c){this.property=t,this.value=r,this.parameters=c}isConstant(){return this.value.kind==="constant"}constantOr(t){return this.value.kind==="constant"?this.value.value:t}evaluate(t,r,c,u){return this.property.evaluate(this.value,this.parameters,t,r,c,u)}}class Gt{constructor(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}get(t){return this._values[t]}}class Dt{constructor(t){this.specification=t}possiblyEvaluate(t,r){return t.expression.evaluate(r)}interpolate(t,r,c){const u=Ta[this.specification.type];return u?u(t,r,c):t}}class Xt{constructor(t,r){this.specification=t,this.overrides=r}possiblyEvaluate(t,r,c,u){return new ui(this,t.expression.kind==="constant"||t.expression.kind==="camera"?{kind:"constant",value:t.expression.evaluate(r,null,{},c,u)}:t.expression,r)}interpolate(t,r,c){if(t.value.kind!=="constant"||r.value.kind!=="constant")return t;if(t.value.value===void 0||r.value.value===void 0)return new ui(this,{kind:"constant",value:void 0},t.parameters);const u=Ta[this.specification.type];return u?new ui(this,{kind:"constant",value:u(t.value.value,r.value.value,c)},t.parameters):t}evaluate(t,r,c,u,g,v){return t.kind==="constant"?t.value:t.evaluate(r,c,u,g,v)}}class di{constructor(t){this.specification=t}possiblyEvaluate(t,r,c,u){return!!t.expression.evaluate(r,null,{},c,u)}interpolate(){return!1}}class fi{constructor(t){this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const r=new Rt(0,{});for(const c in t){const u=t[c];u.specification.overridable&&this.overridableProperties.push(c);const g=this.defaultPropertyValues[c]=new Bt(u,void 0),v=this.defaultTransitionablePropertyValues[c]=new Ht(u);this.defaultTransitioningPropertyValues[c]=v.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=g.possiblyEvaluate(r)}}}function $i(n,t){return 256*(n=A(Math.floor(n),0,255))+A(Math.floor(t),0,255)}Ri(Xt,"DataDrivenProperty"),Ri(Dt,"DataConstantProperty"),Ri(di,"ColorRampProperty");const Mn={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Fi{constructor(t,r){this._structArray=t,this._pos1=r*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class zi{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(t,r){return t._trim(),r&&(t.isTransferred=!0,r.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}static deserialize(t){const r=Object.create(this.prototype);return r.arrayBuffer=t.arrayBuffer,r.length=t.length,r.capacity=t.arrayBuffer.byteLength/r.bytesPerElement,r._refreshViews(),r}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(t){this.reserve(t),this.length=t}reserve(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const r=this.uint8;this._refreshViews(),r&&this.uint8.set(r)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Zi(n,t=1){let r=0,c=0;return{members:n.map(u=>{const g=Mn[u.type].BYTES_PER_ELEMENT,v=r=Rn(r,Math.max(t,g)),T=u.components||1;return c=Math.max(c,g),r+=g*T,{name:u.name,type:u.type,components:T,offset:v}}),size:Rn(r,Math.max(c,t)),alignment:t}}function Rn(n,t){return Math.ceil(n/t)*t}class nn extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,r){const c=this.length;return this.resize(c+1),this.emplace(c,t,r)}emplace(t,r,c){const u=2*t;return this.int16[u+0]=r,this.int16[u+1]=c,t}}nn.prototype.bytesPerElement=4,Ri(nn,"StructArrayLayout2i4");class er extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,r,c){const u=this.length;return this.resize(u+1),this.emplace(u,t,r,c)}emplace(t,r,c,u){const g=3*t;return this.int16[g+0]=r,this.int16[g+1]=c,this.int16[g+2]=u,t}}er.prototype.bytesPerElement=6,Ri(er,"StructArrayLayout3i6");class tr extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,r,c,u){const g=this.length;return this.resize(g+1),this.emplace(g,t,r,c,u)}emplace(t,r,c,u,g){const v=4*t;return this.int16[v+0]=r,this.int16[v+1]=c,this.int16[v+2]=u,this.int16[v+3]=g,t}}tr.prototype.bytesPerElement=8,Ri(tr,"StructArrayLayout4i8");class br extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,r,c,u,g,v,T){const k=this.length;return this.resize(k+1),this.emplace(k,t,r,c,u,g,v,T)}emplace(t,r,c,u,g,v,T,k){const D=6*t,te=12*t,he=3*t;return this.int16[D+0]=r,this.int16[D+1]=c,this.uint8[te+4]=u,this.uint8[te+5]=g,this.uint8[te+6]=v,this.uint8[te+7]=T,this.float32[he+2]=k,t}}br.prototype.bytesPerElement=12,Ri(br,"StructArrayLayout2i4ub1f12");class hr extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,r,c,u){const g=this.length;return this.resize(g+1),this.emplace(g,t,r,c,u)}emplace(t,r,c,u,g){const v=4*t;return this.float32[v+0]=r,this.float32[v+1]=c,this.float32[v+2]=u,this.float32[v+3]=g,t}}hr.prototype.bytesPerElement=16,Ri(hr,"StructArrayLayout4f16");class ls extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,r,c,u,g){const v=this.length;return this.resize(v+1),this.emplace(v,t,r,c,u,g)}emplace(t,r,c,u,g,v){const T=6*t,k=3*t;return this.uint16[T+0]=r,this.uint16[T+1]=c,this.uint16[T+2]=u,this.uint16[T+3]=g,this.float32[k+2]=v,t}}ls.prototype.bytesPerElement=12,Ri(ls,"StructArrayLayout4ui1f12");class ho extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,r,c,u){const g=this.length;return this.resize(g+1),this.emplace(g,t,r,c,u)}emplace(t,r,c,u,g){const v=4*t;return this.uint16[v+0]=r,this.uint16[v+1]=c,this.uint16[v+2]=u,this.uint16[v+3]=g,t}}ho.prototype.bytesPerElement=8,Ri(ho,"StructArrayLayout4ui8");class ra extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,r,c,u,g,v){const T=this.length;return this.resize(T+1),this.emplace(T,t,r,c,u,g,v)}emplace(t,r,c,u,g,v,T){const k=6*t;return this.int16[k+0]=r,this.int16[k+1]=c,this.int16[k+2]=u,this.int16[k+3]=g,this.int16[k+4]=v,this.int16[k+5]=T,t}}ra.prototype.bytesPerElement=12,Ri(ra,"StructArrayLayout6i12");class sa extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,r,c,u,g,v,T,k,D,te,he,ge){const Se=this.length;return this.resize(Se+1),this.emplace(Se,t,r,c,u,g,v,T,k,D,te,he,ge)}emplace(t,r,c,u,g,v,T,k,D,te,he,ge,Se){const Ae=12*t;return this.int16[Ae+0]=r,this.int16[Ae+1]=c,this.int16[Ae+2]=u,this.int16[Ae+3]=g,this.uint16[Ae+4]=v,this.uint16[Ae+5]=T,this.uint16[Ae+6]=k,this.uint16[Ae+7]=D,this.int16[Ae+8]=te,this.int16[Ae+9]=he,this.int16[Ae+10]=ge,this.int16[Ae+11]=Se,t}}sa.prototype.bytesPerElement=24,Ri(sa,"StructArrayLayout4i4ui4i24");class Pr extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,r,c,u,g,v){const T=this.length;return this.resize(T+1),this.emplace(T,t,r,c,u,g,v)}emplace(t,r,c,u,g,v,T){const k=10*t,D=5*t;return this.int16[k+0]=r,this.int16[k+1]=c,this.int16[k+2]=u,this.float32[D+2]=g,this.float32[D+3]=v,this.float32[D+4]=T,t}}Pr.prototype.bytesPerElement=20,Ri(Pr,"StructArrayLayout3i3f20");class fr extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t){const r=this.length;return this.resize(r+1),this.emplace(r,t)}emplace(t,r){return this.uint32[1*t+0]=r,t}}fr.prototype.bytesPerElement=4,Ri(fr,"StructArrayLayout1ul4");class Yn extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,r,c,u,g,v,T,k,D,te,he,ge,Se){const Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,t,r,c,u,g,v,T,k,D,te,he,ge,Se)}emplace(t,r,c,u,g,v,T,k,D,te,he,ge,Se,Ae){const ze=20*t,Xe=10*t;return this.int16[ze+0]=r,this.int16[ze+1]=c,this.int16[ze+2]=u,this.int16[ze+3]=g,this.int16[ze+4]=v,this.float32[Xe+3]=T,this.float32[Xe+4]=k,this.float32[Xe+5]=D,this.float32[Xe+6]=te,this.int16[ze+14]=he,this.uint32[Xe+8]=ge,this.uint16[ze+18]=Se,this.uint16[ze+19]=Ae,t}}Yn.prototype.bytesPerElement=40,Ri(Yn,"StructArrayLayout5i4f1i1ul2ui40");class Jr extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,r,c,u,g,v,T){const k=this.length;return this.resize(k+1),this.emplace(k,t,r,c,u,g,v,T)}emplace(t,r,c,u,g,v,T,k){const D=8*t;return this.int16[D+0]=r,this.int16[D+1]=c,this.int16[D+2]=u,this.int16[D+4]=g,this.int16[D+5]=v,this.int16[D+6]=T,this.int16[D+7]=k,t}}Jr.prototype.bytesPerElement=16,Ri(Jr,"StructArrayLayout3i2i2i16");class Vs extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,r,c,u,g){const v=this.length;return this.resize(v+1),this.emplace(v,t,r,c,u,g)}emplace(t,r,c,u,g,v){const T=4*t,k=8*t;return this.float32[T+0]=r,this.float32[T+1]=c,this.float32[T+2]=u,this.int16[k+6]=g,this.int16[k+7]=v,t}}Vs.prototype.bytesPerElement=16,Ri(Vs,"StructArrayLayout2f1f2i16");class Mr extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,r,c,u){const g=this.length;return this.resize(g+1),this.emplace(g,t,r,c,u)}emplace(t,r,c,u,g){const v=12*t,T=3*t;return this.uint8[v+0]=r,this.uint8[v+1]=c,this.float32[T+1]=u,this.float32[T+2]=g,t}}Mr.prototype.bytesPerElement=12,Ri(Mr,"StructArrayLayout2ub2f12");class zs extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,r,c){const u=this.length;return this.resize(u+1),this.emplace(u,t,r,c)}emplace(t,r,c,u){const g=3*t;return this.float32[g+0]=r,this.float32[g+1]=c,this.float32[g+2]=u,t}}zs.prototype.bytesPerElement=12,Ri(zs,"StructArrayLayout3f12");class Gs extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,r,c){const u=this.length;return this.resize(u+1),this.emplace(u,t,r,c)}emplace(t,r,c,u){const g=3*t;return this.uint16[g+0]=r,this.uint16[g+1]=c,this.uint16[g+2]=u,t}}Gs.prototype.bytesPerElement=6,Ri(Gs,"StructArrayLayout3ui6");class el extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t,r,c,u,g,v,T,k,D,te,he,ge,Se,Ae,ze,Xe,lt,_t,at,mt,Tt){const bt=this.length;return this.resize(bt+1),this.emplace(bt,t,r,c,u,g,v,T,k,D,te,he,ge,Se,Ae,ze,Xe,lt,_t,at,mt,Tt)}emplace(t,r,c,u,g,v,T,k,D,te,he,ge,Se,Ae,ze,Xe,lt,_t,at,mt,Tt,bt){const qt=30*t,$t=15*t,ni=60*t;return this.int16[qt+0]=r,this.int16[qt+1]=c,this.int16[qt+2]=u,this.float32[$t+2]=g,this.float32[$t+3]=v,this.uint16[qt+8]=T,this.uint16[qt+9]=k,this.uint32[$t+5]=D,this.uint32[$t+6]=te,this.uint32[$t+7]=he,this.uint16[qt+16]=ge,this.uint16[qt+17]=Se,this.uint16[qt+18]=Ae,this.float32[$t+10]=ze,this.float32[$t+11]=Xe,this.uint8[ni+48]=lt,this.uint8[ni+49]=_t,this.uint8[ni+50]=at,this.uint32[$t+13]=mt,this.int16[qt+28]=Tt,this.uint8[ni+58]=bt,t}}el.prototype.bytesPerElement=60,Ri(el,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Ah extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t,r,c,u,g,v,T,k,D,te,he,ge,Se,Ae,ze,Xe,lt,_t,at,mt,Tt,bt,qt,$t,ni,wi,Kt,ai,ci,yi){const Ti=this.length;return this.resize(Ti+1),this.emplace(Ti,t,r,c,u,g,v,T,k,D,te,he,ge,Se,Ae,ze,Xe,lt,_t,at,mt,Tt,bt,qt,$t,ni,wi,Kt,ai,ci,yi)}emplace(t,r,c,u,g,v,T,k,D,te,he,ge,Se,Ae,ze,Xe,lt,_t,at,mt,Tt,bt,qt,$t,ni,wi,Kt,ai,ci,yi,Ti){const ei=38*t,Pi=19*t;return this.int16[ei+0]=r,this.int16[ei+1]=c,this.int16[ei+2]=u,this.float32[Pi+2]=g,this.float32[Pi+3]=v,this.int16[ei+8]=T,this.int16[ei+9]=k,this.int16[ei+10]=D,this.int16[ei+11]=te,this.int16[ei+12]=he,this.int16[ei+13]=ge,this.uint16[ei+14]=Se,this.uint16[ei+15]=Ae,this.uint16[ei+16]=ze,this.uint16[ei+17]=Xe,this.uint16[ei+18]=lt,this.uint16[ei+19]=_t,this.uint16[ei+20]=at,this.uint16[ei+21]=mt,this.uint16[ei+22]=Tt,this.uint16[ei+23]=bt,this.uint16[ei+24]=qt,this.uint16[ei+25]=$t,this.uint16[ei+26]=ni,this.uint16[ei+27]=wi,this.uint16[ei+28]=Kt,this.uint32[Pi+15]=ai,this.float32[Pi+16]=ci,this.float32[Pi+17]=yi,this.float32[Pi+18]=Ti,t}}Ah.prototype.bytesPerElement=76,Ri(Ah,"StructArrayLayout3i2f6i15ui1ul3f76");class uo extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t){const r=this.length;return this.resize(r+1),this.emplace(r,t)}emplace(t,r){return this.float32[1*t+0]=r,t}}uo.prototype.bytesPerElement=4,Ri(uo,"StructArrayLayout1f4");class gn extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,r,c,u,g){const v=this.length;return this.resize(v+1),this.emplace(v,t,r,c,u,g)}emplace(t,r,c,u,g,v){const T=5*t;return this.float32[T+0]=r,this.float32[T+1]=c,this.float32[T+2]=u,this.float32[T+3]=g,this.float32[T+4]=v,t}}gn.prototype.bytesPerElement=20,Ri(gn,"StructArrayLayout5f20");class kl extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,r,c,u){const g=this.length;return this.resize(g+1),this.emplace(g,t,r,c,u)}emplace(t,r,c,u,g){const v=6*t;return this.uint32[3*t+0]=r,this.uint16[v+2]=c,this.uint16[v+3]=u,this.uint16[v+4]=g,t}}kl.prototype.bytesPerElement=12,Ri(kl,"StructArrayLayout1ul3ui12");class cc extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,r){const c=this.length;return this.resize(c+1),this.emplace(c,t,r)}emplace(t,r,c){const u=2*t;return this.uint16[u+0]=r,this.uint16[u+1]=c,t}}cc.prototype.bytesPerElement=4,Ri(cc,"StructArrayLayout2ui4");class oa extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t){const r=this.length;return this.resize(r+1),this.emplace(r,t)}emplace(t,r){return this.uint16[1*t+0]=r,t}}oa.prototype.bytesPerElement=2,Ri(oa,"StructArrayLayout1ui2");class $c extends zi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,r){const c=this.length;return this.resize(c+1),this.emplace(c,t,r)}emplace(t,r,c){const u=2*t;return this.float32[u+0]=r,this.float32[u+1]=c,t}}$c.prototype.bytesPerElement=8,Ri($c,"StructArrayLayout2f8");class M1 extends Fi{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}M1.prototype.size=40;class Em extends Yn{get(t){return new M1(this,t)}}Ri(Em,"CollisionBoxArray");class ka extends Fi{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(t){this._structArray.uint8[this._pos1+49]=t}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(t){this._structArray.uint8[this._pos1+50]=t}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(t){this._structArray.uint32[this._pos4+13]=t}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(t){this._structArray.uint8[this._pos1+58]=t}}ka.prototype.size=60;class A1 extends el{get(t){return new ka(this,t)}}Ri(A1,"PlacedSymbolArray");class mp extends Fi{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(t){this._structArray.uint32[this._pos4+15]=t}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}mp.prototype.size=76;class Of extends Ah{get(t){return new mp(this,t)}}Ri(Of,"SymbolInstanceArray");class Cm extends uo{getoffsetX(t){return this.float32[1*t+0]}}Ri(Cm,"GlyphOffsetArray");class Mm extends nn{getx(t){return this.int16[2*t+0]}gety(t){return this.int16[2*t+1]}}Ri(Mm,"SymbolLineVertexArray");class aa extends Fi{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}aa.prototype.size=12;class Hc extends kl{get(t){return new aa(this,t)}}Ri(Hc,"FeatureIndexArray");class Rf extends cc{geta_centroid_pos0(t){return this.uint16[2*t+0]}geta_centroid_pos1(t){return this.uint16[2*t+1]}}Ri(Rf,"FillExtrusionCentroidArray");const k1=Zi([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),zf=Zi([{name:"a_dash",components:4,type:"Uint16"}]);var kh={},Am={get exports(){return kh},set exports(n){kh=n}},Bf={};({get exports(){return Bf},set exports(n){Bf=n}}).exports=function(n,t){var r,c,u,g,v,T,k,D;for(c=n.length-(r=3&n.length),u=t,v=3432918353,T=461845907,D=0;D<c;)k=255&n.charCodeAt(D)|(255&n.charCodeAt(++D))<<8|(255&n.charCodeAt(++D))<<16|(255&n.charCodeAt(++D))<<24,++D,u=27492+(65535&(g=5*(65535&(u=(u^=k=(65535&(k=(k=(65535&k)*v+(((k>>>16)*v&65535)<<16)&4294967295)<<15|k>>>17))*T+(((k>>>16)*T&65535)<<16)&4294967295)<<13|u>>>19))+((5*(u>>>16)&65535)<<16)&4294967295))+((58964+(g>>>16)&65535)<<16);switch(k=0,r){case 3:k^=(255&n.charCodeAt(D+2))<<16;case 2:k^=(255&n.charCodeAt(D+1))<<8;case 1:u^=k=(65535&(k=(k=(65535&(k^=255&n.charCodeAt(D)))*v+(((k>>>16)*v&65535)<<16)&4294967295)<<15|k>>>17))*T+(((k>>>16)*T&65535)<<16)&4294967295}return u^=n.length,u=2246822507*(65535&(u^=u>>>16))+((2246822507*(u>>>16)&65535)<<16)&4294967295,u=3266489909*(65535&(u^=u>>>13))+((3266489909*(u>>>16)&65535)<<16)&4294967295,(u^=u>>>16)>>>0};var gp={};({get exports(){return gp},set exports(n){gp=n}}).exports=function(n,t){for(var r,c=n.length,u=t^c,g=0;c>=4;)r=1540483477*(65535&(r=255&n.charCodeAt(g)|(255&n.charCodeAt(++g))<<8|(255&n.charCodeAt(++g))<<16|(255&n.charCodeAt(++g))<<24))+((1540483477*(r>>>16)&65535)<<16),u=1540483477*(65535&u)+((1540483477*(u>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),c-=4,++g;switch(c){case 3:u^=(255&n.charCodeAt(g+2))<<16;case 2:u^=(255&n.charCodeAt(g+1))<<8;case 1:u=1540483477*(65535&(u^=255&n.charCodeAt(g)))+((1540483477*(u>>>16)&65535)<<16)}return u=1540483477*(65535&(u^=u>>>13))+((1540483477*(u>>>16)&65535)<<16),(u^=u>>>15)>>>0};var Ff=Bf,Ph=gp;Am.exports=Ff,kh.murmur3=Ff,kh.murmur2=Ph;class Nf{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(t,r,c,u){this.ids.push(qc(t)),this.positions.push(r,c,u)}getPositions(t){const r=qc(t);let c=0,u=this.ids.length-1;for(;c<u;){const v=c+u>>1;this.ids[v]>=r?u=v:c=v+1}const g=[];for(;this.ids[c]===r;)g.push({index:this.positions[3*c],start:this.positions[3*c+1],end:this.positions[3*c+2]}),c++;return g}static serialize(t,r){const c=new Float64Array(t.ids),u=new Uint32Array(t.positions);return jf(c,u,0,c.length-1),r&&r.push(c.buffer,u.buffer),{ids:c,positions:u}}static deserialize(t){const r=new Nf;return r.ids=t.ids,r.positions=t.positions,r.indexed=!0,r}}function qc(n){const t=+n;return!isNaN(t)&&Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:kh(String(n))}function jf(n,t,r,c){for(;r<c;){const u=n[r+c>>1];let g=r-1,v=c+1;for(;;){do g++;while(n[g]<u);do v--;while(n[v]>u);if(g>=v)break;_p(n,g,v),_p(t,3*g,3*v),_p(t,3*g+1,3*v+1),_p(t,3*g+2,3*v+2)}v-r<c-v?(jf(n,t,r,v),r=v+1):(jf(n,t,v+1,c),c=v)}}function _p(n,t,r){const c=n[t];n[t]=n[r],n[r]=c}Ri(Nf,"FeaturePositionMap");class Pl{constructor(t){this.gl=t.gl,this.initialized=!1}fetchUniformLocation(t,r){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(t,r),this.initialized=!0),!!this.location}}class Uf extends Pl{constructor(t){super(t),this.current=0}set(t,r,c){this.fetchUniformLocation(t,r)&&this.current!==c&&(this.current=c,this.gl.uniform1f(this.location,c))}}class P1 extends Pl{constructor(t){super(t),this.current=[0,0,0,0]}set(t,r,c){this.fetchUniformLocation(t,r)&&(c[0]===this.current[0]&&c[1]===this.current[1]&&c[2]===this.current[2]&&c[3]===this.current[3]||(this.current=c,this.gl.uniform4f(this.location,c[0],c[1],c[2],c[3])))}}class I1 extends Pl{constructor(t){super(t),this.current=Nr.transparent}set(t,r,c){this.fetchUniformLocation(t,r)&&(c.r===this.current.r&&c.g===this.current.g&&c.b===this.current.b&&c.a===this.current.a||(this.current=c,this.gl.uniform4f(this.location,c.r,c.g,c.b,c.a)))}}const L1=new Float32Array(16),D1=new Float32Array(9),E2=new Float32Array(4);function Vf(n){return[$i(255*n.r,255*n.g),$i(255*n.b,255*n.a)]}class cu{constructor(t,r,c){this.value=t,this.uniformNames=r.map(u=>`u_${u}`),this.type=c}setUniform(t,r,c,u,g){r.set(t,g,u.constantOr(this.value))}getBinding(t,r){return this.type==="color"?new I1(t):new Uf(t)}}class Ws{constructor(t,r){this.uniformNames=r.map(c=>`u_${c}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(t){this.pixelRatio=t.pixelRatio||1,this.pattern=t.tl.concat(t.br)}setUniform(t,r,c,u,g){const v=g==="u_pattern"||g==="u_dash"?this.pattern:g==="u_pixel_ratio"?this.pixelRatio:null;v&&r.set(t,g,v)}getBinding(t,r){return r==="u_pattern"||r==="u_dash"?new P1(t):new Uf(t)}}class eo{constructor(t,r,c,u){this.expression=t,this.type=c,this.maxValue=0,this.paintVertexAttributes=r.map(g=>({name:`a_${g}`,type:"Float32",components:c==="color"?2:1,offset:0})),this.paintVertexArray=new u}populatePaintArray(t,r,c,u,g,v){const T=this.paintVertexArray.length,k=this.expression.evaluate(new Rt(0),r,{},g,u,v);this.paintVertexArray.resize(t),this._setPaintValue(T,t,k)}updatePaintArray(t,r,c,u,g){const v=this.expression.evaluate({zoom:0},c,u,void 0,g);this._setPaintValue(t,r,v)}_setPaintValue(t,r,c){if(this.type==="color"){const u=Vf(c);for(let g=t;g<r;g++)this.paintVertexArray.emplace(g,u[0],u[1])}else{for(let u=t;u<r;u++)this.paintVertexArray.emplace(u,c);this.maxValue=Math.max(this.maxValue,Math.abs(c))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Il{constructor(t,r,c,u,g,v){this.expression=t,this.uniformNames=r.map(T=>`u_${T}_t`),this.type=c,this.useIntegerZoom=u,this.zoom=g,this.maxValue=0,this.paintVertexAttributes=r.map(T=>({name:`a_${T}`,type:"Float32",components:c==="color"?4:2,offset:0})),this.paintVertexArray=new v}populatePaintArray(t,r,c,u,g,v){const T=this.expression.evaluate(new Rt(this.zoom),r,{},g,u,v),k=this.expression.evaluate(new Rt(this.zoom+1),r,{},g,u,v),D=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(D,t,T,k)}updatePaintArray(t,r,c,u,g){const v=this.expression.evaluate({zoom:this.zoom},c,u,void 0,g),T=this.expression.evaluate({zoom:this.zoom+1},c,u,void 0,g);this._setPaintValue(t,r,v,T)}_setPaintValue(t,r,c,u){if(this.type==="color"){const g=Vf(c),v=Vf(u);for(let T=t;T<r;T++)this.paintVertexArray.emplace(T,g[0],g[1],v[0],v[1])}else{for(let g=t;g<r;g++)this.paintVertexArray.emplace(g,c,u);this.maxValue=Math.max(this.maxValue,Math.abs(c),Math.abs(u))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(t,r,c,u,g){const v=this.useIntegerZoom?Math.floor(c.zoom):c.zoom,T=A(this.expression.interpolationFactor(v,this.zoom,this.zoom+1),0,1);r.set(t,g,T)}getBinding(t,r){return new Uf(t)}}class Ih{constructor(t,r,c,u,g){this.expression=t,this.layerId=g,this.paintVertexAttributes=(c==="array"?zf:k1).members;for(let v=0;v<r.length;++v);this.paintVertexArray=new u}populatePaintArray(t,r,c){const u=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValues(u,t,r.patterns&&r.patterns[this.layerId],c)}updatePaintArray(t,r,c,u,g,v){this._setPaintValues(t,r,c.patterns&&c.patterns[this.layerId],v)}_setPaintValues(t,r,c,u){if(!u||!c)return;const g=u[c];if(!g)return;const{tl:v,br:T,pixelRatio:k}=g;for(let D=t;D<r;D++)this.paintVertexArray.emplace(D,v[0],v[1],T[0],T[1],k)}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ll{constructor(t,r,c=()=>!0){this.binders={},this._buffers=[];const u=[];for(const g in t.paint._values){if(!c(g))continue;const v=t.paint.get(g);if(!(v instanceof ui&&mn(v.property.specification)))continue;const T=R1(g,t.type),k=v.value,D=v.property.specification.type,te=!!v.property.useIntegerZoom,he=g==="line-dasharray"||g.endsWith("pattern"),ge=g==="line-dasharray"&&t.layout.get("line-cap").value.kind!=="constant";if(k.kind!=="constant"||ge)if(k.kind==="source"||ge||he){const Se=Td(g,D,"source");this.binders[g]=he?new Ih(k,T,D,Se,t.id):new eo(k,T,D,Se),u.push(`/a_${g}`)}else{const Se=Td(g,D,"composite");this.binders[g]=new Il(k,T,D,te,r,Se),u.push(`/z_${g}`)}else this.binders[g]=he?new Ws(k.value,T):new cu(k.value,T,D),u.push(`/u_${g}`)}this.cacheKey=u.sort().join("")}getMaxValue(t){const r=this.binders[t];return r instanceof eo||r instanceof Il?r.maxValue:0}populatePaintArrays(t,r,c,u,g,v){for(const T in this.binders){const k=this.binders[T];(k instanceof eo||k instanceof Il||k instanceof Ih)&&k.populatePaintArray(t,r,c,u,g,v)}}setConstantPatternPositions(t){for(const r in this.binders){const c=this.binders[r];c instanceof Ws&&c.setConstantPatternPositions(t)}}updatePaintArrays(t,r,c,u,g,v){let T=!1;for(const k in t){const D=r.getPositions(k);for(const te of D){const he=c.feature(te.index);for(const ge in this.binders){const Se=this.binders[ge];if((Se instanceof eo||Se instanceof Il||Se instanceof Ih)&&Se.expression.isStateDependent===!0){const Ae=u.paint.get(ge);Se.expression=Ae.value,Se.updatePaintArray(te.start,te.end,he,t[k],g,v),T=!0}}}}return T}defines(){const t=[];for(const r in this.binders){const c=this.binders[r];(c instanceof cu||c instanceof Ws)&&t.push(...c.uniformNames.map(u=>`#define HAS_UNIFORM_${u}`))}return t}getBinderAttributes(){const t=[];for(const r in this.binders){const c=this.binders[r];if(c instanceof eo||c instanceof Il||c instanceof Ih)for(let u=0;u<c.paintVertexAttributes.length;u++)t.push(c.paintVertexAttributes[u].name)}return t}getBinderUniforms(){const t=[];for(const r in this.binders){const c=this.binders[r];if(c instanceof cu||c instanceof Ws||c instanceof Il)for(const u of c.uniformNames)t.push(u)}return t}getPaintVertexBuffers(){return this._buffers}getUniforms(t){const r=[];for(const c in this.binders){const u=this.binders[c];if(u instanceof cu||u instanceof Ws||u instanceof Il)for(const g of u.uniformNames)r.push({name:g,property:c,binding:u.getBinding(t,g)})}return r}setUniforms(t,r,c,u,g){for(const{name:v,property:T,binding:k}of c)this.binders[T].setUniform(t,k,g,u.get(T),v)}updatePaintBuffers(){this._buffers=[];for(const t in this.binders){const r=this.binders[t];(r instanceof eo||r instanceof Il||r instanceof Ih)&&r.paintVertexBuffer&&this._buffers.push(r.paintVertexBuffer)}}upload(t){for(const r in this.binders){const c=this.binders[r];(c instanceof eo||c instanceof Il||c instanceof Ih)&&c.upload(t)}this.updatePaintBuffers()}destroy(){for(const t in this.binders){const r=this.binders[t];(r instanceof eo||r instanceof Il||r instanceof Ih)&&r.destroy()}}}class tl{constructor(t,r,c=()=>!0){this.programConfigurations={};for(const u of t)this.programConfigurations[u.id]=new Ll(u,r,c);this.needsUpload=!1,this._featureMap=new Nf,this._bufferOffset=0}populatePaintArrays(t,r,c,u,g,v,T){for(const k in this.programConfigurations)this.programConfigurations[k].populatePaintArrays(t,r,u,g,v,T);r.id!==void 0&&this._featureMap.add(r.id,c,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0}updatePaintArrays(t,r,c,u,g){for(const v of c)this.needsUpload=this.programConfigurations[v.id].updatePaintArrays(t,this._featureMap,r,v,u,g)||this.needsUpload}get(t){return this.programConfigurations[t]}upload(t){if(this.needsUpload){for(const r in this.programConfigurations)this.programConfigurations[r].upload(t);this.needsUpload=!1}}destroy(){for(const t in this.programConfigurations)this.programConfigurations[t].destroy()}}const O1={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function R1(n,t){return O1[n]||[n.replace(`${t}-`,"").replace(/-/g,"_")]}const C2={"line-pattern":{source:ls,composite:ls},"fill-pattern":{source:ls,composite:ls},"fill-extrusion-pattern":{source:ls,composite:ls},"line-dasharray":{source:ho,composite:ho}},z1={color:{source:$c,composite:hr},number:{source:uo,composite:$c}};function Td(n,t,r){const c=C2[n];return c&&c[r]||z1[t][r]}Ri(cu,"ConstantBinder"),Ri(Ws,"PatternConstantBinder"),Ri(eo,"SourceExpressionBinder"),Ri(Ih,"PatternCompositeBinder"),Ri(Il,"CompositeExpressionBinder"),Ri(Ll,"ProgramConfiguration",{omit:["_buffers"]}),Ri(tl,"ProgramConfigurationSet");const Lh="-transition";class Dl extends Qo{constructor(t,r){if(super(),this.id=t.id,this.type=t.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,t.type!=="custom"&&(this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,t.type!=="background"&&t.type!=="sky"&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),r.layout&&(this._unevaluatedLayout=new Jt(r.layout)),r.paint)){this._transitionablePaint=new Si(r.paint);for(const c in t.paint)this.setPaintProperty(c,t.paint[c],{validate:!1});for(const c in t.layout)this.setLayoutProperty(c,t.layout[c],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Gt(r.paint)}}getLayoutProperty(t){return t==="visibility"?this.visibility:this._unevaluatedLayout.getValue(t)}setLayoutProperty(t,r,c={}){r!=null&&this._validate(oc,`layers.${this.id}.layout.${t}`,t,r,c)||(t!=="visibility"?this._unevaluatedLayout.setValue(t,r):this.visibility=r)}getPaintProperty(t){return Ce(t,Lh)?this._transitionablePaint.getTransition(t.slice(0,-Lh.length)):this._transitionablePaint.getValue(t)}setPaintProperty(t,r,c={}){if(r!=null&&this._validate(Sm,`layers.${this.id}.paint.${t}`,t,r,c))return!1;if(Ce(t,Lh))return this._transitionablePaint.setTransition(t.slice(0,-Lh.length),r||void 0),!1;{const u=this._transitionablePaint._values[t],g=u.value.isDataDriven(),v=u.value;this._transitionablePaint.setValue(t,r),this._handleSpecialPaintPropertyUpdate(t);const T=this._transitionablePaint._values[t].value,k=T.isDataDriven(),D=Ce(t,"pattern")||t==="line-dasharray";return k||g||D||this._handleOverridablePaintPropertyUpdate(t,v,T)}}_handleSpecialPaintPropertyUpdate(t){}getProgramIds(){return null}getProgramConfiguration(t){return null}_handleOverridablePaintPropertyUpdate(t,r,c){return!1}isHidden(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||this.visibility==="none"}updateTransitions(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(t,r){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,r)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,r)}serialize(){const t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),re(t,(r,c)=>!(r===void 0||c==="layout"&&!Object.keys(r).length||c==="paint"&&!Object.keys(r).length))}_validate(t,r,c,u,g={}){return(!g||g.validate!==!1)&&Ef(this,t.call(Sf,{key:r,layerType:this.type,objectKey:c,value:u,styleSpec:ti,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const t in this.paint._values){const r=this.paint.get(t);if(r instanceof ui&&mn(r.property.specification)&&(r.value.kind==="source"||r.value.kind==="composite")&&r.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=as(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const B1=Zi([{name:"a_pos",components:2,type:"Int16"}],4),F1=Zi([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class qr{constructor(t=[]){this.segments=t}prepareSegment(t,r,c,u){let g=this.segments[this.segments.length-1];return t>qr.MAX_VERTEX_ARRAY_LENGTH&&Y(`Max vertices per segment is ${qr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${t}`),(!g||g.vertexLength+t>qr.MAX_VERTEX_ARRAY_LENGTH||g.sortKey!==u)&&(g={vertexOffset:r.length,primitiveOffset:c.length,vertexLength:0,primitiveLength:0},u!==void 0&&(g.sortKey=u),this.segments.push(g)),g}get(){return this.segments}destroy(){for(const t of this.segments)for(const r in t.vaos)t.vaos[r].destroy()}static simpleSegment(t,r,c,u){return new qr([{vertexOffset:t,primitiveOffset:r,vertexLength:c,primitiveLength:u,vaos:{},sortKey:0}])}}qr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ri(qr,"SegmentVector");var ln=8192;class Ol{constructor(t,r){t&&(r?this.setSouthWest(t).setNorthEast(r):t.length===4?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))}setNorthEast(t){return this._ne=t instanceof Zn?new Zn(t.lng,t.lat):Zn.convert(t),this}setSouthWest(t){return this._sw=t instanceof Zn?new Zn(t.lng,t.lat):Zn.convert(t),this}extend(t){const r=this._sw,c=this._ne;let u,g;if(t instanceof Zn)u=t,g=t;else{if(!(t instanceof Ol))return Array.isArray(t)?t.length===4||t.every(Array.isArray)?this.extend(Ol.convert(t)):this.extend(Zn.convert(t)):typeof t=="object"&&t!==null&&t.hasOwnProperty("lat")&&(t.hasOwnProperty("lon")||t.hasOwnProperty("lng"))?this.extend(Zn.convert(t)):this;if(u=t._sw,g=t._ne,!u||!g)return this}return r||c?(r.lng=Math.min(u.lng,r.lng),r.lat=Math.min(u.lat,r.lat),c.lng=Math.max(g.lng,c.lng),c.lat=Math.max(g.lat,c.lat)):(this._sw=new Zn(u.lng,u.lat),this._ne=new Zn(g.lng,g.lat)),this}getCenter(){return new Zn((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Zn(this.getWest(),this.getNorth())}getSouthEast(){return new Zn(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(t){const{lng:r,lat:c}=Zn.convert(t);let u=this._sw.lng<=r&&r<=this._ne.lng;return this._sw.lng>this._ne.lng&&(u=this._sw.lng>=r&&r>=this._ne.lng),this._sw.lat<=c&&c<=this._ne.lat&&u}static convert(t){return!t||t instanceof Ol?t:new Ol(t)}}var hu=1e-6,po=typeof Float32Array<"u"?Float32Array:Array;function N1(){var n=new po(9);return po!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1,n}function km(n,t,r){var c=t[0],u=t[1],g=t[2],v=t[3],T=t[4],k=t[5],D=t[6],te=t[7],he=t[8],ge=r[0],Se=r[1],Ae=r[2],ze=r[3],Xe=r[4],lt=r[5],_t=r[6],at=r[7],mt=r[8];return n[0]=ge*c+Se*v+Ae*D,n[1]=ge*u+Se*T+Ae*te,n[2]=ge*g+Se*k+Ae*he,n[3]=ze*c+Xe*v+lt*D,n[4]=ze*u+Xe*T+lt*te,n[5]=ze*g+Xe*k+lt*he,n[6]=_t*c+at*v+mt*D,n[7]=_t*u+at*T+mt*te,n[8]=_t*g+at*k+mt*he,n}function la(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function Gf(n,t){var r=t[0],c=t[1],u=t[2],g=t[3],v=t[4],T=t[5],k=t[6],D=t[7],te=t[8],he=t[9],ge=t[10],Se=t[11],Ae=t[12],ze=t[13],Xe=t[14],lt=t[15],_t=r*T-c*v,at=r*k-u*v,mt=r*D-g*v,Tt=c*k-u*T,bt=c*D-g*T,qt=u*D-g*k,$t=te*ze-he*Ae,ni=te*Xe-ge*Ae,wi=te*lt-Se*Ae,Kt=he*Xe-ge*ze,ai=he*lt-Se*ze,ci=ge*lt-Se*Xe,yi=_t*ci-at*ai+mt*Kt+Tt*wi-bt*ni+qt*$t;return yi?(n[0]=(T*ci-k*ai+D*Kt)*(yi=1/yi),n[1]=(u*ai-c*ci-g*Kt)*yi,n[2]=(ze*qt-Xe*bt+lt*Tt)*yi,n[3]=(ge*bt-he*qt-Se*Tt)*yi,n[4]=(k*wi-v*ci-D*ni)*yi,n[5]=(r*ci-u*wi+g*ni)*yi,n[6]=(Xe*mt-Ae*qt-lt*at)*yi,n[7]=(te*qt-ge*mt+Se*at)*yi,n[8]=(v*ai-T*wi+D*$t)*yi,n[9]=(c*wi-r*ai-g*$t)*yi,n[10]=(Ae*bt-ze*mt+lt*_t)*yi,n[11]=(he*mt-te*bt-Se*_t)*yi,n[12]=(T*ni-v*Kt-k*$t)*yi,n[13]=(r*Kt-c*ni+u*$t)*yi,n[14]=(ze*at-Ae*Tt-Xe*_t)*yi,n[15]=(te*Tt-he*at+ge*_t)*yi,n):null}function Xc(n,t,r){var c=t[0],u=t[1],g=t[2],v=t[3],T=t[4],k=t[5],D=t[6],te=t[7],he=t[8],ge=t[9],Se=t[10],Ae=t[11],ze=t[12],Xe=t[13],lt=t[14],_t=t[15],at=r[0],mt=r[1],Tt=r[2],bt=r[3];return n[0]=at*c+mt*T+Tt*he+bt*ze,n[1]=at*u+mt*k+Tt*ge+bt*Xe,n[2]=at*g+mt*D+Tt*Se+bt*lt,n[3]=at*v+mt*te+Tt*Ae+bt*_t,n[4]=(at=r[4])*c+(mt=r[5])*T+(Tt=r[6])*he+(bt=r[7])*ze,n[5]=at*u+mt*k+Tt*ge+bt*Xe,n[6]=at*g+mt*D+Tt*Se+bt*lt,n[7]=at*v+mt*te+Tt*Ae+bt*_t,n[8]=(at=r[8])*c+(mt=r[9])*T+(Tt=r[10])*he+(bt=r[11])*ze,n[9]=at*u+mt*k+Tt*ge+bt*Xe,n[10]=at*g+mt*D+Tt*Se+bt*lt,n[11]=at*v+mt*te+Tt*Ae+bt*_t,n[12]=(at=r[12])*c+(mt=r[13])*T+(Tt=r[14])*he+(bt=r[15])*ze,n[13]=at*u+mt*k+Tt*ge+bt*Xe,n[14]=at*g+mt*D+Tt*Se+bt*lt,n[15]=at*v+mt*te+Tt*Ae+bt*_t,n}function yp(n,t,r){var c,u,g,v,T,k,D,te,he,ge,Se,Ae,ze=r[0],Xe=r[1],lt=r[2];return t===n?(n[12]=t[0]*ze+t[4]*Xe+t[8]*lt+t[12],n[13]=t[1]*ze+t[5]*Xe+t[9]*lt+t[13],n[14]=t[2]*ze+t[6]*Xe+t[10]*lt+t[14],n[15]=t[3]*ze+t[7]*Xe+t[11]*lt+t[15]):(u=t[1],g=t[2],v=t[3],T=t[4],k=t[5],D=t[6],te=t[7],he=t[8],ge=t[9],Se=t[10],Ae=t[11],n[0]=c=t[0],n[1]=u,n[2]=g,n[3]=v,n[4]=T,n[5]=k,n[6]=D,n[7]=te,n[8]=he,n[9]=ge,n[10]=Se,n[11]=Ae,n[12]=c*ze+T*Xe+he*lt+t[12],n[13]=u*ze+k*Xe+ge*lt+t[13],n[14]=g*ze+D*Xe+Se*lt+t[14],n[15]=v*ze+te*Xe+Ae*lt+t[15]),n}function Dh(n,t,r){var c=r[0],u=r[1],g=r[2];return n[0]=t[0]*c,n[1]=t[1]*c,n[2]=t[2]*c,n[3]=t[3]*c,n[4]=t[4]*u,n[5]=t[5]*u,n[6]=t[6]*u,n[7]=t[7]*u,n[8]=t[8]*g,n[9]=t[9]*g,n[10]=t[10]*g,n[11]=t[11]*g,n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n}function Rl(n,t,r){var c=Math.sin(r),u=Math.cos(r),g=t[4],v=t[5],T=t[6],k=t[7],D=t[8],te=t[9],he=t[10],ge=t[11];return t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]),n[4]=g*u+D*c,n[5]=v*u+te*c,n[6]=T*u+he*c,n[7]=k*u+ge*c,n[8]=D*u-g*c,n[9]=te*u-v*c,n[10]=he*u-T*c,n[11]=ge*u-k*c,n}function vp(n,t,r){var c=Math.sin(r),u=Math.cos(r),g=t[0],v=t[1],T=t[2],k=t[3],D=t[8],te=t[9],he=t[10],ge=t[11];return t!==n&&(n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]),n[0]=g*u-D*c,n[1]=v*u-te*c,n[2]=T*u-he*c,n[3]=k*u-ge*c,n[8]=g*c+D*u,n[9]=v*c+te*u,n[10]=T*c+he*u,n[11]=k*c+ge*u,n}function Pm(n,t){return n[0]=t[0],n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=t[1],n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=t[2],n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function j1(n,t,r){var c,u,g,v=r[0],T=r[1],k=r[2],D=Math.hypot(v,T,k);return D<hu?null:(v*=D=1/D,T*=D,k*=D,c=Math.sin(t),u=Math.cos(t),n[0]=v*v*(g=1-u)+u,n[1]=T*v*g+k*c,n[2]=k*v*g-T*c,n[3]=0,n[4]=v*T*g-k*c,n[5]=T*T*g+u,n[6]=k*T*g+v*c,n[7]=0,n[8]=v*k*g+T*c,n[9]=T*k*g-v*c,n[10]=k*k*g+u,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n)}Math.hypot||(Math.hypot=function(){for(var n=0,t=arguments.length;t--;)n+=arguments[t]*arguments[t];return Math.sqrt(n)});var U1=Xc;function Im(){var n=new po(3);return po!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n}function V1(n){var t=new po(3);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function Pa(n){return Math.hypot(n[0],n[1],n[2])}function Oh(n,t,r){var c=new po(3);return c[0]=n,c[1]=t,c[2]=r,c}function zl(n,t,r){return n[0]=t[0]+r[0],n[1]=t[1]+r[1],n[2]=t[2]+r[2],n}function xp(n,t,r){return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],n}function bp(n,t,r){return n[0]=t[0]*r[0],n[1]=t[1]*r[1],n[2]=t[2]*r[2],n}function hc(n,t,r){return n[0]=Math.min(t[0],r[0]),n[1]=Math.min(t[1],r[1]),n[2]=Math.min(t[2],r[2]),n}function un(n,t,r){return n[0]=Math.max(t[0],r[0]),n[1]=Math.max(t[1],r[1]),n[2]=Math.max(t[2],r[2]),n}function ko(n,t,r){return n[0]=t[0]*r,n[1]=t[1]*r,n[2]=t[2]*r,n}function Sd(n,t,r,c){return n[0]=t[0]+r[0]*c,n[1]=t[1]+r[1]*c,n[2]=t[2]+r[2]*c,n}function vs(n,t){var r=t[0],c=t[1],u=t[2],g=r*r+c*c+u*u;return g>0&&(g=1/Math.sqrt(g)),n[0]=t[0]*g,n[1]=t[1]*g,n[2]=t[2]*g,n}function il(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function wp(n,t,r){var c=t[0],u=t[1],g=t[2],v=r[0],T=r[1],k=r[2];return n[0]=u*k-g*T,n[1]=g*v-c*k,n[2]=c*T-u*v,n}function Qr(n,t,r){var c=t[0],u=t[1],g=t[2],v=r[3]*c+r[7]*u+r[11]*g+r[15];return n[0]=(r[0]*c+r[4]*u+r[8]*g+r[12])/(v=v||1),n[1]=(r[1]*c+r[5]*u+r[9]*g+r[13])/v,n[2]=(r[2]*c+r[6]*u+r[10]*g+r[14])/v,n}function fo(n,t,r){var c=r[0],u=r[1],g=r[2],v=t[0],T=t[1],k=t[2],D=u*k-g*T,te=g*v-c*k,he=c*T-u*v,ge=u*he-g*te,Se=g*D-c*he,Ae=c*te-u*D,ze=2*r[3];return te*=ze,he*=ze,Se*=2,Ae*=2,n[0]=v+(D*=ze)+(ge*=2),n[1]=T+te+Se,n[2]=k+he+Ae,n}var Tp,Bl=xp,G1=bp,M2=Pa;function Lm(n,t,r){return n[0]=t[0]*r,n[1]=t[1]*r,n[2]=t[2]*r,n[3]=t[3]*r,n}function W1(n,t){var r=t[0],c=t[1],u=t[2],g=t[3],v=r*r+c*c+u*u+g*g;return v>0&&(v=1/Math.sqrt(v)),n[0]=r*v,n[1]=c*v,n[2]=u*v,n[3]=g*v,n}function Ed(n,t,r){var c=t[0],u=t[1],g=t[2],v=t[3];return n[0]=r[0]*c+r[4]*u+r[8]*g+r[12]*v,n[1]=r[1]*c+r[5]*u+r[9]*g+r[13]*v,n[2]=r[2]*c+r[6]*u+r[10]*g+r[14]*v,n[3]=r[3]*c+r[7]*u+r[11]*g+r[15]*v,n}function $1(){var n=new po(4);return po!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n[3]=1,n}function dc(n){return n[0]=0,n[1]=0,n[2]=0,n[3]=1,n}function Po(n,t,r){r*=.5;var c=t[0],u=t[1],g=t[2],v=t[3],T=Math.sin(r),k=Math.cos(r);return n[0]=c*k+v*T,n[1]=u*k+g*T,n[2]=g*k-u*T,n[3]=v*k-c*T,n}function Wf(n,t,r){r*=.5;var c=t[0],u=t[1],g=t[2],v=t[3],T=Math.sin(r),k=Math.cos(r);return n[0]=c*k-g*T,n[1]=u*k+v*T,n[2]=g*k+c*T,n[3]=v*k-u*T,n}Im(),Tp=new po(4),po!=Float32Array&&(Tp[0]=0,Tp[1]=0,Tp[2]=0,Tp[3]=0);var A2=W1;Im(),Oh(1,0,0),Oh(0,1,0),$1(),$1(),N1();const Dm=Zi([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:H1}=Dm,q1=Zi([{name:"a_pos_3",components:3,type:"Int16"}]);var Yc=Zi([{name:"a_pos",type:"Int16",components:2}]);class $f{constructor(t,r){this.pos=t,this.dir=r}intersectsPlane(t,r,c){const u=il(r,this.dir);if(Math.abs(u)<1e-6)return!1;const g=((t[0]-this.pos[0])*r[0]+(t[1]-this.pos[1])*r[1]+(t[2]-this.pos[2])*r[2])/u;return c[0]=this.pos[0]+this.dir[0]*g,c[1]=this.pos[1]+this.dir[1]*g,c[2]=this.pos[2]+this.dir[2]*g,!0}closestPointOnSphere(t,r,c){if(function(Se,Ae){var ze=Se[0],Xe=Se[1],lt=Se[2],_t=Ae[0],at=Ae[1],mt=Ae[2];return Math.abs(ze-_t)<=hu*Math.max(1,Math.abs(ze),Math.abs(_t))&&Math.abs(Xe-at)<=hu*Math.max(1,Math.abs(Xe),Math.abs(at))&&Math.abs(lt-mt)<=hu*Math.max(1,Math.abs(lt),Math.abs(mt))}(this.pos,t)||r===0)return c[0]=c[1]=c[2]=0,!1;const[u,g,v]=this.dir,T=this.pos[0]-t[0],k=this.pos[1]-t[1],D=this.pos[2]-t[2],te=u*u+g*g+v*v,he=2*(T*u+k*g+D*v),ge=he*he-4*te*(T*T+k*k+D*D-r*r);if(ge<0){const Se=Math.max(-he/2,0),Ae=T+u*Se,ze=k+g*Se,Xe=D+v*Se,lt=Math.hypot(Ae,ze,Xe);return c[0]=Ae*r/lt,c[1]=ze*r/lt,c[2]=Xe*r/lt,!1}{const Se=(-he-Math.sqrt(ge))/(2*te);if(Se<0){const Ae=Math.hypot(T,k,D);return c[0]=T*r/Ae,c[1]=k*r/Ae,c[2]=D*r/Ae,!1}return c[0]=T+u*Se,c[1]=k+g*Se,c[2]=D+v*Se,!0}}}class Hf{constructor(t,r,c,u,g){this.TL=t,this.TR=r,this.BR=c,this.BL=u,this.horizon=g}static fromInvProjectionMatrix(t,r,c){const u=[-1,1,1],g=[1,1,1],v=[1,-1,1],T=[-1,-1,1],k=Qr(u,u,t),D=Qr(g,g,t),te=Qr(v,v,t),he=Qr(T,T,t);return new Hf(k,D,te,he,r/c)}}class Om{constructor(t,r){this.points=t,this.planes=r}static fromInvProjectionMatrix(t,r,c,u){const g=Math.pow(2,c),v=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(k=>{const D=Ed([],k,t),te=1/D[3]/r*g;return function(he,ge,Se){return he[0]=ge[0]*Se[0],he[1]=ge[1]*Se[1],he[2]=ge[2]*Se[2],he[3]=ge[3]*Se[3],he}(D,D,[te,te,u?1/D[3]:te,te])}),T=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(k=>{const D=vs([],wp([],Bl([],v[k[0]],v[k[1]]),Bl([],v[k[2]],v[k[1]]))),te=-il(D,v[k[1]]);return D.concat(te)});return new Om(v,T)}}class Io{static fromPoints(t){const r=[1/0,1/0,1/0],c=[-1/0,-1/0,-1/0];for(const u of t)hc(r,r,u),un(c,c,u);return new Io(r,c)}static applyTransform(t,r){const c=t.getCorners();for(let u=0;u<c.length;++u)Qr(c[u],c[u],r);return Io.fromPoints(c)}constructor(t,r){this.min=t,this.max=r,this.center=ko([],zl([],this.min,this.max),.5)}quadrant(t){const r=[t%2==0,t<2],c=V1(this.min),u=V1(this.max);for(let g=0;g<r.length;g++)c[g]=r[g]?this.min[g]:this.center[g],u[g]=r[g]?this.center[g]:this.max[g];return u[2]=this.max[2],new Io(c,u)}distanceX(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]}distanceY(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]}distanceZ(t){return Math.max(Math.min(this.max[2],t[2]),this.min[2])-t[2]}getCorners(){const t=this.min,r=this.max;return[[t[0],t[1],t[2]],[r[0],t[1],t[2]],[r[0],r[1],t[2]],[t[0],r[1],t[2]],[t[0],t[1],r[2]],[r[0],t[1],r[2]],[r[0],r[1],r[2]],[t[0],r[1],r[2]]]}intersects(t){const r=this.getCorners();let c=!0;for(let u=0;u<t.planes.length;u++){const g=t.planes[u];let v=0;for(let T=0;T<r.length;T++)v+=il(g,r[T])+g[3]>=0;if(v===0)return 0;v!==r.length&&(c=!1)}if(c)return 2;for(let u=0;u<3;u++){let g=Number.MAX_VALUE,v=-Number.MAX_VALUE;for(let T=0;T<t.points.length;T++){const k=t.points[T][u]-this.min[u];g=Math.min(g,k),v=Math.max(v,k)}if(v<0||g>this.max[u]-this.min[u])return 0}return 1}}const uc=ln/Math.PI/2,Cd=64,du=[Cd,32,16],Ia=-uc,nl=uc,Rm=[new Io([Ia,Ia,Ia],[nl,nl,nl]),new Io([Ia,Ia,Ia],[0,0,nl]),new Io([0,Ia,Ia],[nl,0,nl]),new Io([Ia,0,Ia],[0,nl,nl]),new Io([0,0,Ia],[nl,nl,nl])];function Sp(n){return n*uc/Mp}function uu(n,t,r,c=!0){const u=ko([],n._camera.position,n.worldSize),g=[t,r,1,1];Ed(g,g,n.pixelMatrixInverse),Lm(g,g,1/g[3]);const v=vs([],Bl([],g,u)),T=n.globeMatrix,k=[T[12],T[13],T[14]],D=Bl([],k,u),te=Pa(D),he=vs([],D),ge=n.worldSize/(2*Math.PI),Se=il(he,v),Ae=Math.asin(ge/te);if(Ae<Math.acos(Se)){if(!c)return null;const wi=[],Kt=[];ko(wi,v,te/Se),vs(Kt,Bl(Kt,wi,D)),vs(v,zl(v,D,ko(v,Kt,Math.tan(Ae)*te)))}const ze=[];new $f(u,v).closestPointOnSphere(k,ge,ze);const Xe=vs([],ht(T,0)),lt=vs([],ht(T,1)),_t=vs([],ht(T,2)),at=il(Xe,ze),mt=il(lt,ze),Tt=il(_t,ze),bt=$(Math.asin(-mt/ge));let qt=$(Math.atan2(at,Tt));qt=n.center.lng+function(wi,Kt){const ai=(Kt-wi+180)%360-180;return ai<-180?ai+360:ai}(n.center.lng,qt);const $t=fc(qt),ni=A(mc(bt),0,1);return new gu($t,ni)}class zm{constructor(t,r,c){this.a=Bl([],t,c),this.b=Bl([],r,c),this.center=c;const u=vs([],this.a),g=vs([],this.b);this.angle=Math.acos(il(u,g))}}function qf(n,t){if(n.angle===0)return null;let r;return r=n.a[t]===0?1/n.angle*.5*Math.PI:1/n.angle*Math.atan(n.b[t]/n.a[t]/Math.sin(n.angle)-1/Math.tan(n.angle)),r<0||r>1?null:function(c,u,g,v){const T=Math.sin(g);return c*(Math.sin((1-v)*g)/T)+u*(Math.sin(v*g)/T)}(n.a[t],n.b[t],n.angle,A(r,0,1))+n.center[t]}function Fl(n){if(n.z<=1)return Rm[n.z+2*n.y+n.x];const t=Yf(Xf(n));return Io.fromPoints(t)}function pc(n,t,r){return ko(n,n,1-r),Sd(n,n,t,r)}function Bm(n,t){const r=mu(t.zoom);if(r===0)return Fl(n);const c=Xf(n),u=Yf(c),g=fc(c.getWest())*t.worldSize,v=fc(c.getEast())*t.worldSize,T=mc(c.getNorth())*t.worldSize,k=mc(c.getSouth())*t.worldSize,D=[g,T,0],te=[v,T,0],he=[g,k,0],ge=[v,k,0],Se=Gf([],t.globeMatrix);return Qr(D,D,Se),Qr(te,te,Se),Qr(he,he,Se),Qr(ge,ge,Se),u[0]=pc(u[0],he,r),u[1]=pc(u[1],ge,r),u[2]=pc(u[2],te,r),u[3]=pc(u[3],D,r),Io.fromPoints(u)}function Nl(n,t,r){for(const c of n)Qr(c,c,t),ko(c,c,r)}function Md(n,t,r){const c=t/n.worldSize,u=n.globeMatrix;if(r.z<=1){const $t=Fl(r).getCorners();return Nl($t,u,c),Io.fromPoints($t)}const g=Xf(r),v=Yf(g);Nl(v,u,c);const T=Number.MAX_VALUE,k=[-T,-T,-T],D=[T,T,T];if(g.contains(n.center)){for(const wi of v)hc(D,D,wi),un(k,k,wi);k[2]=0;const $t=n.point,ni=[$t.x*c,$t.y*c,0];return hc(D,D,ni),un(k,k,ni),new Io(D,k)}const te=[u[12]*c,u[13]*c,u[14]*c],he=g.getCenter(),ge=A(n.center.lat,-Ir,Ir),Se=A(he.lat,-Ir,Ir),Ae=fc(n.center.lng),ze=mc(ge);let Xe=Ae-fc(he.lng);const lt=ze-mc(Se);Xe>.5?Xe-=1:Xe<-.5&&(Xe+=1);let _t=0;Math.abs(Xe)>Math.abs(lt)?_t=Xe>=0?1:3:(_t=lt>=0?0:2,Sd(te,te,[u[4]*c,u[5]*c,u[6]*c],-Math.sin(I(lt>=0?g.getSouth():g.getNorth()))*uc));const at=v[_t],mt=v[(_t+1)%4],Tt=new zm(at,mt,te),bt=[qf(Tt,0)||at[0],qf(Tt,1)||at[1],qf(Tt,2)||at[2]],qt=mu(n.zoom);if(qt>0){const $t=function({x:wi,y:Kt,z:ai},ci,yi,Ti,ei){const Pi=1/(1<<ai);let an=wi*Pi,Bi=an+Pi,Wi=Kt*Pi,Ii=Wi+Pi,cn=0;const Wn=(an+Bi)/2-Ti;return Wn>.5?cn=-1:Wn<-.5&&(cn=1),an=((an+cn)*ci-(Ti*=ci))*yi+Ti,Bi=((Bi+cn)*ci-Ti)*yi+Ti,Wi=(Wi*ci-(ei*=ci))*yi+ei,Ii=(Ii*ci-ei)*yi+ei,[[an,Ii,0],[Bi,Ii,0],[Bi,Wi,0],[an,Wi,0]]}(r,t,n._pixelsPerMercatorPixel,Ae,ze);for(let wi=0;wi<v.length;wi++)pc(v[wi],$t[wi],qt);const ni=zl([],$t[_t],$t[(_t+1)%4]);ko(ni,ni,.5),pc(bt,ni,qt)}for(const $t of v)hc(D,D,$t),un(k,k,$t);return D[2]=Math.min(at[2],mt[2]),hc(D,D,bt),un(k,k,bt),new Io(D,k)}function Xf({x:n,y:t,z:r}){const c=1/(1<<r),u=new Zn(La(n*c),to((t+1)*c)),g=new Zn(La((n+1)*c),to(t*c));return new Ol(u,g)}function Yf(n){const t=I(n.getNorth()),r=I(n.getSouth()),c=Math.cos(t),u=Math.cos(r),g=Math.sin(t),v=Math.sin(r),T=n.getWest(),k=n.getEast();return[pu(u,v,T),pu(u,v,k),pu(c,g,k),pu(c,g,T)]}function pu(n,t,r,c=uc){return r=I(r),[n*Math.sin(r)*c,-t*c,n*Math.cos(r)*c]}function fu(n,t,r){return pu(Math.cos(I(n)),Math.sin(I(n)),t,r)}function Ep(n,t,r,c){const u=1<<r.z,g=(n/ln+r.x)/u;return fu(to((t/ln+r.y)/u),La(g),c)}function Zf({min:n,max:t}){return 16383/Math.max(t[0]-n[0],t[1]-n[1],t[2]-n[2])}const X1=new Float64Array(16);function Cp(n){const t=Zf(n),r=Pm(X1,[t,t,t]);return yp(r,r,((c=[])[0]=-(u=n.min)[0],c[1]=-u[1],c[2]=-u[2],c));var c,u}function Fm(n){const t=(c=n.min,(r=X1)[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=c[0],r[13]=c[1],r[14]=c[2],r[15]=1,r);var r,c;const u=1/Zf(n);return Dh(t,t,[u,u,u])}function Y1(n,t,r,c,u){const g=function(k){const D=ln/(2*Math.PI);return k/(2*Math.PI)/D}(r),v=[n,t,-r/(2*Math.PI)],T=la(new Float64Array(16));return yp(T,T,v),Dh(T,T,[g,g,g]),Rl(T,T,I(-u)),vp(T,T,I(-c)),T}function mu(n){return O(5,6,n)}function Z1(n,t){const r=fu(t.lat,t.lng),c=function(Ae){const ze=fu(Ae._center.lat,Ae._center.lng);let Xe=wp([],Oh(0,1,0),ze);const lt=j1([],-Ae.angle,ze);Xe=Qr(Xe,Xe,lt),j1(lt,-Ae._pitch,Xe);const _t=vs([],ze);return ko(_t,_t,Sp(Ae.cameraToCenterDistance/Ae.pixelsPerMeter)),Qr(_t,_t,lt),zl([],ze,_t)}(n);return v=(u=xp([],c,r))[0],T=u[1],k=u[2],D=(g=r)[0],te=g[1],he=g[2],Se=(ge=Math.sqrt(v*v+T*T+k*k)*Math.sqrt(D*D+te*te+he*he))&&il(u,g)/ge,Math.acos(Math.min(Math.max(Se,-1),1));var u,g,v,T,k,D,te,he,ge,Se}function Nm(n,t){return Z1(n,t)>Math.PI/2*1.01}const jm=I(85),K1=Math.cos(jm),J1=Math.sin(jm),Mp=63710088e-1,Q1=2*Math.PI*Mp;class Zn{constructor(t,r){if(isNaN(t)||isNaN(r))throw new Error(`Invalid LngLat object: (${t}, ${r})`);if(this.lng=+t,this.lat=+r,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Zn(Q(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(t){const r=Math.PI/180,c=this.lat*r,u=t.lat*r,g=Math.sin(c)*Math.sin(u)+Math.cos(c)*Math.cos(u)*Math.cos((t.lng-this.lng)*r);return Mp*Math.acos(Math.min(g,1))}toBounds(t=0){const r=360*t/40075017,c=r/Math.cos(Math.PI/180*this.lat);return new Ol(new Zn(this.lng-c,this.lat-r),new Zn(this.lng+c,this.lat+r))}toEcef(t){const r=Sp(t);return fu(this.lat,this.lng,uc+r)}static convert(t){if(t instanceof Zn)return t;if(Array.isArray(t)&&(t.length===2||t.length===3))return new Zn(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&typeof t=="object"&&t!==null)return new Zn(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}function Kf(n){return Q1*Math.cos(n*Math.PI/180)}function fc(n){return(180+n)/360}function mc(n){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+n*Math.PI/360)))/360}function jl(n,t){return n/Kf(t)}function La(n){return 360*n-180}function to(n){return 360/Math.PI*Math.atan(Math.exp((180-360*n)*Math.PI/180))-90}function e_(n,t){return n*Kf(to(t))}const Ir=85.051129;function t_(n){return 1/Math.cos(n*Math.PI/180)}class gu{constructor(t,r,c=0){this.x=+t,this.y=+r,this.z=+c}static fromLngLat(t,r=0){const c=Zn.convert(t);return new gu(fc(c.lng),mc(c.lat),jl(r,c.lat))}toLngLat(){return new Zn(La(this.x),to(this.y))}toAltitude(){return e_(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Q1*t_(to(this.y))}}function Um(n,t,r,c,u,g,v,T,k){const D=(t+c)/2,te=(r+u)/2,he=new R(D,te);T(he),function(ge,Se,Ae,ze,Xe,lt){const _t=Ae-Xe,at=ze-lt;return Math.abs((ze-Se)*_t-(Ae-ge)*at)/Math.hypot(_t,at)}(he.x,he.y,g.x,g.y,v.x,v.y)>=k?(Um(n,t,r,D,te,g,he,T,k),Um(n,D,te,c,u,he,v,T,k)):n.push(v)}function Vm(n,t,r){let c=n[0],u=c.x,g=c.y;t(c);const v=[c];for(let T=1;T<n.length;T++){const k=n[T],{x:D,y:te}=k;t(k),Um(v,u,g,D,te,c,k,t,r),u=D,g=te,c=k}return v}function Gm(n,t,r,c){if(c(t,r)){const u=t.add(r)._mult(.5);Gm(n,t,u,c),Gm(n,u,r,c)}else n.push(r)}function k2(n,t){let r=n[0];const c=[r];for(let u=1;u<n.length;u++){const g=n[u];Gm(c,r,g,t),r=g}return c}const Wm=Math.pow(2,14)-1,i_=-Wm-1;function $m(n,t){const r=Math.round(n.x*t),c=Math.round(n.y*t);return n.x=A(r,i_,Wm),n.y=A(c,i_,Wm),(r<n.x||r>n.x+1||c<n.y||c>n.y+1)&&Y("Geometry exceeds allowed extent, reduce your vector tile buffer size"),n}function Zc(n,t,r){const c=n.loadGeometry(),u=n.extent,g=ln/u;if(t&&r&&r.projection.isReprojectedInTileSpace){const v=1<<t.z,{scale:T,x:k,y:D,projection:te}=r,he=ge=>{const Se=La((t.x+ge.x/u)/v),Ae=to((t.y+ge.y/u)/v),ze=te.project(Se,Ae);ge.x=(ze.x*T-k)*u,ge.y=(ze.y*T-D)*u};for(let ge=0;ge<c.length;ge++)if(n.type!==1)c[ge]=Vm(c[ge],he,1);else{const Se=[];for(const Ae of c[ge])Ae.x<0||Ae.x>=u||Ae.y<0||Ae.y>=u||(he(Ae),Se.push(Ae));c[ge]=Se}}for(const v of c)for(const T of v)$m(T,g);return c}function Ad(n,t){return{type:n.type,id:n.id,properties:n.properties,geometry:t?Zc(n):[]}}function Jf(n,t,r,c,u){n.emplaceBack(2*t+(c+1)/2,2*r+(u+1)/2)}function Qf(n,t,r){n.emplaceBack(t.x,t.y,t.z,r[0]*16384,r[1]*16384,r[2]*16384)}class Hm{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(r=>r.id),this.index=t.index,this.hasPattern=!1,this.projection=t.projection,this.layoutVertexArray=new nn,this.indexArray=new Gs,this.segments=new qr,this.programConfigurations=new tl(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(r=>r.isStateDependent()).map(r=>r.id)}populate(t,r,c,u){const g=this.layers[0],v=[];let T=null;g.type==="circle"&&(T=g.layout.get("circle-sort-key"));for(const{feature:D,id:te,index:he,sourceLayerIndex:ge}of t){const Se=this.layers[0]._featureFilter.needGeometry,Ae=Ad(D,Se);if(!this.layers[0]._featureFilter.filter(new Rt(this.zoom),Ae,c))continue;const ze=T?T.evaluate(Ae,{},c):void 0,Xe={id:te,properties:D.properties,type:D.type,sourceLayerIndex:ge,index:he,geometry:Se?Ae.geometry:Zc(D,c,u),patterns:{},sortKey:ze};v.push(Xe)}T&&v.sort((D,te)=>D.sortKey-te.sortKey);let k=null;u.projection.name==="globe"&&(this.globeExtVertexArray=new ra,k=u.projection);for(const D of v){const{geometry:te,index:he,sourceLayerIndex:ge}=D,Se=t[he].feature;this.addFeature(D,te,he,r.availableImages,c,k),r.featureIndex.insert(Se,te,he,ge,this.index)}}update(t,r,c,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,c,u)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,B1.members),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=t.createVertexBuffer(this.globeExtVertexArray,F1.members))),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(t,r,c,u,g,v){for(const T of r)for(const k of T){const D=k.x,te=k.y;if(D<0||D>=ln||te<0||te>=ln)continue;if(v){const Se=v.projectTilePoint(D,te,g),Ae=v.upVector(g,D,te),ze=this.globeExtVertexArray;Qf(ze,Se,Ae),Qf(ze,Se,Ae),Qf(ze,Se,Ae),Qf(ze,Se,Ae)}const he=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),ge=he.vertexLength;Jf(this.layoutVertexArray,D,te,-1,-1),Jf(this.layoutVertexArray,D,te,1,-1),Jf(this.layoutVertexArray,D,te,1,1),Jf(this.layoutVertexArray,D,te,-1,1),this.indexArray.emplaceBack(ge,ge+1,ge+2),this.indexArray.emplaceBack(ge,ge+2,ge+3),he.vertexLength+=4,he.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,c,{},u,g)}}function n_(n,t){for(let r=0;r<n.length;r++)if(kd(t,n[r]))return!0;for(let r=0;r<t.length;r++)if(kd(n,t[r]))return!0;return!!qm(n,t)}function P2(n,t,r){return!!kd(n,t)||!!Xm(t,n,r)}function r_(n,t){if(n.length===1)return o_(t,n[0]);for(let r=0;r<t.length;r++){const c=t[r];for(let u=0;u<c.length;u++)if(kd(n,c[u]))return!0}for(let r=0;r<n.length;r++)if(o_(t,n[r]))return!0;for(let r=0;r<t.length;r++)if(qm(n,t[r]))return!0;return!1}function I2(n,t,r){if(n.length>1){if(qm(n,t))return!0;for(let c=0;c<t.length;c++)if(Xm(t[c],n,r))return!0}for(let c=0;c<n.length;c++)if(Xm(n[c],t,r))return!0;return!1}function qm(n,t){if(n.length===0||t.length===0)return!1;for(let r=0;r<n.length-1;r++){const c=n[r],u=n[r+1];for(let g=0;g<t.length-1;g++)if(L2(c,u,t[g],t[g+1]))return!0}return!1}function L2(n,t,r,c){return de(n,r,c)!==de(t,r,c)&&de(n,t,r)!==de(n,t,c)}function Xm(n,t,r){const c=r*r;if(t.length===1)return n.distSqr(t[0])<c;for(let u=1;u<t.length;u++)if(s_(n,t[u-1],t[u])<c)return!0;return!1}function s_(n,t,r){const c=t.distSqr(r);if(c===0)return n.distSqr(t);const u=((n.x-t.x)*(r.x-t.x)+(n.y-t.y)*(r.y-t.y))/c;return n.distSqr(u<0?t:u>1?r:r.sub(t)._mult(u)._add(t))}function o_(n,t){let r,c,u,g=!1;for(let v=0;v<n.length;v++){r=n[v];for(let T=0,k=r.length-1;T<r.length;k=T++)c=r[T],u=r[k],c.y>t.y!=u.y>t.y&&t.x<(u.x-c.x)*(t.y-c.y)/(u.y-c.y)+c.x&&(g=!g)}return g}function kd(n,t){let r=!1;for(let c=0,u=n.length-1;c<n.length;u=c++){const g=n[c],v=n[u];g.y>t.y!=v.y>t.y&&t.x<(v.x-g.x)*(t.y-g.y)/(v.y-g.y)+g.x&&(r=!r)}return r}function a_(n,t,r,c,u){for(const v of n)if(t<=v.x&&r<=v.y&&c>=v.x&&u>=v.y)return!0;const g=[new R(t,r),new R(t,u),new R(c,u),new R(c,r)];if(n.length>2){for(const v of g)if(kd(n,v))return!0}for(let v=0;v<n.length-1;v++)if(D2(n[v],n[v+1],g))return!0;return!1}function D2(n,t,r){const c=r[0],u=r[2];if(n.x<c.x&&t.x<c.x||n.x>u.x&&t.x>u.x||n.y<c.y&&t.y<c.y||n.y>u.y&&t.y>u.y)return!1;const g=de(n,t,r[0]);return g!==de(n,t,r[1])||g!==de(n,t,r[2])||g!==de(n,t,r[3])}function _u(n,t,r){const c=t.paint.get(n).value;return c.kind==="constant"?c.value:r.programConfigurations.get(t.id).getMaxValue(n)}function e0(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function l_(n,t,r,c,u){if(!t[0]&&!t[1])return n;const g=R.convert(t)._mult(u);r==="viewport"&&g._rotate(-c);const v=[];for(let T=0;T<n.length;T++)v.push(n[T].sub(g));return v}function t0(n,t,r,c){const u=R.convert(n)._mult(c);return t==="viewport"&&u._rotate(-r),u}Ri(Hm,"CircleBucket",{omit:["layers"]});const c_=new fi({"circle-sort-key":new Xt(ti.layout_circle["circle-sort-key"])});var O2={paint:new fi({"circle-radius":new Xt(ti.paint_circle["circle-radius"]),"circle-color":new Xt(ti.paint_circle["circle-color"]),"circle-blur":new Xt(ti.paint_circle["circle-blur"]),"circle-opacity":new Xt(ti.paint_circle["circle-opacity"]),"circle-translate":new Dt(ti.paint_circle["circle-translate"]),"circle-translate-anchor":new Dt(ti.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Dt(ti.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Dt(ti.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Xt(ti.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Xt(ti.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Xt(ti.paint_circle["circle-stroke-opacity"])}),layout:c_};function h_(n,t,r,c,u,g,v,T,k){if(g&&n.queryGeometry.isAboveHorizon)return!1;g&&(k*=n.pixelToTileUnitsFactor);const D=n.tileID.canonical,te=r.projection.upVectorScale(D,r.center.lat,r.worldSize).metersToTile;for(const he of t)for(const ge of he){const Se=ge.add(T),Ae=u&&r.elevation?r.elevation.exaggeration()*u.getElevationAt(Se.x,Se.y,!0):0,ze=r.projection.projectTilePoint(Se.x,Se.y,D);if(Ae>0){const at=r.projection.upVector(D,Se.x,Se.y);ze.x+=at[0]*te*Ae,ze.y+=at[1]*te*Ae,ze.z+=at[2]*te*Ae}const Xe=g?Se:R2(ze.x,ze.y,ze.z,c),lt=g?n.tilespaceRays.map(at=>B2(at,Ae)):n.queryGeometry.screenGeometry,_t=Ed([],[ze.x,ze.y,ze.z,1],c);if(!v&&g?k*=_t[3]/r.cameraToCenterDistance:v&&!g&&(k*=r.cameraToCenterDistance/_t[3]),g){const at=to((ge.y/ln+D.y)/(1<<D.z));k/=r.projection.pixelsPerMeter(at,1)/jl(1,at)}if(P2(lt,Xe,k))return!0}return!1}function R2(n,t,r,c){const u=Ed([],[n,t,r,1],c);return new R(u[0]/u[3],u[1]/u[3])}const d_=Oh(0,0,0),z2=Oh(0,0,1);function B2(n,t){const r=Im();return d_[2]=t,n.intersectsPlane(d_,z2,r),new R(r[0],r[1])}class u_ extends Hm{}function p_(n,{width:t,height:r},c,u){if(u){if(u instanceof Uint8ClampedArray)u=new Uint8Array(u.buffer);else if(u.length!==t*r*c)throw new RangeError("mismatched image size")}else u=new Uint8Array(t*r*c);return n.width=t,n.height=r,n.data=u,n}function Ym(n,t,r){const{width:c,height:u}=t;c===n.width&&u===n.height||(Zm(n,t,{x:0,y:0},{x:0,y:0},{width:Math.min(n.width,c),height:Math.min(n.height,u)},r),n.width=c,n.height=u,n.data=t.data)}function Zm(n,t,r,c,u,g){if(u.width===0||u.height===0)return t;if(u.width>n.width||u.height>n.height||r.x>n.width-u.width||r.y>n.height-u.height)throw new RangeError("out of range source coordinates for image copy");if(u.width>t.width||u.height>t.height||c.x>t.width-u.width||c.y>t.height-u.height)throw new RangeError("out of range destination coordinates for image copy");const v=n.data,T=t.data;for(let k=0;k<u.height;k++){const D=((r.y+k)*n.width+r.x)*g,te=((c.y+k)*t.width+c.x)*g;for(let he=0;he<u.width*g;he++)T[te+he]=v[D+he]}return t}Ri(u_,"HeatmapBucket",{omit:["layers"]});class rl{constructor(t,r){p_(this,t,1,r)}resize(t){Ym(this,new rl(t),1)}clone(){return new rl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,r,c,u,g){Zm(t,r,c,u,g,1)}}class ca{constructor(t,r){p_(this,t,4,r)}resize(t){Ym(this,new ca(t),4)}replace(t,r){r?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t}clone(){return new ca({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,r,c,u,g){Zm(t,r,c,u,g,4)}}Ri(rl,"AlphaImage"),Ri(ca,"RGBAImage");var F2={paint:new fi({"heatmap-radius":new Xt(ti.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Xt(ti.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Dt(ti.paint_heatmap["heatmap-intensity"]),"heatmap-color":new di(ti.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Dt(ti.paint_heatmap["heatmap-opacity"])})};function Km(n){const t={},r=n.resolution||256,c=n.clips?n.clips.length:1,u=n.image||new ca({width:r,height:c}),g=(v,T,k)=>{t[n.evaluationKey]=k;const D=n.expression.evaluate(t);u.data[v+T+0]=Math.floor(255*D.r/D.a),u.data[v+T+1]=Math.floor(255*D.g/D.a),u.data[v+T+2]=Math.floor(255*D.b/D.a),u.data[v+T+3]=Math.floor(255*D.a)};if(n.clips)for(let v=0,T=0;v<c;++v,T+=4*r)for(let k=0,D=0;k<r;k++,D+=4){const te=k/(r-1),{start:he,end:ge}=n.clips[v];g(T,D,he*(1-te)+ge*te)}else for(let v=0,T=0;v<r;v++,T+=4)g(0,T,v/(r-1));return u}var N2={paint:new fi({"hillshade-illumination-direction":new Dt(ti.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Dt(ti.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Dt(ti.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Dt(ti.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Dt(ti.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Dt(ti.paint_hillshade["hillshade-accent-color"])})};const j2=Zi([{name:"a_pos",components:2,type:"Int16"}],4),{members:U2}=j2;var yu={};function i0(n,t,r){r=r||2;var c,u,g,v,T,k,D,te=t&&t.length,he=te?t[0]*r:n.length,ge=f_(n,0,he,r,!0),Se=[];if(!ge||ge.next===ge.prev)return Se;if(te&&(ge=function(ze,Xe,lt,_t){var at,mt,Tt,bt=[];for(at=0,mt=Xe.length;at<mt;at++)(Tt=f_(ze,Xe[at]*_t,at<mt-1?Xe[at+1]*_t:ze.length,_t,!1))===Tt.next&&(Tt.steiner=!0),bt.push(q2(Tt));for(bt.sort(H2),at=0;at<bt.length;at++)lt=m_(bt[at],lt);return lt}(n,t,ge,r)),n.length>80*r){c=g=n[0],u=v=n[1];for(var Ae=r;Ae<he;Ae+=r)(T=n[Ae])<c&&(c=T),(k=n[Ae+1])<u&&(u=k),T>g&&(g=T),k>v&&(v=k);D=(D=Math.max(g-c,v-u))!==0?32767/D:0}return Ap(ge,Se,r,c,u,D,0),Se}function f_(n,t,r,c,u){var g,v;if(u===eg(n,t,r,c)>0)for(g=t;g<r;g+=c)v=v_(g,n[g],n[g+1],v);else for(g=r-c;g>=t;g-=c)v=v_(g,n[g],n[g+1],v);return v&&n0(v,v.next)&&(Pp(v),v=v.next),v}function Pd(n,t){if(!n)return n;t||(t=n);var r,c=n;do if(r=!1,c.steiner||!n0(c,c.next)&&Xr(c.prev,c,c.next)!==0)c=c.next;else{if(Pp(c),(c=t=c.prev)===c.next)break;r=!0}while(r||c!==t);return t}function Ap(n,t,r,c,u,g,v){if(n){!v&&g&&function(te,he,ge,Se){var Ae=te;do Ae.z===0&&(Ae.z=Jm(Ae.x,Ae.y,he,ge,Se)),Ae.prevZ=Ae.prev,Ae.nextZ=Ae.next,Ae=Ae.next;while(Ae!==te);Ae.prevZ.nextZ=null,Ae.prevZ=null,function(ze){var Xe,lt,_t,at,mt,Tt,bt,qt,$t=1;do{for(lt=ze,ze=null,mt=null,Tt=0;lt;){for(Tt++,_t=lt,bt=0,Xe=0;Xe<$t&&(bt++,_t=_t.nextZ);Xe++);for(qt=$t;bt>0||qt>0&&_t;)bt!==0&&(qt===0||!_t||lt.z<=_t.z)?(at=lt,lt=lt.nextZ,bt--):(at=_t,_t=_t.nextZ,qt--),mt?mt.nextZ=at:ze=at,at.prevZ=mt,mt=at;lt=_t}mt.nextZ=null,$t*=2}while(Tt>1)}(Ae)}(n,c,u,g);for(var T,k,D=n;n.prev!==n.next;)if(T=n.prev,k=n.next,g?G2(n,c,u,g):V2(n))t.push(T.i/r|0),t.push(n.i/r|0),t.push(k.i/r|0),Pp(n),n=k.next,D=k.next;else if((n=k)===D){v?v===1?Ap(n=W2(Pd(n),t,r),t,r,c,u,g,2):v===2&&$2(n,t,r,c,u,g):Ap(Pd(n),t,r,c,u,g,1);break}}}function V2(n){var t=n.prev,r=n,c=n.next;if(Xr(t,r,c)>=0)return!1;for(var u=t.x,g=r.x,v=c.x,T=t.y,k=r.y,D=c.y,te=u<g?u<v?u:v:g<v?g:v,he=T<k?T<D?T:D:k<D?k:D,ge=u>g?u>v?u:v:g>v?g:v,Se=T>k?T>D?T:D:k>D?k:D,Ae=c.next;Ae!==t;){if(Ae.x>=te&&Ae.x<=ge&&Ae.y>=he&&Ae.y<=Se&&vu(u,T,g,k,v,D,Ae.x,Ae.y)&&Xr(Ae.prev,Ae,Ae.next)>=0)return!1;Ae=Ae.next}return!0}function G2(n,t,r,c){var u=n.prev,g=n,v=n.next;if(Xr(u,g,v)>=0)return!1;for(var T=u.x,k=g.x,D=v.x,te=u.y,he=g.y,ge=v.y,Se=T<k?T<D?T:D:k<D?k:D,Ae=te<he?te<ge?te:ge:he<ge?he:ge,ze=T>k?T>D?T:D:k>D?k:D,Xe=te>he?te>ge?te:ge:he>ge?he:ge,lt=Jm(Se,Ae,t,r,c),_t=Jm(ze,Xe,t,r,c),at=n.prevZ,mt=n.nextZ;at&&at.z>=lt&&mt&&mt.z<=_t;){if(at.x>=Se&&at.x<=ze&&at.y>=Ae&&at.y<=Xe&&at!==u&&at!==v&&vu(T,te,k,he,D,ge,at.x,at.y)&&Xr(at.prev,at,at.next)>=0||(at=at.prevZ,mt.x>=Se&&mt.x<=ze&&mt.y>=Ae&&mt.y<=Xe&&mt!==u&&mt!==v&&vu(T,te,k,he,D,ge,mt.x,mt.y)&&Xr(mt.prev,mt,mt.next)>=0))return!1;mt=mt.nextZ}for(;at&&at.z>=lt;){if(at.x>=Se&&at.x<=ze&&at.y>=Ae&&at.y<=Xe&&at!==u&&at!==v&&vu(T,te,k,he,D,ge,at.x,at.y)&&Xr(at.prev,at,at.next)>=0)return!1;at=at.prevZ}for(;mt&&mt.z<=_t;){if(mt.x>=Se&&mt.x<=ze&&mt.y>=Ae&&mt.y<=Xe&&mt!==u&&mt!==v&&vu(T,te,k,he,D,ge,mt.x,mt.y)&&Xr(mt.prev,mt,mt.next)>=0)return!1;mt=mt.nextZ}return!0}function W2(n,t,r){var c=n;do{var u=c.prev,g=c.next.next;!n0(u,g)&&__(u,c,c.next,g)&&kp(u,g)&&kp(g,u)&&(t.push(u.i/r|0),t.push(c.i/r|0),t.push(g.i/r|0),Pp(c),Pp(c.next),c=n=g),c=c.next}while(c!==n);return Pd(c)}function $2(n,t,r,c,u,g){var v=n;do{for(var T=v.next.next;T!==v.prev;){if(v.i!==T.i&&X2(v,T)){var k=y_(v,T);return v=Pd(v,v.next),k=Pd(k,k.next),Ap(v,t,r,c,u,g,0),void Ap(k,t,r,c,u,g,0)}T=T.next}v=v.next}while(v!==n)}function H2(n,t){return n.x-t.x}function m_(n,t){var r=function(u,g){var v,T=g,k=u.x,D=u.y,te=-1/0;do{if(D<=T.y&&D>=T.next.y&&T.next.y!==T.y){var he=T.x+(D-T.y)*(T.next.x-T.x)/(T.next.y-T.y);if(he<=k&&he>te&&(te=he,v=T.x<T.next.x?T:T.next,he===k))return v}T=T.next}while(T!==g);if(!v)return null;var ge,Se=v,Ae=v.x,ze=v.y,Xe=1/0;T=v;do k>=T.x&&T.x>=Ae&&k!==T.x&&vu(D<ze?k:te,D,Ae,ze,D<ze?te:k,D,T.x,T.y)&&(ge=Math.abs(D-T.y)/(k-T.x),kp(T,u)&&(ge<Xe||ge===Xe&&(T.x>v.x||T.x===v.x&&g_(v,T)))&&(v=T,Xe=ge)),T=T.next;while(T!==Se);return v}(n,t);if(!r)return t;var c=y_(r,n);return Pd(c,c.next),Pd(r,r.next)}function g_(n,t){return Xr(n.prev,n,t.prev)<0&&Xr(t.next,n,n.next)<0}function Jm(n,t,r,c,u){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-r)*u|0)|n<<8))|n<<4))|n<<2))|n<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-c)*u|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function q2(n){var t=n,r=n;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==n);return r}function vu(n,t,r,c,u,g,v,T){return(u-v)*(t-T)>=(n-v)*(g-T)&&(n-v)*(c-T)>=(r-v)*(t-T)&&(r-v)*(g-T)>=(u-v)*(c-T)}function X2(n,t){return n.next.i!==t.i&&n.prev.i!==t.i&&!function(r,c){var u=r;do{if(u.i!==r.i&&u.next.i!==r.i&&u.i!==c.i&&u.next.i!==c.i&&__(u,u.next,r,c))return!0;u=u.next}while(u!==r);return!1}(n,t)&&(kp(n,t)&&kp(t,n)&&function(r,c){var u=r,g=!1,v=(r.x+c.x)/2,T=(r.y+c.y)/2;do u.y>T!=u.next.y>T&&u.next.y!==u.y&&v<(u.next.x-u.x)*(T-u.y)/(u.next.y-u.y)+u.x&&(g=!g),u=u.next;while(u!==r);return g}(n,t)&&(Xr(n.prev,n,t.prev)||Xr(n,t.prev,t))||n0(n,t)&&Xr(n.prev,n,n.next)>0&&Xr(t.prev,t,t.next)>0)}function Xr(n,t,r){return(t.y-n.y)*(r.x-t.x)-(t.x-n.x)*(r.y-t.y)}function n0(n,t){return n.x===t.x&&n.y===t.y}function __(n,t,r,c){var u=s0(Xr(n,t,r)),g=s0(Xr(n,t,c)),v=s0(Xr(r,c,n)),T=s0(Xr(r,c,t));return u!==g&&v!==T||!(u!==0||!r0(n,r,t))||!(g!==0||!r0(n,c,t))||!(v!==0||!r0(r,n,c))||!(T!==0||!r0(r,t,c))}function r0(n,t,r){return t.x<=Math.max(n.x,r.x)&&t.x>=Math.min(n.x,r.x)&&t.y<=Math.max(n.y,r.y)&&t.y>=Math.min(n.y,r.y)}function s0(n){return n>0?1:n<0?-1:0}function kp(n,t){return Xr(n.prev,n,n.next)<0?Xr(n,t,n.next)>=0&&Xr(n,n.prev,t)>=0:Xr(n,t,n.prev)<0||Xr(n,n.next,t)<0}function y_(n,t){var r=new Qm(n.i,n.x,n.y),c=new Qm(t.i,t.x,t.y),u=n.next,g=t.prev;return n.next=t,t.prev=n,r.next=u,u.prev=r,c.next=r,r.prev=c,g.next=c,c.prev=g,c}function v_(n,t,r,c){var u=new Qm(n,t,r);return c?(u.next=c.next,u.prev=c,c.next.prev=u,c.next=u):(u.prev=u,u.next=u),u}function Pp(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Qm(n,t,r){this.i=n,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function eg(n,t,r,c){for(var u=0,g=t,v=r-c;g<r;g+=c)u+=(n[v]-n[g])*(n[g+1]+n[v+1]),v=g;return u}function Y2(n,t,r,c,u){Ip(n,t,r||0,c||n.length-1,u||x_)}function Ip(n,t,r,c,u){for(;c>r;){if(c-r>600){var g=c-r+1,v=t-r+1,T=Math.log(g),k=.5*Math.exp(2*T/3),D=.5*Math.sqrt(T*k*(g-k)/g)*(v-g/2<0?-1:1);Ip(n,t,Math.max(r,Math.floor(t-v*k/g+D)),Math.min(c,Math.floor(t+(g-v)*k/g+D)),u)}var te=n[t],he=r,ge=c;for(Lp(n,r,t),u(n[c],te)>0&&Lp(n,r,c);he<ge;){for(Lp(n,he,ge),he++,ge--;u(n[he],te)<0;)he++;for(;u(n[ge],te)>0;)ge--}u(n[r],te)===0?Lp(n,r,ge):Lp(n,++ge,c),ge<=t&&(r=ge+1),t<=ge&&(c=ge-1)}}function Lp(n,t,r){var c=n[t];n[t]=n[r],n[r]=c}function x_(n,t){return n<t?-1:n>t?1:0}function o0(n,t){const r=n.length;if(r<=1)return[n];const c=[];let u,g;for(let v=0;v<r;v++){const T=me(n[v]);T!==0&&(n[v].area=Math.abs(T),g===void 0&&(g=T<0),g===T<0?(u&&c.push(u),u=[n[v]]):u.push(n[v]))}if(u&&c.push(u),t>1)for(let v=0;v<c.length;v++)c[v].length<=t||(Y2(c[v],t,1,c[v].length-1,tg),c[v]=c[v].slice(0,t));return c}function tg(n,t){return t.area-n.area}function a0(n,t,r){const c=r.patternDependencies;let u=!1;for(const g of t){const v=g.paint.get(`${n}-pattern`);v.isConstant()||(u=!0);const T=v.constantOr(null);T&&(u=!0,c[T]=!0)}return u}function l0(n,t,r,c,u){const g=u.patternDependencies;for(const v of t){const T=v.paint.get(`${n}-pattern`).value;if(T.kind!=="constant"){let k=T.evaluate({zoom:c},r,{},u.availableImages);k=k&&k.name?k.name:k,g[k]=!0,r.patterns[v.id]=k}}return r}({get exports(){return yu},set exports(n){yu=n}}).exports=i0,yu.default=i0,i0.deviation=function(n,t,r,c){var u=t&&t.length,g=Math.abs(eg(n,0,u?t[0]*r:n.length,r));if(u)for(var v=0,T=t.length;v<T;v++)g-=Math.abs(eg(n,t[v]*r,v<T-1?t[v+1]*r:n.length,r));var k=0;for(v=0;v<c.length;v+=3){var D=c[v]*r,te=c[v+1]*r,he=c[v+2]*r;k+=Math.abs((n[D]-n[he])*(n[te+1]-n[D+1])-(n[D]-n[te])*(n[he+1]-n[D+1]))}return g===0&&k===0?0:Math.abs((k-g)/g)},i0.flatten=function(n){for(var t=n[0][0].length,r={vertices:[],holes:[],dimensions:t},c=0,u=0;u<n.length;u++){for(var g=0;g<n[u].length;g++)for(var v=0;v<t;v++)r.vertices.push(n[u][g][v]);u>0&&r.holes.push(c+=n[u-1].length)}return r};class Dp{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(r=>r.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new nn,this.indexArray=new Gs,this.indexArray2=new cc,this.programConfigurations=new tl(t.layers,t.zoom),this.segments=new qr,this.segments2=new qr,this.stateDependentLayerIds=this.layers.filter(r=>r.isStateDependent()).map(r=>r.id),this.projection=t.projection}populate(t,r,c,u){this.hasPattern=a0("fill",this.layers,r);const g=this.layers[0].layout.get("fill-sort-key"),v=[];for(const{feature:T,id:k,index:D,sourceLayerIndex:te}of t){const he=this.layers[0]._featureFilter.needGeometry,ge=Ad(T,he);if(!this.layers[0]._featureFilter.filter(new Rt(this.zoom),ge,c))continue;const Se=g?g.evaluate(ge,{},c,r.availableImages):void 0,Ae={id:k,properties:T.properties,type:T.type,sourceLayerIndex:te,index:D,geometry:he?ge.geometry:Zc(T,c,u),patterns:{},sortKey:Se};v.push(Ae)}g&&v.sort((T,k)=>T.sortKey-k.sortKey);for(const T of v){const{geometry:k,index:D,sourceLayerIndex:te}=T;if(this.hasPattern){const he=l0("fill",this.layers,T,this.zoom,r);this.patternFeatures.push(he)}else this.addFeature(T,k,D,c,{},r.availableImages);r.featureIndex.insert(t[D].feature,k,D,te,this.index)}}update(t,r,c,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,c,u)}addFeatures(t,r,c,u,g){for(const v of this.patternFeatures)this.addFeature(v,v.geometry,v.index,r,c,u)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,U2),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(t,r,c,u,g,v=[]){for(const T of o0(r,500)){let k=0;for(const Ae of T)k+=Ae.length;const D=this.segments.prepareSegment(k,this.layoutVertexArray,this.indexArray),te=D.vertexLength,he=[],ge=[];for(const Ae of T){if(Ae.length===0)continue;Ae!==T[0]&&ge.push(he.length/2);const ze=this.segments2.prepareSegment(Ae.length,this.layoutVertexArray,this.indexArray2),Xe=ze.vertexLength;this.layoutVertexArray.emplaceBack(Ae[0].x,Ae[0].y),this.indexArray2.emplaceBack(Xe+Ae.length-1,Xe),he.push(Ae[0].x),he.push(Ae[0].y);for(let lt=1;lt<Ae.length;lt++)this.layoutVertexArray.emplaceBack(Ae[lt].x,Ae[lt].y),this.indexArray2.emplaceBack(Xe+lt-1,Xe+lt),he.push(Ae[lt].x),he.push(Ae[lt].y);ze.vertexLength+=Ae.length,ze.primitiveLength+=Ae.length}const Se=yu(he,ge);for(let Ae=0;Ae<Se.length;Ae+=3)this.indexArray.emplaceBack(te+Se[Ae],te+Se[Ae+1],te+Se[Ae+2]);D.vertexLength+=k,D.primitiveLength+=Se.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,c,g,v,u)}}Ri(Dp,"FillBucket",{omit:["layers","patternFeatures"]});const b_=new fi({"fill-sort-key":new Xt(ti.layout_fill["fill-sort-key"])});var Z2={paint:new fi({"fill-antialias":new Dt(ti.paint_fill["fill-antialias"]),"fill-opacity":new Xt(ti.paint_fill["fill-opacity"]),"fill-color":new Xt(ti.paint_fill["fill-color"]),"fill-outline-color":new Xt(ti.paint_fill["fill-outline-color"]),"fill-translate":new Dt(ti.paint_fill["fill-translate"]),"fill-translate-anchor":new Dt(ti.paint_fill["fill-translate-anchor"]),"fill-pattern":new Xt(ti.paint_fill["fill-pattern"])}),layout:b_};const K2=Zi([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),J2=Zi([{name:"a_centroid_pos",components:2,type:"Uint16"}]),c0=Zi([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:h0}=K2;var d0={},Q2=R,u0=Id;function Id(n,t,r,c,u){this.properties={},this.extent=r,this.type=0,this._pbf=n,this._geometry=-1,this._keys=c,this._values=u,n.readFields(ex,this,t)}function ex(n,t,r){n==1?t.id=r.readVarint():n==2?function(c,u){for(var g=c.readVarint()+c.pos;c.pos<g;){var v=u._keys[c.readVarint()],T=u._values[c.readVarint()];u.properties[v]=T}}(r,t):n==3?t.type=r.readVarint():n==4&&(t._geometry=r.pos)}function tx(n){for(var t,r,c=0,u=0,g=n.length,v=g-1;u<g;v=u++)c+=((r=n[v]).x-(t=n[u]).x)*(t.y+r.y);return c}Id.types=["Unknown","Point","LineString","Polygon"],Id.prototype.loadGeometry=function(){var n=this._pbf;n.pos=this._geometry;for(var t,r=n.readVarint()+n.pos,c=1,u=0,g=0,v=0,T=[];n.pos<r;){if(u<=0){var k=n.readVarint();c=7&k,u=k>>3}if(u--,c===1||c===2)g+=n.readSVarint(),v+=n.readSVarint(),c===1&&(t&&T.push(t),t=[]),t.push(new Q2(g,v));else{if(c!==7)throw new Error("unknown command "+c);t&&t.push(t[0].clone())}}return t&&T.push(t),T},Id.prototype.bbox=function(){var n=this._pbf;n.pos=this._geometry;for(var t=n.readVarint()+n.pos,r=1,c=0,u=0,g=0,v=1/0,T=-1/0,k=1/0,D=-1/0;n.pos<t;){if(c<=0){var te=n.readVarint();r=7&te,c=te>>3}if(c--,r===1||r===2)(u+=n.readSVarint())<v&&(v=u),u>T&&(T=u),(g+=n.readSVarint())<k&&(k=g),g>D&&(D=g);else if(r!==7)throw new Error("unknown command "+r)}return[v,k,T,D]},Id.prototype.toGeoJSON=function(n,t,r){var c,u,g=this.extent*Math.pow(2,r),v=this.extent*n,T=this.extent*t,k=this.loadGeometry(),D=Id.types[this.type];function te(Se){for(var Ae=0;Ae<Se.length;Ae++){var ze=Se[Ae];Se[Ae]=[360*(ze.x+v)/g-180,360/Math.PI*Math.atan(Math.exp((180-360*(ze.y+T)/g)*Math.PI/180))-90]}}switch(this.type){case 1:var he=[];for(c=0;c<k.length;c++)he[c]=k[c][0];te(k=he);break;case 2:for(c=0;c<k.length;c++)te(k[c]);break;case 3:for(k=function(Se){var Ae=Se.length;if(Ae<=1)return[Se];for(var ze,Xe,lt=[],_t=0;_t<Ae;_t++){var at=tx(Se[_t]);at!==0&&(Xe===void 0&&(Xe=at<0),Xe===at<0?(ze&&lt.push(ze),ze=[Se[_t]]):ze.push(Se[_t]))}return ze&&lt.push(ze),lt}(k),c=0;c<k.length;c++)for(u=0;u<k[c].length;u++)te(k[c][u])}k.length===1?k=k[0]:D="Multi"+D;var ge={type:"Feature",geometry:{type:D,coordinates:k},properties:this.properties};return"id"in this&&(ge.id=this.id),ge};var ix=u0,w_=T_;function T_(n,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=n,this._keys=[],this._values=[],this._features=[],n.readFields(nx,this,t),this.length=this._features.length}function nx(n,t,r){n===15?t.version=r.readVarint():n===1?t.name=r.readString():n===5?t.extent=r.readVarint():n===2?t._features.push(r.pos):n===3?t._keys.push(r.readString()):n===4&&t._values.push(function(c){for(var u=null,g=c.readVarint()+c.pos;c.pos<g;){var v=c.readVarint()>>3;u=v===1?c.readString():v===2?c.readFloat():v===3?c.readDouble():v===4?c.readVarint64():v===5?c.readVarint():v===6?c.readSVarint():v===7?c.readBoolean():null}return u}(r))}T_.prototype.feature=function(n){if(n<0||n>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[n];var t=this._pbf.readVarint()+this._pbf.pos;return new ix(this._pbf,t,this.extent,this._keys,this._values)};var rx=w_;function sx(n,t,r){if(n===3){var c=new rx(r,r.readVarint()+r.pos);c.length&&(t[c.name]=c)}}var ig=d0.VectorTile=function(n,t){this.layers=n.readFields(sx,{},t)},p0=d0.VectorTileFeature=u0;function f0(n,t,r,c){const u=[],g=c===0?(v,T,k,D,te,he)=>{v.push(new R(he,k+(he-T)/(D-T)*(te-k)))}:(v,T,k,D,te,he)=>{v.push(new R(T+(he-k)/(te-k)*(D-T),he))};for(const v of n){const T=[];for(const k of v){if(k.length<=2)continue;const D=[];for(let ge=0;ge<k.length-1;ge++){const Se=k[ge].x,Ae=k[ge].y,ze=k[ge+1].x,Xe=k[ge+1].y,lt=c===0?Se:Ae,_t=c===0?ze:Xe;lt<t?_t>t&&g(D,Se,Ae,ze,Xe,t):lt>r?_t<r&&g(D,Se,Ae,ze,Xe,r):D.push(k[ge]),_t<t&&lt>=t&&g(D,Se,Ae,ze,Xe,t),_t>r&&lt<=r&&g(D,Se,Ae,ze,Xe,r)}let te=k[k.length-1];const he=c===0?te.x:te.y;he>=t&&he<=r&&D.push(te),D.length&&(te=D[D.length-1],D[0].x===te.x&&D[0].y===te.y||D.push(D[0]),T.push(D))}T.length&&u.push(T)}return u}d0.VectorTileLayer=w_;const ox=p0.types,Ul=Math.pow(2,13);function Op(n,t,r,c,u,g,v,T){n.emplaceBack((t<<1)+v,(r<<1)+g,(Math.floor(c*Ul)<<1)+u,Math.round(T))}function Rp(n,t,r){n.emplaceBack(t.x,t.y,t.z,r[0]*16384,r[1]*16384,r[2]*16384)}class Rh{constructor(){this.acc=new R(0,0),this.polyCount=[]}startRing(t){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new R(t.x,t.y),this.max=new R(t.x,t.y))}append(t,r){this.currentPolyCount.edges++,this.acc._add(t);const c=this.min,u=this.max;t.x<c.x?c.x=t.x:t.x>u.x&&(u.x=t.x),t.y<c.y?c.y=t.y:t.y>u.y&&(u.y=t.y),((t.x===0||t.x===ln)&&t.x===r.x)!=((t.y===0||t.y===ln)&&t.y===r.y)&&this.processBorderOverlap(t,r),r.x<0!=t.x<0&&this.addBorderIntersection(0,Qi(r.y,t.y,(0-r.x)/(t.x-r.x))),r.x>ln!=t.x>ln&&this.addBorderIntersection(1,Qi(r.y,t.y,(ln-r.x)/(t.x-r.x))),r.y<0!=t.y<0&&this.addBorderIntersection(2,Qi(r.x,t.x,(0-r.y)/(t.y-r.y))),r.y>ln!=t.y>ln&&this.addBorderIntersection(3,Qi(r.x,t.x,(ln-r.y)/(t.y-r.y)))}addBorderIntersection(t,r){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const c=this.borders[t];r<c[0]&&(c[0]=r),r>c[1]&&(c[1]=r)}processBorderOverlap(t,r){if(t.x===r.x){if(t.y===r.y)return;const c=t.x===0?0:1;this.addBorderIntersection(c,r.y),this.addBorderIntersection(c,t.y)}else{const c=t.y===0?2:3;this.addBorderIntersection(c,r.x),this.addBorderIntersection(c,t.x)}}centroid(){const t=this.polyCount.reduce((r,c)=>r+c.edges,0);return t!==0?this.acc.div(t)._round():new R(0,0)}span(){return new R(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((t,r)=>t+ +(r[0]!==Number.MAX_VALUE),0)}}class An{constructor(t){this.zoom=t.zoom,this.canonical=t.canonical,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(r=>r.id),this.index=t.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=t.projection,this.layoutVertexArray=new tr,this.centroidVertexArray=new Rf,this.indexArray=new Gs,this.programConfigurations=new tl(t.layers,t.zoom),this.segments=new qr,this.stateDependentLayerIds=this.layers.filter(r=>r.isStateDependent()).map(r=>r.id),this.enableTerrain=t.enableTerrain}populate(t,r,c,u){this.features=[],this.hasPattern=a0("fill-extrusion",this.layers,r),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(g){const v=Math.exp(Math.PI*(1-g.y/(1<<g.z)*2));return 80150034*v/(v*v+1)/ln/(1<<g.z)}(c),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:g,id:v,index:T,sourceLayerIndex:k}of t){const D=this.layers[0]._featureFilter.needGeometry,te=Ad(g,D);if(!this.layers[0]._featureFilter.filter(new Rt(this.zoom),te,c))continue;const he={id:v,sourceLayerIndex:k,index:T,geometry:D?te.geometry:Zc(g,c,u),properties:g.properties,type:g.type,patterns:{}},ge=this.layoutVertexArray.length;this.hasPattern?this.features.push(l0("fill-extrusion",this.layers,he,this.zoom,r)):this.addFeature(he,he.geometry,T,c,{},r.availableImages,u),r.featureIndex.insert(g,he.geometry,T,k,this.index,ge)}this.sortBorders()}addFeatures(t,r,c,u,g){for(const v of this.features){const{geometry:T}=v;this.addFeature(v,T,v.index,r,c,u,g)}this.sortBorders()}update(t,r,c,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,c,u)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,h0),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=t.createVertexBuffer(this.layoutVertexExtArray,c0.members,!0))),this.programConfigurations.upload(t),this.uploaded=!0}uploadCentroid(t){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=t.createVertexBuffer(this.centroidVertexArray,J2.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(t,r,c,u,g,v,T){const k=[new R(0,0),new R(ln,ln)],D=T.projection,te=D.name==="globe",he=this.enableTerrain&&!te?new Rh:null,ge=ox[t.type]==="Polygon";te&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new ra);const Se=o0(r,500);for(let lt=Se.length-1;lt>=0;lt--){const _t=Se[lt];(_t.length===0||(Ae=_t[0]).every(at=>at.x<=0)||Ae.every(at=>at.x>=ln)||Ae.every(at=>at.y<=0)||Ae.every(at=>at.y>=ln))&&Se.splice(lt,1)}var Ae;let ze;if(te)ze=A_(Se,k,u);else{ze=[];for(const lt of Se)ze.push({polygon:lt,bounds:k})}const Xe=ge?this.edgeRadius:0;for(const{polygon:lt,bounds:_t}of ze){let at=0,mt=0;for(const bt of lt)ge&&!bt[0].equals(bt[bt.length-1])&&bt.push(bt[0]),mt+=ge?bt.length-1:bt.length;const Tt=this.segments.prepareSegment((ge?5:4)*mt,this.layoutVertexArray,this.indexArray);if(ge){const bt=[],qt=[];at=Tt.vertexLength;for(const ni of lt){let wi,Kt;ni.length&&ni!==lt[0]&&qt.push(bt.length/2),wi=ni[1].sub(ni[0])._perp()._unit();for(let ai=1;ai<ni.length;ai++){const ci=ni[ai],yi=ni[ai===ni.length-1?1:ai+1];let{x:Ti,y:ei}=ci;if(Xe){Kt=yi.sub(ci)._perp()._unit();const Pi=wi.add(Kt)._unit(),an=Xe*Math.min(4,1/(wi.x*Pi.x+wi.y*Pi.y));Ti+=an*Pi.x,ei+=an*Pi.y,wi=Kt}Op(this.layoutVertexArray,Ti,ei,0,0,1,1,0),Tt.vertexLength++,bt.push(ci.x,ci.y),te&&Rp(this.layoutVertexExtArray,D.projectTilePoint(Ti,ei,u),D.upVector(u,Ti,ei))}}const $t=yu(bt,qt);for(let ni=0;ni<$t.length;ni+=3)this.indexArray.emplaceBack(at+$t[ni],at+$t[ni+2],at+$t[ni+1]),Tt.primitiveLength++}for(const bt of lt){he&&bt.length&&he.startRing(bt[0]);let qt,$t,ni,wi=bt.length>4&&Kc(bt[bt.length-2],bt[0],bt[1]),Kt=Xe?ha(bt[bt.length-2],bt[0],bt[1],Xe):0;$t=bt[1].sub(bt[0])._perp()._unit();let ai=!0;for(let ci=1,yi=0;ci<bt.length;ci++){let Ti=bt[ci-1],ei=bt[ci];const Pi=bt[ci===bt.length-1?1:ci+1];if(he&&ge&&he.currentPolyCount.top++,E_(ei,Ti,_t)){Xe&&($t=Pi.sub(ei)._perp()._unit(),ai=!ai);continue}he&&he.append(ei,Ti);const an=ei.sub(Ti)._perp(),Bi=an.x/(Math.abs(an.x)+Math.abs(an.y)),Wi=an.y>0?1:0,Ii=Ti.dist(ei);if(yi+Ii>32768&&(yi=0),Xe){ni=Pi.sub(ei)._perp()._unit();let zn=xs(Ti,ei,Pi,S_($t,ni),Xe);isNaN(zn)&&(zn=0);const hn=ei.sub(Ti)._unit();Ti=Ti.add(hn.mult(Kt))._round(),ei=ei.add(hn.mult(-zn))._round(),Kt=zn,$t=ni}const cn=Tt.vertexLength,Wn=bt.length>4&&Kc(Ti,ei,Pi);let Nn=C_(yi,wi,ai);if(Op(this.layoutVertexArray,Ti.x,Ti.y,Bi,Wi,0,0,Nn),Op(this.layoutVertexArray,Ti.x,Ti.y,Bi,Wi,0,1,Nn),yi+=Ii,Nn=C_(yi,Wn,!ai),wi=Wn,Op(this.layoutVertexArray,ei.x,ei.y,Bi,Wi,0,0,Nn),Op(this.layoutVertexArray,ei.x,ei.y,Bi,Wi,0,1,Nn),Tt.vertexLength+=4,this.indexArray.emplaceBack(cn+0,cn+1,cn+2),this.indexArray.emplaceBack(cn+1,cn+3,cn+2),Tt.primitiveLength+=2,Xe){const zn=at+(ci===1?bt.length-2:ci-2),hn=ci===1?at:zn+1;if(this.indexArray.emplaceBack(cn+1,zn,cn+3),this.indexArray.emplaceBack(zn,hn,cn+3),Tt.primitiveLength+=2,qt===void 0&&(qt=cn),!E_(Pi,bt[ci],_t)){const yr=ci===bt.length-1?qt:Tt.vertexLength;this.indexArray.emplaceBack(cn+2,cn+3,yr),this.indexArray.emplaceBack(cn+3,yr+1,yr),this.indexArray.emplaceBack(cn+3,hn,yr+1),Tt.primitiveLength+=3}ai=!ai}if(te){const zn=this.layoutVertexExtArray,hn=D.projectTilePoint(Ti.x,Ti.y,u),yr=D.projectTilePoint(ei.x,ei.y,u),_n=D.upVector(u,Ti.x,Ti.y),$n=D.upVector(u,ei.x,ei.y);Rp(zn,hn,_n),Rp(zn,hn,_n),Rp(zn,yr,$n),Rp(zn,yr,$n)}}ge&&(at+=bt.length-1)}}if(he&&he.polyCount.length>0){if(he.borders){he.vertexArrayOffset=this.centroidVertexArray.length;const lt=he.borders,_t=this.featuresOnBorder.push(he)-1;for(let at=0;at<4;at++)lt[at][0]!==Number.MAX_VALUE&&this.borders[at].push(_t)}this.encodeCentroid(he.borders?void 0:he.centroid(),he)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,c,g,v,u)}sortBorders(){for(let t=0;t<4;t++)this.borders[t].sort((r,c)=>this.featuresOnBorder[r].borders[t][0]-this.featuresOnBorder[c].borders[t][0])}encodeCentroid(t,r,c=!0){let u,g;if(t)if(t.y!==0){const T=r.span()._mult(this.tileToMeter);u=(Math.max(t.x,1)<<3)+Math.min(7,Math.round(T.x/10)),g=(Math.max(t.y,1)<<3)+Math.min(7,Math.round(T.y/10))}else u=Math.ceil(7*(t.x+450)),g=0;else u=0,g=+c;let v=c?this.centroidVertexArray.length:r.vertexArrayOffset;for(const T of r.polyCount){c&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*T.edges+T.top);for(let k=0;k<T.top;k++)this.centroidVertexArray.emplace(v++,u,g);for(let k=0;k<2*T.edges;k++)this.centroidVertexArray.emplace(v++,0,g),this.centroidVertexArray.emplace(v++,u,g)}}}function S_(n,t){const r=n.add(t)._unit();return n.x*r.x+n.y*r.y}function ha(n,t,r,c){const u=t.sub(n)._perp()._unit(),g=r.sub(t)._perp()._unit();return xs(n,t,r,S_(u,g),c)}function xs(n,t,r,c,u){const g=Math.sqrt(1-c*c);return Math.min(n.dist(t)/3,t.dist(r)/3,u*g/c)}function E_(n,t,r){return n.x<r[0].x&&t.x<r[0].x||n.x>r[1].x&&t.x>r[1].x||n.y<r[0].y&&t.y<r[0].y||n.y>r[1].y&&t.y>r[1].y}function Kc(n,t,r){if(n.x<0||n.x>=ln||t.x<0||t.x>=ln||r.x<0||r.x>=ln)return!1;const c=r.sub(t),u=c.perp(),g=n.sub(t);return(c.x*g.x+c.y*g.y)/Math.sqrt((c.x*c.x+c.y*c.y)*(g.x*g.x+g.y*g.y))>-.866&&u.x*g.x+u.y*g.y<0}function C_(n,t,r){const c=t?2|n:-3&n;return r?1|c:-2&c}function M_(){const n=Math.PI/32,t=Math.tan(n),r=Mp;return r*Math.sqrt(1+2*t*t)-r}function A_(n,t,r){const c=1<<r.z,u=La(r.x/c),g=La((r.x+1)/c),v=to(r.y/c),T=to((r.y+1)/c);return function(k,D,te,he,ge=0,Se){const Ae=[];if(!k.length||!te||!he)return Ae;const ze=(bt,qt)=>{for(const $t of bt)Ae.push({polygon:$t,bounds:qt})},Xe=Math.ceil(Math.log2(te)),lt=Math.ceil(Math.log2(he)),_t=Xe-lt,at=[];for(let bt=0;bt<Math.abs(_t);bt++)at.push(_t>0?0:1);for(let bt=0;bt<Math.min(Xe,lt);bt++)at.push(0),at.push(1);let mt=k;if(mt=f0(mt,D[0].y-ge,D[1].y+ge,1),mt=f0(mt,D[0].x-ge,D[1].x+ge,0),!mt.length)return Ae;const Tt=[];for(at.length?Tt.push({polygons:mt,bounds:D,depth:0}):ze(mt,D);Tt.length;){const bt=Tt.pop(),qt=bt.depth,$t=at[qt],ni=bt.bounds[0],wi=bt.bounds[1],Kt=$t===0?ni.x:ni.y,ai=$t===0?wi.x:wi.y,ci=Se?Se($t,Kt,ai):.5*(Kt+ai),yi=f0(bt.polygons,Kt-ge,ci+ge,$t),Ti=f0(bt.polygons,ci-ge,ai+ge,$t);if(yi.length){const ei=[ni,new R($t===0?ci:wi.x,$t===1?ci:wi.y)];at.length>qt+1?Tt.push({polygons:yi,bounds:ei,depth:qt+1}):ze(yi,ei)}if(Ti.length){const ei=[new R($t===0?ci:ni.x,$t===1?ci:ni.y),wi];at.length>qt+1?Tt.push({polygons:Ti,bounds:ei,depth:qt+1}):ze(Ti,ei)}}return Ae}(n,t,Math.ceil((g-u)/11.25),Math.ceil((v-T)/11.25),1,(k,D,te)=>{if(k===0)return .5*(D+te);{const he=to((r.y+D/ln)/c);return(mc(.5*(to((r.y+te/ln)/c)+he))*c-r.y)*ln}})}Ri(An,"FillExtrusionBucket",{omit:["layers","features"]}),Ri(Rh,"PartMetadata");const ax=new fi({"fill-extrusion-edge-radius":new Dt(ti["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var lx={paint:new fi({"fill-extrusion-opacity":new Dt(ti["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Xt(ti["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Dt(ti["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Dt(ti["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Xt(ti["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Xt(ti["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Xt(ti["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Dt(ti["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Dt(ti["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Dt(ti["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:ax};function m0(n,t,r){var c=2*Math.PI*6378137/256/Math.pow(2,r);return[n*c-2*Math.PI*6378137/2,t*c-2*Math.PI*6378137/2]}class g0{constructor(t,r,c){this.z=t,this.x=r,this.y=c,this.key=zh(0,t,t,r,c)}equals(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}url(t,r){const c=function(g,v,T){var k=m0(256*g,256*(v=Math.pow(2,T)-v-1),T),D=m0(256*(g+1),256*(v+1),T);return k[0]+","+k[1]+","+D[0]+","+D[1]}(this.x,this.y,this.z),u=function(g,v,T){let k,D="";for(let te=g;te>0;te--)k=1<<te-1,D+=(v&k?1:0)+(T&k?2:0);return D}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(r==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",u).replace("{bbox-epsg-3857}",c)}toString(){return`${this.z}/${this.x}/${this.y}`}}class gc{constructor(t,r){this.wrap=t,this.canonical=r,this.key=zh(t,r.z,r.z,r.x,r.y)}}class mo{constructor(t,r,c,u,g){this.overscaledZ=t,this.wrap=r,this.canonical=new g0(c,+u,+g),this.key=r===0&&t===c?this.canonical.key:zh(r,t,c,u,g)}equals(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)}scaledTo(t){const r=this.canonical.z-t;return t>this.canonical.z?new mo(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new mo(t,this.wrap,t,this.canonical.x>>r,this.canonical.y>>r)}calculateScaledKey(t,r=!0){if(this.overscaledZ===t&&r)return this.key;if(t>this.canonical.z)return zh(this.wrap*+r,t,this.canonical.z,this.canonical.x,this.canonical.y);{const c=this.canonical.z-t;return zh(this.wrap*+r,t,t,this.canonical.x>>c,this.canonical.y>>c)}}isChildOf(t){if(t.wrap!==this.wrap)return!1;const r=this.canonical.z-t.canonical.z;return t.overscaledZ===0||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>r&&t.canonical.y===this.canonical.y>>r}children(t){if(this.overscaledZ>=t)return[new mo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const r=this.canonical.z+1,c=2*this.canonical.x,u=2*this.canonical.y;return[new mo(r,this.wrap,r,c,u),new mo(r,this.wrap,r,c+1,u),new mo(r,this.wrap,r,c,u+1),new mo(r,this.wrap,r,c+1,u+1)]}isLessThan(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}wrapped(){return new mo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(t){return new mo(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new gc(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function zh(n,t,r,c,u){const g=1<<Math.min(r,22);let v=g*(u%g)+c%g;return n&&r<22&&(v+=g*g*((n<0?-2*n-1:2*n)%(1<<2*(22-r)))),16*(32*v+r)+(t-r)}Ri(g0,"CanonicalTileID"),Ri(mo,"OverscaledTileID",{omit:["projMatrix"]});class zr extends R{constructor(t,r,c){super(t,r),this.z=c}}function Yr(n,t){return n.x*t.x+n.y*t.y}function ng(n,t){if(n.length===1){let r=0;const c=t[r++];let u;for(;!u||c.equals(u);)if(u=t[r++],!u)return 1/0;for(;r<t.length;r++){const g=t[r],v=n[0],T=u.sub(c),k=g.sub(c),D=v.sub(c),te=Yr(T,T),he=Yr(T,k),ge=Yr(k,k),Se=Yr(D,T),Ae=Yr(D,k),ze=te*ge-he*he,Xe=(ge*Se-he*Ae)/ze,lt=(te*Ae-he*Se)/ze,_t=c.z*(1-Xe-lt)+u.z*Xe+g.z*lt;if(isFinite(_t))return _t}return 1/0}{let r=1/0;for(const c of t)r=Math.min(r,c.z);return r}}function k_(n,t,r,c,u,g,v,T){const k=v*u.getElevationAt(n,t,!0,!0),D=g[0]!==0,te=D?g[1]===0?v*(g[0]/7-450):v*function(he,ge,Se){const Ae=Math.floor(ge[0]/8),ze=Math.floor(ge[1]/8),Xe=10*(ge[0]-8*Ae),lt=10*(ge[1]-8*ze),_t=he.getElevationAt(Ae,ze,!0,!0),at=he.getMeterToDEM(Se),mt=Math.floor(.5*(Xe*at-1)),Tt=Math.floor(.5*(lt*at-1)),bt=he.tileCoordToPixel(Ae,ze),qt=2*mt+1,$t=2*Tt+1,ni=function(Ti,ei,Pi,an,Bi){return[Ti.getElevationAtPixel(ei,Pi,!0),Ti.getElevationAtPixel(ei+Bi,Pi,!0),Ti.getElevationAtPixel(ei,Pi+Bi,!0),Ti.getElevationAtPixel(ei+an,Pi+Bi,!0)]}(he,bt.x-mt,bt.y-Tt,qt,$t),wi=Math.abs(ni[0]-ni[1]),Kt=Math.abs(ni[2]-ni[3]),ai=Math.abs(ni[0]-ni[2])+Math.abs(ni[1]-ni[3]),ci=Math.min(.25,.5*at*(wi+Kt)/qt),yi=Math.min(.25,.5*at*ai/$t);return _t+Math.max(ci*Xe,yi*lt)}(u,g,T):k;return{base:k+(r===0)?-1:r,top:D?Math.max(te+c,k+r+2):k+c}}const cx=Zi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:hx}=cx,dx=Zi([{name:"a_packed",components:4,type:"Float32"}]),{members:ux}=dx,px=p0.types,P_=Math.cos(Math.PI/180*37.5);class Bh{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(r=>r.id),this.index=t.index,this.projection=t.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(r=>{this.gradients[r.id]={}}),this.layoutVertexArray=new br,this.layoutVertexArray2=new hr,this.indexArray=new Gs,this.programConfigurations=new tl(t.layers,t.zoom),this.segments=new qr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(r=>r.isStateDependent()).map(r=>r.id)}populate(t,r,c,u){this.hasPattern=a0("line",this.layers,r);const g=this.layers[0].layout.get("line-sort-key"),v=[];for(const{feature:te,id:he,index:ge,sourceLayerIndex:Se}of t){const Ae=this.layers[0]._featureFilter.needGeometry,ze=Ad(te,Ae);if(!this.layers[0]._featureFilter.filter(new Rt(this.zoom),ze,c))continue;const Xe=g?g.evaluate(ze,{},c):void 0,lt={id:he,properties:te.properties,type:te.type,sourceLayerIndex:Se,index:ge,geometry:Ae?ze.geometry:Zc(te,c,u),patterns:{},sortKey:Xe};v.push(lt)}g&&v.sort((te,he)=>te.sortKey-he.sortKey);const{lineAtlas:T,featureIndex:k}=r,D=this.addConstantDashes(T);for(const te of v){const{geometry:he,index:ge,sourceLayerIndex:Se}=te;if(D&&this.addFeatureDashes(te,T),this.hasPattern){const Ae=l0("line",this.layers,te,this.zoom,r);this.patternFeatures.push(Ae)}else this.addFeature(te,he,ge,c,T.positions,r.availableImages);k.insert(t[ge].feature,he,ge,Se,this.index)}}addConstantDashes(t){let r=!1;for(const c of this.layers){const u=c.paint.get("line-dasharray").value,g=c.layout.get("line-cap").value;if(u.kind!=="constant"||g.kind!=="constant")r=!0;else{const v=g.value,T=u.value;if(!T)continue;t.addDash(T,v)}}return r}addFeatureDashes(t,r){const c=this.zoom;for(const u of this.layers){const g=u.paint.get("line-dasharray").value,v=u.layout.get("line-cap").value;if(g.kind==="constant"&&v.kind==="constant")continue;let T,k;if(g.kind==="constant"){if(T=g.value,!T)continue}else T=g.evaluate({zoom:c},t);k=v.kind==="constant"?v.value:v.evaluate({zoom:c},t),r.addDash(T,k),t.patterns[u.id]=r.getKey(T,k)}}update(t,r,c,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,c,u)}addFeatures(t,r,c,u,g){for(const v of this.patternFeatures)this.addFeature(v,v.geometry,v.index,r,c,u)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,ux)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,hx),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(t){if(t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}}addFeature(t,r,c,u,g,v){const T=this.layers[0].layout,k=T.get("line-join").evaluate(t,{}),D=T.get("line-cap").evaluate(t,{}),te=T.get("line-miter-limit"),he=T.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(const ge of r)this.addLine(ge,t,k,D,te,he);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,c,g,v,u)}addLine(t,r,c,u,g,v){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let lt=0;lt<t.length-1;lt++)this.totalDistance+=t[lt].dist(t[lt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const T=px[r.type]==="Polygon";let k=t.length;for(;k>=2&&t[k-1].equals(t[k-2]);)k--;let D=0;for(;D<k-1&&t[D].equals(t[D+1]);)D++;if(k<(T?3:2))return;c==="bevel"&&(g=1.05);const te=this.overscaling<=16?122880/(512*this.overscaling):0,he=this.segments.prepareSegment(10*k,this.layoutVertexArray,this.indexArray);let ge,Se,Ae,ze,Xe;this.e1=this.e2=-1,T&&(ge=t[k-2],Xe=t[D].sub(ge)._unit()._perp());for(let lt=D;lt<k;lt++){if(Ae=lt===k-1?T?t[D+1]:void 0:t[lt+1],Ae&&t[lt].equals(Ae))continue;Xe&&(ze=Xe),ge&&(Se=ge),ge=t[lt],Xe=Ae?Ae.sub(ge)._unit()._perp():ze,ze=ze||Xe;let _t=ze.add(Xe);_t.x===0&&_t.y===0||_t._unit();const at=ze.x*Xe.x+ze.y*Xe.y,mt=_t.x*Xe.x+_t.y*Xe.y,Tt=mt!==0?1/mt:1/0,bt=2*Math.sqrt(2-2*mt),qt=mt<P_&&Se&&Ae,$t=ze.x*Xe.y-ze.y*Xe.x>0;if(qt&&lt>D){const Kt=ge.dist(Se);if(Kt>2*te){const ai=ge.sub(ge.sub(Se)._mult(te/Kt)._round());this.updateDistance(Se,ai),this.addCurrentVertex(ai,ze,0,0,he),Se=ai}}const ni=Se&&Ae;let wi=ni?c:T?"butt":u;if(ni&&wi==="round"&&(Tt<v?wi="miter":Tt<=2&&(wi="fakeround")),wi==="miter"&&Tt>g&&(wi="bevel"),wi==="bevel"&&(Tt>2&&(wi="flipbevel"),Tt<g&&(wi="miter")),Se&&this.updateDistance(Se,ge),wi==="miter")_t._mult(Tt),this.addCurrentVertex(ge,_t,0,0,he);else if(wi==="flipbevel"){if(Tt>100)_t=Xe.mult(-1);else{const Kt=Tt*ze.add(Xe).mag()/ze.sub(Xe).mag();_t._perp()._mult(Kt*($t?-1:1))}this.addCurrentVertex(ge,_t,0,0,he),this.addCurrentVertex(ge,_t.mult(-1),0,0,he)}else if(wi==="bevel"||wi==="fakeround"){const Kt=-Math.sqrt(Tt*Tt-1),ai=$t?Kt:0,ci=$t?0:Kt;if(Se&&this.addCurrentVertex(ge,ze,ai,ci,he),wi==="fakeround"){const yi=Math.round(180*bt/Math.PI/20);for(let Ti=1;Ti<yi;Ti++){let ei=Ti/yi;if(ei!==.5){const an=ei-.5;ei+=ei*an*(ei-1)*((1.0904+at*(at*(3.55645-1.43519*at)-3.2452))*an*an+(.848013+at*(.215638*at-1.06021)))}const Pi=Xe.sub(ze)._mult(ei)._add(ze)._unit()._mult($t?-1:1);this.addHalfVertex(ge,Pi.x,Pi.y,!1,$t,0,he)}}Ae&&this.addCurrentVertex(ge,Xe,-ai,-ci,he)}else if(wi==="butt")this.addCurrentVertex(ge,_t,0,0,he);else if(wi==="square"){const Kt=Se?1:-1;Se||this.addCurrentVertex(ge,_t,Kt,Kt,he),this.addCurrentVertex(ge,_t,0,0,he),Se&&this.addCurrentVertex(ge,_t,Kt,Kt,he)}else wi==="round"&&(Se&&(this.addCurrentVertex(ge,ze,0,0,he),this.addCurrentVertex(ge,ze,1,1,he,!0)),Ae&&(this.addCurrentVertex(ge,Xe,-1,-1,he,!0),this.addCurrentVertex(ge,Xe,0,0,he)));if(qt&&lt<k-1){const Kt=ge.dist(Ae);if(Kt>2*te){const ai=ge.add(Ae.sub(ge)._mult(te/Kt)._round());this.updateDistance(ge,ai),this.addCurrentVertex(ai,Xe,0,0,he),ge=ai}}}}addCurrentVertex(t,r,c,u,g,v=!1){const T=r.y*u-r.x,k=-r.y-r.x*u;this.addHalfVertex(t,r.x+r.y*c,r.y-r.x*c,v,!1,c,g),this.addHalfVertex(t,T,k,v,!0,-u,g)}addHalfVertex({x:t,y:r},c,u,g,v,T,k){this.layoutVertexArray.emplaceBack((t<<1)+(g?1:0),(r<<1)+(v?1:0),Math.round(63*c)+128,Math.round(63*u)+128,1+(T===0?0:T<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const D=k.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,D),k.primitiveLength++),v?this.e2=D:this.e1=D}updateScaledDistance(){if(this.lineClips){const t=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=t*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(t,r){this.distance+=t.dist(r),this.updateScaledDistance()}}Ri(Bh,"LineBucket",{omit:["layers","patternFeatures"]});const rg=new fi({"line-cap":new Xt(ti.layout_line["line-cap"]),"line-join":new Xt(ti.layout_line["line-join"]),"line-miter-limit":new Dt(ti.layout_line["line-miter-limit"]),"line-round-limit":new Dt(ti.layout_line["line-round-limit"]),"line-sort-key":new Xt(ti.layout_line["line-sort-key"])});var I_={paint:new fi({"line-opacity":new Xt(ti.paint_line["line-opacity"]),"line-color":new Xt(ti.paint_line["line-color"]),"line-translate":new Dt(ti.paint_line["line-translate"]),"line-translate-anchor":new Dt(ti.paint_line["line-translate-anchor"]),"line-width":new Xt(ti.paint_line["line-width"]),"line-gap-width":new Xt(ti.paint_line["line-gap-width"]),"line-offset":new Xt(ti.paint_line["line-offset"]),"line-blur":new Xt(ti.paint_line["line-blur"]),"line-dasharray":new Xt(ti.paint_line["line-dasharray"]),"line-pattern":new Xt(ti.paint_line["line-pattern"]),"line-gradient":new di(ti.paint_line["line-gradient"]),"line-trim-offset":new Dt(ti.paint_line["line-trim-offset"])}),layout:rg};const sg=new class extends Xt{possiblyEvaluate(n,t){return t=new Rt(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,transition:t.transition}),super.possiblyEvaluate(n,t)}evaluate(n,t,r,c){return t=oe({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(n,t,r,c)}}(I_.paint.properties["line-width"].specification);function zp(n,t){return t>0?t+2*n:n}sg.useIntegerZoom=!0;const Da=Zi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),xu=Zi([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),fx=Zi([{name:"a_projected_pos",components:4,type:"Float32"}],4);Zi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const mx=Zi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),gx=Zi([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Zi([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const L_=Zi([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),_x=Zi([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Zi([{name:"triangle",components:3,type:"Uint16"}]),Zi([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Zi([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Zi([{type:"Float32",name:"offsetX"}]),Zi([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var $s=24;const io=128;function Fn(n,t){const{expression:r}=t;if(r.kind==="constant")return{kind:"constant",layoutSize:r.evaluate(new Rt(n+1))};if(r.kind==="source")return{kind:"source"};{const{zoomStops:c,interpolationType:u}=r;let g=0;for(;g<c.length&&c[g]<=n;)g++;g=Math.max(0,g-1);let v=g;for(;v<c.length&&c[v]<n+1;)v++;v=Math.min(c.length-1,v);const T=c[g],k=c[v];return r.kind==="composite"?{kind:"composite",minZoom:T,maxZoom:k,interpolationType:u}:{kind:"camera",minZoom:T,maxZoom:k,minSize:r.evaluate(new Rt(T)),maxSize:r.evaluate(new Rt(k)),interpolationType:u}}}function Bp(n,{uSize:t,uSizeT:r},{lowerSize:c,upperSize:u}){return n.kind==="source"?c/io:n.kind==="composite"?Qi(c/io,u/io,r):t}function go(n,t){let r=0,c=0;if(n.kind==="constant")c=n.layoutSize;else if(n.kind!=="source"){const{interpolationType:u,minZoom:g,maxZoom:v}=n,T=u?A(Wo.interpolationFactor(u,t,g,v),0,1):0;n.kind==="camera"?c=Qi(n.minSize,n.maxSize,T):r=T}return{uSizeT:r,uSize:c}}var D_=Object.freeze({__proto__:null,getSizeData:Fn,evaluateSizeForFeature:Bp,evaluateSizeForZoom:go,SIZE_PACK_FACTOR:io});function yx(n,t,r){return n.sections.forEach(c=>{c.text=function(u,g,v){const T=g.layout.get("text-transform").evaluate(v,{});return T==="uppercase"?u=u.toLocaleUpperCase():T==="lowercase"&&(u=u.toLocaleLowerCase()),Ct.applyArabicShaping&&(u=Ct.applyArabicShaping(u)),u}(c.text,t,r)}),n}const dr={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂","←":"↑","→":"↓"};function vx(n){return n==="︶"||n==="﹈"||n==="︸"||n==="﹄"||n==="﹂"||n==="︾"||n==="︼"||n==="︺"||n==="︘"||n==="﹀"||n==="︐"||n==="︓"||n==="︔"||n==="｀"||n==="￣"||n==="︑"||n==="︒"}function O_(n){return n==="︵"||n==="﹇"||n==="︷"||n==="﹃"||n==="﹁"||n==="︽"||n==="︻"||n==="︹"||n==="︗"||n==="︿"}var Fh=wr,R_=function(n,t,r,c,u){var g,v,T=8*u-c-1,k=(1<<T)-1,D=k>>1,te=-7,he=r?u-1:0,ge=r?-1:1,Se=n[t+he];for(he+=ge,g=Se&(1<<-te)-1,Se>>=-te,te+=T;te>0;g=256*g+n[t+he],he+=ge,te-=8);for(v=g&(1<<-te)-1,g>>=-te,te+=c;te>0;v=256*v+n[t+he],he+=ge,te-=8);if(g===0)g=1-D;else{if(g===k)return v?NaN:1/0*(Se?-1:1);v+=Math.pow(2,c),g-=D}return(Se?-1:1)*v*Math.pow(2,g-c)},z_=function(n,t,r,c,u,g){var v,T,k,D=8*g-u-1,te=(1<<D)-1,he=te>>1,ge=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,Se=c?0:g-1,Ae=c?1:-1,ze=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(T=isNaN(t)?1:0,v=te):(v=Math.floor(Math.log(t)/Math.LN2),t*(k=Math.pow(2,-v))<1&&(v--,k*=2),(t+=v+he>=1?ge/k:ge*Math.pow(2,1-he))*k>=2&&(v++,k/=2),v+he>=te?(T=0,v=te):v+he>=1?(T=(t*k-1)*Math.pow(2,u),v+=he):(T=t*Math.pow(2,he-1)*Math.pow(2,u),v=0));u>=8;n[r+Se]=255&T,Se+=Ae,T/=256,u-=8);for(v=v<<u|T,D+=u;D>0;n[r+Se]=255&v,Se+=Ae,v/=256,D-=8);n[r+Se-Ae]|=128*ze};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function wr(n){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(n)?n:new Uint8Array(n||0),this.pos=0,this.type=0,this.length=this.buf.length}wr.Varint=0,wr.Fixed64=1,wr.Bytes=2,wr.Fixed32=5;var og=4294967296,B_=1/og,F_=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Jc(n){return n.type===wr.Bytes?n.readVarint()+n.pos:n.pos+1}function bu(n,t,r){return r?4294967296*t+(n>>>0):4294967296*(t>>>0)+(n>>>0)}function N_(n,t,r){var c=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));r.realloc(c);for(var u=r.pos-1;u>=n;u--)r.buf[u+c]=r.buf[u]}function xx(n,t){for(var r=0;r<n.length;r++)t.writeVarint(n[r])}function bx(n,t){for(var r=0;r<n.length;r++)t.writeSVarint(n[r])}function wx(n,t){for(var r=0;r<n.length;r++)t.writeFloat(n[r])}function Tx(n,t){for(var r=0;r<n.length;r++)t.writeDouble(n[r])}function ag(n,t){for(var r=0;r<n.length;r++)t.writeBoolean(n[r])}function Sx(n,t){for(var r=0;r<n.length;r++)t.writeFixed32(n[r])}function lg(n,t){for(var r=0;r<n.length;r++)t.writeSFixed32(n[r])}function Ex(n,t){for(var r=0;r<n.length;r++)t.writeFixed64(n[r])}function Cx(n,t){for(var r=0;r<n.length;r++)t.writeSFixed64(n[r])}function _0(n,t){return(n[t]|n[t+1]<<8|n[t+2]<<16)+16777216*n[t+3]}function ps(n,t,r){n[r]=t,n[r+1]=t>>>8,n[r+2]=t>>>16,n[r+3]=t>>>24}function Xo(n,t){return(n[t]|n[t+1]<<8|n[t+2]<<16)+(n[t+3]<<24)}function Mx(n,t,r){t.glyphs=[],n===1&&r.readMessage(Ax,t)}function Ax(n,t,r){if(n===3){const{id:c,bitmap:u,width:g,height:v,left:T,top:k,advance:D}=r.readMessage(kx,{});t.glyphs.push({id:c,bitmap:new rl({width:g+6,height:v+6},u),metrics:{width:g,height:v,left:T,top:k,advance:D}})}else n===4?t.ascender=r.readSVarint():n===5&&(t.descender=r.readSVarint())}function kx(n,t,r){n===1?t.id=r.readVarint():n===2?t.bitmap=r.readBytes():n===3?t.width=r.readVarint():n===4?t.height=r.readVarint():n===5?t.left=r.readSVarint():n===6?t.top=r.readSVarint():n===7&&(t.advance=r.readVarint())}function y0(n){let t=0,r=0;for(const v of n)t+=v.w*v.h,r=Math.max(r,v.w);n.sort((v,T)=>T.h-v.h);const c=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),r),h:1/0}];let u=0,g=0;for(const v of n)for(let T=c.length-1;T>=0;T--){const k=c[T];if(!(v.w>k.w||v.h>k.h)){if(v.x=k.x,v.y=k.y,g=Math.max(g,v.y+v.h),u=Math.max(u,v.x+v.w),v.w===k.w&&v.h===k.h){const D=c.pop();T<c.length&&(c[T]=D)}else v.h===k.h?(k.x+=v.w,k.w-=v.w):v.w===k.w?(k.y+=v.h,k.h-=v.h):(c.push({x:k.x+v.w,y:k.y,w:k.w-v.w,h:v.h}),k.y+=v.h,k.h-=v.h);break}}return{w:u,h:g,fill:t/(u*g)||0}}wr.prototype={destroy:function(){this.buf=null},readFields:function(n,t,r){for(r=r||this.length;this.pos<r;){var c=this.readVarint(),u=c>>3,g=this.pos;this.type=7&c,n(u,t,this),this.pos===g&&this.skip(c)}return t},readMessage:function(n,t){return this.readFields(n,t,this.readVarint()+this.pos)},readFixed32:function(){var n=_0(this.buf,this.pos);return this.pos+=4,n},readSFixed32:function(){var n=Xo(this.buf,this.pos);return this.pos+=4,n},readFixed64:function(){var n=_0(this.buf,this.pos)+_0(this.buf,this.pos+4)*og;return this.pos+=8,n},readSFixed64:function(){var n=_0(this.buf,this.pos)+Xo(this.buf,this.pos+4)*og;return this.pos+=8,n},readFloat:function(){var n=R_(this.buf,this.pos,!0,23,4);return this.pos+=4,n},readDouble:function(){var n=R_(this.buf,this.pos,!0,52,8);return this.pos+=8,n},readVarint:function(n){var t,r,c=this.buf;return t=127&(r=c[this.pos++]),r<128?t:(t|=(127&(r=c[this.pos++]))<<7,r<128?t:(t|=(127&(r=c[this.pos++]))<<14,r<128?t:(t|=(127&(r=c[this.pos++]))<<21,r<128?t:function(u,g,v){var T,k,D=v.buf;if(T=(112&(k=D[v.pos++]))>>4,k<128||(T|=(127&(k=D[v.pos++]))<<3,k<128)||(T|=(127&(k=D[v.pos++]))<<10,k<128)||(T|=(127&(k=D[v.pos++]))<<17,k<128)||(T|=(127&(k=D[v.pos++]))<<24,k<128)||(T|=(1&(k=D[v.pos++]))<<31,k<128))return bu(u,T,g);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(r=c[this.pos]))<<28,n,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var n=this.readVarint();return n%2==1?(n+1)/-2:n/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var n=this.readVarint()+this.pos,t=this.pos;return this.pos=n,n-t>=12&&F_?function(r,c,u){return F_.decode(r.subarray(c,u))}(this.buf,t,n):function(r,c,u){for(var g="",v=c;v<u;){var T,k,D,te=r[v],he=null,ge=te>239?4:te>223?3:te>191?2:1;if(v+ge>u)break;ge===1?te<128&&(he=te):ge===2?(192&(T=r[v+1]))==128&&(he=(31&te)<<6|63&T)<=127&&(he=null):ge===3?(k=r[v+2],(192&(T=r[v+1]))==128&&(192&k)==128&&((he=(15&te)<<12|(63&T)<<6|63&k)<=2047||he>=55296&&he<=57343)&&(he=null)):ge===4&&(k=r[v+2],D=r[v+3],(192&(T=r[v+1]))==128&&(192&k)==128&&(192&D)==128&&((he=(15&te)<<18|(63&T)<<12|(63&k)<<6|63&D)<=65535||he>=1114112)&&(he=null)),he===null?(he=65533,ge=1):he>65535&&(he-=65536,g+=String.fromCharCode(he>>>10&1023|55296),he=56320|1023&he),g+=String.fromCharCode(he),v+=ge}return g}(this.buf,t,n)},readBytes:function(){var n=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,n);return this.pos=n,t},readPackedVarint:function(n,t){if(this.type!==wr.Bytes)return n.push(this.readVarint(t));var r=Jc(this);for(n=n||[];this.pos<r;)n.push(this.readVarint(t));return n},readPackedSVarint:function(n){if(this.type!==wr.Bytes)return n.push(this.readSVarint());var t=Jc(this);for(n=n||[];this.pos<t;)n.push(this.readSVarint());return n},readPackedBoolean:function(n){if(this.type!==wr.Bytes)return n.push(this.readBoolean());var t=Jc(this);for(n=n||[];this.pos<t;)n.push(this.readBoolean());return n},readPackedFloat:function(n){if(this.type!==wr.Bytes)return n.push(this.readFloat());var t=Jc(this);for(n=n||[];this.pos<t;)n.push(this.readFloat());return n},readPackedDouble:function(n){if(this.type!==wr.Bytes)return n.push(this.readDouble());var t=Jc(this);for(n=n||[];this.pos<t;)n.push(this.readDouble());return n},readPackedFixed32:function(n){if(this.type!==wr.Bytes)return n.push(this.readFixed32());var t=Jc(this);for(n=n||[];this.pos<t;)n.push(this.readFixed32());return n},readPackedSFixed32:function(n){if(this.type!==wr.Bytes)return n.push(this.readSFixed32());var t=Jc(this);for(n=n||[];this.pos<t;)n.push(this.readSFixed32());return n},readPackedFixed64:function(n){if(this.type!==wr.Bytes)return n.push(this.readFixed64());var t=Jc(this);for(n=n||[];this.pos<t;)n.push(this.readFixed64());return n},readPackedSFixed64:function(n){if(this.type!==wr.Bytes)return n.push(this.readSFixed64());var t=Jc(this);for(n=n||[];this.pos<t;)n.push(this.readSFixed64());return n},skip:function(n){var t=7&n;if(t===wr.Varint)for(;this.buf[this.pos++]>127;);else if(t===wr.Bytes)this.pos=this.readVarint()+this.pos;else if(t===wr.Fixed32)this.pos+=4;else{if(t!==wr.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(n,t){this.writeVarint(n<<3|t)},realloc:function(n){for(var t=this.length||16;t<this.pos+n;)t*=2;if(t!==this.length){var r=new Uint8Array(t);r.set(this.buf),this.buf=r,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(n){this.realloc(4),ps(this.buf,n,this.pos),this.pos+=4},writeSFixed32:function(n){this.realloc(4),ps(this.buf,n,this.pos),this.pos+=4},writeFixed64:function(n){this.realloc(8),ps(this.buf,-1&n,this.pos),ps(this.buf,Math.floor(n*B_),this.pos+4),this.pos+=8},writeSFixed64:function(n){this.realloc(8),ps(this.buf,-1&n,this.pos),ps(this.buf,Math.floor(n*B_),this.pos+4),this.pos+=8},writeVarint:function(n){(n=+n||0)>268435455||n<0?function(t,r){var c,u;if(t>=0?(c=t%4294967296|0,u=t/4294967296|0):(u=~(-t/4294967296),4294967295^(c=~(-t%4294967296))?c=c+1|0:(c=0,u=u+1|0)),t>=18446744073709552e3||t<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");r.realloc(10),function(g,v,T){T.buf[T.pos++]=127&g|128,g>>>=7,T.buf[T.pos++]=127&g|128,g>>>=7,T.buf[T.pos++]=127&g|128,g>>>=7,T.buf[T.pos++]=127&g|128,T.buf[T.pos]=127&(g>>>=7)}(c,0,r),function(g,v){var T=(7&g)<<4;v.buf[v.pos++]|=T|((g>>>=3)?128:0),g&&(v.buf[v.pos++]=127&g|((g>>>=7)?128:0),g&&(v.buf[v.pos++]=127&g|((g>>>=7)?128:0),g&&(v.buf[v.pos++]=127&g|((g>>>=7)?128:0),g&&(v.buf[v.pos++]=127&g|((g>>>=7)?128:0),g&&(v.buf[v.pos++]=127&g)))))}(u,r)}(n,this):(this.realloc(4),this.buf[this.pos++]=127&n|(n>127?128:0),n<=127||(this.buf[this.pos++]=127&(n>>>=7)|(n>127?128:0),n<=127||(this.buf[this.pos++]=127&(n>>>=7)|(n>127?128:0),n<=127||(this.buf[this.pos++]=n>>>7&127))))},writeSVarint:function(n){this.writeVarint(n<0?2*-n-1:2*n)},writeBoolean:function(n){this.writeVarint(!!n)},writeString:function(n){n=String(n),this.realloc(4*n.length),this.pos++;var t=this.pos;this.pos=function(c,u,g){for(var v,T,k=0;k<u.length;k++){if((v=u.charCodeAt(k))>55295&&v<57344){if(!T){v>56319||k+1===u.length?(c[g++]=239,c[g++]=191,c[g++]=189):T=v;continue}if(v<56320){c[g++]=239,c[g++]=191,c[g++]=189,T=v;continue}v=T-55296<<10|v-56320|65536,T=null}else T&&(c[g++]=239,c[g++]=191,c[g++]=189,T=null);v<128?c[g++]=v:(v<2048?c[g++]=v>>6|192:(v<65536?c[g++]=v>>12|224:(c[g++]=v>>18|240,c[g++]=v>>12&63|128),c[g++]=v>>6&63|128),c[g++]=63&v|128)}return g}(this.buf,n,this.pos);var r=this.pos-t;r>=128&&N_(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeFloat:function(n){this.realloc(4),z_(this.buf,n,this.pos,!0,23,4),this.pos+=4},writeDouble:function(n){this.realloc(8),z_(this.buf,n,this.pos,!0,52,8),this.pos+=8},writeBytes:function(n){var t=n.length;this.writeVarint(t),this.realloc(t);for(var r=0;r<t;r++)this.buf[this.pos++]=n[r]},writeRawMessage:function(n,t){this.pos++;var r=this.pos;n(t,this);var c=this.pos-r;c>=128&&N_(r,c,this),this.pos=r-1,this.writeVarint(c),this.pos+=c},writeMessage:function(n,t,r){this.writeTag(n,wr.Bytes),this.writeRawMessage(t,r)},writePackedVarint:function(n,t){t.length&&this.writeMessage(n,xx,t)},writePackedSVarint:function(n,t){t.length&&this.writeMessage(n,bx,t)},writePackedBoolean:function(n,t){t.length&&this.writeMessage(n,ag,t)},writePackedFloat:function(n,t){t.length&&this.writeMessage(n,wx,t)},writePackedDouble:function(n,t){t.length&&this.writeMessage(n,Tx,t)},writePackedFixed32:function(n,t){t.length&&this.writeMessage(n,Sx,t)},writePackedSFixed32:function(n,t){t.length&&this.writeMessage(n,lg,t)},writePackedFixed64:function(n,t){t.length&&this.writeMessage(n,Ex,t)},writePackedSFixed64:function(n,t){t.length&&this.writeMessage(n,Cx,t)},writeBytesField:function(n,t){this.writeTag(n,wr.Bytes),this.writeBytes(t)},writeFixed32Field:function(n,t){this.writeTag(n,wr.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(n,t){this.writeTag(n,wr.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(n,t){this.writeTag(n,wr.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(n,t){this.writeTag(n,wr.Fixed64),this.writeSFixed64(t)},writeVarintField:function(n,t){this.writeTag(n,wr.Varint),this.writeVarint(t)},writeSVarintField:function(n,t){this.writeTag(n,wr.Varint),this.writeSVarint(t)},writeStringField:function(n,t){this.writeTag(n,wr.Bytes),this.writeString(t)},writeFloatField:function(n,t){this.writeTag(n,wr.Fixed32),this.writeFloat(t)},writeDoubleField:function(n,t){this.writeTag(n,wr.Fixed64),this.writeDouble(t)},writeBooleanField:function(n,t){this.writeVarintField(n,!!t)}};class cg{constructor(t,{pixelRatio:r,version:c,stretchX:u,stretchY:g,content:v}){this.paddedRect=t,this.pixelRatio=r,this.stretchX=u,this.stretchY=g,this.content=v,this.version=c}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class j_{constructor(t,r){const c={},u={};this.haveRenderCallbacks=[];const g=[];this.addImages(t,c,g),this.addImages(r,u,g);const{w:v,h:T}=y0(g),k=new ca({width:v||1,height:T||1});for(const D in t){const te=t[D],he=c[D].paddedRect;ca.copy(te.data,k,{x:0,y:0},{x:he.x+1,y:he.y+1},te.data)}for(const D in r){const te=r[D],he=u[D].paddedRect,ge=he.x+1,Se=he.y+1,Ae=te.data.width,ze=te.data.height;ca.copy(te.data,k,{x:0,y:0},{x:ge,y:Se},te.data),ca.copy(te.data,k,{x:0,y:ze-1},{x:ge,y:Se-1},{width:Ae,height:1}),ca.copy(te.data,k,{x:0,y:0},{x:ge,y:Se+ze},{width:Ae,height:1}),ca.copy(te.data,k,{x:Ae-1,y:0},{x:ge-1,y:Se},{width:1,height:ze}),ca.copy(te.data,k,{x:0,y:0},{x:ge+Ae,y:Se},{width:1,height:ze})}this.image=k,this.iconPositions=c,this.patternPositions=u}addImages(t,r,c){for(const u in t){const g=t[u],v={x:0,y:0,w:g.data.width+2,h:g.data.height+2};c.push(v),r[u]=new cg(v,g),g.hasRenderCallback&&this.haveRenderCallbacks.push(u)}}patchUpdatedImages(t,r){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(c=>t.hasImage(c)),t.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const c in t.updatedImages)this.patchUpdatedImage(this.iconPositions[c],t.getImage(c),r),this.patchUpdatedImage(this.patternPositions[c],t.getImage(c),r)}patchUpdatedImage(t,r,c){if(!t||!r||t.version===r.version)return;t.version=r.version;const[u,g]=t.tl;c.update(r.data,void 0,{x:u,y:g})}}Ri(cg,"ImagePosition"),Ri(j_,"ImageAtlas");const Oa={horizontal:1,vertical:2,horizontalOnly:3};class wu{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(t,r){const c=new wu;return c.scale=t||1,c.fontStack=r,c}static forImage(t){const r=new wu;return r.imageName=t,r}}class Tu{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(t,r){const c=new Tu;for(let u=0;u<t.sections.length;u++){const g=t.sections[u];g.image?c.addImageSection(g):c.addTextSection(g,r)}return c}length(){return this.text.length}getSection(t){return this.sections[this.sectionIndex[t]]}getSections(){return this.sections}getSectionIndex(t){return this.sectionIndex[t]}getCharCode(t){return this.text.charCodeAt(t)}verticalizePunctuation(t){this.text=function(r,c){let u="";for(let g=0;g<r.length;g++){const v=r.charCodeAt(g+1)||null,T=r.charCodeAt(g-1)||null;u+=!c&&(v&&le(v)&&!dr[r[g+1]]||T&&le(T)&&!dr[r[g-1]])||!dr[r[g]]?r[g]:dr[r[g]]}return u}(this.text,t)}trim(){let t=0;for(let c=0;c<this.text.length&&v0[this.text.charCodeAt(c)];c++)t++;let r=this.text.length;for(let c=this.text.length-1;c>=0&&c>=t&&v0[this.text.charCodeAt(c)];c--)r--;this.text=this.text.substring(t,r),this.sectionIndex=this.sectionIndex.slice(t,r)}substring(t,r){const c=new Tu;return c.text=this.text.substring(t,r),c.sectionIndex=this.sectionIndex.slice(t,r),c.sections=this.sections,c}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((t,r)=>Math.max(t,this.sections[r].scale),0)}addTextSection(t,r){this.text+=t.text,this.sections.push(wu.forText(t.scale,t.fontStack||r));const c=this.sections.length-1;for(let u=0;u<t.text.length;++u)this.sectionIndex.push(c)}addImageSection(t){const r=t.image?t.image.name:"";if(r.length===0)return void Y("Can't add FormattedSection with an empty image.");const c=this.getNextImageSectionCharCode();c?(this.text+=String.fromCharCode(c),this.sections.push(wu.forImage(r)),this.sectionIndex.push(this.sections.length-1)):Y("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function hg(n,t,r,c,u,g,v,T,k,D,te,he,ge,Se,Ae){const ze=Tu.fromFeature(n,u);he===Oa.vertical&&ze.verticalizePunctuation(ge);let Xe=[];const lt=function(bt,qt,$t,ni,wi,Kt){if(!bt)return[];const ai=[],ci=function(Pi,an,Bi,Wi,Ii,cn){let Wn=0;for(let Nn=0;Nn<Pi.length();Nn++){const zn=Pi.getSection(Nn);Wn+=dg(Pi.getCharCode(Nn),zn,Wi,Ii,an,cn)}return Wn/Math.max(1,Math.ceil(Wn/Bi))}(bt,qt,$t,ni,wi,Kt),yi=bt.text.indexOf("​")>=0;let Ti=0;for(let Pi=0;Pi<bt.length();Pi++){const an=bt.getSection(Pi),Bi=bt.getCharCode(Pi);if(v0[Bi]||(Ti+=dg(Bi,an,ni,wi,qt,Kt)),Pi<bt.length()-1){const Wi=!((ei=Bi)<11904||!(na(ei)||ou(ei)||m(ei)||lu(ei)||Pf(ei)||Mf(ei)||Af(ei)||wd(ei)||If(ei)||au(ei)||kf(ei)||_(ei)||Qa(ei)||up(ei)||dp(ei)||pp(ei)||Mh(ei)||lc(ei)||Lf(ei)||fp(ei)));(U_[Bi]||Wi||an.imageName)&&ai.push(G_(Pi+1,Ti,ci,ai,Px(Bi,bt.getCharCode(Pi+1),Wi&&yi),!1))}}var ei;return W_(G_(bt.length(),Ti,ci,ai,0,!0))}(ze,D,g,t,c,Se),{processBidirectionalText:_t,processStyledBidirectionalText:at}=Ct;if(_t&&ze.sections.length===1){const bt=_t(ze.toString(),lt);for(const qt of bt){const $t=new Tu;$t.text=qt,$t.sections=ze.sections;for(let ni=0;ni<qt.length;ni++)$t.sectionIndex.push(0);Xe.push($t)}}else if(at){const bt=at(ze.text,ze.sectionIndex,lt);for(const qt of bt){const $t=new Tu;$t.text=qt[0],$t.sectionIndex=qt[1],$t.sections=ze.sections,Xe.push($t)}}else Xe=function(bt,qt){const $t=[],ni=bt.text;let wi=0;for(const Kt of qt)$t.push(bt.substring(wi,Kt)),wi=Kt;return wi<ni.length&&$t.push(bt.substring(wi,ni.length)),$t}(ze,lt);const mt=[],Tt={positionedLines:mt,text:ze.toString(),top:te[1],bottom:te[1],left:te[0],right:te[0],writingMode:he,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(bt,qt,$t,ni,wi,Kt,ai,ci,yi,Ti,ei,Pi){let an=0,Bi=0,Wi=0;const Ii=ci==="right"?1:ci==="left"?0:.5;let cn=!1;for(const _n of wi){const $n=_n.getSections();for(const Tr of $n){if(Tr.imageName)continue;const Br=qt[Tr.fontStack];if(Br&&(cn=Br.ascender!==void 0&&Br.descender!==void 0,!cn))break}if(!cn)break}let Wn=0;for(const _n of wi){_n.trim();const $n=_n.getMaxScale(),Tr=($n-1)*$s,Br={positionedGlyphs:[],lineOffset:0};bt.positionedLines[Wn]=Br;const Lr=Br.positionedGlyphs;let Fr=0;if(!_n.length()){Bi+=Kt,++Wn;continue}let Ur=0,fs=0;for(let vr=0;vr<_n.length();vr++){const Bs=_n.getSection(vr),Is=_n.getSectionIndex(vr),lr=_n.getCharCode(vr);let es=Bs.scale,Hs=null,Sr=null,ws=null,Yo=$s,yo=0;const vo=!(yi===Oa.horizontal||!ei&&!H(lr)||ei&&(v0[lr]||(Nn=lr,bd(Nn)||Ja(Nn)||hp(Nn)||ac(Nn)||d(Nn))));if(Bs.imageName){const fa=ni[Bs.imageName];if(!fa)continue;ws=Bs.imageName,bt.iconsInText=bt.iconsInText||!0,Sr=fa.paddedRect;const xo=fa.displaySize;es=es*$s/Pi,Hs={width:xo[0],height:xo[1],left:1,top:-3,advance:vo?xo[1]:xo[0],localGlyph:!1},yo=cn?-Hs.height*es:$n*$s-17-xo[1]*es,Yo=Hs.advance;const Od=(vo?xo[0]:xo[1])*es-$s*$n;Od>0&&Od>Fr&&(Fr=Od)}else{const fa=$t[Bs.fontStack];if(!fa)continue;fa[lr]&&(Sr=fa[lr]);const xo=qt[Bs.fontStack];if(!xo)continue;const Od=xo.glyphs[lr];if(!Od)continue;if(Hs=Od.metrics,Yo=lr!==8203?$s:0,cn){const L0=xo.ascender!==void 0?Math.abs(xo.ascender):0,Eg=xo.descender!==void 0?Math.abs(xo.descender):0,Cg=(L0+Eg)*es;Ur<Cg&&(Ur=Cg,fs=(L0-Eg)/2*es),yo=-L0*es}else yo=($n-es)*$s-17}vo?(bt.verticalizable=!0,Lr.push({glyph:lr,imageName:ws,x:an,y:Bi+yo,vertical:vo,scale:es,localGlyph:Hs.localGlyph,fontStack:Bs.fontStack,sectionIndex:Is,metrics:Hs,rect:Sr}),an+=Yo*es+Ti):(Lr.push({glyph:lr,imageName:ws,x:an,y:Bi+yo,vertical:vo,scale:es,localGlyph:Hs.localGlyph,fontStack:Bs.fontStack,sectionIndex:Is,metrics:Hs,rect:Sr}),an+=Hs.advance*es+Ti)}Lr.length!==0&&(Wi=Math.max(an-Ti,Wi),cn?$_(Lr,Ii,Fr,fs,Kt*$n/2):$_(Lr,Ii,Fr,0,Kt/2)),an=0;const _o=Kt*$n+Fr;Br.lineOffset=Math.max(Fr,Tr),Bi+=_o,++Wn}var Nn;const zn=Bi,{horizontalAlign:hn,verticalAlign:yr}=Nh(ai);(function(_n,$n,Tr,Br,Lr,Fr){const Ur=($n-Tr)*Lr,fs=-Fr*Br;for(const _o of _n)for(const vr of _o.positionedGlyphs)vr.x+=Ur,vr.y+=fs})(bt.positionedLines,Ii,hn,yr,Wi,zn),bt.top+=-yr*zn,bt.bottom=bt.top+zn,bt.left+=-hn*Wi,bt.right=bt.left+Wi,bt.hasBaseline=cn}(Tt,t,r,c,Xe,v,T,k,he,D,ge,Ae),!function(bt){for(const qt of bt)if(qt.positionedGlyphs.length!==0)return!1;return!0}(mt)&&Tt}const v0={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},U_={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function dg(n,t,r,c,u,g){if(t.imageName){const v=c[t.imageName];return v?v.displaySize[0]*t.scale*$s/g+u:0}{const v=r[t.fontStack],T=v&&v.glyphs[n];return T?T.metrics.advance*t.scale+u:0}}function V_(n,t,r,c){const u=Math.pow(n-t,2);return c?n<t?u/2:2*u:u+Math.abs(r)*r}function Px(n,t,r){let c=0;return n===10&&(c-=1e4),r&&(c+=150),n!==40&&n!==65288||(c+=50),t!==41&&t!==65289||(c+=50),c}function G_(n,t,r,c,u,g){let v=null,T=V_(t,r,u,g);for(const k of c){const D=V_(t-k.x,r,u,g)+k.badness;D<=T&&(v=k,T=D)}return{index:n,x:t,priorBreak:v,badness:T}}function W_(n){return n?W_(n.priorBreak).concat(n.index):[]}function Nh(n){let t=.5,r=.5;switch(n){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(n){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:t,verticalAlign:r}}function $_(n,t,r,c,u){if(!(t||r||c||u))return;const g=n.length-1,v=n[g],T=(v.x+v.metrics.advance*v.scale)*t;for(let k=0;k<=g;k++)n[k].x-=T,n[k].y+=r+c+u}function Ix(n,t,r){const{horizontalAlign:c,verticalAlign:u}=Nh(r),g=t[0]-n.displaySize[0]*c,v=t[1]-n.displaySize[1]*u;return{image:n,top:v,bottom:v+n.displaySize[1],left:g,right:g+n.displaySize[0]}}function H_(n,t,r,c,u,g){const v=n.image;let T;if(v.content){const Xe=v.content,lt=v.pixelRatio||1;T=[Xe[0]/lt,Xe[1]/lt,v.displaySize[0]-Xe[2]/lt,v.displaySize[1]-Xe[3]/lt]}const k=t.left*g,D=t.right*g;let te,he,ge,Se;r==="width"||r==="both"?(Se=u[0]+k-c[3],he=u[0]+D+c[1]):(Se=u[0]+(k+D-v.displaySize[0])/2,he=Se+v.displaySize[0]);const Ae=t.top*g,ze=t.bottom*g;return r==="height"||r==="both"?(te=u[1]+Ae-c[0],ge=u[1]+ze+c[2]):(te=u[1]+(Ae+ze-v.displaySize[1])/2,ge=te+v.displaySize[1]),{image:v,top:te,right:he,bottom:ge,left:Se,collisionPadding:T}}class Qc extends R{constructor(t,r,c,u,g){super(t,r),this.angle=u,this.z=c,g!==void 0&&(this.segment=g)}clone(){return new Qc(this.x,this.y,this.z,this.angle,this.segment)}}function q_(n,t,r,c,u){if(t.segment===void 0)return!0;let g=t,v=t.segment+1,T=0;for(;T>-r/2;){if(v--,v<0)return!1;T-=n[v].dist(g),g=n[v]}T+=n[v].dist(n[v+1]),v++;const k=[];let D=0;for(;T<r/2;){const te=n[v],he=n[v+1];if(!he)return!1;let ge=n[v-1].angleTo(te)-te.angleTo(he);for(ge=Math.abs((ge+3*Math.PI)%(2*Math.PI)-Math.PI),k.push({distance:T,angleDelta:ge}),D+=ge;T-k[0].distance>c;)D-=k.shift().angleDelta;if(D>u)return!1;v++,T+=te.dist(he)}return!0}function ug(n){let t=0;for(let r=0;r<n.length-1;r++)t+=n[r].dist(n[r+1]);return t}function pg(n,t,r){return n?.6*t*r:0}function X_(n,t){return Math.max(n?n.right-n.left:0,t?t.right-t.left:0)}function Lx(n,t,r,c,u,g){const v=pg(r,u,g),T=X_(r,c)*g;let k=0;const D=ug(n)/2;for(let te=0;te<n.length-1;te++){const he=n[te],ge=n[te+1],Se=he.dist(ge);if(k+Se>D){const Ae=(D-k)/Se,ze=Qi(he.x,ge.x,Ae),Xe=Qi(he.y,ge.y,Ae),lt=new Qc(ze,Xe,0,ge.angleTo(he),te);return!v||q_(n,lt,T,v,t)?lt:void 0}k+=Se}}function Dx(n,t,r,c,u,g,v,T,k){const D=pg(c,g,v),te=X_(c,u),he=te*v,ge=n[0].x===0||n[0].x===k||n[0].y===0||n[0].y===k;return t-he<t/4&&(t=he+t/4),Y_(n,ge?t/2*T%t:(te/2+2*g)*v*T%t,t,D,r,he,ge,!1,k)}function Y_(n,t,r,c,u,g,v,T,k){const D=g/2,te=ug(n);let he=0,ge=t-r,Se=[];for(let Ae=0;Ae<n.length-1;Ae++){const ze=n[Ae],Xe=n[Ae+1],lt=ze.dist(Xe),_t=Xe.angleTo(ze);for(;ge+r<he+lt;){ge+=r;const at=(ge-he)/lt,mt=Qi(ze.x,Xe.x,at),Tt=Qi(ze.y,Xe.y,at);if(mt>=0&&mt<k&&Tt>=0&&Tt<k&&ge-D>=0&&ge+D<=te){const bt=new Qc(mt,Tt,0,_t,Ae);bt._round(),c&&!q_(n,bt,g,c,u)||Se.push(bt)}}he+=lt}return T||Se.length||v||(Se=Y_(n,he/2,r,c,u,g,v,!0,k)),Se}function Z_(n,t,r,c,u){const g=[];for(let v=0;v<n.length;v++){const T=n[v];let k;for(let D=0;D<T.length-1;D++){let te=T[D],he=T[D+1];te.x<t&&he.x<t||(te.x<t?te=new R(t,te.y+(t-te.x)/(he.x-te.x)*(he.y-te.y))._round():he.x<t&&(he=new R(t,te.y+(t-te.x)/(he.x-te.x)*(he.y-te.y))._round()),te.y<r&&he.y<r||(te.y<r?te=new R(te.x+(r-te.y)/(he.y-te.y)*(he.x-te.x),r)._round():he.y<r&&(he=new R(te.x+(r-te.y)/(he.y-te.y)*(he.x-te.x),r)._round()),te.x>=c&&he.x>=c||(te.x>=c?te=new R(c,te.y+(c-te.x)/(he.x-te.x)*(he.y-te.y))._round():he.x>=c&&(he=new R(c,te.y+(c-te.x)/(he.x-te.x)*(he.y-te.y))._round()),te.y>=u&&he.y>=u||(te.y>=u?te=new R(te.x+(u-te.y)/(he.y-te.y)*(he.x-te.x),u)._round():he.y>=u&&(he=new R(te.x+(u-te.y)/(he.y-te.y)*(he.x-te.x),u)._round()),k&&te.equals(k[k.length-1])||(k=[te],g.push(k)),k.push(he)))))}}return g}Ri(Qc,"Anchor");const Fp=1e20;function K_(n,t,r,c,u,g,v,T,k){for(let D=t;D<t+c;D++)J_(n,r*g+D,g,u,v,T,k);for(let D=r;D<r+u;D++)J_(n,D*g+t,1,c,v,T,k)}function J_(n,t,r,c,u,g,v){g[0]=0,v[0]=-Fp,v[1]=Fp,u[0]=n[t];for(let T=1,k=0,D=0;T<c;T++){u[T]=n[t+T*r];const te=T*T;do{const he=g[k];D=(u[T]-u[he]+te-he*he)/(T-he)/2}while(D<=v[k]&&--k>-1);k++,g[k]=T,v[k]=D,v[k+1]=Fp}for(let T=0,k=0;T<c;T++){for(;v[k+1]<T;)k++;const D=g[k],te=T-D;n[t+T*r]=u[D]+te*te}}const fg={none:0,ideographs:1,all:2};class Su{constructor(t,r,c){this.requestManager=t,this.localGlyphMode=r,this.localFontFamily=c,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(t){this.url=t}getGlyphs(t,r){const c=[];for(const u in t)for(const g of t[u])c.push({stack:u,id:g});fe(c,({stack:u,id:g},v)=>{let T=this.entries[u];T||(T=this.entries[u]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let k=T.glyphs[g];if(k!==void 0)return void v(null,{stack:u,id:g,glyph:k});if(k=this._tinySDF(T,u,g),k)return T.glyphs[g]=k,void v(null,{stack:u,id:g,glyph:k});const D=Math.floor(g/256);if(256*D>65535)return void v(new Error("glyphs > 65535 not supported"));if(T.ranges[D])return void v(null,{stack:u,id:g,glyph:k});let te=T.requests[D];te||(te=T.requests[D]=[],Su.loadGlyphRange(u,D,this.url,this.requestManager,(he,ge)=>{if(ge){T.ascender=ge.ascender,T.descender=ge.descender;for(const Se in ge.glyphs)this._doesCharSupportLocalGlyph(+Se)||(T.glyphs[+Se]=ge.glyphs[+Se]);T.ranges[D]=!0}for(const Se of te)Se(he,ge);delete T.requests[D]})),te.push((he,ge)=>{he?v(he):ge&&v(null,{stack:u,id:g,glyph:ge.glyphs[g]||null})})},(u,g)=>{if(u)r(u);else if(g){const v={};for(const{stack:T,id:k,glyph:D}of g)v[T]===void 0&&(v[T]={}),v[T].glyphs===void 0&&(v[T].glyphs={}),v[T].glyphs[k]=D&&{id:D.id,bitmap:D.bitmap.clone(),metrics:D.metrics},v[T].ascender=this.entries[T].ascender,v[T].descender=this.entries[T].descender;r(null,v)}})}_doesCharSupportLocalGlyph(t){return this.localGlyphMode!==fg.none&&(this.localGlyphMode===fg.all?!!this.localFontFamily:!!this.localFontFamily&&(au(t)||Df(t)||Qa(t)||Mh(t)||wd(t)))}_tinySDF(t,r,c){const u=this.localFontFamily;if(!u||!this._doesCharSupportLocalGlyph(c))return;let g=t.tinySDF;if(!g){let ze="400";/bold/i.test(r)?ze="900":/medium/i.test(r)?ze="500":/light/i.test(r)&&(ze="200"),g=t.tinySDF=new Su.TinySDF({fontFamily:u,fontWeight:ze,fontSize:48,buffer:6,radius:16}),g.fontWeight=ze}if(this.localGlyphs[g.fontWeight][c])return this.localGlyphs[g.fontWeight][c];const v=String.fromCharCode(c),{data:T,width:k,height:D,glyphWidth:te,glyphHeight:he,glyphLeft:ge,glyphTop:Se,glyphAdvance:Ae}=g.draw(v);return this.localGlyphs[g.fontWeight][c]={id:c,bitmap:new rl({width:k,height:D},T),metrics:{width:te/2,height:he/2,left:ge/2,top:Se/2-27,advance:Ae/2,localGlyph:!0}}}}function Q_(n,t,r,c){const u=[],g=n.image,v=g.pixelRatio,T=g.paddedRect.w-2,k=g.paddedRect.h-2,D=n.right-n.left,te=n.bottom-n.top,he=g.stretchX||[[0,T]],ge=g.stretchY||[[0,k]],Se=(Kt,ai)=>Kt+ai[1]-ai[0],Ae=he.reduce(Se,0),ze=ge.reduce(Se,0),Xe=T-Ae,lt=k-ze;let _t=0,at=Ae,mt=0,Tt=ze,bt=0,qt=Xe,$t=0,ni=lt;if(g.content&&c){const Kt=g.content;_t=x0(he,0,Kt[0]),mt=x0(ge,0,Kt[1]),at=x0(he,Kt[0],Kt[2]),Tt=x0(ge,Kt[1],Kt[3]),bt=Kt[0]-_t,$t=Kt[1]-mt,qt=Kt[2]-Kt[0]-at,ni=Kt[3]-Kt[1]-Tt}const wi=(Kt,ai,ci,yi)=>{const Ti=b0(Kt.stretch-_t,at,D,n.left),ei=w0(Kt.fixed-bt,qt,Kt.stretch,Ae),Pi=b0(ai.stretch-mt,Tt,te,n.top),an=w0(ai.fixed-$t,ni,ai.stretch,ze),Bi=b0(ci.stretch-_t,at,D,n.left),Wi=w0(ci.fixed-bt,qt,ci.stretch,Ae),Ii=b0(yi.stretch-mt,Tt,te,n.top),cn=w0(yi.fixed-$t,ni,yi.stretch,ze),Wn=new R(Ti,Pi),Nn=new R(Bi,Pi),zn=new R(Bi,Ii),hn=new R(Ti,Ii),yr=new R(ei/v,an/v),_n=new R(Wi/v,cn/v),$n=t*Math.PI/180;if($n){const Lr=Math.sin($n),Fr=Math.cos($n),Ur=[Fr,-Lr,Lr,Fr];Wn._matMult(Ur),Nn._matMult(Ur),hn._matMult(Ur),zn._matMult(Ur)}const Tr=Kt.stretch+Kt.fixed,Br=ai.stretch+ai.fixed;return{tl:Wn,tr:Nn,bl:hn,br:zn,tex:{x:g.paddedRect.x+1+Tr,y:g.paddedRect.y+1+Br,w:ci.stretch+ci.fixed-Tr,h:yi.stretch+yi.fixed-Br},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:yr,pixelOffsetBR:_n,minFontScaleX:qt/v/D,minFontScaleY:ni/v/te,isSDF:r}};if(c&&(g.stretchX||g.stretchY)){const Kt=ey(he,Xe,Ae),ai=ey(ge,lt,ze);for(let ci=0;ci<Kt.length-1;ci++){const yi=Kt[ci],Ti=Kt[ci+1];for(let ei=0;ei<ai.length-1;ei++)u.push(wi(yi,ai[ei],Ti,ai[ei+1]))}}else u.push(wi({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:T+1},{fixed:0,stretch:k+1}));return u}function x0(n,t,r){let c=0;for(const u of n)c+=Math.max(t,Math.min(r,u[1]))-Math.max(t,Math.min(r,u[0]));return c}function ey(n,t,r){const c=[{fixed:-1,stretch:0}];for(const[u,g]of n){const v=c[c.length-1];c.push({fixed:u-v.stretch,stretch:v.stretch}),c.push({fixed:u-v.stretch,stretch:v.stretch+(g-u)})}return c.push({fixed:t+1,stretch:r}),c}function b0(n,t,r,c){return n/t*r+c}function w0(n,t,r,c){return n-t*r/c}function Ox(n,t,r,c){const u=t+n.positionedLines[c].lineOffset;return c===0?r+u/2:r+(u+(t+n.positionedLines[c-1].lineOffset))/2}Su.loadGlyphRange=function(n,t,r,c,u){const g=256*t,v=g+255,T=c.transformRequest(c.normalizeGlyphsURL(r).replace("{fontstack}",n).replace("{range}",`${g}-${v}`),ri.Glyphs);Ni(T,(k,D)=>{if(k)u(k);else if(D){const te={},he=function(ge){return new Fh(ge).readFields(Mx,{})}(D);for(const ge of he.glyphs)te[ge.id]=ge;u(null,{glyphs:te,ascender:he.ascender,descender:he.descender})}})},Su.TinySDF=class{constructor({fontSize:n=24,buffer:t=3,radius:r=8,cutoff:c=.25,fontFamily:u="sans-serif",fontWeight:g="normal",fontStyle:v="normal"}={}){this.buffer=t,this.cutoff=c,this.radius=r;const T=this.size=n+4*t,k=this._createCanvas(T),D=this.ctx=k.getContext("2d",{willReadFrequently:!0});D.font=`${v} ${g} ${n}px ${u}`,D.textBaseline="alphabetic",D.textAlign="left",D.fillStyle="black",this.gridOuter=new Float64Array(T*T),this.gridInner=new Float64Array(T*T),this.f=new Float64Array(T),this.z=new Float64Array(T+1),this.v=new Uint16Array(T)}_createCanvas(n){const t=document.createElement("canvas");return t.width=t.height=n,t}draw(n){const{width:t,actualBoundingBoxAscent:r,actualBoundingBoxDescent:c,actualBoundingBoxLeft:u,actualBoundingBoxRight:g}=this.ctx.measureText(n),v=Math.ceil(r),T=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(g-u))),k=Math.min(this.size-this.buffer,v+Math.ceil(c)),D=T+2*this.buffer,te=k+2*this.buffer,he=Math.max(D*te,0),ge=new Uint8ClampedArray(he),Se={data:ge,width:D,height:te,glyphWidth:T,glyphHeight:k,glyphTop:v,glyphLeft:0,glyphAdvance:t};if(T===0||k===0)return Se;const{ctx:Ae,buffer:ze,gridInner:Xe,gridOuter:lt}=this;Ae.clearRect(ze,ze,T,k),Ae.fillText(n,ze,ze+v);const _t=Ae.getImageData(ze,ze,T,k);lt.fill(Fp,0,he),Xe.fill(0,0,he);for(let at=0;at<k;at++)for(let mt=0;mt<T;mt++){const Tt=_t.data[4*(at*T+mt)+3]/255;if(Tt===0)continue;const bt=(at+ze)*D+mt+ze;if(Tt===1)lt[bt]=0,Xe[bt]=Fp;else{const qt=.5-Tt;lt[bt]=qt>0?qt*qt:0,Xe[bt]=qt<0?qt*qt:0}}K_(lt,0,0,D,te,D,this.f,this.v,this.z),K_(Xe,ze,ze,T,k,D,this.f,this.v,this.z);for(let at=0;at<he;at++){const mt=Math.sqrt(lt[at])-Math.sqrt(Xe[at]);ge[at]=Math.round(255-255*(mt/this.radius+this.cutoff))}return Se}};class Rx{constructor(t=[],r=zx){if(this.data=t,this.length=this.data.length,this.compare=r,this.length>0)for(let c=(this.length>>1)-1;c>=0;c--)this._down(c)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const t=this.data[0],r=this.data.pop();return this.length--,this.length>0&&(this.data[0]=r,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:r,compare:c}=this,u=r[t];for(;t>0;){const g=t-1>>1,v=r[g];if(c(u,v)>=0)break;r[t]=v,t=g}r[t]=u}_down(t){const{data:r,compare:c}=this,u=this.length>>1,g=r[t];for(;t<u;){let v=1+(t<<1),T=r[v];const k=v+1;if(k<this.length&&c(r[k],T)<0&&(v=k,T=r[k]),c(T,g)>=0)break;r[t]=T,t=v}r[t]=g}}function zx(n,t){return n<t?-1:n>t?1:0}function Bx(n,t=1,r=!1){let c=1/0,u=1/0,g=-1/0,v=-1/0;const T=n[0];for(let Se=0;Se<T.length;Se++){const Ae=T[Se];(!Se||Ae.x<c)&&(c=Ae.x),(!Se||Ae.y<u)&&(u=Ae.y),(!Se||Ae.x>g)&&(g=Ae.x),(!Se||Ae.y>v)&&(v=Ae.y)}const k=Math.min(g-c,v-u);let D=k/2;const te=new Rx([],Fx);if(k===0)return new R(c,u);for(let Se=c;Se<g;Se+=k)for(let Ae=u;Ae<v;Ae+=k)te.push(new Eu(Se+D,Ae+D,D,n));let he=function(Se){let Ae=0,ze=0,Xe=0;const lt=Se[0];for(let _t=0,at=lt.length,mt=at-1;_t<at;mt=_t++){const Tt=lt[_t],bt=lt[mt],qt=Tt.x*bt.y-bt.x*Tt.y;ze+=(Tt.x+bt.x)*qt,Xe+=(Tt.y+bt.y)*qt,Ae+=3*qt}return new Eu(ze/Ae,Xe/Ae,0,Se)}(n),ge=te.length;for(;te.length;){const Se=te.pop();(Se.d>he.d||!he.d)&&(he=Se,r&&console.log("found best %d after %d probes",Math.round(1e4*Se.d)/1e4,ge)),Se.max-he.d<=t||(D=Se.h/2,te.push(new Eu(Se.p.x-D,Se.p.y-D,D,n)),te.push(new Eu(Se.p.x+D,Se.p.y-D,D,n)),te.push(new Eu(Se.p.x-D,Se.p.y+D,D,n)),te.push(new Eu(Se.p.x+D,Se.p.y+D,D,n)),ge+=4)}return r&&(console.log(`num probes: ${ge}`),console.log(`best distance: ${he.d}`)),he.p}function Fx(n,t){return t.max-n.max}class Eu{constructor(t,r,c,u){this.p=new R(t,r),this.h=c,this.d=function(g,v){let T=!1,k=1/0;for(let D=0;D<v.length;D++){const te=v[D];for(let he=0,ge=te.length,Se=ge-1;he<ge;Se=he++){const Ae=te[he],ze=te[Se];Ae.y>g.y!=ze.y>g.y&&g.x<(ze.x-Ae.x)*(g.y-Ae.y)/(ze.y-Ae.y)+Ae.x&&(T=!T),k=Math.min(k,s_(g,Ae,ze))}}return(T?1:-1)*Math.sqrt(k)}(this.p,u),this.max=this.d+this.h*Math.SQRT2}}const mg=Number.POSITIVE_INFINITY,Nx=Math.sqrt(2);function ty(n,[t,r]){let c=0,u=0;if(r===mg){t<0&&(t=0);const g=t/Nx;switch(n){case"top-right":case"top-left":u=g-7;break;case"bottom-right":case"bottom-left":u=7-g;break;case"bottom":u=7-t;break;case"top":u=t-7}switch(n){case"top-right":case"bottom-right":c=-g;break;case"top-left":case"bottom-left":c=g;break;case"left":c=t;break;case"right":c=-t}}else{switch(t=Math.abs(t),r=Math.abs(r),n){case"top-right":case"top-left":case"top":u=r-7;break;case"bottom-right":case"bottom-left":case"bottom":u=7-r}switch(n){case"top-right":case"bottom-right":case"right":c=-t;break;case"top-left":case"bottom-left":case"left":c=t}}return[c,u]}function jx(n,t,r,c,u,g,v,T,k,D){n.createArrays(),n.tilePixelRatio=ln/(512*n.overscaling),n.compareText={},n.iconsNeedLinear=!1;const te=n.layers[0].layout,he=n.layers[0]._unevaluatedLayout._values,ge={};if(n.textSizeData.kind==="composite"){const{minZoom:ze,maxZoom:Xe}=n.textSizeData;ge.compositeTextSizes=[he["text-size"].possiblyEvaluate(new Rt(ze),T),he["text-size"].possiblyEvaluate(new Rt(Xe),T)]}if(n.iconSizeData.kind==="composite"){const{minZoom:ze,maxZoom:Xe}=n.iconSizeData;ge.compositeIconSizes=[he["icon-size"].possiblyEvaluate(new Rt(ze),T),he["icon-size"].possiblyEvaluate(new Rt(Xe),T)]}ge.layoutTextSize=he["text-size"].possiblyEvaluate(new Rt(k+1),T),ge.layoutIconSize=he["icon-size"].possiblyEvaluate(new Rt(k+1),T),ge.textMaxSize=he["text-size"].possiblyEvaluate(new Rt(18),T);const Se=te.get("text-rotation-alignment")==="map"&&te.get("symbol-placement")!=="point",Ae=te.get("text-size");for(const ze of n.features){const Xe=te.get("text-font").evaluate(ze,{},T).join(","),lt=Ae.evaluate(ze,{},T),_t=ge.layoutTextSize.evaluate(ze,{},T),at=(ge.layoutIconSize.evaluate(ze,{},T),{horizontal:{},vertical:void 0}),mt=ze.text;let Tt,bt=[0,0];if(mt){const ni=mt.toString(),wi=te.get("text-letter-spacing").evaluate(ze,{},T)*$s,Kt=te.get("text-line-height").evaluate(ze,{},T)*$s,ai=E(ni)?wi:0,ci=te.get("text-anchor").evaluate(ze,{},T),yi=te.get("text-variable-anchor");if(!yi){const Bi=te.get("text-radial-offset").evaluate(ze,{},T);bt=Bi?ty(ci,[Bi*$s,mg]):te.get("text-offset").evaluate(ze,{},T).map(Wi=>Wi*$s)}let Ti=Se?"center":te.get("text-justify").evaluate(ze,{},T);const ei=te.get("symbol-placement")==="point",Pi=ei?te.get("text-max-width").evaluate(ze,{},T)*$s:1/0,an=Bi=>{n.allowVerticalPlacement&&w(ni)&&(at.vertical=hg(mt,t,r,u,Xe,Pi,Kt,ci,Bi,ai,bt,Oa.vertical,!0,_t,lt))};if(!Se&&yi){const Bi=Ti==="auto"?yi.map(Ii=>Np(Ii)):[Ti];let Wi=!1;for(let Ii=0;Ii<Bi.length;Ii++){const cn=Bi[Ii];if(!at.horizontal[cn])if(Wi)at.horizontal[cn]=at.horizontal[0];else{const Wn=hg(mt,t,r,u,Xe,Pi,Kt,"center",cn,ai,bt,Oa.horizontal,!1,_t,lt);Wn&&(at.horizontal[cn]=Wn,Wi=Wn.positionedLines.length===1)}}an("left")}else{if(Ti==="auto"&&(Ti=Np(ci)),ei||te.get("text-writing-mode").indexOf("horizontal")>=0||!w(ni)){const Bi=hg(mt,t,r,u,Xe,Pi,Kt,ci,Ti,ai,bt,Oa.horizontal,!1,_t,lt);Bi&&(at.horizontal[Ti]=Bi)}an(ei?"left":Ti)}}let qt=!1;if(ze.icon&&ze.icon.name){const ni=c[ze.icon.name];ni&&(Tt=Ix(u[ze.icon.name],te.get("icon-offset").evaluate(ze,{},T),te.get("icon-anchor").evaluate(ze,{},T)),qt=ni.sdf,n.sdfIcons===void 0?n.sdfIcons=ni.sdf:n.sdfIcons!==ni.sdf&&Y("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ni.pixelRatio!==n.pixelRatio||te.get("icon-rotate").constantOr(1)!==0)&&(n.iconsNeedLinear=!0))}const $t=ry(at.horizontal)||at.vertical;n.iconsInText||(n.iconsInText=!!$t&&$t.iconsInText),($t||Tt)&&iy(n,ze,at,Tt,c,ge,_t,0,bt,qt,v,T,D)}g&&n.generateCollisionDebugBuffers(k,n.collisionBoxArray)}function Np(n){switch(n){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function iy(n,t,r,c,u,g,v,T,k,D,te,he,ge){let Se=g.textMaxSize.evaluate(t,{},he);Se===void 0&&(Se=v);const Ae=n.layers[0].layout,ze=Ae.get("icon-offset").evaluate(t,{},he),Xe=ry(r.horizontal)||r.vertical,lt=ge.name==="globe",_t=v/24,at=n.tilePixelRatio*Se/24,mt=(ai=n.overscaling,n.zoom>18&&ai>2&&(ai>>=1),Math.max(ln/(512*ai),1)*Ae.get("symbol-spacing")),Tt=Ae.get("text-padding")*n.tilePixelRatio,bt=Ae.get("icon-padding")*n.tilePixelRatio,qt=I(Ae.get("text-max-angle")),$t=Ae.get("text-rotation-alignment")==="map"&&Ae.get("symbol-placement")!=="point",ni=Ae.get("icon-rotation-alignment")==="map"&&Ae.get("symbol-placement")!=="point",wi=Ae.get("symbol-placement"),Kt=mt/2;var ai;const ci=Ae.get("icon-text-fit");let yi;c&&ci!=="none"&&(n.allowVerticalPlacement&&r.vertical&&(yi=H_(c,r.vertical,ci,Ae.get("icon-text-fit-padding"),ze,_t)),Xe&&(c=H_(c,Xe,ci,Ae.get("icon-text-fit-padding"),ze,_t)));const Ti=(ei,Pi,an)=>{if(Pi.x<0||Pi.x>=ln||Pi.y<0||Pi.y>=ln)return;let Bi=null;if(lt){const{x:Wi,y:Ii,z:cn}=ge.projectTilePoint(Pi.x,Pi.y,an);Bi={anchor:new Qc(Wi,Ii,cn,0,void 0),up:ge.upVector(an,Pi.x,Pi.y)}}(function(Wi,Ii,cn,Wn,Nn,zn,hn,yr,_n,$n,Tr,Br,Lr,Fr,Ur,fs,_o,vr,Bs,Is,lr,es,Hs,Sr,ws){const Yo=Wi.addToLineVertexArray(Ii,Wn);let yo,vo,fa,xo,Od,L0,Eg,Cg=0,B5=0,F5=0,N5=0,ab=-1,lb=-1;const Vh={};let j5=kh("");const $p=cn?cn.anchor:Ii;let cb=0,hb=0;if(_n._unevaluatedLayout.getValue("text-radial-offset")===void 0?[cb,hb]=_n.layout.get("text-offset").evaluate(lr,{},ws).map(ol=>ol*$s):(cb=_n.layout.get("text-radial-offset").evaluate(lr,{},ws)*$s,hb=mg),Wi.allowVerticalPlacement&&Nn.vertical){const ol=Nn.vertical;if(Ur)L0=jp(ol),yr&&(Eg=jp(yr));else{const al=_n.layout.get("text-rotate").evaluate(lr,{},ws)+90;fa=T0($n,$p,Ii,Tr,Br,Lr,ol,Fr,al,fs),yr&&(xo=T0($n,$p,Ii,Tr,Br,Lr,yr,vr,al))}}if(zn){const ol=_n.layout.get("icon-rotate").evaluate(lr,{},ws),al=_n.layout.get("icon-text-fit")!=="none",Mg=Q_(zn,ol,Hs,al),ub=yr?Q_(yr,ol,Hs,al):void 0;vo=T0($n,$p,Ii,Tr,Br,Lr,zn,vr,ol),Cg=4*Mg.length;const U5=Wi.iconSizeData;let Hp=null;U5.kind==="source"?(Hp=[io*_n.layout.get("icon-size").evaluate(lr,{},ws)],Hp[0]>eh&&Y(`${Wi.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):U5.kind==="composite"&&(Hp=[io*es.compositeIconSizes[0].evaluate(lr,{},ws),io*es.compositeIconSizes[1].evaluate(lr,{},ws)],(Hp[0]>eh||Hp[1]>eh)&&Y(`${Wi.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),Wi.addSymbols(Wi.icon,Mg,Hp,Is,Bs,lr,!1,cn,Ii,Yo.lineStartIndex,Yo.lineLength,-1,Sr,ws),ab=Wi.icon.placedSymbolArray.length-1,ub&&(B5=4*ub.length,Wi.addSymbols(Wi.icon,ub,Hp,Is,Bs,lr,Oa.vertical,cn,Ii,Yo.lineStartIndex,Yo.lineLength,-1,Sr,ws),lb=Wi.icon.placedSymbolArray.length-1)}for(const ol in Nn.horizontal){const al=Nn.horizontal[ol];yo||(j5=kh(al.text),Ur?Od=jp(al):yo=T0($n,$p,Ii,Tr,Br,Lr,al,Fr,_n.layout.get("text-rotate").evaluate(lr,{},ws),fs));const Mg=al.positionedLines.length===1;if(F5+=ny(Wi,cn,Ii,al,hn,_n,Ur,lr,fs,Yo,Nn.vertical?Oa.horizontal:Oa.horizontalOnly,Mg?Object.keys(Nn.horizontal):[ol],Vh,ab,es,Sr,ws),Mg)break}Nn.vertical&&(N5+=ny(Wi,cn,Ii,Nn.vertical,hn,_n,Ur,lr,fs,Yo,Oa.vertical,["vertical"],Vh,lb,es,Sr,ws));let Mu=-1;const db=(ol,al)=>ol?Math.max(ol,al):al;Mu=db(Od,Mu),Mu=db(L0,Mu),Mu=db(Eg,Mu);const $C=Mu>-1?1:0;Wi.glyphOffsetArray.length>=jh.MAX_GLYPHS&&Y("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),lr.sortKey!==void 0&&Wi.addToSortKeyRanges(Wi.symbolInstances.length,lr.sortKey),Wi.symbolInstances.emplaceBack($p.x,$p.y,$p.z,Ii.x,Ii.y,Vh.right>=0?Vh.right:-1,Vh.center>=0?Vh.center:-1,Vh.left>=0?Vh.left:-1,Vh.vertical>=0?Vh.vertical:-1,ab,lb,j5,yo!==void 0?yo:Wi.collisionBoxArray.length,yo!==void 0?yo+1:Wi.collisionBoxArray.length,fa!==void 0?fa:Wi.collisionBoxArray.length,fa!==void 0?fa+1:Wi.collisionBoxArray.length,vo!==void 0?vo:Wi.collisionBoxArray.length,vo!==void 0?vo+1:Wi.collisionBoxArray.length,xo||Wi.collisionBoxArray.length,xo?xo+1:Wi.collisionBoxArray.length,Tr,F5,N5,Cg,B5,$C,0,cb,hb,Mu)})(n,Pi,Bi,ei,r,c,u,yi,n.layers[0],n.collisionBoxArray,t.index,t.sourceLayerIndex,n.index,Tt,$t,k,0,bt,ni,ze,t,g,D,te,he)};if(wi==="line")for(const ei of Z_(t.geometry,0,0,ln,ln)){const Pi=Dx(ei,mt,qt,r.vertical||Xe,c,24,at,n.overscaling,ln);for(const an of Pi){const Bi=Xe;Bi&&Ux(n,Bi.text,Kt,an)||Ti(ei,an,he)}}else if(wi==="line-center"){for(const ei of t.geometry)if(ei.length>1){const Pi=Lx(ei,qt,r.vertical||Xe,c,24,at);Pi&&Ti(ei,Pi,he)}}else if(t.type==="Polygon")for(const ei of o0(t.geometry,0)){const Pi=Bx(ei,16);Ti(ei[0],new Qc(Pi.x,Pi.y,0,0,void 0),he)}else if(t.type==="LineString")for(const ei of t.geometry)Ti(ei,new Qc(ei[0].x,ei[0].y,0,0,void 0),he);else if(t.type==="Point")for(const ei of t.geometry)for(const Pi of ei)Ti([Pi],new Qc(Pi.x,Pi.y,0,0,void 0),he)}const eh=32640;function ny(n,t,r,c,u,g,v,T,k,D,te,he,ge,Se,Ae,ze,Xe){const lt=function(mt,Tt,bt,qt,$t,ni,wi,Kt){const ai=[];if(Tt.positionedLines.length===0)return ai;const ci=qt.layout.get("text-rotate").evaluate(ni,{})*Math.PI/180,yi=function(Bi){const Wi=Bi[0],Ii=Bi[1],cn=Wi*Ii;return cn>0?[Wi,-Ii]:cn<0?[-Wi,Ii]:Wi===0?[Ii,Wi]:[Ii,-Wi]}(bt);let Ti=Math.abs(Tt.top-Tt.bottom);for(const Bi of Tt.positionedLines)Ti-=Bi.lineOffset;const ei=Tt.positionedLines.length,Pi=Ti/ei;let an=Tt.top-bt[1];for(let Bi=0;Bi<ei;++Bi){const Wi=Tt.positionedLines[Bi];an=Ox(Tt,Pi,an,Bi);for(const Ii of Wi.positionedGlyphs){if(!Ii.rect)continue;const cn=Ii.rect||{};let Wn=4,Nn=!0,zn=1,hn=0;if(Ii.imageName){const Sr=wi[Ii.imageName];if(!Sr)continue;if(Sr.sdf){Y("SDF images are not supported in formatted text and will be ignored.");continue}Nn=!1,zn=Sr.pixelRatio,Wn=1/zn}const yr=($t||Kt)&&Ii.vertical,_n=Ii.metrics.advance*Ii.scale/2,$n=Ii.metrics,Tr=Ii.rect;if(Tr===null)continue;Kt&&Tt.verticalizable&&(hn=Ii.imageName?_n-Ii.metrics.width*Ii.scale/2:0);const Br=$t?[Ii.x+_n,Ii.y]:[0,0];let Lr=[0,0],Fr=[0,0],Ur=!1;$t||(yr?(Fr=[Ii.x+_n+yi[0],Ii.y+yi[1]-hn],Ur=!0):Lr=[Ii.x+_n+bt[0],Ii.y+bt[1]-hn]);const fs=Tr.w*Ii.scale/(zn*(Ii.localGlyph?2:1)),_o=Tr.h*Ii.scale/(zn*(Ii.localGlyph?2:1));let vr,Bs,Is,lr;if(yr){const Sr=Ii.y-an,ws=new R(-_n,_n-Sr),Yo=-Math.PI/2,yo=new R(...Fr);vr=new R(-_n+Lr[0],Lr[1]),vr._rotateAround(Yo,ws)._add(yo),vr.x+=-Sr+_n,vr.y-=($n.left-Wn)*Ii.scale;const vo=Ii.imageName?$n.advance*Ii.scale:$s*Ii.scale,fa=String.fromCharCode(Ii.glyph);vx(fa)?vr.x+=(1-Wn)*Ii.scale:O_(fa)?vr.x+=vo-$n.height*Ii.scale+(-Wn-1)*Ii.scale:vr.x+=Ii.imageName||$n.width+2*Wn===Tr.w&&$n.height+2*Wn===Tr.h?(vo-_o)/2:(vo-($n.height+2*Wn)*Ii.scale)/2,Bs=new R(vr.x,vr.y-fs),Is=new R(vr.x+_o,vr.y),lr=new R(vr.x+_o,vr.y-fs)}else{const Sr=($n.left-Wn)*Ii.scale-_n+Lr[0],ws=(-$n.top-Wn)*Ii.scale+Lr[1],Yo=Sr+fs,yo=ws+_o;vr=new R(Sr,ws),Bs=new R(Yo,ws),Is=new R(Sr,yo),lr=new R(Yo,yo)}if(ci){let Sr;Sr=$t?new R(0,0):Ur?new R(yi[0],yi[1]):new R(bt[0],bt[1]),vr._rotateAround(ci,Sr),Bs._rotateAround(ci,Sr),Is._rotateAround(ci,Sr),lr._rotateAround(ci,Sr)}const es=new R(0,0),Hs=new R(0,0);ai.push({tl:vr,tr:Bs,bl:Is,br:lr,tex:cn,writingMode:Tt.writingMode,glyphOffset:Br,sectionIndex:Ii.sectionIndex,isSDF:Nn,pixelOffsetTL:es,pixelOffsetBR:Hs,minFontScaleX:0,minFontScaleY:0})}}return ai}(0,c,k,g,v,T,u,n.allowVerticalPlacement),_t=n.textSizeData;let at=null;_t.kind==="source"?(at=[io*g.layout.get("text-size").evaluate(T,{},Xe)],at[0]>eh&&Y(`${n.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):_t.kind==="composite"&&(at=[io*Ae.compositeTextSizes[0].evaluate(T,{},Xe),io*Ae.compositeTextSizes[1].evaluate(T,{},Xe)],(at[0]>eh||at[1]>eh)&&Y(`${n.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),n.addSymbols(n.text,lt,at,k,v,T,te,t,r,D.lineStartIndex,D.lineLength,Se,ze,Xe);for(const mt of he)ge[mt]=n.text.placedSymbolArray.length-1;return 4*lt.length}function ry(n){for(const t in n)return n[t];return null}function T0(n,t,r,c,u,g,v,T,k,D){let te=v.top,he=v.bottom,ge=v.left,Se=v.right;const Ae=v.collisionPadding;if(Ae&&(ge-=Ae[0],te-=Ae[1],Se+=Ae[2],he+=Ae[3]),k){const ze=new R(ge,te),Xe=new R(Se,te),lt=new R(ge,he),_t=new R(Se,he),at=I(k);let mt=new R(0,0);D&&(mt=new R(D[0],D[1])),ze._rotateAround(at,mt),Xe._rotateAround(at,mt),lt._rotateAround(at,mt),_t._rotateAround(at,mt),ge=Math.min(ze.x,Xe.x,lt.x,_t.x),Se=Math.max(ze.x,Xe.x,lt.x,_t.x),te=Math.min(ze.y,Xe.y,lt.y,_t.y),he=Math.max(ze.y,Xe.y,lt.y,_t.y)}return n.emplaceBack(t.x,t.y,t.z,r.x,r.y,ge,te,Se,he,T,c,u,g),n.length-1}function jp(n){n.collisionPadding&&(n.top-=n.collisionPadding[1],n.bottom+=n.collisionPadding[3]);const t=n.bottom-n.top;return t>0?Math.max(10,t):null}function Ux(n,t,r,c){const u=n.compareText;if(t in u){const g=u[t];for(let v=g.length-1;v>=0;v--)if(c.dist(g[v])<r)return!0}else u[t]=[];return u[t].push(c),!1}function sy(n,t){const r=n.fovAboveCenter,c=n.elevation?n.elevation.getMinElevationBelowMSL()*t:0,u=(n._camera.position[2]*n.worldSize-c)/Math.cos(n._pitch),g=Math.sin(r)*u/Math.sin(Math.max(Math.PI/2-n._pitch-r,.01)),v=Math.sin(n._pitch)*g+u;return Math.min(1.01*v,u*(1/n._horizonShift))}function Ld(n,t){if(!t.isReprojectedInTileSpace)return{scale:1<<n.z,x:n.x,y:n.y,x2:n.x+1,y2:n.y+1,projection:t};const r=Math.pow(2,-n.z),c=n.x*r,u=(n.x+1)*r,g=n.y*r,v=(n.y+1)*r,T=La(c),k=La(u),D=to(g),te=to(v),he=t.project(T,D),ge=t.project(k,D),Se=t.project(k,te),Ae=t.project(T,te);let ze=Math.min(he.x,ge.x,Se.x,Ae.x),Xe=Math.min(he.y,ge.y,Se.y,Ae.y),lt=Math.max(he.x,ge.x,Se.x,Ae.x),_t=Math.max(he.y,ge.y,Se.y,Ae.y);const at=r/16;function mt(bt,qt,$t,ni,wi,Kt){const ai=($t+wi)/2,ci=(ni+Kt)/2,yi=t.project(La(ai),to(ci)),Ti=Math.max(0,ze-yi.x,Xe-yi.y,yi.x-lt,yi.y-_t);ze=Math.min(ze,yi.x),lt=Math.max(lt,yi.x),Xe=Math.min(Xe,yi.y),_t=Math.max(_t,yi.y),Ti>at&&(mt(bt,yi,$t,ni,ai,ci),mt(yi,qt,ai,ci,wi,Kt))}mt(he,ge,c,g,u,g),mt(ge,Se,u,g,u,v),mt(Se,Ae,u,v,c,v),mt(Ae,he,c,v,c,g),ze-=at,Xe-=at,lt+=at,_t+=at;const Tt=1/Math.max(lt-ze,_t-Xe);return{scale:Tt,x:ze*Tt,y:Xe*Tt,x2:lt*Tt,y2:_t*Tt,projection:t}}const da=la(new Float32Array(16));class _c{constructor(t){this.spec=t,this.name=t.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(t,r){return{x:0,y:0,z:0}}unproject(t,r){return new Zn(0,0)}projectTilePoint(t,r,c){return{x:t,y:r,z:0}}locationPoint(t,r,c=!0){return t._coordinatePoint(t.locationCoordinate(r),c)}pixelsPerMeter(t,r){return jl(1,t)*r}pixelSpaceConversion(t,r,c){return 1}farthestPixelDistance(t){return sy(t,t.pixelsPerMeter)}pointCoordinate(t,r,c,u){const g=t.horizonLineFromTop(!1),v=new R(r,Math.max(g,c));return t.rayIntersectionCoordinate(t.pointRayIntersection(v,u))}pointCoordinate3D(t,r,c){const u=new R(r,c);if(t.elevation)return t.elevation.pointCoordinate(u);{const g=this.pointCoordinate(t,u.x,u.y,0);return[g.x,g.y,g.z]}}isPointAboveHorizon(t,r){if(t.elevation)return!this.pointCoordinate3D(t,r.x,r.y);const c=t.horizonLineFromTop();return r.y<c}createInversionMatrix(t,r){return da}createTileMatrix(t,r,c){let u,g,v;const T=c.canonical,k=la(new Float64Array(16));if(this.isReprojectedInTileSpace){const D=Ld(T,this);u=1,g=D.x+c.wrap*D.scale,v=D.y,Dh(k,k,[u/D.scale,u/D.scale,t.pixelsPerMeter/r])}else u=r/t.zoomScale(T.z),g=(T.x+Math.pow(2,T.z)*c.wrap)*u,v=T.y*u;return yp(k,k,[g,v,0]),Dh(k,k,[u/ln,u/ln,1]),k}upVector(t,r,c){return[0,0,1]}upVectorScale(t,r,c){return{metersToTile:1}}}class Vx extends _c{constructor(t){super(t),this.range=[4,7],this.center=t.center||[-96,37.5];const[r,c]=this.parallels=t.parallels||[29.5,45.5],u=Math.sin(I(r));this.n=(u+Math.sin(I(c)))/2,this.c=1+u*(2*this.n-u),this.r0=Math.sqrt(this.c)/this.n}project(t,r){const{n:c,c:u,r0:g}=this,v=I(t-this.center[0]),T=I(r),k=Math.sqrt(u-2*c*Math.sin(T))/c;return{x:k*Math.sin(v*c),y:k*Math.cos(v*c)-g,z:0}}unproject(t,r){const{n:c,c:u,r0:g}=this,v=g+r;let T=Math.atan2(t,Math.abs(v))*Math.sign(v);v*c<0&&(T-=Math.PI*Math.sign(t)*Math.sign(v));const k=I(this.center[0])*c;T=Q(T,-Math.PI-k,Math.PI-k);const D=A($(T/c)+this.center[0],-180,180),te=Math.asin(A((u-(t*t+v*v)*c*c)/(2*c),-1,1)),he=A($(te),-Ir,Ir);return new Zn(D,he)}}const Up=1.340264,Vp=-.081106,Gp=893e-6,Dd=.003796,S0=Math.sqrt(3)/2;class gg extends _c{project(t,r){r=r/180*Math.PI,t=t/180*Math.PI;const c=Math.asin(S0*Math.sin(r)),u=c*c,g=u*u*u;return{x:.5*(t*Math.cos(c)/(S0*(Up+3*Vp*u+g*(7*Gp+9*Dd*u)))/Math.PI+.5),y:1-.5*(c*(Up+Vp*u+g*(Gp+Dd*u))/Math.PI+1),z:0}}unproject(t,r){t=(2*t-.5)*Math.PI;let c=r=(2*(1-r)-1)*Math.PI,u=c*c,g=u*u*u;for(let te,he,ge,Se=0;Se<12&&(he=c*(Up+Vp*u+g*(Gp+Dd*u))-r,ge=Up+3*Vp*u+g*(7*Gp+9*Dd*u),te=he/ge,c=A(c-te,-Math.PI/3,Math.PI/3),u=c*c,g=u*u*u,!(Math.abs(te)<1e-12));++Se);const v=S0*t*(Up+3*Vp*u+g*(7*Gp+9*Dd*u))/Math.cos(c),T=Math.asin(Math.sin(c)/S0),k=A(180*v/Math.PI,-180,180),D=A(180*T/Math.PI,-Ir,Ir);return new Zn(k,D)}}class Gx extends _c{constructor(t){super(t),this.wrap=!0,this.supportsWorldCopies=!0}project(t,r){return{x:.5+t/360,y:.5-r/360,z:0}}unproject(t,r){const c=360*(t-.5),u=A(360*(.5-r),-Ir,Ir);return new Zn(c,u)}}const Cu=Math.PI/2;function E0(n){return Math.tan((Cu+n)/2)}class Wx extends _c{constructor(t){super(t),this.center=t.center||[0,30];const[r,c]=this.parallels=t.parallels||[30,30];let u=I(r),g=I(c);this.southernCenter=u+g<0,this.southernCenter&&(u=-u,g=-g);const v=Math.cos(u),T=E0(u);this.n=u===g?Math.sin(u):Math.log(v/Math.cos(g))/Math.log(E0(g)/T),this.f=v*Math.pow(E0(u),this.n)/this.n}project(t,r){r=I(r),this.southernCenter&&(r=-r),t=I(t-this.center[0]);const c=1e-6,{n:u,f:g}=this;g>0?r<-Cu+c&&(r=-Cu+c):r>Cu-c&&(r=Cu-c);const v=g/Math.pow(E0(r),u);let T=v*Math.sin(u*t),k=g-v*Math.cos(u*t);return T=.5*(T/Math.PI+.5),k=.5*(k/Math.PI+.5),{x:T,y:this.southernCenter?k:1-k,z:0}}unproject(t,r){t=(2*t-.5)*Math.PI,this.southernCenter&&(r=1-r),r=(2*(1-r)-.5)*Math.PI;const{n:c,f:u}=this,g=u-r,v=Math.sign(g),T=Math.sign(c)*Math.sqrt(t*t+g*g);let k=Math.atan2(t,Math.abs(g))*v;g*c<0&&(k-=Math.PI*Math.sign(t)*v);const D=A($(k/c)+this.center[0],-180,180),te=A($(2*Math.atan(Math.pow(u/T,1/c))-Cu),-Ir,Ir);return new Zn(D,this.southernCenter?-te:te)}}class _g extends _c{constructor(t){super(t),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(t,r){return{x:fc(t),y:mc(r),z:0}}unproject(t,r){const c=La(t),u=to(r);return new Zn(c,u)}}const oy=I(Ir);class $x extends _c{project(t,r){const c=(r=I(r))*r,u=c*c;return{x:.5*((t=I(t))*(.8707-.131979*c+u*(u*(.003971*c-.001529*u)-.013791))/Math.PI+.5),y:1-.5*(r*(1.007226+c*(.015085+u*(.028874*c-.044475-.005916*u)))/Math.PI+1),z:0}}unproject(t,r){t=(2*t-.5)*Math.PI;let c=r=(2*(1-r)-1)*Math.PI,u=25,g=0,v=c*c;do{v=c*c;const D=v*v;g=(c*(1.007226+v*(.015085+D*(.028874*v-.044475-.005916*D)))-r)/(1.007226+v*(.045255+D*(.259866*v-.311325-.005916*11*D))),c=A(c-g,-oy,oy)}while(Math.abs(g)>1e-6&&--u>0);v=c*c;const T=A($(t/(.8707+v*(v*(v*v*v*(.003971-.001529*v)-.013791)-.131979))),-180,180),k=$(c);return new Zn(T,k)}}const ay=I(Ir);class yg extends _c{project(t,r){r=I(r),t=I(t);const c=Math.cos(r),u=2/Math.PI,g=Math.acos(c*Math.cos(t/2)),v=Math.sin(g)/g,T=.5*(t*u+2*c*Math.sin(t/2)/v)||0,k=.5*(r+Math.sin(r)/v)||0;return{x:.5*(T/Math.PI+.5),y:1-.5*(k/Math.PI+1),z:0}}unproject(t,r){let c=t=(2*t-.5)*Math.PI,u=r=(2*(1-r)-1)*Math.PI,g=25;const v=1e-6;let T=0,k=0;do{const D=Math.cos(u),te=Math.sin(u),he=2*te*D,ge=te*te,Se=D*D,Ae=Math.cos(c/2),ze=Math.sin(c/2),Xe=2*Ae*ze,lt=ze*ze,_t=1-Se*Ae*Ae,at=_t?1/_t:0,mt=_t?Math.acos(D*Ae)*Math.sqrt(1/_t):0,Tt=.5*(2*mt*D*ze+2*c/Math.PI)-t,bt=.5*(mt*te+u)-r,qt=.5*at*(Se*lt+mt*D*Ae*ge)+1/Math.PI,$t=at*(Xe*he/4-mt*te*ze),ni=.125*at*(he*ze-mt*te*Se*Xe),wi=.5*at*(ge*Ae+mt*lt*D)+.5,Kt=$t*ni-wi*qt;T=(bt*$t-Tt*wi)/Kt,k=(Tt*ni-bt*qt)/Kt,c=A(c-T,-Math.PI,Math.PI),u=A(u-k,-ay,ay)}while((Math.abs(T)>v||Math.abs(k)>v)&&--g>0);return new Zn($(c),$(u))}}class C0 extends _c{constructor(t){super(t),this.center=t.center||[0,0],this.parallels=t.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(I(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(t,r){const{scale:c,cosPhi:u}=this;return{x:I(t)*u*c+.5,y:-Math.sin(I(r))/u*c+.5,z:0}}unproject(t,r){const{scale:c,cosPhi:u}=this,g=-(r-.5)/c,v=A($((t-.5)/c)/u,-180,180),T=Math.asin(A(g*u,-1,1)),k=A($(T),-Ir,Ir);return new Zn(v,k)}}class Hx extends _g{constructor(t){super(t),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(t,r,c){const u=Ep(t,r,c);return Qr(u,u,Cp(Fl(c))),{x:u[0],y:u[1],z:u[2]}}locationPoint(t,r){const c=fu(r.lat,r.lng),u=vs([],c),g=t.elevation?t.elevation.getAtPointOrZero(t.locationCoordinate(r),t._centerAltitude):t._centerAltitude;Sd(c,c,u,jl(1,0)*ln*g);const v=la(new Float64Array(16));return Xc(v,t.pixelMatrix,t.globeMatrix),Qr(c,c,v),new R(c[0],c[1])}pixelsPerMeter(t,r){return jl(1,0)*r}pixelSpaceConversion(t,r,c){const u=jl(1,t)*r,g=Qi(jl(1,45)*r,u,c);return this.pixelsPerMeter(t,r)/g}createTileMatrix(t,r,c){const u=Fm(Fl(c.canonical));return Xc(new Float64Array(16),t.globeMatrix,u)}createInversionMatrix(t,r){const{center:c}=t,u=Cp(Fl(r));return vp(u,u,I(c.lng)),Rl(u,u,I(c.lat)),Dh(u,u,[t._pixelsPerMercatorPixel,t._pixelsPerMercatorPixel,1]),Float32Array.from(u)}pointCoordinate(t,r,c,u){return uu(t,r,c,!0)||new gu(0,0)}pointCoordinate3D(t,r,c){const u=this.pointCoordinate(t,r,c,0);return[u.x,u.y,u.z]}isPointAboveHorizon(t,r){return!uu(t,r.x,r.y,!1)}farthestPixelDistance(t){const r=function(u,g){const v=u.cameraToCenterDistance,T=u._centerAltitude*g,k=u._camera,D=u._camera.forward(),te=zl([],ko([],D,-v),[0,0,T]),he=u.worldSize/(2*Math.PI),ge=[0,0,-he],Se=u.width/u.height,Ae=Math.tan(u.fovAboveCenter),ze=ko([],k.up(),Ae),Xe=ko([],k.right(),Ae*Se),lt=vs([],zl([],zl([],D,ze),Xe)),_t=[];let at;if(new $f(te,lt).closestPointOnSphere(ge,he,_t)){const mt=zl([],_t,ge),Tt=Bl([],mt,te);at=Math.cos(u.fovAboveCenter)*Pa(Tt)}else{const mt=Bl([],te,ge),Tt=Bl([],ge,te);vs(Tt,Tt);const bt=Pa(mt)-he;at=Math.sqrt(bt*(bt+2*he));const qt=Math.acos(at/(he+bt))-Math.acos(il(D,Tt));at*=Math.cos(qt)}return 1.01*at}(t,this.pixelsPerMeter(t.center.lat,t.worldSize)),c=mu(t.zoom);if(c>0){const u=sy(t,jl(1,t.center.lat)*t.worldSize),g=t.worldSize/(2*Math.PI),v=Math.max(t.width,t.height)/t.worldSize*Math.PI;return Qi(r,u+g*(1-Math.cos(v)),Math.pow(c,10))}return r}upVector(t,r,c){return Ep(r,c,t,1)}upVectorScale(t){return{metersToTile:Sp(Zf(Fl(t)))}}}function ly(n){const t=n.parallels,r=!!t&&Math.abs(t[0]+t[1])<.01;switch(n.name){case"mercator":return new _g(n);case"equirectangular":return new Gx(n);case"naturalEarth":return new $x(n);case"equalEarth":return new gg(n);case"winkelTripel":return new yg(n);case"albers":return r?new C0(n):new Vx(n);case"lambertConformalConic":return r?new C0(n):new Wx(n);case"globe":return new Hx(n)}throw new Error(`Invalid projection name: ${n.name}`)}const qx=p0.types,Xx=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function M0(n,t,r,c,u,g,v,T,k,D,te,he,ge){const Se=T?Math.min(eh,Math.round(T[0])):0,Ae=T?Math.min(eh,Math.round(T[1])):0;n.emplaceBack(t,r,Math.round(32*c),Math.round(32*u),g,v,(Se<<1)+(k?1:0),Ae,16*D,16*te,256*he,256*ge)}function A0(n,t,r,c,u,g,v){n.emplaceBack(t,r,c,u,g,v)}function k0(n,t,r,c,u){n.emplaceBack(t,r,c,u),n.emplaceBack(t,r,c,u),n.emplaceBack(t,r,c,u),n.emplaceBack(t,r,c,u)}function Yx(n){for(const t of n.sections)if(Pe(t.text))return!0;return!1}class vg{constructor(t){this.layoutVertexArray=new sa,this.indexArray=new Gs,this.programConfigurations=t,this.segments=new qr,this.dynamicLayoutVertexArray=new hr,this.opacityVertexArray=new fr,this.placedSymbolArray=new A1,this.globeExtVertexArray=new Pr}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(t,r,c,u){this.isEmpty()||(c&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Da.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,r),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,fx.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,Xx,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=t.createVertexBuffer(this.globeExtVertexArray,xu.members,!0)),this.opacityVertexBuffer.itemSize=1),(c||u)&&this.programConfigurations.upload(t))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}Ri(vg,"SymbolBuffers");class xg{constructor(t,r,c){this.layoutVertexArray=new t,this.layoutAttributes=r,this.indexArray=new c,this.segments=new qr,this.collisionVertexArray=new Mr,this.collisionVertexArrayExt=new zs}upload(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,mx.members,!0),this.collisionVertexBufferExt=t.createVertexBuffer(this.collisionVertexArrayExt,gx.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Ri(xg,"CollisionBuffers");class jh{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(v=>v.id),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=la([]),this.placementViewportMatrix=la([]);const r=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Fn(this.zoom,r["text-size"]),this.iconSizeData=Fn(this.zoom,r["icon-size"]);const c=this.layers[0].layout,u=c.get("symbol-sort-key"),g=c.get("symbol-z-order");this.canOverlap=c.get("text-allow-overlap")||c.get("icon-allow-overlap")||c.get("text-ignore-placement")||c.get("icon-ignore-placement"),this.sortFeaturesByKey=g!=="viewport-y"&&u.constantOr(1)!==void 0,this.sortFeaturesByY=(g==="viewport-y"||g==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=c.get("text-writing-mode").map(v=>Oa[v]),this.stateDependentLayerIds=this.layers.filter(v=>v.isStateDependent()).map(v=>v.id),this.sourceID=t.sourceID,this.projection=t.projection}createArrays(){this.text=new vg(new tl(this.layers,this.zoom,t=>/^text/.test(t))),this.icon=new vg(new tl(this.layers,this.zoom,t=>/^icon/.test(t))),this.glyphOffsetArray=new Cm,this.lineVertexArray=new Mm,this.symbolInstances=new Of}calculateGlyphDependencies(t,r,c,u,g){for(let v=0;v<t.length;v++)if(r[t.charCodeAt(v)]=!0,u&&g){const T=dr[t.charAt(v)];T&&(r[T.charCodeAt(0)]=!0)}}populate(t,r,c,u){const g=this.layers[0],v=g.layout,T=this.projection.name==="globe",k=v.get("text-font"),D=v.get("text-field"),te=v.get("icon-image"),he=(D.value.kind!=="constant"||D.value.value instanceof Ds&&!D.value.value.isEmpty()||D.value.value.toString().length>0)&&(k.value.kind!=="constant"||k.value.value.length>0),ge=te.value.kind!=="constant"||!!te.value.value||Object.keys(te.parameters).length>0,Se=v.get("symbol-sort-key");if(this.features=[],!he&&!ge)return;const Ae=r.iconDependencies,ze=r.glyphDependencies,Xe=r.availableImages,lt=new Rt(this.zoom);for(const{feature:_t,id:at,index:mt,sourceLayerIndex:Tt}of t){const bt=g._featureFilter.needGeometry,qt=Ad(_t,bt);if(!g._featureFilter.filter(lt,qt,c))continue;if(bt||(qt.geometry=Zc(_t,c,u)),T&&_t.type!==1&&c.z<=5){const Kt=qt.geometry,ai=.98078528056,ci=(yi,Ti)=>il(Ep(yi.x,yi.y,c,1),Ep(Ti.x,Ti.y,c,1))<ai;for(let yi=0;yi<Kt.length;yi++)Kt[yi]=k2(Kt[yi],ci)}let $t,ni;if(he){const Kt=g.getValueAndResolveTokens("text-field",qt,c,Xe),ai=Ds.factory(Kt);Yx(ai)&&(this.hasRTLText=!0),(!this.hasRTLText||wt()==="unavailable"||this.hasRTLText&&Ct.isParsed())&&($t=yx(ai,g,qt))}if(ge){const Kt=g.getValueAndResolveTokens("icon-image",qt,c,Xe);ni=Kt instanceof js?Kt:js.fromString(Kt)}if(!$t&&!ni)continue;const wi=this.sortFeaturesByKey?Se.evaluate(qt,{},c):void 0;if(this.features.push({id:at,text:$t,icon:ni,index:mt,sourceLayerIndex:Tt,geometry:qt.geometry,properties:_t.properties,type:qx[_t.type],sortKey:wi}),ni&&(Ae[ni.name]=!0),$t){const Kt=k.evaluate(qt,{},c).join(","),ai=v.get("text-rotation-alignment")==="map"&&v.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Oa.vertical)>=0;for(const ci of $t.sections)if(ci.image)Ae[ci.image.name]=!0;else{const yi=w($t.toString()),Ti=ci.fontStack||Kt,ei=ze[Ti]=ze[Ti]||{};this.calculateGlyphDependencies(ci.text,ei,ai,this.allowVerticalPlacement,yi)}}}v.get("symbol-placement")==="line"&&(this.features=function(_t){const at={},mt={},Tt=[];let bt=0;function qt(Kt){Tt.push(_t[Kt]),bt++}function $t(Kt,ai,ci){const yi=mt[Kt];return delete mt[Kt],mt[ai]=yi,Tt[yi].geometry[0].pop(),Tt[yi].geometry[0]=Tt[yi].geometry[0].concat(ci[0]),yi}function ni(Kt,ai,ci){const yi=at[ai];return delete at[ai],at[Kt]=yi,Tt[yi].geometry[0].shift(),Tt[yi].geometry[0]=ci[0].concat(Tt[yi].geometry[0]),yi}function wi(Kt,ai,ci){const yi=ci?ai[0][ai[0].length-1]:ai[0][0];return`${Kt}:${yi.x}:${yi.y}`}for(let Kt=0;Kt<_t.length;Kt++){const ai=_t[Kt],ci=ai.geometry,yi=ai.text?ai.text.toString():null;if(!yi){qt(Kt);continue}const Ti=wi(yi,ci),ei=wi(yi,ci,!0);if(Ti in mt&&ei in at&&mt[Ti]!==at[ei]){const Pi=ni(Ti,ei,ci),an=$t(Ti,ei,Tt[Pi].geometry);delete at[Ti],delete mt[ei],mt[wi(yi,Tt[an].geometry,!0)]=an,Tt[Pi].geometry=null}else Ti in mt?$t(Ti,ei,ci):ei in at?ni(Ti,ei,ci):(qt(Kt),at[Ti]=bt-1,mt[ei]=bt-1)}return Tt.filter(Kt=>Kt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((_t,at)=>_t.sortKey-at.sortKey)}update(t,r,c,u){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,r,this.layers,c,u),this.icon.programConfigurations.updatePaintArrays(t,r,this.layers,c,u))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=ly(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(t,r){const c=this.lineVertexArray.length;if(t.segment!==void 0)for(const{x:u,y:g}of r)this.lineVertexArray.emplaceBack(u,g);return{lineStartIndex:c,lineLength:this.lineVertexArray.length-c}}addSymbols(t,r,c,u,g,v,T,k,D,te,he,ge,Se,Ae){const ze=t.indexArray,Xe=t.layoutVertexArray,lt=t.globeExtVertexArray,_t=t.segments.prepareSegment(4*r.length,Xe,ze,this.canOverlap?v.sortKey:void 0),at=this.glyphOffsetArray.length,mt=_t.vertexLength,Tt=this.allowVerticalPlacement&&T===Oa.vertical?Math.PI/2:0,bt=v.text&&v.text.sections;for(let $t=0;$t<r.length;$t++){const{tl:ni,tr:wi,bl:Kt,br:ai,tex:ci,pixelOffsetTL:yi,pixelOffsetBR:Ti,minFontScaleX:ei,minFontScaleY:Pi,glyphOffset:an,isSDF:Bi,sectionIndex:Wi}=r[$t],Ii=_t.vertexLength,cn=an[1];if(M0(Xe,D.x,D.y,ni.x,cn+ni.y,ci.x,ci.y,c,Bi,yi.x,yi.y,ei,Pi),M0(Xe,D.x,D.y,wi.x,cn+wi.y,ci.x+ci.w,ci.y,c,Bi,Ti.x,yi.y,ei,Pi),M0(Xe,D.x,D.y,Kt.x,cn+Kt.y,ci.x,ci.y+ci.h,c,Bi,yi.x,Ti.y,ei,Pi),M0(Xe,D.x,D.y,ai.x,cn+ai.y,ci.x+ci.w,ci.y+ci.h,c,Bi,Ti.x,Ti.y,ei,Pi),k){const{x:Wn,y:Nn,z:zn}=k.anchor,[hn,yr,_n]=k.up;A0(lt,Wn,Nn,zn,hn,yr,_n),A0(lt,Wn,Nn,zn,hn,yr,_n),A0(lt,Wn,Nn,zn,hn,yr,_n),A0(lt,Wn,Nn,zn,hn,yr,_n),k0(t.dynamicLayoutVertexArray,Wn,Nn,zn,Tt)}else k0(t.dynamicLayoutVertexArray,D.x,D.y,D.z,Tt);ze.emplaceBack(Ii,Ii+1,Ii+2),ze.emplaceBack(Ii+1,Ii+2,Ii+3),_t.vertexLength+=4,_t.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(an[0]),$t!==r.length-1&&Wi===r[$t+1].sectionIndex||t.programConfigurations.populatePaintArrays(Xe.length,v,v.index,{},Se,Ae,bt&&bt[Wi])}const qt=k?k.anchor:D;t.placedSymbolArray.emplaceBack(qt.x,qt.y,qt.z,D.x,D.y,at,this.glyphOffsetArray.length-at,mt,te,he,D.segment,c?c[0]:0,c?c[1]:0,u[0],u[1],T,0,!1,0,ge,0)}_commitLayoutVertex(t,r,c,u,g,v,T){t.emplaceBack(r,c,u,g,v,Math.round(T.x),Math.round(T.y))}_addCollisionDebugVertices(t,r,c,u,g,v,T){const k=c.segments.prepareSegment(4,c.layoutVertexArray,c.indexArray),D=k.vertexLength,te=T.tileAnchorX,he=T.tileAnchorY;for(let Se=0;Se<4;Se++)c.collisionVertexArray.emplaceBack(0,0,0,0);c.collisionVertexArrayExt.emplaceBack(r,-t.padding,-t.padding),c.collisionVertexArrayExt.emplaceBack(r,t.padding,-t.padding),c.collisionVertexArrayExt.emplaceBack(r,t.padding,t.padding),c.collisionVertexArrayExt.emplaceBack(r,-t.padding,t.padding),this._commitLayoutVertex(c.layoutVertexArray,u,g,v,te,he,new R(t.x1,t.y1)),this._commitLayoutVertex(c.layoutVertexArray,u,g,v,te,he,new R(t.x2,t.y1)),this._commitLayoutVertex(c.layoutVertexArray,u,g,v,te,he,new R(t.x2,t.y2)),this._commitLayoutVertex(c.layoutVertexArray,u,g,v,te,he,new R(t.x1,t.y2)),k.vertexLength+=4;const ge=c.indexArray;ge.emplaceBack(D,D+1),ge.emplaceBack(D+1,D+2),ge.emplaceBack(D+2,D+3),ge.emplaceBack(D+3,D),k.primitiveLength+=4}_addTextDebugCollisionBoxes(t,r,c,u,g,v){for(let T=u;T<g;T++){const k=c.get(T),D=this.getSymbolInstanceTextSize(t,v,r,T);this._addCollisionDebugVertices(k,D,this.textCollisionBox,k.projectedAnchorX,k.projectedAnchorY,k.projectedAnchorZ,v)}}_addIconDebugCollisionBoxes(t,r,c,u,g,v){for(let T=u;T<g;T++){const k=c.get(T),D=this.getSymbolInstanceIconSize(t,r,v.placedIconSymbolIndex);this._addCollisionDebugVertices(k,D,this.iconCollisionBox,k.projectedAnchorX,k.projectedAnchorY,k.projectedAnchorZ,v)}}generateCollisionDebugBuffers(t,r){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new xg(Jr,L_.members,cc),this.iconCollisionBox=new xg(Jr,L_.members,cc);const c=go(this.iconSizeData,t),u=go(this.textSizeData,t);for(let g=0;g<this.symbolInstances.length;g++){const v=this.symbolInstances.get(g);this._addTextDebugCollisionBoxes(u,t,r,v.textBoxStartIndex,v.textBoxEndIndex,v),this._addTextDebugCollisionBoxes(u,t,r,v.verticalTextBoxStartIndex,v.verticalTextBoxEndIndex,v),this._addIconDebugCollisionBoxes(c,t,r,v.iconBoxStartIndex,v.iconBoxEndIndex,v),this._addIconDebugCollisionBoxes(c,t,r,v.verticalIconBoxStartIndex,v.verticalIconBoxEndIndex,v)}}getSymbolInstanceTextSize(t,r,c,u){const g=this.text.placedSymbolArray.get(r.rightJustifiedTextSymbolIndex>=0?r.rightJustifiedTextSymbolIndex:r.centerJustifiedTextSymbolIndex>=0?r.centerJustifiedTextSymbolIndex:r.leftJustifiedTextSymbolIndex>=0?r.leftJustifiedTextSymbolIndex:r.verticalPlacedTextSymbolIndex>=0?r.verticalPlacedTextSymbolIndex:u),v=Bp(this.textSizeData,t,g)/$s;return this.tilePixelRatio*v}getSymbolInstanceIconSize(t,r,c){const u=this.icon.placedSymbolArray.get(c),g=Bp(this.iconSizeData,t,u);return this.tilePixelRatio*g}_commitDebugCollisionVertexUpdate(t,r,c){t.emplaceBack(r,-c,-c),t.emplaceBack(r,c,-c),t.emplaceBack(r,c,c),t.emplaceBack(r,-c,c)}_updateTextDebugCollisionBoxes(t,r,c,u,g,v){for(let T=u;T<g;T++){const k=c.get(T),D=this.getSymbolInstanceTextSize(t,v,r,T);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,D,k.padding)}}_updateIconDebugCollisionBoxes(t,r,c,u,g,v){for(let T=u;T<g;T++){const k=c.get(T),D=this.getSymbolInstanceIconSize(t,r,v);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,D,k.padding)}}updateCollisionDebugBuffers(t,r){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const c=go(this.iconSizeData,t),u=go(this.textSizeData,t);for(let g=0;g<this.symbolInstances.length;g++){const v=this.symbolInstances.get(g);this._updateTextDebugCollisionBoxes(u,t,r,v.textBoxStartIndex,v.textBoxEndIndex,v),this._updateTextDebugCollisionBoxes(u,t,r,v.verticalTextBoxStartIndex,v.verticalTextBoxEndIndex,v),this._updateIconDebugCollisionBoxes(c,t,r,v.iconBoxStartIndex,v.iconBoxEndIndex,v.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(c,t,r,v.verticalIconBoxStartIndex,v.verticalIconBoxEndIndex,v.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(t,r,c,u,g,v,T,k,D){const te={};if(r<c){const{x1:he,y1:ge,x2:Se,y2:Ae,padding:ze,projectedAnchorX:Xe,projectedAnchorY:lt,projectedAnchorZ:_t,tileAnchorX:at,tileAnchorY:mt,featureIndex:Tt}=t.get(r);te.textBox={x1:he,y1:ge,x2:Se,y2:Ae,padding:ze,projectedAnchorX:Xe,projectedAnchorY:lt,projectedAnchorZ:_t,tileAnchorX:at,tileAnchorY:mt},te.textFeatureIndex=Tt}if(u<g){const{x1:he,y1:ge,x2:Se,y2:Ae,padding:ze,projectedAnchorX:Xe,projectedAnchorY:lt,projectedAnchorZ:_t,tileAnchorX:at,tileAnchorY:mt,featureIndex:Tt}=t.get(u);te.verticalTextBox={x1:he,y1:ge,x2:Se,y2:Ae,padding:ze,projectedAnchorX:Xe,projectedAnchorY:lt,projectedAnchorZ:_t,tileAnchorX:at,tileAnchorY:mt},te.verticalTextFeatureIndex=Tt}if(v<T){const{x1:he,y1:ge,x2:Se,y2:Ae,padding:ze,projectedAnchorX:Xe,projectedAnchorY:lt,projectedAnchorZ:_t,tileAnchorX:at,tileAnchorY:mt,featureIndex:Tt}=t.get(v);te.iconBox={x1:he,y1:ge,x2:Se,y2:Ae,padding:ze,projectedAnchorX:Xe,projectedAnchorY:lt,projectedAnchorZ:_t,tileAnchorX:at,tileAnchorY:mt},te.iconFeatureIndex=Tt}if(k<D){const{x1:he,y1:ge,x2:Se,y2:Ae,padding:ze,projectedAnchorX:Xe,projectedAnchorY:lt,projectedAnchorZ:_t,tileAnchorX:at,tileAnchorY:mt,featureIndex:Tt}=t.get(k);te.verticalIconBox={x1:he,y1:ge,x2:Se,y2:Ae,padding:ze,projectedAnchorX:Xe,projectedAnchorY:lt,projectedAnchorZ:_t,tileAnchorX:at,tileAnchorY:mt},te.verticalIconFeatureIndex=Tt}return te}deserializeCollisionBoxes(t){this.collisionArrays=[];for(let r=0;r<this.symbolInstances.length;r++){const c=this.symbolInstances.get(r);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,c.textBoxStartIndex,c.textBoxEndIndex,c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c.iconBoxStartIndex,c.iconBoxEndIndex,c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(t,r){const c=t.placedSymbolArray.get(r),u=c.vertexStartIndex+4*c.numGlyphs;for(let g=c.vertexStartIndex;g<u;g+=4)t.indexArray.emplaceBack(g,g+1,g+2),t.indexArray.emplaceBack(g+1,g+2,g+3)}getSortedSymbolIndexes(t){if(this.sortedAngle===t&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const r=Math.sin(t),c=Math.cos(t),u=[],g=[],v=[];for(let T=0;T<this.symbolInstances.length;++T){v.push(T);const k=this.symbolInstances.get(T);u.push(0|Math.round(r*k.tileAnchorX+c*k.tileAnchorY)),g.push(k.featureIndex)}return v.sort((T,k)=>u[T]-u[k]||g[k]-g[T]),v}addToSortKeyRanges(t,r){const c=this.sortKeyRanges[this.sortKeyRanges.length-1];c&&c.sortKey===r?c.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:r,symbolInstanceStart:t,symbolInstanceEnd:t+1})}sortFeatures(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const r of this.symbolInstanceIndexes){const c=this.symbolInstances.get(r);this.featureSortOrder.push(c.featureIndex);const{rightJustifiedTextSymbolIndex:u,centerJustifiedTextSymbolIndex:g,leftJustifiedTextSymbolIndex:v,verticalPlacedTextSymbolIndex:T,placedIconSymbolIndex:k,verticalPlacedIconSymbolIndex:D}=c;u>=0&&this.addIndicesForPlacedSymbol(this.text,u),g>=0&&g!==u&&this.addIndicesForPlacedSymbol(this.text,g),v>=0&&v!==g&&v!==u&&this.addIndicesForPlacedSymbol(this.text,v),T>=0&&this.addIndicesForPlacedSymbol(this.text,T),k>=0&&this.addIndicesForPlacedSymbol(this.icon,k),D>=0&&this.addIndicesForPlacedSymbol(this.icon,D)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Ri(jh,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),jh.MAX_GLYPHS=65535,jh.addDynamicAttributes=k0;const Zx=new fi({"symbol-placement":new Dt(ti.layout_symbol["symbol-placement"]),"symbol-spacing":new Dt(ti.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Dt(ti.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Xt(ti.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Dt(ti.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Dt(ti.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Dt(ti.layout_symbol["icon-ignore-placement"]),"icon-optional":new Dt(ti.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Dt(ti.layout_symbol["icon-rotation-alignment"]),"icon-size":new Xt(ti.layout_symbol["icon-size"]),"icon-text-fit":new Dt(ti.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Dt(ti.layout_symbol["icon-text-fit-padding"]),"icon-image":new Xt(ti.layout_symbol["icon-image"]),"icon-rotate":new Xt(ti.layout_symbol["icon-rotate"]),"icon-padding":new Dt(ti.layout_symbol["icon-padding"]),"icon-keep-upright":new Dt(ti.layout_symbol["icon-keep-upright"]),"icon-offset":new Xt(ti.layout_symbol["icon-offset"]),"icon-anchor":new Xt(ti.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Dt(ti.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Dt(ti.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Dt(ti.layout_symbol["text-rotation-alignment"]),"text-field":new Xt(ti.layout_symbol["text-field"]),"text-font":new Xt(ti.layout_symbol["text-font"]),"text-size":new Xt(ti.layout_symbol["text-size"]),"text-max-width":new Xt(ti.layout_symbol["text-max-width"]),"text-line-height":new Xt(ti.layout_symbol["text-line-height"]),"text-letter-spacing":new Xt(ti.layout_symbol["text-letter-spacing"]),"text-justify":new Xt(ti.layout_symbol["text-justify"]),"text-radial-offset":new Xt(ti.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Dt(ti.layout_symbol["text-variable-anchor"]),"text-anchor":new Xt(ti.layout_symbol["text-anchor"]),"text-max-angle":new Dt(ti.layout_symbol["text-max-angle"]),"text-writing-mode":new Dt(ti.layout_symbol["text-writing-mode"]),"text-rotate":new Xt(ti.layout_symbol["text-rotate"]),"text-padding":new Dt(ti.layout_symbol["text-padding"]),"text-keep-upright":new Dt(ti.layout_symbol["text-keep-upright"]),"text-transform":new Xt(ti.layout_symbol["text-transform"]),"text-offset":new Xt(ti.layout_symbol["text-offset"]),"text-allow-overlap":new Dt(ti.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Dt(ti.layout_symbol["text-ignore-placement"]),"text-optional":new Dt(ti.layout_symbol["text-optional"])});var bg={paint:new fi({"icon-opacity":new Xt(ti.paint_symbol["icon-opacity"]),"icon-color":new Xt(ti.paint_symbol["icon-color"]),"icon-halo-color":new Xt(ti.paint_symbol["icon-halo-color"]),"icon-halo-width":new Xt(ti.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Xt(ti.paint_symbol["icon-halo-blur"]),"icon-translate":new Dt(ti.paint_symbol["icon-translate"]),"icon-translate-anchor":new Dt(ti.paint_symbol["icon-translate-anchor"]),"text-opacity":new Xt(ti.paint_symbol["text-opacity"]),"text-color":new Xt(ti.paint_symbol["text-color"],{runtimeType:Bo,getOverride:n=>n.textColor,hasOverride:n=>!!n.textColor}),"text-halo-color":new Xt(ti.paint_symbol["text-halo-color"]),"text-halo-width":new Xt(ti.paint_symbol["text-halo-width"]),"text-halo-blur":new Xt(ti.paint_symbol["text-halo-blur"]),"text-translate":new Dt(ti.paint_symbol["text-translate"]),"text-translate-anchor":new Dt(ti.paint_symbol["text-translate-anchor"])}),layout:Zx};class cy{constructor(t){this.type=t.property.overrides?t.property.overrides.runtimeType:ns,this.defaultValue=t}evaluate(t){if(t.formattedSection){const r=this.defaultValue.property.overrides;if(r&&r.hasOverride(t.formattedSection))return r.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default}eachChild(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Ri(cy,"FormatSectionOverride",{omit:["defaultValue"]});class P0 extends Dl{constructor(t){super(t,bg)}recalculate(t,r){super.recalculate(t,r),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const c=this.layout.get("text-writing-mode");if(c){const u=[];for(const g of c)u.indexOf(g)<0&&u.push(g);this.layout._values["text-writing-mode"]=u}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(t,r,c,u){const g=this.layout.get(t).evaluate(r,{},c,u),v=this._unevaluatedLayout._values[t];return v.isDataDriven()||Uc(v.value)||!g?g:function(T,k){return k.replace(/{([^{}]+)}/g,(D,te)=>te in T?String(T[te]):"")}(r.properties,g)}createBucket(t){return new jh(t)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const t of bg.paint.overridableProperties){if(!P0.hasPaintOverride(this.layout,t))continue;const r=this.paint.get(t),c=new cy(r),u=new hd(c,r.property.specification);let g=null;g=r.value.kind==="constant"||r.value.kind==="source"?new dd("source",u):new Aa("composite",u,r.value.zoomStops,r.value._interpolationType),this.paint._values[t]=new ui(r.property,g,r.parameters)}}_handleOverridablePaintPropertyUpdate(t,r,c){return!(!this.layout||r.isDataDriven()||c.isDataDriven())&&P0.hasPaintOverride(this.layout,t)}static hasPaintOverride(t,r){const c=t.get("text-field"),u=bg.paint.properties[r];let g=!1;const v=T=>{for(const k of T)if(u.overrides&&u.overrides.hasOverride(k))return void(g=!0)};if(c.value.kind==="constant"&&c.value.value instanceof Ds)v(c.value.value.sections);else if(c.value.kind==="source"){const T=D=>{g||(D instanceof Oc&&ss(D.value)===Ga?v(D.value.sections):D instanceof or?v(D.sections):D.eachChild(T))},k=c.value;k._styleExpression&&T(k._styleExpression.expression)}return g}getProgramConfiguration(t){return new Ll(this,t)}}var Kx={paint:new fi({"background-color":new Dt(ti.paint_background["background-color"]),"background-pattern":new Dt(ti.paint_background["background-pattern"]),"background-opacity":new Dt(ti.paint_background["background-opacity"])})},Jx={paint:new fi({"raster-opacity":new Dt(ti.paint_raster["raster-opacity"]),"raster-hue-rotate":new Dt(ti.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Dt(ti.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Dt(ti.paint_raster["raster-brightness-max"]),"raster-saturation":new Dt(ti.paint_raster["raster-saturation"]),"raster-contrast":new Dt(ti.paint_raster["raster-contrast"]),"raster-resampling":new Dt(ti.paint_raster["raster-resampling"]),"raster-fade-duration":new Dt(ti.paint_raster["raster-fade-duration"])})};class Qx extends Dl{constructor(t){super(t,{}),this.implementation=t}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isLayerDraped(){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)}onRemove(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)}}var eb={paint:new fi({"sky-type":new Dt(ti.paint_sky["sky-type"]),"sky-atmosphere-sun":new Dt(ti.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Dt(ti.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Dt(ti.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Dt(ti.paint_sky["sky-gradient-radius"]),"sky-gradient":new di(ti.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Dt(ti.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Dt(ti.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Dt(ti.paint_sky["sky-opacity"])})};function wg(n,t,r){const c=[0,0,1],u=dc([]);return Wf(u,u,r?-I(n)+Math.PI:I(n)),Po(u,u,-I(t)),fo(c,c,u),vs(c,c)}const tb={circle:class extends Dl{constructor(n){super(n,O2)}createBucket(n){return new Hm(n)}queryRadius(n){const t=n;return _u("circle-radius",this,t)+_u("circle-stroke-width",this,t)+e0(this.paint.get("circle-translate"))}queryIntersectsFeature(n,t,r,c,u,g,v,T){const k=t0(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),g.angle,n.pixelToTileUnitsFactor),D=this.paint.get("circle-radius").evaluate(t,r)+this.paint.get("circle-stroke-width").evaluate(t,r);return h_(n,c,g,v,T,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",k,D)}getProgramIds(){return["circle"]}getProgramConfiguration(n){return new Ll(this,n)}},heatmap:class extends Dl{createBucket(n){return new u_(n)}constructor(n){super(n,F2),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(n){n==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Km({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(n){return _u("heatmap-radius",this,n)}queryIntersectsFeature(n,t,r,c,u,g,v,T){const k=this.paint.get("heatmap-radius").evaluate(t,r);return h_(n,c,g,v,T,!0,!0,new R(0,0),k)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(n){return new Ll(this,n)}},hillshade:class extends Dl{constructor(n){super(n,N2)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends Dl{constructor(n){super(n,Z2)}getProgramIds(){const n=this.paint.get("fill-pattern"),t=n&&n.constantOr(1),r=[t?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&r.push(t&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),r}getProgramConfiguration(n){return new Ll(this,n)}recalculate(n,t){super.recalculate(n,t);const r=this.paint._values["fill-outline-color"];r.value.kind==="constant"&&r.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(n){return new Dp(n)}queryRadius(){return e0(this.paint.get("fill-translate"))}queryIntersectsFeature(n,t,r,c,u,g){return!n.queryGeometry.isAboveHorizon&&r_(l_(n.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),g.angle,n.pixelToTileUnitsFactor),c)}isTileClipped(){return!0}},"fill-extrusion":class extends Dl{constructor(n){super(n,lx)}createBucket(n){return new An(n)}queryRadius(){return e0(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(n){return new Ll(this,n)}queryIntersectsFeature(n,t,r,c,u,g,v,T,k){const D=t0(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),g.angle,n.pixelToTileUnitsFactor),te=this.paint.get("fill-extrusion-height").evaluate(t,r),he=this.paint.get("fill-extrusion-base").evaluate(t,r),ge=[0,0],Se=T&&g.elevation,Ae=g.elevation?g.elevation.exaggeration():1,ze=n.tile.getBucket(this);if(Se&&ze instanceof An){const mt=ze.centroidVertexArray,Tt=k+1;Tt<mt.length&&(ge[0]=mt.geta_centroid_pos0(Tt),ge[1]=mt.geta_centroid_pos1(Tt))}if(ge[0]===0&&ge[1]===1)return!1;g.projection.name==="globe"&&(c=A_([c],[new R(0,0),new R(ln,ln)],n.tileID.canonical).map(mt=>mt.polygon).flat());const Xe=Se?T:null,[lt,_t]=function(mt,Tt,bt,qt,$t,ni,wi,Kt,ai,ci,yi){return mt.projection.name==="globe"?function(Ti,ei,Pi,an,Bi,Wi,Ii,cn,Wn,Nn,zn){const hn=[],yr=[],_n=Ti.projection.upVectorScale(zn,Ti.center.lat,Ti.worldSize).metersToTile,$n=[0,0,0,1],Tr=[0,0,0,1],Br=(Fr,Ur,fs,_o)=>{Fr[0]=Ur,Fr[1]=fs,Fr[2]=_o,Fr[3]=1},Lr=M_();Pi>0&&(Pi+=Lr),an+=Lr;for(const Fr of ei){const Ur=[],fs=[];for(const _o of Fr){const vr=_o.x+Bi.x,Bs=_o.y+Bi.y,Is=Ti.projection.projectTilePoint(vr,Bs,zn),lr=Ti.projection.upVector(zn,_o.x,_o.y);let es=Pi,Hs=an;if(Ii){const Sr=k_(vr,Bs,Pi,an,Ii,cn,Wn,Nn);es+=Sr.base,Hs+=Sr.top}Pi!==0?Br($n,Is.x+lr[0]*_n*es,Is.y+lr[1]*_n*es,Is.z+lr[2]*_n*es):Br($n,Is.x,Is.y,Is.z),Br(Tr,Is.x+lr[0]*_n*Hs,Is.y+lr[1]*_n*Hs,Is.z+lr[2]*_n*Hs),Qr($n,$n,Wi),Qr(Tr,Tr,Wi),Ur.push(new zr($n[0],$n[1],$n[2])),fs.push(new zr(Tr[0],Tr[1],Tr[2]))}hn.push(Ur),yr.push(fs)}return[hn,yr]}(mt,Tt,bt,qt,$t,ni,wi,Kt,ai,ci,yi):wi?function(Ti,ei,Pi,an,Bi,Wi,Ii,cn,Wn){const Nn=[],zn=[],hn=[0,0,0,1];for(const yr of Ti){const _n=[],$n=[];for(const Tr of yr){const Br=Tr.x+an.x,Lr=Tr.y+an.y,Fr=k_(Br,Lr,ei,Pi,Wi,Ii,cn,Wn);hn[0]=Br,hn[1]=Lr,hn[2]=Fr.base,hn[3]=1,Ed(hn,hn,Bi),hn[3]=Math.max(hn[3],1e-5);const Ur=new zr(hn[0]/hn[3],hn[1]/hn[3],hn[2]/hn[3]);hn[0]=Br,hn[1]=Lr,hn[2]=Fr.top,hn[3]=1,Ed(hn,hn,Bi),hn[3]=Math.max(hn[3],1e-5);const fs=new zr(hn[0]/hn[3],hn[1]/hn[3],hn[2]/hn[3]);_n.push(Ur),$n.push(fs)}Nn.push(_n),zn.push($n)}return[Nn,zn]}(Tt,bt,qt,$t,ni,wi,Kt,ai,ci):function(Ti,ei,Pi,an,Bi){const Wi=[],Ii=[],cn=Bi[8]*ei,Wn=Bi[9]*ei,Nn=Bi[10]*ei,zn=Bi[11]*ei,hn=Bi[8]*Pi,yr=Bi[9]*Pi,_n=Bi[10]*Pi,$n=Bi[11]*Pi;for(const Tr of Ti){const Br=[],Lr=[];for(const Fr of Tr){const Ur=Fr.x+an.x,fs=Fr.y+an.y,_o=Bi[0]*Ur+Bi[4]*fs+Bi[12],vr=Bi[1]*Ur+Bi[5]*fs+Bi[13],Bs=Bi[2]*Ur+Bi[6]*fs+Bi[14],Is=Bi[3]*Ur+Bi[7]*fs+Bi[15],lr=_o+cn,es=vr+Wn,Hs=Bs+Nn,Sr=Math.max(Is+zn,1e-5),ws=_o+hn,Yo=vr+yr,yo=Bs+_n,vo=Math.max(Is+$n,1e-5);Br.push(new zr(lr/Sr,es/Sr,Hs/Sr)),Lr.push(new zr(ws/vo,Yo/vo,yo/vo))}Wi.push(Br),Ii.push(Lr)}return[Wi,Ii]}(Tt,bt,qt,$t,ni)}(g,c,he,te,D,v,Xe,ge,Ae,g.center.lat,n.tileID.canonical),at=n.queryGeometry;return function(mt,Tt,bt){let qt=1/0;r_(bt,Tt)&&(qt=ng(bt,Tt[0]));for(let $t=0;$t<Tt.length;$t++){const ni=Tt[$t],wi=mt[$t];for(let Kt=0;Kt<ni.length-1;Kt++){const ai=ni[Kt],ci=[ai,ni[Kt+1],wi[Kt+1],wi[Kt],ai];n_(bt,ci)&&(qt=Math.min(qt,ng(bt,ci)))}}return qt!==1/0&&qt}(lt,_t,at.isPointQuery()?at.screenBounds:at.screenGeometry)}},line:class extends Dl{constructor(n){super(n,I_),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(n){if(n==="line-gradient"){const t=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=t._styleExpression&&t._styleExpression.expression instanceof Un,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(n,t){super.recalculate(n,t),this.paint._values["line-floorwidth"]=sg.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,n)}createBucket(n){return new Bh(n)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(n){return new Ll(this,n)}queryRadius(n){const t=n,r=zp(_u("line-width",this,t),_u("line-gap-width",this,t)),c=_u("line-offset",this,t);return r/2+Math.abs(c)+e0(this.paint.get("line-translate"))}queryIntersectsFeature(n,t,r,c,u,g){if(n.queryGeometry.isAboveHorizon)return!1;const v=l_(n.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),g.angle,n.pixelToTileUnitsFactor),T=n.pixelToTileUnitsFactor/2*zp(this.paint.get("line-width").evaluate(t,r),this.paint.get("line-gap-width").evaluate(t,r)),k=this.paint.get("line-offset").evaluate(t,r);return k&&(c=function(D,te){const he=[],ge=new R(0,0);for(let Se=0;Se<D.length;Se++){const Ae=D[Se],ze=[];for(let Xe=0;Xe<Ae.length;Xe++){const lt=Ae[Xe-1],_t=Ae[Xe],at=Ae[Xe+1],mt=Xe===0?ge:_t.sub(lt)._unit()._perp(),Tt=Xe===Ae.length-1?ge:at.sub(_t)._unit()._perp(),bt=mt._add(Tt)._unit();bt._mult(1/(bt.x*Tt.x+bt.y*Tt.y)),ze.push(bt._mult(te)._add(_t))}he.push(ze)}return he}(c,k*n.pixelToTileUnitsFactor)),function(D,te,he){for(let ge=0;ge<te.length;ge++){const Se=te[ge];if(D.length>=3){for(let Ae=0;Ae<Se.length;Ae++)if(kd(D,Se[Ae]))return!0}if(I2(D,Se,he))return!0}return!1}(v,c,T)}isTileClipped(){return!0}},symbol:P0,background:class extends Dl{constructor(n){super(n,Kx)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends Dl{constructor(n){super(n,Jx)}getProgramIds(){return["raster"]}},sky:class extends Dl{constructor(n){super(n,eb),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(n){n==="sky-gradient"?this._updateColorRamp():n!=="sky-atmosphere-sun"&&n!=="sky-atmosphere-halo-color"&&n!=="sky-atmosphere-color"&&n!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Km({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(n){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const t=n.style.light.properties.get("position");return this._lightPosition.azimuthal!==t.azimuthal||this._lightPosition.polar!==t.polar}return!1}getCenter(n,t){if(this.paint.get("sky-type")==="atmosphere"){const c=this.paint.get("sky-atmosphere-sun"),u=!c,g=n.style.light,v=g.properties.get("position");return u&&g.properties.get("anchor")==="viewport"&&Y("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),u?wg(v.azimuthal,90-v.polar,t):wg(c[0],90-c[1],t)}const r=this.paint.get("sky-gradient-center");return wg(r[0],90-r[1],t)}is3D(){return!1}isSky(){return!0}markSkyboxValid(n){this._skyboxInvalidated=!1,this._lightPosition=n.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const n=this.paint.get("sky-type");return n==="atmosphere"?["skyboxCapture","skybox"]:n==="gradient"?["skyboxGradient"]:null}}};class f{constructor(t,r,c,u){this.context=t,this.format=c,this.texture=t.gl.createTexture(),this.update(r,u)}update(t,r,c){const{width:u,height:g}=t,{context:v}=this,{gl:T}=v,{HTMLImageElement:k,HTMLCanvasElement:D,HTMLVideoElement:te,ImageData:he,ImageBitmap:ge}=b;if(T.bindTexture(T.TEXTURE_2D,this.texture),v.pixelStoreUnpackFlipY.set(!1),v.pixelStoreUnpack.set(1),v.pixelStoreUnpackPremultiplyAlpha.set(this.format===T.RGBA&&(!r||r.premultiply!==!1)),c||this.size&&this.size[0]===u&&this.size[1]===g){const{x:Se,y:Ae}=c||{x:0,y:0};t instanceof k||t instanceof D||t instanceof te||t instanceof he||ge&&t instanceof ge?T.texSubImage2D(T.TEXTURE_2D,0,Se,Ae,T.RGBA,T.UNSIGNED_BYTE,t):T.texSubImage2D(T.TEXTURE_2D,0,Se,Ae,u,g,T.RGBA,T.UNSIGNED_BYTE,t.data)}else this.size=[u,g],t instanceof k||t instanceof D||t instanceof te||t instanceof he||ge&&t instanceof ge?T.texImage2D(T.TEXTURE_2D,0,this.format,this.format,T.UNSIGNED_BYTE,t):T.texImage2D(T.TEXTURE_2D,0,this.format,u,g,0,this.format,T.UNSIGNED_BYTE,t.data);this.useMipmap=!!(r&&r.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&T.generateMipmap(T.TEXTURE_2D)}bind(t,r){const{context:c}=this,{gl:u}=c;u.bindTexture(u.TEXTURE_2D,this.texture),t!==this.filter&&(u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,t),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,this.useMipmap?t===u.NEAREST?u.NEAREST_MIPMAP_NEAREST:u.LINEAR_MIPMAP_NEAREST:t),this.filter=t),r!==this.wrap&&(u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,r),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,r),this.wrap=r)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:t}=this.context;t.deleteTexture(this.texture),this.texture=null}}class x{constructor(t){this._callback=t,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class j{constructor(){this.tasks={},this.taskQueue=[],pe(["process"],this),this.invoker=new x(this.process),this.nextId=0}add(t,r){const c=this.nextId++,u=function({type:g,isSymbolTile:v,zoom:T}){return T=T||0,g==="message"?0:g!=="maybePrepare"||v?g!=="parseTile"||v?g==="parseTile"&&v?300-T:g==="maybePrepare"&&v?400-T:500:200-T:100-T}(r);if(u===0){ke();try{t()}finally{}return{cancel:()=>{}}}return this.tasks[c]={fn:t,metadata:r,priority:u,id:c},this.taskQueue.push(c),this.invoker.trigger(),{cancel:()=>{delete this.tasks[c]}}}process(){ke();try{if(this.taskQueue=this.taskQueue.filter(c=>!!this.tasks[c]),!this.taskQueue.length)return;const t=this.pick();if(t===null)return;const r=this.tasks[t];if(delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),!r)return;r.fn()}finally{}}pick(){let t=null,r=1/0;for(let u=0;u<this.taskQueue.length;u++){const g=this.tasks[this.taskQueue[u]];g.priority<r&&(r=g.priority,t=u)}if(t===null)return null;const c=this.taskQueue[t];return this.taskQueue.splice(t,1),c}remove(){this.invoker.remove()}}class we{constructor(t){this._stringToNumber={},this._numberToString=[];for(let r=0;r<t.length;r++){const c=t[r];this._stringToNumber[c]=r,this._numberToString[r]=c}}encode(t){return this._stringToNumber[t]}decode(t){return this._numberToString[t]}}const Ue=["tile","layer","source","sourceLayer","state"];class nt{constructor(t,r,c,u,g){this.type="Feature",this._vectorTileFeature=t,this._z=r,this._x=c,this._y=u,this.properties=t.properties,this.id=g}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(t){this._geometry=t}toJSON(){const t={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};this.id!==void 0&&(t.id=this.id);for(const r of Ue)this[r]!==void 0&&(t[r]=this[r]);return t}}const yt=32,At=33,Ft=new Uint16Array(8184);for(let n=0;n<2046;n++){let t=n+2,r=0,c=0,u=0,g=0,v=0,T=0;for(1&t?u=g=v=yt:r=c=T=yt;(t>>=1)>1;){const D=r+u>>1,te=c+g>>1;1&t?(u=r,g=c,r=v,c=T):(r=u,c=g,u=v,g=T),v=D,T=te}const k=4*n;Ft[k+0]=r,Ft[k+1]=c,Ft[k+2]=u,Ft[k+3]=g}const pi=new Uint16Array(2178),gi=new Uint8Array(1089),Ei=new Uint16Array(1089);function Vi(n){return n===0?-.03125:n===32?.03125:0}var on=Zi([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const yn={type:2,extent:ln,loadGeometry:()=>[[new R(0,0),new R(8193,0),new R(8193,8193),new R(0,8193),new R(0,0)]]};class Gn{constructor(t,r,c,u,g){this.tileID=t,this.uid=We(),this.uses=0,this.tileSize=r,this.tileZoom=c,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=g,this.expiredRequestCount=0,this.state="loading",u&&u.transform&&(this.projection=u.transform.projection)}registerFadeDuration(t){const r=t+this.timeAdded;r<jn.now()||this.fadeEndTime&&r<this.fadeEndTime||(this.fadeEndTime=r)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=Ld(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(t,r,c){if(this.unloadVectorData(),this.state="loaded",t){t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(u,g){const v={};if(!g)return v;for(const T of u){const k=T.layerIds.map(D=>g.getLayer(D)).filter(Boolean);if(k.length!==0){T.layers=k,T.stateDependentLayerIds&&(T.stateDependentLayers=T.stateDependentLayerIds.map(D=>k.filter(te=>te.id===D)[0]));for(const D of k)v[D.id]=T}}return v}(t.buckets,r.style),this.hasSymbolBuckets=!1;for(const u in this.buckets){const g=this.buckets[u];if(g instanceof jh){if(this.hasSymbolBuckets=!0,!c)break;g.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const u in this.buckets){const g=this.buckets[u];if(g instanceof jh&&g.hasRTLText){this.hasRTLText=!0,Ct.isLoading()||Ct.isLoaded()||wt()!=="deferred"||vt();break}}this.queryPadding=0;for(const u in this.buckets){const g=this.buckets[u];this.queryPadding=Math.max(this.queryPadding,r.style.getLayer(u).queryRadius(g))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage),t.lineAtlas&&(this.lineAtlas=t.lineAtlas)}else this.collisionBoxArray=new Em}unloadVectorData(){if(this.hasData()){for(const t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(t){return this.buckets[t.id]}upload(t){for(const c in this.buckets){const u=this.buckets[c];u.uploadPending()&&u.upload(t)}const r=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new f(t,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new f(t,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new f(t,this.lineAtlas.image,r.ALPHA),this.lineAtlas.uploaded=!0)}prepare(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)}queryRenderedFeatures(t,r,c,u,g,v,T,k){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:u,pixelPosMatrix:T,transform:v,params:g,tileTransform:this.tileTransform},t,r,c):{}}querySourceFeatures(t,r){const c=this.latestFeatureIndex;if(!c||!c.rawTileData)return;const u=c.loadVTLayers(),g=r?r.sourceLayer:"",v=u._geojsonTileLayer||u[g];if(!v)return;const T=as(r&&r.filter),{z:k,x:D,y:te}=this.tileID.canonical,he={z:k,x:D,y:te};for(let ge=0;ge<v.length;ge++){const Se=v.feature(ge);if(T.needGeometry){const Xe=Ad(Se,!0);if(!T.filter(new Rt(this.tileID.overscaledZ),Xe,this.tileID.canonical))continue}else if(!T.filter(new Rt(this.tileID.overscaledZ),Se))continue;const Ae=c.getId(Se,g),ze=new nt(Se,k,D,te,Ae);ze.tile=he,t.push(ze)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(t){const r=this.expirationTime;if(t.cacheControl){const c=Ie(t.cacheControl);c["max-age"]&&(this.expirationTime=Date.now()+1e3*c["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){const c=Date.now();let u=!1;if(this.expirationTime>c)u=!1;else if(r)if(this.expirationTime<r)u=!0;else{const g=this.expirationTime-r;g?this.expirationTime=c+Math.max(g,3e4):u=!0}else u=!0;u?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(t,r){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(t).length===0||!r)return;const c=this.latestFeatureIndex.loadVTLayers(),u=r.style.listImages();for(const g in this.buckets){if(!r.style.hasLayer(g))continue;const v=this.buckets[g],T=v.layers[0].sourceLayer||"_geojsonTileLayer",k=c[T],D=t[T];if(!k||!D||Object.keys(D).length===0)continue;if(v.update(D,k,u,this.imageAtlas&&this.imageAtlas.patternPositions||{}),v instanceof Bh||v instanceof Dp){const he=r.style._getSourceCache(v.layers[0].source);r._terrain&&r._terrain.enabled&&he&&v.programConfigurations.needsUpload&&r._terrain._clearRenderCacheForTile(he.id,this.tileID)}const te=r&&r.style&&r.style.getLayer(g);te&&(this.queryPadding=Math.max(this.queryPadding,te.queryRadius(v)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<jn.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(t){this.symbolFadeHoldUntil=jn.now()+t}setTexture(t,r){const c=r.context,u=c.gl;this.texture=this.texture||r.getTileTexture(t.width),this.texture?this.texture.update(t,{useMipmap:!0}):(this.texture=new f(c,t,u.RGBA,{useMipmap:!0}),this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE))}setDependencies(t,r){const c={};for(const u of r)c[u]=!0;this.dependencies[t]=c}hasDependency(t,r){for(const c of t){const u=this.dependencies[c];if(u){for(const g of r)if(u[g])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(t,r){if(!r||r.name==="mercator"||this._tileDebugBuffer)return;const c=Zc(yn,this.tileID.canonical,this.tileTransform)[0],u=new nn,g=new oa;for(let v=0;v<c.length;v++){const{x:T,y:k}=c[v];u.emplaceBack(T,k),g.emplaceBack(v)}g.emplaceBack(0),this._tileDebugIndexBuffer=t.createIndexBuffer(g),this._tileDebugBuffer=t.createVertexBuffer(u,Yc.members),this._tileDebugSegments=qr.simpleSegment(0,0,u.length,g.length)}_makeTileBoundsBuffers(t,r){if(this._tileBoundsBuffer||!r||r.name==="mercator")return;const c=Zc(yn,this.tileID.canonical,this.tileTransform)[0];let u,g;if(this.isRaster){const v=function(T,k){const D=Ld(T,k),te=Math.pow(2,T.z);for(let Xe=0;Xe<At;Xe++)for(let lt=0;lt<At;lt++){const _t=La((T.x+(lt+Vi(lt))/yt)/te),at=to((T.y+(Xe+Vi(Xe))/yt)/te),mt=k.project(_t,at),Tt=Xe*At+lt;pi[2*Tt+0]=Math.round((mt.x*D.scale-D.x)*ln),pi[2*Tt+1]=Math.round((mt.y*D.scale-D.y)*ln)}gi.fill(0),Ei.fill(0);for(let Xe=2045;Xe>=0;Xe--){const lt=4*Xe,_t=Ft[lt+0],at=Ft[lt+1],mt=Ft[lt+2],Tt=Ft[lt+3],bt=_t+mt>>1,qt=at+Tt>>1,$t=bt+qt-at,ni=qt+_t-bt,wi=at*At+_t,Kt=Tt*At+mt,ai=qt*At+bt,ci=Math.hypot((pi[2*wi+0]+pi[2*Kt+0])/2-pi[2*ai+0],(pi[2*wi+1]+pi[2*Kt+1])/2-pi[2*ai+1])>=16;if(gi[ai]=gi[ai]||(ci?1:0),Xe<1022){const yi=(at+ni>>1)*At+(_t+$t>>1),Ti=(Tt+ni>>1)*At+(mt+$t>>1);gi[ai]=gi[ai]||gi[yi]||gi[Ti]}}const he=new tr,ge=new Gs;let Se=0;function Ae(Xe,lt){const _t=lt*At+Xe;return Ei[_t]===0&&(he.emplaceBack(pi[2*_t+0],pi[2*_t+1],Xe*ln/yt,lt*ln/yt),Ei[_t]=++Se),Ei[_t]-1}function ze(Xe,lt,_t,at,mt,Tt){const bt=Xe+_t>>1,qt=lt+at>>1;if(Math.abs(Xe-mt)+Math.abs(lt-Tt)>1&&gi[qt*At+bt])ze(mt,Tt,Xe,lt,bt,qt),ze(_t,at,mt,Tt,bt,qt);else{const $t=Ae(Xe,lt),ni=Ae(_t,at),wi=Ae(mt,Tt);ge.emplaceBack($t,ni,wi)}}return ze(0,0,yt,yt,yt,0),ze(yt,yt,0,0,0,yt),{vertices:he,indices:ge}}(this.tileID.canonical,r);u=v.vertices,g=v.indices}else{u=new tr,g=new Gs;for(const{x:T,y:k}of c)u.emplaceBack(T,k,0,0);const v=yu(u.int16,void 0,4);for(let T=0;T<v.length;T+=3)g.emplaceBack(v[T],v[T+1],v[T+2])}this._tileBoundsBuffer=t.createVertexBuffer(u,on.members),this._tileBoundsIndexBuffer=t.createIndexBuffer(g),this._tileBoundsSegments=qr.simpleSegment(0,0,u.length,g.length)}_makeGlobeTileDebugBuffers(t,r){const c=r.projection;if(!c||c.name!=="globe"||r.freezeTileCoverage)return;const u=this.tileID.canonical,g=Cp(Bm(u,r)),v=mu(r.zoom);let T;v>0&&(T=Gf(new Float64Array(16),r.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(t,u,r,g,T,v),this._makeGlobeTileDebugTextBuffer(t,u,r,g,T,v)}_globePoint(t,r,c,u,g,v,T){let k=Ep(t,r,c);if(v){const D=1<<c.z,te=fc(u.center.lng),he=mc(u.center.lat),ge=(c.x+.5)/D-te;let Se=0;ge>.5?Se=-1:ge<-.5&&(Se=1);let Ae=(t/ln+c.x)/D+Se,ze=(r/ln+c.y)/D;Ae=(Ae-te)*u._pixelsPerMercatorPixel+te,ze=(ze-he)*u._pixelsPerMercatorPixel+he;const Xe=[Ae*u.worldSize,ze*u.worldSize,0];Qr(Xe,Xe,v),k=pc(k,Xe,T)}return Qr(k,k,g)}_makeGlobeTileDebugBorderBuffer(t,r,c,u,g,v){const T=new nn,k=new oa,D=new er,te=(ge,Se,Ae,ze,Xe)=>{const lt=(Ae-ge)/(Xe-1),_t=(ze-Se)/(Xe-1),at=T.length;for(let mt=0;mt<Xe;mt++){const Tt=ge+mt*lt,bt=Se+mt*_t;T.emplaceBack(Tt,bt);const qt=this._globePoint(Tt,bt,r,c,u,g,v);D.emplaceBack(qt[0],qt[1],qt[2]),k.emplaceBack(at+mt)}},he=ln;te(0,0,he,0,16),te(he,0,he,he,16),te(he,he,0,he,16),te(0,he,0,0,16),this._tileDebugIndexBuffer=t.createIndexBuffer(k),this._tileDebugBuffer=t.createVertexBuffer(T,Yc.members),this._globeTileDebugBorderBuffer=t.createVertexBuffer(D,q1.members),this._tileDebugSegments=qr.simpleSegment(0,0,T.length,k.length)}_makeGlobeTileDebugTextBuffer(t,r,c,u,g,v){const T=new nn,k=new Gs,D=new er,te=25;k.reserve(32),T.reserve(te),D.reserve(te);const he=(ge,Se)=>te*ge+Se;for(let ge=0;ge<te;ge++){const Se=2048*ge;for(let Ae=0;Ae<te;Ae++){const ze=2048*Ae;T.emplaceBack(ze,Se);const Xe=this._globePoint(ze,Se,r,c,u,g,v);D.emplaceBack(Xe[0],Xe[1],Xe[2])}}for(let ge=0;ge<4;ge++)for(let Se=0;Se<4;Se++){const Ae=he(ge,Se),ze=he(ge,Se+1),Xe=he(ge+1,Se),lt=he(ge+1,Se+1);k.emplaceBack(Ae,ze,Xe),k.emplaceBack(Xe,ze,lt)}this._tileDebugTextIndexBuffer=t.createIndexBuffer(k),this._tileDebugTextBuffer=t.createVertexBuffer(T,Yc.members),this._globeTileDebugTextBuffer=t.createVertexBuffer(D,q1.members),this._tileDebugTextSegments=qr.simpleSegment(0,0,te,32)}}class wn{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(t,r,c){const u=String(r);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][u]=this.stateChanges[t][u]||{},oe(this.stateChanges[t][u],c),this.deletedStates[t]===null){this.deletedStates[t]={};for(const g in this.state[t])g!==u&&(this.deletedStates[t][g]=null)}else if(this.deletedStates[t]&&this.deletedStates[t][u]===null){this.deletedStates[t][u]={};for(const g in this.state[t][u])c[g]||(this.deletedStates[t][u][g]=null)}else for(const g in c)this.deletedStates[t]&&this.deletedStates[t][u]&&this.deletedStates[t][u][g]===null&&delete this.deletedStates[t][u][g]}removeFeatureState(t,r,c){if(this.deletedStates[t]===null)return;const u=String(r);if(this.deletedStates[t]=this.deletedStates[t]||{},c&&r!==void 0)this.deletedStates[t][u]!==null&&(this.deletedStates[t][u]=this.deletedStates[t][u]||{},this.deletedStates[t][u][c]=null);else if(r!==void 0)if(this.stateChanges[t]&&this.stateChanges[t][u])for(c in this.deletedStates[t][u]={},this.stateChanges[t][u])this.deletedStates[t][u][c]=null;else this.deletedStates[t][u]=null;else this.deletedStates[t]=null}getState(t,r){const c=String(r),u=oe({},(this.state[t]||{})[c],(this.stateChanges[t]||{})[c]);if(this.deletedStates[t]===null)return{};if(this.deletedStates[t]){const g=this.deletedStates[t][r];if(g===null)return{};for(const v in g)delete u[v]}return u}initializeTileState(t,r){t.setFeatureState(this.state,r)}coalesceChanges(t,r){const c={};for(const u in this.stateChanges){this.state[u]=this.state[u]||{};const g={};for(const v in this.stateChanges[u])this.state[u][v]||(this.state[u][v]={}),oe(this.state[u][v],this.stateChanges[u][v]),g[v]=this.state[u][v];c[u]=g}for(const u in this.deletedStates){this.state[u]=this.state[u]||{};const g={};if(this.deletedStates[u]===null)for(const v in this.state[u])g[v]={},this.state[u][v]={};else for(const v in this.deletedStates[u]){if(this.deletedStates[u][v]===null)this.state[u][v]={};else if(this.state[u][v])for(const T of Object.keys(this.deletedStates[u][v]))delete this.state[u][v][T];g[v]=this.state[u][v]}c[u]=c[u]||{},oe(c[u],g)}if(this.stateChanges={},this.deletedStates={},Object.keys(c).length!==0)for(const u in t)t[u].setFeatureState(c,r)}}class Qn{constructor(t){this.size=t,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(t,r){const c=this.toIdx(t,r);return{min:this.minimums[c],max:this.maximums[c]}}isLeaf(t,r){return this.leaves[this.toIdx(t,r)]}toIdx(t,r){return r*this.size+t}}function ar(n,t,r,c){let u=0,g=Number.MAX_VALUE;for(let v=0;v<3;v++)if(Math.abs(c[v])<1e-15){if(r[v]<n[v]||r[v]>t[v])return null}else{const T=1/c[v];let k=(n[v]-r[v])*T,D=(t[v]-r[v])*T;if(k>D){const te=k;k=D,D=te}if(k>u&&(u=k),D<g&&(g=D),u>g)return null}return u}function ua(n,t,r,c,u,g,v,T,k,D,te){const he=c-n,ge=u-t,Se=g-r,Ae=v-n,ze=T-t,Xe=k-r,lt=te[1]*Xe-te[2]*ze,_t=te[2]*Ae-te[0]*Xe,at=te[0]*ze-te[1]*Ae,mt=he*lt+ge*_t+Se*at;if(Math.abs(mt)<1e-15)return null;const Tt=1/mt,bt=D[0]-n,qt=D[1]-t,$t=D[2]-r,ni=(bt*lt+qt*_t+$t*at)*Tt;if(ni<0||ni>1)return null;const wi=qt*Se-$t*ge,Kt=$t*he-bt*Se,ai=bt*ge-qt*he,ci=(te[0]*wi+te[1]*Kt+te[2]*ai)*Tt;return ci<0||ni+ci>1?null:(Ae*wi+ze*Kt+Xe*ai)*Tt}function Lo(n,t,r){return(n-t)/(r-t)}function pa(n,t,r,c,u,g,v,T,k){const D=1<<r,te=g-c,he=v-u,ge=(n+1)/D*te+c,Se=(t+0)/D*he+u,Ae=(t+1)/D*he+u;T[0]=(n+0)/D*te+c,T[1]=Se,k[0]=ge,k[1]=Ae}class bs{constructor(t){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=t,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const r=function(g){const v=Math.ceil(Math.log2(g.dim/8)),T=[];let k=Math.ceil(Math.pow(2,v));const D=1/k,te=(Se,Ae,ze,Xe,lt)=>{const _t=Xe?1:0,at=(Se+1)*ze-_t,mt=Ae*ze,Tt=(Ae+1)*ze-_t;lt[0]=Se*ze,lt[1]=mt,lt[2]=at,lt[3]=Tt};let he=new Qn(k);const ge=[];for(let Se=0;Se<k*k;Se++){te(Se%k,Math.floor(Se/k),D,!1,ge);const Ae=Do(ge[0],ge[1],g),ze=Do(ge[2],ge[1],g),Xe=Do(ge[2],ge[3],g),lt=Do(ge[0],ge[3],g);he.minimums.push(Math.min(Ae,ze,Xe,lt)),he.maximums.push(Math.max(Ae,ze,Xe,lt)),he.leaves.push(1)}for(T.push(he),k/=2;k>=1;k/=2){const Se=T[T.length-1];he=new Qn(k);for(let Ae=0;Ae<k*k;Ae++){te(Ae%k,Math.floor(Ae/k),2,!0,ge);const ze=Se.getElevation(ge[0],ge[1]),Xe=Se.getElevation(ge[2],ge[1]),lt=Se.getElevation(ge[2],ge[3]),_t=Se.getElevation(ge[0],ge[3]),at=Se.isLeaf(ge[0],ge[1]),mt=Se.isLeaf(ge[2],ge[1]),Tt=Se.isLeaf(ge[2],ge[3]),bt=Se.isLeaf(ge[0],ge[3]),qt=Math.min(ze.min,Xe.min,lt.min,_t.min),$t=Math.max(ze.max,Xe.max,lt.max,_t.max),ni=at&&mt&&Tt&&bt;he.maximums.push($t),he.minimums.push(qt),he.leaves.push($t-qt<=5&&ni?1:0)}T.push(he)}return T}(this.dem),c=r.length-1,u=r[c];this._addNode(u.minimums[0],u.maximums[0],u.leaves[0]),this._construct(r,0,0,c,0)}raycastRoot(t,r,c,u,g,v,T=1){return ar([t,r,-100],[c,u,this.maximums[0]*T],g,v)}raycast(t,r,c,u,g,v,T=1){if(!this.nodeCount)return null;const k=this.raycastRoot(t,r,c,u,g,v,T);if(k==null)return null;const D=[],te=[],he=[],ge=[],Se=[{idx:0,t:k,nodex:0,nodey:0,depth:0}];for(;Se.length>0;){const{idx:Ae,t:ze,nodex:Xe,nodey:lt,depth:_t}=Se.pop();if(this.leaves[Ae]){pa(Xe,lt,_t,t,r,c,u,he,ge);const mt=1<<_t,Tt=(Xe+0)/mt,bt=(Xe+1)/mt,qt=(lt+0)/mt,$t=(lt+1)/mt,ni=Do(Tt,qt,this.dem)*T,wi=Do(bt,qt,this.dem)*T,Kt=Do(bt,$t,this.dem)*T,ai=Do(Tt,$t,this.dem)*T,ci=ua(he[0],he[1],ni,ge[0],he[1],wi,ge[0],ge[1],Kt,g,v),yi=ua(ge[0],ge[1],Kt,he[0],ge[1],ai,he[0],he[1],ni,g,v),Ti=Math.min(ci!==null?ci:Number.MAX_VALUE,yi!==null?yi:Number.MAX_VALUE);if(Ti!==Number.MAX_VALUE)return Ti;{const ei=Sd([],g,v,ze);if(sl(ni,wi,ai,Kt,Lo(ei[0],he[0],ge[0]),Lo(ei[1],he[1],ge[1]))>=ei[2])return ze}continue}let at=0;for(let mt=0;mt<this._siblingOffset.length;mt++){pa((Xe<<1)+this._siblingOffset[mt][0],(lt<<1)+this._siblingOffset[mt][1],_t+1,t,r,c,u,he,ge),he[2]=-100,ge[2]=this.maximums[this.childOffsets[Ae]+mt]*T;const Tt=ar(he,ge,g,v);if(Tt!=null){const bt=Tt;D[mt]=bt;let qt=!1;for(let $t=0;$t<at&&!qt;$t++)bt>=D[te[$t]]&&(te.splice($t,0,mt),qt=!0);qt||(te[at]=mt),at++}}for(let mt=0;mt<at;mt++){const Tt=te[mt];Se.push({idx:this.childOffsets[Ae]+Tt,t:D[Tt],nodex:(Xe<<1)+this._siblingOffset[Tt][0],nodey:(lt<<1)+this._siblingOffset[Tt][1],depth:_t+1})}}return null}_addNode(t,r,c){return this.minimums.push(t),this.maximums.push(r),this.leaves.push(c),this.childOffsets.push(0),this.nodeCount++}_construct(t,r,c,u,g){if(t[u].isLeaf(r,c)===1)return;this.childOffsets[g]||(this.childOffsets[g]=this.nodeCount);const v=u-1,T=t[v];let k=0,D=0;for(let te=0;te<this._siblingOffset.length;te++){const he=2*r+this._siblingOffset[te][0],ge=2*c+this._siblingOffset[te][1],Se=T.getElevation(he,ge),Ae=T.isLeaf(he,ge),ze=this._addNode(Se.min,Se.max,Ae);Ae&&(k|=1<<te),D||(D=ze)}for(let te=0;te<this._siblingOffset.length;te++)k&1<<te||this._construct(t,2*r+this._siblingOffset[te][0],2*c+this._siblingOffset[te][1],v,D+te)}}function sl(n,t,r,c,u,g){return Qi(Qi(n,r,g),Qi(t,c,g),u)}function Do(n,t,r){const c=r.dim,u=A(n*c-.5,0,c-1),g=A(t*c-.5,0,c-1),v=Math.floor(u),T=Math.floor(g),k=Math.min(v+1,c-1),D=Math.min(T+1,c-1);return sl(r.get(v,T),r.get(k,T),r.get(v,D),r.get(k,D),u-v,g-T)}const Tg={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function jC(n,t,r){return(256*n*256+256*t+r)/10-1e4}function UC(n,t,r){return 256*n+t+r/256-32768}class hy{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(t,r,c,u=!1,g=!1){if(this.uid=t,r.height!==r.width)throw new RangeError("DEM tiles must be square");if(c&&c!=="mapbox"&&c!=="terrarium")return Y(`"${c}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=r.height;const v=this.dim=r.height-2,T=new Uint32Array(r.data.buffer);if(this.pixels=new Uint8Array(r.data.buffer),this.encoding=c||"mapbox",this.borderReady=u,!u){for(let k=0;k<v;k++)T[this._idx(-1,k)]=T[this._idx(0,k)],T[this._idx(v,k)]=T[this._idx(v-1,k)],T[this._idx(k,-1)]=T[this._idx(k,0)],T[this._idx(k,v)]=T[this._idx(k,v-1)];T[this._idx(-1,-1)]=T[this._idx(0,0)],T[this._idx(v,-1)]=T[this._idx(v-1,0)],T[this._idx(-1,v)]=T[this._idx(0,v-1)],T[this._idx(v,v)]=T[this._idx(v-1,v-1)],g&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new bs(this)}get(t,r,c=!1){c&&(t=A(t,-1,this.dim),r=A(r,-1,this.dim));const u=4*this._idx(t,r);return(this.encoding==="terrarium"?UC:jC)(this.pixels[u],this.pixels[u+1],this.pixels[u+2])}static getUnpackVector(t){return Tg[t]}get unpackVector(){return Tg[this.encoding]}_idx(t,r){if(t<-1||t>=this.dim+1||r<-1||r>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(r+1)*this.stride+(t+1)}static pack(t,r){const c=[0,0,0,0],u=hy.getUnpackVector(r);let g=Math.floor((t+u[3])/u[2]);return c[2]=g%256,g=Math.floor(g/256),c[1]=g%256,g=Math.floor(g/256),c[0]=g,c}getPixels(){return new ca({width:this.stride,height:this.stride},this.pixels)}backfillBorder(t,r,c){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");let u=r*this.dim,g=r*this.dim+this.dim,v=c*this.dim,T=c*this.dim+this.dim;switch(r){case-1:u=g-1;break;case 1:g=u+1}switch(c){case-1:v=T-1;break;case 1:T=v+1}const k=-r*this.dim,D=-c*this.dim;for(let te=v;te<T;te++)for(let he=u;he<g;he++){const ge=4*this._idx(he,te),Se=4*this._idx(he+k,te+D);this.pixels[ge+0]=t.pixels[Se+0],this.pixels[ge+1]=t.pixels[Se+1],this.pixels[ge+2]=t.pixels[Se+2],this.pixels[ge+3]=t.pixels[Se+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Ri(hy,"DEMData"),Ri(bs,"DemMinMaxQuadTree",{omit:["dem"]});class VC{constructor(t,r){this.max=t,this.onRemove=r,this.reset()}reset(){for(const t in this.data)for(const r of this.data[t])r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value);return this.data={},this.order=[],this}add(t,r,c){const u=t.wrapped().key;this.data[u]===void 0&&(this.data[u]=[]);const g={value:r,timeout:void 0};if(c!==void 0&&(g.timeout=setTimeout(()=>{this.remove(t,g)},c)),this.data[u].push(g),this.order.push(u),this.order.length>this.max){const v=this._getAndRemoveByKey(this.order[0]);v&&this.onRemove(v)}return this}has(t){return t.wrapped().key in this.data}getAndRemove(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null}_getAndRemoveByKey(t){const r=this.data[t].shift();return r.timeout&&clearTimeout(r.timeout),this.data[t].length===0&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),r.value}getByKey(t){const r=this.data[t];return r?r[0].value:null}get(t){return this.has(t)?this.data[t.wrapped().key][0].value:null}remove(t,r){if(!this.has(t))return this;const c=t.wrapped().key,u=r===void 0?0:this.data[c].indexOf(r),g=this.data[c][u];return this.data[c].splice(u,1),g.timeout&&clearTimeout(g.timeout),this.data[c].length===0&&delete this.data[c],this.onRemove(g.value),this.order.splice(this.order.indexOf(c),1),this}setMaxSize(t){for(this.max=t;this.order.length>this.max;){const r=this._getAndRemoveByKey(this.order[0]);r&&this.onRemove(r)}return this}filter(t){const r=[];for(const c in this.data)for(const u of this.data[c])t(u.value)||r.push(u);for(const c of r)this.remove(c.value.tileID,c)}}class I0{constructor(t,r,c){this.func=t,this.mask=r,this.range=c}}I0.ReadOnly=!1,I0.ReadWrite=!0,I0.disabled=new I0(519,I0.ReadOnly,[0,1]);const ib=7680;class nb{constructor(t,r,c,u,g,v){this.test=t,this.ref=r,this.mask=c,this.fail=u,this.depthFail=g,this.pass=v}}nb.disabled=new nb({func:519,mask:0},0,0,ib,ib,ib);class Uh{constructor(t,r,c){this.blendFunction=t,this.blendColor=r,this.mask=c}}Uh.Replace=[1,0],Uh.disabled=new Uh(Uh.Replace,Nr.transparent,[!1,!1,!1,!1]),Uh.unblended=new Uh(Uh.Replace,Nr.transparent,[!0,!0,!0,!0]),Uh.alphaBlended=new Uh([1,771],Nr.transparent,[!0,!0,!0,!0]);const rb=1029,sb=2305;class th{constructor(t,r,c){this.enable=t,this.mode=r,this.frontFace=c}}th.disabled=new th(!1,rb,sb),th.backCCW=new th(!0,rb,sb),th.backCW=new th(!0,rb,2304),th.frontCW=new th(!0,1028,2304),th.frontCCW=new th(!0,1028,sb);class Wp extends Qo{constructor(t,r,c){super(),this.id=t,this._onlySymbols=c,r.on("data",u=>{u.dataType==="source"&&u.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&u.dataType==="source"&&u.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),r.on("error",()=>{this._sourceErrored=!0}),this._source=r,this._tiles={},this._cache=new VC(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=r.minTileCacheSize,this._maxTileCacheSize=r.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new wn,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(t){this.map=t,this._minTileCacheSize=this._minTileCacheSize===void 0&&t?t._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&t?t._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const t in this._tiles){const r=this._tiles[t];if(r.state!=="loaded"&&r.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(t,r){return t.isSymbolTile=this._onlySymbols,this._source.loadTile(t,r)}_unloadTile(t){if(this._source.unloadTile)return this._source.unloadTile(t,()=>{})}_abortTile(t){if(this._source.abortTile)return this._source.abortTile(t,()=>{})}serialize(){return this._source.serialize()}prepare(t){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const r in this._tiles){const c=this._tiles[r];c.upload(t),c.prepare(this.map.style.imageManager)}}getIds(){return Te(this._tiles).map(t=>t.tileID).sort(k5).map(t=>t.key)}getRenderableIds(t){const r=[];for(const c in this._tiles)this._isIdRenderable(+c,t)&&r.push(this._tiles[c]);return t?r.sort((c,u)=>{const g=c.tileID,v=u.tileID,T=new R(g.canonical.x,g.canonical.y)._rotate(this.transform.angle),k=new R(v.canonical.x,v.canonical.y)._rotate(this.transform.angle);return g.overscaledZ-v.overscaledZ||k.y-T.y||k.x-T.x}).map(c=>c.tileID.key):r.map(c=>c.tileID).sort(k5).map(c=>c.key)}hasRenderableParent(t){const r=this.findLoadedParent(t,0);return!!r&&this._isIdRenderable(r.tileID.key)}_isIdRenderable(t,r){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(r||!this._tiles[t].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const t in this._tiles)this._tiles[t].state!=="errored"&&this._reloadTile(+t,"reloading")}}_reloadTile(t,r){const c=this._tiles[t];c&&(c.state!=="loading"&&(c.state=r),this._loadTile(c,this._tileLoaded.bind(this,c,t,r)))}_tileLoaded(t,r,c,u){if(u)if(t.state="errored",u.status!==404)this._source.fire(new wa(u,{tile:t}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const g=this.map.painter.terrain;this.update(this.transform,g.getScaledDemTileSize(),!0),g.resetTileLookupCache(this.id)}else this.update(this.transform);else t.timeAdded=jn.now(),c==="expired"&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(r,t),this._source.type==="raster-dem"&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new sr("data",{dataType:"source",tile:t,coord:t.tileID,sourceCacheId:this.id}))}_backfillDEM(t){const r=this.getRenderableIds();for(let u=0;u<r.length;u++){const g=r[u];if(t.neighboringTiles&&t.neighboringTiles[g]){const v=this.getTileByID(g);c(t,v),c(v,t)}}function c(u,g){if(!u.dem||u.dem.borderReady)return;u.needsHillshadePrepare=!0,u.needsDEMTextureUpload=!0;let v=g.tileID.canonical.x-u.tileID.canonical.x;const T=g.tileID.canonical.y-u.tileID.canonical.y,k=Math.pow(2,u.tileID.canonical.z),D=g.tileID.key;v===0&&T===0||Math.abs(T)>1||(Math.abs(v)>1&&(Math.abs(v+k)===1?v+=k:Math.abs(v-k)===1&&(v-=k)),g.dem&&u.dem&&(u.dem.backfillBorder(g.dem,v,T),u.neighboringTiles&&u.neighboringTiles[D]&&(u.neighboringTiles[D].backfilled=!0)))}}getTile(t){return this.getTileByID(t.key)}getTileByID(t){return this._tiles[t]}_retainLoadedChildren(t,r,c,u){for(const g in this._tiles){let v=this._tiles[g];if(u[g]||!v.hasData()||v.tileID.overscaledZ<=r||v.tileID.overscaledZ>c)continue;let T=v.tileID;for(;v&&v.tileID.overscaledZ>r+1;){const D=v.tileID.scaledTo(v.tileID.overscaledZ-1);v=this._tiles[D.key],v&&v.hasData()&&(T=D)}let k=T;for(;k.overscaledZ>r;)if(k=k.scaledTo(k.overscaledZ-1),t[k.key]){u[T.key]=T;break}}}findLoadedParent(t,r){if(t.key in this._loadedParentTiles){const c=this._loadedParentTiles[t.key];return c&&c.tileID.overscaledZ>=r?c:null}for(let c=t.overscaledZ-1;c>=r;c--){const u=t.scaledTo(c),g=this._getLoadedTile(u);if(g)return g}}_getLoadedTile(t){const r=this._tiles[t.key];return r&&r.hasData()?r:this._cache.getByKey(this._source.reparseOverscaled?t.wrapped().key:t.canonical.key)}updateCacheSize(t,r){r=r||this._source.tileSize;const c=Math.ceil(t.width/r)+1,u=Math.ceil(t.height/r)+1,g=Math.floor(c*u*5),v=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,g):g,T=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,v):v;this._cache.setMaxSize(T)}handleWrapJump(t){const r=Math.round((t-(this._prevLng===void 0?t:this._prevLng))/360);if(this._prevLng=t,r){const c={};for(const u in this._tiles){const g=this._tiles[u];g.tileID=g.tileID.unwrapTo(g.tileID.wrap+r),c[g.tileID.key]=g}this._tiles=c;for(const u in this._timers)clearTimeout(this._timers[u]),delete this._timers[u];for(const u in this._tiles)this._setTileReloadTimer(+u,this._tiles[u])}}update(t,r,c){if(this.transform=t,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!c)return;let u;this.updateCacheSize(t,r),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?u=t.getVisibleUnwrappedCoordinates(this._source.tileID).map(T=>new mo(T.canonical.z,T.wrap,T.canonical.z,T.canonical.x,T.canonical.y)):(u=t.coveringTiles({tileSize:r||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!c,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(u=u.filter(T=>this._source.hasTile(T)))):u=[];const g=this._updateRetainedTiles(u);if(P5(this._source.type)&&u.length!==0){const T={},k={},D=Object.keys(g);for(const he of D){const ge=g[he],Se=this._tiles[he];if(!Se||Se.fadeEndTime&&Se.fadeEndTime<=jn.now())continue;const Ae=this.findLoadedParent(ge,Math.max(ge.overscaledZ-Wp.maxOverzooming,this._source.minzoom));Ae&&(this._addTile(Ae.tileID),T[Ae.tileID.key]=Ae.tileID),k[he]=ge}const te=u[u.length-1].overscaledZ;for(const he in this._tiles){const ge=this._tiles[he];if(g[he]||!ge.hasData())continue;let Se=ge.tileID;for(;Se.overscaledZ>te;){Se=Se.scaledTo(Se.overscaledZ-1);const Ae=this._tiles[Se.key];if(Ae&&Ae.hasData()&&k[Se.key]){g[he]=ge.tileID;break}}}for(const he in T)g[he]||(this._coveredTiles[he]=!0,g[he]=T[he])}for(const T in g)this._tiles[T].clearFadeHold();const v=function(T,k){const D=[];for(const te in T)te in k||D.push(te);return D}(this._tiles,g);for(const T of v){const k=this._tiles[T];k.hasSymbolBuckets&&!k.holdingForFade()?k.setHoldDuration(this.map._fadeDuration):k.hasSymbolBuckets&&!k.symbolFadeFinished()||this._removeTile(+T)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(+t)}_updateRetainedTiles(t){const r={};if(t.length===0)return r;const c={},u=t.reduce((D,te)=>Math.min(D,te.overscaledZ),1/0),g=t[0].overscaledZ,v=Math.max(g-Wp.maxOverzooming,this._source.minzoom),T=Math.max(g+Wp.maxUnderzooming,this._source.minzoom),k={};for(const D of t){const te=this._addTile(D);r[D.key]=D,te.hasData()||u<this._source.maxzoom&&(k[D.key]=D)}this._retainLoadedChildren(k,u,T,r);for(const D of t){let te=this._tiles[D.key];if(te.hasData())continue;if(D.canonical.z>=this._source.maxzoom){const ge=D.children(this._source.maxzoom)[0],Se=this.getTile(ge);if(Se&&Se.hasData()){r[ge.key]=ge;continue}}else{const ge=D.children(this._source.maxzoom);if(r[ge[0].key]&&r[ge[1].key]&&r[ge[2].key]&&r[ge[3].key])continue}let he=te.wasRequested();for(let ge=D.overscaledZ-1;ge>=v;--ge){const Se=D.scaledTo(ge);if(c[Se.key]||(c[Se.key]=!0,te=this.getTile(Se),!te&&he&&(te=this._addTile(Se)),te&&(r[Se.key]=Se,he=te.wasRequested(),te.hasData())))break}}return r}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const t in this._tiles){const r=[];let c,u=this._tiles[t].tileID;for(;u.overscaledZ>0;){if(u.key in this._loadedParentTiles){c=this._loadedParentTiles[u.key];break}r.push(u.key);const g=u.scaledTo(u.overscaledZ-1);if(c=this._getLoadedTile(g),c)break;u=g}for(const g of r)this._loadedParentTiles[g]=c}}_addTile(t){let r=this._tiles[t.key];if(r)return r;r=this._cache.getAndRemove(t),r&&(this._setTileReloadTimer(t.key,r),r.tileID=t,this._state.initializeTileState(r,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,r)));const c=!!r;if(!c){const u=this.map?this.map.painter:null;r=new Gn(t,this._source.tileSize*t.overscaleFactor(),this.transform.tileZoom,u,this._isRaster),this._loadTile(r,this._tileLoaded.bind(this,r,t.key,r.state))}return r?(r.uses++,this._tiles[t.key]=r,c||this._source.fire(new sr("dataloading",{tile:r,coord:r.tileID,dataType:"source"})),r):null}_setTileReloadTimer(t,r){t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);const c=r.getExpiryTimeout();c&&(this._timers[t]=setTimeout(()=>{this._reloadTile(t,"expired"),delete this._timers[t]},c))}_removeTile(t){const r=this._tiles[t];r&&(r.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),r.uses>0||(r.hasData()&&r.state!=="reloading"?this._cache.add(r.tileID,r,r.getExpiryTimeout()):(r.aborted=!0,this._abortTile(r),this._unloadTile(r))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const t in this._tiles)this._removeTile(+t);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(t,r,c){const u=[],g=this.transform;if(!g)return u;const v=g.projection.name==="globe",T=fc(g.center.lng);for(const k in this._tiles){const D=this._tiles[k];if(c&&D.clearQueryDebugViz(),D.holdingForFade())continue;let te;if(v){const he=D.tileID.canonical;if(he.z===0){const ge=[Math.abs(A(T,...Sg(he,-1))-T),Math.abs(A(T,...Sg(he,1))-T)];te=[0,2*ge.indexOf(Math.min(...ge))-1]}else{const ge=[Math.abs(A(T,...Sg(he,-1))-T),Math.abs(A(T,...Sg(he,0))-T),Math.abs(A(T,...Sg(he,1))-T)];te=[ge.indexOf(Math.min(...ge))-1]}}else te=[0];for(const he of te){const ge=t.containsTile(D,g,r,he);ge&&u.push(ge)}}return u}getVisibleCoordinates(t){const r=this.getRenderableIds(t).map(c=>this._tiles[c].tileID);for(const c of r)c.projMatrix=this.transform.calculateProjMatrix(c.toUnwrapped());return r}hasTransition(){if(this._source.hasTransition())return!0;if(P5(this._source.type))for(const t in this._tiles){const r=this._tiles[t];if(r.fadeEndTime!==void 0&&r.fadeEndTime>=jn.now())return!0}return!1}setFeatureState(t,r,c){this._state.updateState(t=t||"_geojsonTileLayer",r,c)}removeFeatureState(t,r,c){this._state.removeFeatureState(t=t||"_geojsonTileLayer",r,c)}getFeatureState(t,r){return this._state.getState(t=t||"_geojsonTileLayer",r)}setDependencies(t,r,c){const u=this._tiles[t];u&&u.setDependencies(r,c)}reloadTilesForDependencies(t,r){for(const c in this._tiles)this._tiles[c].hasDependency(t,r)&&this._reloadTile(+c,"reloading");this._cache.filter(c=>!c.hasDependency(t,r))}_preloadTiles(t,r){const c=new Map,u=Array.isArray(t)?t:[t],g=this.map.painter.terrain,v=this.usedForTerrain&&g?g.getScaledDemTileSize():this._source.tileSize;for(const T of u){const k=T.coveringTiles({tileSize:v,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const D of k)c.set(D.key,D);this.usedForTerrain&&T.updateElevation(!1)}fe(Array.from(c.values()),(T,k)=>{const D=new Gn(T,this._source.tileSize*T.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(D,te=>{this._source.type==="raster-dem"&&D.dem&&this._backfillDEM(D),k(te,D)})},r)}}function k5(n,t){const r=Math.abs(2*n.wrap)-+(n.wrap<0),c=Math.abs(2*t.wrap)-+(t.wrap<0);return n.overscaledZ-t.overscaledZ||c-r||t.canonical.y-n.canonical.y||t.canonical.x-n.canonical.x}function P5(n){return n==="raster"||n==="image"||n==="video"||n==="custom"}function Sg(n,t){const r=1<<n.z;return[n.x/r+t,(n.x+1)/r+t]}Wp.maxOverzooming=10,Wp.maxUnderzooming=3;class dy{constructor(t,r,c){this._demTile=t,this._dem=this._demTile.dem,this._scale=r,this._offset=c}static create(t,r,c){const u=c||t.findDEMTileFor(r);if(!u||!u.dem)return;const g=u.dem,v=u.tileID,T=1<<r.canonical.z-v.canonical.z;return new dy(u,u.tileSize/ln/T,[(r.canonical.x/T-v.canonical.x)*g.dim,(r.canonical.y/T-v.canonical.y)*g.dim])}tileCoordToPixel(t,r){const c=r*this._scale+this._offset[1],u=Math.floor(t*this._scale+this._offset[0]),g=Math.floor(c);return new R(u,g)}getElevationAt(t,r,c,u){const g=t*this._scale+this._offset[0],v=r*this._scale+this._offset[1],T=Math.floor(g),k=Math.floor(v),D=this._dem;return u=!!u,c?Qi(Qi(D.get(T,k,u),D.get(T,k+1,u),v-k),Qi(D.get(T+1,k,u),D.get(T+1,k+1,u),v-k),g-T):D.get(T,k,u)}getElevationAtPixel(t,r,c){return this._dem.get(t,r,!!c)}getMeterToDEM(t){return(1<<this._demTile.tileID.canonical.z)*jl(1,t)*this._dem.stride}}class I5{constructor(t,r){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Ch(ln,16,0),this.featureIndexArray=new Hc,this.promoteId=r}insert(t,r,c,u,g,v=0){const T=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(c,u,g,v);const k=this.grid;for(let D=0;D<r.length;D++){const te=r[D],he=[1/0,1/0,-1/0,-1/0];for(let ge=0;ge<te.length;ge++){const Se=te[ge];he[0]=Math.min(he[0],Se.x),he[1]=Math.min(he[1],Se.y),he[2]=Math.max(he[2],Se.x),he[3]=Math.max(he[3],Se.y)}he[0]<ln&&he[1]<ln&&he[2]>=0&&he[3]>=0&&k.insert(T,he[0],he[1],he[2],he[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new ig(new Fh(this.rawTileData)).layers,this.sourceLayerCoder=new we(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const t in this.vtLayers)this.vtFeatures[t]=[]}return this.vtLayers}query(t,r,c,u){this.loadVTLayers();const g=t.params||{},v=as(g.filter),T=t.tileResult,k=t.transform,D=T.bufferedTilespaceBounds,te=this.grid.query(D.min.x,D.min.y,D.max.x,D.max.y,(Ae,ze,Xe,lt)=>a_(T.bufferedTilespaceGeometry,Ae,ze,Xe,lt));te.sort(GC);let he=null;k.elevation&&te.length>0&&(he=dy.create(k.elevation,this.tileID));const ge={};let Se;for(let Ae=0;Ae<te.length;Ae++){const ze=te[Ae];if(ze===Se)continue;Se=ze;const Xe=this.featureIndexArray.get(ze);let lt=null;this.loadMatchingFeature(ge,Xe,v,g.layers,g.availableImages,r,c,u,(_t,at,mt,Tt=0)=>(lt||(lt=Zc(_t,this.tileID.canonical,t.tileTransform)),at.queryIntersectsFeature(T,_t,mt,lt,this.z,t.transform,t.pixelPosMatrix,he,Tt)))}return ge}loadMatchingFeature(t,r,c,u,g,v,T,k,D){const{featureIndex:te,bucketIndex:he,sourceLayerIndex:ge,layoutVertexArrayOffset:Se}=r,Ae=this.bucketLayerIDs[he];if(u&&!function(_t,at){for(let mt=0;mt<_t.length;mt++)if(at.indexOf(_t[mt])>=0)return!0;return!1}(u,Ae))return;const ze=this.sourceLayerCoder.decode(ge),Xe=this.vtLayers[ze].feature(te);if(c.needGeometry){const _t=Ad(Xe,!0);if(!c.filter(new Rt(this.tileID.overscaledZ),_t,this.tileID.canonical))return}else if(!c.filter(new Rt(this.tileID.overscaledZ),Xe))return;const lt=this.getId(Xe,ze);for(let _t=0;_t<Ae.length;_t++){const at=Ae[_t];if(u&&u.indexOf(at)<0)continue;const mt=v[at];if(!mt)continue;let Tt={};lt!==void 0&&k&&(Tt=k.getState(mt.sourceLayer||"_geojsonTileLayer",lt));const bt=oe({},T[at]);bt.paint=L5(bt.paint,mt.paint,Xe,Tt,g),bt.layout=L5(bt.layout,mt.layout,Xe,Tt,g);const qt=!D||D(Xe,mt,Tt,Se);if(!qt)continue;const $t=new nt(Xe,this.z,this.x,this.y,lt);$t.layer=bt;let ni=t[at];ni===void 0&&(ni=t[at]=[]),ni.push({featureIndex:te,feature:$t,intersectionZ:qt})}}lookupSymbolFeatures(t,r,c,u,g,v,T,k){const D={};this.loadVTLayers();const te=as(g);for(const he of t)this.loadMatchingFeature(D,{bucketIndex:c,sourceLayerIndex:u,featureIndex:he,layoutVertexArrayOffset:0},te,v,T,k,r);return D}loadFeature(t){const{featureIndex:r,sourceLayerIndex:c}=t;this.loadVTLayers();const u=this.sourceLayerCoder.decode(c),g=this.vtFeatures[u];if(g[r])return g[r];const v=this.vtLayers[u].feature(r);return g[r]=v,v}hasLayer(t){for(const r of this.bucketLayerIDs)for(const c of r)if(t===c)return!0;return!1}getId(t,r){let c=t.id;if(this.promoteId){const u=typeof this.promoteId=="string"?this.promoteId:this.promoteId[r];u!=null&&(c=t.properties[u]),typeof c=="boolean"&&(c=Number(c))}return c}}function L5(n,t,r,c,u){return Be(n,(g,v)=>{const T=t instanceof Gt?t.get(v):null;return T&&T.evaluate?T.evaluate(r,c,u):T})}function GC(n,t){return t-n}Ri(I5,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class D5{constructor(t,r){this.width=t,this.height=r,this.nextRow=0,this.image=new rl({width:t,height:r}),this.positions={},this.uploaded=!1}getDash(t,r){const c=this.getKey(t,r);return this.positions[c]}trim(){const t=this.width,r=this.height=ie(this.nextRow);this.image.resize({width:t,height:r})}getKey(t,r){return t.join(",")+r}getDashRanges(t,r,c){const u=[];let g=t.length%2==1?-t[t.length-1]*c:0,v=t[0]*c,T=!0;u.push({left:g,right:v,isDash:T,zeroLength:t[0]===0});let k=t[0];for(let D=1;D<t.length;D++){T=!T;const te=t[D];g=k*c,k+=te,v=k*c,u.push({left:g,right:v,isDash:T,zeroLength:te===0})}return u}addRoundDash(t,r,c){const u=r/2;for(let g=-c;g<=c;g++){const v=this.width*(this.nextRow+c+g);let T=0,k=t[T];for(let D=0;D<this.width;D++){D/k.right>1&&(k=t[++T]);const te=Math.abs(D-k.left),he=Math.abs(D-k.right),ge=Math.min(te,he);let Se;const Ae=g/c*(u+1);if(k.isDash){const ze=u-Math.abs(Ae);Se=Math.sqrt(ge*ge+ze*ze)}else Se=u-Math.sqrt(ge*ge+Ae*Ae);this.image.data[v+D]=Math.max(0,Math.min(255,Se+128))}}}addRegularDash(t,r){for(let k=t.length-1;k>=0;--k){const D=t[k],te=t[k+1];D.zeroLength?t.splice(k,1):te&&te.isDash===D.isDash&&(te.left=D.left,t.splice(k,1))}const c=t[0],u=t[t.length-1];c.isDash===u.isDash&&(c.left=u.left-this.width,u.right=c.right+this.width);const g=this.width*this.nextRow;let v=0,T=t[v];for(let k=0;k<this.width;k++){k/T.right>1&&(T=t[++v]);const D=Math.abs(k-T.left),te=Math.abs(k-T.right),he=Math.min(D,te);this.image.data[g+k]=Math.max(0,Math.min(255,(T.isDash?he:-he)+r+128))}}addDash(t,r){const c=this.getKey(t,r);if(this.positions[c])return this.positions[c];const u=r==="round",g=u?7:0,v=2*g+1;if(this.nextRow+v>this.height)return Y("LineAtlas out of space"),null;t.length===0&&t.push(1);let T=0;for(let te=0;te<t.length;te++)t[te]<0&&(Y("Negative value is found in line dasharray, replacing values with 0"),t[te]=0),T+=t[te];if(T!==0){const te=this.width/T,he=this.getDashRanges(t,this.width,te);u?this.addRoundDash(he,te,g):this.addRegularDash(he,r==="square"?.5*te:0)}const k=this.nextRow+g;this.nextRow+=v;const D={tl:[k,g],br:[T,0]};return this.positions[c]=D,D}}Ri(D5,"LineAtlas");class O5{constructor(t){const r={},c=[];for(const T in t){const k=t[T],D=r[T]={};for(const te in k.glyphs){const he=k.glyphs[+te];if(!he||he.bitmap.width===0||he.bitmap.height===0)continue;const ge=he.metrics.localGlyph?2:1,Se={x:0,y:0,w:he.bitmap.width+2*ge,h:he.bitmap.height+2*ge};c.push(Se),D[te]=Se}}const{w:u,h:g}=y0(c),v=new rl({width:u||1,height:g||1});for(const T in t){const k=t[T];for(const D in k.glyphs){const te=k.glyphs[+D];if(!te||te.bitmap.width===0||te.bitmap.height===0)continue;const he=r[T][D],ge=te.metrics.localGlyph?2:1;rl.copy(te.bitmap,v,{x:0,y:0},{x:he.x+ge,y:he.y+ge},te.bitmap)}}this.image=v,this.positions=r}}Ri(O5,"GlyphAtlas");class WC{constructor(t){this.tileID=new mo(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.tileZoom=t.tileZoom,this.uid=t.uid,this.zoom=t.zoom,this.canonical=t.tileID.canonical,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId,this.enableTerrain=!!t.enableTerrain,this.isSymbolTile=t.isSymbolTile,this.tileTransform=Ld(t.tileID.canonical,t.projection),this.projection=t.projection}parse(t,r,c,u,g){this.status="parsing",this.data=t,this.collisionBoxArray=new Em;const v=new we(Object.keys(t.layers).sort()),T=new I5(this.tileID,this.promoteId);T.bucketLayerIDs=[];const k={},D=new D5(256,256),te={featureIndex:T,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:D,availableImages:c},he=r.familiesBySource[this.source];for(const Tt in he){const bt=t.layers[Tt];if(!bt)continue;let qt=!1,$t=!1;for(const Kt of he[Tt])Kt[0].type==="symbol"?qt=!0:$t=!0;if(this.isSymbolTile===!0&&!qt||this.isSymbolTile===!1&&!$t)continue;bt.version===1&&Y(`Vector tile source "${this.source}" layer "${Tt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const ni=v.encode(Tt),wi=[];for(let Kt=0;Kt<bt.length;Kt++){const ai=bt.feature(Kt),ci=T.getId(ai,Tt);wi.push({feature:ai,id:ci,index:Kt,sourceLayerIndex:ni})}for(const Kt of he[Tt]){const ai=Kt[0];this.isSymbolTile!==void 0&&ai.type==="symbol"!==this.isSymbolTile||ai.minzoom&&this.zoom<Math.floor(ai.minzoom)||ai.maxzoom&&this.zoom>=ai.maxzoom||ai.visibility!=="none"&&(ob(Kt,this.zoom,c),(k[ai.id]=ai.createBucket({index:T.bucketLayerIDs.length,layers:Kt,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ni,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:c})).populate(wi,te,this.tileID.canonical,this.tileTransform),T.bucketLayerIDs.push(Kt.map(ci=>ci.id)))}}let ge,Se,Ae,ze;D.trim();const Xe={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},lt=Be(te.glyphDependencies,Tt=>Object.keys(Tt).map(Number));Object.keys(lt).length?u.send("getGlyphs",{uid:this.uid,stacks:lt},(Tt,bt)=>{ge||(ge=Tt,Se=bt,mt.call(this))},void 0,!1,Xe):Se={};const _t=Object.keys(te.iconDependencies);_t.length?u.send("getImages",{icons:_t,source:this.source,tileID:this.tileID,type:"icons"},(Tt,bt)=>{ge||(ge=Tt,Ae=bt,mt.call(this))},void 0,!1,Xe):Ae={};const at=Object.keys(te.patternDependencies);function mt(){if(ge)return g(ge);if(Se&&Ae&&ze){const Tt=new O5(Se),bt=new j_(Ae,ze);for(const qt in k){const $t=k[qt];$t instanceof jh?(ob($t.layers,this.zoom,c),jx($t,Se,Tt.positions,Ae,bt.iconPositions,this.showCollisionBoxes,c,this.tileID.canonical,this.tileZoom,this.projection)):$t.hasPattern&&($t instanceof Bh||$t instanceof Dp||$t instanceof An)&&(ob($t.layers,this.zoom,c),$t.addFeatures(te,this.tileID.canonical,bt.patternPositions,c,this.tileTransform))}this.status="done",g(null,{buckets:Te(k).filter(qt=>!qt.isEmpty()),featureIndex:T,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Tt.image,lineAtlas:D,imageAtlas:bt,glyphMap:this.returnDependencies?Se:null,iconMap:this.returnDependencies?Ae:null,glyphPositions:this.returnDependencies?Tt.positions:null})}}at.length?u.send("getImages",{icons:at,source:this.source,tileID:this.tileID,type:"patterns"},(Tt,bt)=>{ge||(ge=Tt,ze=bt,mt.call(this))},void 0,!1,Xe):ze={},mt.call(this)}}function ob(n,t,r){const c=new Rt(t);for(const u of n)u.recalculate(c,r)}class R5{constructor(t){this.entries={},this.scheduler=t}request(t,r,c,u){const g=this.entries[t]=this.entries[t]||{callbacks:[]};if(g.result){const[v,T]=g.result;return this.scheduler?this.scheduler.add(()=>{u(v,T)},r):u(v,T),()=>{}}return g.callbacks.push(u),g.cancel||(g.cancel=c((v,T)=>{g.result=[v,T];for(const k of g.callbacks)this.scheduler?this.scheduler.add(()=>{k(v,T)},r):k(v,T);setTimeout(()=>delete this.entries[t],3e3)})),()=>{g.result||(g.callbacks=g.callbacks.filter(v=>v!==u),g.callbacks.length||(g.cancel(),delete this.entries[t]))}}}function z5(n,t,r){const c=JSON.stringify(n.request);return n.data&&(this.deduped.entries[c]={result:[null,n.data]}),this.deduped.request(c,{type:"parseTile",isSymbolTile:n.isSymbolTile,zoom:n.tileZoom},u=>{const g=Ni(n.request,(v,T,k,D)=>{v?u(v):T&&u(null,{vectorTile:r?void 0:new ig(new Fh(T)),rawData:T,cacheControl:k,expires:D})});return()=>{g.cancel(),u()}},t)}s.ARRAY_TYPE=po,s.AUTH_ERR_MSG=nr,s.Aabb=Io,s.Actor=class{constructor(n,t,r){this.target=n,this.parent=t,this.mapId=r,this.callbacks={},this.cancelCallbacks={},pe(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=ke()?n:b,this.scheduler=new j}send(n,t,r,c,u=!1,g){const v=Math.round(1e18*Math.random()).toString(36).substring(0,10);r&&(r.metadata=g,this.callbacks[v]=r);const T=it(this.globalScope)?void 0:[];return this.target.postMessage({id:v,type:n,hasCallback:!!r,targetMapId:c,mustQueue:u,sourceMapId:this.mapId,data:vd(t,T)},T),{cancel:()=>{r&&delete this.callbacks[v],this.target.postMessage({id:v,type:"<cancel>",targetMapId:c,sourceMapId:this.mapId})}}}receive(n){const t=n.data,r=t.id;if(r&&(!t.targetMapId||this.mapId===t.targetMapId))if(t.type==="<cancel>"){const c=this.cancelCallbacks[r];delete this.cancelCallbacks[r],c&&c.cancel()}else if(t.mustQueue||ke()){const c=this.callbacks[r];this.cancelCallbacks[r]=this.scheduler.add(()=>this.processTask(r,t),c&&c.metadata||{type:"message"})}else this.processTask(r,t)}processTask(n,t){if(t.type==="<response>"){const r=this.callbacks[n];delete this.callbacks[n],r&&(t.error?r(xd(t.error)):r(null,xd(t.data)))}else{const r=it(this.globalScope)?void 0:[],c=t.hasCallback?(g,v)=>{delete this.cancelCallbacks[n],this.target.postMessage({id:n,type:"<response>",sourceMapId:this.mapId,error:g?vd(g):null,data:vd(v,r)},r)}:g=>{},u=xd(t.data);if(this.parent[t.type])this.parent[t.type](t.sourceMapId,u,c);else if(this.parent.getWorkerSource){const g=t.type.split(".");this.parent.getWorkerSource(t.sourceMapId,g[0],u.source)[g[1]](u,c)}else c(new Error(`Could not find function ${t.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},s.CanonicalTileID=g0,s.Color=Nr,s.ColorMode=Uh,s.CullFaceMode=th,s.DEMData=hy,s.DataConstantProperty=Dt,s.DedupedRequest=R5,s.DepthMode=I0,s.EXTENT=ln,s.Elevation=class{isDataAvailableAtPoint(n){const t=this._source();if(this.isUsingMockSource()||!t||n.y<0||n.y>1)return!1;const r=t.getSource().maxzoom,c=1<<r,u=Math.floor(n.x),g=Math.floor((n.x-u)*c),v=Math.floor(n.y*c),T=this.findDEMTileFor(new mo(r,u,r,g,v));return!(!T||!T.dem)}getAtPointOrZero(n,t=0){return this.getAtPoint(n,t)||0}getAtPoint(n,t,r=!0){if(this.isUsingMockSource())return null;t==null&&(t=null);const c=this._source();if(!c||n.y<0||n.y>1)return t;const u=c.getSource().maxzoom,g=1<<u,v=Math.floor(n.x),T=n.x-v,k=new mo(u,v,u,Math.floor(T*g),Math.floor(n.y*g)),D=this.findDEMTileFor(k);if(!D||!D.dem)return t;const te=D.dem,he=1<<D.tileID.canonical.z,ge=(T*he-D.tileID.canonical.x)*te.dim,Se=(n.y*he-D.tileID.canonical.y)*te.dim,Ae=Math.floor(ge),ze=Math.floor(Se);return(r?this.exaggeration():1)*Qi(Qi(te.get(Ae,ze),te.get(Ae,ze+1),Se-ze),Qi(te.get(Ae+1,ze),te.get(Ae+1,ze+1),Se-ze),ge-Ae)}getAtTileOffset(n,t,r){const c=1<<n.canonical.z;return this.getAtPointOrZero(new gu(n.wrap+(n.canonical.x+t/ln)/c,(n.canonical.y+r/ln)/c))}getAtTileOffsetFunc(n,t,r,c){return u=>{const g=this.getAtTileOffset(n,u.x,u.y),v=c.upVector(n.canonical,u.x,u.y);return ko(v,v,g*c.upVectorScale(n.canonical,t,r).metersToTile),v}}getForTilePoints(n,t,r,c){if(this.isUsingMockSource())return!1;const u=dy.create(this,n,c);return!!u&&(t.forEach(g=>{g[2]=this.exaggeration()*u.getElevationAt(g[0],g[1],r)}),!0)}getMinMaxForTile(n){if(this.isUsingMockSource())return null;const t=this.findDEMTileFor(n);if(!t||!t.dem)return null;const r=t.dem.tree,c=t.tileID,u=1<<n.canonical.z-c.canonical.z;let g=n.canonical.x/u-c.canonical.x,v=n.canonical.y/u-c.canonical.y,T=0;for(let k=0;k<n.canonical.z-c.canonical.z&&!r.leaves[T];k++){g*=2,v*=2;const D=2*Math.floor(v)+Math.floor(g);T=r.childOffsets[T]+D,g%=1,v%=1}return{min:this.exaggeration()*r.minimums[T],max:this.exaggeration()*r.maximums[T]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(n,t,r){throw new Error("Pure virtual method called.")}pointCoordinate(n){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(n){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},s.ErrorEvent=wa,s.EvaluationParameters=Rt,s.Event=sr,s.Evented=Qo,s.FillExtrusionBucket=An,s.Frustum=Om,s.FrustumCorners=Hf,s.GLOBE_RADIUS=uc,s.GLOBE_SCALE_MATCH_LATITUDE=45,s.GLOBE_ZOOM_THRESHOLD_MAX=6,s.GLOBE_ZOOM_THRESHOLD_MIN=5,s.GlobeSharedBuffers=class{constructor(n){this._createGrid(n),this._createPoles(n)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const n of this._poleSegments)n.destroy();for(const n of this._gridSegments)n.withSkirts.destroy(),n.withoutSkirts.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const n of this._wireframeSegments)n.destroy()}}_fillGridMeshWithLods(n,t){const r=new nn,c=new Gs,u=[],g=n+1+2,v=t[0]+1,T=t[0]+1+(1+t.length),k=(D,te,he)=>{let ge=D===g-1?D-2:D===0?D:D-1;return ge+=he?24575:0,[ge,te]};for(let D=0;D<g;++D)r.emplaceBack(...k(D,0,!0));for(let D=0;D<v;++D)for(let te=0;te<g;++te)r.emplaceBack(...k(te,D,(te===0||te===g-1)&&!0));for(let D=0;D<t.length;++D){const te=t[D];for(let he=0;he<g;++he)r.emplaceBack(...k(he,te,!0))}for(let D=0;D<t.length;++D){const te=c.length,he=t[D]+1+2,ge=new Gs;for(let ze=0;ze<he-1;ze++){const Xe=ze===he-2,lt=Xe?g*(T-t.length+D-ze):g;for(let _t=0;_t<g-1;_t++){const at=ze*g+_t;ze===0||Xe||_t===0||_t===g-2?(ge.emplaceBack(at+1,at,at+lt),ge.emplaceBack(at+lt,at+lt+1,at+1)):(c.emplaceBack(at+1,at,at+lt),c.emplaceBack(at+lt,at+lt+1,at+1))}}const Se=qr.simpleSegment(0,te,r.length,c.length-te);for(let ze=0;ze<ge.uint16.length;ze+=3)c.emplaceBack(ge.uint16[ze],ge.uint16[ze+1],ge.uint16[ze+2]);const Ae=qr.simpleSegment(0,te,r.length,c.length-te);u.push({withoutSkirts:Se,withSkirts:Ae})}return{vertices:r,indices:c,segments:u}}_createGrid(n){const t=this._fillGridMeshWithLods(Cd,du);this._gridSegments=t.segments,this._gridBuffer=n.createVertexBuffer(t.vertices,Yc.members),this._gridIndexBuffer=n.createIndexBuffer(t.indices,!0)}_createPoles(n){const t=new Gs;for(let u=0;u<=Cd;u++)t.emplaceBack(0,u+1,u+2);this._poleIndexBuffer=n.createIndexBuffer(t,!0);const r=new gn,c=new gn;this._poleSegments=[];for(let u=0,g=0;u<5;u++){const v=360/(1<<u);r.emplaceBack(0,-uc,0,.5,0),c.emplaceBack(0,-uc,0,.5,1);for(let T=0;T<=Cd;T++){const k=T/Cd,D=Qi(0,v,k),[te,he,ge]=pu(K1,J1,D,uc);r.emplaceBack(te,he,ge,k,0),c.emplaceBack(te,he,ge,k,1)}this._poleSegments.push(qr.simpleSegment(g,0,66,64)),g+=66}this._poleNorthVertexBuffer=n.createVertexBuffer(r,H1,!1),this._poleSouthVertexBuffer=n.createVertexBuffer(c,H1,!1)}getGridBuffers(n,t){return[this._gridBuffer,this._gridIndexBuffer,t?this._gridSegments[n].withSkirts:this._gridSegments[n].withoutSkirts]}getPoleBuffers(n){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[n]]}getWirefameBuffers(n,t){if(!this._wireframeSegments){const r=new cc,c=Cd,u=c+1+2,g=1;this._wireframeSegments=[];for(let v=0,T=0;v<du.length;v++){const k=du[v];for(let te=g;te<k+g;te++)for(let he=g;he<c+g;he++){const ge=te*u+he;r.emplaceBack(ge,ge+1),r.emplaceBack(ge,ge+u),r.emplaceBack(ge,ge+u+1)}const D=k*c*3;this._wireframeSegments.push(qr.simpleSegment(0,T,(k+1)*u,D)),T+=D}this._wireframeIndexBuffer=n.createIndexBuffer(r)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[t]]}},s.GlyphManager=Su,s.ImagePosition=cg,s.LivePerformanceUtils=hi,s.LngLat=Zn,s.LngLatBounds=Ol,s.LocalGlyphMode=fg,s.MAX_MERCATOR_LATITUDE=Ir,s.MercatorCoordinate=gu,s.ONE_EM=$s,s.OverscaledTileID=mo,s.PerformanceMarkers=Ut,s.Properties=fi,s.RGBAImage=ca,s.Ray=$f,s.RequestManager=class{constructor(n,t,r){this._transformRequestFn=n,this._customAccessToken=t,this._silenceAuthErrors=!!r,this._createSkuToken()}_createSkuToken(){const n=function(){let t="";for(let r=0;r<10;r++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",P,t].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=n.token,this._skuTokenExpiresAt=n.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(n,t){return this._transformRequestFn&&this._transformRequestFn(n,t)||{url:n}}normalizeStyleURL(n,t){if(!rr(n))return n;const r=Ls(n);return r.path=`/styles/v1${r.path}`,this._makeAPIURL(r,this._customAccessToken||t)}normalizeGlyphsURL(n,t){if(!rr(n))return n;const r=Ls(n);return r.path=`/fonts/v1${r.path}`,this._makeAPIURL(r,this._customAccessToken||t)}normalizeSourceURL(n,t,r,c){if(!rr(n))return n;const u=Ls(n);return u.path=`/v4/${u.authority}.json`,u.params.push("secure"),r&&u.params.push(`language=${r}`),c&&u.params.push(`worldview=${c}`),this._makeAPIURL(u,this._customAccessToken||t)}normalizeSpriteURL(n,t,r,c){const u=Ls(n);return rr(n)?(u.path=`/styles/v1${u.path}/sprite${t}${r}`,this._makeAPIURL(u,this._customAccessToken||c)):(u.path+=`${t}${r}`,Fa(u))}normalizeTileURL(n,t,r){if(this._isSkuTokenExpired()&&this._createSkuToken(),n&&!rr(n))return n;const c=Ls(n);c.path=c.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${t||r&&c.authority!=="raster"&&r===512?"@2x":""}${Z.supported?".webp":"$1"}`),c.authority==="raster"?c.path=`/${F.RASTER_URL_PREFIX}${c.path}`:(c.path=c.path.replace(/^.+\/v4\//,"/"),c.path=`/${F.TILE_URL_VERSION}${c.path}`);const u=this._customAccessToken||function(g){for(const v of g){const T=v.match(/^access_token=(.*)$/);if(T)return T[1]}return null}(c.params)||F.ACCESS_TOKEN;return F.REQUIRE_ACCESS_TOKEN&&u&&this._skuToken&&c.params.push(`sku=${this._skuToken}`),this._makeAPIURL(c,u)}canonicalizeTileURL(n,t){const r=Ls(n);if(!r.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!r.path.match(/\.[\w]+$/))return n;let c="mapbox://";r.path.match(/^\/raster\/v1\//)?c+=`raster/${r.path.replace(`/${F.RASTER_URL_PREFIX}/`,"")}`:c+=`tiles/${r.path.replace(`/${F.TILE_URL_VERSION}/`,"")}`;let u=r.params;return t&&(u=u.filter(g=>!g.match(/^access_token=/))),u.length&&(c+=`?${u.join("&")}`),c}canonicalizeTileset(n,t){const r=!!t&&rr(t),c=[];for(const u of n.tiles||[])_r(u)?c.push(this.canonicalizeTileURL(u,r)):c.push(u);return c}_makeAPIURL(n,t){const r="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",c=Ls(F.API_URL);if(n.protocol=c.protocol,n.authority=c.authority,n.protocol==="http"){const u=n.params.indexOf("secure");u>=0&&n.params.splice(u,1)}if(c.path!=="/"&&(n.path=`${c.path}${n.path}`),!F.REQUIRE_ACCESS_TOKEN)return Fa(n);if(t=t||F.ACCESS_TOKEN,!this._silenceAuthErrors){if(!t)throw new Error(`An API access token is required to use Mapbox GL. ${r}`);if(t[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${r}`)}return n.params=n.params.filter(u=>u.indexOf("access_token")===-1),n.params.push(`access_token=${t||""}`),Fa(n)}},s.ResourceType=ri,s.SegmentVector=qr,s.SourceCache=Wp,s.StencilMode=nb,s.StructArrayLayout1ui2=oa,s.StructArrayLayout2f1f2i16=Vs,s.StructArrayLayout2i4=nn,s.StructArrayLayout2ui4=cc,s.StructArrayLayout3f12=zs,s.StructArrayLayout3ui6=Gs,s.StructArrayLayout4i8=tr,s.StructArrayLayout5f20=gn,s.Texture=f,s.Tile=Gn,s.Transitionable=Si,s.Uniform1f=Uf,s.Uniform1i=class extends Pl{constructor(n){super(n),this.current=0}set(n,t,r){this.fetchUniformLocation(n,t)&&this.current!==r&&(this.current=r,this.gl.uniform1i(this.location,r))}},s.Uniform2f=class extends Pl{constructor(n){super(n),this.current=[0,0]}set(n,t,r){this.fetchUniformLocation(n,t)&&(r[0]===this.current[0]&&r[1]===this.current[1]||(this.current=r,this.gl.uniform2f(this.location,r[0],r[1])))}},s.Uniform3f=class extends Pl{constructor(n){super(n),this.current=[0,0,0]}set(n,t,r){this.fetchUniformLocation(n,t)&&(r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]||(this.current=r,this.gl.uniform3f(this.location,r[0],r[1],r[2])))}},s.Uniform4f=P1,s.UniformColor=I1,s.UniformMatrix2f=class extends Pl{constructor(n){super(n),this.current=E2}set(n,t,r){if(this.fetchUniformLocation(n,t)){for(let c=0;c<4;c++)if(r[c]!==this.current[c]){this.current=r,this.gl.uniformMatrix2fv(this.location,!1,r);break}}}},s.UniformMatrix3f=class extends Pl{constructor(n){super(n),this.current=D1}set(n,t,r){if(this.fetchUniformLocation(n,t)){for(let c=0;c<9;c++)if(r[c]!==this.current[c]){this.current=r,this.gl.uniformMatrix3fv(this.location,!1,r);break}}}},s.UniformMatrix4f=class extends Pl{constructor(n){super(n),this.current=L1}set(n,t,r){if(this.fetchUniformLocation(n,t)){if(r[12]!==this.current[12]||r[0]!==this.current[0])return this.current=r,void this.gl.uniformMatrix4fv(this.location,!1,r);for(let c=1;c<16;c++)if(r[c]!==this.current[c]){this.current=r,this.gl.uniformMatrix4fv(this.location,!1,r);break}}}},s.UnwrappedTileID=gc,s.ValidationError=Oi,s.VectorTileFeature=p0,s.VectorTileWorkerSource=class extends Qo{constructor(n,t,r,c,u){super(),this.actor=n,this.layerIndex=t,this.availableImages=r,this.loadVectorData=u||z5,this.loading={},this.loaded={},this.deduped=new R5(n.scheduler),this.isSpriteLoaded=c,this.scheduler=n.scheduler}loadTile(n,t){const r=n.uid,c=n&&n.request,u=c&&c.collectResourceTiming,g=this.loading[r]=new WC(n);g.abort=this.loadVectorData(n,(v,T)=>{const k=!this.loading[r];if(delete this.loading[r],k||v||!T)return g.status="done",k||(this.loaded[r]=g),t(v);const D=T.rawData,te={};T.expires&&(te.expires=T.expires),T.cacheControl&&(te.cacheControl=T.cacheControl),g.vectorTile=T.vectorTile||new ig(new Fh(D));const he=()=>{g.parse(g.vectorTile,this.layerIndex,this.availableImages,this.actor,(ge,Se)=>{if(ge||!Se)return t(ge);const Ae={};if(u){const ze=en(c);ze.length>0&&(Ae.resourceTiming=JSON.parse(JSON.stringify(ze)))}t(null,oe({rawTileData:D.slice(0)},Se,te,Ae))})};this.isSpriteLoaded?he():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(he,{type:"parseTile",isSymbolTile:n.isSymbolTile,zoom:n.tileZoom}):he()}),this.loaded=this.loaded||{},this.loaded[r]=g})}reloadTile(n,t){const r=this.loaded,c=n.uid,u=this;if(r&&r[c]){const g=r[c];g.showCollisionBoxes=n.showCollisionBoxes,g.enableTerrain=!!n.enableTerrain,g.projection=n.projection,g.tileTransform=Ld(n.tileID.canonical,n.projection);const v=(T,k)=>{const D=g.reloadCallback;D&&(delete g.reloadCallback,g.parse(g.vectorTile,u.layerIndex,this.availableImages,u.actor,D)),t(T,k)};g.status==="parsing"?g.reloadCallback=v:g.status==="done"&&(g.vectorTile?g.parse(g.vectorTile,this.layerIndex,this.availableImages,this.actor,v):v())}}abortTile(n,t){const r=n.uid,c=this.loading[r];c&&(c.abort&&c.abort(),delete this.loading[r]),t()}removeTile(n,t){const r=this.loaded,c=n.uid;r&&r[c]&&delete r[c],t()}},s.WritingMode=Oa,s.ZoomDependentExpression=Aa,s.add=zl,s.addDynamicAttributes=k0,s.adjoint=function(n,t){var r=t[0],c=t[1],u=t[2],g=t[3],v=t[4],T=t[5],k=t[6],D=t[7],te=t[8];return n[0]=v*te-T*D,n[1]=u*D-c*te,n[2]=c*T-u*v,n[3]=T*k-g*te,n[4]=r*te-u*k,n[5]=u*g-r*T,n[6]=g*D-v*k,n[7]=c*k-r*D,n[8]=r*v-c*g,n},s.asyncAll=fe,s.bezier=J,s.bindAll=pe,s.boundsAttributes=on,s.bufferConvexPolygon=function(n,t){const r=[];for(let c=0;c<n.length;c++){const u=Q(c-1,-1,n.length-1),g=Q(c+1,-1,n.length-1),v=n[c],T=n[g],k=n[u].sub(v).unit(),D=T.sub(v).unit(),te=D.angleWithSep(k.x,k.y),he=k.add(D).unit().mult(-1*t/Math.sin(te/2));r.push(v.add(he))}return r},s.cacheEntryPossiblyAdded=function(n){vi++,vi>He&&(n.getActor().send("enforceCacheSizeLimit",qe),vi=0)},s.calculateGlobeLabelMatrix=function(n,t){const{x:r,y:c}=n.point,u=Y1(r,c,n.worldSize/n._pixelsPerMercatorPixel,0,0);return Xc(u,u,Fm(Fl(t)))},s.calculateGlobeMatrix=function(n){const{x:t,y:r}=n.point,{lng:c,lat:u}=n._center;return Y1(t,r,n.worldSize,c,u)},s.calculateGlobeMercatorMatrix=function(n){const t=n.pixelsPerMeter,r=t/jl(1,n.center.lat),c=la(new Float64Array(16));return yp(c,c,[n.point.x,n.point.y,0]),Dh(c,c,[r,r,t]),Float32Array.from(c)},s.circumferenceAtLatitude=Kf,s.clamp=A,s.clearTileCache=function(n){if(!xt())return;const t=b.caches.delete(Ee);n&&t.catch(n).then(()=>n())},s.clipLine=Z_,s.clone=function(n){var t=new po(16);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t},s.clone$1=xe,s.collisionCircleLayout=_x,s.config=F,s.conjugate=function(n,t){return n[0]=-t[0],n[1]=-t[1],n[2]=-t[2],n[3]=t[3],n},s.create=function(){var n=new po(16);return po!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0),n[0]=1,n[5]=1,n[10]=1,n[15]=1,n},s.create$1=N1,s.createExpression=El,s.createLayout=Zi,s.createStyleLayer=function(n){return n.type==="custom"?new Qx(n):new tb[n.type](n)},s.cross=wp,s.degToRad=I,s.distance=function(n,t){return Math.hypot(t[0]-n[0],t[1]-n[1],t[2]-n[2])},s.div=function(n,t,r){return n[0]=t[0]/r[0],n[1]=t[1]/r[1],n[2]=t[2]/r[2],n},s.dot=il,s.earthRadius=Mp,s.ease=C,s.easeCubicInOut=q,s.ecefToLatLng=function([n,t,r]){const c=Math.hypot(n,t,r),u=Math.atan2(n,r),g=.5*Math.PI-Math.acos(-t/c);return new Zn($(u),$(g))},s.emitValidationErrors=Ef,s.endsWith=Ce,s.enforceCacheSizeLimit=function(n){jt(),De&&De.then(t=>{t.keys().then(r=>{for(let c=0;c<r.length-n;c++)t.delete(r[c])})})},s.evaluateSizeForFeature=Bp,s.evaluateSizeForZoom=go,s.evaluateVariableOffset=ty,s.evented=dt,s.exactEquals=function(n,t){return n[0]===t[0]&&n[1]===t[1]&&n[2]===t[2]&&n[3]===t[3]},s.exactEquals$1=function(n,t){return n[0]===t[0]&&n[1]===t[1]&&n[2]===t[2]},s.exported=jn,s.exported$1=Z,s.extend=oe,s.extend$1=So,s.fillExtrusionHeightLift=M_,s.filterObject=re,s.fromMat4=function(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[4],n[4]=t[5],n[5]=t[6],n[6]=t[8],n[7]=t[9],n[8]=t[10],n},s.fromQuat=function(n,t){var r=t[0],c=t[1],u=t[2],g=t[3],v=r+r,T=c+c,k=u+u,D=r*v,te=c*v,he=c*T,ge=u*v,Se=u*T,Ae=u*k,ze=g*v,Xe=g*T,lt=g*k;return n[0]=1-he-Ae,n[1]=te+lt,n[2]=ge-Xe,n[3]=0,n[4]=te-lt,n[5]=1-D-Ae,n[6]=Se+ze,n[7]=0,n[8]=ge+Xe,n[9]=Se-ze,n[10]=1-D-he,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n},s.fromRotation=function(n,t){var r=Math.sin(t),c=Math.cos(t);return n[0]=c,n[1]=r,n[2]=0,n[3]=-r,n[4]=c,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n},s.fromScaling=Pm,s.furthestTileCorner=function(n){const t=Math.round((n+45+360)%360/90)%4;return K[t]},s.getAABBPointSquareDist=function(n,t,r){let c=0;for(let u=0;u<2;++u){const g=r?r[u]:0;n[u]>g&&(c+=(n[u]-g)*(n[u]-g)),t[u]<g&&(c+=(g-t[u])*(g-t[u]))}return c},s.getAnchorAlignment=Nh,s.getAnchorJustification=Np,s.getBounds=function(n){let t=1/0,r=1/0,c=-1/0,u=-1/0;for(const g of n)t=Math.min(t,g.x),r=Math.min(r,g.y),c=Math.max(c,g.x),u=Math.max(u,g.y);return{min:new R(t,r),max:new R(c,u)}},s.getColumn=ht,s.getGridMatrix=function(n,t,r,c){const u=t.getNorth(),g=t.getSouth(),v=t.getWest(),T=t.getEast(),k=1<<n.z,D=T-v,te=u-g,he=D/Cd,ge=-te/du[r],Se=[0,he,0,ge,0,0,u,v,0];if(n.z>0){const Ae=180/c;km(Se,Se,[Ae/D+1,0,0,0,Ae/te+1,0,-.5*Ae/he,.5*Ae/ge,1])}return Se[2]=k,Se[5]=n.x,Se[8]=n.y,Se},s.getImage=hs,s.getJSON=function(n,t){return ki(oe(n,{type:"json"}),t)},s.getLatitudinalLod=function(n){const t=Ir-5;n=A(n,-t,t)/t*90;const r=Math.pow(Math.abs(Math.sin(I(n))),3);return Math.round(r*(du.length-1))},s.getMapSessionAPI=Ot,s.getPerformanceMeasurement=en,s.getProjection=ly,s.getRTLTextPluginStatus=wt,s.getReferrer=Gi,s.getTilePoint=function(n,{x:t,y:r},c=0){return new R(((t-c)*n.scale-n.x)*ln,(r*n.scale-n.y)*ln)},s.getTileVec3=function(n,t,r=0){return Oh(((t.x-r)*n.scale-n.x)*ln,(t.y*n.scale-n.y)*ln,e_(t.z,t.y))},s.getVideo=function(n,t){const r=b.document.createElement("video");r.muted=!0,r.onloadstart=function(){t(null,r)};for(let c=0;c<n.length;c++){const u=b.document.createElement("source");Ai(n[c])||(r.crossOrigin="Anonymous"),u.src=n[c],r.appendChild(u)}return{cancel:()=>{}}},s.globeCenterToScreenPoint=function(n){const t=[0,0,0],r=la(new Float64Array(16));return Xc(r,n.pixelMatrix,n.globeMatrix),Qr(t,t,r),new R(t[0],t[1])},s.globeDenormalizeECEF=Fm,s.globeECEFOrigin=function(n,t){const r=[0,0,0];return Qr(r,r,Cp(Fl(t.canonical))),Qr(r,r,n),r},s.globeMetersToEcef=Sp,s.globeNormalizeECEF=Cp,s.globePixelsToTileUnits=function(n,t){return ln/(512*Math.pow(2,n))*Zf(Fl(t))},s.globePoleMatrixForTile=function(n,t,r){const c=la(new Float64Array(16)),u=(t/(1<<n)-.5)*Math.PI*2;return vp(c,r.globeMatrix,u),Float32Array.from(c)},s.globeTileBounds=Fl,s.globeTiltAtLngLat=Z1,s.globeToMercatorTransition=mu,s.globeUseCustomAntiAliasing=function(n,t,r){const c=mu(r.zoom),u=n.style.map._antialias,g=!!t.extStandardDerivatives,v=t.extStandardDerivativesForceOff||n.terrain&&n.terrain.exaggeration()>0;return c===0&&!u&&!v&&g},s.identity=la,s.identity$1=dc,s.invert=Gf,s.isFullscreen=function(){return!!b.document.fullscreenElement||!!b.document.webkitFullscreenElement},s.isLngLatBehindGlobe=Nm,s.isMapAuthenticated=function(n){return Mt.has(n)},s.isMapboxURL=rr,s.isSafariWithAntialiasingBug=function(n){const t=n.navigator?n.navigator.userAgent:null;return!!it(n)&&t&&(t.match("Version/15.4")||t.match("Version/15.5")||t.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},s.latFromMercatorY=to,s.latLngToECEF=fu,s.len=M2,s.length=Pa,s.length$1=function(n){return Math.hypot(n[0],n[1],n[2],n[3])},s.lngFromMercatorX=La,s.loadVectorTile=z5,s.makeRequest=ki,s.mapValue=function(n,t,r,c,u){return A((n-t)/(r-t)*(u-c)+c,c,u)},s.mercatorScale=t_,s.mercatorXfromLng=fc,s.mercatorYfromLat=mc,s.mercatorZfromAltitude=jl,s.mul=U1,s.mul$1=G1,s.multiply=Xc,s.multiply$1=km,s.multiply$2=bp,s.nextPowerOfTwo=ie,s.normalize=vs,s.normalize$1=A2,s.normalize$2=W1,s.number=Qi,s.ortho=function(n,t,r,c,u,g,v){var T=1/(t-r),k=1/(c-u),D=1/(g-v);return n[0]=-2*T,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*k,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*D,n[11]=0,n[12]=(t+r)*T,n[13]=(u+c)*k,n[14]=(v+g)*D,n[15]=1,n},s.pbf=Fh,s.perspective=function(n,t,r,c,u){var g,v=1/Math.tan(t/2);return n[0]=v/r,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=v,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,u!=null&&u!==1/0?(n[10]=(u+c)*(g=1/(c-u)),n[14]=2*u*c*g):(n[10]=-1,n[14]=-2*c),n},s.pick=function(n,t){const r={};for(let c=0;c<t.length;c++){const u=t[c];u in n&&(r[u]=n[u])}return r},s.plugin=Ct,s.pointGeometry=R,s.polesInViewport=function(n){const t=la(new Float64Array(16));Xc(t,n.pixelMatrix,n.globeMatrix);const r=[0,Ia,0],c=[0,nl,0];return Qr(r,r,t),Qr(c,c,t),[r[0]>0&&r[0]<=n.width&&r[1]>0&&r[1]<=n.height&&!Nm(n,new Zn(n.center.lat,90)),c[0]>0&&c[0]<=n.width&&c[1]>0&&c[1]<=n.height&&!Nm(n,new Zn(n.center.lat,-90))]},s.polygonContainsPoint=kd,s.polygonIntersectsBox=a_,s.polygonIntersectsPolygon=n_,s.polygonizeBounds=function(n,t,r=0,c=!0){const u=new R(r,r),g=n.sub(u),v=t.add(u),T=[g,new R(v.x,g.y),v,new R(g.x,v.y)];return c&&T.push(g.clone()),T},s.posAttributes=Yc,s.postMapLoadEvent=st,s.postPerformanceEvent=Et,s.postTurnstileEvent=Le,s.potpack=y0,s.prevPowerOfTwo=function(n){return n<=1?1:Math.pow(2,Math.floor(Math.log(n)/Math.LN2))},s.radToDeg=$,s.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],s.registerForPluginStateChange=function(n){return n({pluginStatus:et,pluginURL:je}),dt.on("pluginStateChange",n),n},s.removeAuthState=function(n){Mt.delete(n)},s.renderColorRamp=Km,s.resample=Vm,s.rotateX=Rl,s.rotateX$1=Po,s.rotateY=vp,s.rotateY$1=Wf,s.rotateZ=function(n,t,r){var c=Math.sin(r),u=Math.cos(r),g=t[0],v=t[1],T=t[2],k=t[3],D=t[4],te=t[5],he=t[6],ge=t[7];return t!==n&&(n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]),n[0]=g*u+D*c,n[1]=v*u+te*c,n[2]=T*u+he*c,n[3]=k*u+ge*c,n[4]=D*u-g*c,n[5]=te*u-v*c,n[6]=he*u-T*c,n[7]=ge*u-k*c,n},s.rotateZ$1=function(n,t,r){r*=.5;var c=t[0],u=t[1],g=t[2],v=t[3],T=Math.sin(r),k=Math.cos(r);return n[0]=c*k+u*T,n[1]=u*k-c*T,n[2]=g*k+v*T,n[3]=v*k-g*T,n},s.scale=Dh,s.scale$1=Lm,s.scale$2=ko,s.scaleAndAdd=Sd,s.set=function(n,t,r,c){return n[0]=t,n[1]=r,n[2]=c,n},s.setCacheLimits=function(n,t){qe=n,He=t},s.setColumn=function(n,t,r){n[4*t+0]=r[0],n[4*t+1]=r[1],n[4*t+2]=r[2],n[4*t+3]=r[3]},s.setRTLTextPlugin=function(n,t,r=!1){if(et===$e||et===Ze||et===Ke)throw new Error("setRTLTextPlugin cannot be called multiple times.");je=jn.resolveURL(n),et=$e,Je=t,ct(),r||vt()},s.smoothstep=O,s.spec=ti,s.squaredLength=function(n){var t=n[0],r=n[1],c=n[2];return t*t+r*r+c*c},s.storeAuthState=function(n,t){t?Mt.add(n):Mt.delete(n)},s.sub=Bl,s.subtract=xp,s.symbolSize=D_,s.tileAABB=function(n,t,r,c,u,g,v,T,k){if(k.name==="globe")return Md(n,t,new g0(r,c,u));const D=Ld({z:r,x:c,y:u},k);return new Io([(g+D.x/D.scale)*t,t*(D.y/D.scale),v],[(g+D.x2/D.scale)*t,t*(D.y2/D.scale),T])},s.tileCornersToBounds=Xf,s.tileTransform=Ld,s.transformMat3=function(n,t,r){var c=t[0],u=t[1],g=t[2];return n[0]=c*r[0]+u*r[3]+g*r[6],n[1]=c*r[1]+u*r[4]+g*r[7],n[2]=c*r[2]+u*r[5]+g*r[8],n},s.transformMat4=Qr,s.transformMat4$1=Ed,s.transformQuat=fo,s.transitionTileAABBinECEF=Bm,s.translate=yp,s.transpose=function(n,t){if(n===t){var r=t[1],c=t[2],u=t[5];n[1]=t[3],n[2]=t[6],n[3]=r,n[5]=t[7],n[6]=c,n[7]=u}else n[0]=t[0],n[1]=t[3],n[2]=t[6],n[3]=t[1],n[4]=t[4],n[5]=t[7],n[6]=t[2],n[7]=t[5],n[8]=t[8];return n},s.triggerPluginCompletionEvent=ut,s.uniqueId=We,s.updateGlobeVertexNormal=function(n,t,r,c,u){const g=5*t+2;n.float32[g+0]=r,n.float32[g+1]=c,n.float32[g+2]=u},s.validateCustomStyleLayer=function(n){const t=[],r=n.id;return r===void 0&&t.push({message:`layers.${r}: missing required property "id"`}),n.render===void 0&&t.push({message:`layers.${r}: missing required method "render"`}),n.renderingMode&&n.renderingMode!=="2d"&&n.renderingMode!=="3d"&&t.push({message:`layers.${r}: property "renderingMode" must be either "2d" or "3d"`}),t},s.validateFilter=n=>Al(Sh(n)),s.validateFog=n=>Al(_d(n)),s.validateLayer=n=>Al(lp(n)),s.validateLight=n=>Al(Ye(n)),s.validateSource=n=>Al(Ml(n)),s.validateStyle=Sf,s.validateTerrain=n=>Al(sc(n)),s.values=Te,s.vectorTile=d0,s.version=L,s.warnOnce=Y,s.window=b,s.wrap=Q}),p(["./shared"],function(s){function b(rt){if(typeof rt=="number"||typeof rt=="boolean"||typeof rt=="string"||rt==null)return JSON.stringify(rt);if(Array.isArray(rt)){let Ne="[";for(const st of rt)Ne+=`${b(st)},`;return`${Ne}]`}let Le="{";for(const Ne of Object.keys(rt).sort())Le+=`${Ne}:${b(rt[Ne])},`;return`${Le}}`}function L(rt){let Le="";for(const Ne of s.refProperties)Le+=`/${b(rt[Ne])}`;return Le}class ee{constructor(Le){this.keyCache={},Le&&this.replace(Le)}replace(Le){this._layerConfigs={},this._layers={},this.update(Le,[])}update(Le,Ne){for(const ft of Le)this._layerConfigs[ft.id]=ft,(this._layers[ft.id]=s.createStyleLayer(ft)).compileFilter(),this.keyCache[ft.id]&&delete this.keyCache[ft.id];for(const ft of Ne)delete this.keyCache[ft],delete this._layerConfigs[ft],delete this._layers[ft];this.familiesBySource={};const st=function(ft,Et){const zt={};for(let Mt=0;Mt<ft.length;Mt++){const Ut=Et&&Et[ft[Mt].id]||L(ft[Mt]);Et&&(Et[ft[Mt].id]=Ut);let hi=zt[Ut];hi||(hi=zt[Ut]=[]),hi.push(ft[Mt])}const Ot=[];for(const Mt in zt)Ot.push(zt[Mt]);return Ot}(s.values(this._layerConfigs),this.keyCache);for(const ft of st){const Et=ft.map(Li=>this._layers[Li.id]),zt=Et[0];if(zt.visibility==="none")continue;const Ot=zt.source||"";let Mt=this.familiesBySource[Ot];Mt||(Mt=this.familiesBySource[Ot]={});const Ut=zt.sourceLayer||"_geojsonTileLayer";let hi=Mt[Ut];hi||(hi=Mt[Ut]=[]),hi.push(Et)}}}class F{loadTile(Le,Ne){const{uid:st,encoding:ft,rawImageData:Et,padding:zt,buildQuadTree:Ot}=Le,Mt=s.window.ImageBitmap&&Et instanceof s.window.ImageBitmap?this.getImageData(Et,zt):Et;Ne(null,new s.DEMData(st,Mt,ft,zt<1,Ot))}getImageData(Le,Ne){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Le.width,Le.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=Le.width,this.offscreenCanvas.height=Le.height,this.offscreenCanvasContext.drawImage(Le,0,0,Le.width,Le.height);const st=this.offscreenCanvasContext.getImageData(-Ne,-Ne,Le.width+2*Ne,Le.height+2*Ne);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),st}}var Z=function rt(Le,Ne){var st,ft=Le&&Le.type;if(ft==="FeatureCollection")for(st=0;st<Le.features.length;st++)rt(Le.features[st],Ne);else if(ft==="GeometryCollection")for(st=0;st<Le.geometries.length;st++)rt(Le.geometries[st],Ne);else if(ft==="Feature")rt(Le.geometry,Ne);else if(ft==="Polygon")ne(Le.coordinates,Ne);else if(ft==="MultiPolygon")for(st=0;st<Le.coordinates.length;st++)ne(Le.coordinates[st],Ne);return Le};function ne(rt,Le){if(rt.length!==0){z(rt[0],Le);for(var Ne=1;Ne<rt.length;Ne++)z(rt[Ne],!Le)}}function z(rt,Le){for(var Ne=0,st=0,ft=0,Et=rt.length,zt=Et-1;ft<Et;zt=ft++){var Ot=(rt[ft][0]-rt[zt][0])*(rt[zt][1]+rt[ft][1]),Mt=Ne+Ot;st+=Math.abs(Ne)>=Math.abs(Ot)?Ne-Mt+Ot:Ot-Mt+Ne,Ne=Mt}Ne+st>=0!=!!Le&&rt.reverse()}const G=s.VectorTileFeature.prototype.toGeoJSON;class ae{constructor(Le){this._feature=Le,this.extent=s.EXTENT,this.type=Le.type,this.properties=Le.tags,"id"in Le&&!isNaN(Le.id)&&(this.id=parseInt(Le.id,10))}loadGeometry(){if(this._feature.type===1){const Le=[];for(const Ne of this._feature.geometry)Le.push([new s.pointGeometry(Ne[0],Ne[1])]);return Le}{const Le=[];for(const Ne of this._feature.geometry){const st=[];for(const ft of Ne)st.push(new s.pointGeometry(ft[0],ft[1]));Le.push(st)}return Le}}toGeoJSON(Le,Ne,st){return G.call(this,Le,Ne,st)}}class B{constructor(Le){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.EXTENT,this.length=Le.length,this._features=Le}feature(Le){return new ae(this._features[Le])}}var P={},V={get exports(){return P},set exports(rt){P=rt}},W=s.pointGeometry,R=s.vectorTile.VectorTileFeature,se=S;function S(rt,Le){this.options=Le||{},this.features=rt,this.length=rt.length}function X(rt,Le){this.id=typeof rt.id=="number"?rt.id:void 0,this.type=rt.type,this.rawGeometry=rt.type===1?[rt.geometry]:rt.geometry,this.properties=rt.tags,this.extent=Le||4096}S.prototype.feature=function(rt){return new X(this.features[rt],this.options.extent)},X.prototype.loadGeometry=function(){var rt=this.rawGeometry;this.geometry=[];for(var Le=0;Le<rt.length;Le++){for(var Ne=rt[Le],st=[],ft=0;ft<Ne.length;ft++)st.push(new W(Ne[ft][0],Ne[ft][1]));this.geometry.push(st)}return this.geometry},X.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var rt=this.geometry,Le=1/0,Ne=-1/0,st=1/0,ft=-1/0,Et=0;Et<rt.length;Et++)for(var zt=rt[Et],Ot=0;Ot<zt.length;Ot++){var Mt=zt[Ot];Le=Math.min(Le,Mt.x),Ne=Math.max(Ne,Mt.x),st=Math.min(st,Mt.y),ft=Math.max(ft,Mt.y)}return[Le,st,Ne,ft]},X.prototype.toGeoJSON=R.prototype.toGeoJSON;var I=s.pbf,$=se;function K(rt){var Le=new I;return function(Ne,st){for(var ft in Ne.layers)st.writeMessage(3,q,Ne.layers[ft])}(rt,Le),Le.finish()}function q(rt,Le){var Ne;Le.writeVarintField(15,rt.version||1),Le.writeStringField(1,rt.name||""),Le.writeVarintField(5,rt.extent||4096);var st={keys:[],values:[],keycache:{},valuecache:{}};for(Ne=0;Ne<rt.length;Ne++)st.feature=rt.feature(Ne),Le.writeMessage(2,J,st);var ft=st.keys;for(Ne=0;Ne<ft.length;Ne++)Le.writeStringField(3,ft[Ne]);var Et=st.values;for(Ne=0;Ne<Et.length;Ne++)Le.writeMessage(4,fe,Et[Ne])}function J(rt,Le){var Ne=rt.feature;Ne.id!==void 0&&Le.writeVarintField(1,Ne.id),Le.writeMessage(2,C,rt),Le.writeVarintField(3,Ne.type),Le.writeMessage(4,Q,Ne)}function C(rt,Le){var Ne=rt.feature,st=rt.keys,ft=rt.values,Et=rt.keycache,zt=rt.valuecache;for(var Ot in Ne.properties){var Mt=Ne.properties[Ot],Ut=Et[Ot];if(Mt!==null){Ut===void 0&&(st.push(Ot),Et[Ot]=Ut=st.length-1),Le.writeVarint(Ut);var hi=typeof Mt;hi!=="string"&&hi!=="boolean"&&hi!=="number"&&(Mt=JSON.stringify(Mt));var Li=hi+":"+Mt,mi=zt[Li];mi===void 0&&(ft.push(Mt),zt[Li]=mi=ft.length-1),Le.writeVarint(mi)}}}function A(rt,Le){return(Le<<3)+(7&rt)}function O(rt){return rt<<1^rt>>31}function Q(rt,Le){for(var Ne=rt.loadGeometry(),st=rt.type,ft=0,Et=0,zt=Ne.length,Ot=0;Ot<zt;Ot++){var Mt=Ne[Ot],Ut=1;st===1&&(Ut=Mt.length),Le.writeVarint(A(1,Ut));for(var hi=st===3?Mt.length-1:Mt.length,Li=0;Li<hi;Li++){Li===1&&st!==1&&Le.writeVarint(A(2,hi-1));var mi=Mt[Li].x-ft,en=Mt[Li].y-Et;Le.writeVarint(O(mi)),Le.writeVarint(O(en)),ft+=mi,Et+=en}st===3&&Le.writeVarint(A(7,1))}}function fe(rt,Le){var Ne=typeof rt;Ne==="string"?Le.writeStringField(1,rt):Ne==="boolean"?Le.writeBooleanField(7,rt):Ne==="number"&&(rt%1!=0?Le.writeDoubleField(3,rt):rt<0?Le.writeSVarintField(6,rt):Le.writeVarintField(5,rt))}function Te(rt,Le,Ne,st,ft,Et){if(ft-st<=Ne)return;const zt=st+ft>>1;oe(rt,Le,zt,st,ft,Et%2),Te(rt,Le,Ne,st,zt-1,Et+1),Te(rt,Le,Ne,zt+1,ft,Et+1)}function oe(rt,Le,Ne,st,ft,Et){for(;ft>st;){if(ft-st>600){const Ut=ft-st+1,hi=Ne-st+1,Li=Math.log(Ut),mi=.5*Math.exp(2*Li/3),en=.5*Math.sqrt(Li*mi*(Ut-mi)/Ut)*(hi-Ut/2<0?-1:1);oe(rt,Le,Ne,Math.max(st,Math.floor(Ne-hi*mi/Ut+en)),Math.min(ft,Math.floor(Ne+(Ut-hi)*mi/Ut+en)),Et)}const zt=Le[2*Ne+Et];let Ot=st,Mt=ft;for(Me(rt,Le,st,Ne),Le[2*ft+Et]>zt&&Me(rt,Le,st,ft);Ot<Mt;){for(Me(rt,Le,Ot,Mt),Ot++,Mt--;Le[2*Ot+Et]<zt;)Ot++;for(;Le[2*Mt+Et]>zt;)Mt--}Le[2*st+Et]===zt?Me(rt,Le,st,Mt):(Mt++,Me(rt,Le,Mt,ft)),Mt<=Ne&&(st=Mt+1),Ne<=Mt&&(ft=Mt-1)}}function Me(rt,Le,Ne,st){We(rt,Ne,st),We(Le,2*Ne,2*st),We(Le,2*Ne+1,2*st+1)}function We(rt,Le,Ne){const st=rt[Le];rt[Le]=rt[Ne],rt[Ne]=st}function Qe(rt,Le,Ne,st){const ft=rt-Ne,Et=Le-st;return ft*ft+Et*Et}V.exports=K,P.fromVectorTileJs=K,P.fromGeojsonVt=function(rt,Le){Le=Le||{};var Ne={};for(var st in rt)Ne[st]=new $(rt[st].features,Le),Ne[st].name=st,Ne[st].version=Le.version,Ne[st].extent=Le.extent;return K({layers:Ne})},P.GeoJSONWrapper=$;const ie=rt=>rt[0],ce=rt=>rt[1];class pe{constructor(Le,Ne=ie,st=ce,ft=64,Et=Float64Array){this.nodeSize=ft,this.points=Le;const zt=Le.length<65536?Uint16Array:Uint32Array,Ot=this.ids=new zt(Le.length),Mt=this.coords=new Et(2*Le.length);for(let Ut=0;Ut<Le.length;Ut++)Ot[Ut]=Ut,Mt[2*Ut]=Ne(Le[Ut]),Mt[2*Ut+1]=st(Le[Ut]);Te(Ot,Mt,ft,0,Ot.length-1,0)}range(Le,Ne,st,ft){return function(Et,zt,Ot,Mt,Ut,hi,Li){const mi=[0,Et.length-1,0],en=[];let Xi,Hi;for(;mi.length;){const sn=mi.pop(),xn=mi.pop(),jn=mi.pop();if(xn-jn<=Li){for(let sr=jn;sr<=xn;sr++)Xi=zt[2*sr],Hi=zt[2*sr+1],Xi>=Ot&&Xi<=Ut&&Hi>=Mt&&Hi<=hi&&en.push(Et[sr]);continue}const tn=Math.floor((jn+xn)/2);Xi=zt[2*tn],Hi=zt[2*tn+1],Xi>=Ot&&Xi<=Ut&&Hi>=Mt&&Hi<=hi&&en.push(Et[tn]);const Xn=(sn+1)%2;(sn===0?Ot<=Xi:Mt<=Hi)&&(mi.push(jn),mi.push(tn-1),mi.push(Xn)),(sn===0?Ut>=Xi:hi>=Hi)&&(mi.push(tn+1),mi.push(xn),mi.push(Xn))}return en}(this.ids,this.coords,Le,Ne,st,ft,this.nodeSize)}within(Le,Ne,st){return function(ft,Et,zt,Ot,Mt,Ut){const hi=[0,ft.length-1,0],Li=[],mi=Mt*Mt;for(;hi.length;){const en=hi.pop(),Xi=hi.pop(),Hi=hi.pop();if(Xi-Hi<=Ut){for(let Xn=Hi;Xn<=Xi;Xn++)Qe(Et[2*Xn],Et[2*Xn+1],zt,Ot)<=mi&&Li.push(ft[Xn]);continue}const sn=Math.floor((Hi+Xi)/2),xn=Et[2*sn],jn=Et[2*sn+1];Qe(xn,jn,zt,Ot)<=mi&&Li.push(ft[sn]);const tn=(en+1)%2;(en===0?zt-Mt<=xn:Ot-Mt<=jn)&&(hi.push(Hi),hi.push(sn-1),hi.push(tn)),(en===0?zt+Mt>=xn:Ot+Mt>=jn)&&(hi.push(sn+1),hi.push(Xi),hi.push(tn))}return Li}(this.ids,this.coords,Le,Ne,st,this.nodeSize)}}const Ce={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:rt=>rt},Be=Math.fround||(re=new Float32Array(1),rt=>(re[0]=+rt,re[0]));var re;class xe{constructor(Le){this.options=it(Object.create(Ce),Le),this.trees=new Array(this.options.maxZoom+1)}load(Le){const{log:Ne,minZoom:st,maxZoom:ft,nodeSize:Et}=this.options;Ne&&console.time("total time");const zt=`prepare ${Le.length} points`;Ne&&console.time(zt),this.points=Le;let Ot=[];for(let Mt=0;Mt<Le.length;Mt++)Le[Mt].geometry&&Ot.push(Y(Le[Mt],Mt));this.trees[ft+1]=new pe(Ot,tt,ht,Et,Float32Array),Ne&&console.timeEnd(zt);for(let Mt=ft;Mt>=st;Mt--){const Ut=+Date.now();Ot=this._cluster(Ot,Mt),this.trees[Mt]=new pe(Ot,tt,ht,Et,Float32Array),Ne&&console.log("z%d: %d clusters in %dms",Mt,Ot.length,+Date.now()-Ut)}return Ne&&console.timeEnd("total time"),this}getClusters(Le,Ne){let st=((Le[0]+180)%360+360)%360-180;const ft=Math.max(-90,Math.min(90,Le[1]));let Et=Le[2]===180?180:((Le[2]+180)%360+360)%360-180;const zt=Math.max(-90,Math.min(90,Le[3]));if(Le[2]-Le[0]>=360)st=-180,Et=180;else if(st>Et){const hi=this.getClusters([st,ft,180,zt],Ne),Li=this.getClusters([-180,ft,Et,zt],Ne);return hi.concat(Li)}const Ot=this.trees[this._limitZoom(Ne)],Mt=Ot.range(ke(st),Ie(zt),ke(Et),Ie(ft)),Ut=[];for(const hi of Mt){const Li=Ot.points[hi];Ut.push(Li.numPoints?de(Li):this.points[Li.index])}return Ut}getChildren(Le){const Ne=this._getOriginId(Le),st=this._getOriginZoom(Le),ft="No cluster with the specified id.",Et=this.trees[st];if(!Et)throw new Error(ft);const zt=Et.points[Ne];if(!zt)throw new Error(ft);const Ot=this.options.radius/(this.options.extent*Math.pow(2,st-1)),Mt=Et.within(zt.x,zt.y,Ot),Ut=[];for(const hi of Mt){const Li=Et.points[hi];Li.parentId===Le&&Ut.push(Li.numPoints?de(Li):this.points[Li.index])}if(Ut.length===0)throw new Error(ft);return Ut}getLeaves(Le,Ne,st){const ft=[];return this._appendLeaves(ft,Le,Ne=Ne||10,st=st||0,0),ft}getTile(Le,Ne,st){const ft=this.trees[this._limitZoom(Le)],Et=Math.pow(2,Le),{extent:zt,radius:Ot}=this.options,Mt=Ot/zt,Ut=(st-Mt)/Et,hi=(st+1+Mt)/Et,Li={features:[]};return this._addTileFeatures(ft.range((Ne-Mt)/Et,Ut,(Ne+1+Mt)/Et,hi),ft.points,Ne,st,Et,Li),Ne===0&&this._addTileFeatures(ft.range(1-Mt/Et,Ut,1,hi),ft.points,Et,st,Et,Li),Ne===Et-1&&this._addTileFeatures(ft.range(0,Ut,Mt/Et,hi),ft.points,-1,st,Et,Li),Li.features.length?Li:null}getClusterExpansionZoom(Le){let Ne=this._getOriginZoom(Le)-1;for(;Ne<=this.options.maxZoom;){const st=this.getChildren(Le);if(Ne++,st.length!==1)break;Le=st[0].properties.cluster_id}return Ne}_appendLeaves(Le,Ne,st,ft,Et){const zt=this.getChildren(Ne);for(const Ot of zt){const Mt=Ot.properties;if(Mt&&Mt.cluster?Et+Mt.point_count<=ft?Et+=Mt.point_count:Et=this._appendLeaves(Le,Mt.cluster_id,st,ft,Et):Et<ft?Et++:Le.push(Ot),Le.length===st)break}return Et}_addTileFeatures(Le,Ne,st,ft,Et,zt){for(const Ot of Le){const Mt=Ne[Ot],Ut=Mt.numPoints;let hi,Li,mi;if(Ut)hi=me(Mt),Li=Mt.x,mi=Mt.y;else{const Hi=this.points[Mt.index];hi=Hi.properties,Li=ke(Hi.geometry.coordinates[0]),mi=Ie(Hi.geometry.coordinates[1])}const en={type:1,geometry:[[Math.round(this.options.extent*(Li*Et-st)),Math.round(this.options.extent*(mi*Et-ft))]],tags:hi};let Xi;Ut?Xi=Mt.id:this.options.generateId?Xi=Mt.index:this.points[Mt.index].id&&(Xi=this.points[Mt.index].id),Xi!==void 0&&(en.id=Xi),zt.features.push(en)}}_limitZoom(Le){return Math.max(this.options.minZoom,Math.min(Math.floor(+Le),this.options.maxZoom+1))}_cluster(Le,Ne){const st=[],{radius:ft,extent:Et,reduce:zt,minPoints:Ot}=this.options,Mt=ft/(Et*Math.pow(2,Ne));for(let Ut=0;Ut<Le.length;Ut++){const hi=Le[Ut];if(hi.zoom<=Ne)continue;hi.zoom=Ne;const Li=this.trees[Ne+1],mi=Li.within(hi.x,hi.y,Mt),en=hi.numPoints||1;let Xi=en;for(const Hi of mi){const sn=Li.points[Hi];sn.zoom>Ne&&(Xi+=sn.numPoints||1)}if(Xi>en&&Xi>=Ot){let Hi=hi.x*en,sn=hi.y*en,xn=zt&&en>1?this._map(hi,!0):null;const jn=(Ut<<5)+(Ne+1)+this.points.length;for(const tn of mi){const Xn=Li.points[tn];if(Xn.zoom<=Ne)continue;Xn.zoom=Ne;const sr=Xn.numPoints||1;Hi+=Xn.x*sr,sn+=Xn.y*sr,Xn.parentId=jn,zt&&(xn||(xn=this._map(hi,!0)),zt(xn,this._map(Xn)))}hi.parentId=jn,st.push(_e(Hi/Xi,sn/Xi,jn,Xi,xn))}else if(st.push(hi),Xi>1)for(const Hi of mi){const sn=Li.points[Hi];sn.zoom<=Ne||(sn.zoom=Ne,st.push(sn))}}return st}_getOriginId(Le){return Le-this.points.length>>5}_getOriginZoom(Le){return(Le-this.points.length)%32}_map(Le,Ne){if(Le.numPoints)return Ne?it({},Le.properties):Le.properties;const st=this.points[Le.index].properties,ft=this.options.map(st);return Ne&&ft===st?it({},ft):ft}}function _e(rt,Le,Ne,st,ft){return{x:Be(rt),y:Be(Le),zoom:1/0,id:Ne,parentId:-1,numPoints:st,properties:ft}}function Y(rt,Le){const[Ne,st]=rt.geometry.coordinates;return{x:Be(ke(Ne)),y:Be(Ie(st)),zoom:1/0,index:Le,parentId:-1}}function de(rt){return{type:"Feature",id:rt.id,properties:me(rt),geometry:{type:"Point",coordinates:[(Le=rt.x,360*(Le-.5)),Ve(rt.y)]}};var Le}function me(rt){const Le=rt.numPoints,Ne=Le>=1e4?`${Math.round(Le/1e3)}k`:Le>=1e3?Math.round(Le/100)/10+"k":Le;return it(it({},rt.properties),{cluster:!0,cluster_id:rt.id,point_count:Le,point_count_abbreviated:Ne})}function ke(rt){return rt/360+.5}function Ie(rt){const Le=Math.sin(rt*Math.PI/180),Ne=.5-.25*Math.log((1+Le)/(1-Le))/Math.PI;return Ne<0?0:Ne>1?1:Ne}function Ve(rt){const Le=(180-360*rt)*Math.PI/180;return 360*Math.atan(Math.exp(Le))/Math.PI-90}function it(rt,Le){for(const Ne in Le)rt[Ne]=Le[Ne];return rt}function tt(rt){return rt.x}function ht(rt){return rt.y}function Ee(rt,Le,Ne,st){for(var ft,Et=st,zt=Ne-Le>>1,Ot=Ne-Le,Mt=rt[Le],Ut=rt[Le+1],hi=rt[Ne],Li=rt[Ne+1],mi=Le+3;mi<Ne;mi+=3){var en=De(rt[mi],rt[mi+1],Mt,Ut,hi,Li);if(en>Et)ft=mi,Et=en;else if(en===Et){var Xi=Math.abs(mi-zt);Xi<Ot&&(ft=mi,Ot=Xi)}}Et>st&&(ft-Le>3&&Ee(rt,Le,ft,st),rt[ft+2]=Et,Ne-ft>3&&Ee(rt,ft,Ne,st))}function De(rt,Le,Ne,st,ft,Et){var zt=ft-Ne,Ot=Et-st;if(zt!==0||Ot!==0){var Mt=((rt-Ne)*zt+(Le-st)*Ot)/(zt*zt+Ot*Ot);Mt>1?(Ne=ft,st=Et):Mt>0&&(Ne+=zt*Mt,st+=Ot*Mt)}return(zt=rt-Ne)*zt+(Ot=Le-st)*Ot}function Fe(rt,Le,Ne,st){var ft={id:rt===void 0?null:rt,type:Le,geometry:Ne,tags:st,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Et){var zt=Et.geometry,Ot=Et.type;if(Ot==="Point"||Ot==="MultiPoint"||Ot==="LineString")qe(Et,zt);else if(Ot==="Polygon"||Ot==="MultiLineString")for(var Mt=0;Mt<zt.length;Mt++)qe(Et,zt[Mt]);else if(Ot==="MultiPolygon")for(Mt=0;Mt<zt.length;Mt++)for(var Ut=0;Ut<zt[Mt].length;Ut++)qe(Et,zt[Mt][Ut])}(ft),ft}function qe(rt,Le){for(var Ne=0;Ne<Le.length;Ne+=3)rt.minX=Math.min(rt.minX,Le[Ne]),rt.minY=Math.min(rt.minY,Le[Ne+1]),rt.maxX=Math.max(rt.maxX,Le[Ne]),rt.maxY=Math.max(rt.maxY,Le[Ne+1])}function He(rt,Le,Ne,st){if(Le.geometry){var ft=Le.geometry.coordinates,Et=Le.geometry.type,zt=Math.pow(Ne.tolerance/((1<<Ne.maxZoom)*Ne.extent),2),Ot=[],Mt=Le.id;if(Ne.promoteId?Mt=Le.properties[Ne.promoteId]:Ne.generateId&&(Mt=st||0),Et==="Point")xt(ft,Ot);else if(Et==="MultiPoint")for(var Ut=0;Ut<ft.length;Ut++)xt(ft[Ut],Ot);else if(Et==="LineString")jt(ft,Ot,zt,!1);else if(Et==="MultiLineString"){if(Ne.lineMetrics){for(Ut=0;Ut<ft.length;Ut++)jt(ft[Ut],Ot=[],zt,!1),rt.push(Fe(Mt,"LineString",Ot,Le.properties));return}Vt(ft,Ot,zt,!1)}else if(Et==="Polygon")Vt(ft,Ot,zt,!0);else{if(Et!=="MultiPolygon"){if(Et==="GeometryCollection"){for(Ut=0;Ut<Le.geometry.geometries.length;Ut++)He(rt,{id:Mt,geometry:Le.geometry.geometries[Ut],properties:Le.properties},Ne,st);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Ut=0;Ut<ft.length;Ut++){var hi=[];Vt(ft[Ut],hi,zt,!0),Ot.push(hi)}}rt.push(Fe(Mt,Et,Ot,Le.properties))}}function xt(rt,Le){Le.push(vi(rt[0])),Le.push(ri(rt[1])),Le.push(0)}function jt(rt,Le,Ne,st){for(var ft,Et,zt=0,Ot=0;Ot<rt.length;Ot++){var Mt=vi(rt[Ot][0]),Ut=ri(rt[Ot][1]);Le.push(Mt),Le.push(Ut),Le.push(0),Ot>0&&(zt+=st?(ft*Ut-Mt*Et)/2:Math.sqrt(Math.pow(Mt-ft,2)+Math.pow(Ut-Et,2))),ft=Mt,Et=Ut}var hi=Le.length-3;Le[2]=1,Ee(Le,0,hi,Ne),Le[hi+2]=1,Le.size=Math.abs(zt),Le.start=0,Le.end=Le.size}function Vt(rt,Le,Ne,st){for(var ft=0;ft<rt.length;ft++){var Et=[];jt(rt[ft],Et,Ne,st),Le.push(Et)}}function vi(rt){return rt/360+.5}function ri(rt){var Le=Math.sin(rt*Math.PI/180),Ne=.5-.25*Math.log((1+Le)/(1-Le))/Math.PI;return Ne<0?0:Ne>1?1:Ne}function bi(rt,Le,Ne,st,ft,Et,zt,Ot){if(st/=Le,Et>=(Ne/=Le)&&zt<st)return rt;if(zt<Ne||Et>=st)return null;for(var Mt=[],Ut=0;Ut<rt.length;Ut++){var hi=rt[Ut],Li=hi.geometry,mi=hi.type,en=ft===0?hi.minX:hi.minY,Xi=ft===0?hi.maxX:hi.maxY;if(en>=Ne&&Xi<st)Mt.push(hi);else if(!(Xi<Ne||en>=st)){var Hi=[];if(mi==="Point"||mi==="MultiPoint")Gi(Li,Hi,Ne,st,ft);else if(mi==="LineString")ki(Li,Hi,Ne,st,ft,!1,Ot.lineMetrics);else if(mi==="MultiLineString")Ai(Li,Hi,Ne,st,ft,!1);else if(mi==="Polygon")Ai(Li,Hi,Ne,st,ft,!0);else if(mi==="MultiPolygon")for(var sn=0;sn<Li.length;sn++){var xn=[];Ai(Li[sn],xn,Ne,st,ft,!0),xn.length&&Hi.push(xn)}if(Hi.length){if(Ot.lineMetrics&&mi==="LineString"){for(sn=0;sn<Hi.length;sn++)Mt.push(Fe(hi.id,mi,Hi[sn],hi.tags));continue}mi!=="LineString"&&mi!=="MultiLineString"||(Hi.length===1?(mi="LineString",Hi=Hi[0]):mi="MultiLineString"),mi!=="Point"&&mi!=="MultiPoint"||(mi=Hi.length===3?"Point":"MultiPoint"),Mt.push(Fe(hi.id,mi,Hi,hi.tags))}}}return Mt.length?Mt:null}function Gi(rt,Le,Ne,st,ft){for(var Et=0;Et<rt.length;Et+=3){var zt=rt[Et+ft];zt>=Ne&&zt<=st&&(Le.push(rt[Et]),Le.push(rt[Et+1]),Le.push(rt[Et+2]))}}function ki(rt,Le,Ne,st,ft,Et,zt){for(var Ot,Mt,Ut=Ni(rt),hi=ft===0?In:Hn,Li=rt.start,mi=0;mi<rt.length-3;mi+=3){var en=rt[mi],Xi=rt[mi+1],Hi=rt[mi+2],sn=rt[mi+3],xn=rt[mi+4],jn=ft===0?en:Xi,tn=ft===0?sn:xn,Xn=!1;zt&&(Ot=Math.sqrt(Math.pow(en-sn,2)+Math.pow(Xi-xn,2))),jn<Ne?tn>Ne&&(Mt=hi(Ut,en,Xi,sn,xn,Ne),zt&&(Ut.start=Li+Ot*Mt)):jn>st?tn<st&&(Mt=hi(Ut,en,Xi,sn,xn,st),zt&&(Ut.start=Li+Ot*Mt)):Tn(Ut,en,Xi,Hi),tn<Ne&&jn>=Ne&&(Mt=hi(Ut,en,Xi,sn,xn,Ne),Xn=!0),tn>st&&jn<=st&&(Mt=hi(Ut,en,Xi,sn,xn,st),Xn=!0),!Et&&Xn&&(zt&&(Ut.end=Li+Ot*Mt),Le.push(Ut),Ut=Ni(rt)),zt&&(Li+=Ot)}var sr=rt.length-3;en=rt[sr],Xi=rt[sr+1],Hi=rt[sr+2],(jn=ft===0?en:Xi)>=Ne&&jn<=st&&Tn(Ut,en,Xi,Hi),sr=Ut.length-3,Et&&sr>=3&&(Ut[sr]!==Ut[0]||Ut[sr+1]!==Ut[1])&&Tn(Ut,Ut[0],Ut[1],Ut[2]),Ut.length&&Le.push(Ut)}function Ni(rt){var Le=[];return Le.size=rt.size,Le.start=rt.start,Le.end=rt.end,Le}function Ai(rt,Le,Ne,st,ft,Et){for(var zt=0;zt<rt.length;zt++)ki(rt[zt],Le,Ne,st,ft,Et,!1)}function Tn(rt,Le,Ne,st){rt.push(Le),rt.push(Ne),rt.push(st)}function In(rt,Le,Ne,st,ft,Et){var zt=(Et-Le)/(st-Le);return rt.push(Et),rt.push(Ne+(ft-Ne)*zt),rt.push(1),zt}function Hn(rt,Le,Ne,st,ft,Et){var zt=(Et-Ne)/(ft-Ne);return rt.push(Le+(st-Le)*zt),rt.push(Et),rt.push(1),zt}function hs(rt,Le){for(var Ne=[],st=0;st<rt.length;st++){var ft,Et=rt[st],zt=Et.type;if(zt==="Point"||zt==="MultiPoint"||zt==="LineString")ft=nr(Et.geometry,Le);else if(zt==="MultiLineString"||zt==="Polygon"){ft=[];for(var Ot=0;Ot<Et.geometry.length;Ot++)ft.push(nr(Et.geometry[Ot],Le))}else if(zt==="MultiPolygon")for(ft=[],Ot=0;Ot<Et.geometry.length;Ot++){for(var Mt=[],Ut=0;Ut<Et.geometry[Ot].length;Ut++)Mt.push(nr(Et.geometry[Ot][Ut],Le));ft.push(Mt)}Ne.push(Fe(Et.id,zt,ft,Et.tags))}return Ne}function nr(rt,Le){var Ne=[];Ne.size=rt.size,rt.start!==void 0&&(Ne.start=rt.start,Ne.end=rt.end);for(var st=0;st<rt.length;st+=3)Ne.push(rt[st]+Le,rt[st+1],rt[st+2]);return Ne}function rr(rt,Le){if(rt.transformed)return rt;var Ne,st,ft,Et=1<<rt.z,zt=rt.x,Ot=rt.y;for(Ne=0;Ne<rt.features.length;Ne++){var Mt=rt.features[Ne],Ut=Mt.geometry,hi=Mt.type;if(Mt.geometry=[],hi===1)for(st=0;st<Ut.length;st+=2)Mt.geometry.push(_r(Ut[st],Ut[st+1],Le,Et,zt,Ot));else for(st=0;st<Ut.length;st++){var Li=[];for(ft=0;ft<Ut[st].length;ft+=2)Li.push(_r(Ut[st][ft],Ut[st][ft+1],Le,Et,zt,Ot));Mt.geometry.push(Li)}}return rt.transformed=!0,rt}function _r(rt,Le,Ne,st,ft,Et){return[Math.round(Ne*(rt*st-ft)),Math.round(Ne*(Le*st-Et))]}function Mc(rt,Le,Ne,st,ft){for(var Et=Le===ft.maxZoom?0:ft.tolerance/((1<<Le)*ft.extent),zt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Ne,y:st,z:Le,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ot=0;Ot<rt.length;Ot++){zt.numFeatures++,Ac(zt,rt[Ot],Et,ft);var Mt=rt[Ot].minX,Ut=rt[Ot].minY,hi=rt[Ot].maxX,Li=rt[Ot].maxY;Mt<zt.minX&&(zt.minX=Mt),Ut<zt.minY&&(zt.minY=Ut),hi>zt.maxX&&(zt.maxX=hi),Li>zt.maxY&&(zt.maxY=Li)}return zt}function Ac(rt,Le,Ne,st){var ft=Le.geometry,Et=Le.type,zt=[];if(Et==="Point"||Et==="MultiPoint")for(var Ot=0;Ot<ft.length;Ot+=3)zt.push(ft[Ot]),zt.push(ft[Ot+1]),rt.numPoints++,rt.numSimplified++;else if(Et==="LineString")Es(zt,ft,rt,Ne,!1,!1);else if(Et==="MultiLineString"||Et==="Polygon")for(Ot=0;Ot<ft.length;Ot++)Es(zt,ft[Ot],rt,Ne,Et==="Polygon",Ot===0);else if(Et==="MultiPolygon")for(var Mt=0;Mt<ft.length;Mt++){var Ut=ft[Mt];for(Ot=0;Ot<Ut.length;Ot++)Es(zt,Ut[Ot],rt,Ne,!0,Ot===0)}if(zt.length){var hi=Le.tags||null;if(Et==="LineString"&&st.lineMetrics){for(var Li in hi={},Le.tags)hi[Li]=Le.tags[Li];hi.mapbox_clip_start=ft.start/ft.size,hi.mapbox_clip_end=ft.end/ft.size}var mi={geometry:zt,type:Et==="Polygon"||Et==="MultiPolygon"?3:Et==="LineString"||Et==="MultiLineString"?2:1,tags:hi};Le.id!==null&&(mi.id=Le.id),rt.features.push(mi)}}function Es(rt,Le,Ne,st,ft,Et){var zt=st*st;if(st>0&&Le.size<(ft?zt:st))Ne.numPoints+=Le.length/3;else{for(var Ot=[],Mt=0;Mt<Le.length;Mt+=3)(st===0||Le[Mt+2]>zt)&&(Ne.numSimplified++,Ot.push(Le[Mt]),Ot.push(Le[Mt+1])),Ne.numPoints++;ft&&function(Ut,hi){for(var Li=0,mi=0,en=Ut.length,Xi=en-2;mi<en;Xi=mi,mi+=2)Li+=(Ut[mi]-Ut[Xi])*(Ut[mi+1]+Ut[Xi+1]);if(Li>0===hi)for(mi=0,en=Ut.length;mi<en/2;mi+=2){var Hi=Ut[mi],sn=Ut[mi+1];Ut[mi]=Ut[en-2-mi],Ut[mi+1]=Ut[en-1-mi],Ut[en-2-mi]=Hi,Ut[en-1-mi]=sn}}(Ot,Et),rt.push(Ot)}}function is(rt,Le){var Ne=(Le=this.options=function(ft,Et){for(var zt in Et)ft[zt]=Et[zt];return ft}(Object.create(this.options),Le)).debug;if(Ne&&console.time("preprocess data"),Le.maxZoom<0||Le.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Le.promoteId&&Le.generateId)throw new Error("promoteId and generateId cannot be used together.");var st=function(ft,Et){var zt=[];if(ft.type==="FeatureCollection")for(var Ot=0;Ot<ft.features.length;Ot++)He(zt,ft.features[Ot],Et,Ot);else He(zt,ft.type==="Feature"?ft:{geometry:ft},Et);return zt}(rt,Le);this.tiles={},this.tileCoords=[],Ne&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Le.indexMaxZoom,Le.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),st=function(ft,Et){var zt=Et.buffer/Et.extent,Ot=ft,Mt=bi(ft,1,-1-zt,zt,0,-1,2,Et),Ut=bi(ft,1,1-zt,2+zt,0,-1,2,Et);return(Mt||Ut)&&(Ot=bi(ft,1,-zt,1+zt,0,-1,2,Et)||[],Mt&&(Ot=hs(Mt,1).concat(Ot)),Ut&&(Ot=Ot.concat(hs(Ut,-1)))),Ot}(st,Le),st.length&&this.splitTile(st,0,0,0),Ne&&(st.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ls(rt,Le,Ne){return 32*((1<<rt)*Ne+Le)+rt}function Fa(rt,Le){const Ne=rt.tileID.canonical;if(!this._geoJSONIndex)return Le(null,null);const st=this._geoJSONIndex.getTile(Ne.z,Ne.x,Ne.y);if(!st)return Le(null,null);const ft=new B(st.features);let Et=P(ft);Et.byteOffset===0&&Et.byteLength===Et.buffer.byteLength||(Et=new Uint8Array(Et)),Le(null,{vectorTile:ft,rawData:Et.buffer})}is.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},is.prototype.splitTile=function(rt,Le,Ne,st,ft,Et,zt){for(var Ot=[rt,Le,Ne,st],Mt=this.options,Ut=Mt.debug;Ot.length;){st=Ot.pop(),Ne=Ot.pop(),Le=Ot.pop(),rt=Ot.pop();var hi=1<<Le,Li=Ls(Le,Ne,st),mi=this.tiles[Li];if(!mi&&(Ut>1&&console.time("creation"),mi=this.tiles[Li]=Mc(rt,Le,Ne,st,Mt),this.tileCoords.push({z:Le,x:Ne,y:st}),Ut)){Ut>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Le,Ne,st,mi.numFeatures,mi.numPoints,mi.numSimplified),console.timeEnd("creation"));var en="z"+Le;this.stats[en]=(this.stats[en]||0)+1,this.total++}if(mi.source=rt,ft){if(Le===Mt.maxZoom||Le===ft)continue;var Xi=1<<ft-Le;if(Ne!==Math.floor(Et/Xi)||st!==Math.floor(zt/Xi))continue}else if(Le===Mt.indexMaxZoom||mi.numPoints<=Mt.indexMaxPoints)continue;if(mi.source=null,rt.length!==0){Ut>1&&console.time("clipping");var Hi,sn,xn,jn,tn,Xn,sr=.5*Mt.buffer/Mt.extent,wa=.5-sr,Qo=.5+sr,ti=1+sr;Hi=sn=xn=jn=null,tn=bi(rt,hi,Ne-sr,Ne+Qo,0,mi.minX,mi.maxX,Mt),Xn=bi(rt,hi,Ne+wa,Ne+ti,0,mi.minX,mi.maxX,Mt),rt=null,tn&&(Hi=bi(tn,hi,st-sr,st+Qo,1,mi.minY,mi.maxY,Mt),sn=bi(tn,hi,st+wa,st+ti,1,mi.minY,mi.maxY,Mt),tn=null),Xn&&(xn=bi(Xn,hi,st-sr,st+Qo,1,mi.minY,mi.maxY,Mt),jn=bi(Xn,hi,st+wa,st+ti,1,mi.minY,mi.maxY,Mt),Xn=null),Ut>1&&console.timeEnd("clipping"),Ot.push(Hi||[],Le+1,2*Ne,2*st),Ot.push(sn||[],Le+1,2*Ne,2*st+1),Ot.push(xn||[],Le+1,2*Ne+1,2*st),Ot.push(jn||[],Le+1,2*Ne+1,2*st+1)}}},is.prototype.getTile=function(rt,Le,Ne){var st=this.options,ft=st.extent,Et=st.debug;if(rt<0||rt>24)return null;var zt=1<<rt,Ot=Ls(rt,Le=(Le%zt+zt)%zt,Ne);if(this.tiles[Ot])return rr(this.tiles[Ot],ft);Et>1&&console.log("drilling down to z%d-%d-%d",rt,Le,Ne);for(var Mt,Ut=rt,hi=Le,Li=Ne;!Mt&&Ut>0;)Ut--,hi=Math.floor(hi/2),Li=Math.floor(Li/2),Mt=this.tiles[Ls(Ut,hi,Li)];return Mt&&Mt.source?(Et>1&&console.log("found parent tile z%d-%d-%d",Ut,hi,Li),Et>1&&console.time("drilling down"),this.splitTile(Mt.source,Ut,hi,Li,rt,Le,Ne),Et>1&&console.timeEnd("drilling down"),this.tiles[Ot]?rr(this.tiles[Ot],ft):null):null};class kc extends s.VectorTileWorkerSource{constructor(Le,Ne,st,ft,Et){super(Le,Ne,st,ft,Fa),Et&&(this.loadGeoJSON=Et)}loadData(Le,Ne){const st=Le&&Le.request,ft=st&&st.collectResourceTiming;this.loadGeoJSON(Le,(Et,zt)=>{if(Et||!zt)return Ne(Et);if(typeof zt!="object")return Ne(new Error(`Input data given to '${Le.source}' is not a valid GeoJSON object.`));{Z(zt,!0);try{if(Le.filter){const Mt=s.createExpression(Le.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Mt.result==="error")throw new Error(Mt.value.map(hi=>`${hi.key}: ${hi.message}`).join(", "));zt={type:"FeatureCollection",features:zt.features.filter(hi=>Mt.value.evaluate({zoom:0},hi))}}this._geoJSONIndex=Le.cluster?new xe(function({superclusterOptions:Mt,clusterProperties:Ut}){if(!Ut||!Mt)return Mt;const hi={},Li={},mi={accumulated:null,zoom:0},en={properties:null},Xi=Object.keys(Ut);for(const Hi of Xi){const[sn,xn]=Ut[Hi],jn=s.createExpression(xn),tn=s.createExpression(typeof sn=="string"?[sn,["accumulated"],["get",Hi]]:sn);hi[Hi]=jn.value,Li[Hi]=tn.value}return Mt.map=Hi=>{en.properties=Hi;const sn={};for(const xn of Xi)sn[xn]=hi[xn].evaluate(mi,en);return sn},Mt.reduce=(Hi,sn)=>{en.properties=sn;for(const xn of Xi)mi.accumulated=Hi[xn],Hi[xn]=Li[xn].evaluate(mi,en)},Mt}(Le)).load(zt.features):function(Mt,Ut){return new is(Mt,Ut)}(zt,Le.geojsonVtOptions)}catch(Mt){return Ne(Mt)}this.loaded={};const Ot={};if(ft){const Mt=s.getPerformanceMeasurement(st);Mt&&(Ot.resourceTiming={},Ot.resourceTiming[Le.source]=JSON.parse(JSON.stringify(Mt)))}Ne(null,Ot)}})}reloadTile(Le,Ne){const st=this.loaded;return st&&st[Le.uid]?super.reloadTile(Le,Ne):this.loadTile(Le,Ne)}loadGeoJSON(Le,Ne){if(Le.request)s.getJSON(Le.request,Ne);else{if(typeof Le.data!="string")return Ne(new Error(`Input data given to '${Le.source}' is not a valid GeoJSON object.`));try{return Ne(null,JSON.parse(Le.data))}catch{return Ne(new Error(`Input data given to '${Le.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(Le,Ne){try{Ne(null,this._geoJSONIndex.getClusterExpansionZoom(Le.clusterId))}catch(st){Ne(st)}}getClusterChildren(Le,Ne){try{Ne(null,this._geoJSONIndex.getChildren(Le.clusterId))}catch(st){Ne(st)}}getClusterLeaves(Le,Ne){try{Ne(null,this._geoJSONIndex.getLeaves(Le.clusterId,Le.limit,Le.offset))}catch(st){Ne(st)}}}class Na{constructor(Le){this.self=Le,this.actor=new s.Actor(Le,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=s.getProjection({name:"mercator"}),this.workerSourceTypes={vector:s.VectorTileWorkerSource,geojson:kc},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(Ne,st)=>{if(this.workerSourceTypes[Ne])throw new Error(`Worker source with name "${Ne}" already registered.`);this.workerSourceTypes[Ne]=st},this.self.registerRTLTextPlugin=Ne=>{if(s.plugin.isParsed())throw new Error("RTL text plugin already registered.");s.plugin.applyArabicShaping=Ne.applyArabicShaping,s.plugin.processBidirectionalText=Ne.processBidirectionalText,s.plugin.processStyledBidirectionalText=Ne.processStyledBidirectionalText}}clearCaches(Le,Ne,st){delete this.layerIndexes[Le],delete this.availableImages[Le],delete this.workerSources[Le],delete this.demWorkerSources[Le],st()}checkIfReady(Le,Ne,st){st()}setReferrer(Le,Ne){this.referrer=Ne}spriteLoaded(Le,Ne){this.isSpriteLoaded[Le]=Ne;for(const st in this.workerSources[Le]){const ft=this.workerSources[Le][st];for(const Et in ft)ft[Et]instanceof s.VectorTileWorkerSource&&(ft[Et].isSpriteLoaded=Ne,ft[Et].fire(new s.Event("isSpriteLoaded")))}}setImages(Le,Ne,st){this.availableImages[Le]=Ne;for(const ft in this.workerSources[Le]){const Et=this.workerSources[Le][ft];for(const zt in Et)Et[zt].availableImages=Ne}st()}enableTerrain(Le,Ne,st){this.terrain=Ne,st()}setProjection(Le,Ne){this.projections[Le]=s.getProjection(Ne)}setLayers(Le,Ne,st){this.getLayerIndex(Le).replace(Ne),st()}updateLayers(Le,Ne,st){this.getLayerIndex(Le).update(Ne.layers,Ne.removedIds),st()}loadTile(Le,Ne,st){const ft=this.enableTerrain?s.extend({enableTerrain:this.terrain},Ne):Ne;ft.projection=this.projections[Le]||this.defaultProjection,this.getWorkerSource(Le,Ne.type,Ne.source).loadTile(ft,st)}loadDEMTile(Le,Ne,st){const ft=this.enableTerrain?s.extend({buildQuadTree:this.terrain},Ne):Ne;this.getDEMWorkerSource(Le,Ne.source).loadTile(ft,st)}reloadTile(Le,Ne,st){const ft=this.enableTerrain?s.extend({enableTerrain:this.terrain},Ne):Ne;ft.projection=this.projections[Le]||this.defaultProjection,this.getWorkerSource(Le,Ne.type,Ne.source).reloadTile(ft,st)}abortTile(Le,Ne,st){this.getWorkerSource(Le,Ne.type,Ne.source).abortTile(Ne,st)}removeTile(Le,Ne,st){this.getWorkerSource(Le,Ne.type,Ne.source).removeTile(Ne,st)}removeSource(Le,Ne,st){if(!this.workerSources[Le]||!this.workerSources[Le][Ne.type]||!this.workerSources[Le][Ne.type][Ne.source])return;const ft=this.workerSources[Le][Ne.type][Ne.source];delete this.workerSources[Le][Ne.type][Ne.source],ft.removeSource!==void 0?ft.removeSource(Ne,st):st()}loadWorkerSource(Le,Ne,st){try{this.self.importScripts(Ne.url),st()}catch(ft){st(ft.toString())}}syncRTLPluginState(Le,Ne,st){try{s.plugin.setState(Ne);const ft=s.plugin.getPluginURL();if(s.plugin.isLoaded()&&!s.plugin.isParsed()&&ft!=null){this.self.importScripts(ft);const Et=s.plugin.isParsed();st(Et?void 0:new Error(`RTL Text Plugin failed to import scripts from ${ft}`),Et)}}catch(ft){st(ft.toString())}}getAvailableImages(Le){let Ne=this.availableImages[Le];return Ne||(Ne=[]),Ne}getLayerIndex(Le){let Ne=this.layerIndexes[Le];return Ne||(Ne=this.layerIndexes[Le]=new ee),Ne}getWorkerSource(Le,Ne,st){if(this.workerSources[Le]||(this.workerSources[Le]={}),this.workerSources[Le][Ne]||(this.workerSources[Le][Ne]={}),!this.workerSources[Le][Ne][st]){const ft={send:(Et,zt,Ot,Mt,Ut,hi)=>{this.actor.send(Et,zt,Ot,Le,Ut,hi)},scheduler:this.actor.scheduler};this.workerSources[Le][Ne][st]=new this.workerSourceTypes[Ne](ft,this.getLayerIndex(Le),this.getAvailableImages(Le),this.isSpriteLoaded[Le])}return this.workerSources[Le][Ne][st]}getDEMWorkerSource(Le,Ne){return this.demWorkerSources[Le]||(this.demWorkerSources[Le]={}),this.demWorkerSources[Le][Ne]||(this.demWorkerSources[Le][Ne]=new F),this.demWorkerSources[Le][Ne]}enforceCacheSizeLimit(Le,Ne){s.enforceCacheSizeLimit(Ne)}getWorkerPerformanceMetrics(Le,Ne,st){st(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Na(self)),Na}),p(["./shared"],function(s){function b(m,o){if(Array.isArray(m)){if(!Array.isArray(o)||m.length!==o.length)return!1;for(let d=0;d<m.length;d++)if(!b(m[d],o[d]))return!1;return!0}if(typeof m=="object"&&m!==null&&o!==null){if(typeof o!="object"||Object.keys(m).length!==Object.keys(o).length)return!1;for(const d in m)if(!b(m[d],o[d]))return!1;return!0}return m===o}var L=ee;function ee(m){return!function(o){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var _,w,E=new Blob([""],{type:"text/javascript"}),N=URL.createObjectURL(E);try{w=new Worker(N),_=!0}catch{_=!1}return w&&w.terminate(),URL.revokeObjectURL(N),_}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var _=document.createElement("canvas");_.width=_.height=1;var w=_.getContext("2d");if(!w)return!1;var E=w.getImageData(0,0,1,1);return E&&E.width===_.width}()?(F[d=o&&o.failIfMajorPerformanceCaveat]===void 0&&(F[d]=function(_){var w,E=function(N){var H=document.createElement("canvas"),le=Object.create(ee.webGLContextAttributes);return le.failIfMajorPerformanceCaveat=N,H.getContext("webgl",le)||H.getContext("experimental-webgl",le)}(_);if(!E)return!1;try{w=E.createShader(E.VERTEX_SHADER)}catch{return!1}return!(!w||E.isContextLost())&&(E.shaderSource(w,"void main() {}"),E.compileShader(w),E.getShaderParameter(w,E.COMPILE_STATUS)===!0)}(d)),F[d]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var d}(m)}var F={};function Z(m,o,d){const _=s.window.document.createElement(m);return o!==void 0&&(_.className=o),d&&d.appendChild(_),_}function ne(m,o,d){const _=s.window.document.createElementNS("http://www.w3.org/2000/svg",m);for(const w of Object.keys(o))_.setAttributeNS(null,w,o[w]);return d&&d.appendChild(_),_}ee.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const z=s.window.document&&s.window.document.documentElement.style,G=z&&z.userSelect!==void 0?"userSelect":"WebkitUserSelect";let ae;function B(){z&&G&&(ae=z[G],z[G]="none")}function P(){z&&G&&(z[G]=ae)}function V(m){m.preventDefault(),m.stopPropagation(),s.window.removeEventListener("click",V,!0)}function W(){s.window.addEventListener("click",V,!0),s.window.setTimeout(()=>{s.window.removeEventListener("click",V,!0)},0)}function R(m,o){const d=m.getBoundingClientRect();return X(m,d,o)}function se(m,o){const d=m.getBoundingClientRect(),_=[];for(let w=0;w<o.length;w++)_.push(X(m,d,o[w]));return _}function S(m){return s.window.InstallTrigger!==void 0&&m.button===2&&m.ctrlKey&&s.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:m.button}function X(m,o,d){const _=m.offsetWidth===o.width?1:m.offsetWidth/o.width;return new s.pointGeometry((d.clientX-o.left)*_,(d.clientY-o.top)*_)}function I(m,o){var d=o[0],_=o[1],w=o[2],E=o[3],N=d*E-w*_;return N?(m[0]=E*(N=1/N),m[1]=-_*N,m[2]=-w*N,m[3]=d*N,m):null}function $(m){const{userImage:o}=m;return!!(o&&o.render&&o.render())&&(m.data.replace(new Uint8Array(o.data.buffer)),!0)}class K extends s.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(o){if(this.loaded!==o&&(this.loaded=o,o)){for(const{ids:d,callback:_}of this.requestors)this._notify(d,_);this.requestors=[]}}hasImage(o){return!!this.getImage(o)}getImage(o){return this.images[o]}addImage(o,d){this._validate(o,d)&&(this.images[o]=d)}_validate(o,d){let _=!0;return this._validateStretch(d.stretchX,d.data&&d.data.width)||(this.fire(new s.ErrorEvent(new Error(`Image "${o}" has invalid "stretchX" value`))),_=!1),this._validateStretch(d.stretchY,d.data&&d.data.height)||(this.fire(new s.ErrorEvent(new Error(`Image "${o}" has invalid "stretchY" value`))),_=!1),this._validateContent(d.content,d)||(this.fire(new s.ErrorEvent(new Error(`Image "${o}" has invalid "content" value`))),_=!1),_}_validateStretch(o,d){if(!o)return!0;let _=0;for(const w of o){if(w[0]<_||w[1]<w[0]||d<w[1])return!1;_=w[1]}return!0}_validateContent(o,d){return!(o&&(o.length!==4||o[0]<0||d.data.width<o[0]||o[1]<0||d.data.height<o[1]||o[2]<0||d.data.width<o[2]||o[3]<0||d.data.height<o[3]||o[2]<o[0]||o[3]<o[1]))}updateImage(o,d){d.version=this.images[o].version+1,this.images[o]=d,this.updatedImages[o]=!0}removeImage(o){const d=this.images[o];delete this.images[o],delete this.patterns[o],d.userImage&&d.userImage.onRemove&&d.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(o,d){let _=!0;if(!this.isLoaded())for(const w of o)this.images[w]||(_=!1);this.isLoaded()||_?this._notify(o,d):this.requestors.push({ids:o,callback:d})}_notify(o,d){const _={};for(const w of o){this.images[w]||this.fire(new s.Event("styleimagemissing",{id:w}));const E=this.images[w];E?_[w]={data:E.data.clone(),pixelRatio:E.pixelRatio,sdf:E.sdf,version:E.version,stretchX:E.stretchX,stretchY:E.stretchY,content:E.content,hasRenderCallback:!!(E.userImage&&E.userImage.render)}:s.warnOnce(`Image "${w}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}d(null,_)}getPixelSize(){const{width:o,height:d}=this.atlasImage;return{width:o,height:d}}getPattern(o){const d=this.patterns[o],_=this.getImage(o);if(!_)return null;if(d&&d.position.version===_.version)return d.position;if(d)d.position.version=_.version;else{const w={w:_.data.width+2,h:_.data.height+2,x:0,y:0},E=new s.ImagePosition(w,_);this.patterns[o]={bin:w,position:E}}return this._updatePatternAtlas(),this.patterns[o].position}bind(o){const d=o.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new s.Texture(o,this.atlasImage,d.RGBA),this.atlasTexture&&this.atlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE)}_updatePatternAtlas(){const o=[];for(const E in this.patterns)o.push(this.patterns[E].bin);const{w:d,h:_}=s.potpack(o),w=this.atlasImage;w.resize({width:d||1,height:_||1});for(const E in this.patterns){const{bin:N}=this.patterns[E],H=N.x+1,le=N.y+1,ve=this.images[E].data,ye=ve.width,Pe=ve.height;s.RGBAImage.copy(ve,w,{x:0,y:0},{x:H,y:le},{width:ye,height:Pe}),s.RGBAImage.copy(ve,w,{x:0,y:Pe-1},{x:H,y:le-1},{width:ye,height:1}),s.RGBAImage.copy(ve,w,{x:0,y:0},{x:H,y:le+Pe},{width:ye,height:1}),s.RGBAImage.copy(ve,w,{x:ye-1,y:0},{x:H-1,y:le},{width:1,height:Pe}),s.RGBAImage.copy(ve,w,{x:0,y:0},{x:H+ye,y:le},{width:1,height:Pe})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(o){for(const d of o){if(this.callbackDispatchedThisFrame[d])continue;this.callbackDispatchedThisFrame[d]=!0;const _=this.images[d];$(_)&&this.updateImage(d,_)}}}const q=new s.Properties({anchor:new s.DataConstantProperty(s.spec.light.anchor),position:new class{constructor(){this.specification=s.spec.light.position}possiblyEvaluate(m,o){return function([d,_,w]){const E=s.degToRad(_+90),N=s.degToRad(w);return{x:d*Math.cos(E)*Math.sin(N),y:d*Math.sin(E)*Math.sin(N),z:d*Math.cos(N),azimuthal:_,polar:w}}(m.expression.evaluate(o))}interpolate(m,o,d){return{x:s.number(m.x,o.x,d),y:s.number(m.y,o.y,d),z:s.number(m.z,o.z,d),azimuthal:s.number(m.azimuthal,o.azimuthal,d),polar:s.number(m.polar,o.polar,d)}}},color:new s.DataConstantProperty(s.spec.light.color),intensity:new s.DataConstantProperty(s.spec.light.intensity)}),J="-transition";class C extends s.Evented{constructor(o){super(),this._transitionable=new s.Transitionable(q),this.setLight(o),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(o,d={}){if(!this._validate(s.validateLight,o,d))for(const _ in o){const w=o[_];s.endsWith(_,J)?this._transitionable.setTransition(_.slice(0,-J.length),w):this._transitionable.setValue(_,w)}}updateTransitions(o){this._transitioning=this._transitionable.transitioned(o,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(o){this.properties=this._transitioning.possiblyEvaluate(o)}_validate(o,d,_){return(!_||_.validate!==!1)&&s.emitValidationErrors(this,o.call(s.validateStyle,s.extend({value:d,style:{glyphs:!0,sprite:!0},styleSpec:s.spec})))}}const A=new s.Properties({source:new s.DataConstantProperty(s.spec.terrain.source),exaggeration:new s.DataConstantProperty(s.spec.terrain.exaggeration)}),O="-transition";class Q extends s.Evented{constructor(o,d){super(),this._transitionable=new s.Transitionable(A),this.set(o),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=d}get(){return this._transitionable.serialize()}set(o){for(const d in o){const _=o[d];s.endsWith(d,O)?this._transitionable.setTransition(d.slice(0,-O.length),_):this._transitionable.setValue(d,_)}}updateTransitions(o){this._transitioning=this._transitionable.transitioned(o,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(o){this.properties=this._transitioning.possiblyEvaluate(o)}}function fe(m,o,d,_){const w=s.smoothstep(45,65,d),[E,N]=Te(m,_),H=s.length(o);let le=1-Math.min(1,Math.exp((H-E)/(N-E)*-6));return le*=le*le,le=Math.min(1,1.00747*le),le*w*m.alpha}function Te(m,o){const d=.5/Math.tan(.5*o);return[m.range[0]+d,m.range[1]+d]}const oe=new s.Properties({range:new s.DataConstantProperty(s.spec.fog.range),color:new s.DataConstantProperty(s.spec.fog.color),"high-color":new s.DataConstantProperty(s.spec.fog["high-color"]),"space-color":new s.DataConstantProperty(s.spec.fog["space-color"]),"horizon-blend":new s.DataConstantProperty(s.spec.fog["horizon-blend"]),"star-intensity":new s.DataConstantProperty(s.spec.fog["star-intensity"])}),Me="-transition";class We extends s.Evented{constructor(o,d){super(),this._transitionable=new s.Transitionable(oe),this.set(o),this._transitioning=this._transitionable.untransitioned(),this._transform=d}get state(){const o=this._transform,d=o.projection.name==="globe",_=s.globeToMercatorTransition(o.zoom),w=this.properties.get("range"),E=[.5,3];return{range:d?[s.number(E[0],w[0],_),s.number(E[1],w[1],_)]:w,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(o,d={}){if(!this._validate(s.validateFog,o,d)){for(const _ of Object.keys(s.spec.fog))o&&o[_]===void 0&&(o[_]=s.spec.fog[_].default);for(const _ in o){const w=o[_];s.endsWith(_,Me)?this._transitionable.setTransition(_.slice(0,-Me.length),w):this._transitionable.setValue(_,w)}}}getOpacity(o){if(!this._transform.projection.supportsFog)return 0;const d=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:s.smoothstep(45,65,o))*d.a}getOpacityAtLatLng(o,d){return this._transform.projection.supportsFog?function(_,w,E){const N=s.MercatorCoordinate.fromLngLat(w),H=E.elevation?E.elevation.getAtPointOrZero(N):0,le=[N.x,N.y,H];return s.transformMat4(le,le,E.mercatorFogMatrix),fe(_,le,E.pitch,E._fov)}(this.state,o,d):0}getFovAdjustedRange(o){return this._transform.projection.supportsFog?Te(this.state,o):[0,1]}updateTransitions(o){this._transitioning=this._transitionable.transitioned(o,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(o){this.properties=this._transitioning.possiblyEvaluate(o)}_validate(o,d,_){return(!_||_.validate!==!1)&&s.emitValidationErrors(this,o.call(s.validateStyle,s.extend({value:d,style:{glyphs:!0,sprite:!0},styleSpec:s.spec})))}}class Qe{constructor(o,d){this.workerPool=o,this.actors=[],this.currentActor=0,this.id=s.uniqueId();const _=this.workerPool.acquire(this.id);for(let w=0;w<_.length;w++){const E=new Qe.Actor(_[w],d,this.id);E.name=`Worker ${w}`,this.actors.push(E)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(o,d,_){s.asyncAll(this.actors,(w,E)=>{w.send(o,d,E)},_=_||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(o=>{o.remove()}),this.actors=[],this.workerPool.release(this.id)}}function ie(m,o,d){return o*(s.EXTENT/(m.tileSize*Math.pow(2,d-m.tileID.overscaledZ)))}Qe.Actor=s.Actor;class ce{constructor(o,d,_,w){this.screenBounds=o,this.cameraPoint=d,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=_,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,w)}static createFromScreenPoints(o,d){let _,w;if(o instanceof s.pointGeometry||typeof o[0]=="number"){const E=s.pointGeometry.convert(o);_=[E],w=d.isPointAboveHorizon(E)}else{const E=s.pointGeometry.convert(o[0]),N=s.pointGeometry.convert(o[1]);_=[E,N],w=s.polygonizeBounds(E,N).every(H=>d.isPointAboveHorizon(H))}return new ce(_,d.getCameraPoint(),w,d)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(o){return s.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],o)}bufferedCameraGeometry(o){const d=this.screenBounds[0],_=this.screenBounds.length===1?this.screenBounds[0].add(new s.pointGeometry(1,1)):this.screenBounds[1],w=s.polygonizeBounds(d,_,0,!1);return this.cameraPoint.y>_.y&&(this.cameraPoint.x>d.x&&this.cameraPoint.x<_.x?w.splice(3,0,this.cameraPoint):this.cameraPoint.x>=_.x?w[2]=this.cameraPoint:this.cameraPoint.x<=d.x&&(w[3]=this.cameraPoint)),s.bufferConvexPolygon(w,o)}bufferedCameraGeometryGlobe(o){const d=this.screenBounds[0],_=this.screenBounds.length===1?this.screenBounds[0].add(new s.pointGeometry(1,1)):this.screenBounds[1],w=s.polygonizeBounds(d,_,o),E=this.cameraPoint.clone();switch(3*((E.y>d.y)+(E.y>_.y))+((E.x>d.x)+(E.x>_.x))){case 0:w[0]=E,w[4]=E.clone();break;case 1:w.splice(1,0,E);break;case 2:w[1]=E;break;case 3:w.splice(4,0,E);break;case 5:w.splice(2,0,E);break;case 6:w[3]=E;break;case 7:w.splice(3,0,E);break;case 8:w[2]=E}return w}containsTile(o,d,_,w=0){const E=o.queryPadding/d._pixelsPerMercatorPixel+1,N=_?this._bufferedCameraMercator(E,d):this._bufferedScreenMercator(E,d);let H=o.tileID.wrap+(N.unwrapped?w:0);const le=N.polygon.map(et=>s.getTilePoint(o.tileTransform,et,H));if(!s.polygonIntersectsBox(le,0,0,s.EXTENT,s.EXTENT))return;H=o.tileID.wrap+(this.screenGeometryMercator.unwrapped?w:0);const ve=this.screenGeometryMercator.polygon.map(et=>s.getTileVec3(o.tileTransform,et,H)),ye=ve.map(et=>new s.pointGeometry(et[0],et[1])),Pe=d.getFreeCameraOptions().position||new s.MercatorCoordinate(0,0,0),$e=s.getTileVec3(o.tileTransform,Pe,H),Ze=ve.map(et=>{const je=s.sub(et,et,$e);return s.normalize(je,je),new s.Ray($e,je)}),Ke=ie(o,1,d.zoom)*d._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:ye,tilespaceRays:Ze,bufferedTilespaceGeometry:le,bufferedTilespaceBounds:(Je=s.getBounds(le),Je.min.x=s.clamp(Je.min.x,0,s.EXTENT),Je.min.y=s.clamp(Je.min.y,0,s.EXTENT),Je.max.x=s.clamp(Je.max.x,0,s.EXTENT),Je.max.y=s.clamp(Je.max.y,0,s.EXTENT),Je),tile:o,tileID:o.tileID,pixelToTileUnitsFactor:Ke};var Je}_bufferedScreenMercator(o,d){const _=Be(o);if(this._screenRaycastCache[_])return this._screenRaycastCache[_];{let w;return w=d.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(o),d):{polygon:this.bufferedScreenGeometry(o).map(E=>d.pointCoordinate3D(E)),unwrapped:!0},this._screenRaycastCache[_]=w,w}}_bufferedCameraMercator(o,d){const _=Be(o);if(this._cameraRaycastCache[_])return this._cameraRaycastCache[_];{let w;return w=d.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(o),d):{polygon:this.bufferedCameraGeometry(o).map(E=>d.pointCoordinate3D(E)),unwrapped:!0},this._cameraRaycastCache[_]=w,w}}_projectAndResample(o,d){const _=function(E,N){const H=s.multiply([],N.pixelMatrix,N.globeMatrix),le=[0,-s.GLOBE_RADIUS,0,1],ve=[0,s.GLOBE_RADIUS,0,1],ye=[0,0,0,1];s.transformMat4$1(le,le,H),s.transformMat4$1(ve,ve,H),s.transformMat4$1(ye,ye,H);const Pe=new s.pointGeometry(le[0]/le[3],le[1]/le[3]),$e=new s.pointGeometry(ve[0]/ve[3],ve[1]/ve[3]),Ze=s.polygonContainsPoint(E,Pe)&&le[3]<ye[3],Ke=s.polygonContainsPoint(E,$e)&&ve[3]<ye[3];if(!Ze&&!Ke)return null;const Je=function(Ct,Rt,Bt){for(let Ht=1;Ht<Ct.length;Ht++){const Si=Ce(Rt.pointCoordinate3D(Ct[Ht-1]).x),Nt=Ce(Rt.pointCoordinate3D(Ct[Ht]).x);if(Bt<0){if(Si<Nt)return{idx:Ht,t:-Si/(Nt-1-Si)}}else if(Nt<Si)return{idx:Ht,t:(1-Si)/(Nt+1-Si)}}return null}(E,N,Ze?-1:1);if(!Je)return null;const{idx:et,t:je}=Je;let ut=et>1?pe(E.slice(0,et),N):[],ct=et<E.length?pe(E.slice(et),N):[];ut=ut.map(Ct=>new s.pointGeometry(Ce(Ct.x),Ct.y)),ct=ct.map(Ct=>new s.pointGeometry(Ce(Ct.x),Ct.y));const dt=[...ut];dt.length===0&&dt.push(ct[ct.length-1]);const wt=s.number(dt[dt.length-1].y,(ct.length===0?ut[0]:ct[0]).y,je);let vt;return vt=Ze?[new s.pointGeometry(0,wt),new s.pointGeometry(0,0),new s.pointGeometry(1,0),new s.pointGeometry(1,wt)]:[new s.pointGeometry(1,wt),new s.pointGeometry(1,1),new s.pointGeometry(0,1),new s.pointGeometry(0,wt)],dt.push(...vt),ct.length===0?dt.push(ut[0]):dt.push(...ct),{polygon:dt.map(Ct=>new s.MercatorCoordinate(Ct.x,Ct.y)),unwrapped:!1}}(o,d);if(_)return _;const w=function(E,N){let H=!1,le=-1/0,ve=0;for(let Pe=0;Pe<E.length-1;Pe++)E[Pe].x>le&&(le=E[Pe].x,ve=Pe);for(let Pe=0;Pe<E.length-1;Pe++){const $e=(ve+Pe)%(E.length-1),Ze=E[$e],Ke=E[$e+1];Math.abs(Ze.x-Ke.x)>.5&&(Ze.x<Ke.x?(Ze.x+=1,$e===0&&(E[E.length-1].x+=1)):(Ke.x+=1,$e+1===E.length-1&&(E[0].x+=1)),H=!0)}const ye=s.mercatorXfromLng(N.center.lng);return H&&ye<Math.abs(ye-1)&&E.forEach(Pe=>{Pe.x-=1}),{polygon:E,unwrapped:H}}(pe(o,d).map(E=>new s.pointGeometry(Ce(E.x),E.y)),d);return{polygon:w.polygon.map(E=>new s.MercatorCoordinate(E.x,E.y)),unwrapped:w.unwrapped}}}function pe(m,o){return s.resample(m,d=>{const _=o.pointCoordinate3D(d);d.x=_.x,d.y=_.y},1/256)}function Ce(m){return m<0?1+m%1:m%1}function Be(m){return 100*m|0}function re(m,o,d,_,w){const E=function(N,H){if(N)return w(N);if(H){m.url&&H.tiles&&m.tiles&&delete m.tiles;const le=s.pick(s.extend(H,m),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);H.vector_layers&&(le.vectorLayers=H.vector_layers,le.vectorLayerIds=le.vectorLayers.map(ve=>ve.id)),le.tiles=o.canonicalizeTileset(le,m.url),w(null,le)}};return m.url?s.getJSON(o.transformRequest(o.normalizeSourceURL(m.url,null,d,_),s.ResourceType.Source),E):s.exported.frame(()=>E(null,m))}class xe{constructor(o,d,_){this.bounds=s.LngLatBounds.convert(this.validateBounds(o)),this.minzoom=d||0,this.maxzoom=_||24}validateBounds(o){return Array.isArray(o)&&o.length===4?[Math.max(-180,o[0]),Math.max(-90,o[1]),Math.min(180,o[2]),Math.min(90,o[3])]:[-180,-90,180,90]}contains(o){const d=Math.pow(2,o.z),_=Math.floor(s.mercatorXfromLng(this.bounds.getWest())*d),w=Math.floor(s.mercatorYfromLat(this.bounds.getNorth())*d),E=Math.ceil(s.mercatorXfromLng(this.bounds.getEast())*d),N=Math.ceil(s.mercatorYfromLat(this.bounds.getSouth())*d);return o.x>=_&&o.x<E&&o.y>=w&&o.y<N}}class _e{constructor(o,d,_){this.context=o;const w=o.gl;this.buffer=w.createBuffer(),this.dynamicDraw=!!_,this.context.unbindVAO(),o.bindElementBuffer.set(this.buffer),w.bufferData(w.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?w.DYNAMIC_DRAW:w.STATIC_DRAW),this.dynamicDraw||d.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(o){const d=this.context.gl;this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,o.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Y={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class de{constructor(o,d,_,w){this.length=d.length,this.attributes=_,this.itemSize=d.bytesPerElement,this.dynamicDraw=w,this.context=o;const E=o.gl;this.buffer=E.createBuffer(),o.bindVertexBuffer.set(this.buffer),E.bufferData(E.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?E.DYNAMIC_DRAW:E.STATIC_DRAW),this.dynamicDraw||d.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(o){const d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,o.arrayBuffer)}enableAttributes(o,d){for(let _=0;_<this.attributes.length;_++){const w=d.attributes[this.attributes[_].name];w!==void 0&&o.enableVertexAttribArray(w)}}setVertexAttribPointers(o,d,_){for(let w=0;w<this.attributes.length;w++){const E=this.attributes[w],N=d.attributes[E.name];N!==void 0&&o.vertexAttribPointer(N,E.components,o[Y[E.type]],!1,this.itemSize,E.offset+this.itemSize*(_||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class me{constructor(o){this.gl=o.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(o){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class ke extends me{getDefault(){return s.Color.transparent}set(o){const d=this.current;(o.r!==d.r||o.g!==d.g||o.b!==d.b||o.a!==d.a||this.dirty)&&(this.gl.clearColor(o.r,o.g,o.b,o.a),this.current=o,this.dirty=!1)}}class Ie extends me{getDefault(){return 1}set(o){(o!==this.current||this.dirty)&&(this.gl.clearDepth(o),this.current=o,this.dirty=!1)}}class Ve extends me{getDefault(){return 0}set(o){(o!==this.current||this.dirty)&&(this.gl.clearStencil(o),this.current=o,this.dirty=!1)}}class it extends me{getDefault(){return[!0,!0,!0,!0]}set(o){const d=this.current;(o[0]!==d[0]||o[1]!==d[1]||o[2]!==d[2]||o[3]!==d[3]||this.dirty)&&(this.gl.colorMask(o[0],o[1],o[2],o[3]),this.current=o,this.dirty=!1)}}class tt extends me{getDefault(){return!0}set(o){(o!==this.current||this.dirty)&&(this.gl.depthMask(o),this.current=o,this.dirty=!1)}}class ht extends me{getDefault(){return 255}set(o){(o!==this.current||this.dirty)&&(this.gl.stencilMask(o),this.current=o,this.dirty=!1)}}class Ee extends me{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(o){const d=this.current;(o.func!==d.func||o.ref!==d.ref||o.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(o.func,o.ref,o.mask),this.current=o,this.dirty=!1)}}class De extends me{getDefault(){const o=this.gl;return[o.KEEP,o.KEEP,o.KEEP]}set(o){const d=this.current;(o[0]!==d[0]||o[1]!==d[1]||o[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(o[0],o[1],o[2]),this.current=o,this.dirty=!1)}}class Fe extends me{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const d=this.gl;o?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=o,this.dirty=!1}}class qe extends me{getDefault(){return[0,1]}set(o){const d=this.current;(o[0]!==d[0]||o[1]!==d[1]||this.dirty)&&(this.gl.depthRange(o[0],o[1]),this.current=o,this.dirty=!1)}}class He extends me{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const d=this.gl;o?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=o,this.dirty=!1}}class xt extends me{getDefault(){return this.gl.LESS}set(o){(o!==this.current||this.dirty)&&(this.gl.depthFunc(o),this.current=o,this.dirty=!1)}}class jt extends me{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const d=this.gl;o?d.enable(d.BLEND):d.disable(d.BLEND),this.current=o,this.dirty=!1}}class Vt extends me{getDefault(){const o=this.gl;return[o.ONE,o.ZERO]}set(o){const d=this.current;(o[0]!==d[0]||o[1]!==d[1]||this.dirty)&&(this.gl.blendFunc(o[0],o[1]),this.current=o,this.dirty=!1)}}class vi extends me{getDefault(){return s.Color.transparent}set(o){const d=this.current;(o.r!==d.r||o.g!==d.g||o.b!==d.b||o.a!==d.a||this.dirty)&&(this.gl.blendColor(o.r,o.g,o.b,o.a),this.current=o,this.dirty=!1)}}class ri extends me{getDefault(){return this.gl.FUNC_ADD}set(o){(o!==this.current||this.dirty)&&(this.gl.blendEquation(o),this.current=o,this.dirty=!1)}}class bi extends me{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const d=this.gl;o?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=o,this.dirty=!1}}class Gi extends me{getDefault(){return this.gl.BACK}set(o){(o!==this.current||this.dirty)&&(this.gl.cullFace(o),this.current=o,this.dirty=!1)}}class ki extends me{getDefault(){return this.gl.CCW}set(o){(o!==this.current||this.dirty)&&(this.gl.frontFace(o),this.current=o,this.dirty=!1)}}class Ni extends me{getDefault(){return null}set(o){(o!==this.current||this.dirty)&&(this.gl.useProgram(o),this.current=o,this.dirty=!1)}}class Ai extends me{getDefault(){return this.gl.TEXTURE0}set(o){(o!==this.current||this.dirty)&&(this.gl.activeTexture(o),this.current=o,this.dirty=!1)}}class Tn extends me{getDefault(){const o=this.gl;return[0,0,o.drawingBufferWidth,o.drawingBufferHeight]}set(o){const d=this.current;(o[0]!==d[0]||o[1]!==d[1]||o[2]!==d[2]||o[3]!==d[3]||this.dirty)&&(this.gl.viewport(o[0],o[1],o[2],o[3]),this.current=o,this.dirty=!1)}}class In extends me{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,o),this.current=o,this.dirty=!1}}class Hn extends me{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,o),this.current=o,this.dirty=!1}}class hs extends me{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const d=this.gl;d.bindTexture(d.TEXTURE_2D,o),this.current=o,this.dirty=!1}}class nr extends me{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,o),this.current=o,this.dirty=!1}}class rr extends me{getDefault(){return null}set(o){const d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,o),this.current=o,this.dirty=!1}}class _r extends me{constructor(o){super(o),this.vao=o.extVertexArrayObject}getDefault(){return null}set(o){this.vao&&(o!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(o),this.current=o,this.dirty=!1)}}class Mc extends me{getDefault(){return 4}set(o){if(o===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,o),this.current=o,this.dirty=!1}}class Ac extends me{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o),this.current=o,this.dirty=!1}}class Es extends me{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,o),this.current=o,this.dirty=!1}}class is extends me{constructor(o,d){super(o),this.context=o,this.parent=d}getDefault(){return null}}class Ls extends is{setDirty(){this.dirty=!0}set(o){if(o===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,o,0),this.current=o,this.dirty=!1}}class Fa extends is{attachment(){return this.gl.DEPTH_ATTACHMENT}set(o){if(o===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,this.attachment(),d.RENDERBUFFER,o),this.current=o,this.dirty=!1}}class kc extends Fa{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class Na{constructor(o,d,_,w){this.context=o,this.width=d,this.height=_;const E=this.framebuffer=o.gl.createFramebuffer();this.colorAttachment=new Ls(o,E),w&&(this.depthAttachment=new Fa(o,E))}destroy(){const o=this.context.gl,d=this.colorAttachment.get();if(d&&o.deleteTexture(d),this.depthAttachment){const _=this.depthAttachment.get();_&&o.deleteRenderbuffer(_)}o.deleteFramebuffer(this.framebuffer)}}class rt{constructor(o,d=!1){if(this.gl=o,this.isWebGL2=d,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),d){const _=o;this.extVertexArrayObject={createVertexArrayOES:_.createVertexArray.bind(o),deleteVertexArrayOES:_.deleteVertexArray.bind(o),bindVertexArrayOES:_.bindVertexArray.bind(o)}}this.clearColor=new ke(this),this.clearDepth=new Ie(this),this.clearStencil=new Ve(this),this.colorMask=new it(this),this.depthMask=new tt(this),this.stencilMask=new ht(this),this.stencilFunc=new Ee(this),this.stencilOp=new De(this),this.stencilTest=new Fe(this),this.depthRange=new qe(this),this.depthTest=new He(this),this.depthFunc=new xt(this),this.blend=new jt(this),this.blendFunc=new Vt(this),this.blendColor=new vi(this),this.blendEquation=new ri(this),this.cullFace=new bi(this),this.cullFaceSide=new Gi(this),this.frontFace=new ki(this),this.program=new Ni(this),this.activeTexture=new Ai(this),this.viewport=new Tn(this),this.bindFramebuffer=new In(this),this.bindRenderbuffer=new Hn(this),this.bindTexture=new hs(this),this.bindVertexBuffer=new nr(this),this.bindElementBuffer=new rr(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new _r(this),this.pixelStoreUnpack=new Mc(this),this.pixelStoreUnpackPremultiplyAlpha=new Ac(this),this.pixelStoreUnpackFlipY=new Es(this),this.extTextureFilterAnisotropic=o.getExtension("EXT_texture_filter_anisotropic")||o.getExtension("MOZ_EXT_texture_filter_anisotropic")||o.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=o.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=o.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=o.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=o.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),d||(this.extTextureHalfFloat=o.getExtension("OES_texture_half_float")),(d||this.extTextureHalfFloat&&o.getExtension("OES_texture_half_float_linear"))&&(this.extRenderToTextureHalfFloat=o.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=d||o.getExtension("OES_standard_derivatives"),this.extTimerQuery=o.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(o,d){return new _e(this,o,d)}createVertexBuffer(o,d,_){return new de(this,o,d,_)}createRenderbuffer(o,d,_){const w=this.gl,E=w.createRenderbuffer();return this.bindRenderbuffer.set(E),w.renderbufferStorage(w.RENDERBUFFER,o,d,_),this.bindRenderbuffer.set(null),E}createFramebuffer(o,d,_){return new Na(this,o,d,_)}clear({color:o,depth:d,stencil:_}){const w=this.gl;let E=0;o&&(E|=w.COLOR_BUFFER_BIT,this.clearColor.set(o),this.colorMask.set([!0,!0,!0,!0])),d!==void 0&&(E|=w.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(d),this.depthMask.set(!0)),_!==void 0&&(E|=w.STENCIL_BUFFER_BIT,this.clearStencil.set(_),this.stencilMask.set(255)),w.clear(E)}setCullFace(o){o.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(o.mode),this.frontFace.set(o.frontFace))}setDepthMode(o){o.func!==this.gl.ALWAYS||o.mask?(this.depthTest.set(!0),this.depthFunc.set(o.func),this.depthMask.set(o.mask),this.depthRange.set(o.range)):this.depthTest.set(!1)}setStencilMode(o){o.test.func!==this.gl.ALWAYS||o.mask?(this.stencilTest.set(!0),this.stencilMask.set(o.mask),this.stencilOp.set([o.fail,o.depthFail,o.pass]),this.stencilFunc.set({func:o.test.func,ref:o.ref,mask:o.test.mask})):this.stencilTest.set(!1)}setColorMode(o){b(o.blendFunction,s.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(o.blendFunction),this.blendColor.set(o.blendColor)),this.colorMask.set(o.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Le extends s.Evented{constructor(o,d,_,w){if(super(),this.id=o,this.dispatcher=_,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.extend(this,s.pick(d,["url","scheme","tileSize","promoteId"])),this._options=s.extend({type:"vector"},d),this._collectResourceTiming=d.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(w),this._tileWorkers={},this._deduped=new s.DedupedRequest}load(o){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"}));const d=Array.isArray(this.map._language)?this.map._language.join():this.map._language,_=this.map._worldview;this._tileJSONRequest=re(this._options,this.map._requestManager,d,_,(w,E)=>{this._tileJSONRequest=null,this._loaded=!0,w?(d&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${d}`),_&&_.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${_}`),this.fire(new s.ErrorEvent(w))):E&&(s.extend(this,E),E.bounds&&(this.tileBounds=new xe(E.bounds,this.minzoom,this.maxzoom)),s.postTurnstileEvent(E.tiles,this.map._requestManager._customAccessToken),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))),o&&o(w)})}loaded(){return this._loaded}hasTile(o){return!this.tileBounds||this.tileBounds.contains(o.canonical)}onAdd(o){this.map=o,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(o){return this._options.tiles=o,this.reload(),this}setUrl(o){return this.url=o,this._options.url=o,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return s.extend({},this._options)}loadTile(o,d){const _=this.map._requestManager.normalizeTileURL(o.tileID.canonical.url(this.tiles,this.scheme)),w={request:this.map._requestManager.transformRequest(_,s.ResourceType.Tile),data:void 0,uid:o.uid,tileID:o.tileID,tileZoom:o.tileZoom,zoom:o.tileID.overscaledZ,tileSize:this.tileSize*o.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:s.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:o.isSymbolTile};if(w.request.collectResourceTiming=this._collectResourceTiming,o.actor&&o.state!=="expired")o.state==="loading"?o.reloadCallback=d:o.request=o.actor.send("reloadTile",w,E.bind(this));else if(o.actor=this._tileWorkers[_]=this._tileWorkers[_]||this.dispatcher.getActor(),this.dispatcher.ready)o.request=o.actor.send("loadTile",w,E.bind(this),void 0,!0);else{const N=s.loadVectorTile.call({deduped:this._deduped},w,(H,le)=>{H||!le?E.call(this,H):(w.data={cacheControl:le.cacheControl,expires:le.expires,rawData:le.rawData.slice(0)},o.actor&&o.actor.send("loadTile",w,E.bind(this),void 0,!0))},!0);o.request={cancel:N}}function E(N,H){return delete o.request,o.aborted?d(null):N&&N.status!==404?d(N):(H&&H.resourceTiming&&(o.resourceTiming=H.resourceTiming),this.map._refreshExpiredTiles&&H&&o.setExpiryData(H),o.loadVectorData(H,this.map.painter),s.cacheEntryPossiblyAdded(this.dispatcher),d(null),void(o.reloadCallback&&(this.loadTile(o,o.reloadCallback),o.reloadCallback=null)))}}abortTile(o){o.request&&(o.request.cancel(),delete o.request),o.actor&&o.actor.send("abortTile",{uid:o.uid,type:this.type,source:this.id})}unloadTile(o){o.unloadVectorData(),o.actor&&o.actor.send("removeTile",{uid:o.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class Ne extends s.Evented{constructor(o,d,_,w){super(),this.id=o,this.dispatcher=_,this.setEventedParent(w),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.extend({type:"raster"},d),s.extend(this,s.pick(d,["url","scheme","tileSize"]))}load(o){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=re(this._options,this.map._requestManager,null,null,(d,_)=>{this._tileJSONRequest=null,this._loaded=!0,d?this.fire(new s.ErrorEvent(d)):_&&(s.extend(this,_),_.bounds&&(this.tileBounds=new xe(_.bounds,this.minzoom,this.maxzoom)),s.postTurnstileEvent(_.tiles),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))),o&&o(d)})}loaded(){return this._loaded}onAdd(o){this.map=o,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(o){return this._options.tiles=o,this.reload(),this}setUrl(o){return this.url=o,this._options.url=o,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return s.extend({},this._options)}hasTile(o){return!this.tileBounds||this.tileBounds.contains(o.canonical)}loadTile(o,d){const _=s.exported.devicePixelRatio>=2,w=this.map._requestManager.normalizeTileURL(o.tileID.canonical.url(this.tiles,this.scheme),_,this.tileSize);o.request=s.getImage(this.map._requestManager.transformRequest(w,s.ResourceType.Tile),(E,N,H,le)=>(delete o.request,o.aborted?(o.state="unloaded",d(null)):E?(o.state="errored",d(E)):N?(this.map._refreshExpiredTiles&&o.setExpiryData({cacheControl:H,expires:le}),o.setTexture(N,this.map.painter),o.state="loaded",s.cacheEntryPossiblyAdded(this.dispatcher),void d(null)):d(null)))}static loadTileData(o,d,_){o.setTexture(d,_)}static unloadTileData(o,d){o.texture&&d.saveTileTexture(o.texture)}abortTile(o,d){o.request&&(o.request.cancel(),delete o.request),d()}unloadTile(o,d){o.texture&&this.map.painter.saveTileTexture(o.texture),d()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}let st;function ft(m,o,d,_,w,E,N,H){const le=[m,d,w,o,_,E,1,1,1],ve=[N,H,1],ye=s.adjoint([],le),[Pe,$e,Ze]=s.transformMat3(ve,ve,s.transpose(ye,ye));return s.multiply$1(le,[Pe,0,0,0,$e,0,0,0,Ze],le)}class Et extends s.Evented{constructor(o,d,_,w){super(),this.id=o,this.dispatcher=_,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(w),this.options=d,this._dirty=!1}load(o,d){this._loaded=d||!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=s.getImage(this.map._requestManager.transformRequest(this.url,s.ResourceType.Image),(_,w)=>{if(this._imageRequest=null,this._loaded=!0,_)this.fire(new s.ErrorEvent(_));else if(w){const{HTMLImageElement:E}=s.window;this.image=w instanceof E?s.exported.getImageData(w):w,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,o&&(this.coordinates=o),this._finishLoading()}})}loaded(){return this._loaded}updateImage(o){return this.image&&o.url?(this._imageRequest&&o.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=o.url,this.load(o.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(o){this.map=o,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(o){this.coordinates=o,this._boundsArray=void 0;const d=o.map(s.MercatorCoordinate.fromLngLat);return this.tileID=function(_){let w=1/0,E=1/0,N=-1/0,H=-1/0;for(const Pe of _)w=Math.min(w,Pe.x),E=Math.min(E,Pe.y),N=Math.max(N,Pe.x),H=Math.max(H,Pe.y);const le=Math.max(N-w,H-E),ve=Math.max(0,Math.floor(-Math.log(le)/Math.LN2)),ye=Math.pow(2,ve);return new s.CanonicalTileID(ve,Math.floor((w+N)/2*ye),Math.floor((E+H)/2*ye))}(d),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(o){for(const le in this.tiles){const ve=this.tiles[le];ve.state!=="loaded"&&(ve.state="loaded",ve.texture=this.texture)}if(this._boundsArray)return;const d=s.tileTransform(this.tileID,this.map.transform.projection),[_,w,E,N]=this.coordinates.map(le=>{const ve=d.projection.project(le[0],le[1]);return s.getTilePoint(d,ve)._round()});this.perspectiveTransform=function(le,ve,ye,Pe,$e,Ze,Ke,Je,et,je){const ut=ft(0,0,le,0,0,ve,le,ve),ct=ft(ye,Pe,$e,Ze,Ke,Je,et,je);return s.multiply$1(ct,s.adjoint(ut,ut),ct),[ct[6]/ct[8]*le/s.EXTENT,ct[7]/ct[8]*ve/s.EXTENT]}(this.width,this.height,_.x,_.y,w.x,w.y,N.x,N.y,E.x,E.y);const H=this._boundsArray=new s.StructArrayLayout4i8;H.emplaceBack(_.x,_.y,0,0),H.emplaceBack(w.x,w.y,s.EXTENT,0),H.emplaceBack(N.x,N.y,0,s.EXTENT),H.emplaceBack(E.x,E.y,s.EXTENT,s.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=o.createVertexBuffer(H,s.boundsAttributes.members),this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const o=this.map.painter.context,d=o.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new s.Texture(o,this.image,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(o)}loadTile(o,d){this.tileID&&this.tileID.equals(o.tileID.canonical)?(this.tiles[String(o.tileID.wrap)]=o,o.buckets={},d(null)):(o.state="errored",d(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const zt={vector:Le,raster:Ne,"raster-dem":class extends Ne{constructor(m,o,d,_){super(m,o,d,_),this.type="raster-dem",this.maxzoom=22,this._options=s.extend({type:"raster-dem"},o),this.encoding=o.encoding||"mapbox"}loadTile(m,o){const d=this.map._requestManager.normalizeTileURL(m.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function _(w,E){w&&(m.state="errored",o(w)),E&&(m.dem=E,m.dem.onDeserialize(),m.needsHillshadePrepare=!0,m.needsDEMTextureUpload=!0,m.state="loaded",o(null))}m.request=s.getImage(this.map._requestManager.transformRequest(d,s.ResourceType.Tile),function(w,E,N,H){if(delete m.request,m.aborted)m.state="unloaded",o(null);else if(w)m.state="errored",o(w);else if(E){this.map._refreshExpiredTiles&&m.setExpiryData({cacheControl:N,expires:H});const le=s.window.ImageBitmap&&E instanceof s.window.ImageBitmap&&(st==null&&(st=s.window.OffscreenCanvas&&new s.window.OffscreenCanvas(1,1).getContext("2d")&&typeof s.window.createImageBitmap=="function"),st),ve=1-(E.width-s.prevPowerOfTwo(E.width))/2;ve<1||m.neighboringTiles||(m.neighboringTiles=this._getNeighboringTiles(m.tileID));const ye=le?E:s.exported.getImageData(E,ve),Pe={uid:m.uid,coord:m.tileID,source:this.id,rawImageData:ye,encoding:this.encoding,padding:ve};m.actor&&m.state!=="expired"||(m.actor=this.dispatcher.getActor(),m.actor.send("loadDEMTile",Pe,_.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(m){const o=m.canonical,d=Math.pow(2,o.z),_=(o.x-1+d)%d,w=o.x===0?m.wrap-1:m.wrap,E=(o.x+1+d)%d,N=o.x+1===d?m.wrap+1:m.wrap,H={};return H[new s.OverscaledTileID(m.overscaledZ,w,o.z,_,o.y).key]={backfilled:!1},H[new s.OverscaledTileID(m.overscaledZ,N,o.z,E,o.y).key]={backfilled:!1},o.y>0&&(H[new s.OverscaledTileID(m.overscaledZ,w,o.z,_,o.y-1).key]={backfilled:!1},H[new s.OverscaledTileID(m.overscaledZ,m.wrap,o.z,o.x,o.y-1).key]={backfilled:!1},H[new s.OverscaledTileID(m.overscaledZ,N,o.z,E,o.y-1).key]={backfilled:!1}),o.y+1<d&&(H[new s.OverscaledTileID(m.overscaledZ,w,o.z,_,o.y+1).key]={backfilled:!1},H[new s.OverscaledTileID(m.overscaledZ,m.wrap,o.z,o.x,o.y+1).key]={backfilled:!1},H[new s.OverscaledTileID(m.overscaledZ,N,o.z,E,o.y+1).key]={backfilled:!1}),H}unloadTile(m){m.demTexture&&this.map.painter.saveTileTexture(m.demTexture),m.fbo&&(m.fbo.destroy(),delete m.fbo),m.dem&&delete m.dem,delete m.neighboringTiles,m.state="unloaded"}},geojson:class extends s.Evented{constructor(m,o,d,_){super(),this.id=m,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=d.getActor(),this.setEventedParent(_),this._data=o.data,this._options=s.extend({},o),this._collectResourceTiming=o.collectResourceTiming,o.maxzoom!==void 0&&(this.maxzoom=o.maxzoom),o.type&&(this.type=o.type),o.attribution&&(this.attribution=o.attribution),this.promoteId=o.promoteId;const w=s.EXTENT/this.tileSize;this.workerOptions=s.extend({source:this.id,cluster:o.cluster||!1,geojsonVtOptions:{buffer:(o.buffer!==void 0?o.buffer:128)*w,tolerance:(o.tolerance!==void 0?o.tolerance:.375)*w,extent:s.EXTENT,maxZoom:this.maxzoom,lineMetrics:o.lineMetrics||!1,generateId:o.generateId||!1},superclusterOptions:{maxZoom:o.clusterMaxZoom!==void 0?o.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,o.clusterMinPoints||2),extent:s.EXTENT,radius:(o.clusterRadius!==void 0?o.clusterRadius:50)*w,log:!1,generateId:o.generateId||!1},clusterProperties:o.clusterProperties,filter:o.filter},o.workerOptions)}onAdd(m){this.map=m,this.setData(this._data)}setData(m){return this._data=m,this._updateWorkerData(),this}getClusterExpansionZoom(m,o){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:m,source:this.id},o),this}getClusterChildren(m,o){return this.actor.send("geojson.getClusterChildren",{clusterId:m,source:this.id},o),this}getClusterLeaves(m,o,d,_){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:m,limit:o,offset:d},_),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new s.Event("dataloading",{dataType:"source"})),this._loaded=!1;const m=s.extend({},this.workerOptions),o=this._data;typeof o=="string"?(m.request=this.map._requestManager.transformRequest(s.exported.resolveURL(o),s.ResourceType.Source),m.request.collectResourceTiming=this._collectResourceTiming):m.data=JSON.stringify(o),this._pendingLoad=this.actor.send(`${this.type}.loadData`,m,(d,_)=>{if(this._loaded=!0,this._pendingLoad=null,d)this.fire(new s.ErrorEvent(d));else{const w={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&_&&_.resourceTiming&&_.resourceTiming[this.id]&&(w.resourceTiming=_.resourceTiming[this.id]),this.fire(new s.Event("data",w)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(m,o){const d=m.actor?"reloadTile":"loadTile";m.actor=this.actor,m.request=this.actor.send(d,{type:this.type,uid:m.uid,tileID:m.tileID,tileZoom:m.tileZoom,zoom:m.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:s.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(_,w)=>(delete m.request,m.unloadVectorData(),m.aborted?o(null):_?o(_):(m.loadVectorData(w,this.map.painter,d==="reloadTile"),o(null))),void 0,d==="loadTile")}abortTile(m){m.request&&(m.request.cancel(),delete m.request),m.aborted=!0}unloadTile(m){m.unloadVectorData(),this.actor.send("removeTile",{uid:m.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return s.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Et{constructor(m,o,d,_){super(m,o,d,_),this.roundZoom=!0,this.type="video",this.options=o}load(){this._loaded=!1;const m=this.options;this.urls=[];for(const o of m.urls)this.urls.push(this.map._requestManager.transformRequest(o,s.ResourceType.Source).url);s.getVideo(this.urls,(o,d)=>{this._loaded=!0,o?this.fire(new s.ErrorEvent(o)):d&&(this.video=d,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(m){if(this.video){const o=this.video.seekable;m<o.start(0)||m>o.end(0)?this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${o.start(0)} and ${o.end(0)}-second mark.`))):this.video.currentTime=m}}getVideo(){return this.video}onAdd(m){this.map||(this.map=m,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const m=this.map.painter.context,o=m.gl;this.texture?this.video.paused||(this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE),o.texSubImage2D(o.TEXTURE_2D,0,0,0,o.RGBA,o.UNSIGNED_BYTE,this.video)):(this.texture=new s.Texture(m,this.video,o.RGBA),this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(m)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Et,canvas:class extends Et{constructor(m,o,d,_){super(m,o,d,_),o.coordinates?Array.isArray(o.coordinates)&&o.coordinates.length===4&&!o.coordinates.some(w=>!Array.isArray(w)||w.length!==2||w.some(E=>typeof E!="number"))||this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${m}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${m}`,null,'missing required property "coordinates"'))),o.animate&&typeof o.animate!="boolean"&&this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${m}`,null,'optional "animate" property must be a boolean value'))),o.canvas?typeof o.canvas=="string"||o.canvas instanceof s.window.HTMLCanvasElement||this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${m}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${m}`,null,'missing required property "canvas"'))),this.options=o,this.animate=o.animate===void 0||o.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof s.window.HTMLCanvasElement?this.options.canvas:s.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(m){this.map=m,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let m=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,m=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,m=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const o=this.map.painter.context;this.texture?(m||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new s.Texture(o,this.canvas,o.gl.RGBA,{premultiply:!0}),this._prepareData(o)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const m of[this.canvas.width,this.canvas.height])if(isNaN(m)||m<=0)return!0;return!1}},custom:class extends s.Evented{constructor(m,o,d,_){super(),this.id=m,this.type="custom",this._dataType="raster",this._dispatcher=d,this._implementation=o,this.setEventedParent(_),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new s.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new s.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new xe(this._implementation.bounds,this.minzoom,this.maxzoom)),o.update=this._update.bind(this),o.clearTiles=this._clearTiles.bind(this),o.coveringTiles=this._coveringTiles.bind(this),s.extend(this,s.pick(o,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return s.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(m){this._map=m,this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(m),this.load()}onRemove(m){this._implementation.onRemove&&this._implementation.onRemove(m)}hasTile(m){if(this._implementation.hasTile){const{x:o,y:d,z:_}=m.canonical;return this._implementation.hasTile({x:o,y:d,z:_})}return!this.tileBounds||this.tileBounds.contains(m.canonical)}loadTile(m,o){const{x:d,y:_,z:w}=m.tileID.canonical,E=new s.window.AbortController;m.request=Promise.resolve(this._implementation.loadTile({x:d,y:_,z:w},{signal:E.signal})).then(function(N){return delete m.request,m.aborted?(m.state="unloaded",o(null)):N===void 0?(m.state="errored",o(null)):N===null?(this.loadTileData(m,{width:this.tileSize,height:this.tileSize,data:null}),m.state="loaded",o(null)):function(H){return H instanceof s.window.ImageData||H instanceof s.window.HTMLCanvasElement||H instanceof s.window.ImageBitmap||H instanceof s.window.HTMLImageElement}(N)?(this.loadTileData(m,N),m.state="loaded",void o(null)):(m.state="errored",o(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch(N=>{N.code!==20&&(m.state="errored",o(N))}),m.request.cancel=()=>E.abort()}loadTileData(m,o){Ne.loadTileData(m,o,this._map.painter)}unloadTileData(m){Ne.unloadTileData(m,this._map.painter)}unloadTile(m,o){if(this.unloadTileData(m),this._implementation.unloadTile){const{x:d,y:_,z:w}=m.tileID.canonical;this._implementation.unloadTile({x:d,y:_,z:w})}o()}abortTile(m,o){m.request&&m.request.cancel&&(m.request.cancel(),delete m.request),o()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(m=>({x:m.canonical.x,y:m.canonical.y,z:m.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Ot=function(m,o,d,_){const w=new zt[o.type](m,o,d,_);if(w.id!==m)throw new Error(`Expected Source id to be ${m} instead of ${w.id}`);return s.bindAll(["load","abort","unload","serialize","prepare"],w),w};function Mt(m,o){const d=s.identity([]);return s.scale(d,d,[.5*m.width,.5*-m.height,1]),s.translate(d,d,[1,-1,0]),s.multiply(d,d,m.calculateProjMatrix(o.toUnwrapped())),Float32Array.from(d)}function Ut(m,o,d,_,w,E,N,H=!1){const le=m.tilesIn(_,N,H);le.sort(Li);const ve=[];for(const Pe of le)ve.push({wrappedTileID:Pe.tile.tileID.wrapped().key,queryResults:Pe.tile.queryRenderedFeatures(o,d,m._state,Pe,w,E,Mt(m.transform,Pe.tile.tileID),H)});const ye=function(Pe){const $e={},Ze={};for(const Ke of Pe){const Je=Ke.queryResults,et=Ke.wrappedTileID,je=Ze[et]=Ze[et]||{};for(const ut in Je){const ct=Je[ut],dt=je[ut]=je[ut]||{},wt=$e[ut]=$e[ut]||[];for(const vt of ct)dt[vt.featureIndex]||(dt[vt.featureIndex]=!0,wt.push(vt))}}return $e}(ve);for(const Pe in ye)ye[Pe].forEach($e=>{const Ze=$e.feature,Ke=Ze.layer;Ke&&Ke.type!=="background"&&Ke.type!=="sky"&&(Ze.source=Ke.source,Ke["source-layer"]&&(Ze.sourceLayer=Ke["source-layer"]),Ze.state=Ze.id!==void 0?m.getFeatureState(Ke["source-layer"],Ze.id):{})});return ye}function hi(m,o){const d=m.getRenderableIds().map(E=>m.getTileByID(E)),_=[],w={};for(let E=0;E<d.length;E++){const N=d[E],H=N.tileID.canonical.key;w[H]||(w[H]=!0,N.querySourceFeatures(_,o))}return _}function Li(m,o){const d=m.tileID,_=o.tileID;return d.overscaledZ-_.overscaledZ||d.canonical.y-_.canonical.y||d.wrap-_.wrap||d.canonical.x-_.canonical.x}function mi(){return lc.workerClass!=null?new lc.workerClass:new s.window.Worker(lc.workerUrl)}const en="mapboxgl_preloaded_worker_pool";class Xi{constructor(){this.active={}}acquire(o){if(!this.workers)for(this.workers=[];this.workers.length<Xi.workerCount;)this.workers.push(new mi);return this.active[o]=!0,this.workers.slice()}release(o){delete this.active[o],this.numActive()===0&&(this.workers.forEach(d=>{d.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[en]}numActive(){return Object.keys(this.active).length}}let Hi;function sn(){return Hi||(Hi=new Xi),Hi}function xn(m,o){const d={};for(const _ in m)_!=="ref"&&(d[_]=m[_]);return s.refProperties.forEach(_=>{_ in o&&(d[_]=o[_])}),d}function jn(m){m=m.slice();const o=Object.create(null);for(let d=0;d<m.length;d++)o[m[d].id]=m[d];for(let d=0;d<m.length;d++)"ref"in m[d]&&(m[d]=xn(m[d],o[m[d].ref]));return m}Xi.workerCount=2;const tn={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Xn(m,o,d){d.push({command:tn.addSource,args:[m,o[m]]})}function sr(m,o,d){o.push({command:tn.removeSource,args:[m]}),d[m]=!0}function wa(m,o,d,_){sr(m,d,_),Xn(m,o,d)}function Qo(m,o,d){let _;for(_ in m[d])if(m[d].hasOwnProperty(_)&&_!=="data"&&!b(m[d][_],o[d][_]))return!1;for(_ in o[d])if(o[d].hasOwnProperty(_)&&_!=="data"&&!b(m[d][_],o[d][_]))return!1;return!0}function ti(m,o,d,_,w,E){let N;for(N in o=o||{},m=m||{})m.hasOwnProperty(N)&&(b(m[N],o[N])||d.push({command:E,args:[_,N,o[N],w]}));for(N in o)o.hasOwnProperty(N)&&!m.hasOwnProperty(N)&&(b(m[N],o[N])||d.push({command:E,args:[_,N,o[N],w]}))}function So(m){return m.id}function $r(m,o){return m[o.id]=o,m}class ja{constructor(o,d){this.reset(o,d)}reset(o,d){this.points=o||[],this._distances=[0];for(let _=1;_<this.points.length;_++)this._distances[_]=this._distances[_-1]+this.points[_].dist(this.points[_-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(o){if(this.points.length===1)return this.points[0];o=s.clamp(o,0,1);let d=1,_=this._distances[d];const w=o*this.paddedLength+this.padding;for(;_<w&&d<this._distances.length;)_=this._distances[++d];const E=d-1,N=this._distances[E],H=_-N,le=H>0?(w-N)/H:0;return this.points[E].mult(1-le).add(this.points[d].mult(le))}}class td{constructor(o,d,_){const w=this.boxCells=[],E=this.circleCells=[];this.xCellCount=Math.ceil(o/_),this.yCellCount=Math.ceil(d/_);for(let N=0;N<this.xCellCount*this.yCellCount;N++)w.push([]),E.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=o,this.height=d,this.xScale=this.xCellCount/o,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(o,d,_,w,E){this._forEachCell(d,_,w,E,this._insertBoxCell,this.boxUid++),this.boxKeys.push(o),this.bboxes.push(d),this.bboxes.push(_),this.bboxes.push(w),this.bboxes.push(E)}insertCircle(o,d,_,w){this._forEachCell(d-w,_-w,d+w,_+w,this._insertCircleCell,this.circleUid++),this.circleKeys.push(o),this.circles.push(d),this.circles.push(_),this.circles.push(w)}_insertBoxCell(o,d,_,w,E,N){this.boxCells[E].push(N)}_insertCircleCell(o,d,_,w,E,N){this.circleCells[E].push(N)}_query(o,d,_,w,E,N){if(_<0||o>this.width||w<0||d>this.height)return!E&&[];const H=[];if(o<=0&&d<=0&&this.width<=_&&this.height<=w){if(E)return!0;for(let le=0;le<this.boxKeys.length;le++)H.push({key:this.boxKeys[le],x1:this.bboxes[4*le],y1:this.bboxes[4*le+1],x2:this.bboxes[4*le+2],y2:this.bboxes[4*le+3]});for(let le=0;le<this.circleKeys.length;le++){const ve=this.circles[3*le],ye=this.circles[3*le+1],Pe=this.circles[3*le+2];H.push({key:this.circleKeys[le],x1:ve-Pe,y1:ye-Pe,x2:ve+Pe,y2:ye+Pe})}return N?H.filter(N):H}return this._forEachCell(o,d,_,w,this._queryCell,H,{hitTest:E,seenUids:{box:{},circle:{}}},N),E?H.length>0:H}_queryCircle(o,d,_,w,E){const N=o-_,H=o+_,le=d-_,ve=d+_;if(H<0||N>this.width||ve<0||le>this.height)return!w&&[];const ye=[];return this._forEachCell(N,le,H,ve,this._queryCellCircle,ye,{hitTest:w,circle:{x:o,y:d,radius:_},seenUids:{box:{},circle:{}}},E),w?ye.length>0:ye}query(o,d,_,w,E){return this._query(o,d,_,w,!1,E)}hitTest(o,d,_,w,E){return this._query(o,d,_,w,!0,E)}hitTestCircle(o,d,_,w){return this._queryCircle(o,d,_,!0,w)}_queryCell(o,d,_,w,E,N,H,le){const ve=H.seenUids,ye=this.boxCells[E];if(ye!==null){const $e=this.bboxes;for(const Ze of ye)if(!ve.box[Ze]){ve.box[Ze]=!0;const Ke=4*Ze;if(o<=$e[Ke+2]&&d<=$e[Ke+3]&&_>=$e[Ke+0]&&w>=$e[Ke+1]&&(!le||le(this.boxKeys[Ze]))){if(H.hitTest)return N.push(!0),!0;N.push({key:this.boxKeys[Ze],x1:$e[Ke],y1:$e[Ke+1],x2:$e[Ke+2],y2:$e[Ke+3]})}}}const Pe=this.circleCells[E];if(Pe!==null){const $e=this.circles;for(const Ze of Pe)if(!ve.circle[Ze]){ve.circle[Ze]=!0;const Ke=3*Ze;if(this._circleAndRectCollide($e[Ke],$e[Ke+1],$e[Ke+2],o,d,_,w)&&(!le||le(this.circleKeys[Ze]))){if(H.hitTest)return N.push(!0),!0;{const Je=$e[Ke],et=$e[Ke+1],je=$e[Ke+2];N.push({key:this.circleKeys[Ze],x1:Je-je,y1:et-je,x2:Je+je,y2:et+je})}}}}}_queryCellCircle(o,d,_,w,E,N,H,le){const ve=H.circle,ye=H.seenUids,Pe=this.boxCells[E];if(Pe!==null){const Ze=this.bboxes;for(const Ke of Pe)if(!ye.box[Ke]){ye.box[Ke]=!0;const Je=4*Ke;if(this._circleAndRectCollide(ve.x,ve.y,ve.radius,Ze[Je+0],Ze[Je+1],Ze[Je+2],Ze[Je+3])&&(!le||le(this.boxKeys[Ke])))return N.push(!0),!0}}const $e=this.circleCells[E];if($e!==null){const Ze=this.circles;for(const Ke of $e)if(!ye.circle[Ke]){ye.circle[Ke]=!0;const Je=3*Ke;if(this._circlesCollide(Ze[Je],Ze[Je+1],Ze[Je+2],ve.x,ve.y,ve.radius)&&(!le||le(this.circleKeys[Ke])))return N.push(!0),!0}}}_forEachCell(o,d,_,w,E,N,H,le){const ve=this._convertToXCellCoord(o),ye=this._convertToYCellCoord(d),Pe=this._convertToXCellCoord(_),$e=this._convertToYCellCoord(w);for(let Ze=ve;Ze<=Pe;Ze++)for(let Ke=ye;Ke<=$e;Ke++)if(E.call(this,o,d,_,w,this.xCellCount*Ke+Ze,N,H,le))return}_convertToXCellCoord(o){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(o*this.xScale)))}_convertToYCellCoord(o){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(o*this.yScale)))}_circlesCollide(o,d,_,w,E,N){const H=w-o,le=E-d,ve=_+N;return ve*ve>H*H+le*le}_circleAndRectCollide(o,d,_,w,E,N,H){const le=(N-w)/2,ve=Math.abs(o-(w+le));if(ve>le+_)return!1;const ye=(H-E)/2,Pe=Math.abs(d-(E+ye));if(Pe>ye+_)return!1;if(ve<=le||Pe<=ye)return!0;const $e=ve-le,Ze=Pe-ye;return $e*$e+Ze*Ze<=_*_}}const zo=Math.tan(85*Math.PI/180);function Ua(m,o,d,_,w,E,N){const H=s.create();if(d)if(E.name==="globe"){const le=s.calculateGlobeLabelMatrix(w,o);s.multiply(H,H,le)}else{const le=I([],N);H[0]=le[0],H[1]=le[1],H[4]=le[2],H[5]=le[3],_||s.rotateZ(H,H,w.angle)}else s.multiply(H,w.labelPlaneMatrix,m);return H}function dh(m,o,d,_,w,E,N){const H=Ua(m,o,d,_,w,E,N);return E.name==="globe"&&d||(H[2]=H[6]=H[10]=H[14]=0),H}function ns(m,o,d,_,w,E,N){if(d){if(E.name==="globe"){const H=Ua(m,o,d,_,w,E,N);return s.invert(H,H),s.multiply(H,m,H),H}{const H=s.clone(m),le=s.identity([]);return le[0]=N[0],le[1]=N[1],le[4]=N[2],le[5]=N[3],s.multiply(H,H,le),_||s.rotateZ(H,H,-w.angle),H}}return w.glCoordMatrix}function Ci(m,o,d,_){const w=[m,o,d,1];d?s.transformMat4$1(w,w,_):uh(w,w,_);const E=w[3];return w[0]/=E,w[1]/=E,w[2]/=E,w}function bn(m,o){return Math.min(.5+m/o*.5,1.5)}function kn(m,o){const d=m[0]/m[3],_=m[1]/m[3];return d>=-o[0]&&d<=o[0]&&_>=-o[1]&&_<=o[1]}function Bo(m,o,d,_,w,E,N,H,le,ve){const ye=d.transform,Pe=_?m.textSizeData:m.iconSizeData,$e=s.evaluateSizeForZoom(Pe,d.transform.zoom),Ze=ye.projection.name==="globe",Ke=[256/d.width*2+1,256/d.height*2+1],Je=_?m.text.dynamicLayoutVertexArray:m.icon.dynamicLayoutVertexArray;Je.clear();let et=null;Ze&&(et=_?m.text.globeExtVertexArray:m.icon.globeExtVertexArray);const je=m.lineVertexArray,ut=_?m.text.placedSymbolArray:m.icon.placedSymbolArray,ct=d.transform.width/d.transform.height;let dt,wt=!1;for(let vt=0;vt<ut.length;vt++){const Ct=ut.get(vt),{numGlyphs:Rt,writingMode:Bt}=Ct;if(Bt!==s.WritingMode.vertical||wt||dt===s.WritingMode.horizontal||(wt=!0),dt=Bt,(Ct.hidden||Bt===s.WritingMode.vertical)&&!wt){Bn(Rt,Je);continue}wt=!1;const Ht=new s.pointGeometry(Ct.tileAnchorX,Ct.tileAnchorY);let{x:Si,y:Nt,z:oi}=ye.projection.projectTilePoint(Ht.x,Ht.y,ve.canonical);if(le){const[Mn,Fi,zi]=le(Ht);Si+=Mn,Nt+=Fi,oi+=zi}const Jt=[Si,Nt,oi,1];if(s.transformMat4$1(Jt,Jt,o),!kn(Jt,Ke)){Bn(Rt,Je);continue}const ui=bn(d.transform.cameraToCenterDistance,Jt[3]),Gt=s.evaluateSizeForFeature(Pe,$e,Ct),Dt=N?Gt/ui:Gt*ui,Xt=Ci(Si,Nt,oi,w);if(Xt[3]<=0){Bn(Rt,Je);continue}let di={};const fi=N?null:le,$i=Va(Ct,Dt,!1,H,o,w,E,m.glyphOffsetArray,je,Je,et,Xt,Ht,di,ct,fi,ye.projection,ve,N);wt=$i.useVertical,fi&&$i.needsFlipping&&(di={}),($i.notEnoughRoom||wt||$i.needsFlipping&&Va(Ct,Dt,!0,H,o,w,E,m.glyphOffsetArray,je,Je,et,Xt,Ht,di,ct,fi,ye.projection,ve,N).notEnoughRoom)&&Bn(Rt,Je)}_?(m.text.dynamicLayoutVertexBuffer.updateData(Je),et&&m.text.globeExtVertexBuffer.updateData(et)):(m.icon.dynamicLayoutVertexBuffer.updateData(Je),et&&m.icon.globeExtVertexBuffer.updateData(et))}function Eo(m,o,d,_,w,E,N,H,le,ve,ye,Pe,$e,Ze,Ke,Je){const{lineStartIndex:et,glyphStartIndex:je,segment:ut}=H,ct=je+H.numGlyphs,dt=et+H.lineLength,wt=o.getoffsetX(je),vt=o.getoffsetX(ct-1),Ct=Cs(m*wt,d,_,w,E,N,ut,et,dt,le,ve,ye,Pe,$e,!0,Ze,Ke,Je);if(!Ct)return null;const Rt=Cs(m*vt,d,_,w,E,N,ut,et,dt,le,ve,ye,Pe,$e,!0,Ze,Ke,Je);return Rt?{first:Ct,last:Rt}:null}function Sn(m,o,d,_){return m===s.WritingMode.horizontal&&Math.abs(_)>Math.abs(d)?{useVertical:!0}:m===s.WritingMode.vertical?_>0?{needsFlipping:!0}:null:o!==0&&function(w,E){return w===0||Math.abs(E/w)>zo}(d,_)?o===1?{needsFlipping:!0}:null:d<0?{needsFlipping:!0}:null}function Va(m,o,d,_,w,E,N,H,le,ve,ye,Pe,$e,Ze,Ke,Je,et,je,ut){const ct=o/24,dt=m.lineOffsetX*ct,wt=m.lineOffsetY*ct,{lineStartIndex:vt,glyphStartIndex:Ct,numGlyphs:Rt,segment:Bt,writingMode:Ht,flipState:Si}=m,Nt=vt+m.lineLength,oi=Jt=>{if(ye){const[Xt,di,fi]=Jt.up,$i=ve.length;s.updateGlobeVertexNormal(ye,$i+0,Xt,di,fi),s.updateGlobeVertexNormal(ye,$i+1,Xt,di,fi),s.updateGlobeVertexNormal(ye,$i+2,Xt,di,fi),s.updateGlobeVertexNormal(ye,$i+3,Xt,di,fi)}const[ui,Gt,Dt]=Jt.point;s.addDynamicAttributes(ve,ui,Gt,Dt,Jt.angle)};if(Rt>1){const Jt=Eo(ct,H,dt,wt,d,Pe,$e,m,le,E,Ze,Je,!1,et,je,ut);if(!Jt)return{notEnoughRoom:!0};if(_&&!d){let[ui,Gt,Dt]=Jt.first.point,[Xt,di,fi]=Jt.last.point;[ui,Gt]=Ci(ui,Gt,Dt,N),[Xt,di]=Ci(Xt,di,fi,N);const $i=Sn(Ht,Si,(Xt-ui)*Ke,di-Gt);if(m.flipState=$i&&$i.needsFlipping?1:2,$i)return $i}oi(Jt.first);for(let ui=Ct+1;ui<Ct+Rt-1;ui++){const Gt=Cs(ct*H.getoffsetX(ui),dt,wt,d,Pe,$e,Bt,vt,Nt,le,E,Ze,Je,!1,!1,et,je,ut);if(!Gt)return ve.length-=4*(ui-Ct),{notEnoughRoom:!0};oi(Gt)}oi(Jt.last)}else{if(_&&!d){const ui=Ci($e.x,$e.y,0,w),Gt=vt+Bt+1,Dt=new s.pointGeometry(le.getx(Gt),le.gety(Gt)),Xt=Ci(Dt.x,Dt.y,0,w),di=Xt[3]>0?Xt:yl($e,Dt,ui,1,w,void 0,et,je.canonical),fi=Sn(Ht,Si,(di[0]-ui[0])*Ke,di[1]-ui[1]);if(m.flipState=fi&&fi.needsFlipping?1:2,fi)return fi}const Jt=Cs(ct*H.getoffsetX(Ct),dt,wt,d,Pe,$e,Bt,vt,Nt,le,E,Ze,Je,!1,!1,et,je,ut);if(!Jt)return{notEnoughRoom:!0};oi(Jt)}return{}}function Ga(m,o,d,_,w){const{x:E,y:N,z:H}=_.projectTilePoint(m.x,m.y,o);if(!w)return Ci(E,N,H,d);const[le,ve,ye]=w(m);return Ci(E+le,N+ve,H+ye,d)}function yl(m,o,d,_,w,E,N,H){const le=Ga(m.sub(o)._unit()._add(m),H,w,N,E);return s.sub(le,d,le),s.normalize(le,le),s.scaleAndAdd(le,d,le,_)}function Cs(m,o,d,_,w,E,N,H,le,ve,ye,Pe,$e,Ze,Ke,Je,et,je){const ut=_?m-o:m+o;let ct=ut>0?1:-1,dt=0;_&&(ct*=-1,dt=Math.PI),ct<0&&(dt+=Math.PI);let wt=H+N+(ct>0?0:1)|0,vt=w,Ct=w,Rt=0,Bt=0;const Ht=Math.abs(ut),Si=[],Nt=[];let oi=E,Jt=oi;const ui=()=>yl(Jt,oi,Ct,Ht-Rt+1,ye,$e,Je,et.canonical);for(;Rt+Bt<=Ht;){if(wt+=ct,wt<H||wt>=le)return null;if(Ct=vt,Jt=oi,Si.push(Ct),Ze&&Nt.push(Jt),oi=new s.pointGeometry(ve.getx(wt),ve.gety(wt)),vt=Pe[wt],!vt){const zi=Ga(oi,et.canonical,ye,Je,$e);vt=zi[3]>0?Pe[wt]=zi:ui()}Rt+=Bt,Bt=s.distance(Ct,vt)}Ke&&$e&&(Pe[wt]&&(vt=ui(),Bt=s.distance(Ct,vt)),Pe[wt]=vt);const Gt=(Ht-Rt)/Bt,Dt=oi.sub(Jt)._mult(Gt)._add(Jt),Xt=s.sub([],vt,Ct),di=s.scaleAndAdd([],Ct,Xt,Gt);let fi=[0,0,1],$i=Xt[0],Mn=Xt[1];if(je&&(fi=Je.upVector(et.canonical,Dt.x,Dt.y),fi[0]!==0||fi[1]!==0||fi[2]!==1)){const zi=[fi[2],0,-fi[0]],Zi=s.cross([],fi,zi);s.normalize(zi,zi),s.normalize(Zi,Zi),$i=s.dot(Xt,zi),Mn=s.dot(Xt,Zi)}if(d){const zi=s.cross([],fi,Xt);s.normalize(zi,zi),s.scaleAndAdd(di,di,zi,d*ct)}const Fi=dt+Math.atan2(Mn,$i);return Si.push(di),Ze&&Nt.push(Dt),{point:di,angle:Fi,path:Si,tilePath:Nt,up:fi}}function Bn(m,o){const d=o.length,_=d+4*m;o.resize(_),o.float32.fill(-1/0,4*d,4*_)}function uh(m,o,d){const _=o[0],w=o[1];return m[0]=d[0]*_+d[4]*w+d[12],m[1]=d[1]*_+d[5]*w+d[13],m[3]=d[3]*_+d[7]*w+d[15],m}const rs=100;class Pc{constructor(o,d,_=new td(o.width+200,o.height+200,25),w=new td(o.width+200,o.height+200,25)){this.transform=o,this.grid=_,this.ignoredGrid=w,this.pitchfactor=Math.cos(o._pitch)*o.cameraToCenterDistance,this.screenRightBoundary=o.width+rs,this.screenBottomBoundary=o.height+rs,this.gridRightBoundary=o.width+200,this.gridBottomBoundary=o.height+200,this.fogState=d}placeCollisionBox(o,d,_,w,E,N,H,le){let ve=_.projectedAnchorX,ye=_.projectedAnchorY,Pe=_.projectedAnchorZ;const $e=_.elevation,Ze=_.tileID,Ke=o.getProjection();if($e&&Ze){const[vt,Ct,Rt]=Ke.upVector(Ze.canonical,_.tileAnchorX,_.tileAnchorY),Bt=Ke.upVectorScale(Ze.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;ve+=vt*$e*Bt,ye+=Ct*$e*Bt,Pe+=Rt*$e*Bt}const Je=this.projectAndGetPerspectiveRatio(H,ve,ye,Pe,_.tileID,Ke.name==="globe"||!!$e||this.transform.pitch>0,Ke),et=N*Je.perspectiveRatio,je=(_.x1*d+w.x-_.padding)*et+Je.point.x,ut=(_.y1*d+w.y-_.padding)*et+Je.point.y,ct=(_.x2*d+w.x+_.padding)*et+Je.point.x,dt=(_.y2*d+w.y+_.padding)*et+Je.point.y,wt=Je.perspectiveRatio<=.55||Je.occluded;return!this.isInsideGrid(je,ut,ct,dt)||!E&&this.grid.hitTest(je,ut,ct,dt,le)||wt?{box:[],offscreen:!1,occluded:Je.occluded}:{box:[je,ut,ct,dt],offscreen:this.isOffscreen(je,ut,ct,dt),occluded:!1}}placeCollisionCircles(o,d,_,w,E,N,H,le,ve,ye,Pe,$e,Ze,Ke,Je){const et=[],je=this.transform.elevation,ut=o.getProjection(),ct=je?je.getAtTileOffsetFunc(Je,this.transform.center.lat,this.transform.worldSize,ut):null,dt=new s.pointGeometry(_.tileAnchorX,_.tileAnchorY);let{x:wt,y:vt,z:Ct}=ut.projectTilePoint(dt.x,dt.y,Je.canonical);if(ct){const[Dt,Xt,di]=ct(dt);wt+=Dt,vt+=Xt,Ct+=di}const Rt=ut.name==="globe",Bt=this.projectAndGetPerspectiveRatio(H,wt,vt,Ct,Je,Rt||!!je||this.transform.pitch>0,ut),{perspectiveRatio:Ht}=Bt,Si=(Pe?N/Ht:N*Ht)/s.ONE_EM,Nt=Ci(wt,vt,Ct,le),oi=Bt.signedDistanceFromCamera>0?Eo(Si,E,_.lineOffsetX*Si,_.lineOffsetY*Si,!1,Nt,dt,_,w,le,{},je&&!Pe?ct:null,Pe&&!!je,ut,Je,Pe):null;let Jt=!1,ui=!1,Gt=!0;if(oi&&!Bt.occluded){const Dt=.5*Ze*Ht+Ke,Xt=new s.pointGeometry(-100,-100),di=new s.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),fi=new ja,{first:$i,last:Mn}=oi,Fi=$i.path.length;let zi=[];for(let nn=Fi-1;nn>=1;nn--)zi.push($i.path[nn]);for(let nn=1;nn<Mn.path.length;nn++)zi.push(Mn.path[nn]);const Zi=2.5*Dt;ve&&(zi=zi.map(([nn,er,tr],br)=>(ct&&!Rt&&(tr=ct(br<Fi-1?$i.tilePath[Fi-1-br]:Mn.tilePath[br-Fi+2])[2]),Ci(nn,er,tr,ve))),zi.some(nn=>nn[3]<=0)&&(zi=[]));let Rn=[];if(zi.length>0){let nn=1/0,er=-1/0,tr=1/0,br=-1/0;for(const hr of zi)nn=Math.min(nn,hr[0]),tr=Math.min(tr,hr[1]),er=Math.max(er,hr[0]),br=Math.max(br,hr[1]);er>=Xt.x&&nn<=di.x&&br>=Xt.y&&tr<=di.y&&(Rn=[zi.map(hr=>new s.pointGeometry(hr[0],hr[1]))],(nn<Xt.x||er>di.x||tr<Xt.y||br>di.y)&&(Rn=s.clipLine(Rn,Xt.x,Xt.y,di.x,di.y)))}for(const nn of Rn){fi.reset(nn,.25*Dt);let er=0;er=fi.length<=.5*Dt?1:Math.ceil(fi.paddedLength/Zi)+1;for(let tr=0;tr<er;tr++){const br=tr/Math.max(er-1,1),hr=fi.lerp(br),ls=hr.x+rs,ho=hr.y+rs;et.push(ls,ho,Dt,0);const ra=ls-Dt,sa=ho-Dt,Pr=ls+Dt,fr=ho+Dt;if(Gt=Gt&&this.isOffscreen(ra,sa,Pr,fr),ui=ui||this.isInsideGrid(ra,sa,Pr,fr),!d&&this.grid.hitTestCircle(ls,ho,Dt,$e)&&(Jt=!0,!ye))return{circles:[],offscreen:!1,collisionDetected:Jt,occluded:!1}}}}return{circles:!ye&&Jt||!ui?[]:et,offscreen:Gt,collisionDetected:Jt,occluded:Bt.occluded}}queryRenderedSymbols(o){if(o.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const d=[];let _=1/0,w=1/0,E=-1/0,N=-1/0;for(const ye of o){const Pe=new s.pointGeometry(ye.x+rs,ye.y+rs);_=Math.min(_,Pe.x),w=Math.min(w,Pe.y),E=Math.max(E,Pe.x),N=Math.max(N,Pe.y),d.push(Pe)}const H=this.grid.query(_,w,E,N).concat(this.ignoredGrid.query(_,w,E,N)),le={},ve={};for(const ye of H){const Pe=ye.key;if(le[Pe.bucketInstanceId]===void 0&&(le[Pe.bucketInstanceId]={}),le[Pe.bucketInstanceId][Pe.featureIndex])continue;const $e=[new s.pointGeometry(ye.x1,ye.y1),new s.pointGeometry(ye.x2,ye.y1),new s.pointGeometry(ye.x2,ye.y2),new s.pointGeometry(ye.x1,ye.y2)];s.polygonIntersectsPolygon(d,$e)&&(le[Pe.bucketInstanceId][Pe.featureIndex]=!0,ve[Pe.bucketInstanceId]===void 0&&(ve[Pe.bucketInstanceId]=[]),ve[Pe.bucketInstanceId].push(Pe.featureIndex))}return ve}insertCollisionBox(o,d,_,w,E){(d?this.ignoredGrid:this.grid).insert({bucketInstanceId:_,featureIndex:w,collisionGroupID:E},o[0],o[1],o[2],o[3])}insertCollisionCircles(o,d,_,w,E){const N=d?this.ignoredGrid:this.grid,H={bucketInstanceId:_,featureIndex:w,collisionGroupID:E};for(let le=0;le<o.length;le+=4)N.insertCircle(H,o[le],o[le+1],o[le+2])}projectAndGetPerspectiveRatio(o,d,_,w,E,N,H){const le=[d,_,w,1];let ve=!1;if(w||this.transform.pitch>0){s.transformMat4$1(le,le,o);const Pe=H.name==="globe";this.fogState&&E&&!Pe&&(ve=function(Ze,Ke,Je,et,je,ut){const ct=ut.calculateFogTileMatrix(je),dt=[Ke,Je,et];return s.transformMat4(dt,dt,ct),fe(Ze,dt,ut.pitch,ut._fov)}(this.fogState,d,_,w,E.toUnwrapped(),this.transform)>.9)}else uh(le,le,o);const ye=le[3];return{point:new s.pointGeometry((le[0]/ye+1)/2*this.transform.width+rs,(-le[1]/ye+1)/2*this.transform.height+rs),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(H)/ye*.5,1.5),signedDistanceFromCamera:ye,occluded:N&&le[2]>ye||ve}}isOffscreen(o,d,_,w){return _<rs||o>=this.screenRightBoundary||w<rs||d>this.screenBottomBoundary}isInsideGrid(o,d,_,w){return _>=0&&o<this.gridRightBoundary&&w>=0&&d<this.gridBottomBoundary}getViewportMatrix(){const o=s.identity([]);return s.translate(o,o,[-100,-100,0]),o}}function Co(m,o,d){const _=o.createTileMatrix(m,m.worldSize,d.toUnwrapped());return s.multiply(new Float32Array(16),m.projMatrix,_)}function ea(m,o,d){if(o.projection.name===d.projection.name)return m.projMatrix;const _=d.clone();return _.setProjection(o.projection),Co(_,o.getProjection(),m)}function Fo(m,o,d){return o.name===d.projection.name?m.projMatrix:Co(d,o,m)}class vl{constructor(o,d,_,w){this.opacity=o?Math.max(0,Math.min(1,o.opacity+(o.placed?d:-d))):w&&_?1:0,this.placed=_}isHidden(){return this.opacity===0&&!this.placed}}class Wa{constructor(o,d,_,w,E,N=!1){this.text=new vl(o?o.text:null,d,_,E),this.icon=new vl(o?o.icon:null,d,w,E),this.clipped=N}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class No{constructor(o,d,_,w=!1){this.text=o,this.icon=d,this.skipFade=_,this.clipped=w}}class Ic{constructor(){this.invProjMatrix=s.create(),this.viewportMatrix=s.create(),this.circles=[]}}class Ms{constructor(o,d,_,w,E){this.bucketInstanceId=o,this.featureIndex=d,this.sourceLayerIndex=_,this.bucketIndex=w,this.tileID=E}}class Nr{constructor(o){this.crossSourceCollisions=o,this.maxGroupID=0,this.collisionGroups={}}get(o){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[o]){const d=++this.maxGroupID;this.collisionGroups[o]={ID:d,predicate:_=>_.collisionGroupID===d}}return this.collisionGroups[o]}}function Lc(m,o,d,_,w){const{horizontalAlign:E,verticalAlign:N}=s.getAnchorAlignment(m),H=-(E-.5)*o,le=-(N-.5)*d,ve=s.evaluateVariableOffset(m,_);return new s.pointGeometry(H+ve[0]*w,le+ve[1]*w)}function Dc(m,o,d,_,w){const E=new s.pointGeometry(m,o);return d&&E._rotate(_?w:-w),E}class Ds{constructor(o,d,_,w,E){this.transform=o.clone(),this.projection=o.projection.name,this.collisionIndex=new Pc(this.transform,E),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=d,this.retainedQueryData={},this.collisionGroups=new Nr(_),this.collisionCircleArrays={},this.prevPlacement=w,w&&(w.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(o,d,_,w){const E=_.getBucket(d),N=_.latestFeatureIndex;if(!E||!N||d.id!==E.layerIds[0])return;const H=E.layers[0].layout,le=_.collisionBoxArray,ve=Math.pow(2,this.transform.zoom-_.tileID.overscaledZ),ye=_.tileSize/s.EXTENT,Pe=_.tileID.toUnwrapped();this.transform.setProjection(E.projection);const $e=(Ze=_.tileID,Ke=E.getProjection(),Je=this.transform,Ke.name===this.projection?Je.calculateProjMatrix(Ze.toUnwrapped()):Co(Je,Ke,Ze));var Ze,Ke,Je;const et=H.get("text-pitch-alignment")==="map",je=H.get("text-rotation-alignment")==="map";d.compileFilter();const ut=d.dynamicFilter(),ct=d.dynamicFilterNeedsFeature(),dt=this.transform.calculatePixelsToTileUnitsMatrix(_),wt=dh($e,_.tileID.canonical,et,je,this.transform,E.getProjection(),dt);let vt=null;if(et){const Bt=ns($e,_.tileID.canonical,et,je,this.transform,E.getProjection(),dt);vt=s.multiply([],this.transform.labelPlaneMatrix,Bt)}let Ct=null;ut&&_.latestFeatureIndex&&(Ct={unwrappedTileID:Pe,dynamicFilter:ut,dynamicFilterNeedsFeature:ct,featureIndex:_.latestFeatureIndex}),this.retainedQueryData[E.bucketInstanceId]=new Ms(E.bucketInstanceId,N,E.sourceLayerIndex,E.index,_.tileID);const Rt={bucket:E,layout:H,posMatrix:$e,textLabelPlaneMatrix:wt,labelToScreenMatrix:vt,clippingData:Ct,scale:ve,textPixelRatio:ye,holdingForFade:_.holdingForFade(),collisionBoxArray:le,partiallyEvaluatedTextSize:s.evaluateSizeForZoom(E.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:s.evaluateSizeForZoom(E.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(E.sourceID)};if(w)for(const Bt of E.sortKeyRanges){const{sortKey:Ht,symbolInstanceStart:Si,symbolInstanceEnd:Nt}=Bt;o.push({sortKey:Ht,symbolInstanceStart:Si,symbolInstanceEnd:Nt,parameters:Rt})}else o.push({symbolInstanceStart:0,symbolInstanceEnd:E.symbolInstances.length,parameters:Rt})}attemptAnchorPlacement(o,d,_,w,E,N,H,le,ve,ye,Pe,$e,Ze,Ke,Je,et,je,ut){const{textOffset0:ct,textOffset1:dt,crossTileID:wt}=$e,vt=[ct,dt],Ct=Lc(o,_,w,vt,E),Rt=this.collisionIndex.placeCollisionBox(Ke,E,d,Dc(Ct.x,Ct.y,N,H,this.transform.angle),Pe,le,ve,ye.predicate);if(et){const Bt=Ke.getSymbolInstanceIconSize(ut,this.transform.zoom,$e.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(Ke,Bt,et,Dc(Ct.x,Ct.y,N,H,this.transform.angle),Pe,le,ve,ye.predicate).box.length===0)return}if(Rt.box.length>0){let Bt;return this.prevPlacement&&this.prevPlacement.variableOffsets[wt]&&this.prevPlacement.placements[wt]&&this.prevPlacement.placements[wt].text&&(Bt=this.prevPlacement.variableOffsets[wt].anchor),this.variableOffsets[wt]={textOffset:vt,width:_,height:w,anchor:o,textScale:E,prevAnchor:Bt},this.markUsedJustification(Ke,o,$e,Je),Ke.allowVerticalPlacement&&(this.markUsedOrientation(Ke,Je,$e),this.placedOrientations[wt]=Je),{shift:Ct,placedGlyphBoxes:Rt}}}placeLayerBucketPart(o,d,_,w){const{bucket:E,layout:N,posMatrix:H,textLabelPlaneMatrix:le,labelToScreenMatrix:ve,clippingData:ye,textPixelRatio:Pe,holdingForFade:$e,collisionBoxArray:Ze,partiallyEvaluatedTextSize:Ke,partiallyEvaluatedIconSize:Je,collisionGroup:et}=o.parameters,je=N.get("text-optional"),ut=N.get("icon-optional"),ct=N.get("text-allow-overlap"),dt=N.get("icon-allow-overlap"),wt=N.get("text-rotation-alignment")==="map",vt=N.get("text-pitch-alignment")==="map",Ct=N.get("icon-text-fit")!=="none",Rt=N.get("symbol-z-order")==="viewport-y";this.transform.setProjection(E.projection);let Bt=ct&&(dt||!E.hasIconData()||ut),Ht=dt&&(ct||!E.hasTextData()||je);!E.collisionArrays&&Ze&&E.deserializeCollisionBoxes(Ze),_&&w&&E.updateCollisionDebugBuffers(this.transform.zoom,Ze);const Si=(Nt,oi,Jt)=>{const{crossTileID:ui,numVerticalGlyphVertices:Gt}=Nt;if(ye){const Pr={zoom:this.transform.zoom,pitch:this.transform.pitch};let fr=null;if(ye.dynamicFilterNeedsFeature){const Yn=this.retainedQueryData[E.bucketInstanceId];fr=ye.featureIndex.loadFeature({featureIndex:Nt.featureIndex,bucketIndex:Yn.bucketIndex,sourceLayerIndex:Yn.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,ye.dynamicFilter)(Pr,fr,this.retainedQueryData[E.bucketInstanceId].tileID.canonical,new s.pointGeometry(Nt.tileAnchorX,Nt.tileAnchorY),this.transform.calculateDistanceTileData(ye.unwrappedTileID)))return this.placements[ui]=new No(!1,!1,!1,!0),void(d[ui]=!0)}if(d[ui])return;if($e)return void(this.placements[ui]=new No(!1,!1,!1));let Dt=!1,Xt=!1,di=!0,fi=!1,$i=!1,Mn=null,Fi={box:null,offscreen:null,occluded:null},zi={box:null,offscreen:null,occluded:null},Zi=null,Rn=null,nn=null,er=0,tr=0,br=0;Jt.textFeatureIndex?er=Jt.textFeatureIndex:Nt.useRuntimeCollisionCircles&&(er=Nt.featureIndex),Jt.verticalTextFeatureIndex&&(tr=Jt.verticalTextFeatureIndex);const hr=Pr=>{Pr.tileID=this.retainedQueryData[E.bucketInstanceId].tileID;const fr=this.transform.elevation;(fr||Pr.elevation)&&(Pr.elevation=fr?fr.getAtTileOffset(Pr.tileID,Pr.tileAnchorX,Pr.tileAnchorY):0)},ls=Jt.textBox;if(ls){hr(ls);const Pr=Yn=>{let Jr=s.WritingMode.horizontal;if(E.allowVerticalPlacement&&!Yn&&this.prevPlacement){const Vs=this.prevPlacement.placedOrientations[ui];Vs&&(this.placedOrientations[ui]=Vs,Jr=Vs,this.markUsedOrientation(E,Jr,Nt))}return Jr},fr=(Yn,Jr)=>{if(E.allowVerticalPlacement&&Gt>0&&Jt.verticalTextBox){for(const Vs of E.writingModes)if(Vs===s.WritingMode.vertical?(Fi=Jr(),zi=Fi):Fi=Yn(),Fi&&Fi.box&&Fi.box.length)break}else Fi=Yn()};if(N.get("text-variable-anchor")){let Yn=N.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[ui]){const Mr=this.prevPlacement.variableOffsets[ui];Yn.indexOf(Mr.anchor)>0&&(Yn=Yn.filter(zs=>zs!==Mr.anchor),Yn.unshift(Mr.anchor))}const Jr=(Mr,zs,Gs)=>{const el=E.getSymbolInstanceTextSize(Ke,Nt,this.transform.zoom,oi),Ah=(Mr.x2-Mr.x1)*el+2*Mr.padding,uo=(Mr.y2-Mr.y1)*el+2*Mr.padding,gn=Ct&&!dt?zs:null;gn&&hr(gn);let kl={box:[],offscreen:!1,occluded:!1};const cc=ct?2*Yn.length:Yn.length;for(let oa=0;oa<cc;++oa){const $c=this.attemptAnchorPlacement(Yn[oa%Yn.length],Mr,Ah,uo,el,wt,vt,Pe,H,et,oa>=Yn.length,Nt,oi,E,Gs,gn,Ke,Je);if($c&&(kl=$c.placedGlyphBoxes,kl&&kl.box&&kl.box.length)){Dt=!0,Mn=$c.shift;break}}return kl};fr(()=>Jr(ls,Jt.iconBox,s.WritingMode.horizontal),()=>{const Mr=Jt.verticalTextBox;return Mr&&hr(Mr),E.allowVerticalPlacement&&!(Fi&&Fi.box&&Fi.box.length)&&Gt>0&&Mr?Jr(Mr,Jt.verticalIconBox,s.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),Fi&&(Dt=Fi.box,di=Fi.offscreen,fi=Fi.occluded);const Vs=Pr(Fi&&Fi.box);if(!Dt&&this.prevPlacement){const Mr=this.prevPlacement.variableOffsets[ui];Mr&&(this.variableOffsets[ui]=Mr,this.markUsedJustification(E,Mr.anchor,Nt,Vs))}}else{const Yn=(Jr,Vs)=>{const Mr=E.getSymbolInstanceTextSize(Ke,Nt,this.transform.zoom,oi),zs=this.collisionIndex.placeCollisionBox(E,Mr,Jr,new s.pointGeometry(0,0),ct,Pe,H,et.predicate);return zs&&zs.box&&zs.box.length&&(this.markUsedOrientation(E,Vs,Nt),this.placedOrientations[ui]=Vs),zs};fr(()=>Yn(ls,s.WritingMode.horizontal),()=>{const Jr=Jt.verticalTextBox;return E.allowVerticalPlacement&&Gt>0&&Jr?(hr(Jr),Yn(Jr,s.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),Pr(Fi&&Fi.box&&Fi.box.length)}}if(Zi=Fi,Dt=Zi&&Zi.box&&Zi.box.length>0,di=Zi&&Zi.offscreen,fi=Zi&&Zi.occluded,Nt.useRuntimeCollisionCircles){const Pr=E.text.placedSymbolArray.get(Nt.centerJustifiedTextSymbolIndex>=0?Nt.centerJustifiedTextSymbolIndex:Nt.verticalPlacedTextSymbolIndex),fr=s.evaluateSizeForFeature(E.textSizeData,Ke,Pr),Yn=N.get("text-padding");Rn=this.collisionIndex.placeCollisionCircles(E,ct,Pr,E.lineVertexArray,E.glyphOffsetArray,fr,H,le,ve,_,vt,et.predicate,Nt.collisionCircleDiameter*fr/s.ONE_EM,Yn,this.retainedQueryData[E.bucketInstanceId].tileID),Dt=ct||Rn.circles.length>0&&!Rn.collisionDetected,di=di&&Rn.offscreen,fi=Rn.occluded}if(Jt.iconFeatureIndex&&(br=Jt.iconFeatureIndex),Jt.iconBox){const Pr=fr=>{hr(fr);const Yn=Ct&&Mn?Dc(Mn.x,Mn.y,wt,vt,this.transform.angle):new s.pointGeometry(0,0),Jr=E.getSymbolInstanceIconSize(Je,this.transform.zoom,Nt.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(E,Jr,fr,Yn,dt,Pe,H,et.predicate)};zi&&zi.box&&zi.box.length&&Jt.verticalIconBox?(nn=Pr(Jt.verticalIconBox),Xt=nn.box.length>0):(nn=Pr(Jt.iconBox),Xt=nn.box.length>0),di=di&&nn.offscreen,$i=nn.occluded}const ho=je||Nt.numHorizontalGlyphVertices===0&&Gt===0,ra=ut||Nt.numIconVertices===0;if(ho||ra?ra?ho||(Xt=Xt&&Dt):Dt=Xt&&Dt:Xt=Dt=Xt&&Dt,Dt&&Zi&&Zi.box&&this.collisionIndex.insertCollisionBox(Zi.box,N.get("text-ignore-placement"),E.bucketInstanceId,zi&&zi.box&&tr?tr:er,et.ID),Xt&&nn&&this.collisionIndex.insertCollisionBox(nn.box,N.get("icon-ignore-placement"),E.bucketInstanceId,br,et.ID),Rn&&(Dt&&this.collisionIndex.insertCollisionCircles(Rn.circles,N.get("text-ignore-placement"),E.bucketInstanceId,er,et.ID),_)){const Pr=E.bucketInstanceId;let fr=this.collisionCircleArrays[Pr];fr===void 0&&(fr=this.collisionCircleArrays[Pr]=new Ic);for(let Yn=0;Yn<Rn.circles.length;Yn+=4)fr.circles.push(Rn.circles[Yn+0]),fr.circles.push(Rn.circles[Yn+1]),fr.circles.push(Rn.circles[Yn+2]),fr.circles.push(Rn.collisionDetected?1:0)}const sa=E.projection.name!=="globe";Bt=Bt&&(sa||!fi),Ht=Ht&&(sa||!$i),this.placements[ui]=new No(Dt||Bt,Xt||Ht,di||E.justReloaded),d[ui]=!0};if(Rt){const Nt=E.getSortedSymbolIndexes(this.transform.angle);for(let oi=Nt.length-1;oi>=0;--oi){const Jt=Nt[oi];Si(E.symbolInstances.get(Jt),Jt,E.collisionArrays[Jt])}}else for(let Nt=o.symbolInstanceStart;Nt<o.symbolInstanceEnd;Nt++)Si(E.symbolInstances.get(Nt),Nt,E.collisionArrays[Nt]);if(_&&E.bucketInstanceId in this.collisionCircleArrays){const Nt=this.collisionCircleArrays[E.bucketInstanceId];s.invert(Nt.invProjMatrix,H),Nt.viewportMatrix=this.collisionIndex.getViewportMatrix()}E.justReloaded=!1}markUsedJustification(o,d,_,w){const{leftJustifiedTextSymbolIndex:E,centerJustifiedTextSymbolIndex:N,rightJustifiedTextSymbolIndex:H,verticalPlacedTextSymbolIndex:le,crossTileID:ve}=_,ye=s.getAnchorJustification(d),Pe=w===s.WritingMode.vertical?le:ye==="left"?E:ye==="center"?N:ye==="right"?H:-1;E>=0&&(o.text.placedSymbolArray.get(E).crossTileID=Pe>=0&&E!==Pe?0:ve),N>=0&&(o.text.placedSymbolArray.get(N).crossTileID=Pe>=0&&N!==Pe?0:ve),H>=0&&(o.text.placedSymbolArray.get(H).crossTileID=Pe>=0&&H!==Pe?0:ve),le>=0&&(o.text.placedSymbolArray.get(le).crossTileID=Pe>=0&&le!==Pe?0:ve)}markUsedOrientation(o,d,_){const w=d===s.WritingMode.horizontal||d===s.WritingMode.horizontalOnly?d:0,E=d===s.WritingMode.vertical?d:0,{leftJustifiedTextSymbolIndex:N,centerJustifiedTextSymbolIndex:H,rightJustifiedTextSymbolIndex:le,verticalPlacedTextSymbolIndex:ve}=_,ye=o.text.placedSymbolArray;N>=0&&(ye.get(N).placedOrientation=w),H>=0&&(ye.get(H).placedOrientation=w),le>=0&&(ye.get(le).placedOrientation=w),ve>=0&&(ye.get(ve).placedOrientation=E)}commit(o){this.commitTime=o,this.zoomAtLastRecencyCheck=this.transform.zoom;const d=this.prevPlacement;let _=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;const w=d?d.symbolFadeChange(o):1,E=d?d.opacities:{},N=d?d.variableOffsets:{},H=d?d.placedOrientations:{};for(const le in this.placements){const ve=this.placements[le],ye=E[le];ye?(this.opacities[le]=new Wa(ye,w,ve.text,ve.icon,null,ve.clipped),_=_||ve.text!==ye.text.placed||ve.icon!==ye.icon.placed):(this.opacities[le]=new Wa(null,w,ve.text,ve.icon,ve.skipFade,ve.clipped),_=_||ve.text||ve.icon)}for(const le in E){const ve=E[le];if(!this.opacities[le]){const ye=new Wa(ve,w,!1,!1);ye.isHidden()||(this.opacities[le]=ye,_=_||ve.text.placed||ve.icon.placed)}}for(const le in N)this.variableOffsets[le]||!this.opacities[le]||this.opacities[le].isHidden()||(this.variableOffsets[le]=N[le]);for(const le in H)this.placedOrientations[le]||!this.opacities[le]||this.opacities[le].isHidden()||(this.placedOrientations[le]=H[le]);_?this.lastPlacementChangeTime=o:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:o)}updateLayerOpacities(o,d){const _={};for(const w of d){const E=w.getBucket(o);E&&w.latestFeatureIndex&&o.id===E.layerIds[0]&&this.updateBucketOpacities(E,_,w.collisionBoxArray)}}updateBucketOpacities(o,d,_){o.hasTextData()&&o.text.opacityVertexArray.clear(),o.hasIconData()&&o.icon.opacityVertexArray.clear(),o.hasIconCollisionBoxData()&&o.iconCollisionBox.collisionVertexArray.clear(),o.hasTextCollisionBoxData()&&o.textCollisionBox.collisionVertexArray.clear();const w=o.layers[0].layout,E=!!o.layers[0].dynamicFilter(),N=new Wa(null,0,!1,!1,!0),H=w.get("text-allow-overlap"),le=w.get("icon-allow-overlap"),ve=w.get("text-variable-anchor"),ye=w.get("text-rotation-alignment")==="map",Pe=w.get("text-pitch-alignment")==="map",$e=w.get("icon-text-fit")!=="none",Ze=new Wa(null,0,H&&(le||!o.hasIconData()||w.get("icon-optional")),le&&(H||!o.hasTextData()||w.get("text-optional")),!0);!o.collisionArrays&&_&&(o.hasIconCollisionBoxData()||o.hasTextCollisionBoxData())&&o.deserializeCollisionBoxes(_);const Ke=(et,je,ut)=>{for(let ct=0;ct<je/4;ct++)et.opacityVertexArray.emplaceBack(ut)};let Je=0;for(let et=0;et<o.symbolInstances.length;et++){const je=o.symbolInstances.get(et),{numHorizontalGlyphVertices:ut,numVerticalGlyphVertices:ct,crossTileID:dt,numIconVertices:wt}=je;let vt=this.opacities[dt];d[dt]?vt=N:vt||(vt=Ze,this.opacities[dt]=vt),d[dt]=!0;const Ct=ut>0||ct>0,Rt=wt>0,Bt=this.placedOrientations[dt],Ht=Bt===s.WritingMode.vertical,Si=Bt===s.WritingMode.horizontal||Bt===s.WritingMode.horizontalOnly;if(!Ct&&!Rt||vt.isHidden()||Je++,Ct){const Nt=ph(vt.text);Ke(o.text,ut,Ht?Jl:Nt),Ke(o.text,ct,Si?Jl:Nt);const oi=vt.text.isHidden(),{leftJustifiedTextSymbolIndex:Jt,centerJustifiedTextSymbolIndex:ui,rightJustifiedTextSymbolIndex:Gt,verticalPlacedTextSymbolIndex:Dt}=je,Xt=o.text.placedSymbolArray,di=oi||Ht?1:0;Jt>=0&&(Xt.get(Jt).hidden=di),ui>=0&&(Xt.get(ui).hidden=di),Gt>=0&&(Xt.get(Gt).hidden=di),Dt>=0&&(Xt.get(Dt).hidden=oi||Si?1:0);const fi=this.variableOffsets[dt];fi&&this.markUsedJustification(o,fi.anchor,je,Bt);const $i=this.placedOrientations[dt];$i&&(this.markUsedJustification(o,"left",je,$i),this.markUsedOrientation(o,$i,je))}if(Rt){const Nt=ph(vt.icon),{placedIconSymbolIndex:oi,verticalPlacedIconSymbolIndex:Jt}=je,ui=o.icon.placedSymbolArray,Gt=vt.icon.isHidden()?1:0;oi>=0&&(Ke(o.icon,wt,Ht?Jl:Nt),ui.get(oi).hidden=Gt),Jt>=0&&(Ke(o.icon,je.numVerticalIconVertices,Si?Jl:Nt),ui.get(Jt).hidden=Gt)}if(o.hasIconCollisionBoxData()||o.hasTextCollisionBoxData()){const Nt=o.collisionArrays[et];if(Nt){let oi=new s.pointGeometry(0,0),Jt=!0;if(Nt.textBox||Nt.verticalTextBox){if(ve){const Gt=this.variableOffsets[dt];Gt?(oi=Lc(Gt.anchor,Gt.width,Gt.height,Gt.textOffset,Gt.textScale),ye&&oi._rotate(Pe?this.transform.angle:-this.transform.angle)):Jt=!1}E&&(Jt=!vt.clipped),Nt.textBox&&js(o.textCollisionBox.collisionVertexArray,vt.text.placed,!Jt||Ht,oi.x,oi.y),Nt.verticalTextBox&&js(o.textCollisionBox.collisionVertexArray,vt.text.placed,!Jt||Si,oi.x,oi.y)}const ui=Jt&&!!(!Si&&Nt.verticalIconBox);Nt.iconBox&&js(o.iconCollisionBox.collisionVertexArray,vt.icon.placed,ui,$e?oi.x:0,$e?oi.y:0),Nt.verticalIconBox&&js(o.iconCollisionBox.collisionVertexArray,vt.icon.placed,!ui,$e?oi.x:0,$e?oi.y:0)}}}if(o.fullyClipped=Je===0,o.sortFeatures(this.transform.angle),this.retainedQueryData[o.bucketInstanceId]&&(this.retainedQueryData[o.bucketInstanceId].featureSortOrder=o.featureSortOrder),o.hasTextData()&&o.text.opacityVertexBuffer&&o.text.opacityVertexBuffer.updateData(o.text.opacityVertexArray),o.hasIconData()&&o.icon.opacityVertexBuffer&&o.icon.opacityVertexBuffer.updateData(o.icon.opacityVertexArray),o.hasIconCollisionBoxData()&&o.iconCollisionBox.collisionVertexBuffer&&o.iconCollisionBox.collisionVertexBuffer.updateData(o.iconCollisionBox.collisionVertexArray),o.hasTextCollisionBoxData()&&o.textCollisionBox.collisionVertexBuffer&&o.textCollisionBox.collisionVertexBuffer.updateData(o.textCollisionBox.collisionVertexArray),o.bucketInstanceId in this.collisionCircleArrays){const et=this.collisionCircleArrays[o.bucketInstanceId];o.placementInvProjMatrix=et.invProjMatrix,o.placementViewportMatrix=et.viewportMatrix,o.collisionCircleArray=et.circles,delete this.collisionCircleArrays[o.bucketInstanceId]}}symbolFadeChange(o){return this.fadeDuration===0?1:(o-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(o){return Math.max(0,(this.transform.zoom-o)/1.5)}hasTransitions(o){return this.stale||o-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(o,d){const _=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*_>o}setStale(){this.stale=!0}}function js(m,o,d,_,w){m.emplaceBack(o?1:0,d?1:0,_||0,w||0),m.emplaceBack(o?1:0,d?1:0,_||0,w||0),m.emplaceBack(o?1:0,d?1:0,_||0,w||0),m.emplaceBack(o?1:0,d?1:0,_||0,w||0)}const eu=Math.pow(2,25),Kl=Math.pow(2,24),ss=Math.pow(2,17),xl=Math.pow(2,16),id=Math.pow(2,9),Oc=Math.pow(2,8),As=Math.pow(2,1);function ph(m){if(m.opacity===0&&!m.placed)return 0;if(m.opacity===1&&m.placed)return 4294967295;const o=m.placed?1:0,d=Math.floor(127*m.opacity);return d*eu+o*Kl+d*ss+o*xl+d*id+o*Oc+d*As+o}const Jl=0;class Jn{constructor(o){this._sortAcrossTiles=o.layout.get("symbol-z-order")!=="viewport-y"&&o.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(o,d,_,w,E){const N=this._bucketParts;for(;this._currentTileIndex<o.length;)if(d.getBucketParts(N,w,o[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,E())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,N.sort((H,le)=>H.sortKey-le.sortKey));this._currentPartIndex<N.length;){const H=N[this._currentPartIndex];if(d.placeLayerBucketPart(H,this._seenCrossTileIDs,_,H.symbolInstanceStart===0),this._currentPartIndex++,E())return!0}return!1}}class or{constructor(o,d,_,w,E,N,H,le){this.placement=new Ds(o,E,N,H,le),this._currentPlacementIndex=d.length-1,this._forceFullPlacement=_,this._showCollisionBoxes=w,this._done=!1}isDone(){return this._done}continuePlacement(o,d,_){const w=s.exported.now(),E=()=>{const N=s.exported.now()-w;return!this._forceFullPlacement&&N>2};for(;this._currentPlacementIndex>=0;){const N=d[o[this._currentPlacementIndex]],H=this.placement.collisionIndex.transform.zoom;if(N.type==="symbol"&&(!N.minzoom||N.minzoom<=H)&&(!N.maxzoom||N.maxzoom>H)){if(this._inProgressLayer||(this._inProgressLayer=new Jn(N)),this._inProgressLayer.continuePlacement(_[N.source],this.placement,this._showCollisionBoxes,N,E))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(o){return this.placement.commit(o),this.placement}}const Rc=512/s.EXTENT/2;class nd{constructor(o,d,_){this.tileID=o,this.indexedSymbolInstances={},this.bucketInstanceId=_;for(let w=0;w<d.length;w++){const E=d.get(w),N=E.key;this.indexedSymbolInstances[N]||(this.indexedSymbolInstances[N]=[]),this.indexedSymbolInstances[N].push({crossTileID:E.crossTileID,coord:this.getScaledCoordinates(E,o)})}}getScaledCoordinates(o,d){const _=Rc/Math.pow(2,d.canonical.z-this.tileID.canonical.z);return{x:Math.floor((d.canonical.x*s.EXTENT+o.tileAnchorX)*_),y:Math.floor((d.canonical.y*s.EXTENT+o.tileAnchorY)*_)}}findMatches(o,d,_){const w=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z);for(let E=0;E<o.length;E++){const N=o.get(E);if(N.crossTileID)continue;const H=this.indexedSymbolInstances[N.key];if(!H)continue;const le=this.getScaledCoordinates(N,d);for(const ve of H)if(Math.abs(ve.coord.x-le.x)<=w&&Math.abs(ve.coord.y-le.y)<=w&&!_[ve.crossTileID]){_[ve.crossTileID]=!0,N.crossTileID=ve.crossTileID;break}}}}class fh{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class bl{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(o){const d=Math.round((o-this.lng)/360);if(d!==0)for(const _ in this.indexes){const w=this.indexes[_],E={};for(const N in w){const H=w[N];H.tileID=H.tileID.unwrapTo(H.tileID.wrap+d),E[H.tileID.key]=H}this.indexes[_]=E}this.lng=o}addBucket(o,d,_){if(this.indexes[o.overscaledZ]&&this.indexes[o.overscaledZ][o.key]){if(this.indexes[o.overscaledZ][o.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(o.overscaledZ,this.indexes[o.overscaledZ][o.key])}for(let E=0;E<d.symbolInstances.length;E++)d.symbolInstances.get(E).crossTileID=0;this.usedCrossTileIDs[o.overscaledZ]||(this.usedCrossTileIDs[o.overscaledZ]={});const w=this.usedCrossTileIDs[o.overscaledZ];for(const E in this.indexes){const N=this.indexes[E];if(Number(E)>o.overscaledZ)for(const H in N){const le=N[H];le.tileID.isChildOf(o)&&le.findMatches(d.symbolInstances,o,w)}else{const H=N[o.scaledTo(Number(E)).key];H&&H.findMatches(d.symbolInstances,o,w)}}for(let E=0;E<d.symbolInstances.length;E++){const N=d.symbolInstances.get(E);N.crossTileID||(N.crossTileID=_.generate(),w[N.crossTileID]=!0)}return this.indexes[o.overscaledZ]===void 0&&(this.indexes[o.overscaledZ]={}),this.indexes[o.overscaledZ][o.key]=new nd(o,d.symbolInstances,d.bucketInstanceId),!0}removeBucketCrossTileIDs(o,d){for(const _ in d.indexedSymbolInstances)for(const w of d.indexedSymbolInstances[_])delete this.usedCrossTileIDs[o][w.crossTileID]}removeStaleBuckets(o){let d=!1;for(const _ in this.indexes){const w=this.indexes[_];for(const E in w)o[w[E].bucketInstanceId]||(this.removeBucketCrossTileIDs(_,w[E]),delete w[E],d=!0)}return d}}class mh{constructor(){this.layerIndexes={},this.crossTileIDs=new fh,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(o,d,_,w){let E=this.layerIndexes[o.id];E===void 0&&(E=this.layerIndexes[o.id]=new bl);let N=!1;const H={};w.name!=="globe"&&E.handleWrapJump(_);for(const le of d){const ve=le.getBucket(o);ve&&o.id===ve.layerIds[0]&&(ve.bucketInstanceId||(ve.bucketInstanceId=++this.maxBucketInstanceId),E.addBucket(le.tileID,ve,this.crossTileIDs)&&(N=!0),H[ve.bucketInstanceId]=!0)}return E.removeStaleBuckets(H)&&(N=!0),N}pruneUnusedLayers(o){const d={};o.forEach(_=>{d[_]=!0});for(const _ in this.layerIndexes)d[_]||delete this.layerIndexes[_]}}const zc=(m,o)=>s.emitValidationErrors(m,o&&o.filter(d=>d.identifier!=="source.canvas")),wl=s.pick(tn,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),$a=s.pick(tn,["setCenter","setZoom","setBearing","setPitch"]),Or={version:8,layers:[],sources:{}},jo={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class os extends s.Evented{constructor(o,d={}){super(),this.map=o,this.dispatcher=new Qe(sn(),this),this.imageManager=new K,this.imageManager.setEventedParent(this),this.glyphManager=new s.GlyphManager(o._requestManager,d.localFontFamily?s.LocalGlyphMode.all:d.localIdeographFontFamily?s.LocalGlyphMode.ideographs:s.LocalGlyphMode.none,d.localFontFamily||d.localIdeographFontFamily),this.crossTileSymbolIndex=new mh,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",s.getReferrer());const _=this;this._rtlTextPluginCallback=os.registerForPluginStateChange(w=>{_.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:w.pluginStatus,pluginURL:w.pluginURL},(E,N)=>{if(s.triggerPluginCompletionEvent(E),N&&N.every(H=>H))for(const H in _._sourceCaches){const le=_._sourceCaches[H],ve=le.getSource().type;ve!=="vector"&&ve!=="geojson"||le.reload()}})}),this.on("data",w=>{if(w.dataType!=="source"||w.sourceDataType!=="metadata")return;const E=this.getSource(w.sourceId);if(E&&E.vectorLayerIds)for(const N in this._layers){const H=this._layers[N];H.source===E.id&&this._validateLayer(H)}})}loadURL(o,d={}){this.fire(new s.Event("dataloading",{dataType:"style"}));const _=typeof d.validate=="boolean"?d.validate:!s.isMapboxURL(o);o=this.map._requestManager.normalizeStyleURL(o,d.accessToken);const w=this.map._requestManager.transformRequest(o,s.ResourceType.Style);this._request=s.getJSON(w,(E,N)=>{this._request=null,E?this.fire(new s.ErrorEvent(E)):N&&this._load(N,_)})}loadJSON(o,d={}){this.fire(new s.Event("dataloading",{dataType:"style"})),this._request=s.exported.frame(()=>{this._request=null,this._load(o,d.validate!==!1)})}loadEmpty(){this.fire(new s.Event("dataloading",{dataType:"style"})),this._load(Or,!1)}_updateLayerCount(o,d){const _=d?1:-1;o.is3D()&&(this._num3DLayers+=_),o.type==="circle"&&(this._numCircleLayers+=_),o.type==="symbol"&&(this._numSymbolLayers+=_)}_load(o,d){if(d&&zc(this,s.validateStyle(o)))return;this._loaded=!0,this.stylesheet=s.clone$1(o),this._updateMapProjection();for(const w in o.sources)this.addSource(w,o.sources[w],{validate:!1});this._changed=!1,o.sprite?this._loadSprite(o.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(o.glyphs);const _=jn(this.stylesheet.layers);this._order=_.map(w=>w.id),this._layers={},this._serializedLayers={};for(const w of _){const E=s.createStyleLayer(w);E.setEventedParent(this,{layer:{id:E.id}}),this._layers[E.id]=E,this._serializedLayers[E.id]=E.serialize(),this._updateLayerCount(E,!0)}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new C(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new s.Event("data",{dataType:"style"})),this.fire(new s.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(o){o?this.stylesheet.projection=o:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(o){this._spriteRequest=function(d,_,w){let E,N,H;const le=s.exported.devicePixelRatio>1?"@2x":"";let ve=s.getJSON(_.transformRequest(_.normalizeSpriteURL(d,le,".json"),s.ResourceType.SpriteJSON),($e,Ze)=>{ve=null,H||(H=$e,E=Ze,Pe())}),ye=s.getImage(_.transformRequest(_.normalizeSpriteURL(d,le,".png"),s.ResourceType.SpriteImage),($e,Ze)=>{ye=null,H||(H=$e,N=Ze,Pe())});function Pe(){if(H)w(H);else if(E&&N){const $e=s.exported.getImageData(N),Ze={};for(const Ke in E){const{width:Je,height:et,x:je,y:ut,sdf:ct,pixelRatio:dt,stretchX:wt,stretchY:vt,content:Ct}=E[Ke],Rt=new s.RGBAImage({width:Je,height:et});s.RGBAImage.copy($e,Rt,{x:je,y:ut},{x:0,y:0},{width:Je,height:et}),Ze[Ke]={data:Rt,pixelRatio:dt,sdf:ct,stretchX:wt,stretchY:vt,content:Ct}}w(null,Ze)}}return{cancel(){ve&&(ve.cancel(),ve=null),ye&&(ye.cancel(),ye=null)}}}(o,this.map._requestManager,(d,_)=>{if(this._spriteRequest=null,d)this.fire(new s.ErrorEvent(d));else if(_)for(const w in _)this.imageManager.addImage(w,_[w]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new s.Event("data",{dataType:"style"}))})}_validateLayer(o){const d=this.getSource(o.source);if(!d)return;const _=o.sourceLayer;_&&(d.type==="geojson"||d.vectorLayerIds&&d.vectorLayerIds.indexOf(_)===-1)&&this.fire(new s.ErrorEvent(new Error(`Source layer "${_}" does not exist on source "${d.id}" as specified by style layer "${o.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const o in this._sourceCaches)if(!this._sourceCaches[o].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(o){const d=[];for(const _ of o){const w=this._layers[_];w.type!=="custom"&&d.push(w.serialize())}return d}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const o in this._sourceCaches)if(this._sourceCaches[o].hasTransition())return!0;for(const o in this._layers)if(this._layers[o].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(o){return!!this.terrain&&(typeof o.isLayerDraped=="function"?o.isLayerDraped():jo[o.type])}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(o){if(!this._loaded)return;const d=this._changed;if(this._changed){const w=Object.keys(this._updatedLayers),E=Object.keys(this._removedLayers);(w.length||E.length)&&this._updateWorkerLayers(w,E);for(const N in this._updatedSources){const H=this._updatedSources[N];H==="reload"?this._reloadSource(N):H==="clear"&&this._clearSource(N)}this._updateTilesForChangedImages();for(const N in this._updatedPaintProps)this._layers[N].updateTransitions(o);this.light.updateTransitions(o),this.fog&&this.fog.updateTransitions(o),this._resetUpdates()}const _={};for(const w in this._sourceCaches){const E=this._sourceCaches[w];_[w]=E.used,E.used=!1}for(const w of this._order){const E=this._layers[w];if(E.recalculate(o,this._availableImages),!E.isHidden(o.zoom)){const H=this._getLayerSourceCache(E);H&&(H.used=!0)}const N=this.map.painter;if(N){const H=E.getProgramIds();if(!H)continue;const le=E.getProgramConfiguration(o.zoom);for(const ve of H)N.useProgram(ve,le)}}for(const w in _){const E=this._sourceCaches[w];_[w]!==E.used&&E.getSource().fire(new s.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:E.getSource().id}))}this.light.recalculate(o),this.terrain&&this.terrain.recalculate(o),this.fog&&this.fog.recalculate(o),this.z=o.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),d&&this.fire(new s.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const o=Object.keys(this._changedImages);if(o.length){for(const d in this._sourceCaches)this._sourceCaches[d].reloadTilesForDependencies(["icons","patterns"],o);this._changedImages={}}}_updateWorkerLayers(o,d){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(o),removedIds:d})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(o){if(this._checkLoaded(),zc(this,s.validateStyle(o)))return!1;(o=s.clone$1(o)).layers=jn(o.layers);const d=function(w,E){if(!w)return[{command:tn.setStyle,args:[E]}];let N=[];try{if(!b(w.version,E.version))return[{command:tn.setStyle,args:[E]}];b(w.center,E.center)||N.push({command:tn.setCenter,args:[E.center]}),b(w.zoom,E.zoom)||N.push({command:tn.setZoom,args:[E.zoom]}),b(w.bearing,E.bearing)||N.push({command:tn.setBearing,args:[E.bearing]}),b(w.pitch,E.pitch)||N.push({command:tn.setPitch,args:[E.pitch]}),b(w.sprite,E.sprite)||N.push({command:tn.setSprite,args:[E.sprite]}),b(w.glyphs,E.glyphs)||N.push({command:tn.setGlyphs,args:[E.glyphs]}),b(w.transition,E.transition)||N.push({command:tn.setTransition,args:[E.transition]}),b(w.light,E.light)||N.push({command:tn.setLight,args:[E.light]}),b(w.fog,E.fog)||N.push({command:tn.setFog,args:[E.fog]}),b(w.projection,E.projection)||N.push({command:tn.setProjection,args:[E.projection]});const H={},le=[];(function(Pe,$e,Ze,Ke){let Je;for(Je in $e=$e||{},Pe=Pe||{})Pe.hasOwnProperty(Je)&&($e.hasOwnProperty(Je)||sr(Je,Ze,Ke));for(Je in $e){if(!$e.hasOwnProperty(Je))continue;const et=$e[Je];Pe.hasOwnProperty(Je)?b(Pe[Je],et)||(Pe[Je].type==="geojson"&&et.type==="geojson"&&Qo(Pe,$e,Je)?Ze.push({command:tn.setGeoJSONSourceData,args:[Je,et.data]}):wa(Je,$e,Ze,Ke)):Xn(Je,$e,Ze)}})(w.sources,E.sources,le,H);const ve=[];w.layers&&w.layers.forEach(Pe=>{Pe.source&&H[Pe.source]?N.push({command:tn.removeLayer,args:[Pe.id]}):ve.push(Pe)});let ye=w.terrain;ye&&H[ye.source]&&(N.push({command:tn.setTerrain,args:[void 0]}),ye=void 0),N=N.concat(le),b(ye,E.terrain)||N.push({command:tn.setTerrain,args:[E.terrain]}),function(Pe,$e,Ze){$e=$e||[];const Ke=(Pe=Pe||[]).map(So),Je=$e.map(So),et=Pe.reduce($r,{}),je=$e.reduce($r,{}),ut=Ke.slice(),ct=Object.create(null);let dt,wt,vt,Ct,Rt,Bt,Ht;for(dt=0,wt=0;dt<Ke.length;dt++)vt=Ke[dt],je.hasOwnProperty(vt)?wt++:(Ze.push({command:tn.removeLayer,args:[vt]}),ut.splice(ut.indexOf(vt,wt),1));for(dt=0,wt=0;dt<Je.length;dt++)vt=Je[Je.length-1-dt],ut[ut.length-1-dt]!==vt&&(et.hasOwnProperty(vt)?(Ze.push({command:tn.removeLayer,args:[vt]}),ut.splice(ut.lastIndexOf(vt,ut.length-wt),1)):wt++,Bt=ut[ut.length-dt],Ze.push({command:tn.addLayer,args:[je[vt],Bt]}),ut.splice(ut.length-dt,0,vt),ct[vt]=!0);for(dt=0;dt<Je.length;dt++)if(vt=Je[dt],Ct=et[vt],Rt=je[vt],!ct[vt]&&!b(Ct,Rt))if(b(Ct.source,Rt.source)&&b(Ct["source-layer"],Rt["source-layer"])&&b(Ct.type,Rt.type)){for(Ht in ti(Ct.layout,Rt.layout,Ze,vt,null,tn.setLayoutProperty),ti(Ct.paint,Rt.paint,Ze,vt,null,tn.setPaintProperty),b(Ct.filter,Rt.filter)||Ze.push({command:tn.setFilter,args:[vt,Rt.filter]}),b(Ct.minzoom,Rt.minzoom)&&b(Ct.maxzoom,Rt.maxzoom)||Ze.push({command:tn.setLayerZoomRange,args:[vt,Rt.minzoom,Rt.maxzoom]}),Ct)Ct.hasOwnProperty(Ht)&&Ht!=="layout"&&Ht!=="paint"&&Ht!=="filter"&&Ht!=="metadata"&&Ht!=="minzoom"&&Ht!=="maxzoom"&&(Ht.indexOf("paint.")===0?ti(Ct[Ht],Rt[Ht],Ze,vt,Ht.slice(6),tn.setPaintProperty):b(Ct[Ht],Rt[Ht])||Ze.push({command:tn.setLayerProperty,args:[vt,Ht,Rt[Ht]]}));for(Ht in Rt)Rt.hasOwnProperty(Ht)&&!Ct.hasOwnProperty(Ht)&&Ht!=="layout"&&Ht!=="paint"&&Ht!=="filter"&&Ht!=="metadata"&&Ht!=="minzoom"&&Ht!=="maxzoom"&&(Ht.indexOf("paint.")===0?ti(Ct[Ht],Rt[Ht],Ze,vt,Ht.slice(6),tn.setPaintProperty):b(Ct[Ht],Rt[Ht])||Ze.push({command:tn.setLayerProperty,args:[vt,Ht,Rt[Ht]]}))}else Ze.push({command:tn.removeLayer,args:[vt]}),Bt=ut[ut.lastIndexOf(vt)+1],Ze.push({command:tn.addLayer,args:[Rt,Bt]})}(ve,E.layers,N)}catch(H){console.warn("Unable to compute style diff:",H),N=[{command:tn.setStyle,args:[E]}]}return N}(this.serialize(),o).filter(w=>!(w.command in $a));if(d.length===0)return!1;const _=d.filter(w=>!(w.command in wl));if(_.length>0)throw new Error(`Unimplemented: ${_.map(w=>w.command).join(", ")}.`);return d.forEach(w=>{w.command!=="setTransition"&&w.command!=="setProjection"&&this[w.command].apply(this,w.args)}),this.stylesheet=o,this._updateMapProjection(),!0}addImage(o,d){return this.getImage(o)?this.fire(new s.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(o,d),this._afterImageUpdated(o),this)}updateImage(o,d){this.imageManager.updateImage(o,d)}getImage(o){return this.imageManager.getImage(o)}removeImage(o){return this.getImage(o)?(this.imageManager.removeImage(o),this._afterImageUpdated(o),this):this.fire(new s.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(o){this._availableImages=this.imageManager.listImages(),this._changedImages[o]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(o,d,_={}){if(this._checkLoaded(),this.getSource(o)!==void 0)throw new Error("There is already a source with this ID");if(!d.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(d).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(s.validateSource,`sources.${o}`,d,null,_))return;this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);const w=Ot(o,d,this.dispatcher,this);w.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(o),source:w.serialize(),sourceId:o}));const E=N=>{const H=(N?"symbol:":"other:")+o,le=this._sourceCaches[H]=new s.SourceCache(H,w,N);(N?this._symbolSourceCaches:this._otherSourceCaches)[o]=le,le.style=this,le.onAdd(this.map)};E(!1),d.type!=="vector"&&d.type!=="geojson"||E(!0),w.onAdd&&w.onAdd(this.map),this._changed=!0}removeSource(o){this._checkLoaded();const d=this.getSource(o);if(!d)throw new Error("There is no source with this ID");for(const w in this._layers)if(this._layers[w].source===o)return this.fire(new s.ErrorEvent(new Error(`Source "${o}" cannot be removed while layer "${w}" is using it.`)));if(this.terrain&&this.terrain.get().source===o)return this.fire(new s.ErrorEvent(new Error(`Source "${o}" cannot be removed while terrain is using it.`)));const _=this._getSourceCaches(o);for(const w of _)delete this._sourceCaches[w.id],delete this._updatedSources[w.id],w.fire(new s.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:w.getSource().id})),w.setEventedParent(null),w.clearTiles();return delete this._otherSourceCaches[o],delete this._symbolSourceCaches[o],d.setEventedParent(null),d.onRemove&&d.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(o,d){this._checkLoaded(),this.getSource(o).setData(d),this._changed=!0}getSource(o){const d=this._getSourceCache(o);return d&&d.getSource()}_getSources(){const o=[];for(const d in this._otherSourceCaches){const _=this._getSourceCache(d);_&&o.push(_.getSource())}return o}addLayer(o,d,_={}){this._checkLoaded();const w=o.id;if(this.getLayer(w))return void this.fire(new s.ErrorEvent(new Error(`Layer with id "${w}" already exists on this map`)));let E;if(o.type==="custom"){if(zc(this,s.validateCustomStyleLayer(o)))return;E=s.createStyleLayer(o)}else{if(typeof o.source=="object"&&(this.addSource(w,o.source),o=s.clone$1(o),o=s.extend(o,{source:w})),this._validate(s.validateLayer,`layers.${w}`,o,{arrayIndex:-1},_))return;E=s.createStyleLayer(o),this._validateLayer(E),E.setEventedParent(this,{layer:{id:w}}),this._serializedLayers[E.id]=E.serialize(),this._updateLayerCount(E,!0)}const N=d?this._order.indexOf(d):this._order.length;if(d&&N===-1)return void this.fire(new s.ErrorEvent(new Error(`Layer with id "${d}" does not exist on this map.`)));this._order.splice(N,0,w),this._layerOrderChanged=!0,this._layers[w]=E;const H=this._getLayerSourceCache(E);if(this._removedLayers[w]&&E.source&&H&&E.type!=="custom"){const le=this._removedLayers[w];delete this._removedLayers[w],le.type!==E.type?this._updatedSources[E.source]="clear":(this._updatedSources[E.source]="reload",H.pause())}this._updateLayer(E),E.onAdd&&E.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(o,d){if(this._checkLoaded(),this._changed=!0,!this._layers[o])return void this.fire(new s.ErrorEvent(new Error(`The layer '${o}' does not exist in the map's style and cannot be moved.`)));if(o===d)return;const _=this._order.indexOf(o);this._order.splice(_,1);const w=d?this._order.indexOf(d):this._order.length;d&&w===-1?this.fire(new s.ErrorEvent(new Error(`Layer with id "${d}" does not exist on this map.`))):(this._order.splice(w,0,o),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(o){this._checkLoaded();const d=this._layers[o];if(!d)return void this.fire(new s.ErrorEvent(new Error(`The layer '${o}' does not exist in the map's style and cannot be removed.`)));d.setEventedParent(null),this._updateLayerCount(d,!1);const _=this._order.indexOf(o);this._order.splice(_,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[o]=d,delete this._layers[o],delete this._serializedLayers[o],delete this._updatedLayers[o],delete this._updatedPaintProps[o],d.onRemove&&d.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(o){return this._layers[o]}hasLayer(o){return o in this._layers}hasLayerType(o){for(const d in this._layers)if(this._layers[d].type===o)return!0;return!1}setLayerZoomRange(o,d,_){this._checkLoaded();const w=this.getLayer(o);w?w.minzoom===d&&w.maxzoom===_||(d!=null&&(w.minzoom=d),_!=null&&(w.maxzoom=_),this._updateLayer(w)):this.fire(new s.ErrorEvent(new Error(`The layer '${o}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(o,d,_={}){this._checkLoaded();const w=this.getLayer(o);if(w){if(!b(w.filter,d))return d==null?(w.filter=void 0,void this._updateLayer(w)):void(this._validate(s.validateFilter,`layers.${w.id}.filter`,d,{layerType:w.type},_)||(w.filter=s.clone$1(d),this._updateLayer(w)))}else this.fire(new s.ErrorEvent(new Error(`The layer '${o}' does not exist in the map's style and cannot be filtered.`)))}getFilter(o){const d=this.getLayer(o);return d&&s.clone$1(d.filter)}setLayoutProperty(o,d,_,w={}){this._checkLoaded();const E=this.getLayer(o);E?b(E.getLayoutProperty(d),_)||(E.setLayoutProperty(d,_,w),this._updateLayer(E)):this.fire(new s.ErrorEvent(new Error(`The layer '${o}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(o,d){const _=this.getLayer(o);if(_)return _.getLayoutProperty(d);this.fire(new s.ErrorEvent(new Error(`The layer '${o}' does not exist in the map's style.`)))}setPaintProperty(o,d,_,w={}){this._checkLoaded();const E=this.getLayer(o);E?b(E.getPaintProperty(d),_)||(E.setPaintProperty(d,_,w)&&this._updateLayer(E),this._changed=!0,this._updatedPaintProps[o]=!0):this.fire(new s.ErrorEvent(new Error(`The layer '${o}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(o,d){const _=this.getLayer(o);return _&&_.getPaintProperty(d)}setFeatureState(o,d){this._checkLoaded();const _=o.source,w=o.sourceLayer,E=this.getSource(_);if(!E)return void this.fire(new s.ErrorEvent(new Error(`The source '${_}' does not exist in the map's style.`)));const N=E.type;if(N==="geojson"&&w)return void this.fire(new s.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(N==="vector"&&!w)return void this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));o.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided.")));const H=this._getSourceCaches(_);for(const le of H)le.setFeatureState(w,o.id,d)}removeFeatureState(o,d){this._checkLoaded();const _=o.source,w=this.getSource(_);if(!w)return void this.fire(new s.ErrorEvent(new Error(`The source '${_}' does not exist in the map's style.`)));const E=w.type,N=E==="vector"?o.sourceLayer:void 0;if(E==="vector"&&!N)return void this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(d&&typeof o.id!="string"&&typeof o.id!="number")return void this.fire(new s.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const H=this._getSourceCaches(_);for(const le of H)le.removeFeatureState(N,o.id,d)}getFeatureState(o){this._checkLoaded();const d=o.source,_=o.sourceLayer,w=this.getSource(d);if(w){if(w.type!=="vector"||_)return o.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(d)[0].getFeatureState(_,o.id);this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new s.ErrorEvent(new Error(`The source '${d}' does not exist in the map's style.`)))}getTransition(){return s.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const o={};for(const d in this._sourceCaches){const _=this._sourceCaches[d].getSource();o[_.id]||(o[_.id]=_.serialize())}return s.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:o,layers:this._serializeLayers(this._order)},d=>d!==void 0)}_updateLayer(o){this._updatedLayers[o.id]=!0;const d=this._getLayerSourceCache(o);o.source&&!this._updatedSources[o.source]&&d&&d.getSource().type!=="raster"&&(this._updatedSources[o.source]="reload",d.pause()),this._changed=!0,o.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(o){const d=N=>this._layers[N].type==="fill-extrusion",_={},w=[];for(let N=this._order.length-1;N>=0;N--){const H=this._order[N];if(d(H)){_[H]=N;for(const le of o){const ve=le[H];if(ve)for(const ye of ve)w.push(ye)}}}w.sort((N,H)=>H.intersectionZ-N.intersectionZ);const E=[];for(let N=this._order.length-1;N>=0;N--){const H=this._order[N];if(d(H))for(let le=w.length-1;le>=0;le--){const ve=w[le].feature;if(_[ve.layer.id]<N)break;E.push(ve),w.pop()}else for(const le of o){const ve=le[H];if(ve)for(const ye of ve)E.push(ye.feature)}}return E}queryRenderedFeatures(o,d,_){d&&d.filter&&this._validate(s.validateFilter,"queryRenderedFeatures.filter",d.filter,null,d);const w={};if(d&&d.layers){if(!Array.isArray(d.layers))return this.fire(new s.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const le of d.layers){const ve=this._layers[le];if(!ve)return this.fire(new s.ErrorEvent(new Error(`The layer '${le}' does not exist in the map's style and cannot be queried for features.`))),[];w[ve.source]=!0}}const E=[];d.availableImages=this._availableImages;const N=d&&d.layers?d.layers.some(le=>{const ve=this.getLayer(le);return ve&&ve.is3D()}):this.has3DLayers(),H=ce.createFromScreenPoints(o,_);for(const le in this._sourceCaches){const ve=this._sourceCaches[le].getSource().id;d.layers&&!w[ve]||E.push(Ut(this._sourceCaches[le],this._layers,this._serializedLayers,H,d,_,N,!!this.map._showQueryGeometry))}return this.placement&&E.push(function(le,ve,ye,Pe,$e,Ze,Ke){const Je={},et=Ze.queryRenderedSymbols(Pe),je=[];for(const ut of Object.keys(et).map(Number))je.push(Ke[ut]);je.sort(Li);for(const ut of je){const ct=ut.featureIndex.lookupSymbolFeatures(et[ut.bucketInstanceId],ve,ut.bucketIndex,ut.sourceLayerIndex,$e.filter,$e.layers,$e.availableImages,le);for(const dt in ct){const wt=Je[dt]=Je[dt]||[],vt=ct[dt];vt.sort((Ct,Rt)=>{const Bt=ut.featureSortOrder;if(Bt){const Ht=Bt.indexOf(Ct.featureIndex);return Bt.indexOf(Rt.featureIndex)-Ht}return Rt.featureIndex-Ct.featureIndex});for(const Ct of vt)wt.push(Ct)}}for(const ut in Je)Je[ut].forEach(ct=>{const dt=ct.feature,wt=ye(le[ut]);if(!wt)return;const vt=wt.getFeatureState(dt.layer["source-layer"],dt.id);dt.source=dt.layer.source,dt.layer["source-layer"]&&(dt.sourceLayer=dt.layer["source-layer"]),dt.state=vt});return Je}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),H.screenGeometry,d,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(E)}querySourceFeatures(o,d){d&&d.filter&&this._validate(s.validateFilter,"querySourceFeatures.filter",d.filter,null,d);const _=this._getSourceCaches(o);let w=[];for(const E of _)w=w.concat(hi(E,d));return w}addSourceType(o,d,_){return os.getSourceType(o)?_(new Error(`A source type called "${o}" already exists.`)):(os.setSourceType(o,d),d.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:o,url:d.workerSourceURL},_):_(null,null))}getLight(){return this.light.getLight()}setLight(o,d={}){this._checkLoaded();const _=this.light.getLight();let w=!1;for(const N in o)if(!b(o[N],_[N])){w=!0;break}if(!w)return;const E=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(o,d),this.light.updateTransitions(E)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(o,d=1){if(this._checkLoaded(),!o)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let _=o;if(d===1){if(typeof _.source=="object"){const w="terrain-dem-src";this.addSource(w,_.source),_=s.clone$1(_),_=s.extend(_,{source:w})}if(this._validate(s.validateTerrain,"terrain",_))return}if(!this.terrain||this.terrain&&d!==this.terrain.drapeRenderMode){if(!_)return;this._createTerrain(_,d)}else{const w=this.terrain,E=w.get();for(const N of Object.keys(s.spec.terrain))!_.hasOwnProperty(N)&&s.spec.terrain[N].default&&(_[N]=s.spec.terrain[N].default);for(const N in _)if(!b(_[N],E[N])){w.set(_),this.stylesheet.terrain=_;const H=this._setTransitionParameters({duration:0});w.updateTransitions(H);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(o){const d=this.fog=new We(o,this.map.transform);this.stylesheet.fog=o;const _=this._setTransitionParameters({duration:0});d.updateTransitions(_)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const o of this.map._markers)o._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(o){if(this._checkLoaded(),!o)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const d=this.fog,_=d.get();Object.keys(o).length===0&&d.set(o);for(const w in o)if(!b(o[w],_[w])){d.set(o),this.stylesheet.fog=o;const E=this._setTransitionParameters({duration:0});d.updateTransitions(E);break}}else this._createFog(o);this._markersNeedUpdate=!0}_setTransitionParameters(o){return{now:s.exported.now(),transition:s.extend(o,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const o=this._order.filter(_=>this.isLayerDraped(this._layers[_])),d=this._order.filter(_=>!this.isLayerDraped(this._layers[_]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...o),this._drapedFirstOrder.push(...d)}_createTerrain(o,d){const _=this.terrain=new Q(o,d);this.stylesheet.terrain=o,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const w=this._setTransitionParameters({duration:0});_.updateTransitions(w)}_force3DLayerUpdate(){for(const o in this._layers){const d=this._layers[o];d.type==="fill-extrusion"&&this._updateLayer(d)}}_forceSymbolLayerUpdate(){for(const o in this._layers){const d=this._layers[o];d.type==="symbol"&&this._updateLayer(d)}}_validate(o,d,_,w,E={}){return(!E||E.validate!==!1)&&zc(this,o.call(s.validateStyle,s.extend({key:d,style:this.serialize(),value:_,styleSpec:s.spec},w)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),s.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const o in this._layers)this._layers[o].setEventedParent(null);for(const o in this._sourceCaches)this._sourceCaches[o].clearTiles(),this._sourceCaches[o].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(o){const d=this._getSourceCaches(o);for(const _ of d)_.clearTiles()}_reloadSource(o){const d=this._getSourceCaches(o);for(const _ of d)_.resume(),_.reload()}_reloadSources(){for(const o of this._getSources())o.reload&&o.reload()}_updateSources(o){for(const d in this._sourceCaches)this._sourceCaches[d].update(o)}_generateCollisionBoxes(){for(const o in this._sourceCaches){const d=this._sourceCaches[o];d.resume(),d.reload()}}_updatePlacement(o,d,_,w,E=!1){let N=!1,H=!1;const le={};for(const ve of this._order){const ye=this._layers[ve];if(ye.type!=="symbol")continue;if(!le[ye.source]){const $e=this._getLayerSourceCache(ye);if(!$e)continue;le[ye.source]=$e.getRenderableIds(!0).map(Ze=>$e.getTileByID(Ze)).sort((Ze,Ke)=>Ke.tileID.overscaledZ-Ze.tileID.overscaledZ||(Ze.tileID.isLessThan(Ke.tileID)?-1:1))}const Pe=this.crossTileSymbolIndex.addLayer(ye,le[ye.source],o.center.lng,o.projection);N=N||Pe}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),E=E||this._layerOrderChanged||_===0,this._layerOrderChanged&&this.fire(new s.Event("neworder")),(E||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(s.exported.now(),o.zoom))&&(this.pauseablePlacement=new or(o,this._order,E,d,_,w,this.placement,this.fog&&o.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,le),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(s.exported.now()),H=!0),N&&this.pauseablePlacement.placement.setStale()),H||N)for(const ve of this._order){const ye=this._layers[ve];ye.type==="symbol"&&this.placement.updateLayerOpacities(ye,le[ye.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(s.exported.now())}_releaseSymbolFadeTiles(){for(const o in this._sourceCaches)this._sourceCaches[o].releaseSymbolFadeTiles()}getImages(o,d,_){this.imageManager.getImages(d.icons,_),this._updateTilesForChangedImages();const w=E=>{E&&E.setDependencies(d.tileID.key,d.type,d.icons)};w(this._otherSourceCaches[d.source]),w(this._symbolSourceCaches[d.source])}getGlyphs(o,d,_){this.glyphManager.getGlyphs(d.stacks,_)}getResource(o,d,_){return s.makeRequest(d,_)}_getSourceCache(o){return this._otherSourceCaches[o]}_getLayerSourceCache(o){return o.type==="symbol"?this._symbolSourceCaches[o.source]:this._otherSourceCaches[o.source]}_getSourceCaches(o){const d=[];return this._otherSourceCaches[o]&&d.push(this._otherSourceCaches[o]),this._symbolSourceCaches[o]&&d.push(this._symbolSourceCaches[o]),d}_isSourceCacheLoaded(o){const d=this._getSourceCaches(o);return d.length===0?(this.fire(new s.ErrorEvent(new Error(`There is no source with ID '${o}'`))),!1):d.every(_=>_.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}os.getSourceType=function(m){return zt[m]},os.setSourceType=function(m,o){zt[m]=o},os.registerForPluginStateChange=s.registerForPluginStateChange;var Ql=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,gh="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",oo=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,M=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,U=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let ue={},be={};const Oe=[];Lt(Ql,Oe),Lt(oo,Oe),Lt(M,Oe),Lt(U,Oe),ue=Wt("",oo),be=Wt(U,M);const Re=Wt(`
#if __VERSION__ >=300
#define varying in
#define gl_FragColor glFragColor
#define texture2D texture
#define textureCube texture
out vec4 glFragColor;
#endif
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
#if __VERSION__ >=300
#define attribute in
#define varying out
#define texture2D texture
#endif
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),Ge=Ql,St=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var gt={background:Wt(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Wt(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Wt(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Wt("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Wt(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Wt(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Wt("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Wt("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Wt("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:Wt(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:Wt(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Wt(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Wt(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Wt(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:Wt(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:Wt(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Wt(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Wt(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trimmed=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb*u_border_color.a*trimmed,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:Wt(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:Wt(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:Wt(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:Wt(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:Wt(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:Wt(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float wireframeOffset=0.00015;void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=wireframeOffset;
#endif
v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:Wt(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;varying float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Wt(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,gh),skyboxGradient:Wt(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,gh),skyboxCapture:Wt(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Wt(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:Wt(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function Lt(m,o){const d=m.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let _ of d)if(_=_.trim(),_[0]==="#"&&_.includes("if")&&!_.includes("endif")){_=_.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const w=_.split(" ");for(const E of w)o.includes(E)||o.push(E)}}function Wt(m,o){const d=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,_=o.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),w={},E=[...Oe];return Lt(m,E),Lt(o,E),{fragmentSource:m=m.replace(d,(N,H,le,ve,ye)=>(w[ye]=!0,H==="define"?`
#ifndef HAS_UNIFORM_u_${ye}
varying ${le} ${ve} ${ye};
#else
uniform ${le} ${ve} u_${ye};
#endif
`:`
#ifdef HAS_UNIFORM_u_${ye}
    ${le} ${ve} ${ye} = u_${ye};
#endif
`)),vertexSource:o=o.replace(d,(N,H,le,ve,ye)=>{const Pe=ve==="float"?"vec2":"vec4",$e=ye.match(/color/)?"color":Pe;return w[ye]?H==="define"?`
#ifndef HAS_UNIFORM_u_${ye}
uniform lowp float u_${ye}_t;
attribute ${le} ${Pe} a_${ye};
varying ${le} ${ve} ${ye};
#else
uniform ${le} ${ve} u_${ye};
#endif
`:$e==="vec4"?`
#ifndef HAS_UNIFORM_u_${ye}
    ${ye} = a_${ye};
#else
    ${le} ${ve} ${ye} = u_${ye};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ye}
    ${ye} = unpack_mix_${$e}(a_${ye}, u_${ye}_t);
#else
    ${le} ${ve} ${ye} = u_${ye};
#endif
`:H==="define"?`
#ifndef HAS_UNIFORM_u_${ye}
uniform lowp float u_${ye}_t;
attribute ${le} ${Pe} a_${ye};
#else
uniform ${le} ${ve} u_${ye};
#endif
`:$e==="vec4"?`
#ifndef HAS_UNIFORM_u_${ye}
    ${le} ${ve} ${ye} = a_${ye};
#else
    ${le} ${ve} ${ye} = u_${ye};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ye}
    ${le} ${ve} ${ye} = unpack_mix_${$e}(a_${ye}, u_${ye}_t);
#else
    ${le} ${ve} ${ye} = u_${ye};
#endif
`}),staticAttributes:_,usedDefines:E}}class si{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(o,d,_,w,E,N,H){this.context=o;let le=this.boundPaintVertexBuffers.length!==w.length;for(let ye=0;!le&&ye<w.length;ye++)this.boundPaintVertexBuffers[ye]!==w[ye]&&(le=!0);let ve=this.boundDynamicVertexBuffers.length!==H.length;for(let ye=0;!ve&&ye<H.length;ye++)this.boundDynamicVertexBuffers[ye]!==H[ye]&&(ve=!0);if(!o.extVertexArrayObject||!this.vao||this.boundProgram!==d||this.boundLayoutVertexBuffer!==_||le||ve||this.boundIndexBuffer!==E||this.boundVertexOffset!==N)this.freshBind(d,_,w,E,N,H);else{o.bindVertexArrayOES.set(this.vao);for(const ye of H)ye&&ye.bind();E&&E.dynamicDraw&&E.bind()}}freshBind(o,d,_,w,E,N){let H;const le=o.numAttributes,ve=this.context,ye=ve.gl;if(ve.extVertexArrayObject)this.vao&&this.destroy(),this.vao=ve.extVertexArrayObject.createVertexArrayOES(),ve.bindVertexArrayOES.set(this.vao),H=0,this.boundProgram=o,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=_,this.boundIndexBuffer=w,this.boundVertexOffset=E,this.boundDynamicVertexBuffers=N;else{H=ve.currentNumAttributes||0;for(let Pe=le;Pe<H;Pe++)ye.disableVertexAttribArray(Pe)}d.enableAttributes(ye,o),d.bind(),d.setVertexAttribPointers(ye,o,E);for(const Pe of _)Pe.enableAttributes(ye,o),Pe.bind(),Pe.setVertexAttribPointers(ye,o,E);for(const Pe of N)Pe&&(Pe.enableAttributes(ye,o),Pe.bind(),Pe.setVertexAttribPointers(ye,o,E));w&&w.bind(),ve.currentNumAttributes=le}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Yt(m,o){const d=Math.pow(2,o.canonical.z),_=o.canonical.y;return[new s.MercatorCoordinate(0,_/d).toLngLat().lat,new s.MercatorCoordinate(0,(_+1)/d).toLngLat().lat]}function Mi(m,o,d,_,w,E,N){const H=m.context,le=H.gl,ve=d.fbo;if(!ve)return;m.prepareDrawTile();const ye=m.useProgram("hillshade");H.activeTexture.set(le.TEXTURE0),le.bindTexture(le.TEXTURE_2D,ve.colorAttachment.get());const Pe=((Je,et,je,ut)=>{const ct=je.paint.get("hillshade-shadow-color"),dt=je.paint.get("hillshade-highlight-color"),wt=je.paint.get("hillshade-accent-color");let vt=je.paint.get("hillshade-illumination-direction")*(Math.PI/180);je.paint.get("hillshade-illumination-anchor")==="viewport"&&(vt-=Je.transform.angle);const Ct=!Je.options.moving;return{u_matrix:ut||Je.transform.calculateProjMatrix(et.tileID.toUnwrapped(),Ct),u_image:0,u_latrange:Yt(0,et.tileID),u_light:[je.paint.get("hillshade-exaggeration"),vt],u_shadow:ct,u_highlight:dt,u_accent:wt}})(m,d,_,m.terrain?o.projMatrix:null);m.prepareDrawProgram(H,ye,o.toUnwrapped());const{tileBoundsBuffer:$e,tileBoundsIndexBuffer:Ze,tileBoundsSegments:Ke}=m.getTileBoundsBuffers(d);ye.draw(H,le.TRIANGLES,w,E,N,s.CullFaceMode.disabled,Pe,_.id,$e,Ze,Ke)}function ji(m,o,d){if(!o.needsDEMTextureUpload)return;const _=m.context,w=_.gl;_.pixelStoreUnpackPremultiplyAlpha.set(!1),o.demTexture=o.demTexture||m.getTileTexture(d.stride);const E=d.getPixels();o.demTexture?o.demTexture.update(E,{premultiply:!1}):o.demTexture=new s.Texture(_,E,w.RGBA,{premultiply:!1}),o.needsDEMTextureUpload=!1}function Cn(m,o,d,_,w,E){const N=m.context,H=N.gl;if(!o.dem)return;const le=o.dem;if(N.activeTexture.set(H.TEXTURE1),ji(m,o,le),!o.demTexture)return;o.demTexture.bind(H.NEAREST,H.CLAMP_TO_EDGE);const ve=le.dim;N.activeTexture.set(H.TEXTURE0);let ye=o.fbo;if(!ye){const Ke=new s.Texture(N,{width:ve,height:ve,data:null},H.RGBA);Ke.bind(H.LINEAR,H.CLAMP_TO_EDGE),ye=o.fbo=N.createFramebuffer(ve,ve,!0),ye.colorAttachment.set(Ke.texture)}N.bindFramebuffer.set(ye.framebuffer),N.viewport.set([0,0,ve,ve]);const{tileBoundsBuffer:Pe,tileBoundsIndexBuffer:$e,tileBoundsSegments:Ze}=m.getMercatorTileBoundsBuffers();m.useProgram("hillshadePrepare").draw(N,H.TRIANGLES,_,w,E,s.CullFaceMode.disabled,((Ke,Je)=>{const et=Je.stride,je=s.create();return s.ortho(je,0,s.EXTENT,-s.EXTENT,0,0,1),s.translate(je,je,[0,-s.EXTENT,0]),{u_matrix:je,u_image:1,u_dimension:[et,et],u_zoom:Ke.overscaledZ,u_unpack:Je.unpackVector}})(o.tileID,le),d.id,Pe,$e,Ze),o.needsHillshadePrepare=!1}const En=m=>({u_matrix:new s.UniformMatrix4f(m),u_image0:new s.Uniform1i(m),u_skirt_height:new s.Uniform1f(m)}),ds=(m,o)=>({u_matrix:m,u_image0:0,u_skirt_height:o}),Rr=(m,o,d,_,w,E,N,H,le,ve,ye,Pe,$e,Ze,Ke)=>({u_proj_matrix:Float32Array.from(m),u_globe_matrix:o,u_normalize_matrix:Float32Array.from(_),u_merc_matrix:d,u_zoom_transition:w,u_merc_center:E,u_image0:0,u_frustum_tl:N,u_frustum_tr:H,u_frustum_br:le,u_frustum_bl:ve,u_globe_pos:ye,u_globe_radius:Pe,u_viewport:$e,u_grid_matrix:Ke?Float32Array.from(Ke):new Float32Array(9),u_skirt_height:Ze});function Mo(m,o){return m!=null&&o!=null&&!(!m.hasData()||!o.hasData())&&m.demTexture!=null&&o.demTexture!=null&&m.tileID.key!==o.tileID.key}const ks=new class{constructor(){this.operations={}}newMorphing(m,o,d,_,w){if(m in this.operations){const E=this.operations[m];E.to.tileID.key!==d.tileID.key&&(E.queued=d)}else this.operations[m]={startTime:_,phase:0,duration:w,from:o,to:d,queued:null}}getMorphValuesForProxy(m){if(!(m in this.operations))return null;const o=this.operations[m];return{from:o.from,to:o.to,phase:o.phase}}update(m){for(const o in this.operations){const d=this.operations[o];for(d.phase=(m-d.startTime)/d.duration;d.phase>=1||!this._validOp(d);)if(!this._nextOp(d,m)){delete this.operations[o];break}}}_nextOp(m,o){return!!m.queued&&(m.from=m.to,m.to=m.queued,m.queued=null,m.phase=0,m.startTime=o,!0)}_validOp(m){return m.from.hasData()&&m.to.hasData()}},Pn={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Uo(m){return 6*Math.pow(1.5,22-m)}function Un(m,o){const d=1<<m.z;return!o&&(m.x===0||m.x===d-1)||m.y===0||m.y===d-1}const Qi=m=>({u_matrix:m});function Ta(m,o,d,_,w){if(w>0){const E=s.exported.now(),N=(E-m.timeAdded)/w,H=o?(E-o.timeAdded)/w:-1,le=d.getSource(),ve=_.coveringZoomLevel({tileSize:le.tileSize,roundZoom:le.roundZoom}),ye=!o||Math.abs(o.tileID.overscaledZ-ve)>Math.abs(m.tileID.overscaledZ-ve),Pe=ye&&m.refreshedUponExpiration?1:s.clamp(ye?N:1-H,0,1);return m.refreshedUponExpiration&&N>=1&&(m.refreshedUponExpiration=!1),o?{opacity:1,mix:1-Pe}:{opacity:Pe,mix:0}}return{opacity:1,mix:0}}class Bc extends s.SourceCache{constructor(o){const d={type:"raster-dem",maxzoom:o.transform.maxZoom},_=new Qe(sn(),null),w=Ot("mock-dem",d,_,o.style);super("mock-dem",w,!1),w.setEventedParent(this),this._sourceLoaded=!0}_loadTile(o,d){o.state="loaded",d(null)}}class Ao extends s.SourceCache{constructor(o){const d=Ot("proxy",{type:"geojson",maxzoom:o.transform.maxZoom},new Qe(sn(),null),o.style);super("proxy",d,!1),d.setEventedParent(this),this.map=this.getSource().map=o,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(o,d,_){if(o.freezeTileCoverage)return;this.transform=o;const w=o.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((E,N)=>{if(E[N.key]="",!this._tiles[N.key]){const H=new s.Tile(N,this._source.tileSize*N.overscaleFactor(),o.tileZoom);H.state="loaded",this._tiles[N.key]=H}return E},{});for(const E in this._tiles)E in w||(this.freeFBO(E),this._tiles[E].unloadVectorData(),delete this._tiles[E])}freeFBO(o){const d=this.proxyCachedFBO[o];if(d!==void 0){const _=Object.values(d);this.renderCachePool.push(..._),delete this.proxyCachedFBO[o]}}deallocRenderCache(){this.renderCache.forEach(o=>o.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class Sa extends s.OverscaledTileID{constructor(o,d,_){super(o.overscaledZ,o.wrap,o.canonical.z,o.canonical.x,o.canonical.y),this.proxyTileKey=d,this.projMatrix=_}}class Zs extends s.Elevation{constructor(o,d){super(),this.painter=o,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[_,w,E]=function(le){const ve=new s.StructArrayLayout2i4,ye=new s.StructArrayLayout3ui6,Pe=131;ve.reserve(17161),ye.reserve(33800);const $e=s.EXTENT/128,Ze=s.EXTENT+$e/2,Ke=Ze+$e;for(let et=-$e;et<Ke;et+=$e)for(let je=-$e;je<Ke;je+=$e){const ut=je<0||je>Ze||et<0||et>Ze?24575:0,ct=s.clamp(Math.round(je),0,s.EXTENT),dt=s.clamp(Math.round(et),0,s.EXTENT);ve.emplaceBack(ct+ut,dt)}const Je=(et,je)=>{const ut=je*Pe+et;ye.emplaceBack(ut+1,ut,ut+Pe),ye.emplaceBack(ut+Pe,ut+Pe+1,ut+1)};for(let et=1;et<129;et++)for(let je=1;je<129;je++)Je(je,et);return[0,129].forEach(et=>{for(let je=0;je<130;je++)Je(je,et),Je(et,je)}),[ve,ye,32768]}(),N=o.context;this.gridBuffer=N.createVertexBuffer(_,s.posAttributes.members),this.gridIndexBuffer=N.createIndexBuffer(w),this.gridSegments=s.SegmentVector.simpleSegment(0,0,_.length,w.length),this.gridNoSkirtSegments=s.SegmentVector.simpleSegment(0,0,_.length,E),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Ao(d.map),this.orthoMatrix=s.create(),s.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,s.EXTENT,0,s.EXTENT,0,1);const H=N.gl;this._overlapStencilMode=new s.StencilMode({func:H.GEQUAL,mask:255},0,255,H.KEEP,H.KEEP,H.REPLACE),this._previousZoom=o.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=d,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Bc(d.map)}set style(o){o.on("data",this._onStyleDataEvent.bind(this)),o.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=o,this._checkRenderCacheEfficiency(),this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(o,d,_){if(o&&o.terrain){this._style!==o&&(this.style=o),this.enabled=!0;const w=o.terrain.properties;this.sourceCache=o.terrain.drapeRenderMode===0?this._mockSourceCache:o._getSourceCache(w.get("source")),this._exaggeration=w.get("exaggeration");const E=()=>{this.sourceCache.used&&s.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const N=this.getScaledDemTileSize();this.sourceCache.update(d,N,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,E(),this._initializing=!0),E(),d.updateElevation(!0,_),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(d),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(o){this._findCoveringTileCache[o]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const o=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||o.efficiency!==100&&s.warnOnce(`Terrain render cache efficiency is not optimal (${o.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${o.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(o){o.coord&&o.dataType==="source"?this._clearRenderCacheForTile(o.sourceCacheId,o.coord):o.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const o in this._style._sourceCaches)this._style._sourceCaches[o].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(o=>o.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const o=2*this.proxySourceCache.getSource().tileSize;return[o,o]}set useVertexMorphing(o){this._useVertexMorphing=o}updateTileBinding(o){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const d=this.proxySourceCache,_=this.painter.transform;this._initializing&&(this._initializing=_._centerAltitude===0&&this.getAtPointOrZero(s.MercatorCoordinate.fromLngLat(_.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const w=this.proxyCoords=d.getIds().map(le=>{const ve=d.getTileByID(le).tileID;return ve.projMatrix=_.calculateProjMatrix(ve.toUnwrapped()),ve});(function(le,ve){const ye=ve.transform.pointCoordinate(ve.transform.getCameraPoint()),Pe=new s.pointGeometry(ye.x,ye.y);le.sort(($e,Ze)=>{if(Ze.overscaledZ-$e.overscaledZ)return Ze.overscaledZ-$e.overscaledZ;const Ke=new s.pointGeometry($e.canonical.x+(1<<$e.canonical.z)*$e.wrap,$e.canonical.y),Je=new s.pointGeometry(Ze.canonical.x+(1<<Ze.canonical.z)*Ze.wrap,Ze.canonical.y),et=Pe.mult(1<<$e.canonical.z);return et.x-=.5,et.y-=.5,et.distSqr(Ke)-et.distSqr(Je)})})(w,this.painter),this._previousZoom=_.zoom;const E=this.proxyToSource||{};this.proxyToSource={},w.forEach(le=>{this.proxyToSource[le.key]={}}),this.terrainTileForTile={};const N=this._style._sourceCaches;for(const le in N){const ve=N[le];if(!ve.used||(ve!==this.sourceCache&&this.resetTileLookupCache(ve.id),this._setupProxiedCoordsForOrtho(ve,o[le],E),ve.usedForTerrain))continue;const ye=o[le];ve.getSource().reparseOverscaled&&this._assignTerrainTiles(ye)}this.proxiedCoords[d.id]=w.map(le=>new Sa(le,le.key,this.orthoMatrix)),this._assignTerrainTiles(w),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(E),this.renderingToTexture=!1,this._updateTimestamp=s.exported.now();const H={};this._visibleDemTiles=[];for(const le of this.proxyCoords){const ve=this.terrainTileForTile[le.key];if(!ve)continue;const ye=ve.tileID.key;ye in H||(this._visibleDemTiles.push(ve),H[ye]=ye)}}_assignTerrainTiles(o){this._initializing||o.forEach(d=>{if(this.terrainTileForTile[d.key])return;const _=this._findTileCoveringTileID(d,this.sourceCache);_&&(this.terrainTileForTile[d.key]=_)})}_prepareDEMTextures(){const o=this.painter.context,d=o.gl;for(const _ in this.terrainTileForTile){const w=this.terrainTileForTile[_],E=w.dem;!E||w.demTexture&&!w.needsDEMTextureUpload||(o.activeTexture.set(d.TEXTURE1),ji(this.painter,w,E))}}_prepareDemTileUniforms(o,d,_,w){if(!d||d.demTexture==null)return!1;const E=o.tileID.canonical,N=Math.pow(2,d.tileID.canonical.z-E.z),H=w||"";return _[`u_dem_tl${H}`]=[E.x*N%1,E.y*N%1],_[`u_dem_scale${H}`]=N,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const o=this.painter.context,d=o.gl;if(!this._emptyDepthBufferTexture){const _=new s.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new s.Texture(o,_,d.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let o=0;const d=this._visibleDemTiles.reduce((_,w)=>{if(!w.dem)return _;const E=w.dem.tree.minimums[0];return E>0&&o++,_+E},0);return o?d/o:0}_updateEmptyDEMTexture(){const o=this.painter.context,d=o.gl;o.activeTexture.set(d.TEXTURE2);const _=this._getLoadedAreaMinimum(),w=new s.RGBAImage({width:1,height:1},new Uint8Array(s.DEMData.pack(_,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let E=this._emptyDEMTexture;return E?E.update(w,{premultiply:!1}):E=this._emptyDEMTexture=new s.Texture(o,w,d.RGBA,{premultiply:!1}),E}setupElevationDraw(o,d,_){const w=this.painter.context,E=w.gl,N=(H=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:s.DEMData.getUnpackVector(H),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var H;N.u_dem_size=this.sourceCache.getSource().tileSize,N.u_exaggeration=this.exaggeration();let le=null,ve=null,ye=1;if(_&&_.morphing&&this._useVertexMorphing){const Pe=_.morphing.srcDemTile,$e=_.morphing.dstDemTile;ye=_.morphing.phase,Pe&&$e&&(this._prepareDemTileUniforms(o,Pe,N,"_prev")&&(ve=Pe),this._prepareDemTileUniforms(o,$e,N)&&(le=$e))}if(ve&&le?(w.activeTexture.set(E.TEXTURE2),le.demTexture.bind(E.NEAREST,E.CLAMP_TO_EDGE,E.NEAREST),w.activeTexture.set(E.TEXTURE4),ve.demTexture.bind(E.NEAREST,E.CLAMP_TO_EDGE,E.NEAREST),N.u_dem_lerp=ye):(le=this.terrainTileForTile[o.tileID.key],w.activeTexture.set(E.TEXTURE2),(this._prepareDemTileUniforms(o,le,N)?le.demTexture:this.emptyDEMTexture).bind(E.NEAREST,E.CLAMP_TO_EDGE)),w.activeTexture.set(E.TEXTURE3),_&&_.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(E.NEAREST,E.CLAMP_TO_EDGE),this._depthFBO&&(N.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(E.NEAREST,E.CLAMP_TO_EDGE),N.u_depth_size_inv=[1,1]),_&&_.useMeterToDem&&le){const Pe=(1<<le.tileID.canonical.z)*s.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;N.u_meter_to_dem=Pe}if(_&&_.labelPlaneMatrixInv&&(N.u_label_plane_matrix_inv=_.labelPlaneMatrixInv),d.setTerrainUniformValues(w,N),this.painter.transform.projection.name==="globe"){const Pe=this.globeUniformValues(this.painter.transform,o.tileID.canonical,_&&_.useDenormalizedUpVectorScale);d.setGlobeUniformValues(w,Pe)}}globeUniformValues(o,d,_){const w=o.projection;return{u_tile_tl_up:w.upVector(d,0,0),u_tile_tr_up:w.upVector(d,s.EXTENT,0),u_tile_br_up:w.upVector(d,s.EXTENT,s.EXTENT),u_tile_bl_up:w.upVector(d,0,s.EXTENT),u_tile_up_scale:_?s.globeMetersToEcef(1):w.upVectorScale(d,o.center.lat,o.worldSize).metersToTile}}renderToBackBuffer(o){const d=this.painter,_=this.painter.context;o.length!==0&&(_.bindFramebuffer.set(null),_.viewport.set([0,0,d.width,d.height]),d.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(w,E,N,H,le){if(w.transform.projection.name==="globe")(function(ve,ye,Pe,$e,Ze){const Ke=ve.context,Je=Ke.gl;let et,je;const ut=ve.options.showTerrainWireframe?2:0,ct=ve.transform,dt=s.globeUseCustomAntiAliasing(ve,Ke,ct),wt=(ui,Gt)=>{if(je===ui)return;const Dt=[Pn[ui],"PROJECTION_GLOBE_VIEW"];dt&&Dt.push("CUSTOM_ANTIALIASING"),Gt&&Dt.push(Pn[ut]),et=ve.useProgram("globeRaster",null,Dt),je=ui},vt=ve.colorModeForRenderPass(),Ct=new s.DepthMode(Je.LEQUAL,s.DepthMode.ReadWrite,ve.depthRangeFor3D);ks.update(Ze);const Rt=s.calculateGlobeMercatorMatrix(ct),Bt=[s.mercatorXfromLng(ct.center.lng),s.mercatorYfromLat(ct.center.lat)],Ht=ut?[!1,!0]:[!1],Si=ve.globeSharedBuffers,Nt=[ct.width*s.exported.devicePixelRatio,ct.height*s.exported.devicePixelRatio],oi=Float32Array.from(ct.globeMatrix),Jt={useDenormalizedUpVectorScale:!0};if(Ht.forEach(ui=>{const Gt=ve.transform,Dt=Uo(Gt.zoom)*ye.exaggeration();je=-1;const Xt=ui?Je.LINES:Je.TRIANGLES;for(const di of $e){const fi=Pe.getTile(di),$i=s.StencilMode.disabled,Mn=ye.prevTerrainTileForTile[di.key],Fi=ye.terrainTileForTile[di.key];Mo(Mn,Fi)&&ks.newMorphing(di.key,Mn,Fi,Ze,250),Ke.activeTexture.set(Je.TEXTURE0),fi.texture.bind(Je.LINEAR,Je.CLAMP_TO_EDGE);const zi=ks.getMorphValuesForProxy(di.key),Zi=zi?1:0;zi&&s.extend$1(Jt,{morphing:{srcDemTile:zi.from,dstDemTile:zi.to,phase:s.easeCubicInOut(zi.phase)}});const Rn=s.tileCornersToBounds(di.canonical),nn=s.getLatitudinalLod(Rn.getCenter().lat),er=s.getGridMatrix(di.canonical,Rn,nn,Gt.worldSize/Gt._pixelsPerMercatorPixel),tr=s.globeNormalizeECEF(s.globeTileBounds(di.canonical)),br=Rr(Gt.projMatrix,oi,Rt,tr,s.globeToMercatorTransition(Gt.zoom),Bt,Gt.frustumCorners.TL,Gt.frustumCorners.TR,Gt.frustumCorners.BR,Gt.frustumCorners.BL,Gt.globeCenterInViewSpace,Gt.globeRadius,Nt,Dt,er);if(wt(Zi,ui),ye.setupElevationDraw(fi,et,Jt),ve.prepareDrawProgram(Ke,et,di.toUnwrapped()),Si){const[hr,ls,ho]=ui?Si.getWirefameBuffers(ve.context,nn):Si.getGridBuffers(nn,Dt!==0);et.draw(Ke,Xt,Ct,$i,vt,s.CullFaceMode.backCCW,br,"globe_raster",hr,ls,ho)}}}),Si){const ui=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];dt&&ui.push("CUSTOM_ANTIALIASING"),et=ve.useProgram("globeRaster",null,ui);for(const Gt of $e){const{x:Dt,y:Xt,z:di}=Gt.canonical,fi=Xt===0,$i=Xt===(1<<di)-1,[Mn,Fi,zi,Zi]=Si.getPoleBuffers(di);if(Zi&&(fi||$i)){const Rn=Pe.getTile(Gt);Ke.activeTexture.set(Je.TEXTURE0),Rn.texture.bind(Je.LINEAR,Je.CLAMP_TO_EDGE);let nn=s.globePoleMatrixForTile(di,Dt,ct);const er=s.globeNormalizeECEF(s.globeTileBounds(Gt.canonical)),tr=(br,hr)=>br.draw(Ke,Je.TRIANGLES,Ct,s.StencilMode.disabled,vt,s.CullFaceMode.disabled,Rr(ct.projMatrix,nn,nn,er,0,Bt,ct.frustumCorners.TL,ct.frustumCorners.TR,ct.frustumCorners.BR,ct.frustumCorners.BL,ct.globeCenterInViewSpace,ct.globeRadius,Nt,0),"globe_pole_raster",hr,zi,Zi);ye.setupElevationDraw(Rn,et,Jt),ve.prepareDrawProgram(Ke,et,Gt.toUnwrapped()),fi&&tr(et,Mn),$i&&(nn=s.scale(s.create(),nn,[1,-1,1]),tr(et,Fi))}}}})(w,E,N,H,le);else{const ve=w.context,ye=ve.gl;let Pe,$e;const Ze=w.options.showTerrainWireframe?2:0,Ke=(ct,dt)=>{if($e===ct)return;const wt=[Pn[ct]];dt&&wt.push(Pn[Ze]),Pe=w.useProgram("terrainRaster",null,wt),$e=ct},Je=w.colorModeForRenderPass(),et=new s.DepthMode(ye.LEQUAL,s.DepthMode.ReadWrite,w.depthRangeFor3D);ks.update(le);const je=w.transform,ut=Uo(je.zoom)*E.exaggeration();(Ze?[!1,!0]:[!1]).forEach(ct=>{$e=-1;const dt=ct?ye.LINES:ye.TRIANGLES,[wt,vt]=ct?E.getWirefameBuffer():[E.gridIndexBuffer,E.gridSegments];for(const Ct of H){const Rt=N.getTile(Ct),Bt=s.StencilMode.disabled,Ht=E.prevTerrainTileForTile[Ct.key],Si=E.terrainTileForTile[Ct.key];Mo(Ht,Si)&&ks.newMorphing(Ct.key,Ht,Si,le,250),ve.activeTexture.set(ye.TEXTURE0),Rt.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE,ye.LINEAR_MIPMAP_NEAREST);const Nt=ks.getMorphValuesForProxy(Ct.key),oi=Nt?1:0;let Jt;Nt&&(Jt={morphing:{srcDemTile:Nt.from,dstDemTile:Nt.to,phase:s.easeCubicInOut(Nt.phase)}});const ui=ds(Ct.projMatrix,Un(Ct.canonical,je.renderWorldCopies)?ut/10:ut);Ke(oi,ct),E.setupElevationDraw(Rt,Pe,Jt),w.prepareDrawProgram(ve,Pe,Ct.toUnwrapped()),Pe.draw(ve,dt,et,Bt,Je,s.CullFaceMode.backCCW,ui,"terrain_raster",E.gridBuffer,wt,vt)}})}}(d,this,this.proxySourceCache,o,this._updateTimestamp),this.renderingToTexture=!0,d.gpuTimingDeferredRenderEnd(),o.splice(0,o.length))}renderBatch(o){if(this._drapedRenderBatches.length===0)return o+1;this.renderingToTexture=!0;const d=this.painter,_=this.painter.context,w=this.proxySourceCache,E=this.proxiedCoords[w.id],N=this._drapedRenderBatches.shift(),H=[],le=d.style.order;let ve=0;for(const ye of E){const Pe=w.getTileByID(ye.proxyTileKey),$e=w.proxyCachedFBO[ye.key]?w.proxyCachedFBO[ye.key][o]:void 0,Ze=$e!==void 0?w.renderCache[$e]:this.pool[ve++],Ke=$e!==void 0;if(Pe.texture=Ze.tex,Ke&&!Ze.dirty){H.push(Pe.tileID);continue}let Je;_.bindFramebuffer.set(Ze.fb.framebuffer),this.renderedToTile=!1,Ze.dirty&&(_.clear({color:s.Color.transparent,stencil:0}),Ze.dirty=!1);for(let et=N.start;et<=N.end;++et){const je=d.style._layers[le[et]];if(je.isHidden(d.transform.zoom))continue;const ut=d.style._getLayerSourceCache(je),ct=ut?this.proxyToSource[ye.key][ut.id]:[ye];if(!ct)continue;const dt=ct;_.viewport.set([0,0,Ze.fb.width,Ze.fb.height]),Je!==(ut?ut.id:null)&&(this._setupStencil(Ze,ct,je,ut),Je=ut?ut.id:null),d.renderLayer(d,ut,je,dt)}this.renderedToTile?(Ze.dirty=!0,H.push(Pe.tileID)):Ke||--ve,ve===5&&(ve=0,this.renderToBackBuffer(H))}return this.renderToBackBuffer(H),this.renderingToTexture=!1,_.bindFramebuffer.set(null),_.viewport.set([0,0,d.width,d.height]),N.end+1}postRender(){}renderCacheEfficiency(o){const d=o.order.length;if(d===0)return{efficiency:100};let _,w=0,E=0,N=!1;for(let H=0;H<d;++H){const le=o._layers[o.order[H]];this._style.isLayerDraped(le)?(N&&++w,++E):N||(N=!0,_=le.id)}return E===0?{efficiency:100}:{efficiency:100*(1-w/E),firstUndrapedLayer:_}}getMinElevationBelowMSL(){let o=0;return this._visibleDemTiles.filter(d=>d.dem).forEach(d=>{o=Math.min(o,d.dem.tree.minimums[0])}),o===0?o:(o-30)*this._exaggeration}raycast(o,d,_){if(!this._visibleDemTiles)return null;const w=this._visibleDemTiles.filter(E=>E.dem).map(E=>{const N=E.tileID,H=1<<N.overscaledZ,{x:le,y:ve}=N.canonical,ye=le/H,Pe=(le+1)/H,$e=ve/H,Ze=(ve+1)/H;return{minx:ye,miny:$e,maxx:Pe,maxy:Ze,t:E.dem.tree.raycastRoot(ye,$e,Pe,Ze,o,d,_),tile:E}});w.sort((E,N)=>(E.t!==null?E.t:Number.MAX_VALUE)-(N.t!==null?N.t:Number.MAX_VALUE));for(const E of w){if(E.t==null)return null;const N=E.tile.dem.tree.raycast(E.minx,E.miny,E.maxx,E.maxy,o,d,_);if(N!=null)return N}return null}_createFBO(){const o=this.painter.context,d=o.gl,_=this.drapeBufferSize;o.activeTexture.set(d.TEXTURE0);const w=new s.Texture(o,{width:_[0],height:_[1],data:null},d.RGBA);w.bind(d.LINEAR,d.CLAMP_TO_EDGE);const E=o.createFramebuffer(_[0],_[1],!1);return E.colorAttachment.set(w.texture),E.depthAttachment=new kc(o,E.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=o.createRenderbuffer(o.gl.DEPTH_STENCIL,_[0],_[1]),this._stencilRef=0,E.depthAttachment.set(this._sharedDepthStencil),o.clear({stencil:0})):E.depthAttachment.set(this._sharedDepthStencil),o.extTextureFilterAnisotropic&&!o.extTextureFilterAnisotropicForceOff&&d.texParameterf(d.TEXTURE_2D,o.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,o.extTextureFilterAnisotropicMax),{fb:E,tex:w,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const o in this._style._sourceCaches)if(this._style._sourceCaches[o].hasTransition())return!0;return this._style.order.some(o=>{const d=this._style._layers[o],_=d.isHidden(this.painter.transform.zoom);return d.type==="custom"?!_&&d.shouldRedrape():!_&&d.hasTransition()})}_clearLineLayersFromRenderCache(){let o=!1;for(const _ of this._style._getSources())if(_ instanceof Le){o=!0;break}if(!o)return;const d={};for(let _=0;_<this._style.order.length;++_){const w=this._style._layers[this._style.order[_]],E=this._style._getLayerSourceCache(w);if(E&&!d[E.id]&&!w.isHidden(this.painter.transform.zoom)&&w.type==="line"&&w.widthExpression()instanceof s.ZoomDependentExpression){d[E.id]=!0;for(const N of this.proxyCoords){const H=this.proxyToSource[N.key][E.id];if(H)for(const le of H)this._clearRenderCacheForTile(E.id,le)}}}}_clearRasterLayersFromRenderCache(){let o=!1;for(const _ in this._style._sourceCaches)if(this._style._sourceCaches[_]._source instanceof Ne){o=!0;break}if(!o)return;const d={};for(let _=0;_<this._style.order.length;++_){const w=this._style._layers[this._style.order[_]],E=this._style._getLayerSourceCache(w);if(!E||d[E.id]||w.isHidden(this.painter.transform.zoom)||w.type!=="raster")continue;const N=w.paint.get("raster-fade-duration");for(const H of this.proxyCoords){const le=this.proxyToSource[H.key][E.id];if(le)for(const ve of le){const ye=Ta(E.getTile(ve),E.findLoadedParent(ve,0),E,this.painter.transform,N);(ye.opacity!==1||ye.mix!==0)&&this._clearRenderCacheForTile(E.id,ve)}}}}_setupDrapedRenderBatches(){const o=this._style.order,d=o.length;if(d===0)return;const _=[];let w,E=0,N=this._style._layers[o[E]];for(;!this._style.isLayerDraped(N)&&N.isHidden(this.painter.transform.zoom)&&++E<d;)N=this._style._layers[o[E]];for(;E<d;++E){const H=this._style._layers[o[E]];H.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(H)?w===void 0&&(w=E):w!==void 0&&(_.push({start:w,end:E-1}),w=void 0))}w!==void 0&&_.push({start:w,end:E-1}),this._drapedRenderBatches=_}_setupRenderCache(o){const d=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,d.renderCache.length>d.renderCachePool.length){const N=Object.values(d.proxyCachedFBO);d.proxyCachedFBO={};for(let H=0;H<N.length;++H){const le=Object.values(N[H]);d.renderCachePool.push(...le)}}return}this._clearRasterLayersFromRenderCache();const _=this.proxyCoords,w=this._tilesDirty;for(let N=_.length-1;N>=0;N--){const H=_[N];if(d.getTileByID(H.key),d.proxyCachedFBO[H.key]!==void 0){const le=o[H.key],ve=this.proxyToSource[H.key];let ye=0;for(const Pe in ve){const $e=ve[Pe],Ze=le[Pe];if(!Ze||Ze.length!==$e.length||$e.some((Ke,Je)=>Ke!==Ze[Je]||w[Pe]&&w[Pe].hasOwnProperty(Ke.key))){ye=-1;break}++ye}for(const Pe in d.proxyCachedFBO[H.key])d.renderCache[d.proxyCachedFBO[H.key][Pe]].dirty=ye<0||ye!==Object.values(le).length}}const E=[...this._drapedRenderBatches];E.sort((N,H)=>H.end-H.start-(N.end-N.start));for(const N of E)for(const H of _){if(d.proxyCachedFBO[H.key])continue;let le=d.renderCachePool.pop();le===void 0&&d.renderCache.length<50&&(le=d.renderCache.length,d.renderCache.push(this._createFBO())),le!==void 0&&(d.proxyCachedFBO[H.key]={},d.proxyCachedFBO[H.key][N.start]=le,d.renderCache[le].dirty=!0)}this._tilesDirty={}}_setupStencil(o,d,_,w){if(!w||!this._sourceTilesOverlap[w.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const E=this.painter.context,N=E.gl;if(d.length<=1)return void(this._overlapStencilType=!1);let H;if(_.isTileClipped())H=d.length,this._overlapStencilMode.test={func:N.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(d[0].overscaledZ>d[d.length-1].overscaledZ))return void(this._overlapStencilType=!1);H=1,this._overlapStencilMode.test={func:N.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+H>255&&(E.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=H,this._overlapStencilMode.ref=this._stencilRef,_.isTileClipped()&&this._renderTileClippingMasks(d,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(o){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[o.key]),this._overlapStencilMode):s.StencilMode.disabled}_renderTileClippingMasks(o,d){const _=this.painter,w=this.painter.context,E=w.gl;_._tileClippingMaskIDs={},w.setColorMode(s.ColorMode.disabled),w.setDepthMode(s.DepthMode.disabled);const N=_.useProgram("clippingMask");for(const H of o){const le=_._tileClippingMaskIDs[H.key]=--d;N.draw(w,E.TRIANGLES,s.DepthMode.disabled,new s.StencilMode({func:E.ALWAYS,mask:0},le,255,E.KEEP,E.KEEP,E.REPLACE),s.ColorMode.disabled,s.CullFaceMode.disabled,Qi(H.projMatrix),"$clipping",_.tileExtentBuffer,_.quadTriangleIndexBuffer,_.tileExtentSegments)}}pointCoordinate(o){const d=this.painter.transform;if(o.x<0||o.x>d.width||o.y<0||o.y>d.height)return null;const _=[o.x,o.y,1,1];s.transformMat4$1(_,_,d.pixelMatrixInverse),s.scale$1(_,_,1/_[3]),_[0]/=d.worldSize,_[1]/=d.worldSize;const w=d._camera.position,E=s.mercatorZfromAltitude(1,d.center.lat),N=[w[0],w[1],w[2]/E,0],H=s.subtract([],_.slice(0,3),N);s.normalize(H,H);const le=this.raycast(N,H,this._exaggeration);return le!==null&&le?(s.scaleAndAdd(N,N,H,le),N[3]=N[2],N[2]*=E,N):null}drawDepth(){const o=this.painter,d=o.context,_=this.proxySourceCache,w=Math.ceil(o.width),E=Math.ceil(o.height);if(!this._depthFBO||this._depthFBO.width===w&&this._depthFBO.height===E||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const N=d.gl,H=d.createFramebuffer(w,E,!0);d.activeTexture.set(N.TEXTURE0);const le=new s.Texture(d,{width:w,height:E,data:null},N.RGBA);le.bind(N.NEAREST,N.CLAMP_TO_EDGE),H.colorAttachment.set(le.texture);const ve=d.createRenderbuffer(d.gl.DEPTH_COMPONENT16,w,E);H.depthAttachment.set(ve),this._depthFBO=H,this._depthTexture=le}d.bindFramebuffer.set(this._depthFBO.framebuffer),d.viewport.set([0,0,w,E]),function(N,H,le,ve){if(N.transform.projection.name==="globe")return;const ye=N.context,Pe=ye.gl;ye.clear({depth:1});const $e=N.useProgram("terrainDepth"),Ze=new s.DepthMode(Pe.LESS,s.DepthMode.ReadWrite,N.depthRangeFor3D);for(const Ke of ve){const Je=le.getTile(Ke),et=ds(Ke.projMatrix,0);H.setupElevationDraw(Je,$e),$e.draw(ye,Pe.TRIANGLES,Ze,s.StencilMode.disabled,s.ColorMode.unblended,s.CullFaceMode.backCCW,et,"terrain_depth",H.gridBuffer,H.gridIndexBuffer,H.gridNoSkirtSegments)}}(o,this,_,this.proxyCoords)}_setupProxiedCoordsForOrtho(o,d,_){if(o.getSource()instanceof Et)return this._setupProxiedCoordsForImageSource(o,d,_);this._findCoveringTileCache[o.id]=this._findCoveringTileCache[o.id]||{};const w=this.proxiedCoords[o.id]=[],E=this.proxyCoords;for(let H=0;H<E.length;H++){const le=E[H],ve=this._findTileCoveringTileID(le,o);if(ve){const ye=this._createProxiedId(le,ve,_[le.key]&&_[le.key][o.id]);w.push(ye),this.proxyToSource[le.key][o.id]=[ye]}}let N=!1;for(let H=0;H<d.length;H++){const le=o.getTile(d[H]);if(!le||!le.hasData())continue;const ve=this._findTileCoveringTileID(le.tileID,this.proxySourceCache);if(ve&&ve.tileID.canonical.z!==le.tileID.canonical.z){const ye=this.proxyToSource[ve.tileID.key][o.id],Pe=this._createProxiedId(ve.tileID,le,_[ve.tileID.key]&&_[ve.tileID.key][o.id]);ye?ye.splice(ye.length-1,0,Pe):this.proxyToSource[ve.tileID.key][o.id]=[Pe],w.push(Pe),N=!0}}this._sourceTilesOverlap[o.id]=N}_setupProxiedCoordsForImageSource(o,d,_){if(!o.getSource().loaded())return;const w=this.proxiedCoords[o.id]=[],E=this.proxyCoords,N=o.getSource(),H=new s.pointGeometry(N.tileID.x,N.tileID.y)._div(1<<N.tileID.z),le=N.coordinates.map(s.MercatorCoordinate.fromLngLat).reduce((ye,Pe)=>(ye.min.x=Math.min(ye.min.x,Pe.x-H.x),ye.min.y=Math.min(ye.min.y,Pe.y-H.y),ye.max.x=Math.max(ye.max.x,Pe.x-H.x),ye.max.y=Math.max(ye.max.y,Pe.y-H.y),ye),{min:new s.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new s.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),ve=(ye,Pe)=>{const $e=ye.wrap+ye.canonical.x/(1<<ye.canonical.z),Ze=ye.canonical.y/(1<<ye.canonical.z),Ke=s.EXTENT/(1<<ye.canonical.z),Je=Pe.wrap+Pe.canonical.x/(1<<Pe.canonical.z),et=Pe.canonical.y/(1<<Pe.canonical.z);return $e+Ke<Je+le.min.x||$e>Je+le.max.x||Ze+Ke<et+le.min.y||Ze>et+le.max.y};for(let ye=0;ye<E.length;ye++){const Pe=E[ye];for(let $e=0;$e<d.length;$e++){const Ze=o.getTile(d[$e]);if(!Ze||!Ze.hasData()||ve(Pe,Ze.tileID))continue;const Ke=this._createProxiedId(Pe,Ze,_[Pe.key]&&_[Pe.key][o.id]),Je=this.proxyToSource[Pe.key][o.id];Je?Je.push(Ke):this.proxyToSource[Pe.key][o.id]=[Ke],w.push(Ke)}}}_createProxiedId(o,d,_){let w=this.orthoMatrix;if(_){const E=_.find(N=>N.key===d.tileID.key);if(E)return E}if(d.tileID.key!==o.key){const E=o.canonical.z-d.tileID.canonical.z;let N,H,le;w=s.create();const ve=d.tileID.wrap-o.wrap<<o.overscaledZ;E>0?(N=s.EXTENT>>E,H=N*((d.tileID.canonical.x<<E)-o.canonical.x+ve),le=N*((d.tileID.canonical.y<<E)-o.canonical.y)):(N=s.EXTENT<<-E,H=s.EXTENT*(d.tileID.canonical.x-(o.canonical.x+ve<<-E)),le=s.EXTENT*(d.tileID.canonical.y-(o.canonical.y<<-E))),s.ortho(w,0,N,0,N,0,1),s.translate(w,w,[H,le,0])}return new Sa(d.tileID,o.key,w)}_findTileCoveringTileID(o,d){let _=d.getTile(o);if(_&&_.hasData())return _;const w=this._findCoveringTileCache[d.id],E=w[o.key];if(_=E?d.getTileByID(E):null,_&&_.hasData()||E===null)return _;let N=_?_.tileID:o,H=N.overscaledZ;const le=d.getSource().minzoom,ve=[];if(!E){const Pe=d.getSource().maxzoom;if(o.canonical.z>=Pe){const $e=o.canonical.z-Pe;d.getSource().reparseOverscaled?(H=Math.max(o.canonical.z+2,d.transform.tileZoom),N=new s.OverscaledTileID(H,o.wrap,Pe,o.canonical.x>>$e,o.canonical.y>>$e)):$e!==0&&(H=Pe,N=new s.OverscaledTileID(H,o.wrap,Pe,o.canonical.x>>$e,o.canonical.y>>$e))}N.key!==o.key&&(ve.push(N.key),_=d.getTile(N))}const ye=Pe=>{ve.forEach($e=>{w[$e]=Pe}),ve.length=0};for(H-=1;H>=le&&(!_||!_.hasData());H--){_&&ye(_.tileID.key);const Pe=N.calculateScaledKey(H);if(_=d.getTileByID(Pe),_&&_.hasData())break;const $e=w[Pe];if($e===null)break;$e===void 0?ve.push(Pe):_=d.getTileByID($e)}return ye(_?_.tileID.key:null),_&&_.hasData()?_:null}findDEMTileFor(o){return this.enabled?this._findTileCoveringTileID(o,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(o,d){let _=this._tilesDirty[o];_||(_=this._tilesDirty[o]={}),_[d.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const o=function(d){let _=0;const w=new s.StructArrayLayout2ui4,E=131;for(let N=1;N<129;N++){for(let H=1;H<129;H++)_=N*E+H,w.emplaceBack(_,_+1),w.emplaceBack(_,_+E),w.emplaceBack(_+1,_+E),N===128&&w.emplaceBack(_+E,_+E+1);w.emplaceBack(_+1,_+1+E)}return w}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(o),this.wireframeSegments=s.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,o.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class Vo{static cacheKey(o,d,_,w){let E=`${d}${w?w.cacheKey:""}`;for(const N of _)o.usedDefines.includes(N)&&(E+=`/${N}`);return E}constructor(o,d,_,w,E,N){const H=o.gl;this.program=H.createProgram();const le=function(je){const ut=[];for(let ct=0;ct<je.length;ct++){if(je[ct]===null)continue;const dt=je[ct].split(" ");ut.push(dt.pop())}return ut}(_.staticAttributes),ve=w?w.getBinderAttributes():[],ye=le.concat(ve);let Pe=w?w.defines():[];Pe=Pe.concat(N.map(je=>`#define ${je}`));const $e=o.isWebGL2?`#version 300 es
`:"",Ze=$e+Pe.concat(o.extStandardDerivatives&&$e.length===0?`#extension GL_OES_standard_derivatives : enable
`.concat(St):St,St,Ge,Re.fragmentSource,be.fragmentSource,_.fragmentSource).join(`
`),Ke=$e+Pe.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,Ge,Re.vertexSource,be.vertexSource,ue.vertexSource,_.vertexSource).join(`
`),Je=H.createShader(H.FRAGMENT_SHADER);if(H.isContextLost())return void(this.failedToCreate=!0);H.shaderSource(Je,Ze),H.compileShader(Je),H.attachShader(this.program,Je);const et=H.createShader(H.VERTEX_SHADER);if(H.isContextLost())this.failedToCreate=!0;else{H.shaderSource(et,Ke),H.compileShader(et),H.attachShader(this.program,et),this.attributes={},this.numAttributes=ye.length;for(let je=0;je<this.numAttributes;je++)ye[je]&&(H.bindAttribLocation(this.program,je,ye[je]),this.attributes[ye[je]]=je);H.linkProgram(this.program),H.deleteShader(et),H.deleteShader(Je),this.fixedUniforms=E(o),this.binderUniforms=w?w.getUniforms(o):[],N.includes("TERRAIN")&&(this.terrainUniforms=(je=>({u_dem:new s.Uniform1i(je),u_dem_prev:new s.Uniform1i(je),u_dem_unpack:new s.Uniform4f(je),u_dem_tl:new s.Uniform2f(je),u_dem_scale:new s.Uniform1f(je),u_dem_tl_prev:new s.Uniform2f(je),u_dem_scale_prev:new s.Uniform1f(je),u_dem_size:new s.Uniform1f(je),u_dem_lerp:new s.Uniform1f(je),u_exaggeration:new s.Uniform1f(je),u_depth:new s.Uniform1i(je),u_depth_size_inv:new s.Uniform2f(je),u_meter_to_dem:new s.Uniform1f(je),u_label_plane_matrix_inv:new s.UniformMatrix4f(je)}))(o)),N.includes("GLOBE")&&(this.globeUniforms=(je=>({u_tile_tl_up:new s.Uniform3f(je),u_tile_tr_up:new s.Uniform3f(je),u_tile_br_up:new s.Uniform3f(je),u_tile_bl_up:new s.Uniform3f(je),u_tile_up_scale:new s.Uniform1f(je)}))(o)),N.includes("FOG")&&(this.fogUniforms=(je=>({u_fog_matrix:new s.UniformMatrix4f(je),u_fog_range:new s.Uniform2f(je),u_fog_color:new s.Uniform4f(je),u_fog_horizon_blend:new s.Uniform1f(je),u_fog_temporal_offset:new s.Uniform1f(je),u_frustum_tl:new s.Uniform3f(je),u_frustum_tr:new s.Uniform3f(je),u_frustum_br:new s.Uniform3f(je),u_frustum_bl:new s.Uniform3f(je),u_globe_pos:new s.Uniform3f(je),u_globe_radius:new s.Uniform1f(je),u_globe_transition:new s.Uniform1f(je),u_is_globe:new s.Uniform1i(je),u_viewport:new s.Uniform2f(je)}))(o))}}setTerrainUniformValues(o,d){if(!this.terrainUniforms)return;const _=this.terrainUniforms;if(!this.failedToCreate){o.program.set(this.program);for(const w in d)_[w]&&_[w].set(this.program,w,d[w])}}setGlobeUniformValues(o,d){if(!this.globeUniforms)return;const _=this.globeUniforms;if(!this.failedToCreate){o.program.set(this.program);for(const w in d)_[w]&&_[w].set(this.program,w,d[w])}}setFogUniformValues(o,d){if(!this.fogUniforms)return;const _=this.fogUniforms;if(!this.failedToCreate){o.program.set(this.program);for(const w in d)_[w].set(this.program,w,d[w])}}draw(o,d,_,w,E,N,H,le,ve,ye,Pe,$e,Ze,Ke,Je){const et=o.gl;if(this.failedToCreate)return;o.program.set(this.program),o.setDepthMode(_),o.setStencilMode(w),o.setColorMode(E),o.setCullFace(N);for(const ut of Object.keys(this.fixedUniforms))this.fixedUniforms[ut].set(this.program,ut,H[ut]);Ke&&Ke.setUniforms(this.program,o,this.binderUniforms,$e,{zoom:Ze});const je={[et.LINES]:2,[et.TRIANGLES]:3,[et.LINE_STRIP]:1}[d];for(const ut of Pe.get()){const ct=ut.vaos||(ut.vaos={});(ct[le]||(ct[le]=new si)).bind(o,this,ve,Ke?Ke.getPaintVertexBuffers():[],ye,ut.vertexOffset,Je||[]),et.drawElements(d,ut.primitiveLength*je,et.UNSIGNED_SHORT,ut.primitiveOffset*je*2)}}}function Ea(m,o){const d=Math.pow(2,o.tileID.overscaledZ),_=o.tileSize*Math.pow(2,m.transform.tileZoom)/d,w=_*(o.tileID.canonical.x+o.tileID.wrap*d),E=_*o.tileID.canonical.y;return{u_image:0,u_texsize:o.imageAtlasTexture.size,u_tile_units_to_pixels:1/ie(o,1,m.transform.tileZoom),u_pixel_coord_upper:[w>>16,E>>16],u_pixel_coord_lower:[65535&w,65535&E]}}const Ks=s.create(),Ha=(m,o,d,_,w,E,N,H,le,ve,ye)=>{const Pe=o.style.light,$e=Pe.properties.get("position"),Ze=[$e.x,$e.y,$e.z],Ke=s.create$1();Pe.properties.get("anchor")==="viewport"&&(s.fromRotation(Ke,-o.transform.angle),s.transformMat3(Ze,Ze,Ke));const Je=Pe.properties.get("color"),et=o.transform,je={u_matrix:m,u_lightpos:Ze,u_lightintensity:Pe.properties.get("intensity"),u_lightcolor:[Je.r,Je.g,Je.b],u_vertical_gradient:+d,u_opacity:_,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Ks,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:w,u_edge_radius:E};return et.projection.name==="globe"&&(je.u_tile_id=[N.canonical.x,N.canonical.y,1<<N.canonical.z],je.u_zoom_transition=le,je.u_inv_rot_matrix=ye,je.u_merc_center=ve,je.u_up_dir=et.projection.upVector(new s.CanonicalTileID(0,0,0),ve[0]*s.EXTENT,ve[1]*s.EXTENT),je.u_height_lift=H),je},Go=(m,o,d,_,w,E,N,H,le,ve,ye,Pe)=>{const $e=Ha(m,o,d,_,w,E,N,le,ve,ye,Pe),Ze={u_height_factor:-Math.pow(2,N.overscaledZ)/H.tileSize/8};return s.extend($e,Ea(o,H),Ze)},ao=m=>({u_matrix:m}),Os=(m,o,d)=>s.extend(ao(m),Ea(o,d)),_h=(m,o)=>({u_matrix:m,u_world:o}),ec=(m,o,d,_)=>s.extend(Os(m,o,d),{u_world:_}),pr=s.create(),Ca=(m,o,d,_,w,E)=>{const N=m.transform,H=N.projection.name==="globe";let le;if(E.paint.get("circle-pitch-alignment")==="map")if(H){const ye=s.globePixelsToTileUnits(N.zoom,o.canonical)*N._pixelsPerMercatorPixel;le=Float32Array.from([ye,0,0,ye])}else le=N.calculatePixelsToTileUnitsMatrix(d);else le=new Float32Array([N.pixelsToGLUnits[0],0,0,N.pixelsToGLUnits[1]]);const ve={u_camera_to_center_distance:N.cameraToCenterDistance,u_matrix:m.translatePosMatrix(o.projMatrix,d,E.paint.get("circle-translate"),E.paint.get("circle-translate-anchor")),u_device_pixel_ratio:s.exported.devicePixelRatio,u_extrude_scale:le,u_inv_rot_matrix:pr,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(H){ve.u_inv_rot_matrix=_,ve.u_merc_center=w,ve.u_tile_id=[o.canonical.x,o.canonical.y,1<<o.canonical.z],ve.u_zoom_transition=s.globeToMercatorTransition(N.zoom);const ye=w[0]*s.EXTENT,Pe=w[1]*s.EXTENT;ve.u_up_dir=N.projection.upVector(new s.CanonicalTileID(0,0,0),ye,Pe)}return ve},Us=m=>{const o=[];return m.paint.get("circle-pitch-alignment")==="map"&&o.push("PITCH_WITH_MAP"),m.paint.get("circle-pitch-scale")==="map"&&o.push("SCALE_WITH_MAP"),o},Tl=(m,o,d,_)=>{const w=s.EXTENT/d.tileSize;return{u_matrix:m,u_camera_to_center_distance:o.getCameraToCenterDistance(_),u_extrude_scale:[o.pixelsToGLUnits[0]/w,o.pixelsToGLUnits[1]/w]}},Fc=(m,o,d=1)=>({u_matrix:m,u_color:o,u_overlay:0,u_overlay_scale:d}),rd=s.create(),Wo=(m,o,d,_,w,E,N)=>{const H=m.transform,le=H.projection.name==="globe",ve=le?s.globePixelsToTileUnits(H.zoom,o.canonical)*H._pixelsPerMercatorPixel:ie(d,1,E),ye={u_matrix:o.projMatrix,u_extrude_scale:ve,u_intensity:N,u_inv_rot_matrix:rd,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(le){ye.u_inv_rot_matrix=_,ye.u_merc_center=w,ye.u_tile_id=[o.canonical.x,o.canonical.y,1<<o.canonical.z],ye.u_zoom_transition=s.globeToMercatorTransition(H.zoom);const Pe=w[0]*s.EXTENT,$e=w[1]*s.EXTENT;ye.u_up_dir=H.projection.upVector(new s.CanonicalTileID(0,0,0),Pe,$e)}return ye},Js=(m,o,d,_,w,E,N)=>{const H=m.transform,le=H.calculatePixelsToTileUnitsMatrix(o);return{u_matrix:tc(m,o,d,_),u_pixels_to_tile_units:le,u_device_pixel_ratio:E,u_units_to_pixels:[1/H.pixelsToGLUnits[0],1/H.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:w,u_texsize:qa(d)?o.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:$o(o,m.transform),u_alpha_discard_threshold:0,u_trim_offset:N}},yh=(m,o,d,_,w)=>{const E=m.transform;return{u_matrix:tc(m,o,d,_),u_texsize:o.imageAtlasTexture.size,u_pixels_to_tile_units:E.calculatePixelsToTileUnitsMatrix(o),u_device_pixel_ratio:w,u_image:0,u_tile_units_to_pixels:$o(o,E),u_units_to_pixels:[1/E.pixelsToGLUnits[0],1/E.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function $o(m,o){return 1/ie(m,1,o.tileZoom)}function tc(m,o,d,_){return m.translatePosMatrix(_||o.tileID.projMatrix,o,d.paint.get("line-translate"),d.paint.get("line-translate-anchor"))}function qa(m){const o=m.paint.get("line-dasharray").value;return o.value||o.kind!=="constant"}const Ho=(m,o,d,_,w,E)=>{return{u_matrix:m,u_tl_parent:o,u_scale_parent:d,u_fade_t:_.mix,u_opacity:_.opacity*w.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:w.paint.get("raster-brightness-min"),u_brightness_high:w.paint.get("raster-brightness-max"),u_saturation_factor:(H=w.paint.get("raster-saturation"),H>0?1-1/(1.001-H):-H),u_contrast_factor:(N=w.paint.get("raster-contrast"),N>0?1/(1-N):1+N),u_spin_weights:Ma(w.paint.get("raster-hue-rotate")),u_perspective_transform:E};var N,H};function Ma(m){m*=Math.PI/180;const o=Math.sin(m),d=Math.cos(m);return[(2*d+1)/3,(-Math.sqrt(3)*o-d+1)/3,(Math.sqrt(3)*o-d+1)/3]}const vh=s.create(),Nc=(m,o,d,_,w,E,N,H,le,ve,ye,Pe,$e,Ze,Ke,Je)=>{const et=w.transform,je={u_is_size_zoom_constant:+(m==="constant"||m==="source"),u_is_size_feature_constant:+(m==="constant"||m==="camera"),u_size_t:o?o.uSizeT:0,u_size:o?o.uSize:0,u_camera_to_center_distance:et.cameraToCenterDistance,u_rotate_symbol:+d,u_aspect_ratio:et.width/et.height,u_fade_change:w.options.fadeDuration?w.symbolFadeChange:1,u_matrix:E,u_label_plane_matrix:N,u_coord_matrix:H,u_is_text:+le,u_pitch_with_map:+_,u_texsize:ve,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:vh,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:vh,u_up_vector:[0,-1,0]};return Je.name==="globe"&&(je.u_tile_id=[ye.canonical.x,ye.canonical.y,1<<ye.canonical.z],je.u_zoom_transition=Pe,je.u_inv_rot_matrix=Ze,je.u_merc_center=$e,je.u_camera_forward=et._camera.forward(),je.u_ecef_origin=s.globeECEFOrigin(et.globeMatrix,ye.toUnwrapped()),je.u_tile_matrix=Float32Array.from(et.globeMatrix),je.u_up_vector=Ke),je},jc=(m,o,d,_,w,E,N,H,le,ve,ye,Pe,$e,Ze,Ke,Je,et)=>s.extend(Nc(m,o,d,_,w,E,N,H,le,ve,Pe,$e,Ze,Ke,Je,et),{u_gamma_scale:_?w.transform.cameraToCenterDistance*Math.cos(w.terrain?0:w.transform._pitch):1,u_device_pixel_ratio:s.exported.devicePixelRatio,u_is_halo:+ye}),ta=(m,o,d,_,w,E,N,H,le,ve,ye,Pe,$e,Ze,Ke,Je)=>s.extend(jc(m,o,d,_,w,E,N,H,!0,le,!0,ye,Pe,$e,Ze,Ke,Je),{u_texsize_icon:ve,u_texture_icon:1}),lo=(m,o,d)=>({u_matrix:m,u_opacity:o,u_color:d}),xh=(m,o,d,_,w)=>s.extend(function(E,N,H){const le=N.imageManager.getPattern(E.toString()),{width:ve,height:ye}=N.imageManager.getPixelSize(),Pe=Math.pow(2,H.tileID.overscaledZ),$e=H.tileSize*Math.pow(2,N.transform.tileZoom)/Pe,Ze=$e*(H.tileID.canonical.x+H.tileID.wrap*Pe),Ke=$e*H.tileID.canonical.y;return{u_image:0,u_pattern_tl:le.tl,u_pattern_br:le.br,u_texsize:[ve,ye],u_pattern_size:le.displaySize,u_tile_units_to_pixels:1/ie(H,1,N.transform.tileZoom),u_pixel_coord_upper:[Ze>>16,Ke>>16],u_pixel_coord_lower:[65535&Ze,65535&Ke]}}(_,d,w),{u_matrix:m,u_opacity:o}),sd={fillExtrusion:m=>({u_matrix:new s.UniformMatrix4f(m),u_lightpos:new s.Uniform3f(m),u_lightintensity:new s.Uniform1f(m),u_lightcolor:new s.Uniform3f(m),u_vertical_gradient:new s.Uniform1f(m),u_opacity:new s.Uniform1f(m),u_edge_radius:new s.Uniform1f(m),u_ao:new s.Uniform2f(m),u_tile_id:new s.Uniform3f(m),u_zoom_transition:new s.Uniform1f(m),u_inv_rot_matrix:new s.UniformMatrix4f(m),u_merc_center:new s.Uniform2f(m),u_up_dir:new s.Uniform3f(m),u_height_lift:new s.Uniform1f(m)}),fillExtrusionPattern:m=>({u_matrix:new s.UniformMatrix4f(m),u_lightpos:new s.Uniform3f(m),u_lightintensity:new s.Uniform1f(m),u_lightcolor:new s.Uniform3f(m),u_vertical_gradient:new s.Uniform1f(m),u_height_factor:new s.Uniform1f(m),u_edge_radius:new s.Uniform1f(m),u_ao:new s.Uniform2f(m),u_tile_id:new s.Uniform3f(m),u_zoom_transition:new s.Uniform1f(m),u_inv_rot_matrix:new s.UniformMatrix4f(m),u_merc_center:new s.Uniform2f(m),u_up_dir:new s.Uniform3f(m),u_height_lift:new s.Uniform1f(m),u_image:new s.Uniform1i(m),u_texsize:new s.Uniform2f(m),u_pixel_coord_upper:new s.Uniform2f(m),u_pixel_coord_lower:new s.Uniform2f(m),u_tile_units_to_pixels:new s.Uniform1f(m),u_opacity:new s.Uniform1f(m)}),fill:m=>({u_matrix:new s.UniformMatrix4f(m)}),fillPattern:m=>({u_matrix:new s.UniformMatrix4f(m),u_image:new s.Uniform1i(m),u_texsize:new s.Uniform2f(m),u_pixel_coord_upper:new s.Uniform2f(m),u_pixel_coord_lower:new s.Uniform2f(m),u_tile_units_to_pixels:new s.Uniform1f(m)}),fillOutline:m=>({u_matrix:new s.UniformMatrix4f(m),u_world:new s.Uniform2f(m)}),fillOutlinePattern:m=>({u_matrix:new s.UniformMatrix4f(m),u_world:new s.Uniform2f(m),u_image:new s.Uniform1i(m),u_texsize:new s.Uniform2f(m),u_pixel_coord_upper:new s.Uniform2f(m),u_pixel_coord_lower:new s.Uniform2f(m),u_tile_units_to_pixels:new s.Uniform1f(m)}),circle:m=>({u_camera_to_center_distance:new s.Uniform1f(m),u_extrude_scale:new s.UniformMatrix2f(m),u_device_pixel_ratio:new s.Uniform1f(m),u_matrix:new s.UniformMatrix4f(m),u_inv_rot_matrix:new s.UniformMatrix4f(m),u_merc_center:new s.Uniform2f(m),u_tile_id:new s.Uniform3f(m),u_zoom_transition:new s.Uniform1f(m),u_up_dir:new s.Uniform3f(m)}),collisionBox:m=>({u_matrix:new s.UniformMatrix4f(m),u_camera_to_center_distance:new s.Uniform1f(m),u_extrude_scale:new s.Uniform2f(m)}),collisionCircle:m=>({u_matrix:new s.UniformMatrix4f(m),u_inv_matrix:new s.UniformMatrix4f(m),u_camera_to_center_distance:new s.Uniform1f(m),u_viewport_size:new s.Uniform2f(m)}),debug:m=>({u_color:new s.UniformColor(m),u_matrix:new s.UniformMatrix4f(m),u_overlay:new s.Uniform1i(m),u_overlay_scale:new s.Uniform1f(m)}),clippingMask:m=>({u_matrix:new s.UniformMatrix4f(m)}),heatmap:m=>({u_extrude_scale:new s.Uniform1f(m),u_intensity:new s.Uniform1f(m),u_matrix:new s.UniformMatrix4f(m),u_inv_rot_matrix:new s.UniformMatrix4f(m),u_merc_center:new s.Uniform2f(m),u_tile_id:new s.Uniform3f(m),u_zoom_transition:new s.Uniform1f(m),u_up_dir:new s.Uniform3f(m)}),heatmapTexture:m=>({u_image:new s.Uniform1i(m),u_color_ramp:new s.Uniform1i(m),u_opacity:new s.Uniform1f(m)}),hillshade:m=>({u_matrix:new s.UniformMatrix4f(m),u_image:new s.Uniform1i(m),u_latrange:new s.Uniform2f(m),u_light:new s.Uniform2f(m),u_shadow:new s.UniformColor(m),u_highlight:new s.UniformColor(m),u_accent:new s.UniformColor(m)}),hillshadePrepare:m=>({u_matrix:new s.UniformMatrix4f(m),u_image:new s.Uniform1i(m),u_dimension:new s.Uniform2f(m),u_zoom:new s.Uniform1f(m),u_unpack:new s.Uniform4f(m)}),line:m=>({u_matrix:new s.UniformMatrix4f(m),u_pixels_to_tile_units:new s.UniformMatrix2f(m),u_device_pixel_ratio:new s.Uniform1f(m),u_units_to_pixels:new s.Uniform2f(m),u_dash_image:new s.Uniform1i(m),u_gradient_image:new s.Uniform1i(m),u_image_height:new s.Uniform1f(m),u_texsize:new s.Uniform2f(m),u_tile_units_to_pixels:new s.Uniform1f(m),u_alpha_discard_threshold:new s.Uniform1f(m),u_trim_offset:new s.Uniform2f(m)}),linePattern:m=>({u_matrix:new s.UniformMatrix4f(m),u_texsize:new s.Uniform2f(m),u_pixels_to_tile_units:new s.UniformMatrix2f(m),u_device_pixel_ratio:new s.Uniform1f(m),u_image:new s.Uniform1i(m),u_units_to_pixels:new s.Uniform2f(m),u_tile_units_to_pixels:new s.Uniform1f(m),u_alpha_discard_threshold:new s.Uniform1f(m)}),raster:m=>({u_matrix:new s.UniformMatrix4f(m),u_tl_parent:new s.Uniform2f(m),u_scale_parent:new s.Uniform1f(m),u_fade_t:new s.Uniform1f(m),u_opacity:new s.Uniform1f(m),u_image0:new s.Uniform1i(m),u_image1:new s.Uniform1i(m),u_brightness_low:new s.Uniform1f(m),u_brightness_high:new s.Uniform1f(m),u_saturation_factor:new s.Uniform1f(m),u_contrast_factor:new s.Uniform1f(m),u_spin_weights:new s.Uniform3f(m),u_perspective_transform:new s.Uniform2f(m)}),symbolIcon:m=>({u_is_size_zoom_constant:new s.Uniform1i(m),u_is_size_feature_constant:new s.Uniform1i(m),u_size_t:new s.Uniform1f(m),u_size:new s.Uniform1f(m),u_camera_to_center_distance:new s.Uniform1f(m),u_rotate_symbol:new s.Uniform1i(m),u_aspect_ratio:new s.Uniform1f(m),u_fade_change:new s.Uniform1f(m),u_matrix:new s.UniformMatrix4f(m),u_label_plane_matrix:new s.UniformMatrix4f(m),u_coord_matrix:new s.UniformMatrix4f(m),u_is_text:new s.Uniform1i(m),u_pitch_with_map:new s.Uniform1i(m),u_texsize:new s.Uniform2f(m),u_tile_id:new s.Uniform3f(m),u_zoom_transition:new s.Uniform1f(m),u_inv_rot_matrix:new s.UniformMatrix4f(m),u_merc_center:new s.Uniform2f(m),u_camera_forward:new s.Uniform3f(m),u_tile_matrix:new s.UniformMatrix4f(m),u_up_vector:new s.Uniform3f(m),u_ecef_origin:new s.Uniform3f(m),u_texture:new s.Uniform1i(m)}),symbolSDF:m=>({u_is_size_zoom_constant:new s.Uniform1i(m),u_is_size_feature_constant:new s.Uniform1i(m),u_size_t:new s.Uniform1f(m),u_size:new s.Uniform1f(m),u_camera_to_center_distance:new s.Uniform1f(m),u_rotate_symbol:new s.Uniform1i(m),u_aspect_ratio:new s.Uniform1f(m),u_fade_change:new s.Uniform1f(m),u_matrix:new s.UniformMatrix4f(m),u_label_plane_matrix:new s.UniformMatrix4f(m),u_coord_matrix:new s.UniformMatrix4f(m),u_is_text:new s.Uniform1i(m),u_pitch_with_map:new s.Uniform1i(m),u_texsize:new s.Uniform2f(m),u_texture:new s.Uniform1i(m),u_gamma_scale:new s.Uniform1f(m),u_device_pixel_ratio:new s.Uniform1f(m),u_tile_id:new s.Uniform3f(m),u_zoom_transition:new s.Uniform1f(m),u_inv_rot_matrix:new s.UniformMatrix4f(m),u_merc_center:new s.Uniform2f(m),u_camera_forward:new s.Uniform3f(m),u_tile_matrix:new s.UniformMatrix4f(m),u_up_vector:new s.Uniform3f(m),u_ecef_origin:new s.Uniform3f(m),u_is_halo:new s.Uniform1i(m)}),symbolTextAndIcon:m=>({u_is_size_zoom_constant:new s.Uniform1i(m),u_is_size_feature_constant:new s.Uniform1i(m),u_size_t:new s.Uniform1f(m),u_size:new s.Uniform1f(m),u_camera_to_center_distance:new s.Uniform1f(m),u_rotate_symbol:new s.Uniform1i(m),u_aspect_ratio:new s.Uniform1f(m),u_fade_change:new s.Uniform1f(m),u_matrix:new s.UniformMatrix4f(m),u_label_plane_matrix:new s.UniformMatrix4f(m),u_coord_matrix:new s.UniformMatrix4f(m),u_is_text:new s.Uniform1i(m),u_pitch_with_map:new s.Uniform1i(m),u_texsize:new s.Uniform2f(m),u_texsize_icon:new s.Uniform2f(m),u_texture:new s.Uniform1i(m),u_texture_icon:new s.Uniform1i(m),u_gamma_scale:new s.Uniform1f(m),u_device_pixel_ratio:new s.Uniform1f(m),u_is_halo:new s.Uniform1i(m)}),background:m=>({u_matrix:new s.UniformMatrix4f(m),u_opacity:new s.Uniform1f(m),u_color:new s.UniformColor(m)}),backgroundPattern:m=>({u_matrix:new s.UniformMatrix4f(m),u_opacity:new s.Uniform1f(m),u_image:new s.Uniform1i(m),u_pattern_tl:new s.Uniform2f(m),u_pattern_br:new s.Uniform2f(m),u_texsize:new s.Uniform2f(m),u_pattern_size:new s.Uniform2f(m),u_pixel_coord_upper:new s.Uniform2f(m),u_pixel_coord_lower:new s.Uniform2f(m),u_tile_units_to_pixels:new s.Uniform1f(m)}),terrainRaster:En,terrainDepth:En,skybox:m=>({u_matrix:new s.UniformMatrix4f(m),u_sun_direction:new s.Uniform3f(m),u_cubemap:new s.Uniform1i(m),u_opacity:new s.Uniform1f(m),u_temporal_offset:new s.Uniform1f(m)}),skyboxGradient:m=>({u_matrix:new s.UniformMatrix4f(m),u_color_ramp:new s.Uniform1i(m),u_center_direction:new s.Uniform3f(m),u_radius:new s.Uniform1f(m),u_opacity:new s.Uniform1f(m),u_temporal_offset:new s.Uniform1f(m)}),skyboxCapture:m=>({u_matrix_3f:new s.UniformMatrix3f(m),u_sun_direction:new s.Uniform3f(m),u_sun_intensity:new s.Uniform1f(m),u_color_tint_r:new s.Uniform4f(m),u_color_tint_m:new s.Uniform4f(m),u_luminance:new s.Uniform1f(m)}),globeRaster:m=>({u_proj_matrix:new s.UniformMatrix4f(m),u_globe_matrix:new s.UniformMatrix4f(m),u_normalize_matrix:new s.UniformMatrix4f(m),u_merc_matrix:new s.UniformMatrix4f(m),u_zoom_transition:new s.Uniform1f(m),u_merc_center:new s.Uniform2f(m),u_image0:new s.Uniform1i(m),u_grid_matrix:new s.UniformMatrix3f(m),u_skirt_height:new s.Uniform1f(m),u_frustum_tl:new s.Uniform3f(m),u_frustum_tr:new s.Uniform3f(m),u_frustum_br:new s.Uniform3f(m),u_frustum_bl:new s.Uniform3f(m),u_globe_pos:new s.Uniform3f(m),u_globe_radius:new s.Uniform1f(m),u_viewport:new s.Uniform2f(m)}),globeAtmosphere:m=>({u_frustum_tl:new s.Uniform3f(m),u_frustum_tr:new s.Uniform3f(m),u_frustum_br:new s.Uniform3f(m),u_frustum_bl:new s.Uniform3f(m),u_horizon:new s.Uniform1f(m),u_transition:new s.Uniform1f(m),u_fadeout_range:new s.Uniform1f(m),u_color:new s.Uniform4f(m),u_high_color:new s.Uniform4f(m),u_space_color:new s.Uniform4f(m),u_star_intensity:new s.Uniform1f(m),u_star_density:new s.Uniform1f(m),u_star_size:new s.Uniform1f(m),u_temporal_offset:new s.Uniform1f(m),u_horizon_angle:new s.Uniform1f(m),u_rotation_matrix:new s.UniformMatrix4f(m)})};let Xa;function pt(m,o,d,_,w,E,N){const H=m.context,le=H.gl,ve=m.transform,ye=m.useProgram("collisionBox"),Pe=[];let $e=0,Ze=0;for(let dt=0;dt<_.length;dt++){const wt=_[dt],vt=o.getTile(wt),Ct=vt.getBucket(d);if(!Ct)continue;const Rt=ea(wt,Ct,ve);let Bt=Rt;w[0]===0&&w[1]===0||(Bt=m.translatePosMatrix(Rt,vt,w,E));const Ht=N?Ct.textCollisionBox:Ct.iconCollisionBox,Si=Ct.collisionCircleArray;if(Si.length>0){const Nt=s.create(),oi=Bt;s.mul(Nt,Ct.placementInvProjMatrix,ve.glCoordMatrix),s.mul(Nt,Nt,Ct.placementViewportMatrix),Pe.push({circleArray:Si,circleOffset:Ze,transform:oi,invTransform:Nt,projection:Ct.getProjection()}),$e+=Si.length/4,Ze=$e}Ht&&(m.terrain&&m.terrain.setupElevationDraw(vt,ye),ye.draw(H,le.LINES,s.DepthMode.disabled,s.StencilMode.disabled,m.colorModeForRenderPass(),s.CullFaceMode.disabled,Tl(Bt,ve,vt,Ct.getProjection()),d.id,Ht.layoutVertexBuffer,Ht.indexBuffer,Ht.segments,null,ve.zoom,null,[Ht.collisionVertexBuffer,Ht.collisionVertexBufferExt]))}if(!N||!Pe.length)return;const Ke=m.useProgram("collisionCircle"),Je=new s.StructArrayLayout2f1f2i16;Je.resize(4*$e),Je._trim();let et=0;for(const dt of Pe)for(let wt=0;wt<dt.circleArray.length/4;wt++){const vt=4*wt,Ct=dt.circleArray[vt+0],Rt=dt.circleArray[vt+1],Bt=dt.circleArray[vt+2],Ht=dt.circleArray[vt+3];Je.emplace(et++,Ct,Rt,Bt,Ht,0),Je.emplace(et++,Ct,Rt,Bt,Ht,1),Je.emplace(et++,Ct,Rt,Bt,Ht,2),Je.emplace(et++,Ct,Rt,Bt,Ht,3)}(!Xa||Xa.length<2*$e)&&(Xa=function(dt){const wt=2*dt,vt=new s.StructArrayLayout3ui6;vt.resize(wt),vt._trim();for(let Ct=0;Ct<wt;Ct++){const Rt=6*Ct;vt.uint16[Rt+0]=4*Ct+0,vt.uint16[Rt+1]=4*Ct+1,vt.uint16[Rt+2]=4*Ct+2,vt.uint16[Rt+3]=4*Ct+2,vt.uint16[Rt+4]=4*Ct+3,vt.uint16[Rt+5]=4*Ct+0}return vt}($e));const je=H.createIndexBuffer(Xa,!0),ut=H.createVertexBuffer(Je,s.collisionCircleLayout.members,!0);for(const dt of Pe){const wt={u_matrix:dt.transform,u_inv_matrix:dt.invTransform,u_camera_to_center_distance:(ct=ve).getCameraToCenterDistance(dt.projection),u_viewport_size:[ct.width,ct.height]};Ke.draw(H,le.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,m.colorModeForRenderPass(),s.CullFaceMode.disabled,wt,d.id,ut,je,s.SegmentVector.simpleSegment(0,2*dt.circleOffset,dt.circleArray.length,dt.circleArray.length/2),null,ve.zoom)}var ct;ut.destroy(),je.destroy()}const It=s.create();function Zt({width:m,height:o,anchor:d,textOffset:_,textScale:w},E){const{horizontalAlign:N,verticalAlign:H}=s.getAnchorAlignment(d),le=-(N-.5)*m,ve=-(H-.5)*o,ye=s.evaluateVariableOffset(d,_);return new s.pointGeometry((le/w+ye[0])*E,(ve/w+ye[1])*E)}function Qt(m,o,d,_,w,E,N,H,le,ve,ye){const Pe=m.text.placedSymbolArray,$e=m.text.dynamicLayoutVertexArray,Ze=m.icon.dynamicLayoutVertexArray,Ke={},Je=m.getProjection(),et=Fo(H,Je,E),je=E.elevation,ut=Je.upVectorScale(H.canonical,E.center.lat,E.worldSize).metersToTile;$e.clear();for(let ct=0;ct<Pe.length;ct++){const dt=Pe.get(ct),{tileAnchorX:wt,tileAnchorY:vt,numGlyphs:Ct}=dt,Rt=m.allowVerticalPlacement&&!dt.placedOrientation,Bt=dt.hidden||!dt.crossTileID||Rt?null:_[dt.crossTileID];if(Bt){let Ht=0,Si=0,Nt=0;if(je){const $i=je?je.getAtTileOffset(H,wt,vt):0,[Mn,Fi,zi]=Je.upVector(H.canonical,wt,vt);Ht=$i*Mn*ut,Si=$i*Fi*ut,Nt=$i*zi*ut}let[oi,Jt,ui,Gt]=Ci(dt.projectedAnchorX+Ht,dt.projectedAnchorY+Si,dt.projectedAnchorZ+Nt,d?et:N);const Dt=bn(E.getCameraToCenterDistance(Je),Gt);let Xt=w.evaluateSizeForFeature(m.textSizeData,ve,dt)*Dt/s.ONE_EM;d&&(Xt*=m.tilePixelRatio/le);const di=Zt(Bt,Xt);d?({x:oi,y:Jt,z:ui}=Je.projectTilePoint(wt+di.x,vt+di.y,H.canonical),[oi,Jt,ui]=Ci(oi+Ht,Jt+Si,ui+Nt,N)):(o&&di._rotate(-E.angle),oi+=di.x,Jt+=di.y,ui=0);const fi=m.allowVerticalPlacement&&dt.placedOrientation===s.WritingMode.vertical?Math.PI/2:0;for(let $i=0;$i<Ct;$i++)s.addDynamicAttributes($e,oi,Jt,ui,fi);ye&&dt.associatedIconIndex>=0&&(Ke[dt.associatedIconIndex]={x:oi,y:Jt,z:ui,angle:fi})}else Bn(Ct,$e)}if(ye){Ze.clear();const ct=m.icon.placedSymbolArray;for(let dt=0;dt<ct.length;dt++){const wt=ct.get(dt),{numGlyphs:vt}=wt,Ct=Ke[dt];if(wt.hidden||!Ct)Bn(vt,Ze);else{const{x:Rt,y:Bt,z:Ht,angle:Si}=Ct;for(let Nt=0;Nt<vt;Nt++)s.addDynamicAttributes(Ze,Rt,Bt,Ht,Si)}}m.icon.dynamicLayoutVertexBuffer.updateData(Ze)}m.text.dynamicLayoutVertexBuffer.updateData($e)}function ot(m,o,d){return d.iconsInText&&o?"symbolTextAndIcon":m?"symbolSDF":"symbolIcon"}function Pt(m,o,d,_,w,E,N,H,le,ve,ye,Pe){const $e=m.context,Ze=$e.gl,Ke=m.transform,Je=H==="map",et=le==="map",je=Je&&d.layout.get("symbol-placement")!=="point",ut=Je&&!et&&!je,ct=d.layout.get("symbol-sort-key").constantOr(1)!==void 0;let dt=!1;const wt=m.depthModeForSublayer(0,s.DepthMode.ReadOnly),vt=[s.mercatorXfromLng(Ke.center.lng),s.mercatorYfromLat(Ke.center.lat)],Ct=d.layout.get("text-variable-anchor"),Rt=Ke.projection.name==="globe",Bt=[],Ht=[0,-1,0];let Si=Ht;!Rt&&!Ke.mercatorFromTransition||Je||(Si=function(Nt){const oi=Nt._camera.getWorldToCamera(Nt.worldSize,1),Jt=s.multiply([],oi,Nt.globeMatrix);s.invert(Jt,Jt);const ui=[0,0,0],Gt=[0,1,0,0];return s.transformMat4$1(Gt,Gt,Jt),ui[0]=Gt[0],ui[1]=Gt[1],ui[2]=Gt[2],s.normalize(ui,ui),ui}(Ke));for(const Nt of _){const oi=o.getTile(Nt),Jt=oi.getBucket(d);if(!Jt||Jt.projection.name==="mercator"&&Rt)continue;const ui=w?Jt.text:Jt.icon;if(!ui||Jt.fullyClipped||!ui.segments.get().length)continue;const Gt=ui.programConfigurations.get(d.id),Dt=w||Jt.sdfIcons,Xt=w?Jt.textSizeData:Jt.iconSizeData,di=et||Ke.pitch!==0,fi=s.evaluateSizeForZoom(Xt,Ke.zoom);let $i,Mn,Fi,zi,Zi=[0,0],Rn=null;if(w){if(Mn=oi.glyphAtlasTexture,Fi=Ze.LINEAR,$i=oi.glyphAtlasTexture.size,Jt.iconsInText){Zi=oi.imageAtlasTexture.size,Rn=oi.imageAtlasTexture;const uo=Xt.kind==="composite"||Xt.kind==="camera";zi=di||m.options.rotating||m.options.zooming||uo?Ze.LINEAR:Ze.NEAREST}}else{const uo=d.layout.get("icon-size").constantOr(0)!==1||Jt.iconsNeedLinear;Mn=oi.imageAtlasTexture,Fi=Dt||m.options.rotating||m.options.zooming||uo||di?Ze.LINEAR:Ze.NEAREST,$i=oi.imageAtlasTexture.size}const nn=Jt.projection.name==="globe",er=nn?Si:Ht,tr=nn?s.globeToMercatorTransition(Ke.zoom):0,br=Fo(Nt,Jt.getProjection(),Ke),hr=Ke.calculatePixelsToTileUnitsMatrix(oi),ls=Ua(br,oi.tileID.canonical,et,Je,Ke,Jt.getProjection(),hr),ho=m.terrain&&et&&je?s.invert(s.create(),ls):It,ra=ns(br,oi.tileID.canonical,et,Je,Ke,Jt.getProjection(),hr),sa=Ct&&Jt.hasTextData(),Pr=d.layout.get("icon-text-fit")!=="none"&&sa&&Jt.hasIconData();if(je){const uo=Ke.elevation,gn=uo?uo.getAtTileOffsetFunc(Nt,Ke.center.lat,Ke.worldSize,Jt.getProjection()):null,kl=dh(br,oi.tileID.canonical,et,Je,Ke,Jt.getProjection(),hr);Bo(Jt,br,m,w,kl,ra,et,ve,gn,Nt)}const fr=je||w&&Ct||Pr,Yn=m.translatePosMatrix(br,oi,E,N),Jr=fr?It:ls,Vs=m.translatePosMatrix(ra,oi,E,N,!0),Mr=Jt.getProjection().createInversionMatrix(Ke,Nt.canonical),zs=[];m.terrainRenderModeElevated()&&et&&zs.push("PITCH_WITH_MAP_TERRAIN"),nn&&zs.push("PROJECTION_GLOBE_VIEW"),fr&&zs.push("PROJECTED_POS_ON_VIEWPORT");const Gs=Dt&&d.paint.get(w?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let el;el=Dt?Jt.iconsInText?ta(Xt.kind,fi,ut,et,m,Yn,Jr,Vs,$i,Zi,Nt,tr,vt,Mr,er,Jt.getProjection()):jc(Xt.kind,fi,ut,et,m,Yn,Jr,Vs,w,$i,!0,Nt,tr,vt,Mr,er,Jt.getProjection()):Nc(Xt.kind,fi,ut,et,m,Yn,Jr,Vs,w,$i,Nt,tr,vt,Mr,er,Jt.getProjection());const Ah={program:m.useProgram(ot(Dt,w,Jt),Gt,zs),buffers:ui,uniformValues:el,atlasTexture:Mn,atlasTextureIcon:Rn,atlasInterpolation:Fi,atlasInterpolationIcon:zi,isSDF:Dt,hasHalo:Gs,tile:oi,labelPlaneMatrixInv:ho};if(ct&&Jt.canOverlap){dt=!0;const uo=ui.segments.get();for(const gn of uo)Bt.push({segments:new s.SegmentVector([gn]),sortKey:gn.sortKey,state:Ah})}else Bt.push({segments:ui.segments,sortKey:0,state:Ah})}dt&&Bt.sort((Nt,oi)=>Nt.sortKey-oi.sortKey);for(const Nt of Bt){const oi=Nt.state;if(m.terrain&&m.terrain.setupElevationDraw(oi.tile,oi.program,{useDepthForOcclusion:!Rt,labelPlaneMatrixInv:oi.labelPlaneMatrixInv}),$e.activeTexture.set(Ze.TEXTURE0),oi.atlasTexture.bind(oi.atlasInterpolation,Ze.CLAMP_TO_EDGE),oi.atlasTextureIcon&&($e.activeTexture.set(Ze.TEXTURE1),oi.atlasTextureIcon&&oi.atlasTextureIcon.bind(oi.atlasInterpolationIcon,Ze.CLAMP_TO_EDGE)),oi.isSDF){const Jt=oi.uniformValues;oi.hasHalo&&(Jt.u_is_halo=1,kt(oi.buffers,Nt.segments,d,m,oi.program,wt,ye,Pe,Jt)),Jt.u_is_halo=0}kt(oi.buffers,Nt.segments,d,m,oi.program,wt,ye,Pe,oi.uniformValues)}}function kt(m,o,d,_,w,E,N,H,le){const ve=_.context,ye=[m.dynamicLayoutVertexBuffer,m.opacityVertexBuffer,m.globeExtVertexBuffer];w.draw(ve,ve.gl.TRIANGLES,E,N,H,s.CullFaceMode.disabled,le,d.id,m.layoutVertexBuffer,m.indexBuffer,o,d.paint,_.transform.zoom,m.programConfigurations.get(d.id),ye)}function li(m,o,d,_,w,E,N){const H=m.context.gl,le=d.paint.get("fill-pattern"),ve=le&&le.constantOr(1);let ye,Pe,$e,Ze,Ke;N?(Pe=ve&&!d.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ye=H.LINES):(Pe=ve?"fillPattern":"fill",ye=H.TRIANGLES);for(const Je of _){const et=o.getTile(Je);if(ve&&!et.patternsLoaded())continue;const je=et.getBucket(d);if(!je)continue;m.prepareDrawTile();const ut=je.programConfigurations.get(d.id),ct=m.useProgram(Pe,ut);ve&&(m.context.activeTexture.set(H.TEXTURE0),et.imageAtlasTexture.bind(H.LINEAR,H.CLAMP_TO_EDGE),ut.updatePaintBuffers());const dt=le.constantOr(null);if(dt&&et.imageAtlas){const vt=et.imageAtlas.patternPositions[dt.toString()];vt&&ut.setConstantPatternPositions(vt)}const wt=m.translatePosMatrix(Je.projMatrix,et,d.paint.get("fill-translate"),d.paint.get("fill-translate-anchor"));if(N){Ze=je.indexBuffer2,Ke=je.segments2;const vt=m.terrain&&m.terrain.renderingToTexture?m.terrain.drapeBufferSize:[H.drawingBufferWidth,H.drawingBufferHeight];$e=Pe==="fillOutlinePattern"&&ve?ec(wt,m,et,vt):_h(wt,vt)}else Ze=je.indexBuffer,Ke=je.segments,$e=ve?Os(wt,m,et):ao(wt);m.prepareDrawProgram(m.context,ct,Je.toUnwrapped()),ct.draw(m.context,ye,w,m.stencilModeForClipping(Je),E,s.CullFaceMode.disabled,$e,d.id,je.layoutVertexBuffer,Ze,Ke,d.paint,m.transform.zoom,ut)}}function _i(m,o,d,_,w,E,N){const H=m.context,le=H.gl,ve=m.transform,ye=d.paint.get("fill-extrusion-pattern"),Pe=ye.constantOr(1),$e=d.paint.get("fill-extrusion-opacity"),Ze=[d.paint.get("fill-extrusion-ambient-occlusion-intensity"),d.paint.get("fill-extrusion-ambient-occlusion-radius")],Ke=d.layout.get("fill-extrusion-edge-radius"),Je=ve.projection.name==="globe"?s.fillExtrusionHeightLift():0,et=ve.projection.name==="globe",je=et?s.globeToMercatorTransition(ve.zoom):0,ut=[s.mercatorXfromLng(ve.center.lng),s.mercatorYfromLat(ve.center.lat)],ct=[];et&&ct.push("PROJECTION_GLOBE_VIEW"),Ze[0]>0&&ct.push("FAUX_AO");for(const dt of _){const wt=o.getTile(dt),vt=wt.getBucket(d);if(!vt||vt.projection.name!==ve.projection.name)continue;const Ct=vt.programConfigurations.get(d.id),Rt=m.useProgram(Pe?"fillExtrusionPattern":"fillExtrusion",Ct,ct);if(m.terrain){const ui=m.terrain;if(m.style.terrainSetForDrapingOnly())ui.setupElevationDraw(wt,Rt,{useMeterToDem:!0});else{if(!vt.enableTerrain)continue;if(ui.setupElevationDraw(wt,Rt,{useMeterToDem:!0}),Yi(H,o,dt,vt,d,ui),!vt.centroidVertexBuffer){const Gt=Rt.attributes.a_centroid_pos;Gt!==void 0&&le.vertexAttrib2f(Gt,0,0)}}}Pe&&(m.context.activeTexture.set(le.TEXTURE0),wt.imageAtlasTexture.bind(le.LINEAR,le.CLAMP_TO_EDGE),Ct.updatePaintBuffers());const Bt=ye.constantOr(null);if(Bt&&wt.imageAtlas){const ui=wt.imageAtlas.patternPositions[Bt.toString()];ui&&Ct.setConstantPatternPositions(ui)}const Ht=m.translatePosMatrix(dt.projMatrix,wt,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),Si=ve.projection.createInversionMatrix(ve,dt.canonical),Nt=d.paint.get("fill-extrusion-vertical-gradient"),oi=Pe?Go(Ht,m,Nt,$e,Ze,Ke,dt,wt,Je,je,ut,Si):Ha(Ht,m,Nt,$e,Ze,Ke,dt,Je,je,ut,Si);m.prepareDrawProgram(H,Rt,dt.toUnwrapped());const Jt=[];m.terrain&&Jt.push(vt.centroidVertexBuffer),et&&Jt.push(vt.layoutVertexExtBuffer),Rt.draw(H,H.gl.TRIANGLES,w,E,N,s.CullFaceMode.backCCW,oi,d.id,vt.layoutVertexBuffer,vt.indexBuffer,vt.segments,d.paint,m.transform.zoom,Ct,Jt)}}function Yi(m,o,d,_,w,E){const N=[je=>{let ut=je.canonical.x-1,ct=je.wrap;return ut<0&&(ut=(1<<je.canonical.z)-1,ct--),new s.OverscaledTileID(je.overscaledZ,ct,je.canonical.z,ut,je.canonical.y)},je=>{let ut=je.canonical.x+1,ct=je.wrap;return ut===1<<je.canonical.z&&(ut=0,ct++),new s.OverscaledTileID(je.overscaledZ,ct,je.canonical.z,ut,je.canonical.y)},je=>new s.OverscaledTileID(je.overscaledZ,je.wrap,je.canonical.z,je.canonical.x,(je.canonical.y===0?1<<je.canonical.z:je.canonical.y)-1),je=>new s.OverscaledTileID(je.overscaledZ,je.wrap,je.canonical.z,je.canonical.x,je.canonical.y===(1<<je.canonical.z)-1?0:je.canonical.y+1)],H=je=>{const ut=o.getSource().minzoom,ct=wt=>{const vt=o.getTileByID(wt);if(vt&&vt.hasData())return vt.getBucket(w)},dt=[0,-1,1];for(const wt of dt){if(je.overscaledZ+wt<ut)continue;const vt=ct(je.calculateScaledKey(je.overscaledZ+wt));if(vt)return vt}},le=[0,0,0],ve=(je,ut)=>(le[0]=Math.min(je.min.y,ut.min.y),le[1]=Math.max(je.max.y,ut.max.y),le[2]=s.EXTENT-ut.min.x>je.max.x?ut.min.x-s.EXTENT:je.max.x,le),ye=(je,ut)=>(le[0]=Math.min(je.min.x,ut.min.x),le[1]=Math.max(je.max.x,ut.max.x),le[2]=s.EXTENT-ut.min.y>je.max.y?ut.min.y-s.EXTENT:je.max.y,le),Pe=[(je,ut)=>ve(je,ut),(je,ut)=>ve(ut,je),(je,ut)=>ye(je,ut),(je,ut)=>ye(ut,je)],$e=new s.pointGeometry(0,0);let Ze,Ke,Je;const et=(je,ut,ct,dt,wt)=>{const vt=[[dt?ct:je,dt?je:ct,0],[dt?ct:ut,dt?ut:ct,0]],Ct=wt<0?s.EXTENT+wt:wt,Rt=[dt?Ct:(je+ut)/2,dt?(je+ut)/2:Ct,0];return ct===0&&wt<0||ct!==0&&wt>0?E.getForTilePoints(Je,[Rt],!0,Ke):vt.push(Rt),E.getForTilePoints(d,vt,!0,Ze),Math.max(vt[0][2],vt[1][2],Rt[2])/E.exaggeration()};for(let je=0;je<4;je++){const ut=(je<2?1:5)-je,ct=_.borders[je];if(ct.length===0)continue;const dt=Je=N[je](d),wt=H(dt);if(!(wt&&wt instanceof s.FillExtrusionBucket&&wt.enableTerrain)||_.borderDoneWithNeighborZ[je]===wt.canonical.z&&wt.borderDoneWithNeighborZ[ut]===_.canonical.z||(Ke=E.findDEMTileFor(dt),!Ke||!Ke.dem))continue;if(!Ze){const Bt=E.findDEMTileFor(d);if(!Bt||!Bt.dem)return;Ze=Bt}const vt=wt.borders[ut];let Ct=0;const Rt=wt.borderDoneWithNeighborZ[ut]!==_.canonical.z;if(_.canonical.z===wt.canonical.z){for(let Bt=0;Bt<ct.length;Bt++){const Ht=_.featuresOnBorder[ct[Bt]],Si=Ht.borders[je];let Nt;for(;Ct<vt.length&&(Nt=wt.featuresOnBorder[vt[Ct]],!(Nt.borders[ut][1]>Si[0]+3));)Rt&&wt.encodeCentroid(void 0,Nt,!1),Ct++;if(Nt&&Ct<vt.length){const oi=Ct;let Jt=0;for(;!(Nt.borders[ut][0]>Si[1]-3)&&(Jt++,++Ct!==vt.length);)Nt=wt.featuresOnBorder[vt[Ct]];if(Nt=wt.featuresOnBorder[vt[oi]],Ht.intersectsCount()>1||Nt.intersectsCount()>1||Jt!==1){Jt!==1&&(Ct=oi),_.encodeCentroid(void 0,Ht,!1),Rt&&wt.encodeCentroid(void 0,Nt,!1);continue}const ui=Pe[je](Ht,Nt),Gt=je%2?s.EXTENT-1:0;$e.x=et(ui[0],Math.min(s.EXTENT-1,ui[1]),Gt,je<2,ui[2]),$e.y=0,_.encodeCentroid($e,Ht,!1),Rt&&wt.encodeCentroid($e,Nt,!1)}else _.encodeCentroid(void 0,Ht,!1)}_.borderDoneWithNeighborZ[je]=wt.canonical.z,_.needsCentroidUpdate=!0,Rt&&(wt.borderDoneWithNeighborZ[ut]=_.canonical.z,wt.needsCentroidUpdate=!0)}else{for(const Bt of ct)_.encodeCentroid(void 0,_.featuresOnBorder[Bt],!1);if(Rt){for(const Bt of vt)wt.encodeCentroid(void 0,wt.featuresOnBorder[Bt],!1);wt.borderDoneWithNeighborZ[ut]=_.canonical.z,wt.needsCentroidUpdate=!0}_.borderDoneWithNeighborZ[je]=wt.canonical.z,_.needsCentroidUpdate=!0}}(_.needsCentroidUpdate||!_.centroidVertexBuffer&&_.centroidVertexArray.length!==0)&&_.uploadCentroid(m)}const qi=new s.Color(1,0,0,1),Ui=new s.Color(0,1,0,1),Dn=new s.Color(0,0,1,1),dn=new s.Color(1,0,1,1),Vn=new s.Color(0,1,1,1);function us(m,o,d){const _=m.context,w=m.transform,E=_.gl,N=w.projection.name==="globe",H=N?["PROJECTION_GLOBE_VIEW"]:null;let le=d.projMatrix;if(N&&s.globeToMercatorTransition(w.zoom)>0){const Ht=s.transitionTileAABBinECEF(d.canonical,w),Si=s.globeDenormalizeECEF(Ht);le=s.multiply(new Float32Array(16),w.globeMatrix,Si),s.multiply(le,w.projMatrix,le)}const ve=m.useProgram("debug",null,H),ye=o.getTileByID(d.key);m.terrain&&m.terrain.setupElevationDraw(ye,ve);const Pe=s.DepthMode.disabled,$e=s.StencilMode.disabled,Ze=m.colorModeForRenderPass(),Ke="$debug";_.activeTexture.set(E.TEXTURE0),m.emptyTexture.bind(E.LINEAR,E.CLAMP_TO_EDGE),N?ye._makeGlobeTileDebugBuffers(m.context,w):ye._makeDebugTileBoundsBuffers(m.context,w.projection);const Je=ye._tileDebugBuffer||m.debugBuffer,et=ye._tileDebugIndexBuffer||m.debugIndexBuffer,je=ye._tileDebugSegments||m.debugSegments;ve.draw(_,E.LINE_STRIP,Pe,$e,Ze,s.CullFaceMode.disabled,Fc(le,s.Color.red),Ke,Je,et,je,null,null,null,[ye._globeTileDebugBorderBuffer]);const ut=ye.latestRawTileData,ct=Math.floor((ut&&ut.byteLength||0)/1024),dt=o.getTile(d).tileSize,wt=512/Math.min(dt,512)*(d.overscaledZ/w.zoom)*.5;let vt=d.canonical.toString();d.overscaledZ!==d.canonical.z&&(vt+=` => ${d.overscaledZ}`),vt+=` ${ct}kb`,function(Ht,Si){Ht.initDebugOverlayCanvas();const Nt=Ht.debugOverlayCanvas,oi=Ht.context.gl,Jt=Ht.debugOverlayCanvas.getContext("2d");Jt.clearRect(0,0,Nt.width,Nt.height),Jt.shadowColor="white",Jt.shadowBlur=2,Jt.lineWidth=1.5,Jt.strokeStyle="white",Jt.textBaseline="top",Jt.font="bold 36px Open Sans, sans-serif",Jt.fillText(Si,5,5),Jt.strokeText(Si,5,5),Ht.debugOverlayTexture.update(Nt),Ht.debugOverlayTexture.bind(oi.LINEAR,oi.CLAMP_TO_EDGE)}(m,vt);const Ct=ye._tileDebugTextBuffer||m.debugBuffer,Rt=ye._tileDebugTextIndexBuffer||m.quadTriangleIndexBuffer,Bt=ye._tileDebugTextSegments||m.debugSegments;ve.draw(_,E.TRIANGLES,Pe,$e,s.ColorMode.alphaBlended,s.CullFaceMode.disabled,Fc(le,s.Color.transparent,wt),Ke,Ct,Rt,Bt,null,null,null,[ye._globeTileDebugTextBuffer])}function jr(m,o,d,_){Ps(m,0,o+d/2,m.transform.width,d,_)}function Hr(m,o,d,_){Ps(m,o-d/2,0,d,m.transform.height,_)}function Ps(m,o,d,_,w,E){const N=m.context,H=N.gl;H.enable(H.SCISSOR_TEST),H.scissor(o*s.exported.devicePixelRatio,d*s.exported.devicePixelRatio,_*s.exported.devicePixelRatio,w*s.exported.devicePixelRatio),N.clear({color:E}),H.disable(H.SCISSOR_TEST)}const Qs=s.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:mn}=Qs;function Sl(m,o,d,_){m.emplaceBack(o,d,_)}class od{constructor(o){this.vertexArray=new s.StructArrayLayout3f12,this.indices=new s.StructArrayLayout3ui6,Sl(this.vertexArray,-1,-1,1),Sl(this.vertexArray,1,-1,1),Sl(this.vertexArray,-1,1,1),Sl(this.vertexArray,1,1,1),Sl(this.vertexArray,-1,-1,-1),Sl(this.vertexArray,1,-1,-1),Sl(this.vertexArray,-1,1,-1),Sl(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=o.createVertexBuffer(this.vertexArray,mn),this.indexBuffer=o.createIndexBuffer(this.indices),this.segment=s.SegmentVector.simpleSegment(0,0,36,12)}}function On(m,o,d,_,w,E){const N=m.gl,H=o.paint.get("sky-atmosphere-color"),le=o.paint.get("sky-atmosphere-halo-color"),ve=o.paint.get("sky-atmosphere-sun-intensity"),ye=((Pe,$e,Ze,Ke,Je)=>({u_matrix_3f:Pe,u_sun_direction:$e,u_sun_intensity:Ze,u_color_tint_r:[Ke.r,Ke.g,Ke.b,Ke.a],u_color_tint_m:[Je.r,Je.g,Je.b,Je.a],u_luminance:5e-5}))(s.fromMat4(s.create$1(),_),w,ve,H,le);N.framebufferTexture2D(N.FRAMEBUFFER,N.COLOR_ATTACHMENT0,N.TEXTURE_CUBE_MAP_POSITIVE_X+E,o.skyboxTexture,0),d.draw(m,N.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,s.ColorMode.unblended,s.CullFaceMode.frontCW,ye,"skyboxCapture",o.skyboxGeometry.vertexBuffer,o.skyboxGeometry.indexBuffer,o.skyboxGeometry.segment)}const tu=s.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class bm{constructor(o){const d=new s.StructArrayLayout5f20;d.emplaceBack(-1,1,1,0,0),d.emplaceBack(1,1,1,1,0),d.emplaceBack(1,-1,1,1,1),d.emplaceBack(-1,-1,1,0,1);const _=new s.StructArrayLayout3ui6;_.emplaceBack(0,1,2),_.emplaceBack(2,3,0),this.vertexBuffer=o.createVertexBuffer(d,tu.members),this.indexBuffer=o.createIndexBuffer(_),this.segments=s.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const rp={symbol:function(m,o,d,_,w){if(m.renderPass!=="translucent")return;const E=s.StencilMode.disabled,N=m.colorModeForRenderPass();d.layout.get("text-variable-anchor")&&function(H,le,ve,ye,Pe,$e,Ze){const Ke=le.transform,Je=Pe==="map",et=$e==="map";for(const je of H){const ut=ye.getTile(je),ct=ut.getBucket(ve);if(!ct||!ct.text||!ct.text.segments.get().length)continue;const dt=s.evaluateSizeForZoom(ct.textSizeData,Ke.zoom),wt=Fo(je,ct.getProjection(),Ke),vt=Ke.calculatePixelsToTileUnitsMatrix(ut),Ct=Ua(wt,ut.tileID.canonical,et,Je,Ke,ct.getProjection(),vt),Rt=ve.layout.get("icon-text-fit")!=="none"&&ct.hasIconData();if(dt){const Bt=Math.pow(2,Ke.zoom-ut.tileID.overscaledZ);Qt(ct,Je,et,Ze,s.symbolSize,Ke,Ct,je,Bt,dt,Rt)}}}(_,m,d,o,d.layout.get("text-rotation-alignment"),d.layout.get("text-pitch-alignment"),w),d.paint.get("icon-opacity").constantOr(1)!==0&&Pt(m,o,d,_,!1,d.paint.get("icon-translate"),d.paint.get("icon-translate-anchor"),d.layout.get("icon-rotation-alignment"),d.layout.get("icon-pitch-alignment"),d.layout.get("icon-keep-upright"),E,N),d.paint.get("text-opacity").constantOr(1)!==0&&Pt(m,o,d,_,!0,d.paint.get("text-translate"),d.paint.get("text-translate-anchor"),d.layout.get("text-rotation-alignment"),d.layout.get("text-pitch-alignment"),d.layout.get("text-keep-upright"),E,N),o.map.showCollisionBoxes&&(pt(m,o,d,_,d.paint.get("text-translate"),d.paint.get("text-translate-anchor"),!0),pt(m,o,d,_,d.paint.get("icon-translate"),d.paint.get("icon-translate-anchor"),!1))},circle:function(m,o,d,_){if(m.renderPass!=="translucent")return;const w=d.paint.get("circle-opacity"),E=d.paint.get("circle-stroke-width"),N=d.paint.get("circle-stroke-opacity"),H=d.layout.get("circle-sort-key").constantOr(1)!==void 0;if(w.constantOr(1)===0&&(E.constantOr(1)===0||N.constantOr(1)===0))return;const le=m.context,ve=le.gl,ye=m.transform,Pe=m.depthModeForSublayer(0,s.DepthMode.ReadOnly),$e=s.StencilMode.disabled,Ze=m.colorModeForRenderPass(),Ke=ye.projection.name==="globe",Je=[s.mercatorXfromLng(ye.center.lng),s.mercatorYfromLat(ye.center.lat)],et=[];for(let ut=0;ut<_.length;ut++){const ct=_[ut],dt=o.getTile(ct),wt=dt.getBucket(d);if(!wt||wt.projection.name!==ye.projection.name)continue;const vt=wt.programConfigurations.get(d.id),Ct=Us(d);Ke&&Ct.push("PROJECTION_GLOBE_VIEW");const Rt=m.useProgram("circle",vt,Ct),Bt=wt.layoutVertexBuffer,Ht=wt.globeExtVertexBuffer,Si=wt.indexBuffer,Nt=ye.projection.createInversionMatrix(ye,ct.canonical),oi={programConfiguration:vt,program:Rt,layoutVertexBuffer:Bt,globeExtVertexBuffer:Ht,indexBuffer:Si,uniformValues:Ca(m,ct,dt,Nt,Je,d),tile:dt};if(H){const Jt=wt.segments.get();for(const ui of Jt)et.push({segments:new s.SegmentVector([ui]),sortKey:ui.sortKey,state:oi})}else et.push({segments:wt.segments,sortKey:0,state:oi})}H&&et.sort((ut,ct)=>ut.sortKey-ct.sortKey);const je={useDepthForOcclusion:!Ke};for(const ut of et){const{programConfiguration:ct,program:dt,layoutVertexBuffer:wt,globeExtVertexBuffer:vt,indexBuffer:Ct,uniformValues:Rt,tile:Bt}=ut.state,Ht=ut.segments;m.terrain&&m.terrain.setupElevationDraw(Bt,dt,je),m.prepareDrawProgram(le,dt,Bt.tileID.toUnwrapped()),dt.draw(le,ve.TRIANGLES,Pe,$e,Ze,s.CullFaceMode.disabled,Rt,d.id,wt,Ct,Ht,d.paint,ye.zoom,ct,[vt])}},heatmap:function(m,o,d,_){if(d.paint.get("heatmap-opacity")!==0)if(m.renderPass==="offscreen"){const w=m.context,E=w.gl,N=s.StencilMode.disabled,H=new s.ColorMode([E.ONE,E.ONE],s.Color.transparent,[!0,!0,!0,!0]);(function(Ze,Ke,Je,et){const je=Ze.gl,ut=Ke.width*et,ct=Ke.height*et;Ze.activeTexture.set(je.TEXTURE1),Ze.viewport.set([0,0,ut,ct]);let dt=Je.heatmapFbo;if(!dt||dt&&(dt.width!==ut||dt.height!==ct)){dt&&dt.destroy();const wt=je.createTexture();je.bindTexture(je.TEXTURE_2D,wt),je.texParameteri(je.TEXTURE_2D,je.TEXTURE_WRAP_S,je.CLAMP_TO_EDGE),je.texParameteri(je.TEXTURE_2D,je.TEXTURE_WRAP_T,je.CLAMP_TO_EDGE),je.texParameteri(je.TEXTURE_2D,je.TEXTURE_MIN_FILTER,je.LINEAR),je.texParameteri(je.TEXTURE_2D,je.TEXTURE_MAG_FILTER,je.LINEAR),dt=Je.heatmapFbo=Ze.createFramebuffer(ut,ct,!1),function(vt,Ct,Rt,Bt,Ht,Si){const Nt=vt.gl;Nt.texImage2D(Nt.TEXTURE_2D,0,vt.isWebGL2&&vt.extRenderToTextureHalfFloat?Nt.RGBA16F:Nt.RGBA,Ht,Si,0,Nt.RGBA,vt.extRenderToTextureHalfFloat?vt.isWebGL2?Nt.HALF_FLOAT:vt.extTextureHalfFloat.HALF_FLOAT_OES:Nt.UNSIGNED_BYTE,null),Bt.colorAttachment.set(Rt)}(Ze,0,wt,dt,ut,ct)}else je.bindTexture(je.TEXTURE_2D,dt.colorAttachment.get()),Ze.bindFramebuffer.set(dt.framebuffer)})(w,m,d,m.transform.projection.name==="globe"?.5:.25),w.clear({color:s.Color.transparent});const le=m.transform,ve=le.projection.name==="globe",ye=ve?["PROJECTION_GLOBE_VIEW"]:null,Pe=ve?s.CullFaceMode.frontCCW:s.CullFaceMode.disabled,$e=[s.mercatorXfromLng(le.center.lng),s.mercatorYfromLat(le.center.lat)];for(let Ze=0;Ze<_.length;Ze++){const Ke=_[Ze];if(o.hasRenderableParent(Ke))continue;const Je=o.getTile(Ke),et=Je.getBucket(d);if(!et||et.projection.name!==le.projection.name)continue;const je=et.programConfigurations.get(d.id),ut=m.useProgram("heatmap",je,ye),{zoom:ct}=m.transform;m.terrain&&m.terrain.setupElevationDraw(Je,ut),m.prepareDrawProgram(w,ut,Ke.toUnwrapped());const dt=le.projection.createInversionMatrix(le,Ke.canonical);ut.draw(w,E.TRIANGLES,s.DepthMode.disabled,N,H,Pe,Wo(m,Ke,Je,dt,$e,ct,d.paint.get("heatmap-intensity")),d.id,et.layoutVertexBuffer,et.indexBuffer,et.segments,d.paint,m.transform.zoom,je,ve?[et.globeExtVertexBuffer]:null)}w.viewport.set([0,0,m.width,m.height])}else m.renderPass==="translucent"&&(m.context.setColorMode(m.colorModeForRenderPass()),function(w,E){const N=w.context,H=N.gl,le=E.heatmapFbo;if(!le)return;N.activeTexture.set(H.TEXTURE0),H.bindTexture(H.TEXTURE_2D,le.colorAttachment.get()),N.activeTexture.set(H.TEXTURE1);let ve=E.colorRampTexture;ve||(ve=E.colorRampTexture=new s.Texture(N,E.colorRamp,H.RGBA)),ve.bind(H.LINEAR,H.CLAMP_TO_EDGE),w.useProgram("heatmapTexture").draw(N,H.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,w.colorModeForRenderPass(),s.CullFaceMode.disabled,((ye,Pe,$e,Ze)=>({u_image:0,u_color_ramp:1,u_opacity:Pe.paint.get("heatmap-opacity")}))(0,E),E.id,w.viewportBuffer,w.quadTriangleIndexBuffer,w.viewportSegments,E.paint,w.transform.zoom)}(m,d))},line:function(m,o,d,_){if(m.renderPass!=="translucent")return;const w=d.paint.get("line-opacity"),E=d.paint.get("line-width");if(w.constantOr(1)===0||E.constantOr(1)===0)return;const N=m.depthModeForSublayer(0,s.DepthMode.ReadOnly),H=m.colorModeForRenderPass(),le=m.terrain&&m.terrain.renderingToTexture?1:s.exported.devicePixelRatio,ve=d.paint.get("line-dasharray"),ye=ve.constantOr(1),Pe=d.layout.get("line-cap"),$e=d.paint.get("line-pattern"),Ze=$e.constantOr(1),Ke=d.paint.get("line-gradient"),Je=Ze?"linePattern":"line",et=m.context,je=et.gl,ut=(dt=>{const wt=[];qa(dt)&&wt.push("RENDER_LINE_DASH"),dt.paint.get("line-gradient")&&wt.push("RENDER_LINE_GRADIENT");const vt=dt.paint.get("line-trim-offset");vt[0]===0&&vt[1]===0||wt.push("RENDER_LINE_TRIM_OFFSET");const Ct=dt.paint.get("line-pattern").constantOr(1),Rt=dt.paint.get("line-opacity").constantOr(1)!==1;return!Ct&&Rt&&wt.push("RENDER_LINE_ALPHA_DISCARD"),wt})(d);let ct=ut.includes("RENDER_LINE_ALPHA_DISCARD");m.terrain&&m.terrain.clipOrMaskOverlapStencilType()&&(ct=!1);for(const dt of _){const wt=o.getTile(dt);if(Ze&&!wt.patternsLoaded())continue;const vt=wt.getBucket(d);if(!vt)continue;m.prepareDrawTile();const Ct=vt.programConfigurations.get(d.id),Rt=m.useProgram(Je,Ct,ut),Bt=$e.constantOr(null);if(Bt&&wt.imageAtlas){const Dt=wt.imageAtlas.patternPositions[Bt.toString()];Dt&&Ct.setConstantPatternPositions(Dt)}const Ht=ve.constantOr(null),Si=Pe.constantOr(null);if(!Ze&&Ht&&Si&&wt.lineAtlas){const Dt=wt.lineAtlas.getDash(Ht,Si);Dt&&Ct.setConstantPatternPositions(Dt)}let[Nt,oi]=d.paint.get("line-trim-offset");(Si==="round"||Si==="square")&&Nt!==oi&&(Nt===0&&(Nt-=1),oi===1&&(oi+=1));const Jt=m.terrain?dt.projMatrix:null,ui=Ze?yh(m,wt,d,Jt,le):Js(m,wt,d,Jt,vt.lineClipsArray.length,le,[Nt,oi]);if(Ke){const Dt=vt.gradients[d.id];let Xt=Dt.texture;if(d.gradientVersion!==Dt.version){let di=256;if(d.stepInterpolant){const fi=o.getSource().maxzoom,$i=dt.canonical.z===fi?Math.ceil(1<<m.transform.maxZoom-dt.canonical.z):1;di=s.clamp(s.nextPowerOfTwo(vt.maxLineLength/s.EXTENT*1024*$i),256,et.maxTextureSize)}Dt.gradient=s.renderColorRamp({expression:d.gradientExpression(),evaluationKey:"lineProgress",resolution:di,image:Dt.gradient||void 0,clips:vt.lineClipsArray}),Dt.texture?Dt.texture.update(Dt.gradient):Dt.texture=new s.Texture(et,Dt.gradient,je.RGBA),Dt.version=d.gradientVersion,Xt=Dt.texture}et.activeTexture.set(je.TEXTURE1),Xt.bind(d.stepInterpolant?je.NEAREST:je.LINEAR,je.CLAMP_TO_EDGE)}ye&&(et.activeTexture.set(je.TEXTURE0),wt.lineAtlasTexture.bind(je.LINEAR,je.REPEAT),Ct.updatePaintBuffers()),Ze&&(et.activeTexture.set(je.TEXTURE0),wt.imageAtlasTexture.bind(je.LINEAR,je.CLAMP_TO_EDGE),Ct.updatePaintBuffers()),m.prepareDrawProgram(et,Rt,dt.toUnwrapped());const Gt=Dt=>{Rt.draw(et,je.TRIANGLES,N,Dt,H,s.CullFaceMode.disabled,ui,d.id,vt.layoutVertexBuffer,vt.indexBuffer,vt.segments,d.paint,m.transform.zoom,Ct,[vt.layoutVertexBuffer2])};if(ct){const Dt=m.stencilModeForClipping(dt).ref;Dt===0&&m.terrain&&et.clear({stencil:0});const Xt={func:je.EQUAL,mask:255};ui.u_alpha_discard_threshold=.8,Gt(new s.StencilMode(Xt,Dt,255,je.KEEP,je.KEEP,je.INVERT)),ui.u_alpha_discard_threshold=0,Gt(new s.StencilMode(Xt,Dt,255,je.KEEP,je.KEEP,je.KEEP))}else Gt(m.stencilModeForClipping(dt))}ct&&(m.resetStencilClippingMasks(),m.terrain&&et.clear({stencil:0}))},fill:function(m,o,d,_){const w=d.paint.get("fill-color"),E=d.paint.get("fill-opacity");if(E.constantOr(1)===0)return;const N=m.colorModeForRenderPass(),H=d.paint.get("fill-pattern"),le=m.opaquePassEnabledForLayer()&&!H.constantOr(1)&&w.constantOr(s.Color.transparent).a===1&&E.constantOr(0)===1?"opaque":"translucent";if(m.renderPass===le){const ve=m.depthModeForSublayer(1,m.renderPass==="opaque"?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly);li(m,o,d,_,ve,N,!1)}if(m.renderPass==="translucent"&&d.paint.get("fill-antialias")){const ve=m.depthModeForSublayer(d.getPaintProperty("fill-outline-color")?2:0,s.DepthMode.ReadOnly);li(m,o,d,_,ve,N,!0)}},"fill-extrusion":function(m,o,d,_){const w=d.paint.get("fill-extrusion-opacity");if(w!==0&&m.renderPass==="translucent"){const E=new s.DepthMode(m.context.gl.LEQUAL,s.DepthMode.ReadWrite,m.depthRangeFor3D);if(w!==1||d.paint.get("fill-extrusion-pattern").constantOr(1))_i(m,o,d,_,E,s.StencilMode.disabled,s.ColorMode.disabled),_i(m,o,d,_,E,m.stencilModeFor3D(),m.colorModeForRenderPass()),m.resetStencilClippingMasks();else{const N=m.colorModeForRenderPass();_i(m,o,d,_,E,s.StencilMode.disabled,N)}}},hillshade:function(m,o,d,_){if(m.renderPass!=="offscreen"&&m.renderPass!=="translucent")return;const w=m.context,E=m.depthModeForSublayer(0,s.DepthMode.ReadOnly),N=m.colorModeForRenderPass(),H=m.terrain&&m.terrain.renderingToTexture,[le,ve]=m.renderPass!=="translucent"||H?[{},_]:m.stencilConfigForOverlap(_);for(const ye of ve){const Pe=o.getTile(ye);if(Pe.needsHillshadePrepare&&m.renderPass==="offscreen")Cn(m,Pe,d,E,s.StencilMode.disabled,N);else if(m.renderPass==="translucent"){const $e=H&&m.terrain?m.terrain.stencilModeForRTTOverlap(ye):le[ye.overscaledZ];Mi(m,ye,Pe,d,E,$e,N)}}w.viewport.set([0,0,m.width,m.height]),m.resetStencilClippingMasks()},raster:function(m,o,d,_,w,E){if(m.renderPass!=="translucent"||d.paint.get("raster-opacity")===0||!_.length)return;const N=m.context,H=N.gl,le=o.getSource(),ve=m.useProgram("raster"),ye=m.colorModeForRenderPass(),Pe=m.terrain&&m.terrain.renderingToTexture,[$e,Ze]=le instanceof Et||Pe?[{},_]:m.stencilConfigForOverlap(_),Ke=Ze[Ze.length-1].overscaledZ,Je=!m.options.moving;for(const et of Ze){const je=Pe?s.DepthMode.disabled:m.depthModeForSublayer(et.overscaledZ-Ke,d.paint.get("raster-opacity")===1?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly,H.LESS),ut=et.toUnwrapped(),ct=o.getTile(et);if(Pe&&(!ct||!ct.hasData()))continue;const dt=Pe?et.projMatrix:m.transform.calculateProjMatrix(ut,Je),wt=m.terrain&&Pe?m.terrain.stencilModeForRTTOverlap(et):$e[et.overscaledZ],vt=E?0:d.paint.get("raster-fade-duration");ct.registerFadeDuration(vt);const Ct=o.findLoadedParent(et,0),Rt=Ta(ct,Ct,o,m.transform,vt);let Bt,Ht;m.terrain&&m.terrain.prepareDrawTile();const Si=d.paint.get("raster-resampling")==="nearest"?H.NEAREST:H.LINEAR;N.activeTexture.set(H.TEXTURE0),ct.texture.bind(Si,H.CLAMP_TO_EDGE),N.activeTexture.set(H.TEXTURE1),Ct?(Ct.texture.bind(Si,H.CLAMP_TO_EDGE),Bt=Math.pow(2,Ct.tileID.overscaledZ-ct.tileID.overscaledZ),Ht=[ct.tileID.canonical.x*Bt%1,ct.tileID.canonical.y*Bt%1]):ct.texture.bind(Si,H.CLAMP_TO_EDGE),ct.texture.useMipmap&&N.extTextureFilterAnisotropic&&m.transform.pitch>20&&H.texParameterf(H.TEXTURE_2D,N.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,N.extTextureFilterAnisotropicMax);const Nt=Ho(dt,Ht||[0,0],Bt||1,Rt,d,le instanceof Et?le.perspectiveTransform:[0,0]);if(m.prepareDrawProgram(N,ve,ut),le instanceof Et)le.boundsBuffer&&le.boundsSegments&&ve.draw(N,H.TRIANGLES,je,s.StencilMode.disabled,ye,s.CullFaceMode.disabled,Nt,d.id,le.boundsBuffer,m.quadTriangleIndexBuffer,le.boundsSegments);else{const{tileBoundsBuffer:oi,tileBoundsIndexBuffer:Jt,tileBoundsSegments:ui}=m.getTileBoundsBuffers(ct);ve.draw(N,H.TRIANGLES,je,wt,ye,s.CullFaceMode.disabled,Nt,d.id,oi,Jt,ui)}}m.resetStencilClippingMasks()},background:function(m,o,d,_){const w=d.paint.get("background-color"),E=d.paint.get("background-opacity");if(E===0)return;const N=m.context,H=N.gl,le=m.transform,ve=le.tileSize,ye=d.paint.get("background-pattern");if(m.isPatternMissing(ye))return;const Pe=!ye&&w.a===1&&E===1&&m.opaquePassEnabledForLayer()?"opaque":"translucent";if(m.renderPass!==Pe)return;const $e=s.StencilMode.disabled,Ze=m.depthModeForSublayer(0,Pe==="opaque"?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly),Ke=m.colorModeForRenderPass(),Je=m.useProgram(ye?"backgroundPattern":"background");let et,je=_;je||(et=m.getBackgroundTiles(),je=Object.values(et).map(ut=>ut.tileID)),ye&&(N.activeTexture.set(H.TEXTURE0),m.imageManager.bind(m.context));for(const ut of je){const ct=ut.toUnwrapped(),dt=_?ut.projMatrix:m.transform.calculateProjMatrix(ct);m.prepareDrawTile();const wt=o?o.getTile(ut):et?et[ut.key]:new s.Tile(ut,ve,le.zoom,m),vt=ye?xh(dt,E,m,ye,{tileID:ut,tileSize:ve}):lo(dt,E,w);m.prepareDrawProgram(N,Je,ct);const{tileBoundsBuffer:Ct,tileBoundsIndexBuffer:Rt,tileBoundsSegments:Bt}=m.getTileBoundsBuffers(wt);Je.draw(N,H.TRIANGLES,Ze,$e,Ke,s.CullFaceMode.disabled,vt,d.id,Ct,Rt,Bt)}},sky:function(m,o,d){const _=m.transform,w=_.projection.name==="mercator"||_.projection.name==="globe"?1:s.smoothstep(7,8,_.zoom),E=d.paint.get("sky-opacity")*w;if(E===0)return;const N=m.context,H=d.paint.get("sky-type"),le=new s.DepthMode(N.gl.LEQUAL,s.DepthMode.ReadOnly,[0,1]),ve=m.frameCounter/1e3%1;H==="atmosphere"?m.renderPass==="offscreen"?d.needsSkyboxCapture(m)&&(function(ye,Pe,$e,Ze){const Ke=ye.context,Je=Ke.gl;let et=Pe.skyboxFbo;if(!et){et=Pe.skyboxFbo=Ke.createFramebuffer(32,32,!1),Pe.skyboxGeometry=new od(Ke),Pe.skyboxTexture=Ke.gl.createTexture(),Je.bindTexture(Je.TEXTURE_CUBE_MAP,Pe.skyboxTexture),Je.texParameteri(Je.TEXTURE_CUBE_MAP,Je.TEXTURE_WRAP_S,Je.CLAMP_TO_EDGE),Je.texParameteri(Je.TEXTURE_CUBE_MAP,Je.TEXTURE_WRAP_T,Je.CLAMP_TO_EDGE),Je.texParameteri(Je.TEXTURE_CUBE_MAP,Je.TEXTURE_MIN_FILTER,Je.LINEAR),Je.texParameteri(Je.TEXTURE_CUBE_MAP,Je.TEXTURE_MAG_FILTER,Je.LINEAR);for(let dt=0;dt<6;++dt)Je.texImage2D(Je.TEXTURE_CUBE_MAP_POSITIVE_X+dt,0,Je.RGBA,32,32,0,Je.RGBA,Je.UNSIGNED_BYTE,null)}Ke.bindFramebuffer.set(et.framebuffer),Ke.viewport.set([0,0,32,32]);const je=Pe.getCenter(ye,!0),ut=ye.useProgram("skyboxCapture"),ct=new Float64Array(16);s.identity(ct),s.rotateY(ct,ct,.5*-Math.PI),On(Ke,Pe,ut,ct,je,0),s.identity(ct),s.rotateY(ct,ct,.5*Math.PI),On(Ke,Pe,ut,ct,je,1),s.identity(ct),s.rotateX(ct,ct,.5*-Math.PI),On(Ke,Pe,ut,ct,je,2),s.identity(ct),s.rotateX(ct,ct,.5*Math.PI),On(Ke,Pe,ut,ct,je,3),s.identity(ct),On(Ke,Pe,ut,ct,je,4),s.identity(ct),s.rotateY(ct,ct,Math.PI),On(Ke,Pe,ut,ct,je,5),Ke.viewport.set([0,0,ye.width,ye.height])}(m,d),d.markSkyboxValid(m)):m.renderPass==="sky"&&function(ye,Pe,$e,Ze,Ke){const Je=ye.context,et=Je.gl,je=ye.transform,ut=ye.useProgram("skybox");Je.activeTexture.set(et.TEXTURE0),et.bindTexture(et.TEXTURE_CUBE_MAP,Pe.skyboxTexture);const ct=((dt,wt,vt,Ct,Rt)=>({u_matrix:dt,u_sun_direction:wt,u_cubemap:0,u_opacity:Ct,u_temporal_offset:Rt}))(je.skyboxMatrix,Pe.getCenter(ye,!1),0,Ze,Ke);ye.prepareDrawProgram(Je,ut),ut.draw(Je,et.TRIANGLES,$e,s.StencilMode.disabled,ye.colorModeForRenderPass(),s.CullFaceMode.backCW,ct,"skybox",Pe.skyboxGeometry.vertexBuffer,Pe.skyboxGeometry.indexBuffer,Pe.skyboxGeometry.segment)}(m,d,le,E,ve):H==="gradient"&&m.renderPass==="sky"&&function(ye,Pe,$e,Ze,Ke){const Je=ye.context,et=Je.gl,je=ye.transform,ut=ye.useProgram("skyboxGradient");Pe.skyboxGeometry||(Pe.skyboxGeometry=new od(Je)),Je.activeTexture.set(et.TEXTURE0);let ct=Pe.colorRampTexture;ct||(ct=Pe.colorRampTexture=new s.Texture(Je,Pe.colorRamp,et.RGBA)),ct.bind(et.LINEAR,et.CLAMP_TO_EDGE);const dt=((wt,vt,Ct,Rt,Bt)=>({u_matrix:wt,u_color_ramp:0,u_center_direction:vt,u_radius:s.degToRad(Ct),u_opacity:Rt,u_temporal_offset:Bt}))(je.skyboxMatrix,Pe.getCenter(ye,!1),Pe.paint.get("sky-gradient-radius"),Ze,Ke);ye.prepareDrawProgram(Je,ut),ut.draw(Je,et.TRIANGLES,$e,s.StencilMode.disabled,ye.colorModeForRenderPass(),s.CullFaceMode.backCW,dt,"skyboxGradient",Pe.skyboxGeometry.vertexBuffer,Pe.skyboxGeometry.indexBuffer,Pe.skyboxGeometry.segment)}(m,d,le,E,ve)},debug:function(m,o,d){for(let _=0;_<d.length;_++)us(m,o,d[_])},custom:function(m,o,d,_){const w=m.context,E=d.implementation;if(!m.transform.projection.unsupportedLayers||!m.transform.projection.unsupportedLayers.includes("custom")||m.terrain&&(m.terrain.renderingToTexture||m.renderPass==="offscreen")&&d.isLayerDraped()){if(m.renderPass==="offscreen"){const N=E.prerender;if(N){if(m.setCustomLayerDefaults(),w.setColorMode(m.colorModeForRenderPass()),m.transform.projection.name==="globe"){const H=m.transform.pointMerc;N.call(E,w.gl,m.transform.customLayerMatrix(),m.transform.getProjection(),m.transform.globeToMercatorMatrix(),s.globeToMercatorTransition(m.transform.zoom),[H.x,H.y],m.transform.pixelsPerMeterRatio)}else N.call(E,w.gl,m.transform.customLayerMatrix());w.setDirty(),m.setBaseState()}}else if(m.renderPass==="translucent"){if(m.terrain&&m.terrain.renderingToTexture){const H=E.renderToTile;if(H){const le=_[0].canonical,ve=new s.MercatorCoordinate(le.x+_[0].wrap*(1<<le.z),le.y,le.z);w.setDepthMode(s.DepthMode.disabled),w.setStencilMode(s.StencilMode.disabled),w.setColorMode(m.colorModeForRenderPass()),m.setCustomLayerDefaults(),H.call(E,w.gl,ve),w.setDirty(),m.setBaseState()}return}m.setCustomLayerDefaults(),w.setColorMode(m.colorModeForRenderPass()),w.setStencilMode(s.StencilMode.disabled);const N=E.renderingMode==="3d"?new s.DepthMode(m.context.gl.LEQUAL,s.DepthMode.ReadWrite,m.depthRangeFor3D):m.depthModeForSublayer(0,s.DepthMode.ReadOnly);if(w.setDepthMode(N),m.transform.projection.name==="globe"){const H=m.transform.pointMerc;E.render(w.gl,m.transform.customLayerMatrix(),m.transform.getProjection(),m.transform.globeToMercatorMatrix(),s.globeToMercatorTransition(m.transform.zoom),[H.x,H.y],m.transform.pixelsPerMeterRatio)}else E.render(w.gl,m.transform.customLayerMatrix());w.setDirty(),m.setBaseState(),w.bindFramebuffer.set(null)}}else s.warnOnce("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")}};class ic{constructor(o,d,_=!1){this.context=new rt(o,_),this.transform=d,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=s.SourceCache.maxUnderzooming+s.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new mh,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(o,d){const _=!!o&&!!o.terrain&&this.transform.projection.supportsTerrain;if(!(_||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Zs(this,o));const w=this._terrain;this.transform.elevation=_?w:null,w.update(o,this.transform,d)}_updateFog(o){const d=o.fog;if(!d||this.transform.projection.name==="globe"||d.getOpacity(this.transform.pitch)<1||d.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[_,w]=d.getFovAdjustedRange(this.transform._fov);if(_>w)return void(this.transform.fogCullDistSq=null);const E=_+.78*(w-_);this.transform.fogCullDistSq=E*E}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(o,d){if(this.width=o*s.exported.devicePixelRatio,this.height=d*s.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const _ of this.style.order)this.style._layers[_].resize()}setup(){const o=this.context,d=new s.StructArrayLayout2i4;d.emplaceBack(0,0),d.emplaceBack(s.EXTENT,0),d.emplaceBack(0,s.EXTENT),d.emplaceBack(s.EXTENT,s.EXTENT),this.tileExtentBuffer=o.createVertexBuffer(d,s.posAttributes.members),this.tileExtentSegments=s.SegmentVector.simpleSegment(0,0,4,2);const _=new s.StructArrayLayout2i4;_.emplaceBack(0,0),_.emplaceBack(s.EXTENT,0),_.emplaceBack(0,s.EXTENT),_.emplaceBack(s.EXTENT,s.EXTENT),this.debugBuffer=o.createVertexBuffer(_,s.posAttributes.members),this.debugSegments=s.SegmentVector.simpleSegment(0,0,4,5);const w=new s.StructArrayLayout2i4;w.emplaceBack(-1,-1),w.emplaceBack(1,-1),w.emplaceBack(-1,1),w.emplaceBack(1,1),this.viewportBuffer=o.createVertexBuffer(w,s.posAttributes.members),this.viewportSegments=s.SegmentVector.simpleSegment(0,0,4,2);const E=new s.StructArrayLayout4i8;E.emplaceBack(0,0,0,0),E.emplaceBack(s.EXTENT,0,s.EXTENT,0),E.emplaceBack(0,s.EXTENT,0,s.EXTENT),E.emplaceBack(s.EXTENT,s.EXTENT,s.EXTENT,s.EXTENT),this.mercatorBoundsBuffer=o.createVertexBuffer(E,s.boundsAttributes.members),this.mercatorBoundsSegments=s.SegmentVector.simpleSegment(0,0,4,2);const N=new s.StructArrayLayout3ui6;N.emplaceBack(0,1,2),N.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=o.createIndexBuffer(N);const H=new s.StructArrayLayout1ui2;for(const ve of[0,1,3,2,0])H.emplaceBack(ve);this.debugIndexBuffer=o.createIndexBuffer(H),this.emptyTexture=new s.Texture(o,new s.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),o.gl.RGBA),this.identityMat=s.create();const le=this.context.gl;this.stencilClearMode=new s.StencilMode({func:le.ALWAYS,mask:0},0,255,le.ZERO,le.ZERO,le.ZERO),this.loadTimeStamps.push(s.window.performance.now()),this.atmosphereBuffer=new bm(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(o){return o._makeTileBoundsBuffers(this.context,this.transform.projection),o._tileBoundsBuffer?{tileBoundsBuffer:o._tileBoundsBuffer,tileBoundsIndexBuffer:o._tileBoundsIndexBuffer,tileBoundsSegments:o._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const o=this.context,d=o.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(o,d.TRIANGLES,s.DepthMode.disabled,this.stencilClearMode,s.ColorMode.disabled,s.CullFaceMode.disabled,Qi(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(o,d,_){if(!d||this.currentStencilSource===d.id||!o.isTileClipped()||!_||_.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let H=!1;for(const le of _)if(this._tileClippingMaskIDs[le.key]===void 0){H=!0;break}if(!H)return}this.currentStencilSource=d.id;const w=this.context,E=w.gl;this.nextStencilID+_.length>256&&this.clearStencil(),w.setColorMode(s.ColorMode.disabled),w.setDepthMode(s.DepthMode.disabled);const N=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const H of _){const le=d.getTile(H),ve=this._tileClippingMaskIDs[H.key]=this.nextStencilID++,{tileBoundsBuffer:ye,tileBoundsIndexBuffer:Pe,tileBoundsSegments:$e}=this.getTileBoundsBuffers(le);N.draw(w,E.TRIANGLES,s.DepthMode.disabled,new s.StencilMode({func:E.ALWAYS,mask:0},ve,255,E.KEEP,E.KEEP,E.REPLACE),s.ColorMode.disabled,s.CullFaceMode.disabled,Qi(H.projMatrix),"$clipping",ye,Pe,$e)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const o=this.nextStencilID++,d=this.context.gl;return new s.StencilMode({func:d.NOTEQUAL,mask:255},o,255,d.KEEP,d.KEEP,d.REPLACE)}stencilModeForClipping(o){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(o);const d=this.context.gl;return new s.StencilMode({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[o.key],0,d.KEEP,d.KEEP,d.REPLACE)}stencilConfigForOverlap(o){const d=this.context.gl,_=o.sort((N,H)=>H.overscaledZ-N.overscaledZ),w=_[_.length-1].overscaledZ,E=_[0].overscaledZ-w+1;if(E>1){this.currentStencilSource=void 0,this.nextStencilID+E>256&&this.clearStencil();const N={};for(let H=0;H<E;H++)N[H+w]=new s.StencilMode({func:d.GEQUAL,mask:255},H+this.nextStencilID,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID+=E,[N,_]}return[{[w]:s.StencilMode.disabled},_]}colorModeForRenderPass(){const o=this.context.gl;return this._showOverdrawInspector?new s.ColorMode([o.CONSTANT_COLOR,o.ONE],new s.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?s.ColorMode.unblended:s.ColorMode.alphaBlended}depthModeForSublayer(o,d,_){if(!this.opaquePassEnabledForLayer())return s.DepthMode.disabled;const w=1-((1+this.currentLayer)*this.numSublayers+o)*this.depthEpsilon;return new s.DepthMode(_||this.context.gl.LEQUAL,d,[w,w])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(o,d){this.style=o,this.options=d,this.imageManager=o.imageManager,this.glyphManager=o.glyphManager,this.symbolFadeChange=o.placement.symbolFadeChange(s.exported.now()),this.imageManager.beginFrame();const _=this.style.order,w=this.style._sourceCaches;for(const ve in w){const ye=w[ve];ye.used&&ye.prepare(this.context)}const E={},N={},H={};for(const ve in w){const ye=w[ve];E[ve]=ye.getVisibleCoordinates(),N[ve]=E[ve].slice().reverse(),H[ve]=ye.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let ve=0;ve<_.length;ve++)if(this.style._layers[_[ve]].is3D()){this.opaquePassCutoff=ve;break}if(this.terrain&&(this.terrain.updateTileBinding(H),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new s.GlobeSharedBuffers(this.context)),!s.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const ve of _){const ye=this.style._layers[ve],Pe=o._getLayerSourceCache(ye);if(!ye.hasOffscreenPass()||ye.isHidden(this.transform.zoom))continue;const $e=Pe?N[Pe.id]:void 0;(ye.type==="custom"||ye.isSky()||$e&&$e.length)&&this.renderLayer(this,Pe,ye,$e)}this.depthRangeFor3D=[0,1-(o.order.length+2)*this.numSublayers*this.depthEpsilon];const le=this.terrain;if(le&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&le.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:d.showOverdrawInspector?s.Color.black:s.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=d.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=_.length-1;this.currentLayer>=0;this.currentLayer--){const ve=this.style._layers[_[this.currentLayer]],ye=o._getLayerSourceCache(ve);if(ve.isSky())continue;const Pe=ye?N[ye.id]:void 0;this._renderTileClippingMasks(ve,ye,Pe),this.renderLayer(this,ye,ve,Pe)}if(this.style.fog&&this.transform.projection.supportsFog&&function(ve,ye){const Pe=ve.context,$e=Pe.gl,Ze=ve.transform,Ke=new s.DepthMode($e.LEQUAL,s.DepthMode.ReadOnly,[0,1]),Je=ve.useProgram("globeAtmosphere",null,Ze.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),et=s.globeToMercatorTransition(Ze.zoom),je=ye.properties.get("color").toArray01(),ut=ye.properties.get("high-color").toArray01(),ct=ye.properties.get("space-color").toArray01PremultipliedAlpha(),dt=s.identity$1([]);s.rotateY$1(dt,dt,-s.degToRad(Ze._center.lng)),s.rotateX$1(dt,dt,s.degToRad(Ze._center.lat)),s.rotateZ$1(dt,dt,Ze.angle),s.rotateX$1(dt,dt,-Ze._pitch);const wt=s.fromQuat(new Float32Array(16),dt),vt=s.mapValue(ye.properties.get("star-intensity"),0,1,0,.25),Ct=5e-4,Rt=s.mapValue(ye.properties.get("horizon-blend"),0,1,Ct,.25),Bt=s.globeUseCustomAntiAliasing(ve,Pe,Ze)&&Rt===Ct?Ze.worldSize/(2*Math.PI*1.025)-1:Ze.globeRadius,Ht=ve.frameCounter/1e3%1,Si=s.length(Ze.globeCenterInViewSpace),Nt=Math.sqrt(Math.pow(Si,2)-Math.pow(Bt,2)),oi=Math.acos(Nt/Si),Jt=((Gt,Dt,Xt,di,fi,$i,Mn,Fi,zi,Zi,Rn,nn,er,tr)=>({u_frustum_tl:Gt,u_frustum_tr:Dt,u_frustum_br:Xt,u_frustum_bl:di,u_horizon:fi,u_transition:$i,u_fadeout_range:Mn,u_color:Fi,u_high_color:zi,u_space_color:Zi,u_star_intensity:Rn,u_star_size:5*s.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:nn,u_horizon_angle:er,u_rotation_matrix:tr}))(Ze.frustumCorners.TL,Ze.frustumCorners.TR,Ze.frustumCorners.BR,Ze.frustumCorners.BL,Ze.frustumCorners.horizon,et,Rt,je,ut,ct,vt,Ht,oi,wt);ve.prepareDrawProgram(Pe,Je);const ui=ve.atmosphereBuffer;ui&&Je.draw(Pe,$e.TRIANGLES,Ke,s.StencilMode.disabled,s.ColorMode.alphaBlended,s.CullFaceMode.backCW,Jt,"skybox",ui.vertexBuffer,ui.indexBuffer,ui.segments)}(this,this.style.fog),this.renderPass="sky",(s.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<_.length;this.currentLayer++){const ve=this.style._layers[_[this.currentLayer]],ye=o._getLayerSourceCache(ve);ve.isSky()&&this.renderLayer(this,ye,ve,ye?N[ye.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<_.length;){const ve=this.style._layers[_[this.currentLayer]],ye=o._getLayerSourceCache(ve);if(ve.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(ve)){if(ve.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const Pe=ye?(ve.type==="symbol"?H:N)[ye.id]:void 0;this._renderTileClippingMasks(ve,ye,ye?E[ye.id]:void 0),this.renderLayer(this,ye,ve,Pe),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let ve=null;s.values(this.style._layers).forEach(ye=>{const Pe=o._getLayerSourceCache(ye);Pe&&!ye.isHidden(this.transform.zoom)&&(!ve||ve.getSource().maxzoom<Pe.getSource().maxzoom)&&(ve=Pe)}),ve&&this.options.showTileBoundaries&&rp.debug(this,ve,ve.getVisibleCoordinates())}this.options.showPadding&&function(ve){const ye=ve.transform.padding;jr(ve,ve.transform.height-(ye.top||0),3,qi),jr(ve,ye.bottom||0,3,Ui),Hr(ve,ye.left||0,3,Dn),Hr(ve,ve.transform.width-(ye.right||0),3,dn);const Pe=ve.transform.centerPoint;(function($e,Ze,Ke,Je){Ps($e,Ze-1,Ke-10,2,20,Je),Ps($e,Ze-10,Ke-1,20,2,Je)})(ve,Pe.x,ve.transform.height-Pe.y,Vn)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(s.window.performance.now()),this.saveCanvasCopy())}renderLayer(o,d,_,w){_.isHidden(this.transform.zoom)||(_.type==="background"||_.type==="sky"||_.type==="custom"||w&&w.length)&&(this.id=_.id,this.gpuTimingStart(_),(!o.transform.projection.unsupportedLayers||!o.transform.projection.unsupportedLayers.includes(_.type)||o.terrain&&_.type==="custom")&&rp[_.type](o,d,_,w,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(o){if(!this.options.gpuTiming)return;const d=this.context.extTimerQuery;let _=this.gpuTimers[o.id];_||(_=this.gpuTimers[o.id]={calls:0,cpuTime:0,query:d.createQueryEXT()}),_.calls++,d.beginQueryEXT(d.TIME_ELAPSED_EXT,_.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const o=this.context.extTimerQuery,d=o.createQueryEXT();this.deferredRenderGpuTimeQueries.push(d),o.beginQueryEXT(o.TIME_ELAPSED_EXT,d)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const o=this.context.extTimerQuery;o.endQueryEXT(o.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const o=this.context.extTimerQuery;o.endQueryEXT(o.TIME_ELAPSED_EXT)}collectGpuTimers(){const o=this.gpuTimers;return this.gpuTimers={},o}collectDeferredRenderGpuQueries(){const o=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],o}queryGpuTimers(o){const d={};for(const _ in o){const w=o[_],E=this.context.extTimerQuery,N=E.getQueryObjectEXT(w.query,E.QUERY_RESULT_EXT)/1e6;E.deleteQueryEXT(w.query),d[_]=N}return d}queryGpuTimeDeferredRender(o){if(!this.options.gpuTimingDeferredRender)return 0;const d=this.context.extTimerQuery;let _=0;for(const w of o)_+=d.getQueryObjectEXT(w,d.QUERY_RESULT_EXT)/1e6,d.deleteQueryEXT(w);return _}translatePosMatrix(o,d,_,w,E){if(!_[0]&&!_[1])return o;const N=E?w==="map"?this.transform.angle:0:w==="viewport"?-this.transform.angle:0;if(N){const ve=Math.sin(N),ye=Math.cos(N);_=[_[0]*ye-_[1]*ve,_[0]*ve+_[1]*ye]}const H=[E?_[0]:ie(d,_[0],this.transform.zoom),E?_[1]:ie(d,_[1],this.transform.zoom),0],le=new Float32Array(16);return s.translate(le,o,H),le}saveTileTexture(o){const d=this._tileTextures[o.size[0]];d?d.push(o):this._tileTextures[o.size[0]]=[o]}getTileTexture(o){const d=this._tileTextures[o];return d&&d.length>0?d.pop():null}isPatternMissing(o){return o===null||o!==void 0&&!this.imageManager.getPattern(o.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const o=this.terrain&&this.terrain.renderingToTexture,d=this.terrain&&this.terrain.exaggeration()===0,_=this.style&&this.style.fog,w=[];return this.terrainRenderModeElevated()&&w.push("TERRAIN"),this.transform.projection.name==="globe"&&w.push("GLOBE"),d&&w.push("ZERO_EXAGGERATION"),_&&!o&&_.getOpacity(this.transform.pitch)!==0&&w.push("FOG"),o&&w.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&w.push("OVERDRAW_INSPECTOR"),w}useProgram(o,d,_){this.cache=this.cache||{};const w=_||[],E=this.currentGlobalDefines().concat(w),N=Vo.cacheKey(gt[o],o,E,d);return this.cache[N]||(this.cache[N]=new Vo(this.context,o,gt[o],d,sd[o],E)),this.cache[N]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const o=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(o.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=s.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new s.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(o,d,_){if(this.terrain&&this.terrain.renderingToTexture)return;const w=this.style.fog;if(w){const E=w.getOpacity(this.transform.pitch),N=((H,le,ve,ye,Pe,$e,Ze,Ke,Je,et,je)=>{const ut=H.transform,ct=le.properties.get("color").toArray01();ct[3]=ye;const dt=H.frameCounter/1e3%1;return{u_fog_matrix:ve?ut.calculateFogTileMatrix(ve):H.identityMat,u_fog_range:le.getFovAdjustedRange(ut._fov),u_fog_color:ct,u_fog_horizon_blend:le.properties.get("horizon-blend"),u_fog_temporal_offset:dt,u_frustum_tl:Pe,u_frustum_tr:$e,u_frustum_br:Ze,u_frustum_bl:Ke,u_globe_pos:Je,u_globe_radius:et,u_viewport:je,u_globe_transition:s.globeToMercatorTransition(ut.zoom),u_is_globe:+(ut.projection.name==="globe")}})(this,w,_,E,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*s.exported.devicePixelRatio,this.transform.height*s.exported.devicePixelRatio]);d.setFogUniformValues(o,N)}}setTileLoadedFlag(o){this.tileLoaded=o}saveCanvasCopy(){const o=this.canvasCopy();o&&(this.frameCopies.push(o),this.tileLoaded=!1)}canvasCopy(){const o=this.context.gl,d=o.createTexture();return o.bindTexture(o.TEXTURE_2D,d),o.copyTexImage2D(o.TEXTURE_2D,0,o.RGBA,0,0,o.drawingBufferWidth,o.drawingBufferHeight,0),d}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const o=this.style&&this.style.fog;return!!o&&o.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const o=this._backgroundTiles,d=this._backgroundTiles={},_=this.transform.coveringTiles({tileSize:512});for(const w of _)d[w.key]=o[w.key]||new s.Tile(w,512,this.transform.tileZoom,this);return d}clearBackgroundTiles(){this._backgroundTiles={}}}class Ya{constructor(o=0,d=0,_=0,w=0){if(isNaN(o)||o<0||isNaN(d)||d<0||isNaN(_)||_<0||isNaN(w)||w<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=o,this.bottom=d,this.left=_,this.right=w}interpolate(o,d,_){return d.top!=null&&o.top!=null&&(this.top=s.number(o.top,d.top,_)),d.bottom!=null&&o.bottom!=null&&(this.bottom=s.number(o.bottom,d.bottom,_)),d.left!=null&&o.left!=null&&(this.left=s.number(o.left,d.left,_)),d.right!=null&&o.right!=null&&(this.right=s.number(o.right,d.right,_)),this}getCenter(o,d){const _=s.clamp((this.left+o-this.right)/2,0,o),w=s.clamp((this.top+d-this.bottom)/2,0,d);return new s.pointGeometry(_,w)}equals(o){return this.top===o.top&&this.bottom===o.bottom&&this.left===o.left&&this.right===o.right}clone(){return new Ya(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function ad(m,o){const d=s.getColumn(m,3);s.fromQuat(m,o),s.setColumn(m,3,d)}function ld(m,o){const d=s.identity$1([]);return s.rotateZ$1(d,d,-o),s.rotateX$1(d,d,-m),d}function cd(m,o){const d=[m[0],m[1],0],_=[o[0],o[1],0];if(s.length(d)>=1e-15){const N=s.normalize([],d);s.scale$2(_,N,s.dot(_,N)),o[0]=_[0],o[1]=_[1]}const w=s.cross([],o,m);if(s.len(w)<1e-15)return null;const E=Math.atan2(-w[1],w[0]);return ld(Math.atan2(Math.sqrt(m[0]*m[0]+m[1]*m[1]),-m[2]),E)}class hd{constructor(o,d){this.position=o,this.orientation=d}get position(){return this._position}set position(o){if(o){const d=o instanceof s.MercatorCoordinate?o:new s.MercatorCoordinate(o[0],o[1],o[2]);this._renderWorldCopies&&(d.x=s.wrap(d.x,0,1)),this._position=d}else this._position=null}lookAtPoint(o,d){if(this.orientation=null,!this.position)return;const _=this.position,w=this._elevation?this._elevation.getAtPointOrZero(s.MercatorCoordinate.fromLngLat(o)):0,E=s.MercatorCoordinate.fromLngLat(o,w),N=[E.x-_.x,E.y-_.y,E.z-_.z];d||(d=[0,0,1]),d[2]=Math.abs(d[2]),this.orientation=cd(N,d)}setPitchBearing(o,d){this.orientation=ld(s.degToRad(o),s.degToRad(-d))}}class Uc{constructor(o,d){this._transform=s.identity([]),this.orientation=d,this.position=o}get mercatorPosition(){const o=this.position;return new s.MercatorCoordinate(o[0],o[1],o[2])}get position(){const o=s.getColumn(this._transform,3);return[o[0],o[1],o[2]]}set position(o){var d;o&&s.setColumn(this._transform,3,[(d=o)[0],d[1],d[2],1])}get orientation(){return this._orientation}set orientation(o){this._orientation=o||s.identity$1([]),o&&ad(this._transform,this._orientation)}getPitchBearing(){const o=this.forward(),d=this.right();return{bearing:Math.atan2(-d[1],d[0]),pitch:Math.atan2(Math.sqrt(o[0]*o[0]+o[1]*o[1]),-o[2])}}setPitchBearing(o,d){this._orientation=ld(o,d),ad(this._transform,this._orientation)}forward(){const o=s.getColumn(this._transform,2);return[-o[0],-o[1],-o[2]]}up(){const o=s.getColumn(this._transform,1);return[-o[0],-o[1],-o[2]]}right(){const o=s.getColumn(this._transform,0);return[o[0],o[1],o[2]]}getCameraToWorld(o,d){const _=new Float64Array(16);return s.invert(_,this.getWorldToCamera(o,d)),_}getWorldToCameraPosition(o,d,_){const w=this.position;s.scale$2(w,w,-o);const E=new Float64Array(16);return s.fromScaling(E,[_,_,_]),s.translate(E,E,w),E[10]*=d,E}getWorldToCamera(o,d){const _=new Float64Array(16),w=new Float64Array(4),E=this.position;return s.conjugate(w,this._orientation),s.scale$2(E,E,-o),s.fromQuat(_,w),s.translate(_,_,E),_[1]*=-1,_[5]*=-1,_[9]*=-1,_[13]*=-1,_[8]*=d,_[9]*=d,_[10]*=d,_[11]*=d,_}getCameraToClipPerspective(o,d,_,w){const E=new Float64Array(16);return s.perspective(E,o,d,_,w),E}getDistanceToElevation(o,d=!1){const _=o===0?0:s.mercatorZfromAltitude(o,d?s.latFromMercatorY(this.position[1]):this.position[1]),w=this.forward();return(_-this.position[2])/w[2]}clone(){return new Uc([...this.position],[...this.orientation])}}function El(m,o){const d=Aa(m.projection,m.zoom,m.width,m.height),_=function(E,N,H,le,ve){const ye=new s.LngLat(H.lng-180*qo,H.lat),Pe=new s.LngLat(H.lng+180*qo,H.lat),$e=E.project(ye.lng,ye.lat),Ze=E.project(Pe.lng,Pe.lat),Ke=-Math.atan2(Ze.y-$e.y,Ze.x-$e.x),Je=s.MercatorCoordinate.fromLngLat(H);Je.y=s.clamp(Je.y,-.999975,.999975);const et=Je.toLngLat(),je=E.project(et.lng,et.lat),ut=s.MercatorCoordinate.fromLngLat(et);ut.x+=qo;const ct=ut.toLngLat(),dt=E.project(ct.lng,ct.lat),wt=ud(dt.x-je.x,dt.y-je.y,Ke),vt=s.MercatorCoordinate.fromLngLat(et);vt.y+=qo;const Ct=vt.toLngLat(),Rt=E.project(Ct.lng,Ct.lat),Bt=ud(Rt.x-je.x,Rt.y-je.y,Ke),Ht=Math.abs(wt.x)/Math.abs(Bt.y),Si=s.identity([]);s.rotateZ(Si,Si,-Ke*(1-(ve?0:le)));const Nt=s.identity([]);return s.scale(Nt,Nt,[1,1-(1-Ht)*le,1]),Nt[4]=-Bt.x/Bt.y*le,s.rotateZ(Nt,Nt,Ke),s.multiply(Nt,Si,Nt),Nt}(m.projection,0,m.center,d,o),w=dd(m);return s.scale(_,_,[w,w,1]),_}function dd(m){const o=m.projection,d=Aa(m.projection,m.zoom,m.width,m.height),_=nc(o,m.center),w=nc(o,s.LngLat.convert(o.center));return Math.pow(2,_*d+(1-d)*w)}function Aa(m,o,d,_,w=1/0){const E=m.range;if(!E)return 0;const N=Math.min(w,Math.max(d,_)),H=Math.log(N/1024)/Math.LN2;return s.smoothstep(E[0]+H,E[1]+H,o)}const qo=1/4e4;function nc(m,o){const d=s.clamp(o.lat,-s.MAX_MERCATOR_LATITUDE,s.MAX_MERCATOR_LATITUDE),_=new s.LngLat(o.lng-180*qo,d),w=new s.LngLat(o.lng+180*qo,d),E=m.project(_.lng,d),N=m.project(w.lng,d),H=s.MercatorCoordinate.fromLngLat(_),le=s.MercatorCoordinate.fromLngLat(w),ve=N.x-E.x,ye=N.y-E.y,Pe=le.x-H.x,$e=le.y-H.y,Ze=Math.sqrt((Pe*Pe+$e*$e)/(ve*ve+ye*ye));return Math.log(Ze)/Math.LN2}function ud(m,o,d){const _=Math.cos(d),w=Math.sin(d);return{x:m*_-o*w,y:m*w+o*_}}class Oi{constructor(o,d,_,w,E,N,H){this.tileSize=512,this._renderWorldCopies=E===void 0||E,this._minZoom=o||0,this._maxZoom=d||22,this._minPitch=_??0,this._maxPitch=w??60,this.setProjection(N),this.setMaxBounds(H),this.width=0,this.height=0,this._center=new s.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Ya,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Uc,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const o=new Oi(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return o._elevation=this._elevation,o._centerAltitude=this._centerAltitude,o._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,o.tileSize=this.tileSize,o.mercatorFromTransition=this.mercatorFromTransition,o.width=this.width,o.height=this.height,o.cameraElevationReference=this.cameraElevationReference,o._center=this._center,o._setZoom(this.zoom),o._seaLevelZoom=this._seaLevelZoom,o.angle=this.angle,o._fov=this._fov,o._pitch=this._pitch,o._nearZ=this._nearZ,o._farZ=this._farZ,o._averageElevation=this._averageElevation,o._unmodified=this._unmodified,o._edgeInsets=this._edgeInsets.clone(),o._camera=this._camera.clone(),o._calcMatrices(),o.freezeTileCoverage=this.freezeTileCoverage,o.frustumCorners=this.frustumCorners,o}get elevation(){return this._elevation}set elevation(o){this._elevation!==o&&(this._elevation=o,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(o,d=!1){const _=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||_)&&this._updateCameraOnTerrain(),(o||_)&&this._constrainCamera(d),this._calcMatrices()}getProjection(){return s.pick(this.projection,["name","center","parallels"])}setProjection(o){this.projectionOptions=o||{name:"mercator"};const d=this.projection?this.getProjection():void 0;this.projection=s.getProjection(this.projectionOptions);const _=!b(d,this.getProjection());return _&&this._calcMatrices(),this.mercatorFromTransition=!1,_}setMercatorFromTransition(){const o=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=s.getProjection({name:"mercator"});const d=o!==this.projection.name;return d&&this._calcMatrices(),d}get minZoom(){return this._minZoom}set minZoom(o){this._minZoom!==o&&(this._minZoom=o,this.zoom=Math.max(this.zoom,o))}get maxZoom(){return this._maxZoom}set maxZoom(o){this._maxZoom!==o&&(this._maxZoom=o,this.zoom=Math.min(this.zoom,o))}get minPitch(){return this._minPitch}set minPitch(o){this._minPitch!==o&&(this._minPitch=o,this.pitch=Math.max(this.pitch,o))}get maxPitch(){return this._maxPitch}set maxPitch(o){this._maxPitch!==o&&(this._maxPitch=o,this.pitch=Math.min(this.pitch,o))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(o){o===void 0?o=!0:o===null&&(o=!1),this._renderWorldCopies=o}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const o=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(o))}get cameraWorldSize(){const o=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(o))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return s.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new s.pointGeometry(this.width,this.height)}get bearing(){return s.wrap(this.rotation,-180,180)}set bearing(o){this.rotation=o}get rotation(){return-this.angle/Math.PI*180}set rotation(o){const d=-o*Math.PI/180;var _;this.angle!==d&&(this._unmodified=!1,this.angle=d,this._calcMatrices(),this.rotationMatrix=(_=new s.ARRAY_TYPE(4),s.ARRAY_TYPE!=Float32Array&&(_[1]=0,_[2]=0),_[0]=1,_[3]=1,_),function(w,E,N){var H=E[0],le=E[1],ve=E[2],ye=E[3],Pe=Math.sin(N),$e=Math.cos(N);w[0]=H*$e+ve*Pe,w[1]=le*$e+ye*Pe,w[2]=H*-Pe+ve*$e,w[3]=le*-Pe+ye*$e}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(o){const d=s.clamp(o,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==d&&(this._unmodified=!1,this._pitch=d,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const o=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/o)}set fov(o){o=Math.max(.01,Math.min(60,o)),this._fov!==o&&(this._unmodified=!1,this._fov=s.degToRad(o),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(o){this._averageElevation=o,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(o){const d=Math.min(Math.max(o,this.minZoom),this.maxZoom);this._zoom!==d&&(this._unmodified=!1,this._setZoom(d),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(o){this._zoom=o,this.scale=this.zoomScale(o),this.tileZoom=Math.floor(o),this.zoomFraction=o-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const o=this._elevation;this._centerAltitude=o.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=o.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const o=this._elevation,d=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],_=this.horizonLineFromTop();let w=0,E=0;for(let N=0;N<d.length;N++){const H=new s.pointGeometry(d[N][0]*this.width,_+d[N][1]*(this.height-_)),le=o.pointCoordinate(H);if(!le)continue;const ve=1/Math.hypot(le[0]-this._camera.position[0],le[1]-this._camera.position[1]);w+=le[3]*ve,E+=ve}return E===0?NaN:w/E}get center(){return this._center}set center(o){o.lat===this._center.lat&&o.lng===this._center.lng||(this._unmodified=!1,this._center=o,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const o=this._seaLevelZoom,d=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),_=this.pixelsPerMeter/this.worldSize*d,w=this._mercatorZfromZoom(o),E=this._mercatorZfromZoom(this._maxZoom),N=Math.max(w-_,E);this._setZoom(this._zoomFromMercatorZ(N))}get padding(){return this._edgeInsets.toJSON()}set padding(o){this._edgeInsets.equals(o)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,o,1),this._calcMatrices())}computeZoomRelativeTo(o){const d=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,o.toAltitude()));let _;_=o.z<this._camera.position[2]?[d.x,d.y,d.z]:[o.x,o.y,o.z];const w=s.length(s.sub([],this._camera.position,_));return s.clamp(this._zoomFromMercatorZ(w),this._minZoom,this._maxZoom)}setFreeCameraOptions(o){if(!this.height||!o.position&&!o.orientation)return;this._updateCameraState();let d=!1;if(o.orientation&&!s.exactEquals(o.orientation,this._camera.orientation)&&(d=this._setCameraOrientation(o.orientation)),o.position){const _=[o.position.x,o.position.y,o.position.z];s.exactEquals$1(_,this._camera.position)||(this._setCameraPosition(_),d=!0)}d&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const o=this._camera.position,d=new hd;return d.position=new s.MercatorCoordinate(o[0],o[1],o[2]),d.orientation=this._camera.orientation,d._elevation=this.elevation,d._renderWorldCopies=this.renderWorldCopies,d}_setCameraOrientation(o){if(!s.length$1(o))return!1;s.normalize$1(o,o);const d=s.transformQuat([],[0,0,-1],o),_=s.transformQuat([],[0,-1,0],o);if(_[2]<0)return!1;const w=cd(d,_);return!!w&&(this._camera.orientation=w,!0)}_setCameraPosition(o){const d=this.zoomScale(this.minZoom)*this.tileSize,_=this.zoomScale(this.maxZoom)*this.tileSize,w=this.cameraToCenterDistance;o[2]=s.clamp(o[2],w/_,w/d),this._camera.position=o}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(o){return this._edgeInsets.equals(o)}interpolatePadding(o,d,_){this._unmodified=!1,this._edgeInsets.interpolate(o,d,_),this._constrain(),this._calcMatrices()}coveringZoomLevel(o){const d=(o.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/o.tileSize));return Math.max(0,d)}getVisibleUnwrappedCoordinates(o){const d=[new s.UnwrappedTileID(0,o)];if(this.renderWorldCopies){const _=this.pointCoordinate(new s.pointGeometry(0,0)),w=this.pointCoordinate(new s.pointGeometry(this.width,0)),E=this.pointCoordinate(new s.pointGeometry(this.width,this.height)),N=this.pointCoordinate(new s.pointGeometry(0,this.height)),H=Math.floor(Math.min(_.x,w.x,E.x,N.x)),le=Math.floor(Math.max(_.x,w.x,E.x,N.x)),ve=1;for(let ye=H-ve;ye<=le+ve;ye++)ye!==0&&d.push(new s.UnwrappedTileID(ye,o))}return d}coveringTiles(o){let d=this.coveringZoomLevel(o);const _=d,w=this.elevation&&!o.isTerrainDEM,E=this.projection.name==="mercator";if(o.minzoom!==void 0&&d<o.minzoom)return[];o.maxzoom!==void 0&&d>o.maxzoom&&(d=o.maxzoom);const N=this.locationCoordinate(this.center),H=this.center.lat,le=1<<d,ve=[le*N.x,le*N.y,0],ye=this.projection.name==="globe",Pe=!ye,$e=s.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,d,Pe),Ze=ye?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),Ke=le*s.mercatorZfromAltitude(1,this.center.lat),Je=this._camera.position[2]/s.mercatorZfromAltitude(1,this.center.lat),et=[le*Ze.x,le*Ze.y,Je*(Pe?1:Ke)],je=this.cameraToCenterDistance/o.tileSize*(o.roundZoom?1:.502),ut=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?d:0,ct=o.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,dt=o.isTerrainDEM?-ct:this._elevation?this._elevation.getMinElevationBelowMSL():0,wt=this.projection.isReprojectedInTileSpace?dd(this):1,vt=Gt=>{const Xt=new s.MercatorCoordinate(Gt.x+25e-6,Gt.y,Gt.z),di=new s.MercatorCoordinate(Gt.x,Gt.y+25e-6,Gt.z),fi=Gt.toLngLat(),$i=Xt.toLngLat(),Mn=di.toLngLat(),Fi=this.locationCoordinate(fi),zi=this.locationCoordinate($i),Zi=this.locationCoordinate(Mn),Rn=Math.hypot(zi.x-Fi.x,zi.y-Fi.y),nn=Math.hypot(Zi.x-Fi.x,Zi.y-Fi.y);return Math.sqrt(Rn*nn)*wt/25e-6},Ct=Gt=>{const Dt=ct,Xt=dt;return{aabb:s.tileAABB(this,le,0,0,0,Gt,Xt,Dt,this.projection),zoom:0,x:0,y:0,minZ:Xt,maxZ:Dt,wrap:Gt,fullyVisible:!1}},Rt=[];let Bt=[];const Ht=d,Si=o.reparseOverscaled?_:d,Nt=Gt=>Gt*Gt,oi=Nt((Je-this._centerAltitude)*Ke),Jt=Gt=>{if(!this._elevation||!Gt.tileID||!E)return;const Dt=this._elevation.getMinMaxForTile(Gt.tileID),Xt=Gt.aabb;Dt?(Xt.min[2]=Dt.min,Xt.max[2]=Dt.max,Xt.center[2]=(Xt.min[2]+Xt.max[2])/2):(Gt.shouldSplit=ui(Gt),Gt.shouldSplit||(Xt.min[2]=Xt.max[2]=Xt.center[2]=this._centerAltitude))},ui=Gt=>{if(Gt.zoom<ut)return!0;if(Gt.zoom===Ht)return!1;if(Gt.shouldSplit!=null)return Gt.shouldSplit;const Dt=Gt.aabb.distanceX(et),Xt=Gt.aabb.distanceY(et);let di=oi,fi=1;if(ye){di=Nt(Gt.aabb.distanceZ(et));const Fi=Math.pow(2,Gt.zoom),zi=s.latFromMercatorY((Gt.y+1)/Fi),Zi=s.latFromMercatorY(Gt.y/Fi),Rn=Math.min(Math.max(H,zi),Zi),nn=s.circumferenceAtLatitude(Rn)/s.circumferenceAtLatitude(H);if(fi=Rn===H?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,nn/this._mercatorScaleRatio),this.zoom<=s.GLOBE_ZOOM_THRESHOLD_MIN&&Gt.zoom===Ht-1&&nn>=.9)return!0}else if(w&&(di=Nt(Gt.aabb.distanceZ(et)*Ke)),this.projection.isReprojectedInTileSpace&&_<=5){const Fi=Math.pow(2,Gt.zoom),zi=vt(new s.MercatorCoordinate((Gt.x+.5)/Fi,(Gt.y+.5)/Fi));fi=zi>.85?1:zi}const $i=Dt*Dt+Xt*Xt+di,Mn=Nt((1<<Ht-Gt.zoom)*je*fi*((Fi,zi)=>{if(zi*Nt(.707)<Fi)return 1;const Zi=Math.sqrt(zi/Fi);return Zi/(1.4144271570014144+(Math.pow(1.1,Zi-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(di,oi),$i));return $i<Mn};if(this.renderWorldCopies)for(let Gt=1;Gt<=3;Gt++)Rt.push(Ct(-Gt)),Rt.push(Ct(Gt));for(Rt.push(Ct(0));Rt.length>0;){const Gt=Rt.pop(),Dt=Gt.x,Xt=Gt.y;let di=Gt.fullyVisible;if(!di){const fi=Gt.aabb.intersects($e);if(fi===0)continue;di=fi===2}if(Gt.zoom!==Ht&&ui(Gt))for(let fi=0;fi<4;fi++){const $i=(Dt<<1)+fi%2,Mn=(Xt<<1)+(fi>>1),Fi={aabb:E?Gt.aabb.quadrant(fi):s.tileAABB(this,le,Gt.zoom+1,$i,Mn,Gt.wrap,Gt.minZ,Gt.maxZ,this.projection),zoom:Gt.zoom+1,x:$i,y:Mn,wrap:Gt.wrap,fullyVisible:di,tileID:void 0,shouldSplit:void 0,minZ:Gt.minZ,maxZ:Gt.maxZ};w&&!ye&&(Fi.tileID=new s.OverscaledTileID(Gt.zoom+1===Ht?Si:Gt.zoom+1,Gt.wrap,Gt.zoom+1,$i,Mn),Jt(Fi)),Rt.push(Fi)}else{const fi=Gt.zoom===Ht?Si:Gt.zoom;if(o.minzoom&&o.minzoom>fi)continue;const $i=ve[0]-(.5+Dt+(Gt.wrap<<Gt.zoom))*(1<<d-Gt.zoom),Mn=ve[1]-.5-Xt,Fi=Gt.tileID?Gt.tileID:new s.OverscaledTileID(fi,Gt.wrap,Gt.zoom,Dt,Xt);Bt.push({tileID:Fi,distanceSq:$i*$i+Mn*Mn})}}if(this.fogCullDistSq){const Gt=this.fogCullDistSq,Dt=this.horizonLineFromTop();Bt=Bt.filter(Xt=>{const di=[0,0,0,1],fi=[s.EXTENT,s.EXTENT,0,1],$i=this.calculateFogTileMatrix(Xt.tileID.toUnwrapped());s.transformMat4$1(di,di,$i),s.transformMat4$1(fi,fi,$i);const Mn=s.getAABBPointSquareDist(di,fi);if(Mn===0)return!0;let Fi=!1;const zi=this._elevation;if(zi&&Mn>Gt&&Dt!==0){const Zi=this.calculateProjMatrix(Xt.tileID.toUnwrapped());let Rn;o.isTerrainDEM||(Rn=zi.getMinMaxForTile(Xt.tileID)),Rn||(Rn={min:dt,max:ct});const nn=s.furthestTileCorner(this.rotation),er=[nn[0]*s.EXTENT,nn[1]*s.EXTENT,Rn.max];s.transformMat4(er,er,Zi),Fi=(1-er[1])*this.height*.5<Dt}return Mn<Gt||Fi})}return Bt.sort((Gt,Dt)=>Gt.distanceSq-Dt.distanceSq).map(Gt=>Gt.tileID)}resize(o,d){this.width=o,this.height=d,this.pixelsToGLUnits=[2/o,-2/d],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(o){return Math.pow(2,o)}scaleZoom(o){return Math.log(o)/Math.LN2}project(o){const d=s.clamp(o.lat,-s.MAX_MERCATOR_LATITUDE,s.MAX_MERCATOR_LATITUDE),_=this.projection.project(o.lng,d);return new s.pointGeometry(_.x*this.worldSize,_.y*this.worldSize)}unproject(o){return this.projection.unproject(o.x/this.worldSize,o.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/s.mercatorZfromAltitude(1,this.center.lat)/this.worldSize}setLocationAtPoint(o,d){let _,w;const E=this.centerPoint;if(this.projection.name==="globe"){const H=this.worldSize;_=(d.x-E.x)/H,w=(d.y-E.y)/H}else{const H=this.pointCoordinate(d),le=this.pointCoordinate(E);_=H.x-le.x,w=H.y-le.y}const N=this.locationCoordinate(o);this.setLocation(new s.MercatorCoordinate(N.x-_,N.y-w))}setLocation(o){this.center=this.coordinateLocation(o),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(o){return this.projection.locationPoint(this,o)}locationPoint3D(o){return this.projection.locationPoint(this,o,!0)}pointLocation(o){return this.coordinateLocation(this.pointCoordinate(o))}pointLocation3D(o){return this.coordinateLocation(this.pointCoordinate3D(o))}locationCoordinate(o,d){const _=d?s.mercatorZfromAltitude(d,o.lat):void 0,w=this.projection.project(o.lng,o.lat);return new s.MercatorCoordinate(w.x,w.y,_)}coordinateLocation(o){return this.projection.unproject(o.x,o.y)}pointRayIntersection(o,d){const _=d??this._centerAltitude,w=[o.x,o.y,0,1],E=[o.x,o.y,1,1];s.transformMat4$1(w,w,this.pixelMatrixInverse),s.transformMat4$1(E,E,this.pixelMatrixInverse);const N=E[3];s.scale$1(w,w,1/w[3]),s.scale$1(E,E,1/N);const H=w[2],le=E[2];return{p0:w,p1:E,t:H===le?0:(_-H)/(le-H)}}screenPointToMercatorRay(o){const d=[o.x,o.y,0,1],_=[o.x,o.y,1,1];return s.transformMat4$1(d,d,this.pixelMatrixInverse),s.transformMat4$1(_,_,this.pixelMatrixInverse),s.scale$1(d,d,1/d[3]),s.scale$1(_,_,1/_[3]),d[2]=s.mercatorZfromAltitude(d[2],this._center.lat)*this.worldSize,_[2]=s.mercatorZfromAltitude(_[2],this._center.lat)*this.worldSize,s.scale$1(d,d,1/this.worldSize),s.scale$1(_,_,1/this.worldSize),new s.Ray([d[0],d[1],d[2]],s.normalize([],s.sub([],_,d)))}rayIntersectionCoordinate(o){const{p0:d,p1:_,t:w}=o,E=s.mercatorZfromAltitude(d[2],this._center.lat),N=s.mercatorZfromAltitude(_[2],this._center.lat);return new s.MercatorCoordinate(s.number(d[0],_[0],w)/this.worldSize,s.number(d[1],_[1],w)/this.worldSize,s.number(E,N,w))}pointCoordinate(o,d=this._centerAltitude){return this.projection.pointCoordinate(this,o.x,o.y,d)}pointCoordinate3D(o){if(!this.elevation)return this.pointCoordinate(o);let d=this.projection.pointCoordinate3D(this,o.x,o.y);if(d)return new s.MercatorCoordinate(d[0],d[1],d[2]);let _=0,w=this.horizonLineFromTop();if(o.y>w)return this.pointCoordinate(o);const E=.02*w,N=o.clone();for(let H=0;H<10&&w-_>E;H++){N.y=s.number(_,w,.66);const le=this.projection.pointCoordinate3D(this,N.x,N.y);le?(w=N.y,d=le):_=N.y}return d?new s.MercatorCoordinate(d[0],d[1],d[2]):this.pointCoordinate(o)}isPointAboveHorizon(o){return this.projection.isPointAboveHorizon(this,o)}_coordinatePoint(o,d){const _=d&&this.elevation?this.elevation.getAtPointOrZero(o,this._centerAltitude):this._centerAltitude,w=[o.x*this.worldSize,o.y*this.worldSize,_+o.toAltitude(),1];return s.transformMat4$1(w,w,this.pixelMatrix),w[3]>0?new s.pointGeometry(w[0]/w[3],w[1]/w[3]):new s.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:o,left:d}=this._edgeInsets,_=this.height-this._edgeInsets.bottom,w=this.width-this._edgeInsets.right,E=this.pointLocation3D(new s.pointGeometry(d,o)),N=this.pointLocation3D(new s.pointGeometry(w,o)),H=this.pointLocation3D(new s.pointGeometry(w,_)),le=this.pointLocation3D(new s.pointGeometry(d,_));let ve=Math.min(E.lng,N.lng,H.lng,le.lng),ye=Math.max(E.lng,N.lng,H.lng,le.lng),Pe=Math.min(E.lat,N.lat,H.lat,le.lat),$e=Math.max(E.lat,N.lat,H.lat,le.lat);const Ze=Math.pow(2,-this.zoom)/16*270,Ke=this.projection.name==="globe"?1:4,Je=(et,je,ut,ct,dt)=>{const wt=(et+ut)/2,vt=(je+ct)/2,Ct=new s.pointGeometry(wt,vt),{lng:Rt,lat:Bt}=this.pointLocation3D(Ct),Ht=Math.max(0,ve-Rt,Pe-Bt,Rt-ye,Bt-$e);ve=Math.min(ve,Rt),ye=Math.max(ye,Rt),Pe=Math.min(Pe,Bt),$e=Math.max($e,Bt),(dt<Ke||Ht>Ze)&&(Je(et,je,wt,vt,dt+1),Je(wt,vt,ut,ct,dt+1))};if(Je(d,o,w,o,1),Je(w,o,w,_,1),Je(w,_,d,_,1),Je(d,_,d,o,1),this.projection.name==="globe"){const[et,je]=s.polesInViewport(this);et?($e=90,ye=180,ve=-180):je&&(Pe=-90,ye=180,ve=-180)}return new s.LngLatBounds(new s.LngLat(ve,Pe),new s.LngLat(ye,$e))}_getBoundsRectangular(o,d){const{top:_,left:w}=this._edgeInsets,E=this.height-this._edgeInsets.bottom,N=this.width-this._edgeInsets.right,H=new s.pointGeometry(w,_),le=new s.pointGeometry(N,_),ve=new s.pointGeometry(N,E),ye=new s.pointGeometry(w,E);let Pe=this.pointCoordinate(H,o),$e=this.pointCoordinate(le,o);const Ze=this.pointCoordinate(ve,d),Ke=this.pointCoordinate(ye,d),Je=(et,je)=>(je.y-et.y)/(je.x-et.x);return Pe.y>1&&$e.y>=0?Pe=new s.MercatorCoordinate((1-Ke.y)/Je(Ke,Pe)+Ke.x,1):Pe.y<0&&$e.y<=1&&(Pe=new s.MercatorCoordinate(-Ke.y/Je(Ke,Pe)+Ke.x,0)),$e.y>1&&Pe.y>=0?$e=new s.MercatorCoordinate((1-Ze.y)/Je(Ze,$e)+Ze.x,1):$e.y<0&&Pe.y<=1&&($e=new s.MercatorCoordinate(-Ze.y/Je(Ze,$e)+Ze.x,0)),new s.LngLatBounds().extend(this.coordinateLocation(Pe)).extend(this.coordinateLocation($e)).extend(this.coordinateLocation(Ke)).extend(this.coordinateLocation(Ze))}_getBoundsRectangularTerrain(){const o=this.elevation;if(!o.visibleDemTiles.length||o.isUsingMockSource())return this._getBoundsRectangular(0,0);const d=o.visibleDemTiles.reduce((_,w)=>{if(w.dem){const E=w.dem.tree;_.min=Math.min(_.min,E.minimums[0]),_.max=Math.max(_.max,E.maximums[0])}return _},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(d.min*o.exaggeration(),d.max*o.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(o=!0){const d=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,_=this.height/2-d*(1-this._horizonShift);return o?Math.max(0,_):_}getMaxBounds(){return this.maxBounds}setMaxBounds(o){this.maxBounds=o,this.minLat=-s.MAX_MERCATOR_LATITUDE,this.maxLat=s.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,o&&(this.minLat=o.getSouth(),this.maxLat=o.getNorth(),this.minLng=o.getWest(),this.maxLng=o.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=s.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=s.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=s.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=s.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(o,d){return this.projection.createTileMatrix(this,d,o)}calculateDistanceTileData(o){const d=o.key,_=this._distanceTileDataCache;if(_[d])return _[d];const w=o.canonical,E=1/this.height,N=this.cameraWorldSize,H=N/this.zoomScale(w.z),le=(w.x+Math.pow(2,w.z)*o.wrap)*H,ve=w.y*H,ye=this.point;ye.x*=N/this.worldSize,ye.y*=N/this.worldSize;const Pe=this.angle,$e=Math.sin(-Pe),Ze=-Math.cos(-Pe);return _[d]={bearing:[$e,Ze],center:[(ye.x-le)*E,(ye.y-ve)*E],scale:H/s.EXTENT*E},_[d]}calculateFogTileMatrix(o){const d=o.key,_=this._fogTileMatrixCache;if(_[d])return _[d];const w=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,o);return s.multiply(w,this.worldToFogMatrix,w),_[d]=new Float32Array(w),_[d]}calculateProjMatrix(o,d=!1){const _=o.key,w=d?this._alignedProjMatrixCache:this._projMatrixCache;if(w[_])return w[_];const E=this.calculatePosMatrix(o,this.worldSize);return s.multiply(E,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:d?this.alignedProjMatrix:this.projMatrix,E),w[_]=new Float32Array(E),w[_]}calculatePixelsToTileUnitsMatrix(o){const d=o.tileID.key,_=this._pixelsToTileUnitsCache;if(_[d])return _[d];const w=function(E,N){const{scale:H}=E.tileTransform,le=H*s.EXTENT/(E.tileSize*Math.pow(2,N.zoom-E.tileID.overscaledZ+E.tileID.canonical.z));return ve=new Float32Array(4),$e=(ye=N.inverseAdjustmentMatrix)[1],Ze=ye[2],Ke=ye[3],et=(Pe=[le,le])[1],ve[0]=ye[0]*(Je=Pe[0]),ve[1]=$e*Je,ve[2]=Ze*et,ve[3]=Ke*et,ve;var ve,ye,Pe,$e,Ze,Ke,Je,et}(o,this);return _[d]=w,_[d]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){const o=1/this.worldSize,d=s.fromScaling([],[o,o,o]);return s.multiply(d,d,this.globeMatrix),d}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const o=this._elevation;this._updateCameraState();const d=s.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,_=this._computeCameraPosition(d),w=this._camera.forward(),E=s.mercatorZfromAltitude(1,this._center.lat);_[2]/=E,w[2]/=E,s.normalize(w,w);const N=o.raycast(_,w,o.exaggeration());if(N){const H=s.scaleAndAdd([],_,w,N),le=new s.MercatorCoordinate(H[0],H[1],s.mercatorZfromAltitude(H[2],s.latFromMercatorY(H[1]))),ve=(le.z+s.length([le.x-_[0],le.y-_[1],le.z-_[2]*E]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(ve),this._centerAltitude=le.toAltitude(),this._center=this.coordinateLocation(le),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(o=!1){if(!this._elevation)return;const d=this._elevation,_=s.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,w=this._computeCameraPosition(_),E=d.getAtPointOrZero(new s.MercatorCoordinate(...w)),N=this.pixelsPerMeter/this.worldSize*E,H=this._minimumHeightOverTerrain(),le=w[2]-N;if(le<=H)if(le<0||o){const ve=this.locationCoordinate(this._center,this._centerAltitude),ye=[w[0],w[1],ve.z-w[2]],Pe=s.length(ye);ye[2]-=(H-le)/this._pixelsPerMercatorPixel;const $e=s.length(ye);if($e===0)return;s.scale$2(ye,ye,Pe/$e*this._pixelsPerMercatorPixel),this._camera.position=[w[0],w[1],ve.z*this._pixelsPerMercatorPixel-ye[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const o=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||o){const $e=this.center;return $e.lat=s.clamp($e.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!o)&&($e.lng=s.clamp($e.lng,this.minLng,this.maxLng)),this.center=$e,void(this._constraining=!1)}const d=this._unmodified,{x:_,y:w}=this.point;let E=0,N=_,H=w;const le=this.width/2,ve=this.height/2,ye=this.worldMinY*this.scale,Pe=this.worldMaxY*this.scale;if(w-ve<ye&&(H=ye+ve),w+ve>Pe&&(H=Pe-ve),Pe-ye<this.height&&(E=Math.max(E,this.height/(Pe-ye)),H=(Pe+ye)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const $e=this.worldMinX*this.scale,Ze=this.worldMaxX*this.scale,Ke=this.worldSize/2-($e+Ze)/2;N=(_+Ke+this.worldSize)%this.worldSize-Ke,N-le<$e&&(N=$e+le),N+le>Ze&&(N=Ze-le),Ze-$e<this.width&&(E=Math.max(E,this.width/(Ze-$e)),N=(Ze+$e)/2)}N===_&&H===w||(this.center=this.unproject(new s.pointGeometry(N,H))),E&&(this.zoom+=this.scaleZoom(E)),this._constrainCamera(),this._unmodified=d,this._constraining=!1}_minZoomForBounds(){let o=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(o=Math.max(o,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),o}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const o=this.centerOffset,d=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=s.mercatorZfromAltitude(1,this.center.lat)/s.mercatorZfromAltitude(1,s.GLOBE_SCALE_MATCH_LATITUDE));const _=Aa(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,_),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const w=this.projection.zAxisUnit==="meters"?d:1,E=this._camera.getWorldToCamera(this.worldSize,w),N=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);N[8]=2*-o.x/this.width,N[9]=2*o.y/this.height;let H=s.mul([],N,E);if(this.projection.isReprojectedInTileSpace){const vt=this.locationCoordinate(this.center),Ct=s.identity([]);s.translate(Ct,Ct,[vt.x*this.worldSize,vt.y*this.worldSize,0]),s.multiply(Ct,Ct,El(this)),s.translate(Ct,Ct,[-vt.x*this.worldSize,-vt.y*this.worldSize,0]),s.multiply(H,H,Ct),this.inverseAdjustmentMatrix=function(Rt){const Bt=El(Rt,!0);return I([],[Bt[0],Bt[1],Bt[4],Bt[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=s.scale([],H,[this.worldSize,this.worldSize,this.worldSize/w,1]),this.projMatrix=H,this.invProjMatrix=s.invert(new Float64Array(16),this.projMatrix);const le=s.invert([],N);this.frustumCorners=s.FrustumCorners.fromInvProjectionMatrix(le,this.horizonLineFromTop(),this.height);const ve=new Float32Array(16);s.identity(ve),s.scale(ve,ve,[1,-1,1]),s.rotateX(ve,ve,this._pitch),s.rotateZ(ve,ve,this.angle);const ye=s.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),Pe=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;ye[8]=2*-o.x/this.width,ye[9]=2*(o.y+Pe)/this.height,this.skyboxMatrix=s.multiply(ve,ye,ve);const $e=this.point,Ze=$e.x,Ke=$e.y,Je=this.width%2/2,et=this.height%2/2,je=Math.cos(this.angle),ut=Math.sin(this.angle),ct=Ze-Math.round(Ze)+je*Je+ut*et,dt=Ke-Math.round(Ke)+je*et+ut*Je,wt=new Float64Array(H);if(s.translate(wt,wt,[ct>.5?ct-1:ct,dt>.5?dt-1:dt,0]),this.alignedProjMatrix=wt,H=s.create(),s.scale(H,H,[this.width/2,-this.height/2,1]),s.translate(H,H,[1,-1,0]),this.labelPlaneMatrix=H,H=s.create(),s.scale(H,H,[1,-1,1]),s.translate(H,H,[-1,-1,0]),s.scale(H,H,[2/this.width,2/this.height,1]),this.glCoordMatrix=H,this.pixelMatrix=s.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},H=s.invert(new Float64Array(16),this.pixelMatrix),!H)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=H,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=s.calculateGlobeMatrix(this);const vt=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=s.transformMat4(vt,vt,E),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=H;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const o=this.cameraWorldSizeForFog,d=this.cameraPixelsPerMeter,_=this._camera.position,w=1/this.height/this._pixelsPerMercatorPixel,E=[o,o,d];s.scale$2(E,E,w),s.scale$2(_,_,-1),s.multiply$2(_,_,E);const N=s.create();s.translate(N,N,_),s.scale(N,N,E),this.mercatorFogMatrix=N,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(o,d,w)}_computeCameraPosition(o){const d=(o=o||this.pixelsPerMeter)/this.pixelsPerMeter,_=this._camera.forward(),w=this.point,E=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*d-o/this.worldSize*this._centerAltitude;return[w.x/this.worldSize-_[0]*E,w.y/this.worldSize-_[1]*E,o/this.worldSize*this._centerAltitude-_[2]*E]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(o){const d=this._maxCameraBoundsDistance()*Math.cos(this._pitch),_=this._camera.position[2],w=o[2];let E=1;this.projection.wrap&&(this.center=this.center.wrap()),w>0&&(E=Math.min((d-_)/w,1)),this._camera.position=s.scaleAndAdd([],this._camera.position,o,E),this._updateStateFromCamera()}_updateStateFromCamera(){const o=this._camera.position,d=this._camera.forward(),{pitch:_,bearing:w}=this._camera.getPitchBearing(),E=s.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,N=this._mercatorZfromZoom(this._maxZoom)*Math.cos(s.degToRad(this._maxPitch)),H=Math.max((o[2]-E)/Math.cos(_),N),le=this._zoomFromMercatorZ(H);s.scaleAndAdd(o,o,d,H),this._pitch=s.clamp(_,s.degToRad(this.minPitch),s.degToRad(this.maxPitch)),this.angle=s.wrap(w,-Math.PI,Math.PI),this._setZoom(s.clamp(le,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new s.MercatorCoordinate(o[0],o[1],o[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(o){return Math.pow(2,o)*this.tileSize}_mercatorZfromZoom(o){return this.cameraToCenterDistance/this._worldSizeFromZoom(o)}_minimumHeightOverTerrain(){const o=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(o)}_zoomFromMercatorZ(o){return this.scaleZoom(this.cameraToCenterDistance/(o*this.tileSize))}zoomFromMercatorZAdjusted(o){let d=0,_=s.GLOBE_ZOOM_THRESHOLD_MAX,w=0,E=1/0;for(;_-d>1e-6&&_>d;){const N=d+.5*(_-d),H=this.tileSize*Math.pow(2,N),le=this.getCameraToCenterDistance(this.projection,N,H),ve=this.scaleZoom(le/(o*this.tileSize)),ye=Math.abs(N-ve);ye<E&&(E=ye,w=N),N<ve?d=N:_=N}return w}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(s.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(o,d){const _=Math.min(o.x,d.x),w=Math.max(o.x,d.x),E=Math.min(o.y,d.y),N=Math.max(o.y,d.y);if(E<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const H=[new s.pointGeometry(_,E),new s.pointGeometry(w,N),new s.pointGeometry(_,N),new s.pointGeometry(w,E)],le=this.renderWorldCopies?-3:0,ve=this.renderWorldCopies?4:1;for(const ye of H){const Pe=this.pointRayIntersection(ye);if(Pe.t<0)return!0;const $e=this.rayIntersectionCoordinate(Pe);if($e.x<le||$e.y<0||$e.x>ve||$e.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+s.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new s.pointGeometry(0,0),new s.pointGeometry(this.width,this.height))}zoomDeltaToMovement(o,d){const _=s.length(s.sub([],this._camera.position,o)),w=this._zoomFromMercatorZ(_)+d;return _-this._mercatorZfromZoom(w)}getCameraPoint(){if(this.projection.name==="globe"){const o=function([d,_,w],E){const N=[d,_,w,1];s.transformMat4$1(N,N,E);const H=N[3]=Math.max(N[3],1e-6);return N[0]/=H,N[1]/=H,N[2]/=H,N}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new s.pointGeometry(o[0],o[1])}{const o=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.pointGeometry(0,o))}}getCameraToCenterDistance(o,d=this.zoom,_=this.worldSize){const w=Aa(o,d,this.width,this.height,1024),E=o.pixelSpaceConversion(this.center.lat,_,w);return .5/Math.tan(.5*this._fov)*this.height*E}getWorldToCameraMatrix(){const o=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&s.multiply(o,o,this.globeMatrix),o}}function ia(m,o){let d=!1,_=null;const w=()=>{_=null,d&&(m(),_=setTimeout(w,o),d=!1)};return()=>(d=!0,_||w(),_)}class pd{constructor(o){this._hashName=o&&encodeURIComponent(o),s.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=ia(this._updateHashUnthrottled.bind(this),300)}addTo(o){return this._map=o,s.window.addEventListener("hashchange",this._onHashChange,!1),o.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),s.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const o=this._map;if(!o)return"";const d=bh(o);if(this._hashName){const _=this._hashName;let w=!1;const E=s.window.location.hash.slice(1).split("&").map(N=>{const H=N.split("=")[0];return H===_?(w=!0,`${H}=${d}`):N}).filter(N=>N);return w||E.push(`${_}=${d}`),`#${E.join("&")}`}return`#${d}`}_getCurrentHash(){const o=s.window.location.hash.replace("#","");if(this._hashName){let d;return o.split("&").map(_=>_.split("=")).forEach(_=>{_[0]===this._hashName&&(d=_)}),(d&&d[1]||"").split("/")}return o.split("/")}_onHashChange(){const o=this._map;if(!o)return!1;const d=this._getCurrentHash();if(d.length>=3&&!d.some(_=>isNaN(_))){const _=o.dragRotate.isEnabled()&&o.touchZoomRotate.isEnabled()?+(d[3]||0):o.getBearing();return o.jumpTo({center:[+d[2],+d[1]],zoom:+d[0],bearing:_,pitch:+(d[4]||0)}),!0}return!1}_updateHashUnthrottled(){const o=s.window.location.href.replace(/(#.+)?$/,this.getHashString());s.window.history.replaceState(s.window.history.state,null,o)}}function bh(m,o){const d=m.getCenter(),_=Math.round(100*m.getZoom())/100,w=Math.ceil((_*Math.LN2+Math.log(512/360/.5))/Math.LN10),E=Math.pow(10,w),N=Math.round(d.lng*E)/E,H=Math.round(d.lat*E)/E,le=m.getBearing(),ve=m.getPitch();let ye=o?`/${N}/${H}/${_}`:`${_}/${H}/${N}`;return(le||ve)&&(ye+="/"+Math.round(10*le)/10),ve&&(ye+=`/${Math.round(ve)}`),ye}const Vc={linearity:.3,easing:s.bezier(0,0,.3,1)},wh=s.extend({deceleration:2500,maxSpeed:1400},Vc),sp=s.extend({deceleration:20,maxSpeed:1400},Vc),iu=s.extend({deceleration:1e3,maxSpeed:360},Vc),op=s.extend({deceleration:1e3,maxSpeed:90},Vc);class as{constructor(o){this._map=o,this.clear()}clear(){this._inertiaBuffer=[]}record(o){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:s.exported.now(),settings:o})}_drainInertiaBuffer(){const o=this._inertiaBuffer,d=s.exported.now();for(;o.length>0&&d-o[0].time>160;)o.shift()}_onMoveEnd(o){if(s.exported.prefersReducedMotion||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const d={zoom:0,bearing:0,pitch:0,pan:new s.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:E}of this._inertiaBuffer)d.zoom+=E.zoomDelta||0,d.bearing+=E.bearingDelta||0,d.pitch+=E.pitchDelta||0,E.panDelta&&d.pan._add(E.panDelta),E.around&&(d.around=E.around),E.pinchAround&&(d.pinchAround=E.pinchAround);const _=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,w={};if(d.pan.mag()){const E=fd(d.pan.mag(),_,s.extend({},wh,o||{}));w.offset=d.pan.mult(E.amount/d.pan.mag()),w.center=this._map.transform.center,ys(w,E)}if(d.zoom){const E=fd(d.zoom,_,sp);w.zoom=this._map.transform.zoom+E.amount,ys(w,E)}if(d.bearing){const E=fd(d.bearing,_,iu);w.bearing=this._map.transform.bearing+s.clamp(E.amount,-179,179),ys(w,E)}if(d.pitch){const E=fd(d.pitch,_,op);w.pitch=this._map.transform.pitch+E.amount,ys(w,E)}if(w.zoom||w.bearing){const E=d.pinchAround===void 0?d.around:d.pinchAround;w.around=E?this._map.unproject(E):this._map.getCenter()}return this.clear(),w.noMoveStart=!0,w}}function ys(m,o){(!m.duration||m.duration<o.duration)&&(m.duration=o.duration,m.easing=o.easing)}function fd(m,o,d){const{maxSpeed:_,linearity:w,deceleration:E}=d,N=s.clamp(m*w/(o/1e3),-_,_),H=Math.abs(N)/(E*w);return{easing:d.easing,duration:1e3*H,amount:N*(H/2)}}class Rs extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(o,d,_,w={}){const E=R(d.getCanvasContainer(),_),N=d.unproject(E);super(o,s.extend({point:E,lngLat:N,originalEvent:_},w)),this._defaultPrevented=!1,this.target=d}}class md extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(o,d,_){const w=o==="touchend"?_.changedTouches:_.touches,E=se(d.getCanvasContainer(),w),N=E.map(le=>d.unproject(le)),H=E.reduce((le,ve,ye,Pe)=>le.add(ve.div(Pe.length)),new s.pointGeometry(0,0));super(o,{points:E,point:H,lngLats:N,lngLat:d.unproject(H),originalEvent:_}),this._defaultPrevented=!1}}class wm extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(o,d,_){super(o,{originalEvent:_}),this._defaultPrevented=!1}}class nu{constructor(o,d){this._map=o,this._clickTolerance=d.clickTolerance}reset(){this._mousedownPos=void 0}wheel(o){return this._firePreventable(new wm(o.type,this._map,o))}mousedown(o,d){return this._mousedownPos=d,this._firePreventable(new Rs(o.type,this._map,o))}mouseup(o){this._map.fire(new Rs(o.type,this._map,o))}preclick(o){const d=s.extend({},o);d.type="preclick",this._map.fire(new Rs(d.type,this._map,d))}click(o,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||(this.preclick(o),this._map.fire(new Rs(o.type,this._map,o)))}dblclick(o){return this._firePreventable(new Rs(o.type,this._map,o))}mouseover(o){this._map.fire(new Rs(o.type,this._map,o))}mouseout(o){this._map.fire(new Rs(o.type,this._map,o))}touchstart(o){return this._firePreventable(new md(o.type,this._map,o))}touchmove(o){this._map.fire(new md(o.type,this._map,o))}touchend(o){this._map.fire(new md(o.type,this._map,o))}touchcancel(o){this._map.fire(new md(o.type,this._map,o))}_firePreventable(o){if(this._map.fire(o),o.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class rc{constructor(o){this._map=o}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(o){this._map.fire(new Rs(o.type,this._map,o))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Rs("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(o){this._delayContextMenu?this._contextMenuEvent=o:this._map.fire(new Rs(o.type,this._map,o)),this._map.listens("contextmenu")&&o.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class gd{constructor(o,d){this._map=o,this._el=o.getCanvasContainer(),this._container=o.getContainer(),this._clickTolerance=d.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(o,d){this.isEnabled()&&o.shiftKey&&o.button===0&&(B(),this._startPos=this._lastPos=d,this._active=!0)}mousemoveWindow(o,d){if(!this._active)return;const _=d,w=this._startPos,E=this._lastPos;if(!w||!E||E.equals(_)||!this._box&&_.dist(w)<this._clickTolerance)return;this._lastPos=_,this._box||(this._box=Z("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",o));const N=Math.min(w.x,_.x),H=Math.max(w.x,_.x),le=Math.min(w.y,_.y),ve=Math.max(w.y,_.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${N}px,${le}px)`,this._box.style.width=H-N+"px",this._box.style.height=ve-le+"px")})}mouseupWindow(o,d){if(!this._active)return;const _=this._startPos,w=d;if(_&&o.button===0){if(this.reset(),W(),_.x!==w.x||_.y!==w.y)return this._map.fire(new s.Event("boxzoomend",{originalEvent:o})),{cameraAnimation:E=>E.fitScreenCoordinates(_,w,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",o)}}keydown(o){this._active&&o.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",o))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),P(),delete this._startPos,delete this._lastPos}_fireEvent(o,d){return this._map.fire(new s.Event(o,{originalEvent:d}))}}function Cl(m,o){const d={};for(let _=0;_<m.length;_++)d[m[_].identifier]=o[_];return d}class Th{constructor(o){this.reset(),this.numTouches=o.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(o,d,_){(this.centroid||_.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=o.timeStamp),_.length===this.numTouches&&(this.centroid=function(w){const E=new s.pointGeometry(0,0);for(const N of w)E._add(N);return E.div(w.length)}(d),this.touches=Cl(_,d)))}touchmove(o,d,_){if(this.aborted||!this.centroid)return;const w=Cl(_,d);for(const E in this.touches){const N=this.touches[E],H=w[E];(!H||H.dist(N)>30)&&(this.aborted=!0)}}touchend(o,d,_){if((!this.centroid||o.timeStamp-this.startTime>500)&&(this.aborted=!0),_.length===0){const w=!this.aborted&&this.centroid;if(this.reset(),w)return w}}}class Za{constructor(o){this.singleTap=new Th(o),this.numTaps=o.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(o,d,_){this.singleTap.touchstart(o,d,_)}touchmove(o,d,_){this.singleTap.touchmove(o,d,_)}touchend(o,d,_){const w=this.singleTap.touchend(o,d,_);if(w){const E=o.timeStamp-this.lastTime<500,N=!this.lastTap||this.lastTap.dist(w)<30;if(E&&N||this.reset(),this.count++,this.lastTime=o.timeStamp,this.lastTap=w,this.count===this.numTaps)return this.reset(),w}}}class Sh{constructor(){this._zoomIn=new Za({numTouches:1,numTaps:2}),this._zoomOut=new Za({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(o,d,_){this._zoomIn.touchstart(o,d,_),this._zoomOut.touchstart(o,d,_)}touchmove(o,d,_){this._zoomIn.touchmove(o,d,_),this._zoomOut.touchmove(o,d,_)}touchend(o,d,_){const w=this._zoomIn.touchend(o,d,_),E=this._zoomOut.touchend(o,d,_);return w?(this._active=!0,o.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:N=>N.easeTo({duration:300,zoom:N.getZoom()+1,around:N.unproject(w)},{originalEvent:o})}):E?(this._active=!0,o.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:N=>N.easeTo({duration:300,zoom:N.getZoom()-1,around:N.unproject(E)},{originalEvent:o})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Gc={0:1,2:2};class ru{constructor(o){this.reset(),this._clickTolerance=o.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(o,d){return!1}_move(o,d){return{}}mousedown(o,d){if(this._lastPoint)return;const _=S(o);this._correctButton(o,_)&&(this._lastPoint=d,this._eventButton=_)}mousemoveWindow(o,d){const _=this._lastPoint;if(_){if(o.preventDefault(),this._eventButton!=null&&function(w,E){const N=Gc[E];return w.buttons===void 0||(w.buttons&N)!==N}(o,this._eventButton))this.reset();else if(this._moved||!(d.dist(_)<this._clickTolerance))return this._moved=!0,this._lastPoint=d,this._move(_,d)}}mouseupWindow(o){this._lastPoint&&S(o)===this._eventButton&&(this._moved&&W(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Tf extends ru{mousedown(o,d){super.mousedown(o,d),this._lastPoint&&(this._active=!0)}_correctButton(o,d){return d===0&&!o.ctrlKey}_move(o,d){return{around:d,panDelta:d.sub(o)}}}class ap extends ru{_correctButton(o,d){return d===0&&o.ctrlKey||d===2}_move(o,d){const _=.8*(d.x-o.x);if(_)return this._active=!0,{bearingDelta:_}}contextmenu(o){o.preventDefault()}}class lp extends ru{_correctButton(o,d){return d===0&&o.ctrlKey||d===2}_move(o,d){const _=-.5*(d.y-o.y);if(_)return this._active=!0,{pitchDelta:_}}contextmenu(o){o.preventDefault()}}class Eh{constructor(o,d){this._map=o,this._el=o.getCanvasContainer(),this._minTouches=1,this._clickTolerance=d.clickTolerance||1,this.reset(),s.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new s.pointGeometry(0,0)}touchstart(o,d,_){return this._calculateTransform(o,d,_)}touchmove(o,d,_){if(this._active&&!(_.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(_.length===1&&!s.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return o.cancelable&&o.preventDefault(),this._calculateTransform(o,d,_)}}touchend(o,d,_){this._calculateTransform(o,d,_),this._active&&_.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(o,d,_){_.length>0&&(this._active=!0);const w=Cl(_,d),E=new s.pointGeometry(0,0),N=new s.pointGeometry(0,0);let H=0;for(const ve in w){const ye=w[ve],Pe=this._touches[ve];Pe&&(E._add(ye),N._add(ye.sub(Pe)),H++,w[ve]=ye)}if(this._touches=w,H<this._minTouches||!N.mag())return;const le=N.div(H);return this._sum._add(le),this._sum.mag()<this._clickTolerance?void 0:{around:E.div(H),panDelta:le}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=Z("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class Wc{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(o){}_move(o,d,_){return{}}touchstart(o,d,_){this._firstTwoTouches||_.length<2||(this._firstTwoTouches=[_[0].identifier,_[1].identifier],this._start([d[0],d[1]]))}touchmove(o,d,_){const w=this._firstTwoTouches;if(!w)return;o.preventDefault();const[E,N]=w,H=Ml(_,d,E),le=Ml(_,d,N);if(!H||!le)return;const ve=this._aroundCenter?null:H.add(le).div(2);return this._move([H,le],ve,o)}touchend(o,d,_){if(!this._firstTwoTouches)return;const[w,E]=this._firstTwoTouches,N=Ml(_,d,w),H=Ml(_,d,E);N&&H||(this._active&&W(),this.reset())}touchcancel(){this.reset()}enable(o){this._enabled=!0,this._aroundCenter=!!o&&o.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Ml(m,o,d){for(let _=0;_<m.length;_++)if(m[_].identifier===d)return o[_]}function cp(m,o){return Math.log(m/o)/Math.LN2}class Ye extends Wc{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(o){this._startDistance=this._distance=o[0].dist(o[1])}_move(o,d){const _=this._distance;if(this._distance=o[0].dist(o[1]),this._active||!(Math.abs(cp(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:cp(this._distance,_),pinchAround:d}}}function sc(m,o){return 180*m.angleWith(o)/Math.PI}class _d extends Wc{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(o){this._startVector=this._vector=o[0].sub(o[1]),this._minDiameter=o[0].dist(o[1])}_move(o,d){const _=this._vector;if(this._vector=o[0].sub(o[1]),_&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:sc(this._vector,_),pinchAround:d}}_isBelowThreshold(o){this._minDiameter=Math.min(this._minDiameter,o.mag());const d=25/(Math.PI*this._minDiameter)*360,_=this._startVector;if(!_)return!1;const w=sc(o,_);return Math.abs(w)<d}}function co(m){return Math.abs(m.y)>Math.abs(m.x)}class pn extends Wc{constructor(o){super(),this._map=o}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(o){this._lastPoints=o,co(o[0].sub(o[1]))&&(this._valid=!1)}_move(o,d,_){const w=this._lastPoints;if(!w)return;const E=o[0].sub(w[0]),N=o[1].sub(w[1]);return this._map._cooperativeGestures&&!s.isFullscreen()&&_.touches.length<3||(this._valid=this.gestureBeginsVertically(E,N,_.timeStamp),!this._valid)?void 0:(this._lastPoints=o,this._active=!0,{pitchDelta:(E.y+N.y)/2*-.5})}gestureBeginsVertically(o,d,_){if(this._valid!==void 0)return this._valid;const w=o.mag()>=2,E=d.mag()>=2;if(!w&&!E)return;if(!w||!E)return this._firstMove==null&&(this._firstMove=_),_-this._firstMove<100&&void 0;const N=o.y>0==d.y>0;return co(o)&&co(d)&&N}}const Tm={panStep:100,bearingStep:15,pitchStep:10};class Sf{constructor(){const o=Tm;this._panStep=o.panStep,this._bearingStep=o.bearingStep,this._pitchStep=o.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(o){if(o.altKey||o.ctrlKey||o.metaKey)return;let d=0,_=0,w=0,E=0,N=0;switch(o.keyCode){case 61:case 107:case 171:case 187:d=1;break;case 189:case 109:case 173:d=-1;break;case 37:o.shiftKey?_=-1:(o.preventDefault(),E=-1);break;case 39:o.shiftKey?_=1:(o.preventDefault(),E=1);break;case 38:o.shiftKey?w=1:(o.preventDefault(),N=-1);break;case 40:o.shiftKey?w=-1:(o.preventDefault(),N=1);break;default:return}return this._rotationDisabled&&(_=0,w=0),{cameraAnimation:H=>{const le=H.getZoom();H.easeTo({duration:300,easeId:"keyboardHandler",easing:Sm,zoom:d?Math.round(le)+d*(o.shiftKey?2:1):le,bearing:H.getBearing()+_*this._bearingStep,pitch:H.getPitch()+w*this._pitchStep,offset:[-E*this._panStep,-N*this._panStep],center:H.getCenter()},{originalEvent:o})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Sm(m){return m*(2-m)}const oc=4.000244140625;class Al{constructor(o,d){this._map=o,this._el=o.getCanvasContainer(),this._handler=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,s.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(o){this._defaultZoomRate=o}setWheelZoomRate(o){this._wheelZoomRate=o}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(o){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!o&&o.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(o){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(o.ctrlKey||o.metaKey||this.isZooming()||s.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let d=o.deltaMode===s.window.WheelEvent.DOM_DELTA_LINE?40*o.deltaY:o.deltaY;const _=s.exported.now(),w=_-(this._lastWheelEventTime||0);this._lastWheelEventTime=_,d!==0&&d%oc==0?this._type="wheel":d!==0&&Math.abs(d)<4?this._type="trackpad":w>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,o)):this._type||(this._type=Math.abs(w*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),o.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=o,this._delta-=d,this._active||this._start(o)),o.preventDefault()}_onTimeout(o){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(o)}_start(o){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const d=R(this._el,o);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:d,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const o=this._map.transform;this._type==="wheel"&&o.projection.wrap&&(o._center.lng>=180||o._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const d=()=>o._terrainEnabled()&&this._aroundCoord?o.computeZoomRelativeTo(this._aroundCoord):o.zoom;if(this._delta!==0){const le=this._type==="wheel"&&Math.abs(this._delta)>oc?this._wheelZoomRate:this._defaultZoomRate;let ve=2/(1+Math.exp(-Math.abs(this._delta*le)));this._delta<0&&ve!==0&&(ve=1/ve);const ye=d(),Pe=Math.pow(2,ye),$e=typeof this._targetZoom=="number"?o.zoomScale(this._targetZoom):Pe;this._targetZoom=Math.min(o.maxZoom,Math.max(o.minZoom,o.scaleZoom($e*ve))),this._type==="wheel"&&(this._startZoom=ye,this._easing=this._smoothOutEasing(200)),this._delta=0}const _=typeof this._targetZoom=="number"?this._targetZoom:d(),w=this._startZoom,E=this._easing;let N,H=!1;if(this._type==="wheel"&&w&&E){const le=Math.min((s.exported.now()-this._lastWheelEventTime)/200,1),ve=E(le);N=s.number(w,_,ve),le<1?this._frameId||(this._frameId=!0):H=!0}else N=_,H=!0;return this._active=!0,H&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!H,zoomDelta:N-d(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(o){let d=s.ease;if(this._prevEase){const _=this._prevEase,w=(s.exported.now()-_.start)/_.duration,E=_.easing(w+.01)-_.easing(w),N=.27/Math.sqrt(E*E+1e-4)*.01,H=Math.sqrt(.0729-N*N);d=s.bezier(N,H,.25,1)}return this._prevEase={start:s.exported.now(),duration:o,easing:d},d}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=Z("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(s.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class Ef{constructor(o,d){this._clickZoom=o,this._tapZoom=d}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Ch{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(o,d){return o.preventDefault(),{cameraAnimation:_=>{_.easeTo({duration:300,zoom:_.getZoom()+(o.shiftKey?-1:1),around:_.unproject(d)},{originalEvent:o})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ka{constructor(){this._tap=new Za({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(o,d,_){this._swipePoint||(this._tapTime&&o.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?_.length>0&&(this._swipePoint=d[0],this._swipeTouch=_[0].identifier):this._tap.touchstart(o,d,_))}touchmove(o,d,_){if(this._tapTime){if(this._swipePoint){if(_[0].identifier!==this._swipeTouch)return;const w=d[0],E=w.y-this._swipePoint.y;return this._swipePoint=w,o.preventDefault(),this._active=!0,{zoomDelta:E/128}}}else this._tap.touchmove(o,d,_)}touchend(o,d,_){this._tapTime?this._swipePoint&&_.length===0&&this.reset():this._tap.touchend(o,d,_)&&(this._tapTime=o.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class su{constructor(o,d,_){this._el=o,this._mousePan=d,this._touchPan=_}enable(o){this._inertiaOptions=o||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Ri{constructor(o,d,_){this._pitchWithRotate=o.pitchWithRotate,this._mouseRotate=d,this._mousePitch=_}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Cf{constructor(o,d,_,w){this._el=o,this._touchZoom=d,this._touchRotate=_,this._tapDragZoom=w,this._rotationDisabled=!1,this._enabled=!0}enable(o){this._touchZoom.enable(o),this._rotationDisabled||this._touchRotate.enable(o),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const yd=m=>m.zoom||m.drag||m.pitch||m.rotate;class vd extends s.Event{}class xd{constructor(){this.constants=[1,1,.01],this.radius=0}setup(o,d){const _=s.sub([],d,o);this.radius=s.length(_[2]<0?s.div([],_,this.constants):[_[0],_[1],0])}projectRay(o){s.div(o,o,this.constants),s.normalize(o,o),s.mul$1(o,o,this.constants);const d=s.scale$2([],o,this.radius);if(d[2]>0){const _=s.scale$2([],[0,0,1],s.dot(d,[0,0,1])),w=s.scale$2([],s.normalize([],[d[0],d[1],0]),this.radius),E=s.add([],d,s.scale$2([],s.sub([],s.add([],w,_),d),2));d[0]=E[0],d[1]=E[1]}return d}}function bd(m){return m.panDelta&&m.panDelta.mag()||m.zoomDelta||m.bearingDelta||m.pitchDelta}class Ja{constructor(o,d){this._map=o,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new as(o),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new xd,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(d),s.bindAll(["handleEvent","handleWindowEvent"],this);const _=this._el;this._listeners=[[_,"touchstart",{passive:!0}],[_,"touchmove",{passive:!1}],[_,"touchend",void 0],[_,"touchcancel",void 0],[_,"mousedown",void 0],[_,"mousemove",void 0],[_,"mouseup",void 0],[s.window.document,"mousemove",{capture:!0}],[s.window.document,"mouseup",void 0],[_,"mouseover",void 0],[_,"mouseout",void 0],[_,"dblclick",void 0],[_,"click",void 0],[_,"keydown",{capture:!1}],[_,"keyup",void 0],[_,"wheel",{passive:!1}],[_,"contextmenu",void 0],[s.window,"blur",void 0]];for(const[w,E,N]of this._listeners)w.addEventListener(E,w===s.window.document?this.handleWindowEvent:this.handleEvent,N)}destroy(){for(const[o,d,_]of this._listeners)o.removeEventListener(d,o===s.window.document?this.handleWindowEvent:this.handleEvent,_)}_addDefaultHandlers(o){const d=this._map,_=d.getCanvasContainer();this._add("mapEvent",new nu(d,o));const w=d.boxZoom=new gd(d,o);this._add("boxZoom",w);const E=new Sh,N=new Ch;d.doubleClickZoom=new Ef(N,E),this._add("tapZoom",E),this._add("clickZoom",N);const H=new Ka;this._add("tapDragZoom",H);const le=d.touchPitch=new pn(d);this._add("touchPitch",le);const ve=new ap(o),ye=new lp(o);d.dragRotate=new Ri(o,ve,ye),this._add("mouseRotate",ve,["mousePitch"]),this._add("mousePitch",ye,["mouseRotate"]);const Pe=new Tf(o),$e=new Eh(d,o);d.dragPan=new su(_,Pe,$e),this._add("mousePan",Pe),this._add("touchPan",$e,["touchZoom","touchRotate"]);const Ze=new _d,Ke=new Ye;d.touchZoomRotate=new Cf(_,Ke,Ze,H),this._add("touchRotate",Ze,["touchPan","touchZoom"]),this._add("touchZoom",Ke,["touchPan","touchRotate"]),this._add("blockableMapEvent",new rc(d));const Je=d.scrollZoom=new Al(d,this);this._add("scrollZoom",Je,["mousePan"]);const et=d.keyboard=new Sf;this._add("keyboard",et);for(const je of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])o.interactive&&o[je]&&d[je].enable(o[je])}_add(o,d,_){this._handlers.push({handlerName:o,handler:d,allowed:_}),this._handlersById[o]=d}stop(o){if(!this._updatingCamera){for(const{handler:d}of this._handlers)d.reset();this._inertia.clear(),this._fireEvents({},{},o),this._changes=[]}}isActive(){for(const{handler:o}of this._handlers)if(o.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!yd(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(o,d,_){for(const w in o)if(w!==_&&(!d||d.indexOf(w)<0))return!0;return!1}handleWindowEvent(o){this.handleEvent(o,`${o.type}Window`)}_getMapTouches(o){const d=[];for(const _ of o)this._el.contains(_.target)&&d.push(_);return d}handleEvent(o,d){this._updatingCamera=!0;const _=o.type==="renderFrame",w=_?void 0:o,E={needsRenderFrame:!1},N={},H={},le=o.touches?this._getMapTouches(o.touches):void 0,ve=le?se(this._el,le):_?void 0:R(this._el,o);for(const{handlerName:$e,handler:Ze,allowed:Ke}of this._handlers){if(!Ze.isEnabled())continue;let Je;this._blockedByActive(H,Ke,$e)?Ze.reset():Ze[d||o.type]&&(Je=Ze[d||o.type](o,ve,le),this.mergeHandlerResult(E,N,Je,$e,w),Je&&Je.needsRenderFrame&&this._triggerRenderFrame()),(Je||Ze.isActive())&&(H[$e]=Ze)}const ye={};for(const $e in this._previousActiveHandlers)H[$e]||(ye[$e]=w);this._previousActiveHandlers=H,(Object.keys(ye).length||bd(E))&&(this._changes.push([E,N,ye]),this._triggerRenderFrame()),(Object.keys(H).length||bd(E))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Pe}=E;Pe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Pe(this._map))}mergeHandlerResult(o,d,_,w,E){if(!_)return;s.extend(o,_);const N={handlerName:w,originalEvent:_.originalEvent||E};_.zoomDelta!==void 0&&(d.zoom=N),_.panDelta!==void 0&&(d.drag=N),_.pitchDelta!==void 0&&(d.pitch=N),_.bearingDelta!==void 0&&(d.rotate=N)}_applyChanges(){const o={},d={},_={};for(const[w,E,N]of this._changes)w.panDelta&&(o.panDelta=(o.panDelta||new s.pointGeometry(0,0))._add(w.panDelta)),w.zoomDelta&&(o.zoomDelta=(o.zoomDelta||0)+w.zoomDelta),w.bearingDelta&&(o.bearingDelta=(o.bearingDelta||0)+w.bearingDelta),w.pitchDelta&&(o.pitchDelta=(o.pitchDelta||0)+w.pitchDelta),w.around!==void 0&&(o.around=w.around),w.aroundCoord!==void 0&&(o.aroundCoord=w.aroundCoord),w.pinchAround!==void 0&&(o.pinchAround=w.pinchAround),w.noInertia&&(o.noInertia=w.noInertia),s.extend(d,E),s.extend(_,N);this._updateMapTransform(o,d,_),this._changes=[]}_updateMapTransform(o,d,_){const w=this._map,E=w.transform,N=ut=>[ut.x,ut.y,ut.z];if((ut=>{const ct=this._eventsInProgress.drag;return ct&&!this._handlersById[ct.handlerName].isActive()})()&&!bd(o)){const ut=E.zoom;E.cameraElevationReference="sea",E.recenterOnTerrain(),E.cameraElevationReference="ground",ut!==E.zoom&&this._map._update(!0)}if(E._isCameraConstrained&&w._stop(!0),!bd(o))return void this._fireEvents(d,_,!0);let{panDelta:H,zoomDelta:le,bearingDelta:ve,pitchDelta:ye,around:Pe,aroundCoord:$e,pinchAround:Ze}=o;E._isCameraConstrained&&(le>0&&(le=0),E._isCameraConstrained=!1),Ze!==void 0&&(Pe=Ze),(le||(ut=>d.drag&&!this._eventsInProgress.drag)())&&Pe&&(this._dragOrigin=N(E.pointCoordinate3D(Pe)),this._trackingEllipsoid.setup(E._camera.position,this._dragOrigin)),E.cameraElevationReference="sea",w._stop(!0),Pe=Pe||w.transform.centerPoint,ve&&(E.bearing+=ve),ye&&(E.pitch+=ye),E._updateCameraState();const Ke=[0,0,0];if(H)if(E.projection.name==="mercator"){const ut=this._trackingEllipsoid.projectRay(E.screenPointToMercatorRay(Pe).dir),ct=this._trackingEllipsoid.projectRay(E.screenPointToMercatorRay(Pe.sub(H)).dir);Ke[0]=ct[0]-ut[0],Ke[1]=ct[1]-ut[1]}else{const ut=E.pointCoordinate(Pe);if(E.projection.name==="globe"){H=H.rotate(-E.angle);const ct=E._pixelsPerMercatorPixel/E.worldSize;Ke[0]=-H.x*s.mercatorScale(s.latFromMercatorY(ut.y))*ct,Ke[1]=-H.y*s.mercatorScale(E.center.lat)*ct}else{const ct=E.pointCoordinate(Pe.sub(H));ut&&ct&&(Ke[0]=ct.x-ut.x,Ke[1]=ct.y-ut.y)}}const Je=E.zoom,et=[0,0,0];if(le){const ut=N($e||E.pointCoordinate3D(Pe)),ct={dir:s.normalize([],s.sub([],ut,E._camera.position))};if(ct.dir[2]<0){const dt=E.zoomDeltaToMovement(ut,le);s.scale$2(et,ct.dir,dt)}}const je=s.add(Ke,Ke,et);E._translateCameraConstrained(je),le&&Math.abs(E.zoom-Je)>1e-4&&E.recenterOnTerrain(),E.cameraElevationReference="ground",this._map._update(),o.noInertia||this._inertia.record(o),this._fireEvents(d,_,!0)}_fireEvents(o,d,_){const w=yd(this._eventsInProgress),E=yd(o),N={};for(const ye in o){const{originalEvent:Pe}=o[ye];this._eventsInProgress[ye]||(N[`${ye}start`]=Pe),this._eventsInProgress[ye]=o[ye]}!w&&E&&this._fireEvent("movestart",E.originalEvent);for(const ye in N)this._fireEvent(ye,N[ye]);E&&this._fireEvent("move",E.originalEvent);for(const ye in o){const{originalEvent:Pe}=o[ye];this._fireEvent(ye,Pe)}const H={};let le;for(const ye in this._eventsInProgress){const{handlerName:Pe,originalEvent:$e}=this._eventsInProgress[ye];this._handlersById[Pe].isActive()||(delete this._eventsInProgress[ye],le=d[Pe]||$e,H[`${ye}end`]=le)}for(const ye in H)this._fireEvent(ye,H[ye]);const ve=yd(this._eventsInProgress);if(_&&(w||E)&&!ve){this._updatingCamera=!0;const ye=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Pe=$e=>$e!==0&&-this._bearingSnap<$e&&$e<this._bearingSnap;ye?(Pe(ye.bearing||this._map.getBearing())&&(ye.bearing=0),this._map.easeTo(ye,{originalEvent:le})):(this._map.fire(new s.Event("moveend",{originalEvent:le})),Pe(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(o,d){this._map.fire(new s.Event(o,d?{originalEvent:d}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(o=>{this._frameId=void 0,this.handleEvent(new vd("renderFrame",{timeStamp:o})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const hp="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Mf extends s.Evented{constructor(o,d){super(),this._moving=!1,this._zooming=!1,this.transform=o,this._bearingSnap=d.bearingSnap,s.bindAll(["_renderFrameCallback"],this)}getCenter(){return new s.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(o,d){return this.jumpTo({center:o},d)}panBy(o,d,_){return o=s.pointGeometry.convert(o).mult(-1),this.panTo(this.transform.center,s.extend({offset:o},d),_)}panTo(o,d,_){return this.easeTo(s.extend({center:o},d),_)}getZoom(){return this.transform.zoom}setZoom(o,d){return this.jumpTo({zoom:o},d),this}zoomTo(o,d,_){return this.easeTo(s.extend({zoom:o},d),_)}zoomIn(o,d){return this.zoomTo(this.getZoom()+1,o,d),this}zoomOut(o,d){return this.zoomTo(this.getZoom()-1,o,d),this}getBearing(){return this.transform.bearing}setBearing(o,d){return this.jumpTo({bearing:o},d),this}getPadding(){return this.transform.padding}setPadding(o,d){return this.jumpTo({padding:o},d),this}rotateTo(o,d,_){return this.easeTo(s.extend({bearing:o},d),_)}resetNorth(o,d){return this.rotateTo(0,s.extend({duration:1e3},o),d),this}resetNorthPitch(o,d){return this.easeTo(s.extend({bearing:0,pitch:0,duration:1e3},o),d),this}snapToNorth(o,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(o,d):this}getPitch(){return this.transform.pitch}setPitch(o,d){return this.jumpTo({pitch:o},d),this}cameraForBounds(o,d){o=s.LngLatBounds.convert(o);const _=d&&d.bearing||0,w=d&&d.pitch||0,E=o.getNorthWest(),N=o.getSouthEast();return this._cameraForBounds(this.transform,E,N,_,w,d)}_extendCameraOptions(o){const d={top:0,bottom:0,right:0,left:0};if(typeof(o=s.extend({padding:d,offset:[0,0],maxZoom:this.transform.maxZoom},o)).padding=="number"){const _=o.padding;o.padding={top:_,bottom:_,right:_,left:_}}return o.padding=s.extend(d,o.padding),o}_minimumAABBFrustumDistance(o,d){const _=d.max[0]-d.min[0],w=d.max[1]-d.min[1];return _/w>o.aspect?_/(2*Math.tan(.5*o.fovX)*o.aspect):w/(2*Math.tan(.5*o.fovY)*o.aspect)}_cameraForBoundsOnGlobe(o,d,_,w,E,N){const H=o.clone(),le=this._extendCameraOptions(N);H.bearing=w,H.pitch=E;const ve=s.LngLat.convert(d),ye=s.LngLat.convert(_),Pe=.5*(ve.lat+ye.lat),$e=.5*(ve.lng+ye.lng),Ze=s.latLngToECEF(Pe,$e),Ke=s.normalize([],Ze),Je=s.normalize([],s.cross([],Ke,[0,1,0])),et=s.cross([],Je,Ke),je=[Je[0],Je[1],Je[2],0,et[0],et[1],et[2],0,Ke[0],Ke[1],Ke[2],0,0,0,0,1],ut=[Ze,s.latLngToECEF(ve.lat,ve.lng),s.latLngToECEF(ye.lat,ve.lng),s.latLngToECEF(ye.lat,ye.lng),s.latLngToECEF(ve.lat,ye.lng),s.latLngToECEF(Pe,ve.lng),s.latLngToECEF(Pe,ye.lng),s.latLngToECEF(ve.lat,$e),s.latLngToECEF(ye.lat,$e)];let ct=s.Aabb.fromPoints(ut.map(di=>[s.dot(Je,di),s.dot(et,di),s.dot(Ke,di)]));const dt=s.transformMat4([],ct.center,je);s.squaredLength(dt)===0&&s.set(dt,0,0,1),s.normalize(dt,dt),s.scale$2(dt,dt,s.GLOBE_RADIUS),H.center=s.ecefToLatLng(dt);const wt=H.getWorldToCameraMatrix(),vt=s.invert(new Float64Array(16),wt);ct=s.Aabb.applyTransform(ct,s.multiply([],wt,je)),s.transformMat4(dt,dt,wt);const Ct=.5*(ct.max[2]-ct.min[2]),Rt=this._minimumAABBFrustumDistance(H,ct),Bt=s.scale$2([],[0,0,1],Ct),Ht=s.add(Bt,dt,Bt),Si=Rt+(H.pitch===0?0:s.distance(dt,Ht)),Nt=H.globeCenterInViewSpace,oi=s.sub([],dt,[Nt[0],Nt[1],Nt[2]]);s.normalize(oi,oi),s.scale$2(oi,oi,Si);const Jt=s.add([],dt,oi);s.transformMat4(Jt,Jt,vt);const ui=s.earthRadius/s.GLOBE_RADIUS,Gt=s.length(Jt),Dt=s.mercatorZfromAltitude(Math.max(Gt*ui-s.earthRadius,Number.EPSILON),0),Xt=Math.min(H.zoomFromMercatorZAdjusted(Dt),le.maxZoom);return Xt>.5*(s.GLOBE_ZOOM_THRESHOLD_MIN+s.GLOBE_ZOOM_THRESHOLD_MAX)?(H.setProjection({name:"mercator"}),H.zoom=Xt,this._cameraForBounds(H,d,_,w,E,N)):{center:H.center,zoom:Xt,bearing:w,pitch:E}}queryTerrainElevation(o,d){const _=this.transform.elevation;return _?(d=s.extend({},{exaggerated:!0},d),_.getAtPoint(s.MercatorCoordinate.fromLngLat(o),null,d.exaggerated)):null}_cameraForBounds(o,d,_,w,E,N){if(o.projection.name==="globe")return this._cameraForBoundsOnGlobe(o,d,_,w,E,N);const H=o.clone(),le=this._extendCameraOptions(N),ve=H.padding;H.bearing=w,H.pitch=E;const ye=s.LngLat.convert(d),Pe=s.LngLat.convert(_),$e=new s.LngLat(ye.lng,Pe.lat),Ze=new s.LngLat(Pe.lng,ye.lat),Ke=H.project(ye),Je=H.project(Pe),et=this.queryTerrainElevation(ye),je=this.queryTerrainElevation(Pe),ut=this.queryTerrainElevation($e),ct=this.queryTerrainElevation(Ze),dt=[[Ke.x,Ke.y,Math.min(et||0,je||0,ut||0,ct||0)],[Je.x,Je.y,Math.max(et||0,je||0,ut||0,ct||0)]];let wt=s.Aabb.fromPoints(dt);const vt=H.getWorldToCameraMatrix(),Ct=s.invert(new Float64Array(16),vt);wt=s.Aabb.applyTransform(wt,vt);const Rt=s.sub([],wt.max,wt.min),Bt=ve.left||0,Ht=ve.right||0,Si=ve.bottom||0,Nt=ve.top||0,{left:oi,right:Jt,top:ui,bottom:Gt}=le.padding,Dt=.5*(Bt+Ht),Xt=.5*(Nt+Si),di=Math.min(H.scaleZoom(H.scale*Math.min((H.width-(Bt+Ht+oi+Jt))/Rt[0],(H.height-(Si+Nt+Gt+ui))/Rt[1])),le.maxZoom),fi=H.scale/H.zoomScale(di);wt=new s.Aabb([wt.min[0]-(oi+Dt)*fi,wt.min[1]-(Gt+Xt)*fi,wt.min[2]],[wt.max[0]+(Jt+Dt)*fi,wt.max[1]+(ui+Xt)*fi,wt.max[2]]);const $i=.5*Rt[2],Mn=this._minimumAABBFrustumDistance(H,wt),Fi=[0,0,1,0];s.transformMat4$1(Fi,Fi,vt),s.normalize$2(Fi,Fi);const zi=s.scale$2([],Fi,Mn+$i),Zi=s.add([],wt.center,zi),Rn=(typeof le.offset.x=="number"&&typeof le.offset.y=="number"?new s.pointGeometry(le.offset.x,le.offset.y):s.pointGeometry.convert(le.offset)).rotate(-s.degToRad(w));wt.center[0]-=Rn.x*fi,wt.center[1]+=Rn.y*fi,s.transformMat4(wt.center,wt.center,Ct),s.transformMat4(Zi,Zi,Ct);const nn=[wt.center[0],wt.center[1],Zi[2]*H.pixelsPerMeter];s.scale$2(nn,nn,1/H.worldSize);const er=s.lngFromMercatorX(nn[0]),tr=s.latFromMercatorY(nn[1]),br=Math.min(H._zoomFromMercatorZ(nn[2]),le.maxZoom),hr=new s.LngLat(er,tr);return H.mercatorFromTransition&&br<.5*(s.GLOBE_ZOOM_THRESHOLD_MIN+s.GLOBE_ZOOM_THRESHOLD_MAX)?(H.setProjection({name:"globe"}),H.zoom=br,this._cameraForBounds(H,d,_,w,E,N)):{center:hr,zoom:br,bearing:w,pitch:E}}fitBounds(o,d,_){const w=this.cameraForBounds(o,d);return this._fitInternal(w,d,_)}fitScreenCoordinates(o,d,_,w,E){const N=s.pointGeometry.convert(o),H=s.pointGeometry.convert(d),le=new s.pointGeometry(Math.min(N.x,H.x),Math.min(N.y,H.y)),ve=new s.pointGeometry(Math.max(N.x,H.x),Math.max(N.y,H.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(N,H))return this;const ye=this.transform.pointLocation3D(le),Pe=this.transform.pointLocation3D(ve),$e=this.transform.pointLocation3D(new s.pointGeometry(le.x,ve.y)),Ze=this.transform.pointLocation3D(new s.pointGeometry(ve.x,le.y)),Ke=[Math.min(ye.lng,Pe.lng,$e.lng,Ze.lng),Math.min(ye.lat,Pe.lat,$e.lat,Ze.lat)],Je=[Math.max(ye.lng,Pe.lng,$e.lng,Ze.lng),Math.max(ye.lat,Pe.lat,$e.lat,Ze.lat)],et=w&&w.pitch?w.pitch:this.getPitch(),je=this._cameraForBounds(this.transform,Ke,Je,_,et,w);return this._fitInternal(je,w,E)}_fitInternal(o,d,_){return o?(delete(d=s.extend(o,d)).padding,d.linear?this.easeTo(d,_):this.flyTo(d,_)):this}jumpTo(o,d){this.stop();const _=o.preloadOnly?this.transform.clone():this.transform;let w=!1,E=!1,N=!1;return"zoom"in o&&_.zoom!==+o.zoom&&(w=!0,_.zoom=+o.zoom),o.center!==void 0&&(_.center=s.LngLat.convert(o.center)),"bearing"in o&&_.bearing!==+o.bearing&&(E=!0,_.bearing=+o.bearing),"pitch"in o&&_.pitch!==+o.pitch&&(N=!0,_.pitch=+o.pitch),o.padding==null||_.isPaddingEqual(o.padding)||(_.padding=o.padding),o.preloadOnly?(this._preloadTiles(_),this):(this.fire(new s.Event("movestart",d)).fire(new s.Event("move",d)),w&&this.fire(new s.Event("zoomstart",d)).fire(new s.Event("zoom",d)).fire(new s.Event("zoomend",d)),E&&this.fire(new s.Event("rotatestart",d)).fire(new s.Event("rotate",d)).fire(new s.Event("rotateend",d)),N&&this.fire(new s.Event("pitchstart",d)).fire(new s.Event("pitch",d)).fire(new s.Event("pitchend",d)),this.fire(new s.Event("moveend",d)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||s.warnOnce(hp),this.transform.getFreeCameraOptions()}setFreeCameraOptions(o,d){const _=this.transform;if(!_.projection.supportsFreeCamera)return s.warnOnce(hp),this;this.stop();const w=_.zoom,E=_.pitch,N=_.bearing;_.setFreeCameraOptions(o);const H=w!==_.zoom,le=E!==_.pitch,ve=N!==_.bearing;return this.fire(new s.Event("movestart",d)).fire(new s.Event("move",d)),H&&this.fire(new s.Event("zoomstart",d)).fire(new s.Event("zoom",d)).fire(new s.Event("zoomend",d)),ve&&this.fire(new s.Event("rotatestart",d)).fire(new s.Event("rotate",d)).fire(new s.Event("rotateend",d)),le&&this.fire(new s.Event("pitchstart",d)).fire(new s.Event("pitch",d)).fire(new s.Event("pitchend",d)),this.fire(new s.Event("moveend",d)),this}easeTo(o,d){this._stop(!1,o.easeId),((o=s.extend({offset:[0,0],duration:500,easing:s.ease},o)).animate===!1||!o.essential&&s.exported.prefersReducedMotion)&&(o.duration=0);const _=this.transform,w=this.getZoom(),E=this.getBearing(),N=this.getPitch(),H=this.getPadding(),le="zoom"in o?+o.zoom:w,ve="bearing"in o?this._normalizeBearing(o.bearing,E):E,ye="pitch"in o?+o.pitch:N,Pe="padding"in o?o.padding:_.padding,$e=s.pointGeometry.convert(o.offset);let Ze,Ke,Je;if(_.projection.name==="globe"){const Bt=s.MercatorCoordinate.fromLngLat(_.center),Ht=$e.rotate(-_.angle);Bt.x+=Ht.x/_.worldSize,Bt.y+=Ht.y/_.worldSize;const Si=Bt.toLngLat(),Nt=s.LngLat.convert(o.center||Si);this._normalizeCenter(Nt),Ze=_.centerPoint.add(Ht),Ke=new s.pointGeometry(Bt.x,Bt.y).mult(_.worldSize),Je=new s.pointGeometry(s.mercatorXfromLng(Nt.lng),s.mercatorYfromLat(Nt.lat)).mult(_.worldSize).sub(Ke)}else{Ze=_.centerPoint.add($e);const Bt=_.pointLocation(Ze),Ht=s.LngLat.convert(o.center||Bt);this._normalizeCenter(Ht),Ke=_.project(Bt),Je=_.project(Ht).sub(Ke)}const et=_.zoomScale(le-w);let je,ut;o.around&&(je=s.LngLat.convert(o.around),ut=_.locationPoint(je));const ct=this._zooming||le!==w,dt=this._rotating||E!==ve,wt=this._pitching||ye!==N,vt=!_.isPaddingEqual(Pe),Ct=Bt=>Ht=>{if(ct&&(Bt.zoom=s.number(w,le,Ht)),dt&&(Bt.bearing=s.number(E,ve,Ht)),wt&&(Bt.pitch=s.number(N,ye,Ht)),vt&&(Bt.interpolatePadding(H,Pe,Ht),Ze=Bt.centerPoint.add($e)),je)Bt.setLocationAtPoint(je,ut);else{const Si=Bt.zoomScale(Bt.zoom-w),Nt=le>w?Math.min(2,et):Math.max(.5,et),oi=Math.pow(Nt,1-Ht),Jt=Bt.unproject(Ke.add(Je.mult(Ht*oi)).mult(Si));Bt.setLocationAtPoint(Bt.renderWorldCopies?Jt.wrap():Jt,Ze)}return o.preloadOnly||this._fireMoveEvents(d),Bt};if(o.preloadOnly){const Bt=this._emulate(Ct,o.duration,_);return this._preloadTiles(Bt),this}const Rt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=ct,this._rotating=dt,this._pitching=wt,this._padding=vt,this._easeId=o.easeId,this._prepareEase(d,o.noMoveStart,Rt),this._ease(Ct(_),Bt=>{_.recenterOnTerrain(),this._afterEase(d,Bt)},o),this}_prepareEase(o,d,_={}){this._moving=!0,this.transform.cameraElevationReference="sea",d||_.moving||this.fire(new s.Event("movestart",o)),this._zooming&&!_.zooming&&this.fire(new s.Event("zoomstart",o)),this._rotating&&!_.rotating&&this.fire(new s.Event("rotatestart",o)),this._pitching&&!_.pitching&&this.fire(new s.Event("pitchstart",o))}_fireMoveEvents(o){this.fire(new s.Event("move",o)),this._zooming&&this.fire(new s.Event("zoom",o)),this._rotating&&this.fire(new s.Event("rotate",o)),this._pitching&&this.fire(new s.Event("pitch",o))}_afterEase(o,d){if(this._easeId&&d&&this._easeId===d)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const _=this._zooming,w=this._rotating,E=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,_&&this.fire(new s.Event("zoomend",o)),w&&this.fire(new s.Event("rotateend",o)),E&&this.fire(new s.Event("pitchend",o)),this.fire(new s.Event("moveend",o))}flyTo(o,d){if(!o.essential&&s.exported.prefersReducedMotion){const di=s.pick(o,["center","zoom","bearing","pitch","around"]);return this.jumpTo(di,d)}this.stop(),o=s.extend({offset:[0,0],speed:1.2,curve:1.42,easing:s.ease},o);const _=this.transform,w=this.getZoom(),E=this.getBearing(),N=this.getPitch(),H=this.getPadding(),le="zoom"in o?s.clamp(+o.zoom,_.minZoom,_.maxZoom):w,ve="bearing"in o?this._normalizeBearing(o.bearing,E):E,ye="pitch"in o?+o.pitch:N,Pe="padding"in o?o.padding:_.padding,$e=_.zoomScale(le-w),Ze=s.pointGeometry.convert(o.offset);let Ke=_.centerPoint.add(Ze);const Je=_.pointLocation(Ke),et=s.LngLat.convert(o.center||Je);this._normalizeCenter(et);const je=_.project(Je),ut=_.project(et).sub(je);let ct=o.curve;const dt=Math.max(_.width,_.height),wt=dt/$e,vt=ut.mag();if("minZoom"in o){const di=s.clamp(Math.min(o.minZoom,w,le),_.minZoom,_.maxZoom),fi=dt/_.zoomScale(di-w);ct=Math.sqrt(fi/vt*2)}const Ct=ct*ct;function Rt(di){const fi=(wt*wt-dt*dt+(di?-1:1)*Ct*Ct*vt*vt)/(2*(di?wt:dt)*Ct*vt);return Math.log(Math.sqrt(fi*fi+1)-fi)}function Bt(di){return(Math.exp(di)-Math.exp(-di))/2}function Ht(di){return(Math.exp(di)+Math.exp(-di))/2}const Si=Rt(0);let Nt=function(di){return Ht(Si)/Ht(Si+ct*di)},oi=function(di){return dt*((Ht(Si)*(Bt(fi=Si+ct*di)/Ht(fi))-Bt(Si))/Ct)/vt;var fi},Jt=(Rt(1)-Si)/ct;if(Math.abs(vt)<1e-6||!isFinite(Jt)){if(Math.abs(dt-wt)<1e-6)return this.easeTo(o,d);const di=wt<dt?-1:1;Jt=Math.abs(Math.log(wt/dt))/ct,oi=function(){return 0},Nt=function(fi){return Math.exp(di*ct*fi)}}o.duration="duration"in o?+o.duration:1e3*Jt/("screenSpeed"in o?+o.screenSpeed/ct:+o.speed),o.maxDuration&&o.duration>o.maxDuration&&(o.duration=0);const ui=E!==ve,Gt=ye!==N,Dt=!_.isPaddingEqual(Pe),Xt=di=>fi=>{const $i=fi*Jt,Mn=1/Nt($i);di.zoom=fi===1?le:w+di.scaleZoom(Mn),ui&&(di.bearing=s.number(E,ve,fi)),Gt&&(di.pitch=s.number(N,ye,fi)),Dt&&(di.interpolatePadding(H,Pe,fi),Ke=di.centerPoint.add(Ze));const Fi=fi===1?et:di.unproject(je.add(ut.mult(oi($i))).mult(Mn));return di.setLocationAtPoint(di.renderWorldCopies?Fi.wrap():Fi,Ke),di._updateCameraOnTerrain(),o.preloadOnly||this._fireMoveEvents(d),di};if(o.preloadOnly){const di=this._emulate(Xt,o.duration,_);return this._preloadTiles(di),this}return this._zooming=!0,this._rotating=ui,this._pitching=Gt,this._padding=Dt,this._prepareEase(d,!1),this._ease(Xt(_),()=>this._afterEase(d),o),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(o,d){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const _=this._onEaseEnd;this._onEaseEnd=void 0,_.call(this,d)}if(!o){const _=this.handlers;_&&_.stop(!1)}return this}_ease(o,d,_){_.animate===!1||_.duration===0?(o(1),d()):(this._easeStart=s.exported.now(),this._easeOptions=_,this._onEaseFrame=o,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const o=Math.min((s.exported.now()-this._easeStart)/this._easeOptions.duration,1),d=this._onEaseFrame;d&&d(this._easeOptions.easing(o)),o<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(o,d){o=s.wrap(o,-180,180);const _=Math.abs(o-d);return Math.abs(o-360-d)<_&&(o-=360),Math.abs(o+360-d)<_&&(o+=360),o}_normalizeCenter(o){const d=this.transform;if(!d.renderWorldCopies||d.maxBounds)return;const _=o.lng-d.center.lng;o.lng+=_>180?-360:_<-180?360:0}_emulate(o,d,_){const w=Math.ceil(15*d/1e3),E=[],N=o(_.clone());for(let H=0;H<=w;H++){const le=N(H/w);E.push(le.clone())}return E}}class dp{constructor(o={}){this.options=o,s.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(o){const d=this.options&&this.options.compact;return this._map=o,this._container=Z("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=Z("button","mapboxgl-ctrl-attrib-button",this._container),Z("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=Z("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),d&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),d===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(o,d){const _=this._map._getUIString(`AttributionControl.${d}`);o.setAttribute("aria-label",_),o.removeAttribute("title"),o.firstElementChild&&o.firstElementChild.setAttribute("title",_)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let o=this._editLink;o||(o=this._editLink=this._container.querySelector(".mapbox-improve-map"));const d=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||s.config.ACCESS_TOKEN}];if(o){const _=d.reduce((w,E,N)=>(E.value&&(w+=`${E.key}=${E.value}${N<d.length-1?"&":""}`),w),"?");o.href=`${s.config.FEEDBACK_URL}/${_}#${bh(this._map,!0)}`,o.rel="noopener nofollow",this._setElementTitle(o,"MapFeedback")}}_updateData(o){!o||o.sourceDataType!=="metadata"&&o.sourceDataType!=="visibility"&&o.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let o=[];if(this._map.style.stylesheet){const w=this._map.style.stylesheet;this.styleOwner=w.owner,this.styleId=w.id}const d=this._map.style._sourceCaches;for(const w in d){const E=d[w];if(E.used){const N=E.getSource();N.attribution&&o.indexOf(N.attribution)<0&&o.push(N.attribution)}}o.sort((w,E)=>w.length-E.length),o=o.filter((w,E)=>{for(let N=E+1;N<o.length;N++)if(o[N].indexOf(w)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?o=[...this.options.customAttribution,...o]:o.unshift(this.options.customAttribution));const _=o.join(" | ");_!==this._attribHTML&&(this._attribHTML=_,o.length?(this._innerContainer.innerHTML=_,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class up{constructor(){s.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(o){this._map=o,this._container=Z("div","mapboxgl-ctrl");const d=Z("a","mapboxgl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://www.mapbox.com/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(o){o&&o.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const o=this._map.style._sourceCaches;if(Object.entries(o).length===0)return!0;for(const d in o){const _=o[d].getSource();if(_.hasOwnProperty("mapbox_logo")&&!_.mapbox_logo)return!1}return!0}_updateCompact(){const o=this._container.children;if(o.length){const d=o[0];this._map.getCanvasContainer().offsetWidth<250?d.classList.add("mapboxgl-compact"):d.classList.remove("mapboxgl-compact")}}}class wd{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(o){const d=++this._id;return this._queue.push({callback:o,id:d,cancelled:!1}),d}remove(o){const d=this._currentlyRunning,_=d?this._queue.concat(d):this._queue;for(const w of _)if(w.id===o)return void(w.cancelled=!0)}run(o=0){const d=this._currentlyRunning=this._queue;this._queue=[];for(const _ of d)if(!_.cancelled&&(_.callback(o),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Qa(m,o,d){if(m=new s.LngLat(m.lng,m.lat),o){const _=new s.LngLat(m.lng-360,m.lat),w=new s.LngLat(m.lng+360,m.lat),E=360*Math.ceil(Math.abs(m.lng-d.center.lng)/360),N=d.locationPoint(m).distSqr(o),H=o.x<0||o.y<0||o.x>d.width||o.y>d.height;d.locationPoint(_).distSqr(o)<N&&(H||Math.abs(_.lng-d.center.lng)<E)?m=_:d.locationPoint(w).distSqr(o)<N&&(H||Math.abs(w.lng-d.center.lng)<E)&&(m=w)}for(;Math.abs(m.lng-d.center.lng)>180;){const _=d.locationPoint(m);if(_.x>=0&&_.y>=0&&_.x<=d.width&&_.y<=d.height)break;m.lng>d.center.lng?m.lng-=360:m.lng+=360}return m}const Mh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class ou extends s.Evented{constructor(o,d){if(super(),(o instanceof s.window.HTMLElement||d)&&(o=s.extend({element:o},d)),s.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=o&&o.anchor||"center",this._color=o&&o.color||"#3FB1CE",this._scale=o&&o.scale||1,this._draggable=o&&o.draggable||!1,this._clickTolerance=o&&o.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=o&&o.rotation||0,this._rotationAlignment=o&&o.rotationAlignment||"auto",this._pitchAlignment=o&&o.pitchAlignment&&o.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=o&&o.occludedOpacity||.2,o&&o.element)this._element=o.element,this._offset=s.pointGeometry.convert(o&&o.offset||[0,0]);else{this._defaultMarker=!0,this._element=Z("div");const w=41,E=27,N=ne("svg",{display:"block",height:w*this._scale+"px",width:E*this._scale+"px",viewBox:`0 0 ${E} ${w}`},this._element),H=ne("radialGradient",{id:"shadowGradient"},ne("defs",{},N));ne("stop",{offset:"10%","stop-opacity":.4},H),ne("stop",{offset:"100%","stop-opacity":.05},H),ne("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},N),ne("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},N),ne("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},N),ne("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},N),this._offset=s.pointGeometry.convert(o&&o.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",w=>{w.preventDefault()}),this._element.addEventListener("mousedown",w=>{w.preventDefault()});const _=this._element.classList;for(const w in Mh)_.remove(`mapboxgl-marker-anchor-${w}`);_.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(o){return o===this._map||(this.remove(),this._map=o,o.getCanvasContainer().appendChild(this._element),o.on("move",this._updateMoving),o.on("moveend",this._update),o.on("remove",this._clearFadeTimer),o._addMarker(this),this.setDraggable(this._draggable),this._update(),o.on("click",this._onMapClick)),this}remove(){const o=this._map;return o&&(o.off("click",this._onMapClick),o.off("move",this._updateMoving),o.off("moveend",this._update),o.off("mousedown",this._addDragHandler),o.off("touchstart",this._addDragHandler),o.off("mouseup",this._onUp),o.off("touchend",this._onUp),o.off("mousemove",this._onMove),o.off("touchmove",this._onMove),o.off("remove",this._clearFadeTimer),o._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(o){return this._lngLat=s.LngLat.convert(o),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(o){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),o){if(!("offset"in o.options)){const w=Math.sqrt(Math.pow(13.5,2)/2);o.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[w,-1*(38.1-13.5+w)],"bottom-right":[-w,-1*(38.1-13.5+w)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=o,o._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(o){const d=o.code,_=o.charCode||o.keyCode;d!=="Space"&&d!=="Enter"&&_!==32&&_!==13||this.togglePopup()}_onMapClick(o){const d=o.originalEvent.target,_=this._element;this._popup&&(d===_||_.contains(d))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const o=this._popup;return o?(o.isOpen()?(o.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(o.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const o=this._map,d=this._pos;if(!o||!d)return!1;const _=o.unproject(d),w=o.getFreeCameraOptions();if(!w.position)return!1;const E=w.position.toLngLat();return E.distanceTo(_)<.9*E.distanceTo(this._lngLat)}_evaluateOpacity(){const o=this._map;if(!o)return;const d=this._pos;if(!d||d.x<0||d.x>o.transform.width||d.y<0||d.y>o.transform.height)return void this._clearFadeTimer();const _=o.unproject(d);let w;o._showingGlobe()&&s.isLngLatBehindGlobe(o.transform,this._lngLat)?w=0:(w=1-o._queryFogOpacity(_),o.transform._terrainEnabled()&&o.getTerrain()&&this._behindTerrain()&&(w*=this._occludedOpacity)),this._element.style.opacity=`${w}`,this._element.style.pointerEvents=w>0?"auto":"none",this._popup&&this._popup._setOpacity(w),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const o=this._pos;if(!o||!this._map)return;const d=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${o.x}px,${o.y}px)
            ${Mh[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${d.x}px,${d.y}px)
        `}_calculateXYTransform(){const o=this._pos,d=this._map,_=this.getPitchAlignment();if(!d||!o||_!=="map")return"";if(!d._showingGlobe()){const le=d.getPitch();return le?`rotateX(${le}deg)`:""}const w=s.radToDeg(s.globeTiltAtLngLat(d.transform,this._lngLat)),E=o.sub(s.globeCenterToScreenPoint(d.transform)),N=Math.abs(E.x)+Math.abs(E.y);if(N===0)return"";const H=w/N;return`rotateX(${-E.y*H}deg) rotateY(${E.x*H}deg)`}_calculateZTransform(){const o=this._pos,d=this._map;if(!d||!o)return"";let _=0;const w=this.getRotationAlignment();if(w==="map")if(d._showingGlobe()){const E=d.project(new s.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),N=d.project(new s.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(E);_=s.radToDeg(Math.atan2(N.y,N.x))-90}else _=-d.getBearing();else if(w==="horizon"){const E=s.smoothstep(4,6,d.getZoom()),N=s.globeCenterToScreenPoint(d.transform);N.y+=E*d.transform.height;const H=o.sub(N),le=s.radToDeg(Math.atan2(H.y,H.x));_=(le>90?le-270:le+90)*(1-E)}return _+=this._rotation,_?`rotateZ(${_}deg)`:""}_update(o){s.window.cancelAnimationFrame(this._updateFrameId);const d=this._map;d&&(d.transform.renderWorldCopies&&(this._lngLat=Qa(this._lngLat,this._pos,d.transform)),this._pos=d.project(this._lngLat),o===!0?this._updateFrameId=s.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),d._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(d._showingGlobe()||d.getTerrain()||d.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(o){return this._offset=s.pointGeometry.convert(o),this._update(),this}_onMove(o){const d=this._map;if(!d)return;const _=this._pointerdownPos,w=this._positionDelta;if(_&&w){if(!this._isDragging){const E=this._clickTolerance||d._clickTolerance;if(o.point.dist(_)<E)return;this._isDragging=!0}this._pos=o.point.sub(w),this._lngLat=d.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.Event("dragstart"))),this.fire(new s.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const o=this._map;o&&(o.off("mousemove",this._onMove),o.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new s.Event("dragend")),this._state="inactive"}_addDragHandler(o){const d=this._map,_=this._pos;d&&_&&this._element.contains(o.originalEvent.target)&&(o.preventDefault(),this._positionDelta=o.point.sub(_),this._pointerdownPos=o.point,this._state="pending",d.on("mousemove",this._onMove),d.on("touchmove",this._onMove),d.once("mouseup",this._onUp),d.once("touchend",this._onUp))}setDraggable(o){this._draggable=!!o;const d=this._map;return d&&(o?(d.on("mousedown",this._addDragHandler),d.on("touchstart",this._addDragHandler)):(d.off("mousedown",this._addDragHandler),d.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(o){return this._rotation=o||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(o){return this._rotationAlignment=o||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(o){return this._pitchAlignment=o||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(o){return this._occludedOpacity=o||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const na={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Af=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function pp(m=new s.pointGeometry(0,0),o="bottom"){if(typeof m=="number"){const d=Math.round(Math.sqrt(.5*Math.pow(m,2)));switch(o){case"top":return new s.pointGeometry(0,m);case"top-left":return new s.pointGeometry(d,d);case"top-right":return new s.pointGeometry(-d,d);case"bottom":return new s.pointGeometry(0,-m);case"bottom-left":return new s.pointGeometry(d,-d);case"bottom-right":return new s.pointGeometry(-d,-d);case"left":return new s.pointGeometry(m,0);case"right":return new s.pointGeometry(-m,0)}return new s.pointGeometry(0,0)}return m instanceof s.pointGeometry||Array.isArray(m)?s.pointGeometry.convert(m):s.pointGeometry.convert(m[o]||[0,0])}class kf{constructor(o){this.jumpTo(o)}getValue(o){if(o<=this._startTime)return this._start;if(o>=this._endTime)return this._end;const d=s.easeCubicInOut((o-this._startTime)/(this._endTime-this._startTime));return this._start*(1-d)+this._end*d}isEasing(o){return o>=this._startTime&&o<=this._endTime}jumpTo(o){this._startTime=-1/0,this._endTime=-1/0,this._start=o,this._end=o}easeTo(o,d,_){this._start=this.getValue(d),this._end=o,this._startTime=d,this._endTime=d+_}}const Pf={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},If={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},au={showCompass:!0,showZoom:!0,visualizePitch:!1};class fp{constructor(o,d,_=!1){this._clickTolerance=10,this.element=d,this.mouseRotate=new ap({clickTolerance:o.dragRotate._mouseRotate._clickTolerance}),this.map=o,_&&(this.mousePitch=new lp({clickTolerance:o.dragRotate._mousePitch._clickTolerance})),s.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),d.addEventListener("mousedown",this.mousedown),d.addEventListener("touchstart",this.touchstart,{passive:!1}),d.addEventListener("touchmove",this.touchmove),d.addEventListener("touchend",this.touchend),d.addEventListener("touchcancel",this.reset)}down(o,d){this.mouseRotate.mousedown(o,d),this.mousePitch&&this.mousePitch.mousedown(o,d),B()}move(o,d){const _=this.map,w=this.mouseRotate.mousemoveWindow(o,d),E=w&&w.bearingDelta;if(E&&_.setBearing(_.getBearing()+E),this.mousePitch){const N=this.mousePitch.mousemoveWindow(o,d),H=N&&N.pitchDelta;H&&_.setPitch(_.getPitch()+H)}}off(){const o=this.element;o.removeEventListener("mousedown",this.mousedown),o.removeEventListener("touchstart",this.touchstart,{passive:!1}),o.removeEventListener("touchmove",this.touchmove),o.removeEventListener("touchend",this.touchend),o.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){P(),s.window.removeEventListener("mousemove",this.mousemove),s.window.removeEventListener("mouseup",this.mouseup)}mousedown(o){this.down(s.extend({},o,{ctrlKey:!0,preventDefault:()=>o.preventDefault()}),R(this.element,o)),s.window.addEventListener("mousemove",this.mousemove),s.window.addEventListener("mouseup",this.mouseup)}mousemove(o){this.move(o,R(this.element,o))}mouseup(o){this.mouseRotate.mouseupWindow(o),this.mousePitch&&this.mousePitch.mouseupWindow(o),this.offTemp()}touchstart(o){o.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=se(this.element,o.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>o.preventDefault()},this._startPos))}touchmove(o){o.targetTouches.length!==1?this.reset():(this._lastPos=se(this.element,o.targetTouches)[0],this.move({preventDefault:()=>o.preventDefault()},this._lastPos))}touchend(o){o.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const Lf={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Df={maxWidth:100,unit:"metric"};function lu(m,o,d){const _=ac(o),w=_/o,E={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[d];this._map._requestDomTask(()=>{this._container.style.width=m*w+"px",this._container.innerHTML=`${_}&nbsp;${E}`})}function ac(m){const o=Math.pow(10,`${Math.floor(m)}`.length-1);let d=m/o;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:d>=1?1:function(_){const w=Math.pow(10,Math.ceil(-Math.log(_)/Math.LN10));return Math.round(_*w)/w}(d),o*d}const lc={version:s.version,supported:L,setRTLTextPlugin:s.setRTLTextPlugin,getRTLTextPluginStatus:s.getRTLTextPluginStatus,Map:class extends Mf{constructor(m){if(s.LivePerformanceUtils.mark(s.PerformanceMarkers.create),(m=s.extend({},If,m)).minZoom!=null&&m.maxZoom!=null&&m.minZoom>m.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(m.minPitch!=null&&m.maxPitch!=null&&m.minPitch>m.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(m.minPitch!=null&&m.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(m.maxPitch!=null&&m.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(m.antialias&&s.isSafariWithAntialiasingBug(s.window)&&(m.antialias=!1,s.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Oi(m.minZoom,m.maxZoom,m.minPitch,m.maxPitch,m.renderWorldCopies),m),this._interactive=m.interactive,this._minTileCacheSize=m.minTileCacheSize,this._maxTileCacheSize=m.maxTileCacheSize,this._failIfMajorPerformanceCaveat=m.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=m.preserveDrawingBuffer,this._antialias=m.antialias,this._useWebGL2=m.useWebGL2,this._trackResize=m.trackResize,this._bearingSnap=m.bearingSnap,this._refreshExpiredTiles=m.refreshExpiredTiles,this._fadeDuration=m.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=m.crossSourceCollisions,this._collectResourceTiming=m.collectResourceTiming,this._optimizeForTerrain=m.optimizeForTerrain,this._language=this._parseLanguage(m.language),this._worldview=m.worldview,this._renderTaskQueue=new wd,this._domRenderTaskQueue=new wd,this._controls=[],this._markers=[],this._popups=[],this._mapId=s.uniqueId(),this._locale=s.extend({},Pf,m.locale),this._clickTolerance=m.clickTolerance,this._cooperativeGestures=m.cooperativeGestures,this._performanceMetricsCollection=m.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new kf(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new s.RequestManager(m.transformRequest,m.accessToken,m.testMode),this._silenceAuthErrors=!!m.testMode,typeof m.container=="string"){if(this._container=s.window.document.getElementById(m.container),!this._container)throw new Error(`Container '${m.container}' not found.`)}else{if(!(m.container instanceof s.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=m.container}if(this._container.childNodes.length>0&&s.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),m.maxBounds&&this.setMaxBounds(m.maxBounds),s.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),s.window!==void 0&&(s.window.addEventListener("online",this._onWindowOnline,!1),s.window.addEventListener("resize",this._onWindowResize,!1),s.window.addEventListener("orientationchange",this._onWindowResize,!1),s.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),s.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Ja(this,m),this._localFontFamily=m.localFontFamily,this._localIdeographFontFamily=m.localIdeographFontFamily,m.style&&this.setStyle(m.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),m.projection&&this.setProjection(m.projection),this._hash=m.hash&&new pd(typeof m.hash=="string"&&m.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:m.center,zoom:m.zoom,bearing:m.bearing,pitch:m.pitch}),m.bounds&&(this.resize(),this.fitBounds(m.bounds,s.extend({},m.fitBoundsOptions,{duration:0})))),this.resize(),m.attributionControl&&this.addControl(new dp({customAttribution:m.customAttribution})),this._logoControl=new up,this.addControl(this._logoControl,m.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",o=>{this._update(o.dataType==="style"),this.fire(new s.Event(`${o.dataType}data`,o))}),this.on("dataloading",o=>{this.fire(new s.Event(`${o.dataType}dataloading`,o))})}_getMapId(){return this._mapId}addControl(m,o){if(o===void 0&&(o=m.getDefaultPosition?m.getDefaultPosition():"top-right"),!m||!m.onAdd)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const d=m.onAdd(this);this._controls.push(m);const _=this._controlPositions[o];return o.indexOf("bottom")!==-1?_.insertBefore(d,_.firstChild):_.appendChild(d),this}removeControl(m){if(!m||!m.onRemove)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const o=this._controls.indexOf(m);return o>-1&&this._controls.splice(o,1),m.onRemove(this),this}hasControl(m){return this._controls.indexOf(m)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(m){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const o=!this._moving;return o&&this.fire(new s.Event("movestart",m)).fire(new s.Event("move",m)),this.fire(new s.Event("resize",m)),o&&this.fire(new s.Event("moveend",m)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(m){return this.transform.setMaxBounds(s.LngLatBounds.convert(m)),this._update()}setMinZoom(m){if((m=m??-2)>=-2&&m<=this.transform.maxZoom)return this.transform.minZoom=m,this._update(),this.getZoom()<m?this.setZoom(m):this.fire(new s.Event("zoomstart")).fire(new s.Event("zoom")).fire(new s.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(m){if((m=m??22)>=this.transform.minZoom)return this.transform.maxZoom=m,this._update(),this.getZoom()>m?this.setZoom(m):this.fire(new s.Event("zoomstart")).fire(new s.Event("zoom")).fire(new s.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(m){if((m=m??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(m>=0&&m<=this.transform.maxPitch)return this.transform.minPitch=m,this._update(),this.getPitch()<m?this.setPitch(m):this.fire(new s.Event("pitchstart")).fire(new s.Event("pitch")).fire(new s.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(m){if((m=m??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(m>=this.transform.minPitch)return this.transform.maxPitch=m,this._update(),this.getPitch()>m?this.setPitch(m):this.fire(new s.Event("pitchstart")).fire(new s.Event("pitch")).fire(new s.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(m){return this.transform.renderWorldCopies=m,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(m){return m==="auto"?s.window.navigator.language:Array.isArray(m)?m.length===0?void 0:m.map(o=>o==="auto"?s.window.navigator.language:o):m}setLanguage(m){const o=this._parseLanguage(m);if(!this.style||o===this._language)return this;this._language=o,this.style._reloadSources();for(const d of this._controls)d._setLanguage&&d._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(m){return this.style&&m!==this._worldview?(this._worldview=m,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(m){return this._lazyInitEmptyStyle(),m?typeof m=="string"&&(m={name:m}):m=null,this._useExplicitProjection=!!m,this._prioritizeAndUpdateProjection(m,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const m=this.transform,o=m.projection.name;let d;o==="globe"&&m.zoom>=s.GLOBE_ZOOM_THRESHOLD_MAX?(m.setMercatorFromTransition(),d=!0):o==="mercator"&&m.zoom<s.GLOBE_ZOOM_THRESHOLD_MAX&&(m.setProjection({name:"globe"}),d=!0),d&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(m,o){return this._updateProjection(m||o||{name:"mercator"})}_updateProjection(m){let o;if(o=m.name==="globe"&&this.transform.zoom>=s.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(m),this.style.applyProjectionUpdate(),o){this.painter.clearBackgroundTiles();for(const d in this.style._sourceCaches)this.style._sourceCaches[d].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(m){return this.transform.locationPoint3D(s.LngLat.convert(m))}unproject(m){return this.transform.pointLocation3D(s.pointGeometry.convert(m))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(m,o,d){if(m==="mouseenter"||m==="mouseover"){let _=!1;const w=N=>{const H=o.filter(ve=>this.getLayer(ve)),le=H.length?this.queryRenderedFeatures(N.point,{layers:H}):[];le.length?_||(_=!0,d.call(this,new Rs(m,this,N.originalEvent,{features:le}))):_=!1},E=()=>{_=!1};return{layers:new Set(o),listener:d,delegates:{mousemove:w,mouseout:E}}}if(m==="mouseleave"||m==="mouseout"){let _=!1;const w=N=>{const H=o.filter(le=>this.getLayer(le));(H.length?this.queryRenderedFeatures(N.point,{layers:H}):[]).length?_=!0:_&&(_=!1,d.call(this,new Rs(m,this,N.originalEvent)))},E=N=>{_&&(_=!1,d.call(this,new Rs(m,this,N.originalEvent)))};return{layers:new Set(o),listener:d,delegates:{mousemove:w,mouseout:E}}}{const _=w=>{const E=o.filter(H=>this.getLayer(H)),N=E.length?this.queryRenderedFeatures(w.point,{layers:E}):[];N.length&&(w.features=N,d.call(this,w),delete w.features)};return{layers:new Set(o),listener:d,delegates:{[m]:_}}}}on(m,o,d){if(d===void 0)return super.on(m,o);Array.isArray(o)||(o=[o]);const _=this._createDelegatedListener(m,o,d);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[m]=this._delegatedListeners[m]||[],this._delegatedListeners[m].push(_);for(const w in _.delegates)this.on(w,_.delegates[w]);return this}once(m,o,d){if(d===void 0)return super.once(m,o);Array.isArray(o)||(o=[o]);const _=this._createDelegatedListener(m,o,d);for(const w in _.delegates)this.once(w,_.delegates[w]);return this}off(m,o,d){if(d===void 0)return super.off(m,o);o=new Set(Array.isArray(o)?o:[o]);const _=(E,N)=>{if(E.size!==N.size)return!1;for(const H of E)if(!N.has(H))return!1;return!0},w=this._delegatedListeners?this._delegatedListeners[m]:void 0;return w&&(E=>{for(let N=0;N<E.length;N++){const H=E[N];if(H.listener===d&&_(H.layers,o)){for(const le in H.delegates)this.off(le,H.delegates[le]);return E.splice(N,1),this}}})(w),this}queryRenderedFeatures(m,o){return this.style?(o!==void 0||m===void 0||m instanceof s.pointGeometry||Array.isArray(m)||(o=m,m=void 0),this.style.queryRenderedFeatures(m=m||[[0,0],[this.transform.width,this.transform.height]],o=o||{},this.transform)):[]}querySourceFeatures(m,o){return this.style.querySourceFeatures(m,o)}setStyle(m,o){return(o=s.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},o)).diff!==!1&&o.localIdeographFontFamily===this._localIdeographFontFamily&&o.localFontFamily===this._localFontFamily&&this.style&&m?(this._diffStyle(m,o),this):(this._localIdeographFontFamily=o.localIdeographFontFamily,this._localFontFamily=o.localFontFamily,this._updateStyle(m,o))}_getUIString(m){const o=this._locale[m];if(o==null)throw new Error(`Missing UI string '${m}'`);return o}_updateStyle(m,o){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),m&&(this.style=new os(this,o||{}),this.style.setEventedParent(this,{style:this.style}),typeof m=="string"?this.style.loadURL(m):this.style.loadJSON(m)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new os(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(m,o){if(typeof m=="string"){const d=this._requestManager.normalizeStyleURL(m),_=this._requestManager.transformRequest(d,s.ResourceType.Style);s.getJSON(_,(w,E)=>{w?this.fire(new s.ErrorEvent(w)):E&&this._updateDiff(E,o)})}else typeof m=="object"&&this._updateDiff(m,o)}_updateDiff(m,o){try{this.style.setState(m)&&this._update(!0)}catch(d){s.warnOnce(`Unable to perform style diff: ${d.message||d.error||d}.  Rebuilding the style from scratch.`),this._updateStyle(m,o)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(s.warnOnce("There is no style added to the map."),!1)}addSource(m,o){return this._lazyInitEmptyStyle(),this.style.addSource(m,o),this._update(!0)}isSourceLoaded(m){return!!this.style&&this.style._isSourceCacheLoaded(m)}areTilesLoaded(){const m=this.style&&this.style._sourceCaches;for(const o in m){const d=m[o]._tiles;for(const _ in d){const w=d[_];if(w.state!=="loaded"&&w.state!=="errored")return!1}}return!0}addSourceType(m,o,d){this._lazyInitEmptyStyle(),this.style.addSourceType(m,o,d)}removeSource(m){return this.style.removeSource(m),this._updateTerrain(),this._update(!0)}getSource(m){return this.style.getSource(m)}addImage(m,o,{pixelRatio:d=1,sdf:_=!1,stretchX:w,stretchY:E,content:N}={}){if(this._lazyInitEmptyStyle(),o instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&o instanceof s.window.ImageBitmap){const{width:H,height:le,data:ve}=s.exported.getImageData(o);this.style.addImage(m,{data:new s.RGBAImage({width:H,height:le},ve),pixelRatio:d,stretchX:w,stretchY:E,content:N,sdf:_,version:0})}else if(o.width===void 0||o.height===void 0)this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:H,height:le}=o,ve=o;this.style.addImage(m,{data:new s.RGBAImage({width:H,height:le},new Uint8Array(ve.data)),pixelRatio:d,stretchX:w,stretchY:E,content:N,sdf:_,version:0,userImage:ve}),ve.onAdd&&ve.onAdd(this,m)}}updateImage(m,o){const d=this.style.getImage(m);if(!d)return void this.fire(new s.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const _=o instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&o instanceof s.window.ImageBitmap?s.exported.getImageData(o):o,{width:w,height:E}=_;w!==void 0&&E!==void 0?w===d.data.width&&E===d.data.height?(d.data.replace(_.data,!(o instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&o instanceof s.window.ImageBitmap)),this.style.updateImage(m,d)):this.fire(new s.ErrorEvent(new Error(`The width and height of the updated image (${w}, ${E})
                must be that same as the previous version of the image
                (${d.data.width}, ${d.data.height})`))):this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(m){return m?!!this.style.getImage(m):(this.fire(new s.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(m){this.style.removeImage(m)}loadImage(m,o){s.getImage(this._requestManager.transformRequest(m,s.ResourceType.Image),(d,_)=>{o(d,_ instanceof s.window.HTMLImageElement?s.exported.getImageData(_):_)})}listImages(){return this.style.listImages()}addLayer(m,o){return this._lazyInitEmptyStyle(),this.style.addLayer(m,o),this._update(!0)}moveLayer(m,o){return this.style.moveLayer(m,o),this._update(!0)}removeLayer(m){return this.style.removeLayer(m),this._update(!0)}getLayer(m){return this.style.getLayer(m)}setLayerZoomRange(m,o,d){return this.style.setLayerZoomRange(m,o,d),this._update(!0)}setFilter(m,o,d={}){return this.style.setFilter(m,o,d),this._update(!0)}getFilter(m){return this.style.getFilter(m)}setPaintProperty(m,o,d,_={}){return this.style.setPaintProperty(m,o,d,_),this._update(!0)}getPaintProperty(m,o){return this.style.getPaintProperty(m,o)}setLayoutProperty(m,o,d,_={}){return this.style.setLayoutProperty(m,o,d,_),this._update(!0)}getLayoutProperty(m,o){return this.style.getLayoutProperty(m,o)}setLight(m,o={}){return this._lazyInitEmptyStyle(),this.style.setLight(m,o),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(m){return this._lazyInitEmptyStyle(),!m&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(m),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(m){return this._lazyInitEmptyStyle(),this.style.setFog(m),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(m){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(s.LngLat.convert(m),this.transform):0}setFeatureState(m,o){return this.style.setFeatureState(m,o),this._update()}removeFeatureState(m,o){return this.style.removeFeatureState(m,o),this._update()}getFeatureState(m){return this.style.getFeatureState(m)}_updateContainerDimensions(){if(!this._container)return;const m=this._container.getBoundingClientRect().width||400,o=this._container.getBoundingClientRect().height||300;let d,_,w,E=this._container;for(;E&&(!_||!w);){const N=s.window.getComputedStyle(E).transform;N&&N!=="none"&&(d=N.match(/matrix.*\((.+)\)/)[1].split(", "),d[0]&&d[0]!=="0"&&d[0]!=="1"&&(_=d[0]),d[3]&&d[3]!=="0"&&d[3]!=="1"&&(w=d[3])),E=E.parentElement}this._containerWidth=_?Math.abs(m/_):m,this._containerHeight=w?Math.abs(o/w):o}_detectMissingCSS(){s.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&s.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const m=this._container;m.classList.add("mapboxgl-map"),(this._missingCSSCanary=Z("div","mapboxgl-canary",m)).style.visibility="hidden",this._detectMissingCSS();const o=this._canvasContainer=Z("div","mapboxgl-canvas-container",m);this._interactive&&o.classList.add("mapboxgl-interactive"),this._canvas=Z("canvas","mapboxgl-canvas",o),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const d=this._controlContainer=Z("div","mapboxgl-control-container",m),_=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(w=>{_[w]=Z("div",`mapboxgl-ctrl-${w}`,d)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(m,o){const d=s.exported.devicePixelRatio||1;this._canvas.width=d*Math.ceil(m),this._canvas.height=d*Math.ceil(o),this._canvas.style.width=`${m}px`,this._canvas.style.height=`${o}px`}_addMarker(m){this._markers.push(m)}_removeMarker(m){const o=this._markers.indexOf(m);o!==-1&&this._markers.splice(o,1)}_addPopup(m){this._popups.push(m)}_removePopup(m){const o=this._popups.indexOf(m);o!==-1&&this._popups.splice(o,1)}_setupPainter(){const m=s.extend({},L.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),o=this._useWebGL2&&this._canvas.getContext("webgl2",m),d=o||this._canvas.getContext("webgl",m)||this._canvas.getContext("experimental-webgl",m);d?(this._useWebGL2&&!o&&s.warnOnce("Failed to create WebGL 2 context. Using WebGL 1."),s.storeAuthState(d,!0),this.painter=new ic(d,this.transform,!!o),this.on("data",_=>{_.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),s.exported$1.testSupport(d)):this.fire(new s.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(m){m.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new s.Event("webglcontextlost",{originalEvent:m}))}_contextRestored(m){this._setupPainter(),this.resize(),this._update(),this.fire(new s.Event("webglcontextrestored",{originalEvent:m}))}_onMapScroll(m){if(m.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(m){return this.style?(this._styleDirty=this._styleDirty||m,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(m){return this._update(),this._renderTaskQueue.add(m)}_cancelRenderFrame(m){this._renderTaskQueue.remove(m)}_requestDomTask(m){!this.loaded()||this.loaded()&&!this.isMoving()?m():this._domRenderTaskQueue.add(m)}_render(m){let o;const d=this.painter.context.extTimerQuery,_=s.exported.now();if(this.listens("gpu-timing-frame")&&(o=d.createQueryEXT(),d.beginQueryEXT(d.TIME_ELAPSED_EXT,o)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],s.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],s.window.performance.now())),this._renderTaskQueue.run(m),this._domRenderTaskQueue.run(m),this._removed)return;this._updateProjectionTransition();const w=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const H=this.transform.zoom,le=this.transform.pitch,ve=s.exported.now(),ye=new s.EvaluationParameters(H,{now:ve,fadeDuration:w,pitch:le,transition:this.style.getTransition()});this.style.update(ye)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let E=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),E=this._updateAverageElevation(_),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):E=this._updateAverageElevation(_),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,w,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:w,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new s.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new s.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),o){const H=s.exported.now()-_;d.endQueryEXT(d.TIME_ELAPSED_EXT,o),setTimeout(()=>{const le=d.getQueryObjectEXT(o,d.QUERY_RESULT_EXT)/1e6;d.deleteQueryEXT(o),this.fire(new s.Event("gpu-timing-frame",{cpuTime:H,gpuTime:le})),s.window.performance.mark("frame-gpu",{startTime:_,detail:{gpuTime:le}})},50)}if(this.listens("gpu-timing-layer")){const H=this.painter.collectGpuTimers();setTimeout(()=>{const le=this.painter.queryGpuTimers(H);this.fire(new s.Event("gpu-timing-layer",{layerTimes:le}))},50)}if(this.listens("gpu-timing-deferred-render")){const H=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const le=this.painter.queryGpuTimeDeferredRender(H);this.fire(new s.Event("gpu-timing-deferred-render",{gpuTime:le}))},50)}const N=this._sourcesDirty||this._styleDirty||this._placementDirty||E;if(N||this._repaint)this.triggerRepaint();else{const H=!this.isMoving()&&this.loaded();if(H&&(E=this._updateAverageElevation(_,!0)),E)this.triggerRepaint();else if(this._triggerFrame(!1),H&&(this.fire(new s.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const le=this._calculateSpeedIndex();this.fire(new s.Event("speedindexcompleted",{speedIndex:le})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||N||(this._fullyLoaded=!0,s.LivePerformanceUtils.mark(s.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&s.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(m){for(const o of this._markers)m&&!this.getRenderWorldCopies()&&(o._lngLat=o._lngLat.wrap()),o._update();for(const o of this._popups)!m||this.getRenderWorldCopies()||o._trackPointer||(o._lngLat=o._lngLat.wrap()),o._update()}_updateAverageElevation(m,o=!1){const d=_=>(this.transform.averageElevation=_,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&d(0);if((o||m-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(m)){const _=this.transform.averageElevation;let w=this.transform.sampleAverageElevation(),E=!1;this.transform.elevation&&(E=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(w)?w=0:this._averageElevationLastSampledAt=m;const N=Math.abs(_-w);if(N>1){if(this._isInitialLoad||E)return this._averageElevation.jumpTo(w),d(w);this._averageElevation.easeTo(w,m,300)}else if(N>1e-4)return this._averageElevation.jumpTo(w),d(w)}return!!this._averageElevation.isEasing(m)&&d(this._averageElevation.getValue(m))}_authenticate(){s.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,m=>{if(m&&(m.message===s.AUTH_ERR_MSG||m.status===401)){const o=this.painter.context.gl;s.storeAuthState(o,!1),this._logoControl instanceof up&&this._logoControl._updateLogo(),o&&o.clear(o.DEPTH_BUFFER_BIT|o.COLOR_BUFFER_BIT|o.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new s.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),s.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const m=this._isDragging();this.painter.updateTerrain(this.style,m)}_calculateSpeedIndex(){const m=this.painter.canvasCopy(),o=this.painter.getCanvasCopiesAndTimestamps();o.timeStamps.push(performance.now());const d=this.painter.context.gl,_=d.createFramebuffer();function w(E){d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,E,0);const N=new Uint8Array(d.drawingBufferWidth*d.drawingBufferHeight*4);return d.readPixels(0,0,d.drawingBufferWidth,d.drawingBufferHeight,d.RGBA,d.UNSIGNED_BYTE,N),N}return d.bindFramebuffer(d.FRAMEBUFFER,_),this._canvasPixelComparison(w(m),o.canvasCopies.map(w),o.timeStamps)}_canvasPixelComparison(m,o,d){let _=d[1]-d[0];const w=m.length/4;for(let E=0;E<o.length;E++){const N=o[E];let H=0;for(let le=0;le<N.length;le+=4)N[le]===m[le]&&N[le+1]===m[le+1]&&N[le+2]===m[le+2]&&N[le+3]===m[le+3]&&(H+=1);_+=(d[E+2]-d[E+1])*(1-H/w)}return _}remove(){this._hash&&this._hash.remove();for(const o of this._controls)o.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),s.window!==void 0&&(s.window.removeEventListener("resize",this._onWindowResize,!1),s.window.removeEventListener("orientationchange",this._onWindowResize,!1),s.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),s.window.removeEventListener("online",this._onWindowOnline,!1),s.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const m=this.painter.context.gl.getExtension("WEBGL_lose_context");m&&m.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),s.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new s.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(m){this._renderNextFrame=this._renderNextFrame||m,this.style&&!this._frame&&(this._frame=s.exported.frame(o=>{const d=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,d&&this._render(o)}))}_preloadTiles(m){const o=this.style?Object.values(this.style._sourceCaches):[];return s.asyncAll(o,(d,_)=>d._preloadTiles(m,_),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(m){this._trackResize&&this.resize({originalEvent:m})._update()}_onVisibilityChange(){s.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(m){this._showTileBoundaries!==m&&(this._showTileBoundaries=m,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(m){this._showTerrainWireframe!==m&&(this._showTerrainWireframe=m,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(m){this._speedIndexTiming!==m&&(this._speedIndexTiming=m,this._update())}get showPadding(){return!!this._showPadding}set showPadding(m){this._showPadding!==m&&(this._showPadding=m,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(m){this._showCollisionBoxes!==m&&(this._showCollisionBoxes=m,m?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(m){this._showOverdrawInspector!==m&&(this._showOverdrawInspector=m,this._update())}get repaint(){return!!this._repaint}set repaint(m){this._repaint!==m&&(this._repaint=m,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(m){this._vertices=m,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(m){this._showTileAABBs!==m&&(this._showTileAABBs=m,m&&this._update())}_setCacheLimits(m,o){s.setCacheLimits(m,o)}get version(){return s.version}},NavigationControl:class{constructor(m){this.options=s.extend({},au,m),this._container=Z("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",o=>o.preventDefault()),this.options.showZoom&&(s.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",o=>{this._map&&this._map.zoomIn({},{originalEvent:o})}),Z("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",o=>{this._map&&this._map.zoomOut({},{originalEvent:o})}),Z("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(s.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",o=>{const d=this._map;d&&(this.options.visualizePitch?d.resetNorthPitch({},{originalEvent:o}):d.resetNorth({},{originalEvent:o}))}),this._compassIcon=Z("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const m=this._map;if(!m)return;const o=m.getZoom(),d=o===m.getMaxZoom(),_=o===m.getMinZoom();this._zoomInButton.disabled=d,this._zoomOutButton.disabled=_,this._zoomInButton.setAttribute("aria-disabled",d.toString()),this._zoomOutButton.setAttribute("aria-disabled",_.toString())}_rotateCompassArrow(){const m=this._map;if(!m)return;const o=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(m.transform.pitch*(Math.PI/180)),.5)}) rotateX(${m.transform.pitch}deg) rotateZ(${m.transform.angle*(180/Math.PI)}deg)`:`rotate(${m.transform.angle*(180/Math.PI)}deg)`;m._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=o)})}onAdd(m){return this._map=m,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),m.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&m.on("pitch",this._rotateCompassArrow),m.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new fp(m,this._compass,this.options.visualizePitch)),this._container}onRemove(){const m=this._map;m&&(this._container.remove(),this.options.showZoom&&m.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&m.off("pitch",this._rotateCompassArrow),m.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(m,o){const d=Z("button",m,this._container);return d.type="button",d.addEventListener("click",o),d}_setButtonTitle(m,o){if(!this._map)return;const d=this._map._getUIString(`NavigationControl.${o}`);m.setAttribute("aria-label",d),m.firstElementChild&&m.firstElementChild.setAttribute("title",d)}},GeolocateControl:class extends s.Evented{constructor(m){super(),this.options=s.extend({geolocation:s.window.navigator.geolocation},Lf,m),s.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=ia(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(m){return this._map=m,this._container=Z("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(m){const o=(d=!!this.options.geolocation)=>{this._supportsGeolocation=d,m(d)};this._supportsGeolocation!==void 0?m(this._supportsGeolocation):s.window.navigator.permissions!==void 0?s.window.navigator.permissions.query({name:"geolocation"}).then(d=>o(d.state!=="denied")).catch(()=>o()):o()}_isOutOfMapMaxBounds(m){const o=this._map.getMaxBounds(),d=m.coords;return!!o&&(d.longitude<o.getWest()||d.longitude>o.getEast()||d.latitude<o.getSouth()||d.latitude>o.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(m){if(this._map){if(this._isOutOfMapMaxBounds(m))return this._setErrorState(),this.fire(new s.Event("outofmaxbounds",m)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=m,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(m),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(m),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("geolocate",m)),this._finish()}}_updateCamera(m){const o=new s.LngLat(m.coords.longitude,m.coords.latitude),d=m.coords.accuracy,_=this._map.getBearing(),w=s.extend({bearing:_},this.options.fitBoundsOptions);this._map.fitBounds(o.toBounds(d),w,{geolocateSource:!0})}_updateMarker(m){if(m){const o=new s.LngLat(m.coords.longitude,m.coords.latitude);this._accuracyCircleMarker.setLngLat(o).addTo(this._map),this._userLocationDotMarker.setLngLat(o).addTo(this._map),this._accuracy=m.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const m=this._map.transform,o=s.mercatorZfromAltitude(1,m._center.lat)*m.worldSize,d=Math.ceil(2*this._accuracy*o);this._circleElement.style.width=`${d}px`,this._circleElement.style.height=`${d}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(m){if(this._map){if(this.options.trackUserLocation)if(m.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const o=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",o),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",o),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(m.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("error",m)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(m){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",o=>o.preventDefault()),this._geolocateButton=Z("button","mapboxgl-ctrl-geolocate",this._container),Z("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",m===!1){s.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const o=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",o),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",o)}else{const o=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",o),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",o)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=Z("div","mapboxgl-user-location"),this._dotElement.appendChild(Z("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(Z("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new ou({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=Z("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ou({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",o=>{o.geolocateSource||this._watchState!=="ACTIVE_LOCK"||o.originalEvent&&o.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new s.Event("trackuserlocationend")))})}}_onDeviceOrientation(m){this._userLocationDotMarker&&(m.webkitCompassHeading?this._heading=m.webkitCompassHeading:m.absolute===!0&&(this._heading=-1*m.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return s.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new s.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let m;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(m={maximumAge:6e5,timeout:0},this._noTimeout=!0):(m=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,m),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const m=()=>{s.window.addEventListener("ondeviceorientationabsolute"in s.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};s.window.DeviceMotionEvent!==void 0&&typeof s.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(o=>{o==="granted"&&m()}).catch(console.error):m()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),s.window.removeEventListener("deviceorientation",this._onDeviceOrientation),s.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:dp,ScaleControl:class{constructor(m){this.options=s.extend({},Df,m),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch{return!1}}()||(this._setScale=lu.bind(this)),s.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const m=this.options.maxWidth||100,o=this._map,d=o._containerHeight/2,_=o._containerWidth/2-m/2,w=o.unproject([_,d]),E=o.unproject([_+m,d]),N=w.distanceTo(E);if(this.options.unit==="imperial"){const H=3.2808*N;H>5280?this._setScale(m,H/5280,"mile"):this._setScale(m,H,"foot")}else this.options.unit==="nautical"?this._setScale(m,N/1852,"nautical-mile"):N>=1e3?this._setScale(m,N/1e3,"kilometer"):this._setScale(m,N,"meter")}_setScale(m,o,d){const _=ac(o),w=_/o;this._map._requestDomTask(()=>{this._container.style.width=m*w+"px",this._container.innerHTML=d!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:d}).format(_):`${_}&nbsp;nm`})}onAdd(m){return this._map=m,this._language=m.getLanguage(),this._container=Z("div","mapboxgl-ctrl mapboxgl-ctrl-scale",m.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(m){this._language=m,this._update()}setUnit(m){this.options.unit=m,this._update()}},FullscreenControl:class{constructor(m){this._fullscreen=!1,m&&m.container&&(m.container instanceof s.window.HTMLElement?this._container=m.container:s.warnOnce("Full screen control 'container' must be a DOM element.")),s.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in s.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in s.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(m){return this._map=m,this._container||(this._container=this._map.getContainer()),this._controlContainer=Z("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",s.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,s.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!s.window.document.fullscreenEnabled&&!s.window.document.webkitFullscreenEnabled)}_setupUI(){const m=this._fullscreenButton=Z("button","mapboxgl-ctrl-fullscreen",this._controlContainer);Z("span","mapboxgl-ctrl-icon",m).setAttribute("aria-hidden","true"),m.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),s.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const m=this._getTitle();this._fullscreenButton.setAttribute("aria-label",m),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",m)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(s.window.document.fullscreenElement||s.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?s.window.document.exitFullscreen?s.window.document.exitFullscreen():s.window.document.webkitCancelFullScreen&&s.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends s.Evented{constructor(m){super(),this.options=s.extend(Object.create(na),m),s.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(m&&m.className?m.className.trim().split(/\s+/):[])}addTo(m){return this._map&&this.remove(),this._map=m,this.options.closeOnClick&&m.on("preclick",this._onClose),this.options.closeOnMove&&m.on("move",this._onClose),m.on("remove",this.remove),this._update(),m._addPopup(this),this._focusFirstElement(),this._trackPointer?(m.on("mousemove",this._onMouseEvent),m.on("mouseup",this._onMouseEvent),m._canvasContainer.classList.add("mapboxgl-track-pointer")):m.on("move",this._update),this.fire(new s.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const m=this._map;return m&&(m.off("move",this._update),m.off("move",this._onClose),m.off("preclick",this._onClose),m.off("click",this._onClose),m.off("remove",this.remove),m.off("mousemove",this._onMouseEvent),m.off("mouseup",this._onMouseEvent),m.off("drag",this._onMouseEvent),m._canvasContainer&&m._canvasContainer.classList.remove("mapboxgl-track-pointer"),m._removePopup(this),this._map=void 0),this.fire(new s.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(m){this._lngLat=s.LngLat.convert(m),this._pos=null,this._trackPointer=!1,this._update();const o=this._map;return o&&(o.on("move",this._update),o.off("mousemove",this._onMouseEvent),o._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const m=this._map;return m&&(m.off("move",this._update),m.on("mousemove",this._onMouseEvent),m.on("drag",this._onMouseEvent),m._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(m){return this.setDOMContent(s.window.document.createTextNode(m))}setHTML(m){const o=s.window.document.createDocumentFragment(),d=s.window.document.createElement("body");let _;for(d.innerHTML=m;_=d.firstChild,_;)o.appendChild(_);return this.setDOMContent(o)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(m){return this.options.maxWidth=m,this._update(),this}setDOMContent(m){let o=this._content;if(o)for(;o.hasChildNodes();)o.firstChild&&o.removeChild(o.firstChild);else o=this._content=Z("div","mapboxgl-popup-content",this._container||void 0);if(o.appendChild(m),this.options.closeButton){const d=this._closeButton=Z("button","mapboxgl-popup-close-button",o);d.type="button",d.setAttribute("aria-label","Close popup"),d.setAttribute("aria-hidden","true"),d.innerHTML="&#215;",d.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(m){return this._classList.add(m),this._updateClassList(),this}removeClassName(m){return this._classList.delete(m),this._updateClassList(),this}setOffset(m){return this.options.offset=m,this._update(),this}toggleClassName(m){let o;return this._classList.delete(m)?o=!1:(this._classList.add(m),o=!0),this._updateClassList(),o}_onMouseEvent(m){this._update(m.point)}_getAnchor(m){if(this.options.anchor)return this.options.anchor;const o=this._map,d=this._container,_=this._pos;if(!o||!d||!_)return"bottom";const w=d.offsetWidth,E=d.offsetHeight,N=_.x<w/2,H=_.x>o.transform.width-w/2;if(_.y+m<E)return N?"top-left":H?"top-right":"top";if(_.y>o.transform.height-E){if(N)return"bottom-left";if(H)return"bottom-right"}return N?"left":H?"right":"bottom"}_updateClassList(){const m=this._container;if(!m)return;const o=[...this._classList];o.push("mapboxgl-popup"),this._anchor&&o.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&o.push("mapboxgl-popup-track-pointer"),m.className=o.join(" ")}_update(m){const o=this._map,d=this._content;if(!o||!this._lngLat&&!this._trackPointer||!d)return;let _=this._container;if(_||(_=this._container=Z("div","mapboxgl-popup",o.getContainer()),this._tip=Z("div","mapboxgl-popup-tip",_),_.appendChild(d)),this.options.maxWidth&&_.style.maxWidth!==this.options.maxWidth&&(_.style.maxWidth=this.options.maxWidth),o.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Qa(this._lngLat,this._pos,o.transform)),!this._trackPointer||m){const w=this._pos=this._trackPointer&&m?m:o.project(this._lngLat),E=pp(this.options.offset),N=this._anchor=this._getAnchor(E.y),H=pp(this.options.offset,N),le=w.add(H).round();o._requestDomTask(()=>{this._container&&N&&(this._container.style.transform=`${Mh[N]} translate(${le.x}px,${le.y}px)`)})}if(!this._marker&&o._showingGlobe()){const w=s.isLngLatBehindGlobe(o.transform,this._lngLat)?0:1;this._setOpacity(w)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const m=this._container.querySelector(Af);m&&m.focus()}_onClose(){this.remove()}_setOpacity(m){this._container&&(this._container.style.opacity=`${m}`),this._content&&(this._content.style.pointerEvents=m?"auto":"none")}},Marker:ou,Style:os,LngLat:s.LngLat,LngLatBounds:s.LngLatBounds,Point:s.pointGeometry,MercatorCoordinate:s.MercatorCoordinate,FreeCameraOptions:hd,Evented:s.Evented,config:s.config,prewarm:function(){sn().acquire(en)},clearPrewarmedResources:function(){const m=Hi;m&&(m.isPreloaded()&&m.numActive()===1?(m.release(en),Hi=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return s.config.ACCESS_TOKEN},set accessToken(m){s.config.ACCESS_TOKEN=m},get baseApiUrl(){return s.config.API_URL},set baseApiUrl(m){s.config.API_URL=m},get workerCount(){return Xi.workerCount},set workerCount(m){Xi.workerCount=m},get maxParallelImageRequests(){return s.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(m){s.config.MAX_PARALLEL_IMAGE_REQUESTS=m},clearStorage(m){s.clearTileCache(m)},workerUrl:"",workerClass:null,setNow:s.exported.setNow,restoreNow:s.exported.restoreNow};return lc});var y=h;return y})})(R6);var IO=R6.exports;const ch=om(IO);var xm=DO,LO=Object.prototype.hasOwnProperty;function DO(){for(var e={},i=0;i<arguments.length;i++){var a=arguments[i];for(var l in a)LO.call(a,l)&&(e[l]=a[l])}return e}var B6={exports:{}};(function(e,i){(function(){var a={};e.exports=a,a.simpleFilter=function(l,h){return h.filter(function(p){return a.test(l,p)})},a.test=function(l,h){return a.match(l,h)!==null},a.match=function(l,h,p){p=p||{};var y=0,s=[],b=h.length,L=0,ee=0,F=p.pre||"",Z=p.post||"",ne=p.caseSensitive&&h||h.toLowerCase(),z;l=p.caseSensitive&&l||l.toLowerCase();for(var G=0;G<b;G++)z=h[G],ne[G]===l[y]?(z=F+z+Z,y+=1,ee+=1+ee):ee=0,L+=ee,s[s.length]=z;return y===l.length?(L=ne===l?1/0:L,{rendered:s.join(""),score:L}):null},a.filter=function(l,h,p){return!h||h.length===0?[]:typeof l!="string"?h:(p=p||{},h.reduce(function(y,s,b,L){var ee=s;p.extract&&(ee=p.extract(s));var F=a.match(l,ee,p);return F!=null&&(y[y.length]={string:F.rendered,score:F.score,index:b,original:s}),y},[]).sort(function(y,s){var b=s.score-y.score;return b||y.index-s.index}))}})()})(B6);var OO=B6.exports,_l=function(e){return this.component=e,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};_l.prototype.show=function(){this.element.style.display="block"};_l.prototype.hide=function(){this.element.style.display="none"};_l.prototype.add=function(e){this.items.push(e)};_l.prototype.clear=function(){this.items=[],this.active=0};_l.prototype.isEmpty=function(){return!this.items.length};_l.prototype.isVisible=function(){return this.element.style.display==="block"};_l.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()};_l.prototype.drawItem=function(e,i){var a=document.createElement("li"),l=document.createElement("a");i&&(a.className+=" active"),l.innerHTML=e.string,a.appendChild(l),this.element.appendChild(a),a.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),a.addEventListener("mouseup",function(){this.handleMouseUp.call(this,e)}.bind(this))};_l.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()};_l.prototype.move=function(e){this.active=e,this.draw()};_l.prototype.previous=function(){this.move(this.active===0?this.items.length-1:this.active-1)};_l.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)};_l.prototype.drawError=function(e){var i=document.createElement("li");i.innerHTML=e,this.element.appendChild(i),this.show()};var RO=_l,zO=xm,BO=OO,FO=RO,ba=function(e,i,a){return a=a||{},this.options=zO({minLength:2,limit:5,filter:!0,hideOnBlur:!0},a),this.el=e,this.data=i||[],this.list=new FO(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(l){this.handleKeyUp(l.keyCode)}.bind(this),!1),this.el.addEventListener("keydown",function(l){this.handleKeyDown(l)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(l){this.handlePaste(l)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};ba.prototype.handleKeyUp=function(e){e===40||e===38||e===27||e===13||e===9||this.handleInputChange(this.el.value)};ba.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}};ba.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()};ba.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var i=this;setTimeout(function(){i.handleInputChange(e.target.value)},100)}};ba.prototype.handleInputChange=function(e){if(this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates(function(i){for(var a=0;a<i.length&&(this.list.add(i[a]),a!==this.options.limit-1);a++);this.list.draw()}.bind(this))};ba.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1};ba.prototype.update=function(e){this.data=e,this.handleKeyUp()};ba.prototype.clear=function(){this.data=[],this.list.clear()};ba.prototype.normalize=function(e){return e=e.toLowerCase(),e};ba.prototype.match=function(e,i){return e.indexOf(i)>-1};ba.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e),document.createEvent){var i=document.createEvent("HTMLEvents");i.initEvent("change",!0,!1),this.el.dispatchEvent(i)}else this.el.fireEvent("onchange")};ba.prototype.getCandidates=function(e){var i={pre:"<strong>",post:"</strong>",extract:function(l){return this.getItemValue(l)}.bind(this)},a;this.options.filter?(a=BO.filter(this.query,this.data,i),a=a.map(function(l){return{original:l.original,string:this.render(l.original,l.string)}}.bind(this))):a=this.data.map(function(l){var h=this.render(l);return{original:l,string:h}}.bind(this)),e(a)};ba.prototype.getItemValue=function(e){return e};ba.prototype.render=function(e,i){if(i)return i;for(var a=e.original?this.getItemValue(e.original):this.getItemValue(e),l=this.normalize(a),h=l.lastIndexOf(this.query);h>-1;){var p=h+this.query.length;a=a.slice(0,h)+"<strong>"+a.slice(h,p)+"</strong>"+a.slice(p),h=l.slice(0,h).lastIndexOf(this.query)}return a};ba.prototype.renderError=function(e){this.list.drawError(e)};var NO=ba,F6=NO,jO=F6;typeof window<"u"&&(window.Suggestions=F6);var UO="Expected a function",aS=0/0,VO="[object Symbol]",GO=/^\s+|\s+$/g,WO=/^[-+]0x[0-9a-f]+$/i,$O=/^0b[01]+$/i,HO=/^0o[0-7]+$/i,qO=parseInt,XO=typeof Oo=="object"&&Oo&&Oo.Object===Object&&Oo,YO=typeof self=="object"&&self&&self.Object===Object&&self,ZO=XO||YO||Function("return this")(),KO=Object.prototype,JO=KO.toString,QO=Math.max,eR=Math.min,Ib=function(){return ZO.Date.now()};function tR(e,i,a){var l,h,p,y,s,b,L=0,ee=!1,F=!1,Z=!0;if(typeof e!="function")throw new TypeError(UO);i=lS(i)||0,k3(a)&&(ee=!!a.leading,F="maxWait"in a,p=F?QO(lS(a.maxWait)||0,i):p,Z="trailing"in a?!!a.trailing:Z);function ne(se){var S=l,X=h;return l=h=void 0,L=se,y=e.apply(X,S),y}function z(se){return L=se,s=setTimeout(B,i),ee?ne(se):y}function G(se){var S=se-b,X=se-L,I=i-S;return F?eR(I,p-X):I}function ae(se){var S=se-b,X=se-L;return b===void 0||S>=i||S<0||F&&X>=p}function B(){var se=Ib();if(ae(se))return P(se);s=setTimeout(B,G(se))}function P(se){return s=void 0,Z&&l?ne(se):(l=h=void 0,y)}function V(){s!==void 0&&clearTimeout(s),L=0,l=b=h=s=void 0}function W(){return s===void 0?y:P(Ib())}function R(){var se=Ib(),S=ae(se);if(l=arguments,h=this,b=se,S){if(s===void 0)return z(b);if(F)return s=setTimeout(B,i),ne(b)}return s===void 0&&(s=setTimeout(B,i)),y}return R.cancel=V,R.flush=W,R}function k3(e){var i=typeof e;return!!e&&(i=="object"||i=="function")}function iR(e){return!!e&&typeof e=="object"}function nR(e){return typeof e=="symbol"||iR(e)&&JO.call(e)==VO}function lS(e){if(typeof e=="number")return e;if(nR(e))return aS;if(k3(e)){var i=typeof e.valueOf=="function"?e.valueOf():e;e=k3(i)?i+"":i}if(typeof e!="string")return e===0?e:+e;e=e.replace(GO,"");var a=$O.test(e);return a||HO.test(e)?qO(e.slice(2),a?2:8):WO.test(e)?aS:+e}var rR=tR,v5={exports:{}},q0=typeof Reflect=="object"?Reflect:null,cS=q0&&typeof q0.apply=="function"?q0.apply:function(i,a,l){return Function.prototype.apply.call(i,a,l)},Gy;q0&&typeof q0.ownKeys=="function"?Gy=q0.ownKeys:Object.getOwnPropertySymbols?Gy=function(i){return Object.getOwnPropertyNames(i).concat(Object.getOwnPropertySymbols(i))}:Gy=function(i){return Object.getOwnPropertyNames(i)};function sR(e){console&&console.warn&&console.warn(e)}var N6=Number.isNaN||function(i){return i!==i};function Zr(){Zr.init.call(this)}v5.exports=Zr;v5.exports.once=cR;Zr.EventEmitter=Zr;Zr.prototype._events=void 0;Zr.prototype._eventsCount=0;Zr.prototype._maxListeners=void 0;var hS=10;function w2(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Zr,"defaultMaxListeners",{enumerable:!0,get:function(){return hS},set:function(e){if(typeof e!="number"||e<0||N6(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");hS=e}});Zr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Zr.prototype.setMaxListeners=function(i){if(typeof i!="number"||i<0||N6(i))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+i+".");return this._maxListeners=i,this};function j6(e){return e._maxListeners===void 0?Zr.defaultMaxListeners:e._maxListeners}Zr.prototype.getMaxListeners=function(){return j6(this)};Zr.prototype.emit=function(i){for(var a=[],l=1;l<arguments.length;l++)a.push(arguments[l]);var h=i==="error",p=this._events;if(p!==void 0)h=h&&p.error===void 0;else if(!h)return!1;if(h){var y;if(a.length>0&&(y=a[0]),y instanceof Error)throw y;var s=new Error("Unhandled error."+(y?" ("+y.message+")":""));throw s.context=y,s}var b=p[i];if(b===void 0)return!1;if(typeof b=="function")cS(b,this,a);else for(var L=b.length,ee=$6(b,L),l=0;l<L;++l)cS(ee[l],this,a);return!0};function U6(e,i,a,l){var h,p,y;if(w2(a),p=e._events,p===void 0?(p=e._events=Object.create(null),e._eventsCount=0):(p.newListener!==void 0&&(e.emit("newListener",i,a.listener?a.listener:a),p=e._events),y=p[i]),y===void 0)y=p[i]=a,++e._eventsCount;else if(typeof y=="function"?y=p[i]=l?[a,y]:[y,a]:l?y.unshift(a):y.push(a),h=j6(e),h>0&&y.length>h&&!y.warned){y.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+y.length+" "+String(i)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=i,s.count=y.length,sR(s)}return e}Zr.prototype.addListener=function(i,a){return U6(this,i,a,!1)};Zr.prototype.on=Zr.prototype.addListener;Zr.prototype.prependListener=function(i,a){return U6(this,i,a,!0)};function oR(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function V6(e,i,a){var l={fired:!1,wrapFn:void 0,target:e,type:i,listener:a},h=oR.bind(l);return h.listener=a,l.wrapFn=h,h}Zr.prototype.once=function(i,a){return w2(a),this.on(i,V6(this,i,a)),this};Zr.prototype.prependOnceListener=function(i,a){return w2(a),this.prependListener(i,V6(this,i,a)),this};Zr.prototype.removeListener=function(i,a){var l,h,p,y,s;if(w2(a),h=this._events,h===void 0)return this;if(l=h[i],l===void 0)return this;if(l===a||l.listener===a)--this._eventsCount===0?this._events=Object.create(null):(delete h[i],h.removeListener&&this.emit("removeListener",i,l.listener||a));else if(typeof l!="function"){for(p=-1,y=l.length-1;y>=0;y--)if(l[y]===a||l[y].listener===a){s=l[y].listener,p=y;break}if(p<0)return this;p===0?l.shift():aR(l,p),l.length===1&&(h[i]=l[0]),h.removeListener!==void 0&&this.emit("removeListener",i,s||a)}return this};Zr.prototype.off=Zr.prototype.removeListener;Zr.prototype.removeAllListeners=function(i){var a,l,h;if(l=this._events,l===void 0)return this;if(l.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):l[i]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete l[i]),this;if(arguments.length===0){var p=Object.keys(l),y;for(h=0;h<p.length;++h)y=p[h],y!=="removeListener"&&this.removeAllListeners(y);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(a=l[i],typeof a=="function")this.removeListener(i,a);else if(a!==void 0)for(h=a.length-1;h>=0;h--)this.removeListener(i,a[h]);return this};function G6(e,i,a){var l=e._events;if(l===void 0)return[];var h=l[i];return h===void 0?[]:typeof h=="function"?a?[h.listener||h]:[h]:a?lR(h):$6(h,h.length)}Zr.prototype.listeners=function(i){return G6(this,i,!0)};Zr.prototype.rawListeners=function(i){return G6(this,i,!1)};Zr.listenerCount=function(e,i){return typeof e.listenerCount=="function"?e.listenerCount(i):W6.call(e,i)};Zr.prototype.listenerCount=W6;function W6(e){var i=this._events;if(i!==void 0){var a=i[e];if(typeof a=="function")return 1;if(a!==void 0)return a.length}return 0}Zr.prototype.eventNames=function(){return this._eventsCount>0?Gy(this._events):[]};function $6(e,i){for(var a=new Array(i),l=0;l<i;++l)a[l]=e[l];return a}function aR(e,i){for(;i+1<e.length;i++)e[i]=e[i+1];e.pop()}function lR(e){for(var i=new Array(e.length),a=0;a<i.length;++a)i[a]=e[a].listener||e[a];return i}function cR(e,i){return new Promise(function(a,l){function h(y){e.removeListener(i,p),l(y)}function p(){typeof e.removeListener=="function"&&e.removeListener("error",h),a([].slice.call(arguments))}H6(e,i,p,{once:!0}),i!=="error"&&hR(e,h,{once:!0})})}function hR(e,i,a){typeof e.on=="function"&&H6(e,"error",i,a)}function H6(e,i,a,l){if(typeof e.on=="function")l.once?e.once(i,a):e.on(i,a);else if(typeof e.addEventListener=="function")e.addEventListener(i,function h(p){l.once&&e.removeEventListener(i,h),a(p)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var dR=v5.exports,uR={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}};function pR(e){var i=e.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return i?{key:i[1],value:i[2]}:null}function fR(e){var i=e.match(/<?([^>]*)>(.*)/);if(!i)return null;var a=i[1],l=i[2].split(";"),h=null,p=l.reduce(function(y,s){var b=pR(s);return b?b.key==="rel"?(h||(h=b.value),y):(y[b.key]=b.value,y):y},{});return h?{url:a,rel:h,params:p}:null}function mR(e){return e?e.split(/,\s*</).reduce(function(i,a){var l=fR(a);if(!l)return i;var h=l.rel.split(/\s+/);return h.forEach(function(p){i[p]||(i[p]={url:l.url,params:l.params})}),i},{}):{}}var gR=mR,_R=gR;function x5(e,i){this.request=e,this.headers=i.headers,this.rawBody=i.body,this.statusCode=i.statusCode;try{this.body=JSON.parse(i.body||"{}")}catch{this.body=i.body}this.links=_R(this.headers.link)}x5.prototype.hasNextPage=function(){return!!this.links.next};x5.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null};var yR=x5,T2={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"},dS=T2;function vR(e){var i=e.type||dS.ERROR_HTTP,a;if(e.body)try{a=JSON.parse(e.body)}catch{a=e.body}else a=null;var l=e.message||null;l||(typeof a=="string"?l=a:a&&typeof a.message=="string"?l=a.message:i===dS.ERROR_REQUEST_ABORTED&&(l="Request aborted")),this.message=l,this.type=i,this.statusCode=e.statusCode||null,this.request=e.request,this.body=a}var xR=vR;function bR(e){var i=e.indexOf(":"),a=e.substring(0,i).trim().toLowerCase(),l=e.substring(i+1).trim();return{name:a,value:l}}function wR(e){var i={};return e&&e.trim().split(/[\r|\n]+/).forEach(function(a){var l=bR(a);i[l.name]=l.value}),i}var TR=wR,SR=yR,uS=xR,Lb=T2,ER=TR,wv={};function CR(e){var i=wv[e.id];i&&(i.abort(),delete wv[e.id])}function MR(e,i){return new SR(e,{body:i.response,headers:ER(i.getAllResponseHeaders()),statusCode:i.status})}function pS(e){var i=e.total,a=e.loaded,l=100*a/i;return{total:i,transferred:a,percent:l}}function q6(e,i){return new Promise(function(a,l){i.onprogress=function(y){e.emitter.emit(Lb.EVENT_PROGRESS_DOWNLOAD,pS(y))};var h=e.file;h&&(i.upload.onprogress=function(y){e.emitter.emit(Lb.EVENT_PROGRESS_UPLOAD,pS(y))}),i.onerror=function(y){l(y)},i.onabort=function(){var y=new uS({request:e,type:Lb.ERROR_REQUEST_ABORTED});l(y)},i.onload=function(){if(delete wv[e.id],i.status<200||i.status>=400){var y=new uS({request:e,body:i.response,statusCode:i.status});l(y);return}a(i)};var p=e.body;typeof p=="string"?i.send(p):p?i.send(JSON.stringify(p)):h?i.send(h):i.send(),wv[e.id]=i}).then(function(a){return MR(e,a)})}function X6(e,i){var a=e.url(i),l=new window.XMLHttpRequest;return l.open(e.method,a),Object.keys(e.headers).forEach(function(h){l.setRequestHeader(h,e.headers[h])}),l}function AR(e){return Promise.resolve().then(function(){var i=X6(e,e.client.accessToken);return q6(e,i)})}var kR={browserAbort:CR,sendRequestXhr:q6,browserSend:AR,createRequestXhr:X6},Tv={exports:{}};/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */Tv.exports;(function(e,i){(function(a){var l=i,h=e&&e.exports==l&&e,p=typeof Oo=="object"&&Oo;(p.global===p||p.window===p)&&(a=p);var y=function(z){this.message=z};y.prototype=new Error,y.prototype.name="InvalidCharacterError";var s=function(z){throw new y(z)},b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=/[\t\n\f\r ]/g,ee=function(z){z=String(z).replace(L,"");var G=z.length;G%4==0&&(z=z.replace(/==?$/,""),G=z.length),(G%4==1||/[^+a-zA-Z0-9/]/.test(z))&&s("Invalid character: the string to be decoded is not correctly encoded.");for(var ae=0,B,P,V="",W=-1;++W<G;)P=b.indexOf(z.charAt(W)),B=ae%4?B*64+P:P,ae++%4&&(V+=String.fromCharCode(255&B>>(-2*ae&6)));return V},F=function(z){z=String(z),/[^\0-\xFF]/.test(z)&&s("The string to be encoded contains characters outside of the Latin1 range.");for(var G=z.length%3,ae="",B=-1,P,V,W,R,se=z.length-G;++B<se;)P=z.charCodeAt(B)<<16,V=z.charCodeAt(++B)<<8,W=z.charCodeAt(++B),R=P+V+W,ae+=b.charAt(R>>18&63)+b.charAt(R>>12&63)+b.charAt(R>>6&63)+b.charAt(R&63);return G==2?(P=z.charCodeAt(B)<<8,V=z.charCodeAt(++B),R=P+V,ae+=b.charAt(R>>10)+b.charAt(R>>4&63)+b.charAt(R<<2&63)+"="):G==1&&(R=z.charCodeAt(B),ae+=b.charAt(R>>2)+b.charAt(R<<4&63)+"=="),ae},Z={encode:F,decode:ee,version:"0.1.0"};if(l&&!l.nodeType)if(h)h.exports=Z;else for(var ne in Z)Z.hasOwnProperty(ne)&&(l[ne]=Z[ne]);else a.base64=Z})(Oo)})(Tv,Tv.exports);var PR=Tv.exports,IR=PR,Db={};function LR(e){if(Db[e])return Db[e];var i=e.split("."),a=i[0],l=i[1];if(!l)throw new Error("Invalid token");var h=DR(l),p={usage:a,user:h.u};return Zp(h,"a")&&(p.authorization=h.a),Zp(h,"exp")&&(p.expires=h.exp*1e3),Zp(h,"iat")&&(p.created=h.iat*1e3),Zp(h,"scopes")&&(p.scopes=h.scopes),Zp(h,"client")&&(p.client=h.client),Zp(h,"ll")&&(p.lastLogin=h.ll),Zp(h,"iu")&&(p.impersonator=h.iu),Db[e]=p,p}function DR(e){try{return JSON.parse(IR.decode(e))}catch{throw new Error("Invalid token")}}function Zp(e,i){return Object.prototype.hasOwnProperty.call(e,i)}var Y6=LR,Z6={exports:{}};(function(e){var i=Object.prototype.hasOwnProperty,a="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(a=!1));function h(b,L,ee){this.fn=b,this.context=L,this.once=ee||!1}function p(b,L,ee,F,Z){if(typeof ee!="function")throw new TypeError("The listener must be a function");var ne=new h(ee,F||b,Z),z=a?a+L:L;return b._events[z]?b._events[z].fn?b._events[z]=[b._events[z],ne]:b._events[z].push(ne):(b._events[z]=ne,b._eventsCount++),b}function y(b,L){--b._eventsCount===0?b._events=new l:delete b._events[L]}function s(){this._events=new l,this._eventsCount=0}s.prototype.eventNames=function(){var L=[],ee,F;if(this._eventsCount===0)return L;for(F in ee=this._events)i.call(ee,F)&&L.push(a?F.slice(1):F);return Object.getOwnPropertySymbols?L.concat(Object.getOwnPropertySymbols(ee)):L},s.prototype.listeners=function(L){var ee=a?a+L:L,F=this._events[ee];if(!F)return[];if(F.fn)return[F.fn];for(var Z=0,ne=F.length,z=new Array(ne);Z<ne;Z++)z[Z]=F[Z].fn;return z},s.prototype.listenerCount=function(L){var ee=a?a+L:L,F=this._events[ee];return F?F.fn?1:F.length:0},s.prototype.emit=function(L,ee,F,Z,ne,z){var G=a?a+L:L;if(!this._events[G])return!1;var ae=this._events[G],B=arguments.length,P,V;if(ae.fn){switch(ae.once&&this.removeListener(L,ae.fn,void 0,!0),B){case 1:return ae.fn.call(ae.context),!0;case 2:return ae.fn.call(ae.context,ee),!0;case 3:return ae.fn.call(ae.context,ee,F),!0;case 4:return ae.fn.call(ae.context,ee,F,Z),!0;case 5:return ae.fn.call(ae.context,ee,F,Z,ne),!0;case 6:return ae.fn.call(ae.context,ee,F,Z,ne,z),!0}for(V=1,P=new Array(B-1);V<B;V++)P[V-1]=arguments[V];ae.fn.apply(ae.context,P)}else{var W=ae.length,R;for(V=0;V<W;V++)switch(ae[V].once&&this.removeListener(L,ae[V].fn,void 0,!0),B){case 1:ae[V].fn.call(ae[V].context);break;case 2:ae[V].fn.call(ae[V].context,ee);break;case 3:ae[V].fn.call(ae[V].context,ee,F);break;case 4:ae[V].fn.call(ae[V].context,ee,F,Z);break;default:if(!P)for(R=1,P=new Array(B-1);R<B;R++)P[R-1]=arguments[R];ae[V].fn.apply(ae[V].context,P)}}return!0},s.prototype.on=function(L,ee,F){return p(this,L,ee,F,!1)},s.prototype.once=function(L,ee,F){return p(this,L,ee,F,!0)},s.prototype.removeListener=function(L,ee,F,Z){var ne=a?a+L:L;if(!this._events[ne])return this;if(!ee)return y(this,ne),this;var z=this._events[ne];if(z.fn)z.fn===ee&&(!Z||z.once)&&(!F||z.context===F)&&y(this,ne);else{for(var G=0,ae=[],B=z.length;G<B;G++)(z[G].fn!==ee||Z&&!z[G].once||F&&z[G].context!==F)&&ae.push(z[G]);ae.length?this._events[ne]=ae.length===1?ae[0]:ae:y(this,ne)}return this},s.prototype.removeAllListeners=function(L){var ee;return L?(ee=a?a+L:L,this._events[ee]&&y(this,ee)):(this._events=new l,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=a,s.EventEmitter=s,e.exports=s})(Z6);var OR=Z6.exports;function RR(e){return e.map(encodeURIComponent).join(",")}function K6(e){return Array.isArray(e)?RR(e):encodeURIComponent(String(e))}function J6(e,i,a){if(a===!1||a===null)return e;var l=/\?/.test(e)?"&":"?",h=encodeURIComponent(i);return a!==void 0&&a!==""&&a!==!0&&(h+="="+K6(a)),""+e+l+h}function zR(e,i){if(!i)return e;var a=e;return Object.keys(i).forEach(function(l){var h=i[l];h!==void 0&&(Array.isArray(h)&&(h=h.filter(function(p){return p!=null}).join(",")),a=J6(a,l,h))}),a}function BR(e,i){if(!i||e.slice(0,4)==="http")return e;var a=e[0]==="/"?"":"/";return""+i.replace(/\/$/,"")+a+e}function FR(e,i){return i?e.replace(/\/:([a-zA-Z0-9]+)/g,function(a,l){var h=i[l];if(h===void 0)throw new Error("Unspecified route parameter "+l);var p=K6(h);return"/"+p}):e}var NR={appendQueryObject:zR,appendQueryParam:J6,prependOrigin:BR,interpolateRouteParams:FR},jR=Y6,b5=xm,UR=OR,Ay=NR,fS=T2,VR=1;function ep(e,i){if(!e)throw new Error("MapiRequest requires a client");if(!i||!i.path||!i.method)throw new Error("MapiRequest requires an options object with path and method properties");var a={};i.body&&(a["content-type"]="application/json");var l=b5(a,i.headers),h=Object.keys(l).reduce(function(p,y){return p[y.toLowerCase()]=l[y],p},{});this.id=VR++,this._options=i,this.emitter=new UR,this.client=e,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=i.path,this.method=i.method,this.origin=i.origin||e.origin,this.query=i.query||{},this.params=i.params||{},this.body=i.body||null,this.file=i.file||null,this.encoding=i.encoding||"utf8",this.sendFileAs=i.sendFileAs||null,this.headers=h}ep.prototype.url=function(i){var a=Ay.prependOrigin(this.path,this.origin);a=Ay.appendQueryObject(a,this.query);var l=this.params,h=i??this.client.accessToken;if(h){a=Ay.appendQueryParam(a,"access_token",h);var p=jR(h).user;l=b5({ownerId:p},l)}return a=Ay.interpolateRouteParams(a,l),a};ep.prototype.send=function(){var i=this;if(i.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return i.sent=!0,i.client.sendRequest(i).then(function(a){return i.response=a,i.emitter.emit(fS.EVENT_RESPONSE,a),a},function(a){throw i.error=a,i.emitter.emit(fS.EVENT_ERROR,a),a})};ep.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),!(this.response||this.error||this.aborted)&&(this.aborted=!0,this.client.abortRequest(this))};ep.prototype.eachPage=function(i){var a=this;function l(y){function s(){delete a._nextPageRequest;var b=y.nextPage();b&&(a._nextPageRequest=b,p(b))}i(null,y,s)}function h(y){i(y,null,function(){})}function p(y){y.send().then(l,h)}p(this)};ep.prototype.clone=function(){return this._extend()};ep.prototype._extend=function(i){var a=b5(this._options,i);return new ep(this.client,a)};var GR=ep,WR=Y6,$R=GR,HR=T2;function Q6(e){if(!e||!e.accessToken)throw new Error("Cannot create a client without an access token");WR(e.accessToken),this.accessToken=e.accessToken,this.origin=e.origin||HR.API_ORIGIN}Q6.prototype.createRequest=function(i){return new $R(this,i)};var eC=Q6,tC=kR,iC=eC;function sm(e){iC.call(this,e)}sm.prototype=Object.create(iC.prototype);sm.prototype.constructor=sm;sm.prototype.sendRequest=tC.browserSend;sm.prototype.abortRequest=tC.browserAbort;function qR(e){return new sm(e)}var nC=qR,XR=nC,YR=XR,ZR=Object.prototype.toString,KR=function(e){var i;return ZR.call(e)==="[object Object]"&&(i=Object.getPrototypeOf(e),i===null||i===Object.getPrototypeOf({}))},JR=KR,QR=xm,rC="value",Ob=`
  `,cs={};cs.assert=function(e,i){return i=i||{},function(a){var l=tp(e,a);if(l){var h=w5(l,i);throw i.apiName&&(h=i.apiName+": "+h),new Error(h)}}};cs.shape=function(i){var a=nz(i);return function(h){var p=tp(cs.plainObject,h);if(p)return p;for(var y,s,b=[],L=0;L<a.length;L++)y=a[L].key,s=a[L].value,p=tp(s,h[y]),p&&b.push([y].concat(p));return b.length<2?b[0]:function(ee){b=b.map(function(ne){var z=ne[0],G=w5(ne,ee).split(`
`).join(Ob);return"- "+z+": "+G});var F=ee.path.join("."),Z=F===rC?"":" of "+F;return"The following properties"+Z+" have invalid values:"+Ob+b.join(Ob)}}};cs.strictShape=function(i){var a=cs.shape(i);return function(h){var p=a(h);if(p)return p;var y=Object.keys(h).reduce(function(s,b){return i[b]===void 0&&s.push(b),s},[]);if(y.length!==0)return function(){return"The following keys are invalid: "+y.join(", ")}}};cs.arrayOf=function(i){return sC(i)};cs.tuple=function(){var i=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return sC(i)};function sC(e){var i=Array.isArray(e),a=function(l){return i?e[l]:e};return function(h){var p=tp(cs.plainArray,h);if(p)return p;if(i&&h.length!==e.length)return"an array with "+e.length+" items";for(var y=0;y<h.length;y++)if(p=tp(a(y),h[y]),p)return[y].concat(p)}}cs.required=function(i){function a(l){return l==null?function(h){return oC(h,aC(h.path)?"cannot be undefined/null.":"is required.")}:i.apply(this,arguments)}return a.__required=!0,a};cs.oneOfType=function(){var i=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(l){var h=i.map(function(p){return tp(p,l)}).filter(Boolean);if(h.length===i.length)return h.every(function(p){return p.length===1&&typeof p[0]=="string"})?ez(h.map(function(p){return p[0]})):h.reduce(function(p,y){return y.length>p.length?y:p})}};cs.equal=function(i){return function(l){if(l!==i)return JSON.stringify(i)}};cs.oneOf=function(){var i=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),a=i.map(function(l){return cs.equal(l)});return cs.oneOfType.apply(this,a)};cs.range=function(i){var a=i[0],l=i[1];return function(p){var y=tp(cs.number,p);if(y||p<a||p>l)return"number between "+a+" & "+l+" (inclusive)"}};cs.any=function(){};cs.boolean=function(i){if(typeof i!="boolean")return"boolean"};cs.number=function(i){if(typeof i!="number")return"number"};cs.plainArray=function(i){if(!Array.isArray(i))return"array"};cs.plainObject=function(i){if(!JR(i))return"object"};cs.string=function(i){if(typeof i!="string")return"string"};cs.func=function(i){if(typeof i!="function")return"function"};function tp(e,i){if(!(i==null&&!e.hasOwnProperty("__required"))){var a=e(i);if(a)return Array.isArray(a)?a:[a]}}function w5(e,i){var a=e.length,l=e[a-1],h=e.slice(0,a-1);return h.length===0&&(h=[rC]),i=QR(i,{path:h}),typeof l=="function"?l(i):oC(i,tz(l))}function ez(e){return e.length<2?e[0]:e.length===2?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e.slice(-1)}function tz(e){return"must be "+iz(e)+"."}function iz(e){return/^an? /.test(e)?e:/^[aeiou]/i.test(e)?"an "+e:/^[a-z]/i.test(e)?"a "+e:e}function oC(e,i){var a=aC(e.path),l=e.path.join(".")+" "+i,h=a?"Item at position ":"";return h+l}function aC(e){return typeof e[e.length-1]=="number"||typeof e[0]=="number"}function nz(e){return Object.keys(e||{}).map(function(i){return{key:i,value:e[i]}})}cs.validate=tp;cs.processMessage=w5;var rz=cs,sz=xm,X0=rz;function oz(e){if(typeof window<"u")return e instanceof Oo.Blob||e instanceof Oo.ArrayBuffer?void 0:"Blob or ArrayBuffer";if(!(typeof e=="string"||e.pipe!==void 0))return"Filename or Readable stream"}function az(e,i){return X0.assert(X0.strictShape(e),i)}function lz(e){var i="date";if(typeof e=="boolean")return i;try{var a=new Date(e);if(a.getTime&&isNaN(a.getTime()))return i}catch{return i}}function cz(e){return X0.tuple(X0.number,X0.number)(e)}var hz=sz(X0,{file:oz,date:lz,coordinates:cz,assertShape:az});function dz(e,i){var a=function(l,h){return i.indexOf(l)!==-1&&h!==void 0};return typeof i=="function"&&(a=i),Object.keys(e).filter(function(l){return a(l,e[l])}).reduce(function(l,h){return l[h]=e[h],l},{})}var uz=dz;function pz(e,i){return Object.keys(e).reduce(function(a,l){return a[l]=i(l,e[l]),a},{})}var fz=pz,mz=fz;function gz(e){return mz(e,function(i,a){return typeof a=="boolean"?JSON.stringify(a):a})}var _z=gz,yz=eC,vz=nC;function xz(e){return function(i){var a;yz.prototype.isPrototypeOf(i)?a=i:a=vz(i);var l=Object.create(e);return l.client=a,l}}var bz=xz,lC=xm,mr=hz,Sv=uz,cC=_z,wz=bz,T5={},hC=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];T5.forwardGeocode=function(e){mr.assertShape({query:mr.required(mr.string),mode:mr.oneOf("mapbox.places","mapbox.places-permanent"),countries:mr.arrayOf(mr.string),proximity:mr.oneOf(mr.coordinates,"ip"),types:mr.arrayOf(mr.oneOf(hC)),autocomplete:mr.boolean,bbox:mr.arrayOf(mr.number),limit:mr.number,language:mr.arrayOf(mr.string),routing:mr.boolean,fuzzyMatch:mr.boolean,worldview:mr.string})(e),e.mode=e.mode||"mapbox.places";var i=cC(lC({country:e.countries},Sv(e,["proximity","types","autocomplete","bbox","limit","language","routing","fuzzyMatch","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:Sv(e,["mode","query"]),query:i})};T5.reverseGeocode=function(e){mr.assertShape({query:mr.required(mr.coordinates),mode:mr.oneOf("mapbox.places","mapbox.places-permanent"),countries:mr.arrayOf(mr.string),types:mr.arrayOf(mr.oneOf(hC)),bbox:mr.arrayOf(mr.number),limit:mr.number,language:mr.arrayOf(mr.string),reverseMode:mr.oneOf("distance","score"),routing:mr.boolean,worldview:mr.string})(e),e.mode=e.mode||"mapbox.places";var i=cC(lC({country:e.countries},Sv(e,["country","types","bbox","limit","language","reverseMode","routing","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:Sv(e,["mode","query"]),query:i})};var Tz=wz(T5);let Sz="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",dC=e=>crypto.getRandomValues(new Uint8Array(e)),uC=(e,i,a)=>{let l=(2<<Math.log(e.length-1)/Math.LN2)-1,h=-~(1.6*l*i/e.length);return(p=i)=>{let y="";for(;;){let s=a(h),b=h;for(;b--;)if(y+=e[s[b]&l]||"",y.length===p)return y}}},Ez=(e,i=21)=>uC(e,i,dC),Cz=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((i,a)=>(a&=63,a<36?i+=a.toString(36):a<62?i+=(a-26).toString(36).toUpperCase():a>62?i+="-":i+="_",i),"");const Mz=Object.freeze(Object.defineProperty({__proto__:null,customAlphabet:Ez,customRandom:uC,nanoid:Cz,random:dC,urlAlphabet:Sz},Symbol.toStringTag,{value:"Module"})),Az=PS(Mz);var kz=Az.nanoid;function pC(e){this.origin=e.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=e.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=e,this.send=this.send.bind(this),this.countries=e.countries?e.countries.split(","):null,this.types=e.types?e.types.split(","):null,this.bbox=e.bbox?e.bbox:null,this.language=e.language?e.language.split(","):null,this.limit=e.limit?+e.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(e),this.eventQueue=new Array,this.flushInterval=e.flushInterval||1e3,this.maxQueueSize=e.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}pC.prototype={select:function(e,i){var a=this.getSelectedIndex(e,i),l=this.getEventPayload("search.select",i);if(l.resultIndex=a,l.resultPlaceName=e.place_name,l.resultId=e.id,!(a===this.lastSentIndex&&l.queryString===this.lastSentInput||a==-1)&&(this.lastSentIndex=a,this.lastSentInput=l.queryString,!!l.queryString))return this.push(l)},start:function(e){var i=this.getEventPayload("search.start",e);if(i.queryString)return this.push(i)},keyevent:function(e,i){if(e.key&&!(e.metaKey||[9,27,37,39,13,38,40].indexOf(e.keyCode)!==-1)){var a=this.getEventPayload("search.keystroke",i);if(a.lastAction=e.key,!!a.queryString)return this.push(a)}},send:function(e,i){if(!this.enableEventLogging)return i?i():void 0;var a=this.getRequestOptions(e);this.request(a,function(l){if(l)return this.handleError(l,i);if(i)return i()}.bind(this))},getRequestOptions:function(e){Array.isArray(e)||(e=[e]);var i={method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return i},getEventPayload:function(e,i){var a;i.options.proximity?typeof i.options.proximity=="object"?a=[i.options.proximity.longitude,i.options.proximity.latitude]:i.options.proximity==="ip"?a=[999,999]:a=i.options.proximity:a=null;var l=i._map?i._map.getZoom():void 0,h={event:e,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",autocomplete:i.options.autocomplete,fuzzyMatch:i.options.fuzzyMatch,proximity:a,limit:i.options.limit,routing:i.options.routing,worldview:i.options.worldview,mapZoom:l,keyboardLocale:this.locale};return e==="search.select"?h.queryString=i.inputString:e!="search.select"&&i._inputEl?h.queryString=i._inputEl.value:h.queryString=i.inputString,h},request:function(e,i){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(this.readyState==4)return this.status==204?i(null):i(this.statusText)},a.open(e.method,e.host+"/"+e.path,!0);for(var l in e.headers){var h=e.headers[l];a.setRequestHeader(l,h)}a.send(e.body)},handleError:function(e,i){if(i)return i(e)},generateSessionID:function(){return kz()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(e,i){if(i._typeahead){var a=i._typeahead.data,l=e.id,h=a.map(function(y){return y.id}),p=h.indexOf(l);return p}},shouldEnableLogging:function(e){return!(e.enableEventLogging===!1||e.origin&&e.origin!=="https://api.mapbox.com"||e.localGeocoder||e.filter)},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(e,i){this.eventQueue.push(e),(this.eventQueue.length>=this.maxQueueSize||i)&&this.flush()},remove:function(){this.flush()}};var Pz=pC,Iz={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو",ru:"Поиск"},Lz={placeholder:Iz},fC={exports:{}};(function(e){(function(i,a,l){e.exports?e.exports=l():i[a]=l()})(Oo,"subtag",function(){var i="",a=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function l(b){return b.match(a)||[]}function h(b){return l(b).filter(function(L,ee){return L&&ee})}function p(b){return b=l(b),{language:b[1]||i,extlang:b[2]||i,script:b[3]||i,region:b[4]||i}}function y(b,L,ee){Object.defineProperty(b,L,{value:ee,enumerable:!0})}function s(b,L,ee){function F(Z){return l(Z)[b]||i}y(F,"pattern",L),y(p,ee,F)}return s(1,/^[a-zA-Z]{2,3}$/,"language"),s(2,/^[a-zA-Z]{3}$/,"extlang"),s(3,/^[a-zA-Z]{4}$/,"script"),s(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),y(p,"split",h),p})})(fC);var Dz=fC.exports;function mC(){}mC.prototype={isSupport:function(){return!!window.navigator.geolocation},getCurrentPosition:function(){const e={enableHighAccuracy:!0};return new Promise(function(i,a){window.navigator.geolocation.getCurrentPosition(i,a,e)})}};var Oz=mC;function Rz(e,i){const a=gC(e),l=["address","street","place","country"];var h;if(typeof i=="function")return i(a);const p=l.indexOf(i);return p===-1?h=l:h=l.slice(p),h.reduce(function(y,s){return a[s]?(y!==""&&(y=y+", "),y+a[s]):y},"")}function gC(e){const i=e.address||"",a=e.text||"",l=e.place_name||"",p={address:l.split(",")[0],houseNumber:i,street:a,placeName:l};return e.context.forEach(function(y){const s=y.id.split(".")[0];p[s]=y.text}),p}const zz=/^[ ]*(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)[ ]*$/;var Bz={transformFeatureToGeolocationText:Rz,getAddressInfo:gC,REVERSE_GEOCODE_COORD_RGX:zz},Fz=jO,Nz=rR,Kp=xm,jz=dR.EventEmitter,mS=uR,Rb=YR,zb=Tz,Uz=Pz,Vz=Lz,Gz=Dz,Wz=Oz,gS=Bz;const Lu={FORWARD:0,LOCAL:1,REVERSE:2};function $z(){var e=document.createElement("div");return e.className="mapboxgl-ctrl-geocoder--powered-by",e.innerHTML='<a href="https://www.mapbox.com/search-service" target="_blank">Powered by Mapbox</a>',e}function _C(e){this._eventEmitter=new jz,this.options=Kp({},this.options,e),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geolocation=new Wz}_C.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,flipCoordinates:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,enableGeolocation:!1,addressAccuracy:"street",getItemValue:function(e){return e.place_name},render:function(e){var i=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+i[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+i.splice(1,i.length).join(",")+"</div></div>"}},addTo:function(e){function i(a,l){if(!document.body.contains(l))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const h=a.onAdd();l.appendChild(h)}if(e._controlContainer)e.addControl(this);else if(e instanceof HTMLElement)i(this,e);else if(typeof e=="string"){const a=document.querySelectorAll(e);if(a.length===0)throw new Error("Element ",e,"not found.");if(a.length>1)throw new Error("Geocoder can only be added to a single html element");i(this,a[0])}else throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element")},onAdd:function(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=zb(Rb({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new Uz(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this),this._geolocateUser=this._geolocateUser.bind(this);var i=this.container=document.createElement("div");i.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var a=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",Nz(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",function(L){this.eventManager.keyevent(L,this)}.bind(this));var l=document.createElement("div");l.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var h=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');if(this._clearEl.appendChild(h),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),l.appendChild(this._clearEl),l.appendChild(this._loadingEl),i.appendChild(a),i.appendChild(this._inputEl),i.appendChild(l),this.options.enableGeolocation&&this.geolocation.isSupport()){this._geolocateEl=document.createElement("button"),this._geolocateEl.setAttribute("aria-label","Geolocate"),this._geolocateEl.addEventListener("click",this._geolocateUser),this._geolocateEl.className="mapboxgl-ctrl-geocoder--button";var p=this.createIcon("geolocate",'<path d="M12.999 3.677L2.042 8.269c-.962.403-.747 1.823.29 1.912l5.032.431.431 5.033c.089 1.037 1.509 1.252 1.912.29l4.592-10.957c.345-.822-.477-1.644-1.299-1.299z" fill="#4264fb"/>');this._geolocateEl.appendChild(p),l.appendChild(this._geolocateEl),this._showGeolocateButton()}var y=this._typeahead=new Fz(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit});this.setRenderFunction(this.options.render),y.getItemValue=this.options.getItemValue;var s=y.list.draw,b=this._footerNode=$z();return y.list.draw=function(){s.call(this),b.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),b.addEventListener("mouseup",function(){this.selectingListItem=!1}.bind(this)),this.element.appendChild(b)},this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),i},_geolocateUser:function(){this._hideGeolocateButton(),this._showLoadingIcon(),this.geolocation.getCurrentPosition().then(function(e){this._hideLoadingIcon();const i={geometry:{type:"Point",coordinates:[e.coords.longitude,e.coords.latitude]}};this._handleMarker(i),this._fly(i),this._typeahead.clear(),this._typeahead.selected=!0,this.lastSelected=JSON.stringify(i),this._showClearButton(),this.fresh=!1;const a={limit:1,language:[this.options.language],query:i.geometry.coordinates,types:["address"]};if(this.options.localGeocoderOnly){const l=i.geometry.coordinates[0]+","+i.geometry.coordinates[1];this._setInputValue(l),this._eventEmitter.emit("result",{result:i})}else this.geocoderService.reverseGeocode(a).send().then(function(l){const h=l.body.features[0];if(h){const p=gS.transformFeatureToGeolocationText(h,this.options.addressAccuracy);this._setInputValue(p),h.user_coordinates=i.geometry.coordinates,this._eventEmitter.emit("result",{result:h})}else this._eventEmitter.emit("result",{result:{user_coordinates:i.geometry.coordinates}})}.bind(this))}.bind(this)).catch(function(e){e.code===1?this._renderUserDeniedGeolocationError():this._renderLocationError(),this._hideLoadingIcon(),this._showGeolocateButton(),this._hideAttribution()}.bind(this))},createIcon:function(e,i){var a=document.createElementNS("http://www.w3.org/2000/svg","svg");return a.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+e),a.setAttribute("viewBox","0 0 18 18"),a.setAttribute("xml:space","preserve"),a.setAttribute("width",18),a.setAttribute("height",18),a.innerHTML=i,a},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_setInputValue:function(e){this._inputEl.value=e,setTimeout(function(){this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0)}.bind(this),1)},_onPaste:function(e){var i=(e.clipboardData||window.clipboardData).getData("text");i.length>=this.options.minLength&&this._geocode(i)},_onKeyDown:function(e){var i=27,a=9;if(e.keyCode===i&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();var l=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target,h=l?l.value:"";if(!h)return this.fresh=!0,e.keyCode!==a&&this.clear(e),this._showGeolocateButton(),this._hideClearButton();this._hideGeolocateButton(),!(e.metaKey||[a,i,37,39,13,38,40].indexOf(e.keyCode)!==-1)&&l.value.length>=this.options.minLength&&this._geocode(l.value)},_showButton:function(){this._typeahead.selected&&this._showClearButton()},_hideButton:function(){this._typeahead.selected&&this._hideClearButton()},_showClearButton:function(){this._clearEl.style.display="block"},_hideClearButton:function(){this._clearEl.style.display="none"},_showGeolocateButton:function(){this._geolocateEl&&this.geolocation.isSupport()&&(this._geolocateEl.style.display="block")},_hideGeolocateButton:function(){this._geolocateEl&&(this._geolocateEl.style.display="none")},_showLoadingIcon:function(){this._loadingEl.style.display="block"},_hideLoadingIcon:function(){this._loadingEl.style.display="none"},_showAttribution:function(){this._footerNode.style.display="block"},_hideAttribution:function(){this._footerNode.style.display="none"},_onBlur:function(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()},_onChange:function(){var e=this._typeahead.selected;e&&JSON.stringify(e)!==this.lastSelected&&(this._hideClearButton(),this.options.flyTo&&this._fly(e),this.options.marker&&this._mapboxgl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._eventEmitter.emit("result",{result:e}),this.eventManager.select(e,this))},_fly:function(e){var i;if(e.properties&&mS[e.properties.short_code])i=Kp({},this.options.flyTo),this._map&&this._map.fitBounds(mS[e.properties.short_code].bbox,i);else if(e.bbox){var a=e.bbox;i=Kp({},this.options.flyTo),this._map&&this._map.fitBounds([[a[0],a[1]],[a[2],a[3]]],i)}else{var l={zoom:this.options.zoom};i=Kp({},l,this.options.flyTo),e.center?i.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(i.center=e.geometry.coordinates),this._map&&this._map.flyTo(i)}},_requestType:function(e,i){var a;return e.localGeocoderOnly?a=Lu.LOCAL:e.reverseGeocode&&gS.REVERSE_GEOCODE_COORD_RGX.test(i)?a=Lu.REVERSE:a=Lu.FORWARD,a},_setupConfig:function(e,i){const a=["bbox","limit","proximity","countries","types","language","reverseMode","mode","autocomplete","fuzzyMatch","routing","worldview"],l=/[\s,]+/;var h=this,p=a.reduce(function(s,b){if(h.options[b]===void 0||h.options[b]===null)return s;["countries","types","language"].indexOf(b)>-1?s[b]=h.options[b].split(l):s[b]=h.options[b];const L=typeof h.options[b].longitude=="number"&&typeof h.options[b].latitude=="number";if(b==="proximity"&&L){const ee=h.options[b].longitude,F=h.options[b].latitude;s[b]=[ee,F]}return s},{});switch(e){case Lu.REVERSE:{var y=i.split(l).map(function(s){return parseFloat(s,10)});h.options.flipCoordinates||y.reverse(),p.types&&p.types[0],p=Kp(p,{query:y,limit:1}),["proximity","autocomplete","fuzzyMatch","bbox"].forEach(function(s){s in p&&delete p[s]})}break;case Lu.FORWARD:{const s=i.trim();/^(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)?$/.test(s)&&(i=i.replace(/,/g," ")),p=Kp(p,{query:i})}break}return p},_geocode:function(e){this.inputString=e,this._showLoadingIcon(),this._eventEmitter.emit("loading",{query:e});const i=this._requestType(this.options,e),a=this._setupConfig(i,e);var l;switch(i){case Lu.LOCAL:l=Promise.resolve();break;case Lu.FORWARD:l=this.geocoderService.forwardGeocode(a).send();break;case Lu.REVERSE:l=this.geocoderService.reverseGeocode(a).send();break}var h=this.options.localGeocoder?this.options.localGeocoder(e)||[]:[],p=[],y=null;return l.catch(function(s){y=s}.bind(this)).then(function(s){this._hideLoadingIcon();var b={};return s?s.statusCode=="200"&&(b=s.body,b.request=s.request,b.headers=s.headers):b={type:"FeatureCollection",features:[]},b.config=a,this.fresh&&(this.eventManager.start(this),this.fresh=!1),b.features=b.features?h.concat(b.features):h,this.options.externalGeocoder?(p=this.options.externalGeocoder(e,b.features)||Promise.resolve([]),p.then(function(L){return b.features=b.features?L.concat(b.features):L,b},function(){return b})):b}.bind(this)).then(function(s){if(y)throw y;this.options.filter&&s.features.length&&(s.features=s.features.filter(this.options.filter)),s.features.length?(this._showClearButton(),this._hideGeolocateButton(),this._showAttribution(),this._eventEmitter.emit("results",s),this._typeahead.update(s.features)):(this._hideClearButton(),this._hideAttribution(),this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",s))}.bind(this)).catch(function(s){this._hideLoadingIcon(),this._hideAttribution(),h.length&&this.options.localGeocoder||p.length&&this.options.externalGeocoder?(this._showClearButton(),this._hideGeolocateButton(),this._typeahead.update(h)):(this._hideClearButton(),this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:h}),this._eventEmitter.emit("error",{error:s})}.bind(this)),l},_clear:function(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._hideClearButton(),this._showGeolocateButton(),this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(e){this._clear(e),this._inputEl.focus()},_clearOnBlur:function(e){var i=this;e.relatedTarget&&i._clear(e)},_onQueryResult:function(e){var i=e.body;if(i.features.length){var a=i.features[0];this._typeahead.selected=a,this._inputEl.value=a.place_name,this._onChange()}},_updateProximity:function(){if(!(!this._map||!this.options.trackProximity))if(this._map.getZoom()>9){var e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat},!1)}else this.setProximity(null,!1)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(e){return this._geocode(e).then(this._onQueryResult),this},_renderError:function(){var e="<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>";this._renderMessage(e)},_renderLocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>A location error has occurred</div>";this._renderMessage(e)},_renderNoResults:function(){var e="<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>";this._renderMessage(e)},_renderUserDeniedGeolocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>Geolocation permission denied</div>";this._renderMessage(e)},_renderMessage:function(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var e=this.options.language.split(",")[0],i=Gz.language(e),a=Vz.placeholder[i];if(a)return a}return"Search"},setInput:function(e){return this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&this._geocode(e),this},setProximity:function(e,i=!0){return this.options.proximity=e,i&&(this.options.trackProximity=!1),this},getProximity:function(){return this.options.proximity},setRenderFunction:function(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(e){var i=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=e||this.options.language||i,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(e){return this.options.zoom=e,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(e){return this.options.flyTo=e,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(e){return this.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(e){return this.options.bbox=e,this},getCountries:function(){return this.options.countries},setCountries:function(e){return this.options.countries=e,this},getTypes:function(){return this.options.types},setTypes:function(e){return this.options.types=e,this},getMinLength:function(){return this.options.minLength},setMinLength:function(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this},getLimit:function(){return this.options.limit},setLimit:function(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this},getFilter:function(){return this.options.filter},setFilter:function(e){return this.options.filter=e,this},setOrigin:function(e){return this.options.origin=e,this.geocoderService=zb(Rb({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},setAccessToken:function(e){return this.options.accessToken=e,this.geocoderService=zb(Rb({accessToken:this.options.accessToken,origin:this.options.origin})),this},setAutocomplete:function(e){return this.options.autocomplete=e,this},getAutocomplete:function(){return this.options.autocomplete},setFuzzyMatch:function(e){return this.options.fuzzyMatch=e,this},getFuzzyMatch:function(){return this.options.fuzzyMatch},setRouting:function(e){return this.options.routing=e,this},getRouting:function(){return this.options.routing},setWorldview:function(e){return this.options.worldview=e,this},getWorldview:function(){return this.options.worldview},_handleMarker:function(e){if(this._map){this._removeMarker();var i={color:"#4668F2"},a=Kp({},i,this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(a),e.center?this.mapMarker.setLngLat(e.center).addTo(this._map):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(e,i){return this._eventEmitter.on(e,i),this},off:function(e,i){return this._eventEmitter.removeListener(e,i),this.eventManager.remove(),this}};var Hz=_C;const qz=om(Hz);function Xz(){return{map:cf("mapbox-map")}}var Bb=new Map,Yz=/onMb([A-Z])(.+)/;function Zz(e){return Bb.has(e)||Bb.set(e,e.replace(Yz,(i,a,l)=>a.toLowerCase()+l)),Bb.get(e)}function yC(e,i,a=[],l=null){const h=fw(),p=_m(()=>Object.entries(h).filter(([L,ee])=>L.startsWith("on")&&typeof ee=="function").map(([L])=>L)),y=new Map;function s(L){Array.isArray(L)&&L.forEach(ee=>{const F=y.get(ee);typeof F=="function"&&F()})}function b(L){Array.isArray(L)&&L.forEach(ee=>{const F=Zz(ee);if(!a.includes(F))return;const Z=(...ne)=>{e(`mb-${F}`,...ne)};l?(Xs(i).on(F,l,Z),y.set(ee,()=>{Xs(i).off(F,l,Z)})):(Xs(i).on(F,Z),y.set(ee,()=>{Xs(i).off(F,Z)}))})}fl(p,(L,ee)=>{const F=Array.isArray(L)?(ee??[]).filter(ne=>!L.includes(ne)):ee??[],Z=Array.isArray(ee)?(L??[]).filter(ne=>!ee.includes(ne)):L??[];if(Xs(i))s(F),b(Z);else{const ne=fl(i,z=>{z&&(s(F),b(Z),ne())})}},{immediate:!0})}function Kz(e){return e.charAt(0).toUpperCase()+e.slice(1)}function vC(e,i,a){function l(h){Object.keys(e).filter(p=>e[p]!==void 0&&e[p]!==null).forEach(p=>{var y,s;const b=p==="mapStyle"?"setStyle":`set${Kz(p)}`,L=typeof h[b]=="function",ee=typeof a[p]>"u"||"bind"in a[p]?(s=(y=a[p])==null?void 0:y.bind)!=null?s:!1:!0;if(!L||!ee)return;const{type:F}=e[p],Z={deep:F===Object||Array.isArray(F)&&F.includes(Object)};fl(()=>e[p],ne=>{h[b](ne)},Z)})}if(Xs(i))l(Xs(i));else{const h=fl(i,p=>{p&&(l(p),h())})}}function Jz(e,{propsConfig:i,props:a,emit:l,events:h=[]}){const{map:p}=Xz(),y=ms();return Array.isArray(h)&&h.length&&yC(l,y,h),typeof i<"u"&&vC(a,y,i),fl(()=>a.position,s=>{Xs(p)&&Xs(p).removeControl(Xs(y)).addControl(Xs(y),s)}),Kh(async()=>{const s=new e(a);Xs(p)&&Xs(p).addControl(s,a.position),await fm(),y.value=s}),xf(()=>{Xs(y)&&Xs(p)&&Xs(p).removeControl(Xs(y))}),{control:y,map:p}}var xC=(e,i)=>{const a=e.__vccOpts||e;for(const[l,h]of i)a[l]=h;return a};if(!ch)throw new Error("mapboxgl is not installed.");if(!qz)throw new Error("MapboxGeocoder is not installed.");var Qz={key:0},eB={key:1};if(!ch)throw new Error("mapboxgl is not installed.");var{LngLatBounds:_S,LngLat:tB}=ch,yS={accessToken:{type:String,default:"no-token"},container:{type:[typeof HTMLElement<"u"&&HTMLElement,String],default:void 0},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:22},minPitch:{type:Number,default:0},maxPitch:{type:Number,default:60},mapStyle:{type:[Object,String],required:!0},hash:{type:Boolean,default:!1},interactive:{type:Boolean,default:!0},bearingSnap:{type:Number,default:7},pitchWithRotate:{type:Boolean,default:!0},clickTolerance:{type:Number,default:3},attributionControl:{type:Boolean,default:!0},customAttribution:{type:[String,Array],default:null},logoPosition:{type:String,default:"bottom-left"},failIfMajorPerformanceCaveat:{type:Boolean,default:!1},preserveDrawingBuffer:{type:Boolean,default:!1},antialias:{type:Boolean,default:!1},refreshExpiredTiles:{type:Boolean,default:!0},maxBounds:{type:[_S,Array],default:void 0},scrollZoom:{type:[Boolean,Object],default:!0},boxZoom:{type:Boolean,default:!0},dragRotate:{type:Boolean,default:!0},dragPan:{type:[Boolean,Object],default:!0},keyboard:{type:Boolean,default:!0},doubleClickZoom:{type:Boolean,default:!0},touchZoomRotate:{type:[Boolean,Object],default:!0},trackResize:{type:Boolean,default:!0},center:{type:[tB,Array,Object],default:()=>[0,0]},zoom:{type:Number,default:0},bearing:{type:Number,default:0},pitch:{type:Number,default:0},bounds:{type:[_S,Array],default:void 0},fitBoundsOptions:{type:Object,default:null},renderWorldCopies:{type:Boolean,default:!0},maxTileCacheSize:{type:Number,default:null},localIdeographFontFamily:{type:String,default:"sans-serif"},transformRequest:{type:Function,default:null},collectResourceTiming:{type:Boolean,default:!1},fadeDuration:{type:Number,default:300},crossSourceCollisions:{type:Boolean,default:!0}},iB=["boxzoomcancel","boxzoomend","boxzoomstart","click","contextmenu","data","dataloading","dblclick","drag","dragend","dragstart","error","idle","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","move","moveend","movestart","pitch","pitchend","pitchstart","remove","render","resize","rotate","rotateend","rotatestart","sourcedata","sourcedataloading","styledata","styledataloading","styleimagemissing","touchcancel","touchend","touchmove","touchstart","webglcontextlost","webglcontextrestored","wheel","zoom","zoomend","zoomstart"],nB={inheritAttrs:!1},rB=Object.assign(nB,{__name:"MapboxMap",props:yS,setup(e,{expose:i,emit:a}){const l=e,h=ms();mm("mapbox-map",h);const p=ms(),y=ms(!1),s=_m(()=>{const{accessToken:b,mapStyle:L,...ee}=l;return!ee.container&&p.value&&(ee.container=p.value),{style:L,...ee}});return yC(a,h,iB),vC(l,h,yS),Kh(()=>{ch.accessToken=l.accessToken,h.value=new ch.Map(s.value),h.value.on("load",()=>{y.value=!0}),a("mb-created",h.value);const b=new ResizeObserver(()=>{h.value.resize()});b.observe(s.value.container),xf(()=>{b.disconnect(),h.value.remove()})}),i({map:h}),(b,L)=>(Dr(),ts(Fs,null,[ii("div",e2({ref_key:"root",ref:p},b.$attrs),null,16),y.value?(Dr(),ts("div",Qz,[Qy(b.$slots,"default")])):(Dr(),ts("div",eB,[Qy(b.$slots,"loader")]))],64))}}),S5=xC(rB,[["__file","/home/runner/work/vue-mapbox-gl/vue-mapbox-gl/packages/vue-mapbox-gl/components/MapboxMap.vue"]]);if(!ch)throw new Error("mapboxgl is not installed.");var vS={showCompass:{type:Boolean,default:!0},showZoom:{type:Boolean,default:!0},visualizePitch:{type:Boolean,default:!1},position:{type:String,default:"top-right",bind:!1}},sB={__name:"MapboxNavigationControl",props:vS,setup(e,{expose:i}){const a=e,{NavigationControl:l}=ch,{control:h}=Jz(l,{props:a,propsConfig:vS});return i({control:h}),(p,y)=>(Dr(),ts("div"))}},E5=xC(sB,[["__file","/home/runner/work/vue-mapbox-gl/vue-mapbox-gl/packages/vue-mapbox-gl/components/MapboxNavigationControl.vue"]]);const C5="/build/assets/ship-c94d8078.png",Jd=(e,i)=>{const a=e.__vccOpts||e;for(const[l,h]of i)a[l]=h;return a},oB={props:{fleets:Array},data(){return{isExpand:!1,keyword:""}},methods:{searchExpand(){this.isExpand=!this.isExpand;let e=this.$refs.searchBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="40px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},search(){this.keyword.length>=2&&!this.isExpand&&this.searchExpand(),this.keyword.length==0&&this.isExpand&&this.searchExpand()},selected(e){this.$emit("selected",e)}},computed:{filters(){return this.fleets.filter(e=>e.name.toLowerCase().includes(this.keyword.toLowerCase()))}}},aB={class:"ships-list position-absolute",ref:"cSearch"},lB={class:"card",style:{height:"100%"}},cB={class:"card-header search"},hB={action:"#",method:"get",style:{width:"100%"}},dB={class:"input-icon"},uB=gm('<span class="input-icon-addon"><svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><circle cx="10" cy="10" r="7"></circle><line x1="21" y1="21" x2="15" y2="15"></line></svg></span>',1),pB={class:"card-actions btn-actions"},fB={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},mB=ii("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),gB=ii("polyline",{points:"15 6 9 12 15 18"},null,-1),_B=[mB,gB],yB={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},vB=ii("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),xB=ii("polyline",{points:"6 9 12 15 18 9"},null,-1),bB=[vB,xB],wB={class:"card-body card-body-scrollable card-body-scrollable-shadow search-body",ref:"searchBody"},TB={class:"divide-y pointer"},SB=["onClick"],EB={class:"row"},CB=ii("div",{class:"col-auto"},[ii("span",{class:"avatar",style:{"background-image":"url('')"}})],-1),MB={class:"col p-0"},AB={class:"text-truncate"},kB={class:"text-muted text-sm"},PB={key:0,class:"col-auto"},IB=ii("div",{class:"badge bg-success"},null,-1),LB=ii("span",{class:"text-xs ml-1"},"Online",-1),DB=[IB,LB],OB={key:1,class:"col-auto"},RB=ii("div",{class:"badge bg-danger"},null,-1),zB=ii("span",{class:"text-xs ml-1"},"Offline",-1),BB=[RB,zB];function FB(e,i,a,l,h,p){return Dr(),ts("div",aB,[ii("div",lB,[ii("div",cB,[ii("form",hB,[ii("div",dB,[uB,nw(ii("input",{type:"text",onKeyup:i[0]||(i[0]=(...y)=>p.search&&p.search(...y)),"onUpdate:modelValue":i[1]||(i[1]=y=>h.keyword=y),class:"form-control",placeholder:"Search…","aria-label":"Search in website"},null,544),[[Q0,h.keyword]])])]),ii("div",pB,[ii("a",{href:"#",class:"btn-action",onClick:i[2]||(i[2]=(...y)=>p.searchExpand&&p.searchExpand(...y))},[h.isExpand?Ud("",!0):(Dr(),ts("svg",fB,_B)),h.isExpand?(Dr(),ts("svg",yB,bB)):Ud("",!0)])])]),ii("div",wB,[ii("div",TB,[(Dr(!0),ts(Fs,null,m1(p.filters,y=>(Dr(),ts("div",{key:y.id,onClick:s=>p.selected(y)},[ii("div",EB,[CB,ii("div",MB,[ii("div",AB,Ru(y.name),1),ii("div",kB,Ru(y.imo_number),1)]),y.connected?(Dr(),ts("div",PB,DB)):Ud("",!0),y.connected?Ud("",!0):(Dr(),ts("div",OB,BB))])],8,SB))),128))])],512)])],512)}const bC=Jd(oB,[["render",FB]]),NB={data(){return{isExpand:!0,notifications:[],params:{}}},mounted(){this.fetchData()},methods:{notifExpand(){this.isExpand=!this.isExpand;let e=this.$refs.notifBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="150px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},async fetchData(){this.notifications=await axios.get("/api/notifications",{params:this.params}).then(e=>e.data)}}},S2=e=>(J3("data-v-5adbd2ca"),e=e(),Q3(),e),jB={class:"ships-notification position-absolute",ref:"cSearch"},UB={class:"card",style:{height:"100%"}},VB={class:"card-header search"},GB=gm('<h4 class="card-title" data-v-5adbd2ca><svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-v-5adbd2ca><path stroke="none" d="M0 0h24v24H0z" fill="none" data-v-5adbd2ca></path><path d="M10 5a2 2 0 0 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6" data-v-5adbd2ca></path><path d="M9 17v1a3 3 0 0 0 6 0v-1" data-v-5adbd2ca></path></svg> Notifications </h4>',1),WB={class:"card-actions btn-actions"},$B={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},HB=S2(()=>ii("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),qB=S2(()=>ii("polyline",{points:"15 6 9 12 15 18"},null,-1)),XB=[HB,qB],YB={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},ZB=S2(()=>ii("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),KB=S2(()=>ii("polyline",{points:"6 9 12 15 18 9"},null,-1)),JB=[ZB,KB],QB={class:"card-body card-body-scrollable card-body-scrollable-shadow notif-body",ref:"notifBody"},eF={class:"divide-y"},tF=gm('<div class="row" data-v-5adbd2ca><div class="col-auto" data-v-5adbd2ca><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-building-broadcast-tower" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-v-5adbd2ca><path stroke="none" d="M0 0h24v24H0z" fill="none" data-v-5adbd2ca></path><circle cx="12" cy="12" r="1" data-v-5adbd2ca></circle><path d="M16.616 13.924a5 5 0 1 0 -9.23 .004" data-v-5adbd2ca></path><path d="M20.307 15.469a9 9 0 1 0 -16.615 0" data-v-5adbd2ca></path><path d="M9 21l3 -9l3 9" data-v-5adbd2ca></path><path d="M10 19h4" data-v-5adbd2ca></path></svg></div><div class="col" data-v-5adbd2ca> Lorem ipsum dolor sit amet conse, adipisicing elit. <div class="text-muted text-sm" data-v-5adbd2ca>22/07/2022 08:00</div></div></div>',1),iF=[tF];function nF(e,i,a,l,h,p){return Dr(),ts("div",jB,[ii("div",UB,[ii("div",VB,[GB,ii("div",WB,[ii("a",{href:"#",class:"btn-action",onClick:i[0]||(i[0]=(...y)=>p.notifExpand&&p.notifExpand(...y))},[h.isExpand?Ud("",!0):(Dr(),ts("svg",$B,XB)),h.isExpand?(Dr(),ts("svg",YB,JB)):Ud("",!0)])])]),ii("div",QB,[ii("div",eF,[(Dr(!0),ts(Fs,null,m1(h.notifications,y=>(Dr(),ts("div",{key:y.id},iF))),128))])],512)])],512)}const wC=Jd(NB,[["render",nF],["__scopeId","data-v-5adbd2ca"]]);var rF=["second","minute","hour","day","week","month","year"];function sF(e,i){if(i===0)return["just now","right now"];var a=rF[Math.floor(i/2)];return e>1&&(a+="s"),[e+" "+a+" ago","in "+e+" "+a]}var oF=["秒","分钟","小时","天","周","个月","年"];function aF(e,i){if(i===0)return["刚刚","片刻后"];var a=oF[~~(i/2)];return[e+" "+a+"前",e+" "+a+"后"]}var P3={},TC=function(e,i){P3[e]=i},lF=function(e){return P3[e]||P3.en_US},Fb=[60,60,24,7,365/7/12,12];function xS(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}function cF(e,i){var a=e<0?1:0;e=Math.abs(e);for(var l=e,h=0;e>=Fb[h]&&h<Fb.length;h++)e/=Fb[h];return e=Math.floor(e),h*=2,e>(h===0?9:1)&&(h+=1),i(e,h,l)[a].replace("%s",e.toString())}function hF(e,i){var a=i?xS(i):new Date;return(+a-+xS(e))/1e3}var I3=function(e,i,a){var l=hF(e,a&&a.relativeDate);return cF(l,lF(i))};TC("en_US",sF);TC("zh_CN",aF);const dF={components:{"x-search":bC,"x-notification":wC,MapboxMap:S5,MapboxNavigationControl:E5},data(){return{map:null,current:[],timer:null,fleets:[],zoom:3,center:[118,0],popup:null}},mounted(){this.timer=setInterval(()=>{this.loaded()},15*1e3),this.map.loadImage(C5,(e,i)=>{if(e)throw e;this.map.addImage("ship",i)}),this.popup=new ch.Popup({closeButton:!0,closeOnClick:!1})},methods:{async loaded(){let{data:e}=await axios.get("/api/fleets");this.fleets=e,e.forEach(i=>{this.positionShip(i)})},findFleet(e){if(!e.navigation)return;let i=e.id;this.popup.remove();const a=`<a class="no-style" href="/fleet/${i}"><b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${I3(e.navigation.updated_at+"+7")}</b></a>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(a).addTo(this.map),this.center=[e.navigation.lng,e.navigation.lat],this.zoom=5},pointerLocation(e){let i=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${i.lat.toFixed(5)}</span><span> ${i.lng.toFixed(5)}</span>`},positionShip(e){if(!e.navigation)return;let i=this;typeof this.map.getLayer(`ship-positions-${e.id}`)<"u"&&this.map.removeLayer(`ship-positions-${e.id}`).removeSource(`ship-positions-${e.id}`),this.map.addSource(`ship-positions-${e.id}`,{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.navigation.lng,e.navigation.lat]},properties:{scale:1,id:e.id,heading:e.navigation.heading,name:e.name,image:e.image,sog:e.navigation.sog,cog:e.navigation.cog,last_update:I3(e.navigation.updated_at+"+7")}}]}}),this.map.addLayer({id:`ship-positions-${e.id}`,type:"symbol",source:`ship-positions-${e.id}`,layout:{"icon-image":"ship","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}});const l=new ch.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click",`ship-positions-${e.id}`,h=>{let p=h.features[0].properties.id;location.href=`/fleet/${p}`}),this.map.on("mouseenter",`ship-positions-${e.id}`,h=>{i.map.getCanvas().style.cursor="pointer";const p=h.features[0].geometry.coordinates.slice(),y=`<b>${h.features[0].properties.name} [ID]</b> at ${h.features[0].properties.sog} <b>kn</b> / ${h.features[0].properties.cog}&deg;<br>last update: <b>${h.features[0].properties.last_update}</b>`;for(;Math.abs(h.lngLat.lng-p[0])>180;)p[0]+=h.lngLat.lng>p[0]?360:-360;l.setLngLat(p).setHTML(y).addTo(i.map)}),this.map.on("mouseleave",`ship-positions-${e.id}`,()=>{i.map.getCanvas().style.cursor="",l.remove()})}}},uF={class:"position-relative"},pF={class:"pointer-info",ref:"pointerInfo"};function fF(e,i,a,l,h,p){const y=za("x-search"),s=za("x-notification"),b=za("MapboxNavigationControl"),L=za("MapboxMap");return Dr(),ts("div",uF,[vn(y,{fleets:h.fleets,onSelected:p.findFleet},null,8,["fleets","onSelected"]),vn(s),ii("div",pF,null,512),vn(L,{onMbCreated:i[0]||(i[0]=ee=>h.map=ee),onMbLoad:p.loaded,onMbMousemove:p.pointerLocation,style:{height:"calc(100vh - 128px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/navigation-day-v1",center:h.center,zoom:h.zoom},{default:Ko(()=>[vn(b,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center","zoom"])])}const mF=Jd(dF,[["render",fF]]),gF=[{time:1673037001e3,id:"c78219c1-d81e-4d33-8984-e39fa3710bfa",ship_id:1,terminal_time:"2023-01-06 20:30:01",lat:-6.009818,lng:106.900525,wind_speed:17.4,wind_direction:21,heading:249.1,distance:88548.42,depth:-12,cog:282.6,sog:0,created_at:"2023-01-07 08:06:28",updated_at:"2023-01-07 08:06:28"},{time:1673037901e3,id:"ee8ec98d-526d-46bf-9d00-ec50433fafb3",ship_id:1,terminal_time:"2023-01-06 20:45:01",lat:-6.009707,lng:106.900482,wind_speed:19.6,wind_direction:15.4,heading:242.9,distance:88548.43,depth:-12.1,cog:358.3,sog:0,created_at:"2023-01-07 08:07:15",updated_at:"2023-01-07 08:07:15"},{time:1673038801e3,id:"22cab800-8d22-44fb-abc1-f5fafd1947a3",ship_id:1,terminal_time:"2023-01-06 21:00:01",lat:-6.00976,lng:106.90053,wind_speed:17.1,wind_direction:16.8,heading:247,distance:88548.44,depth:-12.3,cog:285.2,sog:.1,created_at:"2023-01-07 08:07:02",updated_at:"2023-01-07 08:07:02"},{time:1673039701e3,id:"ee9bb42d-3fac-455b-8140-e032fc3abdcc",ship_id:1,terminal_time:"2023-01-06 21:15:01",lat:-6.0098,lng:106.900533,wind_speed:16.5,wind_direction:19.6,heading:247.1,distance:88548.45,depth:-12.1,cog:208.1,sog:.1,created_at:"2023-01-07 08:06:48",updated_at:"2023-01-07 08:06:48"},{time:1673040601e3,id:"9bf240fd-0767-4f62-94c9-91a4ef95f0cd",ship_id:1,terminal_time:"2023-01-06 21:30:01",lat:-6.009815,lng:106.900515,wind_speed:18.8,wind_direction:21,heading:248,distance:88548.46,depth:-12.1,cog:192.2,sog:0,created_at:"2023-01-07 08:06:43",updated_at:"2023-01-07 08:06:43"},{time:1673041501e3,id:"f4b05071-bc72-44fd-b58b-63e43e69112b",ship_id:1,terminal_time:"2023-01-06 21:45:01",lat:-6.00981,lng:106.900533,wind_speed:18.8,wind_direction:19.6,heading:0,distance:0,depth:-12.1,cog:79.9,sog:0,created_at:"2023-01-07 08:07:29",updated_at:"2023-01-07 08:07:29"},{time:1673042401e3,id:"2d2f89d4-18d5-4ac9-b08b-949a44cad43a",ship_id:1,terminal_time:"2023-01-06 22:00:01",lat:-6.009765,lng:106.900487,wind_speed:15.1,wind_direction:16.8,heading:0,distance:0,depth:-12.1,cog:11.7,sog:0,created_at:"2023-01-07 08:08:00",updated_at:"2023-01-07 08:08:00"},{time:1673043301e3,id:"e79b359c-6eb7-41e3-a526-c4c06282e62a",ship_id:1,terminal_time:"2023-01-06 22:15:01",lat:-6.009688,lng:106.900457,wind_speed:18.6,wind_direction:11.2,heading:242.7,distance:88548.47,depth:-12.1,cog:121.2,sog:0,created_at:"2023-01-07 08:07:47",updated_at:"2023-01-07 08:07:47"},{time:1673044201e3,id:"2750d1e6-4e3c-4946-a145-3e66185627ef",ship_id:1,terminal_time:"2023-01-06 22:30:01",lat:-6.009655,lng:106.900433,wind_speed:14.7,wind_direction:12.5,heading:242.4,distance:88548.48,depth:-12.1,cog:185.9,sog:.1,created_at:"2023-01-07 08:07:40",updated_at:"2023-01-07 08:07:40"},{time:1673045101e3,id:"85d26971-e86f-4f16-8fa5-bc711fcb9b91",ship_id:1,terminal_time:"2023-01-06 22:45:01",lat:-6.0096,lng:106.900403,wind_speed:13.2,wind_direction:11.2,heading:239.6,distance:88548.48,depth:-12.1,cog:180.1,sog:0,created_at:"2023-01-07 08:08:22",updated_at:"2023-01-07 08:08:22"},{time:1673046001e3,id:"06fa9922-e8d6-41c9-886e-e5295949399c",ship_id:1,terminal_time:"2023-01-06 23:00:01",lat:-16.056667,lng:116.8825,wind_speed:16.3,wind_direction:16.8,heading:241.5,distance:88548.49,depth:-12.1,cog:0,sog:0,created_at:"2023-01-07 08:08:11",updated_at:"2023-01-07 08:08:11"},{time:1673046901e3,id:"557403a0-0bc2-42f1-9a07-646c8d66822e",ship_id:1,terminal_time:"2023-01-06 23:15:01",lat:-6.009613,lng:106.900427,wind_speed:18.6,wind_direction:16.8,heading:240.7,distance:88548.49,depth:-12.3,cog:.9,sog:0,created_at:"2023-01-07 08:08:10",updated_at:"2023-01-07 08:08:10"},{time:1673047801e3,id:"bb7144ef-0827-4d3d-9c7b-b0bb7881f441",ship_id:1,terminal_time:"2023-01-06 23:30:01",lat:-6.009658,lng:106.900407,wind_speed:14.1,wind_direction:21,heading:0,distance:0,depth:-12.3,cog:192.5,sog:0,created_at:"2023-01-07 08:07:55",updated_at:"2023-01-07 08:07:55"},{time:1673048701e3,id:"8df2a863-e7d4-4c66-ab22-310f7ac661f2",ship_id:1,terminal_time:"2023-01-06 23:45:01",lat:-6.009732,lng:106.900458,wind_speed:15.7,wind_direction:21,heading:244.8,distance:88548.49,depth:-12.3,cog:152.6,sog:0,created_at:"2023-01-07 08:08:26",updated_at:"2023-01-07 08:08:26"},{time:1673049601e3,id:"e7d31596-5cc9-4fab-850b-c892908430b8",ship_id:1,terminal_time:"2023-01-07 00:00:01",lat:-6.009775,lng:106.900575,wind_speed:19.8,wind_direction:21,heading:250.9,distance:88548.5,depth:-12.3,cog:178.6,sog:.1,created_at:"2023-01-07 08:08:38",updated_at:"2023-01-07 08:08:38"},{time:1673050503e3,id:"1ae1dd53-7f4b-48cb-9aa3-af6f97274fdb",ship_id:1,terminal_time:"2023-01-07 00:15:03",lat:-6.010635,lng:106.898792,wind_speed:21.1,wind_direction:33.6,heading:236.2,distance:88548.61,depth:-12.3,cog:236.1,sog:2.5,created_at:"2023-01-07 08:09:21",updated_at:"2023-01-07 08:09:21"},{time:1673051403e3,id:"c12a6b0d-c9db-4451-a7c5-6f13c29e0954",ship_id:1,terminal_time:"2023-01-07 00:30:03",lat:-6.030335,lng:106.886345,wind_speed:19.8,wind_direction:54.9,heading:195.2,distance:88550.03,depth:-10.6,cog:193.8,sog:7.1,created_at:"2023-01-07 08:08:47",updated_at:"2023-01-07 08:08:47"},{time:1673052303e3,id:"c5971d9c-2c92-4736-950d-6734e6b305cd",ship_id:1,terminal_time:"2023-01-07 00:45:03",lat:-6.059783,lng:106.883237,wind_speed:19.6,wind_direction:67.5,heading:185.4,distance:88551.81,depth:-9.3,cog:182.4,sog:6.5,created_at:"2023-01-07 08:09:35",updated_at:"2023-01-07 08:09:35"},{time:1673053308e3,id:"bd9913a5-6be1-4c3b-89d1-938a9cf2f382",ship_id:1,terminal_time:"2023-01-07 01:01:48",lat:-6.08938,lng:106.883468,wind_speed:16.3,wind_direction:78.7,heading:0,distance:0,depth:-9,cog:161.9,sog:8.8,created_at:"2023-01-07 08:09:28",updated_at:"2023-01-07 08:09:28"},{time:1673054103e3,id:"aac0a1a7-cf35-4a7c-bdff-faef950524be",ship_id:1,terminal_time:"2023-01-07 01:15:03",lat:-6.095888,lng:106.902867,wind_speed:7.9,wind_direction:168.9,heading:0,distance:0,depth:-8.5,cog:97.1,sog:4.1,created_at:"2023-01-07 08:09:07",updated_at:"2023-01-07 08:09:07"},{time:1673055003e3,id:"db38b400-18fe-4637-84bc-441c4333900c",ship_id:1,terminal_time:"2023-01-07 01:30:03",lat:-6.100858,lng:106.906243,wind_speed:6.2,wind_direction:259,heading:0,distance:0,depth:-6,cog:181,sog:1,created_at:"2023-01-07 08:09:40",updated_at:"2023-01-07 08:09:40"},{time:1673055903e3,id:"52f58367-b5da-4516-99ac-401425b6889a",ship_id:1,terminal_time:"2023-01-07 01:45:03",lat:-6.101412,lng:106.90592,wind_speed:7.7,wind_direction:270.3,heading:0,distance:88555.15,depth:-2.1,cog:209.8,sog:0,created_at:"2023-01-07 08:09:32",updated_at:"2023-01-07 08:09:32"},{time:1673056803e3,id:"f8144029-2e71-4a9f-a077-871b58532749",ship_id:1,terminal_time:"2023-01-07 02:00:03",lat:-6.101405,lng:106.905882,wind_speed:3.3,wind_direction:280,heading:0,distance:88555.16,depth:-2.1,cog:349.2,sog:0,created_at:"2023-01-07 08:09:31",updated_at:"2023-01-07 08:09:31"},{time:1673057703e3,id:"03be7e48-aa1c-4ffb-8c39-402c203a283e",ship_id:1,terminal_time:"2023-01-07 02:15:03",lat:-6.101395,lng:106.905868,wind_speed:8.1,wind_direction:281.5,heading:359.9,distance:88555.18,depth:-2.1,cog:328.8,sog:.1,created_at:"2023-01-07 08:10:05",updated_at:"2023-01-07 08:10:05"},{time:1673058603e3,id:"fa44cb0f-6f3d-4e8d-b2b5-6540c952f48b",ship_id:1,terminal_time:"2023-01-07 02:30:03",lat:-6.101392,lng:106.90591,wind_speed:11,wind_direction:259,heading:359.9,distance:88555.18,depth:-2.1,cog:302,sog:0,created_at:"2023-01-07 08:10:07",updated_at:"2023-01-07 08:10:07"},{time:1673059503e3,id:"75810f78-b08f-42b1-a508-ee1b5d13c9e5",ship_id:1,terminal_time:"2023-01-07 02:45:03",lat:-6.101392,lng:106.90587,wind_speed:11,wind_direction:274.5,heading:359.7,distance:88555.19,depth:-2.1,cog:336.9,sog:.1,created_at:"2023-01-07 08:10:09",updated_at:"2023-01-07 08:10:09"},{time:1673060403e3,id:"b8076a15-7e98-4b6b-af9b-0261c6d1ce26",ship_id:1,terminal_time:"2023-01-07 03:00:03",lat:-6.101413,lng:106.905907,wind_speed:9.3,wind_direction:267.4,heading:359.5,distance:88555.2,depth:-2.1,cog:327.9,sog:0,created_at:"2023-01-07 08:09:38",updated_at:"2023-01-07 08:09:38"},{time:1673061303e3,id:"32656a8d-db24-44cc-af81-a149b2fa4e1f",ship_id:1,terminal_time:"2023-01-07 03:15:03",lat:-6.101405,lng:106.905922,wind_speed:8.5,wind_direction:270.3,heading:359.3,distance:88555.2,depth:-5.5,cog:34.4,sog:.1,created_at:"2023-01-07 08:10:40",updated_at:"2023-01-07 08:10:40"},{time:1673062203e3,id:"3e3fcfcf-19d1-4d33-857a-f68b14328338",ship_id:1,terminal_time:"2023-01-07 03:30:03",lat:-6.101402,lng:106.905877,wind_speed:6.2,wind_direction:268.8,heading:359.5,distance:88555.2,depth:-2.1,cog:292.1,sog:0,created_at:"2023-01-07 08:10:33",updated_at:"2023-01-07 08:10:33"},{time:1673063103e3,id:"1c4697c3-b6e6-4eb4-b165-94d5d36d3aa1",ship_id:1,terminal_time:"2023-01-07 03:45:03",lat:-6.10142,lng:106.905858,wind_speed:5.2,wind_direction:264.5,heading:359.7,distance:88555.2,depth:-2.1,cog:129.7,sog:0,created_at:"2023-01-07 08:10:44",updated_at:"2023-01-07 08:10:44"},{time:1673064003e3,id:"ba69338a-3d22-4a08-bb11-d3f886eb6c9b",ship_id:1,terminal_time:"2023-01-07 04:00:03",lat:-6.101392,lng:106.905878,wind_speed:5.6,wind_direction:264.5,heading:359.8,distance:88555.2,depth:-2.3,cog:233.4,sog:0,created_at:"2023-01-07 08:10:39",updated_at:"2023-01-07 08:10:39"},{time:1673064903e3,id:"bd930a40-a514-4c87-8044-e8633e1c1c52",ship_id:1,terminal_time:"2023-01-07 04:15:03",lat:-6.101395,lng:106.905902,wind_speed:6.4,wind_direction:252,heading:359.7,distance:88555.2,depth:0,cog:274.4,sog:0,created_at:"2023-01-07 08:11:40",updated_at:"2023-01-07 08:11:40"},{time:1673065803e3,id:"6544c411-e0b0-40bb-bf1e-efd22c3a2595",ship_id:1,terminal_time:"2023-01-07 04:30:03",lat:-6.101398,lng:106.905932,wind_speed:5.4,wind_direction:252,heading:359.7,distance:88555.2,depth:-2.5,cog:276.2,sog:0,created_at:"2023-01-07 08:11:26",updated_at:"2023-01-07 08:11:26"},{time:1673066703e3,id:"02b25b22-4c20-48a6-a3ad-5944f017c3b9",ship_id:1,terminal_time:"2023-01-07 04:45:03",lat:-6.101387,lng:106.9059,wind_speed:9.3,wind_direction:257.5,heading:0,distance:0,depth:-2.5,cog:163.2,sog:0,created_at:"2023-01-07 08:10:53",updated_at:"2023-01-07 08:10:53"},{time:1673067608e3,id:"523c3936-bffc-4662-9879-e3dff459febf",ship_id:1,terminal_time:"2023-01-07 05:00:08",lat:-6.101402,lng:106.905932,wind_speed:3.6,wind_direction:257.5,heading:359.7,distance:88555.21,depth:-2.5,cog:195.8,sog:0,created_at:"2023-01-07 08:11:05",updated_at:"2023-01-07 08:11:05"},{time:1673068503e3,id:"ccdee8cd-a739-471e-9dfc-0aa08c034f7a",ship_id:1,terminal_time:"2023-01-07 05:15:03",lat:-6.101402,lng:106.905907,wind_speed:6,wind_direction:257.5,heading:359.6,distance:88555.21,depth:-6.1,cog:162.3,sog:0,created_at:"2023-01-07 08:10:45",updated_at:"2023-01-07 08:10:45"},{time:1673069403e3,id:"d3d4589c-77e7-48fc-b418-c5957dae636d",ship_id:1,terminal_time:"2023-01-07 05:30:03",lat:-6.101398,lng:106.905877,wind_speed:7.7,wind_direction:263.1,heading:359.6,distance:88555.21,depth:-6,cog:295.8,sog:0,created_at:"2023-01-07 08:11:06",updated_at:"2023-01-07 08:11:06"},{time:1673070303e3,id:"9285db16-04b0-4d1a-812e-94fe03b78b0d",ship_id:1,terminal_time:"2023-01-07 05:45:03",lat:-6.101412,lng:106.90585,wind_speed:9.3,wind_direction:274.5,heading:359.6,distance:88555.21,depth:-2.6,cog:268.8,sog:0,created_at:"2023-01-07 08:11:37",updated_at:"2023-01-07 08:11:37"},{time:1673071203e3,id:"4cb25dd1-23a6-4a37-81de-b46cc1e8df0b",ship_id:1,terminal_time:"2023-01-07 06:00:03",lat:-6.101398,lng:106.905858,wind_speed:5.6,wind_direction:268.8,heading:359.6,distance:88555.21,depth:-2.8,cog:327.7,sog:0,created_at:"2023-01-07 08:12:02",updated_at:"2023-01-07 08:12:02"},{time:1673072103e3,id:"6ebeea29-07ba-4384-8f78-c0244a1a85e8",ship_id:1,terminal_time:"2023-01-07 06:15:03",lat:-6.101398,lng:106.905865,wind_speed:6,wind_direction:268.8,heading:0,distance:0,depth:-2.8,cog:324.2,sog:0,created_at:"2023-01-07 08:11:27",updated_at:"2023-01-07 08:11:27"},{time:1673073003e3,id:"de3806a1-9032-426c-84dc-93a8c6d7c31d",ship_id:1,terminal_time:"2023-01-07 06:30:03",lat:-6.101413,lng:106.905873,wind_speed:3.6,wind_direction:256.1,heading:359.7,distance:88555.21,depth:-2.8,cog:5.8,sog:0,created_at:"2023-01-07 08:12:23",updated_at:"2023-01-07 08:12:23"},{time:1673073903e3,id:"65707fec-2ee3-473e-beeb-9b2e845a36ca",ship_id:1,terminal_time:"2023-01-07 06:45:03",lat:-6.101433,lng:106.905833,wind_speed:6.8,wind_direction:257.5,heading:359.7,distance:88555.21,depth:-2.8,cog:304.6,sog:0,created_at:"2023-01-07 08:12:19",updated_at:"2023-01-07 08:12:19"},{time:1673074803e3,id:"6fa32b36-f399-4d56-8fa7-bea17b414006",ship_id:1,terminal_time:"2023-01-07 07:00:03",lat:-6.101392,lng:106.905888,wind_speed:3.4,wind_direction:246.3,heading:0,distance:0,depth:-2.8,cog:93.1,sog:0,created_at:"2023-01-07 08:12:40",updated_at:"2023-01-07 08:12:40"},{time:1673075703e3,id:"67ff30a8-02ef-41c0-bd19-463ebbd32668",ship_id:1,terminal_time:"2023-01-07 07:15:03",lat:-6.101408,lng:106.905885,wind_speed:7.5,wind_direction:229.4,heading:359.7,distance:88555.21,depth:-2.8,cog:197,sog:0,created_at:"2023-01-07 08:12:42",updated_at:"2023-01-07 08:12:42"},{time:1673094603e3,id:"3f01785d-ea13-49f9-b6ae-419329c8f20a",ship_id:1,terminal_time:"2023-01-07 12:30:03",lat:-6.101452,lng:106.905917,wind_speed:14.7,wind_direction:347.6,heading:0,distance:0,depth:-3.1,cog:35.3,sog:0,created_at:"2023-01-08 08:13:52",updated_at:"2023-01-08 08:13:52"},{time:1673095503e3,id:"317256ef-d958-4792-ac19-0af4678f296f",ship_id:1,terminal_time:"2023-01-07 12:45:03",lat:-6.101427,lng:106.905863,wind_speed:14.9,wind_direction:315.3,heading:359.7,distance:88555.22,depth:-3,cog:35.3,sog:0,created_at:"2023-01-08 08:24:39",updated_at:"2023-01-08 08:24:39"},{time:1673096403e3,id:"01638351-e630-4d24-a1b3-dc902b3abd82",ship_id:1,terminal_time:"2023-01-07 13:00:03",lat:-6.10141,lng:106.905895,wind_speed:17.3,wind_direction:326.5,heading:359.7,distance:88555.22,depth:-3,cog:91.4,sog:0,created_at:"2023-01-08 08:20:11",updated_at:"2023-01-08 08:20:11"},{time:1673097303e3,id:"70c8224a-27c3-469d-9482-f3b2e98f4bee",ship_id:1,terminal_time:"2023-01-07 13:15:03",lat:-6.101365,lng:106.905885,wind_speed:13.9,wind_direction:342,heading:359.7,distance:88555.22,depth:-3,cog:153.7,sog:0,created_at:"2023-01-08 08:07:44",updated_at:"2023-01-08 08:07:44"},{time:1673098203e3,id:"54be4b76-e5c1-4af2-b06a-d08e68ca8e6d",ship_id:1,terminal_time:"2023-01-07 13:30:03",lat:-6.101402,lng:106.905883,wind_speed:8.3,wind_direction:309.6,heading:359.9,distance:88555.22,depth:-2.8,cog:103.8,sog:0,created_at:"2023-01-08 08:05:41",updated_at:"2023-01-08 08:05:41"},{time:1673099103e3,id:"f45be026-3f21-4763-9f2e-599cfd772936",ship_id:1,terminal_time:"2023-01-07 13:45:03",lat:-6.101387,lng:106.90587,wind_speed:7.1,wind_direction:336.4,heading:359.6,distance:88555.22,depth:-3,cog:22,sog:0,created_at:"2023-01-08 08:25:15",updated_at:"2023-01-08 08:25:15"},{time:1673100003e3,id:"dda32aec-7c91-4a18-bc02-c6f8b1d47700",ship_id:1,terminal_time:"2023-01-07 14:00:03",lat:-6.101395,lng:106.905882,wind_speed:7.9,wind_direction:332.1,heading:0,distance:0,depth:-2.8,cog:57.4,sog:0,created_at:"2023-01-08 08:08:16",updated_at:"2023-01-08 08:08:16"},{time:1673100903e3,id:"b22e0b57-db66-4fe8-8773-39a691c334f9",ship_id:1,terminal_time:"2023-01-07 14:15:03",lat:-6.101398,lng:106.905873,wind_speed:8.3,wind_direction:350.5,heading:359.6,distance:88555.22,depth:-2.8,cog:37.9,sog:0,created_at:"2023-01-08 08:21:48",updated_at:"2023-01-08 08:21:48"},{time:1673101803e3,id:"4cb687f7-6740-478a-b9d8-7c415359678f",ship_id:1,terminal_time:"2023-01-07 14:30:03",lat:-6.101415,lng:106.90584,wind_speed:7.1,wind_direction:334.9,heading:359.7,distance:88555.23,depth:-2.8,cog:335.3,sog:0,created_at:"2023-01-08 08:14:53",updated_at:"2023-01-08 08:14:53"},{time:1673102703e3,id:"31d66256-54fa-4245-874b-a971ded2ac22",ship_id:1,terminal_time:"2023-01-07 14:45:03",lat:-6.10138,lng:106.905867,wind_speed:14.9,wind_direction:337.8,heading:359.7,distance:88555.23,depth:-2.8,cog:27.8,sog:0,created_at:"2023-01-08 08:03:26",updated_at:"2023-01-08 08:03:26"},{time:1673103603e3,id:"6e9c3626-321a-4c87-adb4-5e285a43cdf7",ship_id:1,terminal_time:"2023-01-07 15:00:03",lat:-6.101413,lng:106.905813,wind_speed:9.3,wind_direction:315.3,heading:359.6,distance:88555.24,depth:-2.6,cog:326.6,sog:.1,created_at:"2023-01-08 08:01:50",updated_at:"2023-01-08 08:01:50"},{time:1673104503e3,id:"dabbcbd4-70dc-48a7-9bf6-6a791bf70bf0",ship_id:1,terminal_time:"2023-01-07 15:15:03",lat:-6.101362,lng:106.905902,wind_speed:8.5,wind_direction:315.3,heading:359.6,distance:88555.25,depth:-2.6,cog:286.2,sog:0,created_at:"2023-01-08 08:14:31",updated_at:"2023-01-08 08:14:31"},{time:1673105403e3,id:"9ce52c58-26fe-4b79-acf6-efd91d7c3dea",ship_id:1,terminal_time:"2023-01-07 15:30:03",lat:-6.101402,lng:106.905895,wind_speed:8.7,wind_direction:290,heading:359.6,distance:88555.25,depth:-2.5,cog:39.8,sog:0,created_at:"2023-01-08 08:06:38",updated_at:"2023-01-08 08:06:38"},{time:1673106303e3,id:"fab10037-7bec-4b1b-a448-af671c2e5a09",ship_id:1,terminal_time:"2023-01-07 15:45:03",lat:-6.101377,lng:106.905907,wind_speed:9.1,wind_direction:302.5,heading:359.6,distance:88555.25,depth:-2.5,cog:11.5,sog:0,created_at:"2023-01-08 08:26:36",updated_at:"2023-01-08 08:26:36"},{time:1673107203e3,id:"72c4e9f4-b126-4cd5-af12-72d225bcc777",ship_id:1,terminal_time:"2023-01-07 16:00:03",lat:-6.101407,lng:106.90585,wind_speed:16.5,wind_direction:261,heading:359.5,distance:88555.26,depth:-2.5,cog:227.4,sog:0,created_at:"2023-01-08 08:29:59",updated_at:"2023-01-08 08:29:59"},{time:1673108103e3,id:"4dda9ef7-b131-499c-abb6-90d31b833212",ship_id:1,terminal_time:"2023-01-07 16:15:03",lat:-6.101415,lng:106.905928,wind_speed:7.7,wind_direction:274.5,heading:359.7,distance:88555.26,depth:-2.5,cog:276.8,sog:0,created_at:"2023-01-08 08:35:23",updated_at:"2023-01-08 08:35:23"},{time:1673109003e3,id:"eb055a93-284e-490c-b241-fc286a5245cb",ship_id:1,terminal_time:"2023-01-07 16:30:03",lat:-6.101398,lng:106.905935,wind_speed:18.4,wind_direction:281.5,heading:359.5,distance:88555.26,depth:-2.5,cog:150.5,sog:.1,created_at:"2023-01-08 08:19:17",updated_at:"2023-01-08 08:19:17"},{time:1673109903e3,id:"70fe1092-70d1-4e3e-9e6a-880e95753afe",ship_id:1,terminal_time:"2023-01-07 16:45:03",lat:-6.101348,lng:106.905867,wind_speed:12.8,wind_direction:244.9,heading:359.6,distance:88555.27,depth:-2.3,cog:354.6,sog:0,created_at:"2023-01-08 08:39:36",updated_at:"2023-01-08 08:39:36"},{time:1673110803e3,id:"256314cb-dc49-4a3d-bfc0-33982995e693",ship_id:1,terminal_time:"2023-01-07 17:00:03",lat:-6.101383,lng:106.905903,wind_speed:12,wind_direction:291.4,heading:359.6,distance:88555.27,depth:-2.5,cog:354.6,sog:0,created_at:"2023-01-08 08:12:53",updated_at:"2023-01-08 08:12:53"},{time:1673111703e3,id:"3cec9ede-f851-4440-95b3-e72f237da615",ship_id:1,terminal_time:"2023-01-07 17:15:03",lat:-6.101377,lng:106.905882,wind_speed:9.9,wind_direction:292.8,heading:359.6,distance:88555.27,depth:-2.5,cog:311.3,sog:0,created_at:"2023-01-08 08:18:20",updated_at:"2023-01-08 08:18:20"},{time:1673112893e3,id:"da145ee1-2387-4054-9190-cfd1c2e5f63c",ship_id:1,terminal_time:"2023-01-07 17:34:53",lat:-6.101393,lng:106.905928,wind_speed:13.6,wind_direction:257.1,heading:359.6,distance:88555.27,depth:-2.5,cog:278.9,sog:0,created_at:"2023-01-08 08:26:11",updated_at:"2023-01-08 08:26:11"},{time:1673113508e3,id:"25b0fe9e-9b29-4029-a7db-9138ef1c0173",ship_id:1,terminal_time:"2023-01-07 17:45:08",lat:-6.101463,lng:106.90597,wind_speed:14.3,wind_direction:263.1,heading:359.6,distance:88555.27,depth:-2.5,cog:350.3,sog:.1,created_at:"2023-01-08 08:06:11",updated_at:"2023-01-08 08:06:11"},{time:1673114403e3,id:"d85ae345-eb3f-420f-ae10-c8f0c078fb2d",ship_id:1,terminal_time:"2023-01-07 18:00:03",lat:-6.101395,lng:106.90591,wind_speed:15.3,wind_direction:246.3,heading:359.6,distance:88555.28,depth:-2.5,cog:8.3,sog:0,created_at:"2023-01-08 08:21:44",updated_at:"2023-01-08 08:21:44"},{time:1673115303e3,id:"388136b9-939e-4016-bb94-69e2165428e2",ship_id:1,terminal_time:"2023-01-07 18:15:03",lat:-6.101417,lng:106.905957,wind_speed:11,wind_direction:237,heading:359.7,distance:88555.28,depth:-2.5,cog:320.6,sog:0,created_at:"2023-01-08 08:27:27",updated_at:"2023-01-08 08:27:27"},{time:1673116203e3,id:"718bb2e9-5a2a-47c8-9899-3f613b300f13",ship_id:1,terminal_time:"2023-01-07 18:30:03",lat:-6.1014230000000005,lng:106.90596,wind_speed:10.1,wind_direction:252,heading:359.7,distance:88555.28,depth:-2.5,cog:262,sog:.3,created_at:"2023-01-08 08:35:15",updated_at:"2023-01-08 08:35:15"},{time:1673117103e3,id:"58662b8e-afe4-4e8d-9d81-e92fd5bd6de1",ship_id:1,terminal_time:"2023-01-07 18:45:03",lat:-6.101337,lng:106.905935,wind_speed:16.7,wind_direction:259,heading:359.6,distance:88555.28,depth:-2.5,cog:265.6,sog:0,created_at:"2023-01-08 08:24:32",updated_at:"2023-01-08 08:24:32"},{time:1673118003e3,id:"9dcc2e7d-fc6a-4026-8452-732e033d633d",ship_id:1,terminal_time:"2023-01-07 19:00:03",lat:-6.101408,lng:106.905923,wind_speed:12.6,wind_direction:270.4,heading:0,distance:0,depth:-2.5,cog:251.1,sog:.1,created_at:"2023-01-08 08:31:10",updated_at:"2023-01-08 08:31:10"},{time:1673118903e3,id:"d77f77c6-11e3-4d58-8a75-767aacbdee1c",ship_id:1,terminal_time:"2023-01-07 19:15:03",lat:-6.101403,lng:106.905935,wind_speed:9.3,wind_direction:274.5,heading:359.7,distance:88555.28,depth:-2.5,cog:242.4,sog:.1,created_at:"2023-01-08 08:32:39",updated_at:"2023-01-08 08:32:39"},{time:1673119803e3,id:"8676ff37-9bd6-4f53-8ba7-7eaad2bd126b",ship_id:1,terminal_time:"2023-01-07 19:30:03",lat:-6.101392,lng:106.905928,wind_speed:15.3,wind_direction:247.7,heading:359.7,distance:88555.28,depth:-2.5,cog:252.7,sog:0,created_at:"2023-01-08 08:34:35",updated_at:"2023-01-08 08:34:35"},{time:1673120703e3,id:"5a10a4d6-445d-4387-9c6a-e002b768b83b",ship_id:1,terminal_time:"2023-01-07 19:45:03",lat:-6.101385,lng:106.905918,wind_speed:9.1,wind_direction:259,heading:359.7,distance:88555.29,depth:-2.5,cog:142.2,sog:0,created_at:"2023-01-08 08:31:06",updated_at:"2023-01-08 08:31:06"},{time:1673121603e3,id:"b43588b1-8bee-476f-ba71-4ee6dc1af694",ship_id:1,terminal_time:"2023-01-07 20:00:03",lat:-6.101337,lng:106.90589,wind_speed:9.9,wind_direction:268.8,heading:359.6,distance:88555.29,depth:-6,cog:205.2,sog:0,created_at:"2023-01-08 08:47:20",updated_at:"2023-01-08 08:47:20"},{time:1673122503e3,id:"6ef2d5ef-f541-4f4e-98b6-8369ed0998fb",ship_id:1,terminal_time:"2023-01-07 20:15:03",lat:-6.101357,lng:106.90591,wind_speed:9.1,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-2.5,cog:133.2,sog:0,created_at:"2023-01-08 08:45:51",updated_at:"2023-01-08 08:45:51"},{time:1673123403e3,id:"9ac81b12-4d78-42fa-926f-0e27f16a6abe",ship_id:1,terminal_time:"2023-01-07 20:30:03",lat:-6.101347,lng:106.905885,wind_speed:11.2,wind_direction:268.8,heading:359.7,distance:88555.29,depth:-2.5,cog:129.4,sog:0,created_at:"2023-01-08 08:43:43",updated_at:"2023-01-08 08:43:43"},{time:1673124303e3,id:"9c3c0c72-7ede-45ce-8cd0-45f46d05cf4f",ship_id:1,terminal_time:"2023-01-07 20:45:03",lat:-6.101392,lng:106.905992,wind_speed:9.9,wind_direction:280,heading:359.7,distance:88555.29,depth:-2.5,cog:269.2,sog:0,created_at:"2023-01-08 08:42:24",updated_at:"2023-01-08 08:42:24"},{time:1673125203e3,id:"180ab6f9-b46b-4175-9c0c-cfbd47d75a75",ship_id:1,terminal_time:"2023-01-07 21:00:03",lat:-6.10138,lng:106.905928,wind_speed:6.2,wind_direction:259,heading:359.6,distance:88555.29,depth:-2.5,cog:273,sog:.1,created_at:"2023-01-08 08:44:15",updated_at:"2023-01-08 08:44:15"},{time:1673126103e3,id:"aca79290-d836-4f81-b20c-db5c3d1c9ed5",ship_id:1,terminal_time:"2023-01-07 21:15:03",lat:-6.101395,lng:106.905888,wind_speed:8.5,wind_direction:270.3,heading:359.7,distance:88555.29,depth:-5.5,cog:284.7,sog:0,created_at:"2023-01-08 08:44:39",updated_at:"2023-01-08 08:44:39"},{time:1673127003e3,id:"3d37da9b-e78d-4c94-9628-2f75dfacd975",ship_id:1,terminal_time:"2023-01-07 21:30:03",lat:-6.10136,lng:106.905928,wind_speed:7.1,wind_direction:291.4,heading:359.7,distance:88555.29,depth:-2.5,cog:288.6,sog:0,created_at:"2023-01-08 08:43:59",updated_at:"2023-01-08 08:43:59"},{time:1673127903e3,id:"c85fc3eb-6766-4f04-b655-698bee2b112a",ship_id:1,terminal_time:"2023-01-07 21:45:03",lat:-6.101362,lng:106.905857,wind_speed:6.9,wind_direction:257.5,heading:359.8,distance:88555.29,depth:-2.3,cog:157.1,sog:0,created_at:"2023-01-08 08:48:25",updated_at:"2023-01-08 08:48:25"},{time:1673128803e3,id:"e0371ba8-d853-4a52-b612-ef2dd4db6f02",ship_id:1,terminal_time:"2023-01-07 22:00:03",lat:-6.101388,lng:106.905863,wind_speed:9.9,wind_direction:248,heading:359.6,distance:88555.29,depth:-2.5,cog:157.1,sog:0,created_at:"2023-01-08 08:46:57",updated_at:"2023-01-08 08:46:57"},{time:1673129703e3,id:"6aabe75f-fedb-42af-8440-6af78469558d",ship_id:1,terminal_time:"2023-01-07 22:15:03",lat:-6.101375,lng:106.905928,wind_speed:6.9,wind_direction:287.1,heading:359.7,distance:88555.29,depth:-2.3,cog:216.5,sog:0,created_at:"2023-01-08 08:54:20",updated_at:"2023-01-08 08:54:20"},{time:1673130603e3,id:"4068d565-7aa1-427b-8727-8edb9c691ecc",ship_id:1,terminal_time:"2023-01-07 22:30:03",lat:-6.101373,lng:106.905895,wind_speed:7.9,wind_direction:287.1,heading:359.8,distance:88555.29,depth:-2.5,cog:205.4,sog:0,created_at:"2023-01-08 08:51:59",updated_at:"2023-01-08 08:51:59"},{time:1673131503e3,id:"701364de-f35b-4f45-b2f2-65f53ffe574a",ship_id:1,terminal_time:"2023-01-07 22:45:03",lat:-6.101392,lng:106.905898,wind_speed:12.4,wind_direction:287.1,heading:359.8,distance:88555.29,depth:-2.5,cog:222.7,sog:0,created_at:"2023-01-08 08:48:51",updated_at:"2023-01-08 08:48:51"},{time:1673132403e3,id:"658bd145-0a61-4c2d-94fb-1bf054a3264c",ship_id:1,terminal_time:"2023-01-07 23:00:03",lat:-6.101363,lng:106.905863,wind_speed:7.9,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-5.6,cog:129.2,sog:0,created_at:"2023-01-08 08:48:31",updated_at:"2023-01-08 08:48:31"},{time:1673133303e3,id:"58f92089-82d0-4bd5-9832-04677dc76be5",ship_id:1,terminal_time:"2023-01-07 23:15:03",lat:-6.101358,lng:106.905842,wind_speed:8.7,wind_direction:294.1,heading:359.7,distance:88555.29,depth:-2.5,cog:128.4,sog:0,created_at:"2023-01-08 08:55:51",updated_at:"2023-01-08 08:55:51"},{time:1673134203e3,id:"4736fadb-7f73-40fa-a2de-b9fa0a792b3e",ship_id:1,terminal_time:"2023-01-07 23:30:03",lat:-6.101348,lng:106.905888,wind_speed:10.6,wind_direction:297,heading:359.6,distance:88555.29,depth:-2.5,cog:344,sog:0,created_at:"2023-01-08 08:59:25",updated_at:"2023-01-08 08:59:25"},{time:1673135178e3,id:"bf83dfc7-4cb9-4b55-965a-1452ed8e111e",ship_id:1,terminal_time:"2023-01-07 23:46:18",lat:-6.101382,lng:106.905902,wind_speed:10.8,wind_direction:281.6,heading:359.7,distance:88555.29,depth:-5.6,cog:32.8,sog:0,created_at:"2023-01-08 08:58:17",updated_at:"2023-01-08 08:58:17"},{time:1673136003e3,id:"1e9d6cbb-3da5-46c2-8c1d-7c43e9e347d7",ship_id:1,terminal_time:"2023-01-08 00:00:03",lat:-6.10139,lng:106.905845,wind_speed:6.9,wind_direction:270.3,heading:0,distance:0,depth:-5.8,cog:57.4,sog:0,created_at:"2023-01-08 08:54:51",updated_at:"2023-01-08 08:54:51"},{time:1673136904e3,id:"9a56f8c9-a895-41ed-88cb-c63672950f2c",ship_id:1,terminal_time:"2023-01-08 00:15:04",lat:-6.101378,lng:106.905893,wind_speed:6.8,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-5.6,cog:336.6,sog:0,created_at:"2023-01-08 08:58:04",updated_at:"2023-01-08 08:58:04"},{time:1673137804e3,id:"71adab84-32a5-43f8-9a16-44dd7cdf4c02",ship_id:1,terminal_time:"2023-01-08 00:30:04",lat:-6.101417,lng:106.905875,wind_speed:2.5,wind_direction:268.8,heading:359.6,distance:88555.29,depth:-2.5,cog:80.7,sog:0,created_at:"2023-01-08 08:56:16",updated_at:"2023-01-08 08:56:16"},{time:1673138704e3,id:"2b4e0681-bca8-423e-968c-9cbb94911ade",ship_id:1,terminal_time:"2023-01-08 00:45:04",lat:-6.101407,lng:106.905868,wind_speed:6.6,wind_direction:270.3,heading:359.5,distance:88555.29,depth:-2.5,cog:281.8,sog:0,created_at:"2023-01-08 09:02:07",updated_at:"2023-01-08 09:02:07"},{time:1673139604e3,id:"a5757655-280b-4850-9423-55cce4abb3d4",ship_id:1,terminal_time:"2023-01-08 01:00:04",lat:-6.101452,lng:106.905895,wind_speed:8.7,wind_direction:302.5,heading:359.6,distance:88555.29,depth:-2.5,cog:159.5,sog:0,created_at:"2023-01-08 09:02:50",updated_at:"2023-01-08 09:02:50"},{time:1673140504e3,id:"38de4f6b-61c5-490a-a785-9c11f352809e",ship_id:1,terminal_time:"2023-01-08 01:15:04",lat:-6.101402,lng:106.905898,wind_speed:7.9,wind_direction:292.8,heading:359.8,distance:88555.29,depth:-2.5,cog:171.7,sog:0,created_at:"2023-01-08 09:05:18",updated_at:"2023-01-08 09:05:18"},{time:1673141404e3,id:"0a1776c1-1425-41e8-91b9-367b23512d33",ship_id:1,terminal_time:"2023-01-08 01:30:04",lat:-6.101413,lng:106.905882,wind_speed:5.6,wind_direction:297,heading:359.7,distance:88555.29,depth:-2.5,cog:149.7,sog:.2,created_at:"2023-01-08 09:02:30",updated_at:"2023-01-08 09:02:30"},{time:1673142304e3,id:"25822b6e-cc26-4120-a534-707fae66297d",ship_id:1,terminal_time:"2023-01-08 01:45:04",lat:-6.101383,lng:106.905855,wind_speed:3.8,wind_direction:291.4,heading:359.7,distance:88555.3,depth:-2.5,cog:211.1,sog:0,created_at:"2023-01-08 09:05:11",updated_at:"2023-01-08 09:05:11"},{time:1673143204e3,id:"e6ba87a3-cf19-4484-886d-ed8a0850dd54",ship_id:1,terminal_time:"2023-01-08 02:00:04",lat:-6.101395,lng:106.905888,wind_speed:6.4,wind_direction:268.8,heading:359.8,distance:88555.31,depth:-2.5,cog:342.7,sog:.1,created_at:"2023-01-08 09:04:03",updated_at:"2023-01-08 09:04:03"},{time:1673144104e3,id:"828812ff-8977-46cf-8927-bec2687ff712",ship_id:1,terminal_time:"2023-01-08 02:15:04",lat:-6.101372,lng:106.905882,wind_speed:3.8,wind_direction:268.8,heading:359.8,distance:88555.33,depth:-2.6,cog:297.3,sog:.1,created_at:"2023-01-08 09:13:33",updated_at:"2023-01-08 09:13:33"},{time:1673145004e3,id:"25389b81-dc4a-46e8-ad1c-1660eb03a08f",ship_id:1,terminal_time:"2023-01-08 02:30:04",lat:-6.101395,lng:106.905907,wind_speed:7.5,wind_direction:264.5,heading:359.8,distance:88555.33,depth:-2.6,cog:315.1,sog:0,created_at:"2023-01-08 09:06:48",updated_at:"2023-01-08 09:06:48"},{time:1673145904e3,id:"0047c054-acbc-4a29-9ccd-52ba001da3a7",ship_id:1,terminal_time:"2023-01-08 02:45:04",lat:-6.101398,lng:106.905878,wind_speed:6.6,wind_direction:264.5,heading:0,distance:0,depth:-2.6,cog:336.3,sog:0,created_at:"2023-01-08 09:11:48",updated_at:"2023-01-08 09:11:48"},{time:1673146804e3,id:"829090c9-17ba-4477-8592-deb4da86dc63",ship_id:1,terminal_time:"2023-01-08 03:00:04",lat:-6.101402,lng:106.905895,wind_speed:5.4,wind_direction:264.5,heading:359.7,distance:88555.35,depth:-2.6,cog:17.1,sog:0,created_at:"2023-01-08 09:06:28",updated_at:"2023-01-08 09:06:28"},{time:1673147709e3,id:"1098eec6-77fe-4726-9e36-eea8a0a47b48",ship_id:1,terminal_time:"2023-01-08 03:15:09",lat:-6.101387,lng:106.905917,wind_speed:6.2,wind_direction:260.4,heading:359.7,distance:88555.35,depth:-2.6,cog:23.6,sog:0,created_at:"2023-01-08 09:09:10",updated_at:"2023-01-08 09:09:10"},{time:1673148604e3,id:"04d539ed-3c9f-49ed-aec5-3d4926391e7e",ship_id:1,terminal_time:"2023-01-08 03:30:04",lat:-6.101397,lng:106.90589,wind_speed:6.8,wind_direction:260.4,heading:359.7,distance:88555.36,depth:-2.6,cog:65.8,sog:0,created_at:"2023-01-08 09:15:33",updated_at:"2023-01-08 09:15:33"},{time:1673149504e3,id:"e5e010fd-95da-4dfb-a12f-ef9f733b8165",ship_id:1,terminal_time:"2023-01-08 03:45:04",lat:-6.101377,lng:106.905885,wind_speed:5.6,wind_direction:274.5,heading:359.6,distance:88555.36,depth:-2.6,cog:67.7,sog:0,created_at:"2023-01-08 09:10:57",updated_at:"2023-01-08 09:10:57"},{time:1673150404e3,id:"dcfe2cd6-711d-461f-90f7-4bf6c4a1b9ee",ship_id:1,terminal_time:"2023-01-08 04:00:04",lat:-6.101388,lng:106.905938,wind_speed:2.5,wind_direction:274.5,heading:359.5,distance:88555.36,depth:-2.6,cog:223,sog:.1,created_at:"2023-01-08 09:14:36",updated_at:"2023-01-08 09:14:36"},{time:1673151304e3,id:"ddf54501-6fbc-456e-bf5a-c79e016e9b00",ship_id:1,terminal_time:"2023-01-08 04:15:04",lat:-6.101403,lng:106.905913,wind_speed:6.4,wind_direction:280,heading:359.7,distance:88555.36,depth:-2.8,cog:188.7,sog:.1,created_at:"2023-01-08 09:21:25",updated_at:"2023-01-08 09:21:25"},{time:1673152204e3,id:"081423ac-f636-4f7a-9daf-5f4dab29c404",ship_id:1,terminal_time:"2023-01-08 04:30:04",lat:-6.101418,lng:106.90596,wind_speed:9.3,wind_direction:287.1,heading:0,distance:0,depth:-2.8,cog:159.5,sog:0,created_at:"2023-01-08 09:15:25",updated_at:"2023-01-08 09:15:25"},{time:1673153104e3,id:"c45710ce-5dc1-4757-ab7a-4d938442da15",ship_id:1,terminal_time:"2023-01-08 04:45:04",lat:-6.101403,lng:106.905892,wind_speed:8.1,wind_direction:274.5,heading:359.8,distance:88555.36,depth:-2.8,cog:125.5,sog:0,created_at:"2023-01-08 09:19:12",updated_at:"2023-01-08 09:19:12"},{time:1673154004e3,id:"15229013-0e45-4bf3-9949-1ea58fc0908a",ship_id:1,terminal_time:"2023-01-08 05:00:04",lat:-6.101338,lng:106.905882,wind_speed:9.1,wind_direction:259,heading:359.9,distance:88555.36,depth:-2.6,cog:136.1,sog:0,created_at:"2023-01-08 09:20:01",updated_at:"2023-01-08 09:20:01"},{time:1673154904e3,id:"d27c1b20-889b-4499-ba40-6e6c614178f8",ship_id:1,terminal_time:"2023-01-08 05:15:04",lat:-6.101348,lng:106.905915,wind_speed:10.1,wind_direction:257.5,heading:359.8,distance:88555.36,depth:-2.8,cog:151.6,sog:.1,created_at:"2023-01-08 09:23:27",updated_at:"2023-01-08 09:23:27"},{time:1673155804e3,id:"9a444a98-e7df-4f70-975d-85d5d62e290f",ship_id:1,terminal_time:"2023-01-08 05:30:04",lat:-6.101363,lng:106.905898,wind_speed:6.9,wind_direction:259,heading:359.7,distance:88555.36,depth:-2.8,cog:33.5,sog:0,created_at:"2023-01-08 09:21:23",updated_at:"2023-01-08 09:21:23"},{time:1673156704e3,id:"fc24c51c-214a-4d78-be5a-4c1c26802e09",ship_id:1,terminal_time:"2023-01-08 05:45:04",lat:-6.101373,lng:106.90589,wind_speed:9.9,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-2.8,cog:325.1,sog:0,created_at:"2023-01-08 09:25:36",updated_at:"2023-01-08 09:25:36"},{time:1673157604e3,id:"32c80507-1d8e-4091-9311-50e25e285dae",ship_id:1,terminal_time:"2023-01-08 06:00:04",lat:-6.101387,lng:106.905902,wind_speed:13.9,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-3,cog:329.3,sog:0,created_at:"2023-01-08 09:24:42",updated_at:"2023-01-08 09:24:42"},{time:1673158504e3,id:"ae9d8d04-f8b0-4358-bd9c-d9972e370315",ship_id:1,terminal_time:"2023-01-08 06:15:04",lat:-6.10138,lng:106.905895,wind_speed:6.8,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-3,cog:248.9,sog:0,created_at:"2023-01-08 09:26:04",updated_at:"2023-01-08 09:26:04"},{time:1673159404e3,id:"c0502c55-c023-4042-9af3-bd285c098a35",ship_id:1,terminal_time:"2023-01-08 06:30:04",lat:-6.101373,lng:106.905888,wind_speed:14.1,wind_direction:270.9,heading:359.6,distance:88555.36,depth:-3,cog:292.9,sog:0,created_at:"2023-01-08 09:21:20",updated_at:"2023-01-08 09:21:20"},{time:1673160304e3,id:"034a249c-02ba-437a-8aac-456cab629385",ship_id:1,terminal_time:"2023-01-08 06:45:04",lat:-6.101378,lng:106.90591,wind_speed:11.4,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:80.9,sog:0,created_at:"2023-01-08 09:23:12",updated_at:"2023-01-08 09:23:12"},{time:1673161204e3,id:"54e8bfab-005b-4826-8206-a37b4decfd0b",ship_id:1,terminal_time:"2023-01-08 07:00:04",lat:-6.101373,lng:106.905887,wind_speed:8.5,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:80.9,sog:0,created_at:"2023-01-08 09:27:00",updated_at:"2023-01-08 09:27:00"},{time:1673162104e3,id:"a8f38c56-ba61-4de6-80d1-3ea034df630a",ship_id:1,terminal_time:"2023-01-08 07:15:04",lat:-6.101405,lng:106.90589,wind_speed:12.4,wind_direction:242.1,heading:359.7,distance:88555.36,depth:-3,cog:167.3,sog:0,created_at:"2023-01-08 09:31:10",updated_at:"2023-01-08 09:31:10"},{time:1673163004e3,id:"1d43c613-abc9-4209-bfb3-9d54ecc33748",ship_id:1,terminal_time:"2023-01-08 07:30:04",lat:-6.10138,lng:106.905852,wind_speed:15.5,wind_direction:229.4,heading:0,distance:0,depth:0,cog:4.1,sog:0,created_at:"2023-01-08 09:28:35",updated_at:"2023-01-08 09:28:35"},{time:1673163904e3,id:"58b7809e-b846-4fba-b046-e7a1c2f3f84c",ship_id:1,terminal_time:"2023-01-08 07:45:04",lat:-6.101412,lng:106.905907,wind_speed:6.6,wind_direction:245.6,heading:359.8,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:31:46",updated_at:"2023-01-08 09:31:46"},{time:1673164809e3,id:"4ef617d0-0adb-40ea-bad4-e57322f78fe8",ship_id:1,terminal_time:"2023-01-08 08:00:09",lat:-6.101433,lng:106.905895,wind_speed:7.9,wind_direction:292.8,heading:359.7,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:31:36",updated_at:"2023-01-08 09:31:36"},{time:1673165704e3,id:"384723ff-16ea-4a47-bd1b-987a84141b3e",ship_id:1,terminal_time:"2023-01-08 08:15:04",lat:-6.101402,lng:106.905893,wind_speed:9.7,wind_direction:247.7,heading:359.7,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:34:02",updated_at:"2023-01-08 09:34:02"},{time:1673166604e3,id:"4a0c6afb-a827-4d1b-b943-57faa3c5ccb7",ship_id:1,terminal_time:"2023-01-08 08:30:04",lat:-6.1014230000000005,lng:106.905875,wind_speed:6.8,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:242.5,sog:0,created_at:"2023-01-08 09:35:08",updated_at:"2023-01-08 09:35:08"},{time:1673167504e3,id:"4c434111-7470-469b-82a2-10a66585fbe7",ship_id:1,terminal_time:"2023-01-08 08:45:04",lat:-6.101393,lng:106.905873,wind_speed:9.7,wind_direction:259,heading:359.6,distance:88555.36,depth:-3.3,cog:73.3,sog:0,created_at:"2023-01-08 09:36:15",updated_at:"2023-01-08 09:36:15"},{time:1673168404e3,id:"64a1f0ab-872f-4c4a-8e98-84e8f7f2aa2b",ship_id:1,terminal_time:"2023-01-08 09:00:04",lat:-6.101383,lng:106.905898,wind_speed:8.3,wind_direction:267.4,heading:359.6,distance:88555.36,depth:-3.3,cog:91.6,sog:.1,created_at:"2023-01-08 09:37:22",updated_at:"2023-01-08 09:37:22"},{time:1673169304e3,id:"15eb000c-e49a-4288-b9ba-29120dd16bbc",ship_id:1,terminal_time:"2023-01-08 09:15:04",lat:-6.101392,lng:106.905832,wind_speed:13.6,wind_direction:315.8,heading:359.7,distance:88555.36,depth:-3.3,cog:104.3,sog:0,created_at:"2023-01-08 09:38:28",updated_at:"2023-01-08 09:38:28"},{time:1673170204e3,id:"5013bfeb-e3b7-40fe-956e-67d86ef062fc",ship_id:1,terminal_time:"2023-01-08 09:30:04",lat:-6.10143,lng:106.905883,wind_speed:10.1,wind_direction:291.4,heading:359.8,distance:88555.36,depth:-3.3,cog:111.5,sog:0,created_at:"2023-01-08 09:39:35",updated_at:"2023-01-08 09:39:35"},{time:1673171104e3,id:"c42441d4-6121-4fd5-a94e-40e8a5538f88",ship_id:1,terminal_time:"2023-01-08 09:45:04",lat:-6.101408,lng:106.9059,wind_speed:6.8,wind_direction:325.1,heading:0,distance:0,depth:-3.3,cog:111.5,sog:0,created_at:"2023-01-08 09:45:06",updated_at:"2023-01-08 09:45:06"},{time:1673172004e3,id:"b88f901e-4b17-4f4d-950a-3bbe7040bfe9",ship_id:1,terminal_time:"2023-01-08 10:00:04",lat:-6.101438,lng:106.905878,wind_speed:7.3,wind_direction:282.8,heading:359.8,distance:88555.36,depth:-3.3,cog:116.3,sog:0,created_at:"2023-01-08 10:00:07",updated_at:"2023-01-08 10:00:07"},{time:1673172904e3,id:"ebab5955-d934-4330-9ccd-5d8d1496b18c",ship_id:1,terminal_time:"2023-01-08 10:15:04",lat:-6.101392,lng:106.905872,wind_speed:11.4,wind_direction:335,heading:359.7,distance:88555.36,depth:-3.3,cog:269.6,sog:0,created_at:"2023-01-08 10:15:06",updated_at:"2023-01-08 10:15:06"},{time:1673173804e3,id:"9f29317b-07a0-4caf-b754-11930dd5bd44",ship_id:1,terminal_time:"2023-01-08 10:30:04",lat:-6.101372,lng:106.905888,wind_speed:6.4,wind_direction:332.1,heading:359.7,distance:88555.36,depth:-3.3,cog:157.9,sog:0,created_at:"2023-01-08 10:30:06",updated_at:"2023-01-08 10:30:06"},{time:1673174704e3,id:"962a2be6-5432-402b-9958-84252f281c30",ship_id:1,terminal_time:"2023-01-08 10:45:04",lat:-6.101405,lng:106.905885,wind_speed:10.3,wind_direction:336.4,heading:0,distance:0,depth:-3.3,cog:272.5,sog:0,created_at:"2023-01-08 10:45:05",updated_at:"2023-01-08 10:45:05"},{time:1673175604e3,id:"ce56291e-c8e3-440f-92e0-921395a84182",ship_id:1,terminal_time:"2023-01-08 11:00:04",lat:-6.10143,lng:106.905957,wind_speed:11.6,wind_direction:325.1,heading:0,distance:0,depth:-3.3,cog:104.1,sog:0,created_at:"2023-01-08 11:00:06",updated_at:"2023-01-08 11:00:06"},{time:1673176504e3,id:"b25e30f7-bd69-432d-af8c-a46b5423e161",ship_id:1,terminal_time:"2023-01-08 11:15:04",lat:-6.101388,lng:106.905873,wind_speed:7.9,wind_direction:332.1,heading:0,distance:0,depth:-3.3,cog:312.3,sog:0,created_at:"2023-01-08 11:15:06",updated_at:"2023-01-08 11:15:06"},{time:1673177404e3,id:"0ccfc4ba-378e-4ad6-a4db-6b35d30a1a23",ship_id:1,terminal_time:"2023-01-08 11:30:04",lat:-6.101405,lng:106.905895,wind_speed:7.9,wind_direction:319.5,heading:359.7,distance:88555.37,depth:-3.3,cog:83.1,sog:.1,created_at:"2023-01-08 11:30:06",updated_at:"2023-01-08 11:30:06"},{time:1673178304e3,id:"b458b825-fbb6-40f4-b251-c347a72a39ab",ship_id:1,terminal_time:"2023-01-08 11:45:04",lat:-6.101403,lng:106.905887,wind_speed:9.5,wind_direction:332.1,heading:0,distance:0,depth:-3.3,cog:75.4,sog:0,created_at:"2023-01-08 11:45:05",updated_at:"2023-01-08 11:45:05"},{time:1673179204e3,id:"25575159-9a0f-4a66-a7d0-20aea87d0feb",ship_id:1,terminal_time:"2023-01-08 12:00:04",lat:-6.101412,lng:106.905878,wind_speed:8.5,wind_direction:343.6,heading:359.6,distance:88555.37,depth:-3.3,cog:67,sog:0,created_at:"2023-01-08 12:00:06",updated_at:"2023-01-08 12:00:06"},{time:1673180104e3,id:"a3bdb7f9-22b7-4e38-b981-ff099e82bfb6",ship_id:1,terminal_time:"2023-01-08 12:15:04",lat:-6.101407,lng:106.90585,wind_speed:13.8,wind_direction:349,heading:359.6,distance:88555.37,depth:-3.3,cog:36.2,sog:0,created_at:"2023-01-09 08:01:28",updated_at:"2023-01-09 08:01:28"},{time:1673181004e3,id:"468f0650-9d89-4a66-a334-a4fac77e4728",ship_id:1,terminal_time:"2023-01-08 12:30:04",lat:-6.101405,lng:106.905903,wind_speed:19.4,wind_direction:281.5,heading:359.6,distance:88555.37,depth:-3.3,cog:282.7,sog:0,created_at:"2023-01-09 08:03:29",updated_at:"2023-01-09 08:03:29"},{time:1673181904e3,id:"03deb747-2062-4451-bd06-e9432e1f2596",ship_id:1,terminal_time:"2023-01-08 12:45:04",lat:-6.10138,lng:106.905892,wind_speed:14.5,wind_direction:287.1,heading:359.6,distance:88555.38,depth:-3.3,cog:308.6,sog:0,created_at:"2023-01-09 08:02:16",updated_at:"2023-01-09 08:02:16"},{time:1673182804e3,id:"d195359b-cc5d-4733-9a4a-c450f7ecdda8",ship_id:1,terminal_time:"2023-01-08 13:00:04",lat:-6.101337,lng:106.905855,wind_speed:12.2,wind_direction:291.4,heading:359.7,distance:88555.38,depth:-3.1,cog:137.7,sog:0,created_at:"2023-01-09 08:02:58",updated_at:"2023-01-09 08:02:58"},{time:1673183704e3,id:"46707f11-6637-4097-9f27-85c91102848f",ship_id:1,terminal_time:"2023-01-08 13:15:04",lat:-6.101385,lng:106.905878,wind_speed:11,wind_direction:281.5,heading:359.6,distance:88555.38,depth:-3.1,cog:153.4,sog:0,created_at:"2023-01-09 08:03:38",updated_at:"2023-01-09 08:03:38"},{time:1673184604e3,id:"44555a10-55f3-451d-8279-71fd68a98ddd",ship_id:1,terminal_time:"2023-01-08 13:30:04",lat:-6.101418,lng:106.905922,wind_speed:20,wind_direction:281.5,heading:359.7,distance:88555.38,depth:-3.1,cog:131.7,sog:0,created_at:"2023-01-09 08:01:25",updated_at:"2023-01-09 08:01:25"},{time:1673185504e3,id:"6f43d2f1-2e54-4989-a2b6-7b411249f2a8",ship_id:1,terminal_time:"2023-01-08 13:45:04",lat:-6.101397,lng:106.90586,wind_speed:15.7,wind_direction:298.3,heading:359.7,distance:88555.38,depth:-3.1,cog:51.2,sog:0,created_at:"2023-01-09 08:03:28",updated_at:"2023-01-09 08:03:28"},{time:1673186404e3,id:"e21e47e0-7761-45fc-aa87-dc06fb2b621c",ship_id:1,terminal_time:"2023-01-08 14:00:04",lat:-6.101392,lng:106.905875,wind_speed:9.5,wind_direction:297,heading:359.6,distance:88555.38,depth:-3,cog:80.4,sog:0,created_at:"2023-01-09 08:02:10",updated_at:"2023-01-09 08:02:10"},{time:1673187304e3,id:"dbf363e6-e9e5-4e72-95d5-fed707eab8c4",ship_id:1,terminal_time:"2023-01-08 14:15:04",lat:-6.101355,lng:106.905872,wind_speed:10.3,wind_direction:332.1,heading:359.8,distance:88555.38,depth:-2.8,cog:289.8,sog:0,created_at:"2023-01-09 08:04:34",updated_at:"2023-01-09 08:04:34"},{time:1673188204e3,id:"12b53920-e835-4c42-8ab7-ec8061a9ba5c",ship_id:1,terminal_time:"2023-01-08 14:30:04",lat:-6.101383,lng:106.90588,wind_speed:7.3,wind_direction:280,heading:359.8,distance:88555.38,depth:-2.8,cog:26.9,sog:0,created_at:"2023-01-09 08:03:54",updated_at:"2023-01-09 08:03:54"},{time:1673189104e3,id:"c5c563a3-fe51-4dab-bcae-351d28e5f4de",ship_id:1,terminal_time:"2023-01-08 14:45:04",lat:-6.101362,lng:106.905937,wind_speed:13.8,wind_direction:304,heading:359.7,distance:88555.39,depth:-2.8,cog:310.4,sog:.1,created_at:"2023-01-09 08:01:04",updated_at:"2023-01-09 08:01:04"},{time:1673190004e3,id:"3d7b3cbb-14a0-4a8f-93d0-9cf906bc7355",ship_id:1,terminal_time:"2023-01-08 15:00:04",lat:-6.101373,lng:106.905875,wind_speed:5.2,wind_direction:309.6,heading:359.7,distance:88555.4,depth:-2.8,cog:11.5,sog:0,created_at:"2023-01-09 08:03:22",updated_at:"2023-01-09 08:03:22"},{time:1673190904e3,id:"9bd54cb5-0df6-4220-852a-e9ff92994333",ship_id:1,terminal_time:"2023-01-08 15:15:04",lat:-6.10139,lng:106.9059,wind_speed:9.7,wind_direction:319.5,heading:359.7,distance:88555.4,depth:-2.8,cog:310.4,sog:0,created_at:"2023-01-09 08:01:20",updated_at:"2023-01-09 08:01:20"},{time:1673191804e3,id:"1039c335-c4fe-4407-9d86-0e0e6f3801d7",ship_id:1,terminal_time:"2023-01-08 15:30:04",lat:-6.101395,lng:106.905902,wind_speed:5,wind_direction:304,heading:359.7,distance:88555.4,depth:-2.6,cog:310.4,sog:0,created_at:"2023-01-09 08:03:22",updated_at:"2023-01-09 08:03:22"},{time:1673192704e3,id:"2a373c7d-78e5-475d-b34b-0236fd987dbb",ship_id:1,terminal_time:"2023-01-08 15:45:04",lat:-6.101373,lng:106.905892,wind_speed:8.1,wind_direction:246.3,heading:359.7,distance:88555.4,depth:-2.6,cog:310.4,sog:0,created_at:"2023-01-09 08:02:09",updated_at:"2023-01-09 08:02:09"},{time:1673193609e3,id:"27afb88f-711d-446a-80c1-5db6f4d652e8",ship_id:1,terminal_time:"2023-01-08 16:00:09",lat:-6.101383,lng:106.905923,wind_speed:16.7,wind_direction:267.4,heading:359.8,distance:88555.4,depth:-2.6,cog:274.8,sog:0,created_at:"2023-01-09 08:01:34",updated_at:"2023-01-09 08:01:34"},{time:1673194504e3,id:"7a688f79-a052-4162-98a4-93fbeec24b60",ship_id:1,terminal_time:"2023-01-08 16:15:04",lat:-6.101367,lng:106.90591,wind_speed:11.4,wind_direction:291.4,heading:359.6,distance:88555.41,depth:-2.6,cog:177.3,sog:.1,created_at:"2023-01-09 08:01:27",updated_at:"2023-01-09 08:01:27"},{time:1673195404e3,id:"1c77e367-adf9-4b24-9e28-1614417c0043",ship_id:1,terminal_time:"2023-01-08 16:30:04",lat:-6.101337,lng:106.90587,wind_speed:10.8,wind_direction:280,heading:359.6,distance:88555.42,depth:-2.6,cog:163.2,sog:0,created_at:"2023-01-09 08:02:53",updated_at:"2023-01-09 08:02:53"},{time:1673196304e3,id:"47c8015f-f5e4-44eb-af39-6631ab095c14",ship_id:1,terminal_time:"2023-01-08 16:45:04",lat:-6.101367,lng:106.905915,wind_speed:6.6,wind_direction:280,heading:359.8,distance:88555.42,depth:-2.6,cog:359.3,sog:0,created_at:"2023-01-09 08:01:48",updated_at:"2023-01-09 08:01:48"},{time:1673197204e3,id:"d0e28486-e7bc-4ac1-a4d8-0bbb6d72aee3",ship_id:1,terminal_time:"2023-01-08 17:00:04",lat:-6.101365,lng:106.905892,wind_speed:6.9,wind_direction:267.4,heading:359.8,distance:88555.42,depth:-2.6,cog:282.7,sog:0,created_at:"2023-01-09 08:05:29",updated_at:"2023-01-09 08:05:29"},{time:1673198104e3,id:"5791dc42-ed81-48a4-b540-b452a5633205",ship_id:1,terminal_time:"2023-01-08 17:15:04",lat:-6.101408,lng:106.905945,wind_speed:9.5,wind_direction:257.5,heading:0,distance:0,depth:-2.6,cog:300.4,sog:0,created_at:"2023-01-09 08:04:45",updated_at:"2023-01-09 08:04:45"},{time:1673199004e3,id:"603a0afa-1ca2-45d2-a9b6-0745a5e33b11",ship_id:1,terminal_time:"2023-01-08 17:30:04",lat:-6.10137,lng:106.905992,wind_speed:9.1,wind_direction:249.1,heading:359.5,distance:88555.42,depth:-2.5,cog:302.2,sog:0,created_at:"2023-01-09 08:03:51",updated_at:"2023-01-09 08:03:51"},{time:1673199904e3,id:"ab249c72-fe0b-4b61-aadb-60e506340e0a",ship_id:1,terminal_time:"2023-01-08 17:45:04",lat:-6.101405,lng:106.905933,wind_speed:8.5,wind_direction:247.7,heading:359.5,distance:88555.42,depth:-2.5,cog:346.1,sog:0,created_at:"2023-01-09 08:03:29",updated_at:"2023-01-09 08:03:29"},{time:1673200804e3,id:"ad719767-8da7-4530-af3a-e3d833d92178",ship_id:1,terminal_time:"2023-01-08 18:00:04",lat:-6.101377,lng:106.905882,wind_speed:10.4,wind_direction:247.7,heading:0,distance:0,depth:-2.5,cog:10.1,sog:0,created_at:"2023-01-09 08:01:03",updated_at:"2023-01-09 08:01:03"},{time:1673207354e3,id:"63c9d130-6bb7-4318-b5f2-675e7faf0e4c",ship_id:1,terminal_time:"2023-01-08 19:49:14",lat:-6.101343,lng:106.905863,wind_speed:7.9,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.6,cog:159,sog:0,created_at:"2023-01-09 08:03:14",updated_at:"2023-01-09 08:03:14"},{time:1673208004e3,id:"3bf8de17-ebbb-4fcb-b854-a96a429acecb",ship_id:1,terminal_time:"2023-01-08 20:00:04",lat:-6.101333,lng:106.905857,wind_speed:9.9,wind_direction:235.1,heading:359.7,distance:88555.43,depth:-2.6,cog:83.4,sog:0,created_at:"2023-01-09 08:04:33",updated_at:"2023-01-09 08:04:33"},{time:1673208904e3,id:"fb4f8778-7bcb-40f3-956a-b79108ad31b2",ship_id:1,terminal_time:"2023-01-08 20:15:04",lat:-6.101393,lng:106.905902,wind_speed:7.5,wind_direction:252,heading:359.7,distance:88555.43,depth:-6,cog:131.2,sog:0,created_at:"2023-01-09 08:05:16",updated_at:"2023-01-09 08:05:16"},{time:1673209804e3,id:"5242adab-8959-40a5-8978-635cea013f84",ship_id:1,terminal_time:"2023-01-08 20:30:04",lat:-6.101357,lng:106.905868,wind_speed:5.6,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.5,cog:274.3,sog:0,created_at:"2023-01-09 08:00:56",updated_at:"2023-01-09 08:00:56"},{time:1673210704e3,id:"0c83a2c4-2bcd-476e-ac3b-460d1b25f858",ship_id:1,terminal_time:"2023-01-08 20:45:04",lat:-6.101342,lng:106.905882,wind_speed:7.5,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.6,cog:267.2,sog:0,created_at:"2023-01-09 08:02:36",updated_at:"2023-01-09 08:02:36"},{time:1673211604e3,id:"458708de-a317-4292-a57f-1117f5f9f56d",ship_id:1,terminal_time:"2023-01-08 21:00:04",lat:-6.101388,lng:106.905948,wind_speed:12.2,wind_direction:257.5,heading:359.8,distance:88555.43,depth:-2.6,cog:271.1,sog:0,created_at:"2023-01-09 08:05:06",updated_at:"2023-01-09 08:05:06"},{time:1673212504e3,id:"67504e3d-78c5-491b-ab2f-ead7b531eab7",ship_id:1,terminal_time:"2023-01-08 21:15:04",lat:-6.1014420000000005,lng:106.905875,wind_speed:9.5,wind_direction:257.5,heading:359.8,distance:88555.43,depth:-2.6,cog:273.1,sog:.1,created_at:"2023-01-09 08:03:54",updated_at:"2023-01-09 08:03:54"},{time:1673213404e3,id:"029c42f5-7b81-4393-94ab-d99385dd210e",ship_id:1,terminal_time:"2023-01-08 21:30:04",lat:-6.101397,lng:106.905873,wind_speed:9.1,wind_direction:280,heading:359.7,distance:88555.44,depth:-2.6,cog:278.6,sog:.1,created_at:"2023-01-09 08:05:28",updated_at:"2023-01-09 08:05:28"},{time:1673214304e3,id:"68b68fd8-c24d-4c82-8066-e3d469f5edbe",ship_id:1,terminal_time:"2023-01-08 21:45:04",lat:-6.101372,lng:106.905917,wind_speed:8.3,wind_direction:242.1,heading:359.8,distance:88555.44,depth:-6,cog:160.2,sog:0,created_at:"2023-01-09 08:05:13",updated_at:"2023-01-09 08:05:13"},{time:1673215204e3,id:"361ce47f-0c08-47bb-967f-d1db1b9a05c3",ship_id:1,terminal_time:"2023-01-08 22:00:04",lat:-6.10138,lng:106.905898,wind_speed:16.7,wind_direction:248.3,heading:359.6,distance:88555.44,depth:-2.6,cog:160.2,sog:0,created_at:"2023-01-09 08:05:04",updated_at:"2023-01-09 08:05:04"},{time:1673216104e3,id:"3ea2af9a-a3fc-420e-b179-53b02aa87e39",ship_id:1,terminal_time:"2023-01-08 22:15:04",lat:-6.10142,lng:106.90588,wind_speed:7.9,wind_direction:257.5,heading:359.6,distance:88555.44,depth:-6.1,cog:213.1,sog:0,created_at:"2023-01-09 08:05:49",updated_at:"2023-01-09 08:05:49"},{time:1673217004e3,id:"1cb11726-d0ad-4402-a975-0af78f5631b4",ship_id:1,terminal_time:"2023-01-08 22:30:04",lat:-6.101388,lng:106.905885,wind_speed:17.1,wind_direction:247.7,heading:359.8,distance:88555.44,depth:-6,cog:221.4,sog:0,created_at:"2023-01-09 08:06:08",updated_at:"2023-01-09 08:06:08"},{time:1673217904e3,id:"892a3800-b287-4c33-913e-0683528e0431",ship_id:1,terminal_time:"2023-01-08 22:45:04",lat:-6.101377,lng:106.905895,wind_speed:11.4,wind_direction:249.1,heading:359.7,distance:88555.44,depth:-2.6,cog:103.9,sog:0,created_at:"2023-01-09 08:06:00",updated_at:"2023-01-09 08:06:00"},{time:1673218804e3,id:"6f3b1990-857c-4d00-b25a-0434a0cc2c8d",ship_id:1,terminal_time:"2023-01-08 23:00:04",lat:-6.101413,lng:106.90589,wind_speed:10.4,wind_direction:257.5,heading:359.6,distance:88555.44,depth:-6.5,cog:131.5,sog:0,created_at:"2023-01-09 08:05:56",updated_at:"2023-01-09 08:05:56"},{time:1673219704e3,id:"f988100e-1c17-4430-ad7d-d42c5f9101cb",ship_id:1,terminal_time:"2023-01-08 23:15:04",lat:-6.101383,lng:106.905863,wind_speed:11.2,wind_direction:247.7,heading:359.6,distance:88555.44,depth:-6.3,cog:9.7,sog:0,created_at:"2023-01-09 08:06:57",updated_at:"2023-01-09 08:06:57"},{time:1673220604e3,id:"f9bfd7d8-0ed7-4e7c-9dd8-33793538967e",ship_id:1,terminal_time:"2023-01-08 23:30:04",lat:-6.101388,lng:106.905893,wind_speed:7.3,wind_direction:252,heading:359.7,distance:88555.44,depth:-6.3,cog:189.1,sog:.1,created_at:"2023-01-09 08:06:40",updated_at:"2023-01-09 08:06:40"},{time:1673221504e3,id:"d81f2408-511b-43f5-bc66-b9f8f3d84aea",ship_id:1,terminal_time:"2023-01-08 23:45:04",lat:-6.1014230000000005,lng:106.905862,wind_speed:11.2,wind_direction:246.3,heading:359.7,distance:88555.44,depth:-2.6,cog:195.3,sog:.1,created_at:"2023-01-09 08:06:41",updated_at:"2023-01-09 08:06:41"},{time:1673222404e3,id:"d1ae49e1-c912-4626-a700-c644a64c58ca",ship_id:1,terminal_time:"2023-01-09 00:00:04",lat:-6.101397,lng:106.905872,wind_speed:15.3,wind_direction:246.3,heading:359.8,distance:88555.44,depth:-6.5,cog:57.8,sog:0,created_at:"2023-01-09 08:06:43",updated_at:"2023-01-09 08:06:43"},{time:1673223301e3,id:"30c254de-ca32-4ae0-9bbe-50a124f42fb5",ship_id:1,terminal_time:"2023-01-09 00:15:01",lat:-6.101368,lng:106.905878,wind_speed:12,wind_direction:246.3,heading:359.8,distance:88555.44,depth:-6.1,cog:64.2,sog:0,created_at:"2023-01-09 08:07:06",updated_at:"2023-01-09 08:07:06"},{time:1673224201e3,id:"ce816a40-630c-48fa-abf2-50e2d743ecee",ship_id:1,terminal_time:"2023-01-09 00:30:01",lat:-6.101373,lng:106.905888,wind_speed:12.6,wind_direction:236.5,heading:359.8,distance:88555.44,depth:-2.8,cog:59.9,sog:0,created_at:"2023-01-09 08:07:38",updated_at:"2023-01-09 08:07:38"},{time:1673225101e3,id:"873c1631-7c9a-4a1d-b124-3879b28dd758",ship_id:1,terminal_time:"2023-01-09 00:45:01",lat:-6.101432,lng:106.905888,wind_speed:11.6,wind_direction:236.5,heading:359.8,distance:88555.44,depth:0,cog:222.4,sog:0,created_at:"2023-01-09 08:07:00",updated_at:"2023-01-09 08:07:00"},{time:1673226001e3,id:"53704def-9137-4944-8a3a-b36330fc1fb7",ship_id:1,terminal_time:"2023-01-09 01:00:01",lat:-6.1014420000000005,lng:106.905897,wind_speed:7.5,wind_direction:247.7,heading:359.7,distance:88555.44,depth:-6.1,cog:168.1,sog:0,created_at:"2023-01-09 08:06:44",updated_at:"2023-01-09 08:06:44"},{time:1673226901e3,id:"4c58ab98-4589-4979-82a3-2d5349e2d6d2",ship_id:1,terminal_time:"2023-01-09 01:15:01",lat:-6.101377,lng:106.905895,wind_speed:9.7,wind_direction:247.7,heading:359.6,distance:88555.44,depth:-6.3,cog:128.8,sog:0,created_at:"2023-01-09 08:07:55",updated_at:"2023-01-09 08:07:55"},{time:1673227801e3,id:"f53589c2-2628-4822-9efe-e9d5f6f97006",ship_id:1,terminal_time:"2023-01-09 01:30:01",lat:-6.101372,lng:106.905907,wind_speed:11,wind_direction:235.1,heading:359.7,distance:88555.44,depth:-2.8,cog:169.3,sog:0,created_at:"2023-01-09 08:07:52",updated_at:"2023-01-09 08:07:52"},{time:1673228701e3,id:"bbd3afac-671c-491d-9a53-a913b265f3a6",ship_id:1,terminal_time:"2023-01-09 01:45:01",lat:-6.101395,lng:106.905885,wind_speed:10.3,wind_direction:246.3,heading:359.8,distance:88555.44,depth:0,cog:336.2,sog:.1,created_at:"2023-01-09 08:07:54",updated_at:"2023-01-09 08:07:54"},{time:1673229626e3,id:"677d4da2-f2e4-4785-a282-e26977f5ff59",ship_id:1,terminal_time:"2023-01-09 02:00:26",lat:-6.101397,lng:106.905892,wind_speed:8.1,wind_direction:253.4,heading:359.8,distance:88555.46,depth:-6.3,cog:344.2,sog:.1,created_at:"2023-01-09 08:08:23",updated_at:"2023-01-09 08:08:23"},{time:1673230501e3,id:"6d6e995c-7f59-4690-9ba0-6bdde399168a",ship_id:1,terminal_time:"2023-01-09 02:15:01",lat:-6.10142,lng:106.90591,wind_speed:7.3,wind_direction:246.3,heading:359.7,distance:88555.47,depth:-2.8,cog:64.8,sog:0,created_at:"2023-01-09 08:08:12",updated_at:"2023-01-09 08:08:12"},{time:1673231401e3,id:"0be9f717-f25a-490d-bcae-34fa65d89a27",ship_id:1,terminal_time:"2023-01-09 02:30:01",lat:-6.1014,lng:106.905907,wind_speed:6.9,wind_direction:235.1,heading:359.6,distance:88555.48,depth:-2.8,cog:350.3,sog:0,created_at:"2023-01-09 08:08:21",updated_at:"2023-01-09 08:08:21"},{time:1673232301e3,id:"b89c57ee-02ec-4c81-a463-3ab63eea35d4",ship_id:1,terminal_time:"2023-01-09 02:45:01",lat:-6.10141,lng:106.905907,wind_speed:7.1,wind_direction:281.5,heading:359.7,distance:88555.49,depth:0,cog:340.6,sog:0,created_at:"2023-01-09 08:08:13",updated_at:"2023-01-09 08:08:13"},{time:1673233201e3,id:"a3fba678-1575-4c94-8040-8e2bb4f35c29",ship_id:1,terminal_time:"2023-01-09 03:00:01",lat:-6.101398,lng:106.905902,wind_speed:11,wind_direction:246.3,heading:359.6,distance:88555.49,depth:-6.6,cog:302,sog:0,created_at:"2023-01-09 08:09:06",updated_at:"2023-01-09 08:09:06"},{time:1673234101e3,id:"4d903123-c967-4aba-be64-4bfa45d2e9e2",ship_id:1,terminal_time:"2023-01-09 03:15:01",lat:-6.10139,lng:106.905878,wind_speed:7.7,wind_direction:259,heading:359.6,distance:88555.49,depth:-6.5,cog:314.3,sog:0,created_at:"2023-01-09 08:08:14",updated_at:"2023-01-09 08:08:14"},{time:1673235001e3,id:"1d4da80d-e1b4-46f3-b844-89cc8683bf40",ship_id:1,terminal_time:"2023-01-09 03:30:01",lat:-6.10141,lng:106.905928,wind_speed:6.2,wind_direction:247.7,heading:359.7,distance:88555.5,depth:0,cog:132.4,sog:0,created_at:"2023-01-09 08:08:53",updated_at:"2023-01-09 08:08:53"},{time:1673235901e3,id:"e71cde87-3b60-447e-b2e7-ba313276631d",ship_id:1,terminal_time:"2023-01-09 03:45:01",lat:-6.101413,lng:106.90591,wind_speed:7.7,wind_direction:252,heading:359.8,distance:88555.5,depth:0,cog:209.2,sog:0,created_at:"2023-01-09 08:08:23",updated_at:"2023-01-09 08:08:23"},{time:1673236801e3,id:"f5446243-0920-43f1-b55b-e1e7745911d7",ship_id:1,terminal_time:"2023-01-09 04:00:01",lat:-6.1013269999999995,lng:106.90594,wind_speed:7.1,wind_direction:257.5,heading:359.9,distance:88555.5,depth:-7.1,cog:206.1,sog:.1,created_at:"2023-01-09 08:08:58",updated_at:"2023-01-09 08:08:58"},{time:1673237701e3,id:"93eedeac-7e8c-4b16-8181-ccaa306bc5fd",ship_id:1,terminal_time:"2023-01-09 04:15:01",lat:-6.101417,lng:106.90591,wind_speed:8.1,wind_direction:264.5,heading:359.8,distance:88555.5,depth:-7,cog:278.5,sog:0,created_at:"2023-01-09 08:09:03",updated_at:"2023-01-09 08:09:03"},{time:1673238601e3,id:"5ea3a677-6e78-4773-a9e5-c6f4c365cfa1",ship_id:1,terminal_time:"2023-01-09 04:30:01",lat:-6.101412,lng:106.905892,wind_speed:9.5,wind_direction:249.1,heading:359.8,distance:88555.5,depth:-6.8,cog:161.2,sog:.1,created_at:"2023-01-09 08:09:01",updated_at:"2023-01-09 08:09:01"},{time:1673239501e3,id:"5c8c5a2a-ed74-4185-bef6-92c28a9fdf4e",ship_id:1,terminal_time:"2023-01-09 04:45:01",lat:-6.101433,lng:106.905898,wind_speed:6.9,wind_direction:246.3,heading:0,distance:0,depth:-3.1,cog:73.5,sog:0,created_at:"2023-01-09 08:08:43",updated_at:"2023-01-09 08:08:43"},{time:1673240401e3,id:"4c79c190-421c-4140-841f-2591d3cdafff",ship_id:1,terminal_time:"2023-01-09 05:00:01",lat:-6.10142,lng:106.905925,wind_speed:9.7,wind_direction:242.1,heading:359.8,distance:88555.5,depth:-3.1,cog:125.4,sog:0,created_at:"2023-01-09 08:09:52",updated_at:"2023-01-09 08:09:52"},{time:1673241301e3,id:"c259fb8e-9a36-4dfc-bc0a-68cd1a49a286",ship_id:1,terminal_time:"2023-01-09 05:15:01",lat:-6.101342,lng:106.905905,wind_speed:5.2,wind_direction:240.7,heading:359.8,distance:88555.5,depth:-7.1,cog:159.2,sog:0,created_at:"2023-01-09 08:10:04",updated_at:"2023-01-09 08:10:04"},{time:1673242201e3,id:"27226360-f285-47ad-94b4-61ad2013e144",ship_id:1,terminal_time:"2023-01-09 05:30:01",lat:-6.101395,lng:106.905882,wind_speed:6.4,wind_direction:242.1,heading:359.7,distance:88555.5,depth:-3.3,cog:250.3,sog:0,created_at:"2023-01-09 08:10:13",updated_at:"2023-01-09 08:10:13"},{time:1673243101e3,id:"2da1e4fe-f5f0-4895-b5fa-c4e50ec472d0",ship_id:1,terminal_time:"2023-01-09 05:45:01",lat:-6.101352,lng:106.905885,wind_speed:9.7,wind_direction:240.7,heading:359.7,distance:88555.5,depth:-3.5,cog:225.4,sog:0,created_at:"2023-01-09 08:10:15",updated_at:"2023-01-09 08:10:15"},{time:1673244001e3,id:"e101776c-0d25-4862-be01-60bdcd5c14e5",ship_id:1,terminal_time:"2023-01-09 06:00:01",lat:-6.101385,lng:106.905892,wind_speed:10.6,wind_direction:246.3,heading:359.6,distance:88555.5,depth:-3.5,cog:326.1,sog:0,created_at:"2023-01-09 08:10:03",updated_at:"2023-01-09 08:10:03"},{time:1673244901e3,id:"a9941a2b-e575-408e-a7bb-dacd988e6d96",ship_id:1,terminal_time:"2023-01-09 06:15:01",lat:-6.101383,lng:106.905903,wind_speed:7.1,wind_direction:247.7,heading:359.6,distance:88555.5,depth:-3.5,cog:256.6,sog:0,created_at:"2023-01-09 08:10:10",updated_at:"2023-01-09 08:10:10"},{time:1673245801e3,id:"a1187bf0-abe9-4353-82a3-d4fd442c22e3",ship_id:1,terminal_time:"2023-01-09 06:30:01",lat:-6.101395,lng:106.905883,wind_speed:7.7,wind_direction:247.7,heading:359.6,distance:88555.5,depth:-3.6,cog:215.4,sog:0,created_at:"2023-01-09 08:09:40",updated_at:"2023-01-09 08:09:40"},{time:1673246701e3,id:"c3d8f1fb-1911-4887-b3ce-949bd243f6c1",ship_id:1,terminal_time:"2023-01-09 06:45:01",lat:-6.101395,lng:106.90591,wind_speed:9.9,wind_direction:252,heading:359.8,distance:88555.5,depth:-3.8,cog:125.3,sog:0,created_at:"2023-01-09 08:10:36",updated_at:"2023-01-09 08:10:36"},{time:1673247601e3,id:"6d3fb6e4-4b62-422c-bd75-5562e48a058d",ship_id:1,terminal_time:"2023-01-09 07:00:01",lat:-6.101393,lng:106.905862,wind_speed:7.5,wind_direction:252,heading:359.9,distance:88555.5,depth:-3.8,cog:64.2,sog:0,created_at:"2023-01-09 08:10:33",updated_at:"2023-01-09 08:10:33"},{time:1673248501e3,id:"6c8d24c2-f12c-4698-a829-a0632f019df1",ship_id:1,terminal_time:"2023-01-09 07:15:01",lat:-6.101393,lng:106.905878,wind_speed:7.3,wind_direction:246.3,heading:359.7,distance:88555.5,depth:-4,cog:64.5,sog:0,created_at:"2023-01-09 08:10:33",updated_at:"2023-01-09 08:10:33"},{time:1673249401e3,id:"519acfef-d197-4cfa-afa7-4e6e5e4b8737",ship_id:1,terminal_time:"2023-01-09 07:30:01",lat:-6.101377,lng:106.905885,wind_speed:6.6,wind_direction:242.1,heading:359.7,distance:88555.5,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:10:41",updated_at:"2023-01-09 08:10:41"},{time:1673250301e3,id:"aa8fe1a7-57d9-445d-8f18-3f22b1a409c6",ship_id:1,terminal_time:"2023-01-09 07:45:01",lat:-6.101395,lng:106.905893,wind_speed:10.4,wind_direction:247.7,heading:0,distance:0,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:11:09",updated_at:"2023-01-09 08:11:09"},{time:1673251201e3,id:"5d87fb41-c0a5-49b5-aabc-e16448ec0db7",ship_id:1,terminal_time:"2023-01-09 08:00:01",lat:-6.101405,lng:106.905888,wind_speed:6,wind_direction:265.9,heading:359.7,distance:88555.5,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:10:51",updated_at:"2023-01-09 08:10:51"},{time:1673257766e3,id:"59f2dd21-3619-4d39-a699-a444c5f5039c",ship_id:1,terminal_time:"2023-01-09 09:49:26",lat:-6.10138,lng:106.905813,wind_speed:14.1,wind_direction:302.5,heading:359.8,distance:88555.5,depth:-4.1,cog:132.4,sog:0,created_at:"2023-01-10 08:00:06",updated_at:"2023-01-10 08:00:06"},{time:1673258401e3,id:"6b431693-2664-44b6-8518-5ab07bbf0c85",ship_id:1,terminal_time:"2023-01-09 10:00:01",lat:-6.101373,lng:106.9059,wind_speed:14.1,wind_direction:282.9,heading:359.8,distance:88555.5,depth:-4.1,cog:115.2,sog:0,created_at:"2023-01-10 08:02:29",updated_at:"2023-01-10 08:02:29"},{time:1673259301e3,id:"40fb792e-7a2e-4697-a25b-e79c2d2fdbc6",ship_id:1,terminal_time:"2023-01-09 10:15:01",lat:-6.10135,lng:106.905885,wind_speed:7.1,wind_direction:332.1,heading:359.9,distance:88555.5,depth:-4.3,cog:144.6,sog:0,created_at:"2023-01-10 08:01:40",updated_at:"2023-01-10 08:01:40"},{time:1673260201e3,id:"354963f0-7e7e-4ea0-97ae-5e69a9a932c9",ship_id:1,terminal_time:"2023-01-09 10:30:01",lat:-6.101405,lng:106.90586,wind_speed:12.6,wind_direction:292.8,heading:359.8,distance:88555.5,depth:-4.3,cog:105.8,sog:0,created_at:"2023-01-10 08:04:19",updated_at:"2023-01-10 08:04:19"},{time:1673261101e3,id:"5bbbf421-2adb-4fd3-81a0-b0cade6e5e67",ship_id:1,terminal_time:"2023-01-09 10:45:01",lat:-6.101395,lng:106.905892,wind_speed:9.5,wind_direction:297,heading:359.8,distance:88555.5,depth:-4.3,cog:214.9,sog:0,created_at:"2023-01-10 08:05:43",updated_at:"2023-01-10 08:05:43"},{time:1673262001e3,id:"630c5619-2b52-4cbb-93bf-85c73cae98ae",ship_id:1,terminal_time:"2023-01-09 11:00:01",lat:-6.101408,lng:106.905882,wind_speed:6.6,wind_direction:297,heading:0,distance:0,depth:-4.3,cog:99.6,sog:0,created_at:"2023-01-10 08:02:39",updated_at:"2023-01-10 08:02:39"},{time:1673262901e3,id:"b403636b-8619-4d42-9cb4-6c4166a1b9b3",ship_id:1,terminal_time:"2023-01-09 11:15:01",lat:-6.101393,lng:106.90587,wind_speed:5,wind_direction:311.5,heading:359.8,distance:88555.5,depth:-4.3,cog:93.5,sog:0,created_at:"2023-01-10 08:04:42",updated_at:"2023-01-10 08:04:42"},{time:1673263806e3,id:"5f165c7e-e6b7-44c1-a482-567e62bc4017",ship_id:1,terminal_time:"2023-01-09 11:30:06",lat:-6.1014,lng:106.905877,wind_speed:15.1,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:73.4,sog:0,created_at:"2023-01-10 08:02:10",updated_at:"2023-01-10 08:02:10"},{time:1673264701e3,id:"bd2a40ce-8f23-43e0-8272-8f201c185ec8",ship_id:1,terminal_time:"2023-01-09 11:45:01",lat:-6.101388,lng:106.905907,wind_speed:16.3,wind_direction:337.8,heading:359.9,distance:88555.51,depth:-4.1,cog:61.2,sog:0,created_at:"2023-01-10 08:05:49",updated_at:"2023-01-10 08:05:49"},{time:1673265601e3,id:"c24f89d3-7780-4ffc-a265-5b6d2f72f073",ship_id:1,terminal_time:"2023-01-09 12:00:01",lat:-6.1014,lng:106.905888,wind_speed:14.7,wind_direction:342,heading:359.8,distance:88555.51,depth:-4.1,cog:67.8,sog:0,created_at:"2023-01-10 08:03:23",updated_at:"2023-01-10 08:03:23"},{time:1673266501e3,id:"13982c0e-988a-46c5-bec8-355b5f7dc5ca",ship_id:1,terminal_time:"2023-01-09 12:15:01",lat:-6.101408,lng:106.905903,wind_speed:7.1,wind_direction:315.3,heading:359.8,distance:88555.51,depth:-4.1,cog:36.9,sog:0,created_at:"2023-01-10 08:02:34",updated_at:"2023-01-10 08:02:34"},{time:1673267401e3,id:"d0beec20-b06e-4fc7-ad00-6f35454bb257",ship_id:1,terminal_time:"2023-01-09 12:30:01",lat:-6.10138,lng:106.905855,wind_speed:11.2,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:37.8,sog:0,created_at:"2023-01-10 08:01:57",updated_at:"2023-01-10 08:01:57"},{time:1673268301e3,id:"98379784-93de-4f27-b326-467bfef4b682",ship_id:1,terminal_time:"2023-01-09 12:45:01",lat:-6.101353,lng:106.905848,wind_speed:12.6,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:90.6,sog:0,created_at:"2023-01-10 08:05:23",updated_at:"2023-01-10 08:05:23"},{time:1673269201e3,id:"05ff55cd-da21-40f7-83dd-131e0587880e",ship_id:1,terminal_time:"2023-01-09 13:00:01",lat:-6.101385,lng:106.905875,wind_speed:12.2,wind_direction:342,heading:359.7,distance:88555.51,depth:-4,cog:96.8,sog:.1,created_at:"2023-01-10 08:01:45",updated_at:"2023-01-10 08:01:45"},{time:1673270101e3,id:"f7cc3f27-2367-4a6d-a4c2-db1154e9e00f",ship_id:1,terminal_time:"2023-01-09 13:15:01",lat:-6.101383,lng:106.905865,wind_speed:14.5,wind_direction:337.8,heading:359.7,distance:88555.51,depth:-4,cog:150.1,sog:.1,created_at:"2023-01-10 08:03:50",updated_at:"2023-01-10 08:03:50"},{time:1673271001e3,id:"f662f7f2-d4d5-449f-873a-bcdfc3a00d51",ship_id:1,terminal_time:"2023-01-09 13:30:01",lat:-6.101357,lng:106.905865,wind_speed:12.8,wind_direction:337.8,heading:359.7,distance:88555.52,depth:-4,cog:321.4,sog:0,created_at:"2023-01-10 08:02:28",updated_at:"2023-01-10 08:02:28"},{time:1673271901e3,id:"89151d87-e6ce-4678-a3ef-8544ce5f573f",ship_id:1,terminal_time:"2023-01-09 13:45:01",lat:-6.101363,lng:106.905908,wind_speed:14.7,wind_direction:337.8,heading:359.6,distance:88555.52,depth:-4,cog:66.8,sog:0,created_at:"2023-01-10 08:04:30",updated_at:"2023-01-10 08:04:30"},{time:1673272801e3,id:"03f8f7d6-97b0-4dd5-be91-36f792a1a625",ship_id:1,terminal_time:"2023-01-09 14:00:01",lat:-6.101427,lng:106.905857,wind_speed:13,wind_direction:332.1,heading:.4,distance:88555.52,depth:-4,cog:287.6,sog:0,created_at:"2023-01-10 08:03:02",updated_at:"2023-01-10 08:03:02"},{time:1673273701e3,id:"a1f01e80-907b-4720-aaa7-aa073ffd06af",ship_id:1,terminal_time:"2023-01-09 14:15:01",lat:-6.095707,lng:106.89818,wind_speed:26.6,wind_direction:45,heading:276.6,distance:88556.26,depth:-11.3,cog:274.8,sog:6.6,created_at:"2023-01-10 08:01:52",updated_at:"2023-01-10 08:01:52"},{time:1673274601e3,id:"615a0d2a-2428-4c59-a170-a77f1278abfc",ship_id:1,terminal_time:"2023-01-09 14:30:01",lat:-6.079302,lng:106.881568,wind_speed:26.2,wind_direction:349,heading:355.1,distance:88557.85,depth:-10.8,cog:357.4,sog:7.3,created_at:"2023-01-10 08:01:54",updated_at:"2023-01-10 08:01:54"},{time:1673275501e3,id:"8a83141d-bf01-41b2-a27c-8b01697b30c7",ship_id:1,terminal_time:"2023-01-09 14:45:01",lat:-6.03759,lng:106.880487,wind_speed:28.9,wind_direction:0,heading:350.6,distance:88560.36,depth:-12.5,cog:353.9,sog:10.4,created_at:"2023-01-10 08:03:06",updated_at:"2023-01-10 08:03:06"},{time:1673276401e3,id:"f8617d50-8583-4cef-a0dd-29468fbc2d90",ship_id:1,terminal_time:"2023-01-09 15:00:01",lat:-5.98431,lng:106.873388,wind_speed:29.7,wind_direction:9.7,heading:330.3,distance:88563.54,depth:-16.6,cog:338.3,sog:12.5,created_at:"2023-01-10 08:03:19",updated_at:"2023-01-10 08:03:19"},{time:1673277301e3,id:"966ade39-66eb-4749-99b5-72528c7217e9",ship_id:1,terminal_time:"2023-01-09 15:15:01",lat:-5.961758,lng:106.82729,wind_speed:29.3,wind_direction:16.8,heading:312.6,distance:88566.7,depth:-19,cog:312.1,sog:13.2,created_at:"2023-01-10 08:02:20",updated_at:"2023-01-10 08:02:20"},{time:1673278201e3,id:"7531c730-0f9f-498f-85e9-d9704b5e56c3",ship_id:1,terminal_time:"2023-01-09 15:30:01",lat:-5.931025,lng:106.78072,wind_speed:28.1,wind_direction:21,heading:310.9,distance:88570,depth:-22.5,cog:312.1,sog:13.4,created_at:"2023-01-10 08:04:54",updated_at:"2023-01-10 08:04:54"},{time:1673279101e3,id:"0f5e09a8-fa21-4745-b847-90fe597eae7b",ship_id:1,terminal_time:"2023-01-09 15:45:01",lat:-14.161667,lng:116.66,wind_speed:27.2,wind_direction:32.3,heading:308,distance:88573.33,depth:-30.5,cog:0,sog:0,created_at:"2023-01-10 08:03:50",updated_at:"2023-01-10 08:03:50"},{time:1673280121e3,id:"b0c02cd1-d141-4cc5-b9f3-469c2154f3b2",ship_id:1,terminal_time:"2023-01-09 16:02:01",lat:-5.854772,lng:106.68859,wind_speed:23.7,wind_direction:33.6,heading:304.1,distance:88577.22,depth:-27.8,cog:305.1,sog:13.5,created_at:"2023-01-10 08:06:17",updated_at:"2023-01-10 08:06:17"},{time:1673280901e3,id:"60d837ed-22c2-4b7e-954a-8ed76765bb6b",ship_id:1,terminal_time:"2023-01-09 16:15:01",lat:-5.828417,lng:106.647598,wind_speed:19.2,wind_direction:54.9,heading:267.9,distance:88580.13,depth:-45.3,cog:273.5,sog:12.4,created_at:"2023-01-10 08:04:40",updated_at:"2023-01-10 08:04:40"},{time:1673281801e3,id:"5e868bf7-9f25-4361-9d84-88ccdcadc5bd",ship_id:1,terminal_time:"2023-01-09 16:30:01",lat:-5.833347,lng:106.590948,wind_speed:20.4,wind_direction:43.6,heading:263.3,distance:88583.55,depth:-70.6,cog:263.3,sog:13.8,created_at:"2023-01-10 08:03:21",updated_at:"2023-01-10 08:03:21"},{time:1673282701e3,id:"290d63d9-e0da-419c-880b-2ff176353be8",ship_id:1,terminal_time:"2023-01-09 16:45:01",lat:-5.83681,lng:106.533245,wind_speed:19.2,wind_direction:49.1,heading:269.3,distance:88586.99,depth:-83.3,cog:270,sog:13.8,created_at:"2023-01-10 08:04:36",updated_at:"2023-01-10 08:04:36"},{time:1673283601e3,id:"74437480-2eee-4b7d-bdec-bf2c3f57793e",ship_id:1,terminal_time:"2023-01-09 17:00:01",lat:-5.836503,lng:106.475305,wind_speed:20.4,wind_direction:49.1,heading:264.9,distance:88590.47,depth:-48.5,cog:266.8,sog:13.9,created_at:"2023-01-10 08:05:08",updated_at:"2023-01-10 08:05:08"},{time:1673284501e3,id:"a12b6836-7207-4ed4-b124-4d651273bb02",ship_id:1,terminal_time:"2023-01-09 17:15:01",lat:-5.845467,lng:106.417943,wind_speed:20.4,wind_direction:43.6,heading:267.7,distance:88593.93,depth:-51.6,cog:265.6,sog:14,created_at:"2023-01-10 08:04:19",updated_at:"2023-01-10 08:04:19"},{time:1673285401e3,id:"09588182-8517-4089-9f19-f6dfe3842699",ship_id:1,terminal_time:"2023-01-09 17:30:01",lat:-5.841642,lng:106.35981,wind_speed:21.3,wind_direction:33.6,heading:0,distance:0,depth:-27.1,cog:274.8,sog:14.1,created_at:"2023-01-10 08:05:40",updated_at:"2023-01-10 08:05:40"},{time:1673286301e3,id:"878bec49-a145-488f-ae6a-22e20f985adb",ship_id:1,terminal_time:"2023-01-09 17:45:01",lat:-5.838773,lng:106.300968,wind_speed:24.4,wind_direction:26.7,heading:269.9,distance:88600.96,depth:-32.6,cog:270.7,sog:14.2,created_at:"2023-01-10 08:04:41",updated_at:"2023-01-10 08:04:41"},{time:1673287201e3,id:"e479c84e-0867-465c-8999-5e588a85eea7",ship_id:1,terminal_time:"2023-01-09 18:00:01",lat:-5.837823,lng:106.239917,wind_speed:27.4,wind_direction:4.2,heading:270,distance:88604.52,depth:-23.8,cog:271.2,sog:14.3,created_at:"2023-01-10 08:05:14",updated_at:"2023-01-10 08:05:14"},{time:1673288101e3,id:"c65ffd03-8a74-4926-bed4-8610fa7e81a0",ship_id:1,terminal_time:"2023-01-09 18:15:01",lat:-5.838808,lng:106.181588,wind_speed:25,wind_direction:9.7,heading:264.9,distance:88608.11,depth:-28.1,cog:0,sog:0,created_at:"2023-01-10 08:06:48",updated_at:"2023-01-10 08:06:48"},{time:1673289001e3,id:"1c8548ab-cb0d-4bdb-9f57-195a3c362744",ship_id:1,terminal_time:"2023-01-09 18:30:01",lat:-5.841168,lng:106.120507,wind_speed:25,wind_direction:4.2,heading:268.9,distance:88611.69,depth:-38.3,cog:269.4,sog:14.3,created_at:"2023-01-10 08:06:38",updated_at:"2023-01-10 08:06:38"},{time:1673289901e3,id:"9205bfd4-683a-4325-8b29-103eb842219b",ship_id:1,terminal_time:"2023-01-09 18:45:01",lat:-5.8411,lng:106.061022,wind_speed:28.9,wind_direction:0,heading:269.1,distance:88615.22,depth:-50.3,cog:270.3,sog:14.2,created_at:"2023-01-10 08:06:30",updated_at:"2023-01-10 08:06:30"},{time:1673290801e3,id:"911bece6-7e5c-40f0-b0da-cf35b3eb7067",ship_id:1,terminal_time:"2023-01-09 19:00:01",lat:-5.854877,lng:106.006268,wind_speed:30.7,wind_direction:21,heading:225.6,distance:88618.76,depth:-74.5,cog:229.1,sog:14.3,created_at:"2023-01-10 08:07:24",updated_at:"2023-01-10 08:07:24"},{time:1673291701e3,id:"7fefd3ea-5a95-4eaf-a4ef-ec5bbb15390a",ship_id:1,terminal_time:"2023-01-09 19:15:01",lat:-5.897932,lng:105.964727,wind_speed:28.5,wind_direction:21,heading:224.8,distance:88622.34,depth:-37.1,cog:224.5,sog:14.2,created_at:"2023-01-10 08:07:04",updated_at:"2023-01-10 08:07:04"},{time:1673292601e3,id:"05a6f60e-0ee4-4d48-9f0c-6823f391ff6d",ship_id:1,terminal_time:"2023-01-09 19:30:01",lat:-5.94169,lng:105.92583,wind_speed:31.8,wind_direction:26.7,heading:221.9,distance:88625.93,depth:-38.1,cog:222.4,sog:13.9,created_at:"2023-01-10 08:05:52",updated_at:"2023-01-10 08:05:52"},{time:1673293501e3,id:"3582ee5f-9c1c-447c-a1c2-ad23d1fcdc4c",ship_id:1,terminal_time:"2023-01-09 19:45:01",lat:-5.985892,lng:105.888712,wind_speed:30.7,wind_direction:32.3,heading:215.3,distance:88629.38,depth:-50.8,cog:216.3,sog:14.2,created_at:"2023-01-10 08:05:36",updated_at:"2023-01-10 08:05:36"},{time:1673294401e3,id:"bae337b8-cf2c-4345-83f1-51a534c4756a",ship_id:1,terminal_time:"2023-01-09 20:00:01",lat:-6.007143,lng:105.844002,wind_speed:27.9,wind_direction:353.3,heading:291,distance:88632.81,depth:-84.1,cog:292.2,sog:13.7,created_at:"2023-01-10 08:08:12",updated_at:"2023-01-10 08:08:12"},{time:1673295301e3,id:"2bfe50aa-406d-420d-baba-3647f540a6db",ship_id:1,terminal_time:"2023-01-09 20:15:01",lat:-5.982978,lng:105.794872,wind_speed:28.5,wind_direction:0,heading:287.8,distance:88636.11,depth:-52,cog:293.4,sog:12.5,created_at:"2023-01-10 08:08:05",updated_at:"2023-01-10 08:08:05"},{time:1673296201e3,id:"226c6298-b20f-4d61-8d46-d20d9a16f764",ship_id:1,terminal_time:"2023-01-09 20:30:01",lat:-5.970388,lng:105.742705,wind_speed:31.8,wind_direction:4.2,heading:280,distance:88639.31,depth:-89.5,cog:282.8,sog:13.6,created_at:"2023-01-10 08:07:55",updated_at:"2023-01-10 08:07:55"},{time:1673297101e3,id:"0b3a3d1b-e2cd-412d-8949-052b468ac363",ship_id:1,terminal_time:"2023-01-09 20:45:01",lat:-5.952805,lng:105.689012,wind_speed:30.9,wind_direction:4.2,heading:288.7,distance:88642.69,depth:-66.1,cog:291,sog:13.4,created_at:"2023-01-10 08:06:29",updated_at:"2023-01-10 08:06:29"},{time:1673298001e3,id:"e5dc3b25-3498-4336-b51f-65360056bb47",ship_id:1,terminal_time:"2023-01-09 21:00:01",lat:-5.93262,lng:105.638005,wind_speed:32,wind_direction:4.2,heading:289,distance:88645.98,depth:-29.5,cog:291.5,sog:12.9,created_at:"2023-01-10 08:07:36",updated_at:"2023-01-10 08:07:36"},{time:1673298901e3,id:"97af2e02-a337-477c-b476-f8cc1f0f39bd",ship_id:1,terminal_time:"2023-01-09 21:15:01",lat:-5.918415,lng:105.586073,wind_speed:33,wind_direction:9.2,heading:274.4,distance:88649.16,depth:-20,cog:275.9,sog:12.5,created_at:"2023-01-10 08:06:55",updated_at:"2023-01-10 08:06:55"},{time:1673299801e3,id:"3f6e7fb8-8ed6-4139-af72-762e9a783f03",ship_id:1,terminal_time:"2023-01-09 21:30:01",lat:-5.913357,lng:105.534142,wind_speed:33.2,wind_direction:9.7,heading:272.1,distance:88652.27,depth:-36.3,cog:275.1,sog:12.2,created_at:"2023-01-10 08:06:51",updated_at:"2023-01-10 08:06:51"},{time:1673300701e3,id:"039c9a38-7354-41ae-a67f-1a28cc9ac563",ship_id:1,terminal_time:"2023-01-09 21:45:01",lat:-5.909802,lng:105.487677,wind_speed:31.6,wind_direction:4.2,heading:280.1,distance:88655.08,depth:-35.1,cog:281.9,sog:11.4,created_at:"2023-01-10 08:07:31",updated_at:"2023-01-10 08:07:31"},{time:1673301601e3,id:"c21c6af2-1b26-41e9-b6ef-1f8d76e84096",ship_id:1,terminal_time:"2023-01-09 22:00:01",lat:-5.902202,lng:105.43825,wind_speed:32.2,wind_direction:4.2,heading:0,distance:0,depth:-28.1,cog:278,sog:12.2,created_at:"2023-01-10 08:07:20",updated_at:"2023-01-10 08:07:20"},{time:1673302501e3,id:"6187beed-2f55-4f6c-ac4d-870ba4151a2b",ship_id:1,terminal_time:"2023-01-09 22:15:01",lat:-5.894857,lng:105.38688,wind_speed:33.6,wind_direction:7.5,heading:275.2,distance:88661.16,depth:-50.5,cog:279.6,sog:12.5,created_at:"2023-01-10 08:08:14",updated_at:"2023-01-10 08:08:14"},{time:1673303401e3,id:"d2860a82-a25f-4c3b-aaf3-db903c6c079d",ship_id:1,terminal_time:"2023-01-09 22:30:01",lat:-5.88575,lng:105.334428,wind_speed:37.7,wind_direction:4.2,heading:278.6,distance:88664.41,depth:-78.6,cog:282.5,sog:12.7,created_at:"2023-01-10 08:08:58",updated_at:"2023-01-10 08:08:58"},{time:1673304301e3,id:"bc8a41e1-d425-400a-afb9-2d64d783a252",ship_id:1,terminal_time:"2023-01-09 22:45:01",lat:-5.874368,lng:105.282648,wind_speed:34.4,wind_direction:9.7,heading:280.7,distance:88667.58,depth:-95.8,cog:284,sog:12.9,created_at:"2023-01-10 08:08:50",updated_at:"2023-01-10 08:08:50"},{time:1673305201e3,id:"2210ba63-e4e5-46bb-a238-f60a7ff5f63e",ship_id:1,terminal_time:"2023-01-09 23:00:01",lat:-5.862632,lng:105.230625,wind_speed:33.6,wind_direction:19,heading:281.1,distance:88670.78,depth:-105,cog:280.9,sog:12.6,created_at:"2023-01-10 08:08:39",updated_at:"2023-01-10 08:08:39"},{time:1673306101e3,id:"42f528f7-c57d-46a6-b362-95020790eb63",ship_id:1,terminal_time:"2023-01-09 23:15:01",lat:-5.850693,lng:105.178738,wind_speed:34.2,wind_direction:21,heading:283,distance:88673.97,depth:-120,cog:284.6,sog:12.8,created_at:"2023-01-10 08:09:21",updated_at:"2023-01-10 08:09:21"},{time:1673307001e3,id:"5e0ba177-15a5-4845-a33f-2b9be3696f90",ship_id:1,terminal_time:"2023-01-09 23:30:01",lat:-5.836418,lng:105.127365,wind_speed:37.3,wind_direction:16.8,heading:285.3,distance:88677.14,depth:-200,cog:290.4,sog:12.6,created_at:"2023-01-10 08:08:57",updated_at:"2023-01-10 08:08:57"},{time:1673307901e3,id:"74e77432-2815-4913-8e48-42a55e173eda",ship_id:1,terminal_time:"2023-01-09 23:45:01",lat:-5.821302,lng:105.076055,wind_speed:32.6,wind_direction:19.6,heading:285,distance:88680.34,depth:-206,cog:282.4,sog:12.7,created_at:"2023-01-10 08:08:36",updated_at:"2023-01-10 08:08:36"},{time:1673308801e3,id:"733111ca-d0a6-4cd2-a3c3-25a09999a0cc",ship_id:1,terminal_time:"2023-01-10 00:00:01",lat:-5.800392,lng:105.027445,wind_speed:28.7,wind_direction:9.7,heading:300.1,distance:88683.55,depth:-200.6,cog:302.4,sog:12.9,created_at:"2023-01-10 08:09:31",updated_at:"2023-01-10 08:09:31"},{time:1673309703e3,id:"f06e33ca-2719-4b1f-8f9d-3187c3f75fac",ship_id:1,terminal_time:"2023-01-10 00:15:03",lat:-5.7731770000000004,lng:104.980798,wind_speed:28.9,wind_direction:9.7,heading:297.3,distance:88686.7,depth:-202.3,cog:297,sog:12.5,created_at:"2023-01-10 08:10:07",updated_at:"2023-01-10 08:10:07"},{time:1673310603e3,id:"c856de4d-7236-4d94-9e85-c9fedbc48708",ship_id:1,terminal_time:"2023-01-10 00:30:03",lat:-5.747583,lng:104.93485,wind_speed:28.7,wind_direction:11.2,heading:296.8,distance:88689.82,depth:-198.3,cog:300,sog:12.6,created_at:"2023-01-10 08:10:05",updated_at:"2023-01-10 08:10:05"},{time:1673311503e3,id:"cd8a0d81-f531-4582-b2fb-e948ed042a0b",ship_id:1,terminal_time:"2023-01-10 00:45:03",lat:-5.720978,lng:104.889258,wind_speed:31.6,wind_direction:8.4,heading:298.9,distance:88692.97,depth:-77,cog:300.9,sog:12.5,created_at:"2023-01-10 08:09:46",updated_at:"2023-01-10 08:09:46"},{time:1673312403e3,id:"4dba530d-bc76-4355-ab28-1340d9ac5be7",ship_id:1,terminal_time:"2023-01-10 01:00:03",lat:-5.69468,lng:104.843363,wind_speed:27.2,wind_direction:11.2,heading:296.8,distance:88696.15,depth:-59.3,cog:299.2,sog:12.8,created_at:"2023-01-10 08:09:28",updated_at:"2023-01-10 08:09:28"},{time:1673313303e3,id:"325aec11-c392-479b-9d0d-41cbbd1feff8",ship_id:1,terminal_time:"2023-01-10 01:15:03",lat:-5.668635,lng:104.795995,wind_speed:25.4,wind_direction:16.8,heading:303.1,distance:88699.36,depth:-81.6,cog:305.2,sog:13.1,created_at:"2023-01-10 08:10:20",updated_at:"2023-01-10 08:10:20"},{time:1673314203e3,id:"b06943c5-9cd6-4fad-8ebe-f5449d7bffcc",ship_id:1,terminal_time:"2023-01-10 01:30:03",lat:-5.637213,lng:104.750302,wind_speed:25.4,wind_direction:16.8,heading:302.1,distance:88702.77,depth:-159.3,cog:302.6,sog:13.6,created_at:"2023-01-10 08:10:11",updated_at:"2023-01-10 08:10:11"},{time:1673315103e3,id:"9222b191-091c-4065-a00a-754b7a702ec9",ship_id:1,terminal_time:"2023-01-10 01:45:03",lat:-5.606022,lng:104.702637,wind_speed:24.1,wind_direction:12.5,heading:300.2,distance:88706.13,depth:-184.6,cog:302.6,sog:13.8,created_at:"2023-01-10 08:10:19",updated_at:"2023-01-10 08:10:19"},{time:1673316003e3,id:"352b8845-bef7-409c-a3e0-cf0aadac3054",ship_id:1,terminal_time:"2023-01-10 02:00:03",lat:-5.5799579999999995,lng:104.65319,wind_speed:21.1,wind_direction:16.8,heading:295.9,distance:88709.53,depth:-84.6,cog:296,sog:13.5,created_at:"2023-01-10 08:10:25",updated_at:"2023-01-10 08:10:25"},{time:1673316903e3,id:"329d6a2d-92b7-4284-a981-79ccaf315c9c",ship_id:1,terminal_time:"2023-01-10 02:15:03",lat:-5.562793,lng:104.609362,wind_speed:18.2,wind_direction:19.6,heading:300.2,distance:88712.38,depth:-42.6,cog:307.4,sog:8.5,created_at:"2023-01-10 08:10:25",updated_at:"2023-01-10 08:10:25"},{time:1673317803e3,id:"232ce1d3-f960-42b9-80f6-306f115e0844",ship_id:1,terminal_time:"2023-01-10 02:30:03",lat:-13.866667,lng:111.266667,wind_speed:15.9,wind_direction:19.6,heading:305.2,distance:88714.17,depth:-36,cog:0,sog:0,created_at:"2023-01-10 08:10:32",updated_at:"2023-01-10 08:10:32"},{time:1673318703e3,id:"06e72ee8-b924-4aca-b288-407b083f57f5",ship_id:1,terminal_time:"2023-01-10 02:45:03",lat:-5.5387,lng:104.573278,wind_speed:7.1,wind_direction:21,heading:333.4,distance:88715.01,depth:-31.3,cog:286.4,sog:.5,created_at:"2023-01-10 08:10:31",updated_at:"2023-01-10 08:10:31"},{time:1673319603e3,id:"96979015-3293-432b-acdb-18a40130c80d",ship_id:1,terminal_time:"2023-01-10 03:00:03",lat:-5.538557,lng:104.572997,wind_speed:4.8,wind_direction:11.2,heading:34,distance:88715.04,depth:-31,cog:104.3,sog:.1,created_at:"2023-01-10 08:10:58",updated_at:"2023-01-10 08:10:58"},{time:1673320503e3,id:"311160b5-f9c6-4799-ad43-d85555c84374",ship_id:1,terminal_time:"2023-01-10 03:15:03",lat:-5.538512,lng:104.573348,wind_speed:2.5,wind_direction:11.2,heading:322.4,distance:88715.04,depth:-31,cog:349.1,sog:.1,created_at:"2023-01-10 08:10:55",updated_at:"2023-01-10 08:10:55"},{time:1673321403e3,id:"73f5a73d-8652-4de0-a492-7e4d2da8a5e4",ship_id:1,terminal_time:"2023-01-10 03:30:03",lat:-5.538447,lng:104.573578,wind_speed:2.7,wind_direction:11.2,heading:311.9,distance:88715.05,depth:-31,cog:124.7,sog:0,created_at:"2023-01-10 08:11:31",updated_at:"2023-01-10 08:11:31"},{time:1673322303e3,id:"d0d88b43-dbf4-4712-b6e6-2ba40ee6cbe7",ship_id:1,terminal_time:"2023-01-10 03:45:03",lat:-5.5383569999999995,lng:104.573628,wind_speed:2.9,wind_direction:11.2,heading:306.3,distance:88715.06,depth:-31,cog:216.8,sog:.1,created_at:"2023-01-10 08:11:02",updated_at:"2023-01-10 08:11:02"},{time:1673323203e3,id:"108e11e3-a7fa-41b3-af81-0cca33e8ff4c",ship_id:1,terminal_time:"2023-01-10 04:00:03",lat:-5.538393,lng:104.573665,wind_speed:4.8,wind_direction:11.2,heading:306.8,distance:88715.07,depth:-31,cog:232.3,sog:0,created_at:"2023-01-10 08:11:43",updated_at:"2023-01-10 08:11:43"},{time:1673324103e3,id:"bd89b9b2-c51f-4cc4-8ef2-932d74a5a249",ship_id:1,terminal_time:"2023-01-10 04:15:03",lat:-5.538438,lng:104.573587,wind_speed:5,wind_direction:11.2,heading:312.8,distance:88715.08,depth:-31,cog:169,sog:.1,created_at:"2023-01-10 08:11:37",updated_at:"2023-01-10 08:11:37"},{time:1673325003e3,id:"78ae1344-a9e9-44ff-b1f4-0c24f28e8fd4",ship_id:1,terminal_time:"2023-01-10 04:30:03",lat:-5.538348,lng:104.5736,wind_speed:5.6,wind_direction:11.2,heading:310.3,distance:88715.08,depth:-31,cog:80.3,sog:0,created_at:"2023-01-10 08:11:34",updated_at:"2023-01-10 08:11:34"},{time:1673325903e3,id:"a3aed659-572b-4b7c-abbe-b6691c723542",ship_id:1,terminal_time:"2023-01-10 04:45:03",lat:-5.538425,lng:104.573628,wind_speed:5.4,wind_direction:11.2,heading:310.7,distance:88715.08,depth:-31,cog:249.5,sog:0,created_at:"2023-01-10 08:12:04",updated_at:"2023-01-10 08:12:04"},{time:1673326803e3,id:"8c399c42-218f-43da-b0aa-06ac26cd8f12",ship_id:1,terminal_time:"2023-01-10 05:00:03",lat:-5.538432,lng:104.573612,wind_speed:6,wind_direction:11.2,heading:311.6,distance:88715.09,depth:-31,cog:246.8,sog:0,created_at:"2023-01-10 08:12:42",updated_at:"2023-01-10 08:12:42"},{time:1673327703e3,id:"27a493f7-b14d-40e8-8f51-878ed652d553",ship_id:1,terminal_time:"2023-01-10 05:15:03",lat:-5.538348,lng:104.573678,wind_speed:7.9,wind_direction:11.2,heading:304.8,distance:88715.09,depth:-31,cog:251.7,sog:0,created_at:"2023-01-10 08:12:18",updated_at:"2023-01-10 08:12:18"},{time:1673328603e3,id:"f54bb566-292e-490c-883f-df6d70b3841b",ship_id:1,terminal_time:"2023-01-10 05:30:03",lat:-5.538438,lng:104.57369,wind_speed:6.2,wind_direction:11.2,heading:307.8,distance:88715.09,depth:-31.3,cog:246.1,sog:0,created_at:"2023-01-10 08:12:04",updated_at:"2023-01-10 08:12:04"},{time:1673329503e3,id:"31775419-f67f-4db4-a57d-40ae80fb1fee",ship_id:1,terminal_time:"2023-01-10 05:45:03",lat:-5.5385349999999995,lng:104.573568,wind_speed:7.7,wind_direction:11.2,heading:315.1,distance:88715.1,depth:-31.3,cog:246.9,sog:0,created_at:"2023-01-10 08:12:07",updated_at:"2023-01-10 08:12:07"},{time:1673330403e3,id:"2aa1b843-cd65-401d-ad7b-b8c474060a3b",ship_id:1,terminal_time:"2023-01-10 06:00:03",lat:-5.538448,lng:104.573675,wind_speed:6.9,wind_direction:11.2,heading:309.7,distance:88715.1,depth:-31.3,cog:337.6,sog:.1,created_at:"2023-01-10 08:12:18",updated_at:"2023-01-10 08:12:18"},{time:1673331303e3,id:"8f037bb3-2b98-4249-ae83-9bb727b265b0",ship_id:1,terminal_time:"2023-01-10 06:15:03",lat:-5.538453,lng:104.573677,wind_speed:6.6,wind_direction:11.2,heading:306.4,distance:88715.11,depth:-31.3,cog:223.5,sog:.1,created_at:"2023-01-10 08:13:02",updated_at:"2023-01-10 08:13:02"},{time:1673332203e3,id:"bb7e96d9-62c3-4ce3-b7bf-c5d7c72c9df1",ship_id:1,terminal_time:"2023-01-10 06:30:03",lat:-5.53864,lng:104.573363,wind_speed:8.3,wind_direction:11.2,heading:3,distance:88715.12,depth:-31.6,cog:0,sog:0,created_at:"2023-01-10 08:13:13",updated_at:"2023-01-10 08:13:13"},{time:1673333103e3,id:"cac4d244-d1fb-4d6a-92ac-bdbe7da18de9",ship_id:1,terminal_time:"2023-01-10 06:45:03",lat:-5.53888,lng:104.573258,wind_speed:7.5,wind_direction:11.2,heading:334.3,distance:88715.12,depth:-31.6,cog:96.5,sog:.1,created_at:"2023-01-10 08:12:49",updated_at:"2023-01-10 08:12:49"},{time:1673334003e3,id:"ef0d6a02-a51d-43d6-ae22-41c8f4263f47",ship_id:1,terminal_time:"2023-01-10 07:00:03",lat:-5.538878,lng:104.573242,wind_speed:6.2,wind_direction:11.2,heading:336.8,distance:88715.12,depth:-31.6,cog:86.3,sog:0,created_at:"2023-01-10 08:12:40",updated_at:"2023-01-10 08:12:40"},{time:1673334903e3,id:"c8300c89-faab-4152-8194-a46bb0b19e3a",ship_id:1,terminal_time:"2023-01-10 07:15:03",lat:-5.538762,lng:104.573413,wind_speed:4.6,wind_direction:11.2,heading:322.3,distance:88715.12,depth:-31.6,cog:358.1,sog:0,created_at:"2023-01-10 08:13:39",updated_at:"2023-01-10 08:13:39"},{time:1673335803e3,id:"5ef47cf2-3be4-4288-b43d-2dfb23367dbd",ship_id:1,terminal_time:"2023-01-10 07:30:03",lat:-5.538867,lng:104.573397,wind_speed:5,wind_direction:11.2,heading:326.8,distance:88715.12,depth:-31.6,cog:229,sog:0,created_at:"2023-01-10 08:13:25",updated_at:"2023-01-10 08:13:25"},{time:1673336703e3,id:"c28bf5e0-d94c-4f83-8bfd-8cd79550a629",ship_id:1,terminal_time:"2023-01-10 07:45:03",lat:-5.538897,lng:104.573083,wind_speed:5.4,wind_direction:11.2,heading:341.4,distance:88715.13,depth:-32,cog:251.6,sog:0,created_at:"2023-01-10 08:13:39",updated_at:"2023-01-10 08:13:39"},{time:1673337608e3,id:"8170db59-e578-4892-80c4-85355054b0d1",ship_id:1,terminal_time:"2023-01-10 08:00:08",lat:-5.538908,lng:104.572883,wind_speed:3.6,wind_direction:11.2,heading:351.4,distance:88715.14,depth:-32,cog:316.1,sog:0,created_at:"2023-01-10 08:13:38",updated_at:"2023-01-10 08:13:38"},{time:1673338503e3,id:"32200fd0-ad31-4afc-86c6-0eae8d39b303",ship_id:1,terminal_time:"2023-01-10 08:15:03",lat:-5.538917,lng:104.572915,wind_speed:3.8,wind_direction:11.2,heading:351.1,distance:88715.14,depth:-32,cog:324.3,sog:0,created_at:"2023-01-10 08:15:05",updated_at:"2023-01-10 08:15:05"},{time:1673339403e3,id:"c3f39b55-e63f-47d2-9aeb-e7a3c11e6b6c",ship_id:1,terminal_time:"2023-01-10 08:30:03",lat:-5.538923,lng:104.572508,wind_speed:2.7,wind_direction:11.2,heading:0,distance:0,depth:-32,cog:292.2,sog:.2,created_at:"2023-01-10 08:30:05",updated_at:"2023-01-10 08:30:05"},{time:1673340303e3,id:"0f1d7c32-e1b4-4223-813c-3bcb9ff99519",ship_id:1,terminal_time:"2023-01-10 08:45:03",lat:-5.538778,lng:104.5725,wind_speed:2.9,wind_direction:11.2,heading:13,distance:88715.16,depth:-33,cog:110.6,sog:.1,created_at:"2023-01-10 08:45:05",updated_at:"2023-01-10 08:45:05"},{time:1673341203e3,id:"514696b1-d5c1-4d56-ac70-c12912248928",ship_id:1,terminal_time:"2023-01-10 09:00:03",lat:-5.538873,lng:104.572512,wind_speed:2.1,wind_direction:11.2,heading:9.6,distance:88715.17,depth:-32,cog:61.8,sog:0,created_at:"2023-01-10 09:00:05",updated_at:"2023-01-10 09:00:05"},{time:1673342103e3,id:"bb13fd39-bf15-4e3f-9f37-7ba8e070e27b",ship_id:1,terminal_time:"2023-01-10 09:15:03",lat:-5.538902,lng:104.572612,wind_speed:.3,wind_direction:11.2,heading:1.6,distance:88715.18,depth:-32,cog:209.1,sog:0,created_at:"2023-01-10 09:15:06",updated_at:"2023-01-10 09:15:06"},{time:1673343003e3,id:"52799df0-4dda-42e4-ae26-5f9ecb2e1f35",ship_id:1,terminal_time:"2023-01-10 09:30:03",lat:-5.53877,lng:104.572458,wind_speed:.7,wind_direction:11.2,heading:13,distance:88715.19,depth:-31.6,cog:274.9,sog:0,created_at:"2023-01-10 09:30:04",updated_at:"2023-01-10 09:30:04"},{time:1673343903e3,id:"582eb540-8281-4f06-be77-4f020238e88e",ship_id:1,terminal_time:"2023-01-10 09:45:03",lat:-5.538838,lng:104.572397,wind_speed:.3,wind_direction:11.2,heading:17.9,distance:88715.2,depth:-32,cog:98.3,sog:0,created_at:"2023-01-10 09:45:04",updated_at:"2023-01-10 09:45:04"},{time:1673344803e3,id:"d018284e-96bc-40a5-afdf-706261c83173",ship_id:1,terminal_time:"2023-01-10 10:00:03",lat:-5.538725,lng:104.572233,wind_speed:1.7,wind_direction:11.2,heading:26,distance:88715.22,depth:-32,cog:289.9,sog:.2,created_at:"2023-01-10 10:00:05",updated_at:"2023-01-10 10:00:05"},{time:1673345703e3,id:"c7e76799-9152-4732-b4a8-78b81f78ecbb",ship_id:1,terminal_time:"2023-01-10 10:15:03",lat:-5.538707,lng:104.572228,wind_speed:1.5,wind_direction:11.2,heading:28.8,distance:88715.23,depth:-32,cog:295.6,sog:0,created_at:"2023-01-10 10:15:06",updated_at:"2023-01-10 10:15:06"},{time:1673346603e3,id:"5aa686e9-1f35-4d75-94e0-4b24e6575a96",ship_id:1,terminal_time:"2023-01-10 10:30:03",lat:-5.538782,lng:104.572288,wind_speed:2.1,wind_direction:11.2,heading:0,distance:0,depth:-32,cog:115,sog:0,created_at:"2023-01-10 10:30:06",updated_at:"2023-01-10 10:30:06"},{time:1673347503e3,id:"4980bff8-4764-4dad-81cb-0f47d3ebeddc",ship_id:1,terminal_time:"2023-01-10 10:45:03",lat:-5.538625,lng:104.572078,wind_speed:2.1,wind_direction:11.2,heading:0,distance:0,depth:-31.6,cog:306.6,sog:.1,created_at:"2023-01-11 08:19:01",updated_at:"2023-01-11 08:19:01"},{time:1673348403e3,id:"04b85d97-df61-4c7c-9ca5-fadbac1226ee",ship_id:1,terminal_time:"2023-01-10 11:00:03",lat:-5.538578,lng:104.572077,wind_speed:2.7,wind_direction:11.2,heading:40.3,distance:88715.28,depth:-33,cog:99.9,sog:.1,created_at:"2023-01-11 08:09:51",updated_at:"2023-01-11 08:09:51"},{time:1673349303e3,id:"a246a336-7d32-4004-9c36-0669444bfb5f",ship_id:1,terminal_time:"2023-01-10 11:15:03",lat:-5.538568,lng:104.57207,wind_speed:3.3,wind_direction:11.2,heading:0,distance:0,depth:-31.6,cog:307.3,sog:.1,created_at:"2023-01-11 08:59:53",updated_at:"2023-01-11 08:59:53"},{time:1673350203e3,id:"7a34bddb-396b-42bc-8b79-427c5236a76f",ship_id:1,terminal_time:"2023-01-10 11:30:03",lat:-5.538305,lng:104.57185,wind_speed:6.8,wind_direction:88.6,heading:59.8,distance:88715.33,depth:-31.6,cog:9.6,sog:.1,created_at:"2023-01-11 09:18:11",updated_at:"2023-01-11 09:18:11"},{time:1673351103e3,id:"d9220e3e-bbc0-4395-bf55-bf94ebcd524d",ship_id:1,terminal_time:"2023-01-10 11:45:03",lat:-5.537692,lng:104.571797,wind_speed:9.7,wind_direction:116.8,heading:95.5,distance:88715.36,depth:-31.6,cog:26,sog:.3,created_at:"2023-01-11 08:23:10",updated_at:"2023-01-11 08:23:10"},{time:1673352003e3,id:"8a8a13ef-e698-438c-930f-49ec0bb09f63",ship_id:1,terminal_time:"2023-01-10 12:00:03",lat:-5.537127,lng:104.571998,wind_speed:11.2,wind_direction:109.8,heading:122.7,distance:88715.36,depth:-31.6,cog:26.7,sog:.3,created_at:"2023-01-11 09:34:41",updated_at:"2023-01-11 09:34:41"},{time:1673352903e3,id:"229984b5-6b7d-4e00-9a08-4206488dca9d",ship_id:1,terminal_time:"2023-01-10 12:15:03",lat:-5.536328,lng:104.573425,wind_speed:14.9,wind_direction:56.3,heading:188.4,distance:88715.37,depth:-31,cog:121.6,sog:.5,created_at:"2023-01-11 08:16:13",updated_at:"2023-01-11 08:16:13"},{time:1673353803e3,id:"6a965009-1ee6-44b6-9d4a-a8749a1c4dd8",ship_id:1,terminal_time:"2023-01-10 12:30:03",lat:-5.536405,lng:104.573513,wind_speed:17.6,wind_direction:54.9,heading:199.6,distance:88715.39,depth:-31,cog:328,sog:.3,created_at:"2023-01-11 10:05:28",updated_at:"2023-01-11 10:05:28"},{time:1673354703e3,id:"13b5ce26-e32d-45b6-9906-297e9012334b",ship_id:1,terminal_time:"2023-01-10 12:45:03",lat:-5.536357,lng:104.573753,wind_speed:19.2,wind_direction:43.6,heading:197.7,distance:88715.4,depth:-30.6,cog:289.1,sog:.2,created_at:"2023-01-11 08:18:32",updated_at:"2023-01-11 08:18:32"},{time:1673355603e3,id:"ecda7f05-7d69-4f20-bcb7-310ce62047a6",ship_id:1,terminal_time:"2023-01-10 13:00:03",lat:-5.536677,lng:104.574085,wind_speed:20.4,wind_direction:43.6,heading:215.3,distance:88715.42,depth:-31,cog:95.7,sog:.1,created_at:"2023-01-11 08:16:09",updated_at:"2023-01-11 08:16:09"},{time:1673356503e3,id:"67d9e2e8-6850-45c7-a608-0f6f3750adf7",ship_id:1,terminal_time:"2023-01-10 13:15:03",lat:-5.536792,lng:104.574192,wind_speed:15.9,wind_direction:33.6,heading:225.5,distance:88715.43,depth:-31.3,cog:209.7,sog:.1,created_at:"2023-01-11 09:28:23",updated_at:"2023-01-11 09:28:23"},{time:1673357403e3,id:"7c6d8e6c-0652-4c08-9c17-13466996bfa9",ship_id:1,terminal_time:"2023-01-10 13:30:03",lat:-5.536822,lng:104.574207,wind_speed:14.1,wind_direction:32.3,heading:224.4,distance:88715.45,depth:-31,cog:109.6,sog:.1,created_at:"2023-01-11 08:01:23",updated_at:"2023-01-11 08:01:23"},{time:1673358303e3,id:"f71a5fe4-a992-470c-87d5-901a98539cd8",ship_id:1,terminal_time:"2023-01-10 13:45:03",lat:-5.536855,lng:104.574237,wind_speed:11.6,wind_direction:50.6,heading:220.9,distance:88715.47,depth:-31,cog:99.8,sog:.1,created_at:"2023-01-11 08:59:38",updated_at:"2023-01-11 08:59:38"},{time:1673359203e3,id:"bdb096b3-a7b1-479a-bef5-ea8f3b003506",ship_id:1,terminal_time:"2023-01-10 14:00:03",lat:-5.537295,lng:104.574445,wind_speed:15.5,wind_direction:21,heading:249.2,distance:88715.48,depth:-31,cog:132.1,sog:.1,created_at:"2023-01-11 08:44:42",updated_at:"2023-01-11 08:44:42"},{time:1673360103e3,id:"19bccdc4-4e82-4152-b765-cba9d3cdc2fb",ship_id:1,terminal_time:"2023-01-10 14:15:03",lat:-5.537357,lng:104.574448,wind_speed:20.9,wind_direction:15.4,heading:253.6,distance:88715.49,depth:-31,cog:25,sog:.1,created_at:"2023-01-11 09:05:09",updated_at:"2023-01-11 09:05:09"},{time:1673361003e3,id:"9545fd94-a3ad-4016-bbd4-072cc971b7b4",ship_id:1,terminal_time:"2023-01-10 14:30:03",lat:-5.537183,lng:104.574422,wind_speed:15.3,wind_direction:21,heading:243.8,distance:88715.51,depth:-31,cog:317.2,sog:.2,created_at:"2023-01-11 08:05:43",updated_at:"2023-01-11 08:05:43"},{time:1673361903e3,id:"775ad8f3-7486-4dda-8b7b-a41720291bd7",ship_id:1,terminal_time:"2023-01-10 14:45:03",lat:-5.537147,lng:104.574497,wind_speed:20,wind_direction:11.2,heading:243.4,distance:88715.53,depth:-31,cog:18.5,sog:.1,created_at:"2023-01-11 08:54:04",updated_at:"2023-01-11 08:54:04"},{time:1673362803e3,id:"83abeb04-acff-403c-9cc5-7fb61c8448d9",ship_id:1,terminal_time:"2023-01-10 15:00:03",lat:-5.537225,lng:104.574413,wind_speed:14.5,wind_direction:21,heading:243.4,distance:88715.56,depth:-31,cog:321.2,sog:.1,created_at:"2023-01-11 09:13:01",updated_at:"2023-01-11 09:13:01"},{time:1673363703e3,id:"acaa3bc0-f391-4ec9-8168-4d6ebc980f12",ship_id:1,terminal_time:"2023-01-10 15:15:03",lat:-5.537107,lng:104.574492,wind_speed:19,wind_direction:9.7,heading:243.3,distance:88715.58,depth:-31,cog:319.3,sog:.2,created_at:"2023-01-11 10:25:25",updated_at:"2023-01-11 10:25:25"},{time:1673364603e3,id:"83580a71-bc32-40ba-a819-59e1591bae49",ship_id:1,terminal_time:"2023-01-10 15:30:03",lat:-5.537295,lng:104.574417,wind_speed:18.8,wind_direction:26.7,heading:237.1,distance:88715.61,depth:-31,cog:72.7,sog:.2,created_at:"2023-01-11 08:24:04",updated_at:"2023-01-11 08:24:04"},{time:1673365503e3,id:"d107598f-b613-40ad-80e8-f021392d01a3",ship_id:1,terminal_time:"2023-01-10 15:45:03",lat:-5.53849,lng:104.561972,wind_speed:19.2,wind_direction:8.4,heading:266.7,distance:88716.39,depth:-35.6,cog:265.4,sog:2.8,created_at:"2023-01-11 09:19:29",updated_at:"2023-01-11 09:19:29"},{time:1673366403e3,id:"859441a4-aad6-4ebd-aa8e-4a8578c5526d",ship_id:1,terminal_time:"2023-01-10 16:00:03",lat:-5.541455,lng:104.560142,wind_speed:10.8,wind_direction:0,heading:260.5,distance:88716.58,depth:-41.3,cog:93.6,sog:.4,created_at:"2023-01-11 09:56:23",updated_at:"2023-01-11 09:56:23"},{time:1673367303e3,id:"28c5590a-1222-4129-b1f8-464f4a1ab33d",ship_id:1,terminal_time:"2023-01-10 16:15:03",lat:-5.542728,lng:104.560063,wind_speed:15.9,wind_direction:315.3,heading:0,distance:0,depth:-42,cog:203.9,sog:.3,created_at:"2023-01-11 08:16:55",updated_at:"2023-01-11 08:16:55"},{time:1673368203e3,id:"9331e12a-800b-44a4-8481-ef5423926243",ship_id:1,terminal_time:"2023-01-10 16:30:03",lat:-5.54335,lng:104.559467,wind_speed:14.7,wind_direction:336.4,heading:316.8,distance:88716.61,depth:-42,cog:326.5,sog:.1,created_at:"2023-01-11 09:02:06",updated_at:"2023-01-11 09:02:06"},{time:1673369413e3,id:"b6c2fdc4-0a36-412f-97b3-e19f5f1b754e",ship_id:1,terminal_time:"2023-01-10 16:50:13",lat:-5.54225,lng:104.560177,wind_speed:7.9,wind_direction:16.8,heading:280.8,distance:88716.63,depth:-41.6,cog:348.4,sog:.2,created_at:"2023-01-11 08:36:51",updated_at:"2023-01-11 08:36:51"},{time:1673370003e3,id:"88544c71-07ec-47a3-9425-83443bf1543f",ship_id:1,terminal_time:"2023-01-10 17:00:03",lat:-5.541955,lng:104.560087,wind_speed:12,wind_direction:9.7,heading:270.3,distance:88716.64,depth:-41.6,cog:5.6,sog:.2,created_at:"2023-01-11 09:17:54",updated_at:"2023-01-11 09:17:54"},{time:1673370903e3,id:"0439c29f-90b9-48cc-bec9-af020ee12223",ship_id:1,terminal_time:"2023-01-10 17:15:03",lat:-5.54169,lng:104.560058,wind_speed:8.1,wind_direction:32.3,heading:260.5,distance:88716.65,depth:-41.6,cog:309,sog:.2,created_at:"2023-01-11 10:17:44",updated_at:"2023-01-11 10:17:44"},{time:1673371803e3,id:"5d8047ae-778e-4dae-b543-c5d312c91b89",ship_id:1,terminal_time:"2023-01-10 17:30:03",lat:-5.541797,lng:104.560018,wind_speed:10.4,wind_direction:43.6,heading:258.3,distance:88716.67,depth:-42,cog:106.2,sog:.2,created_at:"2023-01-11 09:22:34",updated_at:"2023-01-11 09:22:34"},{time:1673372703e3,id:"90fec783-94f4-4620-879e-cfd5bf0f9b98",ship_id:1,terminal_time:"2023-01-10 17:45:03",lat:-5.542028,lng:104.560158,wind_speed:7.7,wind_direction:32.3,heading:273,distance:88716.67,depth:-41.6,cog:229.3,sog:.1,created_at:"2023-01-11 09:13:40",updated_at:"2023-01-11 09:13:40"},{time:1673373603e3,id:"925227d5-1685-4efc-8d4d-07ee45b665cb",ship_id:1,terminal_time:"2023-01-10 18:00:03",lat:-5.542407,lng:104.559988,wind_speed:4.6,wind_direction:49.1,heading:282.2,distance:88716.68,depth:-42,cog:194,sog:.1,created_at:"2023-01-11 09:36:51",updated_at:"2023-01-11 09:36:51"},{time:1673374503e3,id:"2c1746d2-52ed-4878-96e6-c5bcb5e15f57",ship_id:1,terminal_time:"2023-01-10 18:15:03",lat:-5.542953,lng:104.559968,wind_speed:4.8,wind_direction:45,heading:303.8,distance:88716.69,depth:-42.3,cog:184.6,sog:.1,created_at:"2023-01-11 09:53:35",updated_at:"2023-01-11 09:53:35"},{time:1673375403e3,id:"458bc847-49b8-4103-b441-5b85070c4a26",ship_id:1,terminal_time:"2023-01-10 18:30:03",lat:-5.54319,lng:104.559698,wind_speed:8.1,wind_direction:26.7,heading:317.6,distance:88716.71,depth:-42.3,cog:259,sog:.2,created_at:"2023-01-11 10:41:12",updated_at:"2023-01-11 10:41:12"},{time:1673376303e3,id:"7a04d24c-562e-4260-8524-122266d76b5d",ship_id:1,terminal_time:"2023-01-10 18:45:03",lat:-5.543392,lng:104.559572,wind_speed:6.8,wind_direction:353.3,heading:326.9,distance:88716.71,depth:-42.3,cog:198.2,sog:.1,created_at:"2023-01-11 10:01:54",updated_at:"2023-01-11 10:01:54"},{time:1673377203e3,id:"4914b017-1b9f-4f4b-a291-d9b6bf8ecccd",ship_id:1,terminal_time:"2023-01-10 19:00:03",lat:-5.54358,lng:104.559465,wind_speed:4.2,wind_direction:359,heading:335.6,distance:88716.71,depth:-42.6,cog:264.1,sog:.1,created_at:"2023-01-11 10:59:54",updated_at:"2023-01-11 10:59:54"},{time:1673378108e3,id:"b76818db-b6a8-430f-a64e-55aacb30bd1e",ship_id:1,terminal_time:"2023-01-10 19:15:08",lat:-5.54346,lng:104.559573,wind_speed:9.3,wind_direction:282.9,heading:336.1,distance:88716.71,depth:-42.6,cog:86,sog:.2,created_at:"2023-01-11 10:54:48",updated_at:"2023-01-11 10:54:48"},{time:1673379003e3,id:"b72a0185-3cac-4028-be33-d0d9cf496a5b",ship_id:1,terminal_time:"2023-01-10 19:30:03",lat:-5.5430150000000005,lng:104.559922,wind_speed:7.3,wind_direction:325.1,heading:311.5,distance:88716.72,depth:-42.3,cog:21.5,sog:.1,created_at:"2023-01-11 10:48:56",updated_at:"2023-01-11 10:48:56"},{time:1673379903e3,id:"00de7ba1-da7b-4f09-b03d-b1e05711ac14",ship_id:1,terminal_time:"2023-01-10 19:45:03",lat:-5.542545,lng:104.560115,wind_speed:7.9,wind_direction:354.6,heading:294.8,distance:88716.73,depth:-42.3,cog:19.6,sog:0,created_at:"2023-01-11 10:06:49",updated_at:"2023-01-11 10:06:49"},{time:1673380803e3,id:"bb4f09cd-d3ea-4bd7-8b43-631d7492bd52",ship_id:1,terminal_time:"2023-01-10 20:00:03",lat:-5.542382,lng:104.560208,wind_speed:12,wind_direction:347.6,heading:289,distance:88716.74,depth:-42.3,cog:354.6,sog:.1,created_at:"2023-01-11 10:02:10",updated_at:"2023-01-11 10:02:10"},{time:1673381703e3,id:"3214b99f-8371-483a-b938-aa3c97e21d86",ship_id:1,terminal_time:"2023-01-10 20:15:03",lat:-5.541937,lng:104.560167,wind_speed:10.4,wind_direction:359,heading:274,distance:88716.75,depth:-42.3,cog:354.7,sog:.1,created_at:"2023-01-11 10:43:38",updated_at:"2023-01-11 10:43:38"},{time:1673382603e3,id:"4ac048c2-864d-4e5c-b5d3-f9bf5206d98e",ship_id:1,terminal_time:"2023-01-10 20:30:03",lat:-5.541728,lng:104.560092,wind_speed:8.1,wind_direction:354.6,heading:267.6,distance:88716.75,depth:-42.3,cog:222.1,sog:0,created_at:"2023-01-11 11:15:05",updated_at:"2023-01-11 11:15:05"},{time:1673383503e3,id:"8149de7d-77d9-48e1-a53d-b6433e2f73d2",ship_id:1,terminal_time:"2023-01-10 20:45:03",lat:-5.541787,lng:104.56018,wind_speed:4.6,wind_direction:9.7,heading:265.9,distance:88716.76,depth:-42.3,cog:317,sog:.1,created_at:"2023-01-11 10:35:19",updated_at:"2023-01-11 10:35:19"},{time:1673384403e3,id:"2923b743-662d-4062-b187-ceeae60b90df",ship_id:1,terminal_time:"2023-01-10 21:00:03",lat:-5.541892,lng:104.55998,wind_speed:5.6,wind_direction:9.7,heading:268,distance:88716.78,depth:-42.3,cog:194,sog:.1,created_at:"2023-01-11 10:29:27",updated_at:"2023-01-11 10:29:27"},{time:1673385303e3,id:"6c1036d6-44a0-425b-8658-9db0c3ed493d",ship_id:1,terminal_time:"2023-01-10 21:15:03",lat:-5.542145,lng:104.56009,wind_speed:4,wind_direction:21,heading:277.4,distance:88716.79,depth:-42.6,cog:260.7,sog:.1,created_at:"2023-01-11 11:25:52",updated_at:"2023-01-11 11:25:52"},{time:1673386203e3,id:"6368e190-3bdc-4221-bff8-71d5bb0a3ca7",ship_id:1,terminal_time:"2023-01-10 21:30:03",lat:-5.542302,lng:104.560052,wind_speed:6.2,wind_direction:11.7,heading:285.8,distance:88716.79,depth:-42.6,cog:164.1,sog:0,created_at:"2023-01-11 11:21:34",updated_at:"2023-01-11 11:21:34"},{time:1673387103e3,id:"fc0088a3-893d-4fe4-bfe7-30679fbca91e",ship_id:1,terminal_time:"2023-01-10 21:45:03",lat:-5.542138,lng:104.560253,wind_speed:10.3,wind_direction:336.4,heading:286,distance:88716.8,depth:-42.3,cog:14.8,sog:.2,created_at:"2023-01-11 11:19:10",updated_at:"2023-01-11 11:19:10"},{time:1673388003e3,id:"71be65de-7a90-43dd-81c8-39b9fef2c290",ship_id:1,terminal_time:"2023-01-10 22:00:03",lat:-5.54161,lng:104.559828,wind_speed:2.7,wind_direction:336.4,heading:262.8,distance:88716.82,depth:-42,cog:266.4,sog:.1,created_at:"2023-01-11 10:57:14",updated_at:"2023-01-11 10:57:14"},{time:1673388908e3,id:"e42797d0-df06-4807-ab76-c37418dcfe02",ship_id:1,terminal_time:"2023-01-10 22:15:08",lat:-5.541503,lng:104.55974,wind_speed:6.6,wind_direction:336.4,heading:252.5,distance:88716.83,depth:-42,cog:14.8,sog:.1,created_at:"2023-01-11 11:11:30",updated_at:"2023-01-11 11:11:30"},{time:1673389803e3,id:"eee442cb-4b9b-47a6-9d4d-b678c812444b",ship_id:1,terminal_time:"2023-01-10 22:30:03",lat:-5.54109,lng:104.560015,wind_speed:12,wind_direction:16.8,heading:246.5,distance:88716.84,depth:-41.6,cog:347.3,sog:.1,created_at:"2023-01-11 11:10:12",updated_at:"2023-01-11 11:10:12"},{time:1673390703e3,id:"e4a937de-d12c-4530-90a5-f64aa8f75f72",ship_id:1,terminal_time:"2023-01-10 22:45:03",lat:-5.541293,lng:104.559667,wind_speed:2.7,wind_direction:43.6,heading:245.7,distance:88716.86,depth:-42,cog:209.6,sog:.1,created_at:"2023-01-11 11:04:22",updated_at:"2023-01-11 11:04:22"},{time:1673391698e3,id:"68a3ef72-960a-4387-8aa6-5b66611fe0a2",ship_id:1,terminal_time:"2023-01-10 23:01:38",lat:-5.541548,lng:104.559765,wind_speed:3.4,wind_direction:49.1,heading:0,distance:0,depth:-41.6,cog:134.3,sog:.1,created_at:"2023-01-11 11:39:16",updated_at:"2023-01-11 11:39:16"},{time:1673392503e3,id:"089eb567-2b29-41e9-9781-9030e190f220",ship_id:1,terminal_time:"2023-01-10 23:15:03",lat:-5.54197,lng:104.560077,wind_speed:4.2,wind_direction:56.3,heading:271.4,distance:88716.87,depth:-42,cog:164.7,sog:.2,created_at:"2023-01-11 11:30:13",updated_at:"2023-01-11 11:30:13"},{time:1673393403e3,id:"63129a87-03cc-4ede-ba2d-91ee71078d8a",ship_id:1,terminal_time:"2023-01-10 23:30:03",lat:-5.542198,lng:104.5601,wind_speed:2.3,wind_direction:43.5,heading:286,distance:88716.87,depth:-42,cog:207.2,sog:.1,created_at:"2023-01-11 11:43:42",updated_at:"2023-01-11 11:43:42"},{time:1673394303e3,id:"4aaecec9-7db3-489d-9e3f-9027a0451a1d",ship_id:1,terminal_time:"2023-01-10 23:45:03",lat:-5.542232,lng:104.56008,wind_speed:2.5,wind_direction:357.5,heading:289.4,distance:88716.87,depth:-42,cog:172.7,sog:.1,created_at:"2023-01-11 11:30:30",updated_at:"2023-01-11 11:30:30"},{time:1673395203e3,id:"5e443c1f-a779-458b-923d-d79b8bdb2950",ship_id:1,terminal_time:"2023-01-11 00:00:03",lat:-5.542575,lng:104.559993,wind_speed:4.2,wind_direction:49.1,heading:295.9,distance:88716.87,depth:-42,cog:178.8,sog:.1,created_at:"2023-01-11 11:20:30",updated_at:"2023-01-11 11:20:30"},{time:1673478415e3,id:"3a27a298-8266-41ea-83c2-1fa693ef93a8",ship_id:1,terminal_time:"2023-01-11 23:06:55",lat:-5.91961,lng:106.000188,wind_speed:15.1,wind_direction:201.2,heading:31.1,distance:88812.6,depth:-4,cog:306.2,sog:.1,created_at:"2023-01-12 08:00:07",updated_at:"2023-01-12 08:00:07"},{time:1673482021e3,id:"301c2657-23af-4610-8577-1267f195a1c7",ship_id:1,terminal_time:"2023-01-12 00:07:01",lat:-5.91961,lng:106.000188,wind_speed:15.1,wind_direction:201.2,heading:31.1,distance:88812.6,depth:-4,cog:306.2,sog:0,created_at:"2023-01-12 08:00:10",updated_at:"2023-01-12 08:00:10"},{time:1673482501e3,id:"ffe5c699-e3bc-4273-a0ff-33499003b397",ship_id:1,terminal_time:"2023-01-12 00:15:01",lat:-5.919605,lng:106.00021,wind_speed:12.8,wind_direction:212.5,heading:31.1,distance:88812.61,depth:-4,cog:295.9,sog:0,created_at:"2023-01-12 08:01:25",updated_at:"2023-01-12 08:01:25"},{time:1673483401e3,id:"95be2e54-e93e-4fe2-a470-028106f4827b",ship_id:1,terminal_time:"2023-01-12 00:30:01",lat:-5.919602,lng:106.000222,wind_speed:15.1,wind_direction:219.6,heading:31,distance:88812.61,depth:-4,cog:107.8,sog:0,created_at:"2023-01-12 08:00:38",updated_at:"2023-01-12 08:00:38"},{time:1673484301e3,id:"62eb058f-ab11-46fc-8990-a9da9a055cae",ship_id:1,terminal_time:"2023-01-12 00:45:01",lat:-5.91959,lng:106.00022,wind_speed:19.6,wind_direction:206.9,heading:31.2,distance:88812.61,depth:-4,cog:126.6,sog:0,created_at:"2023-01-12 08:02:17",updated_at:"2023-01-12 08:02:17"},{time:1673485201e3,id:"db170fcf-5c04-48b1-8b3e-1ea1a747de17",ship_id:1,terminal_time:"2023-01-12 01:00:01",lat:-5.919602,lng:106.000213,wind_speed:14.1,wind_direction:206.9,heading:31.2,distance:88812.61,depth:-3.6,cog:121.9,sog:0,created_at:"2023-01-12 08:03:00",updated_at:"2023-01-12 08:03:00"},{time:1673486101e3,id:"53202233-3f20-46fc-b124-4e5b880022cc",ship_id:1,terminal_time:"2023-01-12 01:15:01",lat:-5.919595,lng:106.00023,wind_speed:20.4,wind_direction:204,heading:31.2,distance:88812.61,depth:-3.6,cog:137,sog:.1,created_at:"2023-01-12 08:03:40",updated_at:"2023-01-12 08:03:40"},{time:1673487001e3,id:"f2ad03cf-9317-4535-884b-21401f965fa1",ship_id:1,terminal_time:"2023-01-12 01:30:01",lat:-5.91957,lng:106.000213,wind_speed:16.1,wind_direction:206.9,heading:31.6,distance:88812.62,depth:-3.6,cog:312.3,sog:0,created_at:"2023-01-12 08:01:18",updated_at:"2023-01-12 08:01:18"},{time:1673487901e3,id:"1717eafe-2674-4fab-ac02-c130433596ce",ship_id:1,terminal_time:"2023-01-12 01:45:01",lat:-5.919583,lng:106.000232,wind_speed:16.9,wind_direction:208.3,heading:31.3,distance:88812.62,depth:-3.6,cog:280.3,sog:.1,created_at:"2023-01-12 08:00:28",updated_at:"2023-01-12 08:00:28"},{time:1673488801e3,id:"a257ae15-7b7d-4982-9e0a-7d65c7724a0b",ship_id:1,terminal_time:"2023-01-12 02:00:01",lat:-5.919518,lng:106.000213,wind_speed:19.2,wind_direction:213.9,heading:30.9,distance:88812.62,depth:-3.6,cog:303.5,sog:0,created_at:"2023-01-12 08:02:13",updated_at:"2023-01-12 08:02:13"},{time:1673489701e3,id:"e16c56d6-2d75-447e-9552-8e9dc5c89d17",ship_id:1,terminal_time:"2023-01-12 02:15:01",lat:-5.919577,lng:106.000232,wind_speed:20,wind_direction:212.5,heading:31.1,distance:88812.63,depth:-3.6,cog:310.5,sog:.1,created_at:"2023-01-12 08:01:35",updated_at:"2023-01-12 08:01:35"},{time:1673490601e3,id:"f19c3f20-ab29-457b-939a-1b258e8f55ad",ship_id:1,terminal_time:"2023-01-12 02:30:01",lat:-5.919567,lng:106.000248,wind_speed:19,wind_direction:212.1,heading:31.2,distance:88812.64,depth:-3.3,cog:313.2,sog:.1,created_at:"2023-01-12 08:00:48",updated_at:"2023-01-12 08:00:48"},{time:1673491501e3,id:"36399975-75a1-4ae4-9944-fe85dc14f62b",ship_id:1,terminal_time:"2023-01-12 02:45:01",lat:-5.919593,lng:106.000235,wind_speed:14.9,wind_direction:202.7,heading:31.2,distance:88812.65,depth:-3.3,cog:331.5,sog:.1,created_at:"2023-01-12 08:02:40",updated_at:"2023-01-12 08:02:40"},{time:1673492401e3,id:"85c19f34-0992-4c6f-b7dc-db0b624a306b",ship_id:1,terminal_time:"2023-01-12 03:00:01",lat:-5.919592,lng:106.00023,wind_speed:17.6,wind_direction:209.2,heading:31.2,distance:88812.66,depth:-3.3,cog:99.6,sog:0,created_at:"2023-01-12 08:03:12",updated_at:"2023-01-12 08:03:12"},{time:1673493301e3,id:"c778fd18-b2e6-4009-9e52-6cb03b3fa5f9",ship_id:1,terminal_time:"2023-01-12 03:15:01",lat:-5.919595,lng:106.00021,wind_speed:18.4,wind_direction:206.9,heading:31.1,distance:88812.67,depth:-3.3,cog:304.7,sog:.1,created_at:"2023-01-12 08:03:47",updated_at:"2023-01-12 08:03:47"},{time:1673494201e3,id:"6475c752-084a-474b-83f3-ed822b2ccb81",ship_id:1,terminal_time:"2023-01-12 03:30:01",lat:-5.919612,lng:106.000213,wind_speed:17.6,wind_direction:213.9,heading:31,distance:88812.68,depth:-3.3,cog:294.5,sog:.1,created_at:"2023-01-12 08:01:24",updated_at:"2023-01-12 08:01:24"},{time:1673495101e3,id:"a56d58a7-c4ba-4709-923b-545fd0a68e23",ship_id:1,terminal_time:"2023-01-12 03:45:01",lat:-5.919602,lng:106.000232,wind_speed:17.4,wind_direction:201.2,heading:31.3,distance:88812.68,depth:-3.3,cog:257.4,sog:0,created_at:"2023-01-12 08:04:20",updated_at:"2023-01-12 08:04:20"},{time:1673496001e3,id:"cac79e4a-e15d-4f75-9273-d5e24645053e",ship_id:1,terminal_time:"2023-01-12 04:00:01",lat:-5.919602,lng:106.000252,wind_speed:15.3,wind_direction:213.9,heading:0,distance:0,depth:-3.3,cog:307.2,sog:.1,created_at:"2023-01-12 08:04:10",updated_at:"2023-01-12 08:04:10"},{time:1673496901e3,id:"3dfb8e71-93a9-4d4f-8965-013575f61a35",ship_id:1,terminal_time:"2023-01-12 04:15:01",lat:-5.919607,lng:106.000238,wind_speed:20.2,wind_direction:206.7,heading:31.3,distance:88812.68,depth:-3.3,cog:150.8,sog:.1,created_at:"2023-01-12 08:04:45",updated_at:"2023-01-12 08:04:45"},{time:1673497801e3,id:"0f7d7540-fe75-45e0-9a30-635c7128b620",ship_id:1,terminal_time:"2023-01-12 04:30:01",lat:-5.919607,lng:106.000257,wind_speed:15.9,wind_direction:206.9,heading:31,distance:88812.68,depth:-3.3,cog:149.1,sog:0,created_at:"2023-01-12 08:02:03",updated_at:"2023-01-12 08:02:03"},{time:1673498701e3,id:"f21a660b-dcfa-4b13-9856-215ab031fb29",ship_id:1,terminal_time:"2023-01-12 04:45:01",lat:-5.919532,lng:106.000253,wind_speed:18,wind_direction:206.9,heading:0,distance:0,depth:-3.3,cog:196,sog:0,created_at:"2023-01-12 08:03:57",updated_at:"2023-01-12 08:03:57"},{time:1673499601e3,id:"67284bea-ac4f-4fcb-be3d-67fb96501e12",ship_id:1,terminal_time:"2023-01-12 05:00:01",lat:-5.919563,lng:106.000252,wind_speed:12.8,wind_direction:206.9,heading:31.1,distance:88812.69,depth:-3.3,cog:313.2,sog:.1,created_at:"2023-01-12 08:02:05",updated_at:"2023-01-12 08:02:05"},{time:1673500501e3,id:"903255da-a46b-4560-be6f-54121a35e9d4",ship_id:1,terminal_time:"2023-01-12 05:15:01",lat:-5.919592,lng:106.00022,wind_speed:14.7,wind_direction:208.3,heading:31.2,distance:88812.69,depth:-3.3,cog:317.3,sog:0,created_at:"2023-01-12 08:01:18",updated_at:"2023-01-12 08:01:18"},{time:1673501401e3,id:"d15302d5-c880-455f-8e84-b63f78532405",ship_id:1,terminal_time:"2023-01-12 05:30:01",lat:-5.919553,lng:106.000257,wind_speed:14.1,wind_direction:206.9,heading:31.3,distance:88812.69,depth:-3.3,cog:85.3,sog:0,created_at:"2023-01-12 08:00:36",updated_at:"2023-01-12 08:00:36"},{time:1673502301e3,id:"6964957b-d44f-4ccd-9711-139c0f5321a6",ship_id:1,terminal_time:"2023-01-12 05:45:01",lat:-5.919598,lng:106.000232,wind_speed:12.4,wind_direction:213.9,heading:31,distance:88812.7,depth:-3.3,cog:71.8,sog:0,created_at:"2023-01-12 08:02:19",updated_at:"2023-01-12 08:02:19"},{time:1673503261e3,id:"9e325986-7d1b-4135-ba31-922a70ec7621",ship_id:1,terminal_time:"2023-01-12 06:01:01",lat:-5.919563,lng:106.000245,wind_speed:16.9,wind_direction:213.9,heading:31.1,distance:88812.7,depth:-3.3,cog:45.2,sog:0,created_at:"2023-01-12 08:04:33",updated_at:"2023-01-12 08:04:33"},{time:1673504101e3,id:"91e1667b-13ee-4042-b227-58b06be13ccd",ship_id:1,terminal_time:"2023-01-12 06:15:01",lat:-5.919573,lng:106.00022,wind_speed:6.6,wind_direction:213.9,heading:31.3,distance:88812.7,depth:-3.3,cog:144.5,sog:0,created_at:"2023-01-12 08:01:32",updated_at:"2023-01-12 08:01:32"},{time:1673505006e3,id:"8fbb2278-d875-4905-87a7-36e16bdc5d08",ship_id:1,terminal_time:"2023-01-12 06:30:06",lat:-5.919547,lng:106.00019,wind_speed:14.1,wind_direction:219.6,heading:31.1,distance:88812.7,depth:-3.3,cog:129.1,sog:0,created_at:"2023-01-12 08:03:24",updated_at:"2023-01-12 08:03:24"},{time:1673505901e3,id:"6dd47699-6d9e-4f4e-b03f-b3c7c179d628",ship_id:1,terminal_time:"2023-01-12 06:45:01",lat:-5.919567,lng:106.000218,wind_speed:11.2,wind_direction:206.9,heading:31.2,distance:88812.7,depth:-3.3,cog:302.6,sog:0,created_at:"2023-01-12 08:04:14",updated_at:"2023-01-12 08:04:14"},{time:1673506801e3,id:"e6b66228-a386-4585-8b24-beb353ada5df",ship_id:1,terminal_time:"2023-01-12 07:00:01",lat:-5.919573,lng:106.000242,wind_speed:13.8,wind_direction:212.5,heading:31.2,distance:88812.7,depth:-3.3,cog:130,sog:0,created_at:"2023-01-12 08:03:33",updated_at:"2023-01-12 08:03:33"},{time:1673507701e3,id:"87faa350-6df1-4360-a4a2-280d812558f8",ship_id:1,terminal_time:"2023-01-12 07:15:01",lat:-5.919583,lng:106.000195,wind_speed:11.2,wind_direction:201.2,heading:31.1,distance:88812.7,depth:-3.3,cog:122.9,sog:0,created_at:"2023-01-12 08:04:40",updated_at:"2023-01-12 08:04:40"},{time:1673508601e3,id:"9e3f7764-a732-42a0-94c3-1c0493a43105",ship_id:1,terminal_time:"2023-01-12 07:30:01",lat:-5.919588,lng:106.000215,wind_speed:11,wind_direction:223.8,heading:31.1,distance:88812.7,depth:-3.3,cog:125.7,sog:0,created_at:"2023-01-12 08:04:34",updated_at:"2023-01-12 08:04:34"},{time:1673509501e3,id:"c0d5821b-d4a0-469d-a793-634ffbcb381f",ship_id:1,terminal_time:"2023-01-12 07:45:01",lat:-5.919593,lng:106.000222,wind_speed:16.1,wind_direction:213.9,heading:31.1,distance:88812.7,depth:-3.3,cog:122.9,sog:0,created_at:"2023-01-12 08:03:50",updated_at:"2023-01-12 08:03:50"},{time:1673510406e3,id:"5bcbfbf1-6af1-45d4-9e4f-3f756ee3de58",ship_id:1,terminal_time:"2023-01-12 08:00:06",lat:-5.9196,lng:106.000238,wind_speed:10.8,wind_direction:215.4,heading:31,distance:88812.7,depth:-3.3,cog:117.8,sog:.1,created_at:"2023-01-12 08:04:56",updated_at:"2023-01-12 08:04:56"},{time:1673511301e3,id:"7d090cd0-aba9-42b6-bbe9-1f253ee7093b",ship_id:1,terminal_time:"2023-01-12 08:15:01",lat:-5.919602,lng:106.000217,wind_speed:12.2,wind_direction:223.8,heading:31.1,distance:88812.7,depth:-3.6,cog:92.7,sog:.1,created_at:"2023-01-12 08:15:05",updated_at:"2023-01-12 08:15:05"},{time:1673512201e3,id:"fc753b87-6977-4e80-b90b-05dc877e04c3",ship_id:1,terminal_time:"2023-01-12 08:30:01",lat:-5.919598,lng:106.000233,wind_speed:15.5,wind_direction:215.4,heading:31.1,distance:88812.71,depth:-3.6,cog:134.1,sog:0,created_at:"2023-01-12 08:30:04",updated_at:"2023-01-12 08:30:04"},{time:1673513101e3,id:"15468c4d-66ad-44c5-8692-70c97eca048f",ship_id:1,terminal_time:"2023-01-12 08:45:01",lat:-5.919635,lng:106.00023,wind_speed:13.8,wind_direction:235.1,heading:31.1,distance:88812.71,depth:-3.6,cog:105.9,sog:.1,created_at:"2023-01-12 08:45:04",updated_at:"2023-01-12 08:45:04"},{time:1673514001e3,id:"ebc3bf69-1d1f-495a-b4a4-9c32c0ed598d",ship_id:1,terminal_time:"2023-01-12 09:00:01",lat:-5.919602,lng:106.000208,wind_speed:15.5,wind_direction:212,heading:31.2,distance:88812.71,depth:-3.6,cog:112.4,sog:0,created_at:"2023-01-12 09:00:04",updated_at:"2023-01-12 09:00:04"},{time:1673514901e3,id:"545fefd0-b1bb-4e36-a7d3-c0c35e2dc06a",ship_id:1,terminal_time:"2023-01-12 09:15:01",lat:-5.919617,lng:106.000203,wind_speed:11.6,wind_direction:223.8,heading:31.33,distance:88812.71,depth:-3.6,cog:121.1,sog:0,created_at:"2023-01-12 09:15:04",updated_at:"2023-01-12 09:15:04"},{time:1673515801e3,id:"f45537e7-c24d-43d4-a111-c331f0185270",ship_id:1,terminal_time:"2023-01-12 09:30:01",lat:-5.919602,lng:106.000202,wind_speed:11.4,wind_direction:246.3,heading:31.3,distance:88812.71,depth:-3.6,cog:120.6,sog:0,created_at:"2023-01-12 09:30:05",updated_at:"2023-01-12 09:30:05"},{time:1673516706e3,id:"d927f6f3-c47e-4066-948b-8c47ce169ddd",ship_id:1,terminal_time:"2023-01-12 09:45:06",lat:-5.919607,lng:106.0002,wind_speed:11.8,wind_direction:246.3,heading:31.3,distance:88812.71,depth:-3.6,cog:281.2,sog:0,created_at:"2023-01-12 09:45:11",updated_at:"2023-01-12 09:45:11"},{time:1673517601e3,id:"6f2b17a6-fc9e-4272-b263-9372835e5cb7",ship_id:1,terminal_time:"2023-01-12 10:00:01",lat:-5.919583,lng:106.000217,wind_speed:13.2,wind_direction:235.1,heading:31.1,distance:88812.71,depth:-3.6,cog:122.7,sog:0,created_at:"2023-01-12 10:00:05",updated_at:"2023-01-12 10:00:05"},{time:1673518501e3,id:"8037d2bb-f96b-4bdc-8e1a-6cc0234defce",ship_id:1,terminal_time:"2023-01-12 10:15:01",lat:-5.919593,lng:106.000227,wind_speed:10.8,wind_direction:225.2,heading:31.2,distance:88812.71,depth:-3.6,cog:107.9,sog:0,created_at:"2023-01-12 10:15:05",updated_at:"2023-01-12 10:15:05"},{time:1673519401e3,id:"59efc70a-dfcf-475b-a578-d472d4b63f41",ship_id:1,terminal_time:"2023-01-12 10:30:01",lat:-5.91962,lng:106.000227,wind_speed:12.8,wind_direction:235.1,heading:0,distance:0,depth:-3.6,cog:127.3,sog:0,created_at:"2023-01-12 10:30:05",updated_at:"2023-01-12 10:30:05"},{time:1673520301e3,id:"14107e27-17a4-4f72-8bf5-b4ba6866475b",ship_id:1,terminal_time:"2023-01-12 10:45:01",lat:-5.919598,lng:106.000215,wind_speed:6.9,wind_direction:241.7,heading:31.2,distance:88812.72,depth:-3.6,cog:142.3,sog:0,created_at:"2023-01-12 10:45:05",updated_at:"2023-01-12 10:45:05"},{time:1673521201e3,id:"55f2910a-c9a9-400f-99ec-17d9ea4260ab",ship_id:1,terminal_time:"2023-01-12 11:00:01",lat:-5.919615,lng:106.000205,wind_speed:14.3,wind_direction:235.1,heading:31.2,distance:88812.72,depth:-3.6,cog:309,sog:0,created_at:"2023-01-12 11:00:05",updated_at:"2023-01-12 11:00:05"},{time:1673522101e3,id:"554cb944-60be-4c64-baf9-0244229277f5",ship_id:1,terminal_time:"2023-01-12 11:15:01",lat:-5.919627,lng:106.000208,wind_speed:12.4,wind_direction:237.5,heading:31,distance:88812.72,depth:-3.6,cog:63,sog:.1,created_at:"2023-01-12 11:15:05",updated_at:"2023-01-12 11:15:05"},{time:1673523001e3,id:"d0a7e914-9d36-4e3a-b078-429af76e139a",ship_id:1,terminal_time:"2023-01-12 11:30:01",lat:-5.919625,lng:106.000183,wind_speed:12.4,wind_direction:247.7,heading:31.3,distance:88812.74,depth:-3.6,cog:64.3,sog:.1,created_at:"2023-01-12 11:30:05",updated_at:"2023-01-12 11:30:05"},{time:1673523901e3,id:"3578112f-5993-44fc-9bcb-484ae892cb83",ship_id:1,terminal_time:"2023-01-12 11:45:01",lat:-5.91961,lng:106.00022,wind_speed:13.8,wind_direction:247.7,heading:31.2,distance:88812.75,depth:-3.6,cog:47.8,sog:.1,created_at:"2023-01-12 11:45:05",updated_at:"2023-01-12 11:45:05"},{time:1673524801e3,id:"63045459-e38d-4517-88ec-0e16f915455c",ship_id:1,terminal_time:"2023-01-12 12:00:01",lat:-5.919587,lng:106.000218,wind_speed:9.1,wind_direction:247.7,heading:31.1,distance:88812.76,depth:-3.6,cog:102.5,sog:.1,created_at:"2023-01-12 12:00:05",updated_at:"2023-01-12 12:00:05"},{time:1673525701e3,id:"8f235d26-eba0-4cf1-b387-1bbe467f5880",ship_id:1,terminal_time:"2023-01-12 12:15:01",lat:-5.919615,lng:106.000227,wind_speed:11.6,wind_direction:242.1,heading:31.1,distance:88812.77,depth:-3.6,cog:311.4,sog:0,created_at:"2023-01-12 12:15:02",updated_at:"2023-01-12 12:15:02"},{time:1673526601e3,id:"3a964569-c108-42ad-a009-fcbb362b6a7f",ship_id:1,terminal_time:"2023-01-12 12:30:01",lat:-5.91958,lng:106.000207,wind_speed:5.8,wind_direction:229.4,heading:31.2,distance:88812.77,depth:-3.3,cog:110.9,sog:.1,created_at:"2023-01-12 12:30:04",updated_at:"2023-01-12 12:30:04"},{time:1673527501e3,id:"6751b37a-cee9-487f-bb0f-011ea80d9cb4",ship_id:1,terminal_time:"2023-01-12 12:45:01",lat:-5.919628,lng:106.000247,wind_speed:7.9,wind_direction:206.9,heading:31.3,distance:88812.78,depth:-3.3,cog:293.2,sog:0,created_at:"2023-01-12 12:45:04",updated_at:"2023-01-12 12:45:04"},{time:1673528401e3,id:"9a2e95f6-e2a6-4136-a8a0-f05c56caf90e",ship_id:1,terminal_time:"2023-01-12 13:00:01",lat:-5.919595,lng:106.000223,wind_speed:9.7,wind_direction:223.8,heading:0,distance:0,depth:-3.3,cog:139,sog:.2,created_at:"2023-01-12 13:00:04",updated_at:"2023-01-12 13:00:04"},{time:1673529301e3,id:"7ecb61ef-4188-47ff-8bf4-6efd86f72928",ship_id:1,terminal_time:"2023-01-12 13:15:01",lat:-5.91958,lng:106.000175,wind_speed:7.3,wind_direction:237.9,heading:0,distance:0,depth:-3.3,cog:131.9,sog:0,created_at:"2023-01-12 13:15:04",updated_at:"2023-01-12 13:15:04"},{time:1673530201e3,id:"43466e7e-0a51-42ee-81ce-5bcb8067a0a0",ship_id:1,terminal_time:"2023-01-12 13:30:01",lat:-5.919583,lng:106.00021,wind_speed:8.7,wind_direction:219.6,heading:31.2,distance:88812.78,depth:-3.3,cog:114,sog:.1,created_at:"2023-01-12 13:30:04",updated_at:"2023-01-12 13:30:04"},{time:1673531101e3,id:"297a2025-c5ef-40bd-b16e-59dba6360dae",ship_id:1,terminal_time:"2023-01-12 13:45:01",lat:-5.919592,lng:106.000177,wind_speed:5.2,wind_direction:233.7,heading:31.1,distance:88812.78,depth:-3.3,cog:101.6,sog:0,created_at:"2023-01-12 13:45:04",updated_at:"2023-01-12 13:45:04"},{time:1673532001e3,id:"4d3b3fed-521a-4c4b-be34-bc1c12554aca",ship_id:1,terminal_time:"2023-01-12 14:00:01",lat:-5.919585,lng:106.000207,wind_speed:5.6,wind_direction:236.5,heading:31.3,distance:88812.79,depth:-3.3,cog:337.4,sog:0,created_at:"2023-01-12 14:00:04",updated_at:"2023-01-12 14:00:04"},{time:1673532901e3,id:"4d4f1774-36c0-419e-ba3a-b02fddf2626f",ship_id:1,terminal_time:"2023-01-12 14:15:01",lat:-5.919595,lng:106.000158,wind_speed:4.6,wind_direction:260.4,heading:31.2,distance:88812.79,depth:-3.3,cog:324.5,sog:0,created_at:"2023-01-12 14:15:04",updated_at:"2023-01-12 14:15:04"},{time:1673533801e3,id:"1698b5e0-d4ac-49ad-b810-49e9601d3853",ship_id:1,terminal_time:"2023-01-12 14:30:01",lat:-5.919583,lng:106.000225,wind_speed:4.6,wind_direction:256.1,heading:31.2,distance:88812.8,depth:-3.3,cog:322.1,sog:.1,created_at:"2023-01-12 14:30:04",updated_at:"2023-01-12 14:30:04"},{time:1673534701e3,id:"ad9fb6e4-5f14-4125-9e71-167e7c866606",ship_id:1,terminal_time:"2023-01-12 14:45:01",lat:-5.919595,lng:106.000203,wind_speed:6.8,wind_direction:233.7,heading:31.2,distance:88812.8,depth:-3,cog:95.3,sog:.1,created_at:"2023-01-12 14:45:04",updated_at:"2023-01-12 14:45:04"},{time:1673535601e3,id:"1fe7fc3b-36f4-404f-be9f-7b043d160fd3",ship_id:1,terminal_time:"2023-01-12 15:00:01",lat:-5.919605,lng:106.000208,wind_speed:8.3,wind_direction:252,heading:31.3,distance:88812.81,depth:-3,cog:332,sog:.1,created_at:"2023-01-12 15:00:05",updated_at:"2023-01-12 15:00:05"},{time:1673536501e3,id:"e70637eb-6415-42ce-9e73-20ef8a56d9b5",ship_id:1,terminal_time:"2023-01-12 15:15:01",lat:-5.919622,lng:106.000213,wind_speed:8.5,wind_direction:252,heading:31.5,distance:88812.81,depth:-3,cog:307.5,sog:0,created_at:"2023-01-12 15:15:05",updated_at:"2023-01-12 15:15:05"},{time:1673537401e3,id:"89cddc9c-a742-45c5-a8cb-95af58326154",ship_id:1,terminal_time:"2023-01-12 15:30:01",lat:-5.919613,lng:106.000245,wind_speed:6.4,wind_direction:247.7,heading:31.5,distance:88812.82,depth:-3,cog:180.8,sog:.1,created_at:"2023-01-12 15:30:05",updated_at:"2023-01-12 15:30:05"},{time:1673538301e3,id:"7eeb6682-f01b-4920-be65-5e0b691cda91",ship_id:1,terminal_time:"2023-01-12 15:45:01",lat:-5.918417,lng:105.999612,wind_speed:10.4,wind_direction:337.8,heading:291.7,distance:88812.88,depth:-3.3,cog:310.4,sog:2.1,created_at:"2023-01-12 15:45:05",updated_at:"2023-01-12 15:45:05"},{time:1673539201e3,id:"bca7ec47-e760-471e-bcd9-5a8aa2355046",ship_id:1,terminal_time:"2023-01-12 16:00:01",lat:-5.898973,lng:105.987732,wind_speed:18.2,wind_direction:324.5,heading:340.2,distance:88814.27,depth:-39,cog:332.8,sog:9.2,created_at:"2023-01-12 16:00:05",updated_at:"2023-01-12 16:00:05"},{time:1673540101e3,id:"6d1f8f41-c708-4913-9f3b-796181bd67ba",ship_id:1,terminal_time:"2023-01-12 16:15:01",lat:-5.868212,lng:106.003383,wind_speed:3.6,wind_direction:226.2,heading:60.3,distance:88816.54,depth:-55.6,cog:61.7,sog:11.4,created_at:"2023-01-12 16:15:02",updated_at:"2023-01-12 16:15:02"},{time:1673541001e3,id:"ffddd40d-2fb5-470b-935f-1f998984761a",ship_id:1,terminal_time:"2023-01-12 16:30:01",lat:-5.8487729999999996,lng:106.049228,wind_speed:5.8,wind_direction:157.5,heading:70.4,distance:88819.53,depth:-47,cog:70,sog:12.2,created_at:"2023-01-12 16:30:05",updated_at:"2023-01-12 16:30:05"},{time:1673541901e3,id:"225b2709-e620-4f1f-89f5-d761ea9a27f8",ship_id:1,terminal_time:"2023-01-12 16:45:01",lat:-5.834948,lng:106.097917,wind_speed:6.4,wind_direction:157.5,heading:80.2,distance:88822.55,depth:-31.6,cog:81.1,sog:12.2,created_at:"2023-01-12 16:45:05",updated_at:"2023-01-12 16:45:05"},{time:1673542801e3,id:"98589ed9-2a54-44e0-94d2-9b377e3c67c6",ship_id:1,terminal_time:"2023-01-12 17:00:01",lat:-5.832885,lng:106.14986,wind_speed:4,wind_direction:144.5,heading:99,distance:88825.66,depth:-28.6,cog:102.2,sog:12.8,created_at:"2023-01-12 17:00:05",updated_at:"2023-01-12 17:00:05"},{time:1673543701e3,id:"7fa7bf3b-acdb-4707-8e81-6860424af4b9",ship_id:1,terminal_time:"2023-01-12 17:15:01",lat:-5.838525,lng:106.20245,wind_speed:2.9,wind_direction:161.9,heading:89.2,distance:88828.85,depth:-22.6,cog:91.4,sog:12.7,created_at:"2023-01-12 17:15:05",updated_at:"2023-01-12 17:15:05"},{time:1673544601e3,id:"79865b86-826b-4cb0-bd95-1a88728a32ee",ship_id:1,terminal_time:"2023-01-12 17:30:01",lat:-5.839608,lng:106.25531,wind_speed:1.7,wind_direction:194.7,heading:88.8,distance:88831.98,depth:-23,cog:90.5,sog:12.7,created_at:"2023-01-12 17:30:03",updated_at:"2023-01-12 17:30:03"},{time:1673545501e3,id:"bcf27b90-6ee8-4dc4-91cd-4b5ab1188d9a",ship_id:1,terminal_time:"2023-01-12 17:45:01",lat:-5.83994,lng:106.30857,wind_speed:2.5,wind_direction:99.8,heading:89,distance:88835.27,depth:-31.6,cog:91.2,sog:13,created_at:"2023-01-12 17:45:03",updated_at:"2023-01-12 17:45:03"},{time:1673546401e3,id:"24294d87-37c8-401c-8120-3f6412ebbd31",ship_id:1,terminal_time:"2023-01-12 18:00:01",lat:-5.841293,lng:106.363258,wind_speed:3.6,wind_direction:54.9,heading:86.3,distance:88838.55,depth:-28.6,cog:88.1,sog:13.1,created_at:"2023-01-12 18:00:03",updated_at:"2023-01-12 18:00:03"},{time:1673547301e3,id:"1b983cb5-a7a5-4259-a3ed-68ba7093343e",ship_id:1,terminal_time:"2023-01-12 18:15:01",lat:-5.838722,lng:106.418933,wind_speed:7.3,wind_direction:56.3,heading:90.1,distance:88841.85,depth:-49.3,cog:90.8,sog:13.2,created_at:"2023-01-12 18:15:03",updated_at:"2023-01-12 18:15:03"},{time:1673548201e3,id:"15c3c6db-50aa-4a57-9238-2319a66b67aa",ship_id:1,terminal_time:"2023-01-12 18:30:01",lat:-5.83975,lng:106.47494,wind_speed:9.3,wind_direction:54.9,heading:89.9,distance:88845.21,depth:-45.6,cog:90.7,sog:13.5,created_at:"2023-01-13 08:01:29",updated_at:"2023-01-13 08:01:29"},{time:1673549101e3,id:"06e2801a-9747-4c80-9786-b47a946f07dd",ship_id:1,terminal_time:"2023-01-12 18:45:01",lat:-5.840233,lng:106.531412,wind_speed:9.9,wind_direction:65.2,heading:92.3,distance:88848.59,depth:-77.6,cog:94,sog:13.5,created_at:"2023-01-13 08:03:23",updated_at:"2023-01-13 08:03:23"},{time:1673550001e3,id:"69056518-ad05-4299-9844-8cdfaed1b01c",ship_id:1,terminal_time:"2023-01-12 19:00:01",lat:-5.837537,lng:106.585833,wind_speed:10.4,wind_direction:16.8,heading:77.9,distance:88851.84,depth:-70.6,cog:78.2,sog:13,created_at:"2023-01-13 08:02:35",updated_at:"2023-01-13 08:02:35"},{time:1673550901e3,id:"17bc32d5-5b7b-4c30-b1df-b7e55e45806b",ship_id:1,terminal_time:"2023-01-12 19:15:01",lat:-5.830312,lng:106.640343,wind_speed:13,wind_direction:21,heading:87.4,distance:88855.12,depth:-39,cog:86.4,sog:13.2,created_at:"2023-01-13 08:04:26",updated_at:"2023-01-13 08:04:26"},{time:1673551801e3,id:"f7476f04-656a-4e72-8e6c-57b0d831c5f5",ship_id:1,terminal_time:"2023-01-12 19:30:01",lat:-5.853542,lng:106.689242,wind_speed:13.2,wind_direction:21,heading:126.5,distance:88858.39,depth:-27,cog:128.5,sog:13.2,created_at:"2023-01-13 08:05:16",updated_at:"2023-01-13 08:05:16"},{time:1673552701e3,id:"88b9ecc4-9964-43d8-b6a4-aed13a07495c",ship_id:1,terminal_time:"2023-01-12 19:45:01",lat:-5.889747,lng:106.731723,wind_speed:18,wind_direction:12.5,heading:129.7,distance:88861.73,depth:-29,cog:131.9,sog:13.4,created_at:"2023-01-13 08:02:30",updated_at:"2023-01-13 08:02:30"},{time:1673553601e3,id:"26848018-c9ac-4503-838d-ae857206e20b",ship_id:1,terminal_time:"2023-01-12 20:00:01",lat:-5.927122,lng:106.772935,wind_speed:18.8,wind_direction:7.9,heading:130.5,distance:88865.07,depth:-21.6,cog:132.8,sog:13.3,created_at:"2023-01-13 08:01:15",updated_at:"2023-01-13 08:01:15"},{time:1673554501e3,id:"2e692d80-82f5-4549-91d5-8a2ed3fb2e12",ship_id:1,terminal_time:"2023-01-12 20:15:01",lat:-5.960285,lng:106.81634,wind_speed:17.4,wind_direction:9.7,heading:112.2,distance:88868.34,depth:-17.3,cog:114.9,sog:13.1,created_at:"2023-01-13 08:03:01",updated_at:"2023-01-13 08:03:01"},{time:1673555401e3,id:"aca95c12-4858-4cf9-94d3-a4f8e4de5aef",ship_id:1,terminal_time:"2023-01-12 20:30:01",lat:-5.983137,lng:106.859937,wind_speed:11.8,wind_direction:0,heading:130.3,distance:88871.33,depth:-15.3,cog:131.8,sog:9.7,created_at:"2023-01-13 08:02:21",updated_at:"2023-01-13 08:02:21"},{time:1673556301e3,id:"8b09c8fe-2ea4-494c-a5fb-dd2a24bf7270",ship_id:1,terminal_time:"2023-01-12 20:45:01",lat:-6.000398,lng:106.883002,wind_speed:7.9,wind_direction:1.4,heading:115.3,distance:88873.1,depth:-13.6,cog:118.2,sog:4.3,created_at:"2023-01-13 08:00:56",updated_at:"2023-01-13 08:00:56"},{time:1673557201e3,id:"284ce5ee-e703-4d6d-b114-c1df32919fd1",ship_id:1,terminal_time:"2023-01-12 21:00:01",lat:-6.00611,lng:106.893912,wind_speed:6,wind_direction:349,heading:106.4,distance:88873.88,depth:-13,cog:142.3,sog:.3,created_at:"2023-01-13 08:02:49",updated_at:"2023-01-13 08:02:49"},{time:1673558101e3,id:"45ad13f2-7559-4927-89c6-6f3c198a88b2",ship_id:1,terminal_time:"2023-01-12 21:15:01",lat:-6.007525,lng:106.893923,wind_speed:6.6,wind_direction:12.5,heading:3,distance:88873.88,depth:-13,cog:126.7,sog:.2,created_at:"2023-01-13 08:02:41",updated_at:"2023-01-13 08:02:41"},{time:1673559001e3,id:"a4a1e14d-14ab-43f6-9535-4fa2a9d49ae4",ship_id:1,terminal_time:"2023-01-12 21:30:01",lat:-6.00759,lng:106.894172,wind_speed:5.4,wind_direction:30.9,heading:25.3,distance:88873.89,depth:-13,cog:173.5,sog:.1,created_at:"2023-01-13 08:02:21",updated_at:"2023-01-13 08:02:21"},{time:1673559901e3,id:"02e22b70-2f1d-4ec5-be13-4924c441d425",ship_id:1,terminal_time:"2023-01-12 21:45:01",lat:-6.007575,lng:106.894195,wind_speed:7.3,wind_direction:32.3,heading:25.6,distance:88873.9,depth:-12.6,cog:225,sog:.1,created_at:"2023-01-13 08:03:11",updated_at:"2023-01-13 08:03:11"},{time:1673560801e3,id:"714b40ab-6959-4c7d-89d9-dbb4bb70e57c",ship_id:1,terminal_time:"2023-01-12 22:00:01",lat:-6.007612,lng:106.894137,wind_speed:5.8,wind_direction:33.6,heading:25,distance:88873.9,depth:-12.6,cog:168.2,sog:0,created_at:"2023-01-13 08:02:28",updated_at:"2023-01-13 08:02:28"},{time:1673561701e3,id:"8076bd11-03d4-4552-b96d-89e5d0255292",ship_id:1,terminal_time:"2023-01-12 22:15:01",lat:-6.007583,lng:106.894055,wind_speed:7.3,wind_direction:43.6,heading:29.2,distance:88873.9,depth:-13,cog:316.5,sog:.1,created_at:"2023-01-13 08:02:17",updated_at:"2023-01-13 08:02:17"},{time:1673562601e3,id:"d34040f5-d539-420c-bb97-d96c16081c94",ship_id:1,terminal_time:"2023-01-12 22:30:01",lat:-6.007425,lng:106.89391,wind_speed:5.6,wind_direction:43.6,heading:44.4,distance:88873.9,depth:-13,cog:126.5,sog:.1,created_at:"2023-01-13 08:03:38",updated_at:"2023-01-13 08:03:38"},{time:1673563501e3,id:"564f8c5e-2634-4ec9-9f48-e0af89ff5564",ship_id:1,terminal_time:"2023-01-12 22:45:01",lat:-6.007598,lng:106.894127,wind_speed:4.6,wind_direction:43.6,heading:27.2,distance:88873.9,depth:-13,cog:34.5,sog:0,created_at:"2023-01-13 08:04:15",updated_at:"2023-01-13 08:04:15"},{time:1673564401e3,id:"4926d7e4-dbc0-4a31-8d0a-6a052ff27bc0",ship_id:1,terminal_time:"2023-01-12 23:00:01",lat:-6.007682,lng:106.894268,wind_speed:5.6,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:155.9,sog:0,created_at:"2023-01-13 08:03:58",updated_at:"2023-01-13 08:03:58"},{time:1673565301e3,id:"433693fd-81e1-4395-a29d-8eb5bb82c236",ship_id:1,terminal_time:"2023-01-12 23:15:01",lat:-6.007708,lng:106.894337,wind_speed:4.8,wind_direction:43.6,heading:14.8,distance:88873.9,depth:-13,cog:189.5,sog:0,created_at:"2023-01-13 08:03:48",updated_at:"2023-01-13 08:03:48"},{time:1673566201e3,id:"3bd7e61b-1373-4345-867a-dfe285746a32",ship_id:1,terminal_time:"2023-01-12 23:30:01",lat:-6.007645,lng:106.894262,wind_speed:3.4,wind_direction:43.6,heading:19.3,distance:88873.9,depth:-13,cog:200.6,sog:.1,created_at:"2023-01-13 08:05:28",updated_at:"2023-01-13 08:05:28"},{time:1673567101e3,id:"09b7824a-9980-4c9d-bf99-87e65e80069b",ship_id:1,terminal_time:"2023-01-12 23:45:01",lat:-6.007677,lng:106.8943,wind_speed:2.1,wind_direction:43.6,heading:16.6,distance:88873.9,depth:-13,cog:44.7,sog:0,created_at:"2023-01-13 08:04:21",updated_at:"2023-01-13 08:04:21"},{time:1673568001e3,id:"b38d3696-7f77-459c-863f-91445f63f3e9",ship_id:1,terminal_time:"2023-01-13 00:00:01",lat:-6.007713,lng:106.894375,wind_speed:3.1,wind_direction:43.6,heading:15.4,distance:88873.9,depth:-13,cog:108.7,sog:.1,created_at:"2023-01-13 08:01:36",updated_at:"2023-01-13 08:01:36"},{time:1673568903e3,id:"b55f2d04-80e5-45c3-8479-13897d8db096",ship_id:1,terminal_time:"2023-01-13 00:15:03",lat:-6.007727,lng:106.894435,wind_speed:2.7,wind_direction:43.6,heading:11.8,distance:88873.9,depth:-13,cog:68.7,sog:0,created_at:"2023-01-13 08:03:55",updated_at:"2023-01-13 08:03:55"},{time:1673570168e3,id:"bc973d32-96ff-4d4b-83fa-fdc69ab666a4",ship_id:1,terminal_time:"2023-01-13 00:36:08",lat:-6.00772,lng:106.894325,wind_speed:2.7,wind_direction:43.6,heading:17.2,distance:88873.9,depth:-13,cog:224.5,sog:0,created_at:"2023-01-13 08:01:47",updated_at:"2023-01-13 08:01:47"},{time:1673570703e3,id:"51065554-9c2a-4ead-9c62-cdd44d475009",ship_id:1,terminal_time:"2023-01-13 00:45:03",lat:-6.007642,lng:106.894265,wind_speed:3.3,wind_direction:43.6,heading:20.1,distance:88873.9,depth:-13,cog:237,sog:0,created_at:"2023-01-13 08:02:52",updated_at:"2023-01-13 08:02:52"},{time:1673571603e3,id:"f1dbff35-e7f7-4963-a643-80e87b251c8c",ship_id:1,terminal_time:"2023-01-13 01:00:03",lat:-6.0076,lng:106.894155,wind_speed:4.2,wind_direction:43.6,heading:25.4,distance:88873.91,depth:-13,cog:177.2,sog:0,created_at:"2023-01-13 08:05:07",updated_at:"2023-01-13 08:05:07"},{time:1673572503e3,id:"606bf160-10bf-4454-95c1-6abb21d4a9a8",ship_id:1,terminal_time:"2023-01-13 01:15:03",lat:-6.007512,lng:106.894067,wind_speed:4,wind_direction:43.6,heading:33,distance:88873.91,depth:-13,cog:204.5,sog:0,created_at:"2023-01-13 08:04:55",updated_at:"2023-01-13 08:04:55"},{time:1673573403e3,id:"46a99db5-3b12-4141-949d-a7f4f69451c9",ship_id:1,terminal_time:"2023-01-13 01:30:03",lat:-6.007512,lng:106.894075,wind_speed:1.7,wind_direction:43.6,heading:34.6,distance:88873.91,depth:-13,cog:110.9,sog:.1,created_at:"2023-01-13 08:04:51",updated_at:"2023-01-13 08:04:51"},{time:1673574303e3,id:"ab8768f7-f2c0-4c28-ba76-68c4d848ee1b",ship_id:1,terminal_time:"2023-01-13 01:45:03",lat:-6.0075,lng:106.894193,wind_speed:1.9,wind_direction:43.6,heading:32.2,distance:88873.91,depth:-13,cog:300.5,sog:.1,created_at:"2023-01-13 08:04:26",updated_at:"2023-01-13 08:04:26"},{time:1673575203e3,id:"6a14e9fa-b7ad-4ec4-9f66-fa4f814c54af",ship_id:1,terminal_time:"2023-01-13 02:00:03",lat:-6.007582,lng:106.894147,wind_speed:2.5,wind_direction:43.6,heading:29.3,distance:88873.92,depth:-13,cog:319.4,sog:0,created_at:"2023-01-13 08:05:13",updated_at:"2023-01-13 08:05:13"},{time:1673576103e3,id:"456740b7-62b5-4f33-b4c0-1dc7d824d0bb",ship_id:1,terminal_time:"2023-01-13 02:15:03",lat:-6.007527,lng:106.8941,wind_speed:2.7,wind_direction:43.6,heading:32.7,distance:88873.92,depth:-13.3,cog:336.3,sog:0,created_at:"2023-01-13 08:05:57",updated_at:"2023-01-13 08:05:57"},{time:1673577003e3,id:"9f03eb81-f440-4e94-a55f-ab45fcc7b6c0",ship_id:1,terminal_time:"2023-01-13 02:30:03",lat:-6.007453,lng:106.894015,wind_speed:2.5,wind_direction:43.6,heading:39.1,distance:88873.93,depth:-13.3,cog:345.7,sog:.1,created_at:"2023-01-13 08:05:39",updated_at:"2023-01-13 08:05:39"},{time:1673577903e3,id:"e4f82def-000e-40af-915a-fa2b0c177b50",ship_id:1,terminal_time:"2023-01-13 02:45:03",lat:-6.007433,lng:106.893978,wind_speed:2.3,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:303.2,sog:0,created_at:"2023-01-13 08:06:18",updated_at:"2023-01-13 08:06:18"},{time:1673578803e3,id:"54b75262-94fb-4782-987c-ccbefeebec92",ship_id:1,terminal_time:"2023-01-13 03:00:03",lat:-6.00737,lng:106.893908,wind_speed:3.3,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:348.7,sog:0,created_at:"2023-01-13 08:06:12",updated_at:"2023-01-13 08:06:12"},{time:1673579703e3,id:"fa539bb4-a28e-469c-9a4e-9a3d0c486050",ship_id:1,terminal_time:"2023-01-13 03:15:03",lat:-6.007335,lng:106.893948,wind_speed:2.7,wind_direction:45,heading:49.7,distance:88873.94,depth:-13.3,cog:137.5,sog:.1,created_at:"2023-01-13 08:06:05",updated_at:"2023-01-13 08:06:05"},{time:1673580603e3,id:"539a72f1-ac08-46d9-b981-d2b0ad986548",ship_id:1,terminal_time:"2023-01-13 03:30:03",lat:-6.007343,lng:106.893923,wind_speed:2.3,wind_direction:45,heading:46.6,distance:88873.94,depth:-13,cog:284,sog:.1,created_at:"2023-01-13 08:05:52",updated_at:"2023-01-13 08:05:52"},{time:1673581503e3,id:"4df156c5-a460-4977-8551-b187446e5412",ship_id:1,terminal_time:"2023-01-13 03:45:03",lat:-6.007297,lng:106.893842,wind_speed:3.4,wind_direction:45,heading:47.7,distance:88873.94,depth:-13,cog:168.1,sog:0,created_at:"2023-01-13 08:05:54",updated_at:"2023-01-13 08:05:54"},{time:1673582403e3,id:"a403298f-42d3-4529-b018-1af317d27868",ship_id:1,terminal_time:"2023-01-13 04:00:03",lat:-6.007198,lng:106.893723,wind_speed:2.5,wind_direction:45,heading:56.1,distance:88873.94,depth:-13.3,cog:178.4,sog:0,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673583303e3,id:"dd731f40-8d09-4757-827b-9d4f1d4651e1",ship_id:1,terminal_time:"2023-01-13 04:15:03",lat:-6.007137,lng:106.893783,wind_speed:2.7,wind_direction:45,heading:58.1,distance:88873.94,depth:-13,cog:161.9,sog:0,created_at:"2023-01-13 08:07:09",updated_at:"2023-01-13 08:07:09"},{time:1673584203e3,id:"4108b2ac-c7e2-49e9-bef8-1aeb96d7d1da",ship_id:1,terminal_time:"2023-01-13 04:30:03",lat:-6.007167,lng:106.893807,wind_speed:2.5,wind_direction:45,heading:59.3,distance:88873.94,depth:-13,cog:52.2,sog:0,created_at:"2023-01-13 08:06:59",updated_at:"2023-01-13 08:06:59"},{time:1673585108e3,id:"cc3220d1-e43b-4f9e-8a0e-2f416fff3d82",ship_id:1,terminal_time:"2023-01-13 04:45:08",lat:-6.0070879999999995,lng:106.893705,wind_speed:2.3,wind_direction:45,heading:60.4,distance:88873.94,depth:-13,cog:336.7,sog:.1,created_at:"2023-01-13 08:06:48",updated_at:"2023-01-13 08:06:48"},{time:1673586003e3,id:"82f940ea-8953-425e-86b3-7899a04cc3d8",ship_id:1,terminal_time:"2023-01-13 05:00:03",lat:-6.006982,lng:106.893693,wind_speed:1.9,wind_direction:45,heading:0,distance:0,depth:-13.3,cog:265.2,sog:0,created_at:"2023-01-13 08:07:32",updated_at:"2023-01-13 08:07:32"},{time:1673586903e3,id:"ad2c1c63-d614-4095-8d40-e96424f5a6d7",ship_id:1,terminal_time:"2023-01-13 05:15:03",lat:-6.007068,lng:106.893725,wind_speed:.9,wind_direction:45,heading:61.6,distance:88873.94,depth:-13.3,cog:232.5,sog:.1,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673587803e3,id:"e44c9ea1-fe7c-4076-8e00-c146f79d9ff1",ship_id:1,terminal_time:"2023-01-13 05:30:03",lat:-6.007113,lng:106.8937,wind_speed:.7,wind_direction:45,heading:57.9,distance:88873.94,depth:-13.3,cog:273.7,sog:0,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673588703e3,id:"11fabb10-51d2-4b18-8c3e-8d5f30e0c604",ship_id:1,terminal_time:"2023-01-13 05:45:03",lat:-6.00707,lng:106.893708,wind_speed:0,wind_direction:45,heading:59.9,distance:88873.94,depth:-13,cog:179.4,sog:.1,created_at:"2023-01-13 08:07:45",updated_at:"2023-01-13 08:07:45"},{time:1673589603e3,id:"3d8e63b1-ef49-4faa-8668-2064fc7691b9",ship_id:1,terminal_time:"2023-01-13 06:00:03",lat:-6.007005,lng:106.893697,wind_speed:1.7,wind_direction:45,heading:61,distance:88873.94,depth:-13,cog:224.6,sog:0,created_at:"2023-01-13 08:08:35",updated_at:"2023-01-13 08:08:35"},{time:1673590503e3,id:"abedede7-fcef-4a6a-821c-96caff5b51dd",ship_id:1,terminal_time:"2023-01-13 06:15:03",lat:-6.007067,lng:106.893657,wind_speed:1.7,wind_direction:45,heading:56.4,distance:88873.94,depth:-13.3,cog:299.4,sog:0,created_at:"2023-01-13 08:08:07",updated_at:"2023-01-13 08:08:07"},{time:1673591403e3,id:"b51194a8-99a4-4d32-83a4-d5fbfaaa4d2b",ship_id:1,terminal_time:"2023-01-13 06:30:03",lat:-6.006965,lng:106.893667,wind_speed:2.1,wind_direction:45,heading:62.6,distance:88873.94,depth:-13.3,cog:139.2,sog:0,created_at:"2023-01-13 08:08:23",updated_at:"2023-01-13 08:08:23"},{time:1673592518e3,id:"b209dcbe-8749-41d2-b84b-c1258b5ab981",ship_id:1,terminal_time:"2023-01-13 06:48:38",lat:-6.006987,lng:106.893667,wind_speed:2.3,wind_direction:45,heading:66.4,distance:88873.94,depth:-13.3,cog:318.9,sog:0,created_at:"2023-01-13 08:08:09",updated_at:"2023-01-13 08:08:09"},{time:1673593203e3,id:"32347284-3eae-468f-bee0-b65b0ec6fc1e",ship_id:1,terminal_time:"2023-01-13 07:00:03",lat:-6.007023,lng:106.893678,wind_speed:2.7,wind_direction:45,heading:62.5,distance:88873.95,depth:-13.3,cog:111.2,sog:0,created_at:"2023-01-13 08:07:41",updated_at:"2023-01-13 08:07:41"},{time:1673594103e3,id:"d96b7d8b-3fd1-4062-a8fb-81b177ca4b7e",ship_id:1,terminal_time:"2023-01-13 07:15:03",lat:-6.007138,lng:106.89375,wind_speed:2.5,wind_direction:45,heading:62.4,distance:88873.95,depth:-13.3,cog:176.1,sog:0,created_at:"2023-01-13 08:08:24",updated_at:"2023-01-13 08:08:24"},{time:1673595003e3,id:"fb3aea68-d3b4-4a82-8246-b492385b9b9b",ship_id:1,terminal_time:"2023-01-13 07:30:03",lat:-6.006977,lng:106.893747,wind_speed:2.7,wind_direction:45,heading:66.3,distance:88873.95,depth:-13.3,cog:176.1,sog:0,created_at:"2023-01-13 08:08:37",updated_at:"2023-01-13 08:08:37"},{time:1673595903e3,id:"4b32822b-aad7-4b21-b989-0f1651010609",ship_id:1,terminal_time:"2023-01-13 07:45:03",lat:-6.00699,lng:106.89368,wind_speed:2.3,wind_direction:45,heading:68.2,distance:88873.95,depth:-13.3,cog:194.5,sog:0,created_at:"2023-01-13 08:08:55",updated_at:"2023-01-13 08:08:55"},{time:1673596808e3,id:"5e31ea31-de98-4291-b5ed-bc79c4642d2e",ship_id:1,terminal_time:"2023-01-13 08:00:08",lat:-6.006908,lng:106.89369,wind_speed:2.1,wind_direction:45,heading:72.3,distance:88873.95,depth:-13.3,cog:194.5,sog:0,created_at:"2023-01-13 08:08:48",updated_at:"2023-01-13 08:08:48"},{time:1673597703e3,id:"1f625245-9ea7-4f96-9bf2-627e75f1ea29",ship_id:1,terminal_time:"2023-01-13 08:15:03",lat:-6.006837,lng:106.893615,wind_speed:2.3,wind_direction:45,heading:0,distance:0,depth:-13.3,cog:3.7,sog:0,created_at:"2023-01-13 08:15:07",updated_at:"2023-01-13 08:15:07"},{time:1673598603e3,id:"f2ecdf0b-2cd9-40ce-ad89-0a8d73cad5c1",ship_id:1,terminal_time:"2023-01-13 08:30:03",lat:-6.006838,lng:106.893623,wind_speed:2.1,wind_direction:45,heading:75,distance:88873.95,depth:-13.3,cog:135.5,sog:0,created_at:"2023-01-13 08:30:07",updated_at:"2023-01-13 08:30:07"},{time:1673599503e3,id:"8327765d-9bf8-4fc4-8584-95359d3bbbb0",ship_id:1,terminal_time:"2023-01-13 08:45:03",lat:-6.006812,lng:106.893627,wind_speed:3.4,wind_direction:45,heading:75.5,distance:88873.95,depth:-13.3,cog:89.4,sog:0,created_at:"2023-01-13 08:45:04",updated_at:"2023-01-13 08:45:04"},{time:1673600403e3,id:"f5eb5331-437b-4c35-a486-84a8fa9d5644",ship_id:1,terminal_time:"2023-01-13 09:00:03",lat:-6.006815,lng:106.893662,wind_speed:3.6,wind_direction:45,heading:75.4,distance:88873.96,depth:-13.3,cog:94.9,sog:0,created_at:"2023-01-13 09:00:05",updated_at:"2023-01-13 09:00:05"},{time:1673601303e3,id:"2a247c20-bd73-4d19-8dab-7a2254a80a62",ship_id:1,terminal_time:"2023-01-13 09:15:03",lat:-6.006802,lng:106.893608,wind_speed:5.2,wind_direction:45,heading:75.8,distance:88873.96,depth:-13.3,cog:92.2,sog:0,created_at:"2023-01-13 09:15:05",updated_at:"2023-01-13 09:15:05"},{time:1673602203e3,id:"6153d12f-d552-4ab9-bba7-9e250f663945",ship_id:1,terminal_time:"2023-01-13 09:30:03",lat:-6.006802,lng:106.893643,wind_speed:4.2,wind_direction:45,heading:76.9,distance:88873.96,depth:-13.3,cog:141.9,sog:0,created_at:"2023-01-13 09:30:06",updated_at:"2023-01-13 09:30:06"},{time:1673603103e3,id:"2f1058ed-c8da-4364-aab6-dc9645e1fde8",ship_id:1,terminal_time:"2023-01-13 09:45:03",lat:-6.006837,lng:106.893597,wind_speed:3.8,wind_direction:45,heading:72.8,distance:88873.96,depth:-13.3,cog:110.7,sog:0,created_at:"2023-01-13 09:45:06",updated_at:"2023-01-13 09:45:06"},{time:1673604003e3,id:"cc41dd89-f978-4edf-9ada-4667dbff60ce",ship_id:1,terminal_time:"2023-01-13 10:00:03",lat:-6.00683,lng:106.893597,wind_speed:3.6,wind_direction:45,heading:72.1,distance:88873.96,depth:-13.3,cog:135.3,sog:0,created_at:"2023-01-13 10:00:06",updated_at:"2023-01-13 10:00:06"},{time:1673604903e3,id:"396bffaa-c79e-49d7-bdf1-f426896bb87c",ship_id:1,terminal_time:"2023-01-13 10:15:03",lat:-6.00688,lng:106.89365,wind_speed:3.1,wind_direction:45,heading:70.9,distance:88873.96,depth:-13.3,cog:180.2,sog:.1,created_at:"2023-01-13 10:15:07",updated_at:"2023-01-13 10:15:07"},{time:1673605803e3,id:"d946fc22-50aa-4fcd-bd7c-b44f44547a46",ship_id:1,terminal_time:"2023-01-13 10:30:03",lat:-6.007095,lng:106.89367,wind_speed:3.3,wind_direction:45,heading:58.8,distance:88873.96,depth:-13.3,cog:157.1,sog:0,created_at:"2023-01-13 10:30:04",updated_at:"2023-01-13 10:30:04"},{time:1673606703e3,id:"580132f9-3c14-4d3c-9b66-d0ff9ec812f0",ship_id:1,terminal_time:"2023-01-13 10:45:03",lat:-6.007132,lng:106.893745,wind_speed:5.4,wind_direction:26.7,heading:53.2,distance:88873.96,depth:-13.3,cog:144.9,sog:0,created_at:"2023-01-13 10:45:05",updated_at:"2023-01-13 10:45:05"},{time:1673607603e3,id:"2a0785ea-942c-42cd-ad88-e982f8495a39",ship_id:1,terminal_time:"2023-01-13 11:00:03",lat:-6.007203,lng:106.893752,wind_speed:4.2,wind_direction:26.7,heading:0,distance:0,depth:-13.3,cog:260.4,sog:0,created_at:"2023-01-13 11:00:05",updated_at:"2023-01-13 11:00:05"},{time:1673608503e3,id:"b1840bc7-7b81-44b4-a120-b50cb7ed9631",ship_id:1,terminal_time:"2023-01-13 11:15:03",lat:-6.007423,lng:106.893847,wind_speed:5.6,wind_direction:26.7,heading:39,distance:88873.97,depth:-13.6,cog:90.2,sog:.1,created_at:"2023-01-13 11:15:05",updated_at:"2023-01-13 11:15:05"},{time:1673609403e3,id:"257a0ae0-3c67-4484-900c-ee1149e2541d",ship_id:1,terminal_time:"2023-01-13 11:30:03",lat:-6.007583,lng:106.89401,wind_speed:5,wind_direction:26.7,heading:27.7,distance:88873.98,depth:-13.3,cog:110.5,sog:.1,created_at:"2023-01-13 11:30:06",updated_at:"2023-01-13 11:30:06"},{time:1673610303e3,id:"0e80a0e4-2c6c-441f-8364-26416a9ce1dd",ship_id:1,terminal_time:"2023-01-13 11:45:03",lat:-6.0076730000000005,lng:106.89419,wind_speed:7.3,wind_direction:26.7,heading:18.3,distance:88873.99,depth:-13.3,cog:93.9,sog:0,created_at:"2023-01-13 11:45:06",updated_at:"2023-01-13 11:45:06"},{time:1673611203e3,id:"11866d32-1040-4bdb-b7bf-190db9704e3c",ship_id:1,terminal_time:"2023-01-13 12:00:03",lat:-6.00775,lng:106.894325,wind_speed:7.1,wind_direction:26.7,heading:13.3,distance:88873.99,depth:-13.3,cog:102.4,sog:0,created_at:"2023-01-13 12:00:07",updated_at:"2023-01-13 12:00:07"}],_F={components:{MapboxMap:S5,MapboxNavigationControl:E5},data(){return{map:null,current:[],items:[],potition:!1}},methods:{async loaded(){let e=this,i={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}},a={type:"FeatureCollection",features:[]};gF.forEach((p,y)=>{this.current&&this.calcCrow(this.current[1],this.current[0],p.lat,p.lng)>20||(i.geometry.coordinates.push([p.lng,p.lat]),a.features.push({type:"Feature",properties:{cog:p.cog,sog:p.sog,time:p.terminal_time,lat:p.lat,lng:p.lng,heading:p.heading},geometry:{type:"Point",coordinates:[p.lng,p.lat]}}),this.current=[p.lng,p.lat],this.items.push(p))}),this.map.addSource("route",{type:"geojson",data:i}),this.map.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3B4EF5","line-width":1.5,"line-dasharray":[3,3]}}),e.map.addSource("points",{type:"geojson",data:a}),e.map.addLayer({id:"points",type:"circle",source:"points",paint:{"circle-radius":4,"circle-color":"#3B4EF5"}});const l=new ch.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","points",p=>{let y=p.features[0].properties;this.positionShip(y)}),this.map.on("mouseenter","points",p=>{e.map.getCanvas().style.cursor="pointer";const y=p.features[0].geometry.coordinates.slice(),s=`<b>Lat : ${p.features[0].properties.lat} | Lng: ${p.features[0].properties.lng}</b> at ${p.features[0].properties.sog} <b>kn</b> / ${p.features[0].properties.cog}&deg;<br>time: <b>${p.features[0].properties.time}</b>`;for(;Math.abs(p.lngLat.lng-y[0])>180;)y[0]+=p.lngLat.lng>y[0]?360:-360;l.setLngLat(y).setHTML(s).addTo(e.map)}),this.map.on("mouseleave","points",()=>{e.map.getCanvas().style.cursor="",l.remove()}),this.map.loadImage(C5,(p,y)=>{if(p)throw p;e.map.addImage("ship-icon",y)});let h=this.items[this.items.length-1];this.positionShip({heading:h.heading,lng:h.lng,lat:h.lat})},toPotition(e){this.positionShip(e)},positionShip(e){this.potition&&(this.map.removeLayer("ship-point"),this.map.removeSource("ship-point")),this.map.addSource("ship-point",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.lng,e.lat]},properties:{scale:1,heading:e.heading}}]}}),this.map.addLayer({id:"ship-point",type:"symbol",source:"ship-point",layout:{"icon-image":"ship-icon","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}}),this.potition=!0},pointerLocation(e){let i=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${i.lat.toFixed(5)}</span><span> ${i.lng.toFixed(5)}</span>`},calcCrow(s,i,b,l){var h=6371,p=this.toRad(b-s),y=this.toRad(l-i),s=this.toRad(s),b=this.toRad(b),L=Math.sin(p/2)*Math.sin(p/2)+Math.sin(y/2)*Math.sin(y/2)*Math.cos(s)*Math.cos(b),ee=2*Math.atan2(Math.sqrt(L),Math.sqrt(1-L)),F=h*ee;return F},toRad(e){return e*Math.PI/180}}},yF={class:"row g-0"},vF={class:"col-9"},xF={class:"position-relative"},bF={class:"pointer-info",ref:"pointerInfo"},wF={class:"col-3"},TF=gm('<header class="navbar navbar-expand-md navbar-dark bg-primary d-print-none"><div class="container-xl"><ul class="navbar-nav"><li class="nav-item"><a href="#" class="nav-link"><span class="nav-link-icon d-md-none d-lg-inline-block"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 6l16 0"></path><path d="M4 12l16 0"></path><path d="M4 18l16 0"></path></svg></span></a></li><li class="nav-item"><a href="#" class="nav-link"><span class="nav-link-icon d-md-none d-lg-inline-block"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sailboat" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M2 20a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1"></path><path d="M4 18l-1 -3h18l-1 3"></path><path d="M11 12h7l-7 -9v9"></path><path d="M8 7l-2 5"></path></svg></span> Voyage </a></li></ul></div></header>',1),SF={class:"information"},EF={class:"histories"},CF={class:"table card-table table-vcenter text-nowrap datatable table-fixed text-small"},MF=ii("thead",null,[ii("tr",null,[ii("th",null,"Time"),ii("th",null,"Lon"),ii("th",null,"Lat"),ii("th",null,"Speed")])],-1),AF=["onClick"];function kF(e,i,a,l,h,p){const y=za("MapboxNavigationControl"),s=za("MapboxMap");return Dr(),ts("div",yF,[ii("div",vF,[ii("div",xF,[ii("div",bF,null,512),vn(s,{onMbCreated:i[0]||(i[0]=b=>h.map=b),onMbLoad:p.loaded,onMbMousemove:p.pointerLocation,style:{height:"calc(100vh - 128px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/navigation-day-v1",center:[105.987732,-5.898973],zoom:7},{default:Ko(()=>[vn(y,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove"])])]),ii("div",wF,[TF,ii("div",SF,[ii("div",EF,[ii("table",CF,[MF,ii("tbody",null,[(Dr(!0),ts(Fs,null,m1(h.items,b=>(Dr(),ts("tr",{key:b.id,onClick:L=>p.toPotition(b),class:"pointer"},[ii("td",null,Ru(e.$filters.dateformat(b.terminal_time)),1),ii("td",null,Ru(e.$filters.str_limit(b.lng,7))+"°",1),ii("td",null,Ru(e.$filters.str_limit(b.lat,6))+"°",1),ii("td",null,Ru(b.sog),1)],8,AF))),128))])])])])])])}const PF=Jd(_F,[["render",kF]]),IF={components:{"x-search":bC,"x-notification":wC,MapboxMap:S5,MapboxNavigationControl:E5},data(){return{map:null,current:[],timer:null}},mounted(){this.timer=setInterval(()=>{},1e3)},methods:{async loaded(){let{data:e}=await axios.get("/api/fleet/navi");e.forEach(i=>{this.positionShip(i)})},pointerLocation(e){let i=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${i.lat.toFixed(5)}</span><span> ${i.lng.toFixed(5)}</span>`},positionShip(e){if(!e.navigation)return;let i=this;this.map.loadImage(C5,(l,h)=>{if(l)throw l;this.map.addImage(`ship-${e.id}`,h)}),this.map.addSource(`ship-points-${e.id}`,{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.navigation.lng,e.navigation.lat]},properties:{scale:1,id:e.id,heading:e.navigation.heading,name:e.name,image:e.image,sog:e.navigation.sog,cog:e.navigation.cog,last_update:I3(e.navigation.updated_at+"+7")}}]}}),this.map.addLayer({id:`ship-positions-${e.id}`,type:"symbol",source:`ship-points-${e.id}`,layout:{"icon-image":`ship-${e.id}`,"icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}});const a=new ch.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click",`ship-positions-${e.id}`,l=>{let h=l.features[0].properties.id;location.href=`/fleet/${h}`}),this.map.on("mouseenter",`ship-positions-${e.id}`,l=>{i.map.getCanvas().style.cursor="pointer";const h=l.features[0].geometry.coordinates.slice(),p=`<b>${l.features[0].properties.name} [ID]</b> at ${l.features[0].properties.sog} <b>kn</b> / ${l.features[0].properties.cog}&deg;<br>last update: <b>${l.features[0].properties.last_update}</b>`;for(;Math.abs(l.lngLat.lng-h[0])>180;)h[0]+=l.lngLat.lng>h[0]?360:-360;a.setLngLat(h).setHTML(p).addTo(i.map)}),this.map.on("mouseleave",`ship-positions-${e.id}`,()=>{i.map.getCanvas().style.cursor="",a.remove()})},calcCrow(s,i,b,l){var h=6371,p=this.toRad(b-s),y=this.toRad(l-i),s=this.toRad(s),b=this.toRad(b),L=Math.sin(p/2)*Math.sin(p/2)+Math.sin(y/2)*Math.sin(y/2)*Math.cos(s)*Math.cos(b),ee=2*Math.atan2(Math.sqrt(L),Math.sqrt(1-L)),F=h*ee;return F},toRad(e){return e*Math.PI/180}}},LF={class:"position-relative p-3 overflow-hidden"},DF={class:"pointer-info",ref:"pointerInfo"};function OF(e,i,a,l,h,p){const y=za("map-voyage"),s=za("MapboxNavigationControl"),b=za("MapboxMap");return Dr(),ts("div",LF,[vn(y),ii("div",DF,null,512),vn(b,{onMbCreated:i[0]||(i[0]=L=>h.map=L),onMbLoad:p.loaded,onMbMousemove:p.pointerLocation,style:{height:"calc(100vh - 56px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/navigation-day-v1",center:[105.987732,-5.898973],zoom:6},{default:Ko(()=>[vn(s,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove"])])}const RF=Jd(IF,[["render",OF]]),zF={data(){return{display:!0}},methods:{toggleText(){this.display=!this.display}}},BF={class:"voyage-section p-3"},FF={key:0,class:"card voyage-card"},NF={class:"card-header justify-content-between"},jF=ii("img",{src:"/img/icons/close-fill.png",alt:""},null,-1),UF=[jF],VF=ii("h5",{class:"fw-normal m-0"},"Voyage",-1),GF=ii("div",{class:"card-body"},[ii("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[ii("li",{class:"nav-item",role:"presentation"},[ii("button",{class:"nav-link justify-content-center active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"INFO")]),ii("li",{class:"nav-item",role:"presentation"},[ii("button",{class:"nav-link justify-content-center",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"},"TRACK")])]),ii("div",{class:"tab-content",id:"pills-tabContent"},[ii("div",{class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"}),ii("div",{class:"tab-pane fade",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab"},[ii("form",{class:"mb-4"},[ii("div",{class:"form-group mb-3"},[ii("label",{for:"startDateInput"},"Start Date"),ii("input",{type:"date",class:"form-control",id:"startDateInput"})]),ii("div",{class:"form-group mb-3"},[ii("label",{for:"endDateInput"},"End Date"),ii("input",{type:"date",class:"form-control",id:"endDateInput"})]),ii("button",{type:"submit",class:"btn btn-outline-primary w-100"},"SHOW")]),ii("h6",{class:"text-primary"},"GENERATE REPORT"),ii("table",{class:"table text-sm"},[ii("thead",null,[ii("tr",null,[ii("th",{scope:"col"},"Time"),ii("th",{scope:"col"},"Lon"),ii("th",{scope:"col"},"Lat"),ii("th",{scope:"col"},"Speed")])]),ii("tbody",null,[ii("tr",null,[ii("td",{scope:"row"},"16/11/2023 10:34:00"),ii("td",null,"106.464°"),ii("td",null,"-58.37°"),ii("td",null,"14.5")]),ii("tr",null,[ii("td",{scope:"row"},"16/11/2023 10:04:00"),ii("td",null,"106.464°"),ii("td",null,"-58.37°"),ii("td",null,"14.5")]),ii("tr",null,[ii("td",{scope:"row"},"16/11/2023 09:44:00"),ii("td",null,"106.464°"),ii("td",null,"-58.37°"),ii("td",null,"14.5")]),ii("tr",null,[ii("td",{scope:"row"},"16/11/2023 09:14:00"),ii("td",null,"106.464°"),ii("td",null,"-58.37°"),ii("td",null,"14.5")]),ii("tr",null,[ii("td",{scope:"row"},"16/11/2023 08:54:00"),ii("td",null,"106.464°"),ii("td",null,"-58.37°"),ii("td",null,"14.5")]),ii("tr",null,[ii("td",{scope:"row"},"16/11/2023 10:34:00"),ii("td",null,"106.464°"),ii("td",null,"-58.37°"),ii("td",null,"14.5")])])])])])],-1),WF=ii("img",{src:"/img/icons/location-circle.png",alt:""},null,-1);function $F(e,i,a,l,h,p){return Dr(),ts("div",BF,[h.display?(Dr(),ts("div",FF,[ii("div",NF,[ii("button",{onClick:i[0]||(i[0]=y=>p.toggleText()),class:"btn btn-link bg-transparent p-0"},UF),VF]),GF])):Ud("",!0),ii("button",{onClick:i[1]||(i[1]=y=>p.toggleText()),class:"btn btn-light btn-open"},[WF,_1(" Show fleet Track ")])])}const HF=Jd(zF,[["render",$F]]);function bS(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function M5(e={},i={}){Object.keys(i).forEach(a=>{typeof e[a]>"u"?e[a]=i[a]:bS(i[a])&&bS(e[a])&&Object.keys(i[a]).length>0&&M5(e[a],i[a])})}const SC={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function wf(){const e=typeof document<"u"?document:{};return M5(e,SC),e}const qF={document:SC,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function Zl(){const e=typeof window<"u"?window:{};return M5(e,qF),e}function XF(e){const i=e;Object.keys(i).forEach(a=>{try{i[a]=null}catch{}try{delete i[a]}catch{}})}function L3(e,i=0){return setTimeout(e,i)}function Ev(){return Date.now()}function YF(e){const i=Zl();let a;return i.getComputedStyle&&(a=i.getComputedStyle(e,null)),!a&&e.currentStyle&&(a=e.currentStyle),a||(a=e.style),a}function ZF(e,i="x"){const a=Zl();let l,h,p;const y=YF(e);return a.WebKitCSSMatrix?(h=y.transform||y.webkitTransform,h.split(",").length>6&&(h=h.split(", ").map(s=>s.replace(",",".")).join(", ")),p=new a.WebKitCSSMatrix(h==="none"?"":h)):(p=y.MozTransform||y.OTransform||y.MsTransform||y.msTransform||y.transform||y.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),l=p.toString().split(",")),i==="x"&&(a.WebKitCSSMatrix?h=p.m41:l.length===16?h=parseFloat(l[12]):h=parseFloat(l[4])),i==="y"&&(a.WebKitCSSMatrix?h=p.m42:l.length===16?h=parseFloat(l[13]):h=parseFloat(l[5])),h||0}function ky(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function KF(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function Gl(...e){const i=Object(e[0]),a=["__proto__","constructor","prototype"];for(let l=1;l<e.length;l+=1){const h=e[l];if(h!=null&&!KF(h)){const p=Object.keys(Object(h)).filter(y=>a.indexOf(y)<0);for(let y=0,s=p.length;y<s;y+=1){const b=p[y],L=Object.getOwnPropertyDescriptor(h,b);L!==void 0&&L.enumerable&&(ky(i[b])&&ky(h[b])?h[b].__swiper__?i[b]=h[b]:Gl(i[b],h[b]):!ky(i[b])&&ky(h[b])?(i[b]={},h[b].__swiper__?i[b]=h[b]:Gl(i[b],h[b])):i[b]=h[b])}}}return i}function Py(e,i,a){e.style.setProperty(i,a)}function EC({swiper:e,targetPosition:i,side:a}){const l=Zl(),h=-e.translate;let p=null,y;const s=e.params.speed;e.wrapperEl.style.scrollSnapType="none",l.cancelAnimationFrame(e.cssModeFrameID);const b=i>h?"next":"prev",L=(F,Z)=>b==="next"&&F>=Z||b==="prev"&&F<=Z,ee=()=>{y=new Date().getTime(),p===null&&(p=y);const F=Math.max(Math.min((y-p)/s,1),0),Z=.5-Math.cos(F*Math.PI)/2;let ne=h+Z*(i-h);if(L(ne,i)&&(ne=i),e.wrapperEl.scrollTo({[a]:ne}),L(ne,i)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[a]:ne})}),l.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=l.requestAnimationFrame(ee)};ee()}function qh(e,i=""){return[...e.children].filter(a=>a.matches(i))}function A5(e,i=[]){const a=document.createElement(e);return a.classList.add(...Array.isArray(i)?i:[i]),a}function JF(e,i){const a=[];for(;e.previousElementSibling;){const l=e.previousElementSibling;i?l.matches(i)&&a.push(l):a.push(l),e=l}return a}function QF(e,i){const a=[];for(;e.nextElementSibling;){const l=e.nextElementSibling;i?l.matches(i)&&a.push(l):a.push(l),e=l}return a}function Fu(e,i){return Zl().getComputedStyle(e,null).getPropertyValue(i)}function D3(e){let i=e,a;if(i){for(a=0;(i=i.previousSibling)!==null;)i.nodeType===1&&(a+=1);return a}}function eN(e,i){const a=[];let l=e.parentElement;for(;l;)i?l.matches(i)&&a.push(l):a.push(l),l=l.parentElement;return a}function wS(e,i,a){const l=Zl();return a?e[i==="width"?"offsetWidth":"offsetHeight"]+parseFloat(l.getComputedStyle(e,null).getPropertyValue(i==="width"?"margin-right":"margin-top"))+parseFloat(l.getComputedStyle(e,null).getPropertyValue(i==="width"?"margin-left":"margin-bottom")):e.offsetWidth}let Nb;function tN(){const e=Zl(),i=wf();return{smoothScroll:i.documentElement&&i.documentElement.style&&"scrollBehavior"in i.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&i instanceof e.DocumentTouch)}}function CC(){return Nb||(Nb=tN()),Nb}let jb;function iN({userAgent:e}={}){const i=CC(),a=Zl(),l=a.navigator.platform,h=e||a.navigator.userAgent,p={ios:!1,android:!1},y=a.screen.width,s=a.screen.height,b=h.match(/(Android);?[\s\/]+([\d.]+)?/);let L=h.match(/(iPad).*OS\s([\d_]+)/);const ee=h.match(/(iPod)(.*OS\s([\d_]+))?/),F=!L&&h.match(/(iPhone\sOS|iOS)\s([\d_]+)/),Z=l==="Win32";let ne=l==="MacIntel";const z=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!L&&ne&&i.touch&&z.indexOf(`${y}x${s}`)>=0&&(L=h.match(/(Version)\/([\d.]+)/),L||(L=[0,1,"13_0_0"]),ne=!1),b&&!Z&&(p.os="android",p.android=!0),(L||F||ee)&&(p.os="ios",p.ios=!0),p}function nN(e={}){return jb||(jb=iN(e)),jb}let Ub;function rN(){const e=Zl();let i=!1;function a(){const l=e.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(a()){const l=String(e.navigator.userAgent);if(l.includes("Version/")){const[h,p]=l.split("Version/")[1].split(" ")[0].split(".").map(y=>Number(y));i=h<16||h===16&&p<2}}return{isSafari:i||a(),needPerspectiveFix:i,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}function sN(){return Ub||(Ub=rN()),Ub}function oN({swiper:e,on:i,emit:a}){const l=Zl();let h=null,p=null;const y=()=>{!e||e.destroyed||!e.initialized||(a("beforeResize"),a("resize"))},s=()=>{!e||e.destroyed||!e.initialized||(h=new ResizeObserver(ee=>{p=l.requestAnimationFrame(()=>{const{width:F,height:Z}=e;let ne=F,z=Z;ee.forEach(({contentBoxSize:G,contentRect:ae,target:B})=>{B&&B!==e.el||(ne=ae?ae.width:(G[0]||G).inlineSize,z=ae?ae.height:(G[0]||G).blockSize)}),(ne!==F||z!==Z)&&y()})}),h.observe(e.el))},b=()=>{p&&l.cancelAnimationFrame(p),h&&h.unobserve&&e.el&&(h.unobserve(e.el),h=null)},L=()=>{!e||e.destroyed||!e.initialized||a("orientationchange")};i("init",()=>{if(e.params.resizeObserver&&typeof l.ResizeObserver<"u"){s();return}l.addEventListener("resize",y),l.addEventListener("orientationchange",L)}),i("destroy",()=>{b(),l.removeEventListener("resize",y),l.removeEventListener("orientationchange",L)})}function aN({swiper:e,extendParams:i,on:a,emit:l}){const h=[],p=Zl(),y=(L,ee={})=>{const F=p.MutationObserver||p.WebkitMutationObserver,Z=new F(ne=>{if(e.__preventObserver__)return;if(ne.length===1){l("observerUpdate",ne[0]);return}const z=function(){l("observerUpdate",ne[0])};p.requestAnimationFrame?p.requestAnimationFrame(z):p.setTimeout(z,0)});Z.observe(L,{attributes:typeof ee.attributes>"u"?!0:ee.attributes,childList:typeof ee.childList>"u"?!0:ee.childList,characterData:typeof ee.characterData>"u"?!0:ee.characterData}),h.push(Z)},s=()=>{if(e.params.observer){if(e.params.observeParents){const L=eN(e.el);for(let ee=0;ee<L.length;ee+=1)y(L[ee])}y(e.el,{childList:e.params.observeSlideChildren}),y(e.wrapperEl,{attributes:!1})}},b=()=>{h.forEach(L=>{L.disconnect()}),h.splice(0,h.length)};i({observer:!1,observeParents:!1,observeSlideChildren:!1}),a("init",s),a("destroy",b)}const lN={on(e,i,a){const l=this;if(!l.eventsListeners||l.destroyed||typeof i!="function")return l;const h=a?"unshift":"push";return e.split(" ").forEach(p=>{l.eventsListeners[p]||(l.eventsListeners[p]=[]),l.eventsListeners[p][h](i)}),l},once(e,i,a){const l=this;if(!l.eventsListeners||l.destroyed||typeof i!="function")return l;function h(...p){l.off(e,h),h.__emitterProxy&&delete h.__emitterProxy,i.apply(l,p)}return h.__emitterProxy=i,l.on(e,h,a)},onAny(e,i){const a=this;if(!a.eventsListeners||a.destroyed||typeof e!="function")return a;const l=i?"unshift":"push";return a.eventsAnyListeners.indexOf(e)<0&&a.eventsAnyListeners[l](e),a},offAny(e){const i=this;if(!i.eventsListeners||i.destroyed||!i.eventsAnyListeners)return i;const a=i.eventsAnyListeners.indexOf(e);return a>=0&&i.eventsAnyListeners.splice(a,1),i},off(e,i){const a=this;return!a.eventsListeners||a.destroyed||!a.eventsListeners||e.split(" ").forEach(l=>{typeof i>"u"?a.eventsListeners[l]=[]:a.eventsListeners[l]&&a.eventsListeners[l].forEach((h,p)=>{(h===i||h.__emitterProxy&&h.__emitterProxy===i)&&a.eventsListeners[l].splice(p,1)})}),a},emit(...e){const i=this;if(!i.eventsListeners||i.destroyed||!i.eventsListeners)return i;let a,l,h;return typeof e[0]=="string"||Array.isArray(e[0])?(a=e[0],l=e.slice(1,e.length),h=i):(a=e[0].events,l=e[0].data,h=e[0].context||i),l.unshift(h),(Array.isArray(a)?a:a.split(" ")).forEach(y=>{i.eventsAnyListeners&&i.eventsAnyListeners.length&&i.eventsAnyListeners.forEach(s=>{s.apply(h,[y,...l])}),i.eventsListeners&&i.eventsListeners[y]&&i.eventsListeners[y].forEach(s=>{s.apply(h,l)})}),i}};function cN(){const e=this;let i,a;const l=e.el;typeof e.params.width<"u"&&e.params.width!==null?i=e.params.width:i=l.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?a=e.params.height:a=l.clientHeight,!(i===0&&e.isHorizontal()||a===0&&e.isVertical())&&(i=i-parseInt(Fu(l,"padding-left")||0,10)-parseInt(Fu(l,"padding-right")||0,10),a=a-parseInt(Fu(l,"padding-top")||0,10)-parseInt(Fu(l,"padding-bottom")||0,10),Number.isNaN(i)&&(i=0),Number.isNaN(a)&&(a=0),Object.assign(e,{width:i,height:a,size:e.isHorizontal()?i:a}))}function hN(){const e=this;function i(K){return e.isHorizontal()?K:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[K]}function a(K,q){return parseFloat(K.getPropertyValue(i(q))||0)}const l=e.params,{wrapperEl:h,slidesEl:p,size:y,rtlTranslate:s,wrongRTL:b}=e,L=e.virtual&&l.virtual.enabled,ee=L?e.virtual.slides.length:e.slides.length,F=qh(p,`.${e.params.slideClass}, swiper-slide`),Z=L?e.virtual.slides.length:F.length;let ne=[];const z=[],G=[];let ae=l.slidesOffsetBefore;typeof ae=="function"&&(ae=l.slidesOffsetBefore.call(e));let B=l.slidesOffsetAfter;typeof B=="function"&&(B=l.slidesOffsetAfter.call(e));const P=e.snapGrid.length,V=e.slidesGrid.length;let W=l.spaceBetween,R=-ae,se=0,S=0;if(typeof y>"u")return;typeof W=="string"&&W.indexOf("%")>=0?W=parseFloat(W.replace("%",""))/100*y:typeof W=="string"&&(W=parseFloat(W)),e.virtualSize=-W,F.forEach(K=>{s?K.style.marginLeft="":K.style.marginRight="",K.style.marginBottom="",K.style.marginTop=""}),l.centeredSlides&&l.cssMode&&(Py(h,"--swiper-centered-offset-before",""),Py(h,"--swiper-centered-offset-after",""));const X=l.grid&&l.grid.rows>1&&e.grid;X&&e.grid.initSlides(Z);let I;const $=l.slidesPerView==="auto"&&l.breakpoints&&Object.keys(l.breakpoints).filter(K=>typeof l.breakpoints[K].slidesPerView<"u").length>0;for(let K=0;K<Z;K+=1){I=0;let q;if(F[K]&&(q=F[K]),X&&e.grid.updateSlide(K,q,Z,i),!(F[K]&&Fu(q,"display")==="none")){if(l.slidesPerView==="auto"){$&&(F[K].style[i("width")]="");const J=getComputedStyle(q),C=q.style.transform,A=q.style.webkitTransform;if(C&&(q.style.transform="none"),A&&(q.style.webkitTransform="none"),l.roundLengths)I=e.isHorizontal()?wS(q,"width",!0):wS(q,"height",!0);else{const O=a(J,"width"),Q=a(J,"padding-left"),fe=a(J,"padding-right"),Te=a(J,"margin-left"),oe=a(J,"margin-right"),Me=J.getPropertyValue("box-sizing");if(Me&&Me==="border-box")I=O+Te+oe;else{const{clientWidth:We,offsetWidth:Qe}=q;I=O+Q+fe+Te+oe+(Qe-We)}}C&&(q.style.transform=C),A&&(q.style.webkitTransform=A),l.roundLengths&&(I=Math.floor(I))}else I=(y-(l.slidesPerView-1)*W)/l.slidesPerView,l.roundLengths&&(I=Math.floor(I)),F[K]&&(F[K].style[i("width")]=`${I}px`);F[K]&&(F[K].swiperSlideSize=I),G.push(I),l.centeredSlides?(R=R+I/2+se/2+W,se===0&&K!==0&&(R=R-y/2-W),K===0&&(R=R-y/2-W),Math.abs(R)<1/1e3&&(R=0),l.roundLengths&&(R=Math.floor(R)),S%l.slidesPerGroup===0&&ne.push(R),z.push(R)):(l.roundLengths&&(R=Math.floor(R)),(S-Math.min(e.params.slidesPerGroupSkip,S))%e.params.slidesPerGroup===0&&ne.push(R),z.push(R),R=R+I+W),e.virtualSize+=I+W,se=I,S+=1}}if(e.virtualSize=Math.max(e.virtualSize,y)+B,s&&b&&(l.effect==="slide"||l.effect==="coverflow")&&(h.style.width=`${e.virtualSize+W}px`),l.setWrapperSize&&(h.style[i("width")]=`${e.virtualSize+W}px`),X&&e.grid.updateWrapperSize(I,ne,i),!l.centeredSlides){const K=[];for(let q=0;q<ne.length;q+=1){let J=ne[q];l.roundLengths&&(J=Math.floor(J)),ne[q]<=e.virtualSize-y&&K.push(J)}ne=K,Math.floor(e.virtualSize-y)-Math.floor(ne[ne.length-1])>1&&ne.push(e.virtualSize-y)}if(L&&l.loop){const K=G[0]+W;if(l.slidesPerGroup>1){const q=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/l.slidesPerGroup),J=K*l.slidesPerGroup;for(let C=0;C<q;C+=1)ne.push(ne[ne.length-1]+J)}for(let q=0;q<e.virtual.slidesBefore+e.virtual.slidesAfter;q+=1)l.slidesPerGroup===1&&ne.push(ne[ne.length-1]+K),z.push(z[z.length-1]+K),e.virtualSize+=K}if(ne.length===0&&(ne=[0]),W!==0){const K=e.isHorizontal()&&s?"marginLeft":i("marginRight");F.filter((q,J)=>!l.cssMode||l.loop?!0:J!==F.length-1).forEach(q=>{q.style[K]=`${W}px`})}if(l.centeredSlides&&l.centeredSlidesBounds){let K=0;G.forEach(J=>{K+=J+(W||0)}),K-=W;const q=K-y;ne=ne.map(J=>J<0?-ae:J>q?q+B:J)}if(l.centerInsufficientSlides){let K=0;if(G.forEach(q=>{K+=q+(W||0)}),K-=W,K<y){const q=(y-K)/2;ne.forEach((J,C)=>{ne[C]=J-q}),z.forEach((J,C)=>{z[C]=J+q})}}if(Object.assign(e,{slides:F,snapGrid:ne,slidesGrid:z,slidesSizesGrid:G}),l.centeredSlides&&l.cssMode&&!l.centeredSlidesBounds){Py(h,"--swiper-centered-offset-before",`${-ne[0]}px`),Py(h,"--swiper-centered-offset-after",`${e.size/2-G[G.length-1]/2}px`);const K=-e.snapGrid[0],q=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(J=>J+K),e.slidesGrid=e.slidesGrid.map(J=>J+q)}if(Z!==ee&&e.emit("slidesLengthChange"),ne.length!==P&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),z.length!==V&&e.emit("slidesGridLengthChange"),l.watchSlidesProgress&&e.updateSlidesOffset(),!L&&!l.cssMode&&(l.effect==="slide"||l.effect==="fade")){const K=`${l.containerModifierClass}backface-hidden`,q=e.el.classList.contains(K);Z<=l.maxBackfaceHiddenSlides?q||e.el.classList.add(K):q&&e.el.classList.remove(K)}}function dN(e){const i=this,a=[],l=i.virtual&&i.params.virtual.enabled;let h=0,p;typeof e=="number"?i.setTransition(e):e===!0&&i.setTransition(i.params.speed);const y=s=>l?i.slides[i.getSlideIndexByData(s)]:i.slides[s];if(i.params.slidesPerView!=="auto"&&i.params.slidesPerView>1)if(i.params.centeredSlides)(i.visibleSlides||[]).forEach(s=>{a.push(s)});else for(p=0;p<Math.ceil(i.params.slidesPerView);p+=1){const s=i.activeIndex+p;if(s>i.slides.length&&!l)break;a.push(y(s))}else a.push(y(i.activeIndex));for(p=0;p<a.length;p+=1)if(typeof a[p]<"u"){const s=a[p].offsetHeight;h=s>h?s:h}(h||h===0)&&(i.wrapperEl.style.height=`${h}px`)}function uN(){const e=this,i=e.slides,a=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let l=0;l<i.length;l+=1)i[l].swiperSlideOffset=(e.isHorizontal()?i[l].offsetLeft:i[l].offsetTop)-a-e.cssOverflowAdjustment()}function pN(e=this&&this.translate||0){const i=this,a=i.params,{slides:l,rtlTranslate:h,snapGrid:p}=i;if(l.length===0)return;typeof l[0].swiperSlideOffset>"u"&&i.updateSlidesOffset();let y=-e;h&&(y=e),l.forEach(b=>{b.classList.remove(a.slideVisibleClass)}),i.visibleSlidesIndexes=[],i.visibleSlides=[];let s=a.spaceBetween;typeof s=="string"&&s.indexOf("%")>=0?s=parseFloat(s.replace("%",""))/100*i.size:typeof s=="string"&&(s=parseFloat(s));for(let b=0;b<l.length;b+=1){const L=l[b];let ee=L.swiperSlideOffset;a.cssMode&&a.centeredSlides&&(ee-=l[0].swiperSlideOffset);const F=(y+(a.centeredSlides?i.minTranslate():0)-ee)/(L.swiperSlideSize+s),Z=(y-p[0]+(a.centeredSlides?i.minTranslate():0)-ee)/(L.swiperSlideSize+s),ne=-(y-ee),z=ne+i.slidesSizesGrid[b];(ne>=0&&ne<i.size-1||z>1&&z<=i.size||ne<=0&&z>=i.size)&&(i.visibleSlides.push(L),i.visibleSlidesIndexes.push(b),l[b].classList.add(a.slideVisibleClass)),L.progress=h?-F:F,L.originalProgress=h?-Z:Z}}function fN(e){const i=this;if(typeof e>"u"){const ee=i.rtlTranslate?-1:1;e=i&&i.translate&&i.translate*ee||0}const a=i.params,l=i.maxTranslate()-i.minTranslate();let{progress:h,isBeginning:p,isEnd:y,progressLoop:s}=i;const b=p,L=y;if(l===0)h=0,p=!0,y=!0;else{h=(e-i.minTranslate())/l;const ee=Math.abs(e-i.minTranslate())<1,F=Math.abs(e-i.maxTranslate())<1;p=ee||h<=0,y=F||h>=1,ee&&(h=0),F&&(h=1)}if(a.loop){const ee=i.getSlideIndexByData(0),F=i.getSlideIndexByData(i.slides.length-1),Z=i.slidesGrid[ee],ne=i.slidesGrid[F],z=i.slidesGrid[i.slidesGrid.length-1],G=Math.abs(e);G>=Z?s=(G-Z)/z:s=(G+z-ne)/z,s>1&&(s-=1)}Object.assign(i,{progress:h,progressLoop:s,isBeginning:p,isEnd:y}),(a.watchSlidesProgress||a.centeredSlides&&a.autoHeight)&&i.updateSlidesProgress(e),p&&!b&&i.emit("reachBeginning toEdge"),y&&!L&&i.emit("reachEnd toEdge"),(b&&!p||L&&!y)&&i.emit("fromEdge"),i.emit("progress",h)}function mN(){const e=this,{slides:i,params:a,slidesEl:l,activeIndex:h}=e,p=e.virtual&&a.virtual.enabled,y=b=>qh(l,`.${a.slideClass}${b}, swiper-slide${b}`)[0];i.forEach(b=>{b.classList.remove(a.slideActiveClass,a.slideNextClass,a.slidePrevClass)});let s;if(p)if(a.loop){let b=h-e.virtual.slidesBefore;b<0&&(b=e.virtual.slides.length+b),b>=e.virtual.slides.length&&(b-=e.virtual.slides.length),s=y(`[data-swiper-slide-index="${b}"]`)}else s=y(`[data-swiper-slide-index="${h}"]`);else s=i[h];if(s){s.classList.add(a.slideActiveClass);let b=QF(s,`.${a.slideClass}, swiper-slide`)[0];a.loop&&!b&&(b=i[0]),b&&b.classList.add(a.slideNextClass);let L=JF(s,`.${a.slideClass}, swiper-slide`)[0];a.loop&&!L===0&&(L=i[i.length-1]),L&&L.classList.add(a.slidePrevClass)}e.emitSlidesClasses()}const Wy=(e,i)=>{if(!e||e.destroyed||!e.params)return;const a=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,l=i.closest(a());if(l){const h=l.querySelector(`.${e.params.lazyPreloaderClass}`);h&&h.remove()}},TS=(e,i)=>{if(!e.slides[i])return;const a=e.slides[i].querySelector('[loading="lazy"]');a&&a.removeAttribute("loading")},O3=e=>{if(!e||e.destroyed||!e.params)return;let i=e.params.lazyPreloadPrevNext;const a=e.slides.length;if(!a||!i||i<0)return;i=Math.min(i,a);const l=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),h=e.activeIndex,p=h+l-1;if(e.params.rewind)for(let y=h-i;y<=p+i;y+=1){const s=(y%a+a)%a;s!==h&&s>p&&TS(e,s)}else for(let y=Math.max(p-i,0);y<=Math.min(p+i,a-1);y+=1)y!==h&&y>p&&TS(e,y)};function gN(e){const{slidesGrid:i,params:a}=e,l=e.rtlTranslate?e.translate:-e.translate;let h;for(let p=0;p<i.length;p+=1)typeof i[p+1]<"u"?l>=i[p]&&l<i[p+1]-(i[p+1]-i[p])/2?h=p:l>=i[p]&&l<i[p+1]&&(h=p+1):l>=i[p]&&(h=p);return a.normalizeSlideIndex&&(h<0||typeof h>"u")&&(h=0),h}function _N(e){const i=this,a=i.rtlTranslate?i.translate:-i.translate,{snapGrid:l,params:h,activeIndex:p,realIndex:y,snapIndex:s}=i;let b=e,L;const ee=Z=>{let ne=Z-i.virtual.slidesBefore;return ne<0&&(ne=i.virtual.slides.length+ne),ne>=i.virtual.slides.length&&(ne-=i.virtual.slides.length),ne};if(typeof b>"u"&&(b=gN(i)),l.indexOf(a)>=0)L=l.indexOf(a);else{const Z=Math.min(h.slidesPerGroupSkip,b);L=Z+Math.floor((b-Z)/h.slidesPerGroup)}if(L>=l.length&&(L=l.length-1),b===p){L!==s&&(i.snapIndex=L,i.emit("snapIndexChange")),i.params.loop&&i.virtual&&i.params.virtual.enabled&&(i.realIndex=ee(b));return}let F;i.virtual&&h.virtual.enabled&&h.loop?F=ee(b):i.slides[b]?F=parseInt(i.slides[b].getAttribute("data-swiper-slide-index")||b,10):F=b,Object.assign(i,{previousSnapIndex:s,snapIndex:L,previousRealIndex:y,realIndex:F,previousIndex:p,activeIndex:b}),i.initialized&&O3(i),i.emit("activeIndexChange"),i.emit("snapIndexChange"),y!==F&&i.emit("realIndexChange"),(i.initialized||i.params.runCallbacksOnInit)&&i.emit("slideChange")}function yN(e){const i=this,a=i.params,l=e.closest(`.${a.slideClass}, swiper-slide`);let h=!1,p;if(l){for(let y=0;y<i.slides.length;y+=1)if(i.slides[y]===l){h=!0,p=y;break}}if(l&&h)i.clickedSlide=l,i.virtual&&i.params.virtual.enabled?i.clickedIndex=parseInt(l.getAttribute("data-swiper-slide-index"),10):i.clickedIndex=p;else{i.clickedSlide=void 0,i.clickedIndex=void 0;return}a.slideToClickedSlide&&i.clickedIndex!==void 0&&i.clickedIndex!==i.activeIndex&&i.slideToClickedSlide()}const vN={updateSize:cN,updateSlides:hN,updateAutoHeight:dN,updateSlidesOffset:uN,updateSlidesProgress:pN,updateProgress:fN,updateSlidesClasses:mN,updateActiveIndex:_N,updateClickedSlide:yN};function xN(e=this.isHorizontal()?"x":"y"){const i=this,{params:a,rtlTranslate:l,translate:h,wrapperEl:p}=i;if(a.virtualTranslate)return l?-h:h;if(a.cssMode)return h;let y=ZF(p,e);return y+=i.cssOverflowAdjustment(),l&&(y=-y),y||0}function bN(e,i){const a=this,{rtlTranslate:l,params:h,wrapperEl:p,progress:y}=a;let s=0,b=0;const L=0;a.isHorizontal()?s=l?-e:e:b=e,h.roundLengths&&(s=Math.floor(s),b=Math.floor(b)),a.previousTranslate=a.translate,a.translate=a.isHorizontal()?s:b,h.cssMode?p[a.isHorizontal()?"scrollLeft":"scrollTop"]=a.isHorizontal()?-s:-b:h.virtualTranslate||(a.isHorizontal()?s-=a.cssOverflowAdjustment():b-=a.cssOverflowAdjustment(),p.style.transform=`translate3d(${s}px, ${b}px, ${L}px)`);let ee;const F=a.maxTranslate()-a.minTranslate();F===0?ee=0:ee=(e-a.minTranslate())/F,ee!==y&&a.updateProgress(e),a.emit("setTranslate",a.translate,i)}function wN(){return-this.snapGrid[0]}function TN(){return-this.snapGrid[this.snapGrid.length-1]}function SN(e=0,i=this.params.speed,a=!0,l=!0,h){const p=this,{params:y,wrapperEl:s}=p;if(p.animating&&y.preventInteractionOnTransition)return!1;const b=p.minTranslate(),L=p.maxTranslate();let ee;if(l&&e>b?ee=b:l&&e<L?ee=L:ee=e,p.updateProgress(ee),y.cssMode){const F=p.isHorizontal();if(i===0)s[F?"scrollLeft":"scrollTop"]=-ee;else{if(!p.support.smoothScroll)return EC({swiper:p,targetPosition:-ee,side:F?"left":"top"}),!0;s.scrollTo({[F?"left":"top"]:-ee,behavior:"smooth"})}return!0}return i===0?(p.setTransition(0),p.setTranslate(ee),a&&(p.emit("beforeTransitionStart",i,h),p.emit("transitionEnd"))):(p.setTransition(i),p.setTranslate(ee),a&&(p.emit("beforeTransitionStart",i,h),p.emit("transitionStart")),p.animating||(p.animating=!0,p.onTranslateToWrapperTransitionEnd||(p.onTranslateToWrapperTransitionEnd=function(Z){!p||p.destroyed||Z.target===this&&(p.wrapperEl.removeEventListener("transitionend",p.onTranslateToWrapperTransitionEnd),p.onTranslateToWrapperTransitionEnd=null,delete p.onTranslateToWrapperTransitionEnd,a&&p.emit("transitionEnd"))}),p.wrapperEl.addEventListener("transitionend",p.onTranslateToWrapperTransitionEnd))),!0}const EN={getTranslate:xN,setTranslate:bN,minTranslate:wN,maxTranslate:TN,translateTo:SN};function CN(e,i){const a=this;a.params.cssMode||(a.wrapperEl.style.transitionDuration=`${e}ms`),a.emit("setTransition",e,i)}function MC({swiper:e,runCallbacks:i,direction:a,step:l}){const{activeIndex:h,previousIndex:p}=e;let y=a;if(y||(h>p?y="next":h<p?y="prev":y="reset"),e.emit(`transition${l}`),i&&h!==p){if(y==="reset"){e.emit(`slideResetTransition${l}`);return}e.emit(`slideChangeTransition${l}`),y==="next"?e.emit(`slideNextTransition${l}`):e.emit(`slidePrevTransition${l}`)}}function MN(e=!0,i){const a=this,{params:l}=a;l.cssMode||(l.autoHeight&&a.updateAutoHeight(),MC({swiper:a,runCallbacks:e,direction:i,step:"Start"}))}function AN(e=!0,i){const a=this,{params:l}=a;a.animating=!1,!l.cssMode&&(a.setTransition(0),MC({swiper:a,runCallbacks:e,direction:i,step:"End"}))}const kN={setTransition:CN,transitionStart:MN,transitionEnd:AN};function PN(e=0,i=this.params.speed,a=!0,l,h){typeof e=="string"&&(e=parseInt(e,10));const p=this;let y=e;y<0&&(y=0);const{params:s,snapGrid:b,slidesGrid:L,previousIndex:ee,activeIndex:F,rtlTranslate:Z,wrapperEl:ne,enabled:z}=p;if(p.animating&&s.preventInteractionOnTransition||!z&&!l&&!h)return!1;const G=Math.min(p.params.slidesPerGroupSkip,y);let ae=G+Math.floor((y-G)/p.params.slidesPerGroup);ae>=b.length&&(ae=b.length-1);const B=-b[ae];if(s.normalizeSlideIndex)for(let V=0;V<L.length;V+=1){const W=-Math.floor(B*100),R=Math.floor(L[V]*100),se=Math.floor(L[V+1]*100);typeof L[V+1]<"u"?W>=R&&W<se-(se-R)/2?y=V:W>=R&&W<se&&(y=V+1):W>=R&&(y=V)}if(p.initialized&&y!==F&&(!p.allowSlideNext&&B<p.translate&&B<p.minTranslate()||!p.allowSlidePrev&&B>p.translate&&B>p.maxTranslate()&&(F||0)!==y))return!1;y!==(ee||0)&&a&&p.emit("beforeSlideChangeStart"),p.updateProgress(B);let P;if(y>F?P="next":y<F?P="prev":P="reset",Z&&-B===p.translate||!Z&&B===p.translate)return p.updateActiveIndex(y),s.autoHeight&&p.updateAutoHeight(),p.updateSlidesClasses(),s.effect!=="slide"&&p.setTranslate(B),P!=="reset"&&(p.transitionStart(a,P),p.transitionEnd(a,P)),!1;if(s.cssMode){const V=p.isHorizontal(),W=Z?B:-B;if(i===0){const R=p.virtual&&p.params.virtual.enabled;R&&(p.wrapperEl.style.scrollSnapType="none",p._immediateVirtual=!0),R&&!p._cssModeVirtualInitialSet&&p.params.initialSlide>0?(p._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{ne[V?"scrollLeft":"scrollTop"]=W})):ne[V?"scrollLeft":"scrollTop"]=W,R&&requestAnimationFrame(()=>{p.wrapperEl.style.scrollSnapType="",p._immediateVirtual=!1})}else{if(!p.support.smoothScroll)return EC({swiper:p,targetPosition:W,side:V?"left":"top"}),!0;ne.scrollTo({[V?"left":"top"]:W,behavior:"smooth"})}return!0}return p.setTransition(i),p.setTranslate(B),p.updateActiveIndex(y),p.updateSlidesClasses(),p.emit("beforeTransitionStart",i,l),p.transitionStart(a,P),i===0?p.transitionEnd(a,P):p.animating||(p.animating=!0,p.onSlideToWrapperTransitionEnd||(p.onSlideToWrapperTransitionEnd=function(W){!p||p.destroyed||W.target===this&&(p.wrapperEl.removeEventListener("transitionend",p.onSlideToWrapperTransitionEnd),p.onSlideToWrapperTransitionEnd=null,delete p.onSlideToWrapperTransitionEnd,p.transitionEnd(a,P))}),p.wrapperEl.addEventListener("transitionend",p.onSlideToWrapperTransitionEnd)),!0}function IN(e=0,i=this.params.speed,a=!0,l){typeof e=="string"&&(e=parseInt(e,10));const h=this;let p=e;return h.params.loop&&(h.virtual&&h.params.virtual.enabled?p=p+h.virtual.slidesBefore:p=h.getSlideIndexByData(p)),h.slideTo(p,i,a,l)}function LN(e=this.params.speed,i=!0,a){const l=this,{enabled:h,params:p,animating:y}=l;if(!h)return l;let s=p.slidesPerGroup;p.slidesPerView==="auto"&&p.slidesPerGroup===1&&p.slidesPerGroupAuto&&(s=Math.max(l.slidesPerViewDynamic("current",!0),1));const b=l.activeIndex<p.slidesPerGroupSkip?1:s,L=l.virtual&&p.virtual.enabled;if(p.loop){if(y&&!L&&p.loopPreventsSliding)return!1;l.loopFix({direction:"next"}),l._clientLeft=l.wrapperEl.clientLeft}return p.rewind&&l.isEnd?l.slideTo(0,e,i,a):l.slideTo(l.activeIndex+b,e,i,a)}function DN(e=this.params.speed,i=!0,a){const l=this,{params:h,snapGrid:p,slidesGrid:y,rtlTranslate:s,enabled:b,animating:L}=l;if(!b)return l;const ee=l.virtual&&h.virtual.enabled;if(h.loop){if(L&&!ee&&h.loopPreventsSliding)return!1;l.loopFix({direction:"prev"}),l._clientLeft=l.wrapperEl.clientLeft}const F=s?l.translate:-l.translate;function Z(B){return B<0?-Math.floor(Math.abs(B)):Math.floor(B)}const ne=Z(F),z=p.map(B=>Z(B));let G=p[z.indexOf(ne)-1];if(typeof G>"u"&&h.cssMode){let B;p.forEach((P,V)=>{ne>=P&&(B=V)}),typeof B<"u"&&(G=p[B>0?B-1:B])}let ae=0;if(typeof G<"u"&&(ae=y.indexOf(G),ae<0&&(ae=l.activeIndex-1),h.slidesPerView==="auto"&&h.slidesPerGroup===1&&h.slidesPerGroupAuto&&(ae=ae-l.slidesPerViewDynamic("previous",!0)+1,ae=Math.max(ae,0))),h.rewind&&l.isBeginning){const B=l.params.virtual&&l.params.virtual.enabled&&l.virtual?l.virtual.slides.length-1:l.slides.length-1;return l.slideTo(B,e,i,a)}return l.slideTo(ae,e,i,a)}function ON(e=this.params.speed,i=!0,a){const l=this;return l.slideTo(l.activeIndex,e,i,a)}function RN(e=this.params.speed,i=!0,a,l=.5){const h=this;let p=h.activeIndex;const y=Math.min(h.params.slidesPerGroupSkip,p),s=y+Math.floor((p-y)/h.params.slidesPerGroup),b=h.rtlTranslate?h.translate:-h.translate;if(b>=h.snapGrid[s]){const L=h.snapGrid[s],ee=h.snapGrid[s+1];b-L>(ee-L)*l&&(p+=h.params.slidesPerGroup)}else{const L=h.snapGrid[s-1],ee=h.snapGrid[s];b-L<=(ee-L)*l&&(p-=h.params.slidesPerGroup)}return p=Math.max(p,0),p=Math.min(p,h.slidesGrid.length-1),h.slideTo(p,e,i,a)}function zN(){const e=this,{params:i,slidesEl:a}=e,l=i.slidesPerView==="auto"?e.slidesPerViewDynamic():i.slidesPerView;let h=e.clickedIndex,p;const y=e.isElement?"swiper-slide":`.${i.slideClass}`;if(i.loop){if(e.animating)return;p=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),i.centeredSlides?h<e.loopedSlides-l/2||h>e.slides.length-e.loopedSlides+l/2?(e.loopFix(),h=e.getSlideIndex(qh(a,`${y}[data-swiper-slide-index="${p}"]`)[0]),L3(()=>{e.slideTo(h)})):e.slideTo(h):h>e.slides.length-l?(e.loopFix(),h=e.getSlideIndex(qh(a,`${y}[data-swiper-slide-index="${p}"]`)[0]),L3(()=>{e.slideTo(h)})):e.slideTo(h)}else e.slideTo(h)}const BN={slideTo:PN,slideToLoop:IN,slideNext:LN,slidePrev:DN,slideReset:ON,slideToClosest:RN,slideToClickedSlide:zN};function FN(e){const i=this,{params:a,slidesEl:l}=i;if(!a.loop||i.virtual&&i.params.virtual.enabled)return;qh(l,`.${a.slideClass}, swiper-slide`).forEach((p,y)=>{p.setAttribute("data-swiper-slide-index",y)}),i.loopFix({slideRealIndex:e,direction:a.centeredSlides?void 0:"next"})}function NN({slideRealIndex:e,slideTo:i=!0,direction:a,setTranslate:l,activeSlideIndex:h,byController:p,byMousewheel:y}={}){const s=this;if(!s.params.loop)return;s.emit("beforeLoopFix");const{slides:b,allowSlidePrev:L,allowSlideNext:ee,slidesEl:F,params:Z}=s;if(s.allowSlidePrev=!0,s.allowSlideNext=!0,s.virtual&&Z.virtual.enabled){i&&(!Z.centeredSlides&&s.snapIndex===0?s.slideTo(s.virtual.slides.length,0,!1,!0):Z.centeredSlides&&s.snapIndex<Z.slidesPerView?s.slideTo(s.virtual.slides.length+s.snapIndex,0,!1,!0):s.snapIndex===s.snapGrid.length-1&&s.slideTo(s.virtual.slidesBefore,0,!1,!0)),s.allowSlidePrev=L,s.allowSlideNext=ee,s.emit("loopFix");return}const ne=Z.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(parseFloat(Z.slidesPerView,10));let z=Z.loopedSlides||ne;z%Z.slidesPerGroup!==0&&(z+=Z.slidesPerGroup-z%Z.slidesPerGroup),s.loopedSlides=z;const G=[],ae=[];let B=s.activeIndex;typeof h>"u"?h=s.getSlideIndex(s.slides.filter(se=>se.classList.contains(Z.slideActiveClass))[0]):B=h;const P=a==="next"||!a,V=a==="prev"||!a;let W=0,R=0;if(h<z){W=Math.max(z-h,Z.slidesPerGroup);for(let se=0;se<z-h;se+=1){const S=se-Math.floor(se/b.length)*b.length;G.push(b.length-S-1)}}else if(h>s.slides.length-z*2){R=Math.max(h-(s.slides.length-z*2),Z.slidesPerGroup);for(let se=0;se<R;se+=1){const S=se-Math.floor(se/b.length)*b.length;ae.push(S)}}if(V&&G.forEach(se=>{s.slides[se].swiperLoopMoveDOM=!0,F.prepend(s.slides[se]),s.slides[se].swiperLoopMoveDOM=!1}),P&&ae.forEach(se=>{s.slides[se].swiperLoopMoveDOM=!0,F.append(s.slides[se]),s.slides[se].swiperLoopMoveDOM=!1}),s.recalcSlides(),Z.slidesPerView==="auto"&&s.updateSlides(),Z.watchSlidesProgress&&s.updateSlidesOffset(),i){if(G.length>0&&V)if(typeof e>"u"){const se=s.slidesGrid[B],X=s.slidesGrid[B+W]-se;y?s.setTranslate(s.translate-X):(s.slideTo(B+W,0,!1,!0),l&&(s.touches[s.isHorizontal()?"startX":"startY"]+=X))}else l&&s.slideToLoop(e,0,!1,!0);else if(ae.length>0&&P)if(typeof e>"u"){const se=s.slidesGrid[B],X=s.slidesGrid[B-R]-se;y?s.setTranslate(s.translate-X):(s.slideTo(B-R,0,!1,!0),l&&(s.touches[s.isHorizontal()?"startX":"startY"]+=X))}else s.slideToLoop(e,0,!1,!0)}if(s.allowSlidePrev=L,s.allowSlideNext=ee,s.controller&&s.controller.control&&!p){const se={slideRealIndex:e,slideTo:!1,direction:a,setTranslate:l,activeSlideIndex:h,byController:!0};Array.isArray(s.controller.control)?s.controller.control.forEach(S=>{!S.destroyed&&S.params.loop&&S.loopFix(se)}):s.controller.control instanceof s.constructor&&s.controller.control.params.loop&&s.controller.control.loopFix(se)}s.emit("loopFix")}function jN(){const e=this,{params:i,slidesEl:a}=e;if(!i.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const l=[];e.slides.forEach(h=>{const p=typeof h.swiperSlideIndex>"u"?h.getAttribute("data-swiper-slide-index")*1:h.swiperSlideIndex;l[p]=h}),e.slides.forEach(h=>{h.removeAttribute("data-swiper-slide-index")}),l.forEach(h=>{a.append(h)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}const UN={loopCreate:FN,loopFix:NN,loopDestroy:jN};function VN(e){const i=this;if(!i.params.simulateTouch||i.params.watchOverflow&&i.isLocked||i.params.cssMode)return;const a=i.params.touchEventsTarget==="container"?i.el:i.wrapperEl;i.isElement&&(i.__preventObserver__=!0),a.style.cursor="move",a.style.cursor=e?"grabbing":"grab",i.isElement&&requestAnimationFrame(()=>{i.__preventObserver__=!1})}function GN(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}const WN={setGrabCursor:VN,unsetGrabCursor:GN};function $N(e,i=this){function a(l){if(!l||l===wf()||l===Zl())return null;l.assignedSlot&&(l=l.assignedSlot);const h=l.closest(e);return!h&&!l.getRootNode?null:h||a(l.getRootNode().host)}return a(i)}function HN(e){const i=this,a=wf(),l=Zl(),h=i.touchEventsData;h.evCache.push(e);const{params:p,touches:y,enabled:s}=i;if(!s||!p.simulateTouch&&e.pointerType==="mouse"||i.animating&&p.preventInteractionOnTransition)return;!i.animating&&p.cssMode&&p.loop&&i.loopFix();let b=e;b.originalEvent&&(b=b.originalEvent);let L=b.target;if(p.touchEventsTarget==="wrapper"&&!i.wrapperEl.contains(L)||"which"in b&&b.which===3||"button"in b&&b.button>0||h.isTouched&&h.isMoved)return;const ee=!!p.noSwipingClass&&p.noSwipingClass!=="",F=e.composedPath?e.composedPath():e.path;ee&&b.target&&b.target.shadowRoot&&F&&(L=F[0]);const Z=p.noSwipingSelector?p.noSwipingSelector:`.${p.noSwipingClass}`,ne=!!(b.target&&b.target.shadowRoot);if(p.noSwiping&&(ne?$N(Z,L):L.closest(Z))){i.allowClick=!0;return}if(p.swipeHandler&&!L.closest(p.swipeHandler))return;y.currentX=b.pageX,y.currentY=b.pageY;const z=y.currentX,G=y.currentY,ae=p.edgeSwipeDetection||p.iOSEdgeSwipeDetection,B=p.edgeSwipeThreshold||p.iOSEdgeSwipeThreshold;if(ae&&(z<=B||z>=l.innerWidth-B))if(ae==="prevent")e.preventDefault();else return;Object.assign(h,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),y.startX=z,y.startY=G,h.touchStartTime=Ev(),i.allowClick=!0,i.updateSize(),i.swipeDirection=void 0,p.threshold>0&&(h.allowThresholdMove=!1);let P=!0;L.matches(h.focusableElements)&&(P=!1,L.nodeName==="SELECT"&&(h.isTouched=!1)),a.activeElement&&a.activeElement.matches(h.focusableElements)&&a.activeElement!==L&&a.activeElement.blur();const V=P&&i.allowTouchMove&&p.touchStartPreventDefault;(p.touchStartForcePreventDefault||V)&&!L.isContentEditable&&b.preventDefault(),i.params.freeMode&&i.params.freeMode.enabled&&i.freeMode&&i.animating&&!p.cssMode&&i.freeMode.onTouchStart(),i.emit("touchStart",b)}function qN(e){const i=wf(),a=this,l=a.touchEventsData,{params:h,touches:p,rtlTranslate:y,enabled:s}=a;if(!s||!h.simulateTouch&&e.pointerType==="mouse")return;let b=e;if(b.originalEvent&&(b=b.originalEvent),!l.isTouched){l.startMoving&&l.isScrolling&&a.emit("touchMoveOpposite",b);return}const L=l.evCache.findIndex(se=>se.pointerId===b.pointerId);L>=0&&(l.evCache[L]=b);const ee=l.evCache.length>1?l.evCache[0]:b,F=ee.pageX,Z=ee.pageY;if(b.preventedByNestedSwiper){p.startX=F,p.startY=Z;return}if(!a.allowTouchMove){b.target.matches(l.focusableElements)||(a.allowClick=!1),l.isTouched&&(Object.assign(p,{startX:F,startY:Z,prevX:a.touches.currentX,prevY:a.touches.currentY,currentX:F,currentY:Z}),l.touchStartTime=Ev());return}if(h.touchReleaseOnEdges&&!h.loop){if(a.isVertical()){if(Z<p.startY&&a.translate<=a.maxTranslate()||Z>p.startY&&a.translate>=a.minTranslate()){l.isTouched=!1,l.isMoved=!1;return}}else if(F<p.startX&&a.translate<=a.maxTranslate()||F>p.startX&&a.translate>=a.minTranslate())return}if(i.activeElement&&b.target===i.activeElement&&b.target.matches(l.focusableElements)){l.isMoved=!0,a.allowClick=!1;return}if(l.allowTouchCallbacks&&a.emit("touchMove",b),b.targetTouches&&b.targetTouches.length>1)return;p.currentX=F,p.currentY=Z;const ne=p.currentX-p.startX,z=p.currentY-p.startY;if(a.params.threshold&&Math.sqrt(ne**2+z**2)<a.params.threshold)return;if(typeof l.isScrolling>"u"){let se;a.isHorizontal()&&p.currentY===p.startY||a.isVertical()&&p.currentX===p.startX?l.isScrolling=!1:ne*ne+z*z>=25&&(se=Math.atan2(Math.abs(z),Math.abs(ne))*180/Math.PI,l.isScrolling=a.isHorizontal()?se>h.touchAngle:90-se>h.touchAngle)}if(l.isScrolling&&a.emit("touchMoveOpposite",b),typeof l.startMoving>"u"&&(p.currentX!==p.startX||p.currentY!==p.startY)&&(l.startMoving=!0),l.isScrolling||a.zoom&&a.params.zoom&&a.params.zoom.enabled&&l.evCache.length>1){l.isTouched=!1;return}if(!l.startMoving)return;a.allowClick=!1,!h.cssMode&&b.cancelable&&b.preventDefault(),h.touchMoveStopPropagation&&!h.nested&&b.stopPropagation();let G=a.isHorizontal()?ne:z,ae=a.isHorizontal()?p.currentX-p.previousX:p.currentY-p.previousY;h.oneWayMovement&&(G=Math.abs(G)*(y?1:-1),ae=Math.abs(ae)*(y?1:-1)),p.diff=G,G*=h.touchRatio,y&&(G=-G,ae=-ae);const B=a.touchesDirection;a.swipeDirection=G>0?"prev":"next",a.touchesDirection=ae>0?"prev":"next";const P=a.params.loop&&!h.cssMode;if(!l.isMoved){if(P&&a.loopFix({direction:a.swipeDirection}),l.startTranslate=a.getTranslate(),a.setTransition(0),a.animating){const se=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});a.wrapperEl.dispatchEvent(se)}l.allowMomentumBounce=!1,h.grabCursor&&(a.allowSlideNext===!0||a.allowSlidePrev===!0)&&a.setGrabCursor(!0),a.emit("sliderFirstMove",b)}let V;l.isMoved&&B!==a.touchesDirection&&P&&Math.abs(G)>=1&&(a.loopFix({direction:a.swipeDirection,setTranslate:!0}),V=!0),a.emit("sliderMove",b),l.isMoved=!0,l.currentTranslate=G+l.startTranslate;let W=!0,R=h.resistanceRatio;if(h.touchReleaseOnEdges&&(R=0),G>0?(P&&!V&&l.currentTranslate>(h.centeredSlides?a.minTranslate()-a.size/2:a.minTranslate())&&a.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),l.currentTranslate>a.minTranslate()&&(W=!1,h.resistance&&(l.currentTranslate=a.minTranslate()-1+(-a.minTranslate()+l.startTranslate+G)**R))):G<0&&(P&&!V&&l.currentTranslate<(h.centeredSlides?a.maxTranslate()+a.size/2:a.maxTranslate())&&a.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:a.slides.length-(h.slidesPerView==="auto"?a.slidesPerViewDynamic():Math.ceil(parseFloat(h.slidesPerView,10)))}),l.currentTranslate<a.maxTranslate()&&(W=!1,h.resistance&&(l.currentTranslate=a.maxTranslate()+1-(a.maxTranslate()-l.startTranslate-G)**R))),W&&(b.preventedByNestedSwiper=!0),!a.allowSlideNext&&a.swipeDirection==="next"&&l.currentTranslate<l.startTranslate&&(l.currentTranslate=l.startTranslate),!a.allowSlidePrev&&a.swipeDirection==="prev"&&l.currentTranslate>l.startTranslate&&(l.currentTranslate=l.startTranslate),!a.allowSlidePrev&&!a.allowSlideNext&&(l.currentTranslate=l.startTranslate),h.threshold>0)if(Math.abs(G)>h.threshold||l.allowThresholdMove){if(!l.allowThresholdMove){l.allowThresholdMove=!0,p.startX=p.currentX,p.startY=p.currentY,l.currentTranslate=l.startTranslate,p.diff=a.isHorizontal()?p.currentX-p.startX:p.currentY-p.startY;return}}else{l.currentTranslate=l.startTranslate;return}!h.followFinger||h.cssMode||((h.freeMode&&h.freeMode.enabled&&a.freeMode||h.watchSlidesProgress)&&(a.updateActiveIndex(),a.updateSlidesClasses()),a.params.freeMode&&h.freeMode.enabled&&a.freeMode&&a.freeMode.onTouchMove(),a.updateProgress(l.currentTranslate),a.setTranslate(l.currentTranslate))}function XN(e){const i=this,a=i.touchEventsData,l=a.evCache.findIndex(V=>V.pointerId===e.pointerId);if(l>=0&&a.evCache.splice(l,1),["pointercancel","pointerout","pointerleave"].includes(e.type)&&!(e.type==="pointercancel"&&(i.browser.isSafari||i.browser.isWebView)))return;const{params:h,touches:p,rtlTranslate:y,slidesGrid:s,enabled:b}=i;if(!b||!h.simulateTouch&&e.pointerType==="mouse")return;let L=e;if(L.originalEvent&&(L=L.originalEvent),a.allowTouchCallbacks&&i.emit("touchEnd",L),a.allowTouchCallbacks=!1,!a.isTouched){a.isMoved&&h.grabCursor&&i.setGrabCursor(!1),a.isMoved=!1,a.startMoving=!1;return}h.grabCursor&&a.isMoved&&a.isTouched&&(i.allowSlideNext===!0||i.allowSlidePrev===!0)&&i.setGrabCursor(!1);const ee=Ev(),F=ee-a.touchStartTime;if(i.allowClick){const V=L.path||L.composedPath&&L.composedPath();i.updateClickedSlide(V&&V[0]||L.target),i.emit("tap click",L),F<300&&ee-a.lastClickTime<300&&i.emit("doubleTap doubleClick",L)}if(a.lastClickTime=Ev(),L3(()=>{i.destroyed||(i.allowClick=!0)}),!a.isTouched||!a.isMoved||!i.swipeDirection||p.diff===0||a.currentTranslate===a.startTranslate){a.isTouched=!1,a.isMoved=!1,a.startMoving=!1;return}a.isTouched=!1,a.isMoved=!1,a.startMoving=!1;let Z;if(h.followFinger?Z=y?i.translate:-i.translate:Z=-a.currentTranslate,h.cssMode)return;if(i.params.freeMode&&h.freeMode.enabled){i.freeMode.onTouchEnd({currentPos:Z});return}let ne=0,z=i.slidesSizesGrid[0];for(let V=0;V<s.length;V+=V<h.slidesPerGroupSkip?1:h.slidesPerGroup){const W=V<h.slidesPerGroupSkip-1?1:h.slidesPerGroup;typeof s[V+W]<"u"?Z>=s[V]&&Z<s[V+W]&&(ne=V,z=s[V+W]-s[V]):Z>=s[V]&&(ne=V,z=s[s.length-1]-s[s.length-2])}let G=null,ae=null;h.rewind&&(i.isBeginning?ae=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1:i.isEnd&&(G=0));const B=(Z-s[ne])/z,P=ne<h.slidesPerGroupSkip-1?1:h.slidesPerGroup;if(F>h.longSwipesMs){if(!h.longSwipes){i.slideTo(i.activeIndex);return}i.swipeDirection==="next"&&(B>=h.longSwipesRatio?i.slideTo(h.rewind&&i.isEnd?G:ne+P):i.slideTo(ne)),i.swipeDirection==="prev"&&(B>1-h.longSwipesRatio?i.slideTo(ne+P):ae!==null&&B<0&&Math.abs(B)>h.longSwipesRatio?i.slideTo(ae):i.slideTo(ne))}else{if(!h.shortSwipes){i.slideTo(i.activeIndex);return}i.navigation&&(L.target===i.navigation.nextEl||L.target===i.navigation.prevEl)?L.target===i.navigation.nextEl?i.slideTo(ne+P):i.slideTo(ne):(i.swipeDirection==="next"&&i.slideTo(G!==null?G:ne+P),i.swipeDirection==="prev"&&i.slideTo(ae!==null?ae:ne))}}function SS(){const e=this,{params:i,el:a}=e;if(a&&a.offsetWidth===0)return;i.breakpoints&&e.setBreakpoint();const{allowSlideNext:l,allowSlidePrev:h,snapGrid:p}=e,y=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const s=y&&i.loop;(i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!s?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!y?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=h,e.allowSlideNext=l,e.params.watchOverflow&&p!==e.snapGrid&&e.checkOverflow()}function YN(e){const i=this;i.enabled&&(i.allowClick||(i.params.preventClicks&&e.preventDefault(),i.params.preventClicksPropagation&&i.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function ZN(){const e=this,{wrapperEl:i,rtlTranslate:a,enabled:l}=e;if(!l)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-i.scrollLeft:e.translate=-i.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let h;const p=e.maxTranslate()-e.minTranslate();p===0?h=0:h=(e.translate-e.minTranslate())/p,h!==e.progress&&e.updateProgress(a?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function KN(e){const i=this;Wy(i,e.target),!(i.params.cssMode||i.params.slidesPerView!=="auto"&&!i.params.autoHeight)&&i.update()}let ES=!1;function JN(){}const AC=(e,i)=>{const a=wf(),{params:l,el:h,wrapperEl:p,device:y}=e,s=!!l.nested,b=i==="on"?"addEventListener":"removeEventListener",L=i;h[b]("pointerdown",e.onTouchStart,{passive:!1}),a[b]("pointermove",e.onTouchMove,{passive:!1,capture:s}),a[b]("pointerup",e.onTouchEnd,{passive:!0}),a[b]("pointercancel",e.onTouchEnd,{passive:!0}),a[b]("pointerout",e.onTouchEnd,{passive:!0}),a[b]("pointerleave",e.onTouchEnd,{passive:!0}),(l.preventClicks||l.preventClicksPropagation)&&h[b]("click",e.onClick,!0),l.cssMode&&p[b]("scroll",e.onScroll),l.updateOnWindowResize?e[L](y.ios||y.android?"resize orientationchange observerUpdate":"resize observerUpdate",SS,!0):e[L]("observerUpdate",SS,!0),h[b]("load",e.onLoad,{capture:!0})};function QN(){const e=this,i=wf(),{params:a}=e;e.onTouchStart=HN.bind(e),e.onTouchMove=qN.bind(e),e.onTouchEnd=XN.bind(e),a.cssMode&&(e.onScroll=ZN.bind(e)),e.onClick=YN.bind(e),e.onLoad=KN.bind(e),ES||(i.addEventListener("touchstart",JN),ES=!0),AC(e,"on")}function ej(){AC(this,"off")}const tj={attachEvents:QN,detachEvents:ej},CS=(e,i)=>e.grid&&i.grid&&i.grid.rows>1;function ij(){const e=this,{realIndex:i,initialized:a,params:l,el:h}=e,p=l.breakpoints;if(!p||p&&Object.keys(p).length===0)return;const y=e.getBreakpoint(p,e.params.breakpointsBase,e.el);if(!y||e.currentBreakpoint===y)return;const b=(y in p?p[y]:void 0)||e.originalParams,L=CS(e,l),ee=CS(e,b),F=l.enabled;L&&!ee?(h.classList.remove(`${l.containerModifierClass}grid`,`${l.containerModifierClass}grid-column`),e.emitContainerClasses()):!L&&ee&&(h.classList.add(`${l.containerModifierClass}grid`),(b.grid.fill&&b.grid.fill==="column"||!b.grid.fill&&l.grid.fill==="column")&&h.classList.add(`${l.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(G=>{const ae=l[G]&&l[G].enabled,B=b[G]&&b[G].enabled;ae&&!B&&e[G].disable(),!ae&&B&&e[G].enable()});const Z=b.direction&&b.direction!==l.direction,ne=l.loop&&(b.slidesPerView!==l.slidesPerView||Z);Z&&a&&e.changeDirection(),Gl(e.params,b);const z=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),F&&!z?e.disable():!F&&z&&e.enable(),e.currentBreakpoint=y,e.emit("_beforeBreakpoint",b),ne&&a&&(e.loopDestroy(),e.loopCreate(i),e.updateSlides()),e.emit("breakpoint",b)}function nj(e,i="window",a){if(!e||i==="container"&&!a)return;let l=!1;const h=Zl(),p=i==="window"?h.innerHeight:a.clientHeight,y=Object.keys(e).map(s=>{if(typeof s=="string"&&s.indexOf("@")===0){const b=parseFloat(s.substr(1));return{value:p*b,point:s}}return{value:s,point:s}});y.sort((s,b)=>parseInt(s.value,10)-parseInt(b.value,10));for(let s=0;s<y.length;s+=1){const{point:b,value:L}=y[s];i==="window"?h.matchMedia(`(min-width: ${L}px)`).matches&&(l=b):L<=a.clientWidth&&(l=b)}return l||"max"}const rj={setBreakpoint:ij,getBreakpoint:nj};function sj(e,i){const a=[];return e.forEach(l=>{typeof l=="object"?Object.keys(l).forEach(h=>{l[h]&&a.push(i+h)}):typeof l=="string"&&a.push(i+l)}),a}function oj(){const e=this,{classNames:i,params:a,rtl:l,el:h,device:p}=e,y=sj(["initialized",a.direction,{"free-mode":e.params.freeMode&&a.freeMode.enabled},{autoheight:a.autoHeight},{rtl:l},{grid:a.grid&&a.grid.rows>1},{"grid-column":a.grid&&a.grid.rows>1&&a.grid.fill==="column"},{android:p.android},{ios:p.ios},{"css-mode":a.cssMode},{centered:a.cssMode&&a.centeredSlides},{"watch-progress":a.watchSlidesProgress}],a.containerModifierClass);i.push(...y),h.classList.add(...i),e.emitContainerClasses()}function aj(){const e=this,{el:i,classNames:a}=e;i.classList.remove(...a),e.emitContainerClasses()}const lj={addClasses:oj,removeClasses:aj};function cj(){const e=this,{isLocked:i,params:a}=e,{slidesOffsetBefore:l}=a;if(l){const h=e.slides.length-1,p=e.slidesGrid[h]+e.slidesSizesGrid[h]+l*2;e.isLocked=e.size>p}else e.isLocked=e.snapGrid.length===1;a.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),a.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),i&&i!==e.isLocked&&(e.isEnd=!1),i!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}const hj={checkOverflow:cj},MS={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function dj(e,i){return function(l={}){const h=Object.keys(l)[0],p=l[h];if(typeof p!="object"||p===null){Gl(i,l);return}if(["navigation","pagination","scrollbar"].indexOf(h)>=0&&e[h]===!0&&(e[h]={auto:!0}),!(h in e&&"enabled"in p)){Gl(i,l);return}e[h]===!0&&(e[h]={enabled:!0}),typeof e[h]=="object"&&!("enabled"in e[h])&&(e[h].enabled=!0),e[h]||(e[h]={enabled:!1}),Gl(i,l)}}const Vb={eventsEmitter:lN,update:vN,translate:EN,transition:kN,slide:BN,loop:UN,grabCursor:WN,events:tj,breakpoints:rj,checkOverflow:hj,classes:lj},Gb={};let l1=class Bd{constructor(...i){let a,l;i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?l=i[0]:[a,l]=i,l||(l={}),l=Gl({},l),a&&!l.el&&(l.el=a);const h=wf();if(l.el&&typeof l.el=="string"&&h.querySelectorAll(l.el).length>1){const b=[];return h.querySelectorAll(l.el).forEach(L=>{const ee=Gl({},l,{el:L});b.push(new Bd(ee))}),b}const p=this;p.__swiper__=!0,p.support=CC(),p.device=nN({userAgent:l.userAgent}),p.browser=sN(),p.eventsListeners={},p.eventsAnyListeners=[],p.modules=[...p.__modules__],l.modules&&Array.isArray(l.modules)&&p.modules.push(...l.modules);const y={};p.modules.forEach(b=>{b({params:l,swiper:p,extendParams:dj(l,y),on:p.on.bind(p),once:p.once.bind(p),off:p.off.bind(p),emit:p.emit.bind(p)})});const s=Gl({},MS,y);return p.params=Gl({},s,Gb,l),p.originalParams=Gl({},p.params),p.passedParams=Gl({},l),p.params&&p.params.on&&Object.keys(p.params.on).forEach(b=>{p.on(b,p.params.on[b])}),p.params&&p.params.onAny&&p.onAny(p.params.onAny),Object.assign(p,{enabled:p.params.enabled,el:a,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return p.params.direction==="horizontal"},isVertical(){return p.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:p.params.allowSlideNext,allowSlidePrev:p.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:p.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:p.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),p.emit("_swiper"),p.params.init&&p.init(),p}getSlideIndex(i){const{slidesEl:a,params:l}=this,h=qh(a,`.${l.slideClass}, swiper-slide`),p=D3(h[0]);return D3(i)-p}getSlideIndexByData(i){return this.getSlideIndex(this.slides.filter(a=>a.getAttribute("data-swiper-slide-index")*1===i)[0])}recalcSlides(){const i=this,{slidesEl:a,params:l}=i;i.slides=qh(a,`.${l.slideClass}, swiper-slide`)}enable(){const i=this;i.enabled||(i.enabled=!0,i.params.grabCursor&&i.setGrabCursor(),i.emit("enable"))}disable(){const i=this;i.enabled&&(i.enabled=!1,i.params.grabCursor&&i.unsetGrabCursor(),i.emit("disable"))}setProgress(i,a){const l=this;i=Math.min(Math.max(i,0),1);const h=l.minTranslate(),y=(l.maxTranslate()-h)*i+h;l.translateTo(y,typeof a>"u"?0:a),l.updateActiveIndex(),l.updateSlidesClasses()}emitContainerClasses(){const i=this;if(!i.params._emitClasses||!i.el)return;const a=i.el.className.split(" ").filter(l=>l.indexOf("swiper")===0||l.indexOf(i.params.containerModifierClass)===0);i.emit("_containerClasses",a.join(" "))}getSlideClasses(i){const a=this;return a.destroyed?"":i.className.split(" ").filter(l=>l.indexOf("swiper-slide")===0||l.indexOf(a.params.slideClass)===0).join(" ")}emitSlidesClasses(){const i=this;if(!i.params._emitClasses||!i.el)return;const a=[];i.slides.forEach(l=>{const h=i.getSlideClasses(l);a.push({slideEl:l,classNames:h}),i.emit("_slideClass",l,h)}),i.emit("_slideClasses",a)}slidesPerViewDynamic(i="current",a=!1){const l=this,{params:h,slides:p,slidesGrid:y,slidesSizesGrid:s,size:b,activeIndex:L}=l;let ee=1;if(h.centeredSlides){let F=p[L].swiperSlideSize,Z;for(let ne=L+1;ne<p.length;ne+=1)p[ne]&&!Z&&(F+=p[ne].swiperSlideSize,ee+=1,F>b&&(Z=!0));for(let ne=L-1;ne>=0;ne-=1)p[ne]&&!Z&&(F+=p[ne].swiperSlideSize,ee+=1,F>b&&(Z=!0))}else if(i==="current")for(let F=L+1;F<p.length;F+=1)(a?y[F]+s[F]-y[L]<b:y[F]-y[L]<b)&&(ee+=1);else for(let F=L-1;F>=0;F-=1)y[L]-y[F]<b&&(ee+=1);return ee}update(){const i=this;if(!i||i.destroyed)return;const{snapGrid:a,params:l}=i;l.breakpoints&&i.setBreakpoint(),[...i.el.querySelectorAll('[loading="lazy"]')].forEach(y=>{y.complete&&Wy(i,y)}),i.updateSize(),i.updateSlides(),i.updateProgress(),i.updateSlidesClasses();function h(){const y=i.rtlTranslate?i.translate*-1:i.translate,s=Math.min(Math.max(y,i.maxTranslate()),i.minTranslate());i.setTranslate(s),i.updateActiveIndex(),i.updateSlidesClasses()}let p;if(i.params.freeMode&&i.params.freeMode.enabled)h(),i.params.autoHeight&&i.updateAutoHeight();else{if((i.params.slidesPerView==="auto"||i.params.slidesPerView>1)&&i.isEnd&&!i.params.centeredSlides){const y=i.virtual&&i.params.virtual.enabled?i.virtual.slides:i.slides;p=i.slideTo(y.length-1,0,!1,!0)}else p=i.slideTo(i.activeIndex,0,!1,!0);p||h()}l.watchOverflow&&a!==i.snapGrid&&i.checkOverflow(),i.emit("update")}changeDirection(i,a=!0){const l=this,h=l.params.direction;return i||(i=h==="horizontal"?"vertical":"horizontal"),i===h||i!=="horizontal"&&i!=="vertical"||(l.el.classList.remove(`${l.params.containerModifierClass}${h}`),l.el.classList.add(`${l.params.containerModifierClass}${i}`),l.emitContainerClasses(),l.params.direction=i,l.slides.forEach(p=>{i==="vertical"?p.style.width="":p.style.height=""}),l.emit("changeDirection"),a&&l.update()),l}changeLanguageDirection(i){const a=this;a.rtl&&i==="rtl"||!a.rtl&&i==="ltr"||(a.rtl=i==="rtl",a.rtlTranslate=a.params.direction==="horizontal"&&a.rtl,a.rtl?(a.el.classList.add(`${a.params.containerModifierClass}rtl`),a.el.dir="rtl"):(a.el.classList.remove(`${a.params.containerModifierClass}rtl`),a.el.dir="ltr"),a.update())}mount(i){const a=this;if(a.mounted)return!0;let l=i||a.params.el;if(typeof l=="string"&&(l=document.querySelector(l)),!l)return!1;l.swiper=a,l.shadowEl&&(a.isElement=!0);const h=()=>`.${(a.params.wrapperClass||"").trim().split(" ").join(".")}`;let y=(()=>l&&l.shadowRoot&&l.shadowRoot.querySelector?l.shadowRoot.querySelector(h()):qh(l,h())[0])();return!y&&a.params.createElements&&(y=A5("div",a.params.wrapperClass),l.append(y),qh(l,`.${a.params.slideClass}`).forEach(s=>{y.append(s)})),Object.assign(a,{el:l,wrapperEl:y,slidesEl:a.isElement?l:y,mounted:!0,rtl:l.dir.toLowerCase()==="rtl"||Fu(l,"direction")==="rtl",rtlTranslate:a.params.direction==="horizontal"&&(l.dir.toLowerCase()==="rtl"||Fu(l,"direction")==="rtl"),wrongRTL:Fu(y,"display")==="-webkit-box"}),!0}init(i){const a=this;return a.initialized||a.mount(i)===!1||(a.emit("beforeInit"),a.params.breakpoints&&a.setBreakpoint(),a.addClasses(),a.updateSize(),a.updateSlides(),a.params.watchOverflow&&a.checkOverflow(),a.params.grabCursor&&a.enabled&&a.setGrabCursor(),a.params.loop&&a.virtual&&a.params.virtual.enabled?a.slideTo(a.params.initialSlide+a.virtual.slidesBefore,0,a.params.runCallbacksOnInit,!1,!0):a.slideTo(a.params.initialSlide,0,a.params.runCallbacksOnInit,!1,!0),a.params.loop&&a.loopCreate(),a.attachEvents(),[...a.el.querySelectorAll('[loading="lazy"]')].forEach(h=>{h.complete?Wy(a,h):h.addEventListener("load",p=>{Wy(a,p.target)})}),O3(a),a.initialized=!0,O3(a),a.emit("init"),a.emit("afterInit")),a}destroy(i=!0,a=!0){const l=this,{params:h,el:p,wrapperEl:y,slides:s}=l;return typeof l.params>"u"||l.destroyed||(l.emit("beforeDestroy"),l.initialized=!1,l.detachEvents(),h.loop&&l.loopDestroy(),a&&(l.removeClasses(),p.removeAttribute("style"),y.removeAttribute("style"),s&&s.length&&s.forEach(b=>{b.classList.remove(h.slideVisibleClass,h.slideActiveClass,h.slideNextClass,h.slidePrevClass),b.removeAttribute("style"),b.removeAttribute("data-swiper-slide-index")})),l.emit("destroy"),Object.keys(l.eventsListeners).forEach(b=>{l.off(b)}),i!==!1&&(l.el.swiper=null,XF(l)),l.destroyed=!0),null}static extendDefaults(i){Gl(Gb,i)}static get extendedDefaults(){return Gb}static get defaults(){return MS}static installModule(i){Bd.prototype.__modules__||(Bd.prototype.__modules__=[]);const a=Bd.prototype.__modules__;typeof i=="function"&&a.indexOf(i)<0&&a.push(i)}static use(i){return Array.isArray(i)?(i.forEach(a=>Bd.installModule(a)),Bd):(Bd.installModule(i),Bd)}};Object.keys(Vb).forEach(e=>{Object.keys(Vb[e]).forEach(i=>{l1.prototype[i]=Vb[e][i]})});l1.use([oN,aN]);function uj(e,i,a,l){return e.params.createElements&&Object.keys(l).forEach(h=>{if(!a[h]&&a.auto===!0){let p=qh(e.el,`.${l[h]}`)[0];p||(p=A5("div",l[h]),p.className=l[h],e.el.append(p)),a[h]=p,i[h]=p}}),a}function pj({swiper:e,extendParams:i,on:a,emit:l}){i({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const h=z=>(Array.isArray(z)||(z=[z].filter(G=>!!G)),z);function p(z){let G;return z&&typeof z=="string"&&e.isElement&&(G=e.el.shadowRoot.querySelector(z),G)?G:(z&&(typeof z=="string"&&(G=[...document.querySelectorAll(z)]),e.params.uniqueNavElements&&typeof z=="string"&&G.length>1&&e.el.querySelectorAll(z).length===1&&(G=e.el.querySelector(z))),z&&!G?z:G)}function y(z,G){const ae=e.params.navigation;z=h(z),z.forEach(B=>{B&&(B.classList[G?"add":"remove"](...ae.disabledClass.split(" ")),B.tagName==="BUTTON"&&(B.disabled=G),e.params.watchOverflow&&e.enabled&&B.classList[e.isLocked?"add":"remove"](ae.lockClass))})}function s(){const{nextEl:z,prevEl:G}=e.navigation;if(e.params.loop){y(G,!1),y(z,!1);return}y(G,e.isBeginning&&!e.params.rewind),y(z,e.isEnd&&!e.params.rewind)}function b(z){z.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),l("navigationPrev"))}function L(z){z.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),l("navigationNext"))}function ee(){const z=e.params.navigation;if(e.params.navigation=uj(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(z.nextEl||z.prevEl))return;let G=p(z.nextEl),ae=p(z.prevEl);Object.assign(e.navigation,{nextEl:G,prevEl:ae}),G=h(G),ae=h(ae);const B=(P,V)=>{P&&P.addEventListener("click",V==="next"?L:b),!e.enabled&&P&&P.classList.add(...z.lockClass.split(" "))};G.forEach(P=>B(P,"next")),ae.forEach(P=>B(P,"prev"))}function F(){let{nextEl:z,prevEl:G}=e.navigation;z=h(z),G=h(G);const ae=(B,P)=>{B.removeEventListener("click",P==="next"?L:b),B.classList.remove(...e.params.navigation.disabledClass.split(" "))};z.forEach(B=>ae(B,"next")),G.forEach(B=>ae(B,"prev"))}a("init",()=>{e.params.navigation.enabled===!1?ne():(ee(),s())}),a("toEdge fromEdge lock unlock",()=>{s()}),a("destroy",()=>{F()}),a("enable disable",()=>{let{nextEl:z,prevEl:G}=e.navigation;z=h(z),G=h(G),[...z,...G].filter(ae=>!!ae).forEach(ae=>ae.classList[e.enabled?"remove":"add"](e.params.navigation.lockClass))}),a("click",(z,G)=>{let{nextEl:ae,prevEl:B}=e.navigation;ae=h(ae),B=h(B);const P=G.target;if(e.params.navigation.hideOnClick&&!B.includes(P)&&!ae.includes(P)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===P||e.pagination.el.contains(P)))return;let V;ae.length?V=ae[0].classList.contains(e.params.navigation.hiddenClass):B.length&&(V=B[0].classList.contains(e.params.navigation.hiddenClass)),l(V===!0?"navigationShow":"navigationHide"),[...ae,...B].filter(W=>!!W).forEach(W=>W.classList.toggle(e.params.navigation.hiddenClass))}});const Z=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),ee(),s()},ne=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),F()};Object.assign(e.navigation,{enable:Z,disable:ne,update:s,init:ee,destroy:F})}function Wb(e=""){return`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function fj({swiper:e,extendParams:i,on:a}){i({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),e.a11y={clicked:!1};let l=null;function h(J){const C=l;C.length!==0&&(C.innerHTML="",C.innerHTML=J)}const p=J=>(Array.isArray(J)||(J=[J].filter(C=>!!C)),J);function y(J=16){const C=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(J).replace(/x/g,C)}function s(J){J=p(J),J.forEach(C=>{C.setAttribute("tabIndex","0")})}function b(J){J=p(J),J.forEach(C=>{C.setAttribute("tabIndex","-1")})}function L(J,C){J=p(J),J.forEach(A=>{A.setAttribute("role",C)})}function ee(J,C){J=p(J),J.forEach(A=>{A.setAttribute("aria-roledescription",C)})}function F(J,C){J=p(J),J.forEach(A=>{A.setAttribute("aria-controls",C)})}function Z(J,C){J=p(J),J.forEach(A=>{A.setAttribute("aria-label",C)})}function ne(J,C){J=p(J),J.forEach(A=>{A.setAttribute("id",C)})}function z(J,C){J=p(J),J.forEach(A=>{A.setAttribute("aria-live",C)})}function G(J){J=p(J),J.forEach(C=>{C.setAttribute("aria-disabled",!0)})}function ae(J){J=p(J),J.forEach(C=>{C.setAttribute("aria-disabled",!1)})}function B(J){if(J.keyCode!==13&&J.keyCode!==32)return;const C=e.params.a11y,A=J.target;e.pagination&&e.pagination.el&&(A===e.pagination.el||e.pagination.el.contains(J.target))&&!J.target.matches(Wb(e.params.pagination.bulletClass))||(e.navigation&&e.navigation.nextEl&&A===e.navigation.nextEl&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?h(C.lastSlideMessage):h(C.nextSlideMessage)),e.navigation&&e.navigation.prevEl&&A===e.navigation.prevEl&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?h(C.firstSlideMessage):h(C.prevSlideMessage)),e.pagination&&A.matches(Wb(e.params.pagination.bulletClass))&&A.click())}function P(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:J,prevEl:C}=e.navigation;C&&(e.isBeginning?(G(C),b(C)):(ae(C),s(C))),J&&(e.isEnd?(G(J),b(J)):(ae(J),s(J)))}function V(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function W(){return V()&&e.params.pagination.clickable}function R(){const J=e.params.a11y;V()&&e.pagination.bullets.forEach(C=>{e.params.pagination.clickable&&(s(C),e.params.pagination.renderBullet||(L(C,"button"),Z(C,J.paginationBulletMessage.replace(/\{\{index\}\}/,D3(C)+1)))),C.matches(Wb(e.params.pagination.bulletActiveClass))?C.setAttribute("aria-current","true"):C.removeAttribute("aria-current")})}const se=(J,C,A)=>{s(J),J.tagName!=="BUTTON"&&(L(J,"button"),J.addEventListener("keydown",B)),Z(J,A),F(J,C)},S=()=>{e.a11y.clicked=!0},X=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},I=J=>{if(e.a11y.clicked)return;const C=J.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!C||!e.slides.includes(C))return;const A=e.slides.indexOf(C)===e.activeIndex,O=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(C);A||O||J.sourceCapabilities&&J.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,e.slideTo(e.slides.indexOf(C),0))},$=()=>{const J=e.params.a11y;J.itemRoleDescriptionMessage&&ee(e.slides,J.itemRoleDescriptionMessage),J.slideRole&&L(e.slides,J.slideRole);const C=e.slides.length;J.slideLabelMessage&&e.slides.forEach((A,O)=>{const Q=e.params.loop?parseInt(A.getAttribute("data-swiper-slide-index"),10):O,fe=J.slideLabelMessage.replace(/\{\{index\}\}/,Q+1).replace(/\{\{slidesLength\}\}/,C);Z(A,fe)})},K=()=>{const J=e.params.a11y;e.isElement?e.el.shadowEl.append(l):e.el.append(l);const C=e.el;J.containerRoleDescriptionMessage&&ee(C,J.containerRoleDescriptionMessage),J.containerMessage&&Z(C,J.containerMessage);const A=e.wrapperEl,O=J.id||A.getAttribute("id")||`swiper-wrapper-${y(16)}`,Q=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";ne(A,O),z(A,Q),$();let{nextEl:fe,prevEl:Te}=e.navigation?e.navigation:{};fe=p(fe),Te=p(Te),fe&&fe.forEach(oe=>se(oe,O,J.nextSlideMessage)),Te&&Te.forEach(oe=>se(oe,O,J.prevSlideMessage)),W()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(Me=>{Me.addEventListener("keydown",B)}),e.el.addEventListener("focus",I,!0),e.el.addEventListener("pointerdown",S,!0),e.el.addEventListener("pointerup",X,!0)};function q(){l&&l.remove();let{nextEl:J,prevEl:C}=e.navigation?e.navigation:{};J=p(J),C=p(C),J&&J.forEach(A=>A.removeEventListener("keydown",B)),C&&C.forEach(A=>A.removeEventListener("keydown",B)),W()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(O=>{O.removeEventListener("keydown",B)}),e.el.removeEventListener("focus",I,!0),e.el.removeEventListener("pointerdown",S,!0),e.el.removeEventListener("pointerup",X,!0)}a("beforeInit",()=>{l=A5("span",e.params.a11y.notificationClass),l.setAttribute("aria-live","assertive"),l.setAttribute("aria-atomic","true")}),a("afterInit",()=>{e.params.a11y.enabled&&K()}),a("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&$()}),a("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&P()}),a("paginationUpdate",()=>{e.params.a11y.enabled&&R()}),a("destroy",()=>{e.params.a11y.enabled&&q()})}function mf(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function Nu(e,i){const a=["__proto__","constructor","prototype"];Object.keys(i).filter(l=>a.indexOf(l)<0).forEach(l=>{typeof e[l]>"u"?e[l]=i[l]:mf(i[l])&&mf(e[l])&&Object.keys(i[l]).length>0?i[l].__swiper__?e[l]=i[l]:Nu(e[l],i[l]):e[l]=i[l]})}function kC(e={}){return e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function PC(e={}){return e.pagination&&typeof e.pagination.el>"u"}function IC(e={}){return e.scrollbar&&typeof e.scrollbar.el>"u"}function LC(e=""){const i=e.split(" ").map(l=>l.trim()).filter(l=>!!l),a=[];return i.forEach(l=>{a.indexOf(l)<0&&a.push(l)}),a.join(" ")}function mj(e=""){return e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}const DC=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function AS(e={},i=!0){const a={on:{}},l={},h={};Nu(a,l1.defaults),Nu(a,l1.extendedDefaults),a._emitClasses=!0,a.init=!1;const p={},y=DC.map(b=>b.replace(/_/,"")),s=Object.assign({},e);return Object.keys(s).forEach(b=>{typeof e[b]>"u"||(y.indexOf(b)>=0?mf(e[b])?(a[b]={},h[b]={},Nu(a[b],e[b]),Nu(h[b],e[b])):(a[b]=e[b],h[b]=e[b]):b.search(/on[A-Z]/)===0&&typeof e[b]=="function"?i?l[`${b[2].toLowerCase()}${b.substr(3)}`]=e[b]:a.on[`${b[2].toLowerCase()}${b.substr(3)}`]=e[b]:p[b]=e[b])}),["navigation","pagination","scrollbar"].forEach(b=>{a[b]===!0&&(a[b]={}),a[b]===!1&&delete a[b]}),{params:a,passedParams:h,rest:p,events:l}}function gj({el:e,nextEl:i,prevEl:a,paginationEl:l,scrollbarEl:h,swiper:p},y){kC(y)&&i&&a&&(p.params.navigation.nextEl=i,p.originalParams.navigation.nextEl=i,p.params.navigation.prevEl=a,p.originalParams.navigation.prevEl=a),PC(y)&&l&&(p.params.pagination.el=l,p.originalParams.pagination.el=l),IC(y)&&h&&(p.params.scrollbar.el=h,p.originalParams.scrollbar.el=h),p.init(e)}function _j(e,i,a,l,h){const p=[];if(!i)return p;const y=b=>{p.indexOf(b)<0&&p.push(b)};if(a&&l){const b=l.map(h),L=a.map(h);b.join("")!==L.join("")&&y("children"),l.length!==a.length&&y("children")}return DC.filter(b=>b[0]==="_").map(b=>b.replace(/_/,"")).forEach(b=>{if(b in e&&b in i)if(mf(e[b])&&mf(i[b])){const L=Object.keys(e[b]),ee=Object.keys(i[b]);L.length!==ee.length?y(b):(L.forEach(F=>{e[b][F]!==i[b][F]&&y(b)}),ee.forEach(F=>{e[b][F]!==i[b][F]&&y(b)}))}else e[b]!==i[b]&&y(b)}),p}function $b(e,i,a){e===void 0&&(e={});const l=[],h={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},p=(y,s)=>{Array.isArray(y)&&y.forEach(b=>{const L=typeof b.type=="symbol";s==="default"&&(s="container-end"),L&&b.children?p(b.children,s):b.type&&(b.type.name==="SwiperSlide"||b.type.name==="AsyncComponentWrapper")?l.push(b):h[s]&&h[s].push(b)})};return Object.keys(e).forEach(y=>{if(typeof e[y]!="function")return;const s=e[y]();p(s,y)}),a.value=i.value,i.value=l,{slides:l,slots:h}}function yj({swiper:e,slides:i,passedParams:a,changedParams:l,nextEl:h,prevEl:p,scrollbarEl:y,paginationEl:s}){const b=l.filter(X=>X!=="children"&&X!=="direction"&&X!=="wrapperClass"),{params:L,pagination:ee,navigation:F,scrollbar:Z,virtual:ne,thumbs:z}=e;let G,ae,B,P,V,W,R,se;l.includes("thumbs")&&a.thumbs&&a.thumbs.swiper&&L.thumbs&&!L.thumbs.swiper&&(G=!0),l.includes("controller")&&a.controller&&a.controller.control&&L.controller&&!L.controller.control&&(ae=!0),l.includes("pagination")&&a.pagination&&(a.pagination.el||s)&&(L.pagination||L.pagination===!1)&&ee&&!ee.el&&(B=!0),l.includes("scrollbar")&&a.scrollbar&&(a.scrollbar.el||y)&&(L.scrollbar||L.scrollbar===!1)&&Z&&!Z.el&&(P=!0),l.includes("navigation")&&a.navigation&&(a.navigation.prevEl||p)&&(a.navigation.nextEl||h)&&(L.navigation||L.navigation===!1)&&F&&!F.prevEl&&!F.nextEl&&(V=!0);const S=X=>{e[X]&&(e[X].destroy(),X==="navigation"?(e.isElement&&(e[X].prevEl.remove(),e[X].nextEl.remove()),L[X].prevEl=void 0,L[X].nextEl=void 0,e[X].prevEl=void 0,e[X].nextEl=void 0):(e.isElement&&e[X].el.remove(),L[X].el=void 0,e[X].el=void 0))};l.includes("loop")&&e.isElement&&(L.loop&&!a.loop?W=!0:!L.loop&&a.loop?R=!0:se=!0),b.forEach(X=>{if(mf(L[X])&&mf(a[X]))Nu(L[X],a[X]),(X==="navigation"||X==="pagination"||X==="scrollbar")&&"enabled"in a[X]&&!a[X].enabled&&S(X);else{const I=a[X];(I===!0||I===!1)&&(X==="navigation"||X==="pagination"||X==="scrollbar")?I===!1&&S(X):L[X]=a[X]}}),b.includes("controller")&&!ae&&e.controller&&e.controller.control&&L.controller&&L.controller.control&&(e.controller.control=L.controller.control),l.includes("children")&&i&&ne&&L.virtual.enabled&&(ne.slides=i,ne.update(!0)),l.includes("children")&&i&&L.loop&&(se=!0),G&&z.init()&&z.update(!0),ae&&(e.controller.control=L.controller.control),B&&(e.isElement&&(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-pagination"),e.el.shadowEl.appendChild(s)),s&&(L.pagination.el=s),ee.init(),ee.render(),ee.update()),P&&(e.isElement&&(!y||typeof y=="string")&&(y=document.createElement("div"),y.classList.add("swiper-scrollbar"),e.el.shadowEl.appendChild(y)),y&&(L.scrollbar.el=y),Z.init(),Z.updateSize(),Z.setTranslate()),V&&(e.isElement&&((!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-button-next"),e.el.shadowEl.appendChild(h)),(!p||typeof p=="string")&&(p=document.createElement("div"),p.classList.add("swiper-button-prev"),e.el.shadowEl.appendChild(p))),h&&(L.navigation.nextEl=h),p&&(L.navigation.prevEl=p),F.init(),F.update()),l.includes("allowSlideNext")&&(e.allowSlideNext=a.allowSlideNext),l.includes("allowSlidePrev")&&(e.allowSlidePrev=a.allowSlidePrev),l.includes("direction")&&e.changeDirection(a.direction,!1),(W||se)&&e.loopDestroy(),(R||se)&&e.loopCreate(),e.update()}function vj(e,i,a){if(!a)return null;const l=ee=>{let F=ee;return ee<0?F=i.length+ee:F>=i.length&&(F=F-i.length),F},h=e.value.isHorizontal()?{[e.value.rtlTranslate?"right":"left"]:`${a.offset}px`}:{top:`${a.offset}px`},{from:p,to:y}=a,s=e.value.params.loop?-i.length:0,b=e.value.params.loop?i.length*2:i.length,L=[];for(let ee=s;ee<b;ee+=1)ee>=p&&ee<=y&&L.push(i[l(ee)]);return L.map(ee=>(ee.props||(ee.props={}),ee.props.style||(ee.props.style={}),ee.props.swiperRef=e,ee.props.style=h,hl(ee.type,{...ee.props},ee.children)))}const xj=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())},bj={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(e,i){let{slots:a,emit:l}=i;const{tag:h,wrapperTag:p}=e,y=ms("swiper"),s=ms(null),b=ms(!1),L=ms(!1),ee=ms(null),F=ms(null),Z=ms(null),ne={value:[]},z={value:[]},G=ms(null),ae=ms(null),B=ms(null),P=ms(null),{params:V,passedParams:W}=AS(e,!1);$b(a,ne,z),Z.value=W,z.value=ne.value;const R=()=>{$b(a,ne,z),b.value=!0};V.onAny=function(X){for(var I=arguments.length,$=new Array(I>1?I-1:0),K=1;K<I;K++)$[K-1]=arguments[K];l(X,...$)},Object.assign(V.on,{_beforeBreakpoint:R,_containerClasses(X,I){y.value=I}});const se={...V};if(delete se.wrapperClass,F.value=new l1(se),F.value.virtual&&F.value.params.virtual.enabled){F.value.virtual.slides=ne.value;const X={cache:!1,slides:ne.value,renderExternal:I=>{s.value=I},renderExternalUpdate:!1};Nu(F.value.params.virtual,X),Nu(F.value.originalParams.virtual,X)}yf(()=>{!L.value&&F.value&&(F.value.emitSlidesClasses(),L.value=!0);const{passedParams:X}=AS(e,!1),I=_j(X,Z.value,ne.value,z.value,$=>$.props&&$.props.key);Z.value=X,(I.length||b.value)&&F.value&&!F.value.destroyed&&yj({swiper:F.value,slides:ne.value,passedParams:X,changedParams:I,nextEl:G.value,prevEl:ae.value,scrollbarEl:P.value,paginationEl:B.value}),b.value=!1}),mm("swiper",F),fl(s,()=>{fm(()=>{xj(F.value)})}),Kh(()=>{ee.value&&(gj({el:ee.value,nextEl:G.value,prevEl:ae.value,paginationEl:B.value,scrollbarEl:P.value,swiper:F.value},V),l("swiper",F.value))}),vf(()=>{F.value&&!F.value.destroyed&&F.value.destroy(!0,!1)});function S(X){return V.virtual?vj(F,X,s.value):(X.forEach((I,$)=>{I.props||(I.props={}),I.props.swiperRef=F,I.props.swiperSlideIndex=$}),X)}return()=>{const{slides:X,slots:I}=$b(a,ne,z);return hl(h,{ref:ee,class:LC(y.value)},[I["container-start"],hl(p,{class:mj(V.wrapperClass)},[I["wrapper-start"],S(X),I["wrapper-end"]]),kC(e)&&[hl("div",{ref:ae,class:"swiper-button-prev"}),hl("div",{ref:G,class:"swiper-button-next"})],IC(e)&&hl("div",{ref:P,class:"swiper-scrollbar"}),PC(e)&&hl("div",{ref:B,class:"swiper-pagination"}),I["container-end"]])}}},wj={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(e,i){let{slots:a}=i,l=!1;const{swiperRef:h}=e,p=ms(null),y=ms("swiper-slide"),s=ms(!1);function b(F,Z,ne){Z===p.value&&(y.value=ne)}Kh(()=>{!h||!h.value||(h.value.on("_slideClass",b),l=!0)}),Jv(()=>{l||!h||!h.value||(h.value.on("_slideClass",b),l=!0)}),yf(()=>{!p.value||!h||!h.value||(typeof e.swiperSlideIndex<"u"&&(p.value.swiperSlideIndex=e.swiperSlideIndex),h.value.destroyed&&y.value!=="swiper-slide"&&(y.value="swiper-slide"))}),vf(()=>{!h||!h.value||h.value.off("_slideClass",b)});const L=_m(()=>({isActive:y.value.indexOf("swiper-slide-active")>=0,isVisible:y.value.indexOf("swiper-slide-visible")>=0,isPrev:y.value.indexOf("swiper-slide-prev")>=0,isNext:y.value.indexOf("swiper-slide-next")>=0}));mm("swiperSlide",L);const ee=()=>{s.value=!0};return()=>hl(e.tag,{class:LC(`${y.value}`),ref:p,"data-swiper-slide-index":typeof e.virtualIndex>"u"&&h&&h.value&&h.value.params.loop?e.swiperSlideIndex:e.virtualIndex,onLoadCapture:ee},e.zoom?hl("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof e.zoom=="number"?e.zoom:void 0},[a.default&&a.default(L.value),e.lazy&&!s.value&&hl("div",{class:"swiper-lazy-preloader"})]):[a.default&&a.default(L.value),e.lazy&&!s.value&&hl("div",{class:"swiper-lazy-preloader"})])}},Tj={components:{Swiper:bj,SwiperSlide:wj},setup(){return{onSwiper:a=>{console.log(a)},onSlideChange:()=>{console.log("slide change")},modules:[pj,fj]}}},Sj=ii("div",{class:"swiper-button-prev"},[ii("img",{src:"img/icons/chevron-prev.png",alt:""})],-1),Ej=ii("a",{href:"#",class:"submenu-item active"},"INFO",-1),Cj=ii("a",{href:"#",class:"submenu-item"},"TREND",-1),Mj=ii("a",{href:"#",class:"submenu-item"},"NOTES",-1),Aj=ii("a",{href:"#",class:"submenu-item"},"DOCUMENTS",-1),kj=ii("a",{href:"#",class:"submenu-item"},"REPORTS",-1),Pj=ii("a",{href:"#",class:"submenu-item"},"DIAGNOSTICS",-1),Ij=ii("a",{href:"#",class:"submenu-item"},"NOTIFICATIONS",-1),Lj=ii("a",{href:"#",class:"submenu-item"},"EMISION REPORT",-1),Dj=ii("a",{href:"#",class:"submenu-item"},"CHARTER",-1),Oj=ii("div",{class:"swiper-button-next"},[ii("img",{src:"img/icons/chevron-next.png",alt:""})],-1);function Rj(e,i,a,l,h,p){const y=za("swiper-slide"),s=za("swiper");return Dr(),g1(s,{"slides-per-view":e.auto,"space-between":0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},onSwiper:l.onSwiper,onSlideChange:l.onSlideChange},{default:Ko(()=>[Sj,vn(y,null,{default:Ko(()=>[Ej]),_:1}),vn(y,null,{default:Ko(()=>[Cj]),_:1}),vn(y,null,{default:Ko(()=>[Mj]),_:1}),vn(y,null,{default:Ko(()=>[Aj]),_:1}),vn(y,null,{default:Ko(()=>[kj]),_:1}),vn(y,null,{default:Ko(()=>[Pj]),_:1}),vn(y,null,{default:Ko(()=>[Ij]),_:1}),vn(y,null,{default:Ko(()=>[Lj]),_:1}),vn(y,null,{default:Ko(()=>[Dj]),_:1}),Oj]),_:1},8,["slides-per-view","navigation","onSwiper","onSlideChange"])}const zj=Jd(Tj,[["render",Rj]]);var OC={exports:{}},Hb={exports:{}},kS;function RC(){return kS||(kS=1,function(e){(function(i,a){e.exports?(a.default=a,e.exports=i.document?a(i):a):(i.Highcharts&&i.Highcharts.error(16,!0),i.Highcharts=a(i))})(typeof window<"u"?window:Oo,function(i){function a(h,p,y,s){h.hasOwnProperty(p)||(h[p]=s.apply(null,y),typeof CustomEvent=="function"&&i.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:p,module:h[p]}})))}var l={};return a(l,"Core/Globals.js",[],function(){var h;return function(p){p.SVG_NS="http://www.w3.org/2000/svg",p.product="Highcharts",p.version="11.0.1",p.win=typeof i<"u"?i:{},p.doc=p.win.document,p.svg=p.doc&&p.doc.createElementNS&&!!p.doc.createElementNS(p.SVG_NS,"svg").createSVGRect,p.userAgent=p.win.navigator&&p.win.navigator.userAgent||"",p.isChrome=p.userAgent.indexOf("Chrome")!==-1,p.isFirefox=p.userAgent.indexOf("Firefox")!==-1,p.isMS=/(edge|msie|trident)/i.test(p.userAgent)&&!p.win.opera,p.isSafari=!p.isChrome&&p.userAgent.indexOf("Safari")!==-1,p.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(p.userAgent),p.isWebKit=p.userAgent.indexOf("AppleWebKit")!==-1,p.deg2rad=2*Math.PI/360,p.hasBidiBug=p.isFirefox&&4>parseInt(p.userAgent.split("Firefox/")[1],10),p.hasTouch=!!p.win.TouchEvent,p.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],p.noop=function(){},p.supportsPassiveEvents=function(){let y=!1;if(!p.isMS){const s=Object.defineProperty({},"passive",{get:function(){y=!0}});p.win.addEventListener&&p.win.removeEventListener&&(p.win.addEventListener("testPassive",p.noop,s),p.win.removeEventListener("testPassive",p.noop,s))}return y}(),p.charts=[],p.dateFormats={},p.seriesTypes={},p.symbolSizes={},p.chartCount=0}(h||(h={})),h}),a(l,"Core/Utilities.js",[l["Core/Globals.js"]],function(h){function p(A,O,Q,fe){const Te=O?"Highcharts error":"Highcharts warning";A===32&&(A=`${Te}: Deprecated member`);const oe=ne(A);let Me=oe?`${Te} #${A}: www.highcharts.com/errors/${A}/`:A.toString();if(typeof fe<"u"){let We="";oe&&(Me+="?"),se(fe,function(Qe,ie){We+=`
 - ${ie}: ${Qe}`,oe&&(Me+=encodeURI(ie)+"="+encodeURI(Qe))}),Me+=We}X(h,"displayError",{chart:Q,code:A,message:Me,params:fe},function(){if(O)throw Error(Me);K.console&&p.messages.indexOf(Me)===-1&&console.warn(Me)}),p.messages.push(Me)}function y(A,O){const Q={};return se(A,function(fe,Te){ee(A[Te],!0)&&!A.nodeType&&O[Te]?(fe=y(A[Te],O[Te]),Object.keys(fe).length&&(Q[Te]=fe)):(ee(A[Te])||A[Te]!==O[Te]||Te in A&&!(Te in O))&&(Q[Te]=A[Te])}),Q}function s(A,O){return parseInt(A,O||10)}function b(A){return typeof A=="string"}function L(A){return A=Object.prototype.toString.call(A),A==="[object Array]"||A==="[object Array Iterator]"}function ee(A,O){return!!A&&typeof A=="object"&&(!O||!L(A))}function F(A){return ee(A)&&typeof A.nodeType=="number"}function Z(A){const O=A&&A.constructor;return!(!ee(A,!0)||F(A)||!O||!O.name||O.name==="Object")}function ne(A){return typeof A=="number"&&!isNaN(A)&&1/0>A&&-1/0<A}function z(A){return typeof A<"u"&&A!==null}function G(A,O,Q){const fe=b(O)&&!z(Q);let Te;const oe=(Me,We)=>{z(Me)?A.setAttribute(We,Me):fe?(Te=A.getAttribute(We))||We!=="class"||(Te=A.getAttribute(We+"Name")):A.removeAttribute(We)};return b(O)?oe(Q,O):se(O,oe),Te}function ae(A,O){let Q;A||(A={});for(Q in O)A[Q]=O[Q];return A}function B(){const A=arguments,O=A.length;for(let Q=0;Q<O;Q++){const fe=A[Q];if(typeof fe<"u"&&fe!==null)return fe}}function P(A,O){h.isMS&&!h.svg&&O&&z(O.opacity)&&(O.filter=`alpha(opacity=${100*O.opacity})`),ae(A.style,O)}function V(A){return Math.pow(10,Math.floor(Math.log(A)/Math.LN10))}function W(A,O){return 1e14<A?A:parseFloat(A.toPrecision(O||14))}function R(A,O,Q){let fe;return O==="width"?(O=Math.min(A.offsetWidth,A.scrollWidth),Q=A.getBoundingClientRect&&A.getBoundingClientRect().width,Q<O&&Q>=O-1&&(O=Math.floor(Q)),Math.max(0,O-(R(A,"padding-left",!0)||0)-(R(A,"padding-right",!0)||0))):O==="height"?Math.max(0,Math.min(A.offsetHeight,A.scrollHeight)-(R(A,"padding-top",!0)||0)-(R(A,"padding-bottom",!0)||0)):((A=K.getComputedStyle(A,void 0))&&(fe=A.getPropertyValue(O),B(Q,O!=="opacity")&&(fe=s(fe))),fe)}function se(A,O,Q){for(const fe in A)Object.hasOwnProperty.call(A,fe)&&O.call(Q||A[fe],A[fe],fe,A)}function S(A,O,Q){function fe(Me,We){const Qe=A.removeEventListener;Qe&&Qe.call(A,Me,We,!1)}function Te(Me){let We,Qe;A.nodeName&&(O?(We={},We[O]=!0):We=Me,se(We,function(ie,ce){if(Me[ce])for(Qe=Me[ce].length;Qe--;)fe(ce,Me[ce][Qe].fn)}))}var oe=typeof A=="function"&&A.prototype||A;if(Object.hasOwnProperty.call(oe,"hcEvents")){const Me=oe.hcEvents;O?(oe=Me[O]||[],Q?(Me[O]=oe.filter(function(We){return Q!==We.fn}),fe(O,Q)):(Te(Me),Me[O]=[])):(Te(Me),delete oe.hcEvents)}}function X(A,O,Q,fe){if(Q=Q||{},$.createEvent&&(A.dispatchEvent||A.fireEvent&&A!==h)){var Te=$.createEvent("Events");Te.initEvent(O,!0,!0),Q=ae(Te,Q),A.dispatchEvent?A.dispatchEvent(Q):A.fireEvent(O,Q)}else if(A.hcEvents){Q.target||ae(Q,{preventDefault:function(){Q.defaultPrevented=!0},target:A,type:O}),Te=[];let oe=A,Me=!1;for(;oe.hcEvents;)Object.hasOwnProperty.call(oe,"hcEvents")&&oe.hcEvents[O]&&(Te.length&&(Me=!0),Te.unshift.apply(Te,oe.hcEvents[O])),oe=Object.getPrototypeOf(oe);Me&&Te.sort((We,Qe)=>We.order-Qe.order),Te.forEach(We=>{We.fn.call(A,Q)===!1&&Q.preventDefault()})}fe&&!Q.defaultPrevented&&fe.call(A,Q)}const{charts:I,doc:$,win:K}=h;(p||(p={})).messages=[],Math.easeInOutSine=function(A){return-.5*(Math.cos(Math.PI*A)-1)};var q=Array.prototype.find?function(A,O){return A.find(O)}:function(A,O){let Q;const fe=A.length;for(Q=0;Q<fe;Q++)if(O(A[Q],Q))return A[Q]};se({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(A,O){h[O]=function(Q){return p(32,!1,void 0,{[`Highcharts.${O}`]:`use Array.${A}`}),Array.prototype[A].apply(Q,[].slice.call(arguments,1))}});let J;const C=function(){const A=Math.random().toString(36).substring(2,9)+"-";let O=0;return function(){return"highcharts-"+(J?"":A)+O++}}();return K.jQuery&&(K.jQuery.fn.highcharts=function(){const A=[].slice.call(arguments);if(this[0])return A[0]?(new h[b(A[0])?A.shift():"Chart"](this[0],A[0],A[1]),this):I[G(this[0],"data-highcharts-chart")]}),q={addEvent:function(A,O,Q,fe={}){var Te=typeof A=="function"&&A.prototype||A;Object.hasOwnProperty.call(Te,"hcEvents")||(Te.hcEvents={}),Te=Te.hcEvents,h.Point&&A instanceof h.Point&&A.series&&A.series.chart&&(A.series.chart.runTrackerClick=!0);const oe=A.addEventListener;return oe&&oe.call(A,O,Q,h.supportsPassiveEvents?{passive:fe.passive===void 0?O.indexOf("touch")!==-1:fe.passive,capture:!1}:!1),Te[O]||(Te[O]=[]),Te[O].push({fn:Q,order:typeof fe.order=="number"?fe.order:1/0}),Te[O].sort((Me,We)=>Me.order-We.order),function(){S(A,O,Q)}},arrayMax:function(A){let O=A.length,Q=A[0];for(;O--;)A[O]>Q&&(Q=A[O]);return Q},arrayMin:function(A){let O=A.length,Q=A[0];for(;O--;)A[O]<Q&&(Q=A[O]);return Q},attr:G,clamp:function(A,O,Q){return A>O?A<Q?A:Q:O},cleanRecursively:y,clearTimeout:function(A){z(A)&&clearTimeout(A)},correctFloat:W,createElement:function(A,O,Q,fe,Te){return A=$.createElement(A),O&&ae(A,O),Te&&P(A,{padding:"0",border:"none",margin:"0"}),Q&&P(A,Q),fe&&fe.appendChild(A),A},css:P,defined:z,destroyObjectProperties:function(A,O){se(A,function(Q,fe){Q&&Q!==O&&Q.destroy&&Q.destroy(),delete A[fe]})},discardElement:function(A){A&&A.parentElement&&A.parentElement.removeChild(A)},erase:function(A,O){let Q=A.length;for(;Q--;)if(A[Q]===O){A.splice(Q,1);break}},error:p,extend:ae,extendClass:function(A,O){const Q=function(){};return Q.prototype=new A,ae(Q.prototype,O),Q},find:q,fireEvent:X,getMagnitude:V,getNestedProperty:function(A,O){for(A=A.split(".");A.length&&z(O);){const Q=A.shift();if(typeof Q>"u"||Q==="__proto__"||(O=O[Q],!z(O)||typeof O=="function"||typeof O.nodeType=="number"||O===K))return}return O},getStyle:R,inArray:function(A,O,Q){return p(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),O.indexOf(A,Q)},isArray:L,isClass:Z,isDOMElement:F,isFunction:function(A){return typeof A=="function"},isNumber:ne,isObject:ee,isString:b,keys:function(A){return p(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(A)},merge:function(){let A,O=arguments,Q={};const fe=function(oe,Me){return typeof oe!="object"&&(oe={}),se(Me,function(We,Qe){Qe!=="__proto__"&&Qe!=="constructor"&&(!ee(We,!0)||Z(We)||F(We)?oe[Qe]=Me[Qe]:oe[Qe]=fe(oe[Qe]||{},We))}),oe};O[0]===!0&&(Q=O[1],O=Array.prototype.slice.call(O,2));const Te=O.length;for(A=0;A<Te;A++)Q=fe(Q,O[A]);return Q},normalizeTickInterval:function(A,O,Q,fe,Te){let oe=A;Q=B(Q,V(A));const Me=A/Q;for(O||(O=Te?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],fe===!1&&(Q===1?O=O.filter(function(We){return We%1===0}):.1>=Q&&(O=[1/Q]))),fe=0;fe<O.length&&(oe=O[fe],!(Te&&oe*Q>=A||!Te&&Me<=(O[fe]+(O[fe+1]||O[fe]))/2));fe++);return oe=W(oe*Q,-Math.round(Math.log(.001)/Math.LN10))},objectEach:se,offset:function(A){const O=$.documentElement;return A=A.parentElement||A.parentNode?A.getBoundingClientRect():{top:0,left:0,width:0,height:0},{top:A.top+(K.pageYOffset||O.scrollTop)-(O.clientTop||0),left:A.left+(K.pageXOffset||O.scrollLeft)-(O.clientLeft||0),width:A.width,height:A.height}},pad:function(A,O,Q){return Array((O||2)+1-String(A).replace("-","").length).join(Q||"0")+A},pick:B,pInt:s,pushUnique:function(A,O){return 0>A.indexOf(O)&&!!A.push(O)},relativeLength:function(A,O,Q){return/%$/.test(A)?O*parseFloat(A)/100+(Q||0):parseFloat(A)},removeEvent:S,splat:function(A){return L(A)?A:[A]},stableSort:function(A,O){const Q=A.length;let fe,Te;for(Te=0;Te<Q;Te++)A[Te].safeI=Te;for(A.sort(function(oe,Me){return fe=O(oe,Me),fe===0?oe.safeI-Me.safeI:fe}),Te=0;Te<Q;Te++)delete A[Te].safeI},syncTimeout:function(A,O,Q){return 0<O?setTimeout(A,O,Q):(A.call(0,Q),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:C,useSerialIds:function(A){return J=B(A,J)},wrap:function(A,O,Q){const fe=A[O];A[O]=function(){const Te=arguments,oe=this;return Q.apply(this,[function(){return fe.apply(oe,arguments.length?arguments:Te)}].concat([].slice.call(arguments)))}}},q}),a(l,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},reflow:!0,type:"line",zoomBySingleTouch:!1,zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),a(l,"Core/Color/Color.js",[l["Core/Globals.js"],l["Core/Utilities.js"]],function(h,p){const{isNumber:y,merge:s,pInt:b}=p;class L{static parse(F){return F?new L(F):L.None}constructor(F){this.rgba=[NaN,NaN,NaN,NaN],this.input=F;const Z=h.Color;if(Z&&Z!==L)return new Z(F);this.init(F)}init(F){let Z,ne;if(typeof F=="object"&&typeof F.stops<"u")this.stops=F.stops.map(ae=>new L(ae[1]));else if(typeof F=="string"){if(this.input=F=L.names[F.toLowerCase()]||F,F.charAt(0)==="#"){var z=F.length,G=parseInt(F.substr(1),16);z===7?Z=[(G&16711680)>>16,(G&65280)>>8,G&255,1]:z===4&&(Z=[(G&3840)>>4|(G&3840)>>8,(G&240)>>4|G&240,(G&15)<<4|G&15,1])}if(!Z)for(G=L.parsers.length;G--&&!Z;)ne=L.parsers[G],(z=ne.regex.exec(F))&&(Z=ne.parse(z))}Z&&(this.rgba=Z)}get(F){const Z=this.input,ne=this.rgba;if(typeof Z=="object"&&typeof this.stops<"u"){const z=s(Z);return z.stops=[].slice.call(z.stops),this.stops.forEach((G,ae)=>{z.stops[ae]=[z.stops[ae][0],G.get(F)]}),z}return ne&&y(ne[0])?F==="rgb"||!F&&ne[3]===1?"rgb("+ne[0]+","+ne[1]+","+ne[2]+")":F==="a"?`${ne[3]}`:"rgba("+ne.join(",")+")":Z}brighten(F){const Z=this.rgba;if(this.stops)this.stops.forEach(function(ne){ne.brighten(F)});else if(y(F)&&F!==0)for(let ne=0;3>ne;ne++)Z[ne]+=b(255*F),0>Z[ne]&&(Z[ne]=0),255<Z[ne]&&(Z[ne]=255);return this}setOpacity(F){return this.rgba[3]=F,this}tweenTo(F,Z){const ne=this.rgba,z=F.rgba;return!y(ne[0])||!y(z[0])?F.input||"none":(F=z[3]!==1||ne[3]!==1,(F?"rgba(":"rgb(")+Math.round(z[0]+(ne[0]-z[0])*(1-Z))+","+Math.round(z[1]+(ne[1]-z[1])*(1-Z))+","+Math.round(z[2]+(ne[2]-z[2])*(1-Z))+(F?","+(z[3]+(ne[3]-z[3])*(1-Z)):"")+")")}}return L.names={white:"#ffffff",black:"#000000"},L.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(ee){return[b(ee[1]),b(ee[2]),b(ee[3]),parseFloat(ee[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(ee){return[b(ee[1]),b(ee[2]),b(ee[3]),1]}}],L.None=new L(""),L}),a(l,"Core/Color/Palettes.js",[],function(){return{colors:"#2caffe #544fc5 #00e272 #fe6a35 #6b8abc #d568fb #2ee0ca #fa4b42 #feb56a #91e8e1".split(" ")}}),a(l,"Core/Time.js",[l["Core/Globals.js"],l["Core/Utilities.js"]],function(h,p){const{win:y}=h,{defined:s,error:b,extend:L,isObject:ee,merge:F,objectEach:Z,pad:ne,pick:z,splat:G,timeUnits:ae}=p,B=h.isSafari&&y.Intl&&y.Intl.DateTimeFormat.prototype.formatRange,P=h.isSafari&&y.Intl&&!y.Intl.DateTimeFormat.prototype.formatRange;class V{constructor(R){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=y.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(R)}get(R,se){if(this.variableTimezone||this.timezoneOffset){const S=se.getTime(),X=S-this.getTimezoneOffset(se);return se.setTime(X),R=se["getUTC"+R](),se.setTime(S),R}return this.useUTC?se["getUTC"+R]():se["get"+R]()}set(R,se,S){if(this.variableTimezone||this.timezoneOffset){if(R==="Milliseconds"||R==="Seconds"||R==="Minutes"&&this.getTimezoneOffset(se)%36e5===0)return se["setUTC"+R](S);var X=this.getTimezoneOffset(se);return X=se.getTime()-X,se.setTime(X),se["setUTC"+R](S),R=this.getTimezoneOffset(se),X=se.getTime()+R,se.setTime(X)}return this.useUTC||B&&R==="FullYear"?se["setUTC"+R](S):se["set"+R](S)}update(R={}){const se=z(R.useUTC,!0);this.options=R=F(!0,this.options,R),this.Date=R.Date||y.Date||Date,this.timezoneOffset=(this.useUTC=se)&&R.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=se&&!(!R.getTimezoneOffset&&!R.timezone)}makeTime(R,se,S,X,I,$){let K,q,J;return this.useUTC?(K=this.Date.UTC.apply(0,arguments),q=this.getTimezoneOffset(K),K+=q,J=this.getTimezoneOffset(K),q!==J?K+=J-q:q-36e5!==this.getTimezoneOffset(K-36e5)||P||(K-=36e5)):K=new this.Date(R,se,z(S,1),z(X,0),z(I,0),z($,0)).getTime(),K}timezoneOffsetFunction(){const R=this,se=this.options,S=se.getTimezoneOffset,X=se.moment||y.moment;if(!this.useUTC)return function(I){return 6e4*new Date(I.toString()).getTimezoneOffset()};if(se.timezone){if(X)return function(I){return 6e4*-X.tz(I,se.timezone).utcOffset()};b(25)}return this.useUTC&&S?function(I){return 6e4*S(I.valueOf())}:function(){return 6e4*(R.timezoneOffset||0)}}dateFormat(R,se,S){if(!s(se)||isNaN(se))return h.defaultOptions.lang&&h.defaultOptions.lang.invalidDate||"";R=z(R,"%Y-%m-%d %H:%M:%S");const X=this;var I=new this.Date(se);const $=this.get("Hours",I),K=this.get("Day",I),q=this.get("Date",I),J=this.get("Month",I),C=this.get("FullYear",I),A=h.defaultOptions.lang,O=A&&A.weekdays,Q=A&&A.shortWeekdays;return I=L({a:Q?Q[K]:O[K].substr(0,3),A:O[K],d:ne(q),e:ne(q,2," "),w:K,b:A.shortMonths[J],B:A.months[J],m:ne(J+1),o:J+1,y:C.toString().substr(2,2),Y:C,H:ne($),k:$,I:ne($%12||12),l:$%12||12,M:ne(this.get("Minutes",I)),p:12>$?"AM":"PM",P:12>$?"am":"pm",S:ne(I.getSeconds()),L:ne(Math.floor(se%1e3),3)},h.dateFormats),Z(I,function(fe,Te){for(;R.indexOf("%"+Te)!==-1;)R=R.replace("%"+Te,typeof fe=="function"?fe.call(X,se):fe)}),S?R.substr(0,1).toUpperCase()+R.substr(1):R}resolveDTLFormat(R){return ee(R,!0)?R:(R=G(R),{main:R[0],from:R[1],to:R[2]})}getTimeTicks(R,se,S,X){const I=this,$=[],K={};var q=new I.Date(se);const J=R.unitRange,C=R.count||1;let A;if(X=z(X,1),s(se)){if(I.set("Milliseconds",q,J>=ae.second?0:C*Math.floor(I.get("Milliseconds",q)/C)),J>=ae.second&&I.set("Seconds",q,J>=ae.minute?0:C*Math.floor(I.get("Seconds",q)/C)),J>=ae.minute&&I.set("Minutes",q,J>=ae.hour?0:C*Math.floor(I.get("Minutes",q)/C)),J>=ae.hour&&I.set("Hours",q,J>=ae.day?0:C*Math.floor(I.get("Hours",q)/C)),J>=ae.day&&I.set("Date",q,J>=ae.month?1:Math.max(1,C*Math.floor(I.get("Date",q)/C))),J>=ae.month){I.set("Month",q,J>=ae.year?0:C*Math.floor(I.get("Month",q)/C));var O=I.get("FullYear",q)}J>=ae.year&&I.set("FullYear",q,O-O%C),J===ae.week&&(O=I.get("Day",q),I.set("Date",q,I.get("Date",q)-O+X+(O<X?-7:0))),O=I.get("FullYear",q),X=I.get("Month",q);const Q=I.get("Date",q),fe=I.get("Hours",q);for(se=q.getTime(),!I.variableTimezone&&I.useUTC||!s(S)||(A=S-se>4*ae.month||I.getTimezoneOffset(se)!==I.getTimezoneOffset(S)),se=q.getTime(),q=1;se<S;)$.push(se),se=J===ae.year?I.makeTime(O+q*C,0):J===ae.month?I.makeTime(O,X+q*C):!A||J!==ae.day&&J!==ae.week?A&&J===ae.hour&&1<C?I.makeTime(O,X,Q,fe+q*C):se+J*C:I.makeTime(O,X,Q+q*C*(J===ae.day?1:7)),q++;$.push(se),J<=ae.hour&&1e4>$.length&&$.forEach(function(Te){Te%18e5===0&&I.dateFormat("%H%M%S%L",Te)==="000000000"&&(K[Te]="day")})}return $.info=L(R,{higherRanks:K,totalRange:J*C}),$}getDateFormat(R,se,S,X){const I=this.dateFormat("%m-%d %H:%M:%S.%L",se),$={millisecond:15,second:12,minute:9,hour:6,day:3};let K,q="millisecond";for(K in ae){if(R===ae.week&&+this.dateFormat("%w",se)===S&&I.substr(6)==="00:00:00.000"){K="week";break}if(ae[K]>R){K=q;break}if($[K]&&I.substr($[K])!=="01-01 00:00:00.000".substr($[K]))break;K!=="week"&&(q=K)}return this.resolveDTLFormat(X[K]).main}}return V}),a(l,"Core/Defaults.js",[l["Core/Chart/ChartDefaults.js"],l["Core/Color/Color.js"],l["Core/Globals.js"],l["Core/Color/Palettes.js"],l["Core/Time.js"],l["Core/Utilities.js"]],function(h,p,y,s,b,L){const{isTouchDevice:ee,svg:F}=y,{merge:Z}=L,ne={colors:s.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:h,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:F,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:ee?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};ne.chart.styledMode=!1;const z=new b(ne.time);return h={defaultOptions:ne,defaultTime:z,getOptions:function(){return ne},setOptions:function(G){return Z(!0,ne,G),(G.time||G.global)&&(y.time?y.time.update(Z(ne.global,ne.time,G.global,G.time)):y.time=z),ne}},h}),a(l,"Core/Animation/Fx.js",[l["Core/Color/Color.js"],l["Core/Globals.js"],l["Core/Utilities.js"]],function(h,p,y){const{parse:s}=h,{win:b}=p,{isNumber:L,objectEach:ee}=y;class F{constructor(ne,z,G){this.pos=NaN,this.options=z,this.elem=ne,this.prop=G}dSetter(){var ne=this.paths;const z=ne&&ne[0];ne=ne&&ne[1];const G=this.now||0;let ae=[];if(G!==1&&z&&ne)if(z.length===ne.length&&1>G)for(let B=0;B<ne.length;B++){const P=z[B],V=ne[B],W=[];for(let R=0;R<V.length;R++){const se=P[R],S=V[R];L(se)&&L(S)&&(V[0]!=="A"||R!==4&&R!==5)?W[R]=se+G*(S-se):W[R]=S}ae.push(W)}else ae=ne;else ae=this.toD||[];this.elem.attr("d",ae,void 0,!0)}update(){const ne=this.elem,z=this.prop,G=this.now,ae=this.options.step;this[z+"Setter"]?this[z+"Setter"]():ne.attr?ne.element&&ne.attr(z,G,null,!0):ne.style[z]=G+this.unit,ae&&ae.call(ne,G,this)}run(ne,z,G){const ae=this,B=ae.options,P=function(R){return P.stopped?!1:ae.step(R)},V=b.requestAnimationFrame||function(R){setTimeout(R,13)},W=function(){for(let R=0;R<F.timers.length;R++)F.timers[R]()||F.timers.splice(R--,1);F.timers.length&&V(W)};ne!==z||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=ne,this.end=z,this.unit=G,this.now=this.start,this.pos=0,P.elem=this.elem,P.prop=this.prop,P()&&F.timers.push(P)===1&&V(W)):(delete B.curAnim[this.prop],B.complete&&Object.keys(B.curAnim).length===0&&B.complete.call(this.elem))}step(ne){const z=+new Date,G=this.options,ae=this.elem,B=G.complete,P=G.duration,V=G.curAnim;let W;return ae.attr&&!ae.element?ne=!1:ne||z>=P+this.startTime?(this.now=this.end,this.pos=1,this.update(),W=V[this.prop]=!0,ee(V,function(R){R!==!0&&(W=!1)}),W&&B&&B.call(ae),ne=!1):(this.pos=G.easing((z-this.startTime)/P),this.now=this.start+(this.end-this.start)*this.pos,this.update(),ne=!0),ne}initPath(ne,z,G){function ae(I,$){for(;I.length<S;){var K=I[0];const q=$[S-I.length];q&&K[0]==="M"&&(I[0]=q[0]==="C"?["C",K[1],K[2],K[1],K[2],K[1],K[2]]:["L",K[1],K[2]]),I.unshift(K),W&&(K=I.pop(),I.push(I[I.length-1],K))}}function B(I,$){for(;I.length<S;)if($=I[Math.floor(I.length/R)-1].slice(),$[0]==="C"&&($[1]=$[5],$[2]=$[6]),W){const K=I[Math.floor(I.length/R)].slice();I.splice(I.length/2,0,$,K)}else I.push($)}const P=ne.startX,V=ne.endX;G=G.slice();const W=ne.isArea,R=W?2:1;let se,S,X;if(z=z&&z.slice(),!z)return[G,G];if(P&&V&&V.length){for(ne=0;ne<P.length;ne++)if(P[ne]===V[0]){se=ne;break}else if(P[0]===V[V.length-P.length+ne]){se=ne,X=!0;break}else if(P[P.length-1]===V[V.length-P.length+ne]){se=P.length-ne;break}typeof se>"u"&&(z=[])}return z.length&&L(se)&&(S=G.length+se*R,X?(ae(z,G),B(G,z)):(ae(G,z),B(z,G))),[z,G]}fillSetter(){F.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,s(this.start).tweenTo(s(this.end),this.pos),void 0,!0)}}return F.timers=[],F}),a(l,"Core/Animation/AnimationUtilities.js",[l["Core/Animation/Fx.js"],l["Core/Utilities.js"]],function(h,p){function y(ae){return Z(ae)?ne({duration:500,defer:0},ae):{duration:ae?500:0,defer:0}}function s(ae,B){let P=h.timers.length;for(;P--;)h.timers[P].elem!==ae||B&&B!==h.timers[P].prop||(h.timers[P].stopped=!0)}const{defined:b,getStyle:L,isArray:ee,isNumber:F,isObject:Z,merge:ne,objectEach:z,pick:G}=p;return{animate:function(ae,B,P){let V,W="",R,se,S;Z(P)||(S=arguments,P={duration:S[2],easing:S[3],complete:S[4]}),F(P.duration)||(P.duration=400),P.easing=typeof P.easing=="function"?P.easing:Math[P.easing]||Math.easeInOutSine,P.curAnim=ne(B),z(B,function(X,I){s(ae,I),se=new h(ae,P,I),R=void 0,I==="d"&&ee(B.d)?(se.paths=se.initPath(ae,ae.pathArray,B.d),se.toD=B.d,V=0,R=1):ae.attr?V=ae.attr(I):(V=parseFloat(L(ae,I))||0,I!=="opacity"&&(W="px")),R||(R=X),typeof R=="string"&&R.match("px")&&(R=R.replace(/px/g,"")),se.run(V,R,W)})},animObject:y,getDeferredAnimation:function(ae,B,P){const V=y(B);let W=0,R=0;return(P?[P]:ae.series).forEach(se=>{se=y(se.options.animation),W=B&&b(B.defer)?V.defer:Math.max(W,se.duration+se.defer),R=Math.min(V.duration,se.duration)}),ae.renderer.forExport&&(W=0),{defer:Math.max(0,W-R),duration:Math.min(W,R)}},setAnimation:function(ae,B){B.renderer.globalAnimation=G(ae,B.options.chart.animation,!0)},stop:s}}),a(l,"Core/Renderer/HTML/AST.js",[l["Core/Globals.js"],l["Core/Utilities.js"]],function(h,p){const{SVG_NS:y,win:s}=h,{attr:b,createElement:L,css:ee,error:F,isFunction:Z,isString:ne,objectEach:z,splat:G}=p;({trustedTypes:p}=s);const ae=p&&Z(p.createPolicy)&&p.createPolicy("highcharts",{createHTML:W=>W});p=ae?ae.createHTML(""):"";try{var B=!!new DOMParser().parseFromString(p,"text/html")}catch{B=!1}const P=B;class V{static filterUserAttributes(R){return z(R,(se,S)=>{let X=!0;V.allowedAttributes.indexOf(S)===-1&&(X=!1),["background","dynsrc","href","lowsrc","src"].indexOf(S)!==-1&&(X=ne(se)&&V.allowedReferences.some(I=>se.indexOf(I)===0)),X||(F(33,!1,void 0,{"Invalid attribute in config":`${S}`}),delete R[S]),ne(se)&&R[S]&&(R[S]=se.replace(/</g,"&lt;"))}),R}static parseStyle(R){return R.split(";").reduce((se,S)=>{S=S.split(":").map(I=>I.trim());const X=S.shift();return X&&S.length&&(se[X.replace(/-([a-z])/g,I=>I[1].toUpperCase())]=S.join(":")),se},{})}static setElementHTML(R,se){R.innerHTML=V.emptyHTML,se&&new V(se).addToDOM(R)}constructor(R){this.nodes=typeof R=="string"?this.parseMarkup(R):R}addToDOM(R){function se(S,X){let I;return G(S).forEach(function($){var K=$.tagName;const q=$.textContent?h.doc.createTextNode($.textContent):void 0,J=V.bypassHTMLFiltering;let C;if(K)if(K==="#text")C=q;else if(V.allowedTags.indexOf(K)!==-1||J){K=h.doc.createElementNS(K==="svg"?y:X.namespaceURI||y,K);const A=$.attributes||{};z($,function(O,Q){Q!=="tagName"&&Q!=="attributes"&&Q!=="children"&&Q!=="style"&&Q!=="textContent"&&(A[Q]=O)}),b(K,J?A:V.filterUserAttributes(A)),$.style&&ee(K,$.style),q&&K.appendChild(q),se($.children||[],K),C=K}else F(33,!1,void 0,{"Invalid tagName in config":K});C&&X.appendChild(C),I=C}),I}return se(this.nodes,R)}parseMarkup(R){const se=[];if(R=R.trim().replace(/ style=(["'])/g," data-style=$1"),P)R=new DOMParser().parseFromString(ae?ae.createHTML(R):R,"text/html");else{const X=L("div");X.innerHTML=R,R={body:X}}const S=(X,I)=>{var $=X.nodeName.toLowerCase();const K={tagName:$};if($==="#text"&&(K.textContent=X.textContent||""),$=X.attributes){const q={};[].forEach.call($,J=>{J.name==="data-style"?K.style=V.parseStyle(J.value):q[J.name]=J.value}),K.attributes=q}if(X.childNodes.length){const q=[];[].forEach.call(X.childNodes,J=>{S(J,q)}),q.length&&(K.children=q)}I.push(K)};return[].forEach.call(R.body.childNodes,X=>S(X,se)),se}}return V.allowedAttributes="alt aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill flood-color flood-opacity height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" "),V.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),V.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feDropShadow feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" "),V.emptyHTML=p,V.bypassHTMLFiltering=!1,V}),a(l,"Core/FormatUtilities.js",[l["Core/Defaults.js"],l["Core/Utilities.js"]],function(h,p){function y(ne,z,G,ae){ne=+ne||0,z=+z;const B=s.lang;var P=(ne.toString().split(".")[1]||"").split("e")[0].length;const V=ne.toString().split("e"),W=z;if(z===-1)z=Math.min(P,20);else if(!ee(z))z=2;else if(z&&V[1]&&0>V[1]){var R=z+ +V[1];0<=R?(V[0]=(+V[0]).toExponential(R).split("e")[0],z=R):(V[0]=V[0].split(".")[0]||0,ne=20>z?(V[0]*Math.pow(10,V[1])).toFixed(z):0,V[1]=0)}R=(Math.abs(V[1]?V[0]:ne)+Math.pow(10,-Math.max(z,P)-1)).toFixed(z),P=String(Z(R));const se=3<P.length?P.length%3:0;return G=F(G,B.decimalPoint),ae=F(ae,B.thousandsSep),ne=(0>ne?"-":"")+(se?P.substr(0,se)+ae:""),ne=0>+V[1]&&!W?"0":ne+P.substr(se).replace(/(\d{3})(?=\d)/g,"$1"+ae),z&&(ne+=G+R.slice(-z)),V[1]&&+ne!=0&&(ne+="e"+V[1]),ne}const{defaultOptions:s,defaultTime:b}=h,{getNestedProperty:L,isNumber:ee,pick:F,pInt:Z}=p;return{dateFormat:function(ne,z,G){return b.dateFormat(ne,z,G)},format:function(ne,z,G){var ae="{";let B=!1,P;const V=/f$/,W=/\.([0-9])/,R=s.lang,se=G&&G.time||b;G=G&&G.numberFormatter||y;const S=[];for(;ne&&(P=ne.indexOf(ae),P!==-1);){var X=ne.slice(0,P);if(B){if(X=X.split(":"),ae=L(X.shift()||"",z),X.length&&typeof ae=="number")if(X=X.join(":"),V.test(X)){const I=parseInt((X.match(W)||["","-1"])[1],10);ae!==null&&(ae=G(ae,I,R.decimalPoint,-1<X.indexOf(",")?R.thousandsSep:""))}else ae=se.dateFormat(X,ae);S.push(ae)}else S.push(X);ne=ne.slice(P+1),ae=(B=!B)?"}":"{"}return S.push(ne),S.join("")},numberFormat:y}}),a(l,"Core/Renderer/RendererUtilities.js",[l["Core/Utilities.js"]],function(h){const{clamp:p,pick:y,stableSort:s}=h;var b;return function(L){function ee(F,Z,ne){const z=F;var G=z.reducedLen||Z,ae=(se,S)=>(S.rank||0)-(se.rank||0);const B=(se,S)=>se.target-S.target;let P,V=!0,W=[],R=0;for(P=F.length;P--;)R+=F[P].size;if(R>G){for(s(F,ae),R=P=0;R<=G;)R+=F[P].size,P++;W=F.splice(P-1,F.length)}for(s(F,B),F=F.map(se=>({size:se.size,targets:[se.target],align:y(se.align,.5)}));V;){for(P=F.length;P--;)G=F[P],ae=(Math.min.apply(0,G.targets)+Math.max.apply(0,G.targets))/2,G.pos=p(ae-G.size*G.align,0,Z-G.size);for(P=F.length,V=!1;P--;)0<P&&F[P-1].pos+F[P-1].size>F[P].pos&&(F[P-1].size+=F[P].size,F[P-1].targets=F[P-1].targets.concat(F[P].targets),F[P-1].align=.5,F[P-1].pos+F[P-1].size>Z&&(F[P-1].pos=Z-F[P-1].size),F.splice(P,1),V=!0)}return z.push.apply(z,W),P=0,F.some(se=>{let S=0;return(se.targets||[]).some(()=>(z[P].pos=se.pos+S,typeof ne<"u"&&Math.abs(z[P].pos-z[P].target)>ne?(z.slice(0,P+1).forEach(X=>delete X.pos),z.reducedLen=(z.reducedLen||Z)-.1*Z,z.reducedLen>.1*Z&&ee(z,Z,ne),!0):(S+=z[P].size,P++,!1)))}),s(z,B),z}L.distribute=ee}(b||(b={})),b}),a(l,"Core/Renderer/SVG/SVGElement.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Color/Color.js"],l["Core/Globals.js"],l["Core/Utilities.js"]],function(h,p,y,s){const{animate:b,animObject:L,stop:ee}=h,{deg2rad:F,doc:Z,svg:ne,SVG_NS:z,win:G}=y,{addEvent:ae,attr:B,createElement:P,css:V,defined:W,erase:R,extend:se,fireEvent:S,isArray:X,isFunction:I,isObject:$,isString:K,merge:q,objectEach:J,pick:C,pInt:A,syncTimeout:O,uniqueKey:Q}=s;class fe{constructor(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=z}_defaultGetter(oe){return oe=C(this[oe+"Value"],this[oe],this.element?this.element.getAttribute(oe):null,0),/^[\-0-9\.]+$/.test(oe)&&(oe=parseFloat(oe)),oe}_defaultSetter(oe,Me,We){We.setAttribute(Me,oe)}add(oe){const Me=this.renderer,We=this.element;let Qe;return oe&&(this.parentGroup=oe),typeof this.textStr<"u"&&this.element.nodeName==="text"&&Me.buildText(this),this.added=!0,(!oe||oe.handleZ||this.zIndex)&&(Qe=this.zIndexSetter()),Qe||(oe?oe.element:Me.box).appendChild(We),this.onAdd&&this.onAdd(),this}addClass(oe,Me){const We=Me?"":this.attr("class")||"";return oe=(oe||"").split(/ /g).reduce(function(Qe,ie){return We.indexOf(ie)===-1&&Qe.push(ie),Qe},We?[We]:[]).join(" "),oe!==We&&this.attr("class",oe),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(oe,Me,We){const Qe={};var ie=this.renderer,ce=ie.alignedObjects,pe;let Ce,Be;oe?(this.alignOptions=oe,this.alignByTranslate=Me,(!We||K(We))&&(this.alignTo=pe=We||"renderer",R(ce,this),ce.push(this),We=void 0)):(oe=this.alignOptions,Me=this.alignByTranslate,pe=this.alignTo),We=C(We,ie[pe],pe==="scrollablePlotBox"?ie.plotBox:void 0,ie),pe=oe.align;const re=oe.verticalAlign;return ie=(We.x||0)+(oe.x||0),ce=(We.y||0)+(oe.y||0),pe==="right"?Ce=1:pe==="center"&&(Ce=2),Ce&&(ie+=(We.width-(oe.width||0))/Ce),Qe[Me?"translateX":"x"]=Math.round(ie),re==="bottom"?Be=1:re==="middle"&&(Be=2),Be&&(ce+=(We.height-(oe.height||0))/Be),Qe[Me?"translateY":"y"]=Math.round(ce),this[this.placed?"animate":"attr"](Qe),this.placed=!0,this.alignAttr=Qe,this}alignSetter(oe){const Me={left:"start",center:"middle",right:"end"};Me[oe]&&(this.alignValue=oe,this.element.setAttribute("text-anchor",Me[oe]))}animate(oe,Me,We){const Qe=L(C(Me,this.renderer.globalAnimation,!0));return Me=Qe.defer,Z.hidden&&(Qe.duration=0),Qe.duration!==0?(We&&(Qe.complete=We),O(()=>{this.element&&b(this,oe,Qe)},Me)):(this.attr(oe,void 0,We||Qe.complete),J(oe,function(ie,ce){Qe.step&&Qe.step.call(this,ie,{prop:ce,pos:1,elem:this})},this)),this}applyTextOutline(oe){const Me=this.element;oe.indexOf("contrast")!==-1&&(oe=oe.replace(/contrast/g,this.renderer.getContrast(Me.style.fill)));var We=oe.split(" ");if(oe=We[We.length-1],(We=We[0])&&We!=="none"&&y.svg){this.fakeTS=!0,We=We.replace(/(^[\d\.]+)(.*?)$/g,function(ce,pe,Ce){return 2*Number(pe)+Ce}),this.removeTextOutline();const Qe=Z.createElementNS(z,"tspan");B(Qe,{class:"highcharts-text-outline",fill:oe,stroke:oe,"stroke-width":We,"stroke-linejoin":"round"}),oe=Me.querySelector("textPath")||Me,[].forEach.call(oe.childNodes,ce=>{const pe=ce.cloneNode(!0);pe.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(Ce=>pe.removeAttribute(Ce)),Qe.appendChild(pe)});let ie=0;[].forEach.call(oe.querySelectorAll("text tspan"),ce=>{ie+=Number(ce.getAttribute("dy"))}),We=Z.createElementNS(z,"tspan"),We.textContent="​",B(We,{x:Number(Me.getAttribute("x")),dy:-ie}),Qe.appendChild(We),oe.insertBefore(Qe,oe.firstChild)}}attr(oe,Me,We,Qe){const ie=this.element,ce=fe.symbolCustomAttribs;let pe,Ce,Be=this,re,xe;return typeof oe=="string"&&typeof Me<"u"&&(pe=oe,oe={},oe[pe]=Me),typeof oe=="string"?Be=(this[oe+"Getter"]||this._defaultGetter).call(this,oe,ie):(J(oe,function(_e,Y){re=!1,Qe||ee(this,Y),this.symbolName&&ce.indexOf(Y)!==-1&&(Ce||(this.symbolAttr(oe),Ce=!0),re=!0),!this.rotation||Y!=="x"&&Y!=="y"||(this.doTransform=!0),re||(xe=this[Y+"Setter"]||this._defaultSetter,xe.call(this,_e,Y,ie))},this),this.afterSetters()),We&&We.call(this),Be}clip(oe){return this.attr("clip-path",oe?"url("+this.renderer.url+"#"+oe.id+")":"none")}crisp(oe,Me){Me=Me||oe.strokeWidth||0;const We=Math.round(Me)%2/2;return oe.x=Math.floor(oe.x||this.x||0)+We,oe.y=Math.floor(oe.y||this.y||0)+We,oe.width=Math.floor((oe.width||this.width||0)-2*We),oe.height=Math.floor((oe.height||this.height||0)-2*We),W(oe.strokeWidth)&&(oe.strokeWidth=Me),oe}complexColor(oe,Me,We){const Qe=this.renderer;let ie,ce,pe,Ce,Be,re,xe,_e,Y,de,me=[],ke;S(this.renderer,"complexColor",{args:arguments},function(){if(oe.radialGradient?ce="radialGradient":oe.linearGradient&&(ce="linearGradient"),ce){if(pe=oe[ce],Be=Qe.gradients,re=oe.stops,Y=We.radialReference,X(pe)&&(oe[ce]=pe={x1:pe[0],y1:pe[1],x2:pe[2],y2:pe[3],gradientUnits:"userSpaceOnUse"}),ce==="radialGradient"&&Y&&!W(pe.gradientUnits)&&(Ce=pe,pe=q(pe,Qe.getRadialAttr(Y,Ce),{gradientUnits:"userSpaceOnUse"})),J(pe,function(Ie,Ve){Ve!=="id"&&me.push(Ve,Ie)}),J(re,function(Ie){me.push(Ie)}),me=me.join(","),Be[me])de=Be[me].attr("id");else{pe.id=de=Q();const Ie=Be[me]=Qe.createElement(ce).attr(pe).add(Qe.defs);Ie.radAttr=Ce,Ie.stops=[],re.forEach(function(Ve){Ve[1].indexOf("rgba")===0?(ie=p.parse(Ve[1]),xe=ie.get("rgb"),_e=ie.get("a")):(xe=Ve[1],_e=1),Ve=Qe.createElement("stop").attr({offset:Ve[0],"stop-color":xe,"stop-opacity":_e}).add(Ie),Ie.stops.push(Ve)})}ke="url("+Qe.url+"#"+de+")",We.setAttribute(Me,ke),We.gradient=me,oe.toString=function(){return ke}}})}css(oe){const Me=this.styles,We={},Qe=this.element;let ie,ce=!Me;if(oe.color&&(oe.fill=oe.color),Me&&J(oe,function(pe,Ce){Me&&Me[Ce]!==pe&&(We[Ce]=pe,ce=!0)}),ce){Me&&(oe=se(Me,We)),oe.width===null||oe.width==="auto"?delete this.textWidth:Qe.nodeName.toLowerCase()==="text"&&oe.width&&(ie=this.textWidth=A(oe.width)),this.styles=oe,ie&&!ne&&this.renderer.forExport&&delete oe.width;const pe=q(oe);Qe.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach(Ce=>pe&&delete pe[Ce]),V(Qe,pe)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),oe.textOutline&&this.applyTextOutline(oe.textOutline)),this}dashstyleSetter(oe){let Me=this["stroke-width"];if(Me==="inherit"&&(Me=1),oe=oe&&oe.toLowerCase()){const We=oe.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(oe=We.length;oe--;)We[oe]=""+A(We[oe])*C(Me,NaN);oe=We.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",oe)}}destroy(){const oe=this;var Me=oe.element||{};const We=oe.renderer;var Qe=Me.ownerSVGElement;let ie=Me.nodeName==="SPAN"&&oe.parentGroup||void 0;if(Me.onclick=Me.onmouseout=Me.onmouseover=Me.onmousemove=Me.point=null,ee(oe),oe.clipPath&&Qe){const ce=oe.clipPath;[].forEach.call(Qe.querySelectorAll("[clip-path],[CLIP-PATH]"),function(pe){-1<pe.getAttribute("clip-path").indexOf(ce.element.id)&&pe.removeAttribute("clip-path")}),oe.clipPath=ce.destroy()}if(oe.stops){for(Qe=0;Qe<oe.stops.length;Qe++)oe.stops[Qe].destroy();oe.stops.length=0,oe.stops=void 0}for(oe.safeRemoveChild(Me);ie&&ie.div&&ie.div.childNodes.length===0;)Me=ie.parentGroup,oe.safeRemoveChild(ie.div),delete ie.div,ie=Me;oe.alignTo&&R(We.alignedObjects,oe),J(oe,function(ce,pe){oe[pe]&&oe[pe].parentGroup===oe&&oe[pe].destroy&&oe[pe].destroy(),delete oe[pe]})}dSetter(oe,Me,We){X(oe)&&(typeof oe[0]=="string"&&(oe=this.renderer.pathToSegments(oe)),this.pathArray=oe,oe=oe.reduce((Qe,ie,ce)=>ie&&ie.join?(ce?Qe+" ":"")+ie.join(" "):(ie||"").toString(),"")),/(NaN| {2}|^$)/.test(oe)&&(oe="M 0 0"),this[Me]!==oe&&(We.setAttribute(Me,oe),this[Me]=oe)}fadeOut(oe){const Me=this;Me.animate({opacity:0},{duration:C(oe,150),complete:function(){Me.hide()}})}fillSetter(oe,Me,We){typeof oe=="string"?We.setAttribute(Me,oe):oe&&this.complexColor(oe,Me,We)}getBBox(oe,Me){const{alignValue:We,element:Qe,renderer:ie,styles:ce,textStr:pe}=this,{cache:Ce,cacheKeys:Be}=ie;var re=Qe.namespaceURI===this.SVG_NS;Me=C(Me,this.rotation,0);var xe=ie.styledMode?Qe&&fe.prototype.getStyle.call(Qe,"font-size"):ce&&ce.fontSize;let _e,Y;if(W(pe)&&(Y=pe.toString(),Y.indexOf("<")===-1&&(Y=Y.replace(/[0-9]/g,"0")),Y+=["",ie.rootFontSize,xe,Me,this.textWidth,We,ce&&ce.textOverflow,ce&&ce.fontWeight].join()),Y&&!oe&&(_e=Ce[Y]),!_e){if(re||ie.forExport){try{var de=this.fakeTS&&function(it){const tt=Qe.querySelector(".highcharts-text-outline");tt&&V(tt,{display:it})};I(de)&&de("none"),_e=Qe.getBBox?se({},Qe.getBBox()):{width:Qe.offsetWidth,height:Qe.offsetHeight,x:0,y:0},I(de)&&de("")}catch{}(!_e||0>_e.width)&&(_e={x:0,y:0,width:0,height:0})}else _e=this.htmlGetBBox();if(de=_e.width,oe=_e.height,re&&(_e.height=oe={"11px,17":14,"13px,20":16}[`${xe||""},${Math.round(oe)}`]||oe),Me){re=Number(Qe.getAttribute("y")||0)-_e.y,xe={right:1,center:.5}[We||0]||0;var me=Me*F,ke=(Me-90)*F,Ie=de*Math.cos(me);Me=de*Math.sin(me);var Ve=Math.cos(ke);me=Math.sin(ke),de=_e.x+xe*(de-Ie)+re*Ve,ke=de+Ie,Ve=ke-oe*Ve,Ie=Ve-Ie,re=_e.y+re-xe*Me+re*me,xe=re+Me,oe=xe-oe*me,Me=oe-Me,_e.x=Math.min(de,ke,Ve,Ie),_e.y=Math.min(re,xe,oe,Me),_e.width=Math.max(de,ke,Ve,Ie)-_e.x,_e.height=Math.max(re,xe,oe,Me)-_e.y}}if(Y&&(pe===""||0<_e.height)){for(;250<Be.length;)delete Ce[Be.shift()];Ce[Y]||Be.push(Y),Ce[Y]=_e}return _e}getStyle(oe){return G.getComputedStyle(this.element||this,"").getPropertyValue(oe)}hasClass(oe){return(""+this.attr("class")).split(" ").indexOf(oe)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}init(oe,Me){this.element=Me==="span"?P(Me):Z.createElementNS(this.SVG_NS,Me),this.renderer=oe,S(this,"afterInit")}on(oe,Me){const{onEvents:We}=this;return We[oe]&&We[oe](),We[oe]=ae(this.element,oe,Me),this}opacitySetter(oe,Me,We){this.opacity=oe=Number(Number(oe).toFixed(3)),We.setAttribute(Me,oe)}removeClass(oe){return this.attr("class",(""+this.attr("class")).replace(K(oe)?new RegExp(`(^| )${oe}( |$)`):oe," ").replace(/ +/g," ").trim())}removeTextOutline(){const oe=this.element.querySelector("tspan.highcharts-text-outline");oe&&this.safeRemoveChild(oe)}safeRemoveChild(oe){const Me=oe.parentNode;Me&&Me.removeChild(oe)}setRadialReference(oe){const Me=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=oe,Me&&Me.radAttr&&Me.animate(this.renderer.getRadialAttr(oe,Me.radAttr)),this}setTextPath(oe,Me){Me=q(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},Me);const We=this.renderer.url,Qe=this.text||this,ie=Qe.textPath,{attributes:ce,enabled:pe}=Me;return oe=oe||ie&&ie.path,ie&&ie.undo(),oe&&pe?(Me=ae(Qe,"afterModifyTree",Ce=>{if(oe&&pe){let re=oe.attr("id");re||oe.attr("id",re=Q());var Be={x:0,y:0};W(ce.dx)&&(Be.dx=ce.dx,delete ce.dx),W(ce.dy)&&(Be.dy=ce.dy,delete ce.dy),Qe.attr(Be),this.attr({transform:""}),this.box&&(this.box=this.box.destroy()),Be=Ce.nodes.slice(0),Ce.nodes.length=0,Ce.nodes[0]={tagName:"textPath",attributes:se(ce,{"text-anchor":ce.textAnchor,href:`${We}#${re}`}),children:Be}}}),Qe.textPath={path:oe,undo:Me}):(Qe.attr({dx:0,dy:0}),delete Qe.textPath),this.added&&(Qe.textCache="",this.renderer.buildText(Qe)),this}shadow(oe){var Me;const{renderer:We}=this,Qe=q(((Me=this.parentGroup)===null||Me===void 0?void 0:Me.rotation)===90?{offsetX:-1,offsetY:-1}:{},$(oe)?oe:{});return Me=We.shadowDefinition(Qe),this.attr({filter:oe?`url(${We.url}#${Me})`:"none"})}show(oe=!0){return this.attr({visibility:oe?"inherit":"visible"})}"stroke-widthSetter"(oe,Me,We){this[Me]=oe,We.setAttribute(Me,oe)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;const oe=this.getStyle("stroke-width");let Me=0,We;return oe.indexOf("px")===oe.length-2?Me=A(oe):oe!==""&&(We=Z.createElementNS(z,"rect"),B(We,{width:oe,"stroke-width":0}),this.element.parentNode.appendChild(We),Me=We.getBBox().width,We.parentNode.removeChild(We)),Me}symbolAttr(oe){const Me=this;fe.symbolCustomAttribs.forEach(function(We){Me[We]=C(oe[We],Me[We])}),Me.attr({d:Me.renderer.symbols[Me.symbolName](Me.x,Me.y,Me.width,Me.height,Me)})}textSetter(oe){oe!==this.textStr&&(delete this.textPxLength,this.textStr=oe,this.added&&this.renderer.buildText(this))}titleSetter(oe){const Me=this.element,We=Me.getElementsByTagName("title")[0]||Z.createElementNS(this.SVG_NS,"title");Me.insertBefore?Me.insertBefore(We,Me.firstChild):Me.appendChild(We),We.textContent=String(C(oe,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){const oe=this.element;return oe.parentNode.appendChild(oe),this}translate(oe,Me){return this.attr({translateX:oe,translateY:Me})}updateTransform(){const{element:oe,matrix:Me,rotation:We=0,scaleX:Qe,scaleY:ie,translateX:ce=0,translateY:pe=0}=this,Ce=["translate("+ce+","+pe+")"];W(Me)&&Ce.push("matrix("+Me.join(",")+")"),We&&Ce.push("rotate("+We+" "+C(this.rotationOriginX,oe.getAttribute("x"),0)+" "+C(this.rotationOriginY,oe.getAttribute("y")||0)+")"),(W(Qe)||W(ie))&&Ce.push("scale("+C(Qe,1)+" "+C(ie,1)+")"),Ce.length&&!(this.text||this).textPath&&oe.setAttribute("transform",Ce.join(" "))}visibilitySetter(oe,Me,We){oe==="inherit"?We.removeAttribute(Me):this[Me]!==oe&&We.setAttribute(Me,oe),this[Me]=oe}xGetter(oe){return this.element.nodeName==="circle"&&(oe==="x"?oe="cx":oe==="y"&&(oe="cy")),this._defaultGetter(oe)}zIndexSetter(oe,Me){var We=this.renderer,Qe=this.parentGroup;const ie=(Qe||We).element||We.box,ce=this.element;We=ie===We.box;let pe=!1,Ce;var Be=this.added;let re;if(W(oe)?(ce.setAttribute("data-z-index",oe),oe=+oe,this[Me]===oe&&(Be=!1)):W(this[Me])&&ce.removeAttribute("data-z-index"),this[Me]=oe,Be){for((oe=this.zIndex)&&Qe&&(Qe.handleZ=!0),Me=ie.childNodes,re=Me.length-1;0<=re&&!pe;re--)Qe=Me[re],Be=Qe.getAttribute("data-z-index"),Ce=!W(Be),Qe!==ce&&(0>oe&&Ce&&!We&&!re?(ie.insertBefore(ce,Me[re]),pe=!0):(A(Be)<=oe||Ce&&(!W(oe)||0<=oe))&&(ie.insertBefore(ce,Me[re+1]),pe=!0));pe||(ie.insertBefore(ce,Me[We?3:0]),pe=!0)}return pe}}return fe.symbolCustomAttribs="anchorX anchorY clockwise end height innerR r start width x y".split(" "),fe.prototype.strokeSetter=fe.prototype.fillSetter,fe.prototype.yGetter=fe.prototype.xGetter,fe.prototype.matrixSetter=fe.prototype.rotationOriginXSetter=fe.prototype.rotationOriginYSetter=fe.prototype.rotationSetter=fe.prototype.scaleXSetter=fe.prototype.scaleYSetter=fe.prototype.translateXSetter=fe.prototype.translateYSetter=fe.prototype.verticalAlignSetter=function(Te,oe){this[oe]=Te,this.doTransform=!0},fe}),a(l,"Core/Renderer/RendererRegistry.js",[l["Core/Globals.js"]],function(h){var p;return function(y){y.rendererTypes={};let s;y.getRendererType=function(b=s){return y.rendererTypes[b]||y.rendererTypes[s]},y.registerRendererType=function(b,L,ee){y.rendererTypes[b]=L,(!s||ee)&&(s=b,h.Renderer=L)}}(p||(p={})),p}),a(l,"Core/Renderer/SVG/SVGLabel.js",[l["Core/Renderer/SVG/SVGElement.js"],l["Core/Utilities.js"]],function(h,p){const{defined:y,extend:s,isNumber:b,merge:L,pick:ee,removeEvent:F}=p;class Z extends h{constructor(z,G,ae,B,P,V,W,R,se,S){super(),this.paddingRightSetter=this.paddingLeftSetter=this.paddingSetter,this.init(z,"g"),this.textStr=G,this.x=ae,this.y=B,this.anchorX=V,this.anchorY=W,this.baseline=se,this.className=S,this.addClass(S==="button"?"highcharts-no-tooltip":"highcharts-label"),S&&this.addClass("highcharts-"+S),this.text=z.text(void 0,0,0,R).attr({zIndex:1});let X;typeof P=="string"&&((X=/^url\((.*?)\)$/.test(P))||this.renderer.symbols[P])&&(this.symbolKey=P),this.bBox=Z.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=z.styledMode||X,this.deferredAttr={},this.alignFactor=0}alignSetter(z){z={left:0,center:.5,right:1}[z],z!==this.alignFactor&&(this.alignFactor=z,this.bBox&&b(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(z,G){this.anchorX=z,this.boxAttr(G,Math.round(z)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(z,G){this.anchorY=z,this.boxAttr(G,z-this.ySetting)}boxAttr(z,G){this.box?this.box.attr(z,G):this.deferredAttr[z]=G}css(z){if(z){const G={};z=L(z),Z.textProps.forEach(ae=>{typeof z[ae]<"u"&&(G[ae]=z[ae],delete z[ae])}),this.text.css(G),"fontSize"in G||"fontWeight"in G?this.updateTextPadding():("width"in G||"textOverflow"in G)&&this.updateBoxSize()}return h.prototype.css.call(this,z)}destroy(){F(this.element,"mouseenter"),F(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),h.prototype.destroy.call(this)}fillSetter(z,G){z&&(this.needsBox=!0),this.fill=z,this.boxAttr(G,z)}getBBox(){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();const z=this.padding,G=ee(this.paddingLeft,z);return{width:this.width,height:this.height,x:this.bBox.x-G,y:this.bBox.y-z}}getCrispAdjust(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(z){this.heightSetting=z}onAdd(){this.text.add(this),this.attr({text:ee(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&y(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(z,G){b(z)?z!==this[G]&&(this[G]=z,this.updateTextPadding()):this[G]=void 0}rSetter(z,G){this.boxAttr(G,z)}strokeSetter(z,G){this.stroke=z,this.boxAttr(G,z)}"stroke-widthSetter"(z,G){z&&(this.needsBox=!0),this["stroke-width"]=z,this.boxAttr(G,z)}"text-alignSetter"(z){this.textAlign=z}textSetter(z){typeof z<"u"&&this.text.attr({text:z}),this.updateTextPadding()}updateBoxSize(){var z=this.text;const G={},ae=this.padding,B=this.bBox=b(this.widthSetting)&&b(this.heightSetting)&&!this.textAlign||!y(z.textStr)?Z.emptyBBox:z.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||B.height||0)+2*ae;const P=this.renderer.fontMetrics(z);this.baselineOffset=ae+Math.min((this.text.firstLineMetrics||P).b,B.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-P.h)/2),this.needsBox&&!z.textPath&&(this.box||(z=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect(),z.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),z.add(this)),z=this.getCrispAdjust(),G.x=z,G.y=(this.baseline?-this.baselineOffset:0)+z,G.width=Math.round(this.width),G.height=Math.round(this.height),this.box.attr(s(G,this.deferredAttr)),this.deferredAttr={})}updateTextPadding(){const z=this.text;if(!z.textPath){this.updateBoxSize();const G=this.baseline?0:this.baselineOffset;let ae=ee(this.paddingLeft,this.padding);y(this.widthSetting)&&this.bBox&&(this.textAlign==="center"||this.textAlign==="right")&&(ae+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(ae!==z.x||G!==z.y)&&(z.attr("x",ae),z.hasBoxWidthChanged&&(this.bBox=z.getBBox(!0)),typeof G<"u"&&z.attr("y",G)),z.x=ae,z.y=G}}widthSetter(z){this.widthSetting=b(z)?z:void 0}getPaddedWidth(){var z=this.padding;const G=ee(this.paddingLeft,z);return z=ee(this.paddingRight,z),(this.widthSetting||this.bBox.width||0)+G+z}xSetter(z){this.x=z,this.alignFactor&&(z-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(z),this.attr("translateX",this.xSetting)}ySetter(z){this.ySetting=this.y=Math.round(z),this.attr("translateY",this.ySetting)}}return Z.emptyBBox={width:0,height:0,x:0,y:0},Z.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow whiteSpace width".split(" "),Z}),a(l,"Core/Renderer/SVG/Symbols.js",[l["Core/Utilities.js"]],function(h){function p(F,Z,ne,z,G){const ae=[];if(G){const B=G.start||0,P=ee(G.r,ne);ne=ee(G.r,z||ne),z=(G.end||0)-.001;const V=G.innerR,W=ee(G.open,.001>Math.abs((G.end||0)-B-2*Math.PI)),R=Math.cos(B),se=Math.sin(B),S=Math.cos(z),X=Math.sin(z),I=ee(G.longArc,.001>z-B-Math.PI?0:1);let $=["A",P,ne,0,I,ee(G.clockwise,1),F+P*S,Z+ne*X];$.params={start:B,end:z,cx:F,cy:Z},ae.push(["M",F+P*R,Z+ne*se],$),b(V)&&($=["A",V,V,0,I,b(G.clockwise)?1-G.clockwise:0,F+V*R,Z+V*se],$.params={start:z,end:B,cx:F,cy:Z},ae.push(W?["M",F+V*S,Z+V*X]:["L",F+V*S,Z+V*X],$)),W||ae.push(["Z"])}return ae}function y(F,Z,ne,z,G){return G&&G.r?s(F,Z,ne,z,G):[["M",F,Z],["L",F+ne,Z],["L",F+ne,Z+z],["L",F,Z+z],["Z"]]}function s(F,Z,ne,z,G){return G=(G==null?void 0:G.r)||0,[["M",F+G,Z],["L",F+ne-G,Z],["A",G,G,0,0,1,F+ne,Z+G],["L",F+ne,Z+z-G],["A",G,G,0,0,1,F+ne-G,Z+z],["L",F+G,Z+z],["A",G,G,0,0,1,F,Z+z-G],["L",F,Z+G],["A",G,G,0,0,1,F+G,Z],["Z"]]}const{defined:b,isNumber:L,pick:ee}=h;return{arc:p,callout:function(F,Z,ne,z,G){const ae=Math.min(G&&G.r||0,ne,z),B=ae+6,P=G&&G.anchorX;G=G&&G.anchorY||0;const V=s(F,Z,ne,z,{r:ae});return L(P)&&(F+P>=ne?G>Z+B&&G<Z+z-B?V.splice(3,1,["L",F+ne,G-6],["L",F+ne+6,G],["L",F+ne,G+6],["L",F+ne,Z+z-ae]):V.splice(3,1,["L",F+ne,z/2],["L",P,G],["L",F+ne,z/2],["L",F+ne,Z+z-ae]):0>=F+P?G>Z+B&&G<Z+z-B?V.splice(7,1,["L",F,G+6],["L",F-6,G],["L",F,G-6],["L",F,Z+ae]):V.splice(7,1,["L",F,z/2],["L",P,G],["L",F,z/2],["L",F,Z+ae]):G&&G>z&&P>F+B&&P<F+ne-B?V.splice(5,1,["L",P+6,Z+z],["L",P,Z+z+6],["L",P-6,Z+z],["L",F+ae,Z+z]):G&&0>G&&P>F+B&&P<F+ne-B&&V.splice(1,1,["L",P-6,Z],["L",P,Z-6],["L",P+6,Z],["L",ne-ae,Z])),V},circle:function(F,Z,ne,z){return p(F+ne/2,Z+z/2,ne/2,z/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(F,Z,ne,z){return[["M",F+ne/2,Z],["L",F+ne,Z+z/2],["L",F+ne/2,Z+z],["L",F,Z+z/2],["Z"]]},rect:y,roundedRect:s,square:y,triangle:function(F,Z,ne,z){return[["M",F+ne/2,Z],["L",F+ne,Z+z],["L",F,Z+z],["Z"]]},"triangle-down":function(F,Z,ne,z){return[["M",F,Z],["L",F+ne,Z],["L",F+ne/2,Z+z],["Z"]]}}}),a(l,"Core/Renderer/SVG/TextBuilder.js",[l["Core/Renderer/HTML/AST.js"],l["Core/Globals.js"],l["Core/Utilities.js"]],function(h,p,y){const{doc:s,SVG_NS:b,win:L}=p,{attr:ee,extend:F,fireEvent:Z,isString:ne,objectEach:z,pick:G}=y;class ae{constructor(P){const V=P.styles;this.renderer=P.renderer,this.svgElement=P,this.width=P.textWidth,this.textLineHeight=V&&V.lineHeight,this.textOutline=V&&V.textOutline,this.ellipsis=!(!V||V.textOverflow!=="ellipsis"),this.noWrap=!(!V||V.whiteSpace!=="nowrap")}buildSVG(){const P=this.svgElement,V=P.element;var W=P.renderer,R=G(P.textStr,"").toString();const se=R.indexOf("<")!==-1,S=V.childNodes;W=!P.added&&W.box;const X=/<br.*?>/g;var I=[R,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,P.getStyle("font-size"),this.width].join();if(I!==P.textCache){for(P.textCache=I,delete P.actualWidth,I=S.length;I--;)V.removeChild(S[I]);se||this.ellipsis||this.width||P.textPath||R.indexOf(" ")!==-1&&(!this.noWrap||X.test(R))?R!==""&&(W&&W.appendChild(V),R=new h(R),this.modifyTree(R.nodes),R.addToDOM(V),this.modifyDOM(),this.ellipsis&&(V.textContent||"").indexOf("…")!==-1&&P.attr("title",this.unescapeEntities(P.textStr||"",["&lt;","&gt;"])),W&&W.removeChild(V)):V.appendChild(s.createTextNode(this.unescapeEntities(R))),ne(this.textOutline)&&P.applyTextOutline&&P.applyTextOutline(this.textOutline)}}modifyDOM(){const P=this.svgElement,V=ee(P.element,"x");P.firstLineMetrics=void 0;let W;for(;(W=P.element.firstChild)&&/^[\s\u200B]*$/.test(W.textContent||" ");)P.element.removeChild(W);[].forEach.call(P.element.querySelectorAll("tspan.highcharts-br"),(X,I)=>{X.nextSibling&&X.previousSibling&&(I===0&&X.previousSibling.nodeType===1&&(P.firstLineMetrics=P.renderer.fontMetrics(X.previousSibling)),ee(X,{dy:this.getLineHeight(X.nextSibling),x:V}))});const R=this.width||0;if(R){var se=(X,I)=>{var $=X.textContent||"";const K=$.replace(/([^\^])-/g,"$1- ").split(" ");var q=!this.noWrap&&(1<K.length||1<P.element.childNodes.length);const J=this.getLineHeight(I);let C=0,A=P.actualWidth;if(this.ellipsis)$&&this.truncate(X,$,void 0,0,Math.max(0,R-.8*J),(O,Q)=>O.substring(0,Q)+"…");else if(q){for($=[],q=[];I.firstChild&&I.firstChild!==X;)q.push(I.firstChild),I.removeChild(I.firstChild);for(;K.length;)K.length&&!this.noWrap&&0<C&&($.push(X.textContent||""),X.textContent=K.join(" ").replace(/- /g,"-")),this.truncate(X,void 0,K,C===0&&A||0,R,(O,Q)=>K.slice(0,Q).join(" ").replace(/- /g,"-")),A=P.actualWidth,C++;q.forEach(O=>{I.insertBefore(O,X)}),$.forEach(O=>{I.insertBefore(s.createTextNode(O),X),O=s.createElementNS(b,"tspan"),O.textContent="​",ee(O,{dy:J,x:V}),I.insertBefore(O,X)})}},S=X=>{[].slice.call(X.childNodes).forEach(I=>{I.nodeType===L.Node.TEXT_NODE?se(I,X):(I.className.baseVal.indexOf("highcharts-br")!==-1&&(P.actualWidth=0),S(I))})};S(P.element)}}getLineHeight(P){return P=P.nodeType===L.Node.TEXT_NODE?P.parentElement:P,this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(P||this.svgElement.element).h}modifyTree(P){const V=(W,R)=>{const{attributes:se={},children:S,style:X={},tagName:I}=W,$=this.renderer.styledMode;I==="b"||I==="strong"?$?se.class="highcharts-strong":X.fontWeight="bold":(I==="i"||I==="em")&&($?se.class="highcharts-emphasized":X.fontStyle="italic"),X&&X.color&&(X.fill=X.color),I==="br"?(se.class="highcharts-br",W.textContent="​",(R=P[R+1])&&R.textContent&&(R.textContent=R.textContent.replace(/^ +/gm,""))):I==="a"&&S&&S.some(K=>K.tagName==="#text")&&(W.children=[{children:S,tagName:"tspan"}]),I!=="#text"&&I!=="a"&&(W.tagName="tspan"),F(W,{attributes:se,style:X}),S&&S.filter(K=>K.tagName!=="#text").forEach(V)};P.forEach(V),Z(this.svgElement,"afterModifyTree",{nodes:P})}truncate(P,V,W,R,se,S){const X=this.svgElement,{rotation:I}=X,$=[];let K=W?1:0,q=(V||W||"").length,J=q,C,A;const O=function(Q,fe){if(Q=fe||Q,(fe=P.parentNode)&&typeof $[Q]>"u"&&fe.getSubStringLength)try{$[Q]=R+fe.getSubStringLength(0,W?Q+1:Q)}catch{}return $[Q]};if(X.rotation=0,A=O(P.textContent.length),R+A>se){for(;K<=q;)J=Math.ceil((K+q)/2),W&&(C=S(W,J)),A=O(J,C&&C.length-1),K===q?K=q+1:A>se?q=J-1:K=J;q===0?P.textContent="":V&&q===V.length-1||(P.textContent=C||S(V||W,J))}W&&W.splice(0,J),X.actualWidth=A,X.rotation=I}unescapeEntities(P,V){return z(this.renderer.escapes,function(W,R){V&&V.indexOf(W)!==-1||(P=P.toString().replace(new RegExp(W,"g"),R))}),P}}return ae}),a(l,"Core/Renderer/SVG/SVGRenderer.js",[l["Core/Renderer/HTML/AST.js"],l["Core/Color/Color.js"],l["Core/Globals.js"],l["Core/Renderer/RendererRegistry.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Renderer/SVG/SVGLabel.js"],l["Core/Renderer/SVG/Symbols.js"],l["Core/Renderer/SVG/TextBuilder.js"],l["Core/Utilities.js"]],function(h,p,y,s,b,L,ee,F,Z){const{charts:ne,deg2rad:z,doc:G,isFirefox:ae,isMS:B,isWebKit:P,noop:V,SVG_NS:W,symbolSizes:R,win:se}=y,{addEvent:S,attr:X,createElement:I,css:$,defined:K,destroyObjectProperties:q,extend:J,isArray:C,isNumber:A,isObject:O,isString:Q,merge:fe,pick:Te,pInt:oe,uniqueKey:Me}=Z;let We;class Qe{constructor(ce,pe,Ce,Be,re,xe,_e){this.width=this.url=this.style=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(ce,pe,Ce,Be,re,xe,_e)}init(ce,pe,Ce,Be,re,xe,_e){const Y=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),de=Y.element;_e||Y.css(this.getStyle(Be)),ce.appendChild(de),X(ce,"dir","ltr"),ce.innerHTML.indexOf("xmlns")===-1&&X(de,"xmlns",this.SVG_NS),this.box=de,this.boxWrapper=Y,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(G.createTextNode("Created with Highcharts 11.0.1")),this.defs=this.createElement("defs").add(),this.allowHTML=xe,this.forExport=re,this.styledMode=_e,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=Y.getStyle("font-size"),this.setSize(pe,Ce,!1);let me;ae&&ce.getBoundingClientRect&&(pe=function(){$(ce,{left:0,top:0}),me=ce.getBoundingClientRect(),$(ce,{left:Math.ceil(me.left)-me.left+"px",top:Math.ceil(me.top)-me.top+"px"})},pe(),this.unSubPixelFix=S(se,"resize",pe))}definition(ce){return new h([ce]).addToDOM(this.defs.element)}getReferenceURL(){if((ae||P)&&G.getElementsByTagName("base").length){if(!K(We)){var ce=Me();ce=new h([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:ce},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${ce})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(G.body),$(ce,{position:"fixed",top:0,left:0,zIndex:9e5});const pe=G.elementFromPoint(6,6);We=(pe&&pe.id)==="hitme",G.body.removeChild(ce)}if(We)return se.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""}getStyle(ce){return this.style=J({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},ce)}setStyle(ce){this.boxWrapper.css(this.getStyle(ce))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){const ce=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),q(this.gradients||{}),this.gradients=null,this.defs=ce.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null}createElement(ce){const pe=new this.Element;return pe.init(this,ce),pe}getRadialAttr(ce,pe){return{cx:ce[0]-ce[2]/2+(pe.cx||0)*ce[2],cy:ce[1]-ce[2]/2+(pe.cy||0)*ce[2],r:(pe.r||0)*ce[2]}}shadowDefinition(ce){const pe=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(ce).map(Be=>ce[Be])].join("-").replace(/[^a-z0-9\-]/g,""),Ce=fe({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},ce);return this.defs.element.querySelector(`#${pe}`)||this.definition({tagName:"filter",attributes:{id:pe},children:[{tagName:"feDropShadow",attributes:{dx:Ce.offsetX,dy:Ce.offsetY,"flood-color":Ce.color,"flood-opacity":Math.min(5*Ce.opacity,1),stdDeviation:Ce.width/2}}]}),pe}buildText(ce){new F(ce).buildSVG()}getContrast(ce){return ce=p.parse(ce).rgba.map(pe=>(pe/=255,.03928>=pe?pe/12.92:Math.pow((pe+.055)/1.055,2.4))),ce=.2126*ce[0]+.7152*ce[1]+.0722*ce[2],1.05/(ce+.05)>(ce+.05)/.05?"#FFFFFF":"#000000"}button(ce,pe,Ce,Be,re={},xe,_e,Y,de,me){const ke=this.label(ce,pe,Ce,de,void 0,void 0,me,void 0,"button"),Ie=this.styledMode;ce=re.states||{};let Ve=0;re=fe(re),delete re.states;const it=fe({color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},re.style);delete re.style;let tt=h.filterUserAttributes(re);ke.attr(fe({padding:8,r:2},tt));let ht,Ee,De;return Ie||(tt=fe({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},tt),xe=fe(tt,{fill:"#e6e6e6"},h.filterUserAttributes(xe||ce.hover||{})),ht=xe.style,delete xe.style,_e=fe(tt,{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},h.filterUserAttributes(_e||ce.select||{})),Ee=_e.style,delete _e.style,Y=fe(tt,{style:{color:"#cccccc"}},h.filterUserAttributes(Y||ce.disabled||{})),De=Y.style,delete Y.style),S(ke.element,B?"mouseover":"mouseenter",function(){Ve!==3&&ke.setState(1)}),S(ke.element,B?"mouseout":"mouseleave",function(){Ve!==3&&ke.setState(Ve)}),ke.setState=function(Fe){Fe!==1&&(ke.state=Ve=Fe),ke.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][Fe||0]),Ie||(ke.attr([tt,xe,_e,Y][Fe||0]),Fe=[it,ht,Ee,De][Fe||0],O(Fe)&&ke.css(Fe))},Ie||(ke.attr(tt).css(J({cursor:"default"},it)),me&&ke.text.css({pointerEvents:"none"})),ke.on("touchstart",Fe=>Fe.stopPropagation()).on("click",function(Fe){Ve!==3&&Be.call(ke,Fe)})}crispLine(ce,pe,Ce="round"){const Be=ce[0],re=ce[1];return K(Be[1])&&Be[1]===re[1]&&(Be[1]=re[1]=Math[Ce](Be[1])-pe%2/2),K(Be[2])&&Be[2]===re[2]&&(Be[2]=re[2]=Math[Ce](Be[2])+pe%2/2),ce}path(ce){const pe=this.styledMode?{}:{fill:"none"};return C(ce)?pe.d=ce:O(ce)&&J(pe,ce),this.createElement("path").attr(pe)}circle(ce,pe,Ce){return ce=O(ce)?ce:typeof ce>"u"?{}:{x:ce,y:pe,r:Ce},pe=this.createElement("circle"),pe.xSetter=pe.ySetter=function(Be,re,xe){xe.setAttribute("c"+re,Be)},pe.attr(ce)}arc(ce,pe,Ce,Be,re,xe){return O(ce)?(Be=ce,pe=Be.y,Ce=Be.r,ce=Be.x):Be={innerR:Be,start:re,end:xe},ce=this.symbol("arc",ce,pe,Ce,Ce,Be),ce.r=Ce,ce}rect(ce,pe,Ce,Be,re,xe){ce=O(ce)?ce:typeof ce>"u"?{}:{x:ce,y:pe,r:re,width:Math.max(Ce||0,0),height:Math.max(Be||0,0)};const _e=this.createElement("rect");return this.styledMode||(typeof xe<"u"&&(ce["stroke-width"]=xe,J(ce,_e.crisp(ce))),ce.fill="none"),_e.rSetter=function(Y,de,me){_e.r=Y,X(me,{rx:Y,ry:Y})},_e.rGetter=function(){return _e.r||0},_e.attr(ce)}roundedRect(ce){return this.symbol("roundedRect").attr(ce)}setSize(ce,pe,Ce){this.width=ce,this.height=pe,this.boxWrapper.animate({width:ce,height:pe},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Te(Ce,!0)?void 0:0}),this.alignElements()}g(ce){const pe=this.createElement("g");return ce?pe.attr({class:"highcharts-"+ce}):pe}image(ce,pe,Ce,Be,re,xe){const _e={preserveAspectRatio:"none"},Y=function(me,ke){me.setAttributeNS?me.setAttributeNS("http://www.w3.org/1999/xlink","href",ke):me.setAttribute("hc-svg-href",ke)};A(pe)&&(_e.x=pe),A(Ce)&&(_e.y=Ce),A(Be)&&(_e.width=Be),A(re)&&(_e.height=re);const de=this.createElement("image").attr(_e);return pe=function(me){Y(de.element,ce),xe.call(de,me)},xe?(Y(de.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),Ce=new se.Image,S(Ce,"load",pe),Ce.src=ce,Ce.complete&&pe({})):Y(de.element,ce),de}symbol(ce,pe,Ce,Be,re,xe){const _e=this,Y=/^url\((.*?)\)$/,de=Y.test(ce),me=!de&&(this.symbols[ce]?ce:"circle"),ke=me&&this.symbols[me];let Ie,Ve,it,tt;if(ke)typeof pe=="number"&&(Ve=ke.call(this.symbols,Math.round(pe||0),Math.round(Ce||0),Be||0,re||0,xe)),Ie=this.path(Ve),_e.styledMode||Ie.attr("fill","none"),J(Ie,{symbolName:me||void 0,x:pe,y:Ce,width:Be,height:re}),xe&&J(Ie,xe);else if(de){it=ce.match(Y)[1];const ht=Ie=this.image(it);ht.imgwidth=Te(xe&&xe.width,R[it]&&R[it].width),ht.imgheight=Te(xe&&xe.height,R[it]&&R[it].height),tt=Ee=>Ee.attr({width:Ee.width,height:Ee.height}),["width","height"].forEach(function(Ee){ht[Ee+"Setter"]=function(De,Fe){this[Fe]=De;const{alignByTranslate:qe,element:He,width:xt,height:jt,imgwidth:Vt,imgheight:vi}=this;if(De=this["img"+Fe],K(De)){let ri=1;xe&&xe.backgroundSize==="within"&&xt&&jt?(ri=Math.min(xt/Vt,jt/vi),X(He,{width:Math.round(Vt*ri),height:Math.round(vi*ri)})):He&&He.setAttribute(Fe,De),qe||this.translate(((xt||0)-Vt*ri)/2,((jt||0)-vi*ri)/2)}}}),K(pe)&&ht.attr({x:pe,y:Ce}),ht.isImg=!0,K(ht.imgwidth)&&K(ht.imgheight)?tt(ht):(ht.attr({width:0,height:0}),I("img",{onload:function(){const Ee=ne[_e.chartIndex];this.width===0&&($(this,{position:"absolute",top:"-999em"}),G.body.appendChild(this)),R[it]={width:this.width,height:this.height},ht.imgwidth=this.width,ht.imgheight=this.height,ht.element&&tt(ht),this.parentNode&&this.parentNode.removeChild(this),_e.imgCount--,!_e.imgCount&&Ee&&!Ee.hasLoaded&&Ee.onload()},src:it}),this.imgCount++)}return Ie}clipRect(ce,pe,Ce,Be){const re=Me()+"-",xe=this.createElement("clipPath").attr({id:re}).add(this.defs);return ce=this.rect(ce,pe,Ce,Be,0).add(xe),ce.id=re,ce.clipPath=xe,ce.count=0,ce}text(ce,pe,Ce,Be){const re={};return Be&&(this.allowHTML||!this.forExport)?this.html(ce,pe,Ce):(re.x=Math.round(pe||0),Ce&&(re.y=Math.round(Ce)),K(ce)&&(re.text=ce),ce=this.createElement("text").attr(re),(!Be||this.forExport&&!this.allowHTML)&&(ce.xSetter=function(xe,_e,Y){const de=Y.getElementsByTagName("tspan"),me=Y.getAttribute(_e);for(let ke=0,Ie;ke<de.length;ke++)Ie=de[ke],Ie.getAttribute(_e)===me&&Ie.setAttribute(_e,xe);Y.setAttribute(_e,xe)}),ce)}fontMetrics(ce){ce=oe(b.prototype.getStyle.call(ce,"font-size")||0);const pe=24>ce?ce+3:Math.round(1.2*ce);return{h:pe,b:Math.round(.8*pe),f:ce}}rotCorr(ce,pe,Ce){let Be=ce;return pe&&Ce&&(Be=Math.max(Be*Math.cos(pe*z),4)),{x:-ce/3*Math.sin(pe*z),y:Be}}pathToSegments(ce){const pe=[],Ce=[],Be={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let re=0;re<ce.length;re++)Q(Ce[0])&&A(ce[re])&&Ce.length===Be[Ce[0].toUpperCase()]&&ce.splice(re,0,Ce[0].replace("M","L").replace("m","l")),typeof ce[re]=="string"&&(Ce.length&&pe.push(Ce.slice(0)),Ce.length=0),Ce.push(ce[re]);return pe.push(Ce.slice(0)),pe}label(ce,pe,Ce,Be,re,xe,_e,Y,de){return new L(this,ce,pe,Ce,Be,re,xe,_e,Y,de)}alignElements(){this.alignedObjects.forEach(ce=>ce.align())}}return J(Qe.prototype,{Element:b,SVG_NS:W,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:ee,draw:V}),s.registerRendererType("svg",Qe,!0),Qe}),a(l,"Core/Renderer/HTML/HTMLElement.js",[l["Core/Globals.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Utilities.js"]],function(h,p,y){const{isFirefox:s,isMS:b,isWebKit:L,win:ee}=h,{css:F,defined:Z,extend:ne,pick:z,pInt:G}=y,ae=[];class B extends p{static compose(V){if(y.pushUnique(ae,V)){const W=B.prototype,R=V.prototype;R.getSpanCorrection=W.getSpanCorrection,R.htmlCss=W.htmlCss,R.htmlGetBBox=W.htmlGetBBox,R.htmlUpdateTransform=W.htmlUpdateTransform,R.setSpanRotation=W.setSpanRotation}return V}getSpanCorrection(V,W,R){this.xCorr=-V*R,this.yCorr=-W}htmlCss(V){const W=this.element.tagName==="SPAN"&&V&&"width"in V,R=z(W&&V.width,void 0);let se;return W&&(delete V.width,this.textWidth=R,se=!0),V&&V.textOverflow==="ellipsis"&&(V.whiteSpace="nowrap",V.overflow="hidden"),this.styles=ne(this.styles,V),F(this.element,V),se&&this.htmlUpdateTransform(),this}htmlGetBBox(){const V=this.element;return{x:V.offsetLeft,y:V.offsetTop,width:V.offsetWidth,height:V.offsetHeight}}htmlUpdateTransform(){if(this.added){var V=this.renderer,W=this.element,R=this.x||0,se=this.y||0,S=this.textAlign||"left",X={left:0,center:.5,right:1}[S],I=this.styles,$=I&&I.whiteSpace;if(F(W,{marginLeft:this.translateX||0,marginTop:this.translateY||0}),W.tagName==="SPAN"){I=this.rotation;const q=this.textWidth&&G(this.textWidth),J=[I,S,W.innerHTML,this.textWidth,this.textAlign].join();let C=!1;if(q!==this.oldTextWidth){if(this.textPxLength)var K=this.textPxLength;else F(W,{width:"",whiteSpace:$||"nowrap"}),K=W.offsetWidth;(q>this.oldTextWidth||K>q)&&(/[ \-]/.test(W.textContent||W.innerText)||W.style.textOverflow==="ellipsis")&&(F(W,{width:K>q||I?q+"px":"auto",display:"block",whiteSpace:$||"normal"}),this.oldTextWidth=q,C=!0)}this.hasBoxWidthChanged=C,J!==this.cTT&&(V=V.fontMetrics(W).b,!Z(I)||I===(this.oldRotation||0)&&S===this.oldAlign||this.setSpanRotation(I,X,V),this.getSpanCorrection(!Z(I)&&this.textPxLength||W.offsetWidth,V,X,I,S)),F(W,{left:R+(this.xCorr||0)+"px",top:se+(this.yCorr||0)+"px"}),this.cTT=J,this.oldRotation=I,this.oldAlign=S}}else this.alignOnAdd=!0}setSpanRotation(V,W,R){const se={},S=b&&!/Edge/.test(ee.navigator.userAgent)?"-ms-transform":L?"-webkit-transform":s?"MozTransform":ee.opera?"-o-transform":void 0;S&&(se[S]=se.transform="rotate("+V+"deg)",se[S+(s?"Origin":"-origin")]=se.transformOrigin=100*W+"% "+R+"px",F(this.element,se))}}return B}),a(l,"Core/Renderer/HTML/HTMLRenderer.js",[l["Core/Renderer/HTML/AST.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Renderer/SVG/SVGRenderer.js"],l["Core/Utilities.js"]],function(h,p,y,s){const{attr:b,createElement:L,extend:ee,pick:F}=s,Z=[];class ne extends y{static compose(G){return s.pushUnique(Z,G)&&(G.prototype.html=ne.prototype.html),G}html(G,ae,B){const P=this.createElement("span"),V=P.element,W=P.renderer,R=function(se,S){["opacity","visibility"].forEach(function(X){se[X+"Setter"]=function(I,$,K){const q=se.div?se.div.style:S;p.prototype[X+"Setter"].call(this,I,$,K),q&&(q[$]=I)}}),se.addedSetters=!0};return P.textSetter=function(se){se!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,h.setElementHTML(this.element,F(se,"")),this.textStr=se,P.doTransform=!0)},R(P,P.element.style),P.xSetter=P.ySetter=P.alignSetter=P.rotationSetter=function(se,S){S==="align"?P.alignValue=P.textAlign=se:P[S]=se,P.doTransform=!0},P.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},P.attr({text:G,x:Math.round(ae),y:Math.round(B)}).css({position:"absolute"}),W.styledMode||P.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),V.style.whiteSpace="nowrap",P.css=P.htmlCss,P.add=function(se){const S=W.box.parentNode,X=[];let I;if(this.parentGroup=se){if(I=se.div,!I){for(;se;)X.push(se),se=se.parentGroup;X.reverse().forEach(function($){function K(A,O){$[O]=A,O==="translateX"?C.left=A+"px":C.top=A+"px",$.doTransform=!0}const q=b($.element,"class"),J=$.styles||{};I=$.div=$.div||L("div",q?{className:q}:void 0,{position:"absolute",left:($.translateX||0)+"px",top:($.translateY||0)+"px",display:$.display,opacity:$.opacity,visibility:$.visibility},I||S);const C=I.style;ee($,{classSetter:function(A){return function(O){this.element.setAttribute("class",O),A.className=O}}(I),css:function(A){return P.css.call($,A),["cursor","pointerEvents"].forEach(O=>{A[O]&&(C[O]=A[O])}),$},on:function(){return X[0].div&&P.on.apply({element:X[0].div,onEvents:$.onEvents},arguments),$},translateXSetter:K,translateYSetter:K}),$.addedSetters||R($),$.css(J)})}}else I=S;return I.appendChild(V),P.added=!0,P.alignOnAdd&&P.htmlUpdateTransform(),P},P}}return ne}),a(l,"Core/Axis/AxisDefaults.js",[],function(){var h;return function(p){p.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},p.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){const{numberFormatter:y}=this.axis.chart;return y(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},p.defaultLeftAxisOptions={title:{rotation:270}},p.defaultRightAxisOptions={title:{rotation:90}},p.defaultBottomAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}},p.defaultTopAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}}}(h||(h={})),h}),a(l,"Core/Foundation.js",[l["Core/Utilities.js"]],function(h){const{addEvent:p,isFunction:y,objectEach:s,removeEvent:b}=h;var L;return function(ee){ee.registerEventOptions=function(F,Z){F.eventOptions=F.eventOptions||{},s(Z.events,function(ne,z){F.eventOptions[z]!==ne&&(F.eventOptions[z]&&(b(F,z,F.eventOptions[z]),delete F.eventOptions[z]),y(ne)&&(F.eventOptions[z]=ne,p(F,z,ne,{order:0})))})}}(L||(L={})),L}),a(l,"Core/Axis/Tick.js",[l["Core/FormatUtilities.js"],l["Core/Globals.js"],l["Core/Utilities.js"]],function(h,p,y){const{deg2rad:s}=p,{clamp:b,correctFloat:L,defined:ee,destroyObjectProperties:F,extend:Z,fireEvent:ne,isNumber:z,merge:G,objectEach:ae,pick:B}=y;class P{constructor(W,R,se,S,X){this.isNewLabel=this.isNew=!0,this.axis=W,this.pos=R,this.type=se||"",this.parameters=X||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,ne(this,"init"),se||S||this.addLabel()}addLabel(){const W=this,R=W.axis;var se=R.options;const S=R.chart;var X=R.categories;const I=R.logarithmic,$=R.names,K=W.pos,q=B(W.options&&W.options.labels,se.labels);var J=R.tickPositions;const C=K===J[0],A=K===J[J.length-1],O=(!q.step||q.step===1)&&R.tickInterval===1;J=J.info;let Q=W.label,fe,Te,oe;X=this.parameters.category||(X?B(X[K],$[K],K):K),I&&z(X)&&(X=L(I.lin2log(X))),R.dateTime&&(J?(Te=S.time.resolveDTLFormat(se.dateTimeLabelFormats[!se.grid&&J.higherRanks[K]||J.unitName]),fe=Te.main):z(X)&&(fe=R.dateTime.getXDateFormat(X,se.dateTimeLabelFormats||{}))),W.isFirst=C,W.isLast=A;const Me={axis:R,chart:S,dateTimeLabelFormat:fe,isFirst:C,isLast:A,pos:K,tick:W,tickPositionInfo:J,value:X};ne(this,"labelFormat",Me);const We=ie=>q.formatter?q.formatter.call(ie,ie):q.format?(ie.text=R.defaultLabelFormatter.call(ie,ie),h.format(q.format,ie,S)):R.defaultLabelFormatter.call(ie,ie);se=We.call(Me,Me);const Qe=Te&&Te.list;W.shortenLabel=Qe?function(){for(oe=0;oe<Qe.length;oe++)if(Z(Me,{dateTimeLabelFormat:Qe[oe]}),Q.attr({text:We.call(Me,Me)}),Q.getBBox().width<R.getSlotWidth(W)-2*q.padding)return;Q.attr({text:""})}:void 0,O&&R._addedPlotLB&&W.moveLabel(se,q),ee(Q)||W.movedLabel?Q&&Q.textStr!==se&&!O&&(!Q.textWidth||q.style.width||Q.styles.width||Q.css({width:null}),Q.attr({text:se}),Q.textPxLength=Q.getBBox().width):(W.label=Q=W.createLabel({x:0,y:0},se,q),W.rotation=0)}createLabel(W,R,se){const S=this.axis,X=S.chart;return(W=ee(R)&&se.enabled?X.renderer.text(R,W.x,W.y,se.useHTML).add(S.labelGroup):null)&&(X.styledMode||W.css(G(se.style)),W.textPxLength=W.getBBox().width),W}destroy(){F(this,this.axis)}getPosition(W,R,se,S){const X=this.axis,I=X.chart,$=S&&I.oldChartHeight||I.chartHeight;return W={x:W?L(X.translate(R+se,void 0,void 0,S)+X.transB):X.left+X.offset+(X.opposite?(S&&I.oldChartWidth||I.chartWidth)-X.right-X.left:0),y:W?$-X.bottom+X.offset-(X.opposite?X.height:0):L($-X.translate(R+se,void 0,void 0,S)-X.transB)},W.y=b(W.y,-1e5,1e5),ne(this,"afterGetPosition",{pos:W}),W}getLabelPosition(W,R,se,S,X,I,$,K){const q=this.axis,J=q.transA,C=q.isLinked&&q.linkedParent?q.linkedParent.reversed:q.reversed,A=q.staggerLines,O=q.tickRotCorr||{x:0,y:0},Q=S||q.reserveSpaceDefault?0:-q.labelOffset*(q.labelAlign==="center"?.5:1),fe=X.distance,Te={};return se=q.side===0?se.rotation?-fe:-se.getBBox().height:q.side===2?O.y+fe:Math.cos(se.rotation*s)*(O.y-se.getBBox(!1,0).height/2),ee(X.y)&&(se=q.side===0&&q.horiz?X.y+se:X.y),W=W+B(X.x,[0,1,0,-1][q.side]*fe)+Q+O.x-(I&&S?I*J*(C?-1:1):0),R=R+se-(I&&!S?I*J*(C?1:-1):0),A&&(S=$/(K||1)%A,q.opposite&&(S=A-S-1),R+=q.labelOffset/A*S),Te.x=W,Te.y=Math.round(R),ne(this,"afterGetLabelPosition",{pos:Te,tickmarkOffset:I,index:$}),Te}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(W,R,se,S,X,I){return I.crispLine([["M",W,R],["L",W+(X?0:-se),R+(X?se:0)]],S)}handleOverflow(W){const R=this.axis,se=R.options.labels,S=W.x;var X=R.chart.chartWidth,I=R.chart.spacing;const $=B(R.labelLeft,Math.min(R.pos,I[3]));I=B(R.labelRight,Math.max(R.isRadial?0:R.pos+R.len,X-I[1]));const K=this.label,q=this.rotation,J={left:0,center:.5,right:1}[R.labelAlign||K.attr("align")],C=K.getBBox().width,A=R.getSlotWidth(this),O={};let Q=A,fe=1,Te;q||se.overflow!=="justify"?0>q&&S-J*C<$?Te=Math.round(S/Math.cos(q*s)-$):0<q&&S+J*C>I&&(Te=Math.round((X-S)/Math.cos(q*s))):(X=S+(1-J)*C,S-J*C<$?Q=W.x+Q*(1-J)-$:X>I&&(Q=I-W.x+Q*J,fe=-1),Q=Math.min(A,Q),Q<A&&R.labelAlign==="center"&&(W.x+=fe*(A-Q-J*(A-Math.min(C,Q)))),(C>Q||R.autoRotation&&(K.styles||{}).width)&&(Te=Q)),Te&&(this.shortenLabel?this.shortenLabel():(O.width=Math.floor(Te)+"px",(se.style||{}).textOverflow||(O.textOverflow="ellipsis"),K.css(O)))}moveLabel(W,R){const se=this;var S=se.label;const X=se.axis;let I=!1;S&&S.textStr===W?(se.movedLabel=S,I=!0,delete se.label):ae(X.ticks,function($){I||$.isNew||$===se||!$.label||$.label.textStr!==W||(se.movedLabel=$.label,I=!0,$.labelPos=se.movedLabel.xy,delete $.label)}),I||!se.labelPos&&!S||(S=se.labelPos||S.xy,se.movedLabel=se.createLabel(S,W,R),se.movedLabel&&se.movedLabel.attr({opacity:0}))}render(W,R,se){var S=this.axis,X=S.horiz,I=this.pos,$=B(this.tickmarkOffset,S.tickmarkOffset);I=this.getPosition(X,I,$,R),$=I.x;const K=I.y;S=X&&$===S.pos+S.len||!X&&K===S.pos?-1:1,X=B(se,this.label&&this.label.newOpacity,1),se=B(se,1),this.isActive=!0,this.renderGridLine(R,se,S),this.renderMark(I,se,S),this.renderLabel(I,R,X,W),this.isNew=!1,ne(this,"afterRender")}renderGridLine(W,R,se){const S=this.axis,X=S.options,I={},$=this.pos,K=this.type,q=B(this.tickmarkOffset,S.tickmarkOffset),J=S.chart.renderer;let C=this.gridLine,A=X.gridLineWidth,O=X.gridLineColor,Q=X.gridLineDashStyle;this.type==="minor"&&(A=X.minorGridLineWidth,O=X.minorGridLineColor,Q=X.minorGridLineDashStyle),C||(S.chart.styledMode||(I.stroke=O,I["stroke-width"]=A||0,I.dashstyle=Q),K||(I.zIndex=1),W&&(R=0),this.gridLine=C=J.path().attr(I).addClass("highcharts-"+(K?K+"-":"")+"grid-line").add(S.gridGroup)),C&&(se=S.getPlotLinePath({value:$+q,lineWidth:C.strokeWidth()*se,force:"pass",old:W,acrossPanes:!1}))&&C[W||this.isNew?"attr":"animate"]({d:se,opacity:R})}renderMark(W,R,se){const S=this.axis;var X=S.options;const I=S.chart.renderer,$=this.type,K=S.tickSize($?$+"Tick":"tick"),q=W.x;W=W.y;const J=B(X[$!=="minor"?"tickWidth":"minorTickWidth"],!$&&S.isXAxis?1:0);X=X[$!=="minor"?"tickColor":"minorTickColor"];let C=this.mark;const A=!C;K&&(S.opposite&&(K[0]=-K[0]),C||(this.mark=C=I.path().addClass("highcharts-"+($?$+"-":"")+"tick").add(S.axisGroup),S.chart.styledMode||C.attr({stroke:X,"stroke-width":J})),C[A?"attr":"animate"]({d:this.getMarkPath(q,W,K[0],C.strokeWidth()*se,S.horiz,I),opacity:R}))}renderLabel(W,R,se,S){var X=this.axis;const I=X.horiz,$=X.options,K=this.label,q=$.labels,J=q.step;X=B(this.tickmarkOffset,X.tickmarkOffset);const C=W.x;W=W.y;let A=!0;K&&z(C)&&(K.xy=W=this.getLabelPosition(C,W,K,I,q,X,S,J),this.isFirst&&!this.isLast&&!$.showFirstLabel||this.isLast&&!this.isFirst&&!$.showLastLabel?A=!1:!I||q.step||q.rotation||R||se===0||this.handleOverflow(W),J&&S%J&&(A=!1),A&&z(W.y)?(W.opacity=se,K[this.isNewLabel?"attr":"animate"](W).show(!0),this.isNewLabel=!1):(K.hide(),this.isNewLabel=!0))}replaceMovedLabel(){const W=this.label,R=this.axis;W&&!this.isNew&&(W.animate({opacity:0},void 0,W.destroy),delete this.label),R.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}return P}),a(l,"Core/Axis/Axis.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Axis/AxisDefaults.js"],l["Core/Color/Color.js"],l["Core/Defaults.js"],l["Core/Foundation.js"],l["Core/Globals.js"],l["Core/Axis/Tick.js"],l["Core/Utilities.js"]],function(h,p,y,s,b,L,ee,F){const{animObject:Z}=h,{defaultOptions:ne}=s,{registerEventOptions:z}=b,{deg2rad:G}=L,{arrayMax:ae,arrayMin:B,clamp:P,correctFloat:V,defined:W,destroyObjectProperties:R,erase:se,error:S,extend:X,fireEvent:I,isArray:$,isNumber:K,isString:q,merge:J,normalizeTickInterval:C,objectEach:A,pick:O,relativeLength:Q,removeEvent:fe,splat:Te,syncTimeout:oe}=F,Me=(Qe,ie)=>C(ie,void 0,void 0,O(Qe.options.allowDecimals,.5>ie||Qe.tickAmount!==void 0),!!Qe.tickAmount);class We{constructor(ie,ce){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(ie,ce)}init(ie,ce){const pe=ce.isX;this.chart=ie,this.horiz=ie.inverted&&!this.isZAxis?!pe:pe,this.isXAxis=pe,this.coll=this.coll||(pe?"xAxis":"yAxis"),I(this,"init",{userOptions:ce}),this.opposite=O(ce.opposite,this.opposite),this.side=O(ce.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(ce);const Ce=this.options,Be=Ce.labels,re=Ce.type;this.userOptions=ce,this.minPixelPadding=0,this.reversed=O(Ce.reversed,this.reversed),this.visible=Ce.visible,this.zoomEnabled=Ce.zoomEnabled,this.hasNames=re==="category"||Ce.categories===!0,this.categories=Ce.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=W(Ce.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=Ce.minRange||Ce.maxZoom,this.range=Ce.range,this.offset=Ce.offset||0,this.min=this.max=null,ce=O(Ce.crosshair,Te(ie.options.tooltip.crosshairs)[pe?0:1]),this.crosshair=ce===!0?{}:ce,ie.axes.indexOf(this)===-1&&(pe?ie.axes.splice(ie.xAxis.length,0,this):ie.axes.push(this),ie[this.coll].push(this)),this.series=this.series||[],ie.inverted&&!this.isZAxis&&pe&&typeof this.reversed>"u"&&(this.reversed=!0),this.labelRotation=K(Be.rotation)?Be.rotation:void 0,z(this,Ce),I(this,"afterInit")}setOptions(ie){this.options=J(p.defaultXAxisOptions,this.coll==="yAxis"&&p.defaultYAxisOptions,[p.defaultTopAxisOptions,p.defaultRightAxisOptions,p.defaultBottomAxisOptions,p.defaultLeftAxisOptions][this.side],J(ne[this.coll],ie)),I(this,"afterSetOptions",{userOptions:ie})}defaultLabelFormatter(ie){var ce=this.axis;({numberFormatter:ie}=this.chart);const pe=K(this.value)?this.value:NaN,Ce=ce.chart.time,Be=this.dateTimeLabelFormat;var re=ne.lang;const xe=re.numericSymbols;re=re.numericSymbolMagnitude||1e3;const _e=ce.logarithmic?Math.abs(pe):ce.tickInterval;let Y=xe&&xe.length,de;if(ce.categories)de=`${this.value}`;else if(Be)de=Ce.dateFormat(Be,pe);else if(Y&&1e3<=_e)for(;Y--&&typeof de>"u";)ce=Math.pow(re,Y+1),_e>=ce&&10*pe%ce===0&&xe[Y]!==null&&pe!==0&&(de=ie(pe/ce,-1)+xe[Y]);return typeof de>"u"&&(de=1e4<=Math.abs(pe)?ie(pe,-1):ie(pe,-1,void 0,"")),de}getSeriesExtremes(){const ie=this,ce=ie.chart;let pe;I(this,"getSeriesExtremes",null,function(){ie.hasVisibleSeries=!1,ie.dataMin=ie.dataMax=ie.threshold=null,ie.softThreshold=!ie.isXAxis,ie.series.forEach(function(Ce){if(Ce.visible||!ce.options.chart.ignoreHiddenSeries){var Be=Ce.options;let re=Be.threshold,xe,_e;ie.hasVisibleSeries=!0,ie.positiveValuesOnly&&0>=re&&(re=null),ie.isXAxis?(Be=Ce.xData)&&Be.length&&(Be=ie.logarithmic?Be.filter(Y=>0<Y):Be,pe=Ce.getXExtremes(Be),xe=pe.min,_e=pe.max,K(xe)||xe instanceof Date||(Be=Be.filter(K),pe=Ce.getXExtremes(Be),xe=pe.min,_e=pe.max),Be.length&&(ie.dataMin=Math.min(O(ie.dataMin,xe),xe),ie.dataMax=Math.max(O(ie.dataMax,_e),_e))):(Ce=Ce.applyExtremes(),K(Ce.dataMin)&&(xe=Ce.dataMin,ie.dataMin=Math.min(O(ie.dataMin,xe),xe)),K(Ce.dataMax)&&(_e=Ce.dataMax,ie.dataMax=Math.max(O(ie.dataMax,_e),_e)),W(re)&&(ie.threshold=re),(!Be.softThreshold||ie.positiveValuesOnly)&&(ie.softThreshold=!1))}})}),I(this,"afterGetSeriesExtremes")}translate(ie,ce,pe,Ce,Be,re){const xe=this.linkedParent||this,_e=Ce&&xe.old?xe.old.min:xe.min;if(!K(_e))return NaN;const Y=xe.minPixelPadding;Be=(xe.isOrdinal||xe.brokenAxis&&xe.brokenAxis.hasBreaks||xe.logarithmic&&Be)&&xe.lin2val;let de=1,me=0;return Ce=Ce&&xe.old?xe.old.transA:xe.transA,Ce||(Ce=xe.transA),pe&&(de*=-1,me=xe.len),xe.reversed&&(de*=-1,me-=de*(xe.sector||xe.len)),ce?(re=(ie*de+me-Y)/Ce+_e,Be&&(re=xe.lin2val(re))):(Be&&(ie=xe.val2lin(ie)),ie=de*(ie-_e)*Ce,re=(xe.isRadial?ie:V(ie))+me+de*Y+(K(re)?Ce*re:0)),re}toPixels(ie,ce){return this.translate(ie,!1,!this.horiz,void 0,!0)+(ce?0:this.pos)}toValue(ie,ce){return this.translate(ie-(ce?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(ie){function ce(Fe,qe,He){return Ve!=="pass"&&(Fe<qe||Fe>He)&&(Ve?Fe=P(Fe,qe,He):De=!0),Fe}const pe=this,Ce=pe.chart,Be=pe.left,re=pe.top,xe=ie.old,_e=ie.value,Y=ie.lineWidth,de=xe&&Ce.oldChartHeight||Ce.chartHeight,me=xe&&Ce.oldChartWidth||Ce.chartWidth,ke=pe.transB;let Ie=ie.translatedValue,Ve=ie.force,it,tt,ht,Ee,De;return ie={value:_e,lineWidth:Y,old:xe,force:Ve,acrossPanes:ie.acrossPanes,translatedValue:Ie},I(this,"getPlotLinePath",ie,function(Fe){Ie=O(Ie,pe.translate(_e,void 0,void 0,xe)),Ie=P(Ie,-1e5,1e5),it=ht=Math.round(Ie+ke),tt=Ee=Math.round(de-Ie-ke),K(Ie)?pe.horiz?(tt=re,Ee=de-pe.bottom,it=ht=ce(it,Be,Be+pe.width)):(it=Be,ht=me-pe.right,tt=Ee=ce(tt,re,re+pe.height)):(De=!0,Ve=!1),Fe.path=De&&!Ve?null:Ce.renderer.crispLine([["M",it,tt],["L",ht,Ee]],Y||1)}),ie.path}getLinearTickPositions(ie,ce,pe){const Ce=V(Math.floor(ce/ie)*ie);pe=V(Math.ceil(pe/ie)*ie);const Be=[];let re,xe;if(V(Ce+ie)===Ce&&(xe=20),this.single)return[ce];for(ce=Ce;ce<=pe&&(Be.push(ce),ce=V(ce+ie,xe),ce!==re);)re=ce;return Be}getMinorTickInterval(){const ie=this.options;return ie.minorTicks===!0?O(ie.minorTickInterval,"auto"):ie.minorTicks===!1?null:ie.minorTickInterval}getMinorTickPositions(){var ie=this.options;const ce=this.tickPositions,pe=this.minorTickInterval;var Ce=this.pointRangePadding||0;const Be=this.min-Ce;Ce=this.max+Ce;const re=Ce-Be;let xe=[];if(re&&re/pe<this.len/3){const _e=this.logarithmic;if(_e)this.paddedTicks.forEach(function(Y,de,me){de&&xe.push.apply(xe,_e.getLogTickPositions(pe,me[de-1],me[de],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")xe=xe.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(pe),Be,Ce,ie.startOfWeek));else for(ie=Be+(ce[0]-Be)%pe;ie<=Ce&&ie!==xe[0];ie+=pe)xe.push(ie)}return xe.length!==0&&this.trimTicks(xe),xe}adjustForMinRange(){const ie=this.options,ce=this.logarithmic;let pe=this.min;var Ce=this.max;let Be,re=0,xe,_e,Y,de,me;if(this.isXAxis&&typeof this.minRange>"u"&&!ce&&(W(ie.min)||W(ie.max)||W(ie.floor)||W(ie.ceiling)?this.minRange=null:(this.series.forEach(function(Ie){if(Y=Ie.xData,de=Ie.xIncrement?1:Y.length-1,1<Y.length)for(xe=de;0<xe;xe--)_e=Y[xe]-Y[xe-1],(!re||_e<re)&&(re=_e)}),this.minRange=Math.min(5*re,this.dataMax-this.dataMin))),Ce-pe<this.minRange){Be=this.dataMax-this.dataMin>=this.minRange,me=this.minRange;var ke=(me-Ce+pe)/2;ke=[pe-ke,O(ie.min,pe-ke)],Be&&(ke[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),pe=ae(ke),Ce=[pe+me,O(ie.max,pe+me)],Be&&(Ce[2]=ce?ce.log2lin(this.dataMax):this.dataMax),Ce=B(Ce),Ce-pe<me&&(ke[0]=Ce-me,ke[1]=O(ie.min,Ce-me),pe=ae(ke))}this.min=pe,this.max=Ce}getClosest(){let ie;return this.categories?ie=1:this.series.forEach(function(ce){const pe=ce.closestPointRange,Ce=ce.visible||!ce.chart.options.chart.ignoreHiddenSeries;!ce.noSharedTooltip&&W(pe)&&Ce&&(ie=W(ie)?Math.min(ie,pe):pe)}),ie}nameToX(ie){const ce=$(this.options.categories),pe=ce?this.categories:this.names;let Ce=ie.options.x,Be;return ie.series.requireSorting=!1,W(Ce)||(Ce=this.options.uniqueNames&&pe?ce?pe.indexOf(ie.name):O(pe.keys[ie.name],-1):ie.series.autoIncrement()),Ce===-1?!ce&&pe&&(Be=pe.length):Be=Ce,typeof Be<"u"?(this.names[Be]=ie.name,this.names.keys[ie.name]=Be):ie.x&&(Be=ie.x),Be}updateNames(){const ie=this,ce=this.names;0<ce.length&&(Object.keys(ce.keys).forEach(function(pe){delete ce.keys[pe]}),ce.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(pe){pe.xIncrement=null,(!pe.points||pe.isDirtyData)&&(ie.max=Math.max(ie.max,pe.xData.length-1),pe.processData(),pe.generatePoints()),pe.data.forEach(function(Ce,Be){let re;Ce&&Ce.options&&typeof Ce.name<"u"&&(re=ie.nameToX(Ce),typeof re<"u"&&re!==Ce.x&&(Ce.x=re,pe.xData[Be]=re))})}))}setAxisTranslation(){const ie=this,ce=ie.max-ie.min;var pe=ie.linkedParent;const Ce=!!ie.categories,Be=ie.isXAxis;let re=ie.axisPointRange||0,xe,_e=0,Y=0,de=ie.transA;(Be||Ce||re)&&(xe=ie.getClosest(),pe?(_e=pe.minPointOffset,Y=pe.pointRangePadding):ie.series.forEach(function(me){const ke=Ce?1:Be?O(me.options.pointRange,xe,0):ie.axisPointRange||0,Ie=me.options.pointPlacement;re=Math.max(re,ke),(!ie.single||Ce)&&(me=me.is("xrange")?!Be:Be,_e=Math.max(_e,me&&q(Ie)?0:ke/2),Y=Math.max(Y,me&&Ie==="on"?0:ke))}),pe=ie.ordinal&&ie.ordinal.slope&&xe?ie.ordinal.slope/xe:1,ie.minPointOffset=_e*=pe,ie.pointRangePadding=Y*=pe,ie.pointRange=Math.min(re,ie.single&&Ce?1:ce),Be&&(ie.closestPointRange=xe)),ie.translationSlope=ie.transA=de=ie.staticScale||ie.len/(ce+Y||1),ie.transB=ie.horiz?ie.left:ie.bottom,ie.minPixelPadding=de*_e,I(this,"afterSetAxisTranslation")}minFromRange(){return this.max-this.range}setTickInterval(ie){var ce=this.chart;const pe=this.logarithmic,Ce=this.options,Be=this.isXAxis,re=this.isLinked,xe=Ce.tickPixelInterval,_e=this.categories,Y=this.softThreshold;let de=Ce.maxPadding,me=Ce.minPadding,ke=K(Ce.tickInterval)&&0<=Ce.tickInterval?Ce.tickInterval:void 0,Ie=K(this.threshold)?this.threshold:null,Ve,it,tt;if(this.dateTime||_e||re||this.getTickAmount(),it=O(this.userMin,Ce.min),tt=O(this.userMax,Ce.max),re){this.linkedParent=ce[this.coll][Ce.linkedTo];var ht=this.linkedParent.getExtremes();this.min=O(ht.min,ht.dataMin),this.max=O(ht.max,ht.dataMax),Ce.type!==this.linkedParent.options.type&&S(11,1,ce)}else Y&&W(Ie)&&(this.dataMin>=Ie?(ht=Ie,me=0):this.dataMax<=Ie&&(Ve=Ie,de=0)),this.min=O(it,ht,this.dataMin),this.max=O(tt,Ve,this.dataMax);if(pe&&(this.positiveValuesOnly&&!ie&&0>=Math.min(this.min,O(this.dataMin,this.min))&&S(10,1,ce),this.min=V(pe.log2lin(this.min),16),this.max=V(pe.log2lin(this.max),16)),this.range&&W(this.max)&&(this.userMin=this.min=it=Math.max(this.dataMin,this.minFromRange()),this.userMax=tt=this.max,this.range=null),I(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(_e||this.axisPointRange||this.stacking&&this.stacking.usePercentage||re)&&W(this.min)&&W(this.max)&&(ce=this.max-this.min)&&(!W(it)&&me&&(this.min-=ce*me),!W(tt)&&de&&(this.max+=ce*de)),K(this.userMin)||(K(Ce.softMin)&&Ce.softMin<this.min&&(this.min=it=Ce.softMin),K(Ce.floor)&&(this.min=Math.max(this.min,Ce.floor))),K(this.userMax)||(K(Ce.softMax)&&Ce.softMax>this.max&&(this.max=tt=Ce.softMax),K(Ce.ceiling)&&(this.max=Math.min(this.max,Ce.ceiling))),Y&&W(this.dataMin)&&(Ie=Ie||0,!W(it)&&this.min<Ie&&this.dataMin>=Ie?this.min=this.options.minRange?Math.min(Ie,this.max-this.minRange):Ie:!W(tt)&&this.max>Ie&&this.dataMax<=Ie&&(this.max=this.options.minRange?Math.max(Ie,this.min+this.minRange):Ie)),K(this.min)&&K(this.max)&&!this.chart.polar&&this.min>this.max&&(W(this.options.min)?this.max=this.min:W(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||typeof this.min>"u"||typeof this.max>"u"?1:re&&this.linkedParent&&!ke&&xe===this.linkedParent.options.tickPixelInterval?ke=this.linkedParent.tickInterval:O(ke,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,_e?1:(this.max-this.min)*xe/Math.max(this.len,xe)),Be&&!ie){const Ee=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(De){De.forceCrop=De.forceCropping&&De.forceCropping(),De.processData(Ee)}),I(this,"postProcessData",{hasExtremesChanged:Ee})}this.setAxisTranslation(),I(this,"initialAxisTranslation"),this.pointRange&&!ke&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),ie=O(Ce.minTickInterval,this.dateTime&&!this.series.some(Ee=>Ee.noSharedTooltip)?this.closestPointRange:0),!ke&&this.tickInterval<ie&&(this.tickInterval=ie),this.dateTime||this.logarithmic||ke||(this.tickInterval=Me(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var ie=this.options;const ce=ie.tickPositions,pe=ie.tickPositioner;var Ce=this.getMinorTickInterval(),Be=this.hasVerticalPanning(),re=this.coll==="colorAxis";const xe=(re||!Be)&&ie.startOnTick;Be=(re||!Be)&&ie.endOnTick,re=[];let _e;if(this.tickmarkOffset=this.categories&&ie.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=Ce==="auto"&&this.tickInterval?this.tickInterval/ie.minorTicksPerMajor:Ce,this.single=this.min===this.max&&W(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||ie.allowDecimals!==!1),ce)re=ce.slice();else if(K(this.min)&&K(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)re=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,ie.units),this.min,this.max,ie.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)re=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(Ce=ie=this.tickInterval;Ce<=2*ie&&(re=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&re.length>this.tickAmount);)this.tickInterval=Me(this,Ce*=1.1);else re=[this.min,this.max],S(19,!1,this.chart);re.length>this.len&&(re=[re[0],re[re.length-1]],re[0]===re[1]&&(re.length=1)),pe&&(this.tickPositions=re,(_e=pe.apply(this,[this.min,this.max]))&&(re=_e))}this.tickPositions=re,this.paddedTicks=re.slice(0),this.trimTicks(re,xe,Be),!this.isLinked&&K(this.min)&&K(this.max)&&(this.single&&2>re.length&&!this.categories&&!this.series.some(Y=>Y.is("heatmap")&&Y.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),ce||_e||this.adjustTickAmount()),I(this,"afterSetTickPositions")}trimTicks(ie,ce,pe){const Ce=ie[0],Be=ie[ie.length-1],re=!this.isOrdinal&&this.minPointOffset||0;if(I(this,"trimTicks"),!this.isLinked){if(ce&&Ce!==-1/0)this.min=Ce;else for(;this.min-re>ie[0];)ie.shift();if(pe)this.max=Be;else for(;this.max+re<ie[ie.length-1];)ie.pop();ie.length===0&&W(Ce)&&!this.options.tickPositions&&ie.push((Be+Ce)/2)}}alignToOthers(){const ie=this,ce=[this],pe=ie.options,Ce=this.coll==="yAxis"&&this.chart.options.chart.alignThresholds,Be=[];let re;if(ie.thresholdAlignment=void 0,(this.chart.options.chart.alignTicks!==!1&&pe.alignTicks||Ce)&&pe.startOnTick!==!1&&pe.endOnTick!==!1&&!ie.logarithmic){const xe=Y=>{const{horiz:de,options:me}=Y;return[de?me.left:me.top,me.width,me.height,me.pane].join()},_e=xe(this);this.chart[this.coll].forEach(function(Y){const{series:de}=Y;de.length&&de.some(me=>me.visible)&&Y!==ie&&xe(Y)===_e&&(re=!0,ce.push(Y))})}if(re&&Ce){ce.forEach(_e=>{_e=_e.getThresholdAlignment(ie),K(_e)&&Be.push(_e)});const xe=1<Be.length?Be.reduce((_e,Y)=>_e+Y,0)/Be.length:void 0;ce.forEach(_e=>{_e.thresholdAlignment=xe})}return re}getThresholdAlignment(ie){if((!K(this.dataMin)||this!==ie&&this.series.some(ce=>ce.isDirty||ce.isDirtyData))&&this.getSeriesExtremes(),K(this.threshold))return ie=P((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(ie=1-ie),ie}getTickAmount(){const ie=this.options,ce=ie.tickPixelInterval;let pe=ie.tickAmount;!W(ie.tickInterval)&&!pe&&this.len<ce&&!this.isRadial&&!this.logarithmic&&ie.startOnTick&&ie.endOnTick&&(pe=2),!pe&&this.alignToOthers()&&(pe=Math.ceil(this.len/ce)+1),4>pe&&(this.finalTickAmt=pe,pe=5),this.tickAmount=pe}adjustTickAmount(){const ie=this,{finalTickAmt:ce,max:pe,min:Ce,options:Be,tickPositions:re,tickAmount:xe,thresholdAlignment:_e}=ie,Y=re&&re.length;var de=O(ie.threshold,ie.softThreshold?0:null),me=ie.tickInterval;let ke;if(K(_e)&&(ke=.5>_e?Math.ceil(_e*(xe-1)):Math.floor(_e*(xe-1)),Be.reversed&&(ke=xe-1-ke)),ie.hasData()&&K(Ce)&&K(pe)){const Ie=()=>{ie.transA*=(Y-1)/(xe-1),ie.min=Be.startOnTick?re[0]:Math.min(Ce,re[0]),ie.max=Be.endOnTick?re[re.length-1]:Math.max(pe,re[re.length-1])};if(K(ke)&&K(ie.threshold)){for(;re[ke]!==de||re.length!==xe||re[0]>Ce||re[re.length-1]<pe;){for(re.length=0,re.push(ie.threshold);re.length<xe;)re[ke]===void 0||re[ke]>ie.threshold?re.unshift(V(re[0]-me)):re.push(V(re[re.length-1]+me));if(me>8*ie.tickInterval)break;me*=2}Ie()}else if(Y<xe){for(;re.length<xe;)re.length%2||Ce===de?re.push(V(re[re.length-1]+me)):re.unshift(V(re[0]-me));Ie()}if(W(ce)){for(me=de=re.length;me--;)(ce===3&&me%2===1||2>=ce&&0<me&&me<de-1)&&re.splice(me,1);ie.finalTickAmt=void 0}}}setScale(){let ie=!1,ce=!1;this.series.forEach(function(Ce){ie=ie||Ce.isDirtyData||Ce.isDirty,ce=ce||Ce.xAxis&&Ce.xAxis.isDirty||!1}),this.setAxisSize();const pe=this.len!==(this.old&&this.old.len);pe||ie||ce||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&(this.stacking.resetStacks(),this.stacking.buildStacks()),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=pe||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),ie&&this.panningState&&(this.panningState.isDirty=!0),I(this,"afterSetScale")}setExtremes(ie,ce,pe,Ce,Be){const re=this,xe=re.chart;pe=O(pe,!0),re.series.forEach(function(_e){delete _e.kdTree}),Be=X(Be,{min:ie,max:ce}),I(re,"setExtremes",Be,function(){re.userMin=ie,re.userMax=ce,re.eventArgs=Be,pe&&xe.redraw(Ce)})}zoom(ie,ce){const pe=this,Ce=this.dataMin,Be=this.dataMax,re=this.options,xe=Math.min(Ce,O(re.min,Ce)),_e=Math.max(Be,O(re.max,Be));return ie={newMin:ie,newMax:ce},I(this,"zoom",ie,function(Y){let de=Y.newMin,me=Y.newMax;(de!==pe.min||me!==pe.max)&&(pe.allowZoomOutside||(W(Ce)&&(de<xe&&(de=xe),de>_e&&(de=_e)),W(Be)&&(me<xe&&(me=xe),me>_e&&(me=_e))),pe.displayBtn=typeof de<"u"||typeof me<"u",pe.setExtremes(de,me,!1,void 0,{trigger:"zoom"})),Y.zoomed=!0}),ie.zoomed}setAxisSize(){const ie=this.chart;var ce=this.options;const pe=ce.offsets||[0,0,0,0],Ce=this.horiz,Be=this.width=Math.round(Q(O(ce.width,ie.plotWidth-pe[3]+pe[1]),ie.plotWidth)),re=this.height=Math.round(Q(O(ce.height,ie.plotHeight-pe[0]+pe[2]),ie.plotHeight)),xe=this.top=Math.round(Q(O(ce.top,ie.plotTop+pe[0]),ie.plotHeight,ie.plotTop));ce=this.left=Math.round(Q(O(ce.left,ie.plotLeft+pe[3]),ie.plotWidth,ie.plotLeft)),this.bottom=ie.chartHeight-re-xe,this.right=ie.chartWidth-Be-ce,this.len=Math.max(Ce?Be:re,0),this.pos=Ce?ce:xe}getExtremes(){const ie=this.logarithmic;return{min:ie?V(ie.lin2log(this.min)):this.min,max:ie?V(ie.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(ie){var ce=this.logarithmic;const pe=ce?ce.lin2log(this.min):this.min;return ce=ce?ce.lin2log(this.max):this.max,ie===null||ie===-1/0?ie=pe:ie===1/0?ie=ce:pe>ie?ie=pe:ce<ie&&(ie=ce),this.translate(ie,0,1,0,1)}autoLabelAlign(ie){const ce=(O(ie,0)-90*this.side+720)%360;return ie={align:"center"},I(this,"autoLabelAlign",ie,function(pe){15<ce&&165>ce?pe.align="right":195<ce&&345>ce&&(pe.align="left")}),ie.align}tickSize(ie){const ce=this.options,pe=O(ce[ie==="tick"?"tickWidth":"minorTickWidth"],ie==="tick"&&this.isXAxis&&!this.categories?1:0);let Ce=ce[ie==="tick"?"tickLength":"minorTickLength"],Be;return pe&&Ce&&(ce[ie+"Position"]==="inside"&&(Ce=-Ce),Be=[Ce,pe]),ie={tickSize:Be},I(this,"afterTickSize",ie),ie.tickSize}labelMetrics(){const ie=this.chart.renderer;var ce=this.ticks;return ce=ce[Object.keys(ce)[0]]||{},this.chart.renderer.fontMetrics(ce.label||ce.movedLabel||ie.box)}unsquish(){const ie=this.options.labels;var ce=this.horiz;const pe=this.tickInterval,Ce=this.len/(((this.categories?1:0)+this.max-this.min)/pe),Be=ie.rotation,re=.75*this.labelMetrics().h,xe=Math.max(this.max-this.min,0),_e=function(Ie){let Ve=Ie/(Ce||1);return Ve=1<Ve?Math.ceil(Ve):1,Ve*pe>xe&&Ie!==1/0&&Ce!==1/0&&xe&&(Ve=Math.ceil(xe/pe)),V(Ve*pe)};let Y=pe,de,me=Number.MAX_VALUE,ke;if(ce){if(ie.staggerLines||(K(Be)?ke=[Be]:Ce<ie.autoRotationLimit&&(ke=ie.autoRotation)),ke){let Ie;for(const Ve of ke)(Ve===Be||Ve&&-90<=Ve&&90>=Ve)&&(ce=_e(Math.abs(re/Math.sin(G*Ve))),Ie=ce+Math.abs(Ve/360),Ie<me&&(me=Ie,de=Ve,Y=ce))}}else Y=_e(re);return this.autoRotation=ke,this.labelRotation=O(de,K(Be)?Be:0),ie.step?pe:Y}getSlotWidth(ie){const ce=this.chart,pe=this.horiz,Ce=this.options.labels,Be=Math.max(this.tickPositions.length-(this.categories?0:1),1),re=ce.margin[3];if(ie&&K(ie.slotWidth))return ie.slotWidth;if(pe&&2>Ce.step)return Ce.rotation?0:(this.staggerLines||1)*this.len/Be;if(!pe){if(ie=Ce.style.width,ie!==void 0)return parseInt(String(ie),10);if(re)return re-ce.spacing[3]}return .33*ce.chartWidth}renderUnsquish(){const ie=this.chart,ce=ie.renderer,pe=this.tickPositions,Ce=this.ticks,Be=this.options.labels,re=Be.style,xe=this.horiz,_e=this.getSlotWidth();var Y=Math.max(1,Math.round(_e-2*Be.padding));const de={},me=this.labelMetrics(),ke=re.textOverflow;let Ie,Ve,it=0;if(q(Be.rotation)||(de.rotation=Be.rotation||0),pe.forEach(function(ht){ht=Ce[ht],ht.movedLabel&&ht.replaceMovedLabel(),ht&&ht.label&&ht.label.textPxLength>it&&(it=ht.label.textPxLength)}),this.maxLabelLength=it,this.autoRotation)it>Y&&it>me.h?de.rotation=this.labelRotation:this.labelRotation=0;else if(_e&&(Ie=Y,!ke))for(Ve="clip",Y=pe.length;!xe&&Y--;){var tt=pe[Y];(tt=Ce[tt].label)&&(tt.styles&&tt.styles.textOverflow==="ellipsis"?tt.css({textOverflow:"clip"}):tt.textPxLength>_e&&tt.css({width:_e+"px"}),tt.getBBox().height>this.len/pe.length-(me.h-me.f)&&(tt.specificTextOverflow="ellipsis"))}de.rotation&&(Ie=it>.5*ie.chartHeight?.33*ie.chartHeight:it,ke||(Ve="ellipsis")),(this.labelAlign=Be.align||this.autoLabelAlign(this.labelRotation))&&(de.align=this.labelAlign),pe.forEach(function(ht){const Ee=(ht=Ce[ht])&&ht.label,De=re.width,Fe={};Ee&&(Ee.attr(de),ht.shortenLabel?ht.shortenLabel():Ie&&!De&&re.whiteSpace!=="nowrap"&&(Ie<Ee.textPxLength||Ee.element.tagName==="SPAN")?(Fe.width=Ie+"px",ke||(Fe.textOverflow=Ee.specificTextOverflow||Ve),Ee.css(Fe)):Ee.styles&&Ee.styles.width&&!Fe.width&&!De&&Ee.css({width:null}),delete Ee.specificTextOverflow,ht.rotation=de.rotation)},this),this.tickRotCorr=ce.rotCorr(me.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(ie){return ie.hasData()})||this.options.showEmpty&&W(this.min)&&W(this.max)}addTitle(ie){const ce=this.chart.renderer,pe=this.horiz,Ce=this.opposite,Be=this.options.title,re=this.chart.styledMode;let xe;this.axisTitle||((xe=Be.textAlign)||(xe=(pe?{low:"left",middle:"center",high:"right"}:{low:Ce?"right":"left",middle:"center",high:Ce?"left":"right"})[Be.align]),this.axisTitle=ce.text(Be.text||"",0,0,Be.useHTML).attr({zIndex:7,rotation:Be.rotation,align:xe}).addClass("highcharts-axis-title"),re||this.axisTitle.css(J(Be.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),re||Be.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[ie?"show":"hide"](ie)}generateTick(ie){const ce=this.ticks;ce[ie]?ce[ie].addLabel():ce[ie]=new ee(this,ie)}getOffset(){const ie=this,{chart:ce,horiz:pe,options:Ce,side:Be,ticks:re,tickPositions:xe,coll:_e,axisParent:Y}=ie,de=ce.renderer,me=ce.inverted&&!ie.isZAxis?[1,0,3,2][Be]:Be;var ke=ie.hasData();const Ie=Ce.title;var Ve=Ce.labels;const it=K(Ce.crossing);var tt=ce.axisOffset;const ht=ce.clipOffset,Ee=[-1,1,1,-1][Be],De=Ce.className;let Fe,qe=0,He;var xt=0;let jt=0;if(ie.showAxis=Fe=ke||Ce.showEmpty,ie.staggerLines=ie.horiz&&Ve.staggerLines||void 0,!ie.axisGroup){const Vt=(vi,ri,bi)=>de.g(vi).attr({zIndex:bi}).addClass(`highcharts-${_e.toLowerCase()}${ri} `+(this.isRadial?`highcharts-radial-axis${ri} `:"")+(De||"")).add(Y);ie.gridGroup=Vt("grid","-grid",Ce.gridZIndex),ie.axisGroup=Vt("axis","",Ce.zIndex),ie.labelGroup=Vt("axis-labels","-labels",Ve.zIndex)}ke||ie.isLinked?(xe.forEach(function(Vt){ie.generateTick(Vt)}),ie.renderUnsquish(),ie.reserveSpaceDefault=Be===0||Be===2||{1:"left",3:"right"}[Be]===ie.labelAlign,O(Ve.reserveSpace,it?!1:null,ie.labelAlign==="center"?!0:null,ie.reserveSpaceDefault)&&xe.forEach(function(Vt){jt=Math.max(re[Vt].getLabelSize(),jt)}),ie.staggerLines&&(jt*=ie.staggerLines),ie.labelOffset=jt*(ie.opposite?-1:1)):A(re,function(Vt,vi){Vt.destroy(),delete re[vi]}),Ie&&Ie.text&&Ie.enabled!==!1&&(ie.addTitle(Fe),Fe&&!it&&Ie.reserveSpace!==!1&&(ie.titleOffset=qe=ie.axisTitle.getBBox()[pe?"height":"width"],He=Ie.offset,xt=W(He)?0:O(Ie.margin,pe?5:10))),ie.renderLine(),ie.offset=Ee*O(Ce.offset,tt[Be]?tt[Be]+(Ce.margin||0):0),ie.tickRotCorr=ie.tickRotCorr||{x:0,y:0},ke=Be===0?-ie.labelMetrics().h:Be===2?ie.tickRotCorr.y:0,xt=Math.abs(jt)+xt,jt&&(xt=xt-ke+Ee*(pe?O(Ve.y,ie.tickRotCorr.y+Ee*Ve.distance):O(Ve.x,Ee*Ve.distance))),ie.axisTitleMargin=O(He,xt),ie.getMaxLabelDimensions&&(ie.maxLabelDimensions=ie.getMaxLabelDimensions(re,xe)),_e!=="colorAxis"&&(Ve=this.tickSize("tick"),tt[Be]=Math.max(tt[Be],(ie.axisTitleMargin||0)+qe+Ee*ie.offset,xt,xe&&xe.length&&Ve?Ve[0]+Ee*ie.offset:0),tt=!ie.axisLine||Ce.offset?0:2*Math.floor(ie.axisLine.strokeWidth()/2),ht[me]=Math.max(ht[me],tt)),I(this,"afterGetOffset")}getLinePath(ie){const ce=this.chart,pe=this.opposite;var Ce=this.offset;const Be=this.horiz,re=this.left+(pe?this.width:0)+Ce;return Ce=ce.chartHeight-this.bottom-(pe?this.height:0)+Ce,pe&&(ie*=-1),ce.renderer.crispLine([["M",Be?this.left:re,Be?Ce:this.top],["L",Be?ce.chartWidth-this.right:re,Be?Ce:ce.chartHeight-this.bottom]],ie)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(ie){var ce=this.horiz,pe=this.left;const Ce=this.top;var Be=this.len;const re=this.options.title,xe=ce?pe:Ce,_e=this.opposite,Y=this.offset,de=re.x,me=re.y,ke=this.chart.renderer.fontMetrics(ie);return ie=ie?Math.max(ie.getBBox(!1,0).height-ke.h-1,0):0,Be={low:xe+(ce?0:Be),middle:xe+Be/2,high:xe+(ce?Be:0)}[re.align],pe=(ce?Ce+this.height:pe)+(ce?1:-1)*(_e?-1:1)*(this.axisTitleMargin||0)+[-ie,ie,ke.f,-ie][this.side],ce={x:ce?Be+de:pe+(_e?this.width:0)+Y+de,y:ce?pe+me-(_e?this.height:0)+Y:Be+me},I(this,"afterGetTitlePosition",{titlePosition:ce}),ce}renderMinorTick(ie,ce){const pe=this.minorTicks;pe[ie]||(pe[ie]=new ee(this,ie,"minor")),ce&&pe[ie].isNew&&pe[ie].render(null,!0),pe[ie].render(null,!1,1)}renderTick(ie,ce,pe){const Ce=this.ticks;(!this.isLinked||ie>=this.min&&ie<=this.max||this.grid&&this.grid.isColumn)&&(Ce[ie]||(Ce[ie]=new ee(this,ie)),pe&&Ce[ie].isNew&&Ce[ie].render(ce,!0,-1),Ce[ie].render(ce))}render(){const ie=this,ce=ie.chart,pe=ie.logarithmic,Ce=ie.options,Be=ie.isLinked,re=ie.tickPositions,xe=ie.axisTitle,_e=ie.ticks,Y=ie.minorTicks,de=ie.alternateBands,me=Ce.stackLabels,ke=Ce.alternateGridColor,Ie=Ce.crossing,Ve=ie.tickmarkOffset,it=ie.axisLine,tt=ie.showAxis,ht=Z(ce.renderer.globalAnimation);let Ee,De;if(ie.labelEdge.length=0,ie.overlap=!1,[_e,Y,de].forEach(function(Fe){A(Fe,function(qe){qe.isActive=!1})}),K(Ie)){const Fe=this.isXAxis?ce.yAxis[0]:ce.xAxis[0],qe=[1,-1,-1,1][this.side];Fe&&(this.offset=qe*Fe.toPixels(Ie,!0))}if(ie.hasData()||Be){const Fe=ie.chart.hasRendered&&ie.old&&K(ie.old.min);ie.minorTickInterval&&!ie.categories&&ie.getMinorTickPositions().forEach(function(qe){ie.renderMinorTick(qe,Fe)}),re.length&&(re.forEach(function(qe,He){ie.renderTick(qe,He,Fe)}),Ve&&(ie.min===0||ie.single)&&(_e[-1]||(_e[-1]=new ee(ie,-1,null,!0)),_e[-1].render(-1))),ke&&re.forEach(function(qe,He){De=typeof re[He+1]<"u"?re[He+1]+Ve:ie.max-Ve,He%2===0&&qe<ie.max&&De<=ie.max+(ce.polar?-Ve:Ve)&&(de[qe]||(de[qe]=new L.PlotLineOrBand(ie)),Ee=qe+Ve,de[qe].options={from:pe?pe.lin2log(Ee):Ee,to:pe?pe.lin2log(De):De,color:ke,className:"highcharts-alternate-grid"},de[qe].render(),de[qe].isActive=!0)}),ie._addedPlotLB||(ie._addedPlotLB=!0,(Ce.plotLines||[]).concat(Ce.plotBands||[]).forEach(function(qe){ie.addPlotBandOrLine(qe)}))}[_e,Y,de].forEach(function(Fe){const qe=[],He=ht.duration;A(Fe,function(xt,jt){xt.isActive||(xt.render(jt,!1,0),xt.isActive=!1,qe.push(jt))}),oe(function(){let xt=qe.length;for(;xt--;)Fe[qe[xt]]&&!Fe[qe[xt]].isActive&&(Fe[qe[xt]].destroy(),delete Fe[qe[xt]])},Fe!==de&&ce.hasRendered&&He?He:0)}),it&&(it[it.isPlaced?"animate":"attr"]({d:this.getLinePath(it.strokeWidth())}),it.isPlaced=!0,it[tt?"show":"hide"](tt)),xe&&tt&&(xe[xe.isNew?"attr":"animate"](ie.getTitlePosition(xe)),xe.isNew=!1),me&&me.enabled&&ie.stacking&&ie.stacking.renderStackTotals(),ie.old={len:ie.len,max:ie.max,min:ie.min,transA:ie.transA,userMax:ie.userMax,userMin:ie.userMin},ie.isDirty=!1,I(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(ie){ie.render()})),this.series.forEach(function(ie){ie.isDirty=!0})}getKeepProps(){return this.keepProps||We.keepProps}destroy(ie){const ce=this,pe=ce.plotLinesAndBands,Ce=this.eventOptions;if(I(this,"destroy",{keepEvents:ie}),ie||fe(ce),[ce.ticks,ce.minorTicks,ce.alternateBands].forEach(function(Be){R(Be)}),pe)for(ie=pe.length;ie--;)pe[ie].destroy();"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(Be){ce[Be]&&(ce[Be]=ce[Be].destroy())});for(const Be in ce.plotLinesAndBandsGroups)ce.plotLinesAndBandsGroups[Be]=ce.plotLinesAndBandsGroups[Be].destroy();A(ce,function(Be,re){ce.getKeepProps().indexOf(re)===-1&&delete ce[re]}),this.eventOptions=Ce}drawCrosshair(ie,ce){const pe=this.crosshair;var Ce=O(pe&&pe.snap,!0);const Be=this.chart;let re,xe=this.cross;if(I(this,"drawCrosshair",{e:ie,point:ce}),ie||(ie=this.cross&&this.cross.e),pe&&(W(ce)||!Ce)!==!1){if(Ce?W(ce)&&(re=O(this.coll!=="colorAxis"?ce.crosshairPos:null,this.isXAxis?ce.plotX:this.len-ce.plotY)):re=ie&&(this.horiz?ie.chartX-this.pos:this.len-ie.chartY+this.pos),W(re)){var _e={value:ce&&(this.isXAxis?ce.x:O(ce.stackY,ce.y)),translatedValue:re};Be.polar&&X(_e,{isCrosshair:!0,chartX:ie&&ie.chartX,chartY:ie&&ie.chartY,point:ce}),_e=this.getPlotLinePath(_e)||null}if(!W(_e)){this.hideCrosshair();return}Ce=this.categories&&!this.isRadial,xe||(this.cross=xe=Be.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(Ce?"category ":"thin ")+(pe.className||"")).attr({zIndex:O(pe.zIndex,2)}).add(),Be.styledMode||(xe.attr({stroke:pe.color||(Ce?y.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":O(pe.width,1)}).css({"pointer-events":"none"}),pe.dashStyle&&xe.attr({dashstyle:pe.dashStyle}))),xe.show().attr({d:_e}),Ce&&!pe.width&&xe.attr({"stroke-width":this.transA}),this.cross.e=ie}else this.hideCrosshair();I(this,"afterDrawCrosshair",{e:ie,point:ce})}hideCrosshair(){this.cross&&this.cross.hide(),I(this,"afterHideCrosshair")}hasVerticalPanning(){const ie=this.chart.options.chart.panning;return!!(ie&&ie.enabled&&/y/.test(ie.type))}update(ie,ce){const pe=this.chart;ie=J(this.userOptions,ie),this.destroy(!0),this.init(pe,ie),pe.isDirtyBox=!0,O(ce,!0)&&pe.redraw()}remove(ie){const ce=this.chart,pe=this.coll,Ce=this.series;let Be=Ce.length;for(;Be--;)Ce[Be]&&Ce[Be].remove(!1);se(ce.axes,this),se(ce[pe],this),ce[pe].forEach(function(re,xe){re.options.index=re.userOptions.index=xe}),this.destroy(),ce.isDirtyBox=!0,O(ie,!0)&&ce.redraw()}setTitle(ie,ce){this.update({title:ie},ce)}setCategories(ie,ce){this.update({categories:ie},ce)}}return We.defaultOptions=p.defaultXAxisOptions,We.keepProps="extKey hcEvents names series userMax userMin".split(" "),We}),a(l,"Core/Axis/DateTimeAxis.js",[l["Core/Utilities.js"]],function(h){const{addEvent:p,getMagnitude:y,normalizeTickInterval:s,timeUnits:b}=h;var L;return function(ee){function F(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function Z(G){G.userOptions.type!=="datetime"?this.dateTime=void 0:this.dateTime||(this.dateTime=new z(this))}const ne=[];ee.compose=function(G){return h.pushUnique(ne,G)&&(G.keepProps.push("dateTime"),G.prototype.getTimeTicks=F,p(G,"init",Z)),G};class z{constructor(ae){this.axis=ae}normalizeTimeTickInterval(ae,B){const P=B||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];B=P[P.length-1];let V=b[B[0]],W=B[1],R;for(R=0;R<P.length&&(B=P[R],V=b[B[0]],W=B[1],!(P[R+1]&&ae<=(V*W[W.length-1]+b[P[R+1][0]])/2));R++);return V===b.year&&ae<5*V&&(W=[1,2,5]),ae=s(ae/V,W,B[0]==="year"?Math.max(y(ae/V),1):1),{unitRange:V,count:ae,unitName:B[0]}}getXDateFormat(ae,B){const{axis:P}=this,V=P.chart.time;return P.closestPointRange?V.getDateFormat(P.closestPointRange,ae,P.options.startOfWeek,B)||V.resolveDTLFormat(B.year).main:V.resolveDTLFormat(B.day).main}}ee.Additions=z}(L||(L={})),L}),a(l,"Core/Axis/LogarithmicAxis.js",[l["Core/Utilities.js"]],function(h){const{addEvent:p,normalizeTickInterval:y,pick:s}=h;var b;return function(L){function ee(z){let G=this.logarithmic;z.userOptions.type!=="logarithmic"?this.logarithmic=void 0:G||(this.logarithmic=new ne(this))}function F(){const z=this.logarithmic;z&&(this.lin2val=function(G){return z.lin2log(G)},this.val2lin=function(G){return z.log2lin(G)})}const Z=[];L.compose=function(z){return h.pushUnique(Z,z)&&(z.keepProps.push("logarithmic"),p(z,"init",ee),p(z,"afterInit",F)),z};class ne{constructor(G){this.axis=G}getLogTickPositions(G,ae,B,P){const V=this.axis;var W=V.len,R=V.options;let se=[];if(P||(this.minorAutoInterval=void 0),.5<=G)G=Math.round(G),se=V.getLinearTickPositions(G,ae,B);else if(.08<=G){R=Math.floor(ae);let S,X,I,$,K;for(W=.3<G?[1,2,4]:.15<G?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];R<B+1&&!K;R++)for(X=W.length,S=0;S<X&&!K;S++)I=this.log2lin(this.lin2log(R)*W[S]),I>ae&&(!P||$<=B)&&typeof $<"u"&&se.push($),$>B&&(K=!0),$=I}else ae=this.lin2log(ae),B=this.lin2log(B),G=P?V.getMinorTickInterval():R.tickInterval,G=s(G==="auto"?null:G,this.minorAutoInterval,R.tickPixelInterval/(P?5:1)*(B-ae)/((P?W/V.tickPositions.length:W)||1)),G=y(G),se=V.getLinearTickPositions(G,ae,B).map(this.log2lin),P||(this.minorAutoInterval=G/5);return P||(V.tickInterval=G),se}lin2log(G){return Math.pow(10,G)}log2lin(G){return Math.log(G)/Math.LN10}}L.Additions=ne}(b||(b={})),b}),a(l,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[l["Core/Utilities.js"]],function(h){const{erase:p,extend:y,isNumber:s}=h;var b;return function(L){function ee(V){return this.addPlotBandOrLine(V,"plotBands")}function F(V,W){const R=this.userOptions;let se=new P(this,V);if(this.visible&&(se=se.render()),se){if(this._addedPlotLB||(this._addedPlotLB=!0,(R.plotLines||[]).concat(R.plotBands||[]).forEach(S=>{this.addPlotBandOrLine(S)})),W){const S=R[W]||[];S.push(V),R[W]=S}this.plotLinesAndBands.push(se)}return se}function Z(V){return this.addPlotBandOrLine(V,"plotLines")}function ne(V,W,R=this.options){const se=this.getPlotLinePath({value:W,force:!0,acrossPanes:R.acrossPanes}),S=[],X=this.horiz;W=!s(this.min)||!s(this.max)||V<this.min&&W<this.min||V>this.max&&W>this.max,V=this.getPlotLinePath({value:V,force:!0,acrossPanes:R.acrossPanes}),R=1;let I;if(V&&se)for(W&&(I=V.toString()===se.toString(),R=0),W=0;W<V.length;W+=2){const $=V[W],K=V[W+1],q=se[W],J=se[W+1];$[0]!=="M"&&$[0]!=="L"||K[0]!=="M"&&K[0]!=="L"||q[0]!=="M"&&q[0]!=="L"||J[0]!=="M"&&J[0]!=="L"||(X&&q[1]===$[1]?(q[1]+=R,J[1]+=R):X||q[2]!==$[2]||(q[2]+=R,J[2]+=R),S.push(["M",$[1],$[2]],["L",K[1],K[2]],["L",J[1],J[2]],["L",q[1],q[2]],["Z"])),S.isFlat=I}return S}function z(V){this.removePlotBandOrLine(V)}function G(V){const W=this.plotLinesAndBands,R=this.options,se=this.userOptions;if(W){let S=W.length;for(;S--;)W[S].id===V&&W[S].destroy();[R.plotLines||[],se.plotLines||[],R.plotBands||[],se.plotBands||[]].forEach(function(X){for(S=X.length;S--;)(X[S]||{}).id===V&&p(X,X[S])})}}function ae(V){this.removePlotBandOrLine(V)}const B=[];let P;L.compose=function(V,W){return P||(P=V),h.pushUnique(B,W)&&y(W.prototype,{addPlotBand:ee,addPlotLine:Z,addPlotBandOrLine:F,getPlotBandPath:ne,removePlotBand:z,removePlotLine:ae,removePlotBandOrLine:G}),W}}(b||(b={})),b}),a(l,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[l["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],l["Core/Utilities.js"]],function(h,p){const{arrayMax:y,arrayMin:s,defined:b,destroyObjectProperties:L,erase:ee,fireEvent:F,merge:Z,objectEach:ne,pick:z}=p;class G{static compose(B){return h.compose(G,B)}constructor(B,P){this.axis=B,P&&(this.options=P,this.id=P.id)}render(){F(this,"render");const B=this,P=B.axis,V=P.horiz;var W=P.logarithmic;const R=B.options,se=R.color,S=z(R.zIndex,0),X=R.events,I={},$=P.chart.renderer;let K=R.label,q=B.label,J=R.to,C=R.from,A=R.value,O=B.svgElem;var Q=[];const fe=b(C)&&b(J);Q=b(A);const Te=!O,oe={class:"highcharts-plot-"+(fe?"band ":"line ")+(R.className||"")};let Me=fe?"bands":"lines";if(W&&(C=W.log2lin(C),J=W.log2lin(J),A=W.log2lin(A)),P.chart.styledMode||(Q?(oe.stroke=se||"#999999",oe["stroke-width"]=z(R.width,1),R.dashStyle&&(oe.dashstyle=R.dashStyle)):fe&&(oe.fill=se||"#e6e9ff",R.borderWidth&&(oe.stroke=R.borderColor,oe["stroke-width"]=R.borderWidth))),I.zIndex=S,Me+="-"+S,(W=P.plotLinesAndBandsGroups[Me])||(P.plotLinesAndBandsGroups[Me]=W=$.g("plot-"+Me).attr(I).add()),Te&&(B.svgElem=O=$.path().attr(oe).add(W)),Q)Q=P.getPlotLinePath({value:A,lineWidth:O.strokeWidth(),acrossPanes:R.acrossPanes});else if(fe)Q=P.getPlotBandPath(C,J,R);else return;return!B.eventsAdded&&X&&(ne(X,function(We,Qe){O.on(Qe,function(ie){X[Qe].apply(B,[ie])})}),B.eventsAdded=!0),(Te||!O.d)&&Q&&Q.length?O.attr({d:Q}):O&&(Q?(O.show(),O.animate({d:Q})):O.d&&(O.hide(),q&&(B.label=q=q.destroy()))),K&&(b(K.text)||b(K.formatter))&&Q&&Q.length&&0<P.width&&0<P.height&&!Q.isFlat?(K=Z({align:V&&fe&&"center",x:V?!fe&&4:10,verticalAlign:!V&&fe&&"middle",y:V?fe?16:10:fe?6:-4,rotation:V&&!fe&&90},K),this.renderLabel(K,Q,fe,S)):q&&q.hide(),B}renderLabel(B,P,V,W){const R=this.axis;var se=R.chart.renderer;let S=this.label;S||(this.label=S=se.text(this.getLabelText(B),0,0,B.useHTML).attr({align:B.textAlign||B.align,rotation:B.rotation,class:"highcharts-plot-"+(V?"band":"line")+"-label "+(B.className||""),zIndex:W}).add(),R.chart.styledMode||S.css(Z({fontSize:"0.8em",textOverflow:"ellipsis"},B.style))),W=P.xBounds||[P[0][1],P[1][1],V?P[2][1]:P[0][1]],P=P.yBounds||[P[0][2],P[1][2],V?P[2][2]:P[0][2]],V=s(W),se=s(P),S.align(B,!1,{x:V,y:se,width:y(W)-V,height:y(P)-se}),S.alignValue&&S.alignValue!=="left"||(B=B.clip?R.width:R.chart.chartWidth,S.css({width:(S.rotation===90?R.height-(S.alignAttr.y-R.top):B-(S.alignAttr.x-R.left))+"px"})),S.show(!0)}getLabelText(B){return b(B.formatter)?B.formatter.call(this):B.text}destroy(){ee(this.axis.plotLinesAndBands,this),delete this.axis,L(this)}}return G}),a(l,"Core/Tooltip.js",[l["Core/FormatUtilities.js"],l["Core/Globals.js"],l["Core/Renderer/RendererUtilities.js"],l["Core/Renderer/RendererRegistry.js"],l["Core/Utilities.js"]],function(h,p,y,s,b){const{format:L}=h,{doc:ee,isSafari:F}=p,{distribute:Z}=y,{addEvent:ne,clamp:z,css:G,discardElement:ae,extend:B,fireEvent:P,isArray:V,isNumber:W,isString:R,merge:se,pick:S,splat:X,syncTimeout:I}=b;class ${constructor(q,J){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=q,this.init(q,J)}bodyFormatter(q){return q.map(function(J){const C=J.series.tooltipOptions;return(C[(J.point.formatPrefix||"point")+"Formatter"]||J.point.tooltipFormatter).call(J.point,C[(J.point.formatPrefix||"point")+"Format"]||"")})}cleanSplit(q){this.chart.series.forEach(function(J){const C=J&&J.tt;C&&(!C.isActive||q?J.tt=C.destroy():C.isActive=!1)})}defaultFormatter(q){const J=this.points||X(this);let C;return C=[q.tooltipFooterHeaderFormatter(J[0])],C=C.concat(q.bodyFormatter(J)),C.push(q.tooltipFooterHeaderFormatter(J[0],!0)),C}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),ae(this.container)),b.clearTimeout(this.hideTimer),b.clearTimeout(this.tooltipTimeout)}getAnchor(q,J){var C=this.chart;const A=C.pointer,O=C.inverted,Q=C.plotTop;if(C=C.plotLeft,q=X(q),q[0].series&&q[0].series.yAxis&&!q[0].series.yAxis.options.reversedStacks&&(q=q.slice().reverse()),this.followPointer&&J)typeof J.chartX>"u"&&(J=A.normalize(J)),q=[J.chartX-C,J.chartY-Q];else if(q[0].tooltipPos)q=q[0].tooltipPos;else{let fe=0,Te=0;q.forEach(function(oe){(oe=oe.pos(!0))&&(fe+=oe[0],Te+=oe[1])}),fe/=q.length,Te/=q.length,this.shared&&1<q.length&&J&&(O?fe=J.chartX:Te=J.chartY),q=[fe-C,Te-Q]}return q.map(Math.round)}getClassName(q,J,C){const A=q.series,O=A.options;return[this.options.className,"highcharts-label",C&&"highcharts-tooltip-header",J?"highcharts-tooltip-box":"highcharts-tooltip",!C&&"highcharts-color-"+S(q.colorIndex,A.colorIndex),O&&O.className].filter(R).join(" ")}getLabel(){const q=this,J=this.chart.styledMode,C=this.options,A=this.split&&this.allowShared,O=C.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none");let Q,fe=this.chart.renderer;if(this.label){var Te=!this.label.hasClass("highcharts-label");(!A&&Te||A&&!Te)&&this.destroy()}if(!this.label){if(this.outside){Te=this.chart.options.chart.style;const oe=s.getRendererType();this.container=Q=p.doc.createElement("div"),Q.className="highcharts-tooltip-container",G(Q,{position:"absolute",top:"1px",pointerEvents:O,zIndex:Math.max(this.options.style.zIndex||0,(Te&&Te.zIndex||0)+3)}),p.doc.body.appendChild(Q),this.renderer=fe=new oe(Q,0,0,Te,void 0,void 0,fe.styledMode)}if(A?this.label=fe.g("tooltip"):(this.label=fe.label("",0,0,C.shape,void 0,void 0,C.useHTML,void 0,"tooltip").attr({padding:C.padding,r:C.borderRadius}),J||this.label.attr({fill:C.backgroundColor,"stroke-width":C.borderWidth||0}).css(C.style).css({pointerEvents:O})),q.outside){const oe=this.label,{xSetter:Me,ySetter:We}=oe;oe.xSetter=function(Qe){Me.call(oe,q.distance),Q.style.left=Qe+"px"},oe.ySetter=function(Qe){We.call(oe,q.distance),Q.style.top=Qe+"px"}}this.label.attr({zIndex:8}).shadow(C.shadow).add()}return this.label}getPlayingField(){const{body:q,documentElement:J}=ee,{chart:C,distance:A,outside:O}=this;return{width:O?Math.max(q.scrollWidth,J.scrollWidth,q.offsetWidth,J.offsetWidth,J.clientWidth)-2*A:C.chartWidth,height:O?Math.max(q.scrollHeight,J.scrollHeight,q.offsetHeight,J.offsetHeight,J.clientHeight):C.chartHeight}}getPosition(q,J,C){const A=this.chart,O=this.distance,Q={},fe=A.inverted&&C.h||0,Te=this.outside;var oe=this.getPlayingField();const Me=oe.width,We=oe.height,Qe=A.pointer.getChartPosition();oe=Y=>{const de=Y==="x";return[Y,de?Me:We,de?q:J].concat(Te?[de?q*Qe.scaleX:J*Qe.scaleY,de?Qe.left-O+(C.plotX+A.plotLeft)*Qe.scaleX:Qe.top-O+(C.plotY+A.plotTop)*Qe.scaleY,0,de?Me:We]:[de?q:J,de?C.plotX+A.plotLeft:C.plotY+A.plotTop,de?A.plotLeft:A.plotTop,de?A.plotLeft+A.plotWidth:A.plotTop+A.plotHeight])};let ie=oe("y"),ce=oe("x"),pe;oe=!!C.negative,!A.polar&&A.hoverSeries&&A.hoverSeries.yAxis&&A.hoverSeries.yAxis.reversed&&(oe=!oe);const Ce=!this.followPointer&&S(C.ttBelow,!A.inverted===oe),Be=function(Y,de,me,ke,Ie,Ve,it){const tt=Te?Y==="y"?O*Qe.scaleY:O*Qe.scaleX:O,ht=(me-ke)/2,Ee=ke<Ie-O,De=Ie+O+ke<de,Fe=Ie-tt-me+ht;if(Ie=Ie+tt-ht,Ce&&De)Q[Y]=Ie;else if(!Ce&&Ee)Q[Y]=Fe;else if(Ee)Q[Y]=Math.min(it-ke,0>Fe-fe?Fe:Fe-fe);else if(De)Q[Y]=Math.max(Ve,Ie+fe+me>de?Ie:Ie+fe);else return!1},re=function(Y,de,me,ke,Ie){let Ve;return Ie<O||Ie>de-O?Ve=!1:Q[Y]=Ie<me/2?1:Ie>de-ke/2?de-ke-2:Ie-me/2,Ve},xe=function(Y){const de=ie;ie=ce,ce=de,pe=Y},_e=function(){Be.apply(0,ie)!==!1?re.apply(0,ce)!==!1||pe||(xe(!0),_e()):pe?Q.x=Q.y=0:(xe(!0),_e())};return(A.inverted||1<this.len)&&xe(),_e(),Q}hide(q){const J=this;b.clearTimeout(this.hideTimer),q=S(q,this.options.hideDelay),this.isHidden||(this.hideTimer=I(function(){J.getLabel().fadeOut(q&&void 0),J.isHidden=!0},q))}init(q,J){this.chart=q,this.options=J,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=J.split&&!q.inverted&&!q.polar,this.shared=J.shared||this.split,this.outside=S(J.outside,!(!q.scrollablePixelsX&&!q.scrollablePixelsY))}shouldStickOnContact(q){return!(this.followPointer||!this.options.stickOnContact||q&&!this.chart.pointer.inClass(q.target,"highcharts-tooltip"))}move(q,J,C,A){const O=this,Q=O.now,fe=O.options.animation!==!1&&!O.isHidden&&(1<Math.abs(q-Q.x)||1<Math.abs(J-Q.y)),Te=O.followPointer||1<O.len;B(Q,{x:fe?(2*Q.x+q)/3:q,y:fe?(Q.y+J)/2:J,anchorX:Te?void 0:fe?(2*Q.anchorX+C)/3:C,anchorY:Te?void 0:fe?(Q.anchorY+A)/2:A}),O.getLabel().attr(Q),O.drawTracker(),fe&&(b.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){O&&O.move(q,J,C,A)},32))}refresh(q,J){const C=this.chart,A=this.options,O=C.pointer,Q=X(q),fe=Q[0],Te=[];var oe=A.formatter||this.defaultFormatter,Me=this.shared;const We=C.styledMode;let Qe={};if(A.enabled&&fe.series){b.clearTimeout(this.hideTimer),this.allowShared=!(!V(q)&&q.series&&q.series.noSharedTooltip),this.followPointer=!this.split&&fe.series.tooltipOptions.followPointer,q=this.getAnchor(q,J);var ie=q[0],ce=q[1];if(Me&&this.allowShared?(O.applyInactiveState(Q),Q.forEach(function(pe){pe.setState("hover"),Te.push(pe.getLabelConfig())}),Qe={x:fe.category,y:fe.y},Qe.points=Te):Qe=fe.getLabelConfig(),this.len=Te.length,oe=oe.call(Qe,this),Me=fe.series,this.distance=S(Me.tooltipOptions.distance,16),oe===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(oe,Q);else{let pe=ie,Ce=ce;if(J&&O.isDirectTouch&&(pe=J.chartX-C.plotLeft,Ce=J.chartY-C.plotTop),C.polar||Me.options.clip===!1||Q.some(Be=>O.isDirectTouch||Be.series.shouldShowTooltip(pe,Ce)))J=this.getLabel(),A.style.width&&!We||J.css({width:(this.outside?this.getPlayingField():C.spacingBox).width+"px"}),J.attr({text:oe&&oe.join?oe.join(""):oe}),J.addClass(this.getClassName(fe),!0),We||J.attr({stroke:A.borderColor||fe.color||Me.color||"#666666"}),this.updatePosition({plotX:ie,plotY:ce,negative:fe.negative,ttBelow:fe.ttBelow,h:q[2]||0});else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}P(this,"refresh")}}renderSplit(q,J){function C(He,xt,jt,Vt,vi=!0){return jt?(xt=me?0:tt,He=z(He-Vt/2,_e.left,_e.right-Vt-(A.outside?ke:0))):(xt-=Ve,He=vi?He-Vt-Be:He+Be,He=z(He,vi?He:_e.left,_e.right)),{x:He,y:xt}}const A=this,{chart:O,chart:{chartWidth:Q,chartHeight:fe,plotHeight:Te,plotLeft:oe,plotTop:Me,pointer:We,scrollablePixelsY:Qe=0,scrollablePixelsX:ie,scrollingContainer:{scrollLeft:ce,scrollTop:pe}={scrollLeft:0,scrollTop:0},styledMode:Ce},distance:Be,options:re,options:{positioner:xe}}=A,_e=A.outside&&typeof ie!="number"?ee.documentElement.getBoundingClientRect():{left:ce,right:ce+Q,top:pe,bottom:pe+fe},Y=A.getLabel(),de=this.renderer||O.renderer,me=!(!O.xAxis[0]||!O.xAxis[0].opposite),{left:ke,top:Ie}=We.getChartPosition();let Ve=Me+pe,it=0,tt=Te-Qe;R(q)&&(q=[!1,q]),q=q.slice(0,J.length+1).reduce(function(He,xt,jt){if(xt!==!1&&xt!==""){jt=J[jt-1]||{isHeader:!0,plotX:J[0].plotX,plotY:Te,series:{}};const ki=jt.isHeader;var Vt=ki?A:jt.series,vi;{var ri=jt;xt=xt.toString();var bi=Vt.tt;const{isHeader:Tn,series:In}=ri;bi||(bi={padding:re.padding,r:re.borderRadius},Ce||(bi.fill=re.backgroundColor,bi["stroke-width"]=(vi=re.borderWidth)!==null&&vi!==void 0?vi:1),bi=de.label("",0,0,re[Tn?"headerShape":"shape"],void 0,void 0,re.useHTML).addClass(A.getClassName(ri,!0,Tn)).attr(bi).add(Y)),bi.isActive=!0,bi.attr({text:xt}),Ce||bi.css(re.style).attr({stroke:re.borderColor||ri.color||In.color||"#333333"}),vi=bi}vi=Vt.tt=vi,ri=vi.getBBox(),Vt=ri.width+vi.strokeWidth(),ki&&(it=ri.height,tt+=it,me&&(Ve-=it));{const{isHeader:Tn,plotX:In=0,plotY:Hn=0,series:hs}=jt;if(Tn){xt=oe+In;var Gi=Me+Te/2}else{const{xAxis:nr,yAxis:rr}=hs;xt=nr.pos+z(In,-Be,nr.len+Be),hs.shouldShowTooltip(0,rr.pos-Me+Hn,{ignoreX:!0})&&(Gi=rr.pos+Hn)}xt=z(xt,_e.left-Be,_e.right+Be),Gi={anchorX:xt,anchorY:Gi}}const{anchorX:Ni,anchorY:Ai}=Gi;typeof Ai=="number"?(Gi=ri.height+1,ri=xe?xe.call(A,Vt,Gi,jt):C(Ni,Ai,ki,Vt),He.push({align:xe?0:void 0,anchorX:Ni,anchorY:Ai,boxWidth:Vt,point:jt,rank:S(ri.rank,ki?1:0),size:Gi,target:ri.y,tt:vi,x:ri.x})):vi.isActive=!1}return He},[]),!xe&&q.some(He=>{var{outside:xt}=A;return xt=(xt?ke:0)+He.anchorX,xt<_e.left&&xt+He.boxWidth<_e.right?!0:xt<ke-_e.left+He.boxWidth&&_e.right-xt>xt})&&(q=q.map(He=>{const{x:xt,y:jt}=C(He.anchorX,He.anchorY,He.point.isHeader,He.boxWidth,!1);return B(He,{target:jt,x:xt})})),A.cleanSplit(),Z(q,tt);var ht=ke,Ee=ke;q.forEach(function(He){const{x:xt,boxWidth:jt,isHeader:Vt}=He;Vt||(A.outside&&ke+xt<ht&&(ht=ke+xt),!Vt&&A.outside&&ht+jt>Ee&&(Ee=ke+xt))}),q.forEach(function(He){const{x:xt,anchorX:jt,anchorY:Vt,pos:vi,point:{isHeader:ri}}=He,bi={visibility:typeof vi>"u"?"hidden":"inherit",x:xt,y:(vi||0)+Ve,anchorX:jt,anchorY:Vt};if(A.outside&&xt<jt){const Gi=ke-ht;0<Gi&&(ri||(bi.x=xt+Gi,bi.anchorX=jt+Gi),ri&&(bi.x=(Ee-ht)/2,bi.anchorX=jt+Gi))}He.tt.attr(bi)});const{container:De,outside:Fe,renderer:qe}=A;if(Fe&&De&&qe){const{width:He,height:xt,x:jt,y:Vt}=Y.getBBox();qe.setSize(He+jt,xt+Vt,!1),De.style.left=ht+"px",De.style.top=Ie+"px"}F&&Y.attr({opacity:Y.opacity===1?.999:1})}drawTracker(){if(this.shouldStickOnContact()){var q=this.chart,J=this.label,C=this.shared?q.hoverPoints:q.hoverPoint;if(J&&C){var A={x:0,y:0,width:0,height:0};C=this.getAnchor(C);var O=J.getBBox();C[0]+=q.plotLeft-J.translateX,C[1]+=q.plotTop-J.translateY,A.x=Math.min(0,C[0]),A.y=Math.min(0,C[1]),A.width=0>C[0]?Math.max(Math.abs(C[0]),O.width-C[0]):Math.max(Math.abs(C[0]),O.width),A.height=0>C[1]?Math.max(Math.abs(C[1]),O.height-Math.abs(C[1])):Math.max(Math.abs(C[1]),O.height),this.tracker?this.tracker.attr(A):(this.tracker=J.renderer.rect(A).addClass("highcharts-tracker").add(J),q.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}else this.tracker&&(this.tracker=this.tracker.destroy())}styledModeFormat(q){return q.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(q,J){const C=q.series,A=C.tooltipOptions;var O=C.xAxis;const Q=O&&O.dateTime;O={isFooter:J,labelConfig:q};let fe=A.xDateFormat,Te=A[J?"footerFormat":"headerFormat"];return P(this,"headerFormatter",O,function(oe){Q&&!fe&&W(q.key)&&(fe=Q.getXDateFormat(q.key,A.dateTimeLabelFormats)),Q&&fe&&(q.point&&q.point.tooltipDateKeys||["key"]).forEach(function(Me){Te=Te.replace("{point."+Me+"}","{point."+Me+":"+fe+"}")}),C.chart.styledMode&&(Te=this.styledModeFormat(Te)),oe.text=L(Te,{point:q,series:C},this.chart)}),O.text}update(q){this.destroy(),se(!0,this.chart.options.tooltip.userOptions,q),this.init(this.chart,se(!0,this.options,q))}updatePosition(q){const{chart:J,distance:C,options:A}=this;var O=J.pointer;const Q=this.getLabel(),{left:fe,top:Te,scaleX:oe,scaleY:Me}=O.getChartPosition();O=(A.positioner||this.getPosition).call(this,Q.width,Q.height,q);let We=(q.plotX||0)+J.plotLeft;q=(q.plotY||0)+J.plotTop;let Qe;this.outside&&(A.positioner&&(O.x+=fe-C,O.y+=Te-C),Qe=(A.borderWidth||0)+2*C,this.renderer.setSize(Q.width+Qe,Q.height+Qe,!1),(oe!==1||Me!==1)&&(G(this.container,{transform:`scale(${oe}, ${Me})`}),We*=oe,q*=Me),We+=fe-O.x,q+=Te-O.y),this.move(Math.round(O.x),Math.round(O.y||0),We,q)}}return function(K){const q=[];K.compose=function(J){b.pushUnique(q,J)&&ne(J,"afterInit",function(){const C=this.chart;C.options.tooltip&&(C.tooltip=new K(C,C.options.tooltip))})}}($||($={})),$}),a(l,"Core/Series/Point.js",[l["Core/Renderer/HTML/AST.js"],l["Core/Animation/AnimationUtilities.js"],l["Core/Defaults.js"],l["Core/FormatUtilities.js"],l["Core/Utilities.js"]],function(h,p,y,s,b){const{animObject:L}=p,{defaultOptions:ee}=y,{format:F}=s,{addEvent:Z,defined:ne,erase:z,extend:G,fireEvent:ae,getNestedProperty:B,isArray:P,isFunction:V,isNumber:W,isObject:R,merge:se,objectEach:S,pick:X,syncTimeout:I,removeEvent:$,uniqueKey:K}=b;class q{constructor(){this.category=void 0,this.destroyed=!1,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.shapeArgs=this.series=void 0,this.visible=!0,this.x=void 0}animateBeforeDestroy(){const C=this,A={x:C.startXPos,opacity:0},O=C.getGraphicalProps();O.singular.forEach(function(Q){C[Q]=C[Q].animate(Q==="dataLabel"?{x:C[Q].startXPos,y:C[Q].startYPos,opacity:0}:A)}),O.plural.forEach(function(Q){C[Q].forEach(function(fe){fe.element&&fe.animate(G({x:C.startXPos},fe.startYPos?{x:fe.startXPos,y:fe.startYPos}:{}))})})}applyOptions(C,A){const O=this.series,Q=O.options.pointValKey||O.pointValKey;return C=q.prototype.optionsToObject.call(this,C),G(this,C),this.options=this.options?G(this.options,C):C,C.group&&delete this.group,C.dataLabels&&delete this.dataLabels,Q&&(this.y=q.prototype.getNestedProperty.call(this,Q)),this.formatPrefix=(this.isNull=this.isValid&&!this.isValid())?"null":"point",this.selected&&(this.state="select"),"name"in this&&typeof A>"u"&&O.xAxis&&O.xAxis.hasNames&&(this.x=O.xAxis.nameToX(this)),typeof this.x>"u"&&O?this.x=typeof A>"u"?O.autoIncrement():A:W(C.x)&&O.options.relativeXValue&&(this.x=O.autoIncrement(C.x)),this}destroy(){if(!this.destroyed){const A=this;var C=A.series;const O=C.chart;C=C.options.dataSorting;const Q=O.hoverPoints,fe=L(A.series.chart.renderer.globalAnimation),Te=()=>{(A.graphic||A.graphics||A.dataLabel||A.dataLabels)&&($(A),A.destroyElements());for(const oe in A)delete A[oe]};A.legendItem&&O.legend.destroyItem(A),Q&&(A.setState(),z(Q,A),Q.length||(O.hoverPoints=null)),A===O.hoverPoint&&A.onMouseOut(),C&&C.enabled?(this.animateBeforeDestroy(),I(Te,fe.duration)):Te(),O.pointCount--}this.destroyed=!0}destroyElements(C){const A=this;C=A.getGraphicalProps(C),C.singular.forEach(function(O){A[O]=A[O].destroy()}),C.plural.forEach(function(O){A[O].forEach(function(Q){Q&&Q.element&&Q.destroy()}),delete A[O]})}firePointEvent(C,A,O){const Q=this,fe=this.series.options;(fe.point.events[C]||Q.options&&Q.options.events&&Q.options.events[C])&&Q.importEvents(),C==="click"&&fe.allowPointSelect&&(O=function(Te){Q.select&&Q.select(null,Te.ctrlKey||Te.metaKey||Te.shiftKey)}),ae(Q,C,A,O)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(typeof this.colorIndex<"u"?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(C){const A=this,O=[],Q={singular:[],plural:[]};let fe,Te;for(C=C||{graphic:1,dataLabel:1},C.graphic&&O.push("graphic"),C.dataLabel&&O.push("dataLabel","dataLabelPath","dataLabelUpper","connector"),Te=O.length;Te--;)fe=O[Te],A[fe]&&Q.singular.push(fe);return["graphic","dataLabel","connector"].forEach(function(oe){const Me=oe+"s";C[oe]&&A[Me]&&Q.plural.push(Me)}),Q}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(C){if(C)return C.indexOf("custom.")===0?B(C,this.options):this[C]}getZone(){var C=this.series;const A=C.zones;C=C.zoneAxis||"y";let O,Q=0;for(O=A[Q];this[C]>=O.value;)O=A[++Q];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=O&&O.color&&!this.options.color?O.color:this.nonZonedColor,O}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}init(C,A,O){return this.series=C,this.applyOptions(A,O),this.id=ne(this.id)?this.id:K(),this.resolveColor(),C.chart.pointCount++,ae(this,"afterInit"),this}isValid(){return this.x!==null&&W(this.y)}optionsToObject(C){var A=this.series;const O=A.options.keys,Q=O||A.pointArrayMap||["y"],fe=Q.length;let Te={},oe=0,Me=0;if(W(C)||C===null)Te[Q[0]]=C;else if(P(C))for(!O&&C.length>fe&&(A=typeof C[0],A==="string"?Te.name=C[0]:A==="number"&&(Te.x=C[0]),oe++);Me<fe;)O&&typeof C[oe]>"u"||(0<Q[Me].indexOf(".")?q.prototype.setNestedProperty(Te,C[oe],Q[Me]):Te[Q[Me]]=C[oe]),oe++,Me++;else typeof C=="object"&&(Te=C,C.dataLabels&&(A._hasPointLabels=!0),C.marker&&(A._hasPointMarkers=!0));return Te}pos(C,A=this.plotY){if(!this.destroyed){const{plotX:O,series:Q}=this,{chart:fe,xAxis:Te,yAxis:oe}=Q;let Me=0,We=0;if(W(O)&&W(A))return C&&(Me=Te?Te.pos:fe.plotLeft,We=oe?oe.pos:fe.plotTop),fe.inverted&&Te&&oe?[oe.len-A+We,Te.len-O+Me]:[O+Me,A+We]}}resolveColor(){const C=this.series;var A=C.chart.styledMode;let O;var Q=C.chart.options.chart.colorCount;delete this.nonZonedColor,C.options.colorByPoint?(A||(Q=C.options.colors||C.chart.options.colors,O=Q[C.colorCounter],Q=Q.length),A=C.colorCounter,C.colorCounter++,C.colorCounter===Q&&(C.colorCounter=0)):(A||(O=C.color),A=C.colorIndex),this.colorIndex=X(this.options.colorIndex,A),this.color=X(this.options.color,O)}setNestedProperty(C,A,O){return O.split(".").reduce(function(Q,fe,Te,oe){return Q[fe]=oe.length-1===Te?A:R(Q[fe],!0)?Q[fe]:{},Q[fe]},C),C}shouldDraw(){return!this.isNull}tooltipFormatter(C){const A=this.series,O=A.tooltipOptions,Q=X(O.valueDecimals,""),fe=O.valuePrefix||"",Te=O.valueSuffix||"";return A.chart.styledMode&&(C=A.chart.tooltip.styledModeFormat(C)),(A.pointArrayMap||["y"]).forEach(function(oe){oe="{point."+oe,(fe||Te)&&(C=C.replace(RegExp(oe+"}","g"),fe+oe+"}"+Te)),C=C.replace(RegExp(oe+"}","g"),oe+":,."+Q+"f}")}),F(C,{point:this,series:this.series},A.chart)}update(C,A,O,Q){function fe(){Te.applyOptions(C);var ce=Me&&Te.hasMockGraphic;ce=Te.y===null?!ce:ce,Me&&ce&&(Te.graphic=Me.destroy(),delete Te.hasMockGraphic),R(C,!0)&&(Me&&Me.element&&C&&C.marker&&typeof C.marker.symbol<"u"&&(Te.graphic=Me.destroy()),C&&C.dataLabels&&Te.dataLabel&&(Te.dataLabel=Te.dataLabel.destroy()),Te.connector&&(Te.connector=Te.connector.destroy())),ie=Te.index,oe.updateParallelArrays(Te,ie),Qe.data[ie]=R(Qe.data[ie],!0)||R(C,!0)?Te.options:X(C,Qe.data[ie]),oe.isDirty=oe.isDirtyData=!0,!oe.fixedBox&&oe.hasCartesianSeries&&(We.isDirtyBox=!0),Qe.legendType==="point"&&(We.isDirtyLegend=!0),A&&We.redraw(O)}const Te=this,oe=Te.series,Me=Te.graphic,We=oe.chart,Qe=oe.options;let ie;A=X(A,!0),Q===!1?fe():Te.firePointEvent("update",{options:C},fe)}remove(C,A){this.series.removePoint(this.series.data.indexOf(this),C,A)}select(C,A){const O=this,Q=O.series,fe=Q.chart;this.selectedStaging=C=X(C,!O.selected),O.firePointEvent(C?"select":"unselect",{accumulate:A},function(){O.selected=O.options.selected=C,Q.options.data[Q.data.indexOf(O)]=O.options,O.setState(C&&"select"),A||fe.getSelectedPoints().forEach(function(Te){const oe=Te.series;Te.selected&&Te!==O&&(Te.selected=Te.options.selected=!1,oe.options.data[oe.data.indexOf(Te)]=Te.options,Te.setState(fe.hoverPoints&&oe.options.inactiveOtherPoints?"inactive":""),Te.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(C){const A=this.series.chart,O=A.pointer;C=C?O.normalize(C):O.getChartCoordinatesFromPoint(this,A.inverted),O.runPointActions(C,this)}onMouseOut(){const C=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(C.hoverPoints||[]).forEach(function(A){A.setState()}),C.hoverPoints=C.hoverPoint=null}importEvents(){if(!this.hasImportedEvents){const C=this,A=se(C.series.options.point,C.options).events;C.events=A,S(A,function(O,Q){V(O)&&Z(C,Q,O)}),this.hasImportedEvents=!0}}setState(C,A){const O=this.series;var Q=this.state,fe=O.options.states[C||"normal"]||{},Te=ee.plotOptions[O.type].marker&&O.options.marker;const oe=Te&&Te.enabled===!1,Me=Te&&Te.states&&Te.states[C||"normal"]||{},We=Me.enabled===!1,Qe=this.marker||{},ie=O.chart,ce=Te&&O.markerAttribs;let pe=O.halo;var Ce;let Be;var re=O.stateMarkerGraphic;if(C=C||"",!(C===this.state&&!A||this.selected&&C!=="select"||fe.enabled===!1||C&&(We||oe&&Me.enabled===!1)||C&&Qe.states&&Qe.states[C]&&Qe.states[C].enabled===!1)){if(this.state=C,ce&&(Ce=O.markerAttribs(this,C)),this.graphic&&!this.hasMockGraphic){if(Q&&this.graphic.removeClass("highcharts-point-"+Q),C&&this.graphic.addClass("highcharts-point-"+C),!ie.styledMode){Q=O.pointAttribs(this,C),Be=X(ie.options.chart.animation,fe.animation);const xe=Q.opacity;O.options.inactiveOtherPoints&&W(xe)&&((this.dataLabels||[]).forEach(function(_e){_e&&!_e.hasClass("highcharts-data-label-hidden")&&_e.animate({opacity:xe},Be)}),this.connector&&this.connector.animate({opacity:xe},Be)),this.graphic.animate(Q,Be)}Ce&&this.graphic.animate(Ce,X(ie.options.chart.animation,Me.animation,Te.animation)),re&&re.hide()}else C&&Me&&(Te=Qe.symbol||O.symbol,re&&re.currentSymbol!==Te&&(re=re.destroy()),Ce&&(re?re[A?"animate":"attr"]({x:Ce.x,y:Ce.y}):Te&&(O.stateMarkerGraphic=re=ie.renderer.symbol(Te,Ce.x,Ce.y,Ce.width,Ce.height).add(O.markerGroup),re.currentSymbol=Te)),!ie.styledMode&&re&&this.state!=="inactive"&&re.attr(O.pointAttribs(this,C))),re&&(re[C&&this.isInside?"show":"hide"](),re.element.point=this,re.addClass(this.getClassName(),!0));fe=fe.halo,Ce=(re=this.graphic||re)&&re.visibility||"inherit",fe&&fe.size&&re&&Ce!=="hidden"&&!this.isCluster?(pe||(O.halo=pe=ie.renderer.path().add(re.parentGroup)),pe.show()[A?"animate":"attr"]({d:this.haloPath(fe.size)}),pe.attr({class:"highcharts-halo highcharts-color-"+X(this.colorIndex,O.colorIndex)+(this.className?" "+this.className:""),visibility:Ce,zIndex:-1}),pe.point=this,ie.styledMode||pe.attr(G({fill:this.color||O.color,"fill-opacity":fe.opacity},h.filterUserAttributes(fe.attributes||{})))):pe&&pe.point&&pe.point.haloPath&&pe.animate({d:pe.point.haloPath(0)},null,pe.hide),ae(this,"afterSetState",{state:C})}}haloPath(C){const A=this.pos();return A?this.series.chart.renderer.symbols.circle(Math.floor(A[0])-C,A[1]-C,2*C,2*C):[]}}return q}),a(l,"Core/Pointer.js",[l["Core/Color/Color.js"],l["Core/Globals.js"],l["Core/Utilities.js"]],function(h,p,y){const{parse:s}=h,{charts:b,noop:L}=p,{addEvent:ee,attr:F,css:Z,defined:ne,extend:z,find:G,fireEvent:ae,isNumber:B,isObject:P,objectEach:V,offset:W,pick:R,splat:se}=y;class S{constructor(I,$){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=I,this.hasDragged=!1,this.options=$,this.init(I,$)}applyInactiveState(I){let $=[],K;(I||[]).forEach(function(q){K=q.series,$.push(K),K.linkedParent&&$.push(K.linkedParent),K.linkedSeries&&($=$.concat(K.linkedSeries)),K.navigatorSeries&&$.push(K.navigatorSeries)}),this.chart.series.forEach(function(q){$.indexOf(q)===-1?q.setState("inactive",!0):q.options.inactiveOtherPoints&&q.setAllPointsToState("inactive")})}destroy(){const I=this;this.eventsToUnbind.forEach($=>$()),this.eventsToUnbind=[],p.chartCount||(S.unbindDocumentMouseUp&&(S.unbindDocumentMouseUp=S.unbindDocumentMouseUp()),S.unbindDocumentTouchEnd&&(S.unbindDocumentTouchEnd=S.unbindDocumentTouchEnd())),clearInterval(I.tooltipTimeout),V(I,function($,K){I[K]=void 0})}getSelectionMarkerAttrs(I,$){const K={args:{chartX:I,chartY:$},attrs:{},shapeType:"rect"};return ae(this,"getSelectionMarkerAttrs",K,q=>{const{chart:J,mouseDownX:C=0,mouseDownY:A=0,zoomHor:O,zoomVert:Q}=this;q=q.attrs;let fe;q.x=J.plotLeft,q.y=J.plotTop,q.width=O?1:J.plotWidth,q.height=Q?1:J.plotHeight,O&&(fe=I-C,q.width=Math.abs(fe),q.x=(0<fe?0:fe)+C),Q&&(fe=$-A,q.height=Math.abs(fe),q.y=(0<fe?0:fe)+A)}),K}drag(I){const $=this.chart,K=$.options.chart;var q=$.plotLeft;const J=$.plotTop,C=$.plotWidth,A=$.plotHeight,O=this.mouseDownX||0,Q=this.mouseDownY||0,fe=P(K.panning)?K.panning&&K.panning.enabled:K.panning,Te=K.panKey&&I[K.panKey+"Key"];let oe=I.chartX,Me=I.chartY,We=this.selectionMarker;if((!We||!We.touch)&&(oe<q?oe=q:oe>q+C&&(oe=q+C),Me<J?Me=J:Me>J+A&&(Me=J+A),this.hasDragged=Math.sqrt(Math.pow(O-oe,2)+Math.pow(Q-Me,2)),10<this.hasDragged)){q=$.isInsidePlot(O-q,Q-J,{visiblePlotOnly:!0});const{shapeType:Qe,attrs:ie}=this.getSelectionMarkerAttrs(oe,Me);!$.hasCartesianSeries&&!$.mapView||!this.zoomX&&!this.zoomY||!q||Te||We||(this.selectionMarker=We=$.renderer[Qe](),We.attr({class:"highcharts-selection-marker",zIndex:7}).add(),$.styledMode||We.attr({fill:K.selectionMarkerFill||s("#334eff").setOpacity(.25).get()})),We&&We.attr(ie),q&&!We&&fe&&$.pan(I,K.panning)}}dragStart(I){const $=this.chart;$.mouseIsDown=I.type,$.cancelClick=!1,$.mouseDownX=this.mouseDownX=I.chartX,$.mouseDownY=this.mouseDownY=I.chartY}getSelectionBox(I){const $={args:{marker:I},result:{}};return ae(this,"getSelectionBox",$,K=>{K.result={x:I.attr?+I.attr("x"):I.x,y:I.attr?+I.attr("y"):I.y,width:I.attr?I.attr("width"):I.width,height:I.attr?I.attr("height"):I.height}}),$.result}drop(I){const $=this,K=this.chart,q=this.hasPinched;if(this.selectionMarker){const{x:J,y:C,width:A,height:O}=this.getSelectionBox(this.selectionMarker),Q={originalEvent:I,xAxis:[],yAxis:[],x:J,y:C,width:A,height:O};let fe=!!K.mapView;(this.hasDragged||q)&&(K.axes.forEach(function(Te){if(Te.zoomEnabled&&ne(Te.min)&&(q||$[{xAxis:"zoomX",yAxis:"zoomY"}[Te.coll]])&&B(J)&&B(C)&&B(A)&&B(O)){var oe=Te.horiz;const Me=I.type==="touchend"?Te.minPixelPadding:0,We=Te.toValue((oe?J:C)+Me);oe=Te.toValue((oe?J+A:C+O)-Me),Q[Te.coll].push({axis:Te,min:Math.min(We,oe),max:Math.max(We,oe)}),fe=!0}}),fe&&ae(K,"selection",Q,function(Te){K.zoom(z(Te,q?{animation:!1}:null))})),B(K.index)&&(this.selectionMarker=this.selectionMarker.destroy()),q&&this.scaleGroups()}K&&B(K.index)&&(Z(K.container,{cursor:K._cursor}),K.cancelClick=10<this.hasDragged,K.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])}findNearestKDPoint(I,$,K){let q;return I.forEach(function(J){var C=!(J.noSharedTooltip&&$)&&0>J.options.findNearestPointBy.indexOf("y");if(J=J.searchPoint(K,C),(C=P(J,!0)&&J.series)&&!(C=!P(q,!0))){{C=q.distX-J.distX;const A=q.dist-J.dist,O=(J.series.group&&J.series.group.zIndex)-(q.series.group&&q.series.group.zIndex);C=C!==0&&$?C:A!==0?A:O!==0?O:q.series.index>J.series.index?-1:1}C=0<C}C&&(q=J)}),q}getChartCoordinatesFromPoint(I,$){var K=I.series;const q=K.xAxis;K=K.yAxis;const J=I.shapeArgs;if(q&&K){let C=R(I.clientX,I.plotX),A=I.plotY||0;return I.isNode&&J&&B(J.x)&&B(J.y)&&(C=J.x,A=J.y),$?{chartX:K.len+K.pos-A,chartY:q.len+q.pos-C}:{chartX:C+q.pos,chartY:A+K.pos}}if(J&&J.x&&J.y)return{chartX:J.x,chartY:J.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;var{container:I}=this.chart;const $=W(I);this.chartPosition={left:$.left,top:$.top,scaleX:1,scaleY:1};const K=I.offsetWidth;return I=I.offsetHeight,2<K&&2<I&&(this.chartPosition.scaleX=$.width/K,this.chartPosition.scaleY=$.height/I),this.chartPosition}getCoordinates(I){const $={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(K){$[K.isXAxis?"xAxis":"yAxis"].push({axis:K,value:K.toValue(I[K.horiz?"chartX":"chartY"])})}),$}getHoverData(I,$,K,q,J,C){const A=[];q=!(!q||!I);const O=function(oe){return oe.visible&&!(!J&&oe.directTouch)&&R(oe.options.enableMouseTracking,!0)};let Q,fe={chartX:C?C.chartX:void 0,chartY:C?C.chartY:void 0,shared:J};ae(this,"beforeGetHoverData",fe),Q=$&&!$.stickyTracking?[$]:K.filter(oe=>oe.stickyTracking&&(fe.filter||O)(oe));const Te=q||!C?I:this.findNearestKDPoint(Q,J,C);return $=Te&&Te.series,Te&&(J&&!$.noSharedTooltip?(Q=K.filter(function(oe){return fe.filter?fe.filter(oe):O(oe)&&!oe.noSharedTooltip}),Q.forEach(function(oe){let Me=G(oe.points,function(We){return We.x===Te.x&&!We.isNull});P(Me)&&(oe.boosted&&oe.boost&&(Me=oe.boost.getPoint(Me)),A.push(Me))})):A.push(Te)),fe={hoverPoint:Te},ae(this,"afterGetHoverData",fe),{hoverPoint:fe.hoverPoint,hoverSeries:$,hoverPoints:A}}getPointFromEvent(I){I=I.target;let $;for(;I&&!$;)$=I.point,I=I.parentNode;return $}onTrackerMouseOut(I){I=I.relatedTarget;const $=this.chart.hoverSeries;this.isDirectTouch=!1,!$||!I||$.stickyTracking||this.inClass(I,"highcharts-tooltip")||this.inClass(I,"highcharts-series-"+$.index)&&this.inClass(I,"highcharts-tracker")||$.onMouseOut()}inClass(I,$){let K;for(;I;){if(K=F(I,"class")){if(K.indexOf($)!==-1)return!0;if(K.indexOf("highcharts-container")!==-1)return!1}I=I.parentElement}}init(I,$){this.options=$,this.chart=I,this.runChartClick=!(!$.chart.events||!$.chart.events.click),this.pinchDown=[],this.lastValidTouch={},this.setDOMEvents(),ae(this,"afterInit")}normalize(I,$){var K=I.touches,q=K?K.length?K.item(0):R(K.changedTouches,I.changedTouches)[0]:I;return $||($=this.getChartPosition()),K=q.pageX-$.left,q=q.pageY-$.top,K/=$.scaleX,q/=$.scaleY,z(I,{chartX:Math.round(K),chartY:Math.round(q)})}onContainerClick(I){const $=this.chart,K=$.hoverPoint;I=this.normalize(I);const q=$.plotLeft,J=$.plotTop;$.cancelClick||(K&&this.inClass(I.target,"highcharts-tracker")?(ae(K.series,"click",z(I,{point:K})),$.hoverPoint&&K.firePointEvent("click",I)):(z(I,this.getCoordinates(I)),$.isInsidePlot(I.chartX-q,I.chartY-J,{visiblePlotOnly:!0})&&ae($,"click",I)))}onContainerMouseDown(I){const $=((I.buttons||I.button)&1)===1;I=this.normalize(I),p.isFirefox&&I.button!==0&&this.onContainerMouseMove(I),(typeof I.button>"u"||$)&&(this.zoomOption(I),$&&I.preventDefault&&I.preventDefault(),this.dragStart(I))}onContainerMouseLeave(I){const $=b[R(S.hoverChartIndex,-1)];I=this.normalize(I),$&&I.relatedTarget&&!this.inClass(I.relatedTarget,"highcharts-tooltip")&&($.pointer.reset(),$.pointer.chartPosition=void 0)}onContainerMouseEnter(I){delete this.chartPosition}onContainerMouseMove(I){const $=this.chart,K=$.tooltip;I=this.normalize(I),this.setHoverChartIndex(),($.mouseIsDown==="mousedown"||this.touchSelect(I))&&this.drag(I),$.openMenu||!this.inClass(I.target,"highcharts-tracker")&&!$.isInsidePlot(I.chartX-$.plotLeft,I.chartY-$.plotTop,{visiblePlotOnly:!0})||K&&K.shouldStickOnContact(I)||(this.inClass(I.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(I))}onDocumentTouchEnd(I){const $=b[R(S.hoverChartIndex,-1)];$&&$.pointer.drop(I)}onContainerTouchMove(I){this.touchSelect(I)?this.onContainerMouseMove(I):this.touch(I)}onContainerTouchStart(I){this.touchSelect(I)?this.onContainerMouseDown(I):(this.zoomOption(I),this.touch(I,!0))}onDocumentMouseMove(I){const $=this.chart,K=$.tooltip,q=this.chartPosition;I=this.normalize(I,q),!q||$.isInsidePlot(I.chartX-$.plotLeft,I.chartY-$.plotTop,{visiblePlotOnly:!0})||K&&K.shouldStickOnContact(I)||this.inClass(I.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(I){const $=b[R(S.hoverChartIndex,-1)];$&&$.pointer.drop(I)}pinch(I){const $=this,K=$.chart,q=$.pinchDown,J=I.touches||[],C=J.length,A=$.lastValidTouch,O=$.hasZoom,Q={},fe=C===1&&($.inClass(I.target,"highcharts-tracker")&&K.runTrackerClick||$.runChartClick),Te={};var oe=$.chart.tooltip;oe=C===1&&R(oe&&oe.options.followTouchMove,!0);let Me=$.selectionMarker;1<C?$.initiated=!0:oe&&($.initiated=!1),O&&$.initiated&&!fe&&I.cancelable!==!1&&I.preventDefault(),[].map.call(J,function(We){return $.normalize(We)}),I.type==="touchstart"?([].forEach.call(J,function(We,Qe){q[Qe]={chartX:We.chartX,chartY:We.chartY}}),A.x=[q[0].chartX,q[1]&&q[1].chartX],A.y=[q[0].chartY,q[1]&&q[1].chartY],K.axes.forEach(function(We){if(We.zoomEnabled){const Qe=K.bounds[We.horiz?"h":"v"],ie=We.minPixelPadding,ce=We.toPixels(Math.min(R(We.options.min,We.dataMin),We.dataMin)),pe=We.toPixels(Math.max(R(We.options.max,We.dataMax),We.dataMax)),Ce=Math.max(ce,pe);Qe.min=Math.min(We.pos,Math.min(ce,pe)-ie),Qe.max=Math.max(We.pos+We.len,Ce+ie)}}),$.res=!0):oe?this.runPointActions($.normalize(I)):q.length&&(ae(K,"touchpan",{originalEvent:I},()=>{Me||($.selectionMarker=Me=z({destroy:L,touch:!0},K.plotBox)),$.pinchTranslate(q,J,Q,Me,Te,A),$.hasPinched=O,$.scaleGroups(Q,Te)}),$.res&&($.res=!1,this.reset(!1,0)))}pinchTranslate(I,$,K,q,J,C){this.zoomHor&&this.pinchTranslateDirection(!0,I,$,K,q,J,C),this.zoomVert&&this.pinchTranslateDirection(!1,I,$,K,q,J,C)}pinchTranslateDirection(I,$,K,q,J,C,A,O){const Q=this.chart,fe=I?"x":"y",Te=I?"X":"Y",oe="chart"+Te,Me=I?"width":"height",We=Q["plot"+(I?"Left":"Top")],Qe=Q.inverted,ie=Q.bounds[I?"h":"v"],ce=$.length===1,pe=$[0][oe],Ce=!ce&&$[1][oe];$=function(){typeof Y=="number"&&20<Math.abs(pe-Ce)&&(xe=O||Math.abs(_e-Y)/Math.abs(pe-Ce)),re=(We-_e)/xe+pe,Be=Q["plot"+(I?"Width":"Height")]/xe};let Be,re,xe=O||1,_e=K[0][oe],Y=!ce&&K[1][oe],de;$(),K=re,K<ie.min?(K=ie.min,de=!0):K+Be>ie.max&&(K=ie.max-Be,de=!0),de?(_e-=.8*(_e-A[fe][0]),typeof Y=="number"&&(Y-=.8*(Y-A[fe][1])),$()):A[fe]=[_e,Y],Qe||(C[fe]=re-We,C[Me]=Be),C=Qe?1/xe:xe,J[Me]=Be,J[fe]=K,q[Qe?I?"scaleY":"scaleX":"scale"+Te]=xe,q["translate"+Te]=C*We+(_e-C*pe)}reset(I,$){const K=this.chart,q=K.hoverSeries,J=K.hoverPoint,C=K.hoverPoints,A=K.tooltip,O=A&&A.shared?C:J;I&&O&&se(O).forEach(function(Q){Q.series.isCartesian&&typeof Q.plotX>"u"&&(I=!1)}),I?A&&O&&se(O).length&&(A.refresh(O),A.shared&&C?C.forEach(function(Q){Q.setState(Q.state,!0),Q.series.isCartesian&&(Q.series.xAxis.crosshair&&Q.series.xAxis.drawCrosshair(null,Q),Q.series.yAxis.crosshair&&Q.series.yAxis.drawCrosshair(null,Q))}):J&&(J.setState(J.state,!0),K.axes.forEach(function(Q){Q.crosshair&&J.series[Q.coll]===Q&&Q.drawCrosshair(null,J)}))):(J&&J.onMouseOut(),C&&C.forEach(function(Q){Q.setState()}),q&&q.onMouseOut(),A&&A.hide($),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),K.axes.forEach(function(Q){Q.hideCrosshair()}),this.hoverX=K.hoverPoints=K.hoverPoint=null)}runPointActions(I,$,K){const q=this.chart,J=q.tooltip&&q.tooltip.options.enabled?q.tooltip:void 0,C=J?J.shared:!1;let A=$||q.hoverPoint,O=A&&A.series||q.hoverSeries;$=this.getHoverData(A,O,q.series,(!I||I.type!=="touchmove")&&(!!$||O&&O.directTouch&&this.isDirectTouch),C,I),A=$.hoverPoint,O=$.hoverSeries;const Q=$.hoverPoints;$=O&&O.tooltipOptions.followPointer&&!O.tooltipOptions.split;const fe=C&&O&&!O.noSharedTooltip;if(A&&(K||A!==q.hoverPoint||J&&J.isHidden)){if((q.hoverPoints||[]).forEach(function(Te){Q.indexOf(Te)===-1&&Te.setState()}),q.hoverSeries!==O&&O.onMouseOver(),this.applyInactiveState(Q),(Q||[]).forEach(function(Te){Te.setState("hover")}),q.hoverPoint&&q.hoverPoint.firePointEvent("mouseOut"),!A.series)return;q.hoverPoints=Q,q.hoverPoint=A,A.firePointEvent("mouseOver",void 0,()=>{J&&A&&J.refresh(fe?Q:A,I)})}else $&&J&&!J.isHidden&&(K=J.getAnchor([{}],I),q.isInsidePlot(K[0],K[1],{visiblePlotOnly:!0})&&J.updatePosition({plotX:K[0],plotY:K[1]}));this.unDocMouseMove||(this.unDocMouseMove=ee(q.container.ownerDocument,"mousemove",function(Te){const oe=b[S.hoverChartIndex];oe&&oe.pointer.onDocumentMouseMove(Te)}),this.eventsToUnbind.push(this.unDocMouseMove)),q.axes.forEach(function(Te){const oe=R((Te.crosshair||{}).snap,!0);let Me;oe&&((Me=q.hoverPoint)&&Me.series[Te.coll]===Te||(Me=G(Q,We=>We.series&&We.series[Te.coll]===Te))),Me||!oe?Te.drawCrosshair(I,Me):Te.hideCrosshair()})}scaleGroups(I,$){const K=this.chart;K.series.forEach(function(q){const J=I||q.getPlotBox();q.group&&(q.xAxis&&q.xAxis.zoomEnabled||K.mapView)&&(q.group.attr(J),q.markerGroup&&(q.markerGroup.attr(J),q.markerGroup.clip($?K.clipRect:null)),q.dataLabelsGroup&&q.dataLabelsGroup.attr(J))}),K.clipRect.attr($||K.clipBox)}setDOMEvents(){const I=this.chart.container,$=I.ownerDocument;I.onmousedown=this.onContainerMouseDown.bind(this),I.onmousemove=this.onContainerMouseMove.bind(this),I.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(ee(I,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(ee(I,"mouseleave",this.onContainerMouseLeave.bind(this))),S.unbindDocumentMouseUp||(S.unbindDocumentMouseUp=ee($,"mouseup",this.onDocumentMouseUp.bind(this)));let K=this.chart.renderTo.parentElement;for(;K&&K.tagName!=="BODY";)this.eventsToUnbind.push(ee(K,"scroll",()=>{delete this.chartPosition})),K=K.parentElement;p.hasTouch&&(this.eventsToUnbind.push(ee(I,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(ee(I,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),S.unbindDocumentTouchEnd||(S.unbindDocumentTouchEnd=ee($,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))}setHoverChartIndex(){const I=this.chart,$=p.charts[R(S.hoverChartIndex,-1)];$&&$!==I&&$.pointer.onContainerMouseLeave({relatedTarget:I.container}),$&&$.mouseIsDown||(S.hoverChartIndex=I.index)}touch(I,$){const K=this.chart;let q;this.setHoverChartIndex(),I.touches.length===1?(I=this.normalize(I),K.isInsidePlot(I.chartX-K.plotLeft,I.chartY-K.plotTop,{visiblePlotOnly:!0})&&!K.openMenu?($&&this.runPointActions(I),I.type==="touchmove"&&($=this.pinchDown,q=$[0]?4<=Math.sqrt(Math.pow($[0].chartX-I.chartX,2)+Math.pow($[0].chartY-I.chartY,2)):!1),R(q,!0)&&this.pinch(I)):$&&this.reset()):I.touches.length===2&&this.pinch(I)}touchSelect(I){return!(!this.chart.options.chart.zooming.singleTouch||!I.touches||I.touches.length!==1)}zoomOption(I){var $=this.chart,K=$.options.chart;$=$.inverted;let q=K.zooming.type||"";/touch/.test(I.type)&&(q=R(K.zooming.pinchType,q)),this.zoomX=I=/x/.test(q),this.zoomY=K=/y/.test(q),this.zoomHor=I&&!$||K&&$,this.zoomVert=K&&!$||I&&$,this.hasZoom=I||K}}return function(X){const I=[],$=[];X.compose=function(K){y.pushUnique($,K)&&ee(K,"beforeRender",function(){this.pointer=new X(this,this.options)})},X.dissolve=function(){for(let K=0,q=I.length;K<q;++K)I[K]();I.length=0}}(S||(S={})),S}),a(l,"Core/Legend/Legend.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/FormatUtilities.js"],l["Core/Globals.js"],l["Core/Series/Point.js"],l["Core/Renderer/RendererUtilities.js"],l["Core/Utilities.js"]],function(h,p,y,s,b,L){const{animObject:ee,setAnimation:F}=h,{format:Z}=p,{marginNames:ne}=y,{distribute:z}=b,{addEvent:G,createElement:ae,css:B,defined:P,discardElement:V,find:W,fireEvent:R,isNumber:se,merge:S,pick:X,relativeLength:I,stableSort:$,syncTimeout:K}=L;class q{constructor(C,A){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=C,this.init(C,A)}init(C,A){this.chart=C,this.setOptions(A),A.enabled&&(this.render(),G(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),G(this.chart,"render",()=>{this.proximate&&(this.proximatePositions(),this.positionItems())}))}setOptions(C){const A=X(C.padding,8);this.options=C,this.chart.styledMode||(this.itemStyle=C.itemStyle,this.itemHiddenStyle=S(this.itemStyle,C.itemHiddenStyle)),this.itemMarginTop=C.itemMarginTop,this.itemMarginBottom=C.itemMarginBottom,this.padding=A,this.initialItemY=A-5,this.symbolWidth=X(C.symbolWidth,16),this.pages=[],this.proximate=C.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(C,A){const O=this.chart;this.setOptions(S(!0,this.options,C)),this.destroy(),O.isDirtyLegend=O.isDirtyBox=!0,X(A,!0)&&O.redraw(),R(this,"afterUpdate")}colorizeItem(C,A){const{group:O,label:Q,line:fe,symbol:Te}=C.legendItem||{};if(O&&O[A?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var oe=this.options;const Me=this.itemHiddenStyle.color;oe=A?oe.itemStyle.color:Me;const We=A&&C.color||Me,Qe=C.options&&C.options.marker;let ie={fill:We};Q&&Q.css({fill:oe}),fe&&fe.attr({stroke:We}),Te&&(Qe&&Te.isMarker&&(ie=C.pointAttribs(),A||(ie.stroke=ie.fill=Me)),Te.attr(ie))}R(this,"afterColorizeItem",{item:C,visible:A})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(C){const{group:A,x:O=0,y:Q=0}=C.legendItem||{};var fe=this.options,Te=fe.symbolPadding;const oe=!fe.rtl;fe=C.checkbox,A&&A.element&&(Te={translateX:oe?O:this.legendWidth-O-2*Te-4,translateY:Q},A[P(A.translateY)?"animate":"attr"](Te,void 0,()=>{R(this,"afterPositionItem",{item:C})})),fe&&(fe.x=O,fe.y=Q)}destroyItem(C){const A=C.checkbox,O=C.legendItem||{};for(const Q of["group","label","line","symbol"])O[Q]&&(O[Q]=O[Q].destroy());A&&V(A),C.legendItem=void 0}destroy(){for(const C of this.getAllItems())this.destroyItem(C);for(const C of"clipRect up down pager nav box title group".split(" "))this[C]&&(this[C]=this[C].destroy());this.display=null}positionCheckboxes(){const C=this.group&&this.group.alignAttr,A=this.clipHeight||this.legendHeight,O=this.titleHeight;let Q;C&&(Q=C.translateY,this.allItems.forEach(function(fe){const Te=fe.checkbox;let oe;Te&&(oe=Q+O+Te.y+(this.scrollOffset||0)+3,B(Te,{left:C.translateX+fe.checkboxOffset+Te.x-20+"px",top:oe+"px",display:this.proximate||oe>Q-6&&oe<Q+A-6?"":"none"}))},this))}renderTitle(){var C=this.options;const A=this.padding,O=C.title;let Q=0;O.text&&(this.title||(this.title=this.chart.renderer.label(O.text,A-3,A-4,void 0,void 0,void 0,C.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(O.style),this.title.add(this.group)),O.width||this.title.css({width:this.maxLegendWidth+"px"}),C=this.title.getBBox(),Q=C.height,this.offsetWidth=C.width,this.contentGroup.attr({translateY:Q})),this.titleHeight=Q}setText(C){const A=this.options;C.legendItem.label.attr({text:A.labelFormat?Z(A.labelFormat,C,this.chart):A.labelFormatter.call(C)})}renderItem(C){const A=C.legendItem=C.legendItem||{};var O=this.chart,Q=O.renderer;const fe=this.options,Te=this.symbolWidth,oe=fe.symbolPadding||0,Me=this.itemStyle,We=this.itemHiddenStyle,Qe=fe.layout==="horizontal"?X(fe.itemDistance,20):0,ie=!fe.rtl,ce=!C.series,pe=!ce&&C.series.drawLegendSymbol?C.series:C;var Ce=pe.options;const Be=this.createCheckboxForItem&&Ce&&Ce.showCheckbox,re=fe.useHTML,xe=C.options.className;let _e=A.label;Ce=Te+oe+Qe+(Be?20:0),_e||(A.group=Q.g("legend-item").addClass("highcharts-"+pe.type+"-series highcharts-color-"+C.colorIndex+(xe?" "+xe:"")+(ce?" highcharts-series-"+C.index:"")).attr({zIndex:1}).add(this.scrollGroup),A.label=_e=Q.text("",ie?Te+oe:-oe,this.baseline||0,re),O.styledMode||_e.css(S(C.visible?Me:We)),_e.attr({align:ie?"left":"right",zIndex:2}).add(A.group),this.baseline||(this.fontMetrics=Q.fontMetrics(_e),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,_e.attr("y",this.baseline),this.symbolHeight=X(fe.symbolHeight,this.fontMetrics.f),fe.squareSymbol&&(this.symbolWidth=X(fe.symbolWidth,Math.max(this.symbolHeight,16)),Ce=this.symbolWidth+oe+Qe+(Be?20:0),ie&&_e.attr("x",this.symbolWidth+oe))),pe.drawLegendSymbol(this,C),this.setItemEvents&&this.setItemEvents(C,_e,re)),Be&&!C.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(C),this.colorizeItem(C,C.visible),!O.styledMode&&Me.width||_e.css({width:(fe.itemWidth||this.widthOption||O.spacingBox.width)-Ce+"px"}),this.setText(C),O=_e.getBBox(),Q=this.fontMetrics&&this.fontMetrics.h||0,C.itemWidth=C.checkboxOffset=fe.itemWidth||A.labelWidth||O.width+Ce,this.maxItemWidth=Math.max(this.maxItemWidth,C.itemWidth),this.totalItemWidth+=C.itemWidth,this.itemHeight=C.itemHeight=Math.round(A.labelHeight||(O.height>1.5*Q?O.height:Q))}layoutItem(C){var A=this.options;const O=this.padding,Q=A.layout==="horizontal",fe=C.itemHeight,Te=this.itemMarginBottom,oe=this.itemMarginTop,Me=Q?X(A.itemDistance,20):0,We=this.maxLegendWidth;A=A.alignColumns&&this.totalItemWidth>We?this.maxItemWidth:C.itemWidth;const Qe=C.legendItem||{};Q&&this.itemX-O+A>We&&(this.itemX=O,this.lastLineHeight&&(this.itemY+=oe+this.lastLineHeight+Te),this.lastLineHeight=0),this.lastItemY=oe+this.itemY+Te,this.lastLineHeight=Math.max(fe,this.lastLineHeight),Qe.x=this.itemX,Qe.y=this.itemY,Q?this.itemX+=A:(this.itemY+=oe+fe+Te,this.lastLineHeight=fe),this.offsetWidth=this.widthOption||Math.max((Q?this.itemX-O-(C.checkbox?0:Me):A)+O,this.offsetWidth)}getAllItems(){let C=[];return this.chart.series.forEach(function(A){const O=A&&A.options;A&&X(O.showInLegend,P(O.linkedTo)?!1:void 0,!0)&&(C=C.concat((A.legendItem||{}).labels||(O.legendType==="point"?A.data:A)))}),R(this,"afterGetAllItems",{allItems:C}),C}getAlignment(){const C=this.options;return this.proximate?C.align.charAt(0)+"tv":C.floating?"":C.align.charAt(0)+C.verticalAlign.charAt(0)+C.layout.charAt(0)}adjustMargins(C,A){const O=this.chart,Q=this.options,fe=this.getAlignment();fe&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(Te,oe){Te.test(fe)&&!P(C[oe])&&(O[ne[oe]]=Math.max(O[ne[oe]],O.legend[(oe+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][oe]*Q[oe%2?"x":"y"]+X(Q.margin,12)+A[oe]+(O.titleOffset[oe]||0)))})}proximatePositions(){const C=this.chart,A=[],O=this.options.align==="left";this.allItems.forEach(function(fe){var Te,oe=O;let Me;fe.yAxis&&(fe.xAxis.options.reversed&&(oe=!oe),fe.points&&(Te=W(oe?fe.points:fe.points.slice(0).reverse(),function(We){return se(We.plotY)})),oe=this.itemMarginTop+fe.legendItem.label.getBBox().height+this.itemMarginBottom,Me=fe.yAxis.top-C.plotTop,fe.visible?(Te=Te?Te.plotY:fe.yAxis.height,Te+=Me-.3*oe):Te=Me+fe.yAxis.height,A.push({target:Te,size:oe,item:fe}))},this);let Q;for(const fe of z(A,C.plotHeight))Q=fe.item.legendItem||{},se(fe.pos)&&(Q.y=C.plotTop-C.spacing[0]+fe.pos)}render(){const C=this.chart,A=C.renderer,O=this.options,Q=this.padding;var fe=this.getAllItems();let Te,oe=this.group,Me=this.box;this.itemX=Q,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=I(O.width,C.spacingBox.width-Q);var We=C.spacingBox.width-2*Q-O.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(We/=2),this.maxLegendWidth=this.widthOption||We,oe||(this.group=oe=A.g("legend").addClass(O.className||"").attr({zIndex:7}).add(),this.contentGroup=A.g().attr({zIndex:1}).add(oe),this.scrollGroup=A.g().add(this.contentGroup)),this.renderTitle(),$(fe,(Qe,ie)=>(Qe.options&&Qe.options.legendIndex||0)-(ie.options&&ie.options.legendIndex||0)),O.reversed&&fe.reverse(),this.allItems=fe,this.display=We=!!fe.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,fe.forEach(this.renderItem,this),fe.forEach(this.layoutItem,this),fe=(this.widthOption||this.offsetWidth)+Q,Te=this.lastItemY+this.lastLineHeight+this.titleHeight,Te=this.handleOverflow(Te),Te+=Q,Me||(this.box=Me=A.rect().addClass("highcharts-legend-box").attr({r:O.borderRadius}).add(oe)),C.styledMode||Me.attr({stroke:O.borderColor,"stroke-width":O.borderWidth||0,fill:O.backgroundColor||"none"}).shadow(O.shadow),0<fe&&0<Te&&Me[Me.placed?"animate":"attr"](Me.crisp.call({},{x:0,y:0,width:fe,height:Te},Me.strokeWidth())),oe[We?"show":"hide"](),C.styledMode&&oe.getStyle("display")==="none"&&(fe=Te=0),this.legendWidth=fe,this.legendHeight=Te,We&&this.align(),this.proximate||this.positionItems(),R(this,"afterRender")}align(C=this.chart.spacingBox){const A=this.chart,O=this.options;let Q=C.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<A.titleOffset[0]?Q+=A.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<A.titleOffset[2]&&(Q-=A.titleOffset[2]),Q!==C.y&&(C=S(C,{y:Q})),A.hasRendered||(this.group.placed=!1),this.group.align(S(O,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":O.verticalAlign}),!0,C)}handleOverflow(C){const A=this,O=this.chart,Q=O.renderer,fe=this.options;var Te=fe.y;const oe=fe.verticalAlign==="top",Me=this.padding,We=fe.maxHeight,Qe=fe.navigation,ie=X(Qe.animation,!0),ce=Qe.arrowSize||12,pe=this.pages,Ce=this.allItems,Be=function(ke){typeof ke=="number"?me.attr({height:ke}):me&&(A.clipRect=me.destroy(),A.contentGroup.clip()),A.contentGroup.div&&(A.contentGroup.div.style.clip=ke?"rect("+Me+"px,9999px,"+(Me+ke)+"px,0)":"auto")},re=function(ke){return A[ke]=Q.circle(0,0,1.3*ce).translate(ce/2,ce/2).add(de),O.styledMode||A[ke].attr("fill","rgba(0,0,0,0.0001)"),A[ke]};let xe,_e,Y;Te=O.spacingBox.height+(oe?-Te:Te)-Me;let de=this.nav,me=this.clipRect;return fe.layout!=="horizontal"||fe.verticalAlign==="middle"||fe.floating||(Te/=2),We&&(Te=Math.min(Te,We)),pe.length=0,C&&0<Te&&C>Te&&Qe.enabled!==!1?(this.clipHeight=xe=Math.max(Te-20-this.titleHeight-Me,0),this.currentPage=X(this.currentPage,1),this.fullHeight=C,Ce.forEach((ke,Ie)=>{Y=ke.legendItem||{},ke=Y.y||0;const Ve=Math.round(Y.label.getBBox().height);let it=pe.length;(!it||ke-pe[it-1]>xe&&(_e||ke)!==pe[it-1])&&(pe.push(_e||ke),it++),Y.pageIx=it-1,_e&&((Ce[Ie-1].legendItem||{}).pageIx=it-1),Ie===Ce.length-1&&ke+Ve-pe[it-1]>xe&&ke>pe[it-1]&&(pe.push(ke),Y.pageIx=it),ke!==_e&&(_e=ke)}),me||(me=A.clipRect=Q.clipRect(0,Me-2,9999,0),A.contentGroup.clip(me)),Be(xe),de||(this.nav=de=Q.g().attr({zIndex:1}).add(this.group),this.up=Q.symbol("triangle",0,0,ce,ce).add(de),re("upTracker").on("click",function(){A.scroll(-1,ie)}),this.pager=Q.text("",15,10).addClass("highcharts-legend-navigation"),!O.styledMode&&Qe.style&&this.pager.css(Qe.style),this.pager.add(de),this.down=Q.symbol("triangle-down",0,0,ce,ce).add(de),re("downTracker").on("click",function(){A.scroll(1,ie)})),A.scroll(0),C=Te):de&&(Be(),this.nav=de.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),C}scroll(C,A){const O=this.chart,Q=this.pages,fe=Q.length,Te=this.clipHeight,oe=this.options.navigation,Me=this.pager,We=this.padding;let Qe=this.currentPage+C;Qe>fe&&(Qe=fe),0<Qe&&(typeof A<"u"&&F(A,O),this.nav.attr({translateX:We,translateY:Te+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(ie){ie.attr({class:Qe===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),Me.attr({text:Qe+"/"+fe}),[this.down,this.downTracker].forEach(function(ie){ie.attr({x:18+this.pager.getBBox().width,class:Qe===fe?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),O.styledMode||(this.up.attr({fill:Qe===1?oe.inactiveColor:oe.activeColor}),this.upTracker.css({cursor:Qe===1?"default":"pointer"}),this.down.attr({fill:Qe===fe?oe.inactiveColor:oe.activeColor}),this.downTracker.css({cursor:Qe===fe?"default":"pointer"})),this.scrollOffset=-Q[Qe-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=Qe,this.positionCheckboxes(),C=ee(X(A,O.renderer.globalAnimation,!0)),K(()=>{R(this,"afterScroll",{currentPage:Qe})},C.duration))}setItemEvents(C,A,O){const Q=this,fe=C.legendItem||{},Te=Q.chart.renderer.boxWrapper,oe=C instanceof s,Me="highcharts-legend-"+(oe?"point":"series")+"-active",We=Q.chart.styledMode;O=O?[A,fe.symbol]:[fe.group];const Qe=ie=>{Q.allItems.forEach(ce=>{C!==ce&&[ce].concat(ce.linkedSeries||[]).forEach(pe=>{pe.setState(ie,!oe)})})};for(const ie of O)ie&&ie.on("mouseover",function(){C.visible&&Qe("inactive"),C.setState("hover"),C.visible&&Te.addClass(Me),We||A.css(Q.options.itemHoverStyle)}).on("mouseout",function(){Q.chart.styledMode||A.css(S(C.visible?Q.itemStyle:Q.itemHiddenStyle)),Qe(""),Te.removeClass(Me),C.setState()}).on("click",function(ce){const pe=function(){C.setVisible&&C.setVisible(),Qe(C.visible?"inactive":"")};Te.removeClass(Me),ce={browserEvent:ce},C.firePointEvent?C.firePointEvent("legendItemClick",ce,pe):R(C,"legendItemClick",ce,pe)})}createCheckboxForItem(C){C.checkbox=ae("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:C.selected,defaultChecked:C.selected},this.options.itemCheckboxStyle,this.chart.container),G(C.checkbox,"click",function(A){R(C.series||C,"checkboxClick",{checked:A.target.checked,item:C},function(){C.select()})})}}return function(J){const C=[];J.compose=function(A){L.pushUnique(C,A)&&G(A,"beforeMargins",function(){this.legend=new J(this,this.options.legend)})}}(q||(q={})),q}),a(l,"Core/Series/SeriesRegistry.js",[l["Core/Globals.js"],l["Core/Defaults.js"],l["Core/Series/Point.js"],l["Core/Utilities.js"]],function(h,p,y,s){const{defaultOptions:b}=p,{extendClass:L,merge:ee}=s;var F;return function(Z){function ne(z,G){const ae=b.plotOptions||{},B=G.defaultOptions,P=G.prototype;P.type=z,P.pointClass||(P.pointClass=y),B&&(ae[z]=B),Z.seriesTypes[z]=G}Z.seriesTypes=h.seriesTypes,Z.registerSeriesType=ne,Z.seriesType=function(z,G,ae,B,P){const V=b.plotOptions||{};return G=G||"",V[z]=ee(V[G],ae),ne(z,L(Z.seriesTypes[G]||function(){},B)),Z.seriesTypes[z].prototype.type=z,P&&(Z.seriesTypes[z].prototype.pointClass=L(y,P)),Z.seriesTypes[z]}}(F||(F={})),F}),a(l,"Core/Chart/Chart.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Axis/Axis.js"],l["Core/Defaults.js"],l["Core/FormatUtilities.js"],l["Core/Foundation.js"],l["Core/Globals.js"],l["Core/Renderer/RendererRegistry.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Renderer/SVG/SVGRenderer.js"],l["Core/Time.js"],l["Core/Utilities.js"],l["Core/Renderer/HTML/AST.js"]],function(h,p,y,s,b,L,ee,F,Z,ne,z,G){const{animate:ae,animObject:B,setAnimation:P}=h,{defaultOptions:V,defaultTime:W}=y,{numberFormat:R}=s,{registerEventOptions:se}=b,{charts:S,doc:X,marginNames:I,svg:$,win:K}=L,{seriesTypes:q}=F,{addEvent:J,attr:C,cleanRecursively:A,createElement:O,css:Q,defined:fe,discardElement:Te,erase:oe,error:Me,extend:We,find:Qe,fireEvent:ie,getStyle:ce,isArray:pe,isNumber:Ce,isObject:Be,isString:re,merge:xe,objectEach:_e,pick:Y,pInt:de,relativeLength:me,removeEvent:ke,splat:Ie,syncTimeout:Ve,uniqueKey:it}=z;class tt{static chart(Ee,De,Fe){return new tt(Ee,De,Fe)}constructor(Ee,De,Fe){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(Ee,De,Fe)}getArgs(Ee,De,Fe){re(Ee)||Ee.nodeName?(this.renderTo=Ee,this.init(De,Fe)):this.init(Ee,De)}init(Ee,De){const Fe=Ee.plotOptions||{};ie(this,"init",{args:arguments},function(){const qe=xe(V,Ee),He=qe.chart;_e(qe.plotOptions,function(jt,Vt){Be(jt)&&(jt.tooltip=Fe[Vt]&&xe(Fe[Vt].tooltip)||void 0)}),qe.tooltip.userOptions=Ee.chart&&Ee.chart.forExport&&Ee.tooltip.userOptions||Ee.tooltip,this.userOptions=Ee,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=De,this.isResizing=0;const xt=He.zooming=He.zooming||{};Ee.chart&&!Ee.chart.zooming&&(xt.resetButton=He.resetZoomButton),xt.key=Y(xt.key,He.zoomKey),xt.pinchType=Y(xt.pinchType,He.pinchType),xt.singleTouch=Y(xt.singleTouch,He.zoomBySingleTouch),xt.type=Y(xt.type,He.zoomType),this.options=qe,this.axes=[],this.series=[],this.time=Ee.time&&Object.keys(Ee.time).length?new ne(Ee.time):L.time,this.numberFormatter=He.numberFormatter||R,this.styledMode=He.styledMode,this.hasCartesianSeries=He.showAxes,this.index=S.length,S.push(this),L.chartCount++,se(this,He),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,ie(this,"afterInit"),this.firstRender()})}initSeries(Ee){var De=this.options.chart;De=Ee.type||De.type;const Fe=q[De];return Fe||Me(17,!0,this,{missingModuleFor:De}),De=new Fe,typeof De.init=="function"&&De.init(this,Ee),De}setSeriesData(){this.getSeriesOrderByLinks().forEach(function(Ee){Ee.points||Ee.data||!Ee.enabledDataSorting||Ee.setData(Ee.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(Ee,De){return Ee.linkedSeries.length||De.linkedSeries.length?De.linkedSeries.length-Ee.linkedSeries.length:0})}orderSeries(Ee){const De=this.series;for(let Fe=Ee||0,qe=De.length;Fe<qe;++Fe)De[Fe]&&(De[Fe].index=Fe,De[Fe].name=De[Fe].getName())}isInsidePlot(Ee,De,Fe={}){const{inverted:qe,plotBox:He,plotLeft:xt,plotTop:jt,scrollablePlotBox:Vt}=this;var vi=0;let ri=0;Fe.visiblePlotOnly&&this.scrollingContainer&&({scrollLeft:vi,scrollTop:ri}=this.scrollingContainer);const bi=Fe.series,Gi=Fe.visiblePlotOnly&&Vt||He;var ki=Fe.inverted?De:Ee;if(De=Fe.inverted?Ee:De,Ee={x:ki,y:De,isInsidePlot:!0,options:Fe},!Fe.ignoreX){const Ni=bi&&(qe&&!this.polar?bi.yAxis:bi.xAxis)||{pos:xt,len:1/0};ki=Fe.paneCoordinates?Ni.pos+ki:xt+ki,ki>=Math.max(vi+xt,Ni.pos)&&ki<=Math.min(vi+xt+Gi.width,Ni.pos+Ni.len)||(Ee.isInsidePlot=!1)}return!Fe.ignoreY&&Ee.isInsidePlot&&(vi=!qe&&Fe.axis&&!Fe.axis.isXAxis&&Fe.axis||bi&&(qe?bi.xAxis:bi.yAxis)||{pos:jt,len:1/0},Fe=Fe.paneCoordinates?vi.pos+De:jt+De,Fe>=Math.max(ri+jt,vi.pos)&&Fe<=Math.min(ri+jt+Gi.height,vi.pos+vi.len)||(Ee.isInsidePlot=!1)),ie(this,"afterIsInsidePlot",Ee),Ee.isInsidePlot}redraw(Ee){ie(this,"beforeRedraw");const De=this.hasCartesianSeries?this.axes:this.colorAxis||[],Fe=this.series,qe=this.pointer,He=this.legend,xt=this.userOptions.legend,jt=this.renderer,Vt=jt.isHidden(),vi=[];let ri,bi,Gi=this.isDirtyBox,ki=this.isDirtyLegend,Ni;for(jt.rootFontSize=jt.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),P(this.hasRendered?Ee:!1,this),Vt&&this.temporaryDisplay(),this.layOutTitles(),Ee=Fe.length;Ee--;)if(Ni=Fe[Ee],(Ni.options.stacking||Ni.options.centerInCategory)&&(bi=!0,Ni.isDirty)){ri=!0;break}if(ri)for(Ee=Fe.length;Ee--;)Ni=Fe[Ee],Ni.options.stacking&&(Ni.isDirty=!0);Fe.forEach(function(Ai){Ai.isDirty&&(Ai.options.legendType==="point"?(typeof Ai.updateTotals=="function"&&Ai.updateTotals(),ki=!0):xt&&(xt.labelFormatter||xt.labelFormat)&&(ki=!0)),Ai.isDirtyData&&ie(Ai,"updatedData")}),ki&&He&&He.options.enabled&&(He.render(),this.isDirtyLegend=!1),bi&&this.getStacks(),De.forEach(function(Ai){Ai.updateNames(),Ai.setScale()}),this.getMargins(),De.forEach(function(Ai){Ai.isDirty&&(Gi=!0)}),De.forEach(function(Ai){const Tn=Ai.min+","+Ai.max;Ai.extKey!==Tn&&(Ai.extKey=Tn,vi.push(function(){ie(Ai,"afterSetExtremes",We(Ai.eventArgs,Ai.getExtremes())),delete Ai.eventArgs})),(Gi||bi)&&Ai.redraw()}),Gi&&this.drawChartBox(),ie(this,"predraw"),Fe.forEach(function(Ai){(Gi||Ai.isDirty)&&Ai.visible&&Ai.redraw(),Ai.isDirtyData=!1}),qe&&qe.reset(!0),jt.draw(),ie(this,"redraw"),ie(this,"render"),Vt&&this.temporaryDisplay(!0),vi.forEach(function(Ai){Ai.call()})}get(Ee){function De(He){return He.id===Ee||He.options&&He.options.id===Ee}const Fe=this.series;let qe=Qe(this.axes,De)||Qe(this.series,De);for(let He=0;!qe&&He<Fe.length;He++)qe=Qe(Fe[He].points||[],De);return qe}getAxes(){const Ee=this;var De=this.options;const Fe=De.xAxis=Ie(De.xAxis||{});De=De.yAxis=Ie(De.yAxis||{}),ie(this,"getAxes"),Fe.forEach(function(qe,He){qe.index=He,qe.isX=!0}),De.forEach(function(qe,He){qe.index=He}),Fe.concat(De).forEach(function(qe){new p(Ee,qe)}),ie(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((Ee,De)=>(De.getPointsCollection().forEach(Fe=>{Y(Fe.selectedStaging,Fe.selected)&&Ee.push(Fe)}),Ee),[])}getSelectedSeries(){return this.series.filter(function(Ee){return Ee.selected})}setTitle(Ee,De,Fe){this.applyDescription("title",Ee),this.applyDescription("subtitle",De),this.applyDescription("caption",void 0),this.layOutTitles(Fe)}applyDescription(Ee,De){const Fe=this;var qe=Ee==="title"?{color:"#333333",fontSize:this.options.isStock?"1em":"1.2em",fontWeight:"bold"}:{color:"#666666",fontSize:"0.8em"};qe=this.options[Ee]=xe(!this.styledMode&&{style:qe},this.options[Ee],De);let He=this[Ee];He&&De&&(this[Ee]=He=He.destroy()),qe&&!He&&(He=this.renderer.text(qe.text,0,0,qe.useHTML).attr({align:qe.align,class:"highcharts-"+Ee,zIndex:qe.zIndex||4}).add(),He.update=function(xt){Fe[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[Ee]](xt)},this.styledMode||He.css(qe.style),this[Ee]=He)}layOutTitles(Ee){const De=[0,0,0],Fe=this.renderer,qe=this.spacingBox;["title","subtitle","caption"].forEach(function(xt){const jt=this[xt],Vt=this.options[xt],vi=Vt.verticalAlign||"top";if(xt=xt==="title"?vi==="top"?-3:0:vi==="top"?De[0]+2:0,jt){jt.css({width:(Vt.width||qe.width+(Vt.widthAdjust||0))+"px"});const ri=Fe.fontMetrics(jt).b,bi=Math.round(jt.getBBox(Vt.useHTML).height);jt.align(We({y:vi==="bottom"?ri:xt+ri,height:bi},Vt),!1,"spacingBox"),Vt.floating||(vi==="top"?De[0]=Math.ceil(De[0]+bi):vi==="bottom"&&(De[2]=Math.ceil(De[2]+bi)))}},this),De[0]&&(this.options.title.verticalAlign||"top")==="top"&&(De[0]+=this.options.title.margin),De[2]&&this.options.caption.verticalAlign==="bottom"&&(De[2]+=this.options.caption.margin);const He=!this.titleOffset||this.titleOffset.join(",")!==De.join(",");this.titleOffset=De,ie(this,"afterLayOutTitles"),!this.isDirtyBox&&He&&(this.isDirtyBox=this.isDirtyLegend=He,this.hasRendered&&Y(Ee,!0)&&this.isDirtyBox&&this.redraw())}getContainerBox(){return{width:ce(this.renderTo,"width",!0)||0,height:ce(this.renderTo,"height",!0)||0}}getChartSize(){var Ee=this.options.chart;const De=Ee.width;Ee=Ee.height;const Fe=this.getContainerBox();this.chartWidth=Math.max(0,De||Fe.width||600),this.chartHeight=Math.max(0,me(Ee,this.chartWidth)||(1<Fe.height?Fe.height:400)),this.containerBox=Fe}temporaryDisplay(Ee){let De=this.renderTo;if(Ee)for(;De&&De.style;)De.hcOrigStyle&&(Q(De,De.hcOrigStyle),delete De.hcOrigStyle),De.hcOrigDetached&&(X.body.removeChild(De),De.hcOrigDetached=!1),De=De.parentNode;else for(;De&&De.style&&(X.body.contains(De)||De.parentNode||(De.hcOrigDetached=!0,X.body.appendChild(De)),(ce(De,"display",!1)==="none"||De.hcOricDetached)&&(De.hcOrigStyle={display:De.style.display,height:De.style.height,overflow:De.style.overflow},Ee={display:"block",overflow:"hidden"},De!==this.renderTo&&(Ee.height=0),Q(De,Ee),De.offsetWidth||De.style.setProperty("display","block","important")),De=De.parentNode,De!==X.body););}setClassName(Ee){this.container.className="highcharts-container "+(Ee||"")}getContainer(){const Ee=this.options,De=Ee.chart;var Fe=it();let qe,He=this.renderTo;He||(this.renderTo=He=De.renderTo),re(He)&&(this.renderTo=He=X.getElementById(He)),He||Me(13,!0,this);var xt=de(C(He,"data-highcharts-chart"));Ce(xt)&&S[xt]&&S[xt].hasRendered&&S[xt].destroy(),C(He,"data-highcharts-chart",this.index),He.innerHTML=G.emptyHTML,De.skipClone||He.offsetWidth||this.temporaryDisplay(),this.getChartSize(),xt=this.chartWidth;const jt=this.chartHeight;if(Q(He,{overflow:"hidden"}),this.styledMode||(qe=We({position:"relative",overflow:"hidden",width:xt+"px",height:jt+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},De.style||{})),this.container=Fe=O("div",{id:Fe},qe,He),this._cursor=Fe.style.cursor,this.renderer=new(De.renderer||!$?ee.getRendererType(De.renderer):Z)(Fe,xt,jt,void 0,De.forExport,Ee.exporting&&Ee.exporting.allowHTML,this.styledMode),this.containerBox=this.getContainerBox(),P(void 0,this),this.setClassName(De.className),this.styledMode)for(const Vt in Ee.defs)this.renderer.definition(Ee.defs[Vt]);else this.renderer.setStyle(De.style);this.renderer.chartIndex=this.index,ie(this,"afterGetContainer")}getMargins(Ee){const{spacing:De,margin:Fe,titleOffset:qe}=this;this.resetMargins(),qe[0]&&!fe(Fe[0])&&(this.plotTop=Math.max(this.plotTop,qe[0]+De[0])),qe[2]&&!fe(Fe[2])&&(this.marginBottom=Math.max(this.marginBottom,qe[2]+De[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(Fe,De),ie(this,"getMargins"),Ee||this.getAxisMargins()}getAxisMargins(){const Ee=this,De=Ee.axisOffset=[0,0,0,0],Fe=Ee.colorAxis,qe=Ee.margin,He=function(xt){xt.forEach(function(jt){jt.visible&&jt.getOffset()})};Ee.hasCartesianSeries?He(Ee.axes):Fe&&Fe.length&&He(Fe),I.forEach(function(xt,jt){fe(qe[jt])||(Ee[xt]+=De[jt])}),Ee.setChartSize()}reflow(Ee){const De=this;var Fe=De.options.chart;Fe=fe(Fe.width)&&fe(Fe.height);const qe=De.containerBox,He=De.getContainerBox();delete De.pointer.chartPosition,!Fe&&!De.isPrinting&&qe&&He.width&&((He.width!==qe.width||He.height!==qe.height)&&(z.clearTimeout(De.reflowTimeout),De.reflowTimeout=Ve(function(){De.container&&De.setSize(void 0,void 0,!1)},Ee?100:0)),De.containerBox=He)}setReflow(){const Ee=this;var De=Fe=>{var qe;!((qe=Ee.options)===null||qe===void 0)&&qe.chart.reflow&&Ee.hasLoaded&&Ee.reflow(Fe)};typeof ResizeObserver=="function"?new ResizeObserver(De).observe(Ee.renderTo):(De=J(K,"resize",De),J(this,"destroy",De))}setSize(Ee,De,Fe){const qe=this,He=qe.renderer;qe.isResizing+=1,P(Fe,qe),Fe=He.globalAnimation,qe.oldChartHeight=qe.chartHeight,qe.oldChartWidth=qe.chartWidth,typeof Ee<"u"&&(qe.options.chart.width=Ee),typeof De<"u"&&(qe.options.chart.height=De),qe.getChartSize(),qe.styledMode||(Fe?ae:Q)(qe.container,{width:qe.chartWidth+"px",height:qe.chartHeight+"px"},Fe),qe.setChartSize(!0),He.setSize(qe.chartWidth,qe.chartHeight,Fe),qe.axes.forEach(function(xt){xt.isDirty=!0,xt.setScale()}),qe.isDirtyLegend=!0,qe.isDirtyBox=!0,qe.layOutTitles(),qe.getMargins(),qe.redraw(Fe),qe.oldChartHeight=null,ie(qe,"resize"),Ve(function(){qe&&ie(qe,"endResize",null,function(){--qe.isResizing})},B(Fe).duration)}setChartSize(Ee){var De=this.inverted;const Fe=this.renderer;var qe=this.chartWidth,He=this.chartHeight;const xt=this.options.chart,jt=this.spacing,Vt=this.clipOffset;let vi,ri,bi,Gi;this.plotLeft=vi=Math.round(this.plotLeft),this.plotTop=ri=Math.round(this.plotTop),this.plotWidth=bi=Math.max(0,Math.round(qe-vi-this.marginRight)),this.plotHeight=Gi=Math.max(0,Math.round(He-ri-this.marginBottom)),this.plotSizeX=De?Gi:bi,this.plotSizeY=De?bi:Gi,this.plotBorderWidth=xt.plotBorderWidth||0,this.spacingBox=Fe.spacingBox={x:jt[3],y:jt[0],width:qe-jt[3]-jt[1],height:He-jt[0]-jt[2]},this.plotBox=Fe.plotBox={x:vi,y:ri,width:bi,height:Gi},De=2*Math.floor(this.plotBorderWidth/2),qe=Math.ceil(Math.max(De,Vt[3])/2),He=Math.ceil(Math.max(De,Vt[0])/2),this.clipBox={x:qe,y:He,width:Math.floor(this.plotSizeX-Math.max(De,Vt[1])/2-qe),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(De,Vt[2])/2-He))},Ee||(this.axes.forEach(function(ki){ki.setAxisSize(),ki.setAxisTranslation()}),Fe.alignElements()),ie(this,"afterSetChartSize",{skipAxes:Ee})}resetMargins(){ie(this,"resetMargins");const Ee=this,De=Ee.options.chart;["margin","spacing"].forEach(function(Fe){const qe=De[Fe],He=Be(qe)?qe:[qe,qe,qe,qe];["Top","Right","Bottom","Left"].forEach(function(xt,jt){Ee[Fe][jt]=Y(De[Fe+xt],He[jt])})}),I.forEach(function(Fe,qe){Ee[Fe]=Y(Ee.margin[qe],Ee.spacing[qe])}),Ee.axisOffset=[0,0,0,0],Ee.clipOffset=[0,0,0,0]}drawChartBox(){const Ee=this.options.chart,De=this.renderer,Fe=this.chartWidth,qe=this.chartHeight,He=this.styledMode,xt=this.plotBGImage;var jt=Ee.backgroundColor;const Vt=Ee.plotBackgroundColor,vi=Ee.plotBackgroundImage,ri=this.plotLeft,bi=this.plotTop,Gi=this.plotWidth,ki=this.plotHeight,Ni=this.plotBox,Ai=this.clipRect,Tn=this.clipBox;let In=this.chartBackground,Hn=this.plotBackground,hs=this.plotBorder,nr,rr,_r="animate";In||(this.chartBackground=In=De.rect().addClass("highcharts-background").add(),_r="attr"),He?nr=rr=In.strokeWidth():(nr=Ee.borderWidth||0,rr=nr+(Ee.shadow?8:0),jt={fill:jt||"none"},(nr||In["stroke-width"])&&(jt.stroke=Ee.borderColor,jt["stroke-width"]=nr),In.attr(jt).shadow(Ee.shadow)),In[_r]({x:rr/2,y:rr/2,width:Fe-rr-nr%2,height:qe-rr-nr%2,r:Ee.borderRadius}),_r="animate",Hn||(_r="attr",this.plotBackground=Hn=De.rect().addClass("highcharts-plot-background").add()),Hn[_r](Ni),He||(Hn.attr({fill:Vt||"none"}).shadow(Ee.plotShadow),vi&&(xt?(vi!==xt.attr("href")&&xt.attr("href",vi),xt.animate(Ni)):this.plotBGImage=De.image(vi,ri,bi,Gi,ki).add())),Ai?Ai.animate({width:Tn.width,height:Tn.height}):this.clipRect=De.clipRect(Tn),_r="animate",hs||(_r="attr",this.plotBorder=hs=De.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),He||hs.attr({stroke:Ee.plotBorderColor,"stroke-width":Ee.plotBorderWidth||0,fill:"none"}),hs[_r](hs.crisp({x:ri,y:bi,width:Gi,height:ki},-hs.strokeWidth())),this.isDirtyBox=!1,ie(this,"afterDrawChartBox")}propFromSeries(){const Ee=this,De=Ee.options.chart,Fe=Ee.options.series;let qe,He,xt;["inverted","angular","polar"].forEach(function(jt){for(He=q[De.type],xt=De[jt]||He&&He.prototype[jt],qe=Fe&&Fe.length;!xt&&qe--;)(He=q[Fe[qe].type])&&He.prototype[jt]&&(xt=!0);Ee[jt]=xt})}linkSeries(Ee){const De=this,Fe=De.series;Fe.forEach(function(qe){qe.linkedSeries.length=0}),Fe.forEach(function(qe){let He=qe.options.linkedTo;re(He)&&(He=He===":previous"?De.series[qe.index-1]:De.get(He))&&He.linkedParent!==qe&&(He.linkedSeries.push(qe),qe.linkedParent=He,He.enabledDataSorting&&qe.setDataSortingOptions(),qe.visible=Y(qe.options.visible,He.options.visible,qe.visible))}),ie(this,"afterLinkSeries",{isUpdating:Ee})}renderSeries(){this.series.forEach(function(Ee){Ee.translate(),Ee.render()})}render(){const Ee=this.axes,De=this.colorAxis,Fe=this.renderer,qe=function(ri){ri.forEach(function(bi){bi.visible&&bi.render()})};let He=0;this.setTitle(),ie(this,"beforeMargins"),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize();const xt=this.plotWidth;Ee.some(function(ri){if(ri.horiz&&ri.visible&&ri.options.labels.enabled&&ri.series.length)return He=21,!0});const jt=this.plotHeight=Math.max(this.plotHeight-He,0);Ee.forEach(function(ri){ri.setScale()}),this.getAxisMargins();const Vt=1.1<xt/this.plotWidth,vi=1.05<jt/this.plotHeight;(Vt||vi)&&(Ee.forEach(function(ri){(ri.horiz&&Vt||!ri.horiz&&vi)&&ri.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?qe(Ee):De&&De.length&&qe(De),this.seriesGroup||(this.seriesGroup=Fe.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(Ee){const De=this,Fe=xe(!0,this.options.credits,Ee);Fe.enabled&&!this.credits&&(this.credits=this.renderer.text(Fe.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){Fe.href&&(K.location.href=Fe.href)}).attr({align:Fe.position.align,zIndex:8}),De.styledMode||this.credits.css(Fe.style),this.credits.add().align(Fe.position),this.credits.update=function(qe){De.credits=De.credits.destroy(),De.addCredits(qe)})}destroy(){const Ee=this,De=Ee.axes,Fe=Ee.series,qe=Ee.container,He=qe&&qe.parentNode;let xt;for(ie(Ee,"destroy"),Ee.renderer.forExport?oe(S,Ee):S[Ee.index]=void 0,L.chartCount--,Ee.renderTo.removeAttribute("data-highcharts-chart"),ke(Ee),xt=De.length;xt--;)De[xt]=De[xt].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),xt=Fe.length;xt--;)Fe[xt]=Fe[xt].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(jt){const Vt=Ee[jt];Vt&&Vt.destroy&&(Ee[jt]=Vt.destroy())}),qe&&(qe.innerHTML=G.emptyHTML,ke(qe),He&&Te(qe)),_e(Ee,function(jt,Vt){delete Ee[Vt]})}firstRender(){const Ee=this,De=Ee.options;Ee.getContainer(),Ee.resetMargins(),Ee.setChartSize(),Ee.propFromSeries(),Ee.getAxes(),(pe(De.series)?De.series:[]).forEach(function(Fe){Ee.initSeries(Fe)}),Ee.linkSeries(),Ee.setSeriesData(),ie(Ee,"beforeRender"),Ee.render(),Ee.pointer.getChartPosition(),!Ee.renderer.imgCount&&!Ee.hasLoaded&&Ee.onload(),Ee.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(Ee){Ee&&typeof this.index<"u"&&Ee.apply(this,[this])},this),ie(this,"load"),ie(this,"render"),fe(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){const{options:Ee,title:De}=this;Ee&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(De&&De.element.textContent||"").replace(/</g,"&lt;")}),Ee.accessibility&&Ee.accessibility.enabled===!1||Me('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(Ee,De,Fe){const qe=this;let He;return Ee&&(De=Y(De,!0),ie(qe,"addSeries",{options:Ee},function(){He=qe.initSeries(Ee),qe.isDirtyLegend=!0,qe.linkSeries(),He.enabledDataSorting&&He.setData(Ee.data,!1),ie(qe,"afterAddSeries",{series:He}),De&&qe.redraw(Fe)})),He}addAxis(Ee,De,Fe,qe){return this.createAxis(De?"xAxis":"yAxis",{axis:Ee,redraw:Fe,animation:qe})}addColorAxis(Ee,De,Fe){return this.createAxis("colorAxis",{axis:Ee,redraw:De,animation:Fe})}createAxis(Ee,De){return Ee=new p(this,xe(De.axis,{index:this[Ee].length,isX:Ee==="xAxis"})),Y(De.redraw,!0)&&this.redraw(De.animation),Ee}showLoading(Ee){const De=this,Fe=De.options,qe=Fe.loading,He=function(){xt&&Q(xt,{left:De.plotLeft+"px",top:De.plotTop+"px",width:De.plotWidth+"px",height:De.plotHeight+"px"})};let xt=De.loadingDiv,jt=De.loadingSpan;xt||(De.loadingDiv=xt=O("div",{className:"highcharts-loading highcharts-loading-hidden"},null,De.container)),jt||(De.loadingSpan=jt=O("span",{className:"highcharts-loading-inner"},null,xt),J(De,"redraw",He)),xt.className="highcharts-loading",G.setElementHTML(jt,Y(Ee,Fe.lang.loading,"")),De.styledMode||(Q(xt,We(qe.style,{zIndex:10})),Q(jt,qe.labelStyle),De.loadingShown||(Q(xt,{opacity:0,display:""}),ae(xt,{opacity:qe.style.opacity||.5},{duration:qe.showDuration||0}))),De.loadingShown=!0,He()}hideLoading(){const Ee=this.options,De=this.loadingDiv;De&&(De.className="highcharts-loading highcharts-loading-hidden",this.styledMode||ae(De,{opacity:0},{duration:Ee.loading.hideDuration||100,complete:function(){Q(De,{display:"none"})}})),this.loadingShown=!1}update(Ee,De,Fe,qe){const He=this,xt={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},jt=Ee.isResponsiveOptions,Vt=[];let vi,ri;ie(He,"update",{options:Ee}),jt||He.setResponsive(!1,!0),Ee=A(Ee,He.options),He.userOptions=xe(He.userOptions,Ee);var bi=Ee.chart;if(bi){if(xe(!0,He.options.chart,bi),"className"in bi&&He.setClassName(bi.className),"inverted"in bi||"polar"in bi||"type"in bi){He.propFromSeries();var Gi=!0}"alignTicks"in bi&&(Gi=!0),"events"in bi&&se(this,bi),_e(bi,function(ki,Ni){He.propsRequireUpdateSeries.indexOf("chart."+Ni)!==-1&&(vi=!0),He.propsRequireDirtyBox.indexOf(Ni)!==-1&&(He.isDirtyBox=!0),He.propsRequireReflow.indexOf(Ni)!==-1&&(jt?He.isDirtyBox=!0:ri=!0)}),!He.styledMode&&bi.style&&He.renderer.setStyle(He.options.chart.style||{})}!He.styledMode&&Ee.colors&&(this.options.colors=Ee.colors),Ee.time&&(this.time===W&&(this.time=new ne(Ee.time)),xe(!0,He.options.time,Ee.time)),_e(Ee,function(ki,Ni){He[Ni]&&typeof He[Ni].update=="function"?He[Ni].update(ki,!1):typeof He[xt[Ni]]=="function"?He[xt[Ni]](ki):Ni!=="colors"&&He.collectionsWithUpdate.indexOf(Ni)===-1&&xe(!0,He.options[Ni],Ee[Ni]),Ni!=="chart"&&He.propsRequireUpdateSeries.indexOf(Ni)!==-1&&(vi=!0)}),this.collectionsWithUpdate.forEach(function(ki){let Ni;Ee[ki]&&(Ni=[],He[ki].forEach(function(Ai,Tn){Ai.options.isInternal||Ni.push(Y(Ai.options.index,Tn))}),Ie(Ee[ki]).forEach(function(Ai,Tn){const In=fe(Ai.id);let Hn;In&&(Hn=He.get(Ai.id)),!Hn&&He[ki]&&(Hn=He[ki][Ni?Ni[Tn]:Tn])&&In&&fe(Hn.options.id)&&(Hn=void 0),Hn&&Hn.coll===ki&&(Hn.update(Ai,!1),Fe&&(Hn.touched=!0)),!Hn&&Fe&&He.collectionsWithInit[ki]&&(He.collectionsWithInit[ki][0].apply(He,[Ai].concat(He.collectionsWithInit[ki][1]||[]).concat([!1])).touched=!0)}),Fe&&He[ki].forEach(function(Ai){Ai.touched||Ai.options.isInternal?delete Ai.touched:Vt.push(Ai)}))}),Vt.forEach(function(ki){ki.chart&&ki.remove&&ki.remove(!1)}),Gi&&He.axes.forEach(function(ki){ki.update({},!1)}),vi&&He.getSeriesOrderByLinks().forEach(function(ki){ki.chart&&ki.update({},!1)},this),Gi=bi&&bi.width,bi=bi&&(re(bi.height)?me(bi.height,Gi||He.chartWidth):bi.height),ri||Ce(Gi)&&Gi!==He.chartWidth||Ce(bi)&&bi!==He.chartHeight?He.setSize(Gi,bi,qe):Y(De,!0)&&He.redraw(qe),ie(He,"afterUpdate",{options:Ee,redraw:De,animation:qe})}setSubtitle(Ee,De){this.applyDescription("subtitle",Ee),this.layOutTitles(De)}setCaption(Ee,De){this.applyDescription("caption",Ee),this.layOutTitles(De)}showResetZoom(){function Ee(){De.zoomOut()}const De=this,Fe=V.lang,qe=De.options.chart.zooming.resetButton,He=qe.theme,xt=qe.relativeTo==="chart"||qe.relativeTo==="spacingBox"?null:"scrollablePlotBox";ie(this,"beforeShowResetZoom",null,function(){De.resetZoomButton=De.renderer.button(Fe.resetZoom,null,null,Ee,He).attr({align:qe.position.align,title:Fe.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(qe.position,!1,xt)}),ie(this,"afterShowResetZoom")}zoomOut(){ie(this,"selection",{resetSelection:!0},this.zoom)}zoom(Ee){const De=this,Fe=De.pointer;let qe=!1,He;!Ee||Ee.resetSelection?(De.axes.forEach(function(jt){He=jt.zoom()}),Fe.initiated=!1):Ee.xAxis.concat(Ee.yAxis).forEach(function(jt){const Vt=jt.axis;(Fe[Vt.isXAxis?"zoomX":"zoomY"]&&fe(Fe.mouseDownX)&&fe(Fe.mouseDownY)&&De.isInsidePlot(Fe.mouseDownX-De.plotLeft,Fe.mouseDownY-De.plotTop,{axis:Vt})||!fe(De.inverted?Fe.mouseDownX:Fe.mouseDownY))&&(He=Vt.zoom(jt.min,jt.max),Vt.displayBtn&&(qe=!0))});const xt=De.resetZoomButton;qe&&!xt?De.showResetZoom():!qe&&Be(xt)&&(De.resetZoomButton=xt.destroy()),He&&De.redraw(Y(De.options.chart.animation,Ee&&Ee.animation,100>De.pointCount))}pan(Ee,De){const Fe=this,qe=Fe.hoverPoints;De=typeof De=="object"?De:{enabled:De,type:"x"};const He=Fe.options.chart;He&&He.panning&&(He.panning=De);const xt=De.type;let jt;ie(this,"pan",{originalEvent:Ee},function(){qe&&qe.forEach(function(ri){ri.setState()});let Vt=Fe.xAxis;xt==="xy"?Vt=Vt.concat(Fe.yAxis):xt==="y"&&(Vt=Fe.yAxis);const vi={};Vt.forEach(function(ri){if(ri.options.panningEnabled&&!ri.options.isInternal){var bi=ri.horiz,Gi=Ee[bi?"chartX":"chartY"];bi=bi?"mouseDownX":"mouseDownY";var ki=Fe[bi],Ni=ri.minPointOffset||0,Ai=ri.reversed&&!Fe.inverted||!ri.reversed&&Fe.inverted?-1:1,Tn=ri.getExtremes(),In=ri.toValue(ki-Gi,!0)+Ni*Ai,Hn=ri.toValue(ki+ri.len-Gi,!0)-(Ni*Ai||ri.isXAxis&&ri.pointRangePadding||0),hs=Hn<In;Ai=ri.hasVerticalPanning(),ki=hs?Hn:In,In=hs?In:Hn;var nr=ri.panningState;!Ai||ri.isXAxis||nr&&!nr.isDirty||ri.series.forEach(function(rr){var _r=rr.getProcessedData(!0);_r=rr.getExtremes(_r.yData,!0),nr||(nr={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),Ce(_r.dataMin)&&Ce(_r.dataMax)&&(nr.startMin=Math.min(Y(rr.options.threshold,1/0),_r.dataMin,nr.startMin),nr.startMax=Math.max(Y(rr.options.threshold,-1/0),_r.dataMax,nr.startMax))}),Ai=Math.min(Y(nr&&nr.startMin,Tn.dataMin),Ni?Tn.min:ri.toValue(ri.toPixels(Tn.min)-ri.minPixelPadding)),Hn=Math.max(Y(nr&&nr.startMax,Tn.dataMax),Ni?Tn.max:ri.toValue(ri.toPixels(Tn.max)+ri.minPixelPadding)),ri.panningState=nr,ri.isOrdinal||(Ni=Ai-ki,0<Ni&&(In+=Ni,ki=Ai),Ni=In-Hn,0<Ni&&(In=Hn,ki-=Ni),ri.series.length&&ki!==Tn.min&&In!==Tn.max&&ki>=Ai&&In<=Hn&&(ri.setExtremes(ki,In,!1,!1,{trigger:"pan"}),!Fe.resetZoomButton&&ki!==Ai&&In!==Hn&&xt.match("y")&&(Fe.showResetZoom(),ri.displayBtn=!1),jt=!0),vi[bi]=Gi)}}),_e(vi,(ri,bi)=>{Fe[bi]=ri}),jt&&Fe.redraw(!1),Q(Fe.container,{cursor:"move"})})}}return We(tt.prototype,{callbacks:[],collectionsWithInit:{xAxis:[tt.prototype.addAxis,[!0]],yAxis:[tt.prototype.addAxis,[!1]],series:[tt.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),tt}),a(l,"Core/Legend/LegendSymbol.js",[l["Core/Utilities.js"]],function(h){const{extend:p,merge:y,pick:s}=h;var b;return function(L){L.lineMarker=function(ee,F){F=this.legendItem=this.legendItem||{};var Z=this.options;const ne=ee.symbolWidth,z=ee.symbolHeight,G=z/2,ae=this.chart.renderer,B=F.group;ee=ee.baseline-Math.round(.3*ee.fontMetrics.b);let P={},V=Z.marker,W=0;this.chart.styledMode||(P={"stroke-width":Math.min(Z.lineWidth||0,24)},Z.dashStyle?P.dashstyle=Z.dashStyle:Z.linecap!=="square"&&(P["stroke-linecap"]="round")),F.line=ae.path().addClass("highcharts-graph").attr(P).add(B),P["stroke-linecap"]&&(W=Math.min(F.line.strokeWidth(),ne)/2),ne&&F.line.attr({d:[["M",W,ee],["L",ne-W,ee]]}),V&&V.enabled!==!1&&ne&&(Z=Math.min(s(V.radius,G),G),this.symbol.indexOf("url")===0&&(V=y(V,{width:z,height:z}),Z=0),F.symbol=F=ae.symbol(this.symbol,ne/2-Z,ee-Z,2*Z,2*Z,p({context:"legend"},V)).addClass("highcharts-point").add(B),F.isMarker=!0)},L.rectangle=function(ee,F){F=F.legendItem||{};const Z=ee.symbolHeight,ne=ee.options.squareSymbol;F.symbol=this.chart.renderer.rect(ne?(ee.symbolWidth-Z)/2:0,ee.baseline-Z+1,ne?Z:ee.symbolWidth,Z,s(ee.options.symbolRadius,Z/2)).addClass("highcharts-point").attr({zIndex:3}).add(F.group)}}(b||(b={})),b}),a(l,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:1,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){const{numberFormatter:h}=this.series.chart;return typeof this.y!="number"?"":h(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),a(l,"Core/Series/Series.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Defaults.js"],l["Core/Foundation.js"],l["Core/Globals.js"],l["Core/Legend/LegendSymbol.js"],l["Core/Series/Point.js"],l["Core/Series/SeriesDefaults.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Utilities.js"]],function(h,p,y,s,b,L,ee,F,Z,ne){const{animObject:z,setAnimation:G}=h,{defaultOptions:ae}=p,{registerEventOptions:B}=y,{hasTouch:P,svg:V,win:W}=s,{seriesTypes:R}=F,{arrayMax:se,arrayMin:S,clamp:X,cleanRecursively:I,correctFloat:$,defined:K,erase:q,error:J,extend:C,find:A,fireEvent:O,getNestedProperty:Q,isArray:fe,isNumber:Te,isString:oe,merge:Me,objectEach:We,pick:Qe,removeEvent:ie,splat:ce,syncTimeout:pe}=ne;class Ce{constructor(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}init(re,xe){O(this,"init",{options:xe});const _e=this,Y=re.series;this.eventsToUnbind=[],_e.chart=re,_e.options=_e.setOptions(xe),xe=_e.options,_e.linkedSeries=[],_e.bindAxes(),C(_e,{name:xe.name,state:"",visible:xe.visible!==!1,selected:xe.selected===!0}),B(this,xe);const de=xe.events;(de&&de.click||xe.point&&xe.point.events&&xe.point.events.click||xe.allowPointSelect)&&(re.runTrackerClick=!0),_e.getColor(),_e.getSymbol(),_e.parallelArrays.forEach(function(ke){_e[ke+"Data"]||(_e[ke+"Data"]=[])}),_e.isCartesian&&(re.hasCartesianSeries=!0);let me;Y.length&&(me=Y[Y.length-1]),_e._i=Qe(me&&me._i,-1)+1,_e.opacity=_e.options.opacity,re.orderSeries(this.insert(Y)),xe.dataSorting&&xe.dataSorting.enabled?_e.setDataSortingOptions():_e.points||_e.data||_e.setData(xe.data,!1),O(this,"afterInit")}is(re){return R[re]&&this instanceof R[re]}insert(re){const xe=this.options.index;let _e;if(Te(xe)){for(_e=re.length;_e--;)if(xe>=Qe(re[_e].options.index,re[_e]._i)){re.splice(_e+1,0,this);break}_e===-1&&re.unshift(this),_e+=1}else re.push(this);return Qe(_e,re.length-1)}bindAxes(){const re=this,xe=re.options,_e=re.chart;let Y;O(this,"bindAxes",null,function(){(re.axisTypes||[]).forEach(function(de){let me=0;_e[de].forEach(function(ke){Y=ke.options,(xe[de]===me&&!Y.isInternal||typeof xe[de]<"u"&&xe[de]===Y.id||typeof xe[de]>"u"&&Y.index===0)&&(re.insert(ke.series),re[de]=ke,ke.isDirty=!0),Y.isInternal||me++}),re[de]||re.optionalAxis===de||J(18,!0,_e)})}),O(this,"afterBindAxes")}updateParallelArrays(re,xe,_e){const Y=re.series,de=Te(xe)?function(me){const ke=me==="y"&&Y.toYData?Y.toYData(re):re[me];Y[me+"Data"][xe]=ke}:function(me){Array.prototype[xe].apply(Y[me+"Data"],_e)};Y.parallelArrays.forEach(de)}hasData(){return this.visible&&typeof this.dataMax<"u"&&typeof this.dataMin<"u"||this.visible&&this.yData&&0<this.yData.length}autoIncrement(re){var xe=this.options;const _e=xe.pointIntervalUnit,Y=xe.relativeXValue,de=this.chart.time;let me=this.xIncrement,ke;return me=Qe(me,xe.pointStart,0),this.pointInterval=ke=Qe(this.pointInterval,xe.pointInterval,1),Y&&Te(re)&&(ke*=re),_e&&(xe=new de.Date(me),_e==="day"?de.set("Date",xe,de.get("Date",xe)+ke):_e==="month"?de.set("Month",xe,de.get("Month",xe)+ke):_e==="year"&&de.set("FullYear",xe,de.get("FullYear",xe)+ke),ke=xe.getTime()-me),Y&&Te(re)?me+ke:(this.xIncrement=me+ke,me)}setDataSortingOptions(){const re=this.options;C(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),K(re.pointRange)||(re.pointRange=1)}setOptions(re){var xe=this.chart,_e=xe.options,Y=_e.plotOptions,de=xe.userOptions||{};re=Me(re),xe=xe.styledMode;const me={plotOptions:Y,userOptions:re};O(this,"setOptions",me);const ke=me.plotOptions[this.type],Ie=de.plotOptions||{};return this.userOptions=me.userOptions,de=Me(ke,Y.series,de.plotOptions&&de.plotOptions[this.type],re),this.tooltipOptions=Me(ae.tooltip,ae.plotOptions.series&&ae.plotOptions.series.tooltip,ae.plotOptions[this.type].tooltip,_e.tooltip.userOptions,Y.series&&Y.series.tooltip,Y[this.type].tooltip,re.tooltip),this.stickyTracking=Qe(re.stickyTracking,Ie[this.type]&&Ie[this.type].stickyTracking,Ie.series&&Ie.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:de.stickyTracking),ke.marker===null&&delete de.marker,this.zoneAxis=de.zoneAxis,Y=this.zones=(de.zones||[]).slice(),!de.negativeColor&&!de.negativeFillColor||de.zones||(_e={value:de[this.zoneAxis+"Threshold"]||de.threshold||0,className:"highcharts-negative"},xe||(_e.color=de.negativeColor,_e.fillColor=de.negativeFillColor),Y.push(_e)),Y.length&&K(Y[Y.length-1].value)&&Y.push(xe?{}:{color:this.color,fillColor:this.fillColor}),O(this,"afterSetOptions",{options:de}),de}getName(){return Qe(this.options.name,"Series "+(this.index+1))}getCyclic(re,xe,_e){const Y=this.chart,de=this.userOptions,me=re+"Index",ke=re+"Counter",Ie=_e?_e.length:Qe(Y.options.chart[re+"Count"],Y[re+"Count"]);if(!xe){var Ve=Qe(de[me],de["_"+me]);K(Ve)||(Y.series.length||(Y[ke]=0),de["_"+me]=Ve=Y[ke]%Ie,Y[ke]+=1),_e&&(xe=_e[Ve])}typeof Ve<"u"&&(this[me]=Ve),this[re]=xe}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||ae.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)}findPointIndex(re,xe){const _e=re.id,Y=re.x,de=this.points;var me=this.options.dataSorting,ke;let Ie,Ve;if(_e)me=this.chart.get(_e),me instanceof L&&(ke=me);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(ke=it=>!it.touched&&it.index===re.index,me&&me.matchByName?ke=it=>!it.touched&&it.name===re.name:this.options.relativeXValue&&(ke=it=>!it.touched&&it.options.x===re.x),ke=A(de,ke),!ke))return;return ke&&(Ve=ke&&ke.index,typeof Ve<"u"&&(Ie=!0)),typeof Ve>"u"&&Te(Y)&&(Ve=this.xData.indexOf(Y,xe)),Ve!==-1&&typeof Ve<"u"&&this.cropped&&(Ve=Ve>=this.cropStart?Ve-this.cropStart:Ve),!Ie&&Te(Ve)&&de[Ve]&&de[Ve].touched&&(Ve=void 0),Ve}updateData(re,xe){const _e=this.options,Y=_e.dataSorting,de=this.points,me=[],ke=this.requireSorting,Ie=re.length===de.length;let Ve,it,tt,ht=!0;if(this.xIncrement=null,re.forEach(function(Ee,De){var Fe=K(Ee)&&this.pointClass.prototype.optionsToObject.call({series:this},Ee)||{};const qe=Fe.x;Fe.id||Te(qe)?(Fe=this.findPointIndex(Fe,tt),Fe===-1||typeof Fe>"u"?me.push(Ee):de[Fe]&&Ee!==_e.data[Fe]?(de[Fe].update(Ee,!1,null,!1),de[Fe].touched=!0,ke&&(tt=Fe+1)):de[Fe]&&(de[Fe].touched=!0),(!Ie||De!==Fe||Y&&Y.enabled||this.hasDerivedData)&&(Ve=!0)):me.push(Ee)},this),Ve)for(re=de.length;re--;)(it=de[re])&&!it.touched&&it.remove&&it.remove(!1,xe);else!Ie||Y&&Y.enabled?ht=!1:(re.forEach(function(Ee,De){Ee===de[De].y||de[De].destroyed||de[De].update(Ee,!1,null,!1)}),me.length=0);return de.forEach(function(Ee){Ee&&(Ee.touched=!1)}),ht?(me.forEach(function(Ee){this.addPoint(Ee,!1,null,null,!1)},this),this.xIncrement===null&&this.xData&&this.xData.length&&(this.xIncrement=se(this.xData),this.autoIncrement()),!0):!1}setData(re,xe=!0,_e,Y){var de;const me=this,ke=me.points,Ie=ke&&ke.length||0,Ve=me.options,it=me.chart,tt=Ve.dataSorting,ht=me.xAxis,Ee=Ve.turboThreshold,De=this.xData,Fe=this.yData;var qe=me.pointArrayMap;qe=qe&&qe.length;const He=Ve.keys;let xt,jt=0,Vt=1,vi=null;if(!it.options.chart.allowMutatingData){Ve.data&&delete me.options.data,me.userOptions.data&&delete me.userOptions.data;var ri=Me(!0,re)}if(re=ri||re||[],ri=re.length,tt&&tt.enabled&&(re=this.sortData(re)),it.options.chart.allowMutatingData&&Y!==!1&&ri&&Ie&&!me.cropped&&!me.hasGroupedData&&me.visible&&!me.boosted&&(xt=this.updateData(re,_e)),!xt){if(me.xIncrement=null,me.colorCounter=0,this.parallelArrays.forEach(function(bi){me[bi+"Data"].length=0}),Ee&&ri>Ee)if(vi=me.getFirstValidPoint(re),Te(vi))for(_e=0;_e<ri;_e++)De[_e]=this.autoIncrement(),Fe[_e]=re[_e];else if(fe(vi))if(qe)if(vi.length===qe)for(_e=0;_e<ri;_e++)De[_e]=this.autoIncrement(),Fe[_e]=re[_e];else for(_e=0;_e<ri;_e++)Y=re[_e],De[_e]=Y[0],Fe[_e]=Y.slice(1,qe+1);else if(He&&(jt=He.indexOf("x"),Vt=He.indexOf("y"),jt=0<=jt?jt:0,Vt=0<=Vt?Vt:1),vi.length===1&&(Vt=0),jt===Vt)for(_e=0;_e<ri;_e++)De[_e]=this.autoIncrement(),Fe[_e]=re[_e][Vt];else for(_e=0;_e<ri;_e++)Y=re[_e],De[_e]=Y[jt],Fe[_e]=Y[Vt];else J(12,!1,it);else for(_e=0;_e<ri;_e++)Y={series:me},me.pointClass.prototype.applyOptions.apply(Y,[re[_e]]),me.updateParallelArrays(Y,_e);for(Fe&&oe(Fe[0])&&J(14,!0,it),me.data=[],me.options.data=me.userOptions.data=re,_e=Ie;_e--;)(de=ke[_e])===null||de===void 0||de.destroy();ht&&(ht.minRange=ht.userMinRange),me.isDirty=it.isDirtyBox=!0,me.isDirtyData=!!ke,_e=!1}Ve.legendType==="point"&&(this.processData(),this.generatePoints()),xe&&it.redraw(_e)}sortData(re){const xe=this,_e=xe.options.dataSorting.sortKey||"y",Y=function(de,me){return K(me)&&de.pointClass.prototype.optionsToObject.call({series:de},me)||{}};return re.forEach(function(de,me){re[me]=Y(xe,de),re[me].index=me},this),re.concat().sort((de,me)=>(de=Q(_e,de),me=Q(_e,me),me<de?-1:me>de?1:0)).forEach(function(de,me){de.x=me},this),xe.linkedSeries&&xe.linkedSeries.forEach(function(de){const me=de.options,ke=me.data;me.dataSorting&&me.dataSorting.enabled||!ke||(ke.forEach(function(Ie,Ve){ke[Ve]=Y(de,Ie),re[Ve]&&(ke[Ve].x=re[Ve].x,ke[Ve].index=Ve)}),de.setData(ke,!1))}),re}getProcessedData(re){var xe=this.xAxis,_e=this.options,Y=_e.cropThreshold;const de=re||this.getExtremesFromAll||_e.getExtremesFromAll,me=this.isCartesian;re=xe&&xe.val2lin,_e=!(!xe||!xe.logarithmic);let ke=0,Ie,Ve,it,tt=this.xData,ht=this.yData,Ee=this.requireSorting;var De=!1;const Fe=tt.length;if(xe&&(De=xe.getExtremes(),Ve=De.min,it=De.max,De=!(!xe.categories||xe.names.length)),me&&this.sorted&&!de&&(!Y||Fe>Y||this.forceCrop)){if(tt[Fe-1]<Ve||tt[0]>it)tt=[],ht=[];else if(this.yData&&(tt[0]<Ve||tt[Fe-1]>it)){var qe=this.cropData(this.xData,this.yData,Ve,it);tt=qe.xData,ht=qe.yData,ke=qe.start,qe=!0}}for(Y=tt.length||1;--Y;)xe=_e?re(tt[Y])-re(tt[Y-1]):tt[Y]-tt[Y-1],0<xe&&(typeof Ie>"u"||xe<Ie)?Ie=xe:0>xe&&Ee&&!De&&(J(15,!1,this.chart),Ee=!1);return{xData:tt,yData:ht,cropped:qe,cropStart:ke,closestPointRange:Ie}}processData(re){const xe=this.xAxis;if(this.isCartesian&&!this.isDirty&&!xe.isDirty&&!this.yAxis.isDirty&&!re)return!1;re=this.getProcessedData(),this.cropped=re.cropped,this.cropStart=re.cropStart,this.processedXData=re.xData,this.processedYData=re.yData,this.closestPointRange=this.basePointRange=re.closestPointRange,O(this,"afterProcessData")}cropData(re,xe,_e,Y,de){const me=re.length;let ke,Ie=0,Ve=me;for(de=Qe(de,this.cropShoulder),ke=0;ke<me;ke++)if(re[ke]>=_e){Ie=Math.max(0,ke-de);break}for(_e=ke;_e<me;_e++)if(re[_e]>Y){Ve=_e+de;break}return{xData:re.slice(Ie,Ve),yData:xe.slice(Ie,Ve),start:Ie,end:Ve}}generatePoints(){var re=this.options;const xe=this.processedData||re.data,_e=this.processedXData,Y=this.processedYData,de=this.pointClass,me=_e.length,ke=this.cropStart||0,Ie=this.hasGroupedData,Ve=re.keys,it=[];re=re.dataGrouping&&re.dataGrouping.groupAll?ke:0;let tt,ht,Ee,De=this.data;if(!De&&!Ie){var Fe=[];Fe.length=xe.length,De=this.data=Fe}for(Ve&&Ie&&(this.options.keys=!1),Ee=0;Ee<me;Ee++)Fe=ke+Ee,Ie?(ht=new de().init(this,[_e[Ee]].concat(ce(Y[Ee]))),ht.dataGroup=this.groupMap[re+Ee],ht.dataGroup.options&&(ht.options=ht.dataGroup.options,C(ht,ht.dataGroup.options),delete ht.dataLabels)):(ht=De[Fe])||typeof xe[Fe]>"u"||(De[Fe]=ht=new de().init(this,xe[Fe],_e[Ee])),ht&&(ht.index=Ie?re+Ee:Fe,it[Ee]=ht);if(this.options.keys=Ve,De&&(me!==(tt=De.length)||Ie))for(Ee=0;Ee<tt;Ee++)Ee!==ke||Ie||(Ee+=me),De[Ee]&&(De[Ee].destroyElements(),De[Ee].plotX=void 0);this.data=De,this.points=it,O(this,"afterGeneratePoints")}getXExtremes(re){return{min:S(re),max:se(re)}}getExtremes(re,xe){const _e=this.xAxis;var Y=this.yAxis;const de=this.processedXData||this.xData,me=[],ke=this.requireSorting?this.cropShoulder:0;Y=Y?Y.positiveValuesOnly:!1;let Ie,Ve=0,it=0,tt=0;re=re||this.stackedYData||this.processedYData||[];const ht=re.length;if(_e){var Ee=_e.getExtremes();Ve=Ee.min,it=Ee.max}for(Ie=0;Ie<ht;Ie++){var De=de[Ie];Ee=re[Ie];var Fe=(Te(Ee)||fe(Ee))&&(Ee.length||0<Ee||!Y);if(De=xe||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!_e||(de[Ie+ke]||De)>=Ve&&(de[Ie-ke]||De)<=it,Fe&&De)if(Fe=Ee.length)for(;Fe--;)Te(Ee[Fe])&&(me[tt++]=Ee[Fe]);else me[tt++]=Ee}return re={activeYData:me,dataMin:S(me),dataMax:se(me)},O(this,"afterGetExtremes",{dataExtremes:re}),re}applyExtremes(){const re=this.getExtremes();return this.dataMin=re.dataMin,this.dataMax=re.dataMax,re}getFirstValidPoint(re){const xe=re.length;let _e=0,Y=null;for(;Y===null&&_e<xe;)Y=re[_e],_e++;return Y}translate(){var re;this.processedXData||this.processData(),this.generatePoints();const xe=this.options,_e=xe.stacking,Y=this.xAxis,de=Y.categories,me=this.enabledDataSorting,ke=this.yAxis,Ie=this.points,Ve=Ie.length,it=this.pointPlacementToXValue(),tt=!!it,ht=xe.threshold,Ee=xe.startFromThreshold?ht:0,De=this.zoneAxis||"y";let Fe,qe,He,xt,jt=Number.MAX_VALUE;for(Fe=0;Fe<Ve;Fe++){const Vt=Ie[Fe],vi=Vt.x;let ri,bi,Gi=Vt.y,ki=Vt.low;const Ni=_e&&((re=ke.stacking)===null||re===void 0?void 0:re.stacks[(this.negStacks&&Gi<(Ee?0:ht)?"-":"")+this.stackKey]);qe=Y.translate(vi,!1,!1,!1,!0,it),Vt.plotX=Te(qe)?$(X(qe,-1e5,1e5)):void 0,_e&&this.visible&&Ni&&Ni[vi]&&(xt=this.getStackIndicator(xt,vi,this.index),!Vt.isNull&&xt.key&&(ri=Ni[vi],bi=ri.points[xt.key]),ri&&fe(bi)&&(ki=bi[0],Gi=bi[1],ki===Ee&&xt.key===Ni[vi].base&&(ki=Qe(Te(ht)?ht:ke.min)),ke.positiveValuesOnly&&K(ki)&&0>=ki&&(ki=void 0),Vt.total=Vt.stackTotal=Qe(ri.total),Vt.percentage=K(Vt.y)&&ri.total?Vt.y/ri.total*100:void 0,Vt.stackY=Gi,this.irregularWidths||ri.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Vt.yBottom=K(ki)?X(ke.translate(ki,!1,!0,!1,!0),-1e5,1e5):void 0,this.dataModify&&(Gi=this.dataModify.modifyValue(Gi,Fe));let Ai;Te(Gi)&&Vt.plotX!==void 0&&(Ai=ke.translate(Gi,!1,!0,!1,!0),Ai=Te(Ai)?X(Ai,-1e5,1e5):void 0),Vt.plotY=Ai,Vt.isInside=this.isPointInside(Vt),Vt.clientX=tt?$(Y.translate(vi,!1,!1,!1,!0,it)):qe,Vt.negative=Vt[De]<(xe[De+"Threshold"]||ht||0),Vt.category=Qe(de&&de[Vt.x],Vt.x),Vt.isNull||Vt.visible===!1||(typeof He<"u"&&(jt=Math.min(jt,Math.abs(qe-He))),He=qe),Vt.zone=this.zones.length?Vt.getZone():void 0,!Vt.graphic&&this.group&&me&&(Vt.isNew=!0)}this.closestPointRangePx=jt,O(this,"afterTranslate")}getValidPoints(re,xe,_e){const Y=this.chart;return(re||this.points||[]).filter(function(de){const{plotX:me,plotY:ke}=de;return!_e&&(de.isNull||!Te(ke))||xe&&!Y.isInsidePlot(me,ke,{inverted:Y.inverted})?!1:de.visible!==!1})}getClipBox(){const{chart:re,xAxis:xe,yAxis:_e}=this,Y=Me(re.clipBox);return xe&&xe.len!==re.plotSizeX&&(Y.width=xe.len),_e&&_e.len!==re.plotSizeY&&(Y.height=_e.len),Y}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)}setClip(){const{chart:re,group:xe,markerGroup:_e}=this,Y=re.sharedClips,de=re.renderer,me=this.getClipBox(),ke=this.getSharedClipKey();let Ie=Y[ke];Ie?Ie.animate(me):Y[ke]=Ie=de.clipRect(me),xe&&xe.clip(this.options.clip===!1?void 0:Ie),_e&&_e.clip()}animate(re){const{chart:xe,group:_e,markerGroup:Y}=this,de=xe.inverted;var me=z(this.options.animation),ke=[this.getSharedClipKey(),me.duration,me.easing,me.defer].join();let Ie=xe.sharedClips[ke],Ve=xe.sharedClips[ke+"m"];if(re&&_e)me=this.getClipBox(),Ie?Ie.attr("height",me.height):(me.width=0,de&&(me.x=xe.plotHeight),Ie=xe.renderer.clipRect(me),xe.sharedClips[ke]=Ie,Ve=xe.renderer.clipRect({x:-99,y:-99,width:de?xe.plotWidth+199:99,height:de?99:xe.plotHeight+199}),xe.sharedClips[ke+"m"]=Ve),_e.clip(Ie),Y&&Y.clip(Ve);else if(Ie&&!Ie.hasClass("highcharts-animating")){ke=this.getClipBox();const it=me.step;Y&&Y.element.childNodes.length&&(me.step=function(tt,ht){it&&it.apply(ht,arguments),ht.prop==="width"&&Ve&&Ve.element&&Ve.attr(de?"height":"width",tt+99)}),Ie.addClass("highcharts-animating").animate(ke,me)}}afterAnimate(){this.setClip(),We(this.chart.sharedClips,(re,xe,_e)=>{re&&!this.chart.container.querySelector(`[clip-path="url(#${re.id})"]`)&&(re.destroy(),delete _e[xe])}),this.finishedAnimating=!0,O(this,"afterAnimate")}drawPoints(re=this.points){const xe=this.chart,_e=xe.styledMode,{colorAxis:Y,options:de}=this,me=de.marker,ke=this[this.specialGroup||"markerGroup"],Ie=this.xAxis,Ve=Qe(me.enabled,!Ie||Ie.isRadial?!0:null,this.closestPointRangePx>=me.enabledThreshold*me.radius);let it,tt,ht,Ee,De,Fe;if(me.enabled!==!1||this._hasPointMarkers)for(it=0;it<re.length;it++){tt=re[it],Ee=(ht=tt.graphic)?"animate":"attr";var qe=tt.marker||{};if(De=!!tt.marker,(Ve&&typeof qe.enabled>"u"||qe.enabled)&&!tt.isNull&&tt.visible!==!1){const He=Qe(qe.symbol,this.symbol,"rect");Fe=this.markerAttribs(tt,tt.selected&&"select"),this.enabledDataSorting&&(tt.startXPos=Ie.reversed?-(Fe.width||0):Ie.width);const xt=tt.isInside!==!1;!ht&&xt&&(0<(Fe.width||0)||tt.hasImage)&&(tt.graphic=ht=xe.renderer.symbol(He,Fe.x,Fe.y,Fe.width,Fe.height,De?qe:me).add(ke),this.enabledDataSorting&&xe.hasRendered&&(ht.attr({x:tt.startXPos}),Ee="animate")),ht&&Ee==="animate"&&ht[xt?"show":"hide"](xt).animate(Fe),ht&&(qe=this.pointAttribs(tt,_e||!tt.selected?void 0:"select"),_e?Y&&ht.css({fill:qe.fill}):ht[Ee](qe)),ht&&ht.addClass(tt.getClassName(),!0)}else ht&&(tt.graphic=ht.destroy())}}markerAttribs(re,xe){const _e=this.options;var Y=_e.marker;const de=re.marker||{},me=de.symbol||Y.symbol,ke={};let Ie=Qe(de.radius,Y&&Y.radius);return xe&&(Y=Y.states[xe],xe=de.states&&de.states[xe],Ie=Qe(xe&&xe.radius,Y&&Y.radius,Ie&&Ie+(Y&&Y.radiusPlus||0))),re.hasImage=me&&me.indexOf("url")===0,re.hasImage&&(Ie=0),re=re.pos(),Te(Ie)&&re&&(ke.x=re[0]-Ie,ke.y=re[1]-Ie,_e.crisp&&(ke.x=Math.floor(ke.x))),Ie&&(ke.width=ke.height=2*Ie),ke}pointAttribs(re,xe){var _e=this.options.marker,Y=re&&re.options;const de=Y&&Y.marker||{};var me=Y&&Y.color,ke=re&&re.color;const Ie=re&&re.zone&&re.zone.color;let Ve=this.color;return re=Qe(de.lineWidth,_e.lineWidth),Y=1,Ve=me||Ie||ke||Ve,me=de.fillColor||_e.fillColor||Ve,ke=de.lineColor||_e.lineColor||Ve,xe=xe||"normal",_e=_e.states[xe]||{},xe=de.states&&de.states[xe]||{},re=Qe(xe.lineWidth,_e.lineWidth,re+Qe(xe.lineWidthPlus,_e.lineWidthPlus,0)),me=xe.fillColor||_e.fillColor||me,ke=xe.lineColor||_e.lineColor||ke,Y=Qe(xe.opacity,_e.opacity,Y),{stroke:ke,"stroke-width":re,fill:me,opacity:Y}}destroy(re){const xe=this,_e=xe.chart,Y=/AppleWebKit\/533/.test(W.navigator.userAgent),de=xe.data||[];let me,ke,Ie,Ve;for(O(xe,"destroy",{keepEventsForUpdate:re}),this.removeEvents(re),(xe.axisTypes||[]).forEach(function(it){(Ve=xe[it])&&Ve.series&&(q(Ve.series,xe),Ve.isDirty=Ve.forceRedraw=!0)}),xe.legendItem&&xe.chart.legend.destroyItem(xe),ke=de.length;ke--;)(Ie=de[ke])&&Ie.destroy&&Ie.destroy();xe.clips&&xe.clips.forEach(it=>it.destroy()),ne.clearTimeout(xe.animationTimeout),We(xe,function(it,tt){it instanceof Z&&!it.survive&&(me=Y&&tt==="group"?"hide":"destroy",it[me]())}),_e.hoverSeries===xe&&(_e.hoverSeries=void 0),q(_e.series,xe),_e.orderSeries(),We(xe,function(it,tt){re&&tt==="hcEvents"||delete xe[tt]})}applyZones(){const re=this,xe=this.chart,_e=xe.renderer,Y=this.zones,de=this.clips||[],me=this.graph,ke=this.area,Ie=Math.max(xe.plotWidth,xe.plotHeight),Ve=this[(this.zoneAxis||"y")+"Axis"],it=xe.inverted;let tt,ht,Ee,De,Fe,qe,He,xt,jt,Vt,vi,ri=!1;Y.length&&(me||ke)&&Ve&&typeof Ve.min<"u"?(Fe=Ve.reversed,qe=Ve.horiz,me&&!this.showLine&&me.hide(),ke&&ke.hide(),De=Ve.getExtremes(),Y.forEach(function(bi,Gi){tt=Fe?qe?xe.plotWidth:0:qe?0:Ve.toPixels(De.min)||0,tt=X(Qe(ht,tt),0,Ie),ht=X(Math.round(Ve.toPixels(Qe(bi.value,De.max),!0)||0),0,Ie),ri&&(tt=ht=Ve.toPixels(De.max)),He=Math.abs(tt-ht),xt=Math.min(tt,ht),jt=Math.max(tt,ht),Ve.isXAxis?(Ee={x:it?jt:xt,y:0,width:He,height:Ie},qe||(Ee.x=xe.plotHeight-Ee.x)):(Ee={x:0,y:it?jt:xt,width:Ie,height:He},qe&&(Ee.y=xe.plotWidth-Ee.y)),de[Gi]?de[Gi].animate(Ee):de[Gi]=_e.clipRect(Ee),Vt=re["zone-area-"+Gi],vi=re["zone-graph-"+Gi],me&&vi&&vi.clip(de[Gi]),ke&&Vt&&Vt.clip(de[Gi]),ri=bi.value>De.max,re.resetZones&&ht===0&&(ht=void 0)}),this.clips=de):re.visible&&(me&&me.show(),ke&&ke.show())}plotGroup(re,xe,_e,Y,de){let me=this[re];const ke=!me;return _e={visibility:_e,zIndex:Y||.1},typeof this.opacity>"u"||this.chart.styledMode||this.state==="inactive"||(_e.opacity=this.opacity),ke&&(this[re]=me=this.chart.renderer.g().add(de)),me.addClass("highcharts-"+xe+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(K(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(me.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),me.attr(_e)[ke?"attr":"animate"](this.getPlotBox(xe)),me}getPlotBox(re){let xe=this.xAxis,_e=this.yAxis;const Y=this.chart;return re=Y.inverted&&!Y.polar&&xe&&this.invertible!==!1&&re==="series",Y.inverted&&(xe=_e,_e=this.xAxis),{translateX:xe?xe.left:Y.plotLeft,translateY:_e?_e.top:Y.plotTop,rotation:re?90:0,rotationOriginX:re?(xe.len-_e.len)/2:0,rotationOriginY:re?(xe.len+_e.len)/2:0,scaleX:re?-1:1,scaleY:1}}removeEvents(re){re||ie(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(xe){xe()}),this.eventsToUnbind.length=0)}render(){const re=this;var xe=re.chart;const _e=re.options,Y=z(_e.animation),de=re.visible?"inherit":"hidden",me=_e.zIndex,ke=re.hasRendered;xe=xe.seriesGroup;let Ie=re.finishedAnimating?0:Y.duration;O(this,"render"),re.plotGroup("group","series",de,me,xe),re.markerGroup=re.plotGroup("markerGroup","markers",de,me,xe),_e.clip!==!1&&re.setClip(),re.animate&&Ie&&re.animate(!0),re.drawGraph&&(re.drawGraph(),re.applyZones()),re.visible&&re.drawPoints(),re.drawDataLabels&&re.drawDataLabels(),re.redrawPoints&&re.redrawPoints(),re.drawTracker&&re.options.enableMouseTracking!==!1&&re.drawTracker(),re.animate&&Ie&&re.animate(),ke||(Ie&&Y.defer&&(Ie+=Y.defer),re.animationTimeout=pe(function(){re.afterAnimate()},Ie||0)),re.isDirty=!1,re.hasRendered=!0,O(re,"afterRender")}redraw(){const re=this.isDirty||this.isDirtyData;this.translate(),this.render(),re&&delete this.kdTree}searchPoint(re,xe){const _e=this.xAxis,Y=this.yAxis,de=this.chart.inverted;return this.searchKDTree({clientX:de?_e.len-re.chartY+_e.pos:re.chartX-_e.pos,plotY:de?Y.len-re.chartX+Y.pos:re.chartY-Y.pos},xe,re)}buildKDTree(re){function xe(de,me,ke){var Ie=de&&de.length;let Ve;if(Ie)return Ve=_e.kdAxisArray[me%ke],de.sort(function(it,tt){return it[Ve]-tt[Ve]}),Ie=Math.floor(Ie/2),{point:de[Ie],left:xe(de.slice(0,Ie),me+1,ke),right:xe(de.slice(Ie+1),me+1,ke)}}this.buildingKdTree=!0;const _e=this,Y=-1<_e.options.findNearestPointBy.indexOf("y")?2:1;delete _e.kdTree,pe(function(){_e.kdTree=xe(_e.getValidPoints(null,!_e.directTouch),Y,Y),_e.buildingKdTree=!1},_e.options.kdNow||re&&re.type==="touchstart"?0:1)}searchKDTree(re,xe,_e){function Y(Ve,it,tt,ht){const Ee=it.point;var De=de.kdAxisArray[tt%ht];let Fe=Ee;var qe=K(Ve[me])&&K(Ee[me])?Math.pow(Ve[me]-Ee[me],2):null,He=K(Ve[ke])&&K(Ee[ke])?Math.pow(Ve[ke]-Ee[ke],2):null;return He=(qe||0)+(He||0),Ee.dist=K(He)?Math.sqrt(He):Number.MAX_VALUE,Ee.distX=K(qe)?Math.sqrt(qe):Number.MAX_VALUE,De=Ve[De]-Ee[De],He=0>De?"left":"right",qe=0>De?"right":"left",it[He]&&(He=Y(Ve,it[He],tt+1,ht),Fe=He[Ie]<Fe[Ie]?He:Ee),it[qe]&&Math.sqrt(De*De)<Fe[Ie]&&(Ve=Y(Ve,it[qe],tt+1,ht),Fe=Ve[Ie]<Fe[Ie]?Ve:Fe),Fe}const de=this,me=this.kdAxisArray[0],ke=this.kdAxisArray[1],Ie=xe?"distX":"dist";if(xe=-1<de.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(_e),this.kdTree)return Y(re,this.kdTree,xe,xe)}pointPlacementToXValue(){const{options:{pointPlacement:re,pointRange:xe},xAxis:_e}=this;let Y=re;return Y==="between"&&(Y=_e.reversed?-.5:.5),Te(Y)?Y*(xe||_e.pointRange):0}isPointInside(re){const{chart:xe,xAxis:_e,yAxis:Y}=this;return typeof re.plotY<"u"&&typeof re.plotX<"u"&&0<=re.plotY&&re.plotY<=(Y?Y.len:xe.plotHeight)&&0<=re.plotX&&re.plotX<=(_e?_e.len:xe.plotWidth)}drawTracker(){const re=this,xe=re.options,_e=xe.trackByArea,Y=[].concat(_e?re.areaPath:re.graphPath),de=re.chart,me=de.pointer,ke=de.renderer,Ie=de.options.tooltip.snap,Ve=re.tracker,it=function(ht){de.hoverSeries!==re&&re.onMouseOver()},tt="rgba(192,192,192,"+(V?1e-4:.002)+")";Ve?Ve.attr({d:Y}):re.graph&&(re.tracker=ke.path(Y).attr({visibility:re.visible?"inherit":"hidden",zIndex:2}).addClass(_e?"highcharts-tracker-area":"highcharts-tracker-line").add(re.group),de.styledMode||re.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:tt,fill:_e?tt:"none","stroke-width":re.graph.strokeWidth()+(_e?0:2*Ie)}),[re.tracker,re.markerGroup,re.dataLabelsGroup].forEach(function(ht){ht&&(ht.addClass("highcharts-tracker").on("mouseover",it).on("mouseout",function(Ee){me.onTrackerMouseOut(Ee)}),xe.cursor&&!de.styledMode&&ht.css({cursor:xe.cursor}),P)&&ht.on("touchstart",it)})),O(this,"afterDrawTracker")}addPoint(re,xe,_e,Y,de){const me=this.options,ke=this.data,Ie=this.chart;var Ve=this.xAxis;Ve=Ve&&Ve.hasNames&&Ve.names;const it=me.data,tt=this.xData;let ht,Ee;xe=Qe(xe,!0);const De={series:this};this.pointClass.prototype.applyOptions.apply(De,[re]);const Fe=De.x;if(Ee=tt.length,this.requireSorting&&Fe<tt[Ee-1])for(ht=!0;Ee&&tt[Ee-1]>Fe;)Ee--;this.updateParallelArrays(De,"splice",[Ee,0,0]),this.updateParallelArrays(De,Ee),Ve&&De.name&&(Ve[Fe]=De.name),it.splice(Ee,0,re),(ht||this.processedData)&&(this.data.splice(Ee,0,null),this.processData()),me.legendType==="point"&&this.generatePoints(),_e&&(ke[0]&&ke[0].remove?ke[0].remove(!1):(ke.shift(),this.updateParallelArrays(De,"shift"),it.shift())),de!==!1&&O(this,"addPoint",{point:De}),this.isDirtyData=this.isDirty=!0,xe&&Ie.redraw(Y)}removePoint(re,xe,_e){const Y=this,de=Y.data,me=de[re],ke=Y.points,Ie=Y.chart,Ve=function(){ke&&ke.length===de.length&&ke.splice(re,1),de.splice(re,1),Y.options.data.splice(re,1),Y.updateParallelArrays(me||{series:Y},"splice",[re,1]),me&&me.destroy(),Y.isDirty=!0,Y.isDirtyData=!0,xe&&Ie.redraw()};G(_e,Ie),xe=Qe(xe,!0),me?me.firePointEvent("remove",null,Ve):Ve()}remove(re,xe,_e,Y){function de(){me.destroy(Y),ke.isDirtyLegend=ke.isDirtyBox=!0,ke.linkSeries(Y),Qe(re,!0)&&ke.redraw(xe)}const me=this,ke=me.chart;_e!==!1?O(me,"remove",null,de):de()}update(re,xe){re=I(re,this.userOptions),O(this,"update",{options:re});const _e=this,Y=_e.chart;var de=_e.userOptions;const me=_e.initialType||_e.type;var ke=Y.options.plotOptions;const Ie=R[me].prototype;var Ve=_e.finishedAnimating&&{animation:!1};const it={};let tt,ht=["eventOptions","navigatorSeries","baseSeries"],Ee=re.type||de.type||Y.options.chart.type;const De=!(this.hasDerivedData||Ee&&Ee!==this.type||typeof re.pointStart<"u"||typeof re.pointInterval<"u"||typeof re.relativeXValue<"u"||re.joinBy||re.mapData||_e.hasOptionChanged("dataGrouping")||_e.hasOptionChanged("pointStart")||_e.hasOptionChanged("pointInterval")||_e.hasOptionChanged("pointIntervalUnit")||_e.hasOptionChanged("keys"));if(Ee=Ee||me,De&&(ht.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),re.visible!==!1&&ht.push("area","graph"),_e.parallelArrays.forEach(function(Fe){ht.push(Fe+"Data")}),re.data&&(re.dataSorting&&C(_e.options.dataSorting,re.dataSorting),this.setData(re.data,!1))),re=Me(de,Ve,{index:typeof de.index>"u"?_e.index:de.index,pointStart:Qe(ke&&ke.series&&ke.series.pointStart,de.pointStart,_e.xData[0])},!De&&{data:_e.options.data},re),De&&re.data&&(re.data=_e.options.data),ht=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(ht),ht.forEach(function(Fe){ht[Fe]=_e[Fe],delete _e[Fe]}),ke=!1,R[Ee]){if(ke=Ee!==_e.type,_e.remove(!1,!1,!1,!0),ke)if(Object.setPrototypeOf)Object.setPrototypeOf(_e,R[Ee].prototype);else{Ve=Object.hasOwnProperty.call(_e,"hcEvents")&&_e.hcEvents;for(tt in Ie)_e[tt]=void 0;C(_e,R[Ee].prototype),Ve?_e.hcEvents=Ve:delete _e.hcEvents}}else J(17,!0,Y,{missingModuleFor:Ee});if(ht.forEach(function(Fe){_e[Fe]=ht[Fe]}),_e.init(Y,re),De&&this.points){if(re=_e.options,re.visible===!1)it.graphic=1,it.dataLabel=1;else if(!_e._hasPointLabels){const{marker:Fe,dataLabels:qe}=re;de=de.marker||{},!Fe||Fe.enabled!==!1&&de.symbol===Fe.symbol&&de.height===Fe.height&&de.width===Fe.width||(it.graphic=1),qe&&qe.enabled===!1&&(it.dataLabel=1)}for(const Fe of this.points)Fe&&Fe.series&&(Fe.resolveColor(),Object.keys(it).length&&Fe.destroyElements(it),re.showInLegend===!1&&Fe.legendItem&&Y.legend.destroyItem(Fe))}_e.initialType=me,Y.linkSeries(),ke&&_e.linkedSeries.length&&(_e.isDirtyData=!0),O(this,"afterUpdate"),Qe(xe,!0)&&Y.redraw(De?void 0:!1)}setName(re){this.name=this.options.name=this.userOptions.name=re,this.chart.isDirtyLegend=!0}hasOptionChanged(re){const xe=this.options[re],_e=this.chart.options.plotOptions,Y=this.userOptions[re];return Y?xe!==Y:xe!==Qe(_e&&_e[this.type]&&_e[this.type][re],_e&&_e.series&&_e.series[re],xe)}onMouseOver(){const re=this.chart,xe=re.hoverSeries;re.pointer.setHoverChartIndex(),xe&&xe!==this&&xe.onMouseOut(),this.options.events.mouseOver&&O(this,"mouseOver"),this.setState("hover"),re.hoverSeries=this}onMouseOut(){const re=this.options,xe=this.chart,_e=xe.tooltip,Y=xe.hoverPoint;xe.hoverSeries=null,Y&&Y.onMouseOut(),this&&re.events.mouseOut&&O(this,"mouseOut"),!_e||this.stickyTracking||_e.shared&&!this.noSharedTooltip||_e.hide(),xe.series.forEach(function(de){de.setState("",!0)})}setState(re,xe){const _e=this;var Y=_e.options;const de=_e.graph,me=Y.inactiveOtherPoints,ke=Y.states,Ie=Qe(ke[re||"normal"]&&ke[re||"normal"].animation,_e.chart.options.chart.animation);let Ve=Y.lineWidth,it=0,tt=Y.opacity;if(re=re||"",_e.state!==re&&([_e.group,_e.markerGroup,_e.dataLabelsGroup].forEach(function(ht){ht&&(_e.state&&ht.removeClass("highcharts-series-"+_e.state),re&&ht.addClass("highcharts-series-"+re))}),_e.state=re,!_e.chart.styledMode)){if(ke[re]&&ke[re].enabled===!1)return;if(re&&(Ve=ke[re].lineWidth||Ve+(ke[re].lineWidthPlus||0),tt=Qe(ke[re].opacity,tt)),de&&!de.dashstyle&&Te(Ve))for(Y={"stroke-width":Ve},de.animate(Y,Ie);_e["zone-graph-"+it];)_e["zone-graph-"+it].animate(Y,Ie),it+=1;me||[_e.group,_e.markerGroup,_e.dataLabelsGroup,_e.labelBySeries].forEach(function(ht){ht&&ht.animate({opacity:tt},Ie)})}xe&&me&&_e.points&&_e.setAllPointsToState(re||void 0)}setAllPointsToState(re){this.points.forEach(function(xe){xe.setState&&xe.setState(re)})}setVisible(re,xe){const _e=this,Y=_e.chart,de=Y.options.chart.ignoreHiddenSeries,me=_e.visible,ke=(_e.visible=re=_e.options.visible=_e.userOptions.visible=typeof re>"u"?!me:re)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(Ie){_e[Ie]&&_e[Ie][ke]()}),(Y.hoverSeries===_e||(Y.hoverPoint&&Y.hoverPoint.series)===_e)&&_e.onMouseOut(),_e.legendItem&&Y.legend.colorizeItem(_e,re),_e.isDirty=!0,_e.options.stacking&&Y.series.forEach(function(Ie){Ie.options.stacking&&Ie.visible&&(Ie.isDirty=!0)}),_e.linkedSeries.forEach(function(Ie){Ie.setVisible(re,!1)}),de&&(Y.isDirtyBox=!0),O(_e,ke),xe!==!1&&Y.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(re){this.selected=re=this.options.selected=typeof re>"u"?!this.selected:re,this.checkbox&&(this.checkbox.checked=re),O(this,re?"select":"unselect")}shouldShowTooltip(re,xe,_e={}){return _e.series=this,_e.visiblePlotOnly=!0,this.chart.isInsidePlot(re,xe,_e)}drawLegendSymbol(re,xe){var _e;(_e=b[this.options.legendSymbol||"rectangle"])===null||_e===void 0||_e.call(this,re,xe)}}return Ce.defaultOptions=ee,Ce.types=F.seriesTypes,Ce.registerType=F.registerSeriesType,C(Ce.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:L,requireSorting:!0,sorted:!0}),F.series=Ce,Ce}),a(l,"Extensions/ScrollablePlotArea.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Axis/Axis.js"],l["Core/Chart/Chart.js"],l["Core/Series/Series.js"],l["Core/Renderer/RendererRegistry.js"],l["Core/Utilities.js"]],function(h,p,y,s,b,L){const{stop:ee}=h,{addEvent:F,createElement:Z,defined:ne,merge:z,pick:G}=L;F(y,"afterSetChartSize",function(ae){var B=this.options.chart.scrollablePlotArea,P=B&&B.minWidth;B=B&&B.minHeight;let V;this.renderer.forExport||(P?(this.scrollablePixelsX=P=Math.max(0,P-this.chartWidth))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=z(this.plotBox),this.plotBox.width=this.plotWidth+=P,this.inverted?this.clipBox.height+=P:this.clipBox.width+=P,V={1:{name:"right",value:P}}):B&&(this.scrollablePixelsY=P=Math.max(0,B-this.chartHeight),ne(P)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=z(this.plotBox),this.plotBox.height=this.plotHeight+=P,this.inverted?this.clipBox.width+=P:this.clipBox.height+=P,V={2:{name:"bottom",value:P}})),V&&!ae.skipAxes&&this.axes.forEach(function(W){V[W.side]?W.getPlotLinePath=function(){let R=V[W.side].name,se=this[R],S;return this[R]=se-V[W.side].value,S=p.prototype.getPlotLinePath.apply(this,arguments),this[R]=se,S}:(W.setAxisSize(),W.setAxisTranslation())}))}),F(y,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),y.prototype.setUpScrolling=function(){const ae={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(ae.overflowX="auto"),this.scrollablePixelsY&&(ae.overflowY="auto"),this.scrollingParent=Z("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=Z("div",{className:"highcharts-scrolling"},ae,this.scrollingParent);let B;F(this.scrollingContainer,"scroll",()=>{this.pointer&&(delete this.pointer.chartPosition,this.hoverPoint&&(B=this.hoverPoint),this.pointer.runPointActions(void 0,B,!0))}),this.innerContainer=Z("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},y.prototype.moveFixedElements=function(){let ae=this.container,B=this.fixedRenderer,P=".highcharts-breadcrumbs-group .highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" "),V;this.scrollablePixelsX&&!this.inverted?V=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?V=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(V=".highcharts-yaxis"),V&&P.push(`${V}:not(.highcharts-radial-axis)`,`${V}-labels:not(.highcharts-radial-axis-labels)`),P.forEach(function(W){[].forEach.call(ae.querySelectorAll(W),function(R){(R.namespaceURI===B.SVG_NS?B.box:B.box.parentNode).appendChild(R),R.style.pointerEvents="auto"})})},y.prototype.applyFixed=function(){var ae=!this.fixedDiv,B=this.options.chart,P=B.scrollablePlotArea,V=b.getRendererType();ae?(this.fixedDiv=Z("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(B.style&&B.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=B=new V(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=B.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":G(P.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),F(this,"afterShowResetZoom",this.moveFixedElements),F(this,"afterApplyDrilldown",this.moveFixedElements),F(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||ae)&&(this.scrollableDirty=!1,this.moveFixedElements()),B=this.chartWidth+(this.scrollablePixelsX||0),V=this.chartHeight+(this.scrollablePixelsY||0),ee(this.container),this.container.style.width=B+"px",this.container.style.height=V+"px",this.renderer.boxWrapper.attr({width:B,height:V,viewBox:[0,0,B,V].join(" ")}),this.chartBackground.attr({width:B,height:V}),this.scrollingContainer.style.height=this.chartHeight+"px",ae&&(P.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*P.scrollPositionX),P.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*P.scrollPositionY)),V=this.axisOffset,ae=this.plotTop-V[0]-1,P=this.plotLeft-V[3]-1,B=this.plotTop+this.plotHeight+V[2]+1,V=this.plotLeft+this.plotWidth+V[1]+1;let W=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),R=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);ae=this.scrollablePixelsX?[["M",0,ae],["L",this.plotLeft-1,ae],["L",this.plotLeft-1,B],["L",0,B],["Z"],["M",W,ae],["L",this.chartWidth,ae],["L",this.chartWidth,B],["L",W,B],["Z"]]:this.scrollablePixelsY?[["M",P,0],["L",P,this.plotTop-1],["L",V,this.plotTop-1],["L",V,0],["Z"],["M",P,R],["L",P,this.chartHeight],["L",V,this.chartHeight],["L",V,R],["Z"]]:[["M",0,0]],this.redrawTrigger!=="adjustHeight"&&this.scrollableMask.attr({d:ae})},F(p,"afterInit",function(){this.chart.scrollableDirty=!0}),F(s,"show",function(){this.chart.scrollableDirty=!0})}),a(l,"Core/Axis/Stacking/StackItem.js",[l["Core/FormatUtilities.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(h,p,y){const{format:s}=h,{series:b}=p,{destroyObjectProperties:L,fireEvent:ee,isNumber:F,pick:Z}=y;class ne{constructor(G,ae,B,P,V){const W=G.chart.inverted,R=G.reversed;this.axis=G,G=this.isNegative=!!B!=!!R,this.options=ae=ae||{},this.x=P,this.cumulative=this.total=null,this.points={},this.hasValidPoints=!1,this.stack=V,this.rightCliff=this.leftCliff=0,this.alignOptions={align:ae.align||(W?G?"left":"right":"center"),verticalAlign:ae.verticalAlign||(W?"middle":G?"bottom":"top"),y:ae.y,x:ae.x},this.textAlign=ae.textAlign||(W?G?"right":"left":"center")}destroy(){L(this,this.axis)}render(G){const ae=this.axis.chart,B=this.options;var P=B.format;P=P?s(P,this,ae):B.formatter.call(this),this.label?this.label.attr({text:P,visibility:"hidden"}):(this.label=ae.renderer.label(P,null,void 0,B.shape,void 0,void 0,B.useHTML,!1,"stack-labels"),P={r:B.borderRadius||0,text:P,padding:Z(B.padding,5),visibility:"hidden"},ae.styledMode||(P.fill=B.backgroundColor,P.stroke=B.borderColor,P["stroke-width"]=B.borderWidth,this.label.css(B.style||{})),this.label.attr(P),this.label.added||this.label.add(G)),this.label.labelrank=ae.plotSizeY,ee(this,"afterRender")}setOffset(G,ae,B,P,V,W){const{alignOptions:R,axis:se,label:S,options:X,textAlign:I}=this,$=se.chart;B=this.getStackBox({xOffset:G,width:ae,boxBottom:B,boxTop:P,defaultX:V,xAxis:W});var{verticalAlign:K}=R;if(S&&B){P=S.getBBox(),V=S.padding,W=Z(X.overflow,"justify")==="justify",R.x=X.x||0,R.y=X.y||0;const{x:q,y:J}=this.adjustStackPosition({labelBox:P,verticalAlign:K,textAlign:I});B.x-=q,B.y-=J,S.align(R,!1,B),(K=$.isInsidePlot(S.alignAttr.x+R.x+q,S.alignAttr.y+R.y+J))||(W=!1),W&&b.prototype.justifyDataLabel.call(se,S,R,S.alignAttr,P,B),S.attr({x:S.alignAttr.x,y:S.alignAttr.y,rotation:X.rotation,rotationOriginX:P.width/2,rotationOriginY:P.height/2}),Z(!W&&X.crop,!0)&&(K=F(S.x)&&F(S.y)&&$.isInsidePlot(S.x-V+S.width,S.y)&&$.isInsidePlot(S.x+V,S.y)),S[K?"show":"hide"]()}ee(this,"afterSetOffset",{xOffset:G,width:ae})}adjustStackPosition({labelBox:G,verticalAlign:ae,textAlign:B}){const P={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:G.width/2+G.width/2*P[B],y:G.height/2*P[ae]}}getStackBox(G){var ae=this.axis;const B=ae.chart,{boxTop:P,defaultX:V,xOffset:W,width:R,boxBottom:se}=G;var S=ae.stacking.usePercentage?100:Z(P,this.total,0);S=ae.toPixels(S),G=G.xAxis||B.xAxis[0];const X=Z(V,G.translate(this.x))+W;ae=ae.toPixels(se||F(ae.min)&&ae.logarithmic&&ae.logarithmic.lin2log(ae.min)||0),ae=Math.abs(S-ae);const I=this.isNegative;return B.inverted?{x:(I?S:S-ae)-B.plotLeft,y:G.height-X-R,width:ae,height:R}:{x:X+G.transB-B.plotLeft,y:(I?S-ae:S)-B.plotTop,width:R,height:ae}}}return ne}),a(l,"Core/Axis/Stacking/StackingAxis.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Axis/Axis.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Axis/Stacking/StackItem.js"],l["Core/Utilities.js"]],function(h,p,y,s,b){function L(){const C=this,A=C.inverted;C.yAxis.forEach(O=>{O.stacking&&O.stacking.stacks&&O.hasVisibleSeries&&(O.stacking.oldStacks=O.stacking.stacks)}),C.series.forEach(O=>{const Q=O.xAxis&&O.xAxis.options||{};!O.options.stacking||O.visible!==!0&&C.options.chart.ignoreHiddenSeries!==!1||(O.stackKey=[O.type,K(O.options.stack,""),A?Q.top:Q.left,A?Q.height:Q.width].join())})}function ee(){const C=this.stacking;if(C){var A=C.stacks;$(A,function(O,Q){se(O),A[Q]=null}),C&&C.stackTotalGroup&&C.stackTotalGroup.destroy()}}function F(){this.coll!=="yAxis"||this.stacking||(this.stacking=new q(this))}function Z(C,A,O,Q){return!R(C)||C.x!==A||Q&&C.stackKey!==Q?C={x:A,index:0,key:Q,stackKey:Q}:C.index++,C.key=[O,A,C.index].join(),C}function ne(){const C=this,A=C.stackKey,O=C.yAxis.stacking.stacks,Q=C.processedXData,fe=C[C.options.stacking+"Stacker"];let Te;fe&&[A,"-"+A].forEach(oe=>{let Me=Q.length,We;for(;Me--;){var Qe=Q[Me];Te=C.getStackIndicator(Te,Qe,C.index,oe),(We=(Qe=O[oe]&&O[oe][Qe])&&Qe.points[Te.key])&&fe.call(C,We,Qe,Me)}})}function z(C,A,O){A=A.total?100/A.total:0,C[0]=W(C[0]*A),C[1]=W(C[1]*A),this.stackedYData[O]=C[1]}function G(){const C=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?P.setStackedPoints.call(this,"group"):C&&$(C.stacks,(A,O)=>{O.slice(-5)==="group"&&($(A,Q=>Q.destroy()),delete C.stacks[O])})}function ae(C){var A=this.chart;const O=C||this.options.stacking;if(O&&(this.visible===!0||A.options.chart.ignoreHiddenSeries===!1)){var Q=this.processedXData,fe=this.processedYData,Te=[],oe=fe.length,Me=this.options,We=Me.threshold,Qe=K(Me.startFromThreshold&&We,0);Me=Me.stack,C=C?`${this.type},${O}`:this.stackKey;var ie="-"+C,ce=this.negStacks;A=O==="group"?A.yAxis[0]:this.yAxis;var pe=A.stacking.stacks,Ce=A.stacking.oldStacks,Be,re;for(A.stacking.stacksTouched+=1,re=0;re<oe;re++){var xe=Q[re],_e=fe[re],Y=this.getStackIndicator(Y,xe,this.index),de=Y.key,me=(Be=ce&&_e<(Qe?0:We))?ie:C;pe[me]||(pe[me]={}),pe[me][xe]||(Ce[me]&&Ce[me][xe]?(pe[me][xe]=Ce[me][xe],pe[me][xe].total=null):pe[me][xe]=new s(A,A.options.stackLabels,!!Be,xe,Me)),me=pe[me][xe],_e!==null?(me.points[de]=me.points[this.index]=[K(me.cumulative,Qe)],R(me.cumulative)||(me.base=de),me.touched=A.stacking.stacksTouched,0<Y.index&&this.singleStacks===!1&&(me.points[de][0]=me.points[this.index+","+xe+",0"][0])):me.points[de]=me.points[this.index]=null,O==="percent"?(Be=Be?C:ie,ce&&pe[Be]&&pe[Be][xe]?(Be=pe[Be][xe],me.total=Be.total=Math.max(Be.total,me.total)+Math.abs(_e)||0):me.total=W(me.total+(Math.abs(_e)||0))):O==="group"?(X(_e)&&(_e=_e[0]),_e!==null&&(me.total=(me.total||0)+1)):me.total=W(me.total+(_e||0)),me.cumulative=O==="group"?(me.total||1)-1:W(K(me.cumulative,Qe)+(_e||0)),_e!==null&&(me.points[de].push(me.cumulative),Te[re]=me.cumulative,me.hasValidPoints=!0)}O==="percent"&&(A.stacking.usePercentage=!0),O!=="group"&&(this.stackedYData=Te),A.stacking.oldStacks={}}}const{getDeferredAnimation:B}=h,{series:{prototype:P}}=y,{addEvent:V,correctFloat:W,defined:R,destroyObjectProperties:se,fireEvent:S,isArray:X,isNumber:I,objectEach:$,pick:K}=b;class q{constructor(A){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=A}buildStacks(){const A=this.axis,O=A.series,Q=A.options.reversedStacks,fe=O.length;let Te,oe;for(this.usePercentage=!1,oe=fe;oe--;)Te=O[Q?oe:fe-oe-1],Te.setStackedPoints(),Te.setGroupedPoints();for(oe=0;oe<fe;oe++)O[oe].modifyStacks();S(A,"afterBuildStacks")}cleanStacks(){let A;this.oldStacks&&(A=this.stacks=this.oldStacks),$(A,function(O){$(O,function(Q){Q.cumulative=Q.total})})}resetStacks(){$(this.stacks,A=>{$(A,(O,Q)=>{I(O.touched)&&O.touched<this.stacksTouched?(O.destroy(),delete A[Q]):(O.total=null,O.cumulative=null)})})}renderStackTotals(){var A=this.axis;const O=A.chart,Q=O.renderer,fe=this.stacks;A=B(O,A.options.stackLabels&&A.options.stackLabels.animation||!1);const Te=this.stackTotalGroup=this.stackTotalGroup||Q.g("stack-labels").attr({zIndex:6,opacity:0}).add();Te.translate(O.plotLeft,O.plotTop),$(fe,function(oe){$(oe,function(Me){Me.render(Te)})}),Te.animate({opacity:1},A)}}var J;return function(C){const A=[];C.compose=function(O,Q,fe){b.pushUnique(A,O)&&(V(O,"init",F),V(O,"destroy",ee)),b.pushUnique(A,Q)&&(Q.prototype.getStacks=L),b.pushUnique(A,fe)&&(O=fe.prototype,O.getStackIndicator=Z,O.modifyStacks=ne,O.percentStacker=z,O.setGroupedPoints=G,O.setStackedPoints=ae)}}(J||(J={})),J}),a(l,"Series/Line/LineSeries.js",[l["Core/Series/Series.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(h,p,y){const{defined:s,merge:b}=y;class L extends h{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){const F=this,Z=this.options,ne=(this.gappedPath||this.getGraphPath).call(this),z=this.chart.styledMode;let G=[["graph","highcharts-graph"]];z||G[0].push(Z.lineColor||this.color||"#cccccc",Z.dashStyle),G=F.getZonesGraphs(G),G.forEach(function(ae,B){var P=ae[0];let V=F[P];const W=V?"animate":"attr";V?(V.endX=F.preventGraphAnimation?null:ne.xMap,V.animate({d:ne})):ne.length&&(F[P]=V=F.chart.renderer.path(ne).addClass(ae[1]).attr({zIndex:1}).add(F.group)),V&&!z&&(P={stroke:ae[2],"stroke-width":Z.lineWidth||0,fill:F.fillGraph&&F.color||"none"},ae[3]?P.dashstyle=ae[3]:Z.linecap!=="square"&&(P["stroke-linecap"]=P["stroke-linejoin"]="round"),V[W](P).shadow(2>B&&Z.shadow)),V&&(V.startX=ne.xMap,V.isArea=ne.isArea)})}getGraphPath(F,Z,ne){const z=this,G=z.options,ae=[],B=[];let P,V=G.step;F=F||z.points;const W=F.reversed;return W&&F.reverse(),(V={right:1,center:2}[V]||V&&3)&&W&&(V=4-V),F=this.getValidPoints(F,!1,!(G.connectNulls&&!Z&&!ne)),F.forEach(function(R,se){const S=R.plotX,X=R.plotY,I=F[se-1],$=R.isNull||typeof X!="number";(R.leftCliff||I&&I.rightCliff)&&!ne&&(P=!0),$&&!s(Z)&&0<se?P=!G.connectNulls:$&&!Z?P=!0:(se===0||P?se=[["M",R.plotX,R.plotY]]:z.getPointSpline?se=[z.getPointSpline(F,R,se)]:V?(se=V===1?[["L",I.plotX,X]]:V===2?[["L",(I.plotX+S)/2,I.plotY],["L",(I.plotX+S)/2,X]]:[["L",S,I.plotY]],se.push(["L",S,X])):se=[["L",S,X]],B.push(R.x),V&&(B.push(R.x),V===2&&B.push(R.x)),ae.push.apply(ae,se),P=!1)}),ae.xMap=B,z.graphPath=ae}getZonesGraphs(F){return this.zones.forEach(function(Z,ne){ne=["zone-graph-"+ne,"highcharts-graph highcharts-zone-graph-"+ne+" "+(Z.className||"")],this.chart.styledMode||ne.push(Z.color||this.color,Z.dashStyle||this.options.dashStyle),F.push(ne)},this),F}}return L.defaultOptions=b(h.defaultOptions,{legendSymbol:"lineMarker"}),p.registerSeriesType("line",L),L}),a(l,"Series/Area/AreaSeries.js",[l["Core/Color/Color.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(h,p,y){const{parse:s}=h,{seriesTypes:{line:b}}=p,{extend:L,merge:ee,objectEach:F,pick:Z}=y;class ne extends b{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){this.areaPath=[],super.drawGraph.apply(this);const G=this,ae=this.areaPath,B=this.options,P=[["area","highcharts-area",this.color,B.fillColor]];this.zones.forEach(function(V,W){P.push(["zone-area-"+W,"highcharts-area highcharts-zone-area-"+W+" "+V.className,V.color||G.color,V.fillColor||B.fillColor])}),P.forEach(function(V){const W=V[0],R={};let se=G[W];const S=se?"animate":"attr";se?(se.endX=G.preventGraphAnimation?null:ae.xMap,se.animate({d:ae})):(R.zIndex=0,se=G[W]=G.chart.renderer.path(ae).addClass(V[1]).add(G.group),se.isArea=!0),G.chart.styledMode||(R.fill=Z(V[3],s(V[2]).setOpacity(Z(B.fillOpacity,.75)).get())),se[S](R),se.startX=ae.xMap,se.shiftUnit=B.step?2:1})}getGraphPath(G){var ae=b.prototype.getGraphPath,B=this.options;const P=B.stacking,V=this.yAxis,W=[],R=[],se=this.index,S=V.stacking.stacks[this.stackKey],X=B.threshold,I=Math.round(V.getThreshold(B.threshold));B=Z(B.connectNulls,P==="percent");var $=function(C,A,O){var Q=G[C];C=P&&S[Q.x].points[se];const fe=Q[O+"Null"]||0;O=Q[O+"Cliff"]||0;let Te,oe;Q=!0,O||fe?(Te=(fe?C[0]:C[1])+O,oe=C[0]+O,Q=!!fe):!P&&G[A]&&G[A].isNull&&(Te=oe=X),typeof Te<"u"&&(R.push({plotX:K,plotY:Te===null?I:V.getThreshold(Te),isNull:Q,isCliff:!0}),W.push({plotX:K,plotY:oe===null?I:V.getThreshold(oe),doCurve:!1}))};let K;G=G||this.points,P&&(G=this.getStackPoints(G));for(let C=0,A=G.length;C<A;++C){P||(G[C].leftCliff=G[C].rightCliff=G[C].leftNull=G[C].rightNull=void 0);var q=G[C].isNull;K=Z(G[C].rectPlotX,G[C].plotX);var J=P?Z(G[C].yBottom,I):I;(!q||B)&&(B||$(C,C-1,"left"),q&&!P&&B||(R.push(G[C]),W.push({x:C,plotX:K,plotY:J})),B||$(C,C+1,"right"))}return $=ae.call(this,R,!0,!0),W.reversed=!0,q=ae.call(this,W,!0,!0),(J=q[0])&&J[0]==="M"&&(q[0]=["L",J[1],J[2]]),q=$.concat(q),q.length&&q.push(["Z"]),ae=ae.call(this,R,!1,B),q.xMap=$.xMap,this.areaPath=q,ae}getStackPoints(G){const ae=this,B=[],P=[],V=this.xAxis,W=this.yAxis,R=W.stacking.stacks[this.stackKey],se={},S=W.series,X=S.length,I=W.options.reversedStacks?1:-1,$=S.indexOf(ae);if(G=G||this.points,this.options.stacking){for(let q=0;q<G.length;q++)G[q].leftNull=G[q].rightNull=void 0,se[G[q].x]=G[q];F(R,function(q,J){q.total!==null&&P.push(J)}),P.sort(function(q,J){return q-J});const K=S.map(q=>q.visible);P.forEach(function(q,J){let C=0,A,O;if(se[q]&&!se[q].isNull)B.push(se[q]),[-1,1].forEach(function(Q){const fe=Q===1?"rightNull":"leftNull",Te=R[P[J+Q]];let oe=0;if(Te){let Me=$;for(;0<=Me&&Me<X;){const We=S[Me].index;A=Te.points[We],A||(We===ae.index?se[q][fe]=!0:K[Me]&&(O=R[q].points[We])&&(oe-=O[1]-O[0])),Me+=I}}se[q][Q===1?"rightCliff":"leftCliff"]=oe});else{let Q=$;for(;0<=Q&&Q<X;){if(A=R[q].points[S[Q].index]){C=A[1];break}Q+=I}C=Z(C,0),C=W.translate(C,0,1,0,1),B.push({isNull:!0,plotX:V.translate(q,0,0,0,1),x:q,plotY:C,yBottom:C})}})}return B}}return ne.defaultOptions=ee(b.defaultOptions,{threshold:0,legendSymbol:"rectangle"}),L(ne.prototype,{singleStacks:!1}),p.registerSeriesType("area",ne),ne}),a(l,"Series/Spline/SplineSeries.js",[l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(h,p){const{line:y}=h.seriesTypes,{merge:s,pick:b}=p;class L extends y{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getPointSpline(F,Z,ne){const z=Z.plotX||0,G=Z.plotY||0,ae=F[ne-1];ne=F[ne+1];let B,P,V;if(ae&&!ae.isNull&&ae.doCurve!==!1&&!Z.isCliff&&ne&&!ne.isNull&&ne.doCurve!==!1&&!Z.isCliff){F=ae.plotY||0;var W=ne.plotX||0;ne=ne.plotY||0;let R=0;B=(1.5*z+(ae.plotX||0))/2.5,P=(1.5*G+F)/2.5,W=(1.5*z+W)/2.5,V=(1.5*G+ne)/2.5,W!==B&&(R=(V-P)*(W-z)/(W-B)+G-V),P+=R,V+=R,P>F&&P>G?(P=Math.max(F,G),V=2*G-P):P<F&&P<G&&(P=Math.min(F,G),V=2*G-P),V>ne&&V>G?(V=Math.max(ne,G),P=2*G-V):V<ne&&V<G&&(V=Math.min(ne,G),P=2*G-V),Z.rightContX=W,Z.rightContY=V}return Z=["C",b(ae.rightContX,ae.plotX,0),b(ae.rightContY,ae.plotY,0),b(B,z,0),b(P,G,0),z,G],ae.rightContX=ae.rightContY=void 0,Z}}return L.defaultOptions=s(y.defaultOptions),h.registerSeriesType("spline",L),L}),a(l,"Series/AreaSpline/AreaSplineSeries.js",[l["Series/Spline/SplineSeries.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(h,p,y){const{area:s,area:{prototype:b}}=p.seriesTypes,{extend:L,merge:ee}=y;class F extends h{constructor(){super(...arguments),this.options=this.points=this.data=void 0}}return F.defaultOptions=ee(h.defaultOptions,s.defaultOptions),L(F.prototype,{getGraphPath:b.getGraphPath,getStackPoints:b.getStackPoints,drawGraph:b.drawGraph}),p.registerSeriesType("areaspline",F),F}),a(l,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),a(l,"Series/Column/ColumnSeries.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Color/Color.js"],l["Series/Column/ColumnSeriesDefaults.js"],l["Core/Globals.js"],l["Core/Series/Series.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(h,p,y,s,b,L,ee){const{animObject:F}=h,{parse:Z}=p,{hasTouch:ne,noop:z}=s,{clamp:G,defined:ae,extend:B,fireEvent:P,isArray:V,isNumber:W,merge:R,pick:se,objectEach:S}=ee;class X extends b{constructor(){super(...arguments),this.points=this.options=this.group=this.data=this.borderWidth=void 0}animate($){const K=this,q=this.yAxis,J=q.pos,C=K.options,A=this.chart.inverted,O={},Q=A?"translateX":"translateY";let fe;$?(O.scaleY=.001,$=G(q.toPixels(C.threshold),J,J+q.len),A?O.translateX=$-q.len:O.translateY=$,K.clipBox&&K.setClip(),K.group.attr(O)):(fe=Number(K.group.attr(Q)),K.group.animate({scaleY:1},B(F(K.options.animation),{step:function(Te,oe){K.group&&(O[Q]=fe+oe.pos*(J-fe),K.group.attr(O))}})))}init($,K){super.init.apply(this,arguments);const q=this;$=q.chart,$.hasRendered&&$.series.forEach(function(J){J.type===q.type&&(J.isDirty=!0)})}getColumnMetrics(){const $=this;var K=$.options;const q=$.xAxis,J=$.yAxis;var C=q.options.reversedStacks;C=q.reversed&&!C||!q.reversed&&C;const A={};let O,Q=0;K.grouping===!1?Q=1:$.chart.series.forEach(function(Me){const We=Me.yAxis,Qe=Me.options;let ie;Me.type!==$.type||!Me.visible&&$.chart.options.chart.ignoreHiddenSeries||J.len!==We.len||J.pos!==We.pos||(Qe.stacking&&Qe.stacking!=="group"?(O=Me.stackKey,typeof A[O]>"u"&&(A[O]=Q++),ie=A[O]):Qe.grouping!==!1&&(ie=Q++),Me.columnIndex=ie)});const fe=Math.min(Math.abs(q.transA)*(q.ordinal&&q.ordinal.slope||K.pointRange||q.closestPointRange||q.tickInterval||1),q.len),Te=fe*K.groupPadding,oe=(fe-2*Te)/(Q||1);return K=Math.min(K.maxPointWidth||q.len,se(K.pointWidth,oe*(1-2*K.pointPadding))),$.columnMetrics={width:K,offset:(oe-K)/2+(Te+(($.columnIndex||0)+(C?1:0))*oe-fe/2)*(C?-1:1),paddedWidth:oe,columnCount:Q},$.columnMetrics}crispCol($,K,q,J){var C=this.borderWidth,A=-(C%2?.5:0);return C=C%2?.5:1,this.options.crisp&&(q=Math.round($+q)+A,$=Math.round($)+A,q-=$),J=Math.round(K+J)+C,A=.5>=Math.abs(K)&&.5<J,K=Math.round(K)+C,J-=K,A&&J&&(--K,J+=1),{x:$,y:K,width:q,height:J}}adjustForMissingColumns($,K,q,J){const C=this.options.stacking;if(!q.isNull&&1<J.columnCount){const A=this.yAxis.options.reversedStacks;let O=0,Q=A?0:-J.columnCount;S(this.yAxis.stacking&&this.yAxis.stacking.stacks,fe=>{if(typeof q.x=="number"){const Te=fe[q.x.toString()];Te&&(fe=Te.points[this.index],C?(fe&&(O=Q),Te.hasValidPoints&&(A?Q++:Q--)):V(fe)&&(fe=Object.keys(Te.points).filter(oe=>!oe.match(",")&&Te.points[oe]&&1<Te.points[oe].length).map(parseFloat).sort((oe,Me)=>Me-oe),O=fe.indexOf(this.index),Q=fe.length))}}),$=(q.plotX||0)+((Q-1)*J.paddedWidth+K)/2-K-O*J.paddedWidth}return $}translate(){const $=this,K=$.chart,q=$.options;var J=$.dense=2>$.closestPointRange*$.xAxis.transA;J=$.borderWidth=se(q.borderWidth,J?0:1);const C=$.xAxis,A=$.yAxis,O=q.threshold,Q=se(q.minPointLength,5),fe=$.getColumnMetrics(),Te=fe.width,oe=$.pointXOffset=fe.offset,Me=$.dataMin,We=$.dataMax;let Qe=$.barW=Math.max(Te,1+2*J),ie=$.translatedThreshold=A.getThreshold(O);K.inverted&&(ie-=.5),q.pointPadding&&(Qe=Math.ceil(Qe)),b.prototype.translate.apply($),$.points.forEach(function(ce){const pe=se(ce.yBottom,ie);var Ce=999+Math.abs(pe),Be=ce.plotX||0;Ce=G(ce.plotY,-Ce,A.len+Ce);let re=Math.min(Ce,pe),xe=Math.max(Ce,pe)-re,_e=Te,Y=Be+oe,de=Qe;Q&&Math.abs(xe)<Q&&(xe=Q,Be=!A.reversed&&!ce.negative||A.reversed&&ce.negative,W(O)&&W(We)&&ce.y===O&&We<=O&&(A.min||0)<O&&(Me!==We||(A.max||0)<=O)&&(Be=!Be),re=Math.abs(re-ie)>Q?pe-Q:ie-(Be?Q:0)),ae(ce.options.pointWidth)&&(_e=de=Math.ceil(ce.options.pointWidth),Y-=Math.round((_e-Te)/2)),q.centerInCategory&&(Y=$.adjustForMissingColumns(Y,_e,ce,fe)),ce.barX=Y,ce.pointWidth=_e,ce.tooltipPos=K.inverted?[G(A.len+A.pos-K.plotLeft-Ce,A.pos-K.plotLeft,A.len+A.pos-K.plotLeft),C.len+C.pos-K.plotTop-Y-de/2,xe]:[C.left-K.plotLeft+Y+de/2,G(Ce+A.pos-K.plotTop,A.pos-K.plotTop,A.len+A.pos-K.plotTop),xe],ce.shapeType=$.pointClass.prototype.shapeType||"roundedRect",ce.shapeArgs=$.crispCol(Y,ce.isNull?ie:re,de,ce.isNull?0:xe)}),P(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs($,K){const q=this.options;var J=this.pointAttrToOptions||{},C=J.stroke||"borderColor";const A=J["stroke-width"]||"borderWidth";let O,Q=$&&$.color||this.color,fe=$&&$[C]||q[C]||Q;J=$&&$.options.dashStyle||q.dashStyle;let Te=$&&$[A]||q[A]||this[A]||0,oe=se($&&$.opacity,q.opacity,1);return $&&this.zones.length&&(O=$.getZone(),Q=$.options.color||O&&(O.color||$.nonZonedColor)||this.color,O&&(fe=O.borderColor||fe,J=O.dashStyle||J,Te=O.borderWidth||Te)),K&&$&&($=R(q.states[K],$.options.states&&$.options.states[K]||{}),K=$.brightness,Q=$.color||typeof K<"u"&&Z(Q).brighten($.brightness).get()||Q,fe=$[C]||fe,Te=$[A]||Te,J=$.dashStyle||J,oe=se($.opacity,oe)),C={fill:Q,stroke:fe,"stroke-width":Te,opacity:oe},J&&(C.dashstyle=J),C}drawPoints($=this.points){const K=this,q=this.chart,J=K.options,C=q.renderer,A=J.animationLimit||250;let O;$.forEach(function(Q){let fe=Q.graphic,Te=!!fe,oe=fe&&q.pointCount<A?"animate":"attr";W(Q.plotY)&&Q.y!==null?(O=Q.shapeArgs,fe&&Q.hasNewShapeType()&&(fe=fe.destroy()),K.enabledDataSorting&&(Q.startXPos=K.xAxis.reversed?-(O&&O.width||0):K.xAxis.width),fe||(Q.graphic=fe=C[Q.shapeType](O).add(Q.group||K.group))&&K.enabledDataSorting&&q.hasRendered&&q.pointCount<A&&(fe.attr({x:Q.startXPos}),Te=!0,oe="animate"),fe&&Te&&fe[oe](R(O)),q.styledMode||fe[oe](K.pointAttribs(Q,Q.selected&&"select")).shadow(Q.allowShadow!==!1&&J.shadow),fe&&(fe.addClass(Q.getClassName(),!0),fe.attr({visibility:Q.visible?"inherit":"hidden"}))):fe&&(Q.graphic=fe.destroy())})}drawTracker($=this.points){const K=this,q=K.chart,J=q.pointer,C=function(O){const Q=J.getPointFromEvent(O);typeof Q<"u"&&(J.isDirectTouch=!0,Q.onMouseOver(O))};let A;$.forEach(function(O){A=V(O.dataLabels)?O.dataLabels:O.dataLabel?[O.dataLabel]:[],O.graphic&&(O.graphic.element.point=O),A.forEach(function(Q){Q.div?Q.div.point=O:Q.element.point=O})}),K._hasTracking||(K.trackerGroups.forEach(function(O){K[O]&&(K[O].addClass("highcharts-tracker").on("mouseover",C).on("mouseout",function(Q){J.onTrackerMouseOut(Q)}),ne&&K[O].on("touchstart",C),!q.styledMode&&K.options.cursor&&K[O].css({cursor:K.options.cursor}))}),K._hasTracking=!0),P(this,"afterDrawTracker")}remove(){const $=this,K=$.chart;K.hasRendered&&K.series.forEach(function(q){q.type===$.type&&(q.isDirty=!0)}),b.prototype.remove.apply($,arguments)}}return X.defaultOptions=R(b.defaultOptions,y),B(X.prototype,{cropShoulder:0,directTouch:!0,getSymbol:z,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),L.registerSeriesType("column",X),X}),a(l,"Core/Series/DataLabel.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/FormatUtilities.js"],l["Core/Utilities.js"]],function(h,p,y){const{getDeferredAnimation:s}=h,{format:b}=p,{defined:L,extend:ee,fireEvent:F,isArray:Z,isString:ne,merge:z,objectEach:G,pick:ae,splat:B}=y;var P;return function(V){function W(J,C,A,O,Q){const fe=this.chart;var Te=this.isCartesian&&fe.inverted;const oe=this.enabledDataSorting;var Me=J.plotX,We=J.plotY;const Qe=A.rotation;var ie=A.align;We=L(Me)&&L(We)&&fe.isInsidePlot(Me,Math.round(We),{inverted:Te,paneCoordinates:!0,series:this});let ce=ae(A.overflow,oe?"none":"justify")==="justify";if(Te=this.visible&&J.visible!==!1&&L(Me)&&(J.series.forceDL||oe&&!ce||We||ae(A.inside,!!this.options.stacking)&&O&&fe.isInsidePlot(Me,Te?O.x+1:O.y+O.height-1,{inverted:Te,paneCoordinates:!0,series:this})),Me=J.pos(),Te&&Me){Qe&&C.attr({align:ie}),ie=C.getBBox(!0);var pe=[0,0],Ce=fe.renderer.fontMetrics(C).b;if(O=ee({x:Me[0],y:Math.round(Me[1]),width:0,height:0},O),ee(A,{width:ie.width,height:ie.height}),Qe?(ce=!1,pe=fe.renderer.rotCorr(Ce,Qe),Ce={x:O.x+(A.x||0)+O.width/2+pe.x,y:O.y+(A.y||0)+{top:0,middle:.5,bottom:1}[A.verticalAlign]*O.height},pe=[ie.x-Number(C.attr("x")),ie.y-Number(C.attr("y"))],oe&&this.xAxis&&!ce&&this.setDataLabelStartPos(J,C,Q,We,Ce),C[Q?"attr":"animate"](Ce)):(oe&&this.xAxis&&!ce&&this.setDataLabelStartPos(J,C,Q,We,O),C.align(A,void 0,O),Ce=C.alignAttr),ce&&0<=O.height)this.justifyDataLabel(C,A,Ce,ie,O,Q);else if(ae(A.crop,!0)){let{x:Be,y:re}=Ce;Be+=pe[0],re+=pe[1],Te=fe.isInsidePlot(Be,re,{paneCoordinates:!0,series:this})&&fe.isInsidePlot(Be+ie.width,re+ie.height,{paneCoordinates:!0,series:this})}A.shape&&!Qe&&C[Q?"attr":"animate"]({anchorX:Me[0],anchorY:Me[1]})}Q&&oe&&(C.placed=!1),Te||oe&&!ce?C.show():(C.hide(),C.placed=!1)}function R(J,C){var A=C.filter;return A?(C=A.operator,J=J[A.property],A=A.value,C===">"&&J>A||C==="<"&&J<A||C===">="&&J>=A||C==="<="&&J<=A||C==="=="&&J==A||C==="==="&&J===A):!0}function se(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function S(J){const C=this.hasRendered||0,A=this.initDataLabelsGroup().attr({opacity:+C});return!C&&A&&(this.visible&&A.show(),this.options.animation?A.animate({opacity:1},J):A.attr({opacity:1})),A}function X(J=this.points){const C=this,A=C.chart,O=C.options,Q=A.renderer,{backgroundColor:fe,plotBackgroundColor:Te}=A.options.chart,oe=Q.getContrast(ne(Te)&&Te||ne(fe)&&fe||"#000000");let Me=O.dataLabels,We,Qe;var ie=B(Me)[0];const ce=ie.animation;ie=ie.defer?s(A,ce,C):{defer:0,duration:0},Me=$($(A.options.plotOptions&&A.options.plotOptions.series&&A.options.plotOptions.series.dataLabels,A.options.plotOptions&&A.options.plotOptions[C.type]&&A.options.plotOptions[C.type].dataLabels),Me),F(this,"drawDataLabels"),(Z(Me)||Me.enabled||C._hasPointLabels)&&(Qe=this.initDataLabels(ie),J.forEach(pe=>{We=B($(Me,pe.dlOptions||pe.options&&pe.options.dataLabels)),We.forEach((Ce,Be)=>{const re=Ce.enabled&&(!pe.isNull||pe.dataLabelOnNull)&&R(pe,Ce),xe=pe.connectors?pe.connectors[Be]:pe.connector;let _e,Y,de=pe.dataLabels?pe.dataLabels[Be]:pe.dataLabel,me=!de;const ke=ae(Ce.distance,pe.labelDistance);if(re){var Ie=pe.getLabelConfig(),Ve=ae(Ce[pe.formatPrefix+"Format"],Ce.format);if(Ie=L(Ve)?b(Ve,Ie,A):(Ce[pe.formatPrefix+"Formatter"]||Ce.formatter).call(Ie,Ce),Ve=Ce.style,_e=Ce.rotation,A.styledMode||(Ve.color=ae(Ce.color,Ve.color,C.color,"#000000"),Ve.color==="contrast"?(pe.contrastColor=Q.getContrast(pe.color||C.color),Ve.color=!L(ke)&&Ce.inside||0>ke||O.stacking?pe.contrastColor:oe):delete pe.contrastColor,O.cursor&&(Ve.cursor=O.cursor)),Y={r:Ce.borderRadius||0,rotation:_e,padding:Ce.padding,zIndex:1},!A.styledMode){const{backgroundColor:it,borderColor:tt}=Ce;Y.fill=it==="auto"?pe.color:it,Y.stroke=tt==="auto"?pe.color:tt,Y["stroke-width"]=Ce.borderWidth}G(Y,function(it,tt){typeof it>"u"&&delete Y[tt]})}!de||re&&L(Ie)&&!!de.div==!!Ce.useHTML&&(de.rotation&&Ce.rotation||de.rotation===Ce.rotation)||(me=!0,pe.dataLabel=de=pe.dataLabel&&pe.dataLabel.destroy(),pe.dataLabels&&(pe.dataLabels.length===1?delete pe.dataLabels:delete pe.dataLabels[Be]),Be||delete pe.dataLabel,xe&&(pe.connector=pe.connector.destroy(),pe.connectors&&(pe.connectors.length===1?delete pe.connectors:delete pe.connectors[Be]))),re&&L(Ie)?(de?Y.text=Ie:(pe.dataLabels=pe.dataLabels||[],de=pe.dataLabels[Be]=_e?Q.text(Ie,0,0,Ce.useHTML).addClass("highcharts-data-label"):Q.label(Ie,0,0,Ce.shape,null,null,Ce.useHTML,null,"data-label"),Be||(pe.dataLabel=de),de.addClass(" highcharts-data-label-color-"+pe.colorIndex+" "+(Ce.className||"")+(Ce.useHTML?" highcharts-tracker":""))),de.options=Ce,de.attr(Y),A.styledMode||de.css(Ve).shadow(Ce.shadow),(Be=Ce[pe.formatPrefix+"TextPath"]||Ce.textPath)&&!Ce.useHTML&&(de.setTextPath(pe.getDataLabelPath&&pe.getDataLabelPath(de)||pe.graphic,Be),pe.dataLabelPath&&!Be.enabled&&(pe.dataLabelPath=pe.dataLabelPath.destroy())),de.added||de.add(Qe),C.alignDataLabel(pe,de,Ce,null,me)):de&&de.hide()})})),F(this,"afterDrawDataLabels")}function I(J,C,A,O,Q,fe){const Te=this.chart,oe=C.align,Me=C.verticalAlign,We=J.box?0:J.padding||0;let{x:Qe=0,y:ie=0}=C,ce,pe;return ce=(A.x||0)+We,0>ce&&(oe==="right"&&0<=Qe?(C.align="left",C.inside=!0):Qe-=ce,pe=!0),ce=(A.x||0)+O.width-We,ce>Te.plotWidth&&(oe==="left"&&0>=Qe?(C.align="right",C.inside=!0):Qe+=Te.plotWidth-ce,pe=!0),ce=A.y+We,0>ce&&(Me==="bottom"&&0<=ie?(C.verticalAlign="top",C.inside=!0):ie-=ce,pe=!0),ce=(A.y||0)+O.height-We,ce>Te.plotHeight&&(Me==="top"&&0>=ie?(C.verticalAlign="bottom",C.inside=!0):ie+=Te.plotHeight-ce,pe=!0),pe&&(C.x=Qe,C.y=ie,J.placed=!fe,J.align(C,void 0,Q)),pe}function $(J,C){let A=[],O;if(Z(J)&&!Z(C))A=J.map(function(Q){return z(Q,C)});else if(Z(C)&&!Z(J))A=C.map(function(Q){return z(J,Q)});else if(Z(J)||Z(C))for(O=Math.max(J.length,C.length);O--;)A[O]=z(J[O],C[O]);else A=z(J,C);return A}function K(J,C,A,O,Q){const fe=this.chart,Te=fe.inverted,oe=this.xAxis,Me=oe.reversed,We=Te?C.height/2:C.width/2;J=(J=J.pointWidth)?J/2:0,C.startXPos=Te?Q.x:Me?-We-J:oe.width-We+J,C.startYPos=Te?Me?this.yAxis.height-We+J:-We-J:Q.y,O?C.visibility==="hidden"&&(C.show(),C.attr({opacity:0}).animate({opacity:1})):C.attr({opacity:1}).animate({opacity:0},void 0,C.hide),fe.hasRendered&&(A&&C.attr({x:C.startXPos,y:C.startYPos}),C.placed=!0)}const q=[];V.compose=function(J){y.pushUnique(q,J)&&(J=J.prototype,J.initDataLabelsGroup=se,J.initDataLabels=S,J.alignDataLabel=W,J.drawDataLabels=X,J.justifyDataLabel=I,J.setDataLabelStartPos=K)}}(P||(P={})),P}),a(l,"Series/Column/ColumnDataLabel.js",[l["Core/Series/DataLabel.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(h,p,y){const{series:s}=p,{merge:b,pick:L}=y;var ee;return function(F){function Z(z,G,ae,B,P){let V=this.chart.inverted;var W=z.series;let R=(W.xAxis?W.xAxis.len:this.chart.plotSizeX)||0;W=(W.yAxis?W.yAxis.len:this.chart.plotSizeY)||0;var se=z.dlBox||z.shapeArgs;let S=L(z.below,z.plotY>L(this.translatedThreshold,W)),X=L(ae.inside,!!this.options.stacking);se&&(B=b(se),0>B.y&&(B.height+=B.y,B.y=0),se=B.y+B.height-W,0<se&&se<B.height&&(B.height-=se),V&&(B={x:W-B.y-B.height,y:R-B.x-B.width,width:B.height,height:B.width}),X||(V?(B.x+=S?0:B.width,B.width=0):(B.y+=S?B.height:0,B.height=0))),ae.align=L(ae.align,!V||X?"center":S?"right":"left"),ae.verticalAlign=L(ae.verticalAlign,V||X?"middle":S?"top":"bottom"),s.prototype.alignDataLabel.call(this,z,G,ae,B,P),ae.inside&&z.contrastColor&&G.css({color:z.contrastColor})}const ne=[];F.compose=function(z){h.compose(s),y.pushUnique(ne,z)&&(z.prototype.alignDataLabel=Z)}}(ee||(ee={})),ee}),a(l,"Series/Bar/BarSeries.js",[l["Series/Column/ColumnSeries.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(h,p,y){const{extend:s,merge:b}=y;class L extends h{constructor(){super(...arguments),this.points=this.options=this.data=void 0}}return L.defaultOptions=b(h.defaultOptions,{}),s(L.prototype,{inverted:!0}),p.registerSeriesType("bar",L),L}),a(l,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),a(l,"Series/Scatter/ScatterSeries.js",[l["Series/Scatter/ScatterSeriesDefaults.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(h,p,y){const{column:s,line:b}=p.seriesTypes,{addEvent:L,extend:ee,merge:F}=y;class Z extends b{constructor(){super(...arguments),this.points=this.options=this.data=void 0}applyJitter(){const z=this,G=this.options.jitter,ae=this.points.length;G&&this.points.forEach(function(B,P){["x","y"].forEach(function(V,W){let R="plot"+V.toUpperCase(),se,S;if(G[V]&&!B.isNull){var X=z[V+"Axis"];S=G[V]*X.transA,X&&!X.isLog&&(se=Math.max(0,B[R]-S),X=Math.min(X.len,B[R]+S),W=1e4*Math.sin(P+W*ae),W-=Math.floor(W),B[R]=se+(X-se)*W,V==="x"&&(B.clientX=B.plotX))}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return Z.defaultOptions=F(b.defaultOptions,h),ee(Z.prototype,{drawTracker:s.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),L(Z,"afterTranslate",function(){this.applyJitter()}),p.registerSeriesType("scatter",Z),Z}),a(l,"Series/CenteredUtilities.js",[l["Core/Globals.js"],l["Core/Series/Series.js"],l["Core/Utilities.js"]],function(h,p,y){const{deg2rad:s}=h,{fireEvent:b,isNumber:L,pick:ee,relativeLength:F}=y;var Z;return function(ne){ne.getCenter=function(){var z=this.options,G=this.chart;const ae=2*(z.slicedOffset||0),B=G.plotWidth-2*ae,P=G.plotHeight-2*ae;var V=z.center;const W=Math.min(B,P),R=z.thickness;var se=z.size;let S=z.innerSize||0;for(typeof se=="string"&&(se=parseFloat(se)),typeof S=="string"&&(S=parseFloat(S)),z=[ee(V[0],"50%"),ee(V[1],"50%"),ee(se&&0>se?void 0:z.size,"100%"),ee(S&&0>S?void 0:z.innerSize||0,"0%")],!G.angular||this instanceof p||(z[3]=0),V=0;4>V;++V)se=z[V],G=2>V||V===2&&/%$/.test(se),z[V]=F(se,[B,P,W,z[2]][V])+(G?ae:0);return z[3]>z[2]&&(z[3]=z[2]),L(R)&&2*R<z[2]&&0<R&&(z[3]=z[2]-2*R),b(this,"afterGetCenter",{positions:z}),z},ne.getStartAndEndRadians=function(z,G){return z=L(z)?z:0,G=L(G)&&G>z&&360>G-z?G:z+360,{start:s*(z+-90),end:s*(G+-90)}}}(Z||(Z={})),Z}),a(l,"Series/Pie/PiePoint.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Series/Point.js"],l["Core/Utilities.js"]],function(h,p,y){const{setAnimation:s}=h,{addEvent:b,defined:L,extend:ee,isNumber:F,pick:Z,relativeLength:ne}=y;class z extends p{constructor(){super(...arguments),this.series=this.options=this.labelDistance=void 0}getConnectorPath(){const ae=this.labelPosition,B=this.series.options.dataLabels,P=this.connectorShapes;let V=B.connectorShape;return P[V]&&(V=P[V]),V.call(this,{x:ae.computed.x,y:ae.computed.y,alignment:ae.alignment},ae.connectorPosition,B)}getTranslate(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}}haloPath(ae){const B=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(B.x,B.y,B.r+ae,B.r+ae,{innerR:B.r-1,start:B.start,end:B.end,borderRadius:B.borderRadius})}init(){super.init.apply(this,arguments),this.name=Z(this.name,"Slice");const ae=B=>{this.slice(B.type==="select")};return b(this,"select",ae),b(this,"unselect",ae),this}isValid(){return F(this.y)&&0<=this.y}setVisible(ae,B){const P=this.series,V=P.chart,W=P.options.ignoreHiddenPoint;B=Z(B,W),ae!==this.visible&&(this.visible=this.options.visible=ae=typeof ae>"u"?!this.visible:ae,P.options.data[P.data.indexOf(this)]=this.options,["graphic","dataLabel","connector"].forEach(R=>{this[R]&&this[R][ae?"show":"hide"](ae)}),this.legendItem&&V.legend.colorizeItem(this,ae),ae||this.state!=="hover"||this.setState(""),W&&(P.isDirty=!0),B&&V.redraw())}slice(ae,B,P){const V=this.series;s(P,V.chart),Z(B,!0),this.sliced=this.options.sliced=L(ae)?ae:!this.sliced,V.options.data[V.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return ee(z.prototype,{connectorShapes:{fixedOffset:function(G,ae,B){const P=ae.breakAt;return ae=ae.touchingSliceAt,[["M",G.x,G.y],B.softConnector?["C",G.x+(G.alignment==="left"?-5:5),G.y,2*P.x-ae.x,2*P.y-ae.y,P.x,P.y]:["L",P.x,P.y],["L",ae.x,ae.y]]},straight:function(G,ae){return ae=ae.touchingSliceAt,[["M",G.x,G.y],["L",ae.x,ae.y]]},crookedLine:function(G,ae,B){const{breakAt:P,touchingSliceAt:V}=ae;({series:ae}=this);const[W,R,se]=ae.center,S=se/2,X=ae.chart.plotWidth,I=ae.chart.plotLeft;ae=G.alignment==="left";const{x:$,y:K}=G;return B.crookDistance?(G=ne(B.crookDistance,1),G=ae?W+S+(X+I-W-S)*(1-G):I+(W-S)*G):G=W+(R-K)*Math.tan((this.angle||0)-Math.PI/2),B=[["M",$,K]],(ae?G<=$&&G>=P.x:G>=$&&G<=P.x)&&B.push(["L",G,K]),B.push(["L",P.x,P.y],["L",V.x,V.y]),B}}}),z}),a(l,"Series/Pie/PieSeriesDefaults.js",[],function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),a(l,"Series/Pie/PieSeries.js",[l["Series/CenteredUtilities.js"],l["Series/Column/ColumnSeries.js"],l["Core/Globals.js"],l["Series/Pie/PiePoint.js"],l["Series/Pie/PieSeriesDefaults.js"],l["Core/Series/Series.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Renderer/SVG/Symbols.js"],l["Core/Utilities.js"]],function(h,p,y,s,b,L,ee,F,Z){const{getStartAndEndRadians:ne}=h;({noop:y}=y);const{clamp:z,extend:G,fireEvent:ae,merge:B,pick:P,relativeLength:V}=Z;class W extends L{constructor(){super(...arguments),this.points=this.options=this.maxLabelDistance=this.data=this.center=void 0}animate(se){const S=this,X=S.points,I=S.startAngleRad;se||X.forEach(function($){const K=$.graphic,q=$.shapeArgs;K&&q&&(K.attr({r:P($.startR,S.center&&S.center[3]/2),start:I,end:I}),K.animate({r:q.r,start:q.start,end:q.end},S.options.animation))})}drawEmpty(){const se=this.startAngleRad,S=this.endAngleRad,X=this.options;let I,$;this.total===0&&this.center?(I=this.center[0],$=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(I,$,this.center[1]/2,0,se,S).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:F.arc(I,$,this.center[2]/2,0,{start:se,end:S,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":X.borderWidth,fill:X.fillColor||"none",stroke:X.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){const se=this.chart.renderer;this.points.forEach(function(S){S.graphic&&S.hasNewShapeType()&&(S.graphic=S.graphic.destroy()),S.graphic||(S.graphic=se[S.shapeType](S.shapeArgs).add(S.series.group),S.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(se,S,X){const I=this.center,$=this.radii?this.radii[X.index]||0:I[2]/2;return se=Math.asin(z((se-I[1])/($+X.labelDistance),-1,1)),I[0]+(S?-1:1)*Math.cos(se)*($+X.labelDistance)+(0<X.labelDistance?(S?-1:1)*this.options.dataLabels.padding:0)}hasData(){return!!this.processedXData.length}redrawPoints(){const se=this,S=se.chart;let X,I,$,K;this.drawEmpty(),se.group&&!S.styledMode&&se.group.shadow(se.options.shadow),se.points.forEach(function(q){const J={};I=q.graphic,!q.isNull&&I?(K=q.shapeArgs,X=q.getTranslate(),S.styledMode||($=se.pointAttribs(q,q.selected&&"select")),q.delayedRendering?(I.setRadialReference(se.center).attr(K).attr(X),S.styledMode||I.attr($).attr({"stroke-linejoin":"round"}),q.delayedRendering=!1):(I.setRadialReference(se.center),S.styledMode||B(!0,J,$),B(!0,J,K,X),I.animate(J)),I.attr({visibility:q.visible?"inherit":"hidden"}),I.addClass(q.getClassName(),!0)):I&&(q.graphic=I.destroy())})}sortByAngle(se,S){se.sort(function(X,I){return typeof X.angle<"u"&&(I.angle-X.angle)*S})}translate(se){ae(this,"translate"),this.generatePoints();var S=this.options;const X=S.slicedOffset,I=X+(S.borderWidth||0);var $=ne(S.startAngle,S.endAngle);const K=this.startAngleRad=$.start;$=(this.endAngleRad=$.end)-K;const q=this.points,J=S.dataLabels.distance;S=S.ignoreHiddenPoint;const C=q.length;let A,O,Q,fe=0;for(se||(this.center=se=this.getCenter()),O=0;O<C;O++){Q=q[O];var Te=K+fe*$;!Q.isValid()||S&&!Q.visible||(fe+=Q.percentage/100);var oe=K+fe*$,Me={x:se[0],y:se[1],r:se[2]/2,innerR:se[3]/2,start:Math.round(1e3*Te)/1e3,end:Math.round(1e3*oe)/1e3};Q.shapeType="arc",Q.shapeArgs=Me,Q.labelDistance=P(Q.options.dataLabels&&Q.options.dataLabels.distance,J),Q.labelDistance=V(Q.labelDistance,Me.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,Q.labelDistance),oe=(oe+Te)/2,oe>1.5*Math.PI?oe-=2*Math.PI:oe<-Math.PI/2&&(oe+=2*Math.PI),Q.slicedTranslation={translateX:Math.round(Math.cos(oe)*X),translateY:Math.round(Math.sin(oe)*X)},Me=Math.cos(oe)*se[2]/2,A=Math.sin(oe)*se[2]/2,Q.tooltipPos=[se[0]+.7*Me,se[1]+.7*A],Q.half=oe<-Math.PI/2||oe>Math.PI/2?1:0,Q.angle=oe,Te=Math.min(I,Q.labelDistance/5),Q.labelPosition={natural:{x:se[0]+Me+Math.cos(oe)*Q.labelDistance,y:se[1]+A+Math.sin(oe)*Q.labelDistance},computed:{},alignment:0>Q.labelDistance?"center":Q.half?"right":"left",connectorPosition:{breakAt:{x:se[0]+Me+Math.cos(oe)*Te,y:se[1]+A+Math.sin(oe)*Te},touchingSliceAt:{x:se[0]+Me,y:se[1]+A}}}}ae(this,"afterTranslate")}updateTotals(){const se=this.points,S=se.length,X=this.options.ignoreHiddenPoint;let I,$,K=0;for(I=0;I<S;I++)$=se[I],!$.isValid()||X&&!$.visible||(K+=$.y);for(this.total=K,I=0;I<S;I++)$=se[I],$.percentage=0<K&&($.visible||!X)?$.y/K*100:0,$.total=K}}return W.defaultOptions=B(L.defaultOptions,b),G(W.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:p.prototype.drawTracker,getCenter:h.getCenter,getSymbol:y,isCartesian:!1,noSharedTooltip:!0,pointAttribs:p.prototype.pointAttribs,pointClass:s,requireSorting:!1,searchPoint:y,trackerGroups:["group","dataLabelsGroup"]}),ee.registerSeriesType("pie",W),W}),a(l,"Series/Pie/PieDataLabel.js",[l["Core/Series/DataLabel.js"],l["Core/Globals.js"],l["Core/Renderer/RendererUtilities.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(h,p,y,s,b){const{noop:L}=p,{distribute:ee}=y,{series:F}=s,{arrayMax:Z,clamp:ne,defined:z,merge:G,pick:ae,relativeLength:B}=b;var P;return function(V){function W(){const I=this,$=I.data,K=I.chart,q=I.options.dataLabels||{},J=q.connectorPadding,C=K.plotWidth,A=K.plotHeight,O=K.plotLeft,Q=Math.round(K.chartWidth/3),fe=I.center,Te=fe[2]/2,oe=fe[1],Me=[[],[]],We=[0,0,0,0],Qe=I.dataLabelPositioners;let ie,ce,pe,Ce,Be,re,xe,_e,Y,de,me,ke;I.visible&&(q.enabled||I._hasPointLabels)&&($.forEach(function(Ie){Ie.dataLabel&&Ie.visible&&Ie.dataLabel.shortened&&(Ie.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Ie.dataLabel.shortened=!1)}),F.prototype.drawDataLabels.apply(I),$.forEach(function(Ie){Ie.dataLabel&&(Ie.visible?(Me[Ie.half].push(Ie),Ie.dataLabel._pos=null,!z(q.style.width)&&!z(Ie.options.dataLabels&&Ie.options.dataLabels.style&&Ie.options.dataLabels.style.width)&&Ie.dataLabel.getBBox().width>Q&&(Ie.dataLabel.css({width:Math.round(.7*Q)+"px"}),Ie.dataLabel.shortened=!0)):(Ie.dataLabel=Ie.dataLabel.destroy(),Ie.dataLabels&&Ie.dataLabels.length===1&&delete Ie.dataLabels))}),Me.forEach((Ie,Ve)=>{const it=Ie.length,tt=[];let ht,Ee=0;if(it){if(I.sortByAngle(Ie,Ve-.5),0<I.maxLabelDistance){var De=Math.max(0,oe-Te-I.maxLabelDistance);ht=Math.min(oe+Te+I.maxLabelDistance,K.plotHeight),Ie.forEach(function(Fe){0<Fe.labelDistance&&Fe.dataLabel&&(Fe.top=Math.max(0,oe-Te-Fe.labelDistance),Fe.bottom=Math.min(oe+Te+Fe.labelDistance,K.plotHeight),Ee=Fe.dataLabel.getBBox().height||21,Fe.distributeBox={target:Fe.labelPosition.natural.y-Fe.top+Ee/2,size:Ee,rank:Fe.y},tt.push(Fe.distributeBox))}),De=ht+Ee-De,ee(tt,De,De/5)}for(me=0;me<it;me++){if(ie=Ie[me],re=ie.labelPosition,Ce=ie.dataLabel,de=ie.visible===!1?"hidden":"inherit",Y=De=re.natural.y,tt&&z(ie.distributeBox)&&(typeof ie.distributeBox.pos>"u"?de="hidden":(xe=ie.distributeBox.size,Y=Qe.radialDistributionY(ie))),delete ie.positionIndex,q.justify)_e=Qe.justify(ie,Te,fe);else switch(q.alignTo){case"connectors":_e=Qe.alignToConnectors(Ie,Ve,C,O);break;case"plotEdges":_e=Qe.alignToPlotEdges(Ce,Ve,C,O);break;default:_e=Qe.radialDistributionX(I,ie,Y,De)}Ce._attr={visibility:de,align:re.alignment},ke=ie.options.dataLabels||{},Ce._pos={x:_e+ae(ke.x,q.x)+({left:J,right:-J}[re.alignment]||0),y:Y+ae(ke.y,q.y)-Ce.getBBox().height/2},re&&(re.computed.x=_e,re.computed.y=Y),ae(q.crop,!0)&&(Be=Ce.getBBox().width,De=null,_e-Be<J&&Ve===1?(De=Math.round(Be-_e+J),We[3]=Math.max(De,We[3])):_e+Be>C-J&&Ve===0&&(De=Math.round(_e+Be-C+J),We[1]=Math.max(De,We[1])),0>Y-xe/2?We[0]=Math.max(Math.round(-Y+xe/2),We[0]):Y+xe/2>A&&(We[2]=Math.max(Math.round(Y+xe/2-A),We[2])),Ce.sideOverflow=De)}}}),Z(We)===0||this.verifyDataLabelOverflow(We))&&(this.placeDataLabels(),this.points.forEach(function(Ie){if(ke=G(q,Ie.options.dataLabels),ce=ae(ke.connectorWidth,1)){let Ve;pe=Ie.connector,(Ce=Ie.dataLabel)&&Ce._pos&&Ie.visible&&0<Ie.labelDistance?(de=Ce._attr.visibility,(Ve=!pe)&&(Ie.connector=pe=K.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Ie.colorIndex+(Ie.className?" "+Ie.className:"")).add(I.dataLabelsGroup),K.styledMode||pe.attr({"stroke-width":ce,stroke:ke.connectorColor||Ie.color||"#666666"})),pe[Ve?"attr":"animate"]({d:Ie.getConnectorPath()}),pe.attr("visibility",de)):pe&&(Ie.connector=pe.destroy())}}))}function R(){this.points.forEach(function(I){let $=I.dataLabel,K;$&&I.visible&&((K=$._pos)?($.sideOverflow&&($._attr.width=Math.max($.getBBox().width-$.sideOverflow,0),$.css({width:$._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),$.shortened=!0),$.attr($._attr),$[$.moved?"animate":"attr"](K),$.moved=!0):$&&$.attr({y:-9999})),delete I.distributeBox},this)}function se(I){let $=this.center,K=this.options,q=K.center,J=K.minSize||80,C,A=K.size!==null;return A||(q[0]!==null?C=Math.max($[2]-Math.max(I[1],I[3]),J):(C=Math.max($[2]-I[1]-I[3],J),$[0]+=(I[3]-I[1])/2),q[1]!==null?C=ne(C,J,$[2]-Math.max(I[0],I[2])):(C=ne(C,J,$[2]-I[0]-I[2]),$[1]+=(I[0]-I[2])/2),C<$[2]?($[2]=C,$[3]=Math.min(K.thickness?Math.max(0,C-2*K.thickness):Math.max(0,B(K.innerSize||0,C)),C),this.translate($),this.drawDataLabels&&this.drawDataLabels()):A=!0),A}const S=[],X={radialDistributionY:function(I){return I.top+I.distributeBox.pos},radialDistributionX:function(I,$,K,q){return I.getX(K<$.top+2||K>$.bottom-2?q:K,$.half,$)},justify:function(I,$,K){return K[0]+(I.half?-1:1)*($+I.labelDistance)},alignToPlotEdges:function(I,$,K,q){return I=I.getBBox().width,$?I+q:K-I-q},alignToConnectors:function(I,$,K,q){let J=0,C;return I.forEach(function(A){C=A.dataLabel.getBBox().width,C>J&&(J=C)}),$?J+q:K-J-q}};V.compose=function(I){h.compose(F),b.pushUnique(S,I)&&(I=I.prototype,I.dataLabelPositioners=X,I.alignDataLabel=L,I.drawDataLabels=W,I.placeDataLabels=R,I.verifyDataLabelOverflow=se)}}(P||(P={})),P}),a(l,"Extensions/OverlappingDataLabels.js",[l["Core/Chart/Chart.js"],l["Core/Utilities.js"]],function(h,p){function y(ne,z){let G,ae=!1;return ne&&(G=ne.newOpacity,ne.oldOpacity!==G&&(ne.alignAttr&&ne.placed?(ne[G?"removeClass":"addClass"]("highcharts-data-label-hidden"),ae=!0,ne.alignAttr.opacity=G,ne[ne.isOld?"animate":"attr"](ne.alignAttr,null,function(){z.styledMode||ne.css({pointerEvents:G?"auto":"none"})}),b(z,"afterHideOverlappingLabel")):ne.attr({opacity:G})),ne.isOld=!0),ae}const{addEvent:s,fireEvent:b,isArray:L,isNumber:ee,objectEach:F,pick:Z}=p;s(h,"render",function(){let ne=this,z=[];(this.labelCollectors||[]).forEach(function(G){z=z.concat(G())}),(this.yAxis||[]).forEach(function(G){G.stacking&&G.options.stackLabels&&!G.options.stackLabels.allowOverlap&&F(G.stacking.stacks,function(ae){F(ae,function(B){B.label&&z.push(B.label)})})}),(this.series||[]).forEach(function(G){var ae=G.options.dataLabels;G.visible&&(ae.enabled!==!1||G._hasPointLabels)&&(ae=B=>B.forEach(P=>{P.visible&&(L(P.dataLabels)?P.dataLabels:P.dataLabel?[P.dataLabel]:[]).forEach(function(V){const W=V.options;V.labelrank=Z(W.labelrank,P.labelrank,P.shapeArgs&&P.shapeArgs.height),W.allowOverlap?(V.oldOpacity=V.opacity,V.newOpacity=1,y(V,ne)):z.push(V)})}),ae(G.nodes||[]),ae(G.points))}),this.hideOverlappingLabels(z)}),h.prototype.hideOverlappingLabels=function(ne){let z=this,G=ne.length,ae=z.renderer;var B;let P,V,W,R,se=!1;var S=function(X){let I,$;var K;let q=X.box?0:X.padding||0,J=K=0,C,A;if(X&&(!X.alignAttr||X.placed))return I=X.alignAttr||{x:X.attr("x"),y:X.attr("y")},$=X.parentGroup,X.width||(K=X.getBBox(),X.width=K.width,X.height=K.height,K=ae.fontMetrics(X.element).h),C=X.width-2*q,(A={left:"0",center:"0.5",right:"1"}[X.alignValue])?J=+A*C:ee(X.x)&&Math.round(X.x)!==X.translateX&&(J=X.x-X.translateX),{x:I.x+($.translateX||0)+q-(J||0),y:I.y+($.translateY||0)+q-K,width:X.width-2*q,height:X.height-2*q}};for(P=0;P<G;P++)(B=ne[P])&&(B.oldOpacity=B.opacity,B.newOpacity=1,B.absoluteBox=S(B));for(ne.sort(function(X,I){return(I.labelrank||0)-(X.labelrank||0)}),P=0;P<G;P++)for(W=(S=ne[P])&&S.absoluteBox,B=P+1;B<G;++B)R=(V=ne[B])&&V.absoluteBox,!W||!R||S===V||S.newOpacity===0||V.newOpacity===0||S.visibility==="hidden"||V.visibility==="hidden"||R.x>=W.x+W.width||R.x+R.width<=W.x||R.y>=W.y+W.height||R.y+R.height<=W.y||((S.labelrank<V.labelrank?S:V).newOpacity=0);ne.forEach(function(X){y(X,z)&&(se=!0)}),se&&b(z,"afterHideAllOverlappingLabels")}}),a(l,"Extensions/BorderRadius.js",[l["Core/Defaults.js"],l["Core/Series/Series.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Renderer/SVG/SVGRenderer.js"],l["Core/Utilities.js"]],function(h,p,y,s,b,L){const{defaultOptions:ee}=h;({seriesTypes:h}=y);const{addEvent:F,extend:Z,isObject:ne,merge:z,relativeLength:G}=L,ae={radius:0,scope:"stack",where:void 0},B=(P,V)=>(ne(P)||(P={radius:P||0}),z(ae,V,P));if(s.symbolCustomAttribs.indexOf("borderRadius")===-1){s.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY");const P=b.prototype.symbols.arc;b.prototype.symbols.arc=function(W,R,se,S,X={}){W=P(W,R,se,S,X);const{innerR:I=0,r:$=se,start:K=0,end:q=0}=X;if(X.open||!X.borderRadius)return W;for(se=q-K,R=Math.sin(se/2),X=Math.max(Math.min(G(X.borderRadius||0,$-I),($-I)/2,$*R/(1+R)),0),se=Math.min(X,se/Math.PI*2*I),R=W.length-1;R--;){let Te,oe,Me;S=W;var J=R,C=1<R?se:X,A=S[J],O=S[J+1];if(O[0]==="Z"&&(O=S[0]),A[0]!=="M"&&A[0]!=="L"||O[0]!=="A"?A[0]!=="A"||O[0]!=="M"&&O[0]!=="L"||(Me=O,oe=A):(Me=A,oe=O,Te=!0),Me&&oe&&oe.params){A=oe[1];var Q=oe[5];O=oe.params;const{start:We,end:Qe,cx:ie,cy:ce}=O;var fe=Q?A-C:A+C;const pe=fe?Math.asin(C/fe):0;Q=Q?pe:-pe,fe*=Math.cos(pe),Te?(O.start=We+Q,Me[1]=ie+fe*Math.cos(We),Me[2]=ce+fe*Math.sin(We),S.splice(J+1,0,["A",C,C,0,0,1,ie+A*Math.cos(O.start),ce+A*Math.sin(O.start)])):(O.end=Qe-Q,oe[6]=ie+A*Math.cos(O.end),oe[7]=ce+A*Math.sin(O.end),S.splice(J+1,0,["A",C,C,0,0,1,ie+fe*Math.cos(Qe),ce+fe*Math.sin(Qe)])),oe[4]=Math.abs(O.end-O.start)<Math.PI?0:1}}return W};const V=b.prototype.symbols.roundedRect;b.prototype.symbols.roundedRect=function(W,R,se,S,X={}){const I=V(W,R,se,S,X),{r:$=0,brBoxHeight:K=S,brBoxY:q=R}=X;var J=R-q,C=q+K-(R+S);X=-.1<J-$?0:$;const A=-.1<C-$?0:$;var O=Math.max(X&&J,0);const Q=Math.max(A&&C,0);C=[W+X,R],J=[W+se-X,R];const fe=[W+se,R+X],Te=[W+se,R+S-A],oe=[W+se-A,R+S],Me=[W+A,R+S],We=[W,R+S-A],Qe=[W,R+X];if(O){const ie=Math.sqrt(Math.pow(X,2)-Math.pow(X-O,2));C[0]-=ie,J[0]+=ie,fe[1]=Qe[1]=R+X-O}return S<X-O&&(O=Math.sqrt(Math.pow(X,2)-Math.pow(X-O-S,2)),fe[0]=Te[0]=W+se-X+O,oe[0]=Math.min(fe[0],oe[0]),Me[0]=Math.max(Te[0],Me[0]),We[0]=Qe[0]=W+X-O,fe[1]=Qe[1]=R+S),Q&&(O=Math.sqrt(Math.pow(A,2)-Math.pow(A-Q,2)),oe[0]+=O,Me[0]-=O,Te[1]=We[1]=R+S-A+Q),S<A-Q&&(S=Math.sqrt(Math.pow(A,2)-Math.pow(A-Q-S,2)),fe[0]=Te[0]=W+se-A+S,J[0]=Math.min(fe[0],J[0]),C[0]=Math.max(Te[0],C[0]),We[0]=Qe[0]=W+A-S,Te[1]=We[1]=R),I.length=0,I.push(["M",...C],["L",...J],["A",X,X,0,0,1,...fe],["L",...Te],["A",A,A,0,0,1,...oe],["L",...Me],["A",A,A,0,0,1,...We],["L",...Qe],["A",X,X,0,0,1,...C],["Z"]),I},F(h.pie,"afterTranslate",function(){const W=B(this.options.borderRadius);for(const R of this.points){const se=R.shapeArgs;se&&(se.borderRadius=G(W.radius,(se.r||0)-(se.innerR||0)))}}),F(p,"afterColumnTranslate",function(){var W,R;if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){const{options:I,yAxis:$}=this,K=I.stacking==="percent";var se=(R=(W=ee.plotOptions)===null||W===void 0?void 0:W[this.type])===null||R===void 0?void 0:R.borderRadius;W=B(I.borderRadius,ne(se)?se:{}),R=$.options.reversed;for(const q of this.points)if({shapeArgs:se}=q,q.shapeType==="roundedRect"&&se){const{width:J=0,height:C=0,y:A=0}=se;var S=A,X=C;W.scope==="stack"&&q.stackTotal&&(S=$.translate(K?100:q.stackTotal,!1,!0,!1,!0),X=$.translate(I.threshold||0,!1,!0,!1,!0),X=this.crispCol(0,Math.min(S,X),0,Math.abs(S-X)),S=X.y,X=X.height);const O=(q.negative?-1:1)*(R?-1:1)===-1;let Q=W.where;!Q&&this.is("waterfall")&&Math.abs((q.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(Q="all"),Q||(Q="end");const fe=Math.min(G(W.radius,J),J/2,Q==="all"?C/2:1/0)||0;Q==="end"&&(O&&(S-=fe),X+=fe),Z(se,{brBoxHeight:X,brBoxY:S,r:fe})}}},{order:9})}return p={optionsToObject:B},p}),a(l,"Core/Responsive.js",[l["Core/Utilities.js"]],function(h){const{extend:p,find:y,isArray:s,isObject:b,merge:L,objectEach:ee,pick:F,splat:Z,uniqueKey:ne}=h;var z;return function(G){function ae(W){function R(X,I,$,K){let q;ee(X,function(J,C){if(!K&&-1<se.collectionsWithUpdate.indexOf(C)&&I[C])for(J=Z(J),$[C]=[],q=0;q<Math.max(J.length,I[C].length);q++)I[C][q]&&(J[q]===void 0?$[C][q]=I[C][q]:($[C][q]={},R(J[q],I[C][q],$[C][q],K+1)));else b(J)?($[C]=s(J)?[]:{},R(J,I[C]||{},$[C],K+1)):$[C]=typeof I[C]>"u"?null:I[C]})}const se=this,S={};return R(W,this.options,S,0),S}function B(W,R){const se=W.condition;(se.callback||function(){return this.chartWidth<=F(se.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=F(se.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=F(se.minWidth,0)&&this.chartHeight>=F(se.minHeight,0)}).call(this)&&R.push(W._id)}function P(W,R){const se=this.options.responsive;var S=this.currentResponsive;let X=[];!R&&se&&se.rules&&se.rules.forEach(I=>{typeof I._id>"u"&&(I._id=ne()),this.matchResponsiveRule(I,X)},this),R=L(...X.map(I=>y((se||{}).rules||[],$=>$._id===I)).map(I=>I&&I.chartOptions)),R.isResponsiveOptions=!0,X=X.toString()||void 0,X!==(S&&S.ruleIds)&&(S&&this.update(S.undoOptions,W,!0),X?(S=this.currentOptions(R),S.isResponsiveOptions=!0,this.currentResponsive={ruleIds:X,mergedOptions:R,undoOptions:S},this.update(R,W,!0)):this.currentResponsive=void 0)}const V=[];G.compose=function(W){return h.pushUnique(V,W)&&p(W.prototype,{currentOptions:ae,matchResponsiveRule:B,setResponsive:P}),W}}(z||(z={})),z}),a(l,"masters/highcharts.src.js",[l["Core/Globals.js"],l["Core/Utilities.js"],l["Core/Defaults.js"],l["Core/Animation/Fx.js"],l["Core/Animation/AnimationUtilities.js"],l["Core/Renderer/HTML/AST.js"],l["Core/FormatUtilities.js"],l["Core/Renderer/RendererUtilities.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Renderer/SVG/SVGRenderer.js"],l["Core/Renderer/HTML/HTMLElement.js"],l["Core/Renderer/HTML/HTMLRenderer.js"],l["Core/Axis/Axis.js"],l["Core/Axis/DateTimeAxis.js"],l["Core/Axis/LogarithmicAxis.js"],l["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],l["Core/Axis/Tick.js"],l["Core/Tooltip.js"],l["Core/Series/Point.js"],l["Core/Pointer.js"],l["Core/Legend/Legend.js"],l["Core/Chart/Chart.js"],l["Core/Axis/Stacking/StackingAxis.js"],l["Core/Axis/Stacking/StackItem.js"],l["Core/Series/Series.js"],l["Core/Series/SeriesRegistry.js"],l["Series/Column/ColumnSeries.js"],l["Series/Column/ColumnDataLabel.js"],l["Series/Pie/PieSeries.js"],l["Series/Pie/PieDataLabel.js"],l["Core/Series/DataLabel.js"],l["Core/Responsive.js"],l["Core/Color/Color.js"],l["Core/Time.js"]],function(h,p,y,s,b,L,ee,F,Z,ne,z,G,ae,B,P,V,W,R,se,S,X,I,$,K,q,J,C,A,O,Q,fe,Te,oe,Me){return h.animate=b.animate,h.animObject=b.animObject,h.getDeferredAnimation=b.getDeferredAnimation,h.setAnimation=b.setAnimation,h.stop=b.stop,h.timers=s.timers,h.AST=L,h.Axis=ae,h.Chart=I,h.chart=I.chart,h.Fx=s,h.Legend=X,h.PlotLineOrBand=V,h.Point=se,h.Pointer=S,h.Series=q,h.StackItem=K,h.SVGElement=Z,h.SVGRenderer=ne,h.Tick=W,h.Time=Me,h.Tooltip=R,h.Color=oe,h.color=oe.parse,G.compose(ne),z.compose(Z),S.compose(I),X.compose(I),h.defaultOptions=y.defaultOptions,h.getOptions=y.getOptions,h.time=y.defaultTime,h.setOptions=y.setOptions,h.dateFormat=ee.dateFormat,h.format=ee.format,h.numberFormat=ee.numberFormat,h.addEvent=p.addEvent,h.arrayMax=p.arrayMax,h.arrayMin=p.arrayMin,h.attr=p.attr,h.clearTimeout=p.clearTimeout,h.correctFloat=p.correctFloat,h.createElement=p.createElement,h.css=p.css,h.defined=p.defined,h.destroyObjectProperties=p.destroyObjectProperties,h.discardElement=p.discardElement,h.distribute=F.distribute,h.erase=p.erase,h.error=p.error,h.extend=p.extend,h.extendClass=p.extendClass,h.find=p.find,h.fireEvent=p.fireEvent,h.getMagnitude=p.getMagnitude,h.getStyle=p.getStyle,h.inArray=p.inArray,h.isArray=p.isArray,h.isClass=p.isClass,h.isDOMElement=p.isDOMElement,h.isFunction=p.isFunction,h.isNumber=p.isNumber,h.isObject=p.isObject,h.isString=p.isString,h.keys=p.keys,h.merge=p.merge,h.normalizeTickInterval=p.normalizeTickInterval,h.objectEach=p.objectEach,h.offset=p.offset,h.pad=p.pad,h.pick=p.pick,h.pInt=p.pInt,h.relativeLength=p.relativeLength,h.removeEvent=p.removeEvent,h.seriesType=J.seriesType,h.splat=p.splat,h.stableSort=p.stableSort,h.syncTimeout=p.syncTimeout,h.timeUnits=p.timeUnits,h.uniqueKey=p.uniqueKey,h.useSerialIds=p.useSerialIds,h.wrap=p.wrap,A.compose(C),fe.compose(q),B.compose(ae),P.compose(ae),Q.compose(O),V.compose(ae),Te.compose(I),$.compose(ae,I,q),R.compose(S),h}),l["masters/highcharts.src.js"]._modules=l,l["masters/highcharts.src.js"]})}(Hb)),Hb.exports}const Bj=PS(P9);(function(e,i){(function(a,l){e.exports=l(RC(),Bj)})(window,function(a,l){return p=[function(s,b){s.exports=a},function(s,b){s.exports=l},function(s,ee,L){L.r(ee),L.d(ee,"Chart",function(){return R}),L.d(ee,"default",function(){return se});var ee=L(0),F=L.n(ee);function Z(S,X){return function I($,K,q){function J(C,A){!F.a.isObject(C,!q)||F.a.isClass(C)||F.a.isDOMElement(C)?$[A]=K[A]:$[A]=I($[A]||F.a.isArray(C)?[]:{},C,q)}return F.a.isArray(K)?K.forEach(J):F.a.objectEach(K,J),$}({},S,X)}var ne=L(1);function z(S){return(z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X})(S)}function G(S){return function(X){if(Array.isArray(X))return ae(X)}(S)||function(X){if(typeof Symbol<"u"&&X[Symbol.iterator]!=null||X["@@iterator"]!=null)return Array.from(X)}(S)||function(X,I){var $;if(X)return typeof X=="string"?ae(X,I):($=($=Object.prototype.toString.call(X).slice(8,-1))==="Object"&&X.constructor?X.constructor.name:$)==="Map"||$==="Set"?Array.from(X):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?ae(X,I):void 0}(S)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ae(S,X){(X==null||X>S.length)&&(X=S.length);for(var I=0,$=new Array(X);I<X;I++)$[I]=S[I];return $}function B(S,X){var I,$=Object.keys(S);return Object.getOwnPropertySymbols&&(I=Object.getOwnPropertySymbols(S),X&&(I=I.filter(function(K){return Object.getOwnPropertyDescriptor(S,K).enumerable})),$.push.apply($,I)),$}function P(S){for(var X=1;X<arguments.length;X++){var I=arguments[X]!=null?arguments[X]:{};X%2?B(Object(I),!0).forEach(function($){var K,q;K=S,q=I[$=$],($=function(J){return J=function(C,A){if(z(C)!=="object"||C===null)return C;var O=C[Symbol.toPrimitive];if(O===void 0)return(A==="string"?String:Number)(C);if(O=O.call(C,A||"default"),z(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}(J,"string"),z(J)==="symbol"?J:String(J)}($))in K?Object.defineProperty(K,$,{value:q,enumerable:!0,configurable:!0,writable:!0}):K[$]=q}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(I)):B(Object(I)).forEach(function($){Object.defineProperty(S,$,Object.getOwnPropertyDescriptor(I,$))})}return S}var V={template:'<div ref="chart"></div>',props:{constructorType:{type:String,default:"chart"},options:{type:Object,required:!0},callback:Function,updateArgs:{type:Array,default:function(){return[!0,!0]}},highcharts:{type:Object},deepCopyOnUpdate:{type:Boolean,default:!0}}},W=function(S,X){return X.split(".")[0]<3?P(P({},V),{},{render:function(I){return I("div",{ref:"chart"})},beforeDestroy:function(){this.chart&&this.chart.destroy()},watch:{options:{handler:function(I){var $;($=this.chart).update.apply($,[Z(I,this.deepCopyOnUpdate)].concat(G(this.updateArgs)))},deep:!0}},mounted:function(){var I=this.highcharts||S;this.options&&I[this.constructorType]?this.chart=I[this.constructorType](this.$refs.chart,Z(this.options,!0),this.callback||null):this.options?console.warn("'".concat(this.constructorType,"' constructor-type is incorrect. Sometimes this error is caused by the fact, that the corresponding module wasn't imported.")):console.warn('The "options" parameter was not passed.')}}):P(P({},V),{},{render:function(){return Object(ne.h)("div",{ref:"chart"})},setup:function(I){var $,K=Object(ne.ref)(null);return Object(ne.onMounted)(function(){var q=I.highcharts||S;I.options&&q[I.constructorType]?$=q[I.constructorType](K.value,Z(I.options,!0),I.callback||null):I.options?console.warn("'".concat(I.constructorType,"' constructor-type is incorrect. Sometimes this error is caused by the fact, that the corresponding module wasn't imported.")):console.warn('The "options" parameter was not passed.')}),Object(ne.watch)(function(){return I.options},function(q,J){$.update.apply($,[Z(q,I.deepCopyOnUpdate)].concat(G(I.updateArgs)))},{deep:!0}),Object(ne.onBeforeUnmount)(function(){$&&$.destroy()}),{chart:K,props:I}}})},R=W(F.a,ne.version||L.n(ne).a.version);function se(S){var X=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};S.component(X.tagName||"highcharts",W(X.highcharts||F.a,S.version))}}],y={},h.m=p,h.c=y,h.d=function(s,b,L){h.o(s,b)||Object.defineProperty(s,b,{enumerable:!0,get:L})},h.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},h.t=function(s,b){if(1&b&&(s=h(s)),8&b||4&b&&typeof s=="object"&&s&&s.__esModule)return s;var L=Object.create(null);if(h.r(L),Object.defineProperty(L,"default",{enumerable:!0,value:s}),2&b&&typeof s!="string")for(var ee in s)h.d(L,ee,function(F){return s[F]}.bind(null,ee));return L},h.n=function(s){var b=s&&s.__esModule?function(){return s.default}:function(){return s};return h.d(b,"a",b),b},h.o=function(s,b){return Object.prototype.hasOwnProperty.call(s,b)},h.p="",h(h.s=2);function h(s){var b;return(y[s]||(b=y[s]={i:s,l:!1,exports:{}},p[s].call(b.exports,b,b.exports,h),b.l=!0,b)).exports}var p,y})})(OC);var zC=OC.exports,Fj=RC();const BC=om(Fj);var FC={exports:{}};(function(e){(function(i){e.exports?(i.default=i,e.exports=i):i(typeof Highcharts<"u"?Highcharts:void 0)})(function(i){function a(l,h,p,y){l.hasOwnProperty(h)||(l[h]=y.apply(null,p),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:h,module:l[h]}})))}i=i?i._modules:{},a(i,"Extensions/Pane.js",[i["Core/Chart/Chart.js"],i["Series/CenteredUtilities.js"],i["Core/Globals.js"],i["Core/Pointer.js"],i["Core/Utilities.js"]],function(l,h,p,y,s){function b(B,P,V,W,R){let se=!0;const S=V[0],X=V[1],I=Math.sqrt(Math.pow(B-S,2)+Math.pow(P-X,2));return F(W)&&F(R)&&(B=Math.atan2(ee(P-X,8),ee(B-S,8)),R!==W&&(se=W>R?B>=W&&B<=Math.PI||B<=R&&B>=-Math.PI:B>=W&&B<=ee(R,8))),I<=Math.ceil(V[2]/2)&&se}const{addEvent:L,correctFloat:ee,defined:F,extend:Z,merge:ne,pick:z,splat:G}=s;l.prototype.collectionsWithUpdate.push("pane");class ae{constructor(P,V){this.options=this.chart=this.center=this.background=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(P,V)}init(P,V){this.chart=V,this.background=[],V.pane.push(this),this.setOptions(P)}setOptions(P){this.options=ne(this.defaultOptions,this.chart.angular?{background:{}}:void 0,P)}render(){var P=this.options;let V=this.options.background;var W=this.chart.renderer;if(this.group||(this.group=W.g("pane-group").attr({zIndex:P.zIndex||0}).add()),this.updateCenter(),V)for(V=G(V),P=Math.max(V.length,this.background.length||0),W=0;W<P;W++)V[W]&&this.axis?this.renderBackground(ne(this.defaultBackgroundOptions,V[W]),W):this.background[W]&&(this.background[W]=this.background[W].destroy(),this.background.splice(W,1))}renderBackground(P,V){let W="animate",R={class:"highcharts-pane "+(P.className||"")};this.chart.styledMode||Z(R,{fill:P.backgroundColor,stroke:P.borderColor,"stroke-width":P.borderWidth}),this.background[V]||(this.background[V]=this.chart.renderer.path().add(this.group),W="attr"),this.background[V][W]({d:this.axis.getPlotBandPath(P.from,P.to,P)}).attr(R)}updateCenter(P){this.center=(P||this.axis||{}).center=h.getCenter.call(this)}update(P,V){ne(!0,this.options,P),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(W){W.pane===this&&(W.pane=null,W.update({},V))},this)}}return l.prototype.getHoverPane=function(B){const P=this;let V;return B&&P.pane.forEach(W=>{b(B.chartX-P.plotLeft,B.chartY-P.plotTop,W.center)&&(V=W)}),V},L(l,"afterIsInsidePlot",function(B){this.polar&&(B.options.inverted&&([B.x,B.y]=[B.y,B.x]),B.isInsidePlot=this.pane.some(P=>b(B.x,B.y,P.center,P.axis&&P.axis.normalizedStartAngleRad,P.axis&&P.axis.normalizedEndAngleRad)))}),L(y,"beforeGetHoverData",function(B){const P=this.chart;P.polar?(P.hoverPane=P.getHoverPane(B),B.filter=function(V){return V.visible&&!(!B.shared&&V.directTouch)&&z(V.options.enableMouseTracking,!0)&&(!P.hoverPane||V.xAxis.pane===P.hoverPane)}):P.hoverPane=void 0}),L(y,"afterGetHoverData",function(B){const P=this.chart;B.hoverPoint&&B.hoverPoint.plotX&&B.hoverPoint.plotY&&P.hoverPane&&!b(B.hoverPoint.plotX,B.hoverPoint.plotY,P.hoverPane.center)&&(B.hoverPoint=void 0)}),p.Pane=ae,p.Pane}),a(i,"Series/AreaRange/AreaRangePoint.js",[i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h){const{area:{prototype:{pointClass:p,pointClass:{prototype:y}}}}=l.seriesTypes,{defined:s,isNumber:b}=h;class L extends p{constructor(){super(...arguments),this.series=this.plotX=this.options=this.low=this.high=void 0}setState(){const F=this.state,Z=this.series,ne=Z.chart.polar;s(this.plotHigh)||(this.plotHigh=Z.yAxis.toPixels(this.high,!0)),s(this.plotLow)||(this.plotLow=this.plotY=Z.yAxis.toPixels(this.low,!0)),Z.stateMarkerGraphic&&(Z.lowerStateMarkerGraphic=Z.stateMarkerGraphic,Z.stateMarkerGraphic=Z.upperStateMarkerGraphic),this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,ne&&b(this.plotHighX)&&(this.plotX=this.plotHighX),y.setState.apply(this,arguments),this.state=F,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],ne&&b(this.plotLowX)&&(this.plotX=this.plotLowX),Z.stateMarkerGraphic&&(Z.upperStateMarkerGraphic=Z.stateMarkerGraphic,Z.stateMarkerGraphic=Z.lowerStateMarkerGraphic,Z.lowerStateMarkerGraphic=void 0),y.setState.apply(this,arguments)}haloPath(){const F=this.series.chart.polar;let Z=[];return this.plotY=this.plotLow,F&&b(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(Z=y.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,F&&b(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(Z=Z.concat(y.haloPath.apply(this,arguments))),Z}isValid(){return b(this.low)&&b(this.high)}}return L}),a(i,"Series/AreaRange/AreaRangeSeries.js",[i["Series/AreaRange/AreaRangePoint.js"],i["Core/Globals.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,p,y){({noop:h}=h);const{area:s,area:{prototype:b},column:{prototype:L}}=p.seriesTypes,{addEvent:ee,defined:F,extend:Z,isArray:ne,isNumber:z,pick:G,merge:ae}=y;class B extends s{constructor(){super(...arguments),this.xAxis=this.lowerStateMarkerGraphic=this.points=this.options=this.data=void 0}toYData(V){return[V.low,V.high]}highToXY(V){const W=this.chart,R=this.xAxis.postTranslate(V.rectPlotX||0,this.yAxis.len-(V.plotHigh||0));V.plotHighX=R.x-W.plotLeft,V.plotHigh=R.y-W.plotTop,V.plotLowX=V.plotX}getGraphPath(V){var W=[],R=[];const se=b.getGraphPath;var S=this.options;const X=this.chart.polar,I=X&&S.connectEnds!==!1,$=S.connectNulls;let K,q,J,C=S.step;for(V=V||this.points,K=V.length;K--;){q=V[K];const A=X?{plotX:q.rectPlotX,plotY:q.yBottom,doCurve:!1}:{plotX:q.plotX,plotY:q.plotY,doCurve:!1};q.isNull||I||$||V[K+1]&&!V[K+1].isNull||R.push(A),J={polarPlotY:q.polarPlotY,rectPlotX:q.rectPlotX,yBottom:q.yBottom,plotX:G(q.plotHighX,q.plotX),plotY:q.plotHigh,isNull:q.isNull},R.push(J),W.push(J),q.isNull||I||$||V[K-1]&&!V[K-1].isNull||R.push(A)}return V=se.call(this,V),C&&(C===!0&&(C="left"),S.step={left:"right",center:"center",right:"left"}[C]),W=se.call(this,W),R=se.call(this,R),S.step=C,S=[].concat(V,W),!this.chart.polar&&R[0]&&R[0][0]==="M"&&(R[0]=["L",R[0][1],R[0][2]]),this.graphPath=S,this.areaPath=V.concat(R),S.isArea=!0,S.xMap=V.xMap,this.areaPath.xMap=V.xMap,S}drawDataLabels(){const V=this.points,W=V.length,R=[],se=this.options.dataLabels,S=this.chart.inverted;let X,I,$,K,q;if(se){if(ne(se)?(K=se[0]||{enabled:!1},q=se[1]||{enabled:!1}):(K=Z({},se),K.x=se.xHigh,K.y=se.yHigh,q=Z({},se),q.x=se.xLow,q.y=se.yLow),K.enabled||this._hasPointLabels){for(X=W;X--;)if(I=V[X]){const{plotHigh:J=0,plotLow:C=0}=I;$=K.inside?J<C:J>C,I.y=I.high,I._plotY=I.plotY,I.plotY=J,R[X]=I.dataLabel,I.dataLabel=I.dataLabelUpper,I.below=$,S?K.align||(K.align=$?"right":"left"):K.verticalAlign||(K.verticalAlign=$?"top":"bottom")}for(this.options.dataLabels=K,b.drawDataLabels&&b.drawDataLabels.apply(this,arguments),X=W;X--;)(I=V[X])&&(I.dataLabelUpper=I.dataLabel,I.dataLabel=R[X],delete I.dataLabels,I.y=I.low,I.plotY=I._plotY)}if(q.enabled||this._hasPointLabels){for(X=W;X--;)if(I=V[X]){const{plotHigh:J=0,plotLow:C=0}=I;$=q.inside?J<C:J>C,I.below=!$,S?q.align||(q.align=$?"left":"right"):q.verticalAlign||(q.verticalAlign=$?"bottom":"top")}this.options.dataLabels=q,b.drawDataLabels&&b.drawDataLabels.apply(this,arguments)}if(K.enabled)for(X=W;X--;)(I=V[X])&&(I.dataLabels=[I.dataLabelUpper,I.dataLabel].filter(function(J){return!!J}));this.options.dataLabels=se}}alignDataLabel(){L.alignDataLabel.apply(this,arguments)}drawPoints(){const V=this.points.length;let W,R;for(b.drawPoints.apply(this,arguments),W=0;W<V;)R=this.points[W],R.graphics=R.graphics||[],R.origProps={plotY:R.plotY,plotX:R.plotX,isInside:R.isInside,negative:R.negative,zone:R.zone,y:R.y},(R.graphic||R.graphics[0])&&(R.graphics[0]=R.graphic),R.graphic=R.graphics[1],R.plotY=R.plotHigh,F(R.plotHighX)&&(R.plotX=R.plotHighX),R.y=G(R.high,R.origProps.y),R.negative=R.y<(this.options.threshold||0),this.zones.length&&(R.zone=R.getZone()),this.chart.polar||(R.isInside=R.isTopInside=typeof R.plotY<"u"&&0<=R.plotY&&R.plotY<=this.yAxis.len&&0<=R.plotX&&R.plotX<=this.xAxis.len),W++;for(b.drawPoints.apply(this,arguments),W=0;W<V;)R=this.points[W],R.graphics=R.graphics||[],(R.graphic||R.graphics[1])&&(R.graphics[1]=R.graphic),R.graphic=R.graphics[0],R.origProps&&(Z(R,R.origProps),delete R.origProps),W++}}return B.defaultOptions=ae(s.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),ee(B,"afterTranslate",function(){this.pointArrayMap.join(",")==="low,high"&&this.points.forEach(P=>{const V=P.high,W=P.plotY;P.isNull?P.plotY=void 0:(P.plotLow=W,P.plotHigh=z(V)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(V):V,!1,!0,void 0,!0):void 0,this.dataModify&&(P.yBottom=P.plotHigh))})},{order:0}),ee(B,"afterTranslate",function(){this.points.forEach(P=>{if(this.chart.polar)this.highToXY(P),P.plotLow=P.plotY,P.tooltipPos=[((P.plotHighX||0)+(P.plotLowX||0))/2,((P.plotHigh||0)+(P.plotLow||0))/2];else{const V=P.pos(!1,P.plotLow),W=P.pos(!1,P.plotHigh);V&&W&&(V[0]=(V[0]+W[0])/2,V[1]=(V[1]+W[1])/2),P.tooltipPos=V}})},{order:3}),Z(B.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:l,pointValKey:"low",setStackedPoints:h}),p.registerSeriesType("arearange",B),B}),a(i,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[i["Series/AreaRange/AreaRangeSeries.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,p){const{spline:{prototype:y}}=h.seriesTypes,{merge:s,extend:b}=p;class L extends l{constructor(){super(...arguments),this.points=this.data=this.options=void 0}}return L.defaultOptions=s(l.defaultOptions),b(L.prototype,{getPointSpline:y.getPointSpline}),h.registerSeriesType("areasplinerange",L),L}),a(i,"Series/BoxPlot/BoxPlotSeries.js",[i["Series/Column/ColumnSeries.js"],i["Core/Globals.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,p,y){({noop:h}=h);const{extend:s,merge:b,pick:L}=y;class ee extends l{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(){return{}}translate(){const Z=this.yAxis,ne=this.pointArrayMap;super.translate.apply(this),this.points.forEach(function(z){ne.forEach(function(G){z[G]!==null&&(z[G+"Plot"]=Z.translate(z[G],0,1,0,1))}),z.plotHigh=z.highPlot})}drawPoints(){let Z=this,ne=Z.options,z=Z.chart,G=z.renderer,ae,B,P,V,W,R,se=0,S,X,I,$,K=Z.doQuartiles!==!1,q,J=Z.options.whiskerLength;Z.points.forEach(function(C){var A=C.graphic;let O=A?"animate":"attr",Q=C.shapeArgs,fe={},Te={},oe={},Me={},We=C.color||Z.color;typeof C.plotY<"u"&&(S=Math.round(Q.width),X=Math.floor(Q.x),I=X+S,$=Math.round(S/2),ae=Math.floor(K?C.q1Plot:C.lowPlot),B=Math.floor(K?C.q3Plot:C.lowPlot),P=Math.floor(C.highPlot),V=Math.floor(C.lowPlot),A||(C.graphic=A=G.g("point").add(Z.group),C.stem=G.path().addClass("highcharts-boxplot-stem").add(A),J&&(C.whiskers=G.path().addClass("highcharts-boxplot-whisker").add(A)),K&&(C.box=G.path(void 0).addClass("highcharts-boxplot-box").add(A)),C.medianShape=G.path(void 0).addClass("highcharts-boxplot-median").add(A)),z.styledMode||(Te.stroke=C.stemColor||ne.stemColor||We,Te["stroke-width"]=L(C.stemWidth,ne.stemWidth,ne.lineWidth),Te.dashstyle=C.stemDashStyle||ne.stemDashStyle||ne.dashStyle,C.stem.attr(Te),J&&(oe.stroke=C.whiskerColor||ne.whiskerColor||We,oe["stroke-width"]=L(C.whiskerWidth,ne.whiskerWidth,ne.lineWidth),oe.dashstyle=C.whiskerDashStyle||ne.whiskerDashStyle||ne.dashStyle,C.whiskers.attr(oe)),K&&(fe.fill=C.fillColor||ne.fillColor||We,fe.stroke=ne.lineColor||We,fe["stroke-width"]=ne.lineWidth||0,fe.dashstyle=C.boxDashStyle||ne.boxDashStyle||ne.dashStyle,C.box.attr(fe)),Me.stroke=C.medianColor||ne.medianColor||We,Me["stroke-width"]=L(C.medianWidth,ne.medianWidth,ne.lineWidth),Me.dashstyle=C.medianDashStyle||ne.medianDashStyle||ne.dashStyle,C.medianShape.attr(Me)),R=C.stem.strokeWidth()%2/2,se=X+$+R,A=[["M",se,B],["L",se,P],["M",se,ae],["L",se,V]],C.stem[O]({d:A}),K&&(R=C.box.strokeWidth()%2/2,ae=Math.floor(ae)+R,B=Math.floor(B)+R,X+=R,I+=R,A=[["M",X,B],["L",X,ae],["L",I,ae],["L",I,B],["L",X,B],["Z"]],C.box[O]({d:A})),J&&(R=C.whiskers.strokeWidth()%2/2,P+=R,V+=R,q=/%$/.test(J)?$*parseFloat(J)/100:J/2,A=[["M",se-q,P],["L",se+q,P],["M",se-q,V],["L",se+q,V]],C.whiskers[O]({d:A})),W=Math.round(C.medianPlot),R=C.medianShape.strokeWidth()%2/2,W+=R,A=[["M",X,W],["L",I,W]],C.medianShape[O]({d:A}))})}toYData(Z){return[Z.low,Z.q1,Z.median,Z.q3,Z.high]}}return ee.defaultOptions=b(l.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),s(ee.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:h,setStackedPoints:h}),p.registerSeriesType("boxplot",ee),ee}),a(i,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.7em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),a(i,"Series/Bubble/BubbleLegendItem.js",[i["Core/Color/Color.js"],i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(l,h,p,y){const{parse:s}=l,{noop:b}=p,{arrayMax:L,arrayMin:ee,isNumber:F,merge:Z,pick:ne,stableSort:z}=y;class G{constructor(B,P){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.chart=void 0,this.setState=b,this.init(B,P)}init(B,P){this.options=B,this.visible=!0,this.chart=P.chart,this.legend=P}addToLegend(B){B.splice(this.options.legendIndex,0,this)}drawLegendSymbol(B){const P=ne(B.options.itemDistance,20),V=this.legendItem||{},W=this.options;var R=W.ranges,se=W.connectorDistance;if(R&&R.length&&F(R[0].value)){z(R,function(X,I){return I.value-X.value}),this.ranges=R,this.setOptions(),this.render(),B=this.getMaxLabelSize();var S=this.ranges[0].radius;R=2*S,se=se-S+B.width,se=0<se?se:0,this.maxLabel=B,this.movementX=W.labels.align==="left"?se:0,V.labelWidth=R+se+P,V.labelHeight=R+B.height/2}else B.options.bubbleLegend.autoRanges=!0}setOptions(){const B=this.ranges,P=this.options,V=this.chart.series[P.seriesIndex],W=this.legend.baseline,R={zIndex:P.zIndex,"stroke-width":P.borderWidth},se={zIndex:P.zIndex,"stroke-width":P.connectorWidth},S={align:this.legend.options.rtl||P.labels.align==="left"?"right":"left",zIndex:P.zIndex},X=V.options.marker.fillOpacity,I=this.chart.styledMode;B.forEach(function($,K){I||(R.stroke=ne($.borderColor,P.borderColor,V.color),R.fill=ne($.color,P.color,X!==1?s(V.color).setOpacity(X).get("rgba"):V.color),se.stroke=ne($.connectorColor,P.connectorColor,V.color)),B[K].radius=this.getRangeRadius($.value),B[K]=Z(B[K],{center:B[0].radius-B[K].radius+W}),I||Z(!0,B[K],{bubbleAttribs:Z(R),connectorAttribs:Z(se),labelAttribs:S})},this)}getRangeRadius(B){const P=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,P.ranges[P.ranges.length-1].value,P.ranges[0].value,P.minSize,P.maxSize,B)}render(){const B=this.legendItem||{},P=this.chart.renderer,V=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),B.symbol=P.g("bubble-legend"),B.label=P.g("bubble-legend-item"),B.symbol.translateX=0,B.symbol.translateY=0,B.symbol.add(B.label),B.label.add(B.group);for(const W of this.ranges)W.value>=V&&this.renderRange(W);this.hideOverlappingLabels()}renderRange(B){var P=this.options;const V=P.labels;var W=this.chart;const R=W.series[P.seriesIndex],se=W.renderer,S=this.symbols;W=S.labels;const X=B.center,I=Math.abs(B.radius);var $=P.connectorDistance||0;const K=V.align,q=P.connectorWidth,J=this.ranges[0].radius||0,C=X-I-P.borderWidth/2+q/2,A=se.styledMode;$=this.legend.options.rtl||K==="left"?-$:$,K==="center"&&($=0,P.connectorDistance=0,B.labelAttribs.align="center"),S.bubbleItems.push(se.circle(J,X+((C%1?1:.5)-(q%2?0:.5)),I).attr(A?{}:B.bubbleAttribs).addClass((A?"highcharts-color-"+R.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(P.className||"")).add(this.legendItem.symbol)),S.connectors.push(se.path(se.crispLine([["M",J,C],["L",J+$,C]],P.connectorWidth)).attr(A?{}:B.connectorAttribs).addClass((A?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(P.connectorClassName||"")).add(this.legendItem.symbol)),B=se.text(this.formatLabel(B)).attr(A?{}:B.labelAttribs).css(A?{}:V.style).addClass("highcharts-bubble-legend-labels "+(P.labels.className||"")).add(this.legendItem.symbol),P={x:J+$+P.labels.x,y:C+P.labels.y+.4*B.getBBox().height},B.attr(P),W.push(B),B.placed=!0,B.alignAttr=P}getMaxLabelSize(){let B,P;return this.symbols.labels.forEach(function(V){P=V.getBBox(!0),B=B?P.width>B.width?P:B:P}),B||{}}formatLabel(B){var P=this.options;const V=P.labels.formatter;P=P.labels.format;const{numberFormatter:W}=this.chart;return P?h.format(P,B):V?V.call(B):W(B.value,1)}hideOverlappingLabels(){const B=this.chart,P=this.symbols;!this.options.labels.allowOverlap&&P&&(B.hideOverlappingLabels(P.labels),P.labels.forEach(function(V,W){V.newOpacity?V.newOpacity!==V.oldOpacity&&P.connectors[W].show():P.connectors[W].hide()}))}getRanges(){const B=this.legend.bubbleLegend,P=B.options.ranges;let V,W,R=Number.MAX_VALUE,se=-Number.MAX_VALUE;return B.chart.series.forEach(function(S){S.isBubble&&!S.ignoreSeries&&(W=S.zData.filter(F),W.length&&(R=ne(S.options.zMin,Math.min(R,Math.max(ee(W),S.options.displayNegative===!1?S.options.zThreshold:-Number.MAX_VALUE))),se=ne(S.options.zMax,Math.max(se,L(W)))))}),V=R===se?[{value:se}]:[{value:R},{value:(R+se)/2},{value:se,autoRanges:!0}],P.length&&P[0].radius&&V.reverse(),V.forEach(function(S,X){P&&P[X]&&(V[X]=Z(P[X],S))}),V}predictBubbleSizes(){var B=this.chart,P=B.legend.options,V=P.floating;const W=(P=P.layout==="horizontal")?B.legend.lastLineHeight:0,R=B.plotSizeX,se=B.plotSizeY;var S=B.series[this.options.seriesIndex],X=S.getPxExtremes();B=Math.ceil(X.minPxSize),X=Math.ceil(X.maxPxSize);const I=Math.min(se,R);return S=S.options.maxSize,V||!/%$/.test(S)?V=X:(S=parseFloat(S),V=(I+W)*S/100/(S/100+1),(P&&se-V>=R||!P&&R-V>=se)&&(V=X)),[B,Math.ceil(V)]}updateRanges(B,P){const V=this.legend.options.bubbleLegend;V.minSize=B,V.maxSize=P,V.ranges=this.getRanges()}correctSizes(){const B=this.legend,P=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(P.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,P.maxPxSize),B.render())}}return G}),a(i,"Series/Bubble/BubbleLegendComposition.js",[i["Series/Bubble/BubbleLegendDefaults.js"],i["Series/Bubble/BubbleLegendItem.js"],i["Core/Defaults.js"],i["Core/Utilities.js"]],function(l,h,p,y){function s(P,V,W){const R=this.legend;var se=0<=b(this);let S,X;R&&R.options.enabled&&R.bubbleLegend&&R.options.bubbleLegend.autoRanges&&se?(S=R.bubbleLegend.options,se=R.bubbleLegend.predictBubbleSizes(),R.bubbleLegend.updateRanges(se[0],se[1]),S.placed||(R.group.placed=!1,R.allItems.forEach(I=>{X=I.legendItem||{},X.group&&(X.group.translateY=null)})),R.render(),this.getMargins(),this.axes.forEach(function(I){I.visible&&I.render(),S.placed||(I.setScale(),I.updateNames(),G(I.ticks,function($){$.isNew=!0,$.isNewLabel=!0}))}),S.placed=!0,this.getMargins(),P.call(this,V,W),R.bubbleLegend.correctSizes(),Z(R,L(R))):(P.call(this,V,W),R&&R.options.enabled&&R.bubbleLegend&&(R.render(),Z(R,L(R))))}function b(P){P=P.series;let V=0;for(;V<P.length;){if(P[V]&&P[V].isBubble&&P[V].visible&&P[V].zData.length)return V;V++}return-1}function L(P){P=P.allItems;const V=[],W=P.length;let R,se,S=0;for(se=0;se<W;se++){var X=P[se].legendItem||{};if(R=(P[se+1]||{}).legendItem||{},X.labelHeight&&(P[se].itemHeight=X.labelHeight),P[se]===P[W-1]||X.y!==R.y){for(V.push({height:0}),X=V[V.length-1],S;S<=se;S++)P[S].itemHeight>X.height&&(X.height=P[S].itemHeight);X.step=se}}return V}function ee(P){const V=this.bubbleLegend,W=this.options,R=W.bubbleLegend,se=b(this.chart);V&&V.ranges&&V.ranges.length&&(R.ranges.length&&(R.autoRanges=!!R.ranges[0].autoRanges),this.destroyItem(V)),0<=se&&W.enabled&&R.enabled&&(R.seriesIndex=se,this.bubbleLegend=new h(R,this),this.bubbleLegend.addToLegend(P.allItems))}function F(P){if(P.defaultPrevented)return!1;var V=this.chart;P=this.visible;const W=this.chart.legend;W&&W.bubbleLegend&&(this.visible=!P,this.ignoreSeries=P,V=0<=b(V),W.bubbleLegend.visible!==V&&(W.update({bubbleLegend:{enabled:V}}),W.bubbleLegend.visible=V),this.visible=P)}function Z(P,V){const W=P.options.rtl;let R,se,S,X,I=0;P.allItems.forEach(($,K)=>{X=$.legendItem||{},X.group&&(R=X.group.translateX||0,se=X.y||0,((S=$.movementX)||W&&$.ranges)&&(S=W?R-$.options.maxSize/2:R+S,X.group.attr({translateX:S})),K>V[I].step&&I++,X.group.attr({translateY:Math.round(se+V[I].height/2)}),X.y=se+V[I].height/2)})}const{setOptions:ne}=p,{addEvent:z,objectEach:G,wrap:ae}=y,B=[];return{compose:function(P,V,W){y.pushUnique(B,P)&&(ne({legend:{bubbleLegend:l}}),ae(P.prototype,"drawChartBox",s)),y.pushUnique(B,V)&&z(V,"afterGetAllItems",ee),y.pushUnique(B,W)&&z(W,"legendItemClick",F)}}}),a(i,"Series/Bubble/BubblePoint.js",[i["Core/Series/Point.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,p){({seriesTypes:{scatter:{prototype:{pointClass:h}}}}=h),{extend:p}=p;class y extends h{constructor(){super(...arguments),this.series=this.options=void 0}haloPath(b){return l.prototype.haloPath.call(this,b===0?0:(this.marker&&this.marker.radius||0)+b)}}return p(y.prototype,{ttBelow:!1}),y}),a(i,"Series/Bubble/BubbleSeries.js",[i["Series/Bubble/BubbleLegendComposition.js"],i["Series/Bubble/BubblePoint.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,p,y,s,b){function L(){const X=this.len,I=this.chart,$=this.isXAxis,K=$?"xData":"yData",q=this.min,J=this.max-q;let C=0,A=X,O=X/J,Q;this.series.forEach(fe=>{if(fe.bubblePadding&&(fe.visible||!I.options.chart.ignoreHiddenSeries)){Q=this.allowZoomOutside=!0;const Te=fe[K];if($&&((fe.onPoint||fe).getRadii(0,0,fe),fe.onPoint&&(fe.radii=fe.onPoint.radii)),0<J){let oe=Te.length;for(;oe--;)if(V(Te[oe])&&this.dataMin<=Te[oe]&&Te[oe]<=this.max){const Me=fe.radii&&fe.radii[oe]||0;C=Math.min((Te[oe]-q)*O-Me,C),A=Math.max((Te[oe]-q)*O+Me,A)}}}}),Q&&0<J&&!this.logarithmic&&(A-=X,O*=(X+Math.max(0,C)-Math.min(A,X))/X,[["min","userMin",C],["max","userMax",A]].forEach(fe=>{typeof R(this.options[fe[0]],this[fe[1]])>"u"&&(this[fe[0]]+=fe[2]/O)}))}const{parse:ee}=p;({noop:p}=y);const{series:F,seriesTypes:{column:{prototype:Z},scatter:ne}}=s,{addEvent:z,arrayMax:G,arrayMin:ae,clamp:B,extend:P,isNumber:V,merge:W,pick:R}=b,se=[];class S extends ne{constructor(){super(...arguments),this.zData=this.yData=this.radii=this.points=this.options=this.minPxSize=this.maxPxSize=this.data=void 0}static compose(I,$,K,q){l.compose($,K,q),b.pushUnique(se,I)&&(I.prototype.beforePadding=L)}animate(I){!I&&this.points.length<this.options.animationLimit&&this.points.forEach(function($){const{graphic:K}=$;K&&K.width&&(this.hasRendered||K.attr({x:$.plotX,y:$.plotY,width:1,height:1}),K.animate(this.markerAttribs($),this.options.animation))},this)}getRadii(){const I=this.zData,$=this.yData,K=[];let q,J,C,A=this.chart.bubbleZExtremes;const{minPxSize:O,maxPxSize:Q}=this.getPxExtremes();if(!A){let fe=Number.MAX_VALUE,Te=-Number.MAX_VALUE,oe;this.chart.series.forEach(Me=>{Me.bubblePadding&&(Me.visible||!this.chart.options.chart.ignoreHiddenSeries)&&(Me=(Me.onPoint||Me).getZExtremes())&&(fe=Math.min(R(fe,Me.zMin),Me.zMin),Te=Math.max(R(Te,Me.zMax),Me.zMax),oe=!0)}),oe?(A={zMin:fe,zMax:Te},this.chart.bubbleZExtremes=A):A={zMin:0,zMax:0}}for(J=0,q=I.length;J<q;J++)C=I[J],K.push(this.getRadius(A.zMin,A.zMax,O,Q,C,$&&$[J]));this.radii=K}getRadius(I,$,K,q,J,C){const A=this.options,O=A.sizeBy!=="width",Q=A.zThreshold;let fe=$-I,Te=.5;if(C===null||J===null)return null;if(V(J)){if(A.sizeByAbsoluteValue&&(J=Math.abs(J-Q),fe=Math.max($-Q,Math.abs(I-Q)),I=0),J<I)return K/2-1;0<fe&&(Te=(J-I)/fe)}return O&&0<=Te&&(Te=Math.sqrt(Te)),Math.ceil(K+Te*(q-K))/2}hasData(){return!!this.processedXData.length}pointAttribs(I,$){const K=this.options.marker.fillOpacity;return I=F.prototype.pointAttribs.call(this,I,$),K!==1&&(I.fill=ee(I.fill).setOpacity(K).get("rgba")),I}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){const{data:I,radii:$}=this,{minPxSize:K}=this.getPxExtremes();let q=I.length;for(;q--;){const J=I[q],C=$?$[q]:0;V(C)&&C>=K/2?(J.marker=P(J.marker,{radius:C,width:2*C,height:2*C}),J.dlBox={x:J.plotX-C,y:J.plotY-C,width:2*C,height:2*C}):(J.shapeArgs=J.plotY=J.dlBox=void 0,J.isInside=!1)}}getPxExtremes(){const I=Math.min(this.chart.plotWidth,this.chart.plotHeight);var $=q=>{let J;return typeof q=="string"&&(J=/%$/.test(q),q=parseInt(q,10)),J?I*q/100:q};const K=$(R(this.options.minSize,8));return $=Math.max($(R(this.options.maxSize,"20%")),K),{minPxSize:K,maxPxSize:$}}getZExtremes(){var I=this.options;const $=(this.zData||[]).filter(V);if($.length){const K=R(I.zMin,B(ae($),I.displayNegative===!1?I.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(I=R(I.zMax,G($)),V(K)&&V(I))return{zMin:K,zMax:I}}}}return S.defaultOptions=W(ne.defaultOptions,{dataLabels:{formatter:function(){const{numberFormatter:X}=this.series.chart,{z:I}=this.point;return V(I)?X(I,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),P(S.prototype,{alignDataLabel:Z.alignDataLabel,applyZones:p,bubblePadding:!0,buildKDTree:p,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:h,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),z(S,"updatedData",X=>{delete X.target.chart.bubbleZExtremes}),z(S,"remove",X=>{delete X.target.chart.bubbleZExtremes}),s.registerSeriesType("bubble",S),S}),a(i,"Series/ColumnRange/ColumnRangePoint.js",[i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h){const{seriesTypes:{column:{prototype:{pointClass:{prototype:p}}},arearange:{prototype:{pointClass:y}}}}=l,{extend:s,isNumber:b}=h;class L extends y{constructor(){super(...arguments),this.series=this.options=void 0}isValid(){return b(this.low)}}return s(L.prototype,{setState:p.setState}),L}),a(i,"Series/ColumnRange/ColumnRangeSeries.js",[i["Series/ColumnRange/ColumnRangePoint.js"],i["Core/Globals.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,p,y){({noop:h}=h);const{seriesTypes:{arearange:s,column:b,column:{prototype:L}}}=p,{addEvent:ee,clamp:F,extend:Z,isNumber:ne,merge:z,pick:G}=y;class ae extends s{setOptions(){return z(!0,arguments[0],{stacking:void 0}),s.prototype.setOptions.apply(this,arguments)}translate(){return L.translate.apply(this)}pointAttribs(){return L.pointAttribs.apply(this,arguments)}translate3dPoints(){return L.translate3dPoints.apply(this,arguments)}translate3dShapes(){return L.translate3dShapes.apply(this,arguments)}}return ae.defaultOptions=z(b.defaultOptions,s.defaultOptions,{borderRadius:{where:"all"},pointRange:null,marker:null,states:{hover:{halo:!1}}}),ee(ae,"afterColumnTranslate",function(){const B=this.yAxis,P=this.xAxis,V=P.startAngleRad,W=this.chart,R=this.xAxis.isRadial,se=Math.max(W.chartWidth,W.chartHeight)+999;let S,X,I,$;this.points.forEach(K=>{const q=K.shapeArgs||{},J=this.options.minPointLength,C=K.plotY,A=B.translate(K.high,0,1,0,1);if(ne(A)&&ne(C))if(K.plotHigh=F(A,-se,se),K.plotLow=F(C,-se,se),$=K.plotHigh,S=G(K.rectPlotY,K.plotY)-K.plotHigh,Math.abs(S)<J?(X=J-S,S+=X,$-=X/2):0>S&&(S*=-1,$-=S),R&&this.polar)I=K.barX+V,K.shapeType="arc",K.shapeArgs=this.polar.arc($+S,$,I,I+K.pointWidth);else{q.height=S,q.y=$;const{x:O=0,width:Q=0}=q;K.shapeArgs=z(K.shapeArgs,this.crispCol(O,$,Q,S)),K.tooltipPos=W.inverted?[B.len+B.pos-W.plotLeft-$-S/2,P.len+P.pos-W.plotTop-O-Q/2,S]:[P.left-W.plotLeft+O+Q/2,B.pos-W.plotTop+$+S/2,S]}})},{order:5}),Z(ae.prototype,{directTouch:!0,pointClass:l,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:L.adjustForMissingColumns,animate:L.animate,crispCol:L.crispCol,drawGraph:h,drawPoints:L.drawPoints,getSymbol:h,drawTracker:L.drawTracker,getColumnMetrics:L.getColumnMetrics}),p.registerSeriesType("columnrange",ae),ae}),a(i,"Series/ColumnPyramid/ColumnPyramidSeries.js",[i["Series/Column/ColumnSeries.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,p){const{prototype:y}=l,{clamp:s,merge:b,pick:L}=p;class ee extends l{constructor(){super(...arguments),this.points=this.options=this.data=void 0}translate(){let Z=this,ne=Z.chart,z=Z.options;var G=Z.dense=2>Z.closestPointRange*Z.xAxis.transA;G=Z.borderWidth=L(z.borderWidth,G?0:1);let ae=Z.yAxis,B=z.threshold,P=Z.translatedThreshold=ae.getThreshold(B),V=L(z.minPointLength,5),W=Z.getColumnMetrics(),R=W.width,se=Z.barW=Math.max(R,1+2*G),S=Z.pointXOffset=W.offset;ne.inverted&&(P-=.5),z.pointPadding&&(se=Math.ceil(se)),y.translate.apply(Z),Z.points.forEach(function(X){var I=L(X.yBottom,P),$=999+Math.abs(I),K=s(X.plotY,-$,ae.len+$);$=X.plotX+S;let q=se/2,J=Math.min(K,I);I=Math.max(K,I)-J;var C;let A,O;X.barX=$,X.pointWidth=R,X.tooltipPos=ne.inverted?[ae.len+ae.pos-ne.plotLeft-K,Z.xAxis.len-$-q,I]:[$+q,K+ae.pos-ne.plotTop,I],K=B+(X.total||X.y),z.stacking==="percent"&&(K=B+(0>X.y)?-100:100),K=ae.toPixels(K,!0);var Q=(C=ne.plotHeight-K-(ne.plotHeight-P))?q*(J-K)/C:0,fe=C?q*(J+I-K)/C:0;C=$-Q+q,Q=$+Q+q;var Te=$+fe+q;fe=$-fe+q,A=J-V,O=J+I,0>X.y&&(A=J,O=J+I+V),ne.inverted&&(Te=ae.width-J,C=K-(ae.width-P),Q=q*(K-Te)/C,fe=q*(K-(Te-I))/C,C=$+q+Q,Q=C-2*Q,Te=$-fe+q,fe=$+fe+q,A=J,O=J+I-V,0>X.y&&(O=J+I+V)),X.shapeType="path",X.shapeArgs={x:C,y:A,width:Q-C,height:I,d:[["M",C,A],["L",Q,A],["L",Te,O],["L",fe,O],["Z"]]}})}}return ee.defaultOptions=b(l.defaultOptions,{}),h.registerSeriesType("columnpyramid",ee),ee}),a(i,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),a(i,"Series/ErrorBar/ErrorBarSeries.js",[i["Series/BoxPlot/BoxPlotSeries.js"],i["Series/Column/ColumnSeries.js"],i["Series/ErrorBar/ErrorBarSeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,p,y,s){const{arearange:b}=y.seriesTypes,{addEvent:L,merge:ee,extend:F}=s;class Z extends l{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||h.prototype.getColumnMetrics.call(this)}drawDataLabels(){const z=this.pointValKey;b&&(b.prototype.drawDataLabels.call(this),this.data.forEach(function(G){G.y=G[z]}))}toYData(z){return[z.low,z.high]}}return Z.defaultOptions=ee(l.defaultOptions,p),L(Z,"afterTranslate",function(){this.points.forEach(ne=>{ne.plotLow=ne.plotY})},{order:0}),F(Z.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),y.registerSeriesType("errorbar",Z),Z}),a(i,"Series/Gauge/GaugePoint.js",[i["Core/Series/SeriesRegistry.js"]],function(l){({series:{prototype:{pointClass:l}}}=l);class h extends l{constructor(){super(...arguments),this.shapeArgs=this.series=this.options=void 0}setState(y){this.state=y}}return h}),a(i,"Series/Gauge/GaugeSeries.js",[i["Series/Gauge/GaugePoint.js"],i["Core/Globals.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,p,y){({noop:h}=h);const{series:s,seriesTypes:{column:b}}=p,{clamp:L,isNumber:ee,extend:F,merge:Z,pick:ne,pInt:z,defined:G}=y;class ae extends s{constructor(){super(...arguments),this.yAxis=this.options=this.points=this.data=void 0}translate(){const P=this.yAxis,V=this.options,W=P.center;this.generatePoints(),this.points.forEach(R=>{const se=Z(V.dial,R.dial),S=z(se.radius)*W[2]/200,X=z(se.baseLength)*S/100,I=z(se.rearLength)*S/100,$=se.baseWidth,K=se.topWidth;let q=V.overshoot,J=P.startAngleRad+P.translate(R.y,void 0,void 0,void 0,!0);(ee(q)||V.wrap===!1)&&(q=ee(q)?q/180*Math.PI:0,J=L(J,P.startAngleRad-q,P.endAngleRad+q)),J=180*J/Math.PI,R.shapeType="path",R.shapeArgs={d:se.path||[["M",-I,-$/2],["L",X,-$/2],["L",S,-K/2],["L",S,K/2],["L",X,$/2],["L",-I,$/2],["Z"]],translateX:W[0],translateY:W[1],rotation:J},R.plotX=W[0],R.plotY=W[1],G(R.y)&&P.max-P.min&&(R.percentage=(R.y-P.min)/(P.max-P.min)*100)})}drawPoints(){const P=this,V=P.chart,W=P.yAxis.center,R=P.pivot,se=P.options,S=se.pivot,X=V.renderer;P.points.forEach(I=>{const $=I.graphic,K=I.shapeArgs,q=K.d,J=Z(se.dial,I.dial);$?($.animate(K),K.d=q):I.graphic=X[I.shapeType](K).addClass("highcharts-dial").add(P.group),V.styledMode||I.graphic[$?"animate":"attr"]({stroke:J.borderColor,"stroke-width":J.borderWidth,fill:J.backgroundColor})}),R?R.animate({translateX:W[0],translateY:W[1]}):S&&(P.pivot=X.circle(0,0,S.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(W[0],W[1]).add(P.group),V.styledMode||P.pivot.attr({fill:S.backgroundColor,stroke:S.borderColor,"stroke-width":S.borderWidth}))}animate(P){const V=this;P||V.points.forEach(W=>{const R=W.graphic;R&&(R.attr({rotation:180*V.yAxis.startAngleRad/Math.PI}),R.animate({rotation:W.shapeArgs.rotation},V.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),s.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(P,V){s.prototype.setData.call(this,P,!1),this.processData(),this.generatePoints(),ne(V,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return ae.defaultOptions=Z(s.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),F(ae.prototype,{angular:!0,directTouch:!0,drawGraph:h,drawTracker:b.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:l,trackerGroups:["group","dataLabelsGroup"]}),p.registerSeriesType("gauge",ae),ae}),a(i,"Series/DragNodesComposition.js",[i["Core/Utilities.js"]],function(l){function h(){const s=this;let b,L,ee;s.container&&(b=p(s.container,"mousedown",F=>{const Z=s.hoverPoint;Z&&Z.series&&Z.series.hasDraggableNodes&&Z.series.options.draggable&&(Z.series.onMouseDown(Z,F),L=p(s.container,"mousemove",ne=>Z&&Z.series&&Z.series.onMouseMove(Z,ne)),ee=p(s.container.ownerDocument,"mouseup",ne=>(L(),ee(),Z&&Z.series&&Z.series.onMouseUp(Z,ne))))})),p(s,"destroy",function(){b()})}const{addEvent:p}=l,y=[];return{compose:function(s){l.pushUnique(y,s)&&p(s,"load",h)},onMouseDown:function(s,b){b=this.chart.pointer.normalize(b),s.fixedPosition={chartX:b.chartX,chartY:b.chartY,plotX:s.plotX,plotY:s.plotY},s.inDragMode=!0},onMouseMove:function(s,b){if(s.fixedPosition&&s.inDragMode){const F=this.chart;b=F.pointer.normalize(b);var L=s.fixedPosition.chartX-b.chartX,ee=s.fixedPosition.chartY-b.chartY;b=F.graphLayoutsLookup,(5<Math.abs(L)||5<Math.abs(ee))&&(L=s.fixedPosition.plotX-L,ee=s.fixedPosition.plotY-ee,F.isInsidePlot(L,ee)&&(s.plotX=L,s.plotY=ee,s.hasDragged=!0,this.redrawHalo(s),b.forEach(Z=>{Z.restartSimulation()})))}},onMouseUp:function(s,b){s.fixedPosition&&(s.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),s.inDragMode=s.hasDragged=!1,this.options.fixedDraggable||delete s.fixedPosition)},redrawHalo:function(s){s&&this.halo&&this.halo.attr({d:s.haloPath(this.options.states.hover.halo.size)})}}}),a(i,"Series/GraphLayoutComposition.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Utilities.js"]],function(l,h){function p(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(Z=>{Z.updateSimulation()}),this.redraw())}function y(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(Z=>{Z.updateSimulation(!1)}),this.redraw())}function s(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(Z=>{Z.stop()})}function b(){let Z,ne=!1;const z=G=>{G.maxIterations--&&isFinite(G.temperature)&&!G.isStable()&&!G.enableSimulation&&(G.beforeStep&&G.beforeStep(),G.step(),Z=!1,ne=!0)};if(this.graphLayoutsLookup){for(L(!1,this),this.graphLayoutsLookup.forEach(G=>G.start());!Z;)Z=!0,this.graphLayoutsLookup.forEach(z);ne&&this.series.forEach(G=>{G&&G.layout&&G.render()})}}const{setAnimation:L}=l,{addEvent:ee}=h,F=[];return{compose:function(Z){h.pushUnique(F,Z)&&(ee(Z,"afterPrint",p),ee(Z,"beforePrint",y),ee(Z,"predraw",s),ee(Z,"render",b))},integrations:{},layouts:{}}}),a(i,"Series/PackedBubble/PackedBubblePoint.js",[i["Core/Chart/Chart.js"],i["Core/Series/Point.js"],i["Core/Series/SeriesRegistry.js"]],function(l,h,p){({seriesTypes:{bubble:{prototype:{pointClass:p}}}}=p);class y extends p{constructor(){super(...arguments),this.radius=this.mass=this.degree=NaN,this.series=this.options=void 0,this.value=null}destroy(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),h.prototype.destroy.apply(this,arguments)}firePointEvent(){const b=this.series.options;if(this.isParentNode&&b.parentNode){const L=b.allowPointSelect;b.allowPointSelect=b.parentNode.allowPointSelect,h.prototype.firePointEvent.apply(this,arguments),b.allowPointSelect=L}else h.prototype.firePointEvent.apply(this,arguments)}select(){const b=this.series.chart;this.isParentNode?(b.getSelectedPoints=b.getSelectedParentNodes,h.prototype.select.apply(this,arguments),b.getSelectedPoints=l.prototype.getSelectedPoints):h.prototype.select.apply(this,arguments)}}return y}),a(i,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[i["Core/Utilities.js"]],function(l){const{isNumber:h}=l;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){const{numberFormatter:p}=this.series.chart,{value:y}=this.point;return h(y)?p(y,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),a(i,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(l,h,p){const y=l.getMass(),s=-p.x*h*this.diffTemperature;h=-p.y*h*this.diffTemperature,l.fromNode.fixedPosition||(l.fromNode.plotX-=s*y.fromNode/l.fromNode.degree,l.fromNode.plotY-=h*y.fromNode/l.fromNode.degree),l.toNode.fixedPosition||(l.toNode.plotX+=s*y.toNode/l.toNode.degree,l.toNode.plotY+=h*y.toNode/l.toNode.degree)},attractiveForceFunction:function(l,h){return(h-l)/l},barycenter:function(){let l=this.options.gravitationalConstant,h=this.barycenter.xFactor,p=this.barycenter.yFactor;h=(h-(this.box.left+this.box.width)/2)*l,p=(p-(this.box.top+this.box.height)/2)*l,this.nodes.forEach(function(y){y.fixedPosition||(y.plotX-=h/y.mass/y.degree,y.plotY-=p/y.mass/y.degree)})},getK:function(l){return Math.pow(l.box.width*l.box.height/l.nodes.length,.5)},integrate:function(l,h){var p=-l.options.friction;let y=l.options.maxSpeed,s=(h.plotX+h.dispX-h.prevX)*p;p*=h.plotY+h.dispY-h.prevY;var b=Math.abs;let L=b(s)/(s||1);b=b(p)/(p||1),s=L*Math.min(y,Math.abs(s)),p=b*Math.min(y,Math.abs(p)),h.prevX=h.plotX+h.dispX,h.prevY=h.plotY+h.dispY,h.plotX+=s,h.plotY+=p,h.temperature=l.vectorLength({x:s,y:p})},repulsive:function(l,h,p){h=h*this.diffTemperature/l.mass/l.degree,l.fixedPosition||(l.plotX+=p.x*h,l.plotY+=p.y*h)},repulsiveForceFunction:function(l,h){return(h-l)/l*(h>l?1:0)}}}),a(i,"Series/PackedBubble/PackedBubbleIntegration.js",[i["Core/Globals.js"],i["Series/Networkgraph/VerletIntegration.js"]],function(l,h){return{noop:l}=l,{barycenter:function(){const p=this.options.gravitationalConstant,y=this.box,s=this.nodes;let b,L;for(const ee of s)this.options.splitSeries&&!ee.isParentNode?(b=ee.series.parentNode.plotX,L=ee.series.parentNode.plotY):(b=y.width/2,L=y.height/2),ee.fixedPosition||(ee.plotX-=(ee.plotX-b)*p/(ee.mass*Math.sqrt(s.length)),ee.plotY-=(ee.plotY-L)*p/(ee.mass*Math.sqrt(s.length)))},getK:l,integrate:h.integrate,repulsive:function(p,y,s,b){const L=y*this.diffTemperature/p.mass/p.degree;y=s.x*L,s=s.y*L,p.fixedPosition||(p.plotX+=y,p.plotY+=s),b.fixedPosition||(b.plotX-=y,b.plotY-=s)},repulsiveForceFunction:function(p,y,s,b){return Math.min(p,(s.marker.radius+b.marker.radius)/2)}}}),a(i,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(l,h,p,y){const s=l.getMass(),b=p.x/y*h;h*=p.y/y,l.fromNode.fixedPosition||(l.fromNode.dispX-=b*s.fromNode/l.fromNode.degree,l.fromNode.dispY-=h*s.fromNode/l.fromNode.degree),l.toNode.fixedPosition||(l.toNode.dispX+=b*s.toNode/l.toNode.degree,l.toNode.dispY+=h*s.toNode/l.toNode.degree)},attractiveForceFunction:function(l,h){return l*l/h},barycenter:function(){const l=this.options.gravitationalConstant,h=this.barycenter.xFactor,p=this.barycenter.yFactor;this.nodes.forEach(function(y){if(!y.fixedPosition){var s=y.getDegree();s*=1+s/2,y.dispX+=(h-y.plotX)*l*s/y.degree,y.dispY+=(p-y.plotY)*l*s/y.degree}})},getK:function(l){return Math.pow(l.box.width*l.box.height/l.nodes.length,.3)},integrate:function(l,h){let p;h.dispX+=h.dispX*l.options.friction,h.dispY+=h.dispY*l.options.friction,p=h.temperature=l.vectorLength({x:h.dispX,y:h.dispY}),p!==0&&(h.plotX+=h.dispX/p*Math.min(Math.abs(h.dispX),l.temperature),h.plotY+=h.dispY/p*Math.min(Math.abs(h.dispY),l.temperature))},repulsive:function(l,h,p,y){l.dispX+=p.x/y*h/l.degree,l.dispY+=p.y/y*h/l.degree},repulsiveForceFunction:function(l,h){return h*h/l}}}),a(i,"Series/Networkgraph/QuadTreeNode.js",[],function(){class l{constructor(p){this.isInternal=this.isEmpty=this.body=!1,this.nodes=[],this.box=p,this.boxSize=Math.min(p.width,p.height)}divideBox(){const p=this.box.width/2,y=this.box.height/2;this.nodes[0]=new l({left:this.box.left,top:this.box.top,width:p,height:y}),this.nodes[1]=new l({left:this.box.left+p,top:this.box.top,width:p,height:y}),this.nodes[2]=new l({left:this.box.left+p,top:this.box.top+y,width:p,height:y}),this.nodes[3]=new l({left:this.box.left,top:this.box.top+y,width:p,height:y})}getBoxPosition(p){const y=p.plotY<this.box.top+this.box.height/2;return p.plotX<this.box.left+this.box.width/2?y?0:3:y?1:2}insert(p,y){this.isInternal?this.nodes[this.getBoxPosition(p)].insert(p,y-1):(this.isEmpty=!1,this.body?y?(this.isInternal=!0,this.divideBox(),this.body!==!0&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,y-1),this.body=!0),this.nodes[this.getBoxPosition(p)].insert(p,y-1)):(y=new l({top:p.plotX||NaN,left:p.plotY||NaN,width:.1,height:.1}),y.body=p,y.isInternal=!1,this.nodes.push(y)):(this.isInternal=!1,this.body=p))}updateMassAndCenter(){let p=0,y=0,s=0;if(this.isInternal){for(const b of this.nodes)b.isEmpty||(p+=b.mass,y+=b.plotX*b.mass,s+=b.plotY*b.mass);y/=p,s/=p}else this.body&&(p=this.body.mass,y=this.body.plotX,s=this.body.plotY);this.mass=p,this.plotX=y,this.plotY=s}}return l}),a(i,"Series/Networkgraph/QuadTree.js",[i["Series/Networkgraph/QuadTreeNode.js"]],function(l){class h{constructor(y,s,b,L){this.box={left:y,top:s,width:b,height:L},this.maxDepth=25,this.root=new l(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(y){y.updateMassAndCenter()})}insertNodes(y){for(const s of y)this.root.insert(s,this.maxDepth)}visitNodeRecursive(y,s,b){let L;if(y||(y=this.root),y===this.root&&s&&(L=s(y)),L!==!1){for(const ee of y.nodes){if(ee.isInternal){if(s&&(L=s(ee)),L===!1)continue;this.visitNodeRecursive(ee,s,b)}else ee.body&&s&&s(ee.body);b&&b(ee)}y===this.root&&b&&b(y)}}}return h}),a(i,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[i["Series/Networkgraph/EulerIntegration.js"],i["Core/Globals.js"],i["Series/GraphLayoutComposition.js"],i["Series/Networkgraph/QuadTree.js"],i["Core/Utilities.js"],i["Series/Networkgraph/VerletIntegration.js"]],function(l,h,p,y,s,b){const{win:L}=h,{clamp:ee,defined:F,isFunction:Z,fireEvent:ne,pick:z}=s;class G{constructor(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.repulsiveForce=this.quadTree=this.options=void 0,this.series=[],this.simulation=!1}static compose(B){p.compose(B),p.integrations.euler=l,p.integrations.verlet=b,p.layouts["reingold-fruchterman"]=G}init(B){this.options=B,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=p.integrations[B.integration],this.enableSimulation=B.enableSimulation,this.attractiveForce=z(B.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=z(B.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=B.approximation}updateSimulation(B){this.enableSimulation=z(B,this.options.enableSimulation)}start(){const B=this.series,P=this.options;this.currentStep=0,this.forces=B[0]&&B[0].forces||[],this.chart=B[0]&&B[0].chart,this.initialRendering&&(this.initPositions(),B.forEach(function(V){V.finishedAnimating=!0,V.render()})),this.setK(),this.resetSimulation(P),this.enableSimulation&&this.step()}step(){const B=this.series;this.currentStep++,this.approximation==="barnes-hut"&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(const P of this.forces||[])this[P+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(const P of B)P.chart&&P.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&L.cancelAnimationFrame(this.simulation),this.simulation=L.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(P=>{ne(P,"afterSimulation")}))}}stop(){this.simulation&&L.cancelAnimationFrame(this.simulation)}setArea(B,P,V,W){this.box={left:B,top:P,width:V,height:W}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(B,P){for(const V of B)P.indexOf(V)===-1&&P.push(V)}removeElementFromCollection(B,P){B=P.indexOf(B),B!==-1&&P.splice(B,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(B){this.maxIterations=z(B,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(B){this.initialRendering=B}createQuadTree(){this.quadTree=new y(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){const B=this.options.initialPositions;if(Z(B)){B.call(this);for(const P of this.nodes)F(P.prevX)||(P.prevX=P.plotX),F(P.prevY)||(P.prevY=P.plotY),P.dispX=0,P.dispY=0}else B==="circle"?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){const B=this.box;var P=this.nodes;const V=2*Math.PI/(P.length+1),W=P.filter(function(I){return I.linksTo.length===0}),R={},se=this.options.initialPositionRadius,S=I=>{for(const $ of I.linksFrom||[])R[$.toNode.id]||(R[$.toNode.id]=!0,X.push($.toNode),S($.toNode))};let X=[];for(const I of W)X.push(I),S(I);if(X.length)for(const I of P)X.indexOf(I)===-1&&X.push(I);else X=P;for(let I=0,$=X.length;I<$;++I)P=X[I],P.plotX=P.prevX=z(P.plotX,B.width/2+se*Math.cos(I*V)),P.plotY=P.prevY=z(P.plotY,B.height/2+se*Math.sin(I*V)),P.dispX=0,P.dispY=0}setRandomPositions(){const B=this.box,P=this.nodes,V=P.length+1,W=se=>(se=se*se/Math.PI,se-=Math.floor(se));let R;for(let se=0,S=P.length;se<S;++se)R=P[se],R.plotX=R.prevX=z(R.plotX,B.width*W(se)),R.plotY=R.prevY=z(R.plotY,B.height*W(V+se)),R.dispX=0,R.dispY=0}force(B,...P){this.integration[B].apply(this,P)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let B=0,P=0,V=0;for(const W of this.nodes)P+=W.plotX*W.mass,V+=W.plotY*W.mass,B+=W.mass;return this.barycenter={x:P,y:V,xFactor:P/B,yFactor:V/B}}barnesHutApproximation(B,P){const V=this.getDistXY(B,P),W=this.vectorLength(V);let R,se;return B!==P&&W!==0&&(P.isInternal?P.boxSize/W<this.options.theta&&W!==0?(se=this.repulsiveForce(W,this.k),this.force("repulsive",B,se*P.mass,V,W),R=!1):R=!0:(se=this.repulsiveForce(W,this.k),this.force("repulsive",B,se*P.mass,V,W))),R}repulsiveForces(){if(this.approximation==="barnes-hut")for(const B of this.nodes)this.quadTree.visitNodeRecursive(null,P=>this.barnesHutApproximation(B,P));else{let B,P,V;for(const W of this.nodes)for(const R of this.nodes)W===R||W.fixedPosition||(V=this.getDistXY(W,R),P=this.vectorLength(V),P!==0&&(B=this.repulsiveForce(P,this.k),this.force("repulsive",W,B*R.mass,V,P)))}}attractiveForces(){let B,P,V;for(const W of this.links)W.fromNode&&W.toNode&&(B=this.getDistXY(W.fromNode,W.toNode),P=this.vectorLength(B),P!==0&&(V=this.attractiveForce(P,this.k),this.force("attractive",W,V,B,P)))}applyLimits(){const B=this.nodes;for(const P of B){if(P.fixedPosition)break;this.integration.integrate(this,P),this.applyLimitBox(P,this.box),P.dispX=0,P.dispY=0}}applyLimitBox(B,P){const V=B.radius;B.plotX=ee(B.plotX,P.left+V,P.width-V),B.plotY=ee(B.plotY,P.top+V,P.height-V)}coolDown(B,P,V){return B-P*V}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature}getSystemTemperature(){let B=0;for(const P of this.nodes)B+=P.temperature;return B}vectorLength(B){return Math.sqrt(B.x*B.x+B.y*B.y)}getDistR(B,P){return B=this.getDistXY(B,P),this.vectorLength(B)}getDistXY(B,P){const V=B.plotX-P.plotX;return B=B.plotY-P.plotY,{x:V,y:B,absX:Math.abs(V),absY:Math.abs(B)}}}return G}),a(i,"Series/PackedBubble/PackedBubbleLayout.js",[i["Series/GraphLayoutComposition.js"],i["Series/PackedBubble/PackedBubbleIntegration.js"],i["Series/Networkgraph/ReingoldFruchtermanLayout.js"],i["Core/Utilities.js"]],function(l,h,p,y){function s(){const ne=[];return this.series.forEach(z=>{z.parentNode&&z.parentNode.selected&&ne.push(z.parentNode)}),ne}function b(){this.allDataPoints&&delete this.allDataPoints}const{addEvent:L,pick:ee}=y,F=[];class Z extends p{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.options=void 0,this.series=[]}static compose(z){p.compose(z),l.integrations.packedbubble=h,l.layouts.packedbubble=Z,y.pushUnique(F,z)&&(L(z,"beforeRedraw",b),z.prototype.getSelectedParentNodes=s)}beforeStep(){this.options.marker&&this.series.forEach(z=>{z&&z.calculateParentRadius()})}isStable(){const z=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&1e-5>z||0>=this.temperature}setCircularPositions(){const z=this.box;var G=this.nodes;const ae=2*Math.PI/(G.length+1),B=this.options.initialPositionRadius;let P,V=0;for(const W of G)this.options.splitSeries&&!W.isParentNode?(G=W.series.parentNode.plotX,P=W.series.parentNode.plotY):(G=z.width/2,P=z.height/2),W.plotX=W.prevX=ee(W.plotX,G+B*Math.cos(W.index||V*ae)),W.plotY=W.prevY=ee(W.plotY,P+B*Math.sin(W.index||V*ae)),W.dispX=0,W.dispY=0,V++}repulsiveForces(){const z=this,G=z.options.bubblePadding;let ae,B,P;z.nodes.forEach(V=>{V.degree=V.mass,V.neighbours=0,z.nodes.forEach(W=>{ae=0,V===W||V.fixedPosition||!z.options.seriesInteraction&&V.series!==W.series||(P=z.getDistXY(V,W),B=z.vectorLength(P)-(V.marker.radius+W.marker.radius+G),0>B&&(V.degree+=.01,V.neighbours++,ae=z.repulsiveForce(-B/Math.sqrt(V.neighbours),z.k,V,W)),z.force("repulsive",V,ae*W.mass,P,W,B))})})}applyLimitBox(z,G){let ae,B;this.options.splitSeries&&!z.isParentNode&&this.options.parentNodeLimit&&(ae=this.getDistXY(z,z.series.parentNode),B=z.series.parentNodeRadius-z.marker.radius-this.vectorLength(ae),0>B&&B>-2*z.marker.radius&&(z.plotX-=.01*ae.x,z.plotY-=.01*ae.y)),super.applyLimitBox(z,G)}}return l.layouts.packedbubble=Z}),a(i,"Series/SimulationSeriesUtilities.js",[i["Core/Utilities.js"],i["Core/Animation/AnimationUtilities.js"]],function(l,h){const{syncTimeout:p}=l,{animObject:y}=h;return{initDataLabels:function(){const s=this.options.dataLabels;if(!this.dataLabelsGroup){const b=this.initDataLabelsGroup();return!this.chart.styledMode&&(s!=null&&s.style)&&b.css(s.style),b.attr({opacity:0}),this.visible&&b.show(),b}return this.dataLabelsGroup.attr({opacity:1}),this.dataLabelsGroup},initDataLabelsDefer:function(){var s;const b=this.options.dataLabels;b!=null&&b.defer&&(!((s=this.options.layoutAlgorithm)===null||s===void 0)&&s.enableSimulation)?p(()=>{this.deferDataLabels=!1},b?y(b.animation).defer:0):this.deferDataLabels=!1}}}),a(i,"Series/PackedBubble/PackedBubbleSeries.js",[i["Core/Color/Color.js"],i["Series/DragNodesComposition.js"],i["Series/GraphLayoutComposition.js"],i["Core/Globals.js"],i["Series/PackedBubble/PackedBubblePoint.js"],i["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],i["Series/PackedBubble/PackedBubbleLayout.js"],i["Core/Series/SeriesRegistry.js"],i["Series/SimulationSeriesUtilities.js"],i["Core/Utilities.js"],i["Core/Animation/AnimationUtilities.js"]],function(l,h,p,y,s,b,L,ee,F,Z,ne){const{parse:z}=l;({noop:l}=y);const{series:{prototype:G},seriesTypes:{bubble:ae}}=ee,{initDataLabels:B,initDataLabelsDefer:P}=F,{addEvent:V,clamp:W,defined:R,extend:se,fireEvent:S,isArray:X,isNumber:I,merge:$,pick:K}=Z;class q extends ae{constructor(){super(...arguments),this.options=this.layout=this.data=this.chart=void 0,this.parentNodeMass=0,this.xData=this.points=void 0,this.deferDataLabels=!0}static compose(C,A,O,Q){ae.compose(C,A,O,Q),h.compose(A),L.compose(A)}accumulateAllPoints(){const C=this.chart,A=[];let O;for(const Q of C.series)if(Q.is("packedbubble")&&Q.visible||!C.options.chart.ignoreHiddenSeries){O=Q.yData||[];for(let fe=0;fe<O.length;fe++)A.push([null,null,O[fe],Q.index,fe,{id:fe,marker:{radius:0}}])}return A}addLayout(){const C=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},A=C.type||"packedbubble",O=this.chart.options.chart;let Q=this.chart.graphLayoutsStorage,fe=this.chart.graphLayoutsLookup,Te;Q||(this.chart.graphLayoutsStorage=Q={},this.chart.graphLayoutsLookup=fe=[]),Te=Q[A],Te||(C.enableSimulation=R(O.forExport)?!O.forExport:C.enableSimulation,Q[A]=Te=new p.layouts[A],Te.init(C),fe.splice(Te.index,0,Te)),this.layout=Te,this.points.forEach(oe=>{oe.mass=2,oe.degree=1,oe.collisionNmb=1}),Te.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),Te.addElementsToCollection([this],Te.series),Te.addElementsToCollection(this.points,Te.nodes)}addSeriesLayout(){var C=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{};const A=C.type||"packedbubble",O=this.chart.graphLayoutsStorage,Q=this.chart.graphLayoutsLookup;C=$(C,C.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation});let fe=O[A+"-series"];fe||(O[A+"-series"]=fe=new p.layouts[A],fe.init(C),Q.splice(fe.index,0,fe)),this.parentNodeLayout=fe,this.createParentNodes()}calculateParentRadius(){const C=this.seriesBox();this.parentNodeRadius=W(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,C?Math.max(Math.sqrt(Math.pow(C.width,2)+Math.pow(C.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let C=this.options.zMin,A=this.options.zMax,O=1/0,Q=-1/0;return C&&A?[C,A]:(this.chart.series.forEach(fe=>{fe.yData.forEach(Te=>{R(Te)&&(Te>Q&&(Q=Te),Te<O&&(O=Te))})}),C=K(C,O),A=K(A,Q),[C,A])}checkOverlap(C,A){const O=C[0]-A[0],Q=C[1]-A[1];return-.001>Math.sqrt(O*O+Q*Q)-Math.abs(C[2]+A[2])}createParentNodes(){const C=this.pointClass,A=this.chart,O=this.parentNodeLayout,Q=this.layout.options;let fe,Te=this.parentNode,oe={radius:this.parentNodeRadius,lineColor:this.color,fillColor:z(this.color).brighten(.4).get()};Q.parentNodeOptions&&(oe=$(Q.parentNodeOptions.marker||{},oe)),this.parentNodeMass=0,this.points.forEach(Me=>{this.parentNodeMass+=Math.PI*Math.pow(Me.marker.radius,2)}),this.calculateParentRadius(),O.nodes.forEach(Me=>{Me.seriesIndex===this.index&&(fe=!0)}),O.setArea(0,0,A.plotWidth,A.plotHeight),fe||(Te||(Te=new C().init(this,{mass:this.parentNodeRadius/2,marker:oe,dataLabels:{inside:!1},states:{normal:{marker:oe},hover:{marker:oe}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(Te.plotX=this.parentNode.plotX,Te.plotY=this.parentNode.plotY),this.parentNode=Te,O.addElementsToCollection([this],O.series),O.addElementsToCollection([Te],O.nodes))}deferLayout(){const C=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),C.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(C=>{C.removeElementFromCollection(this,C.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),G.destroy.apply(this,arguments)}drawDataLabels(){this.deferDataLabels||(G.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",G.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){if(this.layout&&this.layout.options.splitSeries){var C=this.chart,A=this.layout.options.parentNodeOptions.marker;A={fill:A.fillColor||z(this.color).brighten(.4).get(),opacity:A.fillOpacity,stroke:A.lineColor||this.color,"stroke-width":K(A.lineWidth,this.options.lineWidth)},this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,C.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius();var O=$({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},A);this.parentNode.graphic||(this.graph=this.parentNode.graphic=C.renderer.symbol(A.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(O)}}drawTracker(){const C=this.parentNode;let A;super.drawTracker(),C&&(A=X(C.dataLabels)?C.dataLabels:C.dataLabel?[C.dataLabel]:[],C.graphic&&(C.graphic.element.point=C),A.forEach(O=>{O.div?O.div.point=C:O.element.point=C}))}getPointRadius(){const C=this.chart,A=this.options,O=A.useSimulation,Q=Math.min(C.plotWidth,C.plotHeight),fe={},Te=[],oe=C.allDataPoints||[],Me=oe.length;let We,Qe,ie,ce;["minSize","maxSize"].forEach(Ce=>{const Be=parseInt(A[Ce],10),re=/%$/.test(A[Ce]);fe[Ce]=re?Q*Be/100:Be*Math.sqrt(Me)}),C.minRadius=We=fe.minSize/Math.sqrt(Me),C.maxRadius=Qe=fe.maxSize/Math.sqrt(Me);const pe=O?this.calculateZExtremes():[We,Qe];oe.forEach((Ce,Be)=>{ie=O?W(Ce[2],pe[0],pe[1]):Ce[2],ce=this.getRadius(pe[0],pe[1],We,Qe,ie),ce===0&&(ce=null),oe[Be][2]=ce,Te.push(ce)}),this.radii=Te}init(){return G.init.apply(this,arguments),P.call(this),this.eventsToUnbind.push(V(this,"updatedData",function(){this.chart.series.forEach(C=>{C.type===this.type&&(C.isDirty=!0)},this)})),this}onMouseUp(C){const A=C;if(A.fixedPosition&&!A.removed){const O=this.layout,Q=this.parentNodeLayout;let fe,Te;Q&&O.options.dragBetweenSeries&&Q.nodes.forEach(oe=>{A&&A.marker&&oe!==A.series.parentNode&&(fe=O.getDistXY(A,oe),Te=O.vectorLength(fe)-oe.marker.radius-A.marker.radius,0>Te&&(oe.series.addPoint($(A.options,{plotX:A.plotX,plotY:A.plotY}),!1),O.removeElementFromCollection(A,O.nodes),A.remove()))}),h.onMouseUp.apply(this,arguments)}}placeBubbles(C){const A=this.checkOverlap,O=this.positionBubble,Q=[];let fe=1,Te=0,oe=0;var Me=[];let We;if(C=C.sort((Qe,ie)=>ie[2]-Qe[2]),C.length){if(Q.push([[0,0,C[0][2],C[0][3],C[0][4]]]),1<C.length)for(Q.push([[0,0-C[1][2]-C[0][2],C[1][2],C[1][3],C[1][4]]]),We=2;We<C.length;We++)C[We][2]=C[We][2]||1,Me=O(Q[fe][Te],Q[fe-1][oe],C[We]),A(Me,Q[fe][0])?(Q.push([]),oe=0,Q[fe+1].push(O(Q[fe][Te],Q[fe][0],C[We])),fe++,Te=0):1<fe&&Q[fe-1][oe+1]&&A(Me,Q[fe-1][oe+1])?(oe++,Q[fe].push(O(Q[fe][Te],Q[fe-1][oe],C[We])),Te++):(Te++,Q[fe].push(Me));this.chart.stages=Q,this.chart.rawPositions=[].concat.apply([],Q),this.resizeRadius(),Me=this.chart.rawPositions}return Me}pointAttribs(C,A){var O=this.options;let Q=O.marker;return C&&C.isParentNode&&O.layoutAlgorithm&&O.layoutAlgorithm.parentNodeOptions&&(Q=O.layoutAlgorithm.parentNodeOptions.marker),O=Q.fillOpacity,C=G.pointAttribs.call(this,C,A),O!==1&&(C["fill-opacity"]=O),C}positionBubble(C,A,O){var Q=Math.sqrt,fe=Math.asin,Te=Math.acos;const oe=Math.pow,Me=Math.abs;return Q=Q(oe(C[0]-A[0],2)+oe(C[1]-A[1],2)),Te=Te((oe(Q,2)+oe(O[2]+A[2],2)-oe(O[2]+C[2],2))/(2*(O[2]+A[2])*Q)),fe=fe(Me(C[0]-A[0])/Q),C=(0>C[1]-A[1]?0:Math.PI)+Te+fe*(0>(C[0]-A[0])*(C[1]-A[1])?1:-1),[A[0]+(A[2]+O[2])*Math.sin(C),A[1]-(A[2]+O[2])*Math.cos(C),O[2],O[3],O[4]]}render(){const C=[];G.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(A=>{X(A.dataLabels)&&A.dataLabels.forEach(O=>{C.push(O)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(C))}resizeRadius(){const C=this.chart,A=C.rawPositions;var O=Math.min,Q=Math.max;const fe=C.plotLeft,Te=C.plotTop,oe=C.plotHeight,Me=C.plotWidth;let We,Qe,ie,ce,pe;We=ie=Number.POSITIVE_INFINITY,Qe=ce=Number.NEGATIVE_INFINITY;for(const Ce of A)pe=Ce[2],We=O(We,Ce[0]-pe),Qe=Q(Qe,Ce[0]+pe),ie=O(ie,Ce[1]-pe),ce=Q(ce,Ce[1]+pe);if(Q=[Qe-We,ce-ie],O=O.apply([],[(Me-fe)/Q[0],(oe-Te)/Q[1]]),1e-10<Math.abs(O-1)){for(const Ce of A)Ce[2]*=O;this.placeBubbles(A)}else C.diffY=oe/2+Te-ie-(ce-ie)/2,C.diffX=Me/2+fe-We-(Qe-We)/2}seriesBox(){const C=this.chart,A=Math.max,O=Math.min,Q=[C.plotLeft,C.plotLeft+C.plotWidth,C.plotTop,C.plotTop+C.plotHeight];let fe;return this.data.forEach(Te=>{R(Te.plotX)&&R(Te.plotY)&&Te.marker.radius&&(fe=Te.marker.radius,Q[0]=O(Q[0],Te.plotX-fe),Q[1]=A(Q[1],Te.plotX+fe),Q[2]=O(Q[2],Te.plotY-fe),Q[3]=A(Q[3],Te.plotY+fe))}),I(Q.width/Q.height)?Q:null}setVisible(){const C=this;G.setVisible.apply(C,arguments),C.parentNodeLayout&&C.graph?C.visible?(C.graph.show(),C.parentNode.dataLabel&&C.parentNode.dataLabel.show()):(C.graph.hide(),C.parentNodeLayout.removeElementFromCollection(C.parentNode,C.parentNodeLayout.nodes),C.parentNode.dataLabel&&C.parentNode.dataLabel.hide()):C.layout&&(C.visible?C.layout.addElementsToCollection(C.points,C.layout.nodes):C.points.forEach(A=>{C.layout.removeElementFromCollection(A,C.layout.nodes)}))}translate(){const C=this.chart,A=this.data,O=this.index,Q=this.options.useSimulation;let fe;if(this.processedXData=this.xData,this.generatePoints(),R(C.allDataPoints)||(C.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),Q)var Te=C.allDataPoints;else Te=this.placeBubbles(C.allDataPoints),this.options.draggable=!1;for(const oe of Te)oe[3]===O&&(Te=A[oe[4]],fe=K(oe[2],void 0),Q||(Te.plotX=oe[0]-C.plotLeft+C.diffX,Te.plotY=oe[1]-C.plotTop+C.diffY),I(fe)&&(Te.marker=se(Te.marker,{radius:fe,width:2*fe,height:2*fe}),Te.radius=fe));Q&&this.deferLayout(),S(this,"afterTranslate")}}return q.defaultOptions=$(ae.defaultOptions,b),se(q.prototype,{pointClass:s,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:B,alignDataLabel:G.alignDataLabel,indexateNodes:l,onMouseDown:h.onMouseDown,onMouseMove:h.onMouseMove,redrawHalo:h.redrawHalo,searchPoint:l}),ee.registerSeriesType("packedbubble",q),q}),a(i,"Series/Polygon/PolygonSeries.js",[i["Core/Globals.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,p){({noop:l}=l);const{series:y,seriesTypes:{area:s,line:b,scatter:L}}=h,{extend:ee,merge:F}=p;class Z extends L{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getGraphPath(){let z=b.prototype.getGraphPath.call(this),G=z.length+1;for(;G--;)(G===z.length||z[G][0]==="M")&&0<G&&z.splice(G,0,["Z"]);return this.areaPath=z}drawGraph(){this.options.fillColor=this.color,s.prototype.drawGraph.call(this)}}return Z.defaultOptions=F(L.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}),ee(Z.prototype,{type:"polygon",drawTracker:y.prototype.drawTracker,setStackedPoints:l}),h.registerSeriesType("polygon",Z),Z}),a(i,"Core/Axis/WaterfallAxis.js",[i["Core/Axis/Stacking/StackItem.js"],i["Core/Utilities.js"]],function(l,h){const{addEvent:p,objectEach:y}=h;var s;return function(b){function L(){const z=this.waterfall.stacks;z&&(z.changed=!1,delete z.alreadyChanged)}function ee(){const z=this.options.stackLabels;z&&z.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function F(){let z=this.axes,G=this.series,ae=G.length;for(;ae--;)G[ae].options.stacking&&(z.forEach(function(B){B.isXAxis||(B.waterfall.stacks.changed=!0)}),ae=0)}function Z(){this.waterfall||(this.waterfall=new ne(this))}class ne{constructor(G){this.axis=G,this.stacks={changed:!1}}renderStackTotals(){const G=this.axis,ae=G.waterfall.stacks,B=G.stacking&&G.stacking.stackTotalGroup,P=new l(G,G.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=P,B&&y(ae,function(V){y(V,function(W,R){P.total=W.stackTotal,P.x=+R,W.label&&(P.label=W.label),l.prototype.render.call(P,B),W.label=P.label,delete P.label})}),P.total=null}}b.Composition=ne,b.compose=function(z,G){p(z,"init",Z),p(z,"afterBuildStacks",L),p(z,"afterRender",ee),p(G,"beforeRedraw",F)}}(s||(s={})),s}),a(i,"Series/Waterfall/WaterfallPoint.js",[i["Series/Column/ColumnSeries.js"],i["Core/Series/Point.js"],i["Core/Utilities.js"]],function(l,h,p){const{isNumber:y}=p;class s extends l.prototype.pointClass{constructor(){super(...arguments),this.series=this.options=void 0}getClassName(){let L=h.prototype.getClassName.call(this);return this.isSum?L+=" highcharts-sum":this.isIntermediateSum&&(L+=" highcharts-intermediate-sum"),L}isValid(){return y(this.y)||this.isSum||!!this.isIntermediateSum}}return s}),a(i,"Series/Waterfall/WaterfallSeries.js",[i["Core/Axis/Axis.js"],i["Core/Chart/Chart.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"],i["Core/Axis/WaterfallAxis.js"],i["Series/Waterfall/WaterfallPoint.js"]],function(l,h,p,y,s,b){const{seriesTypes:{column:L,line:ee}}=p,{addEvent:F,arrayMax:Z,arrayMin:ne,correctFloat:z,extend:G,isNumber:ae,merge:B,objectEach:P,pick:V}=y;class W extends L{constructor(){super(...arguments),this.yData=this.yAxis=this.xData=this.stackKey=this.stackedYPos=this.stackedYNeg=this.points=this.options=this.data=this.chart=void 0}generatePoints(){L.prototype.generatePoints.apply(this);for(let se=0,S=this.points.length;se<S;se++){const X=this.points[se],I=this.processedYData[se];ae(I)&&(X.isIntermediateSum||X.isSum)&&(X.y=z(I))}}processData(se){let S=this.options,X=this.yData,I=S.data,$,K=X.length,q=S.threshold||0,J,C,A,O,Q,fe;for(fe=C=J=A=O=0;fe<K;fe++)Q=X[fe],$=I&&I[fe]?I[fe]:{},Q==="sum"||$.isSum?X[fe]=z(C):Q==="intermediateSum"||$.isIntermediateSum?(X[fe]=z(J),J=0):(C+=Q,J+=Q),A=Math.min(C,A),O=Math.max(C,O);super.processData.call(this,se),S.stacking||(this.dataMin=A+q,this.dataMax=O)}toYData(se){return se.isSum?"sum":se.isIntermediateSum?"intermediateSum":se.y}updateParallelArrays(se,S){super.updateParallelArrays.call(this,se,S),(this.yData[0]==="sum"||this.yData[0]==="intermediateSum")&&(this.yData[0]=null)}pointAttribs(se,S){const X=this.options.upColor;return X&&!se.options.color&&ae(se.y)&&(se.color=0<se.y?X:void 0),se=L.prototype.pointAttribs.call(this,se,S),delete se.dashstyle,se}getGraphPath(){return[["M",0,0]]}getCrispPath(){let se=this.data.filter(fe=>ae(fe.y)),S=this.yAxis,X=se.length,I=Math.round(this.graph.strokeWidth())%2/2,$=Math.round(this.borderWidth)%2/2,K=this.xAxis.reversed,q=this.yAxis.reversed,J=this.options.stacking,C=[];for(let fe=1;fe<X;fe++){if(!this.options.connectNulls&&!ae(this.data[se[fe].index-1].y))continue;var A=se[fe].box,O=se[fe-1];const Te=O.y||0,oe=se[fe-1].box;if(!A||!oe)continue;var Q=S.waterfall.stacks[this.stackKey];const Me=0<Te?-oe.height:0;Q&&oe&&A&&(Q=Q[fe-1],O=J?Math.round(S.translate(Q.connectorThreshold,!1,!0,!1,!0)+(q?Me:0))-I:oe.y+O.minPointLengthOffset+$-I,C.push(["M",(oe.x||0)+(K?0:oe.width||0),O],["L",(A.x||0)+(K&&A.width||0),O])),oe&&C.length&&(!J&&0>Te&&!q||0<Te&&q)&&((A=C[C.length-2])&&typeof A[2]=="number"&&(A[2]+=oe.height||0),(A=C[C.length-1])&&typeof A[2]=="number"&&(A[2]+=oe.height||0))}return C}drawGraph(){ee.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(){function se(pe,Ce,Be,re){if(A){if(Te)for(Be;Be<Te;Be++)A.stackState[Be]+=re;else A.stackState[0]=pe,Te=A.stackState.length;A.stackState.push(A.stackState[Te-1]+Ce)}}let S=this.options,X=this.yAxis.waterfall.stacks,I=S.threshold||0,$=I,K=$,q=this.stackKey,J=this.xData,C=J.length,A,O,Q,fe,Te,oe,Me,We;var Qe;let ie;if(this.yAxis.stacking.usePercentage=!1,O=Q=fe=$,this.visible||!this.chart.options.chart.ignoreHiddenSeries){if(ie=X.changed,(Qe=X.alreadyChanged)&&0>Qe.indexOf(q)&&(ie=!0),X[q]||(X[q]={}),Qe=X[q])for(let pe=0;pe<C;pe++){var ce=J[pe];(!Qe[ce]||ie)&&(Qe[ce]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:ie&&Qe[ce]?Qe[ce].label:void 0}),A=Qe[ce],We=this.yData[pe],0<=We?A.posTotal+=We:A.negTotal+=We,Me=S.data[pe],ce=A.absolutePos=A.posTotal,oe=A.absoluteNeg=A.negTotal,A.stackTotal=ce+oe,Te=A.stackState.length,Me&&Me.isIntermediateSum?(se(fe,Q,0,fe),fe=Q,Q=I,$^=K,K^=$,$^=K):Me&&Me.isSum?(se(I,O,Te,0),$=I):(se($,We,0,O),Me&&(O+=We,Q+=We)),A.stateIndex++,A.threshold=$,$+=A.stackTotal}X.changed=!1,X.alreadyChanged||(X.alreadyChanged=[]),X.alreadyChanged.push(q)}}getExtremes(){let se=this.options.stacking,S,X;if(se){var I=this.yAxis;return I=I.waterfall.stacks,S=this.stackedYNeg=[],X=this.stackedYPos=[],se==="overlap"?P(I[this.stackKey],function($){S.push(ne($.stackState)),X.push(Z($.stackState))}):P(I[this.stackKey],function($){S.push($.negTotal+$.threshold),X.push($.posTotal+$.threshold)}),{dataMin:ne(S),dataMax:Z(X)}}return{dataMin:this.dataMin,dataMax:this.dataMax}}}return W.defaultOptions=B(L.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),F(W,"afterColumnTranslate",function(){const{options:R,points:se,yAxis:S}=this,X=V(R.minPointLength,5),I=X/2,$=R.threshold||0,K=R.stacking,q=S.waterfall.stacks[this.stackKey];let J=$,C=$;for(let Te=0;Te<se.length;Te++){const oe=se[Te];var A=this.processedYData[Te];const Me=G({x:0,y:0,width:0,height:0},oe.shapeArgs||{});oe.box=Me;var O=[0,A],Q=oe.y||0;if(K){if(q){if(O=q[Te],K==="overlap"){var fe=O.stackState[O.stateIndex--];fe=0<=Q?fe:fe-Q,Object.hasOwnProperty.call(O,"absolutePos")&&delete O.absolutePos,Object.hasOwnProperty.call(O,"absoluteNeg")&&delete O.absoluteNeg}else 0<=Q?(fe=O.threshold+O.posTotal,O.posTotal-=Q):(fe=O.threshold+O.negTotal,O.negTotal-=Q,fe-=Q),!O.posTotal&&ae(O.absolutePos)&&Object.hasOwnProperty.call(O,"absolutePos")&&(O.posTotal=O.absolutePos,delete O.absolutePos),!O.negTotal&&ae(O.absoluteNeg)&&Object.hasOwnProperty.call(O,"absoluteNeg")&&(O.negTotal=O.absoluteNeg,delete O.absoluteNeg);oe.isSum||(O.connectorThreshold=O.threshold+O.stackTotal),S.reversed?A=0<=Q?fe-Q:fe+Q:(A=fe,fe-=Q),oe.below=A<=$,Me.y=S.translate(A,!1,!0,!1,!0),Me.height=Math.abs(Me.y-S.translate(fe,!1,!0,!1,!0)),(fe=S.waterfall.dummyStackItem)&&(fe.x=Te,fe.label=q[Te].label,fe.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[Te],this.stackedYPos[Te],void 0,this.xAxis))}}else fe=Math.max(C,C+Q)+O[0],Me.y=S.translate(fe,!1,!0,!1,!0),oe.isSum?(Me.y=S.translate(O[1],!1,!0,!1,!0),Me.height=Math.min(S.translate(O[0],!1,!0,!1,!0),S.len)-Me.y,oe.below=O[1]<=$):oe.isIntermediateSum?(0<=Q?(A=O[1]+J,fe=J):(A=J,fe=O[1]+J),S.reversed&&(A^=fe,fe^=A,A^=fe),Me.y=S.translate(A,!1,!0,!1,!0),Me.height=Math.abs(Me.y-Math.min(S.translate(fe,!1,!0,!1,!0),S.len)),J+=O[1],oe.below=A<=$):(Me.height=0<A?S.translate(C,!1,!0,!1,!0)-Me.y:S.translate(C,!1,!0,!1,!0)-S.translate(C-A,!1,!0,!1,!0),C+=A,oe.below=C<$),0>Me.height&&(Me.y+=Me.height,Me.height*=-1);oe.plotY=Me.y=Math.round(Me.y||0)-this.borderWidth%2/2,Me.height=Math.max(Math.round(Me.height||0),.001),oe.yBottom=Me.y+Me.height,Me.height<=X&&!oe.isNull?(Me.height=X,Me.y-=I,oe.plotY=Me.y,oe.minPointLengthOffset=0>Q?-I:I):(oe.isNull&&(Me.width=0),oe.minPointLengthOffset=0),Q=oe.plotY+(oe.negative?Me.height:0),oe.below&&(oe.plotY+=Me.height),oe.tooltipPos&&(this.chart.inverted?oe.tooltipPos[0]=S.len-Q:oe.tooltipPos[1]=Q),oe.isInside=this.isPointInside(oe),B(!0,oe.shapeArgs,Me)}},{order:2}),G(W.prototype,{getZonesGraphs:ee.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:b}),p.registerSeriesType("waterfall",W),s.compose(l,h),W}),a(i,"Core/Axis/RadialAxis.js",[i["Core/Axis/AxisDefaults.js"],i["Core/Defaults.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(l,h,p,y){const{defaultOptions:s}=h,{noop:b}=p,{addEvent:L,correctFloat:ee,defined:F,extend:Z,fireEvent:ne,merge:z,pick:G,relativeLength:ae,wrap:B}=y;var P;return function(V){function W(){this.autoConnect=this.isCircular&&typeof G(this.userMax,this.options.max)>"u"&&ee(this.endAngleRad-this.startAngleRad)===ee(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)}function R(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&this.options.labels.allowOverlap!==!0)return this.tickPositions.map(Y=>this.ticks[Y]&&this.ticks[Y].label).filter(Y=>!!Y)}}function se(){return b}function S(Y,de,me){const ke=this.pane.center;let Ie=Y.value,Ve;if(this.isCircular){if(F(Ie))Y.point&&(it=Y.point.shapeArgs||{},it.start&&(Ie=this.chart.inverted?this.translate(Y.point.rectPlotY,!0):Y.point.x));else{var it=Y.chartX||0;Ve=Y.chartY||0,Ie=this.translate(Math.atan2(Ve-me,it-de)-this.startAngleRad,!0)}Y=this.getPosition(Ie),it=Y.x,Ve=Y.y}else F(Ie)||(it=Y.chartX,Ve=Y.chartY),F(it)&&F(Ve)&&(me=ke[1]+this.chart.plotTop,Ie=this.translate(Math.min(Math.sqrt(Math.pow(it-de,2)+Math.pow(Ve-me,2)),ke[2]/2)-ke[3]/2,!0));return[Ie,it||0,Ve||0]}function X(Y,de,me){Y=this.pane.center;const ke=this.chart,Ie=this.left||0,Ve=this.top||0;let it=G(de,Y[2]/2-this.offset);return typeof me>"u"&&(me=this.horiz?0:this.center&&-this.center[3]/2),me&&(it+=me),this.isCircular||typeof de<"u"?(de=this.chart.renderer.symbols.arc(Ie+Y[0],Ve+Y[1],it,it,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}),de.xBounds=[Ie+Y[0]],de.yBounds=[Ve+Y[1]-it]):(de=this.postTranslate(this.angleRad,it),de=[["M",this.center[0]+ke.plotLeft,this.center[1]+ke.plotTop],["L",de.x,de.y]]),de}function I(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function $(Y,de,me){const ke=this.chart;var Ie=Vt=>{if(typeof Vt=="string"){let vi=parseInt(Vt,10);return Fe.test(Vt)&&(vi=vi*tt/100),vi}return Vt};const Ve=this.center;var it=this.startAngleRad;const tt=Ve[2]/2;var ht=Math.min(this.offset,0),Ee=this.left||0;const De=this.top||0,Fe=/%$/;var qe=this.isCircular;let He,xt=G(Ie(me.outerRadius),tt),jt=Ie(me.innerRadius);return Ie=G(Ie(me.thickness),10),this.options.gridLineInterpolation==="polygon"?ht=this.getPlotLinePath({value:Y}).concat(this.getPlotLinePath({value:de,reverse:!0})):(Y=Math.max(Y,this.min),de=Math.min(de,this.max),Y=this.translate(Y),de=this.translate(de),qe||(xt=Y||0,jt=de||0),me.shape!=="circle"&&qe?(me=it+(Y||0),it+=de||0):(me=-Math.PI/2,it=1.5*Math.PI,He=!0),xt-=ht,ht=ke.renderer.symbols.arc(Ee+Ve[0],De+Ve[1],xt,xt,{start:Math.min(me,it),end:Math.max(me,it),innerR:G(jt,xt-(Ie-ht)),open:He}),qe&&(qe=(it+me)/2,Ee=Ee+Ve[0]+Ve[2]/2*Math.cos(qe),ht.xBounds=qe>-Math.PI/2&&qe<Math.PI/2?[Ee,ke.plotWidth]:[0,Ee],ht.yBounds=[De+Ve[1]+Ve[2]/2*Math.sin(qe)],ht.yBounds[0]+=qe>-Math.PI&&0>qe||qe>Math.PI?-10:10)),ht}function K(Y){var de=this.pane.center,me=this.chart;const ke=me.inverted;var Ie=Y.reverse,Ve=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{};const it=Ve.innerRadius||"0%",tt=Ve.outerRadius||"100%";var ht=de[0]+me.plotLeft,Ee=de[1]+me.plotTop;const De=this.height,Fe=Y.isCrosshair;Ve=de[3]/2;var qe=Y.value;let He;var xt=this.getPosition(qe);let jt=xt.x;if(xt=xt.y,Fe&&(xt=this.getCrosshairPosition(Y,ht,Ee),qe=xt[0],jt=xt[1],xt=xt[2]),this.isCircular)qe=Math.sqrt(Math.pow(jt-ht,2)+Math.pow(xt-Ee,2)),Ie=typeof it=="string"?ae(it,1):it/qe,me=typeof tt=="string"?ae(tt,1):tt/qe,de&&Ve&&(Ve/=qe,Ie<Ve&&(Ie=Ve),me<Ve&&(me=Ve)),de=[["M",ht+Ie*(jt-ht),Ee-Ie*(Ee-xt)],["L",jt-(1-me)*(jt-ht),xt+(1-me)*(Ee-xt)]];else if((qe=this.translate(qe))&&(0>qe||qe>De)&&(qe=0),this.options.gridLineInterpolation==="circle")de=this.getLinePath(0,qe,Ve);else if(de=[],me[ke?"yAxis":"xAxis"].forEach(Vt=>{Vt.pane===this.pane&&(He=Vt)}),He)for(ht=He.tickPositions,He.autoConnect&&(ht=ht.concat([ht[0]])),Ie&&(ht=ht.slice().reverse()),qe&&(qe+=Ve),Ee=0;Ee<ht.length;Ee++)Ve=He.getPosition(ht[Ee],qe),de.push(Ee?["L",Ve.x,Ve.y]:["M",Ve.x,Ve.y]);return de}function q(Y,de){return Y=this.translate(Y),this.postTranslate(this.isCircular?Y:this.angleRad,G(this.isCircular?de:0>Y?0:Y,this.center[2]/2)-this.offset)}function J(){const Y=this.center,de=this.chart,me=this.options.title;return{x:de.plotLeft+Y[0]+(me.x||0),y:de.plotTop+Y[1]-{high:.5,middle:.25,low:0}[me.align]*Y[2]+(me.y||0)}}function C(Y){Y.beforeSetTickPositions=W,Y.createLabelCollector=R,Y.getCrosshairPosition=S,Y.getLinePath=X,Y.getOffset=I,Y.getPlotBandPath=$,Y.getPlotLinePath=K,Y.getPosition=q,Y.getTitlePosition=J,Y.postTranslate=We,Y.setAxisSize=ie,Y.setAxisTranslation=ce,Y.setOptions=pe}function A(){var Y=this.chart,de=this.options,me=this.pane,ke=me&&me.options;Y.angular&&this.isXAxis||!me||!Y.angular&&!Y.polar||(Y=2*Math.PI,me=(G(ke.startAngle,0)-90)*Math.PI/180,ke=(G(ke.endAngle,G(ke.startAngle,0)+360)-90)*Math.PI/180,this.angleRad=(de.angle||0)*Math.PI/180,this.startAngleRad=me,this.endAngleRad=ke,this.offset=de.offset||0,de=(me%Y+Y)%Y,ke=(ke%Y+Y)%Y,de>Math.PI&&(de-=Y),ke>Math.PI&&(ke-=Y),this.normalizedStartAngleRad=de,this.normalizedEndAngleRad=ke)}function O(Y){this.isRadial&&(Y.align=void 0,Y.preventDefault())}function Q(){if(this.chart&&this.chart.labelCollectors){const Y=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;0<=Y&&this.chart.labelCollectors.splice(Y,1)}}function fe(Y){const de=this.chart,me=de.inverted,ke=de.angular,Ie=de.polar,Ve=this.isXAxis,it=this.coll,tt=ke&&Ve;Y=Y.userOptions.pane||0,Y=this.pane=de.pane&&de.pane[Y];let ht;it==="colorAxis"?this.isRadial=!1:(ke?(tt?(this.isHidden=!0,this.createLabelCollector=se,this.getOffset=b,this.render=this.redraw=Qe,this.setTitle=this.setCategories=this.setScale=b):C(this),(ht=!Ve)&&(this.defaultPolarOptions=xe)):Ie&&(C(this),this.defaultPolarOptions=(ht=this.horiz)?re:z(it==="xAxis"?l.defaultXAxisOptions:l.defaultYAxisOptions,_e),me&&it==="yAxis"&&(this.defaultPolarOptions.stackLabels=l.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),ke||Ie?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&de.labelCollectors.push(this.labelCollector)):this.isRadial=!1,Y&&ht&&(Y.axis=this),this.isCircular=ht)}function Te(){this.isRadial&&this.beforeSetTickPositions()}function oe(Y){const de=this.label;if(de){var me=this.axis,ke=de.getBBox(),Ie=me.options.labels,Ve=(me.translate(this.pos)+me.startAngleRad+Math.PI/2)/Math.PI*180%360,it=Math.round(Ve),tt=F(Ie.y)?0:.3*-ke.height,ht=Ie.y,Ee=20,De=Ie.align,Fe="end",qe=0>it?it+360:it,He=qe,xt=0,jt=0;if(me.isRadial){var Vt=me.getPosition(this.pos,me.center[2]/2+ae(G(Ie.distance,-25),me.center[2]/2,-me.center[2]/2));Ie.rotation==="auto"?de.attr({rotation:Ve}):F(ht)||(ht=me.chart.renderer.fontMetrics(de).b-ke.height/2),F(De)||(me.isCircular?(ke.width>me.len*me.tickInterval/(me.max-me.min)&&(Ee=0),De=Ve>Ee&&Ve<180-Ee?"left":Ve>180+Ee&&Ve<360-Ee?"right":"center"):De="center",de.attr({align:De})),De==="auto"&&me.tickPositions.length===2&&me.isCircular&&(90<qe&&180>qe?qe=180-qe:270<qe&&360>=qe&&(qe=540-qe),180<He&&360>=He&&(He=360-He),(me.pane.options.startAngle===it||me.pane.options.startAngle===it+360||me.pane.options.startAngle===it-360)&&(Fe="start"),De=-90<=it&&90>=it||-360<=it&&-270>=it||270<=it&&360>=it?Fe==="start"?"right":"left":Fe==="start"?"left":"right",70<He&&110>He&&(De="center"),15>qe||180<=qe&&195>qe?xt=.3*ke.height:15<=qe&&35>=qe?xt=Fe==="start"?0:.75*ke.height:195<=qe&&215>=qe?xt=Fe==="start"?.75*ke.height:0:35<qe&&90>=qe?xt=Fe==="start"?.25*-ke.height:ke.height:215<qe&&270>=qe&&(xt=Fe==="start"?ke.height:.25*-ke.height),15>He?jt=Fe==="start"?.15*-ke.height:.15*ke.height:165<He&&180>=He&&(jt=Fe==="start"?.15*ke.height:.15*-ke.height),de.attr({align:De}),de.translate(jt,xt+tt)),Y.pos.x=Vt.x+(Ie.x||0),Y.pos.y=Vt.y+(ht||0)}}}function Me(Y){this.axis.getPosition&&Z(Y.pos,this.axis.getPosition(this.pos))}function We(Y,de){const me=this.chart,ke=this.center;return Y=this.startAngleRad+Y,{x:me.plotLeft+ke[0]+Math.cos(Y)*de,y:me.plotTop+ke[1]+Math.sin(Y)*de}}function Qe(){this.isDirty=!1}function ie(){let Y,de;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),Y=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(de=this.postTranslate(this.angleRad,Y[3]/2),Y[0]=de.x-this.chart.plotLeft,Y[1]=de.y-this.chart.plotTop),this.len=this.width=this.height=(Y[2]-Y[3])*G(this.sector,1)/2)}function ce(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function pe(Y){Y=this.options=z(this.constructor.defaultOptions,this.defaultPolarOptions,s[this.coll],Y),Y.plotBands||(Y.plotBands=[]),ne(this,"afterSetOptions")}function Ce(Y,de,me,ke,Ie,Ve,it){const tt=this.axis;return tt.isRadial?(Y=tt.getPosition(this.pos,tt.center[2]/2+ke),de=["M",de,me,"L",Y.x,Y.y]):de=Y.call(this,de,me,ke,Ie,Ve,it),de}const Be=[],re={gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},xe={labels:{align:"center",distance:-25,x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},_e={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};V.compose=function(Y,de){return y.pushUnique(Be,Y)&&(L(Y,"afterInit",A),L(Y,"autoLabelAlign",O),L(Y,"destroy",Q),L(Y,"init",fe),L(Y,"initialAxisTranslation",Te)),y.pushUnique(Be,de)&&(L(de,"afterGetLabelPosition",oe),L(de,"afterGetPosition",Me),B(de.prototype,"getMarkPath",Ce)),Y}}(P||(P={})),P}),a(i,"Series/PolarComposition.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Globals.js"],i["Core/Series/Series.js"],i["Extensions/Pane.js"],i["Core/Axis/RadialAxis.js"],i["Core/Utilities.js"]],function(l,h,p,y,s,b){function L(ie,ce,pe,Ce){var Be=Ce?1:0,re=0<=ce&&ce<=ie.length-1?ce:0>ce?ie.length-1+ce:0;ce=0>re-1?ie.length-(1+Be):re-1;var xe=ie[ce];Be=ie[re+1>ie.length-1?Be:re+1];var _e=xe.plotY,Y=Be.plotX,de=Be.plotY;Be=ie[re].plotX,re=ie[re].plotY,xe=(1.5*Be+xe.plotX)/2.5,_e=(1.5*re+_e)/2.5,Y=(1.5*Be+Y)/2.5;var me=(1.5*re+de)/2.5;de=Math.sqrt(Math.pow(xe-Be,2)+Math.pow(_e-re,2));const ke=Math.sqrt(Math.pow(Y-Be,2)+Math.pow(me-re,2));return xe=Math.atan2(_e-re,xe-Be),me=Math.PI/2+(xe+Math.atan2(me-re,Y-Be))/2,Math.abs(xe-me)>Math.PI/2&&(me-=Math.PI),xe=Be+Math.cos(me)*de,_e=re+Math.sin(me)*de,Y=Be+Math.cos(Math.PI+me)*ke,me=re+Math.sin(Math.PI+me)*ke,Be={rightContX:Y,rightContY:me,leftContX:xe,leftContY:_e,plotX:Be,plotY:re},pe&&(Be.prevPointCont=L(ie,ce,!1,Ce)),Be}function ee(){(this.pane||[]).forEach(ie=>{ie.render()})}function F(ie){const ce=ie.args[0].xAxis,pe=ie.args[0].yAxis;ie=ie.args[0].chart,ce&&pe&&(pe.gridLineInterpolation==="polygon"?(ce.startOnTick=!0,ce.endOnTick=!0):ce.gridLineInterpolation==="polygon"&&ie.inverted&&(pe.startOnTick=!0,pe.endOnTick=!0))}function Z(){this.pane||(this.pane=[]),this.options.pane=Te(this.options.pane),this.options.pane.forEach(ie=>{new y(ie,this)},this)}function ne(ie){var ce=ie.args.marker,pe=this.chart.xAxis[0],Ce=this.chart.yAxis[0],Be=this.chart.inverted;const re=Be?Ce:pe;if(pe=Be?pe:Ce,this.chart.polar){ie.preventDefault(),Ce=(ce.attr?ce.attr("start"):ce.start)-re.startAngleRad,Be=ce.attr?ce.attr("r"):ce.r;let xe=(ce.attr?ce.attr("end"):ce.end)-re.startAngleRad;ce=ce.attr?ce.attr("innerR"):ce.innerR,ie.result.x=Ce+re.pos,ie.result.width=xe-Ce,ie.result.y=pe.len+pe.pos-ce,ie.result.height=ce-Be}}function z(ie){var ce=this.chart;if(ce.polar&&ce.hoverPane&&ce.hoverPane.axis){ie.preventDefault();var pe=ce.hoverPane.center,Ce=this.mouseDownX||0;const Ve=this.mouseDownY||0;var Be=ie.args.chartY;const it=ie.args.chartX;var re=2*Math.PI,xe=ce.hoverPane.axis.startAngleRad,_e=ce.hoverPane.axis.endAngleRad,Y=ce.inverted?ce.xAxis[0]:ce.yAxis[0];const tt={};var de="arc";if(tt.x=pe[0]+ce.plotLeft,tt.y=pe[1]+ce.plotTop,this.zoomHor){var me=0<xe?_e-xe:Math.abs(xe)+Math.abs(_e),ke=Math.atan2(Ve-ce.plotTop-pe[1],Ce-ce.plotLeft-pe[0])-xe,Ie=Math.atan2(Be-ce.plotTop-pe[1],it-ce.plotLeft-pe[0])-xe;if(tt.r=pe[2]/2,tt.innerR=pe[3]/2,0>=ke&&(ke+=re),0>=Ie&&(Ie+=re),Ie<ke&&(Ie=[ke,ke=Ie][0]),me<re&&xe+Ie>_e+(re-me)/2&&(Ie=ke,ke=0>=xe?xe:0),re=tt.start=Math.max(ke+xe,xe),me=tt.end=Math.min(Ie+xe,_e),Y.options.gridLineInterpolation==="polygon"){if(de=ce.hoverPane.axis,Ie=re-de.startAngleRad+de.pos,ke=me-re,re=Y.getPlotLinePath({value:Y.max}),me=de.toValue(Ie),Ie=de.toValue(Ie+ke),me<de.getExtremes().min){const{min:ht,max:Ee}=de.getExtremes();me=Ee-(ht-me)}if(Ie<de.getExtremes().min){const{min:ht,max:Ee}=de.getExtremes();Ie=Ee-(ht-Ie)}Ie<me&&(Ie=[me,me=Ie][0]),re=P(re,me,Ie,de),re.push(["L",pe[0]+ce.plotLeft,ce.plotTop+pe[1]]),tt.d=re,de="path"}}this.zoomVert&&(Ie=ce.inverted?ce.xAxis[0]:ce.yAxis[0],Ce=Math.sqrt(Math.pow(Ce-ce.plotLeft-pe[0],2)+Math.pow(Ve-ce.plotTop-pe[1],2)),Be=Math.sqrt(Math.pow(it-ce.plotLeft-pe[0],2)+Math.pow(Be-ce.plotTop-pe[1],2)),Be<Ce&&(Ce=[Be,Be=Ce][0]),Be>pe[2]/2&&(Be=pe[2]/2),Ce<pe[3]/2&&(Ce=pe[3]/2),this.zoomHor||(tt.start=xe,tt.end=_e),tt.r=Be,tt.innerR=Ce,Ie.options.gridLineInterpolation==="polygon"&&(pe=Ie.toValue(Ie.len+Ie.pos-Ce),xe=Ie.toValue(Ie.len+Ie.pos-Be),pe=Ie.getPlotLinePath({value:xe}).concat(Ie.getPlotLinePath({value:pe,reverse:!0})),tt.d=pe,de="path")),this.zoomHor&&this.zoomVert&&Y.options.gridLineInterpolation==="polygon"&&(pe=ce.hoverPane.axis,Y=tt.start||0,xe=Y-pe.startAngleRad+pe.pos,_e=(tt.end||0)-Y,Y=pe.toValue(xe),pe=pe.toValue(xe+_e),tt.d instanceof Array&&(xe=tt.d.slice(0,tt.d.length/2),_e=tt.d.slice(tt.d.length/2,tt.d.length),_e=[..._e].reverse(),ce=ce.hoverPane.axis,xe=P(xe,Y,pe,ce),(_e=P(_e,Y,pe,ce))&&(_e[0][0]="L"),_e=[..._e].reverse(),tt.d=xe.concat(_e),de="path")),ie.attrs=tt,ie.shapeType=de}}function G(){const ie=this.chart;ie.polar&&(this.polar=new Qe(this),ie.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function ae(){if(this.chart.polar&&this.xAxis){const{xAxis:ie,yAxis:ce}=this,pe=this.chart;(this.kdByAngle=pe.tooltip&&pe.tooltip.shared)?this.searchPoint=B:this.options.findNearestPointBy="xy";const Ce=this.points;let Be=Ce.length;for(;Be--;)this.is("column")||this.is("columnrange")||this.polar.toXY(Ce[Be]),pe.hasParallelCoordinates||this.yAxis.reversed||(Q(Ce[Be].y,Number.MIN_VALUE)<ce.min||Ce[Be].x<ie.min||Ce[Be].x>ie.max?(Ce[Be].isNull=!0,Ce[Be].plotY=NaN):Ce[Be].isNull=Ce[Be].isValid&&!Ce[Be].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(q(this,"afterRender",function(){if(pe.polar){var re=this.yAxis.pane.center;if(this.clipCircle)this.clipCircle.animate({x:re[0],y:re[1],r:re[2]/2,innerR:re[3]/2});else{{var xe=pe.renderer,_e=re[0],Y=re[1],de=re[2]/2,me=re[3]/2;re=oe();const ke=xe.createElement("clipPath").attr({id:re}).add(xe.defs);xe=me?xe.arc(_e,Y,de,me,0,2*Math.PI).add(ke):xe.circle(_e,Y,de).add(ke),xe.id=re,xe.clipPath=ke}this.clipCircle=xe}this.group.clip(this.clipCircle),this.setClip=h.noop}})))}}function B(ie){const ce=this.chart;var pe=this.xAxis;return pe=pe.pane&&pe.pane.center,this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(ie.chartX-(pe&&pe[0]||0)-ce.plotLeft,ie.chartY-(pe&&pe[1]||0)-ce.plotTop)})}function P(ie,ce,pe,Ce){const Be=Ce.tickInterval;Ce=Ce.tickPositions;let re=C(Ce,_e=>_e>=pe),xe=C([...Ce].reverse(),_e=>_e<=ce);return J(re)||(re=Ce[Ce.length-1]),J(xe)||(xe=Ce[0],re+=Be,ie[0][0]="L",ie.unshift(ie[ie.length-3])),ie=ie.slice(Ce.indexOf(xe),Ce.indexOf(re)+1),ie[0][0]="M",ie}function V(ie,ce){return C(this.pane||[],function(pe){return pe.options.id===ce})||ie.call(this,ce)}function W(ie,ce,pe,Ce,Be,re){const xe=this.chart;var _e=Q(Ce.inside,!!this.options.stacking);xe.polar?(ie=ce.rectPlotX/Math.PI*180,xe.inverted?(this.forceDL=xe.isInsidePlot(ce.plotX,ce.plotY),_e&&ce.shapeArgs?(_e=ce.shapeArgs,_e=this.yAxis.postTranslate(((_e.start||0)+(_e.end||0))/2-this.xAxis.startAngleRad,ce.barX+ce.pointWidth/2),Be=O(Be,{x:_e.x-xe.plotLeft,y:_e.y-xe.plotTop})):ce.tooltipPos&&(Be=O(Be,{x:ce.tooltipPos[0],y:ce.tooltipPos[1]})),Ce.align=Q(Ce.align,"center"),Ce.verticalAlign=Q(Ce.verticalAlign,"middle")):(Ce.align===null&&(Ce.align=20<ie&&160>ie?"left":200<ie&&340>ie?"right":"center"),Ce.verticalAlign===null&&(Ce.verticalAlign=45>ie||315<ie?"bottom":135<ie&&225>ie?"top":"middle")),p.prototype.alignDataLabel.call(this,ce,pe,Ce,Be,re),this.isRadialBar&&ce.shapeArgs&&ce.shapeArgs.start===ce.shapeArgs.end?pe.hide():pe.show()):ie.call(this,ce,pe,Ce,Be,re)}function R(){const ie=this.options,ce=ie.stacking,pe=this.chart;var Ce=this.xAxis;const Be=this.yAxis,re=Be.reversed,xe=Be.center,_e=Ce.startAngleRad,Y=Ce.endAngleRad-_e;let de=0,me,ke,Ie,Ve=0;var it=0;if(Ce.isRadial){Ce=this.points,me=Ce.length,ke=Be.translate(Be.min),Ie=Be.translate(Be.max);var tt=ie.threshold||0;for(pe.inverted&&A(tt)&&(de=Be.translate(tt),J(de)&&(0>de?de=0:de>Y&&(de=Y),this.translatedThreshold=de+_e));me--;){tt=Ce[me];var ht=tt.barX,Ee=tt.x,De=tt.y;if(tt.shapeType="arc",pe.inverted){tt.plotY=Be.translate(De),ce&&Be.stacking?(De=Be.stacking.stacks[(0>De?"-":"")+this.stackKey],this.visible&&De&&De[Ee]&&!tt.isNull&&(it=De[Ee].points[this.getStackIndicator(void 0,Ee,this.index).key],Ve=Be.translate(it[0]),it=Be.translate(it[1]),J(Ve)&&(Ve=b.clamp(Ve,0,Y)))):(Ve=de,it=tt.plotY),Ve>it&&(it=[Ve,Ve=it][0]),re?it>ke?it=ke:Ve<Ie?Ve=Ie:(Ve>ke||it<Ie)&&(Ve=it=Y):Ve<ke?Ve=ke:it>Ie?it=Ie:(it<ke||Ve>Ie)&&(Ve=it=0),Be.min>Be.max&&(Ve=it=re?Y:0),Ve+=_e,it+=_e,xe&&(tt.barX=ht+=xe[3]/2),Ee=Math.max(ht,0),De=Math.max(ht+tt.pointWidth,0);var Fe=ie.borderRadius;Fe=fe((typeof Fe=="object"?Fe.radius:Fe)||0,De-Ee),tt.shapeArgs={x:xe[0],y:xe[1],r:De,innerR:Ee,start:Ve,end:it,borderRadius:Fe},tt.opacity=Ve===it?0:void 0,tt.plotY=(J(this.translatedThreshold)&&(Ve<this.translatedThreshold?Ve:it))-_e}else Ve=ht+_e,tt.shapeArgs=this.polar.arc(tt.yBottom,tt.plotY,Ve,Ve+tt.pointWidth),tt.shapeArgs.borderRadius=0;this.polar.toXY(tt),pe.inverted?(ht=Be.postTranslate(tt.rectPlotY,ht+tt.pointWidth/2),tt.tooltipPos=[ht.x-pe.plotLeft,ht.y-pe.plotTop]):tt.tooltipPos=[tt.plotX,tt.plotY],xe&&(tt.ttBelow=tt.plotY>xe[1])}}}function se(ie,ce){const pe=this;let Ce;if(this.chart.polar){ce=ce||this.points;for(let re=0;re<ce.length;re++)if(!ce[re].isNull){var Be=re;break}this.options.connectEnds!==!1&&typeof Be<"u"&&(this.connectEnds=!0,ce.splice(ce.length,0,ce[Be]),Ce=!0),ce.forEach(re=>{typeof re.polarPlotY>"u"&&pe.polar.toXY(re)})}return Be=ie.apply(this,[].slice.call(arguments,1)),Ce&&ce.pop(),Be}function S(ie,ce){const pe=this.chart;let Ce={xAxis:[],yAxis:[]};return pe.polar?pe.axes.forEach(Be=>{if(Be.coll!=="colorAxis"){var re=Be.isXAxis,xe=Be.center,_e=ce.chartX-xe[0]-pe.plotLeft;xe=ce.chartY-xe[1]-pe.plotTop,Ce[re?"xAxis":"yAxis"].push({axis:Be,value:Be.translate(re?Math.PI-Math.atan2(_e,xe):Math.sqrt(Math.pow(_e,2)+Math.pow(xe,2)),!0)})}}):Ce=ie.call(this,ce),Ce}function X(ie,ce){this.chart.polar||ie.call(this,ce)}function I(ie,ce){const pe=this,Ce=this.chart,Be=this.group,re=this.markerGroup,xe=this.xAxis&&this.xAxis.center,_e=Ce.plotLeft,Y=Ce.plotTop;let de=this.options.animation,me,ke,Ie,Ve,it;Ce.polar?pe.isRadialBar?ce||(pe.startAngleRad=Q(pe.translatedThreshold,pe.xAxis.startAngleRad),h.seriesTypes.pie.prototype.animate.call(pe,ce)):(de=K(de),pe.is("column")?ce||(me=xe[3]/2,pe.points.forEach(tt=>{ke=tt.graphic,Ve=(Ie=tt.shapeArgs)&&Ie.r,it=Ie&&Ie.innerR,ke&&Ie&&(ke.attr({r:me,innerR:me}),ke.animate({r:Ve,innerR:it},pe.options.animation))})):ce?(ie={translateX:xe[0]+_e,translateY:xe[1]+Y,scaleX:.001,scaleY:.001},Be.attr(ie),re&&re.attr(ie)):(ie={translateX:_e,translateY:Y,scaleX:1,scaleY:1},Be.animate(ie,de),re&&re.animate(ie,de))):ie.call(this,ce)}function $(ie,ce,pe,Ce){return this.chart.polar?Ce?(ie=L(ce,Ce,!0,this.connectEnds),ce=ie.prevPointCont&&ie.prevPointCont.rightContX,pe=ie.prevPointCont&&ie.prevPointCont.rightContY,ie=["C",A(ce)?ce:ie.plotX,A(pe)?pe:ie.plotY,A(ie.leftContX)?ie.leftContX:ie.plotX,A(ie.leftContY)?ie.leftContY:ie.plotY,ie.plotX,ie.plotY]):ie=["M",pe.plotX,pe.plotY]:ie=ie.call(this,ce,pe,Ce),ie}const{animObject:K}=l,{addEvent:q,defined:J,find:C,isNumber:A,merge:O,pick:Q,relativeLength:fe,splat:Te,uniqueKey:oe,wrap:Me}=b,We=[];class Qe{static compose(ce,pe,Ce,Be,re,xe,_e,Y,de){s.compose(ce,re),b.pushUnique(We,pe)&&(q(pe,"afterDrawChartBox",ee),q(pe,"getAxes",Z),q(pe,"init",F),Me(pe.prototype,"get",V)),b.pushUnique(We,Ce)&&(ce=Ce.prototype,Me(ce,"getCoordinates",S),Me(ce,"pinch",X),q(Ce,"getSelectionMarkerAttrs",z),q(Ce,"getSelectionBox",ne)),b.pushUnique(We,Be)&&(q(Be,"afterInit",G),q(Be,"afterTranslate",ae,{order:2}),q(Be,"afterColumnTranslate",R,{order:4}),Me(Be.prototype,"animate",I)),_e&&b.pushUnique(We,_e)&&(Ce=_e.prototype,Me(Ce,"alignDataLabel",W),Me(Ce,"animate",I)),Y&&b.pushUnique(We,Y)&&Me(Y.prototype,"getGraphPath",se),de&&b.pushUnique(We,de)&&(Y=de.prototype,Me(Y,"getPointSpline",$),xe&&b.pushUnique(We,xe)&&(xe.prototype.getPointSpline=Y.getPointSpline))}constructor(ce){this.series=ce}arc(ce,pe,Ce,Be){const re=this.series,xe=re.xAxis.center,_e=re.yAxis.len,Y=xe[3]/2;return pe=_e-pe+Y,ce=_e-Q(ce,_e)+Y,re.yAxis.reversed&&(0>pe&&(pe=Y),0>ce&&(ce=Y)),{x:xe[0],y:xe[1],r:pe,innerR:ce,start:Ce,end:Be}}toXY(ce){var pe=this.series;const Ce=pe.chart,Be=pe.xAxis;var re=pe.yAxis;const xe=ce.plotX,_e=Ce.inverted,Y=ce.y;let de=ce.plotY,me=_e?xe:re.len-de;_e&&pe&&!pe.isRadialBar&&(ce.plotY=de=A(Y)?re.translate(Y):0),ce.rectPlotX=xe,ce.rectPlotY=de,re.center&&(me+=re.center[3]/2),A(de)&&(re=_e?re.postTranslate(de,me):Be.postTranslate(xe,me),ce.plotX=ce.polarPlotX=re.x-Ce.plotLeft,ce.plotY=ce.polarPlotY=re.y-Ce.plotTop),pe.kdByAngle?(pe=(xe/Math.PI*180+Be.pane.options.startAngle)%360,0>pe&&(pe+=360),ce.clientX=pe):ce.clientX=ce.plotX}}return Qe}),a(i,"masters/highcharts-more.src.js",[i["Core/Globals.js"],i["Core/Series/SeriesRegistry.js"],i["Series/Bubble/BubbleSeries.js"],i["Series/PackedBubble/PackedBubbleSeries.js"],i["Series/PolarComposition.js"]],function(l,h,p,y,s){p.compose(l.Axis,l.Chart,l.Legend,l.Series),y.compose(l.Axis,l.Chart,l.Legend,l.Series),s.compose(l.Axis,l.Chart,l.Pointer,l.Series,l.Tick,h.seriesTypes.areasplinerange,h.seriesTypes.column,h.seriesTypes.line,h.seriesTypes.spline)})})})(FC);var Nj=FC.exports;const NC=om(Nj);NC(BC);const jj={components:{highcharts:zC.Chart},methods:{chartCallback(e){e.renderer.forExport||setInterval(function(){var i=e.series[0].points[0],a,l=Math.round((Math.random()-.5)*20);a=i.y+l,(a<0||a>200)&&(a=i.y-l),i.update(a)},3e3)}},data(){return{chartOptions:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1},title:{text:""},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:0,max:32,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#666",tickPixelInterval:30,tickWidth:0,tickPosition:"inside",tickLength:10,tickColor:"#666",labels:{step:2,distance:-50},title:{text:"Speed",y:150},plotBands:[{from:0,to:4,color:"#576D7E",thickness:40},{from:4,to:8,color:"#34485C",thickness:40},{from:8,to:12,color:"#60C5B8",thickness:40},{from:12,to:16,color:"#25B39E",thickness:40},{from:16,to:20,color:"#FCD062",thickness:40},{from:20,to:24,color:"#F8B84E",thickness:40},{from:24,to:28,color:"#F17F53",thickness:40},{from:28,to:32,color:"#F05542",thickness:40}]}],series:[{name:"Speed",data:[20],tooltip:{valueSuffix:" "}}]},chartOptions2:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1},title:{text:""},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:0,max:32,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#666",tickPixelInterval:30,tickWidth:0,tickPosition:"inside",tickLength:10,tickColor:"#666",labels:{step:2,distance:-50},title:{text:"Wind Speed",y:150},plotBands:[{from:0,to:4,color:"#576D7E",thickness:40},{from:4,to:8,color:"#34485C",thickness:40},{from:8,to:12,color:"#60C5B8",thickness:40},{from:12,to:16,color:"#25B39E",thickness:40},{from:16,to:20,color:"#FCD062",thickness:40},{from:20,to:24,color:"#F8B84E",thickness:40},{from:24,to:28,color:"#F17F53",thickness:40},{from:28,to:32,color:"#F05542",thickness:40}]}],series:[{name:"Speed",data:[20],tooltip:{valueSuffix:" "}}]},chartOptions3:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1},title:{text:""},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:0,max:32,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#666",tickPixelInterval:30,tickWidth:0,tickPosition:"inside",tickLength:10,tickColor:"#666",labels:{step:2,distance:-50},title:{text:"RPM",y:150},plotBands:[{from:0,to:4,color:"#576D7E",thickness:40},{from:4,to:8,color:"#34485C",thickness:40},{from:8,to:12,color:"#60C5B8",thickness:40},{from:12,to:16,color:"#25B39E",thickness:40},{from:16,to:20,color:"#FCD062",thickness:40},{from:20,to:24,color:"#F8B84E",thickness:40},{from:24,to:28,color:"#F17F53",thickness:40},{from:28,to:32,color:"#F05542",thickness:40}]}],series:[{name:"Speed",data:[20],tooltip:{valueSuffix:" "}}]},chartOptions4:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1},title:{text:""},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:0,max:32,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#666",tickPixelInterval:30,tickWidth:0,tickPosition:"inside",tickLength:10,tickColor:"#666",labels:{step:2,distance:-50},title:{text:"Turbo Charger",y:150},plotBands:[{from:0,to:4,color:"#576D7E",thickness:40},{from:4,to:8,color:"#34485C",thickness:40},{from:8,to:12,color:"#60C5B8",thickness:40},{from:12,to:16,color:"#25B39E",thickness:40},{from:16,to:20,color:"#FCD062",thickness:40},{from:20,to:24,color:"#F8B84E",thickness:40},{from:24,to:28,color:"#F17F53",thickness:40},{from:28,to:32,color:"#F05542",thickness:40}]}],series:[{name:"Speed",data:[20],tooltip:{valueSuffix:" "}}]}}}},Uj={class:"row"},Vj={class:"col-3"},Gj={class:"col-3"},Wj={class:"col-3"},$j={class:"col-3"};function Hj(e,i,a,l,h,p){const y=za("highcharts");return Dr(),ts("div",Uj,[ii("div",Vj,[vn(y,{options:h.chartOptions,callback:p.chartCallback},null,8,["options","callback"])]),ii("div",Gj,[vn(y,{options:h.chartOptions2,callback:p.chartCallback},null,8,["options","callback"])]),ii("div",Wj,[vn(y,{options:h.chartOptions3,callback:p.chartCallback},null,8,["options","callback"])]),ii("div",$j,[vn(y,{options:h.chartOptions4,callback:p.chartCallback},null,8,["options","callback"])])])}const qj=Jd(jj,[["render",Hj]]);NC(BC);const Xj={components:{highcharts:zC.Chart},methods:{chartCallback(e){e.renderer.forExport||setInterval(function(){var i=e.series[0].points[0],a,l=Math.round((Math.random()-.5)*20);a=i.y+l,(a<0||a>200)&&(a=i.y-l),i.update(a)},3e3)}},data(){return{fuelOptions:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1},title:{useHTML:!0,text:"<img src='https://cdn-icons-png.flaticon.com/512/710/710296.png' height='18px' alt='' />",y:180},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#FFF"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:0,max:32,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#fff",tickPixelInterval:32,tickWidth:5,tickPosition:"inside",tickLength:20,tickColor:"#0A2647",labels:{step:16,distance:10},title:{text:"",y:20},plotBands:[{from:0,to:4,color:"#0A2647"},{from:4,to:8,color:"#0A2647"},{from:8,to:12,color:"#0A2647"},{from:12,to:16,color:"#0A2647"},{from:16,to:20,color:"#0A2647"},{from:20,to:24,color:"#0A2647"},{from:24,to:28,color:"#0A2647"},{from:28,to:32,color:"#0A2647"}]}],series:[{name:"Speed",data:[20],tooltip:{valueSuffix:" "}}]}}}},Yj={class:"row"},Zj={class:"col position-relative"},Kj=ii("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"30%",left:"0",right:"0"}},"Total HFO (KL)",-1),Jj=ii("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"25%",left:"0",right:"0"}},"15.08 KL",-1),Qj={class:"col position-relative"},eU=ii("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"30%",left:"0",right:"0"}},"Total LS HFO (KL)",-1),tU=ii("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"25%",left:"0",right:"0"}},"2.94",-1),iU={class:"col position-relative"},nU=ii("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"30%",left:"0",right:"0"}},"Total MDO (KL)",-1),rU=ii("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"25%",left:"0",right:"0"}},"1.22",-1),sU={class:"col position-relative"},oU=ii("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"30%",left:"0",right:"0"}},"Total HSD (KL)",-1),aU=ii("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"25%",left:"0",right:"0"}},"2.01",-1),lU={class:"col position-relative"},cU=ii("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"30%",left:"0",right:"0"}},"Total (KL)",-1),hU=ii("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"25%",left:"0",right:"0"}},"21.25",-1);function dU(e,i,a,l,h,p){const y=za("highcharts");return Dr(),ts("div",Yj,[ii("div",Zj,[vn(y,{options:h.fuelOptions,callback:p.chartCallback},null,8,["options","callback"]),Kj,Jj]),ii("div",Qj,[vn(y,{options:h.fuelOptions,callback:p.chartCallback},null,8,["options","callback"]),eU,tU]),ii("div",iU,[vn(y,{options:h.fuelOptions,callback:p.chartCallback},null,8,["options","callback"]),nU,rU]),ii("div",sU,[vn(y,{options:h.fuelOptions,callback:p.chartCallback},null,8,["options","callback"]),oU,aU]),ii("div",lU,[vn(y,{options:h.fuelOptions,callback:p.chartCallback},null,8,["options","callback"]),cU,hU])])}const uU=Jd(Xj,[["render",dU]]),Qd=Dw({});Qd.component("map-dashboard",mF);Qd.component("map-history",PF);Qd.component("map-default",RF);Qd.component("map-voyage",HF);Qd.component("slider-submenu",zj);Qd.component("charts-speedometer",qj);Qd.component("charts-fuel",uU);Qd.config.globalProperties.$filters={dateformat(e,i="DD/MM/YYYY hh:mm"){return Ki(e,"YYYY-MM-DD hh:mm:ss").format(i)},str_limit(e,i=7){return e.toString().substring(0,i)}};Qd.mount("#app")});export default pU();
