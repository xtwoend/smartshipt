var ck=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{b as dk,T as hk}from"./tabler.esm-067b70b6.js";import"./popper-528ebbd5.js";var UJ=ck((HJ,yv)=>{var la=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Y5(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var c=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(s,a,c.get?c:{enumerable:!0,get:function(){return e[a]}})}),s}var vv={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */vv.exports;(function(e,t){(function(){var s,a="4.17.21",c=200,h="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",m="Expected a function",n="Invalid `variable` option passed into `_.template`",x="__lodash_hash_undefined__",z=500,Y="__lodash_placeholder__",O=1,V=2,q=4,L=1,I=2,H=1,M=2,C=4,A=8,U=16,$=32,E=64,ee=128,Q=256,N=512,j=30,W="...",S=800,P=16,f=1,g=2,b=3,D=1/0,X=9007199254740991,te=17976931348623157e292,Z=0/0,de=4294967295,ge=de-1,Ce=de>>>1,J=[["ary",ee],["bind",H],["bindKey",M],["curry",A],["curryRight",U],["flip",N],["partial",$],["partialRight",E],["rearg",Q]],oe="[object Arguments]",ce="[object Array]",pe="[object AsyncFunction]",Ee="[object Boolean]",ne="[object Date]",ye="[object DOMException]",_e="[object Error]",ae="[object Function]",me="[object GeneratorFunction]",we="[object Map]",Re="[object Number]",Le="[object Null]",$e="[object Object]",rt="[object Promise]",Qe="[object Proxy]",qe="[object RegExp]",Te="[object Set]",Oe="[object String]",ze="[object Symbol]",Xe="[object Undefined]",Ke="[object WeakMap]",pt="[object WeakSet]",Tt="[object ArrayBuffer]",Bt="[object DataView]",ci="[object Float32Array]",Wt="[object Float64Array]",ui="[object Int8Array]",ji="[object Int16Array]",Ii="[object Int32Array]",wi="[object Uint8Array]",Ci="[object Uint8ClampedArray]",sn="[object Uint16Array]",vn="[object Uint32Array]",Gn=/\b__p \+= '';/g,br=/\b(__p \+=) '' \+/g,us=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ps=/&(?:amp|lt|gt|quot|#39);/g,nn=/[&<>"']/g,qr=RegExp(Ps.source),zo=RegExp(nn.source),fa=/<%-([\s\S]+?)%>/g,Ko=/<%([\s\S]+?)%>/g,lr=/<%=([\s\S]+?)%>/g,No=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Va=/^\w*$/,ut=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fe=/[\\^$.*+?()[\]{}|]/g,We=RegExp(Fe.source),dt=/^\s+/,vt=/\s/,_t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Nt=/\{\n\/\* \[wrapped with (.+)\] \*/,Mt=/,? & /,Lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ut=/[()=,{}\[\]\/\s]/,mi=/\\(\\)?/g,Gi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Mi=/\w*$/,yn=/^[-+]0x[0-9a-f]+$/i,_n=/^0b[01]+$/i,an=/^\[object .+?Constructor\]$/,$i=/^0o[0-7]+$/i,Qn=/^(?:0|[1-9]\d*)$/,gs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,pn=/($^)/,Rs=/['\n\r\u2028\u2029\\]/g,xs="\\ud800-\\udfff",ma="\\u0300-\\u036f",ga="\\ufe20-\\ufe2f",Xr="\\u20d0-\\u20ff",di=ma+ga+Xr,Js="\\u2700-\\u27bf",_r="a-z\\xdf-\\xf6\\xf8-\\xff",yr="\\xac\\xb1\\xd7\\xf7",Gl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",oo="\\u2000-\\u206f",gc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ed="A-Z\\xc0-\\xd6\\xd8-\\xde",Vr="\\ufe0e\\ufe0f",Hi=yr+Gl+oo+gc,Vn="['’]",es="["+xs+"]",Eo="["+Hi+"]",_a="["+di+"]",An="\\d+",Vl="["+Js+"]",Jo="["+_r+"]",ka="[^"+xs+Hi+An+Js+_r+Ed+"]",Or="\\ud83c[\\udffb-\\udfff]",Ds="(?:"+_a+"|"+Or+")",Hr="[^"+xs+"]",yo="(?:\\ud83c[\\udde6-\\uddff]){2}",ml="[\\ud800-\\udbff][\\udc00-\\udfff]",Fo="["+Ed+"]",Ha="\\u200d",Wa="(?:"+Jo+"|"+ka+")",Pa="(?:"+Fo+"|"+ka+")",Ya="(?:"+Vn+"(?:d|ll|m|re|s|t|ve))?",_c="(?:"+Vn+"(?:D|LL|M|RE|S|T|VE))?",yc=Ds+"?",po="["+Vr+"]?",pr="(?:"+Ha+"(?:"+[Hr,yo,ml].join("|")+")"+po+yc+")*",gl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Da="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Rr=po+yc+pr,jo="(?:"+[Vl,yo,ml].join("|")+")"+Rr,Zd="(?:"+[Hr+_a+"?",_a,yo,ml,es].join("|")+")",Yc=RegExp(Vn,"g"),kr=RegExp(_a,"g"),_l=RegExp(Or+"(?="+Or+")|"+Zd+Rr,"g"),qc=RegExp([Fo+"?"+Jo+"+"+Ya+"(?="+[Eo,Fo,"$"].join("|")+")",Pa+"+"+_c+"(?="+[Eo,Fo+Wa,"$"].join("|")+")",Fo+"?"+Wa+"+"+Ya,Fo+"+"+_c,Da,gl,An,jo].join("|"),"g"),yl=RegExp("["+Ha+xs+di+Vr+"]"),Br=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qa=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xc=-1,ys={};ys[ci]=ys[Wt]=ys[ui]=ys[ji]=ys[Ii]=ys[wi]=ys[Ci]=ys[sn]=ys[vn]=!0,ys[oe]=ys[ce]=ys[Tt]=ys[Ee]=ys[Bt]=ys[ne]=ys[_e]=ys[ae]=ys[we]=ys[Re]=ys[$e]=ys[qe]=ys[Te]=ys[Oe]=ys[Ke]=!1;var Ts={};Ts[oe]=Ts[ce]=Ts[Tt]=Ts[Bt]=Ts[Ee]=Ts[ne]=Ts[ci]=Ts[Wt]=Ts[ui]=Ts[ji]=Ts[Ii]=Ts[we]=Ts[Re]=Ts[$e]=Ts[qe]=Ts[Te]=Ts[Oe]=Ts[ze]=Ts[wi]=Ts[Ci]=Ts[sn]=Ts[vn]=!0,Ts[_e]=Ts[ae]=Ts[Ke]=!1;var Zc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Kd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Md={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Uo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},vc=parseFloat,Kc=parseInt,vl=typeof la=="object"&&la&&la.Object===Object&&la,Mo=typeof self=="object"&&self&&self.Object===Object&&self,Pr=vl||Mo||Function("return this")(),G=t&&!t.nodeType&&t,le=G&&!0&&e&&!e.nodeType&&e,ve=le&&le.exports===G,Ae=ve&&vl.process,Ue=function(){try{var $t=le&&le.require&&le.require("util").types;return $t||Ae&&Ae.binding&&Ae.binding("util")}catch{}}(),Ve=Ue&&Ue.isArrayBuffer,Je=Ue&&Ue.isDate,Rt=Ue&&Ue.isMap,Et=Ue&&Ue.isRegExp,Xt=Ue&&Ue.isSet,hi=Ue&&Ue.isTypedArray;function Ti($t,gi,li){switch(li.length){case 0:return $t.call(gi);case 1:return $t.call(gi,li[0]);case 2:return $t.call(gi,li[0],li[1]);case 3:return $t.call(gi,li[0],li[1],li[2])}return $t.apply(gi,li)}function ni($t,gi,li,cn){for(var Nn=-1,bs=$t==null?0:$t.length;++Nn<bs;){var wr=$t[Nn];gi(cn,wr,li(wr),$t)}return cn}function ai($t,gi){for(var li=-1,cn=$t==null?0:$t.length;++li<cn&&gi($t[li],li,$t)!==!1;);return $t}function Vi($t,gi){for(var li=$t==null?0:$t.length;li--&&gi($t[li],li,$t)!==!1;);return $t}function Rn($t,gi){for(var li=-1,cn=$t==null?0:$t.length;++li<cn;)if(!gi($t[li],li,$t))return!1;return!0}function ln($t,gi){for(var li=-1,cn=$t==null?0:$t.length,Nn=0,bs=[];++li<cn;){var wr=$t[li];gi(wr,li,$t)&&(bs[Nn++]=wr)}return bs}function Qs($t,gi){var li=$t==null?0:$t.length;return!!li&&zn($t,gi,0)>-1}function Fs($t,gi,li){for(var cn=-1,Nn=$t==null?0:$t.length;++cn<Nn;)if(li(gi,$t[cn]))return!0;return!1}function is($t,gi){for(var li=-1,cn=$t==null?0:$t.length,Nn=Array(cn);++li<cn;)Nn[li]=gi($t[li],li,$t);return Nn}function ns($t,gi){for(var li=-1,cn=gi.length,Nn=$t.length;++li<cn;)$t[Nn+li]=gi[li];return $t}function On($t,gi,li,cn){var Nn=-1,bs=$t==null?0:$t.length;for(cn&&bs&&(li=$t[++Nn]);++Nn<bs;)li=gi(li,$t[Nn],Nn,$t);return li}function zr($t,gi,li,cn){var Nn=$t==null?0:$t.length;for(cn&&Nn&&(li=$t[--Nn]);Nn--;)li=gi(li,$t[Nn],Nn,$t);return li}function rs($t,gi){for(var li=-1,cn=$t==null?0:$t.length;++li<cn;)if(gi($t[li],li,$t))return!0;return!1}var js=$o("length");function ya($t){return $t.split("")}function xl($t){return $t.match(Lt)||[]}function Nr($t,gi,li){var cn;return li($t,function(Nn,bs,wr){if(gi(Nn,bs,wr))return cn=bs,!1}),cn}function Ao($t,gi,li,cn){for(var Nn=$t.length,bs=li+(cn?1:-1);cn?bs--:++bs<Nn;)if(gi($t[bs],bs,$t))return bs;return-1}function zn($t,gi,li){return gi===gi?Yl($t,gi,li):Ao($t,ko,li)}function Zr($t,gi,li,cn){for(var Nn=li-1,bs=$t.length;++Nn<bs;)if(cn($t[Nn],gi))return Nn;return-1}function ko($t){return $t!==$t}function fo($t,gi){var li=$t==null?0:$t.length;return li?Cs($t,gi)/li:Z}function $o($t){return function(gi){return gi==null?s:gi[$t]}}function bl($t){return function(gi){return $t==null?s:$t[gi]}}function Ia($t,gi,li,cn,Nn){return Nn($t,function(bs,wr,Es){li=cn?(cn=!1,bs):gi(li,bs,wr,Es)}),li}function Jc($t,gi){var li=$t.length;for($t.sort(gi);li--;)$t[li]=$t[li].value;return $t}function Cs($t,gi){for(var li,cn=-1,Nn=$t.length;++cn<Nn;){var bs=gi($t[cn]);bs!==s&&(li=li===s?bs:li+bs)}return li}function Go($t,gi){for(var li=-1,cn=Array($t);++li<$t;)cn[li]=gi(li);return cn}function xc($t,gi){return is(gi,function(li){return[li,$t[li]]})}function wl($t){return $t&&$t.slice(0,Jr($t)+1).replace(dt,"")}function mo($t){return function(gi){return $t(gi)}}function Sl($t,gi){return is(gi,function(li){return $t[li]})}function Hl($t,gi){return $t.has(gi)}function Ad($t,gi){for(var li=-1,cn=$t.length;++li<cn&&zn(gi,$t[li],0)>-1;);return li}function Tl($t,gi){for(var li=$t.length;li--&&zn(gi,$t[li],0)>-1;);return li}function Cl($t,gi){for(var li=$t.length,cn=0;li--;)$t[li]===gi&&++cn;return cn}var Jd=bl(Zc),El=bl(Kd);function kd($t){return"\\"+Uo[$t]}function Qo($t,gi){return $t==null?s:$t[gi]}function ea($t){return yl.test($t)}function Ml($t){return Br.test($t)}function Qc($t){for(var gi,li=[];!(gi=$t.next()).done;)li.push(gi.value);return li}function Wl($t){var gi=-1,li=Array($t.size);return $t.forEach(function(cn,Nn){li[++gi]=[Nn,cn]}),li}function Po($t,gi){return function(li){return $t(gi(li))}}function Kr($t,gi){for(var li=-1,cn=$t.length,Nn=0,bs=[];++li<cn;){var wr=$t[li];(wr===gi||wr===Y)&&($t[li]=Y,bs[Nn++]=li)}return bs}function Xa($t){var gi=-1,li=Array($t.size);return $t.forEach(function(cn){li[++gi]=cn}),li}function Al($t){var gi=-1,li=Array($t.size);return $t.forEach(function(cn){li[++gi]=[cn,cn]}),li}function Yl($t,gi,li){for(var cn=li-1,Nn=$t.length;++cn<Nn;)if($t[cn]===gi)return cn;return-1}function Oh($t,gi,li){for(var cn=li+1;cn--;)if($t[cn]===gi)return cn;return cn}function ls($t){return ea($t)?Za($t):js($t)}function vo($t){return ea($t)?Qd($t):ya($t)}function Jr($t){for(var gi=$t.length;gi--&&vt.test($t.charAt(gi)););return gi}var Do=bl(Md);function Za($t){for(var gi=_l.lastIndex=0;_l.test($t);)++gi;return gi}function Qd($t){return $t.match(_l)||[]}function eh($t){return $t.match(qc)||[]}var th=function $t(gi){gi=gi==null?Pr:xo.defaults(Pr.Object(),gi,xo.pick(Pr,qa));var li=gi.Array,cn=gi.Date,Nn=gi.Error,bs=gi.Function,wr=gi.Math,Es=gi.Object,ql=gi.RegExp,ed=gi.String,bo=gi.TypeError,st=li.prototype,kt=bs.prototype,Ft=Es.prototype,_i=gi["__core-js_shared__"],Gt=kt.toString,ri=Ft.hasOwnProperty,Ai=0,Xi=function(){var _=/[^.]+$/.exec(_i&&_i.keys&&_i.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}(),Li=Ft.toString,Cn=Gt.call(Es),kn=Pr._,Dn=ql("^"+Gt.call(ri).replace(Fe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Hn=ve?gi.Buffer:s,ps=gi.Symbol,Sn=gi.Uint8Array,xe=Hn?Hn.allocUnsafe:s,Se=Po(Es.getPrototypeOf,Es),Ge=Es.create,xt=Ft.propertyIsEnumerable,bi=st.splice,mn=ps?ps.isConcatSpreadable:s,cs=ps?ps.iterator:s,Fr=ps?ps.toStringTag:s,Sr=function(){try{var _=Hh(Es,"defineProperty");return _({},"",{}),_}catch{}}(),Ka=gi.clearTimeout!==Pr.clearTimeout&&gi.clearTimeout,Zi=cn&&cn.now!==Pr.Date.now&&cn.now,Ja=gi.setTimeout!==Pr.setTimeout&&gi.setTimeout,td=wr.ceil,Rh=wr.floor,Au=Es.getOwnPropertySymbols,ih=Hn?Hn.isBuffer:s,Fp=gi.isFinite,ku=st.join,nh=Po(Es.keys,Es),Tr=wr.max,er=wr.min,Bh=cn.now,sh=gi.parseInt,a0=wr.random,Wm=st.reverse,Pu=Hh(gi,"DataView"),Xl=Hh(gi,"Map"),zh=Hh(gi,"Promise"),bc=Hh(gi,"Set"),rh=Hh(gi,"WeakMap"),id=Hh(Es,"create"),nd=rh&&new rh,Pd={},jp=kc(Pu),Up=kc(Xl),l0=kc(zh),Du=kc(bc),wc=kc(rh),oh=ps?ps.prototype:s,ah=oh?oh.valueOf:s,$p=oh?oh.toString:s;function it(_){if(to(_)&&!os(_)&&!(_ instanceof Fn)){if(_ instanceof La)return _;if(ri.call(_,"__wrapped__"))return Vu(_)}return new La(_)}var Sc=function(){function _(){}return function(k){if(!Ur(k))return{};if(Ge)return Ge(k);_.prototype=k;var re=new _;return _.prototype=s,re}}();function Nh(){}function La(_,k){this.__wrapped__=_,this.__actions__=[],this.__chain__=!!k,this.__index__=0,this.__values__=s}it.templateSettings={escape:fa,evaluate:Ko,interpolate:lr,variable:"",imports:{_:it}},it.prototype=Nh.prototype,it.prototype.constructor=it,La.prototype=Sc(Nh.prototype),La.prototype.constructor=La;function Fn(_){this.__wrapped__=_,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=de,this.__views__=[]}function Ym(){var _=new Fn(this.__wrapped__);return _.__actions__=ao(this.__actions__),_.__dir__=this.__dir__,_.__filtered__=this.__filtered__,_.__iteratees__=ao(this.__iteratees__),_.__takeCount__=this.__takeCount__,_.__views__=ao(this.__views__),_}function Gp(){if(this.__filtered__){var _=new Fn(this);_.__dir__=-1,_.__filtered__=!0}else _=this.clone(),_.__dir__*=-1;return _}function qm(){var _=this.__wrapped__.value(),k=this.__dir__,re=os(_),Pe=k<0,Ye=re?_.length:0,ot=dg(0,Ye,this.__views__),At=ot.start,zt=ot.end,Yt=zt-At,Ei=Pe?zt:At-1,Di=this.__iteratees__,Ui=Di.length,un=0,En=er(Yt,this.__takeCount__);if(!re||!Pe&&Ye==Yt&&En==Yt)return Uh(_,this.__actions__);var Wn=[];e:for(;Yt--&&un<En;){Ei+=k;for(var vs=-1,qn=_[Ei];++vs<Ui;){var As=Di[vs],Bs=As.iteratee,sl=As.type,Ea=Bs(qn);if(sl==g)qn=Ea;else if(!Ea){if(sl==f)continue e;break e}}Wn[un++]=qn}return Wn}Fn.prototype=Sc(Nh.prototype),Fn.prototype.constructor=Fn;function Dd(_){var k=-1,re=_==null?0:_.length;for(this.clear();++k<re;){var Pe=_[k];this.set(Pe[0],Pe[1])}}function Tc(){this.__data__=id?id(null):{},this.size=0}function c0(_){var k=this.has(_)&&delete this.__data__[_];return this.size-=k?1:0,k}function lh(_){var k=this.__data__;if(id){var re=k[_];return re===x?s:re}return ri.call(k,_)?k[_]:s}function Zl(_){var k=this.__data__;return id?k[_]!==s:ri.call(k,_)}function Iu(_,k){var re=this.__data__;return this.size+=this.has(_)?0:1,re[_]=id&&k===s?x:k,this}Dd.prototype.clear=Tc,Dd.prototype.delete=c0,Dd.prototype.get=lh,Dd.prototype.has=Zl,Dd.prototype.set=Iu;function qi(_){var k=-1,re=_==null?0:_.length;for(this.clear();++k<re;){var Pe=_[k];this.set(Pe[0],Pe[1])}}function d0(){this.__data__=[],this.size=0}function h0(_){var k=this.__data__,re=l(k,_);if(re<0)return!1;var Pe=k.length-1;return re==Pe?k.pop():bi.call(k,re,1),--this.size,!0}function sd(_){var k=this.__data__,re=l(k,_);return re<0?s:k[re][1]}function Fh(_){return l(this.__data__,_)>-1}function Vp(_,k){var re=this.__data__,Pe=l(re,_);return Pe<0?(++this.size,re.push([_,k])):re[Pe][1]=k,this}qi.prototype.clear=d0,qi.prototype.delete=h0,qi.prototype.get=sd,qi.prototype.has=Fh,qi.prototype.set=Vp;function Kl(_){var k=-1,re=_==null?0:_.length;for(this.clear();++k<re;){var Pe=_[k];this.set(Pe[0],Pe[1])}}function Hp(){this.size=0,this.__data__={hash:new Dd,map:new(Xl||qi),string:new Dd}}function Wp(_){var k=Nu(this,_).delete(_);return this.size-=k?1:0,k}function Yp(_){return Nu(this,_).get(_)}function qp(_){return Nu(this,_).has(_)}function ch(_,k){var re=Nu(this,_),Pe=re.size;return re.set(_,k),this.size+=re.size==Pe?0:1,this}Kl.prototype.clear=Hp,Kl.prototype.delete=Wp,Kl.prototype.get=Yp,Kl.prototype.has=qp,Kl.prototype.set=ch;function kl(_){var k=-1,re=_==null?0:_.length;for(this.__data__=new Kl;++k<re;)this.add(_[k])}function Lu(_){return this.__data__.set(_,x),this}function u0(_){return this.__data__.has(_)}kl.prototype.add=kl.prototype.push=Lu,kl.prototype.has=u0;function Oa(_){var k=this.__data__=new qi(_);this.size=k.size}function p0(){this.__data__=new qi,this.size=0}function f0(_){var k=this.__data__,re=k.delete(_);return this.size=k.size,re}function m0(_){return this.__data__.get(_)}function g0(_){return this.__data__.has(_)}function _0(_,k){var re=this.__data__;if(re instanceof qi){var Pe=re.__data__;if(!Xl||Pe.length<c-1)return Pe.push([_,k]),this.size=++re.size,this;re=this.__data__=new Kl(Pe)}return re.set(_,k),this.size=re.size,this}Oa.prototype.clear=p0,Oa.prototype.delete=f0,Oa.prototype.get=m0,Oa.prototype.has=g0,Oa.prototype.set=_0;function Ou(_,k){var re=os(_),Pe=!re&&Jh(_),Ye=!re&&!Pe&&Ic(_),ot=!re&&!Pe&&!Ye&&Lc(_),At=re||Pe||Ye||ot,zt=At?Go(_.length,ed):[],Yt=zt.length;for(var Ei in _)(k||ri.call(_,Ei))&&!(At&&(Ei=="length"||Ye&&(Ei=="offset"||Ei=="parent")||ot&&(Ei=="buffer"||Ei=="byteLength"||Ei=="byteOffset")||cd(Ei,Yt)))&&zt.push(Ei);return zt}function Xp(_){var k=_.length;return k?_[xa(0,k-1)]:s}function y0(_,k){return Gu(ao(_),he(k,0,_.length))}function Zp(_){return Gu(ao(_))}function Id(_,k,re){(re!==s&&!Dc(_[k],re)||re===s&&!(k in _))&&F(_,k,re)}function y(_,k,re){var Pe=_[k];(!(ri.call(_,k)&&Dc(Pe,re))||re===s&&!(k in _))&&F(_,k,re)}function l(_,k){for(var re=_.length;re--;)if(Dc(_[re][0],k))return re;return-1}function u(_,k,re,Pe){return at(_,function(Ye,ot,At){k(Pe,Ye,re(Ye),At)}),Pe}function w(_,k){return _&&wo(k,io(k),_)}function R(_,k){return _&&wo(k,za(k),_)}function F(_,k,re){k=="__proto__"&&Sr?Sr(_,k,{configurable:!0,enumerable:!0,value:re,writable:!0}):_[k]=re}function se(_,k){for(var re=-1,Pe=k.length,Ye=li(Pe),ot=_==null;++re<Pe;)Ye[re]=ot?s:X0(_,k[re]);return Ye}function he(_,k,re){return _===_&&(re!==s&&(_=_<=re?_:re),k!==s&&(_=_>=k?_:k)),_}function fe(_,k,re,Pe,Ye,ot){var At,zt=k&O,Yt=k&V,Ei=k&q;if(re&&(At=Ye?re(_,Pe,Ye,ot):re(_)),At!==s)return At;if(!Ur(_))return _;var Di=os(_);if(Di){if(At=Wh(_),!zt)return ao(_,At)}else{var Ui=ba(_),un=Ui==ae||Ui==me;if(Ic(_))return od(_,zt);if(Ui==$e||Ui==oe||un&&!Ye){if(At=Yt||un?{}:ug(_),!zt)return Yt?uh(_,R(At,_)):hh(_,w(At,_))}else{if(!Ts[Ui])return Ye?_:{};At=qx(_,Ui,zt)}}ot||(ot=new Oa);var En=ot.get(_);if(En)return En;ot.set(_,At),ly(_)?_.forEach(function(qn){At.add(fe(qn,k,re,qn,_,ot))}):Ug(_)&&_.forEach(function(qn,As){At.set(As,fe(qn,k,re,As,_,ot))});var Wn=Ei?Yt?lg:T0:Yt?za:io,vs=Di?s:Wn(_);return ai(vs||_,function(qn,As){vs&&(As=qn,qn=_[As]),y(At,As,fe(qn,k,re,As,_,ot))}),At}function De(_){var k=io(_);return function(re){return ke(re,_,k)}}function ke(_,k,re){var Pe=re.length;if(_==null)return!Pe;for(_=Es(_);Pe--;){var Ye=re[Pe],ot=k[Ye],At=_[Ye];if(At===s&&!(Ye in _)||!ot(At))return!1}return!0}function je(_,k,re){if(typeof _!="function")throw new bo(m);return $u(function(){_.apply(s,re)},k)}function Ze(_,k,re,Pe){var Ye=-1,ot=Qs,At=!0,zt=_.length,Yt=[],Ei=k.length;if(!zt)return Yt;re&&(k=is(k,mo(re))),Pe?(ot=Fs,At=!1):k.length>=c&&(ot=Hl,At=!1,k=new kl(k));e:for(;++Ye<zt;){var Di=_[Ye],Ui=re==null?Di:re(Di);if(Di=Pe||Di!==0?Di:0,At&&Ui===Ui){for(var un=Ei;un--;)if(k[un]===Ui)continue e;Yt.push(Di)}else ot(k,Ui,Pe)||Yt.push(Di)}return Yt}var at=T_(Ct),lt=T_(jt,!0);function ht(_,k){var re=!0;return at(_,function(Pe,Ye,ot){return re=!!k(Pe,Ye,ot),re}),re}function et(_,k,re){for(var Pe=-1,Ye=_.length;++Pe<Ye;){var ot=_[Pe],At=k(ot);if(At!=null&&(zt===s?At===At&&!Ca(At):re(At,zt)))var zt=At,Yt=ot}return Yt}function nt(_,k,re,Pe){var Ye=_.length;for(re=jn(re),re<0&&(re=-re>Ye?0:Ye+re),Pe=Pe===s||Pe>Ye?Ye:jn(Pe),Pe<0&&(Pe+=Ye),Pe=re>Pe?0:Ku(Pe);re<Pe;)_[re++]=k;return _}function ft(_,k){var re=[];return at(_,function(Pe,Ye,ot){k(Pe,Ye,ot)&&re.push(Pe)}),re}function ct(_,k,re,Pe,Ye){var ot=-1,At=_.length;for(re||(re=M0),Ye||(Ye=[]);++ot<At;){var zt=_[ot];k>0&&re(zt)?k>1?ct(zt,k-1,re,Pe,Ye):ns(Ye,zt):Pe||(Ye[Ye.length]=zt)}return Ye}var bt=C_(),It=C_(!0);function Ct(_,k){return _&&bt(_,k,io)}function jt(_,k){return _&&It(_,k,io)}function Qt(_,k){return ln(k,function(re){return hd(_[re])})}function Zt(_,k){k=Cc(k,_);for(var re=0,Pe=k.length;_!=null&&re<Pe;)_=_[il(k[re++])];return re&&re==Pe?_:s}function Vt(_,k,re){var Pe=k(_);return os(_)?Pe:ns(Pe,re(_))}function Si(_){return _==null?_===s?Xe:Le:Fr&&Fr in Es(_)?M_(_):fg(_)}function qt(_,k){return _>k}function pi(_,k){return _!=null&&ri.call(_,k)}function ti(_,k){return _!=null&&k in Es(_)}function Pi(_,k,re){return _>=er(k,re)&&_<Tr(k,re)}function ii(_,k,re){for(var Pe=re?Fs:Qs,Ye=_[0].length,ot=_.length,At=ot,zt=li(ot),Yt=1/0,Ei=[];At--;){var Di=_[At];At&&k&&(Di=is(Di,mo(k))),Yt=er(Di.length,Yt),zt[At]=!re&&(k||Ye>=120&&Di.length>=120)?new kl(At&&Di):s}Di=_[0];var Ui=-1,un=zt[0];e:for(;++Ui<Ye&&Ei.length<Yt;){var En=Di[Ui],Wn=k?k(En):En;if(En=re||En!==0?En:0,!(un?Hl(un,Wn):Pe(Ei,Wn,re))){for(At=ot;--At;){var vs=zt[At];if(!(vs?Hl(vs,Wn):Pe(_[At],Wn,re)))continue e}un&&un.push(Wn),Ei.push(En)}}return Ei}function vi(_,k,re,Pe){return Ct(_,function(Ye,ot,At){k(Pe,re(Ye),ot,At)}),Pe}function Ri(_,k,re){k=Cc(k,_),_=mg(_,k);var Pe=_==null?_:_[il(ic(k))];return Pe==null?s:Ti(Pe,_,re)}function Ht(_){return to(_)&&Si(_)==oe}function ei(_){return to(_)&&Si(_)==Tt}function dn(_){return to(_)&&Si(_)==ne}function gn(_,k,re,Pe,Ye){return _===k?!0:_==null||k==null||!to(_)&&!to(k)?_!==_&&k!==k:hn(_,k,re,Pe,gn,Ye)}function hn(_,k,re,Pe,Ye,ot){var At=os(_),zt=os(k),Yt=At?ce:ba(_),Ei=zt?ce:ba(k);Yt=Yt==oe?$e:Yt,Ei=Ei==oe?$e:Ei;var Di=Yt==$e,Ui=Ei==$e,un=Yt==Ei;if(un&&Ic(_)){if(!Ic(k))return!1;At=!0,Di=!1}if(un&&!Di)return ot||(ot=new Oa),At||Lc(_)?og(_,k,re,Pe,Ye,ot):ag(_,k,Yt,re,Pe,Ye,ot);if(!(re&L)){var En=Di&&ri.call(_,"__wrapped__"),Wn=Ui&&ri.call(k,"__wrapped__");if(En||Wn){var vs=En?_.value():_,qn=Wn?k.value():k;return ot||(ot=new Oa),Ye(vs,qn,re,Pe,ot)}}return un?(ot||(ot=new Oa),Yx(_,k,re,Pe,Ye,ot)):!1}function Pn(_){return to(_)&&ba(_)==we}function Zn(_,k,re,Pe){var Ye=re.length,ot=Ye,At=!Pe;if(_==null)return!ot;for(_=Es(_);Ye--;){var zt=re[Ye];if(At&&zt[2]?zt[1]!==_[zt[0]]:!(zt[0]in _))return!1}for(;++Ye<ot;){zt=re[Ye];var Yt=zt[0],Ei=_[Yt],Di=zt[1];if(At&&zt[2]){if(Ei===s&&!(Yt in _))return!1}else{var Ui=new Oa;if(Pe)var un=Pe(Ei,Di,Yt,_,k,Ui);if(!(un===s?gn(Di,Ei,L|I,Pe,Ui):un))return!1}}return!0}function xn(_){if(!Ur(_)||tl(_))return!1;var k=hd(_)?Dn:an;return k.test(kc(_))}function tn(_){return to(_)&&Si(_)==qe}function Gs(_){return to(_)&&ba(_)==Te}function Is(_){return to(_)&&Vs(_.length)&&!!ys[Si(_)]}function Hs(_){return typeof _=="function"?_:_==null?go:typeof _=="object"?os(_)?tr(_[0],_[1]):Pl(_):l1(_)}function Us(_){if(!Uu(_))return nh(_);var k=[];for(var re in Es(_))ri.call(_,re)&&re!="constructor"&&k.push(re);return k}function va(_){if(!Ur(_))return qh(_);var k=Uu(_),re=[];for(var Pe in _)Pe=="constructor"&&(k||!ri.call(_,Pe))||re.push(Pe);return re}function ta(_,k){return _<k}function Vo(_,k){var re=-1,Pe=nr(_)?li(_.length):[];return at(_,function(Ye,ot,At){Pe[++re]=k(Ye,ot,At)}),Pe}function Pl(_){var k=C0(_);return k.length==1&&k[0][2]?A0(k[0][0],k[0][1]):function(re){return re===_||Zn(re,_,k)}}function tr(_,k){return pg(_)&&ec(k)?A0(il(_),k):function(re){var Pe=X0(re,_);return Pe===s&&Pe===k?Qh(re,_):gn(k,Pe,L|I)}}function $s(_,k,re,Pe,Ye){_!==k&&bt(k,function(ot,At){if(Ye||(Ye=new Oa),Ur(ot))Ms(_,k,At,re,$s,Pe,Ye);else{var zt=Pe?Pe(gg(_,At),ot,At+"",_,k,Ye):s;zt===s&&(zt=ot),Id(_,At,zt)}},za)}function Ms(_,k,re,Pe,Ye,ot,At){var zt=gg(_,re),Yt=gg(k,re),Ei=At.get(Yt);if(Ei){Id(_,re,Ei);return}var Di=ot?ot(zt,Yt,re+"",_,k,At):s,Ui=Di===s;if(Ui){var un=os(Yt),En=!un&&Ic(Yt),Wn=!un&&!En&&Lc(Yt);Di=Yt,un||En||Wn?os(zt)?Di=zt:cr(zt)?Di=ao(zt):En?(Ui=!1,Di=od(Yt,!0)):Wn?(Ui=!1,Di=w_(Yt,!0)):Di=[]:gf(Yt)||Jh(Yt)?(Di=zt,Jh(zt)?Di=W0(zt):(!Ur(zt)||hd(zt))&&(Di=ug(Yt))):Ui=!1}Ui&&(At.set(Yt,Di),Ye(Di,Yt,Pe,ot,At),At.delete(Yt)),Id(_,re,Di)}function jr(_,k){var re=_.length;if(re)return k+=k<0?re:0,cd(k,re)?_[k]:s}function Io(_,k,re){k.length?k=is(k,function(ot){return os(ot)?function(At){return Zt(At,ot.length===1?ot[0]:ot)}:ot}):k=[go];var Pe=-1;k=is(k,mo(Bn()));var Ye=Vo(_,function(ot,At,zt){var Yt=is(k,function(Ei){return Ei(ot)});return{criteria:Yt,index:++Pe,value:ot}});return Jc(Ye,function(ot,At){return eg(ot,At,re)})}function ir(_,k){return Ho(_,k,function(re,Pe){return Qh(_,Pe)})}function Ho(_,k,re){for(var Pe=-1,Ye=k.length,ot={};++Pe<Ye;){var At=k[Pe],zt=Zt(_,At);re(zt,At)&&Ld(ot,Cc(At,_),zt)}return ot}function jh(_){return function(k){return Zt(k,_)}}function Dl(_,k,re,Pe){var Ye=Pe?Zr:zn,ot=-1,At=k.length,zt=_;for(_===k&&(k=ao(k)),re&&(zt=is(_,mo(re)));++ot<At;)for(var Yt=0,Ei=k[ot],Di=re?re(Ei):Ei;(Yt=Ye(zt,Di,Yt,Pe))>-1;)zt!==_&&bi.call(zt,Yt,1),bi.call(_,Yt,1);return _}function Lo(_,k){for(var re=_?k.length:0,Pe=re-1;re--;){var Ye=k[re];if(re==Pe||Ye!==ot){var ot=Ye;cd(Ye)?bi.call(_,Ye,1):x0(_,Ye)}}return _}function xa(_,k){return _+Rh(a0()*(k-_+1))}function Jl(_,k,re,Pe){for(var Ye=-1,ot=Tr(td((k-_)/(re||1)),0),At=li(ot);ot--;)At[Pe?ot:++Ye]=_,_+=re;return At}function Qa(_,k){var re="";if(!_||k<1||k>X)return re;do k%2&&(re+=_),k=Rh(k/2),k&&(_+=_);while(k);return re}function ss(_,k){return Xh(nf(_,k,go),_+"")}function dh(_){return Xp(eu(_))}function Ql(_,k){var re=eu(_);return Gu(re,he(k,0,re.length))}function Ld(_,k,re,Pe){if(!Ur(_))return _;k=Cc(k,_);for(var Ye=-1,ot=k.length,At=ot-1,zt=_;zt!=null&&++Ye<ot;){var Yt=il(k[Ye]),Ei=re;if(Yt==="__proto__"||Yt==="constructor"||Yt==="prototype")return _;if(Ye!=At){var Di=zt[Yt];Ei=Pe?Pe(Di,Yt,zt):s,Ei===s&&(Ei=Ur(Di)?Di:cd(k[Ye+1])?[]:{})}y(zt,Yt,Ei),zt=zt[Yt]}return _}var Kp=nd?function(_,k){return nd.set(_,k),_}:go,g_=Sr?function(_,k){return Sr(_,"toString",{configurable:!0,enumerable:!1,value:r1(k),writable:!0})}:go;function Xm(_){return Gu(eu(_))}function Il(_,k,re){var Pe=-1,Ye=_.length;k<0&&(k=-k>Ye?0:Ye+k),re=re>Ye?Ye:re,re<0&&(re+=Ye),Ye=k>re?0:re-k>>>0,k>>>=0;for(var ot=li(Ye);++Pe<Ye;)ot[Pe]=_[Pe+k];return ot}function __(_,k){var re;return at(_,function(Pe,Ye,ot){return re=k(Pe,Ye,ot),!re}),!!re}function Jp(_,k,re){var Pe=0,Ye=_==null?Pe:_.length;if(typeof k=="number"&&k===k&&Ye<=Ce){for(;Pe<Ye;){var ot=Pe+Ye>>>1,At=_[ot];At!==null&&!Ca(At)&&(re?At<=k:At<k)?Pe=ot+1:Ye=ot}return Ye}return v0(_,k,go,re)}function v0(_,k,re,Pe){var Ye=0,ot=_==null?0:_.length;if(ot===0)return 0;k=re(k);for(var At=k!==k,zt=k===null,Yt=Ca(k),Ei=k===s;Ye<ot;){var Di=Rh((Ye+ot)/2),Ui=re(_[Di]),un=Ui!==s,En=Ui===null,Wn=Ui===Ui,vs=Ca(Ui);if(At)var qn=Pe||Wn;else Ei?qn=Wn&&(Pe||un):zt?qn=Wn&&un&&(Pe||!En):Yt?qn=Wn&&un&&!En&&(Pe||!vs):En||vs?qn=!1:qn=Pe?Ui<=k:Ui<k;qn?Ye=Di+1:ot=Di}return er(ot,ge)}function Zm(_,k){for(var re=-1,Pe=_.length,Ye=0,ot=[];++re<Pe;){var At=_[re],zt=k?k(At):At;if(!re||!Dc(zt,Yt)){var Yt=zt;ot[Ye++]=At===0?0:At}}return ot}function Km(_){return typeof _=="number"?_:Ca(_)?Z:+_}function el(_){if(typeof _=="string")return _;if(os(_))return is(_,el)+"";if(Ca(_))return $p?$p.call(_):"";var k=_+"";return k=="0"&&1/_==-D?"-0":k}function Od(_,k,re){var Pe=-1,Ye=Qs,ot=_.length,At=!0,zt=[],Yt=zt;if(re)At=!1,Ye=Fs;else if(ot>=c){var Ei=k?null:Wo(_);if(Ei)return Xa(Ei);At=!1,Ye=Hl,Yt=new kl}else Yt=k?[]:zt;e:for(;++Pe<ot;){var Di=_[Pe],Ui=k?k(Di):Di;if(Di=re||Di!==0?Di:0,At&&Ui===Ui){for(var un=Yt.length;un--;)if(Yt[un]===Ui)continue e;k&&Yt.push(Ui),zt.push(Di)}else Ye(Yt,Ui,re)||(Yt!==zt&&Yt.push(Ui),zt.push(Di))}return zt}function x0(_,k){return k=Cc(k,_),_=mg(_,k),_==null||delete _[il(ic(k))]}function y_(_,k,re,Pe){return Ld(_,k,re(Zt(_,k)),Pe)}function b0(_,k,re,Pe){for(var Ye=_.length,ot=Pe?Ye:-1;(Pe?ot--:++ot<Ye)&&k(_[ot],ot,_););return re?Il(_,Pe?0:ot,Pe?ot+1:Ye):Il(_,Pe?ot+1:0,Pe?Ye:ot)}function Uh(_,k){var re=_;return re instanceof Fn&&(re=re.value()),On(k,function(Pe,Ye){return Ye.func.apply(Ye.thisArg,ns([Pe],Ye.args))},re)}function w0(_,k,re){var Pe=_.length;if(Pe<2)return Pe?Od(_[0]):[];for(var Ye=-1,ot=li(Pe);++Ye<Pe;)for(var At=_[Ye],zt=-1;++zt<Pe;)zt!=Ye&&(ot[Ye]=Ze(ot[Ye]||At,_[zt],k,re));return Od(ct(ot,1),k,re)}function Jm(_,k,re){for(var Pe=-1,Ye=_.length,ot=k.length,At={};++Pe<Ye;){var zt=Pe<ot?k[Pe]:s;re(At,_[Pe],zt)}return At}function S0(_){return cr(_)?_:[]}function Qm(_){return typeof _=="function"?_:go}function Cc(_,k){return os(_)?_:pg(_,k)?[_]:_g(dr(_))}var v_=ss;function rd(_,k,re){var Pe=_.length;return re=re===s?Pe:re,!k&&re>=Pe?_:Il(_,k,re)}var Qp=Ka||function(_){return Pr.clearTimeout(_)};function od(_,k){if(k)return _.slice();var re=_.length,Pe=xe?xe(re):new _.constructor(re);return _.copy(Pe),Pe}function Ru(_){var k=new _.constructor(_.byteLength);return new Sn(k).set(new Sn(_)),k}function x_(_,k){var re=k?Ru(_.buffer):_.buffer;return new _.constructor(re,_.byteOffset,_.byteLength)}function b_(_){var k=new _.constructor(_.source,Mi.exec(_));return k.lastIndex=_.lastIndex,k}function Vx(_){return ah?Es(ah.call(_)):{}}function w_(_,k){var re=k?Ru(_.buffer):_.buffer;return new _.constructor(re,_.byteOffset,_.length)}function S_(_,k){if(_!==k){var re=_!==s,Pe=_===null,Ye=_===_,ot=Ca(_),At=k!==s,zt=k===null,Yt=k===k,Ei=Ca(k);if(!zt&&!Ei&&!ot&&_>k||ot&&At&&Yt&&!zt&&!Ei||Pe&&At&&Yt||!re&&Yt||!Ye)return 1;if(!Pe&&!ot&&!Ei&&_<k||Ei&&re&&Ye&&!Pe&&!ot||zt&&re&&Ye||!At&&Ye||!Yt)return-1}return 0}function eg(_,k,re){for(var Pe=-1,Ye=_.criteria,ot=k.criteria,At=Ye.length,zt=re.length;++Pe<At;){var Yt=S_(Ye[Pe],ot[Pe]);if(Yt){if(Pe>=zt)return Yt;var Ei=re[Pe];return Yt*(Ei=="desc"?-1:1)}}return _.index-k.index}function Bu(_,k,re,Pe){for(var Ye=-1,ot=_.length,At=re.length,zt=-1,Yt=k.length,Ei=Tr(ot-At,0),Di=li(Yt+Ei),Ui=!Pe;++zt<Yt;)Di[zt]=k[zt];for(;++Ye<At;)(Ui||Ye<ot)&&(Di[re[Ye]]=_[Ye]);for(;Ei--;)Di[zt++]=_[Ye++];return Di}function $h(_,k,re,Pe){for(var Ye=-1,ot=_.length,At=-1,zt=re.length,Yt=-1,Ei=k.length,Di=Tr(ot-zt,0),Ui=li(Di+Ei),un=!Pe;++Ye<Di;)Ui[Ye]=_[Ye];for(var En=Ye;++Yt<Ei;)Ui[En+Yt]=k[Yt];for(;++At<zt;)(un||Ye<ot)&&(Ui[En+re[At]]=_[Ye++]);return Ui}function ao(_,k){var re=-1,Pe=_.length;for(k||(k=li(Pe));++re<Pe;)k[re]=_[re];return k}function wo(_,k,re,Pe){var Ye=!re;re||(re={});for(var ot=-1,At=k.length;++ot<At;){var zt=k[ot],Yt=Pe?Pe(re[zt],_[zt],zt,re,_):s;Yt===s&&(Yt=_[zt]),Ye?F(re,zt,Yt):y(re,zt,Yt)}return re}function hh(_,k){return wo(_,cg(_),k)}function uh(_,k){return wo(_,E0(_),k)}function ad(_,k){return function(re,Pe){var Ye=os(re)?ni:u,ot=k?k():{};return Ye(re,_,Bn(Pe,2),ot)}}function zu(_){return ss(function(k,re){var Pe=-1,Ye=re.length,ot=Ye>1?re[Ye-1]:s,At=Ye>2?re[2]:s;for(ot=_.length>3&&typeof ot=="function"?(Ye--,ot):s,At&&wa(re[0],re[1],At)&&(ot=Ye<3?s:ot,Ye=1),k=Es(k);++Pe<Ye;){var zt=re[Pe];zt&&_(k,zt,Pe,ot)}return k})}function T_(_,k){return function(re,Pe){if(re==null)return re;if(!nr(re))return _(re,Pe);for(var Ye=re.length,ot=k?Ye:-1,At=Es(re);(k?ot--:++ot<Ye)&&Pe(At[ot],ot,At)!==!1;);return re}}function C_(_){return function(k,re,Pe){for(var Ye=-1,ot=Es(k),At=Pe(k),zt=At.length;zt--;){var Yt=At[_?zt:++Ye];if(re(ot[Yt],Yt,ot)===!1)break}return k}}function Hx(_,k,re){var Pe=k&H,Ye=Ra(_);function ot(){var At=this&&this!==Pr&&this instanceof ot?Ye:_;return At.apply(Pe?re:this,arguments)}return ot}function tg(_){return function(k){k=dr(k);var re=ea(k)?vo(k):s,Pe=re?re[0]:k.charAt(0),Ye=re?rd(re,1).join(""):k.slice(1);return Pe[_]()+Ye}}function Rd(_){return function(k){return On(iu(Jg(k).replace(Yc,"")),_,"")}}function Ra(_){return function(){var k=arguments;switch(k.length){case 0:return new _;case 1:return new _(k[0]);case 2:return new _(k[0],k[1]);case 3:return new _(k[0],k[1],k[2]);case 4:return new _(k[0],k[1],k[2],k[3]);case 5:return new _(k[0],k[1],k[2],k[3],k[4]);case 6:return new _(k[0],k[1],k[2],k[3],k[4],k[5]);case 7:return new _(k[0],k[1],k[2],k[3],k[4],k[5],k[6])}var re=Sc(_.prototype),Pe=_.apply(re,k);return Ur(Pe)?Pe:re}}function Wx(_,k,re){var Pe=Ra(_);function Ye(){for(var ot=arguments.length,At=li(ot),zt=ot,Yt=zd(Ye);zt--;)At[zt]=arguments[zt];var Ei=ot<3&&At[0]!==Yt&&At[ot-1]!==Yt?[]:Kr(At,Yt);if(ot-=Ei.length,ot<re)return Ol(_,k,Tn,Ye.placeholder,s,At,Ei,s,s,re-ot);var Di=this&&this!==Pr&&this instanceof Ye?Pe:_;return Ti(Di,this,At)}return Ye}function E_(_){return function(k,re,Pe){var Ye=Es(k);if(!nr(k)){var ot=Bn(re,3);k=io(k),re=function(zt){return ot(Ye[zt],zt,Ye)}}var At=_(k,re,Pe);return At>-1?Ye[ot?k[At]:At]:s}}function Qr(_){return Mc(function(k){var re=k.length,Pe=re,Ye=La.prototype.thru;for(_&&k.reverse();Pe--;){var ot=k[Pe];if(typeof ot!="function")throw new bo(m);if(Ye&&!At&&ld(ot)=="wrapper")var At=new La([],!0)}for(Pe=At?Pe:re;++Pe<re;){ot=k[Pe];var zt=ld(ot),Yt=zt=="wrapper"?Ac(ot):s;Yt&&ju(Yt[0])&&Yt[1]==(ee|A|$|Q)&&!Yt[4].length&&Yt[9]==1?At=At[ld(Yt[0])].apply(At,Yt[3]):At=ot.length==1&&ju(ot)?At[zt]():At.thru(ot)}return function(){var Ei=arguments,Di=Ei[0];if(At&&Ei.length==1&&os(Di))return At.plant(Di).value();for(var Ui=0,un=re?k[Ui].apply(this,Ei):Di;++Ui<re;)un=k[Ui].call(this,un);return un}})}function Tn(_,k,re,Pe,Ye,ot,At,zt,Yt,Ei){var Di=k&ee,Ui=k&H,un=k&M,En=k&(A|U),Wn=k&N,vs=un?s:Ra(_);function qn(){for(var As=arguments.length,Bs=li(As),sl=As;sl--;)Bs[sl]=arguments[sl];if(En)var Ea=zd(qn),rl=Cl(Bs,Ea);if(Pe&&(Bs=Bu(Bs,Pe,Ye,En)),ot&&(Bs=$h(Bs,ot,At,En)),As-=rl,En&&As<Ei){var lo=Kr(Bs,Ea);return Ol(_,k,Tn,qn.placeholder,re,Bs,lo,zt,Yt,Ei-As)}var qo=Ui?re:this,fd=un?qo[_]:_;return As=Bs.length,zt?Bs=P_(Bs,zt):Wn&&As>1&&Bs.reverse(),Di&&Yt<As&&(Bs.length=Yt),this&&this!==Pr&&this instanceof qn&&(fd=vs||Ra(fd)),fd.apply(qo,Bs)}return qn}function Bd(_,k){return function(re,Pe){return vi(re,_,k(Pe),{})}}function Gh(_,k){return function(re,Pe){var Ye;if(re===s&&Pe===s)return k;if(re!==s&&(Ye=re),Pe!==s){if(Ye===s)return Pe;typeof re=="string"||typeof Pe=="string"?(re=el(re),Pe=el(Pe)):(re=Km(re),Pe=Km(Pe)),Ye=_(re,Pe)}return Ye}}function _s(_){return Mc(function(k){return k=is(k,mo(Bn())),ss(function(re){var Pe=this;return _(k,function(Ye){return Ti(Ye,Pe,re)})})})}function ef(_,k){k=k===s?" ":el(k);var re=k.length;if(re<2)return re?Qa(k,_):k;var Pe=Qa(k,td(_/ls(k)));return ea(k)?rd(vo(Pe),0,_).join(""):Pe.slice(0,_)}function ig(_,k,re,Pe){var Ye=k&H,ot=Ra(_);function At(){for(var zt=-1,Yt=arguments.length,Ei=-1,Di=Pe.length,Ui=li(Di+Yt),un=this&&this!==Pr&&this instanceof At?ot:_;++Ei<Di;)Ui[Ei]=Pe[Ei];for(;Yt--;)Ui[Ei++]=arguments[++zt];return Ti(un,Ye?re:this,Ui)}return At}function Ec(_){return function(k,re,Pe){return Pe&&typeof Pe!="number"&&wa(k,re,Pe)&&(re=Pe=s),k=ud(k),re===s?(re=k,k=0):re=ud(re),Pe=Pe===s?k<re?1:-1:ud(Pe),Jl(k,re,Pe,_)}}function Ll(_){return function(k,re){return typeof k=="string"&&typeof re=="string"||(k=ia(k),re=ia(re)),_(k,re)}}function Ol(_,k,re,Pe,Ye,ot,At,zt,Yt,Ei){var Di=k&A,Ui=Di?At:s,un=Di?s:At,En=Di?ot:s,Wn=Di?s:ot;k|=Di?$:E,k&=~(Di?E:$),k&C||(k&=~(H|M));var vs=[_,k,Ye,En,Ui,Wn,un,zt,Yt,Ei],qn=re.apply(s,vs);return ju(_)&&k0(qn,vs),qn.placeholder=Pe,Zh(qn,_,k)}function Ba(_){var k=wr[_];return function(re,Pe){if(re=ia(re),Pe=Pe==null?0:er(jn(Pe),292),Pe&&Fp(re)){var Ye=(dr(re)+"e").split("e"),ot=k(Ye[0]+"e"+(+Ye[1]+Pe));return Ye=(dr(ot)+"e").split("e"),+(Ye[0]+"e"+(+Ye[1]-Pe))}return k(re)}}var Wo=bc&&1/Xa(new bc([,-0]))[1]==D?function(_){return new bc(_)}:a1;function ng(_){return function(k){var re=ba(k);return re==we?Wl(k):re==Te?Al(k):xc(k,_(k))}}function Yo(_,k,re,Pe,Ye,ot,At,zt){var Yt=k&M;if(!Yt&&typeof _!="function")throw new bo(m);var Ei=Pe?Pe.length:0;if(Ei||(k&=~($|E),Pe=Ye=s),At=At===s?At:Tr(jn(At),0),zt=zt===s?zt:jn(zt),Ei-=Ye?Ye.length:0,k&E){var Di=Pe,Ui=Ye;Pe=Ye=s}var un=Yt?s:Ac(_),En=[_,k,re,Pe,Ye,Di,Ui,ot,At,zt];if(un&&tf(En,un),_=En[0],k=En[1],re=En[2],Pe=En[3],Ye=En[4],zt=En[9]=En[9]===s?Yt?0:_.length:Tr(En[9]-Ei,0),!zt&&k&(A|U)&&(k&=~(A|U)),!k||k==H)var Wn=Hx(_,k,re);else k==A||k==U?Wn=Wx(_,k,zt):(k==$||k==(H|$))&&!Ye.length?Wn=ig(_,k,re,Pe):Wn=Tn.apply(s,En);var vs=un?Kp:k0;return Zh(vs(Wn,En),_,k)}function sg(_,k,re,Pe){return _===s||Dc(_,Ft[re])&&!ri.call(Pe,re)?k:_}function Vh(_,k,re,Pe,Ye,ot){return Ur(_)&&Ur(k)&&(ot.set(k,_),$s(_,k,s,Vh,ot),ot.delete(k)),_}function rg(_){return gf(_)?s:_}function og(_,k,re,Pe,Ye,ot){var At=re&L,zt=_.length,Yt=k.length;if(zt!=Yt&&!(At&&Yt>zt))return!1;var Ei=ot.get(_),Di=ot.get(k);if(Ei&&Di)return Ei==k&&Di==_;var Ui=-1,un=!0,En=re&I?new kl:s;for(ot.set(_,k),ot.set(k,_);++Ui<zt;){var Wn=_[Ui],vs=k[Ui];if(Pe)var qn=At?Pe(vs,Wn,Ui,k,_,ot):Pe(Wn,vs,Ui,_,k,ot);if(qn!==s){if(qn)continue;un=!1;break}if(En){if(!rs(k,function(As,Bs){if(!Hl(En,Bs)&&(Wn===As||Ye(Wn,As,re,Pe,ot)))return En.push(Bs)})){un=!1;break}}else if(!(Wn===vs||Ye(Wn,vs,re,Pe,ot))){un=!1;break}}return ot.delete(_),ot.delete(k),un}function ag(_,k,re,Pe,Ye,ot,At){switch(re){case Bt:if(_.byteLength!=k.byteLength||_.byteOffset!=k.byteOffset)return!1;_=_.buffer,k=k.buffer;case Tt:return!(_.byteLength!=k.byteLength||!ot(new Sn(_),new Sn(k)));case Ee:case ne:case Re:return Dc(+_,+k);case _e:return _.name==k.name&&_.message==k.message;case qe:case Oe:return _==k+"";case we:var zt=Wl;case Te:var Yt=Pe&L;if(zt||(zt=Xa),_.size!=k.size&&!Yt)return!1;var Ei=At.get(_);if(Ei)return Ei==k;Pe|=I,At.set(_,k);var Di=og(zt(_),zt(k),Pe,Ye,ot,At);return At.delete(_),Di;case ze:if(ah)return ah.call(_)==ah.call(k)}return!1}function Yx(_,k,re,Pe,Ye,ot){var At=re&L,zt=T0(_),Yt=zt.length,Ei=T0(k),Di=Ei.length;if(Yt!=Di&&!At)return!1;for(var Ui=Yt;Ui--;){var un=zt[Ui];if(!(At?un in k:ri.call(k,un)))return!1}var En=ot.get(_),Wn=ot.get(k);if(En&&Wn)return En==k&&Wn==_;var vs=!0;ot.set(_,k),ot.set(k,_);for(var qn=At;++Ui<Yt;){un=zt[Ui];var As=_[un],Bs=k[un];if(Pe)var sl=At?Pe(Bs,As,un,k,_,ot):Pe(As,Bs,un,_,k,ot);if(!(sl===s?As===Bs||Ye(As,Bs,re,Pe,ot):sl)){vs=!1;break}qn||(qn=un=="constructor")}if(vs&&!qn){var Ea=_.constructor,rl=k.constructor;Ea!=rl&&"constructor"in _&&"constructor"in k&&!(typeof Ea=="function"&&Ea instanceof Ea&&typeof rl=="function"&&rl instanceof rl)&&(vs=!1)}return ot.delete(_),ot.delete(k),vs}function Mc(_){return Xh(nf(_,s,xg),_+"")}function T0(_){return Vt(_,io,cg)}function lg(_){return Vt(_,za,E0)}var Ac=nd?function(_){return nd.get(_)}:a1;function ld(_){for(var k=_.name+"",re=Pd[k],Pe=ri.call(Pd,k)?re.length:0;Pe--;){var Ye=re[Pe],ot=Ye.func;if(ot==null||ot==_)return Ye.name}return k}function zd(_){var k=ri.call(it,"placeholder")?it:_;return k.placeholder}function Bn(){var _=it.iteratee||o1;return _=_===o1?Hs:_,arguments.length?_(arguments[0],arguments[1]):_}function Nu(_,k){var re=_.__data__;return Xx(k)?re[typeof k=="string"?"string":"hash"]:re.map}function C0(_){for(var k=io(_),re=k.length;re--;){var Pe=k[re],Ye=_[Pe];k[re]=[Pe,Ye,ec(Ye)]}return k}function Hh(_,k){var re=Qo(_,k);return xn(re)?re:s}function M_(_){var k=ri.call(_,Fr),re=_[Fr];try{_[Fr]=s;var Pe=!0}catch{}var Ye=Li.call(_);return Pe&&(k?_[Fr]=re:delete _[Fr]),Ye}var cg=Au?function(_){return _==null?[]:(_=Es(_),ln(Au(_),function(k){return xt.call(_,k)}))}:nm,E0=Au?function(_){for(var k=[];_;)ns(k,cg(_)),_=Se(_);return k}:nm,ba=Si;(Pu&&ba(new Pu(new ArrayBuffer(1)))!=Bt||Xl&&ba(new Xl)!=we||zh&&ba(zh.resolve())!=rt||bc&&ba(new bc)!=Te||rh&&ba(new rh)!=Ke)&&(ba=function(_){var k=Si(_),re=k==$e?_.constructor:s,Pe=re?kc(re):"";if(Pe)switch(Pe){case jp:return Bt;case Up:return we;case l0:return rt;case Du:return Te;case wc:return Ke}return k});function dg(_,k,re){for(var Pe=-1,Ye=re.length;++Pe<Ye;){var ot=re[Pe],At=ot.size;switch(ot.type){case"drop":_+=At;break;case"dropRight":k-=At;break;case"take":k=er(k,_+At);break;case"takeRight":_=Tr(_,k-At);break}}return{start:_,end:k}}function A_(_){var k=_.match(Nt);return k?k[1].split(Mt):[]}function hg(_,k,re){k=Cc(k,_);for(var Pe=-1,Ye=k.length,ot=!1;++Pe<Ye;){var At=il(k[Pe]);if(!(ot=_!=null&&re(_,At)))break;_=_[At]}return ot||++Pe!=Ye?ot:(Ye=_==null?0:_.length,!!Ye&&Vs(Ye)&&cd(At,Ye)&&(os(_)||Jh(_)))}function Wh(_){var k=_.length,re=new _.constructor(k);return k&&typeof _[0]=="string"&&ri.call(_,"index")&&(re.index=_.index,re.input=_.input),re}function ug(_){return typeof _.constructor=="function"&&!Uu(_)?Sc(Se(_)):{}}function qx(_,k,re){var Pe=_.constructor;switch(k){case Tt:return Ru(_);case Ee:case ne:return new Pe(+_);case Bt:return x_(_,re);case ci:case Wt:case ui:case ji:case Ii:case wi:case Ci:case sn:case vn:return w_(_,re);case we:return new Pe;case Re:case Oe:return new Pe(_);case qe:return b_(_);case Te:return new Pe;case ze:return Vx(_)}}function Fu(_,k){var re=k.length;if(!re)return _;var Pe=re-1;return k[Pe]=(re>1?"& ":"")+k[Pe],k=k.join(re>2?", ":" "),_.replace(_t,`{
/* [wrapped with `+k+`] */
`)}function M0(_){return os(_)||Jh(_)||!!(mn&&_&&_[mn])}function cd(_,k){var re=typeof _;return k=k??X,!!k&&(re=="number"||re!="symbol"&&Qn.test(_))&&_>-1&&_%1==0&&_<k}function wa(_,k,re){if(!Ur(re))return!1;var Pe=typeof k;return(Pe=="number"?nr(re)&&cd(k,re.length):Pe=="string"&&k in re)?Dc(re[k],_):!1}function pg(_,k){if(os(_))return!1;var re=typeof _;return re=="number"||re=="symbol"||re=="boolean"||_==null||Ca(_)?!0:Va.test(_)||!No.test(_)||k!=null&&_ in Es(k)}function Xx(_){var k=typeof _;return k=="string"||k=="number"||k=="symbol"||k=="boolean"?_!=="__proto__":_===null}function ju(_){var k=ld(_),re=it[k];if(typeof re!="function"||!(k in Fn.prototype))return!1;if(_===re)return!0;var Pe=Ac(re);return!!Pe&&_===Pe[0]}function tl(_){return!!Xi&&Xi in _}var k_=_i?hd:c1;function Uu(_){var k=_&&_.constructor,re=typeof k=="function"&&k.prototype||Ft;return _===re}function ec(_){return _===_&&!Ur(_)}function A0(_,k){return function(re){return re==null?!1:re[_]===k&&(k!==s||_ in Es(re))}}function Yh(_){var k=Oo(_,function(Pe){return re.size===z&&re.clear(),Pe}),re=k.cache;return k}function tf(_,k){var re=_[1],Pe=k[1],Ye=re|Pe,ot=Ye<(H|M|ee),At=Pe==ee&&re==A||Pe==ee&&re==Q&&_[7].length<=k[8]||Pe==(ee|Q)&&k[7].length<=k[8]&&re==A;if(!(ot||At))return _;Pe&H&&(_[2]=k[2],Ye|=re&H?0:C);var zt=k[3];if(zt){var Yt=_[3];_[3]=Yt?Bu(Yt,zt,k[4]):zt,_[4]=Yt?Kr(_[3],Y):k[4]}return zt=k[5],zt&&(Yt=_[5],_[5]=Yt?$h(Yt,zt,k[6]):zt,_[6]=Yt?Kr(_[5],Y):k[6]),zt=k[7],zt&&(_[7]=zt),Pe&ee&&(_[8]=_[8]==null?k[8]:er(_[8],k[8])),_[9]==null&&(_[9]=k[9]),_[0]=k[0],_[1]=Ye,_}function qh(_){var k=[];if(_!=null)for(var re in Es(_))k.push(re);return k}function fg(_){return Li.call(_)}function nf(_,k,re){return k=Tr(k===s?_.length-1:k,0),function(){for(var Pe=arguments,Ye=-1,ot=Tr(Pe.length-k,0),At=li(ot);++Ye<ot;)At[Ye]=Pe[k+Ye];Ye=-1;for(var zt=li(k+1);++Ye<k;)zt[Ye]=Pe[Ye];return zt[k]=re(At),Ti(_,this,zt)}}function mg(_,k){return k.length<2?_:Zt(_,Il(k,0,-1))}function P_(_,k){for(var re=_.length,Pe=er(k.length,re),Ye=ao(_);Pe--;){var ot=k[Pe];_[Pe]=cd(ot,re)?Ye[ot]:s}return _}function gg(_,k){if(!(k==="constructor"&&typeof _[k]=="function")&&k!="__proto__")return _[k]}var k0=dd(Kp),$u=Ja||function(_,k){return Pr.setTimeout(_,k)},Xh=dd(g_);function Zh(_,k,re){var Pe=k+"";return Xh(_,Fu(Pe,Rl(A_(Pe),re)))}function dd(_){var k=0,re=0;return function(){var Pe=Bh(),Ye=P-(Pe-re);if(re=Pe,Ye>0){if(++k>=S)return arguments[0]}else k=0;return _.apply(s,arguments)}}function Gu(_,k){var re=-1,Pe=_.length,Ye=Pe-1;for(k=k===s?Pe:k;++re<k;){var ot=xa(re,Ye),At=_[ot];_[ot]=_[re],_[re]=At}return _.length=k,_}var _g=Yh(function(_){var k=[];return _.charCodeAt(0)===46&&k.push(""),_.replace(ut,function(re,Pe,Ye,ot){k.push(Ye?ot.replace(mi,"$1"):Pe||re)}),k});function il(_){if(typeof _=="string"||Ca(_))return _;var k=_+"";return k=="0"&&1/_==-D?"-0":k}function kc(_){if(_!=null){try{return Gt.call(_)}catch{}try{return _+""}catch{}}return""}function Rl(_,k){return ai(J,function(re){var Pe="_."+re[0];k&re[1]&&!Qs(_,Pe)&&_.push(Pe)}),_.sort()}function Vu(_){if(_ instanceof Fn)return _.clone();var k=new La(_.__wrapped__,_.__chain__);return k.__actions__=ao(_.__actions__),k.__index__=_.__index__,k.__values__=_.__values__,k}function Sa(_,k,re){(re?wa(_,k,re):k===s)?k=1:k=Tr(jn(k),0);var Pe=_==null?0:_.length;if(!Pe||k<1)return[];for(var Ye=0,ot=0,At=li(td(Pe/k));Ye<Pe;)At[ot++]=Il(_,Ye,Ye+=k);return At}function tc(_){for(var k=-1,re=_==null?0:_.length,Pe=0,Ye=[];++k<re;){var ot=_[k];ot&&(Ye[Pe++]=ot)}return Ye}function yg(){var _=arguments.length;if(!_)return[];for(var k=li(_-1),re=arguments[0],Pe=_;Pe--;)k[Pe-1]=arguments[Pe];return ns(os(re)?ao(re):[re],ct(k,1))}var Wr=ss(function(_,k){return cr(_)?Ze(_,ct(k,1,cr,!0)):[]}),D_=ss(function(_,k){var re=ic(k);return cr(re)&&(re=s),cr(_)?Ze(_,ct(k,1,cr,!0),Bn(re,2)):[]}),sf=ss(function(_,k){var re=ic(k);return cr(re)&&(re=s),cr(_)?Ze(_,ct(k,1,cr,!0),s,re):[]});function Pc(_,k,re){var Pe=_==null?0:_.length;return Pe?(k=re||k===s?1:jn(k),Il(_,k<0?0:k,Pe)):[]}function Zx(_,k,re){var Pe=_==null?0:_.length;return Pe?(k=re||k===s?1:jn(k),k=Pe-k,Il(_,0,k<0?0:k)):[]}function Kx(_,k){return _&&_.length?b0(_,Bn(k,3),!0,!0):[]}function I_(_,k){return _&&_.length?b0(_,Bn(k,3),!0):[]}function L_(_,k,re,Pe){var Ye=_==null?0:_.length;return Ye?(re&&typeof re!="number"&&wa(_,k,re)&&(re=0,Pe=Ye),nt(_,k,re,Pe)):[]}function ph(_,k,re){var Pe=_==null?0:_.length;if(!Pe)return-1;var Ye=re==null?0:jn(re);return Ye<0&&(Ye=Tr(Pe+Ye,0)),Ao(_,Bn(k,3),Ye)}function vg(_,k,re){var Pe=_==null?0:_.length;if(!Pe)return-1;var Ye=Pe-1;return re!==s&&(Ye=jn(re),Ye=re<0?Tr(Pe+Ye,0):er(Ye,Pe-1)),Ao(_,Bn(k,3),Ye,!0)}function xg(_){var k=_==null?0:_.length;return k?ct(_,1):[]}function O_(_){var k=_==null?0:_.length;return k?ct(_,D):[]}function R_(_,k){var re=_==null?0:_.length;return re?(k=k===s?1:jn(k),ct(_,k)):[]}function Jx(_){for(var k=-1,re=_==null?0:_.length,Pe={};++k<re;){var Ye=_[k];Pe[Ye[0]]=Ye[1]}return Pe}function P0(_){return _&&_.length?_[0]:s}function bg(_,k,re){var Pe=_==null?0:_.length;if(!Pe)return-1;var Ye=re==null?0:jn(re);return Ye<0&&(Ye=Tr(Pe+Ye,0)),zn(_,k,Ye)}function wg(_){var k=_==null?0:_.length;return k?Il(_,0,-1):[]}var Ta=ss(function(_){var k=is(_,S0);return k.length&&k[0]===_[0]?ii(k):[]}),B_=ss(function(_){var k=ic(_),re=is(_,S0);return k===ic(re)?k=s:re.pop(),re.length&&re[0]===_[0]?ii(re,Bn(k,2)):[]}),Qx=ss(function(_){var k=ic(_),re=is(_,S0);return k=typeof k=="function"?k:s,k&&re.pop(),re.length&&re[0]===_[0]?ii(re,s,k):[]});function z_(_,k){return _==null?"":ku.call(_,k)}function ic(_){var k=_==null?0:_.length;return k?_[k-1]:s}function eb(_,k,re){var Pe=_==null?0:_.length;if(!Pe)return-1;var Ye=Pe;return re!==s&&(Ye=jn(re),Ye=Ye<0?Tr(Pe+Ye,0):er(Ye,Pe-1)),k===k?Oh(_,k,Ye):Ao(_,ko,Ye,!0)}function N_(_,k){return _&&_.length?jr(_,jn(k)):s}var F_=ss(Sg);function Sg(_,k){return _&&_.length&&k&&k.length?Dl(_,k):_}function Tg(_,k,re){return _&&_.length&&k&&k.length?Dl(_,k,Bn(re,2)):_}function Nd(_,k,re){return _&&_.length&&k&&k.length?Dl(_,k,s,re):_}var nl=Mc(function(_,k){var re=_==null?0:_.length,Pe=se(_,k);return Lo(_,is(k,function(Ye){return cd(Ye,re)?+Ye:Ye}).sort(S_)),Pe});function tb(_,k){var re=[];if(!(_&&_.length))return re;var Pe=-1,Ye=[],ot=_.length;for(k=Bn(k,3);++Pe<ot;){var At=_[Pe];k(At,Pe,_)&&(re.push(At),Ye.push(Pe))}return Lo(_,Ye),re}function rf(_){return _==null?_:Wm.call(_)}function ib(_,k,re){var Pe=_==null?0:_.length;return Pe?(re&&typeof re!="number"&&wa(_,k,re)?(k=0,re=Pe):(k=k==null?0:jn(k),re=re===s?Pe:jn(re)),Il(_,k,re)):[]}function nb(_,k){return Jp(_,k)}function sb(_,k,re){return v0(_,k,Bn(re,2))}function of(_,k){var re=_==null?0:_.length;if(re){var Pe=Jp(_,k);if(Pe<re&&Dc(_[Pe],k))return Pe}return-1}function D0(_,k){return Jp(_,k,!0)}function j_(_,k,re){return v0(_,k,Bn(re,2),!0)}function Kh(_,k){var re=_==null?0:_.length;if(re){var Pe=Jp(_,k,!0)-1;if(Dc(_[Pe],k))return Pe}return-1}function af(_){return _&&_.length?Zm(_):[]}function rb(_,k){return _&&_.length?Zm(_,Bn(k,2)):[]}function ob(_){var k=_==null?0:_.length;return k?Il(_,1,k):[]}function ab(_,k,re){return _&&_.length?(k=re||k===s?1:jn(k),Il(_,0,k<0?0:k)):[]}function lb(_,k,re){var Pe=_==null?0:_.length;return Pe?(k=re||k===s?1:jn(k),k=Pe-k,Il(_,k<0?0:k,Pe)):[]}function cb(_,k){return _&&_.length?b0(_,Bn(k,3),!1,!0):[]}function db(_,k){return _&&_.length?b0(_,Bn(k,3)):[]}var hb=ss(function(_){return Od(ct(_,1,cr,!0))}),Cg=ss(function(_){var k=ic(_);return cr(k)&&(k=s),Od(ct(_,1,cr,!0),Bn(k,2))}),ub=ss(function(_){var k=ic(_);return k=typeof k=="function"?k:s,Od(ct(_,1,cr,!0),s,k)});function Hu(_){return _&&_.length?Od(_):[]}function pb(_,k){return _&&_.length?Od(_,Bn(k,2)):[]}function eo(_,k){return k=typeof k=="function"?k:s,_&&_.length?Od(_,s,k):[]}function Wu(_){if(!(_&&_.length))return[];var k=0;return _=ln(_,function(re){if(cr(re))return k=Tr(re.length,k),!0}),Go(k,function(re){return is(_,$o(re))})}function Eg(_,k){if(!(_&&_.length))return[];var re=Wu(_);return k==null?re:is(re,function(Pe){return Ti(k,s,Pe)})}var I0=ss(function(_,k){return cr(_)?Ze(_,k):[]}),L0=ss(function(_){return w0(ln(_,cr))}),lf=ss(function(_){var k=ic(_);return cr(k)&&(k=s),w0(ln(_,cr),Bn(k,2))}),U_=ss(function(_){var k=ic(_);return k=typeof k=="function"?k:s,w0(ln(_,cr),s,k)}),$_=ss(Wu);function cf(_,k){return Jm(_||[],k||[],y)}function Mg(_,k){return Jm(_||[],k||[],Ld)}var Ag=ss(function(_){var k=_.length,re=k>1?_[k-1]:s;return re=typeof re=="function"?(_.pop(),re):s,Eg(_,re)});function G_(_){var k=it(_);return k.__chain__=!0,k}function V_(_,k){return k(_),_}function fh(_,k){return k(_)}var fb=Mc(function(_){var k=_.length,re=k?_[0]:0,Pe=this.__wrapped__,Ye=function(ot){return se(ot,_)};return k>1||this.__actions__.length||!(Pe instanceof Fn)||!cd(re)?this.thru(Ye):(Pe=Pe.slice(re,+re+(k?1:0)),Pe.__actions__.push({func:fh,args:[Ye],thisArg:s}),new La(Pe,this.__chain__).thru(function(ot){return k&&!ot.length&&ot.push(s),ot}))});function kg(){return G_(this)}function mb(){return new La(this.value(),this.__chain__)}function Pg(){this.__values__===s&&(this.__values__=H0(this.value()));var _=this.__index__>=this.__values__.length,k=_?s:this.__values__[this.__index__++];return{done:_,value:k}}function Dg(){return this}function O0(_){for(var k,re=this;re instanceof Nh;){var Pe=Vu(re);Pe.__index__=0,Pe.__values__=s,k?Ye.__wrapped__=Pe:k=Pe;var Ye=Pe;re=re.__wrapped__}return Ye.__wrapped__=_,k}function gb(){var _=this.__wrapped__;if(_ instanceof Fn){var k=_;return this.__actions__.length&&(k=new Fn(this)),k=k.reverse(),k.__actions__.push({func:fh,args:[rf],thisArg:s}),new La(k,this.__chain__)}return this.thru(rf)}function _b(){return Uh(this.__wrapped__,this.__actions__)}var yb=ad(function(_,k,re){ri.call(_,re)?++_[re]:F(_,re,1)});function vb(_,k,re){var Pe=os(_)?Rn:ht;return re&&wa(_,k,re)&&(k=s),Pe(_,Bn(k,3))}function xb(_,k){var re=os(_)?ln:ft;return re(_,Bn(k,3))}var bb=E_(ph),R0=E_(vg);function wb(_,k){return ct(B0(_,k),1)}function H_(_,k){return ct(B0(_,k),D)}function Yu(_,k,re){return re=re===s?1:jn(re),ct(B0(_,k),re)}function W_(_,k){var re=os(_)?ai:at;return re(_,Bn(k,3))}function Y_(_,k){var re=os(_)?Vi:lt;return re(_,Bn(k,3))}var Sb=ad(function(_,k,re){ri.call(_,re)?_[re].push(k):F(_,re,[k])});function q_(_,k,re,Pe){_=nr(_)?_:eu(_),re=re&&!Pe?jn(re):0;var Ye=_.length;return re<0&&(re=Tr(Ye+re,0)),V0(_)?re<=Ye&&_.indexOf(k,re)>-1:!!Ye&&zn(_,k,re)>-1}var X_=ss(function(_,k,re){var Pe=-1,Ye=typeof k=="function",ot=nr(_)?li(_.length):[];return at(_,function(At){ot[++Pe]=Ye?Ti(k,At,re):Ri(At,k,re)}),ot}),Tb=ad(function(_,k,re){F(_,re,k)});function B0(_,k){var re=os(_)?is:Vo;return re(_,Bn(k,3))}function Cb(_,k,re,Pe){return _==null?[]:(os(k)||(k=k==null?[]:[k]),re=Pe?s:re,os(re)||(re=re==null?[]:[re]),Io(_,k,re))}var Ig=ad(function(_,k,re){_[re?0:1].push(k)},function(){return[[],[]]});function z0(_,k,re){var Pe=os(_)?On:Ia,Ye=arguments.length<3;return Pe(_,Bn(k,4),re,Ye,at)}function N0(_,k,re){var Pe=os(_)?zr:Ia,Ye=arguments.length<3;return Pe(_,Bn(k,4),re,Ye,lt)}function Eb(_,k){var re=os(_)?ln:ft;return re(_,mh(Bn(k,3)))}function Mb(_){var k=os(_)?Xp:dh;return k(_)}function df(_,k,re){(re?wa(_,k,re):k===s)?k=1:k=jn(k);var Pe=os(_)?y0:Ql;return Pe(_,k)}function hf(_){var k=os(_)?Zp:Xm;return k(_)}function Z_(_){if(_==null)return 0;if(nr(_))return V0(_)?ls(_):_.length;var k=ba(_);return k==we||k==Te?_.size:Us(_).length}function uf(_,k,re){var Pe=os(_)?rs:__;return re&&wa(_,k,re)&&(k=s),Pe(_,Bn(k,3))}var K_=ss(function(_,k){if(_==null)return[];var re=k.length;return re>1&&wa(_,k[0],k[1])?k=[]:re>2&&wa(k[0],k[1],k[2])&&(k=[k[0]]),Io(_,ct(k,1),[])}),F0=Zi||function(){return Pr.Date.now()};function J_(_,k){if(typeof k!="function")throw new bo(m);return _=jn(_),function(){if(--_<1)return k.apply(this,arguments)}}function Lg(_,k,re){return k=re?s:k,k=_&&k==null?_.length:k,Yo(_,ee,s,s,s,s,k)}function Og(_,k){var re;if(typeof k!="function")throw new bo(m);return _=jn(_),function(){return--_>0&&(re=k.apply(this,arguments)),_<=1&&(k=s),re}}var j0=ss(function(_,k,re){var Pe=H;if(re.length){var Ye=Kr(re,zd(j0));Pe|=$}return Yo(_,Pe,k,re,Ye)}),Rg=ss(function(_,k,re){var Pe=H|M;if(re.length){var Ye=Kr(re,zd(Rg));Pe|=$}return Yo(k,Pe,_,re,Ye)});function Bg(_,k,re){k=re?s:k;var Pe=Yo(_,A,s,s,s,s,s,k);return Pe.placeholder=Bg.placeholder,Pe}function Q_(_,k,re){k=re?s:k;var Pe=Yo(_,U,s,s,s,s,s,k);return Pe.placeholder=Q_.placeholder,Pe}function ey(_,k,re){var Pe,Ye,ot,At,zt,Yt,Ei=0,Di=!1,Ui=!1,un=!0;if(typeof _!="function")throw new bo(m);k=ia(k)||0,Ur(re)&&(Di=!!re.leading,Ui="maxWait"in re,ot=Ui?Tr(ia(re.maxWait)||0,k):ot,un="trailing"in re?!!re.trailing:un);function En(lo){var qo=Pe,fd=Ye;return Pe=Ye=s,Ei=lo,At=_.apply(fd,qo),At}function Wn(lo){return Ei=lo,zt=$u(As,k),Di?En(lo):At}function vs(lo){var qo=lo-Yt,fd=lo-Ei,Mf=k-qo;return Ui?er(Mf,ot-fd):Mf}function qn(lo){var qo=lo-Yt,fd=lo-Ei;return Yt===s||qo>=k||qo<0||Ui&&fd>=ot}function As(){var lo=F0();if(qn(lo))return Bs(lo);zt=$u(As,vs(lo))}function Bs(lo){return zt=s,un&&Pe?En(lo):(Pe=Ye=s,At)}function sl(){zt!==s&&Qp(zt),Ei=0,Pe=Yt=Ye=zt=s}function Ea(){return zt===s?At:Bs(F0())}function rl(){var lo=F0(),qo=qn(lo);if(Pe=arguments,Ye=this,Yt=lo,qo){if(zt===s)return Wn(Yt);if(Ui)return Qp(zt),zt=$u(As,k),En(Yt)}return zt===s&&(zt=$u(As,k)),At}return rl.cancel=sl,rl.flush=Ea,rl}var ty=ss(function(_,k){return je(_,1,k)}),U0=ss(function(_,k,re){return je(_,ia(k)||0,re)});function iy(_){return Yo(_,N)}function Oo(_,k){if(typeof _!="function"||k!=null&&typeof k!="function")throw new bo(m);var re=function(){var Pe=arguments,Ye=k?k.apply(this,Pe):Pe[0],ot=re.cache;if(ot.has(Ye))return ot.get(Ye);var At=_.apply(this,Pe);return re.cache=ot.set(Ye,At)||ot,At};return re.cache=new(Oo.Cache||Kl),re}Oo.Cache=Kl;function mh(_){if(typeof _!="function")throw new bo(m);return function(){var k=arguments;switch(k.length){case 0:return!_.call(this);case 1:return!_.call(this,k[0]);case 2:return!_.call(this,k[0],k[1]);case 3:return!_.call(this,k[0],k[1],k[2])}return!_.apply(this,k)}}function qu(_){return Og(2,_)}var pf=v_(function(_,k){k=k.length==1&&os(k[0])?is(k[0],mo(Bn())):is(ct(k,1),mo(Bn()));var re=k.length;return ss(function(Pe){for(var Ye=-1,ot=er(Pe.length,re);++Ye<ot;)Pe[Ye]=k[Ye].call(this,Pe[Ye]);return Ti(_,this,Pe)})}),$0=ss(function(_,k){var re=Kr(k,zd($0));return Yo(_,$,s,k,re)}),zg=ss(function(_,k){var re=Kr(k,zd(zg));return Yo(_,E,s,k,re)}),Ab=Mc(function(_,k){return Yo(_,Q,s,s,s,k)});function kb(_,k){if(typeof _!="function")throw new bo(m);return k=k===s?k:jn(k),ss(_,k)}function Pb(_,k){if(typeof _!="function")throw new bo(m);return k=k==null?0:Tr(jn(k),0),ss(function(re){var Pe=re[k],Ye=rd(re,0,k);return Pe&&ns(Ye,Pe),Ti(_,this,Ye)})}function Db(_,k,re){var Pe=!0,Ye=!0;if(typeof _!="function")throw new bo(m);return Ur(re)&&(Pe="leading"in re?!!re.leading:Pe,Ye="trailing"in re?!!re.trailing:Ye),ey(_,k,{leading:Pe,maxWait:k,trailing:Ye})}function Ib(_){return Lg(_,1)}function Lb(_,k){return $0(Qm(k),_)}function G0(){if(!arguments.length)return[];var _=arguments[0];return os(_)?_:[_]}function Ob(_){return fe(_,q)}function ny(_,k){return k=typeof k=="function"?k:s,fe(_,q,k)}function sy(_){return fe(_,O|q)}function ry(_,k){return k=typeof k=="function"?k:s,fe(_,O|q,k)}function Rb(_,k){return k==null||ke(_,k,io(k))}function Dc(_,k){return _===k||_!==_&&k!==k}var Bb=Ll(qt),zb=Ll(function(_,k){return _>=k}),Jh=Ht(function(){return arguments}())?Ht:function(_){return to(_)&&ri.call(_,"callee")&&!xt.call(_,"callee")},os=li.isArray,Nb=Ve?mo(Ve):ei;function nr(_){return _!=null&&Vs(_.length)&&!hd(_)}function cr(_){return to(_)&&nr(_)}function Ng(_){return _===!0||_===!1||to(_)&&Si(_)==Ee}var Ic=ih||c1,Xu=Je?mo(Je):dn;function Fb(_){return to(_)&&_.nodeType===1&&!gf(_)}function jb(_){if(_==null)return!0;if(nr(_)&&(os(_)||typeof _=="string"||typeof _.splice=="function"||Ic(_)||Lc(_)||Jh(_)))return!_.length;var k=ba(_);if(k==we||k==Te)return!_.size;if(Uu(_))return!Us(_).length;for(var re in _)if(ri.call(_,re))return!1;return!0}function ff(_,k){return gn(_,k)}function Ub(_,k,re){re=typeof re=="function"?re:s;var Pe=re?re(_,k):s;return Pe===s?gn(_,k,s,re):!!Pe}function Fg(_){if(!to(_))return!1;var k=Si(_);return k==_e||k==ye||typeof _.message=="string"&&typeof _.name=="string"&&!gf(_)}function mf(_){return typeof _=="number"&&Fp(_)}function hd(_){if(!Ur(_))return!1;var k=Si(_);return k==ae||k==me||k==pe||k==Qe}function jg(_){return typeof _=="number"&&_==jn(_)}function Vs(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=X}function Ur(_){var k=typeof _;return _!=null&&(k=="object"||k=="function")}function to(_){return _!=null&&typeof _=="object"}var Ug=Rt?mo(Rt):Pn;function Fd(_,k){return _===k||Zn(_,k,C0(k))}function Zu(_,k,re){return re=typeof re=="function"?re:s,Zn(_,k,C0(k),re)}function oy(_){return ay(_)&&_!=+_}function $b(_){if(k_(_))throw new Nn(h);return xn(_)}function Gb(_){return _===null}function Vb(_){return _==null}function ay(_){return typeof _=="number"||to(_)&&Si(_)==Re}function gf(_){if(!to(_)||Si(_)!=$e)return!1;var k=Se(_);if(k===null)return!0;var re=ri.call(k,"constructor")&&k.constructor;return typeof re=="function"&&re instanceof re&&Gt.call(re)==Cn}var $g=Et?mo(Et):tn;function Hb(_){return jg(_)&&_>=-X&&_<=X}var ly=Xt?mo(Xt):Gs;function V0(_){return typeof _=="string"||!os(_)&&to(_)&&Si(_)==Oe}function Ca(_){return typeof _=="symbol"||to(_)&&Si(_)==ze}var Lc=hi?mo(hi):Is;function cy(_){return _===s}function Wb(_){return to(_)&&ba(_)==Ke}function Yb(_){return to(_)&&Si(_)==pt}var qb=Ll(ta),Gg=Ll(function(_,k){return _<=k});function H0(_){if(!_)return[];if(nr(_))return V0(_)?vo(_):ao(_);if(cs&&_[cs])return Qc(_[cs]());var k=ba(_),re=k==we?Wl:k==Te?Xa:eu;return re(_)}function ud(_){if(!_)return _===0?_:0;if(_=ia(_),_===D||_===-D){var k=_<0?-1:1;return k*te}return _===_?_:0}function jn(_){var k=ud(_),re=k%1;return k===k?re?k-re:k:0}function Ku(_){return _?he(jn(_),0,de):0}function ia(_){if(typeof _=="number")return _;if(Ca(_))return Z;if(Ur(_)){var k=typeof _.valueOf=="function"?_.valueOf():_;_=Ur(k)?k+"":k}if(typeof _!="string")return _===0?_:+_;_=wl(_);var re=_n.test(_);return re||$i.test(_)?Kc(_.slice(2),re?2:8):yn.test(_)?Z:+_}function W0(_){return wo(_,za(_))}function Y0(_){return _?he(jn(_),-X,X):_===0?_:0}function dr(_){return _==null?"":el(_)}var dy=zu(function(_,k){if(Uu(k)||nr(k)){wo(k,io(k),_);return}for(var re in k)ri.call(k,re)&&y(_,re,k[re])}),Vg=zu(function(_,k){wo(k,za(k),_)}),q0=zu(function(_,k,re,Pe){wo(k,za(k),_,Pe)}),hy=zu(function(_,k,re,Pe){wo(k,io(k),_,Pe)}),uy=Mc(se);function Hg(_,k){var re=Sc(_);return k==null?re:w(re,k)}var py=ss(function(_,k){_=Es(_);var re=-1,Pe=k.length,Ye=Pe>2?k[2]:s;for(Ye&&wa(k[0],k[1],Ye)&&(Pe=1);++re<Pe;)for(var ot=k[re],At=za(ot),zt=-1,Yt=At.length;++zt<Yt;){var Ei=At[zt],Di=_[Ei];(Di===s||Dc(Di,Ft[Ei])&&!ri.call(_,Ei))&&(_[Ei]=ot[Ei])}return _}),Xb=ss(function(_){return _.push(s,Vh),Ti(_f,s,_)});function fy(_,k){return Nr(_,Bn(k,3),Ct)}function jd(_,k){return Nr(_,Bn(k,3),jt)}function my(_,k){return _==null?_:bt(_,Bn(k,3),za)}function gy(_,k){return _==null?_:It(_,Bn(k,3),za)}function _y(_,k){return _&&Ct(_,Bn(k,3))}function yy(_,k){return _&&jt(_,Bn(k,3))}function Zb(_){return _==null?[]:Qt(_,io(_))}function Kb(_){return _==null?[]:Qt(_,za(_))}function X0(_,k,re){var Pe=_==null?s:Zt(_,k);return Pe===s?re:Pe}function vy(_,k){return _!=null&&hg(_,k,pi)}function Qh(_,k){return _!=null&&hg(_,k,ti)}var xy=Bd(function(_,k,re){k!=null&&typeof k.toString!="function"&&(k=Li.call(k)),_[k]=re},r1(go)),by=Bd(function(_,k,re){k!=null&&typeof k.toString!="function"&&(k=Li.call(k)),ri.call(_,k)?_[k].push(re):_[k]=[re]},Bn),Wg=ss(Ri);function io(_){return nr(_)?Ou(_):Us(_)}function za(_){return nr(_)?Ou(_,!0):va(_)}function Z0(_,k){var re={};return k=Bn(k,3),Ct(_,function(Pe,Ye,ot){F(re,k(Pe,Ye,ot),Pe)}),re}function wy(_,k){var re={};return k=Bn(k,3),Ct(_,function(Pe,Ye,ot){F(re,Ye,k(Pe,Ye,ot))}),re}var K0=zu(function(_,k,re){$s(_,k,re)}),_f=zu(function(_,k,re,Pe){$s(_,k,re,Pe)}),Jb=Mc(function(_,k){var re={};if(_==null)return re;var Pe=!1;k=is(k,function(ot){return ot=Cc(ot,_),Pe||(Pe=ot.length>1),ot}),wo(_,lg(_),re),Pe&&(re=fe(re,O|V|q,rg));for(var Ye=k.length;Ye--;)x0(re,k[Ye]);return re});function Qb(_,k){return Sy(_,mh(Bn(k)))}var e2=Mc(function(_,k){return _==null?{}:ir(_,k)});function Sy(_,k){if(_==null)return{};var re=is(lg(_),function(Pe){return[Pe]});return k=Bn(k),Ho(_,re,function(Pe,Ye){return k(Pe,Ye[0])})}function t2(_,k,re){k=Cc(k,_);var Pe=-1,Ye=k.length;for(Ye||(Ye=1,_=s);++Pe<Ye;){var ot=_==null?s:_[il(k[Pe])];ot===s&&(Pe=Ye,ot=re),_=hd(ot)?ot.call(_):ot}return _}function Ju(_,k,re){return _==null?_:Ld(_,k,re)}function Yg(_,k,re,Pe){return Pe=typeof Pe=="function"?Pe:s,_==null?_:Ld(_,k,re,Pe)}var Ty=ng(io),qg=ng(za);function i2(_,k,re){var Pe=os(_),Ye=Pe||Ic(_)||Lc(_);if(k=Bn(k,4),re==null){var ot=_&&_.constructor;Ye?re=Pe?new ot:[]:Ur(_)?re=hd(ot)?Sc(Se(_)):{}:re={}}return(Ye?ai:Ct)(_,function(At,zt,Yt){return k(re,At,zt,Yt)}),re}function Xg(_,k){return _==null?!0:x0(_,k)}function n2(_,k,re){return _==null?_:y_(_,k,Qm(re))}function gh(_,k,re,Pe){return Pe=typeof Pe=="function"?Pe:s,_==null?_:y_(_,k,Qm(re),Pe)}function eu(_){return _==null?[]:Sl(_,io(_))}function Cy(_){return _==null?[]:Sl(_,za(_))}function J0(_,k,re){return re===s&&(re=k,k=s),re!==s&&(re=ia(re),re=re===re?re:0),k!==s&&(k=ia(k),k=k===k?k:0),he(ia(_),k,re)}function Zg(_,k,re){return k=ud(k),re===s?(re=k,k=0):re=ud(re),_=ia(_),Pi(_,k,re)}function s2(_,k,re){if(re&&typeof re!="boolean"&&wa(_,k,re)&&(k=re=s),re===s&&(typeof k=="boolean"?(re=k,k=s):typeof _=="boolean"&&(re=_,_=s)),_===s&&k===s?(_=0,k=1):(_=ud(_),k===s?(k=_,_=0):k=ud(k)),_>k){var Pe=_;_=k,k=Pe}if(re||_%1||k%1){var Ye=a0();return er(_+Ye*(k-_+vc("1e-"+((Ye+"").length-1))),k)}return xa(_,k)}var r2=Rd(function(_,k,re){return k=k.toLowerCase(),_+(re?Kg(k):k)});function Kg(_){return tm(dr(_).toLowerCase())}function Jg(_){return _=dr(_),_&&_.replace(gs,Jd).replace(kr,"")}function yf(_,k,re){_=dr(_),k=el(k);var Pe=_.length;re=re===s?Pe:he(jn(re),0,Pe);var Ye=re;return re-=k.length,re>=0&&_.slice(re,Ye)==k}function Ud(_){return _=dr(_),_&&zo.test(_)?_.replace(nn,El):_}function Qg(_){return _=dr(_),_&&We.test(_)?_.replace(Fe,"\\$&"):_}var Qu=Rd(function(_,k,re){return _+(re?"-":"")+k.toLowerCase()}),ep=Rd(function(_,k,re){return _+(re?" ":"")+k.toLowerCase()}),nc=tg("toLowerCase");function sc(_,k,re){_=dr(_),k=jn(k);var Pe=k?ls(_):0;if(!k||Pe>=k)return _;var Ye=(k-Pe)/2;return ef(Rh(Ye),re)+_+ef(td(Ye),re)}function o2(_,k,re){_=dr(_),k=jn(k);var Pe=k?ls(_):0;return k&&Pe<k?_+ef(k-Pe,re):_}function Ey(_,k,re){_=dr(_),k=jn(k);var Pe=k?ls(_):0;return k&&Pe<k?ef(k-Pe,re)+_:_}function a2(_,k,re){return re||k==null?k=0:k&&(k=+k),sh(dr(_).replace(dt,""),k||0)}function e1(_,k,re){return(re?wa(_,k,re):k===s)?k=1:k=jn(k),Qa(dr(_),k)}function pd(){var _=arguments,k=dr(_[0]);return _.length<3?k:k.replace(_[1],_[2])}var tu=Rd(function(_,k,re){return _+(re?"_":"")+k.toLowerCase()});function My(_,k,re){return re&&typeof re!="number"&&wa(_,k,re)&&(k=re=s),re=re===s?de:re>>>0,re?(_=dr(_),_&&(typeof k=="string"||k!=null&&!$g(k))&&(k=el(k),!k&&ea(_))?rd(vo(_),0,re):_.split(k,re)):[]}var Ay=Rd(function(_,k,re){return _+(re?" ":"")+tm(k)});function l2(_,k,re){return _=dr(_),re=re==null?0:he(jn(re),0,_.length),k=el(k),_.slice(re,re+k.length)==k}function Q0(_,k,re){var Pe=it.templateSettings;re&&wa(_,k,re)&&(k=s),_=dr(_),k=q0({},k,Pe,sg);var Ye=q0({},k.imports,Pe.imports,sg),ot=io(Ye),At=Sl(Ye,ot),zt,Yt,Ei=0,Di=k.interpolate||pn,Ui="__p += '",un=ql((k.escape||pn).source+"|"+Di.source+"|"+(Di===lr?Gi:pn).source+"|"+(k.evaluate||pn).source+"|$","g"),En="//# sourceURL="+(ri.call(k,"sourceURL")?(k.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xc+"]")+`
`;_.replace(un,function(qn,As,Bs,sl,Ea,rl){return Bs||(Bs=sl),Ui+=_.slice(Ei,rl).replace(Rs,kd),As&&(zt=!0,Ui+=`' +
__e(`+As+`) +
'`),Ea&&(Yt=!0,Ui+=`';
`+Ea+`;
__p += '`),Bs&&(Ui+=`' +
((__t = (`+Bs+`)) == null ? '' : __t) +
'`),Ei=rl+qn.length,qn}),Ui+=`';
`;var Wn=ri.call(k,"variable")&&k.variable;if(!Wn)Ui=`with (obj) {
`+Ui+`
}
`;else if(Ut.test(Wn))throw new Nn(n);Ui=(Yt?Ui.replace(Gn,""):Ui).replace(br,"$1").replace(us,"$1;"),Ui="function("+(Wn||"obj")+`) {
`+(Wn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(zt?", __e = _.escape":"")+(Yt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ui+`return __p
}`;var vs=n1(function(){return bs(ot,En+"return "+Ui).apply(s,At)});if(vs.source=Ui,Fg(vs))throw vs;return vs}function t1(_){return dr(_).toLowerCase()}function tp(_){return dr(_).toUpperCase()}function vf(_,k,re){if(_=dr(_),_&&(re||k===s))return wl(_);if(!_||!(k=el(k)))return _;var Pe=vo(_),Ye=vo(k),ot=Ad(Pe,Ye),At=Tl(Pe,Ye)+1;return rd(Pe,ot,At).join("")}function xf(_,k,re){if(_=dr(_),_&&(re||k===s))return _.slice(0,Jr(_)+1);if(!_||!(k=el(k)))return _;var Pe=vo(_),Ye=Tl(Pe,vo(k))+1;return rd(Pe,0,Ye).join("")}function em(_,k,re){if(_=dr(_),_&&(re||k===s))return _.replace(dt,"");if(!_||!(k=el(k)))return _;var Pe=vo(_),Ye=Ad(Pe,vo(k));return rd(Pe,Ye).join("")}function ky(_,k){var re=j,Pe=W;if(Ur(k)){var Ye="separator"in k?k.separator:Ye;re="length"in k?jn(k.length):re,Pe="omission"in k?el(k.omission):Pe}_=dr(_);var ot=_.length;if(ea(_)){var At=vo(_);ot=At.length}if(re>=ot)return _;var zt=re-ls(Pe);if(zt<1)return Pe;var Yt=At?rd(At,0,zt).join(""):_.slice(0,zt);if(Ye===s)return Yt+Pe;if(At&&(zt+=Yt.length-zt),$g(Ye)){if(_.slice(zt).search(Ye)){var Ei,Di=Yt;for(Ye.global||(Ye=ql(Ye.source,dr(Mi.exec(Ye))+"g")),Ye.lastIndex=0;Ei=Ye.exec(Di);)var Ui=Ei.index;Yt=Yt.slice(0,Ui===s?zt:Ui)}}else if(_.indexOf(el(Ye),zt)!=zt){var un=Yt.lastIndexOf(Ye);un>-1&&(Yt=Yt.slice(0,un))}return Yt+Pe}function bf(_){return _=dr(_),_&&qr.test(_)?_.replace(Ps,Do):_}var i1=Rd(function(_,k,re){return _+(re?" ":"")+k.toUpperCase()}),tm=tg("toUpperCase");function iu(_,k,re){return _=dr(_),k=re?s:k,k===s?Ml(_)?eh(_):xl(_):_.match(k)||[]}var n1=ss(function(_,k){try{return Ti(_,s,k)}catch(re){return Fg(re)?re:new Nn(re)}}),s1=Mc(function(_,k){return ai(k,function(re){re=il(re),F(_,re,j0(_[re],_))}),_});function Py(_){var k=_==null?0:_.length,re=Bn();return _=k?is(_,function(Pe){if(typeof Pe[1]!="function")throw new bo(m);return[re(Pe[0]),Pe[1]]}):[],ss(function(Pe){for(var Ye=-1;++Ye<k;){var ot=_[Ye];if(Ti(ot[0],this,Pe))return Ti(ot[1],this,Pe)}})}function c2(_){return De(fe(_,O))}function r1(_){return function(){return _}}function Dy(_,k){return _==null||_!==_?k:_}var nu=Qr(),d2=Qr(!0);function go(_){return _}function o1(_){return Hs(typeof _=="function"?_:fe(_,O))}function wf(_){return Pl(fe(_,O))}function Sf(_,k){return tr(_,fe(k,O))}var Tf=ss(function(_,k){return function(re){return Ri(re,_,k)}}),Cf=ss(function(_,k){return function(re){return Ri(_,re,k)}});function ip(_,k,re){var Pe=io(k),Ye=Qt(k,Pe);re==null&&!(Ur(k)&&(Ye.length||!Pe.length))&&(re=k,k=_,_=this,Ye=Qt(k,io(k)));var ot=!(Ur(re)&&"chain"in re)||!!re.chain,At=hd(_);return ai(Ye,function(zt){var Yt=k[zt];_[zt]=Yt,At&&(_.prototype[zt]=function(){var Ei=this.__chain__;if(ot||Ei){var Di=_(this.__wrapped__),Ui=Di.__actions__=ao(this.__actions__);return Ui.push({func:Yt,args:arguments,thisArg:_}),Di.__chain__=Ei,Di}return Yt.apply(_,ns([this.value()],arguments))})}),_}function h2(){return Pr._===this&&(Pr._=kn),this}function a1(){}function np(_){return _=jn(_),ss(function(k){return jr(k,_)})}var im=_s(is),u2=_s(Rn),Iy=_s(rs);function l1(_){return pg(_)?$o(il(_)):jh(_)}function p2(_){return function(k){return _==null?s:Zt(_,k)}}var Ly=Ec(),f2=Ec(!0);function nm(){return[]}function c1(){return!1}function Oy(){return{}}function m2(){return""}function g2(){return!0}function sm(_,k){if(_=jn(_),_<1||_>X)return[];var re=de,Pe=er(_,de);k=Bn(k),_-=de;for(var Ye=Go(Pe,k);++re<_;)k(re);return Ye}function rm(_){return os(_)?is(_,il):Ca(_)?[_]:ao(_g(dr(_)))}function om(_){var k=++Ai;return dr(_)+k}var _2=Gh(function(_,k){return _+k},0),d1=Ba("ceil"),h1=Gh(function(_,k){return _/k},1),_h=Ba("floor");function y2(_){return _&&_.length?et(_,go,qt):s}function u1(_,k){return _&&_.length?et(_,Bn(k,2),qt):s}function Ry(_){return fo(_,go)}function am(_,k){return fo(_,Bn(k,2))}function v2(_){return _&&_.length?et(_,go,ta):s}function x2(_,k){return _&&_.length?et(_,Bn(k,2),ta):s}var b2=Gh(function(_,k){return _*k},1),w2=Ba("round"),p1=Gh(function(_,k){return _-k},0);function S2(_){return _&&_.length?Cs(_,go):0}function Ef(_,k){return _&&_.length?Cs(_,Bn(k,2)):0}return it.after=J_,it.ary=Lg,it.assign=dy,it.assignIn=Vg,it.assignInWith=q0,it.assignWith=hy,it.at=uy,it.before=Og,it.bind=j0,it.bindAll=s1,it.bindKey=Rg,it.castArray=G0,it.chain=G_,it.chunk=Sa,it.compact=tc,it.concat=yg,it.cond=Py,it.conforms=c2,it.constant=r1,it.countBy=yb,it.create=Hg,it.curry=Bg,it.curryRight=Q_,it.debounce=ey,it.defaults=py,it.defaultsDeep=Xb,it.defer=ty,it.delay=U0,it.difference=Wr,it.differenceBy=D_,it.differenceWith=sf,it.drop=Pc,it.dropRight=Zx,it.dropRightWhile=Kx,it.dropWhile=I_,it.fill=L_,it.filter=xb,it.flatMap=wb,it.flatMapDeep=H_,it.flatMapDepth=Yu,it.flatten=xg,it.flattenDeep=O_,it.flattenDepth=R_,it.flip=iy,it.flow=nu,it.flowRight=d2,it.fromPairs=Jx,it.functions=Zb,it.functionsIn=Kb,it.groupBy=Sb,it.initial=wg,it.intersection=Ta,it.intersectionBy=B_,it.intersectionWith=Qx,it.invert=xy,it.invertBy=by,it.invokeMap=X_,it.iteratee=o1,it.keyBy=Tb,it.keys=io,it.keysIn=za,it.map=B0,it.mapKeys=Z0,it.mapValues=wy,it.matches=wf,it.matchesProperty=Sf,it.memoize=Oo,it.merge=K0,it.mergeWith=_f,it.method=Tf,it.methodOf=Cf,it.mixin=ip,it.negate=mh,it.nthArg=np,it.omit=Jb,it.omitBy=Qb,it.once=qu,it.orderBy=Cb,it.over=im,it.overArgs=pf,it.overEvery=u2,it.overSome=Iy,it.partial=$0,it.partialRight=zg,it.partition=Ig,it.pick=e2,it.pickBy=Sy,it.property=l1,it.propertyOf=p2,it.pull=F_,it.pullAll=Sg,it.pullAllBy=Tg,it.pullAllWith=Nd,it.pullAt=nl,it.range=Ly,it.rangeRight=f2,it.rearg=Ab,it.reject=Eb,it.remove=tb,it.rest=kb,it.reverse=rf,it.sampleSize=df,it.set=Ju,it.setWith=Yg,it.shuffle=hf,it.slice=ib,it.sortBy=K_,it.sortedUniq=af,it.sortedUniqBy=rb,it.split=My,it.spread=Pb,it.tail=ob,it.take=ab,it.takeRight=lb,it.takeRightWhile=cb,it.takeWhile=db,it.tap=V_,it.throttle=Db,it.thru=fh,it.toArray=H0,it.toPairs=Ty,it.toPairsIn=qg,it.toPath=rm,it.toPlainObject=W0,it.transform=i2,it.unary=Ib,it.union=hb,it.unionBy=Cg,it.unionWith=ub,it.uniq=Hu,it.uniqBy=pb,it.uniqWith=eo,it.unset=Xg,it.unzip=Wu,it.unzipWith=Eg,it.update=n2,it.updateWith=gh,it.values=eu,it.valuesIn=Cy,it.without=I0,it.words=iu,it.wrap=Lb,it.xor=L0,it.xorBy=lf,it.xorWith=U_,it.zip=$_,it.zipObject=cf,it.zipObjectDeep=Mg,it.zipWith=Ag,it.entries=Ty,it.entriesIn=qg,it.extend=Vg,it.extendWith=q0,ip(it,it),it.add=_2,it.attempt=n1,it.camelCase=r2,it.capitalize=Kg,it.ceil=d1,it.clamp=J0,it.clone=Ob,it.cloneDeep=sy,it.cloneDeepWith=ry,it.cloneWith=ny,it.conformsTo=Rb,it.deburr=Jg,it.defaultTo=Dy,it.divide=h1,it.endsWith=yf,it.eq=Dc,it.escape=Ud,it.escapeRegExp=Qg,it.every=vb,it.find=bb,it.findIndex=ph,it.findKey=fy,it.findLast=R0,it.findLastIndex=vg,it.findLastKey=jd,it.floor=_h,it.forEach=W_,it.forEachRight=Y_,it.forIn=my,it.forInRight=gy,it.forOwn=_y,it.forOwnRight=yy,it.get=X0,it.gt=Bb,it.gte=zb,it.has=vy,it.hasIn=Qh,it.head=P0,it.identity=go,it.includes=q_,it.indexOf=bg,it.inRange=Zg,it.invoke=Wg,it.isArguments=Jh,it.isArray=os,it.isArrayBuffer=Nb,it.isArrayLike=nr,it.isArrayLikeObject=cr,it.isBoolean=Ng,it.isBuffer=Ic,it.isDate=Xu,it.isElement=Fb,it.isEmpty=jb,it.isEqual=ff,it.isEqualWith=Ub,it.isError=Fg,it.isFinite=mf,it.isFunction=hd,it.isInteger=jg,it.isLength=Vs,it.isMap=Ug,it.isMatch=Fd,it.isMatchWith=Zu,it.isNaN=oy,it.isNative=$b,it.isNil=Vb,it.isNull=Gb,it.isNumber=ay,it.isObject=Ur,it.isObjectLike=to,it.isPlainObject=gf,it.isRegExp=$g,it.isSafeInteger=Hb,it.isSet=ly,it.isString=V0,it.isSymbol=Ca,it.isTypedArray=Lc,it.isUndefined=cy,it.isWeakMap=Wb,it.isWeakSet=Yb,it.join=z_,it.kebabCase=Qu,it.last=ic,it.lastIndexOf=eb,it.lowerCase=ep,it.lowerFirst=nc,it.lt=qb,it.lte=Gg,it.max=y2,it.maxBy=u1,it.mean=Ry,it.meanBy=am,it.min=v2,it.minBy=x2,it.stubArray=nm,it.stubFalse=c1,it.stubObject=Oy,it.stubString=m2,it.stubTrue=g2,it.multiply=b2,it.nth=N_,it.noConflict=h2,it.noop=a1,it.now=F0,it.pad=sc,it.padEnd=o2,it.padStart=Ey,it.parseInt=a2,it.random=s2,it.reduce=z0,it.reduceRight=N0,it.repeat=e1,it.replace=pd,it.result=t2,it.round=w2,it.runInContext=$t,it.sample=Mb,it.size=Z_,it.snakeCase=tu,it.some=uf,it.sortedIndex=nb,it.sortedIndexBy=sb,it.sortedIndexOf=of,it.sortedLastIndex=D0,it.sortedLastIndexBy=j_,it.sortedLastIndexOf=Kh,it.startCase=Ay,it.startsWith=l2,it.subtract=p1,it.sum=S2,it.sumBy=Ef,it.template=Q0,it.times=sm,it.toFinite=ud,it.toInteger=jn,it.toLength=Ku,it.toLower=t1,it.toNumber=ia,it.toSafeInteger=Y0,it.toString=dr,it.toUpper=tp,it.trim=vf,it.trimEnd=xf,it.trimStart=em,it.truncate=ky,it.unescape=bf,it.uniqueId=om,it.upperCase=i1,it.upperFirst=tm,it.each=W_,it.eachRight=Y_,it.first=P0,ip(it,function(){var _={};return Ct(it,function(k,re){ri.call(it.prototype,re)||(_[re]=k)}),_}(),{chain:!1}),it.VERSION=a,ai(["bind","bindKey","curry","curryRight","partial","partialRight"],function(_){it[_].placeholder=it}),ai(["drop","take"],function(_,k){Fn.prototype[_]=function(re){re=re===s?1:Tr(jn(re),0);var Pe=this.__filtered__&&!k?new Fn(this):this.clone();return Pe.__filtered__?Pe.__takeCount__=er(re,Pe.__takeCount__):Pe.__views__.push({size:er(re,de),type:_+(Pe.__dir__<0?"Right":"")}),Pe},Fn.prototype[_+"Right"]=function(re){return this.reverse()[_](re).reverse()}}),ai(["filter","map","takeWhile"],function(_,k){var re=k+1,Pe=re==f||re==b;Fn.prototype[_]=function(Ye){var ot=this.clone();return ot.__iteratees__.push({iteratee:Bn(Ye,3),type:re}),ot.__filtered__=ot.__filtered__||Pe,ot}}),ai(["head","last"],function(_,k){var re="take"+(k?"Right":"");Fn.prototype[_]=function(){return this[re](1).value()[0]}}),ai(["initial","tail"],function(_,k){var re="drop"+(k?"":"Right");Fn.prototype[_]=function(){return this.__filtered__?new Fn(this):this[re](1)}}),Fn.prototype.compact=function(){return this.filter(go)},Fn.prototype.find=function(_){return this.filter(_).head()},Fn.prototype.findLast=function(_){return this.reverse().find(_)},Fn.prototype.invokeMap=ss(function(_,k){return typeof _=="function"?new Fn(this):this.map(function(re){return Ri(re,_,k)})}),Fn.prototype.reject=function(_){return this.filter(mh(Bn(_)))},Fn.prototype.slice=function(_,k){_=jn(_);var re=this;return re.__filtered__&&(_>0||k<0)?new Fn(re):(_<0?re=re.takeRight(-_):_&&(re=re.drop(_)),k!==s&&(k=jn(k),re=k<0?re.dropRight(-k):re.take(k-_)),re)},Fn.prototype.takeRightWhile=function(_){return this.reverse().takeWhile(_).reverse()},Fn.prototype.toArray=function(){return this.take(de)},Ct(Fn.prototype,function(_,k){var re=/^(?:filter|find|map|reject)|While$/.test(k),Pe=/^(?:head|last)$/.test(k),Ye=it[Pe?"take"+(k=="last"?"Right":""):k],ot=Pe||/^find/.test(k);Ye&&(it.prototype[k]=function(){var At=this.__wrapped__,zt=Pe?[1]:arguments,Yt=At instanceof Fn,Ei=zt[0],Di=Yt||os(At),Ui=function(As){var Bs=Ye.apply(it,ns([As],zt));return Pe&&un?Bs[0]:Bs};Di&&re&&typeof Ei=="function"&&Ei.length!=1&&(Yt=Di=!1);var un=this.__chain__,En=!!this.__actions__.length,Wn=ot&&!un,vs=Yt&&!En;if(!ot&&Di){At=vs?At:new Fn(this);var qn=_.apply(At,zt);return qn.__actions__.push({func:fh,args:[Ui],thisArg:s}),new La(qn,un)}return Wn&&vs?_.apply(this,zt):(qn=this.thru(Ui),Wn?Pe?qn.value()[0]:qn.value():qn)})}),ai(["pop","push","shift","sort","splice","unshift"],function(_){var k=st[_],re=/^(?:push|sort|unshift)$/.test(_)?"tap":"thru",Pe=/^(?:pop|shift)$/.test(_);it.prototype[_]=function(){var Ye=arguments;if(Pe&&!this.__chain__){var ot=this.value();return k.apply(os(ot)?ot:[],Ye)}return this[re](function(At){return k.apply(os(At)?At:[],Ye)})}}),Ct(Fn.prototype,function(_,k){var re=it[k];if(re){var Pe=re.name+"";ri.call(Pd,Pe)||(Pd[Pe]=[]),Pd[Pe].push({name:k,func:re})}}),Pd[Tn(s,M).name]=[{name:"wrapper",func:s}],Fn.prototype.clone=Ym,Fn.prototype.reverse=Gp,Fn.prototype.value=qm,it.prototype.at=fb,it.prototype.chain=kg,it.prototype.commit=mb,it.prototype.next=Pg,it.prototype.plant=O0,it.prototype.reverse=gb,it.prototype.toJSON=it.prototype.valueOf=it.prototype.value=_b,it.prototype.first=it.prototype.head,cs&&(it.prototype[cs]=Dg),it},xo=th();le?((le.exports=xo)._=xo,G._=xo):Pr._=xo}).call(la)})(vv,vv.exports);var uk=vv.exports;const qv=wd(uk);var q5={exports:{}};/*!
 * jQuery JavaScript Library v3.6.3
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-12-20T21:28Z
 */(function(e){(function(t,s){e.exports=t.document?s(t,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return s(a)}})(typeof window<"u"?window:la,function(t,s){var a=[],c=Object.getPrototypeOf,h=a.slice,m=a.flat?function(G){return a.flat.call(G)}:function(G){return a.concat.apply([],G)},n=a.push,x=a.indexOf,z={},Y=z.toString,O=z.hasOwnProperty,V=O.toString,q=V.call(Object),L={},I=function(le){return typeof le=="function"&&typeof le.nodeType!="number"&&typeof le.item!="function"},H=function(le){return le!=null&&le===le.window},M=t.document,C={type:!0,src:!0,nonce:!0,noModule:!0};function A(G,le,ve){ve=ve||M;var Ae,Ue,Ve=ve.createElement("script");if(Ve.text=G,le)for(Ae in C)Ue=le[Ae]||le.getAttribute&&le.getAttribute(Ae),Ue&&Ve.setAttribute(Ae,Ue);ve.head.appendChild(Ve).parentNode.removeChild(Ve)}function U(G){return G==null?G+"":typeof G=="object"||typeof G=="function"?z[Y.call(G)]||"object":typeof G}var $="3.6.3",E=function(G,le){return new E.fn.init(G,le)};E.fn=E.prototype={jquery:$,constructor:E,length:0,toArray:function(){return h.call(this)},get:function(G){return G==null?h.call(this):G<0?this[G+this.length]:this[G]},pushStack:function(G){var le=E.merge(this.constructor(),G);return le.prevObject=this,le},each:function(G){return E.each(this,G)},map:function(G){return this.pushStack(E.map(this,function(le,ve){return G.call(le,ve,le)}))},slice:function(){return this.pushStack(h.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(G,le){return(le+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(G,le){return le%2}))},eq:function(G){var le=this.length,ve=+G+(G<0?le:0);return this.pushStack(ve>=0&&ve<le?[this[ve]]:[])},end:function(){return this.prevObject||this.constructor()},push:n,sort:a.sort,splice:a.splice},E.extend=E.fn.extend=function(){var G,le,ve,Ae,Ue,Ve,Je=arguments[0]||{},Rt=1,Et=arguments.length,Xt=!1;for(typeof Je=="boolean"&&(Xt=Je,Je=arguments[Rt]||{},Rt++),typeof Je!="object"&&!I(Je)&&(Je={}),Rt===Et&&(Je=this,Rt--);Rt<Et;Rt++)if((G=arguments[Rt])!=null)for(le in G)Ae=G[le],!(le==="__proto__"||Je===Ae)&&(Xt&&Ae&&(E.isPlainObject(Ae)||(Ue=Array.isArray(Ae)))?(ve=Je[le],Ue&&!Array.isArray(ve)?Ve=[]:!Ue&&!E.isPlainObject(ve)?Ve={}:Ve=ve,Ue=!1,Je[le]=E.extend(Xt,Ve,Ae)):Ae!==void 0&&(Je[le]=Ae));return Je},E.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),isReady:!0,error:function(G){throw new Error(G)},noop:function(){},isPlainObject:function(G){var le,ve;return!G||Y.call(G)!=="[object Object]"?!1:(le=c(G),le?(ve=O.call(le,"constructor")&&le.constructor,typeof ve=="function"&&V.call(ve)===q):!0)},isEmptyObject:function(G){var le;for(le in G)return!1;return!0},globalEval:function(G,le,ve){A(G,{nonce:le&&le.nonce},ve)},each:function(G,le){var ve,Ae=0;if(ee(G))for(ve=G.length;Ae<ve&&le.call(G[Ae],Ae,G[Ae])!==!1;Ae++);else for(Ae in G)if(le.call(G[Ae],Ae,G[Ae])===!1)break;return G},makeArray:function(G,le){var ve=le||[];return G!=null&&(ee(Object(G))?E.merge(ve,typeof G=="string"?[G]:G):n.call(ve,G)),ve},inArray:function(G,le,ve){return le==null?-1:x.call(le,G,ve)},merge:function(G,le){for(var ve=+le.length,Ae=0,Ue=G.length;Ae<ve;Ae++)G[Ue++]=le[Ae];return G.length=Ue,G},grep:function(G,le,ve){for(var Ae,Ue=[],Ve=0,Je=G.length,Rt=!ve;Ve<Je;Ve++)Ae=!le(G[Ve],Ve),Ae!==Rt&&Ue.push(G[Ve]);return Ue},map:function(G,le,ve){var Ae,Ue,Ve=0,Je=[];if(ee(G))for(Ae=G.length;Ve<Ae;Ve++)Ue=le(G[Ve],Ve,ve),Ue!=null&&Je.push(Ue);else for(Ve in G)Ue=le(G[Ve],Ve,ve),Ue!=null&&Je.push(Ue);return m(Je)},guid:1,support:L}),typeof Symbol=="function"&&(E.fn[Symbol.iterator]=a[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(G,le){z["[object "+le+"]"]=le.toLowerCase()});function ee(G){var le=!!G&&"length"in G&&G.length,ve=U(G);return I(G)||H(G)?!1:ve==="array"||le===0||typeof le=="number"&&le>0&&le-1 in G}var Q=function(G){var le,ve,Ae,Ue,Ve,Je,Rt,Et,Xt,hi,Ti,ni,ai,Vi,Rn,ln,Qs,Fs,is,ns="sizzle"+1*new Date,On=G.document,zr=0,rs=0,js=vo(),ya=vo(),xl=vo(),Nr=vo(),Ao=function(st,kt){return st===kt&&(Ti=!0),0},zn={}.hasOwnProperty,Zr=[],ko=Zr.pop,fo=Zr.push,$o=Zr.push,bl=Zr.slice,Ia=function(st,kt){for(var Ft=0,_i=st.length;Ft<_i;Ft++)if(st[Ft]===kt)return Ft;return-1},Jc="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Cs="[\\x20\\t\\r\\n\\f]",Go="(?:\\\\[\\da-fA-F]{1,6}"+Cs+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",xc="\\["+Cs+"*("+Go+")(?:"+Cs+"*([*^$|!~]?=)"+Cs+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Go+"))|)"+Cs+"*\\]",wl=":("+Go+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+xc+")*)|.*)\\)|)",mo=new RegExp(Cs+"+","g"),Sl=new RegExp("^"+Cs+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Cs+"+$","g"),Hl=new RegExp("^"+Cs+"*,"+Cs+"*"),Ad=new RegExp("^"+Cs+"*([>+~]|"+Cs+")"+Cs+"*"),Tl=new RegExp(Cs+"|>"),Cl=new RegExp(wl),Jd=new RegExp("^"+Go+"$"),El={ID:new RegExp("^#("+Go+")"),CLASS:new RegExp("^\\.("+Go+")"),TAG:new RegExp("^("+Go+"|[*])"),ATTR:new RegExp("^"+xc),PSEUDO:new RegExp("^"+wl),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Cs+"*(even|odd|(([+-]|)(\\d*)n|)"+Cs+"*(?:([+-]|)"+Cs+"*(\\d+)|))"+Cs+"*\\)|)","i"),bool:new RegExp("^(?:"+Jc+")$","i"),needsContext:new RegExp("^"+Cs+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Cs+"*((?:-\\d)?\\d*)"+Cs+"*\\)|)(?=[^-]|$)","i")},kd=/HTML$/i,Qo=/^(?:input|select|textarea|button)$/i,ea=/^h\d$/i,Ml=/^[^{]+\{\s*\[native \w/,Qc=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Wl=/[+~]/,Po=new RegExp("\\\\[\\da-fA-F]{1,6}"+Cs+"?|\\\\([^\\r\\n\\f])","g"),Kr=function(st,kt){var Ft="0x"+st.slice(1)-65536;return kt||(Ft<0?String.fromCharCode(Ft+65536):String.fromCharCode(Ft>>10|55296,Ft&1023|56320))},Xa=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Al=function(st,kt){return kt?st==="\0"?"�":st.slice(0,-1)+"\\"+st.charCodeAt(st.length-1).toString(16)+" ":"\\"+st},Yl=function(){ni()},Oh=Nn(function(st){return st.disabled===!0&&st.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{$o.apply(Zr=bl.call(On.childNodes),On.childNodes),Zr[On.childNodes.length].nodeType}catch{$o={apply:Zr.length?function(kt,Ft){fo.apply(kt,bl.call(Ft))}:function(kt,Ft){for(var _i=kt.length,Gt=0;kt[_i++]=Ft[Gt++];);kt.length=_i-1}}}function ls(st,kt,Ft,_i){var Gt,ri,Ai,Xi,Li,Cn,kn,Dn=kt&&kt.ownerDocument,Hn=kt?kt.nodeType:9;if(Ft=Ft||[],typeof st!="string"||!st||Hn!==1&&Hn!==9&&Hn!==11)return Ft;if(!_i&&(ni(kt),kt=kt||ai,Rn)){if(Hn!==11&&(Li=Qc.exec(st)))if(Gt=Li[1]){if(Hn===9)if(Ai=kt.getElementById(Gt)){if(Ai.id===Gt)return Ft.push(Ai),Ft}else return Ft;else if(Dn&&(Ai=Dn.getElementById(Gt))&&is(kt,Ai)&&Ai.id===Gt)return Ft.push(Ai),Ft}else{if(Li[2])return $o.apply(Ft,kt.getElementsByTagName(st)),Ft;if((Gt=Li[3])&&ve.getElementsByClassName&&kt.getElementsByClassName)return $o.apply(Ft,kt.getElementsByClassName(Gt)),Ft}if(ve.qsa&&!Nr[st+" "]&&(!ln||!ln.test(st))&&(Hn!==1||kt.nodeName.toLowerCase()!=="object")){if(kn=st,Dn=kt,Hn===1&&(Tl.test(st)||Ad.test(st))){for(Dn=Wl.test(st)&&gi(kt.parentNode)||kt,(Dn!==kt||!ve.scope)&&((Xi=kt.getAttribute("id"))?Xi=Xi.replace(Xa,Al):kt.setAttribute("id",Xi=ns)),Cn=Je(st),ri=Cn.length;ri--;)Cn[ri]=(Xi?"#"+Xi:":scope")+" "+cn(Cn[ri]);kn=Cn.join(",")}try{if(ve.cssSupportsSelector&&!CSS.supports("selector(:is("+kn+"))"))throw new Error;return $o.apply(Ft,Dn.querySelectorAll(kn)),Ft}catch{Nr(st,!0)}finally{Xi===ns&&kt.removeAttribute("id")}}}return Et(st.replace(Sl,"$1"),kt,Ft,_i)}function vo(){var st=[];function kt(Ft,_i){return st.push(Ft+" ")>Ae.cacheLength&&delete kt[st.shift()],kt[Ft+" "]=_i}return kt}function Jr(st){return st[ns]=!0,st}function Do(st){var kt=ai.createElement("fieldset");try{return!!st(kt)}catch{return!1}finally{kt.parentNode&&kt.parentNode.removeChild(kt),kt=null}}function Za(st,kt){for(var Ft=st.split("|"),_i=Ft.length;_i--;)Ae.attrHandle[Ft[_i]]=kt}function Qd(st,kt){var Ft=kt&&st,_i=Ft&&st.nodeType===1&&kt.nodeType===1&&st.sourceIndex-kt.sourceIndex;if(_i)return _i;if(Ft){for(;Ft=Ft.nextSibling;)if(Ft===kt)return-1}return st?1:-1}function eh(st){return function(kt){var Ft=kt.nodeName.toLowerCase();return Ft==="input"&&kt.type===st}}function th(st){return function(kt){var Ft=kt.nodeName.toLowerCase();return(Ft==="input"||Ft==="button")&&kt.type===st}}function xo(st){return function(kt){return"form"in kt?kt.parentNode&&kt.disabled===!1?"label"in kt?"label"in kt.parentNode?kt.parentNode.disabled===st:kt.disabled===st:kt.isDisabled===st||kt.isDisabled!==!st&&Oh(kt)===st:kt.disabled===st:"label"in kt?kt.disabled===st:!1}}function $t(st){return Jr(function(kt){return kt=+kt,Jr(function(Ft,_i){for(var Gt,ri=st([],Ft.length,kt),Ai=ri.length;Ai--;)Ft[Gt=ri[Ai]]&&(Ft[Gt]=!(_i[Gt]=Ft[Gt]))})})}function gi(st){return st&&typeof st.getElementsByTagName<"u"&&st}ve=ls.support={},Ve=ls.isXML=function(st){var kt=st&&st.namespaceURI,Ft=st&&(st.ownerDocument||st).documentElement;return!kd.test(kt||Ft&&Ft.nodeName||"HTML")},ni=ls.setDocument=function(st){var kt,Ft,_i=st?st.ownerDocument||st:On;return _i==ai||_i.nodeType!==9||!_i.documentElement||(ai=_i,Vi=ai.documentElement,Rn=!Ve(ai),On!=ai&&(Ft=ai.defaultView)&&Ft.top!==Ft&&(Ft.addEventListener?Ft.addEventListener("unload",Yl,!1):Ft.attachEvent&&Ft.attachEvent("onunload",Yl)),ve.scope=Do(function(Gt){return Vi.appendChild(Gt).appendChild(ai.createElement("div")),typeof Gt.querySelectorAll<"u"&&!Gt.querySelectorAll(":scope fieldset div").length}),ve.cssSupportsSelector=Do(function(){return CSS.supports("selector(*)")&&ai.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")}),ve.attributes=Do(function(Gt){return Gt.className="i",!Gt.getAttribute("className")}),ve.getElementsByTagName=Do(function(Gt){return Gt.appendChild(ai.createComment("")),!Gt.getElementsByTagName("*").length}),ve.getElementsByClassName=Ml.test(ai.getElementsByClassName),ve.getById=Do(function(Gt){return Vi.appendChild(Gt).id=ns,!ai.getElementsByName||!ai.getElementsByName(ns).length}),ve.getById?(Ae.filter.ID=function(Gt){var ri=Gt.replace(Po,Kr);return function(Ai){return Ai.getAttribute("id")===ri}},Ae.find.ID=function(Gt,ri){if(typeof ri.getElementById<"u"&&Rn){var Ai=ri.getElementById(Gt);return Ai?[Ai]:[]}}):(Ae.filter.ID=function(Gt){var ri=Gt.replace(Po,Kr);return function(Ai){var Xi=typeof Ai.getAttributeNode<"u"&&Ai.getAttributeNode("id");return Xi&&Xi.value===ri}},Ae.find.ID=function(Gt,ri){if(typeof ri.getElementById<"u"&&Rn){var Ai,Xi,Li,Cn=ri.getElementById(Gt);if(Cn){if(Ai=Cn.getAttributeNode("id"),Ai&&Ai.value===Gt)return[Cn];for(Li=ri.getElementsByName(Gt),Xi=0;Cn=Li[Xi++];)if(Ai=Cn.getAttributeNode("id"),Ai&&Ai.value===Gt)return[Cn]}return[]}}),Ae.find.TAG=ve.getElementsByTagName?function(Gt,ri){if(typeof ri.getElementsByTagName<"u")return ri.getElementsByTagName(Gt);if(ve.qsa)return ri.querySelectorAll(Gt)}:function(Gt,ri){var Ai,Xi=[],Li=0,Cn=ri.getElementsByTagName(Gt);if(Gt==="*"){for(;Ai=Cn[Li++];)Ai.nodeType===1&&Xi.push(Ai);return Xi}return Cn},Ae.find.CLASS=ve.getElementsByClassName&&function(Gt,ri){if(typeof ri.getElementsByClassName<"u"&&Rn)return ri.getElementsByClassName(Gt)},Qs=[],ln=[],(ve.qsa=Ml.test(ai.querySelectorAll))&&(Do(function(Gt){var ri;Vi.appendChild(Gt).innerHTML="<a id='"+ns+"'></a><select id='"+ns+"-\r\\' msallowcapture=''><option selected=''></option></select>",Gt.querySelectorAll("[msallowcapture^='']").length&&ln.push("[*^$]="+Cs+`*(?:''|"")`),Gt.querySelectorAll("[selected]").length||ln.push("\\["+Cs+"*(?:value|"+Jc+")"),Gt.querySelectorAll("[id~="+ns+"-]").length||ln.push("~="),ri=ai.createElement("input"),ri.setAttribute("name",""),Gt.appendChild(ri),Gt.querySelectorAll("[name='']").length||ln.push("\\["+Cs+"*name"+Cs+"*="+Cs+`*(?:''|"")`),Gt.querySelectorAll(":checked").length||ln.push(":checked"),Gt.querySelectorAll("a#"+ns+"+*").length||ln.push(".#.+[+~]"),Gt.querySelectorAll("\\\f"),ln.push("[\\r\\n\\f]")}),Do(function(Gt){Gt.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var ri=ai.createElement("input");ri.setAttribute("type","hidden"),Gt.appendChild(ri).setAttribute("name","D"),Gt.querySelectorAll("[name=d]").length&&ln.push("name"+Cs+"*[*^$|!~]?="),Gt.querySelectorAll(":enabled").length!==2&&ln.push(":enabled",":disabled"),Vi.appendChild(Gt).disabled=!0,Gt.querySelectorAll(":disabled").length!==2&&ln.push(":enabled",":disabled"),Gt.querySelectorAll("*,:x"),ln.push(",.*:")})),(ve.matchesSelector=Ml.test(Fs=Vi.matches||Vi.webkitMatchesSelector||Vi.mozMatchesSelector||Vi.oMatchesSelector||Vi.msMatchesSelector))&&Do(function(Gt){ve.disconnectedMatch=Fs.call(Gt,"*"),Fs.call(Gt,"[s!='']:x"),Qs.push("!=",wl)}),ve.cssSupportsSelector||ln.push(":has"),ln=ln.length&&new RegExp(ln.join("|")),Qs=Qs.length&&new RegExp(Qs.join("|")),kt=Ml.test(Vi.compareDocumentPosition),is=kt||Ml.test(Vi.contains)?function(Gt,ri){var Ai=Gt.nodeType===9&&Gt.documentElement||Gt,Xi=ri&&ri.parentNode;return Gt===Xi||!!(Xi&&Xi.nodeType===1&&(Ai.contains?Ai.contains(Xi):Gt.compareDocumentPosition&&Gt.compareDocumentPosition(Xi)&16))}:function(Gt,ri){if(ri){for(;ri=ri.parentNode;)if(ri===Gt)return!0}return!1},Ao=kt?function(Gt,ri){if(Gt===ri)return Ti=!0,0;var Ai=!Gt.compareDocumentPosition-!ri.compareDocumentPosition;return Ai||(Ai=(Gt.ownerDocument||Gt)==(ri.ownerDocument||ri)?Gt.compareDocumentPosition(ri):1,Ai&1||!ve.sortDetached&&ri.compareDocumentPosition(Gt)===Ai?Gt==ai||Gt.ownerDocument==On&&is(On,Gt)?-1:ri==ai||ri.ownerDocument==On&&is(On,ri)?1:hi?Ia(hi,Gt)-Ia(hi,ri):0:Ai&4?-1:1)}:function(Gt,ri){if(Gt===ri)return Ti=!0,0;var Ai,Xi=0,Li=Gt.parentNode,Cn=ri.parentNode,kn=[Gt],Dn=[ri];if(!Li||!Cn)return Gt==ai?-1:ri==ai?1:Li?-1:Cn?1:hi?Ia(hi,Gt)-Ia(hi,ri):0;if(Li===Cn)return Qd(Gt,ri);for(Ai=Gt;Ai=Ai.parentNode;)kn.unshift(Ai);for(Ai=ri;Ai=Ai.parentNode;)Dn.unshift(Ai);for(;kn[Xi]===Dn[Xi];)Xi++;return Xi?Qd(kn[Xi],Dn[Xi]):kn[Xi]==On?-1:Dn[Xi]==On?1:0}),ai},ls.matches=function(st,kt){return ls(st,null,null,kt)},ls.matchesSelector=function(st,kt){if(ni(st),ve.matchesSelector&&Rn&&!Nr[kt+" "]&&(!Qs||!Qs.test(kt))&&(!ln||!ln.test(kt)))try{var Ft=Fs.call(st,kt);if(Ft||ve.disconnectedMatch||st.document&&st.document.nodeType!==11)return Ft}catch{Nr(kt,!0)}return ls(kt,ai,null,[st]).length>0},ls.contains=function(st,kt){return(st.ownerDocument||st)!=ai&&ni(st),is(st,kt)},ls.attr=function(st,kt){(st.ownerDocument||st)!=ai&&ni(st);var Ft=Ae.attrHandle[kt.toLowerCase()],_i=Ft&&zn.call(Ae.attrHandle,kt.toLowerCase())?Ft(st,kt,!Rn):void 0;return _i!==void 0?_i:ve.attributes||!Rn?st.getAttribute(kt):(_i=st.getAttributeNode(kt))&&_i.specified?_i.value:null},ls.escape=function(st){return(st+"").replace(Xa,Al)},ls.error=function(st){throw new Error("Syntax error, unrecognized expression: "+st)},ls.uniqueSort=function(st){var kt,Ft=[],_i=0,Gt=0;if(Ti=!ve.detectDuplicates,hi=!ve.sortStable&&st.slice(0),st.sort(Ao),Ti){for(;kt=st[Gt++];)kt===st[Gt]&&(_i=Ft.push(Gt));for(;_i--;)st.splice(Ft[_i],1)}return hi=null,st},Ue=ls.getText=function(st){var kt,Ft="",_i=0,Gt=st.nodeType;if(Gt){if(Gt===1||Gt===9||Gt===11){if(typeof st.textContent=="string")return st.textContent;for(st=st.firstChild;st;st=st.nextSibling)Ft+=Ue(st)}else if(Gt===3||Gt===4)return st.nodeValue}else for(;kt=st[_i++];)Ft+=Ue(kt);return Ft},Ae=ls.selectors={cacheLength:50,createPseudo:Jr,match:El,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(st){return st[1]=st[1].replace(Po,Kr),st[3]=(st[3]||st[4]||st[5]||"").replace(Po,Kr),st[2]==="~="&&(st[3]=" "+st[3]+" "),st.slice(0,4)},CHILD:function(st){return st[1]=st[1].toLowerCase(),st[1].slice(0,3)==="nth"?(st[3]||ls.error(st[0]),st[4]=+(st[4]?st[5]+(st[6]||1):2*(st[3]==="even"||st[3]==="odd")),st[5]=+(st[7]+st[8]||st[3]==="odd")):st[3]&&ls.error(st[0]),st},PSEUDO:function(st){var kt,Ft=!st[6]&&st[2];return El.CHILD.test(st[0])?null:(st[3]?st[2]=st[4]||st[5]||"":Ft&&Cl.test(Ft)&&(kt=Je(Ft,!0))&&(kt=Ft.indexOf(")",Ft.length-kt)-Ft.length)&&(st[0]=st[0].slice(0,kt),st[2]=Ft.slice(0,kt)),st.slice(0,3))}},filter:{TAG:function(st){var kt=st.replace(Po,Kr).toLowerCase();return st==="*"?function(){return!0}:function(Ft){return Ft.nodeName&&Ft.nodeName.toLowerCase()===kt}},CLASS:function(st){var kt=js[st+" "];return kt||(kt=new RegExp("(^|"+Cs+")"+st+"("+Cs+"|$)"))&&js(st,function(Ft){return kt.test(typeof Ft.className=="string"&&Ft.className||typeof Ft.getAttribute<"u"&&Ft.getAttribute("class")||"")})},ATTR:function(st,kt,Ft){return function(_i){var Gt=ls.attr(_i,st);return Gt==null?kt==="!=":kt?(Gt+="",kt==="="?Gt===Ft:kt==="!="?Gt!==Ft:kt==="^="?Ft&&Gt.indexOf(Ft)===0:kt==="*="?Ft&&Gt.indexOf(Ft)>-1:kt==="$="?Ft&&Gt.slice(-Ft.length)===Ft:kt==="~="?(" "+Gt.replace(mo," ")+" ").indexOf(Ft)>-1:kt==="|="?Gt===Ft||Gt.slice(0,Ft.length+1)===Ft+"-":!1):!0}},CHILD:function(st,kt,Ft,_i,Gt){var ri=st.slice(0,3)!=="nth",Ai=st.slice(-4)!=="last",Xi=kt==="of-type";return _i===1&&Gt===0?function(Li){return!!Li.parentNode}:function(Li,Cn,kn){var Dn,Hn,ps,Sn,xe,Se,Ge=ri!==Ai?"nextSibling":"previousSibling",xt=Li.parentNode,bi=Xi&&Li.nodeName.toLowerCase(),mn=!kn&&!Xi,cs=!1;if(xt){if(ri){for(;Ge;){for(Sn=Li;Sn=Sn[Ge];)if(Xi?Sn.nodeName.toLowerCase()===bi:Sn.nodeType===1)return!1;Se=Ge=st==="only"&&!Se&&"nextSibling"}return!0}if(Se=[Ai?xt.firstChild:xt.lastChild],Ai&&mn){for(Sn=xt,ps=Sn[ns]||(Sn[ns]={}),Hn=ps[Sn.uniqueID]||(ps[Sn.uniqueID]={}),Dn=Hn[st]||[],xe=Dn[0]===zr&&Dn[1],cs=xe&&Dn[2],Sn=xe&&xt.childNodes[xe];Sn=++xe&&Sn&&Sn[Ge]||(cs=xe=0)||Se.pop();)if(Sn.nodeType===1&&++cs&&Sn===Li){Hn[st]=[zr,xe,cs];break}}else if(mn&&(Sn=Li,ps=Sn[ns]||(Sn[ns]={}),Hn=ps[Sn.uniqueID]||(ps[Sn.uniqueID]={}),Dn=Hn[st]||[],xe=Dn[0]===zr&&Dn[1],cs=xe),cs===!1)for(;(Sn=++xe&&Sn&&Sn[Ge]||(cs=xe=0)||Se.pop())&&!((Xi?Sn.nodeName.toLowerCase()===bi:Sn.nodeType===1)&&++cs&&(mn&&(ps=Sn[ns]||(Sn[ns]={}),Hn=ps[Sn.uniqueID]||(ps[Sn.uniqueID]={}),Hn[st]=[zr,cs]),Sn===Li)););return cs-=Gt,cs===_i||cs%_i===0&&cs/_i>=0}}},PSEUDO:function(st,kt){var Ft,_i=Ae.pseudos[st]||Ae.setFilters[st.toLowerCase()]||ls.error("unsupported pseudo: "+st);return _i[ns]?_i(kt):_i.length>1?(Ft=[st,st,"",kt],Ae.setFilters.hasOwnProperty(st.toLowerCase())?Jr(function(Gt,ri){for(var Ai,Xi=_i(Gt,kt),Li=Xi.length;Li--;)Ai=Ia(Gt,Xi[Li]),Gt[Ai]=!(ri[Ai]=Xi[Li])}):function(Gt){return _i(Gt,0,Ft)}):_i}},pseudos:{not:Jr(function(st){var kt=[],Ft=[],_i=Rt(st.replace(Sl,"$1"));return _i[ns]?Jr(function(Gt,ri,Ai,Xi){for(var Li,Cn=_i(Gt,null,Xi,[]),kn=Gt.length;kn--;)(Li=Cn[kn])&&(Gt[kn]=!(ri[kn]=Li))}):function(Gt,ri,Ai){return kt[0]=Gt,_i(kt,null,Ai,Ft),kt[0]=null,!Ft.pop()}}),has:Jr(function(st){return function(kt){return ls(st,kt).length>0}}),contains:Jr(function(st){return st=st.replace(Po,Kr),function(kt){return(kt.textContent||Ue(kt)).indexOf(st)>-1}}),lang:Jr(function(st){return Jd.test(st||"")||ls.error("unsupported lang: "+st),st=st.replace(Po,Kr).toLowerCase(),function(kt){var Ft;do if(Ft=Rn?kt.lang:kt.getAttribute("xml:lang")||kt.getAttribute("lang"))return Ft=Ft.toLowerCase(),Ft===st||Ft.indexOf(st+"-")===0;while((kt=kt.parentNode)&&kt.nodeType===1);return!1}}),target:function(st){var kt=G.location&&G.location.hash;return kt&&kt.slice(1)===st.id},root:function(st){return st===Vi},focus:function(st){return st===ai.activeElement&&(!ai.hasFocus||ai.hasFocus())&&!!(st.type||st.href||~st.tabIndex)},enabled:xo(!1),disabled:xo(!0),checked:function(st){var kt=st.nodeName.toLowerCase();return kt==="input"&&!!st.checked||kt==="option"&&!!st.selected},selected:function(st){return st.parentNode&&st.parentNode.selectedIndex,st.selected===!0},empty:function(st){for(st=st.firstChild;st;st=st.nextSibling)if(st.nodeType<6)return!1;return!0},parent:function(st){return!Ae.pseudos.empty(st)},header:function(st){return ea.test(st.nodeName)},input:function(st){return Qo.test(st.nodeName)},button:function(st){var kt=st.nodeName.toLowerCase();return kt==="input"&&st.type==="button"||kt==="button"},text:function(st){var kt;return st.nodeName.toLowerCase()==="input"&&st.type==="text"&&((kt=st.getAttribute("type"))==null||kt.toLowerCase()==="text")},first:$t(function(){return[0]}),last:$t(function(st,kt){return[kt-1]}),eq:$t(function(st,kt,Ft){return[Ft<0?Ft+kt:Ft]}),even:$t(function(st,kt){for(var Ft=0;Ft<kt;Ft+=2)st.push(Ft);return st}),odd:$t(function(st,kt){for(var Ft=1;Ft<kt;Ft+=2)st.push(Ft);return st}),lt:$t(function(st,kt,Ft){for(var _i=Ft<0?Ft+kt:Ft>kt?kt:Ft;--_i>=0;)st.push(_i);return st}),gt:$t(function(st,kt,Ft){for(var _i=Ft<0?Ft+kt:Ft;++_i<kt;)st.push(_i);return st})}},Ae.pseudos.nth=Ae.pseudos.eq;for(le in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Ae.pseudos[le]=eh(le);for(le in{submit:!0,reset:!0})Ae.pseudos[le]=th(le);function li(){}li.prototype=Ae.filters=Ae.pseudos,Ae.setFilters=new li,Je=ls.tokenize=function(st,kt){var Ft,_i,Gt,ri,Ai,Xi,Li,Cn=ya[st+" "];if(Cn)return kt?0:Cn.slice(0);for(Ai=st,Xi=[],Li=Ae.preFilter;Ai;){(!Ft||(_i=Hl.exec(Ai)))&&(_i&&(Ai=Ai.slice(_i[0].length)||Ai),Xi.push(Gt=[])),Ft=!1,(_i=Ad.exec(Ai))&&(Ft=_i.shift(),Gt.push({value:Ft,type:_i[0].replace(Sl," ")}),Ai=Ai.slice(Ft.length));for(ri in Ae.filter)(_i=El[ri].exec(Ai))&&(!Li[ri]||(_i=Li[ri](_i)))&&(Ft=_i.shift(),Gt.push({value:Ft,type:ri,matches:_i}),Ai=Ai.slice(Ft.length));if(!Ft)break}return kt?Ai.length:Ai?ls.error(st):ya(st,Xi).slice(0)};function cn(st){for(var kt=0,Ft=st.length,_i="";kt<Ft;kt++)_i+=st[kt].value;return _i}function Nn(st,kt,Ft){var _i=kt.dir,Gt=kt.next,ri=Gt||_i,Ai=Ft&&ri==="parentNode",Xi=rs++;return kt.first?function(Li,Cn,kn){for(;Li=Li[_i];)if(Li.nodeType===1||Ai)return st(Li,Cn,kn);return!1}:function(Li,Cn,kn){var Dn,Hn,ps,Sn=[zr,Xi];if(kn){for(;Li=Li[_i];)if((Li.nodeType===1||Ai)&&st(Li,Cn,kn))return!0}else for(;Li=Li[_i];)if(Li.nodeType===1||Ai)if(ps=Li[ns]||(Li[ns]={}),Hn=ps[Li.uniqueID]||(ps[Li.uniqueID]={}),Gt&&Gt===Li.nodeName.toLowerCase())Li=Li[_i]||Li;else{if((Dn=Hn[ri])&&Dn[0]===zr&&Dn[1]===Xi)return Sn[2]=Dn[2];if(Hn[ri]=Sn,Sn[2]=st(Li,Cn,kn))return!0}return!1}}function bs(st){return st.length>1?function(kt,Ft,_i){for(var Gt=st.length;Gt--;)if(!st[Gt](kt,Ft,_i))return!1;return!0}:st[0]}function wr(st,kt,Ft){for(var _i=0,Gt=kt.length;_i<Gt;_i++)ls(st,kt[_i],Ft);return Ft}function Es(st,kt,Ft,_i,Gt){for(var ri,Ai=[],Xi=0,Li=st.length,Cn=kt!=null;Xi<Li;Xi++)(ri=st[Xi])&&(!Ft||Ft(ri,_i,Gt))&&(Ai.push(ri),Cn&&kt.push(Xi));return Ai}function ql(st,kt,Ft,_i,Gt,ri){return _i&&!_i[ns]&&(_i=ql(_i)),Gt&&!Gt[ns]&&(Gt=ql(Gt,ri)),Jr(function(Ai,Xi,Li,Cn){var kn,Dn,Hn,ps=[],Sn=[],xe=Xi.length,Se=Ai||wr(kt||"*",Li.nodeType?[Li]:Li,[]),Ge=st&&(Ai||!kt)?Es(Se,ps,st,Li,Cn):Se,xt=Ft?Gt||(Ai?st:xe||_i)?[]:Xi:Ge;if(Ft&&Ft(Ge,xt,Li,Cn),_i)for(kn=Es(xt,Sn),_i(kn,[],Li,Cn),Dn=kn.length;Dn--;)(Hn=kn[Dn])&&(xt[Sn[Dn]]=!(Ge[Sn[Dn]]=Hn));if(Ai){if(Gt||st){if(Gt){for(kn=[],Dn=xt.length;Dn--;)(Hn=xt[Dn])&&kn.push(Ge[Dn]=Hn);Gt(null,xt=[],kn,Cn)}for(Dn=xt.length;Dn--;)(Hn=xt[Dn])&&(kn=Gt?Ia(Ai,Hn):ps[Dn])>-1&&(Ai[kn]=!(Xi[kn]=Hn))}}else xt=Es(xt===Xi?xt.splice(xe,xt.length):xt),Gt?Gt(null,Xi,xt,Cn):$o.apply(Xi,xt)})}function ed(st){for(var kt,Ft,_i,Gt=st.length,ri=Ae.relative[st[0].type],Ai=ri||Ae.relative[" "],Xi=ri?1:0,Li=Nn(function(Dn){return Dn===kt},Ai,!0),Cn=Nn(function(Dn){return Ia(kt,Dn)>-1},Ai,!0),kn=[function(Dn,Hn,ps){var Sn=!ri&&(ps||Hn!==Xt)||((kt=Hn).nodeType?Li(Dn,Hn,ps):Cn(Dn,Hn,ps));return kt=null,Sn}];Xi<Gt;Xi++)if(Ft=Ae.relative[st[Xi].type])kn=[Nn(bs(kn),Ft)];else{if(Ft=Ae.filter[st[Xi].type].apply(null,st[Xi].matches),Ft[ns]){for(_i=++Xi;_i<Gt&&!Ae.relative[st[_i].type];_i++);return ql(Xi>1&&bs(kn),Xi>1&&cn(st.slice(0,Xi-1).concat({value:st[Xi-2].type===" "?"*":""})).replace(Sl,"$1"),Ft,Xi<_i&&ed(st.slice(Xi,_i)),_i<Gt&&ed(st=st.slice(_i)),_i<Gt&&cn(st))}kn.push(Ft)}return bs(kn)}function bo(st,kt){var Ft=kt.length>0,_i=st.length>0,Gt=function(ri,Ai,Xi,Li,Cn){var kn,Dn,Hn,ps=0,Sn="0",xe=ri&&[],Se=[],Ge=Xt,xt=ri||_i&&Ae.find.TAG("*",Cn),bi=zr+=Ge==null?1:Math.random()||.1,mn=xt.length;for(Cn&&(Xt=Ai==ai||Ai||Cn);Sn!==mn&&(kn=xt[Sn])!=null;Sn++){if(_i&&kn){for(Dn=0,!Ai&&kn.ownerDocument!=ai&&(ni(kn),Xi=!Rn);Hn=st[Dn++];)if(Hn(kn,Ai||ai,Xi)){Li.push(kn);break}Cn&&(zr=bi)}Ft&&((kn=!Hn&&kn)&&ps--,ri&&xe.push(kn))}if(ps+=Sn,Ft&&Sn!==ps){for(Dn=0;Hn=kt[Dn++];)Hn(xe,Se,Ai,Xi);if(ri){if(ps>0)for(;Sn--;)xe[Sn]||Se[Sn]||(Se[Sn]=ko.call(Li));Se=Es(Se)}$o.apply(Li,Se),Cn&&!ri&&Se.length>0&&ps+kt.length>1&&ls.uniqueSort(Li)}return Cn&&(zr=bi,Xt=Ge),xe};return Ft?Jr(Gt):Gt}return Rt=ls.compile=function(st,kt){var Ft,_i=[],Gt=[],ri=xl[st+" "];if(!ri){for(kt||(kt=Je(st)),Ft=kt.length;Ft--;)ri=ed(kt[Ft]),ri[ns]?_i.push(ri):Gt.push(ri);ri=xl(st,bo(Gt,_i)),ri.selector=st}return ri},Et=ls.select=function(st,kt,Ft,_i){var Gt,ri,Ai,Xi,Li,Cn=typeof st=="function"&&st,kn=!_i&&Je(st=Cn.selector||st);if(Ft=Ft||[],kn.length===1){if(ri=kn[0]=kn[0].slice(0),ri.length>2&&(Ai=ri[0]).type==="ID"&&kt.nodeType===9&&Rn&&Ae.relative[ri[1].type]){if(kt=(Ae.find.ID(Ai.matches[0].replace(Po,Kr),kt)||[])[0],kt)Cn&&(kt=kt.parentNode);else return Ft;st=st.slice(ri.shift().value.length)}for(Gt=El.needsContext.test(st)?0:ri.length;Gt--&&(Ai=ri[Gt],!Ae.relative[Xi=Ai.type]);)if((Li=Ae.find[Xi])&&(_i=Li(Ai.matches[0].replace(Po,Kr),Wl.test(ri[0].type)&&gi(kt.parentNode)||kt))){if(ri.splice(Gt,1),st=_i.length&&cn(ri),!st)return $o.apply(Ft,_i),Ft;break}}return(Cn||Rt(st,kn))(_i,kt,!Rn,Ft,!kt||Wl.test(st)&&gi(kt.parentNode)||kt),Ft},ve.sortStable=ns.split("").sort(Ao).join("")===ns,ve.detectDuplicates=!!Ti,ni(),ve.sortDetached=Do(function(st){return st.compareDocumentPosition(ai.createElement("fieldset"))&1}),Do(function(st){return st.innerHTML="<a href='#'></a>",st.firstChild.getAttribute("href")==="#"})||Za("type|href|height|width",function(st,kt,Ft){if(!Ft)return st.getAttribute(kt,kt.toLowerCase()==="type"?1:2)}),(!ve.attributes||!Do(function(st){return st.innerHTML="<input/>",st.firstChild.setAttribute("value",""),st.firstChild.getAttribute("value")===""}))&&Za("value",function(st,kt,Ft){if(!Ft&&st.nodeName.toLowerCase()==="input")return st.defaultValue}),Do(function(st){return st.getAttribute("disabled")==null})||Za(Jc,function(st,kt,Ft){var _i;if(!Ft)return st[kt]===!0?kt.toLowerCase():(_i=st.getAttributeNode(kt))&&_i.specified?_i.value:null}),ls}(t);E.find=Q,E.expr=Q.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=Q.uniqueSort,E.text=Q.getText,E.isXMLDoc=Q.isXML,E.contains=Q.contains,E.escapeSelector=Q.escape;var N=function(G,le,ve){for(var Ae=[],Ue=ve!==void 0;(G=G[le])&&G.nodeType!==9;)if(G.nodeType===1){if(Ue&&E(G).is(ve))break;Ae.push(G)}return Ae},j=function(G,le){for(var ve=[];G;G=G.nextSibling)G.nodeType===1&&G!==le&&ve.push(G);return ve},W=E.expr.match.needsContext;function S(G,le){return G.nodeName&&G.nodeName.toLowerCase()===le.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function f(G,le,ve){return I(le)?E.grep(G,function(Ae,Ue){return!!le.call(Ae,Ue,Ae)!==ve}):le.nodeType?E.grep(G,function(Ae){return Ae===le!==ve}):typeof le!="string"?E.grep(G,function(Ae){return x.call(le,Ae)>-1!==ve}):E.filter(le,G,ve)}E.filter=function(G,le,ve){var Ae=le[0];return ve&&(G=":not("+G+")"),le.length===1&&Ae.nodeType===1?E.find.matchesSelector(Ae,G)?[Ae]:[]:E.find.matches(G,E.grep(le,function(Ue){return Ue.nodeType===1}))},E.fn.extend({find:function(G){var le,ve,Ae=this.length,Ue=this;if(typeof G!="string")return this.pushStack(E(G).filter(function(){for(le=0;le<Ae;le++)if(E.contains(Ue[le],this))return!0}));for(ve=this.pushStack([]),le=0;le<Ae;le++)E.find(G,Ue[le],ve);return Ae>1?E.uniqueSort(ve):ve},filter:function(G){return this.pushStack(f(this,G||[],!1))},not:function(G){return this.pushStack(f(this,G||[],!0))},is:function(G){return!!f(this,typeof G=="string"&&W.test(G)?E(G):G||[],!1).length}});var g,b=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,D=E.fn.init=function(G,le,ve){var Ae,Ue;if(!G)return this;if(ve=ve||g,typeof G=="string")if(G[0]==="<"&&G[G.length-1]===">"&&G.length>=3?Ae=[null,G,null]:Ae=b.exec(G),Ae&&(Ae[1]||!le))if(Ae[1]){if(le=le instanceof E?le[0]:le,E.merge(this,E.parseHTML(Ae[1],le&&le.nodeType?le.ownerDocument||le:M,!0)),P.test(Ae[1])&&E.isPlainObject(le))for(Ae in le)I(this[Ae])?this[Ae](le[Ae]):this.attr(Ae,le[Ae]);return this}else return Ue=M.getElementById(Ae[2]),Ue&&(this[0]=Ue,this.length=1),this;else return!le||le.jquery?(le||ve).find(G):this.constructor(le).find(G);else{if(G.nodeType)return this[0]=G,this.length=1,this;if(I(G))return ve.ready!==void 0?ve.ready(G):G(E)}return E.makeArray(G,this)};D.prototype=E.fn,g=E(M);var X=/^(?:parents|prev(?:Until|All))/,te={children:!0,contents:!0,next:!0,prev:!0};E.fn.extend({has:function(G){var le=E(G,this),ve=le.length;return this.filter(function(){for(var Ae=0;Ae<ve;Ae++)if(E.contains(this,le[Ae]))return!0})},closest:function(G,le){var ve,Ae=0,Ue=this.length,Ve=[],Je=typeof G!="string"&&E(G);if(!W.test(G)){for(;Ae<Ue;Ae++)for(ve=this[Ae];ve&&ve!==le;ve=ve.parentNode)if(ve.nodeType<11&&(Je?Je.index(ve)>-1:ve.nodeType===1&&E.find.matchesSelector(ve,G))){Ve.push(ve);break}}return this.pushStack(Ve.length>1?E.uniqueSort(Ve):Ve)},index:function(G){return G?typeof G=="string"?x.call(E(G),this[0]):x.call(this,G.jquery?G[0]:G):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(G,le){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(G,le))))},addBack:function(G){return this.add(G==null?this.prevObject:this.prevObject.filter(G))}});function Z(G,le){for(;(G=G[le])&&G.nodeType!==1;);return G}E.each({parent:function(G){var le=G.parentNode;return le&&le.nodeType!==11?le:null},parents:function(G){return N(G,"parentNode")},parentsUntil:function(G,le,ve){return N(G,"parentNode",ve)},next:function(G){return Z(G,"nextSibling")},prev:function(G){return Z(G,"previousSibling")},nextAll:function(G){return N(G,"nextSibling")},prevAll:function(G){return N(G,"previousSibling")},nextUntil:function(G,le,ve){return N(G,"nextSibling",ve)},prevUntil:function(G,le,ve){return N(G,"previousSibling",ve)},siblings:function(G){return j((G.parentNode||{}).firstChild,G)},children:function(G){return j(G.firstChild)},contents:function(G){return G.contentDocument!=null&&c(G.contentDocument)?G.contentDocument:(S(G,"template")&&(G=G.content||G),E.merge([],G.childNodes))}},function(G,le){E.fn[G]=function(ve,Ae){var Ue=E.map(this,le,ve);return G.slice(-5)!=="Until"&&(Ae=ve),Ae&&typeof Ae=="string"&&(Ue=E.filter(Ae,Ue)),this.length>1&&(te[G]||E.uniqueSort(Ue),X.test(G)&&Ue.reverse()),this.pushStack(Ue)}});var de=/[^\x20\t\r\n\f]+/g;function ge(G){var le={};return E.each(G.match(de)||[],function(ve,Ae){le[Ae]=!0}),le}E.Callbacks=function(G){G=typeof G=="string"?ge(G):E.extend({},G);var le,ve,Ae,Ue,Ve=[],Je=[],Rt=-1,Et=function(){for(Ue=Ue||G.once,Ae=le=!0;Je.length;Rt=-1)for(ve=Je.shift();++Rt<Ve.length;)Ve[Rt].apply(ve[0],ve[1])===!1&&G.stopOnFalse&&(Rt=Ve.length,ve=!1);G.memory||(ve=!1),le=!1,Ue&&(ve?Ve=[]:Ve="")},Xt={add:function(){return Ve&&(ve&&!le&&(Rt=Ve.length-1,Je.push(ve)),function hi(Ti){E.each(Ti,function(ni,ai){I(ai)?(!G.unique||!Xt.has(ai))&&Ve.push(ai):ai&&ai.length&&U(ai)!=="string"&&hi(ai)})}(arguments),ve&&!le&&Et()),this},remove:function(){return E.each(arguments,function(hi,Ti){for(var ni;(ni=E.inArray(Ti,Ve,ni))>-1;)Ve.splice(ni,1),ni<=Rt&&Rt--}),this},has:function(hi){return hi?E.inArray(hi,Ve)>-1:Ve.length>0},empty:function(){return Ve&&(Ve=[]),this},disable:function(){return Ue=Je=[],Ve=ve="",this},disabled:function(){return!Ve},lock:function(){return Ue=Je=[],!ve&&!le&&(Ve=ve=""),this},locked:function(){return!!Ue},fireWith:function(hi,Ti){return Ue||(Ti=Ti||[],Ti=[hi,Ti.slice?Ti.slice():Ti],Je.push(Ti),le||Et()),this},fire:function(){return Xt.fireWith(this,arguments),this},fired:function(){return!!Ae}};return Xt};function Ce(G){return G}function J(G){throw G}function oe(G,le,ve,Ae){var Ue;try{G&&I(Ue=G.promise)?Ue.call(G).done(le).fail(ve):G&&I(Ue=G.then)?Ue.call(G,le,ve):le.apply(void 0,[G].slice(Ae))}catch(Ve){ve.apply(void 0,[Ve])}}E.extend({Deferred:function(G){var le=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],ve="pending",Ae={state:function(){return ve},always:function(){return Ue.done(arguments).fail(arguments),this},catch:function(Ve){return Ae.then(null,Ve)},pipe:function(){var Ve=arguments;return E.Deferred(function(Je){E.each(le,function(Rt,Et){var Xt=I(Ve[Et[4]])&&Ve[Et[4]];Ue[Et[1]](function(){var hi=Xt&&Xt.apply(this,arguments);hi&&I(hi.promise)?hi.promise().progress(Je.notify).done(Je.resolve).fail(Je.reject):Je[Et[0]+"With"](this,Xt?[hi]:arguments)})}),Ve=null}).promise()},then:function(Ve,Je,Rt){var Et=0;function Xt(hi,Ti,ni,ai){return function(){var Vi=this,Rn=arguments,ln=function(){var Fs,is;if(!(hi<Et)){if(Fs=ni.apply(Vi,Rn),Fs===Ti.promise())throw new TypeError("Thenable self-resolution");is=Fs&&(typeof Fs=="object"||typeof Fs=="function")&&Fs.then,I(is)?ai?is.call(Fs,Xt(Et,Ti,Ce,ai),Xt(Et,Ti,J,ai)):(Et++,is.call(Fs,Xt(Et,Ti,Ce,ai),Xt(Et,Ti,J,ai),Xt(Et,Ti,Ce,Ti.notifyWith))):(ni!==Ce&&(Vi=void 0,Rn=[Fs]),(ai||Ti.resolveWith)(Vi,Rn))}},Qs=ai?ln:function(){try{ln()}catch(Fs){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(Fs,Qs.stackTrace),hi+1>=Et&&(ni!==J&&(Vi=void 0,Rn=[Fs]),Ti.rejectWith(Vi,Rn))}};hi?Qs():(E.Deferred.getStackHook&&(Qs.stackTrace=E.Deferred.getStackHook()),t.setTimeout(Qs))}}return E.Deferred(function(hi){le[0][3].add(Xt(0,hi,I(Rt)?Rt:Ce,hi.notifyWith)),le[1][3].add(Xt(0,hi,I(Ve)?Ve:Ce)),le[2][3].add(Xt(0,hi,I(Je)?Je:J))}).promise()},promise:function(Ve){return Ve!=null?E.extend(Ve,Ae):Ae}},Ue={};return E.each(le,function(Ve,Je){var Rt=Je[2],Et=Je[5];Ae[Je[1]]=Rt.add,Et&&Rt.add(function(){ve=Et},le[3-Ve][2].disable,le[3-Ve][3].disable,le[0][2].lock,le[0][3].lock),Rt.add(Je[3].fire),Ue[Je[0]]=function(){return Ue[Je[0]+"With"](this===Ue?void 0:this,arguments),this},Ue[Je[0]+"With"]=Rt.fireWith}),Ae.promise(Ue),G&&G.call(Ue,Ue),Ue},when:function(G){var le=arguments.length,ve=le,Ae=Array(ve),Ue=h.call(arguments),Ve=E.Deferred(),Je=function(Rt){return function(Et){Ae[Rt]=this,Ue[Rt]=arguments.length>1?h.call(arguments):Et,--le||Ve.resolveWith(Ae,Ue)}};if(le<=1&&(oe(G,Ve.done(Je(ve)).resolve,Ve.reject,!le),Ve.state()==="pending"||I(Ue[ve]&&Ue[ve].then)))return Ve.then();for(;ve--;)oe(Ue[ve],Je(ve),Ve.reject);return Ve.promise()}});var ce=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(G,le){t.console&&t.console.warn&&G&&ce.test(G.name)&&t.console.warn("jQuery.Deferred exception: "+G.message,G.stack,le)},E.readyException=function(G){t.setTimeout(function(){throw G})};var pe=E.Deferred();E.fn.ready=function(G){return pe.then(G).catch(function(le){E.readyException(le)}),this},E.extend({isReady:!1,readyWait:1,ready:function(G){(G===!0?--E.readyWait:E.isReady)||(E.isReady=!0,!(G!==!0&&--E.readyWait>0)&&pe.resolveWith(M,[E]))}}),E.ready.then=pe.then;function Ee(){M.removeEventListener("DOMContentLoaded",Ee),t.removeEventListener("load",Ee),E.ready()}M.readyState==="complete"||M.readyState!=="loading"&&!M.documentElement.doScroll?t.setTimeout(E.ready):(M.addEventListener("DOMContentLoaded",Ee),t.addEventListener("load",Ee));var ne=function(G,le,ve,Ae,Ue,Ve,Je){var Rt=0,Et=G.length,Xt=ve==null;if(U(ve)==="object"){Ue=!0;for(Rt in ve)ne(G,le,Rt,ve[Rt],!0,Ve,Je)}else if(Ae!==void 0&&(Ue=!0,I(Ae)||(Je=!0),Xt&&(Je?(le.call(G,Ae),le=null):(Xt=le,le=function(hi,Ti,ni){return Xt.call(E(hi),ni)})),le))for(;Rt<Et;Rt++)le(G[Rt],ve,Je?Ae:Ae.call(G[Rt],Rt,le(G[Rt],ve)));return Ue?G:Xt?le.call(G):Et?le(G[0],ve):Ve},ye=/^-ms-/,_e=/-([a-z])/g;function ae(G,le){return le.toUpperCase()}function me(G){return G.replace(ye,"ms-").replace(_e,ae)}var we=function(G){return G.nodeType===1||G.nodeType===9||!+G.nodeType};function Re(){this.expando=E.expando+Re.uid++}Re.uid=1,Re.prototype={cache:function(G){var le=G[this.expando];return le||(le={},we(G)&&(G.nodeType?G[this.expando]=le:Object.defineProperty(G,this.expando,{value:le,configurable:!0}))),le},set:function(G,le,ve){var Ae,Ue=this.cache(G);if(typeof le=="string")Ue[me(le)]=ve;else for(Ae in le)Ue[me(Ae)]=le[Ae];return Ue},get:function(G,le){return le===void 0?this.cache(G):G[this.expando]&&G[this.expando][me(le)]},access:function(G,le,ve){return le===void 0||le&&typeof le=="string"&&ve===void 0?this.get(G,le):(this.set(G,le,ve),ve!==void 0?ve:le)},remove:function(G,le){var ve,Ae=G[this.expando];if(Ae!==void 0){if(le!==void 0)for(Array.isArray(le)?le=le.map(me):(le=me(le),le=le in Ae?[le]:le.match(de)||[]),ve=le.length;ve--;)delete Ae[le[ve]];(le===void 0||E.isEmptyObject(Ae))&&(G.nodeType?G[this.expando]=void 0:delete G[this.expando])}},hasData:function(G){var le=G[this.expando];return le!==void 0&&!E.isEmptyObject(le)}};var Le=new Re,$e=new Re,rt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Qe=/[A-Z]/g;function qe(G){return G==="true"?!0:G==="false"?!1:G==="null"?null:G===+G+""?+G:rt.test(G)?JSON.parse(G):G}function Te(G,le,ve){var Ae;if(ve===void 0&&G.nodeType===1)if(Ae="data-"+le.replace(Qe,"-$&").toLowerCase(),ve=G.getAttribute(Ae),typeof ve=="string"){try{ve=qe(ve)}catch{}$e.set(G,le,ve)}else ve=void 0;return ve}E.extend({hasData:function(G){return $e.hasData(G)||Le.hasData(G)},data:function(G,le,ve){return $e.access(G,le,ve)},removeData:function(G,le){$e.remove(G,le)},_data:function(G,le,ve){return Le.access(G,le,ve)},_removeData:function(G,le){Le.remove(G,le)}}),E.fn.extend({data:function(G,le){var ve,Ae,Ue,Ve=this[0],Je=Ve&&Ve.attributes;if(G===void 0){if(this.length&&(Ue=$e.get(Ve),Ve.nodeType===1&&!Le.get(Ve,"hasDataAttrs"))){for(ve=Je.length;ve--;)Je[ve]&&(Ae=Je[ve].name,Ae.indexOf("data-")===0&&(Ae=me(Ae.slice(5)),Te(Ve,Ae,Ue[Ae])));Le.set(Ve,"hasDataAttrs",!0)}return Ue}return typeof G=="object"?this.each(function(){$e.set(this,G)}):ne(this,function(Rt){var Et;if(Ve&&Rt===void 0)return Et=$e.get(Ve,G),Et!==void 0||(Et=Te(Ve,G),Et!==void 0)?Et:void 0;this.each(function(){$e.set(this,G,Rt)})},null,le,arguments.length>1,null,!0)},removeData:function(G){return this.each(function(){$e.remove(this,G)})}}),E.extend({queue:function(G,le,ve){var Ae;if(G)return le=(le||"fx")+"queue",Ae=Le.get(G,le),ve&&(!Ae||Array.isArray(ve)?Ae=Le.access(G,le,E.makeArray(ve)):Ae.push(ve)),Ae||[]},dequeue:function(G,le){le=le||"fx";var ve=E.queue(G,le),Ae=ve.length,Ue=ve.shift(),Ve=E._queueHooks(G,le),Je=function(){E.dequeue(G,le)};Ue==="inprogress"&&(Ue=ve.shift(),Ae--),Ue&&(le==="fx"&&ve.unshift("inprogress"),delete Ve.stop,Ue.call(G,Je,Ve)),!Ae&&Ve&&Ve.empty.fire()},_queueHooks:function(G,le){var ve=le+"queueHooks";return Le.get(G,ve)||Le.access(G,ve,{empty:E.Callbacks("once memory").add(function(){Le.remove(G,[le+"queue",ve])})})}}),E.fn.extend({queue:function(G,le){var ve=2;return typeof G!="string"&&(le=G,G="fx",ve--),arguments.length<ve?E.queue(this[0],G):le===void 0?this:this.each(function(){var Ae=E.queue(this,G,le);E._queueHooks(this,G),G==="fx"&&Ae[0]!=="inprogress"&&E.dequeue(this,G)})},dequeue:function(G){return this.each(function(){E.dequeue(this,G)})},clearQueue:function(G){return this.queue(G||"fx",[])},promise:function(G,le){var ve,Ae=1,Ue=E.Deferred(),Ve=this,Je=this.length,Rt=function(){--Ae||Ue.resolveWith(Ve,[Ve])};for(typeof G!="string"&&(le=G,G=void 0),G=G||"fx";Je--;)ve=Le.get(Ve[Je],G+"queueHooks"),ve&&ve.empty&&(Ae++,ve.empty.add(Rt));return Rt(),Ue.promise(le)}});var Oe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ze=new RegExp("^(?:([+-])=|)("+Oe+")([a-z%]*)$","i"),Xe=["Top","Right","Bottom","Left"],Ke=M.documentElement,pt=function(G){return E.contains(G.ownerDocument,G)},Tt={composed:!0};Ke.getRootNode&&(pt=function(G){return E.contains(G.ownerDocument,G)||G.getRootNode(Tt)===G.ownerDocument});var Bt=function(G,le){return G=le||G,G.style.display==="none"||G.style.display===""&&pt(G)&&E.css(G,"display")==="none"};function ci(G,le,ve,Ae){var Ue,Ve,Je=20,Rt=Ae?function(){return Ae.cur()}:function(){return E.css(G,le,"")},Et=Rt(),Xt=ve&&ve[3]||(E.cssNumber[le]?"":"px"),hi=G.nodeType&&(E.cssNumber[le]||Xt!=="px"&&+Et)&&ze.exec(E.css(G,le));if(hi&&hi[3]!==Xt){for(Et=Et/2,Xt=Xt||hi[3],hi=+Et||1;Je--;)E.style(G,le,hi+Xt),(1-Ve)*(1-(Ve=Rt()/Et||.5))<=0&&(Je=0),hi=hi/Ve;hi=hi*2,E.style(G,le,hi+Xt),ve=ve||[]}return ve&&(hi=+hi||+Et||0,Ue=ve[1]?hi+(ve[1]+1)*ve[2]:+ve[2],Ae&&(Ae.unit=Xt,Ae.start=hi,Ae.end=Ue)),Ue}var Wt={};function ui(G){var le,ve=G.ownerDocument,Ae=G.nodeName,Ue=Wt[Ae];return Ue||(le=ve.body.appendChild(ve.createElement(Ae)),Ue=E.css(le,"display"),le.parentNode.removeChild(le),Ue==="none"&&(Ue="block"),Wt[Ae]=Ue,Ue)}function ji(G,le){for(var ve,Ae,Ue=[],Ve=0,Je=G.length;Ve<Je;Ve++)Ae=G[Ve],Ae.style&&(ve=Ae.style.display,le?(ve==="none"&&(Ue[Ve]=Le.get(Ae,"display")||null,Ue[Ve]||(Ae.style.display="")),Ae.style.display===""&&Bt(Ae)&&(Ue[Ve]=ui(Ae))):ve!=="none"&&(Ue[Ve]="none",Le.set(Ae,"display",ve)));for(Ve=0;Ve<Je;Ve++)Ue[Ve]!=null&&(G[Ve].style.display=Ue[Ve]);return G}E.fn.extend({show:function(){return ji(this,!0)},hide:function(){return ji(this)},toggle:function(G){return typeof G=="boolean"?G?this.show():this.hide():this.each(function(){Bt(this)?E(this).show():E(this).hide()})}});var Ii=/^(?:checkbox|radio)$/i,wi=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ci=/^$|^module$|\/(?:java|ecma)script/i;(function(){var G=M.createDocumentFragment(),le=G.appendChild(M.createElement("div")),ve=M.createElement("input");ve.setAttribute("type","radio"),ve.setAttribute("checked","checked"),ve.setAttribute("name","t"),le.appendChild(ve),L.checkClone=le.cloneNode(!0).cloneNode(!0).lastChild.checked,le.innerHTML="<textarea>x</textarea>",L.noCloneChecked=!!le.cloneNode(!0).lastChild.defaultValue,le.innerHTML="<option></option>",L.option=!!le.lastChild})();var sn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};sn.tbody=sn.tfoot=sn.colgroup=sn.caption=sn.thead,sn.th=sn.td,L.option||(sn.optgroup=sn.option=[1,"<select multiple='multiple'>","</select>"]);function vn(G,le){var ve;return typeof G.getElementsByTagName<"u"?ve=G.getElementsByTagName(le||"*"):typeof G.querySelectorAll<"u"?ve=G.querySelectorAll(le||"*"):ve=[],le===void 0||le&&S(G,le)?E.merge([G],ve):ve}function Gn(G,le){for(var ve=0,Ae=G.length;ve<Ae;ve++)Le.set(G[ve],"globalEval",!le||Le.get(le[ve],"globalEval"))}var br=/<|&#?\w+;/;function us(G,le,ve,Ae,Ue){for(var Ve,Je,Rt,Et,Xt,hi,Ti=le.createDocumentFragment(),ni=[],ai=0,Vi=G.length;ai<Vi;ai++)if(Ve=G[ai],Ve||Ve===0)if(U(Ve)==="object")E.merge(ni,Ve.nodeType?[Ve]:Ve);else if(!br.test(Ve))ni.push(le.createTextNode(Ve));else{for(Je=Je||Ti.appendChild(le.createElement("div")),Rt=(wi.exec(Ve)||["",""])[1].toLowerCase(),Et=sn[Rt]||sn._default,Je.innerHTML=Et[1]+E.htmlPrefilter(Ve)+Et[2],hi=Et[0];hi--;)Je=Je.lastChild;E.merge(ni,Je.childNodes),Je=Ti.firstChild,Je.textContent=""}for(Ti.textContent="",ai=0;Ve=ni[ai++];){if(Ae&&E.inArray(Ve,Ae)>-1){Ue&&Ue.push(Ve);continue}if(Xt=pt(Ve),Je=vn(Ti.appendChild(Ve),"script"),Xt&&Gn(Je),ve)for(hi=0;Ve=Je[hi++];)Ci.test(Ve.type||"")&&ve.push(Ve)}return Ti}var Ps=/^([^.]*)(?:\.(.+)|)/;function nn(){return!0}function qr(){return!1}function zo(G,le){return G===fa()==(le==="focus")}function fa(){try{return M.activeElement}catch{}}function Ko(G,le,ve,Ae,Ue,Ve){var Je,Rt;if(typeof le=="object"){typeof ve!="string"&&(Ae=Ae||ve,ve=void 0);for(Rt in le)Ko(G,Rt,ve,Ae,le[Rt],Ve);return G}if(Ae==null&&Ue==null?(Ue=ve,Ae=ve=void 0):Ue==null&&(typeof ve=="string"?(Ue=Ae,Ae=void 0):(Ue=Ae,Ae=ve,ve=void 0)),Ue===!1)Ue=qr;else if(!Ue)return G;return Ve===1&&(Je=Ue,Ue=function(Et){return E().off(Et),Je.apply(this,arguments)},Ue.guid=Je.guid||(Je.guid=E.guid++)),G.each(function(){E.event.add(this,le,Ue,Ae,ve)})}E.event={global:{},add:function(G,le,ve,Ae,Ue){var Ve,Je,Rt,Et,Xt,hi,Ti,ni,ai,Vi,Rn,ln=Le.get(G);if(we(G))for(ve.handler&&(Ve=ve,ve=Ve.handler,Ue=Ve.selector),Ue&&E.find.matchesSelector(Ke,Ue),ve.guid||(ve.guid=E.guid++),(Et=ln.events)||(Et=ln.events=Object.create(null)),(Je=ln.handle)||(Je=ln.handle=function(Qs){return typeof E<"u"&&E.event.triggered!==Qs.type?E.event.dispatch.apply(G,arguments):void 0}),le=(le||"").match(de)||[""],Xt=le.length;Xt--;)Rt=Ps.exec(le[Xt])||[],ai=Rn=Rt[1],Vi=(Rt[2]||"").split(".").sort(),ai&&(Ti=E.event.special[ai]||{},ai=(Ue?Ti.delegateType:Ti.bindType)||ai,Ti=E.event.special[ai]||{},hi=E.extend({type:ai,origType:Rn,data:Ae,handler:ve,guid:ve.guid,selector:Ue,needsContext:Ue&&E.expr.match.needsContext.test(Ue),namespace:Vi.join(".")},Ve),(ni=Et[ai])||(ni=Et[ai]=[],ni.delegateCount=0,(!Ti.setup||Ti.setup.call(G,Ae,Vi,Je)===!1)&&G.addEventListener&&G.addEventListener(ai,Je)),Ti.add&&(Ti.add.call(G,hi),hi.handler.guid||(hi.handler.guid=ve.guid)),Ue?ni.splice(ni.delegateCount++,0,hi):ni.push(hi),E.event.global[ai]=!0)},remove:function(G,le,ve,Ae,Ue){var Ve,Je,Rt,Et,Xt,hi,Ti,ni,ai,Vi,Rn,ln=Le.hasData(G)&&Le.get(G);if(!(!ln||!(Et=ln.events))){for(le=(le||"").match(de)||[""],Xt=le.length;Xt--;){if(Rt=Ps.exec(le[Xt])||[],ai=Rn=Rt[1],Vi=(Rt[2]||"").split(".").sort(),!ai){for(ai in Et)E.event.remove(G,ai+le[Xt],ve,Ae,!0);continue}for(Ti=E.event.special[ai]||{},ai=(Ae?Ti.delegateType:Ti.bindType)||ai,ni=Et[ai]||[],Rt=Rt[2]&&new RegExp("(^|\\.)"+Vi.join("\\.(?:.*\\.|)")+"(\\.|$)"),Je=Ve=ni.length;Ve--;)hi=ni[Ve],(Ue||Rn===hi.origType)&&(!ve||ve.guid===hi.guid)&&(!Rt||Rt.test(hi.namespace))&&(!Ae||Ae===hi.selector||Ae==="**"&&hi.selector)&&(ni.splice(Ve,1),hi.selector&&ni.delegateCount--,Ti.remove&&Ti.remove.call(G,hi));Je&&!ni.length&&((!Ti.teardown||Ti.teardown.call(G,Vi,ln.handle)===!1)&&E.removeEvent(G,ai,ln.handle),delete Et[ai])}E.isEmptyObject(Et)&&Le.remove(G,"handle events")}},dispatch:function(G){var le,ve,Ae,Ue,Ve,Je,Rt=new Array(arguments.length),Et=E.event.fix(G),Xt=(Le.get(this,"events")||Object.create(null))[Et.type]||[],hi=E.event.special[Et.type]||{};for(Rt[0]=Et,le=1;le<arguments.length;le++)Rt[le]=arguments[le];if(Et.delegateTarget=this,!(hi.preDispatch&&hi.preDispatch.call(this,Et)===!1)){for(Je=E.event.handlers.call(this,Et,Xt),le=0;(Ue=Je[le++])&&!Et.isPropagationStopped();)for(Et.currentTarget=Ue.elem,ve=0;(Ve=Ue.handlers[ve++])&&!Et.isImmediatePropagationStopped();)(!Et.rnamespace||Ve.namespace===!1||Et.rnamespace.test(Ve.namespace))&&(Et.handleObj=Ve,Et.data=Ve.data,Ae=((E.event.special[Ve.origType]||{}).handle||Ve.handler).apply(Ue.elem,Rt),Ae!==void 0&&(Et.result=Ae)===!1&&(Et.preventDefault(),Et.stopPropagation()));return hi.postDispatch&&hi.postDispatch.call(this,Et),Et.result}},handlers:function(G,le){var ve,Ae,Ue,Ve,Je,Rt=[],Et=le.delegateCount,Xt=G.target;if(Et&&Xt.nodeType&&!(G.type==="click"&&G.button>=1)){for(;Xt!==this;Xt=Xt.parentNode||this)if(Xt.nodeType===1&&!(G.type==="click"&&Xt.disabled===!0)){for(Ve=[],Je={},ve=0;ve<Et;ve++)Ae=le[ve],Ue=Ae.selector+" ",Je[Ue]===void 0&&(Je[Ue]=Ae.needsContext?E(Ue,this).index(Xt)>-1:E.find(Ue,this,null,[Xt]).length),Je[Ue]&&Ve.push(Ae);Ve.length&&Rt.push({elem:Xt,handlers:Ve})}}return Xt=this,Et<le.length&&Rt.push({elem:Xt,handlers:le.slice(Et)}),Rt},addProp:function(G,le){Object.defineProperty(E.Event.prototype,G,{enumerable:!0,configurable:!0,get:I(le)?function(){if(this.originalEvent)return le(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[G]},set:function(ve){Object.defineProperty(this,G,{enumerable:!0,configurable:!0,writable:!0,value:ve})}})},fix:function(G){return G[E.expando]?G:new E.Event(G)},special:{load:{noBubble:!0},click:{setup:function(G){var le=this||G;return Ii.test(le.type)&&le.click&&S(le,"input")&&lr(le,"click",nn),!1},trigger:function(G){var le=this||G;return Ii.test(le.type)&&le.click&&S(le,"input")&&lr(le,"click"),!0},_default:function(G){var le=G.target;return Ii.test(le.type)&&le.click&&S(le,"input")&&Le.get(le,"click")||S(le,"a")}},beforeunload:{postDispatch:function(G){G.result!==void 0&&G.originalEvent&&(G.originalEvent.returnValue=G.result)}}}};function lr(G,le,ve){if(!ve){Le.get(G,le)===void 0&&E.event.add(G,le,nn);return}Le.set(G,le,!1),E.event.add(G,le,{namespace:!1,handler:function(Ae){var Ue,Ve,Je=Le.get(this,le);if(Ae.isTrigger&1&&this[le]){if(Je.length)(E.event.special[le]||{}).delegateType&&Ae.stopPropagation();else if(Je=h.call(arguments),Le.set(this,le,Je),Ue=ve(this,le),this[le](),Ve=Le.get(this,le),Je!==Ve||Ue?Le.set(this,le,!1):Ve={},Je!==Ve)return Ae.stopImmediatePropagation(),Ae.preventDefault(),Ve&&Ve.value}else Je.length&&(Le.set(this,le,{value:E.event.trigger(E.extend(Je[0],E.Event.prototype),Je.slice(1),this)}),Ae.stopImmediatePropagation())}})}E.removeEvent=function(G,le,ve){G.removeEventListener&&G.removeEventListener(le,ve)},E.Event=function(G,le){if(!(this instanceof E.Event))return new E.Event(G,le);G&&G.type?(this.originalEvent=G,this.type=G.type,this.isDefaultPrevented=G.defaultPrevented||G.defaultPrevented===void 0&&G.returnValue===!1?nn:qr,this.target=G.target&&G.target.nodeType===3?G.target.parentNode:G.target,this.currentTarget=G.currentTarget,this.relatedTarget=G.relatedTarget):this.type=G,le&&E.extend(this,le),this.timeStamp=G&&G.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:qr,isPropagationStopped:qr,isImmediatePropagationStopped:qr,isSimulated:!1,preventDefault:function(){var G=this.originalEvent;this.isDefaultPrevented=nn,G&&!this.isSimulated&&G.preventDefault()},stopPropagation:function(){var G=this.originalEvent;this.isPropagationStopped=nn,G&&!this.isSimulated&&G.stopPropagation()},stopImmediatePropagation:function(){var G=this.originalEvent;this.isImmediatePropagationStopped=nn,G&&!this.isSimulated&&G.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(G,le){E.event.special[G]={setup:function(){return lr(this,G,zo),!1},trigger:function(){return lr(this,G),!0},_default:function(ve){return Le.get(ve.target,G)},delegateType:le}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(G,le){E.event.special[G]={delegateType:le,bindType:le,handle:function(ve){var Ae,Ue=this,Ve=ve.relatedTarget,Je=ve.handleObj;return(!Ve||Ve!==Ue&&!E.contains(Ue,Ve))&&(ve.type=Je.origType,Ae=Je.handler.apply(this,arguments),ve.type=le),Ae}}}),E.fn.extend({on:function(G,le,ve,Ae){return Ko(this,G,le,ve,Ae)},one:function(G,le,ve,Ae){return Ko(this,G,le,ve,Ae,1)},off:function(G,le,ve){var Ae,Ue;if(G&&G.preventDefault&&G.handleObj)return Ae=G.handleObj,E(G.delegateTarget).off(Ae.namespace?Ae.origType+"."+Ae.namespace:Ae.origType,Ae.selector,Ae.handler),this;if(typeof G=="object"){for(Ue in G)this.off(Ue,le,G[Ue]);return this}return(le===!1||typeof le=="function")&&(ve=le,le=void 0),ve===!1&&(ve=qr),this.each(function(){E.event.remove(this,G,ve,le)})}});var No=/<script|<style|<link/i,Va=/checked\s*(?:[^=]|=\s*.checked.)/i,ut=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Fe(G,le){return S(G,"table")&&S(le.nodeType!==11?le:le.firstChild,"tr")&&E(G).children("tbody")[0]||G}function We(G){return G.type=(G.getAttribute("type")!==null)+"/"+G.type,G}function dt(G){return(G.type||"").slice(0,5)==="true/"?G.type=G.type.slice(5):G.removeAttribute("type"),G}function vt(G,le){var ve,Ae,Ue,Ve,Je,Rt,Et;if(le.nodeType===1){if(Le.hasData(G)&&(Ve=Le.get(G),Et=Ve.events,Et)){Le.remove(le,"handle events");for(Ue in Et)for(ve=0,Ae=Et[Ue].length;ve<Ae;ve++)E.event.add(le,Ue,Et[Ue][ve])}$e.hasData(G)&&(Je=$e.access(G),Rt=E.extend({},Je),$e.set(le,Rt))}}function _t(G,le){var ve=le.nodeName.toLowerCase();ve==="input"&&Ii.test(G.type)?le.checked=G.checked:(ve==="input"||ve==="textarea")&&(le.defaultValue=G.defaultValue)}function Nt(G,le,ve,Ae){le=m(le);var Ue,Ve,Je,Rt,Et,Xt,hi=0,Ti=G.length,ni=Ti-1,ai=le[0],Vi=I(ai);if(Vi||Ti>1&&typeof ai=="string"&&!L.checkClone&&Va.test(ai))return G.each(function(Rn){var ln=G.eq(Rn);Vi&&(le[0]=ai.call(this,Rn,ln.html())),Nt(ln,le,ve,Ae)});if(Ti&&(Ue=us(le,G[0].ownerDocument,!1,G,Ae),Ve=Ue.firstChild,Ue.childNodes.length===1&&(Ue=Ve),Ve||Ae)){for(Je=E.map(vn(Ue,"script"),We),Rt=Je.length;hi<Ti;hi++)Et=Ue,hi!==ni&&(Et=E.clone(Et,!0,!0),Rt&&E.merge(Je,vn(Et,"script"))),ve.call(G[hi],Et,hi);if(Rt)for(Xt=Je[Je.length-1].ownerDocument,E.map(Je,dt),hi=0;hi<Rt;hi++)Et=Je[hi],Ci.test(Et.type||"")&&!Le.access(Et,"globalEval")&&E.contains(Xt,Et)&&(Et.src&&(Et.type||"").toLowerCase()!=="module"?E._evalUrl&&!Et.noModule&&E._evalUrl(Et.src,{nonce:Et.nonce||Et.getAttribute("nonce")},Xt):A(Et.textContent.replace(ut,""),Et,Xt))}return G}function Mt(G,le,ve){for(var Ae,Ue=le?E.filter(le,G):G,Ve=0;(Ae=Ue[Ve])!=null;Ve++)!ve&&Ae.nodeType===1&&E.cleanData(vn(Ae)),Ae.parentNode&&(ve&&pt(Ae)&&Gn(vn(Ae,"script")),Ae.parentNode.removeChild(Ae));return G}E.extend({htmlPrefilter:function(G){return G},clone:function(G,le,ve){var Ae,Ue,Ve,Je,Rt=G.cloneNode(!0),Et=pt(G);if(!L.noCloneChecked&&(G.nodeType===1||G.nodeType===11)&&!E.isXMLDoc(G))for(Je=vn(Rt),Ve=vn(G),Ae=0,Ue=Ve.length;Ae<Ue;Ae++)_t(Ve[Ae],Je[Ae]);if(le)if(ve)for(Ve=Ve||vn(G),Je=Je||vn(Rt),Ae=0,Ue=Ve.length;Ae<Ue;Ae++)vt(Ve[Ae],Je[Ae]);else vt(G,Rt);return Je=vn(Rt,"script"),Je.length>0&&Gn(Je,!Et&&vn(G,"script")),Rt},cleanData:function(G){for(var le,ve,Ae,Ue=E.event.special,Ve=0;(ve=G[Ve])!==void 0;Ve++)if(we(ve)){if(le=ve[Le.expando]){if(le.events)for(Ae in le.events)Ue[Ae]?E.event.remove(ve,Ae):E.removeEvent(ve,Ae,le.handle);ve[Le.expando]=void 0}ve[$e.expando]&&(ve[$e.expando]=void 0)}}}),E.fn.extend({detach:function(G){return Mt(this,G,!0)},remove:function(G){return Mt(this,G)},text:function(G){return ne(this,function(le){return le===void 0?E.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=le)})},null,G,arguments.length)},append:function(){return Nt(this,arguments,function(G){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var le=Fe(this,G);le.appendChild(G)}})},prepend:function(){return Nt(this,arguments,function(G){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var le=Fe(this,G);le.insertBefore(G,le.firstChild)}})},before:function(){return Nt(this,arguments,function(G){this.parentNode&&this.parentNode.insertBefore(G,this)})},after:function(){return Nt(this,arguments,function(G){this.parentNode&&this.parentNode.insertBefore(G,this.nextSibling)})},empty:function(){for(var G,le=0;(G=this[le])!=null;le++)G.nodeType===1&&(E.cleanData(vn(G,!1)),G.textContent="");return this},clone:function(G,le){return G=G??!1,le=le??G,this.map(function(){return E.clone(this,G,le)})},html:function(G){return ne(this,function(le){var ve=this[0]||{},Ae=0,Ue=this.length;if(le===void 0&&ve.nodeType===1)return ve.innerHTML;if(typeof le=="string"&&!No.test(le)&&!sn[(wi.exec(le)||["",""])[1].toLowerCase()]){le=E.htmlPrefilter(le);try{for(;Ae<Ue;Ae++)ve=this[Ae]||{},ve.nodeType===1&&(E.cleanData(vn(ve,!1)),ve.innerHTML=le);ve=0}catch{}}ve&&this.empty().append(le)},null,G,arguments.length)},replaceWith:function(){var G=[];return Nt(this,arguments,function(le){var ve=this.parentNode;E.inArray(this,G)<0&&(E.cleanData(vn(this)),ve&&ve.replaceChild(le,this))},G)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(G,le){E.fn[G]=function(ve){for(var Ae,Ue=[],Ve=E(ve),Je=Ve.length-1,Rt=0;Rt<=Je;Rt++)Ae=Rt===Je?this:this.clone(!0),E(Ve[Rt])[le](Ae),n.apply(Ue,Ae.get());return this.pushStack(Ue)}});var Lt=new RegExp("^("+Oe+")(?!px)[a-z%]+$","i"),Ut=/^--/,mi=function(G){var le=G.ownerDocument.defaultView;return(!le||!le.opener)&&(le=t),le.getComputedStyle(G)},Gi=function(G,le,ve){var Ae,Ue,Ve={};for(Ue in le)Ve[Ue]=G.style[Ue],G.style[Ue]=le[Ue];Ae=ve.call(G);for(Ue in le)G.style[Ue]=Ve[Ue];return Ae},Mi=new RegExp(Xe.join("|"),"i"),yn="[\\x20\\t\\r\\n\\f]",_n=new RegExp("^"+yn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+yn+"+$","g");(function(){function G(){if(Xt){Et.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Xt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ke.appendChild(Et).appendChild(Xt);var hi=t.getComputedStyle(Xt);ve=hi.top!=="1%",Rt=le(hi.marginLeft)===12,Xt.style.right="60%",Ve=le(hi.right)===36,Ae=le(hi.width)===36,Xt.style.position="absolute",Ue=le(Xt.offsetWidth/3)===12,Ke.removeChild(Et),Xt=null}}function le(hi){return Math.round(parseFloat(hi))}var ve,Ae,Ue,Ve,Je,Rt,Et=M.createElement("div"),Xt=M.createElement("div");Xt.style&&(Xt.style.backgroundClip="content-box",Xt.cloneNode(!0).style.backgroundClip="",L.clearCloneStyle=Xt.style.backgroundClip==="content-box",E.extend(L,{boxSizingReliable:function(){return G(),Ae},pixelBoxStyles:function(){return G(),Ve},pixelPosition:function(){return G(),ve},reliableMarginLeft:function(){return G(),Rt},scrollboxSize:function(){return G(),Ue},reliableTrDimensions:function(){var hi,Ti,ni,ai;return Je==null&&(hi=M.createElement("table"),Ti=M.createElement("tr"),ni=M.createElement("div"),hi.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Ti.style.cssText="border:1px solid",Ti.style.height="1px",ni.style.height="9px",ni.style.display="block",Ke.appendChild(hi).appendChild(Ti).appendChild(ni),ai=t.getComputedStyle(Ti),Je=parseInt(ai.height,10)+parseInt(ai.borderTopWidth,10)+parseInt(ai.borderBottomWidth,10)===Ti.offsetHeight,Ke.removeChild(hi)),Je}}))})();function an(G,le,ve){var Ae,Ue,Ve,Je,Rt=Ut.test(le),Et=G.style;return ve=ve||mi(G),ve&&(Je=ve.getPropertyValue(le)||ve[le],Rt&&Je&&(Je=Je.replace(_n,"$1")||void 0),Je===""&&!pt(G)&&(Je=E.style(G,le)),!L.pixelBoxStyles()&&Lt.test(Je)&&Mi.test(le)&&(Ae=Et.width,Ue=Et.minWidth,Ve=Et.maxWidth,Et.minWidth=Et.maxWidth=Et.width=Je,Je=ve.width,Et.width=Ae,Et.minWidth=Ue,Et.maxWidth=Ve)),Je!==void 0?Je+"":Je}function $i(G,le){return{get:function(){if(G()){delete this.get;return}return(this.get=le).apply(this,arguments)}}}var Qn=["Webkit","Moz","ms"],gs=M.createElement("div").style,pn={};function Rs(G){for(var le=G[0].toUpperCase()+G.slice(1),ve=Qn.length;ve--;)if(G=Qn[ve]+le,G in gs)return G}function xs(G){var le=E.cssProps[G]||pn[G];return le||(G in gs?G:pn[G]=Rs(G)||G)}var ma=/^(none|table(?!-c[ea]).+)/,ga={position:"absolute",visibility:"hidden",display:"block"},Xr={letterSpacing:"0",fontWeight:"400"};function di(G,le,ve){var Ae=ze.exec(le);return Ae?Math.max(0,Ae[2]-(ve||0))+(Ae[3]||"px"):le}function Js(G,le,ve,Ae,Ue,Ve){var Je=le==="width"?1:0,Rt=0,Et=0;if(ve===(Ae?"border":"content"))return 0;for(;Je<4;Je+=2)ve==="margin"&&(Et+=E.css(G,ve+Xe[Je],!0,Ue)),Ae?(ve==="content"&&(Et-=E.css(G,"padding"+Xe[Je],!0,Ue)),ve!=="margin"&&(Et-=E.css(G,"border"+Xe[Je]+"Width",!0,Ue))):(Et+=E.css(G,"padding"+Xe[Je],!0,Ue),ve!=="padding"?Et+=E.css(G,"border"+Xe[Je]+"Width",!0,Ue):Rt+=E.css(G,"border"+Xe[Je]+"Width",!0,Ue));return!Ae&&Ve>=0&&(Et+=Math.max(0,Math.ceil(G["offset"+le[0].toUpperCase()+le.slice(1)]-Ve-Et-Rt-.5))||0),Et}function _r(G,le,ve){var Ae=mi(G),Ue=!L.boxSizingReliable()||ve,Ve=Ue&&E.css(G,"boxSizing",!1,Ae)==="border-box",Je=Ve,Rt=an(G,le,Ae),Et="offset"+le[0].toUpperCase()+le.slice(1);if(Lt.test(Rt)){if(!ve)return Rt;Rt="auto"}return(!L.boxSizingReliable()&&Ve||!L.reliableTrDimensions()&&S(G,"tr")||Rt==="auto"||!parseFloat(Rt)&&E.css(G,"display",!1,Ae)==="inline")&&G.getClientRects().length&&(Ve=E.css(G,"boxSizing",!1,Ae)==="border-box",Je=Et in G,Je&&(Rt=G[Et])),Rt=parseFloat(Rt)||0,Rt+Js(G,le,ve||(Ve?"border":"content"),Je,Ae,Rt)+"px"}E.extend({cssHooks:{opacity:{get:function(G,le){if(le){var ve=an(G,"opacity");return ve===""?"1":ve}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(G,le,ve,Ae){if(!(!G||G.nodeType===3||G.nodeType===8||!G.style)){var Ue,Ve,Je,Rt=me(le),Et=Ut.test(le),Xt=G.style;if(Et||(le=xs(Rt)),Je=E.cssHooks[le]||E.cssHooks[Rt],ve!==void 0){if(Ve=typeof ve,Ve==="string"&&(Ue=ze.exec(ve))&&Ue[1]&&(ve=ci(G,le,Ue),Ve="number"),ve==null||ve!==ve)return;Ve==="number"&&!Et&&(ve+=Ue&&Ue[3]||(E.cssNumber[Rt]?"":"px")),!L.clearCloneStyle&&ve===""&&le.indexOf("background")===0&&(Xt[le]="inherit"),(!Je||!("set"in Je)||(ve=Je.set(G,ve,Ae))!==void 0)&&(Et?Xt.setProperty(le,ve):Xt[le]=ve)}else return Je&&"get"in Je&&(Ue=Je.get(G,!1,Ae))!==void 0?Ue:Xt[le]}},css:function(G,le,ve,Ae){var Ue,Ve,Je,Rt=me(le),Et=Ut.test(le);return Et||(le=xs(Rt)),Je=E.cssHooks[le]||E.cssHooks[Rt],Je&&"get"in Je&&(Ue=Je.get(G,!0,ve)),Ue===void 0&&(Ue=an(G,le,Ae)),Ue==="normal"&&le in Xr&&(Ue=Xr[le]),ve===""||ve?(Ve=parseFloat(Ue),ve===!0||isFinite(Ve)?Ve||0:Ue):Ue}}),E.each(["height","width"],function(G,le){E.cssHooks[le]={get:function(ve,Ae,Ue){if(Ae)return ma.test(E.css(ve,"display"))&&(!ve.getClientRects().length||!ve.getBoundingClientRect().width)?Gi(ve,ga,function(){return _r(ve,le,Ue)}):_r(ve,le,Ue)},set:function(ve,Ae,Ue){var Ve,Je=mi(ve),Rt=!L.scrollboxSize()&&Je.position==="absolute",Et=Rt||Ue,Xt=Et&&E.css(ve,"boxSizing",!1,Je)==="border-box",hi=Ue?Js(ve,le,Ue,Xt,Je):0;return Xt&&Rt&&(hi-=Math.ceil(ve["offset"+le[0].toUpperCase()+le.slice(1)]-parseFloat(Je[le])-Js(ve,le,"border",!1,Je)-.5)),hi&&(Ve=ze.exec(Ae))&&(Ve[3]||"px")!=="px"&&(ve.style[le]=Ae,Ae=E.css(ve,le)),di(ve,Ae,hi)}}}),E.cssHooks.marginLeft=$i(L.reliableMarginLeft,function(G,le){if(le)return(parseFloat(an(G,"marginLeft"))||G.getBoundingClientRect().left-Gi(G,{marginLeft:0},function(){return G.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(G,le){E.cssHooks[G+le]={expand:function(ve){for(var Ae=0,Ue={},Ve=typeof ve=="string"?ve.split(" "):[ve];Ae<4;Ae++)Ue[G+Xe[Ae]+le]=Ve[Ae]||Ve[Ae-2]||Ve[0];return Ue}},G!=="margin"&&(E.cssHooks[G+le].set=di)}),E.fn.extend({css:function(G,le){return ne(this,function(ve,Ae,Ue){var Ve,Je,Rt={},Et=0;if(Array.isArray(Ae)){for(Ve=mi(ve),Je=Ae.length;Et<Je;Et++)Rt[Ae[Et]]=E.css(ve,Ae[Et],!1,Ve);return Rt}return Ue!==void 0?E.style(ve,Ae,Ue):E.css(ve,Ae)},G,le,arguments.length>1)}});function yr(G,le,ve,Ae,Ue){return new yr.prototype.init(G,le,ve,Ae,Ue)}E.Tween=yr,yr.prototype={constructor:yr,init:function(G,le,ve,Ae,Ue,Ve){this.elem=G,this.prop=ve,this.easing=Ue||E.easing._default,this.options=le,this.start=this.now=this.cur(),this.end=Ae,this.unit=Ve||(E.cssNumber[ve]?"":"px")},cur:function(){var G=yr.propHooks[this.prop];return G&&G.get?G.get(this):yr.propHooks._default.get(this)},run:function(G){var le,ve=yr.propHooks[this.prop];return this.options.duration?this.pos=le=E.easing[this.easing](G,this.options.duration*G,0,1,this.options.duration):this.pos=le=G,this.now=(this.end-this.start)*le+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),ve&&ve.set?ve.set(this):yr.propHooks._default.set(this),this}},yr.prototype.init.prototype=yr.prototype,yr.propHooks={_default:{get:function(G){var le;return G.elem.nodeType!==1||G.elem[G.prop]!=null&&G.elem.style[G.prop]==null?G.elem[G.prop]:(le=E.css(G.elem,G.prop,""),!le||le==="auto"?0:le)},set:function(G){E.fx.step[G.prop]?E.fx.step[G.prop](G):G.elem.nodeType===1&&(E.cssHooks[G.prop]||G.elem.style[xs(G.prop)]!=null)?E.style(G.elem,G.prop,G.now+G.unit):G.elem[G.prop]=G.now}}},yr.propHooks.scrollTop=yr.propHooks.scrollLeft={set:function(G){G.elem.nodeType&&G.elem.parentNode&&(G.elem[G.prop]=G.now)}},E.easing={linear:function(G){return G},swing:function(G){return .5-Math.cos(G*Math.PI)/2},_default:"swing"},E.fx=yr.prototype.init,E.fx.step={};var Gl,oo,gc=/^(?:toggle|show|hide)$/,Ed=/queueHooks$/;function Vr(){oo&&(M.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Vr):t.setTimeout(Vr,E.fx.interval),E.fx.tick())}function Hi(){return t.setTimeout(function(){Gl=void 0}),Gl=Date.now()}function Vn(G,le){var ve,Ae=0,Ue={height:G};for(le=le?1:0;Ae<4;Ae+=2-le)ve=Xe[Ae],Ue["margin"+ve]=Ue["padding"+ve]=G;return le&&(Ue.opacity=Ue.width=G),Ue}function es(G,le,ve){for(var Ae,Ue=(An.tweeners[le]||[]).concat(An.tweeners["*"]),Ve=0,Je=Ue.length;Ve<Je;Ve++)if(Ae=Ue[Ve].call(ve,le,G))return Ae}function Eo(G,le,ve){var Ae,Ue,Ve,Je,Rt,Et,Xt,hi,Ti="width"in le||"height"in le,ni=this,ai={},Vi=G.style,Rn=G.nodeType&&Bt(G),ln=Le.get(G,"fxshow");ve.queue||(Je=E._queueHooks(G,"fx"),Je.unqueued==null&&(Je.unqueued=0,Rt=Je.empty.fire,Je.empty.fire=function(){Je.unqueued||Rt()}),Je.unqueued++,ni.always(function(){ni.always(function(){Je.unqueued--,E.queue(G,"fx").length||Je.empty.fire()})}));for(Ae in le)if(Ue=le[Ae],gc.test(Ue)){if(delete le[Ae],Ve=Ve||Ue==="toggle",Ue===(Rn?"hide":"show"))if(Ue==="show"&&ln&&ln[Ae]!==void 0)Rn=!0;else continue;ai[Ae]=ln&&ln[Ae]||E.style(G,Ae)}if(Et=!E.isEmptyObject(le),!(!Et&&E.isEmptyObject(ai))){Ti&&G.nodeType===1&&(ve.overflow=[Vi.overflow,Vi.overflowX,Vi.overflowY],Xt=ln&&ln.display,Xt==null&&(Xt=Le.get(G,"display")),hi=E.css(G,"display"),hi==="none"&&(Xt?hi=Xt:(ji([G],!0),Xt=G.style.display||Xt,hi=E.css(G,"display"),ji([G]))),(hi==="inline"||hi==="inline-block"&&Xt!=null)&&E.css(G,"float")==="none"&&(Et||(ni.done(function(){Vi.display=Xt}),Xt==null&&(hi=Vi.display,Xt=hi==="none"?"":hi)),Vi.display="inline-block")),ve.overflow&&(Vi.overflow="hidden",ni.always(function(){Vi.overflow=ve.overflow[0],Vi.overflowX=ve.overflow[1],Vi.overflowY=ve.overflow[2]})),Et=!1;for(Ae in ai)Et||(ln?"hidden"in ln&&(Rn=ln.hidden):ln=Le.access(G,"fxshow",{display:Xt}),Ve&&(ln.hidden=!Rn),Rn&&ji([G],!0),ni.done(function(){Rn||ji([G]),Le.remove(G,"fxshow");for(Ae in ai)E.style(G,Ae,ai[Ae])})),Et=es(Rn?ln[Ae]:0,Ae,ni),Ae in ln||(ln[Ae]=Et.start,Rn&&(Et.end=Et.start,Et.start=0))}}function _a(G,le){var ve,Ae,Ue,Ve,Je;for(ve in G)if(Ae=me(ve),Ue=le[Ae],Ve=G[ve],Array.isArray(Ve)&&(Ue=Ve[1],Ve=G[ve]=Ve[0]),ve!==Ae&&(G[Ae]=Ve,delete G[ve]),Je=E.cssHooks[Ae],Je&&"expand"in Je){Ve=Je.expand(Ve),delete G[Ae];for(ve in Ve)ve in G||(G[ve]=Ve[ve],le[ve]=Ue)}else le[Ae]=Ue}function An(G,le,ve){var Ae,Ue,Ve=0,Je=An.prefilters.length,Rt=E.Deferred().always(function(){delete Et.elem}),Et=function(){if(Ue)return!1;for(var Ti=Gl||Hi(),ni=Math.max(0,Xt.startTime+Xt.duration-Ti),ai=ni/Xt.duration||0,Vi=1-ai,Rn=0,ln=Xt.tweens.length;Rn<ln;Rn++)Xt.tweens[Rn].run(Vi);return Rt.notifyWith(G,[Xt,Vi,ni]),Vi<1&&ln?ni:(ln||Rt.notifyWith(G,[Xt,1,0]),Rt.resolveWith(G,[Xt]),!1)},Xt=Rt.promise({elem:G,props:E.extend({},le),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},ve),originalProperties:le,originalOptions:ve,startTime:Gl||Hi(),duration:ve.duration,tweens:[],createTween:function(Ti,ni){var ai=E.Tween(G,Xt.opts,Ti,ni,Xt.opts.specialEasing[Ti]||Xt.opts.easing);return Xt.tweens.push(ai),ai},stop:function(Ti){var ni=0,ai=Ti?Xt.tweens.length:0;if(Ue)return this;for(Ue=!0;ni<ai;ni++)Xt.tweens[ni].run(1);return Ti?(Rt.notifyWith(G,[Xt,1,0]),Rt.resolveWith(G,[Xt,Ti])):Rt.rejectWith(G,[Xt,Ti]),this}}),hi=Xt.props;for(_a(hi,Xt.opts.specialEasing);Ve<Je;Ve++)if(Ae=An.prefilters[Ve].call(Xt,G,hi,Xt.opts),Ae)return I(Ae.stop)&&(E._queueHooks(Xt.elem,Xt.opts.queue).stop=Ae.stop.bind(Ae)),Ae;return E.map(hi,es,Xt),I(Xt.opts.start)&&Xt.opts.start.call(G,Xt),Xt.progress(Xt.opts.progress).done(Xt.opts.done,Xt.opts.complete).fail(Xt.opts.fail).always(Xt.opts.always),E.fx.timer(E.extend(Et,{elem:G,anim:Xt,queue:Xt.opts.queue})),Xt}E.Animation=E.extend(An,{tweeners:{"*":[function(G,le){var ve=this.createTween(G,le);return ci(ve.elem,G,ze.exec(le),ve),ve}]},tweener:function(G,le){I(G)?(le=G,G=["*"]):G=G.match(de);for(var ve,Ae=0,Ue=G.length;Ae<Ue;Ae++)ve=G[Ae],An.tweeners[ve]=An.tweeners[ve]||[],An.tweeners[ve].unshift(le)},prefilters:[Eo],prefilter:function(G,le){le?An.prefilters.unshift(G):An.prefilters.push(G)}}),E.speed=function(G,le,ve){var Ae=G&&typeof G=="object"?E.extend({},G):{complete:ve||!ve&&le||I(G)&&G,duration:G,easing:ve&&le||le&&!I(le)&&le};return E.fx.off?Ae.duration=0:typeof Ae.duration!="number"&&(Ae.duration in E.fx.speeds?Ae.duration=E.fx.speeds[Ae.duration]:Ae.duration=E.fx.speeds._default),(Ae.queue==null||Ae.queue===!0)&&(Ae.queue="fx"),Ae.old=Ae.complete,Ae.complete=function(){I(Ae.old)&&Ae.old.call(this),Ae.queue&&E.dequeue(this,Ae.queue)},Ae},E.fn.extend({fadeTo:function(G,le,ve,Ae){return this.filter(Bt).css("opacity",0).show().end().animate({opacity:le},G,ve,Ae)},animate:function(G,le,ve,Ae){var Ue=E.isEmptyObject(G),Ve=E.speed(le,ve,Ae),Je=function(){var Rt=An(this,E.extend({},G),Ve);(Ue||Le.get(this,"finish"))&&Rt.stop(!0)};return Je.finish=Je,Ue||Ve.queue===!1?this.each(Je):this.queue(Ve.queue,Je)},stop:function(G,le,ve){var Ae=function(Ue){var Ve=Ue.stop;delete Ue.stop,Ve(ve)};return typeof G!="string"&&(ve=le,le=G,G=void 0),le&&this.queue(G||"fx",[]),this.each(function(){var Ue=!0,Ve=G!=null&&G+"queueHooks",Je=E.timers,Rt=Le.get(this);if(Ve)Rt[Ve]&&Rt[Ve].stop&&Ae(Rt[Ve]);else for(Ve in Rt)Rt[Ve]&&Rt[Ve].stop&&Ed.test(Ve)&&Ae(Rt[Ve]);for(Ve=Je.length;Ve--;)Je[Ve].elem===this&&(G==null||Je[Ve].queue===G)&&(Je[Ve].anim.stop(ve),Ue=!1,Je.splice(Ve,1));(Ue||!ve)&&E.dequeue(this,G)})},finish:function(G){return G!==!1&&(G=G||"fx"),this.each(function(){var le,ve=Le.get(this),Ae=ve[G+"queue"],Ue=ve[G+"queueHooks"],Ve=E.timers,Je=Ae?Ae.length:0;for(ve.finish=!0,E.queue(this,G,[]),Ue&&Ue.stop&&Ue.stop.call(this,!0),le=Ve.length;le--;)Ve[le].elem===this&&Ve[le].queue===G&&(Ve[le].anim.stop(!0),Ve.splice(le,1));for(le=0;le<Je;le++)Ae[le]&&Ae[le].finish&&Ae[le].finish.call(this);delete ve.finish})}}),E.each(["toggle","show","hide"],function(G,le){var ve=E.fn[le];E.fn[le]=function(Ae,Ue,Ve){return Ae==null||typeof Ae=="boolean"?ve.apply(this,arguments):this.animate(Vn(le,!0),Ae,Ue,Ve)}}),E.each({slideDown:Vn("show"),slideUp:Vn("hide"),slideToggle:Vn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(G,le){E.fn[G]=function(ve,Ae,Ue){return this.animate(le,ve,Ae,Ue)}}),E.timers=[],E.fx.tick=function(){var G,le=0,ve=E.timers;for(Gl=Date.now();le<ve.length;le++)G=ve[le],!G()&&ve[le]===G&&ve.splice(le--,1);ve.length||E.fx.stop(),Gl=void 0},E.fx.timer=function(G){E.timers.push(G),E.fx.start()},E.fx.interval=13,E.fx.start=function(){oo||(oo=!0,Vr())},E.fx.stop=function(){oo=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(G,le){return G=E.fx&&E.fx.speeds[G]||G,le=le||"fx",this.queue(le,function(ve,Ae){var Ue=t.setTimeout(ve,G);Ae.stop=function(){t.clearTimeout(Ue)}})},function(){var G=M.createElement("input"),le=M.createElement("select"),ve=le.appendChild(M.createElement("option"));G.type="checkbox",L.checkOn=G.value!=="",L.optSelected=ve.selected,G=M.createElement("input"),G.value="t",G.type="radio",L.radioValue=G.value==="t"}();var Vl,Jo=E.expr.attrHandle;E.fn.extend({attr:function(G,le){return ne(this,E.attr,G,le,arguments.length>1)},removeAttr:function(G){return this.each(function(){E.removeAttr(this,G)})}}),E.extend({attr:function(G,le,ve){var Ae,Ue,Ve=G.nodeType;if(!(Ve===3||Ve===8||Ve===2)){if(typeof G.getAttribute>"u")return E.prop(G,le,ve);if((Ve!==1||!E.isXMLDoc(G))&&(Ue=E.attrHooks[le.toLowerCase()]||(E.expr.match.bool.test(le)?Vl:void 0)),ve!==void 0){if(ve===null){E.removeAttr(G,le);return}return Ue&&"set"in Ue&&(Ae=Ue.set(G,ve,le))!==void 0?Ae:(G.setAttribute(le,ve+""),ve)}return Ue&&"get"in Ue&&(Ae=Ue.get(G,le))!==null?Ae:(Ae=E.find.attr(G,le),Ae??void 0)}},attrHooks:{type:{set:function(G,le){if(!L.radioValue&&le==="radio"&&S(G,"input")){var ve=G.value;return G.setAttribute("type",le),ve&&(G.value=ve),le}}}},removeAttr:function(G,le){var ve,Ae=0,Ue=le&&le.match(de);if(Ue&&G.nodeType===1)for(;ve=Ue[Ae++];)G.removeAttribute(ve)}}),Vl={set:function(G,le,ve){return le===!1?E.removeAttr(G,ve):G.setAttribute(ve,ve),ve}},E.each(E.expr.match.bool.source.match(/\w+/g),function(G,le){var ve=Jo[le]||E.find.attr;Jo[le]=function(Ae,Ue,Ve){var Je,Rt,Et=Ue.toLowerCase();return Ve||(Rt=Jo[Et],Jo[Et]=Je,Je=ve(Ae,Ue,Ve)!=null?Et:null,Jo[Et]=Rt),Je}});var ka=/^(?:input|select|textarea|button)$/i,Or=/^(?:a|area)$/i;E.fn.extend({prop:function(G,le){return ne(this,E.prop,G,le,arguments.length>1)},removeProp:function(G){return this.each(function(){delete this[E.propFix[G]||G]})}}),E.extend({prop:function(G,le,ve){var Ae,Ue,Ve=G.nodeType;if(!(Ve===3||Ve===8||Ve===2))return(Ve!==1||!E.isXMLDoc(G))&&(le=E.propFix[le]||le,Ue=E.propHooks[le]),ve!==void 0?Ue&&"set"in Ue&&(Ae=Ue.set(G,ve,le))!==void 0?Ae:G[le]=ve:Ue&&"get"in Ue&&(Ae=Ue.get(G,le))!==null?Ae:G[le]},propHooks:{tabIndex:{get:function(G){var le=E.find.attr(G,"tabindex");return le?parseInt(le,10):ka.test(G.nodeName)||Or.test(G.nodeName)&&G.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),L.optSelected||(E.propHooks.selected={get:function(G){var le=G.parentNode;return le&&le.parentNode&&le.parentNode.selectedIndex,null},set:function(G){var le=G.parentNode;le&&(le.selectedIndex,le.parentNode&&le.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this});function Ds(G){var le=G.match(de)||[];return le.join(" ")}function Hr(G){return G.getAttribute&&G.getAttribute("class")||""}function yo(G){return Array.isArray(G)?G:typeof G=="string"?G.match(de)||[]:[]}E.fn.extend({addClass:function(G){var le,ve,Ae,Ue,Ve,Je;return I(G)?this.each(function(Rt){E(this).addClass(G.call(this,Rt,Hr(this)))}):(le=yo(G),le.length?this.each(function(){if(Ae=Hr(this),ve=this.nodeType===1&&" "+Ds(Ae)+" ",ve){for(Ve=0;Ve<le.length;Ve++)Ue=le[Ve],ve.indexOf(" "+Ue+" ")<0&&(ve+=Ue+" ");Je=Ds(ve),Ae!==Je&&this.setAttribute("class",Je)}}):this)},removeClass:function(G){var le,ve,Ae,Ue,Ve,Je;return I(G)?this.each(function(Rt){E(this).removeClass(G.call(this,Rt,Hr(this)))}):arguments.length?(le=yo(G),le.length?this.each(function(){if(Ae=Hr(this),ve=this.nodeType===1&&" "+Ds(Ae)+" ",ve){for(Ve=0;Ve<le.length;Ve++)for(Ue=le[Ve];ve.indexOf(" "+Ue+" ")>-1;)ve=ve.replace(" "+Ue+" "," ");Je=Ds(ve),Ae!==Je&&this.setAttribute("class",Je)}}):this):this.attr("class","")},toggleClass:function(G,le){var ve,Ae,Ue,Ve,Je=typeof G,Rt=Je==="string"||Array.isArray(G);return I(G)?this.each(function(Et){E(this).toggleClass(G.call(this,Et,Hr(this),le),le)}):typeof le=="boolean"&&Rt?le?this.addClass(G):this.removeClass(G):(ve=yo(G),this.each(function(){if(Rt)for(Ve=E(this),Ue=0;Ue<ve.length;Ue++)Ae=ve[Ue],Ve.hasClass(Ae)?Ve.removeClass(Ae):Ve.addClass(Ae);else(G===void 0||Je==="boolean")&&(Ae=Hr(this),Ae&&Le.set(this,"__className__",Ae),this.setAttribute&&this.setAttribute("class",Ae||G===!1?"":Le.get(this,"__className__")||""))}))},hasClass:function(G){var le,ve,Ae=0;for(le=" "+G+" ";ve=this[Ae++];)if(ve.nodeType===1&&(" "+Ds(Hr(ve))+" ").indexOf(le)>-1)return!0;return!1}});var ml=/\r/g;E.fn.extend({val:function(G){var le,ve,Ae,Ue=this[0];return arguments.length?(Ae=I(G),this.each(function(Ve){var Je;this.nodeType===1&&(Ae?Je=G.call(this,Ve,E(this).val()):Je=G,Je==null?Je="":typeof Je=="number"?Je+="":Array.isArray(Je)&&(Je=E.map(Je,function(Rt){return Rt==null?"":Rt+""})),le=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()],(!le||!("set"in le)||le.set(this,Je,"value")===void 0)&&(this.value=Je))})):Ue?(le=E.valHooks[Ue.type]||E.valHooks[Ue.nodeName.toLowerCase()],le&&"get"in le&&(ve=le.get(Ue,"value"))!==void 0?ve:(ve=Ue.value,typeof ve=="string"?ve.replace(ml,""):ve??"")):void 0}}),E.extend({valHooks:{option:{get:function(G){var le=E.find.attr(G,"value");return le??Ds(E.text(G))}},select:{get:function(G){var le,ve,Ae,Ue=G.options,Ve=G.selectedIndex,Je=G.type==="select-one",Rt=Je?null:[],Et=Je?Ve+1:Ue.length;for(Ve<0?Ae=Et:Ae=Je?Ve:0;Ae<Et;Ae++)if(ve=Ue[Ae],(ve.selected||Ae===Ve)&&!ve.disabled&&(!ve.parentNode.disabled||!S(ve.parentNode,"optgroup"))){if(le=E(ve).val(),Je)return le;Rt.push(le)}return Rt},set:function(G,le){for(var ve,Ae,Ue=G.options,Ve=E.makeArray(le),Je=Ue.length;Je--;)Ae=Ue[Je],(Ae.selected=E.inArray(E.valHooks.option.get(Ae),Ve)>-1)&&(ve=!0);return ve||(G.selectedIndex=-1),Ve}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(G,le){if(Array.isArray(le))return G.checked=E.inArray(E(G).val(),le)>-1}},L.checkOn||(E.valHooks[this].get=function(G){return G.getAttribute("value")===null?"on":G.value})}),L.focusin="onfocusin"in t;var Fo=/^(?:focusinfocus|focusoutblur)$/,Ha=function(G){G.stopPropagation()};E.extend(E.event,{trigger:function(G,le,ve,Ae){var Ue,Ve,Je,Rt,Et,Xt,hi,Ti,ni=[ve||M],ai=O.call(G,"type")?G.type:G,Vi=O.call(G,"namespace")?G.namespace.split("."):[];if(Ve=Ti=Je=ve=ve||M,!(ve.nodeType===3||ve.nodeType===8)&&!Fo.test(ai+E.event.triggered)&&(ai.indexOf(".")>-1&&(Vi=ai.split("."),ai=Vi.shift(),Vi.sort()),Et=ai.indexOf(":")<0&&"on"+ai,G=G[E.expando]?G:new E.Event(ai,typeof G=="object"&&G),G.isTrigger=Ae?2:3,G.namespace=Vi.join("."),G.rnamespace=G.namespace?new RegExp("(^|\\.)"+Vi.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,G.result=void 0,G.target||(G.target=ve),le=le==null?[G]:E.makeArray(le,[G]),hi=E.event.special[ai]||{},!(!Ae&&hi.trigger&&hi.trigger.apply(ve,le)===!1))){if(!Ae&&!hi.noBubble&&!H(ve)){for(Rt=hi.delegateType||ai,Fo.test(Rt+ai)||(Ve=Ve.parentNode);Ve;Ve=Ve.parentNode)ni.push(Ve),Je=Ve;Je===(ve.ownerDocument||M)&&ni.push(Je.defaultView||Je.parentWindow||t)}for(Ue=0;(Ve=ni[Ue++])&&!G.isPropagationStopped();)Ti=Ve,G.type=Ue>1?Rt:hi.bindType||ai,Xt=(Le.get(Ve,"events")||Object.create(null))[G.type]&&Le.get(Ve,"handle"),Xt&&Xt.apply(Ve,le),Xt=Et&&Ve[Et],Xt&&Xt.apply&&we(Ve)&&(G.result=Xt.apply(Ve,le),G.result===!1&&G.preventDefault());return G.type=ai,!Ae&&!G.isDefaultPrevented()&&(!hi._default||hi._default.apply(ni.pop(),le)===!1)&&we(ve)&&Et&&I(ve[ai])&&!H(ve)&&(Je=ve[Et],Je&&(ve[Et]=null),E.event.triggered=ai,G.isPropagationStopped()&&Ti.addEventListener(ai,Ha),ve[ai](),G.isPropagationStopped()&&Ti.removeEventListener(ai,Ha),E.event.triggered=void 0,Je&&(ve[Et]=Je)),G.result}},simulate:function(G,le,ve){var Ae=E.extend(new E.Event,ve,{type:G,isSimulated:!0});E.event.trigger(Ae,null,le)}}),E.fn.extend({trigger:function(G,le){return this.each(function(){E.event.trigger(G,le,this)})},triggerHandler:function(G,le){var ve=this[0];if(ve)return E.event.trigger(G,le,ve,!0)}}),L.focusin||E.each({focus:"focusin",blur:"focusout"},function(G,le){var ve=function(Ae){E.event.simulate(le,Ae.target,E.event.fix(Ae))};E.event.special[le]={setup:function(){var Ae=this.ownerDocument||this.document||this,Ue=Le.access(Ae,le);Ue||Ae.addEventListener(G,ve,!0),Le.access(Ae,le,(Ue||0)+1)},teardown:function(){var Ae=this.ownerDocument||this.document||this,Ue=Le.access(Ae,le)-1;Ue?Le.access(Ae,le,Ue):(Ae.removeEventListener(G,ve,!0),Le.remove(Ae,le))}}});var Wa=t.location,Pa={guid:Date.now()},Ya=/\?/;E.parseXML=function(G){var le,ve;if(!G||typeof G!="string")return null;try{le=new t.DOMParser().parseFromString(G,"text/xml")}catch{}return ve=le&&le.getElementsByTagName("parsererror")[0],(!le||ve)&&E.error("Invalid XML: "+(ve?E.map(ve.childNodes,function(Ae){return Ae.textContent}).join(`
`):G)),le};var _c=/\[\]$/,yc=/\r?\n/g,po=/^(?:submit|button|image|reset|file)$/i,pr=/^(?:input|select|textarea|keygen)/i;function gl(G,le,ve,Ae){var Ue;if(Array.isArray(le))E.each(le,function(Ve,Je){ve||_c.test(G)?Ae(G,Je):gl(G+"["+(typeof Je=="object"&&Je!=null?Ve:"")+"]",Je,ve,Ae)});else if(!ve&&U(le)==="object")for(Ue in le)gl(G+"["+Ue+"]",le[Ue],ve,Ae);else Ae(G,le)}E.param=function(G,le){var ve,Ae=[],Ue=function(Ve,Je){var Rt=I(Je)?Je():Je;Ae[Ae.length]=encodeURIComponent(Ve)+"="+encodeURIComponent(Rt??"")};if(G==null)return"";if(Array.isArray(G)||G.jquery&&!E.isPlainObject(G))E.each(G,function(){Ue(this.name,this.value)});else for(ve in G)gl(ve,G[ve],le,Ue);return Ae.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var G=E.prop(this,"elements");return G?E.makeArray(G):this}).filter(function(){var G=this.type;return this.name&&!E(this).is(":disabled")&&pr.test(this.nodeName)&&!po.test(G)&&(this.checked||!Ii.test(G))}).map(function(G,le){var ve=E(this).val();return ve==null?null:Array.isArray(ve)?E.map(ve,function(Ae){return{name:le.name,value:Ae.replace(yc,`\r
`)}}):{name:le.name,value:ve.replace(yc,`\r
`)}}).get()}});var Da=/%20/g,Rr=/#.*$/,jo=/([?&])_=[^&]*/,Zd=/^(.*?):[ \t]*([^\r\n]*)$/mg,Yc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,kr=/^(?:GET|HEAD)$/,_l=/^\/\//,qc={},yl={},Br="*/".concat("*"),qa=M.createElement("a");qa.href=Wa.href;function Xc(G){return function(le,ve){typeof le!="string"&&(ve=le,le="*");var Ae,Ue=0,Ve=le.toLowerCase().match(de)||[];if(I(ve))for(;Ae=Ve[Ue++];)Ae[0]==="+"?(Ae=Ae.slice(1)||"*",(G[Ae]=G[Ae]||[]).unshift(ve)):(G[Ae]=G[Ae]||[]).push(ve)}}function ys(G,le,ve,Ae){var Ue={},Ve=G===yl;function Je(Rt){var Et;return Ue[Rt]=!0,E.each(G[Rt]||[],function(Xt,hi){var Ti=hi(le,ve,Ae);if(typeof Ti=="string"&&!Ve&&!Ue[Ti])return le.dataTypes.unshift(Ti),Je(Ti),!1;if(Ve)return!(Et=Ti)}),Et}return Je(le.dataTypes[0])||!Ue["*"]&&Je("*")}function Ts(G,le){var ve,Ae,Ue=E.ajaxSettings.flatOptions||{};for(ve in le)le[ve]!==void 0&&((Ue[ve]?G:Ae||(Ae={}))[ve]=le[ve]);return Ae&&E.extend(!0,G,Ae),G}function Zc(G,le,ve){for(var Ae,Ue,Ve,Je,Rt=G.contents,Et=G.dataTypes;Et[0]==="*";)Et.shift(),Ae===void 0&&(Ae=G.mimeType||le.getResponseHeader("Content-Type"));if(Ae){for(Ue in Rt)if(Rt[Ue]&&Rt[Ue].test(Ae)){Et.unshift(Ue);break}}if(Et[0]in ve)Ve=Et[0];else{for(Ue in ve){if(!Et[0]||G.converters[Ue+" "+Et[0]]){Ve=Ue;break}Je||(Je=Ue)}Ve=Ve||Je}if(Ve)return Ve!==Et[0]&&Et.unshift(Ve),ve[Ve]}function Kd(G,le,ve,Ae){var Ue,Ve,Je,Rt,Et,Xt={},hi=G.dataTypes.slice();if(hi[1])for(Je in G.converters)Xt[Je.toLowerCase()]=G.converters[Je];for(Ve=hi.shift();Ve;)if(G.responseFields[Ve]&&(ve[G.responseFields[Ve]]=le),!Et&&Ae&&G.dataFilter&&(le=G.dataFilter(le,G.dataType)),Et=Ve,Ve=hi.shift(),Ve){if(Ve==="*")Ve=Et;else if(Et!=="*"&&Et!==Ve){if(Je=Xt[Et+" "+Ve]||Xt["* "+Ve],!Je){for(Ue in Xt)if(Rt=Ue.split(" "),Rt[1]===Ve&&(Je=Xt[Et+" "+Rt[0]]||Xt["* "+Rt[0]],Je)){Je===!0?Je=Xt[Ue]:Xt[Ue]!==!0&&(Ve=Rt[0],hi.unshift(Rt[1]));break}}if(Je!==!0)if(Je&&G.throws)le=Je(le);else try{le=Je(le)}catch(Ti){return{state:"parsererror",error:Je?Ti:"No conversion from "+Et+" to "+Ve}}}}return{state:"success",data:le}}E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Wa.href,type:"GET",isLocal:Yc.test(Wa.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Br,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(G,le){return le?Ts(Ts(G,E.ajaxSettings),le):Ts(E.ajaxSettings,G)},ajaxPrefilter:Xc(qc),ajaxTransport:Xc(yl),ajax:function(G,le){typeof G=="object"&&(le=G,G=void 0),le=le||{};var ve,Ae,Ue,Ve,Je,Rt,Et,Xt,hi,Ti,ni=E.ajaxSetup({},le),ai=ni.context||ni,Vi=ni.context&&(ai.nodeType||ai.jquery)?E(ai):E.event,Rn=E.Deferred(),ln=E.Callbacks("once memory"),Qs=ni.statusCode||{},Fs={},is={},ns="canceled",On={readyState:0,getResponseHeader:function(rs){var js;if(Et){if(!Ve)for(Ve={};js=Zd.exec(Ue);)Ve[js[1].toLowerCase()+" "]=(Ve[js[1].toLowerCase()+" "]||[]).concat(js[2]);js=Ve[rs.toLowerCase()+" "]}return js==null?null:js.join(", ")},getAllResponseHeaders:function(){return Et?Ue:null},setRequestHeader:function(rs,js){return Et==null&&(rs=is[rs.toLowerCase()]=is[rs.toLowerCase()]||rs,Fs[rs]=js),this},overrideMimeType:function(rs){return Et==null&&(ni.mimeType=rs),this},statusCode:function(rs){var js;if(rs)if(Et)On.always(rs[On.status]);else for(js in rs)Qs[js]=[Qs[js],rs[js]];return this},abort:function(rs){var js=rs||ns;return ve&&ve.abort(js),zr(0,js),this}};if(Rn.promise(On),ni.url=((G||ni.url||Wa.href)+"").replace(_l,Wa.protocol+"//"),ni.type=le.method||le.type||ni.method||ni.type,ni.dataTypes=(ni.dataType||"*").toLowerCase().match(de)||[""],ni.crossDomain==null){Rt=M.createElement("a");try{Rt.href=ni.url,Rt.href=Rt.href,ni.crossDomain=qa.protocol+"//"+qa.host!=Rt.protocol+"//"+Rt.host}catch{ni.crossDomain=!0}}if(ni.data&&ni.processData&&typeof ni.data!="string"&&(ni.data=E.param(ni.data,ni.traditional)),ys(qc,ni,le,On),Et)return On;Xt=E.event&&ni.global,Xt&&E.active++===0&&E.event.trigger("ajaxStart"),ni.type=ni.type.toUpperCase(),ni.hasContent=!kr.test(ni.type),Ae=ni.url.replace(Rr,""),ni.hasContent?ni.data&&ni.processData&&(ni.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ni.data=ni.data.replace(Da,"+")):(Ti=ni.url.slice(Ae.length),ni.data&&(ni.processData||typeof ni.data=="string")&&(Ae+=(Ya.test(Ae)?"&":"?")+ni.data,delete ni.data),ni.cache===!1&&(Ae=Ae.replace(jo,"$1"),Ti=(Ya.test(Ae)?"&":"?")+"_="+Pa.guid+++Ti),ni.url=Ae+Ti),ni.ifModified&&(E.lastModified[Ae]&&On.setRequestHeader("If-Modified-Since",E.lastModified[Ae]),E.etag[Ae]&&On.setRequestHeader("If-None-Match",E.etag[Ae])),(ni.data&&ni.hasContent&&ni.contentType!==!1||le.contentType)&&On.setRequestHeader("Content-Type",ni.contentType),On.setRequestHeader("Accept",ni.dataTypes[0]&&ni.accepts[ni.dataTypes[0]]?ni.accepts[ni.dataTypes[0]]+(ni.dataTypes[0]!=="*"?", "+Br+"; q=0.01":""):ni.accepts["*"]);for(hi in ni.headers)On.setRequestHeader(hi,ni.headers[hi]);if(ni.beforeSend&&(ni.beforeSend.call(ai,On,ni)===!1||Et))return On.abort();if(ns="abort",ln.add(ni.complete),On.done(ni.success),On.fail(ni.error),ve=ys(yl,ni,le,On),!ve)zr(-1,"No Transport");else{if(On.readyState=1,Xt&&Vi.trigger("ajaxSend",[On,ni]),Et)return On;ni.async&&ni.timeout>0&&(Je=t.setTimeout(function(){On.abort("timeout")},ni.timeout));try{Et=!1,ve.send(Fs,zr)}catch(rs){if(Et)throw rs;zr(-1,rs)}}function zr(rs,js,ya,xl){var Nr,Ao,zn,Zr,ko,fo=js;Et||(Et=!0,Je&&t.clearTimeout(Je),ve=void 0,Ue=xl||"",On.readyState=rs>0?4:0,Nr=rs>=200&&rs<300||rs===304,ya&&(Zr=Zc(ni,On,ya)),!Nr&&E.inArray("script",ni.dataTypes)>-1&&E.inArray("json",ni.dataTypes)<0&&(ni.converters["text script"]=function(){}),Zr=Kd(ni,Zr,On,Nr),Nr?(ni.ifModified&&(ko=On.getResponseHeader("Last-Modified"),ko&&(E.lastModified[Ae]=ko),ko=On.getResponseHeader("etag"),ko&&(E.etag[Ae]=ko)),rs===204||ni.type==="HEAD"?fo="nocontent":rs===304?fo="notmodified":(fo=Zr.state,Ao=Zr.data,zn=Zr.error,Nr=!zn)):(zn=fo,(rs||!fo)&&(fo="error",rs<0&&(rs=0))),On.status=rs,On.statusText=(js||fo)+"",Nr?Rn.resolveWith(ai,[Ao,fo,On]):Rn.rejectWith(ai,[On,fo,zn]),On.statusCode(Qs),Qs=void 0,Xt&&Vi.trigger(Nr?"ajaxSuccess":"ajaxError",[On,ni,Nr?Ao:zn]),ln.fireWith(ai,[On,fo]),Xt&&(Vi.trigger("ajaxComplete",[On,ni]),--E.active||E.event.trigger("ajaxStop")))}return On},getJSON:function(G,le,ve){return E.get(G,le,ve,"json")},getScript:function(G,le){return E.get(G,void 0,le,"script")}}),E.each(["get","post"],function(G,le){E[le]=function(ve,Ae,Ue,Ve){return I(Ae)&&(Ve=Ve||Ue,Ue=Ae,Ae=void 0),E.ajax(E.extend({url:ve,type:le,dataType:Ve,data:Ae,success:Ue},E.isPlainObject(ve)&&ve))}}),E.ajaxPrefilter(function(G){var le;for(le in G.headers)le.toLowerCase()==="content-type"&&(G.contentType=G.headers[le]||"")}),E._evalUrl=function(G,le,ve){return E.ajax({url:G,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(Ae){E.globalEval(Ae,le,ve)}})},E.fn.extend({wrapAll:function(G){var le;return this[0]&&(I(G)&&(G=G.call(this[0])),le=E(G,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&le.insertBefore(this[0]),le.map(function(){for(var ve=this;ve.firstElementChild;)ve=ve.firstElementChild;return ve}).append(this)),this},wrapInner:function(G){return I(G)?this.each(function(le){E(this).wrapInner(G.call(this,le))}):this.each(function(){var le=E(this),ve=le.contents();ve.length?ve.wrapAll(G):le.append(G)})},wrap:function(G){var le=I(G);return this.each(function(ve){E(this).wrapAll(le?G.call(this,ve):G)})},unwrap:function(G){return this.parent(G).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(G){return!E.expr.pseudos.visible(G)},E.expr.pseudos.visible=function(G){return!!(G.offsetWidth||G.offsetHeight||G.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var Md={0:200,1223:204},Uo=E.ajaxSettings.xhr();L.cors=!!Uo&&"withCredentials"in Uo,L.ajax=Uo=!!Uo,E.ajaxTransport(function(G){var le,ve;if(L.cors||Uo&&!G.crossDomain)return{send:function(Ae,Ue){var Ve,Je=G.xhr();if(Je.open(G.type,G.url,G.async,G.username,G.password),G.xhrFields)for(Ve in G.xhrFields)Je[Ve]=G.xhrFields[Ve];G.mimeType&&Je.overrideMimeType&&Je.overrideMimeType(G.mimeType),!G.crossDomain&&!Ae["X-Requested-With"]&&(Ae["X-Requested-With"]="XMLHttpRequest");for(Ve in Ae)Je.setRequestHeader(Ve,Ae[Ve]);le=function(Rt){return function(){le&&(le=ve=Je.onload=Je.onerror=Je.onabort=Je.ontimeout=Je.onreadystatechange=null,Rt==="abort"?Je.abort():Rt==="error"?typeof Je.status!="number"?Ue(0,"error"):Ue(Je.status,Je.statusText):Ue(Md[Je.status]||Je.status,Je.statusText,(Je.responseType||"text")!=="text"||typeof Je.responseText!="string"?{binary:Je.response}:{text:Je.responseText},Je.getAllResponseHeaders()))}},Je.onload=le(),ve=Je.onerror=Je.ontimeout=le("error"),Je.onabort!==void 0?Je.onabort=ve:Je.onreadystatechange=function(){Je.readyState===4&&t.setTimeout(function(){le&&ve()})},le=le("abort");try{Je.send(G.hasContent&&G.data||null)}catch(Rt){if(le)throw Rt}},abort:function(){le&&le()}}}),E.ajaxPrefilter(function(G){G.crossDomain&&(G.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(G){return E.globalEval(G),G}}}),E.ajaxPrefilter("script",function(G){G.cache===void 0&&(G.cache=!1),G.crossDomain&&(G.type="GET")}),E.ajaxTransport("script",function(G){if(G.crossDomain||G.scriptAttrs){var le,ve;return{send:function(Ae,Ue){le=E("<script>").attr(G.scriptAttrs||{}).prop({charset:G.scriptCharset,src:G.url}).on("load error",ve=function(Ve){le.remove(),ve=null,Ve&&Ue(Ve.type==="error"?404:200,Ve.type)}),M.head.appendChild(le[0])},abort:function(){ve&&ve()}}}});var vc=[],Kc=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var G=vc.pop()||E.expando+"_"+Pa.guid++;return this[G]=!0,G}}),E.ajaxPrefilter("json jsonp",function(G,le,ve){var Ae,Ue,Ve,Je=G.jsonp!==!1&&(Kc.test(G.url)?"url":typeof G.data=="string"&&(G.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Kc.test(G.data)&&"data");if(Je||G.dataTypes[0]==="jsonp")return Ae=G.jsonpCallback=I(G.jsonpCallback)?G.jsonpCallback():G.jsonpCallback,Je?G[Je]=G[Je].replace(Kc,"$1"+Ae):G.jsonp!==!1&&(G.url+=(Ya.test(G.url)?"&":"?")+G.jsonp+"="+Ae),G.converters["script json"]=function(){return Ve||E.error(Ae+" was not called"),Ve[0]},G.dataTypes[0]="json",Ue=t[Ae],t[Ae]=function(){Ve=arguments},ve.always(function(){Ue===void 0?E(t).removeProp(Ae):t[Ae]=Ue,G[Ae]&&(G.jsonpCallback=le.jsonpCallback,vc.push(Ae)),Ve&&I(Ue)&&Ue(Ve[0]),Ve=Ue=void 0}),"script"}),L.createHTMLDocument=function(){var G=M.implementation.createHTMLDocument("").body;return G.innerHTML="<form></form><form></form>",G.childNodes.length===2}(),E.parseHTML=function(G,le,ve){if(typeof G!="string")return[];typeof le=="boolean"&&(ve=le,le=!1);var Ae,Ue,Ve;return le||(L.createHTMLDocument?(le=M.implementation.createHTMLDocument(""),Ae=le.createElement("base"),Ae.href=M.location.href,le.head.appendChild(Ae)):le=M),Ue=P.exec(G),Ve=!ve&&[],Ue?[le.createElement(Ue[1])]:(Ue=us([G],le,Ve),Ve&&Ve.length&&E(Ve).remove(),E.merge([],Ue.childNodes))},E.fn.load=function(G,le,ve){var Ae,Ue,Ve,Je=this,Rt=G.indexOf(" ");return Rt>-1&&(Ae=Ds(G.slice(Rt)),G=G.slice(0,Rt)),I(le)?(ve=le,le=void 0):le&&typeof le=="object"&&(Ue="POST"),Je.length>0&&E.ajax({url:G,type:Ue||"GET",dataType:"html",data:le}).done(function(Et){Ve=arguments,Je.html(Ae?E("<div>").append(E.parseHTML(Et)).find(Ae):Et)}).always(ve&&function(Et,Xt){Je.each(function(){ve.apply(this,Ve||[Et.responseText,Xt,Et])})}),this},E.expr.pseudos.animated=function(G){return E.grep(E.timers,function(le){return G===le.elem}).length},E.offset={setOffset:function(G,le,ve){var Ae,Ue,Ve,Je,Rt,Et,Xt,hi=E.css(G,"position"),Ti=E(G),ni={};hi==="static"&&(G.style.position="relative"),Rt=Ti.offset(),Ve=E.css(G,"top"),Et=E.css(G,"left"),Xt=(hi==="absolute"||hi==="fixed")&&(Ve+Et).indexOf("auto")>-1,Xt?(Ae=Ti.position(),Je=Ae.top,Ue=Ae.left):(Je=parseFloat(Ve)||0,Ue=parseFloat(Et)||0),I(le)&&(le=le.call(G,ve,E.extend({},Rt))),le.top!=null&&(ni.top=le.top-Rt.top+Je),le.left!=null&&(ni.left=le.left-Rt.left+Ue),"using"in le?le.using.call(G,ni):Ti.css(ni)}},E.fn.extend({offset:function(G){if(arguments.length)return G===void 0?this:this.each(function(Ue){E.offset.setOffset(this,G,Ue)});var le,ve,Ae=this[0];if(Ae)return Ae.getClientRects().length?(le=Ae.getBoundingClientRect(),ve=Ae.ownerDocument.defaultView,{top:le.top+ve.pageYOffset,left:le.left+ve.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var G,le,ve,Ae=this[0],Ue={top:0,left:0};if(E.css(Ae,"position")==="fixed")le=Ae.getBoundingClientRect();else{for(le=this.offset(),ve=Ae.ownerDocument,G=Ae.offsetParent||ve.documentElement;G&&(G===ve.body||G===ve.documentElement)&&E.css(G,"position")==="static";)G=G.parentNode;G&&G!==Ae&&G.nodeType===1&&(Ue=E(G).offset(),Ue.top+=E.css(G,"borderTopWidth",!0),Ue.left+=E.css(G,"borderLeftWidth",!0))}return{top:le.top-Ue.top-E.css(Ae,"marginTop",!0),left:le.left-Ue.left-E.css(Ae,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var G=this.offsetParent;G&&E.css(G,"position")==="static";)G=G.offsetParent;return G||Ke})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(G,le){var ve=le==="pageYOffset";E.fn[G]=function(Ae){return ne(this,function(Ue,Ve,Je){var Rt;if(H(Ue)?Rt=Ue:Ue.nodeType===9&&(Rt=Ue.defaultView),Je===void 0)return Rt?Rt[le]:Ue[Ve];Rt?Rt.scrollTo(ve?Rt.pageXOffset:Je,ve?Je:Rt.pageYOffset):Ue[Ve]=Je},G,Ae,arguments.length)}}),E.each(["top","left"],function(G,le){E.cssHooks[le]=$i(L.pixelPosition,function(ve,Ae){if(Ae)return Ae=an(ve,le),Lt.test(Ae)?E(ve).position()[le]+"px":Ae})}),E.each({Height:"height",Width:"width"},function(G,le){E.each({padding:"inner"+G,content:le,"":"outer"+G},function(ve,Ae){E.fn[Ae]=function(Ue,Ve){var Je=arguments.length&&(ve||typeof Ue!="boolean"),Rt=ve||(Ue===!0||Ve===!0?"margin":"border");return ne(this,function(Et,Xt,hi){var Ti;return H(Et)?Ae.indexOf("outer")===0?Et["inner"+G]:Et.document.documentElement["client"+G]:Et.nodeType===9?(Ti=Et.documentElement,Math.max(Et.body["scroll"+G],Ti["scroll"+G],Et.body["offset"+G],Ti["offset"+G],Ti["client"+G])):hi===void 0?E.css(Et,Xt,Rt):E.style(Et,Xt,hi,Rt)},le,Je?Ue:void 0,Je)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(G,le){E.fn[le]=function(ve){return this.on(le,ve)}}),E.fn.extend({bind:function(G,le,ve){return this.on(G,null,le,ve)},unbind:function(G,le){return this.off(G,null,le)},delegate:function(G,le,ve,Ae){return this.on(le,G,ve,Ae)},undelegate:function(G,le,ve){return arguments.length===1?this.off(G,"**"):this.off(le,G||"**",ve)},hover:function(G,le){return this.mouseenter(G).mouseleave(le||G)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(G,le){E.fn[le]=function(ve,Ae){return arguments.length>0?this.on(le,null,ve,Ae):this.trigger(le)}});var vl=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(G,le){var ve,Ae,Ue;if(typeof le=="string"&&(ve=G[le],le=G,G=ve),!!I(G))return Ae=h.call(arguments,2),Ue=function(){return G.apply(le||this,Ae.concat(h.call(arguments)))},Ue.guid=G.guid=G.guid||E.guid++,Ue},E.holdReady=function(G){G?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=S,E.isFunction=I,E.isWindow=H,E.camelCase=me,E.type=U,E.now=Date.now,E.isNumeric=function(G){var le=E.type(G);return(le==="number"||le==="string")&&!isNaN(G-parseFloat(G))},E.trim=function(G){return G==null?"":(G+"").replace(vl,"$1")};var Mo=t.jQuery,Pr=t.$;return E.noConflict=function(G){return t.$===E&&(t.$=Pr),G&&t.jQuery===E&&(t.jQuery=Mo),E},typeof s>"u"&&(t.jQuery=t.$=E),E})})(q5);var pk=q5.exports;const fk=wd(pk);function X5(e,t){return function(){return e.apply(t,arguments)}}const{toString:Z5}=Object.prototype,{getPrototypeOf:e3}=Object,t3=(e=>t=>{const s=Z5.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),bu=e=>(e=e.toLowerCase(),t=>t3(t)===e),Xv=e=>t=>typeof t===e,{isArray:Bm}=Array,O1=Xv("undefined");function mk(e){return e!==null&&!O1(e)&&e.constructor!==null&&!O1(e.constructor)&&Xf(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const K5=bu("ArrayBuffer");function gk(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&K5(e.buffer),t}const _k=Xv("string"),Xf=Xv("function"),J5=Xv("number"),i3=e=>e!==null&&typeof e=="object",yk=e=>e===!0||e===!1,nv=e=>{if(t3(e)!=="object")return!1;const t=e3(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},vk=bu("Date"),xk=bu("File"),bk=bu("Blob"),wk=bu("FileList"),Sk=e=>i3(e)&&Xf(e.pipe),Tk=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||Z5.call(e)===t||Xf(e.toString)&&e.toString()===t)},Ck=bu("URLSearchParams"),Ek=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Z1(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let a,c;if(typeof e!="object"&&(e=[e]),Bm(e))for(a=0,c=e.length;a<c;a++)t.call(null,e[a],a,e);else{const h=s?Object.getOwnPropertyNames(e):Object.keys(e),m=h.length;let n;for(a=0;a<m;a++)n=h[a],t.call(null,e[n],n,e)}}function Q5(e,t){t=t.toLowerCase();const s=Object.keys(e);let a=s.length,c;for(;a-- >0;)if(c=s[a],t===c.toLowerCase())return c;return null}const eC=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),tC=e=>!O1(e)&&e!==eC;function pw(){const{caseless:e}=tC(this)&&this||{},t={},s=(a,c)=>{const h=e&&Q5(t,c)||c;nv(t[h])&&nv(a)?t[h]=pw(t[h],a):nv(a)?t[h]=pw({},a):Bm(a)?t[h]=a.slice():t[h]=a};for(let a=0,c=arguments.length;a<c;a++)arguments[a]&&Z1(arguments[a],s);return t}const Mk=(e,t,s,{allOwnKeys:a}={})=>(Z1(t,(c,h)=>{s&&Xf(c)?e[h]=X5(c,s):e[h]=c},{allOwnKeys:a}),e),Ak=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),kk=(e,t,s,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Pk=(e,t,s,a)=>{let c,h,m;const n={};if(t=t||{},e==null)return t;do{for(c=Object.getOwnPropertyNames(e),h=c.length;h-- >0;)m=c[h],(!a||a(m,e,t))&&!n[m]&&(t[m]=e[m],n[m]=!0);e=s!==!1&&e3(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},Dk=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const a=e.indexOf(t,s);return a!==-1&&a===s},Ik=e=>{if(!e)return null;if(Bm(e))return e;let t=e.length;if(!J5(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},Lk=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&e3(Uint8Array)),Ok=(e,t)=>{const a=(e&&e[Symbol.iterator]).call(e);let c;for(;(c=a.next())&&!c.done;){const h=c.value;t.call(e,h[0],h[1])}},Rk=(e,t)=>{let s;const a=[];for(;(s=e.exec(t))!==null;)a.push(s);return a},Bk=bu("HTMLFormElement"),zk=e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(s,a,c){return a.toUpperCase()+c}),sT=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Nk=bu("RegExp"),iC=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),a={};Z1(s,(c,h)=>{t(c,h,e)!==!1&&(a[h]=c)}),Object.defineProperties(e,a)},Fk=e=>{iC(e,(t,s)=>{if(Xf(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=e[s];if(Xf(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},jk=(e,t)=>{const s={},a=c=>{c.forEach(h=>{s[h]=!0})};return Bm(e)?a(e):a(String(e).split(t)),s},Uk=()=>{},$k=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Gk=e=>{const t=new Array(10),s=(a,c)=>{if(i3(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[c]=a;const h=Bm(a)?[]:{};return Z1(a,(m,n)=>{const x=s(m,c+1);!O1(x)&&(h[n]=x)}),t[c]=void 0,h}}return a};return s(e,0)},Bi={isArray:Bm,isArrayBuffer:K5,isBuffer:mk,isFormData:Tk,isArrayBufferView:gk,isString:_k,isNumber:J5,isBoolean:yk,isObject:i3,isPlainObject:nv,isUndefined:O1,isDate:vk,isFile:xk,isBlob:bk,isRegExp:Nk,isFunction:Xf,isStream:Sk,isURLSearchParams:Ck,isTypedArray:Lk,isFileList:wk,forEach:Z1,merge:pw,extend:Mk,trim:Ek,stripBOM:Ak,inherits:kk,toFlatObject:Pk,kindOf:t3,kindOfTest:bu,endsWith:Dk,toArray:Ik,forEachEntry:Ok,matchAll:Rk,isHTMLForm:Bk,hasOwnProperty:sT,hasOwnProp:sT,reduceDescriptors:iC,freezeMethods:Fk,toObjectSet:jk,toCamelCase:zk,noop:Uk,toFiniteNumber:$k,findKey:Q5,global:eC,isContextDefined:tC,toJSONObject:Gk};function ar(e,t,s,a,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),a&&(this.request=a),c&&(this.response=c)}Bi.inherits(ar,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Bi.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const nC=ar.prototype,sC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{sC[e]={value:e}});Object.defineProperties(ar,sC);Object.defineProperty(nC,"isAxiosError",{value:!0});ar.from=(e,t,s,a,c,h)=>{const m=Object.create(nC);return Bi.toFlatObject(e,m,function(x){return x!==Error.prototype},n=>n!=="isAxiosError"),ar.call(m,e.message,t,s,a,c),m.cause=e,m.name=e.name,h&&Object.assign(m,h),m};var Vk=typeof self=="object"?self.FormData:window.FormData;const Hk=wd(Vk);function fw(e){return Bi.isPlainObject(e)||Bi.isArray(e)}function rC(e){return Bi.endsWith(e,"[]")?e.slice(0,-2):e}function rT(e,t,s){return e?e.concat(t).map(function(c,h){return c=rC(c),!s&&h?"["+c+"]":c}).join(s?".":""):t}function Wk(e){return Bi.isArray(e)&&!e.some(fw)}const Yk=Bi.toFlatObject(Bi,{},null,function(t){return/^is[A-Z]/.test(t)});function qk(e){return e&&Bi.isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator]}function Zv(e,t,s){if(!Bi.isObject(e))throw new TypeError("target must be an object");t=t||new(Hk||FormData),s=Bi.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,H){return!Bi.isUndefined(H[I])});const a=s.metaTokens,c=s.visitor||Y,h=s.dots,m=s.indexes,x=(s.Blob||typeof Blob<"u"&&Blob)&&qk(t);if(!Bi.isFunction(c))throw new TypeError("visitor must be a function");function z(L){if(L===null)return"";if(Bi.isDate(L))return L.toISOString();if(!x&&Bi.isBlob(L))throw new ar("Blob is not supported. Use a Buffer instead.");return Bi.isArrayBuffer(L)||Bi.isTypedArray(L)?x&&typeof Blob=="function"?new Blob([L]):Buffer.from(L):L}function Y(L,I,H){let M=L;if(L&&!H&&typeof L=="object"){if(Bi.endsWith(I,"{}"))I=a?I:I.slice(0,-2),L=JSON.stringify(L);else if(Bi.isArray(L)&&Wk(L)||Bi.isFileList(L)||Bi.endsWith(I,"[]")&&(M=Bi.toArray(L)))return I=rC(I),M.forEach(function(A,U){!(Bi.isUndefined(A)||A===null)&&t.append(m===!0?rT([I],U,h):m===null?I:I+"[]",z(A))}),!1}return fw(L)?!0:(t.append(rT(H,I,h),z(L)),!1)}const O=[],V=Object.assign(Yk,{defaultVisitor:Y,convertValue:z,isVisitable:fw});function q(L,I){if(!Bi.isUndefined(L)){if(O.indexOf(L)!==-1)throw Error("Circular reference detected in "+I.join("."));O.push(L),Bi.forEach(L,function(M,C){(!(Bi.isUndefined(M)||M===null)&&c.call(t,M,Bi.isString(C)?C.trim():C,I,V))===!0&&q(M,I?I.concat(C):[C])}),O.pop()}}if(!Bi.isObject(e))throw new TypeError("data must be an object");return q(e),t}function oT(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function n3(e,t){this._pairs=[],e&&Zv(e,this,t)}const oC=n3.prototype;oC.append=function(t,s){this._pairs.push([t,s])};oC.toString=function(t){const s=t?function(a){return t.call(this,a,oT)}:oT;return this._pairs.map(function(c){return s(c[0])+"="+s(c[1])},"").join("&")};function Xk(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function aC(e,t,s){if(!t)return e;const a=s&&s.encode||Xk,c=s&&s.serialize;let h;if(c?h=c(t,s):h=Bi.isURLSearchParams(t)?t.toString():new n3(t,s).toString(a),h){const m=e.indexOf("#");m!==-1&&(e=e.slice(0,m)),e+=(e.indexOf("?")===-1?"?":"&")+h}return e}class Zk{constructor(){this.handlers=[]}use(t,s,a){return this.handlers.push({fulfilled:t,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Bi.forEach(this.handlers,function(a){a!==null&&t(a)})}}const aT=Zk,lC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Kk=typeof URLSearchParams<"u"?URLSearchParams:n3,Jk=FormData,Qk=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),e4=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ch={isBrowser:!0,classes:{URLSearchParams:Kk,FormData:Jk,Blob},isStandardBrowserEnv:Qk,isStandardBrowserWebWorkerEnv:e4,protocols:["http","https","file","blob","url","data"]};function t4(e,t){return Zv(e,new Ch.classes.URLSearchParams,Object.assign({visitor:function(s,a,c,h){return Ch.isNode&&Bi.isBuffer(s)?(this.append(a,s.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},t))}function i4(e){return Bi.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function n4(e){const t={},s=Object.keys(e);let a;const c=s.length;let h;for(a=0;a<c;a++)h=s[a],t[h]=e[h];return t}function cC(e){function t(s,a,c,h){let m=s[h++];const n=Number.isFinite(+m),x=h>=s.length;return m=!m&&Bi.isArray(c)?c.length:m,x?(Bi.hasOwnProp(c,m)?c[m]=[c[m],a]:c[m]=a,!n):((!c[m]||!Bi.isObject(c[m]))&&(c[m]=[]),t(s,a,c[m],h)&&Bi.isArray(c[m])&&(c[m]=n4(c[m])),!n)}if(Bi.isFormData(e)&&Bi.isFunction(e.entries)){const s={};return Bi.forEachEntry(e,(a,c)=>{t(i4(a),c,s,0)}),s}return null}const s4={"Content-Type":void 0};function r4(e,t,s){if(Bi.isString(e))try{return(t||JSON.parse)(e),Bi.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(e)}const Kv={transitional:lC,adapter:["xhr","http"],transformRequest:[function(t,s){const a=s.getContentType()||"",c=a.indexOf("application/json")>-1,h=Bi.isObject(t);if(h&&Bi.isHTMLForm(t)&&(t=new FormData(t)),Bi.isFormData(t))return c&&c?JSON.stringify(cC(t)):t;if(Bi.isArrayBuffer(t)||Bi.isBuffer(t)||Bi.isStream(t)||Bi.isFile(t)||Bi.isBlob(t))return t;if(Bi.isArrayBufferView(t))return t.buffer;if(Bi.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let n;if(h){if(a.indexOf("application/x-www-form-urlencoded")>-1)return t4(t,this.formSerializer).toString();if((n=Bi.isFileList(t))||a.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return Zv(n?{"files[]":t}:t,x&&new x,this.formSerializer)}}return h||c?(s.setContentType("application/json",!1),r4(t)):t}],transformResponse:[function(t){const s=this.transitional||Kv.transitional,a=s&&s.forcedJSONParsing,c=this.responseType==="json";if(t&&Bi.isString(t)&&(a&&!this.responseType||c)){const m=!(s&&s.silentJSONParsing)&&c;try{return JSON.parse(t)}catch(n){if(m)throw n.name==="SyntaxError"?ar.from(n,ar.ERR_BAD_RESPONSE,this,null,this.response):n}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ch.classes.FormData,Blob:Ch.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Bi.forEach(["delete","get","head"],function(t){Kv.headers[t]={}});Bi.forEach(["post","put","patch"],function(t){Kv.headers[t]=Bi.merge(s4)});const s3=Kv,o4=Bi.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),a4=e=>{const t={};let s,a,c;return e&&e.split(`
`).forEach(function(m){c=m.indexOf(":"),s=m.substring(0,c).trim().toLowerCase(),a=m.substring(c+1).trim(),!(!s||t[s]&&o4[s])&&(s==="set-cookie"?t[s]?t[s].push(a):t[s]=[a]:t[s]=t[s]?t[s]+", "+a:a)}),t},lT=Symbol("internals");function y1(e){return e&&String(e).trim().toLowerCase()}function sv(e){return e===!1||e==null?e:Bi.isArray(e)?e.map(sv):String(e)}function l4(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)t[a[1]]=a[2];return t}function c4(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function cT(e,t,s,a){if(Bi.isFunction(a))return a.call(this,t,s);if(Bi.isString(t)){if(Bi.isString(a))return t.indexOf(a)!==-1;if(Bi.isRegExp(a))return a.test(t)}}function d4(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,a)=>s.toUpperCase()+a)}function h4(e,t){const s=Bi.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+s,{value:function(c,h,m){return this[a].call(this,t,c,h,m)},configurable:!0})})}class Jv{constructor(t){t&&this.set(t)}set(t,s,a){const c=this;function h(n,x,z){const Y=y1(x);if(!Y)throw new Error("header name must be a non-empty string");const O=Bi.findKey(c,Y);(!O||c[O]===void 0||z===!0||z===void 0&&c[O]!==!1)&&(c[O||x]=sv(n))}const m=(n,x)=>Bi.forEach(n,(z,Y)=>h(z,Y,x));return Bi.isPlainObject(t)||t instanceof this.constructor?m(t,s):Bi.isString(t)&&(t=t.trim())&&!c4(t)?m(a4(t),s):t!=null&&h(s,t,a),this}get(t,s){if(t=y1(t),t){const a=Bi.findKey(this,t);if(a){const c=this[a];if(!s)return c;if(s===!0)return l4(c);if(Bi.isFunction(s))return s.call(this,c,a);if(Bi.isRegExp(s))return s.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=y1(t),t){const a=Bi.findKey(this,t);return!!(a&&(!s||cT(this,this[a],a,s)))}return!1}delete(t,s){const a=this;let c=!1;function h(m){if(m=y1(m),m){const n=Bi.findKey(a,m);n&&(!s||cT(a,a[n],n,s))&&(delete a[n],c=!0)}}return Bi.isArray(t)?t.forEach(h):h(t),c}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(t){const s=this,a={};return Bi.forEach(this,(c,h)=>{const m=Bi.findKey(a,h);if(m){s[m]=sv(c),delete s[h];return}const n=t?d4(h):String(h).trim();n!==h&&delete s[h],s[n]=sv(c),a[n]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return Bi.forEach(this,(a,c)=>{a!=null&&a!==!1&&(s[c]=t&&Bi.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const a=new this(t);return s.forEach(c=>a.set(c)),a}static accessor(t){const a=(this[lT]=this[lT]={accessors:{}}).accessors,c=this.prototype;function h(m){const n=y1(m);a[n]||(h4(c,m),a[n]=!0)}return Bi.isArray(t)?t.forEach(h):h(t),this}}Jv.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);Bi.freezeMethods(Jv.prototype);Bi.freezeMethods(Jv);const fu=Jv;function R2(e,t){const s=this||s3,a=t||s,c=fu.from(a.headers);let h=a.data;return Bi.forEach(e,function(n){h=n.call(s,h,c.normalize(),t?t.status:void 0)}),c.normalize(),h}function dC(e){return!!(e&&e.__CANCEL__)}function K1(e,t,s){ar.call(this,e??"canceled",ar.ERR_CANCELED,t,s),this.name="CanceledError"}Bi.inherits(K1,ar,{__CANCEL__:!0});const u4=null;function p4(e,t,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?e(s):t(new ar("Request failed with status code "+s.status,[ar.ERR_BAD_REQUEST,ar.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}const f4=Ch.isStandardBrowserEnv?function(){return{write:function(s,a,c,h,m,n){const x=[];x.push(s+"="+encodeURIComponent(a)),Bi.isNumber(c)&&x.push("expires="+new Date(c).toGMTString()),Bi.isString(h)&&x.push("path="+h),Bi.isString(m)&&x.push("domain="+m),n===!0&&x.push("secure"),document.cookie=x.join("; ")},read:function(s){const a=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function m4(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function g4(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function hC(e,t){return e&&!m4(t)?g4(e,t):t}const _4=Ch.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let a;function c(h){let m=h;return t&&(s.setAttribute("href",m),m=s.href),s.setAttribute("href",m),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return a=c(window.location.href),function(m){const n=Bi.isString(m)?c(m):m;return n.protocol===a.protocol&&n.host===a.host}}():function(){return function(){return!0}}();function y4(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function v4(e,t){e=e||10;const s=new Array(e),a=new Array(e);let c=0,h=0,m;return t=t!==void 0?t:1e3,function(x){const z=Date.now(),Y=a[h];m||(m=z),s[c]=x,a[c]=z;let O=h,V=0;for(;O!==c;)V+=s[O++],O=O%e;if(c=(c+1)%e,c===h&&(h=(h+1)%e),z-m<t)return;const q=Y&&z-Y;return q?Math.round(V*1e3/q):void 0}}function dT(e,t){let s=0;const a=v4(50,250);return c=>{const h=c.loaded,m=c.lengthComputable?c.total:void 0,n=h-s,x=a(n),z=h<=m;s=h;const Y={loaded:h,total:m,progress:m?h/m:void 0,bytes:n,rate:x||void 0,estimated:x&&m&&z?(m-h)/x:void 0,event:c};Y[t?"download":"upload"]=!0,e(Y)}}const x4=typeof XMLHttpRequest<"u",b4=x4&&function(e){return new Promise(function(s,a){let c=e.data;const h=fu.from(e.headers).normalize(),m=e.responseType;let n;function x(){e.cancelToken&&e.cancelToken.unsubscribe(n),e.signal&&e.signal.removeEventListener("abort",n)}Bi.isFormData(c)&&(Ch.isStandardBrowserEnv||Ch.isStandardBrowserWebWorkerEnv)&&h.setContentType(!1);let z=new XMLHttpRequest;if(e.auth){const q=e.auth.username||"",L=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.set("Authorization","Basic "+btoa(q+":"+L))}const Y=hC(e.baseURL,e.url);z.open(e.method.toUpperCase(),aC(Y,e.params,e.paramsSerializer),!0),z.timeout=e.timeout;function O(){if(!z)return;const q=fu.from("getAllResponseHeaders"in z&&z.getAllResponseHeaders()),I={data:!m||m==="text"||m==="json"?z.responseText:z.response,status:z.status,statusText:z.statusText,headers:q,config:e,request:z};p4(function(M){s(M),x()},function(M){a(M),x()},I),z=null}if("onloadend"in z?z.onloadend=O:z.onreadystatechange=function(){!z||z.readyState!==4||z.status===0&&!(z.responseURL&&z.responseURL.indexOf("file:")===0)||setTimeout(O)},z.onabort=function(){z&&(a(new ar("Request aborted",ar.ECONNABORTED,e,z)),z=null)},z.onerror=function(){a(new ar("Network Error",ar.ERR_NETWORK,e,z)),z=null},z.ontimeout=function(){let L=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const I=e.transitional||lC;e.timeoutErrorMessage&&(L=e.timeoutErrorMessage),a(new ar(L,I.clarifyTimeoutError?ar.ETIMEDOUT:ar.ECONNABORTED,e,z)),z=null},Ch.isStandardBrowserEnv){const q=(e.withCredentials||_4(Y))&&e.xsrfCookieName&&f4.read(e.xsrfCookieName);q&&h.set(e.xsrfHeaderName,q)}c===void 0&&h.setContentType(null),"setRequestHeader"in z&&Bi.forEach(h.toJSON(),function(L,I){z.setRequestHeader(I,L)}),Bi.isUndefined(e.withCredentials)||(z.withCredentials=!!e.withCredentials),m&&m!=="json"&&(z.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&z.addEventListener("progress",dT(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&z.upload&&z.upload.addEventListener("progress",dT(e.onUploadProgress)),(e.cancelToken||e.signal)&&(n=q=>{z&&(a(!q||q.type?new K1(null,e,z):q),z.abort(),z=null)},e.cancelToken&&e.cancelToken.subscribe(n),e.signal&&(e.signal.aborted?n():e.signal.addEventListener("abort",n)));const V=y4(Y);if(V&&Ch.protocols.indexOf(V)===-1){a(new ar("Unsupported protocol "+V+":",ar.ERR_BAD_REQUEST,e));return}z.send(c||null)})},rv={http:u4,xhr:b4};Bi.forEach(rv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const w4={getAdapter:e=>{e=Bi.isArray(e)?e:[e];const{length:t}=e;let s,a;for(let c=0;c<t&&(s=e[c],!(a=Bi.isString(s)?rv[s.toLowerCase()]:s));c++);if(!a)throw a===!1?new ar(`Adapter ${s} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Bi.hasOwnProp(rv,s)?`Adapter '${s}' is not available in the build`:`Unknown adapter '${s}'`);if(!Bi.isFunction(a))throw new TypeError("adapter is not a function");return a},adapters:rv};function B2(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new K1(null,e)}function hT(e){return B2(e),e.headers=fu.from(e.headers),e.data=R2.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),w4.getAdapter(e.adapter||s3.adapter)(e).then(function(a){return B2(e),a.data=R2.call(e,e.transformResponse,a),a.headers=fu.from(a.headers),a},function(a){return dC(a)||(B2(e),a&&a.response&&(a.response.data=R2.call(e,e.transformResponse,a.response),a.response.headers=fu.from(a.response.headers))),Promise.reject(a)})}const uT=e=>e instanceof fu?e.toJSON():e;function Cm(e,t){t=t||{};const s={};function a(z,Y,O){return Bi.isPlainObject(z)&&Bi.isPlainObject(Y)?Bi.merge.call({caseless:O},z,Y):Bi.isPlainObject(Y)?Bi.merge({},Y):Bi.isArray(Y)?Y.slice():Y}function c(z,Y,O){if(Bi.isUndefined(Y)){if(!Bi.isUndefined(z))return a(void 0,z,O)}else return a(z,Y,O)}function h(z,Y){if(!Bi.isUndefined(Y))return a(void 0,Y)}function m(z,Y){if(Bi.isUndefined(Y)){if(!Bi.isUndefined(z))return a(void 0,z)}else return a(void 0,Y)}function n(z,Y,O){if(O in t)return a(z,Y);if(O in e)return a(void 0,z)}const x={url:h,method:h,data:h,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:n,headers:(z,Y)=>c(uT(z),uT(Y),!0)};return Bi.forEach(Object.keys(e).concat(Object.keys(t)),function(Y){const O=x[Y]||c,V=O(e[Y],t[Y],Y);Bi.isUndefined(V)&&O!==n||(s[Y]=V)}),s}const uC="1.2.2",r3={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{r3[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const pT={};r3.transitional=function(t,s,a){function c(h,m){return"[Axios v"+uC+"] Transitional option '"+h+"'"+m+(a?". "+a:"")}return(h,m,n)=>{if(t===!1)throw new ar(c(m," has been removed"+(s?" in "+s:"")),ar.ERR_DEPRECATED);return s&&!pT[m]&&(pT[m]=!0,console.warn(c(m," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(h,m,n):!0}};function S4(e,t,s){if(typeof e!="object")throw new ar("options must be an object",ar.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let c=a.length;for(;c-- >0;){const h=a[c],m=t[h];if(m){const n=e[h],x=n===void 0||m(n,h,e);if(x!==!0)throw new ar("option "+h+" must be "+x,ar.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new ar("Unknown option "+h,ar.ERR_BAD_OPTION)}}const mw={assertOptions:S4,validators:r3},rp=mw.validators;class xv{constructor(t){this.defaults=t,this.interceptors={request:new aT,response:new aT}}request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Cm(this.defaults,s);const{transitional:a,paramsSerializer:c,headers:h}=s;a!==void 0&&mw.assertOptions(a,{silentJSONParsing:rp.transitional(rp.boolean),forcedJSONParsing:rp.transitional(rp.boolean),clarifyTimeoutError:rp.transitional(rp.boolean)},!1),c!==void 0&&mw.assertOptions(c,{encode:rp.function,serialize:rp.function},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let m;m=h&&Bi.merge(h.common,h[s.method]),m&&Bi.forEach(["delete","get","head","post","put","patch","common"],L=>{delete h[L]}),s.headers=fu.concat(m,h);const n=[];let x=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(s)===!1||(x=x&&I.synchronous,n.unshift(I.fulfilled,I.rejected))});const z=[];this.interceptors.response.forEach(function(I){z.push(I.fulfilled,I.rejected)});let Y,O=0,V;if(!x){const L=[hT.bind(this),void 0];for(L.unshift.apply(L,n),L.push.apply(L,z),V=L.length,Y=Promise.resolve(s);O<V;)Y=Y.then(L[O++],L[O++]);return Y}V=n.length;let q=s;for(O=0;O<V;){const L=n[O++],I=n[O++];try{q=L(q)}catch(H){I.call(this,H);break}}try{Y=hT.call(this,q)}catch(L){return Promise.reject(L)}for(O=0,V=z.length;O<V;)Y=Y.then(z[O++],z[O++]);return Y}getUri(t){t=Cm(this.defaults,t);const s=hC(t.baseURL,t.url);return aC(s,t.params,t.paramsSerializer)}}Bi.forEach(["delete","get","head","options"],function(t){xv.prototype[t]=function(s,a){return this.request(Cm(a||{},{method:t,url:s,data:(a||{}).data}))}});Bi.forEach(["post","put","patch"],function(t){function s(a){return function(h,m,n){return this.request(Cm(n||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:h,data:m}))}}xv.prototype[t]=s(),xv.prototype[t+"Form"]=s(!0)});const ov=xv;class o3{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(h){s=h});const a=this;this.promise.then(c=>{if(!a._listeners)return;let h=a._listeners.length;for(;h-- >0;)a._listeners[h](c);a._listeners=null}),this.promise.then=c=>{let h;const m=new Promise(n=>{a.subscribe(n),h=n}).then(c);return m.cancel=function(){a.unsubscribe(h)},m},t(function(h,m,n){a.reason||(a.reason=new K1(h,m,n),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}static source(){let t;return{token:new o3(function(c){t=c}),cancel:t}}}const T4=o3;function C4(e){return function(s){return e.apply(null,s)}}function E4(e){return Bi.isObject(e)&&e.isAxiosError===!0}const gw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gw).forEach(([e,t])=>{gw[t]=e});const M4=gw;function pC(e){const t=new ov(e),s=X5(ov.prototype.request,t);return Bi.extend(s,ov.prototype,t,{allOwnKeys:!0}),Bi.extend(s,t,null,{allOwnKeys:!0}),s.create=function(c){return pC(Cm(e,c))},s}const pa=pC(s3);pa.Axios=ov;pa.CanceledError=K1;pa.CancelToken=T4;pa.isCancel=dC;pa.VERSION=uC;pa.toFormData=Zv;pa.AxiosError=ar;pa.Cancel=pa.CanceledError;pa.all=function(t){return Promise.all(t)};pa.spread=C4;pa.isAxiosError=E4;pa.mergeConfig=Cm;pa.AxiosHeaders=fu;pa.formToJSON=e=>cC(Bi.isHTMLForm(e)?new FormData(e):e);pa.HttpStatusCode=M4;pa.default=pa;const A4=pa;window._=qv;window.jQuery=window.$=fk;window.bootstrap=window.bs=dk;window.axios=A4;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";function fc(e,t){const s=Object.create(null),a=e.split(",");for(let c=0;c<a.length;c++)s[a[c]]=!0;return t?c=>!!s[c.toLowerCase()]:c=>!!s[c]}const k4="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",P4=fc(k4);function da(e){if(bn(e)){const t={};for(let s=0;s<e.length;s++){const a=e[s],c=Ss(a)?fC(a):da(a);if(c)for(const h in c)t[h]=c[h]}return t}else{if(Ss(e))return e;if(Dr(e))return e}}const D4=/;(?![^(]*\))/g,I4=/:([^]+)/,L4=/\/\*.*?\*\//gs;function fC(e){const t={};return e.replace(L4,"").split(D4).forEach(s=>{if(s){const a=s.split(I4);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function Xn(e){let t="";if(Ss(e))t=e;else if(bn(e))for(let s=0;s<e.length;s++){const a=Xn(e[s]);a&&(t+=a+" ")}else if(Dr(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}function Nl(e){if(!e)return null;let{class:t,style:s}=e;return t&&!Ss(t)&&(e.class=Xn(t)),s&&(e.style=da(s)),e}const O4="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",R4="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",B4="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",z4=fc(O4),N4=fc(R4),F4=fc(B4),j4="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",U4=fc(j4);function mC(e){return!!e||e===""}function $4(e,t){if(e.length!==t.length)return!1;let s=!0;for(let a=0;s&&a<e.length;a++)s=Sp(e[a],t[a]);return s}function Sp(e,t){if(e===t)return!0;let s=fT(e),a=fT(t);if(s||a)return s&&a?e.getTime()===t.getTime():!1;if(s=Tp(e),a=Tp(t),s||a)return e===t;if(s=bn(e),a=bn(t),s||a)return s&&a?$4(e,t):!1;if(s=Dr(e),a=Dr(t),s||a){if(!s||!a)return!1;const c=Object.keys(e).length,h=Object.keys(t).length;if(c!==h)return!1;for(const m in e){const n=e.hasOwnProperty(m),x=t.hasOwnProperty(m);if(n&&!x||!n&&x||!Sp(e[m],t[m]))return!1}}return String(e)===String(t)}function Qv(e,t){return e.findIndex(s=>Sp(s,t))}const Fi=e=>Ss(e)?e:e==null?"":bn(e)||Dr(e)&&(e.toString===_C||!hs(e.toString))?JSON.stringify(e,gC,2):String(e),gC=(e,t)=>t&&t.__v_isRef?gC(e,t.value):gm(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[a,c])=>(s[`${a} =>`]=c,s),{})}:t0(t)?{[`Set(${t.size})`]:[...t.values()]}:Dr(t)&&!bn(t)&&!yC(t)?String(t):t,Ar={},mm=[],jl=()=>{},av=()=>!1,G4=/^on[^a-z]/,e0=e=>G4.test(e),a3=e=>e.startsWith("onUpdate:"),gr=Object.assign,l3=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},V4=Object.prototype.hasOwnProperty,or=(e,t)=>V4.call(e,t),bn=Array.isArray,gm=e=>J1(e)==="[object Map]",t0=e=>J1(e)==="[object Set]",fT=e=>J1(e)==="[object Date]",hs=e=>typeof e=="function",Ss=e=>typeof e=="string",Tp=e=>typeof e=="symbol",Dr=e=>e!==null&&typeof e=="object",c3=e=>Dr(e)&&hs(e.then)&&hs(e.catch),_C=Object.prototype.toString,J1=e=>_C.call(e),H4=e=>J1(e).slice(8,-1),yC=e=>J1(e)==="[object Object]",d3=e=>Ss(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Gf=fc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),W4=fc("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),ex=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Y4=/-(\w)/g,Ma=ex(e=>e.replace(Y4,(t,s)=>s?s.toUpperCase():"")),q4=/\B([A-Z])/g,Fc=ex(e=>e.replace(q4,"-$1").toLowerCase()),Op=ex(e=>e.charAt(0).toUpperCase()+e.slice(1)),Vf=ex(e=>e?`on${Op(e)}`:""),Em=(e,t)=>!Object.is(e,t),_m=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},bv=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})},_u=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let mT;const X4=()=>mT||(mT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Oc;class tx{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Oc,!t&&Oc&&(this.index=(Oc.scopes||(Oc.scopes=[])).push(this)-1)}run(t){if(this.active){const s=Oc;try{return Oc=this,t()}finally{Oc=s}}}on(){Oc=this}off(){Oc=this.parent}stop(t){if(this.active){let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.scopes)for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const c=this.parent.scopes.pop();c&&c!==this&&(this.parent.scopes[this.index]=c,c.index=this.index)}this.parent=void 0,this.active=!1}}}function vC(e){return new tx(e)}function xC(e,t=Oc){t&&t.active&&t.effects.push(e)}function bC(){return Oc}function wC(e){Oc&&Oc.cleanups.push(e)}const h3=e=>{const t=new Set(e);return t.w=0,t.n=0,t},SC=e=>(e.w&Cp)>0,TC=e=>(e.n&Cp)>0,Z4=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Cp},K4=e=>{const{deps:t}=e;if(t.length){let s=0;for(let a=0;a<t.length;a++){const c=t[a];SC(c)&&!TC(c)?c.delete(e):t[s++]=c,c.w&=~Cp,c.n&=~Cp}t.length=s}},_w=new WeakMap;let T1=0,Cp=1;const yw=30;let Gd;const Hf=Symbol(""),vw=Symbol("");class zm{constructor(t,s=null,a){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,xC(this,a)}run(){if(!this.active)return this.fn();let t=Gd,s=_p;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Gd,Gd=this,_p=!0,Cp=1<<++T1,T1<=yw?Z4(this):gT(this),this.fn()}finally{T1<=yw&&K4(this),Cp=1<<--T1,Gd=this.parent,_p=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Gd===this?this.deferStop=!0:this.active&&(gT(this),this.onStop&&this.onStop(),this.active=!1)}}function gT(e){const{deps:t}=e;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(e);t.length=0}}function CC(e,t){e.effect&&(e=e.effect.fn);const s=new zm(e);t&&(gr(s,t),t.scope&&xC(s,t.scope)),(!t||!t.lazy)&&s.run();const a=s.run.bind(s);return a.effect=s,a}function EC(e){e.effect.stop()}let _p=!0;const MC=[];function Nm(){MC.push(_p),_p=!1}function Fm(){const e=MC.pop();_p=e===void 0?!0:e}function Uc(e,t,s){if(_p&&Gd){let a=_w.get(e);a||_w.set(e,a=new Map);let c=a.get(s);c||a.set(s,c=h3()),AC(c)}}function AC(e,t){let s=!1;T1<=yw?TC(e)||(e.n|=Cp,s=!SC(e)):s=!e.has(Gd),s&&(e.add(Gd),Gd.deps.push(e))}function yu(e,t,s,a,c,h){const m=_w.get(e);if(!m)return;let n=[];if(t==="clear")n=[...m.values()];else if(s==="length"&&bn(e)){const x=_u(a);m.forEach((z,Y)=>{(Y==="length"||Y>=x)&&n.push(z)})}else switch(s!==void 0&&n.push(m.get(s)),t){case"add":bn(e)?d3(s)&&n.push(m.get("length")):(n.push(m.get(Hf)),gm(e)&&n.push(m.get(vw)));break;case"delete":bn(e)||(n.push(m.get(Hf)),gm(e)&&n.push(m.get(vw)));break;case"set":gm(e)&&n.push(m.get(Hf));break}if(n.length===1)n[0]&&xw(n[0]);else{const x=[];for(const z of n)z&&x.push(...z);xw(h3(x))}}function xw(e,t){const s=bn(e)?e:[...e];for(const a of s)a.computed&&_T(a);for(const a of s)a.computed||_T(a)}function _T(e,t){(e!==Gd||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const J4=fc("__proto__,__v_isRef,__isVue"),kC=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Tp)),Q4=ix(),e6=ix(!1,!0),t6=ix(!0),i6=ix(!0,!0),yT=n6();function n6(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const a=Xs(this);for(let h=0,m=this.length;h<m;h++)Uc(a,"get",h+"");const c=a[t](...s);return c===-1||c===!1?a[t](...s.map(Xs)):c}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){Nm();const a=Xs(this)[t].apply(this,s);return Fm(),a}}),e}function ix(e=!1,t=!1){return function(a,c,h){if(c==="__v_isReactive")return!e;if(c==="__v_isReadonly")return e;if(c==="__v_isShallow")return t;if(c==="__v_raw"&&h===(e?t?BC:RC:t?OC:LC).get(a))return a;const m=bn(a);if(!e&&m&&or(yT,c))return Reflect.get(yT,c,h);const n=Reflect.get(a,c,h);return(Tp(c)?kC.has(c):J4(c))||(e||Uc(a,"get",c),t)?n:Zo(n)?m&&d3(c)?n:n.value:Dr(n)?e?rx(n):jm(n):n}}const s6=PC(),r6=PC(!0);function PC(e=!1){return function(s,a,c,h){let m=s[a];if(Ep(m)&&Zo(m)&&!Zo(c))return!1;if(!e&&(!Mm(c)&&!Ep(c)&&(m=Xs(m),c=Xs(c)),!bn(s)&&Zo(m)&&!Zo(c)))return m.value=c,!0;const n=bn(s)&&d3(a)?Number(a)<s.length:or(s,a),x=Reflect.set(s,a,c,h);return s===Xs(h)&&(n?Em(c,m)&&yu(s,"set",a,c):yu(s,"add",a,c)),x}}function o6(e,t){const s=or(e,t);e[t];const a=Reflect.deleteProperty(e,t);return a&&s&&yu(e,"delete",t,void 0),a}function a6(e,t){const s=Reflect.has(e,t);return(!Tp(t)||!kC.has(t))&&Uc(e,"has",t),s}function l6(e){return Uc(e,"iterate",bn(e)?"length":Hf),Reflect.ownKeys(e)}const DC={get:Q4,set:s6,deleteProperty:o6,has:a6,ownKeys:l6},IC={get:t6,set(e,t){return!0},deleteProperty(e,t){return!0}},c6=gr({},DC,{get:e6,set:r6}),d6=gr({},IC,{get:i6}),u3=e=>e,nx=e=>Reflect.getPrototypeOf(e);function zy(e,t,s=!1,a=!1){e=e.__v_raw;const c=Xs(e),h=Xs(t);s||(t!==h&&Uc(c,"get",t),Uc(c,"get",h));const{has:m}=nx(c),n=a?u3:s?f3:R1;if(m.call(c,t))return n(e.get(t));if(m.call(c,h))return n(e.get(h));e!==c&&e.get(t)}function Ny(e,t=!1){const s=this.__v_raw,a=Xs(s),c=Xs(e);return t||(e!==c&&Uc(a,"has",e),Uc(a,"has",c)),e===c?s.has(e):s.has(e)||s.has(c)}function Fy(e,t=!1){return e=e.__v_raw,!t&&Uc(Xs(e),"iterate",Hf),Reflect.get(e,"size",e)}function vT(e){e=Xs(e);const t=Xs(this);return nx(t).has.call(t,e)||(t.add(e),yu(t,"add",e,e)),this}function xT(e,t){t=Xs(t);const s=Xs(this),{has:a,get:c}=nx(s);let h=a.call(s,e);h||(e=Xs(e),h=a.call(s,e));const m=c.call(s,e);return s.set(e,t),h?Em(t,m)&&yu(s,"set",e,t):yu(s,"add",e,t),this}function bT(e){const t=Xs(this),{has:s,get:a}=nx(t);let c=s.call(t,e);c||(e=Xs(e),c=s.call(t,e)),a&&a.call(t,e);const h=t.delete(e);return c&&yu(t,"delete",e,void 0),h}function wT(){const e=Xs(this),t=e.size!==0,s=e.clear();return t&&yu(e,"clear",void 0,void 0),s}function jy(e,t){return function(a,c){const h=this,m=h.__v_raw,n=Xs(m),x=t?u3:e?f3:R1;return!e&&Uc(n,"iterate",Hf),m.forEach((z,Y)=>a.call(c,x(z),x(Y),h))}}function Uy(e,t,s){return function(...a){const c=this.__v_raw,h=Xs(c),m=gm(h),n=e==="entries"||e===Symbol.iterator&&m,x=e==="keys"&&m,z=c[e](...a),Y=s?u3:t?f3:R1;return!t&&Uc(h,"iterate",x?vw:Hf),{next(){const{value:O,done:V}=z.next();return V?{value:O,done:V}:{value:n?[Y(O[0]),Y(O[1])]:Y(O),done:V}},[Symbol.iterator](){return this}}}}function op(e){return function(...t){return e==="delete"?!1:this}}function h6(){const e={get(h){return zy(this,h)},get size(){return Fy(this)},has:Ny,add:vT,set:xT,delete:bT,clear:wT,forEach:jy(!1,!1)},t={get(h){return zy(this,h,!1,!0)},get size(){return Fy(this)},has:Ny,add:vT,set:xT,delete:bT,clear:wT,forEach:jy(!1,!0)},s={get(h){return zy(this,h,!0)},get size(){return Fy(this,!0)},has(h){return Ny.call(this,h,!0)},add:op("add"),set:op("set"),delete:op("delete"),clear:op("clear"),forEach:jy(!0,!1)},a={get(h){return zy(this,h,!0,!0)},get size(){return Fy(this,!0)},has(h){return Ny.call(this,h,!0)},add:op("add"),set:op("set"),delete:op("delete"),clear:op("clear"),forEach:jy(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(h=>{e[h]=Uy(h,!1,!1),s[h]=Uy(h,!0,!1),t[h]=Uy(h,!1,!0),a[h]=Uy(h,!0,!0)}),[e,s,t,a]}const[u6,p6,f6,m6]=h6();function sx(e,t){const s=t?e?m6:f6:e?p6:u6;return(a,c,h)=>c==="__v_isReactive"?!e:c==="__v_isReadonly"?e:c==="__v_raw"?a:Reflect.get(or(s,c)&&c in a?s:a,c,h)}const g6={get:sx(!1,!1)},_6={get:sx(!1,!0)},y6={get:sx(!0,!1)},v6={get:sx(!0,!0)},LC=new WeakMap,OC=new WeakMap,RC=new WeakMap,BC=new WeakMap;function x6(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function b6(e){return e.__v_skip||!Object.isExtensible(e)?0:x6(H4(e))}function jm(e){return Ep(e)?e:ox(e,!1,DC,g6,LC)}function p3(e){return ox(e,!1,c6,_6,OC)}function rx(e){return ox(e,!0,IC,y6,RC)}function zC(e){return ox(e,!0,d6,v6,BC)}function ox(e,t,s,a,c){if(!Dr(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const h=c.get(e);if(h)return h;const m=b6(e);if(m===0)return e;const n=new Proxy(e,m===2?a:s);return c.set(e,n),n}function yp(e){return Ep(e)?yp(e.__v_raw):!!(e&&e.__v_isReactive)}function Ep(e){return!!(e&&e.__v_isReadonly)}function Mm(e){return!!(e&&e.__v_isShallow)}function ax(e){return yp(e)||Ep(e)}function Xs(e){const t=e&&e.__v_raw;return t?Xs(t):e}function lx(e){return bv(e,"__v_skip",!0),e}const R1=e=>Dr(e)?jm(e):e,f3=e=>Dr(e)?rx(e):e;function m3(e){_p&&Gd&&(e=Xs(e),AC(e.dep||(e.dep=h3())))}function cx(e,t){e=Xs(e),e.dep&&xw(e.dep)}function Zo(e){return!!(e&&e.__v_isRef===!0)}function ks(e){return FC(e,!1)}function NC(e){return FC(e,!0)}function FC(e,t){return Zo(e)?e:new w6(e,t)}class w6{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:Xs(t),this._value=s?t:R1(t)}get value(){return m3(this),this._value}set value(t){const s=this.__v_isShallow||Mm(t)||Ep(t);t=s?t:Xs(t),Em(t,this._rawValue)&&(this._rawValue=t,this._value=s?t:R1(t),cx(this))}}function jC(e){cx(e)}function Oi(e){return Zo(e)?e.value:e}const S6={get:(e,t,s)=>Oi(Reflect.get(e,t,s)),set:(e,t,s,a)=>{const c=e[t];return Zo(c)&&!Zo(s)?(c.value=s,!0):Reflect.set(e,t,s,a)}};function dx(e){return yp(e)?e:new Proxy(e,S6)}class T6{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:s,set:a}=t(()=>m3(this),()=>cx(this));this._get=s,this._set=a}get value(){return this._get()}set value(t){this._set(t)}}function UC(e){return new T6(e)}function g3(e){const t=bn(e)?new Array(e.length):{};for(const s in e)t[s]=_3(e,s);return t}class C6{constructor(t,s,a){this._object=t,this._key=s,this._defaultValue=a,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function _3(e,t,s){const a=e[t];return Zo(a)?a:new C6(e,t,s)}var $C;class E6{constructor(t,s,a,c){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this[$C]=!1,this._dirty=!0,this.effect=new zm(t,()=>{this._dirty||(this._dirty=!0,cx(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!c,this.__v_isReadonly=a}get value(){const t=Xs(this);return m3(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}$C="__v_isReadonly";function M6(e,t,s=!1){let a,c;const h=hs(e);return h?(a=e,c=jl):(a=e.get,c=e.set),new E6(a,c,h||!c,s)}function GC(e,...t){}function Ah(e,t,s,a){let c;try{c=a?e(...a):e()}catch(h){Rp(h,t,s)}return c}function uc(e,t,s,a){if(hs(e)){const h=Ah(e,t,s,a);return h&&c3(h)&&h.catch(m=>{Rp(m,t,s)}),h}const c=[];for(let h=0;h<e.length;h++)c.push(uc(e[h],t,s,a));return c}function Rp(e,t,s,a=!0){const c=t?t.vnode:null;if(t){let h=t.parent;const m=t.proxy,n=s;for(;h;){const z=h.ec;if(z){for(let Y=0;Y<z.length;Y++)if(z[Y](e,m,n)===!1)return}h=h.parent}const x=t.appContext.config.errorHandler;if(x){Ah(x,null,10,[e,m,n]);return}}A6(e,s,c,a)}function A6(e,t,s,a=!0){console.error(e)}let B1=!1,bw=!1;const al=[];let bh=0;const ym=[];let cu=null,zf=0;const VC=Promise.resolve();let y3=null;function Eh(e){const t=y3||VC;return e?t.then(this?e.bind(this):e):t}function k6(e){let t=bh+1,s=al.length;for(;t<s;){const a=t+s>>>1;z1(al[a])<e?t=a+1:s=a}return t}function hx(e){(!al.length||!al.includes(e,B1&&e.allowRecurse?bh+1:bh))&&(e.id==null?al.push(e):al.splice(k6(e.id),0,e),HC())}function HC(){!B1&&!bw&&(bw=!0,y3=VC.then(WC))}function P6(e){const t=al.indexOf(e);t>bh&&al.splice(t,1)}function ux(e){bn(e)?ym.push(...e):(!cu||!cu.includes(e,e.allowRecurse?zf+1:zf))&&ym.push(e),HC()}function ST(e,t=B1?bh+1:0){for(;t<al.length;t++){const s=al[t];s&&s.pre&&(al.splice(t,1),t--,s())}}function wv(e){if(ym.length){const t=[...new Set(ym)];if(ym.length=0,cu){cu.push(...t);return}for(cu=t,cu.sort((s,a)=>z1(s)-z1(a)),zf=0;zf<cu.length;zf++)cu[zf]();cu=null,zf=0}}const z1=e=>e.id==null?1/0:e.id,D6=(e,t)=>{const s=z1(e)-z1(t);if(s===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return s};function WC(e){bw=!1,B1=!0,al.sort(D6);const t=jl;try{for(bh=0;bh<al.length;bh++){const s=al[bh];s&&s.active!==!1&&Ah(s,null,14)}}finally{bh=0,al.length=0,wv(),B1=!1,y3=null,(al.length||ym.length)&&WC()}}let Nf,$y=[];function v3(e,t){var s,a;Nf=e,Nf?(Nf.enabled=!0,$y.forEach(({event:c,args:h})=>Nf.emit(c,...h)),$y=[]):typeof window<"u"&&window.HTMLElement&&!(!((a=(s=window.navigator)===null||s===void 0?void 0:s.userAgent)===null||a===void 0)&&a.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(h=>{v3(h,t)}),setTimeout(()=>{Nf||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,$y=[])},3e3)):$y=[]}function I6(e,t,...s){if(e.isUnmounted)return;const a=e.vnode.props||Ar;let c=s;const h=t.startsWith("update:"),m=h&&t.slice(7);if(m&&m in a){const Y=`${m==="modelValue"?"model":m}Modifiers`,{number:O,trim:V}=a[Y]||Ar;V&&(c=s.map(q=>Ss(q)?q.trim():q)),O&&(c=s.map(_u))}let n,x=a[n=Vf(t)]||a[n=Vf(Ma(t))];!x&&h&&(x=a[n=Vf(Fc(t))]),x&&uc(x,e,6,c);const z=a[n+"Once"];if(z){if(!e.emitted)e.emitted={};else if(e.emitted[n])return;e.emitted[n]=!0,uc(z,e,6,c)}}function YC(e,t,s=!1){const a=t.emitsCache,c=a.get(e);if(c!==void 0)return c;const h=e.emits;let m={},n=!1;if(!hs(e)){const x=z=>{const Y=YC(z,t,!0);Y&&(n=!0,gr(m,Y))};!s&&t.mixins.length&&t.mixins.forEach(x),e.extends&&x(e.extends),e.mixins&&e.mixins.forEach(x)}return!h&&!n?(Dr(e)&&a.set(e,null),null):(bn(h)?h.forEach(x=>m[x]=null):gr(m,h),Dr(e)&&a.set(e,m),m)}function px(e,t){return!e||!e0(t)?!1:(t=t.slice(2).replace(/Once$/,""),or(e,t[0].toLowerCase()+t.slice(1))||or(e,Fc(t))||or(e,t))}let Ua=null,fx=null;function N1(e){const t=Ua;return Ua=e,fx=e&&e.type.__scopeId||null,t}function Ul(e){fx=e}function $l(){fx=null}const qC=e=>To;function To(e,t=Ua,s){if(!t||e._n)return e;const a=(...c)=>{a._d&&Cv(-1);const h=N1(t);let m;try{m=e(...c)}finally{N1(h),a._d&&Cv(1)}return m};return a._n=!0,a._c=!0,a._d=!0,a}function lv(e){const{type:t,vnode:s,proxy:a,withProxy:c,props:h,propsOptions:[m],slots:n,attrs:x,emit:z,render:Y,renderCache:O,data:V,setupState:q,ctx:L,inheritAttrs:I}=e;let H,M;const C=N1(e);try{if(s.shapeFlag&4){const U=c||a;H=zc(Y.call(U,U,O,h,q,V,L)),M=x}else{const U=t;H=zc(U.length>1?U(h,{attrs:x,slots:n,emit:z}):U(h,null)),M=t.props?x:O6(x)}}catch(U){A1.length=0,Rp(U,e,1),H=Qi(Ga)}let A=H;if(M&&I!==!1){const U=Object.keys(M),{shapeFlag:$}=A;U.length&&$&7&&(m&&U.some(a3)&&(M=R6(M,m)),A=Wd(A,M))}return s.dirs&&(A=Wd(A),A.dirs=A.dirs?A.dirs.concat(s.dirs):s.dirs),s.transition&&(A.transition=s.transition),H=A,N1(C),H}function L6(e){let t;for(let s=0;s<e.length;s++){const a=e[s];if(vu(a)){if(a.type!==Ga||a.children==="v-if"){if(t)return;t=a}}else return}return t}const O6=e=>{let t;for(const s in e)(s==="class"||s==="style"||e0(s))&&((t||(t={}))[s]=e[s]);return t},R6=(e,t)=>{const s={};for(const a in e)(!a3(a)||!(a.slice(9)in t))&&(s[a]=e[a]);return s};function B6(e,t,s){const{props:a,children:c,component:h}=e,{props:m,children:n,patchFlag:x}=t,z=h.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&x>=0){if(x&1024)return!0;if(x&16)return a?TT(a,m,z):!!m;if(x&8){const Y=t.dynamicProps;for(let O=0;O<Y.length;O++){const V=Y[O];if(m[V]!==a[V]&&!px(z,V))return!0}}}else return(c||n)&&(!n||!n.$stable)?!0:a===m?!1:a?m?TT(a,m,z):!0:!!m;return!1}function TT(e,t,s){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let c=0;c<a.length;c++){const h=a[c];if(t[h]!==e[h]&&!px(s,h))return!0}return!1}function x3({vnode:e,parent:t},s){for(;t&&t.subTree===e;)(e=t.vnode).el=s,t=t.parent}const XC=e=>e.__isSuspense,z6={name:"Suspense",__isSuspense:!0,process(e,t,s,a,c,h,m,n,x,z){e==null?N6(t,s,a,c,h,m,n,x,z):F6(e,t,s,a,c,m,n,x,z)},hydrate:j6,create:b3,normalize:U6},ZC=z6;function F1(e,t){const s=e.props&&e.props[t];hs(s)&&s()}function N6(e,t,s,a,c,h,m,n,x){const{p:z,o:{createElement:Y}}=x,O=Y("div"),V=e.suspense=b3(e,c,a,t,O,s,h,m,n,x);z(null,V.pendingBranch=e.ssContent,O,null,a,V,h,m),V.deps>0?(F1(e,"onPending"),F1(e,"onFallback"),z(null,e.ssFallback,t,s,a,null,h,m),vm(V,e.ssFallback)):V.resolve()}function F6(e,t,s,a,c,h,m,n,{p:x,um:z,o:{createElement:Y}}){const O=t.suspense=e.suspense;O.vnode=t,t.el=e.el;const V=t.ssContent,q=t.ssFallback,{activeBranch:L,pendingBranch:I,isInFallback:H,isHydrating:M}=O;if(I)O.pendingBranch=V,wh(V,I)?(x(I,V,O.hiddenContainer,null,c,O,h,m,n),O.deps<=0?O.resolve():H&&(x(L,q,s,a,c,null,h,m,n),vm(O,q))):(O.pendingId++,M?(O.isHydrating=!1,O.activeBranch=I):z(I,c,O),O.deps=0,O.effects.length=0,O.hiddenContainer=Y("div"),H?(x(null,V,O.hiddenContainer,null,c,O,h,m,n),O.deps<=0?O.resolve():(x(L,q,s,a,c,null,h,m,n),vm(O,q))):L&&wh(V,L)?(x(L,V,s,a,c,O,h,m,n),O.resolve(!0)):(x(null,V,O.hiddenContainer,null,c,O,h,m,n),O.deps<=0&&O.resolve()));else if(L&&wh(V,L))x(L,V,s,a,c,O,h,m,n),vm(O,V);else if(F1(t,"onPending"),O.pendingBranch=V,O.pendingId++,x(null,V,O.hiddenContainer,null,c,O,h,m,n),O.deps<=0)O.resolve();else{const{timeout:C,pendingId:A}=O;C>0?setTimeout(()=>{O.pendingId===A&&O.fallback(q)},C):C===0&&O.fallback(q)}}function b3(e,t,s,a,c,h,m,n,x,z,Y=!1){const{p:O,m:V,um:q,n:L,o:{parentNode:I,remove:H}}=z,M=_u(e.props&&e.props.timeout),C={vnode:e,parent:t,parentComponent:s,isSVG:m,container:a,hiddenContainer:c,anchor:h,deps:0,pendingId:0,timeout:typeof M=="number"?M:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:Y,isUnmounted:!1,effects:[],resolve(A=!1){const{vnode:U,activeBranch:$,pendingBranch:E,pendingId:ee,effects:Q,parentComponent:N,container:j}=C;if(C.isHydrating)C.isHydrating=!1;else if(!A){const P=$&&E.transition&&E.transition.mode==="out-in";P&&($.transition.afterLeave=()=>{ee===C.pendingId&&V(E,j,f,0)});let{anchor:f}=C;$&&(f=L($),q($,N,C,!0)),P||V(E,j,f,0)}vm(C,E),C.pendingBranch=null,C.isInFallback=!1;let W=C.parent,S=!1;for(;W;){if(W.pendingBranch){W.effects.push(...Q),S=!0;break}W=W.parent}S||ux(Q),C.effects=[],F1(U,"onResolve")},fallback(A){if(!C.pendingBranch)return;const{vnode:U,activeBranch:$,parentComponent:E,container:ee,isSVG:Q}=C;F1(U,"onFallback");const N=L($),j=()=>{C.isInFallback&&(O(null,A,ee,N,E,null,Q,n,x),vm(C,A))},W=A.transition&&A.transition.mode==="out-in";W&&($.transition.afterLeave=j),C.isInFallback=!0,q($,E,null,!0),W||j()},move(A,U,$){C.activeBranch&&V(C.activeBranch,A,U,$),C.container=A},next(){return C.activeBranch&&L(C.activeBranch)},registerDep(A,U){const $=!!C.pendingBranch;$&&C.deps++;const E=A.vnode.el;A.asyncDep.catch(ee=>{Rp(ee,A,0)}).then(ee=>{if(A.isUnmounted||C.isUnmounted||C.pendingId!==A.suspenseId)return;A.asyncResolved=!0;const{vnode:Q}=A;Aw(A,ee,!1),E&&(Q.el=E);const N=!E&&A.subTree.el;U(A,Q,I(E||A.subTree.el),E?null:L(A.subTree),C,m,x),N&&H(N),x3(A,Q.el),$&&--C.deps===0&&C.resolve()})},unmount(A,U){C.isUnmounted=!0,C.activeBranch&&q(C.activeBranch,s,A,U),C.pendingBranch&&q(C.pendingBranch,s,A,U)}};return C}function j6(e,t,s,a,c,h,m,n,x){const z=t.suspense=b3(t,a,s,e.parentNode,document.createElement("div"),null,c,h,m,n,!0),Y=x(e,z.pendingBranch=t.ssContent,s,z,h,m);return z.deps===0&&z.resolve(),Y}function U6(e){const{shapeFlag:t,children:s}=e,a=t&32;e.ssContent=CT(a?s.default:s),e.ssFallback=a?CT(s.fallback):Qi(Ga)}function CT(e){let t;if(hs(e)){const s=Kf&&e._c;s&&(e._d=!1,yt()),e=e(),s&&(e._d=!0,t=dc,yE())}return bn(e)&&(e=L6(e)),e=zc(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(s=>s!==e)),e}function KC(e,t){t&&t.pendingBranch?bn(e)?t.effects.push(...e):t.effects.push(e):ux(e)}function vm(e,t){e.activeBranch=t;const{vnode:s,parentComponent:a}=e,c=s.el=t.el;a&&a.subTree===s&&(a.vnode.el=c,x3(a,c))}function Mp(e,t){if(ca){let s=ca.provides;const a=ca.parent&&ca.parent.provides;a===s&&(s=ca.provides=Object.create(a)),s[e]=t}}function pc(e,t,s=!1){const a=ca||Ua;if(a){const c=a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides;if(c&&e in c)return c[e];if(arguments.length>1)return s&&hs(t)?t.call(a.proxy):t}}function JC(e,t){return Q1(e,null,t)}function w3(e,t){return Q1(e,null,{flush:"post"})}function QC(e,t){return Q1(e,null,{flush:"sync"})}const Gy={};function Gr(e,t,s){return Q1(e,t,s)}function Q1(e,t,{immediate:s,deep:a,flush:c,onTrack:h,onTrigger:m}=Ar){const n=ca;let x,z=!1,Y=!1;if(Zo(e)?(x=()=>e.value,z=Mm(e)):yp(e)?(x=()=>e,a=!0):bn(e)?(Y=!0,z=e.some(A=>yp(A)||Mm(A)),x=()=>e.map(A=>{if(Zo(A))return A.value;if(yp(A))return jf(A);if(hs(A))return Ah(A,n,2)})):hs(e)?t?x=()=>Ah(e,n,2):x=()=>{if(!(n&&n.isUnmounted))return O&&O(),uc(e,n,3,[V])}:x=jl,t&&a){const A=x;x=()=>jf(A())}let O,V=A=>{O=M.onStop=()=>{Ah(A,n,4)}},q;if(Am)if(V=jl,t?s&&uc(t,n,3,[x(),Y?[]:void 0,V]):x(),c==="sync"){const A=$3();q=A.__watcherHandles||(A.__watcherHandles=[])}else return jl;let L=Y?new Array(e.length).fill(Gy):Gy;const I=()=>{if(M.active)if(t){const A=M.run();(a||z||(Y?A.some((U,$)=>Em(U,L[$])):Em(A,L)))&&(O&&O(),uc(t,n,3,[A,L===Gy?void 0:Y&&L[0]===Gy?[]:L,V]),L=A)}else M.run()};I.allowRecurse=!!t;let H;c==="sync"?H=I:c==="post"?H=()=>Fa(I,n&&n.suspense):(I.pre=!0,n&&(I.id=n.uid),H=()=>hx(I));const M=new zm(x,H);t?s?I():L=M.run():c==="post"?Fa(M.run.bind(M),n&&n.suspense):M.run();const C=()=>{M.stop(),n&&n.scope&&l3(n.scope.effects,M)};return q&&q.push(C),C}function $6(e,t,s){const a=this.proxy,c=Ss(e)?e.includes(".")?eE(a,e):()=>a[e]:e.bind(a,a);let h;hs(t)?h=t:(h=t.handler,s=t);const m=ca;Pp(this);const n=Q1(c,h.bind(a),s);return m?Pp(m):bp(),n}function eE(e,t){const s=t.split(".");return()=>{let a=e;for(let c=0;c<s.length&&a;c++)a=a[s[c]];return a}}function jf(e,t){if(!Dr(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Zo(e))jf(e.value,t);else if(bn(e))for(let s=0;s<e.length;s++)jf(e[s],t);else if(t0(e)||gm(e))e.forEach(s=>{jf(s,t)});else if(yC(e))for(const s in e)jf(e[s],t);return e}function mx(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Gc(()=>{e.isMounted=!0}),Bp(()=>{e.isUnmounting=!0}),e}const md=[Function,Array],G6={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:md,onEnter:md,onAfterEnter:md,onEnterCancelled:md,onBeforeLeave:md,onLeave:md,onAfterLeave:md,onLeaveCancelled:md,onBeforeAppear:md,onAppear:md,onAfterAppear:md,onAppearCancelled:md},setup(e,{slots:t}){const s=Su(),a=mx();let c;return()=>{const h=t.default&&e_(t.default(),!0);if(!h||!h.length)return;let m=h[0];if(h.length>1){for(const I of h)if(I.type!==Ga){m=I;break}}const n=Xs(e),{mode:x}=n;if(a.isLeaving)return z2(m);const z=ET(m);if(!z)return z2(m);const Y=Zf(z,n,a,s);Ap(z,Y);const O=s.subTree,V=O&&ET(O);let q=!1;const{getTransitionKey:L}=z.type;if(L){const I=L();c===void 0?c=I:I!==c&&(c=I,q=!0)}if(V&&V.type!==Ga&&(!wh(z,V)||q)){const I=Zf(V,n,a,s);if(Ap(V,I),x==="out-in")return a.isLeaving=!0,I.afterLeave=()=>{a.isLeaving=!1,s.update.active!==!1&&s.update()},z2(m);x==="in-out"&&z.type!==Ga&&(I.delayLeave=(H,M,C)=>{const A=tE(a,V);A[String(V.key)]=V,H._leaveCb=()=>{M(),H._leaveCb=void 0,delete Y.delayedLeave},Y.delayedLeave=C})}return m}}},gx=G6;function tE(e,t){const{leavingVNodes:s}=e;let a=s.get(t.type);return a||(a=Object.create(null),s.set(t.type,a)),a}function Zf(e,t,s,a){const{appear:c,mode:h,persisted:m=!1,onBeforeEnter:n,onEnter:x,onAfterEnter:z,onEnterCancelled:Y,onBeforeLeave:O,onLeave:V,onAfterLeave:q,onLeaveCancelled:L,onBeforeAppear:I,onAppear:H,onAfterAppear:M,onAppearCancelled:C}=t,A=String(e.key),U=tE(s,e),$=(Q,N)=>{Q&&uc(Q,a,9,N)},E=(Q,N)=>{const j=N[1];$(Q,N),bn(Q)?Q.every(W=>W.length<=1)&&j():Q.length<=1&&j()},ee={mode:h,persisted:m,beforeEnter(Q){let N=n;if(!s.isMounted)if(c)N=I||n;else return;Q._leaveCb&&Q._leaveCb(!0);const j=U[A];j&&wh(e,j)&&j.el._leaveCb&&j.el._leaveCb(),$(N,[Q])},enter(Q){let N=x,j=z,W=Y;if(!s.isMounted)if(c)N=H||x,j=M||z,W=C||Y;else return;let S=!1;const P=Q._enterCb=f=>{S||(S=!0,f?$(W,[Q]):$(j,[Q]),ee.delayedLeave&&ee.delayedLeave(),Q._enterCb=void 0)};N?E(N,[Q,P]):P()},leave(Q,N){const j=String(e.key);if(Q._enterCb&&Q._enterCb(!0),s.isUnmounting)return N();$(O,[Q]);let W=!1;const S=Q._leaveCb=P=>{W||(W=!0,N(),P?$(L,[Q]):$(q,[Q]),Q._leaveCb=void 0,U[j]===e&&delete U[j])};U[j]=e,V?E(V,[Q,S]):S()},clone(Q){return Zf(Q,t,s,a)}};return ee}function z2(e){if(t_(e))return e=Wd(e),e.children=null,e}function ET(e){return t_(e)?e.children?e.children[0]:void 0:e}function Ap(e,t){e.shapeFlag&6&&e.component?Ap(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function e_(e,t=!1,s){let a=[],c=0;for(let h=0;h<e.length;h++){let m=e[h];const n=s==null?m.key:String(s)+String(m.key!=null?m.key:h);m.type===en?(m.patchFlag&128&&c++,a=a.concat(e_(m.children,t,n))):(t||m.type!==Ga)&&a.push(n!=null?Wd(m,{key:n}):m)}if(c>1)for(let h=0;h<a.length;h++)a[h].patchFlag=-2;return a}function $c(e){return hs(e)?{setup:e,name:e.name}:e}const Wf=e=>!!e.type.__asyncLoader;function iE(e){hs(e)&&(e={loader:e});const{loader:t,loadingComponent:s,errorComponent:a,delay:c=200,timeout:h,suspensible:m=!0,onError:n}=e;let x=null,z,Y=0;const O=()=>(Y++,x=null,V()),V=()=>{let q;return x||(q=x=t().catch(L=>{if(L=L instanceof Error?L:new Error(String(L)),n)return new Promise((I,H)=>{n(L,()=>I(O()),()=>H(L),Y+1)});throw L}).then(L=>q!==x&&x?x:(L&&(L.__esModule||L[Symbol.toStringTag]==="Module")&&(L=L.default),z=L,L)))};return $c({name:"AsyncComponentWrapper",__asyncLoader:V,get __asyncResolved(){return z},setup(){const q=ca;if(z)return()=>N2(z,q);const L=C=>{x=null,Rp(C,q,13,!a)};if(m&&q.suspense||Am)return V().then(C=>()=>N2(C,q)).catch(C=>(L(C),()=>a?Qi(a,{error:C}):null));const I=ks(!1),H=ks(),M=ks(!!c);return c&&setTimeout(()=>{M.value=!1},c),h!=null&&setTimeout(()=>{if(!I.value&&!H.value){const C=new Error(`Async component timed out after ${h}ms.`);L(C),H.value=C}},h),V().then(()=>{I.value=!0,q.parent&&t_(q.parent.vnode)&&hx(q.parent.update)}).catch(C=>{L(C),H.value=C}),()=>{if(I.value&&z)return N2(z,q);if(H.value&&a)return Qi(a,{error:H.value});if(s&&!M.value)return Qi(s)}}})}function N2(e,t){const{ref:s,props:a,children:c,ce:h}=t.vnode,m=Qi(e,a,c);return m.ref=s,m.ce=h,delete t.vnode.ce,m}const t_=e=>e.type.__isKeepAlive,V6={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const s=Su(),a=s.ctx;if(!a.renderer)return()=>{const C=t.default&&t.default();return C&&C.length===1?C[0]:C};const c=new Map,h=new Set;let m=null;const n=s.suspense,{renderer:{p:x,m:z,um:Y,o:{createElement:O}}}=a,V=O("div");a.activate=(C,A,U,$,E)=>{const ee=C.component;z(C,A,U,0,n),x(ee.vnode,C,A,U,ee,n,$,C.slotScopeIds,E),Fa(()=>{ee.isDeactivated=!1,ee.a&&_m(ee.a);const Q=C.props&&C.props.onVnodeMounted;Q&&lc(Q,ee.parent,C)},n)},a.deactivate=C=>{const A=C.component;z(C,V,null,1,n),Fa(()=>{A.da&&_m(A.da);const U=C.props&&C.props.onVnodeUnmounted;U&&lc(U,A.parent,C),A.isDeactivated=!0},n)};function q(C){F2(C),Y(C,s,n,!0)}function L(C){c.forEach((A,U)=>{const $=Pw(A.type);$&&(!C||!C($))&&I(U)})}function I(C){const A=c.get(C);!m||A.type!==m.type?q(A):m&&F2(m),c.delete(C),h.delete(C)}Gr(()=>[e.include,e.exclude],([C,A])=>{C&&L(U=>C1(C,U)),A&&L(U=>!C1(A,U))},{flush:"post",deep:!0});let H=null;const M=()=>{H!=null&&c.set(H,j2(s.subTree))};return Gc(M),i0(M),Bp(()=>{c.forEach(C=>{const{subTree:A,suspense:U}=s,$=j2(A);if(C.type===$.type){F2($);const E=$.component.da;E&&Fa(E,U);return}q(C)})}),()=>{if(H=null,!t.default)return null;const C=t.default(),A=C[0];if(C.length>1)return m=null,C;if(!vu(A)||!(A.shapeFlag&4)&&!(A.shapeFlag&128))return m=null,A;let U=j2(A);const $=U.type,E=Pw(Wf(U)?U.type.__asyncResolved||{}:$),{include:ee,exclude:Q,max:N}=e;if(ee&&(!E||!C1(ee,E))||Q&&E&&C1(Q,E))return m=U,A;const j=U.key==null?$:U.key,W=c.get(j);return U.el&&(U=Wd(U),A.shapeFlag&128&&(A.ssContent=U)),H=j,W?(U.el=W.el,U.component=W.component,U.transition&&Ap(U,U.transition),U.shapeFlag|=512,h.delete(j),h.add(j)):(h.add(j),N&&h.size>parseInt(N,10)&&I(h.values().next().value)),U.shapeFlag|=256,m=U,XC(A.type)?A:U}}},nE=V6;function C1(e,t){return bn(e)?e.some(s=>C1(s,t)):Ss(e)?e.split(",").includes(t):e.test?e.test(t):!1}function S3(e,t){sE(e,"a",t)}function T3(e,t){sE(e,"da",t)}function sE(e,t,s=ca){const a=e.__wdc||(e.__wdc=()=>{let c=s;for(;c;){if(c.isDeactivated)return;c=c.parent}return e()});if(_x(t,a,s),s){let c=s.parent;for(;c&&c.parent;)t_(c.parent.vnode)&&H6(a,t,s,c),c=c.parent}}function H6(e,t,s,a){const c=_x(t,e,a,!0);n0(()=>{l3(a[t],c)},s)}function F2(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function j2(e){return e.shapeFlag&128?e.ssContent:e}function _x(e,t,s=ca,a=!1){if(s){const c=s[e]||(s[e]=[]),h=t.__weh||(t.__weh=(...m)=>{if(s.isUnmounted)return;Nm(),Pp(s);const n=uc(t,s,e,m);return bp(),Fm(),n});return a?c.unshift(h):c.push(h),h}}const wu=e=>(t,s=ca)=>(!Am||e==="sp")&&_x(e,(...a)=>t(...a),s),C3=wu("bm"),Gc=wu("m"),i_=wu("bu"),i0=wu("u"),Bp=wu("bum"),n0=wu("um"),E3=wu("sp"),M3=wu("rtg"),A3=wu("rtc");function k3(e,t=ca){_x("ec",e,t)}function Os(e,t){const s=Ua;if(s===null)return e;const a=bx(s)||s.proxy,c=e.dirs||(e.dirs=[]);for(let h=0;h<t.length;h++){let[m,n,x,z=Ar]=t[h];m&&(hs(m)&&(m={mounted:m,updated:m}),m.deep&&jf(n),c.push({dir:m,instance:a,value:n,oldValue:void 0,arg:x,modifiers:z}))}return e}function xh(e,t,s,a){const c=e.dirs,h=t&&t.dirs;for(let m=0;m<c.length;m++){const n=c[m];h&&(n.oldValue=h[m].value);let x=n.dir[a];x&&(Nm(),uc(x,s,8,[e.el,n,e,t]),Fm())}}const P3="components",W6="directives";function Un(e,t){return D3(P3,e,!0,t)||e}const rE=Symbol();function oE(e){return Ss(e)?D3(P3,e,!1)||e:e||rE}function yx(e){return D3(W6,e)}function D3(e,t,s=!0,a=!1){const c=Ua||ca;if(c){const h=c.type;if(e===P3){const n=Pw(h,!1);if(n&&(n===t||n===Ma(t)||n===Op(Ma(t))))return h}const m=MT(c[e]||h[e],t)||MT(c.appContext[e],t);return!m&&a?h:m}}function MT(e,t){return e&&(e[t]||e[Ma(t)]||e[Op(Ma(t))])}function Kn(e,t,s,a){let c;const h=s&&s[a];if(bn(e)||Ss(e)){c=new Array(e.length);for(let m=0,n=e.length;m<n;m++)c[m]=t(e[m],m,void 0,h&&h[m])}else if(typeof e=="number"){c=new Array(e);for(let m=0;m<e;m++)c[m]=t(m+1,m,void 0,h&&h[m])}else if(Dr(e))if(e[Symbol.iterator])c=Array.from(e,(m,n)=>t(m,n,void 0,h&&h[n]));else{const m=Object.keys(e);c=new Array(m.length);for(let n=0,x=m.length;n<x;n++){const z=m[n];c[n]=t(e[z],z,n,h&&h[n])}}else c=[];return s&&(s[a]=c),c}function I3(e,t){for(let s=0;s<t.length;s++){const a=t[s];if(bn(a))for(let c=0;c<a.length;c++)e[a[c].name]=a[c].fn;else a&&(e[a.name]=a.key?(...c)=>{const h=a.fn(...c);return h&&(h.key=a.key),h}:a.fn)}return e}function Er(e,t,s={},a,c){if(Ua.isCE||Ua.parent&&Wf(Ua.parent)&&Ua.parent.isCE)return t!=="default"&&(s.name=t),Qi("slot",s,a&&a());let h=e[t];h&&h._c&&(h._d=!1),yt();const m=h&&aE(h(s)),n=ja(en,{key:s.key||m&&m.key||`_${t}`},m||(a?a():[]),m&&e._===1?64:-2);return!c&&n.scopeId&&(n.slotScopeIds=[n.scopeId+"-s"]),h&&h._c&&(h._d=!0),n}function aE(e){return e.some(t=>vu(t)?!(t.type===Ga||t.type===en&&!aE(t.children)):!0)?e:null}function lE(e,t){const s={};for(const a in e)s[t&&/[A-Z]/.test(a)?`on:${a}`:Vf(a)]=e[a];return s}const ww=e=>e?SE(e)?bx(e)||e.proxy:ww(e.parent):null,E1=gr(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ww(e.parent),$root:e=>ww(e.root),$emit:e=>e.emit,$options:e=>L3(e),$forceUpdate:e=>e.f||(e.f=()=>hx(e.update)),$nextTick:e=>e.n||(e.n=Eh.bind(e.proxy)),$watch:e=>$6.bind(e)}),U2=(e,t)=>e!==Ar&&!e.__isScriptSetup&&or(e,t),Sw={get({_:e},t){const{ctx:s,setupState:a,data:c,props:h,accessCache:m,type:n,appContext:x}=e;let z;if(t[0]!=="$"){const q=m[t];if(q!==void 0)switch(q){case 1:return a[t];case 2:return c[t];case 4:return s[t];case 3:return h[t]}else{if(U2(a,t))return m[t]=1,a[t];if(c!==Ar&&or(c,t))return m[t]=2,c[t];if((z=e.propsOptions[0])&&or(z,t))return m[t]=3,h[t];if(s!==Ar&&or(s,t))return m[t]=4,s[t];Tw&&(m[t]=0)}}const Y=E1[t];let O,V;if(Y)return t==="$attrs"&&Uc(e,"get",t),Y(e);if((O=n.__cssModules)&&(O=O[t]))return O;if(s!==Ar&&or(s,t))return m[t]=4,s[t];if(V=x.config.globalProperties,or(V,t))return V[t]},set({_:e},t,s){const{data:a,setupState:c,ctx:h}=e;return U2(c,t)?(c[t]=s,!0):a!==Ar&&or(a,t)?(a[t]=s,!0):or(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(h[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:a,appContext:c,propsOptions:h}},m){let n;return!!s[m]||e!==Ar&&or(e,m)||U2(t,m)||(n=h[0])&&or(n,m)||or(a,m)||or(E1,m)||or(c.config.globalProperties,m)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:or(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}},Y6=gr({},Sw,{get(e,t){if(t!==Symbol.unscopables)return Sw.get(e,t,e)},has(e,t){return t[0]!=="_"&&!P4(t)}});let Tw=!0;function q6(e){const t=L3(e),s=e.proxy,a=e.ctx;Tw=!1,t.beforeCreate&&AT(t.beforeCreate,e,"bc");const{data:c,computed:h,methods:m,watch:n,provide:x,inject:z,created:Y,beforeMount:O,mounted:V,beforeUpdate:q,updated:L,activated:I,deactivated:H,beforeDestroy:M,beforeUnmount:C,destroyed:A,unmounted:U,render:$,renderTracked:E,renderTriggered:ee,errorCaptured:Q,serverPrefetch:N,expose:j,inheritAttrs:W,components:S,directives:P,filters:f}=t;if(z&&X6(z,a,null,e.appContext.config.unwrapInjectedRef),m)for(const D in m){const X=m[D];hs(X)&&(a[D]=X.bind(s))}if(c){const D=c.call(s,s);Dr(D)&&(e.data=jm(D))}if(Tw=!0,h)for(const D in h){const X=h[D],te=hs(X)?X.bind(s,s):hs(X.get)?X.get.bind(s,s):jl,Z=!hs(X)&&hs(X.set)?X.set.bind(s):jl,de=ts({get:te,set:Z});Object.defineProperty(a,D,{enumerable:!0,configurable:!0,get:()=>de.value,set:ge=>de.value=ge})}if(n)for(const D in n)cE(n[D],a,s,D);if(x){const D=hs(x)?x.call(s):x;Reflect.ownKeys(D).forEach(X=>{Mp(X,D[X])})}Y&&AT(Y,e,"c");function b(D,X){bn(X)?X.forEach(te=>D(te.bind(s))):X&&D(X.bind(s))}if(b(C3,O),b(Gc,V),b(i_,q),b(i0,L),b(S3,I),b(T3,H),b(k3,Q),b(A3,E),b(M3,ee),b(Bp,C),b(n0,U),b(E3,N),bn(j))if(j.length){const D=e.exposed||(e.exposed={});j.forEach(X=>{Object.defineProperty(D,X,{get:()=>s[X],set:te=>s[X]=te})})}else e.exposed||(e.exposed={});$&&e.render===jl&&(e.render=$),W!=null&&(e.inheritAttrs=W),S&&(e.components=S),P&&(e.directives=P)}function X6(e,t,s=jl,a=!1){bn(e)&&(e=Cw(e));for(const c in e){const h=e[c];let m;Dr(h)?"default"in h?m=pc(h.from||c,h.default,!0):m=pc(h.from||c):m=pc(h),Zo(m)&&a?Object.defineProperty(t,c,{enumerable:!0,configurable:!0,get:()=>m.value,set:n=>m.value=n}):t[c]=m}}function AT(e,t,s){uc(bn(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,s)}function cE(e,t,s,a){const c=a.includes(".")?eE(s,a):()=>s[a];if(Ss(e)){const h=t[e];hs(h)&&Gr(c,h)}else if(hs(e))Gr(c,e.bind(s));else if(Dr(e))if(bn(e))e.forEach(h=>cE(h,t,s,a));else{const h=hs(e.handler)?e.handler.bind(s):t[e.handler];hs(h)&&Gr(c,h,e)}}function L3(e){const t=e.type,{mixins:s,extends:a}=t,{mixins:c,optionsCache:h,config:{optionMergeStrategies:m}}=e.appContext,n=h.get(t);let x;return n?x=n:!c.length&&!s&&!a?x=t:(x={},c.length&&c.forEach(z=>Sv(x,z,m,!0)),Sv(x,t,m)),Dr(t)&&h.set(t,x),x}function Sv(e,t,s,a=!1){const{mixins:c,extends:h}=t;h&&Sv(e,h,s,!0),c&&c.forEach(m=>Sv(e,m,s,!0));for(const m in t)if(!(a&&m==="expose")){const n=Z6[m]||s&&s[m];e[m]=n?n(e[m],t[m]):t[m]}return e}const Z6={data:kT,props:Rf,emits:Rf,methods:Rf,computed:Rf,beforeCreate:Bl,created:Bl,beforeMount:Bl,mounted:Bl,beforeUpdate:Bl,updated:Bl,beforeDestroy:Bl,beforeUnmount:Bl,destroyed:Bl,unmounted:Bl,activated:Bl,deactivated:Bl,errorCaptured:Bl,serverPrefetch:Bl,components:Rf,directives:Rf,watch:J6,provide:kT,inject:K6};function kT(e,t){return t?e?function(){return gr(hs(e)?e.call(this,this):e,hs(t)?t.call(this,this):t)}:t:e}function K6(e,t){return Rf(Cw(e),Cw(t))}function Cw(e){if(bn(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Bl(e,t){return e?[...new Set([].concat(e,t))]:t}function Rf(e,t){return e?gr(gr(Object.create(null),e),t):t}function J6(e,t){if(!e)return t;if(!t)return e;const s=gr(Object.create(null),e);for(const a in t)s[a]=Bl(e[a],t[a]);return s}function Q6(e,t,s,a=!1){const c={},h={};bv(h,xx,1),e.propsDefaults=Object.create(null),dE(e,t,c,h);for(const m in e.propsOptions[0])m in c||(c[m]=void 0);s?e.props=a?c:p3(c):e.type.props?e.props=c:e.props=h,e.attrs=h}function eP(e,t,s,a){const{props:c,attrs:h,vnode:{patchFlag:m}}=e,n=Xs(c),[x]=e.propsOptions;let z=!1;if((a||m>0)&&!(m&16)){if(m&8){const Y=e.vnode.dynamicProps;for(let O=0;O<Y.length;O++){let V=Y[O];if(px(e.emitsOptions,V))continue;const q=t[V];if(x)if(or(h,V))q!==h[V]&&(h[V]=q,z=!0);else{const L=Ma(V);c[L]=Ew(x,n,L,q,e,!1)}else q!==h[V]&&(h[V]=q,z=!0)}}}else{dE(e,t,c,h)&&(z=!0);let Y;for(const O in n)(!t||!or(t,O)&&((Y=Fc(O))===O||!or(t,Y)))&&(x?s&&(s[O]!==void 0||s[Y]!==void 0)&&(c[O]=Ew(x,n,O,void 0,e,!0)):delete c[O]);if(h!==n)for(const O in h)(!t||!or(t,O))&&(delete h[O],z=!0)}z&&yu(e,"set","$attrs")}function dE(e,t,s,a){const[c,h]=e.propsOptions;let m=!1,n;if(t)for(let x in t){if(Gf(x))continue;const z=t[x];let Y;c&&or(c,Y=Ma(x))?!h||!h.includes(Y)?s[Y]=z:(n||(n={}))[Y]=z:px(e.emitsOptions,x)||(!(x in a)||z!==a[x])&&(a[x]=z,m=!0)}if(h){const x=Xs(s),z=n||Ar;for(let Y=0;Y<h.length;Y++){const O=h[Y];s[O]=Ew(c,x,O,z[O],e,!or(z,O))}}return m}function Ew(e,t,s,a,c,h){const m=e[s];if(m!=null){const n=or(m,"default");if(n&&a===void 0){const x=m.default;if(m.type!==Function&&hs(x)){const{propsDefaults:z}=c;s in z?a=z[s]:(Pp(c),a=z[s]=x.call(null,t),bp())}else a=x}m[0]&&(h&&!n?a=!1:m[1]&&(a===""||a===Fc(s))&&(a=!0))}return a}function hE(e,t,s=!1){const a=t.propsCache,c=a.get(e);if(c)return c;const h=e.props,m={},n=[];let x=!1;if(!hs(e)){const Y=O=>{x=!0;const[V,q]=hE(O,t,!0);gr(m,V),q&&n.push(...q)};!s&&t.mixins.length&&t.mixins.forEach(Y),e.extends&&Y(e.extends),e.mixins&&e.mixins.forEach(Y)}if(!h&&!x)return Dr(e)&&a.set(e,mm),mm;if(bn(h))for(let Y=0;Y<h.length;Y++){const O=Ma(h[Y]);PT(O)&&(m[O]=Ar)}else if(h)for(const Y in h){const O=Ma(Y);if(PT(O)){const V=h[Y],q=m[O]=bn(V)||hs(V)?{type:V}:Object.assign({},V);if(q){const L=LT(Boolean,q.type),I=LT(String,q.type);q[0]=L>-1,q[1]=I<0||L<I,(L>-1||or(q,"default"))&&n.push(O)}}}const z=[m,n];return Dr(e)&&a.set(e,z),z}function PT(e){return e[0]!=="$"}function DT(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function IT(e,t){return DT(e)===DT(t)}function LT(e,t){return bn(t)?t.findIndex(s=>IT(s,e)):hs(t)&&IT(t,e)?0:-1}const uE=e=>e[0]==="_"||e==="$stable",O3=e=>bn(e)?e.map(zc):[zc(e)],tP=(e,t,s)=>{if(t._n)return t;const a=To((...c)=>O3(t(...c)),s);return a._c=!1,a},pE=(e,t,s)=>{const a=e._ctx;for(const c in e){if(uE(c))continue;const h=e[c];if(hs(h))t[c]=tP(c,h,a);else if(h!=null){const m=O3(h);t[c]=()=>m}}},fE=(e,t)=>{const s=O3(t);e.slots.default=()=>s},iP=(e,t)=>{if(e.vnode.shapeFlag&32){const s=t._;s?(e.slots=Xs(t),bv(t,"_",s)):pE(t,e.slots={})}else e.slots={},t&&fE(e,t);bv(e.slots,xx,1)},nP=(e,t,s)=>{const{vnode:a,slots:c}=e;let h=!0,m=Ar;if(a.shapeFlag&32){const n=t._;n?s&&n===1?h=!1:(gr(c,t),!s&&n===1&&delete c._):(h=!t.$stable,pE(t,c)),m=t}else t&&(fE(e,t),m={default:1});if(h)for(const n in c)!uE(n)&&!(n in m)&&delete c[n]};function mE(){return{app:null,config:{isNativeTag:av,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let sP=0;function rP(e,t){return function(a,c=null){hs(a)||(a=Object.assign({},a)),c!=null&&!Dr(c)&&(c=null);const h=mE(),m=new Set;let n=!1;const x=h.app={_uid:sP++,_component:a,_props:c,_container:null,_context:h,_instance:null,version:V3,get config(){return h.config},set config(z){},use(z,...Y){return m.has(z)||(z&&hs(z.install)?(m.add(z),z.install(x,...Y)):hs(z)&&(m.add(z),z(x,...Y))),x},mixin(z){return h.mixins.includes(z)||h.mixins.push(z),x},component(z,Y){return Y?(h.components[z]=Y,x):h.components[z]},directive(z,Y){return Y?(h.directives[z]=Y,x):h.directives[z]},mount(z,Y,O){if(!n){const V=Qi(a,c);return V.appContext=h,Y&&t?t(V,z):e(V,z,O),n=!0,x._container=z,z.__vue_app__=x,bx(V.component)||V.component.proxy}},unmount(){n&&(e(null,x._container),delete x._container.__vue_app__)},provide(z,Y){return h.provides[z]=Y,x}};return x}}function Tv(e,t,s,a,c=!1){if(bn(e)){e.forEach((V,q)=>Tv(V,t&&(bn(t)?t[q]:t),s,a,c));return}if(Wf(a)&&!c)return;const h=a.shapeFlag&4?bx(a.component)||a.component.proxy:a.el,m=c?null:h,{i:n,r:x}=e,z=t&&t.r,Y=n.refs===Ar?n.refs={}:n.refs,O=n.setupState;if(z!=null&&z!==x&&(Ss(z)?(Y[z]=null,or(O,z)&&(O[z]=null)):Zo(z)&&(z.value=null)),hs(x))Ah(x,n,12,[m,Y]);else{const V=Ss(x),q=Zo(x);if(V||q){const L=()=>{if(e.f){const I=V?or(O,x)?O[x]:Y[x]:x.value;c?bn(I)&&l3(I,h):bn(I)?I.includes(h)||I.push(h):V?(Y[x]=[h],or(O,x)&&(O[x]=Y[x])):(x.value=[h],e.k&&(Y[e.k]=x.value))}else V?(Y[x]=m,or(O,x)&&(O[x]=m)):q&&(x.value=m,e.k&&(Y[e.k]=m))};m?(L.id=-1,Fa(L,s)):L()}}}let ap=!1;const Vy=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",Hy=e=>e.nodeType===8;function oP(e){const{mt:t,p:s,o:{patchProp:a,createText:c,nextSibling:h,parentNode:m,remove:n,insert:x,createComment:z}}=e,Y=(M,C)=>{if(!C.hasChildNodes()){s(null,M,C),wv(),C._vnode=M;return}ap=!1,O(C.firstChild,M,null,null,null),wv(),C._vnode=M,ap&&console.error("Hydration completed but contains mismatches.")},O=(M,C,A,U,$,E=!1)=>{const ee=Hy(M)&&M.data==="[",Q=()=>I(M,C,A,U,$,ee),{type:N,ref:j,shapeFlag:W,patchFlag:S}=C;let P=M.nodeType;C.el=M,S===-2&&(E=!1,C.dynamicChildren=null);let f=null;switch(N){case kp:P!==3?C.children===""?(x(C.el=c(""),m(M),M),f=M):f=Q():(M.data!==C.children&&(ap=!0,M.data=C.children),f=h(M));break;case Ga:P!==8||ee?f=Q():f=h(M);break;case vp:if(ee&&(M=h(M),P=M.nodeType),P===1||P===3){f=M;const g=!C.children.length;for(let b=0;b<C.staticCount;b++)g&&(C.children+=f.nodeType===1?f.outerHTML:f.data),b===C.staticCount-1&&(C.anchor=f),f=h(f);return ee?h(f):f}else Q();break;case en:ee?f=L(M,C,A,U,$,E):f=Q();break;default:if(W&1)P!==1||C.type.toLowerCase()!==M.tagName.toLowerCase()?f=Q():f=V(M,C,A,U,$,E);else if(W&6){C.slotScopeIds=$;const g=m(M);if(t(C,g,null,A,U,Vy(g),E),f=ee?H(M):h(M),f&&Hy(f)&&f.data==="teleport end"&&(f=h(f)),Wf(C)){let b;ee?(b=Qi(en),b.anchor=f?f.previousSibling:g.lastChild):b=M.nodeType===3?mr(""):Qi("div"),b.el=M,C.component.subTree=b}}else W&64?P!==8?f=Q():f=C.type.hydrate(M,C,A,U,$,E,e,q):W&128&&(f=C.type.hydrate(M,C,A,U,Vy(m(M)),$,E,e,O))}return j!=null&&Tv(j,null,U,C),f},V=(M,C,A,U,$,E)=>{E=E||!!C.dynamicChildren;const{type:ee,props:Q,patchFlag:N,shapeFlag:j,dirs:W}=C,S=ee==="input"&&W||ee==="option";if(S||N!==-1){if(W&&xh(C,null,A,"created"),Q)if(S||!E||N&48)for(const f in Q)(S&&f.endsWith("value")||e0(f)&&!Gf(f))&&a(M,f,null,Q[f],!1,void 0,A);else Q.onClick&&a(M,"onClick",null,Q.onClick,!1,void 0,A);let P;if((P=Q&&Q.onVnodeBeforeMount)&&lc(P,A,C),W&&xh(C,null,A,"beforeMount"),((P=Q&&Q.onVnodeMounted)||W)&&KC(()=>{P&&lc(P,A,C),W&&xh(C,null,A,"mounted")},U),j&16&&!(Q&&(Q.innerHTML||Q.textContent))){let f=q(M.firstChild,C,M,A,U,$,E);for(;f;){ap=!0;const g=f;f=f.nextSibling,n(g)}}else j&8&&M.textContent!==C.children&&(ap=!0,M.textContent=C.children)}return M.nextSibling},q=(M,C,A,U,$,E,ee)=>{ee=ee||!!C.dynamicChildren;const Q=C.children,N=Q.length;for(let j=0;j<N;j++){const W=ee?Q[j]:Q[j]=zc(Q[j]);if(M)M=O(M,W,U,$,E,ee);else{if(W.type===kp&&!W.children)continue;ap=!0,s(null,W,A,null,U,$,Vy(A),E)}}return M},L=(M,C,A,U,$,E)=>{const{slotScopeIds:ee}=C;ee&&($=$?$.concat(ee):ee);const Q=m(M),N=q(h(M),C,Q,A,U,$,E);return N&&Hy(N)&&N.data==="]"?h(C.anchor=N):(ap=!0,x(C.anchor=z("]"),Q,N),N)},I=(M,C,A,U,$,E)=>{if(ap=!0,C.el=null,E){const N=H(M);for(;;){const j=h(M);if(j&&j!==N)n(j);else break}}const ee=h(M),Q=m(M);return n(M),s(null,C,Q,ee,A,U,Vy(Q),$),ee},H=M=>{let C=0;for(;M;)if(M=h(M),M&&Hy(M)&&(M.data==="["&&C++,M.data==="]")){if(C===0)return h(M);C--}return M};return[Y,O]}const Fa=KC;function R3(e){return gE(e)}function B3(e){return gE(e,oP)}function gE(e,t){const s=X4();s.__VUE__=!0;const{insert:a,remove:c,patchProp:h,createElement:m,createText:n,createComment:x,setText:z,setElementText:Y,parentNode:O,nextSibling:V,setScopeId:q=jl,insertStaticContent:L}=e,I=(ae,me,we,Re=null,Le=null,$e=null,rt=!1,Qe=null,qe=!!me.dynamicChildren)=>{if(ae===me)return;ae&&!wh(ae,me)&&(Re=pe(ae),ge(ae,Le,$e,!0),ae=null),me.patchFlag===-2&&(qe=!1,me.dynamicChildren=null);const{type:Te,ref:Oe,shapeFlag:ze}=me;switch(Te){case kp:H(ae,me,we,Re);break;case Ga:M(ae,me,we,Re);break;case vp:ae==null&&C(me,we,Re,rt);break;case en:S(ae,me,we,Re,Le,$e,rt,Qe,qe);break;default:ze&1?$(ae,me,we,Re,Le,$e,rt,Qe,qe):ze&6?P(ae,me,we,Re,Le,$e,rt,Qe,qe):(ze&64||ze&128)&&Te.process(ae,me,we,Re,Le,$e,rt,Qe,qe,ne)}Oe!=null&&Le&&Tv(Oe,ae&&ae.ref,$e,me||ae,!me)},H=(ae,me,we,Re)=>{if(ae==null)a(me.el=n(me.children),we,Re);else{const Le=me.el=ae.el;me.children!==ae.children&&z(Le,me.children)}},M=(ae,me,we,Re)=>{ae==null?a(me.el=x(me.children||""),we,Re):me.el=ae.el},C=(ae,me,we,Re)=>{[ae.el,ae.anchor]=L(ae.children,me,we,Re,ae.el,ae.anchor)},A=({el:ae,anchor:me},we,Re)=>{let Le;for(;ae&&ae!==me;)Le=V(ae),a(ae,we,Re),ae=Le;a(me,we,Re)},U=({el:ae,anchor:me})=>{let we;for(;ae&&ae!==me;)we=V(ae),c(ae),ae=we;c(me)},$=(ae,me,we,Re,Le,$e,rt,Qe,qe)=>{rt=rt||me.type==="svg",ae==null?E(me,we,Re,Le,$e,rt,Qe,qe):N(ae,me,Le,$e,rt,Qe,qe)},E=(ae,me,we,Re,Le,$e,rt,Qe)=>{let qe,Te;const{type:Oe,props:ze,shapeFlag:Xe,transition:Ke,dirs:pt}=ae;if(qe=ae.el=m(ae.type,$e,ze&&ze.is,ze),Xe&8?Y(qe,ae.children):Xe&16&&Q(ae.children,qe,null,Re,Le,$e&&Oe!=="foreignObject",rt,Qe),pt&&xh(ae,null,Re,"created"),ze){for(const Bt in ze)Bt!=="value"&&!Gf(Bt)&&h(qe,Bt,null,ze[Bt],$e,ae.children,Re,Le,ce);"value"in ze&&h(qe,"value",null,ze.value),(Te=ze.onVnodeBeforeMount)&&lc(Te,Re,ae)}ee(qe,ae,ae.scopeId,rt,Re),pt&&xh(ae,null,Re,"beforeMount");const Tt=(!Le||Le&&!Le.pendingBranch)&&Ke&&!Ke.persisted;Tt&&Ke.beforeEnter(qe),a(qe,me,we),((Te=ze&&ze.onVnodeMounted)||Tt||pt)&&Fa(()=>{Te&&lc(Te,Re,ae),Tt&&Ke.enter(qe),pt&&xh(ae,null,Re,"mounted")},Le)},ee=(ae,me,we,Re,Le)=>{if(we&&q(ae,we),Re)for(let $e=0;$e<Re.length;$e++)q(ae,Re[$e]);if(Le){let $e=Le.subTree;if(me===$e){const rt=Le.vnode;ee(ae,rt,rt.scopeId,rt.slotScopeIds,Le.parent)}}},Q=(ae,me,we,Re,Le,$e,rt,Qe,qe=0)=>{for(let Te=qe;Te<ae.length;Te++){const Oe=ae[Te]=Qe?up(ae[Te]):zc(ae[Te]);I(null,Oe,me,we,Re,Le,$e,rt,Qe)}},N=(ae,me,we,Re,Le,$e,rt)=>{const Qe=me.el=ae.el;let{patchFlag:qe,dynamicChildren:Te,dirs:Oe}=me;qe|=ae.patchFlag&16;const ze=ae.props||Ar,Xe=me.props||Ar;let Ke;we&&Df(we,!1),(Ke=Xe.onVnodeBeforeUpdate)&&lc(Ke,we,me,ae),Oe&&xh(me,ae,we,"beforeUpdate"),we&&Df(we,!0);const pt=Le&&me.type!=="foreignObject";if(Te?j(ae.dynamicChildren,Te,Qe,we,Re,pt,$e):rt||X(ae,me,Qe,null,we,Re,pt,$e,!1),qe>0){if(qe&16)W(Qe,me,ze,Xe,we,Re,Le);else if(qe&2&&ze.class!==Xe.class&&h(Qe,"class",null,Xe.class,Le),qe&4&&h(Qe,"style",ze.style,Xe.style,Le),qe&8){const Tt=me.dynamicProps;for(let Bt=0;Bt<Tt.length;Bt++){const ci=Tt[Bt],Wt=ze[ci],ui=Xe[ci];(ui!==Wt||ci==="value")&&h(Qe,ci,Wt,ui,Le,ae.children,we,Re,ce)}}qe&1&&ae.children!==me.children&&Y(Qe,me.children)}else!rt&&Te==null&&W(Qe,me,ze,Xe,we,Re,Le);((Ke=Xe.onVnodeUpdated)||Oe)&&Fa(()=>{Ke&&lc(Ke,we,me,ae),Oe&&xh(me,ae,we,"updated")},Re)},j=(ae,me,we,Re,Le,$e,rt)=>{for(let Qe=0;Qe<me.length;Qe++){const qe=ae[Qe],Te=me[Qe],Oe=qe.el&&(qe.type===en||!wh(qe,Te)||qe.shapeFlag&70)?O(qe.el):we;I(qe,Te,Oe,null,Re,Le,$e,rt,!0)}},W=(ae,me,we,Re,Le,$e,rt)=>{if(we!==Re){if(we!==Ar)for(const Qe in we)!Gf(Qe)&&!(Qe in Re)&&h(ae,Qe,we[Qe],null,rt,me.children,Le,$e,ce);for(const Qe in Re){if(Gf(Qe))continue;const qe=Re[Qe],Te=we[Qe];qe!==Te&&Qe!=="value"&&h(ae,Qe,Te,qe,rt,me.children,Le,$e,ce)}"value"in Re&&h(ae,"value",we.value,Re.value)}},S=(ae,me,we,Re,Le,$e,rt,Qe,qe)=>{const Te=me.el=ae?ae.el:n(""),Oe=me.anchor=ae?ae.anchor:n("");let{patchFlag:ze,dynamicChildren:Xe,slotScopeIds:Ke}=me;Ke&&(Qe=Qe?Qe.concat(Ke):Ke),ae==null?(a(Te,we,Re),a(Oe,we,Re),Q(me.children,we,Oe,Le,$e,rt,Qe,qe)):ze>0&&ze&64&&Xe&&ae.dynamicChildren?(j(ae.dynamicChildren,Xe,we,Le,$e,rt,Qe),(me.key!=null||Le&&me===Le.subTree)&&z3(ae,me,!0)):X(ae,me,we,Oe,Le,$e,rt,Qe,qe)},P=(ae,me,we,Re,Le,$e,rt,Qe,qe)=>{me.slotScopeIds=Qe,ae==null?me.shapeFlag&512?Le.ctx.activate(me,we,Re,rt,qe):f(me,we,Re,Le,$e,rt,qe):g(ae,me,qe)},f=(ae,me,we,Re,Le,$e,rt)=>{const Qe=ae.component=wE(ae,Re,Le);if(t_(ae)&&(Qe.ctx.renderer=ne),TE(Qe),Qe.asyncDep){if(Le&&Le.registerDep(Qe,b),!ae.el){const qe=Qe.subTree=Qi(Ga);M(null,qe,me,we)}return}b(Qe,ae,me,we,Le,$e,rt)},g=(ae,me,we)=>{const Re=me.component=ae.component;if(B6(ae,me,we))if(Re.asyncDep&&!Re.asyncResolved){D(Re,me,we);return}else Re.next=me,P6(Re.update),Re.update();else me.el=ae.el,Re.vnode=me},b=(ae,me,we,Re,Le,$e,rt)=>{const Qe=()=>{if(ae.isMounted){let{next:Oe,bu:ze,u:Xe,parent:Ke,vnode:pt}=ae,Tt=Oe,Bt;Df(ae,!1),Oe?(Oe.el=pt.el,D(ae,Oe,rt)):Oe=pt,ze&&_m(ze),(Bt=Oe.props&&Oe.props.onVnodeBeforeUpdate)&&lc(Bt,Ke,Oe,pt),Df(ae,!0);const ci=lv(ae),Wt=ae.subTree;ae.subTree=ci,I(Wt,ci,O(Wt.el),pe(Wt),ae,Le,$e),Oe.el=ci.el,Tt===null&&x3(ae,ci.el),Xe&&Fa(Xe,Le),(Bt=Oe.props&&Oe.props.onVnodeUpdated)&&Fa(()=>lc(Bt,Ke,Oe,pt),Le)}else{let Oe;const{el:ze,props:Xe}=me,{bm:Ke,m:pt,parent:Tt}=ae,Bt=Wf(me);if(Df(ae,!1),Ke&&_m(Ke),!Bt&&(Oe=Xe&&Xe.onVnodeBeforeMount)&&lc(Oe,Tt,me),Df(ae,!0),ze&&_e){const ci=()=>{ae.subTree=lv(ae),_e(ze,ae.subTree,ae,Le,null)};Bt?me.type.__asyncLoader().then(()=>!ae.isUnmounted&&ci()):ci()}else{const ci=ae.subTree=lv(ae);I(null,ci,we,Re,ae,Le,$e),me.el=ci.el}if(pt&&Fa(pt,Le),!Bt&&(Oe=Xe&&Xe.onVnodeMounted)){const ci=me;Fa(()=>lc(Oe,Tt,ci),Le)}(me.shapeFlag&256||Tt&&Wf(Tt.vnode)&&Tt.vnode.shapeFlag&256)&&ae.a&&Fa(ae.a,Le),ae.isMounted=!0,me=we=Re=null}},qe=ae.effect=new zm(Qe,()=>hx(Te),ae.scope),Te=ae.update=()=>qe.run();Te.id=ae.uid,Df(ae,!0),Te()},D=(ae,me,we)=>{me.component=ae;const Re=ae.vnode.props;ae.vnode=me,ae.next=null,eP(ae,me.props,Re,we),nP(ae,me.children,we),Nm(),ST(),Fm()},X=(ae,me,we,Re,Le,$e,rt,Qe,qe=!1)=>{const Te=ae&&ae.children,Oe=ae?ae.shapeFlag:0,ze=me.children,{patchFlag:Xe,shapeFlag:Ke}=me;if(Xe>0){if(Xe&128){Z(Te,ze,we,Re,Le,$e,rt,Qe,qe);return}else if(Xe&256){te(Te,ze,we,Re,Le,$e,rt,Qe,qe);return}}Ke&8?(Oe&16&&ce(Te,Le,$e),ze!==Te&&Y(we,ze)):Oe&16?Ke&16?Z(Te,ze,we,Re,Le,$e,rt,Qe,qe):ce(Te,Le,$e,!0):(Oe&8&&Y(we,""),Ke&16&&Q(ze,we,Re,Le,$e,rt,Qe,qe))},te=(ae,me,we,Re,Le,$e,rt,Qe,qe)=>{ae=ae||mm,me=me||mm;const Te=ae.length,Oe=me.length,ze=Math.min(Te,Oe);let Xe;for(Xe=0;Xe<ze;Xe++){const Ke=me[Xe]=qe?up(me[Xe]):zc(me[Xe]);I(ae[Xe],Ke,we,null,Le,$e,rt,Qe,qe)}Te>Oe?ce(ae,Le,$e,!0,!1,ze):Q(me,we,Re,Le,$e,rt,Qe,qe,ze)},Z=(ae,me,we,Re,Le,$e,rt,Qe,qe)=>{let Te=0;const Oe=me.length;let ze=ae.length-1,Xe=Oe-1;for(;Te<=ze&&Te<=Xe;){const Ke=ae[Te],pt=me[Te]=qe?up(me[Te]):zc(me[Te]);if(wh(Ke,pt))I(Ke,pt,we,null,Le,$e,rt,Qe,qe);else break;Te++}for(;Te<=ze&&Te<=Xe;){const Ke=ae[ze],pt=me[Xe]=qe?up(me[Xe]):zc(me[Xe]);if(wh(Ke,pt))I(Ke,pt,we,null,Le,$e,rt,Qe,qe);else break;ze--,Xe--}if(Te>ze){if(Te<=Xe){const Ke=Xe+1,pt=Ke<Oe?me[Ke].el:Re;for(;Te<=Xe;)I(null,me[Te]=qe?up(me[Te]):zc(me[Te]),we,pt,Le,$e,rt,Qe,qe),Te++}}else if(Te>Xe)for(;Te<=ze;)ge(ae[Te],Le,$e,!0),Te++;else{const Ke=Te,pt=Te,Tt=new Map;for(Te=pt;Te<=Xe;Te++){const Ci=me[Te]=qe?up(me[Te]):zc(me[Te]);Ci.key!=null&&Tt.set(Ci.key,Te)}let Bt,ci=0;const Wt=Xe-pt+1;let ui=!1,ji=0;const Ii=new Array(Wt);for(Te=0;Te<Wt;Te++)Ii[Te]=0;for(Te=Ke;Te<=ze;Te++){const Ci=ae[Te];if(ci>=Wt){ge(Ci,Le,$e,!0);continue}let sn;if(Ci.key!=null)sn=Tt.get(Ci.key);else for(Bt=pt;Bt<=Xe;Bt++)if(Ii[Bt-pt]===0&&wh(Ci,me[Bt])){sn=Bt;break}sn===void 0?ge(Ci,Le,$e,!0):(Ii[sn-pt]=Te+1,sn>=ji?ji=sn:ui=!0,I(Ci,me[sn],we,null,Le,$e,rt,Qe,qe),ci++)}const wi=ui?aP(Ii):mm;for(Bt=wi.length-1,Te=Wt-1;Te>=0;Te--){const Ci=pt+Te,sn=me[Ci],vn=Ci+1<Oe?me[Ci+1].el:Re;Ii[Te]===0?I(null,sn,we,vn,Le,$e,rt,Qe,qe):ui&&(Bt<0||Te!==wi[Bt]?de(sn,we,vn,2):Bt--)}}},de=(ae,me,we,Re,Le=null)=>{const{el:$e,type:rt,transition:Qe,children:qe,shapeFlag:Te}=ae;if(Te&6){de(ae.component.subTree,me,we,Re);return}if(Te&128){ae.suspense.move(me,we,Re);return}if(Te&64){rt.move(ae,me,we,ne);return}if(rt===en){a($e,me,we);for(let ze=0;ze<qe.length;ze++)de(qe[ze],me,we,Re);a(ae.anchor,me,we);return}if(rt===vp){A(ae,me,we);return}if(Re!==2&&Te&1&&Qe)if(Re===0)Qe.beforeEnter($e),a($e,me,we),Fa(()=>Qe.enter($e),Le);else{const{leave:ze,delayLeave:Xe,afterLeave:Ke}=Qe,pt=()=>a($e,me,we),Tt=()=>{ze($e,()=>{pt(),Ke&&Ke()})};Xe?Xe($e,pt,Tt):Tt()}else a($e,me,we)},ge=(ae,me,we,Re=!1,Le=!1)=>{const{type:$e,props:rt,ref:Qe,children:qe,dynamicChildren:Te,shapeFlag:Oe,patchFlag:ze,dirs:Xe}=ae;if(Qe!=null&&Tv(Qe,null,we,ae,!0),Oe&256){me.ctx.deactivate(ae);return}const Ke=Oe&1&&Xe,pt=!Wf(ae);let Tt;if(pt&&(Tt=rt&&rt.onVnodeBeforeUnmount)&&lc(Tt,me,ae),Oe&6)oe(ae.component,we,Re);else{if(Oe&128){ae.suspense.unmount(we,Re);return}Ke&&xh(ae,null,me,"beforeUnmount"),Oe&64?ae.type.remove(ae,me,we,Le,ne,Re):Te&&($e!==en||ze>0&&ze&64)?ce(Te,me,we,!1,!0):($e===en&&ze&384||!Le&&Oe&16)&&ce(qe,me,we),Re&&Ce(ae)}(pt&&(Tt=rt&&rt.onVnodeUnmounted)||Ke)&&Fa(()=>{Tt&&lc(Tt,me,ae),Ke&&xh(ae,null,me,"unmounted")},we)},Ce=ae=>{const{type:me,el:we,anchor:Re,transition:Le}=ae;if(me===en){J(we,Re);return}if(me===vp){U(ae);return}const $e=()=>{c(we),Le&&!Le.persisted&&Le.afterLeave&&Le.afterLeave()};if(ae.shapeFlag&1&&Le&&!Le.persisted){const{leave:rt,delayLeave:Qe}=Le,qe=()=>rt(we,$e);Qe?Qe(ae.el,$e,qe):qe()}else $e()},J=(ae,me)=>{let we;for(;ae!==me;)we=V(ae),c(ae),ae=we;c(me)},oe=(ae,me,we)=>{const{bum:Re,scope:Le,update:$e,subTree:rt,um:Qe}=ae;Re&&_m(Re),Le.stop(),$e&&($e.active=!1,ge(rt,ae,me,we)),Qe&&Fa(Qe,me),Fa(()=>{ae.isUnmounted=!0},me),me&&me.pendingBranch&&!me.isUnmounted&&ae.asyncDep&&!ae.asyncResolved&&ae.suspenseId===me.pendingId&&(me.deps--,me.deps===0&&me.resolve())},ce=(ae,me,we,Re=!1,Le=!1,$e=0)=>{for(let rt=$e;rt<ae.length;rt++)ge(ae[rt],me,we,Re,Le)},pe=ae=>ae.shapeFlag&6?pe(ae.component.subTree):ae.shapeFlag&128?ae.suspense.next():V(ae.anchor||ae.el),Ee=(ae,me,we)=>{ae==null?me._vnode&&ge(me._vnode,null,null,!0):I(me._vnode||null,ae,me,null,null,null,we),ST(),wv(),me._vnode=ae},ne={p:I,um:ge,m:de,r:Ce,mt:f,mc:Q,pc:X,pbc:j,n:pe,o:e};let ye,_e;return t&&([ye,_e]=t(ne)),{render:Ee,hydrate:ye,createApp:rP(Ee,ye)}}function Df({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function z3(e,t,s=!1){const a=e.children,c=t.children;if(bn(a)&&bn(c))for(let h=0;h<a.length;h++){const m=a[h];let n=c[h];n.shapeFlag&1&&!n.dynamicChildren&&((n.patchFlag<=0||n.patchFlag===32)&&(n=c[h]=up(c[h]),n.el=m.el),s||z3(m,n)),n.type===kp&&(n.el=m.el)}}function aP(e){const t=e.slice(),s=[0];let a,c,h,m,n;const x=e.length;for(a=0;a<x;a++){const z=e[a];if(z!==0){if(c=s[s.length-1],e[c]<z){t[a]=c,s.push(a);continue}for(h=0,m=s.length-1;h<m;)n=h+m>>1,e[s[n]]<z?h=n+1:m=n;z<e[s[h]]&&(h>0&&(t[a]=s[h-1]),s[h]=a)}}for(h=s.length,m=s[h-1];h-- >0;)s[h]=m,m=t[m];return s}const lP=e=>e.__isTeleport,M1=e=>e&&(e.disabled||e.disabled===""),OT=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Mw=(e,t)=>{const s=e&&e.to;return Ss(s)?t?t(s):null:s},cP={__isTeleport:!0,process(e,t,s,a,c,h,m,n,x,z){const{mc:Y,pc:O,pbc:V,o:{insert:q,querySelector:L,createText:I,createComment:H}}=z,M=M1(t.props);let{shapeFlag:C,children:A,dynamicChildren:U}=t;if(e==null){const $=t.el=I(""),E=t.anchor=I("");q($,s,a),q(E,s,a);const ee=t.target=Mw(t.props,L),Q=t.targetAnchor=I("");ee&&(q(Q,ee),m=m||OT(ee));const N=(j,W)=>{C&16&&Y(A,j,W,c,h,m,n,x)};M?N(s,E):ee&&N(ee,Q)}else{t.el=e.el;const $=t.anchor=e.anchor,E=t.target=e.target,ee=t.targetAnchor=e.targetAnchor,Q=M1(e.props),N=Q?s:E,j=Q?$:ee;if(m=m||OT(E),U?(V(e.dynamicChildren,U,N,c,h,m,n),z3(e,t,!0)):x||O(e,t,N,j,c,h,m,n,!1),M)Q||Wy(t,s,$,z,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const W=t.target=Mw(t.props,L);W&&Wy(t,W,null,z,0)}else Q&&Wy(t,E,ee,z,1)}_E(t)},remove(e,t,s,a,{um:c,o:{remove:h}},m){const{shapeFlag:n,children:x,anchor:z,targetAnchor:Y,target:O,props:V}=e;if(O&&h(Y),(m||!M1(V))&&(h(z),n&16))for(let q=0;q<x.length;q++){const L=x[q];c(L,t,s,!0,!!L.dynamicChildren)}},move:Wy,hydrate:dP};function Wy(e,t,s,{o:{insert:a},m:c},h=2){h===0&&a(e.targetAnchor,t,s);const{el:m,anchor:n,shapeFlag:x,children:z,props:Y}=e,O=h===2;if(O&&a(m,t,s),(!O||M1(Y))&&x&16)for(let V=0;V<z.length;V++)c(z[V],t,s,2);O&&a(n,t,s)}function dP(e,t,s,a,c,h,{o:{nextSibling:m,parentNode:n,querySelector:x}},z){const Y=t.target=Mw(t.props,x);if(Y){const O=Y._lpa||Y.firstChild;if(t.shapeFlag&16)if(M1(t.props))t.anchor=z(m(e),t,n(e),s,a,c,h),t.targetAnchor=O;else{t.anchor=m(e);let V=O;for(;V;)if(V=m(V),V&&V.nodeType===8&&V.data==="teleport anchor"){t.targetAnchor=V,Y._lpa=t.targetAnchor&&m(t.targetAnchor);break}z(O,t,Y,s,a,c,h)}_E(t)}return t.anchor&&m(t.anchor)}const vx=cP;function _E(e){const t=e.ctx;if(t&&t.ut){let s=e.children[0].el;for(;s!==e.targetAnchor;)s.nodeType===1&&s.setAttribute("data-v-owner",t.uid),s=s.nextSibling;t.ut()}}const en=Symbol(void 0),kp=Symbol(void 0),Ga=Symbol(void 0),vp=Symbol(void 0),A1=[];let dc=null;function yt(e=!1){A1.push(dc=e?null:[])}function yE(){A1.pop(),dc=A1[A1.length-1]||null}let Kf=1;function Cv(e){Kf+=e}function vE(e){return e.dynamicChildren=Kf>0?dc||mm:null,yE(),Kf>0&&dc&&dc.push(e),e}function St(e,t,s,a,c,h){return vE(Ne(e,t,s,a,c,h,!0))}function ja(e,t,s,a,c){return vE(Qi(e,t,s,a,c,!0))}function vu(e){return e?e.__v_isVNode===!0:!1}function wh(e,t){return e.type===t.type&&e.key===t.key}function xE(e){}const xx="__vInternal",bE=({key:e})=>e??null,cv=({ref:e,ref_key:t,ref_for:s})=>e!=null?Ss(e)||Zo(e)||hs(e)?{i:Ua,r:e,k:t,f:!!s}:e:null;function Ne(e,t=null,s=null,a=0,c=null,h=e===en?0:1,m=!1,n=!1){const x={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&bE(t),ref:t&&cv(t),scopeId:fx,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:a,dynamicProps:c,dynamicChildren:null,appContext:null,ctx:Ua};return n?(N3(x,s),h&128&&e.normalize(x)):s&&(x.shapeFlag|=Ss(s)?8:16),Kf>0&&!m&&dc&&(x.patchFlag>0||h&6)&&x.patchFlag!==32&&dc.push(x),x}const Qi=hP;function hP(e,t=null,s=null,a=0,c=null,h=!1){if((!e||e===rE)&&(e=Ga),vu(e)){const n=Wd(e,t,!0);return s&&N3(n,s),Kf>0&&!h&&dc&&(n.shapeFlag&6?dc[dc.indexOf(e)]=n:dc.push(n)),n.patchFlag|=-2,n}if(gP(e)&&(e=e.__vccOpts),t){t=xp(t);let{class:n,style:x}=t;n&&!Ss(n)&&(t.class=Xn(n)),Dr(x)&&(ax(x)&&!bn(x)&&(x=gr({},x)),t.style=da(x))}const m=Ss(e)?1:XC(e)?128:lP(e)?64:Dr(e)?4:hs(e)?2:0;return Ne(e,t,s,a,c,m,h,!0)}function xp(e){return e?ax(e)||xx in e?gr({},e):e:null}function Wd(e,t,s=!1){const{props:a,ref:c,patchFlag:h,children:m}=e,n=t?gd(a||{},t):a;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:n,key:n&&bE(n),ref:t&&t.ref?s&&c?bn(c)?c.concat(cv(t)):[c,cv(t)]:cv(t):c,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:m,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==en?h===-1?16:h|16:h,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Wd(e.ssContent),ssFallback:e.ssFallback&&Wd(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function mr(e=" ",t=0){return Qi(kp,null,e,t)}function Sd(e,t){const s=Qi(vp,null,e);return s.staticCount=t,s}function rn(e="",t=!1){return t?(yt(),ja(Ga,null,e)):Qi(Ga,null,e)}function zc(e){return e==null||typeof e=="boolean"?Qi(Ga):bn(e)?Qi(en,null,e.slice()):typeof e=="object"?up(e):Qi(kp,null,String(e))}function up(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Wd(e)}function N3(e,t){let s=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(bn(t))s=16;else if(typeof t=="object")if(a&65){const c=t.default;c&&(c._c&&(c._d=!1),N3(e,c()),c._c&&(c._d=!0));return}else{s=32;const c=t._;!c&&!(xx in t)?t._ctx=Ua:c===3&&Ua&&(Ua.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else hs(t)?(t={default:t,_ctx:Ua},s=32):(t=String(t),a&64?(s=16,t=[mr(t)]):s=8);e.children=t,e.shapeFlag|=s}function gd(...e){const t={};for(let s=0;s<e.length;s++){const a=e[s];for(const c in a)if(c==="class")t.class!==a.class&&(t.class=Xn([t.class,a.class]));else if(c==="style")t.style=da([t.style,a.style]);else if(e0(c)){const h=t[c],m=a[c];m&&h!==m&&!(bn(h)&&h.includes(m))&&(t[c]=h?[].concat(h,m):m)}else c!==""&&(t[c]=a[c])}return t}function lc(e,t,s,a=null){uc(e,t,7,[s,a])}const uP=mE();let pP=0;function wE(e,t,s){const a=e.type,c=(t?t.appContext:e.appContext)||uP,h={uid:pP++,vnode:e,type:a,parent:t,appContext:c,root:null,next:null,subTree:null,effect:null,update:null,scope:new tx(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(c.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:hE(a,c),emitsOptions:YC(a,c),emit:null,emitted:null,propsDefaults:Ar,inheritAttrs:a.inheritAttrs,ctx:Ar,data:Ar,props:Ar,attrs:Ar,slots:Ar,refs:Ar,setupState:Ar,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=t?t.root:h,h.emit=I6.bind(null,h),e.ce&&e.ce(h),h}let ca=null;const Su=()=>ca||Ua,Pp=e=>{ca=e,e.scope.on()},bp=()=>{ca&&ca.scope.off(),ca=null};function SE(e){return e.vnode.shapeFlag&4}let Am=!1;function TE(e,t=!1){Am=t;const{props:s,children:a}=e.vnode,c=SE(e);Q6(e,s,c,t),iP(e,a);const h=c?fP(e,t):void 0;return Am=!1,h}function fP(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=lx(new Proxy(e.ctx,Sw));const{setup:a}=s;if(a){const c=e.setupContext=a.length>1?ME(e):null;Pp(e),Nm();const h=Ah(a,e,0,[e.props,c]);if(Fm(),bp(),c3(h)){if(h.then(bp,bp),t)return h.then(m=>{Aw(e,m,t)}).catch(m=>{Rp(m,e,0)});e.asyncDep=h}else Aw(e,h,t)}else EE(e,t)}function Aw(e,t,s){hs(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Dr(t)&&(e.setupState=dx(t)),EE(e,s)}let Ev,kw;function F3(e){Ev=e,kw=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,Y6))}}const CE=()=>!Ev;function EE(e,t,s){const a=e.type;if(!e.render){if(!t&&Ev&&!a.render){const c=a.template||L3(e).template;if(c){const{isCustomElement:h,compilerOptions:m}=e.appContext.config,{delimiters:n,compilerOptions:x}=a,z=gr(gr({isCustomElement:h,delimiters:n},m),x);a.render=Ev(c,z)}}e.render=a.render||jl,kw&&kw(e)}Pp(e),Nm(),q6(e),Fm(),bp()}function mP(e){return new Proxy(e.attrs,{get(t,s){return Uc(e,"get","$attrs"),t[s]}})}function ME(e){const t=a=>{e.exposed=a||{}};let s;return{get attrs(){return s||(s=mP(e))},slots:e.slots,emit:e.emit,expose:t}}function bx(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(dx(lx(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in E1)return E1[s](e)},has(t,s){return s in t||s in E1}}))}function Pw(e,t=!0){return hs(e)?e.displayName||e.name:e.name||t&&e.__name}function gP(e){return hs(e)&&"__vccOpts"in e}const ts=(e,t)=>M6(e,t,Am);function AE(){return null}function kE(){return null}function PE(e){}function DE(e,t){return null}function wx(){return IE().slots}function j3(){return IE().attrs}function IE(){const e=Su();return e.setupContext||(e.setupContext=ME(e))}function LE(e,t){const s=bn(e)?e.reduce((a,c)=>(a[c]={},a),{}):e;for(const a in t){const c=s[a];c?bn(c)||hs(c)?s[a]={type:c,default:t[a]}:c.default=t[a]:c===null&&(s[a]={default:t[a]})}return s}function OE(e,t){const s={};for(const a in e)t.includes(a)||Object.defineProperty(s,a,{enumerable:!0,get:()=>e[a]});return s}function RE(e){const t=Su();let s=e();return bp(),c3(s)&&(s=s.catch(a=>{throw Pp(t),a})),[s,()=>Pp(t)]}function cc(e,t,s){const a=arguments.length;return a===2?Dr(t)&&!bn(t)?vu(t)?Qi(e,null,[t]):Qi(e,t):Qi(e,null,t):(a>3?s=Array.prototype.slice.call(arguments,2):a===3&&vu(s)&&(s=[s]),Qi(e,t,s))}const U3=Symbol(""),$3=()=>pc(U3);function BE(){}function zE(e,t,s,a){const c=s[a];if(c&&G3(c,e))return c;const h=t();return h.memo=e.slice(),s[a]=h}function G3(e,t){const s=e.memo;if(s.length!=t.length)return!1;for(let a=0;a<s.length;a++)if(Em(s[a],t[a]))return!1;return Kf>0&&dc&&dc.push(e),!0}const V3="3.2.45",_P={createComponentInstance:wE,setupComponent:TE,renderComponentRoot:lv,setCurrentRenderingInstance:N1,isVNode:vu,normalizeVNode:zc},NE=_P,FE=null,jE=null,yP="http://www.w3.org/2000/svg",Ff=typeof document<"u"?document:null,RT=Ff&&Ff.createElement("template"),vP={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,a)=>{const c=t?Ff.createElementNS(yP,e):Ff.createElement(e,s?{is:s}:void 0);return e==="select"&&a&&a.multiple!=null&&c.setAttribute("multiple",a.multiple),c},createText:e=>Ff.createTextNode(e),createComment:e=>Ff.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ff.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,a,c,h){const m=s?s.previousSibling:t.lastChild;if(c&&(c===h||c.nextSibling))for(;t.insertBefore(c.cloneNode(!0),s),!(c===h||!(c=c.nextSibling)););else{RT.innerHTML=a?`<svg>${e}</svg>`:e;const n=RT.content;if(a){const x=n.firstChild;for(;x.firstChild;)n.appendChild(x.firstChild);n.removeChild(x)}t.insertBefore(n,s)}return[m?m.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}};function xP(e,t,s){const a=e._vtc;a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}function bP(e,t,s){const a=e.style,c=Ss(s);if(s&&!c){for(const h in s)Dw(a,h,s[h]);if(t&&!Ss(t))for(const h in t)s[h]==null&&Dw(a,h,"")}else{const h=a.display;c?t!==s&&(a.cssText=s):t&&e.removeAttribute("style"),"_vod"in e&&(a.display=h)}}const BT=/\s*!important$/;function Dw(e,t,s){if(bn(s))s.forEach(a=>Dw(e,t,a));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const a=wP(e,t);BT.test(s)?e.setProperty(Fc(a),s.replace(BT,""),"important"):e[a]=s}}const zT=["Webkit","Moz","ms"],$2={};function wP(e,t){const s=$2[t];if(s)return s;let a=Ma(t);if(a!=="filter"&&a in e)return $2[t]=a;a=Op(a);for(let c=0;c<zT.length;c++){const h=zT[c]+a;if(h in e)return $2[t]=h}return t}const NT="http://www.w3.org/1999/xlink";function SP(e,t,s,a,c){if(a&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(NT,t.slice(6,t.length)):e.setAttributeNS(NT,t,s);else{const h=U4(t);s==null||h&&!mC(s)?e.removeAttribute(t):e.setAttribute(t,h?"":s)}}function TP(e,t,s,a,c,h,m){if(t==="innerHTML"||t==="textContent"){a&&m(a,c,h),e[t]=s??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=s;const x=s??"";(e.value!==x||e.tagName==="OPTION")&&(e.value=x),s==null&&e.removeAttribute(t);return}let n=!1;if(s===""||s==null){const x=typeof e[t];x==="boolean"?s=mC(s):s==null&&x==="string"?(s="",n=!0):x==="number"&&(s=0,n=!0)}try{e[t]=s}catch{}n&&e.removeAttribute(t)}function hu(e,t,s,a){e.addEventListener(t,s,a)}function CP(e,t,s,a){e.removeEventListener(t,s,a)}function EP(e,t,s,a,c=null){const h=e._vei||(e._vei={}),m=h[t];if(a&&m)m.value=a;else{const[n,x]=MP(t);if(a){const z=h[t]=PP(a,c);hu(e,n,z,x)}else m&&(CP(e,n,m,x),h[t]=void 0)}}const FT=/(?:Once|Passive|Capture)$/;function MP(e){let t;if(FT.test(e)){t={};let a;for(;a=e.match(FT);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Fc(e.slice(2)),t]}let G2=0;const AP=Promise.resolve(),kP=()=>G2||(AP.then(()=>G2=0),G2=Date.now());function PP(e,t){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;uc(DP(a,s.value),t,5,[a])};return s.value=e,s.attached=kP(),s}function DP(e,t){if(bn(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(a=>c=>!c._stopped&&a&&a(c))}else return t}const jT=/^on[a-z]/,IP=(e,t,s,a,c=!1,h,m,n,x)=>{t==="class"?xP(e,a,c):t==="style"?bP(e,s,a):e0(t)?a3(t)||EP(e,t,s,a,m):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):LP(e,t,a,c))?TP(e,t,a,h,m,n,x):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),SP(e,t,a,c))};function LP(e,t,s,a){return a?!!(t==="innerHTML"||t==="textContent"||t in e&&jT.test(t)&&hs(s)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||jT.test(t)&&Ss(s)?!1:t in e}function H3(e,t){const s=$c(e);class a extends n_{constructor(h){super(s,h,t)}}return a.def=s,a}const UE=e=>H3(e,Y3),OP=typeof HTMLElement<"u"?HTMLElement:class{};class n_ extends OP{constructor(t,s={},a){super(),this._def=t,this._props=s,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&a?a(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Eh(()=>{this._connected||(Mv(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let a=0;a<this.attributes.length;a++)this._setAttr(this.attributes[a].name);new MutationObserver(a=>{for(const c of a)this._setAttr(c.attributeName)}).observe(this,{attributes:!0});const t=(a,c=!1)=>{const{props:h,styles:m}=a;let n;if(h&&!bn(h))for(const x in h){const z=h[x];(z===Number||z&&z.type===Number)&&(x in this._props&&(this._props[x]=_u(this._props[x])),(n||(n=Object.create(null)))[Ma(x)]=!0)}this._numberProps=n,c&&this._resolveProps(a),this._applyStyles(m),this._update()},s=this._def.__asyncLoader;s?s().then(a=>t(a,!0)):t(this._def)}_resolveProps(t){const{props:s}=t,a=bn(s)?s:Object.keys(s||{});for(const c of Object.keys(this))c[0]!=="_"&&a.includes(c)&&this._setProp(c,this[c],!0,!1);for(const c of a.map(Ma))Object.defineProperty(this,c,{get(){return this._getProp(c)},set(h){this._setProp(c,h)}})}_setAttr(t){let s=this.getAttribute(t);const a=Ma(t);this._numberProps&&this._numberProps[a]&&(s=_u(s)),this._setProp(a,s,!1)}_getProp(t){return this._props[t]}_setProp(t,s,a=!0,c=!0){s!==this._props[t]&&(this._props[t]=s,c&&this._instance&&this._update(),a&&(s===!0?this.setAttribute(Fc(t),""):typeof s=="string"||typeof s=="number"?this.setAttribute(Fc(t),s+""):s||this.removeAttribute(Fc(t))))}_update(){Mv(this._createVNode(),this.shadowRoot)}_createVNode(){const t=Qi(this._def,gr({},this._props));return this._instance||(t.ce=s=>{this._instance=s,s.isCE=!0;const a=(h,m)=>{this.dispatchEvent(new CustomEvent(h,{detail:m}))};s.emit=(h,...m)=>{a(h,m),Fc(h)!==h&&a(Fc(h),m)};let c=this;for(;c=c&&(c.parentNode||c.host);)if(c instanceof n_){s.parent=c._instance,s.provides=c._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(s=>{const a=document.createElement("style");a.textContent=s,this.shadowRoot.appendChild(a)})}}function $E(e="$style"){{const t=Su();if(!t)return Ar;const s=t.type.__cssModules;if(!s)return Ar;const a=s[e];return a||Ar}}function Tu(e){const t=Su();if(!t)return;const s=t.ut=(c=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(h=>Lw(h,c))},a=()=>{const c=e(t.proxy);Iw(t.subTree,c),s(c)};w3(a),Gc(()=>{const c=new MutationObserver(a);c.observe(t.subTree.el.parentNode,{childList:!0}),n0(()=>c.disconnect())})}function Iw(e,t){if(e.shapeFlag&128){const s=e.suspense;e=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{Iw(s.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Lw(e.el,t);else if(e.type===en)e.children.forEach(s=>Iw(s,t));else if(e.type===vp){let{el:s,anchor:a}=e;for(;s&&(Lw(s,t),s!==a);)s=s.nextSibling}}function Lw(e,t){if(e.nodeType===1){const s=e.style;for(const a in t)s.setProperty(`--${a}`,t[a])}}const lp="transition",v1="animation",s_=(e,{slots:t})=>cc(gx,VE(e),t);s_.displayName="Transition";const GE={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},RP=s_.props=gr({},gx.props,GE),If=(e,t=[])=>{bn(e)?e.forEach(s=>s(...t)):e&&e(...t)},UT=e=>e?bn(e)?e.some(t=>t.length>1):e.length>1:!1;function VE(e){const t={};for(const S in e)S in GE||(t[S]=e[S]);if(e.css===!1)return t;const{name:s="v",type:a,duration:c,enterFromClass:h=`${s}-enter-from`,enterActiveClass:m=`${s}-enter-active`,enterToClass:n=`${s}-enter-to`,appearFromClass:x=h,appearActiveClass:z=m,appearToClass:Y=n,leaveFromClass:O=`${s}-leave-from`,leaveActiveClass:V=`${s}-leave-active`,leaveToClass:q=`${s}-leave-to`}=e,L=BP(c),I=L&&L[0],H=L&&L[1],{onBeforeEnter:M,onEnter:C,onEnterCancelled:A,onLeave:U,onLeaveCancelled:$,onBeforeAppear:E=M,onAppear:ee=C,onAppearCancelled:Q=A}=t,N=(S,P,f)=>{hp(S,P?Y:n),hp(S,P?z:m),f&&f()},j=(S,P)=>{S._isLeaving=!1,hp(S,O),hp(S,q),hp(S,V),P&&P()},W=S=>(P,f)=>{const g=S?ee:C,b=()=>N(P,S,f);If(g,[P,b]),$T(()=>{hp(P,S?x:h),au(P,S?Y:n),UT(g)||GT(P,a,I,b)})};return gr(t,{onBeforeEnter(S){If(M,[S]),au(S,h),au(S,m)},onBeforeAppear(S){If(E,[S]),au(S,x),au(S,z)},onEnter:W(!1),onAppear:W(!0),onLeave(S,P){S._isLeaving=!0;const f=()=>j(S,P);au(S,O),WE(),au(S,V),$T(()=>{S._isLeaving&&(hp(S,O),au(S,q),UT(U)||GT(S,a,H,f))}),If(U,[S,f])},onEnterCancelled(S){N(S,!1),If(A,[S])},onAppearCancelled(S){N(S,!0),If(Q,[S])},onLeaveCancelled(S){j(S),If($,[S])}})}function BP(e){if(e==null)return null;if(Dr(e))return[V2(e.enter),V2(e.leave)];{const t=V2(e);return[t,t]}}function V2(e){return _u(e)}function au(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e._vtc||(e._vtc=new Set)).add(t)}function hp(e,t){t.split(/\s+/).forEach(a=>a&&e.classList.remove(a));const{_vtc:s}=e;s&&(s.delete(t),s.size||(e._vtc=void 0))}function $T(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let zP=0;function GT(e,t,s,a){const c=e._endId=++zP,h=()=>{c===e._endId&&a()};if(s)return setTimeout(h,s);const{type:m,timeout:n,propCount:x}=HE(e,t);if(!m)return a();const z=m+"end";let Y=0;const O=()=>{e.removeEventListener(z,V),h()},V=q=>{q.target===e&&++Y>=x&&O()};setTimeout(()=>{Y<x&&O()},n+1),e.addEventListener(z,V)}function HE(e,t){const s=window.getComputedStyle(e),a=L=>(s[L]||"").split(", "),c=a(`${lp}Delay`),h=a(`${lp}Duration`),m=VT(c,h),n=a(`${v1}Delay`),x=a(`${v1}Duration`),z=VT(n,x);let Y=null,O=0,V=0;t===lp?m>0&&(Y=lp,O=m,V=h.length):t===v1?z>0&&(Y=v1,O=z,V=x.length):(O=Math.max(m,z),Y=O>0?m>z?lp:v1:null,V=Y?Y===lp?h.length:x.length:0);const q=Y===lp&&/\b(transform|all)(,|$)/.test(a(`${lp}Property`).toString());return{type:Y,timeout:O,propCount:V,hasTransform:q}}function VT(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,a)=>HT(s)+HT(e[a])))}function HT(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function WE(){return document.body.offsetHeight}const YE=new WeakMap,qE=new WeakMap,NP={name:"TransitionGroup",props:gr({},RP,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=Su(),a=mx();let c,h;return i0(()=>{if(!c.length)return;const m=e.moveClass||`${e.name||"v"}-move`;if(!$P(c[0].el,s.vnode.el,m))return;c.forEach(FP),c.forEach(jP);const n=c.filter(UP);WE(),n.forEach(x=>{const z=x.el,Y=z.style;au(z,m),Y.transform=Y.webkitTransform=Y.transitionDuration="";const O=z._moveCb=V=>{V&&V.target!==z||(!V||/transform$/.test(V.propertyName))&&(z.removeEventListener("transitionend",O),z._moveCb=null,hp(z,m))};z.addEventListener("transitionend",O)})}),()=>{const m=Xs(e),n=VE(m);let x=m.tag||en;c=h,h=t.default?e_(t.default()):[];for(let z=0;z<h.length;z++){const Y=h[z];Y.key!=null&&Ap(Y,Zf(Y,n,a,s))}if(c)for(let z=0;z<c.length;z++){const Y=c[z];Ap(Y,Zf(Y,n,a,s)),YE.set(Y,Y.el.getBoundingClientRect())}return Qi(x,null,h)}}},XE=NP;function FP(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function jP(e){qE.set(e,e.el.getBoundingClientRect())}function UP(e){const t=YE.get(e),s=qE.get(e),a=t.left-s.left,c=t.top-s.top;if(a||c){const h=e.el.style;return h.transform=h.webkitTransform=`translate(${a}px,${c}px)`,h.transitionDuration="0s",e}}function $P(e,t,s){const a=e.cloneNode();e._vtc&&e._vtc.forEach(m=>{m.split(/\s+/).forEach(n=>n&&a.classList.remove(n))}),s.split(/\s+/).forEach(m=>m&&a.classList.add(m)),a.style.display="none";const c=t.nodeType===1?t:t.parentNode;c.appendChild(a);const{hasTransform:h}=HE(a);return c.removeChild(a),h}const Dp=e=>{const t=e.props["onUpdate:modelValue"]||!1;return bn(t)?s=>_m(t,s):t};function GP(e){e.target.composing=!0}function WT(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Aa={created(e,{modifiers:{lazy:t,trim:s,number:a}},c){e._assign=Dp(c);const h=a||c.props&&c.props.type==="number";hu(e,t?"change":"input",m=>{if(m.target.composing)return;let n=e.value;s&&(n=n.trim()),h&&(n=_u(n)),e._assign(n)}),s&&hu(e,"change",()=>{e.value=e.value.trim()}),t||(hu(e,"compositionstart",GP),hu(e,"compositionend",WT),hu(e,"change",WT))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:s,trim:a,number:c}},h){if(e._assign=Dp(h),e.composing||document.activeElement===e&&e.type!=="range"&&(s||a&&e.value.trim()===t||(c||e.type==="number")&&_u(e.value)===t))return;const m=t??"";e.value!==m&&(e.value=m)}},kh={deep:!0,created(e,t,s){e._assign=Dp(s),hu(e,"change",()=>{const a=e._modelValue,c=km(e),h=e.checked,m=e._assign;if(bn(a)){const n=Qv(a,c),x=n!==-1;if(h&&!x)m(a.concat(c));else if(!h&&x){const z=[...a];z.splice(n,1),m(z)}}else if(t0(a)){const n=new Set(a);h?n.add(c):n.delete(c),m(n)}else m(ZE(e,h))})},mounted:YT,beforeUpdate(e,t,s){e._assign=Dp(s),YT(e,t,s)}};function YT(e,{value:t,oldValue:s},a){e._modelValue=t,bn(t)?e.checked=Qv(t,a.props.value)>-1:t0(t)?e.checked=t.has(a.props.value):t!==s&&(e.checked=Sp(t,ZE(e,!0)))}const Sx={created(e,{value:t},s){e.checked=Sp(t,s.props.value),e._assign=Dp(s),hu(e,"change",()=>{e._assign(km(e))})},beforeUpdate(e,{value:t,oldValue:s},a){e._assign=Dp(a),t!==s&&(e.checked=Sp(t,a.props.value))}},$a={deep:!0,created(e,{value:t,modifiers:{number:s}},a){const c=t0(t);hu(e,"change",()=>{const h=Array.prototype.filter.call(e.options,m=>m.selected).map(m=>s?_u(km(m)):km(m));e._assign(e.multiple?c?new Set(h):h:h[0])}),e._assign=Dp(a)},mounted(e,{value:t}){qT(e,t)},beforeUpdate(e,t,s){e._assign=Dp(s)},updated(e,{value:t}){qT(e,t)}};function qT(e,t){const s=e.multiple;if(!(s&&!bn(t)&&!t0(t))){for(let a=0,c=e.options.length;a<c;a++){const h=e.options[a],m=km(h);if(s)bn(t)?h.selected=Qv(t,m)>-1:h.selected=t.has(m);else if(Sp(km(h),t)){e.selectedIndex!==a&&(e.selectedIndex=a);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function km(e){return"_value"in e?e._value:e.value}function ZE(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const W3={created(e,t,s){Yy(e,t,s,null,"created")},mounted(e,t,s){Yy(e,t,s,null,"mounted")},beforeUpdate(e,t,s,a){Yy(e,t,s,a,"beforeUpdate")},updated(e,t,s,a){Yy(e,t,s,a,"updated")}};function KE(e,t){switch(e){case"SELECT":return $a;case"TEXTAREA":return Aa;default:switch(t){case"checkbox":return kh;case"radio":return Sx;default:return Aa}}}function Yy(e,t,s,a,c){const m=KE(e.tagName,s.props&&s.props.type)[c];m&&m(e,t,s,a)}function VP(){Aa.getSSRProps=({value:e})=>({value:e}),Sx.getSSRProps=({value:e},t)=>{if(t.props&&Sp(t.props.value,e))return{checked:!0}},kh.getSSRProps=({value:e},t)=>{if(bn(e)){if(t.props&&Qv(e,t.props.value)>-1)return{checked:!0}}else if(t0(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},W3.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const s=KE(t.type.toUpperCase(),t.props&&t.props.type);if(s.getSSRProps)return s.getSSRProps(e,t)}}const HP=["ctrl","shift","alt","meta"],WP={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>HP.some(s=>e[`${s}Key`]&&!t.includes(s))},Rc=(e,t)=>(s,...a)=>{for(let c=0;c<t.length;c++){const h=WP[t[c]];if(h&&h(s,t))return}return e(s,...a)},YP={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},JE=(e,t)=>s=>{if(!("key"in s))return;const a=Fc(s.key);if(t.some(c=>c===a||YP[c]===a))return e(s)},r_={beforeMount(e,{value:t},{transition:s}){e._vod=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):x1(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:a}){!t!=!s&&(a?t?(a.beforeEnter(e),x1(e,!0),a.enter(e)):a.leave(e,()=>{x1(e,!1)}):x1(e,t))},beforeUnmount(e,{value:t}){x1(e,t)}};function x1(e,t){e.style.display=t?e._vod:"none"}function qP(){r_.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const QE=gr({patchProp:IP},vP);let k1,XT=!1;function eM(){return k1||(k1=R3(QE))}function tM(){return k1=XT?k1:B3(QE),XT=!0,k1}const Mv=(...e)=>{eM().render(...e)},Y3=(...e)=>{tM().hydrate(...e)},q3=(...e)=>{const t=eM().createApp(...e),{mount:s}=t;return t.mount=a=>{const c=nM(a);if(!c)return;const h=t._component;!hs(h)&&!h.render&&!h.template&&(h.template=c.innerHTML),c.innerHTML="";const m=s(c,!1,c instanceof SVGElement);return c instanceof Element&&(c.removeAttribute("v-cloak"),c.setAttribute("data-v-app","")),m},t},iM=(...e)=>{const t=tM().createApp(...e),{mount:s}=t;return t.mount=a=>{const c=nM(a);if(c)return s(c,!0,c instanceof SVGElement)},t};function nM(e){return Ss(e)?document.querySelector(e):e}let ZT=!1;const sM=()=>{ZT||(ZT=!0,VP(),qP())},XP=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:gx,Comment:Ga,EffectScope:tx,Fragment:en,KeepAlive:nE,ReactiveEffect:zm,Static:vp,Suspense:ZC,Teleport:vx,Text:kp,Transition:s_,TransitionGroup:XE,VueElement:n_,callWithAsyncErrorHandling:uc,callWithErrorHandling:Ah,camelize:Ma,capitalize:Op,cloneVNode:Wd,compatUtils:jE,computed:ts,createApp:q3,createBlock:ja,createCommentVNode:rn,createElementBlock:St,createElementVNode:Ne,createHydrationRenderer:B3,createPropsRestProxy:OE,createRenderer:R3,createSSRApp:iM,createSlots:I3,createStaticVNode:Sd,createTextVNode:mr,createVNode:Qi,customRef:UC,defineAsyncComponent:iE,defineComponent:$c,defineCustomElement:H3,defineEmits:kE,defineExpose:PE,defineProps:AE,defineSSRCustomElement:UE,get devtools(){return Nf},effect:CC,effectScope:vC,getCurrentInstance:Su,getCurrentScope:bC,getTransitionRawChildren:e_,guardReactiveProps:xp,h:cc,handleError:Rp,hydrate:Y3,initCustomFormatter:BE,initDirectivesForSSR:sM,inject:pc,isMemoSame:G3,isProxy:ax,isReactive:yp,isReadonly:Ep,isRef:Zo,isRuntimeOnly:CE,isShallow:Mm,isVNode:vu,markRaw:lx,mergeDefaults:LE,mergeProps:gd,nextTick:Eh,normalizeClass:Xn,normalizeProps:Nl,normalizeStyle:da,onActivated:S3,onBeforeMount:C3,onBeforeUnmount:Bp,onBeforeUpdate:i_,onDeactivated:T3,onErrorCaptured:k3,onMounted:Gc,onRenderTracked:A3,onRenderTriggered:M3,onScopeDispose:wC,onServerPrefetch:E3,onUnmounted:n0,onUpdated:i0,openBlock:yt,popScopeId:$l,provide:Mp,proxyRefs:dx,pushScopeId:Ul,queuePostFlushCb:ux,reactive:jm,readonly:rx,ref:ks,registerRuntimeCompiler:F3,render:Mv,renderList:Kn,renderSlot:Er,resolveComponent:Un,resolveDirective:yx,resolveDynamicComponent:oE,resolveFilter:FE,resolveTransitionHooks:Zf,setBlockTracking:Cv,setDevtoolsHook:v3,setTransitionHooks:Ap,shallowReactive:p3,shallowReadonly:zC,shallowRef:NC,ssrContextKey:U3,ssrUtils:NE,stop:EC,toDisplayString:Fi,toHandlerKey:Vf,toHandlers:lE,toRaw:Xs,toRef:_3,toRefs:g3,transformVNodeArgs:xE,triggerRef:jC,unref:Oi,useAttrs:j3,useCssModule:$E,useCssVars:Tu,useSSRContext:$3,useSlots:wx,useTransitionState:mx,vModelCheckbox:kh,vModelDynamic:W3,vModelRadio:Sx,vModelSelect:$a,vModelText:Aa,vShow:r_,version:V3,warn:GC,watch:Gr,watchEffect:JC,watchPostEffect:w3,watchSyncEffect:QC,withAsyncContext:RE,withCtx:To,withDefaults:DE,withDirectives:Os,withKeys:JE,withMemo:zE,withModifiers:Rc,withScopeId:qC},Symbol.toStringTag,{value:"Module"}));function X3(e){throw e}function rM(e){}function uo(e,t,s,a){const c=e,h=new SyntaxError(String(c));return h.code=e,h.loc=t,h}const j1=Symbol(""),P1=Symbol(""),Z3=Symbol(""),Av=Symbol(""),oM=Symbol(""),Jf=Symbol(""),aM=Symbol(""),lM=Symbol(""),K3=Symbol(""),J3=Symbol(""),o_=Symbol(""),Q3=Symbol(""),cM=Symbol(""),eS=Symbol(""),kv=Symbol(""),tS=Symbol(""),iS=Symbol(""),nS=Symbol(""),sS=Symbol(""),dM=Symbol(""),hM=Symbol(""),Tx=Symbol(""),Pv=Symbol(""),rS=Symbol(""),oS=Symbol(""),U1=Symbol(""),a_=Symbol(""),aS=Symbol(""),Ow=Symbol(""),ZP=Symbol(""),Rw=Symbol(""),Dv=Symbol(""),KP=Symbol(""),JP=Symbol(""),lS=Symbol(""),QP=Symbol(""),eD=Symbol(""),cS=Symbol(""),uM=Symbol(""),Pm={[j1]:"Fragment",[P1]:"Teleport",[Z3]:"Suspense",[Av]:"KeepAlive",[oM]:"BaseTransition",[Jf]:"openBlock",[aM]:"createBlock",[lM]:"createElementBlock",[K3]:"createVNode",[J3]:"createElementVNode",[o_]:"createCommentVNode",[Q3]:"createTextVNode",[cM]:"createStaticVNode",[eS]:"resolveComponent",[kv]:"resolveDynamicComponent",[tS]:"resolveDirective",[iS]:"resolveFilter",[nS]:"withDirectives",[sS]:"renderList",[dM]:"renderSlot",[hM]:"createSlots",[Tx]:"toDisplayString",[Pv]:"mergeProps",[rS]:"normalizeClass",[oS]:"normalizeStyle",[U1]:"normalizeProps",[a_]:"guardReactiveProps",[aS]:"toHandlers",[Ow]:"camelize",[ZP]:"capitalize",[Rw]:"toHandlerKey",[Dv]:"setBlockTracking",[KP]:"pushScopeId",[JP]:"popScopeId",[lS]:"withCtx",[QP]:"unref",[eD]:"isRef",[cS]:"withMemo",[uM]:"isMemoSame"};function tD(e){Object.getOwnPropertySymbols(e).forEach(t=>{Pm[t]=e[t]})}const Vc={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function iD(e,t=Vc){return{type:0,children:e,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function $1(e,t,s,a,c,h,m,n=!1,x=!1,z=!1,Y=Vc){return e&&(n?(e.helper(Jf),e.helper(Lm(e.inSSR,z))):e.helper(Im(e.inSSR,z)),m&&e.helper(nS)),{type:13,tag:t,props:s,children:a,patchFlag:c,dynamicProps:h,directives:m,isBlock:n,disableTracking:x,isComponent:z,loc:Y}}function l_(e,t=Vc){return{type:17,loc:t,elements:e}}function vd(e,t=Vc){return{type:15,loc:t,properties:e}}function Co(e,t){return{type:16,loc:Vc,key:Ss(e)?Ls(e,!0):e,value:t}}function Ls(e,t=!1,s=Vc,a=0){return{type:4,loc:s,content:e,isStatic:t,constType:t?3:a}}function Hd(e,t=Vc){return{type:8,loc:t,children:e}}function Xo(e,t=[],s=Vc){return{type:14,loc:s,callee:e,arguments:t}}function Dm(e,t=void 0,s=!1,a=!1,c=Vc){return{type:18,params:e,returns:t,newline:s,isSlot:a,loc:c}}function Bw(e,t,s,a=!0){return{type:19,test:e,consequent:t,alternate:s,newline:a,loc:Vc}}function nD(e,t,s=!1){return{type:20,index:e,value:t,isVNode:s,loc:Vc}}function sD(e){return{type:21,body:e,loc:Vc}}const hc=e=>e.type===4&&e.isStatic,pm=(e,t)=>e===t||e===Fc(t);function pM(e){if(pm(e,"Teleport"))return P1;if(pm(e,"Suspense"))return Z3;if(pm(e,"KeepAlive"))return Av;if(pm(e,"BaseTransition"))return oM}const rD=/^\d|[^\$\w]/,dS=e=>!rD.test(e),oD=/[A-Za-z_$\xA0-\uFFFF]/,aD=/[\.\?\w$\xA0-\uFFFF]/,lD=/\s+[.[]\s*|\s*[.[]\s+/g,cD=e=>{e=e.trim().replace(lD,m=>m.trim());let t=0,s=[],a=0,c=0,h=null;for(let m=0;m<e.length;m++){const n=e.charAt(m);switch(t){case 0:if(n==="[")s.push(t),t=1,a++;else if(n==="(")s.push(t),t=2,c++;else if(!(m===0?oD:aD).test(n))return!1;break;case 1:n==="'"||n==='"'||n==="`"?(s.push(t),t=3,h=n):n==="["?a++:n==="]"&&(--a||(t=s.pop()));break;case 2:if(n==="'"||n==='"'||n==="`")s.push(t),t=3,h=n;else if(n==="(")c++;else if(n===")"){if(m===e.length-1)return!1;--c||(t=s.pop())}break;case 3:n===h&&(t=s.pop(),h=null);break}}return!a&&!c},fM=cD;function mM(e,t,s){const c={source:e.source.slice(t,t+s),start:Iv(e.start,e.source,t),end:e.end};return s!=null&&(c.end=Iv(e.start,e.source,t+s)),c}function Iv(e,t,s=t.length){return Lv(gr({},e),t,s)}function Lv(e,t,s=t.length){let a=0,c=-1;for(let h=0;h<s;h++)t.charCodeAt(h)===10&&(a++,c=h);return e.offset+=s,e.line+=a,e.column=c===-1?e.column+s:s-c,e}function _d(e,t,s=!1){for(let a=0;a<e.props.length;a++){const c=e.props[a];if(c.type===7&&(s||c.exp)&&(Ss(t)?c.name===t:t.test(c.name)))return c}}function Cx(e,t,s=!1,a=!1){for(let c=0;c<e.props.length;c++){const h=e.props[c];if(h.type===6){if(s)continue;if(h.name===t&&(h.value||a))return h}else if(h.name==="bind"&&(h.exp||a)&&Uf(h.arg,t))return h}}function Uf(e,t){return!!(e&&hc(e)&&e.content===t)}function dD(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function H2(e){return e.type===5||e.type===2}function hD(e){return e.type===7&&e.name==="slot"}function Ov(e){return e.type===1&&e.tagType===3}function Rv(e){return e.type===1&&e.tagType===2}function Im(e,t){return e||t?K3:J3}function Lm(e,t){return e||t?aM:lM}const uD=new Set([U1,a_]);function gM(e,t=[]){if(e&&!Ss(e)&&e.type===14){const s=e.callee;if(!Ss(s)&&uD.has(s))return gM(e.arguments[0],t.concat(e))}return[e,t]}function Bv(e,t,s){let a,c=e.type===13?e.props:e.arguments[2],h=[],m;if(c&&!Ss(c)&&c.type===14){const n=gM(c);c=n[0],h=n[1],m=h[h.length-1]}if(c==null||Ss(c))a=vd([t]);else if(c.type===14){const n=c.arguments[0];!Ss(n)&&n.type===15?KT(t,n)||n.properties.unshift(t):c.callee===aS?a=Xo(s.helper(Pv),[vd([t]),c]):c.arguments.unshift(vd([t])),!a&&(a=c)}else c.type===15?(KT(t,c)||c.properties.unshift(t),a=c):(a=Xo(s.helper(Pv),[vd([t]),c]),m&&m.callee===a_&&(m=h[h.length-2]));e.type===13?m?m.arguments[0]=a:e.props=a:m?m.arguments[0]=a:e.arguments[2]=a}function KT(e,t){let s=!1;if(e.key.type===4){const a=e.key.content;s=t.properties.some(c=>c.key.type===4&&c.key.content===a)}return s}function G1(e,t){return`_${t}_${e.replace(/[^\w]/g,(s,a)=>s==="-"?"_":e.charCodeAt(a).toString())}`}function pD(e){return e.type===14&&e.callee===cS?e.arguments[1].returns:e}function hS(e,{helper:t,removeHelper:s,inSSR:a}){e.isBlock||(e.isBlock=!0,s(Im(a,e.isComponent)),t(Jf),t(Lm(a,e.isComponent)))}function JT(e,t){const s=t.options?t.options.compatConfig:t.compatConfig,a=s&&s[e];return e==="MODE"?a||3:a}function Yf(e,t){const s=JT("MODE",t),a=JT(e,t);return s===3?a===!0:a!==!1}function V1(e,t,s,...a){return Yf(e,t)}const fD=/&(gt|lt|amp|apos|quot);/g,mD={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},QT={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:av,isPreTag:av,isCustomElement:av,decodeEntities:e=>e.replace(fD,(t,s)=>mD[s]),onError:X3,onWarn:rM,comments:!1};function gD(e,t={}){const s=_D(e,t),a=jc(s);return iD(uS(s,0,[]),bd(s,a))}function _D(e,t){const s=gr({},QT);let a;for(a in t)s[a]=t[a]===void 0?QT[a]:t[a];return{options:s,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:s.onWarn}}function uS(e,t,s){const a=Ex(s),c=a?a.ns:0,h=[];for(;!ED(e,t,s);){const n=e.source;let x;if(t===0||t===1){if(!e.inVPre&&ll(n,e.options.delimiters[0]))x=TD(e,t);else if(t===0&&n[0]==="<")if(n.length===1)Mr(e,5,1);else if(n[1]==="!")ll(n,"<!--")?x=vD(e):ll(n,"<!DOCTYPE")?x=b1(e):ll(n,"<![CDATA[")?c!==0?x=yD(e,s):(Mr(e,1),x=b1(e)):(Mr(e,11),x=b1(e));else if(n[1]==="/")if(n.length===2)Mr(e,5,2);else if(n[2]===">"){Mr(e,14,2),ua(e,3);continue}else if(/[a-z]/i.test(n[2])){Mr(e,23),zw(e,1,a);continue}else Mr(e,12,2),x=b1(e);else/[a-z]/i.test(n[1])?(x=xD(e,s),Yf("COMPILER_NATIVE_TEMPLATE",e)&&x&&x.tag==="template"&&!x.props.some(z=>z.type===7&&_M(z.name))&&(x=x.children)):n[1]==="?"?(Mr(e,21,1),x=b1(e)):Mr(e,12,1)}if(x||(x=CD(e,t)),bn(x))for(let z=0;z<x.length;z++)e5(h,x[z]);else e5(h,x)}let m=!1;if(t!==2&&t!==1){const n=e.options.whitespace!=="preserve";for(let x=0;x<h.length;x++){const z=h[x];if(z.type===2)if(e.inPre)z.content=z.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test(z.content))n&&(z.content=z.content.replace(/[\t\r\n\f ]+/g," "));else{const Y=h[x-1],O=h[x+1];!Y||!O||n&&(Y.type===3&&O.type===3||Y.type===3&&O.type===1||Y.type===1&&O.type===3||Y.type===1&&O.type===1&&/[\r\n]/.test(z.content))?(m=!0,h[x]=null):z.content=" "}else z.type===3&&!e.options.comments&&(m=!0,h[x]=null)}if(e.inPre&&a&&e.options.isPreTag(a.tag)){const x=h[0];x&&x.type===2&&(x.content=x.content.replace(/^\r?\n/,""))}}return m?h.filter(Boolean):h}function e5(e,t){if(t.type===2){const s=Ex(e);if(s&&s.type===2&&s.loc.end.offset===t.loc.start.offset){s.content+=t.content,s.loc.end=t.loc.end,s.loc.source+=t.loc.source;return}}e.push(t)}function yD(e,t){ua(e,9);const s=uS(e,3,t);return e.source.length===0?Mr(e,6):ua(e,3),s}function vD(e){const t=jc(e);let s;const a=/--(\!)?>/.exec(e.source);if(!a)s=e.source.slice(4),ua(e,e.source.length),Mr(e,7);else{a.index<=3&&Mr(e,0),a[1]&&Mr(e,10),s=e.source.slice(4,a.index);const c=e.source.slice(0,a.index);let h=1,m=0;for(;(m=c.indexOf("<!--",h))!==-1;)ua(e,m-h+1),m+4<c.length&&Mr(e,16),h=m+1;ua(e,a.index+a[0].length-h+1)}return{type:3,content:s,loc:bd(e,t)}}function b1(e){const t=jc(e),s=e.source[1]==="?"?1:2;let a;const c=e.source.indexOf(">");return c===-1?(a=e.source.slice(s),ua(e,e.source.length)):(a=e.source.slice(s,c),ua(e,c+1)),{type:3,content:a,loc:bd(e,t)}}function xD(e,t){const s=e.inPre,a=e.inVPre,c=Ex(t),h=zw(e,0,c),m=e.inPre&&!s,n=e.inVPre&&!a;if(h.isSelfClosing||e.options.isVoidTag(h.tag))return m&&(e.inPre=!1),n&&(e.inVPre=!1),h;t.push(h);const x=e.options.getTextMode(h,c),z=uS(e,x,t);t.pop();{const Y=h.props.find(O=>O.type===6&&O.name==="inline-template");if(Y&&V1("COMPILER_INLINE_TEMPLATE",e,Y.loc)){const O=bd(e,h.loc.end);Y.value={type:2,content:O.source,loc:O}}}if(h.children=z,Nw(e.source,h.tag))zw(e,1,c);else if(Mr(e,24,0,h.loc.start),e.source.length===0&&h.tag.toLowerCase()==="script"){const Y=z[0];Y&&ll(Y.loc.source,"<!--")&&Mr(e,8)}return h.loc=bd(e,h.loc.start),m&&(e.inPre=!1),n&&(e.inVPre=!1),h}const _M=fc("if,else,else-if,for,slot");function zw(e,t,s){const a=jc(e),c=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),h=c[1],m=e.options.getNamespace(h,s);ua(e,c[0].length),H1(e);const n=jc(e),x=e.source;e.options.isPreTag(h)&&(e.inPre=!0);let z=t5(e,t);t===0&&!e.inVPre&&z.some(V=>V.type===7&&V.name==="pre")&&(e.inVPre=!0,gr(e,n),e.source=x,z=t5(e,t).filter(V=>V.name!=="v-pre"));let Y=!1;if(e.source.length===0?Mr(e,9):(Y=ll(e.source,"/>"),t===1&&Y&&Mr(e,4),ua(e,Y?2:1)),t===1)return;let O=0;return e.inVPre||(h==="slot"?O=2:h==="template"?z.some(V=>V.type===7&&_M(V.name))&&(O=3):bD(h,z,e)&&(O=1)),{type:1,ns:m,tag:h,tagType:O,props:z,isSelfClosing:Y,children:[],loc:bd(e,a),codegenNode:void 0}}function bD(e,t,s){const a=s.options;if(a.isCustomElement(e))return!1;if(e==="component"||/^[A-Z]/.test(e)||pM(e)||a.isBuiltInComponent&&a.isBuiltInComponent(e)||a.isNativeTag&&!a.isNativeTag(e))return!0;for(let c=0;c<t.length;c++){const h=t[c];if(h.type===6){if(h.name==="is"&&h.value){if(h.value.content.startsWith("vue:"))return!0;if(V1("COMPILER_IS_ON_ELEMENT",s,h.loc))return!0}}else{if(h.name==="is")return!0;if(h.name==="bind"&&Uf(h.arg,"is")&&V1("COMPILER_IS_ON_ELEMENT",s,h.loc))return!0}}}function t5(e,t){const s=[],a=new Set;for(;e.source.length>0&&!ll(e.source,">")&&!ll(e.source,"/>");){if(ll(e.source,"/")){Mr(e,22),ua(e,1),H1(e);continue}t===1&&Mr(e,3);const c=wD(e,a);c.type===6&&c.value&&c.name==="class"&&(c.value.content=c.value.content.replace(/\s+/g," ").trim()),t===0&&s.push(c),/^[^\t\r\n\f />]/.test(e.source)&&Mr(e,15),H1(e)}return s}function wD(e,t){const s=jc(e),c=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(c)&&Mr(e,2),t.add(c),c[0]==="="&&Mr(e,19);{const n=/["'<]/g;let x;for(;x=n.exec(c);)Mr(e,17,x.index)}ua(e,c.length);let h;/^[\t\r\n\f ]*=/.test(e.source)&&(H1(e),ua(e,1),H1(e),h=SD(e),h||Mr(e,13));const m=bd(e,s);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(c)){const n=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(c);let x=ll(c,"."),z=n[1]||(x||ll(c,":")?"bind":ll(c,"@")?"on":"slot"),Y;if(n[2]){const V=z==="slot",q=c.lastIndexOf(n[2]),L=bd(e,i5(e,s,q),i5(e,s,q+n[2].length+(V&&n[3]||"").length));let I=n[2],H=!0;I.startsWith("[")?(H=!1,I.endsWith("]")?I=I.slice(1,I.length-1):(Mr(e,27),I=I.slice(1))):V&&(I+=n[3]||""),Y={type:4,content:I,isStatic:H,constType:H?3:0,loc:L}}if(h&&h.isQuoted){const V=h.loc;V.start.offset++,V.start.column++,V.end=Iv(V.start,h.content),V.source=V.source.slice(1,-1)}const O=n[3]?n[3].slice(1).split("."):[];return x&&O.push("prop"),z==="bind"&&Y&&O.includes("sync")&&V1("COMPILER_V_BIND_SYNC",e,m,Y.loc.source)&&(z="model",O.splice(O.indexOf("sync"),1)),{type:7,name:z,exp:h&&{type:4,content:h.content,isStatic:!1,constType:0,loc:h.loc},arg:Y,modifiers:O,loc:m}}return!e.inVPre&&ll(c,"v-")&&Mr(e,26),{type:6,name:c,value:h&&{type:2,content:h.content,loc:h.loc},loc:m}}function SD(e){const t=jc(e);let s;const a=e.source[0],c=a==='"'||a==="'";if(c){ua(e,1);const h=e.source.indexOf(a);h===-1?s=D1(e,e.source.length,4):(s=D1(e,h,4),ua(e,1))}else{const h=/^[^\t\r\n\f >]+/.exec(e.source);if(!h)return;const m=/["'<=`]/g;let n;for(;n=m.exec(h[0]);)Mr(e,18,n.index);s=D1(e,h[0].length,4)}return{content:s,isQuoted:c,loc:bd(e,t)}}function TD(e,t){const[s,a]=e.options.delimiters,c=e.source.indexOf(a,s.length);if(c===-1){Mr(e,25);return}const h=jc(e);ua(e,s.length);const m=jc(e),n=jc(e),x=c-s.length,z=e.source.slice(0,x),Y=D1(e,x,t),O=Y.trim(),V=Y.indexOf(O);V>0&&Lv(m,z,V);const q=x-(Y.length-O.length-V);return Lv(n,z,q),ua(e,a.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:O,loc:bd(e,m,n)},loc:bd(e,h)}}function CD(e,t){const s=t===3?["]]>"]:["<",e.options.delimiters[0]];let a=e.source.length;for(let m=0;m<s.length;m++){const n=e.source.indexOf(s[m],1);n!==-1&&a>n&&(a=n)}const c=jc(e);return{type:2,content:D1(e,a,t),loc:bd(e,c)}}function D1(e,t,s){const a=e.source.slice(0,t);return ua(e,t),s===2||s===3||!a.includes("&")?a:e.options.decodeEntities(a,s===4)}function jc(e){const{column:t,line:s,offset:a}=e;return{column:t,line:s,offset:a}}function bd(e,t,s){return s=s||jc(e),{start:t,end:s,source:e.originalSource.slice(t.offset,s.offset)}}function Ex(e){return e[e.length-1]}function ll(e,t){return e.startsWith(t)}function ua(e,t){const{source:s}=e;Lv(e,s,t),e.source=s.slice(t)}function H1(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&ua(e,t[0].length)}function i5(e,t,s){return Iv(t,e.originalSource.slice(t.offset,s),s)}function Mr(e,t,s,a=jc(e)){s&&(a.offset+=s,a.column+=s),e.options.onError(uo(t,{start:a,end:a,source:""}))}function ED(e,t,s){const a=e.source;switch(t){case 0:if(ll(a,"</")){for(let c=s.length-1;c>=0;--c)if(Nw(a,s[c].tag))return!0}break;case 1:case 2:{const c=Ex(s);if(c&&Nw(a,c.tag))return!0;break}case 3:if(ll(a,"]]>"))return!0;break}return!a}function Nw(e,t){return ll(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function MD(e,t){dv(e,t,yM(e,e.children[0]))}function yM(e,t){const{children:s}=e;return s.length===1&&t.type===1&&!Rv(t)}function dv(e,t,s=!1){const{children:a}=e,c=a.length;let h=0;for(let m=0;m<a.length;m++){const n=a[m];if(n.type===1&&n.tagType===0){const x=s?0:xd(n,t);if(x>0){if(x>=2){n.codegenNode.patchFlag="-1",n.codegenNode=t.hoist(n.codegenNode),h++;continue}}else{const z=n.codegenNode;if(z.type===13){const Y=wM(z);if((!Y||Y===512||Y===1)&&xM(n,t)>=2){const O=bM(n);O&&(z.props=t.hoist(O))}z.dynamicProps&&(z.dynamicProps=t.hoist(z.dynamicProps))}}}if(n.type===1){const x=n.tagType===1;x&&t.scopes.vSlot++,dv(n,t),x&&t.scopes.vSlot--}else if(n.type===11)dv(n,t,n.children.length===1);else if(n.type===9)for(let x=0;x<n.branches.length;x++)dv(n.branches[x],t,n.branches[x].children.length===1)}h&&t.transformHoist&&t.transformHoist(a,t,e),h&&h===c&&e.type===1&&e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&bn(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(l_(e.codegenNode.children)))}function xd(e,t){const{constantCache:s}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const a=s.get(e);if(a!==void 0)return a;const c=e.codegenNode;if(c.type!==13||c.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject")return 0;if(wM(c))return s.set(e,0),0;{let n=3;const x=xM(e,t);if(x===0)return s.set(e,0),0;x<n&&(n=x);for(let z=0;z<e.children.length;z++){const Y=xd(e.children[z],t);if(Y===0)return s.set(e,0),0;Y<n&&(n=Y)}if(n>1)for(let z=0;z<e.props.length;z++){const Y=e.props[z];if(Y.type===7&&Y.name==="bind"&&Y.exp){const O=xd(Y.exp,t);if(O===0)return s.set(e,0),0;O<n&&(n=O)}}if(c.isBlock){for(let z=0;z<e.props.length;z++)if(e.props[z].type===7)return s.set(e,0),0;t.removeHelper(Jf),t.removeHelper(Lm(t.inSSR,c.isComponent)),c.isBlock=!1,t.helper(Im(t.inSSR,c.isComponent))}return s.set(e,n),n}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return xd(e.content,t);case 4:return e.constType;case 8:let m=3;for(let n=0;n<e.children.length;n++){const x=e.children[n];if(Ss(x)||Tp(x))continue;const z=xd(x,t);if(z===0)return 0;z<m&&(m=z)}return m;default:return 0}}const AD=new Set([rS,oS,U1,a_]);function vM(e,t){if(e.type===14&&!Ss(e.callee)&&AD.has(e.callee)){const s=e.arguments[0];if(s.type===4)return xd(s,t);if(s.type===14)return vM(s,t)}return 0}function xM(e,t){let s=3;const a=bM(e);if(a&&a.type===15){const{properties:c}=a;for(let h=0;h<c.length;h++){const{key:m,value:n}=c[h],x=xd(m,t);if(x===0)return x;x<s&&(s=x);let z;if(n.type===4?z=xd(n,t):n.type===14?z=vM(n,t):z=0,z===0)return z;z<s&&(s=z)}}return s}function bM(e){const t=e.codegenNode;if(t.type===13)return t.props}function wM(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function kD(e,{filename:t="",prefixIdentifiers:s=!1,hoistStatic:a=!1,cacheHandlers:c=!1,nodeTransforms:h=[],directiveTransforms:m={},transformHoist:n=null,isBuiltInComponent:x=jl,isCustomElement:z=jl,expressionPlugins:Y=[],scopeId:O=null,slotted:V=!0,ssr:q=!1,inSSR:L=!1,ssrCssVars:I="",bindingMetadata:H=Ar,inline:M=!1,isTS:C=!1,onError:A=X3,onWarn:U=rM,compatConfig:$}){const E=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),ee={selfName:E&&Op(Ma(E[1])),prefixIdentifiers:s,hoistStatic:a,cacheHandlers:c,nodeTransforms:h,directiveTransforms:m,transformHoist:n,isBuiltInComponent:x,isCustomElement:z,expressionPlugins:Y,scopeId:O,slotted:V,ssr:q,inSSR:L,ssrCssVars:I,bindingMetadata:H,inline:M,isTS:C,onError:A,onWarn:U,compatConfig:$,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(Q){const N=ee.helpers.get(Q)||0;return ee.helpers.set(Q,N+1),Q},removeHelper(Q){const N=ee.helpers.get(Q);if(N){const j=N-1;j?ee.helpers.set(Q,j):ee.helpers.delete(Q)}},helperString(Q){return`_${Pm[ee.helper(Q)]}`},replaceNode(Q){ee.parent.children[ee.childIndex]=ee.currentNode=Q},removeNode(Q){const N=ee.parent.children,j=Q?N.indexOf(Q):ee.currentNode?ee.childIndex:-1;!Q||Q===ee.currentNode?(ee.currentNode=null,ee.onNodeRemoved()):ee.childIndex>j&&(ee.childIndex--,ee.onNodeRemoved()),ee.parent.children.splice(j,1)},onNodeRemoved:()=>{},addIdentifiers(Q){},removeIdentifiers(Q){},hoist(Q){Ss(Q)&&(Q=Ls(Q)),ee.hoists.push(Q);const N=Ls(`_hoisted_${ee.hoists.length}`,!1,Q.loc,2);return N.hoisted=Q,N},cache(Q,N=!1){return nD(ee.cached++,Q,N)}};return ee.filters=new Set,ee}function PD(e,t){const s=kD(e,t);Mx(e,s),t.hoistStatic&&MD(e,s),t.ssr||DD(e,s),e.helpers=[...s.helpers.keys()],e.components=[...s.components],e.directives=[...s.directives],e.imports=s.imports,e.hoists=s.hoists,e.temps=s.temps,e.cached=s.cached,e.filters=[...s.filters]}function DD(e,t){const{helper:s}=t,{children:a}=e;if(a.length===1){const c=a[0];if(yM(e,c)&&c.codegenNode){const h=c.codegenNode;h.type===13&&hS(h,t),e.codegenNode=h}else e.codegenNode=c}else if(a.length>1){let c=64;e.codegenNode=$1(t,s(j1),void 0,e.children,c+"",void 0,void 0,!0,void 0,!1)}}function ID(e,t){let s=0;const a=()=>{s--};for(;s<e.children.length;s++){const c=e.children[s];Ss(c)||(t.parent=e,t.childIndex=s,t.onNodeRemoved=a,Mx(c,t))}}function Mx(e,t){t.currentNode=e;const{nodeTransforms:s}=t,a=[];for(let h=0;h<s.length;h++){const m=s[h](e,t);if(m&&(bn(m)?a.push(...m):a.push(m)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(o_);break;case 5:t.ssr||t.helper(Tx);break;case 9:for(let h=0;h<e.branches.length;h++)Mx(e.branches[h],t);break;case 10:case 11:case 1:case 0:ID(e,t);break}t.currentNode=e;let c=a.length;for(;c--;)a[c]()}function SM(e,t){const s=Ss(e)?a=>a===e:a=>e.test(a);return(a,c)=>{if(a.type===1){const{props:h}=a;if(a.tagType===3&&h.some(hD))return;const m=[];for(let n=0;n<h.length;n++){const x=h[n];if(x.type===7&&s(x.name)){h.splice(n,1),n--;const z=t(a,x,c);z&&m.push(z)}}return m}}}const Ax="/*#__PURE__*/",TM=e=>`${Pm[e]}: _${Pm[e]}`;function LD(e,{mode:t="function",prefixIdentifiers:s=t==="module",sourceMap:a=!1,filename:c="template.vue.html",scopeId:h=null,optimizeImports:m=!1,runtimeGlobalName:n="Vue",runtimeModuleName:x="vue",ssrRuntimeModuleName:z="vue/server-renderer",ssr:Y=!1,isTS:O=!1,inSSR:V=!1}){const q={mode:t,prefixIdentifiers:s,sourceMap:a,filename:c,scopeId:h,optimizeImports:m,runtimeGlobalName:n,runtimeModuleName:x,ssrRuntimeModuleName:z,ssr:Y,isTS:O,inSSR:V,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(I){return`_${Pm[I]}`},push(I,H){q.code+=I},indent(){L(++q.indentLevel)},deindent(I=!1){I?--q.indentLevel:L(--q.indentLevel)},newline(){L(q.indentLevel)}};function L(I){q.push(`
`+"  ".repeat(I))}return q}function OD(e,t={}){const s=LD(e,t);t.onContextCreated&&t.onContextCreated(s);const{mode:a,push:c,prefixIdentifiers:h,indent:m,deindent:n,newline:x,scopeId:z,ssr:Y}=s,O=e.helpers.length>0,V=!h&&a!=="module";RD(e,s);const L=Y?"ssrRender":"render",H=(Y?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(c(`function ${L}(${H}) {`),m(),V&&(c("with (_ctx) {"),m(),O&&(c(`const { ${e.helpers.map(TM).join(", ")} } = _Vue`),c(`
`),x())),e.components.length&&(W2(e.components,"component",s),(e.directives.length||e.temps>0)&&x()),e.directives.length&&(W2(e.directives,"directive",s),e.temps>0&&x()),e.filters&&e.filters.length&&(x(),W2(e.filters,"filter",s),x()),e.temps>0){c("let ");for(let M=0;M<e.temps;M++)c(`${M>0?", ":""}_temp${M}`)}return(e.components.length||e.directives.length||e.temps)&&(c(`
`),x()),Y||c("return "),e.codegenNode?cl(e.codegenNode,s):c("null"),V&&(n(),c("}")),n(),c("}"),{ast:e,code:s.code,preamble:"",map:s.map?s.map.toJSON():void 0}}function RD(e,t){const{ssr:s,prefixIdentifiers:a,push:c,newline:h,runtimeModuleName:m,runtimeGlobalName:n,ssrRuntimeModuleName:x}=t,z=n;if(e.helpers.length>0&&(c(`const _Vue = ${z}
`),e.hoists.length)){const Y=[K3,J3,o_,Q3,cM].filter(O=>e.helpers.includes(O)).map(TM).join(", ");c(`const { ${Y} } = _Vue
`)}BD(e.hoists,t),h(),c("return ")}function W2(e,t,{helper:s,push:a,newline:c,isTS:h}){const m=s(t==="filter"?iS:t==="component"?eS:tS);for(let n=0;n<e.length;n++){let x=e[n];const z=x.endsWith("__self");z&&(x=x.slice(0,-6)),a(`const ${G1(x,t)} = ${m}(${JSON.stringify(x)}${z?", true":""})${h?"!":""}`),n<e.length-1&&c()}}function BD(e,t){if(!e.length)return;t.pure=!0;const{push:s,newline:a,helper:c,scopeId:h,mode:m}=t;a();for(let n=0;n<e.length;n++){const x=e[n];x&&(s(`const _hoisted_${n+1} = `),cl(x,t),a())}t.pure=!1}function pS(e,t){const s=e.length>3||!1;t.push("["),s&&t.indent(),c_(e,t,s),s&&t.deindent(),t.push("]")}function c_(e,t,s=!1,a=!0){const{push:c,newline:h}=t;for(let m=0;m<e.length;m++){const n=e[m];Ss(n)?c(n):bn(n)?pS(n,t):cl(n,t),m<e.length-1&&(s?(a&&c(","),h()):a&&c(", "))}}function cl(e,t){if(Ss(e)){t.push(e);return}if(Tp(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:cl(e.codegenNode,t);break;case 2:zD(e,t);break;case 4:CM(e,t);break;case 5:ND(e,t);break;case 12:cl(e.codegenNode,t);break;case 8:EM(e,t);break;case 3:jD(e,t);break;case 13:UD(e,t);break;case 14:GD(e,t);break;case 15:VD(e,t);break;case 17:HD(e,t);break;case 18:WD(e,t);break;case 19:YD(e,t);break;case 20:qD(e,t);break;case 21:c_(e.body,t,!0,!1);break}}function zD(e,t){t.push(JSON.stringify(e.content),e)}function CM(e,t){const{content:s,isStatic:a}=e;t.push(a?JSON.stringify(s):s,e)}function ND(e,t){const{push:s,helper:a,pure:c}=t;c&&s(Ax),s(`${a(Tx)}(`),cl(e.content,t),s(")")}function EM(e,t){for(let s=0;s<e.children.length;s++){const a=e.children[s];Ss(a)?t.push(a):cl(a,t)}}function FD(e,t){const{push:s}=t;if(e.type===8)s("["),EM(e,t),s("]");else if(e.isStatic){const a=dS(e.content)?e.content:JSON.stringify(e.content);s(a,e)}else s(`[${e.content}]`,e)}function jD(e,t){const{push:s,helper:a,pure:c}=t;c&&s(Ax),s(`${a(o_)}(${JSON.stringify(e.content)})`,e)}function UD(e,t){const{push:s,helper:a,pure:c}=t,{tag:h,props:m,children:n,patchFlag:x,dynamicProps:z,directives:Y,isBlock:O,disableTracking:V,isComponent:q}=e;Y&&s(a(nS)+"("),O&&s(`(${a(Jf)}(${V?"true":""}), `),c&&s(Ax);const L=O?Lm(t.inSSR,q):Im(t.inSSR,q);s(a(L)+"(",e),c_($D([h,m,n,x,z]),t),s(")"),O&&s(")"),Y&&(s(", "),cl(Y,t),s(")"))}function $D(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(s=>s||"null")}function GD(e,t){const{push:s,helper:a,pure:c}=t,h=Ss(e.callee)?e.callee:a(e.callee);c&&s(Ax),s(h+"(",e),c_(e.arguments,t),s(")")}function VD(e,t){const{push:s,indent:a,deindent:c,newline:h}=t,{properties:m}=e;if(!m.length){s("{}",e);return}const n=m.length>1||!1;s(n?"{":"{ "),n&&a();for(let x=0;x<m.length;x++){const{key:z,value:Y}=m[x];FD(z,t),s(": "),cl(Y,t),x<m.length-1&&(s(","),h())}n&&c(),s(n?"}":" }")}function HD(e,t){pS(e.elements,t)}function WD(e,t){const{push:s,indent:a,deindent:c}=t,{params:h,returns:m,body:n,newline:x,isSlot:z}=e;z&&s(`_${Pm[lS]}(`),s("(",e),bn(h)?c_(h,t):h&&cl(h,t),s(") => "),(x||n)&&(s("{"),a()),m?(x&&s("return "),bn(m)?pS(m,t):cl(m,t)):n&&cl(n,t),(x||n)&&(c(),s("}")),z&&(e.isNonScopedSlot&&s(", undefined, true"),s(")"))}function YD(e,t){const{test:s,consequent:a,alternate:c,newline:h}=e,{push:m,indent:n,deindent:x,newline:z}=t;if(s.type===4){const O=!dS(s.content);O&&m("("),CM(s,t),O&&m(")")}else m("("),cl(s,t),m(")");h&&n(),t.indentLevel++,h||m(" "),m("? "),cl(a,t),t.indentLevel--,h&&z(),h||m(" "),m(": ");const Y=c.type===19;Y||t.indentLevel++,cl(c,t),Y||t.indentLevel--,h&&x(!0)}function qD(e,t){const{push:s,helper:a,indent:c,deindent:h,newline:m}=t;s(`_cache[${e.index}] || (`),e.isVNode&&(c(),s(`${a(Dv)}(-1),`),m()),s(`_cache[${e.index}] = `),cl(e.value,t),e.isVNode&&(s(","),m(),s(`${a(Dv)}(1),`),m(),s(`_cache[${e.index}]`),h()),s(")")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const XD=SM(/^(if|else|else-if)$/,(e,t,s)=>ZD(e,t,s,(a,c,h)=>{const m=s.parent.children;let n=m.indexOf(a),x=0;for(;n-->=0;){const z=m[n];z&&z.type===9&&(x+=z.branches.length)}return()=>{if(h)a.codegenNode=s5(c,x,s);else{const z=KD(a.codegenNode);z.alternate=s5(c,x+a.branches.length-1,s)}}}));function ZD(e,t,s,a){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const c=t.exp?t.exp.loc:e.loc;s.onError(uo(28,t.loc)),t.exp=Ls("true",!1,c)}if(t.name==="if"){const c=n5(e,t),h={type:9,loc:e.loc,branches:[c]};if(s.replaceNode(h),a)return a(h,c,!0)}else{const c=s.parent.children;let h=c.indexOf(e);for(;h-->=-1;){const m=c[h];if(m&&m.type===3){s.removeNode(m);continue}if(m&&m.type===2&&!m.content.trim().length){s.removeNode(m);continue}if(m&&m.type===9){t.name==="else-if"&&m.branches[m.branches.length-1].condition===void 0&&s.onError(uo(30,e.loc)),s.removeNode();const n=n5(e,t);m.branches.push(n);const x=a&&a(m,n,!1);Mx(n,s),x&&x(),s.currentNode=null}else s.onError(uo(30,e.loc));break}}}function n5(e,t){const s=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:s&&!_d(e,"for")?e.children:[e],userKey:Cx(e,"key"),isTemplateIf:s}}function s5(e,t,s){return e.condition?Bw(e.condition,r5(e,t,s),Xo(s.helper(o_),['""',"true"])):r5(e,t,s)}function r5(e,t,s){const{helper:a}=s,c=Co("key",Ls(`${t}`,!1,Vc,2)),{children:h}=e,m=h[0];if(h.length!==1||m.type!==1)if(h.length===1&&m.type===11){const x=m.codegenNode;return Bv(x,c,s),x}else{let x=64;return $1(s,a(j1),vd([c]),h,x+"",void 0,void 0,!0,!1,!1,e.loc)}else{const x=m.codegenNode,z=pD(x);return z.type===13&&hS(z,s),Bv(z,c,s),x}}function KD(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const JD=SM("for",(e,t,s)=>{const{helper:a,removeHelper:c}=s;return QD(e,t,s,h=>{const m=Xo(a(sS),[h.source]),n=Ov(e),x=_d(e,"memo"),z=Cx(e,"key"),Y=z&&(z.type===6?Ls(z.value.content,!0):z.exp),O=z?Co("key",Y):null,V=h.source.type===4&&h.source.constType>0,q=V?64:z?128:256;return h.codegenNode=$1(s,a(j1),void 0,m,q+"",void 0,void 0,!0,!V,!1,e.loc),()=>{let L;const{children:I}=h,H=I.length!==1||I[0].type!==1,M=Rv(e)?e:n&&e.children.length===1&&Rv(e.children[0])?e.children[0]:null;if(M?(L=M.codegenNode,n&&O&&Bv(L,O,s)):H?L=$1(s,a(j1),O?vd([O]):void 0,e.children,"64",void 0,void 0,!0,void 0,!1):(L=I[0].codegenNode,n&&O&&Bv(L,O,s),L.isBlock!==!V&&(L.isBlock?(c(Jf),c(Lm(s.inSSR,L.isComponent))):c(Im(s.inSSR,L.isComponent))),L.isBlock=!V,L.isBlock?(a(Jf),a(Lm(s.inSSR,L.isComponent))):a(Im(s.inSSR,L.isComponent))),x){const C=Dm(Fw(h.parseResult,[Ls("_cached")]));C.body=sD([Hd(["const _memo = (",x.exp,")"]),Hd(["if (_cached",...Y?[" && _cached.key === ",Y]:[],` && ${s.helperString(uM)}(_cached, _memo)) return _cached`]),Hd(["const _item = ",L]),Ls("_item.memo = _memo"),Ls("return _item")]),m.arguments.push(C,Ls("_cache"),Ls(String(s.cached++)))}else m.arguments.push(Dm(Fw(h.parseResult),L,!0))}})});function QD(e,t,s,a){if(!t.exp){s.onError(uo(31,t.loc));return}const c=MM(t.exp);if(!c){s.onError(uo(32,t.loc));return}const{addIdentifiers:h,removeIdentifiers:m,scopes:n}=s,{source:x,value:z,key:Y,index:O}=c,V={type:11,loc:t.loc,source:x,valueAlias:z,keyAlias:Y,objectIndexAlias:O,parseResult:c,children:Ov(e)?e.children:[e]};s.replaceNode(V),n.vFor++;const q=a&&a(V);return()=>{n.vFor--,q&&q()}}const eI=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,o5=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,tI=/^\(|\)$/g;function MM(e,t){const s=e.loc,a=e.content,c=a.match(eI);if(!c)return;const[,h,m]=c,n={source:qy(s,m.trim(),a.indexOf(m,h.length)),value:void 0,key:void 0,index:void 0};let x=h.trim().replace(tI,"").trim();const z=h.indexOf(x),Y=x.match(o5);if(Y){x=x.replace(o5,"").trim();const O=Y[1].trim();let V;if(O&&(V=a.indexOf(O,z+x.length),n.key=qy(s,O,V)),Y[2]){const q=Y[2].trim();q&&(n.index=qy(s,q,a.indexOf(q,n.key?V+O.length:z+x.length)))}}return x&&(n.value=qy(s,x,z)),n}function qy(e,t,s){return Ls(t,!1,mM(e,s,t.length))}function Fw({value:e,key:t,index:s},a=[]){return iI([e,t,s,...a])}function iI(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((s,a)=>s||Ls("_".repeat(a+1),!1))}const a5=Ls("undefined",!1),nI=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const s=_d(e,"slot");if(s)return s.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},sI=(e,t,s)=>Dm(e,t,!1,!0,t.length?t[0].loc:s);function rI(e,t,s=sI){t.helper(lS);const{children:a,loc:c}=e,h=[],m=[];let n=t.scopes.vSlot>0||t.scopes.vFor>0;const x=_d(e,"slot",!0);if(x){const{arg:H,exp:M}=x;H&&!hc(H)&&(n=!0),h.push(Co(H||Ls("default",!0),s(M,a,c)))}let z=!1,Y=!1;const O=[],V=new Set;let q=0;for(let H=0;H<a.length;H++){const M=a[H];let C;if(!Ov(M)||!(C=_d(M,"slot",!0))){M.type!==3&&O.push(M);continue}if(x){t.onError(uo(37,C.loc));break}z=!0;const{children:A,loc:U}=M,{arg:$=Ls("default",!0),exp:E,loc:ee}=C;let Q;hc($)?Q=$?$.content:"default":n=!0;const N=s(E,A,U);let j,W,S;if(j=_d(M,"if"))n=!0,m.push(Bw(j.exp,Xy($,N,q++),a5));else if(W=_d(M,/^else(-if)?$/,!0)){let P=H,f;for(;P--&&(f=a[P],f.type===3););if(f&&Ov(f)&&_d(f,"if")){a.splice(H,1),H--;let g=m[m.length-1];for(;g.alternate.type===19;)g=g.alternate;g.alternate=W.exp?Bw(W.exp,Xy($,N,q++),a5):Xy($,N,q++)}else t.onError(uo(30,W.loc))}else if(S=_d(M,"for")){n=!0;const P=S.parseResult||MM(S.exp);P?m.push(Xo(t.helper(sS),[P.source,Dm(Fw(P),Xy($,N),!0)])):t.onError(uo(32,S.loc))}else{if(Q){if(V.has(Q)){t.onError(uo(38,ee));continue}V.add(Q),Q==="default"&&(Y=!0)}h.push(Co($,N))}}if(!x){const H=(M,C)=>{const A=s(M,C,c);return t.compatConfig&&(A.isNonScopedSlot=!0),Co("default",A)};z?O.length&&O.some(M=>AM(M))&&(Y?t.onError(uo(39,O[0].loc)):h.push(H(void 0,O))):h.push(H(void 0,a))}const L=n?2:hv(e.children)?3:1;let I=vd(h.concat(Co("_",Ls(L+"",!1))),c);return m.length&&(I=Xo(t.helper(hM),[I,l_(m)])),{slots:I,hasDynamicSlots:n}}function Xy(e,t,s){const a=[Co("name",e),Co("fn",t)];return s!=null&&a.push(Co("key",Ls(String(s),!0))),vd(a)}function hv(e){for(let t=0;t<e.length;t++){const s=e[t];switch(s.type){case 1:if(s.tagType===2||hv(s.children))return!0;break;case 9:if(hv(s.branches))return!0;break;case 10:case 11:if(hv(s.children))return!0;break}}return!1}function AM(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():AM(e.content)}const kM=new WeakMap,oI=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:a,props:c}=e,h=e.tagType===1;let m=h?aI(e,t):`"${a}"`;const n=Dr(m)&&m.callee===kv;let x,z,Y,O=0,V,q,L,I=n||m===P1||m===Z3||!h&&(a==="svg"||a==="foreignObject");if(c.length>0){const H=PM(e,t,void 0,h,n);x=H.props,O=H.patchFlag,q=H.dynamicPropNames;const M=H.directives;L=M&&M.length?l_(M.map(C=>cI(C,t))):void 0,H.shouldUseBlock&&(I=!0)}if(e.children.length>0)if(m===Av&&(I=!0,O|=1024),h&&m!==P1&&m!==Av){const{slots:M,hasDynamicSlots:C}=rI(e,t);z=M,C&&(O|=1024)}else if(e.children.length===1&&m!==P1){const M=e.children[0],C=M.type,A=C===5||C===8;A&&xd(M,t)===0&&(O|=1),A||C===2?z=M:z=e.children}else z=e.children;O!==0&&(Y=String(O),q&&q.length&&(V=dI(q))),e.codegenNode=$1(t,m,x,z,Y,V,L,!!I,!1,h,e.loc)};function aI(e,t,s=!1){let{tag:a}=e;const c=jw(a),h=Cx(e,"is");if(h)if(c||Yf("COMPILER_IS_ON_ELEMENT",t)){const x=h.type===6?h.value&&Ls(h.value.content,!0):h.exp;if(x)return Xo(t.helper(kv),[x])}else h.type===6&&h.value.content.startsWith("vue:")&&(a=h.value.content.slice(4));const m=!c&&_d(e,"is");if(m&&m.exp)return Xo(t.helper(kv),[m.exp]);const n=pM(a)||t.isBuiltInComponent(a);return n?(s||t.helper(n),n):(t.helper(eS),t.components.add(a),G1(a,"component"))}function PM(e,t,s=e.props,a,c,h=!1){const{tag:m,loc:n,children:x}=e;let z=[];const Y=[],O=[],V=x.length>0;let q=!1,L=0,I=!1,H=!1,M=!1,C=!1,A=!1,U=!1;const $=[],E=N=>{z.length&&(Y.push(vd(l5(z),n)),z=[]),N&&Y.push(N)},ee=({key:N,value:j})=>{if(hc(N)){const W=N.content,S=e0(W);if(S&&(!a||c)&&W.toLowerCase()!=="onclick"&&W!=="onUpdate:modelValue"&&!Gf(W)&&(C=!0),S&&Gf(W)&&(U=!0),j.type===20||(j.type===4||j.type===8)&&xd(j,t)>0)return;W==="ref"?I=!0:W==="class"?H=!0:W==="style"?M=!0:W!=="key"&&!$.includes(W)&&$.push(W),a&&(W==="class"||W==="style")&&!$.includes(W)&&$.push(W)}else A=!0};for(let N=0;N<s.length;N++){const j=s[N];if(j.type===6){const{loc:W,name:S,value:P}=j;let f=!0;if(S==="ref"&&(I=!0,t.scopes.vFor>0&&z.push(Co(Ls("ref_for",!0),Ls("true")))),S==="is"&&(jw(m)||P&&P.content.startsWith("vue:")||Yf("COMPILER_IS_ON_ELEMENT",t)))continue;z.push(Co(Ls(S,!0,mM(W,0,S.length)),Ls(P?P.content:"",f,P?P.loc:W)))}else{const{name:W,arg:S,exp:P,loc:f}=j,g=W==="bind",b=W==="on";if(W==="slot"){a||t.onError(uo(40,f));continue}if(W==="once"||W==="memo"||W==="is"||g&&Uf(S,"is")&&(jw(m)||Yf("COMPILER_IS_ON_ELEMENT",t))||b&&h)continue;if((g&&Uf(S,"key")||b&&V&&Uf(S,"vue:before-update"))&&(q=!0),g&&Uf(S,"ref")&&t.scopes.vFor>0&&z.push(Co(Ls("ref_for",!0),Ls("true"))),!S&&(g||b)){if(A=!0,P)if(g){if(E(),Yf("COMPILER_V_BIND_OBJECT_ORDER",t)){Y.unshift(P);continue}Y.push(P)}else E({type:14,loc:f,callee:t.helper(aS),arguments:a?[P]:[P,"true"]});else t.onError(uo(g?34:35,f));continue}const D=t.directiveTransforms[W];if(D){const{props:X,needRuntime:te}=D(j,e,t);!h&&X.forEach(ee),b&&S&&!hc(S)?E(vd(X,n)):z.push(...X),te&&(O.push(j),Tp(te)&&kM.set(j,te))}else W4(W)||(O.push(j),V&&(q=!0))}}let Q;if(Y.length?(E(),Y.length>1?Q=Xo(t.helper(Pv),Y,n):Q=Y[0]):z.length&&(Q=vd(l5(z),n)),A?L|=16:(H&&!a&&(L|=2),M&&!a&&(L|=4),$.length&&(L|=8),C&&(L|=32)),!q&&(L===0||L===32)&&(I||U||O.length>0)&&(L|=512),!t.inSSR&&Q)switch(Q.type){case 15:let N=-1,j=-1,W=!1;for(let f=0;f<Q.properties.length;f++){const g=Q.properties[f].key;hc(g)?g.content==="class"?N=f:g.content==="style"&&(j=f):g.isHandlerKey||(W=!0)}const S=Q.properties[N],P=Q.properties[j];W?Q=Xo(t.helper(U1),[Q]):(S&&!hc(S.value)&&(S.value=Xo(t.helper(rS),[S.value])),P&&(M||P.value.type===4&&P.value.content.trim()[0]==="["||P.value.type===17)&&(P.value=Xo(t.helper(oS),[P.value])));break;case 14:break;default:Q=Xo(t.helper(U1),[Xo(t.helper(a_),[Q])]);break}return{props:Q,directives:O,patchFlag:L,dynamicPropNames:$,shouldUseBlock:q}}function l5(e){const t=new Map,s=[];for(let a=0;a<e.length;a++){const c=e[a];if(c.key.type===8||!c.key.isStatic){s.push(c);continue}const h=c.key.content,m=t.get(h);m?(h==="style"||h==="class"||e0(h))&&lI(m,c):(t.set(h,c),s.push(c))}return s}function lI(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=l_([e.value,t.value],e.loc)}function cI(e,t){const s=[],a=kM.get(e);a?s.push(t.helperString(a)):(t.helper(tS),t.directives.add(e.name),s.push(G1(e.name,"directive")));const{loc:c}=e;if(e.exp&&s.push(e.exp),e.arg&&(e.exp||s.push("void 0"),s.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||s.push("void 0"),s.push("void 0"));const h=Ls("true",!1,c);s.push(vd(e.modifiers.map(m=>Co(m,h)),c))}return l_(s,e.loc)}function dI(e){let t="[";for(let s=0,a=e.length;s<a;s++)t+=JSON.stringify(e[s]),s<a-1&&(t+=", ");return t+"]"}function jw(e){return e==="component"||e==="Component"}const hI=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},uI=/-(\w)/g,c5=hI(e=>e.replace(uI,(t,s)=>s?s.toUpperCase():"")),pI=(e,t)=>{if(Rv(e)){const{children:s,loc:a}=e,{slotName:c,slotProps:h}=fI(e,t),m=[t.prefixIdentifiers?"_ctx.$slots":"$slots",c,"{}","undefined","true"];let n=2;h&&(m[2]=h,n=3),s.length&&(m[3]=Dm([],s,!1,!1,a),n=4),t.scopeId&&!t.slotted&&(n=5),m.splice(n),e.codegenNode=Xo(t.helper(dM),m,a)}};function fI(e,t){let s='"default"',a;const c=[];for(let h=0;h<e.props.length;h++){const m=e.props[h];m.type===6?m.value&&(m.name==="name"?s=JSON.stringify(m.value.content):(m.name=c5(m.name),c.push(m))):m.name==="bind"&&Uf(m.arg,"name")?m.exp&&(s=m.exp):(m.name==="bind"&&m.arg&&hc(m.arg)&&(m.arg.content=c5(m.arg.content)),c.push(m))}if(c.length>0){const{props:h,directives:m}=PM(e,t,c,!1,!1);a=h,m.length&&t.onError(uo(36,m[0].loc))}return{slotName:s,slotProps:a}}const mI=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,DM=(e,t,s,a)=>{const{loc:c,modifiers:h,arg:m}=e;!e.exp&&!h.length&&s.onError(uo(35,c));let n;if(m.type===4)if(m.isStatic){let O=m.content;O.startsWith("vue:")&&(O=`vnode-${O.slice(4)}`);const V=t.tagType!==0||O.startsWith("vnode")||!/[A-Z]/.test(O)?Vf(Ma(O)):`on:${O}`;n=Ls(V,!0,m.loc)}else n=Hd([`${s.helperString(Rw)}(`,m,")"]);else n=m,n.children.unshift(`${s.helperString(Rw)}(`),n.children.push(")");let x=e.exp;x&&!x.content.trim()&&(x=void 0);let z=s.cacheHandlers&&!x&&!s.inVOnce;if(x){const O=fM(x.content),V=!(O||mI.test(x.content)),q=x.content.includes(";");(V||z&&O)&&(x=Hd([`${V?"$event":"(...args)"} => ${q?"{":"("}`,x,q?"}":")"]))}let Y={props:[Co(n,x||Ls("() => {}",!1,c))]};return a&&(Y=a(Y)),z&&(Y.props[0].value=s.cache(Y.props[0].value)),Y.props.forEach(O=>O.key.isHandlerKey=!0),Y},gI=(e,t,s)=>{const{exp:a,modifiers:c,loc:h}=e,m=e.arg;return m.type!==4?(m.children.unshift("("),m.children.push(') || ""')):m.isStatic||(m.content=`${m.content} || ""`),c.includes("camel")&&(m.type===4?m.isStatic?m.content=Ma(m.content):m.content=`${s.helperString(Ow)}(${m.content})`:(m.children.unshift(`${s.helperString(Ow)}(`),m.children.push(")"))),s.inSSR||(c.includes("prop")&&d5(m,"."),c.includes("attr")&&d5(m,"^")),!a||a.type===4&&!a.content.trim()?(s.onError(uo(34,h)),{props:[Co(m,Ls("",!0,h))]}):{props:[Co(m,a)]}},d5=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},_I=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const s=e.children;let a,c=!1;for(let h=0;h<s.length;h++){const m=s[h];if(H2(m)){c=!0;for(let n=h+1;n<s.length;n++){const x=s[n];if(H2(x))a||(a=s[h]=Hd([m],m.loc)),a.children.push(" + ",x),s.splice(n,1),n--;else{a=void 0;break}}}}if(!(!c||s.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(h=>h.type===7&&!t.directiveTransforms[h.name])&&e.tag!=="template")))for(let h=0;h<s.length;h++){const m=s[h];if(H2(m)||m.type===8){const n=[];(m.type!==2||m.content!==" ")&&n.push(m),!t.ssr&&xd(m,t)===0&&n.push("1"),s[h]={type:12,content:m,loc:m.loc,codegenNode:Xo(t.helper(Q3),n)}}}}},h5=new WeakSet,yI=(e,t)=>{if(e.type===1&&_d(e,"once",!0))return h5.has(e)||t.inVOnce?void 0:(h5.add(e),t.inVOnce=!0,t.helper(Dv),()=>{t.inVOnce=!1;const s=t.currentNode;s.codegenNode&&(s.codegenNode=t.cache(s.codegenNode,!0))})},IM=(e,t,s)=>{const{exp:a,arg:c}=e;if(!a)return s.onError(uo(41,e.loc)),Zy();const h=a.loc.source,m=a.type===4?a.content:h,n=s.bindingMetadata[h];if(n==="props"||n==="props-aliased")return s.onError(uo(44,a.loc)),Zy();const x=!1;if(!m.trim()||!fM(m)&&!x)return s.onError(uo(42,a.loc)),Zy();const z=c||Ls("modelValue",!0),Y=c?hc(c)?`onUpdate:${c.content}`:Hd(['"onUpdate:" + ',c]):"onUpdate:modelValue";let O;const V=s.isTS?"($event: any)":"$event";O=Hd([`${V} => ((`,a,") = $event)"]);const q=[Co(z,e.exp),Co(Y,O)];if(e.modifiers.length&&t.tagType===1){const L=e.modifiers.map(H=>(dS(H)?H:JSON.stringify(H))+": true").join(", "),I=c?hc(c)?`${c.content}Modifiers`:Hd([c,' + "Modifiers"']):"modelModifiers";q.push(Co(I,Ls(`{ ${L} }`,!1,e.loc,2)))}return Zy(q)};function Zy(e=[]){return{props:e}}const vI=/[\w).+\-_$\]]/,xI=(e,t)=>{Yf("COMPILER_FILTER",t)&&(e.type===5&&zv(e.content,t),e.type===1&&e.props.forEach(s=>{s.type===7&&s.name!=="for"&&s.exp&&zv(s.exp,t)}))};function zv(e,t){if(e.type===4)u5(e,t);else for(let s=0;s<e.children.length;s++){const a=e.children[s];typeof a=="object"&&(a.type===4?u5(a,t):a.type===8?zv(e,t):a.type===5&&zv(a.content,t))}}function u5(e,t){const s=e.content;let a=!1,c=!1,h=!1,m=!1,n=0,x=0,z=0,Y=0,O,V,q,L,I=[];for(q=0;q<s.length;q++)if(V=O,O=s.charCodeAt(q),a)O===39&&V!==92&&(a=!1);else if(c)O===34&&V!==92&&(c=!1);else if(h)O===96&&V!==92&&(h=!1);else if(m)O===47&&V!==92&&(m=!1);else if(O===124&&s.charCodeAt(q+1)!==124&&s.charCodeAt(q-1)!==124&&!n&&!x&&!z)L===void 0?(Y=q+1,L=s.slice(0,q).trim()):H();else{switch(O){case 34:c=!0;break;case 39:a=!0;break;case 96:h=!0;break;case 40:z++;break;case 41:z--;break;case 91:x++;break;case 93:x--;break;case 123:n++;break;case 125:n--;break}if(O===47){let M=q-1,C;for(;M>=0&&(C=s.charAt(M),C===" ");M--);(!C||!vI.test(C))&&(m=!0)}}L===void 0?L=s.slice(0,q).trim():Y!==0&&H();function H(){I.push(s.slice(Y,q).trim()),Y=q+1}if(I.length){for(q=0;q<I.length;q++)L=bI(L,I[q],t);e.content=L}}function bI(e,t,s){s.helper(iS);const a=t.indexOf("(");if(a<0)return s.filters.add(t),`${G1(t,"filter")}(${e})`;{const c=t.slice(0,a),h=t.slice(a+1);return s.filters.add(c),`${G1(c,"filter")}(${e}${h!==")"?","+h:h}`}}const p5=new WeakSet,wI=(e,t)=>{if(e.type===1){const s=_d(e,"memo");return!s||p5.has(e)?void 0:(p5.add(e),()=>{const a=e.codegenNode||t.currentNode.codegenNode;a&&a.type===13&&(e.tagType!==1&&hS(a,t),e.codegenNode=Xo(t.helper(cS),[s.exp,Dm(void 0,a),"_cache",String(t.cached++)]))})}};function SI(e){return[[yI,XD,wI,JD,xI,pI,oI,nI,_I],{on:DM,bind:gI,model:IM}]}function TI(e,t={}){const s=t.onError||X3,a=t.mode==="module";t.prefixIdentifiers===!0?s(uo(47)):a&&s(uo(48));const c=!1;t.cacheHandlers&&s(uo(49)),t.scopeId&&!a&&s(uo(50));const h=Ss(e)?gD(e,t):e,[m,n]=SI();return PD(h,gr({},t,{prefixIdentifiers:c,nodeTransforms:[...m,...t.nodeTransforms||[]],directiveTransforms:gr({},n,t.directiveTransforms||{})})),OD(h,gr({},t,{prefixIdentifiers:c}))}const CI=()=>({props:[]}),LM=Symbol(""),OM=Symbol(""),RM=Symbol(""),BM=Symbol(""),Uw=Symbol(""),zM=Symbol(""),NM=Symbol(""),FM=Symbol(""),jM=Symbol(""),UM=Symbol("");tD({[LM]:"vModelRadio",[OM]:"vModelCheckbox",[RM]:"vModelText",[BM]:"vModelSelect",[Uw]:"vModelDynamic",[zM]:"withModifiers",[NM]:"withKeys",[FM]:"vShow",[jM]:"Transition",[UM]:"TransitionGroup"});let dm;function EI(e,t=!1){return dm||(dm=document.createElement("div")),t?(dm.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,dm.children[0].getAttribute("foo")):(dm.innerHTML=e,dm.textContent)}const MI=fc("style,iframe,script,noscript",!0),AI={isVoidTag:F4,isNativeTag:e=>z4(e)||N4(e),isPreTag:e=>e==="pre",decodeEntities:EI,isBuiltInComponent:e=>{if(pm(e,"Transition"))return jM;if(pm(e,"TransitionGroup"))return UM},getNamespace(e,t){let s=t?t.ns:0;if(t&&s===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(a=>a.type===6&&a.name==="encoding"&&a.value!=null&&(a.value.content==="text/html"||a.value.content==="application/xhtml+xml"))&&(s=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(s=0);else t&&s===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(s=0);if(s===0){if(e==="svg")return 1;if(e==="math")return 2}return s},getTextMode({tag:e,ns:t}){if(t===0){if(e==="textarea"||e==="title")return 1;if(MI(e))return 2}return 0}},kI=e=>{e.type===1&&e.props.forEach((t,s)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[s]={type:7,name:"bind",arg:Ls("style",!0,t.loc),exp:PI(t.value.content,t.loc),modifiers:[],loc:t.loc})})},PI=(e,t)=>{const s=fC(e);return Ls(JSON.stringify(s),!1,t,3)};function mu(e,t){return uo(e,t)}const DI=(e,t,s)=>{const{exp:a,loc:c}=e;return a||s.onError(mu(51,c)),t.children.length&&(s.onError(mu(52,c)),t.children.length=0),{props:[Co(Ls("innerHTML",!0,c),a||Ls("",!0))]}},II=(e,t,s)=>{const{exp:a,loc:c}=e;return a||s.onError(mu(53,c)),t.children.length&&(s.onError(mu(54,c)),t.children.length=0),{props:[Co(Ls("textContent",!0),a?xd(a,s)>0?a:Xo(s.helperString(Tx),[a],c):Ls("",!0))]}},LI=(e,t,s)=>{const a=IM(e,t,s);if(!a.props.length||t.tagType===1)return a;e.arg&&s.onError(mu(56,e.arg.loc));const{tag:c}=t,h=s.isCustomElement(c);if(c==="input"||c==="textarea"||c==="select"||h){let m=RM,n=!1;if(c==="input"||h){const x=Cx(t,"type");if(x){if(x.type===7)m=Uw;else if(x.value)switch(x.value.content){case"radio":m=LM;break;case"checkbox":m=OM;break;case"file":n=!0,s.onError(mu(57,e.loc));break}}else dD(t)&&(m=Uw)}else c==="select"&&(m=BM);n||(a.needRuntime=s.helper(m))}else s.onError(mu(55,e.loc));return a.props=a.props.filter(m=>!(m.key.type===4&&m.key.content==="modelValue")),a},OI=fc("passive,once,capture"),RI=fc("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),BI=fc("left,right"),$M=fc("onkeyup,onkeydown,onkeypress",!0),zI=(e,t,s,a)=>{const c=[],h=[],m=[];for(let n=0;n<t.length;n++){const x=t[n];x==="native"&&V1("COMPILER_V_ON_NATIVE",s)||OI(x)?m.push(x):BI(x)?hc(e)?$M(e.content)?c.push(x):h.push(x):(c.push(x),h.push(x)):RI(x)?h.push(x):c.push(x)}return{keyModifiers:c,nonKeyModifiers:h,eventOptionModifiers:m}},f5=(e,t)=>hc(e)&&e.content.toLowerCase()==="onclick"?Ls(t,!0):e.type!==4?Hd(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,NI=(e,t,s)=>DM(e,t,s,a=>{const{modifiers:c}=e;if(!c.length)return a;let{key:h,value:m}=a.props[0];const{keyModifiers:n,nonKeyModifiers:x,eventOptionModifiers:z}=zI(h,c,s,e.loc);if(x.includes("right")&&(h=f5(h,"onContextmenu")),x.includes("middle")&&(h=f5(h,"onMouseup")),x.length&&(m=Xo(s.helper(zM),[m,JSON.stringify(x)])),n.length&&(!hc(h)||$M(h.content))&&(m=Xo(s.helper(NM),[m,JSON.stringify(n)])),z.length){const Y=z.map(Op).join("");h=hc(h)?Ls(`${h.content}${Y}`,!0):Hd(["(",h,`) + "${Y}"`])}return{props:[Co(h,m)]}}),FI=(e,t,s)=>{const{exp:a,loc:c}=e;return a||s.onError(mu(59,c)),{props:[],needRuntime:s.helper(FM)}},jI=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&(t.onError(mu(61,e.loc)),t.removeNode())},UI=[kI],$I={cloak:CI,html:DI,text:II,model:LI,on:NI,show:FI};function GI(e,t={}){return TI(e,gr({},AI,t,{nodeTransforms:[jI,...UI,...t.nodeTransforms||[]],directiveTransforms:gr({},$I,t.directiveTransforms||{}),transformHoist:null}))}const m5=Object.create(null);function GM(e,t){if(!Ss(e))if(e.nodeType)e=e.innerHTML;else return jl;const s=e,a=m5[s];if(a)return a;if(e[0]==="#"){const n=document.querySelector(e);e=n?n.innerHTML:""}const c=gr({hoistStatic:!0,onError:void 0,onWarn:jl},t);!c.isCustomElement&&typeof customElements<"u"&&(c.isCustomElement=n=>!!customElements.get(n));const{code:h}=GI(e,c),m=new Function("Vue",h)(XP);return m._rc=!0,m5[s]=m}F3(GM);const VI=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:gx,Comment:Ga,EffectScope:tx,Fragment:en,KeepAlive:nE,ReactiveEffect:zm,Static:vp,Suspense:ZC,Teleport:vx,Text:kp,Transition:s_,TransitionGroup:XE,VueElement:n_,callWithAsyncErrorHandling:uc,callWithErrorHandling:Ah,camelize:Ma,capitalize:Op,cloneVNode:Wd,compatUtils:jE,compile:GM,computed:ts,createApp:q3,createBlock:ja,createCommentVNode:rn,createElementBlock:St,createElementVNode:Ne,createHydrationRenderer:B3,createPropsRestProxy:OE,createRenderer:R3,createSSRApp:iM,createSlots:I3,createStaticVNode:Sd,createTextVNode:mr,createVNode:Qi,customRef:UC,defineAsyncComponent:iE,defineComponent:$c,defineCustomElement:H3,defineEmits:kE,defineExpose:PE,defineProps:AE,defineSSRCustomElement:UE,get devtools(){return Nf},effect:CC,effectScope:vC,getCurrentInstance:Su,getCurrentScope:bC,getTransitionRawChildren:e_,guardReactiveProps:xp,h:cc,handleError:Rp,hydrate:Y3,initCustomFormatter:BE,initDirectivesForSSR:sM,inject:pc,isMemoSame:G3,isProxy:ax,isReactive:yp,isReadonly:Ep,isRef:Zo,isRuntimeOnly:CE,isShallow:Mm,isVNode:vu,markRaw:lx,mergeDefaults:LE,mergeProps:gd,nextTick:Eh,normalizeClass:Xn,normalizeProps:Nl,normalizeStyle:da,onActivated:S3,onBeforeMount:C3,onBeforeUnmount:Bp,onBeforeUpdate:i_,onDeactivated:T3,onErrorCaptured:k3,onMounted:Gc,onRenderTracked:A3,onRenderTriggered:M3,onScopeDispose:wC,onServerPrefetch:E3,onUnmounted:n0,onUpdated:i0,openBlock:yt,popScopeId:$l,provide:Mp,proxyRefs:dx,pushScopeId:Ul,queuePostFlushCb:ux,reactive:jm,readonly:rx,ref:ks,registerRuntimeCompiler:F3,render:Mv,renderList:Kn,renderSlot:Er,resolveComponent:Un,resolveDirective:yx,resolveDynamicComponent:oE,resolveFilter:FE,resolveTransitionHooks:Zf,setBlockTracking:Cv,setDevtoolsHook:v3,setTransitionHooks:Ap,shallowReactive:p3,shallowReadonly:zC,shallowRef:NC,ssrContextKey:U3,ssrUtils:NE,stop:EC,toDisplayString:Fi,toHandlerKey:Vf,toHandlers:lE,toRaw:Xs,toRef:_3,toRefs:g3,transformVNodeArgs:xE,triggerRef:jC,unref:Oi,useAttrs:j3,useCssModule:$E,useCssVars:Tu,useSSRContext:$3,useSlots:wx,useTransitionState:mx,vModelCheckbox:kh,vModelDynamic:W3,vModelRadio:Sx,vModelSelect:$a,vModelText:Aa,vShow:r_,version:V3,warn:GC,watch:Gr,watchEffect:JC,watchPostEffect:w3,watchSyncEffect:QC,withAsyncContext:RE,withCtx:To,withDefaults:DE,withDirectives:Os,withKeys:JE,withMemo:zE,withModifiers:Rc,withScopeId:qC},Symbol.toStringTag,{value:"Module"}));//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var VM;function on(){return VM.apply(null,arguments)}function HI(e){VM=e}function Yd(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function qf(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function hr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function fS(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(hr(e,t))return!1;return!0}function ac(e){return e===void 0}function xu(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function d_(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function HM(e,t){var s=[],a,c=e.length;for(a=0;a<c;++a)s.push(t(e[a],a));return s}function pp(e,t){for(var s in t)hr(t,s)&&(e[s]=t[s]);return hr(t,"toString")&&(e.toString=t.toString),hr(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Dh(e,t,s,a){return mA(e,t,s,a,!0).utc()}function WI(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ws(e){return e._pf==null&&(e._pf=WI()),e._pf}var $w;Array.prototype.some?$w=Array.prototype.some:$w=function(e){var t=Object(this),s=t.length>>>0,a;for(a=0;a<s;a++)if(a in t&&e.call(this,t[a],a,t))return!0;return!1};function mS(e){if(e._isValid==null){var t=ws(e),s=$w.call(t.parsedDateParts,function(c){return c!=null}),a=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&s);if(e._strict&&(a=a&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=a;else return a}return e._isValid}function kx(e){var t=Dh(NaN);return e!=null?pp(ws(t),e):ws(t).userInvalidated=!0,t}var g5=on.momentProperties=[],Y2=!1;function gS(e,t){var s,a,c,h=g5.length;if(ac(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),ac(t._i)||(e._i=t._i),ac(t._f)||(e._f=t._f),ac(t._l)||(e._l=t._l),ac(t._strict)||(e._strict=t._strict),ac(t._tzm)||(e._tzm=t._tzm),ac(t._isUTC)||(e._isUTC=t._isUTC),ac(t._offset)||(e._offset=t._offset),ac(t._pf)||(e._pf=ws(t)),ac(t._locale)||(e._locale=t._locale),h>0)for(s=0;s<h;s++)a=g5[s],c=t[a],ac(c)||(e[a]=c);return e}function h_(e){gS(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Y2===!1&&(Y2=!0,on.updateOffset(this),Y2=!1)}function qd(e){return e instanceof h_||e!=null&&e._isAMomentObject!=null}function WM(e){on.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Td(e,t){var s=!0;return pp(function(){if(on.deprecationHandler!=null&&on.deprecationHandler(null,e),s){var a=[],c,h,m,n=arguments.length;for(h=0;h<n;h++){if(c="",typeof arguments[h]=="object"){c+=`
[`+h+"] ";for(m in arguments[0])hr(arguments[0],m)&&(c+=m+": "+arguments[0][m]+", ");c=c.slice(0,-2)}else c=arguments[h];a.push(c)}WM(e+`
Arguments: `+Array.prototype.slice.call(a).join("")+`
`+new Error().stack),s=!1}return t.apply(this,arguments)},t)}var _5={};function YM(e,t){on.deprecationHandler!=null&&on.deprecationHandler(e,t),_5[e]||(WM(t),_5[e]=!0)}on.suppressDeprecationWarnings=!1;on.deprecationHandler=null;function Ih(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function YI(e){var t,s;for(s in e)hr(e,s)&&(t=e[s],Ih(t)?this[s]=t:this["_"+s]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Gw(e,t){var s=pp({},e),a;for(a in t)hr(t,a)&&(qf(e[a])&&qf(t[a])?(s[a]={},pp(s[a],e[a]),pp(s[a],t[a])):t[a]!=null?s[a]=t[a]:delete s[a]);for(a in e)hr(e,a)&&!hr(t,a)&&qf(e[a])&&(s[a]=pp({},s[a]));return s}function _S(e){e!=null&&this.set(e)}var Vw;Object.keys?Vw=Object.keys:Vw=function(e){var t,s=[];for(t in e)hr(e,t)&&s.push(t);return s};var qI={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function XI(e,t,s){var a=this._calendar[e]||this._calendar.sameElse;return Ih(a)?a.call(t,s):a}function Ph(e,t,s){var a=""+Math.abs(e),c=t-a.length,h=e>=0;return(h?s?"+":"":"-")+Math.pow(10,Math.max(0,c)).toString().substr(1)+a}var yS=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ky=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,q2={},xm={};function $n(e,t,s,a){var c=a;typeof a=="string"&&(c=function(){return this[a]()}),e&&(xm[e]=c),t&&(xm[t[0]]=function(){return Ph(c.apply(this,arguments),t[1],t[2])}),s&&(xm[s]=function(){return this.localeData().ordinal(c.apply(this,arguments),e)})}function ZI(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function KI(e){var t=e.match(yS),s,a;for(s=0,a=t.length;s<a;s++)xm[t[s]]?t[s]=xm[t[s]]:t[s]=ZI(t[s]);return function(c){var h="",m;for(m=0;m<a;m++)h+=Ih(t[m])?t[m].call(c,e):t[m];return h}}function uv(e,t){return e.isValid()?(t=qM(t,e.localeData()),q2[t]=q2[t]||KI(t),q2[t](e)):e.localeData().invalidDate()}function qM(e,t){var s=5;function a(c){return t.longDateFormat(c)||c}for(Ky.lastIndex=0;s>=0&&Ky.test(e);)e=e.replace(Ky,a),Ky.lastIndex=0,s-=1;return e}var JI={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function QI(e){var t=this._longDateFormat[e],s=this._longDateFormat[e.toUpperCase()];return t||!s?t:(this._longDateFormat[e]=s.match(yS).map(function(a){return a==="MMMM"||a==="MM"||a==="DD"||a==="dddd"?a.slice(1):a}).join(""),this._longDateFormat[e])}var eL="Invalid date";function tL(){return this._invalidDate}var iL="%d",nL=/\d{1,2}/;function sL(e){return this._ordinal.replace("%d",e)}var rL={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function oL(e,t,s,a){var c=this._relativeTime[s];return Ih(c)?c(e,t,s,a):c.replace(/%d/i,e)}function aL(e,t){var s=this._relativeTime[e>0?"future":"past"];return Ih(s)?s(t):s.replace(/%s/i,t)}var I1={};function ul(e,t){var s=e.toLowerCase();I1[s]=I1[s+"s"]=I1[t]=e}function Cd(e){return typeof e=="string"?I1[e]||I1[e.toLowerCase()]:void 0}function vS(e){var t={},s,a;for(a in e)hr(e,a)&&(s=Cd(a),s&&(t[s]=e[a]));return t}var XM={};function pl(e,t){XM[e]=t}function lL(e){var t=[],s;for(s in e)hr(e,s)&&t.push({unit:s,priority:XM[s]});return t.sort(function(a,c){return a.priority-c.priority}),t}function Px(e){return e%4===0&&e%100!==0||e%400===0}function yd(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Ns(e){var t=+e,s=0;return t!==0&&isFinite(t)&&(s=yd(t)),s}function Um(e,t){return function(s){return s!=null?(ZM(this,e,s),on.updateOffset(this,t),this):Nv(this,e)}}function Nv(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function ZM(e,t,s){e.isValid()&&!isNaN(s)&&(t==="FullYear"&&Px(e.year())&&e.month()===1&&e.date()===29?(s=Ns(s),e._d["set"+(e._isUTC?"UTC":"")+t](s,e.month(),Bx(s,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](s))}function cL(e){return e=Cd(e),Ih(this[e])?this[e]():this}function dL(e,t){if(typeof e=="object"){e=vS(e);var s=lL(e),a,c=s.length;for(a=0;a<c;a++)this[s[a].unit](e[s[a].unit])}else if(e=Cd(e),Ih(this[e]))return this[e](t);return this}var KM=/\d/,Hc=/\d\d/,JM=/\d{3}/,xS=/\d{4}/,Dx=/[+-]?\d{6}/,ro=/\d\d?/,QM=/\d\d\d\d?/,eA=/\d\d\d\d\d\d?/,Ix=/\d{1,3}/,bS=/\d{1,4}/,Lx=/[+-]?\d{1,6}/,$m=/\d+/,Ox=/[+-]?\d+/,hL=/Z|[+-]\d\d:?\d\d/gi,Rx=/Z|[+-]\d\d(?::?\d\d)?/gi,uL=/[+-]?\d+(\.\d{1,3})?/,u_=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Fv;Fv={};function wn(e,t,s){Fv[e]=Ih(t)?t:function(a,c){return a&&s?s:t}}function pL(e,t){return hr(Fv,e)?Fv[e](t._strict,t._locale):new RegExp(fL(e))}function fL(e){return Nc(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,s,a,c,h){return s||a||c||h}))}function Nc(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Hw={};function Lr(e,t){var s,a=t,c;for(typeof e=="string"&&(e=[e]),xu(t)&&(a=function(h,m){m[t]=Ns(h)}),c=e.length,s=0;s<c;s++)Hw[e[s]]=a}function p_(e,t){Lr(e,function(s,a,c,h){c._w=c._w||{},t(s,c._w,c,h)})}function mL(e,t,s){t!=null&&hr(Hw,e)&&Hw[e](t,s._a,s,e)}var dl=0,uu=1,Sh=2,ha=3,Vd=4,pu=5,$f=6,gL=7,_L=8;function yL(e,t){return(e%t+t)%t}var Bo;Array.prototype.indexOf?Bo=Array.prototype.indexOf:Bo=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Bx(e,t){if(isNaN(e)||isNaN(t))return NaN;var s=yL(t,12);return e+=(t-s)/12,s===1?Px(e)?29:28:31-s%7%2}$n("M",["MM",2],"Mo",function(){return this.month()+1});$n("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});$n("MMMM",0,0,function(e){return this.localeData().months(this,e)});ul("month","M");pl("month",8);wn("M",ro);wn("MM",ro,Hc);wn("MMM",function(e,t){return t.monthsShortRegex(e)});wn("MMMM",function(e,t){return t.monthsRegex(e)});Lr(["M","MM"],function(e,t){t[uu]=Ns(e)-1});Lr(["MMM","MMMM"],function(e,t,s,a){var c=s._locale.monthsParse(e,a,s._strict);c!=null?t[uu]=c:ws(s).invalidMonth=e});var vL="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tA="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),iA=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,xL=u_,bL=u_;function wL(e,t){return e?Yd(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||iA).test(t)?"format":"standalone"][e.month()]:Yd(this._months)?this._months:this._months.standalone}function SL(e,t){return e?Yd(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[iA.test(t)?"format":"standalone"][e.month()]:Yd(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function TL(e,t,s){var a,c,h,m=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)h=Dh([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(h,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(h,"").toLocaleLowerCase();return s?t==="MMM"?(c=Bo.call(this._shortMonthsParse,m),c!==-1?c:null):(c=Bo.call(this._longMonthsParse,m),c!==-1?c:null):t==="MMM"?(c=Bo.call(this._shortMonthsParse,m),c!==-1?c:(c=Bo.call(this._longMonthsParse,m),c!==-1?c:null)):(c=Bo.call(this._longMonthsParse,m),c!==-1?c:(c=Bo.call(this._shortMonthsParse,m),c!==-1?c:null))}function CL(e,t,s){var a,c,h;if(this._monthsParseExact)return TL.call(this,e,t,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(c=Dh([2e3,a]),s&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(c,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(c,"").replace(".","")+"$","i")),!s&&!this._monthsParse[a]&&(h="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[a]=new RegExp(h.replace(".",""),"i")),s&&t==="MMMM"&&this._longMonthsParse[a].test(e))return a;if(s&&t==="MMM"&&this._shortMonthsParse[a].test(e))return a;if(!s&&this._monthsParse[a].test(e))return a}}function nA(e,t){var s;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Ns(t);else if(t=e.localeData().monthsParse(t),!xu(t))return e}return s=Math.min(e.date(),Bx(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,s),e}function sA(e){return e!=null?(nA(this,e),on.updateOffset(this,!0),this):Nv(this,"Month")}function EL(){return Bx(this.year(),this.month())}function ML(e){return this._monthsParseExact?(hr(this,"_monthsRegex")||rA.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(hr(this,"_monthsShortRegex")||(this._monthsShortRegex=xL),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function AL(e){return this._monthsParseExact?(hr(this,"_monthsRegex")||rA.call(this),e?this._monthsStrictRegex:this._monthsRegex):(hr(this,"_monthsRegex")||(this._monthsRegex=bL),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function rA(){function e(m,n){return n.length-m.length}var t=[],s=[],a=[],c,h;for(c=0;c<12;c++)h=Dh([2e3,c]),t.push(this.monthsShort(h,"")),s.push(this.months(h,"")),a.push(this.months(h,"")),a.push(this.monthsShort(h,""));for(t.sort(e),s.sort(e),a.sort(e),c=0;c<12;c++)t[c]=Nc(t[c]),s[c]=Nc(s[c]);for(c=0;c<24;c++)a[c]=Nc(a[c]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}$n("Y",0,0,function(){var e=this.year();return e<=9999?Ph(e,4):"+"+e});$n(0,["YY",2],0,function(){return this.year()%100});$n(0,["YYYY",4],0,"year");$n(0,["YYYYY",5],0,"year");$n(0,["YYYYYY",6,!0],0,"year");ul("year","y");pl("year",1);wn("Y",Ox);wn("YY",ro,Hc);wn("YYYY",bS,xS);wn("YYYYY",Lx,Dx);wn("YYYYYY",Lx,Dx);Lr(["YYYYY","YYYYYY"],dl);Lr("YYYY",function(e,t){t[dl]=e.length===2?on.parseTwoDigitYear(e):Ns(e)});Lr("YY",function(e,t){t[dl]=on.parseTwoDigitYear(e)});Lr("Y",function(e,t){t[dl]=parseInt(e,10)});function L1(e){return Px(e)?366:365}on.parseTwoDigitYear=function(e){return Ns(e)+(Ns(e)>68?1900:2e3)};var oA=Um("FullYear",!0);function kL(){return Px(this.year())}function PL(e,t,s,a,c,h,m){var n;return e<100&&e>=0?(n=new Date(e+400,t,s,a,c,h,m),isFinite(n.getFullYear())&&n.setFullYear(e)):n=new Date(e,t,s,a,c,h,m),n}function W1(e){var t,s;return e<100&&e>=0?(s=Array.prototype.slice.call(arguments),s[0]=e+400,t=new Date(Date.UTC.apply(null,s)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function jv(e,t,s){var a=7+t-s,c=(7+W1(e,0,a).getUTCDay()-t)%7;return-c+a-1}function aA(e,t,s,a,c){var h=(7+s-a)%7,m=jv(e,a,c),n=1+7*(t-1)+h+m,x,z;return n<=0?(x=e-1,z=L1(x)+n):n>L1(e)?(x=e+1,z=n-L1(e)):(x=e,z=n),{year:x,dayOfYear:z}}function Y1(e,t,s){var a=jv(e.year(),t,s),c=Math.floor((e.dayOfYear()-a-1)/7)+1,h,m;return c<1?(m=e.year()-1,h=c+gu(m,t,s)):c>gu(e.year(),t,s)?(h=c-gu(e.year(),t,s),m=e.year()+1):(m=e.year(),h=c),{week:h,year:m}}function gu(e,t,s){var a=jv(e,t,s),c=jv(e+1,t,s);return(L1(e)-a+c)/7}$n("w",["ww",2],"wo","week");$n("W",["WW",2],"Wo","isoWeek");ul("week","w");ul("isoWeek","W");pl("week",5);pl("isoWeek",5);wn("w",ro);wn("ww",ro,Hc);wn("W",ro);wn("WW",ro,Hc);p_(["w","ww","W","WW"],function(e,t,s,a){t[a.substr(0,1)]=Ns(e)});function DL(e){return Y1(e,this._week.dow,this._week.doy).week}var IL={dow:0,doy:6};function LL(){return this._week.dow}function OL(){return this._week.doy}function RL(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function BL(e){var t=Y1(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}$n("d",0,"do","day");$n("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});$n("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});$n("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});$n("e",0,0,"weekday");$n("E",0,0,"isoWeekday");ul("day","d");ul("weekday","e");ul("isoWeekday","E");pl("day",11);pl("weekday",11);pl("isoWeekday",11);wn("d",ro);wn("e",ro);wn("E",ro);wn("dd",function(e,t){return t.weekdaysMinRegex(e)});wn("ddd",function(e,t){return t.weekdaysShortRegex(e)});wn("dddd",function(e,t){return t.weekdaysRegex(e)});p_(["dd","ddd","dddd"],function(e,t,s,a){var c=s._locale.weekdaysParse(e,a,s._strict);c!=null?t.d=c:ws(s).invalidWeekday=e});p_(["d","e","E"],function(e,t,s,a){t[a]=Ns(e)});function zL(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function NL(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function wS(e,t){return e.slice(t,7).concat(e.slice(0,t))}var FL="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),lA="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),jL="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),UL=u_,$L=u_,GL=u_;function VL(e,t){var s=Yd(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?wS(s,this._week.dow):e?s[e.day()]:s}function HL(e){return e===!0?wS(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function WL(e){return e===!0?wS(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function YL(e,t,s){var a,c,h,m=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)h=Dh([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(h,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(h,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(h,"").toLocaleLowerCase();return s?t==="dddd"?(c=Bo.call(this._weekdaysParse,m),c!==-1?c:null):t==="ddd"?(c=Bo.call(this._shortWeekdaysParse,m),c!==-1?c:null):(c=Bo.call(this._minWeekdaysParse,m),c!==-1?c:null):t==="dddd"?(c=Bo.call(this._weekdaysParse,m),c!==-1||(c=Bo.call(this._shortWeekdaysParse,m),c!==-1)?c:(c=Bo.call(this._minWeekdaysParse,m),c!==-1?c:null)):t==="ddd"?(c=Bo.call(this._shortWeekdaysParse,m),c!==-1||(c=Bo.call(this._weekdaysParse,m),c!==-1)?c:(c=Bo.call(this._minWeekdaysParse,m),c!==-1?c:null)):(c=Bo.call(this._minWeekdaysParse,m),c!==-1||(c=Bo.call(this._weekdaysParse,m),c!==-1)?c:(c=Bo.call(this._shortWeekdaysParse,m),c!==-1?c:null))}function qL(e,t,s){var a,c,h;if(this._weekdaysParseExact)return YL.call(this,e,t,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(c=Dh([2e3,1]).day(a),s&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(c,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(c,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(c,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(h="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[a]=new RegExp(h.replace(".",""),"i")),s&&t==="dddd"&&this._fullWeekdaysParse[a].test(e))return a;if(s&&t==="ddd"&&this._shortWeekdaysParse[a].test(e))return a;if(s&&t==="dd"&&this._minWeekdaysParse[a].test(e))return a;if(!s&&this._weekdaysParse[a].test(e))return a}}function XL(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=zL(e,this.localeData()),this.add(e-t,"d")):t}function ZL(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function KL(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=NL(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function JL(e){return this._weekdaysParseExact?(hr(this,"_weekdaysRegex")||SS.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(hr(this,"_weekdaysRegex")||(this._weekdaysRegex=UL),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function QL(e){return this._weekdaysParseExact?(hr(this,"_weekdaysRegex")||SS.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hr(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=$L),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function eO(e){return this._weekdaysParseExact?(hr(this,"_weekdaysRegex")||SS.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hr(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=GL),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function SS(){function e(Y,O){return O.length-Y.length}var t=[],s=[],a=[],c=[],h,m,n,x,z;for(h=0;h<7;h++)m=Dh([2e3,1]).day(h),n=Nc(this.weekdaysMin(m,"")),x=Nc(this.weekdaysShort(m,"")),z=Nc(this.weekdays(m,"")),t.push(n),s.push(x),a.push(z),c.push(n),c.push(x),c.push(z);t.sort(e),s.sort(e),a.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function TS(){return this.hours()%12||12}function tO(){return this.hours()||24}$n("H",["HH",2],0,"hour");$n("h",["hh",2],0,TS);$n("k",["kk",2],0,tO);$n("hmm",0,0,function(){return""+TS.apply(this)+Ph(this.minutes(),2)});$n("hmmss",0,0,function(){return""+TS.apply(this)+Ph(this.minutes(),2)+Ph(this.seconds(),2)});$n("Hmm",0,0,function(){return""+this.hours()+Ph(this.minutes(),2)});$n("Hmmss",0,0,function(){return""+this.hours()+Ph(this.minutes(),2)+Ph(this.seconds(),2)});function cA(e,t){$n(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}cA("a",!0);cA("A",!1);ul("hour","h");pl("hour",13);function dA(e,t){return t._meridiemParse}wn("a",dA);wn("A",dA);wn("H",ro);wn("h",ro);wn("k",ro);wn("HH",ro,Hc);wn("hh",ro,Hc);wn("kk",ro,Hc);wn("hmm",QM);wn("hmmss",eA);wn("Hmm",QM);wn("Hmmss",eA);Lr(["H","HH"],ha);Lr(["k","kk"],function(e,t,s){var a=Ns(e);t[ha]=a===24?0:a});Lr(["a","A"],function(e,t,s){s._isPm=s._locale.isPM(e),s._meridiem=e});Lr(["h","hh"],function(e,t,s){t[ha]=Ns(e),ws(s).bigHour=!0});Lr("hmm",function(e,t,s){var a=e.length-2;t[ha]=Ns(e.substr(0,a)),t[Vd]=Ns(e.substr(a)),ws(s).bigHour=!0});Lr("hmmss",function(e,t,s){var a=e.length-4,c=e.length-2;t[ha]=Ns(e.substr(0,a)),t[Vd]=Ns(e.substr(a,2)),t[pu]=Ns(e.substr(c)),ws(s).bigHour=!0});Lr("Hmm",function(e,t,s){var a=e.length-2;t[ha]=Ns(e.substr(0,a)),t[Vd]=Ns(e.substr(a))});Lr("Hmmss",function(e,t,s){var a=e.length-4,c=e.length-2;t[ha]=Ns(e.substr(0,a)),t[Vd]=Ns(e.substr(a,2)),t[pu]=Ns(e.substr(c))});function iO(e){return(e+"").toLowerCase().charAt(0)==="p"}var nO=/[ap]\.?m?\.?/i,sO=Um("Hours",!0);function rO(e,t,s){return e>11?s?"pm":"PM":s?"am":"AM"}var hA={calendar:qI,longDateFormat:JI,invalidDate:eL,ordinal:iL,dayOfMonthOrdinalParse:nL,relativeTime:rL,months:vL,monthsShort:tA,week:IL,weekdays:FL,weekdaysMin:jL,weekdaysShort:lA,meridiemParse:nO},ho={},w1={},q1;function oO(e,t){var s,a=Math.min(e.length,t.length);for(s=0;s<a;s+=1)if(e[s]!==t[s])return s;return a}function y5(e){return e&&e.toLowerCase().replace("_","-")}function aO(e){for(var t=0,s,a,c,h;t<e.length;){for(h=y5(e[t]).split("-"),s=h.length,a=y5(e[t+1]),a=a?a.split("-"):null;s>0;){if(c=zx(h.slice(0,s).join("-")),c)return c;if(a&&a.length>=s&&oO(h,a)>=s-1)break;s--}t++}return q1}function lO(e){return e.match("^[^/\\\\]*$")!=null}function zx(e){var t=null,s;if(ho[e]===void 0&&typeof yv<"u"&&yv&&yv.exports&&lO(e))try{t=q1._abbr,s=require,s("./locale/"+e),wp(t)}catch{ho[e]=null}return ho[e]}function wp(e,t){var s;return e&&(ac(t)?s=Cu(e):s=CS(e,t),s?q1=s:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),q1._abbr}function CS(e,t){if(t!==null){var s,a=hA;if(t.abbr=e,ho[e]!=null)YM("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=ho[e]._config;else if(t.parentLocale!=null)if(ho[t.parentLocale]!=null)a=ho[t.parentLocale]._config;else if(s=zx(t.parentLocale),s!=null)a=s._config;else return w1[t.parentLocale]||(w1[t.parentLocale]=[]),w1[t.parentLocale].push({name:e,config:t}),null;return ho[e]=new _S(Gw(a,t)),w1[e]&&w1[e].forEach(function(c){CS(c.name,c.config)}),wp(e),ho[e]}else return delete ho[e],null}function cO(e,t){if(t!=null){var s,a,c=hA;ho[e]!=null&&ho[e].parentLocale!=null?ho[e].set(Gw(ho[e]._config,t)):(a=zx(e),a!=null&&(c=a._config),t=Gw(c,t),a==null&&(t.abbr=e),s=new _S(t),s.parentLocale=ho[e],ho[e]=s),wp(e)}else ho[e]!=null&&(ho[e].parentLocale!=null?(ho[e]=ho[e].parentLocale,e===wp()&&wp(e)):ho[e]!=null&&delete ho[e]);return ho[e]}function Cu(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return q1;if(!Yd(e)){if(t=zx(e),t)return t;e=[e]}return aO(e)}function dO(){return Vw(ho)}function ES(e){var t,s=e._a;return s&&ws(e).overflow===-2&&(t=s[uu]<0||s[uu]>11?uu:s[Sh]<1||s[Sh]>Bx(s[dl],s[uu])?Sh:s[ha]<0||s[ha]>24||s[ha]===24&&(s[Vd]!==0||s[pu]!==0||s[$f]!==0)?ha:s[Vd]<0||s[Vd]>59?Vd:s[pu]<0||s[pu]>59?pu:s[$f]<0||s[$f]>999?$f:-1,ws(e)._overflowDayOfYear&&(t<dl||t>Sh)&&(t=Sh),ws(e)._overflowWeeks&&t===-1&&(t=gL),ws(e)._overflowWeekday&&t===-1&&(t=_L),ws(e).overflow=t),e}var hO=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,uO=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pO=/Z|[+-]\d\d(?::?\d\d)?/,Jy=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],X2=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],fO=/^\/?Date\((-?\d+)/i,mO=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,gO={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function uA(e){var t,s,a=e._i,c=hO.exec(a)||uO.exec(a),h,m,n,x,z=Jy.length,Y=X2.length;if(c){for(ws(e).iso=!0,t=0,s=z;t<s;t++)if(Jy[t][1].exec(c[1])){m=Jy[t][0],h=Jy[t][2]!==!1;break}if(m==null){e._isValid=!1;return}if(c[3]){for(t=0,s=Y;t<s;t++)if(X2[t][1].exec(c[3])){n=(c[2]||" ")+X2[t][0];break}if(n==null){e._isValid=!1;return}}if(!h&&n!=null){e._isValid=!1;return}if(c[4])if(pO.exec(c[4]))x="Z";else{e._isValid=!1;return}e._f=m+(n||"")+(x||""),AS(e)}else e._isValid=!1}function _O(e,t,s,a,c,h){var m=[yO(e),tA.indexOf(t),parseInt(s,10),parseInt(a,10),parseInt(c,10)];return h&&m.push(parseInt(h,10)),m}function yO(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function vO(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function xO(e,t,s){if(e){var a=lA.indexOf(e),c=new Date(t[0],t[1],t[2]).getDay();if(a!==c)return ws(s).weekdayMismatch=!0,s._isValid=!1,!1}return!0}function bO(e,t,s){if(e)return gO[e];if(t)return 0;var a=parseInt(s,10),c=a%100,h=(a-c)/100;return h*60+c}function pA(e){var t=mO.exec(vO(e._i)),s;if(t){if(s=_O(t[4],t[3],t[2],t[5],t[6],t[7]),!xO(t[1],s,e))return;e._a=s,e._tzm=bO(t[8],t[9],t[10]),e._d=W1.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),ws(e).rfc2822=!0}else e._isValid=!1}function wO(e){var t=fO.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(uA(e),e._isValid===!1)delete e._isValid;else return;if(pA(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:on.createFromInputFallback(e)}on.createFromInputFallback=Td("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function um(e,t,s){return e??t??s}function SO(e){var t=new Date(on.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function MS(e){var t,s,a=[],c,h,m;if(!e._d){for(c=SO(e),e._w&&e._a[Sh]==null&&e._a[uu]==null&&TO(e),e._dayOfYear!=null&&(m=um(e._a[dl],c[dl]),(e._dayOfYear>L1(m)||e._dayOfYear===0)&&(ws(e)._overflowDayOfYear=!0),s=W1(m,0,e._dayOfYear),e._a[uu]=s.getUTCMonth(),e._a[Sh]=s.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=a[t]=c[t];for(;t<7;t++)e._a[t]=a[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[ha]===24&&e._a[Vd]===0&&e._a[pu]===0&&e._a[$f]===0&&(e._nextDay=!0,e._a[ha]=0),e._d=(e._useUTC?W1:PL).apply(null,a),h=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ha]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==h&&(ws(e).weekdayMismatch=!0)}}function TO(e){var t,s,a,c,h,m,n,x,z;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(h=1,m=4,s=um(t.GG,e._a[dl],Y1(so(),1,4).year),a=um(t.W,1),c=um(t.E,1),(c<1||c>7)&&(x=!0)):(h=e._locale._week.dow,m=e._locale._week.doy,z=Y1(so(),h,m),s=um(t.gg,e._a[dl],z.year),a=um(t.w,z.week),t.d!=null?(c=t.d,(c<0||c>6)&&(x=!0)):t.e!=null?(c=t.e+h,(t.e<0||t.e>6)&&(x=!0)):c=h),a<1||a>gu(s,h,m)?ws(e)._overflowWeeks=!0:x!=null?ws(e)._overflowWeekday=!0:(n=aA(s,a,c,h,m),e._a[dl]=n.year,e._dayOfYear=n.dayOfYear)}on.ISO_8601=function(){};on.RFC_2822=function(){};function AS(e){if(e._f===on.ISO_8601){uA(e);return}if(e._f===on.RFC_2822){pA(e);return}e._a=[],ws(e).empty=!0;var t=""+e._i,s,a,c,h,m,n=t.length,x=0,z,Y;for(c=qM(e._f,e._locale).match(yS)||[],Y=c.length,s=0;s<Y;s++)h=c[s],a=(t.match(pL(h,e))||[])[0],a&&(m=t.substr(0,t.indexOf(a)),m.length>0&&ws(e).unusedInput.push(m),t=t.slice(t.indexOf(a)+a.length),x+=a.length),xm[h]?(a?ws(e).empty=!1:ws(e).unusedTokens.push(h),mL(h,a,e)):e._strict&&!a&&ws(e).unusedTokens.push(h);ws(e).charsLeftOver=n-x,t.length>0&&ws(e).unusedInput.push(t),e._a[ha]<=12&&ws(e).bigHour===!0&&e._a[ha]>0&&(ws(e).bigHour=void 0),ws(e).parsedDateParts=e._a.slice(0),ws(e).meridiem=e._meridiem,e._a[ha]=CO(e._locale,e._a[ha],e._meridiem),z=ws(e).era,z!==null&&(e._a[dl]=e._locale.erasConvertYear(z,e._a[dl])),MS(e),ES(e)}function CO(e,t,s){var a;return s==null?t:e.meridiemHour!=null?e.meridiemHour(t,s):(e.isPM!=null&&(a=e.isPM(s),a&&t<12&&(t+=12),!a&&t===12&&(t=0)),t)}function EO(e){var t,s,a,c,h,m,n=!1,x=e._f.length;if(x===0){ws(e).invalidFormat=!0,e._d=new Date(NaN);return}for(c=0;c<x;c++)h=0,m=!1,t=gS({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[c],AS(t),mS(t)&&(m=!0),h+=ws(t).charsLeftOver,h+=ws(t).unusedTokens.length*10,ws(t).score=h,n?h<a&&(a=h,s=t):(a==null||h<a||m)&&(a=h,s=t,m&&(n=!0));pp(e,s||t)}function MO(e){if(!e._d){var t=vS(e._i),s=t.day===void 0?t.date:t.day;e._a=HM([t.year,t.month,s,t.hour,t.minute,t.second,t.millisecond],function(a){return a&&parseInt(a,10)}),MS(e)}}function AO(e){var t=new h_(ES(fA(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function fA(e){var t=e._i,s=e._f;return e._locale=e._locale||Cu(e._l),t===null||s===void 0&&t===""?kx({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),qd(t)?new h_(ES(t)):(d_(t)?e._d=t:Yd(s)?EO(e):s?AS(e):kO(e),mS(e)||(e._d=null),e))}function kO(e){var t=e._i;ac(t)?e._d=new Date(on.now()):d_(t)?e._d=new Date(t.valueOf()):typeof t=="string"?wO(e):Yd(t)?(e._a=HM(t.slice(0),function(s){return parseInt(s,10)}),MS(e)):qf(t)?MO(e):xu(t)?e._d=new Date(t):on.createFromInputFallback(e)}function mA(e,t,s,a,c){var h={};return(t===!0||t===!1)&&(a=t,t=void 0),(s===!0||s===!1)&&(a=s,s=void 0),(qf(e)&&fS(e)||Yd(e)&&e.length===0)&&(e=void 0),h._isAMomentObject=!0,h._useUTC=h._isUTC=c,h._l=s,h._i=e,h._f=t,h._strict=a,AO(h)}function so(e,t,s,a){return mA(e,t,s,a,!1)}var PO=Td("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=so.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:kx()}),DO=Td("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=so.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:kx()});function gA(e,t){var s,a;if(t.length===1&&Yd(t[0])&&(t=t[0]),!t.length)return so();for(s=t[0],a=1;a<t.length;++a)(!t[a].isValid()||t[a][e](s))&&(s=t[a]);return s}function IO(){var e=[].slice.call(arguments,0);return gA("isBefore",e)}function LO(){var e=[].slice.call(arguments,0);return gA("isAfter",e)}var OO=function(){return Date.now?Date.now():+new Date},S1=["year","quarter","month","week","day","hour","minute","second","millisecond"];function RO(e){var t,s=!1,a,c=S1.length;for(t in e)if(hr(e,t)&&!(Bo.call(S1,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(a=0;a<c;++a)if(e[S1[a]]){if(s)return!1;parseFloat(e[S1[a]])!==Ns(e[S1[a]])&&(s=!0)}return!0}function BO(){return this._isValid}function zO(){return Xd(NaN)}function Nx(e){var t=vS(e),s=t.year||0,a=t.quarter||0,c=t.month||0,h=t.week||t.isoWeek||0,m=t.day||0,n=t.hour||0,x=t.minute||0,z=t.second||0,Y=t.millisecond||0;this._isValid=RO(t),this._milliseconds=+Y+z*1e3+x*6e4+n*1e3*60*60,this._days=+m+h*7,this._months=+c+a*3+s*12,this._data={},this._locale=Cu(),this._bubble()}function pv(e){return e instanceof Nx}function Ww(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function NO(e,t,s){var a=Math.min(e.length,t.length),c=Math.abs(e.length-t.length),h=0,m;for(m=0;m<a;m++)(s&&e[m]!==t[m]||!s&&Ns(e[m])!==Ns(t[m]))&&h++;return h+c}function _A(e,t){$n(e,0,0,function(){var s=this.utcOffset(),a="+";return s<0&&(s=-s,a="-"),a+Ph(~~(s/60),2)+t+Ph(~~s%60,2)})}_A("Z",":");_A("ZZ","");wn("Z",Rx);wn("ZZ",Rx);Lr(["Z","ZZ"],function(e,t,s){s._useUTC=!0,s._tzm=kS(Rx,e)});var FO=/([\+\-]|\d\d)/gi;function kS(e,t){var s=(t||"").match(e),a,c,h;return s===null?null:(a=s[s.length-1]||[],c=(a+"").match(FO)||["-",0,0],h=+(c[1]*60)+Ns(c[2]),h===0?0:c[0]==="+"?h:-h)}function PS(e,t){var s,a;return t._isUTC?(s=t.clone(),a=(qd(e)||d_(e)?e.valueOf():so(e).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+a),on.updateOffset(s,!1),s):so(e).local()}function Yw(e){return-Math.round(e._d.getTimezoneOffset())}on.updateOffset=function(){};function jO(e,t,s){var a=this._offset||0,c;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=kS(Rx,e),e===null)return this}else Math.abs(e)<16&&!s&&(e=e*60);return!this._isUTC&&t&&(c=Yw(this)),this._offset=e,this._isUTC=!0,c!=null&&this.add(c,"m"),a!==e&&(!t||this._changeInProgress?xA(this,Xd(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,on.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?a:Yw(this)}function UO(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function $O(e){return this.utcOffset(0,e)}function GO(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Yw(this),"m")),this}function VO(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=kS(hL,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function HO(e){return this.isValid()?(e=e?so(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function WO(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function YO(){if(!ac(this._isDSTShifted))return this._isDSTShifted;var e={},t;return gS(e,this),e=fA(e),e._a?(t=e._isUTC?Dh(e._a):so(e._a),this._isDSTShifted=this.isValid()&&NO(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function qO(){return this.isValid()?!this._isUTC:!1}function XO(){return this.isValid()?this._isUTC:!1}function yA(){return this.isValid()?this._isUTC&&this._offset===0:!1}var ZO=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,KO=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Xd(e,t){var s=e,a=null,c,h,m;return pv(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:xu(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(a=ZO.exec(e))?(c=a[1]==="-"?-1:1,s={y:0,d:Ns(a[Sh])*c,h:Ns(a[ha])*c,m:Ns(a[Vd])*c,s:Ns(a[pu])*c,ms:Ns(Ww(a[$f]*1e3))*c}):(a=KO.exec(e))?(c=a[1]==="-"?-1:1,s={y:Lf(a[2],c),M:Lf(a[3],c),w:Lf(a[4],c),d:Lf(a[5],c),h:Lf(a[6],c),m:Lf(a[7],c),s:Lf(a[8],c)}):s==null?s={}:typeof s=="object"&&("from"in s||"to"in s)&&(m=JO(so(s.from),so(s.to)),s={},s.ms=m.milliseconds,s.M=m.months),h=new Nx(s),pv(e)&&hr(e,"_locale")&&(h._locale=e._locale),pv(e)&&hr(e,"_isValid")&&(h._isValid=e._isValid),h}Xd.fn=Nx.prototype;Xd.invalid=zO;function Lf(e,t){var s=e&&parseFloat(e.replace(",","."));return(isNaN(s)?0:s)*t}function v5(e,t){var s={};return s.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(s.months,"M").isAfter(t)&&--s.months,s.milliseconds=+t-+e.clone().add(s.months,"M"),s}function JO(e,t){var s;return e.isValid()&&t.isValid()?(t=PS(t,e),e.isBefore(t)?s=v5(e,t):(s=v5(t,e),s.milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0}}function vA(e,t){return function(s,a){var c,h;return a!==null&&!isNaN(+a)&&(YM(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),h=s,s=a,a=h),c=Xd(s,a),xA(this,c,e),this}}function xA(e,t,s,a){var c=t._milliseconds,h=Ww(t._days),m=Ww(t._months);e.isValid()&&(a=a??!0,m&&nA(e,Nv(e,"Month")+m*s),h&&ZM(e,"Date",Nv(e,"Date")+h*s),c&&e._d.setTime(e._d.valueOf()+c*s),a&&on.updateOffset(e,h||m))}var QO=vA(1,"add"),e9=vA(-1,"subtract");function bA(e){return typeof e=="string"||e instanceof String}function t9(e){return qd(e)||d_(e)||bA(e)||xu(e)||n9(e)||i9(e)||e===null||e===void 0}function i9(e){var t=qf(e)&&!fS(e),s=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c,h,m=a.length;for(c=0;c<m;c+=1)h=a[c],s=s||hr(e,h);return t&&s}function n9(e){var t=Yd(e),s=!1;return t&&(s=e.filter(function(a){return!xu(a)&&bA(e)}).length===0),t&&s}function s9(e){var t=qf(e)&&!fS(e),s=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],c,h;for(c=0;c<a.length;c+=1)h=a[c],s=s||hr(e,h);return t&&s}function r9(e,t){var s=e.diff(t,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"}function o9(e,t){arguments.length===1&&(arguments[0]?t9(arguments[0])?(e=arguments[0],t=void 0):s9(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var s=e||so(),a=PS(s,this).startOf("day"),c=on.calendarFormat(this,a)||"sameElse",h=t&&(Ih(t[c])?t[c].call(this,s):t[c]);return this.format(h||this.localeData().calendar(c,this,so(s)))}function a9(){return new h_(this)}function l9(e,t){var s=qd(e)?e:so(e);return this.isValid()&&s.isValid()?(t=Cd(t)||"millisecond",t==="millisecond"?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(t).valueOf()):!1}function c9(e,t){var s=qd(e)?e:so(e);return this.isValid()&&s.isValid()?(t=Cd(t)||"millisecond",t==="millisecond"?this.valueOf()<s.valueOf():this.clone().endOf(t).valueOf()<s.valueOf()):!1}function d9(e,t,s,a){var c=qd(e)?e:so(e),h=qd(t)?t:so(t);return this.isValid()&&c.isValid()&&h.isValid()?(a=a||"()",(a[0]==="("?this.isAfter(c,s):!this.isBefore(c,s))&&(a[1]===")"?this.isBefore(h,s):!this.isAfter(h,s))):!1}function h9(e,t){var s=qd(e)?e:so(e),a;return this.isValid()&&s.isValid()?(t=Cd(t)||"millisecond",t==="millisecond"?this.valueOf()===s.valueOf():(a=s.valueOf(),this.clone().startOf(t).valueOf()<=a&&a<=this.clone().endOf(t).valueOf())):!1}function u9(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function p9(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function f9(e,t,s){var a,c,h;if(!this.isValid())return NaN;if(a=PS(e,this),!a.isValid())return NaN;switch(c=(a.utcOffset()-this.utcOffset())*6e4,t=Cd(t),t){case"year":h=fv(this,a)/12;break;case"month":h=fv(this,a);break;case"quarter":h=fv(this,a)/3;break;case"second":h=(this-a)/1e3;break;case"minute":h=(this-a)/6e4;break;case"hour":h=(this-a)/36e5;break;case"day":h=(this-a-c)/864e5;break;case"week":h=(this-a-c)/6048e5;break;default:h=this-a}return s?h:yd(h)}function fv(e,t){if(e.date()<t.date())return-fv(t,e);var s=(t.year()-e.year())*12+(t.month()-e.month()),a=e.clone().add(s,"months"),c,h;return t-a<0?(c=e.clone().add(s-1,"months"),h=(t-a)/(a-c)):(c=e.clone().add(s+1,"months"),h=(t-a)/(c-a)),-(s+h)||0}on.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";on.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function m9(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function g9(e){if(!this.isValid())return null;var t=e!==!0,s=t?this.clone().utc():this;return s.year()<0||s.year()>9999?uv(s,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ih(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",uv(s,"Z")):uv(s,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function _9(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",s,a,c,h;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),s="["+e+'("]',a=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",c="-MM-DD[T]HH:mm:ss.SSS",h=t+'[")]',this.format(s+a+c+h)}function y9(e){e||(e=this.isUtc()?on.defaultFormatUtc:on.defaultFormat);var t=uv(this,e);return this.localeData().postformat(t)}function v9(e,t){return this.isValid()&&(qd(e)&&e.isValid()||so(e).isValid())?Xd({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function x9(e){return this.from(so(),e)}function b9(e,t){return this.isValid()&&(qd(e)&&e.isValid()||so(e).isValid())?Xd({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function w9(e){return this.to(so(),e)}function wA(e){var t;return e===void 0?this._locale._abbr:(t=Cu(e),t!=null&&(this._locale=t),this)}var SA=Td("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function TA(){return this._locale}var Uv=1e3,bm=60*Uv,$v=60*bm,CA=(365*400+97)*24*$v;function wm(e,t){return(e%t+t)%t}function EA(e,t,s){return e<100&&e>=0?new Date(e+400,t,s)-CA:new Date(e,t,s).valueOf()}function MA(e,t,s){return e<100&&e>=0?Date.UTC(e+400,t,s)-CA:Date.UTC(e,t,s)}function S9(e){var t,s;if(e=Cd(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?MA:EA,e){case"year":t=s(this.year(),0,1);break;case"quarter":t=s(this.year(),this.month()-this.month()%3,1);break;case"month":t=s(this.year(),this.month(),1);break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=s(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=wm(t+(this._isUTC?0:this.utcOffset()*bm),$v);break;case"minute":t=this._d.valueOf(),t-=wm(t,bm);break;case"second":t=this._d.valueOf(),t-=wm(t,Uv);break}return this._d.setTime(t),on.updateOffset(this,!0),this}function T9(e){var t,s;if(e=Cd(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?MA:EA,e){case"year":t=s(this.year()+1,0,1)-1;break;case"quarter":t=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=s(this.year(),this.month()+1,1)-1;break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=$v-wm(t+(this._isUTC?0:this.utcOffset()*bm),$v)-1;break;case"minute":t=this._d.valueOf(),t+=bm-wm(t,bm)-1;break;case"second":t=this._d.valueOf(),t+=Uv-wm(t,Uv)-1;break}return this._d.setTime(t),on.updateOffset(this,!0),this}function C9(){return this._d.valueOf()-(this._offset||0)*6e4}function E9(){return Math.floor(this.valueOf()/1e3)}function M9(){return new Date(this.valueOf())}function A9(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function k9(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function P9(){return this.isValid()?this.toISOString():null}function D9(){return mS(this)}function I9(){return pp({},ws(this))}function L9(){return ws(this).overflow}function O9(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}$n("N",0,0,"eraAbbr");$n("NN",0,0,"eraAbbr");$n("NNN",0,0,"eraAbbr");$n("NNNN",0,0,"eraName");$n("NNNNN",0,0,"eraNarrow");$n("y",["y",1],"yo","eraYear");$n("y",["yy",2],0,"eraYear");$n("y",["yyy",3],0,"eraYear");$n("y",["yyyy",4],0,"eraYear");wn("N",DS);wn("NN",DS);wn("NNN",DS);wn("NNNN",H9);wn("NNNNN",W9);Lr(["N","NN","NNN","NNNN","NNNNN"],function(e,t,s,a){var c=s._locale.erasParse(e,a,s._strict);c?ws(s).era=c:ws(s).invalidEra=e});wn("y",$m);wn("yy",$m);wn("yyy",$m);wn("yyyy",$m);wn("yo",Y9);Lr(["y","yy","yyy","yyyy"],dl);Lr(["yo"],function(e,t,s,a){var c;s._locale._eraYearOrdinalRegex&&(c=e.match(s._locale._eraYearOrdinalRegex)),s._locale.eraYearOrdinalParse?t[dl]=s._locale.eraYearOrdinalParse(e,c):t[dl]=parseInt(e,10)});function R9(e,t){var s,a,c,h=this._eras||Cu("en")._eras;for(s=0,a=h.length;s<a;++s){switch(typeof h[s].since){case"string":c=on(h[s].since).startOf("day"),h[s].since=c.valueOf();break}switch(typeof h[s].until){case"undefined":h[s].until=1/0;break;case"string":c=on(h[s].until).startOf("day").valueOf(),h[s].until=c.valueOf();break}}return h}function B9(e,t,s){var a,c,h=this.eras(),m,n,x;for(e=e.toUpperCase(),a=0,c=h.length;a<c;++a)if(m=h[a].name.toUpperCase(),n=h[a].abbr.toUpperCase(),x=h[a].narrow.toUpperCase(),s)switch(t){case"N":case"NN":case"NNN":if(n===e)return h[a];break;case"NNNN":if(m===e)return h[a];break;case"NNNNN":if(x===e)return h[a];break}else if([m,n,x].indexOf(e)>=0)return h[a]}function z9(e,t){var s=e.since<=e.until?1:-1;return t===void 0?on(e.since).year():on(e.since).year()+(t-e.offset)*s}function N9(){var e,t,s,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),a[e].since<=s&&s<=a[e].until||a[e].until<=s&&s<=a[e].since)return a[e].name;return""}function F9(){var e,t,s,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),a[e].since<=s&&s<=a[e].until||a[e].until<=s&&s<=a[e].since)return a[e].narrow;return""}function j9(){var e,t,s,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),a[e].since<=s&&s<=a[e].until||a[e].until<=s&&s<=a[e].since)return a[e].abbr;return""}function U9(){var e,t,s,a,c=this.localeData().eras();for(e=0,t=c.length;e<t;++e)if(s=c[e].since<=c[e].until?1:-1,a=this.clone().startOf("day").valueOf(),c[e].since<=a&&a<=c[e].until||c[e].until<=a&&a<=c[e].since)return(this.year()-on(c[e].since).year())*s+c[e].offset;return this.year()}function $9(e){return hr(this,"_erasNameRegex")||IS.call(this),e?this._erasNameRegex:this._erasRegex}function G9(e){return hr(this,"_erasAbbrRegex")||IS.call(this),e?this._erasAbbrRegex:this._erasRegex}function V9(e){return hr(this,"_erasNarrowRegex")||IS.call(this),e?this._erasNarrowRegex:this._erasRegex}function DS(e,t){return t.erasAbbrRegex(e)}function H9(e,t){return t.erasNameRegex(e)}function W9(e,t){return t.erasNarrowRegex(e)}function Y9(e,t){return t._eraYearOrdinalRegex||$m}function IS(){var e=[],t=[],s=[],a=[],c,h,m=this.eras();for(c=0,h=m.length;c<h;++c)t.push(Nc(m[c].name)),e.push(Nc(m[c].abbr)),s.push(Nc(m[c].narrow)),a.push(Nc(m[c].name)),a.push(Nc(m[c].abbr)),a.push(Nc(m[c].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}$n(0,["gg",2],0,function(){return this.weekYear()%100});$n(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Fx(e,t){$n(0,[e,e.length],0,t)}Fx("gggg","weekYear");Fx("ggggg","weekYear");Fx("GGGG","isoWeekYear");Fx("GGGGG","isoWeekYear");ul("weekYear","gg");ul("isoWeekYear","GG");pl("weekYear",1);pl("isoWeekYear",1);wn("G",Ox);wn("g",Ox);wn("GG",ro,Hc);wn("gg",ro,Hc);wn("GGGG",bS,xS);wn("gggg",bS,xS);wn("GGGGG",Lx,Dx);wn("ggggg",Lx,Dx);p_(["gggg","ggggg","GGGG","GGGGG"],function(e,t,s,a){t[a.substr(0,2)]=Ns(e)});p_(["gg","GG"],function(e,t,s,a){t[a]=on.parseTwoDigitYear(e)});function q9(e){return AA.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function X9(e){return AA.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Z9(){return gu(this.year(),1,4)}function K9(){return gu(this.isoWeekYear(),1,4)}function J9(){var e=this.localeData()._week;return gu(this.year(),e.dow,e.doy)}function Q9(){var e=this.localeData()._week;return gu(this.weekYear(),e.dow,e.doy)}function AA(e,t,s,a,c){var h;return e==null?Y1(this,a,c).year:(h=gu(e,a,c),t>h&&(t=h),e7.call(this,e,t,s,a,c))}function e7(e,t,s,a,c){var h=aA(e,t,s,a,c),m=W1(h.year,0,h.dayOfYear);return this.year(m.getUTCFullYear()),this.month(m.getUTCMonth()),this.date(m.getUTCDate()),this}$n("Q",0,"Qo","quarter");ul("quarter","Q");pl("quarter",7);wn("Q",KM);Lr("Q",function(e,t){t[uu]=(Ns(e)-1)*3});function t7(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}$n("D",["DD",2],"Do","date");ul("date","D");pl("date",9);wn("D",ro);wn("DD",ro,Hc);wn("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Lr(["D","DD"],Sh);Lr("Do",function(e,t){t[Sh]=Ns(e.match(ro)[0])});var kA=Um("Date",!0);$n("DDD",["DDDD",3],"DDDo","dayOfYear");ul("dayOfYear","DDD");pl("dayOfYear",4);wn("DDD",Ix);wn("DDDD",JM);Lr(["DDD","DDDD"],function(e,t,s){s._dayOfYear=Ns(e)});function i7(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}$n("m",["mm",2],0,"minute");ul("minute","m");pl("minute",14);wn("m",ro);wn("mm",ro,Hc);Lr(["m","mm"],Vd);var n7=Um("Minutes",!1);$n("s",["ss",2],0,"second");ul("second","s");pl("second",15);wn("s",ro);wn("ss",ro,Hc);Lr(["s","ss"],pu);var s7=Um("Seconds",!1);$n("S",0,0,function(){return~~(this.millisecond()/100)});$n(0,["SS",2],0,function(){return~~(this.millisecond()/10)});$n(0,["SSS",3],0,"millisecond");$n(0,["SSSS",4],0,function(){return this.millisecond()*10});$n(0,["SSSSS",5],0,function(){return this.millisecond()*100});$n(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});$n(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});$n(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});$n(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ul("millisecond","ms");pl("millisecond",16);wn("S",Ix,KM);wn("SS",Ix,Hc);wn("SSS",Ix,JM);var fp,PA;for(fp="SSSS";fp.length<=9;fp+="S")wn(fp,$m);function r7(e,t){t[$f]=Ns(("0."+e)*1e3)}for(fp="S";fp.length<=9;fp+="S")Lr(fp,r7);PA=Um("Milliseconds",!1);$n("z",0,0,"zoneAbbr");$n("zz",0,0,"zoneName");function o7(){return this._isUTC?"UTC":""}function a7(){return this._isUTC?"Coordinated Universal Time":""}var Ki=h_.prototype;Ki.add=QO;Ki.calendar=o9;Ki.clone=a9;Ki.diff=f9;Ki.endOf=T9;Ki.format=y9;Ki.from=v9;Ki.fromNow=x9;Ki.to=b9;Ki.toNow=w9;Ki.get=cL;Ki.invalidAt=L9;Ki.isAfter=l9;Ki.isBefore=c9;Ki.isBetween=d9;Ki.isSame=h9;Ki.isSameOrAfter=u9;Ki.isSameOrBefore=p9;Ki.isValid=D9;Ki.lang=SA;Ki.locale=wA;Ki.localeData=TA;Ki.max=DO;Ki.min=PO;Ki.parsingFlags=I9;Ki.set=dL;Ki.startOf=S9;Ki.subtract=e9;Ki.toArray=A9;Ki.toObject=k9;Ki.toDate=M9;Ki.toISOString=g9;Ki.inspect=_9;typeof Symbol<"u"&&Symbol.for!=null&&(Ki[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Ki.toJSON=P9;Ki.toString=m9;Ki.unix=E9;Ki.valueOf=C9;Ki.creationData=O9;Ki.eraName=N9;Ki.eraNarrow=F9;Ki.eraAbbr=j9;Ki.eraYear=U9;Ki.year=oA;Ki.isLeapYear=kL;Ki.weekYear=q9;Ki.isoWeekYear=X9;Ki.quarter=Ki.quarters=t7;Ki.month=sA;Ki.daysInMonth=EL;Ki.week=Ki.weeks=RL;Ki.isoWeek=Ki.isoWeeks=BL;Ki.weeksInYear=J9;Ki.weeksInWeekYear=Q9;Ki.isoWeeksInYear=Z9;Ki.isoWeeksInISOWeekYear=K9;Ki.date=kA;Ki.day=Ki.days=XL;Ki.weekday=ZL;Ki.isoWeekday=KL;Ki.dayOfYear=i7;Ki.hour=Ki.hours=sO;Ki.minute=Ki.minutes=n7;Ki.second=Ki.seconds=s7;Ki.millisecond=Ki.milliseconds=PA;Ki.utcOffset=jO;Ki.utc=$O;Ki.local=GO;Ki.parseZone=VO;Ki.hasAlignedHourOffset=HO;Ki.isDST=WO;Ki.isLocal=qO;Ki.isUtcOffset=XO;Ki.isUtc=yA;Ki.isUTC=yA;Ki.zoneAbbr=o7;Ki.zoneName=a7;Ki.dates=Td("dates accessor is deprecated. Use date instead.",kA);Ki.months=Td("months accessor is deprecated. Use month instead",sA);Ki.years=Td("years accessor is deprecated. Use year instead",oA);Ki.zone=Td("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",UO);Ki.isDSTShifted=Td("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",YO);function l7(e){return so(e*1e3)}function c7(){return so.apply(null,arguments).parseZone()}function DA(e){return e}var ur=_S.prototype;ur.calendar=XI;ur.longDateFormat=QI;ur.invalidDate=tL;ur.ordinal=sL;ur.preparse=DA;ur.postformat=DA;ur.relativeTime=oL;ur.pastFuture=aL;ur.set=YI;ur.eras=R9;ur.erasParse=B9;ur.erasConvertYear=z9;ur.erasAbbrRegex=G9;ur.erasNameRegex=$9;ur.erasNarrowRegex=V9;ur.months=wL;ur.monthsShort=SL;ur.monthsParse=CL;ur.monthsRegex=AL;ur.monthsShortRegex=ML;ur.week=DL;ur.firstDayOfYear=OL;ur.firstDayOfWeek=LL;ur.weekdays=VL;ur.weekdaysMin=WL;ur.weekdaysShort=HL;ur.weekdaysParse=qL;ur.weekdaysRegex=JL;ur.weekdaysShortRegex=QL;ur.weekdaysMinRegex=eO;ur.isPM=iO;ur.meridiem=rO;function Gv(e,t,s,a){var c=Cu(),h=Dh().set(a,t);return c[s](h,e)}function IA(e,t,s){if(xu(e)&&(t=e,e=void 0),e=e||"",t!=null)return Gv(e,t,s,"month");var a,c=[];for(a=0;a<12;a++)c[a]=Gv(e,a,s,"month");return c}function LS(e,t,s,a){typeof e=="boolean"?(xu(t)&&(s=t,t=void 0),t=t||""):(t=e,s=t,e=!1,xu(t)&&(s=t,t=void 0),t=t||"");var c=Cu(),h=e?c._week.dow:0,m,n=[];if(s!=null)return Gv(t,(s+h)%7,a,"day");for(m=0;m<7;m++)n[m]=Gv(t,(m+h)%7,a,"day");return n}function d7(e,t){return IA(e,t,"months")}function h7(e,t){return IA(e,t,"monthsShort")}function u7(e,t,s){return LS(e,t,s,"weekdays")}function p7(e,t,s){return LS(e,t,s,"weekdaysShort")}function f7(e,t,s){return LS(e,t,s,"weekdaysMin")}wp("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,s=Ns(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+s}});on.lang=Td("moment.lang is deprecated. Use moment.locale instead.",wp);on.langData=Td("moment.langData is deprecated. Use moment.localeData instead.",Cu);var ru=Math.abs;function m7(){var e=this._data;return this._milliseconds=ru(this._milliseconds),this._days=ru(this._days),this._months=ru(this._months),e.milliseconds=ru(e.milliseconds),e.seconds=ru(e.seconds),e.minutes=ru(e.minutes),e.hours=ru(e.hours),e.months=ru(e.months),e.years=ru(e.years),this}function LA(e,t,s,a){var c=Xd(t,s);return e._milliseconds+=a*c._milliseconds,e._days+=a*c._days,e._months+=a*c._months,e._bubble()}function g7(e,t){return LA(this,e,t,1)}function _7(e,t){return LA(this,e,t,-1)}function x5(e){return e<0?Math.floor(e):Math.ceil(e)}function y7(){var e=this._milliseconds,t=this._days,s=this._months,a=this._data,c,h,m,n,x;return e>=0&&t>=0&&s>=0||e<=0&&t<=0&&s<=0||(e+=x5(qw(s)+t)*864e5,t=0,s=0),a.milliseconds=e%1e3,c=yd(e/1e3),a.seconds=c%60,h=yd(c/60),a.minutes=h%60,m=yd(h/60),a.hours=m%24,t+=yd(m/24),x=yd(OA(t)),s+=x,t-=x5(qw(x)),n=yd(s/12),s%=12,a.days=t,a.months=s,a.years=n,this}function OA(e){return e*4800/146097}function qw(e){return e*146097/4800}function v7(e){if(!this.isValid())return NaN;var t,s,a=this._milliseconds;if(e=Cd(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+a/864e5,s=this._months+OA(t),e){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(t=this._days+Math.round(qw(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return t*24+a/36e5;case"minute":return t*1440+a/6e4;case"second":return t*86400+a/1e3;case"millisecond":return Math.floor(t*864e5)+a;default:throw new Error("Unknown unit "+e)}}function x7(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Ns(this._months/12)*31536e6:NaN}function Eu(e){return function(){return this.as(e)}}var b7=Eu("ms"),w7=Eu("s"),S7=Eu("m"),T7=Eu("h"),C7=Eu("d"),E7=Eu("w"),M7=Eu("M"),A7=Eu("Q"),k7=Eu("y");function P7(){return Xd(this)}function D7(e){return e=Cd(e),this.isValid()?this[e+"s"]():NaN}function s0(e){return function(){return this.isValid()?this._data[e]:NaN}}var I7=s0("milliseconds"),L7=s0("seconds"),O7=s0("minutes"),R7=s0("hours"),B7=s0("days"),z7=s0("months"),N7=s0("years");function F7(){return yd(this.days()/7)}var du=Math.round,fm={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function j7(e,t,s,a,c){return c.relativeTime(t||1,!!s,e,a)}function U7(e,t,s,a){var c=Xd(e).abs(),h=du(c.as("s")),m=du(c.as("m")),n=du(c.as("h")),x=du(c.as("d")),z=du(c.as("M")),Y=du(c.as("w")),O=du(c.as("y")),V=h<=s.ss&&["s",h]||h<s.s&&["ss",h]||m<=1&&["m"]||m<s.m&&["mm",m]||n<=1&&["h"]||n<s.h&&["hh",n]||x<=1&&["d"]||x<s.d&&["dd",x];return s.w!=null&&(V=V||Y<=1&&["w"]||Y<s.w&&["ww",Y]),V=V||z<=1&&["M"]||z<s.M&&["MM",z]||O<=1&&["y"]||["yy",O],V[2]=t,V[3]=+e>0,V[4]=a,j7.apply(null,V)}function $7(e){return e===void 0?du:typeof e=="function"?(du=e,!0):!1}function G7(e,t){return fm[e]===void 0?!1:t===void 0?fm[e]:(fm[e]=t,e==="s"&&(fm.ss=t-1),!0)}function V7(e,t){if(!this.isValid())return this.localeData().invalidDate();var s=!1,a=fm,c,h;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(s=e),typeof t=="object"&&(a=Object.assign({},fm,t),t.s!=null&&t.ss==null&&(a.ss=t.s-1)),c=this.localeData(),h=U7(this,!s,a,c),s&&(h=c.pastFuture(+this,h)),c.postformat(h)}var Z2=Math.abs;function hm(e){return(e>0)-(e<0)||+e}function jx(){if(!this.isValid())return this.localeData().invalidDate();var e=Z2(this._milliseconds)/1e3,t=Z2(this._days),s=Z2(this._months),a,c,h,m,n=this.asSeconds(),x,z,Y,O;return n?(a=yd(e/60),c=yd(a/60),e%=60,a%=60,h=yd(s/12),s%=12,m=e?e.toFixed(3).replace(/\.?0+$/,""):"",x=n<0?"-":"",z=hm(this._months)!==hm(n)?"-":"",Y=hm(this._days)!==hm(n)?"-":"",O=hm(this._milliseconds)!==hm(n)?"-":"",x+"P"+(h?z+h+"Y":"")+(s?z+s+"M":"")+(t?Y+t+"D":"")+(c||a||e?"T":"")+(c?O+c+"H":"")+(a?O+a+"M":"")+(e?O+m+"S":"")):"P0D"}var Zs=Nx.prototype;Zs.isValid=BO;Zs.abs=m7;Zs.add=g7;Zs.subtract=_7;Zs.as=v7;Zs.asMilliseconds=b7;Zs.asSeconds=w7;Zs.asMinutes=S7;Zs.asHours=T7;Zs.asDays=C7;Zs.asWeeks=E7;Zs.asMonths=M7;Zs.asQuarters=A7;Zs.asYears=k7;Zs.valueOf=x7;Zs._bubble=y7;Zs.clone=P7;Zs.get=D7;Zs.milliseconds=I7;Zs.seconds=L7;Zs.minutes=O7;Zs.hours=R7;Zs.days=B7;Zs.weeks=F7;Zs.months=z7;Zs.years=N7;Zs.humanize=V7;Zs.toISOString=jx;Zs.toString=jx;Zs.toJSON=jx;Zs.locale=wA;Zs.localeData=TA;Zs.toIsoString=Td("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",jx);Zs.lang=SA;$n("X",0,0,"unix");$n("x",0,0,"valueOf");wn("x",Ox);wn("X",uL);Lr("X",function(e,t,s){s._d=new Date(parseFloat(e)*1e3)});Lr("x",function(e,t,s){s._d=new Date(Ns(e))});//! moment.js
on.version="2.29.4";HI(so);on.fn=Ki;on.min=IO;on.max=LO;on.now=OO;on.utc=Dh;on.unix=l7;on.months=d7;on.isDate=d_;on.locale=wp;on.invalid=kx;on.duration=Xd;on.isMoment=qd;on.weekdays=u7;on.parseZone=c7;on.localeData=Cu;on.isDuration=pv;on.monthsShort=h7;on.weekdaysMin=f7;on.defineLocale=CS;on.updateLocale=cO;on.locales=dO;on.weekdaysShort=p7;on.normalizeUnits=Cd;on.relativeTimeRounding=$7;on.relativeTimeThreshold=G7;on.calendarFormat=r9;on.prototype=Ki;on.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var cp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},RA={exports:{}};/*!
* sweetalert2 v11.4.0
* Released under the MIT License.
*/(function(e,t){(function(s,a){e.exports=a()})(cp,function(){const s="SweetAlert2:",a=xe=>{const Se=[];for(let Ge=0;Ge<xe.length;Ge++)Se.indexOf(xe[Ge])===-1&&Se.push(xe[Ge]);return Se},c=xe=>xe.charAt(0).toUpperCase()+xe.slice(1),h=xe=>Array.prototype.slice.call(xe),m=xe=>{console.warn("".concat(s," ").concat(typeof xe=="object"?xe.join(" "):xe))},n=xe=>{console.error("".concat(s," ").concat(xe))},x=[],z=xe=>{x.includes(xe)||(x.push(xe),m(xe))},Y=(xe,Se)=>{z('"'.concat(xe,'" is deprecated and will be removed in the next major release. Please use "').concat(Se,'" instead.'))},O=xe=>typeof xe=="function"?xe():xe,V=xe=>xe&&typeof xe.toPromise=="function",q=xe=>V(xe)?xe.toPromise():Promise.resolve(xe),L=xe=>xe&&Promise.resolve(xe)===xe,I={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},H=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],M={},C=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],A=xe=>Object.prototype.hasOwnProperty.call(I,xe),U=xe=>H.indexOf(xe)!==-1,$=xe=>M[xe],E=xe=>{A(xe)||m('Unknown parameter "'.concat(xe,'"'))},ee=xe=>{C.includes(xe)&&m('The parameter "'.concat(xe,'" is incompatible with toasts'))},Q=xe=>{$(xe)&&Y(xe,$(xe))},N=xe=>{!xe.backdrop&&xe.allowOutsideClick&&m('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const Se in xe)E(Se),xe.toast&&ee(Se),Q(Se)},j="swal2-",W=xe=>{const Se={};for(const Ge in xe)Se[xe[Ge]]=j+xe[Ge];return Se},S=W(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),P=W(["success","warning","info","question","error"]),f=()=>document.body.querySelector(".".concat(S.container)),g=xe=>{const Se=f();return Se?Se.querySelector(xe):null},b=xe=>g(".".concat(xe)),D=()=>b(S.popup),X=()=>b(S.icon),te=()=>b(S.title),Z=()=>b(S["html-container"]),de=()=>b(S.image),ge=()=>b(S["progress-steps"]),Ce=()=>b(S["validation-message"]),J=()=>g(".".concat(S.actions," .").concat(S.confirm)),oe=()=>g(".".concat(S.actions," .").concat(S.deny)),ce=()=>b(S["input-label"]),pe=()=>g(".".concat(S.loader)),Ee=()=>g(".".concat(S.actions," .").concat(S.cancel)),ne=()=>b(S.actions),ye=()=>b(S.footer),_e=()=>b(S["timer-progress-bar"]),ae=()=>b(S.close),me=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,we=()=>{const xe=h(D().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((Ge,xt)=>{const bi=parseInt(Ge.getAttribute("tabindex")),mn=parseInt(xt.getAttribute("tabindex"));return bi>mn?1:bi<mn?-1:0}),Se=h(D().querySelectorAll(me)).filter(Ge=>Ge.getAttribute("tabindex")!=="-1");return a(xe.concat(Se)).filter(Ge=>wi(Ge))},Re=()=>!qe(document.body,S["toast-shown"])&&!qe(document.body,S["no-backdrop"]),Le=()=>D()&&qe(D(),S.toast),$e=()=>D().hasAttribute("data-loading"),rt={previousBodyPadding:null},Qe=(xe,Se)=>{if(xe.textContent="",Se){const xt=new DOMParser().parseFromString(Se,"text/html");h(xt.querySelector("head").childNodes).forEach(bi=>{xe.appendChild(bi)}),h(xt.querySelector("body").childNodes).forEach(bi=>{xe.appendChild(bi)})}},qe=(xe,Se)=>{if(!Se)return!1;const Ge=Se.split(/\s+/);for(let xt=0;xt<Ge.length;xt++)if(!xe.classList.contains(Ge[xt]))return!1;return!0},Te=(xe,Se)=>{h(xe.classList).forEach(Ge=>{!Object.values(S).includes(Ge)&&!Object.values(P).includes(Ge)&&!Object.values(Se.showClass).includes(Ge)&&xe.classList.remove(Ge)})},Oe=(xe,Se,Ge)=>{if(Te(xe,Se),Se.customClass&&Se.customClass[Ge]){if(typeof Se.customClass[Ge]!="string"&&!Se.customClass[Ge].forEach)return m("Invalid type of customClass.".concat(Ge,'! Expected string or iterable object, got "').concat(typeof Se.customClass[Ge],'"'));pt(xe,Se.customClass[Ge])}},ze=(xe,Se)=>{if(!Se)return null;switch(Se){case"select":case"textarea":case"file":return xe.querySelector(".".concat(S.popup," > .").concat(S[Se]));case"checkbox":return xe.querySelector(".".concat(S.popup," > .").concat(S.checkbox," input"));case"radio":return xe.querySelector(".".concat(S.popup," > .").concat(S.radio," input:checked"))||xe.querySelector(".".concat(S.popup," > .").concat(S.radio," input:first-child"));case"range":return xe.querySelector(".".concat(S.popup," > .").concat(S.range," input"));default:return xe.querySelector(".".concat(S.popup," > .").concat(S.input))}},Xe=xe=>{if(xe.focus(),xe.type!=="file"){const Se=xe.value;xe.value="",xe.value=Se}},Ke=(xe,Se,Ge)=>{!xe||!Se||(typeof Se=="string"&&(Se=Se.split(/\s+/).filter(Boolean)),Se.forEach(xt=>{Array.isArray(xe)?xe.forEach(bi=>{Ge?bi.classList.add(xt):bi.classList.remove(xt)}):Ge?xe.classList.add(xt):xe.classList.remove(xt)}))},pt=(xe,Se)=>{Ke(xe,Se,!0)},Tt=(xe,Se)=>{Ke(xe,Se,!1)},Bt=(xe,Se)=>{const Ge=h(xe.childNodes);for(let xt=0;xt<Ge.length;xt++)if(qe(Ge[xt],Se))return Ge[xt]},ci=(xe,Se,Ge)=>{Ge==="".concat(parseInt(Ge))&&(Ge=parseInt(Ge)),Ge||parseInt(Ge)===0?xe.style[Se]=typeof Ge=="number"?"".concat(Ge,"px"):Ge:xe.style.removeProperty(Se)},Wt=function(xe){let Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";xe.style.display=Se},ui=xe=>{xe.style.display="none"},ji=(xe,Se,Ge,xt)=>{const bi=xe.querySelector(Se);bi&&(bi.style[Ge]=xt)},Ii=(xe,Se,Ge)=>{Se?Wt(xe,Ge):ui(xe)},wi=xe=>!!(xe&&(xe.offsetWidth||xe.offsetHeight||xe.getClientRects().length)),Ci=()=>!wi(J())&&!wi(oe())&&!wi(Ee()),sn=xe=>xe.scrollHeight>xe.clientHeight,vn=xe=>{const Se=window.getComputedStyle(xe),Ge=parseFloat(Se.getPropertyValue("animation-duration")||"0"),xt=parseFloat(Se.getPropertyValue("transition-duration")||"0");return Ge>0||xt>0},Gn=function(xe){let Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const Ge=_e();wi(Ge)&&(Se&&(Ge.style.transition="none",Ge.style.width="100%"),setTimeout(()=>{Ge.style.transition="width ".concat(xe/1e3,"s linear"),Ge.style.width="0%"},10))},br=()=>{const xe=_e(),Se=parseInt(window.getComputedStyle(xe).width);xe.style.removeProperty("transition"),xe.style.width="100%";const Ge=parseInt(window.getComputedStyle(xe).width),xt=Se/Ge*100;xe.style.removeProperty("transition"),xe.style.width="".concat(xt,"%")},us=()=>typeof window>"u"||typeof document>"u",Ps=100,nn={},qr=()=>{nn.previousActiveElement&&nn.previousActiveElement.focus?(nn.previousActiveElement.focus(),nn.previousActiveElement=null):document.body&&document.body.focus()},zo=xe=>new Promise(Se=>{if(!xe)return Se();const Ge=window.scrollX,xt=window.scrollY;nn.restoreFocusTimeout=setTimeout(()=>{qr(),Se()},Ps),window.scrollTo(Ge,xt)}),fa=`
 <div aria-labelledby="`.concat(S.title,'" aria-describedby="').concat(S["html-container"],'" class="').concat(S.popup,`" tabindex="-1">
   <button type="button" class="`).concat(S.close,`"></button>
   <ul class="`).concat(S["progress-steps"],`"></ul>
   <div class="`).concat(S.icon,`"></div>
   <img class="`).concat(S.image,`" />
   <h2 class="`).concat(S.title,'" id="').concat(S.title,`"></h2>
   <div class="`).concat(S["html-container"],'" id="').concat(S["html-container"],`"></div>
   <input class="`).concat(S.input,`" />
   <input type="file" class="`).concat(S.file,`" />
   <div class="`).concat(S.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(S.select,`"></select>
   <div class="`).concat(S.radio,`"></div>
   <label for="`).concat(S.checkbox,'" class="').concat(S.checkbox,`">
     <input type="checkbox" />
     <span class="`).concat(S.label,`"></span>
   </label>
   <textarea class="`).concat(S.textarea,`"></textarea>
   <div class="`).concat(S["validation-message"],'" id="').concat(S["validation-message"],`"></div>
   <div class="`).concat(S.actions,`">
     <div class="`).concat(S.loader,`"></div>
     <button type="button" class="`).concat(S.confirm,`"></button>
     <button type="button" class="`).concat(S.deny,`"></button>
     <button type="button" class="`).concat(S.cancel,`"></button>
   </div>
   <div class="`).concat(S.footer,`"></div>
   <div class="`).concat(S["timer-progress-bar-container"],`">
     <div class="`).concat(S["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),Ko=()=>{const xe=f();return xe?(xe.remove(),Tt([document.documentElement,document.body],[S["no-backdrop"],S["toast-shown"],S["has-column"]]),!0):!1},lr=()=>{nn.currentInstance.resetValidationMessage()},No=()=>{const xe=D(),Se=Bt(xe,S.input),Ge=Bt(xe,S.file),xt=xe.querySelector(".".concat(S.range," input")),bi=xe.querySelector(".".concat(S.range," output")),mn=Bt(xe,S.select),cs=xe.querySelector(".".concat(S.checkbox," input")),Fr=Bt(xe,S.textarea);Se.oninput=lr,Ge.onchange=lr,mn.onchange=lr,cs.onchange=lr,Fr.oninput=lr,xt.oninput=()=>{lr(),bi.value=xt.value},xt.onchange=()=>{lr(),xt.nextSibling.value=xt.value}},Va=xe=>typeof xe=="string"?document.querySelector(xe):xe,ut=xe=>{const Se=D();Se.setAttribute("role",xe.toast?"alert":"dialog"),Se.setAttribute("aria-live",xe.toast?"polite":"assertive"),xe.toast||Se.setAttribute("aria-modal","true")},Fe=xe=>{window.getComputedStyle(xe).direction==="rtl"&&pt(f(),S.rtl)},We=xe=>{const Se=Ko();if(us()){n("SweetAlert2 requires document to initialize");return}const Ge=document.createElement("div");Ge.className=S.container,Se&&pt(Ge,S["no-transition"]),Qe(Ge,fa);const xt=Va(xe.target);xt.appendChild(Ge),ut(xe),Fe(xt),No()},dt=(xe,Se)=>{xe instanceof HTMLElement?Se.appendChild(xe):typeof xe=="object"?vt(xe,Se):xe&&Qe(Se,xe)},vt=(xe,Se)=>{xe.jquery?_t(Se,xe):Qe(Se,xe.toString())},_t=(xe,Se)=>{if(xe.textContent="",0 in Se)for(let Ge=0;Ge in Se;Ge++)xe.appendChild(Se[Ge].cloneNode(!0));else xe.appendChild(Se.cloneNode(!0))},Nt=(()=>{if(us())return!1;const xe=document.createElement("div"),Se={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const Ge in Se)if(Object.prototype.hasOwnProperty.call(Se,Ge)&&typeof xe.style[Ge]<"u")return Se[Ge];return!1})(),Mt=()=>{const xe=document.createElement("div");xe.className=S["scrollbar-measure"],document.body.appendChild(xe);const Se=xe.getBoundingClientRect().width-xe.clientWidth;return document.body.removeChild(xe),Se},Lt=(xe,Se)=>{const Ge=ne(),xt=pe();!Se.showConfirmButton&&!Se.showDenyButton&&!Se.showCancelButton?ui(Ge):Wt(Ge),Oe(Ge,Se,"actions"),Ut(Ge,xt,Se),Qe(xt,Se.loaderHtml),Oe(xt,Se,"loader")};function Ut(xe,Se,Ge){const xt=J(),bi=oe(),mn=Ee();Gi(xt,"confirm",Ge),Gi(bi,"deny",Ge),Gi(mn,"cancel",Ge),mi(xt,bi,mn,Ge),Ge.reverseButtons&&(Ge.toast?(xe.insertBefore(mn,xt),xe.insertBefore(bi,xt)):(xe.insertBefore(mn,Se),xe.insertBefore(bi,Se),xe.insertBefore(xt,Se)))}function mi(xe,Se,Ge,xt){if(!xt.buttonsStyling)return Tt([xe,Se,Ge],S.styled);pt([xe,Se,Ge],S.styled),xt.confirmButtonColor&&(xe.style.backgroundColor=xt.confirmButtonColor,pt(xe,S["default-outline"])),xt.denyButtonColor&&(Se.style.backgroundColor=xt.denyButtonColor,pt(Se,S["default-outline"])),xt.cancelButtonColor&&(Ge.style.backgroundColor=xt.cancelButtonColor,pt(Ge,S["default-outline"]))}function Gi(xe,Se,Ge){Ii(xe,Ge["show".concat(c(Se),"Button")],"inline-block"),Qe(xe,Ge["".concat(Se,"ButtonText")]),xe.setAttribute("aria-label",Ge["".concat(Se,"ButtonAriaLabel")]),xe.className=S[Se],Oe(xe,Ge,"".concat(Se,"Button")),pt(xe,Ge["".concat(Se,"ButtonClass")])}function Mi(xe,Se){typeof Se=="string"?xe.style.background=Se:Se||pt([document.documentElement,document.body],S["no-backdrop"])}function yn(xe,Se){Se in S?pt(xe,S[Se]):(m('The "position" parameter is not valid, defaulting to "center"'),pt(xe,S.center))}function _n(xe,Se){if(Se&&typeof Se=="string"){const Ge="grow-".concat(Se);Ge in S&&pt(xe,S[Ge])}}const an=(xe,Se)=>{const Ge=f();Ge&&(Mi(Ge,Se.backdrop),yn(Ge,Se.position),_n(Ge,Se.grow),Oe(Ge,Se,"container"))};var $i={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Qn=["input","file","range","select","radio","checkbox","textarea"],gs=(xe,Se)=>{const Ge=D(),xt=$i.innerParams.get(xe),bi=!xt||Se.input!==xt.input;Qn.forEach(mn=>{const cs=S[mn],Fr=Bt(Ge,cs);xs(mn,Se.inputAttributes),Fr.className=cs,bi&&ui(Fr)}),Se.input&&(bi&&pn(Se),ma(Se))},pn=xe=>{if(!Js[xe.input])return n('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(xe.input,'"'));const Se=di(xe.input),Ge=Js[xe.input](Se,xe);Wt(Ge),setTimeout(()=>{Xe(Ge)})},Rs=xe=>{for(let Se=0;Se<xe.attributes.length;Se++){const Ge=xe.attributes[Se].name;["type","value","style"].includes(Ge)||xe.removeAttribute(Ge)}},xs=(xe,Se)=>{const Ge=ze(D(),xe);if(Ge){Rs(Ge);for(const xt in Se)Ge.setAttribute(xt,Se[xt])}},ma=xe=>{const Se=di(xe.input);xe.customClass&&pt(Se,xe.customClass.input)},ga=(xe,Se)=>{(!xe.placeholder||Se.inputPlaceholder)&&(xe.placeholder=Se.inputPlaceholder)},Xr=(xe,Se,Ge)=>{if(Ge.inputLabel){xe.id=S.input;const xt=document.createElement("label"),bi=S["input-label"];xt.setAttribute("for",xe.id),xt.className=bi,pt(xt,Ge.customClass.inputLabel),xt.innerText=Ge.inputLabel,Se.insertAdjacentElement("beforebegin",xt)}},di=xe=>{const Se=S[xe]?S[xe]:S.input;return Bt(D(),Se)},Js={};Js.text=Js.email=Js.password=Js.number=Js.tel=Js.url=(xe,Se)=>(typeof Se.inputValue=="string"||typeof Se.inputValue=="number"?xe.value=Se.inputValue:L(Se.inputValue)||m('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof Se.inputValue,'"')),Xr(xe,xe,Se),ga(xe,Se),xe.type=Se.input,xe),Js.file=(xe,Se)=>(Xr(xe,xe,Se),ga(xe,Se),xe),Js.range=(xe,Se)=>{const Ge=xe.querySelector("input"),xt=xe.querySelector("output");return Ge.value=Se.inputValue,Ge.type=Se.input,xt.value=Se.inputValue,Xr(Ge,xe,Se),xe},Js.select=(xe,Se)=>{if(xe.textContent="",Se.inputPlaceholder){const Ge=document.createElement("option");Qe(Ge,Se.inputPlaceholder),Ge.value="",Ge.disabled=!0,Ge.selected=!0,xe.appendChild(Ge)}return Xr(xe,xe,Se),xe},Js.radio=xe=>(xe.textContent="",xe),Js.checkbox=(xe,Se)=>{const Ge=ze(D(),"checkbox");Ge.value="1",Ge.id=S.checkbox,Ge.checked=!!Se.inputValue;const xt=xe.querySelector("span");return Qe(xt,Se.inputPlaceholder),xe},Js.textarea=(xe,Se)=>{xe.value=Se.inputValue,ga(xe,Se),Xr(xe,xe,Se);const Ge=xt=>parseInt(window.getComputedStyle(xt).marginLeft)+parseInt(window.getComputedStyle(xt).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const xt=parseInt(window.getComputedStyle(D()).width),bi=()=>{const mn=xe.offsetWidth+Ge(xe);mn>xt?D().style.width="".concat(mn,"px"):D().style.width=null};new MutationObserver(bi).observe(xe,{attributes:!0,attributeFilter:["style"]})}}),xe};const _r=(xe,Se)=>{const Ge=Z();Oe(Ge,Se,"htmlContainer"),Se.html?(dt(Se.html,Ge),Wt(Ge,"block")):Se.text?(Ge.textContent=Se.text,Wt(Ge,"block")):ui(Ge),gs(xe,Se)},yr=(xe,Se)=>{const Ge=ye();Ii(Ge,Se.footer),Se.footer&&dt(Se.footer,Ge),Oe(Ge,Se,"footer")},Gl=(xe,Se)=>{const Ge=ae();Qe(Ge,Se.closeButtonHtml),Oe(Ge,Se,"closeButton"),Ii(Ge,Se.showCloseButton),Ge.setAttribute("aria-label",Se.closeButtonAriaLabel)},oo=(xe,Se)=>{const Ge=$i.innerParams.get(xe),xt=X();if(Ge&&Se.icon===Ge.icon){Vn(xt,Se),gc(xt,Se);return}if(!Se.icon&&!Se.iconHtml)return ui(xt);if(Se.icon&&Object.keys(P).indexOf(Se.icon)===-1)return n('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(Se.icon,'"')),ui(xt);Wt(xt),Vn(xt,Se),gc(xt,Se),pt(xt,Se.showClass.icon)},gc=(xe,Se)=>{for(const Ge in P)Se.icon!==Ge&&Tt(xe,P[Ge]);pt(xe,P[Se.icon]),es(xe,Se),Ed(),Oe(xe,Se,"icon")},Ed=()=>{const xe=D(),Se=window.getComputedStyle(xe).getPropertyValue("background-color"),Ge=xe.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let xt=0;xt<Ge.length;xt++)Ge[xt].style.backgroundColor=Se},Vr=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Hi=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Vn=(xe,Se)=>{xe.textContent="",Se.iconHtml?Qe(xe,Eo(Se.iconHtml)):Se.icon==="success"?Qe(xe,Vr):Se.icon==="error"?Qe(xe,Hi):Qe(xe,Eo({question:"?",warning:"!",info:"i"}[Se.icon]))},es=(xe,Se)=>{if(Se.iconColor){xe.style.color=Se.iconColor,xe.style.borderColor=Se.iconColor;for(const Ge of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ji(xe,Ge,"backgroundColor",Se.iconColor);ji(xe,".swal2-success-ring","borderColor",Se.iconColor)}},Eo=xe=>'<div class="'.concat(S["icon-content"],'">').concat(xe,"</div>"),_a=(xe,Se)=>{const Ge=de();if(!Se.imageUrl)return ui(Ge);Wt(Ge,""),Ge.setAttribute("src",Se.imageUrl),Ge.setAttribute("alt",Se.imageAlt),ci(Ge,"width",Se.imageWidth),ci(Ge,"height",Se.imageHeight),Ge.className=S.image,Oe(Ge,Se,"image")},An=xe=>{const Se=document.createElement("li");return pt(Se,S["progress-step"]),Qe(Se,xe),Se},Vl=xe=>{const Se=document.createElement("li");return pt(Se,S["progress-step-line"]),xe.progressStepsDistance&&(Se.style.width=xe.progressStepsDistance),Se},Jo=(xe,Se)=>{const Ge=ge();if(!Se.progressSteps||Se.progressSteps.length===0)return ui(Ge);Wt(Ge),Ge.textContent="",Se.currentProgressStep>=Se.progressSteps.length&&m("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),Se.progressSteps.forEach((xt,bi)=>{const mn=An(xt);if(Ge.appendChild(mn),bi===Se.currentProgressStep&&pt(mn,S["active-progress-step"]),bi!==Se.progressSteps.length-1){const cs=Vl(Se);Ge.appendChild(cs)}})},ka=(xe,Se)=>{const Ge=te();Ii(Ge,Se.title||Se.titleText,"block"),Se.title&&dt(Se.title,Ge),Se.titleText&&(Ge.innerText=Se.titleText),Oe(Ge,Se,"title")},Or=(xe,Se)=>{const Ge=f(),xt=D();Se.toast?(ci(Ge,"width",Se.width),xt.style.width="100%",xt.insertBefore(pe(),X())):ci(xt,"width",Se.width),ci(xt,"padding",Se.padding),Se.color&&(xt.style.color=Se.color),Se.background&&(xt.style.background=Se.background),ui(Ce()),Ds(xt,Se)},Ds=(xe,Se)=>{xe.className="".concat(S.popup," ").concat(wi(xe)?Se.showClass.popup:""),Se.toast?(pt([document.documentElement,document.body],S["toast-shown"]),pt(xe,S.toast)):pt(xe,S.modal),Oe(xe,Se,"popup"),typeof Se.customClass=="string"&&pt(xe,Se.customClass),Se.icon&&pt(xe,S["icon-".concat(Se.icon)])},Hr=(xe,Se)=>{Or(xe,Se),an(xe,Se),Jo(xe,Se),oo(xe,Se),_a(xe,Se),ka(xe,Se),Gl(xe,Se),_r(xe,Se),Lt(xe,Se),yr(xe,Se),typeof Se.didRender=="function"&&Se.didRender(D())},yo=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ml=()=>{h(document.body.children).forEach(Se=>{Se===f()||Se.contains(f())||(Se.hasAttribute("aria-hidden")&&Se.setAttribute("data-previous-aria-hidden",Se.getAttribute("aria-hidden")),Se.setAttribute("aria-hidden","true"))})},Fo=()=>{h(document.body.children).forEach(Se=>{Se.hasAttribute("data-previous-aria-hidden")?(Se.setAttribute("aria-hidden",Se.getAttribute("data-previous-aria-hidden")),Se.removeAttribute("data-previous-aria-hidden")):Se.removeAttribute("aria-hidden")})},Ha=["swal-title","swal-html","swal-footer"],Wa=xe=>{const Se=typeof xe.template=="string"?document.querySelector(xe.template):xe.template;if(!Se)return{};const Ge=Se.content;return gl(Ge),Object.assign(Pa(Ge),Ya(Ge),_c(Ge),yc(Ge),po(Ge),pr(Ge,Ha))},Pa=xe=>{const Se={};return h(xe.querySelectorAll("swal-param")).forEach(Ge=>{Da(Ge,["name","value"]);const xt=Ge.getAttribute("name"),bi=Ge.getAttribute("value");typeof I[xt]=="boolean"&&bi==="false"&&(Se[xt]=!1),typeof I[xt]=="object"&&(Se[xt]=JSON.parse(bi))}),Se},Ya=xe=>{const Se={};return h(xe.querySelectorAll("swal-button")).forEach(Ge=>{Da(Ge,["type","color","aria-label"]);const xt=Ge.getAttribute("type");Se["".concat(xt,"ButtonText")]=Ge.innerHTML,Se["show".concat(c(xt),"Button")]=!0,Ge.hasAttribute("color")&&(Se["".concat(xt,"ButtonColor")]=Ge.getAttribute("color")),Ge.hasAttribute("aria-label")&&(Se["".concat(xt,"ButtonAriaLabel")]=Ge.getAttribute("aria-label"))}),Se},_c=xe=>{const Se={},Ge=xe.querySelector("swal-image");return Ge&&(Da(Ge,["src","width","height","alt"]),Ge.hasAttribute("src")&&(Se.imageUrl=Ge.getAttribute("src")),Ge.hasAttribute("width")&&(Se.imageWidth=Ge.getAttribute("width")),Ge.hasAttribute("height")&&(Se.imageHeight=Ge.getAttribute("height")),Ge.hasAttribute("alt")&&(Se.imageAlt=Ge.getAttribute("alt"))),Se},yc=xe=>{const Se={},Ge=xe.querySelector("swal-icon");return Ge&&(Da(Ge,["type","color"]),Ge.hasAttribute("type")&&(Se.icon=Ge.getAttribute("type")),Ge.hasAttribute("color")&&(Se.iconColor=Ge.getAttribute("color")),Se.iconHtml=Ge.innerHTML),Se},po=xe=>{const Se={},Ge=xe.querySelector("swal-input");Ge&&(Da(Ge,["type","label","placeholder","value"]),Se.input=Ge.getAttribute("type")||"text",Ge.hasAttribute("label")&&(Se.inputLabel=Ge.getAttribute("label")),Ge.hasAttribute("placeholder")&&(Se.inputPlaceholder=Ge.getAttribute("placeholder")),Ge.hasAttribute("value")&&(Se.inputValue=Ge.getAttribute("value")));const xt=xe.querySelectorAll("swal-input-option");return xt.length&&(Se.inputOptions={},h(xt).forEach(bi=>{Da(bi,["value"]);const mn=bi.getAttribute("value"),cs=bi.innerHTML;Se.inputOptions[mn]=cs})),Se},pr=(xe,Se)=>{const Ge={};for(const xt in Se){const bi=Se[xt],mn=xe.querySelector(bi);mn&&(Da(mn,[]),Ge[bi.replace(/^swal-/,"")]=mn.innerHTML.trim())}return Ge},gl=xe=>{const Se=Ha.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);h(xe.children).forEach(Ge=>{const xt=Ge.tagName.toLowerCase();Se.indexOf(xt)===-1&&m("Unrecognized element <".concat(xt,">"))})},Da=(xe,Se)=>{h(xe.attributes).forEach(Ge=>{Se.indexOf(Ge.name)===-1&&m(['Unrecognized attribute "'.concat(Ge.name,'" on <').concat(xe.tagName.toLowerCase(),">."),"".concat(Se.length?"Allowed attributes are: ".concat(Se.join(", ")):"To set the value, use HTML within the element.")])})};var Rr={email:(xe,Se)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(xe)?Promise.resolve():Promise.resolve(Se||"Invalid email address"),url:(xe,Se)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(xe)?Promise.resolve():Promise.resolve(Se||"Invalid URL")};function jo(xe){xe.inputValidator||Object.keys(Rr).forEach(Se=>{xe.input===Se&&(xe.inputValidator=Rr[Se])})}function Zd(xe){(!xe.target||typeof xe.target=="string"&&!document.querySelector(xe.target)||typeof xe.target!="string"&&!xe.target.appendChild)&&(m('Target parameter is not valid, defaulting to "body"'),xe.target="body")}function Yc(xe){jo(xe),xe.showLoaderOnConfirm&&!xe.preConfirm&&m(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Zd(xe),typeof xe.title=="string"&&(xe.title=xe.title.split(`
`).join("<br />")),We(xe)}class kr{constructor(Se,Ge){this.callback=Se,this.remaining=Ge,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(Se){const Ge=this.running;return Ge&&this.stop(),this.remaining+=Se,Ge&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const _l=()=>{rt.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(rt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(rt.previousBodyPadding+Mt(),"px"))},qc=()=>{rt.previousBodyPadding!==null&&(document.body.style.paddingRight="".concat(rt.previousBodyPadding,"px"),rt.previousBodyPadding=null)},yl=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!qe(document.body,S.iosfix)){const Se=document.body.scrollTop;document.body.style.top="".concat(Se*-1,"px"),pt(document.body,S.iosfix),qa(),Br()}},Br=()=>{const xe=navigator.userAgent,Se=!!xe.match(/iPad/i)||!!xe.match(/iPhone/i),Ge=!!xe.match(/WebKit/i);Se&&Ge&&!xe.match(/CriOS/i)&&D().scrollHeight>window.innerHeight-44&&(f().style.paddingBottom="".concat(44,"px"))},qa=()=>{const xe=f();let Se;xe.ontouchstart=Ge=>{Se=Xc(Ge)},xe.ontouchmove=Ge=>{Se&&(Ge.preventDefault(),Ge.stopPropagation())}},Xc=xe=>{const Se=xe.target,Ge=f();return ys(xe)||Ts(xe)?!1:Se===Ge||!sn(Ge)&&Se.tagName!=="INPUT"&&Se.tagName!=="TEXTAREA"&&!(sn(Z())&&Z().contains(Se))},ys=xe=>xe.touches&&xe.touches.length&&xe.touches[0].touchType==="stylus",Ts=xe=>xe.touches&&xe.touches.length>1,Zc=()=>{if(qe(document.body,S.iosfix)){const xe=parseInt(document.body.style.top,10);Tt(document.body,S.iosfix),document.body.style.top="",document.body.scrollTop=xe*-1}},Kd=10,Md=xe=>{const Se=f(),Ge=D();typeof xe.willOpen=="function"&&xe.willOpen(Ge);const bi=window.getComputedStyle(document.body).overflowY;vl(Se,Ge,xe),setTimeout(()=>{vc(Se,Ge)},Kd),Re()&&(Kc(Se,xe.scrollbarPadding,bi),ml()),!Le()&&!nn.previousActiveElement&&(nn.previousActiveElement=document.activeElement),typeof xe.didOpen=="function"&&setTimeout(()=>xe.didOpen(Ge)),Tt(Se,S["no-transition"])},Uo=xe=>{const Se=D();if(xe.target!==Se)return;const Ge=f();Se.removeEventListener(Nt,Uo),Ge.style.overflowY="auto"},vc=(xe,Se)=>{Nt&&vn(Se)?(xe.style.overflowY="hidden",Se.addEventListener(Nt,Uo)):xe.style.overflowY="auto"},Kc=(xe,Se,Ge)=>{yl(),Se&&Ge!=="hidden"&&_l(),setTimeout(()=>{xe.scrollTop=0})},vl=(xe,Se,Ge)=>{pt(xe,Ge.showClass.backdrop),Se.style.setProperty("opacity","0","important"),Wt(Se,"grid"),setTimeout(()=>{pt(Se,Ge.showClass.popup),Se.style.removeProperty("opacity")},Kd),pt([document.documentElement,document.body],S.shown),Ge.heightAuto&&Ge.backdrop&&!Ge.toast&&pt([document.documentElement,document.body],S["height-auto"])},Mo=xe=>{let Se=D();Se||new Sn,Se=D();const Ge=pe();Le()?ui(X()):Pr(Se,xe),Wt(Ge),Se.setAttribute("data-loading",!0),Se.setAttribute("aria-busy",!0),Se.focus()},Pr=(xe,Se)=>{const Ge=ne(),xt=pe();!Se&&wi(J())&&(Se=J()),Wt(Ge),Se&&(ui(Se),xt.setAttribute("data-button-to-replace",Se.className)),xt.parentNode.insertBefore(xt,Se),pt([xe,Ge],S.loading)},G=(xe,Se)=>{Se.input==="select"||Se.input==="radio"?Ve(xe,Se):["text","email","number","tel","textarea"].includes(Se.input)&&(V(Se.inputValue)||L(Se.inputValue))&&(Mo(J()),Je(xe,Se))},le=(xe,Se)=>{const Ge=xe.getInput();if(!Ge)return null;switch(Se.input){case"checkbox":return ve(Ge);case"radio":return Ae(Ge);case"file":return Ue(Ge);default:return Se.inputAutoTrim?Ge.value.trim():Ge.value}},ve=xe=>xe.checked?1:0,Ae=xe=>xe.checked?xe.value:null,Ue=xe=>xe.files.length?xe.getAttribute("multiple")!==null?xe.files:xe.files[0]:null,Ve=(xe,Se)=>{const Ge=D(),xt=bi=>Rt[Se.input](Ge,Et(bi),Se);V(Se.inputOptions)||L(Se.inputOptions)?(Mo(J()),q(Se.inputOptions).then(bi=>{xe.hideLoading(),xt(bi)})):typeof Se.inputOptions=="object"?xt(Se.inputOptions):n("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof Se.inputOptions))},Je=(xe,Se)=>{const Ge=xe.getInput();ui(Ge),q(Se.inputValue).then(xt=>{Ge.value=Se.input==="number"?parseFloat(xt)||0:"".concat(xt),Wt(Ge),Ge.focus(),xe.hideLoading()}).catch(xt=>{n("Error in inputValue promise: ".concat(xt)),Ge.value="",Wt(Ge),Ge.focus(),xe.hideLoading()})},Rt={select:(xe,Se,Ge)=>{const xt=Bt(xe,S.select),bi=(mn,cs,Fr)=>{const Sr=document.createElement("option");Sr.value=Fr,Qe(Sr,cs),Sr.selected=Xt(Fr,Ge.inputValue),mn.appendChild(Sr)};Se.forEach(mn=>{const cs=mn[0],Fr=mn[1];if(Array.isArray(Fr)){const Sr=document.createElement("optgroup");Sr.label=cs,Sr.disabled=!1,xt.appendChild(Sr),Fr.forEach(Ka=>bi(Sr,Ka[1],Ka[0]))}else bi(xt,Fr,cs)}),xt.focus()},radio:(xe,Se,Ge)=>{const xt=Bt(xe,S.radio);Se.forEach(mn=>{const cs=mn[0],Fr=mn[1],Sr=document.createElement("input"),Ka=document.createElement("label");Sr.type="radio",Sr.name=S.radio,Sr.value=cs,Xt(cs,Ge.inputValue)&&(Sr.checked=!0);const Zi=document.createElement("span");Qe(Zi,Fr),Zi.className=S.label,Ka.appendChild(Sr),Ka.appendChild(Zi),xt.appendChild(Ka)});const bi=xt.querySelectorAll("input");bi.length&&bi[0].focus()}},Et=xe=>{const Se=[];return typeof Map<"u"&&xe instanceof Map?xe.forEach((Ge,xt)=>{let bi=Ge;typeof bi=="object"&&(bi=Et(bi)),Se.push([xt,bi])}):Object.keys(xe).forEach(Ge=>{let xt=xe[Ge];typeof xt=="object"&&(xt=Et(xt)),Se.push([Ge,xt])}),Se},Xt=(xe,Se)=>Se&&Se.toString()===xe.toString(),hi=xe=>{const Se=$i.innerParams.get(xe);xe.disableButtons(),Se.input?ai(xe,"confirm"):Fs(xe,!0)},Ti=xe=>{const Se=$i.innerParams.get(xe);xe.disableButtons(),Se.returnInputValueOnDeny?ai(xe,"deny"):Rn(xe,!1)},ni=(xe,Se)=>{xe.disableButtons(),Se(yo.cancel)},ai=(xe,Se)=>{const Ge=$i.innerParams.get(xe);if(!Ge.input)return n('The "input" parameter is needed to be set when using returnInputValueOn'.concat(c(Se)));const xt=le(xe,Ge);Ge.inputValidator?Vi(xe,xt,Se):xe.getInput().checkValidity()?Se==="deny"?Rn(xe,xt):Fs(xe,xt):(xe.enableButtons(),xe.showValidationMessage(Ge.validationMessage))},Vi=(xe,Se,Ge)=>{const xt=$i.innerParams.get(xe);xe.disableInput(),Promise.resolve().then(()=>q(xt.inputValidator(Se,xt.validationMessage))).then(mn=>{xe.enableButtons(),xe.enableInput(),mn?xe.showValidationMessage(mn):Ge==="deny"?Rn(xe,Se):Fs(xe,Se)})},Rn=(xe,Se)=>{const Ge=$i.innerParams.get(xe||void 0);Ge.showLoaderOnDeny&&Mo(oe()),Ge.preDeny?($i.awaitingPromise.set(xe||void 0,!0),Promise.resolve().then(()=>q(Ge.preDeny(Se,Ge.validationMessage))).then(bi=>{bi===!1?xe.hideLoading():xe.closePopup({isDenied:!0,value:typeof bi>"u"?Se:bi})}).catch(bi=>Qs(xe||void 0,bi))):xe.closePopup({isDenied:!0,value:Se})},ln=(xe,Se)=>{xe.closePopup({isConfirmed:!0,value:Se})},Qs=(xe,Se)=>{xe.rejectPromise(Se)},Fs=(xe,Se)=>{const Ge=$i.innerParams.get(xe||void 0);Ge.showLoaderOnConfirm&&Mo(),Ge.preConfirm?(xe.resetValidationMessage(),$i.awaitingPromise.set(xe||void 0,!0),Promise.resolve().then(()=>q(Ge.preConfirm(Se,Ge.validationMessage))).then(bi=>{wi(Ce())||bi===!1?xe.hideLoading():ln(xe,typeof bi>"u"?Se:bi)}).catch(bi=>Qs(xe||void 0,bi))):ln(xe,Se)},is=(xe,Se,Ge)=>{$i.innerParams.get(xe).toast?ns(xe,Se,Ge):(rs(Se),js(Se),ya(xe,Se,Ge))},ns=(xe,Se,Ge)=>{Se.popup.onclick=()=>{const xt=$i.innerParams.get(xe);xt&&(On(xt)||xt.timer||xt.input)||Ge(yo.close)}},On=xe=>xe.showConfirmButton||xe.showDenyButton||xe.showCancelButton||xe.showCloseButton;let zr=!1;const rs=xe=>{xe.popup.onmousedown=()=>{xe.container.onmouseup=function(Se){xe.container.onmouseup=void 0,Se.target===xe.container&&(zr=!0)}}},js=xe=>{xe.container.onmousedown=()=>{xe.popup.onmouseup=function(Se){xe.popup.onmouseup=void 0,(Se.target===xe.popup||xe.popup.contains(Se.target))&&(zr=!0)}}},ya=(xe,Se,Ge)=>{Se.container.onclick=xt=>{const bi=$i.innerParams.get(xe);if(zr){zr=!1;return}xt.target===Se.container&&O(bi.allowOutsideClick)&&Ge(yo.backdrop)}},xl=()=>wi(D()),Nr=()=>J()&&J().click(),Ao=()=>oe()&&oe().click(),zn=()=>Ee()&&Ee().click(),Zr=(xe,Se,Ge,xt)=>{Se.keydownTarget&&Se.keydownHandlerAdded&&(Se.keydownTarget.removeEventListener("keydown",Se.keydownHandler,{capture:Se.keydownListenerCapture}),Se.keydownHandlerAdded=!1),Ge.toast||(Se.keydownHandler=bi=>bl(xe,bi,xt),Se.keydownTarget=Ge.keydownListenerCapture?window:D(),Se.keydownListenerCapture=Ge.keydownListenerCapture,Se.keydownTarget.addEventListener("keydown",Se.keydownHandler,{capture:Se.keydownListenerCapture}),Se.keydownHandlerAdded=!0)},ko=(xe,Se,Ge)=>{const xt=we();if(xt.length)return Se=Se+Ge,Se===xt.length?Se=0:Se===-1&&(Se=xt.length-1),xt[Se].focus();D().focus()},fo=["ArrowRight","ArrowDown"],$o=["ArrowLeft","ArrowUp"],bl=(xe,Se,Ge)=>{const xt=$i.innerParams.get(xe);xt&&(xt.stopKeydownPropagation&&Se.stopPropagation(),Se.key==="Enter"?Ia(xe,Se,xt):Se.key==="Tab"?Jc(Se,xt):[...fo,...$o].includes(Se.key)?Cs(Se.key):Se.key==="Escape"&&Go(Se,xt,Ge))},Ia=(xe,Se,Ge)=>{if(!(!O(Ge.allowEnterKey)||Se.isComposing)&&Se.target&&xe.getInput()&&Se.target.outerHTML===xe.getInput().outerHTML){if(["textarea","file"].includes(Ge.input))return;Nr(),Se.preventDefault()}},Jc=(xe,Se)=>{const Ge=xe.target,xt=we();let bi=-1;for(let mn=0;mn<xt.length;mn++)if(Ge===xt[mn]){bi=mn;break}xe.shiftKey?ko(Se,bi,-1):ko(Se,bi,1),xe.stopPropagation(),xe.preventDefault()},Cs=xe=>{const Se=J(),Ge=oe(),xt=Ee();if(![Se,Ge,xt].includes(document.activeElement))return;const bi=fo.includes(xe)?"nextElementSibling":"previousElementSibling",mn=document.activeElement[bi];mn instanceof HTMLElement&&mn.focus()},Go=(xe,Se,Ge)=>{O(Se.allowEscapeKey)&&(xe.preventDefault(),Ge(yo.esc))},xc=xe=>typeof xe=="object"&&xe.jquery,wl=xe=>xe instanceof Element||xc(xe),mo=xe=>{const Se={};return typeof xe[0]=="object"&&!wl(xe[0])?Object.assign(Se,xe[0]):["title","html","icon"].forEach((Ge,xt)=>{const bi=xe[xt];typeof bi=="string"||wl(bi)?Se[Ge]=bi:bi!==void 0&&n("Unexpected type of ".concat(Ge,'! Expected "string" or "Element", got ').concat(typeof bi))}),Se};function Sl(){const xe=this;for(var Se=arguments.length,Ge=new Array(Se),xt=0;xt<Se;xt++)Ge[xt]=arguments[xt];return new xe(...Ge)}function Hl(xe){class Se extends this{_main(xt,bi){return super._main(xt,Object.assign({},xe,bi))}}return Se}const Ad=()=>nn.timeout&&nn.timeout.getTimerLeft(),Tl=()=>{if(nn.timeout)return br(),nn.timeout.stop()},Cl=()=>{if(nn.timeout){const xe=nn.timeout.start();return Gn(xe),xe}},Jd=()=>{const xe=nn.timeout;return xe&&(xe.running?Tl():Cl())},El=xe=>{if(nn.timeout){const Se=nn.timeout.increase(xe);return Gn(Se,!0),Se}},kd=()=>nn.timeout&&nn.timeout.isRunning();let Qo=!1;const ea={};function Ml(){let xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";ea[xe]=this,Qo||(document.body.addEventListener("click",Qc),Qo=!0)}const Qc=xe=>{for(let Se=xe.target;Se&&Se!==document;Se=Se.parentNode)for(const Ge in ea){const xt=Se.getAttribute(Ge);if(xt){ea[Ge].fire({template:xt});return}}};var Wl=Object.freeze({isValidParameter:A,isUpdatableParameter:U,isDeprecatedParameter:$,argsToParams:mo,isVisible:xl,clickConfirm:Nr,clickDeny:Ao,clickCancel:zn,getContainer:f,getPopup:D,getTitle:te,getHtmlContainer:Z,getImage:de,getIcon:X,getInputLabel:ce,getCloseButton:ae,getActions:ne,getConfirmButton:J,getDenyButton:oe,getCancelButton:Ee,getLoader:pe,getFooter:ye,getTimerProgressBar:_e,getFocusableElements:we,getValidationMessage:Ce,isLoading:$e,fire:Sl,mixin:Hl,showLoading:Mo,enableLoading:Mo,getTimerLeft:Ad,stopTimer:Tl,resumeTimer:Cl,toggleTimer:Jd,increaseTimer:El,isTimerRunning:kd,bindClickHandler:Ml});function Po(){const xe=$i.innerParams.get(this);if(!xe)return;const Se=$i.domCache.get(this);ui(Se.loader),Le()?xe.icon&&Wt(X()):Kr(Se),Tt([Se.popup,Se.actions],S.loading),Se.popup.removeAttribute("aria-busy"),Se.popup.removeAttribute("data-loading"),Se.confirmButton.disabled=!1,Se.denyButton.disabled=!1,Se.cancelButton.disabled=!1}const Kr=xe=>{const Se=xe.popup.getElementsByClassName(xe.loader.getAttribute("data-button-to-replace"));Se.length?Wt(Se[0],"inline-block"):Ci()&&ui(xe.actions)};function Xa(xe){const Se=$i.innerParams.get(xe||this),Ge=$i.domCache.get(xe||this);return Ge?ze(Ge.popup,Se.input):null}var Al={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function Yl(xe,Se,Ge,xt){Le()?xo(xe,xt):(zo(Ge).then(()=>xo(xe,xt)),nn.keydownTarget.removeEventListener("keydown",nn.keydownHandler,{capture:nn.keydownListenerCapture}),nn.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(Se.setAttribute("style","display:none !important"),Se.removeAttribute("class"),Se.innerHTML=""):Se.remove(),Re()&&(qc(),Zc(),Fo()),Oh()}function Oh(){Tt([document.documentElement,document.body],[S.shown,S["height-auto"],S["no-backdrop"],S["toast-shown"]])}function ls(xe){xe=Qd(xe);const Se=Al.swalPromiseResolve.get(this),Ge=Jr(this);this.isAwaitingPromise()?xe.isDismissed||(Za(this),Se(xe)):Ge&&Se(xe)}function vo(){return!!$i.awaitingPromise.get(this)}const Jr=xe=>{const Se=D();if(!Se)return!1;const Ge=$i.innerParams.get(xe);if(!Ge||qe(Se,Ge.hideClass.popup))return!1;Tt(Se,Ge.showClass.popup),pt(Se,Ge.hideClass.popup);const xt=f();return Tt(xt,Ge.showClass.backdrop),pt(xt,Ge.hideClass.backdrop),eh(xe,Se,Ge),!0};function Do(xe){const Se=Al.swalPromiseReject.get(this);Za(this),Se&&Se(xe)}const Za=xe=>{xe.isAwaitingPromise()&&($i.awaitingPromise.delete(xe),$i.innerParams.get(xe)||xe._destroy())},Qd=xe=>typeof xe>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},xe),eh=(xe,Se,Ge)=>{const xt=f(),bi=Nt&&vn(Se);typeof Ge.willClose=="function"&&Ge.willClose(Se),bi?th(xe,Se,xt,Ge.returnFocus,Ge.didClose):Yl(xe,xt,Ge.returnFocus,Ge.didClose)},th=(xe,Se,Ge,xt,bi)=>{nn.swalCloseEventFinishedCallback=Yl.bind(null,xe,Ge,xt,bi),Se.addEventListener(Nt,function(mn){mn.target===Se&&(nn.swalCloseEventFinishedCallback(),delete nn.swalCloseEventFinishedCallback)})},xo=(xe,Se)=>{setTimeout(()=>{typeof Se=="function"&&Se.bind(xe.params)(),xe._destroy()})};function $t(xe,Se,Ge){const xt=$i.domCache.get(xe);Se.forEach(bi=>{xt[bi].disabled=Ge})}function gi(xe,Se){if(!xe)return!1;if(xe.type==="radio"){const xt=xe.parentNode.parentNode.querySelectorAll("input");for(let bi=0;bi<xt.length;bi++)xt[bi].disabled=Se}else xe.disabled=Se}function li(){$t(this,["confirmButton","denyButton","cancelButton"],!1)}function cn(){$t(this,["confirmButton","denyButton","cancelButton"],!0)}function Nn(){return gi(this.getInput(),!1)}function bs(){return gi(this.getInput(),!0)}function wr(xe){const Se=$i.domCache.get(this),Ge=$i.innerParams.get(this);Qe(Se.validationMessage,xe),Se.validationMessage.className=S["validation-message"],Ge.customClass&&Ge.customClass.validationMessage&&pt(Se.validationMessage,Ge.customClass.validationMessage),Wt(Se.validationMessage);const xt=this.getInput();xt&&(xt.setAttribute("aria-invalid",!0),xt.setAttribute("aria-describedby",S["validation-message"]),Xe(xt),pt(xt,S.inputerror))}function Es(){const xe=$i.domCache.get(this);xe.validationMessage&&ui(xe.validationMessage);const Se=this.getInput();Se&&(Se.removeAttribute("aria-invalid"),Se.removeAttribute("aria-describedby"),Tt(Se,S.inputerror))}function ql(){return $i.domCache.get(this).progressSteps}function ed(xe){const Se=D(),Ge=$i.innerParams.get(this);if(!Se||qe(Se,Ge.hideClass.popup))return m("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const xt=bo(xe),bi=Object.assign({},Ge,xt);Hr(this,bi),$i.innerParams.set(this,bi),Object.defineProperties(this,{params:{value:Object.assign({},this.params,xe),writable:!1,enumerable:!0}})}const bo=xe=>{const Se={};return Object.keys(xe).forEach(Ge=>{U(Ge)?Se[Ge]=xe[Ge]:m('Invalid parameter to update: "'.concat(Ge,`". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js

If you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md`))}),Se};function st(){const xe=$i.domCache.get(this),Se=$i.innerParams.get(this);if(!Se){Ft(this);return}xe.popup&&nn.swalCloseEventFinishedCallback&&(nn.swalCloseEventFinishedCallback(),delete nn.swalCloseEventFinishedCallback),nn.deferDisposalTimer&&(clearTimeout(nn.deferDisposalTimer),delete nn.deferDisposalTimer),typeof Se.didDestroy=="function"&&Se.didDestroy(),kt(this)}const kt=xe=>{Ft(xe),delete xe.params,delete nn.keydownHandler,delete nn.keydownTarget,delete nn.currentInstance},Ft=xe=>{xe.isAwaitingPromise()?(_i($i,xe),$i.awaitingPromise.set(xe,!0)):(_i(Al,xe),_i($i,xe))},_i=(xe,Se)=>{for(const Ge in xe)xe[Ge].delete(Se)};var Gt=Object.freeze({hideLoading:Po,disableLoading:Po,getInput:Xa,close:ls,isAwaitingPromise:vo,rejectPromise:Do,closePopup:ls,closeModal:ls,closeToast:ls,enableButtons:li,disableButtons:cn,enableInput:Nn,disableInput:bs,showValidationMessage:wr,resetValidationMessage:Es,getProgressSteps:ql,update:ed,_destroy:st});let ri;class Ai{constructor(){if(typeof window>"u")return;ri=this;for(var Se=arguments.length,Ge=new Array(Se),xt=0;xt<Se;xt++)Ge[xt]=arguments[xt];const bi=Object.freeze(this.constructor.argsToParams(Ge));Object.defineProperties(this,{params:{value:bi,writable:!1,enumerable:!0,configurable:!0}});const mn=this._main(this.params);$i.promise.set(this,mn)}_main(Se){let Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};N(Object.assign({},Ge,Se)),nn.currentInstance&&(nn.currentInstance._destroy(),Re()&&Fo()),nn.currentInstance=this;const xt=Li(Se,Ge);Yc(xt),Object.freeze(xt),nn.timeout&&(nn.timeout.stop(),delete nn.timeout),clearTimeout(nn.restoreFocusTimeout);const bi=Cn(this);return Hr(this,xt),$i.innerParams.set(this,xt),Xi(this,bi,xt)}then(Se){return $i.promise.get(this).then(Se)}finally(Se){return $i.promise.get(this).finally(Se)}}const Xi=(xe,Se,Ge)=>new Promise((xt,bi)=>{const mn=cs=>{xe.closePopup({isDismissed:!0,dismiss:cs})};Al.swalPromiseResolve.set(xe,xt),Al.swalPromiseReject.set(xe,bi),Se.confirmButton.onclick=()=>hi(xe),Se.denyButton.onclick=()=>Ti(xe),Se.cancelButton.onclick=()=>ni(xe,mn),Se.closeButton.onclick=()=>mn(yo.close),is(xe,Se,mn),Zr(xe,nn,Ge,mn),G(xe,Ge),Md(Ge),kn(nn,Ge,mn),Dn(Se,Ge),setTimeout(()=>{Se.container.scrollTop=0})}),Li=(xe,Se)=>{const Ge=Wa(xe),xt=Object.assign({},I,Se,Ge,xe);return xt.showClass=Object.assign({},I.showClass,xt.showClass),xt.hideClass=Object.assign({},I.hideClass,xt.hideClass),xt},Cn=xe=>{const Se={popup:D(),container:f(),actions:ne(),confirmButton:J(),denyButton:oe(),cancelButton:Ee(),loader:pe(),closeButton:ae(),validationMessage:Ce(),progressSteps:ge()};return $i.domCache.set(xe,Se),Se},kn=(xe,Se,Ge)=>{const xt=_e();ui(xt),Se.timer&&(xe.timeout=new kr(()=>{Ge("timer"),delete xe.timeout},Se.timer),Se.timerProgressBar&&(Wt(xt),Oe(xt,Se,"timerProgressBar"),setTimeout(()=>{xe.timeout&&xe.timeout.running&&Gn(Se.timer)})))},Dn=(xe,Se)=>{if(!Se.toast){if(!O(Se.allowEnterKey))return ps();Hn(xe,Se)||ko(Se,-1,1)}},Hn=(xe,Se)=>Se.focusDeny&&wi(xe.denyButton)?(xe.denyButton.focus(),!0):Se.focusCancel&&wi(xe.cancelButton)?(xe.cancelButton.focus(),!0):Se.focusConfirm&&wi(xe.confirmButton)?(xe.confirmButton.focus(),!0):!1,ps=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Object.assign(Ai.prototype,Gt),Object.assign(Ai,Wl),Object.keys(Gt).forEach(xe=>{Ai[xe]=function(){if(ri)return ri[xe](...arguments)}}),Ai.DismissReason=yo,Ai.version="11.4.0";const Sn=Ai;return Sn.default=Sn,Sn}),typeof cp<"u"&&cp.Sweetalert2&&(cp.swal=cp.sweetAlert=cp.Swal=cp.SweetAlert=cp.Sweetalert2)})(RA);var Qy=RA.exports;class H7{static install(t,s={}){var a;const c=Qy.mixin(s),h=function(...m){return c.fire.call(c,...m)};Object.assign(h,Qy),Object.keys(Qy).filter(m=>typeof Qy[m]=="function").forEach(m=>{h[m]=c[m].bind(c)}),(a=t.config)!=null&&a.globalProperties&&!t.config.globalProperties.$swal?(t.config.globalProperties.$swal=h,t.provide("$swal",h)):Object.prototype.hasOwnProperty.call(t,"$swal")||(t.prototype.$swal=h,t.swal=h)}}var BA={exports:{}};const zA=Y5(VI);(function(e){e.exports=function(t){var s={};function a(c){if(s[c])return s[c].exports;var h=s[c]={i:c,l:!1,exports:{}};return t[c].call(h.exports,h,h.exports,a),h.l=!0,h.exports}return a.m=t,a.c=s,a.d=function(c,h,m){a.o(c,h)||Object.defineProperty(c,h,{enumerable:!0,get:m})},a.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},a.t=function(c,h){if(h&1&&(c=a(c)),h&8||h&4&&typeof c=="object"&&c&&c.__esModule)return c;var m=Object.create(null);if(a.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:c}),h&2&&typeof c!="string")for(var n in c)a.d(m,n,(function(x){return c[x]}).bind(null,n));return m},a.n=function(c){var h=c&&c.__esModule?function(){return c.default}:function(){return c};return a.d(h,"a",h),h},a.o=function(c,h){return Object.prototype.hasOwnProperty.call(c,h)},a.p="",a(a.s="fb15")}({"6b0d":function(t,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.default=(c,h)=>{for(const[m,n]of h)c[m]=n;return c}},"7e79":function(t,s,a){},8875:function(t,s,a){var c,h,m;(function(n,x){h=[],c=x,m=typeof c=="function"?c.apply(s,h):c,m!==void 0&&(t.exports=m)})(typeof self<"u"?self:this,function(){function n(){var x=Object.getOwnPropertyDescriptor(document,"currentScript");if(!x&&"currentScript"in document&&document.currentScript||x&&x.get!==n&&document.currentScript)return document.currentScript;try{throw new Error}catch(U){var z=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,Y=/@([^@]*):(\d+):(\d+)\s*$/ig,O=z.exec(U.stack)||Y.exec(U.stack),V=O&&O[1]||!1,q=O&&O[2]||!1,L=document.location.href.replace(document.location.hash,""),I,H,M,C=document.getElementsByTagName("script");V===L&&(I=document.documentElement.outerHTML,H=new RegExp("(?:[^\\n]+?\\n){0,"+(q-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),M=I.replace(H,"$1").trim());for(var A=0;A<C.length;A++)if(C[A].readyState==="interactive"||C[A].src===V||V===L&&C[A].innerHTML&&C[A].innerHTML.trim()===M)return C[A];return null}}return n})},"8bbf":function(t,s){t.exports=zA},fb15:function(t,s,a){if(a.r(s),typeof window<"u"){var c=window.document.currentScript;{var h=a("8875");c=h(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:h})}var m=c&&c.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);m&&(a.p=m[1])}var n=a("8bbf"),x=["title"];function z(ce,pe,Ee,ne,ye,_e){var ae=Object(n.resolveComponent)("donut-sections");return Object(n.openBlock)(),Object(n.createElementBlock)("div",{class:"cdc-container",style:Object(n.normalizeStyle)(_e.placementStyles.container)},[Object(n.createElementVNode)("div",{class:"cdc",ref:"donut",style:Object(n.normalizeStyle)(_e.donutStyles)},[Object(n.createVNode)(ae,Object(n.mergeProps)(Object(n.toHandlers)(_e.sectionListeners),{sections:_e.donutSections,"start-angle":Ee.startAngle}),null,16,["sections","start-angle"]),Object(n.createElementVNode)("div",{class:"cdc-overlay",style:Object(n.normalizeStyle)(_e.overlayStyles)},[Object(n.createElementVNode)("div",{class:"cdc-text",style:Object(n.normalizeStyle)(_e.donutTextStyles)},[Object(n.renderSlot)(ce.$slots,"default",{},function(){return[Object(n.createTextVNode)(Object(n.toDisplayString)(Ee.text),1)]})],4)],4)],4),Object(n.renderSlot)(ce.$slots,"legend",{},function(){return[Ee.hasLegend?(Object(n.openBlock)(),Object(n.createElementBlock)("div",{key:0,class:"cdc-legend",style:Object(n.normalizeStyle)(_e.placementStyles.legend)},[(Object(n.openBlock)(!0),Object(n.createElementBlock)(n.Fragment,null,Object(n.renderList)(_e.legend,function(me,we){return Object(n.openBlock)(),Object(n.createElementBlock)("span",{class:"cdc-legend-item",key:we,title:me.percent},[Object(n.createElementVNode)("span",{class:"cdc-legend-item-color",style:Object(n.normalizeStyle)(me.styles)},null,4),Object(n.createElementVNode)("span",null,Object(n.toDisplayString)(me.label),1)],8,x)}),128))],4)):Object(n.createCommentVNode)("",!0)]})],4)}var Y=["click","mouseenter","mouseleave","mouseover","mouseout","mousemove"].map(function(ce){return{nativeEventName:ce,sectionEventName:"section-".concat(ce)}}),O=["#FF6384","#36A2EB","#FFCE56","#F58231","#46F0F0","#D2F53C","#911EB4","#F032E6","#3CB44B","#FFE119","#E6194B","#FABEBE","#008080","#E6BEFF","#0082C8","#AA6E28","#FFFAC8","#800000","#AAFFC3","#808000","#FFD8B1","#000080","#808080","#000000"],V=O,q;function L(ce){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?L=function(Ee){return typeof Ee}:L=function(Ee){return Ee&&typeof Symbol=="function"&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee},L(ce)}function I(ce,pe,Ee){return pe in ce?Object.defineProperty(ce,pe,{value:Ee,enumerable:!0,configurable:!0,writable:!0}):ce[pe]=Ee,ce}var H="1em",M="dodgerblue",C={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},A=(q={},I(q,C.TOP,{container:{flexDirection:"column"},legend:{order:-1,margin:0,marginBottom:H}}),I(q,C.RIGHT,{container:{},legend:{flexDirection:"column",margin:0,marginLeft:H}}),I(q,C.BOTTOM,{container:{flexDirection:"column"},legend:{}}),I(q,C.LEFT,{container:{},legend:{flexDirection:"column",order:-1,margin:0,marginRight:H}}),q),U=function(pe){return!!pe&&pe.constructor===Object},$=[{type:"number",key:"value",required:!0},{key:"label"},{key:"color"}];function E(ce){return U(ce)?$.reduce(function(pe,Ee){if(!pe)return!1;var ne=!0;return Ee.required&&(ne=ne&&Object.hasOwnProperty.call(ce,Ee.key)),Ee.type&&(ne=ne&&L(ce[Ee.key])===Ee.type),pe&&ne},!0):!1}var ee=["title"];function Q(ce,pe,Ee,ne,ye,_e){return Object(n.openBlock)(),Object(n.createElementBlock)("div",{class:"cdc-sections",style:Object(n.normalizeStyle)(_e.containerStyles)},[(Object(n.openBlock)(!0),Object(n.createElementBlock)(n.Fragment,null,Object(n.renderList)(_e.donutSections,function(ae,me){return Object(n.openBlock)(),Object(n.createElementBlock)("div",Object(n.mergeProps)(Object(n.toHandlers)(ae.listeners),{key:me,class:["cdc-section",ae.className],style:ae.sectionStyles}),[Object(n.createElementVNode)("div",{class:"cdc-filler",style:Object(n.normalizeStyle)(ae.fillerStyles),title:ae.label},null,12,ee)],16)}),128))],4)}function N(ce,pe){var Ee=Object.keys(ce);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(ce);pe&&(ne=ne.filter(function(ye){return Object.getOwnPropertyDescriptor(ce,ye).enumerable})),Ee.push.apply(Ee,ne)}return Ee}function j(ce){for(var pe=1;pe<arguments.length;pe++){var Ee=arguments[pe]!=null?arguments[pe]:{};pe%2?N(Object(Ee),!0).forEach(function(ne){W(ce,ne,Ee[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(Ee)):N(Object(Ee)).forEach(function(ne){Object.defineProperty(ce,ne,Object.getOwnPropertyDescriptor(Ee,ne))})}return ce}function W(ce,pe,Ee){return pe in ce?Object.defineProperty(ce,pe,{value:Ee,enumerable:!0,configurable:!0,writable:!0}):ce[pe]=Ee,ce}var S={LEFT:"cdc-section-left",RIGHT:"cdc-section-right"},P={props:{startAngle:{type:Number,default:0},sections:{type:Array,default:function(){return[]}}},emits:Y.map(function(ce){return ce.sectionEventName}),computed:{containerStyles:function(){return{transform:"rotate(".concat(this.startAngle,"deg)")}},donutSections:function(){var pe=this,Ee=180,ne=0,ye=0,_e=this.sections.map(function(ae){var me=[S.RIGHT,-180],we=me[0],Re=me[1];if(ne>=Ee){var Le=[S.LEFT,180];we=Le[0],Re=Le[1]}var $e=Re+ae.degree,rt={backgroundColor:ae.color||M,transform:"rotate(".concat($e,"deg)")},Qe={transform:"rotate(".concat(ye,"deg)")};ne+=ae.degree,ne===180?ye=0:ye+=ae.degree;var qe=Y.reduce(function(Te,Oe){var ze=Oe.nativeEventName,Xe=Oe.sectionEventName;return j(j({},Te),{},W({},ze,function(Ke){return pe.emitEvent(Xe,ae,Ke)}))},{});return{label:ae.label,className:we,fillerStyles:rt,sectionStyles:Qe,listeners:qe}});return _e}},methods:{emitEvent:function(pe,Ee,ne){Ee.value!==0&&this.$emit(pe,Ee.$section,ne)}}},f=a("6b0d"),g=a.n(f),D=g()(P,[["render",Q]]);a("7e79");function X(ce,pe){var Ee=Object.keys(ce);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(ce);pe&&(ne=ne.filter(function(ye){return Object.getOwnPropertyDescriptor(ce,ye).enumerable})),Ee.push.apply(Ee,ne)}return Ee}function te(ce){for(var pe=1;pe<arguments.length;pe++){var Ee=arguments[pe]!=null?arguments[pe]:{};pe%2?X(Object(Ee),!0).forEach(function(ne){Z(ce,ne,Ee[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(Ee)):X(Object(Ee)).forEach(function(ne){Object.defineProperty(ce,ne,Object.getOwnPropertyDescriptor(Ee,ne))})}return ce}function Z(ce,pe,Ee){return pe in ce?Object.defineProperty(ce,pe,{value:Ee,enumerable:!0,configurable:!0,writable:!0}):ce[pe]=Ee,ce}var de={name:"vc-donut",props:{size:{type:Number,default:250,validator:function(pe){return pe>0}},unit:{type:String,default:"px"},thickness:{type:Number,default:20,validator:function(pe){return pe>=0&&pe<=100}},text:{type:String,default:null},autoAdjustTextSize:{type:Boolean,default:!0},background:{type:String,default:"#ffffff"},foreground:{type:String,default:"#eeeeee"},sections:{type:Array,default:function(){return[]},validator:function(pe){for(var Ee=0;Ee<pe.length;++Ee)if(!E(pe[Ee]))return!1;return!0}},total:{type:Number,default:100,validator:function(pe){return pe>0}},hasLegend:{type:Boolean,default:!1},legendPlacement:{type:String,default:C.BOTTOM,validator:function(pe){return!!C[pe.toUpperCase()]}},startAngle:{type:Number,default:0}},emits:Y.map(function(ce){return ce.sectionEventName}),watch:{autoAdjustTextSize:function(pe){pe?window.addEventListener("resize",this.resizeListener):window.removeEventListener("resize",this.resizeListener),this.recalcFontSize()},size:function(){this.recalcFontSize()},unit:function(){this.recalcFontSize()}},data:function(){return{donutEl:null,fontSize:"1em",resizeListener:null}},computed:{donutSections:function(){var pe=this,Ee=this.sections.reduce(function(Re,Le){return Re+Le.value},0);if(typeof Ee!="number")return[];if(Ee=Number(Ee.toFixed(2)),Ee>this.total){var ne="Sum of all the sections' values (".concat(Ee,") should not exceed `total` (").concat(this.total,")");throw new Error(ne)}var ye=360,_e=180,ae=0,me=0,we=[];return this.sections.forEach(function(Re){var Le=ye*(Re.value/pe.total),$e=[Le];Le>_e&&($e=[_e,Le-_e]);var rt=Re.color||V[me++];$e.forEach(function(Qe){var qe=Number((ae+Qe).toFixed(2));if(qe>_e){var Te=_e-ae;we.push(te(te({},Re),{},{degree:Te,color:rt,$section:Re}),te(te({},Re),{},{degree:Qe-Te,color:rt,$section:Re}))}else we.push(te(te({},Re),{},{degree:Qe,color:rt,$section:Re}));ae+=Qe,ae>=_e&&(ae-=_e)})}),we},legend:function(){var pe=this;if(!this.hasLegend)return null;var Ee=0;return this.sections.map(function(ne,ye){return{label:ne.label||"Section ".concat(ye+1),percent:"".concat(ne.value," (").concat(ne.value/pe.total*100,"%)"),styles:{backgroundColor:ne.color||V[Ee++]}}})},placementStyles:function(){return this.hasLegend?A[this.legendPlacement]:{}},donutStyles:function(){var pe="".concat(this.size).concat(this.unit),Ee={width:pe,paddingBottom:pe,backgroundColor:this.foreground};return Ee},overlayStyles:function(){var pe=100,Ee=pe-this.thickness,ne="".concat(Ee,"%"),ye="calc(50% - ".concat(Ee/2,"%)");return{height:ne,width:ne,top:ye,left:ye,backgroundColor:this.background}},donutTextStyles:function(){var pe=this.fontSize;return{fontSize:pe}},sectionListeners:function(){var pe=this;return Y.reduce(function(Ee,ne){var ye=ne.sectionEventName;return te(te({},Ee),{},Z({},ye,function(){for(var _e=arguments.length,ae=new Array(_e),me=0;me<_e;me++)ae[me]=arguments[me];return pe.emitSectionEvent.apply(pe,[ye].concat(ae))}))},{})}},methods:{recalcFontSize:function(){var pe=this;if(!this.autoAdjustTextSize){this.fontSize="1em";return}var Ee=.08,ne=this.size;this.$nextTick(function(){pe.unit!=="px"&&(pe.donutEl?ne=pe.donutEl.clientWidth:ne=null),pe.fontSize=ne?"".concat((ne*Ee).toFixed(2),"px"):"1em"})},emitSectionEvent:function(pe){for(var Ee=arguments.length,ne=new Array(Ee>1?Ee-1:0),ye=1;ye<Ee;ye++)ne[ye-1]=arguments[ye];this.$emit.apply(this,[pe].concat(ne))}},created:function(){this.resizeListener=this.recalcFontSize.bind(this)},mounted:function(){this.donutEl=this.$refs.donut,this.autoAdjustTextSize&&(this.recalcFontSize(),window.addEventListener("resize",this.resizeListener))},beforeUnmount:function(){window.removeEventListener("resize",this.resizeListener)},components:{DonutSections:D}},Ce=g()(de,[["render",z]]),J={install:function(pe){pe.component(Ce.name,Ce)}},oe=J;s.default=oe}})})(BA);var W7=BA.exports;const Y7=wd(W7);var NA={exports:{}};(function(e,t){(function(s,a){e.exports=a()})(la,function(){var s,a,c;function h(n,x){if(!s)s=x;else if(!a)a=x;else{var z="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+s+")(sharedChunk); ("+a+")(sharedChunk); self.onerror = null;",Y={};s(Y),c=x(Y),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(c.workerUrl=window.URL.createObjectURL(new Blob([z],{type:"text/javascript"})))}}h(["exports"],function(n){var x=typeof self<"u"?self:{},z="2.12.0";let Y;const O={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(Y==null){const r=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{Y={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):r}catch{Y=r}}return Y},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},V={supported:!1,testSupport:function(r){!I&&L&&(H?M(r):q=r)}};let q,L,I=!1,H=!1;function M(r){const i=r.createTexture();r.bindTexture(r.TEXTURE_2D,i);try{if(r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,L),r.isContextLost())return;V.supported=!0}catch{}r.deleteTexture(i),I=!0}x.document&&(L=x.document.createElement("img"),L.onload=function(){q&&M(q),q=null,H=!0},L.onerror=function(){I=!0,q=null},L.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const C="01";var A=U;function U(r,i,o,d){this.cx=3*r,this.bx=3*(o-r)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(d-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=r,this.p1y=i,this.p2x=o,this.p2y=d}U.prototype={sampleCurveX:function(r){return((this.ax*r+this.bx)*r+this.cx)*r},sampleCurveY:function(r){return((this.ay*r+this.by)*r+this.cy)*r},sampleCurveDerivativeX:function(r){return(3*this.ax*r+2*this.bx)*r+this.cx},solveCurveX:function(r,i){if(i===void 0&&(i=1e-6),r<0)return 0;if(r>1)return 1;for(var o=r,d=0;d<8;d++){var p=this.sampleCurveX(o)-r;if(Math.abs(p)<i)return o;var v=this.sampleCurveDerivativeX(o);if(Math.abs(v)<1e-6)break;o-=p/v}var T=0,B=1;for(o=r,d=0;d<20&&(p=this.sampleCurveX(o),!(Math.abs(p-r)<i));d++)r>p?T=o:B=o,o=.5*(B-T)+T;return o},solve:function(r,i){return this.sampleCurveY(this.solveCurveX(r,i))}};var $=E;function E(r,i){this.x=r,this.y=i}E.prototype={clone:function(){return new E(this.x,this.y)},add:function(r){return this.clone()._add(r)},sub:function(r){return this.clone()._sub(r)},multByPoint:function(r){return this.clone()._multByPoint(r)},divByPoint:function(r){return this.clone()._divByPoint(r)},mult:function(r){return this.clone()._mult(r)},div:function(r){return this.clone()._div(r)},rotate:function(r){return this.clone()._rotate(r)},rotateAround:function(r,i){return this.clone()._rotateAround(r,i)},matMult:function(r){return this.clone()._matMult(r)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(r){return this.x===r.x&&this.y===r.y},dist:function(r){return Math.sqrt(this.distSqr(r))},distSqr:function(r){var i=r.x-this.x,o=r.y-this.y;return i*i+o*o},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(r){return Math.atan2(this.y-r.y,this.x-r.x)},angleWith:function(r){return this.angleWithSep(r.x,r.y)},angleWithSep:function(r,i){return Math.atan2(this.x*i-this.y*r,this.x*r+this.y*i)},_matMult:function(r){var i=r[2]*this.x+r[3]*this.y;return this.x=r[0]*this.x+r[1]*this.y,this.y=i,this},_add:function(r){return this.x+=r.x,this.y+=r.y,this},_sub:function(r){return this.x-=r.x,this.y-=r.y,this},_mult:function(r){return this.x*=r,this.y*=r,this},_div:function(r){return this.x/=r,this.y/=r,this},_multByPoint:function(r){return this.x*=r.x,this.y*=r.y,this},_divByPoint:function(r){return this.x/=r.x,this.y/=r.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var r=this.y;return this.y=this.x,this.x=-r,this},_rotate:function(r){var i=Math.cos(r),o=Math.sin(r),d=o*this.x+i*this.y;return this.x=i*this.x-o*this.y,this.y=d,this},_rotateAround:function(r,i){var o=Math.cos(r),d=Math.sin(r),p=i.y+d*(this.x-i.x)+o*(this.y-i.y);return this.x=i.x+o*(this.x-i.x)-d*(this.y-i.y),this.y=p,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},E.convert=function(r){return r instanceof E?r:Array.isArray(r)?new E(r[0],r[1]):r};const ee=Math.PI/180,Q=180/Math.PI;function N(r){return r*ee}function j(r){return r*Q}const W=[[0,0],[1,0],[1,1],[0,1]];function S(r){if(r<=0)return 0;if(r>=1)return 1;const i=r*r,o=i*r;return 4*(r<.5?o:3*(r-i)+o-.75)}function P(r,i,o,d){const p=new A(r,i,o,d);return function(v){return p.solve(v)}}const f=P(.25,.1,.25,1);function g(r,i,o){return Math.min(o,Math.max(i,r))}function b(r,i,o){return(o=g((o-r)/(i-r),0,1))*o*(3-2*o)}function D(r,i,o){const d=o-i,p=((r-i)%d+d)%d+i;return p===i?o:p}function X(r,i,o){if(!r.length)return o(null,[]);let d=r.length;const p=new Array(r.length);let v=null;r.forEach((T,B)=>{i(T,(K,ie)=>{K&&(v=K),p[B]=ie,--d==0&&o(v,p)})})}function te(r){const i=[];for(const o in r)i.push(r[o]);return i}function Z(r,...i){for(const o of i)for(const d in o)r[d]=o[d];return r}let de=1;function ge(){return de++}function Ce(){return function r(i){return i?(i^Math.random()*(16>>i/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,r)}()}function J(r){return r<=1?1:Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function oe(r){return!!r&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(r)}function ce(r,i){r.forEach(o=>{i[o]&&(i[o]=i[o].bind(i))})}function pe(r,i){return r.indexOf(i,r.length-i.length)!==-1}function Ee(r,i,o){const d={};for(const p in r)d[p]=i.call(o||this,r[p],p,r);return d}function ne(r,i,o){const d={};for(const p in r)i.call(o||this,r[p],p,r)&&(d[p]=r[p]);return d}function ye(r){return Array.isArray(r)?r.map(ye):typeof r=="object"&&r?Ee(r,ye):r}const _e={};function ae(r){_e[r]||(typeof console<"u"&&console.warn(r),_e[r]=!0)}function me(r,i,o){return(o.y-r.y)*(i.x-r.x)>(i.y-r.y)*(o.x-r.x)}function we(r){let i=0;for(let o,d,p=0,v=r.length,T=v-1;p<v;T=p++)o=r[p],d=r[T],i+=(d.x-o.x)*(o.y+d.y);return i}function Re(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Le(r){const i={};if(r.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(o,d,p,v)=>{const T=p||v;return i[d]=!T||T.toLowerCase(),""}),i["max-age"]){const o=parseInt(i["max-age"],10);isNaN(o)?delete i["max-age"]:i["max-age"]=o}return i}let $e=null;function rt(r){if($e==null){const i=r.navigator?r.navigator.userAgent:null;$e=!!r.safari||!(!i||!(/\b(iPad|iPhone|iPod)\b/.test(i)||i.match("Safari")&&!i.match("Chrome")))}return $e}function Qe(r){try{const i=x[r];return i.setItem("_mapbox_test_",1),i.removeItem("_mapbox_test_"),!0}catch{return!1}}function qe(r,i){return[r[4*i],r[4*i+1],r[4*i+2],r[4*i+3]]}const Te="mapbox-tiles";let Oe,ze,Xe=500,Ke=50;function pt(){try{return x.caches}catch{}}function Tt(){pt()&&!Oe&&(Oe=x.caches.open(Te))}function Bt(r){const i=r.indexOf("?");if(i<0)return r;const o=function(p){const v=p.indexOf("?");return v>0?p.slice(v+1).split("&"):[]}(r),d=o.filter(p=>{const v=p.split("=");return v[0]==="language"||v[0]==="worldview"});return d.length?`${r.slice(0,i)}?${d.join("&")}`:r.slice(0,i)}let ci=1/0;const Wt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Wt);class ui extends Error{constructor(i,o,d){o===401&&nn(d)&&(i+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(i),this.status=o,this.url=d}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const ji=Re()?()=>self.worker&&self.worker.referrer:()=>(x.location.protocol==="blob:"?x.parent:x).location.href,Ii=function(r,i){if(!(/^file:/.test(o=r.url)||/^file:/.test(ji())&&!/^\w+:/.test(o))){if(x.fetch&&x.Request&&x.AbortController&&x.Request.prototype.hasOwnProperty("signal"))return function(d,p){const v=new x.AbortController,T=new x.Request(d.url,{method:d.method||"GET",body:d.body,credentials:d.credentials,headers:d.headers,referrer:ji(),signal:v.signal});let B=!1,K=!1;const ie=(ue=T.url).indexOf("sku=")>0&&nn(ue);var ue;d.type==="json"&&T.headers.set("Accept","application/json");const be=(Ie,Be,He)=>{if(K)return;if(Ie&&Ie.message!=="SecurityError"&&ae(Ie),Be&&He)return Me(Be);const tt=Date.now();x.fetch(T).then(gt=>{if(gt.ok){const Pt=ie?gt.clone():null;return Me(gt,Pt,tt)}return p(new ui(gt.statusText,gt.status,d.url))}).catch(gt=>{gt.code!==20&&p(new Error(gt.message))})},Me=(Ie,Be,He)=>{(d.type==="arrayBuffer"?Ie.arrayBuffer():d.type==="json"?Ie.json():Ie.text()).then(tt=>{K||(Be&&He&&function(gt,Pt,mt){if(Tt(),!Oe)return;const wt={status:Pt.status,statusText:Pt.statusText,headers:new x.Headers};Pt.headers.forEach((Jt,Kt)=>wt.headers.set(Kt,Jt));const Ot=Le(Pt.headers.get("Cache-Control")||"");if(Ot["no-store"])return;Ot["max-age"]&&wt.headers.set("Expires",new Date(mt+1e3*Ot["max-age"]).toUTCString());const Dt=wt.headers.get("Expires");Dt&&(new Date(Dt).getTime()-mt<42e4||function(Jt,Kt){if(ze===void 0)try{new Response(new ReadableStream),ze=!0}catch{ze=!1}ze?Kt(Jt.body):Jt.blob().then(Kt)}(Pt,Jt=>{const Kt=new x.Response(Jt,wt);Tt(),Oe&&Oe.then(fi=>fi.put(Bt(gt.url),Kt)).catch(fi=>ae(fi.message))}))}(T,Be,He),B=!0,p(null,tt,Ie.headers.get("Cache-Control"),Ie.headers.get("Expires")))}).catch(tt=>{K||p(new Error(tt.message))})};return ie?function(Ie,Be){if(Tt(),!Oe)return Be(null);const He=Bt(Ie.url);Oe.then(tt=>{tt.match(He).then(gt=>{const Pt=function(mt){if(!mt)return!1;const wt=new Date(mt.headers.get("Expires")||0),Ot=Le(mt.headers.get("Cache-Control")||"");return wt>Date.now()&&!Ot["no-cache"]}(gt);tt.delete(He),Pt&&tt.put(He,gt.clone()),Be(null,gt,Pt)}).catch(Be)}).catch(Be)}(T,be):be(null,null),{cancel:()=>{K=!0,B||v.abort()}}}(r,i);if(Re()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",r,i,void 0,!0)}var o;return function(d,p){const v=new x.XMLHttpRequest;v.open(d.method||"GET",d.url,!0),d.type==="arrayBuffer"&&(v.responseType="arraybuffer");for(const T in d.headers)v.setRequestHeader(T,d.headers[T]);return d.type==="json"&&(v.responseType="text",v.setRequestHeader("Accept","application/json")),v.withCredentials=d.credentials==="include",v.onerror=()=>{p(new Error(v.statusText))},v.onload=()=>{if((v.status>=200&&v.status<300||v.status===0)&&v.response!==null){let T=v.response;if(d.type==="json")try{T=JSON.parse(v.response)}catch(B){return p(B)}p(null,T,v.getResponseHeader("Cache-Control"),v.getResponseHeader("Expires"))}else p(new ui(v.statusText,v.status,d.url))},v.send(d.body),{cancel:()=>v.abort()}}(r,i)},wi=function(r,i){return Ii(Z(r,{type:"arrayBuffer"}),i)};function Ci(r){const i=x.document.createElement("a");return i.href=r,i.protocol===x.document.location.protocol&&i.host===x.document.location.host}const sn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let vn,Gn;vn=[],Gn=0;const br=function(r,i){if(V.supported&&(r.headers||(r.headers={}),r.headers.accept="image/webp,*/*"),Gn>=O.MAX_PARALLEL_IMAGE_REQUESTS){const v={requestParameters:r,callback:i,cancelled:!1,cancel(){this.cancelled=!0}};return vn.push(v),v}Gn++;let o=!1;const d=()=>{if(!o)for(o=!0,Gn--;vn.length&&Gn<O.MAX_PARALLEL_IMAGE_REQUESTS;){const v=vn.shift(),{requestParameters:T,callback:B,cancelled:K}=v;K||(v.cancel=br(T,B).cancel)}},p=wi(r,(v,T,B,K)=>{d(),v?i(v):T&&(x.createImageBitmap?function(ie,ue){const be=new x.Blob([new Uint8Array(ie)],{type:"image/png"});x.createImageBitmap(be).then(Me=>{ue(null,Me)}).catch(Me=>{ue(new Error(`Could not load image because of ${Me.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(T,(ie,ue)=>i(ie,ue,B,K)):function(ie,ue){const be=new x.Image,Me=x.URL;be.onload=()=>{ue(null,be),Me.revokeObjectURL(be.src),be.onload=null,x.requestAnimationFrame(()=>{be.src=sn})},be.onerror=()=>ue(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Ie=new x.Blob([new Uint8Array(ie)],{type:"image/png"});be.src=ie.byteLength?Me.createObjectURL(Ie):sn}(T,(ie,ue)=>i(ie,ue,B,K)))});return{cancel:()=>{p.cancel(),d()}}},us="NO_ACCESS_TOKEN";function Ps(r){return r.indexOf("mapbox:")===0}function nn(r){return O.API_URL_REGEX.test(r)}function qr(r){return O.API_CDN_URL_REGEX.test(r)}function zo(r){return O.API_STYLE_REGEX.test(r)&&!fa(r)}function fa(r){return O.API_SPRITE_REGEX.test(r)}const Ko=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function lr(r){const i=r.match(Ko);if(!i)throw new Error("Unable to parse URL object");return{protocol:i[1],authority:i[2],path:i[3]||"/",params:i[4]?i[4].split("&"):[]}}function No(r){const i=r.params.length?`?${r.params.join("&")}`:"";return`${r.protocol}://${r.authority}${r.path}${i}`}function Va(r){if(!r)return null;const i=r.split(".");if(!i||i.length!==3)return null;try{return JSON.parse(decodeURIComponent(x.atob(i[1]).split("").map(o=>"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class ut{constructor(i){this.type=i,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(i){const o=Va(O.ACCESS_TOKEN);let d="";return d=o&&o.u?x.btoa(encodeURIComponent(o.u).replace(/%([0-9A-F]{2})/g,(p,v)=>String.fromCharCode(+("0x"+v)))):O.ACCESS_TOKEN||"",i?`mapbox.eventData.${i}:${d}`:`mapbox.eventData:${d}`}fetchEventData(){const i=Qe("localStorage"),o=this.getStorageKey(),d=this.getStorageKey("uuid");if(i)try{const p=x.localStorage.getItem(o);p&&(this.eventData=JSON.parse(p));const v=x.localStorage.getItem(d);v&&(this.anonId=v)}catch{ae("Unable to read from LocalStorage")}}saveEventData(){const i=Qe("localStorage"),o=this.getStorageKey(),d=this.getStorageKey("uuid");if(i)try{x.localStorage.setItem(d,this.anonId),Object.keys(this.eventData).length>=1&&x.localStorage.setItem(o,JSON.stringify(this.eventData))}catch{ae("Unable to write to LocalStorage")}}processRequests(i){}postEvent(i,o,d,p){if(!O.EVENTS_URL)return;const v=lr(O.EVENTS_URL);v.params.push(`access_token=${p||O.ACCESS_TOKEN||""}`);const T={event:this.type,created:new Date(i).toISOString()},B=o?Z(T,o):T,K={url:No(v),headers:{"Content-Type":"text/plain"},body:JSON.stringify([B])};this.pendingRequest=function(ie,ue){return Ii(Z(ie,{method:"POST"}),ue)}(K,ie=>{this.pendingRequest=null,d(ie),this.saveEventData(),this.processRequests(p)})}queueRequest(i,o){this.queue.push(i),this.processRequests(o)}}const Fe=new class extends ut{constructor(r){super("appUserTurnstile"),this._customAccessToken=r}postTurnstileEvent(r,i){O.EVENTS_URL&&O.ACCESS_TOKEN&&Array.isArray(r)&&r.some(o=>Ps(o)||nn(o))&&this.queueRequest(Date.now(),i)}processRequests(r){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const i=Va(O.ACCESS_TOKEN),o=i?i.u:O.ACCESS_TOKEN;let d=o!==this.eventData.tokenU;oe(this.anonId)||(this.anonId=Ce(),d=!0);const p=this.queue.shift();if(this.eventData.lastSuccess){const v=new Date(this.eventData.lastSuccess),T=new Date(p),B=(p-this.eventData.lastSuccess)/864e5;d=d||B>=1||B<-1||v.getDate()!==T.getDate()}else d=!0;d?this.postEvent(p,{sdkIdentifier:"mapbox-gl-js",sdkVersion:z,skuId:C,"enabled.telemetry":!1,userId:this.anonId},v=>{v||(this.eventData.lastSuccess=p,this.eventData.tokenU=o)},r):this.processRequests()}},We=Fe.postTurnstileEvent.bind(Fe),dt=new class extends ut{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(r,i,o,d){this.skuToken=i,this.errorCb=d,O.EVENTS_URL&&(o||O.ACCESS_TOKEN?this.queueRequest({id:r,timestamp:Date.now()},o):this.errorCb(new Error(us)))}processRequests(r){if(this.pendingRequest||this.queue.length===0)return;const{id:i,timestamp:o}=this.queue.shift();i&&this.success[i]||(this.anonId||this.fetchEventData(),oe(this.anonId)||(this.anonId=Ce()),this.postEvent(o,{sdkIdentifier:"mapbox-gl-js",sdkVersion:z,skuId:C,skuToken:this.skuToken,userId:this.anonId},d=>{d?this.errorCb(d):i&&(this.success[i]=!0)},r))}},vt=dt.postMapLoadEvent.bind(dt),_t=new class extends ut{constructor(){super("gljs.performance")}postPerformanceEvent(r,i){O.EVENTS_URL&&(r||O.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:i},r)}processRequests(r){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:i,performanceData:o}=this.queue.shift(),d=function(p){const v=x.performance.getEntriesByType("resource"),T=x.performance.getEntriesByType("mark"),B=function(Me){const Ie={};if(Me){for(const Be in Me)if(Be!=="other")for(const He of Me[Be]){const tt=`${Be}ResolveRangeMin`,gt=`${Be}ResolveRangeMax`,Pt=`${Be}RequestCount`,mt=`${Be}RequestCachedCount`;Ie[tt]=Math.min(Ie[tt]||1/0,He.startTime),Ie[gt]=Math.max(Ie[gt]||-1/0,He.responseEnd);const wt=Ot=>{Ie[Ot]===void 0&&(Ie[Ot]=0),++Ie[Ot]};He.transferSize!==void 0&&He.transferSize===0&&wt(mt),wt(Pt)}}return Ie}(function(Me,Ie){const Be={};if(Me)for(const He of Me){const tt=Ie(He);Be[tt]===void 0&&(Be[tt]=[]),Be[tt].push(He)}return Be}(v,Mi)),K=x.devicePixelRatio,ie=x.navigator.connection||x.navigator.mozConnection||x.navigator.webkitConnection,ue={counters:[],metadata:[],attributes:[]},be=(Me,Ie,Be)=>{Be!=null&&Me.push({name:Ie,value:Be.toString()})};for(const Me in B)be(ue.counters,Me,B[Me]);if(p.interactionRange[0]!==1/0&&p.interactionRange[1]!==-1/0&&(be(ue.counters,"interactionRangeMin",p.interactionRange[0]),be(ue.counters,"interactionRangeMax",p.interactionRange[1])),T)for(const Me of Object.keys(mi)){const Ie=mi[Me],Be=T.find(He=>He.name===Ie);Be&&be(ue.counters,Ie,Be.startTime)}return be(ue.counters,"visibilityHidden",p.visibilityHidden),be(ue.attributes,"style",function(Me){if(Me)for(const Ie of Me){const Be=Ie.name.split("?")[0];if(zo(Be)){const He=Be.split("/").slice(-2);if(He.length===2)return`mapbox://styles/${He[0]}/${He[1]}`}}}(v)),be(ue.attributes,"terrainEnabled",p.terrainEnabled?"true":"false"),be(ue.attributes,"fogEnabled",p.fogEnabled?"true":"false"),be(ue.attributes,"projection",p.projection),be(ue.attributes,"zoom",p.zoom),be(ue.metadata,"devicePixelRatio",K),be(ue.metadata,"connectionEffectiveType",ie?ie.effectiveType:void 0),be(ue.metadata,"navigatorUserAgent",x.navigator.userAgent),be(ue.metadata,"screenWidth",x.screen.width),be(ue.metadata,"screenHeight",x.screen.height),be(ue.metadata,"windowWidth",x.innerWidth),be(ue.metadata,"windowHeight",x.innerHeight),be(ue.metadata,"mapWidth",p.width/K),be(ue.metadata,"mapHeight",p.height/K),be(ue.metadata,"webglRenderer",p.renderer),be(ue.metadata,"webglVendor",p.vendor),be(ue.metadata,"sdkVersion",z),be(ue.metadata,"sdkIdentifier","mapbox-gl-js"),ue}(o);for(const p of d.metadata);for(const p of d.counters);for(const p of d.attributes);this.postEvent(i,d,()=>{},r)}},Nt=_t.postPerformanceEvent.bind(_t),Mt=new class extends ut{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(r,i,o,d){if(!O.API_URL||!O.SESSION_PATH)return;const p=lr(O.API_URL+O.SESSION_PATH);p.params.push(`sku=${i||""}`),p.params.push(`access_token=${d||O.ACCESS_TOKEN||""}`);const v={url:No(p),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(T,B){return Ii(Z(T,{method:"GET"}),B)}(v,T=>{this.pendingRequest=null,o(T),this.saveEventData(),this.processRequests(d)})}getSessionAPI(r,i,o,d){this.skuToken=i,this.errorCb=d,O.SESSION_PATH&&O.API_URL&&(o||O.ACCESS_TOKEN?this.queueRequest({id:r,timestamp:Date.now()},o):this.errorCb(new Error(us)))}processRequests(r){if(this.pendingRequest||this.queue.length===0)return;const{id:i,timestamp:o}=this.queue.shift();i&&this.success[i]||this.getSession(o,this.skuToken,d=>{d?this.errorCb(d):i&&(this.success[i]=!0)},r)}},Lt=Mt.getSessionAPI.bind(Mt),Ut=new Set,mi={create:"create",load:"load",fullLoad:"fullLoad"},Gi={mark(r){x.performance.mark(r)},measure(r,i,o){x.performance.measure(r,i,o)}};function Mi(r){const i=r.name.split("?")[0];return qr(i)&&i.includes("mapbox-gl.js")?"javascript":qr(i)&&i.includes("mapbox-gl.css")?"css":function(o){return O.API_FONTS_REGEX.test(o)}(i)?"fontRange":fa(i)?"sprite":zo(i)?"style":function(o){return O.API_TILEJSON_REGEX.test(o)}(i)?"tilejson":"other"}const yn=x.performance;function _n(r){const i=r?r.url.toString():void 0;return yn.getEntriesByName(i)}let an,$i,Qn,gs;const pn={now:()=>Qn!==void 0?Qn:x.performance.now(),setNow(r){Qn=r},restoreNow(){Qn=void 0},frame(r){const i=x.requestAnimationFrame(r);return{cancel:()=>x.cancelAnimationFrame(i)}},getImageData(r,i=0){const{width:o,height:d}=r;gs||(gs=x.document.createElement("canvas"));const p=gs.getContext("2d",{willReadFrequently:!0});if(!p)throw new Error("failed to create canvas 2d context");return(o>gs.width||d>gs.height)&&(gs.width=o,gs.height=d),p.clearRect(-i,-i,o+2*i,d+2*i),p.drawImage(r,0,0,o,d),p.getImageData(-i,-i,o+2*i,d+2*i)},resolveURL:r=>(an||(an=x.document.createElement("a")),an.href=r,an.href),get devicePixelRatio(){return x.devicePixelRatio},get prefersReducedMotion(){return!!x.matchMedia&&($i==null&&($i=x.matchMedia("(prefers-reduced-motion: reduce)")),$i.matches)}};function Rs(r,i,o){o[r]&&o[r].indexOf(i)!==-1||(o[r]=o[r]||[],o[r].push(i))}function xs(r,i,o){if(o&&o[r]){const d=o[r].indexOf(i);d!==-1&&o[r].splice(d,1)}}class ma{constructor(i,o={}){Z(this,o),this.type=i}}class ga extends ma{constructor(i,o={}){super("error",Z({error:i},o))}}class Xr{on(i,o){return this._listeners=this._listeners||{},Rs(i,o,this._listeners),this}off(i,o){return xs(i,o,this._listeners),xs(i,o,this._oneTimeListeners),this}once(i,o){return o?(this._oneTimeListeners=this._oneTimeListeners||{},Rs(i,o,this._oneTimeListeners),this):new Promise(d=>this.once(i,d))}fire(i,o){typeof i=="string"&&(i=new ma(i,o||{}));const d=i.type;if(this.listens(d)){i.target=this;const p=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];for(const B of p)B.call(this,i);const v=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];for(const B of v)xs(d,B,this._oneTimeListeners),B.call(this,i);const T=this._eventedParent;T&&(Z(i,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),T.fire(i))}else i instanceof ga&&console.error(i.error);return this}listens(i){return!!(this._listeners&&this._listeners[i]&&this._listeners[i].length>0||this._oneTimeListeners&&this._oneTimeListeners[i]&&this._oneTimeListeners[i].length>0||this._eventedParent&&this._eventedParent.listens(i))}setEventedParent(i,o){return this._eventedParent=i,this._eventedParentData=o,this}}var di=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function Js(r,...i){for(const o of i)for(const d in o)r[d]=o[d];return r}function _r(r){return r instanceof Number||r instanceof String||r instanceof Boolean?r.valueOf():r}function yr(r){if(Array.isArray(r))return r.map(yr);if(r instanceof Object&&!(r instanceof Number||r instanceof String||r instanceof Boolean)){const i={};for(const o in r)i[o]=yr(r[o]);return i}return _r(r)}class Gl extends Error{constructor(i,o){super(o),this.message=o,this.key=i}}var oo=Gl;class gc{constructor(i,o=[]){this.parent=i,this.bindings={};for(const[d,p]of o)this.bindings[d]=p}concat(i){return new gc(this,i)}get(i){if(this.bindings[i])return this.bindings[i];if(this.parent)return this.parent.get(i);throw new Error(`${i} not found in scope.`)}has(i){return!!this.bindings[i]||!!this.parent&&this.parent.has(i)}}var Ed=gc;const Vr={kind:"null"},Hi={kind:"number"},Vn={kind:"string"},es={kind:"boolean"},Eo={kind:"color"},_a={kind:"object"},An={kind:"value"},Vl={kind:"collator"},Jo={kind:"formatted"},ka={kind:"resolvedImage"};function Or(r,i){return{kind:"array",itemType:r,N:i}}function Ds(r){if(r.kind==="array"){const i=Ds(r.itemType);return typeof r.N=="number"?`array<${i}, ${r.N}>`:r.itemType.kind==="value"?"array":`array<${i}>`}return r.kind}const Hr=[Vr,Hi,Vn,es,Eo,Jo,_a,Or(An),ka];function yo(r,i){if(i.kind==="error")return null;if(r.kind==="array"){if(i.kind==="array"&&(i.N===0&&i.itemType.kind==="value"||!yo(r.itemType,i.itemType))&&(typeof r.N!="number"||r.N===i.N))return null}else{if(r.kind===i.kind)return null;if(r.kind==="value"){for(const o of Hr)if(!yo(o,i))return null}}return`Expected ${Ds(r)} but found ${Ds(i)} instead.`}function ml(r,i){return i.some(o=>o.kind===r.kind)}function Fo(r,i){return i.some(o=>o==="null"?r===null:o==="array"?Array.isArray(r):o==="object"?r&&!Array.isArray(r)&&typeof r=="object":o===typeof r)}var Ha,Wa={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Pa(r){return(r=Math.round(r))<0?0:r>255?255:r}function Ya(r){return Pa(r[r.length-1]==="%"?parseFloat(r)/100*255:parseInt(r))}function _c(r){return(i=r[r.length-1]==="%"?parseFloat(r)/100:parseFloat(r))<0?0:i>1?1:i;var i}function yc(r,i,o){return o<0?o+=1:o>1&&(o-=1),6*o<1?r+(i-r)*o*6:2*o<1?i:3*o<2?r+(i-r)*(2/3-o)*6:r}try{Ha={}.parseCSSColor=function(r){var i,o=r.replace(/ /g,"").toLowerCase();if(o in Wa)return Wa[o].slice();if(o[0]==="#")return o.length===4?(i=parseInt(o.substr(1),16))>=0&&i<=4095?[(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1]:null:o.length===7&&(i=parseInt(o.substr(1),16))>=0&&i<=16777215?[(16711680&i)>>16,(65280&i)>>8,255&i,1]:null;var d=o.indexOf("("),p=o.indexOf(")");if(d!==-1&&p+1===o.length){var v=o.substr(0,d),T=o.substr(d+1,p-(d+1)).split(","),B=1;switch(v){case"rgba":if(T.length!==4)return null;B=_c(T.pop());case"rgb":return T.length!==3?null:[Ya(T[0]),Ya(T[1]),Ya(T[2]),B];case"hsla":if(T.length!==4)return null;B=_c(T.pop());case"hsl":if(T.length!==3)return null;var K=(parseFloat(T[0])%360+360)%360/360,ie=_c(T[1]),ue=_c(T[2]),be=ue<=.5?ue*(ie+1):ue+ie-ue*ie,Me=2*ue-be;return[Pa(255*yc(Me,be,K+1/3)),Pa(255*yc(Me,be,K)),Pa(255*yc(Me,be,K-1/3)),B];default:return null}}return null}}catch{}class po{constructor(i,o,d,p=1){this.r=i,this.g=o,this.b=d,this.a=p}static parse(i){if(!i)return;if(i instanceof po)return i;if(typeof i!="string")return;const o=Ha(i);return o?new po(o[0]/255*o[3],o[1]/255*o[3],o[2]/255*o[3],o[3]):void 0}toString(){const[i,o,d,p]=this.toArray();return`rgba(${Math.round(i)},${Math.round(o)},${Math.round(d)},${p})`}toArray(){const{r:i,g:o,b:d,a:p}=this;return p===0?[0,0,0,0]:[255*i/p,255*o/p,255*d/p,p]}toArray01(){const{r:i,g:o,b:d,a:p}=this;return p===0?[0,0,0,0]:[i/p,o/p,d/p,p]}toArray01PremultipliedAlpha(){const{r:i,g:o,b:d,a:p}=this;return[i,o,d,p]}}po.black=new po(0,0,0,1),po.white=new po(1,1,1,1),po.transparent=new po(0,0,0,0),po.red=new po(1,0,0,1),po.blue=new po(0,0,1,1);var pr=po;class gl{constructor(i,o,d){this.sensitivity=i?o?"variant":"case":o?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(i,o){return this.collator.compare(i,o)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Da{constructor(i,o,d,p,v){this.text=i.normalize?i.normalize():i,this.image=o,this.scale=d,this.fontStack=p,this.textColor=v}}class Rr{constructor(i){this.sections=i}static fromString(i){return new Rr([new Da(i,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(i=>i.text.length!==0||i.image&&i.image.name.length!==0)}static factory(i){return i instanceof Rr?i:Rr.fromString(i)}toString(){return this.sections.length===0?"":this.sections.map(i=>i.text).join("")}serialize(){const i=["format"];for(const o of this.sections){if(o.image){i.push(["image",o.image.name]);continue}i.push(o.text);const d={};o.fontStack&&(d["text-font"]=["literal",o.fontStack.split(",")]),o.scale&&(d["font-scale"]=o.scale),o.textColor&&(d["text-color"]=["rgba"].concat(o.textColor.toArray())),i.push(d)}return i}}class jo{constructor(i){this.name=i.name,this.available=i.available}toString(){return this.name}static fromString(i){return i?new jo({name:i,available:!1}):null}serialize(){return["image",this.name]}}function Zd(r,i,o,d){return typeof r=="number"&&r>=0&&r<=255&&typeof i=="number"&&i>=0&&i<=255&&typeof o=="number"&&o>=0&&o<=255?d===void 0||typeof d=="number"&&d>=0&&d<=1?null:`Invalid rgba value [${[r,i,o,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof d=="number"?[r,i,o,d]:[r,i,o]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Yc(r){if(r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"||r instanceof pr||r instanceof gl||r instanceof Rr||r instanceof jo)return!0;if(Array.isArray(r)){for(const i of r)if(!Yc(i))return!1;return!0}if(typeof r=="object"){for(const i in r)if(!Yc(r[i]))return!1;return!0}return!1}function kr(r){if(r===null)return Vr;if(typeof r=="string")return Vn;if(typeof r=="boolean")return es;if(typeof r=="number")return Hi;if(r instanceof pr)return Eo;if(r instanceof gl)return Vl;if(r instanceof Rr)return Jo;if(r instanceof jo)return ka;if(Array.isArray(r)){const i=r.length;let o;for(const d of r){const p=kr(d);if(o){if(o===p)continue;o=An;break}o=p}return Or(o||An,i)}return _a}function _l(r){const i=typeof r;return r===null?"":i==="string"||i==="number"||i==="boolean"?String(r):r instanceof pr||r instanceof Rr||r instanceof jo?r.toString():JSON.stringify(r)}class qc{constructor(i,o){this.type=i,this.value=o}static parse(i,o){if(i.length!==2)return o.error(`'literal' expression requires exactly one argument, but found ${i.length-1} instead.`);if(!Yc(i[1]))return o.error("invalid value");const d=i[1];let p=kr(d);const v=o.expectedType;return p.kind!=="array"||p.N!==0||!v||v.kind!=="array"||typeof v.N=="number"&&v.N!==0||(p=v),new qc(p,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof pr?["rgba"].concat(this.value.toArray()):this.value instanceof Rr?this.value.serialize():this.value}}var yl=qc,Br=class{constructor(r){this.name="ExpressionEvaluationError",this.message=r}toJSON(){return this.message}};const qa={string:Vn,number:Hi,boolean:es,object:_a};class Xc{constructor(i,o){this.type=i,this.args=o}static parse(i,o){if(i.length<2)return o.error("Expected at least one argument.");let d,p=1;const v=i[0];if(v==="array"){let B,K;if(i.length>2){const ie=i[1];if(typeof ie!="string"||!(ie in qa)||ie==="object")return o.error('The item type argument of "array" must be one of string, number, boolean',1);B=qa[ie],p++}else B=An;if(i.length>3){if(i[2]!==null&&(typeof i[2]!="number"||i[2]<0||i[2]!==Math.floor(i[2])))return o.error('The length argument to "array" must be a positive integer literal',2);K=i[2],p++}d=Or(B,K)}else d=qa[v];const T=[];for(;p<i.length;p++){const B=o.parse(i[p],p,An);if(!B)return null;T.push(B)}return new Xc(d,T)}evaluate(i){for(let o=0;o<this.args.length;o++){const d=this.args[o].evaluate(i);if(!yo(this.type,kr(d)))return d;if(o===this.args.length-1)throw new Br(`Expected value to be of type ${Ds(this.type)}, but found ${Ds(kr(d))} instead.`)}return null}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}serialize(){const i=this.type,o=[i.kind];if(i.kind==="array"){const d=i.itemType;if(d.kind==="string"||d.kind==="number"||d.kind==="boolean"){o.push(d.kind);const p=i.N;(typeof p=="number"||this.args.length>1)&&o.push(p)}}return o.concat(this.args.map(d=>d.serialize()))}}var ys=Xc;class Ts{constructor(i){this.type=Jo,this.sections=i}static parse(i,o){if(i.length<2)return o.error("Expected at least one argument.");const d=i[1];if(!Array.isArray(d)&&typeof d=="object")return o.error("First argument must be an image or text section.");const p=[];let v=!1;for(let T=1;T<=i.length-1;++T){const B=i[T];if(v&&typeof B=="object"&&!Array.isArray(B)){v=!1;let K=null;if(B["font-scale"]&&(K=o.parse(B["font-scale"],1,Hi),!K))return null;let ie=null;if(B["text-font"]&&(ie=o.parse(B["text-font"],1,Or(Vn)),!ie))return null;let ue=null;if(B["text-color"]&&(ue=o.parse(B["text-color"],1,Eo),!ue))return null;const be=p[p.length-1];be.scale=K,be.font=ie,be.textColor=ue}else{const K=o.parse(i[T],1,An);if(!K)return null;const ie=K.type.kind;if(ie!=="string"&&ie!=="value"&&ie!=="null"&&ie!=="resolvedImage")return o.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");v=!0,p.push({content:K,scale:null,font:null,textColor:null})}}return new Ts(p)}evaluate(i){return new Rr(this.sections.map(o=>{const d=o.content.evaluate(i);return kr(d)===ka?new Da("",d,null,null,null):new Da(_l(d),null,o.scale?o.scale.evaluate(i):null,o.font?o.font.evaluate(i).join(","):null,o.textColor?o.textColor.evaluate(i):null)}))}eachChild(i){for(const o of this.sections)i(o.content),o.scale&&i(o.scale),o.font&&i(o.font),o.textColor&&i(o.textColor)}outputDefined(){return!1}serialize(){const i=["format"];for(const o of this.sections){i.push(o.content.serialize());const d={};o.scale&&(d["font-scale"]=o.scale.serialize()),o.font&&(d["text-font"]=o.font.serialize()),o.textColor&&(d["text-color"]=o.textColor.serialize()),i.push(d)}return i}}class Zc{constructor(i){this.type=ka,this.input=i}static parse(i,o){if(i.length!==2)return o.error("Expected two arguments.");const d=o.parse(i[1],1,Vn);return d?new Zc(d):o.error("No image name provided.")}evaluate(i){const o=this.input.evaluate(i),d=jo.fromString(o);return d&&i.availableImages&&(d.available=i.availableImages.indexOf(o)>-1),d}eachChild(i){i(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Kd={"to-boolean":es,"to-color":Eo,"to-number":Hi,"to-string":Vn};class Md{constructor(i,o){this.type=i,this.args=o}static parse(i,o){if(i.length<2)return o.error("Expected at least one argument.");const d=i[0];if((d==="to-boolean"||d==="to-string")&&i.length!==2)return o.error("Expected one argument.");const p=Kd[d],v=[];for(let T=1;T<i.length;T++){const B=o.parse(i[T],T,An);if(!B)return null;v.push(B)}return new Md(p,v)}evaluate(i){if(this.type.kind==="boolean")return!!this.args[0].evaluate(i);if(this.type.kind==="color"){let o,d;for(const p of this.args){if(o=p.evaluate(i),d=null,o instanceof pr)return o;if(typeof o=="string"){const v=i.parseColor(o);if(v)return v}else if(Array.isArray(o)&&(d=o.length<3||o.length>4?`Invalid rbga value ${JSON.stringify(o)}: expected an array containing either three or four numeric values.`:Zd(o[0],o[1],o[2],o[3]),!d))return new pr(o[0]/255,o[1]/255,o[2]/255,o[3])}throw new Br(d||`Could not parse color from value '${typeof o=="string"?o:String(JSON.stringify(o))}'`)}if(this.type.kind==="number"){let o=null;for(const d of this.args){if(o=d.evaluate(i),o===null)return 0;const p=Number(o);if(!isNaN(p))return p}throw new Br(`Could not convert ${JSON.stringify(o)} to number.`)}return this.type.kind==="formatted"?Rr.fromString(_l(this.args[0].evaluate(i))):this.type.kind==="resolvedImage"?jo.fromString(_l(this.args[0].evaluate(i))):_l(this.args[0].evaluate(i))}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Ts([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Zc(this.args[0]).serialize();const i=[`to-${this.type.kind}`];return this.eachChild(o=>{i.push(o.serialize())}),i}}var Uo=Md;const vc=["Unknown","Point","LineString","Polygon"];var Kc=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?vc[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const r=this.featureDistanceData.center,i=this.featureDistanceData.scale,{x:o,y:d}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(o*i-r[0])+this.featureDistanceData.bearing[1]*(d*i-r[1])}return 0}parseColor(r){let i=this._parseColorCache[r];return i||(i=this._parseColorCache[r]=pr.parse(r)),i}};class vl{constructor(i,o,d,p){this.name=i,this.type=o,this._evaluate=d,this.args=p}evaluate(i){return this._evaluate(i,this.args)}eachChild(i){this.args.forEach(i)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(i=>i.serialize()))}static parse(i,o){const d=i[0],p=vl.definitions[d];if(!p)return o.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);const v=Array.isArray(p)?p[0]:p.type,T=Array.isArray(p)?[[p[1],p[2]]]:p.overloads,B=T.filter(([ie])=>!Array.isArray(ie)||ie.length===i.length-1);let K=null;for(const[ie,ue]of B){K=new js(o.registry,o.path,null,o.scope);const be=[];let Me=!1;for(let Ie=1;Ie<i.length;Ie++){const Be=i[Ie],He=Array.isArray(ie)?ie[Ie-1]:ie.type,tt=K.parse(Be,1+be.length,He);if(!tt){Me=!0;break}be.push(tt)}if(!Me)if(Array.isArray(ie)&&ie.length!==be.length)K.error(`Expected ${ie.length} arguments, but found ${be.length} instead.`);else{for(let Ie=0;Ie<be.length;Ie++){const Be=Array.isArray(ie)?ie[Ie]:ie.type,He=be[Ie];K.concat(Ie+1).checkSubtype(Be,He.type)}if(K.errors.length===0)return new vl(d,v,ue,be)}}if(B.length===1)o.errors.push(...K.errors);else{const ie=(B.length?B:T).map(([be])=>{return Me=be,Array.isArray(Me)?`(${Me.map(Ds).join(", ")})`:`(${Ds(Me.type)}...)`;var Me}).join(" | "),ue=[];for(let be=1;be<i.length;be++){const Me=o.parse(i[be],1+ue.length);if(!Me)return null;ue.push(Ds(Me.type))}o.error(`Expected arguments of type ${ie}, but found (${ue.join(", ")}) instead.`)}return null}static register(i,o){vl.definitions=o;for(const d in o)i[d]=vl}}var Mo=vl;class Pr{constructor(i,o,d){this.type=Vl,this.locale=d,this.caseSensitive=i,this.diacriticSensitive=o}static parse(i,o){if(i.length!==2)return o.error("Expected one argument.");const d=i[1];if(typeof d!="object"||Array.isArray(d))return o.error("Collator options argument must be an object.");const p=o.parse(d["case-sensitive"]!==void 0&&d["case-sensitive"],1,es);if(!p)return null;const v=o.parse(d["diacritic-sensitive"]!==void 0&&d["diacritic-sensitive"],1,es);if(!v)return null;let T=null;return d.locale&&(T=o.parse(d.locale,1,Vn),!T)?null:new Pr(p,v,T)}evaluate(i){return new gl(this.caseSensitive.evaluate(i),this.diacriticSensitive.evaluate(i),this.locale?this.locale.evaluate(i):null)}eachChild(i){i(this.caseSensitive),i(this.diacriticSensitive),this.locale&&i(this.locale)}outputDefined(){return!1}serialize(){const i={};return i["case-sensitive"]=this.caseSensitive.serialize(),i["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(i.locale=this.locale.serialize()),["collator",i]}}const G=8192;function le(r,i){r[0]=Math.min(r[0],i[0]),r[1]=Math.min(r[1],i[1]),r[2]=Math.max(r[2],i[0]),r[3]=Math.max(r[3],i[1])}function ve(r,i){return!(r[0]<=i[0]||r[2]>=i[2]||r[1]<=i[1]||r[3]>=i[3])}function Ae(r,i){const o=(180+r[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r[1]*Math.PI/360)))/360,p=Math.pow(2,i.z);return[Math.round(o*p*G),Math.round(d*p*G)]}function Ue(r,i,o){const d=r[0]-i[0],p=r[1]-i[1],v=r[0]-o[0],T=r[1]-o[1];return d*T-v*p==0&&d*v<=0&&p*T<=0}function Ve(r,i){let o=!1;for(let T=0,B=i.length;T<B;T++){const K=i[T];for(let ie=0,ue=K.length;ie<ue-1;ie++){if(Ue(r,K[ie],K[ie+1]))return!1;(p=K[ie])[1]>(d=r)[1]!=(v=K[ie+1])[1]>d[1]&&d[0]<(v[0]-p[0])*(d[1]-p[1])/(v[1]-p[1])+p[0]&&(o=!o)}}var d,p,v;return o}function Je(r,i){for(let o=0;o<i.length;o++)if(Ve(r,i[o]))return!0;return!1}function Rt(r,i,o,d){const p=d[0]-o[0],v=d[1]-o[1],T=(r[0]-o[0])*v-p*(r[1]-o[1]),B=(i[0]-o[0])*v-p*(i[1]-o[1]);return T>0&&B<0||T<0&&B>0}function Et(r,i,o){for(const ie of o)for(let ue=0;ue<ie.length-1;++ue)if((B=[(T=ie[ue+1])[0]-(v=ie[ue])[0],T[1]-v[1]])[0]*(K=[(p=i)[0]-(d=r)[0],p[1]-d[1]])[1]-B[1]*K[0]!=0&&Rt(d,p,v,T)&&Rt(v,T,d,p))return!0;var d,p,v,T,B,K;return!1}function Xt(r,i){for(let o=0;o<r.length;++o)if(!Ve(r[o],i))return!1;for(let o=0;o<r.length-1;++o)if(Et(r[o],r[o+1],i))return!1;return!0}function hi(r,i){for(let o=0;o<i.length;o++)if(Xt(r,i[o]))return!0;return!1}function Ti(r,i,o){const d=[];for(let p=0;p<r.length;p++){const v=[];for(let T=0;T<r[p].length;T++){const B=Ae(r[p][T],o);le(i,B),v.push(B)}d.push(v)}return d}function ni(r,i,o){const d=[];for(let p=0;p<r.length;p++){const v=Ti(r[p],i,o);d.push(v)}return d}function ai(r,i,o,d){if(r[0]<o[0]||r[0]>o[2]){const p=.5*d;let v=r[0]-o[0]>p?-d:o[0]-r[0]>p?d:0;v===0&&(v=r[0]-o[2]>p?-d:o[2]-r[0]>p?d:0),r[0]+=v}le(i,r)}function Vi(r,i,o,d){const p=Math.pow(2,d.z)*G,v=[d.x*G,d.y*G],T=[];if(!r)return T;for(const B of r)for(const K of B){const ie=[K.x+v[0],K.y+v[1]];ai(ie,i,o,p),T.push(ie)}return T}function Rn(r,i,o,d){const p=Math.pow(2,d.z)*G,v=[d.x*G,d.y*G],T=[];if(!r)return T;for(const K of r){const ie=[];for(const ue of K){const be=[ue.x+v[0],ue.y+v[1]];le(i,be),ie.push(be)}T.push(ie)}if(i[2]-i[0]<=p/2){(B=i)[0]=B[1]=1/0,B[2]=B[3]=-1/0;for(const K of T)for(const ie of K)ai(ie,i,o,p)}var B;return T}class ln{constructor(i,o){this.type=es,this.geojson=i,this.geometries=o}static parse(i,o){if(i.length!==2)return o.error(`'within' expression requires exactly one argument, but found ${i.length-1} instead.`);if(Yc(i[1])){const d=i[1];if(d.type==="FeatureCollection")for(let p=0;p<d.features.length;++p){const v=d.features[p].geometry.type;if(v==="Polygon"||v==="MultiPolygon")return new ln(d,d.features[p].geometry)}else if(d.type==="Feature"){const p=d.geometry.type;if(p==="Polygon"||p==="MultiPolygon")return new ln(d,d.geometry)}else if(d.type==="Polygon"||d.type==="MultiPolygon")return new ln(d,d)}return o.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(i){if(i.geometry()!=null&&i.canonicalID()!=null){if(i.geometryType()==="Point")return function(o,d){const p=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],T=o.canonicalID();if(!T)return!1;if(d.type==="Polygon"){const B=Ti(d.coordinates,v,T),K=Vi(o.geometry(),p,v,T);if(!ve(p,v))return!1;for(const ie of K)if(!Ve(ie,B))return!1}if(d.type==="MultiPolygon"){const B=ni(d.coordinates,v,T),K=Vi(o.geometry(),p,v,T);if(!ve(p,v))return!1;for(const ie of K)if(!Je(ie,B))return!1}return!0}(i,this.geometries);if(i.geometryType()==="LineString")return function(o,d){const p=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],T=o.canonicalID();if(!T)return!1;if(d.type==="Polygon"){const B=Ti(d.coordinates,v,T),K=Rn(o.geometry(),p,v,T);if(!ve(p,v))return!1;for(const ie of K)if(!Xt(ie,B))return!1}if(d.type==="MultiPolygon"){const B=ni(d.coordinates,v,T),K=Rn(o.geometry(),p,v,T);if(!ve(p,v))return!1;for(const ie of K)if(!hi(ie,B))return!1}return!0}(i,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var Qs=ln;function Fs(r){if(r instanceof Mo&&(r.name==="get"&&r.args.length===1||r.name==="feature-state"||r.name==="has"&&r.args.length===1||r.name==="properties"||r.name==="geometry-type"||r.name==="id"||/^filter-/.test(r.name))||r instanceof Qs)return!1;let i=!0;return r.eachChild(o=>{i&&!Fs(o)&&(i=!1)}),i}function is(r){if(r instanceof Mo&&r.name==="feature-state")return!1;let i=!0;return r.eachChild(o=>{i&&!is(o)&&(i=!1)}),i}function ns(r,i){if(r instanceof Mo&&i.indexOf(r.name)>=0)return!1;let o=!0;return r.eachChild(d=>{o&&!ns(d,i)&&(o=!1)}),o}class On{constructor(i,o){this.type=o.type,this.name=i,this.boundExpression=o}static parse(i,o){if(i.length!==2||typeof i[1]!="string")return o.error("'var' expression requires exactly one string literal argument.");const d=i[1];return o.scope.has(d)?new On(d,o.scope.get(d)):o.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(i){return this.boundExpression.evaluate(i)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var zr=On;class rs{constructor(i,o=[],d,p=new Ed,v=[]){this.registry=i,this.path=o,this.key=o.map(T=>`[${T}]`).join(""),this.scope=p,this.errors=v,this.expectedType=d}parse(i,o,d,p,v={}){return o?this.concat(o,d,p)._parse(i,v):this._parse(i,v)}_parse(i,o){function d(p,v,T){return T==="assert"?new ys(v,[p]):T==="coerce"?new Uo(v,[p]):p}if(i!==null&&typeof i!="string"&&typeof i!="boolean"&&typeof i!="number"||(i=["literal",i]),Array.isArray(i)){if(i.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const p=i[0];if(typeof p!="string")return this.error(`Expression name must be a string, but found ${typeof p} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const v=this.registry[p];if(v){let T=v.parse(i,this);if(!T)return null;if(this.expectedType){const B=this.expectedType,K=T.type;if(B.kind!=="string"&&B.kind!=="number"&&B.kind!=="boolean"&&B.kind!=="object"&&B.kind!=="array"||K.kind!=="value")if(B.kind!=="color"&&B.kind!=="formatted"&&B.kind!=="resolvedImage"||K.kind!=="value"&&K.kind!=="string"){if(this.checkSubtype(B,K))return null}else T=d(T,B,o.typeAnnotation||"coerce");else T=d(T,B,o.typeAnnotation||"assert")}if(!(T instanceof yl)&&T.type.kind!=="resolvedImage"&&ya(T)){const B=new Kc;try{T=new yl(T.type,T.evaluate(B))}catch(K){return this.error(K.message),null}}return T}return this.error(`Unknown expression "${p}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(i===void 0?"'undefined' value invalid. Use null instead.":typeof i=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof i} instead.`)}concat(i,o,d){const p=typeof i=="number"?this.path.concat(i):this.path,v=d?this.scope.concat(d):this.scope;return new rs(this.registry,p,o||null,v,this.errors)}error(i,...o){const d=`${this.key}${o.map(p=>`[${p}]`).join("")}`;this.errors.push(new oo(d,i))}checkSubtype(i,o){const d=yo(i,o);return d&&this.error(d),d}}var js=rs;function ya(r){if(r instanceof zr)return ya(r.boundExpression);if(r instanceof Mo&&r.name==="error"||r instanceof Pr||r instanceof Qs)return!1;const i=r instanceof Uo||r instanceof ys;let o=!0;return r.eachChild(d=>{o=i?o&&ya(d):o&&d instanceof yl}),!!o&&Fs(r)&&ns(r,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function xl(r,i){const o=r.length-1;let d,p,v=0,T=o,B=0;for(;v<=T;)if(B=Math.floor((v+T)/2),d=r[B],p=r[B+1],d<=i){if(B===o||i<p)return B;v=B+1}else{if(!(d>i))throw new Br("Input is not a number.");T=B-1}return 0}class Nr{constructor(i,o,d){this.type=i,this.input=o,this.labels=[],this.outputs=[];for(const[p,v]of d)this.labels.push(p),this.outputs.push(v)}static parse(i,o){if(i.length-1<4)return o.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return o.error("Expected an even number of arguments.");const d=o.parse(i[1],1,Hi);if(!d)return null;const p=[];let v=null;o.expectedType&&o.expectedType.kind!=="value"&&(v=o.expectedType);for(let T=1;T<i.length;T+=2){const B=T===1?-1/0:i[T],K=i[T+1],ie=T,ue=T+1;if(typeof B!="number")return o.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ie);if(p.length&&p[p.length-1][0]>=B)return o.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ie);const be=o.parse(K,ue,v);if(!be)return null;v=v||be.type,p.push([B,be])}return new Nr(v,d,p)}evaluate(i){const o=this.labels,d=this.outputs;if(o.length===1)return d[0].evaluate(i);const p=this.input.evaluate(i);if(p<=o[0])return d[0].evaluate(i);const v=o.length;return p>=o[v-1]?d[v-1].evaluate(i):d[xl(o,p)].evaluate(i)}eachChild(i){i(this.input);for(const o of this.outputs)i(o)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}serialize(){const i=["step",this.input.serialize()];for(let o=0;o<this.labels.length;o++)o>0&&i.push(this.labels[o]),i.push(this.outputs[o].serialize());return i}}var Ao=Nr;function zn(r,i,o){return r*(1-o)+i*o}var Zr=Object.freeze({__proto__:null,number:zn,color:function(r,i,o){return new pr(zn(r.r,i.r,o),zn(r.g,i.g,o),zn(r.b,i.b,o),zn(r.a,i.a,o))},array:function(r,i,o){return r.map((d,p)=>zn(d,i[p],o))}});const ko=.95047,fo=1.08883,$o=4/29,bl=6/29,Ia=3*bl*bl,Jc=Math.PI/180,Cs=180/Math.PI;function Go(r){return r>.008856451679035631?Math.pow(r,1/3):r/Ia+$o}function xc(r){return r>bl?r*r*r:Ia*(r-$o)}function wl(r){return 255*(r<=.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055)}function mo(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function Sl(r){const i=mo(r.r),o=mo(r.g),d=mo(r.b),p=Go((.4124564*i+.3575761*o+.1804375*d)/ko),v=Go((.2126729*i+.7151522*o+.072175*d)/1);return{l:116*v-16,a:500*(p-v),b:200*(v-Go((.0193339*i+.119192*o+.9503041*d)/fo)),alpha:r.a}}function Hl(r){let i=(r.l+16)/116,o=isNaN(r.a)?i:i+r.a/500,d=isNaN(r.b)?i:i-r.b/200;return i=1*xc(i),o=ko*xc(o),d=fo*xc(d),new pr(wl(3.2404542*o-1.5371385*i-.4985314*d),wl(-.969266*o+1.8760108*i+.041556*d),wl(.0556434*o-.2040259*i+1.0572252*d),r.alpha)}function Ad(r,i,o){const d=i-r;return r+o*(d>180||d<-180?d-360*Math.round(d/360):d)}const Tl={forward:Sl,reverse:Hl,interpolate:function(r,i,o){return{l:zn(r.l,i.l,o),a:zn(r.a,i.a,o),b:zn(r.b,i.b,o),alpha:zn(r.alpha,i.alpha,o)}}},Cl={forward:function(r){const{l:i,a:o,b:d}=Sl(r),p=Math.atan2(d,o)*Cs;return{h:p<0?p+360:p,c:Math.sqrt(o*o+d*d),l:i,alpha:r.a}},reverse:function(r){const i=r.h*Jc,o=r.c;return Hl({l:r.l,a:Math.cos(i)*o,b:Math.sin(i)*o,alpha:r.alpha})},interpolate:function(r,i,o){return{h:Ad(r.h,i.h,o),c:zn(r.c,i.c,o),l:zn(r.l,i.l,o),alpha:zn(r.alpha,i.alpha,o)}}};var Jd=Object.freeze({__proto__:null,lab:Tl,hcl:Cl});class El{constructor(i,o,d,p,v){this.type=i,this.operator=o,this.interpolation=d,this.input=p,this.labels=[],this.outputs=[];for(const[T,B]of v)this.labels.push(T),this.outputs.push(B)}static interpolationFactor(i,o,d,p){let v=0;if(i.name==="exponential")v=kd(o,i.base,d,p);else if(i.name==="linear")v=kd(o,1,d,p);else if(i.name==="cubic-bezier"){const T=i.controlPoints;v=new A(T[0],T[1],T[2],T[3]).solve(kd(o,1,d,p))}return v}static parse(i,o){let[d,p,v,...T]=i;if(!Array.isArray(p)||p.length===0)return o.error("Expected an interpolation type expression.",1);if(p[0]==="linear")p={name:"linear"};else if(p[0]==="exponential"){const ie=p[1];if(typeof ie!="number")return o.error("Exponential interpolation requires a numeric base.",1,1);p={name:"exponential",base:ie}}else{if(p[0]!=="cubic-bezier")return o.error(`Unknown interpolation type ${String(p[0])}`,1,0);{const ie=p.slice(1);if(ie.length!==4||ie.some(ue=>typeof ue!="number"||ue<0||ue>1))return o.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);p={name:"cubic-bezier",controlPoints:ie}}}if(i.length-1<4)return o.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return o.error("Expected an even number of arguments.");if(v=o.parse(v,2,Hi),!v)return null;const B=[];let K=null;d==="interpolate-hcl"||d==="interpolate-lab"?K=Eo:o.expectedType&&o.expectedType.kind!=="value"&&(K=o.expectedType);for(let ie=0;ie<T.length;ie+=2){const ue=T[ie],be=T[ie+1],Me=ie+3,Ie=ie+4;if(typeof ue!="number")return o.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Me);if(B.length&&B[B.length-1][0]>=ue)return o.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Me);const Be=o.parse(be,Ie,K);if(!Be)return null;K=K||Be.type,B.push([ue,Be])}return K.kind==="number"||K.kind==="color"||K.kind==="array"&&K.itemType.kind==="number"&&typeof K.N=="number"?new El(K,d,p,v,B):o.error(`Type ${Ds(K)} is not interpolatable.`)}evaluate(i){const o=this.labels,d=this.outputs;if(o.length===1)return d[0].evaluate(i);const p=this.input.evaluate(i);if(p<=o[0])return d[0].evaluate(i);const v=o.length;if(p>=o[v-1])return d[v-1].evaluate(i);const T=xl(o,p),B=El.interpolationFactor(this.interpolation,p,o[T],o[T+1]),K=d[T].evaluate(i),ie=d[T+1].evaluate(i);return this.operator==="interpolate"?Zr[this.type.kind.toLowerCase()](K,ie,B):this.operator==="interpolate-hcl"?Cl.reverse(Cl.interpolate(Cl.forward(K),Cl.forward(ie),B)):Tl.reverse(Tl.interpolate(Tl.forward(K),Tl.forward(ie),B))}eachChild(i){i(this.input);for(const o of this.outputs)i(o)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}serialize(){let i;i=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const o=[this.operator,i,this.input.serialize()];for(let d=0;d<this.labels.length;d++)o.push(this.labels[d],this.outputs[d].serialize());return o}}function kd(r,i,o,d){const p=d-o,v=r-o;return p===0?0:i===1?v/p:(Math.pow(i,v)-1)/(Math.pow(i,p)-1)}var Qo=El;class ea{constructor(i,o){this.type=i,this.args=o}static parse(i,o){if(i.length<2)return o.error("Expectected at least one argument.");let d=null;const p=o.expectedType;p&&p.kind!=="value"&&(d=p);const v=[];for(const B of i.slice(1)){const K=o.parse(B,1+v.length,d,void 0,{typeAnnotation:"omit"});if(!K)return null;d=d||K.type,v.push(K)}const T=p&&v.some(B=>yo(p,B.type));return new ea(T?An:d,v)}evaluate(i){let o,d=null,p=0;for(const v of this.args){if(p++,d=v.evaluate(i),d&&d instanceof jo&&!d.available&&(o||(o=d),d=null,p===this.args.length))return o;if(d!==null)break}return d}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}serialize(){const i=["coalesce"];return this.eachChild(o=>{i.push(o.serialize())}),i}}var Ml=ea;class Qc{constructor(i,o){this.type=o.type,this.bindings=[].concat(i),this.result=o}evaluate(i){return this.result.evaluate(i)}eachChild(i){for(const o of this.bindings)i(o[1]);i(this.result)}static parse(i,o){if(i.length<4)return o.error(`Expected at least 3 arguments, but found ${i.length-1} instead.`);const d=[];for(let v=1;v<i.length-1;v+=2){const T=i[v];if(typeof T!="string")return o.error(`Expected string, but found ${typeof T} instead.`,v);if(/[^a-zA-Z0-9_]/.test(T))return o.error("Variable names must contain only alphanumeric characters or '_'.",v);const B=o.parse(i[v+1],v+1);if(!B)return null;d.push([T,B])}const p=o.parse(i[i.length-1],i.length-1,o.expectedType,d);return p?new Qc(d,p):null}outputDefined(){return this.result.outputDefined()}serialize(){const i=["let"];for(const[o,d]of this.bindings)i.push(o,d.serialize());return i.push(this.result.serialize()),i}}var Wl=Qc;class Po{constructor(i,o,d){this.type=i,this.index=o,this.input=d}static parse(i,o){if(i.length!==3)return o.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const d=o.parse(i[1],1,Hi),p=o.parse(i[2],2,Or(o.expectedType||An));return d&&p?new Po(p.type.itemType,d,p):null}evaluate(i){const o=this.index.evaluate(i),d=this.input.evaluate(i);if(o<0)throw new Br(`Array index out of bounds: ${o} < 0.`);if(o>=d.length)throw new Br(`Array index out of bounds: ${o} > ${d.length-1}.`);if(o!==Math.floor(o))throw new Br(`Array index must be an integer, but found ${o} instead.`);return d[o]}eachChild(i){i(this.index),i(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Kr=Po;class Xa{constructor(i,o){this.type=es,this.needle=i,this.haystack=o}static parse(i,o){if(i.length!==3)return o.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const d=o.parse(i[1],1,An),p=o.parse(i[2],2,An);return d&&p?ml(d.type,[es,Vn,Hi,Vr,An])?new Xa(d,p):o.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ds(d.type)} instead`):null}evaluate(i){const o=this.needle.evaluate(i),d=this.haystack.evaluate(i);if(d==null)return!1;if(!Fo(o,["boolean","string","number","null"]))throw new Br(`Expected first argument to be of type boolean, string, number or null, but found ${Ds(kr(o))} instead.`);if(!Fo(d,["string","array"]))throw new Br(`Expected second argument to be of type array or string, but found ${Ds(kr(d))} instead.`);return d.indexOf(o)>=0}eachChild(i){i(this.needle),i(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var Al=Xa;class Yl{constructor(i,o,d){this.type=Hi,this.needle=i,this.haystack=o,this.fromIndex=d}static parse(i,o){if(i.length<=2||i.length>=5)return o.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const d=o.parse(i[1],1,An),p=o.parse(i[2],2,An);if(!d||!p)return null;if(!ml(d.type,[es,Vn,Hi,Vr,An]))return o.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ds(d.type)} instead`);if(i.length===4){const v=o.parse(i[3],3,Hi);return v?new Yl(d,p,v):null}return new Yl(d,p)}evaluate(i){const o=this.needle.evaluate(i),d=this.haystack.evaluate(i);if(!Fo(o,["boolean","string","number","null"]))throw new Br(`Expected first argument to be of type boolean, string, number or null, but found ${Ds(kr(o))} instead.`);if(!Fo(d,["string","array"]))throw new Br(`Expected second argument to be of type array or string, but found ${Ds(kr(d))} instead.`);if(this.fromIndex){const p=this.fromIndex.evaluate(i);return d.indexOf(o,p)}return d.indexOf(o)}eachChild(i){i(this.needle),i(this.haystack),this.fromIndex&&i(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const i=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),i]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var Oh=Yl;class ls{constructor(i,o,d,p,v,T){this.inputType=i,this.type=o,this.input=d,this.cases=p,this.outputs=v,this.otherwise=T}static parse(i,o){if(i.length<5)return o.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if(i.length%2!=1)return o.error("Expected an even number of arguments.");let d,p;o.expectedType&&o.expectedType.kind!=="value"&&(p=o.expectedType);const v={},T=[];for(let ie=2;ie<i.length-1;ie+=2){let ue=i[ie];const be=i[ie+1];Array.isArray(ue)||(ue=[ue]);const Me=o.concat(ie);if(ue.length===0)return Me.error("Expected at least one branch label.");for(const Be of ue){if(typeof Be!="number"&&typeof Be!="string")return Me.error("Branch labels must be numbers or strings.");if(typeof Be=="number"&&Math.abs(Be)>Number.MAX_SAFE_INTEGER)return Me.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Be=="number"&&Math.floor(Be)!==Be)return Me.error("Numeric branch labels must be integer values.");if(d){if(Me.checkSubtype(d,kr(Be)))return null}else d=kr(Be);if(v[String(Be)]!==void 0)return Me.error("Branch labels must be unique.");v[String(Be)]=T.length}const Ie=o.parse(be,ie,p);if(!Ie)return null;p=p||Ie.type,T.push(Ie)}const B=o.parse(i[1],1,An);if(!B)return null;const K=o.parse(i[i.length-1],i.length-1,p);return K?B.type.kind!=="value"&&o.concat(1).checkSubtype(d,B.type)?null:new ls(d,p,B,v,T,K):null}evaluate(i){const o=this.input.evaluate(i);return(kr(o)===this.inputType&&this.outputs[this.cases[o]]||this.otherwise).evaluate(i)}eachChild(i){i(this.input),this.outputs.forEach(i),i(this.otherwise)}outputDefined(){return this.outputs.every(i=>i.outputDefined())&&this.otherwise.outputDefined()}serialize(){const i=["match",this.input.serialize()],o=Object.keys(this.cases).sort(),d=[],p={};for(const T of o){const B=p[this.cases[T]];B===void 0?(p[this.cases[T]]=d.length,d.push([this.cases[T],[T]])):d[B][1].push(T)}const v=T=>this.inputType.kind==="number"?Number(T):T;for(const[T,B]of d)i.push(B.length===1?v(B[0]):B.map(v)),i.push(this.outputs[T].serialize());return i.push(this.otherwise.serialize()),i}}var vo=ls;class Jr{constructor(i,o,d){this.type=i,this.branches=o,this.otherwise=d}static parse(i,o){if(i.length<4)return o.error(`Expected at least 3 arguments, but found only ${i.length-1}.`);if(i.length%2!=0)return o.error("Expected an odd number of arguments.");let d;o.expectedType&&o.expectedType.kind!=="value"&&(d=o.expectedType);const p=[];for(let T=1;T<i.length-1;T+=2){const B=o.parse(i[T],T,es);if(!B)return null;const K=o.parse(i[T+1],T+1,d);if(!K)return null;p.push([B,K]),d=d||K.type}const v=o.parse(i[i.length-1],i.length-1,d);return v?new Jr(d,p,v):null}evaluate(i){for(const[o,d]of this.branches)if(o.evaluate(i))return d.evaluate(i);return this.otherwise.evaluate(i)}eachChild(i){for(const[o,d]of this.branches)i(o),i(d);i(this.otherwise)}outputDefined(){return this.branches.every(([i,o])=>o.outputDefined())&&this.otherwise.outputDefined()}serialize(){const i=["case"];return this.eachChild(o=>{i.push(o.serialize())}),i}}var Do=Jr;class Za{constructor(i,o,d,p){this.type=i,this.input=o,this.beginIndex=d,this.endIndex=p}static parse(i,o){if(i.length<=2||i.length>=5)return o.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const d=o.parse(i[1],1,An),p=o.parse(i[2],2,Hi);if(!d||!p)return null;if(!ml(d.type,[Or(An),Vn,An]))return o.error(`Expected first argument to be of type array or string, but found ${Ds(d.type)} instead`);if(i.length===4){const v=o.parse(i[3],3,Hi);return v?new Za(d.type,d,p,v):null}return new Za(d.type,d,p)}evaluate(i){const o=this.input.evaluate(i),d=this.beginIndex.evaluate(i);if(!Fo(o,["string","array"]))throw new Br(`Expected first argument to be of type array or string, but found ${Ds(kr(o))} instead.`);if(this.endIndex){const p=this.endIndex.evaluate(i);return o.slice(d,p)}return o.slice(d)}eachChild(i){i(this.input),i(this.beginIndex),this.endIndex&&i(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const i=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),i]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var Qd=Za;function eh(r,i){return r==="=="||r==="!="?i.kind==="boolean"||i.kind==="string"||i.kind==="number"||i.kind==="null"||i.kind==="value":i.kind==="string"||i.kind==="number"||i.kind==="value"}function th(r,i,o,d){return d.compare(i,o)===0}function xo(r,i,o){const d=r!=="=="&&r!=="!=";return class FA{constructor(v,T,B){this.type=es,this.lhs=v,this.rhs=T,this.collator=B,this.hasUntypedArgument=v.type.kind==="value"||T.type.kind==="value"}static parse(v,T){if(v.length!==3&&v.length!==4)return T.error("Expected two or three arguments.");const B=v[0];let K=T.parse(v[1],1,An);if(!K)return null;if(!eh(B,K.type))return T.concat(1).error(`"${B}" comparisons are not supported for type '${Ds(K.type)}'.`);let ie=T.parse(v[2],2,An);if(!ie)return null;if(!eh(B,ie.type))return T.concat(2).error(`"${B}" comparisons are not supported for type '${Ds(ie.type)}'.`);if(K.type.kind!==ie.type.kind&&K.type.kind!=="value"&&ie.type.kind!=="value")return T.error(`Cannot compare types '${Ds(K.type)}' and '${Ds(ie.type)}'.`);d&&(K.type.kind==="value"&&ie.type.kind!=="value"?K=new ys(ie.type,[K]):K.type.kind!=="value"&&ie.type.kind==="value"&&(ie=new ys(K.type,[ie])));let ue=null;if(v.length===4){if(K.type.kind!=="string"&&ie.type.kind!=="string"&&K.type.kind!=="value"&&ie.type.kind!=="value")return T.error("Cannot use collator to compare non-string types.");if(ue=T.parse(v[3],3,Vl),!ue)return null}return new FA(K,ie,ue)}evaluate(v){const T=this.lhs.evaluate(v),B=this.rhs.evaluate(v);if(d&&this.hasUntypedArgument){const K=kr(T),ie=kr(B);if(K.kind!==ie.kind||K.kind!=="string"&&K.kind!=="number")throw new Br(`Expected arguments for "${r}" to be (string, string) or (number, number), but found (${K.kind}, ${ie.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){const K=kr(T),ie=kr(B);if(K.kind!=="string"||ie.kind!=="string")return i(v,T,B)}return this.collator?o(v,T,B,this.collator.evaluate(v)):i(v,T,B)}eachChild(v){v(this.lhs),v(this.rhs),this.collator&&v(this.collator)}outputDefined(){return!0}serialize(){const v=[r];return this.eachChild(T=>{v.push(T.serialize())}),v}}}const $t=xo("==",function(r,i,o){return i===o},th),gi=xo("!=",function(r,i,o){return i!==o},function(r,i,o,d){return!th(0,i,o,d)}),li=xo("<",function(r,i,o){return i<o},function(r,i,o,d){return d.compare(i,o)<0}),cn=xo(">",function(r,i,o){return i>o},function(r,i,o,d){return d.compare(i,o)>0}),Nn=xo("<=",function(r,i,o){return i<=o},function(r,i,o,d){return d.compare(i,o)<=0}),bs=xo(">=",function(r,i,o){return i>=o},function(r,i,o,d){return d.compare(i,o)>=0});class wr{constructor(i,o,d,p,v,T){this.type=Vn,this.number=i,this.locale=o,this.currency=d,this.unit=p,this.minFractionDigits=v,this.maxFractionDigits=T}static parse(i,o){if(i.length!==3)return o.error("Expected two arguments.");const d=o.parse(i[1],1,Hi);if(!d)return null;const p=i[2];if(typeof p!="object"||Array.isArray(p))return o.error("NumberFormat options argument must be an object.");let v=null;if(p.locale&&(v=o.parse(p.locale,1,Vn),!v))return null;let T=null;if(p.currency&&(T=o.parse(p.currency,1,Vn),!T))return null;let B=null;if(p.unit&&(B=o.parse(p.unit,1,Vn),!B))return null;let K=null;if(p["min-fraction-digits"]&&(K=o.parse(p["min-fraction-digits"],1,Hi),!K))return null;let ie=null;return p["max-fraction-digits"]&&(ie=o.parse(p["max-fraction-digits"],1,Hi),!ie)?null:new wr(d,v,T,B,K,ie)}evaluate(i){return new Intl.NumberFormat(this.locale?this.locale.evaluate(i):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(i):void 0,unit:this.unit?this.unit.evaluate(i):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(i):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(i):void 0}).format(this.number.evaluate(i))}eachChild(i){i(this.number),this.locale&&i(this.locale),this.currency&&i(this.currency),this.unit&&i(this.unit),this.minFractionDigits&&i(this.minFractionDigits),this.maxFractionDigits&&i(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const i={};return this.locale&&(i.locale=this.locale.serialize()),this.currency&&(i.currency=this.currency.serialize()),this.unit&&(i.unit=this.unit.serialize()),this.minFractionDigits&&(i["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(i["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),i]}}class Es{constructor(i){this.type=Hi,this.input=i}static parse(i,o){if(i.length!==2)return o.error(`Expected 1 argument, but found ${i.length-1} instead.`);const d=o.parse(i[1],1);return d?d.type.kind!=="array"&&d.type.kind!=="string"&&d.type.kind!=="value"?o.error(`Expected argument of type string or array, but found ${Ds(d.type)} instead.`):new Es(d):null}evaluate(i){const o=this.input.evaluate(i);if(typeof o=="string"||Array.isArray(o))return o.length;throw new Br(`Expected value to be of type string or array, but found ${Ds(kr(o))} instead.`)}eachChild(i){i(this.input)}outputDefined(){return!1}serialize(){const i=["length"];return this.eachChild(o=>{i.push(o.serialize())}),i}}const ql={"==":$t,"!=":gi,">":cn,"<":li,">=":bs,"<=":Nn,array:ys,at:Kr,boolean:ys,case:Do,coalesce:Ml,collator:Pr,format:Ts,image:Zc,in:Al,"index-of":Oh,interpolate:Qo,"interpolate-hcl":Qo,"interpolate-lab":Qo,length:Es,let:Wl,literal:yl,match:vo,number:ys,"number-format":wr,object:ys,slice:Qd,step:Ao,string:ys,"to-boolean":Uo,"to-color":Uo,"to-number":Uo,"to-string":Uo,var:zr,within:Qs};function ed(r,[i,o,d,p]){i=i.evaluate(r),o=o.evaluate(r),d=d.evaluate(r);const v=p?p.evaluate(r):1,T=Zd(i,o,d,v);if(T)throw new Br(T);return new pr(i/255*v,o/255*v,d/255*v,v)}function bo(r,i){return r in i}function st(r,i){const o=i[r];return o===void 0?null:o}function kt(r){return{type:r}}Mo.register(ql,{error:[{kind:"error"},[Vn],(r,[i])=>{throw new Br(i.evaluate(r))}],typeof:[Vn,[An],(r,[i])=>Ds(kr(i.evaluate(r)))],"to-rgba":[Or(Hi,4),[Eo],(r,[i])=>i.evaluate(r).toArray()],rgb:[Eo,[Hi,Hi,Hi],ed],rgba:[Eo,[Hi,Hi,Hi,Hi],ed],has:{type:es,overloads:[[[Vn],(r,[i])=>bo(i.evaluate(r),r.properties())],[[Vn,_a],(r,[i,o])=>bo(i.evaluate(r),o.evaluate(r))]]},get:{type:An,overloads:[[[Vn],(r,[i])=>st(i.evaluate(r),r.properties())],[[Vn,_a],(r,[i,o])=>st(i.evaluate(r),o.evaluate(r))]]},"feature-state":[An,[Vn],(r,[i])=>st(i.evaluate(r),r.featureState||{})],properties:[_a,[],r=>r.properties()],"geometry-type":[Vn,[],r=>r.geometryType()],id:[An,[],r=>r.id()],zoom:[Hi,[],r=>r.globals.zoom],pitch:[Hi,[],r=>r.globals.pitch||0],"distance-from-center":[Hi,[],r=>r.distanceFromCenter()],"heatmap-density":[Hi,[],r=>r.globals.heatmapDensity||0],"line-progress":[Hi,[],r=>r.globals.lineProgress||0],"sky-radial-progress":[Hi,[],r=>r.globals.skyRadialProgress||0],accumulated:[An,[],r=>r.globals.accumulated===void 0?null:r.globals.accumulated],"+":[Hi,kt(Hi),(r,i)=>{let o=0;for(const d of i)o+=d.evaluate(r);return o}],"*":[Hi,kt(Hi),(r,i)=>{let o=1;for(const d of i)o*=d.evaluate(r);return o}],"-":{type:Hi,overloads:[[[Hi,Hi],(r,[i,o])=>i.evaluate(r)-o.evaluate(r)],[[Hi],(r,[i])=>-i.evaluate(r)]]},"/":[Hi,[Hi,Hi],(r,[i,o])=>i.evaluate(r)/o.evaluate(r)],"%":[Hi,[Hi,Hi],(r,[i,o])=>i.evaluate(r)%o.evaluate(r)],ln2:[Hi,[],()=>Math.LN2],pi:[Hi,[],()=>Math.PI],e:[Hi,[],()=>Math.E],"^":[Hi,[Hi,Hi],(r,[i,o])=>Math.pow(i.evaluate(r),o.evaluate(r))],sqrt:[Hi,[Hi],(r,[i])=>Math.sqrt(i.evaluate(r))],log10:[Hi,[Hi],(r,[i])=>Math.log(i.evaluate(r))/Math.LN10],ln:[Hi,[Hi],(r,[i])=>Math.log(i.evaluate(r))],log2:[Hi,[Hi],(r,[i])=>Math.log(i.evaluate(r))/Math.LN2],sin:[Hi,[Hi],(r,[i])=>Math.sin(i.evaluate(r))],cos:[Hi,[Hi],(r,[i])=>Math.cos(i.evaluate(r))],tan:[Hi,[Hi],(r,[i])=>Math.tan(i.evaluate(r))],asin:[Hi,[Hi],(r,[i])=>Math.asin(i.evaluate(r))],acos:[Hi,[Hi],(r,[i])=>Math.acos(i.evaluate(r))],atan:[Hi,[Hi],(r,[i])=>Math.atan(i.evaluate(r))],min:[Hi,kt(Hi),(r,i)=>Math.min(...i.map(o=>o.evaluate(r)))],max:[Hi,kt(Hi),(r,i)=>Math.max(...i.map(o=>o.evaluate(r)))],abs:[Hi,[Hi],(r,[i])=>Math.abs(i.evaluate(r))],round:[Hi,[Hi],(r,[i])=>{const o=i.evaluate(r);return o<0?-Math.round(-o):Math.round(o)}],floor:[Hi,[Hi],(r,[i])=>Math.floor(i.evaluate(r))],ceil:[Hi,[Hi],(r,[i])=>Math.ceil(i.evaluate(r))],"filter-==":[es,[Vn,An],(r,[i,o])=>r.properties()[i.value]===o.value],"filter-id-==":[es,[An],(r,[i])=>r.id()===i.value],"filter-type-==":[es,[Vn],(r,[i])=>r.geometryType()===i.value],"filter-<":[es,[Vn,An],(r,[i,o])=>{const d=r.properties()[i.value],p=o.value;return typeof d==typeof p&&d<p}],"filter-id-<":[es,[An],(r,[i])=>{const o=r.id(),d=i.value;return typeof o==typeof d&&o<d}],"filter->":[es,[Vn,An],(r,[i,o])=>{const d=r.properties()[i.value],p=o.value;return typeof d==typeof p&&d>p}],"filter-id->":[es,[An],(r,[i])=>{const o=r.id(),d=i.value;return typeof o==typeof d&&o>d}],"filter-<=":[es,[Vn,An],(r,[i,o])=>{const d=r.properties()[i.value],p=o.value;return typeof d==typeof p&&d<=p}],"filter-id-<=":[es,[An],(r,[i])=>{const o=r.id(),d=i.value;return typeof o==typeof d&&o<=d}],"filter->=":[es,[Vn,An],(r,[i,o])=>{const d=r.properties()[i.value],p=o.value;return typeof d==typeof p&&d>=p}],"filter-id->=":[es,[An],(r,[i])=>{const o=r.id(),d=i.value;return typeof o==typeof d&&o>=d}],"filter-has":[es,[An],(r,[i])=>i.value in r.properties()],"filter-has-id":[es,[],r=>r.id()!==null&&r.id()!==void 0],"filter-type-in":[es,[Or(Vn)],(r,[i])=>i.value.indexOf(r.geometryType())>=0],"filter-id-in":[es,[Or(An)],(r,[i])=>i.value.indexOf(r.id())>=0],"filter-in-small":[es,[Vn,Or(An)],(r,[i,o])=>o.value.indexOf(r.properties()[i.value])>=0],"filter-in-large":[es,[Vn,Or(An)],(r,[i,o])=>function(d,p,v,T){for(;v<=T;){const B=v+T>>1;if(p[B]===d)return!0;p[B]>d?T=B-1:v=B+1}return!1}(r.properties()[i.value],o.value,0,o.value.length-1)],all:{type:es,overloads:[[[es,es],(r,[i,o])=>i.evaluate(r)&&o.evaluate(r)],[kt(es),(r,i)=>{for(const o of i)if(!o.evaluate(r))return!1;return!0}]]},any:{type:es,overloads:[[[es,es],(r,[i,o])=>i.evaluate(r)||o.evaluate(r)],[kt(es),(r,i)=>{for(const o of i)if(o.evaluate(r))return!0;return!1}]]},"!":[es,[es],(r,[i])=>!i.evaluate(r)],"is-supported-script":[es,[Vn],(r,[i])=>{const o=r.globals&&r.globals.isSupportedScript;return!o||o(i.evaluate(r))}],upcase:[Vn,[Vn],(r,[i])=>i.evaluate(r).toUpperCase()],downcase:[Vn,[Vn],(r,[i])=>i.evaluate(r).toLowerCase()],concat:[Vn,kt(An),(r,i)=>i.map(o=>_l(o.evaluate(r))).join("")],"resolved-locale":[Vn,[Vl],(r,[i])=>i.evaluate(r).resolvedLocale()]});var Ft=ql;function _i(r){return{result:"success",value:r}}function Gt(r){return{result:"error",value:r}}function ri(r){return r["property-type"]==="data-driven"}function Ai(r){return!!r.expression&&r.expression.parameters.indexOf("zoom")>-1}function Xi(r){return!!r.expression&&r.expression.interpolated}function Li(r){return r instanceof Number?"number":r instanceof String?"string":r instanceof Boolean?"boolean":Array.isArray(r)?"array":r===null?"null":typeof r}function Cn(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}function kn(r){return r}function Dn(r,i){const o=i.type==="color",d=r.stops&&typeof r.stops[0][0]=="object",p=d||!(d||r.property!==void 0),v=r.type||(Xi(i)?"exponential":"interval");if(o&&((r=Js({},r)).stops&&(r.stops=r.stops.map(ie=>[ie[0],pr.parse(ie[1])])),r.default=pr.parse(r.default?r.default:i.default)),r.colorSpace&&r.colorSpace!=="rgb"&&!Jd[r.colorSpace])throw new Error(`Unknown color space: ${r.colorSpace}`);let T,B,K;if(v==="exponential")T=xe;else if(v==="interval")T=Sn;else if(v==="categorical"){T=ps,B=Object.create(null);for(const ie of r.stops)B[ie[0]]=ie[1];K=typeof r.stops[0][0]}else{if(v!=="identity")throw new Error(`Unknown function type "${v}"`);T=Se}if(d){const ie={},ue=[];for(let Ie=0;Ie<r.stops.length;Ie++){const Be=r.stops[Ie],He=Be[0].zoom;ie[He]===void 0&&(ie[He]={zoom:He,type:r.type,property:r.property,default:r.default,stops:[]},ue.push(He)),ie[He].stops.push([Be[0].value,Be[1]])}const be=[];for(const Ie of ue)be.push([ie[Ie].zoom,Dn(ie[Ie],i)]);const Me={name:"linear"};return{kind:"composite",interpolationType:Me,interpolationFactor:Qo.interpolationFactor.bind(void 0,Me),zoomStops:be.map(Ie=>Ie[0]),evaluate:({zoom:Ie},Be)=>xe({stops:be,base:r.base},i,Ie).evaluate(Ie,Be)}}if(p){const ie=v==="exponential"?{name:"exponential",base:r.base!==void 0?r.base:1}:null;return{kind:"camera",interpolationType:ie,interpolationFactor:Qo.interpolationFactor.bind(void 0,ie),zoomStops:r.stops.map(ue=>ue[0]),evaluate:({zoom:ue})=>T(r,i,ue,B,K)}}return{kind:"source",evaluate(ie,ue){const be=ue&&ue.properties?ue.properties[r.property]:void 0;return be===void 0?Hn(r.default,i.default):T(r,i,be,B,K)}}}function Hn(r,i,o){return r!==void 0?r:i!==void 0?i:o!==void 0?o:void 0}function ps(r,i,o,d,p){return Hn(typeof o===p?d[o]:void 0,r.default,i.default)}function Sn(r,i,o){if(Li(o)!=="number")return Hn(r.default,i.default);const d=r.stops.length;if(d===1||o<=r.stops[0][0])return r.stops[0][1];if(o>=r.stops[d-1][0])return r.stops[d-1][1];const p=xl(r.stops.map(v=>v[0]),o);return r.stops[p][1]}function xe(r,i,o){const d=r.base!==void 0?r.base:1;if(Li(o)!=="number")return Hn(r.default,i.default);const p=r.stops.length;if(p===1||o<=r.stops[0][0])return r.stops[0][1];if(o>=r.stops[p-1][0])return r.stops[p-1][1];const v=xl(r.stops.map(ue=>ue[0]),o),T=function(ue,be,Me,Ie){const Be=Ie-Me,He=ue-Me;return Be===0?0:be===1?He/Be:(Math.pow(be,He)-1)/(Math.pow(be,Be)-1)}(o,d,r.stops[v][0],r.stops[v+1][0]),B=r.stops[v][1],K=r.stops[v+1][1];let ie=Zr[i.type]||kn;if(r.colorSpace&&r.colorSpace!=="rgb"){const ue=Jd[r.colorSpace];ie=(be,Me)=>ue.reverse(ue.interpolate(ue.forward(be),ue.forward(Me),T))}return typeof B.evaluate=="function"?{evaluate(...ue){const be=B.evaluate.apply(void 0,ue),Me=K.evaluate.apply(void 0,ue);if(be!==void 0&&Me!==void 0)return ie(be,Me,T)}}:ie(B,K,T)}function Se(r,i,o){return i.type==="color"?o=pr.parse(o):i.type==="formatted"?o=Rr.fromString(o.toString()):i.type==="resolvedImage"?o=jo.fromString(o.toString()):Li(o)===i.type||i.type==="enum"&&i.values[o]||(o=void 0),Hn(o,r.default,i.default)}class Ge{constructor(i,o){this.expression=i,this._warningHistory={},this._evaluator=new Kc,this._defaultValue=o?function(d){return d.type==="color"&&(Cn(d.default)||Array.isArray(d.default))?new pr(0,0,0,0):d.type==="color"?pr.parse(d.default)||null:d.default===void 0?null:d.default}(o):null,this._enumValues=o&&o.type==="enum"?o.values:null}evaluateWithoutErrorHandling(i,o,d,p,v,T,B,K){return this._evaluator.globals=i,this._evaluator.feature=o,this._evaluator.featureState=d,this._evaluator.canonical=p||null,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=T,this._evaluator.featureTileCoord=B||null,this._evaluator.featureDistanceData=K||null,this.expression.evaluate(this._evaluator)}evaluate(i,o,d,p,v,T,B,K){this._evaluator.globals=i,this._evaluator.feature=o||null,this._evaluator.featureState=d||null,this._evaluator.canonical=p||null,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=T||null,this._evaluator.featureTileCoord=B||null,this._evaluator.featureDistanceData=K||null;try{const ie=this.expression.evaluate(this._evaluator);if(ie==null||typeof ie=="number"&&ie!=ie)return this._defaultValue;if(this._enumValues&&!(ie in this._enumValues))throw new Br(`Expected value to be one of ${Object.keys(this._enumValues).map(ue=>JSON.stringify(ue)).join(", ")}, but found ${JSON.stringify(ie)} instead.`);return ie}catch(ie){return this._warningHistory[ie.message]||(this._warningHistory[ie.message]=!0,typeof console<"u"&&console.warn(ie.message)),this._defaultValue}}}function xt(r){return Array.isArray(r)&&r.length>0&&typeof r[0]=="string"&&r[0]in Ft}function bi(r,i){const o=new js(Ft,[],i?function(p){const v={color:Eo,string:Vn,number:Hi,enum:Vn,boolean:es,formatted:Jo,resolvedImage:ka};return p.type==="array"?Or(v[p.value]||An,p.length):v[p.type]}(i):void 0),d=o.parse(r,void 0,void 0,void 0,i&&i.type==="string"?{typeAnnotation:"coerce"}:void 0);return d?_i(new Ge(d,i)):Gt(o.errors)}class mn{constructor(i,o){this.kind=i,this._styleExpression=o,this.isStateDependent=i!=="constant"&&!is(o.expression)}evaluateWithoutErrorHandling(i,o,d,p,v,T){return this._styleExpression.evaluateWithoutErrorHandling(i,o,d,p,v,T)}evaluate(i,o,d,p,v,T){return this._styleExpression.evaluate(i,o,d,p,v,T)}}class cs{constructor(i,o,d,p){this.kind=i,this.zoomStops=d,this._styleExpression=o,this.isStateDependent=i!=="camera"&&!is(o.expression),this.interpolationType=p}evaluateWithoutErrorHandling(i,o,d,p,v,T){return this._styleExpression.evaluateWithoutErrorHandling(i,o,d,p,v,T)}evaluate(i,o,d,p,v,T){return this._styleExpression.evaluate(i,o,d,p,v,T)}interpolationFactor(i,o,d){return this.interpolationType?Qo.interpolationFactor(this.interpolationType,i,o,d):0}}function Fr(r,i){if((r=bi(r,i)).result==="error")return r;const o=r.value.expression,d=Fs(o);if(!d&&!ri(i))return Gt([new oo("","data expressions not supported")]);const p=ns(o,["zoom","pitch","distance-from-center"]);if(!p&&!Ai(i))return Gt([new oo("","zoom expressions not supported")]);const v=Ka(o);return v||p?v instanceof oo?Gt([v]):v instanceof Qo&&!Xi(i)?Gt([new oo("",'"interpolate" expressions cannot be used with this property')]):_i(v?new cs(d?"camera":"composite",r.value,v.labels,v instanceof Qo?v.interpolation:void 0):new mn(d?"constant":"source",r.value)):Gt([new oo("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Sr{constructor(i,o){this._parameters=i,this._specification=o,Js(this,Dn(this._parameters,this._specification))}static deserialize(i){return new Sr(i._parameters,i._specification)}static serialize(i){return{_parameters:i._parameters,_specification:i._specification}}}function Ka(r){let i=null;if(r instanceof Wl)i=Ka(r.result);else if(r instanceof Ml){for(const o of r.args)if(i=Ka(o),i)break}else(r instanceof Ao||r instanceof Qo)&&r.input instanceof Mo&&r.input.name==="zoom"&&(i=r);return i instanceof oo||r.eachChild(o=>{const d=Ka(o);d instanceof oo?i=d:!i&&d?i=new oo("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):i&&d&&i!==d&&(i=new oo("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),i}class Zi{constructor(i,o,d,p){this.message=(i?`${i}: `:"")+d,p&&(this.identifier=p),o!=null&&o.__line__&&(this.line=o.__line__)}}function Ja(r){const i=r.key,o=r.value,d=r.valueSpec||{},p=r.objectElementValidators||{},v=r.style,T=r.styleSpec;let B=[];const K=Li(o);if(K!=="object")return[new Zi(i,o,`object expected, ${K} found`)];for(const ie in o){const ue=ie.split(".")[0],be=d[ue]||d["*"];let Me;p[ue]?Me=p[ue]:d[ue]?Me=Fn:p["*"]?Me=p["*"]:d["*"]&&(Me=Fn),Me?B=B.concat(Me({key:(i&&`${i}.`)+ie,value:o[ie],valueSpec:be,style:v,styleSpec:T,object:o,objectKey:ie},o)):B.push(new Zi(i,o[ie],`unknown property "${ie}"`))}for(const ie in d)p[ie]||d[ie].required&&d[ie].default===void 0&&o[ie]===void 0&&B.push(new Zi(i,o,`missing required property "${ie}"`));return B}function td(r){const i=r.value,o=r.valueSpec,d=r.style,p=r.styleSpec,v=r.key,T=r.arrayElementValidator||Fn;if(Li(i)!=="array")return[new Zi(v,i,`array expected, ${Li(i)} found`)];if(o.length&&i.length!==o.length)return[new Zi(v,i,`array length ${o.length} expected, length ${i.length} found`)];if(o["min-length"]&&i.length<o["min-length"])return[new Zi(v,i,`array length at least ${o["min-length"]} expected, length ${i.length} found`)];let B={type:o.value,values:o.values,minimum:o.minimum,maximum:o.maximum,function:void 0};p.$version<7&&(B.function=o.function),Li(o.value)==="object"&&(B=o.value);let K=[];for(let ie=0;ie<i.length;ie++)K=K.concat(T({array:i,arrayIndex:ie,value:i[ie],valueSpec:B,style:d,styleSpec:p,key:`${v}[${ie}]`}));return K}function Rh(r){const i=r.key,o=r.value,d=r.valueSpec;let p=Li(o);if(p==="number"&&o!=o&&(p="NaN"),p!=="number")return[new Zi(i,o,`number expected, ${p} found`)];if("minimum"in d){let v=d.minimum;if(Li(d.minimum)==="array"&&(v=d.minimum[r.arrayIndex]),o<v)return[new Zi(i,o,`${o} is less than the minimum value ${v}`)]}if("maximum"in d){let v=d.maximum;if(Li(d.maximum)==="array"&&(v=d.maximum[r.arrayIndex]),o>v)return[new Zi(i,o,`${o} is greater than the maximum value ${v}`)]}return[]}function Au(r){const i=r.valueSpec,o=_r(r.value.type);let d,p,v,T={};const B=o!=="categorical"&&r.value.property===void 0,K=!B,ie=Li(r.value.stops)==="array"&&Li(r.value.stops[0])==="array"&&Li(r.value.stops[0][0])==="object",ue=Ja({key:r.key,value:r.value,valueSpec:r.styleSpec.function,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{stops:function(Ie){if(o==="identity")return[new Zi(Ie.key,Ie.value,'identity function may not have a "stops" property')];let Be=[];const He=Ie.value;return Be=Be.concat(td({key:Ie.key,value:He,valueSpec:Ie.valueSpec,style:Ie.style,styleSpec:Ie.styleSpec,arrayElementValidator:be})),Li(He)==="array"&&He.length===0&&Be.push(new Zi(Ie.key,He,"array must have at least one stop")),Be},default:function(Ie){return Fn({key:Ie.key,value:Ie.value,valueSpec:i,style:Ie.style,styleSpec:Ie.styleSpec})}}});return o==="identity"&&B&&ue.push(new Zi(r.key,r.value,'missing required property "property"')),o==="identity"||r.value.stops||ue.push(new Zi(r.key,r.value,'missing required property "stops"')),o==="exponential"&&r.valueSpec.expression&&!Xi(r.valueSpec)&&ue.push(new Zi(r.key,r.value,"exponential functions not supported")),r.styleSpec.$version>=8&&(K&&!ri(r.valueSpec)?ue.push(new Zi(r.key,r.value,"property functions not supported")):B&&!Ai(r.valueSpec)&&ue.push(new Zi(r.key,r.value,"zoom functions not supported"))),o!=="categorical"&&!ie||r.value.property!==void 0||ue.push(new Zi(r.key,r.value,'"property" property is required')),ue;function be(Ie){let Be=[];const He=Ie.value,tt=Ie.key;if(Li(He)!=="array")return[new Zi(tt,He,`array expected, ${Li(He)} found`)];if(He.length!==2)return[new Zi(tt,He,`array length 2 expected, length ${He.length} found`)];if(ie){if(Li(He[0])!=="object")return[new Zi(tt,He,`object expected, ${Li(He[0])} found`)];if(He[0].zoom===void 0)return[new Zi(tt,He,"object stop key must have zoom")];if(He[0].value===void 0)return[new Zi(tt,He,"object stop key must have value")];const gt=_r(He[0].zoom);if(typeof gt!="number")return[new Zi(tt,He[0].zoom,"stop zoom values must be numbers")];if(v&&v>gt)return[new Zi(tt,He[0].zoom,"stop zoom values must appear in ascending order")];gt!==v&&(v=gt,p=void 0,T={}),Be=Be.concat(Ja({key:`${tt}[0]`,value:He[0],valueSpec:{zoom:{}},style:Ie.style,styleSpec:Ie.styleSpec,objectElementValidators:{zoom:Rh,value:Me}}))}else Be=Be.concat(Me({key:`${tt}[0]`,value:He[0],valueSpec:{},style:Ie.style,styleSpec:Ie.styleSpec},He));return xt(yr(He[1]))?Be.concat([new Zi(`${tt}[1]`,He[1],"expressions are not allowed in function stops.")]):Be.concat(Fn({key:`${tt}[1]`,value:He[1],valueSpec:i,style:Ie.style,styleSpec:Ie.styleSpec}))}function Me(Ie,Be){const He=Li(Ie.value),tt=_r(Ie.value),gt=Ie.value!==null?Ie.value:Be;if(d){if(He!==d)return[new Zi(Ie.key,gt,`${He} stop domain type must match previous stop domain type ${d}`)]}else d=He;if(He!=="number"&&He!=="string"&&He!=="boolean"&&typeof tt!="number"&&typeof tt!="string"&&typeof tt!="boolean")return[new Zi(Ie.key,gt,"stop domain value must be a number, string, or boolean")];if(He!=="number"&&o!=="categorical"){let Pt=`number expected, ${He} found`;return ri(i)&&o===void 0&&(Pt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Zi(Ie.key,gt,Pt)]}return o!=="categorical"||He!=="number"||typeof tt=="number"&&isFinite(tt)&&Math.floor(tt)===tt?o!=="categorical"&&He==="number"&&typeof tt=="number"&&typeof p=="number"&&p!==void 0&&tt<p?[new Zi(Ie.key,gt,"stop domain values must appear in ascending order")]:(p=tt,o==="categorical"&&tt in T?[new Zi(Ie.key,gt,"stop domain values must be unique")]:(T[tt]=!0,[])):[new Zi(Ie.key,gt,`integer expected, found ${String(tt)}`)]}}function ih(r){const i=(r.expressionContext==="property"?Fr:bi)(yr(r.value),r.valueSpec);if(i.result==="error")return i.value.map(d=>new Zi(`${r.key}${d.key}`,r.value,d.message));const o=i.value.expression||i.value._styleExpression.expression;if(r.expressionContext==="property"&&r.propertyKey==="text-font"&&!o.outputDefined())return[new Zi(r.key,r.value,`Invalid data expression for "${r.propertyKey}". Output values must be contained as literals within the expression.`)];if(r.expressionContext==="property"&&r.propertyType==="layout"&&!is(o))return[new Zi(r.key,r.value,'"feature-state" data expressions are not supported with layout properties.')];if(r.expressionContext==="filter")return Fp(o,r);if(r.expressionContext&&r.expressionContext.indexOf("cluster")===0){if(!ns(o,["zoom","feature-state"]))return[new Zi(r.key,r.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(r.expressionContext==="cluster-initial"&&!Fs(o))return[new Zi(r.key,r.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Fp(r,i){const o=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(i.valueSpec&&i.valueSpec.expression)for(const p of i.valueSpec.expression.parameters)o.delete(p);if(o.size===0)return[];const d=[];return r instanceof Mo&&o.has(r.name)?[new Zi(i.key,i.value,`["${r.name}"] expression is not supported in a filter for a ${i.object.type} layer with id: ${i.object.id}`)]:(r.eachChild(p=>{d.push(...Fp(p,i))}),d)}function ku(r){const i=r.key,o=r.value,d=r.valueSpec,p=[];return Array.isArray(d.values)?d.values.indexOf(_r(o))===-1&&p.push(new Zi(i,o,`expected one of [${d.values.join(", ")}], ${JSON.stringify(o)} found`)):Object.keys(d.values).indexOf(_r(o))===-1&&p.push(new Zi(i,o,`expected one of [${Object.keys(d.values).join(", ")}], ${JSON.stringify(o)} found`)),p}function nh(r){if(r===!0||r===!1)return!0;if(!Array.isArray(r)||r.length===0)return!1;switch(r[0]){case"has":return r.length>=2&&r[1]!=="$id"&&r[1]!=="$type";case"in":return r.length>=3&&(typeof r[1]!="string"||Array.isArray(r[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return r.length!==3||Array.isArray(r[1])||Array.isArray(r[2]);case"any":case"all":for(const i of r.slice(1))if(!nh(i)&&typeof i!="boolean")return!1;return!0;default:return!0}}function Tr(r,i="fill"){if(r==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};nh(r)||(r=Xl(r));const o=r;let d=!0;try{d=function(ie){if(!sh(ie))return ie;let ue=yr(ie);return Bh(ue),ue=er(ue),ue}(o)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(o,null,2)}
        `)}const p=di[`filter_${i}`],v=bi(d,p);let T=null;if(v.result==="error")throw new Error(v.value.map(ie=>`${ie.key}: ${ie.message}`).join(", "));T=(ie,ue,be)=>v.value.evaluate(ie,ue,{},be);let B=null,K=null;if(d!==o){const ie=bi(o,p);if(ie.result==="error")throw new Error(ie.value.map(ue=>`${ue.key}: ${ue.message}`).join(", "));B=(ue,be,Me,Ie,Be)=>ie.value.evaluate(ue,be,{},Me,void 0,void 0,Ie,Be),K=!Fs(ie.value.expression)}return{filter:T,dynamicFilter:B||void 0,needGeometry:Pu(d),needFeature:!!K}}function er(r){if(!Array.isArray(r))return r;const i=function(o){if(a0.has(o[0])){for(let d=1;d<o.length;d++)if(sh(o[d]))return!0}return o}(r);return i===!0?i:i.map(o=>er(o))}function Bh(r){let i=!1;const o=[];if(r[0]==="case"){for(let d=1;d<r.length-1;d+=2)i=i||sh(r[d]),o.push(r[d+1]);o.push(r[r.length-1])}else if(r[0]==="match"){i=i||sh(r[1]);for(let d=2;d<r.length-1;d+=2)o.push(r[d+1]);o.push(r[r.length-1])}else if(r[0]==="step"){i=i||sh(r[1]);for(let d=1;d<r.length-1;d+=2)o.push(r[d+1])}i&&(r.length=0,r.push("any",...o));for(let d=1;d<r.length;d++)Bh(r[d])}function sh(r){if(!Array.isArray(r))return!1;if((i=r[0])==="pitch"||i==="distance-from-center")return!0;var i;for(let o=1;o<r.length;o++)if(sh(r[o]))return!0;return!1}const a0=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Wm(r,i){return r<i?-1:r>i?1:0}function Pu(r){if(!Array.isArray(r))return!1;if(r[0]==="within")return!0;for(let i=1;i<r.length;i++)if(Pu(r[i]))return!0;return!1}function Xl(r){if(!r)return!0;const i=r[0];return r.length<=1?i!=="any":i==="=="?zh(r[1],r[2],"=="):i==="!="?id(zh(r[1],r[2],"==")):i==="<"||i===">"||i==="<="||i===">="?zh(r[1],r[2],i):i==="any"?(o=r.slice(1),["any"].concat(o.map(Xl))):i==="all"?["all"].concat(r.slice(1).map(Xl)):i==="none"?["all"].concat(r.slice(1).map(Xl).map(id)):i==="in"?bc(r[1],r.slice(2)):i==="!in"?id(bc(r[1],r.slice(2))):i==="has"?rh(r[1]):i==="!has"?id(rh(r[1])):i!=="within"||r;var o}function zh(r,i,o){switch(r){case"$type":return[`filter-type-${o}`,i];case"$id":return[`filter-id-${o}`,i];default:return[`filter-${o}`,r,i]}}function bc(r,i){if(i.length===0)return!1;switch(r){case"$type":return["filter-type-in",["literal",i]];case"$id":return["filter-id-in",["literal",i]];default:return i.length>200&&!i.some(o=>typeof o!=typeof i[0])?["filter-in-large",r,["literal",i.sort(Wm)]]:["filter-in-small",r,["literal",i]]}}function rh(r){switch(r){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",r]}}function id(r){return["!",r]}function nd(r){return nh(yr(r.value))?ih(Js({},r,{expressionContext:"filter",valueSpec:r.styleSpec[`filter_${r.layerType||"fill"}`]})):Pd(r)}function Pd(r){const i=r.value,o=r.key;if(Li(i)!=="array")return[new Zi(o,i,`array expected, ${Li(i)} found`)];const d=r.styleSpec;let p,v=[];if(i.length<1)return[new Zi(o,i,"filter array must have at least 1 element")];switch(v=v.concat(ku({key:`${o}[0]`,value:i[0],valueSpec:d.filter_operator,style:r.style,styleSpec:r.styleSpec})),_r(i[0])){case"<":case"<=":case">":case">=":i.length>=2&&_r(i[1])==="$type"&&v.push(new Zi(o,i,`"$type" cannot be use with operator "${i[0]}"`));case"==":case"!=":i.length!==3&&v.push(new Zi(o,i,`filter array for operator "${i[0]}" must have 3 elements`));case"in":case"!in":i.length>=2&&(p=Li(i[1]),p!=="string"&&v.push(new Zi(`${o}[1]`,i[1],`string expected, ${p} found`)));for(let T=2;T<i.length;T++)p=Li(i[T]),_r(i[1])==="$type"?v=v.concat(ku({key:`${o}[${T}]`,value:i[T],valueSpec:d.geometry_type,style:r.style,styleSpec:r.styleSpec})):p!=="string"&&p!=="number"&&p!=="boolean"&&v.push(new Zi(`${o}[${T}]`,i[T],`string, number, or boolean expected, ${p} found`));break;case"any":case"all":case"none":for(let T=1;T<i.length;T++)v=v.concat(Pd({key:`${o}[${T}]`,value:i[T],style:r.style,styleSpec:r.styleSpec}));break;case"has":case"!has":p=Li(i[1]),i.length!==2?v.push(new Zi(o,i,`filter array for "${i[0]}" operator must have 2 elements`)):p!=="string"&&v.push(new Zi(`${o}[1]`,i[1],`string expected, ${p} found`));break;case"within":p=Li(i[1]),i.length!==2?v.push(new Zi(o,i,`filter array for "${i[0]}" operator must have 2 elements`)):p!=="object"&&v.push(new Zi(`${o}[1]`,i[1],`object expected, ${p} found`))}return v}function jp(r,i){const o=r.key,d=r.style,p=r.styleSpec,v=r.value,T=r.objectKey,B=p[`${i}_${r.layerType}`];if(!B)return[];const K=T.match(/^(.*)-transition$/);if(i==="paint"&&K&&B[K[1]]&&B[K[1]].transition)return Fn({key:o,value:v,valueSpec:p.transition,style:d,styleSpec:p});const ie=r.valueSpec||B[T];if(!ie)return[new Zi(o,v,`unknown property "${T}"`)];let ue;if(Li(v)==="string"&&ri(ie)&&!ie.tokens&&(ue=/^{([^}]+)}$/.exec(v)))return[new Zi(o,v,`"${T}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(ue[1])} }\`.`)];const be=[];return r.layerType==="symbol"&&(T==="text-field"&&d&&!d.glyphs&&be.push(new Zi(o,v,'use of "text-field" requires a style "glyphs" property')),T==="text-font"&&Cn(yr(v))&&_r(v.type)==="identity"&&be.push(new Zi(o,v,'"text-font" does not support identity functions'))),be.concat(Fn({key:r.key,value:v,valueSpec:ie,style:d,styleSpec:p,expressionContext:"property",propertyType:i,propertyKey:T}))}function Up(r){return jp(r,"paint")}function l0(r){return jp(r,"layout")}function Du(r){let i=[];const o=r.value,d=r.key,p=r.style,v=r.styleSpec;o.type||o.ref||i.push(new Zi(d,o,'either "type" or "ref" is required'));let T=_r(o.type);const B=_r(o.ref);if(o.id){const K=_r(o.id);for(let ie=0;ie<r.arrayIndex;ie++){const ue=p.layers[ie];_r(ue.id)===K&&i.push(new Zi(d,o.id,`duplicate layer id "${o.id}", previously used at line ${ue.id.__line__}`))}}if("ref"in o){let K;["type","source","source-layer","filter","layout"].forEach(ie=>{ie in o&&i.push(new Zi(d,o[ie],`"${ie}" is prohibited for ref layers`))}),p.layers.forEach(ie=>{_r(ie.id)===B&&(K=ie)}),K?K.ref?i.push(new Zi(d,o.ref,"ref cannot reference another ref layer")):T=_r(K.type):typeof B=="string"&&i.push(new Zi(d,o.ref,`ref layer "${B}" not found`))}else if(T!=="background"&&T!=="sky")if(o.source){const K=p.sources&&p.sources[o.source],ie=K&&_r(K.type);K?ie==="vector"&&T==="raster"?i.push(new Zi(d,o.source,`layer "${o.id}" requires a raster source`)):ie==="raster"&&T!=="raster"?i.push(new Zi(d,o.source,`layer "${o.id}" requires a vector source`)):ie!=="vector"||o["source-layer"]?ie==="raster-dem"&&T!=="hillshade"?i.push(new Zi(d,o.source,"raster-dem source can only be used with layer type 'hillshade'.")):T!=="line"||!o.paint||!o.paint["line-gradient"]&&!o.paint["line-trim-offset"]||ie==="geojson"&&K.lineMetrics||i.push(new Zi(d,o,`layer "${o.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):i.push(new Zi(d,o,`layer "${o.id}" must specify a "source-layer"`)):i.push(new Zi(d,o.source,`source "${o.source}" not found`))}else i.push(new Zi(d,o,'missing required property "source"'));return i=i.concat(Ja({key:d,value:o,valueSpec:v.layer,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Fn({key:`${d}.type`,value:o.type,valueSpec:v.layer.type,style:r.style,styleSpec:r.styleSpec,object:o,objectKey:"type"}),filter:K=>nd(Js({layerType:T},K)),layout:K=>Ja({layer:o,key:K.key,value:K.value,valueSpec:{},style:K.style,styleSpec:K.styleSpec,objectElementValidators:{"*":ie=>l0(Js({layerType:T},ie))}}),paint:K=>Ja({layer:o,key:K.key,value:K.value,valueSpec:{},style:K.style,styleSpec:K.styleSpec,objectElementValidators:{"*":ie=>Up(Js({layerType:T},ie))}})}})),i}function wc(r){const i=r.value,o=r.key,d=Li(i);return d!=="string"?[new Zi(o,i,`string expected, ${d} found`)]:[]}const oh={promoteId:function({key:r,value:i}){if(Li(i)==="string")return wc({key:r,value:i});{const o=[];for(const d in i)o.push(...wc({key:`${r}.${d}`,value:i[d]}));return o}}};function ah(r){const i=r.value,o=r.key,d=r.styleSpec,p=r.style;if(!i.type)return[new Zi(o,i,'"type" is required')];const v=_r(i.type);let T;switch(v){case"vector":case"raster":case"raster-dem":return T=Ja({key:o,value:i,valueSpec:d[`source_${v.replace("-","_")}`],style:r.style,styleSpec:d,objectElementValidators:oh}),T;case"geojson":if(T=Ja({key:o,value:i,valueSpec:d.source_geojson,style:p,styleSpec:d,objectElementValidators:oh}),i.cluster)for(const B in i.clusterProperties){const[K,ie]=i.clusterProperties[B],ue=typeof K=="string"?[K,["accumulated"],["get",B]]:K;T.push(...ih({key:`${o}.${B}.map`,value:ie,expressionContext:"cluster-map"})),T.push(...ih({key:`${o}.${B}.reduce`,value:ue,expressionContext:"cluster-reduce"}))}return T;case"video":return Ja({key:o,value:i,valueSpec:d.source_video,style:p,styleSpec:d});case"image":return Ja({key:o,value:i,valueSpec:d.source_image,style:p,styleSpec:d});case"canvas":return[new Zi(o,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ku({key:`${o}.type`,value:i.type,valueSpec:{values:$p(d)},style:p,styleSpec:d})}}function $p(r){return r.source.reduce((i,o)=>{const d=r[o];return d.type.type==="enum"&&(i=i.concat(Object.keys(d.type.values))),i},[])}function it(r){const i=r.value,o=r.styleSpec,d=o.light,p=r.style;let v=[];const T=Li(i);if(i===void 0)return v;if(T!=="object")return v=v.concat([new Zi("light",i,`object expected, ${T} found`)]),v;for(const B in i){const K=B.match(/^(.*)-transition$/);v=v.concat(K&&d[K[1]]&&d[K[1]].transition?Fn({key:B,value:i[B],valueSpec:o.transition,style:p,styleSpec:o}):d[B]?Fn({key:B,value:i[B],valueSpec:d[B],style:p,styleSpec:o}):[new Zi(B,i[B],`unknown property "${B}"`)])}return v}function Sc(r){const i=r.value,o=r.key,d=r.style,p=r.styleSpec,v=p.terrain;let T=[];const B=Li(i);if(i===void 0)return T;if(B!=="object")return T=T.concat([new Zi("terrain",i,`object expected, ${B} found`)]),T;for(const K in i){const ie=K.match(/^(.*)-transition$/);T=T.concat(ie&&v[ie[1]]&&v[ie[1]].transition?Fn({key:K,value:i[K],valueSpec:p.transition,style:d,styleSpec:p}):v[K]?Fn({key:K,value:i[K],valueSpec:v[K],style:d,styleSpec:p}):[new Zi(K,i[K],`unknown property "${K}"`)])}if(i.source){const K=d.sources&&d.sources[i.source],ie=K&&_r(K.type);K?ie!=="raster-dem"&&T.push(new Zi(o,i.source,`terrain cannot be used with a source of type ${String(ie)}, it only be used with a "raster-dem" source type`)):T.push(new Zi(o,i.source,`source "${i.source}" not found`))}else T.push(new Zi(o,i,'terrain is missing required property "source"'));return T}function Nh(r){const i=r.value,o=r.style,d=r.styleSpec,p=d.fog;let v=[];const T=Li(i);if(i===void 0)return v;if(T!=="object")return v=v.concat([new Zi("fog",i,`object expected, ${T} found`)]),v;for(const B in i){const K=B.match(/^(.*)-transition$/);v=v.concat(K&&p[K[1]]&&p[K[1]].transition?Fn({key:B,value:i[B],valueSpec:d.transition,style:o,styleSpec:d}):p[B]?Fn({key:B,value:i[B],valueSpec:p[B],style:o,styleSpec:d}):[new Zi(B,i[B],`unknown property "${B}"`)])}return v}const La={"*":()=>[],array:td,boolean:function(r){const i=r.value,o=r.key,d=Li(i);return d!=="boolean"?[new Zi(o,i,`boolean expected, ${d} found`)]:[]},number:Rh,color:function(r){const i=r.key,o=r.value,d=Li(o);return d!=="string"?[new Zi(i,o,`color expected, ${d} found`)]:Ha(o)===null?[new Zi(i,o,`color expected, "${o}" found`)]:[]},enum:ku,filter:nd,function:Au,layer:Du,object:Ja,source:ah,light:it,terrain:Sc,fog:Nh,string:wc,formatted:function(r){return wc(r).length===0?[]:ih(r)},resolvedImage:function(r){return wc(r).length===0?[]:ih(r)},projection:function(r){const i=r.value,o=r.styleSpec,d=o.projection,p=r.style;let v=[];const T=Li(i);if(T==="object")for(const B in i)v=v.concat(Fn({key:B,value:i[B],valueSpec:d[B],style:p,styleSpec:o}));else T!=="string"&&(v=v.concat([new Zi("projection",i,`object or string expected, ${T} found`)]));return v}};function Fn(r){const i=r.value,o=r.valueSpec,d=r.styleSpec;return o.expression&&Cn(_r(i))?Au(r):o.expression&&xt(yr(i))?ih(r):o.type&&La[o.type]?La[o.type](r):Ja(Js({},r,{valueSpec:o.type?d[o.type]:o}))}function Ym(r){const i=r.value,o=r.key,d=wc(r);return d.length||(i.indexOf("{fontstack}")===-1&&d.push(new Zi(o,i,'"glyphs" url must include a "{fontstack}" token')),i.indexOf("{range}")===-1&&d.push(new Zi(o,i,'"glyphs" url must include a "{range}" token'))),d}function Gp(r,i=di){return Tc(Fn({key:"",value:r,valueSpec:i.$root,styleSpec:i,style:r,objectElementValidators:{glyphs:Ym,"*":()=>[]}}))}const qm=r=>Tc(Up(r)),Dd=r=>Tc(l0(r));function Tc(r){return r.slice().sort((i,o)=>i.line&&o.line?i.line-o.line:0)}function c0(r,i){let o=!1;if(i&&i.length)for(const d of i)r.fire(new ga(new Error(d.message))),o=!0;return o}var lh=Zl;function Zl(r,i,o){var d=this.cells=[];if(r instanceof ArrayBuffer){this.arrayBuffer=r;var p=new Int32Array(this.arrayBuffer);r=p[0],this.d=(i=p[1])+2*(o=p[2]);for(var v=0;v<this.d*this.d;v++){var T=p[3+v],B=p[3+v+1];d.push(T===B?null:p.subarray(T,B))}var K=p[3+d.length+1];this.keys=p.subarray(p[3+d.length],K),this.bboxes=p.subarray(K),this.insert=this._insertReadonly}else{this.d=i+2*o;for(var ie=0;ie<this.d*this.d;ie++)d.push([]);this.keys=[],this.bboxes=[]}this.n=i,this.extent=r,this.padding=o,this.scale=i/r,this.uid=0;var ue=o/i*r;this.min=-ue,this.max=r+ue}Zl.prototype.insert=function(r,i,o,d,p){this._forEachCell(i,o,d,p,this._insertCell,this.uid++),this.keys.push(r),this.bboxes.push(i),this.bboxes.push(o),this.bboxes.push(d),this.bboxes.push(p)},Zl.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Zl.prototype._insertCell=function(r,i,o,d,p,v){this.cells[p].push(v)},Zl.prototype.query=function(r,i,o,d,p){var v=this.min,T=this.max;if(r<=v&&i<=v&&T<=o&&T<=d&&!p)return Array.prototype.slice.call(this.keys);var B=[];return this._forEachCell(r,i,o,d,this._queryCell,B,{},p),B},Zl.prototype._queryCell=function(r,i,o,d,p,v,T,B){var K=this.cells[p];if(K!==null)for(var ie=this.keys,ue=this.bboxes,be=0;be<K.length;be++){var Me=K[be];if(T[Me]===void 0){var Ie=4*Me;(B?B(ue[Ie+0],ue[Ie+1],ue[Ie+2],ue[Ie+3]):r<=ue[Ie+2]&&i<=ue[Ie+3]&&o>=ue[Ie+0]&&d>=ue[Ie+1])?(T[Me]=!0,v.push(ie[Me])):T[Me]=!1}}},Zl.prototype._forEachCell=function(r,i,o,d,p,v,T,B){for(var K=this._convertToCellCoord(r),ie=this._convertToCellCoord(i),ue=this._convertToCellCoord(o),be=this._convertToCellCoord(d),Me=K;Me<=ue;Me++)for(var Ie=ie;Ie<=be;Ie++){var Be=this.d*Ie+Me;if((!B||B(this._convertFromCellCoord(Me),this._convertFromCellCoord(Ie),this._convertFromCellCoord(Me+1),this._convertFromCellCoord(Ie+1)))&&p.call(this,r,i,o,d,Be,v,T,B))return}},Zl.prototype._convertFromCellCoord=function(r){return(r-this.padding)/this.scale},Zl.prototype._convertToCellCoord=function(r){return Math.max(0,Math.min(this.d-1,Math.floor(r*this.scale)+this.padding))},Zl.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var r=this.cells,i=3+this.cells.length+1+1,o=0,d=0;d<this.cells.length;d++)o+=this.cells[d].length;var p=new Int32Array(i+o+this.keys.length+this.bboxes.length);p[0]=this.extent,p[1]=this.n,p[2]=this.padding;for(var v=i,T=0;T<r.length;T++){var B=r[T];p[3+T]=v,p.set(B,v),v+=B.length}return p[3+r.length]=v,p.set(this.keys,v),p[3+r.length+1]=v+=this.keys.length,p.set(this.bboxes,v),v+=this.bboxes.length,p.buffer};const Iu={};function qi(r,i,o={}){Object.defineProperty(r,"_classRegistryKey",{value:i,writeable:!1}),Iu[i]={klass:r,omit:o.omit||[]}}qi(Object,"Object"),lh.serialize=function(r,i){const o=r.toArrayBuffer();return i&&i.push(o),{buffer:o}},lh.deserialize=function(r){return new lh(r.buffer)},Object.defineProperty(lh,"name",{value:"Grid"}),qi(lh,"Grid"),qi(pr,"Color"),qi(Error,"Error"),qi(ui,"AJAXError"),qi(jo,"ResolvedImage"),qi(Sr,"StylePropertyFunction"),qi(Ge,"StyleExpression",{omit:["_evaluator"]}),qi(cs,"ZoomDependentExpression"),qi(mn,"ZoomConstantExpression"),qi(Mo,"CompoundExpression",{omit:["_evaluate"]});for(const r in Ft)Iu[Ft[r]._classRegistryKey]||qi(Ft[r],`Expression${r}`);function d0(r){return r&&typeof ArrayBuffer<"u"&&(r instanceof ArrayBuffer||r.constructor&&r.constructor.name==="ArrayBuffer")}function h0(r){return x.ImageBitmap&&r instanceof x.ImageBitmap}function sd(r,i){if(r==null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp)return r;if(d0(r)||h0(r))return i&&i.push(r),r;if(ArrayBuffer.isView(r)){const o=r;return i&&i.push(o.buffer),o}if(r instanceof x.ImageData)return i&&i.push(r.data.buffer),r;if(Array.isArray(r)){const o=[];for(const d of r)o.push(sd(d,i));return o}if(typeof r=="object"){const o=r.constructor,d=o._classRegistryKey;if(!d)throw new Error(`can't serialize object of unregistered class ${d}`);const p=o.serialize?o.serialize(r,i):{};if(!o.serialize){for(const v in r)r.hasOwnProperty(v)&&(Iu[d].omit.indexOf(v)>=0||(p[v]=sd(r[v],i)));r instanceof Error&&(p.message=r.message)}if(p.$name)throw new Error("$name property is reserved for worker serialization logic.");return d!=="Object"&&(p.$name=d),p}throw new Error("can't serialize object of type "+typeof r)}function Fh(r){if(r==null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp||d0(r)||h0(r)||ArrayBuffer.isView(r)||r instanceof x.ImageData)return r;if(Array.isArray(r))return r.map(Fh);if(typeof r=="object"){const i=r.$name||"Object",{klass:o}=Iu[i];if(!o)throw new Error(`can't deserialize unregistered class ${i}`);if(o.deserialize)return o.deserialize(r);const d=Object.create(o.prototype);for(const p of Object.keys(r))p!=="$name"&&(d[p]=Fh(r[p]));return d}throw new Error("can't deserialize object of type "+typeof r)}const Vp=r=>r>=1536&&r<=1791,Kl=r=>r>=1872&&r<=1919,Hp=r=>r>=2208&&r<=2303,Wp=r=>r>=11904&&r<=12031,Yp=r=>r>=12032&&r<=12255,qp=r=>r>=12272&&r<=12287,ch=r=>r>=12288&&r<=12351,kl=r=>r>=12352&&r<=12447,Lu=r=>r>=12448&&r<=12543,u0=r=>r>=12544&&r<=12591,Oa=r=>r>=12704&&r<=12735,p0=r=>r>=12736&&r<=12783,f0=r=>r>=12784&&r<=12799,m0=r=>r>=12800&&r<=13055,g0=r=>r>=13056&&r<=13311,_0=r=>r>=13312&&r<=19903,Ou=r=>r>=19968&&r<=40959,Xp=r=>r>=40960&&r<=42127,y0=r=>r>=42128&&r<=42191,Zp=r=>r>=44032&&r<=55215,Id=r=>r>=63744&&r<=64255,y=r=>r>=64336&&r<=65023,l=r=>r>=65040&&r<=65055,u=r=>r>=65072&&r<=65103,w=r=>r>=65104&&r<=65135,R=r=>r>=65136&&r<=65279,F=r=>r>=65280&&r<=65519;function se(r){for(const i of r)if(De(i.charCodeAt(0)))return!0;return!1}function he(r){for(const i of r)if(!fe(i.charCodeAt(0)))return!1;return!0}function fe(r){return!(Vp(r)||Kl(r)||Hp(r)||y(r)||R(r))}function De(r){return!(r!==746&&r!==747&&(r<4352||!(Oa(r)||u0(r)||u(r)&&!(r>=65097&&r<=65103)||Id(r)||g0(r)||Wp(r)||p0(r)||!(!ch(r)||r>=12296&&r<=12305||r>=12308&&r<=12319||r===12336)||_0(r)||Ou(r)||m0(r)||(i=>i>=12592&&i<=12687)(r)||(i=>i>=43360&&i<=43391)(r)||(i=>i>=55216&&i<=55295)(r)||(i=>i>=4352&&i<=4607)(r)||Zp(r)||kl(r)||qp(r)||(i=>i>=12688&&i<=12703)(r)||Yp(r)||f0(r)||Lu(r)&&r!==12540||!(!F(r)||r===65288||r===65289||r===65293||r>=65306&&r<=65310||r===65339||r===65341||r===65343||r>=65371&&r<=65503||r===65507||r>=65512&&r<=65519)||!(!w(r)||r>=65112&&r<=65118||r>=65123&&r<=65126)||(i=>i>=5120&&i<=5759)(r)||(i=>i>=6320&&i<=6399)(r)||l(r)||(i=>i>=19904&&i<=19967)(r)||Xp(r)||y0(r))))}function ke(r){return!(De(r)||function(i){return!!((o=>o>=128&&o<=255)(i)&&(i===167||i===169||i===174||i===177||i===188||i===189||i===190||i===215||i===247)||(o=>o>=8192&&o<=8303)(i)&&(i===8214||i===8224||i===8225||i===8240||i===8241||i===8251||i===8252||i===8258||i===8263||i===8264||i===8265||i===8273)||(o=>o>=8448&&o<=8527)(i)||(o=>o>=8528&&o<=8591)(i)||(o=>o>=8960&&o<=9215)(i)&&(i>=8960&&i<=8967||i>=8972&&i<=8991||i>=8996&&i<=9e3||i===9003||i>=9085&&i<=9114||i>=9150&&i<=9165||i===9167||i>=9169&&i<=9179||i>=9186&&i<=9215)||(o=>o>=9216&&o<=9279)(i)&&i!==9251||(o=>o>=9280&&o<=9311)(i)||(o=>o>=9312&&o<=9471)(i)||(o=>o>=9632&&o<=9727)(i)||(o=>o>=9728&&o<=9983)(i)&&!(i>=9754&&i<=9759)||(o=>o>=11008&&o<=11263)(i)&&(i>=11026&&i<=11055||i>=11088&&i<=11097||i>=11192&&i<=11243)||ch(i)||Lu(i)||(o=>o>=57344&&o<=63743)(i)||u(i)||w(i)||F(i)||i===8734||i===8756||i===8757||i>=9984&&i<=10087||i>=10102&&i<=10131||i===65532||i===65533)}(r))}function je(r){return r>=1424&&r<=2303||y(r)||R(r)}function Ze(r,i){return!(!i&&je(r)||r>=2304&&r<=3583||r>=3840&&r<=4255||(o=>o>=6016&&o<=6143)(r))}function at(r){for(const i of r)if(je(i.charCodeAt(0)))return!0;return!1}const lt="deferred",ht="loading",et="loaded";let nt=null,ft="unavailable",ct=null;const bt=function(r){r&&typeof r=="string"&&r.indexOf("NetworkError")>-1&&(ft="error"),nt&&nt(r)};function It(){Ct.fire(new ma("pluginStateChange",{pluginStatus:ft,pluginURL:ct}))}const Ct=new Xr,jt=function(){return ft},Qt=function(){if(ft!==lt||!ct)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ft=ht,It(),ct&&wi({url:ct},r=>{r?bt(r):(ft=et,It())})},Zt={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>ft===et||Zt.applyArabicShaping!=null,isLoading:()=>ft===ht,setState(r){ft=r.pluginStatus,ct=r.pluginURL},isParsed:()=>Zt.applyArabicShaping!=null&&Zt.processBidirectionalText!=null&&Zt.processStyledBidirectionalText!=null,getPluginURL:()=>ct};class Vt{constructor(i,o){this.zoom=i,o?(this.now=o.now,this.fadeDuration=o.fadeDuration,this.transition=o.transition,this.pitch=o.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(i){return function(o,d){for(const p of o)if(!Ze(p.charCodeAt(0),d))return!1;return!0}(i,Zt.isLoaded())}}class Si{constructor(i,o){this.property=i,this.value=o,this.expression=function(d,p){if(Cn(d))return new Sr(d,p);if(xt(d)){const v=Fr(d,p);if(v.result==="error")throw new Error(v.value.map(T=>`${T.key}: ${T.message}`).join(", "));return v.value}{let v=d;return typeof d=="string"&&p.type==="color"&&(v=pr.parse(d)),{kind:"constant",evaluate:()=>v}}}(o===void 0?i.specification.default:o,i.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(i,o,d){return this.property.possiblyEvaluate(this,i,o,d)}}class qt{constructor(i){this.property=i,this.value=new Si(i,void 0)}transitioned(i,o){return new ti(this.property,this.value,o,Z({},i.transition,this.transition),i.now)}untransitioned(){return new ti(this.property,this.value,null,{},0)}}class pi{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitionablePropertyValues)}getValue(i){return ye(this._values[i].value.value)}setValue(i,o){this._values.hasOwnProperty(i)||(this._values[i]=new qt(this._values[i].property)),this._values[i].value=new Si(this._values[i].property,o===null?void 0:ye(o))}getTransition(i){return ye(this._values[i].transition)}setTransition(i,o){this._values.hasOwnProperty(i)||(this._values[i]=new qt(this._values[i].property)),this._values[i].transition=ye(o)||void 0}serialize(){const i={};for(const o of Object.keys(this._values)){const d=this.getValue(o);d!==void 0&&(i[o]=d);const p=this.getTransition(o);p!==void 0&&(i[`${o}-transition`]=p)}return i}transitioned(i,o){const d=new Pi(this._properties);for(const p of Object.keys(this._values))d._values[p]=this._values[p].transitioned(i,o._values[p]);return d}untransitioned(){const i=new Pi(this._properties);for(const o of Object.keys(this._values))i._values[o]=this._values[o].untransitioned();return i}}class ti{constructor(i,o,d,p,v){const T=p.delay||0,B=p.duration||0;v=v||0,this.property=i,this.value=o,this.begin=v+T,this.end=this.begin+B,i.specification.transition&&(p.delay||p.duration)&&(this.prior=d)}possiblyEvaluate(i,o,d){const p=i.now||0,v=this.value.possiblyEvaluate(i,o,d),T=this.prior;if(T){if(p>this.end)return this.prior=null,v;if(this.value.isDataDriven())return this.prior=null,v;if(p<this.begin)return T.possiblyEvaluate(i,o,d);{const B=(p-this.begin)/(this.end-this.begin);return this.property.interpolate(T.possiblyEvaluate(i,o,d),v,S(B))}}return v}}class Pi{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitioningPropertyValues)}possiblyEvaluate(i,o,d){const p=new Ri(this._properties);for(const v of Object.keys(this._values))p._values[v]=this._values[v].possiblyEvaluate(i,o,d);return p}hasTransition(){for(const i of Object.keys(this._values))if(this._values[i].prior)return!0;return!1}}class ii{constructor(i){this._properties=i,this._values=Object.create(i.defaultPropertyValues)}getValue(i){return ye(this._values[i].value)}setValue(i,o){this._values[i]=new Si(this._values[i].property,o===null?void 0:ye(o))}serialize(){const i={};for(const o of Object.keys(this._values)){const d=this.getValue(o);d!==void 0&&(i[o]=d)}return i}possiblyEvaluate(i,o,d){const p=new Ri(this._properties);for(const v of Object.keys(this._values))p._values[v]=this._values[v].possiblyEvaluate(i,o,d);return p}}class vi{constructor(i,o,d){this.property=i,this.value=o,this.parameters=d}isConstant(){return this.value.kind==="constant"}constantOr(i){return this.value.kind==="constant"?this.value.value:i}evaluate(i,o,d,p){return this.property.evaluate(this.value,this.parameters,i,o,d,p)}}class Ri{constructor(i){this._properties=i,this._values=Object.create(i.defaultPossiblyEvaluatedValues)}get(i){return this._values[i]}}class Ht{constructor(i){this.specification=i}possiblyEvaluate(i,o){return i.expression.evaluate(o)}interpolate(i,o,d){const p=Zr[this.specification.type];return p?p(i,o,d):i}}class ei{constructor(i,o){this.specification=i,this.overrides=o}possiblyEvaluate(i,o,d,p){return new vi(this,i.expression.kind==="constant"||i.expression.kind==="camera"?{kind:"constant",value:i.expression.evaluate(o,null,{},d,p)}:i.expression,o)}interpolate(i,o,d){if(i.value.kind!=="constant"||o.value.kind!=="constant")return i;if(i.value.value===void 0||o.value.value===void 0)return new vi(this,{kind:"constant",value:void 0},i.parameters);const p=Zr[this.specification.type];return p?new vi(this,{kind:"constant",value:p(i.value.value,o.value.value,d)},i.parameters):i}evaluate(i,o,d,p,v,T){return i.kind==="constant"?i.value:i.evaluate(o,d,p,v,T)}}class dn{constructor(i){this.specification=i}possiblyEvaluate(i,o,d,p){return!!i.expression.evaluate(o,null,{},d,p)}interpolate(){return!1}}class gn{constructor(i){this.properties=i,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const o=new Vt(0,{});for(const d in i){const p=i[d];p.specification.overridable&&this.overridableProperties.push(d);const v=this.defaultPropertyValues[d]=new Si(p,void 0),T=this.defaultTransitionablePropertyValues[d]=new qt(p);this.defaultTransitioningPropertyValues[d]=T.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=v.possiblyEvaluate(o)}}}function hn(r,i){return 256*(r=g(Math.floor(r),0,255))+g(Math.floor(i),0,255)}qi(ei,"DataDrivenProperty"),qi(Ht,"DataConstantProperty"),qi(dn,"ColorRampProperty");const Pn={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Zn{constructor(i,o){this._structArray=i,this._pos1=o*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class xn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(i,o){return i._trim(),o&&(i.isTransferred=!0,o.push(i.arrayBuffer)),{length:i.length,arrayBuffer:i.arrayBuffer}}static deserialize(i){const o=Object.create(this.prototype);return o.arrayBuffer=i.arrayBuffer,o.length=i.length,o.capacity=i.arrayBuffer.byteLength/o.bytesPerElement,o._refreshViews(),o}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(i){this.reserve(i),this.length=i}reserve(i){if(i>this.capacity){this.capacity=Math.max(i,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const o=this.uint8;this._refreshViews(),o&&this.uint8.set(o)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function tn(r,i=1){let o=0,d=0;return{members:r.map(p=>{const v=Pn[p.type].BYTES_PER_ELEMENT,T=o=Gs(o,Math.max(i,v)),B=p.components||1;return d=Math.max(d,v),o+=v*B,{name:p.name,type:p.type,components:B,offset:T}}),size:Gs(o,Math.max(d,i)),alignment:i}}function Gs(r,i){return Math.ceil(r/i)*i}class Is extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o){const d=this.length;return this.resize(d+1),this.emplace(d,i,o)}emplace(i,o,d){const p=2*i;return this.int16[p+0]=o,this.int16[p+1]=d,i}}Is.prototype.bytesPerElement=4,qi(Is,"StructArrayLayout2i4");class Hs extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,d){const p=this.length;return this.resize(p+1),this.emplace(p,i,o,d)}emplace(i,o,d,p){const v=3*i;return this.int16[v+0]=o,this.int16[v+1]=d,this.int16[v+2]=p,i}}Hs.prototype.bytesPerElement=6,qi(Hs,"StructArrayLayout3i6");class Us extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,d,p){const v=this.length;return this.resize(v+1),this.emplace(v,i,o,d,p)}emplace(i,o,d,p,v){const T=4*i;return this.int16[T+0]=o,this.int16[T+1]=d,this.int16[T+2]=p,this.int16[T+3]=v,i}}Us.prototype.bytesPerElement=8,qi(Us,"StructArrayLayout4i8");class va extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,d,p,v,T,B){const K=this.length;return this.resize(K+1),this.emplace(K,i,o,d,p,v,T,B)}emplace(i,o,d,p,v,T,B,K){const ie=6*i,ue=12*i,be=3*i;return this.int16[ie+0]=o,this.int16[ie+1]=d,this.uint8[ue+4]=p,this.uint8[ue+5]=v,this.uint8[ue+6]=T,this.uint8[ue+7]=B,this.float32[be+2]=K,i}}va.prototype.bytesPerElement=12,qi(va,"StructArrayLayout2i4ub1f12");class ta extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,d,p){const v=this.length;return this.resize(v+1),this.emplace(v,i,o,d,p)}emplace(i,o,d,p,v){const T=4*i;return this.float32[T+0]=o,this.float32[T+1]=d,this.float32[T+2]=p,this.float32[T+3]=v,i}}ta.prototype.bytesPerElement=16,qi(ta,"StructArrayLayout4f16");class Vo extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,d,p,v){const T=this.length;return this.resize(T+1),this.emplace(T,i,o,d,p,v)}emplace(i,o,d,p,v,T){const B=6*i,K=3*i;return this.uint16[B+0]=o,this.uint16[B+1]=d,this.uint16[B+2]=p,this.uint16[B+3]=v,this.float32[K+2]=T,i}}Vo.prototype.bytesPerElement=12,qi(Vo,"StructArrayLayout4ui1f12");class Pl extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,d,p){const v=this.length;return this.resize(v+1),this.emplace(v,i,o,d,p)}emplace(i,o,d,p,v){const T=4*i;return this.uint16[T+0]=o,this.uint16[T+1]=d,this.uint16[T+2]=p,this.uint16[T+3]=v,i}}Pl.prototype.bytesPerElement=8,qi(Pl,"StructArrayLayout4ui8");class tr extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,d,p,v,T){const B=this.length;return this.resize(B+1),this.emplace(B,i,o,d,p,v,T)}emplace(i,o,d,p,v,T,B){const K=6*i;return this.int16[K+0]=o,this.int16[K+1]=d,this.int16[K+2]=p,this.int16[K+3]=v,this.int16[K+4]=T,this.int16[K+5]=B,i}}tr.prototype.bytesPerElement=12,qi(tr,"StructArrayLayout6i12");class $s extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,d,p,v,T,B,K,ie,ue,be,Me){const Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,i,o,d,p,v,T,B,K,ie,ue,be,Me)}emplace(i,o,d,p,v,T,B,K,ie,ue,be,Me,Ie){const Be=12*i;return this.int16[Be+0]=o,this.int16[Be+1]=d,this.int16[Be+2]=p,this.int16[Be+3]=v,this.uint16[Be+4]=T,this.uint16[Be+5]=B,this.uint16[Be+6]=K,this.uint16[Be+7]=ie,this.int16[Be+8]=ue,this.int16[Be+9]=be,this.int16[Be+10]=Me,this.int16[Be+11]=Ie,i}}$s.prototype.bytesPerElement=24,qi($s,"StructArrayLayout4i4ui4i24");class Ms extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,d,p,v,T){const B=this.length;return this.resize(B+1),this.emplace(B,i,o,d,p,v,T)}emplace(i,o,d,p,v,T,B){const K=10*i,ie=5*i;return this.int16[K+0]=o,this.int16[K+1]=d,this.int16[K+2]=p,this.float32[ie+2]=v,this.float32[ie+3]=T,this.float32[ie+4]=B,i}}Ms.prototype.bytesPerElement=20,qi(Ms,"StructArrayLayout3i3f20");class jr extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i){const o=this.length;return this.resize(o+1),this.emplace(o,i)}emplace(i,o){return this.uint32[1*i+0]=o,i}}jr.prototype.bytesPerElement=4,qi(jr,"StructArrayLayout1ul4");class Io extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,d,p,v,T,B,K,ie,ue,be,Me,Ie){const Be=this.length;return this.resize(Be+1),this.emplace(Be,i,o,d,p,v,T,B,K,ie,ue,be,Me,Ie)}emplace(i,o,d,p,v,T,B,K,ie,ue,be,Me,Ie,Be){const He=20*i,tt=10*i;return this.int16[He+0]=o,this.int16[He+1]=d,this.int16[He+2]=p,this.int16[He+3]=v,this.int16[He+4]=T,this.float32[tt+3]=B,this.float32[tt+4]=K,this.float32[tt+5]=ie,this.float32[tt+6]=ue,this.int16[He+14]=be,this.uint32[tt+8]=Me,this.uint16[He+18]=Ie,this.uint16[He+19]=Be,i}}Io.prototype.bytesPerElement=40,qi(Io,"StructArrayLayout5i4f1i1ul2ui40");class ir extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,d,p,v,T,B){const K=this.length;return this.resize(K+1),this.emplace(K,i,o,d,p,v,T,B)}emplace(i,o,d,p,v,T,B,K){const ie=8*i;return this.int16[ie+0]=o,this.int16[ie+1]=d,this.int16[ie+2]=p,this.int16[ie+4]=v,this.int16[ie+5]=T,this.int16[ie+6]=B,this.int16[ie+7]=K,i}}ir.prototype.bytesPerElement=16,qi(ir,"StructArrayLayout3i2i2i16");class Ho extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,d,p,v){const T=this.length;return this.resize(T+1),this.emplace(T,i,o,d,p,v)}emplace(i,o,d,p,v,T){const B=4*i,K=8*i;return this.float32[B+0]=o,this.float32[B+1]=d,this.float32[B+2]=p,this.int16[K+6]=v,this.int16[K+7]=T,i}}Ho.prototype.bytesPerElement=16,qi(Ho,"StructArrayLayout2f1f2i16");class jh extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,d,p){const v=this.length;return this.resize(v+1),this.emplace(v,i,o,d,p)}emplace(i,o,d,p,v){const T=12*i,B=3*i;return this.uint8[T+0]=o,this.uint8[T+1]=d,this.float32[B+1]=p,this.float32[B+2]=v,i}}jh.prototype.bytesPerElement=12,qi(jh,"StructArrayLayout2ub2f12");class Dl extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,d){const p=this.length;return this.resize(p+1),this.emplace(p,i,o,d)}emplace(i,o,d,p){const v=3*i;return this.float32[v+0]=o,this.float32[v+1]=d,this.float32[v+2]=p,i}}Dl.prototype.bytesPerElement=12,qi(Dl,"StructArrayLayout3f12");class Lo extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,d){const p=this.length;return this.resize(p+1),this.emplace(p,i,o,d)}emplace(i,o,d,p){const v=3*i;return this.uint16[v+0]=o,this.uint16[v+1]=d,this.uint16[v+2]=p,i}}Lo.prototype.bytesPerElement=6,qi(Lo,"StructArrayLayout3ui6");class xa extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i,o,d,p,v,T,B,K,ie,ue,be,Me,Ie,Be,He,tt,gt,Pt,mt,wt,Ot){const Dt=this.length;return this.resize(Dt+1),this.emplace(Dt,i,o,d,p,v,T,B,K,ie,ue,be,Me,Ie,Be,He,tt,gt,Pt,mt,wt,Ot)}emplace(i,o,d,p,v,T,B,K,ie,ue,be,Me,Ie,Be,He,tt,gt,Pt,mt,wt,Ot,Dt){const Jt=30*i,Kt=15*i,fi=60*i;return this.int16[Jt+0]=o,this.int16[Jt+1]=d,this.int16[Jt+2]=p,this.float32[Kt+2]=v,this.float32[Kt+3]=T,this.uint16[Jt+8]=B,this.uint16[Jt+9]=K,this.uint32[Kt+5]=ie,this.uint32[Kt+6]=ue,this.uint32[Kt+7]=be,this.uint16[Jt+16]=Me,this.uint16[Jt+17]=Ie,this.uint16[Jt+18]=Be,this.float32[Kt+10]=He,this.float32[Kt+11]=tt,this.uint8[fi+48]=gt,this.uint8[fi+49]=Pt,this.uint8[fi+50]=mt,this.uint32[Kt+13]=wt,this.int16[Jt+28]=Ot,this.uint8[fi+58]=Dt,i}}xa.prototype.bytesPerElement=60,qi(xa,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Jl extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i,o,d,p,v,T,B,K,ie,ue,be,Me,Ie,Be,He,tt,gt,Pt,mt,wt,Ot,Dt,Jt,Kt,fi,zi,si,yi,xi,ki){const Ni=this.length;return this.resize(Ni+1),this.emplace(Ni,i,o,d,p,v,T,B,K,ie,ue,be,Me,Ie,Be,He,tt,gt,Pt,mt,wt,Ot,Dt,Jt,Kt,fi,zi,si,yi,xi,ki)}emplace(i,o,d,p,v,T,B,K,ie,ue,be,Me,Ie,Be,He,tt,gt,Pt,mt,wt,Ot,Dt,Jt,Kt,fi,zi,si,yi,xi,ki,Ni){const oi=38*i,Wi=19*i;return this.int16[oi+0]=o,this.int16[oi+1]=d,this.int16[oi+2]=p,this.float32[Wi+2]=v,this.float32[Wi+3]=T,this.int16[oi+8]=B,this.int16[oi+9]=K,this.int16[oi+10]=ie,this.int16[oi+11]=ue,this.int16[oi+12]=be,this.int16[oi+13]=Me,this.uint16[oi+14]=Ie,this.uint16[oi+15]=Be,this.uint16[oi+16]=He,this.uint16[oi+17]=tt,this.uint16[oi+18]=gt,this.uint16[oi+19]=Pt,this.uint16[oi+20]=mt,this.uint16[oi+21]=wt,this.uint16[oi+22]=Ot,this.uint16[oi+23]=Dt,this.uint16[oi+24]=Jt,this.uint16[oi+25]=Kt,this.uint16[oi+26]=fi,this.uint16[oi+27]=zi,this.uint16[oi+28]=si,this.uint32[Wi+15]=yi,this.float32[Wi+16]=xi,this.float32[Wi+17]=ki,this.float32[Wi+18]=Ni,i}}Jl.prototype.bytesPerElement=76,qi(Jl,"StructArrayLayout3i2f6i15ui1ul3f76");class Qa extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i){const o=this.length;return this.resize(o+1),this.emplace(o,i)}emplace(i,o){return this.float32[1*i+0]=o,i}}Qa.prototype.bytesPerElement=4,qi(Qa,"StructArrayLayout1f4");class ss extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,d,p,v){const T=this.length;return this.resize(T+1),this.emplace(T,i,o,d,p,v)}emplace(i,o,d,p,v,T){const B=5*i;return this.float32[B+0]=o,this.float32[B+1]=d,this.float32[B+2]=p,this.float32[B+3]=v,this.float32[B+4]=T,i}}ss.prototype.bytesPerElement=20,qi(ss,"StructArrayLayout5f20");class dh extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,d,p){const v=this.length;return this.resize(v+1),this.emplace(v,i,o,d,p)}emplace(i,o,d,p,v){const T=6*i;return this.uint32[3*i+0]=o,this.uint16[T+2]=d,this.uint16[T+3]=p,this.uint16[T+4]=v,i}}dh.prototype.bytesPerElement=12,qi(dh,"StructArrayLayout1ul3ui12");class Ql extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o){const d=this.length;return this.resize(d+1),this.emplace(d,i,o)}emplace(i,o,d){const p=2*i;return this.uint16[p+0]=o,this.uint16[p+1]=d,i}}Ql.prototype.bytesPerElement=4,qi(Ql,"StructArrayLayout2ui4");class Ld extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i){const o=this.length;return this.resize(o+1),this.emplace(o,i)}emplace(i,o){return this.uint16[1*i+0]=o,i}}Ld.prototype.bytesPerElement=2,qi(Ld,"StructArrayLayout1ui2");class Kp extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o){const d=this.length;return this.resize(d+1),this.emplace(d,i,o)}emplace(i,o,d){const p=2*i;return this.float32[p+0]=o,this.float32[p+1]=d,i}}Kp.prototype.bytesPerElement=8,qi(Kp,"StructArrayLayout2f8");class g_ extends Zn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}g_.prototype.size=40;class Xm extends Io{get(i){return new g_(this,i)}}qi(Xm,"CollisionBoxArray");class Il extends Zn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(i){this._structArray.uint8[this._pos1+49]=i}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(i){this._structArray.uint8[this._pos1+50]=i}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(i){this._structArray.uint32[this._pos4+13]=i}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(i){this._structArray.uint8[this._pos1+58]=i}}Il.prototype.size=60;class __ extends xa{get(i){return new Il(this,i)}}qi(__,"PlacedSymbolArray");class Jp extends Zn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(i){this._structArray.uint32[this._pos4+15]=i}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}Jp.prototype.size=76;class v0 extends Jl{get(i){return new Jp(this,i)}}qi(v0,"SymbolInstanceArray");class Zm extends Qa{getoffsetX(i){return this.float32[1*i+0]}}qi(Zm,"GlyphOffsetArray");class Km extends Is{getx(i){return this.int16[2*i+0]}gety(i){return this.int16[2*i+1]}}qi(Km,"SymbolLineVertexArray");class el extends Zn{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}el.prototype.size=12;class Od extends dh{get(i){return new el(this,i)}}qi(Od,"FeatureIndexArray");class x0 extends Ql{geta_centroid_pos0(i){return this.uint16[2*i+0]}geta_centroid_pos1(i){return this.uint16[2*i+1]}}qi(x0,"FillExtrusionCentroidArray");const y_=tn([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),b0=tn([{name:"a_dash",components:4,type:"Uint16"}]);var Uh={exports:{}},w0={exports:{}};w0.exports=function(r,i){var o,d,p,v,T,B,K,ie;for(d=r.length-(o=3&r.length),p=i,T=3432918353,B=461845907,ie=0;ie<d;)K=255&r.charCodeAt(ie)|(255&r.charCodeAt(++ie))<<8|(255&r.charCodeAt(++ie))<<16|(255&r.charCodeAt(++ie))<<24,++ie,p=27492+(65535&(v=5*(65535&(p=(p^=K=(65535&(K=(K=(65535&K)*T+(((K>>>16)*T&65535)<<16)&4294967295)<<15|K>>>17))*B+(((K>>>16)*B&65535)<<16)&4294967295)<<13|p>>>19))+((5*(p>>>16)&65535)<<16)&4294967295))+((58964+(v>>>16)&65535)<<16);switch(K=0,o){case 3:K^=(255&r.charCodeAt(ie+2))<<16;case 2:K^=(255&r.charCodeAt(ie+1))<<8;case 1:p^=K=(65535&(K=(K=(65535&(K^=255&r.charCodeAt(ie)))*T+(((K>>>16)*T&65535)<<16)&4294967295)<<15|K>>>17))*B+(((K>>>16)*B&65535)<<16)&4294967295}return p^=r.length,p=2246822507*(65535&(p^=p>>>16))+((2246822507*(p>>>16)&65535)<<16)&4294967295,p=3266489909*(65535&(p^=p>>>13))+((3266489909*(p>>>16)&65535)<<16)&4294967295,(p^=p>>>16)>>>0};var Jm={exports:{}};Jm.exports=function(r,i){for(var o,d=r.length,p=i^d,v=0;d>=4;)o=1540483477*(65535&(o=255&r.charCodeAt(v)|(255&r.charCodeAt(++v))<<8|(255&r.charCodeAt(++v))<<16|(255&r.charCodeAt(++v))<<24))+((1540483477*(o>>>16)&65535)<<16),p=1540483477*(65535&p)+((1540483477*(p>>>16)&65535)<<16)^(o=1540483477*(65535&(o^=o>>>24))+((1540483477*(o>>>16)&65535)<<16)),d-=4,++v;switch(d){case 3:p^=(255&r.charCodeAt(v+2))<<16;case 2:p^=(255&r.charCodeAt(v+1))<<8;case 1:p=1540483477*(65535&(p^=255&r.charCodeAt(v)))+((1540483477*(p>>>16)&65535)<<16)}return p=1540483477*(65535&(p^=p>>>13))+((1540483477*(p>>>16)&65535)<<16),(p^=p>>>15)>>>0};var S0=w0.exports,Qm=Jm.exports;Uh.exports=S0,Uh.exports.murmur3=S0,Uh.exports.murmur2=Qm;class Cc{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(i,o,d,p){this.ids.push(v_(i)),this.positions.push(o,d,p)}getPositions(i){const o=v_(i);let d=0,p=this.ids.length-1;for(;d<p;){const T=d+p>>1;this.ids[T]>=o?p=T:d=T+1}const v=[];for(;this.ids[d]===o;)v.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return v}static serialize(i,o){const d=new Float64Array(i.ids),p=new Uint32Array(i.positions);return rd(d,p,0,d.length-1),o&&o.push(d.buffer,p.buffer),{ids:d,positions:p}}static deserialize(i){const o=new Cc;return o.ids=i.ids,o.positions=i.positions,o.indexed=!0,o}}function v_(r){const i=+r;return!isNaN(i)&&Number.MIN_SAFE_INTEGER<=i&&i<=Number.MAX_SAFE_INTEGER?i:Uh.exports(String(r))}function rd(r,i,o,d){for(;o<d;){const p=r[o+d>>1];let v=o-1,T=d+1;for(;;){do v++;while(r[v]<p);do T--;while(r[T]>p);if(v>=T)break;Qp(r,v,T),Qp(i,3*v,3*T),Qp(i,3*v+1,3*T+1),Qp(i,3*v+2,3*T+2)}T-o<d-T?(rd(r,i,o,T),o=T+1):(rd(r,i,T+1,d),d=T)}}function Qp(r,i,o){const d=r[i];r[i]=r[o],r[o]=d}qi(Cc,"FeaturePositionMap");class od{constructor(i){this.gl=i.gl,this.initialized=!1}fetchUniformLocation(i,o){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(i,o),this.initialized=!0),!!this.location}}class Ru extends od{constructor(i){super(i),this.current=0}set(i,o,d){this.fetchUniformLocation(i,o)&&this.current!==d&&(this.current=d,this.gl.uniform1f(this.location,d))}}class x_ extends od{constructor(i){super(i),this.current=[0,0,0,0]}set(i,o,d){this.fetchUniformLocation(i,o)&&(d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]&&d[3]===this.current[3]||(this.current=d,this.gl.uniform4f(this.location,d[0],d[1],d[2],d[3])))}}class b_ extends od{constructor(i){super(i),this.current=pr.transparent}set(i,o,d){this.fetchUniformLocation(i,o)&&(d.r===this.current.r&&d.g===this.current.g&&d.b===this.current.b&&d.a===this.current.a||(this.current=d,this.gl.uniform4f(this.location,d.r,d.g,d.b,d.a)))}}const Vx=new Float32Array(16),w_=new Float32Array(9),S_=new Float32Array(4);function eg(r){return[hn(255*r.r,255*r.g),hn(255*r.b,255*r.a)]}class Bu{constructor(i,o,d){this.value=i,this.uniformNames=o.map(p=>`u_${p}`),this.type=d}setUniform(i,o,d,p,v){o.set(i,v,p.constantOr(this.value))}getBinding(i,o){return this.type==="color"?new b_(i):new Ru(i)}}class $h{constructor(i,o){this.uniformNames=o.map(d=>`u_${d}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(i){this.pixelRatio=i.pixelRatio||1,this.pattern=i.tl.concat(i.br)}setUniform(i,o,d,p,v){const T=v==="u_pattern"||v==="u_dash"?this.pattern:v==="u_pixel_ratio"?this.pixelRatio:null;T&&o.set(i,v,T)}getBinding(i,o){return o==="u_pattern"||o==="u_dash"?new x_(i):new Ru(i)}}class ao{constructor(i,o,d,p){this.expression=i,this.type=d,this.maxValue=0,this.paintVertexAttributes=o.map(v=>({name:`a_${v}`,type:"Float32",components:d==="color"?2:1,offset:0})),this.paintVertexArray=new p}populatePaintArray(i,o,d,p,v,T){const B=this.paintVertexArray.length,K=this.expression.evaluate(new Vt(0),o,{},v,p,T);this.paintVertexArray.resize(i),this._setPaintValue(B,i,K)}updatePaintArray(i,o,d,p,v){const T=this.expression.evaluate({zoom:0},d,p,void 0,v);this._setPaintValue(i,o,T)}_setPaintValue(i,o,d){if(this.type==="color"){const p=eg(d);for(let v=i;v<o;v++)this.paintVertexArray.emplace(v,p[0],p[1])}else{for(let p=i;p<o;p++)this.paintVertexArray.emplace(p,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class wo{constructor(i,o,d,p,v,T){this.expression=i,this.uniformNames=o.map(B=>`u_${B}_t`),this.type=d,this.useIntegerZoom=p,this.zoom=v,this.maxValue=0,this.paintVertexAttributes=o.map(B=>({name:`a_${B}`,type:"Float32",components:d==="color"?4:2,offset:0})),this.paintVertexArray=new T}populatePaintArray(i,o,d,p,v,T){const B=this.expression.evaluate(new Vt(this.zoom),o,{},v,p,T),K=this.expression.evaluate(new Vt(this.zoom+1),o,{},v,p,T),ie=this.paintVertexArray.length;this.paintVertexArray.resize(i),this._setPaintValue(ie,i,B,K)}updatePaintArray(i,o,d,p,v){const T=this.expression.evaluate({zoom:this.zoom},d,p,void 0,v),B=this.expression.evaluate({zoom:this.zoom+1},d,p,void 0,v);this._setPaintValue(i,o,T,B)}_setPaintValue(i,o,d,p){if(this.type==="color"){const v=eg(d),T=eg(p);for(let B=i;B<o;B++)this.paintVertexArray.emplace(B,v[0],v[1],T[0],T[1])}else{for(let v=i;v<o;v++)this.paintVertexArray.emplace(v,d,p);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(p))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(i,o,d,p,v){const T=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,B=g(this.expression.interpolationFactor(T,this.zoom,this.zoom+1),0,1);o.set(i,v,B)}getBinding(i,o){return new Ru(i)}}class hh{constructor(i,o,d,p,v){this.expression=i,this.layerId=v,this.paintVertexAttributes=(d==="array"?b0:y_).members;for(let T=0;T<o.length;++T);this.paintVertexArray=new p}populatePaintArray(i,o,d){const p=this.paintVertexArray.length;this.paintVertexArray.resize(i),this._setPaintValues(p,i,o.patterns&&o.patterns[this.layerId],d)}updatePaintArray(i,o,d,p,v,T){this._setPaintValues(i,o,d.patterns&&d.patterns[this.layerId],T)}_setPaintValues(i,o,d,p){if(!p||!d)return;const v=p[d];if(!v)return;const{tl:T,br:B,pixelRatio:K}=v;for(let ie=i;ie<o;ie++)this.paintVertexArray.emplace(ie,T[0],T[1],B[0],B[1],K)}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class uh{constructor(i,o,d=()=>!0){this.binders={},this._buffers=[];const p=[];for(const v in i.paint._values){if(!d(v))continue;const T=i.paint.get(v);if(!(T instanceof vi&&ri(T.property.specification)))continue;const B=T_(v,i.type),K=T.value,ie=T.property.specification.type,ue=T.property.useIntegerZoom,be=v==="line-dasharray"||v.endsWith("pattern"),Me=v==="line-dasharray"&&i.layout.get("line-cap").value.kind!=="constant";if(K.kind!=="constant"||Me)if(K.kind==="source"||Me||be){const Ie=tg(v,ie,"source");this.binders[v]=be?new hh(K,B,ie,Ie,i.id):new ao(K,B,ie,Ie),p.push(`/a_${v}`)}else{const Ie=tg(v,ie,"composite");this.binders[v]=new wo(K,B,ie,ue,o,Ie),p.push(`/z_${v}`)}else this.binders[v]=be?new $h(K.value,B):new Bu(K.value,B,ie),p.push(`/u_${v}`)}this.cacheKey=p.sort().join("")}getMaxValue(i){const o=this.binders[i];return o instanceof ao||o instanceof wo?o.maxValue:0}populatePaintArrays(i,o,d,p,v,T){for(const B in this.binders){const K=this.binders[B];(K instanceof ao||K instanceof wo||K instanceof hh)&&K.populatePaintArray(i,o,d,p,v,T)}}setConstantPatternPositions(i){for(const o in this.binders){const d=this.binders[o];d instanceof $h&&d.setConstantPatternPositions(i)}}updatePaintArrays(i,o,d,p,v,T){let B=!1;for(const K in i){const ie=o.getPositions(K);for(const ue of ie){const be=d.feature(ue.index);for(const Me in this.binders){const Ie=this.binders[Me];if((Ie instanceof ao||Ie instanceof wo||Ie instanceof hh)&&Ie.expression.isStateDependent===!0){const Be=p.paint.get(Me);Ie.expression=Be.value,Ie.updatePaintArray(ue.start,ue.end,be,i[K],v,T),B=!0}}}}return B}defines(){const i=[];for(const o in this.binders){const d=this.binders[o];(d instanceof Bu||d instanceof $h)&&i.push(...d.uniformNames.map(p=>`#define HAS_UNIFORM_${p}`))}return i}getBinderAttributes(){const i=[];for(const o in this.binders){const d=this.binders[o];if(d instanceof ao||d instanceof wo||d instanceof hh)for(let p=0;p<d.paintVertexAttributes.length;p++)i.push(d.paintVertexAttributes[p].name)}return i}getBinderUniforms(){const i=[];for(const o in this.binders){const d=this.binders[o];if(d instanceof Bu||d instanceof $h||d instanceof wo)for(const p of d.uniformNames)i.push(p)}return i}getPaintVertexBuffers(){return this._buffers}getUniforms(i){const o=[];for(const d in this.binders){const p=this.binders[d];if(p instanceof Bu||p instanceof $h||p instanceof wo)for(const v of p.uniformNames)o.push({name:v,property:d,binding:p.getBinding(i,v)})}return o}setUniforms(i,o,d,p,v){for(const{name:T,property:B,binding:K}of d)this.binders[B].setUniform(i,K,v,p.get(B),T)}updatePaintBuffers(){this._buffers=[];for(const i in this.binders){const o=this.binders[i];(o instanceof ao||o instanceof wo||o instanceof hh)&&o.paintVertexBuffer&&this._buffers.push(o.paintVertexBuffer)}}upload(i){for(const o in this.binders){const d=this.binders[o];(d instanceof ao||d instanceof wo||d instanceof hh)&&d.upload(i)}this.updatePaintBuffers()}destroy(){for(const i in this.binders){const o=this.binders[i];(o instanceof ao||o instanceof wo||o instanceof hh)&&o.destroy()}}}class ad{constructor(i,o,d=()=>!0){this.programConfigurations={};for(const p of i)this.programConfigurations[p.id]=new uh(p,o,d);this.needsUpload=!1,this._featureMap=new Cc,this._bufferOffset=0}populatePaintArrays(i,o,d,p,v,T,B){for(const K in this.programConfigurations)this.programConfigurations[K].populatePaintArrays(i,o,p,v,T,B);o.id!==void 0&&this._featureMap.add(o.id,d,this._bufferOffset,i),this._bufferOffset=i,this.needsUpload=!0}updatePaintArrays(i,o,d,p,v){for(const T of d)this.needsUpload=this.programConfigurations[T.id].updatePaintArrays(i,this._featureMap,o,T,p,v)||this.needsUpload}get(i){return this.programConfigurations[i]}upload(i){if(this.needsUpload){for(const o in this.programConfigurations)this.programConfigurations[o].upload(i);this.needsUpload=!1}}destroy(){for(const i in this.programConfigurations)this.programConfigurations[i].destroy()}}const zu={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function T_(r,i){return zu[r]||[r.replace(`${i}-`,"").replace(/-/g,"_")]}const C_={"line-pattern":{source:Vo,composite:Vo},"fill-pattern":{source:Vo,composite:Vo},"fill-extrusion-pattern":{source:Vo,composite:Vo},"line-dasharray":{source:Pl,composite:Pl}},Hx={color:{source:Kp,composite:ta},number:{source:Qa,composite:Kp}};function tg(r,i,o){const d=C_[r];return d&&d[o]||Hx[i][o]}qi(Bu,"ConstantBinder"),qi($h,"PatternConstantBinder"),qi(ao,"SourceExpressionBinder"),qi(hh,"PatternCompositeBinder"),qi(wo,"CompositeExpressionBinder"),qi(uh,"ProgramConfiguration",{omit:["_buffers"]}),qi(ad,"ProgramConfigurationSet");const Rd="-transition";class Ra extends Xr{constructor(i,o){if(super(),this.id=i.id,this.type=i.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,i.type!=="custom"&&(this.metadata=i.metadata,this.minzoom=i.minzoom,this.maxzoom=i.maxzoom,i.type!=="background"&&i.type!=="sky"&&(this.source=i.source,this.sourceLayer=i["source-layer"],this.filter=i.filter),o.layout&&(this._unevaluatedLayout=new ii(o.layout)),o.paint)){this._transitionablePaint=new pi(o.paint);for(const d in i.paint)this.setPaintProperty(d,i.paint[d],{validate:!1});for(const d in i.layout)this.setLayoutProperty(d,i.layout[d],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ri(o.paint)}}getLayoutProperty(i){return i==="visibility"?this.visibility:this._unevaluatedLayout.getValue(i)}setLayoutProperty(i,o,d={}){o!=null&&this._validate(Dd,`layers.${this.id}.layout.${i}`,i,o,d)||(i!=="visibility"?this._unevaluatedLayout.setValue(i,o):this.visibility=o)}getPaintProperty(i){return pe(i,Rd)?this._transitionablePaint.getTransition(i.slice(0,-Rd.length)):this._transitionablePaint.getValue(i)}setPaintProperty(i,o,d={}){if(o!=null&&this._validate(qm,`layers.${this.id}.paint.${i}`,i,o,d))return!1;if(pe(i,Rd))return this._transitionablePaint.setTransition(i.slice(0,-Rd.length),o||void 0),!1;{const p=this._transitionablePaint._values[i],v=p.value.isDataDriven(),T=p.value;this._transitionablePaint.setValue(i,o),this._handleSpecialPaintPropertyUpdate(i);const B=this._transitionablePaint._values[i].value,K=B.isDataDriven(),ie=pe(i,"pattern")||i==="line-dasharray";return K||v||ie||this._handleOverridablePaintPropertyUpdate(i,T,B)}}_handleSpecialPaintPropertyUpdate(i){}getProgramIds(){return null}getProgramConfiguration(i){return null}_handleOverridablePaintPropertyUpdate(i,o,d){return!1}isHidden(i){return!!(this.minzoom&&i<this.minzoom)||!!(this.maxzoom&&i>=this.maxzoom)||this.visibility==="none"}updateTransitions(i){this._transitioningPaint=this._transitionablePaint.transitioned(i,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(i,o){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(i,void 0,o)),this.paint=this._transitioningPaint.possiblyEvaluate(i,void 0,o)}serialize(){const i={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(i.layout=i.layout||{},i.layout.visibility=this.visibility),ne(i,(o,d)=>!(o===void 0||d==="layout"&&!Object.keys(o).length||d==="paint"&&!Object.keys(o).length))}_validate(i,o,d,p,v={}){return(!v||v.validate!==!1)&&c0(this,i.call(Gp,{key:o,layerType:this.type,objectKey:d,value:p,styleSpec:di,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const i in this.paint._values){const o=this.paint.get(i);if(o instanceof vi&&ri(o.property.specification)&&(o.value.kind==="source"||o.value.kind==="composite")&&o.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=Tr(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const Wx=tn([{name:"a_pos",components:2,type:"Int16"}],4),E_=tn([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class Qr{constructor(i=[]){this.segments=i}prepareSegment(i,o,d,p){let v=this.segments[this.segments.length-1];return i>Qr.MAX_VERTEX_ARRAY_LENGTH&&ae(`Max vertices per segment is ${Qr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${i}`),(!v||v.vertexLength+i>Qr.MAX_VERTEX_ARRAY_LENGTH||v.sortKey!==p)&&(v={vertexOffset:o.length,primitiveOffset:d.length,vertexLength:0,primitiveLength:0},p!==void 0&&(v.sortKey=p),this.segments.push(v)),v}get(){return this.segments}destroy(){for(const i of this.segments)for(const o in i.vaos)i.vaos[o].destroy()}static simpleSegment(i,o,d,p){return new Qr([{vertexOffset:i,primitiveOffset:o,vertexLength:d,primitiveLength:p,vaos:{},sortKey:0}])}}Qr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,qi(Qr,"SegmentVector");var Tn=8192;class Bd{constructor(i,o){i&&(o?this.setSouthWest(i).setNorthEast(o):i.length===4?this.setSouthWest([i[0],i[1]]).setNorthEast([i[2],i[3]]):this.setSouthWest(i[0]).setNorthEast(i[1]))}setNorthEast(i){return this._ne=i instanceof _s?new _s(i.lng,i.lat):_s.convert(i),this}setSouthWest(i){return this._sw=i instanceof _s?new _s(i.lng,i.lat):_s.convert(i),this}extend(i){const o=this._sw,d=this._ne;let p,v;if(i instanceof _s)p=i,v=i;else{if(!(i instanceof Bd))return Array.isArray(i)?i.length===4||i.every(Array.isArray)?this.extend(Bd.convert(i)):this.extend(_s.convert(i)):typeof i=="object"&&i!==null&&i.hasOwnProperty("lat")&&i.hasOwnProperty("lon")?this.extend(_s.convert(i)):this;if(p=i._sw,v=i._ne,!p||!v)return this}return o||d?(o.lng=Math.min(p.lng,o.lng),o.lat=Math.min(p.lat,o.lat),d.lng=Math.max(v.lng,d.lng),d.lat=Math.max(v.lat,d.lat)):(this._sw=new _s(p.lng,p.lat),this._ne=new _s(v.lng,v.lat)),this}getCenter(){return new _s((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new _s(this.getWest(),this.getNorth())}getSouthEast(){return new _s(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(i){const{lng:o,lat:d}=_s.convert(i);let p=this._sw.lng<=o&&o<=this._ne.lng;return this._sw.lng>this._ne.lng&&(p=this._sw.lng>=o&&o>=this._ne.lng),this._sw.lat<=d&&d<=this._ne.lat&&p}static convert(i){return!i||i instanceof Bd?i:new Bd(i)}}const Gh=63710088e-1;class _s{constructor(i,o){if(isNaN(i)||isNaN(o))throw new Error(`Invalid LngLat object: (${i}, ${o})`);if(this.lng=+i,this.lat=+o,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new _s(D(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(i){const o=Math.PI/180,d=this.lat*o,p=i.lat*o,v=Math.sin(d)*Math.sin(p)+Math.cos(d)*Math.cos(p)*Math.cos((i.lng-this.lng)*o);return Gh*Math.acos(Math.min(v,1))}toBounds(i=0){const o=360*i/40075017,d=o/Math.cos(Math.PI/180*this.lat);return new Bd(new _s(this.lng-d,this.lat-o),new _s(this.lng+d,this.lat+o))}static convert(i){if(i instanceof _s)return i;if(Array.isArray(i)&&(i.length===2||i.length===3))return new _s(Number(i[0]),Number(i[1]));if(!Array.isArray(i)&&typeof i=="object"&&i!==null)return new _s(Number("lng"in i?i.lng:i.lon),Number(i.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const ef=2*Math.PI*Gh;function ig(r){return ef*Math.cos(r*Math.PI/180)}function Ec(r){return(180+r)/360}function Ll(r){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r*Math.PI/360)))/360}function Ol(r,i){return r/ig(i)}function Ba(r){return 360*r-180}function Wo(r){return 360/Math.PI*Math.atan(Math.exp((180-360*r)*Math.PI/180))-90}function ng(r,i){return r*ig(Wo(i))}const Yo=85.051129;function sg(r){return 1/Math.cos(r*Math.PI/180)}class Vh{constructor(i,o,d=0){this.x=+i,this.y=+o,this.z=+d}static fromLngLat(i,o=0){const d=_s.convert(i);return new Vh(Ec(d.lng),Ll(d.lat),Ol(o,d.lat))}toLngLat(){return new _s(Ba(this.x),Wo(this.y))}toAltitude(){return ng(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/ef*sg(Wo(this.y))}}function rg(r,i,o,d,p,v,T,B,K){const ie=(i+d)/2,ue=(o+p)/2,be=new $(ie,ue);B(be),function(Me,Ie,Be,He,tt,gt){const Pt=Be-tt,mt=He-gt;return Math.abs((He-Ie)*Pt-(Be-Me)*mt)/Math.hypot(Pt,mt)}(be.x,be.y,v.x,v.y,T.x,T.y)>=K?(rg(r,i,o,ie,ue,v,be,B,K),rg(r,ie,ue,d,p,be,T,B,K)):r.push(T)}function og(r,i,o){let d=r[0],p=d.x,v=d.y;i(d);const T=[d];for(let B=1;B<r.length;B++){const K=r[B],{x:ie,y:ue}=K;i(K),rg(T,p,v,ie,ue,d,K,i,o),p=ie,v=ue,d=K}return T}function ag(r,i,o,d){if(d(i,o)){const p=i.add(o)._mult(.5);ag(r,i,p,d),ag(r,p,o,d)}else r.push(o)}function Yx(r,i){let o=r[0];const d=[o];for(let p=1;p<r.length;p++){const v=r[p];ag(d,o,v,i),o=v}return d}const Mc=Math.pow(2,14)-1,T0=-Mc-1;function lg(r,i){const o=Math.round(r.x*i),d=Math.round(r.y*i);return r.x=g(o,T0,Mc),r.y=g(d,T0,Mc),(o<r.x||o>r.x+1||d<r.y||d>r.y+1)&&ae("Geometry exceeds allowed extent, reduce your vector tile buffer size"),r}function Ac(r,i,o){const d=r.loadGeometry(),p=r.extent,v=Tn/p;if(i&&o&&o.projection.isReprojectedInTileSpace){const T=1<<i.z,{scale:B,x:K,y:ie,projection:ue}=o,be=Me=>{const Ie=Ba((i.x+Me.x/p)/T),Be=Wo((i.y+Me.y/p)/T),He=ue.project(Ie,Be);Me.x=(He.x*B-K)*p,Me.y=(He.y*B-ie)*p};for(let Me=0;Me<d.length;Me++)if(r.type!==1)d[Me]=og(d[Me],be,1);else{const Ie=[];for(const Be of d[Me])Be.x<0||Be.x>=p||Be.y<0||Be.y>=p||(be(Be),Ie.push(Be));d[Me]=Ie}}for(const T of d)for(const B of T)lg(B,v);return d}function ld(r,i){return{type:r.type,id:r.id,properties:r.properties,geometry:i?Ac(r):[]}}function zd(r,i,o,d,p){r.emplaceBack(2*i+(d+1)/2,2*o+(p+1)/2)}function Bn(r,i,o){r.emplaceBack(i.x,i.y,i.z,o[0]*16384,o[1]*16384,o[2]*16384)}class Nu{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(o=>o.id),this.index=i.index,this.hasPattern=!1,this.projection=i.projection,this.layoutVertexArray=new Is,this.indexArray=new Lo,this.segments=new Qr,this.programConfigurations=new ad(i.layers,i.zoom),this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id)}populate(i,o,d,p){const v=this.layers[0],T=[];let B=null;v.type==="circle"&&(B=v.layout.get("circle-sort-key"));for(const{feature:ie,id:ue,index:be,sourceLayerIndex:Me}of i){const Ie=this.layers[0]._featureFilter.needGeometry,Be=ld(ie,Ie);if(!this.layers[0]._featureFilter.filter(new Vt(this.zoom),Be,d))continue;const He=B?B.evaluate(Be,{},d):void 0,tt={id:ue,properties:ie.properties,type:ie.type,sourceLayerIndex:Me,index:be,geometry:Ie?Be.geometry:Ac(ie,d,p),patterns:{},sortKey:He};T.push(tt)}B&&T.sort((ie,ue)=>ie.sortKey-ue.sortKey);let K=null;p.projection.name==="globe"&&(this.globeExtVertexArray=new tr,K=p.projection);for(const ie of T){const{geometry:ue,index:be,sourceLayerIndex:Me}=ie,Ie=i[be].feature;this.addFeature(ie,ue,be,o.availableImages,d,K),o.featureIndex.insert(Ie,ue,be,Me,this.index)}}update(i,o,d,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,o,this.stateDependentLayers,d,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,Wx.members),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=i.createVertexBuffer(this.globeExtVertexArray,E_.members))),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(i,o,d,p,v,T){for(const B of o)for(const K of B){const ie=K.x,ue=K.y;if(ie<0||ie>=Tn||ue<0||ue>=Tn)continue;if(T){const Ie=T.projectTilePoint(ie,ue,v),Be=T.upVector(v,ie,ue),He=this.globeExtVertexArray;Bn(He,Ie,Be),Bn(He,Ie,Be),Bn(He,Ie,Be),Bn(He,Ie,Be)}const be=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,i.sortKey),Me=be.vertexLength;zd(this.layoutVertexArray,ie,ue,-1,-1),zd(this.layoutVertexArray,ie,ue,1,-1),zd(this.layoutVertexArray,ie,ue,1,1),zd(this.layoutVertexArray,ie,ue,-1,1),this.indexArray.emplaceBack(Me,Me+1,Me+2),this.indexArray.emplaceBack(Me,Me+2,Me+3),be.vertexLength+=4,be.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,d,{},p,v)}}function C0(r,i){for(let o=0;o<r.length;o++)if(Wh(i,r[o]))return!0;for(let o=0;o<i.length;o++)if(Wh(r,i[o]))return!0;return!!E0(r,i)}function Hh(r,i,o){return!!Wh(r,i)||!!dg(i,r,o)}function M_(r,i){if(r.length===1)return hg(i,r[0]);for(let o=0;o<i.length;o++){const d=i[o];for(let p=0;p<d.length;p++)if(Wh(r,d[p]))return!0}for(let o=0;o<r.length;o++)if(hg(i,r[o]))return!0;for(let o=0;o<i.length;o++)if(E0(r,i[o]))return!0;return!1}function cg(r,i,o){if(r.length>1){if(E0(r,i))return!0;for(let d=0;d<i.length;d++)if(dg(i[d],r,o))return!0}for(let d=0;d<r.length;d++)if(dg(r[d],i,o))return!0;return!1}function E0(r,i){if(r.length===0||i.length===0)return!1;for(let o=0;o<r.length-1;o++){const d=r[o],p=r[o+1];for(let v=0;v<i.length-1;v++)if(ba(d,p,i[v],i[v+1]))return!0}return!1}function ba(r,i,o,d){return me(r,o,d)!==me(i,o,d)&&me(r,i,o)!==me(r,i,d)}function dg(r,i,o){const d=o*o;if(i.length===1)return r.distSqr(i[0])<d;for(let p=1;p<i.length;p++)if(A_(r,i[p-1],i[p])<d)return!0;return!1}function A_(r,i,o){const d=i.distSqr(o);if(d===0)return r.distSqr(i);const p=((r.x-i.x)*(o.x-i.x)+(r.y-i.y)*(o.y-i.y))/d;return r.distSqr(p<0?i:p>1?o:o.sub(i)._mult(p)._add(i))}function hg(r,i){let o,d,p,v=!1;for(let T=0;T<r.length;T++){o=r[T];for(let B=0,K=o.length-1;B<o.length;K=B++)d=o[B],p=o[K],d.y>i.y!=p.y>i.y&&i.x<(p.x-d.x)*(i.y-d.y)/(p.y-d.y)+d.x&&(v=!v)}return v}function Wh(r,i){let o=!1;for(let d=0,p=r.length-1;d<r.length;p=d++){const v=r[d],T=r[p];v.y>i.y!=T.y>i.y&&i.x<(T.x-v.x)*(i.y-v.y)/(T.y-v.y)+v.x&&(o=!o)}return o}function ug(r,i,o,d,p){for(const T of r)if(i<=T.x&&o<=T.y&&d>=T.x&&p>=T.y)return!0;const v=[new $(i,o),new $(i,p),new $(d,p),new $(d,o)];if(r.length>2){for(const T of v)if(Wh(r,T))return!0}for(let T=0;T<r.length-1;T++)if(qx(r[T],r[T+1],v))return!0;return!1}function qx(r,i,o){const d=o[0],p=o[2];if(r.x<d.x&&i.x<d.x||r.x>p.x&&i.x>p.x||r.y<d.y&&i.y<d.y||r.y>p.y&&i.y>p.y)return!1;const v=me(r,i,o[0]);return v!==me(r,i,o[1])||v!==me(r,i,o[2])||v!==me(r,i,o[3])}function Fu(r,i,o){const d=i.paint.get(r).value;return d.kind==="constant"?d.value:o.programConfigurations.get(i.id).getMaxValue(r)}function M0(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function cd(r,i,o,d,p){if(!i[0]&&!i[1])return r;const v=$.convert(i)._mult(p);o==="viewport"&&v._rotate(-d);const T=[];for(let B=0;B<r.length;B++)T.push(r[B].sub(v));return T}function wa(r,i,o,d){const p=$.convert(r)._mult(d);return i==="viewport"&&p._rotate(-o),p}qi(Nu,"CircleBucket",{omit:["layers"]});const pg=new gn({"circle-sort-key":new ei(di.layout_circle["circle-sort-key"])});var Xx={paint:new gn({"circle-radius":new ei(di.paint_circle["circle-radius"]),"circle-color":new ei(di.paint_circle["circle-color"]),"circle-blur":new ei(di.paint_circle["circle-blur"]),"circle-opacity":new ei(di.paint_circle["circle-opacity"]),"circle-translate":new Ht(di.paint_circle["circle-translate"]),"circle-translate-anchor":new Ht(di.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Ht(di.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Ht(di.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ei(di.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ei(di.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ei(di.paint_circle["circle-stroke-opacity"])}),layout:pg},ju=1e-6,tl=typeof Float32Array<"u"?Float32Array:Array;function k_(){var r=new tl(9);return tl!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function Uu(r,i,o){var d=i[0],p=i[1],v=i[2],T=i[3],B=i[4],K=i[5],ie=i[6],ue=i[7],be=i[8],Me=o[0],Ie=o[1],Be=o[2],He=o[3],tt=o[4],gt=o[5],Pt=o[6],mt=o[7],wt=o[8];return r[0]=Me*d+Ie*T+Be*ie,r[1]=Me*p+Ie*B+Be*ue,r[2]=Me*v+Ie*K+Be*be,r[3]=He*d+tt*T+gt*ie,r[4]=He*p+tt*B+gt*ue,r[5]=He*v+tt*K+gt*be,r[6]=Pt*d+mt*T+wt*ie,r[7]=Pt*p+mt*B+wt*ue,r[8]=Pt*v+mt*K+wt*be,r}function ec(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function A0(r,i){var o=i[0],d=i[1],p=i[2],v=i[3],T=i[4],B=i[5],K=i[6],ie=i[7],ue=i[8],be=i[9],Me=i[10],Ie=i[11],Be=i[12],He=i[13],tt=i[14],gt=i[15],Pt=o*B-d*T,mt=o*K-p*T,wt=o*ie-v*T,Ot=d*K-p*B,Dt=d*ie-v*B,Jt=p*ie-v*K,Kt=ue*He-be*Be,fi=ue*tt-Me*Be,zi=ue*gt-Ie*Be,si=be*tt-Me*He,yi=be*gt-Ie*He,xi=Me*gt-Ie*tt,ki=Pt*xi-mt*yi+wt*si+Ot*zi-Dt*fi+Jt*Kt;return ki?(r[0]=(B*xi-K*yi+ie*si)*(ki=1/ki),r[1]=(p*yi-d*xi-v*si)*ki,r[2]=(He*Jt-tt*Dt+gt*Ot)*ki,r[3]=(Me*Dt-be*Jt-Ie*Ot)*ki,r[4]=(K*zi-T*xi-ie*fi)*ki,r[5]=(o*xi-p*zi+v*fi)*ki,r[6]=(tt*wt-Be*Jt-gt*mt)*ki,r[7]=(ue*Jt-Me*wt+Ie*mt)*ki,r[8]=(T*yi-B*zi+ie*Kt)*ki,r[9]=(d*zi-o*yi-v*Kt)*ki,r[10]=(Be*Dt-He*wt+gt*Pt)*ki,r[11]=(be*wt-ue*Dt-Ie*Pt)*ki,r[12]=(B*fi-T*si-K*Kt)*ki,r[13]=(o*si-d*fi+p*Kt)*ki,r[14]=(He*mt-Be*Ot-tt*Pt)*ki,r[15]=(ue*Ot-be*mt+Me*Pt)*ki,r):null}function Yh(r,i,o){var d=i[0],p=i[1],v=i[2],T=i[3],B=i[4],K=i[5],ie=i[6],ue=i[7],be=i[8],Me=i[9],Ie=i[10],Be=i[11],He=i[12],tt=i[13],gt=i[14],Pt=i[15],mt=o[0],wt=o[1],Ot=o[2],Dt=o[3];return r[0]=mt*d+wt*B+Ot*be+Dt*He,r[1]=mt*p+wt*K+Ot*Me+Dt*tt,r[2]=mt*v+wt*ie+Ot*Ie+Dt*gt,r[3]=mt*T+wt*ue+Ot*Be+Dt*Pt,r[4]=(mt=o[4])*d+(wt=o[5])*B+(Ot=o[6])*be+(Dt=o[7])*He,r[5]=mt*p+wt*K+Ot*Me+Dt*tt,r[6]=mt*v+wt*ie+Ot*Ie+Dt*gt,r[7]=mt*T+wt*ue+Ot*Be+Dt*Pt,r[8]=(mt=o[8])*d+(wt=o[9])*B+(Ot=o[10])*be+(Dt=o[11])*He,r[9]=mt*p+wt*K+Ot*Me+Dt*tt,r[10]=mt*v+wt*ie+Ot*Ie+Dt*gt,r[11]=mt*T+wt*ue+Ot*Be+Dt*Pt,r[12]=(mt=o[12])*d+(wt=o[13])*B+(Ot=o[14])*be+(Dt=o[15])*He,r[13]=mt*p+wt*K+Ot*Me+Dt*tt,r[14]=mt*v+wt*ie+Ot*Ie+Dt*gt,r[15]=mt*T+wt*ue+Ot*Be+Dt*Pt,r}function tf(r,i,o){var d,p,v,T,B,K,ie,ue,be,Me,Ie,Be,He=o[0],tt=o[1],gt=o[2];return i===r?(r[12]=i[0]*He+i[4]*tt+i[8]*gt+i[12],r[13]=i[1]*He+i[5]*tt+i[9]*gt+i[13],r[14]=i[2]*He+i[6]*tt+i[10]*gt+i[14],r[15]=i[3]*He+i[7]*tt+i[11]*gt+i[15]):(p=i[1],v=i[2],T=i[3],B=i[4],K=i[5],ie=i[6],ue=i[7],be=i[8],Me=i[9],Ie=i[10],Be=i[11],r[0]=d=i[0],r[1]=p,r[2]=v,r[3]=T,r[4]=B,r[5]=K,r[6]=ie,r[7]=ue,r[8]=be,r[9]=Me,r[10]=Ie,r[11]=Be,r[12]=d*He+B*tt+be*gt+i[12],r[13]=p*He+K*tt+Me*gt+i[13],r[14]=v*He+ie*tt+Ie*gt+i[14],r[15]=T*He+ue*tt+Be*gt+i[15]),r}function qh(r,i,o){var d=o[0],p=o[1],v=o[2];return r[0]=i[0]*d,r[1]=i[1]*d,r[2]=i[2]*d,r[3]=i[3]*d,r[4]=i[4]*p,r[5]=i[5]*p,r[6]=i[6]*p,r[7]=i[7]*p,r[8]=i[8]*v,r[9]=i[9]*v,r[10]=i[10]*v,r[11]=i[11]*v,r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15],r}function fg(r,i,o){var d=Math.sin(o),p=Math.cos(o),v=i[4],T=i[5],B=i[6],K=i[7],ie=i[8],ue=i[9],be=i[10],Me=i[11];return i!==r&&(r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15]),r[4]=v*p+ie*d,r[5]=T*p+ue*d,r[6]=B*p+be*d,r[7]=K*p+Me*d,r[8]=ie*p-v*d,r[9]=ue*p-T*d,r[10]=be*p-B*d,r[11]=Me*p-K*d,r}function nf(r,i,o){var d=Math.sin(o),p=Math.cos(o),v=i[0],T=i[1],B=i[2],K=i[3],ie=i[8],ue=i[9],be=i[10],Me=i[11];return i!==r&&(r[4]=i[4],r[5]=i[5],r[6]=i[6],r[7]=i[7],r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15]),r[0]=v*p-ie*d,r[1]=T*p-ue*d,r[2]=B*p-be*d,r[3]=K*p-Me*d,r[8]=v*d+ie*p,r[9]=T*d+ue*p,r[10]=B*d+be*p,r[11]=K*d+Me*p,r}function mg(r,i){return r[0]=i[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=i[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=i[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function P_(r,i,o){var d,p,v,T=o[0],B=o[1],K=o[2],ie=Math.hypot(T,B,K);return ie<ju?null:(T*=ie=1/ie,B*=ie,K*=ie,d=Math.sin(i),p=Math.cos(i),r[0]=T*T*(v=1-p)+p,r[1]=B*T*v+K*d,r[2]=K*T*v-B*d,r[3]=0,r[4]=T*B*v-K*d,r[5]=B*B*v+p,r[6]=K*B*v+T*d,r[7]=0,r[8]=T*K*v+B*d,r[9]=B*K*v-T*d,r[10]=K*K*v+p,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r)}Math.hypot||(Math.hypot=function(){for(var r=0,i=arguments.length;i--;)r+=arguments[i]*arguments[i];return Math.sqrt(r)});var gg=Yh;function k0(){var r=new tl(3);return tl!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function $u(r){var i=new tl(3);return i[0]=r[0],i[1]=r[1],i[2]=r[2],i}function Xh(r){return Math.hypot(r[0],r[1],r[2])}function Zh(r,i,o){var d=new tl(3);return d[0]=r,d[1]=i,d[2]=o,d}function dd(r,i,o){return r[0]=i[0]+o[0],r[1]=i[1]+o[1],r[2]=i[2]+o[2],r}function Gu(r,i,o){return r[0]=i[0]-o[0],r[1]=i[1]-o[1],r[2]=i[2]-o[2],r}function _g(r,i,o){return r[0]=i[0]*o[0],r[1]=i[1]*o[1],r[2]=i[2]*o[2],r}function il(r,i,o){return r[0]=Math.min(i[0],o[0]),r[1]=Math.min(i[1],o[1]),r[2]=Math.min(i[2],o[2]),r}function kc(r,i,o){return r[0]=Math.max(i[0],o[0]),r[1]=Math.max(i[1],o[1]),r[2]=Math.max(i[2],o[2]),r}function Rl(r,i,o){return r[0]=i[0]*o,r[1]=i[1]*o,r[2]=i[2]*o,r}function Vu(r,i,o,d){return r[0]=i[0]+o[0]*d,r[1]=i[1]+o[1]*d,r[2]=i[2]+o[2]*d,r}function Sa(r,i){var o=i[0],d=i[1],p=i[2],v=o*o+d*d+p*p;return v>0&&(v=1/Math.sqrt(v)),r[0]=i[0]*v,r[1]=i[1]*v,r[2]=i[2]*v,r}function tc(r,i){return r[0]*i[0]+r[1]*i[1]+r[2]*i[2]}function yg(r,i,o){var d=i[0],p=i[1],v=i[2],T=o[0],B=o[1],K=o[2];return r[0]=p*K-v*B,r[1]=v*T-d*K,r[2]=d*B-p*T,r}function Wr(r,i,o){var d=i[0],p=i[1],v=i[2],T=o[3]*d+o[7]*p+o[11]*v+o[15];return r[0]=(o[0]*d+o[4]*p+o[8]*v+o[12])/(T=T||1),r[1]=(o[1]*d+o[5]*p+o[9]*v+o[13])/T,r[2]=(o[2]*d+o[6]*p+o[10]*v+o[14])/T,r}function D_(r,i,o){var d=o[0],p=o[1],v=o[2],T=i[0],B=i[1],K=i[2],ie=p*K-v*B,ue=v*T-d*K,be=d*B-p*T,Me=p*be-v*ue,Ie=v*ie-d*be,Be=d*ue-p*ie,He=2*o[3];return ue*=He,be*=He,Ie*=2,Be*=2,r[0]=T+(ie*=He)+(Me*=2),r[1]=B+ue+Ie,r[2]=K+be+Be,r}var sf,Pc=Gu,Zx=_g,Kx=Xh;function I_(r,i,o){return r[0]=i[0]*o,r[1]=i[1]*o,r[2]=i[2]*o,r[3]=i[3]*o,r}function L_(r,i){var o=i[0],d=i[1],p=i[2],v=i[3],T=o*o+d*d+p*p+v*v;return T>0&&(T=1/Math.sqrt(T)),r[0]=o*T,r[1]=d*T,r[2]=p*T,r[3]=v*T,r}function ph(r,i,o){var d=i[0],p=i[1],v=i[2],T=i[3];return r[0]=o[0]*d+o[4]*p+o[8]*v+o[12]*T,r[1]=o[1]*d+o[5]*p+o[9]*v+o[13]*T,r[2]=o[2]*d+o[6]*p+o[10]*v+o[14]*T,r[3]=o[3]*d+o[7]*p+o[11]*v+o[15]*T,r}function vg(){var r=new tl(4);return tl!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r[3]=1,r}function xg(r){return r[0]=0,r[1]=0,r[2]=0,r[3]=1,r}function O_(r,i,o){o*=.5;var d=i[0],p=i[1],v=i[2],T=i[3],B=Math.sin(o),K=Math.cos(o);return r[0]=d*K+T*B,r[1]=p*K+v*B,r[2]=v*K-p*B,r[3]=T*K-d*B,r}function R_(r,i,o){o*=.5;var d=i[0],p=i[1],v=i[2],T=i[3],B=Math.sin(o),K=Math.cos(o);return r[0]=d*K-v*B,r[1]=p*K+T*B,r[2]=v*K+d*B,r[3]=T*K-p*B,r}k0(),sf=new tl(4),tl!=Float32Array&&(sf[0]=0,sf[1]=0,sf[2]=0,sf[3]=0);var Jx=L_;k0(),Zh(1,0,0),Zh(0,1,0),vg(),vg(),k_();class P0{constructor(i,o){this.pos=i,this.dir=o}intersectsPlane(i,o,d){const p=tc(o,this.dir);if(Math.abs(p)<1e-6)return!1;const v=((i[0]-this.pos[0])*o[0]+(i[1]-this.pos[1])*o[1]+(i[2]-this.pos[2])*o[2])/p;return d[0]=this.pos[0]+this.dir[0]*v,d[1]=this.pos[1]+this.dir[1]*v,d[2]=this.pos[2]+this.dir[2]*v,!0}closestPointOnSphere(i,o,d){if(function(Ie,Be){var He=Ie[0],tt=Ie[1],gt=Ie[2],Pt=Be[0],mt=Be[1],wt=Be[2];return Math.abs(He-Pt)<=ju*Math.max(1,Math.abs(He),Math.abs(Pt))&&Math.abs(tt-mt)<=ju*Math.max(1,Math.abs(tt),Math.abs(mt))&&Math.abs(gt-wt)<=ju*Math.max(1,Math.abs(gt),Math.abs(wt))}(this.pos,i)||o===0)return d[0]=d[1]=d[2]=0,!1;const[p,v,T]=this.dir,B=this.pos[0]-i[0],K=this.pos[1]-i[1],ie=this.pos[2]-i[2],ue=p*p+v*v+T*T,be=2*(B*p+K*v+ie*T),Me=be*be-4*ue*(B*B+K*K+ie*ie-o*o);if(Me<0){const Ie=Math.max(-be/2,0),Be=B+p*Ie,He=K+v*Ie,tt=ie+T*Ie,gt=Math.hypot(Be,He,tt);return d[0]=Be*o/gt,d[1]=He*o/gt,d[2]=tt*o/gt,!1}{const Ie=(-be-Math.sqrt(Me))/(2*ue);if(Ie<0){const Be=Math.hypot(B,K,ie);return d[0]=B*o/Be,d[1]=K*o/Be,d[2]=ie*o/Be,!1}return d[0]=B+p*Ie,d[1]=K+v*Ie,d[2]=ie+T*Ie,!0}}}class bg{constructor(i,o,d,p,v){this.TL=i,this.TR=o,this.BR=d,this.BL=p,this.horizon=v}static fromInvProjectionMatrix(i,o,d){const p=[-1,1,1],v=[1,1,1],T=[1,-1,1],B=[-1,-1,1],K=Wr(p,p,i),ie=Wr(v,v,i),ue=Wr(T,T,i),be=Wr(B,B,i);return new bg(K,ie,ue,be,o/d)}}class wg{constructor(i,o){this.points=i,this.planes=o}static fromInvProjectionMatrix(i,o,d,p){const v=Math.pow(2,d),T=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(K=>{const ie=ph([],K,i),ue=1/ie[3]/o*v;return function(be,Me,Ie){return be[0]=Me[0]*Ie[0],be[1]=Me[1]*Ie[1],be[2]=Me[2]*Ie[2],be[3]=Me[3]*Ie[3],be}(ie,ie,[ue,ue,p?1/ie[3]:ue,ue])}),B=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(K=>{const ie=Sa([],yg([],Pc([],T[K[0]],T[K[1]]),Pc([],T[K[2]],T[K[1]]))),ue=-tc(ie,T[K[1]]);return ie.concat(ue)});return new wg(T,B)}}class Ta{static fromPoints(i){const o=[1/0,1/0,1/0],d=[-1/0,-1/0,-1/0];for(const p of i)il(o,o,p),kc(d,d,p);return new Ta(o,d)}static applyTransform(i,o){const d=i.getCorners();for(let p=0;p<d.length;++p)Wr(d[p],d[p],o);return Ta.fromPoints(d)}constructor(i,o){this.min=i,this.max=o,this.center=Rl([],dd([],this.min,this.max),.5)}quadrant(i){const o=[i%2==0,i<2],d=$u(this.min),p=$u(this.max);for(let v=0;v<o.length;v++)d[v]=o[v]?this.min[v]:this.center[v],p[v]=o[v]?this.center[v]:this.max[v];return p[2]=this.max[2],new Ta(d,p)}distanceX(i){return Math.max(Math.min(this.max[0],i[0]),this.min[0])-i[0]}distanceY(i){return Math.max(Math.min(this.max[1],i[1]),this.min[1])-i[1]}distanceZ(i){return Math.max(Math.min(this.max[2],i[2]),this.min[2])-i[2]}getCorners(){const i=this.min,o=this.max;return[[i[0],i[1],i[2]],[o[0],i[1],i[2]],[o[0],o[1],i[2]],[i[0],o[1],i[2]],[i[0],i[1],o[2]],[o[0],i[1],o[2]],[o[0],o[1],o[2]],[i[0],o[1],o[2]]]}intersects(i){const o=this.getCorners();let d=!0;for(let p=0;p<i.planes.length;p++){const v=i.planes[p];let T=0;for(let B=0;B<o.length;B++)T+=tc(v,o[B])+v[3]>=0;if(T===0)return 0;T!==o.length&&(d=!1)}if(d)return 2;for(let p=0;p<3;p++){let v=Number.MAX_VALUE,T=-Number.MAX_VALUE;for(let B=0;B<i.points.length;B++){const K=i.points[B][p]-this.min[p];v=Math.min(v,K),T=Math.max(T,K)}if(T<0||v>this.max[p]-this.min[p])return 0}return 1}}function B_(r,i,o,d,p,v,T,B,K){if(v&&r.queryGeometry.isAboveHorizon)return!1;v&&(K*=r.pixelToTileUnitsFactor);const ie=r.tileID.canonical,ue=o.projection.upVectorScale(ie,o.center.lat,o.worldSize).metersToTile;for(const be of i)for(const Me of be){const Ie=Me.add(B),Be=p&&o.elevation?o.elevation.exaggeration()*p.getElevationAt(Ie.x,Ie.y,!0):0,He=o.projection.projectTilePoint(Ie.x,Ie.y,ie);if(Be>0){const mt=o.projection.upVector(ie,Ie.x,Ie.y);He.x+=mt[0]*ue*Be,He.y+=mt[1]*ue*Be,He.z+=mt[2]*ue*Be}const tt=v?Ie:Qx(He.x,He.y,He.z,d),gt=v?r.tilespaceRays.map(mt=>eb(mt,Be)):r.queryGeometry.screenGeometry,Pt=ph([],[He.x,He.y,He.z,1],d);if(!T&&v?K*=Pt[3]/o.cameraToCenterDistance:T&&!v&&(K*=o.cameraToCenterDistance/Pt[3]),v){const mt=Wo((Me.y/Tn+ie.y)/(1<<ie.z));K/=o.projection.pixelsPerMeter(mt,1)/Ol(1,mt)}if(Hh(gt,tt,K))return!0}return!1}function Qx(r,i,o,d){const p=ph([],[r,i,o,1],d);return new $(p[0]/p[3],p[1]/p[3])}const z_=Zh(0,0,0),ic=Zh(0,0,1);function eb(r,i){const o=k0();return z_[2]=i,r.intersectsPlane(z_,ic,o),new $(o[0],o[1])}class N_ extends Nu{}function F_(r,{width:i,height:o},d,p){if(p){if(p instanceof Uint8ClampedArray)p=new Uint8Array(p.buffer);else if(p.length!==i*o*d)throw new RangeError("mismatched image size")}else p=new Uint8Array(i*o*d);return r.width=i,r.height=o,r.data=p,r}function Sg(r,i,o){const{width:d,height:p}=i;d===r.width&&p===r.height||(Tg(r,i,{x:0,y:0},{x:0,y:0},{width:Math.min(r.width,d),height:Math.min(r.height,p)},o),r.width=d,r.height=p,r.data=i.data)}function Tg(r,i,o,d,p,v){if(p.width===0||p.height===0)return i;if(p.width>r.width||p.height>r.height||o.x>r.width-p.width||o.y>r.height-p.height)throw new RangeError("out of range source coordinates for image copy");if(p.width>i.width||p.height>i.height||d.x>i.width-p.width||d.y>i.height-p.height)throw new RangeError("out of range destination coordinates for image copy");const T=r.data,B=i.data;for(let K=0;K<p.height;K++){const ie=((o.y+K)*r.width+o.x)*v,ue=((d.y+K)*i.width+d.x)*v;for(let be=0;be<p.width*v;be++)B[ue+be]=T[ie+be]}return i}qi(N_,"HeatmapBucket",{omit:["layers"]});class Nd{constructor(i,o){F_(this,i,1,o)}resize(i){Sg(this,new Nd(i),1)}clone(){return new Nd({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,o,d,p,v){Tg(i,o,d,p,v,1)}}class nl{constructor(i,o){F_(this,i,4,o)}resize(i){Sg(this,new nl(i),4)}replace(i,o){o?this.data.set(i):this.data=i instanceof Uint8ClampedArray?new Uint8Array(i.buffer):i}clone(){return new nl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,o,d,p,v){Tg(i,o,d,p,v,4)}}qi(Nd,"AlphaImage"),qi(nl,"RGBAImage");var tb={paint:new gn({"heatmap-radius":new ei(di.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ei(di.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Ht(di.paint_heatmap["heatmap-intensity"]),"heatmap-color":new dn(di.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Ht(di.paint_heatmap["heatmap-opacity"])})};function rf(r){const i={},o=r.resolution||256,d=r.clips?r.clips.length:1,p=r.image||new nl({width:o,height:d}),v=(T,B,K)=>{i[r.evaluationKey]=K;const ie=r.expression.evaluate(i);p.data[T+B+0]=Math.floor(255*ie.r/ie.a),p.data[T+B+1]=Math.floor(255*ie.g/ie.a),p.data[T+B+2]=Math.floor(255*ie.b/ie.a),p.data[T+B+3]=Math.floor(255*ie.a)};if(r.clips)for(let T=0,B=0;T<d;++T,B+=4*o)for(let K=0,ie=0;K<o;K++,ie+=4){const ue=K/(o-1),{start:be,end:Me}=r.clips[T];v(B,ie,be*(1-ue)+Me*ue)}else for(let T=0,B=0;T<o;T++,B+=4)v(0,B,T/(o-1));return p}var ib={paint:new gn({"hillshade-illumination-direction":new Ht(di.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Ht(di.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Ht(di.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Ht(di.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Ht(di.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Ht(di.paint_hillshade["hillshade-accent-color"])})};const nb=tn([{name:"a_pos",components:2,type:"Int16"}],4),{members:sb}=nb;var of={exports:{}};function D0(r,i,o){o=o||2;var d,p,v,T,B,K,ie,ue=i&&i.length,be=ue?i[0]*o:r.length,Me=j_(r,0,be,o,!0),Ie=[];if(!Me||Me.next===Me.prev)return Ie;if(ue&&(Me=function(He,tt,gt,Pt){var mt,wt,Ot,Dt=[];for(mt=0,wt=tt.length;mt<wt;mt++)(Ot=j_(He,tt[mt]*Pt,mt<wt-1?tt[mt+1]*Pt:He.length,Pt,!1))===Ot.next&&(Ot.steiner=!0),Dt.push(ub(Ot));for(Dt.sort(cb),mt=0;mt<Dt.length;mt++)gt=db(Dt[mt],gt);return gt}(r,i,Me,o)),r.length>80*o){d=v=r[0],p=T=r[1];for(var Be=o;Be<be;Be+=o)(B=r[Be])<d&&(d=B),(K=r[Be+1])<p&&(p=K),B>v&&(v=B),K>T&&(T=K);ie=(ie=Math.max(v-d,T-p))!==0?32767/ie:0}return af(Me,Ie,o,d,p,ie,0),Ie}function j_(r,i,o,d,p){var v,T;if(p===Ag(r,i,o,d)>0)for(v=i;v<o;v+=d)T=$_(v,r[v],r[v+1],T);else for(v=o-d;v>=i;v-=d)T=$_(v,r[v],r[v+1],T);return T&&Wu(T,T.next)&&(cf(T),T=T.next),T}function Kh(r,i){if(!r)return r;i||(i=r);var o,d=r;do if(o=!1,d.steiner||!Wu(d,d.next)&&eo(d.prev,d,d.next)!==0)d=d.next;else{if(cf(d),(d=i=d.prev)===d.next)break;o=!0}while(o||d!==i);return i}function af(r,i,o,d,p,v,T){if(r){!T&&v&&function(ue,be,Me,Ie){var Be=ue;do Be.z===0&&(Be.z=Cg(Be.x,Be.y,be,Me,Ie)),Be.prevZ=Be.prev,Be.nextZ=Be.next,Be=Be.next;while(Be!==ue);Be.prevZ.nextZ=null,Be.prevZ=null,function(He){var tt,gt,Pt,mt,wt,Ot,Dt,Jt,Kt=1;do{for(gt=He,He=null,wt=null,Ot=0;gt;){for(Ot++,Pt=gt,Dt=0,tt=0;tt<Kt&&(Dt++,Pt=Pt.nextZ);tt++);for(Jt=Kt;Dt>0||Jt>0&&Pt;)Dt!==0&&(Jt===0||!Pt||gt.z<=Pt.z)?(mt=gt,gt=gt.nextZ,Dt--):(mt=Pt,Pt=Pt.nextZ,Jt--),wt?wt.nextZ=mt:He=mt,mt.prevZ=wt,wt=mt;gt=Pt}wt.nextZ=null,Kt*=2}while(Ot>1)}(Be)}(r,d,p,v);for(var B,K,ie=r;r.prev!==r.next;)if(B=r.prev,K=r.next,v?ob(r,d,p,v):rb(r))i.push(B.i/o|0),i.push(r.i/o|0),i.push(K.i/o|0),cf(r),r=K.next,ie=K.next;else if((r=K)===ie){T?T===1?af(r=ab(Kh(r),i,o),i,o,d,p,v,2):T===2&&lb(r,i,o,d,p,v):af(Kh(r),i,o,d,p,v,1);break}}}function rb(r){var i=r.prev,o=r,d=r.next;if(eo(i,o,d)>=0)return!1;for(var p=i.x,v=o.x,T=d.x,B=i.y,K=o.y,ie=d.y,ue=p<v?p<T?p:T:v<T?v:T,be=B<K?B<ie?B:ie:K<ie?K:ie,Me=p>v?p>T?p:T:v>T?v:T,Ie=B>K?B>ie?B:ie:K>ie?K:ie,Be=d.next;Be!==i;){if(Be.x>=ue&&Be.x<=Me&&Be.y>=be&&Be.y<=Ie&&Hu(p,B,v,K,T,ie,Be.x,Be.y)&&eo(Be.prev,Be,Be.next)>=0)return!1;Be=Be.next}return!0}function ob(r,i,o,d){var p=r.prev,v=r,T=r.next;if(eo(p,v,T)>=0)return!1;for(var B=p.x,K=v.x,ie=T.x,ue=p.y,be=v.y,Me=T.y,Ie=B<K?B<ie?B:ie:K<ie?K:ie,Be=ue<be?ue<Me?ue:Me:be<Me?be:Me,He=B>K?B>ie?B:ie:K>ie?K:ie,tt=ue>be?ue>Me?ue:Me:be>Me?be:Me,gt=Cg(Ie,Be,i,o,d),Pt=Cg(He,tt,i,o,d),mt=r.prevZ,wt=r.nextZ;mt&&mt.z>=gt&&wt&&wt.z<=Pt;){if(mt.x>=Ie&&mt.x<=He&&mt.y>=Be&&mt.y<=tt&&mt!==p&&mt!==T&&Hu(B,ue,K,be,ie,Me,mt.x,mt.y)&&eo(mt.prev,mt,mt.next)>=0||(mt=mt.prevZ,wt.x>=Ie&&wt.x<=He&&wt.y>=Be&&wt.y<=tt&&wt!==p&&wt!==T&&Hu(B,ue,K,be,ie,Me,wt.x,wt.y)&&eo(wt.prev,wt,wt.next)>=0))return!1;wt=wt.nextZ}for(;mt&&mt.z>=gt;){if(mt.x>=Ie&&mt.x<=He&&mt.y>=Be&&mt.y<=tt&&mt!==p&&mt!==T&&Hu(B,ue,K,be,ie,Me,mt.x,mt.y)&&eo(mt.prev,mt,mt.next)>=0)return!1;mt=mt.prevZ}for(;wt&&wt.z<=Pt;){if(wt.x>=Ie&&wt.x<=He&&wt.y>=Be&&wt.y<=tt&&wt!==p&&wt!==T&&Hu(B,ue,K,be,ie,Me,wt.x,wt.y)&&eo(wt.prev,wt,wt.next)>=0)return!1;wt=wt.nextZ}return!0}function ab(r,i,o){var d=r;do{var p=d.prev,v=d.next.next;!Wu(p,v)&&Eg(p,d,d.next,v)&&lf(p,v)&&lf(v,p)&&(i.push(p.i/o|0),i.push(d.i/o|0),i.push(v.i/o|0),cf(d),cf(d.next),d=r=v),d=d.next}while(d!==r);return Kh(d)}function lb(r,i,o,d,p,v){var T=r;do{for(var B=T.next.next;B!==T.prev;){if(T.i!==B.i&&pb(T,B)){var K=U_(T,B);return T=Kh(T,T.next),K=Kh(K,K.next),af(T,i,o,d,p,v,0),void af(K,i,o,d,p,v,0)}B=B.next}T=T.next}while(T!==r)}function cb(r,i){return r.x-i.x}function db(r,i){var o=function(p,v){var T,B=v,K=p.x,ie=p.y,ue=-1/0;do{if(ie<=B.y&&ie>=B.next.y&&B.next.y!==B.y){var be=B.x+(ie-B.y)*(B.next.x-B.x)/(B.next.y-B.y);if(be<=K&&be>ue&&(ue=be,T=B.x<B.next.x?B:B.next,be===K))return T}B=B.next}while(B!==v);if(!T)return null;var Me,Ie=T,Be=T.x,He=T.y,tt=1/0;B=T;do K>=B.x&&B.x>=Be&&K!==B.x&&Hu(ie<He?K:ue,ie,Be,He,ie<He?ue:K,ie,B.x,B.y)&&(Me=Math.abs(ie-B.y)/(K-B.x),lf(B,p)&&(Me<tt||Me===tt&&(B.x>T.x||B.x===T.x&&hb(T,B)))&&(T=B,tt=Me)),B=B.next;while(B!==Ie);return T}(r,i);if(!o)return i;var d=U_(o,r);return Kh(d,d.next),Kh(o,o.next)}function hb(r,i){return eo(r.prev,r,i.prev)<0&&eo(i.next,r,r.next)<0}function Cg(r,i,o,d,p){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=(r-o)*p|0)|r<<8))|r<<4))|r<<2))|r<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=(i-d)*p|0)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function ub(r){var i=r,o=r;do(i.x<o.x||i.x===o.x&&i.y<o.y)&&(o=i),i=i.next;while(i!==r);return o}function Hu(r,i,o,d,p,v,T,B){return(p-T)*(i-B)>=(r-T)*(v-B)&&(r-T)*(d-B)>=(o-T)*(i-B)&&(o-T)*(v-B)>=(p-T)*(d-B)}function pb(r,i){return r.next.i!==i.i&&r.prev.i!==i.i&&!function(o,d){var p=o;do{if(p.i!==o.i&&p.next.i!==o.i&&p.i!==d.i&&p.next.i!==d.i&&Eg(p,p.next,o,d))return!0;p=p.next}while(p!==o);return!1}(r,i)&&(lf(r,i)&&lf(i,r)&&function(o,d){var p=o,v=!1,T=(o.x+d.x)/2,B=(o.y+d.y)/2;do p.y>B!=p.next.y>B&&p.next.y!==p.y&&T<(p.next.x-p.x)*(B-p.y)/(p.next.y-p.y)+p.x&&(v=!v),p=p.next;while(p!==o);return v}(r,i)&&(eo(r.prev,r,i.prev)||eo(r,i.prev,i))||Wu(r,i)&&eo(r.prev,r,r.next)>0&&eo(i.prev,i,i.next)>0)}function eo(r,i,o){return(i.y-r.y)*(o.x-i.x)-(i.x-r.x)*(o.y-i.y)}function Wu(r,i){return r.x===i.x&&r.y===i.y}function Eg(r,i,o,d){var p=L0(eo(r,i,o)),v=L0(eo(r,i,d)),T=L0(eo(o,d,r)),B=L0(eo(o,d,i));return p!==v&&T!==B||!(p!==0||!I0(r,o,i))||!(v!==0||!I0(r,d,i))||!(T!==0||!I0(o,r,d))||!(B!==0||!I0(o,i,d))}function I0(r,i,o){return i.x<=Math.max(r.x,o.x)&&i.x>=Math.min(r.x,o.x)&&i.y<=Math.max(r.y,o.y)&&i.y>=Math.min(r.y,o.y)}function L0(r){return r>0?1:r<0?-1:0}function lf(r,i){return eo(r.prev,r,r.next)<0?eo(r,i,r.next)>=0&&eo(r,r.prev,i)>=0:eo(r,i,r.prev)<0||eo(r,r.next,i)<0}function U_(r,i){var o=new Mg(r.i,r.x,r.y),d=new Mg(i.i,i.x,i.y),p=r.next,v=i.prev;return r.next=i,i.prev=r,o.next=p,p.prev=o,d.next=o,o.prev=d,v.next=d,d.prev=v,d}function $_(r,i,o,d){var p=new Mg(r,i,o);return d?(p.next=d.next,p.prev=d,d.next.prev=p,d.next=p):(p.prev=p,p.next=p),p}function cf(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function Mg(r,i,o){this.i=r,this.x=i,this.y=o,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ag(r,i,o,d){for(var p=0,v=i,T=o-d;v<o;v+=d)p+=(r[T]-r[v])*(r[v+1]+r[T+1]),T=v;return p}function G_(r,i,o,d,p){V_(r,i,o||0,d||r.length-1,p||fb)}function V_(r,i,o,d,p){for(;d>o;){if(d-o>600){var v=d-o+1,T=i-o+1,B=Math.log(v),K=.5*Math.exp(2*B/3),ie=.5*Math.sqrt(B*K*(v-K)/v)*(T-v/2<0?-1:1);V_(r,i,Math.max(o,Math.floor(i-T*K/v+ie)),Math.min(d,Math.floor(i+(v-T)*K/v+ie)),p)}var ue=r[i],be=o,Me=d;for(fh(r,o,i),p(r[d],ue)>0&&fh(r,o,d);be<Me;){for(fh(r,be,Me),be++,Me--;p(r[be],ue)<0;)be++;for(;p(r[Me],ue)>0;)Me--}p(r[o],ue)===0?fh(r,o,Me):fh(r,++Me,d),Me<=i&&(o=Me+1),i<=Me&&(d=Me-1)}}function fh(r,i,o){var d=r[i];r[i]=r[o],r[o]=d}function fb(r,i){return r<i?-1:r>i?1:0}function kg(r,i){const o=r.length;if(o<=1)return[r];const d=[];let p,v;for(let T=0;T<o;T++){const B=we(r[T]);B!==0&&(r[T].area=Math.abs(B),v===void 0&&(v=B<0),v===B<0?(p&&d.push(p),p=[r[T]]):p.push(r[T]))}if(p&&d.push(p),i>1)for(let T=0;T<d.length;T++)d[T].length<=i||(G_(d[T],i,1,d[T].length-1,mb),d[T]=d[T].slice(0,i));return d}function mb(r,i){return i.area-r.area}function Pg(r,i,o){const d=o.patternDependencies;let p=!1;for(const v of i){const T=v.paint.get(`${r}-pattern`);T.isConstant()||(p=!0);const B=T.constantOr(null);B&&(p=!0,d[B]=!0)}return p}function Dg(r,i,o,d,p){const v=p.patternDependencies;for(const T of i){const B=T.paint.get(`${r}-pattern`).value;if(B.kind!=="constant"){let K=B.evaluate({zoom:d},o,{},p.availableImages);K=K&&K.name?K.name:K,v[K]=!0,o.patterns[T.id]=K}}return o}of.exports=D0,of.exports.default=D0,D0.deviation=function(r,i,o,d){var p=i&&i.length,v=Math.abs(Ag(r,0,p?i[0]*o:r.length,o));if(p)for(var T=0,B=i.length;T<B;T++)v-=Math.abs(Ag(r,i[T]*o,T<B-1?i[T+1]*o:r.length,o));var K=0;for(T=0;T<d.length;T+=3){var ie=d[T]*o,ue=d[T+1]*o,be=d[T+2]*o;K+=Math.abs((r[ie]-r[be])*(r[ue+1]-r[ie+1])-(r[ie]-r[ue])*(r[be+1]-r[ie+1]))}return v===0&&K===0?0:Math.abs((K-v)/v)},D0.flatten=function(r){for(var i=r[0][0].length,o={vertices:[],holes:[],dimensions:i},d=0,p=0;p<r.length;p++){for(var v=0;v<r[p].length;v++)for(var T=0;T<i;T++)o.vertices.push(r[p][v][T]);p>0&&o.holes.push(d+=r[p-1].length)}return o};class O0{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(o=>o.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Is,this.indexArray=new Lo,this.indexArray2=new Ql,this.programConfigurations=new ad(i.layers,i.zoom),this.segments=new Qr,this.segments2=new Qr,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id),this.projection=i.projection}populate(i,o,d,p){this.hasPattern=Pg("fill",this.layers,o);const v=this.layers[0].layout.get("fill-sort-key"),T=[];for(const{feature:B,id:K,index:ie,sourceLayerIndex:ue}of i){const be=this.layers[0]._featureFilter.needGeometry,Me=ld(B,be);if(!this.layers[0]._featureFilter.filter(new Vt(this.zoom),Me,d))continue;const Ie=v?v.evaluate(Me,{},d,o.availableImages):void 0,Be={id:K,properties:B.properties,type:B.type,sourceLayerIndex:ue,index:ie,geometry:be?Me.geometry:Ac(B,d,p),patterns:{},sortKey:Ie};T.push(Be)}v&&T.sort((B,K)=>B.sortKey-K.sortKey);for(const B of T){const{geometry:K,index:ie,sourceLayerIndex:ue}=B;if(this.hasPattern){const be=Dg("fill",this.layers,B,this.zoom,o);this.patternFeatures.push(be)}else this.addFeature(B,K,ie,d,{},o.availableImages);o.featureIndex.insert(i[ie].feature,K,ie,ue,this.index)}}update(i,o,d,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,o,this.stateDependentLayers,d,p)}addFeatures(i,o,d,p,v){for(const T of this.patternFeatures)this.addFeature(T,T.geometry,T.index,o,d,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,sb),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.indexBuffer2=i.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(i,o,d,p,v,T=[]){for(const B of kg(o,500)){let K=0;for(const Be of B)K+=Be.length;const ie=this.segments.prepareSegment(K,this.layoutVertexArray,this.indexArray),ue=ie.vertexLength,be=[],Me=[];for(const Be of B){if(Be.length===0)continue;Be!==B[0]&&Me.push(be.length/2);const He=this.segments2.prepareSegment(Be.length,this.layoutVertexArray,this.indexArray2),tt=He.vertexLength;this.layoutVertexArray.emplaceBack(Be[0].x,Be[0].y),this.indexArray2.emplaceBack(tt+Be.length-1,tt),be.push(Be[0].x),be.push(Be[0].y);for(let gt=1;gt<Be.length;gt++)this.layoutVertexArray.emplaceBack(Be[gt].x,Be[gt].y),this.indexArray2.emplaceBack(tt+gt-1,tt+gt),be.push(Be[gt].x),be.push(Be[gt].y);He.vertexLength+=Be.length,He.primitiveLength+=Be.length}const Ie=of.exports(be,Me);for(let Be=0;Be<Ie.length;Be+=3)this.indexArray.emplaceBack(ue+Ie[Be],ue+Ie[Be+1],ue+Ie[Be+2]);ie.vertexLength+=K,ie.primitiveLength+=Ie.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,d,v,T,p)}}qi(O0,"FillBucket",{omit:["layers","patternFeatures"]});const gb=new gn({"fill-sort-key":new ei(di.layout_fill["fill-sort-key"])});var _b={paint:new gn({"fill-antialias":new Ht(di.paint_fill["fill-antialias"]),"fill-opacity":new ei(di.paint_fill["fill-opacity"]),"fill-color":new ei(di.paint_fill["fill-color"]),"fill-outline-color":new ei(di.paint_fill["fill-outline-color"]),"fill-translate":new Ht(di.paint_fill["fill-translate"]),"fill-translate-anchor":new Ht(di.paint_fill["fill-translate-anchor"]),"fill-pattern":new ei(di.paint_fill["fill-pattern"])}),layout:gb};const yb=tn([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),vb=tn([{name:"a_centroid_pos",components:2,type:"Uint16"}]),xb=tn([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:bb}=yb;var R0={},wb=$,H_=Yu;function Yu(r,i,o,d,p){this.properties={},this.extent=o,this.type=0,this._pbf=r,this._geometry=-1,this._keys=d,this._values=p,r.readFields(W_,this,i)}function W_(r,i,o){r==1?i.id=o.readVarint():r==2?function(d,p){for(var v=d.readVarint()+d.pos;d.pos<v;){var T=p._keys[d.readVarint()],B=p._values[d.readVarint()];p.properties[T]=B}}(o,i):r==3?i.type=o.readVarint():r==4&&(i._geometry=o.pos)}function Y_(r){for(var i,o,d=0,p=0,v=r.length,T=v-1;p<v;T=p++)d+=((o=r[T]).x-(i=r[p]).x)*(i.y+o.y);return d}Yu.types=["Unknown","Point","LineString","Polygon"],Yu.prototype.loadGeometry=function(){var r=this._pbf;r.pos=this._geometry;for(var i,o=r.readVarint()+r.pos,d=1,p=0,v=0,T=0,B=[];r.pos<o;){if(p<=0){var K=r.readVarint();d=7&K,p=K>>3}if(p--,d===1||d===2)v+=r.readSVarint(),T+=r.readSVarint(),d===1&&(i&&B.push(i),i=[]),i.push(new wb(v,T));else{if(d!==7)throw new Error("unknown command "+d);i&&i.push(i[0].clone())}}return i&&B.push(i),B},Yu.prototype.bbox=function(){var r=this._pbf;r.pos=this._geometry;for(var i=r.readVarint()+r.pos,o=1,d=0,p=0,v=0,T=1/0,B=-1/0,K=1/0,ie=-1/0;r.pos<i;){if(d<=0){var ue=r.readVarint();o=7&ue,d=ue>>3}if(d--,o===1||o===2)(p+=r.readSVarint())<T&&(T=p),p>B&&(B=p),(v+=r.readSVarint())<K&&(K=v),v>ie&&(ie=v);else if(o!==7)throw new Error("unknown command "+o)}return[T,K,B,ie]},Yu.prototype.toGeoJSON=function(r,i,o){var d,p,v=this.extent*Math.pow(2,o),T=this.extent*r,B=this.extent*i,K=this.loadGeometry(),ie=Yu.types[this.type];function ue(Ie){for(var Be=0;Be<Ie.length;Be++){var He=Ie[Be];Ie[Be]=[360*(He.x+T)/v-180,360/Math.PI*Math.atan(Math.exp((180-360*(He.y+B)/v)*Math.PI/180))-90]}}switch(this.type){case 1:var be=[];for(d=0;d<K.length;d++)be[d]=K[d][0];ue(K=be);break;case 2:for(d=0;d<K.length;d++)ue(K[d]);break;case 3:for(K=function(Ie){var Be=Ie.length;if(Be<=1)return[Ie];for(var He,tt,gt=[],Pt=0;Pt<Be;Pt++){var mt=Y_(Ie[Pt]);mt!==0&&(tt===void 0&&(tt=mt<0),tt===mt<0?(He&&gt.push(He),He=[Ie[Pt]]):He.push(Ie[Pt]))}return He&&gt.push(He),gt}(K),d=0;d<K.length;d++)for(p=0;p<K[d].length;p++)ue(K[d][p])}K.length===1?K=K[0]:ie="Multi"+ie;var Me={type:"Feature",geometry:{type:ie,coordinates:K},properties:this.properties};return"id"in this&&(Me.id=this.id),Me};var Sb=H_,q_=X_;function X_(r,i){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=r,this._keys=[],this._values=[],this._features=[],r.readFields(Tb,this,i),this.length=this._features.length}function Tb(r,i,o){r===15?i.version=o.readVarint():r===1?i.name=o.readString():r===5?i.extent=o.readVarint():r===2?i._features.push(o.pos):r===3?i._keys.push(o.readString()):r===4&&i._values.push(function(d){for(var p=null,v=d.readVarint()+d.pos;d.pos<v;){var T=d.readVarint()>>3;p=T===1?d.readString():T===2?d.readFloat():T===3?d.readDouble():T===4?d.readVarint64():T===5?d.readVarint():T===6?d.readSVarint():T===7?d.readBoolean():null}return p}(o))}X_.prototype.feature=function(r){if(r<0||r>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[r];var i=this._pbf.readVarint()+this._pbf.pos;return new Sb(this._pbf,i,this.extent,this._keys,this._values)};var B0=q_;function Cb(r,i,o){if(r===3){var d=new B0(o,o.readVarint()+o.pos);d.length&&(i[d.name]=d)}}var Ig=R0.VectorTile=function(r,i){this.layers=r.readFields(Cb,{},i)},z0=R0.VectorTileFeature=H_;function N0(r,i,o,d){const p=[],v=d===0?(T,B,K,ie,ue,be)=>{T.push(new $(be,K+(be-B)/(ie-B)*(ue-K)))}:(T,B,K,ie,ue,be)=>{T.push(new $(B+(be-K)/(ue-K)*(ie-B),be))};for(const T of r){const B=[];for(const K of T){if(K.length<=2)continue;const ie=[];for(let Me=0;Me<K.length-1;Me++){const Ie=K[Me].x,Be=K[Me].y,He=K[Me+1].x,tt=K[Me+1].y,gt=d===0?Ie:Be,Pt=d===0?He:tt;gt<i?Pt>i&&v(ie,Ie,Be,He,tt,i):gt>o?Pt<o&&v(ie,Ie,Be,He,tt,o):ie.push(K[Me]),Pt<i&&gt>=i&&v(ie,Ie,Be,He,tt,i),Pt>o&&gt<=o&&v(ie,Ie,Be,He,tt,o)}let ue=K[K.length-1];const be=d===0?ue.x:ue.y;be>=i&&be<=o&&ie.push(ue),ie.length&&(ue=ie[ie.length-1],ie[0].x===ue.x&&ie[0].y===ue.y||ie.push(ie[0]),B.push(ie))}B.length&&p.push(B)}return p}R0.VectorTileLayer=q_;const Eb=z0.types,Mb=Math.pow(2,13);function df(r,i,o,d,p,v,T,B){r.emplaceBack((i<<1)+T,(o<<1)+v,(Math.floor(d*Mb)<<1)+p,Math.round(B))}function hf(r,i,o){r.emplaceBack(i.x,i.y,i.z,o[0]*16384,o[1]*16384,o[2]*16384)}class Z_{constructor(){this.acc=new $(0,0),this.polyCount=[]}startRing(i){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new $(i.x,i.y),this.max=new $(i.x,i.y))}append(i,o){this.currentPolyCount.edges++,this.acc._add(i);const d=this.min,p=this.max;i.x<d.x?d.x=i.x:i.x>p.x&&(p.x=i.x),i.y<d.y?d.y=i.y:i.y>p.y&&(p.y=i.y),((i.x===0||i.x===Tn)&&i.x===o.x)!=((i.y===0||i.y===Tn)&&i.y===o.y)&&this.processBorderOverlap(i,o),o.x<0!=i.x<0&&this.addBorderIntersection(0,zn(o.y,i.y,(0-o.x)/(i.x-o.x))),o.x>Tn!=i.x>Tn&&this.addBorderIntersection(1,zn(o.y,i.y,(Tn-o.x)/(i.x-o.x))),o.y<0!=i.y<0&&this.addBorderIntersection(2,zn(o.x,i.x,(0-o.y)/(i.y-o.y))),o.y>Tn!=i.y>Tn&&this.addBorderIntersection(3,zn(o.x,i.x,(Tn-o.y)/(i.y-o.y)))}addBorderIntersection(i,o){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const d=this.borders[i];o<d[0]&&(d[0]=o),o>d[1]&&(d[1]=o)}processBorderOverlap(i,o){if(i.x===o.x){if(i.y===o.y)return;const d=i.x===0?0:1;this.addBorderIntersection(d,o.y),this.addBorderIntersection(d,i.y)}else{const d=i.y===0?2:3;this.addBorderIntersection(d,o.x),this.addBorderIntersection(d,i.x)}}centroid(){const i=this.polyCount.reduce((o,d)=>o+d.edges,0);return i!==0?this.acc.div(i)._round():new $(0,0)}span(){return new $(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((i,o)=>i+ +(o[0]!==Number.MAX_VALUE),0)}}class uf{constructor(i){this.zoom=i.zoom,this.canonical=i.canonical,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(o=>o.id),this.index=i.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=i.projection,this.layoutVertexArray=new Us,this.centroidVertexArray=new x0,this.indexArray=new Lo,this.programConfigurations=new ad(i.layers,i.zoom),this.segments=new Qr,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id),this.enableTerrain=i.enableTerrain}populate(i,o,d,p){this.features=[],this.hasPattern=Pg("fill-extrusion",this.layers,o),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(v){const T=Math.exp(Math.PI*(1-v.y/(1<<v.z)*2));return 80150034*T/(T*T+1)/Tn/(1<<v.z)}(d),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:v,id:T,index:B,sourceLayerIndex:K}of i){const ie=this.layers[0]._featureFilter.needGeometry,ue=ld(v,ie);if(!this.layers[0]._featureFilter.filter(new Vt(this.zoom),ue,d))continue;const be={id:T,sourceLayerIndex:K,index:B,geometry:ie?ue.geometry:Ac(v,d,p),properties:v.properties,type:v.type,patterns:{}},Me=this.layoutVertexArray.length;this.hasPattern?this.features.push(Dg("fill-extrusion",this.layers,be,this.zoom,o)):this.addFeature(be,be.geometry,B,d,{},o.availableImages,p),o.featureIndex.insert(v,be.geometry,B,K,this.index,Me)}this.sortBorders()}addFeatures(i,o,d,p,v){for(const T of this.features){const{geometry:B}=T;this.addFeature(T,B,T.index,o,d,p,v)}this.sortBorders()}update(i,o,d,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,o,this.stateDependentLayers,d,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,bb),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=i.createVertexBuffer(this.layoutVertexExtArray,xb.members,!0))),this.programConfigurations.upload(i),this.uploaded=!0}uploadCentroid(i){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=i.createVertexBuffer(this.centroidVertexArray,vb.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(i,o,d,p,v,T,B){const K=[new $(0,0),new $(Tn,Tn)],ie=B.projection,ue=ie.name==="globe",be=this.enableTerrain&&!ue?new Z_:null,Me=Eb[i.type]==="Polygon";ue&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new tr);const Ie=kg(o,500);for(let gt=Ie.length-1;gt>=0;gt--){const Pt=Ie[gt];(Pt.length===0||(Be=Pt[0]).every(mt=>mt.x<=0)||Be.every(mt=>mt.x>=Tn)||Be.every(mt=>mt.y<=0)||Be.every(mt=>mt.y>=Tn))&&Ie.splice(gt,1)}var Be;let He;if(ue)He=Bg(Ie,K,p);else{He=[];for(const gt of Ie)He.push({polygon:gt,bounds:K})}const tt=Me?this.edgeRadius:0;for(const{polygon:gt,bounds:Pt}of He){let mt=0,wt=0;for(const Dt of gt)Me&&!Dt[0].equals(Dt[Dt.length-1])&&Dt.push(Dt[0]),wt+=Me?Dt.length-1:Dt.length;const Ot=this.segments.prepareSegment((Me?5:4)*wt,this.layoutVertexArray,this.indexArray);if(Me){const Dt=[],Jt=[];mt=Ot.vertexLength;for(const fi of gt){let zi,si;fi.length&&fi!==gt[0]&&Jt.push(Dt.length/2),zi=fi[1].sub(fi[0])._perp()._unit();for(let yi=1;yi<fi.length;yi++){const xi=fi[yi],ki=fi[yi===fi.length-1?1:yi+1];let{x:Ni,y:oi}=xi;if(tt){si=ki.sub(xi)._perp()._unit();const Wi=zi.add(si)._unit(),Mn=tt*Math.min(4,1/(zi.x*Wi.x+zi.y*Wi.y));Ni+=Mn*Wi.x,oi+=Mn*Wi.y,zi=si}df(this.layoutVertexArray,Ni,oi,0,0,1,1,0),Ot.vertexLength++,Dt.push(xi.x,xi.y),ue&&hf(this.layoutVertexExtArray,ie.projectTilePoint(Ni,oi,p),ie.upVector(p,Ni,oi))}}const Kt=of.exports(Dt,Jt);for(let fi=0;fi<Kt.length;fi+=3)this.indexArray.emplaceBack(mt+Kt[fi],mt+Kt[fi+2],mt+Kt[fi+1]),Ot.primitiveLength++}for(const Dt of gt){be&&Dt.length&&be.startRing(Dt[0]);let Jt,Kt,fi,zi=Dt.length>4&&Og(Dt[Dt.length-2],Dt[0],Dt[1]),si=tt?F0(Dt[Dt.length-2],Dt[0],Dt[1],tt):0;Kt=Dt[1].sub(Dt[0])._perp()._unit();let yi=!0;for(let xi=1,ki=0;xi<Dt.length;xi++){let Ni=Dt[xi-1],oi=Dt[xi];const Wi=Dt[xi===Dt.length-1?1:xi+1];if(be&&Me&&be.currentPolyCount.top++,Lg(oi,Ni,Pt)){tt&&(Kt=Wi.sub(oi)._perp()._unit(),yi=!yi);continue}be&&be.append(oi,Ni);const Mn=oi.sub(Ni)._perp(),Ji=Mn.x/(Math.abs(Mn.x)+Math.abs(Mn.y)),fn=Mn.y>0?1:0,Yi=Ni.dist(oi);if(ki+Yi>32768&&(ki=0),tt){fi=Wi.sub(oi)._perp()._unit();let as=J_(Ni,oi,Wi,K_(Kt,fi),tt);isNaN(as)&&(as=0);const Ln=oi.sub(Ni)._unit();Ni=Ni.add(Ln.mult(si))._round(),oi=oi.add(Ln.mult(-as))._round(),si=as,Kt=fi}const In=Ot.vertexLength,fs=Dt.length>4&&Og(Ni,oi,Wi);let ds=j0(ki,zi,yi);if(df(this.layoutVertexArray,Ni.x,Ni.y,Ji,fn,0,0,ds),df(this.layoutVertexArray,Ni.x,Ni.y,Ji,fn,0,1,ds),ki+=Yi,ds=j0(ki,fs,!yi),zi=fs,df(this.layoutVertexArray,oi.x,oi.y,Ji,fn,0,0,ds),df(this.layoutVertexArray,oi.x,oi.y,Ji,fn,0,1,ds),Ot.vertexLength+=4,this.indexArray.emplaceBack(In+0,In+1,In+2),this.indexArray.emplaceBack(In+1,In+3,In+2),Ot.primitiveLength+=2,tt){const as=mt+(xi===1?Dt.length-2:xi-2),Ln=xi===1?mt:as+1;if(this.indexArray.emplaceBack(In+1,as,In+3),this.indexArray.emplaceBack(as,Ln,In+3),Ot.primitiveLength+=2,Jt===void 0&&(Jt=In),!Lg(Wi,Dt[xi],Pt)){const Ys=xi===Dt.length-1?Jt:Ot.vertexLength;this.indexArray.emplaceBack(In+2,In+3,Ys),this.indexArray.emplaceBack(In+3,Ys+1,Ys),this.indexArray.emplaceBack(In+3,Ln,Ys+1),Ot.primitiveLength+=3}yi=!yi}if(ue){const as=this.layoutVertexExtArray,Ln=ie.projectTilePoint(Ni.x,Ni.y,p),Ys=ie.projectTilePoint(oi.x,oi.y,p),Yn=ie.upVector(p,Ni.x,Ni.y),ms=ie.upVector(p,oi.x,oi.y);hf(as,Ln,Yn),hf(as,Ln,Yn),hf(as,Ys,ms),hf(as,Ys,ms)}}Me&&(mt+=Dt.length-1)}}if(be&&be.polyCount.length>0){if(be.borders){be.vertexArrayOffset=this.centroidVertexArray.length;const gt=be.borders,Pt=this.featuresOnBorder.push(be)-1;for(let mt=0;mt<4;mt++)gt[mt][0]!==Number.MAX_VALUE&&this.borders[mt].push(Pt)}this.encodeCentroid(be.borders?void 0:be.centroid(),be)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,d,v,T,p)}sortBorders(){for(let i=0;i<4;i++)this.borders[i].sort((o,d)=>this.featuresOnBorder[o].borders[i][0]-this.featuresOnBorder[d].borders[i][0])}encodeCentroid(i,o,d=!0){let p,v;if(i)if(i.y!==0){const B=o.span()._mult(this.tileToMeter);p=(Math.max(i.x,1)<<3)+Math.min(7,Math.round(B.x/10)),v=(Math.max(i.y,1)<<3)+Math.min(7,Math.round(B.y/10))}else p=Math.ceil(7*(i.x+450)),v=0;else p=0,v=+d;let T=d?this.centroidVertexArray.length:o.vertexArrayOffset;for(const B of o.polyCount){d&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*B.edges+B.top);for(let K=0;K<B.top;K++)this.centroidVertexArray.emplace(T++,p,v);for(let K=0;K<2*B.edges;K++)this.centroidVertexArray.emplace(T++,0,v),this.centroidVertexArray.emplace(T++,p,v)}}}function K_(r,i){const o=r.add(i)._unit();return r.x*o.x+r.y*o.y}function F0(r,i,o,d){const p=i.sub(r)._perp()._unit(),v=o.sub(i)._perp()._unit();return J_(r,i,o,K_(p,v),d)}function J_(r,i,o,d,p){const v=Math.sqrt(1-d*d);return Math.min(r.dist(i)/3,i.dist(o)/3,p*v/d)}function Lg(r,i,o){return r.x<o[0].x&&i.x<o[0].x||r.x>o[1].x&&i.x>o[1].x||r.y<o[0].y&&i.y<o[0].y||r.y>o[1].y&&i.y>o[1].y}function Og(r,i,o){if(r.x<0||r.x>=Tn||i.x<0||i.x>=Tn||o.x<0||o.x>=Tn)return!1;const d=o.sub(i),p=d.perp(),v=r.sub(i);return(d.x*v.x+d.y*v.y)/Math.sqrt((d.x*d.x+d.y*d.y)*(v.x*v.x+v.y*v.y))>-.866&&p.x*v.x+p.y*v.y<0}function j0(r,i,o){const d=i?2|r:-3&r;return o?1|d:-2&d}function Rg(){const r=Math.PI/32,i=Math.tan(r),o=Gh;return o*Math.sqrt(1+2*i*i)-o}function Bg(r,i,o){const d=1<<o.z,p=Ba(o.x/d),v=Ba((o.x+1)/d),T=Wo(o.y/d),B=Wo((o.y+1)/d);return function(K,ie,ue,be,Me=0,Ie){const Be=[];if(!K.length||!ue||!be)return Be;const He=(Dt,Jt)=>{for(const Kt of Dt)Be.push({polygon:Kt,bounds:Jt})},tt=Math.ceil(Math.log2(ue)),gt=Math.ceil(Math.log2(be)),Pt=tt-gt,mt=[];for(let Dt=0;Dt<Math.abs(Pt);Dt++)mt.push(Pt>0?0:1);for(let Dt=0;Dt<Math.min(tt,gt);Dt++)mt.push(0),mt.push(1);let wt=K;if(wt=N0(wt,ie[0].y-Me,ie[1].y+Me,1),wt=N0(wt,ie[0].x-Me,ie[1].x+Me,0),!wt.length)return Be;const Ot=[];for(mt.length?Ot.push({polygons:wt,bounds:ie,depth:0}):He(wt,ie);Ot.length;){const Dt=Ot.pop(),Jt=Dt.depth,Kt=mt[Jt],fi=Dt.bounds[0],zi=Dt.bounds[1],si=Kt===0?fi.x:fi.y,yi=Kt===0?zi.x:zi.y,xi=Ie?Ie(Kt,si,yi):.5*(si+yi),ki=N0(Dt.polygons,si-Me,xi+Me,Kt),Ni=N0(Dt.polygons,xi-Me,yi+Me,Kt);if(ki.length){const oi=[fi,new $(Kt===0?xi:zi.x,Kt===1?xi:zi.y)];mt.length>Jt+1?Ot.push({polygons:ki,bounds:oi,depth:Jt+1}):He(ki,oi)}if(Ni.length){const oi=[new $(Kt===0?xi:fi.x,Kt===1?xi:fi.y),zi];mt.length>Jt+1?Ot.push({polygons:Ni,bounds:oi,depth:Jt+1}):He(Ni,oi)}}return Be}(r,i,Math.ceil((v-p)/11.25),Math.ceil((T-B)/11.25),1,(K,ie,ue)=>{if(K===0)return .5*(ie+ue);{const be=Wo((o.y+ie/Tn)/d);return(Ll(.5*(Wo((o.y+ue/Tn)/d)+be))*d-o.y)*Tn}})}qi(uf,"FillExtrusionBucket",{omit:["layers","features"]}),qi(Z_,"PartMetadata");const Q_=new gn({"fill-extrusion-edge-radius":new Ht(di["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var ey={paint:new gn({"fill-extrusion-opacity":new Ht(di["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ei(di["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Ht(di["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Ht(di["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ei(di["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ei(di["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ei(di["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Ht(di["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Ht(di["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Ht(di["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:Q_};function ty(r,i,o){var d=2*Math.PI*6378137/256/Math.pow(2,o);return[r*d-2*Math.PI*6378137/2,i*d-2*Math.PI*6378137/2]}class U0{constructor(i,o,d){this.z=i,this.x=o,this.y=d,this.key=mh(0,i,i,o,d)}equals(i){return this.z===i.z&&this.x===i.x&&this.y===i.y}url(i,o){const d=function(v,T,B){var K=ty(256*v,256*(T=Math.pow(2,B)-T-1),B),ie=ty(256*(v+1),256*(T+1),B);return K[0]+","+K[1]+","+ie[0]+","+ie[1]}(this.x,this.y,this.z),p=function(v,T,B){let K,ie="";for(let ue=v;ue>0;ue--)K=1<<ue-1,ie+=(T&K?1:0)+(B&K?2:0);return ie}(this.z,this.x,this.y);return i[(this.x+this.y)%i.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(o==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",p).replace("{bbox-epsg-3857}",d)}toString(){return`${this.z}/${this.x}/${this.y}`}}class iy{constructor(i,o){this.wrap=i,this.canonical=o,this.key=mh(i,o.z,o.z,o.x,o.y)}}class Oo{constructor(i,o,d,p,v){this.overscaledZ=i,this.wrap=o,this.canonical=new U0(d,+p,+v),this.key=o===0&&i===d?this.canonical.key:mh(o,i,d,p,v)}equals(i){return this.overscaledZ===i.overscaledZ&&this.wrap===i.wrap&&this.canonical.equals(i.canonical)}scaledTo(i){const o=this.canonical.z-i;return i>this.canonical.z?new Oo(i,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Oo(i,this.wrap,i,this.canonical.x>>o,this.canonical.y>>o)}calculateScaledKey(i,o=!0){if(this.overscaledZ===i&&o)return this.key;if(i>this.canonical.z)return mh(this.wrap*+o,i,this.canonical.z,this.canonical.x,this.canonical.y);{const d=this.canonical.z-i;return mh(this.wrap*+o,i,i,this.canonical.x>>d,this.canonical.y>>d)}}isChildOf(i){if(i.wrap!==this.wrap)return!1;const o=this.canonical.z-i.canonical.z;return i.overscaledZ===0||i.overscaledZ<this.overscaledZ&&i.canonical.x===this.canonical.x>>o&&i.canonical.y===this.canonical.y>>o}children(i){if(this.overscaledZ>=i)return[new Oo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const o=this.canonical.z+1,d=2*this.canonical.x,p=2*this.canonical.y;return[new Oo(o,this.wrap,o,d,p),new Oo(o,this.wrap,o,d+1,p),new Oo(o,this.wrap,o,d,p+1),new Oo(o,this.wrap,o,d+1,p+1)]}isLessThan(i){return this.wrap<i.wrap||!(this.wrap>i.wrap)&&(this.overscaledZ<i.overscaledZ||!(this.overscaledZ>i.overscaledZ)&&(this.canonical.x<i.canonical.x||!(this.canonical.x>i.canonical.x)&&this.canonical.y<i.canonical.y))}wrapped(){return new Oo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(i){return new Oo(this.overscaledZ,i,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new iy(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function mh(r,i,o,d,p){const v=1<<Math.min(o,22);let T=v*(p%v)+d%v;return r&&o<22&&(T+=v*v*((r<0?-2*r-1:2*r)%(1<<2*(22-o)))),16*(32*T+o)+(i-o)}qi(U0,"CanonicalTileID"),qi(Oo,"OverscaledTileID",{omit:["projMatrix"]});class qu extends ${constructor(i,o,d){super(i,o),this.z=d}}function pf(r,i){return r.x*i.x+r.y*i.y}function $0(r,i){if(r.length===1){let o=0;const d=i[o++];let p;for(;!p||d.equals(p);)if(p=i[o++],!p)return 1/0;for(;o<i.length;o++){const v=i[o],T=r[0],B=p.sub(d),K=v.sub(d),ie=T.sub(d),ue=pf(B,B),be=pf(B,K),Me=pf(K,K),Ie=pf(ie,B),Be=pf(ie,K),He=ue*Me-be*be,tt=(Me*Ie-be*Be)/He,gt=(ue*Be-be*Ie)/He,Pt=d.z*(1-tt-gt)+p.z*tt+v.z*gt;if(isFinite(Pt))return Pt}return 1/0}{let o=1/0;for(const d of i)o=Math.min(o,d.z);return o}}function zg(r,i,o,d,p,v,T,B){const K=T*p.getElevationAt(r,i,!0,!0),ie=v[0]!==0,ue=ie?v[1]===0?T*(v[0]/7-450):T*function(be,Me,Ie){const Be=Math.floor(Me[0]/8),He=Math.floor(Me[1]/8),tt=10*(Me[0]-8*Be),gt=10*(Me[1]-8*He),Pt=be.getElevationAt(Be,He,!0,!0),mt=be.getMeterToDEM(Ie),wt=Math.floor(.5*(tt*mt-1)),Ot=Math.floor(.5*(gt*mt-1)),Dt=be.tileCoordToPixel(Be,He),Jt=2*wt+1,Kt=2*Ot+1,fi=function(Ni,oi,Wi,Mn,Ji){return[Ni.getElevationAtPixel(oi,Wi,!0),Ni.getElevationAtPixel(oi+Ji,Wi,!0),Ni.getElevationAtPixel(oi,Wi+Ji,!0),Ni.getElevationAtPixel(oi+Mn,Wi+Ji,!0)]}(be,Dt.x-wt,Dt.y-Ot,Jt,Kt),zi=Math.abs(fi[0]-fi[1]),si=Math.abs(fi[2]-fi[3]),yi=Math.abs(fi[0]-fi[2])+Math.abs(fi[1]-fi[3]),xi=Math.min(.25,.5*mt*(zi+si)/Jt),ki=Math.min(.25,.5*mt*yi/Kt);return Pt+Math.max(xi*tt,ki*gt)}(p,v,B):K;return{base:K+(o===0)?-1:o,top:ie?Math.max(ue+d,K+o+2):K+d}}const Ab=tn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:kb}=Ab,Pb=tn([{name:"a_packed",components:4,type:"Float32"}]),{members:Db}=Pb,Ib=z0.types,Lb=Math.cos(Math.PI/180*37.5);class G0{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(o=>o.id),this.index=i.index,this.projection=i.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(o=>{this.gradients[o.id]={}}),this.layoutVertexArray=new va,this.layoutVertexArray2=new ta,this.indexArray=new Lo,this.programConfigurations=new ad(i.layers,i.zoom),this.segments=new Qr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id)}populate(i,o,d,p){this.hasPattern=Pg("line",this.layers,o);const v=this.layers[0].layout.get("line-sort-key"),T=[];for(const{feature:ue,id:be,index:Me,sourceLayerIndex:Ie}of i){const Be=this.layers[0]._featureFilter.needGeometry,He=ld(ue,Be);if(!this.layers[0]._featureFilter.filter(new Vt(this.zoom),He,d))continue;const tt=v?v.evaluate(He,{},d):void 0,gt={id:be,properties:ue.properties,type:ue.type,sourceLayerIndex:Ie,index:Me,geometry:Be?He.geometry:Ac(ue,d,p),patterns:{},sortKey:tt};T.push(gt)}v&&T.sort((ue,be)=>ue.sortKey-be.sortKey);const{lineAtlas:B,featureIndex:K}=o,ie=this.addConstantDashes(B);for(const ue of T){const{geometry:be,index:Me,sourceLayerIndex:Ie}=ue;if(ie&&this.addFeatureDashes(ue,B),this.hasPattern){const Be=Dg("line",this.layers,ue,this.zoom,o);this.patternFeatures.push(Be)}else this.addFeature(ue,be,Me,d,B.positions,o.availableImages);K.insert(i[Me].feature,be,Me,Ie,this.index)}}addConstantDashes(i){let o=!1;for(const d of this.layers){const p=d.paint.get("line-dasharray").value,v=d.layout.get("line-cap").value;if(p.kind!=="constant"||v.kind!=="constant")o=!0;else{const T=v.value,B=p.value;if(!B)continue;i.addDash(B,T)}}return o}addFeatureDashes(i,o){const d=this.zoom;for(const p of this.layers){const v=p.paint.get("line-dasharray").value,T=p.layout.get("line-cap").value;if(v.kind==="constant"&&T.kind==="constant")continue;let B,K;if(v.kind==="constant"){if(B=v.value,!B)continue}else B=v.evaluate({zoom:d},i);K=T.kind==="constant"?T.value:T.evaluate({zoom:d},i),o.addDash(B,K),i.patterns[p.id]=o.getKey(B,K)}}update(i,o,d,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,o,this.stateDependentLayers,d,p)}addFeatures(i,o,d,p,v){for(const T of this.patternFeatures)this.addFeature(T,T.geometry,T.index,o,d,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=i.createVertexBuffer(this.layoutVertexArray2,Db)),this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,kb),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(i){if(i.properties&&i.properties.hasOwnProperty("mapbox_clip_start")&&i.properties.hasOwnProperty("mapbox_clip_end"))return{start:+i.properties.mapbox_clip_start,end:+i.properties.mapbox_clip_end}}addFeature(i,o,d,p,v,T){const B=this.layers[0].layout,K=B.get("line-join").evaluate(i,{}),ie=B.get("line-cap").evaluate(i,{}),ue=B.get("line-miter-limit"),be=B.get("line-round-limit");this.lineClips=this.lineFeatureClips(i);for(const Me of o)this.addLine(Me,i,K,ie,ue,be);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,d,v,T,p)}addLine(i,o,d,p,v,T){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let gt=0;gt<i.length-1;gt++)this.totalDistance+=i[gt].dist(i[gt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const B=Ib[o.type]==="Polygon";let K=i.length;for(;K>=2&&i[K-1].equals(i[K-2]);)K--;let ie=0;for(;ie<K-1&&i[ie].equals(i[ie+1]);)ie++;if(K<(B?3:2))return;d==="bevel"&&(v=1.05);const ue=this.overscaling<=16?122880/(512*this.overscaling):0,be=this.segments.prepareSegment(10*K,this.layoutVertexArray,this.indexArray);let Me,Ie,Be,He,tt;this.e1=this.e2=-1,B&&(Me=i[K-2],tt=i[ie].sub(Me)._unit()._perp());for(let gt=ie;gt<K;gt++){if(Be=gt===K-1?B?i[ie+1]:void 0:i[gt+1],Be&&i[gt].equals(Be))continue;tt&&(He=tt),Me&&(Ie=Me),Me=i[gt],tt=Be?Be.sub(Me)._unit()._perp():He,He=He||tt;let Pt=He.add(tt);Pt.x===0&&Pt.y===0||Pt._unit();const mt=He.x*tt.x+He.y*tt.y,wt=Pt.x*tt.x+Pt.y*tt.y,Ot=wt!==0?1/wt:1/0,Dt=2*Math.sqrt(2-2*wt),Jt=wt<Lb&&Ie&&Be,Kt=He.x*tt.y-He.y*tt.x>0;if(Jt&&gt>ie){const si=Me.dist(Ie);if(si>2*ue){const yi=Me.sub(Me.sub(Ie)._mult(ue/si)._round());this.updateDistance(Ie,yi),this.addCurrentVertex(yi,He,0,0,be),Ie=yi}}const fi=Ie&&Be;let zi=fi?d:B?"butt":p;if(fi&&zi==="round"&&(Ot<T?zi="miter":Ot<=2&&(zi="fakeround")),zi==="miter"&&Ot>v&&(zi="bevel"),zi==="bevel"&&(Ot>2&&(zi="flipbevel"),Ot<v&&(zi="miter")),Ie&&this.updateDistance(Ie,Me),zi==="miter")Pt._mult(Ot),this.addCurrentVertex(Me,Pt,0,0,be);else if(zi==="flipbevel"){if(Ot>100)Pt=tt.mult(-1);else{const si=Ot*He.add(tt).mag()/He.sub(tt).mag();Pt._perp()._mult(si*(Kt?-1:1))}this.addCurrentVertex(Me,Pt,0,0,be),this.addCurrentVertex(Me,Pt.mult(-1),0,0,be)}else if(zi==="bevel"||zi==="fakeround"){const si=-Math.sqrt(Ot*Ot-1),yi=Kt?si:0,xi=Kt?0:si;if(Ie&&this.addCurrentVertex(Me,He,yi,xi,be),zi==="fakeround"){const ki=Math.round(180*Dt/Math.PI/20);for(let Ni=1;Ni<ki;Ni++){let oi=Ni/ki;if(oi!==.5){const Mn=oi-.5;oi+=oi*Mn*(oi-1)*((1.0904+mt*(mt*(3.55645-1.43519*mt)-3.2452))*Mn*Mn+(.848013+mt*(.215638*mt-1.06021)))}const Wi=tt.sub(He)._mult(oi)._add(He)._unit()._mult(Kt?-1:1);this.addHalfVertex(Me,Wi.x,Wi.y,!1,Kt,0,be)}}Be&&this.addCurrentVertex(Me,tt,-yi,-xi,be)}else if(zi==="butt")this.addCurrentVertex(Me,Pt,0,0,be);else if(zi==="square"){const si=Ie?1:-1;Ie||this.addCurrentVertex(Me,Pt,si,si,be),this.addCurrentVertex(Me,Pt,0,0,be),Ie&&this.addCurrentVertex(Me,Pt,si,si,be)}else zi==="round"&&(Ie&&(this.addCurrentVertex(Me,He,0,0,be),this.addCurrentVertex(Me,He,1,1,be,!0)),Be&&(this.addCurrentVertex(Me,tt,-1,-1,be,!0),this.addCurrentVertex(Me,tt,0,0,be)));if(Jt&&gt<K-1){const si=Me.dist(Be);if(si>2*ue){const yi=Me.add(Be.sub(Me)._mult(ue/si)._round());this.updateDistance(Me,yi),this.addCurrentVertex(yi,tt,0,0,be),Me=yi}}}}addCurrentVertex(i,o,d,p,v,T=!1){const B=o.y*p-o.x,K=-o.y-o.x*p;this.addHalfVertex(i,o.x+o.y*d,o.y-o.x*d,T,!1,d,v),this.addHalfVertex(i,B,K,T,!0,-p,v)}addHalfVertex({x:i,y:o},d,p,v,T,B,K){this.layoutVertexArray.emplaceBack((i<<1)+(v?1:0),(o<<1)+(T?1:0),Math.round(63*d)+128,Math.round(63*p)+128,1+(B===0?0:B<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const ie=K.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,ie),K.primitiveLength++),T?this.e2=ie:this.e1=ie}updateScaledDistance(){if(this.lineClips){const i=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=i*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(i,o){this.distance+=i.dist(o),this.updateScaledDistance()}}qi(G0,"LineBucket",{omit:["layers","patternFeatures"]});const Ob=new gn({"line-cap":new ei(di.layout_line["line-cap"]),"line-join":new ei(di.layout_line["line-join"]),"line-miter-limit":new Ht(di.layout_line["line-miter-limit"]),"line-round-limit":new Ht(di.layout_line["line-round-limit"]),"line-sort-key":new ei(di.layout_line["line-sort-key"])});var ny={paint:new gn({"line-opacity":new ei(di.paint_line["line-opacity"]),"line-color":new ei(di.paint_line["line-color"]),"line-translate":new Ht(di.paint_line["line-translate"]),"line-translate-anchor":new Ht(di.paint_line["line-translate-anchor"]),"line-width":new ei(di.paint_line["line-width"]),"line-gap-width":new ei(di.paint_line["line-gap-width"]),"line-offset":new ei(di.paint_line["line-offset"]),"line-blur":new ei(di.paint_line["line-blur"]),"line-dasharray":new ei(di.paint_line["line-dasharray"]),"line-pattern":new ei(di.paint_line["line-pattern"]),"line-gradient":new dn(di.paint_line["line-gradient"]),"line-trim-offset":new Ht(di.paint_line["line-trim-offset"])}),layout:Ob};const sy=new class extends ei{possiblyEvaluate(r,i){return i=new Vt(Math.floor(i.zoom),{now:i.now,fadeDuration:i.fadeDuration,transition:i.transition}),super.possiblyEvaluate(r,i)}evaluate(r,i,o,d){return i=Z({},i,{zoom:Math.floor(i.zoom)}),super.evaluate(r,i,o,d)}}(ny.paint.properties["line-width"].specification);function ry(r,i){return i>0?i+2*r:r}sy.useIntegerZoom=!0;const Rb=tn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Dc=tn([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),Bb=tn([{name:"a_projected_pos",components:4,type:"Float32"}],4);tn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const zb=tn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Jh=tn([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);tn([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const os=tn([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Nb=tn([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);tn([{name:"triangle",components:3,type:"Uint16"}]),tn([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),tn([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),tn([{type:"Float32",name:"offsetX"}]),tn([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var nr=24;const cr=128;function Ng(r,i){const{expression:o}=i;if(o.kind==="constant")return{kind:"constant",layoutSize:o.evaluate(new Vt(r+1))};if(o.kind==="source")return{kind:"source"};{const{zoomStops:d,interpolationType:p}=o;let v=0;for(;v<d.length&&d[v]<=r;)v++;v=Math.max(0,v-1);let T=v;for(;T<d.length&&d[T]<r+1;)T++;T=Math.min(d.length-1,T);const B=d[v],K=d[T];return o.kind==="composite"?{kind:"composite",minZoom:B,maxZoom:K,interpolationType:p}:{kind:"camera",minZoom:B,maxZoom:K,minSize:o.evaluate(new Vt(B)),maxSize:o.evaluate(new Vt(K)),interpolationType:p}}}function Ic(r,{uSize:i,uSizeT:o},{lowerSize:d,upperSize:p}){return r.kind==="source"?d/cr:r.kind==="composite"?zn(d/cr,p/cr,o):i}function Xu(r,i){let o=0,d=0;if(r.kind==="constant")d=r.layoutSize;else if(r.kind!=="source"){const{interpolationType:p,minZoom:v,maxZoom:T}=r,B=p?g(Qo.interpolationFactor(p,i,v,T),0,1):0;r.kind==="camera"?d=zn(r.minSize,r.maxSize,B):o=B}return{uSizeT:o,uSize:d}}var Fb=Object.freeze({__proto__:null,getSizeData:Ng,evaluateSizeForFeature:Ic,evaluateSizeForZoom:Xu,SIZE_PACK_FACTOR:cr});function jb(r,i,o){return r.sections.forEach(d=>{d.text=function(p,v,T){const B=v.layout.get("text-transform").evaluate(T,{});return B==="uppercase"?p=p.toLocaleUpperCase():B==="lowercase"&&(p=p.toLocaleLowerCase()),Zt.applyArabicShaping&&(p=Zt.applyArabicShaping(p)),p}(d.text,i,o)}),r}const ff={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function Ub(r){return r==="︶"||r==="﹈"||r==="︸"||r==="﹄"||r==="﹂"||r==="︾"||r==="︼"||r==="︺"||r==="︘"||r==="﹀"||r==="︐"||r==="︓"||r==="︔"||r==="｀"||r==="￣"||r==="︑"||r==="︒"}function Fg(r){return r==="︵"||r==="﹇"||r==="︷"||r==="﹃"||r==="﹁"||r==="︽"||r==="︻"||r==="︹"||r==="︗"||r==="︿"}var mf=Vs,hd=function(r,i,o,d,p){var v,T,B=8*p-d-1,K=(1<<B)-1,ie=K>>1,ue=-7,be=o?p-1:0,Me=o?-1:1,Ie=r[i+be];for(be+=Me,v=Ie&(1<<-ue)-1,Ie>>=-ue,ue+=B;ue>0;v=256*v+r[i+be],be+=Me,ue-=8);for(T=v&(1<<-ue)-1,v>>=-ue,ue+=d;ue>0;T=256*T+r[i+be],be+=Me,ue-=8);if(v===0)v=1-ie;else{if(v===K)return T?NaN:1/0*(Ie?-1:1);T+=Math.pow(2,d),v-=ie}return(Ie?-1:1)*T*Math.pow(2,v-d)},jg=function(r,i,o,d,p,v){var T,B,K,ie=8*v-p-1,ue=(1<<ie)-1,be=ue>>1,Me=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ie=d?0:v-1,Be=d?1:-1,He=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(B=isNaN(i)?1:0,T=ue):(T=Math.floor(Math.log(i)/Math.LN2),i*(K=Math.pow(2,-T))<1&&(T--,K*=2),(i+=T+be>=1?Me/K:Me*Math.pow(2,1-be))*K>=2&&(T++,K/=2),T+be>=ue?(B=0,T=ue):T+be>=1?(B=(i*K-1)*Math.pow(2,p),T+=be):(B=i*Math.pow(2,be-1)*Math.pow(2,p),T=0));p>=8;r[o+Ie]=255&B,Ie+=Be,B/=256,p-=8);for(T=T<<p|B,ie+=p;ie>0;r[o+Ie]=255&T,Ie+=Be,T/=256,ie-=8);r[o+Ie-Be]|=128*He};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function Vs(r){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(r)?r:new Uint8Array(r||0),this.pos=0,this.type=0,this.length=this.buf.length}Vs.Varint=0,Vs.Fixed64=1,Vs.Bytes=2,Vs.Fixed32=5;var Ur=4294967296,to=1/Ur,Ug=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Fd(r){return r.type===Vs.Bytes?r.readVarint()+r.pos:r.pos+1}function Zu(r,i,o){return o?4294967296*i+(r>>>0):4294967296*(i>>>0)+(r>>>0)}function oy(r,i,o){var d=i<=16383?1:i<=2097151?2:i<=268435455?3:Math.floor(Math.log(i)/(7*Math.LN2));o.realloc(d);for(var p=o.pos-1;p>=r;p--)o.buf[p+d]=o.buf[p]}function $b(r,i){for(var o=0;o<r.length;o++)i.writeVarint(r[o])}function Gb(r,i){for(var o=0;o<r.length;o++)i.writeSVarint(r[o])}function Vb(r,i){for(var o=0;o<r.length;o++)i.writeFloat(r[o])}function ay(r,i){for(var o=0;o<r.length;o++)i.writeDouble(r[o])}function gf(r,i){for(var o=0;o<r.length;o++)i.writeBoolean(r[o])}function $g(r,i){for(var o=0;o<r.length;o++)i.writeFixed32(r[o])}function Hb(r,i){for(var o=0;o<r.length;o++)i.writeSFixed32(r[o])}function ly(r,i){for(var o=0;o<r.length;o++)i.writeFixed64(r[o])}function V0(r,i){for(var o=0;o<r.length;o++)i.writeSFixed64(r[o])}function Ca(r,i){return(r[i]|r[i+1]<<8|r[i+2]<<16)+16777216*r[i+3]}function Lc(r,i,o){r[o]=i,r[o+1]=i>>>8,r[o+2]=i>>>16,r[o+3]=i>>>24}function cy(r,i){return(r[i]|r[i+1]<<8|r[i+2]<<16)+(r[i+3]<<24)}function Wb(r,i,o){i.glyphs=[],r===1&&o.readMessage(Yb,i)}function Yb(r,i,o){if(r===3){const{id:d,bitmap:p,width:v,height:T,left:B,top:K,advance:ie}=o.readMessage(qb,{});i.glyphs.push({id:d,bitmap:new Nd({width:v+6,height:T+6},p),metrics:{width:v,height:T,left:B,top:K,advance:ie}})}else r===4?i.ascender=o.readSVarint():r===5&&(i.descender=o.readSVarint())}function qb(r,i,o){r===1?i.id=o.readVarint():r===2?i.bitmap=o.readBytes():r===3?i.width=o.readVarint():r===4?i.height=o.readVarint():r===5?i.left=o.readSVarint():r===6?i.top=o.readSVarint():r===7&&(i.advance=o.readVarint())}function Gg(r){let i=0,o=0;for(const T of r)i+=T.w*T.h,o=Math.max(o,T.w);r.sort((T,B)=>B.h-T.h);const d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(i/.95)),o),h:1/0}];let p=0,v=0;for(const T of r)for(let B=d.length-1;B>=0;B--){const K=d[B];if(!(T.w>K.w||T.h>K.h)){if(T.x=K.x,T.y=K.y,v=Math.max(v,T.y+T.h),p=Math.max(p,T.x+T.w),T.w===K.w&&T.h===K.h){const ie=d.pop();B<d.length&&(d[B]=ie)}else T.h===K.h?(K.x+=T.w,K.w-=T.w):T.w===K.w?(K.y+=T.h,K.h-=T.h):(d.push({x:K.x+T.w,y:K.y,w:K.w-T.w,h:T.h}),K.y+=T.h,K.h-=T.h);break}}return{w:p,h:v,fill:i/(p*v)||0}}Vs.prototype={destroy:function(){this.buf=null},readFields:function(r,i,o){for(o=o||this.length;this.pos<o;){var d=this.readVarint(),p=d>>3,v=this.pos;this.type=7&d,r(p,i,this),this.pos===v&&this.skip(d)}return i},readMessage:function(r,i){return this.readFields(r,i,this.readVarint()+this.pos)},readFixed32:function(){var r=Ca(this.buf,this.pos);return this.pos+=4,r},readSFixed32:function(){var r=cy(this.buf,this.pos);return this.pos+=4,r},readFixed64:function(){var r=Ca(this.buf,this.pos)+Ca(this.buf,this.pos+4)*Ur;return this.pos+=8,r},readSFixed64:function(){var r=Ca(this.buf,this.pos)+cy(this.buf,this.pos+4)*Ur;return this.pos+=8,r},readFloat:function(){var r=hd(this.buf,this.pos,!0,23,4);return this.pos+=4,r},readDouble:function(){var r=hd(this.buf,this.pos,!0,52,8);return this.pos+=8,r},readVarint:function(r){var i,o,d=this.buf;return i=127&(o=d[this.pos++]),o<128?i:(i|=(127&(o=d[this.pos++]))<<7,o<128?i:(i|=(127&(o=d[this.pos++]))<<14,o<128?i:(i|=(127&(o=d[this.pos++]))<<21,o<128?i:function(p,v,T){var B,K,ie=T.buf;if(B=(112&(K=ie[T.pos++]))>>4,K<128||(B|=(127&(K=ie[T.pos++]))<<3,K<128)||(B|=(127&(K=ie[T.pos++]))<<10,K<128)||(B|=(127&(K=ie[T.pos++]))<<17,K<128)||(B|=(127&(K=ie[T.pos++]))<<24,K<128)||(B|=(1&(K=ie[T.pos++]))<<31,K<128))return Zu(p,B,v);throw new Error("Expected varint not more than 10 bytes")}(i|=(15&(o=d[this.pos]))<<28,r,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var r=this.readVarint();return r%2==1?(r+1)/-2:r/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var r=this.readVarint()+this.pos,i=this.pos;return this.pos=r,r-i>=12&&Ug?function(o,d,p){return Ug.decode(o.subarray(d,p))}(this.buf,i,r):function(o,d,p){for(var v="",T=d;T<p;){var B,K,ie,ue=o[T],be=null,Me=ue>239?4:ue>223?3:ue>191?2:1;if(T+Me>p)break;Me===1?ue<128&&(be=ue):Me===2?(192&(B=o[T+1]))==128&&(be=(31&ue)<<6|63&B)<=127&&(be=null):Me===3?(K=o[T+2],(192&(B=o[T+1]))==128&&(192&K)==128&&((be=(15&ue)<<12|(63&B)<<6|63&K)<=2047||be>=55296&&be<=57343)&&(be=null)):Me===4&&(K=o[T+2],ie=o[T+3],(192&(B=o[T+1]))==128&&(192&K)==128&&(192&ie)==128&&((be=(15&ue)<<18|(63&B)<<12|(63&K)<<6|63&ie)<=65535||be>=1114112)&&(be=null)),be===null?(be=65533,Me=1):be>65535&&(be-=65536,v+=String.fromCharCode(be>>>10&1023|55296),be=56320|1023&be),v+=String.fromCharCode(be),T+=Me}return v}(this.buf,i,r)},readBytes:function(){var r=this.readVarint()+this.pos,i=this.buf.subarray(this.pos,r);return this.pos=r,i},readPackedVarint:function(r,i){if(this.type!==Vs.Bytes)return r.push(this.readVarint(i));var o=Fd(this);for(r=r||[];this.pos<o;)r.push(this.readVarint(i));return r},readPackedSVarint:function(r){if(this.type!==Vs.Bytes)return r.push(this.readSVarint());var i=Fd(this);for(r=r||[];this.pos<i;)r.push(this.readSVarint());return r},readPackedBoolean:function(r){if(this.type!==Vs.Bytes)return r.push(this.readBoolean());var i=Fd(this);for(r=r||[];this.pos<i;)r.push(this.readBoolean());return r},readPackedFloat:function(r){if(this.type!==Vs.Bytes)return r.push(this.readFloat());var i=Fd(this);for(r=r||[];this.pos<i;)r.push(this.readFloat());return r},readPackedDouble:function(r){if(this.type!==Vs.Bytes)return r.push(this.readDouble());var i=Fd(this);for(r=r||[];this.pos<i;)r.push(this.readDouble());return r},readPackedFixed32:function(r){if(this.type!==Vs.Bytes)return r.push(this.readFixed32());var i=Fd(this);for(r=r||[];this.pos<i;)r.push(this.readFixed32());return r},readPackedSFixed32:function(r){if(this.type!==Vs.Bytes)return r.push(this.readSFixed32());var i=Fd(this);for(r=r||[];this.pos<i;)r.push(this.readSFixed32());return r},readPackedFixed64:function(r){if(this.type!==Vs.Bytes)return r.push(this.readFixed64());var i=Fd(this);for(r=r||[];this.pos<i;)r.push(this.readFixed64());return r},readPackedSFixed64:function(r){if(this.type!==Vs.Bytes)return r.push(this.readSFixed64());var i=Fd(this);for(r=r||[];this.pos<i;)r.push(this.readSFixed64());return r},skip:function(r){var i=7&r;if(i===Vs.Varint)for(;this.buf[this.pos++]>127;);else if(i===Vs.Bytes)this.pos=this.readVarint()+this.pos;else if(i===Vs.Fixed32)this.pos+=4;else{if(i!==Vs.Fixed64)throw new Error("Unimplemented type: "+i);this.pos+=8}},writeTag:function(r,i){this.writeVarint(r<<3|i)},realloc:function(r){for(var i=this.length||16;i<this.pos+r;)i*=2;if(i!==this.length){var o=new Uint8Array(i);o.set(this.buf),this.buf=o,this.length=i}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(r){this.realloc(4),Lc(this.buf,r,this.pos),this.pos+=4},writeSFixed32:function(r){this.realloc(4),Lc(this.buf,r,this.pos),this.pos+=4},writeFixed64:function(r){this.realloc(8),Lc(this.buf,-1&r,this.pos),Lc(this.buf,Math.floor(r*to),this.pos+4),this.pos+=8},writeSFixed64:function(r){this.realloc(8),Lc(this.buf,-1&r,this.pos),Lc(this.buf,Math.floor(r*to),this.pos+4),this.pos+=8},writeVarint:function(r){(r=+r||0)>268435455||r<0?function(i,o){var d,p;if(i>=0?(d=i%4294967296|0,p=i/4294967296|0):(p=~(-i/4294967296),4294967295^(d=~(-i%4294967296))?d=d+1|0:(d=0,p=p+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");o.realloc(10),function(v,T,B){B.buf[B.pos++]=127&v|128,v>>>=7,B.buf[B.pos++]=127&v|128,v>>>=7,B.buf[B.pos++]=127&v|128,v>>>=7,B.buf[B.pos++]=127&v|128,B.buf[B.pos]=127&(v>>>=7)}(d,0,o),function(v,T){var B=(7&v)<<4;T.buf[T.pos++]|=B|((v>>>=3)?128:0),v&&(T.buf[T.pos++]=127&v|((v>>>=7)?128:0),v&&(T.buf[T.pos++]=127&v|((v>>>=7)?128:0),v&&(T.buf[T.pos++]=127&v|((v>>>=7)?128:0),v&&(T.buf[T.pos++]=127&v|((v>>>=7)?128:0),v&&(T.buf[T.pos++]=127&v)))))}(p,o)}(r,this):(this.realloc(4),this.buf[this.pos++]=127&r|(r>127?128:0),r<=127||(this.buf[this.pos++]=127&(r>>>=7)|(r>127?128:0),r<=127||(this.buf[this.pos++]=127&(r>>>=7)|(r>127?128:0),r<=127||(this.buf[this.pos++]=r>>>7&127))))},writeSVarint:function(r){this.writeVarint(r<0?2*-r-1:2*r)},writeBoolean:function(r){this.writeVarint(!!r)},writeString:function(r){r=String(r),this.realloc(4*r.length),this.pos++;var i=this.pos;this.pos=function(d,p,v){for(var T,B,K=0;K<p.length;K++){if((T=p.charCodeAt(K))>55295&&T<57344){if(!B){T>56319||K+1===p.length?(d[v++]=239,d[v++]=191,d[v++]=189):B=T;continue}if(T<56320){d[v++]=239,d[v++]=191,d[v++]=189,B=T;continue}T=B-55296<<10|T-56320|65536,B=null}else B&&(d[v++]=239,d[v++]=191,d[v++]=189,B=null);T<128?d[v++]=T:(T<2048?d[v++]=T>>6|192:(T<65536?d[v++]=T>>12|224:(d[v++]=T>>18|240,d[v++]=T>>12&63|128),d[v++]=T>>6&63|128),d[v++]=63&T|128)}return v}(this.buf,r,this.pos);var o=this.pos-i;o>=128&&oy(i,o,this),this.pos=i-1,this.writeVarint(o),this.pos+=o},writeFloat:function(r){this.realloc(4),jg(this.buf,r,this.pos,!0,23,4),this.pos+=4},writeDouble:function(r){this.realloc(8),jg(this.buf,r,this.pos,!0,52,8),this.pos+=8},writeBytes:function(r){var i=r.length;this.writeVarint(i),this.realloc(i);for(var o=0;o<i;o++)this.buf[this.pos++]=r[o]},writeRawMessage:function(r,i){this.pos++;var o=this.pos;r(i,this);var d=this.pos-o;d>=128&&oy(o,d,this),this.pos=o-1,this.writeVarint(d),this.pos+=d},writeMessage:function(r,i,o){this.writeTag(r,Vs.Bytes),this.writeRawMessage(i,o)},writePackedVarint:function(r,i){i.length&&this.writeMessage(r,$b,i)},writePackedSVarint:function(r,i){i.length&&this.writeMessage(r,Gb,i)},writePackedBoolean:function(r,i){i.length&&this.writeMessage(r,gf,i)},writePackedFloat:function(r,i){i.length&&this.writeMessage(r,Vb,i)},writePackedDouble:function(r,i){i.length&&this.writeMessage(r,ay,i)},writePackedFixed32:function(r,i){i.length&&this.writeMessage(r,$g,i)},writePackedSFixed32:function(r,i){i.length&&this.writeMessage(r,Hb,i)},writePackedFixed64:function(r,i){i.length&&this.writeMessage(r,ly,i)},writePackedSFixed64:function(r,i){i.length&&this.writeMessage(r,V0,i)},writeBytesField:function(r,i){this.writeTag(r,Vs.Bytes),this.writeBytes(i)},writeFixed32Field:function(r,i){this.writeTag(r,Vs.Fixed32),this.writeFixed32(i)},writeSFixed32Field:function(r,i){this.writeTag(r,Vs.Fixed32),this.writeSFixed32(i)},writeFixed64Field:function(r,i){this.writeTag(r,Vs.Fixed64),this.writeFixed64(i)},writeSFixed64Field:function(r,i){this.writeTag(r,Vs.Fixed64),this.writeSFixed64(i)},writeVarintField:function(r,i){this.writeTag(r,Vs.Varint),this.writeVarint(i)},writeSVarintField:function(r,i){this.writeTag(r,Vs.Varint),this.writeSVarint(i)},writeStringField:function(r,i){this.writeTag(r,Vs.Bytes),this.writeString(i)},writeFloatField:function(r,i){this.writeTag(r,Vs.Fixed32),this.writeFloat(i)},writeDoubleField:function(r,i){this.writeTag(r,Vs.Fixed64),this.writeDouble(i)},writeBooleanField:function(r,i){this.writeVarintField(r,!!i)}};class H0{constructor(i,{pixelRatio:o,version:d,stretchX:p,stretchY:v,content:T}){this.paddedRect=i,this.pixelRatio=o,this.stretchX=p,this.stretchY=v,this.content=T,this.version=d}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class ud{constructor(i,o){const d={},p={};this.haveRenderCallbacks=[];const v=[];this.addImages(i,d,v),this.addImages(o,p,v);const{w:T,h:B}=Gg(v),K=new nl({width:T||1,height:B||1});for(const ie in i){const ue=i[ie],be=d[ie].paddedRect;nl.copy(ue.data,K,{x:0,y:0},{x:be.x+1,y:be.y+1},ue.data)}for(const ie in o){const ue=o[ie],be=p[ie].paddedRect,Me=be.x+1,Ie=be.y+1,Be=ue.data.width,He=ue.data.height;nl.copy(ue.data,K,{x:0,y:0},{x:Me,y:Ie},ue.data),nl.copy(ue.data,K,{x:0,y:He-1},{x:Me,y:Ie-1},{width:Be,height:1}),nl.copy(ue.data,K,{x:0,y:0},{x:Me,y:Ie+He},{width:Be,height:1}),nl.copy(ue.data,K,{x:Be-1,y:0},{x:Me-1,y:Ie},{width:1,height:He}),nl.copy(ue.data,K,{x:0,y:0},{x:Me+Be,y:Ie},{width:1,height:He})}this.image=K,this.iconPositions=d,this.patternPositions=p}addImages(i,o,d){for(const p in i){const v=i[p],T={x:0,y:0,w:v.data.width+2,h:v.data.height+2};d.push(T),o[p]=new H0(T,v),v.hasRenderCallback&&this.haveRenderCallbacks.push(p)}}patchUpdatedImages(i,o){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(d=>i.hasImage(d)),i.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const d in i.updatedImages)this.patchUpdatedImage(this.iconPositions[d],i.getImage(d),o),this.patchUpdatedImage(this.patternPositions[d],i.getImage(d),o)}patchUpdatedImage(i,o,d){if(!i||!o||i.version===o.version)return;i.version=o.version;const[p,v]=i.tl;d.update(o.data,void 0,{x:p,y:v})}}qi(H0,"ImagePosition"),qi(ud,"ImageAtlas");const jn={horizontal:1,vertical:2,horizontalOnly:3};class Ku{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(i,o){const d=new Ku;return d.scale=i||1,d.fontStack=o,d}static forImage(i){const o=new Ku;return o.imageName=i,o}}class ia{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(i,o){const d=new ia;for(let p=0;p<i.sections.length;p++){const v=i.sections[p];v.image?d.addImageSection(v):d.addTextSection(v,o)}return d}length(){return this.text.length}getSection(i){return this.sections[this.sectionIndex[i]]}getSections(){return this.sections}getSectionIndex(i){return this.sectionIndex[i]}getCharCode(i){return this.text.charCodeAt(i)}verticalizePunctuation(i){this.text=function(o,d){let p="";for(let v=0;v<o.length;v++){const T=o.charCodeAt(v+1)||null,B=o.charCodeAt(v-1)||null;p+=!d&&(T&&ke(T)&&!ff[o[v+1]]||B&&ke(B)&&!ff[o[v-1]])||!ff[o[v]]?o[v]:ff[o[v]]}return p}(this.text,i)}trim(){let i=0;for(let d=0;d<this.text.length&&Y0[this.text.charCodeAt(d)];d++)i++;let o=this.text.length;for(let d=this.text.length-1;d>=0&&d>=i&&Y0[this.text.charCodeAt(d)];d--)o--;this.text=this.text.substring(i,o),this.sectionIndex=this.sectionIndex.slice(i,o)}substring(i,o){const d=new ia;return d.text=this.text.substring(i,o),d.sectionIndex=this.sectionIndex.slice(i,o),d.sections=this.sections,d}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((i,o)=>Math.max(i,this.sections[o].scale),0)}addTextSection(i,o){this.text+=i.text,this.sections.push(Ku.forText(i.scale,i.fontStack||o));const d=this.sections.length-1;for(let p=0;p<i.text.length;++p)this.sectionIndex.push(d)}addImageSection(i){const o=i.image?i.image.name:"";if(o.length===0)return void ae("Can't add FormattedSection with an empty image.");const d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(Ku.forImage(o)),this.sectionIndex.push(this.sections.length-1)):ae("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function W0(r,i,o,d,p,v,T,B,K,ie,ue,be,Me,Ie,Be){const He=ia.fromFeature(r,p);be===jn.vertical&&He.verticalizePunctuation(Me);let tt=[];const gt=function(Dt,Jt,Kt,fi,zi,si){if(!Dt)return[];const yi=[],xi=function(Wi,Mn,Ji,fn,Yi,In){let fs=0;for(let ds=0;ds<Wi.length();ds++){const as=Wi.getSection(ds);fs+=dy(Wi.getCharCode(ds),as,fn,Yi,Mn,In)}return fs/Math.max(1,Math.ceil(fs/Ji))}(Dt,Jt,Kt,fi,zi,si),ki=Dt.text.indexOf("​")>=0;let Ni=0;for(let Wi=0;Wi<Dt.length();Wi++){const Mn=Dt.getSection(Wi),Ji=Dt.getCharCode(Wi);if(Y0[Ji]||(Ni+=dy(Ji,Mn,fi,zi,Jt,si)),Wi<Dt.length()-1){const fn=!((oi=Ji)<11904||!(Oa(oi)||u0(oi)||u(oi)||Id(oi)||g0(oi)||Wp(oi)||p0(oi)||ch(oi)||_0(oi)||Ou(oi)||m0(oi)||F(oi)||kl(oi)||qp(oi)||Yp(oi)||f0(oi)||Lu(oi)||l(oi)||y0(oi)||Xp(oi)));(dr[Ji]||fn||Mn.imageName)&&yi.push(hy(Wi+1,Ni,xi,yi,q0(Ji,Dt.getCharCode(Wi+1),fn&&ki),!1))}}var oi;return uy(hy(Dt.length(),Ni,xi,yi,0,!0))}(He,ie,v,i,d,Ie),{processBidirectionalText:Pt,processStyledBidirectionalText:mt}=Zt;if(Pt&&He.sections.length===1){const Dt=Pt(He.toString(),gt);for(const Jt of Dt){const Kt=new ia;Kt.text=Jt,Kt.sections=He.sections;for(let fi=0;fi<Jt.length;fi++)Kt.sectionIndex.push(0);tt.push(Kt)}}else if(mt){const Dt=mt(He.text,He.sectionIndex,gt);for(const Jt of Dt){const Kt=new ia;Kt.text=Jt[0],Kt.sectionIndex=Jt[1],Kt.sections=He.sections,tt.push(Kt)}}else tt=function(Dt,Jt){const Kt=[],fi=Dt.text;let zi=0;for(const si of Jt)Kt.push(Dt.substring(zi,si)),zi=si;return zi<fi.length&&Kt.push(Dt.substring(zi,fi.length)),Kt}(He,gt);const wt=[],Ot={positionedLines:wt,text:He.toString(),top:ue[1],bottom:ue[1],left:ue[0],right:ue[0],writingMode:be,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(Dt,Jt,Kt,fi,zi,si,yi,xi,ki,Ni,oi,Wi){let Mn=0,Ji=0,fn=0;const Yi=xi==="right"?1:xi==="left"?0:.5;let In=!1;for(const Yn of zi){const ms=Yn.getSections();for(const sr of ms){if(sr.imageName)continue;const vr=Jt[sr.fontStack];if(vr&&(In=vr.ascender!==void 0&&vr.descender!==void 0,!In))break}if(!In)break}let fs=0;for(const Yn of zi){Yn.trim();const ms=Yn.getMaxScale(),sr=(ms-1)*nr,vr={positionedGlyphs:[],lineOffset:0};Dt.positionedLines[fs]=vr;const fr=vr.positionedGlyphs;let xr=0;if(!Yn.length()){Ji+=si,++fs;continue}let Cr=0,no=0;for(let qs=0;qs<Yn.length();qs++){const So=Yn.getSection(qs),_o=Yn.getSectionIndex(qs),zs=Yn.getCharCode(qs);let $r=So.scale,Ro=null,rr=null,co=null,Na=nr,sa=0;const ra=!(ki===jn.horizontal||!oi&&!De(zs)||oi&&(Y0[zs]||(ds=zs,Vp(ds)||Kl(ds)||Hp(ds)||y(ds)||R(ds))));if(So.imageName){const ol=fi[So.imageName];if(!ol)continue;co=So.imageName,Dt.iconsInText=Dt.iconsInText||!0,rr=ol.paddedRect;const oa=ol.displaySize;$r=$r*nr/Wi,Ro={width:oa[0],height:oa[1],left:1,top:-3,advance:ra?oa[1]:oa[0],localGlyph:!1},sa=In?-Ro.height*$r:ms*nr-17-oa[1]*$r,Na=Ro.advance;const su=(ra?oa[0]:oa[1])*$r-nr*ms;su>0&&su>xr&&(xr=su)}else{const ol=Kt[So.fontStack];if(!ol)continue;ol[zs]&&(rr=ol[zs]);const oa=Jt[So.fontStack];if(!oa)continue;const su=oa.glyphs[zs];if(!su)continue;if(Ro=su.metrics,Na=zs!==8203?nr:0,In){const cm=oa.ascender!==void 0?Math.abs(oa.ascender):0,m1=oa.descender!==void 0?Math.abs(oa.descender):0,g1=(cm+m1)*$r;Cr<g1&&(Cr=g1,no=(cm-m1)/2*$r),sa=-cm*$r}else sa=(ms-$r)*nr-17}ra?(Dt.verticalizable=!0,fr.push({glyph:zs,imageName:co,x:Mn,y:Ji+sa,vertical:ra,scale:$r,localGlyph:Ro.localGlyph,fontStack:So.fontStack,sectionIndex:_o,metrics:Ro,rect:rr}),Mn+=Na*$r+Ni):(fr.push({glyph:zs,imageName:co,x:Mn,y:Ji+sa,vertical:ra,scale:$r,localGlyph:Ro.localGlyph,fontStack:So.fontStack,sectionIndex:_o,metrics:Ro,rect:rr}),Mn+=Ro.advance*$r+Ni)}fr.length!==0&&(fn=Math.max(Mn-Ni,fn),In?py(fr,Yi,xr,no,si*ms/2):py(fr,Yi,xr,0,si/2)),Mn=0;const na=si*ms+xr;vr.lineOffset=Math.max(xr,sr),Ji+=na,++fs}var ds;const as=Ji,{horizontalAlign:Ln,verticalAlign:Ys}=Hg(yi);(function(Yn,ms,sr,vr,fr,xr){const Cr=(ms-sr)*fr,no=-xr*vr;for(const na of Yn)for(const qs of na.positionedGlyphs)qs.x+=Cr,qs.y+=no})(Dt.positionedLines,Yi,Ln,Ys,fn,as),Dt.top+=-Ys*as,Dt.bottom=Dt.top+as,Dt.left+=-Ln*fn,Dt.right=Dt.left+fn,Dt.hasBaseline=In}(Ot,i,o,d,tt,T,B,K,be,ie,Me,Be),!function(Dt){for(const Jt of Dt)if(Jt.positionedGlyphs.length!==0)return!1;return!0}(wt)&&Ot}const Y0={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},dr={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function dy(r,i,o,d,p,v){if(i.imageName){const T=d[i.imageName];return T?T.displaySize[0]*i.scale*nr/v+p:0}{const T=o[i.fontStack],B=T&&T.glyphs[r];return B?B.metrics.advance*i.scale+p:0}}function Vg(r,i,o,d){const p=Math.pow(r-i,2);return d?r<i?p/2:2*p:p+Math.abs(o)*o}function q0(r,i,o){let d=0;return r===10&&(d-=1e4),o&&(d+=150),r!==40&&r!==65288||(d+=50),i!==41&&i!==65289||(d+=50),d}function hy(r,i,o,d,p,v){let T=null,B=Vg(i,o,p,v);for(const K of d){const ie=Vg(i-K.x,o,p,v)+K.badness;ie<=B&&(T=K,B=ie)}return{index:r,x:i,priorBreak:T,badness:B}}function uy(r){return r?uy(r.priorBreak).concat(r.index):[]}function Hg(r){let i=.5,o=.5;switch(r){case"right":case"top-right":case"bottom-right":i=1;break;case"left":case"top-left":case"bottom-left":i=0}switch(r){case"bottom":case"bottom-right":case"bottom-left":o=1;break;case"top":case"top-right":case"top-left":o=0}return{horizontalAlign:i,verticalAlign:o}}function py(r,i,o,d,p){if(!(i||o||d||p))return;const v=r.length-1,T=r[v],B=(T.x+T.metrics.advance*T.scale)*i;for(let K=0;K<=v;K++)r[K].x-=B,r[K].y+=o+d+p}function Xb(r,i,o){const{horizontalAlign:d,verticalAlign:p}=Hg(o),v=i[0]-r.displaySize[0]*d,T=i[1]-r.displaySize[1]*p;return{image:r,top:T,bottom:T+r.displaySize[1],left:v,right:v+r.displaySize[0]}}function fy(r,i,o,d,p,v){const T=r.image;let B;if(T.content){const tt=T.content,gt=T.pixelRatio||1;B=[tt[0]/gt,tt[1]/gt,T.displaySize[0]-tt[2]/gt,T.displaySize[1]-tt[3]/gt]}const K=i.left*v,ie=i.right*v;let ue,be,Me,Ie;o==="width"||o==="both"?(Ie=p[0]+K-d[3],be=p[0]+ie+d[1]):(Ie=p[0]+(K+ie-T.displaySize[0])/2,be=Ie+T.displaySize[0]);const Be=i.top*v,He=i.bottom*v;return o==="height"||o==="both"?(ue=p[1]+Be-d[0],Me=p[1]+He+d[2]):(ue=p[1]+(Be+He-T.displaySize[1])/2,Me=ue+T.displaySize[1]),{image:T,top:ue,right:be,bottom:Me,left:Ie,collisionPadding:B}}class jd extends ${constructor(i,o,d,p,v){super(i,o),this.angle=p,this.z=d,v!==void 0&&(this.segment=v)}clone(){return new jd(this.x,this.y,this.z,this.angle,this.segment)}}function my(r,i,o,d,p){if(i.segment===void 0)return!0;let v=i,T=i.segment+1,B=0;for(;B>-o/2;){if(T--,T<0)return!1;B-=r[T].dist(v),v=r[T]}B+=r[T].dist(r[T+1]),T++;const K=[];let ie=0;for(;B<o/2;){const ue=r[T],be=r[T+1];if(!be)return!1;let Me=r[T-1].angleTo(ue)-ue.angleTo(be);for(Me=Math.abs((Me+3*Math.PI)%(2*Math.PI)-Math.PI),K.push({distance:B,angleDelta:Me}),ie+=Me;B-K[0].distance>d;)ie-=K.shift().angleDelta;if(ie>p)return!1;T++,B+=ue.dist(be)}return!0}function gy(r){let i=0;for(let o=0;o<r.length-1;o++)i+=r[o].dist(r[o+1]);return i}function _y(r,i,o){return r?.6*i*o:0}function yy(r,i){return Math.max(r?r.right-r.left:0,i?i.right-i.left:0)}function Zb(r,i,o,d,p,v){const T=_y(o,p,v),B=yy(o,d)*v;let K=0;const ie=gy(r)/2;for(let ue=0;ue<r.length-1;ue++){const be=r[ue],Me=r[ue+1],Ie=be.dist(Me);if(K+Ie>ie){const Be=(ie-K)/Ie,He=zn(be.x,Me.x,Be),tt=zn(be.y,Me.y,Be),gt=new jd(He,tt,0,Me.angleTo(be),ue);return!T||my(r,gt,B,T,i)?gt:void 0}K+=Ie}}function Kb(r,i,o,d,p,v,T,B,K){const ie=_y(d,v,T),ue=yy(d,p),be=ue*T,Me=r[0].x===0||r[0].x===K||r[0].y===0||r[0].y===K;return i-be<i/4&&(i=be+i/4),X0(r,Me?i/2*B%i:(ue/2+2*v)*T*B%i,i,ie,o,be,Me,!1,K)}function X0(r,i,o,d,p,v,T,B,K){const ie=v/2,ue=gy(r);let be=0,Me=i-o,Ie=[];for(let Be=0;Be<r.length-1;Be++){const He=r[Be],tt=r[Be+1],gt=He.dist(tt),Pt=tt.angleTo(He);for(;Me+o<be+gt;){Me+=o;const mt=(Me-be)/gt,wt=zn(He.x,tt.x,mt),Ot=zn(He.y,tt.y,mt);if(wt>=0&&wt<K&&Ot>=0&&Ot<K&&Me-ie>=0&&Me+ie<=ue){const Dt=new jd(wt,Ot,0,Pt,Be);Dt._round(),d&&!my(r,Dt,v,d,p)||Ie.push(Dt)}}be+=gt}return B||Ie.length||T||(Ie=X0(r,be/2,o,d,p,v,T,!0,K)),Ie}function vy(r,i,o,d,p){const v=[];for(let T=0;T<r.length;T++){const B=r[T];let K;for(let ie=0;ie<B.length-1;ie++){let ue=B[ie],be=B[ie+1];ue.x<i&&be.x<i||(ue.x<i?ue=new $(i,ue.y+(i-ue.x)/(be.x-ue.x)*(be.y-ue.y))._round():be.x<i&&(be=new $(i,ue.y+(i-ue.x)/(be.x-ue.x)*(be.y-ue.y))._round()),ue.y<o&&be.y<o||(ue.y<o?ue=new $(ue.x+(o-ue.y)/(be.y-ue.y)*(be.x-ue.x),o)._round():be.y<o&&(be=new $(ue.x+(o-ue.y)/(be.y-ue.y)*(be.x-ue.x),o)._round()),ue.x>=d&&be.x>=d||(ue.x>=d?ue=new $(d,ue.y+(d-ue.x)/(be.x-ue.x)*(be.y-ue.y))._round():be.x>=d&&(be=new $(d,ue.y+(d-ue.x)/(be.x-ue.x)*(be.y-ue.y))._round()),ue.y>=p&&be.y>=p||(ue.y>=p?ue=new $(ue.x+(p-ue.y)/(be.y-ue.y)*(be.x-ue.x),p)._round():be.y>=p&&(be=new $(ue.x+(p-ue.y)/(be.y-ue.y)*(be.x-ue.x),p)._round()),K&&ue.equals(K[K.length-1])||(K=[ue],v.push(K)),K.push(be)))))}}return v}qi(jd,"Anchor");const Qh=1e20;function xy(r,i,o,d,p,v,T,B,K){for(let ie=i;ie<i+d;ie++)by(r,o*v+ie,v,p,T,B,K);for(let ie=o;ie<o+p;ie++)by(r,ie*v+i,1,d,T,B,K)}function by(r,i,o,d,p,v,T){v[0]=0,T[0]=-Qh,T[1]=Qh,p[0]=r[i];for(let B=1,K=0,ie=0;B<d;B++){p[B]=r[i+B*o];const ue=B*B;do{const be=v[K];ie=(p[B]-p[be]+ue-be*be)/(B-be)/2}while(ie<=T[K]&&--K>-1);K++,v[K]=B,T[K]=ie,T[K+1]=Qh}for(let B=0,K=0;B<d;B++){for(;T[K+1]<B;)K++;const ie=v[K],ue=B-ie;r[i+B*o]=p[ie]+ue*ue}}const Wg={none:0,ideographs:1,all:2};class io{constructor(i,o,d){this.requestManager=i,this.localGlyphMode=o,this.localFontFamily=d,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(i){this.url=i}getGlyphs(i,o){const d=[];for(const p in i)for(const v of i[p])d.push({stack:p,id:v});X(d,({stack:p,id:v},T)=>{let B=this.entries[p];B||(B=this.entries[p]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let K=B.glyphs[v];if(K!==void 0)return void T(null,{stack:p,id:v,glyph:K});if(K=this._tinySDF(B,p,v),K)return B.glyphs[v]=K,void T(null,{stack:p,id:v,glyph:K});const ie=Math.floor(v/256);if(256*ie>65535)return void T(new Error("glyphs > 65535 not supported"));if(B.ranges[ie])return void T(null,{stack:p,id:v,glyph:K});let ue=B.requests[ie];ue||(ue=B.requests[ie]=[],io.loadGlyphRange(p,ie,this.url,this.requestManager,(be,Me)=>{if(Me){B.ascender=Me.ascender,B.descender=Me.descender;for(const Ie in Me.glyphs)this._doesCharSupportLocalGlyph(+Ie)||(B.glyphs[+Ie]=Me.glyphs[+Ie]);B.ranges[ie]=!0}for(const Ie of ue)Ie(be,Me);delete B.requests[ie]})),ue.push((be,Me)=>{be?T(be):Me&&T(null,{stack:p,id:v,glyph:Me.glyphs[v]||null})})},(p,v)=>{if(p)o(p);else if(v){const T={};for(const{stack:B,id:K,glyph:ie}of v)T[B]===void 0&&(T[B]={}),T[B].glyphs===void 0&&(T[B].glyphs={}),T[B].glyphs[K]=ie&&{id:ie.id,bitmap:ie.bitmap.clone(),metrics:ie.metrics},T[B].ascender=this.entries[B].ascender,T[B].descender=this.entries[B].descender;o(null,T)}})}_doesCharSupportLocalGlyph(i){return this.localGlyphMode!==Wg.none&&(this.localGlyphMode===Wg.all?!!this.localFontFamily:!!this.localFontFamily&&(Ou(i)||Zp(i)||kl(i)||Lu(i)||ch(i)))}_tinySDF(i,o,d){const p=this.localFontFamily;if(!p||!this._doesCharSupportLocalGlyph(d))return;let v=i.tinySDF;if(!v){let He="400";/bold/i.test(o)?He="900":/medium/i.test(o)?He="500":/light/i.test(o)&&(He="200"),v=i.tinySDF=new io.TinySDF({fontFamily:p,fontWeight:He,fontSize:48,buffer:6,radius:16}),v.fontWeight=He}if(this.localGlyphs[v.fontWeight][d])return this.localGlyphs[v.fontWeight][d];const T=String.fromCharCode(d),{data:B,width:K,height:ie,glyphWidth:ue,glyphHeight:be,glyphLeft:Me,glyphTop:Ie,glyphAdvance:Be}=v.draw(T);return this.localGlyphs[v.fontWeight][d]={id:d,bitmap:new Nd({width:K,height:ie},B),metrics:{width:ue/2,height:be/2,left:Me/2,top:Ie/2-27,advance:Be/2,localGlyph:!0}}}}function za(r,i,o,d){const p=[],v=r.image,T=v.pixelRatio,B=v.paddedRect.w-2,K=v.paddedRect.h-2,ie=r.right-r.left,ue=r.bottom-r.top,be=v.stretchX||[[0,B]],Me=v.stretchY||[[0,K]],Ie=(si,yi)=>si+yi[1]-yi[0],Be=be.reduce(Ie,0),He=Me.reduce(Ie,0),tt=B-Be,gt=K-He;let Pt=0,mt=Be,wt=0,Ot=He,Dt=0,Jt=tt,Kt=0,fi=gt;if(v.content&&d){const si=v.content;Pt=Z0(be,0,si[0]),wt=Z0(Me,0,si[1]),mt=Z0(be,si[0],si[2]),Ot=Z0(Me,si[1],si[3]),Dt=si[0]-Pt,Kt=si[1]-wt,Jt=si[2]-si[0]-mt,fi=si[3]-si[1]-Ot}const zi=(si,yi,xi,ki)=>{const Ni=K0(si.stretch-Pt,mt,ie,r.left),oi=_f(si.fixed-Dt,Jt,si.stretch,Be),Wi=K0(yi.stretch-wt,Ot,ue,r.top),Mn=_f(yi.fixed-Kt,fi,yi.stretch,He),Ji=K0(xi.stretch-Pt,mt,ie,r.left),fn=_f(xi.fixed-Dt,Jt,xi.stretch,Be),Yi=K0(ki.stretch-wt,Ot,ue,r.top),In=_f(ki.fixed-Kt,fi,ki.stretch,He),fs=new $(Ni,Wi),ds=new $(Ji,Wi),as=new $(Ji,Yi),Ln=new $(Ni,Yi),Ys=new $(oi/T,Mn/T),Yn=new $(fn/T,In/T),ms=i*Math.PI/180;if(ms){const fr=Math.sin(ms),xr=Math.cos(ms),Cr=[xr,-fr,fr,xr];fs._matMult(Cr),ds._matMult(Cr),Ln._matMult(Cr),as._matMult(Cr)}const sr=si.stretch+si.fixed,vr=yi.stretch+yi.fixed;return{tl:fs,tr:ds,bl:Ln,br:as,tex:{x:v.paddedRect.x+1+sr,y:v.paddedRect.y+1+vr,w:xi.stretch+xi.fixed-sr,h:ki.stretch+ki.fixed-vr},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Ys,pixelOffsetBR:Yn,minFontScaleX:Jt/T/ie,minFontScaleY:fi/T/ue,isSDF:o}};if(d&&(v.stretchX||v.stretchY)){const si=wy(be,tt,Be),yi=wy(Me,gt,He);for(let xi=0;xi<si.length-1;xi++){const ki=si[xi],Ni=si[xi+1];for(let oi=0;oi<yi.length-1;oi++)p.push(zi(ki,yi[oi],Ni,yi[oi+1]))}}else p.push(zi({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:B+1},{fixed:0,stretch:K+1}));return p}function Z0(r,i,o){let d=0;for(const p of r)d+=Math.max(i,Math.min(o,p[1]))-Math.max(i,Math.min(o,p[0]));return d}function wy(r,i,o){const d=[{fixed:-1,stretch:0}];for(const[p,v]of r){const T=d[d.length-1];d.push({fixed:p-T.stretch,stretch:T.stretch}),d.push({fixed:p-T.stretch,stretch:T.stretch+(v-p)})}return d.push({fixed:i+1,stretch:o}),d}function K0(r,i,o,d){return r/i*o+d}function _f(r,i,o,d){return r-i*o/d}function Jb(r,i,o,d){const p=i+r.positionedLines[d].lineOffset;return d===0?o+p/2:o+(p+(i+r.positionedLines[d-1].lineOffset))/2}io.loadGlyphRange=function(r,i,o,d,p){const v=256*i,T=v+255,B=d.transformRequest(d.normalizeGlyphsURL(o).replace("{fontstack}",r).replace("{range}",`${v}-${T}`),Wt.Glyphs);wi(B,(K,ie)=>{if(K)p(K);else if(ie){const ue={},be=function(Me){return new mf(Me).readFields(Wb,{})}(ie);for(const Me of be.glyphs)ue[Me.id]=Me;p(null,{glyphs:ue,ascender:be.ascender,descender:be.descender})}})},io.TinySDF=class{constructor({fontSize:r=24,buffer:i=3,radius:o=8,cutoff:d=.25,fontFamily:p="sans-serif",fontWeight:v="normal",fontStyle:T="normal"}={}){this.buffer=i,this.cutoff=d,this.radius=o;const B=this.size=r+4*i,K=this._createCanvas(B),ie=this.ctx=K.getContext("2d",{willReadFrequently:!0});ie.font=`${T} ${v} ${r}px ${p}`,ie.textBaseline="alphabetic",ie.textAlign="left",ie.fillStyle="black",this.gridOuter=new Float64Array(B*B),this.gridInner=new Float64Array(B*B),this.f=new Float64Array(B),this.z=new Float64Array(B+1),this.v=new Uint16Array(B)}_createCanvas(r){const i=document.createElement("canvas");return i.width=i.height=r,i}draw(r){const{width:i,actualBoundingBoxAscent:o,actualBoundingBoxDescent:d,actualBoundingBoxLeft:p,actualBoundingBoxRight:v}=this.ctx.measureText(r),T=Math.ceil(o),B=Math.min(this.size-this.buffer,Math.ceil(v-p)),K=Math.min(this.size-this.buffer,T+Math.ceil(d)),ie=B+2*this.buffer,ue=K+2*this.buffer,be=Math.max(ie*ue,0),Me=new Uint8ClampedArray(be),Ie={data:Me,width:ie,height:ue,glyphWidth:B,glyphHeight:K,glyphTop:T,glyphLeft:0,glyphAdvance:i};if(B===0||K===0)return Ie;const{ctx:Be,buffer:He,gridInner:tt,gridOuter:gt}=this;Be.clearRect(He,He,B,K),Be.fillText(r,He,He+T);const Pt=Be.getImageData(He,He,B,K);gt.fill(Qh,0,be),tt.fill(0,0,be);for(let mt=0;mt<K;mt++)for(let wt=0;wt<B;wt++){const Ot=Pt.data[4*(mt*B+wt)+3]/255;if(Ot===0)continue;const Dt=(mt+He)*ie+wt+He;if(Ot===1)gt[Dt]=0,tt[Dt]=Qh;else{const Jt=.5-Ot;gt[Dt]=Jt>0?Jt*Jt:0,tt[Dt]=Jt<0?Jt*Jt:0}}xy(gt,0,0,ie,ue,ie,this.f,this.v,this.z),xy(tt,He,He,B,K,ie,this.f,this.v,this.z);for(let mt=0;mt<be;mt++){const wt=Math.sqrt(gt[mt])-Math.sqrt(tt[mt]);Me[mt]=Math.round(255-255*(wt/this.radius+this.cutoff))}return Ie}};class Qb{constructor(i=[],o=e2){if(this.data=i,this.length=this.data.length,this.compare=o,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(i){this.data.push(i),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const i=this.data[0],o=this.data.pop();return this.length--,this.length>0&&(this.data[0]=o,this._down(0)),i}peek(){return this.data[0]}_up(i){const{data:o,compare:d}=this,p=o[i];for(;i>0;){const v=i-1>>1,T=o[v];if(d(p,T)>=0)break;o[i]=T,i=v}o[i]=p}_down(i){const{data:o,compare:d}=this,p=this.length>>1,v=o[i];for(;i<p;){let T=1+(i<<1),B=o[T];const K=T+1;if(K<this.length&&d(o[K],B)<0&&(T=K,B=o[K]),d(B,v)>=0)break;o[i]=B,i=T}o[i]=v}}function e2(r,i){return r<i?-1:r>i?1:0}function Sy(r,i=1,o=!1){let d=1/0,p=1/0,v=-1/0,T=-1/0;const B=r[0];for(let Ie=0;Ie<B.length;Ie++){const Be=B[Ie];(!Ie||Be.x<d)&&(d=Be.x),(!Ie||Be.y<p)&&(p=Be.y),(!Ie||Be.x>v)&&(v=Be.x),(!Ie||Be.y>T)&&(T=Be.y)}const K=Math.min(v-d,T-p);let ie=K/2;const ue=new Qb([],t2);if(K===0)return new $(d,p);for(let Ie=d;Ie<v;Ie+=K)for(let Be=p;Be<T;Be+=K)ue.push(new Ju(Ie+ie,Be+ie,ie,r));let be=function(Ie){let Be=0,He=0,tt=0;const gt=Ie[0];for(let Pt=0,mt=gt.length,wt=mt-1;Pt<mt;wt=Pt++){const Ot=gt[Pt],Dt=gt[wt],Jt=Ot.x*Dt.y-Dt.x*Ot.y;He+=(Ot.x+Dt.x)*Jt,tt+=(Ot.y+Dt.y)*Jt,Be+=3*Jt}return new Ju(He/Be,tt/Be,0,Ie)}(r),Me=ue.length;for(;ue.length;){const Ie=ue.pop();(Ie.d>be.d||!be.d)&&(be=Ie,o&&console.log("found best %d after %d probes",Math.round(1e4*Ie.d)/1e4,Me)),Ie.max-be.d<=i||(ie=Ie.h/2,ue.push(new Ju(Ie.p.x-ie,Ie.p.y-ie,ie,r)),ue.push(new Ju(Ie.p.x+ie,Ie.p.y-ie,ie,r)),ue.push(new Ju(Ie.p.x-ie,Ie.p.y+ie,ie,r)),ue.push(new Ju(Ie.p.x+ie,Ie.p.y+ie,ie,r)),Me+=4)}return o&&(console.log(`num probes: ${Me}`),console.log(`best distance: ${be.d}`)),be.p}function t2(r,i){return i.max-r.max}function Ju(r,i,o,d){this.p=new $(r,i),this.h=o,this.d=function(p,v){let T=!1,B=1/0;for(let K=0;K<v.length;K++){const ie=v[K];for(let ue=0,be=ie.length,Me=be-1;ue<be;Me=ue++){const Ie=ie[ue],Be=ie[Me];Ie.y>p.y!=Be.y>p.y&&p.x<(Be.x-Ie.x)*(p.y-Ie.y)/(Be.y-Ie.y)+Ie.x&&(T=!T),B=Math.min(B,A_(p,Ie,Be))}}return(T?1:-1)*Math.sqrt(B)}(this.p,d),this.max=this.d+this.h*Math.SQRT2}const Yg=Number.POSITIVE_INFINITY,Ty=Math.sqrt(2);function qg(r,[i,o]){let d=0,p=0;if(o===Yg){i<0&&(i=0);const v=i/Ty;switch(r){case"top-right":case"top-left":p=v-7;break;case"bottom-right":case"bottom-left":p=7-v;break;case"bottom":p=7-i;break;case"top":p=i-7}switch(r){case"top-right":case"bottom-right":d=-v;break;case"top-left":case"bottom-left":d=v;break;case"left":d=i;break;case"right":d=-i}}else{switch(i=Math.abs(i),o=Math.abs(o),r){case"top-right":case"top-left":case"top":p=o-7;break;case"bottom-right":case"bottom-left":case"bottom":p=7-o}switch(r){case"top-right":case"bottom-right":case"right":d=-i;break;case"top-left":case"bottom-left":case"left":d=i}}return[d,p]}function i2(r,i,o,d,p,v,T,B,K,ie){r.createArrays(),r.tilePixelRatio=Tn/(512*r.overscaling),r.compareText={},r.iconsNeedLinear=!1;const ue=r.layers[0].layout,be=r.layers[0]._unevaluatedLayout._values,Me={};if(r.textSizeData.kind==="composite"){const{minZoom:He,maxZoom:tt}=r.textSizeData;Me.compositeTextSizes=[be["text-size"].possiblyEvaluate(new Vt(He),B),be["text-size"].possiblyEvaluate(new Vt(tt),B)]}if(r.iconSizeData.kind==="composite"){const{minZoom:He,maxZoom:tt}=r.iconSizeData;Me.compositeIconSizes=[be["icon-size"].possiblyEvaluate(new Vt(He),B),be["icon-size"].possiblyEvaluate(new Vt(tt),B)]}Me.layoutTextSize=be["text-size"].possiblyEvaluate(new Vt(K+1),B),Me.layoutIconSize=be["icon-size"].possiblyEvaluate(new Vt(K+1),B),Me.textMaxSize=be["text-size"].possiblyEvaluate(new Vt(18),B);const Ie=ue.get("text-rotation-alignment")==="map"&&ue.get("symbol-placement")!=="point",Be=ue.get("text-size");for(const He of r.features){const tt=ue.get("text-font").evaluate(He,{},B).join(","),gt=Be.evaluate(He,{},B),Pt=Me.layoutTextSize.evaluate(He,{},B),mt=(Me.layoutIconSize.evaluate(He,{},B),{horizontal:{},vertical:void 0}),wt=He.text;let Ot,Dt=[0,0];if(wt){const fi=wt.toString(),zi=ue.get("text-letter-spacing").evaluate(He,{},B)*nr,si=ue.get("text-line-height").evaluate(He,{},B)*nr,yi=he(fi)?zi:0,xi=ue.get("text-anchor").evaluate(He,{},B),ki=ue.get("text-variable-anchor");if(!ki){const Ji=ue.get("text-radial-offset").evaluate(He,{},B);Dt=Ji?qg(xi,[Ji*nr,Yg]):ue.get("text-offset").evaluate(He,{},B).map(fn=>fn*nr)}let Ni=Ie?"center":ue.get("text-justify").evaluate(He,{},B);const oi=ue.get("symbol-placement")==="point",Wi=oi?ue.get("text-max-width").evaluate(He,{},B)*nr:1/0,Mn=Ji=>{r.allowVerticalPlacement&&se(fi)&&(mt.vertical=W0(wt,i,o,p,tt,Wi,si,xi,Ji,yi,Dt,jn.vertical,!0,Pt,gt))};if(!Ie&&ki){const Ji=Ni==="auto"?ki.map(Yi=>Xg(Yi)):[Ni];let fn=!1;for(let Yi=0;Yi<Ji.length;Yi++){const In=Ji[Yi];if(!mt.horizontal[In])if(fn)mt.horizontal[In]=mt.horizontal[0];else{const fs=W0(wt,i,o,p,tt,Wi,si,"center",In,yi,Dt,jn.horizontal,!1,Pt,gt);fs&&(mt.horizontal[In]=fs,fn=fs.positionedLines.length===1)}}Mn("left")}else{if(Ni==="auto"&&(Ni=Xg(xi)),oi||ue.get("text-writing-mode").indexOf("horizontal")>=0||!se(fi)){const Ji=W0(wt,i,o,p,tt,Wi,si,xi,Ni,yi,Dt,jn.horizontal,!1,Pt,gt);Ji&&(mt.horizontal[Ni]=Ji)}Mn(oi?"left":Ni)}}let Jt=!1;if(He.icon&&He.icon.name){const fi=d[He.icon.name];fi&&(Ot=Xb(p[He.icon.name],ue.get("icon-offset").evaluate(He,{},B),ue.get("icon-anchor").evaluate(He,{},B)),Jt=fi.sdf,r.sdfIcons===void 0?r.sdfIcons=fi.sdf:r.sdfIcons!==fi.sdf&&ae("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(fi.pixelRatio!==r.pixelRatio||ue.get("icon-rotate").constantOr(1)!==0)&&(r.iconsNeedLinear=!0))}const Kt=Cy(mt.horizontal)||mt.vertical;r.iconsInText||(r.iconsInText=!!Kt&&Kt.iconsInText),(Kt||Ot)&&n2(r,He,mt,Ot,d,Me,Pt,0,Dt,Jt,T,B,ie)}v&&r.generateCollisionDebugBuffers(K,r.collisionBoxArray)}function Xg(r){switch(r){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function n2(r,i,o,d,p,v,T,B,K,ie,ue,be,Me){let Ie=v.textMaxSize.evaluate(i,{},be);Ie===void 0&&(Ie=T);const Be=r.layers[0].layout,He=Be.get("icon-offset").evaluate(i,{},be),tt=Cy(o.horizontal)||o.vertical,gt=Me.name==="globe",Pt=T/24,mt=r.tilePixelRatio*Ie/24,wt=(yi=r.overscaling,r.zoom>18&&yi>2&&(yi>>=1),Math.max(Tn/(512*yi),1)*Be.get("symbol-spacing")),Ot=Be.get("text-padding")*r.tilePixelRatio,Dt=Be.get("icon-padding")*r.tilePixelRatio,Jt=N(Be.get("text-max-angle")),Kt=Be.get("text-rotation-alignment")==="map"&&Be.get("symbol-placement")!=="point",fi=Be.get("icon-rotation-alignment")==="map"&&Be.get("symbol-placement")!=="point",zi=Be.get("symbol-placement"),si=wt/2;var yi;const xi=Be.get("icon-text-fit");let ki;d&&xi!=="none"&&(r.allowVerticalPlacement&&o.vertical&&(ki=fy(d,o.vertical,xi,Be.get("icon-text-fit-padding"),He,Pt)),tt&&(d=fy(d,tt,xi,Be.get("icon-text-fit-padding"),He,Pt)));const Ni=(oi,Wi,Mn)=>{if(Wi.x<0||Wi.x>=Tn||Wi.y<0||Wi.y>=Tn)return;let Ji=null;if(gt){const{x:fn,y:Yi,z:In}=Me.projectTilePoint(Wi.x,Wi.y,Mn);Ji={anchor:new jd(fn,Yi,In,0,void 0),up:Me.upVector(Mn,Wi.x,Wi.y)}}(function(fn,Yi,In,fs,ds,as,Ln,Ys,Yn,ms,sr,vr,fr,xr,Cr,no,na,qs,So,_o,zs,$r,Ro,rr,co){const Na=fn.addToLineVertexArray(Yi,fs);let sa,ra,ol,oa,su,cm,m1,g1=0,QS=0,eT=0,tT=0,k2=-1,P2=-1;const vh={};let iT=Uh.exports("");const kf=In?In.anchor:Yi;let D2=0,I2=0;if(Yn._unevaluatedLayout.getValue("text-radial-offset")===void 0?[D2,I2]=Yn.layout.get("text-offset").evaluate(zs,{},co).map(rc=>rc*nr):(D2=Yn.layout.get("text-radial-offset").evaluate(zs,{},co)*nr,I2=Yg),fn.allowVerticalPlacement&&ds.vertical){const rc=ds.vertical;if(Cr)cm=Zg(rc),Ys&&(m1=Zg(Ys));else{const oc=Yn.layout.get("text-rotate").evaluate(zs,{},co)+90;ol=J0(ms,kf,Yi,sr,vr,fr,rc,xr,oc,no),Ys&&(oa=J0(ms,kf,Yi,sr,vr,fr,Ys,qs,oc))}}if(as){const rc=Yn.layout.get("icon-rotate").evaluate(zs,{},co),oc=Yn.layout.get("icon-text-fit")!=="none",_1=za(as,rc,Ro,oc),O2=Ys?za(Ys,rc,Ro,oc):void 0;ra=J0(ms,kf,Yi,sr,vr,fr,as,qs,rc),g1=4*_1.length;const nT=fn.iconSizeData;let Pf=null;nT.kind==="source"?(Pf=[cr*Yn.layout.get("icon-size").evaluate(zs,{},co)],Pf[0]>gh&&ae(`${fn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):nT.kind==="composite"&&(Pf=[cr*$r.compositeIconSizes[0].evaluate(zs,{},co),cr*$r.compositeIconSizes[1].evaluate(zs,{},co)],(Pf[0]>gh||Pf[1]>gh)&&ae(`${fn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),fn.addSymbols(fn.icon,_1,Pf,_o,So,zs,!1,In,Yi,Na.lineStartIndex,Na.lineLength,-1,rr,co),k2=fn.icon.placedSymbolArray.length-1,O2&&(QS=4*O2.length,fn.addSymbols(fn.icon,O2,Pf,_o,So,zs,jn.vertical,In,Yi,Na.lineStartIndex,Na.lineLength,-1,rr,co),P2=fn.icon.placedSymbolArray.length-1)}for(const rc in ds.horizontal){const oc=ds.horizontal[rc];sa||(iT=Uh.exports(oc.text),Cr?su=Zg(oc):sa=J0(ms,kf,Yi,sr,vr,fr,oc,xr,Yn.layout.get("text-rotate").evaluate(zs,{},co),no));const _1=oc.positionedLines.length===1;if(eT+=eu(fn,In,Yi,oc,Ln,Yn,Cr,zs,no,Na,ds.vertical?jn.horizontal:jn.horizontalOnly,_1?Object.keys(ds.horizontal):[rc],vh,k2,$r,rr,co),_1)break}ds.vertical&&(tT+=eu(fn,In,Yi,ds.vertical,Ln,Yn,Cr,zs,no,Na,jn.vertical,["vertical"],vh,P2,$r,rr,co));let sp=-1;const L2=(rc,oc)=>rc?Math.max(rc,oc):oc;sp=L2(su,sp),sp=L2(cm,sp),sp=L2(m1,sp);const lk=sp>-1?1:0;fn.glyphOffsetArray.length>=_h.MAX_GLYPHS&&ae("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),zs.sortKey!==void 0&&fn.addToSortKeyRanges(fn.symbolInstances.length,zs.sortKey),fn.symbolInstances.emplaceBack(kf.x,kf.y,kf.z,Yi.x,Yi.y,vh.right>=0?vh.right:-1,vh.center>=0?vh.center:-1,vh.left>=0?vh.left:-1,vh.vertical>=0?vh.vertical:-1,k2,P2,iT,sa!==void 0?sa:fn.collisionBoxArray.length,sa!==void 0?sa+1:fn.collisionBoxArray.length,ol!==void 0?ol:fn.collisionBoxArray.length,ol!==void 0?ol+1:fn.collisionBoxArray.length,ra!==void 0?ra:fn.collisionBoxArray.length,ra!==void 0?ra+1:fn.collisionBoxArray.length,oa||fn.collisionBoxArray.length,oa?oa+1:fn.collisionBoxArray.length,sr,eT,tT,g1,QS,lk,0,D2,I2,sp)})(r,Wi,Ji,oi,o,d,p,ki,r.layers[0],r.collisionBoxArray,i.index,i.sourceLayerIndex,r.index,Ot,Kt,K,0,Dt,fi,He,i,v,ie,ue,be)};if(zi==="line")for(const oi of vy(i.geometry,0,0,Tn,Tn)){const Wi=Kb(oi,wt,Jt,o.vertical||tt,d,24,mt,r.overscaling,Tn);for(const Mn of Wi){const Ji=tt;Ji&&s2(r,Ji.text,si,Mn)||Ni(oi,Mn,be)}}else if(zi==="line-center"){for(const oi of i.geometry)if(oi.length>1){const Wi=Zb(oi,Jt,o.vertical||tt,d,24,mt);Wi&&Ni(oi,Wi,be)}}else if(i.type==="Polygon")for(const oi of kg(i.geometry,0)){const Wi=Sy(oi,16);Ni(oi[0],new jd(Wi.x,Wi.y,0,0,void 0),be)}else if(i.type==="LineString")for(const oi of i.geometry)Ni(oi,new jd(oi[0].x,oi[0].y,0,0,void 0),be);else if(i.type==="Point")for(const oi of i.geometry)for(const Wi of oi)Ni([Wi],new jd(Wi.x,Wi.y,0,0,void 0),be)}const gh=32640;function eu(r,i,o,d,p,v,T,B,K,ie,ue,be,Me,Ie,Be,He,tt){const gt=function(wt,Ot,Dt,Jt,Kt,fi,zi,si){const yi=[];if(Ot.positionedLines.length===0)return yi;const xi=Jt.layout.get("text-rotate").evaluate(fi,{})*Math.PI/180,ki=function(Ji){const fn=Ji[0],Yi=Ji[1],In=fn*Yi;return In>0?[fn,-Yi]:In<0?[-fn,Yi]:fn===0?[Yi,fn]:[Yi,-fn]}(Dt);let Ni=Math.abs(Ot.top-Ot.bottom);for(const Ji of Ot.positionedLines)Ni-=Ji.lineOffset;const oi=Ot.positionedLines.length,Wi=Ni/oi;let Mn=Ot.top-Dt[1];for(let Ji=0;Ji<oi;++Ji){const fn=Ot.positionedLines[Ji];Mn=Jb(Ot,Wi,Mn,Ji);for(const Yi of fn.positionedGlyphs){if(!Yi.rect)continue;const In=Yi.rect||{};let fs=4,ds=!0,as=1,Ln=0;if(Yi.imageName){const rr=zi[Yi.imageName];if(!rr)continue;if(rr.sdf){ae("SDF images are not supported in formatted text and will be ignored.");continue}ds=!1,as=rr.pixelRatio,fs=1/as}const Ys=(Kt||si)&&Yi.vertical,Yn=Yi.metrics.advance*Yi.scale/2,ms=Yi.metrics,sr=Yi.rect;if(sr===null)continue;si&&Ot.verticalizable&&(Ln=Yi.imageName?Yn-Yi.metrics.width*Yi.scale/2:0);const vr=Kt?[Yi.x+Yn,Yi.y]:[0,0];let fr=[0,0],xr=[0,0],Cr=!1;Kt||(Ys?(xr=[Yi.x+Yn+ki[0],Yi.y+ki[1]-Ln],Cr=!0):fr=[Yi.x+Yn+Dt[0],Yi.y+Dt[1]-Ln]);const no=sr.w*Yi.scale/(as*(Yi.localGlyph?2:1)),na=sr.h*Yi.scale/(as*(Yi.localGlyph?2:1));let qs,So,_o,zs;if(Ys){const rr=Yi.y-Mn,co=new $(-Yn,Yn-rr),Na=-Math.PI/2,sa=new $(...xr);qs=new $(-Yn+fr[0],fr[1]),qs._rotateAround(Na,co)._add(sa),qs.x+=-rr+Yn,qs.y-=(ms.left-fs)*Yi.scale;const ra=Yi.imageName?ms.advance*Yi.scale:nr*Yi.scale,ol=String.fromCharCode(Yi.glyph);Ub(ol)?qs.x+=(1-fs)*Yi.scale:Fg(ol)?qs.x+=ra-ms.height*Yi.scale+(-fs-1)*Yi.scale:qs.x+=Yi.imageName||ms.width+2*fs===sr.w&&ms.height+2*fs===sr.h?(ra-na)/2:(ra-(ms.height+2*fs)*Yi.scale)/2,So=new $(qs.x,qs.y-no),_o=new $(qs.x+na,qs.y),zs=new $(qs.x+na,qs.y-no)}else{const rr=(ms.left-fs)*Yi.scale-Yn+fr[0],co=(-ms.top-fs)*Yi.scale+fr[1],Na=rr+no,sa=co+na;qs=new $(rr,co),So=new $(Na,co),_o=new $(rr,sa),zs=new $(Na,sa)}if(xi){let rr;rr=Kt?new $(0,0):Cr?new $(ki[0],ki[1]):new $(Dt[0],Dt[1]),qs._rotateAround(xi,rr),So._rotateAround(xi,rr),_o._rotateAround(xi,rr),zs._rotateAround(xi,rr)}const $r=new $(0,0),Ro=new $(0,0);yi.push({tl:qs,tr:So,bl:_o,br:zs,tex:In,writingMode:Ot.writingMode,glyphOffset:vr,sectionIndex:Yi.sectionIndex,isSDF:ds,pixelOffsetTL:$r,pixelOffsetBR:Ro,minFontScaleX:0,minFontScaleY:0})}}return yi}(0,d,K,v,T,B,p,r.allowVerticalPlacement),Pt=r.textSizeData;let mt=null;Pt.kind==="source"?(mt=[cr*v.layout.get("text-size").evaluate(B,{},tt)],mt[0]>gh&&ae(`${r.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):Pt.kind==="composite"&&(mt=[cr*Be.compositeTextSizes[0].evaluate(B,{},tt),cr*Be.compositeTextSizes[1].evaluate(B,{},tt)],(mt[0]>gh||mt[1]>gh)&&ae(`${r.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),r.addSymbols(r.text,gt,mt,K,T,B,ue,i,o,ie.lineStartIndex,ie.lineLength,Ie,He,tt);for(const wt of be)Me[wt]=r.text.placedSymbolArray.length-1;return 4*gt.length}function Cy(r){for(const i in r)return r[i];return null}function J0(r,i,o,d,p,v,T,B,K,ie){let ue=T.top,be=T.bottom,Me=T.left,Ie=T.right;const Be=T.collisionPadding;if(Be&&(Me-=Be[0],ue-=Be[1],Ie+=Be[2],be+=Be[3]),K){const He=new $(Me,ue),tt=new $(Ie,ue),gt=new $(Me,be),Pt=new $(Ie,be),mt=N(K);let wt=new $(0,0);ie&&(wt=new $(ie[0],ie[1])),He._rotateAround(mt,wt),tt._rotateAround(mt,wt),gt._rotateAround(mt,wt),Pt._rotateAround(mt,wt),Me=Math.min(He.x,tt.x,gt.x,Pt.x),Ie=Math.max(He.x,tt.x,gt.x,Pt.x),ue=Math.min(He.y,tt.y,gt.y,Pt.y),be=Math.max(He.y,tt.y,gt.y,Pt.y)}return r.emplaceBack(i.x,i.y,i.z,o.x,o.y,Me,ue,Ie,be,B,d,p,v),r.length-1}function Zg(r){r.collisionPadding&&(r.top-=r.collisionPadding[1],r.bottom+=r.collisionPadding[3]);const i=r.bottom-r.top;return i>0?Math.max(10,i):null}function s2(r,i,o,d){const p=r.compareText;if(i in p){const v=p[i];for(let T=v.length-1;T>=0;T--)if(d.dist(v[T])<o)return!0}else p[i]=[];return p[i].push(d),!1}const r2=tn([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:Kg}=r2,Jg=tn([{name:"a_pos_3",components:3,type:"Int16"}]);var yf=tn([{name:"a_pos",type:"Int16",components:2}]);const Ud=Tn/Math.PI/2,Qg=2*Ol(1,0)*Ud*Math.PI,Qu=64,ep=[Qu,32,16],nc=-Ud,sc=Ud,o2=[new Ta([nc,nc,nc],[sc,sc,sc]),new Ta([nc,nc,nc],[0,0,sc]),new Ta([0,nc,nc],[sc,0,sc]),new Ta([nc,0,nc],[0,sc,sc]),new Ta([0,0,nc],[sc,sc,sc])];function Ey(r,i,o,d=!0){const p=Rl([],r._camera.position,r.worldSize),v=[i,o,1,1];ph(v,v,r.pixelMatrixInverse),I_(v,v,1/v[3]);const T=Sa([],Pc([],v,p)),B=r.globeMatrix,K=[B[12],B[13],B[14]],ie=Pc([],K,p),ue=Xh(ie),be=Sa([],ie),Me=r.worldSize/(2*Math.PI),Ie=tc(be,T),Be=Math.asin(Me/ue);if(Be<Math.acos(Ie)){if(!d)return null;const zi=[],si=[];Rl(zi,T,ue/Ie),Sa(si,Pc(si,zi,ie)),Sa(T,dd(T,ie,Rl(T,si,Math.tan(Be)*ue)))}const He=[];new P0(p,T).closestPointOnSphere(K,Me,He);const tt=Sa([],qe(B,0)),gt=Sa([],qe(B,1)),Pt=Sa([],qe(B,2)),mt=tc(tt,He),wt=tc(gt,He),Ot=tc(Pt,He),Dt=j(Math.asin(-wt/Me));let Jt=j(Math.atan2(mt,Ot));Jt=r.center.lng+function(zi,si){const yi=(si-zi+180)%360-180;return yi<-180?yi+360:yi}(r.center.lng,Jt);const Kt=Ec(Jt),fi=g(Ll(Dt),0,1);return new Vh(Kt,fi)}class a2{constructor(i,o,d){this.a=Pc([],i,d),this.b=Pc([],o,d),this.center=d;const p=Sa([],this.a),v=Sa([],this.b);this.angle=Math.acos(tc(p,v))}}function e1(r,i){if(r.angle===0)return null;let o;return o=r.a[i]===0?1/r.angle*.5*Math.PI:1/r.angle*Math.atan(r.b[i]/r.a[i]/Math.sin(r.angle)-1/Math.tan(r.angle)),o<0||o>1?null:function(d,p,v,T){const B=Math.sin(v);return d*(Math.sin((1-T)*v)/B)+p*(Math.sin(T*v)/B)}(r.a[i],r.b[i],r.angle,g(o,0,1))+r.center[i]}function pd(r){if(r.z<=1)return o2[r.z+2*r.y+r.x];const i=t1(Q0(r));return Ta.fromPoints(i)}function tu(r,i,o){return Rl(r,r,1-o),Vu(r,r,i,o)}function My(r,i){const o=iu(i.zoom);if(o===0)return pd(r);const d=Q0(r),p=t1(d),v=Ec(d.getWest())*i.worldSize,T=Ec(d.getEast())*i.worldSize,B=Ll(d.getNorth())*i.worldSize,K=Ll(d.getSouth())*i.worldSize,ie=[v,B,0],ue=[T,B,0],be=[v,K,0],Me=[T,K,0],Ie=A0([],i.globeMatrix);return Wr(ie,ie,Ie),Wr(ue,ue,Ie),Wr(be,be,Ie),Wr(Me,Me,Ie),p[0]=tu(p[0],be,o),p[1]=tu(p[1],Me,o),p[2]=tu(p[2],ue,o),p[3]=tu(p[3],ie,o),Ta.fromPoints(p)}function Ay(r,i,o){for(const d of r)Wr(d,d,i),Rl(d,d,o)}function l2(r,i,o){const d=i/r.worldSize,p=r.globeMatrix;if(o.z<=1){const Kt=pd(o).getCorners();return Ay(Kt,p,d),Ta.fromPoints(Kt)}const v=Q0(o),T=t1(v);Ay(T,p,d);const B=Number.MAX_VALUE,K=[-B,-B,-B],ie=[B,B,B];if(v.contains(r.center)){for(const zi of T)il(ie,ie,zi),kc(K,K,zi);K[2]=0;const Kt=r.point,fi=[Kt.x*d,Kt.y*d,0];return il(ie,ie,fi),kc(K,K,fi),new Ta(ie,K)}const ue=[p[12]*d,p[13]*d,p[14]*d],be=v.getCenter(),Me=g(r.center.lat,-85.051129,Yo),Ie=g(be.lat,-85.051129,Yo),Be=Ec(r.center.lng),He=Ll(Me);let tt=Be-Ec(be.lng);const gt=He-Ll(Ie);tt>.5?tt-=1:tt<-.5&&(tt+=1);let Pt=0;Math.abs(tt)>Math.abs(gt)?Pt=tt>=0?1:3:(Pt=gt>=0?0:2,Vu(ue,ue,[p[4]*d,p[5]*d,p[6]*d],-Math.sin(N(gt>=0?v.getSouth():v.getNorth()))*Ud));const mt=T[Pt],wt=T[(Pt+1)%4],Ot=new a2(mt,wt,ue),Dt=[e1(Ot,0)||mt[0],e1(Ot,1)||mt[1],e1(Ot,2)||mt[2]],Jt=iu(r.zoom);if(Jt>0){const Kt=function({x:zi,y:si,z:yi},xi,ki,Ni,oi){const Wi=1/(1<<yi);let Mn=zi*Wi,Ji=Mn+Wi,fn=si*Wi,Yi=fn+Wi,In=0;const fs=(Mn+Ji)/2-Ni;return fs>.5?In=-1:fs<-.5&&(In=1),Mn=((Mn+In)*xi-(Ni*=xi))*ki+Ni,Ji=((Ji+In)*xi-Ni)*ki+Ni,fn=(fn*xi-(oi*=xi))*ki+oi,Yi=(Yi*xi-oi)*ki+oi,[[Mn,Yi,0],[Ji,Yi,0],[Ji,fn,0],[Mn,fn,0]]}(o,i,r._pixelsPerMercatorPixel,Be,He);for(let zi=0;zi<T.length;zi++)tu(T[zi],Kt[zi],Jt);const fi=dd([],Kt[Pt],Kt[(Pt+1)%4]);Rl(fi,fi,.5),tu(Dt,fi,Jt)}for(const Kt of T)il(ie,ie,Kt),kc(K,K,Kt);return ie[2]=Math.min(mt[2],wt[2]),il(ie,ie,Dt),kc(K,K,Dt),new Ta(ie,K)}function Q0({x:r,y:i,z:o}){const d=1/(1<<o),p=new _s(Ba(r*d),Wo((i+1)*d)),v=new _s(Ba((r+1)*d),Wo(i*d));return new Bd(p,v)}function t1(r){const i=N(r.getNorth()),o=N(r.getSouth()),d=Math.cos(i),p=Math.cos(o),v=Math.sin(i),T=Math.sin(o),B=r.getWest(),K=r.getEast();return[tp(p,T,B),tp(p,T,K),tp(d,v,K),tp(d,v,B)]}function tp(r,i,o,d=Ud){return o=N(o),[r*Math.sin(o)*d,-i*d,r*Math.cos(o)*d]}function vf(r,i,o){return tp(Math.cos(N(r)),Math.sin(N(r)),i,o)}function xf(r,i,o,d){const p=1<<o.z,v=(r/Tn+o.x)/p;return vf(Wo((i/Tn+o.y)/p),Ba(v),d)}function em({min:r,max:i}){return 16383/Math.max(i[0]-r[0],i[1]-r[1],i[2]-r[2])}const ky=new Float64Array(16);function bf(r){const i=em(r),o=mg(ky,[i,i,i]);return tf(o,o,((d=[])[0]=-(p=r.min)[0],d[1]=-p[1],d[2]=-p[2],d));var d,p}function i1(r){const i=(d=r.min,(o=ky)[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=d[0],o[13]=d[1],o[14]=d[2],o[15]=1,o);var o,d;const p=1/em(r);return qh(i,i,[p,p,p])}function tm(r,i,o,d,p){const v=function(K){const ie=Tn/(2*Math.PI);return K/(2*Math.PI)/ie}(o),T=[r,i,-o/(2*Math.PI)],B=ec(new Float64Array(16));return tf(B,B,T),qh(B,B,[v,v,v]),fg(B,B,N(-p)),nf(B,B,N(-d)),B}function iu(r){return b(5,6,r)}function n1(r,i){const o=vf(i.lat,i.lng),d=function(Be){const He=vf(Be._center.lat,Be._center.lng);let tt=yg([],Zh(0,1,0),He);const gt=P_([],-Be.angle,He);tt=Wr(tt,tt,gt),P_(gt,-Be._pitch,tt);const Pt=Sa([],He);return Rl(Pt,Pt,Be.cameraToCenterDistance/Be.pixelsPerMeter*Qg),Wr(Pt,Pt,gt),dd([],He,Pt)}(r);return T=(p=Gu([],d,o))[0],B=p[1],K=p[2],ie=(v=o)[0],ue=v[1],be=v[2],Ie=(Me=Math.sqrt(T*T+B*B+K*K)*Math.sqrt(ie*ie+ue*ue+be*be))&&tc(p,v)/Me,Math.acos(Math.min(Math.max(Ie,-1),1));var p,v,T,B,K,ie,ue,be,Me,Ie}function s1(r,i){return n1(r,i)>Math.PI/2*1.01}const Py=N(85),c2=Math.cos(Py),r1=Math.sin(Py);function Dy(r,i){const o=r.fovAboveCenter,d=r.elevation?r.elevation.getMinElevationBelowMSL()*i:0,p=(r._camera.position[2]*r.worldSize-d)/Math.cos(r._pitch),v=Math.sin(o)*p/Math.sin(Math.max(Math.PI/2-r._pitch-o,.01)),T=Math.sin(r._pitch)*v+p;return Math.min(1.01*T,p*(1/r._horizonShift))}function nu(r,i){if(!i.isReprojectedInTileSpace)return{scale:1<<r.z,x:r.x,y:r.y,x2:r.x+1,y2:r.y+1,projection:i};const o=Math.pow(2,-r.z),d=r.x*o,p=(r.x+1)*o,v=r.y*o,T=(r.y+1)*o,B=Ba(d),K=Ba(p),ie=Wo(v),ue=Wo(T),be=i.project(B,ie),Me=i.project(K,ie),Ie=i.project(K,ue),Be=i.project(B,ue);let He=Math.min(be.x,Me.x,Ie.x,Be.x),tt=Math.min(be.y,Me.y,Ie.y,Be.y),gt=Math.max(be.x,Me.x,Ie.x,Be.x),Pt=Math.max(be.y,Me.y,Ie.y,Be.y);const mt=o/16;function wt(Dt,Jt,Kt,fi,zi,si){const yi=(Kt+zi)/2,xi=(fi+si)/2,ki=i.project(Ba(yi),Wo(xi)),Ni=Math.max(0,He-ki.x,tt-ki.y,ki.x-gt,ki.y-Pt);He=Math.min(He,ki.x),gt=Math.max(gt,ki.x),tt=Math.min(tt,ki.y),Pt=Math.max(Pt,ki.y),Ni>mt&&(wt(Dt,ki,Kt,fi,yi,xi),wt(ki,Jt,yi,xi,zi,si))}wt(be,Me,d,v,p,v),wt(Me,Ie,p,v,p,T),wt(Ie,Be,p,T,d,T),wt(Be,be,d,T,d,v),He-=mt,tt-=mt,gt+=mt,Pt+=mt;const Ot=1/Math.max(gt-He,Pt-tt);return{scale:Ot,x:He*Ot,y:tt*Ot,x2:gt*Ot,y2:Pt*Ot,projection:i}}const d2=ec(new Float32Array(16));class go{constructor(i){this.spec=i,this.name=i.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(i,o){return{x:0,y:0,z:0}}unproject(i,o){return new _s(0,0)}projectTilePoint(i,o,d){return{x:i,y:o,z:0}}locationPoint(i,o,d=!0){return i._coordinatePoint(i.locationCoordinate(o),d)}pixelsPerMeter(i,o){return Ol(1,i)*o}pixelSpaceConversion(i,o,d){return 1}farthestPixelDistance(i){return Dy(i,i.pixelsPerMeter)}pointCoordinate(i,o,d,p){const v=i.horizonLineFromTop(!1),T=new $(o,Math.max(v,d));return i.rayIntersectionCoordinate(i.pointRayIntersection(T,p))}pointCoordinate3D(i,o,d){const p=new $(o,d);if(i.elevation)return i.elevation.pointCoordinate(p);{const v=this.pointCoordinate(i,p.x,p.y,0);return[v.x,v.y,v.z]}}isPointAboveHorizon(i,o){if(i.elevation)return!this.pointCoordinate3D(i,o.x,o.y);const d=i.horizonLineFromTop();return o.y<d}createInversionMatrix(i,o){return d2}createTileMatrix(i,o,d){let p,v,T;const B=d.canonical,K=ec(new Float64Array(16));if(this.isReprojectedInTileSpace){const ie=nu(B,this);p=1,v=ie.x+d.wrap*ie.scale,T=ie.y,qh(K,K,[p/ie.scale,p/ie.scale,i.pixelsPerMeter/o])}else p=o/i.zoomScale(B.z),v=(B.x+Math.pow(2,B.z)*d.wrap)*p,T=B.y*p;return tf(K,K,[v,T,0]),qh(K,K,[p/Tn,p/Tn,1]),K}upVector(i,o,d){return[0,0,1]}upVectorScale(i,o,d){return{metersToTile:1}}}class o1 extends go{constructor(i){super(i),this.range=[4,7],this.center=i.center||[-96,37.5];const[o,d]=this.parallels=i.parallels||[29.5,45.5],p=Math.sin(N(o));this.n=(p+Math.sin(N(d)))/2,this.c=1+p*(2*this.n-p),this.r0=Math.sqrt(this.c)/this.n}project(i,o){const{n:d,c:p,r0:v}=this,T=N(i-this.center[0]),B=N(o),K=Math.sqrt(p-2*d*Math.sin(B))/d;return{x:K*Math.sin(T*d),y:K*Math.cos(T*d)-v,z:0}}unproject(i,o){const{n:d,c:p,r0:v}=this,T=v+o;let B=Math.atan2(i,Math.abs(T))*Math.sign(T);T*d<0&&(B-=Math.PI*Math.sign(i)*Math.sign(T));const K=N(this.center[0])*d;B=D(B,-Math.PI-K,Math.PI-K);const ie=g(j(B/d)+this.center[0],-180,180),ue=Math.asin(g((p-(i*i+T*T)*d*d)/(2*d),-1,1)),be=g(j(ue),-85.051129,Yo);return new _s(ie,be)}}const wf=1.340264,Sf=-.081106,Tf=893e-6,Cf=.003796,ip=Math.sqrt(3)/2;class h2 extends go{project(i,o){o=o/180*Math.PI,i=i/180*Math.PI;const d=Math.asin(ip*Math.sin(o)),p=d*d,v=p*p*p;return{x:.5*(i*Math.cos(d)/(ip*(wf+3*Sf*p+v*(7*Tf+9*Cf*p)))/Math.PI+.5),y:1-.5*(d*(wf+Sf*p+v*(Tf+Cf*p))/Math.PI+1),z:0}}unproject(i,o){i=(2*i-.5)*Math.PI;let d=o=(2*(1-o)-1)*Math.PI,p=d*d,v=p*p*p;for(let ue,be,Me,Ie=0;Ie<12&&(be=d*(wf+Sf*p+v*(Tf+Cf*p))-o,Me=wf+3*Sf*p+v*(7*Tf+9*Cf*p),ue=be/Me,d=g(d-ue,-Math.PI/3,Math.PI/3),p=d*d,v=p*p*p,!(Math.abs(ue)<1e-12));++Ie);const T=ip*i*(wf+3*Sf*p+v*(7*Tf+9*Cf*p))/Math.cos(d),B=Math.asin(Math.sin(d)/ip),K=g(180*T/Math.PI,-180,180),ie=g(180*B/Math.PI,-85.051129,Yo);return new _s(K,ie)}}class a1 extends go{constructor(i){super(i),this.wrap=!0,this.supportsWorldCopies=!0}project(i,o){return{x:.5+i/360,y:.5-o/360,z:0}}unproject(i,o){const d=360*(i-.5),p=g(360*(.5-o),-85.051129,Yo);return new _s(d,p)}}const np=Math.PI/2;function im(r){return Math.tan((np+r)/2)}class u2 extends go{constructor(i){super(i),this.center=i.center||[0,30];const[o,d]=this.parallels=i.parallels||[30,30];let p=N(o),v=N(d);this.southernCenter=p+v<0,this.southernCenter&&(p=-p,v=-v);const T=Math.cos(p),B=im(p);this.n=p===v?Math.sin(p):Math.log(T/Math.cos(v))/Math.log(im(v)/B),this.f=T*Math.pow(im(p),this.n)/this.n}project(i,o){o=N(o),this.southernCenter&&(o=-o),i=N(i-this.center[0]);const d=1e-6,{n:p,f:v}=this;v>0?o<-np+d&&(o=-np+d):o>np-d&&(o=np-d);const T=v/Math.pow(im(o),p);let B=T*Math.sin(p*i),K=v-T*Math.cos(p*i);return B=.5*(B/Math.PI+.5),K=.5*(K/Math.PI+.5),{x:B,y:this.southernCenter?K:1-K,z:0}}unproject(i,o){i=(2*i-.5)*Math.PI,this.southernCenter&&(o=1-o),o=(2*(1-o)-.5)*Math.PI;const{n:d,f:p}=this,v=p-o,T=Math.sign(v),B=Math.sign(d)*Math.sqrt(i*i+v*v);let K=Math.atan2(i,Math.abs(v))*T;v*d<0&&(K-=Math.PI*Math.sign(i)*T);const ie=g(j(K/d)+this.center[0],-180,180),ue=g(j(2*Math.atan(Math.pow(p/B,1/d))-np),-85.051129,Yo);return new _s(ie,this.southernCenter?-ue:ue)}}class Iy extends go{constructor(i){super(i),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(i,o){return{x:Ec(i),y:Ll(o),z:0}}unproject(i,o){const d=Ba(i),p=Wo(o);return new _s(d,p)}}const l1=N(Yo);class p2 extends go{project(i,o){const d=(o=N(o))*o,p=d*d;return{x:.5*((i=N(i))*(.8707-.131979*d+p*(p*(.003971*d-.001529*p)-.013791))/Math.PI+.5),y:1-.5*(o*(1.007226+d*(.015085+p*(.028874*d-.044475-.005916*p)))/Math.PI+1),z:0}}unproject(i,o){i=(2*i-.5)*Math.PI;let d=o=(2*(1-o)-1)*Math.PI,p=25,v=0,T=d*d;do{T=d*d;const ie=T*T;v=(d*(1.007226+T*(.015085+ie*(.028874*T-.044475-.005916*ie)))-o)/(1.007226+T*(.045255+ie*(.259866*T-.311325-.005916*11*ie))),d=g(d-v,-l1,l1)}while(Math.abs(v)>1e-6&&--p>0);T=d*d;const B=g(j(i/(.8707+T*(T*(T*T*T*(.003971-.001529*T)-.013791)-.131979))),-180,180),K=j(d);return new _s(B,K)}}const Ly=N(Yo);class f2 extends go{project(i,o){o=N(o),i=N(i);const d=Math.cos(o),p=2/Math.PI,v=Math.acos(d*Math.cos(i/2)),T=Math.sin(v)/v,B=.5*(i*p+2*d*Math.sin(i/2)/T)||0,K=.5*(o+Math.sin(o)/T)||0;return{x:.5*(B/Math.PI+.5),y:1-.5*(K/Math.PI+1),z:0}}unproject(i,o){let d=i=(2*i-.5)*Math.PI,p=o=(2*(1-o)-1)*Math.PI,v=25;const T=1e-6;let B=0,K=0;do{const ie=Math.cos(p),ue=Math.sin(p),be=2*ue*ie,Me=ue*ue,Ie=ie*ie,Be=Math.cos(d/2),He=Math.sin(d/2),tt=2*Be*He,gt=He*He,Pt=1-Ie*Be*Be,mt=Pt?1/Pt:0,wt=Pt?Math.acos(ie*Be)*Math.sqrt(1/Pt):0,Ot=.5*(2*wt*ie*He+2*d/Math.PI)-i,Dt=.5*(wt*ue+p)-o,Jt=.5*mt*(Ie*gt+wt*ie*Be*Me)+1/Math.PI,Kt=mt*(tt*be/4-wt*ue*He),fi=.125*mt*(be*He-wt*ue*Ie*tt),zi=.5*mt*(Me*Be+wt*gt*ie)+.5,si=Kt*fi-zi*Jt;B=(Dt*Kt-Ot*zi)/si,K=(Ot*fi-Dt*Jt)/si,d=g(d-B,-Math.PI,Math.PI),p=g(p-K,-Ly,Ly)}while((Math.abs(B)>T||Math.abs(K)>T)&&--v>0);return new _s(j(d),j(p))}}class nm extends go{constructor(i){super(i),this.center=i.center||[0,0],this.parallels=i.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(N(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(i,o){const{scale:d,cosPhi:p}=this;return{x:N(i)*p*d+.5,y:-Math.sin(N(o))/p*d+.5,z:0}}unproject(i,o){const{scale:d,cosPhi:p}=this,v=-(o-.5)/d,T=g(j((i-.5)/d)/p,-180,180),B=Math.asin(g(v*p,-1,1)),K=g(j(B),-85.051129,Yo);return new _s(T,K)}}class c1 extends Iy{constructor(i){super(i),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(i,o,d){const p=xf(i,o,d);return Wr(p,p,bf(pd(d))),{x:p[0],y:p[1],z:p[2]}}locationPoint(i,o){const d=vf(o.lat,o.lng),p=Sa([],d),v=i.elevation?i.elevation.getAtPointOrZero(i.locationCoordinate(o),i._centerAltitude):i._centerAltitude;Vu(d,d,p,Ol(1,0)*Tn*v);const T=ec(new Float64Array(16));return Yh(T,i.pixelMatrix,i.globeMatrix),Wr(d,d,T),new $(d[0],d[1])}pixelsPerMeter(i,o){return Ol(1,0)*o}pixelSpaceConversion(i,o,d){const p=Ol(1,i)*o,v=zn(Ol(1,45)*o,p,d);return this.pixelsPerMeter(i,o)/v}createTileMatrix(i,o,d){const p=i1(pd(d.canonical));return Yh(new Float64Array(16),i.globeMatrix,p)}createInversionMatrix(i,o){const{center:d}=i,p=bf(pd(o));return nf(p,p,N(d.lng)),fg(p,p,N(d.lat)),qh(p,p,[i._pixelsPerMercatorPixel,i._pixelsPerMercatorPixel,1]),Float32Array.from(p)}pointCoordinate(i,o,d,p){return Ey(i,o,d,!0)||new Vh(0,0)}pointCoordinate3D(i,o,d){const p=this.pointCoordinate(i,o,d,0);return[p.x,p.y,p.z]}isPointAboveHorizon(i,o){return!Ey(i,o.x,o.y,!1)}farthestPixelDistance(i){const o=function(p,v){const T=p.cameraToCenterDistance,B=p._centerAltitude*v,K=p._camera,ie=p._camera.forward(),ue=dd([],Rl([],ie,-T),[0,0,B]),be=p.worldSize/(2*Math.PI),Me=[0,0,-be],Ie=p.width/p.height,Be=Math.tan(p.fovAboveCenter),He=Rl([],K.up(),Be),tt=Rl([],K.right(),Be*Ie),gt=Sa([],dd([],dd([],ie,He),tt)),Pt=[];let mt;if(new P0(ue,gt).closestPointOnSphere(Me,be,Pt)){const wt=dd([],Pt,Me),Ot=Pc([],wt,ue);mt=Math.cos(p.fovAboveCenter)*Xh(Ot)}else{const wt=Pc([],ue,Me),Ot=Pc([],Me,ue);Sa(Ot,Ot);const Dt=Xh(wt)-be;mt=Math.sqrt(Dt*(Dt+2*be));const Jt=Math.acos(mt/(be+Dt))-Math.acos(tc(ie,Ot));mt*=Math.cos(Jt)}return 1.01*mt}(i,this.pixelsPerMeter(i.center.lat,i.worldSize)),d=iu(i.zoom);if(d>0){const p=Dy(i,Ol(1,i.center.lat)*i.worldSize),v=i.worldSize/(2*Math.PI),T=Math.max(i.width,i.height)/i.worldSize*Math.PI;return zn(o,p+v*(1-Math.cos(T)),Math.pow(d,10))}return o}upVector(i,o,d){return xf(o,d,i,1)}upVectorScale(i){return{metersToTile:Qg*em(pd(i))}}}function Oy(r){const i=r.parallels,o=!!i&&Math.abs(i[0]+i[1])<.01;switch(r.name){case"mercator":return new Iy(r);case"equirectangular":return new a1(r);case"naturalEarth":return new p2(r);case"equalEarth":return new h2(r);case"winkelTripel":return new f2(r);case"albers":return o?new nm(r):new o1(r);case"lambertConformalConic":return o?new nm(r):new u2(r);case"globe":return new c1(r)}throw new Error(`Invalid projection name: ${r.name}`)}const m2=z0.types,g2=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function sm(r,i,o,d,p,v,T,B,K,ie,ue,be,Me){const Ie=B?Math.min(gh,Math.round(B[0])):0,Be=B?Math.min(gh,Math.round(B[1])):0;r.emplaceBack(i,o,Math.round(32*d),Math.round(32*p),v,T,(Ie<<1)+(K?1:0),Be,16*ie,16*ue,256*be,256*Me)}function rm(r,i,o,d,p,v,T){r.emplaceBack(i,o,d,p,v,T)}function om(r,i,o,d,p){r.emplaceBack(i,o,d,p),r.emplaceBack(i,o,d,p),r.emplaceBack(i,o,d,p),r.emplaceBack(i,o,d,p)}function _2(r){for(const i of r.sections)if(at(i.text))return!0;return!1}class d1{constructor(i){this.layoutVertexArray=new $s,this.indexArray=new Lo,this.programConfigurations=i,this.segments=new Qr,this.dynamicLayoutVertexArray=new ta,this.opacityVertexArray=new jr,this.placedSymbolArray=new __,this.globeExtVertexArray=new Ms}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(i,o,d,p){this.isEmpty()||(d&&(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,Rb.members),this.indexBuffer=i.createIndexBuffer(this.indexArray,o),this.dynamicLayoutVertexBuffer=i.createVertexBuffer(this.dynamicLayoutVertexArray,Bb.members,!0),this.opacityVertexBuffer=i.createVertexBuffer(this.opacityVertexArray,g2,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=i.createVertexBuffer(this.globeExtVertexArray,Dc.members,!0)),this.opacityVertexBuffer.itemSize=1),(d||p)&&this.programConfigurations.upload(i))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}qi(d1,"SymbolBuffers");class h1{constructor(i,o,d){this.layoutVertexArray=new i,this.layoutAttributes=o,this.indexArray=new d,this.segments=new Qr,this.collisionVertexArray=new jh,this.collisionVertexArrayExt=new Dl}upload(i){this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=i.createVertexBuffer(this.collisionVertexArray,zb.members,!0),this.collisionVertexBufferExt=i.createVertexBuffer(this.collisionVertexArrayExt,Jh.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}qi(h1,"CollisionBuffers");class _h{constructor(i){this.collisionBoxArray=i.collisionBoxArray,this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(T=>T.id),this.index=i.index,this.pixelRatio=i.pixelRatio,this.sourceLayerIndex=i.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=ec([]),this.placementViewportMatrix=ec([]);const o=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Ng(this.zoom,o["text-size"]),this.iconSizeData=Ng(this.zoom,o["icon-size"]);const d=this.layers[0].layout,p=d.get("symbol-sort-key"),v=d.get("symbol-z-order");this.canOverlap=d.get("text-allow-overlap")||d.get("icon-allow-overlap")||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey=v!=="viewport-y"&&p.constantOr(1)!==void 0,this.sortFeaturesByY=(v==="viewport-y"||v==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=d.get("text-writing-mode").map(T=>jn[T]),this.stateDependentLayerIds=this.layers.filter(T=>T.isStateDependent()).map(T=>T.id),this.sourceID=i.sourceID,this.projection=i.projection}createArrays(){this.text=new d1(new ad(this.layers,this.zoom,i=>/^text/.test(i))),this.icon=new d1(new ad(this.layers,this.zoom,i=>/^icon/.test(i))),this.glyphOffsetArray=new Zm,this.lineVertexArray=new Km,this.symbolInstances=new v0}calculateGlyphDependencies(i,o,d,p,v){for(let T=0;T<i.length;T++)if(o[i.charCodeAt(T)]=!0,p&&v){const B=ff[i.charAt(T)];B&&(o[B.charCodeAt(0)]=!0)}}populate(i,o,d,p){const v=this.layers[0],T=v.layout,B=this.projection.name==="globe",K=T.get("text-font"),ie=T.get("text-field"),ue=T.get("icon-image"),be=(ie.value.kind!=="constant"||ie.value.value instanceof Rr&&!ie.value.value.isEmpty()||ie.value.value.toString().length>0)&&(K.value.kind!=="constant"||K.value.value.length>0),Me=ue.value.kind!=="constant"||!!ue.value.value||Object.keys(ue.parameters).length>0,Ie=T.get("symbol-sort-key");if(this.features=[],!be&&!Me)return;const Be=o.iconDependencies,He=o.glyphDependencies,tt=o.availableImages,gt=new Vt(this.zoom);for(const{feature:Pt,id:mt,index:wt,sourceLayerIndex:Ot}of i){const Dt=v._featureFilter.needGeometry,Jt=ld(Pt,Dt);if(!v._featureFilter.filter(gt,Jt,d))continue;if(Dt||(Jt.geometry=Ac(Pt,d,p)),B&&Pt.type!==1&&d.z<=5){const si=Jt.geometry,yi=.98078528056,xi=(ki,Ni)=>tc(xf(ki.x,ki.y,d,1),xf(Ni.x,Ni.y,d,1))<yi;for(let ki=0;ki<si.length;ki++)si[ki]=Yx(si[ki],xi)}let Kt,fi;if(be){const si=v.getValueAndResolveTokens("text-field",Jt,d,tt),yi=Rr.factory(si);_2(yi)&&(this.hasRTLText=!0),(!this.hasRTLText||jt()==="unavailable"||this.hasRTLText&&Zt.isParsed())&&(Kt=jb(yi,v,Jt))}if(Me){const si=v.getValueAndResolveTokens("icon-image",Jt,d,tt);fi=si instanceof jo?si:jo.fromString(si)}if(!Kt&&!fi)continue;const zi=this.sortFeaturesByKey?Ie.evaluate(Jt,{},d):void 0;if(this.features.push({id:mt,text:Kt,icon:fi,index:wt,sourceLayerIndex:Ot,geometry:Jt.geometry,properties:Pt.properties,type:m2[Pt.type],sortKey:zi}),fi&&(Be[fi.name]=!0),Kt){const si=K.evaluate(Jt,{},d).join(","),yi=T.get("text-rotation-alignment")==="map"&&T.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(jn.vertical)>=0;for(const xi of Kt.sections)if(xi.image)Be[xi.image.name]=!0;else{const ki=se(Kt.toString()),Ni=xi.fontStack||si,oi=He[Ni]=He[Ni]||{};this.calculateGlyphDependencies(xi.text,oi,yi,this.allowVerticalPlacement,ki)}}}T.get("symbol-placement")==="line"&&(this.features=function(Pt){const mt={},wt={},Ot=[];let Dt=0;function Jt(si){Ot.push(Pt[si]),Dt++}function Kt(si,yi,xi){const ki=wt[si];return delete wt[si],wt[yi]=ki,Ot[ki].geometry[0].pop(),Ot[ki].geometry[0]=Ot[ki].geometry[0].concat(xi[0]),ki}function fi(si,yi,xi){const ki=mt[yi];return delete mt[yi],mt[si]=ki,Ot[ki].geometry[0].shift(),Ot[ki].geometry[0]=xi[0].concat(Ot[ki].geometry[0]),ki}function zi(si,yi,xi){const ki=xi?yi[0][yi[0].length-1]:yi[0][0];return`${si}:${ki.x}:${ki.y}`}for(let si=0;si<Pt.length;si++){const yi=Pt[si],xi=yi.geometry,ki=yi.text?yi.text.toString():null;if(!ki){Jt(si);continue}const Ni=zi(ki,xi),oi=zi(ki,xi,!0);if(Ni in wt&&oi in mt&&wt[Ni]!==mt[oi]){const Wi=fi(Ni,oi,xi),Mn=Kt(Ni,oi,Ot[Wi].geometry);delete mt[Ni],delete wt[oi],wt[zi(ki,Ot[Mn].geometry,!0)]=Mn,Ot[Wi].geometry=null}else Ni in wt?Kt(Ni,oi,xi):oi in mt?fi(Ni,oi,xi):(Jt(si),mt[Ni]=Dt-1,wt[oi]=Dt-1)}return Ot.filter(si=>si.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Pt,mt)=>Pt.sortKey-mt.sortKey)}update(i,o,d,p){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(i,o,this.layers,d,p),this.icon.programConfigurations.updatePaintArrays(i,o,this.layers,d,p))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(i){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(i),this.iconCollisionBox.upload(i)),this.text.upload(i,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(i,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=Oy(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(i,o){const d=this.lineVertexArray.length;if(i.segment!==void 0)for(const{x:p,y:v}of o)this.lineVertexArray.emplaceBack(p,v);return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(i,o,d,p,v,T,B,K,ie,ue,be,Me,Ie,Be){const He=i.indexArray,tt=i.layoutVertexArray,gt=i.globeExtVertexArray,Pt=i.segments.prepareSegment(4*o.length,tt,He,this.canOverlap?T.sortKey:void 0),mt=this.glyphOffsetArray.length,wt=Pt.vertexLength,Ot=this.allowVerticalPlacement&&B===jn.vertical?Math.PI/2:0,Dt=T.text&&T.text.sections;for(let Kt=0;Kt<o.length;Kt++){const{tl:fi,tr:zi,bl:si,br:yi,tex:xi,pixelOffsetTL:ki,pixelOffsetBR:Ni,minFontScaleX:oi,minFontScaleY:Wi,glyphOffset:Mn,isSDF:Ji,sectionIndex:fn}=o[Kt],Yi=Pt.vertexLength,In=Mn[1];if(sm(tt,ie.x,ie.y,fi.x,In+fi.y,xi.x,xi.y,d,Ji,ki.x,ki.y,oi,Wi),sm(tt,ie.x,ie.y,zi.x,In+zi.y,xi.x+xi.w,xi.y,d,Ji,Ni.x,ki.y,oi,Wi),sm(tt,ie.x,ie.y,si.x,In+si.y,xi.x,xi.y+xi.h,d,Ji,ki.x,Ni.y,oi,Wi),sm(tt,ie.x,ie.y,yi.x,In+yi.y,xi.x+xi.w,xi.y+xi.h,d,Ji,Ni.x,Ni.y,oi,Wi),K){const{x:fs,y:ds,z:as}=K.anchor,[Ln,Ys,Yn]=K.up;rm(gt,fs,ds,as,Ln,Ys,Yn),rm(gt,fs,ds,as,Ln,Ys,Yn),rm(gt,fs,ds,as,Ln,Ys,Yn),rm(gt,fs,ds,as,Ln,Ys,Yn),om(i.dynamicLayoutVertexArray,fs,ds,as,Ot)}else om(i.dynamicLayoutVertexArray,ie.x,ie.y,ie.z,Ot);He.emplaceBack(Yi,Yi+1,Yi+2),He.emplaceBack(Yi+1,Yi+2,Yi+3),Pt.vertexLength+=4,Pt.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Mn[0]),Kt!==o.length-1&&fn===o[Kt+1].sectionIndex||i.programConfigurations.populatePaintArrays(tt.length,T,T.index,{},Ie,Be,Dt&&Dt[fn])}const Jt=K?K.anchor:ie;i.placedSymbolArray.emplaceBack(Jt.x,Jt.y,Jt.z,ie.x,ie.y,mt,this.glyphOffsetArray.length-mt,wt,ue,be,ie.segment,d?d[0]:0,d?d[1]:0,p[0],p[1],B,0,!1,0,Me,0)}_commitLayoutVertex(i,o,d,p,v,T,B){i.emplaceBack(o,d,p,v,T,Math.round(B.x),Math.round(B.y))}_addCollisionDebugVertices(i,o,d,p,v,T,B){const K=d.segments.prepareSegment(4,d.layoutVertexArray,d.indexArray),ie=K.vertexLength,ue=B.tileAnchorX,be=B.tileAnchorY;for(let Ie=0;Ie<4;Ie++)d.collisionVertexArray.emplaceBack(0,0,0,0);d.collisionVertexArrayExt.emplaceBack(o,-i.padding,-i.padding),d.collisionVertexArrayExt.emplaceBack(o,i.padding,-i.padding),d.collisionVertexArrayExt.emplaceBack(o,i.padding,i.padding),d.collisionVertexArrayExt.emplaceBack(o,-i.padding,i.padding),this._commitLayoutVertex(d.layoutVertexArray,p,v,T,ue,be,new $(i.x1,i.y1)),this._commitLayoutVertex(d.layoutVertexArray,p,v,T,ue,be,new $(i.x2,i.y1)),this._commitLayoutVertex(d.layoutVertexArray,p,v,T,ue,be,new $(i.x2,i.y2)),this._commitLayoutVertex(d.layoutVertexArray,p,v,T,ue,be,new $(i.x1,i.y2)),K.vertexLength+=4;const Me=d.indexArray;Me.emplaceBack(ie,ie+1),Me.emplaceBack(ie+1,ie+2),Me.emplaceBack(ie+2,ie+3),Me.emplaceBack(ie+3,ie),K.primitiveLength+=4}_addTextDebugCollisionBoxes(i,o,d,p,v,T){for(let B=p;B<v;B++){const K=d.get(B),ie=this.getSymbolInstanceTextSize(i,T,o,B);this._addCollisionDebugVertices(K,ie,this.textCollisionBox,K.projectedAnchorX,K.projectedAnchorY,K.projectedAnchorZ,T)}}_addIconDebugCollisionBoxes(i,o,d,p,v,T){for(let B=p;B<v;B++){const K=d.get(B),ie=this.getSymbolInstanceIconSize(i,o,T.placedIconSymbolIndex);this._addCollisionDebugVertices(K,ie,this.iconCollisionBox,K.projectedAnchorX,K.projectedAnchorY,K.projectedAnchorZ,T)}}generateCollisionDebugBuffers(i,o){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new h1(ir,os.members,Ql),this.iconCollisionBox=new h1(ir,os.members,Ql);const d=Xu(this.iconSizeData,i),p=Xu(this.textSizeData,i);for(let v=0;v<this.symbolInstances.length;v++){const T=this.symbolInstances.get(v);this._addTextDebugCollisionBoxes(p,i,o,T.textBoxStartIndex,T.textBoxEndIndex,T),this._addTextDebugCollisionBoxes(p,i,o,T.verticalTextBoxStartIndex,T.verticalTextBoxEndIndex,T),this._addIconDebugCollisionBoxes(d,i,o,T.iconBoxStartIndex,T.iconBoxEndIndex,T),this._addIconDebugCollisionBoxes(d,i,o,T.verticalIconBoxStartIndex,T.verticalIconBoxEndIndex,T)}}getSymbolInstanceTextSize(i,o,d,p){const v=this.text.placedSymbolArray.get(o.rightJustifiedTextSymbolIndex>=0?o.rightJustifiedTextSymbolIndex:o.centerJustifiedTextSymbolIndex>=0?o.centerJustifiedTextSymbolIndex:o.leftJustifiedTextSymbolIndex>=0?o.leftJustifiedTextSymbolIndex:o.verticalPlacedTextSymbolIndex>=0?o.verticalPlacedTextSymbolIndex:p),T=Ic(this.textSizeData,i,v)/nr;return this.tilePixelRatio*T}getSymbolInstanceIconSize(i,o,d){const p=this.icon.placedSymbolArray.get(d),v=Ic(this.iconSizeData,i,p);return this.tilePixelRatio*v}_commitDebugCollisionVertexUpdate(i,o,d){i.emplaceBack(o,-d,-d),i.emplaceBack(o,d,-d),i.emplaceBack(o,d,d),i.emplaceBack(o,-d,d)}_updateTextDebugCollisionBoxes(i,o,d,p,v,T){for(let B=p;B<v;B++){const K=d.get(B),ie=this.getSymbolInstanceTextSize(i,T,o,B);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,ie,K.padding)}}_updateIconDebugCollisionBoxes(i,o,d,p,v,T){for(let B=p;B<v;B++){const K=d.get(B),ie=this.getSymbolInstanceIconSize(i,o,T);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,ie,K.padding)}}updateCollisionDebugBuffers(i,o){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const d=Xu(this.iconSizeData,i),p=Xu(this.textSizeData,i);for(let v=0;v<this.symbolInstances.length;v++){const T=this.symbolInstances.get(v);this._updateTextDebugCollisionBoxes(p,i,o,T.textBoxStartIndex,T.textBoxEndIndex,T),this._updateTextDebugCollisionBoxes(p,i,o,T.verticalTextBoxStartIndex,T.verticalTextBoxEndIndex,T),this._updateIconDebugCollisionBoxes(d,i,o,T.iconBoxStartIndex,T.iconBoxEndIndex,T.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(d,i,o,T.verticalIconBoxStartIndex,T.verticalIconBoxEndIndex,T.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(i,o,d,p,v,T,B,K,ie){const ue={};if(o<d){const{x1:be,y1:Me,x2:Ie,y2:Be,padding:He,projectedAnchorX:tt,projectedAnchorY:gt,projectedAnchorZ:Pt,tileAnchorX:mt,tileAnchorY:wt,featureIndex:Ot}=i.get(o);ue.textBox={x1:be,y1:Me,x2:Ie,y2:Be,padding:He,projectedAnchorX:tt,projectedAnchorY:gt,projectedAnchorZ:Pt,tileAnchorX:mt,tileAnchorY:wt},ue.textFeatureIndex=Ot}if(p<v){const{x1:be,y1:Me,x2:Ie,y2:Be,padding:He,projectedAnchorX:tt,projectedAnchorY:gt,projectedAnchorZ:Pt,tileAnchorX:mt,tileAnchorY:wt,featureIndex:Ot}=i.get(p);ue.verticalTextBox={x1:be,y1:Me,x2:Ie,y2:Be,padding:He,projectedAnchorX:tt,projectedAnchorY:gt,projectedAnchorZ:Pt,tileAnchorX:mt,tileAnchorY:wt},ue.verticalTextFeatureIndex=Ot}if(T<B){const{x1:be,y1:Me,x2:Ie,y2:Be,padding:He,projectedAnchorX:tt,projectedAnchorY:gt,projectedAnchorZ:Pt,tileAnchorX:mt,tileAnchorY:wt,featureIndex:Ot}=i.get(T);ue.iconBox={x1:be,y1:Me,x2:Ie,y2:Be,padding:He,projectedAnchorX:tt,projectedAnchorY:gt,projectedAnchorZ:Pt,tileAnchorX:mt,tileAnchorY:wt},ue.iconFeatureIndex=Ot}if(K<ie){const{x1:be,y1:Me,x2:Ie,y2:Be,padding:He,projectedAnchorX:tt,projectedAnchorY:gt,projectedAnchorZ:Pt,tileAnchorX:mt,tileAnchorY:wt,featureIndex:Ot}=i.get(K);ue.verticalIconBox={x1:be,y1:Me,x2:Ie,y2:Be,padding:He,projectedAnchorX:tt,projectedAnchorY:gt,projectedAnchorZ:Pt,tileAnchorX:mt,tileAnchorY:wt},ue.verticalIconFeatureIndex=Ot}return ue}deserializeCollisionBoxes(i){this.collisionArrays=[];for(let o=0;o<this.symbolInstances.length;o++){const d=this.symbolInstances.get(o);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(i,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(i,o){const d=i.placedSymbolArray.get(o),p=d.vertexStartIndex+4*d.numGlyphs;for(let v=d.vertexStartIndex;v<p;v+=4)i.indexArray.emplaceBack(v,v+1,v+2),i.indexArray.emplaceBack(v+1,v+2,v+3)}getSortedSymbolIndexes(i){if(this.sortedAngle===i&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const o=Math.sin(i),d=Math.cos(i),p=[],v=[],T=[];for(let B=0;B<this.symbolInstances.length;++B){T.push(B);const K=this.symbolInstances.get(B);p.push(0|Math.round(o*K.tileAnchorX+d*K.tileAnchorY)),v.push(K.featureIndex)}return T.sort((B,K)=>p[B]-p[K]||v[K]-v[B]),T}addToSortKeyRanges(i,o){const d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===o?d.symbolInstanceEnd=i+1:this.sortKeyRanges.push({sortKey:o,symbolInstanceStart:i,symbolInstanceEnd:i+1})}sortFeatures(i){if(this.sortFeaturesByY&&this.sortedAngle!==i&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(i),this.sortedAngle=i,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const o of this.symbolInstanceIndexes){const d=this.symbolInstances.get(o);this.featureSortOrder.push(d.featureIndex);const{rightJustifiedTextSymbolIndex:p,centerJustifiedTextSymbolIndex:v,leftJustifiedTextSymbolIndex:T,verticalPlacedTextSymbolIndex:B,placedIconSymbolIndex:K,verticalPlacedIconSymbolIndex:ie}=d;p>=0&&this.addIndicesForPlacedSymbol(this.text,p),v>=0&&v!==p&&this.addIndicesForPlacedSymbol(this.text,v),T>=0&&T!==v&&T!==p&&this.addIndicesForPlacedSymbol(this.text,T),B>=0&&this.addIndicesForPlacedSymbol(this.text,B),K>=0&&this.addIndicesForPlacedSymbol(this.icon,K),ie>=0&&this.addIndicesForPlacedSymbol(this.icon,ie)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}qi(_h,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),_h.MAX_GLYPHS=65535,_h.addDynamicAttributes=om;const y2=new gn({"symbol-placement":new Ht(di.layout_symbol["symbol-placement"]),"symbol-spacing":new Ht(di.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Ht(di.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ei(di.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Ht(di.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Ht(di.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Ht(di.layout_symbol["icon-ignore-placement"]),"icon-optional":new Ht(di.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Ht(di.layout_symbol["icon-rotation-alignment"]),"icon-size":new ei(di.layout_symbol["icon-size"]),"icon-text-fit":new Ht(di.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Ht(di.layout_symbol["icon-text-fit-padding"]),"icon-image":new ei(di.layout_symbol["icon-image"]),"icon-rotate":new ei(di.layout_symbol["icon-rotate"]),"icon-padding":new Ht(di.layout_symbol["icon-padding"]),"icon-keep-upright":new Ht(di.layout_symbol["icon-keep-upright"]),"icon-offset":new ei(di.layout_symbol["icon-offset"]),"icon-anchor":new ei(di.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Ht(di.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Ht(di.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Ht(di.layout_symbol["text-rotation-alignment"]),"text-field":new ei(di.layout_symbol["text-field"]),"text-font":new ei(di.layout_symbol["text-font"]),"text-size":new ei(di.layout_symbol["text-size"]),"text-max-width":new ei(di.layout_symbol["text-max-width"]),"text-line-height":new ei(di.layout_symbol["text-line-height"]),"text-letter-spacing":new ei(di.layout_symbol["text-letter-spacing"]),"text-justify":new ei(di.layout_symbol["text-justify"]),"text-radial-offset":new ei(di.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Ht(di.layout_symbol["text-variable-anchor"]),"text-anchor":new ei(di.layout_symbol["text-anchor"]),"text-max-angle":new Ht(di.layout_symbol["text-max-angle"]),"text-writing-mode":new Ht(di.layout_symbol["text-writing-mode"]),"text-rotate":new ei(di.layout_symbol["text-rotate"]),"text-padding":new Ht(di.layout_symbol["text-padding"]),"text-keep-upright":new Ht(di.layout_symbol["text-keep-upright"]),"text-transform":new ei(di.layout_symbol["text-transform"]),"text-offset":new ei(di.layout_symbol["text-offset"]),"text-allow-overlap":new Ht(di.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Ht(di.layout_symbol["text-ignore-placement"]),"text-optional":new Ht(di.layout_symbol["text-optional"])});var u1={paint:new gn({"icon-opacity":new ei(di.paint_symbol["icon-opacity"]),"icon-color":new ei(di.paint_symbol["icon-color"]),"icon-halo-color":new ei(di.paint_symbol["icon-halo-color"]),"icon-halo-width":new ei(di.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ei(di.paint_symbol["icon-halo-blur"]),"icon-translate":new Ht(di.paint_symbol["icon-translate"]),"icon-translate-anchor":new Ht(di.paint_symbol["icon-translate-anchor"]),"text-opacity":new ei(di.paint_symbol["text-opacity"]),"text-color":new ei(di.paint_symbol["text-color"],{runtimeType:Eo,getOverride:r=>r.textColor,hasOverride:r=>!!r.textColor}),"text-halo-color":new ei(di.paint_symbol["text-halo-color"]),"text-halo-width":new ei(di.paint_symbol["text-halo-width"]),"text-halo-blur":new ei(di.paint_symbol["text-halo-blur"]),"text-translate":new Ht(di.paint_symbol["text-translate"]),"text-translate-anchor":new Ht(di.paint_symbol["text-translate-anchor"])}),layout:y2};class Ry{constructor(i){this.type=i.property.overrides?i.property.overrides.runtimeType:Vr,this.defaultValue=i}evaluate(i){if(i.formattedSection){const o=this.defaultValue.property.overrides;if(o&&o.hasOverride(i.formattedSection))return o.getOverride(i.formattedSection)}return i.feature&&i.featureState?this.defaultValue.evaluate(i.feature,i.featureState):this.defaultValue.property.specification.default}eachChild(i){this.defaultValue.isConstant()||i(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}qi(Ry,"FormatSectionOverride",{omit:["defaultValue"]});class am extends Ra{constructor(i){super(i,u1)}recalculate(i,o){super.recalculate(i,o),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const d=this.layout.get("text-writing-mode");if(d){const p=[];for(const v of d)p.indexOf(v)<0&&p.push(v);this.layout._values["text-writing-mode"]=p}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(i,o,d,p){const v=this.layout.get(i).evaluate(o,{},d,p),T=this._unevaluatedLayout._values[i];return T.isDataDriven()||xt(T.value)||!v?v:function(B,K){return K.replace(/{([^{}]+)}/g,(ie,ue)=>ue in B?String(B[ue]):"")}(o.properties,v)}createBucket(i){return new _h(i)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const i of u1.paint.overridableProperties){if(!am.hasPaintOverride(this.layout,i))continue;const o=this.paint.get(i),d=new Ry(o),p=new Ge(d,o.property.specification);let v=null;v=o.value.kind==="constant"||o.value.kind==="source"?new mn("source",p):new cs("composite",p,o.value.zoomStops,o.value._interpolationType),this.paint._values[i]=new vi(o.property,v,o.parameters)}}_handleOverridablePaintPropertyUpdate(i,o,d){return!(!this.layout||o.isDataDriven()||d.isDataDriven())&&am.hasPaintOverride(this.layout,i)}static hasPaintOverride(i,o){const d=i.get("text-field"),p=u1.paint.properties[o];let v=!1;const T=B=>{for(const K of B)if(p.overrides&&p.overrides.hasOverride(K))return void(v=!0)};if(d.value.kind==="constant"&&d.value.value instanceof Rr)T(d.value.value.sections);else if(d.value.kind==="source"){const B=ie=>{v||(ie instanceof yl&&kr(ie.value)===Jo?T(ie.value.sections):ie instanceof Ts?T(ie.sections):ie.eachChild(B))},K=d.value;K._styleExpression&&B(K._styleExpression.expression)}return v}getProgramConfiguration(i){return new uh(this,i)}}var v2={paint:new gn({"background-color":new Ht(di.paint_background["background-color"]),"background-pattern":new Ht(di.paint_background["background-pattern"]),"background-opacity":new Ht(di.paint_background["background-opacity"])})},x2={paint:new gn({"raster-opacity":new Ht(di.paint_raster["raster-opacity"]),"raster-hue-rotate":new Ht(di.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Ht(di.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Ht(di.paint_raster["raster-brightness-max"]),"raster-saturation":new Ht(di.paint_raster["raster-saturation"]),"raster-contrast":new Ht(di.paint_raster["raster-contrast"]),"raster-resampling":new Ht(di.paint_raster["raster-resampling"]),"raster-fade-duration":new Ht(di.paint_raster["raster-fade-duration"])})};class b2 extends Ra{constructor(i){super(i,{}),this.implementation=i}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(i){this.implementation.onAdd&&this.implementation.onAdd(i,i.painter.context.gl)}onRemove(i){this.implementation.onRemove&&this.implementation.onRemove(i,i.painter.context.gl)}}var w2={paint:new gn({"sky-type":new Ht(di.paint_sky["sky-type"]),"sky-atmosphere-sun":new Ht(di.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Ht(di.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Ht(di.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Ht(di.paint_sky["sky-gradient-radius"]),"sky-gradient":new dn(di.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Ht(di.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Ht(di.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Ht(di.paint_sky["sky-opacity"])})};function p1(r,i,o){const d=[0,0,1],p=xg([]);return R_(p,p,o?-N(r)+Math.PI:N(r)),O_(p,p,-N(i)),D_(d,d,p),Sa(d,d)}const S2={circle:class extends Ra{constructor(r){super(r,Xx)}createBucket(r){return new Nu(r)}queryRadius(r){const i=r;return Fu("circle-radius",this,i)+Fu("circle-stroke-width",this,i)+M0(this.paint.get("circle-translate"))}queryIntersectsFeature(r,i,o,d,p,v,T,B){const K=wa(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),v.angle,r.pixelToTileUnitsFactor),ie=this.paint.get("circle-radius").evaluate(i,o)+this.paint.get("circle-stroke-width").evaluate(i,o);return B_(r,d,v,T,B,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",K,ie)}getProgramIds(){return["circle"]}getProgramConfiguration(r){return new uh(this,r)}},heatmap:class extends Ra{createBucket(r){return new N_(r)}constructor(r){super(r,tb),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(r){r==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=rf({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(r){return Fu("heatmap-radius",this,r)}queryIntersectsFeature(r,i,o,d,p,v,T,B){const K=this.paint.get("heatmap-radius").evaluate(i,o);return B_(r,d,v,T,B,!0,!0,new $(0,0),K)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(r){return new uh(this,r)}},hillshade:class extends Ra{constructor(r){super(r,ib)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends Ra{constructor(r){super(r,_b)}getProgramIds(){const r=this.paint.get("fill-pattern"),i=r&&r.constantOr(1),o=[i?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&o.push(i&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),o}getProgramConfiguration(r){return new uh(this,r)}recalculate(r,i){super.recalculate(r,i);const o=this.paint._values["fill-outline-color"];o.value.kind==="constant"&&o.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(r){return new O0(r)}queryRadius(){return M0(this.paint.get("fill-translate"))}queryIntersectsFeature(r,i,o,d,p,v){return!r.queryGeometry.isAboveHorizon&&M_(cd(r.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),v.angle,r.pixelToTileUnitsFactor),d)}isTileClipped(){return!0}},"fill-extrusion":class extends Ra{constructor(r){super(r,ey)}createBucket(r){return new uf(r)}queryRadius(){return M0(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(r){return new uh(this,r)}queryIntersectsFeature(r,i,o,d,p,v,T,B,K){const ie=wa(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),v.angle,r.pixelToTileUnitsFactor),ue=this.paint.get("fill-extrusion-height").evaluate(i,o),be=this.paint.get("fill-extrusion-base").evaluate(i,o),Me=[0,0],Ie=B&&v.elevation,Be=v.elevation?v.elevation.exaggeration():1,He=r.tile.getBucket(this);if(Ie&&He instanceof uf){const wt=He.centroidVertexArray,Ot=K+1;Ot<wt.length&&(Me[0]=wt.geta_centroid_pos0(Ot),Me[1]=wt.geta_centroid_pos1(Ot))}if(Me[0]===0&&Me[1]===1)return!1;v.projection.name==="globe"&&(d=Bg([d],[new $(0,0),new $(Tn,Tn)],r.tileID.canonical).map(wt=>wt.polygon).flat());const tt=Ie?B:null,[gt,Pt]=function(wt,Ot,Dt,Jt,Kt,fi,zi,si,yi,xi,ki){return wt.projection.name==="globe"?function(Ni,oi,Wi,Mn,Ji,fn,Yi,In,fs,ds,as){const Ln=[],Ys=[],Yn=Ni.projection.upVectorScale(as,Ni.center.lat,Ni.worldSize).metersToTile,ms=[0,0,0,1],sr=[0,0,0,1],vr=(xr,Cr,no,na)=>{xr[0]=Cr,xr[1]=no,xr[2]=na,xr[3]=1},fr=Rg();Wi>0&&(Wi+=fr),Mn+=fr;for(const xr of oi){const Cr=[],no=[];for(const na of xr){const qs=na.x+Ji.x,So=na.y+Ji.y,_o=Ni.projection.projectTilePoint(qs,So,as),zs=Ni.projection.upVector(as,na.x,na.y);let $r=Wi,Ro=Mn;if(Yi){const rr=zg(qs,So,Wi,Mn,Yi,In,fs,ds);$r+=rr.base,Ro+=rr.top}Wi!==0?vr(ms,_o.x+zs[0]*Yn*$r,_o.y+zs[1]*Yn*$r,_o.z+zs[2]*Yn*$r):vr(ms,_o.x,_o.y,_o.z),vr(sr,_o.x+zs[0]*Yn*Ro,_o.y+zs[1]*Yn*Ro,_o.z+zs[2]*Yn*Ro),Wr(ms,ms,fn),Wr(sr,sr,fn),Cr.push(new qu(ms[0],ms[1],ms[2])),no.push(new qu(sr[0],sr[1],sr[2]))}Ln.push(Cr),Ys.push(no)}return[Ln,Ys]}(wt,Ot,Dt,Jt,Kt,fi,zi,si,yi,xi,ki):zi?function(Ni,oi,Wi,Mn,Ji,fn,Yi,In,fs){const ds=[],as=[],Ln=[0,0,0,1];for(const Ys of Ni){const Yn=[],ms=[];for(const sr of Ys){const vr=sr.x+Mn.x,fr=sr.y+Mn.y,xr=zg(vr,fr,oi,Wi,fn,Yi,In,fs);Ln[0]=vr,Ln[1]=fr,Ln[2]=xr.base,Ln[3]=1,ph(Ln,Ln,Ji),Ln[3]=Math.max(Ln[3],1e-5);const Cr=new qu(Ln[0]/Ln[3],Ln[1]/Ln[3],Ln[2]/Ln[3]);Ln[0]=vr,Ln[1]=fr,Ln[2]=xr.top,Ln[3]=1,ph(Ln,Ln,Ji),Ln[3]=Math.max(Ln[3],1e-5);const no=new qu(Ln[0]/Ln[3],Ln[1]/Ln[3],Ln[2]/Ln[3]);Yn.push(Cr),ms.push(no)}ds.push(Yn),as.push(ms)}return[ds,as]}(Ot,Dt,Jt,Kt,fi,zi,si,yi,xi):function(Ni,oi,Wi,Mn,Ji){const fn=[],Yi=[],In=Ji[8]*oi,fs=Ji[9]*oi,ds=Ji[10]*oi,as=Ji[11]*oi,Ln=Ji[8]*Wi,Ys=Ji[9]*Wi,Yn=Ji[10]*Wi,ms=Ji[11]*Wi;for(const sr of Ni){const vr=[],fr=[];for(const xr of sr){const Cr=xr.x+Mn.x,no=xr.y+Mn.y,na=Ji[0]*Cr+Ji[4]*no+Ji[12],qs=Ji[1]*Cr+Ji[5]*no+Ji[13],So=Ji[2]*Cr+Ji[6]*no+Ji[14],_o=Ji[3]*Cr+Ji[7]*no+Ji[15],zs=na+In,$r=qs+fs,Ro=So+ds,rr=Math.max(_o+as,1e-5),co=na+Ln,Na=qs+Ys,sa=So+Yn,ra=Math.max(_o+ms,1e-5);vr.push(new qu(zs/rr,$r/rr,Ro/rr)),fr.push(new qu(co/ra,Na/ra,sa/ra))}fn.push(vr),Yi.push(fr)}return[fn,Yi]}(Ot,Dt,Jt,Kt,fi)}(v,d,be,ue,ie,T,tt,Me,Be,v.center.lat,r.tileID.canonical),mt=r.queryGeometry;return function(wt,Ot,Dt){let Jt=1/0;M_(Dt,Ot)&&(Jt=$0(Dt,Ot[0]));for(let Kt=0;Kt<Ot.length;Kt++){const fi=Ot[Kt],zi=wt[Kt];for(let si=0;si<fi.length-1;si++){const yi=fi[si],xi=[yi,fi[si+1],zi[si+1],zi[si],yi];C0(Dt,xi)&&(Jt=Math.min(Jt,$0(Dt,xi)))}}return Jt!==1/0&&Jt}(gt,Pt,mt.isPointQuery()?mt.screenBounds:mt.screenGeometry)}},line:class extends Ra{constructor(r){super(r,ny),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(r){if(r==="line-gradient"){const i=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=i._styleExpression&&i._styleExpression.expression instanceof Ao,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(r,i){super.recalculate(r,i),this.paint._values["line-floorwidth"]=sy.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,r)}createBucket(r){return new G0(r)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(r){return new uh(this,r)}queryRadius(r){const i=r,o=ry(Fu("line-width",this,i),Fu("line-gap-width",this,i)),d=Fu("line-offset",this,i);return o/2+Math.abs(d)+M0(this.paint.get("line-translate"))}queryIntersectsFeature(r,i,o,d,p,v){if(r.queryGeometry.isAboveHorizon)return!1;const T=cd(r.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),v.angle,r.pixelToTileUnitsFactor),B=r.pixelToTileUnitsFactor/2*ry(this.paint.get("line-width").evaluate(i,o),this.paint.get("line-gap-width").evaluate(i,o)),K=this.paint.get("line-offset").evaluate(i,o);return K&&(d=function(ie,ue){const be=[],Me=new $(0,0);for(let Ie=0;Ie<ie.length;Ie++){const Be=ie[Ie],He=[];for(let tt=0;tt<Be.length;tt++){const gt=Be[tt-1],Pt=Be[tt],mt=Be[tt+1],wt=tt===0?Me:Pt.sub(gt)._unit()._perp(),Ot=tt===Be.length-1?Me:mt.sub(Pt)._unit()._perp(),Dt=wt._add(Ot)._unit();Dt._mult(1/(Dt.x*Ot.x+Dt.y*Ot.y)),He.push(Dt._mult(ue)._add(Pt))}be.push(He)}return be}(d,K*r.pixelToTileUnitsFactor)),function(ie,ue,be){for(let Me=0;Me<ue.length;Me++){const Ie=ue[Me];if(ie.length>=3){for(let Be=0;Be<Ie.length;Be++)if(Wh(ie,Ie[Be]))return!0}if(cg(ie,Ie,be))return!0}return!1}(T,d,B)}isTileClipped(){return!0}},symbol:am,background:class extends Ra{constructor(r){super(r,v2)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends Ra{constructor(r){super(r,x2)}getProgramIds(){return["raster"]}},sky:class extends Ra{constructor(r){super(r,w2),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(r){r==="sky-gradient"?this._updateColorRamp():r!=="sky-atmosphere-sun"&&r!=="sky-atmosphere-halo-color"&&r!=="sky-atmosphere-color"&&r!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=rf({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(r){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const i=r.style.light.properties.get("position");return this._lightPosition.azimuthal!==i.azimuthal||this._lightPosition.polar!==i.polar}return!1}getCenter(r,i){if(this.paint.get("sky-type")==="atmosphere"){const d=this.paint.get("sky-atmosphere-sun"),p=!d,v=r.style.light,T=v.properties.get("position");return p&&v.properties.get("anchor")==="viewport"&&ae("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),p?p1(T.azimuthal,90-T.polar,i):p1(d[0],90-d[1],i)}const o=this.paint.get("sky-gradient-center");return p1(o[0],90-o[1],i)}is3D(){return!1}isSky(){return!0}markSkyboxValid(r){this._skyboxInvalidated=!1,this._lightPosition=r.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const r=this.paint.get("sky-type");return r==="atmosphere"?["skyboxCapture","skybox"]:r==="gradient"?["skyboxGradient"]:null}}};class Ef{constructor(i,o,d,p){this.context=i,this.format=d,this.texture=i.gl.createTexture(),this.update(o,p)}update(i,o,d){const{width:p,height:v}=i,{context:T}=this,{gl:B}=T,{HTMLImageElement:K,HTMLCanvasElement:ie,HTMLVideoElement:ue,ImageData:be,ImageBitmap:Me}=x;if(B.bindTexture(B.TEXTURE_2D,this.texture),T.pixelStoreUnpackFlipY.set(!1),T.pixelStoreUnpack.set(1),T.pixelStoreUnpackPremultiplyAlpha.set(this.format===B.RGBA&&(!o||o.premultiply!==!1)),d||this.size&&this.size[0]===p&&this.size[1]===v){const{x:Ie,y:Be}=d||{x:0,y:0};i instanceof K||i instanceof ie||i instanceof ue||i instanceof be||Me&&i instanceof Me?B.texSubImage2D(B.TEXTURE_2D,0,Ie,Be,B.RGBA,B.UNSIGNED_BYTE,i):B.texSubImage2D(B.TEXTURE_2D,0,Ie,Be,p,v,B.RGBA,B.UNSIGNED_BYTE,i.data)}else this.size=[p,v],i instanceof K||i instanceof ie||i instanceof ue||i instanceof be||Me&&i instanceof Me?B.texImage2D(B.TEXTURE_2D,0,this.format,this.format,B.UNSIGNED_BYTE,i):B.texImage2D(B.TEXTURE_2D,0,this.format,p,v,0,this.format,B.UNSIGNED_BYTE,i.data);this.useMipmap=!!(o&&o.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&B.generateMipmap(B.TEXTURE_2D)}bind(i,o){const{context:d}=this,{gl:p}=d;p.bindTexture(p.TEXTURE_2D,this.texture),i!==this.filter&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,i),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,this.useMipmap?i===p.NEAREST?p.NEAREST_MIPMAP_NEAREST:p.LINEAR_MIPMAP_NEAREST:i),this.filter=i),o!==this.wrap&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,o),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,o),this.wrap=o)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:i}=this.context;i.deleteTexture(this.texture),this.texture=null}}class _{constructor(i){this._callback=i,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class k{constructor(){this.tasks={},this.taskQueue=[],ce(["process"],this),this.invoker=new _(this.process),this.nextId=0}add(i,o){const d=this.nextId++,p=function({type:v,isSymbolTile:T,zoom:B}){return B=B||0,v==="message"?0:v!=="maybePrepare"||T?v!=="parseTile"||T?v==="parseTile"&&T?300-B:v==="maybePrepare"&&T?400-B:500:200-B:100-B}(o);if(p===0){Re();try{i()}finally{}return{cancel:()=>{}}}return this.tasks[d]={fn:i,metadata:o,priority:p,id:d},this.taskQueue.push(d),this.invoker.trigger(),{cancel:()=>{delete this.tasks[d]}}}process(){Re();try{if(this.taskQueue=this.taskQueue.filter(d=>!!this.tasks[d]),!this.taskQueue.length)return;const i=this.pick();if(i===null)return;const o=this.tasks[i];if(delete this.tasks[i],this.taskQueue.length&&this.invoker.trigger(),!o)return;o.fn()}finally{}}pick(){let i=null,o=1/0;for(let p=0;p<this.taskQueue.length;p++){const v=this.tasks[this.taskQueue[p]];v.priority<o&&(o=v.priority,i=p)}if(i===null)return null;const d=this.taskQueue[i];return this.taskQueue.splice(i,1),d}remove(){this.invoker.remove()}}class re{constructor(i){this._stringToNumber={},this._numberToString=[];for(let o=0;o<i.length;o++){const d=i[o];this._stringToNumber[d]=o,this._numberToString[o]=d}}encode(i){return this._stringToNumber[i]}decode(i){return this._numberToString[i]}}const Pe=["tile","layer","source","sourceLayer","state"];class Ye{constructor(i,o,d,p,v){this.type="Feature",this._vectorTileFeature=i,this._z=o,this._x=d,this._y=p,this.properties=i.properties,this.id=v}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(i){this._geometry=i}toJSON(){const i={type:"Feature",geometry:this.geometry,properties:this.properties};this.id!==void 0&&(i.id=this.id);for(const o of Pe)this[o]!==void 0&&(i[o]=this[o]);return i}}const ot=32,At=33,zt=new Uint16Array(8184);for(let r=0;r<2046;r++){let i=r+2,o=0,d=0,p=0,v=0,T=0,B=0;for(1&i?p=v=T=ot:o=d=B=ot;(i>>=1)>1;){const ie=o+p>>1,ue=d+v>>1;1&i?(p=o,v=d,o=T,d=B):(o=p,d=v,p=T,v=B),T=ie,B=ue}const K=4*r;zt[K+0]=o,zt[K+1]=d,zt[K+2]=p,zt[K+3]=v}const Yt=new Uint16Array(2178),Ei=new Uint8Array(1089),Di=new Uint16Array(1089);function Ui(r){return r===0?-.03125:r===32?.03125:0}var un=tn([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const En={type:2,extent:Tn,loadGeometry:()=>[[new $(0,0),new $(8193,0),new $(8193,8193),new $(0,8193),new $(0,0)]]};class Wn{constructor(i,o,d,p,v){this.tileID=i,this.uid=ge(),this.uses=0,this.tileSize=o,this.tileZoom=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=v,this.expiredRequestCount=0,this.state="loading",p&&p.transform&&(this.projection=p.transform.projection)}registerFadeDuration(i){const o=i+this.timeAdded;o<pn.now()||this.fadeEndTime&&o<this.fadeEndTime||(this.fadeEndTime=o)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=nu(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(i,o,d){if(this.unloadVectorData(),this.state="loaded",i){i.featureIndex&&(this.latestFeatureIndex=i.featureIndex,i.rawTileData?(this.latestRawTileData=i.rawTileData,this.latestFeatureIndex.rawTileData=i.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=i.collisionBoxArray,this.buckets=function(p,v){const T={};if(!v)return T;for(const B of p){const K=B.layerIds.map(ie=>v.getLayer(ie)).filter(Boolean);if(K.length!==0){B.layers=K,B.stateDependentLayerIds&&(B.stateDependentLayers=B.stateDependentLayerIds.map(ie=>K.filter(ue=>ue.id===ie)[0]));for(const ie of K)T[ie.id]=B}}return T}(i.buckets,o.style),this.hasSymbolBuckets=!1;for(const p in this.buckets){const v=this.buckets[p];if(v instanceof _h){if(this.hasSymbolBuckets=!0,!d)break;v.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const p in this.buckets){const v=this.buckets[p];if(v instanceof _h&&v.hasRTLText){this.hasRTLText=!0,Zt.isLoading()||Zt.isLoaded()||jt()!=="deferred"||Qt();break}}this.queryPadding=0;for(const p in this.buckets){const v=this.buckets[p];this.queryPadding=Math.max(this.queryPadding,o.style.getLayer(p).queryRadius(v))}i.imageAtlas&&(this.imageAtlas=i.imageAtlas),i.glyphAtlasImage&&(this.glyphAtlasImage=i.glyphAtlasImage),i.lineAtlas&&(this.lineAtlas=i.lineAtlas)}else this.collisionBoxArray=new Xm}unloadVectorData(){if(this.hasData()){for(const i in this.buckets)this.buckets[i].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(i){return this.buckets[i.id]}upload(i){for(const d in this.buckets){const p=this.buckets[d];p.uploadPending()&&p.upload(i)}const o=i.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ef(i,this.imageAtlas.image,o.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ef(i,this.glyphAtlasImage,o.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new Ef(i,this.lineAtlas.image,o.ALPHA),this.lineAtlas.uploaded=!0)}prepare(i){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(i,this.imageAtlasTexture)}queryRenderedFeatures(i,o,d,p,v,T,B,K){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:p,pixelPosMatrix:B,transform:T,params:v,tileTransform:this.tileTransform},i,o,d):{}}querySourceFeatures(i,o){const d=this.latestFeatureIndex;if(!d||!d.rawTileData)return;const p=d.loadVTLayers(),v=o?o.sourceLayer:"",T=p._geojsonTileLayer||p[v];if(!T)return;const B=Tr(o&&o.filter),{z:K,x:ie,y:ue}=this.tileID.canonical,be={z:K,x:ie,y:ue};for(let Me=0;Me<T.length;Me++){const Ie=T.feature(Me);if(B.needGeometry){const tt=ld(Ie,!0);if(!B.filter(new Vt(this.tileID.overscaledZ),tt,this.tileID.canonical))continue}else if(!B.filter(new Vt(this.tileID.overscaledZ),Ie))continue;const Be=d.getId(Ie,v),He=new Ye(Ie,K,ie,ue,Be);He.tile=be,i.push(He)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(i){const o=this.expirationTime;if(i.cacheControl){const d=Le(i.cacheControl);d["max-age"]&&(this.expirationTime=Date.now()+1e3*d["max-age"])}else i.expires&&(this.expirationTime=new Date(i.expires).getTime());if(this.expirationTime){const d=Date.now();let p=!1;if(this.expirationTime>d)p=!1;else if(o)if(this.expirationTime<o)p=!0;else{const v=this.expirationTime-o;v?this.expirationTime=d+Math.max(v,3e4):p=!0}else p=!0;p?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(i,o){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(i).length===0||!o)return;const d=this.latestFeatureIndex.loadVTLayers(),p=o.style.listImages();for(const v in this.buckets){if(!o.style.hasLayer(v))continue;const T=this.buckets[v],B=T.layers[0].sourceLayer||"_geojsonTileLayer",K=d[B],ie=i[B];if(!K||!ie||Object.keys(ie).length===0)continue;if(T.update(ie,K,p,this.imageAtlas&&this.imageAtlas.patternPositions||{}),T instanceof G0||T instanceof O0){const be=o.style._getSourceCache(T.layers[0].source);o._terrain&&o._terrain.enabled&&be&&T.programConfigurations.needsUpload&&o._terrain._clearRenderCacheForTile(be.id,this.tileID)}const ue=o&&o.style&&o.style.getLayer(v);ue&&(this.queryPadding=Math.max(this.queryPadding,ue.queryRadius(T)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<pn.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(i){this.symbolFadeHoldUntil=pn.now()+i}setTexture(i,o){const d=o.context,p=d.gl;this.texture=this.texture||o.getTileTexture(i.width),this.texture?this.texture.update(i,{useMipmap:!0}):(this.texture=new Ef(d,i,p.RGBA,{useMipmap:!0}),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE),d.extTextureFilterAnisotropic&&p.texParameterf(p.TEXTURE_2D,d.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,d.extTextureFilterAnisotropicMax))}setDependencies(i,o){const d={};for(const p of o)d[p]=!0;this.dependencies[i]=d}hasDependency(i,o){for(const d of i){const p=this.dependencies[d];if(p){for(const v of o)if(p[v])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(i,o){if(!o||o.name==="mercator"||this._tileDebugBuffer)return;const d=Ac(En,this.tileID.canonical,this.tileTransform)[0],p=new Is,v=new Ld;for(let T=0;T<d.length;T++){const{x:B,y:K}=d[T];p.emplaceBack(B,K),v.emplaceBack(T)}v.emplaceBack(0),this._tileDebugIndexBuffer=i.createIndexBuffer(v),this._tileDebugBuffer=i.createVertexBuffer(p,yf.members),this._tileDebugSegments=Qr.simpleSegment(0,0,p.length,v.length)}_makeTileBoundsBuffers(i,o){if(this._tileBoundsBuffer||!o||o.name==="mercator")return;const d=Ac(En,this.tileID.canonical,this.tileTransform)[0];let p,v;if(this.isRaster){const T=function(B,K){const ie=nu(B,K),ue=Math.pow(2,B.z);for(let tt=0;tt<At;tt++)for(let gt=0;gt<At;gt++){const Pt=Ba((B.x+(gt+Ui(gt))/ot)/ue),mt=Wo((B.y+(tt+Ui(tt))/ot)/ue),wt=K.project(Pt,mt),Ot=tt*At+gt;Yt[2*Ot+0]=Math.round((wt.x*ie.scale-ie.x)*Tn),Yt[2*Ot+1]=Math.round((wt.y*ie.scale-ie.y)*Tn)}Ei.fill(0),Di.fill(0);for(let tt=2045;tt>=0;tt--){const gt=4*tt,Pt=zt[gt+0],mt=zt[gt+1],wt=zt[gt+2],Ot=zt[gt+3],Dt=Pt+wt>>1,Jt=mt+Ot>>1,Kt=Dt+Jt-mt,fi=Jt+Pt-Dt,zi=mt*At+Pt,si=Ot*At+wt,yi=Jt*At+Dt,xi=Math.hypot((Yt[2*zi+0]+Yt[2*si+0])/2-Yt[2*yi+0],(Yt[2*zi+1]+Yt[2*si+1])/2-Yt[2*yi+1])>=16;if(Ei[yi]=Ei[yi]||(xi?1:0),tt<1022){const ki=(mt+fi>>1)*At+(Pt+Kt>>1),Ni=(Ot+fi>>1)*At+(wt+Kt>>1);Ei[yi]=Ei[yi]||Ei[ki]||Ei[Ni]}}const be=new Us,Me=new Lo;let Ie=0;function Be(tt,gt){const Pt=gt*At+tt;return Di[Pt]===0&&(be.emplaceBack(Yt[2*Pt+0],Yt[2*Pt+1],tt*Tn/ot,gt*Tn/ot),Di[Pt]=++Ie),Di[Pt]-1}function He(tt,gt,Pt,mt,wt,Ot){const Dt=tt+Pt>>1,Jt=gt+mt>>1;if(Math.abs(tt-wt)+Math.abs(gt-Ot)>1&&Ei[Jt*At+Dt])He(wt,Ot,tt,gt,Dt,Jt),He(Pt,mt,wt,Ot,Dt,Jt);else{const Kt=Be(tt,gt),fi=Be(Pt,mt),zi=Be(wt,Ot);Me.emplaceBack(Kt,fi,zi)}}return He(0,0,ot,ot,ot,0),He(ot,ot,0,0,0,ot),{vertices:be,indices:Me}}(this.tileID.canonical,o);p=T.vertices,v=T.indices}else{p=new Us,v=new Lo;for(const{x:B,y:K}of d)p.emplaceBack(B,K,0,0);const T=of.exports(p.int16,void 0,4);for(let B=0;B<T.length;B+=3)v.emplaceBack(T[B],T[B+1],T[B+2])}this._tileBoundsBuffer=i.createVertexBuffer(p,un.members),this._tileBoundsIndexBuffer=i.createIndexBuffer(v),this._tileBoundsSegments=Qr.simpleSegment(0,0,p.length,v.length)}_makeGlobeTileDebugBuffers(i,o){const d=o.projection;if(!d||d.name!=="globe"||o.freezeTileCoverage)return;const p=this.tileID.canonical,v=bf(My(p,o)),T=iu(o.zoom);let B;T>0&&(B=A0(new Float64Array(16),o.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(i,p,o,v,B,T),this._makeGlobeTileDebugTextBuffer(i,p,o,v,B,T)}_globePoint(i,o,d,p,v,T,B){let K=xf(i,o,d);if(T){const ie=1<<d.z,ue=Ec(p.center.lng),be=Ll(p.center.lat),Me=(d.x+.5)/ie-ue;let Ie=0;Me>.5?Ie=-1:Me<-.5&&(Ie=1);let Be=(i/Tn+d.x)/ie+Ie,He=(o/Tn+d.y)/ie;Be=(Be-ue)*p._pixelsPerMercatorPixel+ue,He=(He-be)*p._pixelsPerMercatorPixel+be;const tt=[Be*p.worldSize,He*p.worldSize,0];Wr(tt,tt,T),K=tu(K,tt,B)}return Wr(K,K,v)}_makeGlobeTileDebugBorderBuffer(i,o,d,p,v,T){const B=new Is,K=new Ld,ie=new Hs,ue=(Me,Ie,Be,He,tt)=>{const gt=(Be-Me)/(tt-1),Pt=(He-Ie)/(tt-1),mt=B.length;for(let wt=0;wt<tt;wt++){const Ot=Me+wt*gt,Dt=Ie+wt*Pt;B.emplaceBack(Ot,Dt);const Jt=this._globePoint(Ot,Dt,o,d,p,v,T);ie.emplaceBack(Jt[0],Jt[1],Jt[2]),K.emplaceBack(mt+wt)}},be=Tn;ue(0,0,be,0,16),ue(be,0,be,be,16),ue(be,be,0,be,16),ue(0,be,0,0,16),this._tileDebugIndexBuffer=i.createIndexBuffer(K),this._tileDebugBuffer=i.createVertexBuffer(B,yf.members),this._globeTileDebugBorderBuffer=i.createVertexBuffer(ie,Jg.members),this._tileDebugSegments=Qr.simpleSegment(0,0,B.length,K.length)}_makeGlobeTileDebugTextBuffer(i,o,d,p,v,T){const B=new Is,K=new Lo,ie=new Hs,ue=25;K.reserve(32),B.reserve(ue),ie.reserve(ue);const be=(Me,Ie)=>ue*Me+Ie;for(let Me=0;Me<ue;Me++){const Ie=2048*Me;for(let Be=0;Be<ue;Be++){const He=2048*Be;B.emplaceBack(He,Ie);const tt=this._globePoint(He,Ie,o,d,p,v,T);ie.emplaceBack(tt[0],tt[1],tt[2])}}for(let Me=0;Me<4;Me++)for(let Ie=0;Ie<4;Ie++){const Be=be(Me,Ie),He=be(Me,Ie+1),tt=be(Me+1,Ie),gt=be(Me+1,Ie+1);K.emplaceBack(Be,He,tt),K.emplaceBack(tt,He,gt)}this._tileDebugTextIndexBuffer=i.createIndexBuffer(K),this._tileDebugTextBuffer=i.createVertexBuffer(B,yf.members),this._globeTileDebugTextBuffer=i.createVertexBuffer(ie,Jg.members),this._tileDebugTextSegments=Qr.simpleSegment(0,0,ue,32)}}class vs{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(i,o,d){const p=String(o);if(this.stateChanges[i]=this.stateChanges[i]||{},this.stateChanges[i][p]=this.stateChanges[i][p]||{},Z(this.stateChanges[i][p],d),this.deletedStates[i]===null){this.deletedStates[i]={};for(const v in this.state[i])v!==p&&(this.deletedStates[i][v]=null)}else if(this.deletedStates[i]&&this.deletedStates[i][p]===null){this.deletedStates[i][p]={};for(const v in this.state[i][p])d[v]||(this.deletedStates[i][p][v]=null)}else for(const v in d)this.deletedStates[i]&&this.deletedStates[i][p]&&this.deletedStates[i][p][v]===null&&delete this.deletedStates[i][p][v]}removeFeatureState(i,o,d){if(this.deletedStates[i]===null)return;const p=String(o);if(this.deletedStates[i]=this.deletedStates[i]||{},d&&o!==void 0)this.deletedStates[i][p]!==null&&(this.deletedStates[i][p]=this.deletedStates[i][p]||{},this.deletedStates[i][p][d]=null);else if(o!==void 0)if(this.stateChanges[i]&&this.stateChanges[i][p])for(d in this.deletedStates[i][p]={},this.stateChanges[i][p])this.deletedStates[i][p][d]=null;else this.deletedStates[i][p]=null;else this.deletedStates[i]=null}getState(i,o){const d=String(o),p=Z({},(this.state[i]||{})[d],(this.stateChanges[i]||{})[d]);if(this.deletedStates[i]===null)return{};if(this.deletedStates[i]){const v=this.deletedStates[i][o];if(v===null)return{};for(const T in v)delete p[T]}return p}initializeTileState(i,o){i.setFeatureState(this.state,o)}coalesceChanges(i,o){const d={};for(const p in this.stateChanges){this.state[p]=this.state[p]||{};const v={};for(const T in this.stateChanges[p])this.state[p][T]||(this.state[p][T]={}),Z(this.state[p][T],this.stateChanges[p][T]),v[T]=this.state[p][T];d[p]=v}for(const p in this.deletedStates){this.state[p]=this.state[p]||{};const v={};if(this.deletedStates[p]===null)for(const T in this.state[p])v[T]={},this.state[p][T]={};else for(const T in this.deletedStates[p]){if(this.deletedStates[p][T]===null)this.state[p][T]={};else for(const B of Object.keys(this.deletedStates[p][T]))delete this.state[p][T][B];v[T]=this.state[p][T]}d[p]=d[p]||{},Z(d[p],v)}if(this.stateChanges={},this.deletedStates={},Object.keys(d).length!==0)for(const p in i)i[p].setFeatureState(d,o)}}class qn{constructor(i){this.size=i,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(i,o){const d=this.toIdx(i,o);return{min:this.minimums[d],max:this.maximums[d]}}isLeaf(i,o){return this.leaves[this.toIdx(i,o)]}toIdx(i,o){return o*this.size+i}}function As(r,i,o,d){let p=0,v=Number.MAX_VALUE;for(let T=0;T<3;T++)if(Math.abs(d[T])<1e-15){if(o[T]<r[T]||o[T]>i[T])return null}else{const B=1/d[T];let K=(r[T]-o[T])*B,ie=(i[T]-o[T])*B;if(K>ie){const ue=K;K=ie,ie=ue}if(K>p&&(p=K),ie<v&&(v=ie),p>v)return null}return p}function Bs(r,i,o,d,p,v,T,B,K,ie,ue){const be=d-r,Me=p-i,Ie=v-o,Be=T-r,He=B-i,tt=K-o,gt=ue[1]*tt-ue[2]*He,Pt=ue[2]*Be-ue[0]*tt,mt=ue[0]*He-ue[1]*Be,wt=be*gt+Me*Pt+Ie*mt;if(Math.abs(wt)<1e-15)return null;const Ot=1/wt,Dt=ie[0]-r,Jt=ie[1]-i,Kt=ie[2]-o,fi=(Dt*gt+Jt*Pt+Kt*mt)*Ot;if(fi<0||fi>1)return null;const zi=Jt*Ie-Kt*Me,si=Kt*be-Dt*Ie,yi=Dt*Me-Jt*be,xi=(ue[0]*zi+ue[1]*si+ue[2]*yi)*Ot;return xi<0||fi+xi>1?null:(Be*zi+He*si+tt*yi)*Ot}function sl(r,i,o){return(r-i)/(o-i)}function Ea(r,i,o,d,p,v,T,B,K){const ie=1<<o,ue=v-d,be=T-p,Me=(r+1)/ie*ue+d,Ie=(i+0)/ie*be+p,Be=(i+1)/ie*be+p;B[0]=(r+0)/ie*ue+d,B[1]=Ie,K[0]=Me,K[1]=Be}class rl{constructor(i){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=i,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const o=function(v){const T=Math.ceil(Math.log2(v.dim/8)),B=[];let K=Math.ceil(Math.pow(2,T));const ie=1/K,ue=(Ie,Be,He,tt,gt)=>{const Pt=tt?1:0,mt=(Ie+1)*He-Pt,wt=Be*He,Ot=(Be+1)*He-Pt;gt[0]=Ie*He,gt[1]=wt,gt[2]=mt,gt[3]=Ot};let be=new qn(K);const Me=[];for(let Ie=0;Ie<K*K;Ie++){ue(Ie%K,Math.floor(Ie/K),ie,!1,Me);const Be=qo(Me[0],Me[1],v),He=qo(Me[2],Me[1],v),tt=qo(Me[2],Me[3],v),gt=qo(Me[0],Me[3],v);be.minimums.push(Math.min(Be,He,tt,gt)),be.maximums.push(Math.max(Be,He,tt,gt)),be.leaves.push(1)}for(B.push(be),K/=2;K>=1;K/=2){const Ie=B[B.length-1];be=new qn(K);for(let Be=0;Be<K*K;Be++){ue(Be%K,Math.floor(Be/K),2,!0,Me);const He=Ie.getElevation(Me[0],Me[1]),tt=Ie.getElevation(Me[2],Me[1]),gt=Ie.getElevation(Me[2],Me[3]),Pt=Ie.getElevation(Me[0],Me[3]),mt=Ie.isLeaf(Me[0],Me[1]),wt=Ie.isLeaf(Me[2],Me[1]),Ot=Ie.isLeaf(Me[2],Me[3]),Dt=Ie.isLeaf(Me[0],Me[3]),Jt=Math.min(He.min,tt.min,gt.min,Pt.min),Kt=Math.max(He.max,tt.max,gt.max,Pt.max),fi=mt&&wt&&Ot&&Dt;be.maximums.push(Kt),be.minimums.push(Jt),be.leaves.push(Kt-Jt<=5&&fi?1:0)}B.push(be)}return B}(this.dem),d=o.length-1,p=o[d];this._addNode(p.minimums[0],p.maximums[0],p.leaves[0]),this._construct(o,0,0,d,0)}raycastRoot(i,o,d,p,v,T,B=1){return As([i,o,-100],[d,p,this.maximums[0]*B],v,T)}raycast(i,o,d,p,v,T,B=1){if(!this.nodeCount)return null;const K=this.raycastRoot(i,o,d,p,v,T,B);if(K==null)return null;const ie=[],ue=[],be=[],Me=[],Ie=[{idx:0,t:K,nodex:0,nodey:0,depth:0}];for(;Ie.length>0;){const{idx:Be,t:He,nodex:tt,nodey:gt,depth:Pt}=Ie.pop();if(this.leaves[Be]){Ea(tt,gt,Pt,i,o,d,p,be,Me);const wt=1<<Pt,Ot=(tt+0)/wt,Dt=(tt+1)/wt,Jt=(gt+0)/wt,Kt=(gt+1)/wt,fi=qo(Ot,Jt,this.dem)*B,zi=qo(Dt,Jt,this.dem)*B,si=qo(Dt,Kt,this.dem)*B,yi=qo(Ot,Kt,this.dem)*B,xi=Bs(be[0],be[1],fi,Me[0],be[1],zi,Me[0],Me[1],si,v,T),ki=Bs(Me[0],Me[1],si,be[0],Me[1],yi,be[0],be[1],fi,v,T),Ni=Math.min(xi!==null?xi:Number.MAX_VALUE,ki!==null?ki:Number.MAX_VALUE);if(Ni!==Number.MAX_VALUE)return Ni;{const oi=Vu([],v,T,He);if(lo(fi,zi,yi,si,sl(oi[0],be[0],Me[0]),sl(oi[1],be[1],Me[1]))>=oi[2])return He}continue}let mt=0;for(let wt=0;wt<this._siblingOffset.length;wt++){Ea((tt<<1)+this._siblingOffset[wt][0],(gt<<1)+this._siblingOffset[wt][1],Pt+1,i,o,d,p,be,Me),be[2]=-100,Me[2]=this.maximums[this.childOffsets[Be]+wt]*B;const Ot=As(be,Me,v,T);if(Ot!=null){const Dt=Ot;ie[wt]=Dt;let Jt=!1;for(let Kt=0;Kt<mt&&!Jt;Kt++)Dt>=ie[ue[Kt]]&&(ue.splice(Kt,0,wt),Jt=!0);Jt||(ue[mt]=wt),mt++}}for(let wt=0;wt<mt;wt++){const Ot=ue[wt];Ie.push({idx:this.childOffsets[Be]+Ot,t:ie[Ot],nodex:(tt<<1)+this._siblingOffset[Ot][0],nodey:(gt<<1)+this._siblingOffset[Ot][1],depth:Pt+1})}}return null}_addNode(i,o,d){return this.minimums.push(i),this.maximums.push(o),this.leaves.push(d),this.childOffsets.push(0),this.nodeCount++}_construct(i,o,d,p,v){if(i[p].isLeaf(o,d)===1)return;this.childOffsets[v]||(this.childOffsets[v]=this.nodeCount);const T=p-1,B=i[T];let K=0,ie=0;for(let ue=0;ue<this._siblingOffset.length;ue++){const be=2*o+this._siblingOffset[ue][0],Me=2*d+this._siblingOffset[ue][1],Ie=B.getElevation(be,Me),Be=B.isLeaf(be,Me),He=this._addNode(Ie.min,Ie.max,Be);Be&&(K|=1<<ue),ie||(ie=He)}for(let ue=0;ue<this._siblingOffset.length;ue++)K&1<<ue||this._construct(i,2*o+this._siblingOffset[ue][0],2*d+this._siblingOffset[ue][1],T,ie+ue)}}function lo(r,i,o,d,p,v){return zn(zn(r,o,v),zn(i,d,v),p)}function qo(r,i,o){const d=o.dim,p=g(r*d-.5,0,d-1),v=g(i*d-.5,0,d-1),T=Math.floor(p),B=Math.floor(v),K=Math.min(T+1,d-1),ie=Math.min(B+1,d-1);return lo(o.get(T,B),o.get(K,B),o.get(T,ie),o.get(K,ie),p-T,v-B)}const fd={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class Mf{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(i,o,d,p=!1,v=!1){if(this.uid=i,o.height!==o.width)throw new RangeError("DEM tiles must be square");if(d&&d!=="mapbox"&&d!=="terrarium")return ae(`"${d}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=o.height;const T=this.dim=o.height-2,B=new Uint32Array(o.data.buffer);if(this.pixels=new Uint8Array(o.data.buffer),this.encoding=d||"mapbox",this.borderReady=p,!p){for(let K=0;K<T;K++)B[this._idx(-1,K)]=B[this._idx(0,K)],B[this._idx(T,K)]=B[this._idx(T-1,K)],B[this._idx(K,-1)]=B[this._idx(K,0)],B[this._idx(K,T)]=B[this._idx(K,T-1)];B[this._idx(-1,-1)]=B[this._idx(0,0)],B[this._idx(T,-1)]=B[this._idx(T-1,0)],B[this._idx(-1,T)]=B[this._idx(0,T-1)],B[this._idx(T,T)]=B[this._idx(T-1,T-1)],v&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new rl(this)}get(i,o,d=!1){d&&(i=g(i,-1,this.dim),o=g(o,-1,this.dim));const p=4*this._idx(i,o);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(this.pixels[p],this.pixels[p+1],this.pixels[p+2])}static getUnpackVector(i){return fd[i]}get unpackVector(){return fd[this.encoding]}_idx(i,o){if(i<-1||i>=this.dim+1||o<-1||o>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(o+1)*this.stride+(i+1)}_unpackMapbox(i,o,d){return(256*i*256+256*o+d)/10-1e4}_unpackTerrarium(i,o,d){return 256*i+o+d/256-32768}static pack(i,o){const d=[0,0,0,0],p=Mf.getUnpackVector(o);let v=Math.floor((i+p[3])/p[2]);return d[2]=v%256,v=Math.floor(v/256),d[1]=v%256,v=Math.floor(v/256),d[0]=v,d}getPixels(){return new nl({width:this.stride,height:this.stride},this.pixels)}backfillBorder(i,o,d){if(this.dim!==i.dim)throw new Error("dem dimension mismatch");let p=o*this.dim,v=o*this.dim+this.dim,T=d*this.dim,B=d*this.dim+this.dim;switch(o){case-1:p=v-1;break;case 1:v=p+1}switch(d){case-1:T=B-1;break;case 1:B=T+1}const K=-o*this.dim,ie=-d*this.dim;for(let ue=T;ue<B;ue++)for(let be=p;be<v;be++){const Me=4*this._idx(be,ue),Ie=4*this._idx(be+K,ue+ie);this.pixels[Me+0]=i.pixels[Ie+0],this.pixels[Me+1]=i.pixels[Ie+1],this.pixels[Me+2]=i.pixels[Ie+2],this.pixels[Me+3]=i.pixels[Ie+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}qi(Mf,"DEMData"),qi(rl,"DemMinMaxQuadTree",{omit:["dem"]});class rk{constructor(i,o){this.max=i,this.onRemove=o,this.reset()}reset(){for(const i in this.data)for(const o of this.data[i])o.timeout&&clearTimeout(o.timeout),this.onRemove(o.value);return this.data={},this.order=[],this}add(i,o,d){const p=i.wrapped().key;this.data[p]===void 0&&(this.data[p]=[]);const v={value:o,timeout:void 0};if(d!==void 0&&(v.timeout=setTimeout(()=>{this.remove(i,v)},d)),this.data[p].push(v),this.order.push(p),this.order.length>this.max){const T=this._getAndRemoveByKey(this.order[0]);T&&this.onRemove(T)}return this}has(i){return i.wrapped().key in this.data}getAndRemove(i){return this.has(i)?this._getAndRemoveByKey(i.wrapped().key):null}_getAndRemoveByKey(i){const o=this.data[i].shift();return o.timeout&&clearTimeout(o.timeout),this.data[i].length===0&&delete this.data[i],this.order.splice(this.order.indexOf(i),1),o.value}getByKey(i){const o=this.data[i];return o?o[0].value:null}get(i){return this.has(i)?this.data[i.wrapped().key][0].value:null}remove(i,o){if(!this.has(i))return this;const d=i.wrapped().key,p=o===void 0?0:this.data[d].indexOf(o),v=this.data[d][p];return this.data[d].splice(p,1),v.timeout&&clearTimeout(v.timeout),this.data[d].length===0&&delete this.data[d],this.onRemove(v.value),this.order.splice(this.order.indexOf(d),1),this}setMaxSize(i){for(this.max=i;this.order.length>this.max;){const o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this}filter(i){const o=[];for(const d in this.data)for(const p of this.data[d])i(p.value)||o.push(p);for(const d of o)this.remove(d.value.tileID,d)}}class lm{constructor(i,o,d){this.func=i,this.mask=o,this.range=d}}lm.ReadOnly=!1,lm.ReadWrite=!0,lm.disabled=new lm(519,lm.ReadOnly,[0,1]);const T2=7680;class C2{constructor(i,o,d,p,v,T){this.test=i,this.ref=o,this.mask=d,this.fail=p,this.depthFail=v,this.pass=T}}C2.disabled=new C2({func:519,mask:0},0,0,T2,T2,T2);class yh{constructor(i,o,d){this.blendFunction=i,this.blendColor=o,this.mask=d}}yh.Replace=[1,0],yh.disabled=new yh(yh.Replace,pr.transparent,[!1,!1,!1,!1]),yh.unblended=new yh(yh.Replace,pr.transparent,[!0,!0,!0,!0]),yh.alphaBlended=new yh([1,771],pr.transparent,[!0,!0,!0,!0]);const E2=1029,M2=2305;class $d{constructor(i,o,d){this.enable=i,this.mode=o,this.frontFace=d}}$d.disabled=new $d(!1,E2,M2),$d.backCCW=new $d(!0,E2,M2),$d.backCW=new $d(!0,E2,2304),$d.frontCW=new $d(!0,1028,2304),$d.frontCCW=new $d(!0,1028,M2);class Af extends Xr{constructor(i,o,d){super(),this.id=i,this._onlySymbols=d,o.on("data",p=>{p.dataType==="source"&&p.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&p.dataType==="source"&&p.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),o.on("error",()=>{this._sourceErrored=!0}),this._source=o,this._tiles={},this._cache=new rk(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=o.minTileCacheSize,this._maxTileCacheSize=o.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new vs,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(i){this.map=i,this._minTileCacheSize=this._minTileCacheSize===void 0&&i?i._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&i?i._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const i in this._tiles){const o=this._tiles[i];if(o.state!=="loaded"&&o.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const i=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,i&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(i,o){return i.isSymbolTile=this._onlySymbols,this._source.loadTile(i,o)}_unloadTile(i){if(this._source.unloadTile)return this._source.unloadTile(i,()=>{})}_abortTile(i){if(this._source.abortTile)return this._source.abortTile(i,()=>{})}serialize(){return this._source.serialize()}prepare(i){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const o in this._tiles){const d=this._tiles[o];d.upload(i),d.prepare(this.map.style.imageManager)}}getIds(){return te(this._tiles).map(i=>i.tileID).sort(HS).map(i=>i.key)}getRenderableIds(i){const o=[];for(const d in this._tiles)this._isIdRenderable(+d,i)&&o.push(this._tiles[d]);return i?o.sort((d,p)=>{const v=d.tileID,T=p.tileID,B=new $(v.canonical.x,v.canonical.y)._rotate(this.transform.angle),K=new $(T.canonical.x,T.canonical.y)._rotate(this.transform.angle);return v.overscaledZ-T.overscaledZ||K.y-B.y||K.x-B.x}).map(d=>d.tileID.key):o.map(d=>d.tileID).sort(HS).map(d=>d.key)}hasRenderableParent(i){const o=this.findLoadedParent(i,0);return!!o&&this._isIdRenderable(o.tileID.key)}_isIdRenderable(i,o){return this._tiles[i]&&this._tiles[i].hasData()&&!this._coveredTiles[i]&&(o||!this._tiles[i].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const i in this._tiles)this._tiles[i].state!=="errored"&&this._reloadTile(+i,"reloading")}}_reloadTile(i,o){const d=this._tiles[i];d&&(d.state!=="loading"&&(d.state=o),this._loadTile(d,this._tileLoaded.bind(this,d,i,o)))}_tileLoaded(i,o,d,p){if(p)if(i.state="errored",p.status!==404)this._source.fire(new ga(p,{tile:i}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const v=this.map.painter.terrain;this.update(this.transform,v.getScaledDemTileSize(),!0),v.resetTileLookupCache(this.id)}else this.update(this.transform);else i.timeAdded=pn.now(),d==="expired"&&(i.refreshedUponExpiration=!0),this._setTileReloadTimer(o,i),this._source.type==="raster-dem"&&i.dem&&this._backfillDEM(i),this._state.initializeTileState(i,this.map?this.map.painter:null),this._source.fire(new ma("data",{dataType:"source",tile:i,coord:i.tileID,sourceCacheId:this.id}))}_backfillDEM(i){const o=this.getRenderableIds();for(let p=0;p<o.length;p++){const v=o[p];if(i.neighboringTiles&&i.neighboringTiles[v]){const T=this.getTileByID(v);d(i,T),d(T,i)}}function d(p,v){if(!p.dem||p.dem.borderReady)return;p.needsHillshadePrepare=!0,p.needsDEMTextureUpload=!0;let T=v.tileID.canonical.x-p.tileID.canonical.x;const B=v.tileID.canonical.y-p.tileID.canonical.y,K=Math.pow(2,p.tileID.canonical.z),ie=v.tileID.key;T===0&&B===0||Math.abs(B)>1||(Math.abs(T)>1&&(Math.abs(T+K)===1?T+=K:Math.abs(T-K)===1&&(T-=K)),v.dem&&p.dem&&(p.dem.backfillBorder(v.dem,T,B),p.neighboringTiles&&p.neighboringTiles[ie]&&(p.neighboringTiles[ie].backfilled=!0)))}}getTile(i){return this.getTileByID(i.key)}getTileByID(i){return this._tiles[i]}_retainLoadedChildren(i,o,d,p){for(const v in this._tiles){let T=this._tiles[v];if(p[v]||!T.hasData()||T.tileID.overscaledZ<=o||T.tileID.overscaledZ>d)continue;let B=T.tileID;for(;T&&T.tileID.overscaledZ>o+1;){const ie=T.tileID.scaledTo(T.tileID.overscaledZ-1);T=this._tiles[ie.key],T&&T.hasData()&&(B=ie)}let K=B;for(;K.overscaledZ>o;)if(K=K.scaledTo(K.overscaledZ-1),i[K.key]){p[B.key]=B;break}}}findLoadedParent(i,o){if(i.key in this._loadedParentTiles){const d=this._loadedParentTiles[i.key];return d&&d.tileID.overscaledZ>=o?d:null}for(let d=i.overscaledZ-1;d>=o;d--){const p=i.scaledTo(d),v=this._getLoadedTile(p);if(v)return v}}_getLoadedTile(i){const o=this._tiles[i.key];return o&&o.hasData()?o:this._cache.getByKey(this._source.reparseOverscaled?i.wrapped().key:i.canonical.key)}updateCacheSize(i,o){o=o||this._source.tileSize;const d=Math.ceil(i.width/o)+1,p=Math.ceil(i.height/o)+1,v=Math.floor(d*p*5),T=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,v):v,B=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,T):T;this._cache.setMaxSize(B)}handleWrapJump(i){const o=Math.round((i-(this._prevLng===void 0?i:this._prevLng))/360);if(this._prevLng=i,o){const d={};for(const p in this._tiles){const v=this._tiles[p];v.tileID=v.tileID.unwrapTo(v.tileID.wrap+o),d[v.tileID.key]=v}this._tiles=d;for(const p in this._timers)clearTimeout(this._timers[p]),delete this._timers[p];for(const p in this._tiles)this._setTileReloadTimer(+p,this._tiles[p])}}update(i,o,d){if(this.transform=i,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!d)return;let p;this.updateCacheSize(i,o),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?p=i.getVisibleUnwrappedCoordinates(this._source.tileID).map(B=>new Oo(B.canonical.z,B.wrap,B.canonical.z,B.canonical.x,B.canonical.y)):(p=i.coveringTiles({tileSize:o||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!d,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(p=p.filter(B=>this._source.hasTile(B)))):p=[];const v=this._updateRetainedTiles(p);if(WS(this._source.type)&&p.length!==0){const B={},K={},ie=Object.keys(v);for(const be of ie){const Me=v[be],Ie=this._tiles[be];if(!Ie||Ie.fadeEndTime&&Ie.fadeEndTime<=pn.now())continue;const Be=this.findLoadedParent(Me,Math.max(Me.overscaledZ-Af.maxOverzooming,this._source.minzoom));Be&&(this._addTile(Be.tileID),B[Be.tileID.key]=Be.tileID),K[be]=Me}const ue=p[p.length-1].overscaledZ;for(const be in this._tiles){const Me=this._tiles[be];if(v[be]||!Me.hasData())continue;let Ie=Me.tileID;for(;Ie.overscaledZ>ue;){Ie=Ie.scaledTo(Ie.overscaledZ-1);const Be=this._tiles[Ie.key];if(Be&&Be.hasData()&&K[Ie.key]){v[be]=Me.tileID;break}}}for(const be in B)v[be]||(this._coveredTiles[be]=!0,v[be]=B[be])}for(const B in v)this._tiles[B].clearFadeHold();const T=function(B,K){const ie=[];for(const ue in B)ue in K||ie.push(ue);return ie}(this._tiles,v);for(const B of T){const K=this._tiles[B];K.hasSymbolBuckets&&!K.holdingForFade()?K.setHoldDuration(this.map._fadeDuration):K.hasSymbolBuckets&&!K.symbolFadeFinished()||this._removeTile(+B)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const i in this._tiles)this._tiles[i].holdingForFade()&&this._removeTile(+i)}_updateRetainedTiles(i){const o={};if(i.length===0)return o;const d={},p=i.reduce((ie,ue)=>Math.min(ie,ue.overscaledZ),1/0),v=i[0].overscaledZ,T=Math.max(v-Af.maxOverzooming,this._source.minzoom),B=Math.max(v+Af.maxUnderzooming,this._source.minzoom),K={};for(const ie of i){const ue=this._addTile(ie);o[ie.key]=ie,ue.hasData()||p<this._source.maxzoom&&(K[ie.key]=ie)}this._retainLoadedChildren(K,p,B,o);for(const ie of i){let ue=this._tiles[ie.key];if(ue.hasData())continue;if(ie.canonical.z>=this._source.maxzoom){const Me=ie.children(this._source.maxzoom)[0],Ie=this.getTile(Me);if(Ie&&Ie.hasData()){o[Me.key]=Me;continue}}else{const Me=ie.children(this._source.maxzoom);if(o[Me[0].key]&&o[Me[1].key]&&o[Me[2].key]&&o[Me[3].key])continue}let be=ue.wasRequested();for(let Me=ie.overscaledZ-1;Me>=T;--Me){const Ie=ie.scaledTo(Me);if(d[Ie.key]||(d[Ie.key]=!0,ue=this.getTile(Ie),!ue&&be&&(ue=this._addTile(Ie)),ue&&(o[Ie.key]=Ie,be=ue.wasRequested(),ue.hasData())))break}}return o}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const i in this._tiles){const o=[];let d,p=this._tiles[i].tileID;for(;p.overscaledZ>0;){if(p.key in this._loadedParentTiles){d=this._loadedParentTiles[p.key];break}o.push(p.key);const v=p.scaledTo(p.overscaledZ-1);if(d=this._getLoadedTile(v),d)break;p=v}for(const v of o)this._loadedParentTiles[v]=d}}_addTile(i){let o=this._tiles[i.key];if(o)return o;o=this._cache.getAndRemove(i),o&&(this._setTileReloadTimer(i.key,o),o.tileID=i,this._state.initializeTileState(o,this.map?this.map.painter:null),this._cacheTimers[i.key]&&(clearTimeout(this._cacheTimers[i.key]),delete this._cacheTimers[i.key],this._setTileReloadTimer(i.key,o)));const d=!!o;if(!d){const p=this.map?this.map.painter:null;o=new Wn(i,this._source.tileSize*i.overscaleFactor(),this.transform.tileZoom,p,this._isRaster),this._loadTile(o,this._tileLoaded.bind(this,o,i.key,o.state))}return o?(o.uses++,this._tiles[i.key]=o,d||this._source.fire(new ma("dataloading",{tile:o,coord:o.tileID,dataType:"source"})),o):null}_setTileReloadTimer(i,o){i in this._timers&&(clearTimeout(this._timers[i]),delete this._timers[i]);const d=o.getExpiryTimeout();d&&(this._timers[i]=setTimeout(()=>{this._reloadTile(i,"expired"),delete this._timers[i]},d))}_removeTile(i){const o=this._tiles[i];o&&(o.uses--,delete this._tiles[i],this._timers[i]&&(clearTimeout(this._timers[i]),delete this._timers[i]),o.uses>0||(o.hasData()&&o.state!=="reloading"?this._cache.add(o.tileID,o,o.getExpiryTimeout()):(o.aborted=!0,this._abortTile(o),this._unloadTile(o))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const i in this._tiles)this._removeTile(+i);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(i,o,d){const p=[],v=this.transform;if(!v)return p;const T=v.projection.name==="globe",B=Ec(v.center.lng);for(const K in this._tiles){const ie=this._tiles[K];if(d&&ie.clearQueryDebugViz(),ie.holdingForFade())continue;let ue;if(T){const be=ie.tileID.canonical;if(be.z===0){const Me=[Math.abs(g(B,...f1(be,-1))-B),Math.abs(g(B,...f1(be,1))-B)];ue=[0,2*Me.indexOf(Math.min(...Me))-1]}else{const Me=[Math.abs(g(B,...f1(be,-1))-B),Math.abs(g(B,...f1(be,0))-B),Math.abs(g(B,...f1(be,1))-B)];ue=[Me.indexOf(Math.min(...Me))-1]}}else ue=[0];for(const be of ue){const Me=i.containsTile(ie,v,o,be);Me&&p.push(Me)}}return p}getVisibleCoordinates(i){const o=this.getRenderableIds(i).map(d=>this._tiles[d].tileID);for(const d of o)d.projMatrix=this.transform.calculateProjMatrix(d.toUnwrapped());return o}hasTransition(){if(this._source.hasTransition())return!0;if(WS(this._source.type))for(const i in this._tiles){const o=this._tiles[i];if(o.fadeEndTime!==void 0&&o.fadeEndTime>=pn.now())return!0}return!1}setFeatureState(i,o,d){this._state.updateState(i=i||"_geojsonTileLayer",o,d)}removeFeatureState(i,o,d){this._state.removeFeatureState(i=i||"_geojsonTileLayer",o,d)}getFeatureState(i,o){return this._state.getState(i=i||"_geojsonTileLayer",o)}setDependencies(i,o,d){const p=this._tiles[i];p&&p.setDependencies(o,d)}reloadTilesForDependencies(i,o){for(const d in this._tiles)this._tiles[d].hasDependency(i,o)&&this._reloadTile(+d,"reloading");this._cache.filter(d=>!d.hasDependency(i,o))}_preloadTiles(i,o){const d=new Map,p=Array.isArray(i)?i:[i],v=this.map.painter.terrain,T=this.usedForTerrain&&v?v.getScaledDemTileSize():this._source.tileSize;for(const B of p){const K=B.coveringTiles({tileSize:T,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const ie of K)d.set(ie.key,ie);this.usedForTerrain&&B.updateElevation(!1)}X(Array.from(d.values()),(B,K)=>{const ie=new Wn(B,this._source.tileSize*B.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(ie,ue=>{this._source.type==="raster-dem"&&ie.dem&&this._backfillDEM(ie),K(ue,ie)})},o)}}function HS(r,i){const o=Math.abs(2*r.wrap)-+(r.wrap<0),d=Math.abs(2*i.wrap)-+(i.wrap<0);return r.overscaledZ-i.overscaledZ||d-o||i.canonical.y-r.canonical.y||i.canonical.x-r.canonical.x}function WS(r){return r==="raster"||r==="image"||r==="video"||r==="custom"}function f1(r,i){const o=1<<r.z;return[r.x/o+i,(r.x+1)/o+i]}Af.maxOverzooming=10,Af.maxUnderzooming=3;class By{constructor(i,o,d){this._demTile=i,this._dem=this._demTile.dem,this._scale=o,this._offset=d}static create(i,o,d){const p=d||i.findDEMTileFor(o);if(!p||!p.dem)return;const v=p.dem,T=p.tileID,B=1<<o.canonical.z-T.canonical.z;return new By(p,p.tileSize/Tn/B,[(o.canonical.x/B-T.canonical.x)*v.dim,(o.canonical.y/B-T.canonical.y)*v.dim])}tileCoordToPixel(i,o){const d=o*this._scale+this._offset[1],p=Math.floor(i*this._scale+this._offset[0]),v=Math.floor(d);return new $(p,v)}getElevationAt(i,o,d,p){const v=i*this._scale+this._offset[0],T=o*this._scale+this._offset[1],B=Math.floor(v),K=Math.floor(T),ie=this._dem;return p=!!p,d?zn(zn(ie.get(B,K,p),ie.get(B,K+1,p),T-K),zn(ie.get(B+1,K,p),ie.get(B+1,K+1,p),T-K),v-B):ie.get(B,K,p)}getElevationAtPixel(i,o,d){return this._dem.get(i,o,!!d)}getMeterToDEM(i){return(1<<this._demTile.tileID.canonical.z)*Ol(1,i)*this._dem.stride}}class YS{constructor(i,o){this.tileID=i,this.x=i.canonical.x,this.y=i.canonical.y,this.z=i.canonical.z,this.grid=new lh(Tn,16,0),this.featureIndexArray=new Od,this.promoteId=o}insert(i,o,d,p,v,T=0){const B=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,p,v,T);const K=this.grid;for(let ie=0;ie<o.length;ie++){const ue=o[ie],be=[1/0,1/0,-1/0,-1/0];for(let Me=0;Me<ue.length;Me++){const Ie=ue[Me];be[0]=Math.min(be[0],Ie.x),be[1]=Math.min(be[1],Ie.y),be[2]=Math.max(be[2],Ie.x),be[3]=Math.max(be[3],Ie.y)}be[0]<Tn&&be[1]<Tn&&be[2]>=0&&be[3]>=0&&K.insert(B,be[0],be[1],be[2],be[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new Ig(new mf(this.rawTileData)).layers,this.sourceLayerCoder=new re(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const i in this.vtLayers)this.vtFeatures[i]=[]}return this.vtLayers}query(i,o,d,p){this.loadVTLayers();const v=i.params||{},T=Tr(v.filter),B=i.tileResult,K=i.transform,ie=B.bufferedTilespaceBounds,ue=this.grid.query(ie.min.x,ie.min.y,ie.max.x,ie.max.y,(Be,He,tt,gt)=>ug(B.bufferedTilespaceGeometry,Be,He,tt,gt));ue.sort(ok);let be=null;K.elevation&&ue.length>0&&(be=By.create(K.elevation,this.tileID));const Me={};let Ie;for(let Be=0;Be<ue.length;Be++){const He=ue[Be];if(He===Ie)continue;Ie=He;const tt=this.featureIndexArray.get(He);let gt=null;this.loadMatchingFeature(Me,tt,T,v.layers,v.availableImages,o,d,p,(Pt,mt,wt,Ot=0)=>(gt||(gt=Ac(Pt,this.tileID.canonical,i.tileTransform)),mt.queryIntersectsFeature(B,Pt,wt,gt,this.z,i.transform,i.pixelPosMatrix,be,Ot)))}return Me}loadMatchingFeature(i,o,d,p,v,T,B,K,ie){const{featureIndex:ue,bucketIndex:be,sourceLayerIndex:Me,layoutVertexArrayOffset:Ie}=o,Be=this.bucketLayerIDs[be];if(p&&!function(Pt,mt){for(let wt=0;wt<Pt.length;wt++)if(mt.indexOf(Pt[wt])>=0)return!0;return!1}(p,Be))return;const He=this.sourceLayerCoder.decode(Me),tt=this.vtLayers[He].feature(ue);if(d.needGeometry){const Pt=ld(tt,!0);if(!d.filter(new Vt(this.tileID.overscaledZ),Pt,this.tileID.canonical))return}else if(!d.filter(new Vt(this.tileID.overscaledZ),tt))return;const gt=this.getId(tt,He);for(let Pt=0;Pt<Be.length;Pt++){const mt=Be[Pt];if(p&&p.indexOf(mt)<0)continue;const wt=T[mt];if(!wt)continue;let Ot={};gt!==void 0&&K&&(Ot=K.getState(wt.sourceLayer||"_geojsonTileLayer",gt));const Dt=Z({},B[mt]);Dt.paint=qS(Dt.paint,wt.paint,tt,Ot,v),Dt.layout=qS(Dt.layout,wt.layout,tt,Ot,v);const Jt=!ie||ie(tt,wt,Ot,Ie);if(!Jt)continue;const Kt=new Ye(tt,this.z,this.x,this.y,gt);Kt.layer=Dt;let fi=i[mt];fi===void 0&&(fi=i[mt]=[]),fi.push({featureIndex:ue,feature:Kt,intersectionZ:Jt})}}lookupSymbolFeatures(i,o,d,p,v,T,B,K){const ie={};this.loadVTLayers();const ue=Tr(v);for(const be of i)this.loadMatchingFeature(ie,{bucketIndex:d,sourceLayerIndex:p,featureIndex:be,layoutVertexArrayOffset:0},ue,T,B,K,o);return ie}loadFeature(i){const{featureIndex:o,sourceLayerIndex:d}=i;this.loadVTLayers();const p=this.sourceLayerCoder.decode(d),v=this.vtFeatures[p];if(v[o])return v[o];const T=this.vtLayers[p].feature(o);return v[o]=T,T}hasLayer(i){for(const o of this.bucketLayerIDs)for(const d of o)if(i===d)return!0;return!1}getId(i,o){let d=i.id;if(this.promoteId){const p=typeof this.promoteId=="string"?this.promoteId:this.promoteId[o];p!=null&&(d=i.properties[p]),typeof d=="boolean"&&(d=Number(d))}return d}}function qS(r,i,o,d,p){return Ee(r,(v,T)=>{const B=i instanceof Ri?i.get(T):null;return B&&B.evaluate?B.evaluate(o,d,p):B})}function ok(r,i){return i-r}qi(YS,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class XS{constructor(i,o){this.width=i,this.height=o,this.nextRow=0,this.image=new Nd({width:i,height:o}),this.positions={},this.uploaded=!1}getDash(i,o){const d=this.getKey(i,o);return this.positions[d]}trim(){const i=this.width,o=this.height=J(this.nextRow);this.image.resize({width:i,height:o})}getKey(i,o){return i.join(",")+o}getDashRanges(i,o,d){const p=[];let v=i.length%2==1?-i[i.length-1]*d:0,T=i[0]*d,B=!0;p.push({left:v,right:T,isDash:B,zeroLength:i[0]===0});let K=i[0];for(let ie=1;ie<i.length;ie++){B=!B;const ue=i[ie];v=K*d,K+=ue,T=K*d,p.push({left:v,right:T,isDash:B,zeroLength:ue===0})}return p}addRoundDash(i,o,d){const p=o/2;for(let v=-d;v<=d;v++){const T=this.width*(this.nextRow+d+v);let B=0,K=i[B];for(let ie=0;ie<this.width;ie++){ie/K.right>1&&(K=i[++B]);const ue=Math.abs(ie-K.left),be=Math.abs(ie-K.right),Me=Math.min(ue,be);let Ie;const Be=v/d*(p+1);if(K.isDash){const He=p-Math.abs(Be);Ie=Math.sqrt(Me*Me+He*He)}else Ie=p-Math.sqrt(Me*Me+Be*Be);this.image.data[T+ie]=Math.max(0,Math.min(255,Ie+128))}}}addRegularDash(i,o){for(let K=i.length-1;K>=0;--K){const ie=i[K],ue=i[K+1];ie.zeroLength?i.splice(K,1):ue&&ue.isDash===ie.isDash&&(ue.left=ie.left,i.splice(K,1))}const d=i[0],p=i[i.length-1];d.isDash===p.isDash&&(d.left=p.left-this.width,p.right=d.right+this.width);const v=this.width*this.nextRow;let T=0,B=i[T];for(let K=0;K<this.width;K++){K/B.right>1&&(B=i[++T]);const ie=Math.abs(K-B.left),ue=Math.abs(K-B.right),be=Math.min(ie,ue);this.image.data[v+K]=Math.max(0,Math.min(255,(B.isDash?be:-be)+o+128))}}addDash(i,o){const d=this.getKey(i,o);if(this.positions[d])return this.positions[d];const p=o==="round",v=p?7:0,T=2*v+1;if(this.nextRow+T>this.height)return ae("LineAtlas out of space"),null;i.length===0&&i.push(1);let B=0;for(let ue=0;ue<i.length;ue++)i[ue]<0&&(ae("Negative value is found in line dasharray, replacing values with 0"),i[ue]=0),B+=i[ue];if(B!==0){const ue=this.width/B,be=this.getDashRanges(i,this.width,ue);p?this.addRoundDash(be,ue,v):this.addRegularDash(be,o==="square"?.5*ue:0)}const K=this.nextRow+v;this.nextRow+=T;const ie={tl:[K,v],br:[B,0]};return this.positions[d]=ie,ie}}qi(XS,"LineAtlas");class ZS{constructor(i){const o={},d=[];for(const B in i){const K=i[B],ie=o[B]={};for(const ue in K.glyphs){const be=K.glyphs[+ue];if(!be||be.bitmap.width===0||be.bitmap.height===0)continue;const Me=be.metrics.localGlyph?2:1,Ie={x:0,y:0,w:be.bitmap.width+2*Me,h:be.bitmap.height+2*Me};d.push(Ie),ie[ue]=Ie}}const{w:p,h:v}=Gg(d),T=new Nd({width:p||1,height:v||1});for(const B in i){const K=i[B];for(const ie in K.glyphs){const ue=K.glyphs[+ie];if(!ue||ue.bitmap.width===0||ue.bitmap.height===0)continue;const be=o[B][ie],Me=ue.metrics.localGlyph?2:1;Nd.copy(ue.bitmap,T,{x:0,y:0},{x:be.x+Me,y:be.y+Me},ue.bitmap)}}this.image=T,this.positions=o}}qi(ZS,"GlyphAtlas");class ak{constructor(i){this.tileID=new Oo(i.tileID.overscaledZ,i.tileID.wrap,i.tileID.canonical.z,i.tileID.canonical.x,i.tileID.canonical.y),this.tileZoom=i.tileZoom,this.uid=i.uid,this.zoom=i.zoom,this.canonical=i.tileID.canonical,this.pixelRatio=i.pixelRatio,this.tileSize=i.tileSize,this.source=i.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=i.showCollisionBoxes,this.collectResourceTiming=!!i.collectResourceTiming,this.returnDependencies=!!i.returnDependencies,this.promoteId=i.promoteId,this.enableTerrain=!!i.enableTerrain,this.isSymbolTile=i.isSymbolTile,this.tileTransform=nu(i.tileID.canonical,i.projection),this.projection=i.projection}parse(i,o,d,p,v){this.status="parsing",this.data=i,this.collisionBoxArray=new Xm;const T=new re(Object.keys(i.layers).sort()),B=new YS(this.tileID,this.promoteId);B.bucketLayerIDs=[];const K={},ie=new XS(256,256),ue={featureIndex:B,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:ie,availableImages:d},be=o.familiesBySource[this.source];for(const Ot in be){const Dt=i.layers[Ot];if(!Dt)continue;let Jt=!1,Kt=!1;for(const si of be[Ot])si[0].type==="symbol"?Jt=!0:Kt=!0;if(this.isSymbolTile===!0&&!Jt||this.isSymbolTile===!1&&!Kt)continue;Dt.version===1&&ae(`Vector tile source "${this.source}" layer "${Ot}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const fi=T.encode(Ot),zi=[];for(let si=0;si<Dt.length;si++){const yi=Dt.feature(si),xi=B.getId(yi,Ot);zi.push({feature:yi,id:xi,index:si,sourceLayerIndex:fi})}for(const si of be[Ot]){const yi=si[0];this.isSymbolTile!==void 0&&yi.type==="symbol"!==this.isSymbolTile||yi.minzoom&&this.zoom<Math.floor(yi.minzoom)||yi.maxzoom&&this.zoom>=yi.maxzoom||yi.visibility!=="none"&&(A2(si,this.zoom,d),(K[yi.id]=yi.createBucket({index:B.bucketLayerIDs.length,layers:si,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:fi,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:d})).populate(zi,ue,this.tileID.canonical,this.tileTransform),B.bucketLayerIDs.push(si.map(xi=>xi.id)))}}let Me,Ie,Be,He;ie.trim();const tt={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},gt=Ee(ue.glyphDependencies,Ot=>Object.keys(Ot).map(Number));Object.keys(gt).length?p.send("getGlyphs",{uid:this.uid,stacks:gt},(Ot,Dt)=>{Me||(Me=Ot,Ie=Dt,wt.call(this))},void 0,!1,tt):Ie={};const Pt=Object.keys(ue.iconDependencies);Pt.length?p.send("getImages",{icons:Pt,source:this.source,tileID:this.tileID,type:"icons"},(Ot,Dt)=>{Me||(Me=Ot,Be=Dt,wt.call(this))},void 0,!1,tt):Be={};const mt=Object.keys(ue.patternDependencies);function wt(){if(Me)return v(Me);if(Ie&&Be&&He){const Ot=new ZS(Ie),Dt=new ud(Be,He);for(const Jt in K){const Kt=K[Jt];Kt instanceof _h?(A2(Kt.layers,this.zoom,d),i2(Kt,Ie,Ot.positions,Be,Dt.iconPositions,this.showCollisionBoxes,d,this.tileID.canonical,this.tileZoom,this.projection)):Kt.hasPattern&&(Kt instanceof G0||Kt instanceof O0||Kt instanceof uf)&&(A2(Kt.layers,this.zoom,d),Kt.addFeatures(ue,this.tileID.canonical,Dt.patternPositions,d,this.tileTransform))}this.status="done",v(null,{buckets:te(K).filter(Jt=>!Jt.isEmpty()),featureIndex:B,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Ot.image,lineAtlas:ie,imageAtlas:Dt,glyphMap:this.returnDependencies?Ie:null,iconMap:this.returnDependencies?Be:null,glyphPositions:this.returnDependencies?Ot.positions:null})}}mt.length?p.send("getImages",{icons:mt,source:this.source,tileID:this.tileID,type:"patterns"},(Ot,Dt)=>{Me||(Me=Ot,He=Dt,wt.call(this))},void 0,!1,tt):He={},wt.call(this)}}function A2(r,i,o){const d=new Vt(i);for(const p of r)p.recalculate(d,o)}class KS{constructor(i){this.entries={},this.scheduler=i}request(i,o,d,p){const v=this.entries[i]=this.entries[i]||{callbacks:[]};if(v.result){const[T,B]=v.result;return this.scheduler?this.scheduler.add(()=>{p(T,B)},o):p(T,B),()=>{}}return v.callbacks.push(p),v.cancel||(v.cancel=d((T,B)=>{v.result=[T,B];for(const K of v.callbacks)this.scheduler?this.scheduler.add(()=>{K(T,B)},o):K(T,B);setTimeout(()=>delete this.entries[i],3e3)})),()=>{v.result||(v.callbacks=v.callbacks.filter(T=>T!==p),v.callbacks.length||(v.cancel(),delete this.entries[i]))}}}function JS(r,i,o){const d=JSON.stringify(r.request);return r.data&&(this.deduped.entries[d]={result:[null,r.data]}),this.deduped.request(d,{type:"parseTile",isSymbolTile:r.isSymbolTile,zoom:r.tileZoom},p=>{const v=wi(r.request,(T,B,K,ie)=>{T?p(T):B&&p(null,{vectorTile:o?void 0:new Ig(new mf(B)),rawData:B,cacheControl:K,expires:ie})});return()=>{v.cancel(),p()}},i)}n.ARRAY_TYPE=tl,n.AUTH_ERR_MSG=us,n.Aabb=Ta,n.Actor=class{constructor(r,i,o){this.target=r,this.parent=i,this.mapId=o,this.callbacks={},this.cancelCallbacks={},ce(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Re()?r:x,this.scheduler=new k}send(r,i,o,d,p=!1,v){const T=Math.round(1e18*Math.random()).toString(36).substring(0,10);o&&(o.metadata=v,this.callbacks[T]=o);const B=rt(this.globalScope)?void 0:[];return this.target.postMessage({id:T,type:r,hasCallback:!!o,targetMapId:d,mustQueue:p,sourceMapId:this.mapId,data:sd(i,B)},B),{cancel:()=>{o&&delete this.callbacks[T],this.target.postMessage({id:T,type:"<cancel>",targetMapId:d,sourceMapId:this.mapId})}}}receive(r){const i=r.data,o=i.id;if(o&&(!i.targetMapId||this.mapId===i.targetMapId))if(i.type==="<cancel>"){const d=this.cancelCallbacks[o];delete this.cancelCallbacks[o],d&&d.cancel()}else if(i.mustQueue||Re()){const d=this.callbacks[o];this.cancelCallbacks[o]=this.scheduler.add(()=>this.processTask(o,i),d&&d.metadata||{type:"message"})}else this.processTask(o,i)}processTask(r,i){if(i.type==="<response>"){const o=this.callbacks[r];delete this.callbacks[r],o&&(i.error?o(Fh(i.error)):o(null,Fh(i.data)))}else{const o=rt(this.globalScope)?void 0:[],d=i.hasCallback?(v,T)=>{delete this.cancelCallbacks[r],this.target.postMessage({id:r,type:"<response>",sourceMapId:this.mapId,error:v?sd(v):null,data:sd(T,o)},o)}:v=>{},p=Fh(i.data);if(this.parent[i.type])this.parent[i.type](i.sourceMapId,p,d);else if(this.parent.getWorkerSource){const v=i.type.split(".");this.parent.getWorkerSource(i.sourceMapId,v[0],p.source)[v[1]](p,d)}else d(new Error(`Could not find function ${i.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},n.CanonicalTileID=U0,n.Color=pr,n.ColorMode=yh,n.CullFaceMode=$d,n.DEMData=Mf,n.DataConstantProperty=Ht,n.DedupedRequest=KS,n.DepthMode=lm,n.EXTENT=Tn,n.Elevation=class{isDataAvailableAtPoint(r){const i=this._source();if(this.isUsingMockSource()||!i||r.y<0||r.y>1)return!1;const o=i.getSource().maxzoom,d=1<<o,p=Math.floor(r.x),v=Math.floor((r.x-p)*d),T=Math.floor(r.y*d),B=this.findDEMTileFor(new Oo(o,p,o,v,T));return!(!B||!B.dem)}getAtPointOrZero(r,i=0){return this.getAtPoint(r,i)||0}getAtPoint(r,i,o=!0){if(this.isUsingMockSource())return null;i==null&&(i=null);const d=this._source();if(!d||r.y<0||r.y>1)return i;const p=d.getSource().maxzoom,v=1<<p,T=Math.floor(r.x),B=r.x-T,K=new Oo(p,T,p,Math.floor(B*v),Math.floor(r.y*v)),ie=this.findDEMTileFor(K);if(!ie||!ie.dem)return i;const ue=ie.dem,be=1<<ie.tileID.canonical.z,Me=(B*be-ie.tileID.canonical.x)*ue.dim,Ie=(r.y*be-ie.tileID.canonical.y)*ue.dim,Be=Math.floor(Me),He=Math.floor(Ie);return(o?this.exaggeration():1)*zn(zn(ue.get(Be,He),ue.get(Be,He+1),Ie-He),zn(ue.get(Be+1,He),ue.get(Be+1,He+1),Ie-He),Me-Be)}getAtTileOffset(r,i,o){const d=1<<r.canonical.z;return this.getAtPointOrZero(new Vh(r.wrap+(r.canonical.x+i/Tn)/d,(r.canonical.y+o/Tn)/d))}getAtTileOffsetFunc(r,i,o,d){return p=>{const v=this.getAtTileOffset(r,p.x,p.y),T=d.upVector(r.canonical,p.x,p.y);return Rl(T,T,v*d.upVectorScale(r.canonical,i,o).metersToTile),T}}getForTilePoints(r,i,o,d){if(this.isUsingMockSource())return!1;const p=By.create(this,r,d);return!!p&&(i.forEach(v=>{v[2]=this.exaggeration()*p.getElevationAt(v[0],v[1],o)}),!0)}getMinMaxForTile(r){if(this.isUsingMockSource())return null;const i=this.findDEMTileFor(r);if(!i||!i.dem)return null;const o=i.dem.tree,d=i.tileID,p=1<<r.canonical.z-d.canonical.z;let v=r.canonical.x/p-d.canonical.x,T=r.canonical.y/p-d.canonical.y,B=0;for(let K=0;K<r.canonical.z-d.canonical.z&&!o.leaves[B];K++){v*=2,T*=2;const ie=2*Math.floor(T)+Math.floor(v);B=o.childOffsets[B]+ie,v%=1,T%=1}return{min:this.exaggeration()*o.minimums[B],max:this.exaggeration()*o.maximums[B]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(r,i,o){throw new Error("Pure virtual method called.")}pointCoordinate(r){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(r){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},n.ErrorEvent=ga,n.EvaluationParameters=Vt,n.Event=ma,n.Evented=Xr,n.FillExtrusionBucket=uf,n.Frustum=wg,n.FrustumCorners=bg,n.GLOBE_METERS_TO_ECEF=Qg,n.GLOBE_RADIUS=Ud,n.GLOBE_SCALE_MATCH_LATITUDE=45,n.GLOBE_ZOOM_THRESHOLD_MAX=6,n.GLOBE_ZOOM_THRESHOLD_MIN=5,n.GlobeSharedBuffers=class{constructor(r){this._createGrid(r),this._createPoles(r)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const r of this._poleSegments)r.destroy();for(const r of this._gridSegments)r.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const r of this._wireframeSegments)r.destroy()}}_createGrid(r){const i=new Is,o=new Lo,d=65;for(let p=0;p<d;p++)for(let v=0;v<d;v++)i.emplaceBack(v,p);this._gridSegments=[];for(let p=0,v=0;p<ep.length;p++){const T=ep[p];for(let K=0;K<T;K++)for(let ie=0;ie<64;ie++){const ue=K*d+ie;o.emplaceBack(ue+1,ue,ue+d),o.emplaceBack(ue+d,ue+d+1,ue+1)}const B=64*T*2;this._gridSegments.push(Qr.simpleSegment(0,v,(T+1)*d,B)),v+=B}this._gridBuffer=r.createVertexBuffer(i,yf.members),this._gridIndexBuffer=r.createIndexBuffer(o,!0)}_createPoles(r){const i=new Lo;for(let p=0;p<=Qu;p++)i.emplaceBack(0,p+1,p+2);this._poleIndexBuffer=r.createIndexBuffer(i,!0);const o=new ss,d=new ss;this._poleSegments=[];for(let p=0,v=0;p<5;p++){const T=360/(1<<p);o.emplaceBack(0,-Ud,0,.5,0),d.emplaceBack(0,-Ud,0,.5,1);for(let B=0;B<=Qu;B++){const K=B/Qu,ie=zn(0,T,K),[ue,be,Me]=tp(c2,r1,ie,Ud);o.emplaceBack(ue,be,Me,K,0),d.emplaceBack(ue,be,Me,K,1)}this._poleSegments.push(Qr.simpleSegment(v,0,66,64)),v+=66}this._poleNorthVertexBuffer=r.createVertexBuffer(o,Kg,!1),this._poleSouthVertexBuffer=r.createVertexBuffer(d,Kg,!1)}getGridBuffers(r){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[r]]}getPoleBuffers(r){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[r]]}getWirefameBuffers(r,i){if(!this._wireframeSegments){const o=new Ql,d=Qu,p=d+1;this._wireframeSegments=[];for(let v=0,T=0;v<ep.length;v++){const B=ep[v];for(let ie=0;ie<B;ie++)for(let ue=0;ue<d;ue++){const be=ie*p+ue;o.emplaceBack(be,be+1),o.emplaceBack(be,be+p),o.emplaceBack(be,be+p+1)}const K=B*d*3;this._wireframeSegments.push(Qr.simpleSegment(0,T,(B+1)*p,K)),T+=K}this._wireframeIndexBuffer=r.createIndexBuffer(o)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[i]]}},n.GlyphManager=io,n.ImagePosition=H0,n.LivePerformanceUtils=Gi,n.LngLat=_s,n.LngLatBounds=Bd,n.LocalGlyphMode=Wg,n.MAX_MERCATOR_LATITUDE=Yo,n.MercatorCoordinate=Vh,n.ONE_EM=nr,n.OverscaledTileID=Oo,n.PerformanceMarkers=mi,n.Properties=gn,n.RGBAImage=nl,n.Ray=P0,n.RequestManager=class{constructor(r,i,o){this._transformRequestFn=r,this._customAccessToken=i,this._silenceAuthErrors=!!o,this._createSkuToken()}_createSkuToken(){const r=function(){let i="";for(let o=0;o<10;o++)i+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",C,i].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=r.token,this._skuTokenExpiresAt=r.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(r,i){return this._transformRequestFn&&this._transformRequestFn(r,i)||{url:r}}normalizeStyleURL(r,i){if(!Ps(r))return r;const o=lr(r);return o.path=`/styles/v1${o.path}`,this._makeAPIURL(o,this._customAccessToken||i)}normalizeGlyphsURL(r,i){if(!Ps(r))return r;const o=lr(r);return o.path=`/fonts/v1${o.path}`,this._makeAPIURL(o,this._customAccessToken||i)}normalizeSourceURL(r,i,o,d){if(!Ps(r))return r;const p=lr(r);return p.path=`/v4/${p.authority}.json`,p.params.push("secure"),o&&p.params.push(`language=${o}`),d&&p.params.push(`worldview=${d}`),this._makeAPIURL(p,this._customAccessToken||i)}normalizeSpriteURL(r,i,o,d){const p=lr(r);return Ps(r)?(p.path=`/styles/v1${p.path}/sprite${i}${o}`,this._makeAPIURL(p,this._customAccessToken||d)):(p.path+=`${i}${o}`,No(p))}normalizeTileURL(r,i,o){if(this._isSkuTokenExpired()&&this._createSkuToken(),r&&!Ps(r))return r;const d=lr(r);d.path=d.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${i||o&&d.authority!=="raster"&&o===512?"@2x":""}${V.supported?".webp":"$1"}`),d.authority==="raster"?d.path=`/${O.RASTER_URL_PREFIX}${d.path}`:(d.path=d.path.replace(/^.+\/v4\//,"/"),d.path=`/${O.TILE_URL_VERSION}${d.path}`);const p=this._customAccessToken||function(v){for(const T of v){const B=T.match(/^access_token=(.*)$/);if(B)return B[1]}return null}(d.params)||O.ACCESS_TOKEN;return O.REQUIRE_ACCESS_TOKEN&&p&&this._skuToken&&d.params.push(`sku=${this._skuToken}`),this._makeAPIURL(d,p)}canonicalizeTileURL(r,i){const o=lr(r);if(!o.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!o.path.match(/\.[\w]+$/))return r;let d="mapbox://";o.path.match(/^\/raster\/v1\//)?d+=`raster/${o.path.replace(`/${O.RASTER_URL_PREFIX}/`,"")}`:d+=`tiles/${o.path.replace(`/${O.TILE_URL_VERSION}/`,"")}`;let p=o.params;return i&&(p=p.filter(v=>!v.match(/^access_token=/))),p.length&&(d+=`?${p.join("&")}`),d}canonicalizeTileset(r,i){const o=!!i&&Ps(i),d=[];for(const p of r.tiles||[])nn(p)?d.push(this.canonicalizeTileURL(p,o)):d.push(p);return d}_makeAPIURL(r,i){const o="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",d=lr(O.API_URL);if(r.protocol=d.protocol,r.authority=d.authority,r.protocol==="http"){const p=r.params.indexOf("secure");p>=0&&r.params.splice(p,1)}if(d.path!=="/"&&(r.path=`${d.path}${r.path}`),!O.REQUIRE_ACCESS_TOKEN)return No(r);if(i=i||O.ACCESS_TOKEN,!this._silenceAuthErrors){if(!i)throw new Error(`An API access token is required to use Mapbox GL. ${o}`);if(i[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${o}`)}return r.params=r.params.filter(p=>p.indexOf("access_token")===-1),r.params.push(`access_token=${i||""}`),No(r)}},n.ResourceType=Wt,n.SegmentVector=Qr,n.SourceCache=Af,n.StencilMode=C2,n.StructArrayLayout1ui2=Ld,n.StructArrayLayout2f1f2i16=Ho,n.StructArrayLayout2i4=Is,n.StructArrayLayout2ui4=Ql,n.StructArrayLayout3f12=Dl,n.StructArrayLayout3ui6=Lo,n.StructArrayLayout4i8=Us,n.StructArrayLayout5f20=ss,n.Texture=Ef,n.Tile=Wn,n.Transitionable=pi,n.Uniform1f=Ru,n.Uniform1i=class extends od{constructor(r){super(r),this.current=0}set(r,i,o){this.fetchUniformLocation(r,i)&&this.current!==o&&(this.current=o,this.gl.uniform1i(this.location,o))}},n.Uniform2f=class extends od{constructor(r){super(r),this.current=[0,0]}set(r,i,o){this.fetchUniformLocation(r,i)&&(o[0]===this.current[0]&&o[1]===this.current[1]||(this.current=o,this.gl.uniform2f(this.location,o[0],o[1])))}},n.Uniform3f=class extends od{constructor(r){super(r),this.current=[0,0,0]}set(r,i,o){this.fetchUniformLocation(r,i)&&(o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]||(this.current=o,this.gl.uniform3f(this.location,o[0],o[1],o[2])))}},n.Uniform4f=x_,n.UniformColor=b_,n.UniformMatrix2f=class extends od{constructor(r){super(r),this.current=S_}set(r,i,o){if(this.fetchUniformLocation(r,i)){for(let d=0;d<4;d++)if(o[d]!==this.current[d]){this.current=o,this.gl.uniformMatrix2fv(this.location,!1,o);break}}}},n.UniformMatrix3f=class extends od{constructor(r){super(r),this.current=w_}set(r,i,o){if(this.fetchUniformLocation(r,i)){for(let d=0;d<9;d++)if(o[d]!==this.current[d]){this.current=o,this.gl.uniformMatrix3fv(this.location,!1,o);break}}}},n.UniformMatrix4f=class extends od{constructor(r){super(r),this.current=Vx}set(r,i,o){if(this.fetchUniformLocation(r,i)){if(o[12]!==this.current[12]||o[0]!==this.current[0])return this.current=o,void this.gl.uniformMatrix4fv(this.location,!1,o);for(let d=1;d<16;d++)if(o[d]!==this.current[d]){this.current=o,this.gl.uniformMatrix4fv(this.location,!1,o);break}}}},n.UnwrappedTileID=iy,n.ValidationError=Zi,n.VectorTileFeature=z0,n.VectorTileWorkerSource=class extends Xr{constructor(r,i,o,d,p){super(),this.actor=r,this.layerIndex=i,this.availableImages=o,this.loadVectorData=p||JS,this.loading={},this.loaded={},this.deduped=new KS(r.scheduler),this.isSpriteLoaded=d,this.scheduler=r.scheduler}loadTile(r,i){const o=r.uid,d=r&&r.request,p=d&&d.collectResourceTiming,v=this.loading[o]=new ak(r);v.abort=this.loadVectorData(r,(T,B)=>{const K=!this.loading[o];if(delete this.loading[o],K||T||!B)return v.status="done",K||(this.loaded[o]=v),i(T);const ie=B.rawData,ue={};B.expires&&(ue.expires=B.expires),B.cacheControl&&(ue.cacheControl=B.cacheControl),v.vectorTile=B.vectorTile||new Ig(new mf(ie));const be=()=>{v.parse(v.vectorTile,this.layerIndex,this.availableImages,this.actor,(Me,Ie)=>{if(Me||!Ie)return i(Me);const Be={};if(p){const He=_n(d);He.length>0&&(Be.resourceTiming=JSON.parse(JSON.stringify(He)))}i(null,Z({rawTileData:ie.slice(0)},Ie,ue,Be))})};this.isSpriteLoaded?be():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(be,{type:"parseTile",isSymbolTile:r.isSymbolTile,zoom:r.tileZoom}):be()}),this.loaded=this.loaded||{},this.loaded[o]=v})}reloadTile(r,i){const o=this.loaded,d=r.uid,p=this;if(o&&o[d]){const v=o[d];v.showCollisionBoxes=r.showCollisionBoxes,v.enableTerrain=!!r.enableTerrain,v.projection=r.projection,v.tileTransform=nu(r.tileID.canonical,r.projection);const T=(B,K)=>{const ie=v.reloadCallback;ie&&(delete v.reloadCallback,v.parse(v.vectorTile,p.layerIndex,this.availableImages,p.actor,ie)),i(B,K)};v.status==="parsing"?v.reloadCallback=T:v.status==="done"&&(v.vectorTile?v.parse(v.vectorTile,this.layerIndex,this.availableImages,this.actor,T):T())}}abortTile(r,i){const o=r.uid,d=this.loading[o];d&&(d.abort&&d.abort(),delete this.loading[o]),i()}removeTile(r,i){const o=this.loaded,d=r.uid;o&&o[d]&&delete o[d],i()}},n.WritingMode=jn,n.add=dd,n.addDynamicAttributes=om,n.adjoint=function(r,i){var o=i[0],d=i[1],p=i[2],v=i[3],T=i[4],B=i[5],K=i[6],ie=i[7],ue=i[8];return r[0]=T*ue-B*ie,r[1]=p*ie-d*ue,r[2]=d*B-p*T,r[3]=B*K-v*ue,r[4]=o*ue-p*K,r[5]=p*v-o*B,r[6]=v*ie-T*K,r[7]=d*K-o*ie,r[8]=o*T-d*v,r},n.asyncAll=X,n.bezier=P,n.bindAll=ce,n.boundsAttributes=un,n.bufferConvexPolygon=function(r,i){const o=[];for(let d=0;d<r.length;d++){const p=D(d-1,-1,r.length-1),v=D(d+1,-1,r.length-1),T=r[d],B=r[v],K=r[p].sub(T).unit(),ie=B.sub(T).unit(),ue=ie.angleWithSep(K.x,K.y),be=K.add(ie).unit().mult(-1*i/Math.sin(ue/2));o.push(T.add(be))}return o},n.cacheEntryPossiblyAdded=function(r){ci++,ci>Ke&&(r.getActor().send("enforceCacheSizeLimit",Xe),ci=0)},n.calculateGlobeLabelMatrix=function(r,i){const{x:o,y:d}=r.point,p=tm(o,d,r.worldSize/r._pixelsPerMercatorPixel,0,0);return Yh(p,p,i1(pd(i)))},n.calculateGlobeMatrix=function(r){const{x:i,y:o}=r.point,{lng:d,lat:p}=r._center;return tm(i,o,r.worldSize,d,p)},n.calculateGlobeMercatorMatrix=function(r){const i=r.pixelsPerMeter,o=i/Ol(1,r.center.lat),d=ec(new Float64Array(16));return tf(d,d,[r.point.x,r.point.y,0]),qh(d,d,[o,o,i]),Float32Array.from(d)},n.circumferenceAtLatitude=ig,n.clamp=g,n.clearTileCache=function(r){if(!pt())return;const i=x.caches.delete(Te);r&&i.catch(r).then(()=>r())},n.clipLine=vy,n.clone=function(r){var i=new tl(16);return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],i[9]=r[9],i[10]=r[10],i[11]=r[11],i[12]=r[12],i[13]=r[13],i[14]=r[14],i[15]=r[15],i},n.clone$1=ye,n.collisionCircleLayout=Nb,n.config=O,n.conjugate=function(r,i){return r[0]=-i[0],r[1]=-i[1],r[2]=-i[2],r[3]=i[3],r},n.create=function(){var r=new tl(16);return tl!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r},n.create$1=k_,n.createExpression=bi,n.createLayout=tn,n.createStyleLayer=function(r){return r.type==="custom"?new b2(r):new S2[r.type](r)},n.cross=yg,n.degToRad=N,n.distance=function(r,i){return Math.hypot(i[0]-r[0],i[1]-r[1],i[2]-r[2])},n.div=function(r,i,o){return r[0]=i[0]/o[0],r[1]=i[1]/o[1],r[2]=i[2]/o[2],r},n.dot=tc,n.earthRadius=Gh,n.ease=f,n.easeCubicInOut=S,n.ecefToLatLng=function([r,i,o]){const d=Math.hypot(r,i,o),p=Math.atan2(r,o),v=.5*Math.PI-Math.acos(-i/d);return new _s(j(p),j(v))},n.emitValidationErrors=c0,n.endsWith=pe,n.enforceCacheSizeLimit=function(r){Tt(),Oe&&Oe.then(i=>{i.keys().then(o=>{for(let d=0;d<o.length-r;d++)i.delete(o[d])})})},n.evaluateSizeForFeature=Ic,n.evaluateSizeForZoom=Xu,n.evaluateVariableOffset=qg,n.evented=Ct,n.exactEquals=function(r,i){return r[0]===i[0]&&r[1]===i[1]&&r[2]===i[2]&&r[3]===i[3]},n.exactEquals$1=function(r,i){return r[0]===i[0]&&r[1]===i[1]&&r[2]===i[2]},n.exported=pn,n.exported$1=V,n.extend=Z,n.extend$1=Js,n.fillExtrusionHeightLift=Rg,n.filterObject=ne,n.fromMat4=function(r,i){return r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[4],r[4]=i[5],r[5]=i[6],r[6]=i[8],r[7]=i[9],r[8]=i[10],r},n.fromQuat=function(r,i){var o=i[0],d=i[1],p=i[2],v=i[3],T=o+o,B=d+d,K=p+p,ie=o*T,ue=d*T,be=d*B,Me=p*T,Ie=p*B,Be=p*K,He=v*T,tt=v*B,gt=v*K;return r[0]=1-be-Be,r[1]=ue+gt,r[2]=Me-tt,r[3]=0,r[4]=ue-gt,r[5]=1-ie-Be,r[6]=Ie+He,r[7]=0,r[8]=Me+tt,r[9]=Ie-He,r[10]=1-ie-be,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},n.fromRotation=function(r,i){var o=Math.sin(i),d=Math.cos(i);return r[0]=d,r[1]=o,r[2]=0,r[3]=-o,r[4]=d,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r},n.fromScaling=mg,n.furthestTileCorner=function(r){const i=Math.round((r+45+360)%360/90)%4;return W[i]},n.getAABBPointSquareDist=function(r,i,o){let d=0;for(let p=0;p<2;++p){const v=o?o[p]:0;r[p]>v&&(d+=(r[p]-v)*(r[p]-v)),i[p]<v&&(d+=(v-i[p])*(v-i[p]))}return d},n.getAnchorAlignment=Hg,n.getAnchorJustification=Xg,n.getBounds=function(r){let i=1/0,o=1/0,d=-1/0,p=-1/0;for(const v of r)i=Math.min(i,v.x),o=Math.min(o,v.y),d=Math.max(d,v.x),p=Math.max(p,v.y);return{min:new $(i,o),max:new $(d,p)}},n.getColumn=qe,n.getGridMatrix=function(r,i,o,d){const p=i.getNorth(),v=i.getSouth(),T=i.getWest(),B=i.getEast(),K=1<<r.z,ie=B-T,ue=p-v,be=ie/Qu,Me=-ue/ep[o],Ie=[0,be,0,Me,0,0,p,T,0];if(r.z>0){const Be=180/d;Uu(Ie,Ie,[Be/ie+1,0,0,0,Be/ue+1,0,-.5*Be/be,.5*Be/Me,1])}return Ie[2]=K,Ie[5]=r.x,Ie[8]=r.y,Ie},n.getImage=br,n.getJSON=function(r,i){return Ii(Z(r,{type:"json"}),i)},n.getLatitudinalLod=function(r){const i=80.051129;r=g(r,-80.051129,i)/i*90;const o=Math.pow(Math.abs(Math.sin(N(r))),3);return Math.round(o*(ep.length-1))},n.getMapSessionAPI=Lt,n.getPerformanceMeasurement=_n,n.getProjection=Oy,n.getRTLTextPluginStatus=jt,n.getReferrer=ji,n.getTilePoint=function(r,{x:i,y:o},d=0){return new $(((i-d)*r.scale-r.x)*Tn,(o*r.scale-r.y)*Tn)},n.getTileVec3=function(r,i,o=0){return Zh(((i.x-o)*r.scale-r.x)*Tn,(i.y*r.scale-r.y)*Tn,ng(i.z,i.y))},n.getVideo=function(r,i){const o=x.document.createElement("video");o.muted=!0,o.onloadstart=function(){i(null,o)};for(let d=0;d<r.length;d++){const p=x.document.createElement("source");Ci(r[d])||(o.crossOrigin="Anonymous"),p.src=r[d],o.appendChild(p)}return{cancel:()=>{}}},n.globeCenterToScreenPoint=function(r){const i=[0,0,0],o=ec(new Float64Array(16));return Yh(o,r.pixelMatrix,r.globeMatrix),Wr(i,i,o),new $(i[0],i[1])},n.globeDenormalizeECEF=i1,n.globeECEFOrigin=function(r,i){const o=[0,0,0];return Wr(o,o,bf(pd(i.canonical))),Wr(o,o,r),o},n.globeNormalizeECEF=bf,n.globePixelsToTileUnits=function(r,i){return Tn/(512*Math.pow(2,r))*em(pd(i))},n.globePoleMatrixForTile=function(r,i,o){const d=ec(new Float64Array(16)),p=(i/(1<<r)-.5)*Math.PI*2;return nf(d,o.globeMatrix,p),Float32Array.from(d)},n.globeTileBounds=pd,n.globeTiltAtLngLat=n1,n.globeToMercatorTransition=iu,n.globeUseCustomAntiAliasing=function(r,i,o){const d=iu(o.zoom),p=r.style.map._antialias,v=!!i.extStandardDerivatives,T=i.extStandardDerivativesForceOff||r.terrain&&r.terrain.exaggeration()>0;return d===0&&!p&&!T&&v},n.identity=ec,n.identity$1=xg,n.invert=A0,n.isFullscreen=function(){return!!x.document.fullscreenElement||!!x.document.webkitFullscreenElement},n.isLngLatBehindGlobe=s1,n.isMapAuthenticated=function(r){return Ut.has(r)},n.isMapboxURL=Ps,n.isSafariWithAntialiasingBug=function(r){const i=r.navigator?r.navigator.userAgent:null;return!!rt(r)&&i&&(i.match("Version/15.4")||i.match("Version/15.5")||i.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},n.latFromMercatorY=Wo,n.latLngToECEF=vf,n.len=Kx,n.length=Xh,n.length$1=function(r){return Math.hypot(r[0],r[1],r[2],r[3])},n.lngFromMercatorX=Ba,n.loadVectorTile=JS,n.makeRequest=Ii,n.mapValue=function(r,i,o,d,p){return g((r-i)/(o-i)*(p-d)+d,d,p)},n.mercatorScale=sg,n.mercatorXfromLng=Ec,n.mercatorYfromLat=Ll,n.mercatorZfromAltitude=Ol,n.mul=gg,n.mul$1=Zx,n.multiply=Yh,n.multiply$1=Uu,n.multiply$2=_g,n.nextPowerOfTwo=J,n.normalize=Sa,n.normalize$1=Jx,n.normalize$2=L_,n.number=zn,n.ortho=function(r,i,o,d,p,v,T){var B=1/(i-o),K=1/(d-p),ie=1/(v-T);return r[0]=-2*B,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*K,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*ie,r[11]=0,r[12]=(i+o)*B,r[13]=(p+d)*K,r[14]=(T+v)*ie,r[15]=1,r},n.pbf=mf,n.perspective=function(r,i,o,d,p){var v,T=1/Math.tan(i/2);return r[0]=T/o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=T,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,p!=null&&p!==1/0?(r[10]=(p+d)*(v=1/(d-p)),r[14]=2*p*d*v):(r[10]=-1,r[14]=-2*d),r},n.pick=function(r,i){const o={};for(let d=0;d<i.length;d++){const p=i[d];p in r&&(o[p]=r[p])}return o},n.plugin=Zt,n.pointGeometry=$,n.polesInViewport=function(r){const i=ec(new Float64Array(16));Yh(i,r.pixelMatrix,r.globeMatrix);const o=[0,nc,0],d=[0,sc,0];return Wr(o,o,i),Wr(d,d,i),[o[0]>0&&o[0]<=r.width&&o[1]>0&&o[1]<=r.height&&!s1(r,new _s(r.center.lat,90)),d[0]>0&&d[0]<=r.width&&d[1]>0&&d[1]<=r.height&&!s1(r,new _s(r.center.lat,-90))]},n.polygonContainsPoint=Wh,n.polygonIntersectsBox=ug,n.polygonIntersectsPolygon=C0,n.polygonizeBounds=function(r,i,o=0,d=!0){const p=new $(o,o),v=r.sub(p),T=i.add(p),B=[v,new $(T.x,v.y),T,new $(v.x,T.y)];return d&&B.push(v.clone()),B},n.posAttributes=yf,n.postMapLoadEvent=vt,n.postPerformanceEvent=Nt,n.postTurnstileEvent=We,n.potpack=Gg,n.prevPowerOfTwo=function(r){return r<=1?1:Math.pow(2,Math.floor(Math.log(r)/Math.LN2))},n.radToDeg=j,n.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],n.registerForPluginStateChange=function(r){return r({pluginStatus:ft,pluginURL:ct}),Ct.on("pluginStateChange",r),r},n.removeAuthState=function(r){Ut.delete(r)},n.renderColorRamp=rf,n.resample=og,n.rotateX=fg,n.rotateX$1=O_,n.rotateY=nf,n.rotateY$1=R_,n.rotateZ=function(r,i,o){var d=Math.sin(o),p=Math.cos(o),v=i[0],T=i[1],B=i[2],K=i[3],ie=i[4],ue=i[5],be=i[6],Me=i[7];return i!==r&&(r[8]=i[8],r[9]=i[9],r[10]=i[10],r[11]=i[11],r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15]),r[0]=v*p+ie*d,r[1]=T*p+ue*d,r[2]=B*p+be*d,r[3]=K*p+Me*d,r[4]=ie*p-v*d,r[5]=ue*p-T*d,r[6]=be*p-B*d,r[7]=Me*p-K*d,r},n.rotateZ$1=function(r,i,o){o*=.5;var d=i[0],p=i[1],v=i[2],T=i[3],B=Math.sin(o),K=Math.cos(o);return r[0]=d*K+p*B,r[1]=p*K-d*B,r[2]=v*K+T*B,r[3]=T*K-v*B,r},n.scale=qh,n.scale$1=I_,n.scale$2=Rl,n.scaleAndAdd=Vu,n.set=function(r,i,o,d){return r[0]=i,r[1]=o,r[2]=d,r},n.setCacheLimits=function(r,i){Xe=r,Ke=i},n.setColumn=function(r,i,o){r[4*i+0]=o[0],r[4*i+1]=o[1],r[4*i+2]=o[2],r[4*i+3]=o[3]},n.setRTLTextPlugin=function(r,i,o=!1){if(ft===lt||ft===ht||ft===et)throw new Error("setRTLTextPlugin cannot be called multiple times.");ct=pn.resolveURL(r),ft=lt,nt=i,It(),o||Qt()},n.smoothstep=b,n.spec=di,n.squaredLength=function(r){var i=r[0],o=r[1],d=r[2];return i*i+o*o+d*d},n.storeAuthState=function(r,i){i?Ut.add(r):Ut.delete(r)},n.sub=Pc,n.subtract=Gu,n.symbolSize=Fb,n.tileAABB=function(r,i,o,d,p,v,T,B,K){if(K.name==="globe")return l2(r,i,new U0(o,d,p));const ie=nu({z:o,x:d,y:p},K);return new Ta([(v+ie.x/ie.scale)*i,i*(ie.y/ie.scale),T],[(v+ie.x2/ie.scale)*i,i*(ie.y2/ie.scale),B])},n.tileCornersToBounds=Q0,n.tileTransform=nu,n.transformMat3=function(r,i,o){var d=i[0],p=i[1],v=i[2];return r[0]=d*o[0]+p*o[3]+v*o[6],r[1]=d*o[1]+p*o[4]+v*o[7],r[2]=d*o[2]+p*o[5]+v*o[8],r},n.transformMat4=Wr,n.transformMat4$1=ph,n.transformQuat=D_,n.transitionTileAABBinECEF=My,n.translate=tf,n.transpose=function(r,i){if(r===i){var o=i[1],d=i[2],p=i[5];r[1]=i[3],r[2]=i[6],r[3]=o,r[5]=i[7],r[6]=d,r[7]=p}else r[0]=i[0],r[1]=i[3],r[2]=i[6],r[3]=i[1],r[4]=i[4],r[5]=i[7],r[6]=i[2],r[7]=i[5],r[8]=i[8];return r},n.triggerPluginCompletionEvent=bt,n.uniqueId=ge,n.updateGlobeVertexNormal=function(r,i,o,d,p){const v=5*i+2;r.float32[v+0]=o,r.float32[v+1]=d,r.float32[v+2]=p},n.validateCustomStyleLayer=function(r){const i=[],o=r.id;return o===void 0&&i.push({message:`layers.${o}: missing required property "id"`}),r.render===void 0&&i.push({message:`layers.${o}: missing required method "render"`}),r.renderingMode&&r.renderingMode!=="2d"&&r.renderingMode!=="3d"&&i.push({message:`layers.${o}: property "renderingMode" must be either "2d" or "3d"`}),i},n.validateFilter=r=>Tc(nd(r)),n.validateFog=r=>Tc(Nh(r)),n.validateLayer=r=>Tc(Du(r)),n.validateLight=r=>Tc(it(r)),n.validateSource=r=>Tc(ah(r)),n.validateStyle=Gp,n.validateTerrain=r=>Tc(Sc(r)),n.values=te,n.vectorTile=R0,n.version=z,n.warnOnce=ae,n.window=x,n.wrap=D}),h(["./shared"],function(n){function x(ut){if(typeof ut=="number"||typeof ut=="boolean"||typeof ut=="string"||ut==null)return JSON.stringify(ut);if(Array.isArray(ut)){let We="[";for(const dt of ut)We+=`${x(dt)},`;return`${We}]`}let Fe="{";for(const We of Object.keys(ut).sort())Fe+=`${We}:${x(ut[We])},`;return`${Fe}}`}function z(ut){let Fe="";for(const We of n.refProperties)Fe+=`/${x(ut[We])}`;return Fe}class Y{constructor(Fe){this.keyCache={},Fe&&this.replace(Fe)}replace(Fe){this._layerConfigs={},this._layers={},this.update(Fe,[])}update(Fe,We){for(const vt of Fe)this._layerConfigs[vt.id]=vt,(this._layers[vt.id]=n.createStyleLayer(vt)).compileFilter(),this.keyCache[vt.id]&&delete this.keyCache[vt.id];for(const vt of We)delete this.keyCache[vt],delete this._layerConfigs[vt],delete this._layers[vt];this.familiesBySource={};const dt=function(vt,_t){const Nt={};for(let Lt=0;Lt<vt.length;Lt++){const Ut=_t&&_t[vt[Lt].id]||z(vt[Lt]);_t&&(_t[vt[Lt].id]=Ut);let mi=Nt[Ut];mi||(mi=Nt[Ut]=[]),mi.push(vt[Lt])}const Mt=[];for(const Lt in Nt)Mt.push(Nt[Lt]);return Mt}(n.values(this._layerConfigs),this.keyCache);for(const vt of dt){const _t=vt.map(Gi=>this._layers[Gi.id]),Nt=_t[0];if(Nt.visibility==="none")continue;const Mt=Nt.source||"";let Lt=this.familiesBySource[Mt];Lt||(Lt=this.familiesBySource[Mt]={});const Ut=Nt.sourceLayer||"_geojsonTileLayer";let mi=Lt[Ut];mi||(mi=Lt[Ut]=[]),mi.push(_t)}}}class O{loadTile(Fe,We){const{uid:dt,encoding:vt,rawImageData:_t,padding:Nt,buildQuadTree:Mt}=Fe,Lt=n.window.ImageBitmap&&_t instanceof n.window.ImageBitmap?this.getImageData(_t,Nt):_t;We(null,new n.DEMData(dt,Lt,vt,Nt<1,Mt))}getImageData(Fe,We){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Fe.width,Fe.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=Fe.width,this.offscreenCanvas.height=Fe.height,this.offscreenCanvasContext.drawImage(Fe,0,0,Fe.width,Fe.height);const dt=this.offscreenCanvasContext.getImageData(-We,-We,Fe.width+2*We,Fe.height+2*We);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),dt}}var V=function ut(Fe,We){var dt,vt=Fe&&Fe.type;if(vt==="FeatureCollection")for(dt=0;dt<Fe.features.length;dt++)ut(Fe.features[dt],We);else if(vt==="GeometryCollection")for(dt=0;dt<Fe.geometries.length;dt++)ut(Fe.geometries[dt],We);else if(vt==="Feature")ut(Fe.geometry,We);else if(vt==="Polygon")q(Fe.coordinates,We);else if(vt==="MultiPolygon")for(dt=0;dt<Fe.coordinates.length;dt++)q(Fe.coordinates[dt],We);return Fe};function q(ut,Fe){if(ut.length!==0){L(ut[0],Fe);for(var We=1;We<ut.length;We++)L(ut[We],!Fe)}}function L(ut,Fe){for(var We=0,dt=0,vt=0,_t=ut.length,Nt=_t-1;vt<_t;Nt=vt++){var Mt=(ut[vt][0]-ut[Nt][0])*(ut[Nt][1]+ut[vt][1]),Lt=We+Mt;dt+=Math.abs(We)>=Math.abs(Mt)?We-Lt+Mt:Mt-Lt+We,We=Lt}We+dt>=0!=!!Fe&&ut.reverse()}const I=n.VectorTileFeature.prototype.toGeoJSON;class H{constructor(Fe){this._feature=Fe,this.extent=n.EXTENT,this.type=Fe.type,this.properties=Fe.tags,"id"in Fe&&!isNaN(Fe.id)&&(this.id=parseInt(Fe.id,10))}loadGeometry(){if(this._feature.type===1){const Fe=[];for(const We of this._feature.geometry)Fe.push([new n.pointGeometry(We[0],We[1])]);return Fe}{const Fe=[];for(const We of this._feature.geometry){const dt=[];for(const vt of We)dt.push(new n.pointGeometry(vt[0],vt[1]));Fe.push(dt)}return Fe}}toGeoJSON(Fe,We,dt){return I.call(this,Fe,We,dt)}}class M{constructor(Fe){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=n.EXTENT,this.length=Fe.length,this._features=Fe}feature(Fe){return new H(this._features[Fe])}}var C={exports:{}},A=n.pointGeometry,U=n.vectorTile.VectorTileFeature,$=E;function E(ut,Fe){this.options=Fe||{},this.features=ut,this.length=ut.length}function ee(ut,Fe){this.id=typeof ut.id=="number"?ut.id:void 0,this.type=ut.type,this.rawGeometry=ut.type===1?[ut.geometry]:ut.geometry,this.properties=ut.tags,this.extent=Fe||4096}E.prototype.feature=function(ut){return new ee(this.features[ut],this.options.extent)},ee.prototype.loadGeometry=function(){var ut=this.rawGeometry;this.geometry=[];for(var Fe=0;Fe<ut.length;Fe++){for(var We=ut[Fe],dt=[],vt=0;vt<We.length;vt++)dt.push(new A(We[vt][0],We[vt][1]));this.geometry.push(dt)}return this.geometry},ee.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ut=this.geometry,Fe=1/0,We=-1/0,dt=1/0,vt=-1/0,_t=0;_t<ut.length;_t++)for(var Nt=ut[_t],Mt=0;Mt<Nt.length;Mt++){var Lt=Nt[Mt];Fe=Math.min(Fe,Lt.x),We=Math.max(We,Lt.x),dt=Math.min(dt,Lt.y),vt=Math.max(vt,Lt.y)}return[Fe,dt,We,vt]},ee.prototype.toGeoJSON=U.prototype.toGeoJSON;var Q=n.pbf,N=$;function j(ut){var Fe=new Q;return function(We,dt){for(var vt in We.layers)dt.writeMessage(3,W,We.layers[vt])}(ut,Fe),Fe.finish()}function W(ut,Fe){var We;Fe.writeVarintField(15,ut.version||1),Fe.writeStringField(1,ut.name||""),Fe.writeVarintField(5,ut.extent||4096);var dt={keys:[],values:[],keycache:{},valuecache:{}};for(We=0;We<ut.length;We++)dt.feature=ut.feature(We),Fe.writeMessage(2,S,dt);var vt=dt.keys;for(We=0;We<vt.length;We++)Fe.writeStringField(3,vt[We]);var _t=dt.values;for(We=0;We<_t.length;We++)Fe.writeMessage(4,D,_t[We])}function S(ut,Fe){var We=ut.feature;We.id!==void 0&&Fe.writeVarintField(1,We.id),Fe.writeMessage(2,P,ut),Fe.writeVarintField(3,We.type),Fe.writeMessage(4,b,We)}function P(ut,Fe){var We=ut.feature,dt=ut.keys,vt=ut.values,_t=ut.keycache,Nt=ut.valuecache;for(var Mt in We.properties){var Lt=We.properties[Mt],Ut=_t[Mt];if(Lt!==null){Ut===void 0&&(dt.push(Mt),_t[Mt]=Ut=dt.length-1),Fe.writeVarint(Ut);var mi=typeof Lt;mi!=="string"&&mi!=="boolean"&&mi!=="number"&&(Lt=JSON.stringify(Lt));var Gi=mi+":"+Lt,Mi=Nt[Gi];Mi===void 0&&(vt.push(Lt),Nt[Gi]=Mi=vt.length-1),Fe.writeVarint(Mi)}}}function f(ut,Fe){return(Fe<<3)+(7&ut)}function g(ut){return ut<<1^ut>>31}function b(ut,Fe){for(var We=ut.loadGeometry(),dt=ut.type,vt=0,_t=0,Nt=We.length,Mt=0;Mt<Nt;Mt++){var Lt=We[Mt],Ut=1;dt===1&&(Ut=Lt.length),Fe.writeVarint(f(1,Ut));for(var mi=dt===3?Lt.length-1:Lt.length,Gi=0;Gi<mi;Gi++){Gi===1&&dt!==1&&Fe.writeVarint(f(2,mi-1));var Mi=Lt[Gi].x-vt,yn=Lt[Gi].y-_t;Fe.writeVarint(g(Mi)),Fe.writeVarint(g(yn)),vt+=Mi,_t+=yn}dt===3&&Fe.writeVarint(f(7,1))}}function D(ut,Fe){var We=typeof ut;We==="string"?Fe.writeStringField(1,ut):We==="boolean"?Fe.writeBooleanField(7,ut):We==="number"&&(ut%1!=0?Fe.writeDoubleField(3,ut):ut<0?Fe.writeSVarintField(6,ut):Fe.writeVarintField(5,ut))}function X(ut,Fe,We,dt,vt,_t){if(vt-dt<=We)return;const Nt=dt+vt>>1;te(ut,Fe,Nt,dt,vt,_t%2),X(ut,Fe,We,dt,Nt-1,_t+1),X(ut,Fe,We,Nt+1,vt,_t+1)}function te(ut,Fe,We,dt,vt,_t){for(;vt>dt;){if(vt-dt>600){const Ut=vt-dt+1,mi=We-dt+1,Gi=Math.log(Ut),Mi=.5*Math.exp(2*Gi/3),yn=.5*Math.sqrt(Gi*Mi*(Ut-Mi)/Ut)*(mi-Ut/2<0?-1:1);te(ut,Fe,We,Math.max(dt,Math.floor(We-mi*Mi/Ut+yn)),Math.min(vt,Math.floor(We+(Ut-mi)*Mi/Ut+yn)),_t)}const Nt=Fe[2*We+_t];let Mt=dt,Lt=vt;for(Z(ut,Fe,dt,We),Fe[2*vt+_t]>Nt&&Z(ut,Fe,dt,vt);Mt<Lt;){for(Z(ut,Fe,Mt,Lt),Mt++,Lt--;Fe[2*Mt+_t]<Nt;)Mt++;for(;Fe[2*Lt+_t]>Nt;)Lt--}Fe[2*dt+_t]===Nt?Z(ut,Fe,dt,Lt):(Lt++,Z(ut,Fe,Lt,vt)),Lt<=We&&(dt=Lt+1),We<=Lt&&(vt=Lt-1)}}function Z(ut,Fe,We,dt){de(ut,We,dt),de(Fe,2*We,2*dt),de(Fe,2*We+1,2*dt+1)}function de(ut,Fe,We){const dt=ut[Fe];ut[Fe]=ut[We],ut[We]=dt}function ge(ut,Fe,We,dt){const vt=ut-We,_t=Fe-dt;return vt*vt+_t*_t}C.exports=j,C.exports.fromVectorTileJs=j,C.exports.fromGeojsonVt=function(ut,Fe){Fe=Fe||{};var We={};for(var dt in ut)We[dt]=new N(ut[dt].features,Fe),We[dt].name=dt,We[dt].version=Fe.version,We[dt].extent=Fe.extent;return j({layers:We})},C.exports.GeoJSONWrapper=N;const Ce=ut=>ut[0],J=ut=>ut[1];class oe{constructor(Fe,We=Ce,dt=J,vt=64,_t=Float64Array){this.nodeSize=vt,this.points=Fe;const Nt=Fe.length<65536?Uint16Array:Uint32Array,Mt=this.ids=new Nt(Fe.length),Lt=this.coords=new _t(2*Fe.length);for(let Ut=0;Ut<Fe.length;Ut++)Mt[Ut]=Ut,Lt[2*Ut]=We(Fe[Ut]),Lt[2*Ut+1]=dt(Fe[Ut]);X(Mt,Lt,vt,0,Mt.length-1,0)}range(Fe,We,dt,vt){return function(_t,Nt,Mt,Lt,Ut,mi,Gi){const Mi=[0,_t.length-1,0],yn=[];let _n,an;for(;Mi.length;){const $i=Mi.pop(),Qn=Mi.pop(),gs=Mi.pop();if(Qn-gs<=Gi){for(let xs=gs;xs<=Qn;xs++)_n=Nt[2*xs],an=Nt[2*xs+1],_n>=Mt&&_n<=Ut&&an>=Lt&&an<=mi&&yn.push(_t[xs]);continue}const pn=Math.floor((gs+Qn)/2);_n=Nt[2*pn],an=Nt[2*pn+1],_n>=Mt&&_n<=Ut&&an>=Lt&&an<=mi&&yn.push(_t[pn]);const Rs=($i+1)%2;($i===0?Mt<=_n:Lt<=an)&&(Mi.push(gs),Mi.push(pn-1),Mi.push(Rs)),($i===0?Ut>=_n:mi>=an)&&(Mi.push(pn+1),Mi.push(Qn),Mi.push(Rs))}return yn}(this.ids,this.coords,Fe,We,dt,vt,this.nodeSize)}within(Fe,We,dt){return function(vt,_t,Nt,Mt,Lt,Ut){const mi=[0,vt.length-1,0],Gi=[],Mi=Lt*Lt;for(;mi.length;){const yn=mi.pop(),_n=mi.pop(),an=mi.pop();if(_n-an<=Ut){for(let Rs=an;Rs<=_n;Rs++)ge(_t[2*Rs],_t[2*Rs+1],Nt,Mt)<=Mi&&Gi.push(vt[Rs]);continue}const $i=Math.floor((an+_n)/2),Qn=_t[2*$i],gs=_t[2*$i+1];ge(Qn,gs,Nt,Mt)<=Mi&&Gi.push(vt[$i]);const pn=(yn+1)%2;(yn===0?Nt-Lt<=Qn:Mt-Lt<=gs)&&(mi.push(an),mi.push($i-1),mi.push(pn)),(yn===0?Nt+Lt>=Qn:Mt+Lt>=gs)&&(mi.push($i+1),mi.push(_n),mi.push(pn))}return Gi}(this.ids,this.coords,Fe,We,dt,this.nodeSize)}}const ce={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ut=>ut},pe=Math.fround||(Ee=new Float32Array(1),ut=>(Ee[0]=+ut,Ee[0]));var Ee;class ne{constructor(Fe){this.options=$e(Object.create(ce),Fe),this.trees=new Array(this.options.maxZoom+1)}load(Fe){const{log:We,minZoom:dt,maxZoom:vt,nodeSize:_t}=this.options;We&&console.time("total time");const Nt=`prepare ${Fe.length} points`;We&&console.time(Nt),this.points=Fe;let Mt=[];for(let Lt=0;Lt<Fe.length;Lt++)Fe[Lt].geometry&&Mt.push(_e(Fe[Lt],Lt));this.trees[vt+1]=new oe(Mt,rt,Qe,_t,Float32Array),We&&console.timeEnd(Nt);for(let Lt=vt;Lt>=dt;Lt--){const Ut=+Date.now();Mt=this._cluster(Mt,Lt),this.trees[Lt]=new oe(Mt,rt,Qe,_t,Float32Array),We&&console.log("z%d: %d clusters in %dms",Lt,Mt.length,+Date.now()-Ut)}return We&&console.timeEnd("total time"),this}getClusters(Fe,We){let dt=((Fe[0]+180)%360+360)%360-180;const vt=Math.max(-90,Math.min(90,Fe[1]));let _t=Fe[2]===180?180:((Fe[2]+180)%360+360)%360-180;const Nt=Math.max(-90,Math.min(90,Fe[3]));if(Fe[2]-Fe[0]>=360)dt=-180,_t=180;else if(dt>_t){const mi=this.getClusters([dt,vt,180,Nt],We),Gi=this.getClusters([-180,vt,_t,Nt],We);return mi.concat(Gi)}const Mt=this.trees[this._limitZoom(We)],Lt=Mt.range(we(dt),Re(Nt),we(_t),Re(vt)),Ut=[];for(const mi of Lt){const Gi=Mt.points[mi];Ut.push(Gi.numPoints?ae(Gi):this.points[Gi.index])}return Ut}getChildren(Fe){const We=this._getOriginId(Fe),dt=this._getOriginZoom(Fe),vt="No cluster with the specified id.",_t=this.trees[dt];if(!_t)throw new Error(vt);const Nt=_t.points[We];if(!Nt)throw new Error(vt);const Mt=this.options.radius/(this.options.extent*Math.pow(2,dt-1)),Lt=_t.within(Nt.x,Nt.y,Mt),Ut=[];for(const mi of Lt){const Gi=_t.points[mi];Gi.parentId===Fe&&Ut.push(Gi.numPoints?ae(Gi):this.points[Gi.index])}if(Ut.length===0)throw new Error(vt);return Ut}getLeaves(Fe,We,dt){const vt=[];return this._appendLeaves(vt,Fe,We=We||10,dt=dt||0,0),vt}getTile(Fe,We,dt){const vt=this.trees[this._limitZoom(Fe)],_t=Math.pow(2,Fe),{extent:Nt,radius:Mt}=this.options,Lt=Mt/Nt,Ut=(dt-Lt)/_t,mi=(dt+1+Lt)/_t,Gi={features:[]};return this._addTileFeatures(vt.range((We-Lt)/_t,Ut,(We+1+Lt)/_t,mi),vt.points,We,dt,_t,Gi),We===0&&this._addTileFeatures(vt.range(1-Lt/_t,Ut,1,mi),vt.points,_t,dt,_t,Gi),We===_t-1&&this._addTileFeatures(vt.range(0,Ut,Lt/_t,mi),vt.points,-1,dt,_t,Gi),Gi.features.length?Gi:null}getClusterExpansionZoom(Fe){let We=this._getOriginZoom(Fe)-1;for(;We<=this.options.maxZoom;){const dt=this.getChildren(Fe);if(We++,dt.length!==1)break;Fe=dt[0].properties.cluster_id}return We}_appendLeaves(Fe,We,dt,vt,_t){const Nt=this.getChildren(We);for(const Mt of Nt){const Lt=Mt.properties;if(Lt&&Lt.cluster?_t+Lt.point_count<=vt?_t+=Lt.point_count:_t=this._appendLeaves(Fe,Lt.cluster_id,dt,vt,_t):_t<vt?_t++:Fe.push(Mt),Fe.length===dt)break}return _t}_addTileFeatures(Fe,We,dt,vt,_t,Nt){for(const Mt of Fe){const Lt=We[Mt],Ut=Lt.numPoints;let mi,Gi,Mi;if(Ut)mi=me(Lt),Gi=Lt.x,Mi=Lt.y;else{const an=this.points[Lt.index];mi=an.properties,Gi=we(an.geometry.coordinates[0]),Mi=Re(an.geometry.coordinates[1])}const yn={type:1,geometry:[[Math.round(this.options.extent*(Gi*_t-dt)),Math.round(this.options.extent*(Mi*_t-vt))]],tags:mi};let _n;Ut?_n=Lt.id:this.options.generateId?_n=Lt.index:this.points[Lt.index].id&&(_n=this.points[Lt.index].id),_n!==void 0&&(yn.id=_n),Nt.features.push(yn)}}_limitZoom(Fe){return Math.max(this.options.minZoom,Math.min(Math.floor(+Fe),this.options.maxZoom+1))}_cluster(Fe,We){const dt=[],{radius:vt,extent:_t,reduce:Nt,minPoints:Mt}=this.options,Lt=vt/(_t*Math.pow(2,We));for(let Ut=0;Ut<Fe.length;Ut++){const mi=Fe[Ut];if(mi.zoom<=We)continue;mi.zoom=We;const Gi=this.trees[We+1],Mi=Gi.within(mi.x,mi.y,Lt),yn=mi.numPoints||1;let _n=yn;for(const an of Mi){const $i=Gi.points[an];$i.zoom>We&&(_n+=$i.numPoints||1)}if(_n>yn&&_n>=Mt){let an=mi.x*yn,$i=mi.y*yn,Qn=Nt&&yn>1?this._map(mi,!0):null;const gs=(Ut<<5)+(We+1)+this.points.length;for(const pn of Mi){const Rs=Gi.points[pn];if(Rs.zoom<=We)continue;Rs.zoom=We;const xs=Rs.numPoints||1;an+=Rs.x*xs,$i+=Rs.y*xs,Rs.parentId=gs,Nt&&(Qn||(Qn=this._map(mi,!0)),Nt(Qn,this._map(Rs)))}mi.parentId=gs,dt.push(ye(an/_n,$i/_n,gs,_n,Qn))}else if(dt.push(mi),_n>1)for(const an of Mi){const $i=Gi.points[an];$i.zoom<=We||($i.zoom=We,dt.push($i))}}return dt}_getOriginId(Fe){return Fe-this.points.length>>5}_getOriginZoom(Fe){return(Fe-this.points.length)%32}_map(Fe,We){if(Fe.numPoints)return We?$e({},Fe.properties):Fe.properties;const dt=this.points[Fe.index].properties,vt=this.options.map(dt);return We&&vt===dt?$e({},vt):vt}}function ye(ut,Fe,We,dt,vt){return{x:pe(ut),y:pe(Fe),zoom:1/0,id:We,parentId:-1,numPoints:dt,properties:vt}}function _e(ut,Fe){const[We,dt]=ut.geometry.coordinates;return{x:pe(we(We)),y:pe(Re(dt)),zoom:1/0,index:Fe,parentId:-1}}function ae(ut){return{type:"Feature",id:ut.id,properties:me(ut),geometry:{type:"Point",coordinates:[(Fe=ut.x,360*(Fe-.5)),Le(ut.y)]}};var Fe}function me(ut){const Fe=ut.numPoints,We=Fe>=1e4?`${Math.round(Fe/1e3)}k`:Fe>=1e3?Math.round(Fe/100)/10+"k":Fe;return $e($e({},ut.properties),{cluster:!0,cluster_id:ut.id,point_count:Fe,point_count_abbreviated:We})}function we(ut){return ut/360+.5}function Re(ut){const Fe=Math.sin(ut*Math.PI/180),We=.5-.25*Math.log((1+Fe)/(1-Fe))/Math.PI;return We<0?0:We>1?1:We}function Le(ut){const Fe=(180-360*ut)*Math.PI/180;return 360*Math.atan(Math.exp(Fe))/Math.PI-90}function $e(ut,Fe){for(const We in Fe)ut[We]=Fe[We];return ut}function rt(ut){return ut.x}function Qe(ut){return ut.y}function qe(ut,Fe,We,dt){for(var vt,_t=dt,Nt=We-Fe>>1,Mt=We-Fe,Lt=ut[Fe],Ut=ut[Fe+1],mi=ut[We],Gi=ut[We+1],Mi=Fe+3;Mi<We;Mi+=3){var yn=Te(ut[Mi],ut[Mi+1],Lt,Ut,mi,Gi);if(yn>_t)vt=Mi,_t=yn;else if(yn===_t){var _n=Math.abs(Mi-Nt);_n<Mt&&(vt=Mi,Mt=_n)}}_t>dt&&(vt-Fe>3&&qe(ut,Fe,vt,dt),ut[vt+2]=_t,We-vt>3&&qe(ut,vt,We,dt))}function Te(ut,Fe,We,dt,vt,_t){var Nt=vt-We,Mt=_t-dt;if(Nt!==0||Mt!==0){var Lt=((ut-We)*Nt+(Fe-dt)*Mt)/(Nt*Nt+Mt*Mt);Lt>1?(We=vt,dt=_t):Lt>0&&(We+=Nt*Lt,dt+=Mt*Lt)}return(Nt=ut-We)*Nt+(Mt=Fe-dt)*Mt}function Oe(ut,Fe,We,dt){var vt={id:ut===void 0?null:ut,type:Fe,geometry:We,tags:dt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(_t){var Nt=_t.geometry,Mt=_t.type;if(Mt==="Point"||Mt==="MultiPoint"||Mt==="LineString")ze(_t,Nt);else if(Mt==="Polygon"||Mt==="MultiLineString")for(var Lt=0;Lt<Nt.length;Lt++)ze(_t,Nt[Lt]);else if(Mt==="MultiPolygon")for(Lt=0;Lt<Nt.length;Lt++)for(var Ut=0;Ut<Nt[Lt].length;Ut++)ze(_t,Nt[Lt][Ut])}(vt),vt}function ze(ut,Fe){for(var We=0;We<Fe.length;We+=3)ut.minX=Math.min(ut.minX,Fe[We]),ut.minY=Math.min(ut.minY,Fe[We+1]),ut.maxX=Math.max(ut.maxX,Fe[We]),ut.maxY=Math.max(ut.maxY,Fe[We+1])}function Xe(ut,Fe,We,dt){if(Fe.geometry){var vt=Fe.geometry.coordinates,_t=Fe.geometry.type,Nt=Math.pow(We.tolerance/((1<<We.maxZoom)*We.extent),2),Mt=[],Lt=Fe.id;if(We.promoteId?Lt=Fe.properties[We.promoteId]:We.generateId&&(Lt=dt||0),_t==="Point")Ke(vt,Mt);else if(_t==="MultiPoint")for(var Ut=0;Ut<vt.length;Ut++)Ke(vt[Ut],Mt);else if(_t==="LineString")pt(vt,Mt,Nt,!1);else if(_t==="MultiLineString"){if(We.lineMetrics){for(Ut=0;Ut<vt.length;Ut++)pt(vt[Ut],Mt=[],Nt,!1),ut.push(Oe(Lt,"LineString",Mt,Fe.properties));return}Tt(vt,Mt,Nt,!1)}else if(_t==="Polygon")Tt(vt,Mt,Nt,!0);else{if(_t!=="MultiPolygon"){if(_t==="GeometryCollection"){for(Ut=0;Ut<Fe.geometry.geometries.length;Ut++)Xe(ut,{id:Lt,geometry:Fe.geometry.geometries[Ut],properties:Fe.properties},We,dt);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Ut=0;Ut<vt.length;Ut++){var mi=[];Tt(vt[Ut],mi,Nt,!0),Mt.push(mi)}}ut.push(Oe(Lt,_t,Mt,Fe.properties))}}function Ke(ut,Fe){Fe.push(Bt(ut[0])),Fe.push(ci(ut[1])),Fe.push(0)}function pt(ut,Fe,We,dt){for(var vt,_t,Nt=0,Mt=0;Mt<ut.length;Mt++){var Lt=Bt(ut[Mt][0]),Ut=ci(ut[Mt][1]);Fe.push(Lt),Fe.push(Ut),Fe.push(0),Mt>0&&(Nt+=dt?(vt*Ut-Lt*_t)/2:Math.sqrt(Math.pow(Lt-vt,2)+Math.pow(Ut-_t,2))),vt=Lt,_t=Ut}var mi=Fe.length-3;Fe[2]=1,qe(Fe,0,mi,We),Fe[mi+2]=1,Fe.size=Math.abs(Nt),Fe.start=0,Fe.end=Fe.size}function Tt(ut,Fe,We,dt){for(var vt=0;vt<ut.length;vt++){var _t=[];pt(ut[vt],_t,We,dt),Fe.push(_t)}}function Bt(ut){return ut/360+.5}function ci(ut){var Fe=Math.sin(ut*Math.PI/180),We=.5-.25*Math.log((1+Fe)/(1-Fe))/Math.PI;return We<0?0:We>1?1:We}function Wt(ut,Fe,We,dt,vt,_t,Nt,Mt){if(dt/=Fe,_t>=(We/=Fe)&&Nt<dt)return ut;if(Nt<We||_t>=dt)return null;for(var Lt=[],Ut=0;Ut<ut.length;Ut++){var mi=ut[Ut],Gi=mi.geometry,Mi=mi.type,yn=vt===0?mi.minX:mi.minY,_n=vt===0?mi.maxX:mi.maxY;if(yn>=We&&_n<dt)Lt.push(mi);else if(!(_n<We||yn>=dt)){var an=[];if(Mi==="Point"||Mi==="MultiPoint")ui(Gi,an,We,dt,vt);else if(Mi==="LineString")ji(Gi,an,We,dt,vt,!1,Mt.lineMetrics);else if(Mi==="MultiLineString")wi(Gi,an,We,dt,vt,!1);else if(Mi==="Polygon")wi(Gi,an,We,dt,vt,!0);else if(Mi==="MultiPolygon")for(var $i=0;$i<Gi.length;$i++){var Qn=[];wi(Gi[$i],Qn,We,dt,vt,!0),Qn.length&&an.push(Qn)}if(an.length){if(Mt.lineMetrics&&Mi==="LineString"){for($i=0;$i<an.length;$i++)Lt.push(Oe(mi.id,Mi,an[$i],mi.tags));continue}Mi!=="LineString"&&Mi!=="MultiLineString"||(an.length===1?(Mi="LineString",an=an[0]):Mi="MultiLineString"),Mi!=="Point"&&Mi!=="MultiPoint"||(Mi=an.length===3?"Point":"MultiPoint"),Lt.push(Oe(mi.id,Mi,an,mi.tags))}}}return Lt.length?Lt:null}function ui(ut,Fe,We,dt,vt){for(var _t=0;_t<ut.length;_t+=3){var Nt=ut[_t+vt];Nt>=We&&Nt<=dt&&(Fe.push(ut[_t]),Fe.push(ut[_t+1]),Fe.push(ut[_t+2]))}}function ji(ut,Fe,We,dt,vt,_t,Nt){for(var Mt,Lt,Ut=Ii(ut),mi=vt===0?sn:vn,Gi=ut.start,Mi=0;Mi<ut.length-3;Mi+=3){var yn=ut[Mi],_n=ut[Mi+1],an=ut[Mi+2],$i=ut[Mi+3],Qn=ut[Mi+4],gs=vt===0?yn:_n,pn=vt===0?$i:Qn,Rs=!1;Nt&&(Mt=Math.sqrt(Math.pow(yn-$i,2)+Math.pow(_n-Qn,2))),gs<We?pn>We&&(Lt=mi(Ut,yn,_n,$i,Qn,We),Nt&&(Ut.start=Gi+Mt*Lt)):gs>dt?pn<dt&&(Lt=mi(Ut,yn,_n,$i,Qn,dt),Nt&&(Ut.start=Gi+Mt*Lt)):Ci(Ut,yn,_n,an),pn<We&&gs>=We&&(Lt=mi(Ut,yn,_n,$i,Qn,We),Rs=!0),pn>dt&&gs<=dt&&(Lt=mi(Ut,yn,_n,$i,Qn,dt),Rs=!0),!_t&&Rs&&(Nt&&(Ut.end=Gi+Mt*Lt),Fe.push(Ut),Ut=Ii(ut)),Nt&&(Gi+=Mt)}var xs=ut.length-3;yn=ut[xs],_n=ut[xs+1],an=ut[xs+2],(gs=vt===0?yn:_n)>=We&&gs<=dt&&Ci(Ut,yn,_n,an),xs=Ut.length-3,_t&&xs>=3&&(Ut[xs]!==Ut[0]||Ut[xs+1]!==Ut[1])&&Ci(Ut,Ut[0],Ut[1],Ut[2]),Ut.length&&Fe.push(Ut)}function Ii(ut){var Fe=[];return Fe.size=ut.size,Fe.start=ut.start,Fe.end=ut.end,Fe}function wi(ut,Fe,We,dt,vt,_t){for(var Nt=0;Nt<ut.length;Nt++)ji(ut[Nt],Fe,We,dt,vt,_t,!1)}function Ci(ut,Fe,We,dt){ut.push(Fe),ut.push(We),ut.push(dt)}function sn(ut,Fe,We,dt,vt,_t){var Nt=(_t-Fe)/(dt-Fe);return ut.push(_t),ut.push(We+(vt-We)*Nt),ut.push(1),Nt}function vn(ut,Fe,We,dt,vt,_t){var Nt=(_t-We)/(vt-We);return ut.push(Fe+(dt-Fe)*Nt),ut.push(_t),ut.push(1),Nt}function Gn(ut,Fe){for(var We=[],dt=0;dt<ut.length;dt++){var vt,_t=ut[dt],Nt=_t.type;if(Nt==="Point"||Nt==="MultiPoint"||Nt==="LineString")vt=br(_t.geometry,Fe);else if(Nt==="MultiLineString"||Nt==="Polygon"){vt=[];for(var Mt=0;Mt<_t.geometry.length;Mt++)vt.push(br(_t.geometry[Mt],Fe))}else if(Nt==="MultiPolygon")for(vt=[],Mt=0;Mt<_t.geometry.length;Mt++){for(var Lt=[],Ut=0;Ut<_t.geometry[Mt].length;Ut++)Lt.push(br(_t.geometry[Mt][Ut],Fe));vt.push(Lt)}We.push(Oe(_t.id,Nt,vt,_t.tags))}return We}function br(ut,Fe){var We=[];We.size=ut.size,ut.start!==void 0&&(We.start=ut.start,We.end=ut.end);for(var dt=0;dt<ut.length;dt+=3)We.push(ut[dt]+Fe,ut[dt+1],ut[dt+2]);return We}function us(ut,Fe){if(ut.transformed)return ut;var We,dt,vt,_t=1<<ut.z,Nt=ut.x,Mt=ut.y;for(We=0;We<ut.features.length;We++){var Lt=ut.features[We],Ut=Lt.geometry,mi=Lt.type;if(Lt.geometry=[],mi===1)for(dt=0;dt<Ut.length;dt+=2)Lt.geometry.push(Ps(Ut[dt],Ut[dt+1],Fe,_t,Nt,Mt));else for(dt=0;dt<Ut.length;dt++){var Gi=[];for(vt=0;vt<Ut[dt].length;vt+=2)Gi.push(Ps(Ut[dt][vt],Ut[dt][vt+1],Fe,_t,Nt,Mt));Lt.geometry.push(Gi)}}return ut.transformed=!0,ut}function Ps(ut,Fe,We,dt,vt,_t){return[Math.round(We*(ut*dt-vt)),Math.round(We*(Fe*dt-_t))]}function nn(ut,Fe,We,dt,vt){for(var _t=Fe===vt.maxZoom?0:vt.tolerance/((1<<Fe)*vt.extent),Nt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:We,y:dt,z:Fe,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Mt=0;Mt<ut.length;Mt++){Nt.numFeatures++,qr(Nt,ut[Mt],_t,vt);var Lt=ut[Mt].minX,Ut=ut[Mt].minY,mi=ut[Mt].maxX,Gi=ut[Mt].maxY;Lt<Nt.minX&&(Nt.minX=Lt),Ut<Nt.minY&&(Nt.minY=Ut),mi>Nt.maxX&&(Nt.maxX=mi),Gi>Nt.maxY&&(Nt.maxY=Gi)}return Nt}function qr(ut,Fe,We,dt){var vt=Fe.geometry,_t=Fe.type,Nt=[];if(_t==="Point"||_t==="MultiPoint")for(var Mt=0;Mt<vt.length;Mt+=3)Nt.push(vt[Mt]),Nt.push(vt[Mt+1]),ut.numPoints++,ut.numSimplified++;else if(_t==="LineString")zo(Nt,vt,ut,We,!1,!1);else if(_t==="MultiLineString"||_t==="Polygon")for(Mt=0;Mt<vt.length;Mt++)zo(Nt,vt[Mt],ut,We,_t==="Polygon",Mt===0);else if(_t==="MultiPolygon")for(var Lt=0;Lt<vt.length;Lt++){var Ut=vt[Lt];for(Mt=0;Mt<Ut.length;Mt++)zo(Nt,Ut[Mt],ut,We,!0,Mt===0)}if(Nt.length){var mi=Fe.tags||null;if(_t==="LineString"&&dt.lineMetrics){for(var Gi in mi={},Fe.tags)mi[Gi]=Fe.tags[Gi];mi.mapbox_clip_start=vt.start/vt.size,mi.mapbox_clip_end=vt.end/vt.size}var Mi={geometry:Nt,type:_t==="Polygon"||_t==="MultiPolygon"?3:_t==="LineString"||_t==="MultiLineString"?2:1,tags:mi};Fe.id!==null&&(Mi.id=Fe.id),ut.features.push(Mi)}}function zo(ut,Fe,We,dt,vt,_t){var Nt=dt*dt;if(dt>0&&Fe.size<(vt?Nt:dt))We.numPoints+=Fe.length/3;else{for(var Mt=[],Lt=0;Lt<Fe.length;Lt+=3)(dt===0||Fe[Lt+2]>Nt)&&(We.numSimplified++,Mt.push(Fe[Lt]),Mt.push(Fe[Lt+1])),We.numPoints++;vt&&function(Ut,mi){for(var Gi=0,Mi=0,yn=Ut.length,_n=yn-2;Mi<yn;_n=Mi,Mi+=2)Gi+=(Ut[Mi]-Ut[_n])*(Ut[Mi+1]+Ut[_n+1]);if(Gi>0===mi)for(Mi=0,yn=Ut.length;Mi<yn/2;Mi+=2){var an=Ut[Mi],$i=Ut[Mi+1];Ut[Mi]=Ut[yn-2-Mi],Ut[Mi+1]=Ut[yn-1-Mi],Ut[yn-2-Mi]=an,Ut[yn-1-Mi]=$i}}(Mt,_t),ut.push(Mt)}}function fa(ut,Fe){var We=(Fe=this.options=function(vt,_t){for(var Nt in _t)vt[Nt]=_t[Nt];return vt}(Object.create(this.options),Fe)).debug;if(We&&console.time("preprocess data"),Fe.maxZoom<0||Fe.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Fe.promoteId&&Fe.generateId)throw new Error("promoteId and generateId cannot be used together.");var dt=function(vt,_t){var Nt=[];if(vt.type==="FeatureCollection")for(var Mt=0;Mt<vt.features.length;Mt++)Xe(Nt,vt.features[Mt],_t,Mt);else Xe(Nt,vt.type==="Feature"?vt:{geometry:vt},_t);return Nt}(ut,Fe);this.tiles={},this.tileCoords=[],We&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Fe.indexMaxZoom,Fe.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),dt=function(vt,_t){var Nt=_t.buffer/_t.extent,Mt=vt,Lt=Wt(vt,1,-1-Nt,Nt,0,-1,2,_t),Ut=Wt(vt,1,1-Nt,2+Nt,0,-1,2,_t);return(Lt||Ut)&&(Mt=Wt(vt,1,-Nt,1+Nt,0,-1,2,_t)||[],Lt&&(Mt=Gn(Lt,1).concat(Mt)),Ut&&(Mt=Mt.concat(Gn(Ut,-1)))),Mt}(dt,Fe),dt.length&&this.splitTile(dt,0,0,0),We&&(dt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ko(ut,Fe,We){return 32*((1<<ut)*We+Fe)+ut}function lr(ut,Fe){const We=ut.tileID.canonical;if(!this._geoJSONIndex)return Fe(null,null);const dt=this._geoJSONIndex.getTile(We.z,We.x,We.y);if(!dt)return Fe(null,null);const vt=new M(dt.features);let _t=C.exports(vt);_t.byteOffset===0&&_t.byteLength===_t.buffer.byteLength||(_t=new Uint8Array(_t)),Fe(null,{vectorTile:vt,rawData:_t.buffer})}fa.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},fa.prototype.splitTile=function(ut,Fe,We,dt,vt,_t,Nt){for(var Mt=[ut,Fe,We,dt],Lt=this.options,Ut=Lt.debug;Mt.length;){dt=Mt.pop(),We=Mt.pop(),Fe=Mt.pop(),ut=Mt.pop();var mi=1<<Fe,Gi=Ko(Fe,We,dt),Mi=this.tiles[Gi];if(!Mi&&(Ut>1&&console.time("creation"),Mi=this.tiles[Gi]=nn(ut,Fe,We,dt,Lt),this.tileCoords.push({z:Fe,x:We,y:dt}),Ut)){Ut>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Fe,We,dt,Mi.numFeatures,Mi.numPoints,Mi.numSimplified),console.timeEnd("creation"));var yn="z"+Fe;this.stats[yn]=(this.stats[yn]||0)+1,this.total++}if(Mi.source=ut,vt){if(Fe===Lt.maxZoom||Fe===vt)continue;var _n=1<<vt-Fe;if(We!==Math.floor(_t/_n)||dt!==Math.floor(Nt/_n))continue}else if(Fe===Lt.indexMaxZoom||Mi.numPoints<=Lt.indexMaxPoints)continue;if(Mi.source=null,ut.length!==0){Ut>1&&console.time("clipping");var an,$i,Qn,gs,pn,Rs,xs=.5*Lt.buffer/Lt.extent,ma=.5-xs,ga=.5+xs,Xr=1+xs;an=$i=Qn=gs=null,pn=Wt(ut,mi,We-xs,We+ga,0,Mi.minX,Mi.maxX,Lt),Rs=Wt(ut,mi,We+ma,We+Xr,0,Mi.minX,Mi.maxX,Lt),ut=null,pn&&(an=Wt(pn,mi,dt-xs,dt+ga,1,Mi.minY,Mi.maxY,Lt),$i=Wt(pn,mi,dt+ma,dt+Xr,1,Mi.minY,Mi.maxY,Lt),pn=null),Rs&&(Qn=Wt(Rs,mi,dt-xs,dt+ga,1,Mi.minY,Mi.maxY,Lt),gs=Wt(Rs,mi,dt+ma,dt+Xr,1,Mi.minY,Mi.maxY,Lt),Rs=null),Ut>1&&console.timeEnd("clipping"),Mt.push(an||[],Fe+1,2*We,2*dt),Mt.push($i||[],Fe+1,2*We,2*dt+1),Mt.push(Qn||[],Fe+1,2*We+1,2*dt),Mt.push(gs||[],Fe+1,2*We+1,2*dt+1)}}},fa.prototype.getTile=function(ut,Fe,We){var dt=this.options,vt=dt.extent,_t=dt.debug;if(ut<0||ut>24)return null;var Nt=1<<ut,Mt=Ko(ut,Fe=(Fe%Nt+Nt)%Nt,We);if(this.tiles[Mt])return us(this.tiles[Mt],vt);_t>1&&console.log("drilling down to z%d-%d-%d",ut,Fe,We);for(var Lt,Ut=ut,mi=Fe,Gi=We;!Lt&&Ut>0;)Ut--,mi=Math.floor(mi/2),Gi=Math.floor(Gi/2),Lt=this.tiles[Ko(Ut,mi,Gi)];return Lt&&Lt.source?(_t>1&&console.log("found parent tile z%d-%d-%d",Ut,mi,Gi),_t>1&&console.time("drilling down"),this.splitTile(Lt.source,Ut,mi,Gi,ut,Fe,We),_t>1&&console.timeEnd("drilling down"),this.tiles[Mt]?us(this.tiles[Mt],vt):null):null};class No extends n.VectorTileWorkerSource{constructor(Fe,We,dt,vt,_t){super(Fe,We,dt,vt,lr),_t&&(this.loadGeoJSON=_t)}loadData(Fe,We){const dt=Fe&&Fe.request,vt=dt&&dt.collectResourceTiming;this.loadGeoJSON(Fe,(_t,Nt)=>{if(_t||!Nt)return We(_t);if(typeof Nt!="object")return We(new Error(`Input data given to '${Fe.source}' is not a valid GeoJSON object.`));{V(Nt,!0);try{if(Fe.filter){const Lt=n.createExpression(Fe.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Lt.result==="error")throw new Error(Lt.value.map(mi=>`${mi.key}: ${mi.message}`).join(", "));Nt={type:"FeatureCollection",features:Nt.features.filter(mi=>Lt.value.evaluate({zoom:0},mi))}}this._geoJSONIndex=Fe.cluster?new ne(function({superclusterOptions:Lt,clusterProperties:Ut}){if(!Ut||!Lt)return Lt;const mi={},Gi={},Mi={accumulated:null,zoom:0},yn={properties:null},_n=Object.keys(Ut);for(const an of _n){const[$i,Qn]=Ut[an],gs=n.createExpression(Qn),pn=n.createExpression(typeof $i=="string"?[$i,["accumulated"],["get",an]]:$i);mi[an]=gs.value,Gi[an]=pn.value}return Lt.map=an=>{yn.properties=an;const $i={};for(const Qn of _n)$i[Qn]=mi[Qn].evaluate(Mi,yn);return $i},Lt.reduce=(an,$i)=>{yn.properties=$i;for(const Qn of _n)Mi.accumulated=an[Qn],an[Qn]=Gi[Qn].evaluate(Mi,yn)},Lt}(Fe)).load(Nt.features):function(Lt,Ut){return new fa(Lt,Ut)}(Nt,Fe.geojsonVtOptions)}catch(Lt){return We(Lt)}this.loaded={};const Mt={};if(vt){const Lt=n.getPerformanceMeasurement(dt);Lt&&(Mt.resourceTiming={},Mt.resourceTiming[Fe.source]=JSON.parse(JSON.stringify(Lt)))}We(null,Mt)}})}reloadTile(Fe,We){const dt=this.loaded;return dt&&dt[Fe.uid]?super.reloadTile(Fe,We):this.loadTile(Fe,We)}loadGeoJSON(Fe,We){if(Fe.request)n.getJSON(Fe.request,We);else{if(typeof Fe.data!="string")return We(new Error(`Input data given to '${Fe.source}' is not a valid GeoJSON object.`));try{return We(null,JSON.parse(Fe.data))}catch{return We(new Error(`Input data given to '${Fe.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(Fe,We){try{We(null,this._geoJSONIndex.getClusterExpansionZoom(Fe.clusterId))}catch(dt){We(dt)}}getClusterChildren(Fe,We){try{We(null,this._geoJSONIndex.getChildren(Fe.clusterId))}catch(dt){We(dt)}}getClusterLeaves(Fe,We){try{We(null,this._geoJSONIndex.getLeaves(Fe.clusterId,Fe.limit,Fe.offset))}catch(dt){We(dt)}}}class Va{constructor(Fe){this.self=Fe,this.actor=new n.Actor(Fe,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=n.getProjection({name:"mercator"}),this.workerSourceTypes={vector:n.VectorTileWorkerSource,geojson:No},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(We,dt)=>{if(this.workerSourceTypes[We])throw new Error(`Worker source with name "${We}" already registered.`);this.workerSourceTypes[We]=dt},this.self.registerRTLTextPlugin=We=>{if(n.plugin.isParsed())throw new Error("RTL text plugin already registered.");n.plugin.applyArabicShaping=We.applyArabicShaping,n.plugin.processBidirectionalText=We.processBidirectionalText,n.plugin.processStyledBidirectionalText=We.processStyledBidirectionalText}}clearCaches(Fe,We,dt){delete this.layerIndexes[Fe],delete this.availableImages[Fe],delete this.workerSources[Fe],delete this.demWorkerSources[Fe],dt()}checkIfReady(Fe,We,dt){dt()}setReferrer(Fe,We){this.referrer=We}spriteLoaded(Fe,We){this.isSpriteLoaded[Fe]=We;for(const dt in this.workerSources[Fe]){const vt=this.workerSources[Fe][dt];for(const _t in vt)vt[_t]instanceof n.VectorTileWorkerSource&&(vt[_t].isSpriteLoaded=We,vt[_t].fire(new n.Event("isSpriteLoaded")))}}setImages(Fe,We,dt){this.availableImages[Fe]=We;for(const vt in this.workerSources[Fe]){const _t=this.workerSources[Fe][vt];for(const Nt in _t)_t[Nt].availableImages=We}dt()}enableTerrain(Fe,We,dt){this.terrain=We,dt()}setProjection(Fe,We){this.projections[Fe]=n.getProjection(We)}setLayers(Fe,We,dt){this.getLayerIndex(Fe).replace(We),dt()}updateLayers(Fe,We,dt){this.getLayerIndex(Fe).update(We.layers,We.removedIds),dt()}loadTile(Fe,We,dt){const vt=this.enableTerrain?n.extend({enableTerrain:this.terrain},We):We;vt.projection=this.projections[Fe]||this.defaultProjection,this.getWorkerSource(Fe,We.type,We.source).loadTile(vt,dt)}loadDEMTile(Fe,We,dt){const vt=this.enableTerrain?n.extend({buildQuadTree:this.terrain},We):We;this.getDEMWorkerSource(Fe,We.source).loadTile(vt,dt)}reloadTile(Fe,We,dt){const vt=this.enableTerrain?n.extend({enableTerrain:this.terrain},We):We;vt.projection=this.projections[Fe]||this.defaultProjection,this.getWorkerSource(Fe,We.type,We.source).reloadTile(vt,dt)}abortTile(Fe,We,dt){this.getWorkerSource(Fe,We.type,We.source).abortTile(We,dt)}removeTile(Fe,We,dt){this.getWorkerSource(Fe,We.type,We.source).removeTile(We,dt)}removeSource(Fe,We,dt){if(!this.workerSources[Fe]||!this.workerSources[Fe][We.type]||!this.workerSources[Fe][We.type][We.source])return;const vt=this.workerSources[Fe][We.type][We.source];delete this.workerSources[Fe][We.type][We.source],vt.removeSource!==void 0?vt.removeSource(We,dt):dt()}loadWorkerSource(Fe,We,dt){try{this.self.importScripts(We.url),dt()}catch(vt){dt(vt.toString())}}syncRTLPluginState(Fe,We,dt){try{n.plugin.setState(We);const vt=n.plugin.getPluginURL();if(n.plugin.isLoaded()&&!n.plugin.isParsed()&&vt!=null){this.self.importScripts(vt);const _t=n.plugin.isParsed();dt(_t?void 0:new Error(`RTL Text Plugin failed to import scripts from ${vt}`),_t)}}catch(vt){dt(vt.toString())}}getAvailableImages(Fe){let We=this.availableImages[Fe];return We||(We=[]),We}getLayerIndex(Fe){let We=this.layerIndexes[Fe];return We||(We=this.layerIndexes[Fe]=new Y),We}getWorkerSource(Fe,We,dt){if(this.workerSources[Fe]||(this.workerSources[Fe]={}),this.workerSources[Fe][We]||(this.workerSources[Fe][We]={}),!this.workerSources[Fe][We][dt]){const vt={send:(_t,Nt,Mt,Lt,Ut,mi)=>{this.actor.send(_t,Nt,Mt,Fe,Ut,mi)},scheduler:this.actor.scheduler};this.workerSources[Fe][We][dt]=new this.workerSourceTypes[We](vt,this.getLayerIndex(Fe),this.getAvailableImages(Fe),this.isSpriteLoaded[Fe])}return this.workerSources[Fe][We][dt]}getDEMWorkerSource(Fe,We){return this.demWorkerSources[Fe]||(this.demWorkerSources[Fe]={}),this.demWorkerSources[Fe][We]||(this.demWorkerSources[Fe][We]=new O),this.demWorkerSources[Fe][We]}enforceCacheSizeLimit(Fe,We){n.enforceCacheSizeLimit(We)}getWorkerPerformanceMetrics(Fe,We,dt){dt(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Va(self)),Va}),h(["./shared"],function(n){function x(y,l){if(Array.isArray(y)){if(!Array.isArray(l)||y.length!==l.length)return!1;for(let u=0;u<y.length;u++)if(!x(y[u],l[u]))return!1;return!0}if(typeof y=="object"&&y!==null&&l!==null){if(typeof l!="object"||Object.keys(y).length!==Object.keys(l).length)return!1;for(const u in y)if(!x(y[u],l[u]))return!1;return!0}return y===l}var z=Y;function Y(y){return!function(l){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var w,R,F=new Blob([""],{type:"text/javascript"}),se=URL.createObjectURL(F);try{R=new Worker(se),w=!0}catch{w=!1}return R&&R.terminate(),URL.revokeObjectURL(se),w}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var w=document.createElement("canvas");w.width=w.height=1;var R=w.getContext("2d");if(!R)return!1;var F=R.getImageData(0,0,1,1);return F&&F.width===w.width}()?(O[u=l&&l.failIfMajorPerformanceCaveat]===void 0&&(O[u]=function(w){var R,F=function(se){var he=document.createElement("canvas"),fe=Object.create(Y.webGLContextAttributes);return fe.failIfMajorPerformanceCaveat=se,he.getContext("webgl",fe)||he.getContext("experimental-webgl",fe)}(w);if(!F)return!1;try{R=F.createShader(F.VERTEX_SHADER)}catch{return!1}return!(!R||F.isContextLost())&&(F.shaderSource(R,"void main() {}"),F.compileShader(R),F.getShaderParameter(R,F.COMPILE_STATUS)===!0)}(u)),O[u]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var u}(y)}var O={};function V(y,l,u){const w=n.window.document.createElement(y);return l!==void 0&&(w.className=l),u&&u.appendChild(w),w}function q(y,l,u){const w=n.window.document.createElementNS("http://www.w3.org/2000/svg",y);for(const R of Object.keys(l))w.setAttributeNS(null,R,l[R]);return u&&u.appendChild(w),w}Y.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const L=n.window.document&&n.window.document.documentElement.style,I=L&&L.userSelect!==void 0?"userSelect":"WebkitUserSelect";let H;function M(){L&&I&&(H=L[I],L[I]="none")}function C(){L&&I&&(L[I]=H)}function A(y){y.preventDefault(),y.stopPropagation(),n.window.removeEventListener("click",A,!0)}function U(){n.window.addEventListener("click",A,!0),n.window.setTimeout(()=>{n.window.removeEventListener("click",A,!0)},0)}function $(y,l){const u=y.getBoundingClientRect();return Q(y,u,l)}function E(y,l){const u=y.getBoundingClientRect(),w=[];for(let R=0;R<l.length;R++)w.push(Q(y,u,l[R]));return w}function ee(y){return n.window.InstallTrigger!==void 0&&y.button===2&&y.ctrlKey&&n.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:y.button}function Q(y,l,u){const w=y.offsetWidth===l.width?1:y.offsetWidth/l.width;return new n.pointGeometry((u.clientX-l.left)*w,(u.clientY-l.top)*w)}function N(y,l){var u=l[0],w=l[1],R=l[2],F=l[3],se=u*F-R*w;return se?(y[0]=F*(se=1/se),y[1]=-w*se,y[2]=-R*se,y[3]=u*se,y):null}function j(y){const{userImage:l}=y;return!!(l&&l.render&&l.render())&&(y.data.replace(new Uint8Array(l.data.buffer)),!0)}class W extends n.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new n.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(l){if(this.loaded!==l&&(this.loaded=l,l)){for(const{ids:u,callback:w}of this.requestors)this._notify(u,w);this.requestors=[]}}hasImage(l){return!!this.getImage(l)}getImage(l){return this.images[l]}addImage(l,u){this._validate(l,u)&&(this.images[l]=u)}_validate(l,u){let w=!0;return this._validateStretch(u.stretchX,u.data&&u.data.width)||(this.fire(new n.ErrorEvent(new Error(`Image "${l}" has invalid "stretchX" value`))),w=!1),this._validateStretch(u.stretchY,u.data&&u.data.height)||(this.fire(new n.ErrorEvent(new Error(`Image "${l}" has invalid "stretchY" value`))),w=!1),this._validateContent(u.content,u)||(this.fire(new n.ErrorEvent(new Error(`Image "${l}" has invalid "content" value`))),w=!1),w}_validateStretch(l,u){if(!l)return!0;let w=0;for(const R of l){if(R[0]<w||R[1]<R[0]||u<R[1])return!1;w=R[1]}return!0}_validateContent(l,u){return!(l&&(l.length!==4||l[0]<0||u.data.width<l[0]||l[1]<0||u.data.height<l[1]||l[2]<0||u.data.width<l[2]||l[3]<0||u.data.height<l[3]||l[2]<l[0]||l[3]<l[1]))}updateImage(l,u){u.version=this.images[l].version+1,this.images[l]=u,this.updatedImages[l]=!0}removeImage(l){const u=this.images[l];delete this.images[l],delete this.patterns[l],u.userImage&&u.userImage.onRemove&&u.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(l,u){let w=!0;if(!this.isLoaded())for(const R of l)this.images[R]||(w=!1);this.isLoaded()||w?this._notify(l,u):this.requestors.push({ids:l,callback:u})}_notify(l,u){const w={};for(const R of l){this.images[R]||this.fire(new n.Event("styleimagemissing",{id:R}));const F=this.images[R];F?w[R]={data:F.data.clone(),pixelRatio:F.pixelRatio,sdf:F.sdf,version:F.version,stretchX:F.stretchX,stretchY:F.stretchY,content:F.content,hasRenderCallback:!!(F.userImage&&F.userImage.render)}:n.warnOnce(`Image "${R}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}u(null,w)}getPixelSize(){const{width:l,height:u}=this.atlasImage;return{width:l,height:u}}getPattern(l){const u=this.patterns[l],w=this.getImage(l);if(!w)return null;if(u&&u.position.version===w.version)return u.position;if(u)u.position.version=w.version;else{const R={w:w.data.width+2,h:w.data.height+2,x:0,y:0},F=new n.ImagePosition(R,w);this.patterns[l]={bin:R,position:F}}return this._updatePatternAtlas(),this.patterns[l].position}bind(l){const u=l.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new n.Texture(l,this.atlasImage,u.RGBA),this.atlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE)}_updatePatternAtlas(){const l=[];for(const F in this.patterns)l.push(this.patterns[F].bin);const{w:u,h:w}=n.potpack(l),R=this.atlasImage;R.resize({width:u||1,height:w||1});for(const F in this.patterns){const{bin:se}=this.patterns[F],he=se.x+1,fe=se.y+1,De=this.images[F].data,ke=De.width,je=De.height;n.RGBAImage.copy(De,R,{x:0,y:0},{x:he,y:fe},{width:ke,height:je}),n.RGBAImage.copy(De,R,{x:0,y:je-1},{x:he,y:fe-1},{width:ke,height:1}),n.RGBAImage.copy(De,R,{x:0,y:0},{x:he,y:fe+je},{width:ke,height:1}),n.RGBAImage.copy(De,R,{x:ke-1,y:0},{x:he-1,y:fe},{width:1,height:je}),n.RGBAImage.copy(De,R,{x:0,y:0},{x:he+ke,y:fe},{width:1,height:je})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(l){for(const u of l){if(this.callbackDispatchedThisFrame[u])continue;this.callbackDispatchedThisFrame[u]=!0;const w=this.images[u];j(w)&&this.updateImage(u,w)}}}const S=new n.Properties({anchor:new n.DataConstantProperty(n.spec.light.anchor),position:new class{constructor(){this.specification=n.spec.light.position}possiblyEvaluate(y,l){return function([u,w,R]){const F=n.degToRad(w+90),se=n.degToRad(R);return{x:u*Math.cos(F)*Math.sin(se),y:u*Math.sin(F)*Math.sin(se),z:u*Math.cos(se),azimuthal:w,polar:R}}(y.expression.evaluate(l))}interpolate(y,l,u){return{x:n.number(y.x,l.x,u),y:n.number(y.y,l.y,u),z:n.number(y.z,l.z,u),azimuthal:n.number(y.azimuthal,l.azimuthal,u),polar:n.number(y.polar,l.polar,u)}}},color:new n.DataConstantProperty(n.spec.light.color),intensity:new n.DataConstantProperty(n.spec.light.intensity)}),P="-transition";class f extends n.Evented{constructor(l){super(),this._transitionable=new n.Transitionable(S),this.setLight(l),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(l,u={}){if(!this._validate(n.validateLight,l,u))for(const w in l){const R=l[w];n.endsWith(w,P)?this._transitionable.setTransition(w.slice(0,-P.length),R):this._transitionable.setValue(w,R)}}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}_validate(l,u,w){return(!w||w.validate!==!1)&&n.emitValidationErrors(this,l.call(n.validateStyle,n.extend({value:u,style:{glyphs:!0,sprite:!0},styleSpec:n.spec})))}}const g=new n.Properties({source:new n.DataConstantProperty(n.spec.terrain.source),exaggeration:new n.DataConstantProperty(n.spec.terrain.exaggeration)}),b="-transition";class D extends n.Evented{constructor(l,u){super(),this._transitionable=new n.Transitionable(g),this.set(l),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=u}get(){return this._transitionable.serialize()}set(l){for(const u in l){const w=l[u];n.endsWith(u,b)?this._transitionable.setTransition(u.slice(0,-b.length),w):this._transitionable.setValue(u,w)}}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}}function X(y,l,u,w){const R=n.smoothstep(45,65,u),[F,se]=te(y,w),he=n.length(l);let fe=1-Math.min(1,Math.exp((he-F)/(se-F)*-6));return fe*=fe*fe,fe=Math.min(1,1.00747*fe),fe*R*y.alpha}function te(y,l){const u=.5/Math.tan(.5*l);return[y.range[0]+u,y.range[1]+u]}const Z=new n.Properties({range:new n.DataConstantProperty(n.spec.fog.range),color:new n.DataConstantProperty(n.spec.fog.color),"high-color":new n.DataConstantProperty(n.spec.fog["high-color"]),"space-color":new n.DataConstantProperty(n.spec.fog["space-color"]),"horizon-blend":new n.DataConstantProperty(n.spec.fog["horizon-blend"]),"star-intensity":new n.DataConstantProperty(n.spec.fog["star-intensity"])}),de="-transition";class ge extends n.Evented{constructor(l,u){super(),this._transitionable=new n.Transitionable(Z),this.set(l),this._transitioning=this._transitionable.untransitioned(),this._transform=u}get state(){const l=this._transform,u=l.projection.name==="globe",w=n.globeToMercatorTransition(l.zoom),R=this.properties.get("range"),F=[.5,3];return{range:u?[n.number(F[0],R[0],w),n.number(F[1],R[1],w)]:R,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(l,u={}){if(!this._validate(n.validateFog,l,u)){for(const w of Object.keys(n.spec.fog))l&&l[w]===void 0&&(l[w]=n.spec.fog[w].default);for(const w in l){const R=l[w];n.endsWith(w,de)?this._transitionable.setTransition(w.slice(0,-de.length),R):this._transitionable.setValue(w,R)}}}getOpacity(l){if(!this._transform.projection.supportsFog)return 0;const u=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:n.smoothstep(45,65,l))*u.a}getOpacityAtLatLng(l,u){return this._transform.projection.supportsFog?function(w,R,F){const se=n.MercatorCoordinate.fromLngLat(R),he=F.elevation?F.elevation.getAtPointOrZero(se):0,fe=[se.x,se.y,he];return n.transformMat4(fe,fe,F.mercatorFogMatrix),X(w,fe,F.pitch,F._fov)}(this.state,l,u):0}getFovAdjustedRange(l){return this._transform.projection.supportsFog?te(this.state,l):[0,1]}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}_validate(l,u,w){return(!w||w.validate!==!1)&&n.emitValidationErrors(this,l.call(n.validateStyle,n.extend({value:u,style:{glyphs:!0,sprite:!0},styleSpec:n.spec})))}}class Ce{constructor(l,u){this.workerPool=l,this.actors=[],this.currentActor=0,this.id=n.uniqueId();const w=this.workerPool.acquire(this.id);for(let R=0;R<w.length;R++){const F=new Ce.Actor(w[R],u,this.id);F.name=`Worker ${R}`,this.actors.push(F)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(l,u,w){n.asyncAll(this.actors,(R,F)=>{R.send(l,u,F)},w=w||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(l=>{l.remove()}),this.actors=[],this.workerPool.release(this.id)}}function J(y,l,u){return l*(n.EXTENT/(y.tileSize*Math.pow(2,u-y.tileID.overscaledZ)))}Ce.Actor=n.Actor;class oe{constructor(l,u,w,R){this.screenBounds=l,this.cameraPoint=u,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=w,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,R)}static createFromScreenPoints(l,u){let w,R;if(l instanceof n.pointGeometry||typeof l[0]=="number"){const F=n.pointGeometry.convert(l);w=[F],R=u.isPointAboveHorizon(F)}else{const F=n.pointGeometry.convert(l[0]),se=n.pointGeometry.convert(l[1]);w=[F,se],R=n.polygonizeBounds(F,se).every(he=>u.isPointAboveHorizon(he))}return new oe(w,u.getCameraPoint(),R,u)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(l){return n.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],l)}bufferedCameraGeometry(l){const u=this.screenBounds[0],w=this.screenBounds.length===1?this.screenBounds[0].add(new n.pointGeometry(1,1)):this.screenBounds[1],R=n.polygonizeBounds(u,w,0,!1);return this.cameraPoint.y>w.y&&(this.cameraPoint.x>u.x&&this.cameraPoint.x<w.x?R.splice(3,0,this.cameraPoint):this.cameraPoint.x>=w.x?R[2]=this.cameraPoint:this.cameraPoint.x<=u.x&&(R[3]=this.cameraPoint)),n.bufferConvexPolygon(R,l)}bufferedCameraGeometryGlobe(l){const u=this.screenBounds[0],w=this.screenBounds.length===1?this.screenBounds[0].add(new n.pointGeometry(1,1)):this.screenBounds[1],R=n.polygonizeBounds(u,w,l),F=this.cameraPoint.clone();switch(3*((F.y>u.y)+(F.y>w.y))+((F.x>u.x)+(F.x>w.x))){case 0:R[0]=F,R[4]=F.clone();break;case 1:R.splice(1,0,F);break;case 2:R[1]=F;break;case 3:R.splice(4,0,F);break;case 5:R.splice(2,0,F);break;case 6:R[3]=F;break;case 7:R.splice(3,0,F);break;case 8:R[2]=F}return R}containsTile(l,u,w,R=0){const F=l.queryPadding/u._pixelsPerMercatorPixel+1,se=w?this._bufferedCameraMercator(F,u):this._bufferedScreenMercator(F,u);let he=l.tileID.wrap+(se.unwrapped?R:0);const fe=se.polygon.map(et=>n.getTilePoint(l.tileTransform,et,he));if(!n.polygonIntersectsBox(fe,0,0,n.EXTENT,n.EXTENT))return;he=l.tileID.wrap+(this.screenGeometryMercator.unwrapped?R:0);const De=this.screenGeometryMercator.polygon.map(et=>n.getTileVec3(l.tileTransform,et,he)),ke=De.map(et=>new n.pointGeometry(et[0],et[1])),je=u.getFreeCameraOptions().position||new n.MercatorCoordinate(0,0,0),Ze=n.getTileVec3(l.tileTransform,je,he),at=De.map(et=>{const nt=n.sub(et,et,Ze);return n.normalize(nt,nt),new n.Ray(Ze,nt)}),lt=J(l,1,u.zoom)*u._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:ke,tilespaceRays:at,bufferedTilespaceGeometry:fe,bufferedTilespaceBounds:(ht=n.getBounds(fe),ht.min.x=n.clamp(ht.min.x,0,n.EXTENT),ht.min.y=n.clamp(ht.min.y,0,n.EXTENT),ht.max.x=n.clamp(ht.max.x,0,n.EXTENT),ht.max.y=n.clamp(ht.max.y,0,n.EXTENT),ht),tile:l,tileID:l.tileID,pixelToTileUnitsFactor:lt};var ht}_bufferedScreenMercator(l,u){const w=Ee(l);if(this._screenRaycastCache[w])return this._screenRaycastCache[w];{let R;return R=u.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(l),u):{polygon:this.bufferedScreenGeometry(l).map(F=>u.pointCoordinate3D(F)),unwrapped:!0},this._screenRaycastCache[w]=R,R}}_bufferedCameraMercator(l,u){const w=Ee(l);if(this._cameraRaycastCache[w])return this._cameraRaycastCache[w];{let R;return R=u.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(l),u):{polygon:this.bufferedCameraGeometry(l).map(F=>u.pointCoordinate3D(F)),unwrapped:!0},this._cameraRaycastCache[w]=R,R}}_projectAndResample(l,u){const w=function(F,se){const he=n.multiply([],se.pixelMatrix,se.globeMatrix),fe=[0,-n.GLOBE_RADIUS,0,1],De=[0,n.GLOBE_RADIUS,0,1],ke=[0,0,0,1];n.transformMat4$1(fe,fe,he),n.transformMat4$1(De,De,he),n.transformMat4$1(ke,ke,he);const je=new n.pointGeometry(fe[0]/fe[3],fe[1]/fe[3]),Ze=new n.pointGeometry(De[0]/De[3],De[1]/De[3]),at=n.polygonContainsPoint(F,je)&&fe[3]<ke[3],lt=n.polygonContainsPoint(F,Ze)&&De[3]<ke[3];if(!at&&!lt)return null;const ht=function(jt,Qt,Zt){for(let Vt=1;Vt<jt.length;Vt++){const Si=pe(Qt.pointCoordinate3D(jt[Vt-1]).x),qt=pe(Qt.pointCoordinate3D(jt[Vt]).x);if(Zt<0){if(Si<qt)return{idx:Vt,t:-Si/(qt-1-Si)}}else if(qt<Si)return{idx:Vt,t:(1-Si)/(qt+1-Si)}}return null}(F,se,at?-1:1);if(!ht)return null;const{idx:et,t:nt}=ht;let ft=et>1?ce(F.slice(0,et),se):[],ct=et<F.length?ce(F.slice(et),se):[];ft=ft.map(jt=>new n.pointGeometry(pe(jt.x),jt.y)),ct=ct.map(jt=>new n.pointGeometry(pe(jt.x),jt.y));const bt=[...ft];bt.length===0&&bt.push(ct[ct.length-1]);const It=n.number(bt[bt.length-1].y,(ct.length===0?ft[0]:ct[0]).y,nt);let Ct;return Ct=at?[new n.pointGeometry(0,It),new n.pointGeometry(0,0),new n.pointGeometry(1,0),new n.pointGeometry(1,It)]:[new n.pointGeometry(1,It),new n.pointGeometry(1,1),new n.pointGeometry(0,1),new n.pointGeometry(0,It)],bt.push(...Ct),ct.length===0?bt.push(ft[0]):bt.push(...ct),{polygon:bt.map(jt=>new n.MercatorCoordinate(jt.x,jt.y)),unwrapped:!1}}(l,u);if(w)return w;const R=function(F,se){let he=!1,fe=-1/0,De=0;for(let je=0;je<F.length-1;je++)F[je].x>fe&&(fe=F[je].x,De=je);for(let je=0;je<F.length-1;je++){const Ze=(De+je)%(F.length-1),at=F[Ze],lt=F[Ze+1];Math.abs(at.x-lt.x)>.5&&(at.x<lt.x?(at.x+=1,Ze===0&&(F[F.length-1].x+=1)):(lt.x+=1,Ze+1===F.length-1&&(F[0].x+=1)),he=!0)}const ke=n.mercatorXfromLng(se.center.lng);return he&&ke<Math.abs(ke-1)&&F.forEach(je=>{je.x-=1}),{polygon:F,unwrapped:he}}(ce(l,u).map(F=>new n.pointGeometry(pe(F.x),F.y)),u);return{polygon:R.polygon.map(F=>new n.MercatorCoordinate(F.x,F.y)),unwrapped:R.unwrapped}}}function ce(y,l){return n.resample(y,u=>{const w=l.pointCoordinate3D(u);u.x=w.x,u.y=w.y},1/256)}function pe(y){return y<0?1+y%1:y%1}function Ee(y){return 100*y|0}function ne(y,l,u,w,R){const F=function(se,he){if(se)return R(se);if(he){y.url&&he.tiles&&y.tiles&&delete y.tiles;const fe=n.pick(n.extend(he,y),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);he.vector_layers&&(fe.vectorLayers=he.vector_layers,fe.vectorLayerIds=fe.vectorLayers.map(De=>De.id)),fe.tiles=l.canonicalizeTileset(fe,y.url),R(null,fe)}};return y.url?n.getJSON(l.transformRequest(l.normalizeSourceURL(y.url,null,u,w),n.ResourceType.Source),F):n.exported.frame(()=>F(null,y))}class ye{constructor(l,u,w){this.bounds=n.LngLatBounds.convert(this.validateBounds(l)),this.minzoom=u||0,this.maxzoom=w||24}validateBounds(l){return Array.isArray(l)&&l.length===4?[Math.max(-180,l[0]),Math.max(-90,l[1]),Math.min(180,l[2]),Math.min(90,l[3])]:[-180,-90,180,90]}contains(l){const u=Math.pow(2,l.z),w=Math.floor(n.mercatorXfromLng(this.bounds.getWest())*u),R=Math.floor(n.mercatorYfromLat(this.bounds.getNorth())*u),F=Math.ceil(n.mercatorXfromLng(this.bounds.getEast())*u),se=Math.ceil(n.mercatorYfromLat(this.bounds.getSouth())*u);return l.x>=w&&l.x<F&&l.y>=R&&l.y<se}}class _e{constructor(l,u,w){this.context=l;const R=l.gl;this.buffer=R.createBuffer(),this.dynamicDraw=!!w,this.context.unbindVAO(),l.bindElementBuffer.set(this.buffer),R.bufferData(R.ELEMENT_ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?R.DYNAMIC_DRAW:R.STATIC_DRAW),this.dynamicDraw||u.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(l){const u=this.context.gl;this.context.unbindVAO(),this.bind(),u.bufferSubData(u.ELEMENT_ARRAY_BUFFER,0,l.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const ae={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class me{constructor(l,u,w,R){this.length=u.length,this.attributes=w,this.itemSize=u.bytesPerElement,this.dynamicDraw=R,this.context=l;const F=l.gl;this.buffer=F.createBuffer(),l.bindVertexBuffer.set(this.buffer),F.bufferData(F.ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?F.DYNAMIC_DRAW:F.STATIC_DRAW),this.dynamicDraw||u.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(l){const u=this.context.gl;this.bind(),u.bufferSubData(u.ARRAY_BUFFER,0,l.arrayBuffer)}enableAttributes(l,u){for(let w=0;w<this.attributes.length;w++){const R=u.attributes[this.attributes[w].name];R!==void 0&&l.enableVertexAttribArray(R)}}setVertexAttribPointers(l,u,w){for(let R=0;R<this.attributes.length;R++){const F=this.attributes[R],se=u.attributes[F.name];se!==void 0&&l.vertexAttribPointer(se,F.components,l[ae[F.type]],!1,this.itemSize,F.offset+this.itemSize*(w||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class we{constructor(l){this.gl=l.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(l){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Re extends we{getDefault(){return n.Color.transparent}set(l){const u=this.current;(l.r!==u.r||l.g!==u.g||l.b!==u.b||l.a!==u.a||this.dirty)&&(this.gl.clearColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class Le extends we{getDefault(){return 1}set(l){(l!==this.current||this.dirty)&&(this.gl.clearDepth(l),this.current=l,this.dirty=!1)}}class $e extends we{getDefault(){return 0}set(l){(l!==this.current||this.dirty)&&(this.gl.clearStencil(l),this.current=l,this.dirty=!1)}}class rt extends we{getDefault(){return[!0,!0,!0,!0]}set(l){const u=this.current;(l[0]!==u[0]||l[1]!==u[1]||l[2]!==u[2]||l[3]!==u[3]||this.dirty)&&(this.gl.colorMask(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class Qe extends we{getDefault(){return!0}set(l){(l!==this.current||this.dirty)&&(this.gl.depthMask(l),this.current=l,this.dirty=!1)}}class qe extends we{getDefault(){return 255}set(l){(l!==this.current||this.dirty)&&(this.gl.stencilMask(l),this.current=l,this.dirty=!1)}}class Te extends we{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(l){const u=this.current;(l.func!==u.func||l.ref!==u.ref||l.mask!==u.mask||this.dirty)&&(this.gl.stencilFunc(l.func,l.ref,l.mask),this.current=l,this.dirty=!1)}}class Oe extends we{getDefault(){const l=this.gl;return[l.KEEP,l.KEEP,l.KEEP]}set(l){const u=this.current;(l[0]!==u[0]||l[1]!==u[1]||l[2]!==u[2]||this.dirty)&&(this.gl.stencilOp(l[0],l[1],l[2]),this.current=l,this.dirty=!1)}}class ze extends we{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;l?u.enable(u.STENCIL_TEST):u.disable(u.STENCIL_TEST),this.current=l,this.dirty=!1}}class Xe extends we{getDefault(){return[0,1]}set(l){const u=this.current;(l[0]!==u[0]||l[1]!==u[1]||this.dirty)&&(this.gl.depthRange(l[0],l[1]),this.current=l,this.dirty=!1)}}class Ke extends we{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;l?u.enable(u.DEPTH_TEST):u.disable(u.DEPTH_TEST),this.current=l,this.dirty=!1}}class pt extends we{getDefault(){return this.gl.LESS}set(l){(l!==this.current||this.dirty)&&(this.gl.depthFunc(l),this.current=l,this.dirty=!1)}}class Tt extends we{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;l?u.enable(u.BLEND):u.disable(u.BLEND),this.current=l,this.dirty=!1}}class Bt extends we{getDefault(){const l=this.gl;return[l.ONE,l.ZERO]}set(l){const u=this.current;(l[0]!==u[0]||l[1]!==u[1]||this.dirty)&&(this.gl.blendFunc(l[0],l[1]),this.current=l,this.dirty=!1)}}class ci extends we{getDefault(){return n.Color.transparent}set(l){const u=this.current;(l.r!==u.r||l.g!==u.g||l.b!==u.b||l.a!==u.a||this.dirty)&&(this.gl.blendColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class Wt extends we{getDefault(){return this.gl.FUNC_ADD}set(l){(l!==this.current||this.dirty)&&(this.gl.blendEquation(l),this.current=l,this.dirty=!1)}}class ui extends we{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;l?u.enable(u.CULL_FACE):u.disable(u.CULL_FACE),this.current=l,this.dirty=!1}}class ji extends we{getDefault(){return this.gl.BACK}set(l){(l!==this.current||this.dirty)&&(this.gl.cullFace(l),this.current=l,this.dirty=!1)}}class Ii extends we{getDefault(){return this.gl.CCW}set(l){(l!==this.current||this.dirty)&&(this.gl.frontFace(l),this.current=l,this.dirty=!1)}}class wi extends we{getDefault(){return null}set(l){(l!==this.current||this.dirty)&&(this.gl.useProgram(l),this.current=l,this.dirty=!1)}}class Ci extends we{getDefault(){return this.gl.TEXTURE0}set(l){(l!==this.current||this.dirty)&&(this.gl.activeTexture(l),this.current=l,this.dirty=!1)}}class sn extends we{getDefault(){const l=this.gl;return[0,0,l.drawingBufferWidth,l.drawingBufferHeight]}set(l){const u=this.current;(l[0]!==u[0]||l[1]!==u[1]||l[2]!==u[2]||l[3]!==u[3]||this.dirty)&&(this.gl.viewport(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class vn extends we{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;u.bindFramebuffer(u.FRAMEBUFFER,l),this.current=l,this.dirty=!1}}class Gn extends we{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;u.bindRenderbuffer(u.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class br extends we{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;u.bindTexture(u.TEXTURE_2D,l),this.current=l,this.dirty=!1}}class us extends we{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;u.bindBuffer(u.ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class Ps extends we{getDefault(){return null}set(l){const u=this.gl;u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class nn extends we{constructor(l){super(l),this.vao=l.extVertexArrayObject}getDefault(){return null}set(l){this.vao&&(l!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(l),this.current=l,this.dirty=!1)}}class qr extends we{getDefault(){return 4}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_ALIGNMENT,l),this.current=l,this.dirty=!1}}class zo extends we{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l),this.current=l,this.dirty=!1}}class fa extends we{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,l),this.current=l,this.dirty=!1}}class Ko extends we{constructor(l,u){super(l),this.context=l,this.parent=u}getDefault(){return null}}class lr extends Ko{setDirty(){this.dirty=!0}set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,l,0),this.current=l,this.dirty=!1}}class No extends Ko{attachment(){return this.gl.DEPTH_ATTACHMENT}set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferRenderbuffer(u.FRAMEBUFFER,this.attachment(),u.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class Va extends No{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class ut{constructor(l,u,w,R){this.context=l,this.width=u,this.height=w;const F=this.framebuffer=l.gl.createFramebuffer();this.colorAttachment=new lr(l,F),R&&(this.depthAttachment=new No(l,F))}destroy(){const l=this.context.gl,u=this.colorAttachment.get();if(u&&l.deleteTexture(u),this.depthAttachment){const w=this.depthAttachment.get();w&&l.deleteRenderbuffer(w)}l.deleteFramebuffer(this.framebuffer)}}class Fe{constructor(l){this.gl=l,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Re(this),this.clearDepth=new Le(this),this.clearStencil=new $e(this),this.colorMask=new rt(this),this.depthMask=new Qe(this),this.stencilMask=new qe(this),this.stencilFunc=new Te(this),this.stencilOp=new Oe(this),this.stencilTest=new ze(this),this.depthRange=new Xe(this),this.depthTest=new Ke(this),this.depthFunc=new pt(this),this.blend=new Tt(this),this.blendFunc=new Bt(this),this.blendColor=new ci(this),this.blendEquation=new Wt(this),this.cullFace=new ui(this),this.cullFaceSide=new ji(this),this.frontFace=new Ii(this),this.program=new wi(this),this.activeTexture=new Ci(this),this.viewport=new sn(this),this.bindFramebuffer=new vn(this),this.bindRenderbuffer=new Gn(this),this.bindTexture=new br(this),this.bindVertexBuffer=new us(this),this.bindElementBuffer=new Ps(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new nn(this),this.pixelStoreUnpack=new qr(this),this.pixelStoreUnpackPremultiplyAlpha=new zo(this),this.pixelStoreUnpackFlipY=new fa(this),this.extTextureFilterAnisotropic=l.getExtension("EXT_texture_filter_anisotropic")||l.getExtension("MOZ_EXT_texture_filter_anisotropic")||l.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=l.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=l.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=l.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=l.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=l.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(l.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=l.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=l.getExtension("OES_standard_derivatives"),this.extTimerQuery=l.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(l,u){return new _e(this,l,u)}createVertexBuffer(l,u,w){return new me(this,l,u,w)}createRenderbuffer(l,u,w){const R=this.gl,F=R.createRenderbuffer();return this.bindRenderbuffer.set(F),R.renderbufferStorage(R.RENDERBUFFER,l,u,w),this.bindRenderbuffer.set(null),F}createFramebuffer(l,u,w){return new ut(this,l,u,w)}clear({color:l,depth:u,stencil:w}){const R=this.gl;let F=0;l&&(F|=R.COLOR_BUFFER_BIT,this.clearColor.set(l),this.colorMask.set([!0,!0,!0,!0])),u!==void 0&&(F|=R.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(u),this.depthMask.set(!0)),w!==void 0&&(F|=R.STENCIL_BUFFER_BIT,this.clearStencil.set(w),this.stencilMask.set(255)),R.clear(F)}setCullFace(l){l.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(l.mode),this.frontFace.set(l.frontFace))}setDepthMode(l){l.func!==this.gl.ALWAYS||l.mask?(this.depthTest.set(!0),this.depthFunc.set(l.func),this.depthMask.set(l.mask),this.depthRange.set(l.range)):this.depthTest.set(!1)}setStencilMode(l){l.test.func!==this.gl.ALWAYS||l.mask?(this.stencilTest.set(!0),this.stencilMask.set(l.mask),this.stencilOp.set([l.fail,l.depthFail,l.pass]),this.stencilFunc.set({func:l.test.func,ref:l.ref,mask:l.test.mask})):this.stencilTest.set(!1)}setColorMode(l){x(l.blendFunction,n.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(l.blendFunction),this.blendColor.set(l.blendColor)),this.colorMask.set(l.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class We extends n.Evented{constructor(l,u,w,R){super(),this.id=l,this.dispatcher=w,this.setEventedParent(R),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=n.extend({type:"raster"},u),n.extend(this,n.pick(u,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=ne(this._options,this.map._requestManager,null,null,(l,u)=>{this._tileJSONRequest=null,this._loaded=!0,l?this.fire(new n.ErrorEvent(l)):u&&(n.extend(this,u),u.bounds&&(this.tileBounds=new ye(u.bounds,this.minzoom,this.maxzoom)),n.postTurnstileEvent(u.tiles),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(l){this.map=l,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return n.extend({},this._options)}hasTile(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)}loadTile(l,u){const w=n.exported.devicePixelRatio>=2,R=this.map._requestManager.normalizeTileURL(l.tileID.canonical.url(this.tiles,this.scheme),w,this.tileSize);l.request=n.getImage(this.map._requestManager.transformRequest(R,n.ResourceType.Tile),(F,se,he,fe)=>(delete l.request,l.aborted?(l.state="unloaded",u(null)):F?(l.state="errored",u(F)):se?(this.map._refreshExpiredTiles&&l.setExpiryData({cacheControl:he,expires:fe}),l.setTexture(se,this.map.painter),l.state="loaded",n.cacheEntryPossiblyAdded(this.dispatcher),void u(null)):u(null)))}static loadTileData(l,u,w){l.setTexture(u,w)}static unloadTileData(l,u){l.texture&&u.saveTileTexture(l.texture)}abortTile(l,u){l.request&&(l.request.cancel(),delete l.request),u()}unloadTile(l,u){l.texture&&this.map.painter.saveTileTexture(l.texture),u()}hasTransition(){return!1}}let dt;function vt(y,l,u,w,R,F,se,he){const fe=[y,u,R,l,w,F,1,1,1],De=[se,he,1],ke=n.adjoint([],fe),[je,Ze,at]=n.transformMat3(De,De,n.transpose(ke,ke));return n.multiply$1(fe,[je,0,0,0,Ze,0,0,0,at],fe)}class _t extends n.Evented{constructor(l,u,w,R){super(),this.id=l,this.dispatcher=w,this.coordinates=u.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(R),this.options=u,this._dirty=!1}load(l,u){this._loaded=u||!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=n.getImage(this.map._requestManager.transformRequest(this.url,n.ResourceType.Image),(w,R)=>{if(this._imageRequest=null,this._loaded=!0,w)this.fire(new n.ErrorEvent(w));else if(R){const{HTMLImageElement:F}=n.window;this.image=R instanceof F?n.exported.getImageData(R):R,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,l&&(this.coordinates=l),this._finishLoading()}})}loaded(){return this._loaded}updateImage(l){return this.image&&l.url?(this._imageRequest&&l.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=l.url,this.load(l.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(l){this.map=l,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(l){this.coordinates=l,this._boundsArray=void 0;const u=l.map(n.MercatorCoordinate.fromLngLat);return this.tileID=function(w){let R=1/0,F=1/0,se=-1/0,he=-1/0;for(const je of w)R=Math.min(R,je.x),F=Math.min(F,je.y),se=Math.max(se,je.x),he=Math.max(he,je.y);const fe=Math.max(se-R,he-F),De=Math.max(0,Math.floor(-Math.log(fe)/Math.LN2)),ke=Math.pow(2,De);return new n.CanonicalTileID(De,Math.floor((R+se)/2*ke),Math.floor((F+he)/2*ke))}(u),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(l){for(const fe in this.tiles){const De=this.tiles[fe];De.state!=="loaded"&&(De.state="loaded",De.texture=this.texture)}if(this._boundsArray)return;const u=n.tileTransform(this.tileID,this.map.transform.projection),[w,R,F,se]=this.coordinates.map(fe=>{const De=u.projection.project(fe[0],fe[1]);return n.getTilePoint(u,De)._round()});this.perspectiveTransform=function(fe,De,ke,je,Ze,at,lt,ht,et,nt){const ft=vt(0,0,fe,0,0,De,fe,De),ct=vt(ke,je,Ze,at,lt,ht,et,nt);return n.multiply$1(ct,n.adjoint(ft,ft),ct),[ct[6]/ct[8]*fe/n.EXTENT,ct[7]/ct[8]*De/n.EXTENT]}(this.width,this.height,w.x,w.y,R.x,R.y,se.x,se.y,F.x,F.y);const he=this._boundsArray=new n.StructArrayLayout4i8;he.emplaceBack(w.x,w.y,0,0),he.emplaceBack(R.x,R.y,n.EXTENT,0),he.emplaceBack(se.x,se.y,0,n.EXTENT),he.emplaceBack(F.x,F.y,n.EXTENT,n.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=l.createVertexBuffer(he,n.boundsAttributes.members),this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const l=this.map.painter.context,u=l.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new n.Texture(l,this.image,u.RGBA),this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(l)}loadTile(l,u){this.tileID&&this.tileID.equals(l.tileID.canonical)?(this.tiles[String(l.tileID.wrap)]=l,l.buckets={},u(null)):(l.state="errored",u(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Nt={vector:class extends n.Evented{constructor(y,l,u,w){if(super(),this.id=y,this.dispatcher=u,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,n.extend(this,n.pick(l,["url","scheme","tileSize","promoteId"])),this._options=n.extend({type:"vector"},l),this._collectResourceTiming=l.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(w),this._tileWorkers={},this._deduped=new n.DedupedRequest}load(y){this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"}));const l=Array.isArray(this.map._language)?this.map._language.join():this.map._language,u=this.map._worldview;this._tileJSONRequest=ne(this._options,this.map._requestManager,l,u,(w,R)=>{this._tileJSONRequest=null,this._loaded=!0,w?(l&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${l}`),u&&u.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${u}`),this.fire(new n.ErrorEvent(w))):R&&(n.extend(this,R),R.bounds&&(this.tileBounds=new ye(R.bounds,this.minzoom,this.maxzoom)),n.postTurnstileEvent(R.tiles,this.map._requestManager._customAccessToken),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"}))),y&&y(w)})}loaded(){return this._loaded}hasTile(y){return!this.tileBounds||this.tileBounds.contains(y.canonical)}onAdd(y){this.map=y,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>{const y=this.map.style._getSourceCaches(this.id);for(const l of y)l.clearTiles()})}setSourceProperty(y){y(),this.reload()}setTiles(y){return this._options.tiles=y,this.reload(),this}setUrl(y){return this.url=y,this._options.url=y,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return n.extend({},this._options)}loadTile(y,l){const u=this.map._requestManager.normalizeTileURL(y.tileID.canonical.url(this.tiles,this.scheme)),w={request:this.map._requestManager.transformRequest(u,n.ResourceType.Tile),data:void 0,uid:y.uid,tileID:y.tileID,tileZoom:y.tileZoom,zoom:y.tileID.overscaledZ,tileSize:this.tileSize*y.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:n.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:y.isSymbolTile};if(w.request.collectResourceTiming=this._collectResourceTiming,y.actor&&y.state!=="expired")y.state==="loading"?y.reloadCallback=l:y.request=y.actor.send("reloadTile",w,R.bind(this));else if(y.actor=this._tileWorkers[u]=this._tileWorkers[u]||this.dispatcher.getActor(),this.dispatcher.ready)y.request=y.actor.send("loadTile",w,R.bind(this),void 0,!0);else{const F=n.loadVectorTile.call({deduped:this._deduped},w,(se,he)=>{se||!he?R.call(this,se):(w.data={cacheControl:he.cacheControl,expires:he.expires,rawData:he.rawData.slice(0)},y.actor&&y.actor.send("loadTile",w,R.bind(this),void 0,!0))},!0);y.request={cancel:F}}function R(F,se){return delete y.request,y.aborted?l(null):F&&F.status!==404?l(F):(se&&se.resourceTiming&&(y.resourceTiming=se.resourceTiming),this.map._refreshExpiredTiles&&se&&y.setExpiryData(se),y.loadVectorData(se,this.map.painter),n.cacheEntryPossiblyAdded(this.dispatcher),l(null),void(y.reloadCallback&&(this.loadTile(y,y.reloadCallback),y.reloadCallback=null)))}}abortTile(y){y.request&&(y.request.cancel(),delete y.request),y.actor&&y.actor.send("abortTile",{uid:y.uid,type:this.type,source:this.id})}unloadTile(y){y.unloadVectorData(),y.actor&&y.actor.send("removeTile",{uid:y.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},raster:We,"raster-dem":class extends We{constructor(y,l,u,w){super(y,l,u,w),this.type="raster-dem",this.maxzoom=22,this._options=n.extend({type:"raster-dem"},l),this.encoding=l.encoding||"mapbox"}loadTile(y,l){const u=this.map._requestManager.normalizeTileURL(y.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function w(R,F){R&&(y.state="errored",l(R)),F&&(y.dem=F,y.dem.onDeserialize(),y.needsHillshadePrepare=!0,y.needsDEMTextureUpload=!0,y.state="loaded",l(null))}y.request=n.getImage(this.map._requestManager.transformRequest(u,n.ResourceType.Tile),(function(R,F,se,he){if(delete y.request,y.aborted)y.state="unloaded",l(null);else if(R)y.state="errored",l(R);else if(F){this.map._refreshExpiredTiles&&y.setExpiryData({cacheControl:se,expires:he});const fe=n.window.ImageBitmap&&F instanceof n.window.ImageBitmap&&(dt==null&&(dt=n.window.OffscreenCanvas&&new n.window.OffscreenCanvas(1,1).getContext("2d")&&typeof n.window.createImageBitmap=="function"),dt),De=1-(F.width-n.prevPowerOfTwo(F.width))/2;De<1||y.neighboringTiles||(y.neighboringTiles=this._getNeighboringTiles(y.tileID));const ke=fe?F:n.exported.getImageData(F,De),je={uid:y.uid,coord:y.tileID,source:this.id,rawImageData:ke,encoding:this.encoding,padding:De};y.actor&&y.state!=="expired"||(y.actor=this.dispatcher.getActor(),y.actor.send("loadDEMTile",je,w.bind(this),void 0,!0))}}).bind(this))}_getNeighboringTiles(y){const l=y.canonical,u=Math.pow(2,l.z),w=(l.x-1+u)%u,R=l.x===0?y.wrap-1:y.wrap,F=(l.x+1+u)%u,se=l.x+1===u?y.wrap+1:y.wrap,he={};return he[new n.OverscaledTileID(y.overscaledZ,R,l.z,w,l.y).key]={backfilled:!1},he[new n.OverscaledTileID(y.overscaledZ,se,l.z,F,l.y).key]={backfilled:!1},l.y>0&&(he[new n.OverscaledTileID(y.overscaledZ,R,l.z,w,l.y-1).key]={backfilled:!1},he[new n.OverscaledTileID(y.overscaledZ,y.wrap,l.z,l.x,l.y-1).key]={backfilled:!1},he[new n.OverscaledTileID(y.overscaledZ,se,l.z,F,l.y-1).key]={backfilled:!1}),l.y+1<u&&(he[new n.OverscaledTileID(y.overscaledZ,R,l.z,w,l.y+1).key]={backfilled:!1},he[new n.OverscaledTileID(y.overscaledZ,y.wrap,l.z,l.x,l.y+1).key]={backfilled:!1},he[new n.OverscaledTileID(y.overscaledZ,se,l.z,F,l.y+1).key]={backfilled:!1}),he}unloadTile(y){y.demTexture&&this.map.painter.saveTileTexture(y.demTexture),y.fbo&&(y.fbo.destroy(),delete y.fbo),y.dem&&delete y.dem,delete y.neighboringTiles,y.state="unloaded"}},geojson:class extends n.Evented{constructor(y,l,u,w){super(),this.id=y,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=u.getActor(),this.setEventedParent(w),this._data=l.data,this._options=n.extend({},l),this._collectResourceTiming=l.collectResourceTiming,l.maxzoom!==void 0&&(this.maxzoom=l.maxzoom),l.type&&(this.type=l.type),l.attribution&&(this.attribution=l.attribution),this.promoteId=l.promoteId;const R=n.EXTENT/this.tileSize;this.workerOptions=n.extend({source:this.id,cluster:l.cluster||!1,geojsonVtOptions:{buffer:(l.buffer!==void 0?l.buffer:128)*R,tolerance:(l.tolerance!==void 0?l.tolerance:.375)*R,extent:n.EXTENT,maxZoom:this.maxzoom,lineMetrics:l.lineMetrics||!1,generateId:l.generateId||!1},superclusterOptions:{maxZoom:l.clusterMaxZoom!==void 0?l.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,l.clusterMinPoints||2),extent:n.EXTENT,radius:(l.clusterRadius!==void 0?l.clusterRadius:50)*R,log:!1,generateId:l.generateId||!1},clusterProperties:l.clusterProperties,filter:l.filter},l.workerOptions)}onAdd(y){this.map=y,this.setData(this._data)}setData(y){return this._data=y,this._updateWorkerData(),this}getClusterExpansionZoom(y,l){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:y,source:this.id},l),this}getClusterChildren(y,l){return this.actor.send("geojson.getClusterChildren",{clusterId:y,source:this.id},l),this}getClusterLeaves(y,l,u,w){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:y,limit:l,offset:u},w),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new n.Event("dataloading",{dataType:"source"})),this._loaded=!1;const y=n.extend({},this.workerOptions),l=this._data;typeof l=="string"?(y.request=this.map._requestManager.transformRequest(n.exported.resolveURL(l),n.ResourceType.Source),y.request.collectResourceTiming=this._collectResourceTiming):y.data=JSON.stringify(l),this._pendingLoad=this.actor.send(`${this.type}.loadData`,y,(u,w)=>{if(this._loaded=!0,this._pendingLoad=null,u)this.fire(new n.ErrorEvent(u));else{const R={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&w&&w.resourceTiming&&w.resourceTiming[this.id]&&(R.resourceTiming=w.resourceTiming[this.id]),this.fire(new n.Event("data",R)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(y,l){const u=y.actor?"reloadTile":"loadTile";y.actor=this.actor,y.request=this.actor.send(u,{type:this.type,uid:y.uid,tileID:y.tileID,tileZoom:y.tileZoom,zoom:y.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:n.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(w,R)=>(delete y.request,y.unloadVectorData(),y.aborted?l(null):w?l(w):(y.loadVectorData(R,this.map.painter,u==="reloadTile"),l(null))),void 0,u==="loadTile")}abortTile(y){y.request&&(y.request.cancel(),delete y.request),y.aborted=!0}unloadTile(y){y.unloadVectorData(),this.actor.send("removeTile",{uid:y.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return n.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends _t{constructor(y,l,u,w){super(y,l,u,w),this.roundZoom=!0,this.type="video",this.options=l}load(){this._loaded=!1;const y=this.options;this.urls=[];for(const l of y.urls)this.urls.push(this.map._requestManager.transformRequest(l,n.ResourceType.Source).url);n.getVideo(this.urls,(l,u)=>{this._loaded=!0,l?this.fire(new n.ErrorEvent(l)):u&&(this.video=u,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(y){if(this.video){const l=this.video.seekable;y<l.start(0)||y>l.end(0)?this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${l.start(0)} and ${l.end(0)}-second mark.`))):this.video.currentTime=y}}getVideo(){return this.video}onAdd(y){this.map||(this.map=y,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const y=this.map.painter.context,l=y.gl;this.texture?this.video.paused||(this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE),l.texSubImage2D(l.TEXTURE_2D,0,0,0,l.RGBA,l.UNSIGNED_BYTE,this.video)):(this.texture=new n.Texture(y,this.video,l.RGBA),this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(y)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:_t,canvas:class extends _t{constructor(y,l,u,w){super(y,l,u,w),l.coordinates?Array.isArray(l.coordinates)&&l.coordinates.length===4&&!l.coordinates.some(R=>!Array.isArray(R)||R.length!==2||R.some(F=>typeof F!="number"))||this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${y}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${y}`,null,'missing required property "coordinates"'))),l.animate&&typeof l.animate!="boolean"&&this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${y}`,null,'optional "animate" property must be a boolean value'))),l.canvas?typeof l.canvas=="string"||l.canvas instanceof n.window.HTMLCanvasElement||this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${y}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${y}`,null,'missing required property "canvas"'))),this.options=l,this.animate=l.animate===void 0||l.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof n.window.HTMLCanvasElement?this.options.canvas:n.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new n.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(y){this.map=y,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let y=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,y=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,y=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const l=this.map.painter.context;this.texture?(y||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new n.Texture(l,this.canvas,l.gl.RGBA,{premultiply:!0}),this._prepareData(l)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const y of[this.canvas.width,this.canvas.height])if(isNaN(y)||y<=0)return!0;return!1}},custom:class extends n.Evented{constructor(y,l,u,w){super(),this.id=y,this.type="custom",this._dataType="raster",this._dispatcher=u,this._implementation=l,this.setEventedParent(w),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new n.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new n.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new ye(this._implementation.bounds,this.minzoom,this.maxzoom)),l.update=this._update.bind(this),l.clearTiles=this._clearTiles.bind(this),l.coveringTiles=this._coveringTiles.bind(this),n.extend(this,n.pick(l,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return n.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(y){this._map=y,this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(y),this.load()}onRemove(y){this._implementation.onRemove&&this._implementation.onRemove(y)}hasTile(y){if(this._implementation.hasTile){const{x:l,y:u,z:w}=y.canonical;return this._implementation.hasTile({x:l,y:u,z:w})}return!this.tileBounds||this.tileBounds.contains(y.canonical)}loadTile(y,l){const{x:u,y:w,z:R}=y.tileID.canonical,F=new n.window.AbortController;y.request=Promise.resolve(this._implementation.loadTile({x:u,y:w,z:R},{signal:F.signal})).then((function(se){return delete y.request,y.aborted?(y.state="unloaded",l(null)):se===void 0?(y.state="errored",l(null)):se===null?(this.loadTileData(y,{width:this.tileSize,height:this.tileSize,data:null}),y.state="loaded",l(null)):function(he){return he instanceof n.window.ImageData||he instanceof n.window.HTMLCanvasElement||he instanceof n.window.ImageBitmap||he instanceof n.window.HTMLImageElement}(se)?(this.loadTileData(y,se),y.state="loaded",void l(null)):(y.state="errored",l(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}).bind(this)).catch(se=>{se.code!==20&&(y.state="errored",l(se))}),y.request.cancel=()=>F.abort()}loadTileData(y,l){We.loadTileData(y,l,this._map.painter)}unloadTileData(y){We.unloadTileData(y,this._map.painter)}unloadTile(y,l){if(this.unloadTileData(y),this._implementation.unloadTile){const{x:u,y:w,z:R}=y.tileID.canonical;this._implementation.unloadTile({x:u,y:w,z:R})}l()}abortTile(y,l){y.request&&y.request.cancel&&(y.request.cancel(),delete y.request),l()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(y=>({x:y.canonical.x,y:y.canonical.y,z:y.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Mt=function(y,l,u,w){const R=new Nt[l.type](y,l,u,w);if(R.id!==y)throw new Error(`Expected Source id to be ${y} instead of ${R.id}`);return n.bindAll(["load","abort","unload","serialize","prepare"],R),R};function Lt(y,l){const u=n.identity([]);return n.scale(u,u,[.5*y.width,.5*-y.height,1]),n.translate(u,u,[1,-1,0]),n.multiply(u,u,y.calculateProjMatrix(l.toUnwrapped())),Float32Array.from(u)}function Ut(y,l,u,w,R,F,se,he=!1){const fe=y.tilesIn(w,se,he);fe.sort(Gi);const De=[];for(const je of fe)De.push({wrappedTileID:je.tile.tileID.wrapped().key,queryResults:je.tile.queryRenderedFeatures(l,u,y._state,je,R,F,Lt(y.transform,je.tile.tileID),he)});const ke=function(je){const Ze={},at={};for(const lt of je){const ht=lt.queryResults,et=lt.wrappedTileID,nt=at[et]=at[et]||{};for(const ft in ht){const ct=ht[ft],bt=nt[ft]=nt[ft]||{},It=Ze[ft]=Ze[ft]||[];for(const Ct of ct)bt[Ct.featureIndex]||(bt[Ct.featureIndex]=!0,It.push(Ct))}}return Ze}(De);for(const je in ke)ke[je].forEach(Ze=>{const at=Ze.feature,lt=at.layer;lt&&lt.type!=="background"&&lt.type!=="sky"&&(at.source=lt.source,lt["source-layer"]&&(at.sourceLayer=lt["source-layer"]),at.state=at.id!==void 0?y.getFeatureState(lt["source-layer"],at.id):{})});return ke}function mi(y,l){const u=y.getRenderableIds().map(F=>y.getTileByID(F)),w=[],R={};for(let F=0;F<u.length;F++){const se=u[F],he=se.tileID.canonical.key;R[he]||(R[he]=!0,se.querySourceFeatures(w,l))}return w}function Gi(y,l){const u=y.tileID,w=l.tileID;return u.overscaledZ-w.overscaledZ||u.canonical.y-w.canonical.y||u.wrap-w.wrap||u.canonical.x-w.canonical.x}function Mi(){return Id.workerClass!=null?new Id.workerClass:new n.window.Worker(Id.workerUrl)}const yn="mapboxgl_preloaded_worker_pool";class _n{constructor(){this.active={}}acquire(l){if(!this.workers)for(this.workers=[];this.workers.length<_n.workerCount;)this.workers.push(new Mi);return this.active[l]=!0,this.workers.slice()}release(l){delete this.active[l],this.numActive()===0&&(this.workers.forEach(u=>{u.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[yn]}numActive(){return Object.keys(this.active).length}}let an;function $i(){return an||(an=new _n),an}function Qn(y,l){const u={};for(const w in y)w!=="ref"&&(u[w]=y[w]);return n.refProperties.forEach(w=>{w in l&&(u[w]=l[w])}),u}function gs(y){y=y.slice();const l=Object.create(null);for(let u=0;u<y.length;u++)l[y[u].id]=y[u];for(let u=0;u<y.length;u++)"ref"in y[u]&&(y[u]=Qn(y[u],l[y[u].ref]));return y}_n.workerCount=2;const pn={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Rs(y,l,u){u.push({command:pn.addSource,args:[y,l[y]]})}function xs(y,l,u){l.push({command:pn.removeSource,args:[y]}),u[y]=!0}function ma(y,l,u,w){xs(y,u,w),Rs(y,l,u)}function ga(y,l,u){let w;for(w in y[u])if(y[u].hasOwnProperty(w)&&w!=="data"&&!x(y[u][w],l[u][w]))return!1;for(w in l[u])if(l[u].hasOwnProperty(w)&&w!=="data"&&!x(y[u][w],l[u][w]))return!1;return!0}function Xr(y,l,u,w,R,F){let se;for(se in l=l||{},y=y||{})y.hasOwnProperty(se)&&(x(y[se],l[se])||u.push({command:F,args:[w,se,l[se],R]}));for(se in l)l.hasOwnProperty(se)&&!y.hasOwnProperty(se)&&(x(y[se],l[se])||u.push({command:F,args:[w,se,l[se],R]}))}function di(y){return y.id}function Js(y,l){return y[l.id]=l,y}class _r{constructor(l,u){this.reset(l,u)}reset(l,u){this.points=l||[],this._distances=[0];for(let w=1;w<this.points.length;w++)this._distances[w]=this._distances[w-1]+this.points[w].dist(this.points[w-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(u||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(l){if(this.points.length===1)return this.points[0];l=n.clamp(l,0,1);let u=1,w=this._distances[u];const R=l*this.paddedLength+this.padding;for(;w<R&&u<this._distances.length;)w=this._distances[++u];const F=u-1,se=this._distances[F],he=w-se,fe=he>0?(R-se)/he:0;return this.points[F].mult(1-fe).add(this.points[u].mult(fe))}}class yr{constructor(l,u,w){const R=this.boxCells=[],F=this.circleCells=[];this.xCellCount=Math.ceil(l/w),this.yCellCount=Math.ceil(u/w);for(let se=0;se<this.xCellCount*this.yCellCount;se++)R.push([]),F.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=l,this.height=u,this.xScale=this.xCellCount/l,this.yScale=this.yCellCount/u,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(l,u,w,R,F){this._forEachCell(u,w,R,F,this._insertBoxCell,this.boxUid++),this.boxKeys.push(l),this.bboxes.push(u),this.bboxes.push(w),this.bboxes.push(R),this.bboxes.push(F)}insertCircle(l,u,w,R){this._forEachCell(u-R,w-R,u+R,w+R,this._insertCircleCell,this.circleUid++),this.circleKeys.push(l),this.circles.push(u),this.circles.push(w),this.circles.push(R)}_insertBoxCell(l,u,w,R,F,se){this.boxCells[F].push(se)}_insertCircleCell(l,u,w,R,F,se){this.circleCells[F].push(se)}_query(l,u,w,R,F,se){if(w<0||l>this.width||R<0||u>this.height)return!F&&[];const he=[];if(l<=0&&u<=0&&this.width<=w&&this.height<=R){if(F)return!0;for(let fe=0;fe<this.boxKeys.length;fe++)he.push({key:this.boxKeys[fe],x1:this.bboxes[4*fe],y1:this.bboxes[4*fe+1],x2:this.bboxes[4*fe+2],y2:this.bboxes[4*fe+3]});for(let fe=0;fe<this.circleKeys.length;fe++){const De=this.circles[3*fe],ke=this.circles[3*fe+1],je=this.circles[3*fe+2];he.push({key:this.circleKeys[fe],x1:De-je,y1:ke-je,x2:De+je,y2:ke+je})}return se?he.filter(se):he}return this._forEachCell(l,u,w,R,this._queryCell,he,{hitTest:F,seenUids:{box:{},circle:{}}},se),F?he.length>0:he}_queryCircle(l,u,w,R,F){const se=l-w,he=l+w,fe=u-w,De=u+w;if(he<0||se>this.width||De<0||fe>this.height)return!R&&[];const ke=[];return this._forEachCell(se,fe,he,De,this._queryCellCircle,ke,{hitTest:R,circle:{x:l,y:u,radius:w},seenUids:{box:{},circle:{}}},F),R?ke.length>0:ke}query(l,u,w,R,F){return this._query(l,u,w,R,!1,F)}hitTest(l,u,w,R,F){return this._query(l,u,w,R,!0,F)}hitTestCircle(l,u,w,R){return this._queryCircle(l,u,w,!0,R)}_queryCell(l,u,w,R,F,se,he,fe){const De=he.seenUids,ke=this.boxCells[F];if(ke!==null){const Ze=this.bboxes;for(const at of ke)if(!De.box[at]){De.box[at]=!0;const lt=4*at;if(l<=Ze[lt+2]&&u<=Ze[lt+3]&&w>=Ze[lt+0]&&R>=Ze[lt+1]&&(!fe||fe(this.boxKeys[at]))){if(he.hitTest)return se.push(!0),!0;se.push({key:this.boxKeys[at],x1:Ze[lt],y1:Ze[lt+1],x2:Ze[lt+2],y2:Ze[lt+3]})}}}const je=this.circleCells[F];if(je!==null){const Ze=this.circles;for(const at of je)if(!De.circle[at]){De.circle[at]=!0;const lt=3*at;if(this._circleAndRectCollide(Ze[lt],Ze[lt+1],Ze[lt+2],l,u,w,R)&&(!fe||fe(this.circleKeys[at]))){if(he.hitTest)return se.push(!0),!0;{const ht=Ze[lt],et=Ze[lt+1],nt=Ze[lt+2];se.push({key:this.circleKeys[at],x1:ht-nt,y1:et-nt,x2:ht+nt,y2:et+nt})}}}}}_queryCellCircle(l,u,w,R,F,se,he,fe){const De=he.circle,ke=he.seenUids,je=this.boxCells[F];if(je!==null){const at=this.bboxes;for(const lt of je)if(!ke.box[lt]){ke.box[lt]=!0;const ht=4*lt;if(this._circleAndRectCollide(De.x,De.y,De.radius,at[ht+0],at[ht+1],at[ht+2],at[ht+3])&&(!fe||fe(this.boxKeys[lt])))return se.push(!0),!0}}const Ze=this.circleCells[F];if(Ze!==null){const at=this.circles;for(const lt of Ze)if(!ke.circle[lt]){ke.circle[lt]=!0;const ht=3*lt;if(this._circlesCollide(at[ht],at[ht+1],at[ht+2],De.x,De.y,De.radius)&&(!fe||fe(this.circleKeys[lt])))return se.push(!0),!0}}}_forEachCell(l,u,w,R,F,se,he,fe){const De=this._convertToXCellCoord(l),ke=this._convertToYCellCoord(u),je=this._convertToXCellCoord(w),Ze=this._convertToYCellCoord(R);for(let at=De;at<=je;at++)for(let lt=ke;lt<=Ze;lt++)if(F.call(this,l,u,w,R,this.xCellCount*lt+at,se,he,fe))return}_convertToXCellCoord(l){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(l*this.xScale)))}_convertToYCellCoord(l){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(l*this.yScale)))}_circlesCollide(l,u,w,R,F,se){const he=R-l,fe=F-u,De=w+se;return De*De>he*he+fe*fe}_circleAndRectCollide(l,u,w,R,F,se,he){const fe=(se-R)/2,De=Math.abs(l-(R+fe));if(De>fe+w)return!1;const ke=(he-F)/2,je=Math.abs(u-(F+ke));if(je>ke+w)return!1;if(De<=fe||je<=ke)return!0;const Ze=De-fe,at=je-ke;return Ze*Ze+at*at<=w*w}}const Gl=Math.tan(85*Math.PI/180);function oo(y,l,u,w,R,F,se){const he=n.create();if(u)if(F.name==="globe"){const fe=n.calculateGlobeLabelMatrix(R,l);n.multiply(he,he,fe)}else{const fe=N([],se);he[0]=fe[0],he[1]=fe[1],he[4]=fe[2],he[5]=fe[3],w||n.rotateZ(he,he,R.angle)}else n.multiply(he,R.labelPlaneMatrix,y);return he}function gc(y,l,u,w,R,F,se){const he=oo(y,l,u,w,R,F,se);return F.name==="globe"&&u||(he[2]=he[6]=he[10]=he[14]=0),he}function Ed(y,l,u,w,R,F,se){if(u){if(F.name==="globe"){const he=oo(y,l,u,w,R,F,se);return n.invert(he,he),n.multiply(he,y,he),he}{const he=n.clone(y),fe=n.identity([]);return fe[0]=se[0],fe[1]=se[1],fe[4]=se[2],fe[5]=se[3],n.multiply(he,he,fe),w||n.rotateZ(he,he,-R.angle),he}}return R.glCoordMatrix}function Vr(y,l,u,w){const R=[y,l,u,1];u?n.transformMat4$1(R,R,w):Ds(R,R,w);const F=R[3];return R[0]/=F,R[1]/=F,R[2]/=F,R}function Hi(y,l){return Math.min(.5+y/l*.5,1.5)}function Vn(y,l){const u=y[0]/y[3],w=y[1]/y[3];return u>=-l[0]&&u<=l[0]&&w>=-l[1]&&w<=l[1]}function es(y,l,u,w,R,F,se,he,fe,De){const ke=u.transform,je=w?y.textSizeData:y.iconSizeData,Ze=n.evaluateSizeForZoom(je,u.transform.zoom),at=ke.projection.name==="globe",lt=[256/u.width*2+1,256/u.height*2+1],ht=w?y.text.dynamicLayoutVertexArray:y.icon.dynamicLayoutVertexArray;ht.clear();let et=null;at&&(et=w?y.text.globeExtVertexArray:y.icon.globeExtVertexArray);const nt=y.lineVertexArray,ft=w?y.text.placedSymbolArray:y.icon.placedSymbolArray,ct=u.transform.width/u.transform.height;let bt,It=!1;for(let Ct=0;Ct<ft.length;Ct++){const jt=ft.get(Ct),{numGlyphs:Qt,writingMode:Zt}=jt;if(Zt!==n.WritingMode.vertical||It||bt===n.WritingMode.horizontal||(It=!0),bt=Zt,(jt.hidden||Zt===n.WritingMode.vertical)&&!It){Or(Qt,ht);continue}It=!1;const Vt=new n.pointGeometry(jt.tileAnchorX,jt.tileAnchorY);let{x:Si,y:qt,z:pi}=ke.projection.projectTilePoint(Vt.x,Vt.y,De.canonical);if(fe){const[gn,hn,Pn]=fe(Vt);Si+=gn,qt+=hn,pi+=Pn}const ti=[Si,qt,pi,1];if(n.transformMat4$1(ti,ti,l),!Vn(ti,lt)){Or(Qt,ht);continue}const Pi=Hi(u.transform.cameraToCenterDistance,ti[3]),ii=n.evaluateSizeForFeature(je,Ze,jt),vi=se?ii/Pi:ii*Pi,Ri=Vr(Si,qt,pi,R);if(Ri[3]<=0){Or(Qt,ht);continue}let Ht={};const ei=se?null:fe,dn=An(jt,vi,!1,he,l,R,F,y.glyphOffsetArray,nt,ht,et,Ri,Vt,Ht,ct,ei,ke.projection,De,se);It=dn.useVertical,ei&&dn.needsFlipping&&(Ht={}),(dn.notEnoughRoom||It||dn.needsFlipping&&An(jt,vi,!0,he,l,R,F,y.glyphOffsetArray,nt,ht,et,Ri,Vt,Ht,ct,ei,ke.projection,De,se).notEnoughRoom)&&Or(Qt,ht)}w?(y.text.dynamicLayoutVertexBuffer.updateData(ht),et&&y.text.globeExtVertexBuffer.updateData(et)):(y.icon.dynamicLayoutVertexBuffer.updateData(ht),et&&y.icon.globeExtVertexBuffer.updateData(et))}function Eo(y,l,u,w,R,F,se,he,fe,De,ke,je,Ze,at,lt,ht){const{lineStartIndex:et,glyphStartIndex:nt,segment:ft}=he,ct=nt+he.numGlyphs,bt=et+he.lineLength,It=l.getoffsetX(nt),Ct=l.getoffsetX(ct-1),jt=ka(y*It,u,w,R,F,se,ft,et,bt,fe,De,ke,je,Ze,!0,at,lt,ht);if(!jt)return null;const Qt=ka(y*Ct,u,w,R,F,se,ft,et,bt,fe,De,ke,je,Ze,!0,at,lt,ht);return Qt?{first:jt,last:Qt}:null}function _a(y,l,u,w){return y===n.WritingMode.horizontal&&Math.abs(w)>Math.abs(u)?{useVertical:!0}:y===n.WritingMode.vertical?w>0?{needsFlipping:!0}:null:l!==0&&function(R,F){return R===0||Math.abs(F/R)>Gl}(u,w)?l===1?{needsFlipping:!0}:null:u<0?{needsFlipping:!0}:null}function An(y,l,u,w,R,F,se,he,fe,De,ke,je,Ze,at,lt,ht,et,nt,ft){const ct=l/24,bt=y.lineOffsetX*ct,It=y.lineOffsetY*ct,{lineStartIndex:Ct,glyphStartIndex:jt,numGlyphs:Qt,segment:Zt,writingMode:Vt,flipState:Si}=y,qt=Ct+y.lineLength,pi=ti=>{if(ke){const[Ri,Ht,ei]=ti.up,dn=De.length;n.updateGlobeVertexNormal(ke,dn+0,Ri,Ht,ei),n.updateGlobeVertexNormal(ke,dn+1,Ri,Ht,ei),n.updateGlobeVertexNormal(ke,dn+2,Ri,Ht,ei),n.updateGlobeVertexNormal(ke,dn+3,Ri,Ht,ei)}const[Pi,ii,vi]=ti.point;n.addDynamicAttributes(De,Pi,ii,vi,ti.angle)};if(Qt>1){const ti=Eo(ct,he,bt,It,u,je,Ze,y,fe,F,at,ht,!1,et,nt,ft);if(!ti)return{notEnoughRoom:!0};if(w&&!u){let[Pi,ii,vi]=ti.first.point,[Ri,Ht,ei]=ti.last.point;[Pi,ii]=Vr(Pi,ii,vi,se),[Ri,Ht]=Vr(Ri,Ht,ei,se);const dn=_a(Vt,Si,(Ri-Pi)*lt,Ht-ii);if(y.flipState=dn&&dn.needsFlipping?1:2,dn)return dn}pi(ti.first);for(let Pi=jt+1;Pi<jt+Qt-1;Pi++){const ii=ka(ct*he.getoffsetX(Pi),bt,It,u,je,Ze,Zt,Ct,qt,fe,F,at,ht,!1,!1,et,nt,ft);if(!ii)return De.length-=4*(Pi-jt),{notEnoughRoom:!0};pi(ii)}pi(ti.last)}else{if(w&&!u){const Pi=Vr(Ze.x,Ze.y,0,R),ii=Ct+Zt+1,vi=new n.pointGeometry(fe.getx(ii),fe.gety(ii)),Ri=Vr(vi.x,vi.y,0,R),Ht=Ri[3]>0?Ri:Jo(Ze,vi,Pi,1,R,void 0,et,nt.canonical),ei=_a(Vt,Si,(Ht[0]-Pi[0])*lt,Ht[1]-Pi[1]);if(y.flipState=ei&&ei.needsFlipping?1:2,ei)return ei}const ti=ka(ct*he.getoffsetX(jt),bt,It,u,je,Ze,Zt,Ct,qt,fe,F,at,ht,!1,!1,et,nt,ft);if(!ti)return{notEnoughRoom:!0};pi(ti)}return{}}function Vl(y,l,u,w,R){const{x:F,y:se,z:he}=w.projectTilePoint(y.x,y.y,l);if(!R)return Vr(F,se,he,u);const[fe,De,ke]=R(y);return Vr(F+fe,se+De,he+ke,u)}function Jo(y,l,u,w,R,F,se,he){const fe=Vl(y.sub(l)._unit()._add(y),he,R,se,F);return n.sub(fe,u,fe),n.normalize(fe,fe),n.scaleAndAdd(fe,u,fe,w)}function ka(y,l,u,w,R,F,se,he,fe,De,ke,je,Ze,at,lt,ht,et,nt){const ft=w?y-l:y+l;let ct=ft>0?1:-1,bt=0;w&&(ct*=-1,bt=Math.PI),ct<0&&(bt+=Math.PI);let It=he+se+(ct>0?0:1)|0,Ct=R,jt=R,Qt=0,Zt=0;const Vt=Math.abs(ft),Si=[],qt=[];let pi=F,ti=pi;const Pi=()=>Jo(ti,pi,jt,Vt-Qt+1,ke,Ze,ht,et.canonical);for(;Qt+Zt<=Vt;){if(It+=ct,It<he||It>=fe)return null;if(jt=Ct,ti=pi,Si.push(jt),at&&qt.push(ti),pi=new n.pointGeometry(De.getx(It),De.gety(It)),Ct=je[It],!Ct){const Pn=Vl(pi,et.canonical,ke,ht,Ze);Ct=Pn[3]>0?je[It]=Pn:Pi()}Qt+=Zt,Zt=n.distance(jt,Ct)}lt&&Ze&&(je[It]&&(Ct=Pi(),Zt=n.distance(jt,Ct)),je[It]=Ct);const ii=(Vt-Qt)/Zt,vi=pi.sub(ti)._mult(ii)._add(ti),Ri=n.sub([],Ct,jt),Ht=n.scaleAndAdd([],jt,Ri,ii);let ei=[0,0,1],dn=Ri[0],gn=Ri[1];if(nt&&(ei=ht.upVector(et.canonical,vi.x,vi.y),ei[0]!==0||ei[1]!==0||ei[2]!==1)){const Pn=[ei[2],0,-ei[0]],Zn=n.cross([],ei,Pn);n.normalize(Pn,Pn),n.normalize(Zn,Zn),dn=n.dot(Ri,Pn),gn=n.dot(Ri,Zn)}if(u){const Pn=n.cross([],ei,Ri);n.normalize(Pn,Pn),n.scaleAndAdd(Ht,Ht,Pn,u*ct)}const hn=bt+Math.atan2(gn,dn);return Si.push(Ht),at&&qt.push(vi),{point:Ht,angle:hn,path:Si,tilePath:qt,up:ei}}function Or(y,l){const u=l.length,w=u+4*y;l.resize(w),l.float32.fill(-1/0,4*u,4*w)}function Ds(y,l,u){const w=l[0],R=l[1];return y[0]=u[0]*w+u[4]*R+u[12],y[1]=u[1]*w+u[5]*R+u[13],y[3]=u[3]*w+u[7]*R+u[15],y}const Hr=100;class yo{constructor(l,u,w=new yr(l.width+200,l.height+200,25),R=new yr(l.width+200,l.height+200,25)){this.transform=l,this.grid=w,this.ignoredGrid=R,this.pitchfactor=Math.cos(l._pitch)*l.cameraToCenterDistance,this.screenRightBoundary=l.width+Hr,this.screenBottomBoundary=l.height+Hr,this.gridRightBoundary=l.width+200,this.gridBottomBoundary=l.height+200,this.fogState=u}placeCollisionBox(l,u,w,R,F,se,he,fe){let De=w.projectedAnchorX,ke=w.projectedAnchorY,je=w.projectedAnchorZ;const Ze=w.elevation,at=w.tileID,lt=l.getProjection();if(Ze&&at){const[Ct,jt,Qt]=lt.upVector(at.canonical,w.tileAnchorX,w.tileAnchorY),Zt=lt.upVectorScale(at.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;De+=Ct*Ze*Zt,ke+=jt*Ze*Zt,je+=Qt*Ze*Zt}const ht=this.projectAndGetPerspectiveRatio(he,De,ke,je,w.tileID,lt.name==="globe"||!!Ze||this.transform.pitch>0,lt),et=se*ht.perspectiveRatio,nt=(w.x1*u+R.x-w.padding)*et+ht.point.x,ft=(w.y1*u+R.y-w.padding)*et+ht.point.y,ct=(w.x2*u+R.x+w.padding)*et+ht.point.x,bt=(w.y2*u+R.y+w.padding)*et+ht.point.y,It=ht.perspectiveRatio<=.55||ht.occluded;return!this.isInsideGrid(nt,ft,ct,bt)||!F&&this.grid.hitTest(nt,ft,ct,bt,fe)||It?{box:[],offscreen:!1,occluded:ht.occluded}:{box:[nt,ft,ct,bt],offscreen:this.isOffscreen(nt,ft,ct,bt),occluded:!1}}placeCollisionCircles(l,u,w,R,F,se,he,fe,De,ke,je,Ze,at,lt,ht){const et=[],nt=this.transform.elevation,ft=l.getProjection(),ct=nt?nt.getAtTileOffsetFunc(ht,this.transform.center.lat,this.transform.worldSize,ft):null,bt=new n.pointGeometry(w.tileAnchorX,w.tileAnchorY);let{x:It,y:Ct,z:jt}=ft.projectTilePoint(bt.x,bt.y,ht.canonical);if(ct){const[vi,Ri,Ht]=ct(bt);It+=vi,Ct+=Ri,jt+=Ht}const Qt=ft.name==="globe",Zt=this.projectAndGetPerspectiveRatio(he,It,Ct,jt,ht,Qt||!!nt||this.transform.pitch>0,ft),{perspectiveRatio:Vt}=Zt,Si=(je?se/Vt:se*Vt)/n.ONE_EM,qt=Vr(It,Ct,jt,fe),pi=Zt.signedDistanceFromCamera>0?Eo(Si,F,w.lineOffsetX*Si,w.lineOffsetY*Si,!1,qt,bt,w,R,fe,{},nt&&!je?ct:null,je&&!!nt,ft,ht,je):null;let ti=!1,Pi=!1,ii=!0;if(pi&&!Zt.occluded){const vi=.5*at*Vt+lt,Ri=new n.pointGeometry(-100,-100),Ht=new n.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),ei=new _r,{first:dn,last:gn}=pi,hn=dn.path.length;let Pn=[];for(let tn=hn-1;tn>=1;tn--)Pn.push(dn.path[tn]);for(let tn=1;tn<gn.path.length;tn++)Pn.push(gn.path[tn]);const Zn=2.5*vi;De&&(Pn=Pn.map(([tn,Gs,Is],Hs)=>(ct&&!Qt&&(Is=ct(Hs<hn-1?dn.tilePath[hn-1-Hs]:gn.tilePath[Hs-hn+2])[2]),Vr(tn,Gs,Is,De))),Pn.some(tn=>tn[3]<=0)&&(Pn=[]));let xn=[];if(Pn.length>0){let tn=1/0,Gs=-1/0,Is=1/0,Hs=-1/0;for(const Us of Pn)tn=Math.min(tn,Us[0]),Is=Math.min(Is,Us[1]),Gs=Math.max(Gs,Us[0]),Hs=Math.max(Hs,Us[1]);Gs>=Ri.x&&tn<=Ht.x&&Hs>=Ri.y&&Is<=Ht.y&&(xn=[Pn.map(Us=>new n.pointGeometry(Us[0],Us[1]))],(tn<Ri.x||Gs>Ht.x||Is<Ri.y||Hs>Ht.y)&&(xn=n.clipLine(xn,Ri.x,Ri.y,Ht.x,Ht.y)))}for(const tn of xn){ei.reset(tn,.25*vi);let Gs=0;Gs=ei.length<=.5*vi?1:Math.ceil(ei.paddedLength/Zn)+1;for(let Is=0;Is<Gs;Is++){const Hs=Is/Math.max(Gs-1,1),Us=ei.lerp(Hs),va=Us.x+Hr,ta=Us.y+Hr;et.push(va,ta,vi,0);const Vo=va-vi,Pl=ta-vi,tr=va+vi,$s=ta+vi;if(ii=ii&&this.isOffscreen(Vo,Pl,tr,$s),Pi=Pi||this.isInsideGrid(Vo,Pl,tr,$s),!u&&this.grid.hitTestCircle(va,ta,vi,Ze)&&(ti=!0,!ke))return{circles:[],offscreen:!1,collisionDetected:ti,occluded:!1}}}}return{circles:!ke&&ti||!Pi?[]:et,offscreen:ii,collisionDetected:ti,occluded:Zt.occluded}}queryRenderedSymbols(l){if(l.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const u=[];let w=1/0,R=1/0,F=-1/0,se=-1/0;for(const ke of l){const je=new n.pointGeometry(ke.x+Hr,ke.y+Hr);w=Math.min(w,je.x),R=Math.min(R,je.y),F=Math.max(F,je.x),se=Math.max(se,je.y),u.push(je)}const he=this.grid.query(w,R,F,se).concat(this.ignoredGrid.query(w,R,F,se)),fe={},De={};for(const ke of he){const je=ke.key;if(fe[je.bucketInstanceId]===void 0&&(fe[je.bucketInstanceId]={}),fe[je.bucketInstanceId][je.featureIndex])continue;const Ze=[new n.pointGeometry(ke.x1,ke.y1),new n.pointGeometry(ke.x2,ke.y1),new n.pointGeometry(ke.x2,ke.y2),new n.pointGeometry(ke.x1,ke.y2)];n.polygonIntersectsPolygon(u,Ze)&&(fe[je.bucketInstanceId][je.featureIndex]=!0,De[je.bucketInstanceId]===void 0&&(De[je.bucketInstanceId]=[]),De[je.bucketInstanceId].push(je.featureIndex))}return De}insertCollisionBox(l,u,w,R,F){(u?this.ignoredGrid:this.grid).insert({bucketInstanceId:w,featureIndex:R,collisionGroupID:F},l[0],l[1],l[2],l[3])}insertCollisionCircles(l,u,w,R,F){const se=u?this.ignoredGrid:this.grid,he={bucketInstanceId:w,featureIndex:R,collisionGroupID:F};for(let fe=0;fe<l.length;fe+=4)se.insertCircle(he,l[fe],l[fe+1],l[fe+2])}projectAndGetPerspectiveRatio(l,u,w,R,F,se,he){const fe=[u,w,R,1];let De=!1;if(R||this.transform.pitch>0){n.transformMat4$1(fe,fe,l);const je=he.name==="globe";this.fogState&&F&&!je&&(De=function(at,lt,ht,et,nt,ft){const ct=ft.calculateFogTileMatrix(nt),bt=[lt,ht,et];return n.transformMat4(bt,bt,ct),X(at,bt,ft.pitch,ft._fov)}(this.fogState,u,w,R,F.toUnwrapped(),this.transform)>.9)}else Ds(fe,fe,l);const ke=fe[3];return{point:new n.pointGeometry((fe[0]/ke+1)/2*this.transform.width+Hr,(-fe[1]/ke+1)/2*this.transform.height+Hr),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(he)/ke*.5,1.5),signedDistanceFromCamera:ke,occluded:se&&fe[2]>ke||De}}isOffscreen(l,u,w,R){return w<Hr||l>=this.screenRightBoundary||R<Hr||u>this.screenBottomBoundary}isInsideGrid(l,u,w,R){return w>=0&&l<this.gridRightBoundary&&R>=0&&u<this.gridBottomBoundary}getViewportMatrix(){const l=n.identity([]);return n.translate(l,l,[-100,-100,0]),l}}function ml(y,l,u){const w=l.createTileMatrix(y,y.worldSize,u.toUnwrapped());return n.multiply(new Float32Array(16),y.projMatrix,w)}function Fo(y,l,u){if(l.projection.name===u.projection.name)return y.projMatrix;const w=u.clone();return w.setProjection(l.projection),ml(w,l.getProjection(),y)}function Ha(y,l,u){return l.name===u.projection.name?y.projMatrix:ml(u,l,y)}class Wa{constructor(l,u,w,R){this.opacity=l?Math.max(0,Math.min(1,l.opacity+(l.placed?u:-u))):R&&w?1:0,this.placed=w}isHidden(){return this.opacity===0&&!this.placed}}class Pa{constructor(l,u,w,R,F,se=!1){this.text=new Wa(l?l.text:null,u,w,F),this.icon=new Wa(l?l.icon:null,u,R,F),this.clipped=se}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ya{constructor(l,u,w,R=!1){this.text=l,this.icon=u,this.skipFade=w,this.clipped=R}}class _c{constructor(){this.invProjMatrix=n.create(),this.viewportMatrix=n.create(),this.circles=[]}}class yc{constructor(l,u,w,R,F){this.bucketInstanceId=l,this.featureIndex=u,this.sourceLayerIndex=w,this.bucketIndex=R,this.tileID=F}}class po{constructor(l){this.crossSourceCollisions=l,this.maxGroupID=0,this.collisionGroups={}}get(l){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[l]){const u=++this.maxGroupID;this.collisionGroups[l]={ID:u,predicate:w=>w.collisionGroupID===u}}return this.collisionGroups[l]}}function pr(y,l,u,w,R){const{horizontalAlign:F,verticalAlign:se}=n.getAnchorAlignment(y),he=-(F-.5)*l,fe=-(se-.5)*u,De=n.evaluateVariableOffset(y,w);return new n.pointGeometry(he+De[0]*R,fe+De[1]*R)}function gl(y,l,u,w,R){const F=new n.pointGeometry(y,l);return u&&F._rotate(w?R:-R),F}class Da{constructor(l,u,w,R,F){this.transform=l.clone(),this.projection=l.projection.name,this.collisionIndex=new yo(this.transform,F),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=u,this.retainedQueryData={},this.collisionGroups=new po(w),this.collisionCircleArrays={},this.prevPlacement=R,R&&(R.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(l,u,w,R){const F=w.getBucket(u),se=w.latestFeatureIndex;if(!F||!se||u.id!==F.layerIds[0])return;const he=F.layers[0].layout,fe=w.collisionBoxArray,De=Math.pow(2,this.transform.zoom-w.tileID.overscaledZ),ke=w.tileSize/n.EXTENT,je=w.tileID.toUnwrapped();this.transform.setProjection(F.projection);const Ze=(at=w.tileID,lt=F.getProjection(),ht=this.transform,lt.name===this.projection?ht.calculateProjMatrix(at.toUnwrapped()):ml(ht,lt,at));var at,lt,ht;const et=he.get("text-pitch-alignment")==="map",nt=he.get("text-rotation-alignment")==="map";u.compileFilter();const ft=u.dynamicFilter(),ct=u.dynamicFilterNeedsFeature(),bt=this.transform.calculatePixelsToTileUnitsMatrix(w),It=gc(Ze,w.tileID.canonical,et,nt,this.transform,F.getProjection(),bt);let Ct=null;if(et){const Zt=Ed(Ze,w.tileID.canonical,et,nt,this.transform,F.getProjection(),bt);Ct=n.multiply([],this.transform.labelPlaneMatrix,Zt)}let jt=null;ft&&w.latestFeatureIndex&&(jt={unwrappedTileID:je,dynamicFilter:ft,dynamicFilterNeedsFeature:ct,featureIndex:w.latestFeatureIndex}),this.retainedQueryData[F.bucketInstanceId]=new yc(F.bucketInstanceId,se,F.sourceLayerIndex,F.index,w.tileID);const Qt={bucket:F,layout:he,posMatrix:Ze,textLabelPlaneMatrix:It,labelToScreenMatrix:Ct,clippingData:jt,scale:De,textPixelRatio:ke,holdingForFade:w.holdingForFade(),collisionBoxArray:fe,partiallyEvaluatedTextSize:n.evaluateSizeForZoom(F.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:n.evaluateSizeForZoom(F.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(F.sourceID)};if(R)for(const Zt of F.sortKeyRanges){const{sortKey:Vt,symbolInstanceStart:Si,symbolInstanceEnd:qt}=Zt;l.push({sortKey:Vt,symbolInstanceStart:Si,symbolInstanceEnd:qt,parameters:Qt})}else l.push({symbolInstanceStart:0,symbolInstanceEnd:F.symbolInstances.length,parameters:Qt})}attemptAnchorPlacement(l,u,w,R,F,se,he,fe,De,ke,je,Ze,at,lt,ht,et,nt,ft){const{textOffset0:ct,textOffset1:bt,crossTileID:It}=Ze,Ct=[ct,bt],jt=pr(l,w,R,Ct,F),Qt=this.collisionIndex.placeCollisionBox(lt,F,u,gl(jt.x,jt.y,se,he,this.transform.angle),je,fe,De,ke.predicate);if(et){const Zt=lt.getSymbolInstanceIconSize(ft,this.transform.zoom,Ze.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(lt,Zt,et,gl(jt.x,jt.y,se,he,this.transform.angle),je,fe,De,ke.predicate).box.length===0)return}if(Qt.box.length>0){let Zt;return this.prevPlacement&&this.prevPlacement.variableOffsets[It]&&this.prevPlacement.placements[It]&&this.prevPlacement.placements[It].text&&(Zt=this.prevPlacement.variableOffsets[It].anchor),this.variableOffsets[It]={textOffset:Ct,width:w,height:R,anchor:l,textScale:F,prevAnchor:Zt},this.markUsedJustification(lt,l,Ze,ht),lt.allowVerticalPlacement&&(this.markUsedOrientation(lt,ht,Ze),this.placedOrientations[It]=ht),{shift:jt,placedGlyphBoxes:Qt}}}placeLayerBucketPart(l,u,w,R){const{bucket:F,layout:se,posMatrix:he,textLabelPlaneMatrix:fe,labelToScreenMatrix:De,clippingData:ke,textPixelRatio:je,holdingForFade:Ze,collisionBoxArray:at,partiallyEvaluatedTextSize:lt,partiallyEvaluatedIconSize:ht,collisionGroup:et}=l.parameters,nt=se.get("text-optional"),ft=se.get("icon-optional"),ct=se.get("text-allow-overlap"),bt=se.get("icon-allow-overlap"),It=se.get("text-rotation-alignment")==="map",Ct=se.get("text-pitch-alignment")==="map",jt=se.get("icon-text-fit")!=="none",Qt=se.get("symbol-z-order")==="viewport-y";this.transform.setProjection(F.projection);let Zt=ct&&(bt||!F.hasIconData()||ft),Vt=bt&&(ct||!F.hasTextData()||nt);!F.collisionArrays&&at&&F.deserializeCollisionBoxes(at),w&&R&&F.updateCollisionDebugBuffers(this.transform.zoom,at);const Si=(qt,pi,ti)=>{const{crossTileID:Pi,numVerticalGlyphVertices:ii}=qt;if(ke){const tr={zoom:this.transform.zoom,pitch:this.transform.pitch};let $s=null;if(ke.dynamicFilterNeedsFeature){const Ms=this.retainedQueryData[F.bucketInstanceId];$s=ke.featureIndex.loadFeature({featureIndex:qt.featureIndex,bucketIndex:Ms.bucketIndex,sourceLayerIndex:Ms.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,ke.dynamicFilter)(tr,$s,this.retainedQueryData[F.bucketInstanceId].tileID.canonical,new n.pointGeometry(qt.tileAnchorX,qt.tileAnchorY),this.transform.calculateDistanceTileData(ke.unwrappedTileID)))return this.placements[Pi]=new Ya(!1,!1,!1,!0),void(u[Pi]=!0)}if(u[Pi])return;if(Ze)return void(this.placements[Pi]=new Ya(!1,!1,!1));let vi=!1,Ri=!1,Ht=!0,ei=!1,dn=!1,gn=null,hn={box:null,offscreen:null,occluded:null},Pn={box:null,offscreen:null,occluded:null},Zn=null,xn=null,tn=null,Gs=0,Is=0,Hs=0;ti.textFeatureIndex?Gs=ti.textFeatureIndex:qt.useRuntimeCollisionCircles&&(Gs=qt.featureIndex),ti.verticalTextFeatureIndex&&(Is=ti.verticalTextFeatureIndex);const Us=tr=>{tr.tileID=this.retainedQueryData[F.bucketInstanceId].tileID;const $s=this.transform.elevation;($s||tr.elevation)&&(tr.elevation=$s?$s.getAtTileOffset(tr.tileID,tr.tileAnchorX,tr.tileAnchorY):0)},va=ti.textBox;if(va){Us(va);const tr=Ms=>{let jr=n.WritingMode.horizontal;if(F.allowVerticalPlacement&&!Ms&&this.prevPlacement){const Io=this.prevPlacement.placedOrientations[Pi];Io&&(this.placedOrientations[Pi]=Io,jr=Io,this.markUsedOrientation(F,jr,qt))}return jr},$s=(Ms,jr)=>{if(F.allowVerticalPlacement&&ii>0&&ti.verticalTextBox){for(const Io of F.writingModes)if(Io===n.WritingMode.vertical?(hn=jr(),Pn=hn):hn=Ms(),hn&&hn.box&&hn.box.length)break}else hn=Ms()};if(se.get("text-variable-anchor")){let Ms=se.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Pi]){const ir=this.prevPlacement.variableOffsets[Pi];Ms.indexOf(ir.anchor)>0&&(Ms=Ms.filter(Ho=>Ho!==ir.anchor),Ms.unshift(ir.anchor))}const jr=(ir,Ho,jh)=>{const Dl=F.getSymbolInstanceTextSize(lt,qt,this.transform.zoom,pi),Lo=(ir.x2-ir.x1)*Dl+2*ir.padding,xa=(ir.y2-ir.y1)*Dl+2*ir.padding,Jl=jt&&!bt?Ho:null;Jl&&Us(Jl);let Qa={box:[],offscreen:!1,occluded:!1};const ss=ct?2*Ms.length:Ms.length;for(let dh=0;dh<ss;++dh){const Ql=this.attemptAnchorPlacement(Ms[dh%Ms.length],ir,Lo,xa,Dl,It,Ct,je,he,et,dh>=Ms.length,qt,pi,F,jh,Jl,lt,ht);if(Ql&&(Qa=Ql.placedGlyphBoxes,Qa&&Qa.box&&Qa.box.length)){vi=!0,gn=Ql.shift;break}}return Qa};$s(()=>jr(va,ti.iconBox,n.WritingMode.horizontal),()=>{const ir=ti.verticalTextBox;return ir&&Us(ir),F.allowVerticalPlacement&&!(hn&&hn.box&&hn.box.length)&&ii>0&&ir?jr(ir,ti.verticalIconBox,n.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),hn&&(vi=hn.box,Ht=hn.offscreen,ei=hn.occluded);const Io=tr(hn&&hn.box);if(!vi&&this.prevPlacement){const ir=this.prevPlacement.variableOffsets[Pi];ir&&(this.variableOffsets[Pi]=ir,this.markUsedJustification(F,ir.anchor,qt,Io))}}else{const Ms=(jr,Io)=>{const ir=F.getSymbolInstanceTextSize(lt,qt,this.transform.zoom,pi),Ho=this.collisionIndex.placeCollisionBox(F,ir,jr,new n.pointGeometry(0,0),ct,je,he,et.predicate);return Ho&&Ho.box&&Ho.box.length&&(this.markUsedOrientation(F,Io,qt),this.placedOrientations[Pi]=Io),Ho};$s(()=>Ms(va,n.WritingMode.horizontal),()=>{const jr=ti.verticalTextBox;return F.allowVerticalPlacement&&ii>0&&jr?(Us(jr),Ms(jr,n.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),tr(hn&&hn.box&&hn.box.length)}}if(Zn=hn,vi=Zn&&Zn.box&&Zn.box.length>0,Ht=Zn&&Zn.offscreen,ei=Zn&&Zn.occluded,qt.useRuntimeCollisionCircles){const tr=F.text.placedSymbolArray.get(qt.centerJustifiedTextSymbolIndex>=0?qt.centerJustifiedTextSymbolIndex:qt.verticalPlacedTextSymbolIndex),$s=n.evaluateSizeForFeature(F.textSizeData,lt,tr),Ms=se.get("text-padding");xn=this.collisionIndex.placeCollisionCircles(F,ct,tr,F.lineVertexArray,F.glyphOffsetArray,$s,he,fe,De,w,Ct,et.predicate,qt.collisionCircleDiameter*$s/n.ONE_EM,Ms,this.retainedQueryData[F.bucketInstanceId].tileID),vi=ct||xn.circles.length>0&&!xn.collisionDetected,Ht=Ht&&xn.offscreen,ei=xn.occluded}if(ti.iconFeatureIndex&&(Hs=ti.iconFeatureIndex),ti.iconBox){const tr=$s=>{Us($s);const Ms=jt&&gn?gl(gn.x,gn.y,It,Ct,this.transform.angle):new n.pointGeometry(0,0),jr=F.getSymbolInstanceIconSize(ht,this.transform.zoom,qt.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(F,jr,$s,Ms,bt,je,he,et.predicate)};Pn&&Pn.box&&Pn.box.length&&ti.verticalIconBox?(tn=tr(ti.verticalIconBox),Ri=tn.box.length>0):(tn=tr(ti.iconBox),Ri=tn.box.length>0),Ht=Ht&&tn.offscreen,dn=tn.occluded}const ta=nt||qt.numHorizontalGlyphVertices===0&&ii===0,Vo=ft||qt.numIconVertices===0;if(ta||Vo?Vo?ta||(Ri=Ri&&vi):vi=Ri&&vi:Ri=vi=Ri&&vi,vi&&Zn&&Zn.box&&this.collisionIndex.insertCollisionBox(Zn.box,se.get("text-ignore-placement"),F.bucketInstanceId,Pn&&Pn.box&&Is?Is:Gs,et.ID),Ri&&tn&&this.collisionIndex.insertCollisionBox(tn.box,se.get("icon-ignore-placement"),F.bucketInstanceId,Hs,et.ID),xn&&(vi&&this.collisionIndex.insertCollisionCircles(xn.circles,se.get("text-ignore-placement"),F.bucketInstanceId,Gs,et.ID),w)){const tr=F.bucketInstanceId;let $s=this.collisionCircleArrays[tr];$s===void 0&&($s=this.collisionCircleArrays[tr]=new _c);for(let Ms=0;Ms<xn.circles.length;Ms+=4)$s.circles.push(xn.circles[Ms+0]),$s.circles.push(xn.circles[Ms+1]),$s.circles.push(xn.circles[Ms+2]),$s.circles.push(xn.collisionDetected?1:0)}const Pl=F.projection.name!=="globe";Zt=Zt&&(Pl||!ei),Vt=Vt&&(Pl||!dn),this.placements[Pi]=new Ya(vi||Zt,Ri||Vt,Ht||F.justReloaded),u[Pi]=!0};if(Qt){const qt=F.getSortedSymbolIndexes(this.transform.angle);for(let pi=qt.length-1;pi>=0;--pi){const ti=qt[pi];Si(F.symbolInstances.get(ti),ti,F.collisionArrays[ti])}}else for(let qt=l.symbolInstanceStart;qt<l.symbolInstanceEnd;qt++)Si(F.symbolInstances.get(qt),qt,F.collisionArrays[qt]);if(w&&F.bucketInstanceId in this.collisionCircleArrays){const qt=this.collisionCircleArrays[F.bucketInstanceId];n.invert(qt.invProjMatrix,he),qt.viewportMatrix=this.collisionIndex.getViewportMatrix()}F.justReloaded=!1}markUsedJustification(l,u,w,R){const{leftJustifiedTextSymbolIndex:F,centerJustifiedTextSymbolIndex:se,rightJustifiedTextSymbolIndex:he,verticalPlacedTextSymbolIndex:fe,crossTileID:De}=w,ke=n.getAnchorJustification(u),je=R===n.WritingMode.vertical?fe:ke==="left"?F:ke==="center"?se:ke==="right"?he:-1;F>=0&&(l.text.placedSymbolArray.get(F).crossTileID=je>=0&&F!==je?0:De),se>=0&&(l.text.placedSymbolArray.get(se).crossTileID=je>=0&&se!==je?0:De),he>=0&&(l.text.placedSymbolArray.get(he).crossTileID=je>=0&&he!==je?0:De),fe>=0&&(l.text.placedSymbolArray.get(fe).crossTileID=je>=0&&fe!==je?0:De)}markUsedOrientation(l,u,w){const R=u===n.WritingMode.horizontal||u===n.WritingMode.horizontalOnly?u:0,F=u===n.WritingMode.vertical?u:0,{leftJustifiedTextSymbolIndex:se,centerJustifiedTextSymbolIndex:he,rightJustifiedTextSymbolIndex:fe,verticalPlacedTextSymbolIndex:De}=w,ke=l.text.placedSymbolArray;se>=0&&(ke.get(se).placedOrientation=R),he>=0&&(ke.get(he).placedOrientation=R),fe>=0&&(ke.get(fe).placedOrientation=R),De>=0&&(ke.get(De).placedOrientation=F)}commit(l){this.commitTime=l,this.zoomAtLastRecencyCheck=this.transform.zoom;const u=this.prevPlacement;let w=!1;this.prevZoomAdjustment=u?u.zoomAdjustment(this.transform.zoom):0;const R=u?u.symbolFadeChange(l):1,F=u?u.opacities:{},se=u?u.variableOffsets:{},he=u?u.placedOrientations:{};for(const fe in this.placements){const De=this.placements[fe],ke=F[fe];ke?(this.opacities[fe]=new Pa(ke,R,De.text,De.icon,null,De.clipped),w=w||De.text!==ke.text.placed||De.icon!==ke.icon.placed):(this.opacities[fe]=new Pa(null,R,De.text,De.icon,De.skipFade,De.clipped),w=w||De.text||De.icon)}for(const fe in F){const De=F[fe];if(!this.opacities[fe]){const ke=new Pa(De,R,!1,!1);ke.isHidden()||(this.opacities[fe]=ke,w=w||De.text.placed||De.icon.placed)}}for(const fe in se)this.variableOffsets[fe]||!this.opacities[fe]||this.opacities[fe].isHidden()||(this.variableOffsets[fe]=se[fe]);for(const fe in he)this.placedOrientations[fe]||!this.opacities[fe]||this.opacities[fe].isHidden()||(this.placedOrientations[fe]=he[fe]);w?this.lastPlacementChangeTime=l:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=u?u.lastPlacementChangeTime:l)}updateLayerOpacities(l,u){const w={};for(const R of u){const F=R.getBucket(l);F&&R.latestFeatureIndex&&l.id===F.layerIds[0]&&this.updateBucketOpacities(F,w,R.collisionBoxArray)}}updateBucketOpacities(l,u,w){l.hasTextData()&&l.text.opacityVertexArray.clear(),l.hasIconData()&&l.icon.opacityVertexArray.clear(),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexArray.clear(),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexArray.clear();const R=l.layers[0].layout,F=!!l.layers[0].dynamicFilter(),se=new Pa(null,0,!1,!1,!0),he=R.get("text-allow-overlap"),fe=R.get("icon-allow-overlap"),De=R.get("text-variable-anchor"),ke=R.get("text-rotation-alignment")==="map",je=R.get("text-pitch-alignment")==="map",Ze=R.get("icon-text-fit")!=="none",at=new Pa(null,0,he&&(fe||!l.hasIconData()||R.get("icon-optional")),fe&&(he||!l.hasTextData()||R.get("text-optional")),!0);!l.collisionArrays&&w&&(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData())&&l.deserializeCollisionBoxes(w);const lt=(et,nt,ft)=>{for(let ct=0;ct<nt/4;ct++)et.opacityVertexArray.emplaceBack(ft)};let ht=0;for(let et=0;et<l.symbolInstances.length;et++){const nt=l.symbolInstances.get(et),{numHorizontalGlyphVertices:ft,numVerticalGlyphVertices:ct,crossTileID:bt,numIconVertices:It}=nt;let Ct=this.opacities[bt];u[bt]?Ct=se:Ct||(Ct=at,this.opacities[bt]=Ct),u[bt]=!0;const jt=ft>0||ct>0,Qt=It>0,Zt=this.placedOrientations[bt],Vt=Zt===n.WritingMode.vertical,Si=Zt===n.WritingMode.horizontal||Zt===n.WritingMode.horizontalOnly;if(!jt&&!Qt||Ct.isHidden()||ht++,jt){const qt=Br(Ct.text);lt(l.text,ft,Vt?qa:qt),lt(l.text,ct,Si?qa:qt);const pi=Ct.text.isHidden(),{leftJustifiedTextSymbolIndex:ti,centerJustifiedTextSymbolIndex:Pi,rightJustifiedTextSymbolIndex:ii,verticalPlacedTextSymbolIndex:vi}=nt,Ri=l.text.placedSymbolArray,Ht=pi||Vt?1:0;ti>=0&&(Ri.get(ti).hidden=Ht),Pi>=0&&(Ri.get(Pi).hidden=Ht),ii>=0&&(Ri.get(ii).hidden=Ht),vi>=0&&(Ri.get(vi).hidden=pi||Si?1:0);const ei=this.variableOffsets[bt];ei&&this.markUsedJustification(l,ei.anchor,nt,Zt);const dn=this.placedOrientations[bt];dn&&(this.markUsedJustification(l,"left",nt,dn),this.markUsedOrientation(l,dn,nt))}if(Qt){const qt=Br(Ct.icon),{placedIconSymbolIndex:pi,verticalPlacedIconSymbolIndex:ti}=nt,Pi=l.icon.placedSymbolArray,ii=Ct.icon.isHidden()?1:0;pi>=0&&(lt(l.icon,It,Vt?qa:qt),Pi.get(pi).hidden=ii),ti>=0&&(lt(l.icon,nt.numVerticalIconVertices,Si?qa:qt),Pi.get(ti).hidden=ii)}if(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData()){const qt=l.collisionArrays[et];if(qt){let pi=new n.pointGeometry(0,0),ti=!0;if(qt.textBox||qt.verticalTextBox){if(De){const ii=this.variableOffsets[bt];ii?(pi=pr(ii.anchor,ii.width,ii.height,ii.textOffset,ii.textScale),ke&&pi._rotate(je?this.transform.angle:-this.transform.angle)):ti=!1}F&&(ti=!Ct.clipped),qt.textBox&&Rr(l.textCollisionBox.collisionVertexArray,Ct.text.placed,!ti||Vt,pi.x,pi.y),qt.verticalTextBox&&Rr(l.textCollisionBox.collisionVertexArray,Ct.text.placed,!ti||Si,pi.x,pi.y)}const Pi=ti&&!!(!Si&&qt.verticalIconBox);qt.iconBox&&Rr(l.iconCollisionBox.collisionVertexArray,Ct.icon.placed,Pi,Ze?pi.x:0,Ze?pi.y:0),qt.verticalIconBox&&Rr(l.iconCollisionBox.collisionVertexArray,Ct.icon.placed,!Pi,Ze?pi.x:0,Ze?pi.y:0)}}}if(l.fullyClipped=ht===0,l.sortFeatures(this.transform.angle),this.retainedQueryData[l.bucketInstanceId]&&(this.retainedQueryData[l.bucketInstanceId].featureSortOrder=l.featureSortOrder),l.hasTextData()&&l.text.opacityVertexBuffer&&l.text.opacityVertexBuffer.updateData(l.text.opacityVertexArray),l.hasIconData()&&l.icon.opacityVertexBuffer&&l.icon.opacityVertexBuffer.updateData(l.icon.opacityVertexArray),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexBuffer&&l.iconCollisionBox.collisionVertexBuffer.updateData(l.iconCollisionBox.collisionVertexArray),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexBuffer&&l.textCollisionBox.collisionVertexBuffer.updateData(l.textCollisionBox.collisionVertexArray),l.bucketInstanceId in this.collisionCircleArrays){const et=this.collisionCircleArrays[l.bucketInstanceId];l.placementInvProjMatrix=et.invProjMatrix,l.placementViewportMatrix=et.viewportMatrix,l.collisionCircleArray=et.circles,delete this.collisionCircleArrays[l.bucketInstanceId]}}symbolFadeChange(l){return this.fadeDuration===0?1:(l-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(l){return Math.max(0,(this.transform.zoom-l)/1.5)}hasTransitions(l){return this.stale||l-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(l,u){const w=this.zoomAtLastRecencyCheck===u?1-this.zoomAdjustment(u):1;return this.zoomAtLastRecencyCheck=u,this.commitTime+this.fadeDuration*w>l}setStale(){this.stale=!0}}function Rr(y,l,u,w,R){y.emplaceBack(l?1:0,u?1:0,w||0,R||0),y.emplaceBack(l?1:0,u?1:0,w||0,R||0),y.emplaceBack(l?1:0,u?1:0,w||0,R||0),y.emplaceBack(l?1:0,u?1:0,w||0,R||0)}const jo=Math.pow(2,25),Zd=Math.pow(2,24),Yc=Math.pow(2,17),kr=Math.pow(2,16),_l=Math.pow(2,9),qc=Math.pow(2,8),yl=Math.pow(2,1);function Br(y){if(y.opacity===0&&!y.placed)return 0;if(y.opacity===1&&y.placed)return 4294967295;const l=y.placed?1:0,u=Math.floor(127*y.opacity);return u*jo+l*Zd+u*Yc+l*kr+u*_l+l*qc+u*yl+l}const qa=0;class Xc{constructor(l){this._sortAcrossTiles=l.layout.get("symbol-z-order")!=="viewport-y"&&l.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(l,u,w,R,F){const se=this._bucketParts;for(;this._currentTileIndex<l.length;)if(u.getBucketParts(se,R,l[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,F())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,se.sort((he,fe)=>he.sortKey-fe.sortKey));this._currentPartIndex<se.length;){const he=se[this._currentPartIndex];if(u.placeLayerBucketPart(he,this._seenCrossTileIDs,w,he.symbolInstanceStart===0),this._currentPartIndex++,F())return!0}return!1}}class ys{constructor(l,u,w,R,F,se,he,fe){this.placement=new Da(l,F,se,he,fe),this._currentPlacementIndex=u.length-1,this._forceFullPlacement=w,this._showCollisionBoxes=R,this._done=!1}isDone(){return this._done}continuePlacement(l,u,w){const R=n.exported.now(),F=()=>{const se=n.exported.now()-R;return!this._forceFullPlacement&&se>2};for(;this._currentPlacementIndex>=0;){const se=u[l[this._currentPlacementIndex]],he=this.placement.collisionIndex.transform.zoom;if(se.type==="symbol"&&(!se.minzoom||se.minzoom<=he)&&(!se.maxzoom||se.maxzoom>he)){if(this._inProgressLayer||(this._inProgressLayer=new Xc(se)),this._inProgressLayer.continuePlacement(w[se.source],this.placement,this._showCollisionBoxes,se,F))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(l){return this.placement.commit(l),this.placement}}const Ts=512/n.EXTENT/2;class Zc{constructor(l,u,w){this.tileID=l,this.indexedSymbolInstances={},this.bucketInstanceId=w;for(let R=0;R<u.length;R++){const F=u.get(R),se=F.key;this.indexedSymbolInstances[se]||(this.indexedSymbolInstances[se]=[]),this.indexedSymbolInstances[se].push({crossTileID:F.crossTileID,coord:this.getScaledCoordinates(F,l)})}}getScaledCoordinates(l,u){const w=Ts/Math.pow(2,u.canonical.z-this.tileID.canonical.z);return{x:Math.floor((u.canonical.x*n.EXTENT+l.tileAnchorX)*w),y:Math.floor((u.canonical.y*n.EXTENT+l.tileAnchorY)*w)}}findMatches(l,u,w){const R=this.tileID.canonical.z<u.canonical.z?1:Math.pow(2,this.tileID.canonical.z-u.canonical.z);for(let F=0;F<l.length;F++){const se=l.get(F);if(se.crossTileID)continue;const he=this.indexedSymbolInstances[se.key];if(!he)continue;const fe=this.getScaledCoordinates(se,u);for(const De of he)if(Math.abs(De.coord.x-fe.x)<=R&&Math.abs(De.coord.y-fe.y)<=R&&!w[De.crossTileID]){w[De.crossTileID]=!0,se.crossTileID=De.crossTileID;break}}}}class Kd{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Md{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(l){const u=Math.round((l-this.lng)/360);if(u!==0)for(const w in this.indexes){const R=this.indexes[w],F={};for(const se in R){const he=R[se];he.tileID=he.tileID.unwrapTo(he.tileID.wrap+u),F[he.tileID.key]=he}this.indexes[w]=F}this.lng=l}addBucket(l,u,w){if(this.indexes[l.overscaledZ]&&this.indexes[l.overscaledZ][l.key]){if(this.indexes[l.overscaledZ][l.key].bucketInstanceId===u.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(l.overscaledZ,this.indexes[l.overscaledZ][l.key])}for(let F=0;F<u.symbolInstances.length;F++)u.symbolInstances.get(F).crossTileID=0;this.usedCrossTileIDs[l.overscaledZ]||(this.usedCrossTileIDs[l.overscaledZ]={});const R=this.usedCrossTileIDs[l.overscaledZ];for(const F in this.indexes){const se=this.indexes[F];if(Number(F)>l.overscaledZ)for(const he in se){const fe=se[he];fe.tileID.isChildOf(l)&&fe.findMatches(u.symbolInstances,l,R)}else{const he=se[l.scaledTo(Number(F)).key];he&&he.findMatches(u.symbolInstances,l,R)}}for(let F=0;F<u.symbolInstances.length;F++){const se=u.symbolInstances.get(F);se.crossTileID||(se.crossTileID=w.generate(),R[se.crossTileID]=!0)}return this.indexes[l.overscaledZ]===void 0&&(this.indexes[l.overscaledZ]={}),this.indexes[l.overscaledZ][l.key]=new Zc(l,u.symbolInstances,u.bucketInstanceId),!0}removeBucketCrossTileIDs(l,u){for(const w in u.indexedSymbolInstances)for(const R of u.indexedSymbolInstances[w])delete this.usedCrossTileIDs[l][R.crossTileID]}removeStaleBuckets(l){let u=!1;for(const w in this.indexes){const R=this.indexes[w];for(const F in R)l[R[F].bucketInstanceId]||(this.removeBucketCrossTileIDs(w,R[F]),delete R[F],u=!0)}return u}}class Uo{constructor(){this.layerIndexes={},this.crossTileIDs=new Kd,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(l,u,w,R){let F=this.layerIndexes[l.id];F===void 0&&(F=this.layerIndexes[l.id]=new Md);let se=!1;const he={};R.name!=="globe"&&F.handleWrapJump(w);for(const fe of u){const De=fe.getBucket(l);De&&l.id===De.layerIds[0]&&(De.bucketInstanceId||(De.bucketInstanceId=++this.maxBucketInstanceId),F.addBucket(fe.tileID,De,this.crossTileIDs)&&(se=!0),he[De.bucketInstanceId]=!0)}return F.removeStaleBuckets(he)&&(se=!0),se}pruneUnusedLayers(l){const u={};l.forEach(w=>{u[w]=!0});for(const w in this.layerIndexes)u[w]||delete this.layerIndexes[w]}}const vc=(y,l)=>n.emitValidationErrors(y,l&&l.filter(u=>u.identifier!=="source.canvas")),Kc=n.pick(pn,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),vl=n.pick(pn,["setCenter","setZoom","setBearing","setPitch"]),Mo={version:8,layers:[],sources:{}},Pr={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class G extends n.Evented{constructor(l,u={}){super(),this.map=l,this.dispatcher=new Ce($i(),this),this.imageManager=new W,this.imageManager.setEventedParent(this),this.glyphManager=new n.GlyphManager(l._requestManager,u.localFontFamily?n.LocalGlyphMode.all:u.localIdeographFontFamily?n.LocalGlyphMode.ideographs:n.LocalGlyphMode.none,u.localFontFamily||u.localIdeographFontFamily),this.crossTileSymbolIndex=new Uo,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",n.getReferrer());const w=this;this._rtlTextPluginCallback=G.registerForPluginStateChange(R=>{w.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:R.pluginStatus,pluginURL:R.pluginURL},(F,se)=>{if(n.triggerPluginCompletionEvent(F),se&&se.every(he=>he))for(const he in w._sourceCaches){const fe=w._sourceCaches[he],De=fe.getSource().type;De!=="vector"&&De!=="geojson"||fe.reload()}})}),this.on("data",R=>{if(R.dataType!=="source"||R.sourceDataType!=="metadata")return;const F=this.getSource(R.sourceId);if(F&&F.vectorLayerIds)for(const se in this._layers){const he=this._layers[se];he.source===F.id&&this._validateLayer(he)}})}loadURL(l,u={}){this.fire(new n.Event("dataloading",{dataType:"style"}));const w=typeof u.validate=="boolean"?u.validate:!n.isMapboxURL(l);l=this.map._requestManager.normalizeStyleURL(l,u.accessToken);const R=this.map._requestManager.transformRequest(l,n.ResourceType.Style);this._request=n.getJSON(R,(F,se)=>{this._request=null,F?this.fire(new n.ErrorEvent(F)):se&&this._load(se,w)})}loadJSON(l,u={}){this.fire(new n.Event("dataloading",{dataType:"style"})),this._request=n.exported.frame(()=>{this._request=null,this._load(l,u.validate!==!1)})}loadEmpty(){this.fire(new n.Event("dataloading",{dataType:"style"})),this._load(Mo,!1)}_updateLayerCount(l,u){const w=u?1:-1;l.is3D()&&(this._num3DLayers+=w),l.type==="circle"&&(this._numCircleLayers+=w),l.type==="symbol"&&(this._numSymbolLayers+=w)}_load(l,u){if(u&&vc(this,n.validateStyle(l)))return;this._loaded=!0,this.stylesheet=n.clone$1(l),this._updateMapProjection();for(const R in l.sources)this.addSource(R,l.sources[R],{validate:!1});this._changed=!1,l.sprite?this._loadSprite(l.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(l.glyphs);const w=gs(this.stylesheet.layers);this._order=w.map(R=>R.id),this._layers={},this._serializedLayers={};for(let R of w)R=n.createStyleLayer(R),R.setEventedParent(this,{layer:{id:R.id}}),this._layers[R.id]=R,this._serializedLayers[R.id]=R.serialize(),this._updateLayerCount(R,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new f(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new n.Event("data",{dataType:"style"})),this.fire(new n.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(l){l?this.stylesheet.projection=l:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(l){this._spriteRequest=function(u,w,R){let F,se,he;const fe=n.exported.devicePixelRatio>1?"@2x":"";let De=n.getJSON(w.transformRequest(w.normalizeSpriteURL(u,fe,".json"),n.ResourceType.SpriteJSON),(Ze,at)=>{De=null,he||(he=Ze,F=at,je())}),ke=n.getImage(w.transformRequest(w.normalizeSpriteURL(u,fe,".png"),n.ResourceType.SpriteImage),(Ze,at)=>{ke=null,he||(he=Ze,se=at,je())});function je(){if(he)R(he);else if(F&&se){const Ze=n.exported.getImageData(se),at={};for(const lt in F){const{width:ht,height:et,x:nt,y:ft,sdf:ct,pixelRatio:bt,stretchX:It,stretchY:Ct,content:jt}=F[lt],Qt=new n.RGBAImage({width:ht,height:et});n.RGBAImage.copy(Ze,Qt,{x:nt,y:ft},{x:0,y:0},{width:ht,height:et}),at[lt]={data:Qt,pixelRatio:bt,sdf:ct,stretchX:It,stretchY:Ct,content:jt}}R(null,at)}}return{cancel(){De&&(De.cancel(),De=null),ke&&(ke.cancel(),ke=null)}}}(l,this.map._requestManager,(u,w)=>{if(this._spriteRequest=null,u)this.fire(new n.ErrorEvent(u));else if(w)for(const R in w)this.imageManager.addImage(R,w[R]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new n.Event("data",{dataType:"style"}))})}_validateLayer(l){const u=this.getSource(l.source);if(!u)return;const w=l.sourceLayer;w&&(u.type==="geojson"||u.vectorLayerIds&&u.vectorLayerIds.indexOf(w)===-1)&&this.fire(new n.ErrorEvent(new Error(`Source layer "${w}" does not exist on source "${u.id}" as specified by style layer "${l.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const l in this._sourceCaches)if(!this._sourceCaches[l].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(l){const u=[];for(const w of l){const R=this._layers[w];R.type!=="custom"&&u.push(R.serialize())}return u}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const l in this._sourceCaches)if(this._sourceCaches[l].hasTransition())return!0;for(const l in this._layers)if(this._layers[l].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(l){return!!this.terrain&&Pr[l.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(l){if(!this._loaded)return;const u=this._changed;if(this._changed){const R=Object.keys(this._updatedLayers),F=Object.keys(this._removedLayers);(R.length||F.length)&&this._updateWorkerLayers(R,F);for(const se in this._updatedSources){const he=this._updatedSources[se];he==="reload"?this._reloadSource(se):he==="clear"&&this._clearSource(se)}this._updateTilesForChangedImages();for(const se in this._updatedPaintProps)this._layers[se].updateTransitions(l);this.light.updateTransitions(l),this.fog&&this.fog.updateTransitions(l),this._resetUpdates()}const w={};for(const R in this._sourceCaches){const F=this._sourceCaches[R];w[R]=F.used,F.used=!1}for(const R of this._order){const F=this._layers[R];if(F.recalculate(l,this._availableImages),!F.isHidden(l.zoom)){const he=this._getLayerSourceCache(F);he&&(he.used=!0)}const se=this.map.painter;if(se){const he=F.getProgramIds();if(!he)continue;const fe=F.getProgramConfiguration(l.zoom);for(const De of he)se.useProgram(De,fe)}}for(const R in w){const F=this._sourceCaches[R];w[R]!==F.used&&F.getSource().fire(new n.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:F.getSource().id}))}this.light.recalculate(l),this.terrain&&this.terrain.recalculate(l),this.fog&&this.fog.recalculate(l),this.z=l.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),u&&this.fire(new n.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const l=Object.keys(this._changedImages);if(l.length){for(const u in this._sourceCaches)this._sourceCaches[u].reloadTilesForDependencies(["icons","patterns"],l);this._changedImages={}}}_updateWorkerLayers(l,u){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(l),removedIds:u})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(l){if(this._checkLoaded(),vc(this,n.validateStyle(l)))return!1;(l=n.clone$1(l)).layers=gs(l.layers);const u=function(R,F){if(!R)return[{command:pn.setStyle,args:[F]}];let se=[];try{if(!x(R.version,F.version))return[{command:pn.setStyle,args:[F]}];x(R.center,F.center)||se.push({command:pn.setCenter,args:[F.center]}),x(R.zoom,F.zoom)||se.push({command:pn.setZoom,args:[F.zoom]}),x(R.bearing,F.bearing)||se.push({command:pn.setBearing,args:[F.bearing]}),x(R.pitch,F.pitch)||se.push({command:pn.setPitch,args:[F.pitch]}),x(R.sprite,F.sprite)||se.push({command:pn.setSprite,args:[F.sprite]}),x(R.glyphs,F.glyphs)||se.push({command:pn.setGlyphs,args:[F.glyphs]}),x(R.transition,F.transition)||se.push({command:pn.setTransition,args:[F.transition]}),x(R.light,F.light)||se.push({command:pn.setLight,args:[F.light]}),x(R.fog,F.fog)||se.push({command:pn.setFog,args:[F.fog]}),x(R.projection,F.projection)||se.push({command:pn.setProjection,args:[F.projection]});const he={},fe=[];(function(je,Ze,at,lt){let ht;for(ht in Ze=Ze||{},je=je||{})je.hasOwnProperty(ht)&&(Ze.hasOwnProperty(ht)||xs(ht,at,lt));for(ht in Ze)Ze.hasOwnProperty(ht)&&(je.hasOwnProperty(ht)?x(je[ht],Ze[ht])||(je[ht].type==="geojson"&&Ze[ht].type==="geojson"&&ga(je,Ze,ht)?at.push({command:pn.setGeoJSONSourceData,args:[ht,Ze[ht].data]}):ma(ht,Ze,at,lt)):Rs(ht,Ze,at))})(R.sources,F.sources,fe,he);const De=[];R.layers&&R.layers.forEach(je=>{je.source&&he[je.source]?se.push({command:pn.removeLayer,args:[je.id]}):De.push(je)});let ke=R.terrain;ke&&he[ke.source]&&(se.push({command:pn.setTerrain,args:[void 0]}),ke=void 0),se=se.concat(fe),x(ke,F.terrain)||se.push({command:pn.setTerrain,args:[F.terrain]}),function(je,Ze,at){Ze=Ze||[];const lt=(je=je||[]).map(di),ht=Ze.map(di),et=je.reduce(Js,{}),nt=Ze.reduce(Js,{}),ft=lt.slice(),ct=Object.create(null);let bt,It,Ct,jt,Qt,Zt,Vt;for(bt=0,It=0;bt<lt.length;bt++)Ct=lt[bt],nt.hasOwnProperty(Ct)?It++:(at.push({command:pn.removeLayer,args:[Ct]}),ft.splice(ft.indexOf(Ct,It),1));for(bt=0,It=0;bt<ht.length;bt++)Ct=ht[ht.length-1-bt],ft[ft.length-1-bt]!==Ct&&(et.hasOwnProperty(Ct)?(at.push({command:pn.removeLayer,args:[Ct]}),ft.splice(ft.lastIndexOf(Ct,ft.length-It),1)):It++,Zt=ft[ft.length-bt],at.push({command:pn.addLayer,args:[nt[Ct],Zt]}),ft.splice(ft.length-bt,0,Ct),ct[Ct]=!0);for(bt=0;bt<ht.length;bt++)if(Ct=ht[bt],jt=et[Ct],Qt=nt[Ct],!ct[Ct]&&!x(jt,Qt))if(x(jt.source,Qt.source)&&x(jt["source-layer"],Qt["source-layer"])&&x(jt.type,Qt.type)){for(Vt in Xr(jt.layout,Qt.layout,at,Ct,null,pn.setLayoutProperty),Xr(jt.paint,Qt.paint,at,Ct,null,pn.setPaintProperty),x(jt.filter,Qt.filter)||at.push({command:pn.setFilter,args:[Ct,Qt.filter]}),x(jt.minzoom,Qt.minzoom)&&x(jt.maxzoom,Qt.maxzoom)||at.push({command:pn.setLayerZoomRange,args:[Ct,Qt.minzoom,Qt.maxzoom]}),jt)jt.hasOwnProperty(Vt)&&Vt!=="layout"&&Vt!=="paint"&&Vt!=="filter"&&Vt!=="metadata"&&Vt!=="minzoom"&&Vt!=="maxzoom"&&(Vt.indexOf("paint.")===0?Xr(jt[Vt],Qt[Vt],at,Ct,Vt.slice(6),pn.setPaintProperty):x(jt[Vt],Qt[Vt])||at.push({command:pn.setLayerProperty,args:[Ct,Vt,Qt[Vt]]}));for(Vt in Qt)Qt.hasOwnProperty(Vt)&&!jt.hasOwnProperty(Vt)&&Vt!=="layout"&&Vt!=="paint"&&Vt!=="filter"&&Vt!=="metadata"&&Vt!=="minzoom"&&Vt!=="maxzoom"&&(Vt.indexOf("paint.")===0?Xr(jt[Vt],Qt[Vt],at,Ct,Vt.slice(6),pn.setPaintProperty):x(jt[Vt],Qt[Vt])||at.push({command:pn.setLayerProperty,args:[Ct,Vt,Qt[Vt]]}))}else at.push({command:pn.removeLayer,args:[Ct]}),Zt=ft[ft.lastIndexOf(Ct)+1],at.push({command:pn.addLayer,args:[Qt,Zt]})}(De,F.layers,se)}catch(he){console.warn("Unable to compute style diff:",he),se=[{command:pn.setStyle,args:[F]}]}return se}(this.serialize(),l).filter(R=>!(R.command in vl));if(u.length===0)return!1;const w=u.filter(R=>!(R.command in Kc));if(w.length>0)throw new Error(`Unimplemented: ${w.map(R=>R.command).join(", ")}.`);return u.forEach(R=>{R.command!=="setTransition"&&R.command!=="setProjection"&&this[R.command].apply(this,R.args)}),this.stylesheet=l,this._updateMapProjection(),!0}addImage(l,u){return this.getImage(l)?this.fire(new n.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(l,u),this._afterImageUpdated(l),this)}updateImage(l,u){this.imageManager.updateImage(l,u)}getImage(l){return this.imageManager.getImage(l)}removeImage(l){return this.getImage(l)?(this.imageManager.removeImage(l),this._afterImageUpdated(l),this):this.fire(new n.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(l){this._availableImages=this.imageManager.listImages(),this._changedImages[l]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new n.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(l,u,w={}){if(this._checkLoaded(),this.getSource(l)!==void 0)throw new Error("There is already a source with this ID");if(!u.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(u).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(u.type)>=0&&this._validate(n.validateSource,`sources.${l}`,u,null,w))return;this.map&&this.map._collectResourceTiming&&(u.collectResourceTiming=!0);const R=Mt(l,u,this.dispatcher,this);R.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(l),source:R.serialize(),sourceId:l}));const F=se=>{const he=(se?"symbol:":"other:")+l,fe=this._sourceCaches[he]=new n.SourceCache(he,R,se);(se?this._symbolSourceCaches:this._otherSourceCaches)[l]=fe,fe.style=this,fe.onAdd(this.map)};F(!1),u.type!=="vector"&&u.type!=="geojson"||F(!0),R.onAdd&&R.onAdd(this.map),this._changed=!0}removeSource(l){this._checkLoaded();const u=this.getSource(l);if(!u)throw new Error("There is no source with this ID");for(const R in this._layers)if(this._layers[R].source===l)return this.fire(new n.ErrorEvent(new Error(`Source "${l}" cannot be removed while layer "${R}" is using it.`)));if(this.terrain&&this.terrain.get().source===l)return this.fire(new n.ErrorEvent(new Error(`Source "${l}" cannot be removed while terrain is using it.`)));const w=this._getSourceCaches(l);for(const R of w)delete this._sourceCaches[R.id],delete this._updatedSources[R.id],R.fire(new n.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:R.getSource().id})),R.setEventedParent(null),R.clearTiles();return delete this._otherSourceCaches[l],delete this._symbolSourceCaches[l],u.setEventedParent(null),u.onRemove&&u.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(l,u){this._checkLoaded(),this.getSource(l).setData(u),this._changed=!0}getSource(l){const u=this._getSourceCache(l);return u&&u.getSource()}_getSources(){const l=[];for(const u in this._otherSourceCaches){const w=this._getSourceCache(u);w&&l.push(w.getSource())}return l}addLayer(l,u,w={}){this._checkLoaded();const R=l.id;if(this.getLayer(R))return void this.fire(new n.ErrorEvent(new Error(`Layer with id "${R}" already exists on this map`)));let F;if(l.type==="custom"){if(vc(this,n.validateCustomStyleLayer(l)))return;F=n.createStyleLayer(l)}else{if(typeof l.source=="object"&&(this.addSource(R,l.source),l=n.clone$1(l),l=n.extend(l,{source:R})),this._validate(n.validateLayer,`layers.${R}`,l,{arrayIndex:-1},w))return;F=n.createStyleLayer(l),this._validateLayer(F),F.setEventedParent(this,{layer:{id:R}}),this._serializedLayers[F.id]=F.serialize(),this._updateLayerCount(F,!0)}const se=u?this._order.indexOf(u):this._order.length;if(u&&se===-1)return void this.fire(new n.ErrorEvent(new Error(`Layer with id "${u}" does not exist on this map.`)));this._order.splice(se,0,R),this._layerOrderChanged=!0,this._layers[R]=F;const he=this._getLayerSourceCache(F);if(this._removedLayers[R]&&F.source&&he&&F.type!=="custom"){const fe=this._removedLayers[R];delete this._removedLayers[R],fe.type!==F.type?this._updatedSources[F.source]="clear":(this._updatedSources[F.source]="reload",he.pause())}this._updateLayer(F),F.onAdd&&F.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(l,u){if(this._checkLoaded(),this._changed=!0,!this._layers[l])return void this.fire(new n.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be moved.`)));if(l===u)return;const w=this._order.indexOf(l);this._order.splice(w,1);const R=u?this._order.indexOf(u):this._order.length;u&&R===-1?this.fire(new n.ErrorEvent(new Error(`Layer with id "${u}" does not exist on this map.`))):(this._order.splice(R,0,l),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(l){this._checkLoaded();const u=this._layers[l];if(!u)return void this.fire(new n.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be removed.`)));u.setEventedParent(null),this._updateLayerCount(u,!1);const w=this._order.indexOf(l);this._order.splice(w,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[l]=u,delete this._layers[l],delete this._serializedLayers[l],delete this._updatedLayers[l],delete this._updatedPaintProps[l],u.onRemove&&u.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(l){return this._layers[l]}hasLayer(l){return l in this._layers}hasLayerType(l){for(const u in this._layers)if(this._layers[u].type===l)return!0;return!1}setLayerZoomRange(l,u,w){this._checkLoaded();const R=this.getLayer(l);R?R.minzoom===u&&R.maxzoom===w||(u!=null&&(R.minzoom=u),w!=null&&(R.maxzoom=w),this._updateLayer(R)):this.fire(new n.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(l,u,w={}){this._checkLoaded();const R=this.getLayer(l);if(R){if(!x(R.filter,u))return u==null?(R.filter=void 0,void this._updateLayer(R)):void(this._validate(n.validateFilter,`layers.${R.id}.filter`,u,{layerType:R.type},w)||(R.filter=n.clone$1(u),this._updateLayer(R)))}else this.fire(new n.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be filtered.`)))}getFilter(l){const u=this.getLayer(l);return u&&n.clone$1(u.filter)}setLayoutProperty(l,u,w,R={}){this._checkLoaded();const F=this.getLayer(l);F?x(F.getLayoutProperty(u),w)||(F.setLayoutProperty(u,w,R),this._updateLayer(F)):this.fire(new n.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(l,u){const w=this.getLayer(l);if(w)return w.getLayoutProperty(u);this.fire(new n.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style.`)))}setPaintProperty(l,u,w,R={}){this._checkLoaded();const F=this.getLayer(l);F?x(F.getPaintProperty(u),w)||(F.setPaintProperty(u,w,R)&&this._updateLayer(F),this._changed=!0,this._updatedPaintProps[l]=!0):this.fire(new n.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(l,u){const w=this.getLayer(l);return w&&w.getPaintProperty(u)}setFeatureState(l,u){this._checkLoaded();const w=l.source,R=l.sourceLayer,F=this.getSource(w);if(!F)return void this.fire(new n.ErrorEvent(new Error(`The source '${w}' does not exist in the map's style.`)));const se=F.type;if(se==="geojson"&&R)return void this.fire(new n.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(se==="vector"&&!R)return void this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));l.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided.")));const he=this._getSourceCaches(w);for(const fe of he)fe.setFeatureState(R,l.id,u)}removeFeatureState(l,u){this._checkLoaded();const w=l.source,R=this.getSource(w);if(!R)return void this.fire(new n.ErrorEvent(new Error(`The source '${w}' does not exist in the map's style.`)));const F=R.type,se=F==="vector"?l.sourceLayer:void 0;if(F==="vector"&&!se)return void this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(u&&typeof l.id!="string"&&typeof l.id!="number")return void this.fire(new n.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const he=this._getSourceCaches(w);for(const fe of he)fe.removeFeatureState(se,l.id,u)}getFeatureState(l){this._checkLoaded();const u=l.source,w=l.sourceLayer,R=this.getSource(u);if(R){if(R.type!=="vector"||w)return l.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(u)[0].getFeatureState(w,l.id);this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new n.ErrorEvent(new Error(`The source '${u}' does not exist in the map's style.`)))}getTransition(){return n.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const l={};for(const u in this._sourceCaches){const w=this._sourceCaches[u].getSource();l[w.id]||(l[w.id]=w.serialize())}return n.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:l,layers:this._serializeLayers(this._order)},u=>u!==void 0)}_updateLayer(l){this._updatedLayers[l.id]=!0;const u=this._getLayerSourceCache(l);l.source&&!this._updatedSources[l.source]&&u&&u.getSource().type!=="raster"&&(this._updatedSources[l.source]="reload",u.pause()),this._changed=!0,l.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(l){const u=se=>this._layers[se].type==="fill-extrusion",w={},R=[];for(let se=this._order.length-1;se>=0;se--){const he=this._order[se];if(u(he)){w[he]=se;for(const fe of l){const De=fe[he];if(De)for(const ke of De)R.push(ke)}}}R.sort((se,he)=>he.intersectionZ-se.intersectionZ);const F=[];for(let se=this._order.length-1;se>=0;se--){const he=this._order[se];if(u(he))for(let fe=R.length-1;fe>=0;fe--){const De=R[fe].feature;if(w[De.layer.id]<se)break;F.push(De),R.pop()}else for(const fe of l){const De=fe[he];if(De)for(const ke of De)F.push(ke.feature)}}return F}queryRenderedFeatures(l,u,w){u&&u.filter&&this._validate(n.validateFilter,"queryRenderedFeatures.filter",u.filter,null,u);const R={};if(u&&u.layers){if(!Array.isArray(u.layers))return this.fire(new n.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const fe of u.layers){const De=this._layers[fe];if(!De)return this.fire(new n.ErrorEvent(new Error(`The layer '${fe}' does not exist in the map's style and cannot be queried for features.`))),[];R[De.source]=!0}}const F=[];u.availableImages=this._availableImages;const se=u&&u.layers?u.layers.some(fe=>{const De=this.getLayer(fe);return De&&De.is3D()}):this.has3DLayers(),he=oe.createFromScreenPoints(l,w);for(const fe in this._sourceCaches){const De=this._sourceCaches[fe].getSource().id;u.layers&&!R[De]||F.push(Ut(this._sourceCaches[fe],this._layers,this._serializedLayers,he,u,w,se,!!this.map._showQueryGeometry))}return this.placement&&F.push(function(fe,De,ke,je,Ze,at,lt){const ht={},et=at.queryRenderedSymbols(je),nt=[];for(const ft of Object.keys(et).map(Number))nt.push(lt[ft]);nt.sort(Gi);for(const ft of nt){const ct=ft.featureIndex.lookupSymbolFeatures(et[ft.bucketInstanceId],De,ft.bucketIndex,ft.sourceLayerIndex,Ze.filter,Ze.layers,Ze.availableImages,fe);for(const bt in ct){const It=ht[bt]=ht[bt]||[],Ct=ct[bt];Ct.sort((jt,Qt)=>{const Zt=ft.featureSortOrder;if(Zt){const Vt=Zt.indexOf(jt.featureIndex);return Zt.indexOf(Qt.featureIndex)-Vt}return Qt.featureIndex-jt.featureIndex});for(const jt of Ct)It.push(jt)}}for(const ft in ht)ht[ft].forEach(ct=>{const bt=ct.feature,It=ke(fe[ft]).getFeatureState(bt.layer["source-layer"],bt.id);bt.source=bt.layer.source,bt.layer["source-layer"]&&(bt.sourceLayer=bt.layer["source-layer"]),bt.state=It});return ht}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),he.screenGeometry,u,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(F)}querySourceFeatures(l,u){u&&u.filter&&this._validate(n.validateFilter,"querySourceFeatures.filter",u.filter,null,u);const w=this._getSourceCaches(l);let R=[];for(const F of w)R=R.concat(mi(F,u));return R}addSourceType(l,u,w){return G.getSourceType(l)?w(new Error(`A source type called "${l}" already exists.`)):(G.setSourceType(l,u),u.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:l,url:u.workerSourceURL},w):w(null,null))}getLight(){return this.light.getLight()}setLight(l,u={}){this._checkLoaded();const w=this.light.getLight();let R=!1;for(const se in l)if(!x(l[se],w[se])){R=!0;break}if(!R)return;const F=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(l,u),this.light.updateTransitions(F)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(l,u=1){if(this._checkLoaded(),!l)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(u===1){if(typeof l.source=="object"){const w="terrain-dem-src";this.addSource(w,l.source),l=n.clone$1(l),l=n.extend(l,{source:w})}if(this._validate(n.validateTerrain,"terrain",l))return}if(!this.terrain||this.terrain&&u!==this.terrain.drapeRenderMode)this._createTerrain(l,u);else{const w=this.terrain,R=w.get();for(const F of Object.keys(n.spec.terrain))!l.hasOwnProperty(F)&&n.spec.terrain[F].default&&(l[F]=n.spec.terrain[F].default);for(const F in l)if(!x(l[F],R[F])){w.set(l),this.stylesheet.terrain=l;const se=this._setTransitionParameters({duration:0});w.updateTransitions(se);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(l){const u=this.fog=new ge(l,this.map.transform);this.stylesheet.fog=l;const w=this._setTransitionParameters({duration:0});u.updateTransitions(w)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const l of this.map._markers)l._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(l){if(this._checkLoaded(),!l)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const u=this.fog,w=u.get();Object.keys(l).length===0&&u.set(l);for(const R in l)if(!x(l[R],w[R])){u.set(l),this.stylesheet.fog=l;const F=this._setTransitionParameters({duration:0});u.updateTransitions(F);break}}else this._createFog(l);this._markersNeedUpdate=!0}_setTransitionParameters(l){return{now:n.exported.now(),transition:n.extend(l,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const l=this._order.filter(w=>this.isLayerDraped(this._layers[w])),u=this._order.filter(w=>!this.isLayerDraped(this._layers[w]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...l),this._drapedFirstOrder.push(...u)}_createTerrain(l,u){const w=this.terrain=new D(l,u);this.stylesheet.terrain=l,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const R=this._setTransitionParameters({duration:0});w.updateTransitions(R)}_force3DLayerUpdate(){for(const l in this._layers){const u=this._layers[l];u.type==="fill-extrusion"&&this._updateLayer(u)}}_forceSymbolLayerUpdate(){for(const l in this._layers){const u=this._layers[l];u.type==="symbol"&&this._updateLayer(u)}}_validate(l,u,w,R,F={}){return(!F||F.validate!==!1)&&vc(this,l.call(n.validateStyle,n.extend({key:u,style:this.serialize(),value:w,styleSpec:n.spec},R)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),n.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const l in this._layers)this._layers[l].setEventedParent(null);for(const l in this._sourceCaches)this._sourceCaches[l].clearTiles(),this._sourceCaches[l].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(l){const u=this._getSourceCaches(l);for(const w of u)w.clearTiles()}_reloadSource(l){const u=this._getSourceCaches(l);for(const w of u)w.resume(),w.reload()}_reloadSources(){for(const l of this._getSources())l.reload&&l.reload()}_updateSources(l){for(const u in this._sourceCaches)this._sourceCaches[u].update(l)}_generateCollisionBoxes(){for(const l in this._sourceCaches){const u=this._sourceCaches[l];u.resume(),u.reload()}}_updatePlacement(l,u,w,R,F=!1){let se=!1,he=!1;const fe={};for(const De of this._order){const ke=this._layers[De];if(ke.type!=="symbol")continue;if(!fe[ke.source]){const Ze=this._getLayerSourceCache(ke);if(!Ze)continue;fe[ke.source]=Ze.getRenderableIds(!0).map(at=>Ze.getTileByID(at)).sort((at,lt)=>lt.tileID.overscaledZ-at.tileID.overscaledZ||(at.tileID.isLessThan(lt.tileID)?-1:1))}const je=this.crossTileSymbolIndex.addLayer(ke,fe[ke.source],l.center.lng,l.projection);se=se||je}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),F=F||this._layerOrderChanged||w===0,this._layerOrderChanged&&this.fire(new n.Event("neworder")),(F||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(n.exported.now(),l.zoom))&&(this.pauseablePlacement=new ys(l,this._order,F,u,w,R,this.placement,this.fog&&l.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,fe),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(n.exported.now()),he=!0),se&&this.pauseablePlacement.placement.setStale()),he||se)for(const De of this._order){const ke=this._layers[De];ke.type==="symbol"&&this.placement.updateLayerOpacities(ke,fe[ke.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(n.exported.now())}_releaseSymbolFadeTiles(){for(const l in this._sourceCaches)this._sourceCaches[l].releaseSymbolFadeTiles()}getImages(l,u,w){this.imageManager.getImages(u.icons,w),this._updateTilesForChangedImages();const R=F=>{F&&F.setDependencies(u.tileID.key,u.type,u.icons)};R(this._otherSourceCaches[u.source]),R(this._symbolSourceCaches[u.source])}getGlyphs(l,u,w){this.glyphManager.getGlyphs(u.stacks,w)}getResource(l,u,w){return n.makeRequest(u,w)}_getSourceCache(l){return this._otherSourceCaches[l]}_getLayerSourceCache(l){return l.type==="symbol"?this._symbolSourceCaches[l.source]:this._otherSourceCaches[l.source]}_getSourceCaches(l){const u=[];return this._otherSourceCaches[l]&&u.push(this._otherSourceCaches[l]),this._symbolSourceCaches[l]&&u.push(this._symbolSourceCaches[l]),u}_isSourceCacheLoaded(l){const u=this._getSourceCaches(l);return u.length===0?(this.fire(new n.ErrorEvent(new Error(`There is no source with ID '${l}'`))),!1):u.every(w=>w.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}G.getSourceType=function(y){return Nt[y]},G.setSourceType=function(y,l){Nt[y]=l},G.registerForPluginStateChange=n.registerForPluginStateChange;var le=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,ve="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",Ae=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,Ue=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,Ve=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let Je={},Rt={};const Et=[];ai(le,Et),ai(Ae,Et),ai(Ue,Et),ai(Ve,Et),Je=Vi("",Ae),Rt=Vi(Ve,Ue);const Xt=Vi(`
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),hi=le,Ti=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var ni={background:Vi(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Vi(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Vi(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Vi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Vi(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Vi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Vi("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Vi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Vi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:Vi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:Vi(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Vi(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Vi(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Vi(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:Vi(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:Vi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Vi(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Vi(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:Vi(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:Vi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:Vi(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:Vi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:Vi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:Vi(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=u_skirt_height*u_skirt_height*wireframeOffset;
#endif
vec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:Vi(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Vi(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ve),skyboxGradient:Vi(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ve),skyboxCapture:Vi(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Vi(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;
#ifdef GLOBE_POLES
vec3 up_vector=normalize(globe_pos)*u_tile_up_scale;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:Vi(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function ai(y,l){const u=y.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let w of u)if(w=w.trim(),w[0]==="#"&&w.includes("if")&&!w.includes("endif")){w=w.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const R=w.split(" ");for(const F of R)l.includes(F)||l.push(F)}}function Vi(y,l){const u=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,w=l.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),R={},F=[...Et];return ai(y,F),ai(l,F),{fragmentSource:y=y.replace(u,(se,he,fe,De,ke)=>(R[ke]=!0,he==="define"?`
#ifndef HAS_UNIFORM_u_${ke}
varying ${fe} ${De} ${ke};
#else
uniform ${fe} ${De} u_${ke};
#endif
`:`
#ifdef HAS_UNIFORM_u_${ke}
    ${fe} ${De} ${ke} = u_${ke};
#endif
`)),vertexSource:l=l.replace(u,(se,he,fe,De,ke)=>{const je=De==="float"?"vec2":"vec4",Ze=ke.match(/color/)?"color":je;return R[ke]?he==="define"?`
#ifndef HAS_UNIFORM_u_${ke}
uniform lowp float u_${ke}_t;
attribute ${fe} ${je} a_${ke};
varying ${fe} ${De} ${ke};
#else
uniform ${fe} ${De} u_${ke};
#endif
`:Ze==="vec4"?`
#ifndef HAS_UNIFORM_u_${ke}
    ${ke} = a_${ke};
#else
    ${fe} ${De} ${ke} = u_${ke};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ke}
    ${ke} = unpack_mix_${Ze}(a_${ke}, u_${ke}_t);
#else
    ${fe} ${De} ${ke} = u_${ke};
#endif
`:he==="define"?`
#ifndef HAS_UNIFORM_u_${ke}
uniform lowp float u_${ke}_t;
attribute ${fe} ${je} a_${ke};
#else
uniform ${fe} ${De} u_${ke};
#endif
`:Ze==="vec4"?`
#ifndef HAS_UNIFORM_u_${ke}
    ${fe} ${De} ${ke} = a_${ke};
#else
    ${fe} ${De} ${ke} = u_${ke};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ke}
    ${fe} ${De} ${ke} = unpack_mix_${Ze}(a_${ke}, u_${ke}_t);
#else
    ${fe} ${De} ${ke} = u_${ke};
#endif
`}),staticAttributes:w,usedDefines:F}}class Rn{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(l,u,w,R,F,se,he){this.context=l;let fe=this.boundPaintVertexBuffers.length!==R.length;for(let ke=0;!fe&&ke<R.length;ke++)this.boundPaintVertexBuffers[ke]!==R[ke]&&(fe=!0);let De=this.boundDynamicVertexBuffers.length!==he.length;for(let ke=0;!De&&ke<he.length;ke++)this.boundDynamicVertexBuffers[ke]!==he[ke]&&(De=!0);if(!l.extVertexArrayObject||!this.vao||this.boundProgram!==u||this.boundLayoutVertexBuffer!==w||fe||De||this.boundIndexBuffer!==F||this.boundVertexOffset!==se)this.freshBind(u,w,R,F,se,he);else{l.bindVertexArrayOES.set(this.vao);for(const ke of he)ke&&ke.bind();F&&F.dynamicDraw&&F.bind()}}freshBind(l,u,w,R,F,se){let he;const fe=l.numAttributes,De=this.context,ke=De.gl;if(De.extVertexArrayObject)this.vao&&this.destroy(),this.vao=De.extVertexArrayObject.createVertexArrayOES(),De.bindVertexArrayOES.set(this.vao),he=0,this.boundProgram=l,this.boundLayoutVertexBuffer=u,this.boundPaintVertexBuffers=w,this.boundIndexBuffer=R,this.boundVertexOffset=F,this.boundDynamicVertexBuffers=se;else{he=De.currentNumAttributes||0;for(let je=fe;je<he;je++)ke.disableVertexAttribArray(je)}u.enableAttributes(ke,l),u.bind(),u.setVertexAttribPointers(ke,l,F);for(const je of w)je.enableAttributes(ke,l),je.bind(),je.setVertexAttribPointers(ke,l,F);for(const je of se)je&&(je.enableAttributes(ke,l),je.bind(),je.setVertexAttribPointers(ke,l,F));R&&R.bind(),De.currentNumAttributes=fe}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function ln(y,l){const u=Math.pow(2,l.canonical.z),w=l.canonical.y;return[new n.MercatorCoordinate(0,w/u).toLngLat().lat,new n.MercatorCoordinate(0,(w+1)/u).toLngLat().lat]}function Qs(y,l,u,w,R,F,se){const he=y.context,fe=he.gl,De=u.fbo;if(!De)return;y.prepareDrawTile();const ke=y.useProgram("hillshade");he.activeTexture.set(fe.TEXTURE0),fe.bindTexture(fe.TEXTURE_2D,De.colorAttachment.get());const je=((ht,et,nt,ft)=>{const ct=nt.paint.get("hillshade-shadow-color"),bt=nt.paint.get("hillshade-highlight-color"),It=nt.paint.get("hillshade-accent-color");let Ct=nt.paint.get("hillshade-illumination-direction")*(Math.PI/180);nt.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ct-=ht.transform.angle);const jt=!ht.options.moving;return{u_matrix:ft||ht.transform.calculateProjMatrix(et.tileID.toUnwrapped(),jt),u_image:0,u_latrange:ln(0,et.tileID),u_light:[nt.paint.get("hillshade-exaggeration"),Ct],u_shadow:ct,u_highlight:bt,u_accent:It}})(y,u,w,y.terrain?l.projMatrix:null);y.prepareDrawProgram(he,ke,l.toUnwrapped());const{tileBoundsBuffer:Ze,tileBoundsIndexBuffer:at,tileBoundsSegments:lt}=y.getTileBoundsBuffers(u);ke.draw(he,fe.TRIANGLES,R,F,se,n.CullFaceMode.disabled,je,w.id,Ze,at,lt)}function Fs(y,l,u){if(!l.needsDEMTextureUpload)return;const w=y.context,R=w.gl;w.pixelStoreUnpackPremultiplyAlpha.set(!1),l.demTexture=l.demTexture||y.getTileTexture(u.stride);const F=u.getPixels();l.demTexture?l.demTexture.update(F,{premultiply:!1}):l.demTexture=new n.Texture(w,F,R.RGBA,{premultiply:!1}),l.needsDEMTextureUpload=!1}function is(y,l,u,w,R,F){const se=y.context,he=se.gl;if(!l.dem)return;const fe=l.dem;if(se.activeTexture.set(he.TEXTURE1),Fs(y,l,fe),!l.demTexture)return;l.demTexture.bind(he.NEAREST,he.CLAMP_TO_EDGE);const De=fe.dim;se.activeTexture.set(he.TEXTURE0);let ke=l.fbo;if(!ke){const lt=new n.Texture(se,{width:De,height:De,data:null},he.RGBA);lt.bind(he.LINEAR,he.CLAMP_TO_EDGE),ke=l.fbo=se.createFramebuffer(De,De,!0),ke.colorAttachment.set(lt.texture)}se.bindFramebuffer.set(ke.framebuffer),se.viewport.set([0,0,De,De]);const{tileBoundsBuffer:je,tileBoundsIndexBuffer:Ze,tileBoundsSegments:at}=y.getMercatorTileBoundsBuffers();y.useProgram("hillshadePrepare").draw(se,he.TRIANGLES,w,R,F,n.CullFaceMode.disabled,((lt,ht)=>{const et=ht.stride,nt=n.create();return n.ortho(nt,0,n.EXTENT,-n.EXTENT,0,0,1),n.translate(nt,nt,[0,-n.EXTENT,0]),{u_matrix:nt,u_image:1,u_dimension:[et,et],u_zoom:lt.overscaledZ,u_unpack:ht.unpackVector}})(l.tileID,fe),u.id,je,Ze,at),l.needsHillshadePrepare=!1}const ns=y=>({u_matrix:new n.UniformMatrix4f(y),u_image0:new n.Uniform1i(y),u_skirt_height:new n.Uniform1f(y)}),On=(y,l)=>({u_matrix:y,u_image0:0,u_skirt_height:l}),zr=(y,l,u,w,R,F,se,he,fe,De,ke,je,Ze,at)=>({u_proj_matrix:Float32Array.from(y),u_globe_matrix:l,u_normalize_matrix:Float32Array.from(w),u_merc_matrix:u,u_zoom_transition:R,u_merc_center:F,u_image0:0,u_frustum_tl:se,u_frustum_tr:he,u_frustum_br:fe,u_frustum_bl:De,u_globe_pos:ke,u_globe_radius:je,u_viewport:Ze,u_grid_matrix:at?Float32Array.from(at):new Float32Array(9)});function rs(y,l){return y!=null&&l!=null&&!(!y.hasData()||!l.hasData())&&y.demTexture!=null&&l.demTexture!=null&&y.tileID.key!==l.tileID.key}const js=new class{constructor(){this.operations={}}newMorphing(y,l,u,w,R){if(y in this.operations){const F=this.operations[y];F.to.tileID.key!==u.tileID.key&&(F.queued=u)}else this.operations[y]={startTime:w,phase:0,duration:R,from:l,to:u,queued:null}}getMorphValuesForProxy(y){if(!(y in this.operations))return null;const l=this.operations[y];return{from:l.from,to:l.to,phase:l.phase}}update(y){for(const l in this.operations){const u=this.operations[l];for(u.phase=(y-u.startTime)/u.duration;u.phase>=1||!this._validOp(u);)if(!this._nextOp(u,y)){delete this.operations[l];break}}}_nextOp(y,l){return!!y.queued&&(y.from=y.to,y.to=y.queued,y.queued=null,y.phase=0,y.startTime=l,!0)}_validOp(y){return y.from.hasData()&&y.to.hasData()}},ya={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function xl(y,l){const u=1<<y.z;return!l&&(y.x===0||y.x===u-1)||y.y===0||y.y===u-1}const Nr=y=>({u_matrix:y});function Ao(y,l,u,w,R){if(R>0){const F=n.exported.now(),se=(F-y.timeAdded)/R,he=l?(F-l.timeAdded)/R:-1,fe=u.getSource(),De=w.coveringZoomLevel({tileSize:fe.tileSize,roundZoom:fe.roundZoom}),ke=!l||Math.abs(l.tileID.overscaledZ-De)>Math.abs(y.tileID.overscaledZ-De),je=ke&&y.refreshedUponExpiration?1:n.clamp(ke?se:1-he,0,1);return y.refreshedUponExpiration&&se>=1&&(y.refreshedUponExpiration=!1),l?{opacity:1,mix:1-je}:{opacity:je,mix:0}}return{opacity:1,mix:0}}class zn extends n.SourceCache{constructor(l){const u={type:"raster-dem",maxzoom:l.transform.maxZoom},w=new Ce($i(),null),R=Mt("mock-dem",u,w,l.style);super("mock-dem",R,!1),R.setEventedParent(this),this._sourceLoaded=!0}_loadTile(l,u){l.state="loaded",u(null)}}class Zr extends n.SourceCache{constructor(l){const u=Mt("proxy",{type:"geojson",maxzoom:l.transform.maxZoom},new Ce($i(),null),l.style);super("proxy",u,!1),u.setEventedParent(this),this.map=this.getSource().map=l,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(l,u,w){if(l.freezeTileCoverage)return;this.transform=l;const R=l.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((F,se)=>{if(F[se.key]="",!this._tiles[se.key]){const he=new n.Tile(se,this._source.tileSize*se.overscaleFactor(),l.tileZoom);he.state="loaded",this._tiles[se.key]=he}return F},{});for(const F in this._tiles)F in R||(this.freeFBO(F),this._tiles[F].unloadVectorData(),delete this._tiles[F])}freeFBO(l){const u=this.proxyCachedFBO[l];if(u!==void 0){const w=Object.values(u);this.renderCachePool.push(...w),delete this.proxyCachedFBO[l]}}deallocRenderCache(){this.renderCache.forEach(l=>l.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class ko extends n.OverscaledTileID{constructor(l,u,w){super(l.overscaledZ,l.wrap,l.canonical.z,l.canonical.x,l.canonical.y),this.proxyTileKey=u,this.projMatrix=w}}class fo extends n.Elevation{constructor(l,u){super(),this.painter=l,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[w,R,F]=function(fe){const De=new n.StructArrayLayout4i8,ke=new n.StructArrayLayout3ui6,je=131;De.reserve(17161),ke.reserve(33800);const Ze=n.EXTENT/128,at=n.EXTENT+Ze/2,lt=at+Ze;for(let et=-Ze;et<lt;et+=Ze)for(let nt=-Ze;nt<lt;nt+=Ze){const ft=nt<0||nt>at||et<0||et>at?24575:0,ct=n.clamp(Math.round(nt),0,n.EXTENT),bt=n.clamp(Math.round(et),0,n.EXTENT);De.emplaceBack(ct+ft,bt,ct,bt)}const ht=(et,nt)=>{const ft=nt*je+et;ke.emplaceBack(ft+1,ft,ft+je),ke.emplaceBack(ft+je,ft+je+1,ft+1)};for(let et=1;et<129;et++)for(let nt=1;nt<129;nt++)ht(nt,et);return[0,129].forEach(et=>{for(let nt=0;nt<130;nt++)ht(nt,et),ht(et,nt)}),[De,ke,32768]}(),se=l.context;this.gridBuffer=se.createVertexBuffer(w,n.boundsAttributes.members),this.gridIndexBuffer=se.createIndexBuffer(R),this.gridSegments=n.SegmentVector.simpleSegment(0,0,w.length,R.length),this.gridNoSkirtSegments=n.SegmentVector.simpleSegment(0,0,w.length,F),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Zr(u.map),this.orthoMatrix=n.create(),n.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,n.EXTENT,0,n.EXTENT,0,1);const he=se.gl;this._overlapStencilMode=new n.StencilMode({func:he.GEQUAL,mask:255},0,255,he.KEEP,he.KEEP,he.REPLACE),this._previousZoom=l.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=u,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new zn(u.map)}set style(l){l.on("data",this._onStyleDataEvent.bind(this)),l.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=l,this._checkRenderCacheEfficiency()}update(l,u,w){if(l&&l.terrain){this._style!==l&&(this.style=l),this.enabled=!0;const R=l.terrain.properties;this.sourceCache=l.terrain.drapeRenderMode===0?this._mockSourceCache:l._getSourceCache(R.get("source")),this._exaggeration=R.get("exaggeration");const F=()=>{this.sourceCache.used&&n.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const se=this.getScaledDemTileSize();this.sourceCache.update(u,se,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,F(),this._initializing=!0),F(),u.updateElevation(!0,w),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(u),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(l){this._findCoveringTileCache[l]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const l=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||l.efficiency!==100&&n.warnOnce(`Terrain render cache efficiency is not optimal (${l.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${l.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(l){l.coord&&l.dataType==="source"?this._clearRenderCacheForTile(l.sourceCacheId,l.coord):l.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const l in this._style._sourceCaches)this._style._sourceCaches[l].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(l=>l.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const l=2*this.proxySourceCache.getSource().tileSize;return[l,l]}set useVertexMorphing(l){this._useVertexMorphing=l}updateTileBinding(l){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const u=this.proxySourceCache,w=this.painter.transform;this._initializing&&(this._initializing=w._centerAltitude===0&&this.getAtPointOrZero(n.MercatorCoordinate.fromLngLat(w.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const R=this.proxyCoords=u.getIds().map(fe=>{const De=u.getTileByID(fe).tileID;return De.projMatrix=w.calculateProjMatrix(De.toUnwrapped()),De});(function(fe,De){const ke=De.transform.pointCoordinate(De.transform.getCameraPoint()),je=new n.pointGeometry(ke.x,ke.y);fe.sort((Ze,at)=>{if(at.overscaledZ-Ze.overscaledZ)return at.overscaledZ-Ze.overscaledZ;const lt=new n.pointGeometry(Ze.canonical.x+(1<<Ze.canonical.z)*Ze.wrap,Ze.canonical.y),ht=new n.pointGeometry(at.canonical.x+(1<<at.canonical.z)*at.wrap,at.canonical.y),et=je.mult(1<<Ze.canonical.z);return et.x-=.5,et.y-=.5,et.distSqr(lt)-et.distSqr(ht)})})(R,this.painter),this._previousZoom=w.zoom;const F=this.proxyToSource||{};this.proxyToSource={},R.forEach(fe=>{this.proxyToSource[fe.key]={}}),this.terrainTileForTile={};const se=this._style._sourceCaches;for(const fe in se){const De=se[fe];if(!De.used||(De!==this.sourceCache&&this.resetTileLookupCache(De.id),this._setupProxiedCoordsForOrtho(De,l[fe],F),De.usedForTerrain))continue;const ke=l[fe];De.getSource().reparseOverscaled&&this._assignTerrainTiles(ke)}this.proxiedCoords[u.id]=R.map(fe=>new ko(fe,fe.key,this.orthoMatrix)),this._assignTerrainTiles(R),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(F),this.renderingToTexture=!1,this._updateTimestamp=n.exported.now();const he={};this._visibleDemTiles=[];for(const fe of this.proxyCoords){const De=this.terrainTileForTile[fe.key];if(!De)continue;const ke=De.tileID.key;ke in he||(this._visibleDemTiles.push(De),he[ke]=ke)}}_assignTerrainTiles(l){this._initializing||l.forEach(u=>{if(this.terrainTileForTile[u.key])return;const w=this._findTileCoveringTileID(u,this.sourceCache);w&&(this.terrainTileForTile[u.key]=w)})}_prepareDEMTextures(){const l=this.painter.context,u=l.gl;for(const w in this.terrainTileForTile){const R=this.terrainTileForTile[w],F=R.dem;!F||R.demTexture&&!R.needsDEMTextureUpload||(l.activeTexture.set(u.TEXTURE1),Fs(this.painter,R,F))}}_prepareDemTileUniforms(l,u,w,R){if(!u||u.demTexture==null)return!1;const F=l.tileID.canonical,se=Math.pow(2,u.tileID.canonical.z-F.z),he=R||"";return w[`u_dem_tl${he}`]=[F.x*se%1,F.y*se%1],w[`u_dem_scale${he}`]=se,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const l=this.painter.context,u=l.gl;if(!this._emptyDepthBufferTexture){const w=new n.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new n.Texture(l,w,u.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let l=0;const u=this._visibleDemTiles.reduce((w,R)=>{if(!R.dem)return w;const F=R.dem.tree.minimums[0];return F>0&&l++,w+F},0);return l?u/l:0}_updateEmptyDEMTexture(){const l=this.painter.context,u=l.gl;l.activeTexture.set(u.TEXTURE2);const w=this._getLoadedAreaMinimum(),R=new n.RGBAImage({width:1,height:1},new Uint8Array(n.DEMData.pack(w,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let F=this._emptyDEMTexture;return F?F.update(R,{premultiply:!1}):F=this._emptyDEMTexture=new n.Texture(l,R,u.RGBA,{premultiply:!1}),F}setupElevationDraw(l,u,w){const R=this.painter.context,F=R.gl,se=(he=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:n.DEMData.getUnpackVector(he),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var he;se.u_dem_size=this.sourceCache.getSource().tileSize,se.u_exaggeration=this.exaggeration();let fe=null,De=null,ke=1;if(w&&w.morphing&&this._useVertexMorphing){const je=w.morphing.srcDemTile,Ze=w.morphing.dstDemTile;ke=w.morphing.phase,je&&Ze&&(this._prepareDemTileUniforms(l,je,se,"_prev")&&(De=je),this._prepareDemTileUniforms(l,Ze,se)&&(fe=Ze))}if(De&&fe?(R.activeTexture.set(F.TEXTURE2),fe.demTexture.bind(F.NEAREST,F.CLAMP_TO_EDGE,F.NEAREST),R.activeTexture.set(F.TEXTURE4),De.demTexture.bind(F.NEAREST,F.CLAMP_TO_EDGE,F.NEAREST),se.u_dem_lerp=ke):(fe=this.terrainTileForTile[l.tileID.key],R.activeTexture.set(F.TEXTURE2),(this._prepareDemTileUniforms(l,fe,se)?fe.demTexture:this.emptyDEMTexture).bind(F.NEAREST,F.CLAMP_TO_EDGE)),R.activeTexture.set(F.TEXTURE3),w&&w.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(F.NEAREST,F.CLAMP_TO_EDGE),this._depthFBO&&(se.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(F.NEAREST,F.CLAMP_TO_EDGE),se.u_depth_size_inv=[1,1]),w&&w.useMeterToDem&&fe){const je=(1<<fe.tileID.canonical.z)*n.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;se.u_meter_to_dem=je}if(w&&w.labelPlaneMatrixInv&&(se.u_label_plane_matrix_inv=w.labelPlaneMatrixInv),u.setTerrainUniformValues(R,se),this.painter.transform.projection.name==="globe"){const je=this.globeUniformValues(this.painter.transform,l.tileID.canonical,w&&w.useDenormalizedUpVectorScale);u.setGlobeUniformValues(R,je)}}globeUniformValues(l,u,w){const R=l.projection;return{u_tile_tl_up:R.upVector(u,0,0),u_tile_tr_up:R.upVector(u,n.EXTENT,0),u_tile_br_up:R.upVector(u,n.EXTENT,n.EXTENT),u_tile_bl_up:R.upVector(u,0,n.EXTENT),u_tile_up_scale:w?n.GLOBE_METERS_TO_ECEF:R.upVectorScale(u,l.center.lat,l.worldSize).metersToTile}}renderToBackBuffer(l){const u=this.painter,w=this.painter.context;l.length!==0&&(w.bindFramebuffer.set(null),w.viewport.set([0,0,u.width,u.height]),u.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(R,F,se,he,fe){if(R.transform.projection.name==="globe")(function(De,ke,je,Ze,at){const lt=De.context,ht=lt.gl;let et,nt;const ft=De.options.showTerrainWireframe?2:0,ct=De.transform,bt=n.globeUseCustomAntiAliasing(De,lt,ct),It=(Pi,ii)=>{if(nt===Pi)return;const vi=[ya[Pi],"PROJECTION_GLOBE_VIEW"];bt&&vi.push("CUSTOM_ANTIALIASING"),ii&&vi.push(ya[ft]),et=De.useProgram("globeRaster",null,vi),nt=Pi},Ct=De.colorModeForRenderPass(),jt=new n.DepthMode(ht.LEQUAL,n.DepthMode.ReadWrite,De.depthRangeFor3D);js.update(at);const Qt=n.calculateGlobeMercatorMatrix(ct),Zt=[n.mercatorXfromLng(ct.center.lng),n.mercatorYfromLat(ct.center.lat)],Vt=ft?[!1,!0]:[!1],Si=De.globeSharedBuffers,qt=[ct.width*n.exported.devicePixelRatio,ct.height*n.exported.devicePixelRatio],pi=Float32Array.from(ct.globeMatrix),ti={useDenormalizedUpVectorScale:!0};if(Vt.forEach(Pi=>{nt=-1;const ii=Pi?ht.LINES:ht.TRIANGLES;for(const vi of Ze){const Ri=je.getTile(vi),Ht=n.StencilMode.disabled,ei=ke.prevTerrainTileForTile[vi.key],dn=ke.terrainTileForTile[vi.key];rs(ei,dn)&&js.newMorphing(vi.key,ei,dn,at,250),lt.activeTexture.set(ht.TEXTURE0),Ri.texture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE);const gn=js.getMorphValuesForProxy(vi.key),hn=gn?1:0;gn&&n.extend$1(ti,{morphing:{srcDemTile:gn.from,dstDemTile:gn.to,phase:n.easeCubicInOut(gn.phase)}});const Pn=n.tileCornersToBounds(vi.canonical),Zn=n.getLatitudinalLod(Pn.getCenter().lat),xn=n.getGridMatrix(vi.canonical,Pn,Zn,ct.worldSize/ct._pixelsPerMercatorPixel),tn=n.globeNormalizeECEF(n.globeTileBounds(vi.canonical)),Gs=zr(ct.projMatrix,pi,Qt,tn,n.globeToMercatorTransition(ct.zoom),Zt,ct.frustumCorners.TL,ct.frustumCorners.TR,ct.frustumCorners.BR,ct.frustumCorners.BL,ct.globeCenterInViewSpace,ct.globeRadius,qt,xn);if(It(hn,Pi),ke.setupElevationDraw(Ri,et,ti),De.prepareDrawProgram(lt,et,vi.toUnwrapped()),Si){const[Is,Hs,Us]=Pi?Si.getWirefameBuffers(De.context,Zn):Si.getGridBuffers(Zn);et.draw(lt,ii,jt,Ht,Ct,n.CullFaceMode.backCCW,Gs,"globe_raster",Is,Hs,Us)}}}),Si){const Pi=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];bt&&Pi.push("CUSTOM_ANTIALIASING"),et=De.useProgram("globeRaster",null,Pi);for(const ii of Ze){const{x:vi,y:Ri,z:Ht}=ii.canonical,ei=Ri===0,dn=Ri===(1<<Ht)-1,[gn,hn,Pn,Zn]=Si.getPoleBuffers(Ht);if(Zn&&(ei||dn)){const xn=je.getTile(ii);lt.activeTexture.set(ht.TEXTURE0),xn.texture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE);let tn=n.globePoleMatrixForTile(Ht,vi,ct);const Gs=n.globeNormalizeECEF(n.globeTileBounds(ii.canonical)),Is=(Hs,Us)=>Hs.draw(lt,ht.TRIANGLES,jt,n.StencilMode.disabled,Ct,n.CullFaceMode.disabled,zr(ct.projMatrix,tn,tn,Gs,0,Zt,ct.frustumCorners.TL,ct.frustumCorners.TR,ct.frustumCorners.BR,ct.frustumCorners.BL,ct.globeCenterInViewSpace,ct.globeRadius,qt),"globe_pole_raster",Us,Pn,Zn);ke.setupElevationDraw(xn,et,ti),De.prepareDrawProgram(lt,et,ii.toUnwrapped()),ei&&Is(et,gn),dn&&(tn=n.scale(n.create(),tn,[1,-1,1]),Is(et,hn))}}}})(R,F,se,he,fe);else{const De=R.context,ke=De.gl;let je,Ze;const at=R.options.showTerrainWireframe?2:0,lt=(ct,bt)=>{if(Ze===ct)return;const It=[ya[ct]];bt&&It.push(ya[at]),je=R.useProgram("terrainRaster",null,It),Ze=ct},ht=R.colorModeForRenderPass(),et=new n.DepthMode(ke.LEQUAL,n.DepthMode.ReadWrite,R.depthRangeFor3D);js.update(fe);const nt=R.transform,ft=6*Math.pow(1.5,22-nt.zoom)*F.exaggeration();(at?[!1,!0]:[!1]).forEach(ct=>{Ze=-1;const bt=ct?ke.LINES:ke.TRIANGLES,[It,Ct]=ct?F.getWirefameBuffer():[F.gridIndexBuffer,F.gridSegments];for(const jt of he){const Qt=se.getTile(jt),Zt=n.StencilMode.disabled,Vt=F.prevTerrainTileForTile[jt.key],Si=F.terrainTileForTile[jt.key];rs(Vt,Si)&&js.newMorphing(jt.key,Vt,Si,fe,250),De.activeTexture.set(ke.TEXTURE0),Qt.texture.bind(ke.LINEAR,ke.CLAMP_TO_EDGE,ke.LINEAR_MIPMAP_NEAREST);const qt=js.getMorphValuesForProxy(jt.key),pi=qt?1:0;let ti;qt&&(ti={morphing:{srcDemTile:qt.from,dstDemTile:qt.to,phase:n.easeCubicInOut(qt.phase)}});const Pi=On(jt.projMatrix,xl(jt.canonical,nt.renderWorldCopies)?ft/10:ft);lt(pi,ct),F.setupElevationDraw(Qt,je,ti),R.prepareDrawProgram(De,je,jt.toUnwrapped()),je.draw(De,bt,et,Zt,ht,n.CullFaceMode.backCCW,Pi,"terrain_raster",F.gridBuffer,It,Ct)}})}}(u,this,this.proxySourceCache,l,this._updateTimestamp),this.renderingToTexture=!0,u.gpuTimingDeferredRenderEnd(),l.splice(0,l.length))}renderBatch(l){if(this._drapedRenderBatches.length===0)return l+1;this.renderingToTexture=!0;const u=this.painter,w=this.painter.context,R=this.proxySourceCache,F=this.proxiedCoords[R.id],se=this._drapedRenderBatches.shift(),he=[],fe=u.style.order;let De=0;for(const ke of F){const je=R.getTileByID(ke.proxyTileKey),Ze=R.proxyCachedFBO[ke.key]?R.proxyCachedFBO[ke.key][l]:void 0,at=Ze!==void 0?R.renderCache[Ze]:this.pool[De++],lt=Ze!==void 0;if(je.texture=at.tex,lt&&!at.dirty){he.push(je.tileID);continue}let ht;w.bindFramebuffer.set(at.fb.framebuffer),this.renderedToTile=!1,at.dirty&&(w.clear({color:n.Color.transparent,stencil:0}),at.dirty=!1);for(let et=se.start;et<=se.end;++et){const nt=u.style._layers[fe[et]];if(nt.isHidden(u.transform.zoom))continue;const ft=u.style._getLayerSourceCache(nt),ct=ft?this.proxyToSource[ke.key][ft.id]:[ke];if(!ct)continue;const bt=ct;w.viewport.set([0,0,at.fb.width,at.fb.height]),ht!==(ft?ft.id:null)&&(this._setupStencil(at,ct,nt,ft),ht=ft?ft.id:null),u.renderLayer(u,ft,nt,bt)}this.renderedToTile?(at.dirty=!0,he.push(je.tileID)):lt||--De,De===5&&(De=0,this.renderToBackBuffer(he))}return this.renderToBackBuffer(he),this.renderingToTexture=!1,w.bindFramebuffer.set(null),w.viewport.set([0,0,u.width,u.height]),se.end+1}postRender(){}renderCacheEfficiency(l){const u=l.order.length;if(u===0)return{efficiency:100};let w,R=0,F=0,se=!1;for(let he=0;he<u;++he){const fe=l._layers[l.order[he]];this._style.isLayerDraped(fe)?(se&&++R,++F):se||(se=!0,w=fe.id)}return F===0?{efficiency:100}:{efficiency:100*(1-R/F),firstUndrapedLayer:w}}getMinElevationBelowMSL(){let l=0;return this._visibleDemTiles.filter(u=>u.dem).forEach(u=>{l=Math.min(l,u.dem.tree.minimums[0])}),l===0?l:(l-30)*this._exaggeration}raycast(l,u,w){if(!this._visibleDemTiles)return null;const R=this._visibleDemTiles.filter(F=>F.dem).map(F=>{const se=F.tileID,he=1<<se.overscaledZ,{x:fe,y:De}=se.canonical,ke=fe/he,je=(fe+1)/he,Ze=De/he,at=(De+1)/he;return{minx:ke,miny:Ze,maxx:je,maxy:at,t:F.dem.tree.raycastRoot(ke,Ze,je,at,l,u,w),tile:F}});R.sort((F,se)=>(F.t!==null?F.t:Number.MAX_VALUE)-(se.t!==null?se.t:Number.MAX_VALUE));for(const F of R){if(F.t==null)return null;const se=F.tile.dem.tree.raycast(F.minx,F.miny,F.maxx,F.maxy,l,u,w);if(se!=null)return se}return null}_createFBO(){const l=this.painter.context,u=l.gl,w=this.drapeBufferSize;l.activeTexture.set(u.TEXTURE0);const R=new n.Texture(l,{width:w[0],height:w[1],data:null},u.RGBA);R.bind(u.LINEAR,u.CLAMP_TO_EDGE);const F=l.createFramebuffer(w[0],w[1],!1);return F.colorAttachment.set(R.texture),F.depthAttachment=new Va(l,F.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=l.createRenderbuffer(l.gl.DEPTH_STENCIL,w[0],w[1]),this._stencilRef=0,F.depthAttachment.set(this._sharedDepthStencil),l.clear({stencil:0})):F.depthAttachment.set(this._sharedDepthStencil),l.extTextureFilterAnisotropic&&!l.extTextureFilterAnisotropicForceOff&&u.texParameterf(u.TEXTURE_2D,l.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,l.extTextureFilterAnisotropicMax),{fb:F,tex:R,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const l in this._style._sourceCaches)if(this._style._sourceCaches[l].hasTransition())return!0;return this._style.order.some(l=>{const u=this._style._layers[l],w=u.isHidden(this.painter.transform.zoom);return u.type!=="custom"&&!w&&u.hasTransition()})}_clearRasterFadeFromRenderCache(){let l=!1;for(const u in this._style._sourceCaches)if(this._style._sourceCaches[u]._source instanceof We){l=!0;break}if(l)for(let u=0;u<this._style.order.length;++u){const w=this._style._layers[this._style.order[u]],R=w.isHidden(this.painter.transform.zoom),F=this._style._getLayerSourceCache(w);if(w.type!=="raster"||R||!F)continue;const se=w.paint.get("raster-fade-duration");for(const he of this.proxyCoords){const fe=this.proxyToSource[he.key][F.id];if(fe)for(const De of fe){const ke=Ao(F.getTile(De),F.findLoadedParent(De,0),F,this.painter.transform,se);(ke.opacity!==1||ke.mix!==0)&&this._clearRenderCacheForTile(F.id,De)}}}}_setupDrapedRenderBatches(){const l=this._style.order,u=l.length;if(u===0)return;const w=[];let R,F=0,se=this._style._layers[l[F]];for(;!this._style.isLayerDraped(se)&&se.isHidden(this.painter.transform.zoom)&&++F<u;)se=this._style._layers[l[F]];for(;F<u;++F){const he=this._style._layers[l[F]];he.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(he)?R===void 0&&(R=F):R!==void 0&&(w.push({start:R,end:F-1}),R=void 0))}R!==void 0&&w.push({start:R,end:F-1}),this._drapedRenderBatches=w}_setupRenderCache(l){const u=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,u.renderCache.length>u.renderCachePool.length){const se=Object.values(u.proxyCachedFBO);u.proxyCachedFBO={};for(let he=0;he<se.length;++he){const fe=Object.values(se[he]);u.renderCachePool.push(...fe)}}return}this._clearRasterFadeFromRenderCache();const w=this.proxyCoords,R=this._tilesDirty;for(let se=w.length-1;se>=0;se--){const he=w[se];if(u.getTileByID(he.key),u.proxyCachedFBO[he.key]!==void 0){const fe=l[he.key],De=this.proxyToSource[he.key];let ke=0;for(const je in De){const Ze=De[je],at=fe[je];if(!at||at.length!==Ze.length||Ze.some((lt,ht)=>lt!==at[ht]||R[je]&&R[je].hasOwnProperty(lt.key))){ke=-1;break}++ke}for(const je in u.proxyCachedFBO[he.key])u.renderCache[u.proxyCachedFBO[he.key][je]].dirty=ke<0||ke!==Object.values(fe).length}}const F=[...this._drapedRenderBatches];F.sort((se,he)=>he.end-he.start-(se.end-se.start));for(const se of F)for(const he of w){if(u.proxyCachedFBO[he.key])continue;let fe=u.renderCachePool.pop();fe===void 0&&u.renderCache.length<50&&(fe=u.renderCache.length,u.renderCache.push(this._createFBO())),fe!==void 0&&(u.proxyCachedFBO[he.key]={},u.proxyCachedFBO[he.key][se.start]=fe,u.renderCache[fe].dirty=!0)}this._tilesDirty={}}_setupStencil(l,u,w,R){if(!R||!this._sourceTilesOverlap[R.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const F=this.painter.context,se=F.gl;if(u.length<=1)return void(this._overlapStencilType=!1);let he;if(w.isTileClipped())he=u.length,this._overlapStencilMode.test={func:se.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(u[0].overscaledZ>u[u.length-1].overscaledZ))return void(this._overlapStencilType=!1);he=1,this._overlapStencilMode.test={func:se.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+he>255&&(F.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=he,this._overlapStencilMode.ref=this._stencilRef,w.isTileClipped()&&this._renderTileClippingMasks(u,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(l){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[l.key]),this._overlapStencilMode):n.StencilMode.disabled}_renderTileClippingMasks(l,u){const w=this.painter,R=this.painter.context,F=R.gl;w._tileClippingMaskIDs={},R.setColorMode(n.ColorMode.disabled),R.setDepthMode(n.DepthMode.disabled);const se=w.useProgram("clippingMask");for(const he of l){const fe=w._tileClippingMaskIDs[he.key]=--u;se.draw(R,F.TRIANGLES,n.DepthMode.disabled,new n.StencilMode({func:F.ALWAYS,mask:0},fe,255,F.KEEP,F.KEEP,F.REPLACE),n.ColorMode.disabled,n.CullFaceMode.disabled,Nr(he.projMatrix),"$clipping",w.tileExtentBuffer,w.quadTriangleIndexBuffer,w.tileExtentSegments)}}pointCoordinate(l){const u=this.painter.transform;if(l.x<0||l.x>u.width||l.y<0||l.y>u.height)return null;const w=[l.x,l.y,1,1];n.transformMat4$1(w,w,u.pixelMatrixInverse),n.scale$1(w,w,1/w[3]),w[0]/=u.worldSize,w[1]/=u.worldSize;const R=u._camera.position,F=n.mercatorZfromAltitude(1,u.center.lat),se=[R[0],R[1],R[2]/F,0],he=n.subtract([],w.slice(0,3),se);n.normalize(he,he);const fe=this.raycast(se,he,this._exaggeration);return fe!==null&&fe?(n.scaleAndAdd(se,se,he,fe),se[3]=se[2],se[2]*=F,se):null}drawDepth(){const l=this.painter,u=l.context,w=this.proxySourceCache,R=Math.ceil(l.width),F=Math.ceil(l.height);if(!this._depthFBO||this._depthFBO.width===R&&this._depthFBO.height===F||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const se=u.gl,he=u.createFramebuffer(R,F,!0);u.activeTexture.set(se.TEXTURE0);const fe=new n.Texture(u,{width:R,height:F,data:null},se.RGBA);fe.bind(se.NEAREST,se.CLAMP_TO_EDGE),he.colorAttachment.set(fe.texture);const De=u.createRenderbuffer(u.gl.DEPTH_COMPONENT16,R,F);he.depthAttachment.set(De),this._depthFBO=he,this._depthTexture=fe}u.bindFramebuffer.set(this._depthFBO.framebuffer),u.viewport.set([0,0,R,F]),function(se,he,fe,De){if(se.transform.projection.name==="globe")return;const ke=se.context,je=ke.gl;ke.clear({depth:1});const Ze=se.useProgram("terrainDepth"),at=new n.DepthMode(je.LESS,n.DepthMode.ReadWrite,se.depthRangeFor3D);for(const lt of De){const ht=fe.getTile(lt),et=On(lt.projMatrix,0);he.setupElevationDraw(ht,Ze),Ze.draw(ke,je.TRIANGLES,at,n.StencilMode.disabled,n.ColorMode.unblended,n.CullFaceMode.backCCW,et,"terrain_depth",he.gridBuffer,he.gridIndexBuffer,he.gridNoSkirtSegments)}}(l,this,w,this.proxyCoords)}_setupProxiedCoordsForOrtho(l,u,w){if(l.getSource()instanceof _t)return this._setupProxiedCoordsForImageSource(l,u,w);this._findCoveringTileCache[l.id]=this._findCoveringTileCache[l.id]||{};const R=this.proxiedCoords[l.id]=[],F=this.proxyCoords;for(let he=0;he<F.length;he++){const fe=F[he],De=this._findTileCoveringTileID(fe,l);if(De){const ke=this._createProxiedId(fe,De,w[fe.key]&&w[fe.key][l.id]);R.push(ke),this.proxyToSource[fe.key][l.id]=[ke]}}let se=!1;for(let he=0;he<u.length;he++){const fe=l.getTile(u[he]);if(!fe||!fe.hasData())continue;const De=this._findTileCoveringTileID(fe.tileID,this.proxySourceCache);if(De&&De.tileID.canonical.z!==fe.tileID.canonical.z){const ke=this.proxyToSource[De.tileID.key][l.id],je=this._createProxiedId(De.tileID,fe,w[De.tileID.key]&&w[De.tileID.key][l.id]);ke?ke.splice(ke.length-1,0,je):this.proxyToSource[De.tileID.key][l.id]=[je],R.push(je),se=!0}}this._sourceTilesOverlap[l.id]=se}_setupProxiedCoordsForImageSource(l,u,w){if(!l.getSource().loaded())return;const R=this.proxiedCoords[l.id]=[],F=this.proxyCoords,se=l.getSource(),he=new n.pointGeometry(se.tileID.x,se.tileID.y)._div(1<<se.tileID.z),fe=se.coordinates.map(n.MercatorCoordinate.fromLngLat).reduce((ke,je)=>(ke.min.x=Math.min(ke.min.x,je.x-he.x),ke.min.y=Math.min(ke.min.y,je.y-he.y),ke.max.x=Math.max(ke.max.x,je.x-he.x),ke.max.y=Math.max(ke.max.y,je.y-he.y),ke),{min:new n.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new n.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),De=(ke,je)=>{const Ze=ke.wrap+ke.canonical.x/(1<<ke.canonical.z),at=ke.canonical.y/(1<<ke.canonical.z),lt=n.EXTENT/(1<<ke.canonical.z),ht=je.wrap+je.canonical.x/(1<<je.canonical.z),et=je.canonical.y/(1<<je.canonical.z);return Ze+lt<ht+fe.min.x||Ze>ht+fe.max.x||at+lt<et+fe.min.y||at>et+fe.max.y};for(let ke=0;ke<F.length;ke++){const je=F[ke];for(let Ze=0;Ze<u.length;Ze++){const at=l.getTile(u[Ze]);if(!at||!at.hasData()||De(je,at.tileID))continue;const lt=this._createProxiedId(je,at,w[je.key]&&w[je.key][l.id]),ht=this.proxyToSource[je.key][l.id];ht?ht.push(lt):this.proxyToSource[je.key][l.id]=[lt],R.push(lt)}}}_createProxiedId(l,u,w){let R=this.orthoMatrix;if(w){const F=w.find(se=>se.key===u.tileID.key);if(F)return F}if(u.tileID.key!==l.key){const F=l.canonical.z-u.tileID.canonical.z;let se,he,fe;R=n.create();const De=u.tileID.wrap-l.wrap<<l.overscaledZ;F>0?(se=n.EXTENT>>F,he=se*((u.tileID.canonical.x<<F)-l.canonical.x+De),fe=se*((u.tileID.canonical.y<<F)-l.canonical.y)):(se=n.EXTENT<<-F,he=n.EXTENT*(u.tileID.canonical.x-(l.canonical.x+De<<-F)),fe=n.EXTENT*(u.tileID.canonical.y-(l.canonical.y<<-F))),n.ortho(R,0,se,0,se,0,1),n.translate(R,R,[he,fe,0])}return new ko(u.tileID,l.key,R)}_findTileCoveringTileID(l,u){let w=u.getTile(l);if(w&&w.hasData())return w;const R=this._findCoveringTileCache[u.id],F=R[l.key];if(w=F?u.getTileByID(F):null,w&&w.hasData()||F===null)return w;let se=w?w.tileID:l,he=se.overscaledZ;const fe=u.getSource().minzoom,De=[];if(!F){const je=u.getSource().maxzoom;if(l.canonical.z>=je){const Ze=l.canonical.z-je;u.getSource().reparseOverscaled?(he=Math.max(l.canonical.z+2,u.transform.tileZoom),se=new n.OverscaledTileID(he,l.wrap,je,l.canonical.x>>Ze,l.canonical.y>>Ze)):Ze!==0&&(he=je,se=new n.OverscaledTileID(he,l.wrap,je,l.canonical.x>>Ze,l.canonical.y>>Ze))}se.key!==l.key&&(De.push(se.key),w=u.getTile(se))}const ke=je=>{De.forEach(Ze=>{R[Ze]=je}),De.length=0};for(he-=1;he>=fe&&(!w||!w.hasData());he--){w&&ke(w.tileID.key);const je=se.calculateScaledKey(he);if(w=u.getTileByID(je),w&&w.hasData())break;const Ze=R[je];if(Ze===null)break;Ze===void 0?De.push(je):w=u.getTileByID(Ze)}return ke(w?w.tileID.key:null),w&&w.hasData()?w:null}findDEMTileFor(l){return this.enabled?this._findTileCoveringTileID(l,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(l,u){let w=this._tilesDirty[l];w||(w=this._tilesDirty[l]={}),w[u.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const l=function(u){let w=0;const R=new n.StructArrayLayout2ui4,F=131;for(let se=1;se<129;se++){for(let he=1;he<129;he++)w=se*F+he,R.emplaceBack(w,w+1),R.emplaceBack(w,w+F),R.emplaceBack(w+1,w+F),se===128&&R.emplaceBack(w+F,w+F+1);R.emplaceBack(w+1,w+1+F)}return R}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(l),this.wireframeSegments=n.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,l.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class $o{static cacheKey(l,u,w,R){let F=`${u}${R?R.cacheKey:""}`;for(const se of w)l.usedDefines.includes(se)&&(F+=`/${se}`);return F}constructor(l,u,w,R,F,se){const he=l.gl;this.program=he.createProgram();const fe=function(et){const nt=[];for(let ft=0;ft<et.length;ft++){if(et[ft]===null)continue;const ct=et[ft].split(" ");nt.push(ct.pop())}return nt}(w.staticAttributes),De=R?R.getBinderAttributes():[],ke=fe.concat(De);let je=R?R.defines():[];je=je.concat(se.map(et=>`#define ${et}`));const Ze=je.concat(l.extStandardDerivatives?`#extension GL_OES_standard_derivatives : enable
`.concat(Ti):Ti,Ti,hi,Xt.fragmentSource,Rt.fragmentSource,w.fragmentSource).join(`
`),at=je.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,hi,Xt.vertexSource,Rt.vertexSource,Je.vertexSource,w.vertexSource).join(`
`),lt=he.createShader(he.FRAGMENT_SHADER);if(he.isContextLost())return void(this.failedToCreate=!0);he.shaderSource(lt,Ze),he.compileShader(lt),he.attachShader(this.program,lt);const ht=he.createShader(he.VERTEX_SHADER);if(he.isContextLost())this.failedToCreate=!0;else{he.shaderSource(ht,at),he.compileShader(ht),he.attachShader(this.program,ht),this.attributes={},this.numAttributes=ke.length;for(let et=0;et<this.numAttributes;et++)ke[et]&&(he.bindAttribLocation(this.program,et,ke[et]),this.attributes[ke[et]]=et);he.linkProgram(this.program),he.deleteShader(ht),he.deleteShader(lt),this.fixedUniforms=F(l),this.binderUniforms=R?R.getUniforms(l):[],se.includes("TERRAIN")&&(this.terrainUniforms=(et=>({u_dem:new n.Uniform1i(et),u_dem_prev:new n.Uniform1i(et),u_dem_unpack:new n.Uniform4f(et),u_dem_tl:new n.Uniform2f(et),u_dem_scale:new n.Uniform1f(et),u_dem_tl_prev:new n.Uniform2f(et),u_dem_scale_prev:new n.Uniform1f(et),u_dem_size:new n.Uniform1f(et),u_dem_lerp:new n.Uniform1f(et),u_exaggeration:new n.Uniform1f(et),u_depth:new n.Uniform1i(et),u_depth_size_inv:new n.Uniform2f(et),u_meter_to_dem:new n.Uniform1f(et),u_label_plane_matrix_inv:new n.UniformMatrix4f(et)}))(l)),se.includes("GLOBE")&&(this.globeUniforms=(et=>({u_tile_tl_up:new n.Uniform3f(et),u_tile_tr_up:new n.Uniform3f(et),u_tile_br_up:new n.Uniform3f(et),u_tile_bl_up:new n.Uniform3f(et),u_tile_up_scale:new n.Uniform1f(et)}))(l)),se.includes("FOG")&&(this.fogUniforms=(et=>({u_fog_matrix:new n.UniformMatrix4f(et),u_fog_range:new n.Uniform2f(et),u_fog_color:new n.Uniform4f(et),u_fog_horizon_blend:new n.Uniform1f(et),u_fog_temporal_offset:new n.Uniform1f(et),u_frustum_tl:new n.Uniform3f(et),u_frustum_tr:new n.Uniform3f(et),u_frustum_br:new n.Uniform3f(et),u_frustum_bl:new n.Uniform3f(et),u_globe_pos:new n.Uniform3f(et),u_globe_radius:new n.Uniform1f(et),u_globe_transition:new n.Uniform1f(et),u_is_globe:new n.Uniform1i(et),u_viewport:new n.Uniform2f(et)}))(l))}}setTerrainUniformValues(l,u){if(!this.terrainUniforms)return;const w=this.terrainUniforms;if(!this.failedToCreate){l.program.set(this.program);for(const R in u)w[R]&&w[R].set(this.program,R,u[R])}}setGlobeUniformValues(l,u){if(!this.globeUniforms)return;const w=this.globeUniforms;if(!this.failedToCreate){l.program.set(this.program);for(const R in u)w[R]&&w[R].set(this.program,R,u[R])}}setFogUniformValues(l,u){if(!this.fogUniforms)return;const w=this.fogUniforms;if(!this.failedToCreate){l.program.set(this.program);for(const R in u)w[R].set(this.program,R,u[R])}}draw(l,u,w,R,F,se,he,fe,De,ke,je,Ze,at,lt,ht){const et=l.gl;if(this.failedToCreate)return;l.program.set(this.program),l.setDepthMode(w),l.setStencilMode(R),l.setColorMode(F),l.setCullFace(se);for(const ft of Object.keys(this.fixedUniforms))this.fixedUniforms[ft].set(this.program,ft,he[ft]);lt&&lt.setUniforms(this.program,l,this.binderUniforms,Ze,{zoom:at});const nt={[et.LINES]:2,[et.TRIANGLES]:3,[et.LINE_STRIP]:1}[u];for(const ft of je.get()){const ct=ft.vaos||(ft.vaos={});(ct[fe]||(ct[fe]=new Rn)).bind(l,this,De,lt?lt.getPaintVertexBuffers():[],ke,ft.vertexOffset,ht||[]),et.drawElements(u,ft.primitiveLength*nt,et.UNSIGNED_SHORT,ft.primitiveOffset*nt*2)}}}function bl(y,l){const u=Math.pow(2,l.tileID.overscaledZ),w=l.tileSize*Math.pow(2,y.transform.tileZoom)/u,R=w*(l.tileID.canonical.x+l.tileID.wrap*u),F=w*l.tileID.canonical.y;return{u_image:0,u_texsize:l.imageAtlasTexture.size,u_tile_units_to_pixels:1/J(l,1,y.transform.tileZoom),u_pixel_coord_upper:[R>>16,F>>16],u_pixel_coord_lower:[65535&R,65535&F]}}const Ia=n.create(),Jc=(y,l,u,w,R,F,se,he,fe,De,ke)=>{const je=l.style.light,Ze=je.properties.get("position"),at=[Ze.x,Ze.y,Ze.z],lt=n.create$1();je.properties.get("anchor")==="viewport"&&(n.fromRotation(lt,-l.transform.angle),n.transformMat3(at,at,lt));const ht=je.properties.get("color"),et=l.transform,nt={u_matrix:y,u_lightpos:at,u_lightintensity:je.properties.get("intensity"),u_lightcolor:[ht.r,ht.g,ht.b],u_vertical_gradient:+u,u_opacity:w,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Ia,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:R,u_edge_radius:F};return et.projection.name==="globe"&&(nt.u_tile_id=[se.canonical.x,se.canonical.y,1<<se.canonical.z],nt.u_zoom_transition=fe,nt.u_inv_rot_matrix=ke,nt.u_merc_center=De,nt.u_up_dir=et.projection.upVector(new n.CanonicalTileID(0,0,0),De[0]*n.EXTENT,De[1]*n.EXTENT),nt.u_height_lift=he),nt},Cs=(y,l,u,w,R,F,se,he,fe,De,ke,je)=>{const Ze=Jc(y,l,u,w,R,F,se,fe,De,ke,je),at={u_height_factor:-Math.pow(2,se.overscaledZ)/he.tileSize/8};return n.extend(Ze,bl(l,he),at)},Go=y=>({u_matrix:y}),xc=(y,l,u)=>n.extend(Go(y),bl(l,u)),wl=(y,l)=>({u_matrix:y,u_world:l}),mo=(y,l,u,w)=>n.extend(xc(y,l,u),{u_world:w}),Sl=n.create(),Hl=(y,l,u,w,R,F)=>{const se=y.transform,he=se.projection.name==="globe";let fe;if(F.paint.get("circle-pitch-alignment")==="map")if(he){const ke=n.globePixelsToTileUnits(se.zoom,l.canonical)*se._pixelsPerMercatorPixel;fe=Float32Array.from([ke,0,0,ke])}else fe=se.calculatePixelsToTileUnitsMatrix(u);else fe=new Float32Array([se.pixelsToGLUnits[0],0,0,se.pixelsToGLUnits[1]]);const De={u_camera_to_center_distance:se.cameraToCenterDistance,u_matrix:y.translatePosMatrix(l.projMatrix,u,F.paint.get("circle-translate"),F.paint.get("circle-translate-anchor")),u_device_pixel_ratio:n.exported.devicePixelRatio,u_extrude_scale:fe,u_inv_rot_matrix:Sl,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(he){De.u_inv_rot_matrix=w,De.u_merc_center=R,De.u_tile_id=[l.canonical.x,l.canonical.y,1<<l.canonical.z],De.u_zoom_transition=n.globeToMercatorTransition(se.zoom);const ke=R[0]*n.EXTENT,je=R[1]*n.EXTENT;De.u_up_dir=se.projection.upVector(new n.CanonicalTileID(0,0,0),ke,je)}return De},Ad=y=>{const l=[];return y.paint.get("circle-pitch-alignment")==="map"&&l.push("PITCH_WITH_MAP"),y.paint.get("circle-pitch-scale")==="map"&&l.push("SCALE_WITH_MAP"),l},Tl=(y,l,u,w)=>{const R=n.EXTENT/u.tileSize;return{u_matrix:y,u_camera_to_center_distance:l.getCameraToCenterDistance(w),u_extrude_scale:[l.pixelsToGLUnits[0]/R,l.pixelsToGLUnits[1]/R]}},Cl=(y,l,u=1)=>({u_matrix:y,u_color:l,u_overlay:0,u_overlay_scale:u}),Jd=n.create(),El=(y,l,u,w,R,F,se)=>{const he=y.transform,fe=he.projection.name==="globe",De=fe?n.globePixelsToTileUnits(he.zoom,l.canonical)*he._pixelsPerMercatorPixel:J(u,1,F),ke={u_matrix:l.projMatrix,u_extrude_scale:De,u_intensity:se,u_inv_rot_matrix:Jd,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(fe){ke.u_inv_rot_matrix=w,ke.u_merc_center=R,ke.u_tile_id=[l.canonical.x,l.canonical.y,1<<l.canonical.z],ke.u_zoom_transition=n.globeToMercatorTransition(he.zoom);const je=R[0]*n.EXTENT,Ze=R[1]*n.EXTENT;ke.u_up_dir=he.projection.upVector(new n.CanonicalTileID(0,0,0),je,Ze)}return ke},kd=(y,l,u,w,R,F,se)=>{const he=y.transform,fe=he.calculatePixelsToTileUnitsMatrix(l);return{u_matrix:Ml(y,l,u,w),u_pixels_to_tile_units:fe,u_device_pixel_ratio:F,u_units_to_pixels:[1/he.pixelsToGLUnits[0],1/he.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:R,u_texsize:Qc(u)?l.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:ea(l,y.transform),u_alpha_discard_threshold:0,u_trim_offset:se}},Qo=(y,l,u,w,R)=>{const F=y.transform;return{u_matrix:Ml(y,l,u,w),u_texsize:l.imageAtlasTexture.size,u_pixels_to_tile_units:F.calculatePixelsToTileUnitsMatrix(l),u_device_pixel_ratio:R,u_image:0,u_tile_units_to_pixels:ea(l,F),u_units_to_pixels:[1/F.pixelsToGLUnits[0],1/F.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function ea(y,l){return 1/J(y,1,l.tileZoom)}function Ml(y,l,u,w){return y.translatePosMatrix(w||l.tileID.projMatrix,l,u.paint.get("line-translate"),u.paint.get("line-translate-anchor"))}function Qc(y){const l=y.paint.get("line-dasharray").value;return l.value||l.kind!=="constant"}const Wl=(y,l,u,w,R,F)=>{return{u_matrix:y,u_tl_parent:l,u_scale_parent:u,u_fade_t:w.mix,u_opacity:w.opacity*R.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:R.paint.get("raster-brightness-min"),u_brightness_high:R.paint.get("raster-brightness-max"),u_saturation_factor:(he=R.paint.get("raster-saturation"),he>0?1-1/(1.001-he):-he),u_contrast_factor:(se=R.paint.get("raster-contrast"),se>0?1/(1-se):1+se),u_spin_weights:Po(R.paint.get("raster-hue-rotate")),u_perspective_transform:F};var se,he};function Po(y){y*=Math.PI/180;const l=Math.sin(y),u=Math.cos(y);return[(2*u+1)/3,(-Math.sqrt(3)*l-u+1)/3,(Math.sqrt(3)*l-u+1)/3]}const Kr=n.create(),Xa=(y,l,u,w,R,F,se,he,fe,De,ke,je,Ze,at,lt,ht)=>{const et=R.transform,nt={u_is_size_zoom_constant:+(y==="constant"||y==="source"),u_is_size_feature_constant:+(y==="constant"||y==="camera"),u_size_t:l?l.uSizeT:0,u_size:l?l.uSize:0,u_camera_to_center_distance:et.cameraToCenterDistance,u_rotate_symbol:+u,u_aspect_ratio:et.width/et.height,u_fade_change:R.options.fadeDuration?R.symbolFadeChange:1,u_matrix:F,u_label_plane_matrix:se,u_coord_matrix:he,u_is_text:+fe,u_pitch_with_map:+w,u_texsize:De,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Kr,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:Kr,u_up_vector:[0,-1,0]};return ht.name==="globe"&&(nt.u_tile_id=[ke.canonical.x,ke.canonical.y,1<<ke.canonical.z],nt.u_zoom_transition=je,nt.u_inv_rot_matrix=at,nt.u_merc_center=Ze,nt.u_camera_forward=et._camera.forward(),nt.u_ecef_origin=n.globeECEFOrigin(et.globeMatrix,ke.toUnwrapped()),nt.u_tile_matrix=Float32Array.from(et.globeMatrix),nt.u_up_vector=lt),nt},Al=(y,l,u,w,R,F,se,he,fe,De,ke,je,Ze,at,lt,ht,et)=>n.extend(Xa(y,l,u,w,R,F,se,he,fe,De,je,Ze,at,lt,ht,et),{u_gamma_scale:w?R.transform.cameraToCenterDistance*Math.cos(R.terrain?0:R.transform._pitch):1,u_device_pixel_ratio:n.exported.devicePixelRatio,u_is_halo:+ke}),Yl=(y,l,u,w,R,F,se,he,fe,De,ke,je,Ze,at,lt,ht)=>n.extend(Al(y,l,u,w,R,F,se,he,!0,fe,!0,ke,je,Ze,at,lt,ht),{u_texsize_icon:De,u_texture_icon:1}),Oh=(y,l,u)=>({u_matrix:y,u_opacity:l,u_color:u}),ls=(y,l,u,w,R)=>n.extend(function(F,se,he){const fe=se.imageManager.getPattern(F.toString()),{width:De,height:ke}=se.imageManager.getPixelSize(),je=Math.pow(2,he.tileID.overscaledZ),Ze=he.tileSize*Math.pow(2,se.transform.tileZoom)/je,at=Ze*(he.tileID.canonical.x+he.tileID.wrap*je),lt=Ze*he.tileID.canonical.y;return{u_image:0,u_pattern_tl:fe.tl,u_pattern_br:fe.br,u_texsize:[De,ke],u_pattern_size:fe.displaySize,u_tile_units_to_pixels:1/J(he,1,se.transform.tileZoom),u_pixel_coord_upper:[at>>16,lt>>16],u_pixel_coord_lower:[65535&at,65535&lt]}}(w,u,R),{u_matrix:y,u_opacity:l}),vo={fillExtrusion:y=>({u_matrix:new n.UniformMatrix4f(y),u_lightpos:new n.Uniform3f(y),u_lightintensity:new n.Uniform1f(y),u_lightcolor:new n.Uniform3f(y),u_vertical_gradient:new n.Uniform1f(y),u_opacity:new n.Uniform1f(y),u_edge_radius:new n.Uniform1f(y),u_ao:new n.Uniform2f(y),u_tile_id:new n.Uniform3f(y),u_zoom_transition:new n.Uniform1f(y),u_inv_rot_matrix:new n.UniformMatrix4f(y),u_merc_center:new n.Uniform2f(y),u_up_dir:new n.Uniform3f(y),u_height_lift:new n.Uniform1f(y)}),fillExtrusionPattern:y=>({u_matrix:new n.UniformMatrix4f(y),u_lightpos:new n.Uniform3f(y),u_lightintensity:new n.Uniform1f(y),u_lightcolor:new n.Uniform3f(y),u_vertical_gradient:new n.Uniform1f(y),u_height_factor:new n.Uniform1f(y),u_edge_radius:new n.Uniform1f(y),u_ao:new n.Uniform2f(y),u_tile_id:new n.Uniform3f(y),u_zoom_transition:new n.Uniform1f(y),u_inv_rot_matrix:new n.UniformMatrix4f(y),u_merc_center:new n.Uniform2f(y),u_up_dir:new n.Uniform3f(y),u_height_lift:new n.Uniform1f(y),u_image:new n.Uniform1i(y),u_texsize:new n.Uniform2f(y),u_pixel_coord_upper:new n.Uniform2f(y),u_pixel_coord_lower:new n.Uniform2f(y),u_tile_units_to_pixels:new n.Uniform1f(y),u_opacity:new n.Uniform1f(y)}),fill:y=>({u_matrix:new n.UniformMatrix4f(y)}),fillPattern:y=>({u_matrix:new n.UniformMatrix4f(y),u_image:new n.Uniform1i(y),u_texsize:new n.Uniform2f(y),u_pixel_coord_upper:new n.Uniform2f(y),u_pixel_coord_lower:new n.Uniform2f(y),u_tile_units_to_pixels:new n.Uniform1f(y)}),fillOutline:y=>({u_matrix:new n.UniformMatrix4f(y),u_world:new n.Uniform2f(y)}),fillOutlinePattern:y=>({u_matrix:new n.UniformMatrix4f(y),u_world:new n.Uniform2f(y),u_image:new n.Uniform1i(y),u_texsize:new n.Uniform2f(y),u_pixel_coord_upper:new n.Uniform2f(y),u_pixel_coord_lower:new n.Uniform2f(y),u_tile_units_to_pixels:new n.Uniform1f(y)}),circle:y=>({u_camera_to_center_distance:new n.Uniform1f(y),u_extrude_scale:new n.UniformMatrix2f(y),u_device_pixel_ratio:new n.Uniform1f(y),u_matrix:new n.UniformMatrix4f(y),u_inv_rot_matrix:new n.UniformMatrix4f(y),u_merc_center:new n.Uniform2f(y),u_tile_id:new n.Uniform3f(y),u_zoom_transition:new n.Uniform1f(y),u_up_dir:new n.Uniform3f(y)}),collisionBox:y=>({u_matrix:new n.UniformMatrix4f(y),u_camera_to_center_distance:new n.Uniform1f(y),u_extrude_scale:new n.Uniform2f(y)}),collisionCircle:y=>({u_matrix:new n.UniformMatrix4f(y),u_inv_matrix:new n.UniformMatrix4f(y),u_camera_to_center_distance:new n.Uniform1f(y),u_viewport_size:new n.Uniform2f(y)}),debug:y=>({u_color:new n.UniformColor(y),u_matrix:new n.UniformMatrix4f(y),u_overlay:new n.Uniform1i(y),u_overlay_scale:new n.Uniform1f(y)}),clippingMask:y=>({u_matrix:new n.UniformMatrix4f(y)}),heatmap:y=>({u_extrude_scale:new n.Uniform1f(y),u_intensity:new n.Uniform1f(y),u_matrix:new n.UniformMatrix4f(y),u_inv_rot_matrix:new n.UniformMatrix4f(y),u_merc_center:new n.Uniform2f(y),u_tile_id:new n.Uniform3f(y),u_zoom_transition:new n.Uniform1f(y),u_up_dir:new n.Uniform3f(y)}),heatmapTexture:y=>({u_image:new n.Uniform1i(y),u_color_ramp:new n.Uniform1i(y),u_opacity:new n.Uniform1f(y)}),hillshade:y=>({u_matrix:new n.UniformMatrix4f(y),u_image:new n.Uniform1i(y),u_latrange:new n.Uniform2f(y),u_light:new n.Uniform2f(y),u_shadow:new n.UniformColor(y),u_highlight:new n.UniformColor(y),u_accent:new n.UniformColor(y)}),hillshadePrepare:y=>({u_matrix:new n.UniformMatrix4f(y),u_image:new n.Uniform1i(y),u_dimension:new n.Uniform2f(y),u_zoom:new n.Uniform1f(y),u_unpack:new n.Uniform4f(y)}),line:y=>({u_matrix:new n.UniformMatrix4f(y),u_pixels_to_tile_units:new n.UniformMatrix2f(y),u_device_pixel_ratio:new n.Uniform1f(y),u_units_to_pixels:new n.Uniform2f(y),u_dash_image:new n.Uniform1i(y),u_gradient_image:new n.Uniform1i(y),u_image_height:new n.Uniform1f(y),u_texsize:new n.Uniform2f(y),u_tile_units_to_pixels:new n.Uniform1f(y),u_alpha_discard_threshold:new n.Uniform1f(y),u_trim_offset:new n.Uniform2f(y)}),linePattern:y=>({u_matrix:new n.UniformMatrix4f(y),u_texsize:new n.Uniform2f(y),u_pixels_to_tile_units:new n.UniformMatrix2f(y),u_device_pixel_ratio:new n.Uniform1f(y),u_image:new n.Uniform1i(y),u_units_to_pixels:new n.Uniform2f(y),u_tile_units_to_pixels:new n.Uniform1f(y),u_alpha_discard_threshold:new n.Uniform1f(y)}),raster:y=>({u_matrix:new n.UniformMatrix4f(y),u_tl_parent:new n.Uniform2f(y),u_scale_parent:new n.Uniform1f(y),u_fade_t:new n.Uniform1f(y),u_opacity:new n.Uniform1f(y),u_image0:new n.Uniform1i(y),u_image1:new n.Uniform1i(y),u_brightness_low:new n.Uniform1f(y),u_brightness_high:new n.Uniform1f(y),u_saturation_factor:new n.Uniform1f(y),u_contrast_factor:new n.Uniform1f(y),u_spin_weights:new n.Uniform3f(y),u_perspective_transform:new n.Uniform2f(y)}),symbolIcon:y=>({u_is_size_zoom_constant:new n.Uniform1i(y),u_is_size_feature_constant:new n.Uniform1i(y),u_size_t:new n.Uniform1f(y),u_size:new n.Uniform1f(y),u_camera_to_center_distance:new n.Uniform1f(y),u_rotate_symbol:new n.Uniform1i(y),u_aspect_ratio:new n.Uniform1f(y),u_fade_change:new n.Uniform1f(y),u_matrix:new n.UniformMatrix4f(y),u_label_plane_matrix:new n.UniformMatrix4f(y),u_coord_matrix:new n.UniformMatrix4f(y),u_is_text:new n.Uniform1i(y),u_pitch_with_map:new n.Uniform1i(y),u_texsize:new n.Uniform2f(y),u_tile_id:new n.Uniform3f(y),u_zoom_transition:new n.Uniform1f(y),u_inv_rot_matrix:new n.UniformMatrix4f(y),u_merc_center:new n.Uniform2f(y),u_camera_forward:new n.Uniform3f(y),u_tile_matrix:new n.UniformMatrix4f(y),u_up_vector:new n.Uniform3f(y),u_ecef_origin:new n.Uniform3f(y),u_texture:new n.Uniform1i(y)}),symbolSDF:y=>({u_is_size_zoom_constant:new n.Uniform1i(y),u_is_size_feature_constant:new n.Uniform1i(y),u_size_t:new n.Uniform1f(y),u_size:new n.Uniform1f(y),u_camera_to_center_distance:new n.Uniform1f(y),u_rotate_symbol:new n.Uniform1i(y),u_aspect_ratio:new n.Uniform1f(y),u_fade_change:new n.Uniform1f(y),u_matrix:new n.UniformMatrix4f(y),u_label_plane_matrix:new n.UniformMatrix4f(y),u_coord_matrix:new n.UniformMatrix4f(y),u_is_text:new n.Uniform1i(y),u_pitch_with_map:new n.Uniform1i(y),u_texsize:new n.Uniform2f(y),u_texture:new n.Uniform1i(y),u_gamma_scale:new n.Uniform1f(y),u_device_pixel_ratio:new n.Uniform1f(y),u_tile_id:new n.Uniform3f(y),u_zoom_transition:new n.Uniform1f(y),u_inv_rot_matrix:new n.UniformMatrix4f(y),u_merc_center:new n.Uniform2f(y),u_camera_forward:new n.Uniform3f(y),u_tile_matrix:new n.UniformMatrix4f(y),u_up_vector:new n.Uniform3f(y),u_ecef_origin:new n.Uniform3f(y),u_is_halo:new n.Uniform1i(y)}),symbolTextAndIcon:y=>({u_is_size_zoom_constant:new n.Uniform1i(y),u_is_size_feature_constant:new n.Uniform1i(y),u_size_t:new n.Uniform1f(y),u_size:new n.Uniform1f(y),u_camera_to_center_distance:new n.Uniform1f(y),u_rotate_symbol:new n.Uniform1i(y),u_aspect_ratio:new n.Uniform1f(y),u_fade_change:new n.Uniform1f(y),u_matrix:new n.UniformMatrix4f(y),u_label_plane_matrix:new n.UniformMatrix4f(y),u_coord_matrix:new n.UniformMatrix4f(y),u_is_text:new n.Uniform1i(y),u_pitch_with_map:new n.Uniform1i(y),u_texsize:new n.Uniform2f(y),u_texsize_icon:new n.Uniform2f(y),u_texture:new n.Uniform1i(y),u_texture_icon:new n.Uniform1i(y),u_gamma_scale:new n.Uniform1f(y),u_device_pixel_ratio:new n.Uniform1f(y),u_is_halo:new n.Uniform1i(y)}),background:y=>({u_matrix:new n.UniformMatrix4f(y),u_opacity:new n.Uniform1f(y),u_color:new n.UniformColor(y)}),backgroundPattern:y=>({u_matrix:new n.UniformMatrix4f(y),u_opacity:new n.Uniform1f(y),u_image:new n.Uniform1i(y),u_pattern_tl:new n.Uniform2f(y),u_pattern_br:new n.Uniform2f(y),u_texsize:new n.Uniform2f(y),u_pattern_size:new n.Uniform2f(y),u_pixel_coord_upper:new n.Uniform2f(y),u_pixel_coord_lower:new n.Uniform2f(y),u_tile_units_to_pixels:new n.Uniform1f(y)}),terrainRaster:ns,terrainDepth:ns,skybox:y=>({u_matrix:new n.UniformMatrix4f(y),u_sun_direction:new n.Uniform3f(y),u_cubemap:new n.Uniform1i(y),u_opacity:new n.Uniform1f(y),u_temporal_offset:new n.Uniform1f(y)}),skyboxGradient:y=>({u_matrix:new n.UniformMatrix4f(y),u_color_ramp:new n.Uniform1i(y),u_center_direction:new n.Uniform3f(y),u_radius:new n.Uniform1f(y),u_opacity:new n.Uniform1f(y),u_temporal_offset:new n.Uniform1f(y)}),skyboxCapture:y=>({u_matrix_3f:new n.UniformMatrix3f(y),u_sun_direction:new n.Uniform3f(y),u_sun_intensity:new n.Uniform1f(y),u_color_tint_r:new n.Uniform4f(y),u_color_tint_m:new n.Uniform4f(y),u_luminance:new n.Uniform1f(y)}),globeRaster:y=>({u_proj_matrix:new n.UniformMatrix4f(y),u_globe_matrix:new n.UniformMatrix4f(y),u_normalize_matrix:new n.UniformMatrix4f(y),u_merc_matrix:new n.UniformMatrix4f(y),u_zoom_transition:new n.Uniform1f(y),u_merc_center:new n.Uniform2f(y),u_image0:new n.Uniform1i(y),u_grid_matrix:new n.UniformMatrix3f(y),u_frustum_tl:new n.Uniform3f(y),u_frustum_tr:new n.Uniform3f(y),u_frustum_br:new n.Uniform3f(y),u_frustum_bl:new n.Uniform3f(y),u_globe_pos:new n.Uniform3f(y),u_globe_radius:new n.Uniform1f(y),u_viewport:new n.Uniform2f(y)}),globeAtmosphere:y=>({u_frustum_tl:new n.Uniform3f(y),u_frustum_tr:new n.Uniform3f(y),u_frustum_br:new n.Uniform3f(y),u_frustum_bl:new n.Uniform3f(y),u_horizon:new n.Uniform1f(y),u_transition:new n.Uniform1f(y),u_fadeout_range:new n.Uniform1f(y),u_color:new n.Uniform4f(y),u_high_color:new n.Uniform4f(y),u_space_color:new n.Uniform4f(y),u_star_intensity:new n.Uniform1f(y),u_star_density:new n.Uniform1f(y),u_star_size:new n.Uniform1f(y),u_temporal_offset:new n.Uniform1f(y),u_horizon_angle:new n.Uniform1f(y),u_rotation_matrix:new n.UniformMatrix4f(y)})};let Jr;function Do(y,l,u,w,R,F,se){const he=y.context,fe=he.gl,De=y.transform,ke=y.useProgram("collisionBox"),je=[];let Ze=0,at=0;for(let bt=0;bt<w.length;bt++){const It=w[bt],Ct=l.getTile(It),jt=Ct.getBucket(u);if(!jt)continue;const Qt=Fo(It,jt,De);let Zt=Qt;R[0]===0&&R[1]===0||(Zt=y.translatePosMatrix(Qt,Ct,R,F));const Vt=se?jt.textCollisionBox:jt.iconCollisionBox,Si=jt.collisionCircleArray;if(Si.length>0){const qt=n.create(),pi=Zt;n.mul(qt,jt.placementInvProjMatrix,De.glCoordMatrix),n.mul(qt,qt,jt.placementViewportMatrix),je.push({circleArray:Si,circleOffset:at,transform:pi,invTransform:qt,projection:jt.getProjection()}),Ze+=Si.length/4,at=Ze}Vt&&(y.terrain&&y.terrain.setupElevationDraw(Ct,ke),ke.draw(he,fe.LINES,n.DepthMode.disabled,n.StencilMode.disabled,y.colorModeForRenderPass(),n.CullFaceMode.disabled,Tl(Zt,De,Ct,jt.getProjection()),u.id,Vt.layoutVertexBuffer,Vt.indexBuffer,Vt.segments,null,De.zoom,null,[Vt.collisionVertexBuffer,Vt.collisionVertexBufferExt]))}if(!se||!je.length)return;const lt=y.useProgram("collisionCircle"),ht=new n.StructArrayLayout2f1f2i16;ht.resize(4*Ze),ht._trim();let et=0;for(const bt of je)for(let It=0;It<bt.circleArray.length/4;It++){const Ct=4*It,jt=bt.circleArray[Ct+0],Qt=bt.circleArray[Ct+1],Zt=bt.circleArray[Ct+2],Vt=bt.circleArray[Ct+3];ht.emplace(et++,jt,Qt,Zt,Vt,0),ht.emplace(et++,jt,Qt,Zt,Vt,1),ht.emplace(et++,jt,Qt,Zt,Vt,2),ht.emplace(et++,jt,Qt,Zt,Vt,3)}(!Jr||Jr.length<2*Ze)&&(Jr=function(bt){const It=2*bt,Ct=new n.StructArrayLayout3ui6;Ct.resize(It),Ct._trim();for(let jt=0;jt<It;jt++){const Qt=6*jt;Ct.uint16[Qt+0]=4*jt+0,Ct.uint16[Qt+1]=4*jt+1,Ct.uint16[Qt+2]=4*jt+2,Ct.uint16[Qt+3]=4*jt+2,Ct.uint16[Qt+4]=4*jt+3,Ct.uint16[Qt+5]=4*jt+0}return Ct}(Ze));const nt=he.createIndexBuffer(Jr,!0),ft=he.createVertexBuffer(ht,n.collisionCircleLayout.members,!0);for(const bt of je){const It={u_matrix:bt.transform,u_inv_matrix:bt.invTransform,u_camera_to_center_distance:(ct=De).getCameraToCenterDistance(bt.projection),u_viewport_size:[ct.width,ct.height]};lt.draw(he,fe.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,y.colorModeForRenderPass(),n.CullFaceMode.disabled,It,u.id,ft,nt,n.SegmentVector.simpleSegment(0,2*bt.circleOffset,bt.circleArray.length,bt.circleArray.length/2),null,De.zoom)}var ct;ft.destroy(),nt.destroy()}const Za=n.create();function Qd({width:y,height:l,anchor:u,textOffset:w,textScale:R},F){const{horizontalAlign:se,verticalAlign:he}=n.getAnchorAlignment(u),fe=-(se-.5)*y,De=-(he-.5)*l,ke=n.evaluateVariableOffset(u,w);return new n.pointGeometry((fe/R+ke[0])*F,(De/R+ke[1])*F)}function eh(y,l,u,w,R,F,se,he,fe,De,ke){const je=y.text.placedSymbolArray,Ze=y.text.dynamicLayoutVertexArray,at=y.icon.dynamicLayoutVertexArray,lt={},ht=y.getProjection(),et=Ha(he,ht,F),nt=F.elevation,ft=ht.upVectorScale(he.canonical,F.center.lat,F.worldSize).metersToTile;Ze.clear();for(let ct=0;ct<je.length;ct++){const bt=je.get(ct),{tileAnchorX:It,tileAnchorY:Ct,numGlyphs:jt}=bt,Qt=y.allowVerticalPlacement&&!bt.placedOrientation,Zt=bt.hidden||!bt.crossTileID||Qt?null:w[bt.crossTileID];if(Zt){let Vt=0,Si=0,qt=0;if(nt){const dn=nt?nt.getAtTileOffset(he,It,Ct):0,[gn,hn,Pn]=ht.upVector(he.canonical,It,Ct);Vt=dn*gn*ft,Si=dn*hn*ft,qt=dn*Pn*ft}let[pi,ti,Pi,ii]=Vr(bt.projectedAnchorX+Vt,bt.projectedAnchorY+Si,bt.projectedAnchorZ+qt,u?et:se);const vi=Hi(F.getCameraToCenterDistance(ht),ii);let Ri=R.evaluateSizeForFeature(y.textSizeData,De,bt)*vi/n.ONE_EM;u&&(Ri*=y.tilePixelRatio/fe);const Ht=Qd(Zt,Ri);u?({x:pi,y:ti,z:Pi}=ht.projectTilePoint(It+Ht.x,Ct+Ht.y,he.canonical),[pi,ti,Pi]=Vr(pi+Vt,ti+Si,Pi+qt,se)):(l&&Ht._rotate(-F.angle),pi+=Ht.x,ti+=Ht.y,Pi=0);const ei=y.allowVerticalPlacement&&bt.placedOrientation===n.WritingMode.vertical?Math.PI/2:0;for(let dn=0;dn<jt;dn++)n.addDynamicAttributes(Ze,pi,ti,Pi,ei);ke&&bt.associatedIconIndex>=0&&(lt[bt.associatedIconIndex]={x:pi,y:ti,z:Pi,angle:ei})}else Or(jt,Ze)}if(ke){at.clear();const ct=y.icon.placedSymbolArray;for(let bt=0;bt<ct.length;bt++){const It=ct.get(bt),{numGlyphs:Ct}=It,jt=lt[bt];if(It.hidden||!jt)Or(Ct,at);else{const{x:Qt,y:Zt,z:Vt,angle:Si}=jt;for(let qt=0;qt<Ct;qt++)n.addDynamicAttributes(at,Qt,Zt,Vt,Si)}}y.icon.dynamicLayoutVertexBuffer.updateData(at)}y.text.dynamicLayoutVertexBuffer.updateData(Ze)}function th(y,l,u){return u.iconsInText&&l?"symbolTextAndIcon":y?"symbolSDF":"symbolIcon"}function xo(y,l,u,w,R,F,se,he,fe,De,ke,je){const Ze=y.context,at=Ze.gl,lt=y.transform,ht=he==="map",et=fe==="map",nt=ht&&u.layout.get("symbol-placement")!=="point",ft=ht&&!et&&!nt,ct=u.layout.get("symbol-sort-key").constantOr(1)!==void 0;let bt=!1;const It=y.depthModeForSublayer(0,n.DepthMode.ReadOnly),Ct=[n.mercatorXfromLng(lt.center.lng),n.mercatorYfromLat(lt.center.lat)],jt=u.layout.get("text-variable-anchor"),Qt=lt.projection.name==="globe",Zt=[],Vt=[0,-1,0];let Si=Vt;!Qt&&!lt.mercatorFromTransition||ht||(Si=function(qt){const pi=qt._camera.getWorldToCamera(qt.worldSize,1),ti=n.multiply([],pi,qt.globeMatrix);n.invert(ti,ti);const Pi=[0,0,0],ii=[0,1,0,0];return n.transformMat4$1(ii,ii,ti),Pi[0]=ii[0],Pi[1]=ii[1],Pi[2]=ii[2],n.normalize(Pi,Pi),Pi}(lt));for(const qt of w){const pi=l.getTile(qt),ti=pi.getBucket(u);if(!ti||ti.projection.name==="mercator"&&Qt)continue;const Pi=R?ti.text:ti.icon;if(!Pi||ti.fullyClipped||!Pi.segments.get().length)continue;const ii=Pi.programConfigurations.get(u.id),vi=R||ti.sdfIcons,Ri=R?ti.textSizeData:ti.iconSizeData,Ht=et||lt.pitch!==0,ei=n.evaluateSizeForZoom(Ri,lt.zoom);let dn,gn,hn,Pn,Zn=[0,0],xn=null;if(R){if(gn=pi.glyphAtlasTexture,hn=at.LINEAR,dn=pi.glyphAtlasTexture.size,ti.iconsInText){Zn=pi.imageAtlasTexture.size,xn=pi.imageAtlasTexture;const xa=Ri.kind==="composite"||Ri.kind==="camera";Pn=Ht||y.options.rotating||y.options.zooming||xa?at.LINEAR:at.NEAREST}}else{const xa=u.layout.get("icon-size").constantOr(0)!==1||ti.iconsNeedLinear;gn=pi.imageAtlasTexture,hn=vi||y.options.rotating||y.options.zooming||xa||Ht?at.LINEAR:at.NEAREST,dn=pi.imageAtlasTexture.size}const tn=ti.projection.name==="globe",Gs=tn?Si:Vt,Is=tn?n.globeToMercatorTransition(lt.zoom):0,Hs=Ha(qt,ti.getProjection(),lt),Us=lt.calculatePixelsToTileUnitsMatrix(pi),va=oo(Hs,pi.tileID.canonical,et,ht,lt,ti.getProjection(),Us),ta=y.terrain&&et&&nt?n.invert(n.create(),va):Za,Vo=Ed(Hs,pi.tileID.canonical,et,ht,lt,ti.getProjection(),Us),Pl=jt&&ti.hasTextData(),tr=u.layout.get("icon-text-fit")!=="none"&&Pl&&ti.hasIconData();if(nt){const xa=lt.elevation,Jl=xa?xa.getAtTileOffsetFunc(qt,lt.center.lat,lt.worldSize,ti.getProjection()):null,Qa=gc(Hs,pi.tileID.canonical,et,ht,lt,ti.getProjection(),Us);es(ti,Hs,y,R,Qa,Vo,et,De,Jl,qt)}const $s=nt||R&&jt||tr,Ms=y.translatePosMatrix(Hs,pi,F,se),jr=$s?Za:va,Io=y.translatePosMatrix(Vo,pi,F,se,!0),ir=ti.getProjection().createInversionMatrix(lt,qt.canonical),Ho=[];y.terrainRenderModeElevated()&&et&&Ho.push("PITCH_WITH_MAP_TERRAIN"),tn&&Ho.push("PROJECTION_GLOBE_VIEW"),$s&&Ho.push("PROJECTED_POS_ON_VIEWPORT");const jh=vi&&u.paint.get(R?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Dl;Dl=vi?ti.iconsInText?Yl(Ri.kind,ei,ft,et,y,Ms,jr,Io,dn,Zn,qt,Is,Ct,ir,Gs,ti.getProjection()):Al(Ri.kind,ei,ft,et,y,Ms,jr,Io,R,dn,!0,qt,Is,Ct,ir,Gs,ti.getProjection()):Xa(Ri.kind,ei,ft,et,y,Ms,jr,Io,R,dn,qt,Is,Ct,ir,Gs,ti.getProjection());const Lo={program:y.useProgram(th(vi,R,ti),ii,Ho),buffers:Pi,uniformValues:Dl,atlasTexture:gn,atlasTextureIcon:xn,atlasInterpolation:hn,atlasInterpolationIcon:Pn,isSDF:vi,hasHalo:jh,tile:pi,labelPlaneMatrixInv:ta};if(ct&&ti.canOverlap){bt=!0;const xa=Pi.segments.get();for(const Jl of xa)Zt.push({segments:new n.SegmentVector([Jl]),sortKey:Jl.sortKey,state:Lo})}else Zt.push({segments:Pi.segments,sortKey:0,state:Lo})}bt&&Zt.sort((qt,pi)=>qt.sortKey-pi.sortKey);for(const qt of Zt){const pi=qt.state;if(y.terrain&&y.terrain.setupElevationDraw(pi.tile,pi.program,{useDepthForOcclusion:!Qt,labelPlaneMatrixInv:pi.labelPlaneMatrixInv}),Ze.activeTexture.set(at.TEXTURE0),pi.atlasTexture.bind(pi.atlasInterpolation,at.CLAMP_TO_EDGE),pi.atlasTextureIcon&&(Ze.activeTexture.set(at.TEXTURE1),pi.atlasTextureIcon&&pi.atlasTextureIcon.bind(pi.atlasInterpolationIcon,at.CLAMP_TO_EDGE)),pi.isSDF){const ti=pi.uniformValues;pi.hasHalo&&(ti.u_is_halo=1,$t(pi.buffers,qt.segments,u,y,pi.program,It,ke,je,ti)),ti.u_is_halo=0}$t(pi.buffers,qt.segments,u,y,pi.program,It,ke,je,pi.uniformValues)}}function $t(y,l,u,w,R,F,se,he,fe){const De=w.context,ke=[y.dynamicLayoutVertexBuffer,y.opacityVertexBuffer,y.globeExtVertexBuffer];R.draw(De,De.gl.TRIANGLES,F,se,he,n.CullFaceMode.disabled,fe,u.id,y.layoutVertexBuffer,y.indexBuffer,l,u.paint,w.transform.zoom,y.programConfigurations.get(u.id),ke)}function gi(y,l,u,w,R,F,se){const he=y.context.gl,fe=u.paint.get("fill-pattern"),De=fe&&fe.constantOr(1);let ke,je,Ze,at,lt;se?(je=De&&!u.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ke=he.LINES):(je=De?"fillPattern":"fill",ke=he.TRIANGLES);for(const ht of w){const et=l.getTile(ht);if(De&&!et.patternsLoaded())continue;const nt=et.getBucket(u);if(!nt)continue;y.prepareDrawTile();const ft=nt.programConfigurations.get(u.id),ct=y.useProgram(je,ft);De&&(y.context.activeTexture.set(he.TEXTURE0),et.imageAtlasTexture.bind(he.LINEAR,he.CLAMP_TO_EDGE),ft.updatePaintBuffers());const bt=fe.constantOr(null);if(bt&&et.imageAtlas){const Ct=et.imageAtlas.patternPositions[bt.toString()];Ct&&ft.setConstantPatternPositions(Ct)}const It=y.translatePosMatrix(ht.projMatrix,et,u.paint.get("fill-translate"),u.paint.get("fill-translate-anchor"));if(se){at=nt.indexBuffer2,lt=nt.segments2;const Ct=y.terrain&&y.terrain.renderingToTexture?y.terrain.drapeBufferSize:[he.drawingBufferWidth,he.drawingBufferHeight];Ze=je==="fillOutlinePattern"&&De?mo(It,y,et,Ct):wl(It,Ct)}else at=nt.indexBuffer,lt=nt.segments,Ze=De?xc(It,y,et):Go(It);y.prepareDrawProgram(y.context,ct,ht.toUnwrapped()),ct.draw(y.context,ke,R,y.stencilModeForClipping(ht),F,n.CullFaceMode.disabled,Ze,u.id,nt.layoutVertexBuffer,at,lt,u.paint,y.transform.zoom,ft)}}function li(y,l,u,w,R,F,se){const he=y.context,fe=he.gl,De=y.transform,ke=u.paint.get("fill-extrusion-pattern"),je=ke.constantOr(1),Ze=u.paint.get("fill-extrusion-opacity"),at=[u.paint.get("fill-extrusion-ambient-occlusion-intensity"),u.paint.get("fill-extrusion-ambient-occlusion-radius")],lt=u.layout.get("fill-extrusion-edge-radius"),ht=De.projection.name==="globe"?n.fillExtrusionHeightLift():0,et=De.projection.name==="globe",nt=et?n.globeToMercatorTransition(De.zoom):0,ft=[n.mercatorXfromLng(De.center.lng),n.mercatorYfromLat(De.center.lat)],ct=[];et&&(ct.push("PROJECTION_GLOBE_VIEW"),y.style.terrainSetForDrapingOnly()&&ct.push("TERRAIN")),at[0]>0&&ct.push("FAUX_AO");for(const bt of w){const It=l.getTile(bt),Ct=It.getBucket(u);if(!Ct||Ct.projection.name!==De.projection.name)continue;const jt=Ct.programConfigurations.get(u.id),Qt=y.useProgram(je?"fillExtrusionPattern":"fillExtrusion",jt,ct);if(y.terrain){const Pi=y.terrain;if(y.style.terrainSetForDrapingOnly())Pi.setupElevationDraw(It,Qt,{useMeterToDem:!0});else{if(!Ct.enableTerrain)continue;if(Pi.setupElevationDraw(It,Qt,{useMeterToDem:!0}),cn(he,l,bt,Ct,u,Pi),!Ct.centroidVertexBuffer){const ii=Qt.attributes.a_centroid_pos;ii!==void 0&&fe.vertexAttrib2f(ii,0,0)}}}je&&(y.context.activeTexture.set(fe.TEXTURE0),It.imageAtlasTexture.bind(fe.LINEAR,fe.CLAMP_TO_EDGE),jt.updatePaintBuffers());const Zt=ke.constantOr(null);if(Zt&&It.imageAtlas){const Pi=It.imageAtlas.patternPositions[Zt.toString()];Pi&&jt.setConstantPatternPositions(Pi)}const Vt=y.translatePosMatrix(bt.projMatrix,It,u.paint.get("fill-extrusion-translate"),u.paint.get("fill-extrusion-translate-anchor")),Si=De.projection.createInversionMatrix(De,bt.canonical),qt=u.paint.get("fill-extrusion-vertical-gradient"),pi=je?Cs(Vt,y,qt,Ze,at,lt,bt,It,ht,nt,ft,Si):Jc(Vt,y,qt,Ze,at,lt,bt,ht,nt,ft,Si);y.prepareDrawProgram(he,Qt,bt.toUnwrapped());const ti=[];y.terrain&&ti.push(Ct.centroidVertexBuffer),et&&ti.push(Ct.layoutVertexExtBuffer),Qt.draw(he,he.gl.TRIANGLES,R,F,se,n.CullFaceMode.backCCW,pi,u.id,Ct.layoutVertexBuffer,Ct.indexBuffer,Ct.segments,u.paint,y.transform.zoom,jt,ti)}}function cn(y,l,u,w,R,F){const se=[nt=>{let ft=nt.canonical.x-1,ct=nt.wrap;return ft<0&&(ft=(1<<nt.canonical.z)-1,ct--),new n.OverscaledTileID(nt.overscaledZ,ct,nt.canonical.z,ft,nt.canonical.y)},nt=>{let ft=nt.canonical.x+1,ct=nt.wrap;return ft===1<<nt.canonical.z&&(ft=0,ct++),new n.OverscaledTileID(nt.overscaledZ,ct,nt.canonical.z,ft,nt.canonical.y)},nt=>new n.OverscaledTileID(nt.overscaledZ,nt.wrap,nt.canonical.z,nt.canonical.x,(nt.canonical.y===0?1<<nt.canonical.z:nt.canonical.y)-1),nt=>new n.OverscaledTileID(nt.overscaledZ,nt.wrap,nt.canonical.z,nt.canonical.x,nt.canonical.y===(1<<nt.canonical.z)-1?0:nt.canonical.y+1)],he=nt=>{const ft=l.getSource().minzoom,ct=It=>{const Ct=l.getTileByID(It);if(Ct&&Ct.hasData())return Ct.getBucket(R)},bt=[0,-1,1];for(const It of bt){if(nt.overscaledZ+It<ft)continue;const Ct=ct(nt.calculateScaledKey(nt.overscaledZ+It));if(Ct)return Ct}},fe=[0,0,0],De=(nt,ft)=>(fe[0]=Math.min(nt.min.y,ft.min.y),fe[1]=Math.max(nt.max.y,ft.max.y),fe[2]=n.EXTENT-ft.min.x>nt.max.x?ft.min.x-n.EXTENT:nt.max.x,fe),ke=(nt,ft)=>(fe[0]=Math.min(nt.min.x,ft.min.x),fe[1]=Math.max(nt.max.x,ft.max.x),fe[2]=n.EXTENT-ft.min.y>nt.max.y?ft.min.y-n.EXTENT:nt.max.y,fe),je=[(nt,ft)=>De(nt,ft),(nt,ft)=>De(ft,nt),(nt,ft)=>ke(nt,ft),(nt,ft)=>ke(ft,nt)],Ze=new n.pointGeometry(0,0);let at,lt,ht;const et=(nt,ft,ct,bt,It)=>{const Ct=[[bt?ct:nt,bt?nt:ct,0],[bt?ct:ft,bt?ft:ct,0]],jt=It<0?n.EXTENT+It:It,Qt=[bt?jt:(nt+ft)/2,bt?(nt+ft)/2:jt,0];return ct===0&&It<0||ct!==0&&It>0?F.getForTilePoints(ht,[Qt],!0,lt):Ct.push(Qt),F.getForTilePoints(u,Ct,!0,at),Math.max(Ct[0][2],Ct[1][2],Qt[2])/F.exaggeration()};for(let nt=0;nt<4;nt++){const ft=(nt<2?1:5)-nt,ct=w.borders[nt];if(ct.length===0)continue;const bt=ht=se[nt](u),It=he(bt);if(!(It&&It instanceof n.FillExtrusionBucket&&It.enableTerrain)||w.borderDoneWithNeighborZ[nt]===It.canonical.z&&It.borderDoneWithNeighborZ[ft]===w.canonical.z||(lt=F.findDEMTileFor(bt),!lt||!lt.dem))continue;if(!at){const Zt=F.findDEMTileFor(u);if(!Zt||!Zt.dem)return;at=Zt}const Ct=It.borders[ft];let jt=0;const Qt=It.borderDoneWithNeighborZ[ft]!==w.canonical.z;if(w.canonical.z===It.canonical.z){for(let Zt=0;Zt<ct.length;Zt++){const Vt=w.featuresOnBorder[ct[Zt]],Si=Vt.borders[nt];let qt;for(;jt<Ct.length&&(qt=It.featuresOnBorder[Ct[jt]],!(qt.borders[ft][1]>Si[0]+3));)Qt&&It.encodeCentroid(void 0,qt,!1),jt++;if(qt&&jt<Ct.length){const pi=jt;let ti=0;for(;!(qt.borders[ft][0]>Si[1]-3)&&(ti++,++jt!==Ct.length);)qt=It.featuresOnBorder[Ct[jt]];if(qt=It.featuresOnBorder[Ct[pi]],Vt.intersectsCount()>1||qt.intersectsCount()>1||ti!==1){ti!==1&&(jt=pi),w.encodeCentroid(void 0,Vt,!1),Qt&&It.encodeCentroid(void 0,qt,!1);continue}const Pi=je[nt](Vt,qt),ii=nt%2?n.EXTENT-1:0;Ze.x=et(Pi[0],Math.min(n.EXTENT-1,Pi[1]),ii,nt<2,Pi[2]),Ze.y=0,w.encodeCentroid(Ze,Vt,!1),Qt&&It.encodeCentroid(Ze,qt,!1)}else w.encodeCentroid(void 0,Vt,!1)}w.borderDoneWithNeighborZ[nt]=It.canonical.z,w.needsCentroidUpdate=!0,Qt&&(It.borderDoneWithNeighborZ[ft]=w.canonical.z,It.needsCentroidUpdate=!0)}else{for(const Zt of ct)w.encodeCentroid(void 0,w.featuresOnBorder[Zt],!1);if(Qt){for(const Zt of Ct)It.encodeCentroid(void 0,It.featuresOnBorder[Zt],!1);It.borderDoneWithNeighborZ[ft]=w.canonical.z,It.needsCentroidUpdate=!0}w.borderDoneWithNeighborZ[nt]=It.canonical.z,w.needsCentroidUpdate=!0}}(w.needsCentroidUpdate||!w.centroidVertexBuffer&&w.centroidVertexArray.length!==0)&&w.uploadCentroid(y)}const Nn=new n.Color(1,0,0,1),bs=new n.Color(0,1,0,1),wr=new n.Color(0,0,1,1),Es=new n.Color(1,0,1,1),ql=new n.Color(0,1,1,1);function ed(y,l,u){const w=y.context,R=y.transform,F=w.gl,se=R.projection.name==="globe",he=se?["PROJECTION_GLOBE_VIEW"]:null;let fe=u.projMatrix;if(se&&n.globeToMercatorTransition(R.zoom)>0){const Vt=n.transitionTileAABBinECEF(u.canonical,R),Si=n.globeDenormalizeECEF(Vt);fe=n.multiply(new Float32Array(16),R.globeMatrix,Si),n.multiply(fe,R.projMatrix,fe)}const De=y.useProgram("debug",null,he),ke=l.getTileByID(u.key);y.terrain&&y.terrain.setupElevationDraw(ke,De);const je=n.DepthMode.disabled,Ze=n.StencilMode.disabled,at=y.colorModeForRenderPass(),lt="$debug";w.activeTexture.set(F.TEXTURE0),y.emptyTexture.bind(F.LINEAR,F.CLAMP_TO_EDGE),se?ke._makeGlobeTileDebugBuffers(y.context,R):ke._makeDebugTileBoundsBuffers(y.context,R.projection);const ht=ke._tileDebugBuffer||y.debugBuffer,et=ke._tileDebugIndexBuffer||y.debugIndexBuffer,nt=ke._tileDebugSegments||y.debugSegments;De.draw(w,F.LINE_STRIP,je,Ze,at,n.CullFaceMode.disabled,Cl(fe,n.Color.red),lt,ht,et,nt,null,null,null,[ke._globeTileDebugBorderBuffer]);const ft=ke.latestRawTileData,ct=Math.floor((ft&&ft.byteLength||0)/1024),bt=l.getTile(u).tileSize,It=512/Math.min(bt,512)*(u.overscaledZ/R.zoom)*.5;let Ct=u.canonical.toString();u.overscaledZ!==u.canonical.z&&(Ct+=` => ${u.overscaledZ}`),Ct+=` ${ct}kb`,function(Vt,Si){Vt.initDebugOverlayCanvas();const qt=Vt.debugOverlayCanvas,pi=Vt.context.gl,ti=Vt.debugOverlayCanvas.getContext("2d");ti.clearRect(0,0,qt.width,qt.height),ti.shadowColor="white",ti.shadowBlur=2,ti.lineWidth=1.5,ti.strokeStyle="white",ti.textBaseline="top",ti.font="bold 36px Open Sans, sans-serif",ti.fillText(Si,5,5),ti.strokeText(Si,5,5),Vt.debugOverlayTexture.update(qt),Vt.debugOverlayTexture.bind(pi.LINEAR,pi.CLAMP_TO_EDGE)}(y,Ct);const jt=ke._tileDebugTextBuffer||y.debugBuffer,Qt=ke._tileDebugTextIndexBuffer||y.quadTriangleIndexBuffer,Zt=ke._tileDebugTextSegments||y.debugSegments;De.draw(w,F.TRIANGLES,je,Ze,n.ColorMode.alphaBlended,n.CullFaceMode.disabled,Cl(fe,n.Color.transparent,It),lt,jt,Qt,Zt,null,null,null,[ke._globeTileDebugTextBuffer])}function bo(y,l,u,w){kt(y,0,l+u/2,y.transform.width,u,w)}function st(y,l,u,w){kt(y,l-u/2,0,u,y.transform.height,w)}function kt(y,l,u,w,R,F){const se=y.context,he=se.gl;he.enable(he.SCISSOR_TEST),he.scissor(l*n.exported.devicePixelRatio,u*n.exported.devicePixelRatio,w*n.exported.devicePixelRatio,R*n.exported.devicePixelRatio),se.clear({color:F}),he.disable(he.SCISSOR_TEST)}const Ft=n.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:_i}=Ft;function Gt(y,l,u,w){y.emplaceBack(l,u,w)}class ri{constructor(l){this.vertexArray=new n.StructArrayLayout3f12,this.indices=new n.StructArrayLayout3ui6,Gt(this.vertexArray,-1,-1,1),Gt(this.vertexArray,1,-1,1),Gt(this.vertexArray,-1,1,1),Gt(this.vertexArray,1,1,1),Gt(this.vertexArray,-1,-1,-1),Gt(this.vertexArray,1,-1,-1),Gt(this.vertexArray,-1,1,-1),Gt(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=l.createVertexBuffer(this.vertexArray,_i),this.indexBuffer=l.createIndexBuffer(this.indices),this.segment=n.SegmentVector.simpleSegment(0,0,36,12)}}function Ai(y,l,u,w,R,F){const se=y.gl,he=l.paint.get("sky-atmosphere-color"),fe=l.paint.get("sky-atmosphere-halo-color"),De=l.paint.get("sky-atmosphere-sun-intensity"),ke=((je,Ze,at,lt,ht)=>({u_matrix_3f:je,u_sun_direction:Ze,u_sun_intensity:at,u_color_tint_r:[lt.r,lt.g,lt.b,lt.a],u_color_tint_m:[ht.r,ht.g,ht.b,ht.a],u_luminance:5e-5}))(n.fromMat4(n.create$1(),w),R,De,he,fe);se.framebufferTexture2D(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_CUBE_MAP_POSITIVE_X+F,l.skyboxTexture,0),u.draw(y,se.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,n.ColorMode.unblended,n.CullFaceMode.frontCW,ke,"skyboxCapture",l.skyboxGeometry.vertexBuffer,l.skyboxGeometry.indexBuffer,l.skyboxGeometry.segment)}const Xi=n.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class Li{constructor(l){const u=new n.StructArrayLayout5f20;u.emplaceBack(-1,1,1,0,0),u.emplaceBack(1,1,1,1,0),u.emplaceBack(1,-1,1,1,1),u.emplaceBack(-1,-1,1,0,1);const w=new n.StructArrayLayout3ui6;w.emplaceBack(0,1,2),w.emplaceBack(2,3,0),this.vertexBuffer=l.createVertexBuffer(u,Xi.members),this.indexBuffer=l.createIndexBuffer(w),this.segments=n.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Cn={symbol:function(y,l,u,w,R){if(y.renderPass!=="translucent")return;const F=n.StencilMode.disabled,se=y.colorModeForRenderPass();u.layout.get("text-variable-anchor")&&function(he,fe,De,ke,je,Ze,at){const lt=fe.transform,ht=je==="map",et=Ze==="map";for(const nt of he){const ft=ke.getTile(nt),ct=ft.getBucket(De);if(!ct||!ct.text||!ct.text.segments.get().length)continue;const bt=n.evaluateSizeForZoom(ct.textSizeData,lt.zoom),It=Ha(nt,ct.getProjection(),lt),Ct=lt.calculatePixelsToTileUnitsMatrix(ft),jt=oo(It,ft.tileID.canonical,et,ht,lt,ct.getProjection(),Ct),Qt=De.layout.get("icon-text-fit")!=="none"&&ct.hasIconData();if(bt){const Zt=Math.pow(2,lt.zoom-ft.tileID.overscaledZ);eh(ct,ht,et,at,n.symbolSize,lt,jt,nt,Zt,bt,Qt)}}}(w,y,u,l,u.layout.get("text-rotation-alignment"),u.layout.get("text-pitch-alignment"),R),u.paint.get("icon-opacity").constantOr(1)!==0&&xo(y,l,u,w,!1,u.paint.get("icon-translate"),u.paint.get("icon-translate-anchor"),u.layout.get("icon-rotation-alignment"),u.layout.get("icon-pitch-alignment"),u.layout.get("icon-keep-upright"),F,se),u.paint.get("text-opacity").constantOr(1)!==0&&xo(y,l,u,w,!0,u.paint.get("text-translate"),u.paint.get("text-translate-anchor"),u.layout.get("text-rotation-alignment"),u.layout.get("text-pitch-alignment"),u.layout.get("text-keep-upright"),F,se),l.map.showCollisionBoxes&&(Do(y,l,u,w,u.paint.get("text-translate"),u.paint.get("text-translate-anchor"),!0),Do(y,l,u,w,u.paint.get("icon-translate"),u.paint.get("icon-translate-anchor"),!1))},circle:function(y,l,u,w){if(y.renderPass!=="translucent")return;const R=u.paint.get("circle-opacity"),F=u.paint.get("circle-stroke-width"),se=u.paint.get("circle-stroke-opacity"),he=u.layout.get("circle-sort-key").constantOr(1)!==void 0;if(R.constantOr(1)===0&&(F.constantOr(1)===0||se.constantOr(1)===0))return;const fe=y.context,De=fe.gl,ke=y.transform,je=y.depthModeForSublayer(0,n.DepthMode.ReadOnly),Ze=n.StencilMode.disabled,at=y.colorModeForRenderPass(),lt=ke.projection.name==="globe",ht=[n.mercatorXfromLng(ke.center.lng),n.mercatorYfromLat(ke.center.lat)],et=[];for(let ft=0;ft<w.length;ft++){const ct=w[ft],bt=l.getTile(ct),It=bt.getBucket(u);if(!It||It.projection.name!==ke.projection.name)continue;const Ct=It.programConfigurations.get(u.id),jt=Ad(u);lt&&jt.push("PROJECTION_GLOBE_VIEW");const Qt=y.useProgram("circle",Ct,jt),Zt=It.layoutVertexBuffer,Vt=It.globeExtVertexBuffer,Si=It.indexBuffer,qt=ke.projection.createInversionMatrix(ke,ct.canonical),pi={programConfiguration:Ct,program:Qt,layoutVertexBuffer:Zt,globeExtVertexBuffer:Vt,indexBuffer:Si,uniformValues:Hl(y,ct,bt,qt,ht,u),tile:bt};if(he){const ti=It.segments.get();for(const Pi of ti)et.push({segments:new n.SegmentVector([Pi]),sortKey:Pi.sortKey,state:pi})}else et.push({segments:It.segments,sortKey:0,state:pi})}he&&et.sort((ft,ct)=>ft.sortKey-ct.sortKey);const nt={useDepthForOcclusion:!lt};for(const ft of et){const{programConfiguration:ct,program:bt,layoutVertexBuffer:It,globeExtVertexBuffer:Ct,indexBuffer:jt,uniformValues:Qt,tile:Zt}=ft.state,Vt=ft.segments;y.terrain&&y.terrain.setupElevationDraw(Zt,bt,nt),y.prepareDrawProgram(fe,bt,Zt.tileID.toUnwrapped()),bt.draw(fe,De.TRIANGLES,je,Ze,at,n.CullFaceMode.disabled,Qt,u.id,It,jt,Vt,u.paint,ke.zoom,ct,[Ct])}},heatmap:function(y,l,u,w){if(u.paint.get("heatmap-opacity")!==0)if(y.renderPass==="offscreen"){const R=y.context,F=R.gl,se=n.StencilMode.disabled,he=new n.ColorMode([F.ONE,F.ONE],n.Color.transparent,[!0,!0,!0,!0]);(function(at,lt,ht,et){const nt=at.gl,ft=lt.width*et,ct=lt.height*et;at.activeTexture.set(nt.TEXTURE1),at.viewport.set([0,0,ft,ct]);let bt=ht.heatmapFbo;if(!bt||bt&&(bt.width!==ft||bt.height!==ct)){bt&&bt.destroy();const It=nt.createTexture();nt.bindTexture(nt.TEXTURE_2D,It),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_S,nt.CLAMP_TO_EDGE),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_T,nt.CLAMP_TO_EDGE),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MIN_FILTER,nt.LINEAR),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MAG_FILTER,nt.LINEAR),bt=ht.heatmapFbo=at.createFramebuffer(ft,ct,!1),function(Ct,jt,Qt,Zt,Vt,Si){const qt=Ct.gl;qt.texImage2D(qt.TEXTURE_2D,0,qt.RGBA,Vt,Si,0,qt.RGBA,Ct.extRenderToTextureHalfFloat?Ct.extTextureHalfFloat.HALF_FLOAT_OES:qt.UNSIGNED_BYTE,null),Zt.colorAttachment.set(Qt)}(at,0,It,bt,ft,ct)}else nt.bindTexture(nt.TEXTURE_2D,bt.colorAttachment.get()),at.bindFramebuffer.set(bt.framebuffer)})(R,y,u,y.transform.projection.name==="globe"?.5:.25),R.clear({color:n.Color.transparent});const fe=y.transform,De=fe.projection.name==="globe",ke=De?["PROJECTION_GLOBE_VIEW"]:null,je=De?n.CullFaceMode.frontCCW:n.CullFaceMode.disabled,Ze=[n.mercatorXfromLng(fe.center.lng),n.mercatorYfromLat(fe.center.lat)];for(let at=0;at<w.length;at++){const lt=w[at];if(l.hasRenderableParent(lt))continue;const ht=l.getTile(lt),et=ht.getBucket(u);if(!et||et.projection.name!==fe.projection.name)continue;const nt=et.programConfigurations.get(u.id),ft=y.useProgram("heatmap",nt,ke),{zoom:ct}=y.transform;y.terrain&&y.terrain.setupElevationDraw(ht,ft),y.prepareDrawProgram(R,ft,lt.toUnwrapped());const bt=fe.projection.createInversionMatrix(fe,lt.canonical);ft.draw(R,F.TRIANGLES,n.DepthMode.disabled,se,he,je,El(y,lt,ht,bt,Ze,ct,u.paint.get("heatmap-intensity")),u.id,et.layoutVertexBuffer,et.indexBuffer,et.segments,u.paint,y.transform.zoom,nt,De?[et.globeExtVertexBuffer]:null)}R.viewport.set([0,0,y.width,y.height])}else y.renderPass==="translucent"&&(y.context.setColorMode(y.colorModeForRenderPass()),function(R,F){const se=R.context,he=se.gl,fe=F.heatmapFbo;if(!fe)return;se.activeTexture.set(he.TEXTURE0),he.bindTexture(he.TEXTURE_2D,fe.colorAttachment.get()),se.activeTexture.set(he.TEXTURE1);let De=F.colorRampTexture;De||(De=F.colorRampTexture=new n.Texture(se,F.colorRamp,he.RGBA)),De.bind(he.LINEAR,he.CLAMP_TO_EDGE),R.useProgram("heatmapTexture").draw(se,he.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,R.colorModeForRenderPass(),n.CullFaceMode.disabled,((ke,je,Ze,at)=>({u_image:0,u_color_ramp:1,u_opacity:je.paint.get("heatmap-opacity")}))(0,F),F.id,R.viewportBuffer,R.quadTriangleIndexBuffer,R.viewportSegments,F.paint,R.transform.zoom)}(y,u))},line:function(y,l,u,w){if(y.renderPass!=="translucent")return;const R=u.paint.get("line-opacity"),F=u.paint.get("line-width");if(R.constantOr(1)===0||F.constantOr(1)===0)return;const se=y.depthModeForSublayer(0,n.DepthMode.ReadOnly),he=y.colorModeForRenderPass(),fe=y.terrain&&y.terrain.renderingToTexture?1:n.exported.devicePixelRatio,De=u.paint.get("line-dasharray"),ke=De.constantOr(1),je=u.layout.get("line-cap"),Ze=u.paint.get("line-pattern"),at=Ze.constantOr(1),lt=u.paint.get("line-gradient"),ht=at?"linePattern":"line",et=y.context,nt=et.gl,ft=(bt=>{const It=[];Qc(bt)&&It.push("RENDER_LINE_DASH"),bt.paint.get("line-gradient")&&It.push("RENDER_LINE_GRADIENT");const Ct=bt.paint.get("line-trim-offset");Ct[0]===0&&Ct[1]===0||It.push("RENDER_LINE_TRIM_OFFSET");const jt=bt.paint.get("line-pattern").constantOr(1),Qt=bt.paint.get("line-opacity").constantOr(1)!==1;return!jt&&Qt&&It.push("RENDER_LINE_ALPHA_DISCARD"),It})(u);let ct=ft.includes("RENDER_LINE_ALPHA_DISCARD");y.terrain&&y.terrain.clipOrMaskOverlapStencilType()&&(ct=!1);for(const bt of w){const It=l.getTile(bt);if(at&&!It.patternsLoaded())continue;const Ct=It.getBucket(u);if(!Ct)continue;y.prepareDrawTile();const jt=Ct.programConfigurations.get(u.id),Qt=y.useProgram(ht,jt,ft),Zt=Ze.constantOr(null);if(Zt&&It.imageAtlas){const vi=It.imageAtlas.patternPositions[Zt.toString()];vi&&jt.setConstantPatternPositions(vi)}const Vt=De.constantOr(null),Si=je.constantOr(null);if(!at&&Vt&&Si&&It.lineAtlas){const vi=It.lineAtlas.getDash(Vt,Si);vi&&jt.setConstantPatternPositions(vi)}let[qt,pi]=u.paint.get("line-trim-offset");(Si==="round"||Si==="square")&&qt!==pi&&(qt===0&&(qt-=1),pi===1&&(pi+=1));const ti=y.terrain?bt.projMatrix:null,Pi=at?Qo(y,It,u,ti,fe):kd(y,It,u,ti,Ct.lineClipsArray.length,fe,[qt,pi]);if(lt){const vi=Ct.gradients[u.id];let Ri=vi.texture;if(u.gradientVersion!==vi.version){let Ht=256;if(u.stepInterpolant){const ei=l.getSource().maxzoom,dn=bt.canonical.z===ei?Math.ceil(1<<y.transform.maxZoom-bt.canonical.z):1;Ht=n.clamp(n.nextPowerOfTwo(Ct.maxLineLength/n.EXTENT*1024*dn),256,et.maxTextureSize)}vi.gradient=n.renderColorRamp({expression:u.gradientExpression(),evaluationKey:"lineProgress",resolution:Ht,image:vi.gradient||void 0,clips:Ct.lineClipsArray}),vi.texture?vi.texture.update(vi.gradient):vi.texture=new n.Texture(et,vi.gradient,nt.RGBA),vi.version=u.gradientVersion,Ri=vi.texture}et.activeTexture.set(nt.TEXTURE1),Ri.bind(u.stepInterpolant?nt.NEAREST:nt.LINEAR,nt.CLAMP_TO_EDGE)}ke&&(et.activeTexture.set(nt.TEXTURE0),It.lineAtlasTexture.bind(nt.LINEAR,nt.REPEAT),jt.updatePaintBuffers()),at&&(et.activeTexture.set(nt.TEXTURE0),It.imageAtlasTexture.bind(nt.LINEAR,nt.CLAMP_TO_EDGE),jt.updatePaintBuffers()),y.prepareDrawProgram(et,Qt,bt.toUnwrapped());const ii=vi=>{Qt.draw(et,nt.TRIANGLES,se,vi,he,n.CullFaceMode.disabled,Pi,u.id,Ct.layoutVertexBuffer,Ct.indexBuffer,Ct.segments,u.paint,y.transform.zoom,jt,[Ct.layoutVertexBuffer2])};if(ct){const vi=y.stencilModeForClipping(bt).ref;vi===0&&y.terrain&&et.clear({stencil:0});const Ri={func:nt.EQUAL,mask:255};Pi.u_alpha_discard_threshold=.8,ii(new n.StencilMode(Ri,vi,255,nt.KEEP,nt.KEEP,nt.INVERT)),Pi.u_alpha_discard_threshold=0,ii(new n.StencilMode(Ri,vi,255,nt.KEEP,nt.KEEP,nt.KEEP))}else ii(y.stencilModeForClipping(bt))}ct&&(y.resetStencilClippingMasks(),y.terrain&&et.clear({stencil:0}))},fill:function(y,l,u,w){const R=u.paint.get("fill-color"),F=u.paint.get("fill-opacity");if(F.constantOr(1)===0)return;const se=y.colorModeForRenderPass(),he=u.paint.get("fill-pattern"),fe=y.opaquePassEnabledForLayer()&&!he.constantOr(1)&&R.constantOr(n.Color.transparent).a===1&&F.constantOr(0)===1?"opaque":"translucent";if(y.renderPass===fe){const De=y.depthModeForSublayer(1,y.renderPass==="opaque"?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly);gi(y,l,u,w,De,se,!1)}if(y.renderPass==="translucent"&&u.paint.get("fill-antialias")){const De=y.depthModeForSublayer(u.getPaintProperty("fill-outline-color")?2:0,n.DepthMode.ReadOnly);gi(y,l,u,w,De,se,!0)}},"fill-extrusion":function(y,l,u,w){const R=u.paint.get("fill-extrusion-opacity");if(R!==0&&y.renderPass==="translucent"){const F=new n.DepthMode(y.context.gl.LEQUAL,n.DepthMode.ReadWrite,y.depthRangeFor3D);if(R!==1||u.paint.get("fill-extrusion-pattern").constantOr(1))li(y,l,u,w,F,n.StencilMode.disabled,n.ColorMode.disabled),li(y,l,u,w,F,y.stencilModeFor3D(),y.colorModeForRenderPass()),y.resetStencilClippingMasks();else{const se=y.colorModeForRenderPass();li(y,l,u,w,F,n.StencilMode.disabled,se)}}},hillshade:function(y,l,u,w){if(y.renderPass!=="offscreen"&&y.renderPass!=="translucent")return;const R=y.context,F=y.depthModeForSublayer(0,n.DepthMode.ReadOnly),se=y.colorModeForRenderPass(),he=y.terrain&&y.terrain.renderingToTexture,[fe,De]=y.renderPass!=="translucent"||he?[{},w]:y.stencilConfigForOverlap(w);for(const ke of De){const je=l.getTile(ke);if(je.needsHillshadePrepare&&y.renderPass==="offscreen")is(y,je,u,F,n.StencilMode.disabled,se);else if(y.renderPass==="translucent"){const Ze=he&&y.terrain?y.terrain.stencilModeForRTTOverlap(ke):fe[ke.overscaledZ];Qs(y,ke,je,u,F,Ze,se)}}R.viewport.set([0,0,y.width,y.height]),y.resetStencilClippingMasks()},raster:function(y,l,u,w,R,F){if(y.renderPass!=="translucent"||u.paint.get("raster-opacity")===0||!w.length)return;const se=y.context,he=se.gl,fe=l.getSource(),De=y.useProgram("raster"),ke=y.colorModeForRenderPass(),je=y.terrain&&y.terrain.renderingToTexture,[Ze,at]=fe instanceof _t||je?[{},w]:y.stencilConfigForOverlap(w),lt=at[at.length-1].overscaledZ,ht=!y.options.moving;for(const et of at){const nt=je?n.DepthMode.disabled:y.depthModeForSublayer(et.overscaledZ-lt,u.paint.get("raster-opacity")===1?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly,he.LESS),ft=et.toUnwrapped(),ct=l.getTile(et);if(je&&(!ct||!ct.hasData()))continue;const bt=je?et.projMatrix:y.transform.calculateProjMatrix(ft,ht),It=y.terrain&&je?y.terrain.stencilModeForRTTOverlap(et):Ze[et.overscaledZ],Ct=F?0:u.paint.get("raster-fade-duration");ct.registerFadeDuration(Ct);const jt=l.findLoadedParent(et,0),Qt=Ao(ct,jt,l,y.transform,Ct);let Zt,Vt;y.terrain&&y.terrain.prepareDrawTile();const Si=u.paint.get("raster-resampling")==="nearest"?he.NEAREST:he.LINEAR;se.activeTexture.set(he.TEXTURE0),ct.texture.bind(Si,he.CLAMP_TO_EDGE),se.activeTexture.set(he.TEXTURE1),jt?(jt.texture.bind(Si,he.CLAMP_TO_EDGE),Zt=Math.pow(2,jt.tileID.overscaledZ-ct.tileID.overscaledZ),Vt=[ct.tileID.canonical.x*Zt%1,ct.tileID.canonical.y*Zt%1]):ct.texture.bind(Si,he.CLAMP_TO_EDGE);const qt=Wl(bt,Vt||[0,0],Zt||1,Qt,u,fe instanceof _t?fe.perspectiveTransform:[0,0]);if(y.prepareDrawProgram(se,De,ft),fe instanceof _t)fe.boundsBuffer&&fe.boundsSegments&&De.draw(se,he.TRIANGLES,nt,n.StencilMode.disabled,ke,n.CullFaceMode.disabled,qt,u.id,fe.boundsBuffer,y.quadTriangleIndexBuffer,fe.boundsSegments);else{const{tileBoundsBuffer:pi,tileBoundsIndexBuffer:ti,tileBoundsSegments:Pi}=y.getTileBoundsBuffers(ct);De.draw(se,he.TRIANGLES,nt,It,ke,n.CullFaceMode.disabled,qt,u.id,pi,ti,Pi)}}y.resetStencilClippingMasks()},background:function(y,l,u,w){const R=u.paint.get("background-color"),F=u.paint.get("background-opacity");if(F===0)return;const se=y.context,he=se.gl,fe=y.transform,De=fe.tileSize,ke=u.paint.get("background-pattern");if(y.isPatternMissing(ke))return;const je=!ke&&R.a===1&&F===1&&y.opaquePassEnabledForLayer()?"opaque":"translucent";if(y.renderPass!==je)return;const Ze=n.StencilMode.disabled,at=y.depthModeForSublayer(0,je==="opaque"?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly),lt=y.colorModeForRenderPass(),ht=y.useProgram(ke?"backgroundPattern":"background");let et,nt=w;nt||(et=y.getBackgroundTiles(),nt=Object.values(et).map(ft=>ft.tileID)),ke&&(se.activeTexture.set(he.TEXTURE0),y.imageManager.bind(y.context));for(const ft of nt){const ct=ft.toUnwrapped(),bt=w?ft.projMatrix:y.transform.calculateProjMatrix(ct);y.prepareDrawTile();const It=l?l.getTile(ft):et?et[ft.key]:new n.Tile(ft,De,fe.zoom,y),Ct=ke?ls(bt,F,y,ke,{tileID:ft,tileSize:De}):Oh(bt,F,R);y.prepareDrawProgram(se,ht,ct);const{tileBoundsBuffer:jt,tileBoundsIndexBuffer:Qt,tileBoundsSegments:Zt}=y.getTileBoundsBuffers(It);ht.draw(se,he.TRIANGLES,at,Ze,lt,n.CullFaceMode.disabled,Ct,u.id,jt,Qt,Zt)}},sky:function(y,l,u){const w=y.transform,R=w.projection.name==="mercator"||w.projection.name==="globe"?1:n.smoothstep(7,8,w.zoom),F=u.paint.get("sky-opacity")*R;if(F===0)return;const se=y.context,he=u.paint.get("sky-type"),fe=new n.DepthMode(se.gl.LEQUAL,n.DepthMode.ReadOnly,[0,1]),De=y.frameCounter/1e3%1;he==="atmosphere"?y.renderPass==="offscreen"?u.needsSkyboxCapture(y)&&(function(ke,je,Ze,at){const lt=ke.context,ht=lt.gl;let et=je.skyboxFbo;if(!et){et=je.skyboxFbo=lt.createFramebuffer(32,32,!1),je.skyboxGeometry=new ri(lt),je.skyboxTexture=lt.gl.createTexture(),ht.bindTexture(ht.TEXTURE_CUBE_MAP,je.skyboxTexture),ht.texParameteri(ht.TEXTURE_CUBE_MAP,ht.TEXTURE_WRAP_S,ht.CLAMP_TO_EDGE),ht.texParameteri(ht.TEXTURE_CUBE_MAP,ht.TEXTURE_WRAP_T,ht.CLAMP_TO_EDGE),ht.texParameteri(ht.TEXTURE_CUBE_MAP,ht.TEXTURE_MIN_FILTER,ht.LINEAR),ht.texParameteri(ht.TEXTURE_CUBE_MAP,ht.TEXTURE_MAG_FILTER,ht.LINEAR);for(let bt=0;bt<6;++bt)ht.texImage2D(ht.TEXTURE_CUBE_MAP_POSITIVE_X+bt,0,ht.RGBA,32,32,0,ht.RGBA,ht.UNSIGNED_BYTE,null)}lt.bindFramebuffer.set(et.framebuffer),lt.viewport.set([0,0,32,32]);const nt=je.getCenter(ke,!0),ft=ke.useProgram("skyboxCapture"),ct=new Float64Array(16);n.identity(ct),n.rotateY(ct,ct,.5*-Math.PI),Ai(lt,je,ft,ct,nt,0),n.identity(ct),n.rotateY(ct,ct,.5*Math.PI),Ai(lt,je,ft,ct,nt,1),n.identity(ct),n.rotateX(ct,ct,.5*-Math.PI),Ai(lt,je,ft,ct,nt,2),n.identity(ct),n.rotateX(ct,ct,.5*Math.PI),Ai(lt,je,ft,ct,nt,3),n.identity(ct),Ai(lt,je,ft,ct,nt,4),n.identity(ct),n.rotateY(ct,ct,Math.PI),Ai(lt,je,ft,ct,nt,5),lt.viewport.set([0,0,ke.width,ke.height])}(y,u),u.markSkyboxValid(y)):y.renderPass==="sky"&&function(ke,je,Ze,at,lt){const ht=ke.context,et=ht.gl,nt=ke.transform,ft=ke.useProgram("skybox");ht.activeTexture.set(et.TEXTURE0),et.bindTexture(et.TEXTURE_CUBE_MAP,je.skyboxTexture);const ct=((bt,It,Ct,jt,Qt)=>({u_matrix:bt,u_sun_direction:It,u_cubemap:0,u_opacity:jt,u_temporal_offset:Qt}))(nt.skyboxMatrix,je.getCenter(ke,!1),0,at,lt);ke.prepareDrawProgram(ht,ft),ft.draw(ht,et.TRIANGLES,Ze,n.StencilMode.disabled,ke.colorModeForRenderPass(),n.CullFaceMode.backCW,ct,"skybox",je.skyboxGeometry.vertexBuffer,je.skyboxGeometry.indexBuffer,je.skyboxGeometry.segment)}(y,u,fe,F,De):he==="gradient"&&y.renderPass==="sky"&&function(ke,je,Ze,at,lt){const ht=ke.context,et=ht.gl,nt=ke.transform,ft=ke.useProgram("skyboxGradient");je.skyboxGeometry||(je.skyboxGeometry=new ri(ht)),ht.activeTexture.set(et.TEXTURE0);let ct=je.colorRampTexture;ct||(ct=je.colorRampTexture=new n.Texture(ht,je.colorRamp,et.RGBA)),ct.bind(et.LINEAR,et.CLAMP_TO_EDGE);const bt=((It,Ct,jt,Qt,Zt)=>({u_matrix:It,u_color_ramp:0,u_center_direction:Ct,u_radius:n.degToRad(jt),u_opacity:Qt,u_temporal_offset:Zt}))(nt.skyboxMatrix,je.getCenter(ke,!1),je.paint.get("sky-gradient-radius"),at,lt);ke.prepareDrawProgram(ht,ft),ft.draw(ht,et.TRIANGLES,Ze,n.StencilMode.disabled,ke.colorModeForRenderPass(),n.CullFaceMode.backCW,bt,"skyboxGradient",je.skyboxGeometry.vertexBuffer,je.skyboxGeometry.indexBuffer,je.skyboxGeometry.segment)}(y,u,fe,F,De)},debug:function(y,l,u){for(let w=0;w<u.length;w++)ed(y,l,u[w])},custom:function(y,l,u){const w=y.context,R=u.implementation;if(y.transform.projection.unsupportedLayers&&y.transform.projection.unsupportedLayers.includes("custom"))n.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if(y.renderPass==="offscreen"){const F=R.prerender;F&&(y.setCustomLayerDefaults(),w.setColorMode(y.colorModeForRenderPass()),F.call(R,w.gl,y.transform.customLayerMatrix()),w.setDirty(),y.setBaseState())}else if(y.renderPass==="translucent"){y.setCustomLayerDefaults(),w.setColorMode(y.colorModeForRenderPass()),w.setStencilMode(n.StencilMode.disabled);const F=R.renderingMode==="3d"?new n.DepthMode(y.context.gl.LEQUAL,n.DepthMode.ReadWrite,y.depthRangeFor3D):y.depthModeForSublayer(0,n.DepthMode.ReadOnly);w.setDepthMode(F),R.render(w.gl,y.transform.customLayerMatrix()),w.setDirty(),y.setBaseState(),w.bindFramebuffer.set(null)}}};class kn{constructor(l,u){this.context=new Fe(l),this.transform=u,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=n.SourceCache.maxUnderzooming+n.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Uo,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(l,u){const w=!!l&&!!l.terrain&&this.transform.projection.supportsTerrain;if(!(w||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new fo(this,l));const R=this._terrain;this.transform.elevation=w?R:null,R.update(l,this.transform,u)}_updateFog(l){const u=l.fog;if(!u||this.transform.projection.name==="globe"||u.getOpacity(this.transform.pitch)<1||u.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[w,R]=u.getFovAdjustedRange(this.transform._fov);if(w>R)return void(this.transform.fogCullDistSq=null);const F=w+.78*(R-w);this.transform.fogCullDistSq=F*F}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(l,u){if(this.width=l*n.exported.devicePixelRatio,this.height=u*n.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const w of this.style.order)this.style._layers[w].resize()}setup(){const l=this.context,u=new n.StructArrayLayout2i4;u.emplaceBack(0,0),u.emplaceBack(n.EXTENT,0),u.emplaceBack(0,n.EXTENT),u.emplaceBack(n.EXTENT,n.EXTENT),this.tileExtentBuffer=l.createVertexBuffer(u,n.posAttributes.members),this.tileExtentSegments=n.SegmentVector.simpleSegment(0,0,4,2);const w=new n.StructArrayLayout2i4;w.emplaceBack(0,0),w.emplaceBack(n.EXTENT,0),w.emplaceBack(0,n.EXTENT),w.emplaceBack(n.EXTENT,n.EXTENT),this.debugBuffer=l.createVertexBuffer(w,n.posAttributes.members),this.debugSegments=n.SegmentVector.simpleSegment(0,0,4,5);const R=new n.StructArrayLayout2i4;R.emplaceBack(-1,-1),R.emplaceBack(1,-1),R.emplaceBack(-1,1),R.emplaceBack(1,1),this.viewportBuffer=l.createVertexBuffer(R,n.posAttributes.members),this.viewportSegments=n.SegmentVector.simpleSegment(0,0,4,2);const F=new n.StructArrayLayout4i8;F.emplaceBack(0,0,0,0),F.emplaceBack(n.EXTENT,0,n.EXTENT,0),F.emplaceBack(0,n.EXTENT,0,n.EXTENT),F.emplaceBack(n.EXTENT,n.EXTENT,n.EXTENT,n.EXTENT),this.mercatorBoundsBuffer=l.createVertexBuffer(F,n.boundsAttributes.members),this.mercatorBoundsSegments=n.SegmentVector.simpleSegment(0,0,4,2);const se=new n.StructArrayLayout3ui6;se.emplaceBack(0,1,2),se.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=l.createIndexBuffer(se);const he=new n.StructArrayLayout1ui2;for(const De of[0,1,3,2,0])he.emplaceBack(De);this.debugIndexBuffer=l.createIndexBuffer(he),this.emptyTexture=new n.Texture(l,new n.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),l.gl.RGBA),this.identityMat=n.create();const fe=this.context.gl;this.stencilClearMode=new n.StencilMode({func:fe.ALWAYS,mask:0},0,255,fe.ZERO,fe.ZERO,fe.ZERO),this.loadTimeStamps.push(n.window.performance.now()),this.atmosphereBuffer=new Li(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(l){return l._makeTileBoundsBuffers(this.context,this.transform.projection),l._tileBoundsBuffer?{tileBoundsBuffer:l._tileBoundsBuffer,tileBoundsIndexBuffer:l._tileBoundsIndexBuffer,tileBoundsSegments:l._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const l=this.context,u=l.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(l,u.TRIANGLES,n.DepthMode.disabled,this.stencilClearMode,n.ColorMode.disabled,n.CullFaceMode.disabled,Nr(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(l,u,w){if(!u||this.currentStencilSource===u.id||!l.isTileClipped()||!w||w.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let he=!1;for(const fe of w)if(this._tileClippingMaskIDs[fe.key]===void 0){he=!0;break}if(!he)return}this.currentStencilSource=u.id;const R=this.context,F=R.gl;this.nextStencilID+w.length>256&&this.clearStencil(),R.setColorMode(n.ColorMode.disabled),R.setDepthMode(n.DepthMode.disabled);const se=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const he of w){const fe=u.getTile(he),De=this._tileClippingMaskIDs[he.key]=this.nextStencilID++,{tileBoundsBuffer:ke,tileBoundsIndexBuffer:je,tileBoundsSegments:Ze}=this.getTileBoundsBuffers(fe);se.draw(R,F.TRIANGLES,n.DepthMode.disabled,new n.StencilMode({func:F.ALWAYS,mask:0},De,255,F.KEEP,F.KEEP,F.REPLACE),n.ColorMode.disabled,n.CullFaceMode.disabled,Nr(he.projMatrix),"$clipping",ke,je,Ze)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const l=this.nextStencilID++,u=this.context.gl;return new n.StencilMode({func:u.NOTEQUAL,mask:255},l,255,u.KEEP,u.KEEP,u.REPLACE)}stencilModeForClipping(l){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(l);const u=this.context.gl;return new n.StencilMode({func:u.EQUAL,mask:255},this._tileClippingMaskIDs[l.key],0,u.KEEP,u.KEEP,u.REPLACE)}stencilConfigForOverlap(l){const u=this.context.gl,w=l.sort((se,he)=>he.overscaledZ-se.overscaledZ),R=w[w.length-1].overscaledZ,F=w[0].overscaledZ-R+1;if(F>1){this.currentStencilSource=void 0,this.nextStencilID+F>256&&this.clearStencil();const se={};for(let he=0;he<F;he++)se[he+R]=new n.StencilMode({func:u.GEQUAL,mask:255},he+this.nextStencilID,255,u.KEEP,u.KEEP,u.REPLACE);return this.nextStencilID+=F,[se,w]}return[{[R]:n.StencilMode.disabled},w]}colorModeForRenderPass(){const l=this.context.gl;return this._showOverdrawInspector?new n.ColorMode([l.CONSTANT_COLOR,l.ONE],new n.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?n.ColorMode.unblended:n.ColorMode.alphaBlended}depthModeForSublayer(l,u,w){if(!this.opaquePassEnabledForLayer())return n.DepthMode.disabled;const R=1-((1+this.currentLayer)*this.numSublayers+l)*this.depthEpsilon;return new n.DepthMode(w||this.context.gl.LEQUAL,u,[R,R])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(l,u){this.style=l,this.options=u,this.imageManager=l.imageManager,this.glyphManager=l.glyphManager,this.symbolFadeChange=l.placement.symbolFadeChange(n.exported.now()),this.imageManager.beginFrame();const w=this.style.order,R=this.style._sourceCaches;for(const fe in R){const De=R[fe];De.used&&De.prepare(this.context)}const F={},se={},he={};for(const fe in R){const De=R[fe];F[fe]=De.getVisibleCoordinates(),se[fe]=F[fe].slice().reverse(),he[fe]=De.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let fe=0;fe<w.length;fe++)if(this.style._layers[w[fe]].is3D()){this.opaquePassCutoff=fe;break}if(this.terrain&&(this.terrain.updateTileBinding(he),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new n.GlobeSharedBuffers(this.context)),n.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const fe of w){const De=this.style._layers[fe],ke=l._getLayerSourceCache(De);if(!De.hasOffscreenPass()||De.isHidden(this.transform.zoom))continue;const je=ke?se[ke.id]:void 0;(De.type==="custom"||De.isSky()||je&&je.length)&&this.renderLayer(this,ke,De,je)}if(this.depthRangeFor3D=[0,1-(l.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:u.showOverdrawInspector?n.Color.black:n.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=u.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=w.length-1;this.currentLayer>=0;this.currentLayer--){const fe=this.style._layers[w[this.currentLayer]],De=l._getLayerSourceCache(fe);if(fe.isSky())continue;const ke=De?se[De.id]:void 0;this._renderTileClippingMasks(fe,De,ke),this.renderLayer(this,De,fe,ke)}if(this.style.fog&&this.transform.projection.supportsFog&&function(fe,De){const ke=fe.context,je=ke.gl,Ze=fe.transform,at=new n.DepthMode(je.LEQUAL,n.DepthMode.ReadOnly,[0,1]),lt=fe.useProgram("globeAtmosphere",null,Ze.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),ht=n.globeToMercatorTransition(Ze.zoom),et=De.properties.get("color").toArray01(),nt=De.properties.get("high-color").toArray01(),ft=De.properties.get("space-color").toArray01PremultipliedAlpha(),ct=n.identity$1([]);n.rotateY$1(ct,ct,-n.degToRad(Ze._center.lng)),n.rotateX$1(ct,ct,n.degToRad(Ze._center.lat)),n.rotateZ$1(ct,ct,Ze.angle),n.rotateX$1(ct,ct,-Ze._pitch);const bt=n.fromQuat(new Float32Array(16),ct),It=n.mapValue(De.properties.get("star-intensity"),0,1,0,.25),Ct=5e-4,jt=n.mapValue(De.properties.get("horizon-blend"),0,1,Ct,.25),Qt=n.globeUseCustomAntiAliasing(fe,ke,Ze)&&jt===Ct?Ze.worldSize/(2*Math.PI*1.025)-1:Ze.globeRadius,Zt=fe.frameCounter/1e3%1,Vt=n.length(Ze.globeCenterInViewSpace),Si=Math.sqrt(Math.pow(Vt,2)-Math.pow(Qt,2)),qt=Math.acos(Si/Vt),pi=((Pi,ii,vi,Ri,Ht,ei,dn,gn,hn,Pn,Zn,xn,tn,Gs)=>({u_frustum_tl:Pi,u_frustum_tr:ii,u_frustum_br:vi,u_frustum_bl:Ri,u_horizon:Ht,u_transition:ei,u_fadeout_range:dn,u_color:gn,u_high_color:hn,u_space_color:Pn,u_star_intensity:Zn,u_star_size:5*n.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:xn,u_horizon_angle:tn,u_rotation_matrix:Gs}))(Ze.frustumCorners.TL,Ze.frustumCorners.TR,Ze.frustumCorners.BR,Ze.frustumCorners.BL,Ze.frustumCorners.horizon,ht,jt,et,nt,ft,It,Zt,qt,bt);fe.prepareDrawProgram(ke,lt);const ti=fe.atmosphereBuffer;ti&&lt.draw(ke,je.TRIANGLES,at,n.StencilMode.disabled,n.ColorMode.alphaBlended,n.CullFaceMode.backCW,pi,"skybox",ti.vertexBuffer,ti.indexBuffer,ti.segments)}(this,this.style.fog),this.renderPass="sky",(n.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<w.length;this.currentLayer++){const fe=this.style._layers[w[this.currentLayer]],De=l._getLayerSourceCache(fe);fe.isSky()&&this.renderLayer(this,De,fe,De?se[De.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<w.length;){const fe=this.style._layers[w[this.currentLayer]],De=l._getLayerSourceCache(fe);if(fe.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(fe)){if(fe.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const ke=De?(fe.type==="symbol"?he:se)[De.id]:void 0;this._renderTileClippingMasks(fe,De,De?F[De.id]:void 0),this.renderLayer(this,De,fe,ke),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let fe=null;n.values(this.style._layers).forEach(De=>{const ke=l._getLayerSourceCache(De);ke&&!De.isHidden(this.transform.zoom)&&(!fe||fe.getSource().maxzoom<ke.getSource().maxzoom)&&(fe=ke)}),fe&&this.options.showTileBoundaries&&Cn.debug(this,fe,fe.getVisibleCoordinates())}this.options.showPadding&&function(fe){const De=fe.transform.padding;bo(fe,fe.transform.height-(De.top||0),3,Nn),bo(fe,De.bottom||0,3,bs),st(fe,De.left||0,3,wr),st(fe,fe.transform.width-(De.right||0),3,Es);const ke=fe.transform.centerPoint;(function(je,Ze,at,lt){kt(je,Ze-1,at-10,2,20,lt),kt(je,Ze-10,at-1,20,2,lt)})(fe,ke.x,fe.transform.height-ke.y,ql)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(n.window.performance.now()),this.saveCanvasCopy())}}renderLayer(l,u,w,R){w.isHidden(this.transform.zoom)||(w.type==="background"||w.type==="sky"||w.type==="custom"||R&&R.length)&&(this.id=w.id,this.gpuTimingStart(w),l.transform.projection.unsupportedLayers&&l.transform.projection.unsupportedLayers.includes(w.type)||Cn[w.type](l,u,w,R,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(l){if(!this.options.gpuTiming)return;const u=this.context.extTimerQuery;let w=this.gpuTimers[l.id];w||(w=this.gpuTimers[l.id]={calls:0,cpuTime:0,query:u.createQueryEXT()}),w.calls++,u.beginQueryEXT(u.TIME_ELAPSED_EXT,w.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const l=this.context.extTimerQuery,u=l.createQueryEXT();this.deferredRenderGpuTimeQueries.push(u),l.beginQueryEXT(l.TIME_ELAPSED_EXT,u)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const l=this.context.extTimerQuery;l.endQueryEXT(l.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const l=this.context.extTimerQuery;l.endQueryEXT(l.TIME_ELAPSED_EXT)}collectGpuTimers(){const l=this.gpuTimers;return this.gpuTimers={},l}collectDeferredRenderGpuQueries(){const l=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],l}queryGpuTimers(l){const u={};for(const w in l){const R=l[w],F=this.context.extTimerQuery,se=F.getQueryObjectEXT(R.query,F.QUERY_RESULT_EXT)/1e6;F.deleteQueryEXT(R.query),u[w]=se}return u}queryGpuTimeDeferredRender(l){if(!this.options.gpuTimingDeferredRender)return 0;const u=this.context.extTimerQuery;let w=0;for(const R of l)w+=u.getQueryObjectEXT(R,u.QUERY_RESULT_EXT)/1e6,u.deleteQueryEXT(R);return w}translatePosMatrix(l,u,w,R,F){if(!w[0]&&!w[1])return l;const se=F?R==="map"?this.transform.angle:0:R==="viewport"?-this.transform.angle:0;if(se){const De=Math.sin(se),ke=Math.cos(se);w=[w[0]*ke-w[1]*De,w[0]*De+w[1]*ke]}const he=[F?w[0]:J(u,w[0],this.transform.zoom),F?w[1]:J(u,w[1],this.transform.zoom),0],fe=new Float32Array(16);return n.translate(fe,l,he),fe}saveTileTexture(l){const u=this._tileTextures[l.size[0]];u?u.push(l):this._tileTextures[l.size[0]]=[l]}getTileTexture(l){const u=this._tileTextures[l];return u&&u.length>0?u.pop():null}isPatternMissing(l){return l===null||l!==void 0&&!this.imageManager.getPattern(l.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const l=this.terrain&&this.terrain.renderingToTexture,u=this.terrain&&this.terrain.exaggeration()===0,w=this.style&&this.style.fog,R=[];return this.terrainRenderModeElevated()&&R.push("TERRAIN"),this.transform.projection.name==="globe"&&R.push("GLOBE"),u&&R.push("ZERO_EXAGGERATION"),w&&!l&&w.getOpacity(this.transform.pitch)!==0&&R.push("FOG"),l&&R.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&R.push("OVERDRAW_INSPECTOR"),R}useProgram(l,u,w){this.cache=this.cache||{};const R=w||[],F=this.currentGlobalDefines().concat(R),se=$o.cacheKey(ni[l],l,F,u);return this.cache[se]||(this.cache[se]=new $o(this.context,l,ni[l],u,vo[l],F)),this.cache[se]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const l=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(l.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=n.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new n.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(l,u,w){if(this.terrain&&this.terrain.renderingToTexture)return;const R=this.style.fog;if(R){const F=R.getOpacity(this.transform.pitch),se=((he,fe,De,ke,je,Ze,at,lt,ht,et,nt)=>{const ft=he.transform,ct=fe.properties.get("color").toArray01();ct[3]=ke;const bt=he.frameCounter/1e3%1;return{u_fog_matrix:De?ft.calculateFogTileMatrix(De):he.identityMat,u_fog_range:fe.getFovAdjustedRange(ft._fov),u_fog_color:ct,u_fog_horizon_blend:fe.properties.get("horizon-blend"),u_fog_temporal_offset:bt,u_frustum_tl:je,u_frustum_tr:Ze,u_frustum_br:at,u_frustum_bl:lt,u_globe_pos:ht,u_globe_radius:et,u_viewport:nt,u_globe_transition:n.globeToMercatorTransition(ft.zoom),u_is_globe:+(ft.projection.name==="globe")}})(this,R,w,F,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*n.exported.devicePixelRatio,this.transform.height*n.exported.devicePixelRatio]);u.setFogUniformValues(l,se)}}setTileLoadedFlag(l){this.tileLoaded=l}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const l=this.context.gl,u=l.createTexture();return l.bindTexture(l.TEXTURE_2D,u),l.copyTexImage2D(l.TEXTURE_2D,0,l.RGBA,0,0,l.drawingBufferWidth,l.drawingBufferHeight,0),u}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const l=this.style&&this.style.fog;return!!l&&l.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const l=this._backgroundTiles,u=this._backgroundTiles={},w=this.transform.coveringTiles({tileSize:512});for(const R of w)u[R.key]=l[R.key]||new n.Tile(R,512,this.transform.tileZoom,this);return u}clearBackgroundTiles(){this._backgroundTiles={}}}class Dn{constructor(l=0,u=0,w=0,R=0){if(isNaN(l)||l<0||isNaN(u)||u<0||isNaN(w)||w<0||isNaN(R)||R<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=l,this.bottom=u,this.left=w,this.right=R}interpolate(l,u,w){return u.top!=null&&l.top!=null&&(this.top=n.number(l.top,u.top,w)),u.bottom!=null&&l.bottom!=null&&(this.bottom=n.number(l.bottom,u.bottom,w)),u.left!=null&&l.left!=null&&(this.left=n.number(l.left,u.left,w)),u.right!=null&&l.right!=null&&(this.right=n.number(l.right,u.right,w)),this}getCenter(l,u){const w=n.clamp((this.left+l-this.right)/2,0,l),R=n.clamp((this.top+u-this.bottom)/2,0,u);return new n.pointGeometry(w,R)}equals(l){return this.top===l.top&&this.bottom===l.bottom&&this.left===l.left&&this.right===l.right}clone(){return new Dn(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Hn(y,l){const u=n.getColumn(y,3);n.fromQuat(y,l),n.setColumn(y,3,u)}function ps(y,l){const u=n.identity$1([]);return n.rotateZ$1(u,u,-l),n.rotateX$1(u,u,-y),u}function Sn(y,l){const u=[y[0],y[1],0],w=[l[0],l[1],0];if(n.length(u)>=1e-15){const se=n.normalize([],u);n.scale$2(w,se,n.dot(w,se)),l[0]=w[0],l[1]=w[1]}const R=n.cross([],l,y);if(n.len(R)<1e-15)return null;const F=Math.atan2(-R[1],R[0]);return ps(Math.atan2(Math.sqrt(y[0]*y[0]+y[1]*y[1]),-y[2]),F)}class xe{constructor(l,u){this.position=l,this.orientation=u}get position(){return this._position}set position(l){if(l){const u=l instanceof n.MercatorCoordinate?l:new n.MercatorCoordinate(l[0],l[1],l[2]);this._renderWorldCopies&&(u.x=n.wrap(u.x,0,1)),this._position=u}else this._position=null}lookAtPoint(l,u){if(this.orientation=null,!this.position)return;const w=this._elevation?this._elevation.getAtPointOrZero(n.MercatorCoordinate.fromLngLat(l)):0,R=this.position,F=n.MercatorCoordinate.fromLngLat(l,w),se=[F.x-R.x,F.y-R.y,F.z-R.z];u||(u=[0,0,1]),u[2]=Math.abs(u[2]),this.orientation=Sn(se,u)}setPitchBearing(l,u){this.orientation=ps(n.degToRad(l),n.degToRad(-u))}}class Se{constructor(l,u){this._transform=n.identity([]),this.orientation=u,this.position=l}get mercatorPosition(){const l=this.position;return new n.MercatorCoordinate(l[0],l[1],l[2])}get position(){const l=n.getColumn(this._transform,3);return[l[0],l[1],l[2]]}set position(l){var u;l&&n.setColumn(this._transform,3,[(u=l)[0],u[1],u[2],1])}get orientation(){return this._orientation}set orientation(l){this._orientation=l||n.identity$1([]),l&&Hn(this._transform,this._orientation)}getPitchBearing(){const l=this.forward(),u=this.right();return{bearing:Math.atan2(-u[1],u[0]),pitch:Math.atan2(Math.sqrt(l[0]*l[0]+l[1]*l[1]),-l[2])}}setPitchBearing(l,u){this._orientation=ps(l,u),Hn(this._transform,this._orientation)}forward(){const l=n.getColumn(this._transform,2);return[-l[0],-l[1],-l[2]]}up(){const l=n.getColumn(this._transform,1);return[-l[0],-l[1],-l[2]]}right(){const l=n.getColumn(this._transform,0);return[l[0],l[1],l[2]]}getCameraToWorld(l,u){const w=new Float64Array(16);return n.invert(w,this.getWorldToCamera(l,u)),w}getWorldToCameraPosition(l,u,w){const R=this.position;n.scale$2(R,R,-l);const F=new Float64Array(16);return n.fromScaling(F,[w,w,w]),n.translate(F,F,R),F[10]*=u,F}getWorldToCamera(l,u){const w=new Float64Array(16),R=new Float64Array(4),F=this.position;return n.conjugate(R,this._orientation),n.scale$2(F,F,-l),n.fromQuat(w,R),n.translate(w,w,F),w[1]*=-1,w[5]*=-1,w[9]*=-1,w[13]*=-1,w[8]*=u,w[9]*=u,w[10]*=u,w[11]*=u,w}getCameraToClipPerspective(l,u,w,R){const F=new Float64Array(16);return n.perspective(F,l,u,w,R),F}getDistanceToElevation(l,u=!1){const w=l===0?0:n.mercatorZfromAltitude(l,u?n.latFromMercatorY(this.position[1]):this.position[1]),R=this.forward();return(w-this.position[2])/R[2]}clone(){return new Se([...this.position],[...this.orientation])}}function Ge(y,l){const u=bi(y.projection,y.zoom,y.width,y.height),w=function(F,se,he,fe,De){const ke=new n.LngLat(he.lng-180*mn,he.lat),je=new n.LngLat(he.lng+180*mn,he.lat),Ze=F.project(ke.lng,ke.lat),at=F.project(je.lng,je.lat),lt=-Math.atan2(at.y-Ze.y,at.x-Ze.x),ht=n.MercatorCoordinate.fromLngLat(he);ht.y=n.clamp(ht.y,-.999975,.999975);const et=ht.toLngLat(),nt=F.project(et.lng,et.lat),ft=n.MercatorCoordinate.fromLngLat(et);ft.x+=mn;const ct=ft.toLngLat(),bt=F.project(ct.lng,ct.lat),It=Fr(bt.x-nt.x,bt.y-nt.y,lt),Ct=n.MercatorCoordinate.fromLngLat(et);Ct.y+=mn;const jt=Ct.toLngLat(),Qt=F.project(jt.lng,jt.lat),Zt=Fr(Qt.x-nt.x,Qt.y-nt.y,lt),Vt=Math.abs(It.x)/Math.abs(Zt.y),Si=n.identity([]);n.rotateZ(Si,Si,-lt*(1-(De?0:fe)));const qt=n.identity([]);return n.scale(qt,qt,[1,1-(1-Vt)*fe,1]),qt[4]=-Zt.x/Zt.y*fe,n.rotateZ(qt,qt,lt),n.multiply(qt,Si,qt),qt}(y.projection,0,y.center,u,l),R=xt(y);return n.scale(w,w,[R,R,1]),w}function xt(y){const l=y.projection,u=bi(y.projection,y.zoom,y.width,y.height),w=cs(l,y.center),R=cs(l,n.LngLat.convert(l.center));return Math.pow(2,w*u+(1-u)*R)}function bi(y,l,u,w,R=1/0){const F=y.range;if(!F)return 0;const se=Math.min(R,Math.max(u,w)),he=Math.log(se/1024)/Math.LN2;return n.smoothstep(F[0]+he,F[1]+he,l)}const mn=1/4e4;function cs(y,l){const u=n.clamp(l.lat,-n.MAX_MERCATOR_LATITUDE,n.MAX_MERCATOR_LATITUDE),w=new n.LngLat(l.lng-180*mn,u),R=new n.LngLat(l.lng+180*mn,u),F=y.project(w.lng,u),se=y.project(R.lng,u),he=n.MercatorCoordinate.fromLngLat(w),fe=n.MercatorCoordinate.fromLngLat(R),De=se.x-F.x,ke=se.y-F.y,je=fe.x-he.x,Ze=fe.y-he.y,at=Math.sqrt((je*je+Ze*Ze)/(De*De+ke*ke));return Math.log(at)/Math.LN2}function Fr(y,l,u){const w=Math.cos(u),R=Math.sin(u);return{x:y*w-l*R,y:y*R+l*w}}class Sr{constructor(l,u,w,R,F,se,he){this.tileSize=512,this._renderWorldCopies=F===void 0||F,this._minZoom=l||0,this._maxZoom=u||22,this._minPitch=w??0,this._maxPitch=R??60,this.setProjection(se),this.setMaxBounds(he),this.width=0,this.height=0,this._center=new n.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Dn,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Se,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const l=new Sr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return l._elevation=this._elevation,l._centerAltitude=this._centerAltitude,l._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,l.tileSize=this.tileSize,l.mercatorFromTransition=this.mercatorFromTransition,l.width=this.width,l.height=this.height,l.cameraElevationReference=this.cameraElevationReference,l._center=this._center,l._setZoom(this.zoom),l._seaLevelZoom=this._seaLevelZoom,l.angle=this.angle,l._fov=this._fov,l._pitch=this._pitch,l._nearZ=this._nearZ,l._farZ=this._farZ,l._averageElevation=this._averageElevation,l._unmodified=this._unmodified,l._edgeInsets=this._edgeInsets.clone(),l._camera=this._camera.clone(),l._calcMatrices(),l.freezeTileCoverage=this.freezeTileCoverage,l.frustumCorners=this.frustumCorners,l}get elevation(){return this._elevation}set elevation(l){this._elevation!==l&&(this._elevation=l,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(l,u=!1){const w=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||w)&&this._updateCameraOnTerrain(),(l||w)&&this._constrainCamera(u),this._calcMatrices()}getProjection(){return n.pick(this.projection,["name","center","parallels"])}setProjection(l){this.projectionOptions=l||{name:"mercator"};const u=this.projection?this.getProjection():void 0;this.projection=n.getProjection(this.projectionOptions);const w=!x(u,this.getProjection());return w&&this._calcMatrices(),this.mercatorFromTransition=!1,w}setMercatorFromTransition(){const l=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=n.getProjection({name:"mercator"});const u=l!==this.projection.name;return u&&this._calcMatrices(),u}get minZoom(){return this._minZoom}set minZoom(l){this._minZoom!==l&&(this._minZoom=l,this.zoom=Math.max(this.zoom,l))}get maxZoom(){return this._maxZoom}set maxZoom(l){this._maxZoom!==l&&(this._maxZoom=l,this.zoom=Math.min(this.zoom,l))}get minPitch(){return this._minPitch}set minPitch(l){this._minPitch!==l&&(this._minPitch=l,this.pitch=Math.max(this.pitch,l))}get maxPitch(){return this._maxPitch}set maxPitch(l){this._maxPitch!==l&&(this._maxPitch=l,this.pitch=Math.min(this.pitch,l))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(l){l===void 0?l=!0:l===null&&(l=!1),this._renderWorldCopies=l}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const l=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(l))}get cameraWorldSize(){const l=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(l))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return n.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new n.pointGeometry(this.width,this.height)}get bearing(){return n.wrap(this.rotation,-180,180)}set bearing(l){this.rotation=l}get rotation(){return-this.angle/Math.PI*180}set rotation(l){const u=-l*Math.PI/180;var w;this.angle!==u&&(this._unmodified=!1,this.angle=u,this._calcMatrices(),this.rotationMatrix=(w=new n.ARRAY_TYPE(4),n.ARRAY_TYPE!=Float32Array&&(w[1]=0,w[2]=0),w[0]=1,w[3]=1,w),function(R,F,se){var he=F[0],fe=F[1],De=F[2],ke=F[3],je=Math.sin(se),Ze=Math.cos(se);R[0]=he*Ze+De*je,R[1]=fe*Ze+ke*je,R[2]=he*-je+De*Ze,R[3]=fe*-je+ke*Ze}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(l){const u=n.clamp(l,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==u&&(this._unmodified=!1,this._pitch=u,this._calcMatrices())}get aspect(){return this.width/this.height}get fovX(){return this._fov}get fovY(){const l=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/l)}set fov(l){l=Math.max(.01,Math.min(60,l)),this._fov!==l&&(this._unmodified=!1,this._fov=n.degToRad(l),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(l){this._averageElevation=l,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(l){const u=Math.min(Math.max(l,this.minZoom),this.maxZoom);this._zoom!==u&&(this._unmodified=!1,this._setZoom(u),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(l){this._zoom=l,this.scale=this.zoomScale(l),this.tileZoom=Math.floor(l),this.zoomFraction=l-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const l=this._elevation;this._centerAltitude=l.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=l.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const l=this._elevation,u=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],w=this.horizonLineFromTop();let R=0,F=0;for(let se=0;se<u.length;se++){const he=new n.pointGeometry(u[se][0]*this.width,w+u[se][1]*(this.height-w)),fe=l.pointCoordinate(he);if(!fe)continue;const De=1/Math.hypot(fe[0]-this._camera.position[0],fe[1]-this._camera.position[1]);R+=fe[3]*De,F+=De}return F===0?NaN:R/F}get center(){return this._center}set center(l){l.lat===this._center.lat&&l.lng===this._center.lng||(this._unmodified=!1,this._center=l,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const l=this._seaLevelZoom,u=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),w=this.pixelsPerMeter/this.worldSize*u,R=this._mercatorZfromZoom(l),F=this._mercatorZfromZoom(this._maxZoom),se=Math.max(R-w,F);this._setZoom(this._zoomFromMercatorZ(se))}get padding(){return this._edgeInsets.toJSON()}set padding(l){this._edgeInsets.equals(l)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,l,1),this._calcMatrices())}computeZoomRelativeTo(l){const u=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,l.toAltitude()));let w;w=l.z<this._camera.position[2]?[u.x,u.y,u.z]:[l.x,l.y,l.z];const R=n.length(n.sub([],this._camera.position,w));return n.clamp(this._zoomFromMercatorZ(R),this._minZoom,this._maxZoom)}setFreeCameraOptions(l){if(!this.height||!l.position&&!l.orientation)return;this._updateCameraState();let u=!1;if(l.orientation&&!n.exactEquals(l.orientation,this._camera.orientation)&&(u=this._setCameraOrientation(l.orientation)),l.position){const w=[l.position.x,l.position.y,l.position.z];n.exactEquals$1(w,this._camera.position)||(this._setCameraPosition(w),u=!0)}u&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const l=this._camera.position,u=new xe;return u.position=new n.MercatorCoordinate(l[0],l[1],l[2]),u.orientation=this._camera.orientation,u._elevation=this.elevation,u._renderWorldCopies=this.renderWorldCopies,u}_setCameraOrientation(l){if(!n.length$1(l))return!1;n.normalize$1(l,l);const u=n.transformQuat([],[0,0,-1],l),w=n.transformQuat([],[0,-1,0],l);if(w[2]<0)return!1;const R=Sn(u,w);return!!R&&(this._camera.orientation=R,!0)}_setCameraPosition(l){const u=this.zoomScale(this.minZoom)*this.tileSize,w=this.zoomScale(this.maxZoom)*this.tileSize,R=this.cameraToCenterDistance;l[2]=n.clamp(l[2],R/w,R/u),this._camera.position=l}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(l){return this._edgeInsets.equals(l)}interpolatePadding(l,u,w){this._unmodified=!1,this._edgeInsets.interpolate(l,u,w),this._constrain(),this._calcMatrices()}coveringZoomLevel(l){const u=(l.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/l.tileSize));return Math.max(0,u)}getVisibleUnwrappedCoordinates(l){const u=[new n.UnwrappedTileID(0,l)];if(this.renderWorldCopies){const w=this.pointCoordinate(new n.pointGeometry(0,0)),R=this.pointCoordinate(new n.pointGeometry(this.width,0)),F=this.pointCoordinate(new n.pointGeometry(this.width,this.height)),se=this.pointCoordinate(new n.pointGeometry(0,this.height)),he=Math.floor(Math.min(w.x,R.x,F.x,se.x)),fe=Math.floor(Math.max(w.x,R.x,F.x,se.x)),De=1;for(let ke=he-De;ke<=fe+De;ke++)ke!==0&&u.push(new n.UnwrappedTileID(ke,l))}return u}coveringTiles(l){let u=this.coveringZoomLevel(l);const w=u,R=this.elevation&&!l.isTerrainDEM,F=this.projection.name==="mercator";if(l.minzoom!==void 0&&u<l.minzoom)return[];l.maxzoom!==void 0&&u>l.maxzoom&&(u=l.maxzoom);const se=this.locationCoordinate(this.center),he=this.center.lat,fe=1<<u,De=[fe*se.x,fe*se.y,0],ke=this.projection.name==="globe",je=!ke,Ze=n.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,u,je),at=ke?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),lt=fe*n.mercatorZfromAltitude(1,this.center.lat),ht=this._camera.position[2]/n.mercatorZfromAltitude(1,this.center.lat),et=[fe*at.x,fe*at.y,ht*(je?1:lt)],nt=this.cameraToCenterDistance/l.tileSize*(l.roundZoom?1:.502),ft=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?u:0,ct=l.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,bt=l.isTerrainDEM?-ct:this._elevation?this._elevation.getMinElevationBelowMSL():0,It=this.projection.isReprojectedInTileSpace?xt(this):1,Ct=ii=>{const Ri=new n.MercatorCoordinate(ii.x+25e-6,ii.y,ii.z),Ht=new n.MercatorCoordinate(ii.x,ii.y+25e-6,ii.z),ei=ii.toLngLat(),dn=Ri.toLngLat(),gn=Ht.toLngLat(),hn=this.locationCoordinate(ei),Pn=this.locationCoordinate(dn),Zn=this.locationCoordinate(gn),xn=Math.hypot(Pn.x-hn.x,Pn.y-hn.y),tn=Math.hypot(Zn.x-hn.x,Zn.y-hn.y);return Math.sqrt(xn*tn)*It/25e-6},jt=ii=>{const vi=ct,Ri=bt;return{aabb:n.tileAABB(this,fe,0,0,0,ii,Ri,vi,this.projection),zoom:0,x:0,y:0,minZ:Ri,maxZ:vi,wrap:ii,fullyVisible:!1}},Qt=[];let Zt=[];const Vt=u,Si=l.reparseOverscaled?w:u,qt=ii=>ii*ii,pi=qt((ht-this._centerAltitude)*lt),ti=ii=>{if(!this._elevation||!ii.tileID||!F)return;const vi=this._elevation.getMinMaxForTile(ii.tileID),Ri=ii.aabb;vi?(Ri.min[2]=vi.min,Ri.max[2]=vi.max,Ri.center[2]=(Ri.min[2]+Ri.max[2])/2):(ii.shouldSplit=Pi(ii),ii.shouldSplit||(Ri.min[2]=Ri.max[2]=Ri.center[2]=this._centerAltitude))},Pi=ii=>{if(ii.zoom<ft)return!0;if(ii.zoom===Vt)return!1;if(ii.shouldSplit!=null)return ii.shouldSplit;const vi=ii.aabb.distanceX(et),Ri=ii.aabb.distanceY(et);let Ht=pi,ei=1;if(ke){Ht=qt(ii.aabb.distanceZ(et));const hn=Math.pow(2,ii.zoom),Pn=n.latFromMercatorY((ii.y+1)/hn),Zn=n.latFromMercatorY(ii.y/hn),xn=Math.min(Math.max(he,Pn),Zn),tn=n.circumferenceAtLatitude(xn)/n.circumferenceAtLatitude(he);if(ei=xn===he?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,tn/this._mercatorScaleRatio),this.zoom<=n.GLOBE_ZOOM_THRESHOLD_MIN&&ii.zoom===Vt-1&&tn>=.9)return!0}else if(R&&(Ht=qt(ii.aabb.distanceZ(et)*lt)),this.projection.isReprojectedInTileSpace&&w<=5){const hn=Math.pow(2,ii.zoom),Pn=Ct(new n.MercatorCoordinate((ii.x+.5)/hn,(ii.y+.5)/hn));ei=Pn>.85?1:Pn}const dn=vi*vi+Ri*Ri+Ht,gn=qt((1<<Vt-ii.zoom)*nt*ei*((hn,Pn)=>{if(Pn*qt(.707)<hn)return 1;const Zn=Math.sqrt(Pn/hn);return Zn/(1.4144271570014144+(Math.pow(1.1,Zn-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(Ht,pi),dn));return dn<gn};if(this.renderWorldCopies)for(let ii=1;ii<=3;ii++)Qt.push(jt(-ii)),Qt.push(jt(ii));for(Qt.push(jt(0));Qt.length>0;){const ii=Qt.pop(),vi=ii.x,Ri=ii.y;let Ht=ii.fullyVisible;if(!Ht){const ei=ii.aabb.intersects(Ze);if(ei===0)continue;Ht=ei===2}if(ii.zoom!==Vt&&Pi(ii))for(let ei=0;ei<4;ei++){const dn=(vi<<1)+ei%2,gn=(Ri<<1)+(ei>>1),hn={aabb:F?ii.aabb.quadrant(ei):n.tileAABB(this,fe,ii.zoom+1,dn,gn,ii.wrap,ii.minZ,ii.maxZ,this.projection),zoom:ii.zoom+1,x:dn,y:gn,wrap:ii.wrap,fullyVisible:Ht,tileID:void 0,shouldSplit:void 0,minZ:ii.minZ,maxZ:ii.maxZ};R&&!ke&&(hn.tileID=new n.OverscaledTileID(ii.zoom+1===Vt?Si:ii.zoom+1,ii.wrap,ii.zoom+1,dn,gn),ti(hn)),Qt.push(hn)}else{const ei=ii.zoom===Vt?Si:ii.zoom;if(l.minzoom&&l.minzoom>ei)continue;const dn=De[0]-(.5+vi+(ii.wrap<<ii.zoom))*(1<<u-ii.zoom),gn=De[1]-.5-Ri,hn=ii.tileID?ii.tileID:new n.OverscaledTileID(ei,ii.wrap,ii.zoom,vi,Ri);Zt.push({tileID:hn,distanceSq:dn*dn+gn*gn})}}if(this.fogCullDistSq){const ii=this.fogCullDistSq,vi=this.horizonLineFromTop();Zt=Zt.filter(Ri=>{const Ht=[0,0,0,1],ei=[n.EXTENT,n.EXTENT,0,1],dn=this.calculateFogTileMatrix(Ri.tileID.toUnwrapped());n.transformMat4$1(Ht,Ht,dn),n.transformMat4$1(ei,ei,dn);const gn=n.getAABBPointSquareDist(Ht,ei);if(gn===0)return!0;let hn=!1;const Pn=this._elevation;if(Pn&&gn>ii&&vi!==0){const Zn=this.calculateProjMatrix(Ri.tileID.toUnwrapped());let xn;l.isTerrainDEM||(xn=Pn.getMinMaxForTile(Ri.tileID)),xn||(xn={min:bt,max:ct});const tn=n.furthestTileCorner(this.rotation),Gs=[tn[0]*n.EXTENT,tn[1]*n.EXTENT,xn.max];n.transformMat4(Gs,Gs,Zn),hn=(1-Gs[1])*this.height*.5<vi}return gn<ii||hn})}return Zt.sort((ii,vi)=>ii.distanceSq-vi.distanceSq).map(ii=>ii.tileID)}resize(l,u){this.width=l,this.height=u,this.pixelsToGLUnits=[2/l,-2/u],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(l){return Math.pow(2,l)}scaleZoom(l){return Math.log(l)/Math.LN2}project(l){const u=n.clamp(l.lat,-n.MAX_MERCATOR_LATITUDE,n.MAX_MERCATOR_LATITUDE),w=this.projection.project(l.lng,u);return new n.pointGeometry(w.x*this.worldSize,w.y*this.worldSize)}unproject(l){return this.projection.unproject(l.x/this.worldSize,l.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(l,u){let w,R;const F=this.centerPoint;if(this.projection.name==="globe"){const he=this.worldSize;w=(u.x-F.x)/he,R=(u.y-F.y)/he}else{const he=this.pointCoordinate(u),fe=this.pointCoordinate(F);w=he.x-fe.x,R=he.y-fe.y}const se=this.locationCoordinate(l);this.setLocation(new n.MercatorCoordinate(se.x-w,se.y-R))}setLocation(l){this.center=this.coordinateLocation(l),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(l){return this.projection.locationPoint(this,l)}locationPoint3D(l){return this.projection.locationPoint(this,l,!0)}pointLocation(l){return this.coordinateLocation(this.pointCoordinate(l))}pointLocation3D(l){return this.coordinateLocation(this.pointCoordinate3D(l))}locationCoordinate(l,u){const w=u?n.mercatorZfromAltitude(u,l.lat):void 0,R=this.projection.project(l.lng,l.lat);return new n.MercatorCoordinate(R.x,R.y,w)}coordinateLocation(l){return this.projection.unproject(l.x,l.y)}pointRayIntersection(l,u){const w=u??this._centerAltitude,R=[l.x,l.y,0,1],F=[l.x,l.y,1,1];n.transformMat4$1(R,R,this.pixelMatrixInverse),n.transformMat4$1(F,F,this.pixelMatrixInverse);const se=F[3];n.scale$1(R,R,1/R[3]),n.scale$1(F,F,1/se);const he=R[2],fe=F[2];return{p0:R,p1:F,t:he===fe?0:(w-he)/(fe-he)}}screenPointToMercatorRay(l){const u=[l.x,l.y,0,1],w=[l.x,l.y,1,1];return n.transformMat4$1(u,u,this.pixelMatrixInverse),n.transformMat4$1(w,w,this.pixelMatrixInverse),n.scale$1(u,u,1/u[3]),n.scale$1(w,w,1/w[3]),u[2]=n.mercatorZfromAltitude(u[2],this._center.lat)*this.worldSize,w[2]=n.mercatorZfromAltitude(w[2],this._center.lat)*this.worldSize,n.scale$1(u,u,1/this.worldSize),n.scale$1(w,w,1/this.worldSize),new n.Ray([u[0],u[1],u[2]],n.normalize([],n.sub([],w,u)))}rayIntersectionCoordinate(l){const{p0:u,p1:w,t:R}=l,F=n.mercatorZfromAltitude(u[2],this._center.lat),se=n.mercatorZfromAltitude(w[2],this._center.lat);return new n.MercatorCoordinate(n.number(u[0],w[0],R)/this.worldSize,n.number(u[1],w[1],R)/this.worldSize,n.number(F,se,R))}pointCoordinate(l,u=this._centerAltitude){return this.projection.pointCoordinate(this,l.x,l.y,u)}pointCoordinate3D(l){if(!this.elevation)return this.pointCoordinate(l);let u=this.projection.pointCoordinate3D(this,l.x,l.y);if(u)return new n.MercatorCoordinate(u[0],u[1],u[2]);let w=0,R=this.horizonLineFromTop();if(l.y>R)return this.pointCoordinate(l);const F=.02*R,se=l.clone();for(let he=0;he<10&&R-w>F;he++){se.y=n.number(w,R,.66);const fe=this.projection.pointCoordinate3D(this,se.x,se.y);fe?(R=se.y,u=fe):w=se.y}return u?new n.MercatorCoordinate(u[0],u[1],u[2]):this.pointCoordinate(l)}isPointAboveHorizon(l){return this.projection.isPointAboveHorizon(this,l)}_coordinatePoint(l,u){const w=u&&this.elevation?this.elevation.getAtPointOrZero(l,this._centerAltitude):this._centerAltitude,R=[l.x*this.worldSize,l.y*this.worldSize,w+l.toAltitude(),1];return n.transformMat4$1(R,R,this.pixelMatrix),R[3]>0?new n.pointGeometry(R[0]/R[3],R[1]/R[3]):new n.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getGlobeBounds(){const{top:l,left:u}=this._edgeInsets,w=this.height-this._edgeInsets.bottom,R=this.width-this._edgeInsets.right,F=this.pointCoordinate3D(new n.pointGeometry(u,l)),se=this.pointCoordinate3D(new n.pointGeometry(R,l)),he=this.pointCoordinate3D(new n.pointGeometry(R,w)),fe=this.pointCoordinate3D(new n.pointGeometry(u,w));let De=Math.min(F.x,fe.x),ke=Math.max(se.x,he.x),je=Math.min(F.y,se.y),Ze=Math.max(fe.y,he.y);const at=Math.pow(2,-this.zoom)/16,lt=(Ct,jt,Qt,Zt)=>{const Vt=(Ct+Qt)/2,Si=(jt+Zt)/2,qt=new n.pointGeometry(Vt,Si),pi=this.pointCoordinate3D(qt),ti=Math.max(0,De-pi.x,je-pi.y,pi.x-ke,pi.y-Ze);De=Math.min(De,pi.x),ke=Math.max(ke,pi.x),je=Math.min(je,pi.y),Ze=Math.max(Ze,pi.y),ti>at&&(lt(Ct,jt,Vt,Si),lt(Vt,Si,Qt,Zt))};lt(u,l,R,l),lt(R,l,R,w),lt(R,w,u,w),lt(u,w,u,l);const[ht,et]=n.polesInViewport(this),nt=ht||et,ft=ht?90:n.latFromMercatorY(je),ct=nt?180:n.lngFromMercatorX(ke),bt=et?-90:n.latFromMercatorY(Ze),It=nt?-180:n.lngFromMercatorX(De);return new n.LngLatBounds(new n.LngLat(It,bt),new n.LngLat(ct,ft))}_getBounds(l,u){if(this.projection.name==="globe")return this._getGlobeBounds();const w=new n.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),R=new n.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),F=new n.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),se=new n.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let he=this.pointCoordinate(w,l),fe=this.pointCoordinate(R,l);const De=this.pointCoordinate(F,u),ke=this.pointCoordinate(se,u),je=(Ze,at)=>(at.y-Ze.y)/(at.x-Ze.x);return he.y>1&&fe.y>=0?he=new n.MercatorCoordinate((1-ke.y)/je(ke,he)+ke.x,1):he.y<0&&fe.y<=1&&(he=new n.MercatorCoordinate(-ke.y/je(ke,he)+ke.x,0)),fe.y>1&&he.y>=0?fe=new n.MercatorCoordinate((1-De.y)/je(De,fe)+De.x,1):fe.y<0&&he.y<=1&&(fe=new n.MercatorCoordinate(-De.y/je(De,fe)+De.x,0)),new n.LngLatBounds().extend(this.coordinateLocation(he)).extend(this.coordinateLocation(fe)).extend(this.coordinateLocation(ke)).extend(this.coordinateLocation(De))}_getBounds3D(){const l=this.elevation;if(!l.visibleDemTiles.length||l.isUsingMockSource())return this._getBounds(0,0);const u=l.visibleDemTiles.reduce((w,R)=>{if(R.dem){const F=R.dem.tree;w.min=Math.min(w.min,F.minimums[0]),w.max=Math.max(w.max,F.maximums[0])}return w},{min:Number.MAX_VALUE,max:0});return this._getBounds(u.min*l.exaggeration(),u.max*l.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(l=!0){const u=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,w=this.height/2-u*(1-this._horizonShift);return l?Math.max(0,w):w}getMaxBounds(){return this.maxBounds}setMaxBounds(l){this.maxBounds=l,this.minLat=-n.MAX_MERCATOR_LATITUDE,this.maxLat=n.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,l&&(this.minLat=l.getSouth(),this.maxLat=l.getNorth(),this.minLng=l.getWest(),this.maxLng=l.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=n.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=n.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=n.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=n.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(l,u){return this.projection.createTileMatrix(this,u,l)}calculateDistanceTileData(l){const u=l.key,w=this._distanceTileDataCache;if(w[u])return w[u];const R=l.canonical,F=1/this.height,se=this.cameraWorldSize,he=se/this.zoomScale(R.z),fe=(R.x+Math.pow(2,R.z)*l.wrap)*he,De=R.y*he,ke=this.point;ke.x*=se/this.worldSize,ke.y*=se/this.worldSize;const je=this.angle,Ze=Math.sin(-je),at=-Math.cos(-je);return w[u]={bearing:[Ze,at],center:[(ke.x-fe)*F,(ke.y-De)*F],scale:he/n.EXTENT*F},w[u]}calculateFogTileMatrix(l){const u=l.key,w=this._fogTileMatrixCache;if(w[u])return w[u];const R=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,l);return n.multiply(R,this.worldToFogMatrix,R),w[u]=new Float32Array(R),w[u]}calculateProjMatrix(l,u=!1){const w=l.key,R=u?this._alignedProjMatrixCache:this._projMatrixCache;if(R[w])return R[w];const F=this.calculatePosMatrix(l,this.worldSize);return n.multiply(F,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:u?this.alignedProjMatrix:this.projMatrix,F),R[w]=new Float32Array(F),R[w]}calculatePixelsToTileUnitsMatrix(l){const u=l.tileID.key,w=this._pixelsToTileUnitsCache;if(w[u])return w[u];const R=function(F,se){const{scale:he}=F.tileTransform,fe=he*n.EXTENT/(F.tileSize*Math.pow(2,se.zoom-F.tileID.overscaledZ+F.tileID.canonical.z));return De=new Float32Array(4),Ze=(ke=se.inverseAdjustmentMatrix)[1],at=ke[2],lt=ke[3],et=(je=[fe,fe])[1],De[0]=ke[0]*(ht=je[0]),De[1]=Ze*ht,De[2]=at*et,De[3]=lt*et,De;var De,ke,je,Ze,at,lt,ht,et}(l,this);return w[u]=R,w[u]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const l=this._elevation;this._updateCameraState();const u=n.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,w=this._computeCameraPosition(u),R=this._camera.forward(),F=n.mercatorZfromAltitude(1,this._center.lat);w[2]/=F,R[2]/=F,n.normalize(R,R);const se=l.raycast(w,R,l.exaggeration());if(se){const he=n.scaleAndAdd([],w,R,se),fe=new n.MercatorCoordinate(he[0],he[1],n.mercatorZfromAltitude(he[2],n.latFromMercatorY(he[1]))),De=(fe.z+n.length([fe.x-w[0],fe.y-w[1],fe.z-w[2]*F]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(De),this._centerAltitude=fe.toAltitude(),this._center=this.coordinateLocation(fe),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(l=!1){if(!this._elevation)return;const u=this._elevation,w=n.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,R=this._computeCameraPosition(w),F=u.getAtPointOrZero(new n.MercatorCoordinate(...R)),se=this.pixelsPerMeter/this.worldSize*F,he=this._minimumHeightOverTerrain(),fe=R[2]-se;if(fe<=he)if(fe<0||l){const De=this.locationCoordinate(this._center,this._centerAltitude),ke=[R[0],R[1],De.z-R[2]],je=n.length(ke);ke[2]-=(he-fe)/this._pixelsPerMercatorPixel;const Ze=n.length(ke);if(Ze===0)return;n.scale$2(ke,ke,je/Ze*this._pixelsPerMercatorPixel),this._camera.position=[R[0],R[1],De.z*this._pixelsPerMercatorPixel-ke[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const l=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||l){const Ze=this.center;return Ze.lat=n.clamp(Ze.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!l)&&(Ze.lng=n.clamp(Ze.lng,this.minLng,this.maxLng)),this.center=Ze,void(this._constraining=!1)}const u=this._unmodified,{x:w,y:R}=this.point;let F=0,se=w,he=R;const fe=this.width/2,De=this.height/2,ke=this.worldMinY*this.scale,je=this.worldMaxY*this.scale;if(R-De<ke&&(he=ke+De),R+De>je&&(he=je-De),je-ke<this.height&&(F=Math.max(F,this.height/(je-ke)),he=(je+ke)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const Ze=this.worldMinX*this.scale,at=this.worldMaxX*this.scale,lt=this.worldSize/2-(Ze+at)/2;se=(w+lt+this.worldSize)%this.worldSize-lt,se-fe<Ze&&(se=Ze+fe),se+fe>at&&(se=at-fe),at-Ze<this.width&&(F=Math.max(F,this.width/(at-Ze)),se=(at+Ze)/2)}se===w&&he===R||(this.center=this.unproject(new n.pointGeometry(se,he))),F&&(this.zoom+=this.scaleZoom(F)),this._constrainCamera(),this._unmodified=u,this._constraining=!1}_minZoomForBounds(){let l=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(l=Math.max(l,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),l}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const l=this.centerOffset,u=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=n.mercatorZfromAltitude(1,this.center.lat)/n.mercatorZfromAltitude(1,n.GLOBE_SCALE_MATCH_LATITUDE));const w=bi(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,w),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const R=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?u:1),F=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);F[8]=2*-l.x/this.width,F[9]=2*l.y/this.height;let se=n.mul([],F,R);if(this.projection.isReprojectedInTileSpace){const It=this.locationCoordinate(this.center),Ct=n.identity([]);n.translate(Ct,Ct,[It.x*this.worldSize,It.y*this.worldSize,0]),n.multiply(Ct,Ct,Ge(this)),n.translate(Ct,Ct,[-It.x*this.worldSize,-It.y*this.worldSize,0]),n.multiply(se,se,Ct),this.inverseAdjustmentMatrix=function(jt){const Qt=Ge(jt,!0);return N([],[Qt[0],Qt[1],Qt[4],Qt[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=n.scale([],se,[this.worldSize,this.worldSize,this.worldSize/u,1]),this.projMatrix=se,this.invProjMatrix=n.invert(new Float64Array(16),this.projMatrix);const he=n.invert([],F);this.frustumCorners=n.FrustumCorners.fromInvProjectionMatrix(he,this.horizonLineFromTop(),this.height);const fe=new Float32Array(16);n.identity(fe),n.scale(fe,fe,[1,-1,1]),n.rotateX(fe,fe,this._pitch),n.rotateZ(fe,fe,this.angle);const De=n.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),ke=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;De[8]=2*-l.x/this.width,De[9]=2*(l.y+ke)/this.height,this.skyboxMatrix=n.multiply(fe,De,fe);const je=this.point,Ze=je.x,at=je.y,lt=this.width%2/2,ht=this.height%2/2,et=Math.cos(this.angle),nt=Math.sin(this.angle),ft=Ze-Math.round(Ze)+et*lt+nt*ht,ct=at-Math.round(at)+et*ht+nt*lt,bt=new Float64Array(se);if(n.translate(bt,bt,[ft>.5?ft-1:ft,ct>.5?ct-1:ct,0]),this.alignedProjMatrix=bt,se=n.create(),n.scale(se,se,[this.width/2,-this.height/2,1]),n.translate(se,se,[1,-1,0]),this.labelPlaneMatrix=se,se=n.create(),n.scale(se,se,[1,-1,1]),n.translate(se,se,[-1,-1,0]),n.scale(se,se,[2/this.width,2/this.height,1]),this.glCoordMatrix=se,this.pixelMatrix=n.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},se=n.invert(new Float64Array(16),this.pixelMatrix),!se)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=se,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=n.calculateGlobeMatrix(this);const It=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=n.transformMat4(It,It,R),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=se;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const l=this.cameraWorldSizeForFog,u=this.cameraPixelsPerMeter,w=this._camera.position,R=1/this.height/this._pixelsPerMercatorPixel,F=[l,l,u];n.scale$2(F,F,R),n.scale$2(w,w,-1),n.multiply$2(w,w,F);const se=n.create();n.translate(se,se,w),n.scale(se,se,F),this.mercatorFogMatrix=se,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(l,u,R)}_computeCameraPosition(l){const u=(l=l||this.pixelsPerMeter)/this.pixelsPerMeter,w=this._camera.forward(),R=this.point,F=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*u-l/this.worldSize*this._centerAltitude;return[R.x/this.worldSize-w[0]*F,R.y/this.worldSize-w[1]*F,l/this.worldSize*this._centerAltitude-w[2]*F]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(l){const u=this._maxCameraBoundsDistance()*Math.cos(this._pitch),w=this._camera.position[2],R=l[2];let F=1;this.projection.wrap&&(this.center=this.center.wrap()),R>0&&(F=Math.min((u-w)/R,1)),this._camera.position=n.scaleAndAdd([],this._camera.position,l,F),this._updateStateFromCamera()}_updateStateFromCamera(){const l=this._camera.position,u=this._camera.forward(),{pitch:w,bearing:R}=this._camera.getPitchBearing(),F=n.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,se=this._mercatorZfromZoom(this._maxZoom)*Math.cos(n.degToRad(this._maxPitch)),he=Math.max((l[2]-F)/Math.cos(w),se),fe=this._zoomFromMercatorZ(he);n.scaleAndAdd(l,l,u,he),this._pitch=n.clamp(w,n.degToRad(this.minPitch),n.degToRad(this.maxPitch)),this.angle=n.wrap(R,-Math.PI,Math.PI),this._setZoom(n.clamp(fe,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new n.MercatorCoordinate(l[0],l[1],l[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(l){return Math.pow(2,l)*this.tileSize}_mercatorZfromZoom(l){return this.cameraToCenterDistance/this._worldSizeFromZoom(l)}_minimumHeightOverTerrain(){const l=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(l)}_zoomFromMercatorZ(l){return this.scaleZoom(this.cameraToCenterDistance/(l*this.tileSize))}zoomFromMercatorZAdjusted(l){const u=se=>{const he=this.getCameraToCenterDistance(this.projection,se);return this.scaleZoom(he/(l*this.tileSize))};let w,R=u(this.zoom),F=Math.abs(R-u(R));for(;w!==F;)R=u(R),w=F,F=Math.abs(R-u(R));return R}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(n.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(l,u){const w=Math.min(l.x,u.x),R=Math.max(l.x,u.x),F=Math.min(l.y,u.y),se=Math.max(l.y,u.y);if(F<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const he=[new n.pointGeometry(w,F),new n.pointGeometry(R,se),new n.pointGeometry(w,se),new n.pointGeometry(R,F)],fe=this.renderWorldCopies?-3:0,De=this.renderWorldCopies?4:1;for(const ke of he){const je=this.pointRayIntersection(ke);if(je.t<0)return!0;const Ze=this.rayIntersectionCoordinate(je);if(Ze.x<fe||Ze.y<0||Ze.x>De||Ze.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+n.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new n.pointGeometry(0,0),new n.pointGeometry(this.width,this.height))}zoomDeltaToMovement(l,u){const w=n.length(n.sub([],this._camera.position,l)),R=this._zoomFromMercatorZ(w)+u;return w-this._mercatorZfromZoom(R)}getCameraPoint(){if(this.projection.name==="globe"){const l=function([u,w,R],F){const se=[u,w,R,1];n.transformMat4$1(se,se,F);const he=se[3]=Math.max(se[3],1e-6);return se[0]/=he,se[1]/=he,se[2]/=he,se}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new n.pointGeometry(l[0],l[1])}{const l=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new n.pointGeometry(0,l))}}getCameraToCenterDistance(l,u=this.zoom){const w=bi(l,u,this.width,this.height,1024),R=l.pixelSpaceConversion(this.center.lat,this.worldSize,w);return .5/Math.tan(.5*this._fov)*this.height*R}getWorldToCameraMatrix(){const l=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&n.multiply(l,l,this.globeMatrix),l}}function Ka(y,l){let u=!1,w=null;const R=()=>{w=null,u&&(y(),w=setTimeout(R,l),u=!1)};return()=>(u=!0,w||R(),w)}class Zi{constructor(l){this._hashName=l&&encodeURIComponent(l),n.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Ka(this._updateHashUnthrottled.bind(this),300)}addTo(l){return this._map=l,n.window.addEventListener("hashchange",this._onHashChange,!1),l.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),n.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const l=this._map;if(!l)return"";const u=Ja(l);if(this._hashName){const w=this._hashName;let R=!1;const F=n.window.location.hash.slice(1).split("&").map(se=>{const he=se.split("=")[0];return he===w?(R=!0,`${he}=${u}`):se}).filter(se=>se);return R||F.push(`${w}=${u}`),`#${F.join("&")}`}return`#${u}`}_getCurrentHash(){const l=n.window.location.hash.replace("#","");if(this._hashName){let u;return l.split("&").map(w=>w.split("=")).forEach(w=>{w[0]===this._hashName&&(u=w)}),(u&&u[1]||"").split("/")}return l.split("/")}_onHashChange(){const l=this._map;if(!l)return!1;const u=this._getCurrentHash();if(u.length>=3&&!u.some(w=>isNaN(w))){const w=l.dragRotate.isEnabled()&&l.touchZoomRotate.isEnabled()?+(u[3]||0):l.getBearing();return l.jumpTo({center:[+u[2],+u[1]],zoom:+u[0],bearing:w,pitch:+(u[4]||0)}),!0}return!1}_updateHashUnthrottled(){const l=n.window.location.href.replace(/(#.+)?$/,this.getHashString());n.window.history.replaceState(n.window.history.state,null,l)}}function Ja(y,l){const u=y.getCenter(),w=Math.round(100*y.getZoom())/100,R=Math.ceil((w*Math.LN2+Math.log(512/360/.5))/Math.LN10),F=Math.pow(10,R),se=Math.round(u.lng*F)/F,he=Math.round(u.lat*F)/F,fe=y.getBearing(),De=y.getPitch();let ke=l?`/${se}/${he}/${w}`:`${w}/${he}/${se}`;return(fe||De)&&(ke+="/"+Math.round(10*fe)/10),De&&(ke+=`/${Math.round(De)}`),ke}const td={linearity:.3,easing:n.bezier(0,0,.3,1)},Rh=n.extend({deceleration:2500,maxSpeed:1400},td),Au=n.extend({deceleration:20,maxSpeed:1400},td),ih=n.extend({deceleration:1e3,maxSpeed:360},td),Fp=n.extend({deceleration:1e3,maxSpeed:90},td);class ku{constructor(l){this._map=l,this.clear()}clear(){this._inertiaBuffer=[]}record(l){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:n.exported.now(),settings:l})}_drainInertiaBuffer(){const l=this._inertiaBuffer,u=n.exported.now();for(;l.length>0&&u-l[0].time>160;)l.shift()}_onMoveEnd(l){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const u={zoom:0,bearing:0,pitch:0,pan:new n.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:F}of this._inertiaBuffer)u.zoom+=F.zoomDelta||0,u.bearing+=F.bearingDelta||0,u.pitch+=F.pitchDelta||0,F.panDelta&&u.pan._add(F.panDelta),F.around&&(u.around=F.around),F.pinchAround&&(u.pinchAround=F.pinchAround);const w=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,R={};if(u.pan.mag()){const F=Tr(u.pan.mag(),w,n.extend({},Rh,l||{}));R.offset=u.pan.mult(F.amount/u.pan.mag()),R.center=this._map.transform.center,nh(R,F)}if(u.zoom){const F=Tr(u.zoom,w,Au);R.zoom=this._map.transform.zoom+F.amount,nh(R,F)}if(u.bearing){const F=Tr(u.bearing,w,ih);R.bearing=this._map.transform.bearing+n.clamp(F.amount,-179,179),nh(R,F)}if(u.pitch){const F=Tr(u.pitch,w,Fp);R.pitch=this._map.transform.pitch+F.amount,nh(R,F)}if(R.zoom||R.bearing){const F=u.pinchAround===void 0?u.around:u.pinchAround;R.around=F?this._map.unproject(F):this._map.getCenter()}return this.clear(),R.noMoveStart=!0,R}}function nh(y,l){(!y.duration||y.duration<l.duration)&&(y.duration=l.duration,y.easing=l.easing)}function Tr(y,l,u){const{maxSpeed:w,linearity:R,deceleration:F}=u,se=n.clamp(y*R/(l/1e3),-w,w),he=Math.abs(se)/(F*R);return{easing:u.easing,duration:1e3*he,amount:se*(he/2)}}class er extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,u,w,R={}){const F=$(u.getCanvasContainer(),w),se=u.unproject(F);super(l,n.extend({point:F,lngLat:se,originalEvent:w},R)),this._defaultPrevented=!1,this.target=u}}class Bh extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,u,w){const R=l==="touchend"?w.changedTouches:w.touches,F=E(u.getCanvasContainer(),R),se=F.map(fe=>u.unproject(fe)),he=F.reduce((fe,De,ke,je)=>fe.add(De.div(je.length)),new n.pointGeometry(0,0));super(l,{points:F,point:he,lngLats:se,lngLat:u.unproject(he),originalEvent:w}),this._defaultPrevented=!1}}class sh extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,u,w){super(l,{originalEvent:w}),this._defaultPrevented=!1}}class a0{constructor(l,u){this._map=l,this._clickTolerance=u.clickTolerance}reset(){this._mousedownPos=void 0}wheel(l){return this._firePreventable(new sh(l.type,this._map,l))}mousedown(l,u){return this._mousedownPos=u,this._firePreventable(new er(l.type,this._map,l))}mouseup(l){this._map.fire(new er(l.type,this._map,l))}preclick(l){const u=n.extend({},l);u.type="preclick",this._map.fire(new er(u.type,this._map,u))}click(l,u){this._mousedownPos&&this._mousedownPos.dist(u)>=this._clickTolerance||(this.preclick(l),this._map.fire(new er(l.type,this._map,l)))}dblclick(l){return this._firePreventable(new er(l.type,this._map,l))}mouseover(l){this._map.fire(new er(l.type,this._map,l))}mouseout(l){this._map.fire(new er(l.type,this._map,l))}touchstart(l){return this._firePreventable(new Bh(l.type,this._map,l))}touchmove(l){this._map.fire(new Bh(l.type,this._map,l))}touchend(l){this._map.fire(new Bh(l.type,this._map,l))}touchcancel(l){this._map.fire(new Bh(l.type,this._map,l))}_firePreventable(l){if(this._map.fire(l),l.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Wm{constructor(l){this._map=l}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(l){this._map.fire(new er(l.type,this._map,l))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new er("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(l){this._delayContextMenu?this._contextMenuEvent=l:this._map.fire(new er(l.type,this._map,l)),this._map.listens("contextmenu")&&l.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Pu{constructor(l,u){this._map=l,this._el=l.getCanvasContainer(),this._container=l.getContainer(),this._clickTolerance=u.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(l,u){this.isEnabled()&&l.shiftKey&&l.button===0&&(M(),this._startPos=this._lastPos=u,this._active=!0)}mousemoveWindow(l,u){if(!this._active)return;const w=u,R=this._startPos,F=this._lastPos;if(!R||!F||F.equals(w)||!this._box&&w.dist(R)<this._clickTolerance)return;this._lastPos=w,this._box||(this._box=V("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",l));const se=Math.min(R.x,w.x),he=Math.max(R.x,w.x),fe=Math.min(R.y,w.y),De=Math.max(R.y,w.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${se}px,${fe}px)`,this._box.style.width=he-se+"px",this._box.style.height=De-fe+"px")})}mouseupWindow(l,u){if(!this._active)return;const w=this._startPos,R=u;if(w&&l.button===0){if(this.reset(),U(),w.x!==R.x||w.y!==R.y)return this._map.fire(new n.Event("boxzoomend",{originalEvent:l})),{cameraAnimation:F=>F.fitScreenCoordinates(w,R,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",l)}}keydown(l){this._active&&l.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",l))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),C(),delete this._startPos,delete this._lastPos}_fireEvent(l,u){return this._map.fire(new n.Event(l,{originalEvent:u}))}}function Xl(y,l){const u={};for(let w=0;w<y.length;w++)u[y[w].identifier]=l[w];return u}class zh{constructor(l){this.reset(),this.numTouches=l.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(l,u,w){(this.centroid||w.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=l.timeStamp),w.length===this.numTouches&&(this.centroid=function(R){const F=new n.pointGeometry(0,0);for(const se of R)F._add(se);return F.div(R.length)}(u),this.touches=Xl(w,u)))}touchmove(l,u,w){if(this.aborted||!this.centroid)return;const R=Xl(w,u);for(const F in this.touches){const se=this.touches[F],he=R[F];(!he||he.dist(se)>30)&&(this.aborted=!0)}}touchend(l,u,w){if((!this.centroid||l.timeStamp-this.startTime>500)&&(this.aborted=!0),w.length===0){const R=!this.aborted&&this.centroid;if(this.reset(),R)return R}}}class bc{constructor(l){this.singleTap=new zh(l),this.numTaps=l.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(l,u,w){this.singleTap.touchstart(l,u,w)}touchmove(l,u,w){this.singleTap.touchmove(l,u,w)}touchend(l,u,w){const R=this.singleTap.touchend(l,u,w);if(R){const F=l.timeStamp-this.lastTime<500,se=!this.lastTap||this.lastTap.dist(R)<30;if(F&&se||this.reset(),this.count++,this.lastTime=l.timeStamp,this.lastTap=R,this.count===this.numTaps)return this.reset(),R}}}class rh{constructor(){this._zoomIn=new bc({numTouches:1,numTaps:2}),this._zoomOut=new bc({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(l,u,w){this._zoomIn.touchstart(l,u,w),this._zoomOut.touchstart(l,u,w)}touchmove(l,u,w){this._zoomIn.touchmove(l,u,w),this._zoomOut.touchmove(l,u,w)}touchend(l,u,w){const R=this._zoomIn.touchend(l,u,w),F=this._zoomOut.touchend(l,u,w);return R?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:se=>se.easeTo({duration:300,zoom:se.getZoom()+1,around:se.unproject(R)},{originalEvent:l})}):F?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:se=>se.easeTo({duration:300,zoom:se.getZoom()-1,around:se.unproject(F)},{originalEvent:l})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const id={0:1,2:2};class nd{constructor(l){this.reset(),this._clickTolerance=l.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(l,u){return!1}_move(l,u){return{}}mousedown(l,u){if(this._lastPoint)return;const w=ee(l);this._correctButton(l,w)&&(this._lastPoint=u,this._eventButton=w)}mousemoveWindow(l,u){const w=this._lastPoint;if(w){if(l.preventDefault(),this._eventButton!=null&&function(R,F){const se=id[F];return R.buttons===void 0||(R.buttons&se)!==se}(l,this._eventButton))this.reset();else if(this._moved||!(u.dist(w)<this._clickTolerance))return this._moved=!0,this._lastPoint=u,this._move(w,u)}}mouseupWindow(l){this._lastPoint&&ee(l)===this._eventButton&&(this._moved&&U(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Pd extends nd{mousedown(l,u){super.mousedown(l,u),this._lastPoint&&(this._active=!0)}_correctButton(l,u){return u===0&&!l.ctrlKey}_move(l,u){return{around:u,panDelta:u.sub(l)}}}class jp extends nd{_correctButton(l,u){return u===0&&l.ctrlKey||u===2}_move(l,u){const w=.8*(u.x-l.x);if(w)return this._active=!0,{bearingDelta:w}}contextmenu(l){l.preventDefault()}}class Up extends nd{_correctButton(l,u){return u===0&&l.ctrlKey||u===2}_move(l,u){const w=-.5*(u.y-l.y);if(w)return this._active=!0,{pitchDelta:w}}contextmenu(l){l.preventDefault()}}class l0{constructor(l,u){this._map=l,this._el=l.getCanvasContainer(),this._minTouches=1,this._clickTolerance=u.clickTolerance||1,this.reset(),n.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new n.pointGeometry(0,0)}touchstart(l,u,w){return this._calculateTransform(l,u,w)}touchmove(l,u,w){if(this._active&&!(w.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(w.length===1&&!n.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return l.cancelable&&l.preventDefault(),this._calculateTransform(l,u,w)}}touchend(l,u,w){this._calculateTransform(l,u,w),this._active&&w.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(l,u,w){w.length>0&&(this._active=!0);const R=Xl(w,u),F=new n.pointGeometry(0,0),se=new n.pointGeometry(0,0);let he=0;for(const De in R){const ke=R[De],je=this._touches[De];je&&(F._add(ke),se._add(ke.sub(je)),he++,R[De]=ke)}if(this._touches=R,he<this._minTouches||!se.mag())return;const fe=se.div(he);return this._sum._add(fe),this._sum.mag()<this._clickTolerance?void 0:{around:F.div(he),panDelta:fe}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=V("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class Du{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(l){}_move(l,u,w){return{}}touchstart(l,u,w){this._firstTwoTouches||w.length<2||(this._firstTwoTouches=[w[0].identifier,w[1].identifier],this._start([u[0],u[1]]))}touchmove(l,u,w){const R=this._firstTwoTouches;if(!R)return;l.preventDefault();const[F,se]=R,he=wc(w,u,F),fe=wc(w,u,se);if(!he||!fe)return;const De=this._aroundCenter?null:he.add(fe).div(2);return this._move([he,fe],De,l)}touchend(l,u,w){if(!this._firstTwoTouches)return;const[R,F]=this._firstTwoTouches,se=wc(w,u,R),he=wc(w,u,F);se&&he||(this._active&&U(),this.reset())}touchcancel(){this.reset()}enable(l){this._enabled=!0,this._aroundCenter=!!l&&l.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function wc(y,l,u){for(let w=0;w<y.length;w++)if(y[w].identifier===u)return l[w]}function oh(y,l){return Math.log(y/l)/Math.LN2}class ah extends Du{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(l){this._startDistance=this._distance=l[0].dist(l[1])}_move(l,u){const w=this._distance;if(this._distance=l[0].dist(l[1]),this._active||!(Math.abs(oh(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:oh(this._distance,w),pinchAround:u}}}function $p(y,l){return 180*y.angleWith(l)/Math.PI}class it extends Du{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(l){this._startVector=this._vector=l[0].sub(l[1]),this._minDiameter=l[0].dist(l[1])}_move(l,u){const w=this._vector;if(this._vector=l[0].sub(l[1]),w&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:$p(this._vector,w),pinchAround:u}}_isBelowThreshold(l){this._minDiameter=Math.min(this._minDiameter,l.mag());const u=25/(Math.PI*this._minDiameter)*360,w=this._startVector;if(!w)return!1;const R=$p(l,w);return Math.abs(R)<u}}function Sc(y){return Math.abs(y.y)>Math.abs(y.x)}class Nh extends Du{constructor(l){super(),this._map=l}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(l){this._lastPoints=l,Sc(l[0].sub(l[1]))&&(this._valid=!1)}_move(l,u,w){const R=this._lastPoints;if(!R)return;const F=l[0].sub(R[0]),se=l[1].sub(R[1]);return this._map._cooperativeGestures&&!n.isFullscreen()&&w.touches.length<3||(this._valid=this.gestureBeginsVertically(F,se,w.timeStamp),!this._valid)?void 0:(this._lastPoints=l,this._active=!0,{pitchDelta:(F.y+se.y)/2*-.5})}gestureBeginsVertically(l,u,w){if(this._valid!==void 0)return this._valid;const R=l.mag()>=2,F=u.mag()>=2;if(!R&&!F)return;if(!R||!F)return this._firstMove==null&&(this._firstMove=w),w-this._firstMove<100&&void 0;const se=l.y>0==u.y>0;return Sc(l)&&Sc(u)&&se}}const La={panStep:100,bearingStep:15,pitchStep:10};class Fn{constructor(){const l=La;this._panStep=l.panStep,this._bearingStep=l.bearingStep,this._pitchStep=l.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(l){if(l.altKey||l.ctrlKey||l.metaKey)return;let u=0,w=0,R=0,F=0,se=0;switch(l.keyCode){case 61:case 107:case 171:case 187:u=1;break;case 189:case 109:case 173:u=-1;break;case 37:l.shiftKey?w=-1:(l.preventDefault(),F=-1);break;case 39:l.shiftKey?w=1:(l.preventDefault(),F=1);break;case 38:l.shiftKey?R=1:(l.preventDefault(),se=-1);break;case 40:l.shiftKey?R=-1:(l.preventDefault(),se=1);break;default:return}return this._rotationDisabled&&(w=0,R=0),{cameraAnimation:he=>{const fe=he.getZoom();he.easeTo({duration:300,easeId:"keyboardHandler",easing:Ym,zoom:u?Math.round(fe)+u*(l.shiftKey?2:1):fe,bearing:he.getBearing()+w*this._bearingStep,pitch:he.getPitch()+R*this._pitchStep,offset:[-F*this._panStep,-se*this._panStep],center:he.getCenter()},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Ym(y){return y*(2-y)}const Gp=4.000244140625;class qm{constructor(l,u){this._map=l,this._el=l.getCanvasContainer(),this._handler=u,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,n.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(l){this._defaultZoomRate=l}setWheelZoomRate(l){this._wheelZoomRate=l}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(l){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!l&&l.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(l){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(l.ctrlKey||l.metaKey||this.isZooming()||n.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let u=l.deltaMode===n.window.WheelEvent.DOM_DELTA_LINE?40*l.deltaY:l.deltaY;const w=n.exported.now(),R=w-(this._lastWheelEventTime||0);this._lastWheelEventTime=w,u!==0&&u%Gp==0?this._type="wheel":u!==0&&Math.abs(u)<4?this._type="trackpad":R>400?(this._type=null,this._lastValue=u,this._timeout=setTimeout(this._onTimeout,40,l)):this._type||(this._type=Math.abs(R*u)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,u+=this._lastValue)),l.shiftKey&&u&&(u/=4),this._type&&(this._lastWheelEvent=l,this._delta-=u,this._active||this._start(l)),l.preventDefault()}_onTimeout(l){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(l)}_start(l){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const u=$(this._el,l);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:u,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const l=this._map.transform;this._type==="wheel"&&l.projection.wrap&&(l._center.lng>=180||l._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const u=()=>l._terrainEnabled()&&this._aroundCoord?l.computeZoomRelativeTo(this._aroundCoord):l.zoom;if(this._delta!==0){const fe=this._type==="wheel"&&Math.abs(this._delta)>Gp?this._wheelZoomRate:this._defaultZoomRate;let De=2/(1+Math.exp(-Math.abs(this._delta*fe)));this._delta<0&&De!==0&&(De=1/De);const ke=u(),je=Math.pow(2,ke),Ze=typeof this._targetZoom=="number"?l.zoomScale(this._targetZoom):je;this._targetZoom=Math.min(l.maxZoom,Math.max(l.minZoom,l.scaleZoom(Ze*De))),this._type==="wheel"&&(this._startZoom=ke,this._easing=this._smoothOutEasing(200)),this._delta=0}const w=typeof this._targetZoom=="number"?this._targetZoom:u(),R=this._startZoom,F=this._easing;let se,he=!1;if(this._type==="wheel"&&R&&F){const fe=Math.min((n.exported.now()-this._lastWheelEventTime)/200,1),De=F(fe);se=n.number(R,w,De),fe<1?this._frameId||(this._frameId=!0):he=!0}else se=w,he=!0;return this._active=!0,he&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!he,zoomDelta:se-u(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(l){let u=n.ease;if(this._prevEase){const w=this._prevEase,R=(n.exported.now()-w.start)/w.duration,F=w.easing(R+.01)-w.easing(R),se=.27/Math.sqrt(F*F+1e-4)*.01,he=Math.sqrt(.0729-se*se);u=n.bezier(se,he,.25,1)}return this._prevEase={start:n.exported.now(),duration:l,easing:u},u}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=V("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(n.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class Dd{constructor(l,u){this._clickZoom=l,this._tapZoom=u}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Tc{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(l,u){return l.preventDefault(),{cameraAnimation:w=>{w.easeTo({duration:300,zoom:w.getZoom()+(l.shiftKey?-1:1),around:w.unproject(u)},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class c0{constructor(){this._tap=new bc({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(l,u,w){this._swipePoint||(this._tapTime&&l.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?w.length>0&&(this._swipePoint=u[0],this._swipeTouch=w[0].identifier):this._tap.touchstart(l,u,w))}touchmove(l,u,w){if(this._tapTime){if(this._swipePoint){if(w[0].identifier!==this._swipeTouch)return;const R=u[0],F=R.y-this._swipePoint.y;return this._swipePoint=R,l.preventDefault(),this._active=!0,{zoomDelta:F/128}}}else this._tap.touchmove(l,u,w)}touchend(l,u,w){this._tapTime?this._swipePoint&&w.length===0&&this.reset():this._tap.touchend(l,u,w)&&(this._tapTime=l.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class lh{constructor(l,u,w){this._el=l,this._mousePan=u,this._touchPan=w}enable(l){this._inertiaOptions=l||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Zl{constructor(l,u,w){this._pitchWithRotate=l.pitchWithRotate,this._mouseRotate=u,this._mousePitch=w}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Iu{constructor(l,u,w,R){this._el=l,this._touchZoom=u,this._touchRotate=w,this._tapDragZoom=R,this._rotationDisabled=!1,this._enabled=!0}enable(l){this._touchZoom.enable(l),this._rotationDisabled||this._touchRotate.enable(l),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const qi=y=>y.zoom||y.drag||y.pitch||y.rotate;class d0 extends n.Event{}class h0{constructor(){this.constants=[1,1,.01],this.radius=0}setup(l,u){const w=n.sub([],u,l);this.radius=n.length(w[2]<0?n.div([],w,this.constants):[w[0],w[1],0])}projectRay(l){n.div(l,l,this.constants),n.normalize(l,l),n.mul$1(l,l,this.constants);const u=n.scale$2([],l,this.radius);if(u[2]>0){const w=n.scale$2([],[0,0,1],n.dot(u,[0,0,1])),R=n.scale$2([],n.normalize([],[u[0],u[1],0]),this.radius),F=n.add([],u,n.scale$2([],n.sub([],n.add([],R,w),u),2));u[0]=F[0],u[1]=F[1]}return u}}function sd(y){return y.panDelta&&y.panDelta.mag()||y.zoomDelta||y.bearingDelta||y.pitchDelta}class Fh{constructor(l,u){this._map=l,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ku(l),this._bearingSnap=u.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new h0,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(u),n.bindAll(["handleEvent","handleWindowEvent"],this);const w=this._el;this._listeners=[[w,"touchstart",{passive:!0}],[w,"touchmove",{passive:!1}],[w,"touchend",void 0],[w,"touchcancel",void 0],[w,"mousedown",void 0],[w,"mousemove",void 0],[w,"mouseup",void 0],[n.window.document,"mousemove",{capture:!0}],[n.window.document,"mouseup",void 0],[w,"mouseover",void 0],[w,"mouseout",void 0],[w,"dblclick",void 0],[w,"click",void 0],[w,"keydown",{capture:!1}],[w,"keyup",void 0],[w,"wheel",{passive:!1}],[w,"contextmenu",void 0],[n.window,"blur",void 0]];for(const[R,F,se]of this._listeners)R.addEventListener(F,R===n.window.document?this.handleWindowEvent:this.handleEvent,se)}destroy(){for(const[l,u,w]of this._listeners)l.removeEventListener(u,l===n.window.document?this.handleWindowEvent:this.handleEvent,w)}_addDefaultHandlers(l){const u=this._map,w=u.getCanvasContainer();this._add("mapEvent",new a0(u,l));const R=u.boxZoom=new Pu(u,l);this._add("boxZoom",R);const F=new rh,se=new Tc;u.doubleClickZoom=new Dd(se,F),this._add("tapZoom",F),this._add("clickZoom",se);const he=new c0;this._add("tapDragZoom",he);const fe=u.touchPitch=new Nh(u);this._add("touchPitch",fe);const De=new jp(l),ke=new Up(l);u.dragRotate=new Zl(l,De,ke),this._add("mouseRotate",De,["mousePitch"]),this._add("mousePitch",ke,["mouseRotate"]);const je=new Pd(l),Ze=new l0(u,l);u.dragPan=new lh(w,je,Ze),this._add("mousePan",je),this._add("touchPan",Ze,["touchZoom","touchRotate"]);const at=new it,lt=new ah;u.touchZoomRotate=new Iu(w,lt,at,he),this._add("touchRotate",at,["touchPan","touchZoom"]),this._add("touchZoom",lt,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Wm(u));const ht=u.scrollZoom=new qm(u,this);this._add("scrollZoom",ht,["mousePan"]);const et=u.keyboard=new Fn;this._add("keyboard",et);for(const nt of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])l.interactive&&l[nt]&&u[nt].enable(l[nt])}_add(l,u,w){this._handlers.push({handlerName:l,handler:u,allowed:w}),this._handlersById[l]=u}stop(l){if(!this._updatingCamera){for(const{handler:u}of this._handlers)u.reset();this._inertia.clear(),this._fireEvents({},{},l),this._changes=[]}}isActive(){for(const{handler:l}of this._handlers)if(l.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!qi(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(l,u,w){for(const R in l)if(R!==w&&(!u||u.indexOf(R)<0))return!0;return!1}handleWindowEvent(l){this.handleEvent(l,`${l.type}Window`)}_getMapTouches(l){const u=[];for(const w of l)this._el.contains(w.target)&&u.push(w);return u}handleEvent(l,u){this._updatingCamera=!0;const w=l.type==="renderFrame",R=w?void 0:l,F={needsRenderFrame:!1},se={},he={},fe=l.touches?this._getMapTouches(l.touches):void 0,De=fe?E(this._el,fe):w?void 0:$(this._el,l);for(const{handlerName:Ze,handler:at,allowed:lt}of this._handlers){if(!at.isEnabled())continue;let ht;this._blockedByActive(he,lt,Ze)?at.reset():at[u||l.type]&&(ht=at[u||l.type](l,De,fe),this.mergeHandlerResult(F,se,ht,Ze,R),ht&&ht.needsRenderFrame&&this._triggerRenderFrame()),(ht||at.isActive())&&(he[Ze]=at)}const ke={};for(const Ze in this._previousActiveHandlers)he[Ze]||(ke[Ze]=R);this._previousActiveHandlers=he,(Object.keys(ke).length||sd(F))&&(this._changes.push([F,se,ke]),this._triggerRenderFrame()),(Object.keys(he).length||sd(F))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:je}=F;je&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],je(this._map))}mergeHandlerResult(l,u,w,R,F){if(!w)return;n.extend(l,w);const se={handlerName:R,originalEvent:w.originalEvent||F};w.zoomDelta!==void 0&&(u.zoom=se),w.panDelta!==void 0&&(u.drag=se),w.pitchDelta!==void 0&&(u.pitch=se),w.bearingDelta!==void 0&&(u.rotate=se)}_applyChanges(){const l={},u={},w={};for(const[R,F,se]of this._changes)R.panDelta&&(l.panDelta=(l.panDelta||new n.pointGeometry(0,0))._add(R.panDelta)),R.zoomDelta&&(l.zoomDelta=(l.zoomDelta||0)+R.zoomDelta),R.bearingDelta&&(l.bearingDelta=(l.bearingDelta||0)+R.bearingDelta),R.pitchDelta&&(l.pitchDelta=(l.pitchDelta||0)+R.pitchDelta),R.around!==void 0&&(l.around=R.around),R.aroundCoord!==void 0&&(l.aroundCoord=R.aroundCoord),R.pinchAround!==void 0&&(l.pinchAround=R.pinchAround),R.noInertia&&(l.noInertia=R.noInertia),n.extend(u,F),n.extend(w,se);this._updateMapTransform(l,u,w),this._changes=[]}_updateMapTransform(l,u,w){const R=this._map,F=R.transform,se=ft=>[ft.x,ft.y,ft.z];if((ft=>{const ct=this._eventsInProgress.drag;return ct&&!this._handlersById[ct.handlerName].isActive()})()&&!sd(l)){const ft=F.zoom;F.cameraElevationReference="sea",F.recenterOnTerrain(),F.cameraElevationReference="ground",ft!==F.zoom&&this._map._update(!0)}if(F._isCameraConstrained&&R._stop(!0),!sd(l))return void this._fireEvents(u,w,!0);let{panDelta:he,zoomDelta:fe,bearingDelta:De,pitchDelta:ke,around:je,aroundCoord:Ze,pinchAround:at}=l;F._isCameraConstrained&&(fe>0&&(fe=0),F._isCameraConstrained=!1),at!==void 0&&(je=at),(ft=>u.drag&&!this._eventsInProgress.drag)()&&je&&(this._dragOrigin=se(F.pointCoordinate3D(je)),this._trackingEllipsoid.setup(F._camera.position,this._dragOrigin)),F.cameraElevationReference="sea",R._stop(!0),je=je||R.transform.centerPoint,De&&(F.bearing+=De),ke&&(F.pitch+=ke),F._updateCameraState();const lt=[0,0,0];if(he)if(F.projection.name==="mercator"){const ft=this._trackingEllipsoid.projectRay(F.screenPointToMercatorRay(je).dir),ct=this._trackingEllipsoid.projectRay(F.screenPointToMercatorRay(je.sub(he)).dir);lt[0]=ct[0]-ft[0],lt[1]=ct[1]-ft[1]}else{const ft=F.pointCoordinate(je);if(F.projection.name==="globe"){he=he.rotate(-F.angle);const ct=F._pixelsPerMercatorPixel/F.worldSize;lt[0]=-he.x*n.mercatorScale(n.latFromMercatorY(ft.y))*ct,lt[1]=-he.y*n.mercatorScale(F.center.lat)*ct}else{const ct=F.pointCoordinate(je.sub(he));ft&&ct&&(lt[0]=ct.x-ft.x,lt[1]=ct.y-ft.y)}}const ht=F.zoom,et=[0,0,0];if(fe){const ft=se(Ze||F.pointCoordinate3D(je)),ct={dir:n.normalize([],n.sub([],ft,F._camera.position))};if(ct.dir[2]<0){const bt=F.zoomDeltaToMovement(ft,fe);n.scale$2(et,ct.dir,bt)}}const nt=n.add(lt,lt,et);F._translateCameraConstrained(nt),fe&&Math.abs(F.zoom-ht)>1e-4&&F.recenterOnTerrain(),F.cameraElevationReference="ground",this._map._update(),l.noInertia||this._inertia.record(l),this._fireEvents(u,w,!0)}_fireEvents(l,u,w){const R=qi(this._eventsInProgress),F=qi(l),se={};for(const ke in l){const{originalEvent:je}=l[ke];this._eventsInProgress[ke]||(se[`${ke}start`]=je),this._eventsInProgress[ke]=l[ke]}!R&&F&&this._fireEvent("movestart",F.originalEvent);for(const ke in se)this._fireEvent(ke,se[ke]);F&&this._fireEvent("move",F.originalEvent);for(const ke in l){const{originalEvent:je}=l[ke];this._fireEvent(ke,je)}const he={};let fe;for(const ke in this._eventsInProgress){const{handlerName:je,originalEvent:Ze}=this._eventsInProgress[ke];this._handlersById[je].isActive()||(delete this._eventsInProgress[ke],fe=u[je]||Ze,he[`${ke}end`]=fe)}for(const ke in he)this._fireEvent(ke,he[ke]);const De=qi(this._eventsInProgress);if(w&&(R||F)&&!De){this._updatingCamera=!0;const ke=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),je=Ze=>Ze!==0&&-this._bearingSnap<Ze&&Ze<this._bearingSnap;ke?(je(ke.bearing||this._map.getBearing())&&(ke.bearing=0),this._map.easeTo(ke,{originalEvent:fe})):(this._map.fire(new n.Event("moveend",{originalEvent:fe})),je(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(l,u){this._map.fire(new n.Event(l,u?{originalEvent:u}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(l=>{this._frameId=void 0,this.handleEvent(new d0("renderFrame",{timeStamp:l})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const Vp="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Kl extends n.Evented{constructor(l,u){super(),this._moving=!1,this._zooming=!1,this.transform=l,this._bearingSnap=u.bearingSnap,n.bindAll(["_renderFrameCallback"],this)}getCenter(){return new n.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(l,u){return this.jumpTo({center:l},u)}panBy(l,u,w){return l=n.pointGeometry.convert(l).mult(-1),this.panTo(this.transform.center,n.extend({offset:l},u),w)}panTo(l,u,w){return this.easeTo(n.extend({center:l},u),w)}getZoom(){return this.transform.zoom}setZoom(l,u){return this.jumpTo({zoom:l},u),this}zoomTo(l,u,w){return this.easeTo(n.extend({zoom:l},u),w)}zoomIn(l,u){return this.zoomTo(this.getZoom()+1,l,u),this}zoomOut(l,u){return this.zoomTo(this.getZoom()-1,l,u),this}getBearing(){return this.transform.bearing}setBearing(l,u){return this.jumpTo({bearing:l},u),this}getPadding(){return this.transform.padding}setPadding(l,u){return this.jumpTo({padding:l},u),this}rotateTo(l,u,w){return this.easeTo(n.extend({bearing:l},u),w)}resetNorth(l,u){return this.rotateTo(0,n.extend({duration:1e3},l),u),this}resetNorthPitch(l,u){return this.easeTo(n.extend({bearing:0,pitch:0,duration:1e3},l),u),this}snapToNorth(l,u){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(l,u):this}getPitch(){return this.transform.pitch}setPitch(l,u){return this.jumpTo({pitch:l},u),this}cameraForBounds(l,u){l=n.LngLatBounds.convert(l);const w=u&&u.bearing||0,R=u&&u.pitch||0,F=l.getNorthWest(),se=l.getSouthEast();return this._cameraForBounds(this.transform,F,se,w,R,u)}_extendCameraOptions(l){const u={top:0,bottom:0,right:0,left:0};if(typeof(l=n.extend({padding:u,offset:[0,0],maxZoom:this.transform.maxZoom},l)).padding=="number"){const w=l.padding;l.padding={top:w,bottom:w,right:w,left:w}}return l.padding=n.extend(u,l.padding),l}_minimumAABBFrustumDistance(l,u){const w=u.max[0]-u.min[0],R=u.max[1]-u.min[1];return w/R>l.aspect?w/(2*Math.tan(.5*l.fovX)*l.aspect):R/(2*Math.tan(.5*l.fovY)*l.aspect)}_cameraForBoundsOnGlobe(l,u,w,R,F,se){const he=l.clone(),fe=this._extendCameraOptions(se);he.bearing=R,he.pitch=F;const De=n.LngLat.convert(u),ke=n.LngLat.convert(w),je=.5*(De.lat+ke.lat),Ze=.5*(De.lng+ke.lng),at=n.latLngToECEF(je,Ze),lt=n.normalize([],at),ht=n.normalize([],n.cross([],lt,[0,1,0])),et=n.cross([],ht,lt),nt=[ht[0],ht[1],ht[2],0,et[0],et[1],et[2],0,lt[0],lt[1],lt[2],0,0,0,0,1],ft=[at,n.latLngToECEF(De.lat,De.lng),n.latLngToECEF(ke.lat,De.lng),n.latLngToECEF(ke.lat,ke.lng),n.latLngToECEF(De.lat,ke.lng),n.latLngToECEF(je,De.lng),n.latLngToECEF(je,ke.lng),n.latLngToECEF(De.lat,Ze),n.latLngToECEF(ke.lat,Ze)];let ct=n.Aabb.fromPoints(ft.map(Ht=>[n.dot(ht,Ht),n.dot(et,Ht),n.dot(lt,Ht)]));const bt=n.transformMat4([],ct.center,nt);n.squaredLength(bt)===0&&n.set(bt,0,0,1),n.normalize(bt,bt),n.scale$2(bt,bt,n.GLOBE_RADIUS),he.center=n.ecefToLatLng(bt);const It=he.getWorldToCameraMatrix(),Ct=n.invert(new Float64Array(16),It);ct=n.Aabb.applyTransform(ct,n.multiply([],It,nt)),n.transformMat4(bt,bt,It);const jt=.5*(ct.max[2]-ct.min[2]),Qt=this._minimumAABBFrustumDistance(he,ct),Zt=n.scale$2([],[0,0,1],jt),Vt=n.add(Zt,bt,Zt),Si=Qt+(he.pitch===0?0:n.distance(bt,Vt)),qt=he.globeCenterInViewSpace,pi=n.sub([],bt,[qt[0],qt[1],qt[2]]);n.normalize(pi,pi),n.scale$2(pi,pi,Si);const ti=n.add([],bt,pi);n.transformMat4(ti,ti,Ct);const Pi=n.earthRadius/n.GLOBE_RADIUS,ii=n.length(ti),vi=n.mercatorZfromAltitude(ii*Pi-n.earthRadius,0),Ri=Math.min(he.zoomFromMercatorZAdjusted(vi),fe.maxZoom);return Ri>.5*(n.GLOBE_ZOOM_THRESHOLD_MIN+n.GLOBE_ZOOM_THRESHOLD_MAX)?(he.setProjection({name:"mercator"}),he.zoom=Ri,this._cameraForBounds(he,u,w,R,F,se)):{center:he.center,zoom:Ri,bearing:R,pitch:F}}queryTerrainElevation(l,u){const w=this.transform.elevation;return w?(u=n.extend({},{exaggerated:!0},u),w.getAtPoint(n.MercatorCoordinate.fromLngLat(l),null,u.exaggerated)):null}_cameraForBounds(l,u,w,R,F,se){if(l.projection.name==="globe")return this._cameraForBoundsOnGlobe(l,u,w,R,F,se);const he=l.clone(),fe=this._extendCameraOptions(se),De=he.padding;he.bearing=R,he.pitch=F;const ke=n.LngLat.convert(u),je=n.LngLat.convert(w),Ze=new n.LngLat(ke.lng,je.lat),at=new n.LngLat(je.lng,ke.lat),lt=he.project(ke),ht=he.project(je),et=this.queryTerrainElevation(ke),nt=this.queryTerrainElevation(je),ft=this.queryTerrainElevation(Ze),ct=this.queryTerrainElevation(at),bt=[[lt.x,lt.y,Math.min(et||0,nt||0,ft||0,ct||0)],[ht.x,ht.y,Math.max(et||0,nt||0,ft||0,ct||0)]];let It=n.Aabb.fromPoints(bt);const Ct=he.getWorldToCameraMatrix(),jt=n.invert(new Float64Array(16),Ct);It=n.Aabb.applyTransform(It,Ct);const Qt=n.sub([],It.max,It.min),Zt=De.left||0,Vt=De.right||0,Si=De.bottom||0,qt=De.top||0,{left:pi,right:ti,top:Pi,bottom:ii}=fe.padding,vi=.5*(Zt+Vt),Ri=.5*(qt+Si),Ht=Math.min(he.scaleZoom(he.scale*Math.min((he.width-(Zt+Vt+pi+ti))/Qt[0],(he.height-(Si+qt+ii+Pi))/Qt[1])),fe.maxZoom),ei=he.scale/he.zoomScale(Ht);It=new n.Aabb([It.min[0]-(pi+vi)*ei,It.min[1]-(ii+Ri)*ei,It.min[2]],[It.max[0]+(ti+vi)*ei,It.max[1]+(Pi+Ri)*ei,It.max[2]]);const dn=.5*Qt[2],gn=this._minimumAABBFrustumDistance(he,It),hn=[0,0,1,0];n.transformMat4$1(hn,hn,Ct),n.normalize$2(hn,hn);const Pn=n.scale$2([],hn,gn+dn),Zn=n.add([],It.center,Pn),xn=(typeof fe.offset.x=="number"&&typeof fe.offset.y=="number"?new n.pointGeometry(fe.offset.x,fe.offset.y):n.pointGeometry.convert(fe.offset)).rotate(-n.degToRad(R));It.center[0]-=xn.x*ei,It.center[1]+=xn.y*ei,n.transformMat4(It.center,It.center,jt),n.transformMat4(Zn,Zn,jt);const tn=[It.center[0],It.center[1],Zn[2]*he.pixelsPerMeter];n.scale$2(tn,tn,1/he.worldSize);const Gs=n.lngFromMercatorX(tn[0]),Is=n.latFromMercatorY(tn[1]),Hs=Math.min(he._zoomFromMercatorZ(tn[2]),fe.maxZoom),Us=new n.LngLat(Gs,Is);return he.mercatorFromTransition&&Hs<.5*(n.GLOBE_ZOOM_THRESHOLD_MIN+n.GLOBE_ZOOM_THRESHOLD_MAX)?(he.setProjection({name:"globe"}),he.zoom=Hs,this._cameraForBounds(he,u,w,R,F,se)):{center:Us,zoom:Hs,bearing:R,pitch:F}}fitBounds(l,u,w){const R=this.cameraForBounds(l,u);return this._fitInternal(R,u,w)}fitScreenCoordinates(l,u,w,R,F){const se=n.pointGeometry.convert(l),he=n.pointGeometry.convert(u),fe=new n.pointGeometry(Math.min(se.x,he.x),Math.min(se.y,he.y)),De=new n.pointGeometry(Math.max(se.x,he.x),Math.max(se.y,he.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(se,he))return this;const ke=this.transform.pointLocation3D(fe),je=this.transform.pointLocation3D(De),Ze=this.transform.pointLocation3D(new n.pointGeometry(fe.x,De.y)),at=this.transform.pointLocation3D(new n.pointGeometry(De.x,fe.y)),lt=[Math.min(ke.lng,je.lng,Ze.lng,at.lng),Math.min(ke.lat,je.lat,Ze.lat,at.lat)],ht=[Math.max(ke.lng,je.lng,Ze.lng,at.lng),Math.max(ke.lat,je.lat,Ze.lat,at.lat)],et=R&&R.pitch?R.pitch:this.getPitch(),nt=this._cameraForBounds(this.transform,lt,ht,w,et,R);return this._fitInternal(nt,R,F)}_fitInternal(l,u,w){return l?(delete(u=n.extend(l,u)).padding,u.linear?this.easeTo(u,w):this.flyTo(u,w)):this}jumpTo(l,u){this.stop();const w=l.preloadOnly?this.transform.clone():this.transform;let R=!1,F=!1,se=!1;return"zoom"in l&&w.zoom!==+l.zoom&&(R=!0,w.zoom=+l.zoom),l.center!==void 0&&(w.center=n.LngLat.convert(l.center)),"bearing"in l&&w.bearing!==+l.bearing&&(F=!0,w.bearing=+l.bearing),"pitch"in l&&w.pitch!==+l.pitch&&(se=!0,w.pitch=+l.pitch),l.padding==null||w.isPaddingEqual(l.padding)||(w.padding=l.padding),l.preloadOnly?(this._preloadTiles(w),this):(this.fire(new n.Event("movestart",u)).fire(new n.Event("move",u)),R&&this.fire(new n.Event("zoomstart",u)).fire(new n.Event("zoom",u)).fire(new n.Event("zoomend",u)),F&&this.fire(new n.Event("rotatestart",u)).fire(new n.Event("rotate",u)).fire(new n.Event("rotateend",u)),se&&this.fire(new n.Event("pitchstart",u)).fire(new n.Event("pitch",u)).fire(new n.Event("pitchend",u)),this.fire(new n.Event("moveend",u)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||n.warnOnce(Vp),this.transform.getFreeCameraOptions()}setFreeCameraOptions(l,u){const w=this.transform;if(!w.projection.supportsFreeCamera)return n.warnOnce(Vp),this;this.stop();const R=w.zoom,F=w.pitch,se=w.bearing;w.setFreeCameraOptions(l);const he=R!==w.zoom,fe=F!==w.pitch,De=se!==w.bearing;return this.fire(new n.Event("movestart",u)).fire(new n.Event("move",u)),he&&this.fire(new n.Event("zoomstart",u)).fire(new n.Event("zoom",u)).fire(new n.Event("zoomend",u)),De&&this.fire(new n.Event("rotatestart",u)).fire(new n.Event("rotate",u)).fire(new n.Event("rotateend",u)),fe&&this.fire(new n.Event("pitchstart",u)).fire(new n.Event("pitch",u)).fire(new n.Event("pitchend",u)),this.fire(new n.Event("moveend",u)),this}easeTo(l,u){this._stop(!1,l.easeId),((l=n.extend({offset:[0,0],duration:500,easing:n.ease},l)).animate===!1||!l.essential&&n.exported.prefersReducedMotion)&&(l.duration=0);const w=this.transform,R=this.getZoom(),F=this.getBearing(),se=this.getPitch(),he=this.getPadding(),fe="zoom"in l?+l.zoom:R,De="bearing"in l?this._normalizeBearing(l.bearing,F):F,ke="pitch"in l?+l.pitch:se,je="padding"in l?l.padding:w.padding,Ze=n.pointGeometry.convert(l.offset);let at,lt,ht;if(w.projection.name==="globe"){const Zt=n.MercatorCoordinate.fromLngLat(w.center),Vt=Ze.rotate(-w.angle);Zt.x+=Vt.x/w.worldSize,Zt.y+=Vt.y/w.worldSize;const Si=Zt.toLngLat(),qt=n.LngLat.convert(l.center||Si);this._normalizeCenter(qt),at=w.centerPoint.add(Vt),lt=new n.pointGeometry(Zt.x,Zt.y).mult(w.worldSize),ht=new n.pointGeometry(n.mercatorXfromLng(qt.lng),n.mercatorYfromLat(qt.lat)).mult(w.worldSize).sub(lt)}else{at=w.centerPoint.add(Ze);const Zt=w.pointLocation(at),Vt=n.LngLat.convert(l.center||Zt);this._normalizeCenter(Vt),lt=w.project(Zt),ht=w.project(Vt).sub(lt)}const et=w.zoomScale(fe-R);let nt,ft;l.around&&(nt=n.LngLat.convert(l.around),ft=w.locationPoint(nt));const ct=this._zooming||fe!==R,bt=this._rotating||F!==De,It=this._pitching||ke!==se,Ct=!w.isPaddingEqual(je),jt=Zt=>Vt=>{if(ct&&(Zt.zoom=n.number(R,fe,Vt)),bt&&(Zt.bearing=n.number(F,De,Vt)),It&&(Zt.pitch=n.number(se,ke,Vt)),Ct&&(Zt.interpolatePadding(he,je,Vt),at=Zt.centerPoint.add(Ze)),nt)Zt.setLocationAtPoint(nt,ft);else{const Si=Zt.zoomScale(Zt.zoom-R),qt=fe>R?Math.min(2,et):Math.max(.5,et),pi=Math.pow(qt,1-Vt),ti=Zt.unproject(lt.add(ht.mult(Vt*pi)).mult(Si));Zt.setLocationAtPoint(Zt.renderWorldCopies?ti.wrap():ti,at)}return l.preloadOnly||this._fireMoveEvents(u),Zt};if(l.preloadOnly){const Zt=this._emulate(jt,l.duration,w);return this._preloadTiles(Zt),this}const Qt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=ct,this._rotating=bt,this._pitching=It,this._padding=Ct,this._easeId=l.easeId,this._prepareEase(u,l.noMoveStart,Qt),this._ease(jt(w),Zt=>{w.recenterOnTerrain(),this._afterEase(u,Zt)},l),this}_prepareEase(l,u,w={}){this._moving=!0,this.transform.cameraElevationReference="sea",u||w.moving||this.fire(new n.Event("movestart",l)),this._zooming&&!w.zooming&&this.fire(new n.Event("zoomstart",l)),this._rotating&&!w.rotating&&this.fire(new n.Event("rotatestart",l)),this._pitching&&!w.pitching&&this.fire(new n.Event("pitchstart",l))}_fireMoveEvents(l){this.fire(new n.Event("move",l)),this._zooming&&this.fire(new n.Event("zoom",l)),this._rotating&&this.fire(new n.Event("rotate",l)),this._pitching&&this.fire(new n.Event("pitch",l))}_afterEase(l,u){if(this._easeId&&u&&this._easeId===u)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const w=this._zooming,R=this._rotating,F=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,w&&this.fire(new n.Event("zoomend",l)),R&&this.fire(new n.Event("rotateend",l)),F&&this.fire(new n.Event("pitchend",l)),this.fire(new n.Event("moveend",l))}flyTo(l,u){if(!l.essential&&n.exported.prefersReducedMotion){const Ht=n.pick(l,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ht,u)}this.stop(),l=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},l);const w=this.transform,R=this.getZoom(),F=this.getBearing(),se=this.getPitch(),he=this.getPadding(),fe="zoom"in l?n.clamp(+l.zoom,w.minZoom,w.maxZoom):R,De="bearing"in l?this._normalizeBearing(l.bearing,F):F,ke="pitch"in l?+l.pitch:se,je="padding"in l?l.padding:w.padding,Ze=w.zoomScale(fe-R),at=n.pointGeometry.convert(l.offset);let lt=w.centerPoint.add(at);const ht=w.pointLocation(lt),et=n.LngLat.convert(l.center||ht);this._normalizeCenter(et);const nt=w.project(ht),ft=w.project(et).sub(nt);let ct=l.curve;const bt=Math.max(w.width,w.height),It=bt/Ze,Ct=ft.mag();if("minZoom"in l){const Ht=n.clamp(Math.min(l.minZoom,R,fe),w.minZoom,w.maxZoom),ei=bt/w.zoomScale(Ht-R);ct=Math.sqrt(ei/Ct*2)}const jt=ct*ct;function Qt(Ht){const ei=(It*It-bt*bt+(Ht?-1:1)*jt*jt*Ct*Ct)/(2*(Ht?It:bt)*jt*Ct);return Math.log(Math.sqrt(ei*ei+1)-ei)}function Zt(Ht){return(Math.exp(Ht)-Math.exp(-Ht))/2}function Vt(Ht){return(Math.exp(Ht)+Math.exp(-Ht))/2}const Si=Qt(0);let qt=function(Ht){return Vt(Si)/Vt(Si+ct*Ht)},pi=function(Ht){return bt*((Vt(Si)*(Zt(ei=Si+ct*Ht)/Vt(ei))-Zt(Si))/jt)/Ct;var ei},ti=(Qt(1)-Si)/ct;if(Math.abs(Ct)<1e-6||!isFinite(ti)){if(Math.abs(bt-It)<1e-6)return this.easeTo(l,u);const Ht=It<bt?-1:1;ti=Math.abs(Math.log(It/bt))/ct,pi=function(){return 0},qt=function(ei){return Math.exp(Ht*ct*ei)}}l.duration="duration"in l?+l.duration:1e3*ti/("screenSpeed"in l?+l.screenSpeed/ct:+l.speed),l.maxDuration&&l.duration>l.maxDuration&&(l.duration=0);const Pi=F!==De,ii=ke!==se,vi=!w.isPaddingEqual(je),Ri=Ht=>ei=>{const dn=ei*ti,gn=1/qt(dn);Ht.zoom=ei===1?fe:R+Ht.scaleZoom(gn),Pi&&(Ht.bearing=n.number(F,De,ei)),ii&&(Ht.pitch=n.number(se,ke,ei)),vi&&(Ht.interpolatePadding(he,je,ei),lt=Ht.centerPoint.add(at));const hn=ei===1?et:Ht.unproject(nt.add(ft.mult(pi(dn))).mult(gn));return Ht.setLocationAtPoint(Ht.renderWorldCopies?hn.wrap():hn,lt),Ht._updateCameraOnTerrain(),l.preloadOnly||this._fireMoveEvents(u),Ht};if(l.preloadOnly){const Ht=this._emulate(Ri,l.duration,w);return this._preloadTiles(Ht),this}return this._zooming=!0,this._rotating=Pi,this._pitching=ii,this._padding=vi,this._prepareEase(u,!1),this._ease(Ri(w),()=>this._afterEase(u),l),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(l,u){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const w=this._onEaseEnd;this._onEaseEnd=void 0,w.call(this,u)}if(!l){const w=this.handlers;w&&w.stop(!1)}return this}_ease(l,u,w){w.animate===!1||w.duration===0?(l(1),u()):(this._easeStart=n.exported.now(),this._easeOptions=w,this._onEaseFrame=l,this._onEaseEnd=u,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const l=Math.min((n.exported.now()-this._easeStart)/this._easeOptions.duration,1),u=this._onEaseFrame;u&&u(this._easeOptions.easing(l)),l<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(l,u){l=n.wrap(l,-180,180);const w=Math.abs(l-u);return Math.abs(l-360-u)<w&&(l-=360),Math.abs(l+360-u)<w&&(l+=360),l}_normalizeCenter(l){const u=this.transform;if(!u.renderWorldCopies||u.maxBounds)return;const w=l.lng-u.center.lng;l.lng+=w>180?-360:w<-180?360:0}_emulate(l,u,w){const R=Math.ceil(15*u/1e3),F=[],se=l(w.clone());for(let he=0;he<=R;he++){const fe=se(he/R);F.push(fe.clone())}return F}}class Hp{constructor(l={}){this.options=l,n.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(l){const u=this.options&&this.options.compact;return this._map=l,this._container=V("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=V("button","mapboxgl-ctrl-attrib-button",this._container),V("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=V("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),u&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),u===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(l,u){const w=this._map._getUIString(`AttributionControl.${u}`);l.setAttribute("aria-label",w),l.removeAttribute("title"),l.firstElementChild&&l.firstElementChild.setAttribute("title",w)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let l=this._editLink;l||(l=this._editLink=this._container.querySelector(".mapbox-improve-map"));const u=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||n.config.ACCESS_TOKEN}];if(l){const w=u.reduce((R,F,se)=>(F.value&&(R+=`${F.key}=${F.value}${se<u.length-1?"&":""}`),R),"?");l.href=`${n.config.FEEDBACK_URL}/${w}#${Ja(this._map,!0)}`,l.rel="noopener nofollow",this._setElementTitle(l,"MapFeedback")}}_updateData(l){!l||l.sourceDataType!=="metadata"&&l.sourceDataType!=="visibility"&&l.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let l=[];if(this._map.style.stylesheet){const R=this._map.style.stylesheet;this.styleOwner=R.owner,this.styleId=R.id}const u=this._map.style._sourceCaches;for(const R in u){const F=u[R];if(F.used){const se=F.getSource();se.attribution&&l.indexOf(se.attribution)<0&&l.push(se.attribution)}}l.sort((R,F)=>R.length-F.length),l=l.filter((R,F)=>{for(let se=F+1;se<l.length;se++)if(l[se].indexOf(R)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?l=[...this.options.customAttribution,...l]:l.unshift(this.options.customAttribution));const w=l.join(" | ");w!==this._attribHTML&&(this._attribHTML=w,l.length?(this._innerContainer.innerHTML=w,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Wp{constructor(){n.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(l){this._map=l,this._container=V("div","mapboxgl-ctrl");const u=V("a","mapboxgl-ctrl-logo");return u.target="_blank",u.rel="noopener nofollow",u.href="https://www.mapbox.com/",u.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),u.setAttribute("rel","noopener nofollow"),this._container.appendChild(u),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(l){l&&l.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const l=this._map.style._sourceCaches;if(Object.entries(l).length===0)return!0;for(const u in l){const w=l[u].getSource();if(w.hasOwnProperty("mapbox_logo")&&!w.mapbox_logo)return!1}return!0}_updateCompact(){const l=this._container.children;if(l.length){const u=l[0];this._map.getCanvasContainer().offsetWidth<250?u.classList.add("mapboxgl-compact"):u.classList.remove("mapboxgl-compact")}}}class Yp{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(l){const u=++this._id;return this._queue.push({callback:l,id:u,cancelled:!1}),u}remove(l){const u=this._currentlyRunning,w=u?this._queue.concat(u):this._queue;for(const R of w)if(R.id===l)return void(R.cancelled=!0)}run(l=0){const u=this._currentlyRunning=this._queue;this._queue=[];for(const w of u)if(!w.cancelled&&(w.callback(l),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function qp(y,l,u){if(y=new n.LngLat(y.lng,y.lat),l){const w=new n.LngLat(y.lng-360,y.lat),R=new n.LngLat(y.lng+360,y.lat),F=360*Math.ceil(Math.abs(y.lng-u.center.lng)/360),se=u.locationPoint(y).distSqr(l),he=l.x<0||l.y<0||l.x>u.width||l.y>u.height;u.locationPoint(w).distSqr(l)<se&&(he||Math.abs(w.lng-u.center.lng)<F)?y=w:u.locationPoint(R).distSqr(l)<se&&(he||Math.abs(R.lng-u.center.lng)<F)&&(y=R)}for(;Math.abs(y.lng-u.center.lng)>180;){const w=u.locationPoint(y);if(w.x>=0&&w.y>=0&&w.x<=u.width&&w.y<=u.height)break;y.lng>u.center.lng?y.lng-=360:y.lng+=360}return y}const ch={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class kl extends n.Evented{constructor(l,u){if(super(),(l instanceof n.window.HTMLElement||u)&&(l=n.extend({element:l},u)),n.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=l&&l.anchor||"center",this._color=l&&l.color||"#3FB1CE",this._scale=l&&l.scale||1,this._draggable=l&&l.draggable||!1,this._clickTolerance=l&&l.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=l&&l.rotation||0,this._rotationAlignment=l&&l.rotationAlignment||"auto",this._pitchAlignment=l&&l.pitchAlignment&&l.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=l&&l.occludedOpacity||.2,l&&l.element)this._element=l.element,this._offset=n.pointGeometry.convert(l&&l.offset||[0,0]);else{this._defaultMarker=!0,this._element=V("div");const R=41,F=27,se=q("svg",{display:"block",height:R*this._scale+"px",width:F*this._scale+"px",viewBox:`0 0 ${F} ${R}`},this._element),he=q("radialGradient",{id:"shadowGradient"},q("defs",{},se));q("stop",{offset:"10%","stop-opacity":.4},he),q("stop",{offset:"100%","stop-opacity":.05},he),q("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},se),q("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},se),q("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},se),q("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},se),this._offset=n.pointGeometry.convert(l&&l.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",R=>{R.preventDefault()}),this._element.addEventListener("mousedown",R=>{R.preventDefault()});const w=this._element.classList;for(const R in ch)w.remove(`mapboxgl-marker-anchor-${R}`);w.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(l){return l===this._map||(this.remove(),this._map=l,l.getCanvasContainer().appendChild(this._element),l.on("move",this._updateMoving),l.on("moveend",this._update),l.on("remove",this._clearFadeTimer),l._addMarker(this),this.setDraggable(this._draggable),this._update(),l.on("click",this._onMapClick)),this}remove(){const l=this._map;return l&&(l.off("click",this._onMapClick),l.off("move",this._updateMoving),l.off("moveend",this._update),l.off("mousedown",this._addDragHandler),l.off("touchstart",this._addDragHandler),l.off("mouseup",this._onUp),l.off("touchend",this._onUp),l.off("mousemove",this._onMove),l.off("touchmove",this._onMove),l.off("remove",this._clearFadeTimer),l._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(l){return this._lngLat=n.LngLat.convert(l),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(l){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),l){if(!("offset"in l.options)){const R=Math.sqrt(Math.pow(13.5,2)/2);l.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[R,-1*(38.1-13.5+R)],"bottom-right":[-R,-1*(38.1-13.5+R)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=l,l._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(l){const u=l.code,w=l.charCode||l.keyCode;u!=="Space"&&u!=="Enter"&&w!==32&&w!==13||this.togglePopup()}_onMapClick(l){const u=l.originalEvent.target,w=this._element;this._popup&&(u===w||w.contains(u))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const l=this._popup;return l?(l.isOpen()?(l.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(l.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const l=this._map,u=this._pos;if(!l||!u)return!1;const w=l.unproject(u),R=l.getFreeCameraOptions();if(!R.position)return!1;const F=R.position.toLngLat();return F.distanceTo(w)<.9*F.distanceTo(this._lngLat)}_evaluateOpacity(){const l=this._map;if(!l)return;const u=this._pos;if(!u||u.x<0||u.x>l.transform.width||u.y<0||u.y>l.transform.height)return void this._clearFadeTimer();const w=l.unproject(u);let R;l._showingGlobe()&&n.isLngLatBehindGlobe(l.transform,this._lngLat)?R=0:(R=1-l._queryFogOpacity(w),l.transform._terrainEnabled()&&l.getTerrain()&&this._behindTerrain()&&(R*=this._occludedOpacity)),this._element.style.opacity=`${R}`,this._element.style.pointerEvents=R>0?"auto":"none",this._popup&&this._popup._setOpacity(R),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const l=this._pos;if(!l||!this._map)return;const u=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${l.x}px,${l.y}px)
            ${ch[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${u.x}px,${u.y}px)
        `}_calculateXYTransform(){const l=this._pos,u=this._map,w=this.getPitchAlignment();if(!u||!l||w!=="map")return"";if(!u._showingGlobe()){const fe=u.getPitch();return fe?`rotateX(${fe}deg)`:""}const R=n.radToDeg(n.globeTiltAtLngLat(u.transform,this._lngLat)),F=l.sub(n.globeCenterToScreenPoint(u.transform)),se=Math.abs(F.x)+Math.abs(F.y);if(se===0)return"";const he=R/se;return`rotateX(${-F.y*he}deg) rotateY(${F.x*he}deg)`}_calculateZTransform(){const l=this._pos,u=this._map;if(!u||!l)return"";let w=0;const R=this.getRotationAlignment();if(R==="map")if(u._showingGlobe()){const F=u.project(new n.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),se=u.project(new n.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(F);w=n.radToDeg(Math.atan2(se.y,se.x))-90}else w=-u.getBearing();else if(R==="horizon"){const F=n.smoothstep(4,6,u.getZoom()),se=n.globeCenterToScreenPoint(u.transform);se.y+=F*u.transform.height;const he=l.sub(se),fe=n.radToDeg(Math.atan2(he.y,he.x));w=(fe>90?fe-270:fe+90)*(1-F)}return w+=this._rotation,w?`rotateZ(${w}deg)`:""}_update(l){n.window.cancelAnimationFrame(this._updateFrameId);const u=this._map;u&&(u.transform.renderWorldCopies&&(this._lngLat=qp(this._lngLat,this._pos,u.transform)),this._pos=u.project(this._lngLat),l===!0?this._updateFrameId=n.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),u._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(u._showingGlobe()||u.getTerrain()||u.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(l){return this._offset=n.pointGeometry.convert(l),this._update(),this}_onMove(l){const u=this._map;if(!u)return;const w=this._pointerdownPos,R=this._positionDelta;if(w&&R){if(!this._isDragging){const F=this._clickTolerance||u._clickTolerance;if(l.point.dist(w)<F)return;this._isDragging=!0}this._pos=l.point.sub(R),this._lngLat=u.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new n.Event("dragstart"))),this.fire(new n.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const l=this._map;l&&(l.off("mousemove",this._onMove),l.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new n.Event("dragend")),this._state="inactive"}_addDragHandler(l){const u=this._map,w=this._pos;u&&w&&this._element.contains(l.originalEvent.target)&&(l.preventDefault(),this._positionDelta=l.point.sub(w),this._pointerdownPos=l.point,this._state="pending",u.on("mousemove",this._onMove),u.on("touchmove",this._onMove),u.once("mouseup",this._onUp),u.once("touchend",this._onUp))}setDraggable(l){this._draggable=!!l;const u=this._map;return u&&(l?(u.on("mousedown",this._addDragHandler),u.on("touchstart",this._addDragHandler)):(u.off("mousedown",this._addDragHandler),u.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(l){return this._rotation=l||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(l){return this._rotationAlignment=l||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(l){return this._pitchAlignment=l||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(l){return this._occludedOpacity=l||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const Lu={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},u0=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Oa(y=new n.pointGeometry(0,0),l="bottom"){if(typeof y=="number"){const u=Math.round(Math.sqrt(.5*Math.pow(y,2)));switch(l){case"top":return new n.pointGeometry(0,y);case"top-left":return new n.pointGeometry(u,u);case"top-right":return new n.pointGeometry(-u,u);case"bottom":return new n.pointGeometry(0,-y);case"bottom-left":return new n.pointGeometry(u,-u);case"bottom-right":return new n.pointGeometry(-u,-u);case"left":return new n.pointGeometry(y,0);case"right":return new n.pointGeometry(-y,0)}return new n.pointGeometry(0,0)}return y instanceof n.pointGeometry||Array.isArray(y)?n.pointGeometry.convert(y):n.pointGeometry.convert(y[l]||[0,0])}class p0{constructor(l){this.jumpTo(l)}getValue(l){if(l<=this._startTime)return this._start;if(l>=this._endTime)return this._end;const u=n.easeCubicInOut((l-this._startTime)/(this._endTime-this._startTime));return this._start*(1-u)+this._end*u}isEasing(l){return l>=this._startTime&&l<=this._endTime}jumpTo(l){this._startTime=-1/0,this._endTime=-1/0,this._start=l,this._end=l}easeTo(l,u,w){this._start=this.getValue(u),this._end=l,this._startTime=u,this._endTime=u+w}}const f0={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},m0={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},g0={showCompass:!0,showZoom:!0,visualizePitch:!1};class _0{constructor(l,u,w=!1){this._clickTolerance=10,this.element=u,this.mouseRotate=new jp({clickTolerance:l.dragRotate._mouseRotate._clickTolerance}),this.map=l,w&&(this.mousePitch=new Up({clickTolerance:l.dragRotate._mousePitch._clickTolerance})),n.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),u.addEventListener("mousedown",this.mousedown),u.addEventListener("touchstart",this.touchstart,{passive:!1}),u.addEventListener("touchmove",this.touchmove),u.addEventListener("touchend",this.touchend),u.addEventListener("touchcancel",this.reset)}down(l,u){this.mouseRotate.mousedown(l,u),this.mousePitch&&this.mousePitch.mousedown(l,u),M()}move(l,u){const w=this.map,R=this.mouseRotate.mousemoveWindow(l,u),F=R&&R.bearingDelta;if(F&&w.setBearing(w.getBearing()+F),this.mousePitch){const se=this.mousePitch.mousemoveWindow(l,u),he=se&&se.pitchDelta;he&&w.setPitch(w.getPitch()+he)}}off(){const l=this.element;l.removeEventListener("mousedown",this.mousedown),l.removeEventListener("touchstart",this.touchstart,{passive:!1}),l.removeEventListener("touchmove",this.touchmove),l.removeEventListener("touchend",this.touchend),l.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){C(),n.window.removeEventListener("mousemove",this.mousemove),n.window.removeEventListener("mouseup",this.mouseup)}mousedown(l){this.down(n.extend({},l,{ctrlKey:!0,preventDefault:()=>l.preventDefault()}),$(this.element,l)),n.window.addEventListener("mousemove",this.mousemove),n.window.addEventListener("mouseup",this.mouseup)}mousemove(l){this.move(l,$(this.element,l))}mouseup(l){this.mouseRotate.mouseupWindow(l),this.mousePitch&&this.mousePitch.mouseupWindow(l),this.offTemp()}touchstart(l){l.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=E(this.element,l.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>l.preventDefault()},this._startPos))}touchmove(l){l.targetTouches.length!==1?this.reset():(this._lastPos=E(this.element,l.targetTouches)[0],this.move({preventDefault:()=>l.preventDefault()},this._lastPos))}touchend(l){l.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const Ou={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Xp={maxWidth:100,unit:"metric"};function y0(y,l,u){const w=Zp(l),R=w/l,F={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[u];this._map._requestDomTask(()=>{this._container.style.width=y*R+"px",this._container.innerHTML=`${w}&nbsp;${F}`})}function Zp(y){const l=Math.pow(10,`${Math.floor(y)}`.length-1);let u=y/l;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:u>=1?1:function(w){const R=Math.pow(10,Math.ceil(-Math.log(w)/Math.LN10));return Math.round(w*R)/R}(u),l*u}const Id={version:n.version,supported:z,setRTLTextPlugin:n.setRTLTextPlugin,getRTLTextPluginStatus:n.getRTLTextPluginStatus,Map:class extends Kl{constructor(y){if(n.LivePerformanceUtils.mark(n.PerformanceMarkers.create),(y=n.extend({},m0,y)).minZoom!=null&&y.maxZoom!=null&&y.minZoom>y.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(y.minPitch!=null&&y.maxPitch!=null&&y.minPitch>y.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(y.minPitch!=null&&y.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(y.maxPitch!=null&&y.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(y.antialias&&n.isSafariWithAntialiasingBug(n.window)&&(y.antialias=!1,n.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Sr(y.minZoom,y.maxZoom,y.minPitch,y.maxPitch,y.renderWorldCopies),y),this._interactive=y.interactive,this._minTileCacheSize=y.minTileCacheSize,this._maxTileCacheSize=y.maxTileCacheSize,this._failIfMajorPerformanceCaveat=y.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=y.preserveDrawingBuffer,this._antialias=y.antialias,this._trackResize=y.trackResize,this._bearingSnap=y.bearingSnap,this._refreshExpiredTiles=y.refreshExpiredTiles,this._fadeDuration=y.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=y.crossSourceCollisions,this._collectResourceTiming=y.collectResourceTiming,this._optimizeForTerrain=y.optimizeForTerrain,this._language=this._parseLanguage(y.language),this._worldview=y.worldview,this._renderTaskQueue=new Yp,this._domRenderTaskQueue=new Yp,this._controls=[],this._markers=[],this._popups=[],this._mapId=n.uniqueId(),this._locale=n.extend({},f0,y.locale),this._clickTolerance=y.clickTolerance,this._cooperativeGestures=y.cooperativeGestures,this._performanceMetricsCollection=y.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new p0(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new n.RequestManager(y.transformRequest,y.accessToken,y.testMode),this._silenceAuthErrors=!!y.testMode,typeof y.container=="string"){if(this._container=n.window.document.getElementById(y.container),!this._container)throw new Error(`Container '${y.container}' not found.`)}else{if(!(y.container instanceof n.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=y.container}if(this._container.childNodes.length>0&&n.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),y.maxBounds&&this.setMaxBounds(y.maxBounds),n.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),n.window!==void 0&&(n.window.addEventListener("online",this._onWindowOnline,!1),n.window.addEventListener("resize",this._onWindowResize,!1),n.window.addEventListener("orientationchange",this._onWindowResize,!1),n.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),n.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Fh(this,y),this._localFontFamily=y.localFontFamily,this._localIdeographFontFamily=y.localIdeographFontFamily,y.style&&this.setStyle(y.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),y.projection&&this.setProjection(y.projection),this._hash=y.hash&&new Zi(typeof y.hash=="string"&&y.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:y.center,zoom:y.zoom,bearing:y.bearing,pitch:y.pitch}),y.bounds&&(this.resize(),this.fitBounds(y.bounds,n.extend({},y.fitBoundsOptions,{duration:0})))),this.resize(),y.attributionControl&&this.addControl(new Hp({customAttribution:y.customAttribution})),this._logoControl=new Wp,this.addControl(this._logoControl,y.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",l=>{this._update(l.dataType==="style"),this.fire(new n.Event(`${l.dataType}data`,l))}),this.on("dataloading",l=>{this.fire(new n.Event(`${l.dataType}dataloading`,l))})}_getMapId(){return this._mapId}addControl(y,l){if(l===void 0&&(l=y.getDefaultPosition?y.getDefaultPosition():"top-right"),!y||!y.onAdd)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const u=y.onAdd(this);this._controls.push(y);const w=this._controlPositions[l];return l.indexOf("bottom")!==-1?w.insertBefore(u,w.firstChild):w.appendChild(u),this}removeControl(y){if(!y||!y.onRemove)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const l=this._controls.indexOf(y);return l>-1&&this._controls.splice(l,1),y.onRemove(this),this}hasControl(y){return this._controls.indexOf(y)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(y){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const l=!this._moving;return l&&this.fire(new n.Event("movestart",y)).fire(new n.Event("move",y)),this.fire(new n.Event("resize",y)),l&&this.fire(new n.Event("moveend",y)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(y){return this.transform.setMaxBounds(n.LngLatBounds.convert(y)),this._update()}setMinZoom(y){if((y=y??-2)>=-2&&y<=this.transform.maxZoom)return this.transform.minZoom=y,this._update(),this.getZoom()<y?this.setZoom(y):this.fire(new n.Event("zoomstart")).fire(new n.Event("zoom")).fire(new n.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(y){if((y=y??22)>=this.transform.minZoom)return this.transform.maxZoom=y,this._update(),this.getZoom()>y?this.setZoom(y):this.fire(new n.Event("zoomstart")).fire(new n.Event("zoom")).fire(new n.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(y){if((y=y??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(y>=0&&y<=this.transform.maxPitch)return this.transform.minPitch=y,this._update(),this.getPitch()<y?this.setPitch(y):this.fire(new n.Event("pitchstart")).fire(new n.Event("pitch")).fire(new n.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(y){if((y=y??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(y>=this.transform.minPitch)return this.transform.maxPitch=y,this._update(),this.getPitch()>y?this.setPitch(y):this.fire(new n.Event("pitchstart")).fire(new n.Event("pitch")).fire(new n.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(y){return this.transform.renderWorldCopies=y,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(y){return y==="auto"?n.window.navigator.language:Array.isArray(y)?y.length===0?void 0:y.map(l=>l==="auto"?n.window.navigator.language:l):y}setLanguage(y){const l=this._parseLanguage(y);if(!this.style||l===this._language)return this;this._language=l,this.style._reloadSources();for(const u of this._controls)u._setLanguage&&u._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(y){return this.style&&y!==this._worldview?(this._worldview=y,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(y){return this._lazyInitEmptyStyle(),y?typeof y=="string"&&(y={name:y}):y=null,this._useExplicitProjection=!!y,this._prioritizeAndUpdateProjection(y,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const y=this.transform,l=y.projection.name;let u;l==="globe"&&y.zoom>=n.GLOBE_ZOOM_THRESHOLD_MAX?(y.setMercatorFromTransition(),u=!0):l==="mercator"&&y.zoom<n.GLOBE_ZOOM_THRESHOLD_MAX&&(y.setProjection({name:"globe"}),u=!0),u&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(y,l){return this._updateProjection(y||l||{name:"mercator"})}_updateProjection(y){let l;if(l=y.name==="globe"&&this.transform.zoom>=n.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(y),this.style.applyProjectionUpdate(),l){this.painter.clearBackgroundTiles();for(const u in this.style._sourceCaches)this.style._sourceCaches[u].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(y){return this.transform.locationPoint3D(n.LngLat.convert(y))}unproject(y){return this.transform.pointLocation3D(n.pointGeometry.convert(y))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(y,l,u){if(y==="mouseenter"||y==="mouseover"){let w=!1;const R=se=>{const he=l.filter(De=>this.getLayer(De)),fe=he.length?this.queryRenderedFeatures(se.point,{layers:he}):[];fe.length?w||(w=!0,u.call(this,new er(y,this,se.originalEvent,{features:fe}))):w=!1},F=()=>{w=!1};return{layers:new Set(l),listener:u,delegates:{mousemove:R,mouseout:F}}}if(y==="mouseleave"||y==="mouseout"){let w=!1;const R=se=>{const he=l.filter(fe=>this.getLayer(fe));(he.length?this.queryRenderedFeatures(se.point,{layers:he}):[]).length?w=!0:w&&(w=!1,u.call(this,new er(y,this,se.originalEvent)))},F=se=>{w&&(w=!1,u.call(this,new er(y,this,se.originalEvent)))};return{layers:new Set(l),listener:u,delegates:{mousemove:R,mouseout:F}}}{const w=R=>{const F=l.filter(he=>this.getLayer(he)),se=F.length?this.queryRenderedFeatures(R.point,{layers:F}):[];se.length&&(R.features=se,u.call(this,R),delete R.features)};return{layers:new Set(l),listener:u,delegates:{[y]:w}}}}on(y,l,u){if(u===void 0)return super.on(y,l);Array.isArray(l)||(l=[l]);const w=this._createDelegatedListener(y,l,u);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[y]=this._delegatedListeners[y]||[],this._delegatedListeners[y].push(w);for(const R in w.delegates)this.on(R,w.delegates[R]);return this}once(y,l,u){if(u===void 0)return super.once(y,l);Array.isArray(l)||(l=[l]);const w=this._createDelegatedListener(y,l,u);for(const R in w.delegates)this.once(R,w.delegates[R]);return this}off(y,l,u){if(u===void 0)return super.off(y,l);l=new Set(Array.isArray(l)?l:[l]);const w=(F,se)=>{if(F.size!==se.size)return!1;for(const he of F)if(!se.has(he))return!1;return!0},R=this._delegatedListeners?this._delegatedListeners[y]:void 0;return R&&(F=>{for(let se=0;se<F.length;se++){const he=F[se];if(he.listener===u&&w(he.layers,l)){for(const fe in he.delegates)this.off(fe,he.delegates[fe]);return F.splice(se,1),this}}})(R),this}queryRenderedFeatures(y,l){return this.style?(l!==void 0||y===void 0||y instanceof n.pointGeometry||Array.isArray(y)||(l=y,y=void 0),this.style.queryRenderedFeatures(y=y||[[0,0],[this.transform.width,this.transform.height]],l=l||{},this.transform)):[]}querySourceFeatures(y,l){return this.style.querySourceFeatures(y,l)}setStyle(y,l){return(l=n.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},l)).diff!==!1&&l.localIdeographFontFamily===this._localIdeographFontFamily&&l.localFontFamily===this._localFontFamily&&this.style&&y?(this._diffStyle(y,l),this):(this._localIdeographFontFamily=l.localIdeographFontFamily,this._localFontFamily=l.localFontFamily,this._updateStyle(y,l))}_getUIString(y){const l=this._locale[y];if(l==null)throw new Error(`Missing UI string '${y}'`);return l}_updateStyle(y,l){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),y&&(this.style=new G(this,l||{}),this.style.setEventedParent(this,{style:this.style}),typeof y=="string"?this.style.loadURL(y):this.style.loadJSON(y)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new G(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(y,l){if(typeof y=="string"){const u=this._requestManager.normalizeStyleURL(y),w=this._requestManager.transformRequest(u,n.ResourceType.Style);n.getJSON(w,(R,F)=>{R?this.fire(new n.ErrorEvent(R)):F&&this._updateDiff(F,l)})}else typeof y=="object"&&this._updateDiff(y,l)}_updateDiff(y,l){try{this.style.setState(y)&&this._update(!0)}catch(u){n.warnOnce(`Unable to perform style diff: ${u.message||u.error||u}.  Rebuilding the style from scratch.`),this._updateStyle(y,l)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(n.warnOnce("There is no style added to the map."),!1)}addSource(y,l){return this._lazyInitEmptyStyle(),this.style.addSource(y,l),this._update(!0)}isSourceLoaded(y){return!!this.style&&this.style._isSourceCacheLoaded(y)}areTilesLoaded(){const y=this.style&&this.style._sourceCaches;for(const l in y){const u=y[l]._tiles;for(const w in u){const R=u[w];if(R.state!=="loaded"&&R.state!=="errored")return!1}}return!0}addSourceType(y,l,u){this._lazyInitEmptyStyle(),this.style.addSourceType(y,l,u)}removeSource(y){return this.style.removeSource(y),this._updateTerrain(),this._update(!0)}getSource(y){return this.style.getSource(y)}addImage(y,l,{pixelRatio:u=1,sdf:w=!1,stretchX:R,stretchY:F,content:se}={}){if(this._lazyInitEmptyStyle(),l instanceof n.window.HTMLImageElement||n.window.ImageBitmap&&l instanceof n.window.ImageBitmap){const{width:he,height:fe,data:De}=n.exported.getImageData(l);this.style.addImage(y,{data:new n.RGBAImage({width:he,height:fe},De),pixelRatio:u,stretchX:R,stretchY:F,content:se,sdf:w,version:0})}else if(l.width===void 0||l.height===void 0)this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:he,height:fe}=l,De=l;this.style.addImage(y,{data:new n.RGBAImage({width:he,height:fe},new Uint8Array(De.data)),pixelRatio:u,stretchX:R,stretchY:F,content:se,sdf:w,version:0,userImage:De}),De.onAdd&&De.onAdd(this,y)}}updateImage(y,l){const u=this.style.getImage(y);if(!u)return void this.fire(new n.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const w=l instanceof n.window.HTMLImageElement||n.window.ImageBitmap&&l instanceof n.window.ImageBitmap?n.exported.getImageData(l):l,{width:R,height:F}=w;R!==void 0&&F!==void 0?R===u.data.width&&F===u.data.height?(u.data.replace(w.data,!(l instanceof n.window.HTMLImageElement||n.window.ImageBitmap&&l instanceof n.window.ImageBitmap)),this.style.updateImage(y,u)):this.fire(new n.ErrorEvent(new Error(`The width and height of the updated image (${R}, ${F})
                must be that same as the previous version of the image
                (${u.data.width}, ${u.data.height})`))):this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(y){return y?!!this.style.getImage(y):(this.fire(new n.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(y){this.style.removeImage(y)}loadImage(y,l){n.getImage(this._requestManager.transformRequest(y,n.ResourceType.Image),(u,w)=>{l(u,w instanceof n.window.HTMLImageElement?n.exported.getImageData(w):w)})}listImages(){return this.style.listImages()}addLayer(y,l){return this._lazyInitEmptyStyle(),this.style.addLayer(y,l),this._update(!0)}moveLayer(y,l){return this.style.moveLayer(y,l),this._update(!0)}removeLayer(y){return this.style.removeLayer(y),this._update(!0)}getLayer(y){return this.style.getLayer(y)}setLayerZoomRange(y,l,u){return this.style.setLayerZoomRange(y,l,u),this._update(!0)}setFilter(y,l,u={}){return this.style.setFilter(y,l,u),this._update(!0)}getFilter(y){return this.style.getFilter(y)}setPaintProperty(y,l,u,w={}){return this.style.setPaintProperty(y,l,u,w),this._update(!0)}getPaintProperty(y,l){return this.style.getPaintProperty(y,l)}setLayoutProperty(y,l,u,w={}){return this.style.setLayoutProperty(y,l,u,w),this._update(!0)}getLayoutProperty(y,l){return this.style.getLayoutProperty(y,l)}setLight(y,l={}){return this._lazyInitEmptyStyle(),this.style.setLight(y,l),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(y){return this._lazyInitEmptyStyle(),!y&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(y),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(y){return this._lazyInitEmptyStyle(),this.style.setFog(y),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(y){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(n.LngLat.convert(y),this.transform):0}setFeatureState(y,l){return this.style.setFeatureState(y,l),this._update()}removeFeatureState(y,l){return this.style.removeFeatureState(y,l),this._update()}getFeatureState(y){return this.style.getFeatureState(y)}_updateContainerDimensions(){if(!this._container)return;const y=this._container.getBoundingClientRect().width||400,l=this._container.getBoundingClientRect().height||300;let u,w,R,F=this._container;for(;F&&(!w||!R);){const se=n.window.getComputedStyle(F).transform;se&&se!=="none"&&(u=se.match(/matrix.*\((.+)\)/)[1].split(", "),u[0]&&u[0]!=="0"&&u[0]!=="1"&&(w=u[0]),u[3]&&u[3]!=="0"&&u[3]!=="1"&&(R=u[3])),F=F.parentElement}this._containerWidth=w?Math.abs(y/w):y,this._containerHeight=R?Math.abs(l/R):l}_detectMissingCSS(){n.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&n.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const y=this._container;y.classList.add("mapboxgl-map"),(this._missingCSSCanary=V("div","mapboxgl-canary",y)).style.visibility="hidden",this._detectMissingCSS();const l=this._canvasContainer=V("div","mapboxgl-canvas-container",y);this._interactive&&l.classList.add("mapboxgl-interactive"),this._canvas=V("canvas","mapboxgl-canvas",l),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const u=this._controlContainer=V("div","mapboxgl-control-container",y),w=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(R=>{w[R]=V("div",`mapboxgl-ctrl-${R}`,u)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(y,l){const u=n.exported.devicePixelRatio||1;this._canvas.width=u*Math.ceil(y),this._canvas.height=u*Math.ceil(l),this._canvas.style.width=`${y}px`,this._canvas.style.height=`${l}px`}_addMarker(y){this._markers.push(y)}_removeMarker(y){const l=this._markers.indexOf(y);l!==-1&&this._markers.splice(l,1)}_addPopup(y){this._popups.push(y)}_removePopup(y){const l=this._popups.indexOf(y);l!==-1&&this._popups.splice(l,1)}_setupPainter(){const y=n.extend({},z.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),l=this._canvas.getContext("webgl",y)||this._canvas.getContext("experimental-webgl",y);l?(n.storeAuthState(l,!0),this.painter=new kn(l,this.transform),this.on("data",u=>{u.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),n.exported$1.testSupport(l)):this.fire(new n.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(y){y.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new n.Event("webglcontextlost",{originalEvent:y}))}_contextRestored(y){this._setupPainter(),this.resize(),this._update(),this.fire(new n.Event("webglcontextrestored",{originalEvent:y}))}_onMapScroll(y){if(y.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(y){return this.style?(this._styleDirty=this._styleDirty||y,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(y){return this._update(),this._renderTaskQueue.add(y)}_cancelRenderFrame(y){this._renderTaskQueue.remove(y)}_requestDomTask(y){!this.loaded()||this.loaded()&&!this.isMoving()?y():this._domRenderTaskQueue.add(y)}_render(y){let l;const u=this.painter.context.extTimerQuery,w=n.exported.now();if(this.listens("gpu-timing-frame")&&(l=u.createQueryEXT(),u.beginQueryEXT(u.TIME_ELAPSED_EXT,l)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],n.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],n.window.performance.now())),this._renderTaskQueue.run(y),this._domRenderTaskQueue.run(y),this._removed)return;this._updateProjectionTransition();const R=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const he=this.transform.zoom,fe=this.transform.pitch,De=n.exported.now(),ke=new n.EvaluationParameters(he,{now:De,fadeDuration:R,pitch:fe,transition:this.style.getTransition()});this.style.update(ke)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let F=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),F=this._updateAverageElevation(w),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):F=this._updateAverageElevation(w),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,R,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:R,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new n.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new n.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),l){const he=n.exported.now()-w;u.endQueryEXT(u.TIME_ELAPSED_EXT,l),setTimeout(()=>{const fe=u.getQueryObjectEXT(l,u.QUERY_RESULT_EXT)/1e6;u.deleteQueryEXT(l),this.fire(new n.Event("gpu-timing-frame",{cpuTime:he,gpuTime:fe})),n.window.performance.mark("frame-gpu",{startTime:w,detail:{gpuTime:fe}})},50)}if(this.listens("gpu-timing-layer")){const he=this.painter.collectGpuTimers();setTimeout(()=>{const fe=this.painter.queryGpuTimers(he);this.fire(new n.Event("gpu-timing-layer",{layerTimes:fe}))},50)}if(this.listens("gpu-timing-deferred-render")){const he=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const fe=this.painter.queryGpuTimeDeferredRender(he);this.fire(new n.Event("gpu-timing-deferred-render",{gpuTime:fe}))},50)}const se=this._sourcesDirty||this._styleDirty||this._placementDirty||F;if(se||this._repaint)this.triggerRepaint();else{const he=!this.isMoving()&&this.loaded();if(he&&(F=this._updateAverageElevation(w,!0)),F)this.triggerRepaint();else if(this._triggerFrame(!1),he&&(this.fire(new n.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const fe=this._calculateSpeedIndex();this.fire(new n.Event("speedindexcompleted",{speedIndex:fe})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||se||(this._fullyLoaded=!0,n.LivePerformanceUtils.mark(n.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&n.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(y){for(const l of this._markers)y&&!this.getRenderWorldCopies()&&(l._lngLat=l._lngLat.wrap()),l._update();for(const l of this._popups)!y||this.getRenderWorldCopies()||l._trackPointer||(l._lngLat=l._lngLat.wrap()),l._update()}_updateAverageElevation(y,l=!1){const u=w=>(this.transform.averageElevation=w,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&u(0);if((l||y-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(y)){const w=this.transform.averageElevation;let R=this.transform.sampleAverageElevation(),F=!1;this.transform.elevation&&(F=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(R)?R=0:this._averageElevationLastSampledAt=y;const se=Math.abs(w-R);if(se>1){if(this._isInitialLoad||F)return this._averageElevation.jumpTo(R),u(R);this._averageElevation.easeTo(R,y,300)}else if(se>1e-4)return this._averageElevation.jumpTo(R),u(R)}return!!this._averageElevation.isEasing(y)&&u(this._averageElevation.getValue(y))}_authenticate(){n.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,y=>{if(y&&(y.message===n.AUTH_ERR_MSG||y.status===401)){const l=this.painter.context.gl;n.storeAuthState(l,!1),this._logoControl instanceof Wp&&this._logoControl._updateLogo(),l&&l.clear(l.DEPTH_BUFFER_BIT|l.COLOR_BUFFER_BIT|l.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new n.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),n.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const y=this._isDragging();this.painter.updateTerrain(this.style,y)}_calculateSpeedIndex(){const y=this.painter.canvasCopy(),l=this.painter.getCanvasCopiesAndTimestamps();l.timeStamps.push(performance.now());const u=this.painter.context.gl,w=u.createFramebuffer();function R(F){u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,F,0);const se=new Uint8Array(u.drawingBufferWidth*u.drawingBufferHeight*4);return u.readPixels(0,0,u.drawingBufferWidth,u.drawingBufferHeight,u.RGBA,u.UNSIGNED_BYTE,se),se}return u.bindFramebuffer(u.FRAMEBUFFER,w),this._canvasPixelComparison(R(y),l.canvasCopies.map(R),l.timeStamps)}_canvasPixelComparison(y,l,u){let w=u[1]-u[0];const R=y.length/4;for(let F=0;F<l.length;F++){const se=l[F];let he=0;for(let fe=0;fe<se.length;fe+=4)se[fe]===y[fe]&&se[fe+1]===y[fe+1]&&se[fe+2]===y[fe+2]&&se[fe+3]===y[fe+3]&&(he+=1);w+=(u[F+2]-u[F+1])*(1-he/R)}return w}remove(){this._hash&&this._hash.remove();for(const l of this._controls)l.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),n.window!==void 0&&(n.window.removeEventListener("resize",this._onWindowResize,!1),n.window.removeEventListener("orientationchange",this._onWindowResize,!1),n.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),n.window.removeEventListener("online",this._onWindowOnline,!1),n.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const y=this.painter.context.gl.getExtension("WEBGL_lose_context");y&&y.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),n.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new n.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(y){this._renderNextFrame=this._renderNextFrame||y,this.style&&!this._frame&&(this._frame=n.exported.frame(l=>{const u=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,u&&this._render(l)}))}_preloadTiles(y){const l=this.style?Object.values(this.style._sourceCaches):[];return n.asyncAll(l,(u,w)=>u._preloadTiles(y,w),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(y){this._trackResize&&this.resize({originalEvent:y})._update()}_onVisibilityChange(){n.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(y){this._showTileBoundaries!==y&&(this._showTileBoundaries=y,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(y){this._showTerrainWireframe!==y&&(this._showTerrainWireframe=y,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(y){this._speedIndexTiming!==y&&(this._speedIndexTiming=y,this._update())}get showPadding(){return!!this._showPadding}set showPadding(y){this._showPadding!==y&&(this._showPadding=y,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(y){this._showCollisionBoxes!==y&&(this._showCollisionBoxes=y,y?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(y){this._showOverdrawInspector!==y&&(this._showOverdrawInspector=y,this._update())}get repaint(){return!!this._repaint}set repaint(y){this._repaint!==y&&(this._repaint=y,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(y){this._vertices=y,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(y){this._showTileAABBs!==y&&(this._showTileAABBs=y,y&&this._update())}_setCacheLimits(y,l){n.setCacheLimits(y,l)}get version(){return n.version}},NavigationControl:class{constructor(y){this.options=n.extend({},g0,y),this._container=V("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",l=>l.preventDefault()),this.options.showZoom&&(n.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",l=>{this._map&&this._map.zoomIn({},{originalEvent:l})}),V("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",l=>{this._map&&this._map.zoomOut({},{originalEvent:l})}),V("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(n.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",l=>{const u=this._map;u&&(this.options.visualizePitch?u.resetNorthPitch({},{originalEvent:l}):u.resetNorth({},{originalEvent:l}))}),this._compassIcon=V("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const y=this._map;if(!y)return;const l=y.getZoom(),u=l===y.getMaxZoom(),w=l===y.getMinZoom();this._zoomInButton.disabled=u,this._zoomOutButton.disabled=w,this._zoomInButton.setAttribute("aria-disabled",u.toString()),this._zoomOutButton.setAttribute("aria-disabled",w.toString())}_rotateCompassArrow(){const y=this._map;if(!y)return;const l=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(y.transform.pitch*(Math.PI/180)),.5)}) rotateX(${y.transform.pitch}deg) rotateZ(${y.transform.angle*(180/Math.PI)}deg)`:`rotate(${y.transform.angle*(180/Math.PI)}deg)`;y._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=l)})}onAdd(y){return this._map=y,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),y.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&y.on("pitch",this._rotateCompassArrow),y.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new _0(y,this._compass,this.options.visualizePitch)),this._container}onRemove(){const y=this._map;y&&(this._container.remove(),this.options.showZoom&&y.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&y.off("pitch",this._rotateCompassArrow),y.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(y,l){const u=V("button",y,this._container);return u.type="button",u.addEventListener("click",l),u}_setButtonTitle(y,l){if(!this._map)return;const u=this._map._getUIString(`NavigationControl.${l}`);y.setAttribute("aria-label",u),y.firstElementChild&&y.firstElementChild.setAttribute("title",u)}},GeolocateControl:class extends n.Evented{constructor(y){super(),this.options=n.extend({geolocation:n.window.navigator.geolocation},Ou,y),n.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Ka(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(y){return this._map=y,this._container=V("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(y){const l=(u=!!this.options.geolocation)=>{this._supportsGeolocation=u,y(u)};this._supportsGeolocation!==void 0?y(this._supportsGeolocation):n.window.navigator.permissions!==void 0?n.window.navigator.permissions.query({name:"geolocation"}).then(u=>l(u.state!=="denied")).catch(()=>l()):l()}_isOutOfMapMaxBounds(y){const l=this._map.getMaxBounds(),u=y.coords;return!!l&&(u.longitude<l.getWest()||u.longitude>l.getEast()||u.latitude<l.getSouth()||u.latitude>l.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(y){if(this._map){if(this._isOutOfMapMaxBounds(y))return this._setErrorState(),this.fire(new n.Event("outofmaxbounds",y)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=y,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(y),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(y),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("geolocate",y)),this._finish()}}_updateCamera(y){const l=new n.LngLat(y.coords.longitude,y.coords.latitude),u=y.coords.accuracy,w=this._map.getBearing(),R=n.extend({bearing:w},this.options.fitBoundsOptions);this._map.fitBounds(l.toBounds(u),R,{geolocateSource:!0})}_updateMarker(y){if(y){const l=new n.LngLat(y.coords.longitude,y.coords.latitude);this._accuracyCircleMarker.setLngLat(l).addTo(this._map),this._userLocationDotMarker.setLngLat(l).addTo(this._map),this._accuracy=y.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const y=this._map.transform,l=n.mercatorZfromAltitude(1,y._center.lat)*y.worldSize,u=Math.ceil(2*this._accuracy*l);this._circleElement.style.width=`${u}px`,this._circleElement.style.height=`${u}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(y){if(this._map){if(this.options.trackUserLocation)if(y.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const l=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",l),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",l),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(y.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("error",y)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(y){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",l=>l.preventDefault()),this._geolocateButton=V("button","mapboxgl-ctrl-geolocate",this._container),V("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",y===!1){n.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const l=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",l),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",l)}else{const l=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",l),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",l)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=V("div","mapboxgl-user-location"),this._dotElement.appendChild(V("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(V("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new kl({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=V("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new kl({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",l=>{l.geolocateSource||this._watchState!=="ACTIVE_LOCK"||l.originalEvent&&l.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new n.Event("trackuserlocationend")))})}}_onDeviceOrientation(y){this._userLocationDotMarker&&(y.webkitCompassHeading?this._heading=y.webkitCompassHeading:y.absolute===!0&&(this._heading=-1*y.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return n.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new n.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new n.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new n.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let y;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(y={maximumAge:6e5,timeout:0},this._noTimeout=!0):(y=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,y),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const y=()=>{n.window.addEventListener("ondeviceorientationabsolute"in n.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};n.window.DeviceMotionEvent!==void 0&&typeof n.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(l=>{l==="granted"&&y()}).catch(console.error):y()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),n.window.removeEventListener("deviceorientation",this._onDeviceOrientation),n.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Hp,ScaleControl:class{constructor(y){this.options=n.extend({},Xp,y),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch{return!1}}()||(this._setScale=y0.bind(this)),n.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const y=this.options.maxWidth||100,l=this._map,u=l._containerHeight/2,w=l._containerWidth/2-y/2,R=l.unproject([w,u]),F=l.unproject([w+y,u]),se=R.distanceTo(F);if(this.options.unit==="imperial"){const he=3.2808*se;he>5280?this._setScale(y,he/5280,"mile"):this._setScale(y,he,"foot")}else this.options.unit==="nautical"?this._setScale(y,se/1852,"nautical-mile"):se>=1e3?this._setScale(y,se/1e3,"kilometer"):this._setScale(y,se,"meter")}_setScale(y,l,u){const w=Zp(l),R=w/l;this._map._requestDomTask(()=>{this._container.style.width=y*R+"px",this._container.innerHTML=u!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:u}).format(w):`${w}&nbsp;nm`})}onAdd(y){return this._map=y,this._language=y.getLanguage(),this._container=V("div","mapboxgl-ctrl mapboxgl-ctrl-scale",y.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(y){this._language=y,this._update()}setUnit(y){this.options.unit=y,this._update()}},FullscreenControl:class{constructor(y){this._fullscreen=!1,y&&y.container&&(y.container instanceof n.window.HTMLElement?this._container=y.container:n.warnOnce("Full screen control 'container' must be a DOM element.")),n.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in n.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in n.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(y){return this._map=y,this._container||(this._container=this._map.getContainer()),this._controlContainer=V("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",n.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,n.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!n.window.document.fullscreenEnabled&&!n.window.document.webkitFullscreenEnabled)}_setupUI(){const y=this._fullscreenButton=V("button","mapboxgl-ctrl-fullscreen",this._controlContainer);V("span","mapboxgl-ctrl-icon",y).setAttribute("aria-hidden","true"),y.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),n.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const y=this._getTitle();this._fullscreenButton.setAttribute("aria-label",y),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",y)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(n.window.document.fullscreenElement||n.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?n.window.document.exitFullscreen?n.window.document.exitFullscreen():n.window.document.webkitCancelFullScreen&&n.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends n.Evented{constructor(y){super(),this.options=n.extend(Object.create(Lu),y),n.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(y&&y.className?y.className.trim().split(/\s+/):[])}addTo(y){return this._map&&this.remove(),this._map=y,this.options.closeOnClick&&y.on("preclick",this._onClose),this.options.closeOnMove&&y.on("move",this._onClose),y.on("remove",this.remove),this._update(),y._addPopup(this),this._focusFirstElement(),this._trackPointer?(y.on("mousemove",this._onMouseEvent),y.on("mouseup",this._onMouseEvent),y._canvasContainer.classList.add("mapboxgl-track-pointer")):y.on("move",this._update),this.fire(new n.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const y=this._map;return y&&(y.off("move",this._update),y.off("move",this._onClose),y.off("preclick",this._onClose),y.off("click",this._onClose),y.off("remove",this.remove),y.off("mousemove",this._onMouseEvent),y.off("mouseup",this._onMouseEvent),y.off("drag",this._onMouseEvent),y._canvasContainer&&y._canvasContainer.classList.remove("mapboxgl-track-pointer"),y._removePopup(this),this._map=void 0),this.fire(new n.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(y){this._lngLat=n.LngLat.convert(y),this._pos=null,this._trackPointer=!1,this._update();const l=this._map;return l&&(l.on("move",this._update),l.off("mousemove",this._onMouseEvent),l._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const y=this._map;return y&&(y.off("move",this._update),y.on("mousemove",this._onMouseEvent),y.on("drag",this._onMouseEvent),y._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(y){return this.setDOMContent(n.window.document.createTextNode(y))}setHTML(y){const l=n.window.document.createDocumentFragment(),u=n.window.document.createElement("body");let w;for(u.innerHTML=y;w=u.firstChild,w;)l.appendChild(w);return this.setDOMContent(l)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(y){return this.options.maxWidth=y,this._update(),this}setDOMContent(y){let l=this._content;if(l)for(;l.hasChildNodes();)l.firstChild&&l.removeChild(l.firstChild);else l=this._content=V("div","mapboxgl-popup-content",this._container||void 0);if(l.appendChild(y),this.options.closeButton){const u=this._closeButton=V("button","mapboxgl-popup-close-button",l);u.type="button",u.setAttribute("aria-label","Close popup"),u.setAttribute("aria-hidden","true"),u.innerHTML="&#215;",u.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(y){return this._classList.add(y),this._updateClassList(),this}removeClassName(y){return this._classList.delete(y),this._updateClassList(),this}setOffset(y){return this.options.offset=y,this._update(),this}toggleClassName(y){let l;return this._classList.delete(y)?l=!1:(this._classList.add(y),l=!0),this._updateClassList(),l}_onMouseEvent(y){this._update(y.point)}_getAnchor(y){if(this.options.anchor)return this.options.anchor;const l=this._map,u=this._container,w=this._pos;if(!l||!u||!w)return"bottom";const R=u.offsetWidth,F=u.offsetHeight,se=w.x<R/2,he=w.x>l.transform.width-R/2;if(w.y+y<F)return se?"top-left":he?"top-right":"top";if(w.y>l.transform.height-F){if(se)return"bottom-left";if(he)return"bottom-right"}return se?"left":he?"right":"bottom"}_updateClassList(){const y=this._container;if(!y)return;const l=[...this._classList];l.push("mapboxgl-popup"),this._anchor&&l.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&l.push("mapboxgl-popup-track-pointer"),y.className=l.join(" ")}_update(y){const l=this._map,u=this._content;if(!l||!this._lngLat&&!this._trackPointer||!u)return;let w=this._container;if(w||(w=this._container=V("div","mapboxgl-popup",l.getContainer()),this._tip=V("div","mapboxgl-popup-tip",w),w.appendChild(u)),this.options.maxWidth&&w.style.maxWidth!==this.options.maxWidth&&(w.style.maxWidth=this.options.maxWidth),l.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=qp(this._lngLat,this._pos,l.transform)),!this._trackPointer||y){const R=this._pos=this._trackPointer&&y?y:l.project(this._lngLat),F=Oa(this.options.offset),se=this._anchor=this._getAnchor(F.y),he=Oa(this.options.offset,se),fe=R.add(he).round();l._requestDomTask(()=>{this._container&&se&&(this._container.style.transform=`${ch[se]} translate(${fe.x}px,${fe.y}px)`)})}if(!this._marker&&l._showingGlobe()){const R=n.isLngLatBehindGlobe(l.transform,this._lngLat)?0:1;this._setOpacity(R)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const y=this._container.querySelector(u0);y&&y.focus()}_onClose(){this.remove()}_setOpacity(y){this._container&&(this._container.style.opacity=`${y}`),this._content&&(this._content.style.pointerEvents=y?"auto":"none")}},Marker:kl,Style:G,LngLat:n.LngLat,LngLatBounds:n.LngLatBounds,Point:n.pointGeometry,MercatorCoordinate:n.MercatorCoordinate,FreeCameraOptions:xe,Evented:n.Evented,config:n.config,prewarm:function(){$i().acquire(yn)},clearPrewarmedResources:function(){const y=an;y&&(y.isPreloaded()&&y.numActive()===1?(y.release(yn),an=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return n.config.ACCESS_TOKEN},set accessToken(y){n.config.ACCESS_TOKEN=y},get baseApiUrl(){return n.config.API_URL},set baseApiUrl(y){n.config.API_URL=y},get workerCount(){return _n.workerCount},set workerCount(y){_n.workerCount=y},get maxParallelImageRequests(){return n.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(y){n.config.MAX_PARALLEL_IMAGE_REQUESTS=y},clearStorage(y){n.clearTileCache(y)},workerUrl:"",workerClass:null,setNow:n.exported.setNow,restoreNow:n.exported.restoreNow};return Id});var m=c;return m})})(NA);var q7=NA.exports;const hl=wd(q7);var Gm=Z7,X7=Object.prototype.hasOwnProperty;function Z7(){for(var e={},t=0;t<arguments.length;t++){var s=arguments[t];for(var a in s)X7.call(s,a)&&(e[a]=s[a])}return e}var jA={exports:{}};(function(e,t){(function(){var s={};e.exports=s,s.simpleFilter=function(a,c){return c.filter(function(h){return s.test(a,h)})},s.test=function(a,c){return s.match(a,c)!==null},s.match=function(a,c,h){h=h||{};var m=0,n=[],x=c.length,z=0,Y=0,O=h.pre||"",V=h.post||"",q=h.caseSensitive&&c||c.toLowerCase(),L;a=h.caseSensitive&&a||a.toLowerCase();for(var I=0;I<x;I++)L=c[I],q[I]===a[m]?(L=O+L+V,m+=1,Y+=1+Y):Y=0,z+=Y,n[n.length]=L;return m===a.length?(z=q===a?1/0:z,{rendered:n.join(""),score:z}):null},s.filter=function(a,c,h){return!c||c.length===0?[]:typeof a!="string"?c:(h=h||{},c.reduce(function(m,n,x,z){var Y=n;h.extract&&(Y=h.extract(n));var O=s.match(a,Y,h);return O!=null&&(m[m.length]={string:O.rendered,score:O.score,index:x,original:n}),m},[]).sort(function(m,n){var x=n.score-m.score;return x||m.index-n.index}))}})()})(jA);var K7=jA.exports,mc=function(e){return this.component=e,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};mc.prototype.show=function(){this.element.style.display="block"};mc.prototype.hide=function(){this.element.style.display="none"};mc.prototype.add=function(e){this.items.push(e)};mc.prototype.clear=function(){this.items=[],this.active=0};mc.prototype.isEmpty=function(){return!this.items.length};mc.prototype.isVisible=function(){return this.element.style.display==="block"};mc.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()};mc.prototype.drawItem=function(e,t){var s=document.createElement("li"),a=document.createElement("a");t&&(s.className+=" active"),a.innerHTML=e.string,s.appendChild(a),this.element.appendChild(s),s.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),s.addEventListener("mouseup",(function(){this.handleMouseUp.call(this,e)}).bind(this))};mc.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()};mc.prototype.move=function(e){this.active=e,this.draw()};mc.prototype.previous=function(){this.move(this.active===0?this.items.length-1:this.active-1)};mc.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)};mc.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()};var J7=mc,Q7=Gm,eR=K7,tR=J7,fl=function(e,t,s){return s=s||{},this.options=Q7({minLength:2,limit:5,filter:!0,hideOnBlur:!0},s),this.el=e,this.data=t||[],this.list=new tR(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",(function(a){this.handleKeyUp(a.keyCode)}).bind(this),!1),this.el.addEventListener("keydown",(function(a){this.handleKeyDown(a)}).bind(this)),this.el.addEventListener("focus",(function(){this.handleFocus()}).bind(this)),this.el.addEventListener("blur",(function(){this.handleBlur()}).bind(this)),this.el.addEventListener("paste",(function(a){this.handlePaste(a)}).bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};fl.prototype.handleKeyUp=function(e){e===40||e===38||e===27||e===13||e===9||this.handleInputChange(this.el.value)};fl.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}};fl.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()};fl.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var t=this;setTimeout(function(){t.handleInputChange(e.target.value)},100)}};fl.prototype.handleInputChange=function(e){if(this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates((function(t){for(var s=0;s<t.length&&(this.list.add(t[s]),s!==this.options.limit-1);s++);this.list.draw()}).bind(this))};fl.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1};fl.prototype.update=function(e){this.data=e,this.handleKeyUp()};fl.prototype.clear=function(){this.data=[],this.list.clear()};fl.prototype.normalize=function(e){return e=e.toLowerCase(),e};fl.prototype.match=function(e,t){return e.indexOf(t)>-1};fl.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e),document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.el.dispatchEvent(t)}else this.el.fireEvent("onchange")};fl.prototype.getCandidates=function(e){var t={pre:"<strong>",post:"</strong>",extract:(function(a){return this.getItemValue(a)}).bind(this)},s;this.options.filter?(s=eR.filter(this.query,this.data,t),s=s.map((function(a){return{original:a.original,string:this.render(a.original,a.string)}}).bind(this))):s=this.data.map((function(a){var c=this.render(a);return{original:a,string:c}}).bind(this)),e(s)};fl.prototype.getItemValue=function(e){return e};fl.prototype.render=function(e,t){if(t)return t;for(var s=e.original?this.getItemValue(e.original):this.getItemValue(e),a=this.normalize(s),c=a.lastIndexOf(this.query);c>-1;){var h=c+this.query.length;s=s.slice(0,c)+"<strong>"+s.slice(c,h)+"</strong>"+s.slice(h),c=a.slice(0,c).lastIndexOf(this.query)}return s};fl.prototype.renderError=function(e){this.list.drawError(e)};var iR=fl,UA=iR,nR=UA;typeof window<"u"&&(window.Suggestions=UA);var sR="Expected a function",b5=0/0,rR="[object Symbol]",oR=/^\s+|\s+$/g,aR=/^[-+]0x[0-9a-f]+$/i,lR=/^0b[01]+$/i,cR=/^0o[0-7]+$/i,dR=parseInt,hR=typeof la=="object"&&la&&la.Object===Object&&la,uR=typeof self=="object"&&self&&self.Object===Object&&self,pR=hR||uR||Function("return this")(),fR=Object.prototype,mR=fR.toString,gR=Math.max,_R=Math.min,K2=function(){return pR.Date.now()};function yR(e,t,s){var a,c,h,m,n,x,z=0,Y=!1,O=!1,V=!0;if(typeof e!="function")throw new TypeError(sR);t=w5(t)||0,Xw(s)&&(Y=!!s.leading,O="maxWait"in s,h=O?gR(w5(s.maxWait)||0,t):h,V="trailing"in s?!!s.trailing:V);function q(E){var ee=a,Q=c;return a=c=void 0,z=E,m=e.apply(Q,ee),m}function L(E){return z=E,n=setTimeout(M,t),Y?q(E):m}function I(E){var ee=E-x,Q=E-z,N=t-ee;return O?_R(N,h-Q):N}function H(E){var ee=E-x,Q=E-z;return x===void 0||ee>=t||ee<0||O&&Q>=h}function M(){var E=K2();if(H(E))return C(E);n=setTimeout(M,I(E))}function C(E){return n=void 0,V&&a?q(E):(a=c=void 0,m)}function A(){n!==void 0&&clearTimeout(n),z=0,a=x=c=n=void 0}function U(){return n===void 0?m:C(K2())}function $(){var E=K2(),ee=H(E);if(a=arguments,c=this,x=E,ee){if(n===void 0)return L(x);if(O)return n=setTimeout(M,t),q(x)}return n===void 0&&(n=setTimeout(M,t)),m}return $.cancel=A,$.flush=U,$}function Xw(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function vR(e){return!!e&&typeof e=="object"}function xR(e){return typeof e=="symbol"||vR(e)&&mR.call(e)==rR}function w5(e){if(typeof e=="number")return e;if(xR(e))return b5;if(Xw(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Xw(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(oR,"");var s=lR.test(e);return s||cR.test(e)?dR(e.slice(2),s?2:8):aR.test(e)?b5:+e}var bR=yR,OS={exports:{}},Sm=typeof Reflect=="object"?Reflect:null,S5=Sm&&typeof Sm.apply=="function"?Sm.apply:function(t,s,a){return Function.prototype.apply.call(t,s,a)},mv;Sm&&typeof Sm.ownKeys=="function"?mv=Sm.ownKeys:Object.getOwnPropertySymbols?mv=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:mv=function(t){return Object.getOwnPropertyNames(t)};function wR(e){console&&console.warn&&console.warn(e)}var $A=Number.isNaN||function(t){return t!==t};function Ir(){Ir.init.call(this)}OS.exports=Ir;OS.exports.once=ER;Ir.EventEmitter=Ir;Ir.prototype._events=void 0;Ir.prototype._eventsCount=0;Ir.prototype._maxListeners=void 0;var T5=10;function Ux(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ir,"defaultMaxListeners",{enumerable:!0,get:function(){return T5},set:function(e){if(typeof e!="number"||e<0||$A(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");T5=e}});Ir.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ir.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||$A(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function GA(e){return e._maxListeners===void 0?Ir.defaultMaxListeners:e._maxListeners}Ir.prototype.getMaxListeners=function(){return GA(this)};Ir.prototype.emit=function(t){for(var s=[],a=1;a<arguments.length;a++)s.push(arguments[a]);var c=t==="error",h=this._events;if(h!==void 0)c=c&&h.error===void 0;else if(!c)return!1;if(c){var m;if(s.length>0&&(m=s[0]),m instanceof Error)throw m;var n=new Error("Unhandled error."+(m?" ("+m.message+")":""));throw n.context=m,n}var x=h[t];if(x===void 0)return!1;if(typeof x=="function")S5(x,this,s);else for(var z=x.length,Y=qA(x,z),a=0;a<z;++a)S5(Y[a],this,s);return!0};function VA(e,t,s,a){var c,h,m;if(Ux(s),h=e._events,h===void 0?(h=e._events=Object.create(null),e._eventsCount=0):(h.newListener!==void 0&&(e.emit("newListener",t,s.listener?s.listener:s),h=e._events),m=h[t]),m===void 0)m=h[t]=s,++e._eventsCount;else if(typeof m=="function"?m=h[t]=a?[s,m]:[m,s]:a?m.unshift(s):m.push(s),c=GA(e),c>0&&m.length>c&&!m.warned){m.warned=!0;var n=new Error("Possible EventEmitter memory leak detected. "+m.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");n.name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=m.length,wR(n)}return e}Ir.prototype.addListener=function(t,s){return VA(this,t,s,!1)};Ir.prototype.on=Ir.prototype.addListener;Ir.prototype.prependListener=function(t,s){return VA(this,t,s,!0)};function SR(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function HA(e,t,s){var a={fired:!1,wrapFn:void 0,target:e,type:t,listener:s},c=SR.bind(a);return c.listener=s,a.wrapFn=c,c}Ir.prototype.once=function(t,s){return Ux(s),this.on(t,HA(this,t,s)),this};Ir.prototype.prependOnceListener=function(t,s){return Ux(s),this.prependListener(t,HA(this,t,s)),this};Ir.prototype.removeListener=function(t,s){var a,c,h,m,n;if(Ux(s),c=this._events,c===void 0)return this;if(a=c[t],a===void 0)return this;if(a===s||a.listener===s)--this._eventsCount===0?this._events=Object.create(null):(delete c[t],c.removeListener&&this.emit("removeListener",t,a.listener||s));else if(typeof a!="function"){for(h=-1,m=a.length-1;m>=0;m--)if(a[m]===s||a[m].listener===s){n=a[m].listener,h=m;break}if(h<0)return this;h===0?a.shift():TR(a,h),a.length===1&&(c[t]=a[0]),c.removeListener!==void 0&&this.emit("removeListener",t,n||s)}return this};Ir.prototype.off=Ir.prototype.removeListener;Ir.prototype.removeAllListeners=function(t){var s,a,c;if(a=this._events,a===void 0)return this;if(a.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):a[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete a[t]),this;if(arguments.length===0){var h=Object.keys(a),m;for(c=0;c<h.length;++c)m=h[c],m!=="removeListener"&&this.removeAllListeners(m);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(s=a[t],typeof s=="function")this.removeListener(t,s);else if(s!==void 0)for(c=s.length-1;c>=0;c--)this.removeListener(t,s[c]);return this};function WA(e,t,s){var a=e._events;if(a===void 0)return[];var c=a[t];return c===void 0?[]:typeof c=="function"?s?[c.listener||c]:[c]:s?CR(c):qA(c,c.length)}Ir.prototype.listeners=function(t){return WA(this,t,!0)};Ir.prototype.rawListeners=function(t){return WA(this,t,!1)};Ir.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):YA.call(e,t)};Ir.prototype.listenerCount=YA;function YA(e){var t=this._events;if(t!==void 0){var s=t[e];if(typeof s=="function")return 1;if(s!==void 0)return s.length}return 0}Ir.prototype.eventNames=function(){return this._eventsCount>0?mv(this._events):[]};function qA(e,t){for(var s=new Array(t),a=0;a<t;++a)s[a]=e[a];return s}function TR(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function CR(e){for(var t=new Array(e.length),s=0;s<t.length;++s)t[s]=e[s].listener||e[s];return t}function ER(e,t){return new Promise(function(s,a){function c(m){e.removeListener(t,h),a(m)}function h(){typeof e.removeListener=="function"&&e.removeListener("error",c),s([].slice.call(arguments))}XA(e,t,h,{once:!0}),t!=="error"&&MR(e,c,{once:!0})})}function MR(e,t,s){typeof e.on=="function"&&XA(e,"error",t,s)}function XA(e,t,s,a){if(typeof e.on=="function")a.once?e.once(t,s):e.on(t,s);else if(typeof e.addEventListener=="function")e.addEventListener(t,function c(h){a.once&&e.removeEventListener(t,c),s(h)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var AR=OS.exports,kR={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}};function PR(e){var t=e.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return t?{key:t[1],value:t[2]}:null}function DR(e){var t=e.match(/<?([^>]*)>(.*)/);if(!t)return null;var s=t[1],a=t[2].split(";"),c=null,h=a.reduce(function(m,n){var x=PR(n);return x?x.key==="rel"?(c||(c=x.value),m):(m[x.key]=x.value,m):m},{});return c?{url:s,rel:c,params:h}:null}function IR(e){return e?e.split(/,\s*</).reduce(function(t,s){var a=DR(s);if(!a)return t;var c=a.rel.split(/\s+/);return c.forEach(function(h){t[h]||(t[h]={url:a.url,params:a.params})}),t},{}):{}}var LR=IR,OR=LR;function RS(e,t){this.request=e,this.headers=t.headers,this.rawBody=t.body,this.statusCode=t.statusCode;try{this.body=JSON.parse(t.body||"{}")}catch{this.body=t.body}this.links=OR(this.headers.link)}RS.prototype.hasNextPage=function(){return!!this.links.next};RS.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null};var RR=RS,$x={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"},C5=$x;function BR(e){var t=e.type||C5.ERROR_HTTP,s;if(e.body)try{s=JSON.parse(e.body)}catch{s=e.body}else s=null;var a=e.message||null;a||(typeof s=="string"?a=s:s&&typeof s.message=="string"?a=s.message:t===C5.ERROR_REQUEST_ABORTED&&(a="Request aborted")),this.message=a,this.type=t,this.statusCode=e.statusCode||null,this.request=e.request,this.body=s}var zR=BR;function NR(e){var t=e.indexOf(":"),s=e.substring(0,t).trim().toLowerCase(),a=e.substring(t+1).trim();return{name:s,value:a}}function FR(e){var t={};return e&&e.trim().split(/[\r|\n]+/).forEach(function(s){var a=NR(s);t[a.name]=a.value}),t}var jR=FR,UR=RR,E5=zR,J2=$x,$R=jR,Vv={};function GR(e){var t=Vv[e.id];t&&(t.abort(),delete Vv[e.id])}function VR(e,t){return new UR(e,{body:t.response,headers:$R(t.getAllResponseHeaders()),statusCode:t.status})}function M5(e){var t=e.total,s=e.loaded,a=100*s/t;return{total:t,transferred:s,percent:a}}function ZA(e,t){return new Promise(function(s,a){t.onprogress=function(m){e.emitter.emit(J2.EVENT_PROGRESS_DOWNLOAD,M5(m))};var c=e.file;c&&(t.upload.onprogress=function(m){e.emitter.emit(J2.EVENT_PROGRESS_UPLOAD,M5(m))}),t.onerror=function(m){a(m)},t.onabort=function(){var m=new E5({request:e,type:J2.ERROR_REQUEST_ABORTED});a(m)},t.onload=function(){if(delete Vv[e.id],t.status<200||t.status>=400){var m=new E5({request:e,body:t.response,statusCode:t.status});a(m);return}s(t)};var h=e.body;typeof h=="string"?t.send(h):h?t.send(JSON.stringify(h)):c?t.send(c):t.send(),Vv[e.id]=t}).then(function(s){return VR(e,s)})}function KA(e,t){var s=e.url(t),a=new window.XMLHttpRequest;return a.open(e.method,s),Object.keys(e.headers).forEach(function(c){a.setRequestHeader(c,e.headers[c])}),a}function HR(e){return Promise.resolve().then(function(){var t=KA(e,e.client.accessToken);return ZA(e,t)})}var WR={browserAbort:GR,sendRequestXhr:ZA,browserSend:HR,createRequestXhr:KA},Hv={exports:{}};/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */Hv.exports;(function(e,t){(function(s){var a=t,c=e&&e.exports==a&&e,h=typeof la=="object"&&la;(h.global===h||h.window===h)&&(s=h);var m=function(L){this.message=L};m.prototype=new Error,m.prototype.name="InvalidCharacterError";var n=function(L){throw new m(L)},x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",z=/[\t\n\f\r ]/g,Y=function(L){L=String(L).replace(z,"");var I=L.length;I%4==0&&(L=L.replace(/==?$/,""),I=L.length),(I%4==1||/[^+a-zA-Z0-9/]/.test(L))&&n("Invalid character: the string to be decoded is not correctly encoded.");for(var H=0,M,C,A="",U=-1;++U<I;)C=x.indexOf(L.charAt(U)),M=H%4?M*64+C:C,H++%4&&(A+=String.fromCharCode(255&M>>(-2*H&6)));return A},O=function(L){L=String(L),/[^\0-\xFF]/.test(L)&&n("The string to be encoded contains characters outside of the Latin1 range.");for(var I=L.length%3,H="",M=-1,C,A,U,$,E=L.length-I;++M<E;)C=L.charCodeAt(M)<<16,A=L.charCodeAt(++M)<<8,U=L.charCodeAt(++M),$=C+A+U,H+=x.charAt($>>18&63)+x.charAt($>>12&63)+x.charAt($>>6&63)+x.charAt($&63);return I==2?(C=L.charCodeAt(M)<<8,A=L.charCodeAt(++M),$=C+A,H+=x.charAt($>>10)+x.charAt($>>4&63)+x.charAt($<<2&63)+"="):I==1&&($=L.charCodeAt(M),H+=x.charAt($>>2)+x.charAt($<<4&63)+"=="),H},V={encode:O,decode:Y,version:"0.1.0"};if(a&&!a.nodeType)if(c)c.exports=V;else for(var q in V)V.hasOwnProperty(q)&&(a[q]=V[q]);else s.base64=V})(la)})(Hv,Hv.exports);var YR=Hv.exports,qR=YR,Q2={};function XR(e){if(Q2[e])return Q2[e];var t=e.split("."),s=t[0],a=t[1];if(!a)throw new Error("Invalid token");var c=ZR(a),h={usage:s,user:c.u};return Of(c,"a")&&(h.authorization=c.a),Of(c,"exp")&&(h.expires=c.exp*1e3),Of(c,"iat")&&(h.created=c.iat*1e3),Of(c,"scopes")&&(h.scopes=c.scopes),Of(c,"client")&&(h.client=c.client),Of(c,"ll")&&(h.lastLogin=c.ll),Of(c,"iu")&&(h.impersonator=c.iu),Q2[e]=h,h}function ZR(e){try{return JSON.parse(qR.decode(e))}catch{throw new Error("Invalid token")}}function Of(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var JA=XR,QA={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function c(x,z,Y){this.fn=x,this.context=z,this.once=Y||!1}function h(x,z,Y,O,V){if(typeof Y!="function")throw new TypeError("The listener must be a function");var q=new c(Y,O||x,V),L=s?s+z:z;return x._events[L]?x._events[L].fn?x._events[L]=[x._events[L],q]:x._events[L].push(q):(x._events[L]=q,x._eventsCount++),x}function m(x,z){--x._eventsCount===0?x._events=new a:delete x._events[z]}function n(){this._events=new a,this._eventsCount=0}n.prototype.eventNames=function(){var z=[],Y,O;if(this._eventsCount===0)return z;for(O in Y=this._events)t.call(Y,O)&&z.push(s?O.slice(1):O);return Object.getOwnPropertySymbols?z.concat(Object.getOwnPropertySymbols(Y)):z},n.prototype.listeners=function(z){var Y=s?s+z:z,O=this._events[Y];if(!O)return[];if(O.fn)return[O.fn];for(var V=0,q=O.length,L=new Array(q);V<q;V++)L[V]=O[V].fn;return L},n.prototype.listenerCount=function(z){var Y=s?s+z:z,O=this._events[Y];return O?O.fn?1:O.length:0},n.prototype.emit=function(z,Y,O,V,q,L){var I=s?s+z:z;if(!this._events[I])return!1;var H=this._events[I],M=arguments.length,C,A;if(H.fn){switch(H.once&&this.removeListener(z,H.fn,void 0,!0),M){case 1:return H.fn.call(H.context),!0;case 2:return H.fn.call(H.context,Y),!0;case 3:return H.fn.call(H.context,Y,O),!0;case 4:return H.fn.call(H.context,Y,O,V),!0;case 5:return H.fn.call(H.context,Y,O,V,q),!0;case 6:return H.fn.call(H.context,Y,O,V,q,L),!0}for(A=1,C=new Array(M-1);A<M;A++)C[A-1]=arguments[A];H.fn.apply(H.context,C)}else{var U=H.length,$;for(A=0;A<U;A++)switch(H[A].once&&this.removeListener(z,H[A].fn,void 0,!0),M){case 1:H[A].fn.call(H[A].context);break;case 2:H[A].fn.call(H[A].context,Y);break;case 3:H[A].fn.call(H[A].context,Y,O);break;case 4:H[A].fn.call(H[A].context,Y,O,V);break;default:if(!C)for($=1,C=new Array(M-1);$<M;$++)C[$-1]=arguments[$];H[A].fn.apply(H[A].context,C)}}return!0},n.prototype.on=function(z,Y,O){return h(this,z,Y,O,!1)},n.prototype.once=function(z,Y,O){return h(this,z,Y,O,!0)},n.prototype.removeListener=function(z,Y,O,V){var q=s?s+z:z;if(!this._events[q])return this;if(!Y)return m(this,q),this;var L=this._events[q];if(L.fn)L.fn===Y&&(!V||L.once)&&(!O||L.context===O)&&m(this,q);else{for(var I=0,H=[],M=L.length;I<M;I++)(L[I].fn!==Y||V&&!L[I].once||O&&L[I].context!==O)&&H.push(L[I]);H.length?this._events[q]=H.length===1?H[0]:H:m(this,q)}return this},n.prototype.removeAllListeners=function(z){var Y;return z?(Y=s?s+z:z,this._events[Y]&&m(this,Y)):(this._events=new a,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=s,n.EventEmitter=n,e.exports=n})(QA);var KR=QA.exports;function JR(e){return e.map(encodeURIComponent).join(",")}function e8(e){return Array.isArray(e)?JR(e):encodeURIComponent(String(e))}function t8(e,t,s){if(s===!1||s===null)return e;var a=/\?/.test(e)?"&":"?",c=encodeURIComponent(t);return s!==void 0&&s!==""&&s!==!0&&(c+="="+e8(s)),""+e+a+c}function QR(e,t){if(!t)return e;var s=e;return Object.keys(t).forEach(function(a){var c=t[a];c!==void 0&&(Array.isArray(c)&&(c=c.filter(function(h){return h!=null}).join(",")),s=t8(s,a,c))}),s}function eB(e,t){if(!t||e.slice(0,4)==="http")return e;var s=e[0]==="/"?"":"/";return""+t.replace(/\/$/,"")+s+e}function tB(e,t){return t?e.replace(/\/:([a-zA-Z0-9]+)/g,function(s,a){var c=t[a];if(c===void 0)throw new Error("Unspecified route parameter "+a);var h=e8(c);return"/"+h}):e}var iB={appendQueryObject:QR,appendQueryParam:t8,prependOrigin:eB,interpolateRouteParams:tB},nB=JA,BS=Gm,sB=KR,ev=iB,A5=$x,rB=1;function Ip(e,t){if(!e)throw new Error("MapiRequest requires a client");if(!t||!t.path||!t.method)throw new Error("MapiRequest requires an options object with path and method properties");var s={};t.body&&(s["content-type"]="application/json");var a=BS(s,t.headers),c=Object.keys(a).reduce(function(h,m){return h[m.toLowerCase()]=a[m],h},{});this.id=rB++,this._options=t,this.emitter=new sB,this.client=e,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=t.path,this.method=t.method,this.origin=t.origin||e.origin,this.query=t.query||{},this.params=t.params||{},this.body=t.body||null,this.file=t.file||null,this.encoding=t.encoding||"utf8",this.sendFileAs=t.sendFileAs||null,this.headers=c}Ip.prototype.url=function(t){var s=ev.prependOrigin(this.path,this.origin);s=ev.appendQueryObject(s,this.query);var a=this.params,c=t??this.client.accessToken;if(c){s=ev.appendQueryParam(s,"access_token",c);var h=nB(c).user;a=BS({ownerId:h},a)}return s=ev.interpolateRouteParams(s,a),s};Ip.prototype.send=function(){var t=this;if(t.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return t.sent=!0,t.client.sendRequest(t).then(function(s){return t.response=s,t.emitter.emit(A5.EVENT_RESPONSE,s),s},function(s){throw t.error=s,t.emitter.emit(A5.EVENT_ERROR,s),s})};Ip.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),!(this.response||this.error||this.aborted)&&(this.aborted=!0,this.client.abortRequest(this))};Ip.prototype.eachPage=function(t){var s=this;function a(m){function n(){delete s._nextPageRequest;var x=m.nextPage();x&&(s._nextPageRequest=x,h(x))}t(null,m,n)}function c(m){t(m,null,function(){})}function h(m){m.send().then(a,c)}h(this)};Ip.prototype.clone=function(){return this._extend()};Ip.prototype._extend=function(t){var s=BS(this._options,t);return new Ip(this.client,s)};var oB=Ip,aB=JA,lB=oB,cB=$x;function i8(e){if(!e||!e.accessToken)throw new Error("Cannot create a client without an access token");aB(e.accessToken),this.accessToken=e.accessToken,this.origin=e.origin||cB.API_ORIGIN}i8.prototype.createRequest=function(t){return new lB(this,t)};var n8=i8,s8=WR,r8=n8;function Om(e){r8.call(this,e)}Om.prototype=Object.create(r8.prototype);Om.prototype.constructor=Om;Om.prototype.sendRequest=s8.browserSend;Om.prototype.abortRequest=s8.browserAbort;function dB(e){return new Om(e)}var o8=dB,hB=o8,uB=hB,pB=Object.prototype.toString,fB=function(e){var t;return pB.call(e)==="[object Object]"&&(t=Object.getPrototypeOf(e),t===null||t===Object.getPrototypeOf({}))},mB=fB,gB=Gm,a8="value",ew=`
  `,Yr={};Yr.assert=function(e,t){return t=t||{},function(s){var a=Lp(e,s);if(a){var c=zS(a,t);throw t.apiName&&(c=t.apiName+": "+c),new Error(c)}}};Yr.shape=function(t){var s=xB(t);return function(c){var h=Lp(Yr.plainObject,c);if(h)return h;for(var m,n,x=[],z=0;z<s.length;z++)m=s[z].key,n=s[z].value,h=Lp(n,c[m]),h&&x.push([m].concat(h));return x.length<2?x[0]:function(Y){x=x.map(function(q){var L=q[0],I=zS(q,Y).split(`
`).join(ew);return"- "+L+": "+I});var O=Y.path.join("."),V=O===a8?"":" of "+O;return"The following properties"+V+" have invalid values:"+ew+x.join(ew)}}};Yr.strictShape=function(t){var s=Yr.shape(t);return function(c){var h=s(c);if(h)return h;var m=Object.keys(c).reduce(function(n,x){return t[x]===void 0&&n.push(x),n},[]);if(m.length!==0)return function(){return"The following keys are invalid: "+m.join(", ")}}};Yr.arrayOf=function(t){return l8(t)};Yr.tuple=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return l8(t)};function l8(e){var t=Array.isArray(e),s=function(a){return t?e[a]:e};return function(c){var h=Lp(Yr.plainArray,c);if(h)return h;if(t&&c.length!==e.length)return"an array with "+e.length+" items";for(var m=0;m<c.length;m++)if(h=Lp(s(m),c[m]),h)return[m].concat(h)}}Yr.required=function(t){function s(a){return a==null?function(c){return c8(c,d8(c.path)?"cannot be undefined/null.":"is required.")}:t.apply(this,arguments)}return s.__required=!0,s};Yr.oneOfType=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(a){var c=t.map(function(h){return Lp(h,a)}).filter(Boolean);if(c.length===t.length)return c.every(function(h){return h.length===1&&typeof h[0]=="string"})?_B(c.map(function(h){return h[0]})):c.reduce(function(h,m){return m.length>h.length?m:h})}};Yr.equal=function(t){return function(a){if(a!==t)return JSON.stringify(t)}};Yr.oneOf=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),s=t.map(function(a){return Yr.equal(a)});return Yr.oneOfType.apply(this,s)};Yr.range=function(t){var s=t[0],a=t[1];return function(h){var m=Lp(Yr.number,h);if(m||h<s||h>a)return"number between "+s+" & "+a+" (inclusive)"}};Yr.any=function(){};Yr.boolean=function(t){if(typeof t!="boolean")return"boolean"};Yr.number=function(t){if(typeof t!="number")return"number"};Yr.plainArray=function(t){if(!Array.isArray(t))return"array"};Yr.plainObject=function(t){if(!mB(t))return"object"};Yr.string=function(t){if(typeof t!="string")return"string"};Yr.func=function(t){if(typeof t!="function")return"function"};function Lp(e,t){if(!(t==null&&!e.hasOwnProperty("__required"))){var s=e(t);if(s)return Array.isArray(s)?s:[s]}}function zS(e,t){var s=e.length,a=e[s-1],c=e.slice(0,s-1);return c.length===0&&(c=[a8]),t=gB(t,{path:c}),typeof a=="function"?a(t):c8(t,yB(a))}function _B(e){return e.length<2?e[0]:e.length===2?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e.slice(-1)}function yB(e){return"must be "+vB(e)+"."}function vB(e){return/^an? /.test(e)?e:/^[aeiou]/i.test(e)?"an "+e:/^[a-z]/i.test(e)?"a "+e:e}function c8(e,t){var s=d8(e.path),a=e.path.join(".")+" "+t,c=s?"Item at position ":"";return c+a}function d8(e){return typeof e[e.length-1]=="number"||typeof e[0]=="number"}function xB(e){return Object.keys(e||{}).map(function(t){return{key:t,value:e[t]}})}Yr.validate=Lp;Yr.processMessage=zS;var bB=Yr,wB=Gm,Tm=bB;function SB(e){if(typeof window<"u")return e instanceof la.Blob||e instanceof la.ArrayBuffer?void 0:"Blob or ArrayBuffer";if(!(typeof e=="string"||e.pipe!==void 0))return"Filename or Readable stream"}function TB(e,t){return Tm.assert(Tm.strictShape(e),t)}function CB(e){var t="date";if(typeof e=="boolean")return t;try{var s=new Date(e);if(s.getTime&&isNaN(s.getTime()))return t}catch{return t}}function EB(e){return Tm.tuple(Tm.number,Tm.number)(e)}var MB=wB(Tm,{file:SB,date:CB,coordinates:EB,assertShape:TB});function AB(e,t){var s=function(a,c){return t.indexOf(a)!==-1&&c!==void 0};return typeof t=="function"&&(s=t),Object.keys(e).filter(function(a){return s(a,e[a])}).reduce(function(a,c){return a[c]=e[c],a},{})}var kB=AB;function PB(e,t){return Object.keys(e).reduce(function(s,a){return s[a]=t(a,e[a]),s},{})}var DB=PB,IB=DB;function LB(e){return IB(e,function(t,s){return typeof s=="boolean"?JSON.stringify(s):s})}var OB=LB,RB=n8,BB=o8;function zB(e){return function(t){var s;RB.prototype.isPrototypeOf(t)?s=t:s=BB(t);var a=Object.create(e);return a.client=s,a}}var NB=zB,h8=Gm,Ws=MB,Wv=kB,u8=OB,FB=NB,NS={},p8=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];NS.forwardGeocode=function(e){Ws.assertShape({query:Ws.required(Ws.string),mode:Ws.oneOf("mapbox.places","mapbox.places-permanent"),countries:Ws.arrayOf(Ws.string),proximity:Ws.oneOf(Ws.coordinates,"ip"),types:Ws.arrayOf(Ws.oneOf(p8)),autocomplete:Ws.boolean,bbox:Ws.arrayOf(Ws.number),limit:Ws.number,language:Ws.arrayOf(Ws.string),routing:Ws.boolean,fuzzyMatch:Ws.boolean,worldview:Ws.string})(e),e.mode=e.mode||"mapbox.places";var t=u8(h8({country:e.countries},Wv(e,["proximity","types","autocomplete","bbox","limit","language","routing","fuzzyMatch","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:Wv(e,["mode","query"]),query:t})};NS.reverseGeocode=function(e){Ws.assertShape({query:Ws.required(Ws.coordinates),mode:Ws.oneOf("mapbox.places","mapbox.places-permanent"),countries:Ws.arrayOf(Ws.string),types:Ws.arrayOf(Ws.oneOf(p8)),bbox:Ws.arrayOf(Ws.number),limit:Ws.number,language:Ws.arrayOf(Ws.string),reverseMode:Ws.oneOf("distance","score"),routing:Ws.boolean,worldview:Ws.string})(e),e.mode=e.mode||"mapbox.places";var t=u8(h8({country:e.countries},Wv(e,["country","types","bbox","limit","language","reverseMode","routing","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:Wv(e,["mode","query"]),query:t})};var jB=FB(NS);let UB="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",f8=e=>crypto.getRandomValues(new Uint8Array(e)),m8=(e,t,s)=>{let a=(2<<Math.log(e.length-1)/Math.LN2)-1,c=-~(1.6*a*t/e.length);return(h=t)=>{let m="";for(;;){let n=s(c),x=c;for(;x--;)if(m+=e[n[x]&a]||"",m.length===h)return m}}},$B=(e,t=21)=>m8(e,t,f8),GB=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,s)=>(s&=63,s<36?t+=s.toString(36):s<62?t+=(s-26).toString(36).toUpperCase():s>62?t+="-":t+="_",t),"");const VB=Object.freeze(Object.defineProperty({__proto__:null,customAlphabet:$B,customRandom:m8,nanoid:GB,random:f8,urlAlphabet:UB},Symbol.toStringTag,{value:"Module"})),HB=Y5(VB);var WB=HB.nanoid;function g8(e){this.origin=e.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=e.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=e,this.send=this.send.bind(this),this.countries=e.countries?e.countries.split(","):null,this.types=e.types?e.types.split(","):null,this.bbox=e.bbox?e.bbox:null,this.language=e.language?e.language.split(","):null,this.limit=e.limit?+e.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(e),this.eventQueue=new Array,this.flushInterval=e.flushInterval||1e3,this.maxQueueSize=e.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}g8.prototype={select:function(e,t){var s=this.getSelectedIndex(e,t),a=this.getEventPayload("search.select",t);if(a.resultIndex=s,a.resultPlaceName=e.place_name,a.resultId=e.id,!(s===this.lastSentIndex&&a.queryString===this.lastSentInput||s==-1)&&(this.lastSentIndex=s,this.lastSentInput=a.queryString,!!a.queryString))return this.push(a)},start:function(e){var t=this.getEventPayload("search.start",e);if(t.queryString)return this.push(t)},keyevent:function(e,t){if(e.key&&!(e.metaKey||[9,27,37,39,13,38,40].indexOf(e.keyCode)!==-1)){var s=this.getEventPayload("search.keystroke",t);if(s.lastAction=e.key,!!s.queryString)return this.push(s)}},send:function(e,t){if(!this.enableEventLogging)return t?t():void 0;var s=this.getRequestOptions(e);this.request(s,(function(a){if(a)return this.handleError(a,t);if(t)return t()}).bind(this))},getRequestOptions:function(e){Array.isArray(e)||(e=[e]);var t={method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return t},getEventPayload:function(e,t){var s;t.options.proximity?typeof t.options.proximity=="object"?s=[t.options.proximity.longitude,t.options.proximity.latitude]:t.options.proximity==="ip"?s=[999,999]:s=t.options.proximity:s=null;var a=t._map?t._map.getZoom():void 0,c={event:e,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",autocomplete:t.options.autocomplete,fuzzyMatch:t.options.fuzzyMatch,proximity:s,limit:t.options.limit,routing:t.options.routing,worldview:t.options.worldview,mapZoom:a,keyboardLocale:this.locale};return e==="search.select"?c.queryString=t.inputString:e!="search.select"&&t._inputEl?c.queryString=t._inputEl.value:c.queryString=t.inputString,c},request:function(e,t){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(this.readyState==4)return this.status==204?t(null):t(this.statusText)},s.open(e.method,e.host+"/"+e.path,!0);for(var a in e.headers){var c=e.headers[a];s.setRequestHeader(a,c)}s.send(e.body)},handleError:function(e,t){if(t)return t(e)},generateSessionID:function(){return WB()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(e,t){if(t._typeahead){var s=t._typeahead.data,a=e.id,c=s.map(function(m){return m.id}),h=c.indexOf(a);return h}},shouldEnableLogging:function(e){return!(e.enableEventLogging===!1||e.origin&&e.origin!=="https://api.mapbox.com"||e.localGeocoder||e.filter)},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(e,t){this.eventQueue.push(e),(this.eventQueue.length>=this.maxQueueSize||t)&&this.flush()},remove:function(){this.flush()}};var YB=g8,qB={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو",ru:"Поиск"},XB={placeholder:qB},_8={exports:{}};(function(e){(function(t,s,a){e.exports?e.exports=a():t[s]=a()})(la,"subtag",function(){var t="",s=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function a(x){return x.match(s)||[]}function c(x){return a(x).filter(function(z,Y){return z&&Y})}function h(x){return x=a(x),{language:x[1]||t,extlang:x[2]||t,script:x[3]||t,region:x[4]||t}}function m(x,z,Y){Object.defineProperty(x,z,{value:Y,enumerable:!0})}function n(x,z,Y){function O(V){return a(V)[x]||t}m(O,"pattern",z),m(h,Y,O)}return n(1,/^[a-zA-Z]{2,3}$/,"language"),n(2,/^[a-zA-Z]{3}$/,"extlang"),n(3,/^[a-zA-Z]{4}$/,"script"),n(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),m(h,"split",c),h})})(_8);var ZB=_8.exports;function y8(){}y8.prototype={isSupport:function(){return!!window.navigator.geolocation},getCurrentPosition:function(){const e={enableHighAccuracy:!0};return new Promise(function(t,s){window.navigator.geolocation.getCurrentPosition(t,s,e)})}};var KB=y8;function JB(e,t){const s=v8(e),a=["address","street","place","country"];var c;if(typeof t=="function")return t(s);const h=a.indexOf(t);return h===-1?c=a:c=a.slice(h),c.reduce(function(m,n){return s[n]?(m!==""&&(m=m+", "),m+s[n]):m},"")}function v8(e){const t=e.address||"",s=e.text||"",a=e.place_name||"",h={address:a.split(",")[0],houseNumber:t,street:s,placeName:a};return e.context.forEach(function(m){const n=m.id.split(".")[0];h[n]=m.text}),h}const QB=/^[ ]*(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)[ ]*$/;var ez={transformFeatureToGeolocationText:JB,getAddressInfo:v8,REVERSE_GEOCODE_COORD_RGX:QB},tz=nR,iz=bR,Bf=Gm,nz=AR.EventEmitter,k5=kR,tw=uB,iw=jB,sz=YB,rz=XB,oz=ZB,az=KB,P5=ez;const dp={FORWARD:0,LOCAL:1,REVERSE:2};function lz(){var e=document.createElement("div");return e.className="mapboxgl-ctrl-geocoder--powered-by",e.innerHTML='<a href="https://www.mapbox.com/search-service" target="_blank">Powered by Mapbox</a>',e}function x8(e){this._eventEmitter=new nz,this.options=Bf({},this.options,e),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geolocation=new az}x8.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,flipCoordinates:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,enableGeolocation:!1,addressAccuracy:"street",getItemValue:function(e){return e.place_name},render:function(e){var t=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+t[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+t.splice(1,t.length).join(",")+"</div></div>"}},addTo:function(e){function t(s,a){if(!document.body.contains(a))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const c=s.onAdd();a.appendChild(c)}if(e._controlContainer)e.addControl(this);else if(e instanceof HTMLElement)t(this,e);else if(typeof e=="string"){const s=document.querySelectorAll(e);if(s.length===0)throw new Error("Element ",e,"not found.");if(s.length>1)throw new Error("Geocoder can only be added to a single html element");t(this,s[0])}else throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element")},onAdd:function(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=iw(tw({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new sz(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this),this._geolocateUser=this._geolocateUser.bind(this);var t=this.container=document.createElement("div");t.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var s=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",iz(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",(function(z){this.eventManager.keyevent(z,this)}).bind(this));var a=document.createElement("div");a.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var c=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');if(this._clearEl.appendChild(c),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),a.appendChild(this._clearEl),a.appendChild(this._loadingEl),t.appendChild(s),t.appendChild(this._inputEl),t.appendChild(a),this.options.enableGeolocation&&this.geolocation.isSupport()){this._geolocateEl=document.createElement("button"),this._geolocateEl.setAttribute("aria-label","Geolocate"),this._geolocateEl.addEventListener("click",this._geolocateUser),this._geolocateEl.className="mapboxgl-ctrl-geocoder--button";var h=this.createIcon("geolocate",'<path d="M12.999 3.677L2.042 8.269c-.962.403-.747 1.823.29 1.912l5.032.431.431 5.033c.089 1.037 1.509 1.252 1.912.29l4.592-10.957c.345-.822-.477-1.644-1.299-1.299z" fill="#4264fb"/>');this._geolocateEl.appendChild(h),a.appendChild(this._geolocateEl),this._showGeolocateButton()}var m=this._typeahead=new tz(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit});this.setRenderFunction(this.options.render),m.getItemValue=this.options.getItemValue;var n=m.list.draw,x=this._footerNode=lz();return m.list.draw=function(){n.call(this),x.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),x.addEventListener("mouseup",(function(){this.selectingListItem=!1}).bind(this)),this.element.appendChild(x)},this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),t},_geolocateUser:function(){this._hideGeolocateButton(),this._showLoadingIcon(),this.geolocation.getCurrentPosition().then((function(e){this._hideLoadingIcon();const t={geometry:{type:"Point",coordinates:[e.coords.longitude,e.coords.latitude]}};this._handleMarker(t),this._fly(t),this._typeahead.clear(),this._typeahead.selected=!0,this.lastSelected=JSON.stringify(t),this._showClearButton(),this.fresh=!1;const s={limit:1,language:[this.options.language],query:t.geometry.coordinates,types:["address"]};if(this.options.localGeocoderOnly){const a=t.geometry.coordinates[0]+","+t.geometry.coordinates[1];this._setInputValue(a),this._eventEmitter.emit("result",{result:t})}else this.geocoderService.reverseGeocode(s).send().then((function(a){const c=a.body.features[0];if(c){const h=P5.transformFeatureToGeolocationText(c,this.options.addressAccuracy);this._setInputValue(h),c.user_coordinates=t.geometry.coordinates,this._eventEmitter.emit("result",{result:c})}else this._eventEmitter.emit("result",{result:{user_coordinates:t.geometry.coordinates}})}).bind(this))}).bind(this)).catch((function(e){e.code===1?this._renderUserDeniedGeolocationError():this._renderLocationError(),this._hideLoadingIcon(),this._showGeolocateButton(),this._hideAttribution()}).bind(this))},createIcon:function(e,t){var s=document.createElementNS("http://www.w3.org/2000/svg","svg");return s.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+e),s.setAttribute("viewBox","0 0 18 18"),s.setAttribute("xml:space","preserve"),s.setAttribute("width",18),s.setAttribute("height",18),s.innerHTML=t,s},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_setInputValue:function(e){this._inputEl.value=e,setTimeout((function(){this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0)}).bind(this),1)},_onPaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");t.length>=this.options.minLength&&this._geocode(t)},_onKeyDown:function(e){var t=27,s=9;if(e.keyCode===t&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();var a=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target,c=a?a.value:"";if(!c)return this.fresh=!0,e.keyCode!==s&&this.clear(e),this._showGeolocateButton(),this._hideClearButton();this._hideGeolocateButton(),!(e.metaKey||[s,t,37,39,13,38,40].indexOf(e.keyCode)!==-1)&&a.value.length>=this.options.minLength&&this._geocode(a.value)},_showButton:function(){this._typeahead.selected&&this._showClearButton()},_hideButton:function(){this._typeahead.selected&&this._hideClearButton()},_showClearButton:function(){this._clearEl.style.display="block"},_hideClearButton:function(){this._clearEl.style.display="none"},_showGeolocateButton:function(){this._geolocateEl&&this.geolocation.isSupport()&&(this._geolocateEl.style.display="block")},_hideGeolocateButton:function(){this._geolocateEl&&(this._geolocateEl.style.display="none")},_showLoadingIcon:function(){this._loadingEl.style.display="block"},_hideLoadingIcon:function(){this._loadingEl.style.display="none"},_showAttribution:function(){this._footerNode.style.display="block"},_hideAttribution:function(){this._footerNode.style.display="none"},_onBlur:function(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()},_onChange:function(){var e=this._typeahead.selected;e&&JSON.stringify(e)!==this.lastSelected&&(this._hideClearButton(),this.options.flyTo&&this._fly(e),this.options.marker&&this._mapboxgl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._eventEmitter.emit("result",{result:e}),this.eventManager.select(e,this))},_fly:function(e){var t;if(e.properties&&k5[e.properties.short_code])t=Bf({},this.options.flyTo),this._map&&this._map.fitBounds(k5[e.properties.short_code].bbox,t);else if(e.bbox){var s=e.bbox;t=Bf({},this.options.flyTo),this._map&&this._map.fitBounds([[s[0],s[1]],[s[2],s[3]]],t)}else{var a={zoom:this.options.zoom};t=Bf({},a,this.options.flyTo),e.center?t.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(t.center=e.geometry.coordinates),this._map&&this._map.flyTo(t)}},_requestType:function(e,t){var s;return e.localGeocoderOnly?s=dp.LOCAL:e.reverseGeocode&&P5.REVERSE_GEOCODE_COORD_RGX.test(t)?s=dp.REVERSE:s=dp.FORWARD,s},_setupConfig:function(e,t){const s=["bbox","limit","proximity","countries","types","language","reverseMode","mode","autocomplete","fuzzyMatch","routing","worldview"],a=/[\s,]+/;var c=this,h=s.reduce(function(n,x){if(c.options[x]===void 0||c.options[x]===null)return n;["countries","types","language"].indexOf(x)>-1?n[x]=c.options[x].split(a):n[x]=c.options[x];const z=typeof c.options[x].longitude=="number"&&typeof c.options[x].latitude=="number";if(x==="proximity"&&z){const Y=c.options[x].longitude,O=c.options[x].latitude;n[x]=[Y,O]}return n},{});switch(e){case dp.REVERSE:{var m=t.split(a).map(function(n){return parseFloat(n,10)});c.options.flipCoordinates||m.reverse(),h.types&&h.types[0],h=Bf(h,{query:m,limit:1}),["proximity","autocomplete","fuzzyMatch","bbox"].forEach(function(n){n in h&&delete h[n]})}break;case dp.FORWARD:{const n=t.trim();/^(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)?$/.test(n)&&(t=t.replace(/,/g," ")),h=Bf(h,{query:t})}break}return h},_geocode:function(e){this.inputString=e,this._showLoadingIcon(),this._eventEmitter.emit("loading",{query:e});const t=this._requestType(this.options,e),s=this._setupConfig(t,e);var a;switch(t){case dp.LOCAL:a=Promise.resolve();break;case dp.FORWARD:a=this.geocoderService.forwardGeocode(s).send();break;case dp.REVERSE:a=this.geocoderService.reverseGeocode(s).send();break}var c=this.options.localGeocoder?this.options.localGeocoder(e)||[]:[],h=[],m=null;return a.catch((function(n){m=n}).bind(this)).then((function(n){this._hideLoadingIcon();var x={};return n?n.statusCode=="200"&&(x=n.body,x.request=n.request,x.headers=n.headers):x={type:"FeatureCollection",features:[]},x.config=s,this.fresh&&(this.eventManager.start(this),this.fresh=!1),x.features=x.features?c.concat(x.features):c,this.options.externalGeocoder?(h=this.options.externalGeocoder(e,x.features)||Promise.resolve([]),h.then(function(z){return x.features=x.features?z.concat(x.features):z,x},function(){return x})):x}).bind(this)).then((function(n){if(m)throw m;this.options.filter&&n.features.length&&(n.features=n.features.filter(this.options.filter)),n.features.length?(this._showClearButton(),this._hideGeolocateButton(),this._showAttribution(),this._eventEmitter.emit("results",n),this._typeahead.update(n.features)):(this._hideClearButton(),this._hideAttribution(),this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",n))}).bind(this)).catch((function(n){this._hideLoadingIcon(),this._hideAttribution(),c.length&&this.options.localGeocoder||h.length&&this.options.externalGeocoder?(this._showClearButton(),this._hideGeolocateButton(),this._typeahead.update(c)):(this._hideClearButton(),this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:c}),this._eventEmitter.emit("error",{error:n})}).bind(this)),a},_clear:function(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._hideClearButton(),this._showGeolocateButton(),this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(e){this._clear(e),this._inputEl.focus()},_clearOnBlur:function(e){var t=this;e.relatedTarget&&t._clear(e)},_onQueryResult:function(e){var t=e.body;if(t.features.length){var s=t.features[0];this._typeahead.selected=s,this._inputEl.value=s.place_name,this._onChange()}},_updateProximity:function(){if(!(!this._map||!this.options.trackProximity))if(this._map.getZoom()>9){var e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat},!1)}else this.setProximity(null,!1)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(e){return this._geocode(e).then(this._onQueryResult),this},_renderError:function(){var e="<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>";this._renderMessage(e)},_renderLocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>A location error has occurred</div>";this._renderMessage(e)},_renderNoResults:function(){var e="<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>";this._renderMessage(e)},_renderUserDeniedGeolocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>Geolocation permission denied</div>";this._renderMessage(e)},_renderMessage:function(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var e=this.options.language.split(",")[0],t=oz.language(e),s=rz.placeholder[t];if(s)return s}return"Search"},setInput:function(e){return this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&this._geocode(e),this},setProximity:function(e,t=!0){return this.options.proximity=e,t&&(this.options.trackProximity=!1),this},getProximity:function(){return this.options.proximity},setRenderFunction:function(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(e){var t=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=e||this.options.language||t,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(e){return this.options.zoom=e,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(e){return this.options.flyTo=e,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(e){return this.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(e){return this.options.bbox=e,this},getCountries:function(){return this.options.countries},setCountries:function(e){return this.options.countries=e,this},getTypes:function(){return this.options.types},setTypes:function(e){return this.options.types=e,this},getMinLength:function(){return this.options.minLength},setMinLength:function(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this},getLimit:function(){return this.options.limit},setLimit:function(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this},getFilter:function(){return this.options.filter},setFilter:function(e){return this.options.filter=e,this},setOrigin:function(e){return this.options.origin=e,this.geocoderService=iw(tw({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},setAccessToken:function(e){return this.options.accessToken=e,this.geocoderService=iw(tw({accessToken:this.options.accessToken,origin:this.options.origin})),this},setAutocomplete:function(e){return this.options.autocomplete=e,this},getAutocomplete:function(){return this.options.autocomplete},setFuzzyMatch:function(e){return this.options.fuzzyMatch=e,this},getFuzzyMatch:function(){return this.options.fuzzyMatch},setRouting:function(e){return this.options.routing=e,this},getRouting:function(){return this.options.routing},setWorldview:function(e){return this.options.worldview=e,this},getWorldview:function(){return this.options.worldview},_handleMarker:function(e){if(this._map){this._removeMarker();var t={color:"#4668F2"},s=Bf({},t,this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(s),e.center?this.mapMarker.setLngLat(e.center).addTo(this._map):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(e,t){return this._eventEmitter.on(e,t),this},off:function(e,t){return this._eventEmitter.removeListener(e,t),this.eventManager.remove(),this}};var cz=x8;const dz=wd(cz);function hz(){return{map:pc("mapbox-map")}}var nw=new Map,uz=/onMb([A-Z])(.+)/;function pz(e){return nw.has(e)||nw.set(e,e.replace(uz,(t,s,a)=>s.toLowerCase()+a)),nw.get(e)}function b8(e,t,s=[],a=null){const c=j3(),h=ts(()=>Object.entries(c).filter(([z,Y])=>z.startsWith("on")&&typeof Y=="function").map(([z])=>z)),m=new Map;function n(z){Array.isArray(z)&&z.forEach(Y=>{const O=m.get(Y);typeof O=="function"&&O()})}function x(z){Array.isArray(z)&&z.forEach(Y=>{const O=pz(Y);if(!s.includes(O))return;const V=(...q)=>{e(`mb-${O}`,...q)};a?(Oi(t).on(O,a,V),m.set(Y,()=>{Oi(t).off(O,a,V)})):(Oi(t).on(O,V),m.set(Y,()=>{Oi(t).off(O,V)}))})}Gr(h,(z,Y)=>{const O=Array.isArray(z)?(Y??[]).filter(q=>!z.includes(q)):Y??[],V=Array.isArray(Y)?(z??[]).filter(q=>!Y.includes(q)):z??[];if(Oi(t))n(O),x(V);else{const q=Gr(t,L=>{L&&(n(O),x(V),q())})}},{immediate:!0})}function fz(e){return e.charAt(0).toUpperCase()+e.slice(1)}function w8(e,t,s){function a(c){Object.keys(e).filter(h=>e[h]!==void 0&&e[h]!==null).forEach(h=>{var m,n;const x=h==="mapStyle"?"setStyle":`set${fz(h)}`,z=typeof c[x]=="function",Y=typeof s[h]>"u"||"bind"in s[h]?(n=(m=s[h])==null?void 0:m.bind)!=null?n:!1:!0;if(!z||!Y)return;const{type:O}=e[h],V={deep:O===Object||Array.isArray(O)&&O.includes(Object)};Gr(()=>e[h],q=>{c[x](q)},V)})}if(Oi(t))a(Oi(t));else{const c=Gr(t,h=>{h&&(a(h),c())})}}function mz(e,{propsConfig:t,props:s,emit:a,events:c=[]}){const{map:h}=hz(),m=ks();return Array.isArray(c)&&c.length&&b8(a,m,c),typeof t<"u"&&w8(s,m,t),Gr(()=>s.position,n=>{Oi(h)&&Oi(h).removeControl(Oi(m)).addControl(Oi(m),n)}),Gc(async()=>{const n=new e(s);Oi(h)&&Oi(h).addControl(n,s.position),await Eh(),m.value=n}),n0(()=>{Oi(m)&&Oi(h)&&Oi(h).removeControl(Oi(m))}),{control:m,map:h}}var S8=(e,t)=>{const s=e.__vccOpts||e;for(const[a,c]of t)s[a]=c;return s};if(!hl)throw new Error("mapboxgl is not installed.");if(!dz)throw new Error("MapboxGeocoder is not installed.");var gz={key:0},_z={key:1};if(!hl)throw new Error("mapboxgl is not installed.");var{LngLatBounds:D5,LngLat:yz}=hl,I5={accessToken:{type:String,default:"no-token"},container:{type:[typeof HTMLElement<"u"&&HTMLElement,String],default:void 0},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:22},minPitch:{type:Number,default:0},maxPitch:{type:Number,default:60},mapStyle:{type:[Object,String],required:!0},hash:{type:Boolean,default:!1},interactive:{type:Boolean,default:!0},bearingSnap:{type:Number,default:7},pitchWithRotate:{type:Boolean,default:!0},clickTolerance:{type:Number,default:3},attributionControl:{type:Boolean,default:!0},customAttribution:{type:[String,Array],default:null},logoPosition:{type:String,default:"bottom-left"},failIfMajorPerformanceCaveat:{type:Boolean,default:!1},preserveDrawingBuffer:{type:Boolean,default:!1},antialias:{type:Boolean,default:!1},refreshExpiredTiles:{type:Boolean,default:!0},maxBounds:{type:[D5,Array],default:void 0},scrollZoom:{type:[Boolean,Object],default:!0},boxZoom:{type:Boolean,default:!0},dragRotate:{type:Boolean,default:!0},dragPan:{type:[Boolean,Object],default:!0},keyboard:{type:Boolean,default:!0},doubleClickZoom:{type:Boolean,default:!0},touchZoomRotate:{type:[Boolean,Object],default:!0},trackResize:{type:Boolean,default:!0},center:{type:[yz,Array,Object],default:()=>[0,0]},zoom:{type:Number,default:0},bearing:{type:Number,default:0},pitch:{type:Number,default:0},bounds:{type:[D5,Array],default:void 0},fitBoundsOptions:{type:Object,default:null},renderWorldCopies:{type:Boolean,default:!0},maxTileCacheSize:{type:Number,default:null},localIdeographFontFamily:{type:String,default:"sans-serif"},transformRequest:{type:Function,default:null},collectResourceTiming:{type:Boolean,default:!1},fadeDuration:{type:Number,default:300},crossSourceCollisions:{type:Boolean,default:!0}},vz=["boxzoomcancel","boxzoomend","boxzoomstart","click","contextmenu","data","dataloading","dblclick","drag","dragend","dragstart","error","idle","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","move","moveend","movestart","pitch","pitchend","pitchstart","remove","render","resize","rotate","rotateend","rotatestart","sourcedata","sourcedataloading","styledata","styledataloading","styleimagemissing","touchcancel","touchend","touchmove","touchstart","webglcontextlost","webglcontextrestored","wheel","zoom","zoomend","zoomstart"],xz={inheritAttrs:!1},bz=Object.assign(xz,{__name:"MapboxMap",props:I5,setup(e,{expose:t,emit:s}){const a=e,c=ks();Mp("mapbox-map",c);const h=ks(),m=ks(!1),n=ts(()=>{const{accessToken:x,mapStyle:z,...Y}=a;return!Y.container&&h.value&&(Y.container=h.value),{style:z,...Y}});return b8(s,c,vz),w8(a,c,I5),Gc(()=>{hl.accessToken=a.accessToken,c.value=new hl.Map(n.value),c.value.on("load",()=>{m.value=!0}),s("mb-created",c.value);const x=new ResizeObserver(()=>{c.value.resize()});x.observe(n.value.container),n0(()=>{x.disconnect(),c.value.remove()})}),t({map:c}),(x,z)=>(yt(),St(en,null,[Ne("div",gd({ref_key:"root",ref:h},x.$attrs),null,16),m.value?(yt(),St("div",gz,[Er(x.$slots,"default")])):(yt(),St("div",_z,[Er(x.$slots,"loader")]))],64))}}),f_=S8(bz,[["__file","/home/runner/work/vue-mapbox-gl/vue-mapbox-gl/packages/vue-mapbox-gl/components/MapboxMap.vue"]]);if(!hl)throw new Error("mapboxgl is not installed.");var L5={showCompass:{type:Boolean,default:!0},showZoom:{type:Boolean,default:!0},visualizePitch:{type:Boolean,default:!1},position:{type:String,default:"top-right",bind:!1}},wz={__name:"MapboxNavigationControl",props:L5,setup(e,{expose:t}){const s=e,{NavigationControl:a}=hl,{control:c}=mz(a,{props:s,propsConfig:L5});return t({control:c}),(h,m)=>(yt(),St("div"))}},m_=S8(wz,[["__file","/home/runner/work/vue-mapbox-gl/vue-mapbox-gl/packages/vue-mapbox-gl/components/MapboxNavigationControl.vue"]]);const Jn=(e,t)=>{const s=e.__vccOpts||e;for(const[a,c]of t)s[a]=c;return s},Sz={props:{fleets:Array},data(){return{isExpand:!1,keyword:""}},methods:{searchExpand(){this.isExpand=!this.isExpand;let e=this.$refs.searchBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="40px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},search(){this.keyword.length>=2&&!this.isExpand&&this.searchExpand(),this.keyword.length==0&&this.isExpand&&this.searchExpand()},selected(e){this.$emit("selected",e)}},computed:{filters(){return this.fleets.filter(e=>e.name.toLowerCase().includes(this.keyword.toLowerCase()))}}},Tz={class:"ships-list position-absolute",ref:"cSearch"},Cz={class:"card",style:{height:"100%"}},Ez={class:"card-header search"},Mz={action:"#",method:"get",style:{width:"100%"}},Az={class:"input-icon"},kz=Sd('<span class="input-icon-addon"><svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><circle cx="10" cy="10" r="7"></circle><line x1="21" y1="21" x2="15" y2="15"></line></svg></span>',1),Pz={class:"card-actions btn-actions"},Dz={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Iz=Ne("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Lz=Ne("polyline",{points:"15 6 9 12 15 18"},null,-1),Oz=[Iz,Lz],Rz={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Bz=Ne("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),zz=Ne("polyline",{points:"6 9 12 15 18 9"},null,-1),Nz=[Bz,zz],Fz={class:"card-body card-body-scrollable card-body-scrollable-shadow search-body",ref:"searchBody"},jz={class:"divide-y pointer"},Uz=["onClick"],$z={class:"row"},Gz=Ne("div",{class:"col-auto"},[Ne("span",{class:"avatar",style:{"background-image":"url('')"}})],-1),Vz={class:"col p-0"},Hz={class:"text-truncate"},Wz={class:"text-muted text-sm"},Yz={key:0,class:"col-auto"},qz=Ne("div",{class:"badge bg-success"},null,-1),Xz=Ne("span",{class:"text-xs ml-1"},"Online",-1),Zz={class:"text-xs"},Kz={key:1,class:"col-auto"},Jz=Ne("div",{class:"badge bg-danger"},null,-1),Qz=Ne("span",{class:"text-xs ml-1"},"Offline",-1),eN={class:"text-xs"};function tN(e,t,s,a,c,h){return yt(),St("div",Tz,[Ne("div",Cz,[Ne("div",Ez,[Ne("form",Mz,[Ne("div",Az,[kz,Os(Ne("input",{type:"text",onKeyup:t[0]||(t[0]=(...m)=>h.search&&h.search(...m)),"onUpdate:modelValue":t[1]||(t[1]=m=>c.keyword=m),class:"form-control",placeholder:"Search…","aria-label":"Search in website"},null,544),[[Aa,c.keyword]])])]),Ne("div",Pz,[Ne("a",{href:"#",class:"btn-action",onClick:t[2]||(t[2]=(...m)=>h.searchExpand&&h.searchExpand(...m))},[c.isExpand?rn("",!0):(yt(),St("svg",Dz,Oz)),c.isExpand?(yt(),St("svg",Rz,Nz)):rn("",!0)])])]),Ne("div",Fz,[Ne("div",jz,[(yt(!0),St(en,null,Kn(h.filters,m=>(yt(),St("div",{key:m.id,onClick:n=>h.selected(m)},[Ne("div",$z,[Gz,Ne("div",Vz,[Ne("div",Hz,Fi(m.name),1),Ne("div",Wz,Fi(m.imo_number),1)]),m.connected?(yt(),St("div",Yz,[qz,Xz,Ne("div",Zz,Fi(e.$filters.dateformat(m.last_connection,"DD/MM HH:mm")),1)])):rn("",!0),m.connected?rn("",!0):(yt(),St("div",Kz,[Jz,Qz,Ne("div",eN,Fi(e.$filters.dateformat(m.last_connection,"DD/MM HH:mm")),1)]))])],8,Uz))),128))])],512)])],512)}const T8=Jn(Sz,[["render",tN]]),iN={data(){return{isExpand:!0,notifications:[{id:1,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:2,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:3,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:4,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:5,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:6,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:7,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:8,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"}],params:{}}},mounted(){this.fetchData()},methods:{notifExpand(){this.isExpand=!this.isExpand;let e=this.$refs.notifBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="150px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},async fetchData(){this.notifications=await axios.get("/api/notifications",{params:this.params}).then(e=>e.data)}}},Vm=e=>(Ul("data-v-cbda607e"),e=e(),$l(),e),nN={class:"ships-notification",ref:"cSearch"},sN={class:"card",style:{height:"100%"}},rN={class:"card-header search"},oN=Vm(()=>Ne("h4",{class:"card-title"}," Active Notifications ",-1)),aN={class:"card-actions btn-actions"},lN={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},cN=Vm(()=>Ne("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),dN=Vm(()=>Ne("polyline",{points:"15 6 9 12 15 18"},null,-1)),hN=[cN,dN],uN={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},pN=Vm(()=>Ne("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),fN=Vm(()=>Ne("polyline",{points:"6 9 12 15 18 9"},null,-1)),mN=[pN,fN],gN={class:"card-body card-body-scrollable card-body-scrollable-shadow notif-body",ref:"notifBody"},_N={class:"divide-y"},yN=Sd('<div class="notif-status" data-v-cbda607e><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/alarm.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Alarm</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/volume.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>4</span></div><div data-v-cbda607e>Warning</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/caution.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Caution</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/info-blue.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Info</div></div></div>',1),vN={class:"row"},xN=Vm(()=>Ne("div",{class:"col-auto"},[Ne("img",{src:"img/icons/caution.png",alt:"",width:"20"})],-1)),bN={class:"col"},wN={class:"fw-bold"},SN={class:"text-sm"};function TN(e,t,s,a,c,h){return yt(),St("div",nN,[Ne("div",sN,[Ne("div",rN,[oN,Ne("div",aN,[Ne("a",{href:"#",class:"btn-action",onClick:t[0]||(t[0]=(...m)=>h.notifExpand&&h.notifExpand(...m))},[c.isExpand?rn("",!0):(yt(),St("svg",lN,hN)),c.isExpand?(yt(),St("svg",uN,mN)):rn("",!0)])])]),Ne("div",gN,[Ne("div",_N,[yN,(yt(!0),St(en,null,Kn(c.notifications,m=>(yt(),St("div",{key:m.id,class:"py-2 border-bottom border-white"},[Ne("div",vN,[xN,Ne("div",bN,[Ne("div",wN,Fi(m.title),1),mr(" "+Fi(m.desc)+" ",1),Ne("div",SN,Fi(m.date),1)])])]))),128))])],512)])],512)}const C8=Jn(iN,[["render",TN],["__scopeId","data-v-cbda607e"]]),CN={},EN={class:"ships-records"},MN=Sd('<div class="card" data-v-b06cef02><div class="card-header" data-v-b06cef02><div class="text-center" data-v-b06cef02><img src="img/singapore.png" alt="" data-v-b06cef02><div class="text-white" data-v-b06cef02>PRO</div></div><div class="w-100 d-flex align-items-start justify-content-between" data-v-b06cef02><div class="card-title" data-v-b06cef02><div data-v-b06cef02>Widuri</div><small class="text-white" data-v-b06cef02>Fleet II</small></div><div class="card-status" data-v-b06cef02><div class="status-box bg-online" data-v-b06cef02></div><div class="text-white" data-v-b06cef02>Online</div></div></div></div><div class="card-body" data-v-b06cef02><div data-v-b06cef02>under way using engine</div><div class="d-flex align-items-center justify-content-between" data-v-b06cef02><div data-v-b06cef02>ATD 27/5</div><div data-v-b06cef02>ETA 10/6</div></div><div class="d-flex align-items-center justify-content-between mb-3" data-v-b06cef02><div data-v-b06cef02>Singapura</div><div data-v-b06cef02>Jakarta</div></div><div class="ships-route-ltr" data-v-b06cef02></div></div></div>',1),AN=[MN];function kN(e,t,s,a,c,h){return yt(),St("div",EN,AN)}const E8=Jn(CN,[["render",kN],["__scopeId","data-v-b06cef02"]]),PN={},DN={class:"ships-navigations"},IN=Sd('<div class="card" data-v-23fc79b0><div class="card-header" data-v-23fc79b0><div class="card-title" data-v-23fc79b0><div data-v-23fc79b0>Navigation</div></div><div class="card-status" data-v-23fc79b0><a href="#" data-v-23fc79b0><img src="img/icons/arrow-topright.png" alt="" data-v-23fc79b0></a></div></div><div class="card-body" data-v-23fc79b0><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>15.015 knots</h6><small data-v-23fc79b0>Speed (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.679 knots</h6><small data-v-23fc79b0>Speed (Water)</small></div></div><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>181.87 deg</h6><small data-v-23fc79b0>Course (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.224 knots</h6><small data-v-23fc79b0>Wiind Speed</small></div></div><div class="ships-route-ltr" data-v-23fc79b0></div></div></div><div class="card" data-v-23fc79b0><div class="card-header" data-v-23fc79b0><div class="card-title" data-v-23fc79b0><div data-v-23fc79b0>Navigation</div></div><div class="card-status" data-v-23fc79b0><a href="#" data-v-23fc79b0><img src="img/icons/arrow-topright.png" alt="" data-v-23fc79b0></a></div></div><div class="card-body" data-v-23fc79b0><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>15.015 knots</h6><small data-v-23fc79b0>Speed (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.679 knots</h6><small data-v-23fc79b0>Speed (Water)</small></div></div><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>181.87 deg</h6><small data-v-23fc79b0>Course (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.224 knots</h6><small data-v-23fc79b0>Wiind Speed</small></div></div><div class="ships-route-ltr" data-v-23fc79b0></div></div></div>',2),LN=[IN];function ON(e,t,s,a,c,h){return yt(),St("div",DN,LN)}const M8=Jn(PN,[["render",ON],["__scopeId","data-v-23fc79b0"]]),RN={},BN={class:"ships-camera"},zN=Sd('<a href="" data-v-34ce2568><div class="card" data-v-34ce2568><div class="card-header" data-v-34ce2568><div class="card-title" data-v-34ce2568><div data-v-34ce2568>Front View</div></div></div><div class="card-body" data-v-34ce2568><div class="d-flex align-items-center flex-column gap-1" data-v-34ce2568><img src="img/icons/camera.png" alt="" data-v-34ce2568><small data-v-34ce2568>Camera</small></div></div></div></a><a href="" data-v-34ce2568><div class="card" data-v-34ce2568><div class="card-header" data-v-34ce2568><div class="card-title" data-v-34ce2568><div data-v-34ce2568>Bridge</div></div></div><div class="card-body" data-v-34ce2568><div class="d-flex align-items-center flex-column gap-1" data-v-34ce2568><img src="img/icons/camera.png" alt="" data-v-34ce2568><small data-v-34ce2568>Camera</small></div></div></div></a>',2),NN=[zN];function FN(e,t,s,a,c,h){return yt(),St("div",BN,NN)}const A8=Jn(RN,[["render",FN],["__scopeId","data-v-34ce2568"]]),jN={data(){return{isExpand:!0,parameter:[{id:1,title:"SPEED THROUGH WATER",value:"13.8",format:"KNOTS"},{id:2,title:"SPEED OVER GROUND",value:"14.9",format:"KNOTS"},{id:3,title:"ME SHAFT POWER",value:"4852",format:"KW"},{id:4,title:"ME RPM",value:"95",format:"RPM"},{id:5,title:"ME FO",value:"26.5",format:"FO"}],params:{}}},mounted(){this.fetchData()},methods:{notifExpand(){this.isExpand=!this.isExpand;let e=this.$refs.notifBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="150px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},async fetchData(){this.notifications=await axios.get("/api/notifications",{params:this.params}).then(e=>e.data)}}},zp=e=>(Ul("data-v-82e529c6"),e=e(),$l(),e),UN={class:"ships-parameter",ref:"cSearch"},$N={class:"card",style:{height:"100%"}},GN={class:"card-header search"},VN=zp(()=>Ne("h4",{class:"card-title"}," KEY PARAMETER ",-1)),HN={class:"card-actions btn-actions"},WN={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},YN=zp(()=>Ne("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),qN=zp(()=>Ne("polyline",{points:"15 6 9 12 15 18"},null,-1)),XN=[YN,qN],ZN={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},KN=zp(()=>Ne("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),JN=zp(()=>Ne("polyline",{points:"6 9 12 15 18 9"},null,-1)),QN=[KN,JN],eF={class:"card-body card-body-scrollable card-body-scrollable-shadow notif-body",ref:"notifBody"},tF={class:"divide-y"},iF=zp(()=>Ne("ul",{class:"nav nav-pills nav-justified",id:"pills-tab",role:"tablist"},[Ne("li",{class:"nav-item",role:"presentation"},[Ne("button",{class:"nav-link justify-content-center active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"DAILY AVG")]),Ne("li",{class:"nav-item",role:"presentation"},[Ne("button",{class:"nav-link justify-content-center",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"},"PRESENT VALUES")])],-1)),nF={class:"tab-content",id:"pills-tabContent"},sF={class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},rF={class:"row align-items-center"},oF={class:"col-6"},aF={class:"fw-bold"},lF={class:"col-6 text-center"},cF={class:"fw-normal"},dF={class:"text-sm"},hF=zp(()=>Ne("div",{class:"py-2 border-bottom border-white"},[Ne("div",{class:"row align-items-center"},[Ne("div",{class:"col-12"},[Ne("div",{class:""},"NOTE: Daily average is calculated at 12 PM UTC")])])],-1)),uF=zp(()=>Ne("div",{class:"tab-pane fade",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab"}," ... ",-1));function pF(e,t,s,a,c,h){return yt(),St("div",UN,[Ne("div",$N,[Ne("div",GN,[VN,Ne("div",HN,[Ne("a",{href:"#",class:"btn-action",onClick:t[0]||(t[0]=(...m)=>h.notifExpand&&h.notifExpand(...m))},[c.isExpand?rn("",!0):(yt(),St("svg",WN,XN)),c.isExpand?(yt(),St("svg",ZN,QN)):rn("",!0)])])]),Ne("div",eF,[Ne("div",tF,[iF,Ne("div",nF,[Ne("div",sF,[(yt(!0),St(en,null,Kn(c.parameter,m=>(yt(),St("div",{key:m.id,class:"py-2 border-bottom border-white"},[Ne("div",rF,[Ne("div",oF,[Ne("div",aF,Fi(m.title),1)]),Ne("div",lF,[Ne("h2",cF,Fi(m.value),1),Ne("div",dF,Fi(m.format),1)])])]))),128)),hF]),uF])])],512)])],512)}const k8=Jn(jN,[["render",pF],["__scopeId","data-v-82e529c6"]]);var fF=["second","minute","hour","day","week","month","year"];function mF(e,t){if(t===0)return["just now","right now"];var s=fF[Math.floor(t/2)];return e>1&&(s+="s"),[e+" "+s+" ago","in "+e+" "+s]}var gF=["秒","分钟","小时","天","周","个月","年"];function _F(e,t){if(t===0)return["刚刚","片刻后"];var s=gF[~~(t/2)];return[e+" "+s+"前",e+" "+s+"后"]}var Zw={},P8=function(e,t){Zw[e]=t},yF=function(e){return Zw[e]||Zw.en_US},sw=[60,60,24,7,365/7/12,12];function O5(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}function vF(e,t){var s=e<0?1:0;e=Math.abs(e);for(var a=e,c=0;e>=sw[c]&&c<sw.length;c++)e/=sw[c];return e=Math.floor(e),c*=2,e>(c===0?9:1)&&(c+=1),t(e,c,a)[s].replace("%s",e.toString())}function xF(e,t){var s=t?O5(t):new Date;return(+s-+O5(e))/1e3}var Rm=function(e,t,s){var a=xF(e,s&&s.relativeDate);return vF(a,yF(t))};P8("en_US",mF);P8("zh_CN",_F);const bF="/build/assets/blue-a08778d1.png",wF="/build/assets/green-fc37c2da.png",SF="/build/assets/red-81ec77e5.png",TF="/build/assets/yellow-bbf4eb24.png",CF="/build/assets/purple-47482fdf.png",EF={components:{},props:{fleets:Array},data(){return{fleetsGroup:[],colors:{at_port:"#004BFF",underway:"#56B745",lost_connection:"#E13711",at_anchorage:"#F1D244",other:"#A32B7C"},icons:{at_port:{name:"At Port",img:"/icon/blue.png"},underway:{img:"/icon/green.png",name:"Underway"},lost_connection:{img:"/icon/red.png",name:"Lost Connection"},at_anchorage:{img:"/icon/yellow.png",name:"At Anchorage"},other:{img:"/icon/purple.png",name:"Other"}}}},watch:{fleets:function(e,t){let s=qv.groupBy(e,({fleet_status:c})=>c);this.fleetsGroup=[];let a=this;Object.keys(this.colors).forEach(function(c){let h=typeof s[c]>"u"?0:s[c].length;a.fleetsGroup.push({value:h,color:a.colors[c],label:c,name:a.icons[c].name,img:a.icons[c].img})})}},methods:{doFilter(e){this.$emit("filters",e)}}},MF=e=>(Ul("data-v-62e3f19d"),e=e(),$l(),e),AF={class:"lengend"},kF={class:"card"},PF=MF(()=>Ne("div",{class:"card-header"},[Ne("div",{class:"title"},"Fleets Information")],-1)),DF={class:"card-body row"},IF={class:"fleet-count"},LF={class:"col-7"},OF=["onClick"],RF=["src"];function BF(e,t,s,a,c,h){const m=Un("vc-donut");return yt(),St("div",AF,[Ne("div",kF,[PF,Ne("div",DF,[Ne("div",{class:"col-5 pointer",onClick:t[0]||(t[0]=n=>h.doFilter({label:"all"}))},[s.fleets?(yt(),ja(m,{key:0,size:100,sections:c.fleetsGroup,unit:"%",total:s.fleets.length,"auto-adjust-text-size":!0},{default:To(()=>[Ne("div",IF,Fi(s.fleets.length),1),mr(" Vessels ")]),_:1},8,["sections","total"])):rn("",!0)]),Ne("div",LF,[(yt(!0),St(en,null,Kn(c.fleetsGroup,n=>(yt(),St("div",{class:"pointer",key:n.label,onClick:x=>h.doFilter(n)},[Ne("img",{src:n.img},null,8,RF),mr(" "+Fi(n.name)+" ("+Fi(n.value)+") ",1)],8,OF))),128))])])])])}const zF=Jn(EF,[["render",BF],["__scopeId","data-v-62e3f19d"]]),NF=$c({name:"my-table",emits:["return-checked-rows","do-search","is-finished","get-now-page","row-clicked","row-toggled"],props:{isLoading:{type:Boolean,require:!0},isReSearch:{type:Boolean,require:!0},hasCheckbox:{type:Boolean,default:!1},checkedReturnType:{type:String,default:"key"},title:{type:String,default:""},isFixedFirstColumn:{type:Boolean,default:!1},columns:{type:Array,default:()=>[]},rows:{type:Array,default:()=>[]},rowClasses:{type:[Array,Function],default:()=>[]},pageSize:{type:Number,default:10},total:{type:Number,default:100},page:{type:Number,default:1},sortable:{type:Object,default:()=>({order:"id",sort:"asc"})},messages:{type:Object,default:()=>({pagingInfo:"Showing {0}-{1} of {2}",pageSizeChangeLabel:"Row count:",gotoPageLabel:"Go to page:",noDataAvailable:"No data"})},isStaticMode:{type:Boolean,default:!1},isSlotMode:{type:Boolean,default:!1},isHidePaging:{type:Boolean,default:!1},pageOptions:{type:Array,default:()=>[{value:10,text:10},{value:25,text:25},{value:50,text:50}]},groupingKey:{type:String,default:""},hasGroupToggle:{type:Boolean,default:!1},groupingDisplay:{type:Function,default:null},maxHeight:{default:"auto"},startCollapsed:{type:Boolean,default:!1},isKeepCollapsed:{type:Boolean,default:!1},isVerticalHighlight:{type:Boolean,default:!1}},setup(e,{emit:t,slots:s}){let a=ks(null),c=e.pageOptions.length>0?ks(e.pageOptions[0].value):ks(e.pageSize);e.pageOptions.length>0&&e.pageOptions.forEach(S=>{Object.prototype.hasOwnProperty.call(S,"value")&&Object.prototype.hasOwnProperty.call(S,"text")&&e.pageSize==S.value&&(c.value=S.value)});const h=jm({isSlotMode:e.isSlotMode,isCheckAll:!1,isHidePaging:e.isHidePaging,keyColumn:ts(()=>{let S="";return Object.assign(e.columns).forEach(P=>{P.isKey&&(S=P.field)}),S}),page:e.page,pageSize:c.value,maxPage:ts(()=>{if(e.total<=0)return 0;let S=Math.floor(e.total/h.pageSize);return e.total%h.pageSize>0&&S++,S}),offset:ts(()=>(h.page-1)*h.pageSize+1),limit:ts(()=>{let S=h.page*h.pageSize;return e.total>=S?S:e.total}),paging:ts(()=>{let S=h.page-2<=0?1:h.page-2;h.maxPage-h.page<=2&&(S=h.maxPage-4),S=S<=0?1:S;let P=[];for(let f=S;f<=h.maxPage;f++)P.length<5&&P.push(f);return P}),order:e.sortable.order,sort:e.sortable.sort,pageOptions:e.pageOptions,isVerticalHighlight:e.isVerticalHighlight}),m=ks([]),n=ts(()=>{let S=e.rows;var P=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});let f=h.sort==="desc"?-1:1;S.sort(function(b,D){return P.compare(b[h.order],D[h.order])*f});let g=null;if(e.groupingKey){let b={};S.forEach(D=>{b[D[e.groupingKey]]||(b[D[e.groupingKey]]=[]),b[D[e.groupingKey]].push(D)}),g={};for(let D=h.offset-1;D<h.limit;D++)g[S[D][e.groupingKey]]=b[S[D][e.groupingKey]]}else{g=[];for(let b=h.offset-1;b<h.limit;b++)g.push(S[b])}return Eh(function(){C()}),g}),x=ks([]);i_(()=>{x.value=[]}),Gr(()=>h.isCheckAll,S=>{if(e.hasCheckbox){if(m.value=[],S){let P=e.isStaticMode?e.rows.slice(h.offset-1,h.limit):e.rows;e.checkedReturnType=="row"?m.value=P:P.forEach(f=>{m.value.push(f[h.keyColumn])})}x.value.forEach(P=>{P&&(P.checked=S)}),t("return-checked-rows",m.value)}}),Gr(()=>e.hasCheckbox,S=>{S||(h.isCheckAll=!1)});const z=(S,P)=>{P.stopPropagation();let f=S[h.keyColumn];if(e.checkedReturnType=="row"&&(f=S),P.target.checked)m.value.push(f);else{const g=m.value.indexOf(f);g>=0&&m.value.splice(g,1)}m.value.length==e.rows.length?h.isCheckAll=!0:t("return-checked-rows",m.value)},Y=()=>{m.value=[],x.value.forEach(S=>{S&&S.checked&&(S.checked=!1)}),t("return-checked-rows",m.value)},O=S=>{let P="asc";S==h.order&&h.sort=="asc"&&(P="desc");let f=(h.page-1)*h.pageSize,g=h.pageSize;h.order=S,h.sort=P,t("do-search",f,g,S,P),h.isCheckAll?h.isCheckAll=!1:e.hasCheckbox&&Y()},V=(S,P)=>{h.isCheckAll=!1,e.hasCheckbox&&(m.value=[]);let f=h.order,g=h.sort,b=(S-1)*h.pageSize,D=h.pageSize;(!e.isReSearch||S>1||S==P)&&t("do-search",b,D,f,g)};Gr(()=>h.page,V),Gr(()=>e.page,S=>{S<=1?(h.page=1,t("get-now-page",h.page)):S>=h.maxPage?(h.page=h.maxPage,t("get-now-page",h.page)):h.page=S}),Gr(()=>h.pageSize,()=>{h.page===1?V(h.page,h.page):(h.page=1,h.isCheckAll=!1)}),Gr(()=>e.pageSize,S=>{h.pageSize=S});const L=()=>{if(h.page==1)return!1;h.page--},I=S=>{h.page=S},H=()=>{if(h.page>=h.maxPage)return!1;h.page++};Gr(()=>e.rows,()=>{(e.isReSearch||e.isStaticMode)&&(h.page=1),Eh(function(){e.isStaticMode||C()})});const M=(S,...P)=>S.replace(/{(\d+)}/g,function(f,g){return typeof P[g]<"u"?P[g]:f}),C=()=>{if(a.value){let S=a.value.getElementsByClassName("is-rows-el");t("is-finished",S)}t("get-now-page",h.page)},A=ks({}),U=ks({}),$=ks({}),E=ts(()=>{let S={};return e.rows.forEach(P=>{S[P[e.groupingKey]]||(S[P[e.groupingKey]]=[]),S[P[e.groupingKey]].push(P)}),Eh(function(){if(e.startCollapsed||e.isKeepCollapsed){for(const[P,f]of Object.entries(A.value))if(f){let g=!e.startCollapsed;e.isKeepCollapsed&&$.value[P]!==void 0&&(g=!$.value[P]),(g&&f.parentElement.classList.contains("rotated-90")||!g&&!f.parentElement.classList.contains("rotated-90"))&&f.parentElement.classList.toggle("rotated-90"),g||U.value[P].forEach(b=>{b&&b.classList.add("hidden")})}}C()}),S}),ee=S=>{let P=A.value[S];if(P){P.parentElement.classList.toggle("rotated-90");const f=P.parentElement.classList.contains("rotated-90");U.value[S].forEach(g=>{g&&(f?g.classList.add("hidden"):g.classList.remove("hidden"))}),$.value[S]=f,t("row-toggled",E.value[S],f)}},Q=S=>{S.target.classList.add("hover")},N=S=>{S.target.classList.remove("hover")},j=S=>{if(!h.isVerticalHighlight)return;let P=a.value.querySelectorAll(".vtl-tbody-td"+S);for(let f=0;f<P.length;f++)P[f].classList.add("hover")},W=S=>{if(!h.isVerticalHighlight)return;let P=a.value.querySelectorAll(".vtl-tbody-td"+S);for(let f=0;f<P.length;f++)P[f].classList.remove("hover")};return Gc(()=>{Eh(()=>{e.rows.length>0&&C()})}),{slots:s,localTable:a,localRows:n,setting:h,rowCheckbox:x,checked:z,clearChecked:Y,doSort:O,prevPage:L,movePage:I,nextPage:H,stringFormat:M,toggleButtonRefs:A,groupingRowsRefs:U,groupingRows:E,toggleGroup:ee,addHoverClassToTr:Q,removeHoverClassFromTr:N,addVerticalHighlight:j,removeVerticalHighlight:W}}}),Mu=e=>(Ul("data-v-8c9f1486"),e=e(),$l(),e),FF={class:"vtl vtl-card"},jF={key:0,class:"vtl-card-title"},UF={class:"vtl-card-body"},$F={class:"vtl-row"},GF={key:0,class:"vtl-loading-mask"},VF=Mu(()=>Ne("div",{class:"vtl-loading-content"},[Ne("span",{style:{color:"white"}},"Loading...")],-1)),HF=[VF],WF={class:"vtl-thead"},YF={class:"vtl-thead-tr"},qF={key:0,class:"vtl-thead-th vtl-checkbox-th"},XF=["onClick","innerHTML"],ZF=["set"],KF={key:0,class:"vtl-tbody-tr vtl-group-tr"},JF=["colspan"],QF={class:"flex"},ej={key:0,class:"animation"},tj=["onClick"],ij=["innerHTML"],nj=["name","onClick"],sj={key:0,class:"vtl-tbody-td vtl-checkbox-td"},rj=["value","onClick"],oj=["onMouseover","onMouseleave"],aj=["innerHTML"],lj={key:1},cj={key:0},dj={key:1},hj=["set"],uj={key:0,class:"vtl-tbody-tr vtl-group-tr"},pj=["colspan"],fj={class:"flex"},mj={key:0,class:"animation"},gj=["onClick"],_j=["innerHTML"],yj=["name","onClick"],vj={key:0,class:"vtl-tbody-td vtl-checkbox-td"},xj=["value","onClick"],bj=["onMouseover","onMouseleave"],wj=["innerHTML"],Sj={key:1},Tj={key:0},Cj={key:1},Ej={key:0,class:"vtl-paging vtl-row"},Mj={class:"vtl-paging-info col-sm-12 col-md-4"},Aj={role:"status","aria-live":"polite"},kj={class:"vtl-paging-change-div col-sm-12 col-md-4"},Pj={class:"vtl-paging-count-label"},Dj=["value"],Ij={class:"vtl-paging-page-label"},Lj=["value"],Oj={class:"vtl-paging-pagination-div col-sm-12 col-md-4"},Rj={class:"dataTables_paginate"},Bj={class:"vtl-paging-pagination-ul vtl-pagination"},zj=Mu(()=>Ne("span",{"aria-hidden":"true"},"«",-1)),Nj=Mu(()=>Ne("span",{class:"sr-only"},"First",-1)),Fj=[zj,Nj],jj=Mu(()=>Ne("span",{"aria-hidden":"true"},"<",-1)),Uj=Mu(()=>Ne("span",{class:"sr-only"},"Prev",-1)),$j=[jj,Uj],Gj=["onClick"],Vj=Mu(()=>Ne("span",{"aria-hidden":"true"},">",-1)),Hj=Mu(()=>Ne("span",{class:"sr-only"},"Next",-1)),Wj=[Vj,Hj],Yj=Mu(()=>Ne("span",{"aria-hidden":"true"},"»",-1)),qj=Mu(()=>Ne("span",{class:"sr-only"},"Last",-1)),Xj=[Yj,qj],Zj={key:1,class:"vtl-row"},Kj={class:"vtl-empty-msg col-sm-12 text-center"};function Jj(e,t,s,a,c,h){return yt(),St("div",FF,[e.title?(yt(),St("div",jF,Fi(e.title),1)):rn("",!0),Ne("div",UF,[Ne("div",$F,[Ne("div",{class:Xn(["col-sm-12",{"fixed-first-column":e.isFixedFirstColumn,"fixed-first-second-column":e.isFixedFirstColumn&&e.hasCheckbox}])},[e.isLoading?(yt(),St("div",GF,HF)):rn("",!0),Ne("table",{class:"vtl-table vtl-table-hover vtl-table-bordered vtl-table-responsive vtl-table-responsive-sm",ref:"localTable",style:da("max-height: "+e.maxHeight+"px;")},[Ne("thead",WF,[Ne("tr",YF,[e.hasCheckbox?(yt(),St("th",qF,[Ne("div",null,[Os(Ne("input",{type:"checkbox",class:"vtl-thead-checkbox","onUpdate:modelValue":t[0]||(t[0]=m=>e.setting.isCheckAll=m)},null,512),[[kh,e.setting.isCheckAll]])])])):rn("",!0),(yt(!0),St(en,null,Kn(e.columns,(m,n)=>(yt(),St("th",{class:Xn(["vtl-thead-th",m.headerClasses]),key:n,style:da(Object.assign({width:m.width?m.width:"auto"},m.headerStyles))},[Ne("div",{class:Xn(["vtl-thead-column",{"vtl-sortable":m.sortable,"vtl-both":m.sortable,"vtl-asc":e.setting.order===m.field&&e.setting.sort==="asc","vtl-desc":e.setting.order===m.field&&e.setting.sort==="desc"}]),onClick:Rc(x=>m.sortable?e.doSort(m.field):!1,["prevent"]),innerHTML:m.label},null,10,XF)],6))),128))])]),e.rows.length>0?(yt(),St(en,{key:0},[e.isStaticMode?(yt(),St("tbody",{key:0,class:"vtl-tbody",set:e.templateRows=e.groupingKey==""?[e.localRows]:e.localRows},[(yt(!0),St(en,null,Kn(e.templateRows,(m,n)=>(yt(),St(en,{key:n},[e.groupingKey!=""?(yt(),St("tr",KF,[Ne("td",{colspan:e.hasCheckbox?e.columns.length+1:e.columns.length,class:"vtl-tbody-td vtl-group-td"},[Ne("div",QF,[e.hasGroupToggle?(yt(),St("div",ej,[Ne("a",{ref_for:!0,ref:x=>e.toggleButtonRefs[n]=x,class:"cursor-pointer",onClick:Rc(x=>e.toggleGroup(n),["prevent"])},"▼",8,tj)])):rn("",!0),Ne("div",{class:"ml-2",innerHTML:e.groupingDisplay?e.groupingDisplay(n):n},null,8,ij)])],8,JF)])):rn("",!0),(yt(!0),St(en,null,Kn(m,(x,z)=>(yt(),St("tr",{key:x[e.setting.keyColumn]?x[e.setting.keyColumn]:z,ref_for:!0,ref:Y=>{e.groupingRowsRefs[n]||(e.groupingRowsRefs[n]=[]),e.groupingRowsRefs[n][z]=Y},name:"vtl-group-"+n,class:Xn(["vtl-tbody-tr",typeof e.rowClasses=="function"?e.rowClasses(x):e.rowClasses]),onMouseenter:t[1]||(t[1]=(...Y)=>e.addHoverClassToTr&&e.addHoverClassToTr(...Y)),onMouseleave:t[2]||(t[2]=(...Y)=>e.removeHoverClassFromTr&&e.removeHoverClassFromTr(...Y)),onClick:Y=>e.$emit("row-clicked",x)},[e.hasCheckbox?(yt(),St("td",sj,[Ne("div",null,[Ne("input",{type:"checkbox",class:"vtl-tbody-checkbox",ref_for:!0,ref:Y=>{e.rowCheckbox.push(Y)},value:x[e.setting.keyColumn],onClick:Y=>e.checked(x,Y)},null,8,rj)])])):rn("",!0),(yt(!0),St(en,null,Kn(e.columns,(Y,O)=>(yt(),St("td",{key:O,class:Xn(["vtl-tbody-td",["vtl-tbody-td"+O].concat(Y.columnClasses)]),style:da(Y.columnStyles),onMouseover:V=>e.addVerticalHighlight(O),onMouseleave:V=>e.removeVerticalHighlight(O)},[Y.display?(yt(),St("div",{key:0,innerHTML:Y.display(x)},null,8,aj)):(yt(),St("div",lj,[e.setting.isSlotMode&&e.slots[Y.field]?(yt(),St("div",cj,[Er(e.$slots,Y.field,{value:x},void 0,!0)])):(yt(),St("span",dj,Fi(x[Y.field]),1))]))],46,oj))),128))],42,nj))),128))],64))),128))],8,ZF)):(yt(),St("tbody",{key:1,set:e.templateRows=e.groupingKey==""?[e.rows]:e.groupingRows},[(yt(!0),St(en,null,Kn(e.templateRows,(m,n)=>(yt(),St(en,{key:n},[e.groupingKey!=""?(yt(),St("tr",uj,[Ne("td",{colspan:e.hasCheckbox?e.columns.length+1:e.columns.length,class:"vtl-tbody-td vtl-group-td"},[Ne("div",fj,[e.hasGroupToggle?(yt(),St("div",mj,[Ne("a",{ref_for:!0,ref:x=>e.toggleButtonRefs[n]=x,class:"cursor-pointer",onClick:Rc(x=>e.toggleGroup(n),["prevent"])},"▼",8,gj)])):rn("",!0),Ne("div",{class:"ml-2",innerHTML:e.groupingDisplay?e.groupingDisplay(n):n},null,8,_j)])],8,pj)])):rn("",!0),(yt(!0),St(en,null,Kn(m,(x,z)=>(yt(),St("tr",{ref_for:!0,ref:Y=>{e.groupingRowsRefs[n]||(e.groupingRowsRefs[n]=[]),e.groupingRowsRefs[n][z]=Y},name:"vtl-group-"+n,key:x[e.setting.keyColumn]?x[e.setting.keyColumn]:z,class:Xn(["vtl-tbody-tr",typeof e.rowClasses=="function"?e.rowClasses(x):e.rowClasses]),onMouseenter:t[3]||(t[3]=(...Y)=>e.addHoverClassToTr&&e.addHoverClassToTr(...Y)),onMouseleave:t[4]||(t[4]=(...Y)=>e.removeHoverClassFromTr&&e.removeHoverClassFromTr(...Y)),onClick:Y=>e.$emit("row-clicked",x)},[e.hasCheckbox?(yt(),St("td",vj,[Ne("div",null,[Ne("input",{type:"checkbox",class:"vtl-tbody-checkbox",ref_for:!0,ref:Y=>{e.rowCheckbox.push(Y)},value:x[e.setting.keyColumn],onClick:Y=>e.checked(x,Y)},null,8,xj)])])):rn("",!0),(yt(!0),St(en,null,Kn(e.columns,(Y,O)=>(yt(),St("td",{key:O,class:Xn(["vtl-tbody-td",["vtl-tbody-td"+O].concat(Y.columnClasses)]),style:da(Y.columnStyles),onMouseover:V=>e.addVerticalHighlight(O),onMouseleave:V=>e.removeVerticalHighlight(O)},[Y.display?(yt(),St("div",{key:0,innerHTML:Y.display(x)},null,8,wj)):(yt(),St("div",Sj,[e.setting.isSlotMode&&e.slots[Y.field]?(yt(),St("div",Tj,[Er(e.$slots,Y.field,{value:x},void 0,!0)])):(yt(),St("span",Cj,Fi(x[Y.field]),1))]))],46,bj))),128))],42,yj))),128))],64))),128))],8,hj))],64)):rn("",!0)],4)],2)]),e.rows.length>0?(yt(),St("div",Ej,[e.setting.isHidePaging?rn("",!0):(yt(),St(en,{key:0},[Ne("div",Mj,[Ne("div",Aj,Fi(e.stringFormat(e.messages.pagingInfo,e.setting.offset,e.setting.limit,e.total)),1)]),Ne("div",kj,[Ne("span",Pj,Fi(e.messages.pageSizeChangeLabel),1),Os(Ne("select",{class:"vtl-paging-count-dropdown","onUpdate:modelValue":t[5]||(t[5]=m=>e.setting.pageSize=m)},[(yt(!0),St(en,null,Kn(e.pageOptions,m=>(yt(),St("option",{value:m.value,key:m.value},Fi(m.text),9,Dj))),128))],512),[[$a,e.setting.pageSize]]),Ne("span",Ij,Fi(e.messages.gotoPageLabel),1),Os(Ne("select",{class:"vtl-paging-page-dropdown","onUpdate:modelValue":t[6]||(t[6]=m=>e.setting.page=m)},[(yt(!0),St(en,null,Kn(e.setting.maxPage,m=>(yt(),St("option",{key:m,value:parseInt(m)},Fi(m),9,Lj))),128))],512),[[$a,e.setting.page]])]),Ne("div",Oj,[Ne("div",Rj,[Ne("ul",Bj,[Ne("li",{class:Xn(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-first page-item",{disabled:e.setting.page<=1}])},[Ne("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-first page-link cursor-pointer","aria-label":"Previous",onClick:t[7]||(t[7]=Rc(m=>e.setting.page=1,["prevent"]))},Fj)],2),Ne("li",{class:Xn(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-prev page-item",{disabled:e.setting.page<=1}])},[Ne("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-prev page-link cursor-pointer","aria-label":"Previous",onClick:t[8]||(t[8]=Rc((...m)=>e.prevPage&&e.prevPage(...m),["prevent"]))},$j)],2),(yt(!0),St(en,null,Kn(e.setting.paging,m=>(yt(),St("li",{class:Xn(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-number page-item",{disabled:e.setting.page===m}]),key:m},[Ne("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-number page-link cursor-pointer",onClick:Rc(n=>e.movePage(m),["prevent"])},Fi(m),9,Gj)],2))),128)),Ne("li",{class:Xn(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-next page-item",{disabled:e.setting.page>=e.setting.maxPage}])},[Ne("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-next page-link cursor-pointer","aria-label":"Next",onClick:t[9]||(t[9]=Rc((...m)=>e.nextPage&&e.nextPage(...m),["prevent"]))},Wj)],2),Ne("li",{class:Xn(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-last page-item",{disabled:e.setting.page>=e.setting.maxPage}])},[Ne("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-last page-link cursor-pointer","aria-label":"Next",onClick:t[10]||(t[10]=Rc(m=>e.setting.page=e.setting.maxPage,["prevent"]))},Xj)],2)])])])],64))])):(yt(),St("div",Zj,[Ne("div",Kj,Fi(e.messages.noDataAvailable),1)]))])])}const Qj=Jn(NF,[["render",Jj],["__scopeId","data-v-8c9f1486"]]);var R5={at_port:{img:"/icon/blue.png",name:"At Port"},underway:{img:"/icon/green.png",name:"Underway"},lost_connection:{img:"/icon/red.png",name:"Lost Connection"},at_anchorage:{img:"/icon/yellow.png",name:"At Anchorage"},other:{img:"/icon/purple.png",name:"Other"}};const eU={components:{TableLite:Qj},props:{},data(){return{keyword:"",isLoading:!1,fleets:[],columns:[{label:"Vessel Name",field:"name"},{label:"Vessel State",field:"fleet_status",display:function(e){return R5[e.fleet_status]?R5[e.fleet_status].name:"Other"}},{label:"Connection",field:"connected",display:function(e){return e.connected?'<div class="badge bg-success"></div> Good':'<div class="badge bg-danger"></div> No Connection'}},{label:"Last Connection At",field:"last_connection"},{label:"Location",field:"navigation.location",display:function(e){return e.navigation?`${e.navigation.lat.toFixed(4)} ${e.navigation.lat_dir}, ${e.navigation.lng.toFixed(4)} ${e.navigation.lng_dir}`:""}},{label:"Course",field:"navigation.sog",display:e=>e.navigation?e.navigation.cog:0},{label:"Speed (kn)",field:"navigation.sog",display:e=>e.navigation?e.navigation.sog:0},{label:"Origin",field:"voyage.origin"},{label:"Destination",field:"voyage.destination"},{label:"ETA",field:"voyage.eta"}],isHide:!0}},computed:{totalRecordCount(){return this.items.length},items(){return this.fleets.filter(e=>e.name.toLowerCase().includes(this.keyword.toLowerCase()))}},mounted(){this.fetchData()},methods:{doSearch(e,t,s,a){this.isLoading=!0,this.isLoading=!1},async fetchData(){let{data:e}=await axios.get("/api/fleets");e.forEach(t=>{this.fleets.push(t)})}}},tU={class:"fleets-list"},iU={class:"card"},nU={class:"card-header search"},sU={action:"#",method:"get",style:{width:"300px"}},rU={class:"input-icon"},oU=Sd('<span class="input-icon-addon"><svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><circle cx="10" cy="10" r="7"></circle><line x1="21" y1="21" x2="15" y2="15"></line></svg></span>',1),aU={class:"card-actions btn-actions"},lU={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},cU=Ne("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),dU=Ne("polyline",{points:"15 6 9 12 15 18"},null,-1),hU=[cU,dU],uU={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},pU=Ne("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),fU=Ne("polyline",{points:"6 9 12 15 18 9"},null,-1),mU=[pU,fU];function gU(e,t,s,a,c,h){const m=Un("table-lite");return yt(),St("div",tU,[Ne("div",iU,[Ne("div",nU,[Ne("form",sU,[Ne("div",rU,[oU,Os(Ne("input",{type:"text",onFocus:t[0]||(t[0]=n=>c.isHide=!1),onKeyup:t[1]||(t[1]=(...n)=>e.search&&e.search(...n)),"onUpdate:modelValue":t[2]||(t[2]=n=>c.keyword=n),class:"form-control",placeholder:"Search…","aria-label":"Search in website"},null,544),[[Aa,c.keyword]])])]),Ne("div",aU,[Ne("a",{href:"#",class:"btn-action",onClick:t[3]||(t[3]=n=>c.isHide=!c.isHide)},[c.isHide?rn("",!0):(yt(),St("svg",lU,hU)),c.isHide?(yt(),St("svg",uU,mU)):rn("",!0)])])]),Ne("div",{class:Xn(["card-table table-responsive",{hide:c.isHide}])},[Qi(m,{"is-static-mode":!0,"is-loading":c.isLoading,columns:c.columns,rows:h.items,total:h.totalRecordCount,"page-size":5,pageOptions:[{value:5,text:5},{value:10,text:10},{value:25,text:25},{value:50,text:50}],onDoSearch:h.doSearch,onIsFinished:t[4]||(t[4]=n=>c.isLoading=!1)},null,8,["is-loading","columns","rows","total","onDoSearch"])],2)])])}const _U=Jn(eU,[["render",gU]]);window.mapboxgl=hl;const yU={components:{"x-search":T8,"x-notification":C8,"x-records":E8,"x-navigation":M8,"x-camera":A8,"x-parameter":k8,"x-legend":zF,MapboxMap:f_,MapboxNavigationControl:m_,fleetTable:_U},data(){return{weatherKey:"dfc256782db426c6a8d3b8daaefa5b33",weathers:[],icons:{at_port:bF,underway:wF,lost_connection:SF,at_anchorage:TF,other:CF},map:null,current:[],timer:null,fleets:[],zoom:3,center:[118,0],popup:null,fleet:null,showSideInfo:!1,fleets_point:{type:"FeatureCollection",features:[]},fleetsGroup:[],filters:{}}},mounted(){this.timer=setInterval(()=>{this.refreshData()},5*1e3);let e=this;Object.keys(this.icons).forEach(function(t){e.map.loadImage(e.icons[t],(s,a)=>{if(s)throw s;e.map.addImage(t,a)})}),this.popup=new hl.Popup({closeButton:!0,closeOnClick:!1})},methods:{async fetchData(){let{data:e}=await axios.get("/api/fleets",{params:this.filters});this.fleets=e,this.fleets_point.features=[],e.forEach(t=>{if(t.navigation){let s=t.fleet_status;this.fleets_point.features.push({type:"Feature",geometry:{type:"Point",coordinates:[t.navigation.lng,t.navigation.lat]},properties:{scale:1,id:t.id,heading:t.navigation.heading,name:t.name,image:t.image,status:t.fleet_status,icon:s,depth:t.navigation.depth,sog:t.navigation.sog,cog:t.navigation.cog,imo:t.imo_number,last_update:Rm(t.last_connection),time:this.$filters.dateformat(t.last_connection,"DD/MM/YYYY HH:mm")}})}})},async loaded(){await this.fetchData(),this.buildLayer()},async refreshData(){await this.fetchData();let e=await this.map.getSource("ship-position");e&&e.setData(this.fleets_point)},buildLayer(){let e=this;this.map.addSource("ship-position",{type:"geojson",data:this.fleets_point}),this.map.addLayer({id:"ship-position",type:"symbol",source:"ship-position",layout:{"icon-image":["get","icon"],"icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.12,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}});const t=new hl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","ship-position",s=>{let a=s.features[0].properties.id;e.showInfo(a)}),this.map.on("mouseenter","ship-position",s=>{e.map.getCanvas().style.cursor="pointer";const a=s.features[0].geometry.coordinates.slice(),c=`<b>${s.features[0].properties.name} [ID]</b> at ${s.features[0].properties.sog} <b>kn</b> / ${s.features[0].properties.cog}&deg;<br>Last Update: <b>${s.features[0].properties.last_update}</b><br>Time: <b>${s.features[0].properties.time}</b>`;for(;Math.abs(s.lngLat.lng-a[0])>180;)a[0]+=s.lngLat.lng>a[0]?360:-360;t.setLngLat(a).setHTML(c).addTo(e.map)}),this.map.on("mouseleave","ship-position",()=>{e.map.getCanvas().style.cursor="",t.remove()})},async buildWeathers(){const h=[];for(let z=0;z<10;z++)for(let Y=0;Y<10;Y++)h.push({lat:-80+z*(80- -80)/10,lng:-180+Y*(180- -180)/10,val:0,wind:{},weather:{}});const m="https://api.openweathermap.org/data/2.5/weather?units=metric&lat=",n=h.map(z=>m+z.lat+"&lon="+z.lng+"&appid="+this.weatherKey),x=await Promise.all(n.map(async z=>(await fetch(z)).text()));h.forEach((z,Y)=>{let O=JSON.parse(x[Y]);z.val=O.main.temp,z.wind=O.wind,z.weather=O.weather[0]}),this.weathers=h},findFleet(e){if(!e.navigation)return;let t=e.id;this.popup.remove();const s=`<a class="no-style" href="/fleet/${t}"><b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>Last Update: <b>${Rm(e.last_connection)}</b><br>Time: ${this.$filters.dateformat(e.last_connection,"DD/MM/YYYY HH:mm")}</a>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(s).addTo(this.map),this.center=[e.navigation.lng,e.navigation.lat],this.zoom=5},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},showInfo(e){let t=this.fleets.findIndex(function(s){return s.id===e});t>=0&&(this.fleet=this.fleets[t],this.showSideInfo=!0)},buildTrack(e){console.log(e)},doFilter(e){this.filters.fleet_status=e.label,this.refreshData()}}},vU={class:"position-relative"},xU={class:"pointer-info",ref:"pointerInfo"};function bU(e,t,s,a,c,h){const m=Un("x-search"),n=Un("fleet-side-info"),x=Un("x-legend"),z=Un("MapboxNavigationControl"),Y=Un("MapboxMap"),O=Un("fleet-table");return yt(),St(en,null,[Ne("div",vU,[Qi(m,{fleets:c.fleets,onSelected:h.findFleet},null,8,["fleets","onSelected"]),c.fleet?(yt(),ja(n,{key:0,fleet:c.fleet,display:c.showSideInfo,onClose:t[0]||(t[0]=V=>c.showSideInfo=!1),onHistory:h.buildTrack},null,8,["fleet","display","onHistory"])):rn("",!0),Ne("div",xU,null,512),Qi(x,{fleets:c.fleets,onFilters:h.doFilter},null,8,["fleets","onFilters"]),Qi(Y,{onMbCreated:t[1]||(t[1]=V=>c.map=V),onMbLoad:h.loaded,onMbMousemove:h.pointerLocation,style:{height:"calc(100vh - 128px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:c.center,zoom:c.zoom},{default:To(()=>[Qi(z,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center","zoom"])]),Qi(O,{fleets:c.fleets},null,8,["fleets"])],64)}const wU=Jn(yU,[["render",bU]]),FS="/build/assets/ship-c94d8078.png",SU=[{time:1673037001e3,id:"c78219c1-d81e-4d33-8984-e39fa3710bfa",ship_id:1,terminal_time:"2023-01-06 20:30:01",lat:-6.009818,lng:106.900525,wind_speed:17.4,wind_direction:21,heading:249.1,distance:88548.42,depth:-12,cog:282.6,sog:0,created_at:"2023-01-07 08:06:28",updated_at:"2023-01-07 08:06:28"},{time:1673037901e3,id:"ee8ec98d-526d-46bf-9d00-ec50433fafb3",ship_id:1,terminal_time:"2023-01-06 20:45:01",lat:-6.009707,lng:106.900482,wind_speed:19.6,wind_direction:15.4,heading:242.9,distance:88548.43,depth:-12.1,cog:358.3,sog:0,created_at:"2023-01-07 08:07:15",updated_at:"2023-01-07 08:07:15"},{time:1673038801e3,id:"22cab800-8d22-44fb-abc1-f5fafd1947a3",ship_id:1,terminal_time:"2023-01-06 21:00:01",lat:-6.00976,lng:106.90053,wind_speed:17.1,wind_direction:16.8,heading:247,distance:88548.44,depth:-12.3,cog:285.2,sog:.1,created_at:"2023-01-07 08:07:02",updated_at:"2023-01-07 08:07:02"},{time:1673039701e3,id:"ee9bb42d-3fac-455b-8140-e032fc3abdcc",ship_id:1,terminal_time:"2023-01-06 21:15:01",lat:-6.0098,lng:106.900533,wind_speed:16.5,wind_direction:19.6,heading:247.1,distance:88548.45,depth:-12.1,cog:208.1,sog:.1,created_at:"2023-01-07 08:06:48",updated_at:"2023-01-07 08:06:48"},{time:1673040601e3,id:"9bf240fd-0767-4f62-94c9-91a4ef95f0cd",ship_id:1,terminal_time:"2023-01-06 21:30:01",lat:-6.009815,lng:106.900515,wind_speed:18.8,wind_direction:21,heading:248,distance:88548.46,depth:-12.1,cog:192.2,sog:0,created_at:"2023-01-07 08:06:43",updated_at:"2023-01-07 08:06:43"},{time:1673041501e3,id:"f4b05071-bc72-44fd-b58b-63e43e69112b",ship_id:1,terminal_time:"2023-01-06 21:45:01",lat:-6.00981,lng:106.900533,wind_speed:18.8,wind_direction:19.6,heading:0,distance:0,depth:-12.1,cog:79.9,sog:0,created_at:"2023-01-07 08:07:29",updated_at:"2023-01-07 08:07:29"},{time:1673042401e3,id:"2d2f89d4-18d5-4ac9-b08b-949a44cad43a",ship_id:1,terminal_time:"2023-01-06 22:00:01",lat:-6.009765,lng:106.900487,wind_speed:15.1,wind_direction:16.8,heading:0,distance:0,depth:-12.1,cog:11.7,sog:0,created_at:"2023-01-07 08:08:00",updated_at:"2023-01-07 08:08:00"},{time:1673043301e3,id:"e79b359c-6eb7-41e3-a526-c4c06282e62a",ship_id:1,terminal_time:"2023-01-06 22:15:01",lat:-6.009688,lng:106.900457,wind_speed:18.6,wind_direction:11.2,heading:242.7,distance:88548.47,depth:-12.1,cog:121.2,sog:0,created_at:"2023-01-07 08:07:47",updated_at:"2023-01-07 08:07:47"},{time:1673044201e3,id:"2750d1e6-4e3c-4946-a145-3e66185627ef",ship_id:1,terminal_time:"2023-01-06 22:30:01",lat:-6.009655,lng:106.900433,wind_speed:14.7,wind_direction:12.5,heading:242.4,distance:88548.48,depth:-12.1,cog:185.9,sog:.1,created_at:"2023-01-07 08:07:40",updated_at:"2023-01-07 08:07:40"},{time:1673045101e3,id:"85d26971-e86f-4f16-8fa5-bc711fcb9b91",ship_id:1,terminal_time:"2023-01-06 22:45:01",lat:-6.0096,lng:106.900403,wind_speed:13.2,wind_direction:11.2,heading:239.6,distance:88548.48,depth:-12.1,cog:180.1,sog:0,created_at:"2023-01-07 08:08:22",updated_at:"2023-01-07 08:08:22"},{time:1673046001e3,id:"06fa9922-e8d6-41c9-886e-e5295949399c",ship_id:1,terminal_time:"2023-01-06 23:00:01",lat:-16.056667,lng:116.8825,wind_speed:16.3,wind_direction:16.8,heading:241.5,distance:88548.49,depth:-12.1,cog:0,sog:0,created_at:"2023-01-07 08:08:11",updated_at:"2023-01-07 08:08:11"},{time:1673046901e3,id:"557403a0-0bc2-42f1-9a07-646c8d66822e",ship_id:1,terminal_time:"2023-01-06 23:15:01",lat:-6.009613,lng:106.900427,wind_speed:18.6,wind_direction:16.8,heading:240.7,distance:88548.49,depth:-12.3,cog:.9,sog:0,created_at:"2023-01-07 08:08:10",updated_at:"2023-01-07 08:08:10"},{time:1673047801e3,id:"bb7144ef-0827-4d3d-9c7b-b0bb7881f441",ship_id:1,terminal_time:"2023-01-06 23:30:01",lat:-6.009658,lng:106.900407,wind_speed:14.1,wind_direction:21,heading:0,distance:0,depth:-12.3,cog:192.5,sog:0,created_at:"2023-01-07 08:07:55",updated_at:"2023-01-07 08:07:55"},{time:1673048701e3,id:"8df2a863-e7d4-4c66-ab22-310f7ac661f2",ship_id:1,terminal_time:"2023-01-06 23:45:01",lat:-6.009732,lng:106.900458,wind_speed:15.7,wind_direction:21,heading:244.8,distance:88548.49,depth:-12.3,cog:152.6,sog:0,created_at:"2023-01-07 08:08:26",updated_at:"2023-01-07 08:08:26"},{time:1673049601e3,id:"e7d31596-5cc9-4fab-850b-c892908430b8",ship_id:1,terminal_time:"2023-01-07 00:00:01",lat:-6.009775,lng:106.900575,wind_speed:19.8,wind_direction:21,heading:250.9,distance:88548.5,depth:-12.3,cog:178.6,sog:.1,created_at:"2023-01-07 08:08:38",updated_at:"2023-01-07 08:08:38"},{time:1673050503e3,id:"1ae1dd53-7f4b-48cb-9aa3-af6f97274fdb",ship_id:1,terminal_time:"2023-01-07 00:15:03",lat:-6.010635,lng:106.898792,wind_speed:21.1,wind_direction:33.6,heading:236.2,distance:88548.61,depth:-12.3,cog:236.1,sog:2.5,created_at:"2023-01-07 08:09:21",updated_at:"2023-01-07 08:09:21"},{time:1673051403e3,id:"c12a6b0d-c9db-4451-a7c5-6f13c29e0954",ship_id:1,terminal_time:"2023-01-07 00:30:03",lat:-6.030335,lng:106.886345,wind_speed:19.8,wind_direction:54.9,heading:195.2,distance:88550.03,depth:-10.6,cog:193.8,sog:7.1,created_at:"2023-01-07 08:08:47",updated_at:"2023-01-07 08:08:47"},{time:1673052303e3,id:"c5971d9c-2c92-4736-950d-6734e6b305cd",ship_id:1,terminal_time:"2023-01-07 00:45:03",lat:-6.059783,lng:106.883237,wind_speed:19.6,wind_direction:67.5,heading:185.4,distance:88551.81,depth:-9.3,cog:182.4,sog:6.5,created_at:"2023-01-07 08:09:35",updated_at:"2023-01-07 08:09:35"},{time:1673053308e3,id:"bd9913a5-6be1-4c3b-89d1-938a9cf2f382",ship_id:1,terminal_time:"2023-01-07 01:01:48",lat:-6.08938,lng:106.883468,wind_speed:16.3,wind_direction:78.7,heading:0,distance:0,depth:-9,cog:161.9,sog:8.8,created_at:"2023-01-07 08:09:28",updated_at:"2023-01-07 08:09:28"},{time:1673054103e3,id:"aac0a1a7-cf35-4a7c-bdff-faef950524be",ship_id:1,terminal_time:"2023-01-07 01:15:03",lat:-6.095888,lng:106.902867,wind_speed:7.9,wind_direction:168.9,heading:0,distance:0,depth:-8.5,cog:97.1,sog:4.1,created_at:"2023-01-07 08:09:07",updated_at:"2023-01-07 08:09:07"},{time:1673055003e3,id:"db38b400-18fe-4637-84bc-441c4333900c",ship_id:1,terminal_time:"2023-01-07 01:30:03",lat:-6.100858,lng:106.906243,wind_speed:6.2,wind_direction:259,heading:0,distance:0,depth:-6,cog:181,sog:1,created_at:"2023-01-07 08:09:40",updated_at:"2023-01-07 08:09:40"},{time:1673055903e3,id:"52f58367-b5da-4516-99ac-401425b6889a",ship_id:1,terminal_time:"2023-01-07 01:45:03",lat:-6.101412,lng:106.90592,wind_speed:7.7,wind_direction:270.3,heading:0,distance:88555.15,depth:-2.1,cog:209.8,sog:0,created_at:"2023-01-07 08:09:32",updated_at:"2023-01-07 08:09:32"},{time:1673056803e3,id:"f8144029-2e71-4a9f-a077-871b58532749",ship_id:1,terminal_time:"2023-01-07 02:00:03",lat:-6.101405,lng:106.905882,wind_speed:3.3,wind_direction:280,heading:0,distance:88555.16,depth:-2.1,cog:349.2,sog:0,created_at:"2023-01-07 08:09:31",updated_at:"2023-01-07 08:09:31"},{time:1673057703e3,id:"03be7e48-aa1c-4ffb-8c39-402c203a283e",ship_id:1,terminal_time:"2023-01-07 02:15:03",lat:-6.101395,lng:106.905868,wind_speed:8.1,wind_direction:281.5,heading:359.9,distance:88555.18,depth:-2.1,cog:328.8,sog:.1,created_at:"2023-01-07 08:10:05",updated_at:"2023-01-07 08:10:05"},{time:1673058603e3,id:"fa44cb0f-6f3d-4e8d-b2b5-6540c952f48b",ship_id:1,terminal_time:"2023-01-07 02:30:03",lat:-6.101392,lng:106.90591,wind_speed:11,wind_direction:259,heading:359.9,distance:88555.18,depth:-2.1,cog:302,sog:0,created_at:"2023-01-07 08:10:07",updated_at:"2023-01-07 08:10:07"},{time:1673059503e3,id:"75810f78-b08f-42b1-a508-ee1b5d13c9e5",ship_id:1,terminal_time:"2023-01-07 02:45:03",lat:-6.101392,lng:106.90587,wind_speed:11,wind_direction:274.5,heading:359.7,distance:88555.19,depth:-2.1,cog:336.9,sog:.1,created_at:"2023-01-07 08:10:09",updated_at:"2023-01-07 08:10:09"},{time:1673060403e3,id:"b8076a15-7e98-4b6b-af9b-0261c6d1ce26",ship_id:1,terminal_time:"2023-01-07 03:00:03",lat:-6.101413,lng:106.905907,wind_speed:9.3,wind_direction:267.4,heading:359.5,distance:88555.2,depth:-2.1,cog:327.9,sog:0,created_at:"2023-01-07 08:09:38",updated_at:"2023-01-07 08:09:38"},{time:1673061303e3,id:"32656a8d-db24-44cc-af81-a149b2fa4e1f",ship_id:1,terminal_time:"2023-01-07 03:15:03",lat:-6.101405,lng:106.905922,wind_speed:8.5,wind_direction:270.3,heading:359.3,distance:88555.2,depth:-5.5,cog:34.4,sog:.1,created_at:"2023-01-07 08:10:40",updated_at:"2023-01-07 08:10:40"},{time:1673062203e3,id:"3e3fcfcf-19d1-4d33-857a-f68b14328338",ship_id:1,terminal_time:"2023-01-07 03:30:03",lat:-6.101402,lng:106.905877,wind_speed:6.2,wind_direction:268.8,heading:359.5,distance:88555.2,depth:-2.1,cog:292.1,sog:0,created_at:"2023-01-07 08:10:33",updated_at:"2023-01-07 08:10:33"},{time:1673063103e3,id:"1c4697c3-b6e6-4eb4-b165-94d5d36d3aa1",ship_id:1,terminal_time:"2023-01-07 03:45:03",lat:-6.10142,lng:106.905858,wind_speed:5.2,wind_direction:264.5,heading:359.7,distance:88555.2,depth:-2.1,cog:129.7,sog:0,created_at:"2023-01-07 08:10:44",updated_at:"2023-01-07 08:10:44"},{time:1673064003e3,id:"ba69338a-3d22-4a08-bb11-d3f886eb6c9b",ship_id:1,terminal_time:"2023-01-07 04:00:03",lat:-6.101392,lng:106.905878,wind_speed:5.6,wind_direction:264.5,heading:359.8,distance:88555.2,depth:-2.3,cog:233.4,sog:0,created_at:"2023-01-07 08:10:39",updated_at:"2023-01-07 08:10:39"},{time:1673064903e3,id:"bd930a40-a514-4c87-8044-e8633e1c1c52",ship_id:1,terminal_time:"2023-01-07 04:15:03",lat:-6.101395,lng:106.905902,wind_speed:6.4,wind_direction:252,heading:359.7,distance:88555.2,depth:0,cog:274.4,sog:0,created_at:"2023-01-07 08:11:40",updated_at:"2023-01-07 08:11:40"},{time:1673065803e3,id:"6544c411-e0b0-40bb-bf1e-efd22c3a2595",ship_id:1,terminal_time:"2023-01-07 04:30:03",lat:-6.101398,lng:106.905932,wind_speed:5.4,wind_direction:252,heading:359.7,distance:88555.2,depth:-2.5,cog:276.2,sog:0,created_at:"2023-01-07 08:11:26",updated_at:"2023-01-07 08:11:26"},{time:1673066703e3,id:"02b25b22-4c20-48a6-a3ad-5944f017c3b9",ship_id:1,terminal_time:"2023-01-07 04:45:03",lat:-6.101387,lng:106.9059,wind_speed:9.3,wind_direction:257.5,heading:0,distance:0,depth:-2.5,cog:163.2,sog:0,created_at:"2023-01-07 08:10:53",updated_at:"2023-01-07 08:10:53"},{time:1673067608e3,id:"523c3936-bffc-4662-9879-e3dff459febf",ship_id:1,terminal_time:"2023-01-07 05:00:08",lat:-6.101402,lng:106.905932,wind_speed:3.6,wind_direction:257.5,heading:359.7,distance:88555.21,depth:-2.5,cog:195.8,sog:0,created_at:"2023-01-07 08:11:05",updated_at:"2023-01-07 08:11:05"},{time:1673068503e3,id:"ccdee8cd-a739-471e-9dfc-0aa08c034f7a",ship_id:1,terminal_time:"2023-01-07 05:15:03",lat:-6.101402,lng:106.905907,wind_speed:6,wind_direction:257.5,heading:359.6,distance:88555.21,depth:-6.1,cog:162.3,sog:0,created_at:"2023-01-07 08:10:45",updated_at:"2023-01-07 08:10:45"},{time:1673069403e3,id:"d3d4589c-77e7-48fc-b418-c5957dae636d",ship_id:1,terminal_time:"2023-01-07 05:30:03",lat:-6.101398,lng:106.905877,wind_speed:7.7,wind_direction:263.1,heading:359.6,distance:88555.21,depth:-6,cog:295.8,sog:0,created_at:"2023-01-07 08:11:06",updated_at:"2023-01-07 08:11:06"},{time:1673070303e3,id:"9285db16-04b0-4d1a-812e-94fe03b78b0d",ship_id:1,terminal_time:"2023-01-07 05:45:03",lat:-6.101412,lng:106.90585,wind_speed:9.3,wind_direction:274.5,heading:359.6,distance:88555.21,depth:-2.6,cog:268.8,sog:0,created_at:"2023-01-07 08:11:37",updated_at:"2023-01-07 08:11:37"},{time:1673071203e3,id:"4cb25dd1-23a6-4a37-81de-b46cc1e8df0b",ship_id:1,terminal_time:"2023-01-07 06:00:03",lat:-6.101398,lng:106.905858,wind_speed:5.6,wind_direction:268.8,heading:359.6,distance:88555.21,depth:-2.8,cog:327.7,sog:0,created_at:"2023-01-07 08:12:02",updated_at:"2023-01-07 08:12:02"},{time:1673072103e3,id:"6ebeea29-07ba-4384-8f78-c0244a1a85e8",ship_id:1,terminal_time:"2023-01-07 06:15:03",lat:-6.101398,lng:106.905865,wind_speed:6,wind_direction:268.8,heading:0,distance:0,depth:-2.8,cog:324.2,sog:0,created_at:"2023-01-07 08:11:27",updated_at:"2023-01-07 08:11:27"},{time:1673073003e3,id:"de3806a1-9032-426c-84dc-93a8c6d7c31d",ship_id:1,terminal_time:"2023-01-07 06:30:03",lat:-6.101413,lng:106.905873,wind_speed:3.6,wind_direction:256.1,heading:359.7,distance:88555.21,depth:-2.8,cog:5.8,sog:0,created_at:"2023-01-07 08:12:23",updated_at:"2023-01-07 08:12:23"},{time:1673073903e3,id:"65707fec-2ee3-473e-beeb-9b2e845a36ca",ship_id:1,terminal_time:"2023-01-07 06:45:03",lat:-6.101433,lng:106.905833,wind_speed:6.8,wind_direction:257.5,heading:359.7,distance:88555.21,depth:-2.8,cog:304.6,sog:0,created_at:"2023-01-07 08:12:19",updated_at:"2023-01-07 08:12:19"},{time:1673074803e3,id:"6fa32b36-f399-4d56-8fa7-bea17b414006",ship_id:1,terminal_time:"2023-01-07 07:00:03",lat:-6.101392,lng:106.905888,wind_speed:3.4,wind_direction:246.3,heading:0,distance:0,depth:-2.8,cog:93.1,sog:0,created_at:"2023-01-07 08:12:40",updated_at:"2023-01-07 08:12:40"},{time:1673075703e3,id:"67ff30a8-02ef-41c0-bd19-463ebbd32668",ship_id:1,terminal_time:"2023-01-07 07:15:03",lat:-6.101408,lng:106.905885,wind_speed:7.5,wind_direction:229.4,heading:359.7,distance:88555.21,depth:-2.8,cog:197,sog:0,created_at:"2023-01-07 08:12:42",updated_at:"2023-01-07 08:12:42"},{time:1673094603e3,id:"3f01785d-ea13-49f9-b6ae-419329c8f20a",ship_id:1,terminal_time:"2023-01-07 12:30:03",lat:-6.101452,lng:106.905917,wind_speed:14.7,wind_direction:347.6,heading:0,distance:0,depth:-3.1,cog:35.3,sog:0,created_at:"2023-01-08 08:13:52",updated_at:"2023-01-08 08:13:52"},{time:1673095503e3,id:"317256ef-d958-4792-ac19-0af4678f296f",ship_id:1,terminal_time:"2023-01-07 12:45:03",lat:-6.101427,lng:106.905863,wind_speed:14.9,wind_direction:315.3,heading:359.7,distance:88555.22,depth:-3,cog:35.3,sog:0,created_at:"2023-01-08 08:24:39",updated_at:"2023-01-08 08:24:39"},{time:1673096403e3,id:"01638351-e630-4d24-a1b3-dc902b3abd82",ship_id:1,terminal_time:"2023-01-07 13:00:03",lat:-6.10141,lng:106.905895,wind_speed:17.3,wind_direction:326.5,heading:359.7,distance:88555.22,depth:-3,cog:91.4,sog:0,created_at:"2023-01-08 08:20:11",updated_at:"2023-01-08 08:20:11"},{time:1673097303e3,id:"70c8224a-27c3-469d-9482-f3b2e98f4bee",ship_id:1,terminal_time:"2023-01-07 13:15:03",lat:-6.101365,lng:106.905885,wind_speed:13.9,wind_direction:342,heading:359.7,distance:88555.22,depth:-3,cog:153.7,sog:0,created_at:"2023-01-08 08:07:44",updated_at:"2023-01-08 08:07:44"},{time:1673098203e3,id:"54be4b76-e5c1-4af2-b06a-d08e68ca8e6d",ship_id:1,terminal_time:"2023-01-07 13:30:03",lat:-6.101402,lng:106.905883,wind_speed:8.3,wind_direction:309.6,heading:359.9,distance:88555.22,depth:-2.8,cog:103.8,sog:0,created_at:"2023-01-08 08:05:41",updated_at:"2023-01-08 08:05:41"},{time:1673099103e3,id:"f45be026-3f21-4763-9f2e-599cfd772936",ship_id:1,terminal_time:"2023-01-07 13:45:03",lat:-6.101387,lng:106.90587,wind_speed:7.1,wind_direction:336.4,heading:359.6,distance:88555.22,depth:-3,cog:22,sog:0,created_at:"2023-01-08 08:25:15",updated_at:"2023-01-08 08:25:15"},{time:1673100003e3,id:"dda32aec-7c91-4a18-bc02-c6f8b1d47700",ship_id:1,terminal_time:"2023-01-07 14:00:03",lat:-6.101395,lng:106.905882,wind_speed:7.9,wind_direction:332.1,heading:0,distance:0,depth:-2.8,cog:57.4,sog:0,created_at:"2023-01-08 08:08:16",updated_at:"2023-01-08 08:08:16"},{time:1673100903e3,id:"b22e0b57-db66-4fe8-8773-39a691c334f9",ship_id:1,terminal_time:"2023-01-07 14:15:03",lat:-6.101398,lng:106.905873,wind_speed:8.3,wind_direction:350.5,heading:359.6,distance:88555.22,depth:-2.8,cog:37.9,sog:0,created_at:"2023-01-08 08:21:48",updated_at:"2023-01-08 08:21:48"},{time:1673101803e3,id:"4cb687f7-6740-478a-b9d8-7c415359678f",ship_id:1,terminal_time:"2023-01-07 14:30:03",lat:-6.101415,lng:106.90584,wind_speed:7.1,wind_direction:334.9,heading:359.7,distance:88555.23,depth:-2.8,cog:335.3,sog:0,created_at:"2023-01-08 08:14:53",updated_at:"2023-01-08 08:14:53"},{time:1673102703e3,id:"31d66256-54fa-4245-874b-a971ded2ac22",ship_id:1,terminal_time:"2023-01-07 14:45:03",lat:-6.10138,lng:106.905867,wind_speed:14.9,wind_direction:337.8,heading:359.7,distance:88555.23,depth:-2.8,cog:27.8,sog:0,created_at:"2023-01-08 08:03:26",updated_at:"2023-01-08 08:03:26"},{time:1673103603e3,id:"6e9c3626-321a-4c87-adb4-5e285a43cdf7",ship_id:1,terminal_time:"2023-01-07 15:00:03",lat:-6.101413,lng:106.905813,wind_speed:9.3,wind_direction:315.3,heading:359.6,distance:88555.24,depth:-2.6,cog:326.6,sog:.1,created_at:"2023-01-08 08:01:50",updated_at:"2023-01-08 08:01:50"},{time:1673104503e3,id:"dabbcbd4-70dc-48a7-9bf6-6a791bf70bf0",ship_id:1,terminal_time:"2023-01-07 15:15:03",lat:-6.101362,lng:106.905902,wind_speed:8.5,wind_direction:315.3,heading:359.6,distance:88555.25,depth:-2.6,cog:286.2,sog:0,created_at:"2023-01-08 08:14:31",updated_at:"2023-01-08 08:14:31"},{time:1673105403e3,id:"9ce52c58-26fe-4b79-acf6-efd91d7c3dea",ship_id:1,terminal_time:"2023-01-07 15:30:03",lat:-6.101402,lng:106.905895,wind_speed:8.7,wind_direction:290,heading:359.6,distance:88555.25,depth:-2.5,cog:39.8,sog:0,created_at:"2023-01-08 08:06:38",updated_at:"2023-01-08 08:06:38"},{time:1673106303e3,id:"fab10037-7bec-4b1b-a448-af671c2e5a09",ship_id:1,terminal_time:"2023-01-07 15:45:03",lat:-6.101377,lng:106.905907,wind_speed:9.1,wind_direction:302.5,heading:359.6,distance:88555.25,depth:-2.5,cog:11.5,sog:0,created_at:"2023-01-08 08:26:36",updated_at:"2023-01-08 08:26:36"},{time:1673107203e3,id:"72c4e9f4-b126-4cd5-af12-72d225bcc777",ship_id:1,terminal_time:"2023-01-07 16:00:03",lat:-6.101407,lng:106.90585,wind_speed:16.5,wind_direction:261,heading:359.5,distance:88555.26,depth:-2.5,cog:227.4,sog:0,created_at:"2023-01-08 08:29:59",updated_at:"2023-01-08 08:29:59"},{time:1673108103e3,id:"4dda9ef7-b131-499c-abb6-90d31b833212",ship_id:1,terminal_time:"2023-01-07 16:15:03",lat:-6.101415,lng:106.905928,wind_speed:7.7,wind_direction:274.5,heading:359.7,distance:88555.26,depth:-2.5,cog:276.8,sog:0,created_at:"2023-01-08 08:35:23",updated_at:"2023-01-08 08:35:23"},{time:1673109003e3,id:"eb055a93-284e-490c-b241-fc286a5245cb",ship_id:1,terminal_time:"2023-01-07 16:30:03",lat:-6.101398,lng:106.905935,wind_speed:18.4,wind_direction:281.5,heading:359.5,distance:88555.26,depth:-2.5,cog:150.5,sog:.1,created_at:"2023-01-08 08:19:17",updated_at:"2023-01-08 08:19:17"},{time:1673109903e3,id:"70fe1092-70d1-4e3e-9e6a-880e95753afe",ship_id:1,terminal_time:"2023-01-07 16:45:03",lat:-6.101348,lng:106.905867,wind_speed:12.8,wind_direction:244.9,heading:359.6,distance:88555.27,depth:-2.3,cog:354.6,sog:0,created_at:"2023-01-08 08:39:36",updated_at:"2023-01-08 08:39:36"},{time:1673110803e3,id:"256314cb-dc49-4a3d-bfc0-33982995e693",ship_id:1,terminal_time:"2023-01-07 17:00:03",lat:-6.101383,lng:106.905903,wind_speed:12,wind_direction:291.4,heading:359.6,distance:88555.27,depth:-2.5,cog:354.6,sog:0,created_at:"2023-01-08 08:12:53",updated_at:"2023-01-08 08:12:53"},{time:1673111703e3,id:"3cec9ede-f851-4440-95b3-e72f237da615",ship_id:1,terminal_time:"2023-01-07 17:15:03",lat:-6.101377,lng:106.905882,wind_speed:9.9,wind_direction:292.8,heading:359.6,distance:88555.27,depth:-2.5,cog:311.3,sog:0,created_at:"2023-01-08 08:18:20",updated_at:"2023-01-08 08:18:20"},{time:1673112893e3,id:"da145ee1-2387-4054-9190-cfd1c2e5f63c",ship_id:1,terminal_time:"2023-01-07 17:34:53",lat:-6.101393,lng:106.905928,wind_speed:13.6,wind_direction:257.1,heading:359.6,distance:88555.27,depth:-2.5,cog:278.9,sog:0,created_at:"2023-01-08 08:26:11",updated_at:"2023-01-08 08:26:11"},{time:1673113508e3,id:"25b0fe9e-9b29-4029-a7db-9138ef1c0173",ship_id:1,terminal_time:"2023-01-07 17:45:08",lat:-6.101463,lng:106.90597,wind_speed:14.3,wind_direction:263.1,heading:359.6,distance:88555.27,depth:-2.5,cog:350.3,sog:.1,created_at:"2023-01-08 08:06:11",updated_at:"2023-01-08 08:06:11"},{time:1673114403e3,id:"d85ae345-eb3f-420f-ae10-c8f0c078fb2d",ship_id:1,terminal_time:"2023-01-07 18:00:03",lat:-6.101395,lng:106.90591,wind_speed:15.3,wind_direction:246.3,heading:359.6,distance:88555.28,depth:-2.5,cog:8.3,sog:0,created_at:"2023-01-08 08:21:44",updated_at:"2023-01-08 08:21:44"},{time:1673115303e3,id:"388136b9-939e-4016-bb94-69e2165428e2",ship_id:1,terminal_time:"2023-01-07 18:15:03",lat:-6.101417,lng:106.905957,wind_speed:11,wind_direction:237,heading:359.7,distance:88555.28,depth:-2.5,cog:320.6,sog:0,created_at:"2023-01-08 08:27:27",updated_at:"2023-01-08 08:27:27"},{time:1673116203e3,id:"718bb2e9-5a2a-47c8-9899-3f613b300f13",ship_id:1,terminal_time:"2023-01-07 18:30:03",lat:-6.1014230000000005,lng:106.90596,wind_speed:10.1,wind_direction:252,heading:359.7,distance:88555.28,depth:-2.5,cog:262,sog:.3,created_at:"2023-01-08 08:35:15",updated_at:"2023-01-08 08:35:15"},{time:1673117103e3,id:"58662b8e-afe4-4e8d-9d81-e92fd5bd6de1",ship_id:1,terminal_time:"2023-01-07 18:45:03",lat:-6.101337,lng:106.905935,wind_speed:16.7,wind_direction:259,heading:359.6,distance:88555.28,depth:-2.5,cog:265.6,sog:0,created_at:"2023-01-08 08:24:32",updated_at:"2023-01-08 08:24:32"},{time:1673118003e3,id:"9dcc2e7d-fc6a-4026-8452-732e033d633d",ship_id:1,terminal_time:"2023-01-07 19:00:03",lat:-6.101408,lng:106.905923,wind_speed:12.6,wind_direction:270.4,heading:0,distance:0,depth:-2.5,cog:251.1,sog:.1,created_at:"2023-01-08 08:31:10",updated_at:"2023-01-08 08:31:10"},{time:1673118903e3,id:"d77f77c6-11e3-4d58-8a75-767aacbdee1c",ship_id:1,terminal_time:"2023-01-07 19:15:03",lat:-6.101403,lng:106.905935,wind_speed:9.3,wind_direction:274.5,heading:359.7,distance:88555.28,depth:-2.5,cog:242.4,sog:.1,created_at:"2023-01-08 08:32:39",updated_at:"2023-01-08 08:32:39"},{time:1673119803e3,id:"8676ff37-9bd6-4f53-8ba7-7eaad2bd126b",ship_id:1,terminal_time:"2023-01-07 19:30:03",lat:-6.101392,lng:106.905928,wind_speed:15.3,wind_direction:247.7,heading:359.7,distance:88555.28,depth:-2.5,cog:252.7,sog:0,created_at:"2023-01-08 08:34:35",updated_at:"2023-01-08 08:34:35"},{time:1673120703e3,id:"5a10a4d6-445d-4387-9c6a-e002b768b83b",ship_id:1,terminal_time:"2023-01-07 19:45:03",lat:-6.101385,lng:106.905918,wind_speed:9.1,wind_direction:259,heading:359.7,distance:88555.29,depth:-2.5,cog:142.2,sog:0,created_at:"2023-01-08 08:31:06",updated_at:"2023-01-08 08:31:06"},{time:1673121603e3,id:"b43588b1-8bee-476f-ba71-4ee6dc1af694",ship_id:1,terminal_time:"2023-01-07 20:00:03",lat:-6.101337,lng:106.90589,wind_speed:9.9,wind_direction:268.8,heading:359.6,distance:88555.29,depth:-6,cog:205.2,sog:0,created_at:"2023-01-08 08:47:20",updated_at:"2023-01-08 08:47:20"},{time:1673122503e3,id:"6ef2d5ef-f541-4f4e-98b6-8369ed0998fb",ship_id:1,terminal_time:"2023-01-07 20:15:03",lat:-6.101357,lng:106.90591,wind_speed:9.1,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-2.5,cog:133.2,sog:0,created_at:"2023-01-08 08:45:51",updated_at:"2023-01-08 08:45:51"},{time:1673123403e3,id:"9ac81b12-4d78-42fa-926f-0e27f16a6abe",ship_id:1,terminal_time:"2023-01-07 20:30:03",lat:-6.101347,lng:106.905885,wind_speed:11.2,wind_direction:268.8,heading:359.7,distance:88555.29,depth:-2.5,cog:129.4,sog:0,created_at:"2023-01-08 08:43:43",updated_at:"2023-01-08 08:43:43"},{time:1673124303e3,id:"9c3c0c72-7ede-45ce-8cd0-45f46d05cf4f",ship_id:1,terminal_time:"2023-01-07 20:45:03",lat:-6.101392,lng:106.905992,wind_speed:9.9,wind_direction:280,heading:359.7,distance:88555.29,depth:-2.5,cog:269.2,sog:0,created_at:"2023-01-08 08:42:24",updated_at:"2023-01-08 08:42:24"},{time:1673125203e3,id:"180ab6f9-b46b-4175-9c0c-cfbd47d75a75",ship_id:1,terminal_time:"2023-01-07 21:00:03",lat:-6.10138,lng:106.905928,wind_speed:6.2,wind_direction:259,heading:359.6,distance:88555.29,depth:-2.5,cog:273,sog:.1,created_at:"2023-01-08 08:44:15",updated_at:"2023-01-08 08:44:15"},{time:1673126103e3,id:"aca79290-d836-4f81-b20c-db5c3d1c9ed5",ship_id:1,terminal_time:"2023-01-07 21:15:03",lat:-6.101395,lng:106.905888,wind_speed:8.5,wind_direction:270.3,heading:359.7,distance:88555.29,depth:-5.5,cog:284.7,sog:0,created_at:"2023-01-08 08:44:39",updated_at:"2023-01-08 08:44:39"},{time:1673127003e3,id:"3d37da9b-e78d-4c94-9628-2f75dfacd975",ship_id:1,terminal_time:"2023-01-07 21:30:03",lat:-6.10136,lng:106.905928,wind_speed:7.1,wind_direction:291.4,heading:359.7,distance:88555.29,depth:-2.5,cog:288.6,sog:0,created_at:"2023-01-08 08:43:59",updated_at:"2023-01-08 08:43:59"},{time:1673127903e3,id:"c85fc3eb-6766-4f04-b655-698bee2b112a",ship_id:1,terminal_time:"2023-01-07 21:45:03",lat:-6.101362,lng:106.905857,wind_speed:6.9,wind_direction:257.5,heading:359.8,distance:88555.29,depth:-2.3,cog:157.1,sog:0,created_at:"2023-01-08 08:48:25",updated_at:"2023-01-08 08:48:25"},{time:1673128803e3,id:"e0371ba8-d853-4a52-b612-ef2dd4db6f02",ship_id:1,terminal_time:"2023-01-07 22:00:03",lat:-6.101388,lng:106.905863,wind_speed:9.9,wind_direction:248,heading:359.6,distance:88555.29,depth:-2.5,cog:157.1,sog:0,created_at:"2023-01-08 08:46:57",updated_at:"2023-01-08 08:46:57"},{time:1673129703e3,id:"6aabe75f-fedb-42af-8440-6af78469558d",ship_id:1,terminal_time:"2023-01-07 22:15:03",lat:-6.101375,lng:106.905928,wind_speed:6.9,wind_direction:287.1,heading:359.7,distance:88555.29,depth:-2.3,cog:216.5,sog:0,created_at:"2023-01-08 08:54:20",updated_at:"2023-01-08 08:54:20"},{time:1673130603e3,id:"4068d565-7aa1-427b-8727-8edb9c691ecc",ship_id:1,terminal_time:"2023-01-07 22:30:03",lat:-6.101373,lng:106.905895,wind_speed:7.9,wind_direction:287.1,heading:359.8,distance:88555.29,depth:-2.5,cog:205.4,sog:0,created_at:"2023-01-08 08:51:59",updated_at:"2023-01-08 08:51:59"},{time:1673131503e3,id:"701364de-f35b-4f45-b2f2-65f53ffe574a",ship_id:1,terminal_time:"2023-01-07 22:45:03",lat:-6.101392,lng:106.905898,wind_speed:12.4,wind_direction:287.1,heading:359.8,distance:88555.29,depth:-2.5,cog:222.7,sog:0,created_at:"2023-01-08 08:48:51",updated_at:"2023-01-08 08:48:51"},{time:1673132403e3,id:"658bd145-0a61-4c2d-94fb-1bf054a3264c",ship_id:1,terminal_time:"2023-01-07 23:00:03",lat:-6.101363,lng:106.905863,wind_speed:7.9,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-5.6,cog:129.2,sog:0,created_at:"2023-01-08 08:48:31",updated_at:"2023-01-08 08:48:31"},{time:1673133303e3,id:"58f92089-82d0-4bd5-9832-04677dc76be5",ship_id:1,terminal_time:"2023-01-07 23:15:03",lat:-6.101358,lng:106.905842,wind_speed:8.7,wind_direction:294.1,heading:359.7,distance:88555.29,depth:-2.5,cog:128.4,sog:0,created_at:"2023-01-08 08:55:51",updated_at:"2023-01-08 08:55:51"},{time:1673134203e3,id:"4736fadb-7f73-40fa-a2de-b9fa0a792b3e",ship_id:1,terminal_time:"2023-01-07 23:30:03",lat:-6.101348,lng:106.905888,wind_speed:10.6,wind_direction:297,heading:359.6,distance:88555.29,depth:-2.5,cog:344,sog:0,created_at:"2023-01-08 08:59:25",updated_at:"2023-01-08 08:59:25"},{time:1673135178e3,id:"bf83dfc7-4cb9-4b55-965a-1452ed8e111e",ship_id:1,terminal_time:"2023-01-07 23:46:18",lat:-6.101382,lng:106.905902,wind_speed:10.8,wind_direction:281.6,heading:359.7,distance:88555.29,depth:-5.6,cog:32.8,sog:0,created_at:"2023-01-08 08:58:17",updated_at:"2023-01-08 08:58:17"},{time:1673136003e3,id:"1e9d6cbb-3da5-46c2-8c1d-7c43e9e347d7",ship_id:1,terminal_time:"2023-01-08 00:00:03",lat:-6.10139,lng:106.905845,wind_speed:6.9,wind_direction:270.3,heading:0,distance:0,depth:-5.8,cog:57.4,sog:0,created_at:"2023-01-08 08:54:51",updated_at:"2023-01-08 08:54:51"},{time:1673136904e3,id:"9a56f8c9-a895-41ed-88cb-c63672950f2c",ship_id:1,terminal_time:"2023-01-08 00:15:04",lat:-6.101378,lng:106.905893,wind_speed:6.8,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-5.6,cog:336.6,sog:0,created_at:"2023-01-08 08:58:04",updated_at:"2023-01-08 08:58:04"},{time:1673137804e3,id:"71adab84-32a5-43f8-9a16-44dd7cdf4c02",ship_id:1,terminal_time:"2023-01-08 00:30:04",lat:-6.101417,lng:106.905875,wind_speed:2.5,wind_direction:268.8,heading:359.6,distance:88555.29,depth:-2.5,cog:80.7,sog:0,created_at:"2023-01-08 08:56:16",updated_at:"2023-01-08 08:56:16"},{time:1673138704e3,id:"2b4e0681-bca8-423e-968c-9cbb94911ade",ship_id:1,terminal_time:"2023-01-08 00:45:04",lat:-6.101407,lng:106.905868,wind_speed:6.6,wind_direction:270.3,heading:359.5,distance:88555.29,depth:-2.5,cog:281.8,sog:0,created_at:"2023-01-08 09:02:07",updated_at:"2023-01-08 09:02:07"},{time:1673139604e3,id:"a5757655-280b-4850-9423-55cce4abb3d4",ship_id:1,terminal_time:"2023-01-08 01:00:04",lat:-6.101452,lng:106.905895,wind_speed:8.7,wind_direction:302.5,heading:359.6,distance:88555.29,depth:-2.5,cog:159.5,sog:0,created_at:"2023-01-08 09:02:50",updated_at:"2023-01-08 09:02:50"},{time:1673140504e3,id:"38de4f6b-61c5-490a-a785-9c11f352809e",ship_id:1,terminal_time:"2023-01-08 01:15:04",lat:-6.101402,lng:106.905898,wind_speed:7.9,wind_direction:292.8,heading:359.8,distance:88555.29,depth:-2.5,cog:171.7,sog:0,created_at:"2023-01-08 09:05:18",updated_at:"2023-01-08 09:05:18"},{time:1673141404e3,id:"0a1776c1-1425-41e8-91b9-367b23512d33",ship_id:1,terminal_time:"2023-01-08 01:30:04",lat:-6.101413,lng:106.905882,wind_speed:5.6,wind_direction:297,heading:359.7,distance:88555.29,depth:-2.5,cog:149.7,sog:.2,created_at:"2023-01-08 09:02:30",updated_at:"2023-01-08 09:02:30"},{time:1673142304e3,id:"25822b6e-cc26-4120-a534-707fae66297d",ship_id:1,terminal_time:"2023-01-08 01:45:04",lat:-6.101383,lng:106.905855,wind_speed:3.8,wind_direction:291.4,heading:359.7,distance:88555.3,depth:-2.5,cog:211.1,sog:0,created_at:"2023-01-08 09:05:11",updated_at:"2023-01-08 09:05:11"},{time:1673143204e3,id:"e6ba87a3-cf19-4484-886d-ed8a0850dd54",ship_id:1,terminal_time:"2023-01-08 02:00:04",lat:-6.101395,lng:106.905888,wind_speed:6.4,wind_direction:268.8,heading:359.8,distance:88555.31,depth:-2.5,cog:342.7,sog:.1,created_at:"2023-01-08 09:04:03",updated_at:"2023-01-08 09:04:03"},{time:1673144104e3,id:"828812ff-8977-46cf-8927-bec2687ff712",ship_id:1,terminal_time:"2023-01-08 02:15:04",lat:-6.101372,lng:106.905882,wind_speed:3.8,wind_direction:268.8,heading:359.8,distance:88555.33,depth:-2.6,cog:297.3,sog:.1,created_at:"2023-01-08 09:13:33",updated_at:"2023-01-08 09:13:33"},{time:1673145004e3,id:"25389b81-dc4a-46e8-ad1c-1660eb03a08f",ship_id:1,terminal_time:"2023-01-08 02:30:04",lat:-6.101395,lng:106.905907,wind_speed:7.5,wind_direction:264.5,heading:359.8,distance:88555.33,depth:-2.6,cog:315.1,sog:0,created_at:"2023-01-08 09:06:48",updated_at:"2023-01-08 09:06:48"},{time:1673145904e3,id:"0047c054-acbc-4a29-9ccd-52ba001da3a7",ship_id:1,terminal_time:"2023-01-08 02:45:04",lat:-6.101398,lng:106.905878,wind_speed:6.6,wind_direction:264.5,heading:0,distance:0,depth:-2.6,cog:336.3,sog:0,created_at:"2023-01-08 09:11:48",updated_at:"2023-01-08 09:11:48"},{time:1673146804e3,id:"829090c9-17ba-4477-8592-deb4da86dc63",ship_id:1,terminal_time:"2023-01-08 03:00:04",lat:-6.101402,lng:106.905895,wind_speed:5.4,wind_direction:264.5,heading:359.7,distance:88555.35,depth:-2.6,cog:17.1,sog:0,created_at:"2023-01-08 09:06:28",updated_at:"2023-01-08 09:06:28"},{time:1673147709e3,id:"1098eec6-77fe-4726-9e36-eea8a0a47b48",ship_id:1,terminal_time:"2023-01-08 03:15:09",lat:-6.101387,lng:106.905917,wind_speed:6.2,wind_direction:260.4,heading:359.7,distance:88555.35,depth:-2.6,cog:23.6,sog:0,created_at:"2023-01-08 09:09:10",updated_at:"2023-01-08 09:09:10"},{time:1673148604e3,id:"04d539ed-3c9f-49ed-aec5-3d4926391e7e",ship_id:1,terminal_time:"2023-01-08 03:30:04",lat:-6.101397,lng:106.90589,wind_speed:6.8,wind_direction:260.4,heading:359.7,distance:88555.36,depth:-2.6,cog:65.8,sog:0,created_at:"2023-01-08 09:15:33",updated_at:"2023-01-08 09:15:33"},{time:1673149504e3,id:"e5e010fd-95da-4dfb-a12f-ef9f733b8165",ship_id:1,terminal_time:"2023-01-08 03:45:04",lat:-6.101377,lng:106.905885,wind_speed:5.6,wind_direction:274.5,heading:359.6,distance:88555.36,depth:-2.6,cog:67.7,sog:0,created_at:"2023-01-08 09:10:57",updated_at:"2023-01-08 09:10:57"},{time:1673150404e3,id:"dcfe2cd6-711d-461f-90f7-4bf6c4a1b9ee",ship_id:1,terminal_time:"2023-01-08 04:00:04",lat:-6.101388,lng:106.905938,wind_speed:2.5,wind_direction:274.5,heading:359.5,distance:88555.36,depth:-2.6,cog:223,sog:.1,created_at:"2023-01-08 09:14:36",updated_at:"2023-01-08 09:14:36"},{time:1673151304e3,id:"ddf54501-6fbc-456e-bf5a-c79e016e9b00",ship_id:1,terminal_time:"2023-01-08 04:15:04",lat:-6.101403,lng:106.905913,wind_speed:6.4,wind_direction:280,heading:359.7,distance:88555.36,depth:-2.8,cog:188.7,sog:.1,created_at:"2023-01-08 09:21:25",updated_at:"2023-01-08 09:21:25"},{time:1673152204e3,id:"081423ac-f636-4f7a-9daf-5f4dab29c404",ship_id:1,terminal_time:"2023-01-08 04:30:04",lat:-6.101418,lng:106.90596,wind_speed:9.3,wind_direction:287.1,heading:0,distance:0,depth:-2.8,cog:159.5,sog:0,created_at:"2023-01-08 09:15:25",updated_at:"2023-01-08 09:15:25"},{time:1673153104e3,id:"c45710ce-5dc1-4757-ab7a-4d938442da15",ship_id:1,terminal_time:"2023-01-08 04:45:04",lat:-6.101403,lng:106.905892,wind_speed:8.1,wind_direction:274.5,heading:359.8,distance:88555.36,depth:-2.8,cog:125.5,sog:0,created_at:"2023-01-08 09:19:12",updated_at:"2023-01-08 09:19:12"},{time:1673154004e3,id:"15229013-0e45-4bf3-9949-1ea58fc0908a",ship_id:1,terminal_time:"2023-01-08 05:00:04",lat:-6.101338,lng:106.905882,wind_speed:9.1,wind_direction:259,heading:359.9,distance:88555.36,depth:-2.6,cog:136.1,sog:0,created_at:"2023-01-08 09:20:01",updated_at:"2023-01-08 09:20:01"},{time:1673154904e3,id:"d27c1b20-889b-4499-ba40-6e6c614178f8",ship_id:1,terminal_time:"2023-01-08 05:15:04",lat:-6.101348,lng:106.905915,wind_speed:10.1,wind_direction:257.5,heading:359.8,distance:88555.36,depth:-2.8,cog:151.6,sog:.1,created_at:"2023-01-08 09:23:27",updated_at:"2023-01-08 09:23:27"},{time:1673155804e3,id:"9a444a98-e7df-4f70-975d-85d5d62e290f",ship_id:1,terminal_time:"2023-01-08 05:30:04",lat:-6.101363,lng:106.905898,wind_speed:6.9,wind_direction:259,heading:359.7,distance:88555.36,depth:-2.8,cog:33.5,sog:0,created_at:"2023-01-08 09:21:23",updated_at:"2023-01-08 09:21:23"},{time:1673156704e3,id:"fc24c51c-214a-4d78-be5a-4c1c26802e09",ship_id:1,terminal_time:"2023-01-08 05:45:04",lat:-6.101373,lng:106.90589,wind_speed:9.9,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-2.8,cog:325.1,sog:0,created_at:"2023-01-08 09:25:36",updated_at:"2023-01-08 09:25:36"},{time:1673157604e3,id:"32c80507-1d8e-4091-9311-50e25e285dae",ship_id:1,terminal_time:"2023-01-08 06:00:04",lat:-6.101387,lng:106.905902,wind_speed:13.9,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-3,cog:329.3,sog:0,created_at:"2023-01-08 09:24:42",updated_at:"2023-01-08 09:24:42"},{time:1673158504e3,id:"ae9d8d04-f8b0-4358-bd9c-d9972e370315",ship_id:1,terminal_time:"2023-01-08 06:15:04",lat:-6.10138,lng:106.905895,wind_speed:6.8,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-3,cog:248.9,sog:0,created_at:"2023-01-08 09:26:04",updated_at:"2023-01-08 09:26:04"},{time:1673159404e3,id:"c0502c55-c023-4042-9af3-bd285c098a35",ship_id:1,terminal_time:"2023-01-08 06:30:04",lat:-6.101373,lng:106.905888,wind_speed:14.1,wind_direction:270.9,heading:359.6,distance:88555.36,depth:-3,cog:292.9,sog:0,created_at:"2023-01-08 09:21:20",updated_at:"2023-01-08 09:21:20"},{time:1673160304e3,id:"034a249c-02ba-437a-8aac-456cab629385",ship_id:1,terminal_time:"2023-01-08 06:45:04",lat:-6.101378,lng:106.90591,wind_speed:11.4,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:80.9,sog:0,created_at:"2023-01-08 09:23:12",updated_at:"2023-01-08 09:23:12"},{time:1673161204e3,id:"54e8bfab-005b-4826-8206-a37b4decfd0b",ship_id:1,terminal_time:"2023-01-08 07:00:04",lat:-6.101373,lng:106.905887,wind_speed:8.5,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:80.9,sog:0,created_at:"2023-01-08 09:27:00",updated_at:"2023-01-08 09:27:00"},{time:1673162104e3,id:"a8f38c56-ba61-4de6-80d1-3ea034df630a",ship_id:1,terminal_time:"2023-01-08 07:15:04",lat:-6.101405,lng:106.90589,wind_speed:12.4,wind_direction:242.1,heading:359.7,distance:88555.36,depth:-3,cog:167.3,sog:0,created_at:"2023-01-08 09:31:10",updated_at:"2023-01-08 09:31:10"},{time:1673163004e3,id:"1d43c613-abc9-4209-bfb3-9d54ecc33748",ship_id:1,terminal_time:"2023-01-08 07:30:04",lat:-6.10138,lng:106.905852,wind_speed:15.5,wind_direction:229.4,heading:0,distance:0,depth:0,cog:4.1,sog:0,created_at:"2023-01-08 09:28:35",updated_at:"2023-01-08 09:28:35"},{time:1673163904e3,id:"58b7809e-b846-4fba-b046-e7a1c2f3f84c",ship_id:1,terminal_time:"2023-01-08 07:45:04",lat:-6.101412,lng:106.905907,wind_speed:6.6,wind_direction:245.6,heading:359.8,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:31:46",updated_at:"2023-01-08 09:31:46"},{time:1673164809e3,id:"4ef617d0-0adb-40ea-bad4-e57322f78fe8",ship_id:1,terminal_time:"2023-01-08 08:00:09",lat:-6.101433,lng:106.905895,wind_speed:7.9,wind_direction:292.8,heading:359.7,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:31:36",updated_at:"2023-01-08 09:31:36"},{time:1673165704e3,id:"384723ff-16ea-4a47-bd1b-987a84141b3e",ship_id:1,terminal_time:"2023-01-08 08:15:04",lat:-6.101402,lng:106.905893,wind_speed:9.7,wind_direction:247.7,heading:359.7,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:34:02",updated_at:"2023-01-08 09:34:02"},{time:1673166604e3,id:"4a0c6afb-a827-4d1b-b943-57faa3c5ccb7",ship_id:1,terminal_time:"2023-01-08 08:30:04",lat:-6.1014230000000005,lng:106.905875,wind_speed:6.8,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:242.5,sog:0,created_at:"2023-01-08 09:35:08",updated_at:"2023-01-08 09:35:08"},{time:1673167504e3,id:"4c434111-7470-469b-82a2-10a66585fbe7",ship_id:1,terminal_time:"2023-01-08 08:45:04",lat:-6.101393,lng:106.905873,wind_speed:9.7,wind_direction:259,heading:359.6,distance:88555.36,depth:-3.3,cog:73.3,sog:0,created_at:"2023-01-08 09:36:15",updated_at:"2023-01-08 09:36:15"},{time:1673168404e3,id:"64a1f0ab-872f-4c4a-8e98-84e8f7f2aa2b",ship_id:1,terminal_time:"2023-01-08 09:00:04",lat:-6.101383,lng:106.905898,wind_speed:8.3,wind_direction:267.4,heading:359.6,distance:88555.36,depth:-3.3,cog:91.6,sog:.1,created_at:"2023-01-08 09:37:22",updated_at:"2023-01-08 09:37:22"},{time:1673169304e3,id:"15eb000c-e49a-4288-b9ba-29120dd16bbc",ship_id:1,terminal_time:"2023-01-08 09:15:04",lat:-6.101392,lng:106.905832,wind_speed:13.6,wind_direction:315.8,heading:359.7,distance:88555.36,depth:-3.3,cog:104.3,sog:0,created_at:"2023-01-08 09:38:28",updated_at:"2023-01-08 09:38:28"},{time:1673170204e3,id:"5013bfeb-e3b7-40fe-956e-67d86ef062fc",ship_id:1,terminal_time:"2023-01-08 09:30:04",lat:-6.10143,lng:106.905883,wind_speed:10.1,wind_direction:291.4,heading:359.8,distance:88555.36,depth:-3.3,cog:111.5,sog:0,created_at:"2023-01-08 09:39:35",updated_at:"2023-01-08 09:39:35"},{time:1673171104e3,id:"c42441d4-6121-4fd5-a94e-40e8a5538f88",ship_id:1,terminal_time:"2023-01-08 09:45:04",lat:-6.101408,lng:106.9059,wind_speed:6.8,wind_direction:325.1,heading:0,distance:0,depth:-3.3,cog:111.5,sog:0,created_at:"2023-01-08 09:45:06",updated_at:"2023-01-08 09:45:06"},{time:1673172004e3,id:"b88f901e-4b17-4f4d-950a-3bbe7040bfe9",ship_id:1,terminal_time:"2023-01-08 10:00:04",lat:-6.101438,lng:106.905878,wind_speed:7.3,wind_direction:282.8,heading:359.8,distance:88555.36,depth:-3.3,cog:116.3,sog:0,created_at:"2023-01-08 10:00:07",updated_at:"2023-01-08 10:00:07"},{time:1673172904e3,id:"ebab5955-d934-4330-9ccd-5d8d1496b18c",ship_id:1,terminal_time:"2023-01-08 10:15:04",lat:-6.101392,lng:106.905872,wind_speed:11.4,wind_direction:335,heading:359.7,distance:88555.36,depth:-3.3,cog:269.6,sog:0,created_at:"2023-01-08 10:15:06",updated_at:"2023-01-08 10:15:06"},{time:1673173804e3,id:"9f29317b-07a0-4caf-b754-11930dd5bd44",ship_id:1,terminal_time:"2023-01-08 10:30:04",lat:-6.101372,lng:106.905888,wind_speed:6.4,wind_direction:332.1,heading:359.7,distance:88555.36,depth:-3.3,cog:157.9,sog:0,created_at:"2023-01-08 10:30:06",updated_at:"2023-01-08 10:30:06"},{time:1673174704e3,id:"962a2be6-5432-402b-9958-84252f281c30",ship_id:1,terminal_time:"2023-01-08 10:45:04",lat:-6.101405,lng:106.905885,wind_speed:10.3,wind_direction:336.4,heading:0,distance:0,depth:-3.3,cog:272.5,sog:0,created_at:"2023-01-08 10:45:05",updated_at:"2023-01-08 10:45:05"},{time:1673175604e3,id:"ce56291e-c8e3-440f-92e0-921395a84182",ship_id:1,terminal_time:"2023-01-08 11:00:04",lat:-6.10143,lng:106.905957,wind_speed:11.6,wind_direction:325.1,heading:0,distance:0,depth:-3.3,cog:104.1,sog:0,created_at:"2023-01-08 11:00:06",updated_at:"2023-01-08 11:00:06"},{time:1673176504e3,id:"b25e30f7-bd69-432d-af8c-a46b5423e161",ship_id:1,terminal_time:"2023-01-08 11:15:04",lat:-6.101388,lng:106.905873,wind_speed:7.9,wind_direction:332.1,heading:0,distance:0,depth:-3.3,cog:312.3,sog:0,created_at:"2023-01-08 11:15:06",updated_at:"2023-01-08 11:15:06"},{time:1673177404e3,id:"0ccfc4ba-378e-4ad6-a4db-6b35d30a1a23",ship_id:1,terminal_time:"2023-01-08 11:30:04",lat:-6.101405,lng:106.905895,wind_speed:7.9,wind_direction:319.5,heading:359.7,distance:88555.37,depth:-3.3,cog:83.1,sog:.1,created_at:"2023-01-08 11:30:06",updated_at:"2023-01-08 11:30:06"},{time:1673178304e3,id:"b458b825-fbb6-40f4-b251-c347a72a39ab",ship_id:1,terminal_time:"2023-01-08 11:45:04",lat:-6.101403,lng:106.905887,wind_speed:9.5,wind_direction:332.1,heading:0,distance:0,depth:-3.3,cog:75.4,sog:0,created_at:"2023-01-08 11:45:05",updated_at:"2023-01-08 11:45:05"},{time:1673179204e3,id:"25575159-9a0f-4a66-a7d0-20aea87d0feb",ship_id:1,terminal_time:"2023-01-08 12:00:04",lat:-6.101412,lng:106.905878,wind_speed:8.5,wind_direction:343.6,heading:359.6,distance:88555.37,depth:-3.3,cog:67,sog:0,created_at:"2023-01-08 12:00:06",updated_at:"2023-01-08 12:00:06"},{time:1673180104e3,id:"a3bdb7f9-22b7-4e38-b981-ff099e82bfb6",ship_id:1,terminal_time:"2023-01-08 12:15:04",lat:-6.101407,lng:106.90585,wind_speed:13.8,wind_direction:349,heading:359.6,distance:88555.37,depth:-3.3,cog:36.2,sog:0,created_at:"2023-01-09 08:01:28",updated_at:"2023-01-09 08:01:28"},{time:1673181004e3,id:"468f0650-9d89-4a66-a334-a4fac77e4728",ship_id:1,terminal_time:"2023-01-08 12:30:04",lat:-6.101405,lng:106.905903,wind_speed:19.4,wind_direction:281.5,heading:359.6,distance:88555.37,depth:-3.3,cog:282.7,sog:0,created_at:"2023-01-09 08:03:29",updated_at:"2023-01-09 08:03:29"},{time:1673181904e3,id:"03deb747-2062-4451-bd06-e9432e1f2596",ship_id:1,terminal_time:"2023-01-08 12:45:04",lat:-6.10138,lng:106.905892,wind_speed:14.5,wind_direction:287.1,heading:359.6,distance:88555.38,depth:-3.3,cog:308.6,sog:0,created_at:"2023-01-09 08:02:16",updated_at:"2023-01-09 08:02:16"},{time:1673182804e3,id:"d195359b-cc5d-4733-9a4a-c450f7ecdda8",ship_id:1,terminal_time:"2023-01-08 13:00:04",lat:-6.101337,lng:106.905855,wind_speed:12.2,wind_direction:291.4,heading:359.7,distance:88555.38,depth:-3.1,cog:137.7,sog:0,created_at:"2023-01-09 08:02:58",updated_at:"2023-01-09 08:02:58"},{time:1673183704e3,id:"46707f11-6637-4097-9f27-85c91102848f",ship_id:1,terminal_time:"2023-01-08 13:15:04",lat:-6.101385,lng:106.905878,wind_speed:11,wind_direction:281.5,heading:359.6,distance:88555.38,depth:-3.1,cog:153.4,sog:0,created_at:"2023-01-09 08:03:38",updated_at:"2023-01-09 08:03:38"},{time:1673184604e3,id:"44555a10-55f3-451d-8279-71fd68a98ddd",ship_id:1,terminal_time:"2023-01-08 13:30:04",lat:-6.101418,lng:106.905922,wind_speed:20,wind_direction:281.5,heading:359.7,distance:88555.38,depth:-3.1,cog:131.7,sog:0,created_at:"2023-01-09 08:01:25",updated_at:"2023-01-09 08:01:25"},{time:1673185504e3,id:"6f43d2f1-2e54-4989-a2b6-7b411249f2a8",ship_id:1,terminal_time:"2023-01-08 13:45:04",lat:-6.101397,lng:106.90586,wind_speed:15.7,wind_direction:298.3,heading:359.7,distance:88555.38,depth:-3.1,cog:51.2,sog:0,created_at:"2023-01-09 08:03:28",updated_at:"2023-01-09 08:03:28"},{time:1673186404e3,id:"e21e47e0-7761-45fc-aa87-dc06fb2b621c",ship_id:1,terminal_time:"2023-01-08 14:00:04",lat:-6.101392,lng:106.905875,wind_speed:9.5,wind_direction:297,heading:359.6,distance:88555.38,depth:-3,cog:80.4,sog:0,created_at:"2023-01-09 08:02:10",updated_at:"2023-01-09 08:02:10"},{time:1673187304e3,id:"dbf363e6-e9e5-4e72-95d5-fed707eab8c4",ship_id:1,terminal_time:"2023-01-08 14:15:04",lat:-6.101355,lng:106.905872,wind_speed:10.3,wind_direction:332.1,heading:359.8,distance:88555.38,depth:-2.8,cog:289.8,sog:0,created_at:"2023-01-09 08:04:34",updated_at:"2023-01-09 08:04:34"},{time:1673188204e3,id:"12b53920-e835-4c42-8ab7-ec8061a9ba5c",ship_id:1,terminal_time:"2023-01-08 14:30:04",lat:-6.101383,lng:106.90588,wind_speed:7.3,wind_direction:280,heading:359.8,distance:88555.38,depth:-2.8,cog:26.9,sog:0,created_at:"2023-01-09 08:03:54",updated_at:"2023-01-09 08:03:54"},{time:1673189104e3,id:"c5c563a3-fe51-4dab-bcae-351d28e5f4de",ship_id:1,terminal_time:"2023-01-08 14:45:04",lat:-6.101362,lng:106.905937,wind_speed:13.8,wind_direction:304,heading:359.7,distance:88555.39,depth:-2.8,cog:310.4,sog:.1,created_at:"2023-01-09 08:01:04",updated_at:"2023-01-09 08:01:04"},{time:1673190004e3,id:"3d7b3cbb-14a0-4a8f-93d0-9cf906bc7355",ship_id:1,terminal_time:"2023-01-08 15:00:04",lat:-6.101373,lng:106.905875,wind_speed:5.2,wind_direction:309.6,heading:359.7,distance:88555.4,depth:-2.8,cog:11.5,sog:0,created_at:"2023-01-09 08:03:22",updated_at:"2023-01-09 08:03:22"},{time:1673190904e3,id:"9bd54cb5-0df6-4220-852a-e9ff92994333",ship_id:1,terminal_time:"2023-01-08 15:15:04",lat:-6.10139,lng:106.9059,wind_speed:9.7,wind_direction:319.5,heading:359.7,distance:88555.4,depth:-2.8,cog:310.4,sog:0,created_at:"2023-01-09 08:01:20",updated_at:"2023-01-09 08:01:20"},{time:1673191804e3,id:"1039c335-c4fe-4407-9d86-0e0e6f3801d7",ship_id:1,terminal_time:"2023-01-08 15:30:04",lat:-6.101395,lng:106.905902,wind_speed:5,wind_direction:304,heading:359.7,distance:88555.4,depth:-2.6,cog:310.4,sog:0,created_at:"2023-01-09 08:03:22",updated_at:"2023-01-09 08:03:22"},{time:1673192704e3,id:"2a373c7d-78e5-475d-b34b-0236fd987dbb",ship_id:1,terminal_time:"2023-01-08 15:45:04",lat:-6.101373,lng:106.905892,wind_speed:8.1,wind_direction:246.3,heading:359.7,distance:88555.4,depth:-2.6,cog:310.4,sog:0,created_at:"2023-01-09 08:02:09",updated_at:"2023-01-09 08:02:09"},{time:1673193609e3,id:"27afb88f-711d-446a-80c1-5db6f4d652e8",ship_id:1,terminal_time:"2023-01-08 16:00:09",lat:-6.101383,lng:106.905923,wind_speed:16.7,wind_direction:267.4,heading:359.8,distance:88555.4,depth:-2.6,cog:274.8,sog:0,created_at:"2023-01-09 08:01:34",updated_at:"2023-01-09 08:01:34"},{time:1673194504e3,id:"7a688f79-a052-4162-98a4-93fbeec24b60",ship_id:1,terminal_time:"2023-01-08 16:15:04",lat:-6.101367,lng:106.90591,wind_speed:11.4,wind_direction:291.4,heading:359.6,distance:88555.41,depth:-2.6,cog:177.3,sog:.1,created_at:"2023-01-09 08:01:27",updated_at:"2023-01-09 08:01:27"},{time:1673195404e3,id:"1c77e367-adf9-4b24-9e28-1614417c0043",ship_id:1,terminal_time:"2023-01-08 16:30:04",lat:-6.101337,lng:106.90587,wind_speed:10.8,wind_direction:280,heading:359.6,distance:88555.42,depth:-2.6,cog:163.2,sog:0,created_at:"2023-01-09 08:02:53",updated_at:"2023-01-09 08:02:53"},{time:1673196304e3,id:"47c8015f-f5e4-44eb-af39-6631ab095c14",ship_id:1,terminal_time:"2023-01-08 16:45:04",lat:-6.101367,lng:106.905915,wind_speed:6.6,wind_direction:280,heading:359.8,distance:88555.42,depth:-2.6,cog:359.3,sog:0,created_at:"2023-01-09 08:01:48",updated_at:"2023-01-09 08:01:48"},{time:1673197204e3,id:"d0e28486-e7bc-4ac1-a4d8-0bbb6d72aee3",ship_id:1,terminal_time:"2023-01-08 17:00:04",lat:-6.101365,lng:106.905892,wind_speed:6.9,wind_direction:267.4,heading:359.8,distance:88555.42,depth:-2.6,cog:282.7,sog:0,created_at:"2023-01-09 08:05:29",updated_at:"2023-01-09 08:05:29"},{time:1673198104e3,id:"5791dc42-ed81-48a4-b540-b452a5633205",ship_id:1,terminal_time:"2023-01-08 17:15:04",lat:-6.101408,lng:106.905945,wind_speed:9.5,wind_direction:257.5,heading:0,distance:0,depth:-2.6,cog:300.4,sog:0,created_at:"2023-01-09 08:04:45",updated_at:"2023-01-09 08:04:45"},{time:1673199004e3,id:"603a0afa-1ca2-45d2-a9b6-0745a5e33b11",ship_id:1,terminal_time:"2023-01-08 17:30:04",lat:-6.10137,lng:106.905992,wind_speed:9.1,wind_direction:249.1,heading:359.5,distance:88555.42,depth:-2.5,cog:302.2,sog:0,created_at:"2023-01-09 08:03:51",updated_at:"2023-01-09 08:03:51"},{time:1673199904e3,id:"ab249c72-fe0b-4b61-aadb-60e506340e0a",ship_id:1,terminal_time:"2023-01-08 17:45:04",lat:-6.101405,lng:106.905933,wind_speed:8.5,wind_direction:247.7,heading:359.5,distance:88555.42,depth:-2.5,cog:346.1,sog:0,created_at:"2023-01-09 08:03:29",updated_at:"2023-01-09 08:03:29"},{time:1673200804e3,id:"ad719767-8da7-4530-af3a-e3d833d92178",ship_id:1,terminal_time:"2023-01-08 18:00:04",lat:-6.101377,lng:106.905882,wind_speed:10.4,wind_direction:247.7,heading:0,distance:0,depth:-2.5,cog:10.1,sog:0,created_at:"2023-01-09 08:01:03",updated_at:"2023-01-09 08:01:03"},{time:1673207354e3,id:"63c9d130-6bb7-4318-b5f2-675e7faf0e4c",ship_id:1,terminal_time:"2023-01-08 19:49:14",lat:-6.101343,lng:106.905863,wind_speed:7.9,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.6,cog:159,sog:0,created_at:"2023-01-09 08:03:14",updated_at:"2023-01-09 08:03:14"},{time:1673208004e3,id:"3bf8de17-ebbb-4fcb-b854-a96a429acecb",ship_id:1,terminal_time:"2023-01-08 20:00:04",lat:-6.101333,lng:106.905857,wind_speed:9.9,wind_direction:235.1,heading:359.7,distance:88555.43,depth:-2.6,cog:83.4,sog:0,created_at:"2023-01-09 08:04:33",updated_at:"2023-01-09 08:04:33"},{time:1673208904e3,id:"fb4f8778-7bcb-40f3-956a-b79108ad31b2",ship_id:1,terminal_time:"2023-01-08 20:15:04",lat:-6.101393,lng:106.905902,wind_speed:7.5,wind_direction:252,heading:359.7,distance:88555.43,depth:-6,cog:131.2,sog:0,created_at:"2023-01-09 08:05:16",updated_at:"2023-01-09 08:05:16"},{time:1673209804e3,id:"5242adab-8959-40a5-8978-635cea013f84",ship_id:1,terminal_time:"2023-01-08 20:30:04",lat:-6.101357,lng:106.905868,wind_speed:5.6,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.5,cog:274.3,sog:0,created_at:"2023-01-09 08:00:56",updated_at:"2023-01-09 08:00:56"},{time:1673210704e3,id:"0c83a2c4-2bcd-476e-ac3b-460d1b25f858",ship_id:1,terminal_time:"2023-01-08 20:45:04",lat:-6.101342,lng:106.905882,wind_speed:7.5,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.6,cog:267.2,sog:0,created_at:"2023-01-09 08:02:36",updated_at:"2023-01-09 08:02:36"},{time:1673211604e3,id:"458708de-a317-4292-a57f-1117f5f9f56d",ship_id:1,terminal_time:"2023-01-08 21:00:04",lat:-6.101388,lng:106.905948,wind_speed:12.2,wind_direction:257.5,heading:359.8,distance:88555.43,depth:-2.6,cog:271.1,sog:0,created_at:"2023-01-09 08:05:06",updated_at:"2023-01-09 08:05:06"},{time:1673212504e3,id:"67504e3d-78c5-491b-ab2f-ead7b531eab7",ship_id:1,terminal_time:"2023-01-08 21:15:04",lat:-6.1014420000000005,lng:106.905875,wind_speed:9.5,wind_direction:257.5,heading:359.8,distance:88555.43,depth:-2.6,cog:273.1,sog:.1,created_at:"2023-01-09 08:03:54",updated_at:"2023-01-09 08:03:54"},{time:1673213404e3,id:"029c42f5-7b81-4393-94ab-d99385dd210e",ship_id:1,terminal_time:"2023-01-08 21:30:04",lat:-6.101397,lng:106.905873,wind_speed:9.1,wind_direction:280,heading:359.7,distance:88555.44,depth:-2.6,cog:278.6,sog:.1,created_at:"2023-01-09 08:05:28",updated_at:"2023-01-09 08:05:28"},{time:1673214304e3,id:"68b68fd8-c24d-4c82-8066-e3d469f5edbe",ship_id:1,terminal_time:"2023-01-08 21:45:04",lat:-6.101372,lng:106.905917,wind_speed:8.3,wind_direction:242.1,heading:359.8,distance:88555.44,depth:-6,cog:160.2,sog:0,created_at:"2023-01-09 08:05:13",updated_at:"2023-01-09 08:05:13"},{time:1673215204e3,id:"361ce47f-0c08-47bb-967f-d1db1b9a05c3",ship_id:1,terminal_time:"2023-01-08 22:00:04",lat:-6.10138,lng:106.905898,wind_speed:16.7,wind_direction:248.3,heading:359.6,distance:88555.44,depth:-2.6,cog:160.2,sog:0,created_at:"2023-01-09 08:05:04",updated_at:"2023-01-09 08:05:04"},{time:1673216104e3,id:"3ea2af9a-a3fc-420e-b179-53b02aa87e39",ship_id:1,terminal_time:"2023-01-08 22:15:04",lat:-6.10142,lng:106.90588,wind_speed:7.9,wind_direction:257.5,heading:359.6,distance:88555.44,depth:-6.1,cog:213.1,sog:0,created_at:"2023-01-09 08:05:49",updated_at:"2023-01-09 08:05:49"},{time:1673217004e3,id:"1cb11726-d0ad-4402-a975-0af78f5631b4",ship_id:1,terminal_time:"2023-01-08 22:30:04",lat:-6.101388,lng:106.905885,wind_speed:17.1,wind_direction:247.7,heading:359.8,distance:88555.44,depth:-6,cog:221.4,sog:0,created_at:"2023-01-09 08:06:08",updated_at:"2023-01-09 08:06:08"},{time:1673217904e3,id:"892a3800-b287-4c33-913e-0683528e0431",ship_id:1,terminal_time:"2023-01-08 22:45:04",lat:-6.101377,lng:106.905895,wind_speed:11.4,wind_direction:249.1,heading:359.7,distance:88555.44,depth:-2.6,cog:103.9,sog:0,created_at:"2023-01-09 08:06:00",updated_at:"2023-01-09 08:06:00"},{time:1673218804e3,id:"6f3b1990-857c-4d00-b25a-0434a0cc2c8d",ship_id:1,terminal_time:"2023-01-08 23:00:04",lat:-6.101413,lng:106.90589,wind_speed:10.4,wind_direction:257.5,heading:359.6,distance:88555.44,depth:-6.5,cog:131.5,sog:0,created_at:"2023-01-09 08:05:56",updated_at:"2023-01-09 08:05:56"},{time:1673219704e3,id:"f988100e-1c17-4430-ad7d-d42c5f9101cb",ship_id:1,terminal_time:"2023-01-08 23:15:04",lat:-6.101383,lng:106.905863,wind_speed:11.2,wind_direction:247.7,heading:359.6,distance:88555.44,depth:-6.3,cog:9.7,sog:0,created_at:"2023-01-09 08:06:57",updated_at:"2023-01-09 08:06:57"},{time:1673220604e3,id:"f9bfd7d8-0ed7-4e7c-9dd8-33793538967e",ship_id:1,terminal_time:"2023-01-08 23:30:04",lat:-6.101388,lng:106.905893,wind_speed:7.3,wind_direction:252,heading:359.7,distance:88555.44,depth:-6.3,cog:189.1,sog:.1,created_at:"2023-01-09 08:06:40",updated_at:"2023-01-09 08:06:40"},{time:1673221504e3,id:"d81f2408-511b-43f5-bc66-b9f8f3d84aea",ship_id:1,terminal_time:"2023-01-08 23:45:04",lat:-6.1014230000000005,lng:106.905862,wind_speed:11.2,wind_direction:246.3,heading:359.7,distance:88555.44,depth:-2.6,cog:195.3,sog:.1,created_at:"2023-01-09 08:06:41",updated_at:"2023-01-09 08:06:41"},{time:1673222404e3,id:"d1ae49e1-c912-4626-a700-c644a64c58ca",ship_id:1,terminal_time:"2023-01-09 00:00:04",lat:-6.101397,lng:106.905872,wind_speed:15.3,wind_direction:246.3,heading:359.8,distance:88555.44,depth:-6.5,cog:57.8,sog:0,created_at:"2023-01-09 08:06:43",updated_at:"2023-01-09 08:06:43"},{time:1673223301e3,id:"30c254de-ca32-4ae0-9bbe-50a124f42fb5",ship_id:1,terminal_time:"2023-01-09 00:15:01",lat:-6.101368,lng:106.905878,wind_speed:12,wind_direction:246.3,heading:359.8,distance:88555.44,depth:-6.1,cog:64.2,sog:0,created_at:"2023-01-09 08:07:06",updated_at:"2023-01-09 08:07:06"},{time:1673224201e3,id:"ce816a40-630c-48fa-abf2-50e2d743ecee",ship_id:1,terminal_time:"2023-01-09 00:30:01",lat:-6.101373,lng:106.905888,wind_speed:12.6,wind_direction:236.5,heading:359.8,distance:88555.44,depth:-2.8,cog:59.9,sog:0,created_at:"2023-01-09 08:07:38",updated_at:"2023-01-09 08:07:38"},{time:1673225101e3,id:"873c1631-7c9a-4a1d-b124-3879b28dd758",ship_id:1,terminal_time:"2023-01-09 00:45:01",lat:-6.101432,lng:106.905888,wind_speed:11.6,wind_direction:236.5,heading:359.8,distance:88555.44,depth:0,cog:222.4,sog:0,created_at:"2023-01-09 08:07:00",updated_at:"2023-01-09 08:07:00"},{time:1673226001e3,id:"53704def-9137-4944-8a3a-b36330fc1fb7",ship_id:1,terminal_time:"2023-01-09 01:00:01",lat:-6.1014420000000005,lng:106.905897,wind_speed:7.5,wind_direction:247.7,heading:359.7,distance:88555.44,depth:-6.1,cog:168.1,sog:0,created_at:"2023-01-09 08:06:44",updated_at:"2023-01-09 08:06:44"},{time:1673226901e3,id:"4c58ab98-4589-4979-82a3-2d5349e2d6d2",ship_id:1,terminal_time:"2023-01-09 01:15:01",lat:-6.101377,lng:106.905895,wind_speed:9.7,wind_direction:247.7,heading:359.6,distance:88555.44,depth:-6.3,cog:128.8,sog:0,created_at:"2023-01-09 08:07:55",updated_at:"2023-01-09 08:07:55"},{time:1673227801e3,id:"f53589c2-2628-4822-9efe-e9d5f6f97006",ship_id:1,terminal_time:"2023-01-09 01:30:01",lat:-6.101372,lng:106.905907,wind_speed:11,wind_direction:235.1,heading:359.7,distance:88555.44,depth:-2.8,cog:169.3,sog:0,created_at:"2023-01-09 08:07:52",updated_at:"2023-01-09 08:07:52"},{time:1673228701e3,id:"bbd3afac-671c-491d-9a53-a913b265f3a6",ship_id:1,terminal_time:"2023-01-09 01:45:01",lat:-6.101395,lng:106.905885,wind_speed:10.3,wind_direction:246.3,heading:359.8,distance:88555.44,depth:0,cog:336.2,sog:.1,created_at:"2023-01-09 08:07:54",updated_at:"2023-01-09 08:07:54"},{time:1673229626e3,id:"677d4da2-f2e4-4785-a282-e26977f5ff59",ship_id:1,terminal_time:"2023-01-09 02:00:26",lat:-6.101397,lng:106.905892,wind_speed:8.1,wind_direction:253.4,heading:359.8,distance:88555.46,depth:-6.3,cog:344.2,sog:.1,created_at:"2023-01-09 08:08:23",updated_at:"2023-01-09 08:08:23"},{time:1673230501e3,id:"6d6e995c-7f59-4690-9ba0-6bdde399168a",ship_id:1,terminal_time:"2023-01-09 02:15:01",lat:-6.10142,lng:106.90591,wind_speed:7.3,wind_direction:246.3,heading:359.7,distance:88555.47,depth:-2.8,cog:64.8,sog:0,created_at:"2023-01-09 08:08:12",updated_at:"2023-01-09 08:08:12"},{time:1673231401e3,id:"0be9f717-f25a-490d-bcae-34fa65d89a27",ship_id:1,terminal_time:"2023-01-09 02:30:01",lat:-6.1014,lng:106.905907,wind_speed:6.9,wind_direction:235.1,heading:359.6,distance:88555.48,depth:-2.8,cog:350.3,sog:0,created_at:"2023-01-09 08:08:21",updated_at:"2023-01-09 08:08:21"},{time:1673232301e3,id:"b89c57ee-02ec-4c81-a463-3ab63eea35d4",ship_id:1,terminal_time:"2023-01-09 02:45:01",lat:-6.10141,lng:106.905907,wind_speed:7.1,wind_direction:281.5,heading:359.7,distance:88555.49,depth:0,cog:340.6,sog:0,created_at:"2023-01-09 08:08:13",updated_at:"2023-01-09 08:08:13"},{time:1673233201e3,id:"a3fba678-1575-4c94-8040-8e2bb4f35c29",ship_id:1,terminal_time:"2023-01-09 03:00:01",lat:-6.101398,lng:106.905902,wind_speed:11,wind_direction:246.3,heading:359.6,distance:88555.49,depth:-6.6,cog:302,sog:0,created_at:"2023-01-09 08:09:06",updated_at:"2023-01-09 08:09:06"},{time:1673234101e3,id:"4d903123-c967-4aba-be64-4bfa45d2e9e2",ship_id:1,terminal_time:"2023-01-09 03:15:01",lat:-6.10139,lng:106.905878,wind_speed:7.7,wind_direction:259,heading:359.6,distance:88555.49,depth:-6.5,cog:314.3,sog:0,created_at:"2023-01-09 08:08:14",updated_at:"2023-01-09 08:08:14"},{time:1673235001e3,id:"1d4da80d-e1b4-46f3-b844-89cc8683bf40",ship_id:1,terminal_time:"2023-01-09 03:30:01",lat:-6.10141,lng:106.905928,wind_speed:6.2,wind_direction:247.7,heading:359.7,distance:88555.5,depth:0,cog:132.4,sog:0,created_at:"2023-01-09 08:08:53",updated_at:"2023-01-09 08:08:53"},{time:1673235901e3,id:"e71cde87-3b60-447e-b2e7-ba313276631d",ship_id:1,terminal_time:"2023-01-09 03:45:01",lat:-6.101413,lng:106.90591,wind_speed:7.7,wind_direction:252,heading:359.8,distance:88555.5,depth:0,cog:209.2,sog:0,created_at:"2023-01-09 08:08:23",updated_at:"2023-01-09 08:08:23"},{time:1673236801e3,id:"f5446243-0920-43f1-b55b-e1e7745911d7",ship_id:1,terminal_time:"2023-01-09 04:00:01",lat:-6.1013269999999995,lng:106.90594,wind_speed:7.1,wind_direction:257.5,heading:359.9,distance:88555.5,depth:-7.1,cog:206.1,sog:.1,created_at:"2023-01-09 08:08:58",updated_at:"2023-01-09 08:08:58"},{time:1673237701e3,id:"93eedeac-7e8c-4b16-8181-ccaa306bc5fd",ship_id:1,terminal_time:"2023-01-09 04:15:01",lat:-6.101417,lng:106.90591,wind_speed:8.1,wind_direction:264.5,heading:359.8,distance:88555.5,depth:-7,cog:278.5,sog:0,created_at:"2023-01-09 08:09:03",updated_at:"2023-01-09 08:09:03"},{time:1673238601e3,id:"5ea3a677-6e78-4773-a9e5-c6f4c365cfa1",ship_id:1,terminal_time:"2023-01-09 04:30:01",lat:-6.101412,lng:106.905892,wind_speed:9.5,wind_direction:249.1,heading:359.8,distance:88555.5,depth:-6.8,cog:161.2,sog:.1,created_at:"2023-01-09 08:09:01",updated_at:"2023-01-09 08:09:01"},{time:1673239501e3,id:"5c8c5a2a-ed74-4185-bef6-92c28a9fdf4e",ship_id:1,terminal_time:"2023-01-09 04:45:01",lat:-6.101433,lng:106.905898,wind_speed:6.9,wind_direction:246.3,heading:0,distance:0,depth:-3.1,cog:73.5,sog:0,created_at:"2023-01-09 08:08:43",updated_at:"2023-01-09 08:08:43"},{time:1673240401e3,id:"4c79c190-421c-4140-841f-2591d3cdafff",ship_id:1,terminal_time:"2023-01-09 05:00:01",lat:-6.10142,lng:106.905925,wind_speed:9.7,wind_direction:242.1,heading:359.8,distance:88555.5,depth:-3.1,cog:125.4,sog:0,created_at:"2023-01-09 08:09:52",updated_at:"2023-01-09 08:09:52"},{time:1673241301e3,id:"c259fb8e-9a36-4dfc-bc0a-68cd1a49a286",ship_id:1,terminal_time:"2023-01-09 05:15:01",lat:-6.101342,lng:106.905905,wind_speed:5.2,wind_direction:240.7,heading:359.8,distance:88555.5,depth:-7.1,cog:159.2,sog:0,created_at:"2023-01-09 08:10:04",updated_at:"2023-01-09 08:10:04"},{time:1673242201e3,id:"27226360-f285-47ad-94b4-61ad2013e144",ship_id:1,terminal_time:"2023-01-09 05:30:01",lat:-6.101395,lng:106.905882,wind_speed:6.4,wind_direction:242.1,heading:359.7,distance:88555.5,depth:-3.3,cog:250.3,sog:0,created_at:"2023-01-09 08:10:13",updated_at:"2023-01-09 08:10:13"},{time:1673243101e3,id:"2da1e4fe-f5f0-4895-b5fa-c4e50ec472d0",ship_id:1,terminal_time:"2023-01-09 05:45:01",lat:-6.101352,lng:106.905885,wind_speed:9.7,wind_direction:240.7,heading:359.7,distance:88555.5,depth:-3.5,cog:225.4,sog:0,created_at:"2023-01-09 08:10:15",updated_at:"2023-01-09 08:10:15"},{time:1673244001e3,id:"e101776c-0d25-4862-be01-60bdcd5c14e5",ship_id:1,terminal_time:"2023-01-09 06:00:01",lat:-6.101385,lng:106.905892,wind_speed:10.6,wind_direction:246.3,heading:359.6,distance:88555.5,depth:-3.5,cog:326.1,sog:0,created_at:"2023-01-09 08:10:03",updated_at:"2023-01-09 08:10:03"},{time:1673244901e3,id:"a9941a2b-e575-408e-a7bb-dacd988e6d96",ship_id:1,terminal_time:"2023-01-09 06:15:01",lat:-6.101383,lng:106.905903,wind_speed:7.1,wind_direction:247.7,heading:359.6,distance:88555.5,depth:-3.5,cog:256.6,sog:0,created_at:"2023-01-09 08:10:10",updated_at:"2023-01-09 08:10:10"},{time:1673245801e3,id:"a1187bf0-abe9-4353-82a3-d4fd442c22e3",ship_id:1,terminal_time:"2023-01-09 06:30:01",lat:-6.101395,lng:106.905883,wind_speed:7.7,wind_direction:247.7,heading:359.6,distance:88555.5,depth:-3.6,cog:215.4,sog:0,created_at:"2023-01-09 08:09:40",updated_at:"2023-01-09 08:09:40"},{time:1673246701e3,id:"c3d8f1fb-1911-4887-b3ce-949bd243f6c1",ship_id:1,terminal_time:"2023-01-09 06:45:01",lat:-6.101395,lng:106.90591,wind_speed:9.9,wind_direction:252,heading:359.8,distance:88555.5,depth:-3.8,cog:125.3,sog:0,created_at:"2023-01-09 08:10:36",updated_at:"2023-01-09 08:10:36"},{time:1673247601e3,id:"6d3fb6e4-4b62-422c-bd75-5562e48a058d",ship_id:1,terminal_time:"2023-01-09 07:00:01",lat:-6.101393,lng:106.905862,wind_speed:7.5,wind_direction:252,heading:359.9,distance:88555.5,depth:-3.8,cog:64.2,sog:0,created_at:"2023-01-09 08:10:33",updated_at:"2023-01-09 08:10:33"},{time:1673248501e3,id:"6c8d24c2-f12c-4698-a829-a0632f019df1",ship_id:1,terminal_time:"2023-01-09 07:15:01",lat:-6.101393,lng:106.905878,wind_speed:7.3,wind_direction:246.3,heading:359.7,distance:88555.5,depth:-4,cog:64.5,sog:0,created_at:"2023-01-09 08:10:33",updated_at:"2023-01-09 08:10:33"},{time:1673249401e3,id:"519acfef-d197-4cfa-afa7-4e6e5e4b8737",ship_id:1,terminal_time:"2023-01-09 07:30:01",lat:-6.101377,lng:106.905885,wind_speed:6.6,wind_direction:242.1,heading:359.7,distance:88555.5,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:10:41",updated_at:"2023-01-09 08:10:41"},{time:1673250301e3,id:"aa8fe1a7-57d9-445d-8f18-3f22b1a409c6",ship_id:1,terminal_time:"2023-01-09 07:45:01",lat:-6.101395,lng:106.905893,wind_speed:10.4,wind_direction:247.7,heading:0,distance:0,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:11:09",updated_at:"2023-01-09 08:11:09"},{time:1673251201e3,id:"5d87fb41-c0a5-49b5-aabc-e16448ec0db7",ship_id:1,terminal_time:"2023-01-09 08:00:01",lat:-6.101405,lng:106.905888,wind_speed:6,wind_direction:265.9,heading:359.7,distance:88555.5,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:10:51",updated_at:"2023-01-09 08:10:51"},{time:1673257766e3,id:"59f2dd21-3619-4d39-a699-a444c5f5039c",ship_id:1,terminal_time:"2023-01-09 09:49:26",lat:-6.10138,lng:106.905813,wind_speed:14.1,wind_direction:302.5,heading:359.8,distance:88555.5,depth:-4.1,cog:132.4,sog:0,created_at:"2023-01-10 08:00:06",updated_at:"2023-01-10 08:00:06"},{time:1673258401e3,id:"6b431693-2664-44b6-8518-5ab07bbf0c85",ship_id:1,terminal_time:"2023-01-09 10:00:01",lat:-6.101373,lng:106.9059,wind_speed:14.1,wind_direction:282.9,heading:359.8,distance:88555.5,depth:-4.1,cog:115.2,sog:0,created_at:"2023-01-10 08:02:29",updated_at:"2023-01-10 08:02:29"},{time:1673259301e3,id:"40fb792e-7a2e-4697-a25b-e79c2d2fdbc6",ship_id:1,terminal_time:"2023-01-09 10:15:01",lat:-6.10135,lng:106.905885,wind_speed:7.1,wind_direction:332.1,heading:359.9,distance:88555.5,depth:-4.3,cog:144.6,sog:0,created_at:"2023-01-10 08:01:40",updated_at:"2023-01-10 08:01:40"},{time:1673260201e3,id:"354963f0-7e7e-4ea0-97ae-5e69a9a932c9",ship_id:1,terminal_time:"2023-01-09 10:30:01",lat:-6.101405,lng:106.90586,wind_speed:12.6,wind_direction:292.8,heading:359.8,distance:88555.5,depth:-4.3,cog:105.8,sog:0,created_at:"2023-01-10 08:04:19",updated_at:"2023-01-10 08:04:19"},{time:1673261101e3,id:"5bbbf421-2adb-4fd3-81a0-b0cade6e5e67",ship_id:1,terminal_time:"2023-01-09 10:45:01",lat:-6.101395,lng:106.905892,wind_speed:9.5,wind_direction:297,heading:359.8,distance:88555.5,depth:-4.3,cog:214.9,sog:0,created_at:"2023-01-10 08:05:43",updated_at:"2023-01-10 08:05:43"},{time:1673262001e3,id:"630c5619-2b52-4cbb-93bf-85c73cae98ae",ship_id:1,terminal_time:"2023-01-09 11:00:01",lat:-6.101408,lng:106.905882,wind_speed:6.6,wind_direction:297,heading:0,distance:0,depth:-4.3,cog:99.6,sog:0,created_at:"2023-01-10 08:02:39",updated_at:"2023-01-10 08:02:39"},{time:1673262901e3,id:"b403636b-8619-4d42-9cb4-6c4166a1b9b3",ship_id:1,terminal_time:"2023-01-09 11:15:01",lat:-6.101393,lng:106.90587,wind_speed:5,wind_direction:311.5,heading:359.8,distance:88555.5,depth:-4.3,cog:93.5,sog:0,created_at:"2023-01-10 08:04:42",updated_at:"2023-01-10 08:04:42"},{time:1673263806e3,id:"5f165c7e-e6b7-44c1-a482-567e62bc4017",ship_id:1,terminal_time:"2023-01-09 11:30:06",lat:-6.1014,lng:106.905877,wind_speed:15.1,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:73.4,sog:0,created_at:"2023-01-10 08:02:10",updated_at:"2023-01-10 08:02:10"},{time:1673264701e3,id:"bd2a40ce-8f23-43e0-8272-8f201c185ec8",ship_id:1,terminal_time:"2023-01-09 11:45:01",lat:-6.101388,lng:106.905907,wind_speed:16.3,wind_direction:337.8,heading:359.9,distance:88555.51,depth:-4.1,cog:61.2,sog:0,created_at:"2023-01-10 08:05:49",updated_at:"2023-01-10 08:05:49"},{time:1673265601e3,id:"c24f89d3-7780-4ffc-a265-5b6d2f72f073",ship_id:1,terminal_time:"2023-01-09 12:00:01",lat:-6.1014,lng:106.905888,wind_speed:14.7,wind_direction:342,heading:359.8,distance:88555.51,depth:-4.1,cog:67.8,sog:0,created_at:"2023-01-10 08:03:23",updated_at:"2023-01-10 08:03:23"},{time:1673266501e3,id:"13982c0e-988a-46c5-bec8-355b5f7dc5ca",ship_id:1,terminal_time:"2023-01-09 12:15:01",lat:-6.101408,lng:106.905903,wind_speed:7.1,wind_direction:315.3,heading:359.8,distance:88555.51,depth:-4.1,cog:36.9,sog:0,created_at:"2023-01-10 08:02:34",updated_at:"2023-01-10 08:02:34"},{time:1673267401e3,id:"d0beec20-b06e-4fc7-ad00-6f35454bb257",ship_id:1,terminal_time:"2023-01-09 12:30:01",lat:-6.10138,lng:106.905855,wind_speed:11.2,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:37.8,sog:0,created_at:"2023-01-10 08:01:57",updated_at:"2023-01-10 08:01:57"},{time:1673268301e3,id:"98379784-93de-4f27-b326-467bfef4b682",ship_id:1,terminal_time:"2023-01-09 12:45:01",lat:-6.101353,lng:106.905848,wind_speed:12.6,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:90.6,sog:0,created_at:"2023-01-10 08:05:23",updated_at:"2023-01-10 08:05:23"},{time:1673269201e3,id:"05ff55cd-da21-40f7-83dd-131e0587880e",ship_id:1,terminal_time:"2023-01-09 13:00:01",lat:-6.101385,lng:106.905875,wind_speed:12.2,wind_direction:342,heading:359.7,distance:88555.51,depth:-4,cog:96.8,sog:.1,created_at:"2023-01-10 08:01:45",updated_at:"2023-01-10 08:01:45"},{time:1673270101e3,id:"f7cc3f27-2367-4a6d-a4c2-db1154e9e00f",ship_id:1,terminal_time:"2023-01-09 13:15:01",lat:-6.101383,lng:106.905865,wind_speed:14.5,wind_direction:337.8,heading:359.7,distance:88555.51,depth:-4,cog:150.1,sog:.1,created_at:"2023-01-10 08:03:50",updated_at:"2023-01-10 08:03:50"},{time:1673271001e3,id:"f662f7f2-d4d5-449f-873a-bcdfc3a00d51",ship_id:1,terminal_time:"2023-01-09 13:30:01",lat:-6.101357,lng:106.905865,wind_speed:12.8,wind_direction:337.8,heading:359.7,distance:88555.52,depth:-4,cog:321.4,sog:0,created_at:"2023-01-10 08:02:28",updated_at:"2023-01-10 08:02:28"},{time:1673271901e3,id:"89151d87-e6ce-4678-a3ef-8544ce5f573f",ship_id:1,terminal_time:"2023-01-09 13:45:01",lat:-6.101363,lng:106.905908,wind_speed:14.7,wind_direction:337.8,heading:359.6,distance:88555.52,depth:-4,cog:66.8,sog:0,created_at:"2023-01-10 08:04:30",updated_at:"2023-01-10 08:04:30"},{time:1673272801e3,id:"03f8f7d6-97b0-4dd5-be91-36f792a1a625",ship_id:1,terminal_time:"2023-01-09 14:00:01",lat:-6.101427,lng:106.905857,wind_speed:13,wind_direction:332.1,heading:.4,distance:88555.52,depth:-4,cog:287.6,sog:0,created_at:"2023-01-10 08:03:02",updated_at:"2023-01-10 08:03:02"},{time:1673273701e3,id:"a1f01e80-907b-4720-aaa7-aa073ffd06af",ship_id:1,terminal_time:"2023-01-09 14:15:01",lat:-6.095707,lng:106.89818,wind_speed:26.6,wind_direction:45,heading:276.6,distance:88556.26,depth:-11.3,cog:274.8,sog:6.6,created_at:"2023-01-10 08:01:52",updated_at:"2023-01-10 08:01:52"},{time:1673274601e3,id:"615a0d2a-2428-4c59-a170-a77f1278abfc",ship_id:1,terminal_time:"2023-01-09 14:30:01",lat:-6.079302,lng:106.881568,wind_speed:26.2,wind_direction:349,heading:355.1,distance:88557.85,depth:-10.8,cog:357.4,sog:7.3,created_at:"2023-01-10 08:01:54",updated_at:"2023-01-10 08:01:54"},{time:1673275501e3,id:"8a83141d-bf01-41b2-a27c-8b01697b30c7",ship_id:1,terminal_time:"2023-01-09 14:45:01",lat:-6.03759,lng:106.880487,wind_speed:28.9,wind_direction:0,heading:350.6,distance:88560.36,depth:-12.5,cog:353.9,sog:10.4,created_at:"2023-01-10 08:03:06",updated_at:"2023-01-10 08:03:06"},{time:1673276401e3,id:"f8617d50-8583-4cef-a0dd-29468fbc2d90",ship_id:1,terminal_time:"2023-01-09 15:00:01",lat:-5.98431,lng:106.873388,wind_speed:29.7,wind_direction:9.7,heading:330.3,distance:88563.54,depth:-16.6,cog:338.3,sog:12.5,created_at:"2023-01-10 08:03:19",updated_at:"2023-01-10 08:03:19"},{time:1673277301e3,id:"966ade39-66eb-4749-99b5-72528c7217e9",ship_id:1,terminal_time:"2023-01-09 15:15:01",lat:-5.961758,lng:106.82729,wind_speed:29.3,wind_direction:16.8,heading:312.6,distance:88566.7,depth:-19,cog:312.1,sog:13.2,created_at:"2023-01-10 08:02:20",updated_at:"2023-01-10 08:02:20"},{time:1673278201e3,id:"7531c730-0f9f-498f-85e9-d9704b5e56c3",ship_id:1,terminal_time:"2023-01-09 15:30:01",lat:-5.931025,lng:106.78072,wind_speed:28.1,wind_direction:21,heading:310.9,distance:88570,depth:-22.5,cog:312.1,sog:13.4,created_at:"2023-01-10 08:04:54",updated_at:"2023-01-10 08:04:54"},{time:1673279101e3,id:"0f5e09a8-fa21-4745-b847-90fe597eae7b",ship_id:1,terminal_time:"2023-01-09 15:45:01",lat:-14.161667,lng:116.66,wind_speed:27.2,wind_direction:32.3,heading:308,distance:88573.33,depth:-30.5,cog:0,sog:0,created_at:"2023-01-10 08:03:50",updated_at:"2023-01-10 08:03:50"},{time:1673280121e3,id:"b0c02cd1-d141-4cc5-b9f3-469c2154f3b2",ship_id:1,terminal_time:"2023-01-09 16:02:01",lat:-5.854772,lng:106.68859,wind_speed:23.7,wind_direction:33.6,heading:304.1,distance:88577.22,depth:-27.8,cog:305.1,sog:13.5,created_at:"2023-01-10 08:06:17",updated_at:"2023-01-10 08:06:17"},{time:1673280901e3,id:"60d837ed-22c2-4b7e-954a-8ed76765bb6b",ship_id:1,terminal_time:"2023-01-09 16:15:01",lat:-5.828417,lng:106.647598,wind_speed:19.2,wind_direction:54.9,heading:267.9,distance:88580.13,depth:-45.3,cog:273.5,sog:12.4,created_at:"2023-01-10 08:04:40",updated_at:"2023-01-10 08:04:40"},{time:1673281801e3,id:"5e868bf7-9f25-4361-9d84-88ccdcadc5bd",ship_id:1,terminal_time:"2023-01-09 16:30:01",lat:-5.833347,lng:106.590948,wind_speed:20.4,wind_direction:43.6,heading:263.3,distance:88583.55,depth:-70.6,cog:263.3,sog:13.8,created_at:"2023-01-10 08:03:21",updated_at:"2023-01-10 08:03:21"},{time:1673282701e3,id:"290d63d9-e0da-419c-880b-2ff176353be8",ship_id:1,terminal_time:"2023-01-09 16:45:01",lat:-5.83681,lng:106.533245,wind_speed:19.2,wind_direction:49.1,heading:269.3,distance:88586.99,depth:-83.3,cog:270,sog:13.8,created_at:"2023-01-10 08:04:36",updated_at:"2023-01-10 08:04:36"},{time:1673283601e3,id:"74437480-2eee-4b7d-bdec-bf2c3f57793e",ship_id:1,terminal_time:"2023-01-09 17:00:01",lat:-5.836503,lng:106.475305,wind_speed:20.4,wind_direction:49.1,heading:264.9,distance:88590.47,depth:-48.5,cog:266.8,sog:13.9,created_at:"2023-01-10 08:05:08",updated_at:"2023-01-10 08:05:08"},{time:1673284501e3,id:"a12b6836-7207-4ed4-b124-4d651273bb02",ship_id:1,terminal_time:"2023-01-09 17:15:01",lat:-5.845467,lng:106.417943,wind_speed:20.4,wind_direction:43.6,heading:267.7,distance:88593.93,depth:-51.6,cog:265.6,sog:14,created_at:"2023-01-10 08:04:19",updated_at:"2023-01-10 08:04:19"},{time:1673285401e3,id:"09588182-8517-4089-9f19-f6dfe3842699",ship_id:1,terminal_time:"2023-01-09 17:30:01",lat:-5.841642,lng:106.35981,wind_speed:21.3,wind_direction:33.6,heading:0,distance:0,depth:-27.1,cog:274.8,sog:14.1,created_at:"2023-01-10 08:05:40",updated_at:"2023-01-10 08:05:40"},{time:1673286301e3,id:"878bec49-a145-488f-ae6a-22e20f985adb",ship_id:1,terminal_time:"2023-01-09 17:45:01",lat:-5.838773,lng:106.300968,wind_speed:24.4,wind_direction:26.7,heading:269.9,distance:88600.96,depth:-32.6,cog:270.7,sog:14.2,created_at:"2023-01-10 08:04:41",updated_at:"2023-01-10 08:04:41"},{time:1673287201e3,id:"e479c84e-0867-465c-8999-5e588a85eea7",ship_id:1,terminal_time:"2023-01-09 18:00:01",lat:-5.837823,lng:106.239917,wind_speed:27.4,wind_direction:4.2,heading:270,distance:88604.52,depth:-23.8,cog:271.2,sog:14.3,created_at:"2023-01-10 08:05:14",updated_at:"2023-01-10 08:05:14"},{time:1673288101e3,id:"c65ffd03-8a74-4926-bed4-8610fa7e81a0",ship_id:1,terminal_time:"2023-01-09 18:15:01",lat:-5.838808,lng:106.181588,wind_speed:25,wind_direction:9.7,heading:264.9,distance:88608.11,depth:-28.1,cog:0,sog:0,created_at:"2023-01-10 08:06:48",updated_at:"2023-01-10 08:06:48"},{time:1673289001e3,id:"1c8548ab-cb0d-4bdb-9f57-195a3c362744",ship_id:1,terminal_time:"2023-01-09 18:30:01",lat:-5.841168,lng:106.120507,wind_speed:25,wind_direction:4.2,heading:268.9,distance:88611.69,depth:-38.3,cog:269.4,sog:14.3,created_at:"2023-01-10 08:06:38",updated_at:"2023-01-10 08:06:38"},{time:1673289901e3,id:"9205bfd4-683a-4325-8b29-103eb842219b",ship_id:1,terminal_time:"2023-01-09 18:45:01",lat:-5.8411,lng:106.061022,wind_speed:28.9,wind_direction:0,heading:269.1,distance:88615.22,depth:-50.3,cog:270.3,sog:14.2,created_at:"2023-01-10 08:06:30",updated_at:"2023-01-10 08:06:30"},{time:1673290801e3,id:"911bece6-7e5c-40f0-b0da-cf35b3eb7067",ship_id:1,terminal_time:"2023-01-09 19:00:01",lat:-5.854877,lng:106.006268,wind_speed:30.7,wind_direction:21,heading:225.6,distance:88618.76,depth:-74.5,cog:229.1,sog:14.3,created_at:"2023-01-10 08:07:24",updated_at:"2023-01-10 08:07:24"},{time:1673291701e3,id:"7fefd3ea-5a95-4eaf-a4ef-ec5bbb15390a",ship_id:1,terminal_time:"2023-01-09 19:15:01",lat:-5.897932,lng:105.964727,wind_speed:28.5,wind_direction:21,heading:224.8,distance:88622.34,depth:-37.1,cog:224.5,sog:14.2,created_at:"2023-01-10 08:07:04",updated_at:"2023-01-10 08:07:04"},{time:1673292601e3,id:"05a6f60e-0ee4-4d48-9f0c-6823f391ff6d",ship_id:1,terminal_time:"2023-01-09 19:30:01",lat:-5.94169,lng:105.92583,wind_speed:31.8,wind_direction:26.7,heading:221.9,distance:88625.93,depth:-38.1,cog:222.4,sog:13.9,created_at:"2023-01-10 08:05:52",updated_at:"2023-01-10 08:05:52"},{time:1673293501e3,id:"3582ee5f-9c1c-447c-a1c2-ad23d1fcdc4c",ship_id:1,terminal_time:"2023-01-09 19:45:01",lat:-5.985892,lng:105.888712,wind_speed:30.7,wind_direction:32.3,heading:215.3,distance:88629.38,depth:-50.8,cog:216.3,sog:14.2,created_at:"2023-01-10 08:05:36",updated_at:"2023-01-10 08:05:36"},{time:1673294401e3,id:"bae337b8-cf2c-4345-83f1-51a534c4756a",ship_id:1,terminal_time:"2023-01-09 20:00:01",lat:-6.007143,lng:105.844002,wind_speed:27.9,wind_direction:353.3,heading:291,distance:88632.81,depth:-84.1,cog:292.2,sog:13.7,created_at:"2023-01-10 08:08:12",updated_at:"2023-01-10 08:08:12"},{time:1673295301e3,id:"2bfe50aa-406d-420d-baba-3647f540a6db",ship_id:1,terminal_time:"2023-01-09 20:15:01",lat:-5.982978,lng:105.794872,wind_speed:28.5,wind_direction:0,heading:287.8,distance:88636.11,depth:-52,cog:293.4,sog:12.5,created_at:"2023-01-10 08:08:05",updated_at:"2023-01-10 08:08:05"},{time:1673296201e3,id:"226c6298-b20f-4d61-8d46-d20d9a16f764",ship_id:1,terminal_time:"2023-01-09 20:30:01",lat:-5.970388,lng:105.742705,wind_speed:31.8,wind_direction:4.2,heading:280,distance:88639.31,depth:-89.5,cog:282.8,sog:13.6,created_at:"2023-01-10 08:07:55",updated_at:"2023-01-10 08:07:55"},{time:1673297101e3,id:"0b3a3d1b-e2cd-412d-8949-052b468ac363",ship_id:1,terminal_time:"2023-01-09 20:45:01",lat:-5.952805,lng:105.689012,wind_speed:30.9,wind_direction:4.2,heading:288.7,distance:88642.69,depth:-66.1,cog:291,sog:13.4,created_at:"2023-01-10 08:06:29",updated_at:"2023-01-10 08:06:29"},{time:1673298001e3,id:"e5dc3b25-3498-4336-b51f-65360056bb47",ship_id:1,terminal_time:"2023-01-09 21:00:01",lat:-5.93262,lng:105.638005,wind_speed:32,wind_direction:4.2,heading:289,distance:88645.98,depth:-29.5,cog:291.5,sog:12.9,created_at:"2023-01-10 08:07:36",updated_at:"2023-01-10 08:07:36"},{time:1673298901e3,id:"97af2e02-a337-477c-b476-f8cc1f0f39bd",ship_id:1,terminal_time:"2023-01-09 21:15:01",lat:-5.918415,lng:105.586073,wind_speed:33,wind_direction:9.2,heading:274.4,distance:88649.16,depth:-20,cog:275.9,sog:12.5,created_at:"2023-01-10 08:06:55",updated_at:"2023-01-10 08:06:55"},{time:1673299801e3,id:"3f6e7fb8-8ed6-4139-af72-762e9a783f03",ship_id:1,terminal_time:"2023-01-09 21:30:01",lat:-5.913357,lng:105.534142,wind_speed:33.2,wind_direction:9.7,heading:272.1,distance:88652.27,depth:-36.3,cog:275.1,sog:12.2,created_at:"2023-01-10 08:06:51",updated_at:"2023-01-10 08:06:51"},{time:1673300701e3,id:"039c9a38-7354-41ae-a67f-1a28cc9ac563",ship_id:1,terminal_time:"2023-01-09 21:45:01",lat:-5.909802,lng:105.487677,wind_speed:31.6,wind_direction:4.2,heading:280.1,distance:88655.08,depth:-35.1,cog:281.9,sog:11.4,created_at:"2023-01-10 08:07:31",updated_at:"2023-01-10 08:07:31"},{time:1673301601e3,id:"c21c6af2-1b26-41e9-b6ef-1f8d76e84096",ship_id:1,terminal_time:"2023-01-09 22:00:01",lat:-5.902202,lng:105.43825,wind_speed:32.2,wind_direction:4.2,heading:0,distance:0,depth:-28.1,cog:278,sog:12.2,created_at:"2023-01-10 08:07:20",updated_at:"2023-01-10 08:07:20"},{time:1673302501e3,id:"6187beed-2f55-4f6c-ac4d-870ba4151a2b",ship_id:1,terminal_time:"2023-01-09 22:15:01",lat:-5.894857,lng:105.38688,wind_speed:33.6,wind_direction:7.5,heading:275.2,distance:88661.16,depth:-50.5,cog:279.6,sog:12.5,created_at:"2023-01-10 08:08:14",updated_at:"2023-01-10 08:08:14"},{time:1673303401e3,id:"d2860a82-a25f-4c3b-aaf3-db903c6c079d",ship_id:1,terminal_time:"2023-01-09 22:30:01",lat:-5.88575,lng:105.334428,wind_speed:37.7,wind_direction:4.2,heading:278.6,distance:88664.41,depth:-78.6,cog:282.5,sog:12.7,created_at:"2023-01-10 08:08:58",updated_at:"2023-01-10 08:08:58"},{time:1673304301e3,id:"bc8a41e1-d425-400a-afb9-2d64d783a252",ship_id:1,terminal_time:"2023-01-09 22:45:01",lat:-5.874368,lng:105.282648,wind_speed:34.4,wind_direction:9.7,heading:280.7,distance:88667.58,depth:-95.8,cog:284,sog:12.9,created_at:"2023-01-10 08:08:50",updated_at:"2023-01-10 08:08:50"},{time:1673305201e3,id:"2210ba63-e4e5-46bb-a238-f60a7ff5f63e",ship_id:1,terminal_time:"2023-01-09 23:00:01",lat:-5.862632,lng:105.230625,wind_speed:33.6,wind_direction:19,heading:281.1,distance:88670.78,depth:-105,cog:280.9,sog:12.6,created_at:"2023-01-10 08:08:39",updated_at:"2023-01-10 08:08:39"},{time:1673306101e3,id:"42f528f7-c57d-46a6-b362-95020790eb63",ship_id:1,terminal_time:"2023-01-09 23:15:01",lat:-5.850693,lng:105.178738,wind_speed:34.2,wind_direction:21,heading:283,distance:88673.97,depth:-120,cog:284.6,sog:12.8,created_at:"2023-01-10 08:09:21",updated_at:"2023-01-10 08:09:21"},{time:1673307001e3,id:"5e0ba177-15a5-4845-a33f-2b9be3696f90",ship_id:1,terminal_time:"2023-01-09 23:30:01",lat:-5.836418,lng:105.127365,wind_speed:37.3,wind_direction:16.8,heading:285.3,distance:88677.14,depth:-200,cog:290.4,sog:12.6,created_at:"2023-01-10 08:08:57",updated_at:"2023-01-10 08:08:57"},{time:1673307901e3,id:"74e77432-2815-4913-8e48-42a55e173eda",ship_id:1,terminal_time:"2023-01-09 23:45:01",lat:-5.821302,lng:105.076055,wind_speed:32.6,wind_direction:19.6,heading:285,distance:88680.34,depth:-206,cog:282.4,sog:12.7,created_at:"2023-01-10 08:08:36",updated_at:"2023-01-10 08:08:36"},{time:1673308801e3,id:"733111ca-d0a6-4cd2-a3c3-25a09999a0cc",ship_id:1,terminal_time:"2023-01-10 00:00:01",lat:-5.800392,lng:105.027445,wind_speed:28.7,wind_direction:9.7,heading:300.1,distance:88683.55,depth:-200.6,cog:302.4,sog:12.9,created_at:"2023-01-10 08:09:31",updated_at:"2023-01-10 08:09:31"},{time:1673309703e3,id:"f06e33ca-2719-4b1f-8f9d-3187c3f75fac",ship_id:1,terminal_time:"2023-01-10 00:15:03",lat:-5.7731770000000004,lng:104.980798,wind_speed:28.9,wind_direction:9.7,heading:297.3,distance:88686.7,depth:-202.3,cog:297,sog:12.5,created_at:"2023-01-10 08:10:07",updated_at:"2023-01-10 08:10:07"},{time:1673310603e3,id:"c856de4d-7236-4d94-9e85-c9fedbc48708",ship_id:1,terminal_time:"2023-01-10 00:30:03",lat:-5.747583,lng:104.93485,wind_speed:28.7,wind_direction:11.2,heading:296.8,distance:88689.82,depth:-198.3,cog:300,sog:12.6,created_at:"2023-01-10 08:10:05",updated_at:"2023-01-10 08:10:05"},{time:1673311503e3,id:"cd8a0d81-f531-4582-b2fb-e948ed042a0b",ship_id:1,terminal_time:"2023-01-10 00:45:03",lat:-5.720978,lng:104.889258,wind_speed:31.6,wind_direction:8.4,heading:298.9,distance:88692.97,depth:-77,cog:300.9,sog:12.5,created_at:"2023-01-10 08:09:46",updated_at:"2023-01-10 08:09:46"},{time:1673312403e3,id:"4dba530d-bc76-4355-ab28-1340d9ac5be7",ship_id:1,terminal_time:"2023-01-10 01:00:03",lat:-5.69468,lng:104.843363,wind_speed:27.2,wind_direction:11.2,heading:296.8,distance:88696.15,depth:-59.3,cog:299.2,sog:12.8,created_at:"2023-01-10 08:09:28",updated_at:"2023-01-10 08:09:28"},{time:1673313303e3,id:"325aec11-c392-479b-9d0d-41cbbd1feff8",ship_id:1,terminal_time:"2023-01-10 01:15:03",lat:-5.668635,lng:104.795995,wind_speed:25.4,wind_direction:16.8,heading:303.1,distance:88699.36,depth:-81.6,cog:305.2,sog:13.1,created_at:"2023-01-10 08:10:20",updated_at:"2023-01-10 08:10:20"},{time:1673314203e3,id:"b06943c5-9cd6-4fad-8ebe-f5449d7bffcc",ship_id:1,terminal_time:"2023-01-10 01:30:03",lat:-5.637213,lng:104.750302,wind_speed:25.4,wind_direction:16.8,heading:302.1,distance:88702.77,depth:-159.3,cog:302.6,sog:13.6,created_at:"2023-01-10 08:10:11",updated_at:"2023-01-10 08:10:11"},{time:1673315103e3,id:"9222b191-091c-4065-a00a-754b7a702ec9",ship_id:1,terminal_time:"2023-01-10 01:45:03",lat:-5.606022,lng:104.702637,wind_speed:24.1,wind_direction:12.5,heading:300.2,distance:88706.13,depth:-184.6,cog:302.6,sog:13.8,created_at:"2023-01-10 08:10:19",updated_at:"2023-01-10 08:10:19"},{time:1673316003e3,id:"352b8845-bef7-409c-a3e0-cf0aadac3054",ship_id:1,terminal_time:"2023-01-10 02:00:03",lat:-5.5799579999999995,lng:104.65319,wind_speed:21.1,wind_direction:16.8,heading:295.9,distance:88709.53,depth:-84.6,cog:296,sog:13.5,created_at:"2023-01-10 08:10:25",updated_at:"2023-01-10 08:10:25"},{time:1673316903e3,id:"329d6a2d-92b7-4284-a981-79ccaf315c9c",ship_id:1,terminal_time:"2023-01-10 02:15:03",lat:-5.562793,lng:104.609362,wind_speed:18.2,wind_direction:19.6,heading:300.2,distance:88712.38,depth:-42.6,cog:307.4,sog:8.5,created_at:"2023-01-10 08:10:25",updated_at:"2023-01-10 08:10:25"},{time:1673317803e3,id:"232ce1d3-f960-42b9-80f6-306f115e0844",ship_id:1,terminal_time:"2023-01-10 02:30:03",lat:-13.866667,lng:111.266667,wind_speed:15.9,wind_direction:19.6,heading:305.2,distance:88714.17,depth:-36,cog:0,sog:0,created_at:"2023-01-10 08:10:32",updated_at:"2023-01-10 08:10:32"},{time:1673318703e3,id:"06e72ee8-b924-4aca-b288-407b083f57f5",ship_id:1,terminal_time:"2023-01-10 02:45:03",lat:-5.5387,lng:104.573278,wind_speed:7.1,wind_direction:21,heading:333.4,distance:88715.01,depth:-31.3,cog:286.4,sog:.5,created_at:"2023-01-10 08:10:31",updated_at:"2023-01-10 08:10:31"},{time:1673319603e3,id:"96979015-3293-432b-acdb-18a40130c80d",ship_id:1,terminal_time:"2023-01-10 03:00:03",lat:-5.538557,lng:104.572997,wind_speed:4.8,wind_direction:11.2,heading:34,distance:88715.04,depth:-31,cog:104.3,sog:.1,created_at:"2023-01-10 08:10:58",updated_at:"2023-01-10 08:10:58"},{time:1673320503e3,id:"311160b5-f9c6-4799-ad43-d85555c84374",ship_id:1,terminal_time:"2023-01-10 03:15:03",lat:-5.538512,lng:104.573348,wind_speed:2.5,wind_direction:11.2,heading:322.4,distance:88715.04,depth:-31,cog:349.1,sog:.1,created_at:"2023-01-10 08:10:55",updated_at:"2023-01-10 08:10:55"},{time:1673321403e3,id:"73f5a73d-8652-4de0-a492-7e4d2da8a5e4",ship_id:1,terminal_time:"2023-01-10 03:30:03",lat:-5.538447,lng:104.573578,wind_speed:2.7,wind_direction:11.2,heading:311.9,distance:88715.05,depth:-31,cog:124.7,sog:0,created_at:"2023-01-10 08:11:31",updated_at:"2023-01-10 08:11:31"},{time:1673322303e3,id:"d0d88b43-dbf4-4712-b6e6-2ba40ee6cbe7",ship_id:1,terminal_time:"2023-01-10 03:45:03",lat:-5.5383569999999995,lng:104.573628,wind_speed:2.9,wind_direction:11.2,heading:306.3,distance:88715.06,depth:-31,cog:216.8,sog:.1,created_at:"2023-01-10 08:11:02",updated_at:"2023-01-10 08:11:02"},{time:1673323203e3,id:"108e11e3-a7fa-41b3-af81-0cca33e8ff4c",ship_id:1,terminal_time:"2023-01-10 04:00:03",lat:-5.538393,lng:104.573665,wind_speed:4.8,wind_direction:11.2,heading:306.8,distance:88715.07,depth:-31,cog:232.3,sog:0,created_at:"2023-01-10 08:11:43",updated_at:"2023-01-10 08:11:43"},{time:1673324103e3,id:"bd89b9b2-c51f-4cc4-8ef2-932d74a5a249",ship_id:1,terminal_time:"2023-01-10 04:15:03",lat:-5.538438,lng:104.573587,wind_speed:5,wind_direction:11.2,heading:312.8,distance:88715.08,depth:-31,cog:169,sog:.1,created_at:"2023-01-10 08:11:37",updated_at:"2023-01-10 08:11:37"},{time:1673325003e3,id:"78ae1344-a9e9-44ff-b1f4-0c24f28e8fd4",ship_id:1,terminal_time:"2023-01-10 04:30:03",lat:-5.538348,lng:104.5736,wind_speed:5.6,wind_direction:11.2,heading:310.3,distance:88715.08,depth:-31,cog:80.3,sog:0,created_at:"2023-01-10 08:11:34",updated_at:"2023-01-10 08:11:34"},{time:1673325903e3,id:"a3aed659-572b-4b7c-abbe-b6691c723542",ship_id:1,terminal_time:"2023-01-10 04:45:03",lat:-5.538425,lng:104.573628,wind_speed:5.4,wind_direction:11.2,heading:310.7,distance:88715.08,depth:-31,cog:249.5,sog:0,created_at:"2023-01-10 08:12:04",updated_at:"2023-01-10 08:12:04"},{time:1673326803e3,id:"8c399c42-218f-43da-b0aa-06ac26cd8f12",ship_id:1,terminal_time:"2023-01-10 05:00:03",lat:-5.538432,lng:104.573612,wind_speed:6,wind_direction:11.2,heading:311.6,distance:88715.09,depth:-31,cog:246.8,sog:0,created_at:"2023-01-10 08:12:42",updated_at:"2023-01-10 08:12:42"},{time:1673327703e3,id:"27a493f7-b14d-40e8-8f51-878ed652d553",ship_id:1,terminal_time:"2023-01-10 05:15:03",lat:-5.538348,lng:104.573678,wind_speed:7.9,wind_direction:11.2,heading:304.8,distance:88715.09,depth:-31,cog:251.7,sog:0,created_at:"2023-01-10 08:12:18",updated_at:"2023-01-10 08:12:18"},{time:1673328603e3,id:"f54bb566-292e-490c-883f-df6d70b3841b",ship_id:1,terminal_time:"2023-01-10 05:30:03",lat:-5.538438,lng:104.57369,wind_speed:6.2,wind_direction:11.2,heading:307.8,distance:88715.09,depth:-31.3,cog:246.1,sog:0,created_at:"2023-01-10 08:12:04",updated_at:"2023-01-10 08:12:04"},{time:1673329503e3,id:"31775419-f67f-4db4-a57d-40ae80fb1fee",ship_id:1,terminal_time:"2023-01-10 05:45:03",lat:-5.5385349999999995,lng:104.573568,wind_speed:7.7,wind_direction:11.2,heading:315.1,distance:88715.1,depth:-31.3,cog:246.9,sog:0,created_at:"2023-01-10 08:12:07",updated_at:"2023-01-10 08:12:07"},{time:1673330403e3,id:"2aa1b843-cd65-401d-ad7b-b8c474060a3b",ship_id:1,terminal_time:"2023-01-10 06:00:03",lat:-5.538448,lng:104.573675,wind_speed:6.9,wind_direction:11.2,heading:309.7,distance:88715.1,depth:-31.3,cog:337.6,sog:.1,created_at:"2023-01-10 08:12:18",updated_at:"2023-01-10 08:12:18"},{time:1673331303e3,id:"8f037bb3-2b98-4249-ae83-9bb727b265b0",ship_id:1,terminal_time:"2023-01-10 06:15:03",lat:-5.538453,lng:104.573677,wind_speed:6.6,wind_direction:11.2,heading:306.4,distance:88715.11,depth:-31.3,cog:223.5,sog:.1,created_at:"2023-01-10 08:13:02",updated_at:"2023-01-10 08:13:02"},{time:1673332203e3,id:"bb7e96d9-62c3-4ce3-b7bf-c5d7c72c9df1",ship_id:1,terminal_time:"2023-01-10 06:30:03",lat:-5.53864,lng:104.573363,wind_speed:8.3,wind_direction:11.2,heading:3,distance:88715.12,depth:-31.6,cog:0,sog:0,created_at:"2023-01-10 08:13:13",updated_at:"2023-01-10 08:13:13"},{time:1673333103e3,id:"cac4d244-d1fb-4d6a-92ac-bdbe7da18de9",ship_id:1,terminal_time:"2023-01-10 06:45:03",lat:-5.53888,lng:104.573258,wind_speed:7.5,wind_direction:11.2,heading:334.3,distance:88715.12,depth:-31.6,cog:96.5,sog:.1,created_at:"2023-01-10 08:12:49",updated_at:"2023-01-10 08:12:49"},{time:1673334003e3,id:"ef0d6a02-a51d-43d6-ae22-41c8f4263f47",ship_id:1,terminal_time:"2023-01-10 07:00:03",lat:-5.538878,lng:104.573242,wind_speed:6.2,wind_direction:11.2,heading:336.8,distance:88715.12,depth:-31.6,cog:86.3,sog:0,created_at:"2023-01-10 08:12:40",updated_at:"2023-01-10 08:12:40"},{time:1673334903e3,id:"c8300c89-faab-4152-8194-a46bb0b19e3a",ship_id:1,terminal_time:"2023-01-10 07:15:03",lat:-5.538762,lng:104.573413,wind_speed:4.6,wind_direction:11.2,heading:322.3,distance:88715.12,depth:-31.6,cog:358.1,sog:0,created_at:"2023-01-10 08:13:39",updated_at:"2023-01-10 08:13:39"},{time:1673335803e3,id:"5ef47cf2-3be4-4288-b43d-2dfb23367dbd",ship_id:1,terminal_time:"2023-01-10 07:30:03",lat:-5.538867,lng:104.573397,wind_speed:5,wind_direction:11.2,heading:326.8,distance:88715.12,depth:-31.6,cog:229,sog:0,created_at:"2023-01-10 08:13:25",updated_at:"2023-01-10 08:13:25"},{time:1673336703e3,id:"c28bf5e0-d94c-4f83-8bfd-8cd79550a629",ship_id:1,terminal_time:"2023-01-10 07:45:03",lat:-5.538897,lng:104.573083,wind_speed:5.4,wind_direction:11.2,heading:341.4,distance:88715.13,depth:-32,cog:251.6,sog:0,created_at:"2023-01-10 08:13:39",updated_at:"2023-01-10 08:13:39"},{time:1673337608e3,id:"8170db59-e578-4892-80c4-85355054b0d1",ship_id:1,terminal_time:"2023-01-10 08:00:08",lat:-5.538908,lng:104.572883,wind_speed:3.6,wind_direction:11.2,heading:351.4,distance:88715.14,depth:-32,cog:316.1,sog:0,created_at:"2023-01-10 08:13:38",updated_at:"2023-01-10 08:13:38"},{time:1673338503e3,id:"32200fd0-ad31-4afc-86c6-0eae8d39b303",ship_id:1,terminal_time:"2023-01-10 08:15:03",lat:-5.538917,lng:104.572915,wind_speed:3.8,wind_direction:11.2,heading:351.1,distance:88715.14,depth:-32,cog:324.3,sog:0,created_at:"2023-01-10 08:15:05",updated_at:"2023-01-10 08:15:05"},{time:1673339403e3,id:"c3f39b55-e63f-47d2-9aeb-e7a3c11e6b6c",ship_id:1,terminal_time:"2023-01-10 08:30:03",lat:-5.538923,lng:104.572508,wind_speed:2.7,wind_direction:11.2,heading:0,distance:0,depth:-32,cog:292.2,sog:.2,created_at:"2023-01-10 08:30:05",updated_at:"2023-01-10 08:30:05"},{time:1673340303e3,id:"0f1d7c32-e1b4-4223-813c-3bcb9ff99519",ship_id:1,terminal_time:"2023-01-10 08:45:03",lat:-5.538778,lng:104.5725,wind_speed:2.9,wind_direction:11.2,heading:13,distance:88715.16,depth:-33,cog:110.6,sog:.1,created_at:"2023-01-10 08:45:05",updated_at:"2023-01-10 08:45:05"},{time:1673341203e3,id:"514696b1-d5c1-4d56-ac70-c12912248928",ship_id:1,terminal_time:"2023-01-10 09:00:03",lat:-5.538873,lng:104.572512,wind_speed:2.1,wind_direction:11.2,heading:9.6,distance:88715.17,depth:-32,cog:61.8,sog:0,created_at:"2023-01-10 09:00:05",updated_at:"2023-01-10 09:00:05"},{time:1673342103e3,id:"bb13fd39-bf15-4e3f-9f37-7ba8e070e27b",ship_id:1,terminal_time:"2023-01-10 09:15:03",lat:-5.538902,lng:104.572612,wind_speed:.3,wind_direction:11.2,heading:1.6,distance:88715.18,depth:-32,cog:209.1,sog:0,created_at:"2023-01-10 09:15:06",updated_at:"2023-01-10 09:15:06"},{time:1673343003e3,id:"52799df0-4dda-42e4-ae26-5f9ecb2e1f35",ship_id:1,terminal_time:"2023-01-10 09:30:03",lat:-5.53877,lng:104.572458,wind_speed:.7,wind_direction:11.2,heading:13,distance:88715.19,depth:-31.6,cog:274.9,sog:0,created_at:"2023-01-10 09:30:04",updated_at:"2023-01-10 09:30:04"},{time:1673343903e3,id:"582eb540-8281-4f06-be77-4f020238e88e",ship_id:1,terminal_time:"2023-01-10 09:45:03",lat:-5.538838,lng:104.572397,wind_speed:.3,wind_direction:11.2,heading:17.9,distance:88715.2,depth:-32,cog:98.3,sog:0,created_at:"2023-01-10 09:45:04",updated_at:"2023-01-10 09:45:04"},{time:1673344803e3,id:"d018284e-96bc-40a5-afdf-706261c83173",ship_id:1,terminal_time:"2023-01-10 10:00:03",lat:-5.538725,lng:104.572233,wind_speed:1.7,wind_direction:11.2,heading:26,distance:88715.22,depth:-32,cog:289.9,sog:.2,created_at:"2023-01-10 10:00:05",updated_at:"2023-01-10 10:00:05"},{time:1673345703e3,id:"c7e76799-9152-4732-b4a8-78b81f78ecbb",ship_id:1,terminal_time:"2023-01-10 10:15:03",lat:-5.538707,lng:104.572228,wind_speed:1.5,wind_direction:11.2,heading:28.8,distance:88715.23,depth:-32,cog:295.6,sog:0,created_at:"2023-01-10 10:15:06",updated_at:"2023-01-10 10:15:06"},{time:1673346603e3,id:"5aa686e9-1f35-4d75-94e0-4b24e6575a96",ship_id:1,terminal_time:"2023-01-10 10:30:03",lat:-5.538782,lng:104.572288,wind_speed:2.1,wind_direction:11.2,heading:0,distance:0,depth:-32,cog:115,sog:0,created_at:"2023-01-10 10:30:06",updated_at:"2023-01-10 10:30:06"},{time:1673347503e3,id:"4980bff8-4764-4dad-81cb-0f47d3ebeddc",ship_id:1,terminal_time:"2023-01-10 10:45:03",lat:-5.538625,lng:104.572078,wind_speed:2.1,wind_direction:11.2,heading:0,distance:0,depth:-31.6,cog:306.6,sog:.1,created_at:"2023-01-11 08:19:01",updated_at:"2023-01-11 08:19:01"},{time:1673348403e3,id:"04b85d97-df61-4c7c-9ca5-fadbac1226ee",ship_id:1,terminal_time:"2023-01-10 11:00:03",lat:-5.538578,lng:104.572077,wind_speed:2.7,wind_direction:11.2,heading:40.3,distance:88715.28,depth:-33,cog:99.9,sog:.1,created_at:"2023-01-11 08:09:51",updated_at:"2023-01-11 08:09:51"},{time:1673349303e3,id:"a246a336-7d32-4004-9c36-0669444bfb5f",ship_id:1,terminal_time:"2023-01-10 11:15:03",lat:-5.538568,lng:104.57207,wind_speed:3.3,wind_direction:11.2,heading:0,distance:0,depth:-31.6,cog:307.3,sog:.1,created_at:"2023-01-11 08:59:53",updated_at:"2023-01-11 08:59:53"},{time:1673350203e3,id:"7a34bddb-396b-42bc-8b79-427c5236a76f",ship_id:1,terminal_time:"2023-01-10 11:30:03",lat:-5.538305,lng:104.57185,wind_speed:6.8,wind_direction:88.6,heading:59.8,distance:88715.33,depth:-31.6,cog:9.6,sog:.1,created_at:"2023-01-11 09:18:11",updated_at:"2023-01-11 09:18:11"},{time:1673351103e3,id:"d9220e3e-bbc0-4395-bf55-bf94ebcd524d",ship_id:1,terminal_time:"2023-01-10 11:45:03",lat:-5.537692,lng:104.571797,wind_speed:9.7,wind_direction:116.8,heading:95.5,distance:88715.36,depth:-31.6,cog:26,sog:.3,created_at:"2023-01-11 08:23:10",updated_at:"2023-01-11 08:23:10"},{time:1673352003e3,id:"8a8a13ef-e698-438c-930f-49ec0bb09f63",ship_id:1,terminal_time:"2023-01-10 12:00:03",lat:-5.537127,lng:104.571998,wind_speed:11.2,wind_direction:109.8,heading:122.7,distance:88715.36,depth:-31.6,cog:26.7,sog:.3,created_at:"2023-01-11 09:34:41",updated_at:"2023-01-11 09:34:41"},{time:1673352903e3,id:"229984b5-6b7d-4e00-9a08-4206488dca9d",ship_id:1,terminal_time:"2023-01-10 12:15:03",lat:-5.536328,lng:104.573425,wind_speed:14.9,wind_direction:56.3,heading:188.4,distance:88715.37,depth:-31,cog:121.6,sog:.5,created_at:"2023-01-11 08:16:13",updated_at:"2023-01-11 08:16:13"},{time:1673353803e3,id:"6a965009-1ee6-44b6-9d4a-a8749a1c4dd8",ship_id:1,terminal_time:"2023-01-10 12:30:03",lat:-5.536405,lng:104.573513,wind_speed:17.6,wind_direction:54.9,heading:199.6,distance:88715.39,depth:-31,cog:328,sog:.3,created_at:"2023-01-11 10:05:28",updated_at:"2023-01-11 10:05:28"},{time:1673354703e3,id:"13b5ce26-e32d-45b6-9906-297e9012334b",ship_id:1,terminal_time:"2023-01-10 12:45:03",lat:-5.536357,lng:104.573753,wind_speed:19.2,wind_direction:43.6,heading:197.7,distance:88715.4,depth:-30.6,cog:289.1,sog:.2,created_at:"2023-01-11 08:18:32",updated_at:"2023-01-11 08:18:32"},{time:1673355603e3,id:"ecda7f05-7d69-4f20-bcb7-310ce62047a6",ship_id:1,terminal_time:"2023-01-10 13:00:03",lat:-5.536677,lng:104.574085,wind_speed:20.4,wind_direction:43.6,heading:215.3,distance:88715.42,depth:-31,cog:95.7,sog:.1,created_at:"2023-01-11 08:16:09",updated_at:"2023-01-11 08:16:09"},{time:1673356503e3,id:"67d9e2e8-6850-45c7-a608-0f6f3750adf7",ship_id:1,terminal_time:"2023-01-10 13:15:03",lat:-5.536792,lng:104.574192,wind_speed:15.9,wind_direction:33.6,heading:225.5,distance:88715.43,depth:-31.3,cog:209.7,sog:.1,created_at:"2023-01-11 09:28:23",updated_at:"2023-01-11 09:28:23"},{time:1673357403e3,id:"7c6d8e6c-0652-4c08-9c17-13466996bfa9",ship_id:1,terminal_time:"2023-01-10 13:30:03",lat:-5.536822,lng:104.574207,wind_speed:14.1,wind_direction:32.3,heading:224.4,distance:88715.45,depth:-31,cog:109.6,sog:.1,created_at:"2023-01-11 08:01:23",updated_at:"2023-01-11 08:01:23"},{time:1673358303e3,id:"f71a5fe4-a992-470c-87d5-901a98539cd8",ship_id:1,terminal_time:"2023-01-10 13:45:03",lat:-5.536855,lng:104.574237,wind_speed:11.6,wind_direction:50.6,heading:220.9,distance:88715.47,depth:-31,cog:99.8,sog:.1,created_at:"2023-01-11 08:59:38",updated_at:"2023-01-11 08:59:38"},{time:1673359203e3,id:"bdb096b3-a7b1-479a-bef5-ea8f3b003506",ship_id:1,terminal_time:"2023-01-10 14:00:03",lat:-5.537295,lng:104.574445,wind_speed:15.5,wind_direction:21,heading:249.2,distance:88715.48,depth:-31,cog:132.1,sog:.1,created_at:"2023-01-11 08:44:42",updated_at:"2023-01-11 08:44:42"},{time:1673360103e3,id:"19bccdc4-4e82-4152-b765-cba9d3cdc2fb",ship_id:1,terminal_time:"2023-01-10 14:15:03",lat:-5.537357,lng:104.574448,wind_speed:20.9,wind_direction:15.4,heading:253.6,distance:88715.49,depth:-31,cog:25,sog:.1,created_at:"2023-01-11 09:05:09",updated_at:"2023-01-11 09:05:09"},{time:1673361003e3,id:"9545fd94-a3ad-4016-bbd4-072cc971b7b4",ship_id:1,terminal_time:"2023-01-10 14:30:03",lat:-5.537183,lng:104.574422,wind_speed:15.3,wind_direction:21,heading:243.8,distance:88715.51,depth:-31,cog:317.2,sog:.2,created_at:"2023-01-11 08:05:43",updated_at:"2023-01-11 08:05:43"},{time:1673361903e3,id:"775ad8f3-7486-4dda-8b7b-a41720291bd7",ship_id:1,terminal_time:"2023-01-10 14:45:03",lat:-5.537147,lng:104.574497,wind_speed:20,wind_direction:11.2,heading:243.4,distance:88715.53,depth:-31,cog:18.5,sog:.1,created_at:"2023-01-11 08:54:04",updated_at:"2023-01-11 08:54:04"},{time:1673362803e3,id:"83abeb04-acff-403c-9cc5-7fb61c8448d9",ship_id:1,terminal_time:"2023-01-10 15:00:03",lat:-5.537225,lng:104.574413,wind_speed:14.5,wind_direction:21,heading:243.4,distance:88715.56,depth:-31,cog:321.2,sog:.1,created_at:"2023-01-11 09:13:01",updated_at:"2023-01-11 09:13:01"},{time:1673363703e3,id:"acaa3bc0-f391-4ec9-8168-4d6ebc980f12",ship_id:1,terminal_time:"2023-01-10 15:15:03",lat:-5.537107,lng:104.574492,wind_speed:19,wind_direction:9.7,heading:243.3,distance:88715.58,depth:-31,cog:319.3,sog:.2,created_at:"2023-01-11 10:25:25",updated_at:"2023-01-11 10:25:25"},{time:1673364603e3,id:"83580a71-bc32-40ba-a819-59e1591bae49",ship_id:1,terminal_time:"2023-01-10 15:30:03",lat:-5.537295,lng:104.574417,wind_speed:18.8,wind_direction:26.7,heading:237.1,distance:88715.61,depth:-31,cog:72.7,sog:.2,created_at:"2023-01-11 08:24:04",updated_at:"2023-01-11 08:24:04"},{time:1673365503e3,id:"d107598f-b613-40ad-80e8-f021392d01a3",ship_id:1,terminal_time:"2023-01-10 15:45:03",lat:-5.53849,lng:104.561972,wind_speed:19.2,wind_direction:8.4,heading:266.7,distance:88716.39,depth:-35.6,cog:265.4,sog:2.8,created_at:"2023-01-11 09:19:29",updated_at:"2023-01-11 09:19:29"},{time:1673366403e3,id:"859441a4-aad6-4ebd-aa8e-4a8578c5526d",ship_id:1,terminal_time:"2023-01-10 16:00:03",lat:-5.541455,lng:104.560142,wind_speed:10.8,wind_direction:0,heading:260.5,distance:88716.58,depth:-41.3,cog:93.6,sog:.4,created_at:"2023-01-11 09:56:23",updated_at:"2023-01-11 09:56:23"},{time:1673367303e3,id:"28c5590a-1222-4129-b1f8-464f4a1ab33d",ship_id:1,terminal_time:"2023-01-10 16:15:03",lat:-5.542728,lng:104.560063,wind_speed:15.9,wind_direction:315.3,heading:0,distance:0,depth:-42,cog:203.9,sog:.3,created_at:"2023-01-11 08:16:55",updated_at:"2023-01-11 08:16:55"},{time:1673368203e3,id:"9331e12a-800b-44a4-8481-ef5423926243",ship_id:1,terminal_time:"2023-01-10 16:30:03",lat:-5.54335,lng:104.559467,wind_speed:14.7,wind_direction:336.4,heading:316.8,distance:88716.61,depth:-42,cog:326.5,sog:.1,created_at:"2023-01-11 09:02:06",updated_at:"2023-01-11 09:02:06"},{time:1673369413e3,id:"b6c2fdc4-0a36-412f-97b3-e19f5f1b754e",ship_id:1,terminal_time:"2023-01-10 16:50:13",lat:-5.54225,lng:104.560177,wind_speed:7.9,wind_direction:16.8,heading:280.8,distance:88716.63,depth:-41.6,cog:348.4,sog:.2,created_at:"2023-01-11 08:36:51",updated_at:"2023-01-11 08:36:51"},{time:1673370003e3,id:"88544c71-07ec-47a3-9425-83443bf1543f",ship_id:1,terminal_time:"2023-01-10 17:00:03",lat:-5.541955,lng:104.560087,wind_speed:12,wind_direction:9.7,heading:270.3,distance:88716.64,depth:-41.6,cog:5.6,sog:.2,created_at:"2023-01-11 09:17:54",updated_at:"2023-01-11 09:17:54"},{time:1673370903e3,id:"0439c29f-90b9-48cc-bec9-af020ee12223",ship_id:1,terminal_time:"2023-01-10 17:15:03",lat:-5.54169,lng:104.560058,wind_speed:8.1,wind_direction:32.3,heading:260.5,distance:88716.65,depth:-41.6,cog:309,sog:.2,created_at:"2023-01-11 10:17:44",updated_at:"2023-01-11 10:17:44"},{time:1673371803e3,id:"5d8047ae-778e-4dae-b543-c5d312c91b89",ship_id:1,terminal_time:"2023-01-10 17:30:03",lat:-5.541797,lng:104.560018,wind_speed:10.4,wind_direction:43.6,heading:258.3,distance:88716.67,depth:-42,cog:106.2,sog:.2,created_at:"2023-01-11 09:22:34",updated_at:"2023-01-11 09:22:34"},{time:1673372703e3,id:"90fec783-94f4-4620-879e-cfd5bf0f9b98",ship_id:1,terminal_time:"2023-01-10 17:45:03",lat:-5.542028,lng:104.560158,wind_speed:7.7,wind_direction:32.3,heading:273,distance:88716.67,depth:-41.6,cog:229.3,sog:.1,created_at:"2023-01-11 09:13:40",updated_at:"2023-01-11 09:13:40"},{time:1673373603e3,id:"925227d5-1685-4efc-8d4d-07ee45b665cb",ship_id:1,terminal_time:"2023-01-10 18:00:03",lat:-5.542407,lng:104.559988,wind_speed:4.6,wind_direction:49.1,heading:282.2,distance:88716.68,depth:-42,cog:194,sog:.1,created_at:"2023-01-11 09:36:51",updated_at:"2023-01-11 09:36:51"},{time:1673374503e3,id:"2c1746d2-52ed-4878-96e6-c5bcb5e15f57",ship_id:1,terminal_time:"2023-01-10 18:15:03",lat:-5.542953,lng:104.559968,wind_speed:4.8,wind_direction:45,heading:303.8,distance:88716.69,depth:-42.3,cog:184.6,sog:.1,created_at:"2023-01-11 09:53:35",updated_at:"2023-01-11 09:53:35"},{time:1673375403e3,id:"458bc847-49b8-4103-b441-5b85070c4a26",ship_id:1,terminal_time:"2023-01-10 18:30:03",lat:-5.54319,lng:104.559698,wind_speed:8.1,wind_direction:26.7,heading:317.6,distance:88716.71,depth:-42.3,cog:259,sog:.2,created_at:"2023-01-11 10:41:12",updated_at:"2023-01-11 10:41:12"},{time:1673376303e3,id:"7a04d24c-562e-4260-8524-122266d76b5d",ship_id:1,terminal_time:"2023-01-10 18:45:03",lat:-5.543392,lng:104.559572,wind_speed:6.8,wind_direction:353.3,heading:326.9,distance:88716.71,depth:-42.3,cog:198.2,sog:.1,created_at:"2023-01-11 10:01:54",updated_at:"2023-01-11 10:01:54"},{time:1673377203e3,id:"4914b017-1b9f-4f4b-a291-d9b6bf8ecccd",ship_id:1,terminal_time:"2023-01-10 19:00:03",lat:-5.54358,lng:104.559465,wind_speed:4.2,wind_direction:359,heading:335.6,distance:88716.71,depth:-42.6,cog:264.1,sog:.1,created_at:"2023-01-11 10:59:54",updated_at:"2023-01-11 10:59:54"},{time:1673378108e3,id:"b76818db-b6a8-430f-a64e-55aacb30bd1e",ship_id:1,terminal_time:"2023-01-10 19:15:08",lat:-5.54346,lng:104.559573,wind_speed:9.3,wind_direction:282.9,heading:336.1,distance:88716.71,depth:-42.6,cog:86,sog:.2,created_at:"2023-01-11 10:54:48",updated_at:"2023-01-11 10:54:48"},{time:1673379003e3,id:"b72a0185-3cac-4028-be33-d0d9cf496a5b",ship_id:1,terminal_time:"2023-01-10 19:30:03",lat:-5.5430150000000005,lng:104.559922,wind_speed:7.3,wind_direction:325.1,heading:311.5,distance:88716.72,depth:-42.3,cog:21.5,sog:.1,created_at:"2023-01-11 10:48:56",updated_at:"2023-01-11 10:48:56"},{time:1673379903e3,id:"00de7ba1-da7b-4f09-b03d-b1e05711ac14",ship_id:1,terminal_time:"2023-01-10 19:45:03",lat:-5.542545,lng:104.560115,wind_speed:7.9,wind_direction:354.6,heading:294.8,distance:88716.73,depth:-42.3,cog:19.6,sog:0,created_at:"2023-01-11 10:06:49",updated_at:"2023-01-11 10:06:49"},{time:1673380803e3,id:"bb4f09cd-d3ea-4bd7-8b43-631d7492bd52",ship_id:1,terminal_time:"2023-01-10 20:00:03",lat:-5.542382,lng:104.560208,wind_speed:12,wind_direction:347.6,heading:289,distance:88716.74,depth:-42.3,cog:354.6,sog:.1,created_at:"2023-01-11 10:02:10",updated_at:"2023-01-11 10:02:10"},{time:1673381703e3,id:"3214b99f-8371-483a-b938-aa3c97e21d86",ship_id:1,terminal_time:"2023-01-10 20:15:03",lat:-5.541937,lng:104.560167,wind_speed:10.4,wind_direction:359,heading:274,distance:88716.75,depth:-42.3,cog:354.7,sog:.1,created_at:"2023-01-11 10:43:38",updated_at:"2023-01-11 10:43:38"},{time:1673382603e3,id:"4ac048c2-864d-4e5c-b5d3-f9bf5206d98e",ship_id:1,terminal_time:"2023-01-10 20:30:03",lat:-5.541728,lng:104.560092,wind_speed:8.1,wind_direction:354.6,heading:267.6,distance:88716.75,depth:-42.3,cog:222.1,sog:0,created_at:"2023-01-11 11:15:05",updated_at:"2023-01-11 11:15:05"},{time:1673383503e3,id:"8149de7d-77d9-48e1-a53d-b6433e2f73d2",ship_id:1,terminal_time:"2023-01-10 20:45:03",lat:-5.541787,lng:104.56018,wind_speed:4.6,wind_direction:9.7,heading:265.9,distance:88716.76,depth:-42.3,cog:317,sog:.1,created_at:"2023-01-11 10:35:19",updated_at:"2023-01-11 10:35:19"},{time:1673384403e3,id:"2923b743-662d-4062-b187-ceeae60b90df",ship_id:1,terminal_time:"2023-01-10 21:00:03",lat:-5.541892,lng:104.55998,wind_speed:5.6,wind_direction:9.7,heading:268,distance:88716.78,depth:-42.3,cog:194,sog:.1,created_at:"2023-01-11 10:29:27",updated_at:"2023-01-11 10:29:27"},{time:1673385303e3,id:"6c1036d6-44a0-425b-8658-9db0c3ed493d",ship_id:1,terminal_time:"2023-01-10 21:15:03",lat:-5.542145,lng:104.56009,wind_speed:4,wind_direction:21,heading:277.4,distance:88716.79,depth:-42.6,cog:260.7,sog:.1,created_at:"2023-01-11 11:25:52",updated_at:"2023-01-11 11:25:52"},{time:1673386203e3,id:"6368e190-3bdc-4221-bff8-71d5bb0a3ca7",ship_id:1,terminal_time:"2023-01-10 21:30:03",lat:-5.542302,lng:104.560052,wind_speed:6.2,wind_direction:11.7,heading:285.8,distance:88716.79,depth:-42.6,cog:164.1,sog:0,created_at:"2023-01-11 11:21:34",updated_at:"2023-01-11 11:21:34"},{time:1673387103e3,id:"fc0088a3-893d-4fe4-bfe7-30679fbca91e",ship_id:1,terminal_time:"2023-01-10 21:45:03",lat:-5.542138,lng:104.560253,wind_speed:10.3,wind_direction:336.4,heading:286,distance:88716.8,depth:-42.3,cog:14.8,sog:.2,created_at:"2023-01-11 11:19:10",updated_at:"2023-01-11 11:19:10"},{time:1673388003e3,id:"71be65de-7a90-43dd-81c8-39b9fef2c290",ship_id:1,terminal_time:"2023-01-10 22:00:03",lat:-5.54161,lng:104.559828,wind_speed:2.7,wind_direction:336.4,heading:262.8,distance:88716.82,depth:-42,cog:266.4,sog:.1,created_at:"2023-01-11 10:57:14",updated_at:"2023-01-11 10:57:14"},{time:1673388908e3,id:"e42797d0-df06-4807-ab76-c37418dcfe02",ship_id:1,terminal_time:"2023-01-10 22:15:08",lat:-5.541503,lng:104.55974,wind_speed:6.6,wind_direction:336.4,heading:252.5,distance:88716.83,depth:-42,cog:14.8,sog:.1,created_at:"2023-01-11 11:11:30",updated_at:"2023-01-11 11:11:30"},{time:1673389803e3,id:"eee442cb-4b9b-47a6-9d4d-b678c812444b",ship_id:1,terminal_time:"2023-01-10 22:30:03",lat:-5.54109,lng:104.560015,wind_speed:12,wind_direction:16.8,heading:246.5,distance:88716.84,depth:-41.6,cog:347.3,sog:.1,created_at:"2023-01-11 11:10:12",updated_at:"2023-01-11 11:10:12"},{time:1673390703e3,id:"e4a937de-d12c-4530-90a5-f64aa8f75f72",ship_id:1,terminal_time:"2023-01-10 22:45:03",lat:-5.541293,lng:104.559667,wind_speed:2.7,wind_direction:43.6,heading:245.7,distance:88716.86,depth:-42,cog:209.6,sog:.1,created_at:"2023-01-11 11:04:22",updated_at:"2023-01-11 11:04:22"},{time:1673391698e3,id:"68a3ef72-960a-4387-8aa6-5b66611fe0a2",ship_id:1,terminal_time:"2023-01-10 23:01:38",lat:-5.541548,lng:104.559765,wind_speed:3.4,wind_direction:49.1,heading:0,distance:0,depth:-41.6,cog:134.3,sog:.1,created_at:"2023-01-11 11:39:16",updated_at:"2023-01-11 11:39:16"},{time:1673392503e3,id:"089eb567-2b29-41e9-9781-9030e190f220",ship_id:1,terminal_time:"2023-01-10 23:15:03",lat:-5.54197,lng:104.560077,wind_speed:4.2,wind_direction:56.3,heading:271.4,distance:88716.87,depth:-42,cog:164.7,sog:.2,created_at:"2023-01-11 11:30:13",updated_at:"2023-01-11 11:30:13"},{time:1673393403e3,id:"63129a87-03cc-4ede-ba2d-91ee71078d8a",ship_id:1,terminal_time:"2023-01-10 23:30:03",lat:-5.542198,lng:104.5601,wind_speed:2.3,wind_direction:43.5,heading:286,distance:88716.87,depth:-42,cog:207.2,sog:.1,created_at:"2023-01-11 11:43:42",updated_at:"2023-01-11 11:43:42"},{time:1673394303e3,id:"4aaecec9-7db3-489d-9e3f-9027a0451a1d",ship_id:1,terminal_time:"2023-01-10 23:45:03",lat:-5.542232,lng:104.56008,wind_speed:2.5,wind_direction:357.5,heading:289.4,distance:88716.87,depth:-42,cog:172.7,sog:.1,created_at:"2023-01-11 11:30:30",updated_at:"2023-01-11 11:30:30"},{time:1673395203e3,id:"5e443c1f-a779-458b-923d-d79b8bdb2950",ship_id:1,terminal_time:"2023-01-11 00:00:03",lat:-5.542575,lng:104.559993,wind_speed:4.2,wind_direction:49.1,heading:295.9,distance:88716.87,depth:-42,cog:178.8,sog:.1,created_at:"2023-01-11 11:20:30",updated_at:"2023-01-11 11:20:30"},{time:1673478415e3,id:"3a27a298-8266-41ea-83c2-1fa693ef93a8",ship_id:1,terminal_time:"2023-01-11 23:06:55",lat:-5.91961,lng:106.000188,wind_speed:15.1,wind_direction:201.2,heading:31.1,distance:88812.6,depth:-4,cog:306.2,sog:.1,created_at:"2023-01-12 08:00:07",updated_at:"2023-01-12 08:00:07"},{time:1673482021e3,id:"301c2657-23af-4610-8577-1267f195a1c7",ship_id:1,terminal_time:"2023-01-12 00:07:01",lat:-5.91961,lng:106.000188,wind_speed:15.1,wind_direction:201.2,heading:31.1,distance:88812.6,depth:-4,cog:306.2,sog:0,created_at:"2023-01-12 08:00:10",updated_at:"2023-01-12 08:00:10"},{time:1673482501e3,id:"ffe5c699-e3bc-4273-a0ff-33499003b397",ship_id:1,terminal_time:"2023-01-12 00:15:01",lat:-5.919605,lng:106.00021,wind_speed:12.8,wind_direction:212.5,heading:31.1,distance:88812.61,depth:-4,cog:295.9,sog:0,created_at:"2023-01-12 08:01:25",updated_at:"2023-01-12 08:01:25"},{time:1673483401e3,id:"95be2e54-e93e-4fe2-a470-028106f4827b",ship_id:1,terminal_time:"2023-01-12 00:30:01",lat:-5.919602,lng:106.000222,wind_speed:15.1,wind_direction:219.6,heading:31,distance:88812.61,depth:-4,cog:107.8,sog:0,created_at:"2023-01-12 08:00:38",updated_at:"2023-01-12 08:00:38"},{time:1673484301e3,id:"62eb058f-ab11-46fc-8990-a9da9a055cae",ship_id:1,terminal_time:"2023-01-12 00:45:01",lat:-5.91959,lng:106.00022,wind_speed:19.6,wind_direction:206.9,heading:31.2,distance:88812.61,depth:-4,cog:126.6,sog:0,created_at:"2023-01-12 08:02:17",updated_at:"2023-01-12 08:02:17"},{time:1673485201e3,id:"db170fcf-5c04-48b1-8b3e-1ea1a747de17",ship_id:1,terminal_time:"2023-01-12 01:00:01",lat:-5.919602,lng:106.000213,wind_speed:14.1,wind_direction:206.9,heading:31.2,distance:88812.61,depth:-3.6,cog:121.9,sog:0,created_at:"2023-01-12 08:03:00",updated_at:"2023-01-12 08:03:00"},{time:1673486101e3,id:"53202233-3f20-46fc-b124-4e5b880022cc",ship_id:1,terminal_time:"2023-01-12 01:15:01",lat:-5.919595,lng:106.00023,wind_speed:20.4,wind_direction:204,heading:31.2,distance:88812.61,depth:-3.6,cog:137,sog:.1,created_at:"2023-01-12 08:03:40",updated_at:"2023-01-12 08:03:40"},{time:1673487001e3,id:"f2ad03cf-9317-4535-884b-21401f965fa1",ship_id:1,terminal_time:"2023-01-12 01:30:01",lat:-5.91957,lng:106.000213,wind_speed:16.1,wind_direction:206.9,heading:31.6,distance:88812.62,depth:-3.6,cog:312.3,sog:0,created_at:"2023-01-12 08:01:18",updated_at:"2023-01-12 08:01:18"},{time:1673487901e3,id:"1717eafe-2674-4fab-ac02-c130433596ce",ship_id:1,terminal_time:"2023-01-12 01:45:01",lat:-5.919583,lng:106.000232,wind_speed:16.9,wind_direction:208.3,heading:31.3,distance:88812.62,depth:-3.6,cog:280.3,sog:.1,created_at:"2023-01-12 08:00:28",updated_at:"2023-01-12 08:00:28"},{time:1673488801e3,id:"a257ae15-7b7d-4982-9e0a-7d65c7724a0b",ship_id:1,terminal_time:"2023-01-12 02:00:01",lat:-5.919518,lng:106.000213,wind_speed:19.2,wind_direction:213.9,heading:30.9,distance:88812.62,depth:-3.6,cog:303.5,sog:0,created_at:"2023-01-12 08:02:13",updated_at:"2023-01-12 08:02:13"},{time:1673489701e3,id:"e16c56d6-2d75-447e-9552-8e9dc5c89d17",ship_id:1,terminal_time:"2023-01-12 02:15:01",lat:-5.919577,lng:106.000232,wind_speed:20,wind_direction:212.5,heading:31.1,distance:88812.63,depth:-3.6,cog:310.5,sog:.1,created_at:"2023-01-12 08:01:35",updated_at:"2023-01-12 08:01:35"},{time:1673490601e3,id:"f19c3f20-ab29-457b-939a-1b258e8f55ad",ship_id:1,terminal_time:"2023-01-12 02:30:01",lat:-5.919567,lng:106.000248,wind_speed:19,wind_direction:212.1,heading:31.2,distance:88812.64,depth:-3.3,cog:313.2,sog:.1,created_at:"2023-01-12 08:00:48",updated_at:"2023-01-12 08:00:48"},{time:1673491501e3,id:"36399975-75a1-4ae4-9944-fe85dc14f62b",ship_id:1,terminal_time:"2023-01-12 02:45:01",lat:-5.919593,lng:106.000235,wind_speed:14.9,wind_direction:202.7,heading:31.2,distance:88812.65,depth:-3.3,cog:331.5,sog:.1,created_at:"2023-01-12 08:02:40",updated_at:"2023-01-12 08:02:40"},{time:1673492401e3,id:"85c19f34-0992-4c6f-b7dc-db0b624a306b",ship_id:1,terminal_time:"2023-01-12 03:00:01",lat:-5.919592,lng:106.00023,wind_speed:17.6,wind_direction:209.2,heading:31.2,distance:88812.66,depth:-3.3,cog:99.6,sog:0,created_at:"2023-01-12 08:03:12",updated_at:"2023-01-12 08:03:12"},{time:1673493301e3,id:"c778fd18-b2e6-4009-9e52-6cb03b3fa5f9",ship_id:1,terminal_time:"2023-01-12 03:15:01",lat:-5.919595,lng:106.00021,wind_speed:18.4,wind_direction:206.9,heading:31.1,distance:88812.67,depth:-3.3,cog:304.7,sog:.1,created_at:"2023-01-12 08:03:47",updated_at:"2023-01-12 08:03:47"},{time:1673494201e3,id:"6475c752-084a-474b-83f3-ed822b2ccb81",ship_id:1,terminal_time:"2023-01-12 03:30:01",lat:-5.919612,lng:106.000213,wind_speed:17.6,wind_direction:213.9,heading:31,distance:88812.68,depth:-3.3,cog:294.5,sog:.1,created_at:"2023-01-12 08:01:24",updated_at:"2023-01-12 08:01:24"},{time:1673495101e3,id:"a56d58a7-c4ba-4709-923b-545fd0a68e23",ship_id:1,terminal_time:"2023-01-12 03:45:01",lat:-5.919602,lng:106.000232,wind_speed:17.4,wind_direction:201.2,heading:31.3,distance:88812.68,depth:-3.3,cog:257.4,sog:0,created_at:"2023-01-12 08:04:20",updated_at:"2023-01-12 08:04:20"},{time:1673496001e3,id:"cac79e4a-e15d-4f75-9273-d5e24645053e",ship_id:1,terminal_time:"2023-01-12 04:00:01",lat:-5.919602,lng:106.000252,wind_speed:15.3,wind_direction:213.9,heading:0,distance:0,depth:-3.3,cog:307.2,sog:.1,created_at:"2023-01-12 08:04:10",updated_at:"2023-01-12 08:04:10"},{time:1673496901e3,id:"3dfb8e71-93a9-4d4f-8965-013575f61a35",ship_id:1,terminal_time:"2023-01-12 04:15:01",lat:-5.919607,lng:106.000238,wind_speed:20.2,wind_direction:206.7,heading:31.3,distance:88812.68,depth:-3.3,cog:150.8,sog:.1,created_at:"2023-01-12 08:04:45",updated_at:"2023-01-12 08:04:45"},{time:1673497801e3,id:"0f7d7540-fe75-45e0-9a30-635c7128b620",ship_id:1,terminal_time:"2023-01-12 04:30:01",lat:-5.919607,lng:106.000257,wind_speed:15.9,wind_direction:206.9,heading:31,distance:88812.68,depth:-3.3,cog:149.1,sog:0,created_at:"2023-01-12 08:02:03",updated_at:"2023-01-12 08:02:03"},{time:1673498701e3,id:"f21a660b-dcfa-4b13-9856-215ab031fb29",ship_id:1,terminal_time:"2023-01-12 04:45:01",lat:-5.919532,lng:106.000253,wind_speed:18,wind_direction:206.9,heading:0,distance:0,depth:-3.3,cog:196,sog:0,created_at:"2023-01-12 08:03:57",updated_at:"2023-01-12 08:03:57"},{time:1673499601e3,id:"67284bea-ac4f-4fcb-be3d-67fb96501e12",ship_id:1,terminal_time:"2023-01-12 05:00:01",lat:-5.919563,lng:106.000252,wind_speed:12.8,wind_direction:206.9,heading:31.1,distance:88812.69,depth:-3.3,cog:313.2,sog:.1,created_at:"2023-01-12 08:02:05",updated_at:"2023-01-12 08:02:05"},{time:1673500501e3,id:"903255da-a46b-4560-be6f-54121a35e9d4",ship_id:1,terminal_time:"2023-01-12 05:15:01",lat:-5.919592,lng:106.00022,wind_speed:14.7,wind_direction:208.3,heading:31.2,distance:88812.69,depth:-3.3,cog:317.3,sog:0,created_at:"2023-01-12 08:01:18",updated_at:"2023-01-12 08:01:18"},{time:1673501401e3,id:"d15302d5-c880-455f-8e84-b63f78532405",ship_id:1,terminal_time:"2023-01-12 05:30:01",lat:-5.919553,lng:106.000257,wind_speed:14.1,wind_direction:206.9,heading:31.3,distance:88812.69,depth:-3.3,cog:85.3,sog:0,created_at:"2023-01-12 08:00:36",updated_at:"2023-01-12 08:00:36"},{time:1673502301e3,id:"6964957b-d44f-4ccd-9711-139c0f5321a6",ship_id:1,terminal_time:"2023-01-12 05:45:01",lat:-5.919598,lng:106.000232,wind_speed:12.4,wind_direction:213.9,heading:31,distance:88812.7,depth:-3.3,cog:71.8,sog:0,created_at:"2023-01-12 08:02:19",updated_at:"2023-01-12 08:02:19"},{time:1673503261e3,id:"9e325986-7d1b-4135-ba31-922a70ec7621",ship_id:1,terminal_time:"2023-01-12 06:01:01",lat:-5.919563,lng:106.000245,wind_speed:16.9,wind_direction:213.9,heading:31.1,distance:88812.7,depth:-3.3,cog:45.2,sog:0,created_at:"2023-01-12 08:04:33",updated_at:"2023-01-12 08:04:33"},{time:1673504101e3,id:"91e1667b-13ee-4042-b227-58b06be13ccd",ship_id:1,terminal_time:"2023-01-12 06:15:01",lat:-5.919573,lng:106.00022,wind_speed:6.6,wind_direction:213.9,heading:31.3,distance:88812.7,depth:-3.3,cog:144.5,sog:0,created_at:"2023-01-12 08:01:32",updated_at:"2023-01-12 08:01:32"},{time:1673505006e3,id:"8fbb2278-d875-4905-87a7-36e16bdc5d08",ship_id:1,terminal_time:"2023-01-12 06:30:06",lat:-5.919547,lng:106.00019,wind_speed:14.1,wind_direction:219.6,heading:31.1,distance:88812.7,depth:-3.3,cog:129.1,sog:0,created_at:"2023-01-12 08:03:24",updated_at:"2023-01-12 08:03:24"},{time:1673505901e3,id:"6dd47699-6d9e-4f4e-b03f-b3c7c179d628",ship_id:1,terminal_time:"2023-01-12 06:45:01",lat:-5.919567,lng:106.000218,wind_speed:11.2,wind_direction:206.9,heading:31.2,distance:88812.7,depth:-3.3,cog:302.6,sog:0,created_at:"2023-01-12 08:04:14",updated_at:"2023-01-12 08:04:14"},{time:1673506801e3,id:"e6b66228-a386-4585-8b24-beb353ada5df",ship_id:1,terminal_time:"2023-01-12 07:00:01",lat:-5.919573,lng:106.000242,wind_speed:13.8,wind_direction:212.5,heading:31.2,distance:88812.7,depth:-3.3,cog:130,sog:0,created_at:"2023-01-12 08:03:33",updated_at:"2023-01-12 08:03:33"},{time:1673507701e3,id:"87faa350-6df1-4360-a4a2-280d812558f8",ship_id:1,terminal_time:"2023-01-12 07:15:01",lat:-5.919583,lng:106.000195,wind_speed:11.2,wind_direction:201.2,heading:31.1,distance:88812.7,depth:-3.3,cog:122.9,sog:0,created_at:"2023-01-12 08:04:40",updated_at:"2023-01-12 08:04:40"},{time:1673508601e3,id:"9e3f7764-a732-42a0-94c3-1c0493a43105",ship_id:1,terminal_time:"2023-01-12 07:30:01",lat:-5.919588,lng:106.000215,wind_speed:11,wind_direction:223.8,heading:31.1,distance:88812.7,depth:-3.3,cog:125.7,sog:0,created_at:"2023-01-12 08:04:34",updated_at:"2023-01-12 08:04:34"},{time:1673509501e3,id:"c0d5821b-d4a0-469d-a793-634ffbcb381f",ship_id:1,terminal_time:"2023-01-12 07:45:01",lat:-5.919593,lng:106.000222,wind_speed:16.1,wind_direction:213.9,heading:31.1,distance:88812.7,depth:-3.3,cog:122.9,sog:0,created_at:"2023-01-12 08:03:50",updated_at:"2023-01-12 08:03:50"},{time:1673510406e3,id:"5bcbfbf1-6af1-45d4-9e4f-3f756ee3de58",ship_id:1,terminal_time:"2023-01-12 08:00:06",lat:-5.9196,lng:106.000238,wind_speed:10.8,wind_direction:215.4,heading:31,distance:88812.7,depth:-3.3,cog:117.8,sog:.1,created_at:"2023-01-12 08:04:56",updated_at:"2023-01-12 08:04:56"},{time:1673511301e3,id:"7d090cd0-aba9-42b6-bbe9-1f253ee7093b",ship_id:1,terminal_time:"2023-01-12 08:15:01",lat:-5.919602,lng:106.000217,wind_speed:12.2,wind_direction:223.8,heading:31.1,distance:88812.7,depth:-3.6,cog:92.7,sog:.1,created_at:"2023-01-12 08:15:05",updated_at:"2023-01-12 08:15:05"},{time:1673512201e3,id:"fc753b87-6977-4e80-b90b-05dc877e04c3",ship_id:1,terminal_time:"2023-01-12 08:30:01",lat:-5.919598,lng:106.000233,wind_speed:15.5,wind_direction:215.4,heading:31.1,distance:88812.71,depth:-3.6,cog:134.1,sog:0,created_at:"2023-01-12 08:30:04",updated_at:"2023-01-12 08:30:04"},{time:1673513101e3,id:"15468c4d-66ad-44c5-8692-70c97eca048f",ship_id:1,terminal_time:"2023-01-12 08:45:01",lat:-5.919635,lng:106.00023,wind_speed:13.8,wind_direction:235.1,heading:31.1,distance:88812.71,depth:-3.6,cog:105.9,sog:.1,created_at:"2023-01-12 08:45:04",updated_at:"2023-01-12 08:45:04"},{time:1673514001e3,id:"ebc3bf69-1d1f-495a-b4a4-9c32c0ed598d",ship_id:1,terminal_time:"2023-01-12 09:00:01",lat:-5.919602,lng:106.000208,wind_speed:15.5,wind_direction:212,heading:31.2,distance:88812.71,depth:-3.6,cog:112.4,sog:0,created_at:"2023-01-12 09:00:04",updated_at:"2023-01-12 09:00:04"},{time:1673514901e3,id:"545fefd0-b1bb-4e36-a7d3-c0c35e2dc06a",ship_id:1,terminal_time:"2023-01-12 09:15:01",lat:-5.919617,lng:106.000203,wind_speed:11.6,wind_direction:223.8,heading:31.33,distance:88812.71,depth:-3.6,cog:121.1,sog:0,created_at:"2023-01-12 09:15:04",updated_at:"2023-01-12 09:15:04"},{time:1673515801e3,id:"f45537e7-c24d-43d4-a111-c331f0185270",ship_id:1,terminal_time:"2023-01-12 09:30:01",lat:-5.919602,lng:106.000202,wind_speed:11.4,wind_direction:246.3,heading:31.3,distance:88812.71,depth:-3.6,cog:120.6,sog:0,created_at:"2023-01-12 09:30:05",updated_at:"2023-01-12 09:30:05"},{time:1673516706e3,id:"d927f6f3-c47e-4066-948b-8c47ce169ddd",ship_id:1,terminal_time:"2023-01-12 09:45:06",lat:-5.919607,lng:106.0002,wind_speed:11.8,wind_direction:246.3,heading:31.3,distance:88812.71,depth:-3.6,cog:281.2,sog:0,created_at:"2023-01-12 09:45:11",updated_at:"2023-01-12 09:45:11"},{time:1673517601e3,id:"6f2b17a6-fc9e-4272-b263-9372835e5cb7",ship_id:1,terminal_time:"2023-01-12 10:00:01",lat:-5.919583,lng:106.000217,wind_speed:13.2,wind_direction:235.1,heading:31.1,distance:88812.71,depth:-3.6,cog:122.7,sog:0,created_at:"2023-01-12 10:00:05",updated_at:"2023-01-12 10:00:05"},{time:1673518501e3,id:"8037d2bb-f96b-4bdc-8e1a-6cc0234defce",ship_id:1,terminal_time:"2023-01-12 10:15:01",lat:-5.919593,lng:106.000227,wind_speed:10.8,wind_direction:225.2,heading:31.2,distance:88812.71,depth:-3.6,cog:107.9,sog:0,created_at:"2023-01-12 10:15:05",updated_at:"2023-01-12 10:15:05"},{time:1673519401e3,id:"59efc70a-dfcf-475b-a578-d472d4b63f41",ship_id:1,terminal_time:"2023-01-12 10:30:01",lat:-5.91962,lng:106.000227,wind_speed:12.8,wind_direction:235.1,heading:0,distance:0,depth:-3.6,cog:127.3,sog:0,created_at:"2023-01-12 10:30:05",updated_at:"2023-01-12 10:30:05"},{time:1673520301e3,id:"14107e27-17a4-4f72-8bf5-b4ba6866475b",ship_id:1,terminal_time:"2023-01-12 10:45:01",lat:-5.919598,lng:106.000215,wind_speed:6.9,wind_direction:241.7,heading:31.2,distance:88812.72,depth:-3.6,cog:142.3,sog:0,created_at:"2023-01-12 10:45:05",updated_at:"2023-01-12 10:45:05"},{time:1673521201e3,id:"55f2910a-c9a9-400f-99ec-17d9ea4260ab",ship_id:1,terminal_time:"2023-01-12 11:00:01",lat:-5.919615,lng:106.000205,wind_speed:14.3,wind_direction:235.1,heading:31.2,distance:88812.72,depth:-3.6,cog:309,sog:0,created_at:"2023-01-12 11:00:05",updated_at:"2023-01-12 11:00:05"},{time:1673522101e3,id:"554cb944-60be-4c64-baf9-0244229277f5",ship_id:1,terminal_time:"2023-01-12 11:15:01",lat:-5.919627,lng:106.000208,wind_speed:12.4,wind_direction:237.5,heading:31,distance:88812.72,depth:-3.6,cog:63,sog:.1,created_at:"2023-01-12 11:15:05",updated_at:"2023-01-12 11:15:05"},{time:1673523001e3,id:"d0a7e914-9d36-4e3a-b078-429af76e139a",ship_id:1,terminal_time:"2023-01-12 11:30:01",lat:-5.919625,lng:106.000183,wind_speed:12.4,wind_direction:247.7,heading:31.3,distance:88812.74,depth:-3.6,cog:64.3,sog:.1,created_at:"2023-01-12 11:30:05",updated_at:"2023-01-12 11:30:05"},{time:1673523901e3,id:"3578112f-5993-44fc-9bcb-484ae892cb83",ship_id:1,terminal_time:"2023-01-12 11:45:01",lat:-5.91961,lng:106.00022,wind_speed:13.8,wind_direction:247.7,heading:31.2,distance:88812.75,depth:-3.6,cog:47.8,sog:.1,created_at:"2023-01-12 11:45:05",updated_at:"2023-01-12 11:45:05"},{time:1673524801e3,id:"63045459-e38d-4517-88ec-0e16f915455c",ship_id:1,terminal_time:"2023-01-12 12:00:01",lat:-5.919587,lng:106.000218,wind_speed:9.1,wind_direction:247.7,heading:31.1,distance:88812.76,depth:-3.6,cog:102.5,sog:.1,created_at:"2023-01-12 12:00:05",updated_at:"2023-01-12 12:00:05"},{time:1673525701e3,id:"8f235d26-eba0-4cf1-b387-1bbe467f5880",ship_id:1,terminal_time:"2023-01-12 12:15:01",lat:-5.919615,lng:106.000227,wind_speed:11.6,wind_direction:242.1,heading:31.1,distance:88812.77,depth:-3.6,cog:311.4,sog:0,created_at:"2023-01-12 12:15:02",updated_at:"2023-01-12 12:15:02"},{time:1673526601e3,id:"3a964569-c108-42ad-a009-fcbb362b6a7f",ship_id:1,terminal_time:"2023-01-12 12:30:01",lat:-5.91958,lng:106.000207,wind_speed:5.8,wind_direction:229.4,heading:31.2,distance:88812.77,depth:-3.3,cog:110.9,sog:.1,created_at:"2023-01-12 12:30:04",updated_at:"2023-01-12 12:30:04"},{time:1673527501e3,id:"6751b37a-cee9-487f-bb0f-011ea80d9cb4",ship_id:1,terminal_time:"2023-01-12 12:45:01",lat:-5.919628,lng:106.000247,wind_speed:7.9,wind_direction:206.9,heading:31.3,distance:88812.78,depth:-3.3,cog:293.2,sog:0,created_at:"2023-01-12 12:45:04",updated_at:"2023-01-12 12:45:04"},{time:1673528401e3,id:"9a2e95f6-e2a6-4136-a8a0-f05c56caf90e",ship_id:1,terminal_time:"2023-01-12 13:00:01",lat:-5.919595,lng:106.000223,wind_speed:9.7,wind_direction:223.8,heading:0,distance:0,depth:-3.3,cog:139,sog:.2,created_at:"2023-01-12 13:00:04",updated_at:"2023-01-12 13:00:04"},{time:1673529301e3,id:"7ecb61ef-4188-47ff-8bf4-6efd86f72928",ship_id:1,terminal_time:"2023-01-12 13:15:01",lat:-5.91958,lng:106.000175,wind_speed:7.3,wind_direction:237.9,heading:0,distance:0,depth:-3.3,cog:131.9,sog:0,created_at:"2023-01-12 13:15:04",updated_at:"2023-01-12 13:15:04"},{time:1673530201e3,id:"43466e7e-0a51-42ee-81ce-5bcb8067a0a0",ship_id:1,terminal_time:"2023-01-12 13:30:01",lat:-5.919583,lng:106.00021,wind_speed:8.7,wind_direction:219.6,heading:31.2,distance:88812.78,depth:-3.3,cog:114,sog:.1,created_at:"2023-01-12 13:30:04",updated_at:"2023-01-12 13:30:04"},{time:1673531101e3,id:"297a2025-c5ef-40bd-b16e-59dba6360dae",ship_id:1,terminal_time:"2023-01-12 13:45:01",lat:-5.919592,lng:106.000177,wind_speed:5.2,wind_direction:233.7,heading:31.1,distance:88812.78,depth:-3.3,cog:101.6,sog:0,created_at:"2023-01-12 13:45:04",updated_at:"2023-01-12 13:45:04"},{time:1673532001e3,id:"4d3b3fed-521a-4c4b-be34-bc1c12554aca",ship_id:1,terminal_time:"2023-01-12 14:00:01",lat:-5.919585,lng:106.000207,wind_speed:5.6,wind_direction:236.5,heading:31.3,distance:88812.79,depth:-3.3,cog:337.4,sog:0,created_at:"2023-01-12 14:00:04",updated_at:"2023-01-12 14:00:04"},{time:1673532901e3,id:"4d4f1774-36c0-419e-ba3a-b02fddf2626f",ship_id:1,terminal_time:"2023-01-12 14:15:01",lat:-5.919595,lng:106.000158,wind_speed:4.6,wind_direction:260.4,heading:31.2,distance:88812.79,depth:-3.3,cog:324.5,sog:0,created_at:"2023-01-12 14:15:04",updated_at:"2023-01-12 14:15:04"},{time:1673533801e3,id:"1698b5e0-d4ac-49ad-b810-49e9601d3853",ship_id:1,terminal_time:"2023-01-12 14:30:01",lat:-5.919583,lng:106.000225,wind_speed:4.6,wind_direction:256.1,heading:31.2,distance:88812.8,depth:-3.3,cog:322.1,sog:.1,created_at:"2023-01-12 14:30:04",updated_at:"2023-01-12 14:30:04"},{time:1673534701e3,id:"ad9fb6e4-5f14-4125-9e71-167e7c866606",ship_id:1,terminal_time:"2023-01-12 14:45:01",lat:-5.919595,lng:106.000203,wind_speed:6.8,wind_direction:233.7,heading:31.2,distance:88812.8,depth:-3,cog:95.3,sog:.1,created_at:"2023-01-12 14:45:04",updated_at:"2023-01-12 14:45:04"},{time:1673535601e3,id:"1fe7fc3b-36f4-404f-be9f-7b043d160fd3",ship_id:1,terminal_time:"2023-01-12 15:00:01",lat:-5.919605,lng:106.000208,wind_speed:8.3,wind_direction:252,heading:31.3,distance:88812.81,depth:-3,cog:332,sog:.1,created_at:"2023-01-12 15:00:05",updated_at:"2023-01-12 15:00:05"},{time:1673536501e3,id:"e70637eb-6415-42ce-9e73-20ef8a56d9b5",ship_id:1,terminal_time:"2023-01-12 15:15:01",lat:-5.919622,lng:106.000213,wind_speed:8.5,wind_direction:252,heading:31.5,distance:88812.81,depth:-3,cog:307.5,sog:0,created_at:"2023-01-12 15:15:05",updated_at:"2023-01-12 15:15:05"},{time:1673537401e3,id:"89cddc9c-a742-45c5-a8cb-95af58326154",ship_id:1,terminal_time:"2023-01-12 15:30:01",lat:-5.919613,lng:106.000245,wind_speed:6.4,wind_direction:247.7,heading:31.5,distance:88812.82,depth:-3,cog:180.8,sog:.1,created_at:"2023-01-12 15:30:05",updated_at:"2023-01-12 15:30:05"},{time:1673538301e3,id:"7eeb6682-f01b-4920-be65-5e0b691cda91",ship_id:1,terminal_time:"2023-01-12 15:45:01",lat:-5.918417,lng:105.999612,wind_speed:10.4,wind_direction:337.8,heading:291.7,distance:88812.88,depth:-3.3,cog:310.4,sog:2.1,created_at:"2023-01-12 15:45:05",updated_at:"2023-01-12 15:45:05"},{time:1673539201e3,id:"bca7ec47-e760-471e-bcd9-5a8aa2355046",ship_id:1,terminal_time:"2023-01-12 16:00:01",lat:-5.898973,lng:105.987732,wind_speed:18.2,wind_direction:324.5,heading:340.2,distance:88814.27,depth:-39,cog:332.8,sog:9.2,created_at:"2023-01-12 16:00:05",updated_at:"2023-01-12 16:00:05"},{time:1673540101e3,id:"6d1f8f41-c708-4913-9f3b-796181bd67ba",ship_id:1,terminal_time:"2023-01-12 16:15:01",lat:-5.868212,lng:106.003383,wind_speed:3.6,wind_direction:226.2,heading:60.3,distance:88816.54,depth:-55.6,cog:61.7,sog:11.4,created_at:"2023-01-12 16:15:02",updated_at:"2023-01-12 16:15:02"},{time:1673541001e3,id:"ffddd40d-2fb5-470b-935f-1f998984761a",ship_id:1,terminal_time:"2023-01-12 16:30:01",lat:-5.8487729999999996,lng:106.049228,wind_speed:5.8,wind_direction:157.5,heading:70.4,distance:88819.53,depth:-47,cog:70,sog:12.2,created_at:"2023-01-12 16:30:05",updated_at:"2023-01-12 16:30:05"},{time:1673541901e3,id:"225b2709-e620-4f1f-89f5-d761ea9a27f8",ship_id:1,terminal_time:"2023-01-12 16:45:01",lat:-5.834948,lng:106.097917,wind_speed:6.4,wind_direction:157.5,heading:80.2,distance:88822.55,depth:-31.6,cog:81.1,sog:12.2,created_at:"2023-01-12 16:45:05",updated_at:"2023-01-12 16:45:05"},{time:1673542801e3,id:"98589ed9-2a54-44e0-94d2-9b377e3c67c6",ship_id:1,terminal_time:"2023-01-12 17:00:01",lat:-5.832885,lng:106.14986,wind_speed:4,wind_direction:144.5,heading:99,distance:88825.66,depth:-28.6,cog:102.2,sog:12.8,created_at:"2023-01-12 17:00:05",updated_at:"2023-01-12 17:00:05"},{time:1673543701e3,id:"7fa7bf3b-acdb-4707-8e81-6860424af4b9",ship_id:1,terminal_time:"2023-01-12 17:15:01",lat:-5.838525,lng:106.20245,wind_speed:2.9,wind_direction:161.9,heading:89.2,distance:88828.85,depth:-22.6,cog:91.4,sog:12.7,created_at:"2023-01-12 17:15:05",updated_at:"2023-01-12 17:15:05"},{time:1673544601e3,id:"79865b86-826b-4cb0-bd95-1a88728a32ee",ship_id:1,terminal_time:"2023-01-12 17:30:01",lat:-5.839608,lng:106.25531,wind_speed:1.7,wind_direction:194.7,heading:88.8,distance:88831.98,depth:-23,cog:90.5,sog:12.7,created_at:"2023-01-12 17:30:03",updated_at:"2023-01-12 17:30:03"},{time:1673545501e3,id:"bcf27b90-6ee8-4dc4-91cd-4b5ab1188d9a",ship_id:1,terminal_time:"2023-01-12 17:45:01",lat:-5.83994,lng:106.30857,wind_speed:2.5,wind_direction:99.8,heading:89,distance:88835.27,depth:-31.6,cog:91.2,sog:13,created_at:"2023-01-12 17:45:03",updated_at:"2023-01-12 17:45:03"},{time:1673546401e3,id:"24294d87-37c8-401c-8120-3f6412ebbd31",ship_id:1,terminal_time:"2023-01-12 18:00:01",lat:-5.841293,lng:106.363258,wind_speed:3.6,wind_direction:54.9,heading:86.3,distance:88838.55,depth:-28.6,cog:88.1,sog:13.1,created_at:"2023-01-12 18:00:03",updated_at:"2023-01-12 18:00:03"},{time:1673547301e3,id:"1b983cb5-a7a5-4259-a3ed-68ba7093343e",ship_id:1,terminal_time:"2023-01-12 18:15:01",lat:-5.838722,lng:106.418933,wind_speed:7.3,wind_direction:56.3,heading:90.1,distance:88841.85,depth:-49.3,cog:90.8,sog:13.2,created_at:"2023-01-12 18:15:03",updated_at:"2023-01-12 18:15:03"},{time:1673548201e3,id:"15c3c6db-50aa-4a57-9238-2319a66b67aa",ship_id:1,terminal_time:"2023-01-12 18:30:01",lat:-5.83975,lng:106.47494,wind_speed:9.3,wind_direction:54.9,heading:89.9,distance:88845.21,depth:-45.6,cog:90.7,sog:13.5,created_at:"2023-01-13 08:01:29",updated_at:"2023-01-13 08:01:29"},{time:1673549101e3,id:"06e2801a-9747-4c80-9786-b47a946f07dd",ship_id:1,terminal_time:"2023-01-12 18:45:01",lat:-5.840233,lng:106.531412,wind_speed:9.9,wind_direction:65.2,heading:92.3,distance:88848.59,depth:-77.6,cog:94,sog:13.5,created_at:"2023-01-13 08:03:23",updated_at:"2023-01-13 08:03:23"},{time:1673550001e3,id:"69056518-ad05-4299-9844-8cdfaed1b01c",ship_id:1,terminal_time:"2023-01-12 19:00:01",lat:-5.837537,lng:106.585833,wind_speed:10.4,wind_direction:16.8,heading:77.9,distance:88851.84,depth:-70.6,cog:78.2,sog:13,created_at:"2023-01-13 08:02:35",updated_at:"2023-01-13 08:02:35"},{time:1673550901e3,id:"17bc32d5-5b7b-4c30-b1df-b7e55e45806b",ship_id:1,terminal_time:"2023-01-12 19:15:01",lat:-5.830312,lng:106.640343,wind_speed:13,wind_direction:21,heading:87.4,distance:88855.12,depth:-39,cog:86.4,sog:13.2,created_at:"2023-01-13 08:04:26",updated_at:"2023-01-13 08:04:26"},{time:1673551801e3,id:"f7476f04-656a-4e72-8e6c-57b0d831c5f5",ship_id:1,terminal_time:"2023-01-12 19:30:01",lat:-5.853542,lng:106.689242,wind_speed:13.2,wind_direction:21,heading:126.5,distance:88858.39,depth:-27,cog:128.5,sog:13.2,created_at:"2023-01-13 08:05:16",updated_at:"2023-01-13 08:05:16"},{time:1673552701e3,id:"88b9ecc4-9964-43d8-b6a4-aed13a07495c",ship_id:1,terminal_time:"2023-01-12 19:45:01",lat:-5.889747,lng:106.731723,wind_speed:18,wind_direction:12.5,heading:129.7,distance:88861.73,depth:-29,cog:131.9,sog:13.4,created_at:"2023-01-13 08:02:30",updated_at:"2023-01-13 08:02:30"},{time:1673553601e3,id:"26848018-c9ac-4503-838d-ae857206e20b",ship_id:1,terminal_time:"2023-01-12 20:00:01",lat:-5.927122,lng:106.772935,wind_speed:18.8,wind_direction:7.9,heading:130.5,distance:88865.07,depth:-21.6,cog:132.8,sog:13.3,created_at:"2023-01-13 08:01:15",updated_at:"2023-01-13 08:01:15"},{time:1673554501e3,id:"2e692d80-82f5-4549-91d5-8a2ed3fb2e12",ship_id:1,terminal_time:"2023-01-12 20:15:01",lat:-5.960285,lng:106.81634,wind_speed:17.4,wind_direction:9.7,heading:112.2,distance:88868.34,depth:-17.3,cog:114.9,sog:13.1,created_at:"2023-01-13 08:03:01",updated_at:"2023-01-13 08:03:01"},{time:1673555401e3,id:"aca95c12-4858-4cf9-94d3-a4f8e4de5aef",ship_id:1,terminal_time:"2023-01-12 20:30:01",lat:-5.983137,lng:106.859937,wind_speed:11.8,wind_direction:0,heading:130.3,distance:88871.33,depth:-15.3,cog:131.8,sog:9.7,created_at:"2023-01-13 08:02:21",updated_at:"2023-01-13 08:02:21"},{time:1673556301e3,id:"8b09c8fe-2ea4-494c-a5fb-dd2a24bf7270",ship_id:1,terminal_time:"2023-01-12 20:45:01",lat:-6.000398,lng:106.883002,wind_speed:7.9,wind_direction:1.4,heading:115.3,distance:88873.1,depth:-13.6,cog:118.2,sog:4.3,created_at:"2023-01-13 08:00:56",updated_at:"2023-01-13 08:00:56"},{time:1673557201e3,id:"284ce5ee-e703-4d6d-b114-c1df32919fd1",ship_id:1,terminal_time:"2023-01-12 21:00:01",lat:-6.00611,lng:106.893912,wind_speed:6,wind_direction:349,heading:106.4,distance:88873.88,depth:-13,cog:142.3,sog:.3,created_at:"2023-01-13 08:02:49",updated_at:"2023-01-13 08:02:49"},{time:1673558101e3,id:"45ad13f2-7559-4927-89c6-6f3c198a88b2",ship_id:1,terminal_time:"2023-01-12 21:15:01",lat:-6.007525,lng:106.893923,wind_speed:6.6,wind_direction:12.5,heading:3,distance:88873.88,depth:-13,cog:126.7,sog:.2,created_at:"2023-01-13 08:02:41",updated_at:"2023-01-13 08:02:41"},{time:1673559001e3,id:"a4a1e14d-14ab-43f6-9535-4fa2a9d49ae4",ship_id:1,terminal_time:"2023-01-12 21:30:01",lat:-6.00759,lng:106.894172,wind_speed:5.4,wind_direction:30.9,heading:25.3,distance:88873.89,depth:-13,cog:173.5,sog:.1,created_at:"2023-01-13 08:02:21",updated_at:"2023-01-13 08:02:21"},{time:1673559901e3,id:"02e22b70-2f1d-4ec5-be13-4924c441d425",ship_id:1,terminal_time:"2023-01-12 21:45:01",lat:-6.007575,lng:106.894195,wind_speed:7.3,wind_direction:32.3,heading:25.6,distance:88873.9,depth:-12.6,cog:225,sog:.1,created_at:"2023-01-13 08:03:11",updated_at:"2023-01-13 08:03:11"},{time:1673560801e3,id:"714b40ab-6959-4c7d-89d9-dbb4bb70e57c",ship_id:1,terminal_time:"2023-01-12 22:00:01",lat:-6.007612,lng:106.894137,wind_speed:5.8,wind_direction:33.6,heading:25,distance:88873.9,depth:-12.6,cog:168.2,sog:0,created_at:"2023-01-13 08:02:28",updated_at:"2023-01-13 08:02:28"},{time:1673561701e3,id:"8076bd11-03d4-4552-b96d-89e5d0255292",ship_id:1,terminal_time:"2023-01-12 22:15:01",lat:-6.007583,lng:106.894055,wind_speed:7.3,wind_direction:43.6,heading:29.2,distance:88873.9,depth:-13,cog:316.5,sog:.1,created_at:"2023-01-13 08:02:17",updated_at:"2023-01-13 08:02:17"},{time:1673562601e3,id:"d34040f5-d539-420c-bb97-d96c16081c94",ship_id:1,terminal_time:"2023-01-12 22:30:01",lat:-6.007425,lng:106.89391,wind_speed:5.6,wind_direction:43.6,heading:44.4,distance:88873.9,depth:-13,cog:126.5,sog:.1,created_at:"2023-01-13 08:03:38",updated_at:"2023-01-13 08:03:38"},{time:1673563501e3,id:"564f8c5e-2634-4ec9-9f48-e0af89ff5564",ship_id:1,terminal_time:"2023-01-12 22:45:01",lat:-6.007598,lng:106.894127,wind_speed:4.6,wind_direction:43.6,heading:27.2,distance:88873.9,depth:-13,cog:34.5,sog:0,created_at:"2023-01-13 08:04:15",updated_at:"2023-01-13 08:04:15"},{time:1673564401e3,id:"4926d7e4-dbc0-4a31-8d0a-6a052ff27bc0",ship_id:1,terminal_time:"2023-01-12 23:00:01",lat:-6.007682,lng:106.894268,wind_speed:5.6,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:155.9,sog:0,created_at:"2023-01-13 08:03:58",updated_at:"2023-01-13 08:03:58"},{time:1673565301e3,id:"433693fd-81e1-4395-a29d-8eb5bb82c236",ship_id:1,terminal_time:"2023-01-12 23:15:01",lat:-6.007708,lng:106.894337,wind_speed:4.8,wind_direction:43.6,heading:14.8,distance:88873.9,depth:-13,cog:189.5,sog:0,created_at:"2023-01-13 08:03:48",updated_at:"2023-01-13 08:03:48"},{time:1673566201e3,id:"3bd7e61b-1373-4345-867a-dfe285746a32",ship_id:1,terminal_time:"2023-01-12 23:30:01",lat:-6.007645,lng:106.894262,wind_speed:3.4,wind_direction:43.6,heading:19.3,distance:88873.9,depth:-13,cog:200.6,sog:.1,created_at:"2023-01-13 08:05:28",updated_at:"2023-01-13 08:05:28"},{time:1673567101e3,id:"09b7824a-9980-4c9d-bf99-87e65e80069b",ship_id:1,terminal_time:"2023-01-12 23:45:01",lat:-6.007677,lng:106.8943,wind_speed:2.1,wind_direction:43.6,heading:16.6,distance:88873.9,depth:-13,cog:44.7,sog:0,created_at:"2023-01-13 08:04:21",updated_at:"2023-01-13 08:04:21"},{time:1673568001e3,id:"b38d3696-7f77-459c-863f-91445f63f3e9",ship_id:1,terminal_time:"2023-01-13 00:00:01",lat:-6.007713,lng:106.894375,wind_speed:3.1,wind_direction:43.6,heading:15.4,distance:88873.9,depth:-13,cog:108.7,sog:.1,created_at:"2023-01-13 08:01:36",updated_at:"2023-01-13 08:01:36"},{time:1673568903e3,id:"b55f2d04-80e5-45c3-8479-13897d8db096",ship_id:1,terminal_time:"2023-01-13 00:15:03",lat:-6.007727,lng:106.894435,wind_speed:2.7,wind_direction:43.6,heading:11.8,distance:88873.9,depth:-13,cog:68.7,sog:0,created_at:"2023-01-13 08:03:55",updated_at:"2023-01-13 08:03:55"},{time:1673570168e3,id:"bc973d32-96ff-4d4b-83fa-fdc69ab666a4",ship_id:1,terminal_time:"2023-01-13 00:36:08",lat:-6.00772,lng:106.894325,wind_speed:2.7,wind_direction:43.6,heading:17.2,distance:88873.9,depth:-13,cog:224.5,sog:0,created_at:"2023-01-13 08:01:47",updated_at:"2023-01-13 08:01:47"},{time:1673570703e3,id:"51065554-9c2a-4ead-9c62-cdd44d475009",ship_id:1,terminal_time:"2023-01-13 00:45:03",lat:-6.007642,lng:106.894265,wind_speed:3.3,wind_direction:43.6,heading:20.1,distance:88873.9,depth:-13,cog:237,sog:0,created_at:"2023-01-13 08:02:52",updated_at:"2023-01-13 08:02:52"},{time:1673571603e3,id:"f1dbff35-e7f7-4963-a643-80e87b251c8c",ship_id:1,terminal_time:"2023-01-13 01:00:03",lat:-6.0076,lng:106.894155,wind_speed:4.2,wind_direction:43.6,heading:25.4,distance:88873.91,depth:-13,cog:177.2,sog:0,created_at:"2023-01-13 08:05:07",updated_at:"2023-01-13 08:05:07"},{time:1673572503e3,id:"606bf160-10bf-4454-95c1-6abb21d4a9a8",ship_id:1,terminal_time:"2023-01-13 01:15:03",lat:-6.007512,lng:106.894067,wind_speed:4,wind_direction:43.6,heading:33,distance:88873.91,depth:-13,cog:204.5,sog:0,created_at:"2023-01-13 08:04:55",updated_at:"2023-01-13 08:04:55"},{time:1673573403e3,id:"46a99db5-3b12-4141-949d-a7f4f69451c9",ship_id:1,terminal_time:"2023-01-13 01:30:03",lat:-6.007512,lng:106.894075,wind_speed:1.7,wind_direction:43.6,heading:34.6,distance:88873.91,depth:-13,cog:110.9,sog:.1,created_at:"2023-01-13 08:04:51",updated_at:"2023-01-13 08:04:51"},{time:1673574303e3,id:"ab8768f7-f2c0-4c28-ba76-68c4d848ee1b",ship_id:1,terminal_time:"2023-01-13 01:45:03",lat:-6.0075,lng:106.894193,wind_speed:1.9,wind_direction:43.6,heading:32.2,distance:88873.91,depth:-13,cog:300.5,sog:.1,created_at:"2023-01-13 08:04:26",updated_at:"2023-01-13 08:04:26"},{time:1673575203e3,id:"6a14e9fa-b7ad-4ec4-9f66-fa4f814c54af",ship_id:1,terminal_time:"2023-01-13 02:00:03",lat:-6.007582,lng:106.894147,wind_speed:2.5,wind_direction:43.6,heading:29.3,distance:88873.92,depth:-13,cog:319.4,sog:0,created_at:"2023-01-13 08:05:13",updated_at:"2023-01-13 08:05:13"},{time:1673576103e3,id:"456740b7-62b5-4f33-b4c0-1dc7d824d0bb",ship_id:1,terminal_time:"2023-01-13 02:15:03",lat:-6.007527,lng:106.8941,wind_speed:2.7,wind_direction:43.6,heading:32.7,distance:88873.92,depth:-13.3,cog:336.3,sog:0,created_at:"2023-01-13 08:05:57",updated_at:"2023-01-13 08:05:57"},{time:1673577003e3,id:"9f03eb81-f440-4e94-a55f-ab45fcc7b6c0",ship_id:1,terminal_time:"2023-01-13 02:30:03",lat:-6.007453,lng:106.894015,wind_speed:2.5,wind_direction:43.6,heading:39.1,distance:88873.93,depth:-13.3,cog:345.7,sog:.1,created_at:"2023-01-13 08:05:39",updated_at:"2023-01-13 08:05:39"},{time:1673577903e3,id:"e4f82def-000e-40af-915a-fa2b0c177b50",ship_id:1,terminal_time:"2023-01-13 02:45:03",lat:-6.007433,lng:106.893978,wind_speed:2.3,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:303.2,sog:0,created_at:"2023-01-13 08:06:18",updated_at:"2023-01-13 08:06:18"},{time:1673578803e3,id:"54b75262-94fb-4782-987c-ccbefeebec92",ship_id:1,terminal_time:"2023-01-13 03:00:03",lat:-6.00737,lng:106.893908,wind_speed:3.3,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:348.7,sog:0,created_at:"2023-01-13 08:06:12",updated_at:"2023-01-13 08:06:12"},{time:1673579703e3,id:"fa539bb4-a28e-469c-9a4e-9a3d0c486050",ship_id:1,terminal_time:"2023-01-13 03:15:03",lat:-6.007335,lng:106.893948,wind_speed:2.7,wind_direction:45,heading:49.7,distance:88873.94,depth:-13.3,cog:137.5,sog:.1,created_at:"2023-01-13 08:06:05",updated_at:"2023-01-13 08:06:05"},{time:1673580603e3,id:"539a72f1-ac08-46d9-b981-d2b0ad986548",ship_id:1,terminal_time:"2023-01-13 03:30:03",lat:-6.007343,lng:106.893923,wind_speed:2.3,wind_direction:45,heading:46.6,distance:88873.94,depth:-13,cog:284,sog:.1,created_at:"2023-01-13 08:05:52",updated_at:"2023-01-13 08:05:52"},{time:1673581503e3,id:"4df156c5-a460-4977-8551-b187446e5412",ship_id:1,terminal_time:"2023-01-13 03:45:03",lat:-6.007297,lng:106.893842,wind_speed:3.4,wind_direction:45,heading:47.7,distance:88873.94,depth:-13,cog:168.1,sog:0,created_at:"2023-01-13 08:05:54",updated_at:"2023-01-13 08:05:54"},{time:1673582403e3,id:"a403298f-42d3-4529-b018-1af317d27868",ship_id:1,terminal_time:"2023-01-13 04:00:03",lat:-6.007198,lng:106.893723,wind_speed:2.5,wind_direction:45,heading:56.1,distance:88873.94,depth:-13.3,cog:178.4,sog:0,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673583303e3,id:"dd731f40-8d09-4757-827b-9d4f1d4651e1",ship_id:1,terminal_time:"2023-01-13 04:15:03",lat:-6.007137,lng:106.893783,wind_speed:2.7,wind_direction:45,heading:58.1,distance:88873.94,depth:-13,cog:161.9,sog:0,created_at:"2023-01-13 08:07:09",updated_at:"2023-01-13 08:07:09"},{time:1673584203e3,id:"4108b2ac-c7e2-49e9-bef8-1aeb96d7d1da",ship_id:1,terminal_time:"2023-01-13 04:30:03",lat:-6.007167,lng:106.893807,wind_speed:2.5,wind_direction:45,heading:59.3,distance:88873.94,depth:-13,cog:52.2,sog:0,created_at:"2023-01-13 08:06:59",updated_at:"2023-01-13 08:06:59"},{time:1673585108e3,id:"cc3220d1-e43b-4f9e-8a0e-2f416fff3d82",ship_id:1,terminal_time:"2023-01-13 04:45:08",lat:-6.0070879999999995,lng:106.893705,wind_speed:2.3,wind_direction:45,heading:60.4,distance:88873.94,depth:-13,cog:336.7,sog:.1,created_at:"2023-01-13 08:06:48",updated_at:"2023-01-13 08:06:48"},{time:1673586003e3,id:"82f940ea-8953-425e-86b3-7899a04cc3d8",ship_id:1,terminal_time:"2023-01-13 05:00:03",lat:-6.006982,lng:106.893693,wind_speed:1.9,wind_direction:45,heading:0,distance:0,depth:-13.3,cog:265.2,sog:0,created_at:"2023-01-13 08:07:32",updated_at:"2023-01-13 08:07:32"},{time:1673586903e3,id:"ad2c1c63-d614-4095-8d40-e96424f5a6d7",ship_id:1,terminal_time:"2023-01-13 05:15:03",lat:-6.007068,lng:106.893725,wind_speed:.9,wind_direction:45,heading:61.6,distance:88873.94,depth:-13.3,cog:232.5,sog:.1,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673587803e3,id:"e44c9ea1-fe7c-4076-8e00-c146f79d9ff1",ship_id:1,terminal_time:"2023-01-13 05:30:03",lat:-6.007113,lng:106.8937,wind_speed:.7,wind_direction:45,heading:57.9,distance:88873.94,depth:-13.3,cog:273.7,sog:0,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673588703e3,id:"11fabb10-51d2-4b18-8c3e-8d5f30e0c604",ship_id:1,terminal_time:"2023-01-13 05:45:03",lat:-6.00707,lng:106.893708,wind_speed:0,wind_direction:45,heading:59.9,distance:88873.94,depth:-13,cog:179.4,sog:.1,created_at:"2023-01-13 08:07:45",updated_at:"2023-01-13 08:07:45"},{time:1673589603e3,id:"3d8e63b1-ef49-4faa-8668-2064fc7691b9",ship_id:1,terminal_time:"2023-01-13 06:00:03",lat:-6.007005,lng:106.893697,wind_speed:1.7,wind_direction:45,heading:61,distance:88873.94,depth:-13,cog:224.6,sog:0,created_at:"2023-01-13 08:08:35",updated_at:"2023-01-13 08:08:35"},{time:1673590503e3,id:"abedede7-fcef-4a6a-821c-96caff5b51dd",ship_id:1,terminal_time:"2023-01-13 06:15:03",lat:-6.007067,lng:106.893657,wind_speed:1.7,wind_direction:45,heading:56.4,distance:88873.94,depth:-13.3,cog:299.4,sog:0,created_at:"2023-01-13 08:08:07",updated_at:"2023-01-13 08:08:07"},{time:1673591403e3,id:"b51194a8-99a4-4d32-83a4-d5fbfaaa4d2b",ship_id:1,terminal_time:"2023-01-13 06:30:03",lat:-6.006965,lng:106.893667,wind_speed:2.1,wind_direction:45,heading:62.6,distance:88873.94,depth:-13.3,cog:139.2,sog:0,created_at:"2023-01-13 08:08:23",updated_at:"2023-01-13 08:08:23"},{time:1673592518e3,id:"b209dcbe-8749-41d2-b84b-c1258b5ab981",ship_id:1,terminal_time:"2023-01-13 06:48:38",lat:-6.006987,lng:106.893667,wind_speed:2.3,wind_direction:45,heading:66.4,distance:88873.94,depth:-13.3,cog:318.9,sog:0,created_at:"2023-01-13 08:08:09",updated_at:"2023-01-13 08:08:09"},{time:1673593203e3,id:"32347284-3eae-468f-bee0-b65b0ec6fc1e",ship_id:1,terminal_time:"2023-01-13 07:00:03",lat:-6.007023,lng:106.893678,wind_speed:2.7,wind_direction:45,heading:62.5,distance:88873.95,depth:-13.3,cog:111.2,sog:0,created_at:"2023-01-13 08:07:41",updated_at:"2023-01-13 08:07:41"},{time:1673594103e3,id:"d96b7d8b-3fd1-4062-a8fb-81b177ca4b7e",ship_id:1,terminal_time:"2023-01-13 07:15:03",lat:-6.007138,lng:106.89375,wind_speed:2.5,wind_direction:45,heading:62.4,distance:88873.95,depth:-13.3,cog:176.1,sog:0,created_at:"2023-01-13 08:08:24",updated_at:"2023-01-13 08:08:24"},{time:1673595003e3,id:"fb3aea68-d3b4-4a82-8246-b492385b9b9b",ship_id:1,terminal_time:"2023-01-13 07:30:03",lat:-6.006977,lng:106.893747,wind_speed:2.7,wind_direction:45,heading:66.3,distance:88873.95,depth:-13.3,cog:176.1,sog:0,created_at:"2023-01-13 08:08:37",updated_at:"2023-01-13 08:08:37"},{time:1673595903e3,id:"4b32822b-aad7-4b21-b989-0f1651010609",ship_id:1,terminal_time:"2023-01-13 07:45:03",lat:-6.00699,lng:106.89368,wind_speed:2.3,wind_direction:45,heading:68.2,distance:88873.95,depth:-13.3,cog:194.5,sog:0,created_at:"2023-01-13 08:08:55",updated_at:"2023-01-13 08:08:55"},{time:1673596808e3,id:"5e31ea31-de98-4291-b5ed-bc79c4642d2e",ship_id:1,terminal_time:"2023-01-13 08:00:08",lat:-6.006908,lng:106.89369,wind_speed:2.1,wind_direction:45,heading:72.3,distance:88873.95,depth:-13.3,cog:194.5,sog:0,created_at:"2023-01-13 08:08:48",updated_at:"2023-01-13 08:08:48"},{time:1673597703e3,id:"1f625245-9ea7-4f96-9bf2-627e75f1ea29",ship_id:1,terminal_time:"2023-01-13 08:15:03",lat:-6.006837,lng:106.893615,wind_speed:2.3,wind_direction:45,heading:0,distance:0,depth:-13.3,cog:3.7,sog:0,created_at:"2023-01-13 08:15:07",updated_at:"2023-01-13 08:15:07"},{time:1673598603e3,id:"f2ecdf0b-2cd9-40ce-ad89-0a8d73cad5c1",ship_id:1,terminal_time:"2023-01-13 08:30:03",lat:-6.006838,lng:106.893623,wind_speed:2.1,wind_direction:45,heading:75,distance:88873.95,depth:-13.3,cog:135.5,sog:0,created_at:"2023-01-13 08:30:07",updated_at:"2023-01-13 08:30:07"},{time:1673599503e3,id:"8327765d-9bf8-4fc4-8584-95359d3bbbb0",ship_id:1,terminal_time:"2023-01-13 08:45:03",lat:-6.006812,lng:106.893627,wind_speed:3.4,wind_direction:45,heading:75.5,distance:88873.95,depth:-13.3,cog:89.4,sog:0,created_at:"2023-01-13 08:45:04",updated_at:"2023-01-13 08:45:04"},{time:1673600403e3,id:"f5eb5331-437b-4c35-a486-84a8fa9d5644",ship_id:1,terminal_time:"2023-01-13 09:00:03",lat:-6.006815,lng:106.893662,wind_speed:3.6,wind_direction:45,heading:75.4,distance:88873.96,depth:-13.3,cog:94.9,sog:0,created_at:"2023-01-13 09:00:05",updated_at:"2023-01-13 09:00:05"},{time:1673601303e3,id:"2a247c20-bd73-4d19-8dab-7a2254a80a62",ship_id:1,terminal_time:"2023-01-13 09:15:03",lat:-6.006802,lng:106.893608,wind_speed:5.2,wind_direction:45,heading:75.8,distance:88873.96,depth:-13.3,cog:92.2,sog:0,created_at:"2023-01-13 09:15:05",updated_at:"2023-01-13 09:15:05"},{time:1673602203e3,id:"6153d12f-d552-4ab9-bba7-9e250f663945",ship_id:1,terminal_time:"2023-01-13 09:30:03",lat:-6.006802,lng:106.893643,wind_speed:4.2,wind_direction:45,heading:76.9,distance:88873.96,depth:-13.3,cog:141.9,sog:0,created_at:"2023-01-13 09:30:06",updated_at:"2023-01-13 09:30:06"},{time:1673603103e3,id:"2f1058ed-c8da-4364-aab6-dc9645e1fde8",ship_id:1,terminal_time:"2023-01-13 09:45:03",lat:-6.006837,lng:106.893597,wind_speed:3.8,wind_direction:45,heading:72.8,distance:88873.96,depth:-13.3,cog:110.7,sog:0,created_at:"2023-01-13 09:45:06",updated_at:"2023-01-13 09:45:06"},{time:1673604003e3,id:"cc41dd89-f978-4edf-9ada-4667dbff60ce",ship_id:1,terminal_time:"2023-01-13 10:00:03",lat:-6.00683,lng:106.893597,wind_speed:3.6,wind_direction:45,heading:72.1,distance:88873.96,depth:-13.3,cog:135.3,sog:0,created_at:"2023-01-13 10:00:06",updated_at:"2023-01-13 10:00:06"},{time:1673604903e3,id:"396bffaa-c79e-49d7-bdf1-f426896bb87c",ship_id:1,terminal_time:"2023-01-13 10:15:03",lat:-6.00688,lng:106.89365,wind_speed:3.1,wind_direction:45,heading:70.9,distance:88873.96,depth:-13.3,cog:180.2,sog:.1,created_at:"2023-01-13 10:15:07",updated_at:"2023-01-13 10:15:07"},{time:1673605803e3,id:"d946fc22-50aa-4fcd-bd7c-b44f44547a46",ship_id:1,terminal_time:"2023-01-13 10:30:03",lat:-6.007095,lng:106.89367,wind_speed:3.3,wind_direction:45,heading:58.8,distance:88873.96,depth:-13.3,cog:157.1,sog:0,created_at:"2023-01-13 10:30:04",updated_at:"2023-01-13 10:30:04"},{time:1673606703e3,id:"580132f9-3c14-4d3c-9b66-d0ff9ec812f0",ship_id:1,terminal_time:"2023-01-13 10:45:03",lat:-6.007132,lng:106.893745,wind_speed:5.4,wind_direction:26.7,heading:53.2,distance:88873.96,depth:-13.3,cog:144.9,sog:0,created_at:"2023-01-13 10:45:05",updated_at:"2023-01-13 10:45:05"},{time:1673607603e3,id:"2a0785ea-942c-42cd-ad88-e982f8495a39",ship_id:1,terminal_time:"2023-01-13 11:00:03",lat:-6.007203,lng:106.893752,wind_speed:4.2,wind_direction:26.7,heading:0,distance:0,depth:-13.3,cog:260.4,sog:0,created_at:"2023-01-13 11:00:05",updated_at:"2023-01-13 11:00:05"},{time:1673608503e3,id:"b1840bc7-7b81-44b4-a120-b50cb7ed9631",ship_id:1,terminal_time:"2023-01-13 11:15:03",lat:-6.007423,lng:106.893847,wind_speed:5.6,wind_direction:26.7,heading:39,distance:88873.97,depth:-13.6,cog:90.2,sog:.1,created_at:"2023-01-13 11:15:05",updated_at:"2023-01-13 11:15:05"},{time:1673609403e3,id:"257a0ae0-3c67-4484-900c-ee1149e2541d",ship_id:1,terminal_time:"2023-01-13 11:30:03",lat:-6.007583,lng:106.89401,wind_speed:5,wind_direction:26.7,heading:27.7,distance:88873.98,depth:-13.3,cog:110.5,sog:.1,created_at:"2023-01-13 11:30:06",updated_at:"2023-01-13 11:30:06"},{time:1673610303e3,id:"0e80a0e4-2c6c-441f-8364-26416a9ce1dd",ship_id:1,terminal_time:"2023-01-13 11:45:03",lat:-6.0076730000000005,lng:106.89419,wind_speed:7.3,wind_direction:26.7,heading:18.3,distance:88873.99,depth:-13.3,cog:93.9,sog:0,created_at:"2023-01-13 11:45:06",updated_at:"2023-01-13 11:45:06"},{time:1673611203e3,id:"11866d32-1040-4bdb-b7bf-190db9704e3c",ship_id:1,terminal_time:"2023-01-13 12:00:03",lat:-6.00775,lng:106.894325,wind_speed:7.1,wind_direction:26.7,heading:13.3,distance:88873.99,depth:-13.3,cog:102.4,sog:0,created_at:"2023-01-13 12:00:07",updated_at:"2023-01-13 12:00:07"}],TU={components:{MapboxMap:f_,MapboxNavigationControl:m_},data(){return{map:null,current:[],items:[],potition:!1}},methods:{async loaded(){let e=this,t={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}},s={type:"FeatureCollection",features:[]};SU.forEach((h,m)=>{this.current&&this.calcCrow(this.current[1],this.current[0],h.lat,h.lng)>20||(t.geometry.coordinates.push([h.lng,h.lat]),s.features.push({type:"Feature",properties:{cog:h.cog,sog:h.sog,time:h.terminal_time,lat:h.lat,lng:h.lng,heading:h.heading},geometry:{type:"Point",coordinates:[h.lng,h.lat]}}),this.current=[h.lng,h.lat],this.items.push(h))}),this.map.addSource("route",{type:"geojson",data:t}),this.map.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3B4EF5","line-width":1.5,"line-dasharray":[3,3]}}),e.map.addSource("points",{type:"geojson",data:s}),e.map.addLayer({id:"points",type:"circle",source:"points",paint:{"circle-radius":4,"circle-color":"#3B4EF5"}});const a=new hl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","points",h=>{let m=h.features[0].properties;this.positionShip(m)}),this.map.on("mouseenter","points",h=>{e.map.getCanvas().style.cursor="pointer";const m=h.features[0].geometry.coordinates.slice(),n=`<b>Lat : ${h.features[0].properties.lat} | Lng: ${h.features[0].properties.lng}</b> at ${h.features[0].properties.sog} <b>kn</b> / ${h.features[0].properties.cog}&deg;<br>time: <b>${h.features[0].properties.time}</b>`;for(;Math.abs(h.lngLat.lng-m[0])>180;)m[0]+=h.lngLat.lng>m[0]?360:-360;a.setLngLat(m).setHTML(n).addTo(e.map)}),this.map.on("mouseleave","points",()=>{e.map.getCanvas().style.cursor="",a.remove()}),this.map.loadImage(FS,(h,m)=>{if(h)throw h;e.map.addImage("ship-icon",m)});let c=this.items[this.items.length-1];this.positionShip({heading:c.heading,lng:c.lng,lat:c.lat})},toPotition(e){this.positionShip(e)},positionShip(e){this.potition&&(this.map.removeLayer("ship-point"),this.map.removeSource("ship-point")),this.map.addSource("ship-point",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.lng,e.lat]},properties:{scale:1,heading:e.heading}}]}}),this.map.addLayer({id:"ship-point",type:"symbol",source:"ship-point",layout:{"icon-image":"ship-icon","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}}),this.potition=!0},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},calcCrow(n,t,x,a){var c=6371,h=this.toRad(x-n),m=this.toRad(a-t),n=this.toRad(n),x=this.toRad(x),z=Math.sin(h/2)*Math.sin(h/2)+Math.sin(m/2)*Math.sin(m/2)*Math.cos(n)*Math.cos(x),Y=2*Math.atan2(Math.sqrt(z),Math.sqrt(1-z)),O=c*Y;return O},toRad(e){return e*Math.PI/180}}},CU={class:"row g-0"},EU={class:"col-9"},MU={class:"position-relative"},AU={class:"pointer-info",ref:"pointerInfo"},kU={class:"col-3"},PU=Sd('<header class="navbar navbar-expand-md navbar-dark bg-primary d-print-none"><div class="container-xl"><ul class="navbar-nav"><li class="nav-item"><a href="#" class="nav-link"><span class="nav-link-icon d-md-none d-lg-inline-block"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 6l16 0"></path><path d="M4 12l16 0"></path><path d="M4 18l16 0"></path></svg></span></a></li><li class="nav-item"><a href="#" class="nav-link"><span class="nav-link-icon d-md-none d-lg-inline-block"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sailboat" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M2 20a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1"></path><path d="M4 18l-1 -3h18l-1 3"></path><path d="M11 12h7l-7 -9v9"></path><path d="M8 7l-2 5"></path></svg></span> Voyage </a></li></ul></div></header>',1),DU={class:"information"},IU={class:"histories"},LU={class:"table card-table table-vcenter text-nowrap datatable table-fixed text-small"},OU=Ne("thead",null,[Ne("tr",null,[Ne("th",null,"Time"),Ne("th",null,"Lon"),Ne("th",null,"Lat"),Ne("th",null,"Speed")])],-1),RU=["onClick"];function BU(e,t,s,a,c,h){const m=Un("MapboxNavigationControl"),n=Un("MapboxMap");return yt(),St("div",CU,[Ne("div",EU,[Ne("div",MU,[Ne("div",AU,null,512),Qi(n,{onMbCreated:t[0]||(t[0]=x=>c.map=x),onMbLoad:h.loaded,onMbMousemove:h.pointerLocation,style:{height:"calc(100vh - 128px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:[105.987732,-5.898973],zoom:7},{default:To(()=>[Qi(m,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center"])])]),Ne("div",kU,[PU,Ne("div",DU,[Ne("div",IU,[Ne("table",LU,[OU,Ne("tbody",null,[(yt(!0),St(en,null,Kn(c.items,x=>(yt(),St("tr",{key:x.id,onClick:z=>h.toPotition(x),class:"pointer"},[Ne("td",null,Fi(e.$filters.dateformat(x.terminal_time)),1),Ne("td",null,Fi(e.$filters.str_limit(x.lng,7))+"°",1),Ne("td",null,Fi(e.$filters.str_limit(x.lat,6))+"°",1),Ne("td",null,Fi(x.sog),1)],8,RU))),128))])])])])])])}const zU=Jn(TU,[["render",BU]]),NU={components:{MapboxMap:f_,MapboxNavigationControl:m_},props:{fleet:Object,style:Object,sidebar:Boolean},data(){return{map:null,current:[],timer:null,popup:new hl.Popup({closeButton:!0,closeOnClick:!1}),histories:[]}},mounted(){this.map.loadImage(FS,(e,t)=>{if(e)throw e;this.map.addImage("ship-icon",t)})},methods:{setHistory(e){this.histories=e;let t=this;this.current.length>0&&this.map.getLayer("route")!=="undefined"&&this.map.getLayer("points")!=="undefined"&&(this.map.removeLayer("route"),this.map.removeSource("route"),this.map.removeLayer("points"),this.map.removeSource("points"));let s={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}},a={type:"FeatureCollection",features:[]};this.histories.forEach((n,x)=>{s.geometry.coordinates.push([n.lng,n.lat]),a.features.push({type:"Feature",properties:{cog:n.cog,sog:n.sog,time:this.$filters.dateformat(n.terminal_time,"DD/MM/YYYY HH:mm"),lat:n.lat,lng:n.lng,heading:n.heading},geometry:{type:"Point",coordinates:[n.lng,n.lat]}}),this.current=[n.lng,n.lat]}),this.map.addSource("route",{type:"geojson",data:s}),this.map.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3B4EF5","line-width":1.5,"line-dasharray":[3,3]}}),this.map.addSource("points",{type:"geojson",data:a}),this.map.addLayer({id:"points",type:"circle",source:"points",paint:{"circle-radius":4,"circle-color":"#3B4EF5"}});const c=new hl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","points",n=>{let x=n.features[0].properties;this.positionShip(x)}),this.map.on("mouseenter","points",n=>{t.map.getCanvas().style.cursor="pointer";const x=n.features[0].geometry.coordinates.slice(),z=`<b>Lat : ${n.features[0].properties.lat} | Lng: ${n.features[0].properties.lng}</b> at ${n.features[0].properties.sog} <b>kn</b> / ${n.features[0].properties.cog}&deg;<br>Time: <b>${n.features[0].properties.time}</b>`;for(;Math.abs(n.lngLat.lng-x[0])>180;)x[0]+=n.lngLat.lng>x[0]?360:-360;c.setLngLat(x).setHTML(z).addTo(t.map)}),this.map.on("mouseleave","points",()=>{t.map.getCanvas().style.cursor="",c.remove()});let h=this.histories[this.histories.length-1],m=Object.assign({},{id:this.fleet.id,name:this.fleet.name,image:this.fleet.image,navigation:h});this.positionShip(m)},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},loaded(){this.positionShip(this.fleet)},toPotition(e){let t=Object.assign({},{id:this.fleet.id,name:this.fleet.name,image:this.fleet.image,navigation:e});this.positionShip(t)},positionShip(e){if(!e.navigation)return;typeof this.map.getLayer("ship-position")<"u"&&this.map.removeLayer("ship-position").removeSource("ship-points"),this.map.addSource("ship-points",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.navigation.lng,e.navigation.lat]},properties:{scale:1,id:e.id,heading:e.navigation.heading,name:e.name,image:e.image,sog:e.navigation.sog,cog:e.navigation.cog,last_update:Rm(e.navigation.terminal_time),time:this.$filters.dateformat(e.navigation.terminal_time,"DD/MM/YYYY HH:mm")}}]}}),this.map.addLayer({id:"ship-position",type:"symbol",source:"ship-points",layout:{"icon-image":"ship-icon","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}}),this.popup.remove();const s=`<b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>Last update: <b>${Rm(e.navigation.updated_at)}</b><br>Time: <b>${this.$filters.dateformat(e.navigation.updated_at,"DD/MM/YYYY HH:mm")}</b>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(s).addTo(this.map)}}},FU={class:"position-relative overflow-hidden"},jU={class:"pointer-info",ref:"pointerInfo"};function UU(e,t,s,a,c,h){const m=Un("map-voyage"),n=Un("MapboxNavigationControl"),x=Un("MapboxMap");return yt(),St("div",FU,[Qi(m,{fleet:s.fleet,onHistory:h.setHistory,onSelected:h.toPotition,display:s.sidebar},null,8,["fleet","onHistory","onSelected","display"]),Ne("div",jU,null,512),Qi(x,{onMbCreated:t[0]||(t[0]=z=>c.map=z),onMbLoad:h.loaded,onMbMousemove:h.pointerLocation,style:da(s.style),"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:[s.fleet.navigation.lng,s.fleet.navigation.lat],zoom:7},{default:To(()=>[Qi(n,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","style","center"])])}const $U=Jn(NU,[["render",UU]]),GU={props:{fleet:Object,display:Boolean},data(){return{params:{from:null,to:null,interval:900},histories:[]}},methods:{async fetchData(){this.histories=[],(await axios.get(`/api/fleet/${this.fleet.id}/nav/histories`,{params:this.params}).then(t=>t.data)).forEach(t=>{t.lat==0&&t.lng==0||this.histories.push(t)}),this.$emit("history",this.histories)},toggleText(){this.display=!this.display},selected(e){this.$emit("selected",e)}}},VU={class:"voyage-section"},HU={key:0,class:"card voyage-card"},WU={class:"card-header justify-content-between"},YU=["src"],qU=Ne("h5",{class:"fw-normal m-0"},"Voyage",-1),XU={class:"card-body"},ZU=Ne("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[Ne("li",{class:"nav-item",role:"presentation"},[Ne("button",{class:"nav-link justify-content-center active",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"},"TRACK")]),Ne("li",{class:"nav-item",role:"presentation"},[Ne("button",{class:"nav-link justify-content-center",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"INFO")])],-1),KU={class:"tab-content",id:"pills-tabContent"},JU={class:"tab-pane fade show active",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab"},QU={class:"mb-4"},e$={class:"form-group mb-3"},t$=Ne("label",{for:"startDateInput"},"Start Date",-1),i$={class:"form-group mb-3"},n$=Ne("label",{for:"endDateInput"},"End Date",-1),s$=Ne("h6",{class:"text-primary"},"GENERATE REPORT",-1),r$={class:"table text-sm"},o$=Ne("thead",null,[Ne("tr",null,[Ne("th",{scope:"col"},"Time"),Ne("th",{scope:"col"},"Lon"),Ne("th",{scope:"col"},"Lat"),Ne("th",{scope:"col"},"Speed")])],-1),a$=["onClick"],l$={scope:"row"},c$=Ne("div",{class:"tab-pane fade",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},null,-1),d$=["src"];function h$(e,t,s,a,c,h){return yt(),St("div",VU,[s.display?(yt(),St("div",HU,[Ne("div",WU,[Ne("button",{onClick:t[0]||(t[0]=m=>s.display=!s.display),class:"btn btn-link bg-transparent p-0"},[Ne("img",{src:"/img/icons/close-fill.png",alt:""},null,8,YU)]),qU]),Ne("div",XU,[ZU,Ne("div",KU,[Ne("div",JU,[Ne("div",QU,[Ne("div",e$,[t$,Os(Ne("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=m=>c.params.from=m),class:"form-control",id:"startDateInput"},null,512),[[Aa,c.params.from]])]),Ne("div",i$,[n$,Os(Ne("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=m=>c.params.to=m),class:"form-control",id:"endDateInput"},null,512),[[Aa,c.params.to]])]),Ne("button",{onClick:t[3]||(t[3]=(...m)=>h.fetchData&&h.fetchData(...m)),class:"btn btn-outline-primary w-100"},"SHOW")]),s$,Ne("table",r$,[o$,Ne("tbody",null,[(yt(!0),St(en,null,Kn(c.histories,m=>(yt(),St("tr",{onClick:n=>h.selected(m),key:m.id},[Ne("td",l$,Fi(e.$filters.dateformat(m.terminal_time,"DD/MM/YYYY HH:mm")),1),Ne("td",null,Fi(m.lng.toFixed(4))+"°",1),Ne("td",null,Fi(m.lat.toFixed(4))+"°",1),Ne("td",null,Fi(m.sog),1)],8,a$))),128))])])]),c$])])])):rn("",!0),Ne("button",{onClick:t[4]||(t[4]=m=>s.display=!s.display),class:"btn btn-light btn-open"},[Ne("img",{src:"/img/icons/location-circle.png",alt:""},null,8,d$),mr(" Show fleet Track ")])])}const u$=Jn(GU,[["render",h$]]),p$={},f$={class:"ships-cctv"},m$=Sd('<div class="card" data-v-3e327a0d><div class="card-header" data-v-3e327a0d><div class="card-title" data-v-3e327a0d><div data-v-3e327a0d>Bridge</div></div><div class="card-status" data-v-3e327a0d><a href="#" data-v-3e327a0d><img src="img/icons/fullscreen.png" alt="" data-v-3e327a0d> Fullscreen </a><a href="#" data-v-3e327a0d> Esc to exit </a></div></div><div class="card-body" data-v-3e327a0d><img src="img/image-1.png" alt="" class="w-100" data-v-3e327a0d></div></div>',1),g$=[m$];function _$(e,t,s,a,c,h){return yt(),St("div",f$,g$)}const y$=Jn(p$,[["render",_$],["__scopeId","data-v-3e327a0d"]]),v$={components:{"x-search":T8,"x-notification":C8,"x-records":E8,"x-navigation":M8,"x-camera":A8,"x-parameter":k8,"x-cctv":y$,MapboxMap:f_,MapboxNavigationControl:m_},data(){return{map:null,current:[],timer:null,fleets:[],zoom:3,center:[118,0],popup:null}},mounted(){this.timer=setInterval(()=>{this.loaded()},15*1e3),this.map.loadImage(FS,(e,t)=>{if(e)throw e;this.map.addImage("ship",t)}),this.popup=new hl.Popup({closeButton:!0,closeOnClick:!1})},methods:{async loaded(){let{data:e}=await axios.get("/api/fleets");this.fleets=e,e.forEach(t=>{this.positionShip(t)})},findFleet(e){if(!e.navigation)return;let t=e.id;this.popup.remove();const s=`<a class="no-style" href="/fleet/${t}"><b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${Rm(e.navigation.updated_at)}</b></a>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(s).addTo(this.map),this.center=[e.navigation.lng,e.navigation.lat],this.zoom=5},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},positionShip(e){if(!e.navigation)return;let t=this;typeof this.map.getLayer(`ship-positions-${e.id}`)<"u"&&this.map.removeLayer(`ship-positions-${e.id}`).removeSource(`ship-positions-${e.id}`),this.map.addSource(`ship-positions-${e.id}`,{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.navigation.lng,e.navigation.lat]},properties:{scale:1,id:e.id,heading:e.navigation.heading,name:e.name,image:e.image,sog:e.navigation.sog,cog:e.navigation.cog,last_update:Rm(e.navigation.updated_at)}}]}}),this.map.addLayer({id:`ship-positions-${e.id}`,type:"symbol",source:`ship-positions-${e.id}`,layout:{"icon-image":"ship","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}});const a=new hl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click",`ship-positions-${e.id}`,c=>{let h=c.features[0].properties.id;location.href=`/fleet/${h}`}),this.map.on("mouseenter",`ship-positions-${e.id}`,c=>{t.map.getCanvas().style.cursor="pointer";const h=c.features[0].geometry.coordinates.slice(),m=`<b>${c.features[0].properties.name} [ID]</b> at ${c.features[0].properties.sog} <b>kn</b> / ${c.features[0].properties.cog}&deg;<br>last update: <b>${c.features[0].properties.last_update}</b>`;for(;Math.abs(c.lngLat.lng-h[0])>180;)h[0]+=c.lngLat.lng>h[0]?360:-360;a.setLngLat(h).setHTML(m).addTo(t.map)}),this.map.on("mouseleave",`ship-positions-${e.id}`,()=>{t.map.getCanvas().style.cursor="",a.remove()})}}},x$={class:"position-relative"};function b$(e,t,s,a,c,h){const m=Un("x-records"),n=Un("x-navigation"),x=Un("x-camera"),z=Un("x-notification"),Y=Un("x-parameter"),O=Un("x-cctv"),V=Un("MapboxNavigationControl"),q=Un("MapboxMap");return yt(),St("div",x$,[Qi(m),Qi(n),Qi(x),Qi(z),Qi(Y),Qi(O),Qi(q,{onMbCreated:t[0]||(t[0]=L=>c.map=L),onMbLoad:h.loaded,onMbMousemove:h.pointerLocation,style:{height:"calc(100vh - 0px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:c.center,zoom:c.zoom},{default:To(()=>[Qi(V,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center","zoom"])])}const w$=Jn(v$,[["render",b$]]);function B5(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function jS(e={},t={}){Object.keys(t).forEach(s=>{typeof e[s]>"u"?e[s]=t[s]:B5(t[s])&&B5(e[s])&&Object.keys(t[s]).length>0&&jS(e[s],t[s])})}const D8={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function r0(){const e=typeof document<"u"?document:{};return jS(e,D8),e}const S$={document:D8,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function Wc(){const e=typeof window<"u"?window:{};return jS(e,S$),e}function T$(e){const t=e;Object.keys(t).forEach(s=>{try{t[s]=null}catch{}try{delete t[s]}catch{}})}function Kw(e,t=0){return setTimeout(e,t)}function Yv(){return Date.now()}function C$(e){const t=Wc();let s;return t.getComputedStyle&&(s=t.getComputedStyle(e,null)),!s&&e.currentStyle&&(s=e.currentStyle),s||(s=e.style),s}function E$(e,t="x"){const s=Wc();let a,c,h;const m=C$(e);return s.WebKitCSSMatrix?(c=m.transform||m.webkitTransform,c.split(",").length>6&&(c=c.split(", ").map(n=>n.replace(",",".")).join(", ")),h=new s.WebKitCSSMatrix(c==="none"?"":c)):(h=m.MozTransform||m.OTransform||m.MsTransform||m.msTransform||m.transform||m.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=h.toString().split(",")),t==="x"&&(s.WebKitCSSMatrix?c=h.m41:a.length===16?c=parseFloat(a[12]):c=parseFloat(a[4])),t==="y"&&(s.WebKitCSSMatrix?c=h.m42:a.length===16?c=parseFloat(a[13]):c=parseFloat(a[5])),c||0}function tv(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function M$(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function Bc(...e){const t=Object(e[0]),s=["__proto__","constructor","prototype"];for(let a=1;a<e.length;a+=1){const c=e[a];if(c!=null&&!M$(c)){const h=Object.keys(Object(c)).filter(m=>s.indexOf(m)<0);for(let m=0,n=h.length;m<n;m+=1){const x=h[m],z=Object.getOwnPropertyDescriptor(c,x);z!==void 0&&z.enumerable&&(tv(t[x])&&tv(c[x])?c[x].__swiper__?t[x]=c[x]:Bc(t[x],c[x]):!tv(t[x])&&tv(c[x])?(t[x]={},c[x].__swiper__?t[x]=c[x]:Bc(t[x],c[x])):t[x]=c[x])}}}return t}function iv(e,t,s){e.style.setProperty(t,s)}function I8({swiper:e,targetPosition:t,side:s}){const a=Wc(),c=-e.translate;let h=null,m;const n=e.params.speed;e.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(e.cssModeFrameID);const x=t>c?"next":"prev",z=(O,V)=>x==="next"&&O>=V||x==="prev"&&O<=V,Y=()=>{m=new Date().getTime(),h===null&&(h=m);const O=Math.max(Math.min((m-h)/n,1),0),V=.5-Math.cos(O*Math.PI)/2;let q=c+V*(t-c);if(z(q,t)&&(q=t),e.wrapperEl.scrollTo({[s]:q}),z(q,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[s]:q})}),a.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=a.requestAnimationFrame(Y)};Y()}function Mh(e,t=""){return[...e.children].filter(s=>s.matches(t))}function US(e,t=[]){const s=document.createElement(e);return s.classList.add(...Array.isArray(t)?t:[t]),s}function A$(e,t){const s=[];for(;e.previousElementSibling;){const a=e.previousElementSibling;t?a.matches(t)&&s.push(a):s.push(a),e=a}return s}function k$(e,t){const s=[];for(;e.nextElementSibling;){const a=e.nextElementSibling;t?a.matches(t)&&s.push(a):s.push(a),e=a}return s}function mp(e,t){return Wc().getComputedStyle(e,null).getPropertyValue(t)}function Jw(e){let t=e,s;if(t){for(s=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(s+=1);return s}}function P$(e,t){const s=[];let a=e.parentElement;for(;a;)t?a.matches(t)&&s.push(a):s.push(a),a=a.parentElement;return s}function z5(e,t,s){const a=Wc();return s?e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(a.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(a.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):e.offsetWidth}let rw;function D$(){const e=Wc(),t=r0();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function L8(){return rw||(rw=D$()),rw}let ow;function I$({userAgent:e}={}){const t=L8(),s=Wc(),a=s.navigator.platform,c=e||s.navigator.userAgent,h={ios:!1,android:!1},m=s.screen.width,n=s.screen.height,x=c.match(/(Android);?[\s\/]+([\d.]+)?/);let z=c.match(/(iPad).*OS\s([\d_]+)/);const Y=c.match(/(iPod)(.*OS\s([\d_]+))?/),O=!z&&c.match(/(iPhone\sOS|iOS)\s([\d_]+)/),V=a==="Win32";let q=a==="MacIntel";const L=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!z&&q&&t.touch&&L.indexOf(`${m}x${n}`)>=0&&(z=c.match(/(Version)\/([\d.]+)/),z||(z=[0,1,"13_0_0"]),q=!1),x&&!V&&(h.os="android",h.android=!0),(z||O||Y)&&(h.os="ios",h.ios=!0),h}function L$(e={}){return ow||(ow=I$(e)),ow}let aw;function O$(){const e=Wc();let t=!1;function s(){const a=e.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(s()){const a=String(e.navigator.userAgent);if(a.includes("Version/")){const[c,h]=a.split("Version/")[1].split(" ")[0].split(".").map(m=>Number(m));t=c<16||c===16&&h<2}}return{isSafari:t||s(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}function R$(){return aw||(aw=O$()),aw}function B$({swiper:e,on:t,emit:s}){const a=Wc();let c=null,h=null;const m=()=>{!e||e.destroyed||!e.initialized||(s("beforeResize"),s("resize"))},n=()=>{!e||e.destroyed||!e.initialized||(c=new ResizeObserver(Y=>{h=a.requestAnimationFrame(()=>{const{width:O,height:V}=e;let q=O,L=V;Y.forEach(({contentBoxSize:I,contentRect:H,target:M})=>{M&&M!==e.el||(q=H?H.width:(I[0]||I).inlineSize,L=H?H.height:(I[0]||I).blockSize)}),(q!==O||L!==V)&&m()})}),c.observe(e.el))},x=()=>{h&&a.cancelAnimationFrame(h),c&&c.unobserve&&e.el&&(c.unobserve(e.el),c=null)},z=()=>{!e||e.destroyed||!e.initialized||s("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof a.ResizeObserver<"u"){n();return}a.addEventListener("resize",m),a.addEventListener("orientationchange",z)}),t("destroy",()=>{x(),a.removeEventListener("resize",m),a.removeEventListener("orientationchange",z)})}function z$({swiper:e,extendParams:t,on:s,emit:a}){const c=[],h=Wc(),m=(z,Y={})=>{const O=h.MutationObserver||h.WebkitMutationObserver,V=new O(q=>{if(e.__preventObserver__)return;if(q.length===1){a("observerUpdate",q[0]);return}const L=function(){a("observerUpdate",q[0])};h.requestAnimationFrame?h.requestAnimationFrame(L):h.setTimeout(L,0)});V.observe(z,{attributes:typeof Y.attributes>"u"?!0:Y.attributes,childList:typeof Y.childList>"u"?!0:Y.childList,characterData:typeof Y.characterData>"u"?!0:Y.characterData}),c.push(V)},n=()=>{if(e.params.observer){if(e.params.observeParents){const z=P$(e.el);for(let Y=0;Y<z.length;Y+=1)m(z[Y])}m(e.el,{childList:e.params.observeSlideChildren}),m(e.wrapperEl,{attributes:!1})}},x=()=>{c.forEach(z=>{z.disconnect()}),c.splice(0,c.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",n),s("destroy",x)}const N$={on(e,t,s){const a=this;if(!a.eventsListeners||a.destroyed||typeof t!="function")return a;const c=s?"unshift":"push";return e.split(" ").forEach(h=>{a.eventsListeners[h]||(a.eventsListeners[h]=[]),a.eventsListeners[h][c](t)}),a},once(e,t,s){const a=this;if(!a.eventsListeners||a.destroyed||typeof t!="function")return a;function c(...h){a.off(e,c),c.__emitterProxy&&delete c.__emitterProxy,t.apply(a,h)}return c.__emitterProxy=t,a.on(e,c,s)},onAny(e,t){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const a=t?"unshift":"push";return s.eventsAnyListeners.indexOf(e)<0&&s.eventsAnyListeners[a](e),s},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const s=t.eventsAnyListeners.indexOf(e);return s>=0&&t.eventsAnyListeners.splice(s,1),t},off(e,t){const s=this;return!s.eventsListeners||s.destroyed||!s.eventsListeners||e.split(" ").forEach(a=>{typeof t>"u"?s.eventsListeners[a]=[]:s.eventsListeners[a]&&s.eventsListeners[a].forEach((c,h)=>{(c===t||c.__emitterProxy&&c.__emitterProxy===t)&&s.eventsListeners[a].splice(h,1)})}),s},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let s,a,c;return typeof e[0]=="string"||Array.isArray(e[0])?(s=e[0],a=e.slice(1,e.length),c=t):(s=e[0].events,a=e[0].data,c=e[0].context||t),a.unshift(c),(Array.isArray(s)?s:s.split(" ")).forEach(m=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(n=>{n.apply(c,[m,...a])}),t.eventsListeners&&t.eventsListeners[m]&&t.eventsListeners[m].forEach(n=>{n.apply(c,a)})}),t}};function F$(){const e=this;let t,s;const a=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=a.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?s=e.params.height:s=a.clientHeight,!(t===0&&e.isHorizontal()||s===0&&e.isVertical())&&(t=t-parseInt(mp(a,"padding-left")||0,10)-parseInt(mp(a,"padding-right")||0,10),s=s-parseInt(mp(a,"padding-top")||0,10)-parseInt(mp(a,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(s)&&(s=0),Object.assign(e,{width:t,height:s,size:e.isHorizontal()?t:s}))}function j$(){const e=this;function t(W){return e.isHorizontal()?W:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[W]}function s(W,S){return parseFloat(W.getPropertyValue(t(S))||0)}const a=e.params,{wrapperEl:c,slidesEl:h,size:m,rtlTranslate:n,wrongRTL:x}=e,z=e.virtual&&a.virtual.enabled,Y=z?e.virtual.slides.length:e.slides.length,O=Mh(h,`.${e.params.slideClass}, swiper-slide`),V=z?e.virtual.slides.length:O.length;let q=[];const L=[],I=[];let H=a.slidesOffsetBefore;typeof H=="function"&&(H=a.slidesOffsetBefore.call(e));let M=a.slidesOffsetAfter;typeof M=="function"&&(M=a.slidesOffsetAfter.call(e));const C=e.snapGrid.length,A=e.slidesGrid.length;let U=a.spaceBetween,$=-H,E=0,ee=0;if(typeof m>"u")return;typeof U=="string"&&U.indexOf("%")>=0?U=parseFloat(U.replace("%",""))/100*m:typeof U=="string"&&(U=parseFloat(U)),e.virtualSize=-U,O.forEach(W=>{n?W.style.marginLeft="":W.style.marginRight="",W.style.marginBottom="",W.style.marginTop=""}),a.centeredSlides&&a.cssMode&&(iv(c,"--swiper-centered-offset-before",""),iv(c,"--swiper-centered-offset-after",""));const Q=a.grid&&a.grid.rows>1&&e.grid;Q&&e.grid.initSlides(V);let N;const j=a.slidesPerView==="auto"&&a.breakpoints&&Object.keys(a.breakpoints).filter(W=>typeof a.breakpoints[W].slidesPerView<"u").length>0;for(let W=0;W<V;W+=1){N=0;let S;if(O[W]&&(S=O[W]),Q&&e.grid.updateSlide(W,S,V,t),!(O[W]&&mp(S,"display")==="none")){if(a.slidesPerView==="auto"){j&&(O[W].style[t("width")]="");const P=getComputedStyle(S),f=S.style.transform,g=S.style.webkitTransform;if(f&&(S.style.transform="none"),g&&(S.style.webkitTransform="none"),a.roundLengths)N=e.isHorizontal()?z5(S,"width",!0):z5(S,"height",!0);else{const b=s(P,"width"),D=s(P,"padding-left"),X=s(P,"padding-right"),te=s(P,"margin-left"),Z=s(P,"margin-right"),de=P.getPropertyValue("box-sizing");if(de&&de==="border-box")N=b+te+Z;else{const{clientWidth:ge,offsetWidth:Ce}=S;N=b+D+X+te+Z+(Ce-ge)}}f&&(S.style.transform=f),g&&(S.style.webkitTransform=g),a.roundLengths&&(N=Math.floor(N))}else N=(m-(a.slidesPerView-1)*U)/a.slidesPerView,a.roundLengths&&(N=Math.floor(N)),O[W]&&(O[W].style[t("width")]=`${N}px`);O[W]&&(O[W].swiperSlideSize=N),I.push(N),a.centeredSlides?($=$+N/2+E/2+U,E===0&&W!==0&&($=$-m/2-U),W===0&&($=$-m/2-U),Math.abs($)<1/1e3&&($=0),a.roundLengths&&($=Math.floor($)),ee%a.slidesPerGroup===0&&q.push($),L.push($)):(a.roundLengths&&($=Math.floor($)),(ee-Math.min(e.params.slidesPerGroupSkip,ee))%e.params.slidesPerGroup===0&&q.push($),L.push($),$=$+N+U),e.virtualSize+=N+U,E=N,ee+=1}}if(e.virtualSize=Math.max(e.virtualSize,m)+M,n&&x&&(a.effect==="slide"||a.effect==="coverflow")&&(c.style.width=`${e.virtualSize+U}px`),a.setWrapperSize&&(c.style[t("width")]=`${e.virtualSize+U}px`),Q&&e.grid.updateWrapperSize(N,q,t),!a.centeredSlides){const W=[];for(let S=0;S<q.length;S+=1){let P=q[S];a.roundLengths&&(P=Math.floor(P)),q[S]<=e.virtualSize-m&&W.push(P)}q=W,Math.floor(e.virtualSize-m)-Math.floor(q[q.length-1])>1&&q.push(e.virtualSize-m)}if(z&&a.loop){const W=I[0]+U;if(a.slidesPerGroup>1){const S=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/a.slidesPerGroup),P=W*a.slidesPerGroup;for(let f=0;f<S;f+=1)q.push(q[q.length-1]+P)}for(let S=0;S<e.virtual.slidesBefore+e.virtual.slidesAfter;S+=1)a.slidesPerGroup===1&&q.push(q[q.length-1]+W),L.push(L[L.length-1]+W),e.virtualSize+=W}if(q.length===0&&(q=[0]),U!==0){const W=e.isHorizontal()&&n?"marginLeft":t("marginRight");O.filter((S,P)=>!a.cssMode||a.loop?!0:P!==O.length-1).forEach(S=>{S.style[W]=`${U}px`})}if(a.centeredSlides&&a.centeredSlidesBounds){let W=0;I.forEach(P=>{W+=P+(U||0)}),W-=U;const S=W-m;q=q.map(P=>P<0?-H:P>S?S+M:P)}if(a.centerInsufficientSlides){let W=0;if(I.forEach(S=>{W+=S+(U||0)}),W-=U,W<m){const S=(m-W)/2;q.forEach((P,f)=>{q[f]=P-S}),L.forEach((P,f)=>{L[f]=P+S})}}if(Object.assign(e,{slides:O,snapGrid:q,slidesGrid:L,slidesSizesGrid:I}),a.centeredSlides&&a.cssMode&&!a.centeredSlidesBounds){iv(c,"--swiper-centered-offset-before",`${-q[0]}px`),iv(c,"--swiper-centered-offset-after",`${e.size/2-I[I.length-1]/2}px`);const W=-e.snapGrid[0],S=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(P=>P+W),e.slidesGrid=e.slidesGrid.map(P=>P+S)}if(V!==Y&&e.emit("slidesLengthChange"),q.length!==C&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),L.length!==A&&e.emit("slidesGridLengthChange"),a.watchSlidesProgress&&e.updateSlidesOffset(),!z&&!a.cssMode&&(a.effect==="slide"||a.effect==="fade")){const W=`${a.containerModifierClass}backface-hidden`,S=e.el.classList.contains(W);V<=a.maxBackfaceHiddenSlides?S||e.el.classList.add(W):S&&e.el.classList.remove(W)}}function U$(e){const t=this,s=[],a=t.virtual&&t.params.virtual.enabled;let c=0,h;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const m=n=>a?t.slides[t.getSlideIndexByData(n)]:t.slides[n];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(n=>{s.push(n)});else for(h=0;h<Math.ceil(t.params.slidesPerView);h+=1){const n=t.activeIndex+h;if(n>t.slides.length&&!a)break;s.push(m(n))}else s.push(m(t.activeIndex));for(h=0;h<s.length;h+=1)if(typeof s[h]<"u"){const n=s[h].offsetHeight;c=n>c?n:c}(c||c===0)&&(t.wrapperEl.style.height=`${c}px`)}function $$(){const e=this,t=e.slides,s=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let a=0;a<t.length;a+=1)t[a].swiperSlideOffset=(e.isHorizontal()?t[a].offsetLeft:t[a].offsetTop)-s-e.cssOverflowAdjustment()}function G$(e=this&&this.translate||0){const t=this,s=t.params,{slides:a,rtlTranslate:c,snapGrid:h}=t;if(a.length===0)return;typeof a[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let m=-e;c&&(m=e),a.forEach(x=>{x.classList.remove(s.slideVisibleClass)}),t.visibleSlidesIndexes=[],t.visibleSlides=[];let n=s.spaceBetween;typeof n=="string"&&n.indexOf("%")>=0?n=parseFloat(n.replace("%",""))/100*t.size:typeof n=="string"&&(n=parseFloat(n));for(let x=0;x<a.length;x+=1){const z=a[x];let Y=z.swiperSlideOffset;s.cssMode&&s.centeredSlides&&(Y-=a[0].swiperSlideOffset);const O=(m+(s.centeredSlides?t.minTranslate():0)-Y)/(z.swiperSlideSize+n),V=(m-h[0]+(s.centeredSlides?t.minTranslate():0)-Y)/(z.swiperSlideSize+n),q=-(m-Y),L=q+t.slidesSizesGrid[x];(q>=0&&q<t.size-1||L>1&&L<=t.size||q<=0&&L>=t.size)&&(t.visibleSlides.push(z),t.visibleSlidesIndexes.push(x),a[x].classList.add(s.slideVisibleClass)),z.progress=c?-O:O,z.originalProgress=c?-V:V}}function V$(e){const t=this;if(typeof e>"u"){const Y=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*Y||0}const s=t.params,a=t.maxTranslate()-t.minTranslate();let{progress:c,isBeginning:h,isEnd:m,progressLoop:n}=t;const x=h,z=m;if(a===0)c=0,h=!0,m=!0;else{c=(e-t.minTranslate())/a;const Y=Math.abs(e-t.minTranslate())<1,O=Math.abs(e-t.maxTranslate())<1;h=Y||c<=0,m=O||c>=1,Y&&(c=0),O&&(c=1)}if(s.loop){const Y=t.getSlideIndexByData(0),O=t.getSlideIndexByData(t.slides.length-1),V=t.slidesGrid[Y],q=t.slidesGrid[O],L=t.slidesGrid[t.slidesGrid.length-1],I=Math.abs(e);I>=V?n=(I-V)/L:n=(I+L-q)/L,n>1&&(n-=1)}Object.assign(t,{progress:c,progressLoop:n,isBeginning:h,isEnd:m}),(s.watchSlidesProgress||s.centeredSlides&&s.autoHeight)&&t.updateSlidesProgress(e),h&&!x&&t.emit("reachBeginning toEdge"),m&&!z&&t.emit("reachEnd toEdge"),(x&&!h||z&&!m)&&t.emit("fromEdge"),t.emit("progress",c)}function H$(){const e=this,{slides:t,params:s,slidesEl:a,activeIndex:c}=e,h=e.virtual&&s.virtual.enabled,m=x=>Mh(a,`.${s.slideClass}${x}, swiper-slide${x}`)[0];t.forEach(x=>{x.classList.remove(s.slideActiveClass,s.slideNextClass,s.slidePrevClass)});let n;if(h)if(s.loop){let x=c-e.virtual.slidesBefore;x<0&&(x=e.virtual.slides.length+x),x>=e.virtual.slides.length&&(x-=e.virtual.slides.length),n=m(`[data-swiper-slide-index="${x}"]`)}else n=m(`[data-swiper-slide-index="${c}"]`);else n=t[c];if(n){n.classList.add(s.slideActiveClass);let x=k$(n,`.${s.slideClass}, swiper-slide`)[0];s.loop&&!x&&(x=t[0]),x&&x.classList.add(s.slideNextClass);let z=A$(n,`.${s.slideClass}, swiper-slide`)[0];s.loop&&!z===0&&(z=t[t.length-1]),z&&z.classList.add(s.slidePrevClass)}e.emitSlidesClasses()}const gv=(e,t)=>{if(!e||e.destroyed||!e.params)return;const s=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,a=t.closest(s());if(a){const c=a.querySelector(`.${e.params.lazyPreloaderClass}`);c&&c.remove()}},N5=(e,t)=>{if(!e.slides[t])return;const s=e.slides[t].querySelector('[loading="lazy"]');s&&s.removeAttribute("loading")},Qw=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const s=e.slides.length;if(!s||!t||t<0)return;t=Math.min(t,s);const a=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),c=e.activeIndex,h=c+a-1;if(e.params.rewind)for(let m=c-t;m<=h+t;m+=1){const n=(m%s+s)%s;n!==c&&n>h&&N5(e,n)}else for(let m=Math.max(h-t,0);m<=Math.min(h+t,s-1);m+=1)m!==c&&m>h&&N5(e,m)};function W$(e){const{slidesGrid:t,params:s}=e,a=e.rtlTranslate?e.translate:-e.translate;let c;for(let h=0;h<t.length;h+=1)typeof t[h+1]<"u"?a>=t[h]&&a<t[h+1]-(t[h+1]-t[h])/2?c=h:a>=t[h]&&a<t[h+1]&&(c=h+1):a>=t[h]&&(c=h);return s.normalizeSlideIndex&&(c<0||typeof c>"u")&&(c=0),c}function Y$(e){const t=this,s=t.rtlTranslate?t.translate:-t.translate,{snapGrid:a,params:c,activeIndex:h,realIndex:m,snapIndex:n}=t;let x=e,z;const Y=V=>{let q=V-t.virtual.slidesBefore;return q<0&&(q=t.virtual.slides.length+q),q>=t.virtual.slides.length&&(q-=t.virtual.slides.length),q};if(typeof x>"u"&&(x=W$(t)),a.indexOf(s)>=0)z=a.indexOf(s);else{const V=Math.min(c.slidesPerGroupSkip,x);z=V+Math.floor((x-V)/c.slidesPerGroup)}if(z>=a.length&&(z=a.length-1),x===h){z!==n&&(t.snapIndex=z,t.emit("snapIndexChange")),t.params.loop&&t.virtual&&t.params.virtual.enabled&&(t.realIndex=Y(x));return}let O;t.virtual&&c.virtual.enabled&&c.loop?O=Y(x):t.slides[x]?O=parseInt(t.slides[x].getAttribute("data-swiper-slide-index")||x,10):O=x,Object.assign(t,{previousSnapIndex:n,snapIndex:z,previousRealIndex:m,realIndex:O,previousIndex:h,activeIndex:x}),t.initialized&&Qw(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),m!==O&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")}function q$(e){const t=this,s=t.params,a=e.closest(`.${s.slideClass}, swiper-slide`);let c=!1,h;if(a){for(let m=0;m<t.slides.length;m+=1)if(t.slides[m]===a){c=!0,h=m;break}}if(a&&c)t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=h;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}s.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}const X$={updateSize:F$,updateSlides:j$,updateAutoHeight:U$,updateSlidesOffset:$$,updateSlidesProgress:G$,updateProgress:V$,updateSlidesClasses:H$,updateActiveIndex:Y$,updateClickedSlide:q$};function Z$(e=this.isHorizontal()?"x":"y"){const t=this,{params:s,rtlTranslate:a,translate:c,wrapperEl:h}=t;if(s.virtualTranslate)return a?-c:c;if(s.cssMode)return c;let m=E$(h,e);return m+=t.cssOverflowAdjustment(),a&&(m=-m),m||0}function K$(e,t){const s=this,{rtlTranslate:a,params:c,wrapperEl:h,progress:m}=s;let n=0,x=0;const z=0;s.isHorizontal()?n=a?-e:e:x=e,c.roundLengths&&(n=Math.floor(n),x=Math.floor(x)),s.previousTranslate=s.translate,s.translate=s.isHorizontal()?n:x,c.cssMode?h[s.isHorizontal()?"scrollLeft":"scrollTop"]=s.isHorizontal()?-n:-x:c.virtualTranslate||(s.isHorizontal()?n-=s.cssOverflowAdjustment():x-=s.cssOverflowAdjustment(),h.style.transform=`translate3d(${n}px, ${x}px, ${z}px)`);let Y;const O=s.maxTranslate()-s.minTranslate();O===0?Y=0:Y=(e-s.minTranslate())/O,Y!==m&&s.updateProgress(e),s.emit("setTranslate",s.translate,t)}function J$(){return-this.snapGrid[0]}function Q$(){return-this.snapGrid[this.snapGrid.length-1]}function eG(e=0,t=this.params.speed,s=!0,a=!0,c){const h=this,{params:m,wrapperEl:n}=h;if(h.animating&&m.preventInteractionOnTransition)return!1;const x=h.minTranslate(),z=h.maxTranslate();let Y;if(a&&e>x?Y=x:a&&e<z?Y=z:Y=e,h.updateProgress(Y),m.cssMode){const O=h.isHorizontal();if(t===0)n[O?"scrollLeft":"scrollTop"]=-Y;else{if(!h.support.smoothScroll)return I8({swiper:h,targetPosition:-Y,side:O?"left":"top"}),!0;n.scrollTo({[O?"left":"top"]:-Y,behavior:"smooth"})}return!0}return t===0?(h.setTransition(0),h.setTranslate(Y),s&&(h.emit("beforeTransitionStart",t,c),h.emit("transitionEnd"))):(h.setTransition(t),h.setTranslate(Y),s&&(h.emit("beforeTransitionStart",t,c),h.emit("transitionStart")),h.animating||(h.animating=!0,h.onTranslateToWrapperTransitionEnd||(h.onTranslateToWrapperTransitionEnd=function(V){!h||h.destroyed||V.target===this&&(h.wrapperEl.removeEventListener("transitionend",h.onTranslateToWrapperTransitionEnd),h.onTranslateToWrapperTransitionEnd=null,delete h.onTranslateToWrapperTransitionEnd,s&&h.emit("transitionEnd"))}),h.wrapperEl.addEventListener("transitionend",h.onTranslateToWrapperTransitionEnd))),!0}const tG={getTranslate:Z$,setTranslate:K$,minTranslate:J$,maxTranslate:Q$,translateTo:eG};function iG(e,t){const s=this;s.params.cssMode||(s.wrapperEl.style.transitionDuration=`${e}ms`),s.emit("setTransition",e,t)}function O8({swiper:e,runCallbacks:t,direction:s,step:a}){const{activeIndex:c,previousIndex:h}=e;let m=s;if(m||(c>h?m="next":c<h?m="prev":m="reset"),e.emit(`transition${a}`),t&&c!==h){if(m==="reset"){e.emit(`slideResetTransition${a}`);return}e.emit(`slideChangeTransition${a}`),m==="next"?e.emit(`slideNextTransition${a}`):e.emit(`slidePrevTransition${a}`)}}function nG(e=!0,t){const s=this,{params:a}=s;a.cssMode||(a.autoHeight&&s.updateAutoHeight(),O8({swiper:s,runCallbacks:e,direction:t,step:"Start"}))}function sG(e=!0,t){const s=this,{params:a}=s;s.animating=!1,!a.cssMode&&(s.setTransition(0),O8({swiper:s,runCallbacks:e,direction:t,step:"End"}))}const rG={setTransition:iG,transitionStart:nG,transitionEnd:sG};function oG(e=0,t=this.params.speed,s=!0,a,c){typeof e=="string"&&(e=parseInt(e,10));const h=this;let m=e;m<0&&(m=0);const{params:n,snapGrid:x,slidesGrid:z,previousIndex:Y,activeIndex:O,rtlTranslate:V,wrapperEl:q,enabled:L}=h;if(h.animating&&n.preventInteractionOnTransition||!L&&!a&&!c)return!1;const I=Math.min(h.params.slidesPerGroupSkip,m);let H=I+Math.floor((m-I)/h.params.slidesPerGroup);H>=x.length&&(H=x.length-1);const M=-x[H];if(n.normalizeSlideIndex)for(let A=0;A<z.length;A+=1){const U=-Math.floor(M*100),$=Math.floor(z[A]*100),E=Math.floor(z[A+1]*100);typeof z[A+1]<"u"?U>=$&&U<E-(E-$)/2?m=A:U>=$&&U<E&&(m=A+1):U>=$&&(m=A)}if(h.initialized&&m!==O&&(!h.allowSlideNext&&M<h.translate&&M<h.minTranslate()||!h.allowSlidePrev&&M>h.translate&&M>h.maxTranslate()&&(O||0)!==m))return!1;m!==(Y||0)&&s&&h.emit("beforeSlideChangeStart"),h.updateProgress(M);let C;if(m>O?C="next":m<O?C="prev":C="reset",V&&-M===h.translate||!V&&M===h.translate)return h.updateActiveIndex(m),n.autoHeight&&h.updateAutoHeight(),h.updateSlidesClasses(),n.effect!=="slide"&&h.setTranslate(M),C!=="reset"&&(h.transitionStart(s,C),h.transitionEnd(s,C)),!1;if(n.cssMode){const A=h.isHorizontal(),U=V?M:-M;if(t===0){const $=h.virtual&&h.params.virtual.enabled;$&&(h.wrapperEl.style.scrollSnapType="none",h._immediateVirtual=!0),$&&!h._cssModeVirtualInitialSet&&h.params.initialSlide>0?(h._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{q[A?"scrollLeft":"scrollTop"]=U})):q[A?"scrollLeft":"scrollTop"]=U,$&&requestAnimationFrame(()=>{h.wrapperEl.style.scrollSnapType="",h._immediateVirtual=!1})}else{if(!h.support.smoothScroll)return I8({swiper:h,targetPosition:U,side:A?"left":"top"}),!0;q.scrollTo({[A?"left":"top"]:U,behavior:"smooth"})}return!0}return h.setTransition(t),h.setTranslate(M),h.updateActiveIndex(m),h.updateSlidesClasses(),h.emit("beforeTransitionStart",t,a),h.transitionStart(s,C),t===0?h.transitionEnd(s,C):h.animating||(h.animating=!0,h.onSlideToWrapperTransitionEnd||(h.onSlideToWrapperTransitionEnd=function(U){!h||h.destroyed||U.target===this&&(h.wrapperEl.removeEventListener("transitionend",h.onSlideToWrapperTransitionEnd),h.onSlideToWrapperTransitionEnd=null,delete h.onSlideToWrapperTransitionEnd,h.transitionEnd(s,C))}),h.wrapperEl.addEventListener("transitionend",h.onSlideToWrapperTransitionEnd)),!0}function aG(e=0,t=this.params.speed,s=!0,a){typeof e=="string"&&(e=parseInt(e,10));const c=this;let h=e;return c.params.loop&&(c.virtual&&c.params.virtual.enabled?h=h+c.virtual.slidesBefore:h=c.getSlideIndexByData(h)),c.slideTo(h,t,s,a)}function lG(e=this.params.speed,t=!0,s){const a=this,{enabled:c,params:h,animating:m}=a;if(!c)return a;let n=h.slidesPerGroup;h.slidesPerView==="auto"&&h.slidesPerGroup===1&&h.slidesPerGroupAuto&&(n=Math.max(a.slidesPerViewDynamic("current",!0),1));const x=a.activeIndex<h.slidesPerGroupSkip?1:n,z=a.virtual&&h.virtual.enabled;if(h.loop){if(m&&!z&&h.loopPreventsSliding)return!1;a.loopFix({direction:"next"}),a._clientLeft=a.wrapperEl.clientLeft}return h.rewind&&a.isEnd?a.slideTo(0,e,t,s):a.slideTo(a.activeIndex+x,e,t,s)}function cG(e=this.params.speed,t=!0,s){const a=this,{params:c,snapGrid:h,slidesGrid:m,rtlTranslate:n,enabled:x,animating:z}=a;if(!x)return a;const Y=a.virtual&&c.virtual.enabled;if(c.loop){if(z&&!Y&&c.loopPreventsSliding)return!1;a.loopFix({direction:"prev"}),a._clientLeft=a.wrapperEl.clientLeft}const O=n?a.translate:-a.translate;function V(M){return M<0?-Math.floor(Math.abs(M)):Math.floor(M)}const q=V(O),L=h.map(M=>V(M));let I=h[L.indexOf(q)-1];if(typeof I>"u"&&c.cssMode){let M;h.forEach((C,A)=>{q>=C&&(M=A)}),typeof M<"u"&&(I=h[M>0?M-1:M])}let H=0;if(typeof I<"u"&&(H=m.indexOf(I),H<0&&(H=a.activeIndex-1),c.slidesPerView==="auto"&&c.slidesPerGroup===1&&c.slidesPerGroupAuto&&(H=H-a.slidesPerViewDynamic("previous",!0)+1,H=Math.max(H,0))),c.rewind&&a.isBeginning){const M=a.params.virtual&&a.params.virtual.enabled&&a.virtual?a.virtual.slides.length-1:a.slides.length-1;return a.slideTo(M,e,t,s)}return a.slideTo(H,e,t,s)}function dG(e=this.params.speed,t=!0,s){const a=this;return a.slideTo(a.activeIndex,e,t,s)}function hG(e=this.params.speed,t=!0,s,a=.5){const c=this;let h=c.activeIndex;const m=Math.min(c.params.slidesPerGroupSkip,h),n=m+Math.floor((h-m)/c.params.slidesPerGroup),x=c.rtlTranslate?c.translate:-c.translate;if(x>=c.snapGrid[n]){const z=c.snapGrid[n],Y=c.snapGrid[n+1];x-z>(Y-z)*a&&(h+=c.params.slidesPerGroup)}else{const z=c.snapGrid[n-1],Y=c.snapGrid[n];x-z<=(Y-z)*a&&(h-=c.params.slidesPerGroup)}return h=Math.max(h,0),h=Math.min(h,c.slidesGrid.length-1),c.slideTo(h,e,t,s)}function uG(){const e=this,{params:t,slidesEl:s}=e,a=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let c=e.clickedIndex,h;const m=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;h=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?c<e.loopedSlides-a/2||c>e.slides.length-e.loopedSlides+a/2?(e.loopFix(),c=e.getSlideIndex(Mh(s,`${m}[data-swiper-slide-index="${h}"]`)[0]),Kw(()=>{e.slideTo(c)})):e.slideTo(c):c>e.slides.length-a?(e.loopFix(),c=e.getSlideIndex(Mh(s,`${m}[data-swiper-slide-index="${h}"]`)[0]),Kw(()=>{e.slideTo(c)})):e.slideTo(c)}else e.slideTo(c)}const pG={slideTo:oG,slideToLoop:aG,slideNext:lG,slidePrev:cG,slideReset:dG,slideToClosest:hG,slideToClickedSlide:uG};function fG(e){const t=this,{params:s,slidesEl:a}=t;if(!s.loop||t.virtual&&t.params.virtual.enabled)return;Mh(a,`.${s.slideClass}, swiper-slide`).forEach((h,m)=>{h.setAttribute("data-swiper-slide-index",m)}),t.loopFix({slideRealIndex:e,direction:s.centeredSlides?void 0:"next"})}function mG({slideRealIndex:e,slideTo:t=!0,direction:s,setTranslate:a,activeSlideIndex:c,byController:h,byMousewheel:m}={}){const n=this;if(!n.params.loop)return;n.emit("beforeLoopFix");const{slides:x,allowSlidePrev:z,allowSlideNext:Y,slidesEl:O,params:V}=n;if(n.allowSlidePrev=!0,n.allowSlideNext=!0,n.virtual&&V.virtual.enabled){t&&(!V.centeredSlides&&n.snapIndex===0?n.slideTo(n.virtual.slides.length,0,!1,!0):V.centeredSlides&&n.snapIndex<V.slidesPerView?n.slideTo(n.virtual.slides.length+n.snapIndex,0,!1,!0):n.snapIndex===n.snapGrid.length-1&&n.slideTo(n.virtual.slidesBefore,0,!1,!0)),n.allowSlidePrev=z,n.allowSlideNext=Y,n.emit("loopFix");return}const q=V.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(V.slidesPerView,10));let L=V.loopedSlides||q;L%V.slidesPerGroup!==0&&(L+=V.slidesPerGroup-L%V.slidesPerGroup),n.loopedSlides=L;const I=[],H=[];let M=n.activeIndex;typeof c>"u"?c=n.getSlideIndex(n.slides.filter(E=>E.classList.contains(V.slideActiveClass))[0]):M=c;const C=s==="next"||!s,A=s==="prev"||!s;let U=0,$=0;if(c<L){U=Math.max(L-c,V.slidesPerGroup);for(let E=0;E<L-c;E+=1){const ee=E-Math.floor(E/x.length)*x.length;I.push(x.length-ee-1)}}else if(c>n.slides.length-L*2){$=Math.max(c-(n.slides.length-L*2),V.slidesPerGroup);for(let E=0;E<$;E+=1){const ee=E-Math.floor(E/x.length)*x.length;H.push(ee)}}if(A&&I.forEach(E=>{n.slides[E].swiperLoopMoveDOM=!0,O.prepend(n.slides[E]),n.slides[E].swiperLoopMoveDOM=!1}),C&&H.forEach(E=>{n.slides[E].swiperLoopMoveDOM=!0,O.append(n.slides[E]),n.slides[E].swiperLoopMoveDOM=!1}),n.recalcSlides(),V.slidesPerView==="auto"&&n.updateSlides(),V.watchSlidesProgress&&n.updateSlidesOffset(),t){if(I.length>0&&A)if(typeof e>"u"){const E=n.slidesGrid[M],Q=n.slidesGrid[M+U]-E;m?n.setTranslate(n.translate-Q):(n.slideTo(M+U,0,!1,!0),a&&(n.touches[n.isHorizontal()?"startX":"startY"]+=Q))}else a&&n.slideToLoop(e,0,!1,!0);else if(H.length>0&&C)if(typeof e>"u"){const E=n.slidesGrid[M],Q=n.slidesGrid[M-$]-E;m?n.setTranslate(n.translate-Q):(n.slideTo(M-$,0,!1,!0),a&&(n.touches[n.isHorizontal()?"startX":"startY"]+=Q))}else n.slideToLoop(e,0,!1,!0)}if(n.allowSlidePrev=z,n.allowSlideNext=Y,n.controller&&n.controller.control&&!h){const E={slideRealIndex:e,slideTo:!1,direction:s,setTranslate:a,activeSlideIndex:c,byController:!0};Array.isArray(n.controller.control)?n.controller.control.forEach(ee=>{!ee.destroyed&&ee.params.loop&&ee.loopFix(E)}):n.controller.control instanceof n.constructor&&n.controller.control.params.loop&&n.controller.control.loopFix(E)}n.emit("loopFix")}function gG(){const e=this,{params:t,slidesEl:s}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const a=[];e.slides.forEach(c=>{const h=typeof c.swiperSlideIndex>"u"?c.getAttribute("data-swiper-slide-index")*1:c.swiperSlideIndex;a[h]=c}),e.slides.forEach(c=>{c.removeAttribute("data-swiper-slide-index")}),a.forEach(c=>{s.append(c)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}const _G={loopCreate:fG,loopFix:mG,loopDestroy:gG};function yG(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const s=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),s.style.cursor="move",s.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function vG(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}const xG={setGrabCursor:yG,unsetGrabCursor:vG};function bG(e,t=this){function s(a){if(!a||a===r0()||a===Wc())return null;a.assignedSlot&&(a=a.assignedSlot);const c=a.closest(e);return!c&&!a.getRootNode?null:c||s(a.getRootNode().host)}return s(t)}function wG(e){const t=this,s=r0(),a=Wc(),c=t.touchEventsData;c.evCache.push(e);const{params:h,touches:m,enabled:n}=t;if(!n||!h.simulateTouch&&e.pointerType==="mouse"||t.animating&&h.preventInteractionOnTransition)return;!t.animating&&h.cssMode&&h.loop&&t.loopFix();let x=e;x.originalEvent&&(x=x.originalEvent);let z=x.target;if(h.touchEventsTarget==="wrapper"&&!t.wrapperEl.contains(z)||"which"in x&&x.which===3||"button"in x&&x.button>0||c.isTouched&&c.isMoved)return;const Y=!!h.noSwipingClass&&h.noSwipingClass!=="",O=e.composedPath?e.composedPath():e.path;Y&&x.target&&x.target.shadowRoot&&O&&(z=O[0]);const V=h.noSwipingSelector?h.noSwipingSelector:`.${h.noSwipingClass}`,q=!!(x.target&&x.target.shadowRoot);if(h.noSwiping&&(q?bG(V,z):z.closest(V))){t.allowClick=!0;return}if(h.swipeHandler&&!z.closest(h.swipeHandler))return;m.currentX=x.pageX,m.currentY=x.pageY;const L=m.currentX,I=m.currentY,H=h.edgeSwipeDetection||h.iOSEdgeSwipeDetection,M=h.edgeSwipeThreshold||h.iOSEdgeSwipeThreshold;if(H&&(L<=M||L>=a.innerWidth-M))if(H==="prevent")e.preventDefault();else return;Object.assign(c,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),m.startX=L,m.startY=I,c.touchStartTime=Yv(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,h.threshold>0&&(c.allowThresholdMove=!1);let C=!0;z.matches(c.focusableElements)&&(C=!1,z.nodeName==="SELECT"&&(c.isTouched=!1)),s.activeElement&&s.activeElement.matches(c.focusableElements)&&s.activeElement!==z&&s.activeElement.blur();const A=C&&t.allowTouchMove&&h.touchStartPreventDefault;(h.touchStartForcePreventDefault||A)&&!z.isContentEditable&&x.preventDefault(),t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!h.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",x)}function SG(e){const t=r0(),s=this,a=s.touchEventsData,{params:c,touches:h,rtlTranslate:m,enabled:n}=s;if(!n||!c.simulateTouch&&e.pointerType==="mouse")return;let x=e;if(x.originalEvent&&(x=x.originalEvent),!a.isTouched){a.startMoving&&a.isScrolling&&s.emit("touchMoveOpposite",x);return}const z=a.evCache.findIndex(E=>E.pointerId===x.pointerId);z>=0&&(a.evCache[z]=x);const Y=a.evCache.length>1?a.evCache[0]:x,O=Y.pageX,V=Y.pageY;if(x.preventedByNestedSwiper){h.startX=O,h.startY=V;return}if(!s.allowTouchMove){x.target.matches(a.focusableElements)||(s.allowClick=!1),a.isTouched&&(Object.assign(h,{startX:O,startY:V,prevX:s.touches.currentX,prevY:s.touches.currentY,currentX:O,currentY:V}),a.touchStartTime=Yv());return}if(c.touchReleaseOnEdges&&!c.loop){if(s.isVertical()){if(V<h.startY&&s.translate<=s.maxTranslate()||V>h.startY&&s.translate>=s.minTranslate()){a.isTouched=!1,a.isMoved=!1;return}}else if(O<h.startX&&s.translate<=s.maxTranslate()||O>h.startX&&s.translate>=s.minTranslate())return}if(t.activeElement&&x.target===t.activeElement&&x.target.matches(a.focusableElements)){a.isMoved=!0,s.allowClick=!1;return}if(a.allowTouchCallbacks&&s.emit("touchMove",x),x.targetTouches&&x.targetTouches.length>1)return;h.currentX=O,h.currentY=V;const q=h.currentX-h.startX,L=h.currentY-h.startY;if(s.params.threshold&&Math.sqrt(q**2+L**2)<s.params.threshold)return;if(typeof a.isScrolling>"u"){let E;s.isHorizontal()&&h.currentY===h.startY||s.isVertical()&&h.currentX===h.startX?a.isScrolling=!1:q*q+L*L>=25&&(E=Math.atan2(Math.abs(L),Math.abs(q))*180/Math.PI,a.isScrolling=s.isHorizontal()?E>c.touchAngle:90-E>c.touchAngle)}if(a.isScrolling&&s.emit("touchMoveOpposite",x),typeof a.startMoving>"u"&&(h.currentX!==h.startX||h.currentY!==h.startY)&&(a.startMoving=!0),a.isScrolling||s.zoom&&s.params.zoom&&s.params.zoom.enabled&&a.evCache.length>1){a.isTouched=!1;return}if(!a.startMoving)return;s.allowClick=!1,!c.cssMode&&x.cancelable&&x.preventDefault(),c.touchMoveStopPropagation&&!c.nested&&x.stopPropagation();let I=s.isHorizontal()?q:L,H=s.isHorizontal()?h.currentX-h.previousX:h.currentY-h.previousY;c.oneWayMovement&&(I=Math.abs(I)*(m?1:-1),H=Math.abs(H)*(m?1:-1)),h.diff=I,I*=c.touchRatio,m&&(I=-I,H=-H);const M=s.touchesDirection;s.swipeDirection=I>0?"prev":"next",s.touchesDirection=H>0?"prev":"next";const C=s.params.loop&&!c.cssMode;if(!a.isMoved){if(C&&s.loopFix({direction:s.swipeDirection}),a.startTranslate=s.getTranslate(),s.setTransition(0),s.animating){const E=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});s.wrapperEl.dispatchEvent(E)}a.allowMomentumBounce=!1,c.grabCursor&&(s.allowSlideNext===!0||s.allowSlidePrev===!0)&&s.setGrabCursor(!0),s.emit("sliderFirstMove",x)}let A;a.isMoved&&M!==s.touchesDirection&&C&&Math.abs(I)>=1&&(s.loopFix({direction:s.swipeDirection,setTranslate:!0}),A=!0),s.emit("sliderMove",x),a.isMoved=!0,a.currentTranslate=I+a.startTranslate;let U=!0,$=c.resistanceRatio;if(c.touchReleaseOnEdges&&($=0),I>0?(C&&!A&&a.currentTranslate>(c.centeredSlides?s.minTranslate()-s.size/2:s.minTranslate())&&s.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),a.currentTranslate>s.minTranslate()&&(U=!1,c.resistance&&(a.currentTranslate=s.minTranslate()-1+(-s.minTranslate()+a.startTranslate+I)**$))):I<0&&(C&&!A&&a.currentTranslate<(c.centeredSlides?s.maxTranslate()+s.size/2:s.maxTranslate())&&s.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:s.slides.length-(c.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(parseFloat(c.slidesPerView,10)))}),a.currentTranslate<s.maxTranslate()&&(U=!1,c.resistance&&(a.currentTranslate=s.maxTranslate()+1-(s.maxTranslate()-a.startTranslate-I)**$))),U&&(x.preventedByNestedSwiper=!0),!s.allowSlideNext&&s.swipeDirection==="next"&&a.currentTranslate<a.startTranslate&&(a.currentTranslate=a.startTranslate),!s.allowSlidePrev&&s.swipeDirection==="prev"&&a.currentTranslate>a.startTranslate&&(a.currentTranslate=a.startTranslate),!s.allowSlidePrev&&!s.allowSlideNext&&(a.currentTranslate=a.startTranslate),c.threshold>0)if(Math.abs(I)>c.threshold||a.allowThresholdMove){if(!a.allowThresholdMove){a.allowThresholdMove=!0,h.startX=h.currentX,h.startY=h.currentY,a.currentTranslate=a.startTranslate,h.diff=s.isHorizontal()?h.currentX-h.startX:h.currentY-h.startY;return}}else{a.currentTranslate=a.startTranslate;return}!c.followFinger||c.cssMode||((c.freeMode&&c.freeMode.enabled&&s.freeMode||c.watchSlidesProgress)&&(s.updateActiveIndex(),s.updateSlidesClasses()),s.params.freeMode&&c.freeMode.enabled&&s.freeMode&&s.freeMode.onTouchMove(),s.updateProgress(a.currentTranslate),s.setTranslate(a.currentTranslate))}function TG(e){const t=this,s=t.touchEventsData,a=s.evCache.findIndex(A=>A.pointerId===e.pointerId);if(a>=0&&s.evCache.splice(a,1),["pointercancel","pointerout","pointerleave"].includes(e.type)&&!(e.type==="pointercancel"&&(t.browser.isSafari||t.browser.isWebView)))return;const{params:c,touches:h,rtlTranslate:m,slidesGrid:n,enabled:x}=t;if(!x||!c.simulateTouch&&e.pointerType==="mouse")return;let z=e;if(z.originalEvent&&(z=z.originalEvent),s.allowTouchCallbacks&&t.emit("touchEnd",z),s.allowTouchCallbacks=!1,!s.isTouched){s.isMoved&&c.grabCursor&&t.setGrabCursor(!1),s.isMoved=!1,s.startMoving=!1;return}c.grabCursor&&s.isMoved&&s.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const Y=Yv(),O=Y-s.touchStartTime;if(t.allowClick){const A=z.path||z.composedPath&&z.composedPath();t.updateClickedSlide(A&&A[0]||z.target),t.emit("tap click",z),O<300&&Y-s.lastClickTime<300&&t.emit("doubleTap doubleClick",z)}if(s.lastClickTime=Yv(),Kw(()=>{t.destroyed||(t.allowClick=!0)}),!s.isTouched||!s.isMoved||!t.swipeDirection||h.diff===0||s.currentTranslate===s.startTranslate){s.isTouched=!1,s.isMoved=!1,s.startMoving=!1;return}s.isTouched=!1,s.isMoved=!1,s.startMoving=!1;let V;if(c.followFinger?V=m?t.translate:-t.translate:V=-s.currentTranslate,c.cssMode)return;if(t.params.freeMode&&c.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:V});return}let q=0,L=t.slidesSizesGrid[0];for(let A=0;A<n.length;A+=A<c.slidesPerGroupSkip?1:c.slidesPerGroup){const U=A<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;typeof n[A+U]<"u"?V>=n[A]&&V<n[A+U]&&(q=A,L=n[A+U]-n[A]):V>=n[A]&&(q=A,L=n[n.length-1]-n[n.length-2])}let I=null,H=null;c.rewind&&(t.isBeginning?H=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(I=0));const M=(V-n[q])/L,C=q<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;if(O>c.longSwipesMs){if(!c.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(M>=c.longSwipesRatio?t.slideTo(c.rewind&&t.isEnd?I:q+C):t.slideTo(q)),t.swipeDirection==="prev"&&(M>1-c.longSwipesRatio?t.slideTo(q+C):H!==null&&M<0&&Math.abs(M)>c.longSwipesRatio?t.slideTo(H):t.slideTo(q))}else{if(!c.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(z.target===t.navigation.nextEl||z.target===t.navigation.prevEl)?z.target===t.navigation.nextEl?t.slideTo(q+C):t.slideTo(q):(t.swipeDirection==="next"&&t.slideTo(I!==null?I:q+C),t.swipeDirection==="prev"&&t.slideTo(H!==null?H:q))}}function F5(){const e=this,{params:t,el:s}=e;if(s&&s.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:a,allowSlidePrev:c,snapGrid:h}=e,m=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const n=m&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!n?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!m?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=c,e.allowSlideNext=a,e.params.watchOverflow&&h!==e.snapGrid&&e.checkOverflow()}function CG(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function EG(){const e=this,{wrapperEl:t,rtlTranslate:s,enabled:a}=e;if(!a)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let c;const h=e.maxTranslate()-e.minTranslate();h===0?c=0:c=(e.translate-e.minTranslate())/h,c!==e.progress&&e.updateProgress(s?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function MG(e){const t=this;gv(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}let j5=!1;function AG(){}const R8=(e,t)=>{const s=r0(),{params:a,el:c,wrapperEl:h,device:m}=e,n=!!a.nested,x=t==="on"?"addEventListener":"removeEventListener",z=t;c[x]("pointerdown",e.onTouchStart,{passive:!1}),s[x]("pointermove",e.onTouchMove,{passive:!1,capture:n}),s[x]("pointerup",e.onTouchEnd,{passive:!0}),s[x]("pointercancel",e.onTouchEnd,{passive:!0}),s[x]("pointerout",e.onTouchEnd,{passive:!0}),s[x]("pointerleave",e.onTouchEnd,{passive:!0}),(a.preventClicks||a.preventClicksPropagation)&&c[x]("click",e.onClick,!0),a.cssMode&&h[x]("scroll",e.onScroll),a.updateOnWindowResize?e[z](m.ios||m.android?"resize orientationchange observerUpdate":"resize observerUpdate",F5,!0):e[z]("observerUpdate",F5,!0),c[x]("load",e.onLoad,{capture:!0})};function kG(){const e=this,t=r0(),{params:s}=e;e.onTouchStart=wG.bind(e),e.onTouchMove=SG.bind(e),e.onTouchEnd=TG.bind(e),s.cssMode&&(e.onScroll=EG.bind(e)),e.onClick=CG.bind(e),e.onLoad=MG.bind(e),j5||(t.addEventListener("touchstart",AG),j5=!0),R8(e,"on")}function PG(){R8(this,"off")}const DG={attachEvents:kG,detachEvents:PG},U5=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function IG(){const e=this,{realIndex:t,initialized:s,params:a,el:c}=e,h=a.breakpoints;if(!h||h&&Object.keys(h).length===0)return;const m=e.getBreakpoint(h,e.params.breakpointsBase,e.el);if(!m||e.currentBreakpoint===m)return;const x=(m in h?h[m]:void 0)||e.originalParams,z=U5(e,a),Y=U5(e,x),O=a.enabled;z&&!Y?(c.classList.remove(`${a.containerModifierClass}grid`,`${a.containerModifierClass}grid-column`),e.emitContainerClasses()):!z&&Y&&(c.classList.add(`${a.containerModifierClass}grid`),(x.grid.fill&&x.grid.fill==="column"||!x.grid.fill&&a.grid.fill==="column")&&c.classList.add(`${a.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(I=>{const H=a[I]&&a[I].enabled,M=x[I]&&x[I].enabled;H&&!M&&e[I].disable(),!H&&M&&e[I].enable()});const V=x.direction&&x.direction!==a.direction,q=a.loop&&(x.slidesPerView!==a.slidesPerView||V);V&&s&&e.changeDirection(),Bc(e.params,x);const L=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),O&&!L?e.disable():!O&&L&&e.enable(),e.currentBreakpoint=m,e.emit("_beforeBreakpoint",x),q&&s&&(e.loopDestroy(),e.loopCreate(t),e.updateSlides()),e.emit("breakpoint",x)}function LG(e,t="window",s){if(!e||t==="container"&&!s)return;let a=!1;const c=Wc(),h=t==="window"?c.innerHeight:s.clientHeight,m=Object.keys(e).map(n=>{if(typeof n=="string"&&n.indexOf("@")===0){const x=parseFloat(n.substr(1));return{value:h*x,point:n}}return{value:n,point:n}});m.sort((n,x)=>parseInt(n.value,10)-parseInt(x.value,10));for(let n=0;n<m.length;n+=1){const{point:x,value:z}=m[n];t==="window"?c.matchMedia(`(min-width: ${z}px)`).matches&&(a=x):z<=s.clientWidth&&(a=x)}return a||"max"}const OG={setBreakpoint:IG,getBreakpoint:LG};function RG(e,t){const s=[];return e.forEach(a=>{typeof a=="object"?Object.keys(a).forEach(c=>{a[c]&&s.push(t+c)}):typeof a=="string"&&s.push(t+a)}),s}function BG(){const e=this,{classNames:t,params:s,rtl:a,el:c,device:h}=e,m=RG(["initialized",s.direction,{"free-mode":e.params.freeMode&&s.freeMode.enabled},{autoheight:s.autoHeight},{rtl:a},{grid:s.grid&&s.grid.rows>1},{"grid-column":s.grid&&s.grid.rows>1&&s.grid.fill==="column"},{android:h.android},{ios:h.ios},{"css-mode":s.cssMode},{centered:s.cssMode&&s.centeredSlides},{"watch-progress":s.watchSlidesProgress}],s.containerModifierClass);t.push(...m),c.classList.add(...t),e.emitContainerClasses()}function zG(){const e=this,{el:t,classNames:s}=e;t.classList.remove(...s),e.emitContainerClasses()}const NG={addClasses:BG,removeClasses:zG};function FG(){const e=this,{isLocked:t,params:s}=e,{slidesOffsetBefore:a}=s;if(a){const c=e.slides.length-1,h=e.slidesGrid[c]+e.slidesSizesGrid[c]+a*2;e.isLocked=e.size>h}else e.isLocked=e.snapGrid.length===1;s.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),s.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}const jG={checkOverflow:FG},$5={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function UG(e,t){return function(a={}){const c=Object.keys(a)[0],h=a[c];if(typeof h!="object"||h===null){Bc(t,a);return}if(["navigation","pagination","scrollbar"].indexOf(c)>=0&&e[c]===!0&&(e[c]={auto:!0}),!(c in e&&"enabled"in h)){Bc(t,a);return}e[c]===!0&&(e[c]={enabled:!0}),typeof e[c]=="object"&&!("enabled"in e[c])&&(e[c].enabled=!0),e[c]||(e[c]={enabled:!1}),Bc(t,a)}}const lw={eventsEmitter:N$,update:X$,translate:tG,transition:rG,slide:pG,loop:_G,grabCursor:xG,events:DG,breakpoints:OG,checkOverflow:jG,classes:NG},cw={};let X1=class lu{constructor(...t){let s,a;t.length===1&&t[0].constructor&&Object.prototype.toString.call(t[0]).slice(8,-1)==="Object"?a=t[0]:[s,a]=t,a||(a={}),a=Bc({},a),s&&!a.el&&(a.el=s);const c=r0();if(a.el&&typeof a.el=="string"&&c.querySelectorAll(a.el).length>1){const x=[];return c.querySelectorAll(a.el).forEach(z=>{const Y=Bc({},a,{el:z});x.push(new lu(Y))}),x}const h=this;h.__swiper__=!0,h.support=L8(),h.device=L$({userAgent:a.userAgent}),h.browser=R$(),h.eventsListeners={},h.eventsAnyListeners=[],h.modules=[...h.__modules__],a.modules&&Array.isArray(a.modules)&&h.modules.push(...a.modules);const m={};h.modules.forEach(x=>{x({params:a,swiper:h,extendParams:UG(a,m),on:h.on.bind(h),once:h.once.bind(h),off:h.off.bind(h),emit:h.emit.bind(h)})});const n=Bc({},$5,m);return h.params=Bc({},n,cw,a),h.originalParams=Bc({},h.params),h.passedParams=Bc({},a),h.params&&h.params.on&&Object.keys(h.params.on).forEach(x=>{h.on(x,h.params.on[x])}),h.params&&h.params.onAny&&h.onAny(h.params.onAny),Object.assign(h,{enabled:h.params.enabled,el:s,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return h.params.direction==="horizontal"},isVertical(){return h.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:h.params.allowSlideNext,allowSlidePrev:h.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:h.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:h.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),h.emit("_swiper"),h.params.init&&h.init(),h}getSlideIndex(t){const{slidesEl:s,params:a}=this,c=Mh(s,`.${a.slideClass}, swiper-slide`),h=Jw(c[0]);return Jw(t)-h}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(s=>s.getAttribute("data-swiper-slide-index")*1===t)[0])}recalcSlides(){const t=this,{slidesEl:s,params:a}=t;t.slides=Mh(s,`.${a.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,s){const a=this;t=Math.min(Math.max(t,0),1);const c=a.minTranslate(),m=(a.maxTranslate()-c)*t+c;a.translateTo(m,typeof s>"u"?0:s),a.updateActiveIndex(),a.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const s=t.el.className.split(" ").filter(a=>a.indexOf("swiper")===0||a.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",s.join(" "))}getSlideClasses(t){const s=this;return s.destroyed?"":t.className.split(" ").filter(a=>a.indexOf("swiper-slide")===0||a.indexOf(s.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const s=[];t.slides.forEach(a=>{const c=t.getSlideClasses(a);s.push({slideEl:a,classNames:c}),t.emit("_slideClass",a,c)}),t.emit("_slideClasses",s)}slidesPerViewDynamic(t="current",s=!1){const a=this,{params:c,slides:h,slidesGrid:m,slidesSizesGrid:n,size:x,activeIndex:z}=a;let Y=1;if(c.centeredSlides){let O=h[z].swiperSlideSize,V;for(let q=z+1;q<h.length;q+=1)h[q]&&!V&&(O+=h[q].swiperSlideSize,Y+=1,O>x&&(V=!0));for(let q=z-1;q>=0;q-=1)h[q]&&!V&&(O+=h[q].swiperSlideSize,Y+=1,O>x&&(V=!0))}else if(t==="current")for(let O=z+1;O<h.length;O+=1)(s?m[O]+n[O]-m[z]<x:m[O]-m[z]<x)&&(Y+=1);else for(let O=z-1;O>=0;O-=1)m[z]-m[O]<x&&(Y+=1);return Y}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:s,params:a}=t;a.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(m=>{m.complete&&gv(t,m)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function c(){const m=t.rtlTranslate?t.translate*-1:t.translate,n=Math.min(Math.max(m,t.maxTranslate()),t.minTranslate());t.setTranslate(n),t.updateActiveIndex(),t.updateSlidesClasses()}let h;if(t.params.freeMode&&t.params.freeMode.enabled)c(),t.params.autoHeight&&t.updateAutoHeight();else{if((t.params.slidesPerView==="auto"||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides){const m=t.virtual&&t.params.virtual.enabled?t.virtual.slides:t.slides;h=t.slideTo(m.length-1,0,!1,!0)}else h=t.slideTo(t.activeIndex,0,!1,!0);h||c()}a.watchOverflow&&s!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,s=!0){const a=this,c=a.params.direction;return t||(t=c==="horizontal"?"vertical":"horizontal"),t===c||t!=="horizontal"&&t!=="vertical"||(a.el.classList.remove(`${a.params.containerModifierClass}${c}`),a.el.classList.add(`${a.params.containerModifierClass}${t}`),a.emitContainerClasses(),a.params.direction=t,a.slides.forEach(h=>{t==="vertical"?h.style.width="":h.style.height=""}),a.emit("changeDirection"),s&&a.update()),a}changeLanguageDirection(t){const s=this;s.rtl&&t==="rtl"||!s.rtl&&t==="ltr"||(s.rtl=t==="rtl",s.rtlTranslate=s.params.direction==="horizontal"&&s.rtl,s.rtl?(s.el.classList.add(`${s.params.containerModifierClass}rtl`),s.el.dir="rtl"):(s.el.classList.remove(`${s.params.containerModifierClass}rtl`),s.el.dir="ltr"),s.update())}mount(t){const s=this;if(s.mounted)return!0;let a=t||s.params.el;if(typeof a=="string"&&(a=document.querySelector(a)),!a)return!1;a.swiper=s,a.shadowEl&&(s.isElement=!0);const c=()=>`.${(s.params.wrapperClass||"").trim().split(" ").join(".")}`;let m=(()=>a&&a.shadowRoot&&a.shadowRoot.querySelector?a.shadowRoot.querySelector(c()):Mh(a,c())[0])();return!m&&s.params.createElements&&(m=US("div",s.params.wrapperClass),a.append(m),Mh(a,`.${s.params.slideClass}`).forEach(n=>{m.append(n)})),Object.assign(s,{el:a,wrapperEl:m,slidesEl:s.isElement?a:m,mounted:!0,rtl:a.dir.toLowerCase()==="rtl"||mp(a,"direction")==="rtl",rtlTranslate:s.params.direction==="horizontal"&&(a.dir.toLowerCase()==="rtl"||mp(a,"direction")==="rtl"),wrongRTL:mp(m,"display")==="-webkit-box"}),!0}init(t){const s=this;return s.initialized||s.mount(t)===!1||(s.emit("beforeInit"),s.params.breakpoints&&s.setBreakpoint(),s.addClasses(),s.updateSize(),s.updateSlides(),s.params.watchOverflow&&s.checkOverflow(),s.params.grabCursor&&s.enabled&&s.setGrabCursor(),s.params.loop&&s.virtual&&s.params.virtual.enabled?s.slideTo(s.params.initialSlide+s.virtual.slidesBefore,0,s.params.runCallbacksOnInit,!1,!0):s.slideTo(s.params.initialSlide,0,s.params.runCallbacksOnInit,!1,!0),s.params.loop&&s.loopCreate(),s.attachEvents(),[...s.el.querySelectorAll('[loading="lazy"]')].forEach(c=>{c.complete?gv(s,c):c.addEventListener("load",h=>{gv(s,h.target)})}),Qw(s),s.initialized=!0,Qw(s),s.emit("init"),s.emit("afterInit")),s}destroy(t=!0,s=!0){const a=this,{params:c,el:h,wrapperEl:m,slides:n}=a;return typeof a.params>"u"||a.destroyed||(a.emit("beforeDestroy"),a.initialized=!1,a.detachEvents(),c.loop&&a.loopDestroy(),s&&(a.removeClasses(),h.removeAttribute("style"),m.removeAttribute("style"),n&&n.length&&n.forEach(x=>{x.classList.remove(c.slideVisibleClass,c.slideActiveClass,c.slideNextClass,c.slidePrevClass),x.removeAttribute("style"),x.removeAttribute("data-swiper-slide-index")})),a.emit("destroy"),Object.keys(a.eventsListeners).forEach(x=>{a.off(x)}),t!==!1&&(a.el.swiper=null,T$(a)),a.destroyed=!0),null}static extendDefaults(t){Bc(cw,t)}static get extendedDefaults(){return cw}static get defaults(){return $5}static installModule(t){lu.prototype.__modules__||(lu.prototype.__modules__=[]);const s=lu.prototype.__modules__;typeof t=="function"&&s.indexOf(t)<0&&s.push(t)}static use(t){return Array.isArray(t)?(t.forEach(s=>lu.installModule(s)),lu):(lu.installModule(t),lu)}};Object.keys(lw).forEach(e=>{Object.keys(lw[e]).forEach(t=>{X1.prototype[t]=lw[e][t]})});X1.use([B$,z$]);function $G(e,t,s,a){return e.params.createElements&&Object.keys(a).forEach(c=>{if(!s[c]&&s.auto===!0){let h=Mh(e.el,`.${a[c]}`)[0];h||(h=US("div",a[c]),h.className=a[c],e.el.append(h)),s[c]=h,t[c]=h}}),s}function GG({swiper:e,extendParams:t,on:s,emit:a}){t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const c=L=>(Array.isArray(L)||(L=[L].filter(I=>!!I)),L);function h(L){let I;return L&&typeof L=="string"&&e.isElement&&(I=e.el.shadowRoot.querySelector(L),I)?I:(L&&(typeof L=="string"&&(I=[...document.querySelectorAll(L)]),e.params.uniqueNavElements&&typeof L=="string"&&I.length>1&&e.el.querySelectorAll(L).length===1&&(I=e.el.querySelector(L))),L&&!I?L:I)}function m(L,I){const H=e.params.navigation;L=c(L),L.forEach(M=>{M&&(M.classList[I?"add":"remove"](...H.disabledClass.split(" ")),M.tagName==="BUTTON"&&(M.disabled=I),e.params.watchOverflow&&e.enabled&&M.classList[e.isLocked?"add":"remove"](H.lockClass))})}function n(){const{nextEl:L,prevEl:I}=e.navigation;if(e.params.loop){m(I,!1),m(L,!1);return}m(I,e.isBeginning&&!e.params.rewind),m(L,e.isEnd&&!e.params.rewind)}function x(L){L.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),a("navigationPrev"))}function z(L){L.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),a("navigationNext"))}function Y(){const L=e.params.navigation;if(e.params.navigation=$G(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(L.nextEl||L.prevEl))return;let I=h(L.nextEl),H=h(L.prevEl);Object.assign(e.navigation,{nextEl:I,prevEl:H}),I=c(I),H=c(H);const M=(C,A)=>{C&&C.addEventListener("click",A==="next"?z:x),!e.enabled&&C&&C.classList.add(...L.lockClass.split(" "))};I.forEach(C=>M(C,"next")),H.forEach(C=>M(C,"prev"))}function O(){let{nextEl:L,prevEl:I}=e.navigation;L=c(L),I=c(I);const H=(M,C)=>{M.removeEventListener("click",C==="next"?z:x),M.classList.remove(...e.params.navigation.disabledClass.split(" "))};L.forEach(M=>H(M,"next")),I.forEach(M=>H(M,"prev"))}s("init",()=>{e.params.navigation.enabled===!1?q():(Y(),n())}),s("toEdge fromEdge lock unlock",()=>{n()}),s("destroy",()=>{O()}),s("enable disable",()=>{let{nextEl:L,prevEl:I}=e.navigation;L=c(L),I=c(I),[...L,...I].filter(H=>!!H).forEach(H=>H.classList[e.enabled?"remove":"add"](e.params.navigation.lockClass))}),s("click",(L,I)=>{let{nextEl:H,prevEl:M}=e.navigation;H=c(H),M=c(M);const C=I.target;if(e.params.navigation.hideOnClick&&!M.includes(C)&&!H.includes(C)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===C||e.pagination.el.contains(C)))return;let A;H.length?A=H[0].classList.contains(e.params.navigation.hiddenClass):M.length&&(A=M[0].classList.contains(e.params.navigation.hiddenClass)),a(A===!0?"navigationShow":"navigationHide"),[...H,...M].filter(U=>!!U).forEach(U=>U.classList.toggle(e.params.navigation.hiddenClass))}});const V=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),Y(),n()},q=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),O()};Object.assign(e.navigation,{enable:V,disable:q,update:n,init:Y,destroy:O})}function dw(e=""){return`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function VG({swiper:e,extendParams:t,on:s}){t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),e.a11y={clicked:!1};let a=null;function c(P){const f=a;f.length!==0&&(f.innerHTML="",f.innerHTML=P)}const h=P=>(Array.isArray(P)||(P=[P].filter(f=>!!f)),P);function m(P=16){const f=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(P).replace(/x/g,f)}function n(P){P=h(P),P.forEach(f=>{f.setAttribute("tabIndex","0")})}function x(P){P=h(P),P.forEach(f=>{f.setAttribute("tabIndex","-1")})}function z(P,f){P=h(P),P.forEach(g=>{g.setAttribute("role",f)})}function Y(P,f){P=h(P),P.forEach(g=>{g.setAttribute("aria-roledescription",f)})}function O(P,f){P=h(P),P.forEach(g=>{g.setAttribute("aria-controls",f)})}function V(P,f){P=h(P),P.forEach(g=>{g.setAttribute("aria-label",f)})}function q(P,f){P=h(P),P.forEach(g=>{g.setAttribute("id",f)})}function L(P,f){P=h(P),P.forEach(g=>{g.setAttribute("aria-live",f)})}function I(P){P=h(P),P.forEach(f=>{f.setAttribute("aria-disabled",!0)})}function H(P){P=h(P),P.forEach(f=>{f.setAttribute("aria-disabled",!1)})}function M(P){if(P.keyCode!==13&&P.keyCode!==32)return;const f=e.params.a11y,g=P.target;e.pagination&&e.pagination.el&&(g===e.pagination.el||e.pagination.el.contains(P.target))&&!P.target.matches(dw(e.params.pagination.bulletClass))||(e.navigation&&e.navigation.nextEl&&g===e.navigation.nextEl&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?c(f.lastSlideMessage):c(f.nextSlideMessage)),e.navigation&&e.navigation.prevEl&&g===e.navigation.prevEl&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?c(f.firstSlideMessage):c(f.prevSlideMessage)),e.pagination&&g.matches(dw(e.params.pagination.bulletClass))&&g.click())}function C(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:P,prevEl:f}=e.navigation;f&&(e.isBeginning?(I(f),x(f)):(H(f),n(f))),P&&(e.isEnd?(I(P),x(P)):(H(P),n(P)))}function A(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function U(){return A()&&e.params.pagination.clickable}function $(){const P=e.params.a11y;A()&&e.pagination.bullets.forEach(f=>{e.params.pagination.clickable&&(n(f),e.params.pagination.renderBullet||(z(f,"button"),V(f,P.paginationBulletMessage.replace(/\{\{index\}\}/,Jw(f)+1)))),f.matches(dw(e.params.pagination.bulletActiveClass))?f.setAttribute("aria-current","true"):f.removeAttribute("aria-current")})}const E=(P,f,g)=>{n(P),P.tagName!=="BUTTON"&&(z(P,"button"),P.addEventListener("keydown",M)),V(P,g),O(P,f)},ee=()=>{e.a11y.clicked=!0},Q=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},N=P=>{if(e.a11y.clicked)return;const f=P.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!f||!e.slides.includes(f))return;const g=e.slides.indexOf(f)===e.activeIndex,b=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(f);g||b||P.sourceCapabilities&&P.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,e.slideTo(e.slides.indexOf(f),0))},j=()=>{const P=e.params.a11y;P.itemRoleDescriptionMessage&&Y(e.slides,P.itemRoleDescriptionMessage),P.slideRole&&z(e.slides,P.slideRole);const f=e.slides.length;P.slideLabelMessage&&e.slides.forEach((g,b)=>{const D=e.params.loop?parseInt(g.getAttribute("data-swiper-slide-index"),10):b,X=P.slideLabelMessage.replace(/\{\{index\}\}/,D+1).replace(/\{\{slidesLength\}\}/,f);V(g,X)})},W=()=>{const P=e.params.a11y;e.isElement?e.el.shadowEl.append(a):e.el.append(a);const f=e.el;P.containerRoleDescriptionMessage&&Y(f,P.containerRoleDescriptionMessage),P.containerMessage&&V(f,P.containerMessage);const g=e.wrapperEl,b=P.id||g.getAttribute("id")||`swiper-wrapper-${m(16)}`,D=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";q(g,b),L(g,D),j();let{nextEl:X,prevEl:te}=e.navigation?e.navigation:{};X=h(X),te=h(te),X&&X.forEach(Z=>E(Z,b,P.nextSlideMessage)),te&&te.forEach(Z=>E(Z,b,P.prevSlideMessage)),U()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(de=>{de.addEventListener("keydown",M)}),e.el.addEventListener("focus",N,!0),e.el.addEventListener("pointerdown",ee,!0),e.el.addEventListener("pointerup",Q,!0)};function S(){a&&a.remove();let{nextEl:P,prevEl:f}=e.navigation?e.navigation:{};P=h(P),f=h(f),P&&P.forEach(g=>g.removeEventListener("keydown",M)),f&&f.forEach(g=>g.removeEventListener("keydown",M)),U()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(b=>{b.removeEventListener("keydown",M)}),e.el.removeEventListener("focus",N,!0),e.el.removeEventListener("pointerdown",ee,!0),e.el.removeEventListener("pointerup",Q,!0)}s("beforeInit",()=>{a=US("span",e.params.a11y.notificationClass),a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true")}),s("afterInit",()=>{e.params.a11y.enabled&&W()}),s("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&j()}),s("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&C()}),s("paginationUpdate",()=>{e.params.a11y.enabled&&$()}),s("destroy",()=>{e.params.a11y.enabled&&S()})}function Qf(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function gp(e,t){const s=["__proto__","constructor","prototype"];Object.keys(t).filter(a=>s.indexOf(a)<0).forEach(a=>{typeof e[a]>"u"?e[a]=t[a]:Qf(t[a])&&Qf(e[a])&&Object.keys(t[a]).length>0?t[a].__swiper__?e[a]=t[a]:gp(e[a],t[a]):e[a]=t[a]})}function B8(e={}){return e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function z8(e={}){return e.pagination&&typeof e.pagination.el>"u"}function N8(e={}){return e.scrollbar&&typeof e.scrollbar.el>"u"}function F8(e=""){const t=e.split(" ").map(a=>a.trim()).filter(a=>!!a),s=[];return t.forEach(a=>{s.indexOf(a)<0&&s.push(a)}),s.join(" ")}function HG(e=""){return e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}const j8=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function G5(e={},t=!0){const s={on:{}},a={},c={};gp(s,X1.defaults),gp(s,X1.extendedDefaults),s._emitClasses=!0,s.init=!1;const h={},m=j8.map(x=>x.replace(/_/,"")),n=Object.assign({},e);return Object.keys(n).forEach(x=>{typeof e[x]>"u"||(m.indexOf(x)>=0?Qf(e[x])?(s[x]={},c[x]={},gp(s[x],e[x]),gp(c[x],e[x])):(s[x]=e[x],c[x]=e[x]):x.search(/on[A-Z]/)===0&&typeof e[x]=="function"?t?a[`${x[2].toLowerCase()}${x.substr(3)}`]=e[x]:s.on[`${x[2].toLowerCase()}${x.substr(3)}`]=e[x]:h[x]=e[x])}),["navigation","pagination","scrollbar"].forEach(x=>{s[x]===!0&&(s[x]={}),s[x]===!1&&delete s[x]}),{params:s,passedParams:c,rest:h,events:a}}function WG({el:e,nextEl:t,prevEl:s,paginationEl:a,scrollbarEl:c,swiper:h},m){B8(m)&&t&&s&&(h.params.navigation.nextEl=t,h.originalParams.navigation.nextEl=t,h.params.navigation.prevEl=s,h.originalParams.navigation.prevEl=s),z8(m)&&a&&(h.params.pagination.el=a,h.originalParams.pagination.el=a),N8(m)&&c&&(h.params.scrollbar.el=c,h.originalParams.scrollbar.el=c),h.init(e)}function YG(e,t,s,a,c){const h=[];if(!t)return h;const m=x=>{h.indexOf(x)<0&&h.push(x)};if(s&&a){const x=a.map(c),z=s.map(c);x.join("")!==z.join("")&&m("children"),a.length!==s.length&&m("children")}return j8.filter(x=>x[0]==="_").map(x=>x.replace(/_/,"")).forEach(x=>{if(x in e&&x in t)if(Qf(e[x])&&Qf(t[x])){const z=Object.keys(e[x]),Y=Object.keys(t[x]);z.length!==Y.length?m(x):(z.forEach(O=>{e[x][O]!==t[x][O]&&m(x)}),Y.forEach(O=>{e[x][O]!==t[x][O]&&m(x)}))}else e[x]!==t[x]&&m(x)}),h}function hw(e,t,s){e===void 0&&(e={});const a=[],c={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},h=(m,n)=>{Array.isArray(m)&&m.forEach(x=>{const z=typeof x.type=="symbol";n==="default"&&(n="container-end"),z&&x.children?h(x.children,n):x.type&&(x.type.name==="SwiperSlide"||x.type.name==="AsyncComponentWrapper")?a.push(x):c[n]&&c[n].push(x)})};return Object.keys(e).forEach(m=>{if(typeof e[m]!="function")return;const n=e[m]();h(n,m)}),s.value=t.value,t.value=a,{slides:a,slots:c}}function qG({swiper:e,slides:t,passedParams:s,changedParams:a,nextEl:c,prevEl:h,scrollbarEl:m,paginationEl:n}){const x=a.filter(Q=>Q!=="children"&&Q!=="direction"&&Q!=="wrapperClass"),{params:z,pagination:Y,navigation:O,scrollbar:V,virtual:q,thumbs:L}=e;let I,H,M,C,A,U,$,E;a.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&z.thumbs&&!z.thumbs.swiper&&(I=!0),a.includes("controller")&&s.controller&&s.controller.control&&z.controller&&!z.controller.control&&(H=!0),a.includes("pagination")&&s.pagination&&(s.pagination.el||n)&&(z.pagination||z.pagination===!1)&&Y&&!Y.el&&(M=!0),a.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||m)&&(z.scrollbar||z.scrollbar===!1)&&V&&!V.el&&(C=!0),a.includes("navigation")&&s.navigation&&(s.navigation.prevEl||h)&&(s.navigation.nextEl||c)&&(z.navigation||z.navigation===!1)&&O&&!O.prevEl&&!O.nextEl&&(A=!0);const ee=Q=>{e[Q]&&(e[Q].destroy(),Q==="navigation"?(e.isElement&&(e[Q].prevEl.remove(),e[Q].nextEl.remove()),z[Q].prevEl=void 0,z[Q].nextEl=void 0,e[Q].prevEl=void 0,e[Q].nextEl=void 0):(e.isElement&&e[Q].el.remove(),z[Q].el=void 0,e[Q].el=void 0))};a.includes("loop")&&e.isElement&&(z.loop&&!s.loop?U=!0:!z.loop&&s.loop?$=!0:E=!0),x.forEach(Q=>{if(Qf(z[Q])&&Qf(s[Q]))gp(z[Q],s[Q]),(Q==="navigation"||Q==="pagination"||Q==="scrollbar")&&"enabled"in s[Q]&&!s[Q].enabled&&ee(Q);else{const N=s[Q];(N===!0||N===!1)&&(Q==="navigation"||Q==="pagination"||Q==="scrollbar")?N===!1&&ee(Q):z[Q]=s[Q]}}),x.includes("controller")&&!H&&e.controller&&e.controller.control&&z.controller&&z.controller.control&&(e.controller.control=z.controller.control),a.includes("children")&&t&&q&&z.virtual.enabled&&(q.slides=t,q.update(!0)),a.includes("children")&&t&&z.loop&&(E=!0),I&&L.init()&&L.update(!0),H&&(e.controller.control=z.controller.control),M&&(e.isElement&&(!n||typeof n=="string")&&(n=document.createElement("div"),n.classList.add("swiper-pagination"),e.el.shadowEl.appendChild(n)),n&&(z.pagination.el=n),Y.init(),Y.render(),Y.update()),C&&(e.isElement&&(!m||typeof m=="string")&&(m=document.createElement("div"),m.classList.add("swiper-scrollbar"),e.el.shadowEl.appendChild(m)),m&&(z.scrollbar.el=m),V.init(),V.updateSize(),V.setTranslate()),A&&(e.isElement&&((!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-button-next"),e.el.shadowEl.appendChild(c)),(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-button-prev"),e.el.shadowEl.appendChild(h))),c&&(z.navigation.nextEl=c),h&&(z.navigation.prevEl=h),O.init(),O.update()),a.includes("allowSlideNext")&&(e.allowSlideNext=s.allowSlideNext),a.includes("allowSlidePrev")&&(e.allowSlidePrev=s.allowSlidePrev),a.includes("direction")&&e.changeDirection(s.direction,!1),(U||E)&&e.loopDestroy(),($||E)&&e.loopCreate(),e.update()}function XG(e,t,s){if(!s)return null;const a=Y=>{let O=Y;return Y<0?O=t.length+Y:O>=t.length&&(O=O-t.length),O},c=e.value.isHorizontal()?{[e.value.rtlTranslate?"right":"left"]:`${s.offset}px`}:{top:`${s.offset}px`},{from:h,to:m}=s,n=e.value.params.loop?-t.length:0,x=e.value.params.loop?t.length*2:t.length,z=[];for(let Y=n;Y<x;Y+=1)Y>=h&&Y<=m&&z.push(t[a(Y)]);return z.map(Y=>(Y.props||(Y.props={}),Y.props.style||(Y.props.style={}),Y.props.swiperRef=e,Y.props.style=c,cc(Y.type,{...Y.props},Y.children)))}const ZG=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())},KG={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(e,t){let{slots:s,emit:a}=t;const{tag:c,wrapperTag:h}=e,m=ks("swiper"),n=ks(null),x=ks(!1),z=ks(!1),Y=ks(null),O=ks(null),V=ks(null),q={value:[]},L={value:[]},I=ks(null),H=ks(null),M=ks(null),C=ks(null),{params:A,passedParams:U}=G5(e,!1);hw(s,q,L),V.value=U,L.value=q.value;const $=()=>{hw(s,q,L),x.value=!0};A.onAny=function(Q){for(var N=arguments.length,j=new Array(N>1?N-1:0),W=1;W<N;W++)j[W-1]=arguments[W];a(Q,...j)},Object.assign(A.on,{_beforeBreakpoint:$,_containerClasses(Q,N){m.value=N}});const E={...A};if(delete E.wrapperClass,O.value=new X1(E),O.value.virtual&&O.value.params.virtual.enabled){O.value.virtual.slides=q.value;const Q={cache:!1,slides:q.value,renderExternal:N=>{n.value=N},renderExternalUpdate:!1};gp(O.value.params.virtual,Q),gp(O.value.originalParams.virtual,Q)}i0(()=>{!z.value&&O.value&&(O.value.emitSlidesClasses(),z.value=!0);const{passedParams:Q}=G5(e,!1),N=YG(Q,V.value,q.value,L.value,j=>j.props&&j.props.key);V.value=Q,(N.length||x.value)&&O.value&&!O.value.destroyed&&qG({swiper:O.value,slides:q.value,passedParams:Q,changedParams:N,nextEl:I.value,prevEl:H.value,scrollbarEl:C.value,paginationEl:M.value}),x.value=!1}),Mp("swiper",O),Gr(n,()=>{Eh(()=>{ZG(O.value)})}),Gc(()=>{Y.value&&(WG({el:Y.value,nextEl:I.value,prevEl:H.value,paginationEl:M.value,scrollbarEl:C.value,swiper:O.value},A),a("swiper",O.value))}),Bp(()=>{O.value&&!O.value.destroyed&&O.value.destroy(!0,!1)});function ee(Q){return A.virtual?XG(O,Q,n.value):(Q.forEach((N,j)=>{N.props||(N.props={}),N.props.swiperRef=O,N.props.swiperSlideIndex=j}),Q)}return()=>{const{slides:Q,slots:N}=hw(s,q,L);return cc(c,{ref:Y,class:F8(m.value)},[N["container-start"],cc(h,{class:HG(A.wrapperClass)},[N["wrapper-start"],ee(Q),N["wrapper-end"]]),B8(e)&&[cc("div",{ref:H,class:"swiper-button-prev"}),cc("div",{ref:I,class:"swiper-button-next"})],N8(e)&&cc("div",{ref:C,class:"swiper-scrollbar"}),z8(e)&&cc("div",{ref:M,class:"swiper-pagination"}),N["container-end"]])}}},JG={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(e,t){let{slots:s}=t,a=!1;const{swiperRef:c}=e,h=ks(null),m=ks("swiper-slide"),n=ks(!1);function x(O,V,q){V===h.value&&(m.value=q)}Gc(()=>{!c||!c.value||(c.value.on("_slideClass",x),a=!0)}),i_(()=>{a||!c||!c.value||(c.value.on("_slideClass",x),a=!0)}),i0(()=>{!h.value||!c||!c.value||(typeof e.swiperSlideIndex<"u"&&(h.value.swiperSlideIndex=e.swiperSlideIndex),c.value.destroyed&&m.value!=="swiper-slide"&&(m.value="swiper-slide"))}),Bp(()=>{!c||!c.value||c.value.off("_slideClass",x)});const z=ts(()=>({isActive:m.value.indexOf("swiper-slide-active")>=0,isVisible:m.value.indexOf("swiper-slide-visible")>=0,isPrev:m.value.indexOf("swiper-slide-prev")>=0,isNext:m.value.indexOf("swiper-slide-next")>=0}));Mp("swiperSlide",z);const Y=()=>{n.value=!0};return()=>cc(e.tag,{class:F8(`${m.value}`),ref:h,"data-swiper-slide-index":typeof e.virtualIndex>"u"&&c&&c.value&&c.value.params.loop?e.swiperSlideIndex:e.virtualIndex,onLoadCapture:Y},e.zoom?cc("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof e.zoom=="number"?e.zoom:void 0},[s.default&&s.default(z.value),e.lazy&&!n.value&&cc("div",{class:"swiper-lazy-preloader"})]):[s.default&&s.default(z.value),e.lazy&&!n.value&&cc("div",{class:"swiper-lazy-preloader"})])}},QG={props:{fleet:Object,active:String},components:{Swiper:KG,SwiperSlide:JG},setup(){return{auto:!0,onSwiper:s=>{},onSlideChange:()=>{},modules:[GG,VG]}}},eV={class:"swiper-button-prev"},tV=["src"],iV=["href"],nV=["href"],sV=["href"],rV=["href"],oV=["href"],aV=["href"],lV=["href"],cV={class:"swiper-button-next"},dV=["src"];function hV(e,t,s,a,c,h){const m=Un("swiper-slide"),n=Un("swiper");return yt(),ja(n,{"slides-per-view":"auto","space-between":0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},onSwiper:a.onSwiper,onSlideChange:a.onSlideChange},{default:To(()=>[Ne("div",eV,[Ne("img",{src:"/img/icons/chevron-prev.png",alt:""},null,8,tV)]),Qi(m,null,{default:To(()=>[Ne("a",{href:`/fleet/${s.fleet.id}`,class:Xn(["submenu-item",{active:s.active=="info"}])},"NAVIGASI",10,iV)]),_:1}),Qi(m,null,{default:To(()=>[Ne("a",{href:`/fleet/${s.fleet.id}/engine`,class:Xn(["submenu-item",{active:s.active=="engine"}])},"MAIN ENGINE",10,nV)]),_:1}),Qi(m,null,{default:To(()=>[Ne("a",{href:`/fleet/${s.fleet.id}/pumps`,class:Xn(["submenu-item",{active:s.active=="pumps"}])},"PUMPS",10,sV)]),_:1}),Qi(m,null,{default:To(()=>[Ne("a",{href:`/fleet/${s.fleet.id}/cargo`,class:Xn(["submenu-item",{active:s.active=="cargo"}])},"CARGO TANK",10,rV)]),_:1}),Qi(m,null,{default:To(()=>[Ne("a",{href:`/fleet/${s.fleet.id}/bunker`,class:Xn(["submenu-item",{active:s.active=="bunker"}])},"BUNKER TANK",10,oV)]),_:1}),Qi(m,null,{default:To(()=>[Ne("a",{href:`/fleet/${s.fleet.id}/balast`,class:Xn(["submenu-item",{active:s.active=="balast"}])},"BALAST TANK",10,aV)]),_:1}),Qi(m,null,{default:To(()=>[Ne("a",{href:`/fleet/${s.fleet.id}/alarms`,class:Xn(["submenu-item",{active:s.active=="alarms"}])},"ALARM",10,lV)]),_:1}),Ne("div",cV,[Ne("img",{src:"/img/icons/chevron-next.png",alt:""},null,8,dV)])]),_:1},8,["navigation","onSwiper","onSlideChange"])}const uV=Jn(QG,[["render",hV]]);var U8={exports:{}},uw={exports:{}},V5;function $8(){return V5||(V5=1,function(e){(function(t,s){e.exports?(s.default=s,e.exports=t.document?s(t):s):(t.Highcharts&&t.Highcharts.error(16,!0),t.Highcharts=s(t))})(typeof window<"u"?window:la,function(t){function s(c,h,m,n){c.hasOwnProperty(h)||(c[h]=n.apply(null,m),typeof CustomEvent=="function"&&t.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:h,module:c[h]}})))}var a={};return s(a,"Core/Globals.js",[],function(){var c;return function(h){h.SVG_NS="http://www.w3.org/2000/svg",h.product="Highcharts",h.version="11.0.1",h.win=typeof t<"u"?t:{},h.doc=h.win.document,h.svg=h.doc&&h.doc.createElementNS&&!!h.doc.createElementNS(h.SVG_NS,"svg").createSVGRect,h.userAgent=h.win.navigator&&h.win.navigator.userAgent||"",h.isChrome=h.userAgent.indexOf("Chrome")!==-1,h.isFirefox=h.userAgent.indexOf("Firefox")!==-1,h.isMS=/(edge|msie|trident)/i.test(h.userAgent)&&!h.win.opera,h.isSafari=!h.isChrome&&h.userAgent.indexOf("Safari")!==-1,h.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(h.userAgent),h.isWebKit=h.userAgent.indexOf("AppleWebKit")!==-1,h.deg2rad=2*Math.PI/360,h.hasBidiBug=h.isFirefox&&4>parseInt(h.userAgent.split("Firefox/")[1],10),h.hasTouch=!!h.win.TouchEvent,h.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],h.noop=function(){},h.supportsPassiveEvents=function(){let m=!1;if(!h.isMS){const n=Object.defineProperty({},"passive",{get:function(){m=!0}});h.win.addEventListener&&h.win.removeEventListener&&(h.win.addEventListener("testPassive",h.noop,n),h.win.removeEventListener("testPassive",h.noop,n))}return m}(),h.charts=[],h.dateFormats={},h.seriesTypes={},h.symbolSizes={},h.chartCount=0}(c||(c={})),c}),s(a,"Core/Utilities.js",[a["Core/Globals.js"]],function(c){function h(g,b,D,X){const te=b?"Highcharts error":"Highcharts warning";g===32&&(g=`${te}: Deprecated member`);const Z=q(g);let de=Z?`${te} #${g}: www.highcharts.com/errors/${g}/`:g.toString();if(typeof X<"u"){let ge="";Z&&(de+="?"),E(X,function(Ce,J){ge+=`
 - ${J}: ${Ce}`,Z&&(de+=encodeURI(J)+"="+encodeURI(Ce))}),de+=ge}Q(c,"displayError",{chart:D,code:g,message:de,params:X},function(){if(b)throw Error(de);W.console&&h.messages.indexOf(de)===-1&&console.warn(de)}),h.messages.push(de)}function m(g,b){const D={};return E(g,function(X,te){Y(g[te],!0)&&!g.nodeType&&b[te]?(X=m(g[te],b[te]),Object.keys(X).length&&(D[te]=X)):(Y(g[te])||g[te]!==b[te]||te in g&&!(te in b))&&(D[te]=g[te])}),D}function n(g,b){return parseInt(g,b||10)}function x(g){return typeof g=="string"}function z(g){return g=Object.prototype.toString.call(g),g==="[object Array]"||g==="[object Array Iterator]"}function Y(g,b){return!!g&&typeof g=="object"&&(!b||!z(g))}function O(g){return Y(g)&&typeof g.nodeType=="number"}function V(g){const b=g&&g.constructor;return!(!Y(g,!0)||O(g)||!b||!b.name||b.name==="Object")}function q(g){return typeof g=="number"&&!isNaN(g)&&1/0>g&&-1/0<g}function L(g){return typeof g<"u"&&g!==null}function I(g,b,D){const X=x(b)&&!L(D);let te;const Z=(de,ge)=>{L(de)?g.setAttribute(ge,de):X?(te=g.getAttribute(ge))||ge!=="class"||(te=g.getAttribute(ge+"Name")):g.removeAttribute(ge)};return x(b)?Z(D,b):E(b,Z),te}function H(g,b){let D;g||(g={});for(D in b)g[D]=b[D];return g}function M(){const g=arguments,b=g.length;for(let D=0;D<b;D++){const X=g[D];if(typeof X<"u"&&X!==null)return X}}function C(g,b){c.isMS&&!c.svg&&b&&L(b.opacity)&&(b.filter=`alpha(opacity=${100*b.opacity})`),H(g.style,b)}function A(g){return Math.pow(10,Math.floor(Math.log(g)/Math.LN10))}function U(g,b){return 1e14<g?g:parseFloat(g.toPrecision(b||14))}function $(g,b,D){let X;return b==="width"?(b=Math.min(g.offsetWidth,g.scrollWidth),D=g.getBoundingClientRect&&g.getBoundingClientRect().width,D<b&&D>=b-1&&(b=Math.floor(D)),Math.max(0,b-($(g,"padding-left",!0)||0)-($(g,"padding-right",!0)||0))):b==="height"?Math.max(0,Math.min(g.offsetHeight,g.scrollHeight)-($(g,"padding-top",!0)||0)-($(g,"padding-bottom",!0)||0)):((g=W.getComputedStyle(g,void 0))&&(X=g.getPropertyValue(b),M(D,b!=="opacity")&&(X=n(X))),X)}function E(g,b,D){for(const X in g)Object.hasOwnProperty.call(g,X)&&b.call(D||g[X],g[X],X,g)}function ee(g,b,D){function X(de,ge){const Ce=g.removeEventListener;Ce&&Ce.call(g,de,ge,!1)}function te(de){let ge,Ce;g.nodeName&&(b?(ge={},ge[b]=!0):ge=de,E(ge,function(J,oe){if(de[oe])for(Ce=de[oe].length;Ce--;)X(oe,de[oe][Ce].fn)}))}var Z=typeof g=="function"&&g.prototype||g;if(Object.hasOwnProperty.call(Z,"hcEvents")){const de=Z.hcEvents;b?(Z=de[b]||[],D?(de[b]=Z.filter(function(ge){return D!==ge.fn}),X(b,D)):(te(de),de[b]=[])):(te(de),delete Z.hcEvents)}}function Q(g,b,D,X){if(D=D||{},j.createEvent&&(g.dispatchEvent||g.fireEvent&&g!==c)){var te=j.createEvent("Events");te.initEvent(b,!0,!0),D=H(te,D),g.dispatchEvent?g.dispatchEvent(D):g.fireEvent(b,D)}else if(g.hcEvents){D.target||H(D,{preventDefault:function(){D.defaultPrevented=!0},target:g,type:b}),te=[];let Z=g,de=!1;for(;Z.hcEvents;)Object.hasOwnProperty.call(Z,"hcEvents")&&Z.hcEvents[b]&&(te.length&&(de=!0),te.unshift.apply(te,Z.hcEvents[b])),Z=Object.getPrototypeOf(Z);de&&te.sort((ge,Ce)=>ge.order-Ce.order),te.forEach(ge=>{ge.fn.call(g,D)===!1&&D.preventDefault()})}X&&!D.defaultPrevented&&X.call(g,D)}const{charts:N,doc:j,win:W}=c;(h||(h={})).messages=[],Math.easeInOutSine=function(g){return-.5*(Math.cos(Math.PI*g)-1)};var S=Array.prototype.find?function(g,b){return g.find(b)}:function(g,b){let D;const X=g.length;for(D=0;D<X;D++)if(b(g[D],D))return g[D]};E({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(g,b){c[b]=function(D){return h(32,!1,void 0,{[`Highcharts.${b}`]:`use Array.${g}`}),Array.prototype[g].apply(D,[].slice.call(arguments,1))}});let P;const f=function(){const g=Math.random().toString(36).substring(2,9)+"-";let b=0;return function(){return"highcharts-"+(P?"":g)+b++}}();return W.jQuery&&(W.jQuery.fn.highcharts=function(){const g=[].slice.call(arguments);if(this[0])return g[0]?(new c[x(g[0])?g.shift():"Chart"](this[0],g[0],g[1]),this):N[I(this[0],"data-highcharts-chart")]}),S={addEvent:function(g,b,D,X={}){var te=typeof g=="function"&&g.prototype||g;Object.hasOwnProperty.call(te,"hcEvents")||(te.hcEvents={}),te=te.hcEvents,c.Point&&g instanceof c.Point&&g.series&&g.series.chart&&(g.series.chart.runTrackerClick=!0);const Z=g.addEventListener;return Z&&Z.call(g,b,D,c.supportsPassiveEvents?{passive:X.passive===void 0?b.indexOf("touch")!==-1:X.passive,capture:!1}:!1),te[b]||(te[b]=[]),te[b].push({fn:D,order:typeof X.order=="number"?X.order:1/0}),te[b].sort((de,ge)=>de.order-ge.order),function(){ee(g,b,D)}},arrayMax:function(g){let b=g.length,D=g[0];for(;b--;)g[b]>D&&(D=g[b]);return D},arrayMin:function(g){let b=g.length,D=g[0];for(;b--;)g[b]<D&&(D=g[b]);return D},attr:I,clamp:function(g,b,D){return g>b?g<D?g:D:b},cleanRecursively:m,clearTimeout:function(g){L(g)&&clearTimeout(g)},correctFloat:U,createElement:function(g,b,D,X,te){return g=j.createElement(g),b&&H(g,b),te&&C(g,{padding:"0",border:"none",margin:"0"}),D&&C(g,D),X&&X.appendChild(g),g},css:C,defined:L,destroyObjectProperties:function(g,b){E(g,function(D,X){D&&D!==b&&D.destroy&&D.destroy(),delete g[X]})},discardElement:function(g){g&&g.parentElement&&g.parentElement.removeChild(g)},erase:function(g,b){let D=g.length;for(;D--;)if(g[D]===b){g.splice(D,1);break}},error:h,extend:H,extendClass:function(g,b){const D=function(){};return D.prototype=new g,H(D.prototype,b),D},find:S,fireEvent:Q,getMagnitude:A,getNestedProperty:function(g,b){for(g=g.split(".");g.length&&L(b);){const D=g.shift();if(typeof D>"u"||D==="__proto__"||(b=b[D],!L(b)||typeof b=="function"||typeof b.nodeType=="number"||b===W))return}return b},getStyle:$,inArray:function(g,b,D){return h(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),b.indexOf(g,D)},isArray:z,isClass:V,isDOMElement:O,isFunction:function(g){return typeof g=="function"},isNumber:q,isObject:Y,isString:x,keys:function(g){return h(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(g)},merge:function(){let g,b=arguments,D={};const X=function(Z,de){return typeof Z!="object"&&(Z={}),E(de,function(ge,Ce){Ce!=="__proto__"&&Ce!=="constructor"&&(!Y(ge,!0)||V(ge)||O(ge)?Z[Ce]=de[Ce]:Z[Ce]=X(Z[Ce]||{},ge))}),Z};b[0]===!0&&(D=b[1],b=Array.prototype.slice.call(b,2));const te=b.length;for(g=0;g<te;g++)D=X(D,b[g]);return D},normalizeTickInterval:function(g,b,D,X,te){let Z=g;D=M(D,A(g));const de=g/D;for(b||(b=te?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],X===!1&&(D===1?b=b.filter(function(ge){return ge%1===0}):.1>=D&&(b=[1/D]))),X=0;X<b.length&&(Z=b[X],!(te&&Z*D>=g||!te&&de<=(b[X]+(b[X+1]||b[X]))/2));X++);return Z=U(Z*D,-Math.round(Math.log(.001)/Math.LN10))},objectEach:E,offset:function(g){const b=j.documentElement;return g=g.parentElement||g.parentNode?g.getBoundingClientRect():{top:0,left:0,width:0,height:0},{top:g.top+(W.pageYOffset||b.scrollTop)-(b.clientTop||0),left:g.left+(W.pageXOffset||b.scrollLeft)-(b.clientLeft||0),width:g.width,height:g.height}},pad:function(g,b,D){return Array((b||2)+1-String(g).replace("-","").length).join(D||"0")+g},pick:M,pInt:n,pushUnique:function(g,b){return 0>g.indexOf(b)&&!!g.push(b)},relativeLength:function(g,b,D){return/%$/.test(g)?b*parseFloat(g)/100+(D||0):parseFloat(g)},removeEvent:ee,splat:function(g){return z(g)?g:[g]},stableSort:function(g,b){const D=g.length;let X,te;for(te=0;te<D;te++)g[te].safeI=te;for(g.sort(function(Z,de){return X=b(Z,de),X===0?Z.safeI-de.safeI:X}),te=0;te<D;te++)delete g[te].safeI},syncTimeout:function(g,b,D){return 0<b?setTimeout(g,b,D):(g.call(0,D),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:f,useSerialIds:function(g){return P=M(g,P)},wrap:function(g,b,D){const X=g[b];g[b]=function(){const te=arguments,Z=this;return D.apply(this,[function(){return X.apply(Z,arguments.length?arguments:te)}].concat([].slice.call(arguments)))}}},S}),s(a,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},reflow:!0,type:"line",zoomBySingleTouch:!1,zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),s(a,"Core/Color/Color.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(c,h){const{isNumber:m,merge:n,pInt:x}=h;class z{static parse(O){return O?new z(O):z.None}constructor(O){this.rgba=[NaN,NaN,NaN,NaN],this.input=O;const V=c.Color;if(V&&V!==z)return new V(O);this.init(O)}init(O){let V,q;if(typeof O=="object"&&typeof O.stops<"u")this.stops=O.stops.map(H=>new z(H[1]));else if(typeof O=="string"){if(this.input=O=z.names[O.toLowerCase()]||O,O.charAt(0)==="#"){var L=O.length,I=parseInt(O.substr(1),16);L===7?V=[(I&16711680)>>16,(I&65280)>>8,I&255,1]:L===4&&(V=[(I&3840)>>4|(I&3840)>>8,(I&240)>>4|I&240,(I&15)<<4|I&15,1])}if(!V)for(I=z.parsers.length;I--&&!V;)q=z.parsers[I],(L=q.regex.exec(O))&&(V=q.parse(L))}V&&(this.rgba=V)}get(O){const V=this.input,q=this.rgba;if(typeof V=="object"&&typeof this.stops<"u"){const L=n(V);return L.stops=[].slice.call(L.stops),this.stops.forEach((I,H)=>{L.stops[H]=[L.stops[H][0],I.get(O)]}),L}return q&&m(q[0])?O==="rgb"||!O&&q[3]===1?"rgb("+q[0]+","+q[1]+","+q[2]+")":O==="a"?`${q[3]}`:"rgba("+q.join(",")+")":V}brighten(O){const V=this.rgba;if(this.stops)this.stops.forEach(function(q){q.brighten(O)});else if(m(O)&&O!==0)for(let q=0;3>q;q++)V[q]+=x(255*O),0>V[q]&&(V[q]=0),255<V[q]&&(V[q]=255);return this}setOpacity(O){return this.rgba[3]=O,this}tweenTo(O,V){const q=this.rgba,L=O.rgba;return!m(q[0])||!m(L[0])?O.input||"none":(O=L[3]!==1||q[3]!==1,(O?"rgba(":"rgb(")+Math.round(L[0]+(q[0]-L[0])*(1-V))+","+Math.round(L[1]+(q[1]-L[1])*(1-V))+","+Math.round(L[2]+(q[2]-L[2])*(1-V))+(O?","+(L[3]+(q[3]-L[3])*(1-V)):"")+")")}}return z.names={white:"#ffffff",black:"#000000"},z.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(Y){return[x(Y[1]),x(Y[2]),x(Y[3]),parseFloat(Y[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(Y){return[x(Y[1]),x(Y[2]),x(Y[3]),1]}}],z.None=new z(""),z}),s(a,"Core/Color/Palettes.js",[],function(){return{colors:"#2caffe #544fc5 #00e272 #fe6a35 #6b8abc #d568fb #2ee0ca #fa4b42 #feb56a #91e8e1".split(" ")}}),s(a,"Core/Time.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(c,h){const{win:m}=c,{defined:n,error:x,extend:z,isObject:Y,merge:O,objectEach:V,pad:q,pick:L,splat:I,timeUnits:H}=h,M=c.isSafari&&m.Intl&&m.Intl.DateTimeFormat.prototype.formatRange,C=c.isSafari&&m.Intl&&!m.Intl.DateTimeFormat.prototype.formatRange;class A{constructor($){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=m.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update($)}get($,E){if(this.variableTimezone||this.timezoneOffset){const ee=E.getTime(),Q=ee-this.getTimezoneOffset(E);return E.setTime(Q),$=E["getUTC"+$](),E.setTime(ee),$}return this.useUTC?E["getUTC"+$]():E["get"+$]()}set($,E,ee){if(this.variableTimezone||this.timezoneOffset){if($==="Milliseconds"||$==="Seconds"||$==="Minutes"&&this.getTimezoneOffset(E)%36e5===0)return E["setUTC"+$](ee);var Q=this.getTimezoneOffset(E);return Q=E.getTime()-Q,E.setTime(Q),E["setUTC"+$](ee),$=this.getTimezoneOffset(E),Q=E.getTime()+$,E.setTime(Q)}return this.useUTC||M&&$==="FullYear"?E["setUTC"+$](ee):E["set"+$](ee)}update($={}){const E=L($.useUTC,!0);this.options=$=O(!0,this.options,$),this.Date=$.Date||m.Date||Date,this.timezoneOffset=(this.useUTC=E)&&$.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=E&&!(!$.getTimezoneOffset&&!$.timezone)}makeTime($,E,ee,Q,N,j){let W,S,P;return this.useUTC?(W=this.Date.UTC.apply(0,arguments),S=this.getTimezoneOffset(W),W+=S,P=this.getTimezoneOffset(W),S!==P?W+=P-S:S-36e5!==this.getTimezoneOffset(W-36e5)||C||(W-=36e5)):W=new this.Date($,E,L(ee,1),L(Q,0),L(N,0),L(j,0)).getTime(),W}timezoneOffsetFunction(){const $=this,E=this.options,ee=E.getTimezoneOffset,Q=E.moment||m.moment;if(!this.useUTC)return function(N){return 6e4*new Date(N.toString()).getTimezoneOffset()};if(E.timezone){if(Q)return function(N){return 6e4*-Q.tz(N,E.timezone).utcOffset()};x(25)}return this.useUTC&&ee?function(N){return 6e4*ee(N.valueOf())}:function(){return 6e4*($.timezoneOffset||0)}}dateFormat($,E,ee){if(!n(E)||isNaN(E))return c.defaultOptions.lang&&c.defaultOptions.lang.invalidDate||"";$=L($,"%Y-%m-%d %H:%M:%S");const Q=this;var N=new this.Date(E);const j=this.get("Hours",N),W=this.get("Day",N),S=this.get("Date",N),P=this.get("Month",N),f=this.get("FullYear",N),g=c.defaultOptions.lang,b=g&&g.weekdays,D=g&&g.shortWeekdays;return N=z({a:D?D[W]:b[W].substr(0,3),A:b[W],d:q(S),e:q(S,2," "),w:W,b:g.shortMonths[P],B:g.months[P],m:q(P+1),o:P+1,y:f.toString().substr(2,2),Y:f,H:q(j),k:j,I:q(j%12||12),l:j%12||12,M:q(this.get("Minutes",N)),p:12>j?"AM":"PM",P:12>j?"am":"pm",S:q(N.getSeconds()),L:q(Math.floor(E%1e3),3)},c.dateFormats),V(N,function(X,te){for(;$.indexOf("%"+te)!==-1;)$=$.replace("%"+te,typeof X=="function"?X.call(Q,E):X)}),ee?$.substr(0,1).toUpperCase()+$.substr(1):$}resolveDTLFormat($){return Y($,!0)?$:($=I($),{main:$[0],from:$[1],to:$[2]})}getTimeTicks($,E,ee,Q){const N=this,j=[],W={};var S=new N.Date(E);const P=$.unitRange,f=$.count||1;let g;if(Q=L(Q,1),n(E)){if(N.set("Milliseconds",S,P>=H.second?0:f*Math.floor(N.get("Milliseconds",S)/f)),P>=H.second&&N.set("Seconds",S,P>=H.minute?0:f*Math.floor(N.get("Seconds",S)/f)),P>=H.minute&&N.set("Minutes",S,P>=H.hour?0:f*Math.floor(N.get("Minutes",S)/f)),P>=H.hour&&N.set("Hours",S,P>=H.day?0:f*Math.floor(N.get("Hours",S)/f)),P>=H.day&&N.set("Date",S,P>=H.month?1:Math.max(1,f*Math.floor(N.get("Date",S)/f))),P>=H.month){N.set("Month",S,P>=H.year?0:f*Math.floor(N.get("Month",S)/f));var b=N.get("FullYear",S)}P>=H.year&&N.set("FullYear",S,b-b%f),P===H.week&&(b=N.get("Day",S),N.set("Date",S,N.get("Date",S)-b+Q+(b<Q?-7:0))),b=N.get("FullYear",S),Q=N.get("Month",S);const D=N.get("Date",S),X=N.get("Hours",S);for(E=S.getTime(),!N.variableTimezone&&N.useUTC||!n(ee)||(g=ee-E>4*H.month||N.getTimezoneOffset(E)!==N.getTimezoneOffset(ee)),E=S.getTime(),S=1;E<ee;)j.push(E),E=P===H.year?N.makeTime(b+S*f,0):P===H.month?N.makeTime(b,Q+S*f):!g||P!==H.day&&P!==H.week?g&&P===H.hour&&1<f?N.makeTime(b,Q,D,X+S*f):E+P*f:N.makeTime(b,Q,D+S*f*(P===H.day?1:7)),S++;j.push(E),P<=H.hour&&1e4>j.length&&j.forEach(function(te){te%18e5===0&&N.dateFormat("%H%M%S%L",te)==="000000000"&&(W[te]="day")})}return j.info=z($,{higherRanks:W,totalRange:P*f}),j}getDateFormat($,E,ee,Q){const N=this.dateFormat("%m-%d %H:%M:%S.%L",E),j={millisecond:15,second:12,minute:9,hour:6,day:3};let W,S="millisecond";for(W in H){if($===H.week&&+this.dateFormat("%w",E)===ee&&N.substr(6)==="00:00:00.000"){W="week";break}if(H[W]>$){W=S;break}if(j[W]&&N.substr(j[W])!=="01-01 00:00:00.000".substr(j[W]))break;W!=="week"&&(S=W)}return this.resolveDTLFormat(Q[W]).main}}return A}),s(a,"Core/Defaults.js",[a["Core/Chart/ChartDefaults.js"],a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Color/Palettes.js"],a["Core/Time.js"],a["Core/Utilities.js"]],function(c,h,m,n,x,z){const{isTouchDevice:Y,svg:O}=m,{merge:V}=z,q={colors:n.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:c,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:O,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:Y?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};q.chart.styledMode=!1;const L=new x(q.time);return c={defaultOptions:q,defaultTime:L,getOptions:function(){return q},setOptions:function(I){return V(!0,q,I),(I.time||I.global)&&(m.time?m.time.update(V(q.global,q.time,I.global,I.time)):m.time=L),q}},c}),s(a,"Core/Animation/Fx.js",[a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(c,h,m){const{parse:n}=c,{win:x}=h,{isNumber:z,objectEach:Y}=m;class O{constructor(q,L,I){this.pos=NaN,this.options=L,this.elem=q,this.prop=I}dSetter(){var q=this.paths;const L=q&&q[0];q=q&&q[1];const I=this.now||0;let H=[];if(I!==1&&L&&q)if(L.length===q.length&&1>I)for(let M=0;M<q.length;M++){const C=L[M],A=q[M],U=[];for(let $=0;$<A.length;$++){const E=C[$],ee=A[$];z(E)&&z(ee)&&(A[0]!=="A"||$!==4&&$!==5)?U[$]=E+I*(ee-E):U[$]=ee}H.push(U)}else H=q;else H=this.toD||[];this.elem.attr("d",H,void 0,!0)}update(){const q=this.elem,L=this.prop,I=this.now,H=this.options.step;this[L+"Setter"]?this[L+"Setter"]():q.attr?q.element&&q.attr(L,I,null,!0):q.style[L]=I+this.unit,H&&H.call(q,I,this)}run(q,L,I){const H=this,M=H.options,C=function($){return C.stopped?!1:H.step($)},A=x.requestAnimationFrame||function($){setTimeout($,13)},U=function(){for(let $=0;$<O.timers.length;$++)O.timers[$]()||O.timers.splice($--,1);O.timers.length&&A(U)};q!==L||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=q,this.end=L,this.unit=I,this.now=this.start,this.pos=0,C.elem=this.elem,C.prop=this.prop,C()&&O.timers.push(C)===1&&A(U)):(delete M.curAnim[this.prop],M.complete&&Object.keys(M.curAnim).length===0&&M.complete.call(this.elem))}step(q){const L=+new Date,I=this.options,H=this.elem,M=I.complete,C=I.duration,A=I.curAnim;let U;return H.attr&&!H.element?q=!1:q||L>=C+this.startTime?(this.now=this.end,this.pos=1,this.update(),U=A[this.prop]=!0,Y(A,function($){$!==!0&&(U=!1)}),U&&M&&M.call(H),q=!1):(this.pos=I.easing((L-this.startTime)/C),this.now=this.start+(this.end-this.start)*this.pos,this.update(),q=!0),q}initPath(q,L,I){function H(N,j){for(;N.length<ee;){var W=N[0];const S=j[ee-N.length];S&&W[0]==="M"&&(N[0]=S[0]==="C"?["C",W[1],W[2],W[1],W[2],W[1],W[2]]:["L",W[1],W[2]]),N.unshift(W),U&&(W=N.pop(),N.push(N[N.length-1],W))}}function M(N,j){for(;N.length<ee;)if(j=N[Math.floor(N.length/$)-1].slice(),j[0]==="C"&&(j[1]=j[5],j[2]=j[6]),U){const W=N[Math.floor(N.length/$)].slice();N.splice(N.length/2,0,j,W)}else N.push(j)}const C=q.startX,A=q.endX;I=I.slice();const U=q.isArea,$=U?2:1;let E,ee,Q;if(L=L&&L.slice(),!L)return[I,I];if(C&&A&&A.length){for(q=0;q<C.length;q++)if(C[q]===A[0]){E=q;break}else if(C[0]===A[A.length-C.length+q]){E=q,Q=!0;break}else if(C[C.length-1]===A[A.length-C.length+q]){E=C.length-q;break}typeof E>"u"&&(L=[])}return L.length&&z(E)&&(ee=I.length+E*$,Q?(H(L,I),M(I,L)):(H(I,L),M(L,I))),[L,I]}fillSetter(){O.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,n(this.start).tweenTo(n(this.end),this.pos),void 0,!0)}}return O.timers=[],O}),s(a,"Core/Animation/AnimationUtilities.js",[a["Core/Animation/Fx.js"],a["Core/Utilities.js"]],function(c,h){function m(H){return V(H)?q({duration:500,defer:0},H):{duration:H?500:0,defer:0}}function n(H,M){let C=c.timers.length;for(;C--;)c.timers[C].elem!==H||M&&M!==c.timers[C].prop||(c.timers[C].stopped=!0)}const{defined:x,getStyle:z,isArray:Y,isNumber:O,isObject:V,merge:q,objectEach:L,pick:I}=h;return{animate:function(H,M,C){let A,U="",$,E,ee;V(C)||(ee=arguments,C={duration:ee[2],easing:ee[3],complete:ee[4]}),O(C.duration)||(C.duration=400),C.easing=typeof C.easing=="function"?C.easing:Math[C.easing]||Math.easeInOutSine,C.curAnim=q(M),L(M,function(Q,N){n(H,N),E=new c(H,C,N),$=void 0,N==="d"&&Y(M.d)?(E.paths=E.initPath(H,H.pathArray,M.d),E.toD=M.d,A=0,$=1):H.attr?A=H.attr(N):(A=parseFloat(z(H,N))||0,N!=="opacity"&&(U="px")),$||($=Q),typeof $=="string"&&$.match("px")&&($=$.replace(/px/g,"")),E.run(A,$,U)})},animObject:m,getDeferredAnimation:function(H,M,C){const A=m(M);let U=0,$=0;return(C?[C]:H.series).forEach(E=>{E=m(E.options.animation),U=M&&x(M.defer)?A.defer:Math.max(U,E.duration+E.defer),$=Math.min(A.duration,E.duration)}),H.renderer.forExport&&(U=0),{defer:Math.max(0,U-$),duration:Math.min(U,$)}},setAnimation:function(H,M){M.renderer.globalAnimation=I(H,M.options.chart.animation,!0)},stop:n}}),s(a,"Core/Renderer/HTML/AST.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(c,h){const{SVG_NS:m,win:n}=c,{attr:x,createElement:z,css:Y,error:O,isFunction:V,isString:q,objectEach:L,splat:I}=h;({trustedTypes:h}=n);const H=h&&V(h.createPolicy)&&h.createPolicy("highcharts",{createHTML:U=>U});h=H?H.createHTML(""):"";try{var M=!!new DOMParser().parseFromString(h,"text/html")}catch{M=!1}const C=M;class A{static filterUserAttributes($){return L($,(E,ee)=>{let Q=!0;A.allowedAttributes.indexOf(ee)===-1&&(Q=!1),["background","dynsrc","href","lowsrc","src"].indexOf(ee)!==-1&&(Q=q(E)&&A.allowedReferences.some(N=>E.indexOf(N)===0)),Q||(O(33,!1,void 0,{"Invalid attribute in config":`${ee}`}),delete $[ee]),q(E)&&$[ee]&&($[ee]=E.replace(/</g,"&lt;"))}),$}static parseStyle($){return $.split(";").reduce((E,ee)=>{ee=ee.split(":").map(N=>N.trim());const Q=ee.shift();return Q&&ee.length&&(E[Q.replace(/-([a-z])/g,N=>N[1].toUpperCase())]=ee.join(":")),E},{})}static setElementHTML($,E){$.innerHTML=A.emptyHTML,E&&new A(E).addToDOM($)}constructor($){this.nodes=typeof $=="string"?this.parseMarkup($):$}addToDOM($){function E(ee,Q){let N;return I(ee).forEach(function(j){var W=j.tagName;const S=j.textContent?c.doc.createTextNode(j.textContent):void 0,P=A.bypassHTMLFiltering;let f;if(W)if(W==="#text")f=S;else if(A.allowedTags.indexOf(W)!==-1||P){W=c.doc.createElementNS(W==="svg"?m:Q.namespaceURI||m,W);const g=j.attributes||{};L(j,function(b,D){D!=="tagName"&&D!=="attributes"&&D!=="children"&&D!=="style"&&D!=="textContent"&&(g[D]=b)}),x(W,P?g:A.filterUserAttributes(g)),j.style&&Y(W,j.style),S&&W.appendChild(S),E(j.children||[],W),f=W}else O(33,!1,void 0,{"Invalid tagName in config":W});f&&Q.appendChild(f),N=f}),N}return E(this.nodes,$)}parseMarkup($){const E=[];if($=$.trim().replace(/ style=(["'])/g," data-style=$1"),C)$=new DOMParser().parseFromString(H?H.createHTML($):$,"text/html");else{const Q=z("div");Q.innerHTML=$,$={body:Q}}const ee=(Q,N)=>{var j=Q.nodeName.toLowerCase();const W={tagName:j};if(j==="#text"&&(W.textContent=Q.textContent||""),j=Q.attributes){const S={};[].forEach.call(j,P=>{P.name==="data-style"?W.style=A.parseStyle(P.value):S[P.name]=P.value}),W.attributes=S}if(Q.childNodes.length){const S=[];[].forEach.call(Q.childNodes,P=>{ee(P,S)}),S.length&&(W.children=S)}N.push(W)};return[].forEach.call($.body.childNodes,Q=>ee(Q,E)),E}}return A.allowedAttributes="alt aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill flood-color flood-opacity height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" "),A.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),A.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feDropShadow feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" "),A.emptyHTML=h,A.bypassHTMLFiltering=!1,A}),s(a,"Core/FormatUtilities.js",[a["Core/Defaults.js"],a["Core/Utilities.js"]],function(c,h){function m(q,L,I,H){q=+q||0,L=+L;const M=n.lang;var C=(q.toString().split(".")[1]||"").split("e")[0].length;const A=q.toString().split("e"),U=L;if(L===-1)L=Math.min(C,20);else if(!Y(L))L=2;else if(L&&A[1]&&0>A[1]){var $=L+ +A[1];0<=$?(A[0]=(+A[0]).toExponential($).split("e")[0],L=$):(A[0]=A[0].split(".")[0]||0,q=20>L?(A[0]*Math.pow(10,A[1])).toFixed(L):0,A[1]=0)}$=(Math.abs(A[1]?A[0]:q)+Math.pow(10,-Math.max(L,C)-1)).toFixed(L),C=String(V($));const E=3<C.length?C.length%3:0;return I=O(I,M.decimalPoint),H=O(H,M.thousandsSep),q=(0>q?"-":"")+(E?C.substr(0,E)+H:""),q=0>+A[1]&&!U?"0":q+C.substr(E).replace(/(\d{3})(?=\d)/g,"$1"+H),L&&(q+=I+$.slice(-L)),A[1]&&+q!=0&&(q+="e"+A[1]),q}const{defaultOptions:n,defaultTime:x}=c,{getNestedProperty:z,isNumber:Y,pick:O,pInt:V}=h;return{dateFormat:function(q,L,I){return x.dateFormat(q,L,I)},format:function(q,L,I){var H="{";let M=!1,C;const A=/f$/,U=/\.([0-9])/,$=n.lang,E=I&&I.time||x;I=I&&I.numberFormatter||m;const ee=[];for(;q&&(C=q.indexOf(H),C!==-1);){var Q=q.slice(0,C);if(M){if(Q=Q.split(":"),H=z(Q.shift()||"",L),Q.length&&typeof H=="number")if(Q=Q.join(":"),A.test(Q)){const N=parseInt((Q.match(U)||["","-1"])[1],10);H!==null&&(H=I(H,N,$.decimalPoint,-1<Q.indexOf(",")?$.thousandsSep:""))}else H=E.dateFormat(Q,H);ee.push(H)}else ee.push(Q);q=q.slice(C+1),H=(M=!M)?"}":"{"}return ee.push(q),ee.join("")},numberFormat:m}}),s(a,"Core/Renderer/RendererUtilities.js",[a["Core/Utilities.js"]],function(c){const{clamp:h,pick:m,stableSort:n}=c;var x;return function(z){function Y(O,V,q){const L=O;var I=L.reducedLen||V,H=(E,ee)=>(ee.rank||0)-(E.rank||0);const M=(E,ee)=>E.target-ee.target;let C,A=!0,U=[],$=0;for(C=O.length;C--;)$+=O[C].size;if($>I){for(n(O,H),$=C=0;$<=I;)$+=O[C].size,C++;U=O.splice(C-1,O.length)}for(n(O,M),O=O.map(E=>({size:E.size,targets:[E.target],align:m(E.align,.5)}));A;){for(C=O.length;C--;)I=O[C],H=(Math.min.apply(0,I.targets)+Math.max.apply(0,I.targets))/2,I.pos=h(H-I.size*I.align,0,V-I.size);for(C=O.length,A=!1;C--;)0<C&&O[C-1].pos+O[C-1].size>O[C].pos&&(O[C-1].size+=O[C].size,O[C-1].targets=O[C-1].targets.concat(O[C].targets),O[C-1].align=.5,O[C-1].pos+O[C-1].size>V&&(O[C-1].pos=V-O[C-1].size),O.splice(C,1),A=!0)}return L.push.apply(L,U),C=0,O.some(E=>{let ee=0;return(E.targets||[]).some(()=>(L[C].pos=E.pos+ee,typeof q<"u"&&Math.abs(L[C].pos-L[C].target)>q?(L.slice(0,C+1).forEach(Q=>delete Q.pos),L.reducedLen=(L.reducedLen||V)-.1*V,L.reducedLen>.1*V&&Y(L,V,q),!0):(ee+=L[C].size,C++,!1)))}),n(L,M),L}z.distribute=Y}(x||(x={})),x}),s(a,"Core/Renderer/SVG/SVGElement.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(c,h,m,n){const{animate:x,animObject:z,stop:Y}=c,{deg2rad:O,doc:V,svg:q,SVG_NS:L,win:I}=m,{addEvent:H,attr:M,createElement:C,css:A,defined:U,erase:$,extend:E,fireEvent:ee,isArray:Q,isFunction:N,isObject:j,isString:W,merge:S,objectEach:P,pick:f,pInt:g,syncTimeout:b,uniqueKey:D}=n;class X{constructor(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=L}_defaultGetter(Z){return Z=f(this[Z+"Value"],this[Z],this.element?this.element.getAttribute(Z):null,0),/^[\-0-9\.]+$/.test(Z)&&(Z=parseFloat(Z)),Z}_defaultSetter(Z,de,ge){ge.setAttribute(de,Z)}add(Z){const de=this.renderer,ge=this.element;let Ce;return Z&&(this.parentGroup=Z),typeof this.textStr<"u"&&this.element.nodeName==="text"&&de.buildText(this),this.added=!0,(!Z||Z.handleZ||this.zIndex)&&(Ce=this.zIndexSetter()),Ce||(Z?Z.element:de.box).appendChild(ge),this.onAdd&&this.onAdd(),this}addClass(Z,de){const ge=de?"":this.attr("class")||"";return Z=(Z||"").split(/ /g).reduce(function(Ce,J){return ge.indexOf(J)===-1&&Ce.push(J),Ce},ge?[ge]:[]).join(" "),Z!==ge&&this.attr("class",Z),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(Z,de,ge){const Ce={};var J=this.renderer,oe=J.alignedObjects,ce;let pe,Ee;Z?(this.alignOptions=Z,this.alignByTranslate=de,(!ge||W(ge))&&(this.alignTo=ce=ge||"renderer",$(oe,this),oe.push(this),ge=void 0)):(Z=this.alignOptions,de=this.alignByTranslate,ce=this.alignTo),ge=f(ge,J[ce],ce==="scrollablePlotBox"?J.plotBox:void 0,J),ce=Z.align;const ne=Z.verticalAlign;return J=(ge.x||0)+(Z.x||0),oe=(ge.y||0)+(Z.y||0),ce==="right"?pe=1:ce==="center"&&(pe=2),pe&&(J+=(ge.width-(Z.width||0))/pe),Ce[de?"translateX":"x"]=Math.round(J),ne==="bottom"?Ee=1:ne==="middle"&&(Ee=2),Ee&&(oe+=(ge.height-(Z.height||0))/Ee),Ce[de?"translateY":"y"]=Math.round(oe),this[this.placed?"animate":"attr"](Ce),this.placed=!0,this.alignAttr=Ce,this}alignSetter(Z){const de={left:"start",center:"middle",right:"end"};de[Z]&&(this.alignValue=Z,this.element.setAttribute("text-anchor",de[Z]))}animate(Z,de,ge){const Ce=z(f(de,this.renderer.globalAnimation,!0));return de=Ce.defer,V.hidden&&(Ce.duration=0),Ce.duration!==0?(ge&&(Ce.complete=ge),b(()=>{this.element&&x(this,Z,Ce)},de)):(this.attr(Z,void 0,ge||Ce.complete),P(Z,function(J,oe){Ce.step&&Ce.step.call(this,J,{prop:oe,pos:1,elem:this})},this)),this}applyTextOutline(Z){const de=this.element;Z.indexOf("contrast")!==-1&&(Z=Z.replace(/contrast/g,this.renderer.getContrast(de.style.fill)));var ge=Z.split(" ");if(Z=ge[ge.length-1],(ge=ge[0])&&ge!=="none"&&m.svg){this.fakeTS=!0,ge=ge.replace(/(^[\d\.]+)(.*?)$/g,function(oe,ce,pe){return 2*Number(ce)+pe}),this.removeTextOutline();const Ce=V.createElementNS(L,"tspan");M(Ce,{class:"highcharts-text-outline",fill:Z,stroke:Z,"stroke-width":ge,"stroke-linejoin":"round"}),Z=de.querySelector("textPath")||de,[].forEach.call(Z.childNodes,oe=>{const ce=oe.cloneNode(!0);ce.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(pe=>ce.removeAttribute(pe)),Ce.appendChild(ce)});let J=0;[].forEach.call(Z.querySelectorAll("text tspan"),oe=>{J+=Number(oe.getAttribute("dy"))}),ge=V.createElementNS(L,"tspan"),ge.textContent="​",M(ge,{x:Number(de.getAttribute("x")),dy:-J}),Ce.appendChild(ge),Z.insertBefore(Ce,Z.firstChild)}}attr(Z,de,ge,Ce){const J=this.element,oe=X.symbolCustomAttribs;let ce,pe,Ee=this,ne,ye;return typeof Z=="string"&&typeof de<"u"&&(ce=Z,Z={},Z[ce]=de),typeof Z=="string"?Ee=(this[Z+"Getter"]||this._defaultGetter).call(this,Z,J):(P(Z,function(_e,ae){ne=!1,Ce||Y(this,ae),this.symbolName&&oe.indexOf(ae)!==-1&&(pe||(this.symbolAttr(Z),pe=!0),ne=!0),!this.rotation||ae!=="x"&&ae!=="y"||(this.doTransform=!0),ne||(ye=this[ae+"Setter"]||this._defaultSetter,ye.call(this,_e,ae,J))},this),this.afterSetters()),ge&&ge.call(this),Ee}clip(Z){return this.attr("clip-path",Z?"url("+this.renderer.url+"#"+Z.id+")":"none")}crisp(Z,de){de=de||Z.strokeWidth||0;const ge=Math.round(de)%2/2;return Z.x=Math.floor(Z.x||this.x||0)+ge,Z.y=Math.floor(Z.y||this.y||0)+ge,Z.width=Math.floor((Z.width||this.width||0)-2*ge),Z.height=Math.floor((Z.height||this.height||0)-2*ge),U(Z.strokeWidth)&&(Z.strokeWidth=de),Z}complexColor(Z,de,ge){const Ce=this.renderer;let J,oe,ce,pe,Ee,ne,ye,_e,ae,me,we=[],Re;ee(this.renderer,"complexColor",{args:arguments},function(){if(Z.radialGradient?oe="radialGradient":Z.linearGradient&&(oe="linearGradient"),oe){if(ce=Z[oe],Ee=Ce.gradients,ne=Z.stops,ae=ge.radialReference,Q(ce)&&(Z[oe]=ce={x1:ce[0],y1:ce[1],x2:ce[2],y2:ce[3],gradientUnits:"userSpaceOnUse"}),oe==="radialGradient"&&ae&&!U(ce.gradientUnits)&&(pe=ce,ce=S(ce,Ce.getRadialAttr(ae,pe),{gradientUnits:"userSpaceOnUse"})),P(ce,function(Le,$e){$e!=="id"&&we.push($e,Le)}),P(ne,function(Le){we.push(Le)}),we=we.join(","),Ee[we])me=Ee[we].attr("id");else{ce.id=me=D();const Le=Ee[we]=Ce.createElement(oe).attr(ce).add(Ce.defs);Le.radAttr=pe,Le.stops=[],ne.forEach(function($e){$e[1].indexOf("rgba")===0?(J=h.parse($e[1]),ye=J.get("rgb"),_e=J.get("a")):(ye=$e[1],_e=1),$e=Ce.createElement("stop").attr({offset:$e[0],"stop-color":ye,"stop-opacity":_e}).add(Le),Le.stops.push($e)})}Re="url("+Ce.url+"#"+me+")",ge.setAttribute(de,Re),ge.gradient=we,Z.toString=function(){return Re}}})}css(Z){const de=this.styles,ge={},Ce=this.element;let J,oe=!de;if(Z.color&&(Z.fill=Z.color),de&&P(Z,function(ce,pe){de&&de[pe]!==ce&&(ge[pe]=ce,oe=!0)}),oe){de&&(Z=E(de,ge)),Z.width===null||Z.width==="auto"?delete this.textWidth:Ce.nodeName.toLowerCase()==="text"&&Z.width&&(J=this.textWidth=g(Z.width)),this.styles=Z,J&&!q&&this.renderer.forExport&&delete Z.width;const ce=S(Z);Ce.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach(pe=>ce&&delete ce[pe]),A(Ce,ce)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),Z.textOutline&&this.applyTextOutline(Z.textOutline)),this}dashstyleSetter(Z){let de=this["stroke-width"];if(de==="inherit"&&(de=1),Z=Z&&Z.toLowerCase()){const ge=Z.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(Z=ge.length;Z--;)ge[Z]=""+g(ge[Z])*f(de,NaN);Z=ge.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",Z)}}destroy(){const Z=this;var de=Z.element||{};const ge=Z.renderer;var Ce=de.ownerSVGElement;let J=de.nodeName==="SPAN"&&Z.parentGroup||void 0;if(de.onclick=de.onmouseout=de.onmouseover=de.onmousemove=de.point=null,Y(Z),Z.clipPath&&Ce){const oe=Z.clipPath;[].forEach.call(Ce.querySelectorAll("[clip-path],[CLIP-PATH]"),function(ce){-1<ce.getAttribute("clip-path").indexOf(oe.element.id)&&ce.removeAttribute("clip-path")}),Z.clipPath=oe.destroy()}if(Z.stops){for(Ce=0;Ce<Z.stops.length;Ce++)Z.stops[Ce].destroy();Z.stops.length=0,Z.stops=void 0}for(Z.safeRemoveChild(de);J&&J.div&&J.div.childNodes.length===0;)de=J.parentGroup,Z.safeRemoveChild(J.div),delete J.div,J=de;Z.alignTo&&$(ge.alignedObjects,Z),P(Z,function(oe,ce){Z[ce]&&Z[ce].parentGroup===Z&&Z[ce].destroy&&Z[ce].destroy(),delete Z[ce]})}dSetter(Z,de,ge){Q(Z)&&(typeof Z[0]=="string"&&(Z=this.renderer.pathToSegments(Z)),this.pathArray=Z,Z=Z.reduce((Ce,J,oe)=>J&&J.join?(oe?Ce+" ":"")+J.join(" "):(J||"").toString(),"")),/(NaN| {2}|^$)/.test(Z)&&(Z="M 0 0"),this[de]!==Z&&(ge.setAttribute(de,Z),this[de]=Z)}fadeOut(Z){const de=this;de.animate({opacity:0},{duration:f(Z,150),complete:function(){de.hide()}})}fillSetter(Z,de,ge){typeof Z=="string"?ge.setAttribute(de,Z):Z&&this.complexColor(Z,de,ge)}getBBox(Z,de){const{alignValue:ge,element:Ce,renderer:J,styles:oe,textStr:ce}=this,{cache:pe,cacheKeys:Ee}=J;var ne=Ce.namespaceURI===this.SVG_NS;de=f(de,this.rotation,0);var ye=J.styledMode?Ce&&X.prototype.getStyle.call(Ce,"font-size"):oe&&oe.fontSize;let _e,ae;if(U(ce)&&(ae=ce.toString(),ae.indexOf("<")===-1&&(ae=ae.replace(/[0-9]/g,"0")),ae+=["",J.rootFontSize,ye,de,this.textWidth,ge,oe&&oe.textOverflow,oe&&oe.fontWeight].join()),ae&&!Z&&(_e=pe[ae]),!_e){if(ne||J.forExport){try{var me=this.fakeTS&&function(rt){const Qe=Ce.querySelector(".highcharts-text-outline");Qe&&A(Qe,{display:rt})};N(me)&&me("none"),_e=Ce.getBBox?E({},Ce.getBBox()):{width:Ce.offsetWidth,height:Ce.offsetHeight,x:0,y:0},N(me)&&me("")}catch{}(!_e||0>_e.width)&&(_e={x:0,y:0,width:0,height:0})}else _e=this.htmlGetBBox();if(me=_e.width,Z=_e.height,ne&&(_e.height=Z={"11px,17":14,"13px,20":16}[`${ye||""},${Math.round(Z)}`]||Z),de){ne=Number(Ce.getAttribute("y")||0)-_e.y,ye={right:1,center:.5}[ge||0]||0;var we=de*O,Re=(de-90)*O,Le=me*Math.cos(we);de=me*Math.sin(we);var $e=Math.cos(Re);we=Math.sin(Re),me=_e.x+ye*(me-Le)+ne*$e,Re=me+Le,$e=Re-Z*$e,Le=$e-Le,ne=_e.y+ne-ye*de+ne*we,ye=ne+de,Z=ye-Z*we,de=Z-de,_e.x=Math.min(me,Re,$e,Le),_e.y=Math.min(ne,ye,Z,de),_e.width=Math.max(me,Re,$e,Le)-_e.x,_e.height=Math.max(ne,ye,Z,de)-_e.y}}if(ae&&(ce===""||0<_e.height)){for(;250<Ee.length;)delete pe[Ee.shift()];pe[ae]||Ee.push(ae),pe[ae]=_e}return _e}getStyle(Z){return I.getComputedStyle(this.element||this,"").getPropertyValue(Z)}hasClass(Z){return(""+this.attr("class")).split(" ").indexOf(Z)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}init(Z,de){this.element=de==="span"?C(de):V.createElementNS(this.SVG_NS,de),this.renderer=Z,ee(this,"afterInit")}on(Z,de){const{onEvents:ge}=this;return ge[Z]&&ge[Z](),ge[Z]=H(this.element,Z,de),this}opacitySetter(Z,de,ge){this.opacity=Z=Number(Number(Z).toFixed(3)),ge.setAttribute(de,Z)}removeClass(Z){return this.attr("class",(""+this.attr("class")).replace(W(Z)?new RegExp(`(^| )${Z}( |$)`):Z," ").replace(/ +/g," ").trim())}removeTextOutline(){const Z=this.element.querySelector("tspan.highcharts-text-outline");Z&&this.safeRemoveChild(Z)}safeRemoveChild(Z){const de=Z.parentNode;de&&de.removeChild(Z)}setRadialReference(Z){const de=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=Z,de&&de.radAttr&&de.animate(this.renderer.getRadialAttr(Z,de.radAttr)),this}setTextPath(Z,de){de=S(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},de);const ge=this.renderer.url,Ce=this.text||this,J=Ce.textPath,{attributes:oe,enabled:ce}=de;return Z=Z||J&&J.path,J&&J.undo(),Z&&ce?(de=H(Ce,"afterModifyTree",pe=>{if(Z&&ce){let ne=Z.attr("id");ne||Z.attr("id",ne=D());var Ee={x:0,y:0};U(oe.dx)&&(Ee.dx=oe.dx,delete oe.dx),U(oe.dy)&&(Ee.dy=oe.dy,delete oe.dy),Ce.attr(Ee),this.attr({transform:""}),this.box&&(this.box=this.box.destroy()),Ee=pe.nodes.slice(0),pe.nodes.length=0,pe.nodes[0]={tagName:"textPath",attributes:E(oe,{"text-anchor":oe.textAnchor,href:`${ge}#${ne}`}),children:Ee}}}),Ce.textPath={path:Z,undo:de}):(Ce.attr({dx:0,dy:0}),delete Ce.textPath),this.added&&(Ce.textCache="",this.renderer.buildText(Ce)),this}shadow(Z){var de;const{renderer:ge}=this,Ce=S(((de=this.parentGroup)===null||de===void 0?void 0:de.rotation)===90?{offsetX:-1,offsetY:-1}:{},j(Z)?Z:{});return de=ge.shadowDefinition(Ce),this.attr({filter:Z?`url(${ge.url}#${de})`:"none"})}show(Z=!0){return this.attr({visibility:Z?"inherit":"visible"})}"stroke-widthSetter"(Z,de,ge){this[de]=Z,ge.setAttribute(de,Z)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;const Z=this.getStyle("stroke-width");let de=0,ge;return Z.indexOf("px")===Z.length-2?de=g(Z):Z!==""&&(ge=V.createElementNS(L,"rect"),M(ge,{width:Z,"stroke-width":0}),this.element.parentNode.appendChild(ge),de=ge.getBBox().width,ge.parentNode.removeChild(ge)),de}symbolAttr(Z){const de=this;X.symbolCustomAttribs.forEach(function(ge){de[ge]=f(Z[ge],de[ge])}),de.attr({d:de.renderer.symbols[de.symbolName](de.x,de.y,de.width,de.height,de)})}textSetter(Z){Z!==this.textStr&&(delete this.textPxLength,this.textStr=Z,this.added&&this.renderer.buildText(this))}titleSetter(Z){const de=this.element,ge=de.getElementsByTagName("title")[0]||V.createElementNS(this.SVG_NS,"title");de.insertBefore?de.insertBefore(ge,de.firstChild):de.appendChild(ge),ge.textContent=String(f(Z,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){const Z=this.element;return Z.parentNode.appendChild(Z),this}translate(Z,de){return this.attr({translateX:Z,translateY:de})}updateTransform(){const{element:Z,matrix:de,rotation:ge=0,scaleX:Ce,scaleY:J,translateX:oe=0,translateY:ce=0}=this,pe=["translate("+oe+","+ce+")"];U(de)&&pe.push("matrix("+de.join(",")+")"),ge&&pe.push("rotate("+ge+" "+f(this.rotationOriginX,Z.getAttribute("x"),0)+" "+f(this.rotationOriginY,Z.getAttribute("y")||0)+")"),(U(Ce)||U(J))&&pe.push("scale("+f(Ce,1)+" "+f(J,1)+")"),pe.length&&!(this.text||this).textPath&&Z.setAttribute("transform",pe.join(" "))}visibilitySetter(Z,de,ge){Z==="inherit"?ge.removeAttribute(de):this[de]!==Z&&ge.setAttribute(de,Z),this[de]=Z}xGetter(Z){return this.element.nodeName==="circle"&&(Z==="x"?Z="cx":Z==="y"&&(Z="cy")),this._defaultGetter(Z)}zIndexSetter(Z,de){var ge=this.renderer,Ce=this.parentGroup;const J=(Ce||ge).element||ge.box,oe=this.element;ge=J===ge.box;let ce=!1,pe;var Ee=this.added;let ne;if(U(Z)?(oe.setAttribute("data-z-index",Z),Z=+Z,this[de]===Z&&(Ee=!1)):U(this[de])&&oe.removeAttribute("data-z-index"),this[de]=Z,Ee){for((Z=this.zIndex)&&Ce&&(Ce.handleZ=!0),de=J.childNodes,ne=de.length-1;0<=ne&&!ce;ne--)Ce=de[ne],Ee=Ce.getAttribute("data-z-index"),pe=!U(Ee),Ce!==oe&&(0>Z&&pe&&!ge&&!ne?(J.insertBefore(oe,de[ne]),ce=!0):(g(Ee)<=Z||pe&&(!U(Z)||0<=Z))&&(J.insertBefore(oe,de[ne+1]),ce=!0));ce||(J.insertBefore(oe,de[ge?3:0]),ce=!0)}return ce}}return X.symbolCustomAttribs="anchorX anchorY clockwise end height innerR r start width x y".split(" "),X.prototype.strokeSetter=X.prototype.fillSetter,X.prototype.yGetter=X.prototype.xGetter,X.prototype.matrixSetter=X.prototype.rotationOriginXSetter=X.prototype.rotationOriginYSetter=X.prototype.rotationSetter=X.prototype.scaleXSetter=X.prototype.scaleYSetter=X.prototype.translateXSetter=X.prototype.translateYSetter=X.prototype.verticalAlignSetter=function(te,Z){this[Z]=te,this.doTransform=!0},X}),s(a,"Core/Renderer/RendererRegistry.js",[a["Core/Globals.js"]],function(c){var h;return function(m){m.rendererTypes={};let n;m.getRendererType=function(x=n){return m.rendererTypes[x]||m.rendererTypes[n]},m.registerRendererType=function(x,z,Y){m.rendererTypes[x]=z,(!n||Y)&&(n=x,c.Renderer=z)}}(h||(h={})),h}),s(a,"Core/Renderer/SVG/SVGLabel.js",[a["Core/Renderer/SVG/SVGElement.js"],a["Core/Utilities.js"]],function(c,h){const{defined:m,extend:n,isNumber:x,merge:z,pick:Y,removeEvent:O}=h;class V extends c{constructor(L,I,H,M,C,A,U,$,E,ee){super(),this.paddingRightSetter=this.paddingLeftSetter=this.paddingSetter,this.init(L,"g"),this.textStr=I,this.x=H,this.y=M,this.anchorX=A,this.anchorY=U,this.baseline=E,this.className=ee,this.addClass(ee==="button"?"highcharts-no-tooltip":"highcharts-label"),ee&&this.addClass("highcharts-"+ee),this.text=L.text(void 0,0,0,$).attr({zIndex:1});let Q;typeof C=="string"&&((Q=/^url\((.*?)\)$/.test(C))||this.renderer.symbols[C])&&(this.symbolKey=C),this.bBox=V.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=L.styledMode||Q,this.deferredAttr={},this.alignFactor=0}alignSetter(L){L={left:0,center:.5,right:1}[L],L!==this.alignFactor&&(this.alignFactor=L,this.bBox&&x(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(L,I){this.anchorX=L,this.boxAttr(I,Math.round(L)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(L,I){this.anchorY=L,this.boxAttr(I,L-this.ySetting)}boxAttr(L,I){this.box?this.box.attr(L,I):this.deferredAttr[L]=I}css(L){if(L){const I={};L=z(L),V.textProps.forEach(H=>{typeof L[H]<"u"&&(I[H]=L[H],delete L[H])}),this.text.css(I),"fontSize"in I||"fontWeight"in I?this.updateTextPadding():("width"in I||"textOverflow"in I)&&this.updateBoxSize()}return c.prototype.css.call(this,L)}destroy(){O(this.element,"mouseenter"),O(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),c.prototype.destroy.call(this)}fillSetter(L,I){L&&(this.needsBox=!0),this.fill=L,this.boxAttr(I,L)}getBBox(){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();const L=this.padding,I=Y(this.paddingLeft,L);return{width:this.width,height:this.height,x:this.bBox.x-I,y:this.bBox.y-L}}getCrispAdjust(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(L){this.heightSetting=L}onAdd(){this.text.add(this),this.attr({text:Y(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&m(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(L,I){x(L)?L!==this[I]&&(this[I]=L,this.updateTextPadding()):this[I]=void 0}rSetter(L,I){this.boxAttr(I,L)}strokeSetter(L,I){this.stroke=L,this.boxAttr(I,L)}"stroke-widthSetter"(L,I){L&&(this.needsBox=!0),this["stroke-width"]=L,this.boxAttr(I,L)}"text-alignSetter"(L){this.textAlign=L}textSetter(L){typeof L<"u"&&this.text.attr({text:L}),this.updateTextPadding()}updateBoxSize(){var L=this.text;const I={},H=this.padding,M=this.bBox=x(this.widthSetting)&&x(this.heightSetting)&&!this.textAlign||!m(L.textStr)?V.emptyBBox:L.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||M.height||0)+2*H;const C=this.renderer.fontMetrics(L);this.baselineOffset=H+Math.min((this.text.firstLineMetrics||C).b,M.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-C.h)/2),this.needsBox&&!L.textPath&&(this.box||(L=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect(),L.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),L.add(this)),L=this.getCrispAdjust(),I.x=L,I.y=(this.baseline?-this.baselineOffset:0)+L,I.width=Math.round(this.width),I.height=Math.round(this.height),this.box.attr(n(I,this.deferredAttr)),this.deferredAttr={})}updateTextPadding(){const L=this.text;if(!L.textPath){this.updateBoxSize();const I=this.baseline?0:this.baselineOffset;let H=Y(this.paddingLeft,this.padding);m(this.widthSetting)&&this.bBox&&(this.textAlign==="center"||this.textAlign==="right")&&(H+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(H!==L.x||I!==L.y)&&(L.attr("x",H),L.hasBoxWidthChanged&&(this.bBox=L.getBBox(!0)),typeof I<"u"&&L.attr("y",I)),L.x=H,L.y=I}}widthSetter(L){this.widthSetting=x(L)?L:void 0}getPaddedWidth(){var L=this.padding;const I=Y(this.paddingLeft,L);return L=Y(this.paddingRight,L),(this.widthSetting||this.bBox.width||0)+I+L}xSetter(L){this.x=L,this.alignFactor&&(L-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(L),this.attr("translateX",this.xSetting)}ySetter(L){this.ySetting=this.y=Math.round(L),this.attr("translateY",this.ySetting)}}return V.emptyBBox={width:0,height:0,x:0,y:0},V.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow whiteSpace width".split(" "),V}),s(a,"Core/Renderer/SVG/Symbols.js",[a["Core/Utilities.js"]],function(c){function h(O,V,q,L,I){const H=[];if(I){const M=I.start||0,C=Y(I.r,q);q=Y(I.r,L||q),L=(I.end||0)-.001;const A=I.innerR,U=Y(I.open,.001>Math.abs((I.end||0)-M-2*Math.PI)),$=Math.cos(M),E=Math.sin(M),ee=Math.cos(L),Q=Math.sin(L),N=Y(I.longArc,.001>L-M-Math.PI?0:1);let j=["A",C,q,0,N,Y(I.clockwise,1),O+C*ee,V+q*Q];j.params={start:M,end:L,cx:O,cy:V},H.push(["M",O+C*$,V+q*E],j),x(A)&&(j=["A",A,A,0,N,x(I.clockwise)?1-I.clockwise:0,O+A*$,V+A*E],j.params={start:L,end:M,cx:O,cy:V},H.push(U?["M",O+A*ee,V+A*Q]:["L",O+A*ee,V+A*Q],j)),U||H.push(["Z"])}return H}function m(O,V,q,L,I){return I&&I.r?n(O,V,q,L,I):[["M",O,V],["L",O+q,V],["L",O+q,V+L],["L",O,V+L],["Z"]]}function n(O,V,q,L,I){return I=(I==null?void 0:I.r)||0,[["M",O+I,V],["L",O+q-I,V],["A",I,I,0,0,1,O+q,V+I],["L",O+q,V+L-I],["A",I,I,0,0,1,O+q-I,V+L],["L",O+I,V+L],["A",I,I,0,0,1,O,V+L-I],["L",O,V+I],["A",I,I,0,0,1,O+I,V],["Z"]]}const{defined:x,isNumber:z,pick:Y}=c;return{arc:h,callout:function(O,V,q,L,I){const H=Math.min(I&&I.r||0,q,L),M=H+6,C=I&&I.anchorX;I=I&&I.anchorY||0;const A=n(O,V,q,L,{r:H});return z(C)&&(O+C>=q?I>V+M&&I<V+L-M?A.splice(3,1,["L",O+q,I-6],["L",O+q+6,I],["L",O+q,I+6],["L",O+q,V+L-H]):A.splice(3,1,["L",O+q,L/2],["L",C,I],["L",O+q,L/2],["L",O+q,V+L-H]):0>=O+C?I>V+M&&I<V+L-M?A.splice(7,1,["L",O,I+6],["L",O-6,I],["L",O,I-6],["L",O,V+H]):A.splice(7,1,["L",O,L/2],["L",C,I],["L",O,L/2],["L",O,V+H]):I&&I>L&&C>O+M&&C<O+q-M?A.splice(5,1,["L",C+6,V+L],["L",C,V+L+6],["L",C-6,V+L],["L",O+H,V+L]):I&&0>I&&C>O+M&&C<O+q-M&&A.splice(1,1,["L",C-6,V],["L",C,V-6],["L",C+6,V],["L",q-H,V])),A},circle:function(O,V,q,L){return h(O+q/2,V+L/2,q/2,L/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(O,V,q,L){return[["M",O+q/2,V],["L",O+q,V+L/2],["L",O+q/2,V+L],["L",O,V+L/2],["Z"]]},rect:m,roundedRect:n,square:m,triangle:function(O,V,q,L){return[["M",O+q/2,V],["L",O+q,V+L],["L",O,V+L],["Z"]]},"triangle-down":function(O,V,q,L){return[["M",O,V],["L",O+q,V],["L",O+q/2,V+L],["Z"]]}}}),s(a,"Core/Renderer/SVG/TextBuilder.js",[a["Core/Renderer/HTML/AST.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(c,h,m){const{doc:n,SVG_NS:x,win:z}=h,{attr:Y,extend:O,fireEvent:V,isString:q,objectEach:L,pick:I}=m;class H{constructor(C){const A=C.styles;this.renderer=C.renderer,this.svgElement=C,this.width=C.textWidth,this.textLineHeight=A&&A.lineHeight,this.textOutline=A&&A.textOutline,this.ellipsis=!(!A||A.textOverflow!=="ellipsis"),this.noWrap=!(!A||A.whiteSpace!=="nowrap")}buildSVG(){const C=this.svgElement,A=C.element;var U=C.renderer,$=I(C.textStr,"").toString();const E=$.indexOf("<")!==-1,ee=A.childNodes;U=!C.added&&U.box;const Q=/<br.*?>/g;var N=[$,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,C.getStyle("font-size"),this.width].join();if(N!==C.textCache){for(C.textCache=N,delete C.actualWidth,N=ee.length;N--;)A.removeChild(ee[N]);E||this.ellipsis||this.width||C.textPath||$.indexOf(" ")!==-1&&(!this.noWrap||Q.test($))?$!==""&&(U&&U.appendChild(A),$=new c($),this.modifyTree($.nodes),$.addToDOM(A),this.modifyDOM(),this.ellipsis&&(A.textContent||"").indexOf("…")!==-1&&C.attr("title",this.unescapeEntities(C.textStr||"",["&lt;","&gt;"])),U&&U.removeChild(A)):A.appendChild(n.createTextNode(this.unescapeEntities($))),q(this.textOutline)&&C.applyTextOutline&&C.applyTextOutline(this.textOutline)}}modifyDOM(){const C=this.svgElement,A=Y(C.element,"x");C.firstLineMetrics=void 0;let U;for(;(U=C.element.firstChild)&&/^[\s\u200B]*$/.test(U.textContent||" ");)C.element.removeChild(U);[].forEach.call(C.element.querySelectorAll("tspan.highcharts-br"),(Q,N)=>{Q.nextSibling&&Q.previousSibling&&(N===0&&Q.previousSibling.nodeType===1&&(C.firstLineMetrics=C.renderer.fontMetrics(Q.previousSibling)),Y(Q,{dy:this.getLineHeight(Q.nextSibling),x:A}))});const $=this.width||0;if($){var E=(Q,N)=>{var j=Q.textContent||"";const W=j.replace(/([^\^])-/g,"$1- ").split(" ");var S=!this.noWrap&&(1<W.length||1<C.element.childNodes.length);const P=this.getLineHeight(N);let f=0,g=C.actualWidth;if(this.ellipsis)j&&this.truncate(Q,j,void 0,0,Math.max(0,$-.8*P),(b,D)=>b.substring(0,D)+"…");else if(S){for(j=[],S=[];N.firstChild&&N.firstChild!==Q;)S.push(N.firstChild),N.removeChild(N.firstChild);for(;W.length;)W.length&&!this.noWrap&&0<f&&(j.push(Q.textContent||""),Q.textContent=W.join(" ").replace(/- /g,"-")),this.truncate(Q,void 0,W,f===0&&g||0,$,(b,D)=>W.slice(0,D).join(" ").replace(/- /g,"-")),g=C.actualWidth,f++;S.forEach(b=>{N.insertBefore(b,Q)}),j.forEach(b=>{N.insertBefore(n.createTextNode(b),Q),b=n.createElementNS(x,"tspan"),b.textContent="​",Y(b,{dy:P,x:A}),N.insertBefore(b,Q)})}},ee=Q=>{[].slice.call(Q.childNodes).forEach(N=>{N.nodeType===z.Node.TEXT_NODE?E(N,Q):(N.className.baseVal.indexOf("highcharts-br")!==-1&&(C.actualWidth=0),ee(N))})};ee(C.element)}}getLineHeight(C){return C=C.nodeType===z.Node.TEXT_NODE?C.parentElement:C,this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(C||this.svgElement.element).h}modifyTree(C){const A=(U,$)=>{const{attributes:E={},children:ee,style:Q={},tagName:N}=U,j=this.renderer.styledMode;N==="b"||N==="strong"?j?E.class="highcharts-strong":Q.fontWeight="bold":(N==="i"||N==="em")&&(j?E.class="highcharts-emphasized":Q.fontStyle="italic"),Q&&Q.color&&(Q.fill=Q.color),N==="br"?(E.class="highcharts-br",U.textContent="​",($=C[$+1])&&$.textContent&&($.textContent=$.textContent.replace(/^ +/gm,""))):N==="a"&&ee&&ee.some(W=>W.tagName==="#text")&&(U.children=[{children:ee,tagName:"tspan"}]),N!=="#text"&&N!=="a"&&(U.tagName="tspan"),O(U,{attributes:E,style:Q}),ee&&ee.filter(W=>W.tagName!=="#text").forEach(A)};C.forEach(A),V(this.svgElement,"afterModifyTree",{nodes:C})}truncate(C,A,U,$,E,ee){const Q=this.svgElement,{rotation:N}=Q,j=[];let W=U?1:0,S=(A||U||"").length,P=S,f,g;const b=function(D,X){if(D=X||D,(X=C.parentNode)&&typeof j[D]>"u"&&X.getSubStringLength)try{j[D]=$+X.getSubStringLength(0,U?D+1:D)}catch{}return j[D]};if(Q.rotation=0,g=b(C.textContent.length),$+g>E){for(;W<=S;)P=Math.ceil((W+S)/2),U&&(f=ee(U,P)),g=b(P,f&&f.length-1),W===S?W=S+1:g>E?S=P-1:W=P;S===0?C.textContent="":A&&S===A.length-1||(C.textContent=f||ee(A||U,P))}U&&U.splice(0,P),Q.actualWidth=g,Q.rotation=N}unescapeEntities(C,A){return L(this.renderer.escapes,function(U,$){A&&A.indexOf(U)!==-1||(C=C.toString().replace(new RegExp(U,"g"),$))}),C}}return H}),s(a,"Core/Renderer/SVG/SVGRenderer.js",[a["Core/Renderer/HTML/AST.js"],a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Renderer/RendererRegistry.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Renderer/SVG/SVGLabel.js"],a["Core/Renderer/SVG/Symbols.js"],a["Core/Renderer/SVG/TextBuilder.js"],a["Core/Utilities.js"]],function(c,h,m,n,x,z,Y,O,V){const{charts:q,deg2rad:L,doc:I,isFirefox:H,isMS:M,isWebKit:C,noop:A,SVG_NS:U,symbolSizes:$,win:E}=m,{addEvent:ee,attr:Q,createElement:N,css:j,defined:W,destroyObjectProperties:S,extend:P,isArray:f,isNumber:g,isObject:b,isString:D,merge:X,pick:te,pInt:Z,uniqueKey:de}=V;let ge;class Ce{constructor(oe,ce,pe,Ee,ne,ye,_e){this.width=this.url=this.style=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(oe,ce,pe,Ee,ne,ye,_e)}init(oe,ce,pe,Ee,ne,ye,_e){const ae=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),me=ae.element;_e||ae.css(this.getStyle(Ee)),oe.appendChild(me),Q(oe,"dir","ltr"),oe.innerHTML.indexOf("xmlns")===-1&&Q(me,"xmlns",this.SVG_NS),this.box=me,this.boxWrapper=ae,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(I.createTextNode("Created with Highcharts 11.0.1")),this.defs=this.createElement("defs").add(),this.allowHTML=ye,this.forExport=ne,this.styledMode=_e,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=ae.getStyle("font-size"),this.setSize(ce,pe,!1);let we;H&&oe.getBoundingClientRect&&(ce=function(){j(oe,{left:0,top:0}),we=oe.getBoundingClientRect(),j(oe,{left:Math.ceil(we.left)-we.left+"px",top:Math.ceil(we.top)-we.top+"px"})},ce(),this.unSubPixelFix=ee(E,"resize",ce))}definition(oe){return new c([oe]).addToDOM(this.defs.element)}getReferenceURL(){if((H||C)&&I.getElementsByTagName("base").length){if(!W(ge)){var oe=de();oe=new c([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:oe},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${oe})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(I.body),j(oe,{position:"fixed",top:0,left:0,zIndex:9e5});const ce=I.elementFromPoint(6,6);ge=(ce&&ce.id)==="hitme",I.body.removeChild(oe)}if(ge)return E.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""}getStyle(oe){return this.style=P({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},oe)}setStyle(oe){this.boxWrapper.css(this.getStyle(oe))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){const oe=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),S(this.gradients||{}),this.gradients=null,this.defs=oe.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null}createElement(oe){const ce=new this.Element;return ce.init(this,oe),ce}getRadialAttr(oe,ce){return{cx:oe[0]-oe[2]/2+(ce.cx||0)*oe[2],cy:oe[1]-oe[2]/2+(ce.cy||0)*oe[2],r:(ce.r||0)*oe[2]}}shadowDefinition(oe){const ce=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(oe).map(Ee=>oe[Ee])].join("-").replace(/[^a-z0-9\-]/g,""),pe=X({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},oe);return this.defs.element.querySelector(`#${ce}`)||this.definition({tagName:"filter",attributes:{id:ce},children:[{tagName:"feDropShadow",attributes:{dx:pe.offsetX,dy:pe.offsetY,"flood-color":pe.color,"flood-opacity":Math.min(5*pe.opacity,1),stdDeviation:pe.width/2}}]}),ce}buildText(oe){new O(oe).buildSVG()}getContrast(oe){return oe=h.parse(oe).rgba.map(ce=>(ce/=255,.03928>=ce?ce/12.92:Math.pow((ce+.055)/1.055,2.4))),oe=.2126*oe[0]+.7152*oe[1]+.0722*oe[2],1.05/(oe+.05)>(oe+.05)/.05?"#FFFFFF":"#000000"}button(oe,ce,pe,Ee,ne={},ye,_e,ae,me,we){const Re=this.label(oe,ce,pe,me,void 0,void 0,we,void 0,"button"),Le=this.styledMode;oe=ne.states||{};let $e=0;ne=X(ne),delete ne.states;const rt=X({color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},ne.style);delete ne.style;let Qe=c.filterUserAttributes(ne);Re.attr(X({padding:8,r:2},Qe));let qe,Te,Oe;return Le||(Qe=X({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},Qe),ye=X(Qe,{fill:"#e6e6e6"},c.filterUserAttributes(ye||oe.hover||{})),qe=ye.style,delete ye.style,_e=X(Qe,{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},c.filterUserAttributes(_e||oe.select||{})),Te=_e.style,delete _e.style,ae=X(Qe,{style:{color:"#cccccc"}},c.filterUserAttributes(ae||oe.disabled||{})),Oe=ae.style,delete ae.style),ee(Re.element,M?"mouseover":"mouseenter",function(){$e!==3&&Re.setState(1)}),ee(Re.element,M?"mouseout":"mouseleave",function(){$e!==3&&Re.setState($e)}),Re.setState=function(ze){ze!==1&&(Re.state=$e=ze),Re.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][ze||0]),Le||(Re.attr([Qe,ye,_e,ae][ze||0]),ze=[rt,qe,Te,Oe][ze||0],b(ze)&&Re.css(ze))},Le||(Re.attr(Qe).css(P({cursor:"default"},rt)),we&&Re.text.css({pointerEvents:"none"})),Re.on("touchstart",ze=>ze.stopPropagation()).on("click",function(ze){$e!==3&&Ee.call(Re,ze)})}crispLine(oe,ce,pe="round"){const Ee=oe[0],ne=oe[1];return W(Ee[1])&&Ee[1]===ne[1]&&(Ee[1]=ne[1]=Math[pe](Ee[1])-ce%2/2),W(Ee[2])&&Ee[2]===ne[2]&&(Ee[2]=ne[2]=Math[pe](Ee[2])+ce%2/2),oe}path(oe){const ce=this.styledMode?{}:{fill:"none"};return f(oe)?ce.d=oe:b(oe)&&P(ce,oe),this.createElement("path").attr(ce)}circle(oe,ce,pe){return oe=b(oe)?oe:typeof oe>"u"?{}:{x:oe,y:ce,r:pe},ce=this.createElement("circle"),ce.xSetter=ce.ySetter=function(Ee,ne,ye){ye.setAttribute("c"+ne,Ee)},ce.attr(oe)}arc(oe,ce,pe,Ee,ne,ye){return b(oe)?(Ee=oe,ce=Ee.y,pe=Ee.r,oe=Ee.x):Ee={innerR:Ee,start:ne,end:ye},oe=this.symbol("arc",oe,ce,pe,pe,Ee),oe.r=pe,oe}rect(oe,ce,pe,Ee,ne,ye){oe=b(oe)?oe:typeof oe>"u"?{}:{x:oe,y:ce,r:ne,width:Math.max(pe||0,0),height:Math.max(Ee||0,0)};const _e=this.createElement("rect");return this.styledMode||(typeof ye<"u"&&(oe["stroke-width"]=ye,P(oe,_e.crisp(oe))),oe.fill="none"),_e.rSetter=function(ae,me,we){_e.r=ae,Q(we,{rx:ae,ry:ae})},_e.rGetter=function(){return _e.r||0},_e.attr(oe)}roundedRect(oe){return this.symbol("roundedRect").attr(oe)}setSize(oe,ce,pe){this.width=oe,this.height=ce,this.boxWrapper.animate({width:oe,height:ce},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:te(pe,!0)?void 0:0}),this.alignElements()}g(oe){const ce=this.createElement("g");return oe?ce.attr({class:"highcharts-"+oe}):ce}image(oe,ce,pe,Ee,ne,ye){const _e={preserveAspectRatio:"none"},ae=function(we,Re){we.setAttributeNS?we.setAttributeNS("http://www.w3.org/1999/xlink","href",Re):we.setAttribute("hc-svg-href",Re)};g(ce)&&(_e.x=ce),g(pe)&&(_e.y=pe),g(Ee)&&(_e.width=Ee),g(ne)&&(_e.height=ne);const me=this.createElement("image").attr(_e);return ce=function(we){ae(me.element,oe),ye.call(me,we)},ye?(ae(me.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),pe=new E.Image,ee(pe,"load",ce),pe.src=oe,pe.complete&&ce({})):ae(me.element,oe),me}symbol(oe,ce,pe,Ee,ne,ye){const _e=this,ae=/^url\((.*?)\)$/,me=ae.test(oe),we=!me&&(this.symbols[oe]?oe:"circle"),Re=we&&this.symbols[we];let Le,$e,rt,Qe;if(Re)typeof ce=="number"&&($e=Re.call(this.symbols,Math.round(ce||0),Math.round(pe||0),Ee||0,ne||0,ye)),Le=this.path($e),_e.styledMode||Le.attr("fill","none"),P(Le,{symbolName:we||void 0,x:ce,y:pe,width:Ee,height:ne}),ye&&P(Le,ye);else if(me){rt=oe.match(ae)[1];const qe=Le=this.image(rt);qe.imgwidth=te(ye&&ye.width,$[rt]&&$[rt].width),qe.imgheight=te(ye&&ye.height,$[rt]&&$[rt].height),Qe=Te=>Te.attr({width:Te.width,height:Te.height}),["width","height"].forEach(function(Te){qe[Te+"Setter"]=function(Oe,ze){this[ze]=Oe;const{alignByTranslate:Xe,element:Ke,width:pt,height:Tt,imgwidth:Bt,imgheight:ci}=this;if(Oe=this["img"+ze],W(Oe)){let Wt=1;ye&&ye.backgroundSize==="within"&&pt&&Tt?(Wt=Math.min(pt/Bt,Tt/ci),Q(Ke,{width:Math.round(Bt*Wt),height:Math.round(ci*Wt)})):Ke&&Ke.setAttribute(ze,Oe),Xe||this.translate(((pt||0)-Bt*Wt)/2,((Tt||0)-ci*Wt)/2)}}}),W(ce)&&qe.attr({x:ce,y:pe}),qe.isImg=!0,W(qe.imgwidth)&&W(qe.imgheight)?Qe(qe):(qe.attr({width:0,height:0}),N("img",{onload:function(){const Te=q[_e.chartIndex];this.width===0&&(j(this,{position:"absolute",top:"-999em"}),I.body.appendChild(this)),$[rt]={width:this.width,height:this.height},qe.imgwidth=this.width,qe.imgheight=this.height,qe.element&&Qe(qe),this.parentNode&&this.parentNode.removeChild(this),_e.imgCount--,!_e.imgCount&&Te&&!Te.hasLoaded&&Te.onload()},src:rt}),this.imgCount++)}return Le}clipRect(oe,ce,pe,Ee){const ne=de()+"-",ye=this.createElement("clipPath").attr({id:ne}).add(this.defs);return oe=this.rect(oe,ce,pe,Ee,0).add(ye),oe.id=ne,oe.clipPath=ye,oe.count=0,oe}text(oe,ce,pe,Ee){const ne={};return Ee&&(this.allowHTML||!this.forExport)?this.html(oe,ce,pe):(ne.x=Math.round(ce||0),pe&&(ne.y=Math.round(pe)),W(oe)&&(ne.text=oe),oe=this.createElement("text").attr(ne),(!Ee||this.forExport&&!this.allowHTML)&&(oe.xSetter=function(ye,_e,ae){const me=ae.getElementsByTagName("tspan"),we=ae.getAttribute(_e);for(let Re=0,Le;Re<me.length;Re++)Le=me[Re],Le.getAttribute(_e)===we&&Le.setAttribute(_e,ye);ae.setAttribute(_e,ye)}),oe)}fontMetrics(oe){oe=Z(x.prototype.getStyle.call(oe,"font-size")||0);const ce=24>oe?oe+3:Math.round(1.2*oe);return{h:ce,b:Math.round(.8*ce),f:oe}}rotCorr(oe,ce,pe){let Ee=oe;return ce&&pe&&(Ee=Math.max(Ee*Math.cos(ce*L),4)),{x:-oe/3*Math.sin(ce*L),y:Ee}}pathToSegments(oe){const ce=[],pe=[],Ee={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let ne=0;ne<oe.length;ne++)D(pe[0])&&g(oe[ne])&&pe.length===Ee[pe[0].toUpperCase()]&&oe.splice(ne,0,pe[0].replace("M","L").replace("m","l")),typeof oe[ne]=="string"&&(pe.length&&ce.push(pe.slice(0)),pe.length=0),pe.push(oe[ne]);return ce.push(pe.slice(0)),ce}label(oe,ce,pe,Ee,ne,ye,_e,ae,me){return new z(this,oe,ce,pe,Ee,ne,ye,_e,ae,me)}alignElements(){this.alignedObjects.forEach(oe=>oe.align())}}return P(Ce.prototype,{Element:x,SVG_NS:U,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Y,draw:A}),n.registerRendererType("svg",Ce,!0),Ce}),s(a,"Core/Renderer/HTML/HTMLElement.js",[a["Core/Globals.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Utilities.js"]],function(c,h,m){const{isFirefox:n,isMS:x,isWebKit:z,win:Y}=c,{css:O,defined:V,extend:q,pick:L,pInt:I}=m,H=[];class M extends h{static compose(A){if(m.pushUnique(H,A)){const U=M.prototype,$=A.prototype;$.getSpanCorrection=U.getSpanCorrection,$.htmlCss=U.htmlCss,$.htmlGetBBox=U.htmlGetBBox,$.htmlUpdateTransform=U.htmlUpdateTransform,$.setSpanRotation=U.setSpanRotation}return A}getSpanCorrection(A,U,$){this.xCorr=-A*$,this.yCorr=-U}htmlCss(A){const U=this.element.tagName==="SPAN"&&A&&"width"in A,$=L(U&&A.width,void 0);let E;return U&&(delete A.width,this.textWidth=$,E=!0),A&&A.textOverflow==="ellipsis"&&(A.whiteSpace="nowrap",A.overflow="hidden"),this.styles=q(this.styles,A),O(this.element,A),E&&this.htmlUpdateTransform(),this}htmlGetBBox(){const A=this.element;return{x:A.offsetLeft,y:A.offsetTop,width:A.offsetWidth,height:A.offsetHeight}}htmlUpdateTransform(){if(this.added){var A=this.renderer,U=this.element,$=this.x||0,E=this.y||0,ee=this.textAlign||"left",Q={left:0,center:.5,right:1}[ee],N=this.styles,j=N&&N.whiteSpace;if(O(U,{marginLeft:this.translateX||0,marginTop:this.translateY||0}),U.tagName==="SPAN"){N=this.rotation;const S=this.textWidth&&I(this.textWidth),P=[N,ee,U.innerHTML,this.textWidth,this.textAlign].join();let f=!1;if(S!==this.oldTextWidth){if(this.textPxLength)var W=this.textPxLength;else O(U,{width:"",whiteSpace:j||"nowrap"}),W=U.offsetWidth;(S>this.oldTextWidth||W>S)&&(/[ \-]/.test(U.textContent||U.innerText)||U.style.textOverflow==="ellipsis")&&(O(U,{width:W>S||N?S+"px":"auto",display:"block",whiteSpace:j||"normal"}),this.oldTextWidth=S,f=!0)}this.hasBoxWidthChanged=f,P!==this.cTT&&(A=A.fontMetrics(U).b,!V(N)||N===(this.oldRotation||0)&&ee===this.oldAlign||this.setSpanRotation(N,Q,A),this.getSpanCorrection(!V(N)&&this.textPxLength||U.offsetWidth,A,Q,N,ee)),O(U,{left:$+(this.xCorr||0)+"px",top:E+(this.yCorr||0)+"px"}),this.cTT=P,this.oldRotation=N,this.oldAlign=ee}}else this.alignOnAdd=!0}setSpanRotation(A,U,$){const E={},ee=x&&!/Edge/.test(Y.navigator.userAgent)?"-ms-transform":z?"-webkit-transform":n?"MozTransform":Y.opera?"-o-transform":void 0;ee&&(E[ee]=E.transform="rotate("+A+"deg)",E[ee+(n?"Origin":"-origin")]=E.transformOrigin=100*U+"% "+$+"px",O(this.element,E))}}return M}),s(a,"Core/Renderer/HTML/HTMLRenderer.js",[a["Core/Renderer/HTML/AST.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(c,h,m,n){const{attr:x,createElement:z,extend:Y,pick:O}=n,V=[];class q extends m{static compose(I){return n.pushUnique(V,I)&&(I.prototype.html=q.prototype.html),I}html(I,H,M){const C=this.createElement("span"),A=C.element,U=C.renderer,$=function(E,ee){["opacity","visibility"].forEach(function(Q){E[Q+"Setter"]=function(N,j,W){const S=E.div?E.div.style:ee;h.prototype[Q+"Setter"].call(this,N,j,W),S&&(S[j]=N)}}),E.addedSetters=!0};return C.textSetter=function(E){E!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,c.setElementHTML(this.element,O(E,"")),this.textStr=E,C.doTransform=!0)},$(C,C.element.style),C.xSetter=C.ySetter=C.alignSetter=C.rotationSetter=function(E,ee){ee==="align"?C.alignValue=C.textAlign=E:C[ee]=E,C.doTransform=!0},C.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},C.attr({text:I,x:Math.round(H),y:Math.round(M)}).css({position:"absolute"}),U.styledMode||C.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),A.style.whiteSpace="nowrap",C.css=C.htmlCss,C.add=function(E){const ee=U.box.parentNode,Q=[];let N;if(this.parentGroup=E){if(N=E.div,!N){for(;E;)Q.push(E),E=E.parentGroup;Q.reverse().forEach(function(j){function W(g,b){j[b]=g,b==="translateX"?f.left=g+"px":f.top=g+"px",j.doTransform=!0}const S=x(j.element,"class"),P=j.styles||{};N=j.div=j.div||z("div",S?{className:S}:void 0,{position:"absolute",left:(j.translateX||0)+"px",top:(j.translateY||0)+"px",display:j.display,opacity:j.opacity,visibility:j.visibility},N||ee);const f=N.style;Y(j,{classSetter:function(g){return function(b){this.element.setAttribute("class",b),g.className=b}}(N),css:function(g){return C.css.call(j,g),["cursor","pointerEvents"].forEach(b=>{g[b]&&(f[b]=g[b])}),j},on:function(){return Q[0].div&&C.on.apply({element:Q[0].div,onEvents:j.onEvents},arguments),j},translateXSetter:W,translateYSetter:W}),j.addedSetters||$(j),j.css(P)})}}else N=ee;return N.appendChild(A),C.added=!0,C.alignOnAdd&&C.htmlUpdateTransform(),C},C}}return q}),s(a,"Core/Axis/AxisDefaults.js",[],function(){var c;return function(h){h.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},h.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){const{numberFormatter:m}=this.axis.chart;return m(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},h.defaultLeftAxisOptions={title:{rotation:270}},h.defaultRightAxisOptions={title:{rotation:90}},h.defaultBottomAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}},h.defaultTopAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}}}(c||(c={})),c}),s(a,"Core/Foundation.js",[a["Core/Utilities.js"]],function(c){const{addEvent:h,isFunction:m,objectEach:n,removeEvent:x}=c;var z;return function(Y){Y.registerEventOptions=function(O,V){O.eventOptions=O.eventOptions||{},n(V.events,function(q,L){O.eventOptions[L]!==q&&(O.eventOptions[L]&&(x(O,L,O.eventOptions[L]),delete O.eventOptions[L]),m(q)&&(O.eventOptions[L]=q,h(O,L,q,{order:0})))})}}(z||(z={})),z}),s(a,"Core/Axis/Tick.js",[a["Core/FormatUtilities.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(c,h,m){const{deg2rad:n}=h,{clamp:x,correctFloat:z,defined:Y,destroyObjectProperties:O,extend:V,fireEvent:q,isNumber:L,merge:I,objectEach:H,pick:M}=m;class C{constructor(U,$,E,ee,Q){this.isNewLabel=this.isNew=!0,this.axis=U,this.pos=$,this.type=E||"",this.parameters=Q||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,q(this,"init"),E||ee||this.addLabel()}addLabel(){const U=this,$=U.axis;var E=$.options;const ee=$.chart;var Q=$.categories;const N=$.logarithmic,j=$.names,W=U.pos,S=M(U.options&&U.options.labels,E.labels);var P=$.tickPositions;const f=W===P[0],g=W===P[P.length-1],b=(!S.step||S.step===1)&&$.tickInterval===1;P=P.info;let D=U.label,X,te,Z;Q=this.parameters.category||(Q?M(Q[W],j[W],W):W),N&&L(Q)&&(Q=z(N.lin2log(Q))),$.dateTime&&(P?(te=ee.time.resolveDTLFormat(E.dateTimeLabelFormats[!E.grid&&P.higherRanks[W]||P.unitName]),X=te.main):L(Q)&&(X=$.dateTime.getXDateFormat(Q,E.dateTimeLabelFormats||{}))),U.isFirst=f,U.isLast=g;const de={axis:$,chart:ee,dateTimeLabelFormat:X,isFirst:f,isLast:g,pos:W,tick:U,tickPositionInfo:P,value:Q};q(this,"labelFormat",de);const ge=J=>S.formatter?S.formatter.call(J,J):S.format?(J.text=$.defaultLabelFormatter.call(J,J),c.format(S.format,J,ee)):$.defaultLabelFormatter.call(J,J);E=ge.call(de,de);const Ce=te&&te.list;U.shortenLabel=Ce?function(){for(Z=0;Z<Ce.length;Z++)if(V(de,{dateTimeLabelFormat:Ce[Z]}),D.attr({text:ge.call(de,de)}),D.getBBox().width<$.getSlotWidth(U)-2*S.padding)return;D.attr({text:""})}:void 0,b&&$._addedPlotLB&&U.moveLabel(E,S),Y(D)||U.movedLabel?D&&D.textStr!==E&&!b&&(!D.textWidth||S.style.width||D.styles.width||D.css({width:null}),D.attr({text:E}),D.textPxLength=D.getBBox().width):(U.label=D=U.createLabel({x:0,y:0},E,S),U.rotation=0)}createLabel(U,$,E){const ee=this.axis,Q=ee.chart;return(U=Y($)&&E.enabled?Q.renderer.text($,U.x,U.y,E.useHTML).add(ee.labelGroup):null)&&(Q.styledMode||U.css(I(E.style)),U.textPxLength=U.getBBox().width),U}destroy(){O(this,this.axis)}getPosition(U,$,E,ee){const Q=this.axis,N=Q.chart,j=ee&&N.oldChartHeight||N.chartHeight;return U={x:U?z(Q.translate($+E,void 0,void 0,ee)+Q.transB):Q.left+Q.offset+(Q.opposite?(ee&&N.oldChartWidth||N.chartWidth)-Q.right-Q.left:0),y:U?j-Q.bottom+Q.offset-(Q.opposite?Q.height:0):z(j-Q.translate($+E,void 0,void 0,ee)-Q.transB)},U.y=x(U.y,-1e5,1e5),q(this,"afterGetPosition",{pos:U}),U}getLabelPosition(U,$,E,ee,Q,N,j,W){const S=this.axis,P=S.transA,f=S.isLinked&&S.linkedParent?S.linkedParent.reversed:S.reversed,g=S.staggerLines,b=S.tickRotCorr||{x:0,y:0},D=ee||S.reserveSpaceDefault?0:-S.labelOffset*(S.labelAlign==="center"?.5:1),X=Q.distance,te={};return E=S.side===0?E.rotation?-X:-E.getBBox().height:S.side===2?b.y+X:Math.cos(E.rotation*n)*(b.y-E.getBBox(!1,0).height/2),Y(Q.y)&&(E=S.side===0&&S.horiz?Q.y+E:Q.y),U=U+M(Q.x,[0,1,0,-1][S.side]*X)+D+b.x-(N&&ee?N*P*(f?-1:1):0),$=$+E-(N&&!ee?N*P*(f?1:-1):0),g&&(ee=j/(W||1)%g,S.opposite&&(ee=g-ee-1),$+=S.labelOffset/g*ee),te.x=U,te.y=Math.round($),q(this,"afterGetLabelPosition",{pos:te,tickmarkOffset:N,index:j}),te}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(U,$,E,ee,Q,N){return N.crispLine([["M",U,$],["L",U+(Q?0:-E),$+(Q?E:0)]],ee)}handleOverflow(U){const $=this.axis,E=$.options.labels,ee=U.x;var Q=$.chart.chartWidth,N=$.chart.spacing;const j=M($.labelLeft,Math.min($.pos,N[3]));N=M($.labelRight,Math.max($.isRadial?0:$.pos+$.len,Q-N[1]));const W=this.label,S=this.rotation,P={left:0,center:.5,right:1}[$.labelAlign||W.attr("align")],f=W.getBBox().width,g=$.getSlotWidth(this),b={};let D=g,X=1,te;S||E.overflow!=="justify"?0>S&&ee-P*f<j?te=Math.round(ee/Math.cos(S*n)-j):0<S&&ee+P*f>N&&(te=Math.round((Q-ee)/Math.cos(S*n))):(Q=ee+(1-P)*f,ee-P*f<j?D=U.x+D*(1-P)-j:Q>N&&(D=N-U.x+D*P,X=-1),D=Math.min(g,D),D<g&&$.labelAlign==="center"&&(U.x+=X*(g-D-P*(g-Math.min(f,D)))),(f>D||$.autoRotation&&(W.styles||{}).width)&&(te=D)),te&&(this.shortenLabel?this.shortenLabel():(b.width=Math.floor(te)+"px",(E.style||{}).textOverflow||(b.textOverflow="ellipsis"),W.css(b)))}moveLabel(U,$){const E=this;var ee=E.label;const Q=E.axis;let N=!1;ee&&ee.textStr===U?(E.movedLabel=ee,N=!0,delete E.label):H(Q.ticks,function(j){N||j.isNew||j===E||!j.label||j.label.textStr!==U||(E.movedLabel=j.label,N=!0,j.labelPos=E.movedLabel.xy,delete j.label)}),N||!E.labelPos&&!ee||(ee=E.labelPos||ee.xy,E.movedLabel=E.createLabel(ee,U,$),E.movedLabel&&E.movedLabel.attr({opacity:0}))}render(U,$,E){var ee=this.axis,Q=ee.horiz,N=this.pos,j=M(this.tickmarkOffset,ee.tickmarkOffset);N=this.getPosition(Q,N,j,$),j=N.x;const W=N.y;ee=Q&&j===ee.pos+ee.len||!Q&&W===ee.pos?-1:1,Q=M(E,this.label&&this.label.newOpacity,1),E=M(E,1),this.isActive=!0,this.renderGridLine($,E,ee),this.renderMark(N,E,ee),this.renderLabel(N,$,Q,U),this.isNew=!1,q(this,"afterRender")}renderGridLine(U,$,E){const ee=this.axis,Q=ee.options,N={},j=this.pos,W=this.type,S=M(this.tickmarkOffset,ee.tickmarkOffset),P=ee.chart.renderer;let f=this.gridLine,g=Q.gridLineWidth,b=Q.gridLineColor,D=Q.gridLineDashStyle;this.type==="minor"&&(g=Q.minorGridLineWidth,b=Q.minorGridLineColor,D=Q.minorGridLineDashStyle),f||(ee.chart.styledMode||(N.stroke=b,N["stroke-width"]=g||0,N.dashstyle=D),W||(N.zIndex=1),U&&($=0),this.gridLine=f=P.path().attr(N).addClass("highcharts-"+(W?W+"-":"")+"grid-line").add(ee.gridGroup)),f&&(E=ee.getPlotLinePath({value:j+S,lineWidth:f.strokeWidth()*E,force:"pass",old:U,acrossPanes:!1}))&&f[U||this.isNew?"attr":"animate"]({d:E,opacity:$})}renderMark(U,$,E){const ee=this.axis;var Q=ee.options;const N=ee.chart.renderer,j=this.type,W=ee.tickSize(j?j+"Tick":"tick"),S=U.x;U=U.y;const P=M(Q[j!=="minor"?"tickWidth":"minorTickWidth"],!j&&ee.isXAxis?1:0);Q=Q[j!=="minor"?"tickColor":"minorTickColor"];let f=this.mark;const g=!f;W&&(ee.opposite&&(W[0]=-W[0]),f||(this.mark=f=N.path().addClass("highcharts-"+(j?j+"-":"")+"tick").add(ee.axisGroup),ee.chart.styledMode||f.attr({stroke:Q,"stroke-width":P})),f[g?"attr":"animate"]({d:this.getMarkPath(S,U,W[0],f.strokeWidth()*E,ee.horiz,N),opacity:$}))}renderLabel(U,$,E,ee){var Q=this.axis;const N=Q.horiz,j=Q.options,W=this.label,S=j.labels,P=S.step;Q=M(this.tickmarkOffset,Q.tickmarkOffset);const f=U.x;U=U.y;let g=!0;W&&L(f)&&(W.xy=U=this.getLabelPosition(f,U,W,N,S,Q,ee,P),this.isFirst&&!this.isLast&&!j.showFirstLabel||this.isLast&&!this.isFirst&&!j.showLastLabel?g=!1:!N||S.step||S.rotation||$||E===0||this.handleOverflow(U),P&&ee%P&&(g=!1),g&&L(U.y)?(U.opacity=E,W[this.isNewLabel?"attr":"animate"](U).show(!0),this.isNewLabel=!1):(W.hide(),this.isNewLabel=!0))}replaceMovedLabel(){const U=this.label,$=this.axis;U&&!this.isNew&&(U.animate({opacity:0},void 0,U.destroy),delete this.label),$.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}return C}),s(a,"Core/Axis/Axis.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Axis/AxisDefaults.js"],a["Core/Color/Color.js"],a["Core/Defaults.js"],a["Core/Foundation.js"],a["Core/Globals.js"],a["Core/Axis/Tick.js"],a["Core/Utilities.js"]],function(c,h,m,n,x,z,Y,O){const{animObject:V}=c,{defaultOptions:q}=n,{registerEventOptions:L}=x,{deg2rad:I}=z,{arrayMax:H,arrayMin:M,clamp:C,correctFloat:A,defined:U,destroyObjectProperties:$,erase:E,error:ee,extend:Q,fireEvent:N,isArray:j,isNumber:W,isString:S,merge:P,normalizeTickInterval:f,objectEach:g,pick:b,relativeLength:D,removeEvent:X,splat:te,syncTimeout:Z}=O,de=(Ce,J)=>f(J,void 0,void 0,b(Ce.options.allowDecimals,.5>J||Ce.tickAmount!==void 0),!!Ce.tickAmount);class ge{constructor(J,oe){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(J,oe)}init(J,oe){const ce=oe.isX;this.chart=J,this.horiz=J.inverted&&!this.isZAxis?!ce:ce,this.isXAxis=ce,this.coll=this.coll||(ce?"xAxis":"yAxis"),N(this,"init",{userOptions:oe}),this.opposite=b(oe.opposite,this.opposite),this.side=b(oe.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(oe);const pe=this.options,Ee=pe.labels,ne=pe.type;this.userOptions=oe,this.minPixelPadding=0,this.reversed=b(pe.reversed,this.reversed),this.visible=pe.visible,this.zoomEnabled=pe.zoomEnabled,this.hasNames=ne==="category"||pe.categories===!0,this.categories=pe.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=U(pe.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=pe.minRange||pe.maxZoom,this.range=pe.range,this.offset=pe.offset||0,this.min=this.max=null,oe=b(pe.crosshair,te(J.options.tooltip.crosshairs)[ce?0:1]),this.crosshair=oe===!0?{}:oe,J.axes.indexOf(this)===-1&&(ce?J.axes.splice(J.xAxis.length,0,this):J.axes.push(this),J[this.coll].push(this)),this.series=this.series||[],J.inverted&&!this.isZAxis&&ce&&typeof this.reversed>"u"&&(this.reversed=!0),this.labelRotation=W(Ee.rotation)?Ee.rotation:void 0,L(this,pe),N(this,"afterInit")}setOptions(J){this.options=P(h.defaultXAxisOptions,this.coll==="yAxis"&&h.defaultYAxisOptions,[h.defaultTopAxisOptions,h.defaultRightAxisOptions,h.defaultBottomAxisOptions,h.defaultLeftAxisOptions][this.side],P(q[this.coll],J)),N(this,"afterSetOptions",{userOptions:J})}defaultLabelFormatter(J){var oe=this.axis;({numberFormatter:J}=this.chart);const ce=W(this.value)?this.value:NaN,pe=oe.chart.time,Ee=this.dateTimeLabelFormat;var ne=q.lang;const ye=ne.numericSymbols;ne=ne.numericSymbolMagnitude||1e3;const _e=oe.logarithmic?Math.abs(ce):oe.tickInterval;let ae=ye&&ye.length,me;if(oe.categories)me=`${this.value}`;else if(Ee)me=pe.dateFormat(Ee,ce);else if(ae&&1e3<=_e)for(;ae--&&typeof me>"u";)oe=Math.pow(ne,ae+1),_e>=oe&&10*ce%oe===0&&ye[ae]!==null&&ce!==0&&(me=J(ce/oe,-1)+ye[ae]);return typeof me>"u"&&(me=1e4<=Math.abs(ce)?J(ce,-1):J(ce,-1,void 0,"")),me}getSeriesExtremes(){const J=this,oe=J.chart;let ce;N(this,"getSeriesExtremes",null,function(){J.hasVisibleSeries=!1,J.dataMin=J.dataMax=J.threshold=null,J.softThreshold=!J.isXAxis,J.series.forEach(function(pe){if(pe.visible||!oe.options.chart.ignoreHiddenSeries){var Ee=pe.options;let ne=Ee.threshold,ye,_e;J.hasVisibleSeries=!0,J.positiveValuesOnly&&0>=ne&&(ne=null),J.isXAxis?(Ee=pe.xData)&&Ee.length&&(Ee=J.logarithmic?Ee.filter(ae=>0<ae):Ee,ce=pe.getXExtremes(Ee),ye=ce.min,_e=ce.max,W(ye)||ye instanceof Date||(Ee=Ee.filter(W),ce=pe.getXExtremes(Ee),ye=ce.min,_e=ce.max),Ee.length&&(J.dataMin=Math.min(b(J.dataMin,ye),ye),J.dataMax=Math.max(b(J.dataMax,_e),_e))):(pe=pe.applyExtremes(),W(pe.dataMin)&&(ye=pe.dataMin,J.dataMin=Math.min(b(J.dataMin,ye),ye)),W(pe.dataMax)&&(_e=pe.dataMax,J.dataMax=Math.max(b(J.dataMax,_e),_e)),U(ne)&&(J.threshold=ne),(!Ee.softThreshold||J.positiveValuesOnly)&&(J.softThreshold=!1))}})}),N(this,"afterGetSeriesExtremes")}translate(J,oe,ce,pe,Ee,ne){const ye=this.linkedParent||this,_e=pe&&ye.old?ye.old.min:ye.min;if(!W(_e))return NaN;const ae=ye.minPixelPadding;Ee=(ye.isOrdinal||ye.brokenAxis&&ye.brokenAxis.hasBreaks||ye.logarithmic&&Ee)&&ye.lin2val;let me=1,we=0;return pe=pe&&ye.old?ye.old.transA:ye.transA,pe||(pe=ye.transA),ce&&(me*=-1,we=ye.len),ye.reversed&&(me*=-1,we-=me*(ye.sector||ye.len)),oe?(ne=(J*me+we-ae)/pe+_e,Ee&&(ne=ye.lin2val(ne))):(Ee&&(J=ye.val2lin(J)),J=me*(J-_e)*pe,ne=(ye.isRadial?J:A(J))+we+me*ae+(W(ne)?pe*ne:0)),ne}toPixels(J,oe){return this.translate(J,!1,!this.horiz,void 0,!0)+(oe?0:this.pos)}toValue(J,oe){return this.translate(J-(oe?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(J){function oe(ze,Xe,Ke){return $e!=="pass"&&(ze<Xe||ze>Ke)&&($e?ze=C(ze,Xe,Ke):Oe=!0),ze}const ce=this,pe=ce.chart,Ee=ce.left,ne=ce.top,ye=J.old,_e=J.value,ae=J.lineWidth,me=ye&&pe.oldChartHeight||pe.chartHeight,we=ye&&pe.oldChartWidth||pe.chartWidth,Re=ce.transB;let Le=J.translatedValue,$e=J.force,rt,Qe,qe,Te,Oe;return J={value:_e,lineWidth:ae,old:ye,force:$e,acrossPanes:J.acrossPanes,translatedValue:Le},N(this,"getPlotLinePath",J,function(ze){Le=b(Le,ce.translate(_e,void 0,void 0,ye)),Le=C(Le,-1e5,1e5),rt=qe=Math.round(Le+Re),Qe=Te=Math.round(me-Le-Re),W(Le)?ce.horiz?(Qe=ne,Te=me-ce.bottom,rt=qe=oe(rt,Ee,Ee+ce.width)):(rt=Ee,qe=we-ce.right,Qe=Te=oe(Qe,ne,ne+ce.height)):(Oe=!0,$e=!1),ze.path=Oe&&!$e?null:pe.renderer.crispLine([["M",rt,Qe],["L",qe,Te]],ae||1)}),J.path}getLinearTickPositions(J,oe,ce){const pe=A(Math.floor(oe/J)*J);ce=A(Math.ceil(ce/J)*J);const Ee=[];let ne,ye;if(A(pe+J)===pe&&(ye=20),this.single)return[oe];for(oe=pe;oe<=ce&&(Ee.push(oe),oe=A(oe+J,ye),oe!==ne);)ne=oe;return Ee}getMinorTickInterval(){const J=this.options;return J.minorTicks===!0?b(J.minorTickInterval,"auto"):J.minorTicks===!1?null:J.minorTickInterval}getMinorTickPositions(){var J=this.options;const oe=this.tickPositions,ce=this.minorTickInterval;var pe=this.pointRangePadding||0;const Ee=this.min-pe;pe=this.max+pe;const ne=pe-Ee;let ye=[];if(ne&&ne/ce<this.len/3){const _e=this.logarithmic;if(_e)this.paddedTicks.forEach(function(ae,me,we){me&&ye.push.apply(ye,_e.getLogTickPositions(ce,we[me-1],we[me],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")ye=ye.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(ce),Ee,pe,J.startOfWeek));else for(J=Ee+(oe[0]-Ee)%ce;J<=pe&&J!==ye[0];J+=ce)ye.push(J)}return ye.length!==0&&this.trimTicks(ye),ye}adjustForMinRange(){const J=this.options,oe=this.logarithmic;let ce=this.min;var pe=this.max;let Ee,ne=0,ye,_e,ae,me,we;if(this.isXAxis&&typeof this.minRange>"u"&&!oe&&(U(J.min)||U(J.max)||U(J.floor)||U(J.ceiling)?this.minRange=null:(this.series.forEach(function(Le){if(ae=Le.xData,me=Le.xIncrement?1:ae.length-1,1<ae.length)for(ye=me;0<ye;ye--)_e=ae[ye]-ae[ye-1],(!ne||_e<ne)&&(ne=_e)}),this.minRange=Math.min(5*ne,this.dataMax-this.dataMin))),pe-ce<this.minRange){Ee=this.dataMax-this.dataMin>=this.minRange,we=this.minRange;var Re=(we-pe+ce)/2;Re=[ce-Re,b(J.min,ce-Re)],Ee&&(Re[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),ce=H(Re),pe=[ce+we,b(J.max,ce+we)],Ee&&(pe[2]=oe?oe.log2lin(this.dataMax):this.dataMax),pe=M(pe),pe-ce<we&&(Re[0]=pe-we,Re[1]=b(J.min,pe-we),ce=H(Re))}this.min=ce,this.max=pe}getClosest(){let J;return this.categories?J=1:this.series.forEach(function(oe){const ce=oe.closestPointRange,pe=oe.visible||!oe.chart.options.chart.ignoreHiddenSeries;!oe.noSharedTooltip&&U(ce)&&pe&&(J=U(J)?Math.min(J,ce):ce)}),J}nameToX(J){const oe=j(this.options.categories),ce=oe?this.categories:this.names;let pe=J.options.x,Ee;return J.series.requireSorting=!1,U(pe)||(pe=this.options.uniqueNames&&ce?oe?ce.indexOf(J.name):b(ce.keys[J.name],-1):J.series.autoIncrement()),pe===-1?!oe&&ce&&(Ee=ce.length):Ee=pe,typeof Ee<"u"?(this.names[Ee]=J.name,this.names.keys[J.name]=Ee):J.x&&(Ee=J.x),Ee}updateNames(){const J=this,oe=this.names;0<oe.length&&(Object.keys(oe.keys).forEach(function(ce){delete oe.keys[ce]}),oe.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(ce){ce.xIncrement=null,(!ce.points||ce.isDirtyData)&&(J.max=Math.max(J.max,ce.xData.length-1),ce.processData(),ce.generatePoints()),ce.data.forEach(function(pe,Ee){let ne;pe&&pe.options&&typeof pe.name<"u"&&(ne=J.nameToX(pe),typeof ne<"u"&&ne!==pe.x&&(pe.x=ne,ce.xData[Ee]=ne))})}))}setAxisTranslation(){const J=this,oe=J.max-J.min;var ce=J.linkedParent;const pe=!!J.categories,Ee=J.isXAxis;let ne=J.axisPointRange||0,ye,_e=0,ae=0,me=J.transA;(Ee||pe||ne)&&(ye=J.getClosest(),ce?(_e=ce.minPointOffset,ae=ce.pointRangePadding):J.series.forEach(function(we){const Re=pe?1:Ee?b(we.options.pointRange,ye,0):J.axisPointRange||0,Le=we.options.pointPlacement;ne=Math.max(ne,Re),(!J.single||pe)&&(we=we.is("xrange")?!Ee:Ee,_e=Math.max(_e,we&&S(Le)?0:Re/2),ae=Math.max(ae,we&&Le==="on"?0:Re))}),ce=J.ordinal&&J.ordinal.slope&&ye?J.ordinal.slope/ye:1,J.minPointOffset=_e*=ce,J.pointRangePadding=ae*=ce,J.pointRange=Math.min(ne,J.single&&pe?1:oe),Ee&&(J.closestPointRange=ye)),J.translationSlope=J.transA=me=J.staticScale||J.len/(oe+ae||1),J.transB=J.horiz?J.left:J.bottom,J.minPixelPadding=me*_e,N(this,"afterSetAxisTranslation")}minFromRange(){return this.max-this.range}setTickInterval(J){var oe=this.chart;const ce=this.logarithmic,pe=this.options,Ee=this.isXAxis,ne=this.isLinked,ye=pe.tickPixelInterval,_e=this.categories,ae=this.softThreshold;let me=pe.maxPadding,we=pe.minPadding,Re=W(pe.tickInterval)&&0<=pe.tickInterval?pe.tickInterval:void 0,Le=W(this.threshold)?this.threshold:null,$e,rt,Qe;if(this.dateTime||_e||ne||this.getTickAmount(),rt=b(this.userMin,pe.min),Qe=b(this.userMax,pe.max),ne){this.linkedParent=oe[this.coll][pe.linkedTo];var qe=this.linkedParent.getExtremes();this.min=b(qe.min,qe.dataMin),this.max=b(qe.max,qe.dataMax),pe.type!==this.linkedParent.options.type&&ee(11,1,oe)}else ae&&U(Le)&&(this.dataMin>=Le?(qe=Le,we=0):this.dataMax<=Le&&($e=Le,me=0)),this.min=b(rt,qe,this.dataMin),this.max=b(Qe,$e,this.dataMax);if(ce&&(this.positiveValuesOnly&&!J&&0>=Math.min(this.min,b(this.dataMin,this.min))&&ee(10,1,oe),this.min=A(ce.log2lin(this.min),16),this.max=A(ce.log2lin(this.max),16)),this.range&&U(this.max)&&(this.userMin=this.min=rt=Math.max(this.dataMin,this.minFromRange()),this.userMax=Qe=this.max,this.range=null),N(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(_e||this.axisPointRange||this.stacking&&this.stacking.usePercentage||ne)&&U(this.min)&&U(this.max)&&(oe=this.max-this.min)&&(!U(rt)&&we&&(this.min-=oe*we),!U(Qe)&&me&&(this.max+=oe*me)),W(this.userMin)||(W(pe.softMin)&&pe.softMin<this.min&&(this.min=rt=pe.softMin),W(pe.floor)&&(this.min=Math.max(this.min,pe.floor))),W(this.userMax)||(W(pe.softMax)&&pe.softMax>this.max&&(this.max=Qe=pe.softMax),W(pe.ceiling)&&(this.max=Math.min(this.max,pe.ceiling))),ae&&U(this.dataMin)&&(Le=Le||0,!U(rt)&&this.min<Le&&this.dataMin>=Le?this.min=this.options.minRange?Math.min(Le,this.max-this.minRange):Le:!U(Qe)&&this.max>Le&&this.dataMax<=Le&&(this.max=this.options.minRange?Math.max(Le,this.min+this.minRange):Le)),W(this.min)&&W(this.max)&&!this.chart.polar&&this.min>this.max&&(U(this.options.min)?this.max=this.min:U(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||typeof this.min>"u"||typeof this.max>"u"?1:ne&&this.linkedParent&&!Re&&ye===this.linkedParent.options.tickPixelInterval?Re=this.linkedParent.tickInterval:b(Re,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,_e?1:(this.max-this.min)*ye/Math.max(this.len,ye)),Ee&&!J){const Te=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(Oe){Oe.forceCrop=Oe.forceCropping&&Oe.forceCropping(),Oe.processData(Te)}),N(this,"postProcessData",{hasExtremesChanged:Te})}this.setAxisTranslation(),N(this,"initialAxisTranslation"),this.pointRange&&!Re&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),J=b(pe.minTickInterval,this.dateTime&&!this.series.some(Te=>Te.noSharedTooltip)?this.closestPointRange:0),!Re&&this.tickInterval<J&&(this.tickInterval=J),this.dateTime||this.logarithmic||Re||(this.tickInterval=de(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var J=this.options;const oe=J.tickPositions,ce=J.tickPositioner;var pe=this.getMinorTickInterval(),Ee=this.hasVerticalPanning(),ne=this.coll==="colorAxis";const ye=(ne||!Ee)&&J.startOnTick;Ee=(ne||!Ee)&&J.endOnTick,ne=[];let _e;if(this.tickmarkOffset=this.categories&&J.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=pe==="auto"&&this.tickInterval?this.tickInterval/J.minorTicksPerMajor:pe,this.single=this.min===this.max&&U(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||J.allowDecimals!==!1),oe)ne=oe.slice();else if(W(this.min)&&W(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)ne=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,J.units),this.min,this.max,J.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)ne=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(pe=J=this.tickInterval;pe<=2*J&&(ne=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&ne.length>this.tickAmount);)this.tickInterval=de(this,pe*=1.1);else ne=[this.min,this.max],ee(19,!1,this.chart);ne.length>this.len&&(ne=[ne[0],ne[ne.length-1]],ne[0]===ne[1]&&(ne.length=1)),ce&&(this.tickPositions=ne,(_e=ce.apply(this,[this.min,this.max]))&&(ne=_e))}this.tickPositions=ne,this.paddedTicks=ne.slice(0),this.trimTicks(ne,ye,Ee),!this.isLinked&&W(this.min)&&W(this.max)&&(this.single&&2>ne.length&&!this.categories&&!this.series.some(ae=>ae.is("heatmap")&&ae.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),oe||_e||this.adjustTickAmount()),N(this,"afterSetTickPositions")}trimTicks(J,oe,ce){const pe=J[0],Ee=J[J.length-1],ne=!this.isOrdinal&&this.minPointOffset||0;if(N(this,"trimTicks"),!this.isLinked){if(oe&&pe!==-1/0)this.min=pe;else for(;this.min-ne>J[0];)J.shift();if(ce)this.max=Ee;else for(;this.max+ne<J[J.length-1];)J.pop();J.length===0&&U(pe)&&!this.options.tickPositions&&J.push((Ee+pe)/2)}}alignToOthers(){const J=this,oe=[this],ce=J.options,pe=this.coll==="yAxis"&&this.chart.options.chart.alignThresholds,Ee=[];let ne;if(J.thresholdAlignment=void 0,(this.chart.options.chart.alignTicks!==!1&&ce.alignTicks||pe)&&ce.startOnTick!==!1&&ce.endOnTick!==!1&&!J.logarithmic){const ye=ae=>{const{horiz:me,options:we}=ae;return[me?we.left:we.top,we.width,we.height,we.pane].join()},_e=ye(this);this.chart[this.coll].forEach(function(ae){const{series:me}=ae;me.length&&me.some(we=>we.visible)&&ae!==J&&ye(ae)===_e&&(ne=!0,oe.push(ae))})}if(ne&&pe){oe.forEach(_e=>{_e=_e.getThresholdAlignment(J),W(_e)&&Ee.push(_e)});const ye=1<Ee.length?Ee.reduce((_e,ae)=>_e+ae,0)/Ee.length:void 0;oe.forEach(_e=>{_e.thresholdAlignment=ye})}return ne}getThresholdAlignment(J){if((!W(this.dataMin)||this!==J&&this.series.some(oe=>oe.isDirty||oe.isDirtyData))&&this.getSeriesExtremes(),W(this.threshold))return J=C((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(J=1-J),J}getTickAmount(){const J=this.options,oe=J.tickPixelInterval;let ce=J.tickAmount;!U(J.tickInterval)&&!ce&&this.len<oe&&!this.isRadial&&!this.logarithmic&&J.startOnTick&&J.endOnTick&&(ce=2),!ce&&this.alignToOthers()&&(ce=Math.ceil(this.len/oe)+1),4>ce&&(this.finalTickAmt=ce,ce=5),this.tickAmount=ce}adjustTickAmount(){const J=this,{finalTickAmt:oe,max:ce,min:pe,options:Ee,tickPositions:ne,tickAmount:ye,thresholdAlignment:_e}=J,ae=ne&&ne.length;var me=b(J.threshold,J.softThreshold?0:null),we=J.tickInterval;let Re;if(W(_e)&&(Re=.5>_e?Math.ceil(_e*(ye-1)):Math.floor(_e*(ye-1)),Ee.reversed&&(Re=ye-1-Re)),J.hasData()&&W(pe)&&W(ce)){const Le=()=>{J.transA*=(ae-1)/(ye-1),J.min=Ee.startOnTick?ne[0]:Math.min(pe,ne[0]),J.max=Ee.endOnTick?ne[ne.length-1]:Math.max(ce,ne[ne.length-1])};if(W(Re)&&W(J.threshold)){for(;ne[Re]!==me||ne.length!==ye||ne[0]>pe||ne[ne.length-1]<ce;){for(ne.length=0,ne.push(J.threshold);ne.length<ye;)ne[Re]===void 0||ne[Re]>J.threshold?ne.unshift(A(ne[0]-we)):ne.push(A(ne[ne.length-1]+we));if(we>8*J.tickInterval)break;we*=2}Le()}else if(ae<ye){for(;ne.length<ye;)ne.length%2||pe===me?ne.push(A(ne[ne.length-1]+we)):ne.unshift(A(ne[0]-we));Le()}if(U(oe)){for(we=me=ne.length;we--;)(oe===3&&we%2===1||2>=oe&&0<we&&we<me-1)&&ne.splice(we,1);J.finalTickAmt=void 0}}}setScale(){let J=!1,oe=!1;this.series.forEach(function(pe){J=J||pe.isDirtyData||pe.isDirty,oe=oe||pe.xAxis&&pe.xAxis.isDirty||!1}),this.setAxisSize();const ce=this.len!==(this.old&&this.old.len);ce||J||oe||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&(this.stacking.resetStacks(),this.stacking.buildStacks()),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=ce||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),J&&this.panningState&&(this.panningState.isDirty=!0),N(this,"afterSetScale")}setExtremes(J,oe,ce,pe,Ee){const ne=this,ye=ne.chart;ce=b(ce,!0),ne.series.forEach(function(_e){delete _e.kdTree}),Ee=Q(Ee,{min:J,max:oe}),N(ne,"setExtremes",Ee,function(){ne.userMin=J,ne.userMax=oe,ne.eventArgs=Ee,ce&&ye.redraw(pe)})}zoom(J,oe){const ce=this,pe=this.dataMin,Ee=this.dataMax,ne=this.options,ye=Math.min(pe,b(ne.min,pe)),_e=Math.max(Ee,b(ne.max,Ee));return J={newMin:J,newMax:oe},N(this,"zoom",J,function(ae){let me=ae.newMin,we=ae.newMax;(me!==ce.min||we!==ce.max)&&(ce.allowZoomOutside||(U(pe)&&(me<ye&&(me=ye),me>_e&&(me=_e)),U(Ee)&&(we<ye&&(we=ye),we>_e&&(we=_e))),ce.displayBtn=typeof me<"u"||typeof we<"u",ce.setExtremes(me,we,!1,void 0,{trigger:"zoom"})),ae.zoomed=!0}),J.zoomed}setAxisSize(){const J=this.chart;var oe=this.options;const ce=oe.offsets||[0,0,0,0],pe=this.horiz,Ee=this.width=Math.round(D(b(oe.width,J.plotWidth-ce[3]+ce[1]),J.plotWidth)),ne=this.height=Math.round(D(b(oe.height,J.plotHeight-ce[0]+ce[2]),J.plotHeight)),ye=this.top=Math.round(D(b(oe.top,J.plotTop+ce[0]),J.plotHeight,J.plotTop));oe=this.left=Math.round(D(b(oe.left,J.plotLeft+ce[3]),J.plotWidth,J.plotLeft)),this.bottom=J.chartHeight-ne-ye,this.right=J.chartWidth-Ee-oe,this.len=Math.max(pe?Ee:ne,0),this.pos=pe?oe:ye}getExtremes(){const J=this.logarithmic;return{min:J?A(J.lin2log(this.min)):this.min,max:J?A(J.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(J){var oe=this.logarithmic;const ce=oe?oe.lin2log(this.min):this.min;return oe=oe?oe.lin2log(this.max):this.max,J===null||J===-1/0?J=ce:J===1/0?J=oe:ce>J?J=ce:oe<J&&(J=oe),this.translate(J,0,1,0,1)}autoLabelAlign(J){const oe=(b(J,0)-90*this.side+720)%360;return J={align:"center"},N(this,"autoLabelAlign",J,function(ce){15<oe&&165>oe?ce.align="right":195<oe&&345>oe&&(ce.align="left")}),J.align}tickSize(J){const oe=this.options,ce=b(oe[J==="tick"?"tickWidth":"minorTickWidth"],J==="tick"&&this.isXAxis&&!this.categories?1:0);let pe=oe[J==="tick"?"tickLength":"minorTickLength"],Ee;return ce&&pe&&(oe[J+"Position"]==="inside"&&(pe=-pe),Ee=[pe,ce]),J={tickSize:Ee},N(this,"afterTickSize",J),J.tickSize}labelMetrics(){const J=this.chart.renderer;var oe=this.ticks;return oe=oe[Object.keys(oe)[0]]||{},this.chart.renderer.fontMetrics(oe.label||oe.movedLabel||J.box)}unsquish(){const J=this.options.labels;var oe=this.horiz;const ce=this.tickInterval,pe=this.len/(((this.categories?1:0)+this.max-this.min)/ce),Ee=J.rotation,ne=.75*this.labelMetrics().h,ye=Math.max(this.max-this.min,0),_e=function(Le){let $e=Le/(pe||1);return $e=1<$e?Math.ceil($e):1,$e*ce>ye&&Le!==1/0&&pe!==1/0&&ye&&($e=Math.ceil(ye/ce)),A($e*ce)};let ae=ce,me,we=Number.MAX_VALUE,Re;if(oe){if(J.staggerLines||(W(Ee)?Re=[Ee]:pe<J.autoRotationLimit&&(Re=J.autoRotation)),Re){let Le;for(const $e of Re)($e===Ee||$e&&-90<=$e&&90>=$e)&&(oe=_e(Math.abs(ne/Math.sin(I*$e))),Le=oe+Math.abs($e/360),Le<we&&(we=Le,me=$e,ae=oe))}}else ae=_e(ne);return this.autoRotation=Re,this.labelRotation=b(me,W(Ee)?Ee:0),J.step?ce:ae}getSlotWidth(J){const oe=this.chart,ce=this.horiz,pe=this.options.labels,Ee=Math.max(this.tickPositions.length-(this.categories?0:1),1),ne=oe.margin[3];if(J&&W(J.slotWidth))return J.slotWidth;if(ce&&2>pe.step)return pe.rotation?0:(this.staggerLines||1)*this.len/Ee;if(!ce){if(J=pe.style.width,J!==void 0)return parseInt(String(J),10);if(ne)return ne-oe.spacing[3]}return .33*oe.chartWidth}renderUnsquish(){const J=this.chart,oe=J.renderer,ce=this.tickPositions,pe=this.ticks,Ee=this.options.labels,ne=Ee.style,ye=this.horiz,_e=this.getSlotWidth();var ae=Math.max(1,Math.round(_e-2*Ee.padding));const me={},we=this.labelMetrics(),Re=ne.textOverflow;let Le,$e,rt=0;if(S(Ee.rotation)||(me.rotation=Ee.rotation||0),ce.forEach(function(qe){qe=pe[qe],qe.movedLabel&&qe.replaceMovedLabel(),qe&&qe.label&&qe.label.textPxLength>rt&&(rt=qe.label.textPxLength)}),this.maxLabelLength=rt,this.autoRotation)rt>ae&&rt>we.h?me.rotation=this.labelRotation:this.labelRotation=0;else if(_e&&(Le=ae,!Re))for($e="clip",ae=ce.length;!ye&&ae--;){var Qe=ce[ae];(Qe=pe[Qe].label)&&(Qe.styles&&Qe.styles.textOverflow==="ellipsis"?Qe.css({textOverflow:"clip"}):Qe.textPxLength>_e&&Qe.css({width:_e+"px"}),Qe.getBBox().height>this.len/ce.length-(we.h-we.f)&&(Qe.specificTextOverflow="ellipsis"))}me.rotation&&(Le=rt>.5*J.chartHeight?.33*J.chartHeight:rt,Re||($e="ellipsis")),(this.labelAlign=Ee.align||this.autoLabelAlign(this.labelRotation))&&(me.align=this.labelAlign),ce.forEach(function(qe){const Te=(qe=pe[qe])&&qe.label,Oe=ne.width,ze={};Te&&(Te.attr(me),qe.shortenLabel?qe.shortenLabel():Le&&!Oe&&ne.whiteSpace!=="nowrap"&&(Le<Te.textPxLength||Te.element.tagName==="SPAN")?(ze.width=Le+"px",Re||(ze.textOverflow=Te.specificTextOverflow||$e),Te.css(ze)):Te.styles&&Te.styles.width&&!ze.width&&!Oe&&Te.css({width:null}),delete Te.specificTextOverflow,qe.rotation=me.rotation)},this),this.tickRotCorr=oe.rotCorr(we.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(J){return J.hasData()})||this.options.showEmpty&&U(this.min)&&U(this.max)}addTitle(J){const oe=this.chart.renderer,ce=this.horiz,pe=this.opposite,Ee=this.options.title,ne=this.chart.styledMode;let ye;this.axisTitle||((ye=Ee.textAlign)||(ye=(ce?{low:"left",middle:"center",high:"right"}:{low:pe?"right":"left",middle:"center",high:pe?"left":"right"})[Ee.align]),this.axisTitle=oe.text(Ee.text||"",0,0,Ee.useHTML).attr({zIndex:7,rotation:Ee.rotation,align:ye}).addClass("highcharts-axis-title"),ne||this.axisTitle.css(P(Ee.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),ne||Ee.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[J?"show":"hide"](J)}generateTick(J){const oe=this.ticks;oe[J]?oe[J].addLabel():oe[J]=new Y(this,J)}getOffset(){const J=this,{chart:oe,horiz:ce,options:pe,side:Ee,ticks:ne,tickPositions:ye,coll:_e,axisParent:ae}=J,me=oe.renderer,we=oe.inverted&&!J.isZAxis?[1,0,3,2][Ee]:Ee;var Re=J.hasData();const Le=pe.title;var $e=pe.labels;const rt=W(pe.crossing);var Qe=oe.axisOffset;const qe=oe.clipOffset,Te=[-1,1,1,-1][Ee],Oe=pe.className;let ze,Xe=0,Ke;var pt=0;let Tt=0;if(J.showAxis=ze=Re||pe.showEmpty,J.staggerLines=J.horiz&&$e.staggerLines||void 0,!J.axisGroup){const Bt=(ci,Wt,ui)=>me.g(ci).attr({zIndex:ui}).addClass(`highcharts-${_e.toLowerCase()}${Wt} `+(this.isRadial?`highcharts-radial-axis${Wt} `:"")+(Oe||"")).add(ae);J.gridGroup=Bt("grid","-grid",pe.gridZIndex),J.axisGroup=Bt("axis","",pe.zIndex),J.labelGroup=Bt("axis-labels","-labels",$e.zIndex)}Re||J.isLinked?(ye.forEach(function(Bt){J.generateTick(Bt)}),J.renderUnsquish(),J.reserveSpaceDefault=Ee===0||Ee===2||{1:"left",3:"right"}[Ee]===J.labelAlign,b($e.reserveSpace,rt?!1:null,J.labelAlign==="center"?!0:null,J.reserveSpaceDefault)&&ye.forEach(function(Bt){Tt=Math.max(ne[Bt].getLabelSize(),Tt)}),J.staggerLines&&(Tt*=J.staggerLines),J.labelOffset=Tt*(J.opposite?-1:1)):g(ne,function(Bt,ci){Bt.destroy(),delete ne[ci]}),Le&&Le.text&&Le.enabled!==!1&&(J.addTitle(ze),ze&&!rt&&Le.reserveSpace!==!1&&(J.titleOffset=Xe=J.axisTitle.getBBox()[ce?"height":"width"],Ke=Le.offset,pt=U(Ke)?0:b(Le.margin,ce?5:10))),J.renderLine(),J.offset=Te*b(pe.offset,Qe[Ee]?Qe[Ee]+(pe.margin||0):0),J.tickRotCorr=J.tickRotCorr||{x:0,y:0},Re=Ee===0?-J.labelMetrics().h:Ee===2?J.tickRotCorr.y:0,pt=Math.abs(Tt)+pt,Tt&&(pt=pt-Re+Te*(ce?b($e.y,J.tickRotCorr.y+Te*$e.distance):b($e.x,Te*$e.distance))),J.axisTitleMargin=b(Ke,pt),J.getMaxLabelDimensions&&(J.maxLabelDimensions=J.getMaxLabelDimensions(ne,ye)),_e!=="colorAxis"&&($e=this.tickSize("tick"),Qe[Ee]=Math.max(Qe[Ee],(J.axisTitleMargin||0)+Xe+Te*J.offset,pt,ye&&ye.length&&$e?$e[0]+Te*J.offset:0),Qe=!J.axisLine||pe.offset?0:2*Math.floor(J.axisLine.strokeWidth()/2),qe[we]=Math.max(qe[we],Qe)),N(this,"afterGetOffset")}getLinePath(J){const oe=this.chart,ce=this.opposite;var pe=this.offset;const Ee=this.horiz,ne=this.left+(ce?this.width:0)+pe;return pe=oe.chartHeight-this.bottom-(ce?this.height:0)+pe,ce&&(J*=-1),oe.renderer.crispLine([["M",Ee?this.left:ne,Ee?pe:this.top],["L",Ee?oe.chartWidth-this.right:ne,Ee?pe:oe.chartHeight-this.bottom]],J)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(J){var oe=this.horiz,ce=this.left;const pe=this.top;var Ee=this.len;const ne=this.options.title,ye=oe?ce:pe,_e=this.opposite,ae=this.offset,me=ne.x,we=ne.y,Re=this.chart.renderer.fontMetrics(J);return J=J?Math.max(J.getBBox(!1,0).height-Re.h-1,0):0,Ee={low:ye+(oe?0:Ee),middle:ye+Ee/2,high:ye+(oe?Ee:0)}[ne.align],ce=(oe?pe+this.height:ce)+(oe?1:-1)*(_e?-1:1)*(this.axisTitleMargin||0)+[-J,J,Re.f,-J][this.side],oe={x:oe?Ee+me:ce+(_e?this.width:0)+ae+me,y:oe?ce+we-(_e?this.height:0)+ae:Ee+we},N(this,"afterGetTitlePosition",{titlePosition:oe}),oe}renderMinorTick(J,oe){const ce=this.minorTicks;ce[J]||(ce[J]=new Y(this,J,"minor")),oe&&ce[J].isNew&&ce[J].render(null,!0),ce[J].render(null,!1,1)}renderTick(J,oe,ce){const pe=this.ticks;(!this.isLinked||J>=this.min&&J<=this.max||this.grid&&this.grid.isColumn)&&(pe[J]||(pe[J]=new Y(this,J)),ce&&pe[J].isNew&&pe[J].render(oe,!0,-1),pe[J].render(oe))}render(){const J=this,oe=J.chart,ce=J.logarithmic,pe=J.options,Ee=J.isLinked,ne=J.tickPositions,ye=J.axisTitle,_e=J.ticks,ae=J.minorTicks,me=J.alternateBands,we=pe.stackLabels,Re=pe.alternateGridColor,Le=pe.crossing,$e=J.tickmarkOffset,rt=J.axisLine,Qe=J.showAxis,qe=V(oe.renderer.globalAnimation);let Te,Oe;if(J.labelEdge.length=0,J.overlap=!1,[_e,ae,me].forEach(function(ze){g(ze,function(Xe){Xe.isActive=!1})}),W(Le)){const ze=this.isXAxis?oe.yAxis[0]:oe.xAxis[0],Xe=[1,-1,-1,1][this.side];ze&&(this.offset=Xe*ze.toPixels(Le,!0))}if(J.hasData()||Ee){const ze=J.chart.hasRendered&&J.old&&W(J.old.min);J.minorTickInterval&&!J.categories&&J.getMinorTickPositions().forEach(function(Xe){J.renderMinorTick(Xe,ze)}),ne.length&&(ne.forEach(function(Xe,Ke){J.renderTick(Xe,Ke,ze)}),$e&&(J.min===0||J.single)&&(_e[-1]||(_e[-1]=new Y(J,-1,null,!0)),_e[-1].render(-1))),Re&&ne.forEach(function(Xe,Ke){Oe=typeof ne[Ke+1]<"u"?ne[Ke+1]+$e:J.max-$e,Ke%2===0&&Xe<J.max&&Oe<=J.max+(oe.polar?-$e:$e)&&(me[Xe]||(me[Xe]=new z.PlotLineOrBand(J)),Te=Xe+$e,me[Xe].options={from:ce?ce.lin2log(Te):Te,to:ce?ce.lin2log(Oe):Oe,color:Re,className:"highcharts-alternate-grid"},me[Xe].render(),me[Xe].isActive=!0)}),J._addedPlotLB||(J._addedPlotLB=!0,(pe.plotLines||[]).concat(pe.plotBands||[]).forEach(function(Xe){J.addPlotBandOrLine(Xe)}))}[_e,ae,me].forEach(function(ze){const Xe=[],Ke=qe.duration;g(ze,function(pt,Tt){pt.isActive||(pt.render(Tt,!1,0),pt.isActive=!1,Xe.push(Tt))}),Z(function(){let pt=Xe.length;for(;pt--;)ze[Xe[pt]]&&!ze[Xe[pt]].isActive&&(ze[Xe[pt]].destroy(),delete ze[Xe[pt]])},ze!==me&&oe.hasRendered&&Ke?Ke:0)}),rt&&(rt[rt.isPlaced?"animate":"attr"]({d:this.getLinePath(rt.strokeWidth())}),rt.isPlaced=!0,rt[Qe?"show":"hide"](Qe)),ye&&Qe&&(ye[ye.isNew?"attr":"animate"](J.getTitlePosition(ye)),ye.isNew=!1),we&&we.enabled&&J.stacking&&J.stacking.renderStackTotals(),J.old={len:J.len,max:J.max,min:J.min,transA:J.transA,userMax:J.userMax,userMin:J.userMin},J.isDirty=!1,N(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(J){J.render()})),this.series.forEach(function(J){J.isDirty=!0})}getKeepProps(){return this.keepProps||ge.keepProps}destroy(J){const oe=this,ce=oe.plotLinesAndBands,pe=this.eventOptions;if(N(this,"destroy",{keepEvents:J}),J||X(oe),[oe.ticks,oe.minorTicks,oe.alternateBands].forEach(function(Ee){$(Ee)}),ce)for(J=ce.length;J--;)ce[J].destroy();"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(Ee){oe[Ee]&&(oe[Ee]=oe[Ee].destroy())});for(const Ee in oe.plotLinesAndBandsGroups)oe.plotLinesAndBandsGroups[Ee]=oe.plotLinesAndBandsGroups[Ee].destroy();g(oe,function(Ee,ne){oe.getKeepProps().indexOf(ne)===-1&&delete oe[ne]}),this.eventOptions=pe}drawCrosshair(J,oe){const ce=this.crosshair;var pe=b(ce&&ce.snap,!0);const Ee=this.chart;let ne,ye=this.cross;if(N(this,"drawCrosshair",{e:J,point:oe}),J||(J=this.cross&&this.cross.e),ce&&(U(oe)||!pe)!==!1){if(pe?U(oe)&&(ne=b(this.coll!=="colorAxis"?oe.crosshairPos:null,this.isXAxis?oe.plotX:this.len-oe.plotY)):ne=J&&(this.horiz?J.chartX-this.pos:this.len-J.chartY+this.pos),U(ne)){var _e={value:oe&&(this.isXAxis?oe.x:b(oe.stackY,oe.y)),translatedValue:ne};Ee.polar&&Q(_e,{isCrosshair:!0,chartX:J&&J.chartX,chartY:J&&J.chartY,point:oe}),_e=this.getPlotLinePath(_e)||null}if(!U(_e)){this.hideCrosshair();return}pe=this.categories&&!this.isRadial,ye||(this.cross=ye=Ee.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(pe?"category ":"thin ")+(ce.className||"")).attr({zIndex:b(ce.zIndex,2)}).add(),Ee.styledMode||(ye.attr({stroke:ce.color||(pe?m.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":b(ce.width,1)}).css({"pointer-events":"none"}),ce.dashStyle&&ye.attr({dashstyle:ce.dashStyle}))),ye.show().attr({d:_e}),pe&&!ce.width&&ye.attr({"stroke-width":this.transA}),this.cross.e=J}else this.hideCrosshair();N(this,"afterDrawCrosshair",{e:J,point:oe})}hideCrosshair(){this.cross&&this.cross.hide(),N(this,"afterHideCrosshair")}hasVerticalPanning(){const J=this.chart.options.chart.panning;return!!(J&&J.enabled&&/y/.test(J.type))}update(J,oe){const ce=this.chart;J=P(this.userOptions,J),this.destroy(!0),this.init(ce,J),ce.isDirtyBox=!0,b(oe,!0)&&ce.redraw()}remove(J){const oe=this.chart,ce=this.coll,pe=this.series;let Ee=pe.length;for(;Ee--;)pe[Ee]&&pe[Ee].remove(!1);E(oe.axes,this),E(oe[ce],this),oe[ce].forEach(function(ne,ye){ne.options.index=ne.userOptions.index=ye}),this.destroy(),oe.isDirtyBox=!0,b(J,!0)&&oe.redraw()}setTitle(J,oe){this.update({title:J},oe)}setCategories(J,oe){this.update({categories:J},oe)}}return ge.defaultOptions=h.defaultXAxisOptions,ge.keepProps="extKey hcEvents names series userMax userMin".split(" "),ge}),s(a,"Core/Axis/DateTimeAxis.js",[a["Core/Utilities.js"]],function(c){const{addEvent:h,getMagnitude:m,normalizeTickInterval:n,timeUnits:x}=c;var z;return function(Y){function O(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function V(I){I.userOptions.type!=="datetime"?this.dateTime=void 0:this.dateTime||(this.dateTime=new L(this))}const q=[];Y.compose=function(I){return c.pushUnique(q,I)&&(I.keepProps.push("dateTime"),I.prototype.getTimeTicks=O,h(I,"init",V)),I};class L{constructor(H){this.axis=H}normalizeTimeTickInterval(H,M){const C=M||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];M=C[C.length-1];let A=x[M[0]],U=M[1],$;for($=0;$<C.length&&(M=C[$],A=x[M[0]],U=M[1],!(C[$+1]&&H<=(A*U[U.length-1]+x[C[$+1][0]])/2));$++);return A===x.year&&H<5*A&&(U=[1,2,5]),H=n(H/A,U,M[0]==="year"?Math.max(m(H/A),1):1),{unitRange:A,count:H,unitName:M[0]}}getXDateFormat(H,M){const{axis:C}=this,A=C.chart.time;return C.closestPointRange?A.getDateFormat(C.closestPointRange,H,C.options.startOfWeek,M)||A.resolveDTLFormat(M.year).main:A.resolveDTLFormat(M.day).main}}Y.Additions=L}(z||(z={})),z}),s(a,"Core/Axis/LogarithmicAxis.js",[a["Core/Utilities.js"]],function(c){const{addEvent:h,normalizeTickInterval:m,pick:n}=c;var x;return function(z){function Y(L){let I=this.logarithmic;L.userOptions.type!=="logarithmic"?this.logarithmic=void 0:I||(this.logarithmic=new q(this))}function O(){const L=this.logarithmic;L&&(this.lin2val=function(I){return L.lin2log(I)},this.val2lin=function(I){return L.log2lin(I)})}const V=[];z.compose=function(L){return c.pushUnique(V,L)&&(L.keepProps.push("logarithmic"),h(L,"init",Y),h(L,"afterInit",O)),L};class q{constructor(I){this.axis=I}getLogTickPositions(I,H,M,C){const A=this.axis;var U=A.len,$=A.options;let E=[];if(C||(this.minorAutoInterval=void 0),.5<=I)I=Math.round(I),E=A.getLinearTickPositions(I,H,M);else if(.08<=I){$=Math.floor(H);let ee,Q,N,j,W;for(U=.3<I?[1,2,4]:.15<I?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];$<M+1&&!W;$++)for(Q=U.length,ee=0;ee<Q&&!W;ee++)N=this.log2lin(this.lin2log($)*U[ee]),N>H&&(!C||j<=M)&&typeof j<"u"&&E.push(j),j>M&&(W=!0),j=N}else H=this.lin2log(H),M=this.lin2log(M),I=C?A.getMinorTickInterval():$.tickInterval,I=n(I==="auto"?null:I,this.minorAutoInterval,$.tickPixelInterval/(C?5:1)*(M-H)/((C?U/A.tickPositions.length:U)||1)),I=m(I),E=A.getLinearTickPositions(I,H,M).map(this.log2lin),C||(this.minorAutoInterval=I/5);return C||(A.tickInterval=I),E}lin2log(I){return Math.pow(10,I)}log2lin(I){return Math.log(I)/Math.LN10}}z.Additions=q}(x||(x={})),x}),s(a,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[a["Core/Utilities.js"]],function(c){const{erase:h,extend:m,isNumber:n}=c;var x;return function(z){function Y(A){return this.addPlotBandOrLine(A,"plotBands")}function O(A,U){const $=this.userOptions;let E=new C(this,A);if(this.visible&&(E=E.render()),E){if(this._addedPlotLB||(this._addedPlotLB=!0,($.plotLines||[]).concat($.plotBands||[]).forEach(ee=>{this.addPlotBandOrLine(ee)})),U){const ee=$[U]||[];ee.push(A),$[U]=ee}this.plotLinesAndBands.push(E)}return E}function V(A){return this.addPlotBandOrLine(A,"plotLines")}function q(A,U,$=this.options){const E=this.getPlotLinePath({value:U,force:!0,acrossPanes:$.acrossPanes}),ee=[],Q=this.horiz;U=!n(this.min)||!n(this.max)||A<this.min&&U<this.min||A>this.max&&U>this.max,A=this.getPlotLinePath({value:A,force:!0,acrossPanes:$.acrossPanes}),$=1;let N;if(A&&E)for(U&&(N=A.toString()===E.toString(),$=0),U=0;U<A.length;U+=2){const j=A[U],W=A[U+1],S=E[U],P=E[U+1];j[0]!=="M"&&j[0]!=="L"||W[0]!=="M"&&W[0]!=="L"||S[0]!=="M"&&S[0]!=="L"||P[0]!=="M"&&P[0]!=="L"||(Q&&S[1]===j[1]?(S[1]+=$,P[1]+=$):Q||S[2]!==j[2]||(S[2]+=$,P[2]+=$),ee.push(["M",j[1],j[2]],["L",W[1],W[2]],["L",P[1],P[2]],["L",S[1],S[2]],["Z"])),ee.isFlat=N}return ee}function L(A){this.removePlotBandOrLine(A)}function I(A){const U=this.plotLinesAndBands,$=this.options,E=this.userOptions;if(U){let ee=U.length;for(;ee--;)U[ee].id===A&&U[ee].destroy();[$.plotLines||[],E.plotLines||[],$.plotBands||[],E.plotBands||[]].forEach(function(Q){for(ee=Q.length;ee--;)(Q[ee]||{}).id===A&&h(Q,Q[ee])})}}function H(A){this.removePlotBandOrLine(A)}const M=[];let C;z.compose=function(A,U){return C||(C=A),c.pushUnique(M,U)&&m(U.prototype,{addPlotBand:Y,addPlotLine:V,addPlotBandOrLine:O,getPlotBandPath:q,removePlotBand:L,removePlotLine:H,removePlotBandOrLine:I}),U}}(x||(x={})),x}),s(a,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[a["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],a["Core/Utilities.js"]],function(c,h){const{arrayMax:m,arrayMin:n,defined:x,destroyObjectProperties:z,erase:Y,fireEvent:O,merge:V,objectEach:q,pick:L}=h;class I{static compose(M){return c.compose(I,M)}constructor(M,C){this.axis=M,C&&(this.options=C,this.id=C.id)}render(){O(this,"render");const M=this,C=M.axis,A=C.horiz;var U=C.logarithmic;const $=M.options,E=$.color,ee=L($.zIndex,0),Q=$.events,N={},j=C.chart.renderer;let W=$.label,S=M.label,P=$.to,f=$.from,g=$.value,b=M.svgElem;var D=[];const X=x(f)&&x(P);D=x(g);const te=!b,Z={class:"highcharts-plot-"+(X?"band ":"line ")+($.className||"")};let de=X?"bands":"lines";if(U&&(f=U.log2lin(f),P=U.log2lin(P),g=U.log2lin(g)),C.chart.styledMode||(D?(Z.stroke=E||"#999999",Z["stroke-width"]=L($.width,1),$.dashStyle&&(Z.dashstyle=$.dashStyle)):X&&(Z.fill=E||"#e6e9ff",$.borderWidth&&(Z.stroke=$.borderColor,Z["stroke-width"]=$.borderWidth))),N.zIndex=ee,de+="-"+ee,(U=C.plotLinesAndBandsGroups[de])||(C.plotLinesAndBandsGroups[de]=U=j.g("plot-"+de).attr(N).add()),te&&(M.svgElem=b=j.path().attr(Z).add(U)),D)D=C.getPlotLinePath({value:g,lineWidth:b.strokeWidth(),acrossPanes:$.acrossPanes});else if(X)D=C.getPlotBandPath(f,P,$);else return;return!M.eventsAdded&&Q&&(q(Q,function(ge,Ce){b.on(Ce,function(J){Q[Ce].apply(M,[J])})}),M.eventsAdded=!0),(te||!b.d)&&D&&D.length?b.attr({d:D}):b&&(D?(b.show(),b.animate({d:D})):b.d&&(b.hide(),S&&(M.label=S=S.destroy()))),W&&(x(W.text)||x(W.formatter))&&D&&D.length&&0<C.width&&0<C.height&&!D.isFlat?(W=V({align:A&&X&&"center",x:A?!X&&4:10,verticalAlign:!A&&X&&"middle",y:A?X?16:10:X?6:-4,rotation:A&&!X&&90},W),this.renderLabel(W,D,X,ee)):S&&S.hide(),M}renderLabel(M,C,A,U){const $=this.axis;var E=$.chart.renderer;let ee=this.label;ee||(this.label=ee=E.text(this.getLabelText(M),0,0,M.useHTML).attr({align:M.textAlign||M.align,rotation:M.rotation,class:"highcharts-plot-"+(A?"band":"line")+"-label "+(M.className||""),zIndex:U}).add(),$.chart.styledMode||ee.css(V({fontSize:"0.8em",textOverflow:"ellipsis"},M.style))),U=C.xBounds||[C[0][1],C[1][1],A?C[2][1]:C[0][1]],C=C.yBounds||[C[0][2],C[1][2],A?C[2][2]:C[0][2]],A=n(U),E=n(C),ee.align(M,!1,{x:A,y:E,width:m(U)-A,height:m(C)-E}),ee.alignValue&&ee.alignValue!=="left"||(M=M.clip?$.width:$.chart.chartWidth,ee.css({width:(ee.rotation===90?$.height-(ee.alignAttr.y-$.top):M-(ee.alignAttr.x-$.left))+"px"})),ee.show(!0)}getLabelText(M){return x(M.formatter)?M.formatter.call(this):M.text}destroy(){Y(this.axis.plotLinesAndBands,this),delete this.axis,z(this)}}return I}),s(a,"Core/Tooltip.js",[a["Core/FormatUtilities.js"],a["Core/Globals.js"],a["Core/Renderer/RendererUtilities.js"],a["Core/Renderer/RendererRegistry.js"],a["Core/Utilities.js"]],function(c,h,m,n,x){const{format:z}=c,{doc:Y,isSafari:O}=h,{distribute:V}=m,{addEvent:q,clamp:L,css:I,discardElement:H,extend:M,fireEvent:C,isArray:A,isNumber:U,isString:$,merge:E,pick:ee,splat:Q,syncTimeout:N}=x;class j{constructor(S,P){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=S,this.init(S,P)}bodyFormatter(S){return S.map(function(P){const f=P.series.tooltipOptions;return(f[(P.point.formatPrefix||"point")+"Formatter"]||P.point.tooltipFormatter).call(P.point,f[(P.point.formatPrefix||"point")+"Format"]||"")})}cleanSplit(S){this.chart.series.forEach(function(P){const f=P&&P.tt;f&&(!f.isActive||S?P.tt=f.destroy():f.isActive=!1)})}defaultFormatter(S){const P=this.points||Q(this);let f;return f=[S.tooltipFooterHeaderFormatter(P[0])],f=f.concat(S.bodyFormatter(P)),f.push(S.tooltipFooterHeaderFormatter(P[0],!0)),f}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),H(this.container)),x.clearTimeout(this.hideTimer),x.clearTimeout(this.tooltipTimeout)}getAnchor(S,P){var f=this.chart;const g=f.pointer,b=f.inverted,D=f.plotTop;if(f=f.plotLeft,S=Q(S),S[0].series&&S[0].series.yAxis&&!S[0].series.yAxis.options.reversedStacks&&(S=S.slice().reverse()),this.followPointer&&P)typeof P.chartX>"u"&&(P=g.normalize(P)),S=[P.chartX-f,P.chartY-D];else if(S[0].tooltipPos)S=S[0].tooltipPos;else{let X=0,te=0;S.forEach(function(Z){(Z=Z.pos(!0))&&(X+=Z[0],te+=Z[1])}),X/=S.length,te/=S.length,this.shared&&1<S.length&&P&&(b?X=P.chartX:te=P.chartY),S=[X-f,te-D]}return S.map(Math.round)}getClassName(S,P,f){const g=S.series,b=g.options;return[this.options.className,"highcharts-label",f&&"highcharts-tooltip-header",P?"highcharts-tooltip-box":"highcharts-tooltip",!f&&"highcharts-color-"+ee(S.colorIndex,g.colorIndex),b&&b.className].filter($).join(" ")}getLabel(){const S=this,P=this.chart.styledMode,f=this.options,g=this.split&&this.allowShared,b=f.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none");let D,X=this.chart.renderer;if(this.label){var te=!this.label.hasClass("highcharts-label");(!g&&te||g&&!te)&&this.destroy()}if(!this.label){if(this.outside){te=this.chart.options.chart.style;const Z=n.getRendererType();this.container=D=h.doc.createElement("div"),D.className="highcharts-tooltip-container",I(D,{position:"absolute",top:"1px",pointerEvents:b,zIndex:Math.max(this.options.style.zIndex||0,(te&&te.zIndex||0)+3)}),h.doc.body.appendChild(D),this.renderer=X=new Z(D,0,0,te,void 0,void 0,X.styledMode)}if(g?this.label=X.g("tooltip"):(this.label=X.label("",0,0,f.shape,void 0,void 0,f.useHTML,void 0,"tooltip").attr({padding:f.padding,r:f.borderRadius}),P||this.label.attr({fill:f.backgroundColor,"stroke-width":f.borderWidth||0}).css(f.style).css({pointerEvents:b})),S.outside){const Z=this.label,{xSetter:de,ySetter:ge}=Z;Z.xSetter=function(Ce){de.call(Z,S.distance),D.style.left=Ce+"px"},Z.ySetter=function(Ce){ge.call(Z,S.distance),D.style.top=Ce+"px"}}this.label.attr({zIndex:8}).shadow(f.shadow).add()}return this.label}getPlayingField(){const{body:S,documentElement:P}=Y,{chart:f,distance:g,outside:b}=this;return{width:b?Math.max(S.scrollWidth,P.scrollWidth,S.offsetWidth,P.offsetWidth,P.clientWidth)-2*g:f.chartWidth,height:b?Math.max(S.scrollHeight,P.scrollHeight,S.offsetHeight,P.offsetHeight,P.clientHeight):f.chartHeight}}getPosition(S,P,f){const g=this.chart,b=this.distance,D={},X=g.inverted&&f.h||0,te=this.outside;var Z=this.getPlayingField();const de=Z.width,ge=Z.height,Ce=g.pointer.getChartPosition();Z=ae=>{const me=ae==="x";return[ae,me?de:ge,me?S:P].concat(te?[me?S*Ce.scaleX:P*Ce.scaleY,me?Ce.left-b+(f.plotX+g.plotLeft)*Ce.scaleX:Ce.top-b+(f.plotY+g.plotTop)*Ce.scaleY,0,me?de:ge]:[me?S:P,me?f.plotX+g.plotLeft:f.plotY+g.plotTop,me?g.plotLeft:g.plotTop,me?g.plotLeft+g.plotWidth:g.plotTop+g.plotHeight])};let J=Z("y"),oe=Z("x"),ce;Z=!!f.negative,!g.polar&&g.hoverSeries&&g.hoverSeries.yAxis&&g.hoverSeries.yAxis.reversed&&(Z=!Z);const pe=!this.followPointer&&ee(f.ttBelow,!g.inverted===Z),Ee=function(ae,me,we,Re,Le,$e,rt){const Qe=te?ae==="y"?b*Ce.scaleY:b*Ce.scaleX:b,qe=(we-Re)/2,Te=Re<Le-b,Oe=Le+b+Re<me,ze=Le-Qe-we+qe;if(Le=Le+Qe-qe,pe&&Oe)D[ae]=Le;else if(!pe&&Te)D[ae]=ze;else if(Te)D[ae]=Math.min(rt-Re,0>ze-X?ze:ze-X);else if(Oe)D[ae]=Math.max($e,Le+X+we>me?Le:Le+X);else return!1},ne=function(ae,me,we,Re,Le){let $e;return Le<b||Le>me-b?$e=!1:D[ae]=Le<we/2?1:Le>me-Re/2?me-Re-2:Le-we/2,$e},ye=function(ae){const me=J;J=oe,oe=me,ce=ae},_e=function(){Ee.apply(0,J)!==!1?ne.apply(0,oe)!==!1||ce||(ye(!0),_e()):ce?D.x=D.y=0:(ye(!0),_e())};return(g.inverted||1<this.len)&&ye(),_e(),D}hide(S){const P=this;x.clearTimeout(this.hideTimer),S=ee(S,this.options.hideDelay),this.isHidden||(this.hideTimer=N(function(){P.getLabel().fadeOut(S&&void 0),P.isHidden=!0},S))}init(S,P){this.chart=S,this.options=P,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=P.split&&!S.inverted&&!S.polar,this.shared=P.shared||this.split,this.outside=ee(P.outside,!(!S.scrollablePixelsX&&!S.scrollablePixelsY))}shouldStickOnContact(S){return!(this.followPointer||!this.options.stickOnContact||S&&!this.chart.pointer.inClass(S.target,"highcharts-tooltip"))}move(S,P,f,g){const b=this,D=b.now,X=b.options.animation!==!1&&!b.isHidden&&(1<Math.abs(S-D.x)||1<Math.abs(P-D.y)),te=b.followPointer||1<b.len;M(D,{x:X?(2*D.x+S)/3:S,y:X?(D.y+P)/2:P,anchorX:te?void 0:X?(2*D.anchorX+f)/3:f,anchorY:te?void 0:X?(D.anchorY+g)/2:g}),b.getLabel().attr(D),b.drawTracker(),X&&(x.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){b&&b.move(S,P,f,g)},32))}refresh(S,P){const f=this.chart,g=this.options,b=f.pointer,D=Q(S),X=D[0],te=[];var Z=g.formatter||this.defaultFormatter,de=this.shared;const ge=f.styledMode;let Ce={};if(g.enabled&&X.series){x.clearTimeout(this.hideTimer),this.allowShared=!(!A(S)&&S.series&&S.series.noSharedTooltip),this.followPointer=!this.split&&X.series.tooltipOptions.followPointer,S=this.getAnchor(S,P);var J=S[0],oe=S[1];if(de&&this.allowShared?(b.applyInactiveState(D),D.forEach(function(ce){ce.setState("hover"),te.push(ce.getLabelConfig())}),Ce={x:X.category,y:X.y},Ce.points=te):Ce=X.getLabelConfig(),this.len=te.length,Z=Z.call(Ce,this),de=X.series,this.distance=ee(de.tooltipOptions.distance,16),Z===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(Z,D);else{let ce=J,pe=oe;if(P&&b.isDirectTouch&&(ce=P.chartX-f.plotLeft,pe=P.chartY-f.plotTop),f.polar||de.options.clip===!1||D.some(Ee=>b.isDirectTouch||Ee.series.shouldShowTooltip(ce,pe)))P=this.getLabel(),g.style.width&&!ge||P.css({width:(this.outside?this.getPlayingField():f.spacingBox).width+"px"}),P.attr({text:Z&&Z.join?Z.join(""):Z}),P.addClass(this.getClassName(X),!0),ge||P.attr({stroke:g.borderColor||X.color||de.color||"#666666"}),this.updatePosition({plotX:J,plotY:oe,negative:X.negative,ttBelow:X.ttBelow,h:S[2]||0});else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}C(this,"refresh")}}renderSplit(S,P){function f(Ke,pt,Tt,Bt,ci=!0){return Tt?(pt=we?0:Qe,Ke=L(Ke-Bt/2,_e.left,_e.right-Bt-(g.outside?Re:0))):(pt-=$e,Ke=ci?Ke-Bt-Ee:Ke+Ee,Ke=L(Ke,ci?Ke:_e.left,_e.right)),{x:Ke,y:pt}}const g=this,{chart:b,chart:{chartWidth:D,chartHeight:X,plotHeight:te,plotLeft:Z,plotTop:de,pointer:ge,scrollablePixelsY:Ce=0,scrollablePixelsX:J,scrollingContainer:{scrollLeft:oe,scrollTop:ce}={scrollLeft:0,scrollTop:0},styledMode:pe},distance:Ee,options:ne,options:{positioner:ye}}=g,_e=g.outside&&typeof J!="number"?Y.documentElement.getBoundingClientRect():{left:oe,right:oe+D,top:ce,bottom:ce+X},ae=g.getLabel(),me=this.renderer||b.renderer,we=!(!b.xAxis[0]||!b.xAxis[0].opposite),{left:Re,top:Le}=ge.getChartPosition();let $e=de+ce,rt=0,Qe=te-Ce;$(S)&&(S=[!1,S]),S=S.slice(0,P.length+1).reduce(function(Ke,pt,Tt){if(pt!==!1&&pt!==""){Tt=P[Tt-1]||{isHeader:!0,plotX:P[0].plotX,plotY:te,series:{}};const Ii=Tt.isHeader;var Bt=Ii?g:Tt.series,ci;{var Wt=Tt;pt=pt.toString();var ui=Bt.tt;const{isHeader:sn,series:vn}=Wt;ui||(ui={padding:ne.padding,r:ne.borderRadius},pe||(ui.fill=ne.backgroundColor,ui["stroke-width"]=(ci=ne.borderWidth)!==null&&ci!==void 0?ci:1),ui=me.label("",0,0,ne[sn?"headerShape":"shape"],void 0,void 0,ne.useHTML).addClass(g.getClassName(Wt,!0,sn)).attr(ui).add(ae)),ui.isActive=!0,ui.attr({text:pt}),pe||ui.css(ne.style).attr({stroke:ne.borderColor||Wt.color||vn.color||"#333333"}),ci=ui}ci=Bt.tt=ci,Wt=ci.getBBox(),Bt=Wt.width+ci.strokeWidth(),Ii&&(rt=Wt.height,Qe+=rt,we&&($e-=rt));{const{isHeader:sn,plotX:vn=0,plotY:Gn=0,series:br}=Tt;if(sn){pt=Z+vn;var ji=de+te/2}else{const{xAxis:us,yAxis:Ps}=br;pt=us.pos+L(vn,-Ee,us.len+Ee),br.shouldShowTooltip(0,Ps.pos-de+Gn,{ignoreX:!0})&&(ji=Ps.pos+Gn)}pt=L(pt,_e.left-Ee,_e.right+Ee),ji={anchorX:pt,anchorY:ji}}const{anchorX:wi,anchorY:Ci}=ji;typeof Ci=="number"?(ji=Wt.height+1,Wt=ye?ye.call(g,Bt,ji,Tt):f(wi,Ci,Ii,Bt),Ke.push({align:ye?0:void 0,anchorX:wi,anchorY:Ci,boxWidth:Bt,point:Tt,rank:ee(Wt.rank,Ii?1:0),size:ji,target:Wt.y,tt:ci,x:Wt.x})):ci.isActive=!1}return Ke},[]),!ye&&S.some(Ke=>{var{outside:pt}=g;return pt=(pt?Re:0)+Ke.anchorX,pt<_e.left&&pt+Ke.boxWidth<_e.right?!0:pt<Re-_e.left+Ke.boxWidth&&_e.right-pt>pt})&&(S=S.map(Ke=>{const{x:pt,y:Tt}=f(Ke.anchorX,Ke.anchorY,Ke.point.isHeader,Ke.boxWidth,!1);return M(Ke,{target:Tt,x:pt})})),g.cleanSplit(),V(S,Qe);var qe=Re,Te=Re;S.forEach(function(Ke){const{x:pt,boxWidth:Tt,isHeader:Bt}=Ke;Bt||(g.outside&&Re+pt<qe&&(qe=Re+pt),!Bt&&g.outside&&qe+Tt>Te&&(Te=Re+pt))}),S.forEach(function(Ke){const{x:pt,anchorX:Tt,anchorY:Bt,pos:ci,point:{isHeader:Wt}}=Ke,ui={visibility:typeof ci>"u"?"hidden":"inherit",x:pt,y:(ci||0)+$e,anchorX:Tt,anchorY:Bt};if(g.outside&&pt<Tt){const ji=Re-qe;0<ji&&(Wt||(ui.x=pt+ji,ui.anchorX=Tt+ji),Wt&&(ui.x=(Te-qe)/2,ui.anchorX=Tt+ji))}Ke.tt.attr(ui)});const{container:Oe,outside:ze,renderer:Xe}=g;if(ze&&Oe&&Xe){const{width:Ke,height:pt,x:Tt,y:Bt}=ae.getBBox();Xe.setSize(Ke+Tt,pt+Bt,!1),Oe.style.left=qe+"px",Oe.style.top=Le+"px"}O&&ae.attr({opacity:ae.opacity===1?.999:1})}drawTracker(){if(this.shouldStickOnContact()){var S=this.chart,P=this.label,f=this.shared?S.hoverPoints:S.hoverPoint;if(P&&f){var g={x:0,y:0,width:0,height:0};f=this.getAnchor(f);var b=P.getBBox();f[0]+=S.plotLeft-P.translateX,f[1]+=S.plotTop-P.translateY,g.x=Math.min(0,f[0]),g.y=Math.min(0,f[1]),g.width=0>f[0]?Math.max(Math.abs(f[0]),b.width-f[0]):Math.max(Math.abs(f[0]),b.width),g.height=0>f[1]?Math.max(Math.abs(f[1]),b.height-Math.abs(f[1])):Math.max(Math.abs(f[1]),b.height),this.tracker?this.tracker.attr(g):(this.tracker=P.renderer.rect(g).addClass("highcharts-tracker").add(P),S.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}else this.tracker&&(this.tracker=this.tracker.destroy())}styledModeFormat(S){return S.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(S,P){const f=S.series,g=f.tooltipOptions;var b=f.xAxis;const D=b&&b.dateTime;b={isFooter:P,labelConfig:S};let X=g.xDateFormat,te=g[P?"footerFormat":"headerFormat"];return C(this,"headerFormatter",b,function(Z){D&&!X&&U(S.key)&&(X=D.getXDateFormat(S.key,g.dateTimeLabelFormats)),D&&X&&(S.point&&S.point.tooltipDateKeys||["key"]).forEach(function(de){te=te.replace("{point."+de+"}","{point."+de+":"+X+"}")}),f.chart.styledMode&&(te=this.styledModeFormat(te)),Z.text=z(te,{point:S,series:f},this.chart)}),b.text}update(S){this.destroy(),E(!0,this.chart.options.tooltip.userOptions,S),this.init(this.chart,E(!0,this.options,S))}updatePosition(S){const{chart:P,distance:f,options:g}=this;var b=P.pointer;const D=this.getLabel(),{left:X,top:te,scaleX:Z,scaleY:de}=b.getChartPosition();b=(g.positioner||this.getPosition).call(this,D.width,D.height,S);let ge=(S.plotX||0)+P.plotLeft;S=(S.plotY||0)+P.plotTop;let Ce;this.outside&&(g.positioner&&(b.x+=X-f,b.y+=te-f),Ce=(g.borderWidth||0)+2*f,this.renderer.setSize(D.width+Ce,D.height+Ce,!1),(Z!==1||de!==1)&&(I(this.container,{transform:`scale(${Z}, ${de})`}),ge*=Z,S*=de),ge+=X-b.x,S+=te-b.y),this.move(Math.round(b.x),Math.round(b.y||0),ge,S)}}return function(W){const S=[];W.compose=function(P){x.pushUnique(S,P)&&q(P,"afterInit",function(){const f=this.chart;f.options.tooltip&&(f.tooltip=new W(f,f.options.tooltip))})}}(j||(j={})),j}),s(a,"Core/Series/Point.js",[a["Core/Renderer/HTML/AST.js"],a["Core/Animation/AnimationUtilities.js"],a["Core/Defaults.js"],a["Core/FormatUtilities.js"],a["Core/Utilities.js"]],function(c,h,m,n,x){const{animObject:z}=h,{defaultOptions:Y}=m,{format:O}=n,{addEvent:V,defined:q,erase:L,extend:I,fireEvent:H,getNestedProperty:M,isArray:C,isFunction:A,isNumber:U,isObject:$,merge:E,objectEach:ee,pick:Q,syncTimeout:N,removeEvent:j,uniqueKey:W}=x;class S{constructor(){this.category=void 0,this.destroyed=!1,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.shapeArgs=this.series=void 0,this.visible=!0,this.x=void 0}animateBeforeDestroy(){const f=this,g={x:f.startXPos,opacity:0},b=f.getGraphicalProps();b.singular.forEach(function(D){f[D]=f[D].animate(D==="dataLabel"?{x:f[D].startXPos,y:f[D].startYPos,opacity:0}:g)}),b.plural.forEach(function(D){f[D].forEach(function(X){X.element&&X.animate(I({x:f.startXPos},X.startYPos?{x:X.startXPos,y:X.startYPos}:{}))})})}applyOptions(f,g){const b=this.series,D=b.options.pointValKey||b.pointValKey;return f=S.prototype.optionsToObject.call(this,f),I(this,f),this.options=this.options?I(this.options,f):f,f.group&&delete this.group,f.dataLabels&&delete this.dataLabels,D&&(this.y=S.prototype.getNestedProperty.call(this,D)),this.formatPrefix=(this.isNull=this.isValid&&!this.isValid())?"null":"point",this.selected&&(this.state="select"),"name"in this&&typeof g>"u"&&b.xAxis&&b.xAxis.hasNames&&(this.x=b.xAxis.nameToX(this)),typeof this.x>"u"&&b?this.x=typeof g>"u"?b.autoIncrement():g:U(f.x)&&b.options.relativeXValue&&(this.x=b.autoIncrement(f.x)),this}destroy(){if(!this.destroyed){const g=this;var f=g.series;const b=f.chart;f=f.options.dataSorting;const D=b.hoverPoints,X=z(g.series.chart.renderer.globalAnimation),te=()=>{(g.graphic||g.graphics||g.dataLabel||g.dataLabels)&&(j(g),g.destroyElements());for(const Z in g)delete g[Z]};g.legendItem&&b.legend.destroyItem(g),D&&(g.setState(),L(D,g),D.length||(b.hoverPoints=null)),g===b.hoverPoint&&g.onMouseOut(),f&&f.enabled?(this.animateBeforeDestroy(),N(te,X.duration)):te(),b.pointCount--}this.destroyed=!0}destroyElements(f){const g=this;f=g.getGraphicalProps(f),f.singular.forEach(function(b){g[b]=g[b].destroy()}),f.plural.forEach(function(b){g[b].forEach(function(D){D&&D.element&&D.destroy()}),delete g[b]})}firePointEvent(f,g,b){const D=this,X=this.series.options;(X.point.events[f]||D.options&&D.options.events&&D.options.events[f])&&D.importEvents(),f==="click"&&X.allowPointSelect&&(b=function(te){D.select&&D.select(null,te.ctrlKey||te.metaKey||te.shiftKey)}),H(D,f,g,b)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(typeof this.colorIndex<"u"?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(f){const g=this,b=[],D={singular:[],plural:[]};let X,te;for(f=f||{graphic:1,dataLabel:1},f.graphic&&b.push("graphic"),f.dataLabel&&b.push("dataLabel","dataLabelPath","dataLabelUpper","connector"),te=b.length;te--;)X=b[te],g[X]&&D.singular.push(X);return["graphic","dataLabel","connector"].forEach(function(Z){const de=Z+"s";f[Z]&&g[de]&&D.plural.push(de)}),D}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(f){if(f)return f.indexOf("custom.")===0?M(f,this.options):this[f]}getZone(){var f=this.series;const g=f.zones;f=f.zoneAxis||"y";let b,D=0;for(b=g[D];this[f]>=b.value;)b=g[++D];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=b&&b.color&&!this.options.color?b.color:this.nonZonedColor,b}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}init(f,g,b){return this.series=f,this.applyOptions(g,b),this.id=q(this.id)?this.id:W(),this.resolveColor(),f.chart.pointCount++,H(this,"afterInit"),this}isValid(){return this.x!==null&&U(this.y)}optionsToObject(f){var g=this.series;const b=g.options.keys,D=b||g.pointArrayMap||["y"],X=D.length;let te={},Z=0,de=0;if(U(f)||f===null)te[D[0]]=f;else if(C(f))for(!b&&f.length>X&&(g=typeof f[0],g==="string"?te.name=f[0]:g==="number"&&(te.x=f[0]),Z++);de<X;)b&&typeof f[Z]>"u"||(0<D[de].indexOf(".")?S.prototype.setNestedProperty(te,f[Z],D[de]):te[D[de]]=f[Z]),Z++,de++;else typeof f=="object"&&(te=f,f.dataLabels&&(g._hasPointLabels=!0),f.marker&&(g._hasPointMarkers=!0));return te}pos(f,g=this.plotY){if(!this.destroyed){const{plotX:b,series:D}=this,{chart:X,xAxis:te,yAxis:Z}=D;let de=0,ge=0;if(U(b)&&U(g))return f&&(de=te?te.pos:X.plotLeft,ge=Z?Z.pos:X.plotTop),X.inverted&&te&&Z?[Z.len-g+ge,te.len-b+de]:[b+de,g+ge]}}resolveColor(){const f=this.series;var g=f.chart.styledMode;let b;var D=f.chart.options.chart.colorCount;delete this.nonZonedColor,f.options.colorByPoint?(g||(D=f.options.colors||f.chart.options.colors,b=D[f.colorCounter],D=D.length),g=f.colorCounter,f.colorCounter++,f.colorCounter===D&&(f.colorCounter=0)):(g||(b=f.color),g=f.colorIndex),this.colorIndex=Q(this.options.colorIndex,g),this.color=Q(this.options.color,b)}setNestedProperty(f,g,b){return b.split(".").reduce(function(D,X,te,Z){return D[X]=Z.length-1===te?g:$(D[X],!0)?D[X]:{},D[X]},f),f}shouldDraw(){return!this.isNull}tooltipFormatter(f){const g=this.series,b=g.tooltipOptions,D=Q(b.valueDecimals,""),X=b.valuePrefix||"",te=b.valueSuffix||"";return g.chart.styledMode&&(f=g.chart.tooltip.styledModeFormat(f)),(g.pointArrayMap||["y"]).forEach(function(Z){Z="{point."+Z,(X||te)&&(f=f.replace(RegExp(Z+"}","g"),X+Z+"}"+te)),f=f.replace(RegExp(Z+"}","g"),Z+":,."+D+"f}")}),O(f,{point:this,series:this.series},g.chart)}update(f,g,b,D){function X(){te.applyOptions(f);var oe=de&&te.hasMockGraphic;oe=te.y===null?!oe:oe,de&&oe&&(te.graphic=de.destroy(),delete te.hasMockGraphic),$(f,!0)&&(de&&de.element&&f&&f.marker&&typeof f.marker.symbol<"u"&&(te.graphic=de.destroy()),f&&f.dataLabels&&te.dataLabel&&(te.dataLabel=te.dataLabel.destroy()),te.connector&&(te.connector=te.connector.destroy())),J=te.index,Z.updateParallelArrays(te,J),Ce.data[J]=$(Ce.data[J],!0)||$(f,!0)?te.options:Q(f,Ce.data[J]),Z.isDirty=Z.isDirtyData=!0,!Z.fixedBox&&Z.hasCartesianSeries&&(ge.isDirtyBox=!0),Ce.legendType==="point"&&(ge.isDirtyLegend=!0),g&&ge.redraw(b)}const te=this,Z=te.series,de=te.graphic,ge=Z.chart,Ce=Z.options;let J;g=Q(g,!0),D===!1?X():te.firePointEvent("update",{options:f},X)}remove(f,g){this.series.removePoint(this.series.data.indexOf(this),f,g)}select(f,g){const b=this,D=b.series,X=D.chart;this.selectedStaging=f=Q(f,!b.selected),b.firePointEvent(f?"select":"unselect",{accumulate:g},function(){b.selected=b.options.selected=f,D.options.data[D.data.indexOf(b)]=b.options,b.setState(f&&"select"),g||X.getSelectedPoints().forEach(function(te){const Z=te.series;te.selected&&te!==b&&(te.selected=te.options.selected=!1,Z.options.data[Z.data.indexOf(te)]=te.options,te.setState(X.hoverPoints&&Z.options.inactiveOtherPoints?"inactive":""),te.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(f){const g=this.series.chart,b=g.pointer;f=f?b.normalize(f):b.getChartCoordinatesFromPoint(this,g.inverted),b.runPointActions(f,this)}onMouseOut(){const f=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(f.hoverPoints||[]).forEach(function(g){g.setState()}),f.hoverPoints=f.hoverPoint=null}importEvents(){if(!this.hasImportedEvents){const f=this,g=E(f.series.options.point,f.options).events;f.events=g,ee(g,function(b,D){A(b)&&V(f,D,b)}),this.hasImportedEvents=!0}}setState(f,g){const b=this.series;var D=this.state,X=b.options.states[f||"normal"]||{},te=Y.plotOptions[b.type].marker&&b.options.marker;const Z=te&&te.enabled===!1,de=te&&te.states&&te.states[f||"normal"]||{},ge=de.enabled===!1,Ce=this.marker||{},J=b.chart,oe=te&&b.markerAttribs;let ce=b.halo;var pe;let Ee;var ne=b.stateMarkerGraphic;if(f=f||"",!(f===this.state&&!g||this.selected&&f!=="select"||X.enabled===!1||f&&(ge||Z&&de.enabled===!1)||f&&Ce.states&&Ce.states[f]&&Ce.states[f].enabled===!1)){if(this.state=f,oe&&(pe=b.markerAttribs(this,f)),this.graphic&&!this.hasMockGraphic){if(D&&this.graphic.removeClass("highcharts-point-"+D),f&&this.graphic.addClass("highcharts-point-"+f),!J.styledMode){D=b.pointAttribs(this,f),Ee=Q(J.options.chart.animation,X.animation);const ye=D.opacity;b.options.inactiveOtherPoints&&U(ye)&&((this.dataLabels||[]).forEach(function(_e){_e&&!_e.hasClass("highcharts-data-label-hidden")&&_e.animate({opacity:ye},Ee)}),this.connector&&this.connector.animate({opacity:ye},Ee)),this.graphic.animate(D,Ee)}pe&&this.graphic.animate(pe,Q(J.options.chart.animation,de.animation,te.animation)),ne&&ne.hide()}else f&&de&&(te=Ce.symbol||b.symbol,ne&&ne.currentSymbol!==te&&(ne=ne.destroy()),pe&&(ne?ne[g?"animate":"attr"]({x:pe.x,y:pe.y}):te&&(b.stateMarkerGraphic=ne=J.renderer.symbol(te,pe.x,pe.y,pe.width,pe.height).add(b.markerGroup),ne.currentSymbol=te)),!J.styledMode&&ne&&this.state!=="inactive"&&ne.attr(b.pointAttribs(this,f))),ne&&(ne[f&&this.isInside?"show":"hide"](),ne.element.point=this,ne.addClass(this.getClassName(),!0));X=X.halo,pe=(ne=this.graphic||ne)&&ne.visibility||"inherit",X&&X.size&&ne&&pe!=="hidden"&&!this.isCluster?(ce||(b.halo=ce=J.renderer.path().add(ne.parentGroup)),ce.show()[g?"animate":"attr"]({d:this.haloPath(X.size)}),ce.attr({class:"highcharts-halo highcharts-color-"+Q(this.colorIndex,b.colorIndex)+(this.className?" "+this.className:""),visibility:pe,zIndex:-1}),ce.point=this,J.styledMode||ce.attr(I({fill:this.color||b.color,"fill-opacity":X.opacity},c.filterUserAttributes(X.attributes||{})))):ce&&ce.point&&ce.point.haloPath&&ce.animate({d:ce.point.haloPath(0)},null,ce.hide),H(this,"afterSetState",{state:f})}}haloPath(f){const g=this.pos();return g?this.series.chart.renderer.symbols.circle(Math.floor(g[0])-f,g[1]-f,2*f,2*f):[]}}return S}),s(a,"Core/Pointer.js",[a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(c,h,m){const{parse:n}=c,{charts:x,noop:z}=h,{addEvent:Y,attr:O,css:V,defined:q,extend:L,find:I,fireEvent:H,isNumber:M,isObject:C,objectEach:A,offset:U,pick:$,splat:E}=m;class ee{constructor(N,j){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=N,this.hasDragged=!1,this.options=j,this.init(N,j)}applyInactiveState(N){let j=[],W;(N||[]).forEach(function(S){W=S.series,j.push(W),W.linkedParent&&j.push(W.linkedParent),W.linkedSeries&&(j=j.concat(W.linkedSeries)),W.navigatorSeries&&j.push(W.navigatorSeries)}),this.chart.series.forEach(function(S){j.indexOf(S)===-1?S.setState("inactive",!0):S.options.inactiveOtherPoints&&S.setAllPointsToState("inactive")})}destroy(){const N=this;this.eventsToUnbind.forEach(j=>j()),this.eventsToUnbind=[],h.chartCount||(ee.unbindDocumentMouseUp&&(ee.unbindDocumentMouseUp=ee.unbindDocumentMouseUp()),ee.unbindDocumentTouchEnd&&(ee.unbindDocumentTouchEnd=ee.unbindDocumentTouchEnd())),clearInterval(N.tooltipTimeout),A(N,function(j,W){N[W]=void 0})}getSelectionMarkerAttrs(N,j){const W={args:{chartX:N,chartY:j},attrs:{},shapeType:"rect"};return H(this,"getSelectionMarkerAttrs",W,S=>{const{chart:P,mouseDownX:f=0,mouseDownY:g=0,zoomHor:b,zoomVert:D}=this;S=S.attrs;let X;S.x=P.plotLeft,S.y=P.plotTop,S.width=b?1:P.plotWidth,S.height=D?1:P.plotHeight,b&&(X=N-f,S.width=Math.abs(X),S.x=(0<X?0:X)+f),D&&(X=j-g,S.height=Math.abs(X),S.y=(0<X?0:X)+g)}),W}drag(N){const j=this.chart,W=j.options.chart;var S=j.plotLeft;const P=j.plotTop,f=j.plotWidth,g=j.plotHeight,b=this.mouseDownX||0,D=this.mouseDownY||0,X=C(W.panning)?W.panning&&W.panning.enabled:W.panning,te=W.panKey&&N[W.panKey+"Key"];let Z=N.chartX,de=N.chartY,ge=this.selectionMarker;if((!ge||!ge.touch)&&(Z<S?Z=S:Z>S+f&&(Z=S+f),de<P?de=P:de>P+g&&(de=P+g),this.hasDragged=Math.sqrt(Math.pow(b-Z,2)+Math.pow(D-de,2)),10<this.hasDragged)){S=j.isInsidePlot(b-S,D-P,{visiblePlotOnly:!0});const{shapeType:Ce,attrs:J}=this.getSelectionMarkerAttrs(Z,de);!j.hasCartesianSeries&&!j.mapView||!this.zoomX&&!this.zoomY||!S||te||ge||(this.selectionMarker=ge=j.renderer[Ce](),ge.attr({class:"highcharts-selection-marker",zIndex:7}).add(),j.styledMode||ge.attr({fill:W.selectionMarkerFill||n("#334eff").setOpacity(.25).get()})),ge&&ge.attr(J),S&&!ge&&X&&j.pan(N,W.panning)}}dragStart(N){const j=this.chart;j.mouseIsDown=N.type,j.cancelClick=!1,j.mouseDownX=this.mouseDownX=N.chartX,j.mouseDownY=this.mouseDownY=N.chartY}getSelectionBox(N){const j={args:{marker:N},result:{}};return H(this,"getSelectionBox",j,W=>{W.result={x:N.attr?+N.attr("x"):N.x,y:N.attr?+N.attr("y"):N.y,width:N.attr?N.attr("width"):N.width,height:N.attr?N.attr("height"):N.height}}),j.result}drop(N){const j=this,W=this.chart,S=this.hasPinched;if(this.selectionMarker){const{x:P,y:f,width:g,height:b}=this.getSelectionBox(this.selectionMarker),D={originalEvent:N,xAxis:[],yAxis:[],x:P,y:f,width:g,height:b};let X=!!W.mapView;(this.hasDragged||S)&&(W.axes.forEach(function(te){if(te.zoomEnabled&&q(te.min)&&(S||j[{xAxis:"zoomX",yAxis:"zoomY"}[te.coll]])&&M(P)&&M(f)&&M(g)&&M(b)){var Z=te.horiz;const de=N.type==="touchend"?te.minPixelPadding:0,ge=te.toValue((Z?P:f)+de);Z=te.toValue((Z?P+g:f+b)-de),D[te.coll].push({axis:te,min:Math.min(ge,Z),max:Math.max(ge,Z)}),X=!0}}),X&&H(W,"selection",D,function(te){W.zoom(L(te,S?{animation:!1}:null))})),M(W.index)&&(this.selectionMarker=this.selectionMarker.destroy()),S&&this.scaleGroups()}W&&M(W.index)&&(V(W.container,{cursor:W._cursor}),W.cancelClick=10<this.hasDragged,W.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])}findNearestKDPoint(N,j,W){let S;return N.forEach(function(P){var f=!(P.noSharedTooltip&&j)&&0>P.options.findNearestPointBy.indexOf("y");if(P=P.searchPoint(W,f),(f=C(P,!0)&&P.series)&&!(f=!C(S,!0))){{f=S.distX-P.distX;const g=S.dist-P.dist,b=(P.series.group&&P.series.group.zIndex)-(S.series.group&&S.series.group.zIndex);f=f!==0&&j?f:g!==0?g:b!==0?b:S.series.index>P.series.index?-1:1}f=0<f}f&&(S=P)}),S}getChartCoordinatesFromPoint(N,j){var W=N.series;const S=W.xAxis;W=W.yAxis;const P=N.shapeArgs;if(S&&W){let f=$(N.clientX,N.plotX),g=N.plotY||0;return N.isNode&&P&&M(P.x)&&M(P.y)&&(f=P.x,g=P.y),j?{chartX:W.len+W.pos-g,chartY:S.len+S.pos-f}:{chartX:f+S.pos,chartY:g+W.pos}}if(P&&P.x&&P.y)return{chartX:P.x,chartY:P.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;var{container:N}=this.chart;const j=U(N);this.chartPosition={left:j.left,top:j.top,scaleX:1,scaleY:1};const W=N.offsetWidth;return N=N.offsetHeight,2<W&&2<N&&(this.chartPosition.scaleX=j.width/W,this.chartPosition.scaleY=j.height/N),this.chartPosition}getCoordinates(N){const j={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(W){j[W.isXAxis?"xAxis":"yAxis"].push({axis:W,value:W.toValue(N[W.horiz?"chartX":"chartY"])})}),j}getHoverData(N,j,W,S,P,f){const g=[];S=!(!S||!N);const b=function(Z){return Z.visible&&!(!P&&Z.directTouch)&&$(Z.options.enableMouseTracking,!0)};let D,X={chartX:f?f.chartX:void 0,chartY:f?f.chartY:void 0,shared:P};H(this,"beforeGetHoverData",X),D=j&&!j.stickyTracking?[j]:W.filter(Z=>Z.stickyTracking&&(X.filter||b)(Z));const te=S||!f?N:this.findNearestKDPoint(D,P,f);return j=te&&te.series,te&&(P&&!j.noSharedTooltip?(D=W.filter(function(Z){return X.filter?X.filter(Z):b(Z)&&!Z.noSharedTooltip}),D.forEach(function(Z){let de=I(Z.points,function(ge){return ge.x===te.x&&!ge.isNull});C(de)&&(Z.boosted&&Z.boost&&(de=Z.boost.getPoint(de)),g.push(de))})):g.push(te)),X={hoverPoint:te},H(this,"afterGetHoverData",X),{hoverPoint:X.hoverPoint,hoverSeries:j,hoverPoints:g}}getPointFromEvent(N){N=N.target;let j;for(;N&&!j;)j=N.point,N=N.parentNode;return j}onTrackerMouseOut(N){N=N.relatedTarget;const j=this.chart.hoverSeries;this.isDirectTouch=!1,!j||!N||j.stickyTracking||this.inClass(N,"highcharts-tooltip")||this.inClass(N,"highcharts-series-"+j.index)&&this.inClass(N,"highcharts-tracker")||j.onMouseOut()}inClass(N,j){let W;for(;N;){if(W=O(N,"class")){if(W.indexOf(j)!==-1)return!0;if(W.indexOf("highcharts-container")!==-1)return!1}N=N.parentElement}}init(N,j){this.options=j,this.chart=N,this.runChartClick=!(!j.chart.events||!j.chart.events.click),this.pinchDown=[],this.lastValidTouch={},this.setDOMEvents(),H(this,"afterInit")}normalize(N,j){var W=N.touches,S=W?W.length?W.item(0):$(W.changedTouches,N.changedTouches)[0]:N;return j||(j=this.getChartPosition()),W=S.pageX-j.left,S=S.pageY-j.top,W/=j.scaleX,S/=j.scaleY,L(N,{chartX:Math.round(W),chartY:Math.round(S)})}onContainerClick(N){const j=this.chart,W=j.hoverPoint;N=this.normalize(N);const S=j.plotLeft,P=j.plotTop;j.cancelClick||(W&&this.inClass(N.target,"highcharts-tracker")?(H(W.series,"click",L(N,{point:W})),j.hoverPoint&&W.firePointEvent("click",N)):(L(N,this.getCoordinates(N)),j.isInsidePlot(N.chartX-S,N.chartY-P,{visiblePlotOnly:!0})&&H(j,"click",N)))}onContainerMouseDown(N){const j=((N.buttons||N.button)&1)===1;N=this.normalize(N),h.isFirefox&&N.button!==0&&this.onContainerMouseMove(N),(typeof N.button>"u"||j)&&(this.zoomOption(N),j&&N.preventDefault&&N.preventDefault(),this.dragStart(N))}onContainerMouseLeave(N){const j=x[$(ee.hoverChartIndex,-1)];N=this.normalize(N),j&&N.relatedTarget&&!this.inClass(N.relatedTarget,"highcharts-tooltip")&&(j.pointer.reset(),j.pointer.chartPosition=void 0)}onContainerMouseEnter(N){delete this.chartPosition}onContainerMouseMove(N){const j=this.chart,W=j.tooltip;N=this.normalize(N),this.setHoverChartIndex(),(j.mouseIsDown==="mousedown"||this.touchSelect(N))&&this.drag(N),j.openMenu||!this.inClass(N.target,"highcharts-tracker")&&!j.isInsidePlot(N.chartX-j.plotLeft,N.chartY-j.plotTop,{visiblePlotOnly:!0})||W&&W.shouldStickOnContact(N)||(this.inClass(N.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(N))}onDocumentTouchEnd(N){const j=x[$(ee.hoverChartIndex,-1)];j&&j.pointer.drop(N)}onContainerTouchMove(N){this.touchSelect(N)?this.onContainerMouseMove(N):this.touch(N)}onContainerTouchStart(N){this.touchSelect(N)?this.onContainerMouseDown(N):(this.zoomOption(N),this.touch(N,!0))}onDocumentMouseMove(N){const j=this.chart,W=j.tooltip,S=this.chartPosition;N=this.normalize(N,S),!S||j.isInsidePlot(N.chartX-j.plotLeft,N.chartY-j.plotTop,{visiblePlotOnly:!0})||W&&W.shouldStickOnContact(N)||this.inClass(N.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(N){const j=x[$(ee.hoverChartIndex,-1)];j&&j.pointer.drop(N)}pinch(N){const j=this,W=j.chart,S=j.pinchDown,P=N.touches||[],f=P.length,g=j.lastValidTouch,b=j.hasZoom,D={},X=f===1&&(j.inClass(N.target,"highcharts-tracker")&&W.runTrackerClick||j.runChartClick),te={};var Z=j.chart.tooltip;Z=f===1&&$(Z&&Z.options.followTouchMove,!0);let de=j.selectionMarker;1<f?j.initiated=!0:Z&&(j.initiated=!1),b&&j.initiated&&!X&&N.cancelable!==!1&&N.preventDefault(),[].map.call(P,function(ge){return j.normalize(ge)}),N.type==="touchstart"?([].forEach.call(P,function(ge,Ce){S[Ce]={chartX:ge.chartX,chartY:ge.chartY}}),g.x=[S[0].chartX,S[1]&&S[1].chartX],g.y=[S[0].chartY,S[1]&&S[1].chartY],W.axes.forEach(function(ge){if(ge.zoomEnabled){const Ce=W.bounds[ge.horiz?"h":"v"],J=ge.minPixelPadding,oe=ge.toPixels(Math.min($(ge.options.min,ge.dataMin),ge.dataMin)),ce=ge.toPixels(Math.max($(ge.options.max,ge.dataMax),ge.dataMax)),pe=Math.max(oe,ce);Ce.min=Math.min(ge.pos,Math.min(oe,ce)-J),Ce.max=Math.max(ge.pos+ge.len,pe+J)}}),j.res=!0):Z?this.runPointActions(j.normalize(N)):S.length&&(H(W,"touchpan",{originalEvent:N},()=>{de||(j.selectionMarker=de=L({destroy:z,touch:!0},W.plotBox)),j.pinchTranslate(S,P,D,de,te,g),j.hasPinched=b,j.scaleGroups(D,te)}),j.res&&(j.res=!1,this.reset(!1,0)))}pinchTranslate(N,j,W,S,P,f){this.zoomHor&&this.pinchTranslateDirection(!0,N,j,W,S,P,f),this.zoomVert&&this.pinchTranslateDirection(!1,N,j,W,S,P,f)}pinchTranslateDirection(N,j,W,S,P,f,g,b){const D=this.chart,X=N?"x":"y",te=N?"X":"Y",Z="chart"+te,de=N?"width":"height",ge=D["plot"+(N?"Left":"Top")],Ce=D.inverted,J=D.bounds[N?"h":"v"],oe=j.length===1,ce=j[0][Z],pe=!oe&&j[1][Z];j=function(){typeof ae=="number"&&20<Math.abs(ce-pe)&&(ye=b||Math.abs(_e-ae)/Math.abs(ce-pe)),ne=(ge-_e)/ye+ce,Ee=D["plot"+(N?"Width":"Height")]/ye};let Ee,ne,ye=b||1,_e=W[0][Z],ae=!oe&&W[1][Z],me;j(),W=ne,W<J.min?(W=J.min,me=!0):W+Ee>J.max&&(W=J.max-Ee,me=!0),me?(_e-=.8*(_e-g[X][0]),typeof ae=="number"&&(ae-=.8*(ae-g[X][1])),j()):g[X]=[_e,ae],Ce||(f[X]=ne-ge,f[de]=Ee),f=Ce?1/ye:ye,P[de]=Ee,P[X]=W,S[Ce?N?"scaleY":"scaleX":"scale"+te]=ye,S["translate"+te]=f*ge+(_e-f*ce)}reset(N,j){const W=this.chart,S=W.hoverSeries,P=W.hoverPoint,f=W.hoverPoints,g=W.tooltip,b=g&&g.shared?f:P;N&&b&&E(b).forEach(function(D){D.series.isCartesian&&typeof D.plotX>"u"&&(N=!1)}),N?g&&b&&E(b).length&&(g.refresh(b),g.shared&&f?f.forEach(function(D){D.setState(D.state,!0),D.series.isCartesian&&(D.series.xAxis.crosshair&&D.series.xAxis.drawCrosshair(null,D),D.series.yAxis.crosshair&&D.series.yAxis.drawCrosshair(null,D))}):P&&(P.setState(P.state,!0),W.axes.forEach(function(D){D.crosshair&&P.series[D.coll]===D&&D.drawCrosshair(null,P)}))):(P&&P.onMouseOut(),f&&f.forEach(function(D){D.setState()}),S&&S.onMouseOut(),g&&g.hide(j),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),W.axes.forEach(function(D){D.hideCrosshair()}),this.hoverX=W.hoverPoints=W.hoverPoint=null)}runPointActions(N,j,W){const S=this.chart,P=S.tooltip&&S.tooltip.options.enabled?S.tooltip:void 0,f=P?P.shared:!1;let g=j||S.hoverPoint,b=g&&g.series||S.hoverSeries;j=this.getHoverData(g,b,S.series,(!N||N.type!=="touchmove")&&(!!j||b&&b.directTouch&&this.isDirectTouch),f,N),g=j.hoverPoint,b=j.hoverSeries;const D=j.hoverPoints;j=b&&b.tooltipOptions.followPointer&&!b.tooltipOptions.split;const X=f&&b&&!b.noSharedTooltip;if(g&&(W||g!==S.hoverPoint||P&&P.isHidden)){if((S.hoverPoints||[]).forEach(function(te){D.indexOf(te)===-1&&te.setState()}),S.hoverSeries!==b&&b.onMouseOver(),this.applyInactiveState(D),(D||[]).forEach(function(te){te.setState("hover")}),S.hoverPoint&&S.hoverPoint.firePointEvent("mouseOut"),!g.series)return;S.hoverPoints=D,S.hoverPoint=g,g.firePointEvent("mouseOver",void 0,()=>{P&&g&&P.refresh(X?D:g,N)})}else j&&P&&!P.isHidden&&(W=P.getAnchor([{}],N),S.isInsidePlot(W[0],W[1],{visiblePlotOnly:!0})&&P.updatePosition({plotX:W[0],plotY:W[1]}));this.unDocMouseMove||(this.unDocMouseMove=Y(S.container.ownerDocument,"mousemove",function(te){const Z=x[ee.hoverChartIndex];Z&&Z.pointer.onDocumentMouseMove(te)}),this.eventsToUnbind.push(this.unDocMouseMove)),S.axes.forEach(function(te){const Z=$((te.crosshair||{}).snap,!0);let de;Z&&((de=S.hoverPoint)&&de.series[te.coll]===te||(de=I(D,ge=>ge.series&&ge.series[te.coll]===te))),de||!Z?te.drawCrosshair(N,de):te.hideCrosshair()})}scaleGroups(N,j){const W=this.chart;W.series.forEach(function(S){const P=N||S.getPlotBox();S.group&&(S.xAxis&&S.xAxis.zoomEnabled||W.mapView)&&(S.group.attr(P),S.markerGroup&&(S.markerGroup.attr(P),S.markerGroup.clip(j?W.clipRect:null)),S.dataLabelsGroup&&S.dataLabelsGroup.attr(P))}),W.clipRect.attr(j||W.clipBox)}setDOMEvents(){const N=this.chart.container,j=N.ownerDocument;N.onmousedown=this.onContainerMouseDown.bind(this),N.onmousemove=this.onContainerMouseMove.bind(this),N.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(Y(N,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(Y(N,"mouseleave",this.onContainerMouseLeave.bind(this))),ee.unbindDocumentMouseUp||(ee.unbindDocumentMouseUp=Y(j,"mouseup",this.onDocumentMouseUp.bind(this)));let W=this.chart.renderTo.parentElement;for(;W&&W.tagName!=="BODY";)this.eventsToUnbind.push(Y(W,"scroll",()=>{delete this.chartPosition})),W=W.parentElement;h.hasTouch&&(this.eventsToUnbind.push(Y(N,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(Y(N,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),ee.unbindDocumentTouchEnd||(ee.unbindDocumentTouchEnd=Y(j,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))}setHoverChartIndex(){const N=this.chart,j=h.charts[$(ee.hoverChartIndex,-1)];j&&j!==N&&j.pointer.onContainerMouseLeave({relatedTarget:N.container}),j&&j.mouseIsDown||(ee.hoverChartIndex=N.index)}touch(N,j){const W=this.chart;let S;this.setHoverChartIndex(),N.touches.length===1?(N=this.normalize(N),W.isInsidePlot(N.chartX-W.plotLeft,N.chartY-W.plotTop,{visiblePlotOnly:!0})&&!W.openMenu?(j&&this.runPointActions(N),N.type==="touchmove"&&(j=this.pinchDown,S=j[0]?4<=Math.sqrt(Math.pow(j[0].chartX-N.chartX,2)+Math.pow(j[0].chartY-N.chartY,2)):!1),$(S,!0)&&this.pinch(N)):j&&this.reset()):N.touches.length===2&&this.pinch(N)}touchSelect(N){return!(!this.chart.options.chart.zooming.singleTouch||!N.touches||N.touches.length!==1)}zoomOption(N){var j=this.chart,W=j.options.chart;j=j.inverted;let S=W.zooming.type||"";/touch/.test(N.type)&&(S=$(W.zooming.pinchType,S)),this.zoomX=N=/x/.test(S),this.zoomY=W=/y/.test(S),this.zoomHor=N&&!j||W&&j,this.zoomVert=W&&!j||N&&j,this.hasZoom=N||W}}return function(Q){const N=[],j=[];Q.compose=function(W){m.pushUnique(j,W)&&Y(W,"beforeRender",function(){this.pointer=new Q(this,this.options)})},Q.dissolve=function(){for(let W=0,S=N.length;W<S;++W)N[W]();N.length=0}}(ee||(ee={})),ee}),s(a,"Core/Legend/Legend.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/FormatUtilities.js"],a["Core/Globals.js"],a["Core/Series/Point.js"],a["Core/Renderer/RendererUtilities.js"],a["Core/Utilities.js"]],function(c,h,m,n,x,z){const{animObject:Y,setAnimation:O}=c,{format:V}=h,{marginNames:q}=m,{distribute:L}=x,{addEvent:I,createElement:H,css:M,defined:C,discardElement:A,find:U,fireEvent:$,isNumber:E,merge:ee,pick:Q,relativeLength:N,stableSort:j,syncTimeout:W}=z;class S{constructor(f,g){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=f,this.init(f,g)}init(f,g){this.chart=f,this.setOptions(g),g.enabled&&(this.render(),I(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),I(this.chart,"render",()=>{this.proximate&&(this.proximatePositions(),this.positionItems())}))}setOptions(f){const g=Q(f.padding,8);this.options=f,this.chart.styledMode||(this.itemStyle=f.itemStyle,this.itemHiddenStyle=ee(this.itemStyle,f.itemHiddenStyle)),this.itemMarginTop=f.itemMarginTop,this.itemMarginBottom=f.itemMarginBottom,this.padding=g,this.initialItemY=g-5,this.symbolWidth=Q(f.symbolWidth,16),this.pages=[],this.proximate=f.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(f,g){const b=this.chart;this.setOptions(ee(!0,this.options,f)),this.destroy(),b.isDirtyLegend=b.isDirtyBox=!0,Q(g,!0)&&b.redraw(),$(this,"afterUpdate")}colorizeItem(f,g){const{group:b,label:D,line:X,symbol:te}=f.legendItem||{};if(b&&b[g?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var Z=this.options;const de=this.itemHiddenStyle.color;Z=g?Z.itemStyle.color:de;const ge=g&&f.color||de,Ce=f.options&&f.options.marker;let J={fill:ge};D&&D.css({fill:Z}),X&&X.attr({stroke:ge}),te&&(Ce&&te.isMarker&&(J=f.pointAttribs(),g||(J.stroke=J.fill=de)),te.attr(J))}$(this,"afterColorizeItem",{item:f,visible:g})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(f){const{group:g,x:b=0,y:D=0}=f.legendItem||{};var X=this.options,te=X.symbolPadding;const Z=!X.rtl;X=f.checkbox,g&&g.element&&(te={translateX:Z?b:this.legendWidth-b-2*te-4,translateY:D},g[C(g.translateY)?"animate":"attr"](te,void 0,()=>{$(this,"afterPositionItem",{item:f})})),X&&(X.x=b,X.y=D)}destroyItem(f){const g=f.checkbox,b=f.legendItem||{};for(const D of["group","label","line","symbol"])b[D]&&(b[D]=b[D].destroy());g&&A(g),f.legendItem=void 0}destroy(){for(const f of this.getAllItems())this.destroyItem(f);for(const f of"clipRect up down pager nav box title group".split(" "))this[f]&&(this[f]=this[f].destroy());this.display=null}positionCheckboxes(){const f=this.group&&this.group.alignAttr,g=this.clipHeight||this.legendHeight,b=this.titleHeight;let D;f&&(D=f.translateY,this.allItems.forEach(function(X){const te=X.checkbox;let Z;te&&(Z=D+b+te.y+(this.scrollOffset||0)+3,M(te,{left:f.translateX+X.checkboxOffset+te.x-20+"px",top:Z+"px",display:this.proximate||Z>D-6&&Z<D+g-6?"":"none"}))},this))}renderTitle(){var f=this.options;const g=this.padding,b=f.title;let D=0;b.text&&(this.title||(this.title=this.chart.renderer.label(b.text,g-3,g-4,void 0,void 0,void 0,f.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(b.style),this.title.add(this.group)),b.width||this.title.css({width:this.maxLegendWidth+"px"}),f=this.title.getBBox(),D=f.height,this.offsetWidth=f.width,this.contentGroup.attr({translateY:D})),this.titleHeight=D}setText(f){const g=this.options;f.legendItem.label.attr({text:g.labelFormat?V(g.labelFormat,f,this.chart):g.labelFormatter.call(f)})}renderItem(f){const g=f.legendItem=f.legendItem||{};var b=this.chart,D=b.renderer;const X=this.options,te=this.symbolWidth,Z=X.symbolPadding||0,de=this.itemStyle,ge=this.itemHiddenStyle,Ce=X.layout==="horizontal"?Q(X.itemDistance,20):0,J=!X.rtl,oe=!f.series,ce=!oe&&f.series.drawLegendSymbol?f.series:f;var pe=ce.options;const Ee=this.createCheckboxForItem&&pe&&pe.showCheckbox,ne=X.useHTML,ye=f.options.className;let _e=g.label;pe=te+Z+Ce+(Ee?20:0),_e||(g.group=D.g("legend-item").addClass("highcharts-"+ce.type+"-series highcharts-color-"+f.colorIndex+(ye?" "+ye:"")+(oe?" highcharts-series-"+f.index:"")).attr({zIndex:1}).add(this.scrollGroup),g.label=_e=D.text("",J?te+Z:-Z,this.baseline||0,ne),b.styledMode||_e.css(ee(f.visible?de:ge)),_e.attr({align:J?"left":"right",zIndex:2}).add(g.group),this.baseline||(this.fontMetrics=D.fontMetrics(_e),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,_e.attr("y",this.baseline),this.symbolHeight=Q(X.symbolHeight,this.fontMetrics.f),X.squareSymbol&&(this.symbolWidth=Q(X.symbolWidth,Math.max(this.symbolHeight,16)),pe=this.symbolWidth+Z+Ce+(Ee?20:0),J&&_e.attr("x",this.symbolWidth+Z))),ce.drawLegendSymbol(this,f),this.setItemEvents&&this.setItemEvents(f,_e,ne)),Ee&&!f.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(f),this.colorizeItem(f,f.visible),!b.styledMode&&de.width||_e.css({width:(X.itemWidth||this.widthOption||b.spacingBox.width)-pe+"px"}),this.setText(f),b=_e.getBBox(),D=this.fontMetrics&&this.fontMetrics.h||0,f.itemWidth=f.checkboxOffset=X.itemWidth||g.labelWidth||b.width+pe,this.maxItemWidth=Math.max(this.maxItemWidth,f.itemWidth),this.totalItemWidth+=f.itemWidth,this.itemHeight=f.itemHeight=Math.round(g.labelHeight||(b.height>1.5*D?b.height:D))}layoutItem(f){var g=this.options;const b=this.padding,D=g.layout==="horizontal",X=f.itemHeight,te=this.itemMarginBottom,Z=this.itemMarginTop,de=D?Q(g.itemDistance,20):0,ge=this.maxLegendWidth;g=g.alignColumns&&this.totalItemWidth>ge?this.maxItemWidth:f.itemWidth;const Ce=f.legendItem||{};D&&this.itemX-b+g>ge&&(this.itemX=b,this.lastLineHeight&&(this.itemY+=Z+this.lastLineHeight+te),this.lastLineHeight=0),this.lastItemY=Z+this.itemY+te,this.lastLineHeight=Math.max(X,this.lastLineHeight),Ce.x=this.itemX,Ce.y=this.itemY,D?this.itemX+=g:(this.itemY+=Z+X+te,this.lastLineHeight=X),this.offsetWidth=this.widthOption||Math.max((D?this.itemX-b-(f.checkbox?0:de):g)+b,this.offsetWidth)}getAllItems(){let f=[];return this.chart.series.forEach(function(g){const b=g&&g.options;g&&Q(b.showInLegend,C(b.linkedTo)?!1:void 0,!0)&&(f=f.concat((g.legendItem||{}).labels||(b.legendType==="point"?g.data:g)))}),$(this,"afterGetAllItems",{allItems:f}),f}getAlignment(){const f=this.options;return this.proximate?f.align.charAt(0)+"tv":f.floating?"":f.align.charAt(0)+f.verticalAlign.charAt(0)+f.layout.charAt(0)}adjustMargins(f,g){const b=this.chart,D=this.options,X=this.getAlignment();X&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(te,Z){te.test(X)&&!C(f[Z])&&(b[q[Z]]=Math.max(b[q[Z]],b.legend[(Z+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][Z]*D[Z%2?"x":"y"]+Q(D.margin,12)+g[Z]+(b.titleOffset[Z]||0)))})}proximatePositions(){const f=this.chart,g=[],b=this.options.align==="left";this.allItems.forEach(function(X){var te,Z=b;let de;X.yAxis&&(X.xAxis.options.reversed&&(Z=!Z),X.points&&(te=U(Z?X.points:X.points.slice(0).reverse(),function(ge){return E(ge.plotY)})),Z=this.itemMarginTop+X.legendItem.label.getBBox().height+this.itemMarginBottom,de=X.yAxis.top-f.plotTop,X.visible?(te=te?te.plotY:X.yAxis.height,te+=de-.3*Z):te=de+X.yAxis.height,g.push({target:te,size:Z,item:X}))},this);let D;for(const X of L(g,f.plotHeight))D=X.item.legendItem||{},E(X.pos)&&(D.y=f.plotTop-f.spacing[0]+X.pos)}render(){const f=this.chart,g=f.renderer,b=this.options,D=this.padding;var X=this.getAllItems();let te,Z=this.group,de=this.box;this.itemX=D,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=N(b.width,f.spacingBox.width-D);var ge=f.spacingBox.width-2*D-b.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(ge/=2),this.maxLegendWidth=this.widthOption||ge,Z||(this.group=Z=g.g("legend").addClass(b.className||"").attr({zIndex:7}).add(),this.contentGroup=g.g().attr({zIndex:1}).add(Z),this.scrollGroup=g.g().add(this.contentGroup)),this.renderTitle(),j(X,(Ce,J)=>(Ce.options&&Ce.options.legendIndex||0)-(J.options&&J.options.legendIndex||0)),b.reversed&&X.reverse(),this.allItems=X,this.display=ge=!!X.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,X.forEach(this.renderItem,this),X.forEach(this.layoutItem,this),X=(this.widthOption||this.offsetWidth)+D,te=this.lastItemY+this.lastLineHeight+this.titleHeight,te=this.handleOverflow(te),te+=D,de||(this.box=de=g.rect().addClass("highcharts-legend-box").attr({r:b.borderRadius}).add(Z)),f.styledMode||de.attr({stroke:b.borderColor,"stroke-width":b.borderWidth||0,fill:b.backgroundColor||"none"}).shadow(b.shadow),0<X&&0<te&&de[de.placed?"animate":"attr"](de.crisp.call({},{x:0,y:0,width:X,height:te},de.strokeWidth())),Z[ge?"show":"hide"](),f.styledMode&&Z.getStyle("display")==="none"&&(X=te=0),this.legendWidth=X,this.legendHeight=te,ge&&this.align(),this.proximate||this.positionItems(),$(this,"afterRender")}align(f=this.chart.spacingBox){const g=this.chart,b=this.options;let D=f.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<g.titleOffset[0]?D+=g.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<g.titleOffset[2]&&(D-=g.titleOffset[2]),D!==f.y&&(f=ee(f,{y:D})),g.hasRendered||(this.group.placed=!1),this.group.align(ee(b,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":b.verticalAlign}),!0,f)}handleOverflow(f){const g=this,b=this.chart,D=b.renderer,X=this.options;var te=X.y;const Z=X.verticalAlign==="top",de=this.padding,ge=X.maxHeight,Ce=X.navigation,J=Q(Ce.animation,!0),oe=Ce.arrowSize||12,ce=this.pages,pe=this.allItems,Ee=function(Re){typeof Re=="number"?we.attr({height:Re}):we&&(g.clipRect=we.destroy(),g.contentGroup.clip()),g.contentGroup.div&&(g.contentGroup.div.style.clip=Re?"rect("+de+"px,9999px,"+(de+Re)+"px,0)":"auto")},ne=function(Re){return g[Re]=D.circle(0,0,1.3*oe).translate(oe/2,oe/2).add(me),b.styledMode||g[Re].attr("fill","rgba(0,0,0,0.0001)"),g[Re]};let ye,_e,ae;te=b.spacingBox.height+(Z?-te:te)-de;let me=this.nav,we=this.clipRect;return X.layout!=="horizontal"||X.verticalAlign==="middle"||X.floating||(te/=2),ge&&(te=Math.min(te,ge)),ce.length=0,f&&0<te&&f>te&&Ce.enabled!==!1?(this.clipHeight=ye=Math.max(te-20-this.titleHeight-de,0),this.currentPage=Q(this.currentPage,1),this.fullHeight=f,pe.forEach((Re,Le)=>{ae=Re.legendItem||{},Re=ae.y||0;const $e=Math.round(ae.label.getBBox().height);let rt=ce.length;(!rt||Re-ce[rt-1]>ye&&(_e||Re)!==ce[rt-1])&&(ce.push(_e||Re),rt++),ae.pageIx=rt-1,_e&&((pe[Le-1].legendItem||{}).pageIx=rt-1),Le===pe.length-1&&Re+$e-ce[rt-1]>ye&&Re>ce[rt-1]&&(ce.push(Re),ae.pageIx=rt),Re!==_e&&(_e=Re)}),we||(we=g.clipRect=D.clipRect(0,de-2,9999,0),g.contentGroup.clip(we)),Ee(ye),me||(this.nav=me=D.g().attr({zIndex:1}).add(this.group),this.up=D.symbol("triangle",0,0,oe,oe).add(me),ne("upTracker").on("click",function(){g.scroll(-1,J)}),this.pager=D.text("",15,10).addClass("highcharts-legend-navigation"),!b.styledMode&&Ce.style&&this.pager.css(Ce.style),this.pager.add(me),this.down=D.symbol("triangle-down",0,0,oe,oe).add(me),ne("downTracker").on("click",function(){g.scroll(1,J)})),g.scroll(0),f=te):me&&(Ee(),this.nav=me.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),f}scroll(f,g){const b=this.chart,D=this.pages,X=D.length,te=this.clipHeight,Z=this.options.navigation,de=this.pager,ge=this.padding;let Ce=this.currentPage+f;Ce>X&&(Ce=X),0<Ce&&(typeof g<"u"&&O(g,b),this.nav.attr({translateX:ge,translateY:te+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(J){J.attr({class:Ce===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),de.attr({text:Ce+"/"+X}),[this.down,this.downTracker].forEach(function(J){J.attr({x:18+this.pager.getBBox().width,class:Ce===X?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),b.styledMode||(this.up.attr({fill:Ce===1?Z.inactiveColor:Z.activeColor}),this.upTracker.css({cursor:Ce===1?"default":"pointer"}),this.down.attr({fill:Ce===X?Z.inactiveColor:Z.activeColor}),this.downTracker.css({cursor:Ce===X?"default":"pointer"})),this.scrollOffset=-D[Ce-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=Ce,this.positionCheckboxes(),f=Y(Q(g,b.renderer.globalAnimation,!0)),W(()=>{$(this,"afterScroll",{currentPage:Ce})},f.duration))}setItemEvents(f,g,b){const D=this,X=f.legendItem||{},te=D.chart.renderer.boxWrapper,Z=f instanceof n,de="highcharts-legend-"+(Z?"point":"series")+"-active",ge=D.chart.styledMode;b=b?[g,X.symbol]:[X.group];const Ce=J=>{D.allItems.forEach(oe=>{f!==oe&&[oe].concat(oe.linkedSeries||[]).forEach(ce=>{ce.setState(J,!Z)})})};for(const J of b)J&&J.on("mouseover",function(){f.visible&&Ce("inactive"),f.setState("hover"),f.visible&&te.addClass(de),ge||g.css(D.options.itemHoverStyle)}).on("mouseout",function(){D.chart.styledMode||g.css(ee(f.visible?D.itemStyle:D.itemHiddenStyle)),Ce(""),te.removeClass(de),f.setState()}).on("click",function(oe){const ce=function(){f.setVisible&&f.setVisible(),Ce(f.visible?"inactive":"")};te.removeClass(de),oe={browserEvent:oe},f.firePointEvent?f.firePointEvent("legendItemClick",oe,ce):$(f,"legendItemClick",oe,ce)})}createCheckboxForItem(f){f.checkbox=H("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:f.selected,defaultChecked:f.selected},this.options.itemCheckboxStyle,this.chart.container),I(f.checkbox,"click",function(g){$(f.series||f,"checkboxClick",{checked:g.target.checked,item:f},function(){f.select()})})}}return function(P){const f=[];P.compose=function(g){z.pushUnique(f,g)&&I(g,"beforeMargins",function(){this.legend=new P(this,this.options.legend)})}}(S||(S={})),S}),s(a,"Core/Series/SeriesRegistry.js",[a["Core/Globals.js"],a["Core/Defaults.js"],a["Core/Series/Point.js"],a["Core/Utilities.js"]],function(c,h,m,n){const{defaultOptions:x}=h,{extendClass:z,merge:Y}=n;var O;return function(V){function q(L,I){const H=x.plotOptions||{},M=I.defaultOptions,C=I.prototype;C.type=L,C.pointClass||(C.pointClass=m),M&&(H[L]=M),V.seriesTypes[L]=I}V.seriesTypes=c.seriesTypes,V.registerSeriesType=q,V.seriesType=function(L,I,H,M,C){const A=x.plotOptions||{};return I=I||"",A[L]=Y(A[I],H),q(L,z(V.seriesTypes[I]||function(){},M)),V.seriesTypes[L].prototype.type=L,C&&(V.seriesTypes[L].prototype.pointClass=z(m,C)),V.seriesTypes[L]}}(O||(O={})),O}),s(a,"Core/Chart/Chart.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Axis/Axis.js"],a["Core/Defaults.js"],a["Core/FormatUtilities.js"],a["Core/Foundation.js"],a["Core/Globals.js"],a["Core/Renderer/RendererRegistry.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Time.js"],a["Core/Utilities.js"],a["Core/Renderer/HTML/AST.js"]],function(c,h,m,n,x,z,Y,O,V,q,L,I){const{animate:H,animObject:M,setAnimation:C}=c,{defaultOptions:A,defaultTime:U}=m,{numberFormat:$}=n,{registerEventOptions:E}=x,{charts:ee,doc:Q,marginNames:N,svg:j,win:W}=z,{seriesTypes:S}=O,{addEvent:P,attr:f,cleanRecursively:g,createElement:b,css:D,defined:X,discardElement:te,erase:Z,error:de,extend:ge,find:Ce,fireEvent:J,getStyle:oe,isArray:ce,isNumber:pe,isObject:Ee,isString:ne,merge:ye,objectEach:_e,pick:ae,pInt:me,relativeLength:we,removeEvent:Re,splat:Le,syncTimeout:$e,uniqueKey:rt}=L;class Qe{static chart(Te,Oe,ze){return new Qe(Te,Oe,ze)}constructor(Te,Oe,ze){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(Te,Oe,ze)}getArgs(Te,Oe,ze){ne(Te)||Te.nodeName?(this.renderTo=Te,this.init(Oe,ze)):this.init(Te,Oe)}init(Te,Oe){const ze=Te.plotOptions||{};J(this,"init",{args:arguments},function(){const Xe=ye(A,Te),Ke=Xe.chart;_e(Xe.plotOptions,function(Tt,Bt){Ee(Tt)&&(Tt.tooltip=ze[Bt]&&ye(ze[Bt].tooltip)||void 0)}),Xe.tooltip.userOptions=Te.chart&&Te.chart.forExport&&Te.tooltip.userOptions||Te.tooltip,this.userOptions=Te,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=Oe,this.isResizing=0;const pt=Ke.zooming=Ke.zooming||{};Te.chart&&!Te.chart.zooming&&(pt.resetButton=Ke.resetZoomButton),pt.key=ae(pt.key,Ke.zoomKey),pt.pinchType=ae(pt.pinchType,Ke.pinchType),pt.singleTouch=ae(pt.singleTouch,Ke.zoomBySingleTouch),pt.type=ae(pt.type,Ke.zoomType),this.options=Xe,this.axes=[],this.series=[],this.time=Te.time&&Object.keys(Te.time).length?new q(Te.time):z.time,this.numberFormatter=Ke.numberFormatter||$,this.styledMode=Ke.styledMode,this.hasCartesianSeries=Ke.showAxes,this.index=ee.length,ee.push(this),z.chartCount++,E(this,Ke),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,J(this,"afterInit"),this.firstRender()})}initSeries(Te){var Oe=this.options.chart;Oe=Te.type||Oe.type;const ze=S[Oe];return ze||de(17,!0,this,{missingModuleFor:Oe}),Oe=new ze,typeof Oe.init=="function"&&Oe.init(this,Te),Oe}setSeriesData(){this.getSeriesOrderByLinks().forEach(function(Te){Te.points||Te.data||!Te.enabledDataSorting||Te.setData(Te.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(Te,Oe){return Te.linkedSeries.length||Oe.linkedSeries.length?Oe.linkedSeries.length-Te.linkedSeries.length:0})}orderSeries(Te){const Oe=this.series;for(let ze=Te||0,Xe=Oe.length;ze<Xe;++ze)Oe[ze]&&(Oe[ze].index=ze,Oe[ze].name=Oe[ze].getName())}isInsidePlot(Te,Oe,ze={}){const{inverted:Xe,plotBox:Ke,plotLeft:pt,plotTop:Tt,scrollablePlotBox:Bt}=this;var ci=0;let Wt=0;ze.visiblePlotOnly&&this.scrollingContainer&&({scrollLeft:ci,scrollTop:Wt}=this.scrollingContainer);const ui=ze.series,ji=ze.visiblePlotOnly&&Bt||Ke;var Ii=ze.inverted?Oe:Te;if(Oe=ze.inverted?Te:Oe,Te={x:Ii,y:Oe,isInsidePlot:!0,options:ze},!ze.ignoreX){const wi=ui&&(Xe&&!this.polar?ui.yAxis:ui.xAxis)||{pos:pt,len:1/0};Ii=ze.paneCoordinates?wi.pos+Ii:pt+Ii,Ii>=Math.max(ci+pt,wi.pos)&&Ii<=Math.min(ci+pt+ji.width,wi.pos+wi.len)||(Te.isInsidePlot=!1)}return!ze.ignoreY&&Te.isInsidePlot&&(ci=!Xe&&ze.axis&&!ze.axis.isXAxis&&ze.axis||ui&&(Xe?ui.xAxis:ui.yAxis)||{pos:Tt,len:1/0},ze=ze.paneCoordinates?ci.pos+Oe:Tt+Oe,ze>=Math.max(Wt+Tt,ci.pos)&&ze<=Math.min(Wt+Tt+ji.height,ci.pos+ci.len)||(Te.isInsidePlot=!1)),J(this,"afterIsInsidePlot",Te),Te.isInsidePlot}redraw(Te){J(this,"beforeRedraw");const Oe=this.hasCartesianSeries?this.axes:this.colorAxis||[],ze=this.series,Xe=this.pointer,Ke=this.legend,pt=this.userOptions.legend,Tt=this.renderer,Bt=Tt.isHidden(),ci=[];let Wt,ui,ji=this.isDirtyBox,Ii=this.isDirtyLegend,wi;for(Tt.rootFontSize=Tt.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),C(this.hasRendered?Te:!1,this),Bt&&this.temporaryDisplay(),this.layOutTitles(),Te=ze.length;Te--;)if(wi=ze[Te],(wi.options.stacking||wi.options.centerInCategory)&&(ui=!0,wi.isDirty)){Wt=!0;break}if(Wt)for(Te=ze.length;Te--;)wi=ze[Te],wi.options.stacking&&(wi.isDirty=!0);ze.forEach(function(Ci){Ci.isDirty&&(Ci.options.legendType==="point"?(typeof Ci.updateTotals=="function"&&Ci.updateTotals(),Ii=!0):pt&&(pt.labelFormatter||pt.labelFormat)&&(Ii=!0)),Ci.isDirtyData&&J(Ci,"updatedData")}),Ii&&Ke&&Ke.options.enabled&&(Ke.render(),this.isDirtyLegend=!1),ui&&this.getStacks(),Oe.forEach(function(Ci){Ci.updateNames(),Ci.setScale()}),this.getMargins(),Oe.forEach(function(Ci){Ci.isDirty&&(ji=!0)}),Oe.forEach(function(Ci){const sn=Ci.min+","+Ci.max;Ci.extKey!==sn&&(Ci.extKey=sn,ci.push(function(){J(Ci,"afterSetExtremes",ge(Ci.eventArgs,Ci.getExtremes())),delete Ci.eventArgs})),(ji||ui)&&Ci.redraw()}),ji&&this.drawChartBox(),J(this,"predraw"),ze.forEach(function(Ci){(ji||Ci.isDirty)&&Ci.visible&&Ci.redraw(),Ci.isDirtyData=!1}),Xe&&Xe.reset(!0),Tt.draw(),J(this,"redraw"),J(this,"render"),Bt&&this.temporaryDisplay(!0),ci.forEach(function(Ci){Ci.call()})}get(Te){function Oe(Ke){return Ke.id===Te||Ke.options&&Ke.options.id===Te}const ze=this.series;let Xe=Ce(this.axes,Oe)||Ce(this.series,Oe);for(let Ke=0;!Xe&&Ke<ze.length;Ke++)Xe=Ce(ze[Ke].points||[],Oe);return Xe}getAxes(){const Te=this;var Oe=this.options;const ze=Oe.xAxis=Le(Oe.xAxis||{});Oe=Oe.yAxis=Le(Oe.yAxis||{}),J(this,"getAxes"),ze.forEach(function(Xe,Ke){Xe.index=Ke,Xe.isX=!0}),Oe.forEach(function(Xe,Ke){Xe.index=Ke}),ze.concat(Oe).forEach(function(Xe){new h(Te,Xe)}),J(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((Te,Oe)=>(Oe.getPointsCollection().forEach(ze=>{ae(ze.selectedStaging,ze.selected)&&Te.push(ze)}),Te),[])}getSelectedSeries(){return this.series.filter(function(Te){return Te.selected})}setTitle(Te,Oe,ze){this.applyDescription("title",Te),this.applyDescription("subtitle",Oe),this.applyDescription("caption",void 0),this.layOutTitles(ze)}applyDescription(Te,Oe){const ze=this;var Xe=Te==="title"?{color:"#333333",fontSize:this.options.isStock?"1em":"1.2em",fontWeight:"bold"}:{color:"#666666",fontSize:"0.8em"};Xe=this.options[Te]=ye(!this.styledMode&&{style:Xe},this.options[Te],Oe);let Ke=this[Te];Ke&&Oe&&(this[Te]=Ke=Ke.destroy()),Xe&&!Ke&&(Ke=this.renderer.text(Xe.text,0,0,Xe.useHTML).attr({align:Xe.align,class:"highcharts-"+Te,zIndex:Xe.zIndex||4}).add(),Ke.update=function(pt){ze[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[Te]](pt)},this.styledMode||Ke.css(Xe.style),this[Te]=Ke)}layOutTitles(Te){const Oe=[0,0,0],ze=this.renderer,Xe=this.spacingBox;["title","subtitle","caption"].forEach(function(pt){const Tt=this[pt],Bt=this.options[pt],ci=Bt.verticalAlign||"top";if(pt=pt==="title"?ci==="top"?-3:0:ci==="top"?Oe[0]+2:0,Tt){Tt.css({width:(Bt.width||Xe.width+(Bt.widthAdjust||0))+"px"});const Wt=ze.fontMetrics(Tt).b,ui=Math.round(Tt.getBBox(Bt.useHTML).height);Tt.align(ge({y:ci==="bottom"?Wt:pt+Wt,height:ui},Bt),!1,"spacingBox"),Bt.floating||(ci==="top"?Oe[0]=Math.ceil(Oe[0]+ui):ci==="bottom"&&(Oe[2]=Math.ceil(Oe[2]+ui)))}},this),Oe[0]&&(this.options.title.verticalAlign||"top")==="top"&&(Oe[0]+=this.options.title.margin),Oe[2]&&this.options.caption.verticalAlign==="bottom"&&(Oe[2]+=this.options.caption.margin);const Ke=!this.titleOffset||this.titleOffset.join(",")!==Oe.join(",");this.titleOffset=Oe,J(this,"afterLayOutTitles"),!this.isDirtyBox&&Ke&&(this.isDirtyBox=this.isDirtyLegend=Ke,this.hasRendered&&ae(Te,!0)&&this.isDirtyBox&&this.redraw())}getContainerBox(){return{width:oe(this.renderTo,"width",!0)||0,height:oe(this.renderTo,"height",!0)||0}}getChartSize(){var Te=this.options.chart;const Oe=Te.width;Te=Te.height;const ze=this.getContainerBox();this.chartWidth=Math.max(0,Oe||ze.width||600),this.chartHeight=Math.max(0,we(Te,this.chartWidth)||(1<ze.height?ze.height:400)),this.containerBox=ze}temporaryDisplay(Te){let Oe=this.renderTo;if(Te)for(;Oe&&Oe.style;)Oe.hcOrigStyle&&(D(Oe,Oe.hcOrigStyle),delete Oe.hcOrigStyle),Oe.hcOrigDetached&&(Q.body.removeChild(Oe),Oe.hcOrigDetached=!1),Oe=Oe.parentNode;else for(;Oe&&Oe.style&&(Q.body.contains(Oe)||Oe.parentNode||(Oe.hcOrigDetached=!0,Q.body.appendChild(Oe)),(oe(Oe,"display",!1)==="none"||Oe.hcOricDetached)&&(Oe.hcOrigStyle={display:Oe.style.display,height:Oe.style.height,overflow:Oe.style.overflow},Te={display:"block",overflow:"hidden"},Oe!==this.renderTo&&(Te.height=0),D(Oe,Te),Oe.offsetWidth||Oe.style.setProperty("display","block","important")),Oe=Oe.parentNode,Oe!==Q.body););}setClassName(Te){this.container.className="highcharts-container "+(Te||"")}getContainer(){const Te=this.options,Oe=Te.chart;var ze=rt();let Xe,Ke=this.renderTo;Ke||(this.renderTo=Ke=Oe.renderTo),ne(Ke)&&(this.renderTo=Ke=Q.getElementById(Ke)),Ke||de(13,!0,this);var pt=me(f(Ke,"data-highcharts-chart"));pe(pt)&&ee[pt]&&ee[pt].hasRendered&&ee[pt].destroy(),f(Ke,"data-highcharts-chart",this.index),Ke.innerHTML=I.emptyHTML,Oe.skipClone||Ke.offsetWidth||this.temporaryDisplay(),this.getChartSize(),pt=this.chartWidth;const Tt=this.chartHeight;if(D(Ke,{overflow:"hidden"}),this.styledMode||(Xe=ge({position:"relative",overflow:"hidden",width:pt+"px",height:Tt+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},Oe.style||{})),this.container=ze=b("div",{id:ze},Xe,Ke),this._cursor=ze.style.cursor,this.renderer=new(Oe.renderer||!j?Y.getRendererType(Oe.renderer):V)(ze,pt,Tt,void 0,Oe.forExport,Te.exporting&&Te.exporting.allowHTML,this.styledMode),this.containerBox=this.getContainerBox(),C(void 0,this),this.setClassName(Oe.className),this.styledMode)for(const Bt in Te.defs)this.renderer.definition(Te.defs[Bt]);else this.renderer.setStyle(Oe.style);this.renderer.chartIndex=this.index,J(this,"afterGetContainer")}getMargins(Te){const{spacing:Oe,margin:ze,titleOffset:Xe}=this;this.resetMargins(),Xe[0]&&!X(ze[0])&&(this.plotTop=Math.max(this.plotTop,Xe[0]+Oe[0])),Xe[2]&&!X(ze[2])&&(this.marginBottom=Math.max(this.marginBottom,Xe[2]+Oe[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(ze,Oe),J(this,"getMargins"),Te||this.getAxisMargins()}getAxisMargins(){const Te=this,Oe=Te.axisOffset=[0,0,0,0],ze=Te.colorAxis,Xe=Te.margin,Ke=function(pt){pt.forEach(function(Tt){Tt.visible&&Tt.getOffset()})};Te.hasCartesianSeries?Ke(Te.axes):ze&&ze.length&&Ke(ze),N.forEach(function(pt,Tt){X(Xe[Tt])||(Te[pt]+=Oe[Tt])}),Te.setChartSize()}reflow(Te){const Oe=this;var ze=Oe.options.chart;ze=X(ze.width)&&X(ze.height);const Xe=Oe.containerBox,Ke=Oe.getContainerBox();delete Oe.pointer.chartPosition,!ze&&!Oe.isPrinting&&Xe&&Ke.width&&((Ke.width!==Xe.width||Ke.height!==Xe.height)&&(L.clearTimeout(Oe.reflowTimeout),Oe.reflowTimeout=$e(function(){Oe.container&&Oe.setSize(void 0,void 0,!1)},Te?100:0)),Oe.containerBox=Ke)}setReflow(){const Te=this;var Oe=ze=>{var Xe;!((Xe=Te.options)===null||Xe===void 0)&&Xe.chart.reflow&&Te.hasLoaded&&Te.reflow(ze)};typeof ResizeObserver=="function"?new ResizeObserver(Oe).observe(Te.renderTo):(Oe=P(W,"resize",Oe),P(this,"destroy",Oe))}setSize(Te,Oe,ze){const Xe=this,Ke=Xe.renderer;Xe.isResizing+=1,C(ze,Xe),ze=Ke.globalAnimation,Xe.oldChartHeight=Xe.chartHeight,Xe.oldChartWidth=Xe.chartWidth,typeof Te<"u"&&(Xe.options.chart.width=Te),typeof Oe<"u"&&(Xe.options.chart.height=Oe),Xe.getChartSize(),Xe.styledMode||(ze?H:D)(Xe.container,{width:Xe.chartWidth+"px",height:Xe.chartHeight+"px"},ze),Xe.setChartSize(!0),Ke.setSize(Xe.chartWidth,Xe.chartHeight,ze),Xe.axes.forEach(function(pt){pt.isDirty=!0,pt.setScale()}),Xe.isDirtyLegend=!0,Xe.isDirtyBox=!0,Xe.layOutTitles(),Xe.getMargins(),Xe.redraw(ze),Xe.oldChartHeight=null,J(Xe,"resize"),$e(function(){Xe&&J(Xe,"endResize",null,function(){--Xe.isResizing})},M(ze).duration)}setChartSize(Te){var Oe=this.inverted;const ze=this.renderer;var Xe=this.chartWidth,Ke=this.chartHeight;const pt=this.options.chart,Tt=this.spacing,Bt=this.clipOffset;let ci,Wt,ui,ji;this.plotLeft=ci=Math.round(this.plotLeft),this.plotTop=Wt=Math.round(this.plotTop),this.plotWidth=ui=Math.max(0,Math.round(Xe-ci-this.marginRight)),this.plotHeight=ji=Math.max(0,Math.round(Ke-Wt-this.marginBottom)),this.plotSizeX=Oe?ji:ui,this.plotSizeY=Oe?ui:ji,this.plotBorderWidth=pt.plotBorderWidth||0,this.spacingBox=ze.spacingBox={x:Tt[3],y:Tt[0],width:Xe-Tt[3]-Tt[1],height:Ke-Tt[0]-Tt[2]},this.plotBox=ze.plotBox={x:ci,y:Wt,width:ui,height:ji},Oe=2*Math.floor(this.plotBorderWidth/2),Xe=Math.ceil(Math.max(Oe,Bt[3])/2),Ke=Math.ceil(Math.max(Oe,Bt[0])/2),this.clipBox={x:Xe,y:Ke,width:Math.floor(this.plotSizeX-Math.max(Oe,Bt[1])/2-Xe),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(Oe,Bt[2])/2-Ke))},Te||(this.axes.forEach(function(Ii){Ii.setAxisSize(),Ii.setAxisTranslation()}),ze.alignElements()),J(this,"afterSetChartSize",{skipAxes:Te})}resetMargins(){J(this,"resetMargins");const Te=this,Oe=Te.options.chart;["margin","spacing"].forEach(function(ze){const Xe=Oe[ze],Ke=Ee(Xe)?Xe:[Xe,Xe,Xe,Xe];["Top","Right","Bottom","Left"].forEach(function(pt,Tt){Te[ze][Tt]=ae(Oe[ze+pt],Ke[Tt])})}),N.forEach(function(ze,Xe){Te[ze]=ae(Te.margin[Xe],Te.spacing[Xe])}),Te.axisOffset=[0,0,0,0],Te.clipOffset=[0,0,0,0]}drawChartBox(){const Te=this.options.chart,Oe=this.renderer,ze=this.chartWidth,Xe=this.chartHeight,Ke=this.styledMode,pt=this.plotBGImage;var Tt=Te.backgroundColor;const Bt=Te.plotBackgroundColor,ci=Te.plotBackgroundImage,Wt=this.plotLeft,ui=this.plotTop,ji=this.plotWidth,Ii=this.plotHeight,wi=this.plotBox,Ci=this.clipRect,sn=this.clipBox;let vn=this.chartBackground,Gn=this.plotBackground,br=this.plotBorder,us,Ps,nn="animate";vn||(this.chartBackground=vn=Oe.rect().addClass("highcharts-background").add(),nn="attr"),Ke?us=Ps=vn.strokeWidth():(us=Te.borderWidth||0,Ps=us+(Te.shadow?8:0),Tt={fill:Tt||"none"},(us||vn["stroke-width"])&&(Tt.stroke=Te.borderColor,Tt["stroke-width"]=us),vn.attr(Tt).shadow(Te.shadow)),vn[nn]({x:Ps/2,y:Ps/2,width:ze-Ps-us%2,height:Xe-Ps-us%2,r:Te.borderRadius}),nn="animate",Gn||(nn="attr",this.plotBackground=Gn=Oe.rect().addClass("highcharts-plot-background").add()),Gn[nn](wi),Ke||(Gn.attr({fill:Bt||"none"}).shadow(Te.plotShadow),ci&&(pt?(ci!==pt.attr("href")&&pt.attr("href",ci),pt.animate(wi)):this.plotBGImage=Oe.image(ci,Wt,ui,ji,Ii).add())),Ci?Ci.animate({width:sn.width,height:sn.height}):this.clipRect=Oe.clipRect(sn),nn="animate",br||(nn="attr",this.plotBorder=br=Oe.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),Ke||br.attr({stroke:Te.plotBorderColor,"stroke-width":Te.plotBorderWidth||0,fill:"none"}),br[nn](br.crisp({x:Wt,y:ui,width:ji,height:Ii},-br.strokeWidth())),this.isDirtyBox=!1,J(this,"afterDrawChartBox")}propFromSeries(){const Te=this,Oe=Te.options.chart,ze=Te.options.series;let Xe,Ke,pt;["inverted","angular","polar"].forEach(function(Tt){for(Ke=S[Oe.type],pt=Oe[Tt]||Ke&&Ke.prototype[Tt],Xe=ze&&ze.length;!pt&&Xe--;)(Ke=S[ze[Xe].type])&&Ke.prototype[Tt]&&(pt=!0);Te[Tt]=pt})}linkSeries(Te){const Oe=this,ze=Oe.series;ze.forEach(function(Xe){Xe.linkedSeries.length=0}),ze.forEach(function(Xe){let Ke=Xe.options.linkedTo;ne(Ke)&&(Ke=Ke===":previous"?Oe.series[Xe.index-1]:Oe.get(Ke))&&Ke.linkedParent!==Xe&&(Ke.linkedSeries.push(Xe),Xe.linkedParent=Ke,Ke.enabledDataSorting&&Xe.setDataSortingOptions(),Xe.visible=ae(Xe.options.visible,Ke.options.visible,Xe.visible))}),J(this,"afterLinkSeries",{isUpdating:Te})}renderSeries(){this.series.forEach(function(Te){Te.translate(),Te.render()})}render(){const Te=this.axes,Oe=this.colorAxis,ze=this.renderer,Xe=function(Wt){Wt.forEach(function(ui){ui.visible&&ui.render()})};let Ke=0;this.setTitle(),J(this,"beforeMargins"),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize();const pt=this.plotWidth;Te.some(function(Wt){if(Wt.horiz&&Wt.visible&&Wt.options.labels.enabled&&Wt.series.length)return Ke=21,!0});const Tt=this.plotHeight=Math.max(this.plotHeight-Ke,0);Te.forEach(function(Wt){Wt.setScale()}),this.getAxisMargins();const Bt=1.1<pt/this.plotWidth,ci=1.05<Tt/this.plotHeight;(Bt||ci)&&(Te.forEach(function(Wt){(Wt.horiz&&Bt||!Wt.horiz&&ci)&&Wt.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?Xe(Te):Oe&&Oe.length&&Xe(Oe),this.seriesGroup||(this.seriesGroup=ze.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(Te){const Oe=this,ze=ye(!0,this.options.credits,Te);ze.enabled&&!this.credits&&(this.credits=this.renderer.text(ze.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){ze.href&&(W.location.href=ze.href)}).attr({align:ze.position.align,zIndex:8}),Oe.styledMode||this.credits.css(ze.style),this.credits.add().align(ze.position),this.credits.update=function(Xe){Oe.credits=Oe.credits.destroy(),Oe.addCredits(Xe)})}destroy(){const Te=this,Oe=Te.axes,ze=Te.series,Xe=Te.container,Ke=Xe&&Xe.parentNode;let pt;for(J(Te,"destroy"),Te.renderer.forExport?Z(ee,Te):ee[Te.index]=void 0,z.chartCount--,Te.renderTo.removeAttribute("data-highcharts-chart"),Re(Te),pt=Oe.length;pt--;)Oe[pt]=Oe[pt].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),pt=ze.length;pt--;)ze[pt]=ze[pt].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(Tt){const Bt=Te[Tt];Bt&&Bt.destroy&&(Te[Tt]=Bt.destroy())}),Xe&&(Xe.innerHTML=I.emptyHTML,Re(Xe),Ke&&te(Xe)),_e(Te,function(Tt,Bt){delete Te[Bt]})}firstRender(){const Te=this,Oe=Te.options;Te.getContainer(),Te.resetMargins(),Te.setChartSize(),Te.propFromSeries(),Te.getAxes(),(ce(Oe.series)?Oe.series:[]).forEach(function(ze){Te.initSeries(ze)}),Te.linkSeries(),Te.setSeriesData(),J(Te,"beforeRender"),Te.render(),Te.pointer.getChartPosition(),!Te.renderer.imgCount&&!Te.hasLoaded&&Te.onload(),Te.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(Te){Te&&typeof this.index<"u"&&Te.apply(this,[this])},this),J(this,"load"),J(this,"render"),X(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){const{options:Te,title:Oe}=this;Te&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(Oe&&Oe.element.textContent||"").replace(/</g,"&lt;")}),Te.accessibility&&Te.accessibility.enabled===!1||de('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(Te,Oe,ze){const Xe=this;let Ke;return Te&&(Oe=ae(Oe,!0),J(Xe,"addSeries",{options:Te},function(){Ke=Xe.initSeries(Te),Xe.isDirtyLegend=!0,Xe.linkSeries(),Ke.enabledDataSorting&&Ke.setData(Te.data,!1),J(Xe,"afterAddSeries",{series:Ke}),Oe&&Xe.redraw(ze)})),Ke}addAxis(Te,Oe,ze,Xe){return this.createAxis(Oe?"xAxis":"yAxis",{axis:Te,redraw:ze,animation:Xe})}addColorAxis(Te,Oe,ze){return this.createAxis("colorAxis",{axis:Te,redraw:Oe,animation:ze})}createAxis(Te,Oe){return Te=new h(this,ye(Oe.axis,{index:this[Te].length,isX:Te==="xAxis"})),ae(Oe.redraw,!0)&&this.redraw(Oe.animation),Te}showLoading(Te){const Oe=this,ze=Oe.options,Xe=ze.loading,Ke=function(){pt&&D(pt,{left:Oe.plotLeft+"px",top:Oe.plotTop+"px",width:Oe.plotWidth+"px",height:Oe.plotHeight+"px"})};let pt=Oe.loadingDiv,Tt=Oe.loadingSpan;pt||(Oe.loadingDiv=pt=b("div",{className:"highcharts-loading highcharts-loading-hidden"},null,Oe.container)),Tt||(Oe.loadingSpan=Tt=b("span",{className:"highcharts-loading-inner"},null,pt),P(Oe,"redraw",Ke)),pt.className="highcharts-loading",I.setElementHTML(Tt,ae(Te,ze.lang.loading,"")),Oe.styledMode||(D(pt,ge(Xe.style,{zIndex:10})),D(Tt,Xe.labelStyle),Oe.loadingShown||(D(pt,{opacity:0,display:""}),H(pt,{opacity:Xe.style.opacity||.5},{duration:Xe.showDuration||0}))),Oe.loadingShown=!0,Ke()}hideLoading(){const Te=this.options,Oe=this.loadingDiv;Oe&&(Oe.className="highcharts-loading highcharts-loading-hidden",this.styledMode||H(Oe,{opacity:0},{duration:Te.loading.hideDuration||100,complete:function(){D(Oe,{display:"none"})}})),this.loadingShown=!1}update(Te,Oe,ze,Xe){const Ke=this,pt={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Tt=Te.isResponsiveOptions,Bt=[];let ci,Wt;J(Ke,"update",{options:Te}),Tt||Ke.setResponsive(!1,!0),Te=g(Te,Ke.options),Ke.userOptions=ye(Ke.userOptions,Te);var ui=Te.chart;if(ui){if(ye(!0,Ke.options.chart,ui),"className"in ui&&Ke.setClassName(ui.className),"inverted"in ui||"polar"in ui||"type"in ui){Ke.propFromSeries();var ji=!0}"alignTicks"in ui&&(ji=!0),"events"in ui&&E(this,ui),_e(ui,function(Ii,wi){Ke.propsRequireUpdateSeries.indexOf("chart."+wi)!==-1&&(ci=!0),Ke.propsRequireDirtyBox.indexOf(wi)!==-1&&(Ke.isDirtyBox=!0),Ke.propsRequireReflow.indexOf(wi)!==-1&&(Tt?Ke.isDirtyBox=!0:Wt=!0)}),!Ke.styledMode&&ui.style&&Ke.renderer.setStyle(Ke.options.chart.style||{})}!Ke.styledMode&&Te.colors&&(this.options.colors=Te.colors),Te.time&&(this.time===U&&(this.time=new q(Te.time)),ye(!0,Ke.options.time,Te.time)),_e(Te,function(Ii,wi){Ke[wi]&&typeof Ke[wi].update=="function"?Ke[wi].update(Ii,!1):typeof Ke[pt[wi]]=="function"?Ke[pt[wi]](Ii):wi!=="colors"&&Ke.collectionsWithUpdate.indexOf(wi)===-1&&ye(!0,Ke.options[wi],Te[wi]),wi!=="chart"&&Ke.propsRequireUpdateSeries.indexOf(wi)!==-1&&(ci=!0)}),this.collectionsWithUpdate.forEach(function(Ii){let wi;Te[Ii]&&(wi=[],Ke[Ii].forEach(function(Ci,sn){Ci.options.isInternal||wi.push(ae(Ci.options.index,sn))}),Le(Te[Ii]).forEach(function(Ci,sn){const vn=X(Ci.id);let Gn;vn&&(Gn=Ke.get(Ci.id)),!Gn&&Ke[Ii]&&(Gn=Ke[Ii][wi?wi[sn]:sn])&&vn&&X(Gn.options.id)&&(Gn=void 0),Gn&&Gn.coll===Ii&&(Gn.update(Ci,!1),ze&&(Gn.touched=!0)),!Gn&&ze&&Ke.collectionsWithInit[Ii]&&(Ke.collectionsWithInit[Ii][0].apply(Ke,[Ci].concat(Ke.collectionsWithInit[Ii][1]||[]).concat([!1])).touched=!0)}),ze&&Ke[Ii].forEach(function(Ci){Ci.touched||Ci.options.isInternal?delete Ci.touched:Bt.push(Ci)}))}),Bt.forEach(function(Ii){Ii.chart&&Ii.remove&&Ii.remove(!1)}),ji&&Ke.axes.forEach(function(Ii){Ii.update({},!1)}),ci&&Ke.getSeriesOrderByLinks().forEach(function(Ii){Ii.chart&&Ii.update({},!1)},this),ji=ui&&ui.width,ui=ui&&(ne(ui.height)?we(ui.height,ji||Ke.chartWidth):ui.height),Wt||pe(ji)&&ji!==Ke.chartWidth||pe(ui)&&ui!==Ke.chartHeight?Ke.setSize(ji,ui,Xe):ae(Oe,!0)&&Ke.redraw(Xe),J(Ke,"afterUpdate",{options:Te,redraw:Oe,animation:Xe})}setSubtitle(Te,Oe){this.applyDescription("subtitle",Te),this.layOutTitles(Oe)}setCaption(Te,Oe){this.applyDescription("caption",Te),this.layOutTitles(Oe)}showResetZoom(){function Te(){Oe.zoomOut()}const Oe=this,ze=A.lang,Xe=Oe.options.chart.zooming.resetButton,Ke=Xe.theme,pt=Xe.relativeTo==="chart"||Xe.relativeTo==="spacingBox"?null:"scrollablePlotBox";J(this,"beforeShowResetZoom",null,function(){Oe.resetZoomButton=Oe.renderer.button(ze.resetZoom,null,null,Te,Ke).attr({align:Xe.position.align,title:ze.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(Xe.position,!1,pt)}),J(this,"afterShowResetZoom")}zoomOut(){J(this,"selection",{resetSelection:!0},this.zoom)}zoom(Te){const Oe=this,ze=Oe.pointer;let Xe=!1,Ke;!Te||Te.resetSelection?(Oe.axes.forEach(function(Tt){Ke=Tt.zoom()}),ze.initiated=!1):Te.xAxis.concat(Te.yAxis).forEach(function(Tt){const Bt=Tt.axis;(ze[Bt.isXAxis?"zoomX":"zoomY"]&&X(ze.mouseDownX)&&X(ze.mouseDownY)&&Oe.isInsidePlot(ze.mouseDownX-Oe.plotLeft,ze.mouseDownY-Oe.plotTop,{axis:Bt})||!X(Oe.inverted?ze.mouseDownX:ze.mouseDownY))&&(Ke=Bt.zoom(Tt.min,Tt.max),Bt.displayBtn&&(Xe=!0))});const pt=Oe.resetZoomButton;Xe&&!pt?Oe.showResetZoom():!Xe&&Ee(pt)&&(Oe.resetZoomButton=pt.destroy()),Ke&&Oe.redraw(ae(Oe.options.chart.animation,Te&&Te.animation,100>Oe.pointCount))}pan(Te,Oe){const ze=this,Xe=ze.hoverPoints;Oe=typeof Oe=="object"?Oe:{enabled:Oe,type:"x"};const Ke=ze.options.chart;Ke&&Ke.panning&&(Ke.panning=Oe);const pt=Oe.type;let Tt;J(this,"pan",{originalEvent:Te},function(){Xe&&Xe.forEach(function(Wt){Wt.setState()});let Bt=ze.xAxis;pt==="xy"?Bt=Bt.concat(ze.yAxis):pt==="y"&&(Bt=ze.yAxis);const ci={};Bt.forEach(function(Wt){if(Wt.options.panningEnabled&&!Wt.options.isInternal){var ui=Wt.horiz,ji=Te[ui?"chartX":"chartY"];ui=ui?"mouseDownX":"mouseDownY";var Ii=ze[ui],wi=Wt.minPointOffset||0,Ci=Wt.reversed&&!ze.inverted||!Wt.reversed&&ze.inverted?-1:1,sn=Wt.getExtremes(),vn=Wt.toValue(Ii-ji,!0)+wi*Ci,Gn=Wt.toValue(Ii+Wt.len-ji,!0)-(wi*Ci||Wt.isXAxis&&Wt.pointRangePadding||0),br=Gn<vn;Ci=Wt.hasVerticalPanning(),Ii=br?Gn:vn,vn=br?vn:Gn;var us=Wt.panningState;!Ci||Wt.isXAxis||us&&!us.isDirty||Wt.series.forEach(function(Ps){var nn=Ps.getProcessedData(!0);nn=Ps.getExtremes(nn.yData,!0),us||(us={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),pe(nn.dataMin)&&pe(nn.dataMax)&&(us.startMin=Math.min(ae(Ps.options.threshold,1/0),nn.dataMin,us.startMin),us.startMax=Math.max(ae(Ps.options.threshold,-1/0),nn.dataMax,us.startMax))}),Ci=Math.min(ae(us&&us.startMin,sn.dataMin),wi?sn.min:Wt.toValue(Wt.toPixels(sn.min)-Wt.minPixelPadding)),Gn=Math.max(ae(us&&us.startMax,sn.dataMax),wi?sn.max:Wt.toValue(Wt.toPixels(sn.max)+Wt.minPixelPadding)),Wt.panningState=us,Wt.isOrdinal||(wi=Ci-Ii,0<wi&&(vn+=wi,Ii=Ci),wi=vn-Gn,0<wi&&(vn=Gn,Ii-=wi),Wt.series.length&&Ii!==sn.min&&vn!==sn.max&&Ii>=Ci&&vn<=Gn&&(Wt.setExtremes(Ii,vn,!1,!1,{trigger:"pan"}),!ze.resetZoomButton&&Ii!==Ci&&vn!==Gn&&pt.match("y")&&(ze.showResetZoom(),Wt.displayBtn=!1),Tt=!0),ci[ui]=ji)}}),_e(ci,(Wt,ui)=>{ze[ui]=Wt}),Tt&&ze.redraw(!1),D(ze.container,{cursor:"move"})})}}return ge(Qe.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Qe.prototype.addAxis,[!0]],yAxis:[Qe.prototype.addAxis,[!1]],series:[Qe.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),Qe}),s(a,"Core/Legend/LegendSymbol.js",[a["Core/Utilities.js"]],function(c){const{extend:h,merge:m,pick:n}=c;var x;return function(z){z.lineMarker=function(Y,O){O=this.legendItem=this.legendItem||{};var V=this.options;const q=Y.symbolWidth,L=Y.symbolHeight,I=L/2,H=this.chart.renderer,M=O.group;Y=Y.baseline-Math.round(.3*Y.fontMetrics.b);let C={},A=V.marker,U=0;this.chart.styledMode||(C={"stroke-width":Math.min(V.lineWidth||0,24)},V.dashStyle?C.dashstyle=V.dashStyle:V.linecap!=="square"&&(C["stroke-linecap"]="round")),O.line=H.path().addClass("highcharts-graph").attr(C).add(M),C["stroke-linecap"]&&(U=Math.min(O.line.strokeWidth(),q)/2),q&&O.line.attr({d:[["M",U,Y],["L",q-U,Y]]}),A&&A.enabled!==!1&&q&&(V=Math.min(n(A.radius,I),I),this.symbol.indexOf("url")===0&&(A=m(A,{width:L,height:L}),V=0),O.symbol=O=H.symbol(this.symbol,q/2-V,Y-V,2*V,2*V,h({context:"legend"},A)).addClass("highcharts-point").add(M),O.isMarker=!0)},z.rectangle=function(Y,O){O=O.legendItem||{};const V=Y.symbolHeight,q=Y.options.squareSymbol;O.symbol=this.chart.renderer.rect(q?(Y.symbolWidth-V)/2:0,Y.baseline-V+1,q?V:Y.symbolWidth,V,n(Y.options.symbolRadius,V/2)).addClass("highcharts-point").attr({zIndex:3}).add(O.group)}}(x||(x={})),x}),s(a,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:1,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){const{numberFormatter:c}=this.series.chart;return typeof this.y!="number"?"":c(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),s(a,"Core/Series/Series.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Defaults.js"],a["Core/Foundation.js"],a["Core/Globals.js"],a["Core/Legend/LegendSymbol.js"],a["Core/Series/Point.js"],a["Core/Series/SeriesDefaults.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Utilities.js"]],function(c,h,m,n,x,z,Y,O,V,q){const{animObject:L,setAnimation:I}=c,{defaultOptions:H}=h,{registerEventOptions:M}=m,{hasTouch:C,svg:A,win:U}=n,{seriesTypes:$}=O,{arrayMax:E,arrayMin:ee,clamp:Q,cleanRecursively:N,correctFloat:j,defined:W,erase:S,error:P,extend:f,find:g,fireEvent:b,getNestedProperty:D,isArray:X,isNumber:te,isString:Z,merge:de,objectEach:ge,pick:Ce,removeEvent:J,splat:oe,syncTimeout:ce}=q;class pe{constructor(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}init(ne,ye){b(this,"init",{options:ye});const _e=this,ae=ne.series;this.eventsToUnbind=[],_e.chart=ne,_e.options=_e.setOptions(ye),ye=_e.options,_e.linkedSeries=[],_e.bindAxes(),f(_e,{name:ye.name,state:"",visible:ye.visible!==!1,selected:ye.selected===!0}),M(this,ye);const me=ye.events;(me&&me.click||ye.point&&ye.point.events&&ye.point.events.click||ye.allowPointSelect)&&(ne.runTrackerClick=!0),_e.getColor(),_e.getSymbol(),_e.parallelArrays.forEach(function(Re){_e[Re+"Data"]||(_e[Re+"Data"]=[])}),_e.isCartesian&&(ne.hasCartesianSeries=!0);let we;ae.length&&(we=ae[ae.length-1]),_e._i=Ce(we&&we._i,-1)+1,_e.opacity=_e.options.opacity,ne.orderSeries(this.insert(ae)),ye.dataSorting&&ye.dataSorting.enabled?_e.setDataSortingOptions():_e.points||_e.data||_e.setData(ye.data,!1),b(this,"afterInit")}is(ne){return $[ne]&&this instanceof $[ne]}insert(ne){const ye=this.options.index;let _e;if(te(ye)){for(_e=ne.length;_e--;)if(ye>=Ce(ne[_e].options.index,ne[_e]._i)){ne.splice(_e+1,0,this);break}_e===-1&&ne.unshift(this),_e+=1}else ne.push(this);return Ce(_e,ne.length-1)}bindAxes(){const ne=this,ye=ne.options,_e=ne.chart;let ae;b(this,"bindAxes",null,function(){(ne.axisTypes||[]).forEach(function(me){let we=0;_e[me].forEach(function(Re){ae=Re.options,(ye[me]===we&&!ae.isInternal||typeof ye[me]<"u"&&ye[me]===ae.id||typeof ye[me]>"u"&&ae.index===0)&&(ne.insert(Re.series),ne[me]=Re,Re.isDirty=!0),ae.isInternal||we++}),ne[me]||ne.optionalAxis===me||P(18,!0,_e)})}),b(this,"afterBindAxes")}updateParallelArrays(ne,ye,_e){const ae=ne.series,me=te(ye)?function(we){const Re=we==="y"&&ae.toYData?ae.toYData(ne):ne[we];ae[we+"Data"][ye]=Re}:function(we){Array.prototype[ye].apply(ae[we+"Data"],_e)};ae.parallelArrays.forEach(me)}hasData(){return this.visible&&typeof this.dataMax<"u"&&typeof this.dataMin<"u"||this.visible&&this.yData&&0<this.yData.length}autoIncrement(ne){var ye=this.options;const _e=ye.pointIntervalUnit,ae=ye.relativeXValue,me=this.chart.time;let we=this.xIncrement,Re;return we=Ce(we,ye.pointStart,0),this.pointInterval=Re=Ce(this.pointInterval,ye.pointInterval,1),ae&&te(ne)&&(Re*=ne),_e&&(ye=new me.Date(we),_e==="day"?me.set("Date",ye,me.get("Date",ye)+Re):_e==="month"?me.set("Month",ye,me.get("Month",ye)+Re):_e==="year"&&me.set("FullYear",ye,me.get("FullYear",ye)+Re),Re=ye.getTime()-we),ae&&te(ne)?we+Re:(this.xIncrement=we+Re,we)}setDataSortingOptions(){const ne=this.options;f(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),W(ne.pointRange)||(ne.pointRange=1)}setOptions(ne){var ye=this.chart,_e=ye.options,ae=_e.plotOptions,me=ye.userOptions||{};ne=de(ne),ye=ye.styledMode;const we={plotOptions:ae,userOptions:ne};b(this,"setOptions",we);const Re=we.plotOptions[this.type],Le=me.plotOptions||{};return this.userOptions=we.userOptions,me=de(Re,ae.series,me.plotOptions&&me.plotOptions[this.type],ne),this.tooltipOptions=de(H.tooltip,H.plotOptions.series&&H.plotOptions.series.tooltip,H.plotOptions[this.type].tooltip,_e.tooltip.userOptions,ae.series&&ae.series.tooltip,ae[this.type].tooltip,ne.tooltip),this.stickyTracking=Ce(ne.stickyTracking,Le[this.type]&&Le[this.type].stickyTracking,Le.series&&Le.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:me.stickyTracking),Re.marker===null&&delete me.marker,this.zoneAxis=me.zoneAxis,ae=this.zones=(me.zones||[]).slice(),!me.negativeColor&&!me.negativeFillColor||me.zones||(_e={value:me[this.zoneAxis+"Threshold"]||me.threshold||0,className:"highcharts-negative"},ye||(_e.color=me.negativeColor,_e.fillColor=me.negativeFillColor),ae.push(_e)),ae.length&&W(ae[ae.length-1].value)&&ae.push(ye?{}:{color:this.color,fillColor:this.fillColor}),b(this,"afterSetOptions",{options:me}),me}getName(){return Ce(this.options.name,"Series "+(this.index+1))}getCyclic(ne,ye,_e){const ae=this.chart,me=this.userOptions,we=ne+"Index",Re=ne+"Counter",Le=_e?_e.length:Ce(ae.options.chart[ne+"Count"],ae[ne+"Count"]);if(!ye){var $e=Ce(me[we],me["_"+we]);W($e)||(ae.series.length||(ae[Re]=0),me["_"+we]=$e=ae[Re]%Le,ae[Re]+=1),_e&&(ye=_e[$e])}typeof $e<"u"&&(this[we]=$e),this[ne]=ye}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||H.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)}findPointIndex(ne,ye){const _e=ne.id,ae=ne.x,me=this.points;var we=this.options.dataSorting,Re;let Le,$e;if(_e)we=this.chart.get(_e),we instanceof z&&(Re=we);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(Re=rt=>!rt.touched&&rt.index===ne.index,we&&we.matchByName?Re=rt=>!rt.touched&&rt.name===ne.name:this.options.relativeXValue&&(Re=rt=>!rt.touched&&rt.options.x===ne.x),Re=g(me,Re),!Re))return;return Re&&($e=Re&&Re.index,typeof $e<"u"&&(Le=!0)),typeof $e>"u"&&te(ae)&&($e=this.xData.indexOf(ae,ye)),$e!==-1&&typeof $e<"u"&&this.cropped&&($e=$e>=this.cropStart?$e-this.cropStart:$e),!Le&&te($e)&&me[$e]&&me[$e].touched&&($e=void 0),$e}updateData(ne,ye){const _e=this.options,ae=_e.dataSorting,me=this.points,we=[],Re=this.requireSorting,Le=ne.length===me.length;let $e,rt,Qe,qe=!0;if(this.xIncrement=null,ne.forEach(function(Te,Oe){var ze=W(Te)&&this.pointClass.prototype.optionsToObject.call({series:this},Te)||{};const Xe=ze.x;ze.id||te(Xe)?(ze=this.findPointIndex(ze,Qe),ze===-1||typeof ze>"u"?we.push(Te):me[ze]&&Te!==_e.data[ze]?(me[ze].update(Te,!1,null,!1),me[ze].touched=!0,Re&&(Qe=ze+1)):me[ze]&&(me[ze].touched=!0),(!Le||Oe!==ze||ae&&ae.enabled||this.hasDerivedData)&&($e=!0)):we.push(Te)},this),$e)for(ne=me.length;ne--;)(rt=me[ne])&&!rt.touched&&rt.remove&&rt.remove(!1,ye);else!Le||ae&&ae.enabled?qe=!1:(ne.forEach(function(Te,Oe){Te===me[Oe].y||me[Oe].destroyed||me[Oe].update(Te,!1,null,!1)}),we.length=0);return me.forEach(function(Te){Te&&(Te.touched=!1)}),qe?(we.forEach(function(Te){this.addPoint(Te,!1,null,null,!1)},this),this.xIncrement===null&&this.xData&&this.xData.length&&(this.xIncrement=E(this.xData),this.autoIncrement()),!0):!1}setData(ne,ye=!0,_e,ae){var me;const we=this,Re=we.points,Le=Re&&Re.length||0,$e=we.options,rt=we.chart,Qe=$e.dataSorting,qe=we.xAxis,Te=$e.turboThreshold,Oe=this.xData,ze=this.yData;var Xe=we.pointArrayMap;Xe=Xe&&Xe.length;const Ke=$e.keys;let pt,Tt=0,Bt=1,ci=null;if(!rt.options.chart.allowMutatingData){$e.data&&delete we.options.data,we.userOptions.data&&delete we.userOptions.data;var Wt=de(!0,ne)}if(ne=Wt||ne||[],Wt=ne.length,Qe&&Qe.enabled&&(ne=this.sortData(ne)),rt.options.chart.allowMutatingData&&ae!==!1&&Wt&&Le&&!we.cropped&&!we.hasGroupedData&&we.visible&&!we.boosted&&(pt=this.updateData(ne,_e)),!pt){if(we.xIncrement=null,we.colorCounter=0,this.parallelArrays.forEach(function(ui){we[ui+"Data"].length=0}),Te&&Wt>Te)if(ci=we.getFirstValidPoint(ne),te(ci))for(_e=0;_e<Wt;_e++)Oe[_e]=this.autoIncrement(),ze[_e]=ne[_e];else if(X(ci))if(Xe)if(ci.length===Xe)for(_e=0;_e<Wt;_e++)Oe[_e]=this.autoIncrement(),ze[_e]=ne[_e];else for(_e=0;_e<Wt;_e++)ae=ne[_e],Oe[_e]=ae[0],ze[_e]=ae.slice(1,Xe+1);else if(Ke&&(Tt=Ke.indexOf("x"),Bt=Ke.indexOf("y"),Tt=0<=Tt?Tt:0,Bt=0<=Bt?Bt:1),ci.length===1&&(Bt=0),Tt===Bt)for(_e=0;_e<Wt;_e++)Oe[_e]=this.autoIncrement(),ze[_e]=ne[_e][Bt];else for(_e=0;_e<Wt;_e++)ae=ne[_e],Oe[_e]=ae[Tt],ze[_e]=ae[Bt];else P(12,!1,rt);else for(_e=0;_e<Wt;_e++)ae={series:we},we.pointClass.prototype.applyOptions.apply(ae,[ne[_e]]),we.updateParallelArrays(ae,_e);for(ze&&Z(ze[0])&&P(14,!0,rt),we.data=[],we.options.data=we.userOptions.data=ne,_e=Le;_e--;)(me=Re[_e])===null||me===void 0||me.destroy();qe&&(qe.minRange=qe.userMinRange),we.isDirty=rt.isDirtyBox=!0,we.isDirtyData=!!Re,_e=!1}$e.legendType==="point"&&(this.processData(),this.generatePoints()),ye&&rt.redraw(_e)}sortData(ne){const ye=this,_e=ye.options.dataSorting.sortKey||"y",ae=function(me,we){return W(we)&&me.pointClass.prototype.optionsToObject.call({series:me},we)||{}};return ne.forEach(function(me,we){ne[we]=ae(ye,me),ne[we].index=we},this),ne.concat().sort((me,we)=>(me=D(_e,me),we=D(_e,we),we<me?-1:we>me?1:0)).forEach(function(me,we){me.x=we},this),ye.linkedSeries&&ye.linkedSeries.forEach(function(me){const we=me.options,Re=we.data;we.dataSorting&&we.dataSorting.enabled||!Re||(Re.forEach(function(Le,$e){Re[$e]=ae(me,Le),ne[$e]&&(Re[$e].x=ne[$e].x,Re[$e].index=$e)}),me.setData(Re,!1))}),ne}getProcessedData(ne){var ye=this.xAxis,_e=this.options,ae=_e.cropThreshold;const me=ne||this.getExtremesFromAll||_e.getExtremesFromAll,we=this.isCartesian;ne=ye&&ye.val2lin,_e=!(!ye||!ye.logarithmic);let Re=0,Le,$e,rt,Qe=this.xData,qe=this.yData,Te=this.requireSorting;var Oe=!1;const ze=Qe.length;if(ye&&(Oe=ye.getExtremes(),$e=Oe.min,rt=Oe.max,Oe=!(!ye.categories||ye.names.length)),we&&this.sorted&&!me&&(!ae||ze>ae||this.forceCrop)){if(Qe[ze-1]<$e||Qe[0]>rt)Qe=[],qe=[];else if(this.yData&&(Qe[0]<$e||Qe[ze-1]>rt)){var Xe=this.cropData(this.xData,this.yData,$e,rt);Qe=Xe.xData,qe=Xe.yData,Re=Xe.start,Xe=!0}}for(ae=Qe.length||1;--ae;)ye=_e?ne(Qe[ae])-ne(Qe[ae-1]):Qe[ae]-Qe[ae-1],0<ye&&(typeof Le>"u"||ye<Le)?Le=ye:0>ye&&Te&&!Oe&&(P(15,!1,this.chart),Te=!1);return{xData:Qe,yData:qe,cropped:Xe,cropStart:Re,closestPointRange:Le}}processData(ne){const ye=this.xAxis;if(this.isCartesian&&!this.isDirty&&!ye.isDirty&&!this.yAxis.isDirty&&!ne)return!1;ne=this.getProcessedData(),this.cropped=ne.cropped,this.cropStart=ne.cropStart,this.processedXData=ne.xData,this.processedYData=ne.yData,this.closestPointRange=this.basePointRange=ne.closestPointRange,b(this,"afterProcessData")}cropData(ne,ye,_e,ae,me){const we=ne.length;let Re,Le=0,$e=we;for(me=Ce(me,this.cropShoulder),Re=0;Re<we;Re++)if(ne[Re]>=_e){Le=Math.max(0,Re-me);break}for(_e=Re;_e<we;_e++)if(ne[_e]>ae){$e=_e+me;break}return{xData:ne.slice(Le,$e),yData:ye.slice(Le,$e),start:Le,end:$e}}generatePoints(){var ne=this.options;const ye=this.processedData||ne.data,_e=this.processedXData,ae=this.processedYData,me=this.pointClass,we=_e.length,Re=this.cropStart||0,Le=this.hasGroupedData,$e=ne.keys,rt=[];ne=ne.dataGrouping&&ne.dataGrouping.groupAll?Re:0;let Qe,qe,Te,Oe=this.data;if(!Oe&&!Le){var ze=[];ze.length=ye.length,Oe=this.data=ze}for($e&&Le&&(this.options.keys=!1),Te=0;Te<we;Te++)ze=Re+Te,Le?(qe=new me().init(this,[_e[Te]].concat(oe(ae[Te]))),qe.dataGroup=this.groupMap[ne+Te],qe.dataGroup.options&&(qe.options=qe.dataGroup.options,f(qe,qe.dataGroup.options),delete qe.dataLabels)):(qe=Oe[ze])||typeof ye[ze]>"u"||(Oe[ze]=qe=new me().init(this,ye[ze],_e[Te])),qe&&(qe.index=Le?ne+Te:ze,rt[Te]=qe);if(this.options.keys=$e,Oe&&(we!==(Qe=Oe.length)||Le))for(Te=0;Te<Qe;Te++)Te!==Re||Le||(Te+=we),Oe[Te]&&(Oe[Te].destroyElements(),Oe[Te].plotX=void 0);this.data=Oe,this.points=rt,b(this,"afterGeneratePoints")}getXExtremes(ne){return{min:ee(ne),max:E(ne)}}getExtremes(ne,ye){const _e=this.xAxis;var ae=this.yAxis;const me=this.processedXData||this.xData,we=[],Re=this.requireSorting?this.cropShoulder:0;ae=ae?ae.positiveValuesOnly:!1;let Le,$e=0,rt=0,Qe=0;ne=ne||this.stackedYData||this.processedYData||[];const qe=ne.length;if(_e){var Te=_e.getExtremes();$e=Te.min,rt=Te.max}for(Le=0;Le<qe;Le++){var Oe=me[Le];Te=ne[Le];var ze=(te(Te)||X(Te))&&(Te.length||0<Te||!ae);if(Oe=ye||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!_e||(me[Le+Re]||Oe)>=$e&&(me[Le-Re]||Oe)<=rt,ze&&Oe)if(ze=Te.length)for(;ze--;)te(Te[ze])&&(we[Qe++]=Te[ze]);else we[Qe++]=Te}return ne={activeYData:we,dataMin:ee(we),dataMax:E(we)},b(this,"afterGetExtremes",{dataExtremes:ne}),ne}applyExtremes(){const ne=this.getExtremes();return this.dataMin=ne.dataMin,this.dataMax=ne.dataMax,ne}getFirstValidPoint(ne){const ye=ne.length;let _e=0,ae=null;for(;ae===null&&_e<ye;)ae=ne[_e],_e++;return ae}translate(){var ne;this.processedXData||this.processData(),this.generatePoints();const ye=this.options,_e=ye.stacking,ae=this.xAxis,me=ae.categories,we=this.enabledDataSorting,Re=this.yAxis,Le=this.points,$e=Le.length,rt=this.pointPlacementToXValue(),Qe=!!rt,qe=ye.threshold,Te=ye.startFromThreshold?qe:0,Oe=this.zoneAxis||"y";let ze,Xe,Ke,pt,Tt=Number.MAX_VALUE;for(ze=0;ze<$e;ze++){const Bt=Le[ze],ci=Bt.x;let Wt,ui,ji=Bt.y,Ii=Bt.low;const wi=_e&&((ne=Re.stacking)===null||ne===void 0?void 0:ne.stacks[(this.negStacks&&ji<(Te?0:qe)?"-":"")+this.stackKey]);Xe=ae.translate(ci,!1,!1,!1,!0,rt),Bt.plotX=te(Xe)?j(Q(Xe,-1e5,1e5)):void 0,_e&&this.visible&&wi&&wi[ci]&&(pt=this.getStackIndicator(pt,ci,this.index),!Bt.isNull&&pt.key&&(Wt=wi[ci],ui=Wt.points[pt.key]),Wt&&X(ui)&&(Ii=ui[0],ji=ui[1],Ii===Te&&pt.key===wi[ci].base&&(Ii=Ce(te(qe)?qe:Re.min)),Re.positiveValuesOnly&&W(Ii)&&0>=Ii&&(Ii=void 0),Bt.total=Bt.stackTotal=Ce(Wt.total),Bt.percentage=W(Bt.y)&&Wt.total?Bt.y/Wt.total*100:void 0,Bt.stackY=ji,this.irregularWidths||Wt.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Bt.yBottom=W(Ii)?Q(Re.translate(Ii,!1,!0,!1,!0),-1e5,1e5):void 0,this.dataModify&&(ji=this.dataModify.modifyValue(ji,ze));let Ci;te(ji)&&Bt.plotX!==void 0&&(Ci=Re.translate(ji,!1,!0,!1,!0),Ci=te(Ci)?Q(Ci,-1e5,1e5):void 0),Bt.plotY=Ci,Bt.isInside=this.isPointInside(Bt),Bt.clientX=Qe?j(ae.translate(ci,!1,!1,!1,!0,rt)):Xe,Bt.negative=Bt[Oe]<(ye[Oe+"Threshold"]||qe||0),Bt.category=Ce(me&&me[Bt.x],Bt.x),Bt.isNull||Bt.visible===!1||(typeof Ke<"u"&&(Tt=Math.min(Tt,Math.abs(Xe-Ke))),Ke=Xe),Bt.zone=this.zones.length?Bt.getZone():void 0,!Bt.graphic&&this.group&&we&&(Bt.isNew=!0)}this.closestPointRangePx=Tt,b(this,"afterTranslate")}getValidPoints(ne,ye,_e){const ae=this.chart;return(ne||this.points||[]).filter(function(me){const{plotX:we,plotY:Re}=me;return!_e&&(me.isNull||!te(Re))||ye&&!ae.isInsidePlot(we,Re,{inverted:ae.inverted})?!1:me.visible!==!1})}getClipBox(){const{chart:ne,xAxis:ye,yAxis:_e}=this,ae=de(ne.clipBox);return ye&&ye.len!==ne.plotSizeX&&(ae.width=ye.len),_e&&_e.len!==ne.plotSizeY&&(ae.height=_e.len),ae}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)}setClip(){const{chart:ne,group:ye,markerGroup:_e}=this,ae=ne.sharedClips,me=ne.renderer,we=this.getClipBox(),Re=this.getSharedClipKey();let Le=ae[Re];Le?Le.animate(we):ae[Re]=Le=me.clipRect(we),ye&&ye.clip(this.options.clip===!1?void 0:Le),_e&&_e.clip()}animate(ne){const{chart:ye,group:_e,markerGroup:ae}=this,me=ye.inverted;var we=L(this.options.animation),Re=[this.getSharedClipKey(),we.duration,we.easing,we.defer].join();let Le=ye.sharedClips[Re],$e=ye.sharedClips[Re+"m"];if(ne&&_e)we=this.getClipBox(),Le?Le.attr("height",we.height):(we.width=0,me&&(we.x=ye.plotHeight),Le=ye.renderer.clipRect(we),ye.sharedClips[Re]=Le,$e=ye.renderer.clipRect({x:-99,y:-99,width:me?ye.plotWidth+199:99,height:me?99:ye.plotHeight+199}),ye.sharedClips[Re+"m"]=$e),_e.clip(Le),ae&&ae.clip($e);else if(Le&&!Le.hasClass("highcharts-animating")){Re=this.getClipBox();const rt=we.step;ae&&ae.element.childNodes.length&&(we.step=function(Qe,qe){rt&&rt.apply(qe,arguments),qe.prop==="width"&&$e&&$e.element&&$e.attr(me?"height":"width",Qe+99)}),Le.addClass("highcharts-animating").animate(Re,we)}}afterAnimate(){this.setClip(),ge(this.chart.sharedClips,(ne,ye,_e)=>{ne&&!this.chart.container.querySelector(`[clip-path="url(#${ne.id})"]`)&&(ne.destroy(),delete _e[ye])}),this.finishedAnimating=!0,b(this,"afterAnimate")}drawPoints(ne=this.points){const ye=this.chart,_e=ye.styledMode,{colorAxis:ae,options:me}=this,we=me.marker,Re=this[this.specialGroup||"markerGroup"],Le=this.xAxis,$e=Ce(we.enabled,!Le||Le.isRadial?!0:null,this.closestPointRangePx>=we.enabledThreshold*we.radius);let rt,Qe,qe,Te,Oe,ze;if(we.enabled!==!1||this._hasPointMarkers)for(rt=0;rt<ne.length;rt++){Qe=ne[rt],Te=(qe=Qe.graphic)?"animate":"attr";var Xe=Qe.marker||{};if(Oe=!!Qe.marker,($e&&typeof Xe.enabled>"u"||Xe.enabled)&&!Qe.isNull&&Qe.visible!==!1){const Ke=Ce(Xe.symbol,this.symbol,"rect");ze=this.markerAttribs(Qe,Qe.selected&&"select"),this.enabledDataSorting&&(Qe.startXPos=Le.reversed?-(ze.width||0):Le.width);const pt=Qe.isInside!==!1;!qe&&pt&&(0<(ze.width||0)||Qe.hasImage)&&(Qe.graphic=qe=ye.renderer.symbol(Ke,ze.x,ze.y,ze.width,ze.height,Oe?Xe:we).add(Re),this.enabledDataSorting&&ye.hasRendered&&(qe.attr({x:Qe.startXPos}),Te="animate")),qe&&Te==="animate"&&qe[pt?"show":"hide"](pt).animate(ze),qe&&(Xe=this.pointAttribs(Qe,_e||!Qe.selected?void 0:"select"),_e?ae&&qe.css({fill:Xe.fill}):qe[Te](Xe)),qe&&qe.addClass(Qe.getClassName(),!0)}else qe&&(Qe.graphic=qe.destroy())}}markerAttribs(ne,ye){const _e=this.options;var ae=_e.marker;const me=ne.marker||{},we=me.symbol||ae.symbol,Re={};let Le=Ce(me.radius,ae&&ae.radius);return ye&&(ae=ae.states[ye],ye=me.states&&me.states[ye],Le=Ce(ye&&ye.radius,ae&&ae.radius,Le&&Le+(ae&&ae.radiusPlus||0))),ne.hasImage=we&&we.indexOf("url")===0,ne.hasImage&&(Le=0),ne=ne.pos(),te(Le)&&ne&&(Re.x=ne[0]-Le,Re.y=ne[1]-Le,_e.crisp&&(Re.x=Math.floor(Re.x))),Le&&(Re.width=Re.height=2*Le),Re}pointAttribs(ne,ye){var _e=this.options.marker,ae=ne&&ne.options;const me=ae&&ae.marker||{};var we=ae&&ae.color,Re=ne&&ne.color;const Le=ne&&ne.zone&&ne.zone.color;let $e=this.color;return ne=Ce(me.lineWidth,_e.lineWidth),ae=1,$e=we||Le||Re||$e,we=me.fillColor||_e.fillColor||$e,Re=me.lineColor||_e.lineColor||$e,ye=ye||"normal",_e=_e.states[ye]||{},ye=me.states&&me.states[ye]||{},ne=Ce(ye.lineWidth,_e.lineWidth,ne+Ce(ye.lineWidthPlus,_e.lineWidthPlus,0)),we=ye.fillColor||_e.fillColor||we,Re=ye.lineColor||_e.lineColor||Re,ae=Ce(ye.opacity,_e.opacity,ae),{stroke:Re,"stroke-width":ne,fill:we,opacity:ae}}destroy(ne){const ye=this,_e=ye.chart,ae=/AppleWebKit\/533/.test(U.navigator.userAgent),me=ye.data||[];let we,Re,Le,$e;for(b(ye,"destroy",{keepEventsForUpdate:ne}),this.removeEvents(ne),(ye.axisTypes||[]).forEach(function(rt){($e=ye[rt])&&$e.series&&(S($e.series,ye),$e.isDirty=$e.forceRedraw=!0)}),ye.legendItem&&ye.chart.legend.destroyItem(ye),Re=me.length;Re--;)(Le=me[Re])&&Le.destroy&&Le.destroy();ye.clips&&ye.clips.forEach(rt=>rt.destroy()),q.clearTimeout(ye.animationTimeout),ge(ye,function(rt,Qe){rt instanceof V&&!rt.survive&&(we=ae&&Qe==="group"?"hide":"destroy",rt[we]())}),_e.hoverSeries===ye&&(_e.hoverSeries=void 0),S(_e.series,ye),_e.orderSeries(),ge(ye,function(rt,Qe){ne&&Qe==="hcEvents"||delete ye[Qe]})}applyZones(){const ne=this,ye=this.chart,_e=ye.renderer,ae=this.zones,me=this.clips||[],we=this.graph,Re=this.area,Le=Math.max(ye.plotWidth,ye.plotHeight),$e=this[(this.zoneAxis||"y")+"Axis"],rt=ye.inverted;let Qe,qe,Te,Oe,ze,Xe,Ke,pt,Tt,Bt,ci,Wt=!1;ae.length&&(we||Re)&&$e&&typeof $e.min<"u"?(ze=$e.reversed,Xe=$e.horiz,we&&!this.showLine&&we.hide(),Re&&Re.hide(),Oe=$e.getExtremes(),ae.forEach(function(ui,ji){Qe=ze?Xe?ye.plotWidth:0:Xe?0:$e.toPixels(Oe.min)||0,Qe=Q(Ce(qe,Qe),0,Le),qe=Q(Math.round($e.toPixels(Ce(ui.value,Oe.max),!0)||0),0,Le),Wt&&(Qe=qe=$e.toPixels(Oe.max)),Ke=Math.abs(Qe-qe),pt=Math.min(Qe,qe),Tt=Math.max(Qe,qe),$e.isXAxis?(Te={x:rt?Tt:pt,y:0,width:Ke,height:Le},Xe||(Te.x=ye.plotHeight-Te.x)):(Te={x:0,y:rt?Tt:pt,width:Le,height:Ke},Xe&&(Te.y=ye.plotWidth-Te.y)),me[ji]?me[ji].animate(Te):me[ji]=_e.clipRect(Te),Bt=ne["zone-area-"+ji],ci=ne["zone-graph-"+ji],we&&ci&&ci.clip(me[ji]),Re&&Bt&&Bt.clip(me[ji]),Wt=ui.value>Oe.max,ne.resetZones&&qe===0&&(qe=void 0)}),this.clips=me):ne.visible&&(we&&we.show(),Re&&Re.show())}plotGroup(ne,ye,_e,ae,me){let we=this[ne];const Re=!we;return _e={visibility:_e,zIndex:ae||.1},typeof this.opacity>"u"||this.chart.styledMode||this.state==="inactive"||(_e.opacity=this.opacity),Re&&(this[ne]=we=this.chart.renderer.g().add(me)),we.addClass("highcharts-"+ye+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(W(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(we.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),we.attr(_e)[Re?"attr":"animate"](this.getPlotBox(ye)),we}getPlotBox(ne){let ye=this.xAxis,_e=this.yAxis;const ae=this.chart;return ne=ae.inverted&&!ae.polar&&ye&&this.invertible!==!1&&ne==="series",ae.inverted&&(ye=_e,_e=this.xAxis),{translateX:ye?ye.left:ae.plotLeft,translateY:_e?_e.top:ae.plotTop,rotation:ne?90:0,rotationOriginX:ne?(ye.len-_e.len)/2:0,rotationOriginY:ne?(ye.len+_e.len)/2:0,scaleX:ne?-1:1,scaleY:1}}removeEvents(ne){ne||J(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(ye){ye()}),this.eventsToUnbind.length=0)}render(){const ne=this;var ye=ne.chart;const _e=ne.options,ae=L(_e.animation),me=ne.visible?"inherit":"hidden",we=_e.zIndex,Re=ne.hasRendered;ye=ye.seriesGroup;let Le=ne.finishedAnimating?0:ae.duration;b(this,"render"),ne.plotGroup("group","series",me,we,ye),ne.markerGroup=ne.plotGroup("markerGroup","markers",me,we,ye),_e.clip!==!1&&ne.setClip(),ne.animate&&Le&&ne.animate(!0),ne.drawGraph&&(ne.drawGraph(),ne.applyZones()),ne.visible&&ne.drawPoints(),ne.drawDataLabels&&ne.drawDataLabels(),ne.redrawPoints&&ne.redrawPoints(),ne.drawTracker&&ne.options.enableMouseTracking!==!1&&ne.drawTracker(),ne.animate&&Le&&ne.animate(),Re||(Le&&ae.defer&&(Le+=ae.defer),ne.animationTimeout=ce(function(){ne.afterAnimate()},Le||0)),ne.isDirty=!1,ne.hasRendered=!0,b(ne,"afterRender")}redraw(){const ne=this.isDirty||this.isDirtyData;this.translate(),this.render(),ne&&delete this.kdTree}searchPoint(ne,ye){const _e=this.xAxis,ae=this.yAxis,me=this.chart.inverted;return this.searchKDTree({clientX:me?_e.len-ne.chartY+_e.pos:ne.chartX-_e.pos,plotY:me?ae.len-ne.chartX+ae.pos:ne.chartY-ae.pos},ye,ne)}buildKDTree(ne){function ye(me,we,Re){var Le=me&&me.length;let $e;if(Le)return $e=_e.kdAxisArray[we%Re],me.sort(function(rt,Qe){return rt[$e]-Qe[$e]}),Le=Math.floor(Le/2),{point:me[Le],left:ye(me.slice(0,Le),we+1,Re),right:ye(me.slice(Le+1),we+1,Re)}}this.buildingKdTree=!0;const _e=this,ae=-1<_e.options.findNearestPointBy.indexOf("y")?2:1;delete _e.kdTree,ce(function(){_e.kdTree=ye(_e.getValidPoints(null,!_e.directTouch),ae,ae),_e.buildingKdTree=!1},_e.options.kdNow||ne&&ne.type==="touchstart"?0:1)}searchKDTree(ne,ye,_e){function ae($e,rt,Qe,qe){const Te=rt.point;var Oe=me.kdAxisArray[Qe%qe];let ze=Te;var Xe=W($e[we])&&W(Te[we])?Math.pow($e[we]-Te[we],2):null,Ke=W($e[Re])&&W(Te[Re])?Math.pow($e[Re]-Te[Re],2):null;return Ke=(Xe||0)+(Ke||0),Te.dist=W(Ke)?Math.sqrt(Ke):Number.MAX_VALUE,Te.distX=W(Xe)?Math.sqrt(Xe):Number.MAX_VALUE,Oe=$e[Oe]-Te[Oe],Ke=0>Oe?"left":"right",Xe=0>Oe?"right":"left",rt[Ke]&&(Ke=ae($e,rt[Ke],Qe+1,qe),ze=Ke[Le]<ze[Le]?Ke:Te),rt[Xe]&&Math.sqrt(Oe*Oe)<ze[Le]&&($e=ae($e,rt[Xe],Qe+1,qe),ze=$e[Le]<ze[Le]?$e:ze),ze}const me=this,we=this.kdAxisArray[0],Re=this.kdAxisArray[1],Le=ye?"distX":"dist";if(ye=-1<me.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(_e),this.kdTree)return ae(ne,this.kdTree,ye,ye)}pointPlacementToXValue(){const{options:{pointPlacement:ne,pointRange:ye},xAxis:_e}=this;let ae=ne;return ae==="between"&&(ae=_e.reversed?-.5:.5),te(ae)?ae*(ye||_e.pointRange):0}isPointInside(ne){const{chart:ye,xAxis:_e,yAxis:ae}=this;return typeof ne.plotY<"u"&&typeof ne.plotX<"u"&&0<=ne.plotY&&ne.plotY<=(ae?ae.len:ye.plotHeight)&&0<=ne.plotX&&ne.plotX<=(_e?_e.len:ye.plotWidth)}drawTracker(){const ne=this,ye=ne.options,_e=ye.trackByArea,ae=[].concat(_e?ne.areaPath:ne.graphPath),me=ne.chart,we=me.pointer,Re=me.renderer,Le=me.options.tooltip.snap,$e=ne.tracker,rt=function(qe){me.hoverSeries!==ne&&ne.onMouseOver()},Qe="rgba(192,192,192,"+(A?1e-4:.002)+")";$e?$e.attr({d:ae}):ne.graph&&(ne.tracker=Re.path(ae).attr({visibility:ne.visible?"inherit":"hidden",zIndex:2}).addClass(_e?"highcharts-tracker-area":"highcharts-tracker-line").add(ne.group),me.styledMode||ne.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:Qe,fill:_e?Qe:"none","stroke-width":ne.graph.strokeWidth()+(_e?0:2*Le)}),[ne.tracker,ne.markerGroup,ne.dataLabelsGroup].forEach(function(qe){qe&&(qe.addClass("highcharts-tracker").on("mouseover",rt).on("mouseout",function(Te){we.onTrackerMouseOut(Te)}),ye.cursor&&!me.styledMode&&qe.css({cursor:ye.cursor}),C)&&qe.on("touchstart",rt)})),b(this,"afterDrawTracker")}addPoint(ne,ye,_e,ae,me){const we=this.options,Re=this.data,Le=this.chart;var $e=this.xAxis;$e=$e&&$e.hasNames&&$e.names;const rt=we.data,Qe=this.xData;let qe,Te;ye=Ce(ye,!0);const Oe={series:this};this.pointClass.prototype.applyOptions.apply(Oe,[ne]);const ze=Oe.x;if(Te=Qe.length,this.requireSorting&&ze<Qe[Te-1])for(qe=!0;Te&&Qe[Te-1]>ze;)Te--;this.updateParallelArrays(Oe,"splice",[Te,0,0]),this.updateParallelArrays(Oe,Te),$e&&Oe.name&&($e[ze]=Oe.name),rt.splice(Te,0,ne),(qe||this.processedData)&&(this.data.splice(Te,0,null),this.processData()),we.legendType==="point"&&this.generatePoints(),_e&&(Re[0]&&Re[0].remove?Re[0].remove(!1):(Re.shift(),this.updateParallelArrays(Oe,"shift"),rt.shift())),me!==!1&&b(this,"addPoint",{point:Oe}),this.isDirtyData=this.isDirty=!0,ye&&Le.redraw(ae)}removePoint(ne,ye,_e){const ae=this,me=ae.data,we=me[ne],Re=ae.points,Le=ae.chart,$e=function(){Re&&Re.length===me.length&&Re.splice(ne,1),me.splice(ne,1),ae.options.data.splice(ne,1),ae.updateParallelArrays(we||{series:ae},"splice",[ne,1]),we&&we.destroy(),ae.isDirty=!0,ae.isDirtyData=!0,ye&&Le.redraw()};I(_e,Le),ye=Ce(ye,!0),we?we.firePointEvent("remove",null,$e):$e()}remove(ne,ye,_e,ae){function me(){we.destroy(ae),Re.isDirtyLegend=Re.isDirtyBox=!0,Re.linkSeries(ae),Ce(ne,!0)&&Re.redraw(ye)}const we=this,Re=we.chart;_e!==!1?b(we,"remove",null,me):me()}update(ne,ye){ne=N(ne,this.userOptions),b(this,"update",{options:ne});const _e=this,ae=_e.chart;var me=_e.userOptions;const we=_e.initialType||_e.type;var Re=ae.options.plotOptions;const Le=$[we].prototype;var $e=_e.finishedAnimating&&{animation:!1};const rt={};let Qe,qe=["eventOptions","navigatorSeries","baseSeries"],Te=ne.type||me.type||ae.options.chart.type;const Oe=!(this.hasDerivedData||Te&&Te!==this.type||typeof ne.pointStart<"u"||typeof ne.pointInterval<"u"||typeof ne.relativeXValue<"u"||ne.joinBy||ne.mapData||_e.hasOptionChanged("dataGrouping")||_e.hasOptionChanged("pointStart")||_e.hasOptionChanged("pointInterval")||_e.hasOptionChanged("pointIntervalUnit")||_e.hasOptionChanged("keys"));if(Te=Te||we,Oe&&(qe.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),ne.visible!==!1&&qe.push("area","graph"),_e.parallelArrays.forEach(function(ze){qe.push(ze+"Data")}),ne.data&&(ne.dataSorting&&f(_e.options.dataSorting,ne.dataSorting),this.setData(ne.data,!1))),ne=de(me,$e,{index:typeof me.index>"u"?_e.index:me.index,pointStart:Ce(Re&&Re.series&&Re.series.pointStart,me.pointStart,_e.xData[0])},!Oe&&{data:_e.options.data},ne),Oe&&ne.data&&(ne.data=_e.options.data),qe=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(qe),qe.forEach(function(ze){qe[ze]=_e[ze],delete _e[ze]}),Re=!1,$[Te]){if(Re=Te!==_e.type,_e.remove(!1,!1,!1,!0),Re)if(Object.setPrototypeOf)Object.setPrototypeOf(_e,$[Te].prototype);else{$e=Object.hasOwnProperty.call(_e,"hcEvents")&&_e.hcEvents;for(Qe in Le)_e[Qe]=void 0;f(_e,$[Te].prototype),$e?_e.hcEvents=$e:delete _e.hcEvents}}else P(17,!0,ae,{missingModuleFor:Te});if(qe.forEach(function(ze){_e[ze]=qe[ze]}),_e.init(ae,ne),Oe&&this.points){if(ne=_e.options,ne.visible===!1)rt.graphic=1,rt.dataLabel=1;else if(!_e._hasPointLabels){const{marker:ze,dataLabels:Xe}=ne;me=me.marker||{},!ze||ze.enabled!==!1&&me.symbol===ze.symbol&&me.height===ze.height&&me.width===ze.width||(rt.graphic=1),Xe&&Xe.enabled===!1&&(rt.dataLabel=1)}for(const ze of this.points)ze&&ze.series&&(ze.resolveColor(),Object.keys(rt).length&&ze.destroyElements(rt),ne.showInLegend===!1&&ze.legendItem&&ae.legend.destroyItem(ze))}_e.initialType=we,ae.linkSeries(),Re&&_e.linkedSeries.length&&(_e.isDirtyData=!0),b(this,"afterUpdate"),Ce(ye,!0)&&ae.redraw(Oe?void 0:!1)}setName(ne){this.name=this.options.name=this.userOptions.name=ne,this.chart.isDirtyLegend=!0}hasOptionChanged(ne){const ye=this.options[ne],_e=this.chart.options.plotOptions,ae=this.userOptions[ne];return ae?ye!==ae:ye!==Ce(_e&&_e[this.type]&&_e[this.type][ne],_e&&_e.series&&_e.series[ne],ye)}onMouseOver(){const ne=this.chart,ye=ne.hoverSeries;ne.pointer.setHoverChartIndex(),ye&&ye!==this&&ye.onMouseOut(),this.options.events.mouseOver&&b(this,"mouseOver"),this.setState("hover"),ne.hoverSeries=this}onMouseOut(){const ne=this.options,ye=this.chart,_e=ye.tooltip,ae=ye.hoverPoint;ye.hoverSeries=null,ae&&ae.onMouseOut(),this&&ne.events.mouseOut&&b(this,"mouseOut"),!_e||this.stickyTracking||_e.shared&&!this.noSharedTooltip||_e.hide(),ye.series.forEach(function(me){me.setState("",!0)})}setState(ne,ye){const _e=this;var ae=_e.options;const me=_e.graph,we=ae.inactiveOtherPoints,Re=ae.states,Le=Ce(Re[ne||"normal"]&&Re[ne||"normal"].animation,_e.chart.options.chart.animation);let $e=ae.lineWidth,rt=0,Qe=ae.opacity;if(ne=ne||"",_e.state!==ne&&([_e.group,_e.markerGroup,_e.dataLabelsGroup].forEach(function(qe){qe&&(_e.state&&qe.removeClass("highcharts-series-"+_e.state),ne&&qe.addClass("highcharts-series-"+ne))}),_e.state=ne,!_e.chart.styledMode)){if(Re[ne]&&Re[ne].enabled===!1)return;if(ne&&($e=Re[ne].lineWidth||$e+(Re[ne].lineWidthPlus||0),Qe=Ce(Re[ne].opacity,Qe)),me&&!me.dashstyle&&te($e))for(ae={"stroke-width":$e},me.animate(ae,Le);_e["zone-graph-"+rt];)_e["zone-graph-"+rt].animate(ae,Le),rt+=1;we||[_e.group,_e.markerGroup,_e.dataLabelsGroup,_e.labelBySeries].forEach(function(qe){qe&&qe.animate({opacity:Qe},Le)})}ye&&we&&_e.points&&_e.setAllPointsToState(ne||void 0)}setAllPointsToState(ne){this.points.forEach(function(ye){ye.setState&&ye.setState(ne)})}setVisible(ne,ye){const _e=this,ae=_e.chart,me=ae.options.chart.ignoreHiddenSeries,we=_e.visible,Re=(_e.visible=ne=_e.options.visible=_e.userOptions.visible=typeof ne>"u"?!we:ne)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(Le){_e[Le]&&_e[Le][Re]()}),(ae.hoverSeries===_e||(ae.hoverPoint&&ae.hoverPoint.series)===_e)&&_e.onMouseOut(),_e.legendItem&&ae.legend.colorizeItem(_e,ne),_e.isDirty=!0,_e.options.stacking&&ae.series.forEach(function(Le){Le.options.stacking&&Le.visible&&(Le.isDirty=!0)}),_e.linkedSeries.forEach(function(Le){Le.setVisible(ne,!1)}),me&&(ae.isDirtyBox=!0),b(_e,Re),ye!==!1&&ae.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(ne){this.selected=ne=this.options.selected=typeof ne>"u"?!this.selected:ne,this.checkbox&&(this.checkbox.checked=ne),b(this,ne?"select":"unselect")}shouldShowTooltip(ne,ye,_e={}){return _e.series=this,_e.visiblePlotOnly=!0,this.chart.isInsidePlot(ne,ye,_e)}drawLegendSymbol(ne,ye){var _e;(_e=x[this.options.legendSymbol||"rectangle"])===null||_e===void 0||_e.call(this,ne,ye)}}return pe.defaultOptions=Y,pe.types=O.seriesTypes,pe.registerType=O.registerSeriesType,f(pe.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:z,requireSorting:!0,sorted:!0}),O.series=pe,pe}),s(a,"Extensions/ScrollablePlotArea.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Axis/Axis.js"],a["Core/Chart/Chart.js"],a["Core/Series/Series.js"],a["Core/Renderer/RendererRegistry.js"],a["Core/Utilities.js"]],function(c,h,m,n,x,z){const{stop:Y}=c,{addEvent:O,createElement:V,defined:q,merge:L,pick:I}=z;O(m,"afterSetChartSize",function(H){var M=this.options.chart.scrollablePlotArea,C=M&&M.minWidth;M=M&&M.minHeight;let A;this.renderer.forExport||(C?(this.scrollablePixelsX=C=Math.max(0,C-this.chartWidth))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=L(this.plotBox),this.plotBox.width=this.plotWidth+=C,this.inverted?this.clipBox.height+=C:this.clipBox.width+=C,A={1:{name:"right",value:C}}):M&&(this.scrollablePixelsY=C=Math.max(0,M-this.chartHeight),q(C)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=L(this.plotBox),this.plotBox.height=this.plotHeight+=C,this.inverted?this.clipBox.width+=C:this.clipBox.height+=C,A={2:{name:"bottom",value:C}})),A&&!H.skipAxes&&this.axes.forEach(function(U){A[U.side]?U.getPlotLinePath=function(){let $=A[U.side].name,E=this[$],ee;return this[$]=E-A[U.side].value,ee=h.prototype.getPlotLinePath.apply(this,arguments),this[$]=E,ee}:(U.setAxisSize(),U.setAxisTranslation())}))}),O(m,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),m.prototype.setUpScrolling=function(){const H={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(H.overflowX="auto"),this.scrollablePixelsY&&(H.overflowY="auto"),this.scrollingParent=V("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=V("div",{className:"highcharts-scrolling"},H,this.scrollingParent);let M;O(this.scrollingContainer,"scroll",()=>{this.pointer&&(delete this.pointer.chartPosition,this.hoverPoint&&(M=this.hoverPoint),this.pointer.runPointActions(void 0,M,!0))}),this.innerContainer=V("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},m.prototype.moveFixedElements=function(){let H=this.container,M=this.fixedRenderer,C=".highcharts-breadcrumbs-group .highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" "),A;this.scrollablePixelsX&&!this.inverted?A=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?A=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(A=".highcharts-yaxis"),A&&C.push(`${A}:not(.highcharts-radial-axis)`,`${A}-labels:not(.highcharts-radial-axis-labels)`),C.forEach(function(U){[].forEach.call(H.querySelectorAll(U),function($){($.namespaceURI===M.SVG_NS?M.box:M.box.parentNode).appendChild($),$.style.pointerEvents="auto"})})},m.prototype.applyFixed=function(){var H=!this.fixedDiv,M=this.options.chart,C=M.scrollablePlotArea,A=x.getRendererType();H?(this.fixedDiv=V("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(M.style&&M.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=M=new A(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=M.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":I(C.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),O(this,"afterShowResetZoom",this.moveFixedElements),O(this,"afterApplyDrilldown",this.moveFixedElements),O(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||H)&&(this.scrollableDirty=!1,this.moveFixedElements()),M=this.chartWidth+(this.scrollablePixelsX||0),A=this.chartHeight+(this.scrollablePixelsY||0),Y(this.container),this.container.style.width=M+"px",this.container.style.height=A+"px",this.renderer.boxWrapper.attr({width:M,height:A,viewBox:[0,0,M,A].join(" ")}),this.chartBackground.attr({width:M,height:A}),this.scrollingContainer.style.height=this.chartHeight+"px",H&&(C.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*C.scrollPositionX),C.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*C.scrollPositionY)),A=this.axisOffset,H=this.plotTop-A[0]-1,C=this.plotLeft-A[3]-1,M=this.plotTop+this.plotHeight+A[2]+1,A=this.plotLeft+this.plotWidth+A[1]+1;let U=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),$=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);H=this.scrollablePixelsX?[["M",0,H],["L",this.plotLeft-1,H],["L",this.plotLeft-1,M],["L",0,M],["Z"],["M",U,H],["L",this.chartWidth,H],["L",this.chartWidth,M],["L",U,M],["Z"]]:this.scrollablePixelsY?[["M",C,0],["L",C,this.plotTop-1],["L",A,this.plotTop-1],["L",A,0],["Z"],["M",C,$],["L",C,this.chartHeight],["L",A,this.chartHeight],["L",A,$],["Z"]]:[["M",0,0]],this.redrawTrigger!=="adjustHeight"&&this.scrollableMask.attr({d:H})},O(h,"afterInit",function(){this.chart.scrollableDirty=!0}),O(n,"show",function(){this.chart.scrollableDirty=!0})}),s(a,"Core/Axis/Stacking/StackItem.js",[a["Core/FormatUtilities.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(c,h,m){const{format:n}=c,{series:x}=h,{destroyObjectProperties:z,fireEvent:Y,isNumber:O,pick:V}=m;class q{constructor(I,H,M,C,A){const U=I.chart.inverted,$=I.reversed;this.axis=I,I=this.isNegative=!!M!=!!$,this.options=H=H||{},this.x=C,this.cumulative=this.total=null,this.points={},this.hasValidPoints=!1,this.stack=A,this.rightCliff=this.leftCliff=0,this.alignOptions={align:H.align||(U?I?"left":"right":"center"),verticalAlign:H.verticalAlign||(U?"middle":I?"bottom":"top"),y:H.y,x:H.x},this.textAlign=H.textAlign||(U?I?"right":"left":"center")}destroy(){z(this,this.axis)}render(I){const H=this.axis.chart,M=this.options;var C=M.format;C=C?n(C,this,H):M.formatter.call(this),this.label?this.label.attr({text:C,visibility:"hidden"}):(this.label=H.renderer.label(C,null,void 0,M.shape,void 0,void 0,M.useHTML,!1,"stack-labels"),C={r:M.borderRadius||0,text:C,padding:V(M.padding,5),visibility:"hidden"},H.styledMode||(C.fill=M.backgroundColor,C.stroke=M.borderColor,C["stroke-width"]=M.borderWidth,this.label.css(M.style||{})),this.label.attr(C),this.label.added||this.label.add(I)),this.label.labelrank=H.plotSizeY,Y(this,"afterRender")}setOffset(I,H,M,C,A,U){const{alignOptions:$,axis:E,label:ee,options:Q,textAlign:N}=this,j=E.chart;M=this.getStackBox({xOffset:I,width:H,boxBottom:M,boxTop:C,defaultX:A,xAxis:U});var{verticalAlign:W}=$;if(ee&&M){C=ee.getBBox(),A=ee.padding,U=V(Q.overflow,"justify")==="justify",$.x=Q.x||0,$.y=Q.y||0;const{x:S,y:P}=this.adjustStackPosition({labelBox:C,verticalAlign:W,textAlign:N});M.x-=S,M.y-=P,ee.align($,!1,M),(W=j.isInsidePlot(ee.alignAttr.x+$.x+S,ee.alignAttr.y+$.y+P))||(U=!1),U&&x.prototype.justifyDataLabel.call(E,ee,$,ee.alignAttr,C,M),ee.attr({x:ee.alignAttr.x,y:ee.alignAttr.y,rotation:Q.rotation,rotationOriginX:C.width/2,rotationOriginY:C.height/2}),V(!U&&Q.crop,!0)&&(W=O(ee.x)&&O(ee.y)&&j.isInsidePlot(ee.x-A+ee.width,ee.y)&&j.isInsidePlot(ee.x+A,ee.y)),ee[W?"show":"hide"]()}Y(this,"afterSetOffset",{xOffset:I,width:H})}adjustStackPosition({labelBox:I,verticalAlign:H,textAlign:M}){const C={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:I.width/2+I.width/2*C[M],y:I.height/2*C[H]}}getStackBox(I){var H=this.axis;const M=H.chart,{boxTop:C,defaultX:A,xOffset:U,width:$,boxBottom:E}=I;var ee=H.stacking.usePercentage?100:V(C,this.total,0);ee=H.toPixels(ee),I=I.xAxis||M.xAxis[0];const Q=V(A,I.translate(this.x))+U;H=H.toPixels(E||O(H.min)&&H.logarithmic&&H.logarithmic.lin2log(H.min)||0),H=Math.abs(ee-H);const N=this.isNegative;return M.inverted?{x:(N?ee:ee-H)-M.plotLeft,y:I.height-Q-$,width:H,height:$}:{x:Q+I.transB-M.plotLeft,y:(N?ee-H:ee)-M.plotTop,width:$,height:H}}}return q}),s(a,"Core/Axis/Stacking/StackingAxis.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Axis/Axis.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Axis/Stacking/StackItem.js"],a["Core/Utilities.js"]],function(c,h,m,n,x){function z(){const f=this,g=f.inverted;f.yAxis.forEach(b=>{b.stacking&&b.stacking.stacks&&b.hasVisibleSeries&&(b.stacking.oldStacks=b.stacking.stacks)}),f.series.forEach(b=>{const D=b.xAxis&&b.xAxis.options||{};!b.options.stacking||b.visible!==!0&&f.options.chart.ignoreHiddenSeries!==!1||(b.stackKey=[b.type,W(b.options.stack,""),g?D.top:D.left,g?D.height:D.width].join())})}function Y(){const f=this.stacking;if(f){var g=f.stacks;j(g,function(b,D){E(b),g[D]=null}),f&&f.stackTotalGroup&&f.stackTotalGroup.destroy()}}function O(){this.coll!=="yAxis"||this.stacking||(this.stacking=new S(this))}function V(f,g,b,D){return!$(f)||f.x!==g||D&&f.stackKey!==D?f={x:g,index:0,key:D,stackKey:D}:f.index++,f.key=[b,g,f.index].join(),f}function q(){const f=this,g=f.stackKey,b=f.yAxis.stacking.stacks,D=f.processedXData,X=f[f.options.stacking+"Stacker"];let te;X&&[g,"-"+g].forEach(Z=>{let de=D.length,ge;for(;de--;){var Ce=D[de];te=f.getStackIndicator(te,Ce,f.index,Z),(ge=(Ce=b[Z]&&b[Z][Ce])&&Ce.points[te.key])&&X.call(f,ge,Ce,de)}})}function L(f,g,b){g=g.total?100/g.total:0,f[0]=U(f[0]*g),f[1]=U(f[1]*g),this.stackedYData[b]=f[1]}function I(){const f=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?C.setStackedPoints.call(this,"group"):f&&j(f.stacks,(g,b)=>{b.slice(-5)==="group"&&(j(g,D=>D.destroy()),delete f.stacks[b])})}function H(f){var g=this.chart;const b=f||this.options.stacking;if(b&&(this.visible===!0||g.options.chart.ignoreHiddenSeries===!1)){var D=this.processedXData,X=this.processedYData,te=[],Z=X.length,de=this.options,ge=de.threshold,Ce=W(de.startFromThreshold&&ge,0);de=de.stack,f=f?`${this.type},${b}`:this.stackKey;var J="-"+f,oe=this.negStacks;g=b==="group"?g.yAxis[0]:this.yAxis;var ce=g.stacking.stacks,pe=g.stacking.oldStacks,Ee,ne;for(g.stacking.stacksTouched+=1,ne=0;ne<Z;ne++){var ye=D[ne],_e=X[ne],ae=this.getStackIndicator(ae,ye,this.index),me=ae.key,we=(Ee=oe&&_e<(Ce?0:ge))?J:f;ce[we]||(ce[we]={}),ce[we][ye]||(pe[we]&&pe[we][ye]?(ce[we][ye]=pe[we][ye],ce[we][ye].total=null):ce[we][ye]=new n(g,g.options.stackLabels,!!Ee,ye,de)),we=ce[we][ye],_e!==null?(we.points[me]=we.points[this.index]=[W(we.cumulative,Ce)],$(we.cumulative)||(we.base=me),we.touched=g.stacking.stacksTouched,0<ae.index&&this.singleStacks===!1&&(we.points[me][0]=we.points[this.index+","+ye+",0"][0])):we.points[me]=we.points[this.index]=null,b==="percent"?(Ee=Ee?f:J,oe&&ce[Ee]&&ce[Ee][ye]?(Ee=ce[Ee][ye],we.total=Ee.total=Math.max(Ee.total,we.total)+Math.abs(_e)||0):we.total=U(we.total+(Math.abs(_e)||0))):b==="group"?(Q(_e)&&(_e=_e[0]),_e!==null&&(we.total=(we.total||0)+1)):we.total=U(we.total+(_e||0)),we.cumulative=b==="group"?(we.total||1)-1:U(W(we.cumulative,Ce)+(_e||0)),_e!==null&&(we.points[me].push(we.cumulative),te[ne]=we.cumulative,we.hasValidPoints=!0)}b==="percent"&&(g.stacking.usePercentage=!0),b!=="group"&&(this.stackedYData=te),g.stacking.oldStacks={}}}const{getDeferredAnimation:M}=c,{series:{prototype:C}}=m,{addEvent:A,correctFloat:U,defined:$,destroyObjectProperties:E,fireEvent:ee,isArray:Q,isNumber:N,objectEach:j,pick:W}=x;class S{constructor(g){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=g}buildStacks(){const g=this.axis,b=g.series,D=g.options.reversedStacks,X=b.length;let te,Z;for(this.usePercentage=!1,Z=X;Z--;)te=b[D?Z:X-Z-1],te.setStackedPoints(),te.setGroupedPoints();for(Z=0;Z<X;Z++)b[Z].modifyStacks();ee(g,"afterBuildStacks")}cleanStacks(){let g;this.oldStacks&&(g=this.stacks=this.oldStacks),j(g,function(b){j(b,function(D){D.cumulative=D.total})})}resetStacks(){j(this.stacks,g=>{j(g,(b,D)=>{N(b.touched)&&b.touched<this.stacksTouched?(b.destroy(),delete g[D]):(b.total=null,b.cumulative=null)})})}renderStackTotals(){var g=this.axis;const b=g.chart,D=b.renderer,X=this.stacks;g=M(b,g.options.stackLabels&&g.options.stackLabels.animation||!1);const te=this.stackTotalGroup=this.stackTotalGroup||D.g("stack-labels").attr({zIndex:6,opacity:0}).add();te.translate(b.plotLeft,b.plotTop),j(X,function(Z){j(Z,function(de){de.render(te)})}),te.animate({opacity:1},g)}}var P;return function(f){const g=[];f.compose=function(b,D,X){x.pushUnique(g,b)&&(A(b,"init",O),A(b,"destroy",Y)),x.pushUnique(g,D)&&(D.prototype.getStacks=z),x.pushUnique(g,X)&&(b=X.prototype,b.getStackIndicator=V,b.modifyStacks=q,b.percentStacker=L,b.setGroupedPoints=I,b.setStackedPoints=H)}}(P||(P={})),P}),s(a,"Series/Line/LineSeries.js",[a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(c,h,m){const{defined:n,merge:x}=m;class z extends c{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){const O=this,V=this.options,q=(this.gappedPath||this.getGraphPath).call(this),L=this.chart.styledMode;let I=[["graph","highcharts-graph"]];L||I[0].push(V.lineColor||this.color||"#cccccc",V.dashStyle),I=O.getZonesGraphs(I),I.forEach(function(H,M){var C=H[0];let A=O[C];const U=A?"animate":"attr";A?(A.endX=O.preventGraphAnimation?null:q.xMap,A.animate({d:q})):q.length&&(O[C]=A=O.chart.renderer.path(q).addClass(H[1]).attr({zIndex:1}).add(O.group)),A&&!L&&(C={stroke:H[2],"stroke-width":V.lineWidth||0,fill:O.fillGraph&&O.color||"none"},H[3]?C.dashstyle=H[3]:V.linecap!=="square"&&(C["stroke-linecap"]=C["stroke-linejoin"]="round"),A[U](C).shadow(2>M&&V.shadow)),A&&(A.startX=q.xMap,A.isArea=q.isArea)})}getGraphPath(O,V,q){const L=this,I=L.options,H=[],M=[];let C,A=I.step;O=O||L.points;const U=O.reversed;return U&&O.reverse(),(A={right:1,center:2}[A]||A&&3)&&U&&(A=4-A),O=this.getValidPoints(O,!1,!(I.connectNulls&&!V&&!q)),O.forEach(function($,E){const ee=$.plotX,Q=$.plotY,N=O[E-1],j=$.isNull||typeof Q!="number";($.leftCliff||N&&N.rightCliff)&&!q&&(C=!0),j&&!n(V)&&0<E?C=!I.connectNulls:j&&!V?C=!0:(E===0||C?E=[["M",$.plotX,$.plotY]]:L.getPointSpline?E=[L.getPointSpline(O,$,E)]:A?(E=A===1?[["L",N.plotX,Q]]:A===2?[["L",(N.plotX+ee)/2,N.plotY],["L",(N.plotX+ee)/2,Q]]:[["L",ee,N.plotY]],E.push(["L",ee,Q])):E=[["L",ee,Q]],M.push($.x),A&&(M.push($.x),A===2&&M.push($.x)),H.push.apply(H,E),C=!1)}),H.xMap=M,L.graphPath=H}getZonesGraphs(O){return this.zones.forEach(function(V,q){q=["zone-graph-"+q,"highcharts-graph highcharts-zone-graph-"+q+" "+(V.className||"")],this.chart.styledMode||q.push(V.color||this.color,V.dashStyle||this.options.dashStyle),O.push(q)},this),O}}return z.defaultOptions=x(c.defaultOptions,{legendSymbol:"lineMarker"}),h.registerSeriesType("line",z),z}),s(a,"Series/Area/AreaSeries.js",[a["Core/Color/Color.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(c,h,m){const{parse:n}=c,{seriesTypes:{line:x}}=h,{extend:z,merge:Y,objectEach:O,pick:V}=m;class q extends x{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){this.areaPath=[],super.drawGraph.apply(this);const I=this,H=this.areaPath,M=this.options,C=[["area","highcharts-area",this.color,M.fillColor]];this.zones.forEach(function(A,U){C.push(["zone-area-"+U,"highcharts-area highcharts-zone-area-"+U+" "+A.className,A.color||I.color,A.fillColor||M.fillColor])}),C.forEach(function(A){const U=A[0],$={};let E=I[U];const ee=E?"animate":"attr";E?(E.endX=I.preventGraphAnimation?null:H.xMap,E.animate({d:H})):($.zIndex=0,E=I[U]=I.chart.renderer.path(H).addClass(A[1]).add(I.group),E.isArea=!0),I.chart.styledMode||($.fill=V(A[3],n(A[2]).setOpacity(V(M.fillOpacity,.75)).get())),E[ee]($),E.startX=H.xMap,E.shiftUnit=M.step?2:1})}getGraphPath(I){var H=x.prototype.getGraphPath,M=this.options;const C=M.stacking,A=this.yAxis,U=[],$=[],E=this.index,ee=A.stacking.stacks[this.stackKey],Q=M.threshold,N=Math.round(A.getThreshold(M.threshold));M=V(M.connectNulls,C==="percent");var j=function(f,g,b){var D=I[f];f=C&&ee[D.x].points[E];const X=D[b+"Null"]||0;b=D[b+"Cliff"]||0;let te,Z;D=!0,b||X?(te=(X?f[0]:f[1])+b,Z=f[0]+b,D=!!X):!C&&I[g]&&I[g].isNull&&(te=Z=Q),typeof te<"u"&&($.push({plotX:W,plotY:te===null?N:A.getThreshold(te),isNull:D,isCliff:!0}),U.push({plotX:W,plotY:Z===null?N:A.getThreshold(Z),doCurve:!1}))};let W;I=I||this.points,C&&(I=this.getStackPoints(I));for(let f=0,g=I.length;f<g;++f){C||(I[f].leftCliff=I[f].rightCliff=I[f].leftNull=I[f].rightNull=void 0);var S=I[f].isNull;W=V(I[f].rectPlotX,I[f].plotX);var P=C?V(I[f].yBottom,N):N;(!S||M)&&(M||j(f,f-1,"left"),S&&!C&&M||($.push(I[f]),U.push({x:f,plotX:W,plotY:P})),M||j(f,f+1,"right"))}return j=H.call(this,$,!0,!0),U.reversed=!0,S=H.call(this,U,!0,!0),(P=S[0])&&P[0]==="M"&&(S[0]=["L",P[1],P[2]]),S=j.concat(S),S.length&&S.push(["Z"]),H=H.call(this,$,!1,M),S.xMap=j.xMap,this.areaPath=S,H}getStackPoints(I){const H=this,M=[],C=[],A=this.xAxis,U=this.yAxis,$=U.stacking.stacks[this.stackKey],E={},ee=U.series,Q=ee.length,N=U.options.reversedStacks?1:-1,j=ee.indexOf(H);if(I=I||this.points,this.options.stacking){for(let S=0;S<I.length;S++)I[S].leftNull=I[S].rightNull=void 0,E[I[S].x]=I[S];O($,function(S,P){S.total!==null&&C.push(P)}),C.sort(function(S,P){return S-P});const W=ee.map(S=>S.visible);C.forEach(function(S,P){let f=0,g,b;if(E[S]&&!E[S].isNull)M.push(E[S]),[-1,1].forEach(function(D){const X=D===1?"rightNull":"leftNull",te=$[C[P+D]];let Z=0;if(te){let de=j;for(;0<=de&&de<Q;){const ge=ee[de].index;g=te.points[ge],g||(ge===H.index?E[S][X]=!0:W[de]&&(b=$[S].points[ge])&&(Z-=b[1]-b[0])),de+=N}}E[S][D===1?"rightCliff":"leftCliff"]=Z});else{let D=j;for(;0<=D&&D<Q;){if(g=$[S].points[ee[D].index]){f=g[1];break}D+=N}f=V(f,0),f=U.translate(f,0,1,0,1),M.push({isNull:!0,plotX:A.translate(S,0,0,0,1),x:S,plotY:f,yBottom:f})}})}return M}}return q.defaultOptions=Y(x.defaultOptions,{threshold:0,legendSymbol:"rectangle"}),z(q.prototype,{singleStacks:!1}),h.registerSeriesType("area",q),q}),s(a,"Series/Spline/SplineSeries.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(c,h){const{line:m}=c.seriesTypes,{merge:n,pick:x}=h;class z extends m{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getPointSpline(O,V,q){const L=V.plotX||0,I=V.plotY||0,H=O[q-1];q=O[q+1];let M,C,A;if(H&&!H.isNull&&H.doCurve!==!1&&!V.isCliff&&q&&!q.isNull&&q.doCurve!==!1&&!V.isCliff){O=H.plotY||0;var U=q.plotX||0;q=q.plotY||0;let $=0;M=(1.5*L+(H.plotX||0))/2.5,C=(1.5*I+O)/2.5,U=(1.5*L+U)/2.5,A=(1.5*I+q)/2.5,U!==M&&($=(A-C)*(U-L)/(U-M)+I-A),C+=$,A+=$,C>O&&C>I?(C=Math.max(O,I),A=2*I-C):C<O&&C<I&&(C=Math.min(O,I),A=2*I-C),A>q&&A>I?(A=Math.max(q,I),C=2*I-A):A<q&&A<I&&(A=Math.min(q,I),C=2*I-A),V.rightContX=U,V.rightContY=A}return V=["C",x(H.rightContX,H.plotX,0),x(H.rightContY,H.plotY,0),x(M,L,0),x(C,I,0),L,I],H.rightContX=H.rightContY=void 0,V}}return z.defaultOptions=n(m.defaultOptions),c.registerSeriesType("spline",z),z}),s(a,"Series/AreaSpline/AreaSplineSeries.js",[a["Series/Spline/SplineSeries.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(c,h,m){const{area:n,area:{prototype:x}}=h.seriesTypes,{extend:z,merge:Y}=m;class O extends c{constructor(){super(...arguments),this.options=this.points=this.data=void 0}}return O.defaultOptions=Y(c.defaultOptions,n.defaultOptions),z(O.prototype,{getGraphPath:x.getGraphPath,getStackPoints:x.getStackPoints,drawGraph:x.drawGraph}),h.registerSeriesType("areaspline",O),O}),s(a,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),s(a,"Series/Column/ColumnSeries.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Color/Color.js"],a["Series/Column/ColumnSeriesDefaults.js"],a["Core/Globals.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(c,h,m,n,x,z,Y){const{animObject:O}=c,{parse:V}=h,{hasTouch:q,noop:L}=n,{clamp:I,defined:H,extend:M,fireEvent:C,isArray:A,isNumber:U,merge:$,pick:E,objectEach:ee}=Y;class Q extends x{constructor(){super(...arguments),this.points=this.options=this.group=this.data=this.borderWidth=void 0}animate(j){const W=this,S=this.yAxis,P=S.pos,f=W.options,g=this.chart.inverted,b={},D=g?"translateX":"translateY";let X;j?(b.scaleY=.001,j=I(S.toPixels(f.threshold),P,P+S.len),g?b.translateX=j-S.len:b.translateY=j,W.clipBox&&W.setClip(),W.group.attr(b)):(X=Number(W.group.attr(D)),W.group.animate({scaleY:1},M(O(W.options.animation),{step:function(te,Z){W.group&&(b[D]=X+Z.pos*(P-X),W.group.attr(b))}})))}init(j,W){super.init.apply(this,arguments);const S=this;j=S.chart,j.hasRendered&&j.series.forEach(function(P){P.type===S.type&&(P.isDirty=!0)})}getColumnMetrics(){const j=this;var W=j.options;const S=j.xAxis,P=j.yAxis;var f=S.options.reversedStacks;f=S.reversed&&!f||!S.reversed&&f;const g={};let b,D=0;W.grouping===!1?D=1:j.chart.series.forEach(function(de){const ge=de.yAxis,Ce=de.options;let J;de.type!==j.type||!de.visible&&j.chart.options.chart.ignoreHiddenSeries||P.len!==ge.len||P.pos!==ge.pos||(Ce.stacking&&Ce.stacking!=="group"?(b=de.stackKey,typeof g[b]>"u"&&(g[b]=D++),J=g[b]):Ce.grouping!==!1&&(J=D++),de.columnIndex=J)});const X=Math.min(Math.abs(S.transA)*(S.ordinal&&S.ordinal.slope||W.pointRange||S.closestPointRange||S.tickInterval||1),S.len),te=X*W.groupPadding,Z=(X-2*te)/(D||1);return W=Math.min(W.maxPointWidth||S.len,E(W.pointWidth,Z*(1-2*W.pointPadding))),j.columnMetrics={width:W,offset:(Z-W)/2+(te+((j.columnIndex||0)+(f?1:0))*Z-X/2)*(f?-1:1),paddedWidth:Z,columnCount:D},j.columnMetrics}crispCol(j,W,S,P){var f=this.borderWidth,g=-(f%2?.5:0);return f=f%2?.5:1,this.options.crisp&&(S=Math.round(j+S)+g,j=Math.round(j)+g,S-=j),P=Math.round(W+P)+f,g=.5>=Math.abs(W)&&.5<P,W=Math.round(W)+f,P-=W,g&&P&&(--W,P+=1),{x:j,y:W,width:S,height:P}}adjustForMissingColumns(j,W,S,P){const f=this.options.stacking;if(!S.isNull&&1<P.columnCount){const g=this.yAxis.options.reversedStacks;let b=0,D=g?0:-P.columnCount;ee(this.yAxis.stacking&&this.yAxis.stacking.stacks,X=>{if(typeof S.x=="number"){const te=X[S.x.toString()];te&&(X=te.points[this.index],f?(X&&(b=D),te.hasValidPoints&&(g?D++:D--)):A(X)&&(X=Object.keys(te.points).filter(Z=>!Z.match(",")&&te.points[Z]&&1<te.points[Z].length).map(parseFloat).sort((Z,de)=>de-Z),b=X.indexOf(this.index),D=X.length))}}),j=(S.plotX||0)+((D-1)*P.paddedWidth+W)/2-W-b*P.paddedWidth}return j}translate(){const j=this,W=j.chart,S=j.options;var P=j.dense=2>j.closestPointRange*j.xAxis.transA;P=j.borderWidth=E(S.borderWidth,P?0:1);const f=j.xAxis,g=j.yAxis,b=S.threshold,D=E(S.minPointLength,5),X=j.getColumnMetrics(),te=X.width,Z=j.pointXOffset=X.offset,de=j.dataMin,ge=j.dataMax;let Ce=j.barW=Math.max(te,1+2*P),J=j.translatedThreshold=g.getThreshold(b);W.inverted&&(J-=.5),S.pointPadding&&(Ce=Math.ceil(Ce)),x.prototype.translate.apply(j),j.points.forEach(function(oe){const ce=E(oe.yBottom,J);var pe=999+Math.abs(ce),Ee=oe.plotX||0;pe=I(oe.plotY,-pe,g.len+pe);let ne=Math.min(pe,ce),ye=Math.max(pe,ce)-ne,_e=te,ae=Ee+Z,me=Ce;D&&Math.abs(ye)<D&&(ye=D,Ee=!g.reversed&&!oe.negative||g.reversed&&oe.negative,U(b)&&U(ge)&&oe.y===b&&ge<=b&&(g.min||0)<b&&(de!==ge||(g.max||0)<=b)&&(Ee=!Ee),ne=Math.abs(ne-J)>D?ce-D:J-(Ee?D:0)),H(oe.options.pointWidth)&&(_e=me=Math.ceil(oe.options.pointWidth),ae-=Math.round((_e-te)/2)),S.centerInCategory&&(ae=j.adjustForMissingColumns(ae,_e,oe,X)),oe.barX=ae,oe.pointWidth=_e,oe.tooltipPos=W.inverted?[I(g.len+g.pos-W.plotLeft-pe,g.pos-W.plotLeft,g.len+g.pos-W.plotLeft),f.len+f.pos-W.plotTop-ae-me/2,ye]:[f.left-W.plotLeft+ae+me/2,I(pe+g.pos-W.plotTop,g.pos-W.plotTop,g.len+g.pos-W.plotTop),ye],oe.shapeType=j.pointClass.prototype.shapeType||"roundedRect",oe.shapeArgs=j.crispCol(ae,oe.isNull?J:ne,me,oe.isNull?0:ye)}),C(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(j,W){const S=this.options;var P=this.pointAttrToOptions||{},f=P.stroke||"borderColor";const g=P["stroke-width"]||"borderWidth";let b,D=j&&j.color||this.color,X=j&&j[f]||S[f]||D;P=j&&j.options.dashStyle||S.dashStyle;let te=j&&j[g]||S[g]||this[g]||0,Z=E(j&&j.opacity,S.opacity,1);return j&&this.zones.length&&(b=j.getZone(),D=j.options.color||b&&(b.color||j.nonZonedColor)||this.color,b&&(X=b.borderColor||X,P=b.dashStyle||P,te=b.borderWidth||te)),W&&j&&(j=$(S.states[W],j.options.states&&j.options.states[W]||{}),W=j.brightness,D=j.color||typeof W<"u"&&V(D).brighten(j.brightness).get()||D,X=j[f]||X,te=j[g]||te,P=j.dashStyle||P,Z=E(j.opacity,Z)),f={fill:D,stroke:X,"stroke-width":te,opacity:Z},P&&(f.dashstyle=P),f}drawPoints(j=this.points){const W=this,S=this.chart,P=W.options,f=S.renderer,g=P.animationLimit||250;let b;j.forEach(function(D){let X=D.graphic,te=!!X,Z=X&&S.pointCount<g?"animate":"attr";U(D.plotY)&&D.y!==null?(b=D.shapeArgs,X&&D.hasNewShapeType()&&(X=X.destroy()),W.enabledDataSorting&&(D.startXPos=W.xAxis.reversed?-(b&&b.width||0):W.xAxis.width),X||(D.graphic=X=f[D.shapeType](b).add(D.group||W.group))&&W.enabledDataSorting&&S.hasRendered&&S.pointCount<g&&(X.attr({x:D.startXPos}),te=!0,Z="animate"),X&&te&&X[Z]($(b)),S.styledMode||X[Z](W.pointAttribs(D,D.selected&&"select")).shadow(D.allowShadow!==!1&&P.shadow),X&&(X.addClass(D.getClassName(),!0),X.attr({visibility:D.visible?"inherit":"hidden"}))):X&&(D.graphic=X.destroy())})}drawTracker(j=this.points){const W=this,S=W.chart,P=S.pointer,f=function(b){const D=P.getPointFromEvent(b);typeof D<"u"&&(P.isDirectTouch=!0,D.onMouseOver(b))};let g;j.forEach(function(b){g=A(b.dataLabels)?b.dataLabels:b.dataLabel?[b.dataLabel]:[],b.graphic&&(b.graphic.element.point=b),g.forEach(function(D){D.div?D.div.point=b:D.element.point=b})}),W._hasTracking||(W.trackerGroups.forEach(function(b){W[b]&&(W[b].addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(D){P.onTrackerMouseOut(D)}),q&&W[b].on("touchstart",f),!S.styledMode&&W.options.cursor&&W[b].css({cursor:W.options.cursor}))}),W._hasTracking=!0),C(this,"afterDrawTracker")}remove(){const j=this,W=j.chart;W.hasRendered&&W.series.forEach(function(S){S.type===j.type&&(S.isDirty=!0)}),x.prototype.remove.apply(j,arguments)}}return Q.defaultOptions=$(x.defaultOptions,m),M(Q.prototype,{cropShoulder:0,directTouch:!0,getSymbol:L,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),z.registerSeriesType("column",Q),Q}),s(a,"Core/Series/DataLabel.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/FormatUtilities.js"],a["Core/Utilities.js"]],function(c,h,m){const{getDeferredAnimation:n}=c,{format:x}=h,{defined:z,extend:Y,fireEvent:O,isArray:V,isString:q,merge:L,objectEach:I,pick:H,splat:M}=m;var C;return function(A){function U(P,f,g,b,D){const X=this.chart;var te=this.isCartesian&&X.inverted;const Z=this.enabledDataSorting;var de=P.plotX,ge=P.plotY;const Ce=g.rotation;var J=g.align;ge=z(de)&&z(ge)&&X.isInsidePlot(de,Math.round(ge),{inverted:te,paneCoordinates:!0,series:this});let oe=H(g.overflow,Z?"none":"justify")==="justify";if(te=this.visible&&P.visible!==!1&&z(de)&&(P.series.forceDL||Z&&!oe||ge||H(g.inside,!!this.options.stacking)&&b&&X.isInsidePlot(de,te?b.x+1:b.y+b.height-1,{inverted:te,paneCoordinates:!0,series:this})),de=P.pos(),te&&de){Ce&&f.attr({align:J}),J=f.getBBox(!0);var ce=[0,0],pe=X.renderer.fontMetrics(f).b;if(b=Y({x:de[0],y:Math.round(de[1]),width:0,height:0},b),Y(g,{width:J.width,height:J.height}),Ce?(oe=!1,ce=X.renderer.rotCorr(pe,Ce),pe={x:b.x+(g.x||0)+b.width/2+ce.x,y:b.y+(g.y||0)+{top:0,middle:.5,bottom:1}[g.verticalAlign]*b.height},ce=[J.x-Number(f.attr("x")),J.y-Number(f.attr("y"))],Z&&this.xAxis&&!oe&&this.setDataLabelStartPos(P,f,D,ge,pe),f[D?"attr":"animate"](pe)):(Z&&this.xAxis&&!oe&&this.setDataLabelStartPos(P,f,D,ge,b),f.align(g,void 0,b),pe=f.alignAttr),oe&&0<=b.height)this.justifyDataLabel(f,g,pe,J,b,D);else if(H(g.crop,!0)){let{x:Ee,y:ne}=pe;Ee+=ce[0],ne+=ce[1],te=X.isInsidePlot(Ee,ne,{paneCoordinates:!0,series:this})&&X.isInsidePlot(Ee+J.width,ne+J.height,{paneCoordinates:!0,series:this})}g.shape&&!Ce&&f[D?"attr":"animate"]({anchorX:de[0],anchorY:de[1]})}D&&Z&&(f.placed=!1),te||Z&&!oe?f.show():(f.hide(),f.placed=!1)}function $(P,f){var g=f.filter;return g?(f=g.operator,P=P[g.property],g=g.value,f===">"&&P>g||f==="<"&&P<g||f===">="&&P>=g||f==="<="&&P<=g||f==="=="&&P==g||f==="==="&&P===g):!0}function E(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function ee(P){const f=this.hasRendered||0,g=this.initDataLabelsGroup().attr({opacity:+f});return!f&&g&&(this.visible&&g.show(),this.options.animation?g.animate({opacity:1},P):g.attr({opacity:1})),g}function Q(P=this.points){const f=this,g=f.chart,b=f.options,D=g.renderer,{backgroundColor:X,plotBackgroundColor:te}=g.options.chart,Z=D.getContrast(q(te)&&te||q(X)&&X||"#000000");let de=b.dataLabels,ge,Ce;var J=M(de)[0];const oe=J.animation;J=J.defer?n(g,oe,f):{defer:0,duration:0},de=j(j(g.options.plotOptions&&g.options.plotOptions.series&&g.options.plotOptions.series.dataLabels,g.options.plotOptions&&g.options.plotOptions[f.type]&&g.options.plotOptions[f.type].dataLabels),de),O(this,"drawDataLabels"),(V(de)||de.enabled||f._hasPointLabels)&&(Ce=this.initDataLabels(J),P.forEach(ce=>{ge=M(j(de,ce.dlOptions||ce.options&&ce.options.dataLabels)),ge.forEach((pe,Ee)=>{const ne=pe.enabled&&(!ce.isNull||ce.dataLabelOnNull)&&$(ce,pe),ye=ce.connectors?ce.connectors[Ee]:ce.connector;let _e,ae,me=ce.dataLabels?ce.dataLabels[Ee]:ce.dataLabel,we=!me;const Re=H(pe.distance,ce.labelDistance);if(ne){var Le=ce.getLabelConfig(),$e=H(pe[ce.formatPrefix+"Format"],pe.format);if(Le=z($e)?x($e,Le,g):(pe[ce.formatPrefix+"Formatter"]||pe.formatter).call(Le,pe),$e=pe.style,_e=pe.rotation,g.styledMode||($e.color=H(pe.color,$e.color,f.color,"#000000"),$e.color==="contrast"?(ce.contrastColor=D.getContrast(ce.color||f.color),$e.color=!z(Re)&&pe.inside||0>Re||b.stacking?ce.contrastColor:Z):delete ce.contrastColor,b.cursor&&($e.cursor=b.cursor)),ae={r:pe.borderRadius||0,rotation:_e,padding:pe.padding,zIndex:1},!g.styledMode){const{backgroundColor:rt,borderColor:Qe}=pe;ae.fill=rt==="auto"?ce.color:rt,ae.stroke=Qe==="auto"?ce.color:Qe,ae["stroke-width"]=pe.borderWidth}I(ae,function(rt,Qe){typeof rt>"u"&&delete ae[Qe]})}!me||ne&&z(Le)&&!!me.div==!!pe.useHTML&&(me.rotation&&pe.rotation||me.rotation===pe.rotation)||(we=!0,ce.dataLabel=me=ce.dataLabel&&ce.dataLabel.destroy(),ce.dataLabels&&(ce.dataLabels.length===1?delete ce.dataLabels:delete ce.dataLabels[Ee]),Ee||delete ce.dataLabel,ye&&(ce.connector=ce.connector.destroy(),ce.connectors&&(ce.connectors.length===1?delete ce.connectors:delete ce.connectors[Ee]))),ne&&z(Le)?(me?ae.text=Le:(ce.dataLabels=ce.dataLabels||[],me=ce.dataLabels[Ee]=_e?D.text(Le,0,0,pe.useHTML).addClass("highcharts-data-label"):D.label(Le,0,0,pe.shape,null,null,pe.useHTML,null,"data-label"),Ee||(ce.dataLabel=me),me.addClass(" highcharts-data-label-color-"+ce.colorIndex+" "+(pe.className||"")+(pe.useHTML?" highcharts-tracker":""))),me.options=pe,me.attr(ae),g.styledMode||me.css($e).shadow(pe.shadow),(Ee=pe[ce.formatPrefix+"TextPath"]||pe.textPath)&&!pe.useHTML&&(me.setTextPath(ce.getDataLabelPath&&ce.getDataLabelPath(me)||ce.graphic,Ee),ce.dataLabelPath&&!Ee.enabled&&(ce.dataLabelPath=ce.dataLabelPath.destroy())),me.added||me.add(Ce),f.alignDataLabel(ce,me,pe,null,we)):me&&me.hide()})})),O(this,"afterDrawDataLabels")}function N(P,f,g,b,D,X){const te=this.chart,Z=f.align,de=f.verticalAlign,ge=P.box?0:P.padding||0;let{x:Ce=0,y:J=0}=f,oe,ce;return oe=(g.x||0)+ge,0>oe&&(Z==="right"&&0<=Ce?(f.align="left",f.inside=!0):Ce-=oe,ce=!0),oe=(g.x||0)+b.width-ge,oe>te.plotWidth&&(Z==="left"&&0>=Ce?(f.align="right",f.inside=!0):Ce+=te.plotWidth-oe,ce=!0),oe=g.y+ge,0>oe&&(de==="bottom"&&0<=J?(f.verticalAlign="top",f.inside=!0):J-=oe,ce=!0),oe=(g.y||0)+b.height-ge,oe>te.plotHeight&&(de==="top"&&0>=J?(f.verticalAlign="bottom",f.inside=!0):J+=te.plotHeight-oe,ce=!0),ce&&(f.x=Ce,f.y=J,P.placed=!X,P.align(f,void 0,D)),ce}function j(P,f){let g=[],b;if(V(P)&&!V(f))g=P.map(function(D){return L(D,f)});else if(V(f)&&!V(P))g=f.map(function(D){return L(P,D)});else if(V(P)||V(f))for(b=Math.max(P.length,f.length);b--;)g[b]=L(P[b],f[b]);else g=L(P,f);return g}function W(P,f,g,b,D){const X=this.chart,te=X.inverted,Z=this.xAxis,de=Z.reversed,ge=te?f.height/2:f.width/2;P=(P=P.pointWidth)?P/2:0,f.startXPos=te?D.x:de?-ge-P:Z.width-ge+P,f.startYPos=te?de?this.yAxis.height-ge+P:-ge-P:D.y,b?f.visibility==="hidden"&&(f.show(),f.attr({opacity:0}).animate({opacity:1})):f.attr({opacity:1}).animate({opacity:0},void 0,f.hide),X.hasRendered&&(g&&f.attr({x:f.startXPos,y:f.startYPos}),f.placed=!0)}const S=[];A.compose=function(P){m.pushUnique(S,P)&&(P=P.prototype,P.initDataLabelsGroup=E,P.initDataLabels=ee,P.alignDataLabel=U,P.drawDataLabels=Q,P.justifyDataLabel=N,P.setDataLabelStartPos=W)}}(C||(C={})),C}),s(a,"Series/Column/ColumnDataLabel.js",[a["Core/Series/DataLabel.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(c,h,m){const{series:n}=h,{merge:x,pick:z}=m;var Y;return function(O){function V(L,I,H,M,C){let A=this.chart.inverted;var U=L.series;let $=(U.xAxis?U.xAxis.len:this.chart.plotSizeX)||0;U=(U.yAxis?U.yAxis.len:this.chart.plotSizeY)||0;var E=L.dlBox||L.shapeArgs;let ee=z(L.below,L.plotY>z(this.translatedThreshold,U)),Q=z(H.inside,!!this.options.stacking);E&&(M=x(E),0>M.y&&(M.height+=M.y,M.y=0),E=M.y+M.height-U,0<E&&E<M.height&&(M.height-=E),A&&(M={x:U-M.y-M.height,y:$-M.x-M.width,width:M.height,height:M.width}),Q||(A?(M.x+=ee?0:M.width,M.width=0):(M.y+=ee?M.height:0,M.height=0))),H.align=z(H.align,!A||Q?"center":ee?"right":"left"),H.verticalAlign=z(H.verticalAlign,A||Q?"middle":ee?"top":"bottom"),n.prototype.alignDataLabel.call(this,L,I,H,M,C),H.inside&&L.contrastColor&&I.css({color:L.contrastColor})}const q=[];O.compose=function(L){c.compose(n),m.pushUnique(q,L)&&(L.prototype.alignDataLabel=V)}}(Y||(Y={})),Y}),s(a,"Series/Bar/BarSeries.js",[a["Series/Column/ColumnSeries.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(c,h,m){const{extend:n,merge:x}=m;class z extends c{constructor(){super(...arguments),this.points=this.options=this.data=void 0}}return z.defaultOptions=x(c.defaultOptions,{}),n(z.prototype,{inverted:!0}),h.registerSeriesType("bar",z),z}),s(a,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),s(a,"Series/Scatter/ScatterSeries.js",[a["Series/Scatter/ScatterSeriesDefaults.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(c,h,m){const{column:n,line:x}=h.seriesTypes,{addEvent:z,extend:Y,merge:O}=m;class V extends x{constructor(){super(...arguments),this.points=this.options=this.data=void 0}applyJitter(){const L=this,I=this.options.jitter,H=this.points.length;I&&this.points.forEach(function(M,C){["x","y"].forEach(function(A,U){let $="plot"+A.toUpperCase(),E,ee;if(I[A]&&!M.isNull){var Q=L[A+"Axis"];ee=I[A]*Q.transA,Q&&!Q.isLog&&(E=Math.max(0,M[$]-ee),Q=Math.min(Q.len,M[$]+ee),U=1e4*Math.sin(C+U*H),U-=Math.floor(U),M[$]=E+(Q-E)*U,A==="x"&&(M.clientX=M.plotX))}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return V.defaultOptions=O(x.defaultOptions,c),Y(V.prototype,{drawTracker:n.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),z(V,"afterTranslate",function(){this.applyJitter()}),h.registerSeriesType("scatter",V),V}),s(a,"Series/CenteredUtilities.js",[a["Core/Globals.js"],a["Core/Series/Series.js"],a["Core/Utilities.js"]],function(c,h,m){const{deg2rad:n}=c,{fireEvent:x,isNumber:z,pick:Y,relativeLength:O}=m;var V;return function(q){q.getCenter=function(){var L=this.options,I=this.chart;const H=2*(L.slicedOffset||0),M=I.plotWidth-2*H,C=I.plotHeight-2*H;var A=L.center;const U=Math.min(M,C),$=L.thickness;var E=L.size;let ee=L.innerSize||0;for(typeof E=="string"&&(E=parseFloat(E)),typeof ee=="string"&&(ee=parseFloat(ee)),L=[Y(A[0],"50%"),Y(A[1],"50%"),Y(E&&0>E?void 0:L.size,"100%"),Y(ee&&0>ee?void 0:L.innerSize||0,"0%")],!I.angular||this instanceof h||(L[3]=0),A=0;4>A;++A)E=L[A],I=2>A||A===2&&/%$/.test(E),L[A]=O(E,[M,C,U,L[2]][A])+(I?H:0);return L[3]>L[2]&&(L[3]=L[2]),z($)&&2*$<L[2]&&0<$&&(L[3]=L[2]-2*$),x(this,"afterGetCenter",{positions:L}),L},q.getStartAndEndRadians=function(L,I){return L=z(L)?L:0,I=z(I)&&I>L&&360>I-L?I:L+360,{start:n*(L+-90),end:n*(I+-90)}}}(V||(V={})),V}),s(a,"Series/Pie/PiePoint.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Series/Point.js"],a["Core/Utilities.js"]],function(c,h,m){const{setAnimation:n}=c,{addEvent:x,defined:z,extend:Y,isNumber:O,pick:V,relativeLength:q}=m;class L extends h{constructor(){super(...arguments),this.series=this.options=this.labelDistance=void 0}getConnectorPath(){const H=this.labelPosition,M=this.series.options.dataLabels,C=this.connectorShapes;let A=M.connectorShape;return C[A]&&(A=C[A]),A.call(this,{x:H.computed.x,y:H.computed.y,alignment:H.alignment},H.connectorPosition,M)}getTranslate(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}}haloPath(H){const M=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(M.x,M.y,M.r+H,M.r+H,{innerR:M.r-1,start:M.start,end:M.end,borderRadius:M.borderRadius})}init(){super.init.apply(this,arguments),this.name=V(this.name,"Slice");const H=M=>{this.slice(M.type==="select")};return x(this,"select",H),x(this,"unselect",H),this}isValid(){return O(this.y)&&0<=this.y}setVisible(H,M){const C=this.series,A=C.chart,U=C.options.ignoreHiddenPoint;M=V(M,U),H!==this.visible&&(this.visible=this.options.visible=H=typeof H>"u"?!this.visible:H,C.options.data[C.data.indexOf(this)]=this.options,["graphic","dataLabel","connector"].forEach($=>{this[$]&&this[$][H?"show":"hide"](H)}),this.legendItem&&A.legend.colorizeItem(this,H),H||this.state!=="hover"||this.setState(""),U&&(C.isDirty=!0),M&&A.redraw())}slice(H,M,C){const A=this.series;n(C,A.chart),V(M,!0),this.sliced=this.options.sliced=z(H)?H:!this.sliced,A.options.data[A.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return Y(L.prototype,{connectorShapes:{fixedOffset:function(I,H,M){const C=H.breakAt;return H=H.touchingSliceAt,[["M",I.x,I.y],M.softConnector?["C",I.x+(I.alignment==="left"?-5:5),I.y,2*C.x-H.x,2*C.y-H.y,C.x,C.y]:["L",C.x,C.y],["L",H.x,H.y]]},straight:function(I,H){return H=H.touchingSliceAt,[["M",I.x,I.y],["L",H.x,H.y]]},crookedLine:function(I,H,M){const{breakAt:C,touchingSliceAt:A}=H;({series:H}=this);const[U,$,E]=H.center,ee=E/2,Q=H.chart.plotWidth,N=H.chart.plotLeft;H=I.alignment==="left";const{x:j,y:W}=I;return M.crookDistance?(I=q(M.crookDistance,1),I=H?U+ee+(Q+N-U-ee)*(1-I):N+(U-ee)*I):I=U+($-W)*Math.tan((this.angle||0)-Math.PI/2),M=[["M",j,W]],(H?I<=j&&I>=C.x:I>=j&&I<=C.x)&&M.push(["L",I,W]),M.push(["L",C.x,C.y],["L",A.x,A.y]),M}}}),L}),s(a,"Series/Pie/PieSeriesDefaults.js",[],function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),s(a,"Series/Pie/PieSeries.js",[a["Series/CenteredUtilities.js"],a["Series/Column/ColumnSeries.js"],a["Core/Globals.js"],a["Series/Pie/PiePoint.js"],a["Series/Pie/PieSeriesDefaults.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/Symbols.js"],a["Core/Utilities.js"]],function(c,h,m,n,x,z,Y,O,V){const{getStartAndEndRadians:q}=c;({noop:m}=m);const{clamp:L,extend:I,fireEvent:H,merge:M,pick:C,relativeLength:A}=V;class U extends z{constructor(){super(...arguments),this.points=this.options=this.maxLabelDistance=this.data=this.center=void 0}animate(E){const ee=this,Q=ee.points,N=ee.startAngleRad;E||Q.forEach(function(j){const W=j.graphic,S=j.shapeArgs;W&&S&&(W.attr({r:C(j.startR,ee.center&&ee.center[3]/2),start:N,end:N}),W.animate({r:S.r,start:S.start,end:S.end},ee.options.animation))})}drawEmpty(){const E=this.startAngleRad,ee=this.endAngleRad,Q=this.options;let N,j;this.total===0&&this.center?(N=this.center[0],j=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(N,j,this.center[1]/2,0,E,ee).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:O.arc(N,j,this.center[2]/2,0,{start:E,end:ee,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":Q.borderWidth,fill:Q.fillColor||"none",stroke:Q.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){const E=this.chart.renderer;this.points.forEach(function(ee){ee.graphic&&ee.hasNewShapeType()&&(ee.graphic=ee.graphic.destroy()),ee.graphic||(ee.graphic=E[ee.shapeType](ee.shapeArgs).add(ee.series.group),ee.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(E,ee,Q){const N=this.center,j=this.radii?this.radii[Q.index]||0:N[2]/2;return E=Math.asin(L((E-N[1])/(j+Q.labelDistance),-1,1)),N[0]+(ee?-1:1)*Math.cos(E)*(j+Q.labelDistance)+(0<Q.labelDistance?(ee?-1:1)*this.options.dataLabels.padding:0)}hasData(){return!!this.processedXData.length}redrawPoints(){const E=this,ee=E.chart;let Q,N,j,W;this.drawEmpty(),E.group&&!ee.styledMode&&E.group.shadow(E.options.shadow),E.points.forEach(function(S){const P={};N=S.graphic,!S.isNull&&N?(W=S.shapeArgs,Q=S.getTranslate(),ee.styledMode||(j=E.pointAttribs(S,S.selected&&"select")),S.delayedRendering?(N.setRadialReference(E.center).attr(W).attr(Q),ee.styledMode||N.attr(j).attr({"stroke-linejoin":"round"}),S.delayedRendering=!1):(N.setRadialReference(E.center),ee.styledMode||M(!0,P,j),M(!0,P,W,Q),N.animate(P)),N.attr({visibility:S.visible?"inherit":"hidden"}),N.addClass(S.getClassName(),!0)):N&&(S.graphic=N.destroy())})}sortByAngle(E,ee){E.sort(function(Q,N){return typeof Q.angle<"u"&&(N.angle-Q.angle)*ee})}translate(E){H(this,"translate"),this.generatePoints();var ee=this.options;const Q=ee.slicedOffset,N=Q+(ee.borderWidth||0);var j=q(ee.startAngle,ee.endAngle);const W=this.startAngleRad=j.start;j=(this.endAngleRad=j.end)-W;const S=this.points,P=ee.dataLabels.distance;ee=ee.ignoreHiddenPoint;const f=S.length;let g,b,D,X=0;for(E||(this.center=E=this.getCenter()),b=0;b<f;b++){D=S[b];var te=W+X*j;!D.isValid()||ee&&!D.visible||(X+=D.percentage/100);var Z=W+X*j,de={x:E[0],y:E[1],r:E[2]/2,innerR:E[3]/2,start:Math.round(1e3*te)/1e3,end:Math.round(1e3*Z)/1e3};D.shapeType="arc",D.shapeArgs=de,D.labelDistance=C(D.options.dataLabels&&D.options.dataLabels.distance,P),D.labelDistance=A(D.labelDistance,de.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,D.labelDistance),Z=(Z+te)/2,Z>1.5*Math.PI?Z-=2*Math.PI:Z<-Math.PI/2&&(Z+=2*Math.PI),D.slicedTranslation={translateX:Math.round(Math.cos(Z)*Q),translateY:Math.round(Math.sin(Z)*Q)},de=Math.cos(Z)*E[2]/2,g=Math.sin(Z)*E[2]/2,D.tooltipPos=[E[0]+.7*de,E[1]+.7*g],D.half=Z<-Math.PI/2||Z>Math.PI/2?1:0,D.angle=Z,te=Math.min(N,D.labelDistance/5),D.labelPosition={natural:{x:E[0]+de+Math.cos(Z)*D.labelDistance,y:E[1]+g+Math.sin(Z)*D.labelDistance},computed:{},alignment:0>D.labelDistance?"center":D.half?"right":"left",connectorPosition:{breakAt:{x:E[0]+de+Math.cos(Z)*te,y:E[1]+g+Math.sin(Z)*te},touchingSliceAt:{x:E[0]+de,y:E[1]+g}}}}H(this,"afterTranslate")}updateTotals(){const E=this.points,ee=E.length,Q=this.options.ignoreHiddenPoint;let N,j,W=0;for(N=0;N<ee;N++)j=E[N],!j.isValid()||Q&&!j.visible||(W+=j.y);for(this.total=W,N=0;N<ee;N++)j=E[N],j.percentage=0<W&&(j.visible||!Q)?j.y/W*100:0,j.total=W}}return U.defaultOptions=M(z.defaultOptions,x),I(U.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:h.prototype.drawTracker,getCenter:c.getCenter,getSymbol:m,isCartesian:!1,noSharedTooltip:!0,pointAttribs:h.prototype.pointAttribs,pointClass:n,requireSorting:!1,searchPoint:m,trackerGroups:["group","dataLabelsGroup"]}),Y.registerSeriesType("pie",U),U}),s(a,"Series/Pie/PieDataLabel.js",[a["Core/Series/DataLabel.js"],a["Core/Globals.js"],a["Core/Renderer/RendererUtilities.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(c,h,m,n,x){const{noop:z}=h,{distribute:Y}=m,{series:O}=n,{arrayMax:V,clamp:q,defined:L,merge:I,pick:H,relativeLength:M}=x;var C;return function(A){function U(){const N=this,j=N.data,W=N.chart,S=N.options.dataLabels||{},P=S.connectorPadding,f=W.plotWidth,g=W.plotHeight,b=W.plotLeft,D=Math.round(W.chartWidth/3),X=N.center,te=X[2]/2,Z=X[1],de=[[],[]],ge=[0,0,0,0],Ce=N.dataLabelPositioners;let J,oe,ce,pe,Ee,ne,ye,_e,ae,me,we,Re;N.visible&&(S.enabled||N._hasPointLabels)&&(j.forEach(function(Le){Le.dataLabel&&Le.visible&&Le.dataLabel.shortened&&(Le.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Le.dataLabel.shortened=!1)}),O.prototype.drawDataLabels.apply(N),j.forEach(function(Le){Le.dataLabel&&(Le.visible?(de[Le.half].push(Le),Le.dataLabel._pos=null,!L(S.style.width)&&!L(Le.options.dataLabels&&Le.options.dataLabels.style&&Le.options.dataLabels.style.width)&&Le.dataLabel.getBBox().width>D&&(Le.dataLabel.css({width:Math.round(.7*D)+"px"}),Le.dataLabel.shortened=!0)):(Le.dataLabel=Le.dataLabel.destroy(),Le.dataLabels&&Le.dataLabels.length===1&&delete Le.dataLabels))}),de.forEach((Le,$e)=>{const rt=Le.length,Qe=[];let qe,Te=0;if(rt){if(N.sortByAngle(Le,$e-.5),0<N.maxLabelDistance){var Oe=Math.max(0,Z-te-N.maxLabelDistance);qe=Math.min(Z+te+N.maxLabelDistance,W.plotHeight),Le.forEach(function(ze){0<ze.labelDistance&&ze.dataLabel&&(ze.top=Math.max(0,Z-te-ze.labelDistance),ze.bottom=Math.min(Z+te+ze.labelDistance,W.plotHeight),Te=ze.dataLabel.getBBox().height||21,ze.distributeBox={target:ze.labelPosition.natural.y-ze.top+Te/2,size:Te,rank:ze.y},Qe.push(ze.distributeBox))}),Oe=qe+Te-Oe,Y(Qe,Oe,Oe/5)}for(we=0;we<rt;we++){if(J=Le[we],ne=J.labelPosition,pe=J.dataLabel,me=J.visible===!1?"hidden":"inherit",ae=Oe=ne.natural.y,Qe&&L(J.distributeBox)&&(typeof J.distributeBox.pos>"u"?me="hidden":(ye=J.distributeBox.size,ae=Ce.radialDistributionY(J))),delete J.positionIndex,S.justify)_e=Ce.justify(J,te,X);else switch(S.alignTo){case"connectors":_e=Ce.alignToConnectors(Le,$e,f,b);break;case"plotEdges":_e=Ce.alignToPlotEdges(pe,$e,f,b);break;default:_e=Ce.radialDistributionX(N,J,ae,Oe)}pe._attr={visibility:me,align:ne.alignment},Re=J.options.dataLabels||{},pe._pos={x:_e+H(Re.x,S.x)+({left:P,right:-P}[ne.alignment]||0),y:ae+H(Re.y,S.y)-pe.getBBox().height/2},ne&&(ne.computed.x=_e,ne.computed.y=ae),H(S.crop,!0)&&(Ee=pe.getBBox().width,Oe=null,_e-Ee<P&&$e===1?(Oe=Math.round(Ee-_e+P),ge[3]=Math.max(Oe,ge[3])):_e+Ee>f-P&&$e===0&&(Oe=Math.round(_e+Ee-f+P),ge[1]=Math.max(Oe,ge[1])),0>ae-ye/2?ge[0]=Math.max(Math.round(-ae+ye/2),ge[0]):ae+ye/2>g&&(ge[2]=Math.max(Math.round(ae+ye/2-g),ge[2])),pe.sideOverflow=Oe)}}}),V(ge)===0||this.verifyDataLabelOverflow(ge))&&(this.placeDataLabels(),this.points.forEach(function(Le){if(Re=I(S,Le.options.dataLabels),oe=H(Re.connectorWidth,1)){let $e;ce=Le.connector,(pe=Le.dataLabel)&&pe._pos&&Le.visible&&0<Le.labelDistance?(me=pe._attr.visibility,($e=!ce)&&(Le.connector=ce=W.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Le.colorIndex+(Le.className?" "+Le.className:"")).add(N.dataLabelsGroup),W.styledMode||ce.attr({"stroke-width":oe,stroke:Re.connectorColor||Le.color||"#666666"})),ce[$e?"attr":"animate"]({d:Le.getConnectorPath()}),ce.attr("visibility",me)):ce&&(Le.connector=ce.destroy())}}))}function $(){this.points.forEach(function(N){let j=N.dataLabel,W;j&&N.visible&&((W=j._pos)?(j.sideOverflow&&(j._attr.width=Math.max(j.getBBox().width-j.sideOverflow,0),j.css({width:j._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),j.shortened=!0),j.attr(j._attr),j[j.moved?"animate":"attr"](W),j.moved=!0):j&&j.attr({y:-9999})),delete N.distributeBox},this)}function E(N){let j=this.center,W=this.options,S=W.center,P=W.minSize||80,f,g=W.size!==null;return g||(S[0]!==null?f=Math.max(j[2]-Math.max(N[1],N[3]),P):(f=Math.max(j[2]-N[1]-N[3],P),j[0]+=(N[3]-N[1])/2),S[1]!==null?f=q(f,P,j[2]-Math.max(N[0],N[2])):(f=q(f,P,j[2]-N[0]-N[2]),j[1]+=(N[0]-N[2])/2),f<j[2]?(j[2]=f,j[3]=Math.min(W.thickness?Math.max(0,f-2*W.thickness):Math.max(0,M(W.innerSize||0,f)),f),this.translate(j),this.drawDataLabels&&this.drawDataLabels()):g=!0),g}const ee=[],Q={radialDistributionY:function(N){return N.top+N.distributeBox.pos},radialDistributionX:function(N,j,W,S){return N.getX(W<j.top+2||W>j.bottom-2?S:W,j.half,j)},justify:function(N,j,W){return W[0]+(N.half?-1:1)*(j+N.labelDistance)},alignToPlotEdges:function(N,j,W,S){return N=N.getBBox().width,j?N+S:W-N-S},alignToConnectors:function(N,j,W,S){let P=0,f;return N.forEach(function(g){f=g.dataLabel.getBBox().width,f>P&&(P=f)}),j?P+S:W-P-S}};A.compose=function(N){c.compose(O),x.pushUnique(ee,N)&&(N=N.prototype,N.dataLabelPositioners=Q,N.alignDataLabel=z,N.drawDataLabels=U,N.placeDataLabels=$,N.verifyDataLabelOverflow=E)}}(C||(C={})),C}),s(a,"Extensions/OverlappingDataLabels.js",[a["Core/Chart/Chart.js"],a["Core/Utilities.js"]],function(c,h){function m(q,L){let I,H=!1;return q&&(I=q.newOpacity,q.oldOpacity!==I&&(q.alignAttr&&q.placed?(q[I?"removeClass":"addClass"]("highcharts-data-label-hidden"),H=!0,q.alignAttr.opacity=I,q[q.isOld?"animate":"attr"](q.alignAttr,null,function(){L.styledMode||q.css({pointerEvents:I?"auto":"none"})}),x(L,"afterHideOverlappingLabel")):q.attr({opacity:I})),q.isOld=!0),H}const{addEvent:n,fireEvent:x,isArray:z,isNumber:Y,objectEach:O,pick:V}=h;n(c,"render",function(){let q=this,L=[];(this.labelCollectors||[]).forEach(function(I){L=L.concat(I())}),(this.yAxis||[]).forEach(function(I){I.stacking&&I.options.stackLabels&&!I.options.stackLabels.allowOverlap&&O(I.stacking.stacks,function(H){O(H,function(M){M.label&&L.push(M.label)})})}),(this.series||[]).forEach(function(I){var H=I.options.dataLabels;I.visible&&(H.enabled!==!1||I._hasPointLabels)&&(H=M=>M.forEach(C=>{C.visible&&(z(C.dataLabels)?C.dataLabels:C.dataLabel?[C.dataLabel]:[]).forEach(function(A){const U=A.options;A.labelrank=V(U.labelrank,C.labelrank,C.shapeArgs&&C.shapeArgs.height),U.allowOverlap?(A.oldOpacity=A.opacity,A.newOpacity=1,m(A,q)):L.push(A)})}),H(I.nodes||[]),H(I.points))}),this.hideOverlappingLabels(L)}),c.prototype.hideOverlappingLabels=function(q){let L=this,I=q.length,H=L.renderer;var M;let C,A,U,$,E=!1;var ee=function(Q){let N,j;var W;let S=Q.box?0:Q.padding||0,P=W=0,f,g;if(Q&&(!Q.alignAttr||Q.placed))return N=Q.alignAttr||{x:Q.attr("x"),y:Q.attr("y")},j=Q.parentGroup,Q.width||(W=Q.getBBox(),Q.width=W.width,Q.height=W.height,W=H.fontMetrics(Q.element).h),f=Q.width-2*S,(g={left:"0",center:"0.5",right:"1"}[Q.alignValue])?P=+g*f:Y(Q.x)&&Math.round(Q.x)!==Q.translateX&&(P=Q.x-Q.translateX),{x:N.x+(j.translateX||0)+S-(P||0),y:N.y+(j.translateY||0)+S-W,width:Q.width-2*S,height:Q.height-2*S}};for(C=0;C<I;C++)(M=q[C])&&(M.oldOpacity=M.opacity,M.newOpacity=1,M.absoluteBox=ee(M));for(q.sort(function(Q,N){return(N.labelrank||0)-(Q.labelrank||0)}),C=0;C<I;C++)for(U=(ee=q[C])&&ee.absoluteBox,M=C+1;M<I;++M)$=(A=q[M])&&A.absoluteBox,!U||!$||ee===A||ee.newOpacity===0||A.newOpacity===0||ee.visibility==="hidden"||A.visibility==="hidden"||$.x>=U.x+U.width||$.x+$.width<=U.x||$.y>=U.y+U.height||$.y+$.height<=U.y||((ee.labelrank<A.labelrank?ee:A).newOpacity=0);q.forEach(function(Q){m(Q,L)&&(E=!0)}),E&&x(L,"afterHideAllOverlappingLabels")}}),s(a,"Extensions/BorderRadius.js",[a["Core/Defaults.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(c,h,m,n,x,z){const{defaultOptions:Y}=c;({seriesTypes:c}=m);const{addEvent:O,extend:V,isObject:q,merge:L,relativeLength:I}=z,H={radius:0,scope:"stack",where:void 0},M=(C,A)=>(q(C)||(C={radius:C||0}),L(H,A,C));if(n.symbolCustomAttribs.indexOf("borderRadius")===-1){n.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY");const C=x.prototype.symbols.arc;x.prototype.symbols.arc=function(U,$,E,ee,Q={}){U=C(U,$,E,ee,Q);const{innerR:N=0,r:j=E,start:W=0,end:S=0}=Q;if(Q.open||!Q.borderRadius)return U;for(E=S-W,$=Math.sin(E/2),Q=Math.max(Math.min(I(Q.borderRadius||0,j-N),(j-N)/2,j*$/(1+$)),0),E=Math.min(Q,E/Math.PI*2*N),$=U.length-1;$--;){let te,Z,de;ee=U;var P=$,f=1<$?E:Q,g=ee[P],b=ee[P+1];if(b[0]==="Z"&&(b=ee[0]),g[0]!=="M"&&g[0]!=="L"||b[0]!=="A"?g[0]!=="A"||b[0]!=="M"&&b[0]!=="L"||(de=b,Z=g):(de=g,Z=b,te=!0),de&&Z&&Z.params){g=Z[1];var D=Z[5];b=Z.params;const{start:ge,end:Ce,cx:J,cy:oe}=b;var X=D?g-f:g+f;const ce=X?Math.asin(f/X):0;D=D?ce:-ce,X*=Math.cos(ce),te?(b.start=ge+D,de[1]=J+X*Math.cos(ge),de[2]=oe+X*Math.sin(ge),ee.splice(P+1,0,["A",f,f,0,0,1,J+g*Math.cos(b.start),oe+g*Math.sin(b.start)])):(b.end=Ce-D,Z[6]=J+g*Math.cos(b.end),Z[7]=oe+g*Math.sin(b.end),ee.splice(P+1,0,["A",f,f,0,0,1,J+X*Math.cos(Ce),oe+X*Math.sin(Ce)])),Z[4]=Math.abs(b.end-b.start)<Math.PI?0:1}}return U};const A=x.prototype.symbols.roundedRect;x.prototype.symbols.roundedRect=function(U,$,E,ee,Q={}){const N=A(U,$,E,ee,Q),{r:j=0,brBoxHeight:W=ee,brBoxY:S=$}=Q;var P=$-S,f=S+W-($+ee);Q=-.1<P-j?0:j;const g=-.1<f-j?0:j;var b=Math.max(Q&&P,0);const D=Math.max(g&&f,0);f=[U+Q,$],P=[U+E-Q,$];const X=[U+E,$+Q],te=[U+E,$+ee-g],Z=[U+E-g,$+ee],de=[U+g,$+ee],ge=[U,$+ee-g],Ce=[U,$+Q];if(b){const J=Math.sqrt(Math.pow(Q,2)-Math.pow(Q-b,2));f[0]-=J,P[0]+=J,X[1]=Ce[1]=$+Q-b}return ee<Q-b&&(b=Math.sqrt(Math.pow(Q,2)-Math.pow(Q-b-ee,2)),X[0]=te[0]=U+E-Q+b,Z[0]=Math.min(X[0],Z[0]),de[0]=Math.max(te[0],de[0]),ge[0]=Ce[0]=U+Q-b,X[1]=Ce[1]=$+ee),D&&(b=Math.sqrt(Math.pow(g,2)-Math.pow(g-D,2)),Z[0]+=b,de[0]-=b,te[1]=ge[1]=$+ee-g+D),ee<g-D&&(ee=Math.sqrt(Math.pow(g,2)-Math.pow(g-D-ee,2)),X[0]=te[0]=U+E-g+ee,P[0]=Math.min(X[0],P[0]),f[0]=Math.max(te[0],f[0]),ge[0]=Ce[0]=U+g-ee,te[1]=ge[1]=$),N.length=0,N.push(["M",...f],["L",...P],["A",Q,Q,0,0,1,...X],["L",...te],["A",g,g,0,0,1,...Z],["L",...de],["A",g,g,0,0,1,...ge],["L",...Ce],["A",Q,Q,0,0,1,...f],["Z"]),N},O(c.pie,"afterTranslate",function(){const U=M(this.options.borderRadius);for(const $ of this.points){const E=$.shapeArgs;E&&(E.borderRadius=I(U.radius,(E.r||0)-(E.innerR||0)))}}),O(h,"afterColumnTranslate",function(){var U,$;if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){const{options:N,yAxis:j}=this,W=N.stacking==="percent";var E=($=(U=Y.plotOptions)===null||U===void 0?void 0:U[this.type])===null||$===void 0?void 0:$.borderRadius;U=M(N.borderRadius,q(E)?E:{}),$=j.options.reversed;for(const S of this.points)if({shapeArgs:E}=S,S.shapeType==="roundedRect"&&E){const{width:P=0,height:f=0,y:g=0}=E;var ee=g,Q=f;U.scope==="stack"&&S.stackTotal&&(ee=j.translate(W?100:S.stackTotal,!1,!0,!1,!0),Q=j.translate(N.threshold||0,!1,!0,!1,!0),Q=this.crispCol(0,Math.min(ee,Q),0,Math.abs(ee-Q)),ee=Q.y,Q=Q.height);const b=(S.negative?-1:1)*($?-1:1)===-1;let D=U.where;!D&&this.is("waterfall")&&Math.abs((S.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(D="all"),D||(D="end");const X=Math.min(I(U.radius,P),P/2,D==="all"?f/2:1/0)||0;D==="end"&&(b&&(ee-=X),Q+=X),V(E,{brBoxHeight:Q,brBoxY:ee,r:X})}}},{order:9})}return h={optionsToObject:M},h}),s(a,"Core/Responsive.js",[a["Core/Utilities.js"]],function(c){const{extend:h,find:m,isArray:n,isObject:x,merge:z,objectEach:Y,pick:O,splat:V,uniqueKey:q}=c;var L;return function(I){function H(U){function $(Q,N,j,W){let S;Y(Q,function(P,f){if(!W&&-1<E.collectionsWithUpdate.indexOf(f)&&N[f])for(P=V(P),j[f]=[],S=0;S<Math.max(P.length,N[f].length);S++)N[f][S]&&(P[S]===void 0?j[f][S]=N[f][S]:(j[f][S]={},$(P[S],N[f][S],j[f][S],W+1)));else x(P)?(j[f]=n(P)?[]:{},$(P,N[f]||{},j[f],W+1)):j[f]=typeof N[f]>"u"?null:N[f]})}const E=this,ee={};return $(U,this.options,ee,0),ee}function M(U,$){const E=U.condition;(E.callback||function(){return this.chartWidth<=O(E.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=O(E.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=O(E.minWidth,0)&&this.chartHeight>=O(E.minHeight,0)}).call(this)&&$.push(U._id)}function C(U,$){const E=this.options.responsive;var ee=this.currentResponsive;let Q=[];!$&&E&&E.rules&&E.rules.forEach(N=>{typeof N._id>"u"&&(N._id=q()),this.matchResponsiveRule(N,Q)},this),$=z(...Q.map(N=>m((E||{}).rules||[],j=>j._id===N)).map(N=>N&&N.chartOptions)),$.isResponsiveOptions=!0,Q=Q.toString()||void 0,Q!==(ee&&ee.ruleIds)&&(ee&&this.update(ee.undoOptions,U,!0),Q?(ee=this.currentOptions($),ee.isResponsiveOptions=!0,this.currentResponsive={ruleIds:Q,mergedOptions:$,undoOptions:ee},this.update($,U,!0)):this.currentResponsive=void 0)}const A=[];I.compose=function(U){return c.pushUnique(A,U)&&h(U.prototype,{currentOptions:H,matchResponsiveRule:M,setResponsive:C}),U}}(L||(L={})),L}),s(a,"masters/highcharts.src.js",[a["Core/Globals.js"],a["Core/Utilities.js"],a["Core/Defaults.js"],a["Core/Animation/Fx.js"],a["Core/Animation/AnimationUtilities.js"],a["Core/Renderer/HTML/AST.js"],a["Core/FormatUtilities.js"],a["Core/Renderer/RendererUtilities.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Renderer/HTML/HTMLElement.js"],a["Core/Renderer/HTML/HTMLRenderer.js"],a["Core/Axis/Axis.js"],a["Core/Axis/DateTimeAxis.js"],a["Core/Axis/LogarithmicAxis.js"],a["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],a["Core/Axis/Tick.js"],a["Core/Tooltip.js"],a["Core/Series/Point.js"],a["Core/Pointer.js"],a["Core/Legend/Legend.js"],a["Core/Chart/Chart.js"],a["Core/Axis/Stacking/StackingAxis.js"],a["Core/Axis/Stacking/StackItem.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Series/Column/ColumnSeries.js"],a["Series/Column/ColumnDataLabel.js"],a["Series/Pie/PieSeries.js"],a["Series/Pie/PieDataLabel.js"],a["Core/Series/DataLabel.js"],a["Core/Responsive.js"],a["Core/Color/Color.js"],a["Core/Time.js"]],function(c,h,m,n,x,z,Y,O,V,q,L,I,H,M,C,A,U,$,E,ee,Q,N,j,W,S,P,f,g,b,D,X,te,Z,de){return c.animate=x.animate,c.animObject=x.animObject,c.getDeferredAnimation=x.getDeferredAnimation,c.setAnimation=x.setAnimation,c.stop=x.stop,c.timers=n.timers,c.AST=z,c.Axis=H,c.Chart=N,c.chart=N.chart,c.Fx=n,c.Legend=Q,c.PlotLineOrBand=A,c.Point=E,c.Pointer=ee,c.Series=S,c.StackItem=W,c.SVGElement=V,c.SVGRenderer=q,c.Tick=U,c.Time=de,c.Tooltip=$,c.Color=Z,c.color=Z.parse,I.compose(q),L.compose(V),ee.compose(N),Q.compose(N),c.defaultOptions=m.defaultOptions,c.getOptions=m.getOptions,c.time=m.defaultTime,c.setOptions=m.setOptions,c.dateFormat=Y.dateFormat,c.format=Y.format,c.numberFormat=Y.numberFormat,c.addEvent=h.addEvent,c.arrayMax=h.arrayMax,c.arrayMin=h.arrayMin,c.attr=h.attr,c.clearTimeout=h.clearTimeout,c.correctFloat=h.correctFloat,c.createElement=h.createElement,c.css=h.css,c.defined=h.defined,c.destroyObjectProperties=h.destroyObjectProperties,c.discardElement=h.discardElement,c.distribute=O.distribute,c.erase=h.erase,c.error=h.error,c.extend=h.extend,c.extendClass=h.extendClass,c.find=h.find,c.fireEvent=h.fireEvent,c.getMagnitude=h.getMagnitude,c.getStyle=h.getStyle,c.inArray=h.inArray,c.isArray=h.isArray,c.isClass=h.isClass,c.isDOMElement=h.isDOMElement,c.isFunction=h.isFunction,c.isNumber=h.isNumber,c.isObject=h.isObject,c.isString=h.isString,c.keys=h.keys,c.merge=h.merge,c.normalizeTickInterval=h.normalizeTickInterval,c.objectEach=h.objectEach,c.offset=h.offset,c.pad=h.pad,c.pick=h.pick,c.pInt=h.pInt,c.relativeLength=h.relativeLength,c.removeEvent=h.removeEvent,c.seriesType=P.seriesType,c.splat=h.splat,c.stableSort=h.stableSort,c.syncTimeout=h.syncTimeout,c.timeUnits=h.timeUnits,c.uniqueKey=h.uniqueKey,c.useSerialIds=h.useSerialIds,c.wrap=h.wrap,g.compose(f),X.compose(S),M.compose(H),C.compose(H),D.compose(b),A.compose(H),te.compose(N),j.compose(H,N,S),$.compose(ee),c}),a["masters/highcharts.src.js"]._modules=a,a["masters/highcharts.src.js"]})}(uw)),uw.exports}(function(e,t){(function(s,a){e.exports=a($8(),zA)})(window,function(s,a){return m={},c.m=h=[function(n,x){n.exports=s},function(n,x){n.exports=a},function(n,Y,z){z.r(Y),z.d(Y,"Chart",function(){return U}),z.d(Y,"default",function(){return $});var Y=z(0),O=z.n(Y);function V(E,ee){return function Q(N,j,W){function S(P,f){!O.a.isObject(P,!W)||O.a.isClass(P)||O.a.isDOMElement(P)?N[f]=j[f]:N[f]=Q(N[f]||O.a.isArray(P)?[]:{},P,W)}return O.a.isArray(j)?j.forEach(S):O.a.objectEach(j,S),N}({},E,ee)}var q=z(1);function L(E){return function(ee){if(Array.isArray(ee))return I(ee)}(E)||function(ee){if(typeof Symbol<"u"&&ee[Symbol.iterator]!=null||ee["@@iterator"]!=null)return Array.from(ee)}(E)||function(ee,Q){if(ee){if(typeof ee=="string")return I(ee,Q);var N=Object.prototype.toString.call(ee).slice(8,-1);return(N=N==="Object"&&ee.constructor?ee.constructor.name:N)==="Map"||N==="Set"?Array.from(ee):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?I(ee,Q):void 0}}(E)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function I(E,ee){(ee==null||ee>E.length)&&(ee=E.length);for(var Q=0,N=new Array(ee);Q<ee;Q++)N[Q]=E[Q];return N}function H(E,ee){var Q,N=Object.keys(E);return Object.getOwnPropertySymbols&&(Q=Object.getOwnPropertySymbols(E),ee&&(Q=Q.filter(function(j){return Object.getOwnPropertyDescriptor(E,j).enumerable})),N.push.apply(N,Q)),N}function M(E){for(var ee=1;ee<arguments.length;ee++){var Q=arguments[ee]!=null?arguments[ee]:{};ee%2?H(Object(Q),!0).forEach(function(N){var j,W;j=E,N=Q[W=N],W in j?Object.defineProperty(j,W,{value:N,enumerable:!0,configurable:!0,writable:!0}):j[W]=N}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(Q)):H(Object(Q)).forEach(function(N){Object.defineProperty(E,N,Object.getOwnPropertyDescriptor(Q,N))})}return E}function C(){this.chart&&this.chart.destroy()}var A=function(E,ee){return ee=ee.split(".")[0]<3?{render:function(Q){return Q("div",{ref:"chart"})},beforeDestroy:C}:{render:function(){return Object(q.h)("div",{ref:"chart"})},beforeUnmount:C},M({template:'<div ref="chart"></div>',props:{constructorType:{type:String,default:"chart"},options:{type:Object,required:!0},callback:Function,updateArgs:{type:Array,default:function(){return[!0,!0]}},highcharts:{type:Object},deepCopyOnUpdate:{type:Boolean,default:!0}},watch:{options:{handler:function(Q){var N;(N=this.chart).update.apply(N,[V(Q,this.deepCopyOnUpdate)].concat(L(this.updateArgs)))},deep:!0}},mounted:function(){var Q=this.highcharts||E;this.options&&Q[this.constructorType]?this.chart=Q[this.constructorType](this.$refs.chart,V(this.options,!0),this.callback||null):this.options?console.warn("'".concat(this.constructorType,"' constructor-type is incorrect. Sometimes this error is caused by the fact, that the corresponding module wasn't imported.")):console.warn('The "options" parameter was not passed.')}},ee)},U=A(O.a,q.version||z.n(q).a.version);function $(E){var ee=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};E.component(ee.tagName||"highcharts",A(ee.highcharts||O.a,E.version))}}],c.c=m,c.d=function(n,x,z){c.o(n,x)||Object.defineProperty(n,x,{enumerable:!0,get:z})},c.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},c.t=function(n,x){if(1&x&&(n=c(n)),8&x||4&x&&typeof n=="object"&&n&&n.__esModule)return n;var z=Object.create(null);if(c.r(z),Object.defineProperty(z,"default",{enumerable:!0,value:n}),2&x&&typeof n!="string")for(var Y in n)c.d(z,Y,(function(O){return n[O]}).bind(null,Y));return z},c.n=function(n){var x=n&&n.__esModule?function(){return n.default}:function(){return n};return c.d(x,"a",x),x},c.o=function(n,x){return Object.prototype.hasOwnProperty.call(n,x)},c.p="",c(c.s=2);function c(n){if(m[n])return m[n].exports;var x=m[n]={i:n,l:!1,exports:{}};return h[n].call(x.exports,x,x.exports,c),x.l=!0,x.exports}var h,m})})(U8);var o0=U8.exports,pV=$8();const Fl=wd(pV);var G8={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function s(a,c,h,m){a.hasOwnProperty(c)||(a[c]=m.apply(null,h),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:c,module:a[c]}})))}t=t?t._modules:{},s(t,"Extensions/Pane.js",[t["Core/Chart/Chart.js"],t["Series/CenteredUtilities.js"],t["Core/Globals.js"],t["Core/Pointer.js"],t["Core/Utilities.js"]],function(a,c,h,m,n){function x(M,C,A,U,$){let E=!0;const ee=A[0],Q=A[1],N=Math.sqrt(Math.pow(M-ee,2)+Math.pow(C-Q,2));return O(U)&&O($)&&(M=Math.atan2(Y(C-Q,8),Y(M-ee,8)),$!==U&&(E=U>$?M>=U&&M<=Math.PI||M<=$&&M>=-Math.PI:M>=U&&M<=Y($,8))),N<=Math.ceil(A[2]/2)&&E}const{addEvent:z,correctFloat:Y,defined:O,extend:V,merge:q,pick:L,splat:I}=n;a.prototype.collectionsWithUpdate.push("pane");class H{constructor(C,A){this.options=this.chart=this.center=this.background=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(C,A)}init(C,A){this.chart=A,this.background=[],A.pane.push(this),this.setOptions(C)}setOptions(C){this.options=q(this.defaultOptions,this.chart.angular?{background:{}}:void 0,C)}render(){var C=this.options;let A=this.options.background;var U=this.chart.renderer;if(this.group||(this.group=U.g("pane-group").attr({zIndex:C.zIndex||0}).add()),this.updateCenter(),A)for(A=I(A),C=Math.max(A.length,this.background.length||0),U=0;U<C;U++)A[U]&&this.axis?this.renderBackground(q(this.defaultBackgroundOptions,A[U]),U):this.background[U]&&(this.background[U]=this.background[U].destroy(),this.background.splice(U,1))}renderBackground(C,A){let U="animate",$={class:"highcharts-pane "+(C.className||"")};this.chart.styledMode||V($,{fill:C.backgroundColor,stroke:C.borderColor,"stroke-width":C.borderWidth}),this.background[A]||(this.background[A]=this.chart.renderer.path().add(this.group),U="attr"),this.background[A][U]({d:this.axis.getPlotBandPath(C.from,C.to,C)}).attr($)}updateCenter(C){this.center=(C||this.axis||{}).center=c.getCenter.call(this)}update(C,A){q(!0,this.options,C),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(U){U.pane===this&&(U.pane=null,U.update({},A))},this)}}return a.prototype.getHoverPane=function(M){const C=this;let A;return M&&C.pane.forEach(U=>{x(M.chartX-C.plotLeft,M.chartY-C.plotTop,U.center)&&(A=U)}),A},z(a,"afterIsInsidePlot",function(M){this.polar&&(M.options.inverted&&([M.x,M.y]=[M.y,M.x]),M.isInsidePlot=this.pane.some(C=>x(M.x,M.y,C.center,C.axis&&C.axis.normalizedStartAngleRad,C.axis&&C.axis.normalizedEndAngleRad)))}),z(m,"beforeGetHoverData",function(M){const C=this.chart;C.polar?(C.hoverPane=C.getHoverPane(M),M.filter=function(A){return A.visible&&!(!M.shared&&A.directTouch)&&L(A.options.enableMouseTracking,!0)&&(!C.hoverPane||A.xAxis.pane===C.hoverPane)}):C.hoverPane=void 0}),z(m,"afterGetHoverData",function(M){const C=this.chart;M.hoverPoint&&M.hoverPoint.plotX&&M.hoverPoint.plotY&&C.hoverPane&&!x(M.hoverPoint.plotX,M.hoverPoint.plotY,C.hoverPane.center)&&(M.hoverPoint=void 0)}),h.Pane=H,h.Pane}),s(t,"Series/AreaRange/AreaRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c){const{area:{prototype:{pointClass:h,pointClass:{prototype:m}}}}=a.seriesTypes,{defined:n,isNumber:x}=c;class z extends h{constructor(){super(...arguments),this.series=this.plotX=this.options=this.low=this.high=void 0}setState(){const O=this.state,V=this.series,q=V.chart.polar;n(this.plotHigh)||(this.plotHigh=V.yAxis.toPixels(this.high,!0)),n(this.plotLow)||(this.plotLow=this.plotY=V.yAxis.toPixels(this.low,!0)),V.stateMarkerGraphic&&(V.lowerStateMarkerGraphic=V.stateMarkerGraphic,V.stateMarkerGraphic=V.upperStateMarkerGraphic),this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,q&&x(this.plotHighX)&&(this.plotX=this.plotHighX),m.setState.apply(this,arguments),this.state=O,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],q&&x(this.plotLowX)&&(this.plotX=this.plotLowX),V.stateMarkerGraphic&&(V.upperStateMarkerGraphic=V.stateMarkerGraphic,V.stateMarkerGraphic=V.lowerStateMarkerGraphic,V.lowerStateMarkerGraphic=void 0),m.setState.apply(this,arguments)}haloPath(){const O=this.series.chart.polar;let V=[];return this.plotY=this.plotLow,O&&x(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(V=m.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,O&&x(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(V=V.concat(m.haloPath.apply(this,arguments))),V}isValid(){return x(this.low)&&x(this.high)}}return z}),s(t,"Series/AreaRange/AreaRangeSeries.js",[t["Series/AreaRange/AreaRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,h,m){({noop:c}=c);const{area:n,area:{prototype:x},column:{prototype:z}}=h.seriesTypes,{addEvent:Y,defined:O,extend:V,isArray:q,isNumber:L,pick:I,merge:H}=m;class M extends n{constructor(){super(...arguments),this.xAxis=this.lowerStateMarkerGraphic=this.points=this.options=this.data=void 0}toYData(A){return[A.low,A.high]}highToXY(A){const U=this.chart,$=this.xAxis.postTranslate(A.rectPlotX||0,this.yAxis.len-(A.plotHigh||0));A.plotHighX=$.x-U.plotLeft,A.plotHigh=$.y-U.plotTop,A.plotLowX=A.plotX}getGraphPath(A){var U=[],$=[];const E=x.getGraphPath;var ee=this.options;const Q=this.chart.polar,N=Q&&ee.connectEnds!==!1,j=ee.connectNulls;let W,S,P,f=ee.step;for(A=A||this.points,W=A.length;W--;){S=A[W];const g=Q?{plotX:S.rectPlotX,plotY:S.yBottom,doCurve:!1}:{plotX:S.plotX,plotY:S.plotY,doCurve:!1};S.isNull||N||j||A[W+1]&&!A[W+1].isNull||$.push(g),P={polarPlotY:S.polarPlotY,rectPlotX:S.rectPlotX,yBottom:S.yBottom,plotX:I(S.plotHighX,S.plotX),plotY:S.plotHigh,isNull:S.isNull},$.push(P),U.push(P),S.isNull||N||j||A[W-1]&&!A[W-1].isNull||$.push(g)}return A=E.call(this,A),f&&(f===!0&&(f="left"),ee.step={left:"right",center:"center",right:"left"}[f]),U=E.call(this,U),$=E.call(this,$),ee.step=f,ee=[].concat(A,U),!this.chart.polar&&$[0]&&$[0][0]==="M"&&($[0]=["L",$[0][1],$[0][2]]),this.graphPath=ee,this.areaPath=A.concat($),ee.isArea=!0,ee.xMap=A.xMap,this.areaPath.xMap=A.xMap,ee}drawDataLabels(){const A=this.points,U=A.length,$=[],E=this.options.dataLabels,ee=this.chart.inverted;let Q,N,j,W,S;if(E){if(q(E)?(W=E[0]||{enabled:!1},S=E[1]||{enabled:!1}):(W=V({},E),W.x=E.xHigh,W.y=E.yHigh,S=V({},E),S.x=E.xLow,S.y=E.yLow),W.enabled||this._hasPointLabels){for(Q=U;Q--;)if(N=A[Q]){const{plotHigh:P=0,plotLow:f=0}=N;j=W.inside?P<f:P>f,N.y=N.high,N._plotY=N.plotY,N.plotY=P,$[Q]=N.dataLabel,N.dataLabel=N.dataLabelUpper,N.below=j,ee?W.align||(W.align=j?"right":"left"):W.verticalAlign||(W.verticalAlign=j?"top":"bottom")}for(this.options.dataLabels=W,x.drawDataLabels&&x.drawDataLabels.apply(this,arguments),Q=U;Q--;)(N=A[Q])&&(N.dataLabelUpper=N.dataLabel,N.dataLabel=$[Q],delete N.dataLabels,N.y=N.low,N.plotY=N._plotY)}if(S.enabled||this._hasPointLabels){for(Q=U;Q--;)if(N=A[Q]){const{plotHigh:P=0,plotLow:f=0}=N;j=S.inside?P<f:P>f,N.below=!j,ee?S.align||(S.align=j?"left":"right"):S.verticalAlign||(S.verticalAlign=j?"bottom":"top")}this.options.dataLabels=S,x.drawDataLabels&&x.drawDataLabels.apply(this,arguments)}if(W.enabled)for(Q=U;Q--;)(N=A[Q])&&(N.dataLabels=[N.dataLabelUpper,N.dataLabel].filter(function(P){return!!P}));this.options.dataLabels=E}}alignDataLabel(){z.alignDataLabel.apply(this,arguments)}drawPoints(){const A=this.points.length;let U,$;for(x.drawPoints.apply(this,arguments),U=0;U<A;)$=this.points[U],$.graphics=$.graphics||[],$.origProps={plotY:$.plotY,plotX:$.plotX,isInside:$.isInside,negative:$.negative,zone:$.zone,y:$.y},($.graphic||$.graphics[0])&&($.graphics[0]=$.graphic),$.graphic=$.graphics[1],$.plotY=$.plotHigh,O($.plotHighX)&&($.plotX=$.plotHighX),$.y=I($.high,$.origProps.y),$.negative=$.y<(this.options.threshold||0),this.zones.length&&($.zone=$.getZone()),this.chart.polar||($.isInside=$.isTopInside=typeof $.plotY<"u"&&0<=$.plotY&&$.plotY<=this.yAxis.len&&0<=$.plotX&&$.plotX<=this.xAxis.len),U++;for(x.drawPoints.apply(this,arguments),U=0;U<A;)$=this.points[U],$.graphics=$.graphics||[],($.graphic||$.graphics[1])&&($.graphics[1]=$.graphic),$.graphic=$.graphics[0],$.origProps&&(V($,$.origProps),delete $.origProps),U++}}return M.defaultOptions=H(n.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),Y(M,"afterTranslate",function(){this.pointArrayMap.join(",")==="low,high"&&this.points.forEach(C=>{const A=C.high,U=C.plotY;C.isNull?C.plotY=void 0:(C.plotLow=U,C.plotHigh=L(A)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(A):A,!1,!0,void 0,!0):void 0,this.dataModify&&(C.yBottom=C.plotHigh))})},{order:0}),Y(M,"afterTranslate",function(){this.points.forEach(C=>{if(this.chart.polar)this.highToXY(C),C.plotLow=C.plotY,C.tooltipPos=[((C.plotHighX||0)+(C.plotLowX||0))/2,((C.plotHigh||0)+(C.plotLow||0))/2];else{const A=C.pos(!1,C.plotLow),U=C.pos(!1,C.plotHigh);A&&U&&(A[0]=(A[0]+U[0])/2,A[1]=(A[1]+U[1])/2),C.tooltipPos=A}})},{order:3}),V(M.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:a,pointValKey:"low",setStackedPoints:c}),h.registerSeriesType("arearange",M),M}),s(t,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[t["Series/AreaRange/AreaRangeSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,h){const{spline:{prototype:m}}=c.seriesTypes,{merge:n,extend:x}=h;class z extends a{constructor(){super(...arguments),this.points=this.data=this.options=void 0}}return z.defaultOptions=n(a.defaultOptions),x(z.prototype,{getPointSpline:m.getPointSpline}),c.registerSeriesType("areasplinerange",z),z}),s(t,"Series/BoxPlot/BoxPlotSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,h,m){({noop:c}=c);const{extend:n,merge:x,pick:z}=m;class Y extends a{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(){return{}}translate(){const V=this.yAxis,q=this.pointArrayMap;super.translate.apply(this),this.points.forEach(function(L){q.forEach(function(I){L[I]!==null&&(L[I+"Plot"]=V.translate(L[I],0,1,0,1))}),L.plotHigh=L.highPlot})}drawPoints(){let V=this,q=V.options,L=V.chart,I=L.renderer,H,M,C,A,U,$,E=0,ee,Q,N,j,W=V.doQuartiles!==!1,S,P=V.options.whiskerLength;V.points.forEach(function(f){var g=f.graphic;let b=g?"animate":"attr",D=f.shapeArgs,X={},te={},Z={},de={},ge=f.color||V.color;typeof f.plotY<"u"&&(ee=Math.round(D.width),Q=Math.floor(D.x),N=Q+ee,j=Math.round(ee/2),H=Math.floor(W?f.q1Plot:f.lowPlot),M=Math.floor(W?f.q3Plot:f.lowPlot),C=Math.floor(f.highPlot),A=Math.floor(f.lowPlot),g||(f.graphic=g=I.g("point").add(V.group),f.stem=I.path().addClass("highcharts-boxplot-stem").add(g),P&&(f.whiskers=I.path().addClass("highcharts-boxplot-whisker").add(g)),W&&(f.box=I.path(void 0).addClass("highcharts-boxplot-box").add(g)),f.medianShape=I.path(void 0).addClass("highcharts-boxplot-median").add(g)),L.styledMode||(te.stroke=f.stemColor||q.stemColor||ge,te["stroke-width"]=z(f.stemWidth,q.stemWidth,q.lineWidth),te.dashstyle=f.stemDashStyle||q.stemDashStyle||q.dashStyle,f.stem.attr(te),P&&(Z.stroke=f.whiskerColor||q.whiskerColor||ge,Z["stroke-width"]=z(f.whiskerWidth,q.whiskerWidth,q.lineWidth),Z.dashstyle=f.whiskerDashStyle||q.whiskerDashStyle||q.dashStyle,f.whiskers.attr(Z)),W&&(X.fill=f.fillColor||q.fillColor||ge,X.stroke=q.lineColor||ge,X["stroke-width"]=q.lineWidth||0,X.dashstyle=f.boxDashStyle||q.boxDashStyle||q.dashStyle,f.box.attr(X)),de.stroke=f.medianColor||q.medianColor||ge,de["stroke-width"]=z(f.medianWidth,q.medianWidth,q.lineWidth),de.dashstyle=f.medianDashStyle||q.medianDashStyle||q.dashStyle,f.medianShape.attr(de)),$=f.stem.strokeWidth()%2/2,E=Q+j+$,g=[["M",E,M],["L",E,C],["M",E,H],["L",E,A]],f.stem[b]({d:g}),W&&($=f.box.strokeWidth()%2/2,H=Math.floor(H)+$,M=Math.floor(M)+$,Q+=$,N+=$,g=[["M",Q,M],["L",Q,H],["L",N,H],["L",N,M],["L",Q,M],["Z"]],f.box[b]({d:g})),P&&($=f.whiskers.strokeWidth()%2/2,C+=$,A+=$,S=/%$/.test(P)?j*parseFloat(P)/100:P/2,g=[["M",E-S,C],["L",E+S,C],["M",E-S,A],["L",E+S,A]],f.whiskers[b]({d:g})),U=Math.round(f.medianPlot),$=f.medianShape.strokeWidth()%2/2,U+=$,g=[["M",Q,U],["L",N,U]],f.medianShape[b]({d:g}))})}toYData(V){return[V.low,V.q1,V.median,V.q3,V.high]}}return Y.defaultOptions=x(a.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),n(Y.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:c,setStackedPoints:c}),h.registerSeriesType("boxplot",Y),Y}),s(t,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.7em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),s(t,"Series/Bubble/BubbleLegendItem.js",[t["Core/Color/Color.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(a,c,h,m){const{parse:n}=a,{noop:x}=h,{arrayMax:z,arrayMin:Y,isNumber:O,merge:V,pick:q,stableSort:L}=m;class I{constructor(M,C){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.chart=void 0,this.setState=x,this.init(M,C)}init(M,C){this.options=M,this.visible=!0,this.chart=C.chart,this.legend=C}addToLegend(M){M.splice(this.options.legendIndex,0,this)}drawLegendSymbol(M){const C=q(M.options.itemDistance,20),A=this.legendItem||{},U=this.options;var $=U.ranges,E=U.connectorDistance;if($&&$.length&&O($[0].value)){L($,function(Q,N){return N.value-Q.value}),this.ranges=$,this.setOptions(),this.render(),M=this.getMaxLabelSize();var ee=this.ranges[0].radius;$=2*ee,E=E-ee+M.width,E=0<E?E:0,this.maxLabel=M,this.movementX=U.labels.align==="left"?E:0,A.labelWidth=$+E+C,A.labelHeight=$+M.height/2}else M.options.bubbleLegend.autoRanges=!0}setOptions(){const M=this.ranges,C=this.options,A=this.chart.series[C.seriesIndex],U=this.legend.baseline,$={zIndex:C.zIndex,"stroke-width":C.borderWidth},E={zIndex:C.zIndex,"stroke-width":C.connectorWidth},ee={align:this.legend.options.rtl||C.labels.align==="left"?"right":"left",zIndex:C.zIndex},Q=A.options.marker.fillOpacity,N=this.chart.styledMode;M.forEach(function(j,W){N||($.stroke=q(j.borderColor,C.borderColor,A.color),$.fill=q(j.color,C.color,Q!==1?n(A.color).setOpacity(Q).get("rgba"):A.color),E.stroke=q(j.connectorColor,C.connectorColor,A.color)),M[W].radius=this.getRangeRadius(j.value),M[W]=V(M[W],{center:M[0].radius-M[W].radius+U}),N||V(!0,M[W],{bubbleAttribs:V($),connectorAttribs:V(E),labelAttribs:ee})},this)}getRangeRadius(M){const C=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,C.ranges[C.ranges.length-1].value,C.ranges[0].value,C.minSize,C.maxSize,M)}render(){const M=this.legendItem||{},C=this.chart.renderer,A=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),M.symbol=C.g("bubble-legend"),M.label=C.g("bubble-legend-item"),M.symbol.translateX=0,M.symbol.translateY=0,M.symbol.add(M.label),M.label.add(M.group);for(const U of this.ranges)U.value>=A&&this.renderRange(U);this.hideOverlappingLabels()}renderRange(M){var C=this.options;const A=C.labels;var U=this.chart;const $=U.series[C.seriesIndex],E=U.renderer,ee=this.symbols;U=ee.labels;const Q=M.center,N=Math.abs(M.radius);var j=C.connectorDistance||0;const W=A.align,S=C.connectorWidth,P=this.ranges[0].radius||0,f=Q-N-C.borderWidth/2+S/2,g=E.styledMode;j=this.legend.options.rtl||W==="left"?-j:j,W==="center"&&(j=0,C.connectorDistance=0,M.labelAttribs.align="center"),ee.bubbleItems.push(E.circle(P,Q+((f%1?1:.5)-(S%2?0:.5)),N).attr(g?{}:M.bubbleAttribs).addClass((g?"highcharts-color-"+$.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(C.className||"")).add(this.legendItem.symbol)),ee.connectors.push(E.path(E.crispLine([["M",P,f],["L",P+j,f]],C.connectorWidth)).attr(g?{}:M.connectorAttribs).addClass((g?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(C.connectorClassName||"")).add(this.legendItem.symbol)),M=E.text(this.formatLabel(M)).attr(g?{}:M.labelAttribs).css(g?{}:A.style).addClass("highcharts-bubble-legend-labels "+(C.labels.className||"")).add(this.legendItem.symbol),C={x:P+j+C.labels.x,y:f+C.labels.y+.4*M.getBBox().height},M.attr(C),U.push(M),M.placed=!0,M.alignAttr=C}getMaxLabelSize(){let M,C;return this.symbols.labels.forEach(function(A){C=A.getBBox(!0),M=M?C.width>M.width?C:M:C}),M||{}}formatLabel(M){var C=this.options;const A=C.labels.formatter;C=C.labels.format;const{numberFormatter:U}=this.chart;return C?c.format(C,M):A?A.call(M):U(M.value,1)}hideOverlappingLabels(){const M=this.chart,C=this.symbols;!this.options.labels.allowOverlap&&C&&(M.hideOverlappingLabels(C.labels),C.labels.forEach(function(A,U){A.newOpacity?A.newOpacity!==A.oldOpacity&&C.connectors[U].show():C.connectors[U].hide()}))}getRanges(){const M=this.legend.bubbleLegend,C=M.options.ranges;let A,U,$=Number.MAX_VALUE,E=-Number.MAX_VALUE;return M.chart.series.forEach(function(ee){ee.isBubble&&!ee.ignoreSeries&&(U=ee.zData.filter(O),U.length&&($=q(ee.options.zMin,Math.min($,Math.max(Y(U),ee.options.displayNegative===!1?ee.options.zThreshold:-Number.MAX_VALUE))),E=q(ee.options.zMax,Math.max(E,z(U)))))}),A=$===E?[{value:E}]:[{value:$},{value:($+E)/2},{value:E,autoRanges:!0}],C.length&&C[0].radius&&A.reverse(),A.forEach(function(ee,Q){C&&C[Q]&&(A[Q]=V(C[Q],ee))}),A}predictBubbleSizes(){var M=this.chart,C=M.legend.options,A=C.floating;const U=(C=C.layout==="horizontal")?M.legend.lastLineHeight:0,$=M.plotSizeX,E=M.plotSizeY;var ee=M.series[this.options.seriesIndex],Q=ee.getPxExtremes();M=Math.ceil(Q.minPxSize),Q=Math.ceil(Q.maxPxSize);const N=Math.min(E,$);return ee=ee.options.maxSize,A||!/%$/.test(ee)?A=Q:(ee=parseFloat(ee),A=(N+U)*ee/100/(ee/100+1),(C&&E-A>=$||!C&&$-A>=E)&&(A=Q)),[M,Math.ceil(A)]}updateRanges(M,C){const A=this.legend.options.bubbleLegend;A.minSize=M,A.maxSize=C,A.ranges=this.getRanges()}correctSizes(){const M=this.legend,C=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(C.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,C.maxPxSize),M.render())}}return I}),s(t,"Series/Bubble/BubbleLegendComposition.js",[t["Series/Bubble/BubbleLegendDefaults.js"],t["Series/Bubble/BubbleLegendItem.js"],t["Core/Defaults.js"],t["Core/Utilities.js"]],function(a,c,h,m){function n(C,A,U){const $=this.legend;var E=0<=x(this);let ee,Q;$&&$.options.enabled&&$.bubbleLegend&&$.options.bubbleLegend.autoRanges&&E?(ee=$.bubbleLegend.options,E=$.bubbleLegend.predictBubbleSizes(),$.bubbleLegend.updateRanges(E[0],E[1]),ee.placed||($.group.placed=!1,$.allItems.forEach(N=>{Q=N.legendItem||{},Q.group&&(Q.group.translateY=null)})),$.render(),this.getMargins(),this.axes.forEach(function(N){N.visible&&N.render(),ee.placed||(N.setScale(),N.updateNames(),I(N.ticks,function(j){j.isNew=!0,j.isNewLabel=!0}))}),ee.placed=!0,this.getMargins(),C.call(this,A,U),$.bubbleLegend.correctSizes(),V($,z($))):(C.call(this,A,U),$&&$.options.enabled&&$.bubbleLegend&&($.render(),V($,z($))))}function x(C){C=C.series;let A=0;for(;A<C.length;){if(C[A]&&C[A].isBubble&&C[A].visible&&C[A].zData.length)return A;A++}return-1}function z(C){C=C.allItems;const A=[],U=C.length;let $,E,ee=0;for(E=0;E<U;E++){var Q=C[E].legendItem||{};if($=(C[E+1]||{}).legendItem||{},Q.labelHeight&&(C[E].itemHeight=Q.labelHeight),C[E]===C[U-1]||Q.y!==$.y){for(A.push({height:0}),Q=A[A.length-1],ee;ee<=E;ee++)C[ee].itemHeight>Q.height&&(Q.height=C[ee].itemHeight);Q.step=E}}return A}function Y(C){const A=this.bubbleLegend,U=this.options,$=U.bubbleLegend,E=x(this.chart);A&&A.ranges&&A.ranges.length&&($.ranges.length&&($.autoRanges=!!$.ranges[0].autoRanges),this.destroyItem(A)),0<=E&&U.enabled&&$.enabled&&($.seriesIndex=E,this.bubbleLegend=new c($,this),this.bubbleLegend.addToLegend(C.allItems))}function O(C){if(C.defaultPrevented)return!1;var A=this.chart;C=this.visible;const U=this.chart.legend;U&&U.bubbleLegend&&(this.visible=!C,this.ignoreSeries=C,A=0<=x(A),U.bubbleLegend.visible!==A&&(U.update({bubbleLegend:{enabled:A}}),U.bubbleLegend.visible=A),this.visible=C)}function V(C,A){const U=C.options.rtl;let $,E,ee,Q,N=0;C.allItems.forEach((j,W)=>{Q=j.legendItem||{},Q.group&&($=Q.group.translateX||0,E=Q.y||0,((ee=j.movementX)||U&&j.ranges)&&(ee=U?$-j.options.maxSize/2:$+ee,Q.group.attr({translateX:ee})),W>A[N].step&&N++,Q.group.attr({translateY:Math.round(E+A[N].height/2)}),Q.y=E+A[N].height/2)})}const{setOptions:q}=h,{addEvent:L,objectEach:I,wrap:H}=m,M=[];return{compose:function(C,A,U){m.pushUnique(M,C)&&(q({legend:{bubbleLegend:a}}),H(C.prototype,"drawChartBox",n)),m.pushUnique(M,A)&&L(A,"afterGetAllItems",Y),m.pushUnique(M,U)&&L(U,"legendItemClick",O)}}}),s(t,"Series/Bubble/BubblePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,h){({seriesTypes:{scatter:{prototype:{pointClass:c}}}}=c),{extend:h}=h;class m extends c{constructor(){super(...arguments),this.series=this.options=void 0}haloPath(x){return a.prototype.haloPath.call(this,x===0?0:(this.marker&&this.marker.radius||0)+x)}}return h(m.prototype,{ttBelow:!1}),m}),s(t,"Series/Bubble/BubbleSeries.js",[t["Series/Bubble/BubbleLegendComposition.js"],t["Series/Bubble/BubblePoint.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,h,m,n,x){function z(){const Q=this.len,N=this.chart,j=this.isXAxis,W=j?"xData":"yData",S=this.min,P=this.max-S;let f=0,g=Q,b=Q/P,D;this.series.forEach(X=>{if(X.bubblePadding&&(X.visible||!N.options.chart.ignoreHiddenSeries)){D=this.allowZoomOutside=!0;const te=X[W];if(j&&((X.onPoint||X).getRadii(0,0,X),X.onPoint&&(X.radii=X.onPoint.radii)),0<P){let Z=te.length;for(;Z--;)if(A(te[Z])&&this.dataMin<=te[Z]&&te[Z]<=this.max){const de=X.radii&&X.radii[Z]||0;f=Math.min((te[Z]-S)*b-de,f),g=Math.max((te[Z]-S)*b+de,g)}}}}),D&&0<P&&!this.logarithmic&&(g-=Q,b*=(Q+Math.max(0,f)-Math.min(g,Q))/Q,[["min","userMin",f],["max","userMax",g]].forEach(X=>{typeof $(this.options[X[0]],this[X[1]])>"u"&&(this[X[0]]+=X[2]/b)}))}const{parse:Y}=h;({noop:h}=m);const{series:O,seriesTypes:{column:{prototype:V},scatter:q}}=n,{addEvent:L,arrayMax:I,arrayMin:H,clamp:M,extend:C,isNumber:A,merge:U,pick:$}=x,E=[];class ee extends q{constructor(){super(...arguments),this.zData=this.yData=this.radii=this.points=this.options=this.minPxSize=this.maxPxSize=this.data=void 0}static compose(N,j,W,S){a.compose(j,W,S),x.pushUnique(E,N)&&(N.prototype.beforePadding=z)}animate(N){!N&&this.points.length<this.options.animationLimit&&this.points.forEach(function(j){const{graphic:W}=j;W&&W.width&&(this.hasRendered||W.attr({x:j.plotX,y:j.plotY,width:1,height:1}),W.animate(this.markerAttribs(j),this.options.animation))},this)}getRadii(){const N=this.zData,j=this.yData,W=[];let S,P,f,g=this.chart.bubbleZExtremes;const{minPxSize:b,maxPxSize:D}=this.getPxExtremes();if(!g){let X=Number.MAX_VALUE,te=-Number.MAX_VALUE,Z;this.chart.series.forEach(de=>{de.bubblePadding&&(de.visible||!this.chart.options.chart.ignoreHiddenSeries)&&(de=(de.onPoint||de).getZExtremes())&&(X=Math.min($(X,de.zMin),de.zMin),te=Math.max($(te,de.zMax),de.zMax),Z=!0)}),Z?(g={zMin:X,zMax:te},this.chart.bubbleZExtremes=g):g={zMin:0,zMax:0}}for(P=0,S=N.length;P<S;P++)f=N[P],W.push(this.getRadius(g.zMin,g.zMax,b,D,f,j&&j[P]));this.radii=W}getRadius(N,j,W,S,P,f){const g=this.options,b=g.sizeBy!=="width",D=g.zThreshold;let X=j-N,te=.5;if(f===null||P===null)return null;if(A(P)){if(g.sizeByAbsoluteValue&&(P=Math.abs(P-D),X=Math.max(j-D,Math.abs(N-D)),N=0),P<N)return W/2-1;0<X&&(te=(P-N)/X)}return b&&0<=te&&(te=Math.sqrt(te)),Math.ceil(W+te*(S-W))/2}hasData(){return!!this.processedXData.length}pointAttribs(N,j){const W=this.options.marker.fillOpacity;return N=O.prototype.pointAttribs.call(this,N,j),W!==1&&(N.fill=Y(N.fill).setOpacity(W).get("rgba")),N}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){const{data:N,radii:j}=this,{minPxSize:W}=this.getPxExtremes();let S=N.length;for(;S--;){const P=N[S],f=j?j[S]:0;A(f)&&f>=W/2?(P.marker=C(P.marker,{radius:f,width:2*f,height:2*f}),P.dlBox={x:P.plotX-f,y:P.plotY-f,width:2*f,height:2*f}):(P.shapeArgs=P.plotY=P.dlBox=void 0,P.isInside=!1)}}getPxExtremes(){const N=Math.min(this.chart.plotWidth,this.chart.plotHeight);var j=S=>{let P;return typeof S=="string"&&(P=/%$/.test(S),S=parseInt(S,10)),P?N*S/100:S};const W=j($(this.options.minSize,8));return j=Math.max(j($(this.options.maxSize,"20%")),W),{minPxSize:W,maxPxSize:j}}getZExtremes(){var N=this.options;const j=(this.zData||[]).filter(A);if(j.length){const W=$(N.zMin,M(H(j),N.displayNegative===!1?N.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(N=$(N.zMax,I(j)),A(W)&&A(N))return{zMin:W,zMax:N}}}}return ee.defaultOptions=U(q.defaultOptions,{dataLabels:{formatter:function(){const{numberFormatter:Q}=this.series.chart,{z:N}=this.point;return A(N)?Q(N,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),C(ee.prototype,{alignDataLabel:V.alignDataLabel,applyZones:h,bubblePadding:!0,buildKDTree:h,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:c,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),L(ee,"updatedData",Q=>{delete Q.target.chart.bubbleZExtremes}),L(ee,"remove",Q=>{delete Q.target.chart.bubbleZExtremes}),n.registerSeriesType("bubble",ee),ee}),s(t,"Series/ColumnRange/ColumnRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c){const{seriesTypes:{column:{prototype:{pointClass:{prototype:h}}},arearange:{prototype:{pointClass:m}}}}=a,{extend:n,isNumber:x}=c;class z extends m{constructor(){super(...arguments),this.series=this.options=void 0}isValid(){return x(this.low)}}return n(z.prototype,{setState:h.setState}),z}),s(t,"Series/ColumnRange/ColumnRangeSeries.js",[t["Series/ColumnRange/ColumnRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,h,m){({noop:c}=c);const{seriesTypes:{arearange:n,column:x,column:{prototype:z}}}=h,{addEvent:Y,clamp:O,extend:V,isNumber:q,merge:L,pick:I}=m;class H extends n{setOptions(){return L(!0,arguments[0],{stacking:void 0}),n.prototype.setOptions.apply(this,arguments)}translate(){return z.translate.apply(this)}pointAttribs(){return z.pointAttribs.apply(this,arguments)}translate3dPoints(){return z.translate3dPoints.apply(this,arguments)}translate3dShapes(){return z.translate3dShapes.apply(this,arguments)}}return H.defaultOptions=L(x.defaultOptions,n.defaultOptions,{borderRadius:{where:"all"},pointRange:null,marker:null,states:{hover:{halo:!1}}}),Y(H,"afterColumnTranslate",function(){const M=this.yAxis,C=this.xAxis,A=C.startAngleRad,U=this.chart,$=this.xAxis.isRadial,E=Math.max(U.chartWidth,U.chartHeight)+999;let ee,Q,N,j;this.points.forEach(W=>{const S=W.shapeArgs||{},P=this.options.minPointLength,f=W.plotY,g=M.translate(W.high,0,1,0,1);if(q(g)&&q(f))if(W.plotHigh=O(g,-E,E),W.plotLow=O(f,-E,E),j=W.plotHigh,ee=I(W.rectPlotY,W.plotY)-W.plotHigh,Math.abs(ee)<P?(Q=P-ee,ee+=Q,j-=Q/2):0>ee&&(ee*=-1,j-=ee),$&&this.polar)N=W.barX+A,W.shapeType="arc",W.shapeArgs=this.polar.arc(j+ee,j,N,N+W.pointWidth);else{S.height=ee,S.y=j;const{x:b=0,width:D=0}=S;W.shapeArgs=L(W.shapeArgs,this.crispCol(b,j,D,ee)),W.tooltipPos=U.inverted?[M.len+M.pos-U.plotLeft-j-ee/2,C.len+C.pos-U.plotTop-b-D/2,ee]:[C.left-U.plotLeft+b+D/2,M.pos-U.plotTop+j+ee/2,ee]}})},{order:5}),V(H.prototype,{directTouch:!0,pointClass:a,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:z.adjustForMissingColumns,animate:z.animate,crispCol:z.crispCol,drawGraph:c,drawPoints:z.drawPoints,getSymbol:c,drawTracker:z.drawTracker,getColumnMetrics:z.getColumnMetrics}),h.registerSeriesType("columnrange",H),H}),s(t,"Series/ColumnPyramid/ColumnPyramidSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,h){const{prototype:m}=a,{clamp:n,merge:x,pick:z}=h;class Y extends a{constructor(){super(...arguments),this.points=this.options=this.data=void 0}translate(){let V=this,q=V.chart,L=V.options;var I=V.dense=2>V.closestPointRange*V.xAxis.transA;I=V.borderWidth=z(L.borderWidth,I?0:1);let H=V.yAxis,M=L.threshold,C=V.translatedThreshold=H.getThreshold(M),A=z(L.minPointLength,5),U=V.getColumnMetrics(),$=U.width,E=V.barW=Math.max($,1+2*I),ee=V.pointXOffset=U.offset;q.inverted&&(C-=.5),L.pointPadding&&(E=Math.ceil(E)),m.translate.apply(V),V.points.forEach(function(Q){var N=z(Q.yBottom,C),j=999+Math.abs(N),W=n(Q.plotY,-j,H.len+j);j=Q.plotX+ee;let S=E/2,P=Math.min(W,N);N=Math.max(W,N)-P;var f;let g,b;Q.barX=j,Q.pointWidth=$,Q.tooltipPos=q.inverted?[H.len+H.pos-q.plotLeft-W,V.xAxis.len-j-S,N]:[j+S,W+H.pos-q.plotTop,N],W=M+(Q.total||Q.y),L.stacking==="percent"&&(W=M+(0>Q.y)?-100:100),W=H.toPixels(W,!0);var D=(f=q.plotHeight-W-(q.plotHeight-C))?S*(P-W)/f:0,X=f?S*(P+N-W)/f:0;f=j-D+S,D=j+D+S;var te=j+X+S;X=j-X+S,g=P-A,b=P+N,0>Q.y&&(g=P,b=P+N+A),q.inverted&&(te=H.width-P,f=W-(H.width-C),D=S*(W-te)/f,X=S*(W-(te-N))/f,f=j+S+D,D=f-2*D,te=j-X+S,X=j+X+S,g=P,b=P+N-A,0>Q.y&&(b=P+N+A)),Q.shapeType="path",Q.shapeArgs={x:f,y:g,width:D-f,height:N,d:[["M",f,g],["L",D,g],["L",te,b],["L",X,b],["Z"]]}})}}return Y.defaultOptions=x(a.defaultOptions,{}),c.registerSeriesType("columnpyramid",Y),Y}),s(t,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),s(t,"Series/ErrorBar/ErrorBarSeries.js",[t["Series/BoxPlot/BoxPlotSeries.js"],t["Series/Column/ColumnSeries.js"],t["Series/ErrorBar/ErrorBarSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,h,m,n){const{arearange:x}=m.seriesTypes,{addEvent:z,merge:Y,extend:O}=n;class V extends a{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||c.prototype.getColumnMetrics.call(this)}drawDataLabels(){const L=this.pointValKey;x&&(x.prototype.drawDataLabels.call(this),this.data.forEach(function(I){I.y=I[L]}))}toYData(L){return[L.low,L.high]}}return V.defaultOptions=Y(a.defaultOptions,h),z(V,"afterTranslate",function(){this.points.forEach(q=>{q.plotLow=q.plotY})},{order:0}),O(V.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),m.registerSeriesType("errorbar",V),V}),s(t,"Series/Gauge/GaugePoint.js",[t["Core/Series/SeriesRegistry.js"]],function(a){({series:{prototype:{pointClass:a}}}=a);class c extends a{constructor(){super(...arguments),this.shapeArgs=this.series=this.options=void 0}setState(m){this.state=m}}return c}),s(t,"Series/Gauge/GaugeSeries.js",[t["Series/Gauge/GaugePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,h,m){({noop:c}=c);const{series:n,seriesTypes:{column:x}}=h,{clamp:z,isNumber:Y,extend:O,merge:V,pick:q,pInt:L,defined:I}=m;class H extends n{constructor(){super(...arguments),this.yAxis=this.options=this.points=this.data=void 0}translate(){const C=this.yAxis,A=this.options,U=C.center;this.generatePoints(),this.points.forEach($=>{const E=V(A.dial,$.dial),ee=L(E.radius)*U[2]/200,Q=L(E.baseLength)*ee/100,N=L(E.rearLength)*ee/100,j=E.baseWidth,W=E.topWidth;let S=A.overshoot,P=C.startAngleRad+C.translate($.y,void 0,void 0,void 0,!0);(Y(S)||A.wrap===!1)&&(S=Y(S)?S/180*Math.PI:0,P=z(P,C.startAngleRad-S,C.endAngleRad+S)),P=180*P/Math.PI,$.shapeType="path",$.shapeArgs={d:E.path||[["M",-N,-j/2],["L",Q,-j/2],["L",ee,-W/2],["L",ee,W/2],["L",Q,j/2],["L",-N,j/2],["Z"]],translateX:U[0],translateY:U[1],rotation:P},$.plotX=U[0],$.plotY=U[1],I($.y)&&C.max-C.min&&($.percentage=($.y-C.min)/(C.max-C.min)*100)})}drawPoints(){const C=this,A=C.chart,U=C.yAxis.center,$=C.pivot,E=C.options,ee=E.pivot,Q=A.renderer;C.points.forEach(N=>{const j=N.graphic,W=N.shapeArgs,S=W.d,P=V(E.dial,N.dial);j?(j.animate(W),W.d=S):N.graphic=Q[N.shapeType](W).addClass("highcharts-dial").add(C.group),A.styledMode||N.graphic[j?"animate":"attr"]({stroke:P.borderColor,"stroke-width":P.borderWidth,fill:P.backgroundColor})}),$?$.animate({translateX:U[0],translateY:U[1]}):ee&&(C.pivot=Q.circle(0,0,ee.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(U[0],U[1]).add(C.group),A.styledMode||C.pivot.attr({fill:ee.backgroundColor,stroke:ee.borderColor,"stroke-width":ee.borderWidth}))}animate(C){const A=this;C||A.points.forEach(U=>{const $=U.graphic;$&&($.attr({rotation:180*A.yAxis.startAngleRad/Math.PI}),$.animate({rotation:U.shapeArgs.rotation},A.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),n.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(C,A){n.prototype.setData.call(this,C,!1),this.processData(),this.generatePoints(),q(A,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return H.defaultOptions=V(n.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),O(H.prototype,{angular:!0,directTouch:!0,drawGraph:c,drawTracker:x.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:a,trackerGroups:["group","dataLabelsGroup"]}),h.registerSeriesType("gauge",H),H}),s(t,"Series/DragNodesComposition.js",[t["Core/Utilities.js"]],function(a){function c(){const n=this;let x,z,Y;n.container&&(x=h(n.container,"mousedown",O=>{const V=n.hoverPoint;V&&V.series&&V.series.hasDraggableNodes&&V.series.options.draggable&&(V.series.onMouseDown(V,O),z=h(n.container,"mousemove",q=>V&&V.series&&V.series.onMouseMove(V,q)),Y=h(n.container.ownerDocument,"mouseup",q=>(z(),Y(),V&&V.series&&V.series.onMouseUp(V,q))))})),h(n,"destroy",function(){x()})}const{addEvent:h}=a,m=[];return{compose:function(n){a.pushUnique(m,n)&&h(n,"load",c)},onMouseDown:function(n,x){x=this.chart.pointer.normalize(x),n.fixedPosition={chartX:x.chartX,chartY:x.chartY,plotX:n.plotX,plotY:n.plotY},n.inDragMode=!0},onMouseMove:function(n,x){if(n.fixedPosition&&n.inDragMode){const O=this.chart;x=O.pointer.normalize(x);var z=n.fixedPosition.chartX-x.chartX,Y=n.fixedPosition.chartY-x.chartY;x=O.graphLayoutsLookup,(5<Math.abs(z)||5<Math.abs(Y))&&(z=n.fixedPosition.plotX-z,Y=n.fixedPosition.plotY-Y,O.isInsidePlot(z,Y)&&(n.plotX=z,n.plotY=Y,n.hasDragged=!0,this.redrawHalo(n),x.forEach(V=>{V.restartSimulation()})))}},onMouseUp:function(n,x){n.fixedPosition&&(n.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),n.inDragMode=n.hasDragged=!1,this.options.fixedDraggable||delete n.fixedPosition)},redrawHalo:function(n){n&&this.halo&&this.halo.attr({d:n.haloPath(this.options.states.hover.halo.size)})}}}),s(t,"Series/GraphLayoutComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Utilities.js"]],function(a,c){function h(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(V=>{V.updateSimulation()}),this.redraw())}function m(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(V=>{V.updateSimulation(!1)}),this.redraw())}function n(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(V=>{V.stop()})}function x(){let V,q=!1;const L=I=>{I.maxIterations--&&isFinite(I.temperature)&&!I.isStable()&&!I.enableSimulation&&(I.beforeStep&&I.beforeStep(),I.step(),V=!1,q=!0)};if(this.graphLayoutsLookup){for(z(!1,this),this.graphLayoutsLookup.forEach(I=>I.start());!V;)V=!0,this.graphLayoutsLookup.forEach(L);q&&this.series.forEach(I=>{I&&I.layout&&I.render()})}}const{setAnimation:z}=a,{addEvent:Y}=c,O=[];return{compose:function(V){c.pushUnique(O,V)&&(Y(V,"afterPrint",h),Y(V,"beforePrint",m),Y(V,"predraw",n),Y(V,"render",x))},integrations:{},layouts:{}}}),s(t,"Series/PackedBubble/PackedBubblePoint.js",[t["Core/Chart/Chart.js"],t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"]],function(a,c,h){({seriesTypes:{bubble:{prototype:{pointClass:h}}}}=h);class m extends h{constructor(){super(...arguments),this.radius=this.mass=this.degree=NaN,this.series=this.options=void 0,this.value=null}destroy(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),c.prototype.destroy.apply(this,arguments)}firePointEvent(){const x=this.series.options;if(this.isParentNode&&x.parentNode){const z=x.allowPointSelect;x.allowPointSelect=x.parentNode.allowPointSelect,c.prototype.firePointEvent.apply(this,arguments),x.allowPointSelect=z}else c.prototype.firePointEvent.apply(this,arguments)}select(){const x=this.series.chart;this.isParentNode?(x.getSelectedPoints=x.getSelectedParentNodes,c.prototype.select.apply(this,arguments),x.getSelectedPoints=a.prototype.getSelectedPoints):c.prototype.select.apply(this,arguments)}}return m}),s(t,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[t["Core/Utilities.js"]],function(a){const{isNumber:c}=a;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){const{numberFormatter:h}=this.series.chart,{value:m}=this.point;return c(m)?h(m,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),s(t,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(a,c,h){const m=a.getMass(),n=-h.x*c*this.diffTemperature;c=-h.y*c*this.diffTemperature,a.fromNode.fixedPosition||(a.fromNode.plotX-=n*m.fromNode/a.fromNode.degree,a.fromNode.plotY-=c*m.fromNode/a.fromNode.degree),a.toNode.fixedPosition||(a.toNode.plotX+=n*m.toNode/a.toNode.degree,a.toNode.plotY+=c*m.toNode/a.toNode.degree)},attractiveForceFunction:function(a,c){return(c-a)/a},barycenter:function(){let a=this.options.gravitationalConstant,c=this.barycenter.xFactor,h=this.barycenter.yFactor;c=(c-(this.box.left+this.box.width)/2)*a,h=(h-(this.box.top+this.box.height)/2)*a,this.nodes.forEach(function(m){m.fixedPosition||(m.plotX-=c/m.mass/m.degree,m.plotY-=h/m.mass/m.degree)})},getK:function(a){return Math.pow(a.box.width*a.box.height/a.nodes.length,.5)},integrate:function(a,c){var h=-a.options.friction;let m=a.options.maxSpeed,n=(c.plotX+c.dispX-c.prevX)*h;h*=c.plotY+c.dispY-c.prevY;var x=Math.abs;let z=x(n)/(n||1);x=x(h)/(h||1),n=z*Math.min(m,Math.abs(n)),h=x*Math.min(m,Math.abs(h)),c.prevX=c.plotX+c.dispX,c.prevY=c.plotY+c.dispY,c.plotX+=n,c.plotY+=h,c.temperature=a.vectorLength({x:n,y:h})},repulsive:function(a,c,h){c=c*this.diffTemperature/a.mass/a.degree,a.fixedPosition||(a.plotX+=h.x*c,a.plotY+=h.y*c)},repulsiveForceFunction:function(a,c){return(c-a)/a*(c>a?1:0)}}}),s(t,"Series/PackedBubble/PackedBubbleIntegration.js",[t["Core/Globals.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(a,c){return{noop:a}=a,{barycenter:function(){const h=this.options.gravitationalConstant,m=this.box,n=this.nodes;let x,z;for(const Y of n)this.options.splitSeries&&!Y.isParentNode?(x=Y.series.parentNode.plotX,z=Y.series.parentNode.plotY):(x=m.width/2,z=m.height/2),Y.fixedPosition||(Y.plotX-=(Y.plotX-x)*h/(Y.mass*Math.sqrt(n.length)),Y.plotY-=(Y.plotY-z)*h/(Y.mass*Math.sqrt(n.length)))},getK:a,integrate:c.integrate,repulsive:function(h,m,n,x){const z=m*this.diffTemperature/h.mass/h.degree;m=n.x*z,n=n.y*z,h.fixedPosition||(h.plotX+=m,h.plotY+=n),x.fixedPosition||(x.plotX-=m,x.plotY-=n)},repulsiveForceFunction:function(h,m,n,x){return Math.min(h,(n.marker.radius+x.marker.radius)/2)}}}),s(t,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(a,c,h,m){const n=a.getMass(),x=h.x/m*c;c*=h.y/m,a.fromNode.fixedPosition||(a.fromNode.dispX-=x*n.fromNode/a.fromNode.degree,a.fromNode.dispY-=c*n.fromNode/a.fromNode.degree),a.toNode.fixedPosition||(a.toNode.dispX+=x*n.toNode/a.toNode.degree,a.toNode.dispY+=c*n.toNode/a.toNode.degree)},attractiveForceFunction:function(a,c){return a*a/c},barycenter:function(){const a=this.options.gravitationalConstant,c=this.barycenter.xFactor,h=this.barycenter.yFactor;this.nodes.forEach(function(m){if(!m.fixedPosition){var n=m.getDegree();n*=1+n/2,m.dispX+=(c-m.plotX)*a*n/m.degree,m.dispY+=(h-m.plotY)*a*n/m.degree}})},getK:function(a){return Math.pow(a.box.width*a.box.height/a.nodes.length,.3)},integrate:function(a,c){let h;c.dispX+=c.dispX*a.options.friction,c.dispY+=c.dispY*a.options.friction,h=c.temperature=a.vectorLength({x:c.dispX,y:c.dispY}),h!==0&&(c.plotX+=c.dispX/h*Math.min(Math.abs(c.dispX),a.temperature),c.plotY+=c.dispY/h*Math.min(Math.abs(c.dispY),a.temperature))},repulsive:function(a,c,h,m){a.dispX+=h.x/m*c/a.degree,a.dispY+=h.y/m*c/a.degree},repulsiveForceFunction:function(a,c){return c*c/a}}}),s(t,"Series/Networkgraph/QuadTreeNode.js",[],function(){class a{constructor(h){this.isInternal=this.isEmpty=this.body=!1,this.nodes=[],this.box=h,this.boxSize=Math.min(h.width,h.height)}divideBox(){const h=this.box.width/2,m=this.box.height/2;this.nodes[0]=new a({left:this.box.left,top:this.box.top,width:h,height:m}),this.nodes[1]=new a({left:this.box.left+h,top:this.box.top,width:h,height:m}),this.nodes[2]=new a({left:this.box.left+h,top:this.box.top+m,width:h,height:m}),this.nodes[3]=new a({left:this.box.left,top:this.box.top+m,width:h,height:m})}getBoxPosition(h){const m=h.plotY<this.box.top+this.box.height/2;return h.plotX<this.box.left+this.box.width/2?m?0:3:m?1:2}insert(h,m){this.isInternal?this.nodes[this.getBoxPosition(h)].insert(h,m-1):(this.isEmpty=!1,this.body?m?(this.isInternal=!0,this.divideBox(),this.body!==!0&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,m-1),this.body=!0),this.nodes[this.getBoxPosition(h)].insert(h,m-1)):(m=new a({top:h.plotX||NaN,left:h.plotY||NaN,width:.1,height:.1}),m.body=h,m.isInternal=!1,this.nodes.push(m)):(this.isInternal=!1,this.body=h))}updateMassAndCenter(){let h=0,m=0,n=0;if(this.isInternal){for(const x of this.nodes)x.isEmpty||(h+=x.mass,m+=x.plotX*x.mass,n+=x.plotY*x.mass);m/=h,n/=h}else this.body&&(h=this.body.mass,m=this.body.plotX,n=this.body.plotY);this.mass=h,this.plotX=m,this.plotY=n}}return a}),s(t,"Series/Networkgraph/QuadTree.js",[t["Series/Networkgraph/QuadTreeNode.js"]],function(a){class c{constructor(m,n,x,z){this.box={left:m,top:n,width:x,height:z},this.maxDepth=25,this.root=new a(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(m){m.updateMassAndCenter()})}insertNodes(m){for(const n of m)this.root.insert(n,this.maxDepth)}visitNodeRecursive(m,n,x){let z;if(m||(m=this.root),m===this.root&&n&&(z=n(m)),z!==!1){for(const Y of m.nodes){if(Y.isInternal){if(n&&(z=n(Y)),z===!1)continue;this.visitNodeRecursive(Y,n,x)}else Y.body&&n&&n(Y.body);x&&x(Y)}m===this.root&&x&&x(m)}}}return c}),s(t,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[t["Series/Networkgraph/EulerIntegration.js"],t["Core/Globals.js"],t["Series/GraphLayoutComposition.js"],t["Series/Networkgraph/QuadTree.js"],t["Core/Utilities.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(a,c,h,m,n,x){const{win:z}=c,{clamp:Y,defined:O,isFunction:V,fireEvent:q,pick:L}=n;class I{constructor(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.repulsiveForce=this.quadTree=this.options=void 0,this.series=[],this.simulation=!1}static compose(M){h.compose(M),h.integrations.euler=a,h.integrations.verlet=x,h.layouts["reingold-fruchterman"]=I}init(M){this.options=M,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=h.integrations[M.integration],this.enableSimulation=M.enableSimulation,this.attractiveForce=L(M.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=L(M.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=M.approximation}updateSimulation(M){this.enableSimulation=L(M,this.options.enableSimulation)}start(){const M=this.series,C=this.options;this.currentStep=0,this.forces=M[0]&&M[0].forces||[],this.chart=M[0]&&M[0].chart,this.initialRendering&&(this.initPositions(),M.forEach(function(A){A.finishedAnimating=!0,A.render()})),this.setK(),this.resetSimulation(C),this.enableSimulation&&this.step()}step(){const M=this.series;this.currentStep++,this.approximation==="barnes-hut"&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(const C of this.forces||[])this[C+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(const C of M)C.chart&&C.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&z.cancelAnimationFrame(this.simulation),this.simulation=z.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(C=>{q(C,"afterSimulation")}))}}stop(){this.simulation&&z.cancelAnimationFrame(this.simulation)}setArea(M,C,A,U){this.box={left:M,top:C,width:A,height:U}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(M,C){for(const A of M)C.indexOf(A)===-1&&C.push(A)}removeElementFromCollection(M,C){M=C.indexOf(M),M!==-1&&C.splice(M,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(M){this.maxIterations=L(M,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(M){this.initialRendering=M}createQuadTree(){this.quadTree=new m(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){const M=this.options.initialPositions;if(V(M)){M.call(this);for(const C of this.nodes)O(C.prevX)||(C.prevX=C.plotX),O(C.prevY)||(C.prevY=C.plotY),C.dispX=0,C.dispY=0}else M==="circle"?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){const M=this.box;var C=this.nodes;const A=2*Math.PI/(C.length+1),U=C.filter(function(N){return N.linksTo.length===0}),$={},E=this.options.initialPositionRadius,ee=N=>{for(const j of N.linksFrom||[])$[j.toNode.id]||($[j.toNode.id]=!0,Q.push(j.toNode),ee(j.toNode))};let Q=[];for(const N of U)Q.push(N),ee(N);if(Q.length)for(const N of C)Q.indexOf(N)===-1&&Q.push(N);else Q=C;for(let N=0,j=Q.length;N<j;++N)C=Q[N],C.plotX=C.prevX=L(C.plotX,M.width/2+E*Math.cos(N*A)),C.plotY=C.prevY=L(C.plotY,M.height/2+E*Math.sin(N*A)),C.dispX=0,C.dispY=0}setRandomPositions(){const M=this.box,C=this.nodes,A=C.length+1,U=E=>(E=E*E/Math.PI,E-=Math.floor(E));let $;for(let E=0,ee=C.length;E<ee;++E)$=C[E],$.plotX=$.prevX=L($.plotX,M.width*U(E)),$.plotY=$.prevY=L($.plotY,M.height*U(A+E)),$.dispX=0,$.dispY=0}force(M,...C){this.integration[M].apply(this,C)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let M=0,C=0,A=0;for(const U of this.nodes)C+=U.plotX*U.mass,A+=U.plotY*U.mass,M+=U.mass;return this.barycenter={x:C,y:A,xFactor:C/M,yFactor:A/M}}barnesHutApproximation(M,C){const A=this.getDistXY(M,C),U=this.vectorLength(A);let $,E;return M!==C&&U!==0&&(C.isInternal?C.boxSize/U<this.options.theta&&U!==0?(E=this.repulsiveForce(U,this.k),this.force("repulsive",M,E*C.mass,A,U),$=!1):$=!0:(E=this.repulsiveForce(U,this.k),this.force("repulsive",M,E*C.mass,A,U))),$}repulsiveForces(){if(this.approximation==="barnes-hut")for(const M of this.nodes)this.quadTree.visitNodeRecursive(null,C=>this.barnesHutApproximation(M,C));else{let M,C,A;for(const U of this.nodes)for(const $ of this.nodes)U===$||U.fixedPosition||(A=this.getDistXY(U,$),C=this.vectorLength(A),C!==0&&(M=this.repulsiveForce(C,this.k),this.force("repulsive",U,M*$.mass,A,C)))}}attractiveForces(){let M,C,A;for(const U of this.links)U.fromNode&&U.toNode&&(M=this.getDistXY(U.fromNode,U.toNode),C=this.vectorLength(M),C!==0&&(A=this.attractiveForce(C,this.k),this.force("attractive",U,A,M,C)))}applyLimits(){const M=this.nodes;for(const C of M){if(C.fixedPosition)break;this.integration.integrate(this,C),this.applyLimitBox(C,this.box),C.dispX=0,C.dispY=0}}applyLimitBox(M,C){const A=M.radius;M.plotX=Y(M.plotX,C.left+A,C.width-A),M.plotY=Y(M.plotY,C.top+A,C.height-A)}coolDown(M,C,A){return M-C*A}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature}getSystemTemperature(){let M=0;for(const C of this.nodes)M+=C.temperature;return M}vectorLength(M){return Math.sqrt(M.x*M.x+M.y*M.y)}getDistR(M,C){return M=this.getDistXY(M,C),this.vectorLength(M)}getDistXY(M,C){const A=M.plotX-C.plotX;return M=M.plotY-C.plotY,{x:A,y:M,absX:Math.abs(A),absY:Math.abs(M)}}}return I}),s(t,"Series/PackedBubble/PackedBubbleLayout.js",[t["Series/GraphLayoutComposition.js"],t["Series/PackedBubble/PackedBubbleIntegration.js"],t["Series/Networkgraph/ReingoldFruchtermanLayout.js"],t["Core/Utilities.js"]],function(a,c,h,m){function n(){const q=[];return this.series.forEach(L=>{L.parentNode&&L.parentNode.selected&&q.push(L.parentNode)}),q}function x(){this.allDataPoints&&delete this.allDataPoints}const{addEvent:z,pick:Y}=m,O=[];class V extends h{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.options=void 0,this.series=[]}static compose(L){h.compose(L),a.integrations.packedbubble=c,a.layouts.packedbubble=V,m.pushUnique(O,L)&&(z(L,"beforeRedraw",x),L.prototype.getSelectedParentNodes=n)}beforeStep(){this.options.marker&&this.series.forEach(L=>{L&&L.calculateParentRadius()})}isStable(){const L=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&1e-5>L||0>=this.temperature}setCircularPositions(){const L=this.box;var I=this.nodes;const H=2*Math.PI/(I.length+1),M=this.options.initialPositionRadius;let C,A=0;for(const U of I)this.options.splitSeries&&!U.isParentNode?(I=U.series.parentNode.plotX,C=U.series.parentNode.plotY):(I=L.width/2,C=L.height/2),U.plotX=U.prevX=Y(U.plotX,I+M*Math.cos(U.index||A*H)),U.plotY=U.prevY=Y(U.plotY,C+M*Math.sin(U.index||A*H)),U.dispX=0,U.dispY=0,A++}repulsiveForces(){const L=this,I=L.options.bubblePadding;let H,M,C;L.nodes.forEach(A=>{A.degree=A.mass,A.neighbours=0,L.nodes.forEach(U=>{H=0,A===U||A.fixedPosition||!L.options.seriesInteraction&&A.series!==U.series||(C=L.getDistXY(A,U),M=L.vectorLength(C)-(A.marker.radius+U.marker.radius+I),0>M&&(A.degree+=.01,A.neighbours++,H=L.repulsiveForce(-M/Math.sqrt(A.neighbours),L.k,A,U)),L.force("repulsive",A,H*U.mass,C,U,M))})})}applyLimitBox(L,I){let H,M;this.options.splitSeries&&!L.isParentNode&&this.options.parentNodeLimit&&(H=this.getDistXY(L,L.series.parentNode),M=L.series.parentNodeRadius-L.marker.radius-this.vectorLength(H),0>M&&M>-2*L.marker.radius&&(L.plotX-=.01*H.x,L.plotY-=.01*H.y)),super.applyLimitBox(L,I)}}return a.layouts.packedbubble=V}),s(t,"Series/SimulationSeriesUtilities.js",[t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],function(a,c){const{syncTimeout:h}=a,{animObject:m}=c;return{initDataLabels:function(){const n=this.options.dataLabels;if(!this.dataLabelsGroup){const x=this.initDataLabelsGroup();return!this.chart.styledMode&&(n!=null&&n.style)&&x.css(n.style),x.attr({opacity:0}),this.visible&&x.show(),x}return this.dataLabelsGroup.attr({opacity:1}),this.dataLabelsGroup},initDataLabelsDefer:function(){var n;const x=this.options.dataLabels;x!=null&&x.defer&&(!((n=this.options.layoutAlgorithm)===null||n===void 0)&&n.enableSimulation)?h(()=>{this.deferDataLabels=!1},x?m(x.animation).defer:0):this.deferDataLabels=!1}}}),s(t,"Series/PackedBubble/PackedBubbleSeries.js",[t["Core/Color/Color.js"],t["Series/DragNodesComposition.js"],t["Series/GraphLayoutComposition.js"],t["Core/Globals.js"],t["Series/PackedBubble/PackedBubblePoint.js"],t["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],t["Series/PackedBubble/PackedBubbleLayout.js"],t["Core/Series/SeriesRegistry.js"],t["Series/SimulationSeriesUtilities.js"],t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],function(a,c,h,m,n,x,z,Y,O,V,q){const{parse:L}=a;({noop:a}=m);const{series:{prototype:I},seriesTypes:{bubble:H}}=Y,{initDataLabels:M,initDataLabelsDefer:C}=O,{addEvent:A,clamp:U,defined:$,extend:E,fireEvent:ee,isArray:Q,isNumber:N,merge:j,pick:W}=V;class S extends H{constructor(){super(...arguments),this.options=this.layout=this.data=this.chart=void 0,this.parentNodeMass=0,this.xData=this.points=void 0,this.deferDataLabels=!0}static compose(f,g,b,D){H.compose(f,g,b,D),c.compose(g),z.compose(g)}accumulateAllPoints(){const f=this.chart,g=[];let b;for(const D of f.series)if(D.is("packedbubble")&&D.visible||!f.options.chart.ignoreHiddenSeries){b=D.yData||[];for(let X=0;X<b.length;X++)g.push([null,null,b[X],D.index,X,{id:X,marker:{radius:0}}])}return g}addLayout(){const f=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},g=f.type||"packedbubble",b=this.chart.options.chart;let D=this.chart.graphLayoutsStorage,X=this.chart.graphLayoutsLookup,te;D||(this.chart.graphLayoutsStorage=D={},this.chart.graphLayoutsLookup=X=[]),te=D[g],te||(f.enableSimulation=$(b.forExport)?!b.forExport:f.enableSimulation,D[g]=te=new h.layouts[g],te.init(f),X.splice(te.index,0,te)),this.layout=te,this.points.forEach(Z=>{Z.mass=2,Z.degree=1,Z.collisionNmb=1}),te.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),te.addElementsToCollection([this],te.series),te.addElementsToCollection(this.points,te.nodes)}addSeriesLayout(){var f=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{};const g=f.type||"packedbubble",b=this.chart.graphLayoutsStorage,D=this.chart.graphLayoutsLookup;f=j(f,f.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation});let X=b[g+"-series"];X||(b[g+"-series"]=X=new h.layouts[g],X.init(f),D.splice(X.index,0,X)),this.parentNodeLayout=X,this.createParentNodes()}calculateParentRadius(){const f=this.seriesBox();this.parentNodeRadius=U(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,f?Math.max(Math.sqrt(Math.pow(f.width,2)+Math.pow(f.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let f=this.options.zMin,g=this.options.zMax,b=1/0,D=-1/0;return f&&g?[f,g]:(this.chart.series.forEach(X=>{X.yData.forEach(te=>{$(te)&&(te>D&&(D=te),te<b&&(b=te))})}),f=W(f,b),g=W(g,D),[f,g])}checkOverlap(f,g){const b=f[0]-g[0],D=f[1]-g[1];return-.001>Math.sqrt(b*b+D*D)-Math.abs(f[2]+g[2])}createParentNodes(){const f=this.pointClass,g=this.chart,b=this.parentNodeLayout,D=this.layout.options;let X,te=this.parentNode,Z={radius:this.parentNodeRadius,lineColor:this.color,fillColor:L(this.color).brighten(.4).get()};D.parentNodeOptions&&(Z=j(D.parentNodeOptions.marker||{},Z)),this.parentNodeMass=0,this.points.forEach(de=>{this.parentNodeMass+=Math.PI*Math.pow(de.marker.radius,2)}),this.calculateParentRadius(),b.nodes.forEach(de=>{de.seriesIndex===this.index&&(X=!0)}),b.setArea(0,0,g.plotWidth,g.plotHeight),X||(te||(te=new f().init(this,{mass:this.parentNodeRadius/2,marker:Z,dataLabels:{inside:!1},states:{normal:{marker:Z},hover:{marker:Z}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(te.plotX=this.parentNode.plotX,te.plotY=this.parentNode.plotY),this.parentNode=te,b.addElementsToCollection([this],b.series),b.addElementsToCollection([te],b.nodes))}deferLayout(){const f=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),f.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(f=>{f.removeElementFromCollection(this,f.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),I.destroy.apply(this,arguments)}drawDataLabels(){this.deferDataLabels||(I.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",I.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){if(this.layout&&this.layout.options.splitSeries){var f=this.chart,g=this.layout.options.parentNodeOptions.marker;g={fill:g.fillColor||L(this.color).brighten(.4).get(),opacity:g.fillOpacity,stroke:g.lineColor||this.color,"stroke-width":W(g.lineWidth,this.options.lineWidth)},this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,f.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius();var b=j({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},g);this.parentNode.graphic||(this.graph=this.parentNode.graphic=f.renderer.symbol(g.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(b)}}drawTracker(){const f=this.parentNode;let g;super.drawTracker(),f&&(g=Q(f.dataLabels)?f.dataLabels:f.dataLabel?[f.dataLabel]:[],f.graphic&&(f.graphic.element.point=f),g.forEach(b=>{b.div?b.div.point=f:b.element.point=f}))}getPointRadius(){const f=this.chart,g=this.options,b=g.useSimulation,D=Math.min(f.plotWidth,f.plotHeight),X={},te=[],Z=f.allDataPoints||[],de=Z.length;let ge,Ce,J,oe;["minSize","maxSize"].forEach(pe=>{const Ee=parseInt(g[pe],10),ne=/%$/.test(g[pe]);X[pe]=ne?D*Ee/100:Ee*Math.sqrt(de)}),f.minRadius=ge=X.minSize/Math.sqrt(de),f.maxRadius=Ce=X.maxSize/Math.sqrt(de);const ce=b?this.calculateZExtremes():[ge,Ce];Z.forEach((pe,Ee)=>{J=b?U(pe[2],ce[0],ce[1]):pe[2],oe=this.getRadius(ce[0],ce[1],ge,Ce,J),oe===0&&(oe=null),Z[Ee][2]=oe,te.push(oe)}),this.radii=te}init(){return I.init.apply(this,arguments),C.call(this),this.eventsToUnbind.push(A(this,"updatedData",function(){this.chart.series.forEach(f=>{f.type===this.type&&(f.isDirty=!0)},this)})),this}onMouseUp(f){const g=f;if(g.fixedPosition&&!g.removed){const b=this.layout,D=this.parentNodeLayout;let X,te;D&&b.options.dragBetweenSeries&&D.nodes.forEach(Z=>{g&&g.marker&&Z!==g.series.parentNode&&(X=b.getDistXY(g,Z),te=b.vectorLength(X)-Z.marker.radius-g.marker.radius,0>te&&(Z.series.addPoint(j(g.options,{plotX:g.plotX,plotY:g.plotY}),!1),b.removeElementFromCollection(g,b.nodes),g.remove()))}),c.onMouseUp.apply(this,arguments)}}placeBubbles(f){const g=this.checkOverlap,b=this.positionBubble,D=[];let X=1,te=0,Z=0;var de=[];let ge;if(f=f.sort((Ce,J)=>J[2]-Ce[2]),f.length){if(D.push([[0,0,f[0][2],f[0][3],f[0][4]]]),1<f.length)for(D.push([[0,0-f[1][2]-f[0][2],f[1][2],f[1][3],f[1][4]]]),ge=2;ge<f.length;ge++)f[ge][2]=f[ge][2]||1,de=b(D[X][te],D[X-1][Z],f[ge]),g(de,D[X][0])?(D.push([]),Z=0,D[X+1].push(b(D[X][te],D[X][0],f[ge])),X++,te=0):1<X&&D[X-1][Z+1]&&g(de,D[X-1][Z+1])?(Z++,D[X].push(b(D[X][te],D[X-1][Z],f[ge])),te++):(te++,D[X].push(de));this.chart.stages=D,this.chart.rawPositions=[].concat.apply([],D),this.resizeRadius(),de=this.chart.rawPositions}return de}pointAttribs(f,g){var b=this.options;let D=b.marker;return f&&f.isParentNode&&b.layoutAlgorithm&&b.layoutAlgorithm.parentNodeOptions&&(D=b.layoutAlgorithm.parentNodeOptions.marker),b=D.fillOpacity,f=I.pointAttribs.call(this,f,g),b!==1&&(f["fill-opacity"]=b),f}positionBubble(f,g,b){var D=Math.sqrt,X=Math.asin,te=Math.acos;const Z=Math.pow,de=Math.abs;return D=D(Z(f[0]-g[0],2)+Z(f[1]-g[1],2)),te=te((Z(D,2)+Z(b[2]+g[2],2)-Z(b[2]+f[2],2))/(2*(b[2]+g[2])*D)),X=X(de(f[0]-g[0])/D),f=(0>f[1]-g[1]?0:Math.PI)+te+X*(0>(f[0]-g[0])*(f[1]-g[1])?1:-1),[g[0]+(g[2]+b[2])*Math.sin(f),g[1]-(g[2]+b[2])*Math.cos(f),b[2],b[3],b[4]]}render(){const f=[];I.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(g=>{Q(g.dataLabels)&&g.dataLabels.forEach(b=>{f.push(b)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(f))}resizeRadius(){const f=this.chart,g=f.rawPositions;var b=Math.min,D=Math.max;const X=f.plotLeft,te=f.plotTop,Z=f.plotHeight,de=f.plotWidth;let ge,Ce,J,oe,ce;ge=J=Number.POSITIVE_INFINITY,Ce=oe=Number.NEGATIVE_INFINITY;for(const pe of g)ce=pe[2],ge=b(ge,pe[0]-ce),Ce=D(Ce,pe[0]+ce),J=b(J,pe[1]-ce),oe=D(oe,pe[1]+ce);if(D=[Ce-ge,oe-J],b=b.apply([],[(de-X)/D[0],(Z-te)/D[1]]),1e-10<Math.abs(b-1)){for(const pe of g)pe[2]*=b;this.placeBubbles(g)}else f.diffY=Z/2+te-J-(oe-J)/2,f.diffX=de/2+X-ge-(Ce-ge)/2}seriesBox(){const f=this.chart,g=Math.max,b=Math.min,D=[f.plotLeft,f.plotLeft+f.plotWidth,f.plotTop,f.plotTop+f.plotHeight];let X;return this.data.forEach(te=>{$(te.plotX)&&$(te.plotY)&&te.marker.radius&&(X=te.marker.radius,D[0]=b(D[0],te.plotX-X),D[1]=g(D[1],te.plotX+X),D[2]=b(D[2],te.plotY-X),D[3]=g(D[3],te.plotY+X))}),N(D.width/D.height)?D:null}setVisible(){const f=this;I.setVisible.apply(f,arguments),f.parentNodeLayout&&f.graph?f.visible?(f.graph.show(),f.parentNode.dataLabel&&f.parentNode.dataLabel.show()):(f.graph.hide(),f.parentNodeLayout.removeElementFromCollection(f.parentNode,f.parentNodeLayout.nodes),f.parentNode.dataLabel&&f.parentNode.dataLabel.hide()):f.layout&&(f.visible?f.layout.addElementsToCollection(f.points,f.layout.nodes):f.points.forEach(g=>{f.layout.removeElementFromCollection(g,f.layout.nodes)}))}translate(){const f=this.chart,g=this.data,b=this.index,D=this.options.useSimulation;let X;if(this.processedXData=this.xData,this.generatePoints(),$(f.allDataPoints)||(f.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),D)var te=f.allDataPoints;else te=this.placeBubbles(f.allDataPoints),this.options.draggable=!1;for(const Z of te)Z[3]===b&&(te=g[Z[4]],X=W(Z[2],void 0),D||(te.plotX=Z[0]-f.plotLeft+f.diffX,te.plotY=Z[1]-f.plotTop+f.diffY),N(X)&&(te.marker=E(te.marker,{radius:X,width:2*X,height:2*X}),te.radius=X));D&&this.deferLayout(),ee(this,"afterTranslate")}}return S.defaultOptions=j(H.defaultOptions,x),E(S.prototype,{pointClass:n,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:M,alignDataLabel:I.alignDataLabel,indexateNodes:a,onMouseDown:c.onMouseDown,onMouseMove:c.onMouseMove,redrawHalo:c.redrawHalo,searchPoint:a}),Y.registerSeriesType("packedbubble",S),S}),s(t,"Series/Polygon/PolygonSeries.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,h){({noop:a}=a);const{series:m,seriesTypes:{area:n,line:x,scatter:z}}=c,{extend:Y,merge:O}=h;class V extends z{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getGraphPath(){let L=x.prototype.getGraphPath.call(this),I=L.length+1;for(;I--;)(I===L.length||L[I][0]==="M")&&0<I&&L.splice(I,0,["Z"]);return this.areaPath=L}drawGraph(){this.options.fillColor=this.color,n.prototype.drawGraph.call(this)}}return V.defaultOptions=O(z.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}),Y(V.prototype,{type:"polygon",drawTracker:m.prototype.drawTracker,setStackedPoints:a}),c.registerSeriesType("polygon",V),V}),s(t,"Core/Axis/WaterfallAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(a,c){const{addEvent:h,objectEach:m}=c;var n;return function(x){function z(){const L=this.waterfall.stacks;L&&(L.changed=!1,delete L.alreadyChanged)}function Y(){const L=this.options.stackLabels;L&&L.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function O(){let L=this.axes,I=this.series,H=I.length;for(;H--;)I[H].options.stacking&&(L.forEach(function(M){M.isXAxis||(M.waterfall.stacks.changed=!0)}),H=0)}function V(){this.waterfall||(this.waterfall=new q(this))}class q{constructor(I){this.axis=I,this.stacks={changed:!1}}renderStackTotals(){const I=this.axis,H=I.waterfall.stacks,M=I.stacking&&I.stacking.stackTotalGroup,C=new a(I,I.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=C,M&&m(H,function(A){m(A,function(U,$){C.total=U.stackTotal,C.x=+$,U.label&&(C.label=U.label),a.prototype.render.call(C,M),U.label=C.label,delete C.label})}),C.total=null}}x.Composition=q,x.compose=function(L,I){h(L,"init",V),h(L,"afterBuildStacks",z),h(L,"afterRender",Y),h(I,"beforeRedraw",O)}}(n||(n={})),n}),s(t,"Series/Waterfall/WaterfallPoint.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(a,c,h){const{isNumber:m}=h;class n extends a.prototype.pointClass{constructor(){super(...arguments),this.series=this.options=void 0}getClassName(){let z=c.prototype.getClassName.call(this);return this.isSum?z+=" highcharts-sum":this.isIntermediateSum&&(z+=" highcharts-intermediate-sum"),z}isValid(){return m(this.y)||this.isSum||!!this.isIntermediateSum}}return n}),s(t,"Series/Waterfall/WaterfallSeries.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Core/Axis/WaterfallAxis.js"],t["Series/Waterfall/WaterfallPoint.js"]],function(a,c,h,m,n,x){const{seriesTypes:{column:z,line:Y}}=h,{addEvent:O,arrayMax:V,arrayMin:q,correctFloat:L,extend:I,isNumber:H,merge:M,objectEach:C,pick:A}=m;class U extends z{constructor(){super(...arguments),this.yData=this.yAxis=this.xData=this.stackKey=this.stackedYPos=this.stackedYNeg=this.points=this.options=this.data=this.chart=void 0}generatePoints(){z.prototype.generatePoints.apply(this);for(let E=0,ee=this.points.length;E<ee;E++){const Q=this.points[E],N=this.processedYData[E];H(N)&&(Q.isIntermediateSum||Q.isSum)&&(Q.y=L(N))}}processData(E){let ee=this.options,Q=this.yData,N=ee.data,j,W=Q.length,S=ee.threshold||0,P,f,g,b,D,X;for(X=f=P=g=b=0;X<W;X++)D=Q[X],j=N&&N[X]?N[X]:{},D==="sum"||j.isSum?Q[X]=L(f):D==="intermediateSum"||j.isIntermediateSum?(Q[X]=L(P),P=0):(f+=D,P+=D),g=Math.min(f,g),b=Math.max(f,b);super.processData.call(this,E),ee.stacking||(this.dataMin=g+S,this.dataMax=b)}toYData(E){return E.isSum?"sum":E.isIntermediateSum?"intermediateSum":E.y}updateParallelArrays(E,ee){super.updateParallelArrays.call(this,E,ee),(this.yData[0]==="sum"||this.yData[0]==="intermediateSum")&&(this.yData[0]=null)}pointAttribs(E,ee){const Q=this.options.upColor;return Q&&!E.options.color&&H(E.y)&&(E.color=0<E.y?Q:void 0),E=z.prototype.pointAttribs.call(this,E,ee),delete E.dashstyle,E}getGraphPath(){return[["M",0,0]]}getCrispPath(){let E=this.data.filter(X=>H(X.y)),ee=this.yAxis,Q=E.length,N=Math.round(this.graph.strokeWidth())%2/2,j=Math.round(this.borderWidth)%2/2,W=this.xAxis.reversed,S=this.yAxis.reversed,P=this.options.stacking,f=[];for(let X=1;X<Q;X++){if(!this.options.connectNulls&&!H(this.data[E[X].index-1].y))continue;var g=E[X].box,b=E[X-1];const te=b.y||0,Z=E[X-1].box;if(!g||!Z)continue;var D=ee.waterfall.stacks[this.stackKey];const de=0<te?-Z.height:0;D&&Z&&g&&(D=D[X-1],b=P?Math.round(ee.translate(D.connectorThreshold,!1,!0,!1,!0)+(S?de:0))-N:Z.y+b.minPointLengthOffset+j-N,f.push(["M",(Z.x||0)+(W?0:Z.width||0),b],["L",(g.x||0)+(W&&g.width||0),b])),Z&&f.length&&(!P&&0>te&&!S||0<te&&S)&&((g=f[f.length-2])&&typeof g[2]=="number"&&(g[2]+=Z.height||0),(g=f[f.length-1])&&typeof g[2]=="number"&&(g[2]+=Z.height||0))}return f}drawGraph(){Y.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(){function E(ce,pe,Ee,ne){if(g){if(te)for(Ee;Ee<te;Ee++)g.stackState[Ee]+=ne;else g.stackState[0]=ce,te=g.stackState.length;g.stackState.push(g.stackState[te-1]+pe)}}let ee=this.options,Q=this.yAxis.waterfall.stacks,N=ee.threshold||0,j=N,W=j,S=this.stackKey,P=this.xData,f=P.length,g,b,D,X,te,Z,de,ge;var Ce;let J;if(this.yAxis.stacking.usePercentage=!1,b=D=X=j,this.visible||!this.chart.options.chart.ignoreHiddenSeries){if(J=Q.changed,(Ce=Q.alreadyChanged)&&0>Ce.indexOf(S)&&(J=!0),Q[S]||(Q[S]={}),Ce=Q[S])for(let ce=0;ce<f;ce++){var oe=P[ce];(!Ce[oe]||J)&&(Ce[oe]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:J&&Ce[oe]?Ce[oe].label:void 0}),g=Ce[oe],ge=this.yData[ce],0<=ge?g.posTotal+=ge:g.negTotal+=ge,de=ee.data[ce],oe=g.absolutePos=g.posTotal,Z=g.absoluteNeg=g.negTotal,g.stackTotal=oe+Z,te=g.stackState.length,de&&de.isIntermediateSum?(E(X,D,0,X),X=D,D=N,j^=W,W^=j,j^=W):de&&de.isSum?(E(N,b,te,0),j=N):(E(j,ge,0,b),de&&(b+=ge,D+=ge)),g.stateIndex++,g.threshold=j,j+=g.stackTotal}Q.changed=!1,Q.alreadyChanged||(Q.alreadyChanged=[]),Q.alreadyChanged.push(S)}}getExtremes(){let E=this.options.stacking,ee,Q;if(E){var N=this.yAxis;return N=N.waterfall.stacks,ee=this.stackedYNeg=[],Q=this.stackedYPos=[],E==="overlap"?C(N[this.stackKey],function(j){ee.push(q(j.stackState)),Q.push(V(j.stackState))}):C(N[this.stackKey],function(j){ee.push(j.negTotal+j.threshold),Q.push(j.posTotal+j.threshold)}),{dataMin:q(ee),dataMax:V(Q)}}return{dataMin:this.dataMin,dataMax:this.dataMax}}}return U.defaultOptions=M(z.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),O(U,"afterColumnTranslate",function(){const{options:$,points:E,yAxis:ee}=this,Q=A($.minPointLength,5),N=Q/2,j=$.threshold||0,W=$.stacking,S=ee.waterfall.stacks[this.stackKey];let P=j,f=j;for(let te=0;te<E.length;te++){const Z=E[te];var g=this.processedYData[te];const de=I({x:0,y:0,width:0,height:0},Z.shapeArgs||{});Z.box=de;var b=[0,g],D=Z.y||0;if(W){if(S){if(b=S[te],W==="overlap"){var X=b.stackState[b.stateIndex--];X=0<=D?X:X-D,Object.hasOwnProperty.call(b,"absolutePos")&&delete b.absolutePos,Object.hasOwnProperty.call(b,"absoluteNeg")&&delete b.absoluteNeg}else 0<=D?(X=b.threshold+b.posTotal,b.posTotal-=D):(X=b.threshold+b.negTotal,b.negTotal-=D,X-=D),!b.posTotal&&H(b.absolutePos)&&Object.hasOwnProperty.call(b,"absolutePos")&&(b.posTotal=b.absolutePos,delete b.absolutePos),!b.negTotal&&H(b.absoluteNeg)&&Object.hasOwnProperty.call(b,"absoluteNeg")&&(b.negTotal=b.absoluteNeg,delete b.absoluteNeg);Z.isSum||(b.connectorThreshold=b.threshold+b.stackTotal),ee.reversed?g=0<=D?X-D:X+D:(g=X,X-=D),Z.below=g<=j,de.y=ee.translate(g,!1,!0,!1,!0),de.height=Math.abs(de.y-ee.translate(X,!1,!0,!1,!0)),(X=ee.waterfall.dummyStackItem)&&(X.x=te,X.label=S[te].label,X.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[te],this.stackedYPos[te],void 0,this.xAxis))}}else X=Math.max(f,f+D)+b[0],de.y=ee.translate(X,!1,!0,!1,!0),Z.isSum?(de.y=ee.translate(b[1],!1,!0,!1,!0),de.height=Math.min(ee.translate(b[0],!1,!0,!1,!0),ee.len)-de.y,Z.below=b[1]<=j):Z.isIntermediateSum?(0<=D?(g=b[1]+P,X=P):(g=P,X=b[1]+P),ee.reversed&&(g^=X,X^=g,g^=X),de.y=ee.translate(g,!1,!0,!1,!0),de.height=Math.abs(de.y-Math.min(ee.translate(X,!1,!0,!1,!0),ee.len)),P+=b[1],Z.below=g<=j):(de.height=0<g?ee.translate(f,!1,!0,!1,!0)-de.y:ee.translate(f,!1,!0,!1,!0)-ee.translate(f-g,!1,!0,!1,!0),f+=g,Z.below=f<j),0>de.height&&(de.y+=de.height,de.height*=-1);Z.plotY=de.y=Math.round(de.y||0)-this.borderWidth%2/2,de.height=Math.max(Math.round(de.height||0),.001),Z.yBottom=de.y+de.height,de.height<=Q&&!Z.isNull?(de.height=Q,de.y-=N,Z.plotY=de.y,Z.minPointLengthOffset=0>D?-N:N):(Z.isNull&&(de.width=0),Z.minPointLengthOffset=0),D=Z.plotY+(Z.negative?de.height:0),Z.below&&(Z.plotY+=de.height),Z.tooltipPos&&(this.chart.inverted?Z.tooltipPos[0]=ee.len-D:Z.tooltipPos[1]=D),Z.isInside=this.isPointInside(Z),M(!0,Z.shapeArgs,de)}},{order:2}),I(U.prototype,{getZonesGraphs:Y.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:x}),h.registerSeriesType("waterfall",U),n.compose(a,c),U}),s(t,"Core/Axis/RadialAxis.js",[t["Core/Axis/AxisDefaults.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(a,c,h,m){const{defaultOptions:n}=c,{noop:x}=h,{addEvent:z,correctFloat:Y,defined:O,extend:V,fireEvent:q,merge:L,pick:I,relativeLength:H,wrap:M}=m;var C;return function(A){function U(){this.autoConnect=this.isCircular&&typeof I(this.userMax,this.options.max)>"u"&&Y(this.endAngleRad-this.startAngleRad)===Y(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)}function $(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&this.options.labels.allowOverlap!==!0)return this.tickPositions.map(ae=>this.ticks[ae]&&this.ticks[ae].label).filter(ae=>!!ae)}}function E(){return x}function ee(ae,me,we){const Re=this.pane.center;let Le=ae.value,$e;if(this.isCircular){if(O(Le))ae.point&&(rt=ae.point.shapeArgs||{},rt.start&&(Le=this.chart.inverted?this.translate(ae.point.rectPlotY,!0):ae.point.x));else{var rt=ae.chartX||0;$e=ae.chartY||0,Le=this.translate(Math.atan2($e-we,rt-me)-this.startAngleRad,!0)}ae=this.getPosition(Le),rt=ae.x,$e=ae.y}else O(Le)||(rt=ae.chartX,$e=ae.chartY),O(rt)&&O($e)&&(we=Re[1]+this.chart.plotTop,Le=this.translate(Math.min(Math.sqrt(Math.pow(rt-me,2)+Math.pow($e-we,2)),Re[2]/2)-Re[3]/2,!0));return[Le,rt||0,$e||0]}function Q(ae,me,we){ae=this.pane.center;const Re=this.chart,Le=this.left||0,$e=this.top||0;let rt=I(me,ae[2]/2-this.offset);return typeof we>"u"&&(we=this.horiz?0:this.center&&-this.center[3]/2),we&&(rt+=we),this.isCircular||typeof me<"u"?(me=this.chart.renderer.symbols.arc(Le+ae[0],$e+ae[1],rt,rt,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}),me.xBounds=[Le+ae[0]],me.yBounds=[$e+ae[1]-rt]):(me=this.postTranslate(this.angleRad,rt),me=[["M",this.center[0]+Re.plotLeft,this.center[1]+Re.plotTop],["L",me.x,me.y]]),me}function N(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function j(ae,me,we){const Re=this.chart;var Le=Bt=>{if(typeof Bt=="string"){let ci=parseInt(Bt,10);return ze.test(Bt)&&(ci=ci*Qe/100),ci}return Bt};const $e=this.center;var rt=this.startAngleRad;const Qe=$e[2]/2;var qe=Math.min(this.offset,0),Te=this.left||0;const Oe=this.top||0,ze=/%$/;var Xe=this.isCircular;let Ke,pt=I(Le(we.outerRadius),Qe),Tt=Le(we.innerRadius);return Le=I(Le(we.thickness),10),this.options.gridLineInterpolation==="polygon"?qe=this.getPlotLinePath({value:ae}).concat(this.getPlotLinePath({value:me,reverse:!0})):(ae=Math.max(ae,this.min),me=Math.min(me,this.max),ae=this.translate(ae),me=this.translate(me),Xe||(pt=ae||0,Tt=me||0),we.shape!=="circle"&&Xe?(we=rt+(ae||0),rt+=me||0):(we=-Math.PI/2,rt=1.5*Math.PI,Ke=!0),pt-=qe,qe=Re.renderer.symbols.arc(Te+$e[0],Oe+$e[1],pt,pt,{start:Math.min(we,rt),end:Math.max(we,rt),innerR:I(Tt,pt-(Le-qe)),open:Ke}),Xe&&(Xe=(rt+we)/2,Te=Te+$e[0]+$e[2]/2*Math.cos(Xe),qe.xBounds=Xe>-Math.PI/2&&Xe<Math.PI/2?[Te,Re.plotWidth]:[0,Te],qe.yBounds=[Oe+$e[1]+$e[2]/2*Math.sin(Xe)],qe.yBounds[0]+=Xe>-Math.PI&&0>Xe||Xe>Math.PI?-10:10)),qe}function W(ae){var me=this.pane.center,we=this.chart;const Re=we.inverted;var Le=ae.reverse,$e=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{};const rt=$e.innerRadius||"0%",Qe=$e.outerRadius||"100%";var qe=me[0]+we.plotLeft,Te=me[1]+we.plotTop;const Oe=this.height,ze=ae.isCrosshair;$e=me[3]/2;var Xe=ae.value;let Ke;var pt=this.getPosition(Xe);let Tt=pt.x;if(pt=pt.y,ze&&(pt=this.getCrosshairPosition(ae,qe,Te),Xe=pt[0],Tt=pt[1],pt=pt[2]),this.isCircular)Xe=Math.sqrt(Math.pow(Tt-qe,2)+Math.pow(pt-Te,2)),Le=typeof rt=="string"?H(rt,1):rt/Xe,we=typeof Qe=="string"?H(Qe,1):Qe/Xe,me&&$e&&($e/=Xe,Le<$e&&(Le=$e),we<$e&&(we=$e)),me=[["M",qe+Le*(Tt-qe),Te-Le*(Te-pt)],["L",Tt-(1-we)*(Tt-qe),pt+(1-we)*(Te-pt)]];else if((Xe=this.translate(Xe))&&(0>Xe||Xe>Oe)&&(Xe=0),this.options.gridLineInterpolation==="circle")me=this.getLinePath(0,Xe,$e);else if(me=[],we[Re?"yAxis":"xAxis"].forEach(Bt=>{Bt.pane===this.pane&&(Ke=Bt)}),Ke)for(qe=Ke.tickPositions,Ke.autoConnect&&(qe=qe.concat([qe[0]])),Le&&(qe=qe.slice().reverse()),Xe&&(Xe+=$e),Te=0;Te<qe.length;Te++)$e=Ke.getPosition(qe[Te],Xe),me.push(Te?["L",$e.x,$e.y]:["M",$e.x,$e.y]);return me}function S(ae,me){return ae=this.translate(ae),this.postTranslate(this.isCircular?ae:this.angleRad,I(this.isCircular?me:0>ae?0:ae,this.center[2]/2)-this.offset)}function P(){const ae=this.center,me=this.chart,we=this.options.title;return{x:me.plotLeft+ae[0]+(we.x||0),y:me.plotTop+ae[1]-{high:.5,middle:.25,low:0}[we.align]*ae[2]+(we.y||0)}}function f(ae){ae.beforeSetTickPositions=U,ae.createLabelCollector=$,ae.getCrosshairPosition=ee,ae.getLinePath=Q,ae.getOffset=N,ae.getPlotBandPath=j,ae.getPlotLinePath=W,ae.getPosition=S,ae.getTitlePosition=P,ae.postTranslate=ge,ae.setAxisSize=J,ae.setAxisTranslation=oe,ae.setOptions=ce}function g(){var ae=this.chart,me=this.options,we=this.pane,Re=we&&we.options;ae.angular&&this.isXAxis||!we||!ae.angular&&!ae.polar||(ae=2*Math.PI,we=(I(Re.startAngle,0)-90)*Math.PI/180,Re=(I(Re.endAngle,I(Re.startAngle,0)+360)-90)*Math.PI/180,this.angleRad=(me.angle||0)*Math.PI/180,this.startAngleRad=we,this.endAngleRad=Re,this.offset=me.offset||0,me=(we%ae+ae)%ae,Re=(Re%ae+ae)%ae,me>Math.PI&&(me-=ae),Re>Math.PI&&(Re-=ae),this.normalizedStartAngleRad=me,this.normalizedEndAngleRad=Re)}function b(ae){this.isRadial&&(ae.align=void 0,ae.preventDefault())}function D(){if(this.chart&&this.chart.labelCollectors){const ae=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;0<=ae&&this.chart.labelCollectors.splice(ae,1)}}function X(ae){const me=this.chart,we=me.inverted,Re=me.angular,Le=me.polar,$e=this.isXAxis,rt=this.coll,Qe=Re&&$e;ae=ae.userOptions.pane||0,ae=this.pane=me.pane&&me.pane[ae];let qe;rt==="colorAxis"?this.isRadial=!1:(Re?(Qe?(this.isHidden=!0,this.createLabelCollector=E,this.getOffset=x,this.render=this.redraw=Ce,this.setTitle=this.setCategories=this.setScale=x):f(this),(qe=!$e)&&(this.defaultPolarOptions=ye)):Le&&(f(this),this.defaultPolarOptions=(qe=this.horiz)?ne:L(rt==="xAxis"?a.defaultXAxisOptions:a.defaultYAxisOptions,_e),we&&rt==="yAxis"&&(this.defaultPolarOptions.stackLabels=a.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),Re||Le?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&me.labelCollectors.push(this.labelCollector)):this.isRadial=!1,ae&&qe&&(ae.axis=this),this.isCircular=qe)}function te(){this.isRadial&&this.beforeSetTickPositions()}function Z(ae){const me=this.label;if(me){var we=this.axis,Re=me.getBBox(),Le=we.options.labels,$e=(we.translate(this.pos)+we.startAngleRad+Math.PI/2)/Math.PI*180%360,rt=Math.round($e),Qe=O(Le.y)?0:.3*-Re.height,qe=Le.y,Te=20,Oe=Le.align,ze="end",Xe=0>rt?rt+360:rt,Ke=Xe,pt=0,Tt=0;if(we.isRadial){var Bt=we.getPosition(this.pos,we.center[2]/2+H(I(Le.distance,-25),we.center[2]/2,-we.center[2]/2));Le.rotation==="auto"?me.attr({rotation:$e}):O(qe)||(qe=we.chart.renderer.fontMetrics(me).b-Re.height/2),O(Oe)||(we.isCircular?(Re.width>we.len*we.tickInterval/(we.max-we.min)&&(Te=0),Oe=$e>Te&&$e<180-Te?"left":$e>180+Te&&$e<360-Te?"right":"center"):Oe="center",me.attr({align:Oe})),Oe==="auto"&&we.tickPositions.length===2&&we.isCircular&&(90<Xe&&180>Xe?Xe=180-Xe:270<Xe&&360>=Xe&&(Xe=540-Xe),180<Ke&&360>=Ke&&(Ke=360-Ke),(we.pane.options.startAngle===rt||we.pane.options.startAngle===rt+360||we.pane.options.startAngle===rt-360)&&(ze="start"),Oe=-90<=rt&&90>=rt||-360<=rt&&-270>=rt||270<=rt&&360>=rt?ze==="start"?"right":"left":ze==="start"?"left":"right",70<Ke&&110>Ke&&(Oe="center"),15>Xe||180<=Xe&&195>Xe?pt=.3*Re.height:15<=Xe&&35>=Xe?pt=ze==="start"?0:.75*Re.height:195<=Xe&&215>=Xe?pt=ze==="start"?.75*Re.height:0:35<Xe&&90>=Xe?pt=ze==="start"?.25*-Re.height:Re.height:215<Xe&&270>=Xe&&(pt=ze==="start"?Re.height:.25*-Re.height),15>Ke?Tt=ze==="start"?.15*-Re.height:.15*Re.height:165<Ke&&180>=Ke&&(Tt=ze==="start"?.15*Re.height:.15*-Re.height),me.attr({align:Oe}),me.translate(Tt,pt+Qe)),ae.pos.x=Bt.x+(Le.x||0),ae.pos.y=Bt.y+(qe||0)}}}function de(ae){this.axis.getPosition&&V(ae.pos,this.axis.getPosition(this.pos))}function ge(ae,me){const we=this.chart,Re=this.center;return ae=this.startAngleRad+ae,{x:we.plotLeft+Re[0]+Math.cos(ae)*me,y:we.plotTop+Re[1]+Math.sin(ae)*me}}function Ce(){this.isDirty=!1}function J(){let ae,me;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),ae=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(me=this.postTranslate(this.angleRad,ae[3]/2),ae[0]=me.x-this.chart.plotLeft,ae[1]=me.y-this.chart.plotTop),this.len=this.width=this.height=(ae[2]-ae[3])*I(this.sector,1)/2)}function oe(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function ce(ae){ae=this.options=L(this.constructor.defaultOptions,this.defaultPolarOptions,n[this.coll],ae),ae.plotBands||(ae.plotBands=[]),q(this,"afterSetOptions")}function pe(ae,me,we,Re,Le,$e,rt){const Qe=this.axis;return Qe.isRadial?(ae=Qe.getPosition(this.pos,Qe.center[2]/2+Re),me=["M",me,we,"L",ae.x,ae.y]):me=ae.call(this,me,we,Re,Le,$e,rt),me}const Ee=[],ne={gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},ye={labels:{align:"center",distance:-25,x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},_e={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};A.compose=function(ae,me){return m.pushUnique(Ee,ae)&&(z(ae,"afterInit",g),z(ae,"autoLabelAlign",b),z(ae,"destroy",D),z(ae,"init",X),z(ae,"initialAxisTranslation",te)),m.pushUnique(Ee,me)&&(z(me,"afterGetLabelPosition",Z),z(me,"afterGetPosition",de),M(me.prototype,"getMarkPath",pe)),ae}}(C||(C={})),C}),s(t,"Series/PolarComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Extensions/Pane.js"],t["Core/Axis/RadialAxis.js"],t["Core/Utilities.js"]],function(a,c,h,m,n,x){function z(J,oe,ce,pe){var Ee=pe?1:0,ne=0<=oe&&oe<=J.length-1?oe:0>oe?J.length-1+oe:0;oe=0>ne-1?J.length-(1+Ee):ne-1;var ye=J[oe];Ee=J[ne+1>J.length-1?Ee:ne+1];var _e=ye.plotY,ae=Ee.plotX,me=Ee.plotY;Ee=J[ne].plotX,ne=J[ne].plotY,ye=(1.5*Ee+ye.plotX)/2.5,_e=(1.5*ne+_e)/2.5,ae=(1.5*Ee+ae)/2.5;var we=(1.5*ne+me)/2.5;me=Math.sqrt(Math.pow(ye-Ee,2)+Math.pow(_e-ne,2));const Re=Math.sqrt(Math.pow(ae-Ee,2)+Math.pow(we-ne,2));return ye=Math.atan2(_e-ne,ye-Ee),we=Math.PI/2+(ye+Math.atan2(we-ne,ae-Ee))/2,Math.abs(ye-we)>Math.PI/2&&(we-=Math.PI),ye=Ee+Math.cos(we)*me,_e=ne+Math.sin(we)*me,ae=Ee+Math.cos(Math.PI+we)*Re,we=ne+Math.sin(Math.PI+we)*Re,Ee={rightContX:ae,rightContY:we,leftContX:ye,leftContY:_e,plotX:Ee,plotY:ne},ce&&(Ee.prevPointCont=z(J,oe,!1,pe)),Ee}function Y(){(this.pane||[]).forEach(J=>{J.render()})}function O(J){const oe=J.args[0].xAxis,ce=J.args[0].yAxis;J=J.args[0].chart,oe&&ce&&(ce.gridLineInterpolation==="polygon"?(oe.startOnTick=!0,oe.endOnTick=!0):oe.gridLineInterpolation==="polygon"&&J.inverted&&(ce.startOnTick=!0,ce.endOnTick=!0))}function V(){this.pane||(this.pane=[]),this.options.pane=te(this.options.pane),this.options.pane.forEach(J=>{new m(J,this)},this)}function q(J){var oe=J.args.marker,ce=this.chart.xAxis[0],pe=this.chart.yAxis[0],Ee=this.chart.inverted;const ne=Ee?pe:ce;if(ce=Ee?ce:pe,this.chart.polar){J.preventDefault(),pe=(oe.attr?oe.attr("start"):oe.start)-ne.startAngleRad,Ee=oe.attr?oe.attr("r"):oe.r;let ye=(oe.attr?oe.attr("end"):oe.end)-ne.startAngleRad;oe=oe.attr?oe.attr("innerR"):oe.innerR,J.result.x=pe+ne.pos,J.result.width=ye-pe,J.result.y=ce.len+ce.pos-oe,J.result.height=oe-Ee}}function L(J){var oe=this.chart;if(oe.polar&&oe.hoverPane&&oe.hoverPane.axis){J.preventDefault();var ce=oe.hoverPane.center,pe=this.mouseDownX||0;const $e=this.mouseDownY||0;var Ee=J.args.chartY;const rt=J.args.chartX;var ne=2*Math.PI,ye=oe.hoverPane.axis.startAngleRad,_e=oe.hoverPane.axis.endAngleRad,ae=oe.inverted?oe.xAxis[0]:oe.yAxis[0];const Qe={};var me="arc";if(Qe.x=ce[0]+oe.plotLeft,Qe.y=ce[1]+oe.plotTop,this.zoomHor){var we=0<ye?_e-ye:Math.abs(ye)+Math.abs(_e),Re=Math.atan2($e-oe.plotTop-ce[1],pe-oe.plotLeft-ce[0])-ye,Le=Math.atan2(Ee-oe.plotTop-ce[1],rt-oe.plotLeft-ce[0])-ye;if(Qe.r=ce[2]/2,Qe.innerR=ce[3]/2,0>=Re&&(Re+=ne),0>=Le&&(Le+=ne),Le<Re&&(Le=[Re,Re=Le][0]),we<ne&&ye+Le>_e+(ne-we)/2&&(Le=Re,Re=0>=ye?ye:0),ne=Qe.start=Math.max(Re+ye,ye),we=Qe.end=Math.min(Le+ye,_e),ae.options.gridLineInterpolation==="polygon"){if(me=oe.hoverPane.axis,Le=ne-me.startAngleRad+me.pos,Re=we-ne,ne=ae.getPlotLinePath({value:ae.max}),we=me.toValue(Le),Le=me.toValue(Le+Re),we<me.getExtremes().min){const{min:qe,max:Te}=me.getExtremes();we=Te-(qe-we)}if(Le<me.getExtremes().min){const{min:qe,max:Te}=me.getExtremes();Le=Te-(qe-Le)}Le<we&&(Le=[we,we=Le][0]),ne=C(ne,we,Le,me),ne.push(["L",ce[0]+oe.plotLeft,oe.plotTop+ce[1]]),Qe.d=ne,me="path"}}this.zoomVert&&(Le=oe.inverted?oe.xAxis[0]:oe.yAxis[0],pe=Math.sqrt(Math.pow(pe-oe.plotLeft-ce[0],2)+Math.pow($e-oe.plotTop-ce[1],2)),Ee=Math.sqrt(Math.pow(rt-oe.plotLeft-ce[0],2)+Math.pow(Ee-oe.plotTop-ce[1],2)),Ee<pe&&(pe=[Ee,Ee=pe][0]),Ee>ce[2]/2&&(Ee=ce[2]/2),pe<ce[3]/2&&(pe=ce[3]/2),this.zoomHor||(Qe.start=ye,Qe.end=_e),Qe.r=Ee,Qe.innerR=pe,Le.options.gridLineInterpolation==="polygon"&&(ce=Le.toValue(Le.len+Le.pos-pe),ye=Le.toValue(Le.len+Le.pos-Ee),ce=Le.getPlotLinePath({value:ye}).concat(Le.getPlotLinePath({value:ce,reverse:!0})),Qe.d=ce,me="path")),this.zoomHor&&this.zoomVert&&ae.options.gridLineInterpolation==="polygon"&&(ce=oe.hoverPane.axis,ae=Qe.start||0,ye=ae-ce.startAngleRad+ce.pos,_e=(Qe.end||0)-ae,ae=ce.toValue(ye),ce=ce.toValue(ye+_e),Qe.d instanceof Array&&(ye=Qe.d.slice(0,Qe.d.length/2),_e=Qe.d.slice(Qe.d.length/2,Qe.d.length),_e=[..._e].reverse(),oe=oe.hoverPane.axis,ye=C(ye,ae,ce,oe),(_e=C(_e,ae,ce,oe))&&(_e[0][0]="L"),_e=[..._e].reverse(),Qe.d=ye.concat(_e),me="path")),J.attrs=Qe,J.shapeType=me}}function I(){const J=this.chart;J.polar&&(this.polar=new Ce(this),J.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function H(){if(this.chart.polar&&this.xAxis){const{xAxis:J,yAxis:oe}=this,ce=this.chart;(this.kdByAngle=ce.tooltip&&ce.tooltip.shared)?this.searchPoint=M:this.options.findNearestPointBy="xy";const pe=this.points;let Ee=pe.length;for(;Ee--;)this.is("column")||this.is("columnrange")||this.polar.toXY(pe[Ee]),ce.hasParallelCoordinates||this.yAxis.reversed||(D(pe[Ee].y,Number.MIN_VALUE)<oe.min||pe[Ee].x<J.min||pe[Ee].x>J.max?(pe[Ee].isNull=!0,pe[Ee].plotY=NaN):pe[Ee].isNull=pe[Ee].isValid&&!pe[Ee].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(S(this,"afterRender",function(){if(ce.polar){var ne=this.yAxis.pane.center;if(this.clipCircle)this.clipCircle.animate({x:ne[0],y:ne[1],r:ne[2]/2,innerR:ne[3]/2});else{{var ye=ce.renderer,_e=ne[0],ae=ne[1],me=ne[2]/2,we=ne[3]/2;ne=Z();const Re=ye.createElement("clipPath").attr({id:ne}).add(ye.defs);ye=we?ye.arc(_e,ae,me,we,0,2*Math.PI).add(Re):ye.circle(_e,ae,me).add(Re),ye.id=ne,ye.clipPath=Re}this.clipCircle=ye}this.group.clip(this.clipCircle),this.setClip=c.noop}})))}}function M(J){const oe=this.chart;var ce=this.xAxis;return ce=ce.pane&&ce.pane.center,this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(J.chartX-(ce&&ce[0]||0)-oe.plotLeft,J.chartY-(ce&&ce[1]||0)-oe.plotTop)})}function C(J,oe,ce,pe){const Ee=pe.tickInterval;pe=pe.tickPositions;let ne=f(pe,_e=>_e>=ce),ye=f([...pe].reverse(),_e=>_e<=oe);return P(ne)||(ne=pe[pe.length-1]),P(ye)||(ye=pe[0],ne+=Ee,J[0][0]="L",J.unshift(J[J.length-3])),J=J.slice(pe.indexOf(ye),pe.indexOf(ne)+1),J[0][0]="M",J}function A(J,oe){return f(this.pane||[],function(ce){return ce.options.id===oe})||J.call(this,oe)}function U(J,oe,ce,pe,Ee,ne){const ye=this.chart;var _e=D(pe.inside,!!this.options.stacking);ye.polar?(J=oe.rectPlotX/Math.PI*180,ye.inverted?(this.forceDL=ye.isInsidePlot(oe.plotX,oe.plotY),_e&&oe.shapeArgs?(_e=oe.shapeArgs,_e=this.yAxis.postTranslate(((_e.start||0)+(_e.end||0))/2-this.xAxis.startAngleRad,oe.barX+oe.pointWidth/2),Ee=b(Ee,{x:_e.x-ye.plotLeft,y:_e.y-ye.plotTop})):oe.tooltipPos&&(Ee=b(Ee,{x:oe.tooltipPos[0],y:oe.tooltipPos[1]})),pe.align=D(pe.align,"center"),pe.verticalAlign=D(pe.verticalAlign,"middle")):(pe.align===null&&(pe.align=20<J&&160>J?"left":200<J&&340>J?"right":"center"),pe.verticalAlign===null&&(pe.verticalAlign=45>J||315<J?"bottom":135<J&&225>J?"top":"middle")),h.prototype.alignDataLabel.call(this,oe,ce,pe,Ee,ne),this.isRadialBar&&oe.shapeArgs&&oe.shapeArgs.start===oe.shapeArgs.end?ce.hide():ce.show()):J.call(this,oe,ce,pe,Ee,ne)}function $(){const J=this.options,oe=J.stacking,ce=this.chart;var pe=this.xAxis;const Ee=this.yAxis,ne=Ee.reversed,ye=Ee.center,_e=pe.startAngleRad,ae=pe.endAngleRad-_e;let me=0,we,Re,Le,$e=0;var rt=0;if(pe.isRadial){pe=this.points,we=pe.length,Re=Ee.translate(Ee.min),Le=Ee.translate(Ee.max);var Qe=J.threshold||0;for(ce.inverted&&g(Qe)&&(me=Ee.translate(Qe),P(me)&&(0>me?me=0:me>ae&&(me=ae),this.translatedThreshold=me+_e));we--;){Qe=pe[we];var qe=Qe.barX,Te=Qe.x,Oe=Qe.y;if(Qe.shapeType="arc",ce.inverted){Qe.plotY=Ee.translate(Oe),oe&&Ee.stacking?(Oe=Ee.stacking.stacks[(0>Oe?"-":"")+this.stackKey],this.visible&&Oe&&Oe[Te]&&!Qe.isNull&&(rt=Oe[Te].points[this.getStackIndicator(void 0,Te,this.index).key],$e=Ee.translate(rt[0]),rt=Ee.translate(rt[1]),P($e)&&($e=x.clamp($e,0,ae)))):($e=me,rt=Qe.plotY),$e>rt&&(rt=[$e,$e=rt][0]),ne?rt>Re?rt=Re:$e<Le?$e=Le:($e>Re||rt<Le)&&($e=rt=ae):$e<Re?$e=Re:rt>Le?rt=Le:(rt<Re||$e>Le)&&($e=rt=0),Ee.min>Ee.max&&($e=rt=ne?ae:0),$e+=_e,rt+=_e,ye&&(Qe.barX=qe+=ye[3]/2),Te=Math.max(qe,0),Oe=Math.max(qe+Qe.pointWidth,0);var ze=J.borderRadius;ze=X((typeof ze=="object"?ze.radius:ze)||0,Oe-Te),Qe.shapeArgs={x:ye[0],y:ye[1],r:Oe,innerR:Te,start:$e,end:rt,borderRadius:ze},Qe.opacity=$e===rt?0:void 0,Qe.plotY=(P(this.translatedThreshold)&&($e<this.translatedThreshold?$e:rt))-_e}else $e=qe+_e,Qe.shapeArgs=this.polar.arc(Qe.yBottom,Qe.plotY,$e,$e+Qe.pointWidth),Qe.shapeArgs.borderRadius=0;this.polar.toXY(Qe),ce.inverted?(qe=Ee.postTranslate(Qe.rectPlotY,qe+Qe.pointWidth/2),Qe.tooltipPos=[qe.x-ce.plotLeft,qe.y-ce.plotTop]):Qe.tooltipPos=[Qe.plotX,Qe.plotY],ye&&(Qe.ttBelow=Qe.plotY>ye[1])}}}function E(J,oe){const ce=this;let pe;if(this.chart.polar){oe=oe||this.points;for(let ne=0;ne<oe.length;ne++)if(!oe[ne].isNull){var Ee=ne;break}this.options.connectEnds!==!1&&typeof Ee<"u"&&(this.connectEnds=!0,oe.splice(oe.length,0,oe[Ee]),pe=!0),oe.forEach(ne=>{typeof ne.polarPlotY>"u"&&ce.polar.toXY(ne)})}return Ee=J.apply(this,[].slice.call(arguments,1)),pe&&oe.pop(),Ee}function ee(J,oe){const ce=this.chart;let pe={xAxis:[],yAxis:[]};return ce.polar?ce.axes.forEach(Ee=>{if(Ee.coll!=="colorAxis"){var ne=Ee.isXAxis,ye=Ee.center,_e=oe.chartX-ye[0]-ce.plotLeft;ye=oe.chartY-ye[1]-ce.plotTop,pe[ne?"xAxis":"yAxis"].push({axis:Ee,value:Ee.translate(ne?Math.PI-Math.atan2(_e,ye):Math.sqrt(Math.pow(_e,2)+Math.pow(ye,2)),!0)})}}):pe=J.call(this,oe),pe}function Q(J,oe){this.chart.polar||J.call(this,oe)}function N(J,oe){const ce=this,pe=this.chart,Ee=this.group,ne=this.markerGroup,ye=this.xAxis&&this.xAxis.center,_e=pe.plotLeft,ae=pe.plotTop;let me=this.options.animation,we,Re,Le,$e,rt;pe.polar?ce.isRadialBar?oe||(ce.startAngleRad=D(ce.translatedThreshold,ce.xAxis.startAngleRad),c.seriesTypes.pie.prototype.animate.call(ce,oe)):(me=W(me),ce.is("column")?oe||(we=ye[3]/2,ce.points.forEach(Qe=>{Re=Qe.graphic,$e=(Le=Qe.shapeArgs)&&Le.r,rt=Le&&Le.innerR,Re&&Le&&(Re.attr({r:we,innerR:we}),Re.animate({r:$e,innerR:rt},ce.options.animation))})):oe?(J={translateX:ye[0]+_e,translateY:ye[1]+ae,scaleX:.001,scaleY:.001},Ee.attr(J),ne&&ne.attr(J)):(J={translateX:_e,translateY:ae,scaleX:1,scaleY:1},Ee.animate(J,me),ne&&ne.animate(J,me))):J.call(this,oe)}function j(J,oe,ce,pe){return this.chart.polar?pe?(J=z(oe,pe,!0,this.connectEnds),oe=J.prevPointCont&&J.prevPointCont.rightContX,ce=J.prevPointCont&&J.prevPointCont.rightContY,J=["C",g(oe)?oe:J.plotX,g(ce)?ce:J.plotY,g(J.leftContX)?J.leftContX:J.plotX,g(J.leftContY)?J.leftContY:J.plotY,J.plotX,J.plotY]):J=["M",ce.plotX,ce.plotY]:J=J.call(this,oe,ce,pe),J}const{animObject:W}=a,{addEvent:S,defined:P,find:f,isNumber:g,merge:b,pick:D,relativeLength:X,splat:te,uniqueKey:Z,wrap:de}=x,ge=[];class Ce{static compose(oe,ce,pe,Ee,ne,ye,_e,ae,me){n.compose(oe,ne),x.pushUnique(ge,ce)&&(S(ce,"afterDrawChartBox",Y),S(ce,"getAxes",V),S(ce,"init",O),de(ce.prototype,"get",A)),x.pushUnique(ge,pe)&&(oe=pe.prototype,de(oe,"getCoordinates",ee),de(oe,"pinch",Q),S(pe,"getSelectionMarkerAttrs",L),S(pe,"getSelectionBox",q)),x.pushUnique(ge,Ee)&&(S(Ee,"afterInit",I),S(Ee,"afterTranslate",H,{order:2}),S(Ee,"afterColumnTranslate",$,{order:4}),de(Ee.prototype,"animate",N)),_e&&x.pushUnique(ge,_e)&&(pe=_e.prototype,de(pe,"alignDataLabel",U),de(pe,"animate",N)),ae&&x.pushUnique(ge,ae)&&de(ae.prototype,"getGraphPath",E),me&&x.pushUnique(ge,me)&&(ae=me.prototype,de(ae,"getPointSpline",j),ye&&x.pushUnique(ge,ye)&&(ye.prototype.getPointSpline=ae.getPointSpline))}constructor(oe){this.series=oe}arc(oe,ce,pe,Ee){const ne=this.series,ye=ne.xAxis.center,_e=ne.yAxis.len,ae=ye[3]/2;return ce=_e-ce+ae,oe=_e-D(oe,_e)+ae,ne.yAxis.reversed&&(0>ce&&(ce=ae),0>oe&&(oe=ae)),{x:ye[0],y:ye[1],r:ce,innerR:oe,start:pe,end:Ee}}toXY(oe){var ce=this.series;const pe=ce.chart,Ee=ce.xAxis;var ne=ce.yAxis;const ye=oe.plotX,_e=pe.inverted,ae=oe.y;let me=oe.plotY,we=_e?ye:ne.len-me;_e&&ce&&!ce.isRadialBar&&(oe.plotY=me=g(ae)?ne.translate(ae):0),oe.rectPlotX=ye,oe.rectPlotY=me,ne.center&&(we+=ne.center[3]/2),g(me)&&(ne=_e?ne.postTranslate(me,we):Ee.postTranslate(ye,we),oe.plotX=oe.polarPlotX=ne.x-pe.plotLeft,oe.plotY=oe.polarPlotY=ne.y-pe.plotTop),ce.kdByAngle?(ce=(ye/Math.PI*180+Ee.pane.options.startAngle)%360,0>ce&&(ce+=360),oe.clientX=ce):oe.clientX=oe.plotX}}return Ce}),s(t,"masters/highcharts-more.src.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Bubble/BubbleSeries.js"],t["Series/PackedBubble/PackedBubbleSeries.js"],t["Series/PolarComposition.js"]],function(a,c,h,m,n){h.compose(a.Axis,a.Chart,a.Legend,a.Series),m.compose(a.Axis,a.Chart,a.Legend,a.Series),n.compose(a.Axis,a.Chart,a.Pointer,a.Series,a.Tick,c.seriesTypes.areasplinerange,c.seriesTypes.column,c.seriesTypes.line,c.seriesTypes.spline)})})})(G8);var fV=G8.exports;const V8=wd(fV);V8(Fl);const mV={components:{highcharts:o0.Chart},methods:{chartCallback(e){e.renderer.forExport||setInterval(function(){var t=e.series[0].points[0],s,a=Math.round((Math.random()-.5)*20);s=t.y+a,(s<0||s>200)&&(s=t.y-a),t.update(s)},3e3)}},data(){return{fuelOptions:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1},title:{useHTML:!0,text:"<img src='https://cdn-icons-png.flaticon.com/512/710/710296.png' height='18px' alt='' />",y:180},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#FFF"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:0,max:32,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#fff",tickPixelInterval:32,tickWidth:5,tickPosition:"inside",tickLength:20,tickColor:"#0A2647",labels:{step:16,distance:10,enabled:!1},title:{text:"",y:20},plotBands:[{from:0,to:4,color:"#0A2647"},{from:4,to:8,color:"#0A2647"},{from:8,to:12,color:"#0A2647"},{from:12,to:16,color:"#0A2647"},{from:16,to:20,color:"#0A2647"},{from:20,to:24,color:"#0A2647"},{from:24,to:28,color:"#0A2647"},{from:28,to:32,color:"#0A2647"}]}],series:[{name:"Speed",data:[20],tooltip:{valueSuffix:" "}}]}}}},Lh=e=>(Ul("data-v-7c7fa323"),e=e(),$l(),e),gV={class:"row"},_V={class:"col position-relative"},yV=Lh(()=>Ne("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total HFO (KL)",-1)),vV=Lh(()=>Ne("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"15.08 KL",-1)),xV={class:"col position-relative"},bV=Lh(()=>Ne("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total LS HFO (KL)",-1)),wV=Lh(()=>Ne("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"2.94",-1)),SV={class:"col position-relative"},TV=Lh(()=>Ne("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total MDO (KL)",-1)),CV=Lh(()=>Ne("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"1.22",-1)),EV={class:"col position-relative"},MV=Lh(()=>Ne("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total HSD (KL)",-1)),AV=Lh(()=>Ne("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"2.01",-1)),kV={class:"col position-relative"},PV=Lh(()=>Ne("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total (KL)",-1)),DV=Lh(()=>Ne("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"21.25",-1));function IV(e,t,s,a,c,h){const m=Un("highcharts");return yt(),St("div",gV,[Ne("div",_V,[Qi(m,{options:c.fuelOptions,callback:h.chartCallback},null,8,["options","callback"]),yV,vV]),Ne("div",xV,[Qi(m,{options:c.fuelOptions,callback:h.chartCallback},null,8,["options","callback"]),bV,wV]),Ne("div",SV,[Qi(m,{options:c.fuelOptions,callback:h.chartCallback},null,8,["options","callback"]),TV,CV]),Ne("div",EV,[Qi(m,{options:c.fuelOptions,callback:h.chartCallback},null,8,["options","callback"]),MV,AV]),Ne("div",kV,[Qi(m,{options:c.fuelOptions,callback:h.chartCallback},null,8,["options","callback"]),PV,DV])])}const LV=Jn(mV,[["render",IV],["__scopeId","data-v-7c7fa323"]]);var H8={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function s(a,c,h,m){a.hasOwnProperty(c)||(a[c]=m.apply(null,h),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:c,module:a[c]}})))}t=t?t._modules:{},s(t,"Core/Axis/BrokenAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(a,c){const{addEvent:h,find:m,fireEvent:n,isArray:x,isNumber:z,pick:Y}=c;var O;return function(V){function q(){typeof this.brokenAxis<"u"&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function L(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function I(){const ee=this.brokenAxis;if(ee&&ee.hasBreaks){const Q=this.tickPositions,N=this.tickPositions.info,j=[];for(let W=0;W<Q.length;W++)ee.isInAnyBreak(Q[W])||j.push(Q[W]);this.tickPositions=j,this.tickPositions.info=N}}function H(){this.brokenAxis||(this.brokenAxis=new E(this))}function M(){const{isDirty:ee,options:{connectNulls:Q},points:N,xAxis:j,yAxis:W}=this;if(ee){let S=N.length;for(;S--;){const P=N[S],f=!(P.y===null&&Q===!1)&&(j&&j.brokenAxis&&j.brokenAxis.isInAnyBreak(P.x,!0)||W&&W.brokenAxis&&W.brokenAxis.isInAnyBreak(P.y,!0));P.visible=f?!1:P.options.visible!==!1}}}function C(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,Y(this.pointArrayMap,["y"]))}function A(ee,Q){const N=this,j=N.points;let W,S,P,f;if(ee&&ee.brokenAxis&&ee.brokenAxis.hasBreaks){const g=ee.brokenAxis;Q.forEach(function(b){W=g&&g.breakArray||[],S=ee.isXAxis?ee.min:Y(N.options.threshold,ee.min),j.forEach(function(D){f=Y(D["stack"+b.toUpperCase()],D[b]),W.forEach(function(X){z(S)&&z(f)&&(P=!1,S<X.from&&f>X.to||S>X.from&&f<X.from?P="pointBreak":(S<X.from&&f>X.from&&f<X.to||S>X.from&&f>X.to&&f<X.from)&&(P="pointInBreak"),P&&n(ee,P,{point:D,brk:X}))})})})}}function U(){var ee=this.currentDataGrouping,Q=ee&&ee.gapSize;ee=this.points.slice();const N=this.yAxis;let j=this.options.gapSize,W=ee.length-1;var S;if(j&&0<W)for(this.options.gapUnit!=="value"&&(j*=this.basePointRange),Q&&Q>j&&Q>=this.basePointRange&&(j=Q);W--;)S&&S.visible!==!1||(S=ee[W+1]),Q=ee[W],S.visible!==!1&&Q.visible!==!1&&(S.x-Q.x>j&&(S=(Q.x+S.x)/2,ee.splice(W+1,0,{isNull:!0,x:S}),N.stacking&&this.options.stacking&&(S=N.stacking.stacks[this.stackKey][S]=new a(N,N.options.stackLabels,!1,S,this.stack),S.total=0)),S=Q);return this.getGraphPath(ee)}const $=[];V.compose=function(ee,Q){if(c.pushUnique($,ee)&&(ee.keepProps.push("brokenAxis"),h(ee,"init",H),h(ee,"afterInit",q),h(ee,"afterSetTickPositions",I),h(ee,"afterSetOptions",L)),c.pushUnique($,Q)){const N=Q.prototype;N.drawBreaks=A,N.gappedPath=U,h(Q,"afterGeneratePoints",M),h(Q,"afterRender",C)}return ee};class E{static isInBreak(Q,N){const j=Q.repeat||1/0,W=Q.from,S=Q.to-Q.from;return N=N>=W?(N-W)%j:j-(W-N)%j,Q.inclusive?N<=S:N<S&&N!==0}static lin2Val(Q){var N=this.brokenAxis;if(N=N&&N.breakArray,!N||!z(Q))return Q;let j,W;for(W=0;W<N.length&&(j=N[W],!(j.from>=Q));W++)(j.to<Q||E.isInBreak(j,Q))&&(Q+=j.len);return Q}static val2Lin(Q){var N=this.brokenAxis;if(N=N&&N.breakArray,!N||!z(Q))return Q;let j=Q,W,S;for(S=0;S<N.length;S++)if(W=N[S],W.to<=Q)j-=W.len;else{if(W.from>=Q)break;if(E.isInBreak(W,Q)){j-=Q-W.from;break}}return j}constructor(Q){this.hasBreaks=!1,this.axis=Q}findBreakAt(Q,N){return m(N,function(j){return j.from<Q&&Q<j.to})}isInAnyBreak(Q,N){const j=this.axis,W=j.options.breaks||[];let S=W.length,P,f,g;if(S&&z(Q)){for(;S--;)E.isInBreak(W[S],Q)&&(P=!0,f||(f=Y(W[S].showPoints,!j.isXAxis)));g=P&&N?P&&!f:P}return g}setBreaks(Q,N){const j=this,W=j.axis,S=x(Q)&&!!Q.length;W.isDirty=j.hasBreaks!==S,j.hasBreaks=S,W.options.breaks=W.userOptions.breaks=Q,W.forceRedraw=!0,W.series.forEach(function(P){P.isDirty=!0}),S||W.val2lin!==E.val2Lin||(delete W.val2lin,delete W.lin2val),S&&(W.userOptions.ordinal=!1,W.lin2val=E.lin2Val,W.val2lin=E.val2Lin,W.setExtremes=function(P,f,g,b,D){if(j.hasBreaks){const X=this.options.breaks||[];let te;for(;te=j.findBreakAt(P,X);)P=te.to;for(;te=j.findBreakAt(f,X);)f=te.from;f<P&&(f=P)}W.constructor.prototype.setExtremes.call(this,P,f,g,b,D)},W.setAxisTranslation=function(){if(W.constructor.prototype.setAxisTranslation.call(this),j.unitLength=void 0,j.hasBreaks){const P=W.options.breaks||[],f=[],g=[],b=Y(W.pointRangePadding,0);let D=0,X,te,Z=W.userMin||W.min,de=W.userMax||W.max,ge,Ce;P.forEach(function(J){te=J.repeat||1/0,z(Z)&&z(de)&&(E.isInBreak(J,Z)&&(Z+=J.to%te-Z%te),E.isInBreak(J,de)&&(de-=de%te-J.from%te))}),P.forEach(function(J){if(ge=J.from,te=J.repeat||1/0,z(Z)&&z(de)){for(;ge-te>Z;)ge-=te;for(;ge<Z;)ge+=te;for(Ce=ge;Ce<de;Ce+=te)f.push({value:Ce,move:"in"}),f.push({value:Ce+J.to-J.from,move:"out",size:J.breakSize})}}),f.sort(function(J,oe){return J.value===oe.value?(J.move==="in"?0:1)-(oe.move==="in"?0:1):J.value-oe.value}),X=0,ge=Z,f.forEach(function(J){X+=J.move==="in"?1:-1,X===1&&J.move==="in"&&(ge=J.value),X===0&&z(ge)&&(g.push({from:ge,to:J.value,len:J.value-ge-(J.size||0)}),D+=J.value-ge-(J.size||0))}),j.breakArray=g,z(Z)&&z(de)&&z(W.min)&&(j.unitLength=de-Z-D+b,n(W,"afterBreaks"),W.staticScale?W.transA=W.staticScale:j.unitLength&&(W.transA*=(de-W.min+b)/j.unitLength),b&&(W.minPixelPadding=W.transA*(W.minPointOffset||0)),W.min=Z,W.max=de)}}),Y(N,!0)&&W.chart.redraw()}}V.Additions=E}(O||(O={})),O}),s(t,"masters/modules/broken-axis.src.js",[t["Core/Globals.js"],t["Core/Axis/BrokenAxis.js"]],function(a,c){c.compose(a.Axis,a.Series)}),s(t,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),s(t,"Extensions/DataGrouping/ApproximationDefaults.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Core/Utilities.js"]],function(a,c){function h(V){const q=V.length;return V=m(V),O(V)&&q&&(V=z(V/q)),V}function m(V){let q=V.length,L;if(!q&&V.hasNulls)L=null;else if(q)for(L=0;q--;)L+=V[q];return L}const{arrayMax:n,arrayMin:x,correctFloat:z,extend:Y,isNumber:O}=c;return c={average:h,averages:function(){const V=[];return[].forEach.call(arguments,function(q){V.push(h(q))}),typeof V[0]>"u"?void 0:V},close:function(V){return V.length?V[V.length-1]:V.hasNulls?null:void 0},high:function(V){return V.length?n(V):V.hasNulls?null:void 0},hlc:function(V,q,L){if(V=a.high(V),q=a.low(q),L=a.close(L),O(V)||O(q)||O(L))return[V,q,L]},low:function(V){return V.length?x(V):V.hasNulls?null:void 0},ohlc:function(V,q,L,I){if(V=a.open(V),q=a.high(q),L=a.low(L),I=a.close(I),O(V)||O(q)||O(L)||O(I))return[V,q,L,I]},open:function(V){return V.length?V[0]:V.hasNulls?null:void 0},range:function(V,q){if(V=a.low(V),q=a.high(q),O(V)||O(q))return[V,q];if(V===null&&q===null)return null},sum:m},Y(a,c),c}),s(t,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %e %b, %H:%M:%S.%L","%A, %e %b, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %e %b, %H:%M:%S","%A, %e %b, %H:%M:%S","-%H:%M:%S"],minute:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],hour:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],day:["%A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],week:["Week from %A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),s(t,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Utilities.js"]],function(a,c){function h(I){const H=this,M=H.series;M.forEach(function(C){C.groupPixelWidth=void 0}),M.forEach(function(C){C.groupPixelWidth=H.getGroupPixelWidth&&H.getGroupPixelWidth(),C.groupPixelWidth&&(C.hasProcessed=!0),C.applyGrouping(!!I.hasExtremesChanged)})}function m(){const I=this.series;let H=I.length,M=0,C=!1,A,U;for(;H--;)(U=I[H].options.dataGrouping)&&(M=Math.max(M,V(U.groupPixelWidth,a.common.groupPixelWidth)),A=(I[H].processedXData||I[H].data).length,(I[H].groupPixelWidth||A>this.chart.plotSizeX/M||A&&U.forced)&&(C=!0));return C?M:0}function n(){this.series.forEach(function(I){I.hasProcessed=!1})}function x(I,H){let M;if(H=V(H,!0),I||(I={forced:!1,units:null}),this instanceof L)for(M=this.series.length;M--;)this.series[M].update({dataGrouping:I},!1);else this.chart.options.series.forEach(function(C){C.dataGrouping=typeof I=="boolean"?I:O(I,C.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),H&&this.chart.redraw()}const{addEvent:z,extend:Y,merge:O,pick:V}=c,q=[];let L;return{compose:function(I){L=I,c.pushUnique(q,I)&&(z(I,"afterSetScale",n),z(I,"postProcessData",h),Y(I.prototype,{applyGrouping:h,getGroupPixelWidth:m,setDataGrouping:x}))}}}),s(t,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Axis/DateTimeAxis.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,h,m,n,x){function z(N){var j=this.chart,W=this.options.dataGrouping,S=this.allowDG!==!1&&W&&E(W.enabled,j.options.isStock),P=this.visible||!j.options.chart.ignoreHiddenSeries;const f=this.currentDataGrouping;var g=!1;if(S&&!this.requireSorting&&(this.requireSorting=g=!0),N=!!(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!N)||!S,g&&(this.requireSorting=!1),!N){this.destroyGroupedData(),N=W.groupAll?this.xData:this.processedXData,S=W.groupAll?this.yData:this.processedYData;var b=j.plotSizeX;g=this.xAxis;var D=g.options.ordinal,X=this.groupPixelWidth,te;let ce;if(X&&N&&N.length&&b){this.isDirty=ce=!0,this.points=null;var Z=g.getExtremes(),de=Z.min;Z=Z.max,D=D&&g.ordinal&&g.ordinal.getGroupIntervalFactor(de,Z,this)||1,b=g.getTimeTicks(h.Additions.prototype.normalizeTimeTickInterval(X*(Z-de)/b*D,W.units||c.units),Math.min(de,N[0]),Math.max(Z,N[N.length-1]),g.options.startOfWeek,N,this.closestPointRange),X=I.groupData.apply(this,[N,S,b,W.approximation]),N=X.groupedXData,S=X.groupedYData,D=0,W&&W.smoothed&&N.length&&(W.firstAnchor="firstPoint",W.anchor="middle",W.lastAnchor="lastPoint",C(32,!1,j,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),j=N;var ge=Z,Ce=this.options.dataGrouping;if(Z=this.currentDataGrouping&&this.currentDataGrouping.gapSize,Ce&&this.xData&&Z&&this.groupMap){de=j.length-1;var J=Ce.anchor;const pe=E(Ce.firstAnchor,J);if(Ce=E(Ce.lastAnchor,J),J&&J!=="start"){var oe=Z*{middle:.5,end:1}[J];for(J=j.length-1;J--&&0<J;)j[J]+=oe}pe&&pe!=="start"&&this.xData[0]>=j[0]&&(J=this.groupMap[0].start,oe=this.groupMap[0].length,U(J)&&U(oe)&&(te=J+(oe-1)),j[0]={middle:j[0]+.5*Z,end:j[0]+Z,firstPoint:this.xData[0],lastPoint:te&&this.xData[te]}[pe]),Ce&&Ce!=="start"&&Z&&j[de]>=ge-Z&&(te=this.groupMap[this.groupMap.length-1].start,j[de]={middle:j[de]+.5*Z,end:j[de]+Z,firstPoint:te&&this.xData[te],lastPoint:this.xData[this.xData.length-1]}[Ce])}for(te=1;te<b.length;te++)b.info.segmentStarts&&b.info.segmentStarts.indexOf(te)!==-1||(D=Math.max(b[te]-b[te-1],D));Z=b.info,Z.gapSize=D,this.closestPointRange=b.info.totalRange,this.groupMap=X.groupMap,P&&(P=g,te=N,M(te[0])&&U(P.min)&&U(P.dataMin)&&te[0]<P.min&&((!M(P.options.min)&&P.min<=P.dataMin||P.min===P.dataMin)&&(P.min=Math.min(te[0],P.min)),P.dataMin=Math.min(te[0],P.dataMin)),M(te[te.length-1])&&U(P.max)&&U(P.dataMax)&&te[te.length-1]>P.max&&((!M(P.options.max)&&U(P.dataMax)&&P.max>=P.dataMax||P.max===P.dataMax)&&(P.max=Math.max(te[te.length-1],P.max)),P.dataMax=Math.max(te[te.length-1],P.dataMax))),W.groupAll&&(this.allGroupedData=S,W=this.cropData(N,S,g.min,g.max,1),N=W.xData,S=W.yData,this.cropStart=W.start),this.processedXData=N,this.processedYData=S}else this.groupMap=null;this.hasGroupedData=ce,this.currentDataGrouping=Z,this.preventGraphAnimation=(f&&f.totalRange)!==(Z&&Z.totalRange)}}function Y(){this.groupedData&&(this.groupedData.forEach(function(N,j){N&&(this.groupedData[j]=N.destroy?N.destroy():null)},this),this.groupedData.length=0)}function O(){ee.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function V(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")?"sum":"average"}function q(N,j,W,S){const P=this,f=P.data,g=P.options&&P.options.data,b=[],D=[],X=[],te=N.length,Z=!!j,de=[],ge=P.pointArrayMap,Ce=ge&&ge.length,J=["x"].concat(ge||["y"]),oe=this.options.dataGrouping&&this.options.dataGrouping.groupAll;let ce=0,pe=0;if(S=typeof S=="function"?S:S&&a[S]?a[S]:a[P.getDGApproximation&&P.getDGApproximation()||"average"],Ce)for(var Ee=ge.length;Ee--;)de.push([]);else de.push([]);Ee=Ce||1;for(let _e=0;_e<=te;_e++)if(!(N[_e]<W[0])){for(;typeof W[ce+1]<"u"&&N[_e]>=W[ce+1]||_e===te;){var ne=W[ce];P.dataGroupInfo={start:oe?pe:P.cropStart+pe,length:de[0].length};var ye=S.apply(P,de);for(P.pointClass&&!M(P.dataGroupInfo.options)&&(P.dataGroupInfo.options=$(P.pointClass.prototype.optionsToObject.call({series:P},P.options.data[P.cropStart+pe])),J.forEach(function(ae){delete P.dataGroupInfo.options[ae]})),typeof ye<"u"&&(b.push(ne),D.push(ye),X.push(P.dataGroupInfo)),pe=_e,ne=0;ne<Ee;ne++)de[ne].length=0,de[ne].hasNulls=!1;if(ce+=1,_e===te)break}if(_e===te)break;if(ge){ne=P.options.dataGrouping&&P.options.dataGrouping.groupAll?_e:P.cropStart+_e,ne=f&&f[ne]||P.pointClass.prototype.applyOptions.apply({series:P},[g[ne]]);for(let ae=0;ae<Ce;ae++)ye=ne[ge[ae]],U(ye)?de[ae].push(ye):ye===null&&(de[ae].hasNulls=!0)}else ne=Z?j[_e]:null,U(ne)?de[0].push(ne):ne===null&&(de[0].hasNulls=!0)}return{groupedXData:b,groupedYData:D,groupMap:X}}function L(N){N=N.options;const j=this.type,W=this.chart.options.plotOptions,S=this.useCommonDataGrouping&&c.common,P=c.seriesSpecific;let f=m.defaultOptions.plotOptions[j].dataGrouping;if(W&&(P[j]||S)){const g=this.chart.rangeSelector;f||(f=$(c.common,P[j])),N.dataGrouping=$(S,f,W.series&&W.series.dataGrouping,W[j].dataGrouping,this.userOptions.dataGrouping,!N.isInternal&&g&&U(g.selected)&&g.buttonOptions[g.selected].dataGrouping)}}const{series:{prototype:I}}=n,{addEvent:H,defined:M,error:C,extend:A,isNumber:U,merge:$,pick:E}=x,ee=I.generatePoints,Q=[];return{compose:function(N){const j=N.prototype.pointClass;x.pushUnique(Q,j)&&H(j,"update",function(){if(this.dataGroup)return C(24,!1,this.series.chart),!1}),x.pushUnique(Q,N)&&(H(N,"afterSetOptions",L),H(N,"destroy",Y),A(N.prototype,{applyGrouping:z,destroyGroupedData:Y,generatePoints:O,getDGApproximation:V,groupData:q}))},groupData:q}}),s(t,"Extensions/DataGrouping/DataGrouping.js",[t["Extensions/DataGrouping/DataGroupingAxisComposition.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],function(a,c,h,m,n){function x(L){const I=this.chart,H=I.time,M=L.labelConfig,C=M.series;var A=C.tooltipOptions,U=C.options.dataGrouping;const $=C.xAxis;var E=A.xDateFormat;let ee,Q,N=A[L.isFooter?"footerFormat":"headerFormat"];$&&$.options.type==="datetime"&&U&&V(M.key)&&(Q=C.currentDataGrouping,U=U.dateTimeLabelFormats||c.common.dateTimeLabelFormats,Q?(A=U[Q.unitName],Q.count===1?E=A[0]:(E=A[1],ee=A[2])):!E&&U&&$.dateTime&&(E=$.dateTime.getXDateFormat(M.x,A.dateTimeLabelFormats)),E=H.dateFormat(E,M.key),ee&&(E+=H.dateFormat(ee,M.key+Q.totalRange-1)),C.chart.styledMode&&(N=this.styledModeFormat(N)),L.text=z(N,{point:O(M.point,{key:E}),series:C},I),L.preventDefault())}const{format:z}=m,{addEvent:Y,extend:O,isNumber:V}=n,q=[];return m={compose:function(L,I,H){a.compose(L),h.compose(I),H&&n.pushUnique(q,H)&&Y(H,"headerFormatter",x)},groupData:h.groupData},m}),s(t,"masters/modules/datagrouping.src.js",[t["Core/Globals.js"],t["Extensions/DataGrouping/ApproximationDefaults.js"],t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGrouping.js"]],function(a,c,h,m){a.dataGrouping={approximationDefaults:c,approximations:h},m.compose(a.Axis,a.Series,a.Tooltip)}),s(t,"Series/DataModifyComposition.js",[t["Core/Axis/Axis.js"],t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(a,c,h,m){const{prototype:{tooltipFormatter:n}}=c,{addEvent:x,arrayMax:z,arrayMin:Y,correctFloat:O,defined:V,isArray:q,isNumber:L,isString:I,pick:H}=m;var M;return function(C){function A(f,g,b){this.isXAxis||(this.series.forEach(function(D){f==="compare"&&typeof g!="boolean"?D.setCompare(g,!1):f!=="cumulative"||I(g)||D.setCumulative(g,!1)}),H(b,!0)&&this.chart.redraw())}function U(f){const g=this,{numberFormatter:b}=g.series.chart,D=function(X){f=f.replace("{point."+X+"}",(0<g[X]&&X==="change"?"+":"")+b(g[X],H(g.series.tooltipOptions.changeDecimals,2)))};return V(g.change)&&D("change"),V(g.cumulativeSum)&&D("cumulativeSum"),n.apply(this,[f])}function $(){const f=this.options.compare;let g;(f==="percent"||f==="value"||this.options.cumulative)&&(g=new P(this),f==="percent"||f==="value"?g.initCompare(f):g.initCumulative()),this.dataModify=g}function E(f){f=f.dataExtremes;const g=f.activeYData;if(this.dataModify&&f){let b;this.options.compare?b=[this.dataModify.modifyValue(f.dataMin),this.dataModify.modifyValue(f.dataMax)]:this.options.cumulative&&q(g)&&2<=g.length&&(b=P.getCumulativeExtremes(g)),b&&(f.dataMin=Y(b),f.dataMax=z(b))}}function ee(f,g){this.options.compare=this.userOptions.compare=f,this.update({},H(g,!0)),!this.dataModify||f!=="value"&&f!=="percent"?this.points.forEach(b=>{delete b.change}):this.dataModify.initCompare(f)}function Q(){if(this.xAxis&&this.processedYData&&this.dataModify){const f=this.processedXData,g=this.processedYData,b=g.length,D=this.options.compareStart===!0?0:1;let X=-1,te;for(this.pointArrayMap&&(X=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),te=0;te<b-D;te++){const Z=g[te]&&-1<X?g[te][X]:g[te];if(L(Z)&&Z!==0&&f[te+D]>=(this.xAxis.min||0)){this.dataModify.compareValue=Z;break}}}}function N(f,g){this.setModifier("compare",f,g)}function j(f,g){f=H(f,!1),this.options.cumulative=this.userOptions.cumulative=f,this.update({},H(g,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(b=>{delete b.cumulativeSum})}function W(f,g){this.setModifier("cumulative",f,g)}const S=[];C.compose=function(f,g,b){if(m.pushUnique(S,f)){const D=f.prototype;D.setCompare=ee,D.setCumulative=j,x(f,"afterInit",$),x(f,"afterGetExtremes",E),x(f,"afterProcessData",Q)}return m.pushUnique(S,g)&&(g=g.prototype,g.setCompare=N,g.setModifier=A,g.setCumulative=W),m.pushUnique(S,b)&&(b.prototype.tooltipFormatter=U),f};class P{constructor(g){this.series=g}modifyValue(){return 0}static getCumulativeExtremes(g){let b=1/0,D=-1/0;return g.reduce((X,te)=>(te=X+te,b=Math.min(b,te,X),D=Math.max(D,te,X),te)),[b,D]}initCompare(g){this.modifyValue=function(b,D){b===null&&(b=0);const X=this.compareValue;return typeof b<"u"&&typeof X<"u"?(b=g==="value"?b-X:b/X*100-(this.series.options.compareBase===100?0:100),typeof D<"u"&&(D=this.series.points[D])&&(D.change=b),b):0}}initCumulative(){this.modifyValue=function(g,b){if(g===null&&(g=0),g!==void 0&&b!==void 0){const D=0<b?this.series.points[b-1]:null;return D&&D.cumulativeSum&&(g=O(D.cumulativeSum+g)),(b=this.series.points[b])&&(b.cumulativeSum=g),g}return 0}}}C.Additions=P}(M||(M={})),M}),s(t,"Core/Axis/NavigatorAxisComposition.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(a,c){function h(){this.navigatorAxis||(this.navigatorAxis=new L(this))}function m(I){var H=this.chart.options,M=H.navigator;const C=this.navigatorAxis,A=H.chart.zooming.pinchType,U=H.rangeSelector;H=H.chart.zooming.type,this.isXAxis&&(M&&M.enabled||U&&U.enabled)&&(H==="y"?I.zoomed=!1:(!n&&H==="xy"||n&&A==="xy")&&this.options.range&&(M=C.previousZoom,Y(I.newMin)?C.previousZoom=[this.min,this.max]:M&&(I.newMin=M[0],I.newMax=M[1],C.previousZoom=void 0))),typeof I.zoomed<"u"&&I.preventDefault()}const{isTouchDevice:n}=a,{addEvent:x,correctFloat:z,defined:Y,isNumber:O,pick:V}=c,q=[];class L{static compose(H){c.pushUnique(q,H)&&(H.keepProps.push("navigatorAxis"),x(H,"init",h),x(H,"zoom",m))}constructor(H){this.axis=H}destroy(){this.axis=void 0}toFixedRange(H,M,C,A){var U=this.axis,$=U.chart;H=V(C,U.translate(H,!0,!U.horiz)),M=V(A,U.translate(M,!0,!U.horiz)),$=$&&$.fixedRange,U=(U.pointRange||0)/2;const E=$&&(M-H)/$;return Y(C)||(H=z(H+U)),Y(A)||(M=z(M-U)),.7<E&&1.3>E&&(A?H=M-$:M=H+$),O(H)&&O(M)||(H=M=void 0),{min:H,max:M}}}return L}),s(t,"Stock/Navigator/NavigatorDefaults.js",[t["Core/Color/Color.js"],t["Core/Series/SeriesRegistry.js"]],function(a,c){return{parse:a}=a,{seriesTypes:c}=c,c={height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:a("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:typeof c.areaspline>"u"?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}},c}),s(t,"Stock/Navigator/NavigatorSymbols.js",[],function(){return{"navigator-handle":function(a,c,h,m,n={}){return a=n.width?n.width/2:h,c=Math.round(a/3)+.5,m=n.height||m,[["M",-a-1,.5],["L",a,.5],["L",a,m+.5],["L",-a-1,m+.5],["L",-a-1,.5],["M",-c,4],["L",-c,m-3],["M",c-1,4],["L",c-1,m-3]]}}}),s(t,"Stock/Navigator/NavigatorComposition.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/Navigator/NavigatorSymbols.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Utilities.js"]],function(a,c,h,m,n,x,z){function Y(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function O(){var S;const P=this.legend,f=this.navigator;let g,b,D;if(f){g=P&&P.options,b=f.xAxis,D=f.yAxis;const{scrollbarHeight:X,scrollButtonSize:te}=f;this.inverted?(f.left=f.opposite?this.chartWidth-X-f.height:this.spacing[3]+X,f.top=this.plotTop+te):(f.left=N(b.left,this.plotLeft+te),f.top=f.navigatorOptions.top||this.chartHeight-f.height-X-(((S=this.scrollbar)===null||S===void 0?void 0:S.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(g&&g.verticalAlign==="bottom"&&g.layout!=="proximate"&&g.enabled&&!g.floating?P.legendHeight+N(g.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),b&&D&&(this.inverted?b.options.left=D.options.left=f.left:b.options.top=D.options.top=f.top,b.setAxisSize(),D.setAxisSize())}}function V(S){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new W(this),N(S.redraw,!0)&&this.redraw(S.animation))}function q(){const S=this.options;(S.navigator.enabled||S.scrollbar.enabled)&&(this.scroller=this.navigator=new W(this))}function L(){const S=this.options,P=S.navigator,f=S.rangeSelector;if((P&&P.enabled||f&&f.enabled)&&(!U&&S.chart.zooming.type==="x"||U&&S.chart.zooming.pinchType==="x"))return!1}function I(S){const P=S.navigator;P&&S.xAxis[0]&&(S=S.xAxis[0].getExtremes(),P.render(S.min,S.max))}function H(S){const P=S.options.navigator||{},f=S.options.scrollbar||{};this.navigator||this.scroller||!P.enabled&&!f.enabled||(Q(!0,this.options.navigator,P),Q(!0,this.options.scrollbar,f),delete S.options.navigator,delete S.options.scrollbar)}function M(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}const{defaultOptions:C,setOptions:A}=a,{isTouchDevice:U}=c,{getRendererType:$}=x,{addEvent:E,extend:ee,merge:Q,pick:N}=z,j=[];let W;return{compose:function(S,P,f,g){h.compose(S),W=f,z.pushUnique(j,P)&&(P.prototype.callbacks.push(I),E(P,"afterAddSeries",Y),E(P,"afterSetChartSize",O),E(P,"afterUpdate",V),E(P,"beforeRender",q),E(P,"beforeShowResetZoom",L),E(P,"update",H)),z.pushUnique(j,g)&&E(g,"afterUpdate",M),z.pushUnique(j,$)&&ee($().prototype.symbols,n),z.pushUnique(j,A)&&ee(C,{navigator:m})}}}),s(t,"Core/Axis/ScrollbarAxis.js",[t["Core/Utilities.js"]],function(a){const{addEvent:c,defined:h,pick:m}=a,n=[];class x{static compose(Y,O){if(!a.pushUnique(n,Y))return Y;const V=q=>{const L=m(q.options&&q.options.min,q.min),I=m(q.options&&q.options.max,q.max);return{axisMin:L,axisMax:I,scrollMin:h(q.dataMin)?Math.min(L,q.min,q.dataMin,m(q.threshold,1/0)):L,scrollMax:h(q.dataMax)?Math.max(I,q.max,q.dataMax,m(q.threshold,-1/0)):I}};return c(Y,"afterInit",function(){const q=this;q.options&&q.options.scrollbar&&q.options.scrollbar.enabled&&(q.options.scrollbar.vertical=!q.horiz,q.options.startOnTick=q.options.endOnTick=!1,q.scrollbar=new O(q.chart.renderer,q.options.scrollbar,q.chart),c(q.scrollbar,"changed",function(L){let{axisMin:I,axisMax:H,scrollMin:M,scrollMax:C}=V(q);var A=C-M;let U;h(I)&&h(H)&&(q.horiz&&!q.reversed||!q.horiz&&q.reversed?(U=M+A*this.to,A=M+A*this.from):(U=M+A*(1-this.from),A=M+A*(1-this.to)),this.shouldUpdateExtremes(L.DOMType)?q.setExtremes(A,U,!0,L.DOMType==="mousemove"||L.DOMType==="touchmove"?!1:void 0,L):this.setRange(this.from,this.to))}))}),c(Y,"afterRender",function(){let{scrollMin:q,scrollMax:L}=V(this),I=this.scrollbar;var H=this.axisTitleMargin+(this.titleOffset||0),M=this.chart.scrollbarsOffsets;let C=this.options.margin||0;I&&(this.horiz?(this.opposite||(M[1]+=H),I.position(this.left,this.top+this.height+2+M[1]-(this.opposite?C:0),this.width,this.height),this.opposite||(M[1]+=C),H=1):(this.opposite&&(M[0]+=H),I.position(I.options.opposite?this.left+this.width+2+M[0]-(this.opposite?0:C):this.opposite?0:C,this.top,this.width,this.height),this.opposite&&(M[0]+=C),H=0),M[H]+=I.size+(I.options.margin||0),isNaN(q)||isNaN(L)||!h(this.min)||!h(this.max)||this.min===this.max?I.setRange(0,1):(M=(this.min-q)/(L-q),H=(this.max-q)/(L-q),this.horiz&&!this.reversed||!this.horiz&&this.reversed?I.setRange(M,H):I.setRange(1-H,1-M)))}),c(Y,"afterGetOffset",function(){const q=this.scrollbar;var L=q&&!q.options.opposite;L=this.horiz?2:L?3:1,q&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[L]+=q.size+(q.options.margin||0))}),Y}}return x}),s(t,"Stock/Scrollbar/ScrollbarDefaults.js",[t["Core/Globals.js"]],function(a){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),s(t,"Stock/Scrollbar/Scrollbar.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/ScrollbarAxis.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Utilities.js"]],function(a,c,h,m,n){const{defaultOptions:x}=a,{addEvent:z,correctFloat:Y,defined:O,destroyObjectProperties:V,fireEvent:q,merge:L,pick:I,removeEvent:H}=n;class M{static compose(A){h.compose(A,M)}static swapXY(A,U){return U&&A.forEach($=>{const E=$.length;let ee;for(let Q=0;Q<E;Q+=2)ee=$[Q+1],typeof ee=="number"&&($[Q+1]=$[Q+2],$[Q+2]=ee)}),A}constructor(A,U,$){this._events=[],this.chart=void 0,this.from=this.chartY=this.chartX=0,this.scrollbar=this.renderer=this.options=this.group=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.to=this.size=this.scrollbarTop=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.y=this.x=0,this.init(A,U,$)}addEvents(){var A=this.options.inverted?[1,0]:[0,1];const U=this.scrollbarButtons,$=this.scrollbarGroup.element,E=this.track.element,ee=this.mouseDownHandler.bind(this),Q=this.mouseMoveHandler.bind(this),N=this.mouseUpHandler.bind(this);A=[[U[A[0]].element,"click",this.buttonToMinClick.bind(this)],[U[A[1]].element,"click",this.buttonToMaxClick.bind(this)],[E,"click",this.trackClick.bind(this)],[$,"mousedown",ee],[$.ownerDocument,"mousemove",Q],[$.ownerDocument,"mouseup",N]],c.hasTouch&&A.push([$,"touchstart",ee],[$.ownerDocument,"touchmove",Q],[$.ownerDocument,"touchend",N]),A.forEach(function(j){z.apply(null,j)}),this._events=A}buttonToMaxClick(A){const U=(this.to-this.from)*I(this.options.step,.2);this.updatePosition(this.from+U,this.to+U),q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:A})}buttonToMinClick(A){const U=Y(this.to-this.from)*I(this.options.step,.2);this.updatePosition(Y(this.from-U),Y(this.to-U)),q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:A})}cursorToScrollbarPosition(A){var U=this.options;return U=U.minWidth>this.calculatedWidth?U.minWidth:0,{chartX:(A.chartX-this.x-this.xOffset)/(this.barWidth-U),chartY:(A.chartY-this.y-this.yOffset)/(this.barWidth-U)}}destroy(){const A=this,U=A.chart.scroller;A.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function($){A[$]&&A[$].destroy&&(A[$]=A[$].destroy())}),U&&A===U.scrollbar&&(U.scrollbar=null,V(U.scrollbarButtons))}drawScrollbarButton(A){const U=this.renderer,$=this.scrollbarButtons,E=this.options,ee=this.size;var Q=U.g().add(this.group);$.push(Q),E.buttonsEnabled&&(Q=U.rect().addClass("highcharts-scrollbar-button").add(Q),this.chart.styledMode||Q.attr({stroke:E.buttonBorderColor,"stroke-width":E.buttonBorderWidth,fill:E.buttonBackgroundColor}),Q.attr(Q.crisp({x:-.5,y:-.5,width:ee+1,height:ee+1,r:E.buttonBorderRadius},Q.strokeWidth())),A=U.path(M.swapXY([["M",ee/2+(A?-1:1),ee/2-3],["L",ee/2+(A?-1:1),ee/2+3],["L",ee/2+(A?2:-2),ee/2]],E.vertical)).addClass("highcharts-scrollbar-arrow").add($[A]),this.chart.styledMode||A.attr({fill:E.buttonArrowColor}))}init(A,U,$){this.scrollbarButtons=[],this.renderer=A,this.userOptions=U,this.options=L(m,x.scrollbar,U),this.options.margin=I(this.options.margin,10),this.chart=$,this.size=I(this.options.size,this.options.height),U.enabled&&(this.render(),this.addEvents())}mouseDownHandler(A){A=this.chart.pointer.normalize(A),A=this.cursorToScrollbarPosition(A),this.chartX=A.chartX,this.chartY=A.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(A){var U=this.chart.pointer.normalize(A),$=this.options.vertical?"chartY":"chartX";const E=this.initPositions||[];!this.grabbedCenter||A.touches&&A.touches[0][$]===0||(U=this.cursorToScrollbarPosition(U)[$],$=this[$],$=U-$,this.hasDragged=!0,this.updatePosition(E[0]+$,E[1]+$),this.hasDragged&&q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:A.type,DOMEvent:A}))}mouseUpHandler(A){this.hasDragged&&q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:A.type,DOMEvent:A}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(A,U,$,E){const{buttonsEnabled:ee,margin:Q=0,vertical:N}=this.options,j=this.rendered?"animate":"attr";let W=E,S=0;this.group.show(),this.x=A,this.y=U+this.trackBorderWidth,this.width=$,this.height=E,this.xOffset=W,this.yOffset=S,N?(this.width=this.yOffset=$=this.size,this.xOffset=W=0,this.yOffset=S=ee?this.size:0,this.barWidth=E-(ee?2*$:0),this.x=A+=Q):(this.height=E=this.size,this.xOffset=W=ee?this.size:0,this.barWidth=$-(ee?2*E:0),this.y+=Q),this.group[j]({translateX:A,translateY:this.y}),this.track[j]({width:$,height:E}),this.scrollbarButtons[1][j]({translateX:N?0:$-W,translateY:N?E-S:0})}removeEvents(){this._events.forEach(function(A){H.apply(null,A)}),this._events.length=0}render(){const A=this.renderer,U=this.options,$=this.size,E=this.chart.styledMode,ee=A.g("scrollbar").attr({zIndex:U.zIndex}).hide().add();this.group=ee,this.track=A.rect().addClass("highcharts-scrollbar-track").attr({r:U.trackBorderRadius||0,height:$,width:$}).add(ee),E||this.track.attr({fill:U.trackBackgroundColor,stroke:U.trackBorderColor,"stroke-width":U.trackBorderWidth});const Q=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-Q%2/2,y:-Q%2/2}),this.scrollbarGroup=A.g().add(ee),this.scrollbar=A.rect().addClass("highcharts-scrollbar-thumb").attr({height:$-Q,width:$-Q,r:U.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=A.path(M.swapXY([["M",-3,$/4],["L",-3,2*$/3],["M",0,$/4],["L",0,2*$/3],["M",3,$/4],["L",3,2*$/3]],U.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),E||(this.scrollbar.attr({fill:U.barBackgroundColor,stroke:U.barBorderColor,"stroke-width":U.barBorderWidth}),this.scrollbarRifles.attr({stroke:U.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(A,U){const $=this.options,E=$.vertical;var ee=$.minWidth,Q=this.barWidth;const N=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(O(Q)){var j=Q*Math.min(U,1);A=Math.max(A,0);var W=Math.ceil(Q*A);this.calculatedWidth=j=Y(j-W),j<ee&&(W=(Q-ee+j)*A,j=ee),ee=Math.floor(W+this.xOffset+this.yOffset),Q=j/2-.5,this.from=A,this.to=U,E?(this.scrollbarGroup[N]({translateY:ee}),this.scrollbar[N]({height:j}),this.scrollbarRifles[N]({translateY:Q}),this.scrollbarTop=ee,this.scrollbarLeft=0):(this.scrollbarGroup[N]({translateX:ee}),this.scrollbar[N]({width:j}),this.scrollbarRifles[N]({translateX:Q}),this.scrollbarLeft=ee,this.scrollbarTop=0),12>=j?this.scrollbarRifles.hide():this.scrollbarRifles.show(),$.showFull===!1&&(0>=A&&1<=U?this.group.hide():this.group.show()),this.rendered=!0}}shouldUpdateExtremes(A){return I(this.options.liveRedraw,c.svg&&!c.isTouchDevice&&!this.chart.boosted)||A==="mouseup"||A==="touchend"||!O(A)}trackClick(A){const U=this.chart.pointer.normalize(A),$=this.to-this.from,E=this.y+this.scrollbarTop,ee=this.x+this.scrollbarLeft;this.options.vertical&&U.chartY>E||!this.options.vertical&&U.chartX>ee?this.updatePosition(this.from+$,this.to+$):this.updatePosition(this.from-$,this.to-$),q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:A})}update(A){this.destroy(),this.init(this.chart.renderer,L(!0,this.options,A),this.chart)}updatePosition(A,U){1<U&&(A=Y(1-Y(U-A)),U=1),0>A&&(U=Y(U-A),A=0),this.from=A,this.to=U}}return M.defaultOptions=m,x.scrollbar=L(!0,M.defaultOptions,x.scrollbar),M}),s(t,"Stock/Navigator/Navigator.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorComposition.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Utilities.js"]],function(a,c,h,m,n,x,z){function Y(P,...f){if(f=[].filter.call(f,ee),f.length)return Math[P].apply(0,f)}const{defaultOptions:O}=c,{hasTouch:V,isTouchDevice:q}=h,{addEvent:L,clamp:I,correctFloat:H,defined:M,destroyObjectProperties:C,erase:A,extend:U,find:$,isArray:E,isNumber:ee,merge:Q,pick:N,removeEvent:j,splat:W}=z;class S{static compose(f,g,b){n.compose(f,g,S,b)}constructor(f){this.rendered=this.range=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=this.height=this.handles=this.chart=this.baseSeries=void 0,this.scrollbarHeight=0,this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.scrollButtonSize=void 0,this.init(f)}drawHandle(f,g,b,D){const X=this.navigatorOptions.handles.height;this.handles[g][D](b?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(f,10)+.5-X)}:{translateX:Math.round(this.left+parseInt(f,10)),translateY:Math.round(this.top+this.height/2-X/2-1)})}drawOutline(f,g,b,D){const X=this.navigatorOptions.maskInside;var te=this.outline.strokeWidth();const Z=te/2;var de=te%2/2;const ge=this.scrollButtonSize,Ce=this.size,J=this.top;te=this.height;const oe=J-Z,ce=J+te;let pe=this.left;b?(b=J+g+de,g=J+f+de,de=[["M",pe+te,J-ge-de],["L",pe+te,b],["L",pe,b],["M",pe,g],["L",pe+te,g],["L",pe+te,J+Ce+ge]],X&&de.push(["M",pe+te,b-Z],["L",pe+te,g+Z])):(pe-=ge,f+=pe+ge-de,g+=pe+ge-de,de=[["M",pe,oe],["L",f,oe],["L",f,ce],["M",g,ce],["L",g,oe],["L",pe+Ce+2*ge,J+Z]],X&&de.push(["M",f-Z,oe],["L",g+Z,oe])),this.outline[D]({d:de})}drawMasks(f,g,b,D){const X=this.left,te=this.top,Z=this.height;let de,ge,Ce,J;b?(Ce=[X,X,X],J=[te,te+f,te+g],ge=[Z,Z,Z],de=[f,g-f,this.size-g]):(Ce=[X,X+f,X+g],J=[te,te,te],ge=[f,g-f,this.size-g],de=[Z,Z,Z]),this.shades.forEach((oe,ce)=>{oe[D]({x:Ce[ce],y:J[ce],width:ge[ce],height:de[ce]})})}renderElements(){const f=this,g=f.navigatorOptions,b=g.maskInside,D=f.chart,X=D.renderer,te={cursor:D.inverted?"ns-resize":"ew-resize"},Z=f.navigatorGroup=X.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!b,b,!b].forEach((de,ge)=>{const Ce=X.rect().addClass("highcharts-navigator-mask"+(ge===1?"-inside":"-outside")).add(Z);D.styledMode||(Ce.attr({fill:de?g.maskFill:"rgba(0,0,0,0)"}),ge===1&&Ce.css(te)),f.shades[ge]=Ce}),f.outline=X.path().addClass("highcharts-navigator-outline").add(Z),D.styledMode||f.outline.attr({"stroke-width":g.outlineWidth,stroke:g.outlineColor}),g.handles&&g.handles.enabled){const de=g.handles,{height:ge,width:Ce}=de;[0,1].forEach(J=>{f.handles[J]=X.symbol(de.symbols[J],-Ce/2-1,0,Ce,ge,de),D.inverted&&f.handles[J].attr({rotation:90,rotationOriginX:Math.floor(-Ce/2),rotationOriginY:(ge+Ce)/2}),f.handles[J].attr({zIndex:7-J}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][J]).add(Z),D.styledMode||f.handles[J].attr({fill:de.backgroundColor,stroke:de.borderColor,"stroke-width":de.lineWidth}).css(te)})}}update(f){(this.series||[]).forEach(g=>{g.baseSeries&&delete g.baseSeries.navigatorSeries}),this.destroy(),Q(!0,this.chart.options.navigator,f),this.init(this.chart)}render(f,g,b,D){var X=this.chart;const te=this.xAxis,Z=te.pointRange||0;var de=te.navigatorAxis.fake?X.xAxis[0]:te;const ge=this.navigatorEnabled;var Ce=this.rendered,J=X.inverted;const oe=X.xAxis[0].minRange,ce=X.xAxis[0].options.maxRange,pe=this.scrollButtonSize;let Ee=this.scrollbarHeight,ne;if(!this.hasDragged||M(b)){if(f=H(f-Z/2),g=H(g+Z/2),!ee(f)||!ee(g))if(Ce)b=0,D=N(te.width,de.width);else return;this.left=N(te.left,X.plotLeft+pe+(J?X.plotWidth:0));var ye=this.size=ne=N(te.len,(J?X.plotHeight:X.plotWidth)-2*pe);X=J?Ee:ne+2*pe,b=N(b,te.toPixels(f,!0)),D=N(D,te.toPixels(g,!0)),ee(b)&&Math.abs(b)!==1/0||(b=0,D=X),f=te.toValue(b,!0),g=te.toValue(D,!0);var _e=Math.abs(H(g-f));_e<oe?this.grabbedLeft?b=te.toPixels(g-oe-Z,!0):this.grabbedRight&&(D=te.toPixels(f+oe+Z,!0)):M(ce)&&H(_e-Z)>ce&&(this.grabbedLeft?b=te.toPixels(g-ce-Z,!0):this.grabbedRight&&(D=te.toPixels(f+ce+Z,!0))),this.zoomedMax=I(Math.max(b,D),0,ye),this.zoomedMin=I(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(b,D),0,ye),this.range=this.zoomedMax-this.zoomedMin,ye=Math.round(this.zoomedMax),b=Math.round(this.zoomedMin),ge&&(this.navigatorGroup.attr({visibility:"inherit"}),Ce=Ce&&!this.hasDragged?"animate":"attr",this.drawMasks(b,ye,J,Ce),this.drawOutline(b,ye,J,Ce),this.navigatorOptions.handles.enabled&&(this.drawHandle(b,0,J,Ce),this.drawHandle(ye,1,J,Ce))),this.scrollbar&&(J?(J=this.top-pe,de=this.left-Ee+(ge||!de.opposite?0:(de.titleOffset||0)+de.axisTitleMargin),Ee=ne+2*pe):(J=this.top+(ge?this.height:-Ee),de=this.left-pe),this.scrollbar.position(de,J,X,Ee),this.scrollbar.setRange(this.zoomedMin/(ne||1),this.zoomedMax/(ne||1))),this.rendered=!0}}addMouseEvents(){const f=this,g=f.chart,b=g.container;let D=[],X,te;f.mouseMoveHandler=X=function(Z){f.onMouseMove(Z)},f.mouseUpHandler=te=function(Z){f.onMouseUp(Z)},D=f.getPartsEvents("mousedown"),D.push(L(g.renderTo,"mousemove",X),L(b.ownerDocument,"mouseup",te)),V&&(D.push(L(g.renderTo,"touchmove",X),L(b.ownerDocument,"touchend",te)),D.concat(f.getPartsEvents("touchstart"))),f.eventsToUnbind=D,f.series&&f.series[0]&&D.push(L(f.series[0].xAxis,"foundExtremes",function(){g.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(f){const g=this,b=[];return["shades","handles"].forEach(function(D){g[D].forEach(function(X,te){b.push(L(X.element,f,function(Z){g[D+"Mousedown"](Z,te)}))})}),b}shadesMousedown(f,g){f=this.chart.pointer.normalize(f);const b=this.chart,D=this.xAxis,X=this.zoomedMin,te=this.size,Z=this.range;let de=this.left,ge=f.chartX,Ce,J;b.inverted&&(ge=f.chartY,de=this.top),g===1?(this.grabbedCenter=ge,this.fixedWidth=Z,this.dragOffset=ge-X):(f=ge-de-Z/2,g===0?f=Math.max(0,f):g===2&&f+Z>=te&&(f=te-Z,this.reversedExtremes?(f-=Z,J=this.getUnionExtremes().dataMin):Ce=this.getUnionExtremes().dataMax),f!==X&&(this.fixedWidth=Z,g=D.navigatorAxis.toFixedRange(f,f+Z,J,Ce),M(g.min)&&b.xAxis[0].setExtremes(Math.min(g.min,g.max),Math.max(g.min,g.max),!0,null,{trigger:"navigator"})))}handlesMousedown(f,g){this.chart.pointer.normalize(f),f=this.chart;const b=f.xAxis[0],D=this.reversedExtremes;g===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=D?b.min:b.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=D?b.max:b.min),f.fixedRange=null}onMouseMove(f){const g=this;var b=g.chart;const D=g.navigatorSize,X=g.range,te=g.dragOffset,Z=b.inverted;let de=g.left;f.touches&&f.touches[0].pageX===0||(f=b.pointer.normalize(f),b=f.chartX,Z&&(de=g.top,b=f.chartY),g.grabbedLeft?(g.hasDragged=!0,g.render(0,0,b-de,g.otherHandlePos)):g.grabbedRight?(g.hasDragged=!0,g.render(0,0,g.otherHandlePos,b-de)):g.grabbedCenter&&(g.hasDragged=!0,b<te?b=te:b>D+te-X&&(b=D+te-X),g.render(0,0,b-te,b-te+X)),g.hasDragged&&g.scrollbar&&N(g.scrollbar.options.liveRedraw,!q&&!this.chart.boosted)&&(f.DOMType=f.type,setTimeout(function(){g.onMouseUp(f)},0)))}onMouseUp(f){var g=this.chart,b=this.xAxis,D=this.scrollbar;const X=f.DOMEvent||f,te=g.inverted,Z=this.rendered&&!this.hasDragged?"animate":"attr";let de,ge;(!this.hasDragged||D&&D.hasDragged)&&f.trigger!=="scrollbar"||(D=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?de=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(ge=this.fixedExtreme),this.zoomedMax===this.size&&(ge=this.reversedExtremes?D.dataMin:D.dataMax),this.zoomedMin===0&&(de=this.reversedExtremes?D.dataMax:D.dataMin),b=b.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,de,ge),M(b.min)&&g.xAxis[0].setExtremes(Math.min(b.min,b.max),Math.max(b.min,b.max),!0,this.hasDragged?!1:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:X})),f.DOMType!=="mousemove"&&f.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&ee(this.zoomedMin)&&ee(this.zoomedMax)&&(g=Math.round(this.zoomedMin),f=Math.round(this.zoomedMax),this.shades&&this.drawMasks(g,f,te,Z),this.outline&&this.drawOutline(g,f,te,Z),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(g,0,te,Z),this.drawHandle(f,1,te,Z)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(f){f()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){const f=this.baseSeries||[];this.navigatorEnabled&&f[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&f.forEach(function(g){j(g,"updatedData",this.updatedDataHandler)},this),f[0].xAxis&&j(f[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}init(f){var g=f.options,b=g.navigator||{},D=b.enabled,X=g.scrollbar||{},te=X.enabled;g=D&&b.height||0;var Z=te&&X.height||0;const de=X.buttonsEnabled&&Z||0;this.handles=[],this.shades=[],this.chart=f,this.setBaseSeries(),this.height=g,this.scrollbarHeight=Z,this.scrollButtonSize=de,this.scrollbarEnabled=te,this.navigatorEnabled=D,this.navigatorOptions=b,this.scrollbarOptions=X,this.opposite=N(b.opposite,!(D||!f.inverted));const ge=this;D=ge.baseSeries,X=f.xAxis.length,te=f.yAxis.length,Z=D&&D[0]&&D[0].xAxis||f.xAxis[0]||{options:{}},f.isDirtyBox=!0,ge.navigatorEnabled?(ge.xAxis=new a(f,Q({breaks:Z.options.breaks,ordinal:Z.options.ordinal},b.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:X,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},f.inverted?{offsets:[de,0,-de,0],width:g}:{offsets:[0,-de,0,de],height:g})),ge.yAxis=new a(f,Q(b.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:te,isInternal:!0,reversed:N(b.yAxis&&b.yAxis.reversed,f.yAxis[0]&&f.yAxis[0].reversed,!1),zoomEnabled:!1},f.inverted?{width:g}:{height:g})),D||b.series.data?ge.updateNavigatorSeries(!1):f.series.length===0&&(ge.unbindRedraw=L(f,"beforeRedraw",function(){0<f.series.length&&!ge.series&&(ge.setBaseSeries(),ge.unbindRedraw())})),ge.reversedExtremes=f.inverted&&!ge.xAxis.reversed||!f.inverted&&ge.xAxis.reversed,ge.renderElements(),ge.addMouseEvents()):(ge.xAxis={chart:f,navigatorAxis:{fake:!0},translate:function(Ce,J){var oe=f.xAxis[0];const ce=oe.getExtremes(),pe=oe.len-2*de,Ee=Y("min",oe.options.min,ce.dataMin);return oe=Y("max",oe.options.max,ce.dataMax)-Ee,J?Ce*oe/pe+Ee:pe*(Ce-Ee)/oe},toPixels:function(Ce){return this.translate(Ce)},toValue:function(Ce){return this.translate(Ce,!0)}},ge.xAxis.navigatorAxis.axis=ge.xAxis,ge.xAxis.navigatorAxis.toFixedRange=m.prototype.toFixedRange.bind(ge.xAxis.navigatorAxis)),f.options.scrollbar.enabled&&(b=Q(f.options.scrollbar,{vertical:f.inverted}),!ee(b.margin)&&ge.navigatorEnabled&&(b.margin=f.inverted?-3:3),f.scrollbar=ge.scrollbar=new x(f.renderer,b,f),L(ge.scrollbar,"changed",function(Ce){var J=ge.size;const oe=J*this.to;J*=this.from,ge.hasDragged=ge.scrollbar.hasDragged,ge.render(0,0,J,oe),this.shouldUpdateExtremes(Ce.DOMType)&&setTimeout(function(){ge.onMouseUp(Ce)})})),ge.addBaseSeriesEvents(),ge.addChartEvents()}getUnionExtremes(f){const g=this.chart.xAxis[0],b=this.xAxis,D=b.options,X=g.options;let te;return f&&g.dataMin===null||(te={dataMin:N(D&&D.min,Y("min",X.min,g.dataMin,b.dataMin,b.min)),dataMax:N(D&&D.max,Y("max",X.max,g.dataMax,b.dataMax,b.max))}),te}setBaseSeries(f,g){const b=this.chart,D=this.baseSeries=[];f=f||b.options&&b.options.navigator.baseSeries||(b.series.length?$(b.series,X=>!X.options.isInternal).index:0),(b.series||[]).forEach((X,te)=>{X.options.isInternal||!X.options.showInNavigator&&(te!==f&&X.options.id!==f||X.options.showInNavigator===!1)||D.push(X)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,g)}updateNavigatorSeries(f,g){const b=this,D=b.chart,X=b.baseSeries,te={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},Z=b.series=(b.series||[]).filter(oe=>{const ce=oe.baseSeries;return 0>X.indexOf(ce)?(ce&&(j(ce,"updatedData",b.updatedDataHandler),delete ce.navigatorSeries),oe.chart&&oe.destroy(),!1):!0});let de,ge,Ce=b.navigatorOptions.series,J;X&&X.length&&X.forEach(oe=>{const ce=oe.navigatorSeries;var pe=U({color:oe.color,visible:oe.visible},E(Ce)?O.navigator.series:Ce);ce&&b.navigatorOptions.adaptToUpdatedData===!1||(te.name="Navigator "+X.length,de=oe.options||{},J=de.navigatorOptions||{},pe.dataLabels=W(pe.dataLabels),ge=Q(de,te,pe,J),ge.pointRange=N(pe.pointRange,J.pointRange,O.plotOptions[ge.type||"line"].pointRange),pe=J.data||pe.data,b.hasNavigatorData=b.hasNavigatorData||!!pe,ge.data=pe||de.data&&de.data.slice(0),ce&&ce.options?ce.update(ge,g):(oe.navigatorSeries=D.initSeries(ge),oe.navigatorSeries.baseSeries=oe,Z.push(oe.navigatorSeries)))}),(Ce.data&&(!X||!X.length)||E(Ce))&&(b.hasNavigatorData=!1,Ce=W(Ce),Ce.forEach((oe,ce)=>{te.name="Navigator "+(Z.length+1),ge=Q(O.navigator.series,{color:D.series[ce]&&!D.series[ce].options.isInternal&&D.series[ce].color||D.options.colors[ce]||D.options.colors[0]},te,oe),ge.data=oe.data,ge.data&&(b.hasNavigatorData=!0,Z.push(D.initSeries(ge)))})),f&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){const f=this,g=f.baseSeries||[];g[0]&&g[0].xAxis&&g[0].eventsToUnbind.push(L(g[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),g.forEach(b=>{b.eventsToUnbind.push(L(b,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),b.eventsToUnbind.push(L(b,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&b.xAxis&&b.eventsToUnbind.push(L(b,"updatedData",this.updatedDataHandler)),b.eventsToUnbind.push(L(b,"remove",function(){this.navigatorSeries&&(A(f.series,this.navigatorSeries),M(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(f){return this.baseSeries.reduce(function(g,b){return Math.min(g,b.xData&&b.xData.length?b.xData[0]:g)},f)}modifyNavigatorAxisExtremes(){const f=this.xAxis;if(typeof f.getExtremes<"u"){const g=this.getUnionExtremes(!0);!g||g.dataMin===f.min&&g.dataMax===f.max||(f.min=g.dataMin,f.max=g.dataMax)}}modifyBaseAxisExtremes(){const f=this.chart.navigator;var g=this.getExtremes();const b=g.dataMin,D=g.dataMax;g=g.max-g.min;const X=f.stickToMin,te=f.stickToMax,Z=N(this.options.overscroll,0),de=f.series&&f.series[0],ge=!!this.setExtremes;let Ce,J;this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton"||(X&&(J=b,Ce=J+g),te&&(Ce=D+Z,X||(J=Math.max(b,Ce-g,f.getBaseSeriesMin(de&&de.xData?de.xData[0]:-Number.MAX_VALUE)))),ge&&(X||te)&&ee(J)&&(this.min=this.userMin=J,this.max=this.userMax=Ce)),f.stickToMin=f.stickToMax=null}updatedDataHandler(){const f=this.chart.navigator,g=this.navigatorSeries;f.stickToMax=N(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,f.reversedExtremes?Math.round(f.zoomedMin)===0:Math.round(f.zoomedMax)>=Math.round(f.size)),f.stickToMin=f.shouldStickToMin(this,f),g&&!f.hasNavigatorData&&(g.options.pointStart=this.xData[0],g.setData(this.options.data,!1,null,!1))}shouldStickToMin(f,g){g=g.getBaseSeriesMin(f.xData[0]);var b=f.xAxis;f=b.max;const D=b.min;return b=b.options.range,ee(f)&&ee(D)?b&&0<f-g?f-g<b:D<=g:!1}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(L(this.chart,"redraw",function(){const f=this.navigator,g=f&&(f.baseSeries&&f.baseSeries[0]&&f.baseSeries[0].xAxis||this.xAxis[0]);g&&f.render(g.min,g.max)}),L(this.chart,"getMargins",function(){let f=this.navigator,g=f.opposite?"plotTop":"marginBottom";this.inverted&&(g=f.opposite?"marginRight":"plotLeft"),this[g]=(this[g]||0)+(f.navigatorEnabled||!this.inverted?f.height+f.scrollbarHeight:0)+f.navigatorOptions.margin}))}destroy(){this.removeEvents(),this.xAxis&&(A(this.chart.xAxis,this.xAxis),A(this.chart.axes,this.xAxis)),this.yAxis&&(A(this.chart.yAxis,this.yAxis),A(this.chart.axes,this.yAxis)),(this.series||[]).forEach(f=>{f.destroy&&f.destroy()}),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(f=>{this[f]&&this[f].destroy&&this[f].destroy(),this[f]=null}),[this.handles].forEach(f=>{C(f)})}}return S}),s(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),s(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],function(a,c,h){function m(){const j=this.range,W=j.type,S=this.max,P=this.chart.time,f=function(X,te){const Z=W==="year"?"FullYear":"Month",de=new P.Date(X),ge=P.get(Z,de);return P.set(Z,de,ge+te),ge===P.get(Z,de)&&P.set("Date",de,0),de.getTime()-X};let g,b;U(j)?(g=S-j,b=j):j&&(g=S+f(S,-(j.count||1)),this.chart&&(this.chart.fixedRange=S-g));const D=E(this.dataMin,Number.MIN_VALUE);return U(g)||(g=D),g<=D&&(g=D,typeof b>"u"&&(b=f(g,j.count)),this.newMax=Math.min(g+b,E(this.dataMax,Number.MAX_VALUE))),U(S)?!U(j)&&j&&j._offsetMin&&(g+=j._offsetMin):g=void 0,g}function n(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new N(this))}function x(){var j=this.axes;const W=this.rangeSelector;W&&(U(W.deferredYTDClick)&&(W.clickButton(W.deferredYTDClick),delete W.deferredYTDClick),j.forEach(S=>{S.updateNames(),S.setScale()}),this.getAxisMargins(),W.render(),j=W.options.verticalAlign,W.options.floating||(j==="bottom"?this.extraBottomMargin=!0:j!=="middle"&&(this.extraTopMargin=!0)))}function z(j){let W,S,P,f;const g=j.rangeSelector,b=()=>{g&&(W=j.xAxis[0].getExtremes(),S=j.legend,f=g&&g.options.verticalAlign,U(W.min)&&g.render(W.min,W.max),S.display&&f==="top"&&f===S.options.verticalAlign&&(P=$(j.spacingBox),P.y=S.options.layout==="vertical"?j.plotTop:P.y+g.getHeight(),S.group.placed=!1,S.align(P)))};g&&(A(ee,D=>D[0]===j)||ee.push([j,[H(j.xAxis[0],"afterSetExtremes",function(D){g&&g.render(D.min,D.max)}),H(j,"redraw",b)]]),b())}function Y(){for(let j=0,W=ee.length;j<W;++j){const S=ee[j];if(S[0]===this){S[1].forEach(P=>P()),ee.splice(j,1);break}}}function O(){var j=this.rangeSelector;j&&(j=j.getHeight(),this.extraTopMargin&&(this.plotTop+=j),this.extraBottomMargin&&(this.marginBottom+=j))}function V(){var j=this.rangeSelector;j&&!j.options.floating&&(j.render(),j=j.options.verticalAlign,j==="bottom"?this.extraBottomMargin=!0:j!=="middle"&&(this.extraTopMargin=!0))}function q(j){var W=j.options.rangeSelector;j=this.extraBottomMargin;const S=this.extraTopMargin;let P=this.rangeSelector;W&&W.enabled&&!M(P)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=P=new N(this)),this.extraTopMargin=this.extraBottomMargin=!1,P&&(z(this),W=W&&W.verticalAlign||P.options&&P.options.verticalAlign,P.options.floating||(W==="bottom"?this.extraBottomMargin=!0:W!=="middle"&&(this.extraTopMargin=!0)),this.extraBottomMargin!==j||this.extraTopMargin!==S)&&(this.isDirtyBox=!0)}const{defaultOptions:L,setOptions:I}=a,{addEvent:H,defined:M,extend:C,find:A,isNumber:U,merge:$,pick:E}=h,ee=[],Q=[];let N;return{compose:function(j,W,S){N=S,h.pushUnique(Q,j)&&(j.prototype.minFromRange=m),h.pushUnique(Q,W)&&(H(W,"afterGetContainer",n),H(W,"beforeRender",x),H(W,"destroy",Y),H(W,"getMargins",O),H(W,"render",V),H(W,"update",q),W.prototype.callbacks.push(z)),h.pushUnique(Q,I)&&(C(L,{rangeSelector:c.rangeSelector}),C(L.lang,c.lang))}}}),s(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(a,c,h,m,n,x){function z(W){if(W.indexOf("%L")!==-1)return"text";const S="aAdewbBmoyY".split("").some(f=>W.indexOf("%"+f)!==-1),P="HkIlMS".split("").some(f=>W.indexOf("%"+f)!==-1);return S&&P?"datetime-local":S?"date":P?"time":"text"}const{defaultOptions:Y}=c,{addEvent:O,createElement:V,css:q,defined:L,destroyObjectProperties:I,discardElement:H,extend:M,fireEvent:C,isNumber:A,merge:U,objectEach:$,pad:E,pick:ee,pInt:Q,splat:N}=x;class j{static compose(S,P){m.compose(S,P,j)}constructor(S){this.buttons=void 0,this.buttonOptions=j.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=S,this.init(S)}clickButton(S,P){const f=this.chart,g=this.buttonOptions[S],b=f.xAxis[0];var D=f.scroller&&f.scroller.getUnionExtremes()||b||{},X=g.type;const te=g.dataGrouping;let Z=D.dataMin,de=D.dataMax,ge,Ce=b&&Math.round(Math.min(b.max,ee(de,b.max))),J;D=g._range;let oe,ce,pe,Ee=!0;if(Z!==null&&de!==null){if(f.fixedRange=D,this.setSelected(S),te&&(this.forcedDataGrouping=!0,a.prototype.setDataGrouping.call(b||{chart:this.chart},te,!1),this.frozenStates=g.preserveDataGrouping),X==="month"||X==="year")b?(X={range:g,max:Ce,chart:f,dataMin:Z,dataMax:de},ge=b.minFromRange.call(X),A(X.newMax)&&(Ce=X.newMax),Ee=!1):D=g;else if(D)ge=Math.max(Ce-D,Z),Ce=Math.min(ge+D,de),Ee=!1;else if(X==="ytd")if(b)(typeof de>"u"||typeof Z>"u")&&(Z=Number.MAX_VALUE,de=Number.MIN_VALUE,f.series.forEach(ne=>{(ne=ne.xData)&&(Z=Math.min(ne[0],Z),de=Math.max(ne[ne.length-1],de))}),P=!1),X=this.getYTDExtremes(de,Z,f.time.useUTC),ge=oe=X.min,Ce=X.max;else{this.deferredYTDClick=S;return}else X==="all"&&b&&(f.navigator&&f.navigator.baseSeries[0]&&(f.navigator.baseSeries[0].xAxis.options.range=void 0),ge=Z,Ce=de);Ee&&g._offsetMin&&L(ge)&&(ge+=g._offsetMin),g._offsetMax&&L(Ce)&&(Ce+=g._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=S+1),b?b.setExtremes(ge,Ce,ee(P,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:g}):(J=N(f.options.xAxis)[0],pe=J.range,J.range=D,ce=J.min,J.min=oe,O(f,"load",function(){J.range=pe,J.min=ce})),C(this,"afterBtnClick")}}setSelected(S){this.selected=this.options.selected=S}init(S){const P=this,f=S.options.rangeSelector,g=f.buttons||P.defaultButtons.slice(),b=f.selected,D=function(){const X=P.minInput,te=P.maxInput;X&&X.blur&&C(X,"blur"),te&&te.blur&&C(te,"blur")};P.chart=S,P.options=f,P.buttons=[],P.buttonOptions=g,this.eventsToUnbind=[],this.eventsToUnbind.push(O(S.container,"mousedown",D)),this.eventsToUnbind.push(O(S,"resize",D)),g.forEach(P.computeButtonRange),typeof b<"u"&&g[b]&&this.clickButton(b,!1),this.eventsToUnbind.push(O(S,"load",function(){S.xAxis&&S.xAxis[0]&&O(S.xAxis[0],"setExtremes",function(X){this.max-this.min!==S.fixedRange&&X.trigger!=="rangeSelectorButton"&&X.trigger!=="updatedData"&&P.forcedDataGrouping&&!P.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const S=this;var P=this.chart;const f=this.dropdown,g=P.xAxis[0],b=Math.round(g.max-g.min),D=!g.hasVisibleSeries,X=P.scroller&&P.scroller.getUnionExtremes()||g,te=X.dataMin,Z=X.dataMax;P=S.getYTDExtremes(Z,te,P.time.useUTC);const de=P.min,ge=P.max,Ce=S.selected,J=S.options.allButtonsEnabled,oe=S.buttons;let ce=A(Ce);S.buttonOptions.forEach((pe,Ee)=>{var ne=pe._range,ye=pe.type,_e=pe.count||1;const ae=oe[Ee],me=pe._offsetMax-pe._offsetMin,we=Ee===Ce,Re=ne>Z-te,Le=ne<g.minRange;pe=0;let $e=!1,rt=!1;ne=ne===b,(ye==="month"||ye==="year")&&b+36e5>=864e5*{month:28,year:365}[ye]*_e-me&&b-36e5<=864e5*{month:31,year:366}[ye]*_e+me?ne=!0:ye==="ytd"?(ne=ge-de+me===b,$e=!we):ye==="all"&&(ne=g.max-g.min>=Z-te,rt=!we&&ce&&ne),ye=!J&&(Re||Le||rt||D),_e=we&&ne||ne&&!ce&&!$e||we&&S.frozenStates,ye?pe=3:_e&&(ce=!0,pe=2),ae.state!==pe&&(ae.setState(pe),f&&(f.options[Ee+1].disabled=ye,pe===2&&(f.selectedIndex=Ee+1)),pe===0&&Ce===Ee&&S.setSelected())})}computeButtonRange(S){const P=S.type,f=S.count||1,g={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};g[P]?S._range=g[P]*f:(P==="month"||P==="year")&&(S._range=864e5*{month:30,year:365}[P]*f),S._offsetMin=ee(S.offsetMin,0),S._offsetMax=ee(S.offsetMax,0),S._range+=S._offsetMax-S._offsetMin}getInputValue(S){S=S==="min"?this.minInput:this.maxInput;const P=this.chart.options.rangeSelector,f=this.chart.time;return S?(S.type==="text"&&P.inputDateParser||this.defaultInputDateParser)(S.value,f.useUTC,f):0}setInputValue(S,P){const f=this.options,g=this.chart.time,b=S==="min"?this.minInput:this.maxInput;if(S=S==="min"?this.minDateBox:this.maxDateBox,b){var D=b.getAttribute("data-hc-time");D=L(D)?Number(D):void 0,L(P)&&(L(D)&&b.setAttribute("data-hc-time-previous",D),b.setAttribute("data-hc-time",P),D=P),b.value=g.dateFormat(this.inputTypeFormats[b.type]||f.inputEditDateFormat,D),S&&S.attr({text:g.dateFormat(f.inputDateFormat,D)})}}setInputExtremes(S,P,f){if(S=S==="min"?this.minInput:this.maxInput){const g=this.inputTypeFormats[S.type],b=this.chart.time;g&&(P=b.dateFormat(g,P),S.min!==P&&(S.min=P),f=b.dateFormat(g,f),S.max!==f&&(S.max=f))}}showInput(S){const P=S==="min"?this.minDateBox:this.maxDateBox;if((S=S==="min"?this.minInput:this.maxInput)&&P&&this.inputGroup){const f=S.type==="text",{translateX:g,translateY:b}=this.inputGroup,{inputBoxWidth:D}=this.options;q(S,{width:f?P.width+(D?-2:20)+"px":"auto",height:P.height-2+"px",border:"2px solid silver"}),f&&D?q(S,{left:g+P.x+"px",top:b+"px"}):q(S,{left:Math.min(Math.round(P.x+g-(S.offsetWidth-P.width)/2),this.chart.chartWidth-S.offsetWidth)+"px",top:b-(S.offsetHeight-P.height)/2+"px"})}}hideInput(S){(S=S==="min"?this.minInput:this.maxInput)&&q(S,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(S,P,f){var g=S.split("/").join("-").split(" ").join("T");if(g.indexOf("T")===-1&&(g+="T00:00"),P)g+="Z";else{var b;(b=h.isSafari)&&(b=g,b=!(6<b.length&&(b.lastIndexOf("-")===b.length-6||b.lastIndexOf("+")===b.length-6))),b&&(b=new Date(g).getTimezoneOffset()/60,g+=0>=b?`+${E(-b)}:00`:`-${E(b)}:00`)}return g=Date.parse(g),A(g)||(S=S.split("-"),g=Date.UTC(Q(S[0]),Q(S[1])-1,Q(S[2]))),f&&P&&A(g)&&(g+=f.getTimezoneOffset(g)),g}drawInput(S){function P(){const{maxInput:oe,minInput:ce}=D,pe=f.xAxis[0];var Ee=f.scroller&&f.scroller.xAxis?f.scroller.xAxis:pe;const ne=Ee.dataMin;Ee=Ee.dataMax;let ye=D.getInputValue(S);ye!==Number(Ce.getAttribute("data-hc-time-previous"))&&A(ye)&&(Ce.setAttribute("data-hc-time-previous",ye),de&&oe&&A(ne)?ye>Number(oe.getAttribute("data-hc-time"))?ye=void 0:ye<ne&&(ye=ne):ce&&A(Ee)&&(ye<Number(ce.getAttribute("data-hc-time"))?ye=void 0:ye>Ee&&(ye=Ee)),typeof ye<"u"&&pe.setExtremes(de?ye:pe.min,de?pe.max:ye,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:f,div:g,inputGroup:b}=this,D=this,X=f.renderer.style||{};var te=f.renderer;const Z=f.options.rangeSelector,de=S==="min";var ge=Y.lang[de?"rangeSelectorFrom":"rangeSelectorTo"]||"";ge=te.label(ge,0).addClass("highcharts-range-label").attr({padding:ge?2:0,height:ge?Z.inputBoxHeight:0}).add(b),te=te.label("",0).addClass("highcharts-range-input").attr({padding:2,width:Z.inputBoxWidth,height:Z.inputBoxHeight,"text-align":"center"}).on("click",function(){D.showInput(S),D[S+"Input"].focus()}),f.styledMode||te.attr({stroke:Z.inputBoxBorderColor,"stroke-width":1}),te.add(b);const Ce=V("input",{name:S,className:"highcharts-range-selector"},void 0,g);Ce.setAttribute("type",z(Z.inputDateFormat||"%e %b %Y")),f.styledMode||(ge.css(U(X,Z.labelStyle)),te.css(U({color:"#333333"},X,Z.inputStyle)),q(Ce,M({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:X.fontSize,fontFamily:X.fontFamily,top:"-9999em"},Z.inputStyle))),Ce.onfocus=()=>{D.showInput(S)},Ce.onblur=()=>{Ce===h.doc.activeElement&&P(),D.hideInput(S),D.setInputValue(S),Ce.blur()};let J=!1;return Ce.onchange=()=>{J||(P(),D.hideInput(S),Ce.blur())},Ce.onkeypress=oe=>{oe.keyCode===13&&P()},Ce.onkeydown=oe=>{J=!0,oe.keyCode!==38&&oe.keyCode!==40||P()},Ce.onkeyup=()=>{J=!1},{dateBox:te,input:Ce,label:ge}}getPosition(){var S=this.chart;const P=S.options.rangeSelector;return S=P.verticalAlign==="top"?S.plotTop-S.axisOffset[0]:0,{buttonTop:S+P.buttonPosition.y,inputTop:S+P.inputPosition.y-10}}getYTDExtremes(S,P,f){const g=this.chart.time;var b=new g.Date(S);const D=g.get("FullYear",b);return f=f?g.Date.UTC(D,0,1):+new g.Date(D,0,1),P=Math.max(P,f),b=b.getTime(),{max:Math.min(S||b,b),min:P}}render(S,P){var f=this.chart,g=f.renderer;const b=f.container;var D=f.options;const X=D.rangeSelector,te=ee(D.chart.style&&D.chart.style.zIndex,0)+1;if(D=X.inputEnabled,X.enabled!==!1){if(this.rendered||(this.group=g.g("range-selector-group").attr({zIndex:7}).add(),this.div=V("div",void 0,{position:"relative",height:0,zIndex:te}),this.buttonOptions.length&&this.renderButtons(),b.parentNode&&b.parentNode.insertBefore(this.div,b),D&&(this.inputGroup=g.g("input-group").add(this.group),g=this.drawInput("min"),this.minDateBox=g.dateBox,this.minLabel=g.label,this.minInput=g.input,g=this.drawInput("max"),this.maxDateBox=g.dateBox,this.maxLabel=g.label,this.maxInput=g.input)),D&&(this.setInputValue("min",S),this.setInputValue("max",P),S=f.scroller&&f.scroller.getUnionExtremes()||f.xAxis[0]||{},L(S.dataMin)&&L(S.dataMax)&&(f=f.xAxis[0].minRange||0,this.setInputExtremes("min",S.dataMin,Math.min(S.dataMax,this.getInputValue("max"))-f),this.setInputExtremes("max",Math.max(S.dataMin,this.getInputValue("min"))+f,S.dataMax)),this.inputGroup)){let Z=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(de=>{if(de){const{width:ge}=de.getBBox();ge&&(de.attr({x:Z}),Z+=ge+X.inputSpacing)}})}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:S,chart:P,options:f}=this,g=Y.lang,b=P.renderer,D=U(f.buttonTheme),X=D&&D.states,te=D.width||28;delete D.width,delete D.states,this.buttonGroup=b.g("range-selector-buttons").add(this.group);const Z=this.dropdown=V("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);O(Z,"touchstart",()=>{Z.style.fontSize="16px"}),[[h.isMS?"mouseover":"mouseenter"],[h.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([de,ge])=>{O(Z,de,()=>{const Ce=S[this.currentButtonIndex()];Ce&&C(Ce.element,ge||de)})}),this.zoomText=b.label(g&&g.rangeSelectorZoom||"",0).attr({padding:f.buttonTheme.padding,height:f.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(f.labelStyle),D["stroke-width"]=ee(D["stroke-width"],0)),V("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,Z),this.buttonOptions.forEach((de,ge)=>{V("option",{textContent:de.title||de.text},void 0,Z),S[ge]=b.button(de.text,0,0,Ce=>{const J=de.events&&de.events.click;let oe;J&&(oe=J.call(de,Ce)),oe!==!1&&this.clickButton(ge),this.isActive=!0},D,X&&X.hover,X&&X.select,X&&X.disabled).attr({"text-align":"center",width:te}).add(this.buttonGroup),de.title&&S[ge].attr("title",de.title)})}alignElements(){const{buttonGroup:S,buttons:P,chart:f,group:g,inputGroup:b,options:D,zoomText:X}=this;var te=f.options;const Z=te.exporting&&te.exporting.enabled!==!1&&te.navigation&&te.navigation.buttonOptions,{buttonPosition:de,inputPosition:ge,verticalAlign:Ce}=D;te=(pe,Ee)=>Z&&this.titleCollision(f)&&Ce==="top"&&Ee.align==="right"&&Ee.y-pe.getBBox().height-12<(Z.y||0)+(Z.height||0)+f.spacing[0]?-40:0;var J=f.plotLeft;if(g&&de&&ge){var oe=de.x-f.spacing[3];if(S){if(this.positionButtons(),!this.initialButtonGroupWidth){let ye=0;X&&(ye+=X.getBBox().width+5),P.forEach((_e,ae)=>{ye+=_e.width,ae!==P.length-1&&(ye+=D.buttonSpacing)}),this.initialButtonGroupWidth=ye}J-=f.spacing[3],this.updateButtonStates();var ce=te(S,de);this.alignButtonGroup(ce),g.placed=S.placed=f.hasLoaded}ce=0,b&&(ce=te(b,ge),ge.align==="left"?oe=J:ge.align==="right"&&(oe=-Math.max(f.axisOffset[1],-ce)),b.align({y:ge.y,width:b.getBBox().width,align:ge.align,x:ge.x+oe-2},!0,f.spacingBox),b.placed=f.hasLoaded),this.handleCollision(ce),g.align({verticalAlign:Ce},!0,f.spacingBox),te=g.alignAttr.translateY,J=g.getBBox().height+20,oe=0,Ce==="bottom"&&(oe=(oe=f.legend&&f.legend.options)&&oe.verticalAlign==="bottom"&&oe.enabled&&!oe.floating?f.legend.legendHeight+ee(oe.margin,10):0,J=J+oe-20,oe=te-J-(D.floating?0:D.y)-(f.titleOffset?f.titleOffset[2]:0)-10),Ce==="top"?(D.floating&&(oe=0),f.titleOffset&&f.titleOffset[0]&&(oe=f.titleOffset[0]),oe+=f.margin[0]-f.spacing[0]||0):Ce==="middle"&&(ge.y===de.y?oe=te:(ge.y||de.y)&&(oe=0>ge.y||0>de.y?oe-Math.min(ge.y,de.y):te-J)),g.translate(D.x,D.y+Math.floor(oe));const{minInput:pe,maxInput:Ee,dropdown:ne}=this;D.inputEnabled&&pe&&Ee&&(pe.style.marginTop=g.translateY+"px",Ee.style.marginTop=g.translateY+"px"),ne&&(ne.style.marginTop=g.translateY+"px")}}alignButtonGroup(S,P){const{chart:f,options:g,buttonGroup:b}=this,{buttonPosition:D}=g,X=f.plotLeft-f.spacing[3];let te=D.x-f.spacing[3];D.align==="right"?te+=S-X:D.align==="center"&&(te-=X/2),b&&b.align({y:D.y,width:ee(P,this.initialButtonGroupWidth),align:D.align,x:te},!0,f.spacingBox)}positionButtons(){const{buttons:S,chart:P,options:f,zoomText:g}=this,b=P.hasLoaded?"animate":"attr",{buttonPosition:D}=f,X=P.plotLeft;let te=X;g&&g.visibility!=="hidden"&&(g[b]({x:ee(X+D.x,X)}),te+=D.x+g.getBBox().width+5);for(let Z=0,de=this.buttonOptions.length;Z<de;++Z)S[Z].visibility!=="hidden"?(S[Z][b]({x:te}),te+=S[Z].width+f.buttonSpacing):S[Z][b]({x:X})}handleCollision(S){const{chart:P,buttonGroup:f,inputGroup:g}=this,{buttonPosition:b,dropdown:D,inputPosition:X}=this.options,te=()=>{let ge=0;return this.buttons.forEach(Ce=>{Ce=Ce.getBBox(),Ce.width>ge&&(ge=Ce.width)}),ge},Z=ge=>{if(g&&f){const Ce=g.alignAttr.translateX+g.alignOptions.x-S+g.getBBox().x+2,J=g.alignOptions.width,oe=f.alignAttr.translateX+f.getBBox().x;return oe+ge>Ce&&Ce+J>oe&&b.y<X.y+g.getBBox().height}return!1},de=()=>{g&&f&&g.attr({translateX:g.alignAttr.translateX+(P.axisOffset[1]>=-S?0:-S),translateY:g.alignAttr.translateY+f.getBBox().height+10})};if(f){if(D==="always"){this.collapseButtons(S),Z(te())&&de();return}D==="never"&&this.expandButtons()}g&&f?X.align===b.align||Z(this.initialButtonGroupWidth+20)?D==="responsive"?(this.collapseButtons(S),Z(te())&&de()):de():D==="responsive"&&this.expandButtons():f&&D==="responsive"&&(this.initialButtonGroupWidth>P.plotWidth?this.collapseButtons(S):this.expandButtons())}collapseButtons(S){const{buttons:P,buttonOptions:f,chart:g,dropdown:b,options:D,zoomText:X}=this,te=g.userOptions.rangeSelector&&g.userOptions.rangeSelector.buttonTheme||{},Z=Ce=>({text:Ce?`${Ce} ▾`:"▾",width:"auto",paddingLeft:ee(D.buttonTheme.paddingLeft,te.padding,8),paddingRight:ee(D.buttonTheme.paddingRight,te.padding,8)});X&&X.hide();let de=!1;f.forEach((Ce,J)=>{J=P[J],J.state!==2?J.hide():(J.show(),J.attr(Z(Ce.text)),de=!0)}),de||(b&&(b.selectedIndex=0),P[0].show(),P[0].attr(Z(this.zoomText&&this.zoomText.textStr)));const{align:ge}=D.buttonPosition;this.positionButtons(),ge!=="right"&&ge!=="center"||this.alignButtonGroup(S,P[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:S,buttonOptions:P,options:f,zoomText:g}=this;this.hideDropdown(),g&&g.show(),P.forEach((b,D)=>{D=S[D],D.show(),D.attr({text:b.text,width:f.buttonTheme.width||28,paddingLeft:ee(f.buttonTheme.paddingLeft,"unset"),paddingRight:ee(f.buttonTheme.paddingRight,"unset")}),2>D.state&&D.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:S}=this;return S&&0<S.selectedIndex?S.selectedIndex-1:0}showDropdown(){const{buttonGroup:S,buttons:P,chart:f,dropdown:g}=this;if(S&&g){const{translateX:b,translateY:D}=S,X=P[this.currentButtonIndex()].getBBox();q(g,{left:f.plotLeft+b+"px",top:D+.5+"px",width:X.width+"px",height:X.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:S}=this;S&&(q(S,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var S=this.options,P=this.group;const f=S.y,g=S.buttonPosition.y,b=S.inputPosition.y;return S.height?S.height:(this.alignElements(),S=P?P.getBBox(!0).height+13+f:0,P=Math.min(b,g),(0>b&&0>g||0<b&&0<g)&&(S+=Math.abs(P)),S)}titleCollision(S){return!(S.options.title.text||S.options.subtitle.text)}update(S){const P=this.chart;U(!0,P.options.rangeSelector,S),this.destroy(),this.init(P),this.render()}destroy(){const S=this,P=S.minInput,f=S.maxInput;S.eventsToUnbind&&(S.eventsToUnbind.forEach(g=>g()),S.eventsToUnbind=void 0),I(S.buttons),P&&(P.onfocus=P.onblur=P.onchange=null),f&&(f.onfocus=f.onblur=f.onchange=null),$(S,function(g,b){g&&b!=="chart"&&(g instanceof n?g.destroy():g instanceof window.HTMLElement&&H(g)),g!==j.prototype[b]&&(S[b]=null)},this)}}return M(j.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),j}),s(t,"Core/Axis/OrdinalAxis.js",[t["Core/Axis/Axis.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(a,c,h,m){const{addEvent:n,correctFloat:x,css:z,defined:Y,error:O,pick:V,timeUnits:q}=m,L=[];var I;return function(H){function M(P,f,g,b,D=[],X=0,te){const Z={},de=this.options.tickPixelInterval;var ge=this.chart.time,Ce=[],J;let oe,ce;var pe=0;let Ee=[],ne=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!D||3>D.length||typeof f>"u")return ge.getTimeTicks.apply(ge,arguments);const ye=D.length;for(J=0;J<ye;J++){if(ce=J&&D[J-1]>g,D[J]<f&&(pe=J),J===ye-1||D[J+1]-D[J]>5*X||ce){if(D[J]>ne){for(oe=ge.getTimeTicks(P,D[pe],D[J],b);oe.length&&oe[0]<=ne;)oe.shift();oe.length&&(ne=oe[oe.length-1]),Ce.push(Ee.length),Ee=Ee.concat(oe)}pe=J+1}if(ce)break}if(oe){if(D=oe.info,te&&D.unitRange<=q.hour){for(J=Ee.length-1,pe=1;pe<J;pe++)if(ge.dateFormat("%d",Ee[pe])!==ge.dateFormat("%d",Ee[pe-1])){Z[Ee[pe]]="day";var _e=!0}_e&&(Z[Ee[0]]="day"),D.higherRanks=Z}D.segmentStarts=Ce,Ee.info=D}else O(12,!1,this.chart);if(te&&Y(de)){pe=Ee.length,ge=[],_e=[];let ae;for(J=pe;J--;)Ce=this.translate(Ee[J]),ae&&(_e[J]=ae-Ce),ge[J]=ae=Ce;for(_e.sort(),_e=_e[Math.floor(_e.length/2)],_e<.6*de&&(_e=null),J=Ee[pe-1]>g?pe-1:pe,ae=void 0;J--;)Ce=ge[J],pe=Math.abs(ae-Ce),ae&&pe<.8*de&&(_e===null||pe<.8*_e)?(Z[Ee[J]]&&!Z[Ee[J+1]]?(pe=J+1,ae=Ce):pe=J,Ee.splice(pe,1)):ae=Ce}return Ee}function C(P){const f=this.ordinal.positions;if(!f)return P;let g=f.length-1,b;return 0>P?P=f[0]:P>g?P=f[g]:(g=Math.floor(P),b=P-g),typeof b<"u"&&typeof f[g]<"u"?f[g]+(b?b*(f[g+1]-f[g]):0):P}function A(P){var f=this.ordinal,g=f.positions;if(!g)return P;var b=(P-(this.old?this.old.min:this.min))*(this.old?this.old.transA:this.transA)+this.minPixelPadding;if(0<b&&b<this.left+this.len||(f.extendedOrdinalPositions||(f.extendedOrdinalPositions=f.getExtendedPositions()),g=f.extendedOrdinalPositions),g&&g.length){if(P=f.getIndexOfPoint(b,g),f=x(P%1),0<=P&&P<g.length-1)return g[Math.floor(P)]+f*(g[Math.ceil(P)]-g[Math.floor(P)]);f=g.length,b=g[0],g=g[f-1];const D=(g-b)/(f-1);return 0>P?b+D*P:g+D*(P-f)}return P}function U(P,f){const g=H.Additions.findIndexOf(P,f,!0);return P[g]===f?g:g+(f-P[g])/(P[g+1]-P[g])}function $(){this.ordinal||(this.ordinal=new H.Additions(this))}function E(){this.isXAxis&&Y(this.options.overscroll)&&this.max===this.dataMax&&(!this.chart.mouseIsDown||this.isInternal)&&(!this.eventArgs||this.eventArgs&&this.eventArgs.trigger!=="navigator")&&(this.max+=this.options.overscroll,!this.isInternal&&Y(this.userMin)&&(this.min+=this.options.overscroll))}function ee(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function Q(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function N(P){const f=this.xAxis[0],g=f.options.overscroll,b=P.originalEvent.chartX,D=this.options.chart.panning;let X=!1;if(D&&D.type!=="y"&&f.options.ordinal&&f.series.length){var te=this.mouseDownX;const Ce=f.getExtremes(),J=Ce.dataMax,oe=Ce.min,ce=Ce.max;var Z=this.hoverPoints,de=f.closestPointRange||f.ordinal&&f.ordinal.overscrollPointsRange;te=(te-b)/(f.translationSlope*(f.ordinal.slope||de)),de=f.ordinal.getExtendedPositions();var ge={ordinal:{positions:de,extendedOrdinalPositions:de}};de=f.index2val;const pe=f.val2lin;let Ee;ge.ordinal.positions?1<Math.abs(te)&&(Z&&Z.forEach(function(ne){ne.setState()}),0>te?(Z=ge,Ee=f.ordinal.positions?f:ge):(Z=f.ordinal.positions?f:ge,Ee=ge),ge=Ee.ordinal.positions,J>ge[ge.length-1]&&ge.push(J),this.fixedRange=ce-oe,te=f.navigatorAxis.toFixedRange(void 0,void 0,de.apply(Z,[pe.apply(Z,[oe,!0])+te]),de.apply(Ee,[pe.apply(Ee,[ce,!0])+te])),te.min>=Math.min(Ce.dataMin,oe)&&te.max<=Math.max(J,ce)+g&&f.setExtremes(te.min,te.max,!0,!1,{trigger:"pan"}),this.mouseDownX=b,z(this.container,{cursor:"move"})):X=!0}else X=!0;X||D&&/y/.test(D.type)?g&&(f.max=f.dataMax+g):P.preventDefault()}function j(){const P=this.xAxis;P&&P.options.ordinal&&(delete P.ordinal.index,delete P.ordinal.extendedOrdinalPositions)}function W(P,f){const g=this.ordinal;var b=g.positions;let D=g.slope,X=g.extendedOrdinalPositions;if(!b)return P;var te=b.length;if(b[0]<=P&&b[te-1]>=P)P=U(b,P);else{if(X||(X=g.getExtendedPositions&&g.getExtendedPositions(),g.extendedOrdinalPositions=X),!X||!X.length)return P;te=X.length,D||(D=(X[te-1]-X[0])/te),b=U(X,b[0]),P=P>=X[0]&&P<=X[te-1]?U(X,P)-b:P<X[0]?-b-(X[0]-P)/D:(P-X[te-1])/D+te-b}return f?P:D*(P||0)+g.offset}H.compose=function(P,f,g){if(m.pushUnique(L,P)){const b=P.prototype;b.getTimeTicks=M,b.index2val=C,b.lin2val=A,b.val2lin=W,b.ordinal2lin=b.val2lin,n(P,"afterInit",$),n(P,"foundExtremes",E),n(P,"afterSetScale",ee),n(P,"initialAxisTranslation",Q)}return m.pushUnique(L,g)&&n(g,"pan",N),m.pushUnique(L,f)&&n(f,"updatedData",j),P};class S{constructor(f){this.index={},this.axis=f}beforeSetTickPositions(){const f=this.axis,g=f.ordinal;var b=f.getExtremes();const D=b.min;var X=b.max;const te=f.isXAxis&&!!f.options.breaks;b=f.options.ordinal;const Z=f.chart.options.chart.ignoreHiddenSeries;let de,ge;var Ce;let J=[],oe=Number.MAX_VALUE,ce=!1,pe=!1,Ee=!1;if(b||te){let ye=0;if(f.series.forEach(function(_e,ae){if(ge=[],0<ae&&_e.options.id!=="highcharts-navigator-series"&&1<_e.processedXData.length&&(pe=ye!==_e.processedXData[1]-_e.processedXData[0]),ye=_e.processedXData[1]-_e.processedXData[0],_e.boosted&&(Ee=_e.boosted),!(Z&&_e.visible===!1||_e.takeOrdinalPosition===!1&&!te)&&(J=J.concat(_e.processedXData),de=J.length,J.sort(function(me,we){return me-we}),oe=Math.min(oe,V(_e.closestPointRange,oe)),de)){for(ae=0;ae<de-1;)J[ae]!==J[ae+1]&&ge.push(J[ae+1]),ae++;ge[0]!==J[0]&&ge.unshift(J[0]),J=ge}}),pe&&Ee&&(J.pop(),J.shift()),de=J.length,2<de){var ne=J[1]-J[0];for(Ce=de-1;Ce--&&!ce;)J[Ce+1]-J[Ce]!==ne&&(ce=!0);!f.options.keepOrdinalPadding&&(J[0]-D>ne||X-J[J.length-1]>ne)&&(ce=!0)}else f.options.overscroll&&(de===2?oe=J[1]-J[0]:de===1?(oe=f.options.overscroll,J=[J[0],J[0]+oe]):oe=g.overscrollPointsRange);ce||f.forceOrdinal?(f.options.overscroll&&(g.overscrollPointsRange=oe,J=J.concat(g.getOverscrollPositions())),g.positions=J,ne=f.ordinal2lin(Math.max(D,J[0]),!0),Ce=Math.max(f.ordinal2lin(Math.min(X,J[J.length-1]),!0),1),g.slope=X=(X-D)/(Ce-ne),g.offset=D-ne*X):(g.overscrollPointsRange=V(f.closestPointRange,g.overscrollPointsRange),g.positions=f.ordinal.slope=g.offset=void 0)}f.isOrdinal=b&&ce,g.groupIntervalFactor=null}static findIndexOf(f,g,b){let D=0,X=f.length-1,te;for(;D<X;)te=Math.ceil((D+X)/2),f[te]<=g?D=te:X=te-1;return f[D]===g||b?D:-1}getExtendedPositions(){const f=this,g=f.axis,b=g.constructor.prototype,D=g.chart,X=g.series[0].currentDataGrouping,te=X?X.count+X.unitName:"raw",Z=g.options.overscroll,de=g.getExtremes();let ge,Ce,J=f.index;return J||(J=f.index={}),J[te]||(ge={series:[],chart:D,forceOrdinal:!1,getExtremes:function(){return{min:de.dataMin,max:de.dataMax+Z}},getGroupPixelWidth:b.getGroupPixelWidth,getTimeTicks:b.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:b.ordinal2lin,getIndexOfPoint:b.getIndexOfPoint,val2lin:b.val2lin},ge.ordinal.axis=ge,g.series.forEach(function(oe){Ce={xAxis:ge,xData:oe.xData.slice(),chart:D,destroyGroupedData:c.noop,getProcessedData:h.prototype.getProcessedData,applyGrouping:h.prototype.applyGrouping},Ce.xData=Ce.xData.concat(f.getOverscrollPositions()),Ce.options={dataGrouping:X?{firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",enabled:!0,forced:!0,approximation:"open",units:[[X.unitName,[X.count]]]}:{enabled:!1}},ge.series.push(Ce),oe.processData.apply(Ce)}),Ce.closestPointRange!==Ce.basePointRange&&Ce.currentDataGrouping&&(ge.forceOrdinal=!0),g.ordinal.beforeSetTickPositions.apply({axis:ge}),J[te]=ge.ordinal.positions),J[te]}getGroupIntervalFactor(f,g,b){b=b.processedXData;const D=b.length;var X=[],te=this.groupIntervalFactor;if(!te){for(te=0;te<D-1;te++)X[te]=b[te+1]-b[te];X.sort(function(Z,de){return Z-de}),X=X[Math.floor(D/2)],f=Math.max(f,b[0]),g=Math.min(g,b[D-1]),this.groupIntervalFactor=te=D*X/(g-f)}return te}getIndexOfPoint(f,g){const b=this.axis,D=this.positions?this.positions[0]:0;let X=b.series[0].points&&b.series[0].points[0]&&b.series[0].points[0].plotX||b.minPixelPadding;return 1<b.series.length&&b.series.forEach(function(te){te.points&&Y(te.points[0])&&Y(te.points[0].plotX)&&te.points[0].plotX<X&&te.points[0].plotX>=V(b.min,-1/0)&&(X=te.points[0].plotX)}),f=(f-X)/(b.translationSlope*(this.slope||b.closestPointRange||this.overscrollPointsRange)),S.findIndexOf(g,D)+f}getOverscrollPositions(){const f=this.axis,g=f.options.overscroll,b=this.overscrollPointsRange,D=[];let X=f.dataMax;if(Y(b))for(;X<=f.dataMax+g;)X+=b,D.push(X);return D}postProcessTickInterval(f){const g=this.axis,b=this.slope;return b?g.options.breaks?g.closestPointRange||f:f/(b/g.closestPointRange):f}}H.Additions=S}(I||(I={})),I}),s(t,"Series/HLC/HLCPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(a){({column:{prototype:{pointClass:a}}}=a.seriesTypes);class c extends a{constructor(){super(...arguments),this.series=this.plotClose=this.options=this.low=this.high=this.close=void 0}}return c}),s(t,"Series/HLC/HLCSeriesDefaults.js",[],function(){return{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}}),s(t,"Series/HLC/HLCSeries.js",[t["Series/HLC/HLCPoint.js"],t["Series/HLC/HLCSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,h,m){const{column:n}=h.seriesTypes,{extend:x,merge:z}=m;class Y extends n{constructor(){super(...arguments),this.yData=this.points=this.options=this.data=void 0}extendStem(V,q,L){const I=V[0];V=V[1],typeof I[2]=="number"&&(I[2]=Math.max(L+q,I[2])),typeof V[2]=="number"&&(V[2]=Math.min(L-q,V[2]))}getPointPath(V,q){q=q.strokeWidth();const L=V.series,I=q%2/2,H=Math.round(V.plotX)-I,M=Math.round(V.shapeArgs.width/2),C=[["M",H,Math.round(V.yBottom)],["L",H,Math.round(V.plotHigh)]];return V.close!==null&&(V=Math.round(V.plotClose)+I,C.push(["M",H,V],["L",H+M,V]),L.extendStem(C,q/2,V)),C}drawSinglePoint(V){var q=V.series;const L=q.chart;let I=V.graphic;typeof V.plotY<"u"&&(I||(V.graphic=I=L.renderer.path().add(q.group)),L.styledMode||I.attr(q.pointAttribs(V,V.selected&&"select")),q=q.getPointPath(V,I),I[I?"animate":"attr"]({d:q}).addClass(V.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(V,q){return V=super.pointAttribs.call(this,V,q),delete V.fill,V}toYData(V){return[V.high,V.low,V.close]}translate(){const V=this,q=V.yAxis,L=this.pointArrayMap&&this.pointArrayMap.slice()||[],I=L.map(H=>`plot${H.charAt(0).toUpperCase()+H.slice(1)}`);I.push("yBottom"),L.push("low"),super.translate.apply(V),V.points.forEach(function(H){L.forEach(function(M,C){M=H[M],M!==null&&(V.dataModify&&(M=V.dataModify.modifyValue(M)),H[I[C]]=q.toPixels(M,!0))}),H.tooltipPos[1]=H.plotHigh+q.pos-V.chart.plotTop})}}return Y.defaultOptions=z(n.defaultOptions,c),x(Y.prototype,{pointClass:a,animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),h.registerSeriesType("hlc",Y),Y}),s(t,"Series/OHLC/OHLCPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(a){({seriesTypes:{hlc:a}}=a);class c extends a.prototype.pointClass{constructor(){super(...arguments),this.series=this.plotOpen=this.options=this.open=void 0}getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.resolveUpColor()}getZone(){const m=super.getZone();return this.resolveUpColor(),m}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}return c}),s(t,"Series/OHLC/OHLCSeriesDefaults.js",[],function(){return{tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}}),s(t,"Series/OHLC/OHLCSeries.js",[t["Series/OHLC/OHLCPoint.js"],t["Series/OHLC/OHLCSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,h,m){function n(I){I=I.options;const H=I.dataGrouping;H&&I.useOhlcData&&I.id!=="highcharts-navigator-series"&&(H.approximation="ohlc")}function x(I){I=I.options,I.useOhlcData&&I.id!=="highcharts-navigator-series"&&O(this,{pointValKey:L.prototype.pointValKey,pointArrayMap:L.prototype.pointArrayMap,toYData:L.prototype.toYData})}const{seriesTypes:{hlc:z}}=h,{addEvent:Y,extend:O,merge:V}=m,q=[];class L extends z{constructor(){super(...arguments),this.points=this.options=this.data=void 0}static compose(H,...M){m.pushUnique(q,H)&&(Y(H,"afterSetOptions",n),Y(H,"init",x))}getPointPath(H,M){const C=super.getPointPath(H,M);M=M.strokeWidth();const A=M%2/2,U=Math.round(H.plotX)-A,$=Math.round(H.shapeArgs.width/2);return H.open!==null&&(H=Math.round(H.plotOpen)+A,C.push(["M",U,H],["L",U-$,H]),super.extendStem(C,M/2,H)),C}pointAttribs(H,M){M=super.pointAttribs.call(this,H,M);const C=this.options;return delete M.fill,!H.options.color&&C.upColor&&H.open<H.close&&(M.stroke=C.upColor),M}toYData(H){return[H.open,H.high,H.low,H.close]}}return L.defaultOptions=V(z.defaultOptions,c),O(L.prototype,{pointClass:a,pointArrayMap:["open","high","low","close"]}),h.registerSeriesType("ohlc",L),L}),s(t,"Series/Candlestick/CandlestickSeriesDefaults.js",[t["Core/Defaults.js"],t["Core/Utilities.js"]],function(a,c){return{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}}),s(t,"Series/Candlestick/CandlestickSeries.js",[t["Series/Candlestick/CandlestickSeriesDefaults.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,h,m){({defaultOptions:c}=c);const{column:n,ohlc:x}=h.seriesTypes;({merge:m}=m);class z extends x{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(O,V){const q=n.prototype.pointAttribs.call(this,O,V),L=this.options,I=O.open<O.close,H=L.lineColor||this.color,M=O.color||this.color;return q["stroke-width"]=L.lineWidth,q.fill=O.options.color||I&&L.upColor||M,q.stroke=O.options.lineColor||I&&L.upLineColor||H,V&&(O=L.states[V],q.fill=O.color||q.fill,q.stroke=O.lineColor||q.stroke,q["stroke-width"]=O.lineWidth||q["stroke-width"]),q}drawPoints(){var O=this.points;const V=this.chart,q=this.yAxis.reversed;for(const M of O){O=M.graphic;var L=void 0,I=void 0;let C,A;var H=void 0;let U,$;const E=!O;typeof M.plotY<"u"&&(O||(M.graphic=O=V.renderer.path().add(this.group)),this.chart.styledMode||O.attr(this.pointAttribs(M,M.selected&&"select")).shadow(this.options.shadow),H=O.strokeWidth()%2/2,U=Math.round(M.plotX)-H,L=M.plotOpen,I=M.plotClose,C=Math.min(L,I),L=Math.max(L,I),$=Math.round(M.shapeArgs.width/2),I=q?L!==M.yBottom:Math.round(C)!==Math.round(M.plotHigh),A=q?Math.round(C)!==Math.round(M.plotHigh):L!==M.yBottom,C=Math.round(C)+H,L=Math.round(L)+H,H=[],H.push(["M",U-$,L],["L",U-$,C],["L",U+$,C],["L",U+$,L],["Z"],["M",U,C],["L",U,I?Math.round(q?M.yBottom:M.plotHigh):C],["M",U,L],["L",U,A?Math.round(q?M.plotHigh:M.yBottom):L]),O[E?"attr":"animate"]({d:H}).addClass(M.getClassName(),!0))}}}return z.defaultOptions=m(x.defaultOptions,c.plotOptions,{tooltip:x.defaultOptions.tooltip},a),h.registerSeriesType("candlestick",z),z}),s(t,"Series/Flags/FlagsPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c){({column:{prototype:{pointClass:a}}}=a.seriesTypes);const{isNumber:h}=c;class m extends a{constructor(){super(...arguments),this.series=this.options=void 0,this.ttBelow=!1}isValid(){return h(this.y)||typeof this.y>"u"}hasNewShapeType(){const x=this.options.shape||this.series.options.shape;return this.graphic&&x&&x!==this.graphic.symbolKey}}return m}),s(t,"Series/Flags/FlagsSeriesDefaults.js",[],function(){return{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{fontSize:"0.7em",fontWeight:"bold"}}}),s(t,"Series/Flags/FlagsSymbols.js",[t["Core/Renderer/RendererRegistry.js"]],function(a){var c;return function(h){function m(z,Y,O,V,q){const L=q&&q.anchorX||z;q=q&&q.anchorY||Y;const I=this.circle(L-1,q-1,2,2);return I.push(["M",L,q],["L",z,Y+V],["L",z,Y],["L",z+O,Y],["L",z+O,Y+V],["L",z,Y+V],["Z"]),I}function n(z,Y){z[Y+"pin"]=function(O,V,q,L,I){const H=I&&I.anchorX;I=I&&I.anchorY;let M;if(Y==="circle"&&L>q&&(O-=Math.round((L-q)/2),q=L),M=z[Y](O,V,q,L),H&&I){let C=H;Y==="circle"?C=O+q/2:(O=M[0],q=M[1],O[0]==="M"&&q[0]==="L"&&(C=(O[1]+q[1])/2)),M.push(["M",C,V>I?V:V+L],["L",H,I]),M=M.concat(z.circle(H-1,I-1,2,2))}return M}}const x=[];h.compose=function(z){x.indexOf(z)===-1&&(x.push(z),z=z.prototype.symbols,z.flag=m,n(z,"circle"),n(z,"square")),z=a.getRendererType(),x.indexOf(z)&&x.push(z)}}(c||(c={})),c}),s(t,"Series/OnSeriesComposition.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(a,c,h){const{prototype:m}=a,{prototype:n}=c,{defined:x,stableSort:z}=h;var Y;return function(O){function V(I){return n.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,I)}function q(){m.translate.apply(this);const I=this;var H=I.options,M=I.chart;const C=I.points;var A=H.onSeries;const U=(A=A&&M.get(A))&&A.options.step,$=A&&A.points,E=M.inverted,ee=I.xAxis,Q=I.yAxis;M=C.length-1;let N;H=H.onKey||"y";let j=$&&$.length,W=0,S,P,f,g;if(A&&A.visible&&j){W=(A.pointXOffset||0)+(A.barW||0)/2;var b=A.currentDataGrouping;for(P=$[j-1].x+(b?b.totalRange:0),z(C,(D,X)=>D.x-X.x),H="plot"+H[0].toUpperCase()+H.substr(1);j--&&C[M]&&(S=$[j],b=C[M],b.y=S.y,!(S.x<=b.x&&typeof S[H]<"u"&&(b.x<=P&&(b.plotY=S[H],S.x<b.x&&!U&&(f=$[j+1])&&typeof f[H]<"u"&&(g=(b.x-S.x)/(f.x-S.x),b.plotY+=g*(f[H]-S[H]),b.y+=g*(f.y-S.y))),M--,j++,0>M))););}C.forEach((D,X)=>{let te;D.plotX+=W,(typeof D.plotY>"u"||E)&&(0<=D.plotX&&D.plotX<=ee.len?E?(D.plotY=ee.translate(D.x,0,1,0,1),D.plotX=x(D.y)?Q.translate(D.y,0,0,0,1):0):D.plotY=(ee.opposite?0:I.yAxis.len)+ee.offset:D.shapeArgs={}),(N=C[X-1])&&N.plotX===D.plotX&&(typeof N.stackIndex>"u"&&(N.stackIndex=0),te=N.stackIndex+1),D.stackIndex=te}),this.onSeries=A}const L=[];O.compose=function(I){if(h.pushUnique(L,I)){const H=I.prototype;H.getPlotBox=V,H.translate=q}return I},O.getPlotBox=V,O.translate=q}(Y||(Y={})),Y}),s(t,"Series/Flags/FlagsSeries.js",[t["Series/Flags/FlagsPoint.js"],t["Series/Flags/FlagsSeriesDefaults.js"],t["Series/Flags/FlagsSymbols.js"],t["Core/Globals.js"],t["Series/OnSeriesComposition.js"],t["Core/Renderer/RendererUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(a,c,h,m,n,x,z,Y,O){({noop:m}=m);const{distribute:V}=x,{series:q,seriesTypes:{column:L}}=z,{addEvent:I,defined:H,extend:M,merge:C,objectEach:A,wrap:U}=O;class $ extends L{constructor(){super(...arguments),this.points=this.options=this.data=void 0}animate(ee){ee&&this.setClip()}drawPoints(){var ee=this.points,Q=this.chart;const N=Q.renderer,j=Q.inverted,W=this.options,S=W.y,P=this.yAxis,f={},g=[];let b,D,X,te,Z,de,ge;for(X=ee.length;X--;){te=ee[X],de=(j?te.plotY:te.plotX)>this.xAxis.len,b=te.plotX;var Ce=te.stackIndex,J=te.options.shape||W.shape;D=te.plotY,typeof D<"u"&&(D=te.plotY+S-(typeof Ce<"u"&&Ce*W.stackDistance)),te.anchorX=Ce?void 0:te.plotX,Z=Ce?void 0:te.plotY,ge=J!=="flag",Ce=te.graphic,typeof D<"u"&&0<=b&&!de?(Ce&&te.hasNewShapeType()&&(Ce=Ce.destroy()),Ce||(Ce=te.graphic=N.label("",null,null,J,null,null,W.useHTML).addClass("highcharts-point").add(this.markerGroup),te.graphic.div&&(te.graphic.div.point=te),Ce.isNew=!0),Ce.attr({align:ge?"center":"left",width:W.width,height:W.height,"text-align":W.textAlign}),Q.styledMode||Ce.attr(this.pointAttribs(te)).css(C(W.style,te.style)).shadow(W.shadow),0<b&&(b-=Ce.strokeWidth()%2),J={y:D,anchorY:Z},W.allowOverlapX&&(J.x=b,J.anchorX=te.anchorX),Ce.attr({text:te.options.title||W.title||"A"})[Ce.isNew?"attr":"animate"](J),W.allowOverlapX||(f[te.plotX]?f[te.plotX].size=Math.max(f[te.plotX].size,Ce.width):f[te.plotX]={align:ge?.5:0,size:Ce.width,target:b,anchorX:b}),te.tooltipPos=[b,D+P.pos-Q.plotTop]):Ce&&(te.graphic=Ce.destroy())}if(!W.allowOverlapX){let oe=100;A(f,function(ce){ce.plotX=ce.anchorX,g.push(ce),oe=Math.max(ce.size,oe)}),V(g,j?P.len:this.xAxis.len,oe);for(const ce of ee)Q=ce.plotX,(Q=(ee=ce.graphic)&&f[Q])&&ee&&(H(Q.pos)?ee[ee.isNew?"attr":"animate"]({x:Q.pos+(Q.align||0)*Q.size,anchorX:ce.anchorX}).show().isNew=!1:ee.hide().isNew=!0)}W.useHTML&&this.markerGroup&&U(this.markerGroup,"on",function(oe){return Y.prototype.on.apply(oe.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){const ee=this.points;super.drawTracker();for(const Q of ee){const N=Q.graphic;N&&(Q.unbindMouseOver&&Q.unbindMouseOver(),Q.unbindMouseOver=I(N.element,"mouseover",function(){0<Q.stackIndex&&!Q.raised&&(Q._y=N.y,N.attr({y:Q._y-8}),Q.raised=!0);for(const j of ee)j!==Q&&j.raised&&j.graphic&&(j.graphic.attr({y:j._y}),j.raised=!1)}))}}pointAttribs(ee,Q){const N=this.options,j=ee&&ee.color||this.color;let W=N.lineColor,S=ee&&ee.lineWidth;return ee=ee&&ee.fillColor||N.fillColor,Q&&(ee=N.states[Q].fillColor,W=N.states[Q].lineColor,S=N.states[Q].lineWidth),{fill:ee||j,stroke:W||j,"stroke-width":S||N.lineWidth||0}}setClip(){q.prototype.setClip.apply(this,arguments),this.options.clip!==!1&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}return $.compose=h.compose,$.defaultOptions=C(L.defaultOptions,c),n.compose($),M($.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:a,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:m,init:q.prototype.init}),z.registerSeriesType("flags",$),$}),s(t,"Core/Chart/StockChart.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/FormatUtilities.js"],t["Core/Defaults.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Series/Series.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(a,c,h,m,n,x,z,Y,O,V){function q(S,P){return S==="xAxis"?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0}:S==="yAxis"?{labels:{y:-2},opposite:N(P.opposite,!0),showLastLabel:!(!P.categories&&P.type!=="category"),title:{text:null}}:{}}function L(S,P){return S==="xAxis"?(S={type:"datetime",categories:void 0},N(P.navigator&&P.navigator.enabled,n.enabled,!0)&&(S.startOnTick=!1,S.endOnTick=!1),S):{}}const{format:I}=h,{getOptions:H}=m,{addEvent:M,clamp:C,defined:A,extend:U,find:$,isNumber:E,isString:ee,merge:Q,pick:N,splat:j}=V;class W extends c{init(P,f){const g=H(),b=P.xAxis,D=P.yAxis;var X=N(P.navigator&&P.navigator.enabled,n.enabled,!0);P.xAxis=P.yAxis=void 0,X=Q({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x"}},navigator:{enabled:X},scrollbar:{enabled:N(z.enabled,!0)},rangeSelector:{enabled:N(x.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:N(g.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},P,{isStock:!0}),P.xAxis=b,P.yAxis=D,X.xAxis=j(P.xAxis||{}).map(function(te,Z){return Q(q("xAxis",te),g.xAxis,g.xAxis&&g.xAxis[Z],te,L("xAxis",P))}),X.yAxis=j(P.yAxis||{}).map(function(te,Z){return Q(q("yAxis",te),g.yAxis,g.yAxis&&g.yAxis[Z],te)}),super.init(X,f)}createAxis(P,f){return f.axis=Q(q(P,f.axis),f.axis,L(P,this.userOptions)),super.createAxis(P,f)}}return function(S){S.stockChart=function(P,f,g){return new S(P,f,g)}}(W||(W={})),M(Y,"setOptions",function(S){let P;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?P={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(P={marker:{enabled:!1,radius:2}}),P&&(S.plotOptions[this.type]=Q(S.plotOptions[this.type],P)))}),M(a,"autoLabelAlign",function(S){const{chart:P,options:f}=this,g=P._labelPanes=P._labelPanes||{},b=f.labels;if(P.options.isStock&&this.coll==="yAxis"){const D=f.top+","+f.height;!g[D]&&b.enabled&&(b.distance===15&&this.side===1&&(b.distance=0),typeof b.align>"u"&&(b.align="right"),g[D]=this,S.align="right",S.preventDefault())}}),M(a,"destroy",function(){const S=this.chart,P=this.options&&this.options.top+","+this.options.height;P&&S._labelPanes&&S._labelPanes[P]===this&&delete S._labelPanes[P]}),M(a,"getPlotLinePath",function(S){function P(ae){const me=ae==="xAxis"?"yAxis":"xAxis";return ae=f.options[me],E(ae)?[b[me][ae]]:ee(ae)?[b.get(ae)]:g.map(function(we){return we[me]})}let f=this,g=this.isLinked&&!this.series?this.linkedParent.series:this.series,b=f.chart,D=b.renderer,X=f.left,te=f.top,Z,de,ge,Ce,J=[],oe=[],ce,pe,Ee=S.translatedValue,ne=S.value,ye=S.force,_e;(b.options.isStock&&S.acrossPanes!==!1&&f.coll==="xAxis"||f.coll==="yAxis")&&(S.preventDefault(),oe=P(f.coll),ce=f.isXAxis?b.yAxis:b.xAxis,ce.forEach(function(ae){if(!A(ae.options.id)||ae.options.id.indexOf("navigator")===-1){var me=ae.isXAxis?"yAxis":"xAxis";me=A(ae.options[me])?b[me][ae.options[me]]:b[me][0],f===me&&oe.push(ae)}}),pe=oe.length?[]:[f.isXAxis?b.yAxis[0]:b.xAxis[0]],oe.forEach(function(ae){pe.indexOf(ae)!==-1||$(pe,function(me){return me.pos===ae.pos&&me.len===ae.len})||pe.push(ae)}),_e=N(Ee,f.translate(ne,void 0,void 0,S.old)),E(_e)&&(f.horiz?pe.forEach(function(ae){let me;de=ae.pos,Ce=de+ae.len,Z=ge=Math.round(_e+f.transB),ye!=="pass"&&(Z<X||Z>X+f.width)&&(ye?Z=ge=C(Z,X,X+f.width):me=!0),me||J.push(["M",Z,de],["L",ge,Ce])}):pe.forEach(function(ae){let me;Z=ae.pos,ge=Z+ae.len,de=Ce=Math.round(te+f.height-_e),ye!=="pass"&&(de<te||de>te+f.height)&&(ye?de=Ce=C(de,te,te+f.height):me=!0),me||J.push(["M",Z,de],["L",ge,Ce])})),S.path=0<J.length?D.crispPolyLine(J,S.lineWidth||1):null)}),O.prototype.crispPolyLine=function(S,P){for(let f=0;f<S.length;f+=2){const g=S[f],b=S[f+1];g[1]===b[1]&&(g[1]=b[1]=Math.round(g[1])-P%2/2),g[2]===b[2]&&(g[2]=b[2]=Math.round(g[2])+P%2/2)}return S},M(a,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),M(a,"afterDrawCrosshair",function(S){var P,f;if(this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&E(this.min)&&E(this.max)){var g=this.chart,b=this.logarithmic,D=this.crosshair.label,X=this.horiz,te=this.opposite,Z=this.left,de=this.top,ge=this.width,Ce=this.crossLabel,J=D.format,oe="",ce=this.options.tickPosition==="inside",pe=this.crosshair.snap!==!1,Ee=0,ne=S.e||this.cross&&this.cross.e;S=S.point;var ye=this.min,_e=this.max;b&&(ye=b.lin2log(ye),_e=b.lin2log(_e)),b=X?"center":te?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center",Ce||(Ce=this.crossLabel=g.renderer.label("",0,void 0,D.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(S&&S.series?S.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:D.align||b,padding:N(D.padding,8),r:N(D.borderRadius,3),zIndex:2}).add(this.labelGroup),g.styledMode||Ce.attr({fill:D.backgroundColor||S&&S.series&&S.series.color||"#666666",stroke:D.borderColor||"","stroke-width":D.borderWidth||0}).css(U({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},D.style||{}))),X?(ge=pe?(S.plotX||0)+Z:ne.chartX,de+=te?0:this.height):(ge=Z+this.offset+(te?ge:0),de=pe?(S.plotY||0)+de:ne.chartY),J||D.formatter||(this.dateTime&&(oe="%b %d, %Y"),J="{value"+(oe?":"+oe:"")+"}"),oe=pe?this.isXAxis?S.x:S.y:this.toValue(X?ne.chartX:ne.chartY),pe=S&&S.series?S.series.isPointInside(S):E(oe)&&oe>ye&&oe<_e,ne="",J?ne=I(J,{value:oe},g):D.formatter&&E(oe)&&(ne=D.formatter.call(this,oe)),Ce.attr({text:ne,x:ge,y:de,visibility:pe?"inherit":"hidden"}),D=Ce.getBBox(),!E(Ce.x)||X||te||(ge=Ce.x-D.width/2),E(Ce.y)&&(X?(ce&&!te||!ce&&te)&&(de=Ce.y-D.height):de=Ce.y-D.height/2),X?(P=Z-D.x,f=Z+this.width-D.x):(P=this.labelAlign==="left"?Z:0,f=this.labelAlign==="right"?Z+this.width:g.chartWidth),Ce.translateX<P&&(Ee=P-Ce.translateX),Ce.translateX+D.width>=f&&(Ee=-(Ce.translateX+D.width-f)),Ce.attr({x:ge+Ee,y:de,anchorX:X?ge:this.opposite?0:g.chartWidth,anchorY:X?this.opposite?g.chartHeight:0:de+D.height/2})}}),Y.prototype.forceCropping=function(){const S=this.chart,P=this.options.dataGrouping;return this.allowDG!==!1&&P&&N(P.enabled,S.options.isStock)},M(c,"update",function(S){S=S.options,"scrollbar"in S&&this.navigator&&(Q(!0,this.options.scrollbar,S.scrollbar),this.navigator.update({}),delete S.scrollbar)}),W}),s(t,"masters/modules/stock.src.js",[t["Core/Globals.js"],t["Series/DataModifyComposition.js"],t["Stock/Navigator/Navigator.js"],t["Stock/RangeSelector/RangeSelector.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Axis/OrdinalAxis.js"],t["Series/OHLC/OHLCSeries.js"],t["Series/Flags/FlagsSeries.js"],t["Core/Chart/StockChart.js"]],function(a,c,h,m,n,x,z,Y,O){a.Navigator=h,a.RangeSelector=m,a.Scrollbar=n,a.StockChart=a.stockChart=O.stockChart,c.compose(a.Series,a.Axis,a.Point),Y.compose(a.Renderer),h.compose(a.Axis,a.Chart,a.Series),z.compose(a.Series),x.compose(a.Axis,a.Series,a.Chart),m.compose(a.Axis,a.Chart),n.compose(a.Axis)})})})(H8);var OV=H8.exports;const RV=wd(OV);RV(Fl);const BV={name:"graph",components:{Chart:o0.Chart},data(){return{chartOptions:{chart:{zoomType:"xy"},title:{text:"",align:""},subtitle:{text:"",align:""},xAxis:[{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],crosshair:!0}],yAxis:[{labels:{format:"{value}°C",style:{color:Fl.getOptions().colors[2]}},title:{text:"Temperature",style:{color:Fl.getOptions().colors[2]}},opposite:!0},{gridLineWidth:0,title:{text:"Rainfall",style:{color:Fl.getOptions().colors[0]}},labels:{format:"{value} mm",style:{color:Fl.getOptions().colors[0]}}},{gridLineWidth:0,title:{text:"Sea-Level Pressure",style:{color:Fl.getOptions().colors[1]}},labels:{format:"{value} mb",style:{color:Fl.getOptions().colors[1]}},opposite:!0}],tooltip:{shared:!0},legend:{layout:"vertical",align:"left",x:80,verticalAlign:"top",y:55,floating:!0,backgroundColor:Fl.defaultOptions.legend.backgroundColor||"rgba(255,255,255,0.25)"},series:[{name:"Rainfall",type:"column",yAxis:1,data:[49.9,71.5,106.4,129.2,144,176,135.6,148.5,216.4,194.1,95.6,54.4],tooltip:{valueSuffix:" mm"}},{name:"Sea-Level Pressure",type:"spline",yAxis:2,data:[1016,1016,1015.9,1015.5,1012.3,1009.5,1009.6,1010.2,1013.1,1016.9,1018.2,1016.7],marker:{enabled:!1},dashStyle:"shortdot",tooltip:{valueSuffix:" mb"}},{name:"Temperature",type:"spline",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6],tooltip:{valueSuffix:" °C"}}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{floating:!1,layout:"horizontal",align:"center",verticalAlign:"bottom",x:0,y:0},yAxis:[{labels:{align:"right",x:0,y:-6},showLastLabel:!1},{labels:{align:"left",x:0,y:-6},showLastLabel:!1},{visible:!1}]}}]}}}}};function zV(e,t,s,a,c,h){const m=Un("Chart");return yt(),ja(m,{options:c.chartOptions,constructorType:"stockChart"},null,8,["options"])}const NV=Jn(BV,[["render",zV]]);var W8={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function s(a,c,h,m){a.hasOwnProperty(c)||(a[c]=m.apply(null,h),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:c,module:a[c]}})))}t=t?t._modules:{},s(t,"Accessibility/Utils/HTMLUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(a,c){function h(O){if(typeof x.MouseEvent=="function")return new x.MouseEvent(O.type,O);if(n.createEvent){const V=n.createEvent("MouseEvent");if(V.initMouseEvent)return V.initMouseEvent(O.type,O.bubbles,O.cancelable,O.view||x,O.detail,O.screenX,O.screenY,O.clientX,O.clientY,O.ctrlKey,O.altKey,O.shiftKey,O.metaKey,O.button,O.relatedTarget),V}return m(O.type)}function m(O,V,q){return V=V||{x:0,y:0},typeof x.MouseEvent=="function"?new x.MouseEvent(O,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:q||Y,view:x,detail:O==="click"?1:0,screenX:V.x,screenY:V.y,clientX:V.x,clientY:V.y}):n.createEvent&&(q=n.createEvent("MouseEvent"),q.initMouseEvent)?(q.initMouseEvent(O,!0,!0,x,O==="click"?1:0,V.x,V.y,V.x,V.y,!1,!1,!1,!1,0,null),q):{type:O}}const{doc:n,win:x}=a,{css:z}=c,Y=x.EventTarget&&new x.EventTarget||"none";return{addClass:function(O,V){O.classList?O.classList.add(V):0>O.className.indexOf(V)&&(O.className+=" "+V)},cloneMouseEvent:h,cloneTouchEvent:function(O){var V=q=>{const L=[];for(let I=0;I<q.length;++I){const H=q.item(I);H&&L.push(H)}return L};return typeof x.TouchEvent=="function"?(V=new x.TouchEvent(O.type,{touches:V(O.touches),targetTouches:V(O.targetTouches),changedTouches:V(O.changedTouches),ctrlKey:O.ctrlKey,shiftKey:O.shiftKey,altKey:O.altKey,metaKey:O.metaKey,bubbles:O.bubbles,cancelable:O.cancelable,composed:O.composed,detail:O.detail,view:O.view}),O.defaultPrevented&&V.preventDefault(),V):(V=h(O),V.touches=O.touches,V.changedTouches=O.changedTouches,V.targetTouches=O.targetTouches,V)},escapeStringForHTML:function(O){return O.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(O){return n.getElementById(O)},getFakeMouseEvent:m,getHeadingTagNameForElement:function(O){const V=L=>(L=parseInt(L.slice(1),10),"h"+Math.min(6,L+1)),q=L=>{var I;e:{for(I=L;I=I.previousSibling;){const H=I.tagName||"";if(/H[1-6]/.test(H)){I=H;break e}}I=""}return I?V(I):(L=L.parentElement,L?(I=L.tagName,/H[1-6]/.test(I)?V(I):q(L)):"p")};return q(O)},removeChildNodes:function(O){for(;O.lastChild;)O.removeChild(O.lastChild)},removeClass:function(O,V){O.classList?O.classList.remove(V):O.className=O.className.replace(new RegExp(V,"g"),"")},removeElement:function(O){O&&O.parentNode&&O.parentNode.removeChild(O)},reverseChildNodes:function(O){let V=O.childNodes.length;for(;V--;)O.appendChild(O.childNodes[V])},simulatedEventTarget:Y,stripHTMLTagsFromString:function(O){return typeof O=="string"?O.replace(/<\/?[^>]+(>|$)/g,""):O},visuallyHideElement:function(O){z(O,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}}}),s(t,"Accessibility/A11yI18n.js",[t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],function(a,c){const{format:h}=a,{getNestedProperty:m,pick:n}=c;var x;return function(z){function Y(L,I){var H=L.indexOf("#each("),M=L.indexOf("#plural("),C=L.indexOf("[");const A=L.indexOf("]");if(-1<H){C=L.slice(H).indexOf(")")+H;var U=L.substring(0,H);if(M=L.substring(C+1),C=L.substring(H+6,C).split(","),H=Number(C[1]),L="",I=m(C[0],I))for(H=isNaN(H)?I.length:H,H=0>H?I.length+H:Math.min(H,I.length),C=0;C<H;++C)L+=U+I[C]+M;return L.length?L:""}if(-1<M){switch(U=L.slice(M).indexOf(")")+M,L=L.substring(M+8,U).split(","),Number(m(L[0],I))){case 0:L=n(L[4],L[1]);break;case 1:L=n(L[2],L[1]);break;case 2:L=n(L[3],L[1]);break;default:L=L[1]}return L?(I=L,I=I.trim&&I.trim()||I.replace(/^\s+|\s+$/g,"")):I="",I}return-1<C?(M=L.substring(0,C),L=Number(L.substring(C+1,A)),I=m(M,I),!isNaN(L)&&I&&(0>L?(U=I[I.length+L],typeof U>"u"&&(U=I[0])):(U=I[L],typeof U>"u"&&(U=I[I.length-1]))),typeof U<"u"?U:""):"{"+L+"}"}function O(L,I,H){const M=(E,ee)=>{E=E.slice(ee||0);const Q=E.indexOf("{"),N=E.indexOf("}");if(-1<Q&&N>Q)return{statement:E.substring(Q+1,N),begin:ee+Q+1,end:ee+N}},C=[];let A,U,$=0;do A=M(L,$),U=L.substring($,A&&A.begin-1),U.length&&C.push({value:U,type:"constant"}),A&&C.push({value:A.statement,type:"statement"}),$=A?A.end+1:$+1;while(A);return C.forEach(E=>{E.type==="statement"&&(E.value=Y(E.value,I))}),h(C.reduce((E,ee)=>E+ee.value,""),I,H)}function V(L,I){L=L.split(".");let H=this.options.lang,M=0;for(;M<L.length;++M)H=H&&H[L[M]];return typeof H=="string"?O(H,I,this):""}const q=[];z.compose=function(L){return c.pushUnique(q,L)&&(L.prototype.langFormat=V),L},z.i18nFormat=O}(x||(x={})),x}),s(t,"Accessibility/Utils/ChartUtilities.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(a,c,h){function m(M,C){const A=C.type,U=M.hcEvents;V.createEvent&&(M.dispatchEvent||M.fireEvent)?M.dispatchEvent?M.dispatchEvent(C):M.fireEvent(A,C):U&&U[A]?H(M,A,C):M.element&&m(M.element,C)}function n(M){const C=M.chart,A={};let U="Seconds";A.Seconds=((M.dataMax||M.max||0)-(M.dataMin||M.min||0))/1e3,A.Minutes=A.Seconds/60,A.Hours=A.Minutes/60,A.Days=A.Hours/24,["Minutes","Hours","Days"].forEach(function(E){2<A[E]&&(U=E)});const $=A[U].toFixed(U!=="Seconds"&&U!=="Minutes"?1:0);return C.langFormat("accessibility.axis.timeRange"+U,{chart:C,axis:M,range:$.replace(".0","")})}function x(M){const C=M.chart;var A=C.options;const U=A&&A.accessibility&&A.accessibility.screenReaderSection.axisRangeDateFormat||"",$={min:M.dataMin||M.min||0,max:M.dataMax||M.max||0};return A=function(E){return M.dateTime?C.time.dateFormat(U,$[E]):$[E].toString()},C.langFormat("accessibility.axis.rangeFromTo",{chart:C,axis:M,rangeFrom:A("min"),rangeTo:A("max")})}function z(M){if(M.points&&M.points.length)return(M=I(M.points,C=>!!C.graphic))&&M.graphic&&M.graphic.element}function Y(M){const C=z(M);return C&&C.parentNode||M.graph&&M.graph.element||M.group&&M.group.element}function O(M,C){C.setAttribute("aria-hidden",!1),C!==M.renderTo&&C.parentNode&&C.parentNode!==V.body&&(Array.prototype.forEach.call(C.parentNode.childNodes,function(A){A.hasAttribute("aria-hidden")||A.setAttribute("aria-hidden",!0)}),O(M,C.parentNode))}const{doc:V}=a,{stripHTMLTagsFromString:q}=c,{defined:L,find:I,fireEvent:H}=h;return{fireEventOnWrappedOrUnwrappedElement:m,getChartTitle:function(M){return q(M.options.title.text||M.langFormat("accessibility.defaultChartTitle",{chart:M}))},getAxisDescription:function(M){return M&&(M.userOptions&&M.userOptions.accessibility&&M.userOptions.accessibility.description||M.axisTitle&&M.axisTitle.textStr||M.options.id||M.categories&&"categories"||M.dateTime&&"Time"||"values")},getAxisRangeDescription:function(M){var C=M.options||{};return C.accessibility&&typeof C.accessibility.rangeDescription<"u"?C.accessibility.rangeDescription:M.categories?(C=M.chart,M=M.dataMax&&M.dataMin?C.langFormat("accessibility.axis.rangeCategories",{chart:C,axis:M,numCategories:M.dataMax-M.dataMin+1}):"",M):!M.dateTime||M.min!==0&&M.dataMin!==0?x(M):n(M)},getPointFromXY:function(M,C,A){let U=M.length,$;for(;U--;)if($=I(M[U].points||[],function(E){return E.x===C&&E.y===A}))return $},getSeriesFirstPointElement:z,getSeriesFromName:function(M,C){return C?(M.series||[]).filter(function(A){return A.name===C}):M.series},getSeriesA11yElement:Y,unhideChartElementFromAT:O,hideSeriesFromAT:function(M){(M=Y(M))&&M.setAttribute("aria-hidden",!0)},scrollToPoint:function(M){var C=M.series.xAxis,A=M.series.yAxis;const U=C&&C.scrollbar?C:A;if((C=U&&U.scrollbar)&&L(C.to)&&L(C.from)){if(A=C.to-C.from,L(U.dataMin)&&L(U.dataMax)){var $=U.toPixels(U.dataMin),E=U.toPixels(U.dataMax);M=(U.toPixels(M[U.coll==="xAxis"?"x":"y"]||0)-$)/(E-$)}else M=0;C.updatePosition(M-A/2,M+A/2),H(C,"changed",{from:C.from,to:C.to,trigger:"scrollbar",DOMEvent:null})}}}}),s(t,"Accessibility/Utils/DOMElementProvider.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(a,c){const{doc:h}=a,{removeElement:m}=c;class n{constructor(){this.elements=[]}createElement(){const z=h.createElement.apply(h,arguments);return this.elements.push(z),z}destroyCreatedElements(){this.elements.forEach(function(z){m(z)}),this.elements=[]}}return n}),s(t,"Accessibility/Utils/EventProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(a,c){const{addEvent:h}=c;class m{constructor(){this.eventRemovers=[]}addEvent(){const x=h.apply(a,arguments);return this.eventRemovers.push(x),x}removeAddedEvents(){this.eventRemovers.forEach(x=>x()),this.eventRemovers=[]}}return m}),s(t,"Accessibility/AccessibilityComponent.js",[t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(a,c,h,m,n){const{fireEventOnWrappedOrUnwrappedElement:x}=a,{getFakeMouseEvent:z}=m;({extend:a}=n);class Y{constructor(){this.proxyProvider=this.keyCodes=this.eventProvider=this.domElementProvider=this.chart=void 0}initBase(V,q){this.chart=V,this.eventProvider=new h,this.domElementProvider=new c,this.proxyProvider=q,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(V,q,L,I){return this.eventProvider.addEvent(V,q,L,I)}createElement(V,q){return this.domElementProvider.createElement(V,q)}fakeClickEvent(V){const q=z("click");x(V,q)}destroyBase(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}}return a(Y.prototype,{init(){},getKeyboardNavigation:function(){},onChartUpdate(){},onChartRender(){},destroy(){}}),Y}),s(t,"Accessibility/KeyboardNavigationHandler.js",[t["Core/Utilities.js"]],function(a){const{find:c}=a;class h{constructor(n,x){this.chart=n,this.keyCodeMap=x.keyCodeMap||[],this.validate=x.validate,this.init=x.init,this.terminate=x.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(n){const x=n.which||n.keyCode;let z=this.response.noHandler;const Y=c(this.keyCodeMap,function(O){return-1<O[0].indexOf(x)});return Y?z=Y[1].call(this,x,n):x===9&&(z=this.response[n.shiftKey?"prev":"next"]),z}}return h}),s(t,"Accessibility/Components/ContainerComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(a,c,h,m,n){const{unhideChartElementFromAT:x,getChartTitle:z}=h,{doc:Y}=m,{stripHTMLTagsFromString:O}=n;class V extends a{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){const L=this.chart,I="highcharts-title-"+L.index,H=O(L.langFormat("accessibility.svgContainerTitle",{chartTitle:z(L)}));if(H.length){const M=this.svgTitleElement=this.svgTitleElement||Y.createElementNS("http://www.w3.org/2000/svg","title");M.textContent=H,M.id=I,L.renderTo.insertBefore(M,L.renderTo.firstChild)}}setSVGContainerLabel(){const L=this.chart,I=L.langFormat("accessibility.svgContainerLabel",{chartTitle:z(L)});L.renderer.box&&I.length&&L.renderer.box.setAttribute("aria-label",I)}setGraphicContainerAttrs(){const L=this.chart,I=L.langFormat("accessibility.graphicContainerLabel",{chartTitle:z(L)});I.length&&L.container.setAttribute("aria-label",I)}setRenderToAttrs(){const L=this.chart,I=L.options.accessibility.landmarkVerbosity!=="disabled",H=L.langFormat("accessibility.chartContainerLabel",{title:z(L),chart:L});H&&(L.renderTo.setAttribute("role",I?"region":"group"),L.renderTo.setAttribute("aria-label",H))}makeCreditsAccessible(){const L=this.chart,I=L.credits;I&&(I.textStr&&I.element.setAttribute("aria-label",L.langFormat("accessibility.credits",{creditsStr:O(I.textStr)})),x(L,I.element))}getKeyboardNavigation(){const L=this.chart;return new c(L,{keyCodeMap:[],validate:function(){return!0},init:function(){const I=L.accessibility;I&&I.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}}return V}),s(t,"Accessibility/FocusBorder.js",[t["Core/Renderer/SVG/SVGLabel.js"],t["Core/Utilities.js"]],function(a,c){const{addEvent:h,pick:m}=c;var n;return function(x){function z(){const C=this.focusElement,A=this.options.accessibility.keyboardNavigation.focusBorder;C&&(C.removeFocusBorder(),A.enabled&&C.addFocusBorder(A.margin,{stroke:A.style.color,strokeWidth:A.style.lineWidth,r:A.style.borderRadius}))}function Y(C,A){const U=this.options.accessibility.keyboardNavigation.focusBorder;(A=A||C.element)&&A.focus&&(A.hcEvents&&A.hcEvents.focusin||h(A,"focusin",function(){}),A.focus(),U.hideBrowserFocusOutline&&(A.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=C,this.renderFocusBorder()}function O(C){if(!C.focusBorderDestroyHook){var A=C.destroy;C.destroy=function(){return C.focusBorder&&C.focusBorder.destroy&&C.focusBorder.destroy(),A.apply(C,arguments)},C.focusBorderDestroyHook=A}}function V(C,A){this.focusBorder&&this.removeFocusBorder();const U=this.getBBox(),$=m(C,3),E=this.parentGroup;var ee=this.scaleX||E&&E.scaleX,Q=this.scaleY||E&&E.scaleY;ee=(ee?!Q:Q)?Math.abs(ee||Q||1):(Math.abs(ee||1)+Math.abs(Q||1))/2,U.x+=this.translateX?this.translateX:0,U.y+=this.translateY?this.translateY:0,Q=U.x-$;let N=U.y-$,j=U.width+2*$,W=U.height+2*$;var S=this instanceof a;if(this.element.nodeName==="text"||S){const g=!!this.rotation;if(S)var P={x:g?1:0,y:0};else{var f=P=0;this.attr("text-anchor")==="middle"?P=f=.5:this.rotation?P=.25:f=.75,P={x:P,y:f}}f=+this.attr("x");const b=+this.attr("y");isNaN(f)||(Q=f-U.width*P.x-$),isNaN(b)||(N=b-U.height*P.y-$),S&&g&&(S=j,j=W,W=S,isNaN(f)||(Q=f-U.height*P.x-$),isNaN(b)||(N=b-U.width*P.y-$))}this.focusBorder=this.renderer.rect(Q,N,j,W,parseInt((A&&A.r||0).toString(),10)/ee).addClass("highcharts-focus-border").attr({zIndex:99}).add(E),this.renderer.styledMode||this.focusBorder.attr({stroke:A&&A.stroke,"stroke-width":(A&&A.strokeWidth||0)/ee}),q(this,C,A),O(this)}function q(C,...A){C.focusBorderUpdateHooks||(C.focusBorderUpdateHooks={},M.forEach(U=>{U+="Setter";const $=C[U]||C._defaultSetter;C.focusBorderUpdateHooks[U]=$,C[U]=function(){const E=$.apply(C,arguments);return C.addFocusBorder.apply(C,A),E}}))}function L(){I(this),this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}function I(C){C.focusBorderUpdateHooks&&(Object.keys(C.focusBorderUpdateHooks).forEach(A=>{const U=C.focusBorderUpdateHooks[A];U===C._defaultSetter?delete C[A]:C[A]=U}),delete C.focusBorderUpdateHooks)}const H=[],M="x y transform width height r d stroke-width".split(" ");x.compose=function(C,A){c.pushUnique(H,C)&&(C=C.prototype,C.renderFocusBorder=z,C.setFocusToElement=Y),c.pushUnique(H,A)&&(A=A.prototype,A.addFocusBorder=V,A.removeFocusBorder=L)}}(n||(n={})),n}),s(t,"Accessibility/Utils/Announcer.js",[t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(a,c,h,m,n){const{doc:x}=h,{addClass:z,visuallyHideElement:Y}=m,{attr:O}=n;class V{constructor(L,I){this.chart=L,this.domElementProvider=new c,this.announceRegion=this.addAnnounceRegion(I)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(L){a.setElementHTML(this.announceRegion,L),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(()=>{this.announceRegion.innerHTML=a.emptyHTML,delete this.clearAnnouncementRegionTimer},1e3)}addAnnounceRegion(L){const I=this.chart.announcerContainer||this.createAnnouncerContainer(),H=this.domElementProvider.createElement("div");return O(H,{"aria-hidden":!1,"aria-live":L}),this.chart.styledMode?z(H,"highcharts-visually-hidden"):Y(H),I.appendChild(H),H}createAnnouncerContainer(){const L=this.chart,I=x.createElement("div");return O(I,{"aria-hidden":!1,class:"highcharts-announcer-container"}),I.style.position="relative",L.renderTo.insertBefore(I,L.renderTo.firstChild),L.announcerContainer=I}}return V}),s(t,"Accessibility/Components/AnnotationsA11y.js",[t["Accessibility/Utils/HTMLUtilities.js"]],function(a){function c(Y){return(Y.annotations||[]).reduce((O,V)=>(V.options&&V.options.visible!==!1&&(O=O.concat(V.labels)),O),[])}function h(Y){return Y.options&&Y.options.accessibility&&Y.options.accessibility.description||Y.graphic&&Y.graphic.text&&Y.graphic.text.textStr||""}function m(Y){var O=Y.options&&Y.options.accessibility&&Y.options.accessibility.description;if(O)return O;O=Y.chart;const V=h(Y),q=Y.points.filter(H=>!!H.graphic).map(H=>{const M=H.accessibility&&H.accessibility.valueDescription||H.graphic&&H.graphic.element&&H.graphic.element.getAttribute("aria-label")||"";return H=H&&H.series.name||"",(H?H+", ":"")+"data point "+M}).filter(H=>!!H),L=q.length,I="accessibility.screenReaderSection.annotations.description"+(1<L?"MultiplePoints":L?"SinglePoint":"NoPoints");return Y={annotationText:V,annotation:Y,numPoints:L,annotationPoint:q[0],additionalAnnotationPoints:q.slice(1)},O.langFormat(I,Y)}function n(Y){return c(Y).map(O=>(O=x(z(m(O))))?`<li>${O}</li>`:"")}const{escapeStringForHTML:x,stripHTMLTagsFromString:z}=a;return{getAnnotationsInfoHTML:function(Y){const O=Y.annotations;return O&&O.length?`<ul style="list-style-type: none">${n(Y).join(" ")}</ul>`:""},getAnnotationLabelDescription:m,getAnnotationListItems:n,getPointAnnotationTexts:function(Y){const O=c(Y.series.chart).filter(V=>-1<V.points.indexOf(Y));return O.length?O.map(V=>`${h(V)}`):[]}}}),s(t,"Accessibility/Components/InfoRegionsComponent.js",[t["Accessibility/A11yI18n.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Components/AnnotationsA11y.js"],t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(a,c,h,m,n,x,z,Y,O,V){function q(P,f){var g=f[0],b=P.series&&P.series[0]||{};if(b={numSeries:P.series.length,numPoints:b.points&&b.points.length,chart:P,mapTitle:P.mapView&&P.mapView.geoMap&&P.mapView.geoMap.title},!g)return P.langFormat("accessibility.chartTypes.emptyChart",b);if(g==="map")return b.mapTitle?P.langFormat("accessibility.chartTypes.mapTypeDescription",b):P.langFormat("accessibility.chartTypes.unknownMap",b);if(1<P.types.length)return P.langFormat("accessibility.chartTypes.combinationChart",b);{f=f[0],g=P.langFormat("accessibility.seriesTypeDescriptions."+f,b);const D=P.series&&2>P.series.length?"Single":"Multiple";P=(P.langFormat("accessibility.chartTypes."+f+D,b)||P.langFormat("accessibility.chartTypes.default"+D,b))+(g?" "+g:"")}return P}const{getAnnotationsInfoHTML:L}=m,{getAxisDescription:I,getAxisRangeDescription:H,getChartTitle:M,unhideChartElementFromAT:C}=x,{format:A}=z,{doc:U}=Y,{addClass:$,getElement:E,getHeadingTagNameForElement:ee,stripHTMLTagsFromString:Q,visuallyHideElement:N}=O,{attr:j,pick:W}=V;class S extends c{constructor(){super(...arguments),this.announcer=void 0,this.screenReaderSections={}}init(){const f=this.chart,g=this;this.initRegionsDefinitions(),this.addEvent(f,"aftergetTableAST",function(b){g.onDataTableCreated(b)}),this.addEvent(f,"afterViewData",function(b){b.wasHidden&&(g.dataTableDiv=b.element,setTimeout(function(){g.focusDataTable()},300))}),this.announcer=new h(f,"assertive")}initRegionsDefinitions(){const f=this;this.screenReaderSections={before:{element:null,buildContent:function(g){const b=g.options.accessibility.screenReaderSection.beforeChartFormatter;return b?b(g):f.defaultBeforeChartFormatter(g)},insertIntoDOM:function(g,b){b.renderTo.insertBefore(g,b.renderTo.firstChild)},afterInserted:function(){typeof f.sonifyButtonId<"u"&&f.initSonifyButton(f.sonifyButtonId),typeof f.dataTableButtonId<"u"&&f.initDataTableButton(f.dataTableButtonId)}},after:{element:null,buildContent:function(g){const b=g.options.accessibility.screenReaderSection.afterChartFormatter;return b?b(g):f.defaultAfterChartFormatter()},insertIntoDOM:function(g,b){b.renderTo.insertBefore(g,b.container.nextSibling)},afterInserted:function(){f.chart.accessibility&&f.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}onChartRender(){const f=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),Object.keys(this.screenReaderSections).forEach(function(g){f.updateScreenReaderSection(g)})}getLinkedDescriptionElement(){var f=this.chart.options.accessibility.linkedDescription;if(f){if(typeof f!="string")return f;if(f=A(f,this.chart),f=U.querySelectorAll(f),f.length===1)return f[0]}}setLinkedDescriptionAttrs(){const f=this.linkedDescriptionElement;f&&(f.setAttribute("aria-hidden","true"),$(f,"highcharts-linked-description"))}updateScreenReaderSection(f){const g=this.chart,b=this.screenReaderSections[f],D=b.buildContent(g),X=b.element=b.element||this.createElement("div"),te=X.firstChild||this.createElement("div");D?(this.setScreenReaderSectionAttribs(X,f),n.setElementHTML(te,D),X.appendChild(te),b.insertIntoDOM(X,g),g.styledMode?$(te,"highcharts-visually-hidden"):N(te),C(g,te),b.afterInserted&&b.afterInserted()):(X.parentNode&&X.parentNode.removeChild(X),b.element=null)}setScreenReaderSectionAttribs(f,g){const b=this.chart,D=b.langFormat("accessibility.screenReaderSection."+g+"RegionLabel",{chart:b,chartTitle:M(b)});j(f,{id:`highcharts-screen-reader-region-${g}-${b.index}`,"aria-label":D||void 0}),f.style.position="relative",D&&f.setAttribute("role",b.options.accessibility.landmarkVerbosity==="all"?"region":"group")}defaultBeforeChartFormatter(){var f=this.chart;const g=f.options.accessibility.screenReaderSection.beforeChartFormat;if(!g)return"";var b=this.getAxesDescription();const D=f.sonify&&f.options.sonification&&f.options.sonification.enabled,X="highcharts-a11y-sonify-data-btn-"+f.index,te="hc-linkto-highcharts-data-table-"+f.index,Z=L(f),de=f.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:f});return b={headingTagName:ee(f.renderTo),chartTitle:M(f),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:b.xAxis,yAxisDescription:b.yAxis,playAsSoundButton:D?this.getSonifyButtonText(X):"",viewTableButton:f.getCSV?this.getDataTableButtonText(te):"",annotationsTitle:Z?de:"",annotationsList:Z},f=a.i18nFormat(g,b,f),this.dataTableButtonId=te,this.sonifyButtonId=X,f.replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}defaultAfterChartFormatter(){const f=this.chart,g=f.options.accessibility.screenReaderSection.afterChartFormat;if(!g)return"";const b={endOfChartMarker:this.getEndOfChartMarkerText()};return a.i18nFormat(g,b,f).replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}getLinkedDescription(){const f=this.linkedDescriptionElement;return Q(f&&f.innerHTML||"")}getLongdescText(){const f=this.chart.options;var g=f.caption;g=g&&g.text;const b=this.getLinkedDescription();return f.accessibility.description||b||g||""}getTypeDescriptionText(){const f=this.chart;return f.types?f.options.accessibility.typeDescription||q(f,f.types):""}getDataTableButtonText(f){var g=this.chart;return g=g.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:g,chartTitle:M(g)}),'<button id="'+f+'">'+g+"</button>"}getSonifyButtonText(f){var g=this.chart;return g.options.sonification&&g.options.sonification.enabled===!1?"":(g=g.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:g,chartTitle:M(g)}),'<button id="'+f+'">'+g+"</button>")}getSubtitleText(){const f=this.chart.options.subtitle;return Q(f&&f.text||"")}getEndOfChartMarkerText(){const f=this.chart,g=f.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:f});return'<div id="highcharts-end-of-chart-marker-'+f.index+'">'+g+"</div>"}onDataTableCreated(f){const g=this.chart;if(g.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");const b=f.tree.attributes||{};b.tabindex=-1,b.summary=g.langFormat("accessibility.table.tableSummary",{chart:g}),f.tree.attributes=b}}focusDataTable(){var f=this.dataTableDiv;(f=f&&f.getElementsByTagName("table")[0])&&f.focus&&f.focus()}initSonifyButton(f){const g=this.sonifyButton=E(f),b=this.chart,D=X=>{g&&(g.setAttribute("aria-hidden","true"),g.setAttribute("aria-label","")),X.preventDefault(),X.stopPropagation(),X=b.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:b}),this.announcer.announce(X),setTimeout(()=>{g&&(g.removeAttribute("aria-hidden"),g.removeAttribute("aria-label")),b.sonify&&b.sonify()},1e3)};g&&b&&(g.setAttribute("tabindex",-1),g.onclick=function(X){(b.options.accessibility&&b.options.accessibility.screenReaderSection.onPlayAsSoundClick||D).call(this,X,b)})}initDataTableButton(f){const g=this.viewDataTableButton=E(f),b=this.chart;f=f.replace("hc-linkto-",""),g&&(j(g,{tabindex:-1,"aria-expanded":!!E(f)}),g.onclick=b.options.accessibility.screenReaderSection.onViewDataTableClick||function(){b.viewData()})}getAxesDescription(){const f=this.chart;var g=function(te,Z){return te=f[te],1<te.length||te[0]&&W(te[0].options.accessibility&&te[0].options.accessibility.enabled,Z)},b=!!f.types&&0>f.types.indexOf("map")&&0>f.types.indexOf("treemap")&&0>f.types.indexOf("tilemap");const D=!!f.hasCartesianSeries,X=g("xAxis",!f.angular&&D&&b);return g=g("yAxis",D&&b),b={},X&&(b.xAxis=this.getAxisDescriptionText("xAxis")),g&&(b.yAxis=this.getAxisDescriptionText("yAxis")),b}getAxisDescriptionText(f){const g=this.chart,b=g[f];return g.langFormat("accessibility.axis."+f+"Description"+(1<b.length?"Plural":"Singular"),{chart:g,names:b.map(function(D){return I(D)}),ranges:b.map(function(D){return H(D)}),numAxes:b.length})}destroy(){this.announcer&&this.announcer.destroy()}}return S}),s(t,"Accessibility/Components/MenuComponent.js",[t["Core/Chart/Chart.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(a,c,h,m,n,x){const{attr:z}=c,{getChartTitle:Y,unhideChartElementFromAT:O}=n,{getFakeMouseEvent:V}=x;class q extends h{init(){const I=this.chart,H=this;this.addEvent(I,"exportMenuShown",function(){H.onMenuShown()}),this.addEvent(I,"exportMenuHidden",function(){H.onMenuHidden()}),this.createProxyGroup()}onMenuHidden(){const I=this.chart.exportContextMenu;I&&I.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")}onMenuShown(){const I=this.chart,H=I.exportContextMenu;H&&(this.addAccessibleContextMenuAttribs(),O(I,H)),this.setExportButtonExpandedState("true")}setExportButtonExpandedState(I){this.exportButtonProxy&&this.exportButtonProxy.buttonElement.setAttribute("aria-expanded",I)}onChartRender(){const I=this.chart,H=I.focusElement,M=I.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&H&&H===I.exportingGroup&&(H.focusBorder?I.setFocusToElement(H,this.exportButtonProxy.buttonElement):M&&M.keyboardNavigation.tabindexContainer.focus())}proxyMenuButton(){const I=this.chart,H=this.proxyProvider,M=I.exportSVGElements&&I.exportSVGElements[0];{var C=I.options.exporting;const A=I.exportSVGElements&&I.exportSVGElements[0];C=!!(C&&C.enabled!==!1&&C.accessibility&&C.accessibility.enabled&&A&&A.element)}C&&M&&(this.exportButtonProxy=H.addProxyElement("chartMenu",{click:M},{"aria-label":I.langFormat("accessibility.exporting.menuButtonLabel",{chart:I,chartTitle:Y(I)}),"aria-expanded":!1,title:I.options.lang.contextButtonTitle||null}))}createProxyGroup(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu","div")}addAccessibleContextMenuAttribs(){const I=this.chart;var H=I.exportDivElements;H&&H.length&&(H.forEach(M=>{M&&(M.tagName!=="LI"||M.children&&M.children.length?M.setAttribute("aria-hidden","true"):M.setAttribute("tabindex",-1))}),(H=H[0]&&H[0].parentNode)&&z(H,{"aria-hidden":void 0,"aria-label":I.langFormat("accessibility.exporting.chartMenuLabel",{chart:I}),role:"list"}))}getKeyboardNavigation(){const I=this.keyCodes,H=this.chart,M=this;return new m(H,{keyCodeMap:[[[I.left,I.up],function(){return M.onKbdPrevious(this)}],[[I.right,I.down],function(){return M.onKbdNext(this)}],[[I.enter,I.space],function(){return M.onKbdClick(this)}]],validate:function(){return!!H.exporting&&H.options.exporting.enabled!==!1&&H.options.exporting.accessibility.enabled!==!1},init:function(){const C=M.exportButtonProxy,A=M.chart.exportingGroup;C&&A&&H.setFocusToElement(A,C.buttonElement)},terminate:function(){H.hideExportMenu()}})}onKbdPrevious(I){const H=this.chart,M=H.options.accessibility;I=I.response;let C=H.highlightedExportItemIx||0;for(;C--;)if(H.highlightExportItem(C))return I.success;return M.keyboardNavigation.wrapAround?(H.highlightLastExportItem(),I.success):I.prev}onKbdNext(I){const H=this.chart,M=H.options.accessibility;I=I.response;for(let C=(H.highlightedExportItemIx||0)+1;C<H.exportDivElements.length;++C)if(H.highlightExportItem(C))return I.success;return M.keyboardNavigation.wrapAround?(H.highlightExportItem(0),I.success):I.next}onKbdClick(I){const H=this.chart,M=H.exportDivElements[H.highlightedExportItemIx],C=(H.exportSVGElements&&H.exportSVGElements[0]).element;return H.openMenu?this.fakeClickEvent(M):(this.fakeClickEvent(C),H.highlightExportItem(0)),I.response.success}}return function(L){function I(){var U=this.exportSVGElements&&this.exportSVGElements[0];U&&(U=U.element,U.onclick)&&U.onclick(V("click"))}function H(){const U=this.exportDivElements;U&&this.exportContextMenu&&this.openMenu&&(U.forEach($=>{$&&$.className==="highcharts-menu-item"&&$.onmouseout&&$.onmouseout(V("mouseout"))}),this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())}function M(U){const $=this.exportDivElements&&this.exportDivElements[U],E=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if($&&$.tagName==="LI"&&(!$.children||!$.children.length)){const ee=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return $.focus&&ee&&$.focus(),E&&E.onmouseout&&E.onmouseout(V("mouseout")),$.onmouseover&&$.onmouseover(V("mouseover")),this.highlightedExportItemIx=U,!0}return!1}function C(){if(this.exportDivElements){let U=this.exportDivElements.length;for(;U--;)if(this.highlightExportItem(U))return!0}return!1}const A=[];L.compose=function(U){c.pushUnique(A,U)&&(U=a.prototype,U.hideExportMenu=H,U.highlightExportItem=M,U.highlightLastExportItem=C,U.showExportMenu=I)}}(q||(q={})),q}),s(t,"Accessibility/KeyboardNavigation.js",[t["Core/Globals.js"],t["Accessibility/Components/MenuComponent.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(a,c,h,m,n){const{doc:x,win:z}=a,{addEvent:Y,fireEvent:O}=h,{getElement:V,simulatedEventTarget:q}=n;class L{constructor(H,M){this.components=this.chart=void 0,this.currentModuleIx=NaN,this.exitAnchor=this.eventProvider=void 0,this.modules=[],this.tabindexContainer=void 0,this.init(H,M)}init(H,M){const C=this.eventProvider=new m;this.chart=H,this.components=M,this.modules=[],this.currentModuleIx=0,this.update(),C.addEvent(this.tabindexContainer,"keydown",A=>this.onKeydown(A)),C.addEvent(this.tabindexContainer,"focus",A=>this.onFocus(A)),["mouseup","touchend"].forEach(A=>C.addEvent(x,A,U=>this.onMouseUp(U))),["mousedown","touchstart"].forEach(A=>C.addEvent(H.renderTo,A,()=>{this.isClickingChart=!0}))}update(H){var M=this.chart.options.accessibility;M=M&&M.keyboardNavigation;const C=this.components;this.updateContainerTabindex(),M&&M.enabled&&H&&H.length?(this.modules=H.reduce(function(A,U){return U=C[U].getKeyboardNavigation(),A.concat(U)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())}updateExitAnchor(){const H=V(`highcharts-end-of-chart-marker-${this.chart.index}`);this.removeExitAnchor(),H?(this.makeElementAnExitAnchor(H),this.exitAnchor=H):this.createExitAnchor()}move(H){var M=this.modules&&this.modules[this.currentModuleIx];if(M&&M.terminate&&M.terminate(H),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=H,M=this.modules&&this.modules[this.currentModuleIx]){if(M.validate&&!M.validate())return this.move(H);if(M.init)return M.init(H),!0}return this.currentModuleIx=0,this.exiting=!0,0<H?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1}onFocus(H){var M=this.chart;H=H.relatedTarget&&M.container.contains(H.relatedTarget),!(M=(M=M.options.accessibility)&&M.keyboardNavigation)||!M.enabled||this.exiting||this.tabbingInBackwards||this.isClickingChart||H||(H=this.getFirstValidModuleIx(),H!==null&&(this.currentModuleIx=H,this.modules[H].init(1))),this.exiting=!1}onMouseUp(H){if(delete this.isClickingChart,!this.keyboardReset&&H.relatedTarget!==q){const M=this.chart;H.target&&M.container.contains(H.target)||((H=this.modules&&this.modules[this.currentModuleIx||0])&&H.terminate&&H.terminate(),this.currentModuleIx=0),M.focusElement&&(M.focusElement.removeFocusBorder(),delete M.focusElement),this.keyboardReset=!0}}onKeydown(H){H=H||z.event;const M=this.modules&&this.modules.length&&this.modules[this.currentModuleIx];let C;if(this.exiting=this.keyboardReset=!1,M){const A=M.run(H);A===M.response.success?C=!0:A===M.response.prev?C=this.move(-1):A===M.response.next&&(C=this.move(1)),C&&(H.preventDefault(),H.stopPropagation())}}updateContainerTabindex(){var H=this.chart.options.accessibility;H=H&&H.keyboardNavigation,H=!(H&&H.enabled===!1);const M=this.chart;var C=M.container;M.renderTo.hasAttribute("tabindex")&&(C.removeAttribute("tabindex"),C=M.renderTo),this.tabindexContainer=C;const A=C.getAttribute("tabindex");H&&!A?C.setAttribute("tabindex","0"):H||M.container.removeAttribute("tabindex")}createExitAnchor(){const H=this.chart,M=this.exitAnchor=x.createElement("div");H.renderTo.appendChild(M),this.makeElementAnExitAnchor(M)}makeElementAnExitAnchor(H){const M=this.tabindexContainer.getAttribute("tabindex")||0;H.setAttribute("class","highcharts-exit-anchor"),H.setAttribute("tabindex",M),H.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(H)}removeExitAnchor(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)}addExitAnchorEventsToEl(H){const M=this.chart,C=this;this.eventProvider.addEvent(H,"focus",function(A){A=A||z.event;const U=!(A.relatedTarget&&M.container.contains(A.relatedTarget)||C.exiting);M.focusElement&&delete M.focusElement,U?(C.tabbingInBackwards=!0,C.tabindexContainer.focus(),delete C.tabbingInBackwards,A.preventDefault(),C.modules&&C.modules.length&&(C.currentModuleIx=C.modules.length-1,(A=C.modules[C.currentModuleIx])&&A.validate&&!A.validate()?C.move(-1):A&&A.init(-1))):C.exiting=!1})}getFirstValidModuleIx(){const H=this.modules.length;for(let M=0;M<H;++M){const C=this.modules[M];if(!C.validate||C.validate())return M}return null}destroy(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}}return function(I){function H(){const A=this;O(this,"dismissPopupContent",{},function(){A.tooltip&&A.tooltip.hide(0),A.hideExportMenu()})}function M(A){(A.which||A.keyCode)===27&&a.charts&&a.charts.forEach(U=>{U&&U.dismissPopupContent&&U.dismissPopupContent()})}const C=[];I.compose=function(A){return c.compose(A),h.pushUnique(C,A)&&(A.prototype.dismissPopupContent=H),h.pushUnique(C,x)&&Y(x,"keydown",M),A}}(L||(L={})),L}),s(t,"Accessibility/Components/LegendComponent.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Legend/Legend.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(a,c,h,m,n,x,z,Y){function O(N){const j=N.legend&&N.legend.allItems,W=N.options.legend.accessibility||{};return N=N.colorAxis&&N.colorAxis.some(S=>!S.dataClasses||!S.dataClasses.length),!(!j||!j.length||N||W.enabled===!1)}function V(N,j){const W=j.legendItem||{};j.setState(N?"hover":"",!0);for(const S of["group","label","symbol"])(j=(j=W[S])&&j.element||j)&&H(j,N?"mouseover":"mouseout")}const{animObject:q}=a,{doc:L}=c,{addEvent:I,fireEvent:H,isNumber:M,pick:C,syncTimeout:A}=m,{getChartTitle:U}=z,{stripHTMLTagsFromString:$,addClass:E,removeClass:ee}=Y;class Q extends n{constructor(){super(...arguments),this.highlightedLegendItemIx=NaN,this.proxyGroup=null}init(){const j=this;this.recreateProxies(),this.addEvent(h,"afterScroll",function(){this.chart===j.chart&&(j.proxyProvider.updateGroupProxyElementPositions("legend"),j.updateLegendItemProxyVisibility(),-1<j.highlightedLegendItemIx&&this.chart.highlightLegendItem(j.highlightedLegendItemIx))}),this.addEvent(h,"afterPositionItem",function(W){this.chart===j.chart&&this.chart.renderer&&j.updateProxyPositionForItem(W.item)}),this.addEvent(h,"afterRender",function(){this.chart===j.chart&&this.chart.renderer&&j.recreateProxies()&&A(()=>j.proxyProvider.updateGroupProxyElementPositions("legend"),q(C(this.chart.renderer.globalAnimation,!0)).duration)})}updateLegendItemProxyVisibility(){const j=this.chart,W=j.legend,S=W.currentPage||1,P=W.clipHeight||0;let f;(W.allItems||[]).forEach(g=>{if(g.a11yProxyElement){var b=W.pages&&W.pages.length;const X=g.a11yProxyElement.element;var D=!1;f=g.legendItem||{},b&&(g=f.pageIx||0,b=f.y||0,D=f.label?Math.round(f.label.getBBox().height):0,D=b+D-W.pages[g]>P||g!==S-1),D?j.styledMode?E(X,"highcharts-a11y-invisible"):X.style.visibility="hidden":(ee(X,"highcharts-a11y-invisible"),X.style.visibility="")}})}onChartRender(){O(this.chart)||this.removeProxies()}highlightAdjacentLegendPage(j){const W=this.chart;var S=W.legend;j=(S.currentPage||1)+j;var P=S.pages||[];if(0<j&&j<=P.length){P=0;for(const f of S.allItems)((f.legendItem||{}).pageIx||0)+1===j&&(S=W.highlightLegendItem(P))&&(this.highlightedLegendItemIx=P),++P}}updateProxyPositionForItem(j){j.a11yProxyElement&&j.a11yProxyElement.refreshPosition()}recreateProxies(){var j=L.activeElement;const W=this.proxyGroup;return j=j&&W&&W.contains(j),this.removeProxies(),O(this.chart)?(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),j&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0):!1}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){var j=this.chart;const W=$((j.legend&&j.legend.options.title&&j.legend.options.title.text||"").replace(/<br ?\/?>/g," "));j=j.langFormat("accessibility.legend.legendLabel"+(W?"":"NoTitle"),{chart:j,legendTitle:W,chartTitle:U(j)}),this.proxyProvider.updateGroupAttrs("legend",{"aria-label":j})}addLegendProxyGroup(){this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:this.chart.options.accessibility.landmarkVerbosity==="all"?"region":null})}proxyLegendItems(){const j=this;let W;((this.chart.legend||{}).allItems||[]).forEach(S=>{W=S.legendItem||{},W.label&&W.label.element&&j.proxyLegendItem(S)})}proxyLegendItem(j){const W=j.legendItem||{};if(W.label&&W.group){var S=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:$(j.name),item:j});j.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:W.label,visual:(W.group.div?W.label:W.group).element},{tabindex:-1,"aria-pressed":j.visible,"aria-label":S})}}getKeyboardNavigation(){const j=this.keyCodes,W=this,S=this.chart;return new x(S,{keyCodeMap:[[[j.left,j.right,j.up,j.down],function(P){return W.onKbdArrowKey(this,P)}],[[j.enter,j.space],function(){return W.onKbdClick(this)}],[[j.pageDown,j.pageUp],function(P){return W.highlightAdjacentLegendPage(P===j.pageDown?1:-1),this.response.success}]],validate:function(){return W.shouldHaveLegendNavigation()},init:function(){S.highlightLegendItem(0),W.highlightedLegendItemIx=0},terminate:function(){W.highlightedLegendItemIx=-1,S.legend.allItems.forEach(P=>V(!1,P))}})}onKbdArrowKey(j,W){const S=this.keyCodes,P=j.response,f=this.chart,g=f.options.accessibility,b=f.legend.allItems.length;return W=W===S.left||W===S.up?-1:1,f.highlightLegendItem(this.highlightedLegendItemIx+W)?(this.highlightedLegendItemIx+=W,P.success):(1<b&&g.keyboardNavigation.wrapAround&&j.init(W),P.success)}onKbdClick(j){const W=this.chart.legend.allItems[this.highlightedLegendItemIx];return W&&W.a11yProxyElement&&W.a11yProxyElement.click(),j.response.success}shouldHaveLegendNavigation(){if(!O(this.chart))return!1;const j=this.chart,W=(j.options.legend||{}).accessibility||{};return!!(j.legend.display&&W.keyboardNavigation&&W.keyboardNavigation.enabled)}}return function(N){function j(P){var f=this.legend.allItems,g=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx;const b=f[P];var D=b.legendItem||{};return b?(M(g)&&f[g]&&V(!1,f[g]),f=this.legend,P=(f.allItems[P].legendItem||{}).pageIx,g=f.currentPage,typeof P<"u"&&P+1!==g&&f.scroll(1+P-g),D=D.label,P=b.a11yProxyElement&&b.a11yProxyElement.buttonElement,D&&D.element&&P&&this.setFocusToElement(D,P),V(!0,b),!0):!1}function W(P){const f=P.item;this.chart.options.accessibility.enabled&&f&&f.a11yProxyElement&&f.a11yProxyElement.buttonElement.setAttribute("aria-pressed",P.visible?"true":"false")}const S=[];N.compose=function(P,f){m.pushUnique(S,P)&&(P.prototype.highlightLegendItem=j),m.pushUnique(S,f)&&I(f,"afterColorizeItem",W)}}(Q||(Q={})),Q}),s(t,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[t["Accessibility/Components/AnnotationsA11y.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(a,c,h,m,n){function x(b){const D=b.index;return b.series&&b.series.data&&g(D)&&S(b.series.data,function(X){return!!(X&&typeof X.index<"u"&&X.index>D&&X.graphic&&X.graphic.element)})||null}function z(b){const D=b.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(D!==!1&&b.points&&b.points.length>=D)}function Y(b){const D=b.options.accessibility||{};return!z(b)&&!D.exposeAsGroupOnly}function O(b){const D=b.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!(!b.points||!(b.points.length<D.pointNavigationEnabledThreshold||D.pointNavigationEnabledThreshold===!1))}function V(b,D){var X=b.series,te=X.chart;b=te.options.accessibility.point||{};const Z=X.options.accessibility&&X.options.accessibility.point||{};return X=X.tooltipOptions||{},te=te.options.lang,P(D)?N(D,Z.valueDecimals||b.valueDecimals||X.valueDecimals||-1,te.decimalPoint,te.accessibility.thousandsSep||te.thousandsSep):D}function q(b){const D=(b.options.accessibility||{}).description;return D&&b.chart.langFormat("accessibility.series.description",{description:D,series:b})||""}function L(b,D){return b.chart.langFormat("accessibility.series."+D+"Description",{name:U(b[D]),series:b})}function I(b,D,X){const te=D||"",Z=X||"";return b.series.pointArrayMap.reduce(function(de,ge){{const Ce=V(b,f(b[ge],b.options[ge]));ge=Ce!==void 0?ge+": "+te+Ce+Z:Ce}return ge?de+(de.length?", ":"")+ge:de},"")}function H(b){var D=b.series,X=1<D.chart.series.length||D.options.name,te=b.series,Z=te.chart,de=te.options.accessibility;if(de=de&&de.point&&de.point.valueDescriptionFormat||Z.options.accessibility.point.valueDescriptionFormat,te=f(te.xAxis&&te.xAxis.options.accessibility&&te.xAxis.options.accessibility.enabled,!Z.angular&&te.type!=="flowmap"),te){var ge=b.series,Ce=ge.chart,J=ge.options.accessibility&&ge.options.accessibility.point||{},oe=Ce.options.accessibility.point||{};(ge=ge.xAxis&&ge.xAxis.dateTime)?(ge=ge.getXDateFormat(b.x||0,Ce.options.tooltip.dateTimeLabelFormats),J=J.dateFormatter&&J.dateFormatter(b)||oe.dateFormatter&&oe.dateFormatter(b)||J.dateFormat||oe.dateFormat||ge,Ce=Ce.time.dateFormat(J,b.x||0,void 0)):Ce=void 0,J=(b.series.xAxis||{}).categories&&g(b.category)&&(""+b.category).replace("<br/>"," "),oe=g(b.id)&&0>(""+b.id).indexOf("highcharts-"),ge="x, "+b.x,Ce=b.name||Ce||J||(oe?b.id:ge)}else Ce="";J=Ce,Ce=g(b.index)?b.index+1:"";{oe=b.series;var ce=oe.chart.options.accessibility.point||{},pe=oe.chart.options.accessibility&&oe.chart.options.accessibility.point||{};const Ee=oe.tooltipOptions||{};ge=pe.valuePrefix||ce.valuePrefix||Ee.valuePrefix||"",ce=pe.valueSuffix||ce.valueSuffix||Ee.valueSuffix||"",pe=V(b,b[typeof b.value<"u"?"value":"y"]),oe=b.isNull?oe.chart.langFormat("accessibility.series.nullPointValue",{point:b}):oe.pointArrayMap?I(b,ge,ce):ge+pe+ce}return Z=Q(de,{point:b,index:Ce,xDescription:J,value:oe,separator:te?", ":""},Z),de=(de=b.options&&b.options.accessibility&&b.options.accessibility.description)?" "+de:"",D=X?" "+D.name+".":"",X=b.series.chart,te=A(b),Ce={point:b,annotations:te},X=te.length?X.langFormat("accessibility.series.pointAnnotationsDescription",Ce):"",b.accessibility=b.accessibility||{},b.accessibility.valueDescription=Z,Z+de+D+(X?" "+X:"")}function M(b){const D=Y(b),X=O(b),te=b.chart.options.accessibility.point.describeNull;(D||X)&&b.points.forEach(Z=>{var de;if(!(de=Z.graphic&&Z.graphic.element)){var ge=Z.series;if(de=ge&&ge.chart,ge=ge&&ge.is("sunburst"),de=de&&de.options.accessibility.point.describeNull,de=Z.isNull&&!ge&&de){ge=Z.series;var Ce=x(Z);ge=(de=Ce&&Ce.graphic)?de.parentGroup:ge.graph||ge.group,Ce=Ce?{x:f(Z.plotX,Ce.plotX,0),y:f(Z.plotY,Ce.plotY,0)}:{x:f(Z.plotX,0),y:f(Z.plotY,0)},Ce=Z.series.chart.renderer.rect(Ce.x,Ce.y,1,1),Ce.attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),ge&&ge.element?(Z.graphic=Ce,Z.hasMockGraphic=!0,Ce.add(ge),ge.element.insertBefore(Ce.element,de?de.element:null),de=Ce.element):de=void 0}}ge=Z.options&&Z.options.accessibility&&Z.options.accessibility.enabled===!1,de&&(Z.isNull&&!te?de.setAttribute("aria-hidden",!0):(de.setAttribute("tabindex","-1"),b.chart.styledMode||(de.style.outline="none"),D&&!ge?(Ce=Z.series,ge=Ce.chart.options.accessibility.point||{},Ce=Ce.options.accessibility&&Ce.options.accessibility.point||{},Z=W(Ce.descriptionFormatter&&Ce.descriptionFormatter(Z)||ge.descriptionFormatter&&ge.descriptionFormatter(Z)||H(Z)),de.setAttribute("role","img"),de.setAttribute("aria-label",Z)):de.setAttribute("aria-hidden",!0)))})}function C(b){const D=b.chart;var X=D.types||[];const te=q(b);var Z=function(oe){return D[oe]&&1<D[oe].length&&b[oe]};const de=b.index+1;var ge=L(b,"xAxis");const Ce=L(b,"yAxis");var J={seriesNumber:de,series:b,chart:D};return X=1<X.length?"Combination":"",J=D.langFormat("accessibility.series.summary."+b.type+X,J)||D.langFormat("accessibility.series.summary.default"+X,J),Z=(Z("yAxis")?" "+Ce+".":"")+(Z("xAxis")?" "+ge+".":""),ge=f(b.options.accessibility&&b.options.accessibility.descriptionFormat,D.options.accessibility.series.descriptionFormat,""),Q(ge,{seriesDescription:J,authorDescription:te?" "+te:"",axisDescription:Z,series:b,chart:D,seriesNumber:de},void 0)}const{getPointAnnotationTexts:A}=a,{getAxisDescription:U,getSeriesFirstPointElement:$,getSeriesA11yElement:E,unhideChartElementFromAT:ee}=c,{format:Q,numberFormat:N}=h,{reverseChildNodes:j,stripHTMLTagsFromString:W}=m,{find:S,isNumber:P,pick:f,defined:g}=n;return{defaultPointDescriptionFormatter:H,defaultSeriesDescriptionFormatter:C,describeSeries:function(b){var D=b.chart,X=$(b);const te=E(b);var Z=D.is3d&&D.is3d();if(te){te.lastChild!==X||Z||j(te),M(b),ee(D,te);{Z=b.chart,D=Z.options.chart,X=1<Z.series.length,Z=Z.options.accessibility.series.describeSingleSeries;const de=(b.options.accessibility||{}).exposeAsGroupOnly;D=!(D.options3d&&D.options3d.enabled&&X)&&(X||Z||de||z(b))}D?(D=b.chart.options.accessibility,X=D.landmarkVerbosity,(b.options.accessibility||{}).exposeAsGroupOnly?te.setAttribute("role","img"):X==="all"?te.setAttribute("role","region"):te.setAttribute("role","group"),te.setAttribute("tabindex","-1"),b.chart.styledMode||(te.style.outline="none"),te.setAttribute("aria-label",W(D.series.descriptionFormatter&&D.series.descriptionFormatter(b)||C(b)))):te.removeAttribute("aria-label")}}}}),s(t,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(a,c,h,m,n,x){function z(M){const C=M.series.data.filter(A=>M.x===A.x&&M.y===A.y);return C.length===1?C[0]:M}function Y(M,C){const A=(M||[]).concat(C||[]).reduce((U,$)=>(U[$.name+$.index]=$,U),{});return Object.keys(A).map(U=>A[U])}const{addEvent:O,defined:V}=c,{getChartTitle:q}=m,{defaultPointDescriptionFormatter:L,defaultSeriesDescriptionFormatter:I}=x;class H{constructor(C){this.announcer=void 0,this.dirty={allSeries:{}},this.eventProvider=void 0,this.lastAnnouncementTime=0,this.chart=C}init(){const C=this.chart,A=C.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new n,this.announcer=new h(C,A),this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()}addEventListeners(){const C=this,A=this.chart,U=this.eventProvider;U.addEvent(A,"afterApplyDrilldown",function(){C.lastAnnouncementTime=0}),U.addEvent(A,"afterAddSeries",function($){C.onSeriesAdded($.series)}),U.addEvent(A,"redraw",function(){C.announceDirtyData()})}onSeriesAdded(C){this.chart.options.accessibility.announceNewData.enabled&&(this.dirty.hasDirty=!0,this.dirty.allSeries[C.name+C.index]=C,this.dirty.newSeries=V(this.dirty.newSeries)?void 0:C)}announceDirtyData(){const C=this;if(this.chart.options.accessibility.announceNewData&&this.dirty.hasDirty){let A=this.dirty.newPoint;A&&(A=z(A)),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(U=>C.dirty.allSeries[U]),this.dirty.newSeries,A),this.dirty={allSeries:{}}}}queueAnnouncement(C,A,U){var $=this.chart.options.accessibility.announceNewData;if($.enabled){const E=+new Date;$=Math.max(0,$.minAnnounceInterval-(E-this.lastAnnouncementTime)),C=Y(this.queuedAnnouncement&&this.queuedAnnouncement.series,C),(A=this.buildAnnouncementMessage(C,A,U))&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:E,message:A,series:C},this.queuedAnnouncementTimer=setTimeout(()=>{this&&this.announcer&&(this.lastAnnouncementTime=+new Date,this.announcer.announce(this.queuedAnnouncement.message),delete this.queuedAnnouncement,delete this.queuedAnnouncementTimer)},$))}}buildAnnouncementMessage(C,A,U){const $=this.chart;var E=$.options.accessibility.announceNewData;return E.announcementFormatter&&(C=E.announcementFormatter(C,A,U),C!==!1)?C.length?C:null:(C=a.charts&&1<a.charts.length?"Multiple":"Single",C=A?"newSeriesAnnounce"+C:U?"newPointAnnounce"+C:"newDataAnnounce",E=q($),$.langFormat("accessibility.announceNewData."+C,{chartTitle:E,seriesDesc:A?I(A):null,pointDesc:U?L(U):null,point:U,series:A}))}}return function(M){function C(U){const $=this.chart,E=this.newDataAnnouncer;E&&E.chart===$&&$.options.accessibility.announceNewData.enabled&&(E.dirty.newPoint=V(E.dirty.newPoint)?void 0:U.point)}function A(){const U=this.chart,$=this.newDataAnnouncer;$&&$.chart===U&&U.options.accessibility.announceNewData.enabled&&($.dirty.hasDirty=!0,$.dirty.allSeries[this.name+this.index]=this)}M.composedMembers=[],M.compose=function(U){c.pushUnique(M.composedMembers,U)&&(O(U,"addPoint",C),O(U,"updatedData",A))}}(H||(H={})),H}),s(t,"Accessibility/ProxyElement.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(a,c,h,m,n){const{doc:x}=a,{attr:z,css:Y,merge:O}=c,{fireEventOnWrappedOrUnwrappedElement:V}=m,{cloneMouseEvent:q,cloneTouchEvent:L,getFakeMouseEvent:I,removeElement:H}=n;class M{constructor(A,U,$,E){this.chart=A,this.target=U,this.groupType=$,$=$==="ul",this.eventProvider=new h;const ee=$?x.createElement("li"):null,Q=this.buttonElement=x.createElement("button");A.styledMode||this.hideButtonVisually(Q),ee?($&&!A.styledMode&&(ee.style.listStyle="none"),ee.appendChild(Q),this.element=ee):this.element=Q,this.updateTarget(U,E)}click(){var A=this.getTargetPosition();A.x+=A.width/2,A.y+=A.height/2,A=I("click",A),V(this.target.click,A)}updateTarget(A,U){this.target=A,this.updateCSSClassName();const $=U||{};Object.keys($).forEach(E=>{$[E]===null&&delete $[E]}),z(this.buttonElement,O({"aria-label":this.getTargetAttr(A.click,"aria-label")},$)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToButton(this.buttonElement,A.click),this.refreshPosition()}refreshPosition(){const A=this.getTargetPosition();Y(this.buttonElement,{width:(A.width||1)+"px",height:(A.height||1)+"px",left:(Math.round(A.x)||0)+"px",top:(Math.round(A.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents(),H(this.element)}updateCSSClassName(){var A=this.chart.legend;A=A.group&&A.group.div,A=-1<(A&&A.className||"").indexOf("highcharts-no-tooltip");const U=-1<(this.getTargetAttr(this.target.click,"class")||"").indexOf("highcharts-no-tooltip");this.buttonElement.className=A||U?"highcharts-a11y-proxy-button highcharts-no-tooltip":"highcharts-a11y-proxy-button"}addProxyEventsToButton(A,U){"click touchstart touchend touchcancel touchmove mouseover mouseenter mouseleave mouseout".split(" ").forEach($=>{const E=$.indexOf("touch")===0;this.eventProvider.addEvent(A,$,ee=>{const Q=E?L(ee):q(ee);U&&V(U,Q),ee.stopPropagation(),E||ee.preventDefault()},{passive:!1})})}hideButtonVisually(A){Y(A,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){var A=this.target.click;if(A=A.element?A.element:A,A=this.target.visual||A,this.chart.renderTo&&A&&A.getBoundingClientRect){A=A.getBoundingClientRect();const U=this.chart.pointer.getChartPosition();return{x:(A.left-U.left)/U.scaleX,y:(A.top-U.top)/U.scaleY,width:A.right/U.scaleX-A.left/U.scaleX,height:A.bottom/U.scaleY-A.top/U.scaleY}}return{x:0,y:0,width:1,height:1}}getTargetAttr(A,U){return A.element?A.element.getAttribute(U):A.getAttribute(U)}}return M}),s(t,"Accessibility/ProxyProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/ProxyElement.js"]],function(a,c,h,m,n,x){const{doc:z}=a,{attr:Y,css:O}=c,{unhideChartElementFromAT:V}=h,{removeElement:q,removeChildNodes:L}=n;class I{constructor(M){this.chart=M,this.domElementProvider=new m,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}addProxyElement(M,C,A){const U=this.groups[M];if(!U)throw Error("ProxyProvider.addProxyElement: Invalid group key "+M);return M=new x(this.chart,C,U.type,A),U.proxyContainerElement.appendChild(M.element),U.proxyElements.push(M),M}addGroup(M,C,A){var U=this.groups[M];if(U)return U.groupElement;U=this.domElementProvider.createElement(C);let $;return A&&A.role&&C!=="div"?($=this.domElementProvider.createElement("div"),$.appendChild(U)):$=U,$.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+M.replace(/\W/g,"-"),this.groups[M]={proxyContainerElement:U,groupElement:$,type:C,proxyElements:[]},Y($,A||{}),C==="ul"&&U.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild($),this.updateGroupOrder(this.groupOrder),$}updateGroupAttrs(M,C){const A=this.groups[M];if(!A)throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+M);Y(A.groupElement,C)}updateGroupOrder(M){if(this.groupOrder=M.slice(),!this.isDOMOrderGroupOrder()){var C=M.indexOf("series"),A=-1<C?M.slice(0,C):M,U=-1<C?M.slice(C+1):[];M=z.activeElement,["before","after"].forEach($=>{const E=this[$==="before"?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];$=$==="before"?A:U,L(E),$.forEach(ee=>{(ee=this.groups[ee])&&E.appendChild(ee.groupElement)})}),(this.beforeChartProxyPosContainer.contains(M)||this.afterChartProxyPosContainer.contains(M))&&M&&M.focus&&M.focus()}}clearGroup(M){const C=this.groups[M];if(!C)throw Error("ProxyProvider.clearGroup: Invalid group key "+M);L(C.proxyContainerElement)}removeGroup(M){const C=this.groups[M];C&&(q(C.groupElement),delete this.groups[M])}update(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(M){(M=this.groups[M])&&M.proxyElements.forEach(C=>C.refreshPosition())}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(M){const C=this.domElementProvider.createElement("div");return C.setAttribute("aria-hidden","false"),C.className="highcharts-a11y-proxy-container"+(M?"-"+M:""),O(C,{top:"0",left:"0"}),this.chart.styledMode||(C.style.whiteSpace="nowrap",C.style.position="absolute"),C}getCurrentGroupOrderInDOM(){const M=U=>{const $=Object.keys(this.groups);let E=$.length;for(;E--;){const ee=$[E],Q=this.groups[ee];if(Q&&U===Q.groupElement)return ee}};var C=U=>{const $=[];U=U.children;for(let E=0;E<U.length;++E){const ee=M(U[E]);ee&&$.push(ee)}return $};const A=C(this.beforeChartProxyPosContainer);return C=C(this.afterChartProxyPosContainer),A.push("series"),A.concat(C)}isDOMOrderGroupOrder(){const M=this.getCurrentGroupOrderInDOM(),C=this.groupOrder.filter(U=>U==="series"||!!this.groups[U]);let A=M.length;if(A!==C.length)return!1;for(;A--;)if(M[A]!==C[A])return!1;return!0}updatePosContainerPositions(){const M=this.chart;if(!M.renderer.forExport){var C=M.renderer.box;M.container.insertBefore(this.afterChartProxyPosContainer,C.nextSibling),M.container.insertBefore(this.beforeChartProxyPosContainer,C),V(this.chart,this.afterChartProxyPosContainer),V(this.chart,this.beforeChartProxyPosContainer)}}}return I}),s(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),s(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],function(a,c,h){function m(){const j=this.range,W=j.type,S=this.max,P=this.chart.time,f=function(X,te){const Z=W==="year"?"FullYear":"Month",de=new P.Date(X),ge=P.get(Z,de);return P.set(Z,de,ge+te),ge===P.get(Z,de)&&P.set("Date",de,0),de.getTime()-X};let g,b;U(j)?(g=S-j,b=j):j&&(g=S+f(S,-(j.count||1)),this.chart&&(this.chart.fixedRange=S-g));const D=E(this.dataMin,Number.MIN_VALUE);return U(g)||(g=D),g<=D&&(g=D,typeof b>"u"&&(b=f(g,j.count)),this.newMax=Math.min(g+b,E(this.dataMax,Number.MAX_VALUE))),U(S)?!U(j)&&j&&j._offsetMin&&(g+=j._offsetMin):g=void 0,g}function n(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new N(this))}function x(){var j=this.axes;const W=this.rangeSelector;W&&(U(W.deferredYTDClick)&&(W.clickButton(W.deferredYTDClick),delete W.deferredYTDClick),j.forEach(S=>{S.updateNames(),S.setScale()}),this.getAxisMargins(),W.render(),j=W.options.verticalAlign,W.options.floating||(j==="bottom"?this.extraBottomMargin=!0:j!=="middle"&&(this.extraTopMargin=!0)))}function z(j){let W,S,P,f;const g=j.rangeSelector,b=()=>{g&&(W=j.xAxis[0].getExtremes(),S=j.legend,f=g&&g.options.verticalAlign,U(W.min)&&g.render(W.min,W.max),S.display&&f==="top"&&f===S.options.verticalAlign&&(P=$(j.spacingBox),P.y=S.options.layout==="vertical"?j.plotTop:P.y+g.getHeight(),S.group.placed=!1,S.align(P)))};g&&(A(ee,D=>D[0]===j)||ee.push([j,[H(j.xAxis[0],"afterSetExtremes",function(D){g&&g.render(D.min,D.max)}),H(j,"redraw",b)]]),b())}function Y(){for(let j=0,W=ee.length;j<W;++j){const S=ee[j];if(S[0]===this){S[1].forEach(P=>P()),ee.splice(j,1);break}}}function O(){var j=this.rangeSelector;j&&(j=j.getHeight(),this.extraTopMargin&&(this.plotTop+=j),this.extraBottomMargin&&(this.marginBottom+=j))}function V(){var j=this.rangeSelector;j&&!j.options.floating&&(j.render(),j=j.options.verticalAlign,j==="bottom"?this.extraBottomMargin=!0:j!=="middle"&&(this.extraTopMargin=!0))}function q(j){var W=j.options.rangeSelector;j=this.extraBottomMargin;const S=this.extraTopMargin;let P=this.rangeSelector;W&&W.enabled&&!M(P)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=P=new N(this)),this.extraTopMargin=this.extraBottomMargin=!1,P&&(z(this),W=W&&W.verticalAlign||P.options&&P.options.verticalAlign,P.options.floating||(W==="bottom"?this.extraBottomMargin=!0:W!=="middle"&&(this.extraTopMargin=!0)),this.extraBottomMargin!==j||this.extraTopMargin!==S)&&(this.isDirtyBox=!0)}const{defaultOptions:L,setOptions:I}=a,{addEvent:H,defined:M,extend:C,find:A,isNumber:U,merge:$,pick:E}=h,ee=[],Q=[];let N;return{compose:function(j,W,S){N=S,h.pushUnique(Q,j)&&(j.prototype.minFromRange=m),h.pushUnique(Q,W)&&(H(W,"afterGetContainer",n),H(W,"beforeRender",x),H(W,"destroy",Y),H(W,"getMargins",O),H(W,"render",V),H(W,"update",q),W.prototype.callbacks.push(z)),h.pushUnique(Q,I)&&(C(L,{rangeSelector:c.rangeSelector}),C(L.lang,c.lang))}}}),s(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(a,c,h,m,n,x){function z(W){if(W.indexOf("%L")!==-1)return"text";const S="aAdewbBmoyY".split("").some(f=>W.indexOf("%"+f)!==-1),P="HkIlMS".split("").some(f=>W.indexOf("%"+f)!==-1);return S&&P?"datetime-local":S?"date":P?"time":"text"}const{defaultOptions:Y}=c,{addEvent:O,createElement:V,css:q,defined:L,destroyObjectProperties:I,discardElement:H,extend:M,fireEvent:C,isNumber:A,merge:U,objectEach:$,pad:E,pick:ee,pInt:Q,splat:N}=x;class j{static compose(S,P){m.compose(S,P,j)}constructor(S){this.buttons=void 0,this.buttonOptions=j.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=S,this.init(S)}clickButton(S,P){const f=this.chart,g=this.buttonOptions[S],b=f.xAxis[0];var D=f.scroller&&f.scroller.getUnionExtremes()||b||{},X=g.type;const te=g.dataGrouping;let Z=D.dataMin,de=D.dataMax,ge,Ce=b&&Math.round(Math.min(b.max,ee(de,b.max))),J;D=g._range;let oe,ce,pe,Ee=!0;if(Z!==null&&de!==null){if(f.fixedRange=D,this.setSelected(S),te&&(this.forcedDataGrouping=!0,a.prototype.setDataGrouping.call(b||{chart:this.chart},te,!1),this.frozenStates=g.preserveDataGrouping),X==="month"||X==="year")b?(X={range:g,max:Ce,chart:f,dataMin:Z,dataMax:de},ge=b.minFromRange.call(X),A(X.newMax)&&(Ce=X.newMax),Ee=!1):D=g;else if(D)ge=Math.max(Ce-D,Z),Ce=Math.min(ge+D,de),Ee=!1;else if(X==="ytd")if(b)(typeof de>"u"||typeof Z>"u")&&(Z=Number.MAX_VALUE,de=Number.MIN_VALUE,f.series.forEach(ne=>{(ne=ne.xData)&&(Z=Math.min(ne[0],Z),de=Math.max(ne[ne.length-1],de))}),P=!1),X=this.getYTDExtremes(de,Z,f.time.useUTC),ge=oe=X.min,Ce=X.max;else{this.deferredYTDClick=S;return}else X==="all"&&b&&(f.navigator&&f.navigator.baseSeries[0]&&(f.navigator.baseSeries[0].xAxis.options.range=void 0),ge=Z,Ce=de);Ee&&g._offsetMin&&L(ge)&&(ge+=g._offsetMin),g._offsetMax&&L(Ce)&&(Ce+=g._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=S+1),b?b.setExtremes(ge,Ce,ee(P,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:g}):(J=N(f.options.xAxis)[0],pe=J.range,J.range=D,ce=J.min,J.min=oe,O(f,"load",function(){J.range=pe,J.min=ce})),C(this,"afterBtnClick")}}setSelected(S){this.selected=this.options.selected=S}init(S){const P=this,f=S.options.rangeSelector,g=f.buttons||P.defaultButtons.slice(),b=f.selected,D=function(){const X=P.minInput,te=P.maxInput;X&&X.blur&&C(X,"blur"),te&&te.blur&&C(te,"blur")};P.chart=S,P.options=f,P.buttons=[],P.buttonOptions=g,this.eventsToUnbind=[],this.eventsToUnbind.push(O(S.container,"mousedown",D)),this.eventsToUnbind.push(O(S,"resize",D)),g.forEach(P.computeButtonRange),typeof b<"u"&&g[b]&&this.clickButton(b,!1),this.eventsToUnbind.push(O(S,"load",function(){S.xAxis&&S.xAxis[0]&&O(S.xAxis[0],"setExtremes",function(X){this.max-this.min!==S.fixedRange&&X.trigger!=="rangeSelectorButton"&&X.trigger!=="updatedData"&&P.forcedDataGrouping&&!P.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const S=this;var P=this.chart;const f=this.dropdown,g=P.xAxis[0],b=Math.round(g.max-g.min),D=!g.hasVisibleSeries,X=P.scroller&&P.scroller.getUnionExtremes()||g,te=X.dataMin,Z=X.dataMax;P=S.getYTDExtremes(Z,te,P.time.useUTC);const de=P.min,ge=P.max,Ce=S.selected,J=S.options.allButtonsEnabled,oe=S.buttons;let ce=A(Ce);S.buttonOptions.forEach((pe,Ee)=>{var ne=pe._range,ye=pe.type,_e=pe.count||1;const ae=oe[Ee],me=pe._offsetMax-pe._offsetMin,we=Ee===Ce,Re=ne>Z-te,Le=ne<g.minRange;pe=0;let $e=!1,rt=!1;ne=ne===b,(ye==="month"||ye==="year")&&b+36e5>=864e5*{month:28,year:365}[ye]*_e-me&&b-36e5<=864e5*{month:31,year:366}[ye]*_e+me?ne=!0:ye==="ytd"?(ne=ge-de+me===b,$e=!we):ye==="all"&&(ne=g.max-g.min>=Z-te,rt=!we&&ce&&ne),ye=!J&&(Re||Le||rt||D),_e=we&&ne||ne&&!ce&&!$e||we&&S.frozenStates,ye?pe=3:_e&&(ce=!0,pe=2),ae.state!==pe&&(ae.setState(pe),f&&(f.options[Ee+1].disabled=ye,pe===2&&(f.selectedIndex=Ee+1)),pe===0&&Ce===Ee&&S.setSelected())})}computeButtonRange(S){const P=S.type,f=S.count||1,g={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};g[P]?S._range=g[P]*f:(P==="month"||P==="year")&&(S._range=864e5*{month:30,year:365}[P]*f),S._offsetMin=ee(S.offsetMin,0),S._offsetMax=ee(S.offsetMax,0),S._range+=S._offsetMax-S._offsetMin}getInputValue(S){S=S==="min"?this.minInput:this.maxInput;const P=this.chart.options.rangeSelector,f=this.chart.time;return S?(S.type==="text"&&P.inputDateParser||this.defaultInputDateParser)(S.value,f.useUTC,f):0}setInputValue(S,P){const f=this.options,g=this.chart.time,b=S==="min"?this.minInput:this.maxInput;if(S=S==="min"?this.minDateBox:this.maxDateBox,b){var D=b.getAttribute("data-hc-time");D=L(D)?Number(D):void 0,L(P)&&(L(D)&&b.setAttribute("data-hc-time-previous",D),b.setAttribute("data-hc-time",P),D=P),b.value=g.dateFormat(this.inputTypeFormats[b.type]||f.inputEditDateFormat,D),S&&S.attr({text:g.dateFormat(f.inputDateFormat,D)})}}setInputExtremes(S,P,f){if(S=S==="min"?this.minInput:this.maxInput){const g=this.inputTypeFormats[S.type],b=this.chart.time;g&&(P=b.dateFormat(g,P),S.min!==P&&(S.min=P),f=b.dateFormat(g,f),S.max!==f&&(S.max=f))}}showInput(S){const P=S==="min"?this.minDateBox:this.maxDateBox;if((S=S==="min"?this.minInput:this.maxInput)&&P&&this.inputGroup){const f=S.type==="text",{translateX:g,translateY:b}=this.inputGroup,{inputBoxWidth:D}=this.options;q(S,{width:f?P.width+(D?-2:20)+"px":"auto",height:P.height-2+"px",border:"2px solid silver"}),f&&D?q(S,{left:g+P.x+"px",top:b+"px"}):q(S,{left:Math.min(Math.round(P.x+g-(S.offsetWidth-P.width)/2),this.chart.chartWidth-S.offsetWidth)+"px",top:b-(S.offsetHeight-P.height)/2+"px"})}}hideInput(S){(S=S==="min"?this.minInput:this.maxInput)&&q(S,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(S,P,f){var g=S.split("/").join("-").split(" ").join("T");if(g.indexOf("T")===-1&&(g+="T00:00"),P)g+="Z";else{var b;(b=h.isSafari)&&(b=g,b=!(6<b.length&&(b.lastIndexOf("-")===b.length-6||b.lastIndexOf("+")===b.length-6))),b&&(b=new Date(g).getTimezoneOffset()/60,g+=0>=b?`+${E(-b)}:00`:`-${E(b)}:00`)}return g=Date.parse(g),A(g)||(S=S.split("-"),g=Date.UTC(Q(S[0]),Q(S[1])-1,Q(S[2]))),f&&P&&A(g)&&(g+=f.getTimezoneOffset(g)),g}drawInput(S){function P(){const{maxInput:oe,minInput:ce}=D,pe=f.xAxis[0];var Ee=f.scroller&&f.scroller.xAxis?f.scroller.xAxis:pe;const ne=Ee.dataMin;Ee=Ee.dataMax;let ye=D.getInputValue(S);ye!==Number(Ce.getAttribute("data-hc-time-previous"))&&A(ye)&&(Ce.setAttribute("data-hc-time-previous",ye),de&&oe&&A(ne)?ye>Number(oe.getAttribute("data-hc-time"))?ye=void 0:ye<ne&&(ye=ne):ce&&A(Ee)&&(ye<Number(ce.getAttribute("data-hc-time"))?ye=void 0:ye>Ee&&(ye=Ee)),typeof ye<"u"&&pe.setExtremes(de?ye:pe.min,de?pe.max:ye,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:f,div:g,inputGroup:b}=this,D=this,X=f.renderer.style||{};var te=f.renderer;const Z=f.options.rangeSelector,de=S==="min";var ge=Y.lang[de?"rangeSelectorFrom":"rangeSelectorTo"]||"";ge=te.label(ge,0).addClass("highcharts-range-label").attr({padding:ge?2:0,height:ge?Z.inputBoxHeight:0}).add(b),te=te.label("",0).addClass("highcharts-range-input").attr({padding:2,width:Z.inputBoxWidth,height:Z.inputBoxHeight,"text-align":"center"}).on("click",function(){D.showInput(S),D[S+"Input"].focus()}),f.styledMode||te.attr({stroke:Z.inputBoxBorderColor,"stroke-width":1}),te.add(b);const Ce=V("input",{name:S,className:"highcharts-range-selector"},void 0,g);Ce.setAttribute("type",z(Z.inputDateFormat||"%e %b %Y")),f.styledMode||(ge.css(U(X,Z.labelStyle)),te.css(U({color:"#333333"},X,Z.inputStyle)),q(Ce,M({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:X.fontSize,fontFamily:X.fontFamily,top:"-9999em"},Z.inputStyle))),Ce.onfocus=()=>{D.showInput(S)},Ce.onblur=()=>{Ce===h.doc.activeElement&&P(),D.hideInput(S),D.setInputValue(S),Ce.blur()};let J=!1;return Ce.onchange=()=>{J||(P(),D.hideInput(S),Ce.blur())},Ce.onkeypress=oe=>{oe.keyCode===13&&P()},Ce.onkeydown=oe=>{J=!0,oe.keyCode!==38&&oe.keyCode!==40||P()},Ce.onkeyup=()=>{J=!1},{dateBox:te,input:Ce,label:ge}}getPosition(){var S=this.chart;const P=S.options.rangeSelector;return S=P.verticalAlign==="top"?S.plotTop-S.axisOffset[0]:0,{buttonTop:S+P.buttonPosition.y,inputTop:S+P.inputPosition.y-10}}getYTDExtremes(S,P,f){const g=this.chart.time;var b=new g.Date(S);const D=g.get("FullYear",b);return f=f?g.Date.UTC(D,0,1):+new g.Date(D,0,1),P=Math.max(P,f),b=b.getTime(),{max:Math.min(S||b,b),min:P}}render(S,P){var f=this.chart,g=f.renderer;const b=f.container;var D=f.options;const X=D.rangeSelector,te=ee(D.chart.style&&D.chart.style.zIndex,0)+1;if(D=X.inputEnabled,X.enabled!==!1){if(this.rendered||(this.group=g.g("range-selector-group").attr({zIndex:7}).add(),this.div=V("div",void 0,{position:"relative",height:0,zIndex:te}),this.buttonOptions.length&&this.renderButtons(),b.parentNode&&b.parentNode.insertBefore(this.div,b),D&&(this.inputGroup=g.g("input-group").add(this.group),g=this.drawInput("min"),this.minDateBox=g.dateBox,this.minLabel=g.label,this.minInput=g.input,g=this.drawInput("max"),this.maxDateBox=g.dateBox,this.maxLabel=g.label,this.maxInput=g.input)),D&&(this.setInputValue("min",S),this.setInputValue("max",P),S=f.scroller&&f.scroller.getUnionExtremes()||f.xAxis[0]||{},L(S.dataMin)&&L(S.dataMax)&&(f=f.xAxis[0].minRange||0,this.setInputExtremes("min",S.dataMin,Math.min(S.dataMax,this.getInputValue("max"))-f),this.setInputExtremes("max",Math.max(S.dataMin,this.getInputValue("min"))+f,S.dataMax)),this.inputGroup)){let Z=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(de=>{if(de){const{width:ge}=de.getBBox();ge&&(de.attr({x:Z}),Z+=ge+X.inputSpacing)}})}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:S,chart:P,options:f}=this,g=Y.lang,b=P.renderer,D=U(f.buttonTheme),X=D&&D.states,te=D.width||28;delete D.width,delete D.states,this.buttonGroup=b.g("range-selector-buttons").add(this.group);const Z=this.dropdown=V("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);O(Z,"touchstart",()=>{Z.style.fontSize="16px"}),[[h.isMS?"mouseover":"mouseenter"],[h.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([de,ge])=>{O(Z,de,()=>{const Ce=S[this.currentButtonIndex()];Ce&&C(Ce.element,ge||de)})}),this.zoomText=b.label(g&&g.rangeSelectorZoom||"",0).attr({padding:f.buttonTheme.padding,height:f.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(f.labelStyle),D["stroke-width"]=ee(D["stroke-width"],0)),V("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,Z),this.buttonOptions.forEach((de,ge)=>{V("option",{textContent:de.title||de.text},void 0,Z),S[ge]=b.button(de.text,0,0,Ce=>{const J=de.events&&de.events.click;let oe;J&&(oe=J.call(de,Ce)),oe!==!1&&this.clickButton(ge),this.isActive=!0},D,X&&X.hover,X&&X.select,X&&X.disabled).attr({"text-align":"center",width:te}).add(this.buttonGroup),de.title&&S[ge].attr("title",de.title)})}alignElements(){const{buttonGroup:S,buttons:P,chart:f,group:g,inputGroup:b,options:D,zoomText:X}=this;var te=f.options;const Z=te.exporting&&te.exporting.enabled!==!1&&te.navigation&&te.navigation.buttonOptions,{buttonPosition:de,inputPosition:ge,verticalAlign:Ce}=D;te=(pe,Ee)=>Z&&this.titleCollision(f)&&Ce==="top"&&Ee.align==="right"&&Ee.y-pe.getBBox().height-12<(Z.y||0)+(Z.height||0)+f.spacing[0]?-40:0;var J=f.plotLeft;if(g&&de&&ge){var oe=de.x-f.spacing[3];if(S){if(this.positionButtons(),!this.initialButtonGroupWidth){let ye=0;X&&(ye+=X.getBBox().width+5),P.forEach((_e,ae)=>{ye+=_e.width,ae!==P.length-1&&(ye+=D.buttonSpacing)}),this.initialButtonGroupWidth=ye}J-=f.spacing[3],this.updateButtonStates();var ce=te(S,de);this.alignButtonGroup(ce),g.placed=S.placed=f.hasLoaded}ce=0,b&&(ce=te(b,ge),ge.align==="left"?oe=J:ge.align==="right"&&(oe=-Math.max(f.axisOffset[1],-ce)),b.align({y:ge.y,width:b.getBBox().width,align:ge.align,x:ge.x+oe-2},!0,f.spacingBox),b.placed=f.hasLoaded),this.handleCollision(ce),g.align({verticalAlign:Ce},!0,f.spacingBox),te=g.alignAttr.translateY,J=g.getBBox().height+20,oe=0,Ce==="bottom"&&(oe=(oe=f.legend&&f.legend.options)&&oe.verticalAlign==="bottom"&&oe.enabled&&!oe.floating?f.legend.legendHeight+ee(oe.margin,10):0,J=J+oe-20,oe=te-J-(D.floating?0:D.y)-(f.titleOffset?f.titleOffset[2]:0)-10),Ce==="top"?(D.floating&&(oe=0),f.titleOffset&&f.titleOffset[0]&&(oe=f.titleOffset[0]),oe+=f.margin[0]-f.spacing[0]||0):Ce==="middle"&&(ge.y===de.y?oe=te:(ge.y||de.y)&&(oe=0>ge.y||0>de.y?oe-Math.min(ge.y,de.y):te-J)),g.translate(D.x,D.y+Math.floor(oe));const{minInput:pe,maxInput:Ee,dropdown:ne}=this;D.inputEnabled&&pe&&Ee&&(pe.style.marginTop=g.translateY+"px",Ee.style.marginTop=g.translateY+"px"),ne&&(ne.style.marginTop=g.translateY+"px")}}alignButtonGroup(S,P){const{chart:f,options:g,buttonGroup:b}=this,{buttonPosition:D}=g,X=f.plotLeft-f.spacing[3];let te=D.x-f.spacing[3];D.align==="right"?te+=S-X:D.align==="center"&&(te-=X/2),b&&b.align({y:D.y,width:ee(P,this.initialButtonGroupWidth),align:D.align,x:te},!0,f.spacingBox)}positionButtons(){const{buttons:S,chart:P,options:f,zoomText:g}=this,b=P.hasLoaded?"animate":"attr",{buttonPosition:D}=f,X=P.plotLeft;let te=X;g&&g.visibility!=="hidden"&&(g[b]({x:ee(X+D.x,X)}),te+=D.x+g.getBBox().width+5);for(let Z=0,de=this.buttonOptions.length;Z<de;++Z)S[Z].visibility!=="hidden"?(S[Z][b]({x:te}),te+=S[Z].width+f.buttonSpacing):S[Z][b]({x:X})}handleCollision(S){const{chart:P,buttonGroup:f,inputGroup:g}=this,{buttonPosition:b,dropdown:D,inputPosition:X}=this.options,te=()=>{let ge=0;return this.buttons.forEach(Ce=>{Ce=Ce.getBBox(),Ce.width>ge&&(ge=Ce.width)}),ge},Z=ge=>{if(g&&f){const Ce=g.alignAttr.translateX+g.alignOptions.x-S+g.getBBox().x+2,J=g.alignOptions.width,oe=f.alignAttr.translateX+f.getBBox().x;return oe+ge>Ce&&Ce+J>oe&&b.y<X.y+g.getBBox().height}return!1},de=()=>{g&&f&&g.attr({translateX:g.alignAttr.translateX+(P.axisOffset[1]>=-S?0:-S),translateY:g.alignAttr.translateY+f.getBBox().height+10})};if(f){if(D==="always"){this.collapseButtons(S),Z(te())&&de();return}D==="never"&&this.expandButtons()}g&&f?X.align===b.align||Z(this.initialButtonGroupWidth+20)?D==="responsive"?(this.collapseButtons(S),Z(te())&&de()):de():D==="responsive"&&this.expandButtons():f&&D==="responsive"&&(this.initialButtonGroupWidth>P.plotWidth?this.collapseButtons(S):this.expandButtons())}collapseButtons(S){const{buttons:P,buttonOptions:f,chart:g,dropdown:b,options:D,zoomText:X}=this,te=g.userOptions.rangeSelector&&g.userOptions.rangeSelector.buttonTheme||{},Z=Ce=>({text:Ce?`${Ce} ▾`:"▾",width:"auto",paddingLeft:ee(D.buttonTheme.paddingLeft,te.padding,8),paddingRight:ee(D.buttonTheme.paddingRight,te.padding,8)});X&&X.hide();let de=!1;f.forEach((Ce,J)=>{J=P[J],J.state!==2?J.hide():(J.show(),J.attr(Z(Ce.text)),de=!0)}),de||(b&&(b.selectedIndex=0),P[0].show(),P[0].attr(Z(this.zoomText&&this.zoomText.textStr)));const{align:ge}=D.buttonPosition;this.positionButtons(),ge!=="right"&&ge!=="center"||this.alignButtonGroup(S,P[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:S,buttonOptions:P,options:f,zoomText:g}=this;this.hideDropdown(),g&&g.show(),P.forEach((b,D)=>{D=S[D],D.show(),D.attr({text:b.text,width:f.buttonTheme.width||28,paddingLeft:ee(f.buttonTheme.paddingLeft,"unset"),paddingRight:ee(f.buttonTheme.paddingRight,"unset")}),2>D.state&&D.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:S}=this;return S&&0<S.selectedIndex?S.selectedIndex-1:0}showDropdown(){const{buttonGroup:S,buttons:P,chart:f,dropdown:g}=this;if(S&&g){const{translateX:b,translateY:D}=S,X=P[this.currentButtonIndex()].getBBox();q(g,{left:f.plotLeft+b+"px",top:D+.5+"px",width:X.width+"px",height:X.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:S}=this;S&&(q(S,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var S=this.options,P=this.group;const f=S.y,g=S.buttonPosition.y,b=S.inputPosition.y;return S.height?S.height:(this.alignElements(),S=P?P.getBBox(!0).height+13+f:0,P=Math.min(b,g),(0>b&&0>g||0<b&&0<g)&&(S+=Math.abs(P)),S)}titleCollision(S){return!(S.options.title.text||S.options.subtitle.text)}update(S){const P=this.chart;U(!0,P.options.rangeSelector,S),this.destroy(),this.init(P),this.render()}destroy(){const S=this,P=S.minInput,f=S.maxInput;S.eventsToUnbind&&(S.eventsToUnbind.forEach(g=>g()),S.eventsToUnbind=void 0),I(S.buttons),P&&(P.onfocus=P.onblur=P.onchange=null),f&&(f.onfocus=f.onblur=f.onchange=null),$(S,function(g,b){g&&b!=="chart"&&(g instanceof n?g.destroy():g instanceof window.HTMLElement&&H(g)),g!==j.prototype[b]&&(S[b]=null)},this)}}return M(j.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),j}),s(t,"Accessibility/Components/RangeSelectorComponent.js",[t["Stock/RangeSelector/RangeSelector.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(a,c,h,m,n,x){const{unhideChartElementFromAT:z,getAxisRangeDescription:Y}=h,{addEvent:O,attr:V}=x;class q extends c{constructor(){super(...arguments),this.announcer=void 0}init(){this.announcer=new m(this.chart,"polite")}onChartUpdate(){const I=this.chart,H=this,M=I.rangeSelector;M&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),M.buttons&&M.buttons.length&&M.buttons.forEach(C=>{H.setRangeButtonAttrs(C)}),M.maxInput&&M.minInput&&["minInput","maxInput"].forEach(function(C,A){(C=M[C])&&(z(I,C),H.setRangeInputAttrs(C,"accessibility.rangeSelector."+(A?"max":"min")+"InputLabel"))}))}updateSelectorVisibility(){const I=this.chart,H=I.rangeSelector,M=H&&H.dropdown,C=H&&H.buttons||[];H&&H.hasVisibleDropdown&&M?(z(I,M),C.forEach(A=>A.element.setAttribute("aria-hidden",!0))):(M&&M.setAttribute("aria-hidden",!0),C.forEach(A=>z(I,A.element)))}setDropdownAttrs(){var I=this.chart;const H=I.rangeSelector&&I.rangeSelector.dropdown;H&&(I=I.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:I.options.lang.rangeSelectorZoom}),H.setAttribute("aria-label",I),H.setAttribute("tabindex",-1))}setRangeButtonAttrs(I){V(I.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(I,H){const M=this.chart;V(I,{tabindex:-1,"aria-label":M.langFormat(H,{chart:M})})}onButtonNavKbdArrowKey(I,H){const M=I.response,C=this.keyCodes,A=this.chart,U=A.options.accessibility.keyboardNavigation.wrapAround;return H=H===C.left||H===C.up?-1:1,A.highlightRangeSelectorButton(A.highlightedRangeSelectorItemIx+H)?M.success:U?(I.init(H),M.success):M[0<H?"next":"prev"]}onButtonNavKbdClick(I){I=I.response;const H=this.chart;return H.oldRangeSelectorItemState!==3&&this.fakeClickEvent(H.rangeSelector.buttons[H.highlightedRangeSelectorItemIx].element),I.success}onAfterBtnClick(){var I=this.chart;const H=Y(I.xAxis[0]);(I=I.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:I,axisRangeDescription:H}))&&this.announcer.announce(I)}onInputKbdMove(I){const H=this.chart;var M=H.rangeSelector;const C=H.highlightedInputRangeIx=(H.highlightedInputRangeIx||0)+I;if(1<C||0>C){if(H.accessibility)return H.accessibility.keyboardNavigation.exiting=!0,H.accessibility.keyboardNavigation.tabindexContainer.focus(),H.accessibility.keyboardNavigation.move(I)}else M&&(I=M[C?"maxDateBox":"minDateBox"],M=M[C?"maxInput":"minInput"],I&&M&&H.setFocusToElement(I,M));return!0}onInputNavInit(I){const H=this;var M=this.chart;const C=0<I?0:1;var A=M.rangeSelector;const U=A&&A[C?"maxDateBox":"minDateBox"];if(I=A&&A.minInput,A=A&&A.maxInput,M.highlightedInputRangeIx=C,U&&I&&A){M.setFocusToElement(U,C?A:I),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),M=ee=>{(ee.which||ee.keyCode)===this.keyCodes.tab&&H.onInputKbdMove(ee.shiftKey?-1:1)&&(ee.preventDefault(),ee.stopPropagation())};const $=O(I,"keydown",M),E=O(A,"keydown",M);this.removeInputKeydownHandler=()=>{$(),E()}}}onInputNavTerminate(){const I=this.chart.rangeSelector||{};I.maxInput&&I.hideInput("max"),I.minInput&&I.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)}initDropdownNav(){const I=this.chart,H=I.rangeSelector,M=H&&H.dropdown;H&&M&&(I.setFocusToElement(H.buttonGroup,M),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=O(M,"keydown",C=>{const A=I.accessibility;(C.which||C.keyCode)===this.keyCodes.tab&&(C.preventDefault(),C.stopPropagation(),A&&(A.keyboardNavigation.tabindexContainer.focus(),A.keyboardNavigation.move(C.shiftKey?-1:1)))}))}getRangeSelectorButtonNavigation(){const I=this.chart,H=this.keyCodes,M=this;return new n(I,{keyCodeMap:[[[H.left,H.right,H.up,H.down],function(C){return M.onButtonNavKbdArrowKey(this,C)}],[[H.enter,H.space],function(){return M.onButtonNavKbdClick(this)}]],validate:function(){return!!(I.rangeSelector&&I.rangeSelector.buttons&&I.rangeSelector.buttons.length)},init:function(C){var A=I.rangeSelector;A&&A.hasVisibleDropdown?M.initDropdownNav():A&&(A=A.buttons.length-1,I.highlightRangeSelectorButton(0<C?0:A))},terminate:function(){M.removeDropdownKeydownHandler&&(M.removeDropdownKeydownHandler(),delete M.removeDropdownKeydownHandler)}})}getRangeSelectorInputNavigation(){const I=this.chart,H=this;return new n(I,{keyCodeMap:[],validate:function(){return!!(I.rangeSelector&&I.rangeSelector.inputGroup&&I.rangeSelector.inputGroup.element.style.visibility!=="hidden"&&I.options.rangeSelector.inputEnabled!==!1&&I.rangeSelector.minInput&&I.rangeSelector.maxInput)},init:function(M){H.onInputNavInit(M)},terminate:function(){H.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}}return function(L){function I(C){const A=this.rangeSelector&&this.rangeSelector.buttons||[],U=this.highlightedRangeSelectorItemIx,$=this.rangeSelector&&this.rangeSelector.selected;return typeof U<"u"&&A[U]&&U!==$&&A[U].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=C,A[C]?(this.setFocusToElement(A[C].box,A[C].element),C!==$&&(this.oldRangeSelectorItemState=A[C].state,A[C].setState(1)),!0):!1}function H(){const C=this.chart.accessibility;if(C&&C.components.rangeSelector)return C.components.rangeSelector.onAfterBtnClick()}const M=[];L.compose=function(C,A){x.pushUnique(M,C)&&(C.prototype.highlightRangeSelectorButton=I),x.pushUnique(M,A)&&O(a,"afterBtnClick",H)}}(q||(q={})),q}),s(t,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[t["Core/Utilities.js"]],function(a){const{addEvent:c,merge:h}=a;var m;return function(n){function x(L){h(!0,L,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function z(L){return L.marker.states&&L.marker.states.normal&&L.marker.states.normal.opacity}function Y(){this.chart.styledMode&&(this.markerGroup&&this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),this._hasPointMarkers&&this.points&&this.points.length&&this.points.forEach(L=>{L.graphic&&(L.graphic[L.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),L.graphic[L.hasForcedA11yMarker===!1?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function O(L){this.resetA11yMarkerOptions=h(L.options.marker||{},this.userOptions.marker||{})}function V(){var L=this.options,I=(this.options.accessibility&&this.options.accessibility.enabled)!==!1;if((I=this.chart.options.accessibility.enabled&&I)&&(I=this.chart.options.accessibility,I=this.points.length<I.series.pointDescriptionEnabledThreshold||I.series.pointDescriptionEnabledThreshold===!1),I){if(L.marker&&L.marker.enabled===!1&&(this.a11yMarkersForced=!0,x(this.options)),this._hasPointMarkers&&this.points&&this.points.length)for(L=this.points.length;L--;){I=this.points[L];const M=I.options;var H=I.hasForcedA11yMarker;delete I.hasForcedA11yMarker,M.marker&&(H=H&&z(M)===0,M.marker.enabled&&!H?(h(!0,M.marker,{states:{normal:{opacity:z(M)||1}}}),I.hasForcedA11yMarker=!1):M.marker.enabled===!1&&(x(M),I.hasForcedA11yMarker=!0))}}else this.a11yMarkersForced&&(delete this.a11yMarkersForced,(L=this.resetA11yMarkerOptions)&&this.update({marker:{enabled:L.enabled,states:{normal:{opacity:L.states&&L.states.normal&&L.states.normal.opacity}}}}),delete this.resetA11yMarkerOptions)}const q=[];n.compose=function(L){a.pushUnique(q,L)&&(c(L,"afterSetOptions",O),c(L,"render",V),c(L,"afterRender",Y))}}(m||(m={})),m}),s(t,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"]],function(a,c,h,m,n,x,z,Y){function O(N){const j=N.index,W=N.series.points;let S=W.length;if(W[j]!==N){for(;S--;)if(W[S]===N)return S}else return j}function V(N){const j=N.chart.options.accessibility.keyboardNavigation.seriesNavigation,W=N.options.accessibility||{},S=W.keyboardNavigation;return S&&S.enabled===!1||W.enabled===!1||N.options.enableMouseTracking===!1||!N.visible||j.pointNavigationEnabledThreshold&&j.pointNavigationEnabledThreshold<=N.points.length}function q(N){const j=N.series.chart.options.accessibility,W=N.options.accessibility&&N.options.accessibility.enabled===!1;return N.isNull&&j.keyboardNavigation.seriesNavigation.skipNullPoints||N.visible===!1||N.isInside===!1||W||V(N.series)}function L(N){N=N.series||[];const j=N.length;for(let S=0;S<j;++S)if(!V(N[S])){e:{var W=N[S].points||[];const P=W.length;for(let f=0;f<P;++f)if(!q(W[f])){W=W[f];break e}W=null}if(W)return W}return null}function I(N){let j=N.series.length,W=!1;for(;j--&&(N.highlightedPoint=N.series[j].points[N.series[j].points.length-1],!(W=N.series[j].highlightNextValidPoint())););return W}function H(N){return delete N.highlightedPoint,(N=L(N))?N.highlight():!1}const{seriesTypes:M}=h,{doc:C}=m,{defined:A,fireEvent:U}=n,{getPointFromXY:$,getSeriesFromName:E,scrollToPoint:ee}=Y;class Q{constructor(j,W){this.keyCodes=W,this.chart=j}init(){const j=this,W=this.chart,S=this.eventProvider=new z;S.addEvent(c,"destroy",function(){return j.onSeriesDestroy(this)}),S.addEvent(W,"afterApplyDrilldown",function(){{const P=L(this);P&&P.highlight(!1)}}),S.addEvent(W,"drilldown",function(P){P=P.point;const f=P.series;j.lastDrilledDownPoint={x:P.x,y:P.y,seriesName:f?f.name:""}}),S.addEvent(W,"drillupall",function(){setTimeout(function(){j.onDrillupAll()},10)}),S.addEvent(a,"afterSetState",function(){const P=this.graphic&&this.graphic.element,f=C.activeElement;var g=f&&f.getAttribute("class");g=g&&-1<g.indexOf("highcharts-a11y-proxy-button"),W.highlightedPoint===this&&f!==P&&!g&&P&&P.focus&&P.focus()})}onDrillupAll(){const j=this.lastDrilledDownPoint,W=this.chart,S=j&&E(W,j.seriesName);let P;j&&S&&A(j.x)&&A(j.y)&&(P=$(S,j.x,j.y)),P=P||L(W),W.container&&W.container.focus(),P&&P.highlight&&P.highlight(!1)}getKeyboardNavigationHandler(){const j=this,W=this.keyCodes,S=this.chart,P=S.inverted;return new x(S,{keyCodeMap:[[P?[W.up,W.down]:[W.left,W.right],function(f){return j.onKbdSideways(this,f)}],[P?[W.left,W.right]:[W.up,W.down],function(f){return j.onKbdVertical(this,f)}],[[W.enter,W.space],function(f,g){return(f=S.highlightedPoint)&&(g.point=f,U(f.series,"click",g),f.firePointEvent("click")),this.response.success}],[[W.home],function(){return H(S),this.response.success}],[[W.end],function(){return I(S),this.response.success}],[[W.pageDown,W.pageUp],function(f){return S.highlightAdjacentSeries(f===W.pageDown),this.response.success}]],init:function(){return j.onHandlerInit(this)},validate:function(){return!!L(S)},terminate:function(){return j.onHandlerTerminate()}})}onKbdSideways(j,W){const S=this.keyCodes;return this.attemptHighlightAdjacentPoint(j,W===S.right||W===S.down)}onHandlerInit(j){const W=this.chart;return W.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&W.highlightedPoint?W.highlightedPoint.highlight():H(W),j.response.success}onKbdVertical(j,W){const S=this.chart;var P=this.keyCodes;return W=W===P.down||W===P.right,P=S.options.accessibility.keyboardNavigation.seriesNavigation,P.mode&&P.mode==="serialize"?this.attemptHighlightAdjacentPoint(j,W):(S[S.highlightedPoint&&S.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries"](W),j.response.success)}onHandlerTerminate(){const j=this.chart,W=j.options.accessibility.keyboardNavigation;j.tooltip&&j.tooltip.hide(0);const S=j.highlightedPoint&&j.highlightedPoint.series;S&&S.onMouseOut&&S.onMouseOut(),j.highlightedPoint&&j.highlightedPoint.onMouseOut&&j.highlightedPoint.onMouseOut(),W.seriesNavigation.rememberPointFocus||delete j.highlightedPoint}attemptHighlightAdjacentPoint(j,W){const S=this.chart,P=S.options.accessibility.keyboardNavigation.wrapAround;return S.highlightAdjacentPoint(W)||P&&(W?H(S):I(S))?j.response.success:j.response[W?"next":"prev"]}onSeriesDestroy(j){const W=this.chart;W.highlightedPoint&&W.highlightedPoint.series===j&&(delete W.highlightedPoint,W.focusElement&&W.focusElement.removeFocusBorder())}destroy(){this.eventProvider.removeAddedEvents()}}return function(N){function j(D){var X=this.series;const te=this.highlightedPoint;var Z=te&&O(te)||0;const de=te&&te.series.points||[];var ge=this.series&&this.series[this.series.length-1];if(ge=ge&&ge.points&&ge.points[ge.points.length-1],!X[0]||!X[0].points)return!1;if(te){if(X=X[te.series.index+(D?1:-1)],Z=de[Z+(D?1:-1)],!Z&&X&&(Z=X.points[D?0:X.points.length-1]),!Z)return!1}else Z=D?X[0].points[0]:ge;return q(Z)?(X=Z.series,V(X)?this.highlightedPoint=D?X.points[X.points.length-1]:X.points[0]:this.highlightedPoint=Z,this.highlightAdjacentPoint(D)):Z.highlight()}function W(D){const X=this.highlightedPoint;let te=1/0,Z;return!A(X.plotX)||!A(X.plotY)?!1:(this.series.forEach(de=>{V(de)||de.points.forEach(ge=>{if(A(ge.plotY)&&A(ge.plotX)&&ge!==X){var Ce=ge.plotY-X.plotY,J=Math.abs(ge.plotX-X.plotX);J=Math.abs(Ce)*Math.abs(Ce)+J*J*4,de.yAxis&&de.yAxis.reversed&&(Ce*=-1),!(0>=Ce&&D||0<=Ce&&!D||5>J||q(ge))&&J<te&&(te=J,Z=ge)}})}),Z?Z.highlight():!1)}function S(D){const X=this.highlightedPoint;var te=this.series&&this.series[this.series.length-1],Z=te&&te.points&&te.points[te.points.length-1];return this.highlightedPoint?(te=this.series[X.series.index+(D?-1:1)],!te||(Z=P(X,te,4),!Z)?!1:V(te)?(Z.highlight(),D=this.highlightAdjacentSeries(D),D||(X.highlight(),!1)):(Z.highlight(),Z.series.highlightNextValidPoint())):(te=D?this.series&&this.series[0]:te,(Z=D?te&&te.points&&te.points[0]:Z)?Z.highlight():!1)}function P(D,X,te,Z){let de=1/0,ge,Ce=X.points.length;const J=ce=>!(A(ce.plotX)&&A(ce.plotY));if(!J(D)){for(;Ce--;){var oe=X.points[Ce];J(oe)||(oe=(D.plotX-oe.plotX)*(D.plotX-oe.plotX)*(te||1)+(D.plotY-oe.plotY)*(D.plotY-oe.plotY)*(Z||1),oe<de&&(de=oe,ge=Ce))}return A(ge)?X.points[ge]:void 0}}function f(D=!0){const X=this.series.chart;return!this.isNull&&D?this.onMouseOver():X.tooltip&&X.tooltip.hide(0),ee(this),this.graphic&&(X.setFocusToElement(this.graphic),!D&&X.focusElement&&X.focusElement.removeFocusBorder()),X.highlightedPoint=this,this}function g(){var D=this.chart.highlightedPoint,X=(D&&D.series)===this?O(D):0;D=this.points;const te=D.length;if(D&&te){for(let Z=X;Z<te;++Z)if(!q(D[Z]))return D[Z].highlight();for(;0<=X;--X)if(!q(D[X]))return D[X].highlight()}return!1}const b=[];N.compose=function(D,X,te){n.pushUnique(b,D)&&(D=D.prototype,D.highlightAdjacentPoint=j,D.highlightAdjacentPointVertical=W,D.highlightAdjacentSeries=S),n.pushUnique(b,X)&&(X.prototype.highlight=f),n.pushUnique(b,te)&&(X=te.prototype,X.keyboardMoveVertical=!0,["column","gantt","pie"].forEach(Z=>{M[Z]&&(M[Z].prototype.keyboardMoveVertical=!1)}),X.highlightNextValidPoint=g)}}(Q||(Q={})),Q}),s(t,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],t["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"]],function(a,c,h,m,n,x){const{hideSeriesFromAT:z}=c,{describeSeries:Y}=n;class O extends a{static compose(q,L,I){m.compose(I),h.compose(I),x.compose(q,L,I)}init(){this.newDataAnnouncer=new m(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new x(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){const q=this;this.chart.tooltip&&this.addEvent(this.chart.tooltip.constructor,"refresh",function(){this.chart===q.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(q){q.labelBySeries&&q.labelBySeries.attr("aria-hidden",!0)})})}onChartRender(){this.chart.series.forEach(function(q){(q.options.accessibility&&q.options.accessibility.enabled)!==!1&&q.visible?Y(q):z(q)})}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}}return O}),s(t,"Accessibility/Components/ZoomComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(a,c,h,m,n){const{unhideChartElementFromAT:x}=c,{getFakeMouseEvent:z}=h,{attr:Y,pick:O}=n;class V extends a{constructor(){super(...arguments),this.focusedMapNavButtonIx=-1}init(){const L=this,I=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(H=>{L.addEvent(I,H,function(){L.updateProxyOverlays()})})}onChartUpdate(){const L=this.chart,I=this;L.mapNavigation&&L.mapNavigation.navButtons.forEach((H,M)=>{x(L,H.element),I.setMapNavButtonAttrs(H.element,"accessibility.zoom.mapZoom"+(M?"Out":"In"))})}setMapNavButtonAttrs(L,I){const H=this.chart;I=H.langFormat(I,{chart:H}),Y(L,{tabindex:-1,role:"button","aria-label":I})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){const L=this.chart;this.proxyProvider.clearGroup("zoom"),L.resetZoomButton&&this.createZoomProxyButton(L.resetZoomButton,"resetZoomProxyButton",L.langFormat("accessibility.zoom.resetZoomButton",{chart:L})),L.drillUpButton&&L.breadcrumbs&&L.breadcrumbs.list&&this.createZoomProxyButton(L.drillUpButton,"drillUpProxyButton",L.langFormat("accessibility.drillUpButton",{chart:L,buttonText:L.breadcrumbs.getButtonText(L.breadcrumbs.list[L.breadcrumbs.list.length-1])}))}createZoomProxyButton(L,I,H){this[I]=this.proxyProvider.addProxyElement("zoom",{click:L},{"aria-label":H,tabindex:-1})}getMapZoomNavigation(){const L=this.keyCodes,I=this.chart,H=this;return new m(I,{keyCodeMap:[[[L.up,L.down,L.left,L.right],function(M){return H.onMapKbdArrow(this,M)}],[[L.tab],function(M,C){return H.onMapKbdTab(this,C)}],[[L.space,L.enter],function(){return H.onMapKbdClick(this)}]],validate:function(){return!!(I.mapView&&I.mapNavigation&&I.mapNavigation.navButtons.length)},init:function(M){return H.onMapNavInit(M)}})}onMapKbdArrow(L,I){var H=this.chart,M=this.keyCodes;const C=H.container;var A=I===M.up||I===M.down;return I=(A?H.plotHeight:H.plotWidth)/10*(I===M.left||I===M.up?1:-1),M=10*Math.random(),H={x:C.offsetLeft+H.plotLeft+H.plotWidth/2+M,y:C.offsetTop+H.plotTop+H.plotHeight/2+M},A=A?{x:H.x,y:H.y+I}:{x:H.x+I,y:H.y},[z("mousedown",H),z("mousemove",A),z("mouseup",A)].forEach(U=>C.dispatchEvent(U)),L.response.success}onMapKbdTab(L,I){const H=this.chart;L=L.response;const M=(I=I.shiftKey)&&!this.focusedMapNavButtonIx||!I&&this.focusedMapNavButtonIx;return H.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),M?(H.mapView&&H.mapView.zoomBy(),L[I?"prev":"next"]):(this.focusedMapNavButtonIx+=I?-1:1,I=H.mapNavigation.navButtons[this.focusedMapNavButtonIx],H.setFocusToElement(I.box,I.element),I.setState(2),L.success)}onMapKbdClick(L){return this.fakeClickEvent(this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element),L.response.success}onMapNavInit(L){const I=this.chart;var H=I.mapNavigation.navButtons[0];const M=I.mapNavigation.navButtons[1];H=0<L?H:M,I.setFocusToElement(H.box,H.element),H.setState(2),this.focusedMapNavButtonIx=0<L?0:1}simpleButtonNavigation(L,I,H){const M=this.keyCodes,C=this,A=this.chart;return new m(A,{keyCodeMap:[[[M.tab,M.up,M.down,M.left,M.right],function(U,$){return this.response[U===M.tab&&$.shiftKey||U===M.left||U===M.up?"prev":"next"]}],[[M.space,M.enter],function(){const U=H(this,A);return O(U,this.response.success)}]],validate:function(){return A[L]&&A[L].box&&C[I].buttonElement},init:function(){A.setFocusToElement(A[L].box,C[I].buttonElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(L,I){I.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(L,I){return I.drillUp(),L.response.prev}),this.getMapZoomNavigation()]}}return V}),s(t,"Accessibility/HighContrastMode.js",[t["Core/Globals.js"]],function(a){const{doc:c,isMS:h,win:m}=a;return{isHighContrastModeActive:function(){var n=/(Edg)/.test(m.navigator.userAgent);if(m.matchMedia&&n)return m.matchMedia("(-ms-high-contrast: active)").matches;if(h&&m.getComputedStyle){n=c.createElement("div"),n.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",c.body.appendChild(n);const x=(n.currentStyle||m.getComputedStyle(n)).backgroundImage;return c.body.removeChild(n),x==="none"}return m.matchMedia&&m.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(n){n.highContrastModeActive=!0;const x=n.options.accessibility.highContrastTheme;n.update(x,!1),n.series.forEach(function(z){const Y=x.plotOptions[z.type]||{};z.update({color:Y.color||"windowText",colors:[Y.color||"windowText"],borderColor:Y.borderColor||"window"}),z.points.forEach(function(O){O.options&&O.options.color&&O.update({color:Y.color||"windowText",borderColor:Y.borderColor||"window"},!1)})}),n.redraw()}}}),s(t,"Accessibility/HighContrastTheme.js",[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}}),s(t,"Accessibility/Options/A11yDefaults.js",[],function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}}}}),s(t,"Accessibility/Options/LangDefaults.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{ Also related to, #each(additionalAnnotationPoints)}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#plural(numPoints, points, point)}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#plural(numPoints, slices, slice)}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#plural(numPoints, points, point)}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each(names, -1) }and {names[-1]}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each(names, -1) }and {names[-1]}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, slices, slice)}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#plural(series.points.length, slices, slice)}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, points, point)}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#plural(series.points.length, points, point)}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, boxes, box)}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#plural(series.points.length, boxes, box)}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, areas, area)}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#plural(series.points.length, areas, area)}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{Annotation: #each(annotations). }"}}}}),s(t,"Accessibility/Options/DeprecatedOptions.js",[t["Core/Utilities.js"]],function(a){function c(O,V,q){let L,I=0;for(;I<V.length-1;++I)L=V[I],O=O[L]=Y(O[L],{});O[V[V.length-1]]=q}function h(O,V,q,L){function I(C,A){return A.reduce(function(U,$){return U[$]},C)}const H=I(O.options,V),M=I(O.options,q);Object.keys(L).forEach(function(C){const A=H[C];typeof A<"u"&&(c(M,L[C],A),z(32,!1,O,{[V.join(".")+"."+C]:q.join(".")+"."+L[C].join(".")}))})}function m(O){const V=O.options.chart,q=O.options.accessibility||{};["description","typeDescription"].forEach(function(L){V[L]&&(q[L]=V[L],z(32,!1,O,{[`chart.${L}`]:`use accessibility.${L}`}))})}function n(O){O.axes.forEach(function(V){(V=V.options)&&V.description&&(V.accessibility=V.accessibility||{},V.accessibility.description=V.description,z(32,!1,O,{"axis.description":"use axis.accessibility.description"}))})}function x(O){const V={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};O.series.forEach(function(q){Object.keys(V).forEach(function(L){let I=q.options[L];L==="accessibility.pointDescriptionFormatter"&&(I=q.options.accessibility&&q.options.accessibility.pointDescriptionFormatter),typeof I<"u"&&(c(q.options,V[L],L==="skipKeyboardNavigation"?!I:I),z(32,!1,O,{[`series.${L}`]:"series."+V[L].join(".")}))})})}const{error:z,pick:Y}=a;return function(O){m(O),n(O),O.series&&x(O),h(O,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]}),h(O,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]}),h(O,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}}),s(t,"Accessibility/Accessibility.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/A11yI18n.js"],t["Accessibility/Components/ContainerComponent.js"],t["Accessibility/FocusBorder.js"],t["Accessibility/Components/InfoRegionsComponent.js"],t["Accessibility/KeyboardNavigation.js"],t["Accessibility/Components/LegendComponent.js"],t["Accessibility/Components/MenuComponent.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/ProxyProvider.js"],t["Accessibility/Components/RangeSelectorComponent.js"],t["Accessibility/Components/SeriesComponent/SeriesComponent.js"],t["Accessibility/Components/ZoomComponent.js"],t["Accessibility/HighContrastMode.js"],t["Accessibility/HighContrastTheme.js"],t["Accessibility/Options/A11yDefaults.js"],t["Accessibility/Options/LangDefaults.js"],t["Accessibility/Options/DeprecatedOptions.js"]],function(a,c,h,m,n,x,z,Y,O,V,q,L,I,H,M,C,A,U,$,E,ee){({defaultOptions:a}=a);const{doc:Q}=c,{addEvent:N,extend:j,fireEvent:W,merge:S}=h,{removeElement:P}=m;class f{constructor(b){this.proxyProvider=this.keyboardNavigation=this.components=this.chart=void 0,this.init(b)}init(b){this.chart=b,Q.addEventListener?(ee(b),this.proxyProvider=new I(this.chart),this.initComponents(),this.keyboardNavigation=new O(b,this.components)):(this.zombie=!0,this.components={},b.renderTo.setAttribute("aria-hidden",!0))}initComponents(){const b=this.chart,D=this.proxyProvider,X=b.options.accessibility;this.components={container:new x,infoRegions:new Y,legend:new V,chartMenu:new q,rangeSelector:new H,series:new M,zoom:new C},X.customComponents&&j(this.components,X.customComponents);const te=this.components;this.getComponentOrder().forEach(function(Z){te[Z].initBase(b,D),te[Z].init()})}getComponentOrder(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);const b=Object.keys(this.components).filter(D=>D!=="series");return["series"].concat(b)}update(){const b=this.components,D=this.chart;var X=D.options.accessibility;W(D,"beforeA11yUpdate"),D.types=this.getChartTypes(),X=X.keyboardNavigation.order,this.proxyProvider.updateGroupOrder(X),this.getComponentOrder().forEach(function(te){b[te].onChartUpdate(),W(D,"afterA11yComponentUpdate",{name:te,component:b[te]})}),this.keyboardNavigation.update(X),!D.highContrastModeActive&&A.isHighContrastModeActive()&&A.setHighContrastTheme(D),W(D,"afterA11yUpdate",{accessibility:this})}destroy(){const b=this.chart||{},D=this.components;Object.keys(D).forEach(function(X){D[X].destroy(),D[X].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),b.announcerContainer&&P(b.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),b.renderTo&&b.renderTo.setAttribute("aria-hidden",!0),b.focusElement&&b.focusElement.removeFocusBorder()}getChartTypes(){const b={};return this.chart.series.forEach(function(D){b[D.type]=1}),Object.keys(b)}}return function(g){function b(){this.accessibility&&this.accessibility.destroy()}function D(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());const ge=this.accessibility;ge&&!ge.zombie&&(ge.proxyProvider.updateProxyElementPositions(),ge.getComponentOrder().forEach(function(Ce){ge.components[Ce].onChartRender()}))}function X(ge){(ge=ge.options.accessibility)&&(ge.customComponents&&(this.options.accessibility.customComponents=ge.customComponents,delete ge.customComponents),S(!0,this.options.accessibility,ge),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function te(){let ge=this.accessibility;const Ce=this.options.accessibility;Ce&&Ce.enabled?ge&&!ge.zombie?ge.update():(this.accessibility=ge=new g(this),!ge.zombie&&ge.update()):ge?(ge.destroy&&ge.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)}function Z(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}const de=[];g.i18nFormat=n.i18nFormat,g.compose=function(ge,Ce,J,oe,ce,pe){O.compose(ge),L.compose(oe),V.compose(ge,Ce),q.compose(ge),M.compose(ge,J,oe),n.compose(ge),z.compose(ge,ce),pe&&H.compose(ge,pe),h.pushUnique(de,ge)&&(ge.prototype.updateA11yEnabled=te,N(ge,"destroy",b),N(ge,"render",D),N(ge,"update",X),["addSeries","init"].forEach(Ee=>{N(ge,Ee,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(Ee=>{N(ge,Ee,function(){const ne=this.accessibility;ne&&!ne.zombie&&ne.update()})})),h.pushUnique(de,J)&&N(J,"update",Z),h.pushUnique(de,oe)&&["update","updatedData","remove"].forEach(Ee=>{N(oe,Ee,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})})}}(f||(f={})),S(!0,a,$,{accessibility:{highContrastTheme:U},lang:E}),f}),s(t,"masters/modules/accessibility.src.js",[t["Core/Globals.js"],t["Accessibility/Accessibility.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(a,c,h,m,n,x,z){a.i18nFormat=c.i18nFormat,a.A11yChartUtilities=m,a.A11yHTMLUtilities=n,a.AccessibilityComponent=h,a.KeyboardNavigationHandler=x,a.SeriesAccessibilityDescriber=z,c.compose(a.Chart,a.Legend,a.Point,a.Series,a.SVGElement,a.RangeSelector)})})})(W8);var FV=W8.exports;const $S=wd(FV);$S(Fl);const jV={name:"spline",components:{Chart:o0.Chart},data(){return{chartOptions:{chart:{type:"spline",scrollablePlotArea:{minWidth:600,scrollPositionX:1}},title:{text:"Wind speed during two days",align:"left"},subtitle:{text:"13th & 14th of June, 2022 at two locations in Vik i Sogn, Norway",align:"left"},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{title:{text:"Wind speed (m/s)"},minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotBands:[{from:.3,to:1.5,color:"rgba(68, 170, 213, 0.1)",label:{text:"Light air",style:{color:"#606060"}}},{from:1.5,to:3.3,color:"rgba(0, 0, 0, 0)",label:{text:"Light breeze",style:{color:"#606060"}}},{from:3.3,to:5.5,color:"rgba(68, 170, 213, 0.1)",label:{text:"Gentle breeze",style:{color:"#606060"}}},{from:5.5,to:8,color:"rgba(0, 0, 0, 0)",label:{text:"Moderate breeze",style:{color:"#606060"}}},{from:8,to:11,color:"rgba(68, 170, 213, 0.1)",label:{text:"Fresh breeze",style:{color:"#606060"}}},{from:11,to:14,color:"rgba(0, 0, 0, 0)",label:{text:"Strong breeze",style:{color:"#606060"}}},{from:14,to:15,color:"rgba(68, 170, 213, 0.1)",label:{text:"High wind",style:{color:"#606060"}}}]},tooltip:{valueSuffix:" m/s"},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1},pointInterval:36e5,pointStart:Date.UTC(2022,5,13,0,0,0)}},series:[{name:"Hestavollane",data:[4.5,5.1,4.4,3.7,4.2,3.7,4.3,4,5,4.9,4.8,4.6,3.9,3.8,2.7,3.1,2.6,3.3,3.8,4.1,1,1.9,3.2,3.8,4.2]},{name:"Vik",data:[.1,.1,.1,.2,.4,.4,.3,.4,.1,0,.2,.3,0,0,0,0,0,.1,.1,.1,0,.1,0,0,0]}],navigation:{menuItemStyle:{fontSize:"10px"}}}}}};function UV(e,t,s,a,c,h){const m=Un("Chart");return yt(),ja(m,{options:c.chartOptions,constructorType:"stockChart"},null,8,["options"])}const $V=Jn(jV,[["render",UV]]),aa=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,s=/[^-+\dA-Z]/g;return function(a,c,h,m){if(arguments.length===1&&VV(a)==="string"&&!/\d/.test(a)&&(c=a,a=void 0),a=a||new Date,a instanceof Date||(a=new Date(a)),isNaN(a))throw TypeError("Invalid date");c=String(aa.masks[c]||c||aa.masks.default);var n=c.slice(0,4);(n==="UTC:"||n==="GMT:")&&(c=c.slice(4),h=!0,n==="GMT:"&&(m=!0));var x=h?"getUTC":"get",z=a[x+"Date"](),Y=a[x+"Day"](),O=a[x+"Month"](),V=a[x+"FullYear"](),q=a[x+"Hours"](),L=a[x+"Minutes"](),I=a[x+"Seconds"](),H=a[x+"Milliseconds"](),M=h?0:a.getTimezoneOffset(),C=Y8(a),A=GV(a),U={d:z,dd:ou(z),ddd:aa.i18n.dayNames[Y],dddd:aa.i18n.dayNames[Y+7],m:O+1,mm:ou(O+1),mmm:aa.i18n.monthNames[O],mmmm:aa.i18n.monthNames[O+12],yy:String(V).slice(2),yyyy:V,h:q%12||12,hh:ou(q%12||12),H:q,HH:ou(q),M:L,MM:ou(L),s:I,ss:ou(I),l:ou(H,3),L:ou(Math.round(H/10)),t:q<12?aa.i18n.timeNames[0]:aa.i18n.timeNames[1],tt:q<12?aa.i18n.timeNames[2]:aa.i18n.timeNames[3],T:q<12?aa.i18n.timeNames[4]:aa.i18n.timeNames[5],TT:q<12?aa.i18n.timeNames[6]:aa.i18n.timeNames[7],Z:m?"GMT":h?"UTC":(String(a).match(t)||[""]).pop().replace(s,""),o:(M>0?"-":"+")+ou(Math.floor(Math.abs(M)/60)*100+Math.abs(M)%60,4),S:["th","st","nd","rd"][z%10>3?0:(z%100-z%10!=10)*z%10],W:C,N:A};return c.replace(e,function($){return $ in U?U[$]:$.slice(1,$.length-1)})}}();aa.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"};aa.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};function ou(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function Y8(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var s=new Date(t.getFullYear(),0,4);s.setDate(s.getDate()-(s.getDay()+6)%7+3);var a=t.getTimezoneOffset()-s.getTimezoneOffset();t.setHours(t.getHours()-a);var c=(t-s)/(864e5*7);return 1+Math.floor(c)}function GV(e){var t=e.getDay();return t===0&&(t=7),t}function VV(e){return e===null?"null":e===void 0?"undefined":typeof e!="object"?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}const q8={isSame:(e,t,s)=>{let a=new Date(e),c=new Date(t);return s==="date"&&(a.setHours(0,0,0,0),c.setHours(0,0,0,0)),a.getTime()===c.getTime()},daysInMonth:(e,t)=>new Date(e,t,0).getDate(),weekNumber:e=>Y8(e),format:(e,t)=>aa(e,t),nextMonth:e=>{let t=new Date(e.getTime());return t.setDate(1),t.setMonth(t.getMonth()+1),t},prevMonth:e=>{let t=new Date(e.getTime());return t.setDate(1),t.setMonth(t.getMonth()-1),t},validateDateRange:(e,t,s)=>{let a=new Date(s),c=new Date(t);return s&&e.getTime()>a.getTime()?a:t&&e.getTime()<c.getTime()?c:e},localeData:e=>({...{direction:"ltr",format:"mm/dd/yyyy",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:aa.i18n.dayNames.slice(0,7).map(s=>s.substring(0,2)),monthNames:aa.i18n.monthNames.slice(0,12),firstDay:0},...e}),yearMonth:e=>{let t=e.getMonth()+1;return e.getFullYear()+(t<10?"0":"")+t},isValidDate:e=>e instanceof Date&&!isNaN(e)},GS={props:{dateUtil:{type:[Object,String],default:"native"}},created(){this.$dateUtil=q8}},HV={mixins:[GS],name:"calendar",props:{monthDate:Date,localeData:Object,start:Date,end:Date,minDate:Date,maxDate:Date,showDropdowns:{type:Boolean,default:!1},showWeekNumbers:{type:Boolean,default:!1},dateFormat:{type:Function,default:null}},data(){let e=this.monthDate||this.start||new Date;return{currentMonthDate:e,year_text:e.getFullYear()}},methods:{prevMonthClick(){this.changeMonthDate(this.$dateUtil.prevMonth(this.currentMonthDate))},nextMonthClick(){this.changeMonthDate(this.$dateUtil.nextMonth(this.currentMonthDate))},changeMonthDate(e,t=!0){let s=this.$dateUtil.yearMonth(this.currentMonthDate);this.currentMonthDate=this.$dateUtil.validateDateRange(e,this.minDate,this.maxDate),t&&s!==this.$dateUtil.yearMonth(this.currentMonthDate)&&this.$emit("change-month",{month:this.currentMonthDate.getMonth()+1,year:this.currentMonthDate.getFullYear()}),this.checkYear()},dayClass(e){let t=new Date(e);t.setHours(0,0,0,0);let s=new Date(this.start);s.setHours(0,0,0,0);let a=new Date(this.end);a.setHours(0,0,0,0);let c={off:e.getMonth()+1!==this.month,weekend:e.getDay()===6||e.getDay()===0,today:t.setHours(0,0,0,0)==new Date().setHours(0,0,0,0),active:t.setHours(0,0,0,0)==new Date(this.start).setHours(0,0,0,0)||t.setHours(0,0,0,0)==new Date(this.end).setHours(0,0,0,0),"in-range":t>=s&&t<=a,"start-date":t.getTime()===s.getTime(),"end-date":t.getTime()===a.getTime(),disabled:this.minDate&&t.getTime()<this.minDate.getTime()||this.maxDate&&t.getTime()>this.maxDate.getTime()};return this.dateFormat?this.dateFormat(c,e):c},checkYear(){this.$refs.yearSelect!==document.activeElement&&this.$nextTick(()=>{this.year_text=this.monthDate.getFullYear()})}},computed:{monthName(){return this.locale.monthNames[this.currentMonthDate.getMonth()]},year:{get(){return this.year_text},set(e){this.year_text=e;let t=this.$dateUtil.validateDateRange(new Date(e,this.month,1),this.minDate,this.maxDate);this.$dateUtil.isValidDate(t)&&this.$emit("change-month",{month:t.getMonth(),year:t.getFullYear()})}},month:{get(){return this.currentMonthDate.getMonth()+1},set(e){let t=this.$dateUtil.validateDateRange(new Date(this.year,e-1,1),this.minDate,this.maxDate);this.$emit("change-month",{month:t.getMonth()+1,year:t.getFullYear()})}},calendar(){let e=this.month,t=this.currentMonthDate.getFullYear(),s=new Date(t,e-1,1),a=this.$dateUtil.prevMonth(s).getMonth()+1,c=this.$dateUtil.prevMonth(s).getFullYear(),h=new Date(c,e-1,0).getDate(),m=s.getDay(),n=[];for(let Y=0;Y<6;Y++)n[Y]=[];let x=h-m+this.locale.firstDay+1;x>h&&(x-=7),m===this.locale.firstDay&&(x=h-6);let z=new Date(c,a-1,x,12,0,0);for(let Y=0,O=0,V=0;Y<6*7;Y++,O++,z.setDate(z.getDate()+1))Y>0&&O%7===0&&(O=0,V++),n[V][O]=new Date(z.getTime());return n},months(){let e=this.locale.monthNames.map((t,s)=>({label:t,value:s}));if(this.maxDate&&this.minDate){let t=this.maxDate.getFullYear()-this.minDate.getFullYear();if(t<2){let s=[];if(t<1)for(let a=this.minDate.getMonth();a<=this.maxDate.getMonth();a++)s.push(a);else{for(let a=0;a<=this.maxDate.getMonth();a++)s.push(a);for(let a=this.minDate.getMonth();a<12;a++)s.push(a)}if(s.length>0)return e.filter(a=>s.find(c=>a.value===c)>-1)}}return e},locale(){return this.$dateUtil.localeData(this.localeData)}},watch:{monthDate(e){this.currentMonthDate.getTime()!==e.getTime()&&this.changeMonthDate(e,!1)}}},X8=e=>(Ul("data-v-66e2a2e7"),e=e(),$l(),e),WV={class:"table-condensed"},YV=X8(()=>Ne("span",null,null,-1)),qV=[YV],XV=["colspan"],ZV={class:"row mx-1"},KV=["value"],JV=["colspan"],QV=X8(()=>Ne("span",null,null,-1)),eH=[QV],tH={key:0,class:"week"},iH={key:0,class:"week"},nH=["onClick","onMouseover"];function sH(e,t,s,a,c,h){return yt(),St("table",WV,[Ne("thead",null,[Ne("tr",null,[Ne("th",{class:"prev available",onClick:t[0]||(t[0]=(...m)=>h.prevMonthClick&&h.prevMonthClick(...m)),tabindex:"0"},qV),s.showDropdowns?(yt(),St("th",{key:0,colspan:s.showWeekNumbers?6:5,class:"month"},[Ne("div",ZV,[Os(Ne("select",{"onUpdate:modelValue":t[1]||(t[1]=m=>h.month=m),class:"monthselect col"},[(yt(!0),St(en,null,Kn(h.months,m=>(yt(),St("option",{key:m.value,value:m.value+1},Fi(m.label),9,KV))),128))],512),[[$a,h.month]]),Os(Ne("input",{ref:"yearSelect",type:"number","onUpdate:modelValue":t[2]||(t[2]=m=>h.year=m),onBlur:t[3]||(t[3]=(...m)=>h.checkYear&&h.checkYear(...m)),class:"yearselect col"},null,544),[[Aa,h.year]])])],8,XV)):(yt(),St("th",{key:1,colspan:s.showWeekNumbers?6:5,class:"month"},Fi(h.monthName)+" "+Fi(h.year),9,JV)),Ne("th",{class:"next available",onClick:t[4]||(t[4]=(...m)=>h.nextMonthClick&&h.nextMonthClick(...m)),tabindex:"0"},eH)])]),Ne("tbody",null,[Ne("tr",null,[s.showWeekNumbers?(yt(),St("th",tH,Fi(h.locale.weekLabel),1)):rn("",!0),(yt(!0),St(en,null,Kn(h.locale.daysOfWeek,m=>(yt(),St("th",{key:m},Fi(m),1))),128))]),(yt(!0),St(en,null,Kn(h.calendar,(m,n)=>(yt(),St("tr",{key:n},[s.showWeekNumbers&&(n%7||n===0)?(yt(),St("td",iH,Fi(e.$dateUtil.weekNumber(m[0])),1)):rn("",!0),(yt(!0),St(en,null,Kn(m,(x,z)=>(yt(),St("td",{class:Xn(h.dayClass(x)),onClick:Y=>e.$emit("dateClick",x),onMouseover:Y=>e.$emit("hoverDate",x),key:z},[Er(e.$slots,"date-slot",{date:x},()=>[mr(Fi(x.getDate()),1)],!0)],42,nH))),128))]))),128))])])}const rH=Jn(HV,[["render",sH],["__scopeId","data-v-66e2a2e7"]]),oH={props:{miniuteIncrement:{type:Number,default:5},hour24:{type:Boolean,default:!0},secondPicker:{type:Boolean,default:!1},currentTime:{default(){return new Date}},readonly:{type:Boolean,default:!1}},data(){let e=this.currentTime?this.currentTime:new Date,t=e.getHours();return{hour:this.hour24?t:t%12||12,minute:e.getMinutes()-e.getMinutes()%this.miniuteIncrement,second:e.getSeconds(),ampm:t<12?"AM":"PM"}},computed:{hours(){let e=[],t=this.hour24?24:12;for(let s=0;s<t;s++)e.push(this.hour24?s:s+1);return e},minutes(){let e=[],t=60;for(let s=0;s<t;s=s+this.miniuteIncrement)e.push(s);return e}},watch:{hour(){this.onChange()},minute(){this.onChange()},second(){this.onChange()},ampm(){this.onChange()}},methods:{formatNumber:e=>e<10?"0"+e.toString():e.toString(),getHour(){return this.hour24?this.hour:this.hour===12?this.ampm==="AM"?0:12:this.hour+(this.ampm==="PM"?12:0)},onChange(){this.$emit("update",{hours:this.getHour(),minutes:this.minute,seconds:this.second})}}},aH={class:"calendar-time"},lH=["disabled"],cH=["value"],dH=["disabled"],hH=["value"],uH=["disabled"],pH=["value"],fH=["disabled"],mH=Ne("option",{value:"AM"},"AM",-1),gH=Ne("option",{value:"PM"},"PM",-1),_H=[mH,gH];function yH(e,t,s,a,c,h){return yt(),St("div",aH,[Os(Ne("select",{"onUpdate:modelValue":t[0]||(t[0]=m=>c.hour=m),class:"hourselect form-control mr-1",disabled:s.readonly},[(yt(!0),St(en,null,Kn(h.hours,m=>(yt(),St("option",{key:m,value:m},Fi(h.formatNumber(m)),9,cH))),128))],8,lH),[[$a,c.hour]]),mr(" :"),Os(Ne("select",{"onUpdate:modelValue":t[1]||(t[1]=m=>c.minute=m),class:"minuteselect form-control ml-1",disabled:s.readonly},[(yt(!0),St(en,null,Kn(h.minutes,m=>(yt(),St("option",{key:m,value:m},Fi(h.formatNumber(m)),9,hH))),128))],8,dH),[[$a,c.minute]]),s.secondPicker?(yt(),St(en,{key:0},[mr(" :"),Os(Ne("select",{"onUpdate:modelValue":t[2]||(t[2]=m=>c.second=m),class:"secondselect form-control ml-1",disabled:s.readonly},[(yt(),St(en,null,Kn(60,m=>Ne("option",{key:m-1,value:m-1},Fi(h.formatNumber(m-1)),9,pH)),64))],8,uH),[[$a,c.second]])],64)):rn("",!0),s.hour24?rn("",!0):Os((yt(),St("select",{key:1,"onUpdate:modelValue":t[3]||(t[3]=m=>c.ampm=m),class:"ampmselect",disabled:s.readonly},_H,8,fH)),[[$a,c.ampm]])])}const vH=Jn(oH,[["render",yH]]),xH={mixins:[GS],props:{ranges:Object,selected:Object,localeData:Object,alwaysShowCalendars:Boolean},data(){return{customRangeActive:!1}},methods:{clickRange(e){this.customRangeActive=!1,this.$emit("clickRange",e)},clickCustomRange(){this.customRangeActive=!0,this.$emit("showCustomRange")},range_class(e){return{active:e.selected===!0}}},computed:{listedRanges(){return this.ranges?Object.keys(this.ranges).map(e=>({label:e,value:this.ranges[e],selected:this.$dateUtil.isSame(this.selected.startDate,this.ranges[e][0])&&this.$dateUtil.isSame(this.selected.endDate,this.ranges[e][1])})):!1},selectedRange(){return this.listedRanges.find(e=>e.selected===!0)},showCustomRangeLabel(){return!this.alwaysShowCalendars}}},bH={class:"ranges"},wH={key:0},SH=["onClick","data-range-key"];function TH(e,t,s,a,c,h){return yt(),St("div",bH,[s.ranges?(yt(),St("ul",wH,[(yt(!0),St(en,null,Kn(h.listedRanges,m=>(yt(),St("li",{onClick:n=>h.clickRange(m.value),"data-range-key":m.label,key:m.label,class:Xn(h.range_class(m)),tabindex:"0"},Fi(m.label),11,SH))),128)),h.showCustomRangeLabel?(yt(),St("li",{key:0,class:Xn({active:c.customRangeActive||!h.selectedRange}),onClick:t[0]||(t[0]=(...m)=>h.clickCustomRange&&h.clickCustomRange(...m)),tabindex:"0"},Fi(s.localeData.customRangeLabel),3)):rn("",!0)])):rn("",!0)])}const CH=Jn(xH,[["render",TH]]),EH={mounted(e,{instance:t}){if(t.appendToBody){const{height:s,top:a,left:c,width:h,right:m}=t.$refs.toggle.getBoundingClientRect();e.unbindPosition=t.calculatePosition(e,t,{width:h,top:window.scrollY+a+s,left:window.scrollX+c,right:m}),document.body.appendChild(e)}else t.$el.appendChild(e)},unmounted(e,{instance:t}){t.appendToBody&&(e.unbindPosition&&typeof e.unbindPosition=="function"&&e.unbindPosition(),e.parentNode&&e.parentNode.removeChild(e))}},MH={inheritAttrs:!1,components:{Calendar:rH,CalendarTime:vH,CalendarRanges:CH},mixins:[GS],directives:{appendToBody:EH},emits:["update:modelValue","toggle","hoverDate","startSelection","select","change-month","finishSelection"],props:{modelValue:{type:Object},minDate:{type:[String,Date],default(){return null}},maxDate:{type:[String,Date],default(){return null}},showWeekNumbers:{type:Boolean,default:!1},linkedCalendars:{type:Boolean,default:!0},singleDatePicker:{type:[Boolean,String],default:!1},showDropdowns:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},timePickerIncrement:{type:Number,default:5},timePicker24Hour:{type:Boolean,default:!0},timePickerSeconds:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},localeData:{type:Object,default(){return{}}},dateRange:{type:[Object],default:null,required:!0},ranges:{type:[Object,Boolean],default(){let e=new Date;e.setHours(0,0,0,0);let t=new Date;t.setHours(11,59,59,999);let s=new Date;s.setDate(e.getDate()-1),s.setHours(0,0,0,0);let a=new Date;a.setDate(e.getDate()-1),a.setHours(11,59,59,999);let c=new Date(e.getFullYear(),e.getMonth(),1),h=new Date(e.getFullYear(),e.getMonth()+1,0,11,59,59,999);return{Today:[e,t],Yesterday:[s,a],"This month":[c,h],"This year":[new Date(e.getFullYear(),0,1),new Date(e.getFullYear(),11,31,11,59,59,999)],"Last month":[new Date(e.getFullYear(),e.getMonth()-1,1),new Date(e.getFullYear(),e.getMonth(),0,11,59,59,999)]}}},opens:{type:String,default:"center"},dateFormat:Function,alwaysShowCalendars:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},controlContainerClass:{type:[Object,String],default:"form-control reportrange-text"},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default(e,t,{width:s,top:a,left:c,right:h}){t.opens==="center"?e.style.left=c+s/2+"px":t.opens==="left"?e.style.right=window.innerWidth-h+"px":t.opens==="right"&&(e.style.left=c+"px"),e.style.top=a+"px"}},closeOnEsc:{type:Boolean,default:!0},readonly:{type:Boolean}},data(){const e=q8;let t={locale:e.localeData({...this.localeData})},s=this.dateRange.startDate||null,a=this.dateRange.endDate||null;if(t.monthDate=s?new Date(s):new Date,t.nextMonthDate=e.nextMonth(t.monthDate),t.start=s?new Date(s):null,this.singleDatePicker&&this.singleDatePicker!=="range"?t.end=t.start:t.end=a?new Date(a):null,t.in_selection=!1,t.open=!1,t.showCustomRangeCalendars=!1,t.locale.firstDay!==0){let c=t.locale.firstDay,h=[...t.locale.daysOfWeek];for(;c>0;)h.push(h.shift()),c--;t.locale.daysOfWeek=h}return t},methods:{dateFormatFn(e,t){let s=new Date(t);s.setHours(0,0,0,0);let a=new Date(this.start);a.setHours(0,0,0,0);let c=new Date(this.end);return c.setHours(0,0,0,0),e["in-range"]=s>=a&&s<=c,this.dateFormat?this.dateFormat(e,t):e},changeLeftMonth(e){let t=new Date(e.year,e.month-1,1);this.monthDate=t,(this.linkedCalendars||this.$dateUtil.yearMonth(this.monthDate)>=this.$dateUtil.yearMonth(this.nextMonthDate))&&(this.nextMonthDate=this.$dateUtil.validateDateRange(this.$dateUtil.nextMonth(t),this.minDate,this.maxDate),(!this.singleDatePicker||this.singleDatePicker==="range")&&this.$dateUtil.yearMonth(this.monthDate)===this.$dateUtil.yearMonth(this.nextMonthDate)&&(this.monthDate=this.$dateUtil.validateDateRange(this.$dateUtil.prevMonth(this.monthDate),this.minDate,this.maxDate))),this.$emit("change-month",this.monthDate,0)},changeRightMonth(e){let t=new Date(e.year,e.month-1,1);this.nextMonthDate=t,(this.linkedCalendars||this.$dateUtil.yearMonth(this.nextMonthDate)<=this.$dateUtil.yearMonth(this.monthDate))&&(this.monthDate=this.$dateUtil.validateDateRange(this.$dateUtil.prevMonth(t),this.minDate,this.maxDate),this.$dateUtil.yearMonth(this.monthDate)===this.$dateUtil.yearMonth(this.nextMonthDate)&&(this.nextMonthDate=this.$dateUtil.validateDateRange(this.$dateUtil.nextMonth(this.nextMonthDate),this.minDate,this.maxDate))),this.$emit("change-month",this.monthDate,1)},normalizeDatetime(e,t){let s=new Date(e);return this.timePicker&&t&&(s.setHours(t.getHours()),s.setMinutes(t.getMinutes()),s.setSeconds(t.getSeconds()),s.setMilliseconds(t.getMilliseconds())),s},dateClick(e){if(this.readonly)return!1;this.in_selection?(this.in_selection=!1,this.end=this.normalizeDatetime(e,this.end),this.end<this.start&&(this.in_selection=!0,this.start=this.normalizeDatetime(e,this.start),this.$emit("startSelection",this.start)),this.in_selection||(this.$emit("finishSelection",this.end),this.onSelect(),this.autoApply&&this.clickedApply())):(this.start=this.normalizeDatetime(e,this.start),this.end=this.normalizeDatetime(e,this.end),!this.singleDatePicker||this.singleDatePicker==="range"?(this.in_selection=!0,this.$emit("startSelection",this.start)):(this.onSelect(),this.autoApply&&this.clickedApply()))},hoverDate(e){if(this.readonly)return!1;let t=this.normalizeDatetime(e,this.end);this.in_selection&&t>=this.start&&(this.end=t),this.$emit("hoverDate",e)},onClickPicker(){this.disabled||this.togglePicker(null,!0)},togglePicker(e,t){typeof e=="boolean"?this.open=e:this.open=!this.open,t===!0&&this.$emit("toggle",this.open,this.togglePicker)},clickedApply(){this.togglePicker(!1,!0),this.$emit("update:modelValue",{startDate:this.start,endDate:this.singleDatePicker&&this.singleDatePicker!=="range"?this.start:this.end})},clickCancel(){if(this.open){let e=this.dateRange.startDate,t=this.dateRange.endDate;this.start=e?new Date(e):null,this.end=t?new Date(t):null,this.in_selection=!1,this.togglePicker(!1,!0)}},onSelect(){this.$emit("select",{startDate:this.start,endDate:this.end})},clickAway(e){e&&e.target&&!this.$el.contains(e.target)&&this.$refs.dropdown&&!this.$refs.dropdown.contains(e.target)&&this.clickCancel()},clickRange(e){this.in_selection=!1,this.$dateUtil.isValidDate(e[0])&&this.$dateUtil.isValidDate(e[1])?(this.start=this.$dateUtil.validateDateRange(new Date(e[0]),this.minDate,this.maxDate),this.end=this.$dateUtil.validateDateRange(new Date(e[1]),this.minDate,this.maxDate),this.changeLeftMonth({month:this.start.getMonth()+1,year:this.start.getFullYear()}),this.linkedCalendars===!1&&this.changeRightMonth({month:this.end.getMonth()+1,year:this.end.getFullYear()})):(this.start=null,this.end=null),this.onSelect(),this.autoApply&&this.clickedApply()},onUpdateStartTime(e){let t=new Date(this.start);t.setHours(e.hours),t.setMinutes(e.minutes),t.setSeconds(e.seconds),this.start=this.$dateUtil.validateDateRange(t,this.minDate,this.maxDate),this.autoApply&&this.$emit("update:modelValue",{startDate:this.start,endDate:this.singleDatePicker&&this.singleDatePicker!=="range"?this.start:this.end})},onUpdateEndTime(e){let t=new Date(this.end);t.setHours(e.hours),t.setMinutes(e.minutes),t.setSeconds(e.seconds),this.end=this.$dateUtil.validateDateRange(t,this.minDate,this.maxDate),this.autoApply&&this.$emit("update:modelValue",{startDate:this.start,endDate:this.end})},handleEscape(e){this.open&&e.keyCode===27&&this.closeOnEsc&&this.clickCancel()}},computed:{showRanges(){return this.ranges!==!1&&!this.readonly},showCalendars(){return this.alwaysShowCalendars||this.showCustomRangeCalendars},startText(){return this.start===null?"":this.$dateUtil.format(this.start,this.locale.format)},endText(){return this.end===null?"":this.$dateUtil.format(this.end,this.locale.format)},rangeText(){let e=this.startText;return(!this.singleDatePicker||this.singleDatePicker==="range")&&(e+=this.locale.separator+this.endText),e},min(){return this.minDate?new Date(this.minDate):null},max(){return this.maxDate?new Date(this.maxDate):null},pickerStyles(){return{"show-calendar":this.open||this.opens==="inline","show-ranges":this.showRanges,"show-weeknumbers":this.showWeekNumbers,single:this.singleDatePicker,["opens"+this.opens]:!0,linked:this.linkedCalendars,"hide-calendars":!this.showCalendars}},isClear(){return!this.dateRange.startDate||!this.dateRange.endDate},isDirty(){let e=new Date(this.dateRange.startDate),t=new Date(this.dateRange.endDate);return!this.isClear&&(this.start.getTime()!==e.getTime()||this.end.getTime()!==t.getTime())}},watch:{minDate(){let e=this.$dateUtil.validateDateRange(this.monthDate,this.minDate||new Date,this.maxDate);this.changeLeftMonth({year:e.getFullYear(),month:e.getMonth()+1})},maxDate(){let e=this.$dateUtil.validateDateRange(this.nextMonthDate,this.minDate,this.maxDate||new Date);this.changeRightMonth({year:e.getFullYear(),month:e.getMonth()+1})},"dateRange.startDate"(e){this.$dateUtil.isValidDate(new Date(e))&&(this.start=e&&!this.isClear&&this.$dateUtil.isValidDate(new Date(e))?new Date(e):null,this.isClear?(this.start=null,this.end=null):(this.start=new Date(this.dateRange.startDate),this.end=new Date(this.dateRange.endDate)))},"dateRange.endDate"(e){this.$dateUtil.isValidDate(new Date(e))&&(this.end=e&&!this.isClear?new Date(e):null,this.isClear?(this.start=null,this.end=null):(this.start=new Date(this.dateRange.startDate),this.end=new Date(this.dateRange.endDate)))},open:{handler(e){typeof document=="object"&&this.$nextTick(()=>{e?document.body.addEventListener("click",this.clickAway):document.body.removeEventListener("click",this.clickAway),e?document.addEventListener("keydown",this.handleEscape):document.removeEventListener("keydown",this.handleEscape),!this.alwaysShowCalendars&&this.ranges&&(this.showCustomRangeCalendars=!Object.keys(this.ranges).find(t=>this.$dateUtil.isSame(this.start,this.ranges[t][0],"date")&&this.$dateUtil.isSame(this.end,this.ranges[t][1],"date")))})},immediate:!0}}},Z8=e=>(Ul("data-v-577c3804"),e=e(),$l(),e),AH=Z8(()=>Ne("i",{class:"glyphicon glyphicon-calendar fa fa-calendar"},null,-1)),kH=Z8(()=>Ne("b",{class:"caret"},null,-1)),PH={class:"calendars"},DH={key:1,class:"calendars-container"},IH={class:"calendar-table"},LH={key:0,class:"drp-calendar col right"},OH={class:"calendar-table"},RH={key:0,class:"drp-buttons"},BH={key:0,class:"drp-selected"},zH=["disabled"];function NH(e,t,s,a,c,h){const m=Un("calendar-ranges"),n=Un("calendar"),x=Un("calendar-time"),z=yx("append-to-body");return yt(),St("div",{class:Xn(["vue-daterange-picker",{inline:s.opens==="inline"}])},[Ne("div",{class:Xn(s.controlContainerClass),onClick:t[0]||(t[0]=(...Y)=>h.onClickPicker&&h.onClickPicker(...Y)),ref:"toggle"},[Er(e.$slots,"input",{startDate:e.start,endDate:e.end,ranges:s.ranges,rangeText:h.rangeText},()=>[AH,mr("  "),Ne("span",null,Fi(h.rangeText),1),kH],!0)],2),Qi(s_,{name:"slide-fade",mode:"out-in"},{default:To(()=>[e.open||s.opens==="inline"?Os((yt(),St("div",{key:0,class:Xn(["daterangepicker ltr",h.pickerStyles]),ref:"dropdown"},[Er(e.$slots,"header",{rangeText:h.rangeText,locale:e.locale,clickCancel:h.clickCancel,clickApply:h.clickedApply,in_selection:e.in_selection,autoApply:s.autoApply},void 0,!0),Ne("div",PH,[h.showRanges?Er(e.$slots,"ranges",{key:0,startDate:e.start,endDate:e.end,ranges:s.ranges,clickRange:h.clickRange},()=>[Qi(m,{onClickRange:h.clickRange,onShowCustomRange:t[1]||(t[1]=Y=>e.showCustomRangeCalendars=!0),"always-show-calendars":s.alwaysShowCalendars,"locale-data":e.locale,ranges:s.ranges,selected:{startDate:e.start,endDate:e.end}},null,8,["onClickRange","always-show-calendars","locale-data","ranges","selected"])],!0):rn("",!0),h.showCalendars?(yt(),St("div",DH,[Ne("div",{class:Xn(["drp-calendar col left",{single:s.singleDatePicker}])},[rn("",!0),Ne("div",IH,[Qi(n,{monthDate:e.monthDate,"locale-data":e.locale,start:e.start,end:e.end,minDate:h.min,maxDate:h.max,"show-dropdowns":s.showDropdowns,onChangeMonth:h.changeLeftMonth,"date-format":h.dateFormatFn,onDateClick:h.dateClick,onHoverDate:h.hoverDate,showWeekNumbers:s.showWeekNumbers},{default:To(()=>[Er(e.$slots,"date",Nl(xp(e.data)),void 0,!0)]),_:3},8,["monthDate","locale-data","start","end","minDate","maxDate","show-dropdowns","onChangeMonth","date-format","onDateClick","onHoverDate","showWeekNumbers"])]),s.timePicker&&e.start?(yt(),ja(x,{key:1,onUpdate:h.onUpdateStartTime,"miniute-increment":s.timePickerIncrement,hour24:s.timePicker24Hour,"second-picker":s.timePickerSeconds,"current-time":e.start,readonly:s.readonly},null,8,["onUpdate","miniute-increment","hour24","second-picker","current-time","readonly"])):rn("",!0)],2),s.singleDatePicker?rn("",!0):(yt(),St("div",LH,[rn("",!0),Ne("div",OH,[Qi(n,{monthDate:e.nextMonthDate,"locale-data":e.locale,start:e.start,end:e.end,minDate:h.min,maxDate:h.max,"show-dropdowns":s.showDropdowns,onChangeMonth:h.changeRightMonth,"date-format":h.dateFormatFn,onDateClick:h.dateClick,onHoverDate:h.hoverDate,showWeekNumbers:s.showWeekNumbers},{default:To(()=>[Er(e.$slots,"date",Nl(xp(e.data)),void 0,!0)]),_:3},8,["monthDate","locale-data","start","end","minDate","maxDate","show-dropdowns","onChangeMonth","date-format","onDateClick","onHoverDate","showWeekNumbers"])]),s.timePicker&&e.end?(yt(),ja(x,{key:1,onUpdate:h.onUpdateEndTime,"miniute-increment":s.timePickerIncrement,hour24:s.timePicker24Hour,"second-picker":s.timePickerSeconds,"current-time":e.end,readonly:s.readonly},null,8,["onUpdate","miniute-increment","hour24","second-picker","current-time","readonly"])):rn("",!0)]))])):rn("",!0)]),Er(e.$slots,"footer",{rangeText:h.rangeText,locale:e.locale,clickCancel:h.clickCancel,clickApply:h.clickedApply,in_selection:e.in_selection,autoApply:s.autoApply},()=>[s.autoApply?rn("",!0):(yt(),St("div",RH,[h.showCalendars?(yt(),St("span",BH,Fi(h.rangeText),1)):rn("",!0),s.readonly?rn("",!0):(yt(),St("button",{key:1,class:"cancelBtn btn btn-sm btn-secondary",type:"button",onClick:t[2]||(t[2]=(...Y)=>h.clickCancel&&h.clickCancel(...Y))},Fi(e.locale.cancelLabel),1)),s.readonly?rn("",!0):(yt(),St("button",{key:2,class:"applyBtn btn btn-sm btn-success",disabled:e.in_selection,type:"button",onClick:t[3]||(t[3]=(...Y)=>h.clickedApply&&h.clickedApply(...Y))},Fi(e.locale.applyLabel),9,zH))]))],!0)],2)),[[z]]):rn("",!0)]),_:3})],2)}const FH=Jn(MH,[["render",NH],["__scopeId","data-v-577c3804"]]),jH={name:"DateRange",components:{DateRangePicker:FH},props:["from","to"],emits:["change"],data(){return{localFrom:this.from?on(Date.parse(this.from)).format("YYYY-MM-DD"):on(new Date).format("YYYY-MM-DD"),localTo:this.to?on(Date.parse(this.to)).format("YYYY-MM-DD"):on(new Date).format("YYYY-MM-DD"),dateRange:{startDate:this.from?Date.parse(this.from):new Date,endDate:this.to?Date.parse(this.to):new Date},locale:{direction:"ltr",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:on.weekdaysMin(),monthNames:on.monthsShort(),firstDay:1}}},methods:{updatePicker(e){this.localFrom=on(e.startDate).format("YYYY-MM-DD"),this.localTo=on(e.endDate).format("YYYY-MM-DD"),this.$emit("change",{from:this.localFrom,to:this.localTo})}}};function UH(e,t,s,a,c,h){const m=Un("date-range-picker");return yt(),St(en,null,[Qi(m,{ref:"picker",modelValue:c.dateRange,"onUpdate:modelValue":[t[0]||(t[0]=n=>c.dateRange=n),h.updatePicker],"auto-apply":"",dateRange:c.dateRange,"locale-data":c.locale,format:"DD/MM/YYYY"},null,8,["modelValue","onUpdate:modelValue","dateRange","locale-data"]),Os(Ne("input",{type:"hidden",name:"from","onUpdate:modelValue":t[1]||(t[1]=n=>c.localFrom=n)},null,512),[[Aa,c.localFrom]]),Os(Ne("input",{type:"hidden",name:"to","onUpdate:modelValue":t[2]||(t[2]=n=>c.localTo=n)},null,512),[[Aa,c.localTo]])],64)}const VS=Jn(jH,[["render",UH]]);V8(Fl);const $H={components:{highcharts:o0.Chart},props:{min:{type:Number,default:0},max:{type:Number,default:32},value:{type:Number,default:0},title:String},data(){return{options:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,height:300},title:{text:""},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:this.min,max:this.max,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#666",tickPixelInterval:30,tickWidth:0,tickPosition:"inside",tickLength:10,tickColor:"#666",labels:{step:2,distance:-50},title:{text:this.title,y:150},plotBands:[{from:0,to:this.max/8,color:"#576D7E",thickness:40},{from:this.max/8,to:this.max/8*2,color:"#34485C",thickness:40},{from:this.max/8*2,to:this.max/8*3,color:"#60C5B8",thickness:40},{from:this.max/8*3,to:this.max/8*4,color:"#25B39E",thickness:40},{from:this.max/8*4,to:this.max/8*5,color:"#FCD062",thickness:40},{from:this.max/8*5,to:this.max/8*6,color:"#F8B84E",thickness:40},{from:this.max/8*6,to:this.max/8*7,color:"#F17F53",thickness:40},{from:this.max/8*7,to:this.max/8*8,color:"#F05542",thickness:40}]}],series:[{name:this.title,data:[this.value],tooltip:{valueSuffix:" "}}]}}},methods:{},watch:{value:function(e,t){this.options.series[0].data=[e]}}};function GH(e,t,s,a,c,h){const m=Un("highcharts");return yt(),St("div",null,[Qi(m,{options:c.options},null,8,["options"])])}const VH=Jn($H,[["render",GH]]),HH={props:{value:Number,title:String},components:{highcharts:o0.Chart},watch:{value:function(e,t){this.options.series[0].data=[e]}},data(){return{options:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,height:300},title:{text:""},pane:{startAngle:0,endAngle:360,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{title:{text:this.title},min:1,max:360,lineColor:"#333",offset:-20,tickInterval:30,labels:{step:1,distance:5,rotation:"auto"}}],series:[{name:this.title,yAxis:0,data:[this.value],dial:{radius:"88%",baseWidth:10,baseLength:"0%",rearLength:0,borderWidth:1,borderColor:"#9A0000",backgroundColor:"#CC0000"},tooltip:{valueSuffix:"°"}}]}}}};function WH(e,t,s,a,c,h){const m=Un("highcharts");return yt(),St("div",null,[Qi(m,{options:c.options},null,8,["options"])])}const K8=Jn(HH,[["render",WH]]),YH={props:{url:String,fleet:Object},components:{SpeedoMeter:VH,Compass:K8},methods:{scaleBeafort(e){let t="";return e<=1?t="Calm":e>1&&e<3.9?t="Light Air":e>4&&e<6.9?t="Light Breeze":e>7&&e<10.9?t="Gentle breeze":e>11&&e<16.9?t="Moderate breeze":e>17&&e<21.9?t="Fresh breeze":e>22&&e<27.9?t="Strong breeze":e>28&&e<33.9?t="High wind":e>34&&e<40.9?t="Gale":e>41&&e<47.9?t="Strong/severe gale":e>48&&e<55.9?t="Storm":e>56&&e<63.9?t="Violent storm":t="Hurricane force",t}}},qH={class:"row"},XH={class:"col-3"},ZH={class:"col-3"},KH={class:"col-3"},JH={class:"col-3"};function QH(e,t,s,a,c,h){const m=Un("speedo-meter"),n=Un("compass");return yt(),St("div",qH,[Ne("div",XH,[Qi(m,{value:s.fleet.navigation.sog,max:32,title:"Speed (knot)"},null,8,["value"])]),Ne("div",ZH,[Qi(n,{value:s.fleet.navigation.cog,title:"Course (°)"},null,8,["value"])]),Ne("div",KH,[Qi(m,{value:s.fleet.navigation.wind_speed,max:80,title:h.scaleBeafort(s.fleet.navigation.wind_speed)},null,8,["value","title"])]),Ne("div",JH,[Qi(n,{value:s.fleet.navigation.wind_direction,title:"Wind Direction"},null,8,["value"])])])}const eW=Jn(YH,[["render",QH]]),tW={components:{FleetSpeedometer:eW},props:{url:String,mapping:Array,navUrl:String},data(){return{fleet:null,data:null}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(e=>e.data),this.data=await axios.get(this.navUrl).then(e=>e.data)},openRecomend(e){this.info=e},buildTooltip(e,t){return e.normal>t?"IS VERY LOW":e.danger<t?"IS VERY HIGH":"NORMAL"}}},iW={key:0},nW={key:0,class:"p-3"},sW={class:"row"},rW={class:"col-12"},oW=Ne("div",{class:"table-title"},[Ne("h6",null,"Navigation information")],-1),aW={class:"table table-sm"},lW=Ne("th",{scope:"row"},"•",-1),cW=Ne("td",null,"Updated at",-1),dW={class:"text-end"},hW=Ne("th",{scope:"row"},"•",-1),uW={class:"text-end"},pW=["onClick","title"],fW=Ne("img",{src:"/icon/danger.svg",height:"16"},null,-1),mW=[fW],gW=["innerHTML"];function _W(e,t,s,a,c,h){const m=Un("fleet-speedometer");return c.fleet?(yt(),St("div",iW,[Qi(m,{fleet:c.fleet},null,8,["fleet"]),c.data?(yt(),St("div",nW,[Ne("div",sW,[Ne("div",rW,[oW,Ne("table",aW,[Ne("tbody",null,[Ne("tr",null,[lW,cW,Ne("td",dW,Fi(c.data.terminal_time),1)]),(yt(!0),St(en,null,Kn(s.mapping,n=>(yt(),St("tr",{key:n.data},[hW,Ne("td",null,Fi(n.text),1),Ne("td",uW,[n.condition=="ABNORMAL"?(yt(),St("a",{key:0,href:"#",onClick:x=>h.openRecomend(n),"data-bs-toggle":"tooltip","data-bs-placement":"top",title:h.buildTooltip(n,c.data[n.data])},mW,8,pW)):rn("",!0),mr(" "+Fi(c.data[n.data])+" ",1),Ne("span",{innerHTML:n.unit},null,8,gW)])]))),128))])])])])])):rn("",!0)])):rn("",!0)}const yW=Jn(tW,[["render",_W]]),vW={props:{min:Number,max:Number,value:Number,normal:Number,danger:Number},data(){return{}},computed:{percentage(){return this.value/this.max*100},color(){let e="bg-success",t=this.value/this.max*100,s=this.normal/this.max*100,a=this.danger/this.max*100;return t>s&&t<a?e="bg-warning":t>a&&(e="bg-danger"),e}}},xW={class:"progress"};function bW(e,t,s,a,c,h){return yt(),St("div",xW,[Ne("div",{class:Xn(["progress-bar",h.color]),style:da({width:`${h.percentage}%`}),role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"},null,6)])}const wW=Jn(vW,[["render",bW]]),SW={components:{"progress-bar":wW},props:{fleet:Object,display:Boolean},data(){return{}},methods:{toggleText(){this.display=!this.display}}},TW={class:"voyage-section"},CW={key:0,class:"card voyage-card"},EW={class:"card-header justify-content-between"},MW=["src"],AW=Ne("h5",{class:"fw-normal m-0"},"Fleet Information",-1),kW={class:"card-body"},PW=Ne("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[Ne("li",{class:"nav-item",role:"presentation"},[Ne("button",{class:"nav-link justify-content-left active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"INFO")])],-1),DW={class:"tab-content",id:"pills-tabContent"},IW={class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},LW={class:"m12"},OW=Ne("div",{class:"st21"},"Name",-1),RW={class:"st22"},BW=["href"],zW=Ne("img",{width:"11",height:"11",src:"/img/icons/external-link.png",style:{"margin-left":"6px"}},null,-1),NW={class:"m12"},FW=Ne("div",{class:"st21"},"IMO Number",-1),jW={class:"st22"},UW={class:"m12"},$W=Ne("div",{class:"st21"},"Last Update",-1),GW={class:"st22"},VW={class:"m12"},HW=Ne("div",{class:"st21"},"Last Coordinates",-1),WW={class:"st22"},YW=["href"],qW=Ne("img",{width:"11",height:"11",src:"/img/icons/external-link.png",style:{"margin-left":"6px"}},null,-1),XW={class:"m12"},ZW=Ne("div",{class:"st21"},"Status",-1),KW={class:"st22"},JW={key:0,class:"m12"},QW=Ne("div",{class:"st21"},"At Port",-1),eY={class:"st22"},tY=Sd('<div class="m12"><div class="st21">Origin</div><div class="st22"></div></div><div class="m12"><div class="st21">Destination</div><div class="st22"></div></div><div class="m12"><div class="st21">ETA</div><div class="st22"></div></div><br>',4),iY=Ne("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[Ne("li",{class:"nav-item",role:"presentation"},[Ne("button",{class:"nav-link justify-content-left active",id:"pills-main-engine-tab","data-bs-toggle":"pill","data-bs-target":"#pills-main-engine",type:"button",role:"tab","aria-controls":"pills-main-engine","aria-selected":"true"},"Main Engine")]),Ne("li",{class:"nav-item",role:"presentation"},[Ne("button",{class:"nav-link justify-content-center",id:"pills-pump-tab","data-bs-toggle":"pill","data-bs-target":"#pills-pump",type:"button",role:"tab","aria-controls":"pills-pump","aria-selected":"false"},"Pump Status")])],-1),nY={class:"tab-content",id:"pills-tabContent"},sY={class:"tab-pane fade show active",id:"pills-main-engine",role:"tabpanel","aria-labelledby":"pills-main-engine-tab"},rY=Ne("div",{class:"tt01"},"Main Engine Latest Status",-1),oY={class:"st21"},aY={key:0},lY=["innerHTML"],cY={key:1},dY={class:"st22"},hY={class:"tab-pane",id:"pills-pump",role:"tabpanel","aria-labelledby":"pills-pump-tab"},uY=Ne("div",{class:"tt01"},"Cargo/Ballast/Stripping/Vacuum Pump",-1),pY={class:"st21"},fY={key:0},mY=["innerHTML"],gY={key:1},_Y={class:"st22"};function yY(e,t,s,a,c,h){const m=Un("progress-bar");return yt(),St("div",TW,[s.display?(yt(),St("div",CW,[Ne("div",EW,[Ne("button",{onClick:t[0]||(t[0]=n=>e.$emit("close",!0)),class:"btn btn-link bg-transparent p-0"},[Ne("img",{src:"/img/icons/close-fill.png",alt:""},null,8,MW)]),AW]),Ne("div",kW,[PW,Ne("div",DW,[Ne("div",IW,[Ne("div",LW,[OW,Ne("div",RW,[Ne("a",{href:`/fleet/${s.fleet.id}`,class:"d-flex align-items-center"},[mr(Fi(s.fleet.name)+" ",1),zW],8,BW)])]),Ne("div",NW,[FW,Ne("div",jW,Fi(s.fleet.imo_number),1)]),Ne("div",UW,[$W,Ne("div",GW,Fi(e.$filters.dateformat(s.fleet.last_connection))+" WIB",1)]),Ne("div",VW,[HW,Ne("div",WW,[Ne("a",{href:`/fleet/${s.fleet.id}/track`,class:"d-flex align-items-center"},[mr(Fi(s.fleet.navigation.lat.toFixed(4))+" "+Fi(s.fleet.navigation.lat_dir)+", "+Fi(s.fleet.navigation.lng.toFixed(4))+" "+Fi(s.fleet.navigation.lng_dir)+" ",1),qW],8,YW)])]),Ne("div",XW,[ZW,Ne("div",KW,Fi(s.fleet.fleet_status.replace("_"," ").toUpperCase()),1)]),s.fleet.fleet_status=="at_port"?(yt(),St("div",JW,[QW,Ne("div",eY,Fi(s.fleet.last_port),1)])):rn("",!0),tY,iY,Ne("div",nY,[Ne("div",sY,[rY,(yt(!0),St(en,null,Kn(s.fleet.engine_info,(n,x)=>(yt(),St("div",{class:"m13",key:x},[Ne("div",oY,[mr(Fi(n.title)+" ",1),n.value>0?(yt(),St("span",aY,[mr(Fi(e.$filters.number(n.value))+" ",1),Ne("span",{innerHTML:n.unit},null,8,lY)])):rn("",!0),mr(),n.value==0?(yt(),St("span",cY,"OFF")):rn("",!0)]),Ne("div",dY,[Qi(m,{min:n.min,warning:n.warning,danger:n.danger,max:n.max,value:n.value},null,8,["min","warning","danger","max","value"])])]))),128))]),Ne("div",hY,[uY,(yt(!0),St(en,null,Kn(s.fleet.cargo_pump_info,(n,x)=>(yt(),St("div",{class:"m13",key:x},[Ne("div",pY,[mr(Fi(n.title)+" ",1),n.value>0?(yt(),St("span",fY,[mr(Fi(e.$filters.number(n.value))+" ",1),Ne("span",{innerHTML:n.unit},null,8,mY)])):rn("",!0),mr(),n.value==0?(yt(),St("span",gY,"OFF")):rn("",!0)]),Ne("div",_Y,[Qi(m,{min:n.min,normal:n.normal,danger:n.danger,max:n.max,value:n.value},null,8,["min","normal","danger","max","value"])])]))),128))])])])])])])):rn("",!0)])}const vY=Jn(SW,[["render",yY]]),xY={name:"ChartSvg",props:{path:String,svgData:Object,height:Number},data(){return{scadavis:null,tags:[]}},async mounted(){await this.init(),Object.keys(this.svgData).forEach(e=>{this.setValue(e,this.svgData[e])})},created(){window.addEventListener("resize",this.resize)},destroyed(){window.removeEventListener("resize",this.resize)},watch:{svgData:function(e,t){let s=this;Object.keys(e).forEach(a=>{s.setValue(a,e[a])})}},methods:{async init(){this.scadavis=await scadavisInit({container:"scada-svg",svgurl:this.path}),this.scadavis.enableTools(!1,!0),this.scadavis.hideWatermark(),this.tags=this.scadavis.getTagsList().split(","),this.tags.forEach(e=>{this.scadavis.setValue(e,0)}),this.resize()},resize(){this.scadavis.zoomToOriginal();let e=this.$refs.cnsvg;this.scadavis.zoomTo(1*(e.clientWidth<e.clientHeight?e.clientWidth/600:e.clientHeight/600))},setValue(e,t){this.scadavis&&this.scadavis.setValue(e,t)}}};function bY(e,t,s,a,c,h){return yt(),St("div",null,[Ne("div",{id:"scada-svg",class:"scada",ref:"cnsvg",style:da({height:this.height+"px"})},null,4)])}const Hm=Jn(xY,[["render",bY]]),wY={props:{url:String},components:{ChartSvg:Hm},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(s=>{t.includes(s)||(this.data[s+"_bar"]=e[s]*1e3)})}}}},SY={key:0},TY={class:"container"},CY={class:"row"},EY={class:"col-12"};function MY(e,t,s,a,c,h){const m=Un("chart-svg");return c.fleet?(yt(),St("div",SY,[Ne("div",TY,[Ne("div",CY,[Ne("div",EY,[Qi(m,{path:"/svg/cargo_bargraph.svg",svgData:c.data,height:550},null,8,["svgData"])])])])])):rn("",!0)}const AY=Jn(wY,[["render",MY]]),kY={props:{url:String},components:{ChartSvg:Hm},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(s=>{t.includes(s)||(this.data[s+"_bar"]=e[s]*1e3)}),this.data.fleet_name=this.fleet.name}}}},PY={key:0},DY={class:"container"},IY={class:"row"},LY={class:"col-12"};function OY(e,t,s,a,c,h){const m=Un("chart-svg");return c.fleet?(yt(),St("div",PY,[Ne("div",DY,[Ne("div",IY,[Ne("div",LY,[Qi(m,{path:"/svg/bunker_bargraph.svg",svgData:c.data,height:550},null,8,["svgData"])])])])])):rn("",!0)}const RY=Jn(kY,[["render",OY]]),BY={props:{url:String},components:{ChartSvg:Hm},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(s=>{t.includes(s)||(this.data[s+"_bar"]=e[s]*1e3)}),this.data.fleet_name=this.fleet.name}}}},zY={key:0},NY={class:"container"},FY={class:"row"},jY={class:"col-12"};function UY(e,t,s,a,c,h){const m=Un("chart-svg");return c.fleet?(yt(),St("div",zY,[Ne("div",NY,[Ne("div",FY,[Ne("div",jY,[Qi(m,{path:"/svg/water_ballast_bargraph.svg",svgData:c.data,height:550},null,8,["svgData"])])])])])):rn("",!0)}const $Y=Jn(BY,[["render",UY]]),GY={props:{url:String},components:{ChartSvg:Hm},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.engine;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(s=>{t.includes(s)||(this.data[s+"_bar"]=e[s]*1e3)}),this.data.fleet_name=this.fleet.name}}}};function VY(e,t,s,a,c,h){const m=Un("chart-svg");return yt(),St("div",null,[Qi(m,{path:"/svg/engine-2.svg",svgData:c.data,height:550},null,8,["svgData"])])}const HY=Jn(GY,[["render",VY]]),WY={name:"UserPermission",props:{url:String},data(){return{permissions:[],checked:[],user_id:null}},mounted(){this.loadRole(),this.loadData()},methods:{async loadData(){let{data:e}=await axios.get(this.url);this.user_id=e.data.id,this.checked=e.data.permissions},async loadRole(){let{data:e}=await axios.get("/master/permission/json");this.permissions=e.data},async assignTo(){if(this.user_id){let{data:e}=await axios.post(`/master/user/${this.user_id}/update-permission`,{permission:this.checked});e.success&&alert("Success saved")}}}},YY={class:"form-group mb-3"},qY=Ne("label",null,"Permissions",-1),XY={class:"checkbox"},ZY={class:"ui-check"},KY=["value"],JY=Ne("i",{class:"dark-white"},null,-1),QY={class:"float-end"};function eq(e,t,s,a,c,h){return yt(),St("div",null,[Ne("div",YY,[qY,(yt(!0),St(en,null,Kn(c.permissions,m=>(yt(),St("div",XY,[Ne("label",ZY,[Os(Ne("input",{type:"checkbox",value:m.name,"onUpdate:modelValue":t[0]||(t[0]=n=>c.checked=n)},null,8,KY),[[kh,c.checked]]),JY,mr(" "+Fi(m.name),1)])]))),256))]),Ne("div",QY,[Ne("a",{class:"btn btn-primary",onClick:t[1]||(t[1]=(...m)=>h.assignTo&&h.assignTo(...m))},"Assign Permissions")])])}const tq=Jn(WY,[["render",eq]]),iq={name:"UserFleets",props:{url:String},data(){return{fleets:[],checked:[],user_id:null}},mounted(){this.loadFleet(),this.loadData()},methods:{async loadData(){let{data:e}=await axios.get(this.url);this.user_id=e.data.id,this.checked=e.data.fleets},async loadFleet(){let{data:e}=await axios.get("/master/fleets/data/json");this.fleets=e},async assignTo(){if(this.user_id){let{data:e}=await axios.post(`/master/user/${this.user_id}/update-fleet-access`,{fleet:this.checked});e.success&&alert("Success saved")}}}},nq={class:"form-group mb-3"},sq=Ne("label",null,"Fleets Access",-1),rq={class:"checkbox"},oq={class:"ui-check"},aq=["value"],lq=Ne("i",{class:"dark-white"},null,-1),cq={class:"float-end"};function dq(e,t,s,a,c,h){return yt(),St("div",null,[Ne("div",nq,[sq,(yt(!0),St(en,null,Kn(c.fleets,m=>(yt(),St("div",rq,[Ne("label",oq,[Os(Ne("input",{type:"checkbox",value:m.id,"onUpdate:modelValue":t[0]||(t[0]=n=>c.checked=n)},null,8,aq),[[kh,c.checked]]),lq,mr(" "+Fi(m.name),1)])]))),256))]),Ne("div",cq,[Ne("a",{class:"btn btn-primary",onClick:t[1]||(t[1]=(...m)=>h.assignTo&&h.assignTo(...m))},"Assign to Fleet")])])}const hq=Jn(iq,[["render",dq]]),uq={props:{title:String,url:String,fields:Array,show:Boolean,sensor:Object,iItem:Boolean},data(){return{data:{}}},mounted(){},watch:{sensor:{handler(e,t){this.data.fleet_id=e.fleet_id,this.data.sensor_name=e.sensor_name,e.doc!==null?(this.data.low_desc=e.doc.low_desc,this.data.high_desc=e.doc.high_desc):(this.data.low_desc=null,this.data.high_desc=null)},deep:!0}},methods:{async save(){let e=await axios.post(this.url,this.data).then(t=>t.data);e.error?this.$emit("saved",null):this.$emit("saved",e)}}},pq={class:"modal-dialog modal-dialog-centered",role:"document"},fq={class:"modal-content"},mq={class:"modal-header"},gq={class:"modal-title"},_q={class:"modal-body"},yq={key:0,class:"mb-2"},vq={class:"form-label"},xq=["onUpdate:modelValue"],bq=["value"],wq={class:"form-label"},Sq=["onUpdate:modelValue"],Tq=["value"],Cq={class:"form-label"},Eq=["onUpdate:modelValue"],Mq={key:3,class:"mb-2"},Aq={class:"form-label"},kq=["onUpdate:modelValue"],Pq={class:"modal-footer"};function Dq(e,t,s,a,c,h){return yt(),St("div",{class:Xn(["modal modal-blur modal-lg fade",{show:s.show}]),style:da({display:s.show?"block":"none"}),id:"modal-team",tabindex:"-1",role:"dialog","aria-hidden":"true"},[Ne("div",pq,[Ne("div",fq,[Ne("div",mq,[Ne("h5",gq,Fi(s.title),1),Ne("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=m=>s.show=!1)})]),Ne("div",_q,[(yt(!0),St(en,null,Kn(s.fields,(m,n)=>(yt(),St(en,{key:n},[m.editType=="select"?(yt(),St("div",yq,[Ne("label",vq,Fi(m.name),1),Os(Ne("select",{"onUpdate:modelValue":x=>c.data[m.field]=x,class:"form-select"},[(yt(!0),St(en,null,Kn(m.options,(x,z)=>(yt(),St("option",{value:x,key:z},Fi(x),9,bq))),128))],8,xq),[[$a,c.data[m.field]]])])):m.editType=="selectKeyVal"?(yt(),St(en,{key:1},[Ne("label",wq,Fi(m.name),1),Os(Ne("select",{"onUpdate:modelValue":x=>c.data[m.field]=x,class:"form-select"},[(yt(!0),St(en,null,Kn(m.options,(x,z)=>(yt(),St("option",{value:z,key:z},Fi(x),9,Tq))),128))],8,Sq),[[$a,c.data[m.field]]])],64)):m.editType=="textarea"?(yt(),St(en,{key:2},[Ne("label",Cq,Fi(m.name),1),Os(Ne("textarea",{"onUpdate:modelValue":x=>c.data[m.field]=x,rows:"6",class:"form-control"},null,8,Eq),[[Aa,c.data[m.field]]])],64)):(yt(),St("div",Mq,[Ne("label",Aq,Fi(m.name),1),Os(Ne("input",{type:"text",class:"form-control","onUpdate:modelValue":x=>c.data[m.field]=x},null,8,kq),[[Aa,c.data[m.field]]])]))],64))),128))]),Ne("div",Pq,[Ne("button",{onClick:t[1]||(t[1]=m=>s.show=!1),type:"button",class:"btn me-auto","data-bs-dismiss":"modal"},"Close"),Ne("button",{onClick:t[2]||(t[2]=(...m)=>h.save&&h.save(...m)),type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"},"Add")])])])],6)}const Iq=Jn(uq,[["render",Dq]]),Lq={props:{title:String,url:String,fields:Array,show:Boolean,fleet:Object},data(){return{data:{}}},mounted(){this.fields.forEach(e=>{this.data[e.field]=null}),this.fleet&&(this.data.fleet_id=this.fleet.fleetId,this.data.group=this.fleet.group,this.data.ordered=this.fleet.ordered)},methods:{async save(){let e=await axios.post(this.url,this.data).then(t=>t.data);e.error?this.$emit("saved",!1):this.$emit("saved",e)}}},Oq={class:"modal-dialog modal-dialog-centered",role:"document"},Rq={class:"modal-content"},Bq={class:"modal-header"},zq={class:"modal-title"},Nq={class:"modal-body"},Fq={key:0,class:"mb-2"},jq={class:"form-label"},Uq=["onUpdate:modelValue"],$q=["value"],Gq={class:"form-label"},Vq=["onUpdate:modelValue"],Hq=["value"],Wq={key:2,class:"mb-2"},Yq={class:"form-label"},qq=["onUpdate:modelValue"],Xq={class:"modal-footer"};function Zq(e,t,s,a,c,h){return yt(),St("div",{class:Xn(["modal modal-blur fade",{show:s.show}]),style:da({display:s.show?"block":"none"}),id:"modal-team",tabindex:"-1",role:"dialog","aria-hidden":"true"},[Ne("div",Oq,[Ne("div",Rq,[Ne("div",Bq,[Ne("h5",zq,Fi(s.title),1),Ne("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=m=>s.show=!1)})]),Ne("div",Nq,[(yt(!0),St(en,null,Kn(s.fields,(m,n)=>(yt(),St(en,{key:n},[m.editType=="select"?(yt(),St("div",Fq,[Ne("label",jq,Fi(m.name),1),Os(Ne("select",{"onUpdate:modelValue":x=>c.data[m.field]=x,class:"form-select"},[(yt(!0),St(en,null,Kn(m.options,(x,z)=>(yt(),St("option",{value:x,key:z},Fi(x),9,$q))),128))],8,Uq),[[$a,c.data[m.field]]])])):m.editType=="selectKeyVal"?(yt(),St(en,{key:1},[Ne("label",Gq,Fi(m.name),1),Os(Ne("select",{"onUpdate:modelValue":x=>c.data[m.field]=x,class:"form-select"},[(yt(!0),St(en,null,Kn(m.options,(x,z)=>(yt(),St("option",{value:z,key:z},Fi(x),9,Hq))),128))],8,Vq),[[$a,c.data[m.field]]])],64)):(yt(),St("div",Wq,[Ne("label",Yq,Fi(m.name),1),Os(Ne("input",{type:"text",class:"form-control","onUpdate:modelValue":x=>c.data[m.field]=x},null,8,qq),[[Aa,c.data[m.field]]])]))],64))),128))]),Ne("div",Xq,[Ne("button",{onClick:t[1]||(t[1]=m=>s.show=!1),type:"button",class:"btn me-auto","data-bs-dismiss":"modal"},"Close"),Ne("button",{onClick:t[2]||(t[2]=(...m)=>h.save&&h.save(...m)),type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"},"Add")])])])],6)}const Kq=Jn(Lq,[["render",Zq]]),Jq={components:{FormModal:Kq,FormModalDoc:Iq},props:{columns:Array,data:Array,editUrl:String,delUrl:String,docUrl:String,fleet:Object,editable:Boolean},data(){return{formShow:!1,docShow:!1,items:[],docColumns:[{name:"Lower Docs Alert",field:"low_desc",editType:"textarea"},{name:"higher Docs Alert",field:"high_desc",editType:"textarea"}],item:{},indexActive:0}},mounted(){this.data.forEach(e=>this.items.push(e)),this.items=this.items.map(e=>({...e,isEdit:!1}))},methods:{saved(e){e.isEdit=!1,this.items.push(e),this.formShow=!1},editRowHandler(e,t){this.items[t].isEdit=!this.items[t].isEdit},async saveRowHandler(e,t){this.items[t].isEdit=!this.items[t].isEdit,await axios.post(this.editUrl,e)},isFieldSlot(e){return!!this.$slots[e]},del(e,t){let s=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(a=>{a.isConfirmed&&(axios.delete(s.delUrl+"/"+e.id),s.items.splice(t,1),s.$swal("Deleted!","Your file has been deleted.","success"))})},editDoc(e,t){this.indexActive=t,this.item=e,this.docShow=!0},docSaved(e){this.items[this.indexActive].doc=e}}},Qq={key:0,class:"action-edit"},eX={class:"table-responsive"},tX={class:"table table-vcenter card-table"},iX=Ne("th",null,"No",-1),nX={key:0},sX=["onUpdate:modelValue"],rX=["value"],oX=["onUpdate:modelValue"],aX=["value"],lX=["onUpdate:modelValue"],cX={key:4},dX=["innerHTML"],hX={key:1},uX={key:0},pX=["onClick"],fX=["onClick"],mX=["onClick"],gX=["onClick"];function _X(e,t,s,a,c,h){const m=Un("form-modal"),n=Un("form-modal-doc");return yt(),St(en,null,[Qi(m,{fields:s.columns,title:"Add Data",url:s.editUrl,show:c.formShow,fleet:s.fleet,onSaved:h.saved},null,8,["fields","url","show","fleet","onSaved"]),Qi(n,{fields:c.docColumns,title:"Add/Edit Document Alert",url:s.docUrl,show:c.docShow,sensor:c.item,onSaved:h.docSaved},null,8,["fields","url","show","sensor","onSaved"]),s.editable?(yt(),St("div",Qq,[Ne("button",{type:"button",class:"btn btn-info",onClick:t[0]||(t[0]=x=>c.formShow=!0)},"Add Data")])):rn("",!0),Ne("div",eX,[Ne("table",tX,[Ne("thead",null,[Ne("tr",null,[iX,(yt(!0),St(en,null,Kn(s.columns,(x,z)=>(yt(),St("th",{key:z},Fi(x.name),1))),128)),s.editable?(yt(),St("th",nX)):rn("",!0)])]),Ne("tbody",null,[(yt(!0),St(en,null,Kn(c.items,(x,z)=>(yt(),St("tr",{key:x.id},[Ne("td",null,Fi(1+z),1),(yt(!0),St(en,null,Kn(s.columns,(Y,O)=>(yt(),St("td",{key:O},[h.isFieldSlot(Y.field)?Er(e.$slots,Y.field,{key:0,rowData:x,rowIndex:z,rowField:Y}):Y.editType=="select"&&x.isEdit?Os((yt(),St("select",{key:1,"onUpdate:modelValue":V=>c.items[z][Y.field]=V,class:"form-select"},[(yt(!0),St(en,null,Kn(Y.options,(V,q)=>(yt(),St("option",{value:V,key:q},Fi(V),9,rX))),128))],8,sX)),[[$a,c.items[z][Y.field]]]):Y.editType=="selectKeyVal"&&x.isEdit?Os((yt(),St("select",{key:2,"onUpdate:modelValue":V=>c.items[z][Y.field]=V,class:"form-select"},[(yt(!0),St(en,null,Kn(Y.options,(V,q)=>(yt(),St("option",{value:q,key:q},Fi(V),9,aX))),128))],8,oX)),[[$a,c.items[z][Y.field]]]):x.isEdit?Os((yt(),St("input",{key:3,type:"text",class:"form-control","onUpdate:modelValue":V=>c.items[z][Y.field]=V},null,8,lX)),[[Aa,c.items[z][Y.field]]]):typeof Y.display=="function"?(yt(),St("span",cX,Fi(Y.display(x)),1)):(yt(),St(en,{key:5},[Y.isHtml?(yt(),St("span",{key:0,innerHTML:x[Y.field]},null,8,dX)):(yt(),St("span",hX,Fi(x[Y.field]),1))],64))]))),128)),s.editable?(yt(),St("td",uX,[x.isEdit?rn("",!0):(yt(),St("a",{key:0,href:"#",onClick:Y=>h.editRowHandler(x,z)},"Edit",8,pX)),x.isEdit?(yt(),St("a",{key:1,href:"#",onClick:Y=>h.saveRowHandler(x,z)},"Done",8,fX)):rn("",!0),mr(" | "),Ne("a",{href:"#",onClick:Y=>h.del(x,z)},"Delete",8,mX),mr(" | "),Ne("a",{href:"#",onClick:Y=>h.editDoc(x,z)},"Docs",8,gX)])):rn("",!0)]))),128))])])])],64)}const yX=Jn(Jq,[["render",_X]]);var J8={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function s(a,c,h,m){a.hasOwnProperty(c)||(a[c]=m.apply(null,h),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:c,module:a[c]}})))}t=t?t._modules:{},s(t,"Core/Chart/ChartNavigationComposition.js",[],function(){var a;return function(c){c.compose=function(m){return m.navigation||(m.navigation=new h(m)),m};class h{constructor(n){this.updates=[],this.chart=n}addUpdate(n){this.chart.navigation.updates.push(n)}update(n,x){this.updates.forEach(z=>{z.call(this.chart,n,x)})}}c.Additions=h}(a||(a={})),a}),s(t,"Extensions/Exporting/ExportingDefaults.js",[t["Core/Globals.js"]],function(a){return{isTouchDevice:a}=a,{exporting:{allowTableSorting:!0,type:"image/png",url:"https://export.highcharts.com/",pdfFont:{normal:void 0,bold:void 0,bolditalic:void 0,italic:void 0},printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:"viewFullscreen printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen&&this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:14.5,symbolY:13.5,align:"right",buttonSpacing:3,height:28,verticalAlign:"top",width:28,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{padding:5}},menuStyle:{border:"none",borderRadius:"3px",background:"#ffffff",padding:"0.5em"},menuItemStyle:{background:"none",borderRadius:"3px",color:"#333333",padding:"0.5em",fontSize:a?"0.9em":"0.8em",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#f2f2f2"}}}}),s(t,"Extensions/Exporting/ExportingSymbols.js",[],function(){var a;return function(c){function h(x,z,Y,O){return[["M",x,z+2.5],["L",x+Y,z+2.5],["M",x,z+O/2+.5],["L",x+Y,z+O/2+.5],["M",x,z+O-1.5],["L",x+Y,z+O-1.5]]}function m(x,z,Y,O){return x=O/3-2,O=[],O=O.concat(this.circle(Y-x,z,x,x),this.circle(Y-x,z+x+4,x,x),this.circle(Y-x,z+2*(x+4),x,x))}const n=[];c.compose=function(x){n.indexOf(x)===-1&&(n.push(x),x=x.prototype.symbols,x.menu=h,x.menuball=m.bind(x))}}(a||(a={})),a}),s(t,"Extensions/Exporting/Fullscreen.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Utilities.js"]],function(a,c){function h(){this.fullscreen=new z(this)}const{addEvent:m,fireEvent:n}=c,x=[];class z{static compose(O){c.pushUnique(x,O)&&m(O,"beforeRender",h)}constructor(O){this.chart=O,this.isOpen=!1,O=O.renderTo,this.browserProps||(typeof O.requestFullscreen=="function"?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:O.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:O.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:O.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}close(){const O=this,V=O.chart,q=V.options.chart;n(V,"fullscreenClose",null,function(){O.isOpen&&O.browserProps&&V.container.ownerDocument instanceof Document&&V.container.ownerDocument[O.browserProps.exitFullscreen](),O.unbindFullscreenEvent&&(O.unbindFullscreenEvent=O.unbindFullscreenEvent()),V.setSize(O.origWidth,O.origHeight,!1),O.origWidth=void 0,O.origHeight=void 0,q.width=O.origWidthOption,q.height=O.origHeightOption,O.origWidthOption=void 0,O.origHeightOption=void 0,O.isOpen=!1,O.setButtonText()})}open(){const O=this,V=O.chart,q=V.options.chart;n(V,"fullscreenOpen",null,function(){if(q&&(O.origWidthOption=q.width,O.origHeightOption=q.height),O.origWidth=V.chartWidth,O.origHeight=V.chartHeight,O.browserProps){const L=m(V.container.ownerDocument,O.browserProps.fullscreenChange,function(){O.isOpen?(O.isOpen=!1,O.close()):(V.setSize(null,null,!1),O.isOpen=!0,O.setButtonText())}),I=m(V,"destroy",L);O.unbindFullscreenEvent=()=>{L(),I()};const H=V.renderTo[O.browserProps.requestFullscreen]();H&&H.catch(function(){alert("Full screen is not supported inside a frame.")})}})}setButtonText(){var O=this.chart,V=O.exportDivElements;const q=O.options.exporting,L=q&&q.buttons&&q.buttons.contextButton.menuItems;O=O.options.lang,q&&q.menuItemDefinitions&&O&&O.exitFullscreen&&O.viewFullscreen&&L&&V&&(V=V[L.indexOf("viewFullscreen")])&&a.setElementHTML(V,this.isOpen?O.exitFullscreen:q.menuItemDefinitions.viewFullscreen.text||O.viewFullscreen)}toggle(){this.isOpen?this.close():this.open()}}return z}),s(t,"Core/HttpUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(a,c){const{doc:h}=a,{createElement:m,discardElement:n,merge:x,objectEach:z}=c,Y={ajax:function(O){const V={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},q=new XMLHttpRequest;if(!O.url)return!1;q.open((O.type||"get").toUpperCase(),O.url,!0),O.headers&&O.headers["Content-Type"]||q.setRequestHeader("Content-Type",V[O.dataType||"json"]||V.text),z(O.headers,function(L,I){q.setRequestHeader(I,L)}),O.responseType&&(q.responseType=O.responseType),q.onreadystatechange=function(){let L;if(q.readyState===4){if(q.status===200){if(O.responseType!=="blob"&&(L=q.responseText,O.dataType==="json"))try{L=JSON.parse(L)}catch(I){if(I instanceof Error){O.error&&O.error(q,I);return}}return O.success&&O.success(L,q)}O.error&&O.error(q,q.responseText)}},O.data&&typeof O.data!="string"&&(O.data=JSON.stringify(O.data)),q.send(O.data)},getJSON:function(O,V){Y.ajax({url:O,success:V,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(O,V,q){const L=m("form",x({method:"post",action:O,enctype:"multipart/form-data"},q),{display:"none"},h.body);z(V,function(I,H){m("input",{type:"hidden",name:H,value:I},void 0,L)}),L.submit(),n(L)}};return Y}),s(t,"Extensions/Exporting/Exporting.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Chart/Chart.js"],t["Core/Chart/ChartNavigationComposition.js"],t["Core/Defaults.js"],t["Extensions/Exporting/ExportingDefaults.js"],t["Extensions/Exporting/ExportingSymbols.js"],t["Extensions/Exporting/Fullscreen.js"],t["Core/Globals.js"],t["Core/HttpUtilities.js"],t["Core/Utilities.js"]],function(a,c,h,m,n,x,z,Y,O,V){const{defaultOptions:q,setOptions:L}=m,{doc:I,SVG_NS:H,win:M}=Y,{addEvent:C,css:A,createElement:U,discardElement:$,extend:E,find:ee,fireEvent:Q,isObject:N,merge:j,objectEach:W,pick:S,removeEvent:P,uniqueKey:f}=V;var g;return function(b){function D(qe){const Te=this,Oe=Te.renderer,ze=j(Te.options.navigation.buttonOptions,qe),Xe=ze.onclick,Ke=ze.menuItems,pt=ze.symbolSize||12;let Tt;if(Te.btnCount||(Te.btnCount=0),Te.exportDivElements||(Te.exportDivElements=[],Te.exportSVGElements=[]),ze.enabled!==!1&&ze.theme){var Bt=ze.theme,ci;Te.styledMode||(Bt.fill=S(Bt.fill,"#ffffff"),Bt.stroke=S(Bt.stroke,"none")),Xe?ci=function(ui){ui&&ui.stopPropagation(),Xe.call(Te,ui)}:Ke&&(ci=function(ui){ui&&ui.stopPropagation(),Te.contextMenu(Wt.menuClassName,Ke,Wt.translateX,Wt.translateY,Wt.width,Wt.height,Wt),Wt.setState(2)}),ze.text&&ze.symbol?Bt.paddingLeft=S(Bt.paddingLeft,30):ze.text||E(Bt,{width:ze.width,height:ze.height,padding:0}),Te.styledMode||(Bt["stroke-linecap"]="round",Bt.fill=S(Bt.fill,"#ffffff"),Bt.stroke=S(Bt.stroke,"none"));var Wt=Oe.button(ze.text,0,0,ci,Bt,void 0,void 0,void 0,void 0,ze.useHTML).addClass(qe.className).attr({title:S(Te.options.lang[ze._titleKey||ze.titleKey],"")});Wt.menuClassName=qe.menuClassName||"highcharts-menu-"+Te.btnCount++,ze.symbol&&(Tt=Oe.symbol(ze.symbol,ze.symbolX-pt/2,ze.symbolY-pt/2,pt,pt,{width:pt,height:pt}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(Wt),Te.styledMode||Tt.attr({stroke:ze.symbolStroke,fill:ze.symbolFill,"stroke-width":ze.symbolStrokeWidth||1})),Wt.add(Te.exportingGroup).align(E(ze,{width:Wt.width,x:S(ze.x,Te.buttonOffset)}),!0,"spacingBox"),Te.buttonOffset+=(Wt.width+ze.buttonSpacing)*(ze.align==="right"?-1:1),Te.exportSVGElements.push(Wt,Tt)}}function X(){if(this.printReverseInfo){var{childNodes:qe,origDisplay:Te,resetParams:Oe}=this.printReverseInfo;this.moveContainers(this.renderTo),[].forEach.call(qe,function(ze,Xe){ze.nodeType===1&&(ze.style.display=Te[Xe]||"")}),this.isPrinting=!1,Oe&&this.setSize.apply(this,Oe),delete this.printReverseInfo,Qe=void 0,Q(this,"afterPrint")}}function te(){const qe=I.body,Te=this.options.exporting.printMaxWidth,Oe={childNodes:qe.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer.reset(null,0),Q(this,"beforePrint"),Te&&this.chartWidth>Te&&(Oe.resetParams=[this.options.chart.width,void 0,!1],this.setSize(Te,void 0,!1)),[].forEach.call(Oe.childNodes,function(ze,Xe){ze.nodeType===1&&(Oe.origDisplay[Xe]=ze.style.display,ze.style.display="none")}),this.moveContainers(qe),this.printReverseInfo=Oe}function Z(qe){qe.renderExporting(),C(qe,"redraw",qe.renderExporting),C(qe,"destroy",qe.destroyExport)}function de(qe,Te,Oe,ze,Xe,Ke,pt){const Tt=this,Bt=Tt.options.navigation,ci=Tt.chartWidth,Wt=Tt.chartHeight,ui="cache-"+qe,ji=Math.max(Xe,Ke);let Ii,wi=Tt[ui];wi||(Tt.exportContextMenu=Tt[ui]=wi=U("div",{className:qe},{position:"absolute",zIndex:1e3,padding:ji+"px",pointerEvents:"auto"},Tt.fixedDiv||Tt.container),Ii=U("ul",{className:"highcharts-menu"},Tt.styledMode?{}:{listStyle:"none",margin:0,padding:0},wi),Tt.styledMode||A(Ii,E({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},Bt.menuStyle)),wi.hideMenu=function(){A(wi,{display:"none"}),pt&&pt.setState(0),Tt.openMenu=!1,A(Tt.renderTo,{overflow:"hidden"}),A(Tt.container,{overflow:"hidden"}),V.clearTimeout(wi.hideTimer),Q(Tt,"exportMenuHidden")},Tt.exportEvents.push(C(wi,"mouseleave",function(){wi.hideTimer=M.setTimeout(wi.hideMenu,500)}),C(wi,"mouseenter",function(){V.clearTimeout(wi.hideTimer)}),C(I,"mouseup",function(Ci){Tt.pointer.inClass(Ci.target,qe)||wi.hideMenu()}),C(wi,"click",function(){Tt.openMenu&&wi.hideMenu()})),Te.forEach(function(Ci){if(typeof Ci=="string"&&(Ci=Tt.options.exporting.menuItemDefinitions[Ci]),N(Ci,!0)){let sn;Ci.separator?sn=U("hr",void 0,void 0,Ii):(Ci.textKey==="viewData"&&Tt.isDataTableVisible&&(Ci.textKey="hideData"),sn=U("li",{className:"highcharts-menu-item",onclick:function(vn){vn&&vn.stopPropagation(),wi.hideMenu(),Ci.onclick&&Ci.onclick.apply(Tt,arguments)}},void 0,Ii),a.setElementHTML(sn,Ci.text||Tt.options.lang[Ci.textKey]),Tt.styledMode||(sn.onmouseover=function(){A(this,Bt.menuItemHoverStyle)},sn.onmouseout=function(){A(this,Bt.menuItemStyle)},A(sn,E({cursor:"pointer"},Bt.menuItemStyle||{})))),Tt.exportDivElements.push(sn)}}),Tt.exportDivElements.push(Ii,wi),Tt.exportMenuWidth=wi.offsetWidth,Tt.exportMenuHeight=wi.offsetHeight),Te={display:"block"},Oe+Tt.exportMenuWidth>ci?Te.right=ci-Oe-Xe-ji+"px":Te.left=Oe-ji+"px",ze+Ke+Tt.exportMenuHeight>Wt&&pt.alignOptions.verticalAlign!=="top"?Te.bottom=Wt-ze-ji+"px":Te.top=ze+Ke-ji+"px",A(wi,Te),A(Tt.renderTo,{overflow:""}),A(Tt.container,{overflow:""}),Tt.openMenu=!0,Q(Tt,"exportMenuShown")}function ge(qe){const Te=qe?qe.target:this,Oe=Te.exportSVGElements,ze=Te.exportDivElements;qe=Te.exportEvents;let Xe;Oe&&(Oe.forEach((Ke,pt)=>{Ke&&(Ke.onclick=Ke.ontouchstart=null,Xe="cache-"+Ke.menuClassName,Te[Xe]&&delete Te[Xe],Oe[pt]=Ke.destroy())}),Oe.length=0),Te.exportingGroup&&(Te.exportingGroup.destroy(),delete Te.exportingGroup),ze&&(ze.forEach(function(Ke,pt){Ke&&(V.clearTimeout(Ke.hideTimer),P(Ke,"mouseleave"),ze[pt]=Ke.onmouseout=Ke.onmouseover=Ke.ontouchstart=Ke.onclick=null,$(Ke))}),ze.length=0),qe&&(qe.forEach(function(Ke){Ke()}),qe.length=0)}function Ce(qe,Te){Te=this.getSVGForExport(qe,Te),qe=j(this.options.exporting,qe),O.post(qe.url,{filename:qe.filename?qe.filename.replace(/\//g,"-"):this.getFilename(),type:qe.type,width:qe.width,scale:qe.scale,svg:Te},qe.formAttributes)}function J(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function oe(){const qe=this.userOptions.title&&this.userOptions.title.text;let Te=this.options.exporting.filename;return Te?Te.replace(/\//g,"-"):(typeof qe=="string"&&(Te=qe.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!Te||5>Te.length)&&(Te="chart"),Te)}function ce(qe){let Te,Oe=j(this.options,qe);Oe.plotOptions=j(this.userOptions.plotOptions,qe&&qe.plotOptions),Oe.time=j(this.userOptions.time,qe&&qe.time);const ze=U("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},I.body);var Xe=this.renderTo.style.width,Ke=this.renderTo.style.height;Xe=Oe.exporting.sourceWidth||Oe.chart.width||/px$/.test(Xe)&&parseInt(Xe,10)||(Oe.isGantt?800:600),Ke=Oe.exporting.sourceHeight||Oe.chart.height||/px$/.test(Ke)&&parseInt(Ke,10)||400,E(Oe.chart,{animation:!1,renderTo:ze,forExport:!0,renderer:"SVGRenderer",width:Xe,height:Ke}),Oe.exporting.enabled=!1,delete Oe.data,Oe.series=[],this.series.forEach(function(Bt){Te=j(Bt.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:Bt.visible}),Te.isInternal||Oe.series.push(Te)});const pt={};this.axes.forEach(function(Bt){Bt.userOptions.internalKey||(Bt.userOptions.internalKey=f()),Bt.options.isInternal||(pt[Bt.coll]||(pt[Bt.coll]=!0,Oe[Bt.coll]=[]),Oe[Bt.coll].push(j(Bt.userOptions,{visible:Bt.visible})))});const Tt=new this.constructor(Oe,this.callback);return qe&&["xAxis","yAxis","series"].forEach(function(Bt){const ci={};qe[Bt]&&(ci[Bt]=qe[Bt],Tt.update(ci))}),this.axes.forEach(function(Bt){const ci=ee(Tt.axes,function(ji){return ji.options.internalKey===Bt.userOptions.internalKey});var Wt=Bt.getExtremes();const ui=Wt.userMin;Wt=Wt.userMax,ci&&(typeof ui<"u"&&ui!==ci.min||typeof Wt<"u"&&Wt!==ci.max)&&ci.setExtremes(ui,Wt,!0,!1)}),Ke=Tt.getChartHTML(),Q(this,"getSVG",{chartCopy:Tt}),Ke=this.sanitizeSVG(Ke,Oe),Oe=null,Tt.destroy(),$(ze),Ke}function pe(qe,Te){const Oe=this.options.exporting;return this.getSVG(j({chart:{borderRadius:0}},Oe.chartOptions,Te,{exporting:{sourceWidth:qe&&qe.sourceWidth||Oe.sourceWidth,sourceHeight:qe&&qe.sourceHeight||Oe.sourceHeight}}))}function Ee(qe){return qe.replace(/([A-Z])/g,function(Te,Oe){return"-"+Oe.toLowerCase()})}function ne(){function qe(Tt){const Bt={};let ci,Wt;if(pt&&Tt.nodeType===1&&rt.indexOf(Tt.nodeName)===-1){if(ci=M.getComputedStyle(Tt,null),Wt=Tt.nodeName==="svg"?{}:M.getComputedStyle(Tt.parentNode,null),!ze[Tt.nodeName]){Xe=pt.getElementsByTagName("svg")[0];var ui=pt.createElementNS(Tt.namespaceURI,Tt.nodeName);Xe.appendChild(ui);var ji=M.getComputedStyle(ui,null),Ii={};for(var wi in ji)typeof ji[wi]!="string"||/^[0-9]+$/.test(wi)||(Ii[wi]=ji[wi]);ze[Tt.nodeName]=Ii,Tt.nodeName==="text"&&delete ze.text.fill,Xe.removeChild(ui)}for(const sn in ci)if(Y.isFirefox||Y.isMS||Y.isSafari||Object.hasOwnProperty.call(ci,sn)){wi=ci[sn];var Ci=sn;if(ui=ji=!1,Oe.length){for(Ii=Oe.length;Ii--&&!ji;)ji=Oe[Ii].test(Ci);ui=!ji}for(Ci==="transform"&&wi==="none"&&(ui=!0),Ii=Te.length;Ii--&&!ui;)ui=Te[Ii].test(Ci)||typeof wi=="function";ui||Wt[Ci]===wi&&Tt.nodeName!=="svg"||ze[Tt.nodeName][Ci]===wi||($e&&$e.indexOf(Ci)===-1?Bt[Ci]=wi:wi&&Tt.setAttribute(Ee(Ci),wi))}A(Tt,Bt),Tt.nodeName==="svg"&&Tt.setAttribute("stroke-width","1px"),Tt.nodeName!=="text"&&[].forEach.call(Tt.children||Tt.childNodes,qe)}}const Te=Le,Oe=b.inlineAllowlist,ze={};let Xe;const Ke=I.createElement("iframe");A(Ke,{width:"1px",height:"1px",visibility:"hidden"}),I.body.appendChild(Ke);const pt=Ke.contentWindow&&Ke.contentWindow.document;pt&&pt.body.appendChild(pt.createElementNS(H,"svg")),qe(this.container.querySelector("svg")),Xe.parentNode.removeChild(Xe),Ke.parentNode.removeChild(Ke)}function ye(qe){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach(function(Te){qe.appendChild(Te)})}function _e(){const qe=this;qe.exporting={update:function(Te,Oe){qe.isDirtyExporting=!0,j(!0,qe.options.exporting,Te),S(Oe,!0)&&qe.redraw()}},h.compose(qe).navigation.addUpdate((Te,Oe)=>{qe.isDirtyExporting=!0,j(!0,qe.options.navigation,Te),S(Oe,!0)&&qe.redraw()})}function ae(){const qe=this;qe.isPrinting||(Qe=qe,Y.isSafari||qe.beforePrint(),setTimeout(()=>{M.focus(),M.print(),Y.isSafari||setTimeout(()=>{qe.afterPrint()},1e3)},1))}function me(){const qe=this,Te=qe.options.exporting,Oe=Te.buttons,ze=qe.isDirtyExporting||!qe.exportSVGElements;qe.buttonOffset=0,qe.isDirtyExporting&&qe.destroyExport(),ze&&Te.enabled!==!1&&(qe.exportEvents=[],qe.exportingGroup=qe.exportingGroup||qe.renderer.g("exporting-group").attr({zIndex:3}).add(),W(Oe,function(Xe){qe.addButton(Xe)}),qe.isDirtyExporting=!1)}function we(qe,Te){const Oe=qe.indexOf("</svg>")+6;let ze=qe.substr(Oe);return qe=qe.substr(0,Oe),Te&&Te.exporting&&Te.exporting.allowHTML&&ze&&(ze='<foreignObject x="0" y="0" width="'+Te.chart.width+'" height="'+Te.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+ze.replace(/(<(?:img|br).*?(?=>))>/g,"$1 />")+"</body></foreignObject>",qe=qe.replace("</svg>",ze+"</svg>")),qe=qe.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;);?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­")}const Re=[],Le=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/^parentRule$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/,/^[0-9]+$/],$e="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" ");b.inlineAllowlist=[];const rt=["clipPath","defs","desc"];let Qe;b.compose=function(qe,Te){x.compose(Te),z.compose(qe),V.pushUnique(Re,qe)&&(Te=qe.prototype,Te.afterPrint=X,Te.exportChart=Ce,Te.inlineStyles=ne,Te.print=ae,Te.sanitizeSVG=we,Te.getChartHTML=J,Te.getSVG=ce,Te.getSVGForExport=pe,Te.getFilename=oe,Te.moveContainers=ye,Te.beforePrint=te,Te.contextMenu=de,Te.addButton=D,Te.destroyExport=ge,Te.renderExporting=me,Te.callbacks.push(Z),C(qe,"init",_e),Y.isSafari&&Y.win.matchMedia("print").addListener(function(Oe){Qe&&(Oe.matches?Qe.beforePrint():Qe.afterPrint())})),V.pushUnique(Re,L)&&(q.exporting=j(n.exporting,q.exporting),q.lang=j(n.lang,q.lang),q.navigation=j(n.navigation,q.navigation))}}(g||(g={})),g}),s(t,"masters/modules/exporting.src.js",[t["Core/Globals.js"],t["Extensions/Exporting/Exporting.js"],t["Core/HttpUtilities.js"]],function(a,c,h){a.HttpUtilities=h,a.ajax=h.ajax,a.getJSON=h.getJSON,a.post=h.post,c.compose(a.Chart,a.Renderer)})})})(J8);var vX=J8.exports;const Q8=wd(vX),ek=["#2f7ed8","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a","#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1","#0d233a"];var tk={exports:{}};(function(e,t){(function(s,a){e.exports=a()})(la,function(){var s="__v-click-outside",a=typeof window<"u",c=typeof navigator<"u",h=a&&("ontouchstart"in window||c&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],m=function(Y){var O=Y.event,V=Y.handler;(0,Y.middleware)(O)&&V(O)},n=function(Y,O){var V=function(C){var A=typeof C=="function";if(!A&&typeof C!="object")throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:A?C:C.handler,middleware:C.middleware||function(U){return U},events:C.events||h,isActive:C.isActive!==!1,detectIframe:C.detectIframe!==!1,capture:!!C.capture}}(O.value),q=V.handler,L=V.middleware,I=V.detectIframe,H=V.capture;if(V.isActive){if(Y[s]=V.events.map(function(C){return{event:C,srcTarget:document.documentElement,handler:function(A){return function(U){var $=U.el,E=U.event,ee=U.handler,Q=U.middleware,N=E.path||E.composedPath&&E.composedPath();(N?N.indexOf($)<0:!$.contains(E.target))&&m({event:E,handler:ee,middleware:Q})}({el:Y,event:A,handler:q,middleware:L})},capture:H}}),I){var M={event:"blur",srcTarget:window,handler:function(C){return function(A){var U=A.el,$=A.event,E=A.handler,ee=A.middleware;setTimeout(function(){var Q=document.activeElement;Q&&Q.tagName==="IFRAME"&&!U.contains(Q)&&m({event:$,handler:E,middleware:ee})},0)}({el:Y,event:C,handler:q,middleware:L})},capture:H};Y[s]=[].concat(Y[s],[M])}Y[s].forEach(function(C){var A=C.event,U=C.srcTarget,$=C.handler;return setTimeout(function(){Y[s]&&U.addEventListener(A,$,H)},0)})}},x=function(Y){(Y[s]||[]).forEach(function(O){return O.srcTarget.removeEventListener(O.event,O.handler,O.capture)}),delete Y[s]},z=a?{beforeMount:n,updated:function(Y,O){var V=O.value,q=O.oldValue;JSON.stringify(V)!==JSON.stringify(q)&&(x(Y),n(Y,{value:V}))},unmounted:x}:{};return{install:function(Y){Y.directive("click-outside",z)},directive:z}})})(tk);var xX=tk.exports;const bX=wd(xX),wX={props:{options:Array,type:{type:String,default:"select"},default:{type:Array,default:()=>[]}},data(){return{show:!1,selected:[]}},methods:{showDropdown(){this.show=!this.show},hide(){this.show=!1},groupBy(e,t){return e.reduce((s,a,c)=>{var h;return(s[h=t(a,c,e)]||(s[h]=[])).push(a),s},{})}},computed:{groups(){return this.options.length>0&&this.options[0].hasOwnProperty("group")?this.groupBy(this.options,e=>e.group):this.options},selectAll:{get(){return this.options?this.selected.length==this.options.length:!1},set(e){e?this.selected=this.options:this.selected=[]}}},watch:{selected(e){this.$emit("checked",e)},default(e){this.selected=e}},directives:{clickOutside:bX.directive}},SX={class:"dd"},TX={id:"list1",class:"dropdown-check-list",tabindex:"100"},CX=Sd('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-adjustments-horizontal" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 6l8 0"></path><path d="M16 6l4 0"></path><path d="M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 12l2 0"></path><path d="M10 12l10 0"></path><path d="M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 18l11 0"></path><path d="M19 18l1 0"></path></svg>',1),EX=[CX],MX={key:2,class:"items"},AX={class:"bb"},kX={for:"check-all"},PX={key:0},DX=["id","value"],IX=["for"],LX={key:1},OX=["id","value"],RX=["for"];function BX(e,t,s,a,c,h){const m=yx("click-outside");return Os((yt(),St("div",SX,[Ne("div",TX,[s.type=="select"?(yt(),St("span",{key:0,class:"anchor form-control",onClick:t[0]||(t[0]=(...n)=>h.showDropdown&&h.showDropdown(...n))}," Select Parameter ")):rn("",!0),s.type=="icon"?(yt(),St("span",{key:1,class:"icon",onClick:t[1]||(t[1]=(...n)=>h.showDropdown&&h.showDropdown(...n))},EX)):rn("",!0),c.show?(yt(),St("ul",MX,[Ne("li",AX,[Ne("div",null,[Os(Ne("input",{id:"check-all",type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=n=>h.selectAll=n)},null,512),[[kh,h.selectAll]]),Ne("label",kX,[h.selectAll?(yt(),St(en,{key:1},[mr("Uncheck All")],64)):(yt(),St(en,{key:0},[mr("Check All")],64))])])]),(yt(!0),St(en,null,Kn(h.groups,(n,x)=>(yt(),St("li",{key:x},[Array.isArray(n)?(yt(),St("div",PX,[Ne("span",null,Fi(x),1),(yt(!0),St(en,null,Kn(n,(z,Y)=>(yt(),St("div",{key:Y},[Os(Ne("input",{type:"checkbox",id:Y,value:z,"onUpdate:modelValue":t[3]||(t[3]=O=>c.selected=O)},null,8,DX),[[kh,c.selected]]),Ne("label",{for:Y},Fi(z.text),9,IX)]))),128))])):rn("",!0),Array.isArray(n)?rn("",!0):(yt(),St("div",LX,[Os(Ne("input",{type:"checkbox",id:x,value:n,"onUpdate:modelValue":t[4]||(t[4]=z=>c.selected=z)},null,8,OX),[[kh,c.selected]]),Ne("label",{for:x},Fi(n.text),9,RX)]))]))),128))])):rn("",!0)])])),[[m,h.hide]])}const ik=Jn(wX,[["render",BX]]);$S(Fl);Q8(Fl);const zX={components:{Chart:o0.Chart,DateRange:VS,DropdownSelect:ik},props:{url:String,title:String,columns:Array},data(){return{params:{from:new Date(new Date().setDate(new Date().getDate()-1)).toISOString().split("T")[0].replace(/-/g,"-"),to:new Date().toISOString().split("T")[0].replace(/-/g,"-"),interval:60},defColumns:[],items:this.columns,options:{chart:{zoomType:"x"},exporting:{filename:this.title,sourceWidth:1600,sourceHeight:480,scale:1},time:{useUTC:!1,timezone:"Asia/Jakarta"},title:{text:""},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotLines:[{value:0,width:2,color:"silver"}]},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1}}},series:[],navigation:{menuItemStyle:{fontSize:"10px"}}}}},mounted(){this.defColumns=qv.sampleSize(this.columns,5)},methods:{download(){let e=[];this.items.forEach((a,c)=>{e[c]=a.data}),this.params.select=e;const t=new URLSearchParams(this.params).toString();let s=this.url+"/export?"+t+"&time="+Date.now();window.open(s)},selected(e){this.items=e,this.showChart()},updateDate(e){this.params.from=e.from,this.params.to=e.to},async showChart(){this.$refs.chart.chart.showLoading();let e=[],t=[],s=[];this.items.forEach((c,h)=>{let m=ek[h];t[h]={title:{text:c.text,style:{color:m,fontSize:"10px"}},lineColor:m,labels:{style:{color:m},align:"left",x:14},lineWidth:1,opposite:!0},c.range&&(t[h].min=c.range[0],t[h].max=c.range[1]),e[h]={id:c.data,row:c.data,yAxis:h,type:c.type?c.type:"spline",name:c.text,color:m,lineWidth:1,data:[]},s[h]=c.data}),this.options.series=e,this.options.yAxis=t,this.params.select=s,(await axios.get(this.url,{params:this.params}).then(c=>c.data)).forEach(c=>{let h=parseInt(new Date(c.terminal_time).getTime().toFixed(0));this.options.series.forEach((m,n)=>{let x=c[m.row];this.options.series[n].data.push([h,x])})}),this.$refs.chart.chart.hideLoading()}}},NX={class:"row"},FX={class:"col-12"},jX={class:"table-title mb-4 mt-2"},UX={class:"row justify-content-end"},$X={class:"col-6"},GX={class:"col-6"},VX={class:"d-flex align-items-center justify-content-end gap-1"},HX=Ne("option",{value:"5"},"5m",-1),WX=Ne("option",{value:"30"},"30m",-1),YX=Ne("option",{value:"60"},"1 H",-1),qX=Ne("option",{value:"1440"},"1 D",-1),XX=[HX,WX,YX,qX];function ZX(e,t,s,a,c,h){const m=Un("dropdown-select"),n=Un("date-range"),x=Un("Chart");return yt(),St("div",NX,[Ne("div",FX,[Ne("div",jX,[Ne("h6",null,Fi(s.title),1)]),Ne("div",UX,[Ne("div",$X,[Qi(m,{options:s.columns,onChecked:h.selected,default:c.defColumns},null,8,["options","onChecked","default"])]),Ne("div",GX,[Ne("div",VX,[Qi(n,{from:c.params.from,to:c.params.to,onChange:h.updateDate},null,8,["from","to","onChange"]),Os(Ne("select",{class:"form-control w-5 bordered","onUpdate:modelValue":t[0]||(t[0]=z=>c.params.interval=z)},XX,512),[[$a,c.params.interval]]),Ne("button",{onClick:t[1]||(t[1]=(...z)=>h.showChart&&h.showChart(...z)),class:"btn btn-primary"},"SHOW"),Ne("button",{onClick:t[2]||(t[2]=(...z)=>h.download&&h.download(...z)),class:"btn btn-primary"},"Download Data")])])]),Qi(x,{ref:"chart",options:c.options,constructorType:"stockChart"},null,8,["options"])])])}const KX=Jn(zX,[["render",ZX]]);$S(Fl);Q8(Fl);const JX={components:{Chart:o0.Chart,DateRange:VS,DropdownSelect:ik},props:{url:String,title:String,columns:Array,socketConfig:Object,fleet:Object},data(){return{socket:null,connected:!1,defColumns:[],params:{},items:this.columns,options:{chart:{zoomType:"x"},exporting:{filename:this.title,sourceWidth:1600,sourceHeight:480,scale:1},time:{useUTC:!1,timezone:"Asia/Jakarta"},title:{text:""},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotLines:[{value:0,width:2,color:"silver"}]},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1}}},series:[],navigation:{menuItemStyle:{fontSize:"10px"}}}}},async mounted(){this.defColumns=await qv.sampleSize(this.columns,3),setInterval(()=>this.fetchData(),5*1e3),await this.showChart()},methods:{selected(e){this.items=e,this.showChart()},onMessage(e){let t=JSON.parse(e.toString()),s=parseInt(new Date(t.terminal_time).getTime().toFixed(0));this.options.series.forEach((a,c)=>{this.options.series[c].data.shift();let h=t[a.row];this.options.series[c].data.push([s,h])})},async fetchData(){let e=await axios.get(this.url).then(s=>s.data),t=parseInt(new Date(e.terminal_time).getTime().toFixed(0));this.options.series.forEach((s,a)=>{this.options.series[a].data.length>100&&this.options.series[a].data.shift();let c=e[s.row];this.options.series[a].data.push([t,c])})},async showChart(){this.$refs.chart.chart.showLoading();let e=[],t=[],s=[];this.items.forEach((h,m)=>{let n=ek[m];t[m]={title:{text:h.text,style:{color:n,fontSize:"10px"}},lineColor:n,labels:{style:{color:n},align:"left",x:14},lineWidth:1,opposite:!0},h.range&&(t[m].min=h.range[0],t[m].max=h.range[1]),e[m]={id:h.data,row:h.data,yAxis:m,type:h.type?h.type:"spline",name:h.text,color:n,lineWidth:1,data:[]},s[m]=h.data}),this.options.series=e,this.options.yAxis=t,this.params.select=s;let a=await axios.get(this.url).then(h=>h.data),c=parseInt(new Date(a.terminal_time).getTime().toFixed(0));this.options.series.forEach((h,m)=>{let n=parseFloat(a[h.row]);this.options.series[m].data.push([c,n])}),this.$refs.chart.chart.hideLoading()}}},QX={class:"row"},eZ={class:"col-12"},tZ={class:"table-title mb-4 mt-2"},iZ={class:"row justify-content-end"},nZ={class:"col-12"};function sZ(e,t,s,a,c,h){const m=Un("dropdown-select"),n=Un("Chart");return yt(),St("div",QX,[Ne("div",eZ,[Ne("div",tZ,[Ne("h6",null,Fi(s.title),1)]),Ne("div",iZ,[Ne("div",nZ,[Qi(m,{options:s.columns,onChecked:h.selected,default:c.defColumns},null,8,["options","onChecked","default"])])]),Qi(n,{ref:"chart",options:c.options,constructorType:"stockChart"},null,8,["options"])])])}const rZ=Jn(JX,[["render",sZ]]),oZ={props:{title:String,fleet:Object,sensors:Array},data(){return{}}},aZ={class:"row"},lZ={class:"col-12"},cZ={class:"table-title"},dZ={class:"table table-sm"},hZ=Ne("th",{scope:"row"},"•",-1),uZ={class:"text-end"};function pZ(e,t,s,a,c,h){return yt(),St("div",aZ,[Ne("div",lZ,[Ne("div",cZ,[Ne("h6",null,Fi(s.title),1)]),Ne("table",dZ,[Ne("tbody",null,[(yt(!0),St(en,null,Kn(s.sensors,(m,n)=>(yt(),St("tr",null,[hZ,Ne("td",null,Fi(m.name),1),Ne("td",uZ,Fi(m.value)+" "+Fi(m.unit),1)]))),256))])])])])}const fZ=Jn(oZ,[["render",pZ]]),mZ={props:{svgPath:String,url:String,group:String},components:{ChartSvg:Hm},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet[this.group];if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(s=>{t.includes(s)||(this.data[s+"_bar"]=engine[s]*1e3)}),this.data.fleet_name=this.fleet.name}}}};function gZ(e,t,s,a,c,h){const m=Un("chart-svg");return yt(),St("div",null,[Qi(m,{path:s.svgPath,svgData:c.data,height:550},null,8,["path","svgData"])])}const _Z=Jn(mZ,[["render",gZ]]),yZ={props:{info:Object},emits:["close"],watch:{info:function(e,t){console.log(e)}}},vZ={class:"voyage-section"},xZ={class:"card voyage-card"},bZ={class:"card-header justify-content-between"},wZ=["src"],SZ=Ne("h5",{class:"fw-normal m-0"},"Information",-1),TZ={class:"card-body"};function CZ(e,t,s,a,c,h){return yt(),St("div",vZ,[Ne("div",xZ,[Ne("div",bZ,[Ne("button",{onClick:t[0]||(t[0]=m=>e.$emit("close",!0)),class:"btn btn-link bg-transparent p-0"},[Ne("img",{src:"/img/icons/close-fill.png",alt:""},null,8,wZ)]),SZ]),Ne("div",TZ,Fi(s.info),1)])])}const EZ=Jn(yZ,[["render",CZ]]),MZ={components:{SideInfo:EZ,Teleport:vx},props:{url:String,mapping:Array},data(){return{data:null,infoOpened:!1,info:null}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3),new hk(document.body,{selector:"[data-bs-toggle='tooltip']"})},methods:{async fetchData(){this.data=await axios.get(this.url).then(e=>e.data)},isNumber(e){return isNaN(e)},openRecomend(e){this.info=e},buildTooltip(e,t){if(e.reverse){if(e.normal<t)return"IS VERY LOW";if(e.danger>t)return"IS VERY HIGH"}else{if(e.normal>t)return"IS VERY LOW";if(e.danger<t)return"IS VERY HIGH"}return"NORMAL"}}},AZ={class:"row"},kZ={class:"col-12"},PZ=Ne("div",{class:"table-title"},[Ne("h6",null,"Data Information")],-1),DZ={key:0,class:"table table-sm"},IZ=Ne("th",{scope:"row"},"•",-1),LZ=Ne("td",null,"Updated at",-1),OZ={class:"text-end"},RZ=Ne("th",{scope:"row"},"•",-1),BZ={key:0,class:"text-end"},zZ=["onClick","title"],NZ=Ne("img",{src:"/icon/danger.svg",height:"16"},null,-1),FZ=[NZ],jZ=["innerHTML"],UZ={key:1};function $Z(e,t,s,a,c,h){const m=Un("SideInfo");return yt(),St("div",AZ,[Ne("div",kZ,[PZ,c.data?(yt(),St("table",DZ,[Ne("tbody",null,[Ne("tr",null,[IZ,LZ,Ne("td",OZ,Fi(c.data.terminal_time),1)]),(yt(!0),St(en,null,Kn(s.mapping,n=>(yt(),St("tr",{key:n.data},[RZ,Ne("td",null,Fi(n.text),1),h.isNumber(n.data)?(yt(),St("td",BZ,[n.condition=="ABNORMAL"&&n.is_ams?(yt(),St("a",{key:0,href:"#",onClick:x=>h.openRecomend(n),"data-bs-toggle":"tooltip","data-bs-placement":"top",title:h.buildTooltip(n,c.data[n.data])},FZ,8,zZ)):rn("",!0),mr(" "+Fi(e.$filters.number(c.data[n.data]))+" ",1),Ne("span",{innerHTML:n.unit},null,8,jZ)])):(yt(),St("td",UZ,Fi(c.data[n.data]),1))]))),128))])])):rn("",!0)]),(yt(),ja(vx,{to:"#info"},[Os(Qi(m,{info:c.info,onClose:t[0]||(t[0]=n=>c.infoOpened=!1)},null,8,["info"]),[[r_,c.infoOpened]])]))])}const GZ=Jn(MZ,[["render",$Z]]),VZ={components:{MapboxMap:f_,MapboxNavigationControl:m_},props:{lat:String,lng:String,style:Object},data(){return{map:null,location:{lat:0,lng:0},marker:null}},methods:{loaded(){this.location={lat:this.lat,lng:this.lng},this.marker=new hl.Marker,this.marker.setLngLat(this.location).addTo(this.map),this.map.on("click",this.addMarker.bind(this))},addMarker(e){this.location=e.lngLat,this.marker.setLngLat(this.location).addTo(this.map)}}},HZ={class:"col-12"},WZ={class:"mapbox-pinned"},YZ={class:"col-12"},qZ={class:"form-group mb-3"},XZ=Ne("label",null,"Latitude",-1),ZZ={class:"col-12"},KZ={class:"form-group mb-3"},JZ=Ne("label",null,"Longitude",-1);function QZ(e,t,s,a,c,h){const m=Un("MapboxNavigationControl"),n=Un("MapboxMap");return yt(),St(en,null,[Ne("div",HZ,[Ne("div",WZ,[Qi(n,{onMbCreated:t[0]||(t[0]=x=>c.map=x),onMbLoad:h.loaded,style:da(s.style),"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:[c.location.lng,c.location.lat],zoom:7},{default:To(()=>[Qi(m,{position:"bottom-right"})]),_:1},8,["onMbLoad","style","center"])])]),Ne("div",YZ,[Ne("div",qZ,[XZ,Os(Ne("input",{name:"lat",type:"text","onUpdate:modelValue":t[1]||(t[1]=x=>c.location.lat=x),class:"form-control"},null,512),[[Aa,c.location.lat]])])]),Ne("div",ZZ,[Ne("div",KZ,[JZ,Os(Ne("input",{name:"lng",type:"text","onUpdate:modelValue":t[2]||(t[2]=x=>c.location.lng=x),class:"form-control"},null,512),[[Aa,c.location.lng]])])])],64)}const eK=Jn(VZ,[["render",QZ]]),tK={props:{svgPath:String,url:String,group:String,debug:{type:Boolean,default:!1}},components:{ChartSvg:Hm},data(){return{data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){let e=await axios.get(this.url).then(t=>t.data);if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(s=>{t.includes(s)||(this.data[s+"_bar"]=e[s]*1e3)})}}}},iK={key:0};function nK(e,t,s,a,c,h){const m=Un("chart-svg");return yt(),St("div",null,[Qi(m,{path:s.svgPath,svgData:c.data,height:550},null,8,["path","svgData"]),s.debug?(yt(),St("div",iK,Fi(c.data),1)):rn("",!0)])}const sK=Jn(tK,[["render",nK]]),rK={props:{path:String,group:String,fleetId:String},data(){return{location:null,isLoading:!1}},mounted(){this.location="/"+this.path},methods:{upload(e){this.isLoading=!0;let t=e.target.files[0],s=new FormData;s.append("file",t),s.append("group",this.group),s.append("fleet_id",this.fleetId);let a=this;axios.post("/upload/svg",s,{headers:{"Content-Type":"multipart/form-data"}}).then(function(c){a.location="/"+c.data.path,a.isLoading=!1}).catch(function(c){console.log(c),a.isLoading=!1})}}},oK={class:"card"},aK={class:"card-body"},lK=["src"],cK={class:"card-footer m-0 p-0"},dK={class:"loading"};function hK(e,t,s,a,c,h){return yt(),St("div",oK,[Ne("div",aK,[c.location?(yt(),St("img",{key:0,src:c.location},null,8,lK)):rn("",!0)]),Ne("div",cK,[Ne("input",{id:"mimic",type:"file",ref:"file",class:"form-control",onChange:t[0]||(t[0]=(...m)=>h.upload&&h.upload(...m))},null,544)]),Os(Ne("div",dK,"Loading...",512),[[r_,c.isLoading]])])}const uK=Jn(rK,[["render",hK],["__scopeId","data-v-c750de45"]]),pK={props:{action:String},methods:{inputOnChange(e){console.log(e)}}},fK=Ne("button",{class:"btn-upload"},[Ne("img",{src:"/img/icons/upload.svg",height:"26"})],-1);function mK(e,t,s,a,c,h){return yt(),St("div",null,[Ne("input",{type:"file",ref:"fileInput",onChange:t[0]||(t[0]=(...m)=>h.inputOnChange&&h.inputOnChange(...m))},null,544),fK])}const gK=Jn(pK,[["render",mK]]);var _K=Object.defineProperty,yK=Object.defineProperties,vK=Object.getOwnPropertyDescriptors,H5=Object.getOwnPropertySymbols,xK=Object.prototype.hasOwnProperty,bK=Object.prototype.propertyIsEnumerable,W5=(e,t,s)=>t in e?_K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Th=(e,t)=>{for(var s in t||(t={}))xK.call(t,s)&&W5(e,s,t[s]);if(H5)for(var s of H5(t))bK.call(t,s)&&W5(e,s,t[s]);return e},_v=(e,t)=>yK(e,vK(t)),Np=(e,t)=>{const s=e.__vccOpts||e;for(const[a,c]of t)s[a]=c;return s};const wK=e=>(Ul("data-v-e0a0b7f0"),e=e(),$l(),e),SK=["onClick"],TK=["checked"],CK=wK(()=>Ne("label",{for:"checbox"},null,-1)),EK=$c({__name:"MultipleSelectCheckBox",props:{status:{type:String,required:!0}},emits:["change"],setup(e,{emit:t}){const s=e;Tu(m=>({"51ab8a49":Oi(h)}));const a=ts(()=>s.status==="allSelected"),c=()=>{t("change",!a.value)},h=pc("themeColor");return(m,n)=>(yt(),St("div",{class:"easy-checkbox",onClick:Rc(c,["stop","prevent"])},[Ne("input",{type:"checkbox",checked:Oi(a),class:Xn(e.status)},null,10,TK),CK],8,SK))}});var MK=Np(EK,[["__scopeId","data-v-e0a0b7f0"]]);const AK=e=>(Ul("data-v-7e69a276"),e=e(),$l(),e),kK=["checked"],PK=AK(()=>Ne("label",{for:"checbox"},null,-1)),DK=$c({__name:"SingleSelectCheckBox",props:{checked:{type:Boolean,required:!0}},emits:["change"],setup(e,{emit:t}){Tu(a=>({fdaf7e9e:Oi(s)}));const s=pc("themeColor");return(a,c)=>(yt(),St("div",{class:"easy-checkbox",onClick:c[0]||(c[0]=Rc(h=>t("change"),["stop","prevent"]))},[Ne("input",{type:"checkbox",checked:e.checked},null,8,kK),PK]))}});var IK=Np(DK,[["__scopeId","data-v-7e69a276"]]);const LK=e=>(Ul("data-v-4ca5de3a"),e=e(),$l(),e),OK={class:"easy-data-table__rows-selector"},RK={class:"rows-input"},BK=LK(()=>Ne("div",{class:"triangle"},null,-1)),zK=["onClick"],NK=$c({__name:"RowsSelector",props:{modelValue:{type:Number,required:!0},rowsItems:{type:Array,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e;Tu(O=>({"1b889342":Oi(Y)}));const a=ks(!1),c=ks(!1),h=pc("dataTable");Gr(a,O=>{if(O&&h){const V=window.innerHeight,q=h.value.getBoundingClientRect().height,L=h.value.getBoundingClientRect().top;V-(q+L)<=100?c.value=!0:c.value=!1}});const m=ts({get:()=>s.modelValue,set:O=>{t("update:modelValue",O)}}),n=O=>{m.value=O,a.value=!1},x=(O,V)=>{let q=O.parentNode;for(;q!=null;){if(q.classList&&q.classList.contains(V))return!0;q=q.parentNode}return!1},z=O=>{x(O.target,"easy-data-table__rows-selector")||(a.value=!1)};Gc(()=>{document.addEventListener("click",z)}),Bp(()=>{document.removeEventListener("click",z)});const Y=pc("themeColor");return(O,V)=>(yt(),St("div",OK,[Ne("div",{class:"rows-input__wrapper",onClick:V[0]||(V[0]=q=>a.value=!a.value)},[Ne("div",RK,Fi(Oi(m)),1),BK]),Ne("ul",{class:Xn(["select-items",{show:a.value,inside:c.value}])},[(yt(!0),St(en,null,Kn(e.rowsItems,q=>(yt(),St("li",{key:q,class:Xn({selected:q===Oi(m)}),onClick:L=>n(q)},Fi(q),11,zK))),128))],2)]))}});var FK=Np(NK,[["__scopeId","data-v-4ca5de3a"]]);const Gx=e=>(Ul("data-v-1fa3a520"),e=e(),$l(),e),jK={class:"lds-ring"},UK=Gx(()=>Ne("div",null,null,-1)),$K=Gx(()=>Ne("div",null,null,-1)),GK=Gx(()=>Ne("div",null,null,-1)),VK=Gx(()=>Ne("div",null,null,-1)),HK=[UK,$K,GK,VK],WK=$c({__name:"Loading",setup(e){Tu(s=>({26774109:Oi(t)}));const t=pc("themeColor");return(s,a)=>(yt(),St("div",jK,HK))}});var YK=Np(WK,[["__scopeId","data-v-1fa3a520"]]);const qK={class:"loader-line"},XK=$c({__name:"LoadingLine",setup(e){Tu(s=>({"0d327f57":Oi(t)}));const t=pc("themeColor");return(s,a)=>(yt(),St("div",qK))}});var ZK=Np(XK,[["__scopeId","data-v-7d281cac"]]);const KK={class:"buttons-pagination"},JK=["onClick"],QK=$c({__name:"ButtonsPagination",props:{maxPaginationNumber:{type:Number,required:!0},currentPaginationNumber:{type:Number,required:!0}},emits:["updatePage"],setup(e,{emit:t}){const s=e;Tu(n=>({"40dd4f07":Oi(m)}));const a=7,c=n=>{n.type==="button"&&!n.active&&t("updatePage",n.page)},h=ts(()=>{const n=[];if(s.maxPaginationNumber<=a)for(let x=1;x<=s.maxPaginationNumber;x+=1)n.push({type:"button",page:x,active:x===s.currentPaginationNumber,activePrev:x+1===s.currentPaginationNumber});else if([1,2,s.maxPaginationNumber,s.maxPaginationNumber-1].includes(s.currentPaginationNumber))for(let x=1;x<=a;x+=1)if(x<=3)n.push({type:"button",page:x,active:x===s.currentPaginationNumber,activePrev:x+1===s.currentPaginationNumber});else if(x===4)n.push({type:"omission"});else{const z=s.maxPaginationNumber-(a-x);n.push({type:"button",page:z,active:z===s.currentPaginationNumber,activePrev:z+1===s.currentPaginationNumber})}else if([3,4].includes(s.currentPaginationNumber))for(let x=1;x<=a;x+=1)x<=5?n.push({type:"button",page:x,active:x===s.currentPaginationNumber,activePrev:x+1===s.currentPaginationNumber}):x===6?n.push({type:"omission"}):n.push({type:"button",page:s.maxPaginationNumber,active:s.maxPaginationNumber===s.currentPaginationNumber,activePrev:x+1===s.currentPaginationNumber});else if([s.maxPaginationNumber-2,s.maxPaginationNumber-3].includes(s.currentPaginationNumber))for(let x=1;x<=a;x+=1)if(x===1)n.push({type:"button",page:1,active:s.currentPaginationNumber===1,activePrev:x+1===s.currentPaginationNumber});else if(x===2)n.push({type:"omission"});else{const z=s.maxPaginationNumber-(a-x);n.push({type:"button",page:z,active:z===s.currentPaginationNumber,activePrev:z+1===s.currentPaginationNumber})}else for(let x=1;x<=a;x+=1)if(x===1)n.push({type:"button",page:1,active:s.currentPaginationNumber===1,activePrev:x+1===s.currentPaginationNumber});else if(x===2||x===6)n.push({type:"omission"});else if(x===7)n.push({type:"button",page:s.maxPaginationNumber,active:s.maxPaginationNumber===s.currentPaginationNumber,activePrev:x+1===s.currentPaginationNumber});else{const z=4-x,Y=s.currentPaginationNumber-z;n.push({type:"button",page:Y,active:Y===s.currentPaginationNumber,activePrev:Y+1===s.currentPaginationNumber})}return n}),m=pc("themeColor");return(n,x)=>(yt(),St("div",KK,[(yt(!0),St(en,null,Kn(Oi(h),(z,Y)=>(yt(),St("div",{key:Y,class:Xn(["item",{button:z.type==="button",active:z.type==="button"&&z.active,"active-prev":z.type==="button"&&z.activePrev,omission:z.type==="omission"}]),onClick:O=>c(z)},Fi(z.type==="button"?z.page:"..."),11,JK))),128))]))}});var eJ=Np(QK,[["__scopeId","data-v-4c681fa2"]]);const nk=e=>(Ul("data-v-c9da5286"),e=e(),$l(),e),tJ=nk(()=>Ne("span",{class:"arrow arrow-right"},null,-1)),iJ=[tJ],nJ=nk(()=>Ne("span",{class:"arrow arrow-left"},null,-1)),sJ=[nJ],rJ=$c({__name:"PaginationArrows",props:{isFirstPage:{type:Boolean,required:!1},isLastPage:{type:Boolean,required:!1}},emits:["clickPrevPage","clickNextPage"],setup(e,{emit:t}){const s=wx();return(a,c)=>(yt(),St(en,null,[Ne("div",{class:Xn(["previous-page__click-button",{"first-page":e.isFirstPage}]),onClick:c[0]||(c[0]=h=>t("clickPrevPage"))},iJ,2),Oi(s).buttonsPagination?Er(a.$slots,"buttonsPagination",{key:0},void 0,!0):rn("",!0),Ne("div",{class:Xn(["next-page__click-button",{"last-page":e.isLastPage}]),onClick:c[1]||(c[1]=h=>t("clickNextPage"))},sJ,2)],64))}});var oJ=Np(rJ,[["__scopeId","data-v-c9da5286"]]);function aJ(e,t,s,a){return{clickRow:(h,m,n)=>{if(e.value!==m)return;const x=Th({},h);if(t.value){const{checkbox:z}=h;delete x.checkbox,x.isSelected=z}if(s.value){const{index:z}=h;delete x.index,x.indexInCurrentPage=z}a("clickRow",x,n)}}}function lJ(e,t,s){const a=ks([]);return{expandingItemIndexList:a,updateExpandingItemIndexList:(m,n,x)=>{x.stopPropagation();const z=a.value.indexOf(m);if(z!==-1)a.value.splice(z,1);else{const Y=e.value.findIndex(O=>JSON.stringify(O)===JSON.stringify(n));s("expandRow",t.value+Y,n),a.value.push(t.value+Y)}},clearExpandingItemIndexList:()=>{a.value=[]}}}function cJ(e){const t=ts(()=>e.value.filter(c=>c.fixed)),s=ts(()=>t.value.length?t.value[t.value.length-1].value:""),a=ts(()=>{if(!t.value.length)return[];const c=t.value.map(h=>{var m;return(m=h.width)!=null?m:100});return t.value.map((h,m)=>{var n,x;return{value:h.value,fixed:(n=h.fixed)!=null?n:!0,width:(x=h.width)!=null?x:100,distance:m===0?0:c.reduce((z,Y,O)=>{let V=z;return O<m&&(V+=Y),V})}})});return{fixedHeaders:t,lastFixedColumn:s,fixedColumnsInfos:a}}function dJ(e,t,s,a,c,h,m,n,x,z,Y,O,V,q,L,I,H,M,C){const A=ts(()=>m.value.findIndex(P=>P.fixed)!==-1),U=ts(()=>A.value?m.value.filter(P=>P.fixed):[]),$=ts(()=>m.value.filter(P=>!P.fixed)),ee=ks(((P,f)=>Array.isArray(P)&&Array.isArray(f)?{sortBy:P,sortDesc:f.map(g=>g==="desc")}:P!==""?{sortBy:L.value,sortDesc:I.value==="desc"}:null)(L.value,I.value)),Q=ts(()=>{var P;const g=[...U.value,...$.value].map(te=>{const Z=Object.assign(te);if(Z.sortable&&(Z.sortType="none"),V.value)if(Array.isArray(V.value.sortBy)&&Array.isArray(V.value.sortType)&&V.value.sortBy.includes(Z.value)){const de=V.value.sortBy.indexOf(Z.value);Z.sortType=V.value.sortType[de]}else Z.value===V.value.sortBy&&V.value.sortType&&(Z.sortType=V.value.sortType);if(ee.value&&Array.isArray(ee.value.sortBy)&&Array.isArray(ee.value.sortDesc)&&ee.value.sortBy.includes(Z.value)){const de=ee.value.sortBy.indexOf(Z.value);Z.sortType=ee.value.sortDesc[de]?"desc":"asc"}else ee.value&&Z.value===ee.value.sortBy&&(Z.sortType=ee.value.sortDesc?"desc":"asc");return Z});let b=[];n.value?b=[c.value||A.value?{text:"",value:"expand",fixed:!0,width:s.value}:{text:"",value:"expand"},...g]:b=g;let D=[];q.value?D=[h.value||A.value?{text:e.value,value:"index",fixed:!0,width:x.value}:{text:e.value,value:"index"},...b]:D=b;let X=[];return z.value?X=[a.value||A.value?{text:"checkbox",value:"checkbox",fixed:!0,width:(P=t.value)!=null?P:36}:{text:"checkbox",value:"checkbox"},...D]:X=D,X}),N=ts(()=>Q.value.map(P=>P.value));return{clientSortOptions:ee,headerColumns:N,headersForRender:Q,updateSortField:(P,f)=>{let g=null;if(f==="none"?g="asc":f==="asc"?g="desc":g=O.value?"asc":null,Y.value&&M(P,g),ee.value&&Array.isArray(ee.value.sortBy)&&Array.isArray(ee.value.sortDesc)){const b=ee.value.sortBy.indexOf(P);b===-1?g!==null&&(ee.value.sortBy.push(P),ee.value.sortDesc.push(g==="desc")):g===null?(ee.value.sortDesc.splice(b,1),ee.value.sortBy.splice(b,1)):ee.value.sortDesc[b]=g==="desc"}else g===null?ee.value=null:ee.value={sortBy:P,sortDesc:g==="desc"};C("updateSort",{sortType:g,sortBy:P})},isMultiSorting:P=>V.value&&Array.isArray(V.value.sortBy)?V.value.sortBy.includes(P):ee.value&&Array.isArray(ee.value.sortBy)?ee.value.sortBy.includes(P):!1,getMultiSortNumber:P=>V.value&&Array.isArray(V.value.sortBy)?V.value.sortBy.indexOf(P)+1:ee.value&&Array.isArray(ee.value.sortBy)?ee.value.sortBy.indexOf(P)+1:!1}}function hJ(e,t,s,a,c,h,m,n,x){const z=ts(()=>(e.value-1)*c.value+1),Y=ts(()=>s.value?Math.min(x.value,e.value*c.value):Math.min(n.value.length,e.value*c.value)),O=ts(()=>s.value?a.value:n.value.slice(z.value-1,Y.value)),V=ts(()=>m.value?O.value.map((I,H)=>Th({index:z.value+H},I)):O.value),q=ts(()=>h.value.length===0||h.value.every(H=>n.value.findIndex(M=>JSON.stringify(H)===JSON.stringify(M))===-1)?"noneSelected":h.value.length===n.value.length&&h.value.every(M=>n.value.findIndex(C=>JSON.stringify(M)===JSON.stringify(C))!==-1)?"allSelected":"partSelected"),L=ts(()=>t.value?q.value==="allSelected"?V.value.map(I=>Th({checkbox:!0},I)):q.value==="noneSelected"?V.value.map(I=>Th({checkbox:!1},I)):V.value.map(I=>{const H=h.value.findIndex(M=>{const C=Th({},I);return delete C.index,JSON.stringify(M)===JSON.stringify(C)})!==-1;return Th({checkbox:H},I)}):V.value);return{currentPageFirstIndex:z,currentPageLastIndex:Y,multipleSelectStatus:q,pageItems:L}}function uJ(e,t,s,a,c,h,m){const n=ks(h.value?h.value.page:e.value),x=ts(()=>Math.ceil(a.value/c.value)),z=ts(()=>x.value===0||n.value===x.value),Y=ts(()=>n.value===1);return{currentPaginationNumber:n,maxPaginationNumber:x,isLastPage:z,isFirstPage:Y,nextPage:()=>{if(a.value!==0&&!z.value&&!s.value)if(t.value){const I=n.value+1;m(I)}else n.value+=1},prevPage:()=>{if(a.value!==0&&!Y.value&&!s.value)if(t.value){const I=n.value-1;m(I)}else n.value-=1},updatePage:I=>{s.value||(t.value?m(I):n.value=I)},updateCurrentPaginationNumber:I=>{n.value=I}}}function pJ(e,t,s,a){const c=ts(()=>!e.value&&t.value.findIndex(n=>n===a.value)===-1?[a.value,...t.value]:t.value),h=ks(s.value?s.value.rowsPerPage:a.value);return{rowsItemsComputed:c,rowsPerPageRef:h,updateRowsPerPage:n=>{h.value=n}}}function fJ(e,t,s){const a=ts({get:()=>{if(e.value){const{page:n,rowsPerPage:x,sortBy:z,sortType:Y}=e.value;return{page:n,rowsPerPage:x,sortBy:z??null,sortType:Y??null}}return null},set:n=>{s("update:serverOptions",n)}});return{serverOptionsComputed:a,updateServerOptionsPage:n=>{a.value&&(a.value=_v(Th({},a.value),{page:n}))},updateServerOptionsSort:(n,x)=>{if(a.value)if(t.value&&Array.isArray(a.value.sortBy)&&Array.isArray(a.value.sortType)){const z=a.value.sortBy.findIndex(Y=>Y===n);z===-1&&x!==null&&(a.value.sortBy.push(n),a.value.sortType.push(x)),x===null?(a.value.sortBy.splice(z,1),a.value.sortType.splice(z,1)):a.value.sortType[z]=x}else a.value=_v(Th({},a.value),{sortBy:x!==null?n:null,sortType:x})},updateServerOptionsRowsPerPage:n=>{a.value&&(a.value=_v(Th({},a.value),{page:1,rowsPerPage:n}))}}}function zl(e,t){var s;if(e.includes(".")){const a=e.split("."),{length:c}=a;let h,m=0;for(;m<c;){if(m===0)h=t[a[0]];else if(h&&typeof h=="object")h=h[a[m]];else{h="";break}m+=1}return h??""}return(s=t[e])!=null?s:""}function mJ(e,t){const s=zl(e,t);return Array.isArray(s)?s.join(","):s}function gJ(e,t,s,a,c,h,m,n,x,z){const Y=A=>{if(typeof h.value=="string"&&h.value!=="")return zl(h.value,A);if(Array.isArray(h.value)){let U="";return h.value.forEach($=>{U+=zl($,A)}),U}return Object.values(A).join(" ")},O=ts(()=>{if(!s.value&&m.value!==""){const A=new RegExp(m.value,"i");return a.value.filter(U=>A.test(Y(U)))}return a.value}),V=ts(()=>{let A=[...O.value];return t.value?(t.value.forEach(U=>{A=A.filter($=>{const{field:E,comparison:ee,criteria:Q}=U;if(typeof ee=="function")return ee(zl(E,$),Q);const N=zl(E,$);switch(ee){case"=":return N===Q;case"!=":return N!==Q;case">":return N>Q;case"<":return N<Q;case"<=":return N<=Q;case">=":return N>=Q;case"between":return N>=Math.min(...Q)&&N<=Math.max(...Q);case"in":return Q.includes(N);default:return N===Q}})}),A):O.value});Gr(V,A=>{t.value&&z("updateFilter",A)},{immediate:!0,deep:!0});function q(A,U,$,E){const ee=A[E],Q=U[E];return(E===0?$:q(A,U,$,E-1)).sort((j,W)=>{let S=!0;for(let P=0;P<E;P+=1)if(zl(A[P],j)!==zl(A[P],W)){S=!1;break}return S?zl(ee,j)<zl(ee,W)?Q?1:-1:zl(ee,j)>zl(ee,W)?Q?-1:1:0:0})}const L=ts(()=>{if(s.value)return a.value;if(e.value===null)return V.value;const{sortBy:A,sortDesc:U}=e.value,$=[...V.value];return x&&Array.isArray(A)&&Array.isArray(U)?A.length===0?$:q(A,U,$,A.length-1):$.sort((E,ee)=>zl(A,E)<zl(A,ee)?U?1:-1:zl(A,E)>zl(A,ee)?U?-1:1:0)}),I=ts(()=>s.value?n.value:L.value.length),H=ts({get:()=>{var A;return(A=c.value)!=null?A:[]},set:A=>{z("update:itemsSelected",A)}});return{totalItems:L,selectItemsComputed:H,totalItemsLength:I,toggleSelectAll:A=>{H.value=A?L.value:[],A&&z("selectAll")},toggleSelectItem:A=>{const U=A.checkbox;if(delete A.checkbox,delete A.index,U)H.value=H.value.filter($=>JSON.stringify($)!==JSON.stringify(A)),z("deselectRow",A);else{const $=H.value;$.unshift(A),H.value=$,z("selectRow",A)}}}}var _J={alternating:{type:Boolean,default:!1},buttonsPagination:{type:Boolean,default:!1},checkboxColumnWidth:{type:Number,default:null},currentPage:{type:Number,default:1},emptyMessage:{type:String,default:"No Available Data"},expandColumnWidth:{type:Number,default:36},filterOptions:{type:Array,default:null},fixedExpand:{type:Boolean,default:!1},fixedHeader:{type:Boolean,default:!0},fixedCheckbox:{type:Boolean,default:!1},fixedIndex:{type:Boolean,default:!1},headerTextDirection:{type:String,default:"left"},bodyTextDirection:{type:String,default:"left"},hideFooter:{type:Boolean,default:!1},hideRowsPerPage:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},indexColumnWidth:{type:Number,default:60},itemsSelected:{type:Array,default:null},loading:{type:Boolean,default:!1},rowsPerPage:{type:Number,default:25},rowsItems:{type:Array,default:()=>[25,50,100]},rowsPerPageMessage:{type:String,default:"rows per page:"},searchField:{type:[String,Array],default:""},searchValue:{type:String,default:""},serverOptions:{type:Object,default:null},serverItemsLength:{type:Number,default:0},showIndex:{type:Boolean,default:!1},sortBy:{type:[String,Array],default:""},sortType:{type:[String,Array],default:"asc"},multiSort:{type:Boolean,default:!1},tableMinHeight:{type:Number,default:180},tableHeight:{type:Number,default:null},themeColor:{type:String,default:"#42b883"},tableClassName:{type:String,default:""},headerClassName:{type:String,default:""},headerItemClassName:{type:[Function,String],default:""},bodyRowClassName:{type:[Function,String],default:""},bodyExpandRowClassName:{type:[Function,String],default:""},bodyItemClassName:{type:[Function,String],default:""},noHover:{type:Boolean,default:!1},borderCell:{type:Boolean,default:!1},mustSort:{type:Boolean,default:!1},rowsOfPageSeparatorMessage:{type:String,default:"of"},clickEventType:{type:String,default:"single"},clickRowToExpand:{type:Boolean,default:!1},tableNodeId:{type:String,default:""},showIndexSymbol:{type:String,default:"#"},preventContextMenuRow:{type:Boolean,default:!0}};const yJ=e=>(Ul("data-v-32683533"),e=e(),$l(),e),vJ=["id"],xJ=["onClick"],bJ={key:3,class:"header-text"},wJ={key:5,class:"multi-sort__number"},SJ=["onClick","onDblclick","onContextmenu"],TJ=["onClick"],CJ=["colspan"],EJ={key:0,class:"vue3-easy-data-table__loading"},MJ=yJ(()=>Ne("div",{class:"vue3-easy-data-table__loading-mask"},null,-1)),AJ={class:"loading-entity"},kJ={key:1,class:"vue3-easy-data-table__message"},PJ={key:0,class:"vue3-easy-data-table__footer"},DJ={key:0,class:"pagination__rows-per-page"},IJ={class:"pagination__items-index"},LJ=$c({__name:"DataTable",props:_v(Th({},_J),{items:{type:Array,required:!0},headers:{type:Array,required:!0}}),emits:["clickRow","contextmenuRow","selectRow","deselectRow","expandRow","updateSort","updateFilter","update:itemsSelected","update:serverOptions","updatePageItems","updateTotalItems","selectAll"],setup(e,{expose:t,emit:s}){const a=e;Tu(_t=>({da0d4328:Oi(Ce),"3037e504":Oi(ge)}));const{tableNodeId:c,clickEventType:h,bodyTextDirection:m,checkboxColumnWidth:n,currentPage:x,expandColumnWidth:z,filterOptions:Y,fixedCheckbox:O,fixedExpand:V,fixedHeader:q,fixedIndex:L,headers:I,headerTextDirection:H,indexColumnWidth:M,items:C,itemsSelected:A,loading:U,mustSort:$,multiSort:E,rowsItems:ee,rowsPerPage:Q,searchField:N,searchValue:j,serverItemsLength:W,serverOptions:S,showIndex:P,sortBy:f,sortType:g,tableHeight:b,tableMinHeight:D,themeColor:X,rowsOfPageSeparatorMessage:te,showIndexSymbol:Z,preventContextMenuRow:de}=g3(a),ge=ts(()=>b.value?`${b.value}px`:null),Ce=ts(()=>`${D.value}px`);Mp("themeColor",X.value);const J=wx(),oe=ts(()=>!!J.pagination),ce=ts(()=>!!J.loading),pe=ts(()=>!!J.expand),Ee=ts(()=>!!J.body),ne=ks(),ye=ks();Mp("dataTable",ne);const _e=ks(!1);Gc(()=>{ye.value.addEventListener("scroll",()=>{_e.value=ye.value.scrollLeft>0})});const ae=ts(()=>A.value!==null),me=ts(()=>S.value!==null),{serverOptionsComputed:we,updateServerOptionsPage:Re,updateServerOptionsSort:Le,updateServerOptionsRowsPerPage:$e}=fJ(S,E,s),{clientSortOptions:rt,headerColumns:Qe,headersForRender:qe,updateSortField:Te,isMultiSorting:Oe,getMultiSortNumber:ze}=dJ(Z,n,z,O,V,L,I,pe,M,ae,me,$,we,P,f,g,E,Le,s),{rowsItemsComputed:Xe,rowsPerPageRef:Ke,updateRowsPerPage:pt}=pJ(me,ee,S,Q),{totalItems:Tt,selectItemsComputed:Bt,totalItemsLength:ci,toggleSelectAll:Wt,toggleSelectItem:ui}=gJ(rt,Y,me,C,A,N,j,W,E,s),{currentPaginationNumber:ji,maxPaginationNumber:Ii,isLastPage:wi,isFirstPage:Ci,nextPage:sn,prevPage:vn,updatePage:Gn,updateCurrentPaginationNumber:br}=uJ(x,me,U,ci,Ke,S,Re),{currentPageFirstIndex:us,currentPageLastIndex:Ps,multipleSelectStatus:nn,pageItems:qr}=hJ(ji,ae,me,C,Ke,Bt,P,Tt,ci),zo=ts(()=>ji.value===0?0:(ji.value-1)*Ke.value),{expandingItemIndexList:fa,updateExpandingItemIndexList:Ko,clearExpandingItemIndexList:lr}=lJ(qr,zo,s),{fixedHeaders:No,lastFixedColumn:Va,fixedColumnsInfos:ut}=cJ(qe),{clickRow:Fe}=aJ(h,ae,P,s),We=(_t,Nt)=>{de.value&&Nt.preventDefault(),s("contextmenuRow",_t,Nt)},dt=_t=>{var Nt;const Mt=(Nt=_t.width)!=null?Nt:No.value.length?100:null;if(Mt)return`width: ${Mt}px; min-width: ${Mt}px;`},vt=(_t,Nt="th")=>{if(!No.value.length)return;const Mt=ut.value.find(Lt=>Lt.value===_t);if(Mt)return`left: ${Mt.distance}px;z-index: ${Nt==="th"?3:1};position: sticky;`};return Gr(U,(_t,Nt)=>{we.value&&_t===!1&&Nt===!0&&(br(we.value.page),lr())}),Gr(Ke,_t=>{me.value?$e(_t):Gn(1)}),Gr([j,Y],()=>{me.value||Gn(1)}),Gr([ji,rt,N,j,Y],()=>{lr()},{deep:!0}),Gr(qr,_t=>{s("updatePageItems",_t)},{deep:!0}),Gr(Tt,_t=>{s("updateTotalItems",_t)},{deep:!0}),t({currentPageFirstIndex:us,currentPageLastIndex:Ps,clientItemsLength:ci,maxPaginationNumber:Ii,currentPaginationNumber:ji,isLastPage:wi,isFirstPage:Ci,nextPage:sn,prevPage:vn,updatePage:Gn,rowsPerPageOptions:Xe,rowsPerPageActiveOption:Ke,updateRowsPerPageActiveOption:pt}),(_t,Nt)=>(yt(),St("div",{ref_key:"dataTable",ref:ne,class:Xn(["vue3-easy-data-table",[_t.tableClassName]])},[Ne("div",{ref_key:"tableBody",ref:ye,class:Xn(["vue3-easy-data-table__main",{"fixed-header":Oi(q),"fixed-height":Oi(b),"show-shadow":_e.value,"table-fixed":Oi(No).length,hoverable:!_t.noHover,"border-cell":_t.borderCell}])},[Ne("table",{id:Oi(c)},[Ne("colgroup",null,[(yt(!0),St(en,null,Kn(Oi(qe),(Mt,Lt)=>(yt(),St("col",{key:Lt,style:da(dt(Mt))},null,4))),128))]),Oi(J)["customize-headers"]?Er(_t.$slots,"customize-headers",{key:0},void 0,!0):Oi(qe).length&&!_t.hideHeader?(yt(),St("thead",{key:1,class:Xn(["vue3-easy-data-table__header",[_t.headerClassName]])},[Ne("tr",null,[(yt(!0),St(en,null,Kn(Oi(qe),(Mt,Lt)=>(yt(),St("th",{key:Lt,class:Xn([{sortable:Mt.sortable,none:Mt.sortable&&Mt.sortType==="none",desc:Mt.sortable&&Mt.sortType==="desc",asc:Mt.sortable&&Mt.sortType==="asc",shadow:Mt.value===Oi(Va)},typeof _t.headerItemClassName=="string"?_t.headerItemClassName:_t.headerItemClassName(Mt,Lt+1)]),style:da(vt(Mt.value)),onClick:Rc(Ut=>Mt.sortable&&Mt.sortType?Oi(Te)(Mt.value,Mt.sortType):null,["stop"])},[Mt.text==="checkbox"?(yt(),ja(MK,{key:Oi(nn),status:Oi(nn),onChange:Oi(Wt)},null,8,["status","onChange"])):(yt(),St("span",{key:1,class:Xn(["header",`direction-${Oi(H)}`])},[Oi(J)[`header-${Mt.value}`]?Er(_t.$slots,`header-${Mt.value}`,Nl(gd({key:0},Mt)),void 0,!0):Oi(J)[`header-${Mt.value.toLowerCase()}`]?Er(_t.$slots,`header-${Mt.value.toLowerCase()}`,Nl(gd({key:1},Mt)),void 0,!0):Oi(J).header?Er(_t.$slots,"header",Nl(gd({key:2},Mt)),void 0,!0):(yt(),St("span",bJ,Fi(Mt.text),1)),Mt.sortable?(yt(),St("i",{key:Mt.sortType?Mt.sortType:"none",class:Xn(["sortType-icon",{desc:Mt.sortType==="desc"}])},null,2)):rn("",!0),Oi(E)&&Oi(Oe)(Mt.value)?(yt(),St("span",wJ,Fi(Oi(ze)(Mt.value)),1)):rn("",!0)],2))],14,xJ))),128))])],2)):rn("",!0),Oi(Ee)?Er(_t.$slots,"body",Nl(gd({key:2},Oi(qr))),void 0,!0):Oi(Qe).length?(yt(),St("tbody",{key:3,class:Xn(["vue3-easy-data-table__body",{"row-alternation":_t.alternating}])},[Er(_t.$slots,"body-prepend",Nl(xp({items:Oi(qr),pagination:{isFirstPage:Oi(Ci),isLastPage:Oi(wi),currentPaginationNumber:Oi(ji),maxPaginationNumber:Oi(Ii),nextPage:Oi(sn),prevPage:Oi(vn)},headers:Oi(qe)})),void 0,!0),(yt(!0),St(en,null,Kn(Oi(qr),(Mt,Lt)=>(yt(),St(en,{key:Lt},[Ne("tr",{class:Xn([{"even-row":(Lt+1)%2===0},typeof _t.bodyRowClassName=="string"?_t.bodyRowClassName:_t.bodyRowClassName(Mt,Lt+1)]),onClick:Ut=>{Oi(Fe)(Mt,"single",Ut),_t.clickRowToExpand&&Oi(Ko)(Lt+Oi(zo),Mt,Ut)},onDblclick:Ut=>{Oi(Fe)(Mt,"double",Ut)},onContextmenu:Ut=>{We(Mt,Ut)}},[(yt(!0),St(en,null,Kn(Oi(Qe),(Ut,mi)=>(yt(),St("td",{key:mi,style:da(vt(Ut,"td")),class:Xn([{shadow:Ut===Oi(Va),"can-expand":Ut==="expand"},typeof _t.bodyItemClassName=="string"?_t.bodyItemClassName:_t.bodyItemClassName(Ut,Lt+1),`direction-${Oi(m)}`]),onClick:Gi=>Ut==="expand"?Oi(Ko)(Lt+Oi(zo),Mt,Gi):null},[Oi(J)[`item-${Ut}`]?Er(_t.$slots,`item-${Ut}`,Nl(gd({key:0},Mt)),void 0,!0):Oi(J)[`item-${Ut.toLowerCase()}`]?Er(_t.$slots,`item-${Ut.toLowerCase()}`,Nl(gd({key:1},Mt)),void 0,!0):Ut==="expand"?(yt(),St("i",{key:2,class:Xn(["expand-icon",{expanding:Oi(fa).includes(Oi(zo)+Lt)}])},null,2)):Ut==="checkbox"?(yt(),ja(IK,{key:3,checked:Mt[Ut],onChange:Gi=>Oi(ui)(Mt)},null,8,["checked","onChange"])):Oi(J).item?Er(_t.$slots,"item",Nl(gd({key:4},{column:Ut,item:Mt})),void 0,!0):(yt(),St(en,{key:5},[mr(Fi(Oi(mJ)(Ut,Mt)),1)],64))],14,TJ))),128))],42,SJ),Oi(pe)&&Oi(fa).includes(Lt+Oi(zo))?(yt(),St("tr",{key:0,class:Xn([{"even-row":(Lt+1)%2===0},typeof _t.bodyExpandRowClassName=="string"?_t.bodyExpandRowClassName:_t.bodyExpandRowClassName(Mt,Lt+1)])},[Ne("td",{colspan:Oi(qe).length,class:"expand"},[Mt.expandLoading?(yt(),ja(ZK,{key:0,class:"expand-loading"})):rn("",!0),Er(_t.$slots,"expand",Nl(xp(Mt)),void 0,!0)],8,CJ)],2)):rn("",!0)],64))),128)),Er(_t.$slots,"body-append",Nl(xp({items:Oi(qr),pagination:{isFirstPage:Oi(Ci),isLastPage:Oi(wi),currentPaginationNumber:Oi(ji),maxPaginationNumber:Oi(Ii),nextPage:Oi(sn),prevPage:Oi(vn),updatePage:Oi(Gn)},headers:Oi(qe)})),void 0,!0)],2)):rn("",!0)],8,vJ),Oi(U)?(yt(),St("div",EJ,[MJ,Ne("div",AJ,[Oi(ce)?Er(_t.$slots,"loading",{key:0},void 0,!0):(yt(),ja(YK,{key:1}))])])):rn("",!0),!Oi(qr).length&&!Oi(U)?(yt(),St("div",kJ,[Er(_t.$slots,"empty-message",{},()=>[mr(Fi(_t.emptyMessage),1)],!0)])):rn("",!0)],2),_t.hideFooter?rn("",!0):(yt(),St("div",PJ,[_t.hideRowsPerPage?rn("",!0):(yt(),St("div",DJ,[mr(Fi(_t.rowsPerPageMessage)+" ",1),Qi(FK,{modelValue:Oi(Ke),"onUpdate:modelValue":Nt[0]||(Nt[0]=Mt=>Zo(Ke)?Ke.value=Mt:null),"rows-items":Oi(Xe)},null,8,["modelValue","rows-items"])])),Ne("div",IJ,Fi(`${Oi(us)}–${Oi(Ps)}`)+" "+Fi(Oi(te))+" "+Fi(Oi(ci)),1),Oi(oe)?Er(_t.$slots,"pagination",Nl(gd({key:1},{isFirstPage:Oi(Ci),isLastPage:Oi(wi),currentPaginationNumber:Oi(ji),maxPaginationNumber:Oi(Ii),nextPage:Oi(sn),prevPage:Oi(vn)})),void 0,!0):(yt(),ja(oJ,{key:2,"is-first-page":Oi(Ci),"is-last-page":Oi(wi),onClickNextPage:Oi(sn),onClickPrevPage:Oi(vn)},I3({_:2},[_t.buttonsPagination?{name:"buttonsPagination",fn:To(()=>[Qi(eJ,{"current-pagination-number":Oi(ji),"max-pagination-number":Oi(Ii),onUpdatePage:Oi(Gn)},null,8,["current-pagination-number","max-pagination-number","onUpdatePage"])]),key:"0"}:void 0]),1032,["is-first-page","is-last-page","onClickNextPage","onClickPrevPage"]))]))],2))}});var sk=Np(LJ,[["__scopeId","data-v-32683533"]]);typeof window<"u"&&window.Vue&&window.Vue.createApp({}).component("Vue3EasyDataTable",sk);const OJ={components:{EasyDataTable:sk},props:{columns:{type:Array,default:[]},url:String,title:String},data(){return{items:[],loading:!1,length:0,headers:[],filters:{},options:{page:1,rowsPerPage:25,sortBy:"terminal_date",sortType:"desc"}}},mounted(){this.buildHeaders(this.columns)},watch:{options:{handler:function(e,t){this.load()},deep:!0},columns:{handler:function(e,t){this.buildHeaders(e)},deep:!0}},methods:{async load(){this.loading=!0;let e=await axios.get(this.url,{params:this.filters}).then(t=>t.data);e.error||(this.items=e.data),this.page=e.meta.page,this.length=e.meta.length,this.rowsPerPage=e.meta.per_page,this.loading=!1},buildHeaders(e){let t=this;e.forEach(s=>{t.headers.push({text:s.text,value:s.data,sortable:s.is_ams})})}}},RJ={class:"row"},BJ={class:"col-12"},zJ={class:"table-title"},NJ={class:"col-12 mt-3"};function FJ(e,t,s,a,c,h){const m=Un("EasyDataTable");return yt(),St("div",RJ,[Ne("div",BJ,[Ne("div",zJ,[Ne("h6",null,Fi(s.title),1)])]),Ne("div",NJ,[Qi(m,{"server-options":c.options,"onUpdate:server-options":t[0]||(t[0]=n=>c.options=n),"server-items-length":c.length,loading:c.loading,headers:c.headers,items:c.items},null,8,["server-options","server-items-length","loading","headers","items"])])])}const jJ=Jn(OJ,[["render",FJ]]),Ks=q3({});Ks.use(Y7);Ks.use(H7);Ks.component("map-dashboard",wU);Ks.component("map-history",zU);Ks.component("map-default",$U);Ks.component("map-voyage",u$);Ks.component("map-bridge",w$);Ks.component("slider-submenu",uV);Ks.component("charts-fuel",LV);Ks.component("charts-graph",NV);Ks.component("charts-spline",$V);Ks.component("date-range",VS);Ks.component("fleet-information",yW);Ks.component("fleet-side-info",vY);Ks.component("fleet-cargo",AY);Ks.component("fleet-bunker",RY);Ks.component("fleet-ballast",$Y);Ks.component("compass",K8);Ks.component("engine-type-s",HY);Ks.component("user-permission",tq);Ks.component("user-fleets",hq);Ks.component("table-editable",yX);Ks.component("trend-view",KX);Ks.component("trend-live",rZ);Ks.component("sensor-info",fZ);Ks.component("mimic-svg",_Z);Ks.component("data-info",GZ);Ks.component("map-pinned",eK);Ks.component("fleet-mimic",sK);Ks.component("fleet-svg-upload",uK);Ks.component("file-upload",gK);Ks.component("datatable",jJ);Ks.config.globalProperties.$filters={dateformat(e,t="DD/MM/YYYY HH:mm"){return on(e,"YYYY-MM-DD HH:mm:ss").format(t)},str_limit(e,t=7){return e.toString().substring(0,t)},textFormat(e){return e.toLowerCase().capitalize()},number(e,t=2){let s=Number.parseFloat(e).toFixed(t);return Number.parseFloat(s).toLocaleString()}};Ks.mount("#app")});export default UJ();
